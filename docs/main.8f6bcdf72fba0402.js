"use strict";(self.webpackChunkThe_Natural_Way=self.webpackChunkThe_Natural_Way||[]).push([[179],{8726:(Ht,$e,Y)=>{Y.d($e,{Ot:()=>fe,ZF:()=>Lt,hX:()=>Xe,z6:()=>l});var b=Y(4097),se=Y(9468),ge=Y(6106);class fe{constructor(ot){return ot}}class l{constructor(){return(0,b.C6)()}}const Be=new se.OlP("angularfire2._apps"),Se={provide:fe,useFactory:function ve(ft){return ft&&1===ft.length?ft[0]:new fe((0,b.Mq)())},deps:[[new se.FiY,Be]]},ae={provide:l,deps:[[new se.FiY,Be]]};function ce(ft){return(ot,mt)=>{const pt=ot.runOutsideAngular(()=>ft(mt));return new fe(pt)}}let Ce=(()=>{class ft{constructor(mt){(0,b.KN)("angularfire",ge.q4.full,"core"),(0,b.KN)("angularfire",ge.q4.full,"app"),(0,b.KN)("angular",se.q4F.full,mt.toString())}}return ft.\u0275fac=function(mt){return new(mt||ft)(se.LFG(se.Lbi))},ft.\u0275mod=se.oAB({type:ft}),ft.\u0275inj=se.cJS({providers:[Se,ae]}),ft})();function Xe(ft,...ot){return{ngModule:Ce,providers:[{provide:Be,useFactory:ce(ft),multi:!0,deps:[se.R0b,se.zs3,ge.HU,...ot]}]}}const Lt=(0,ge.u3)(b.ZF,!0)},3477:(Ht,$e,Y)=>{Y.d($e,{gg:()=>KE,ET:()=>uA,Ab:()=>lA,vr:()=>dA,hJ:()=>hA,oe:()=>fA,JU:()=>pA,QT:()=>gA,PL:()=>mA,ad:()=>_A,b9:()=>vA,Xo:()=>yA,Cm:()=>cA,IO:()=>bA,pl:()=>IA,TQ:()=>wA,r7:()=>TA,ar:()=>EA});var b=Y(6106),se=Y(9468),ge=Y(8726),fe=Y(4097),l=Y(5861),le=Y(229),ve=Y(7592),Be=Y(7582),Se=Y(7879),ae=Y(6820);const wn=function Lt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Mt=new le.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ot=new Se.Yd("@firebase/auth");function pt(n,...e){ot.logLevel<=Se.in.ERROR&&ot.error(`Auth (${ve.Jn}): ${n}`,...e)}function Ue(n,...e){throw An(n,...e)}function ye(n,...e){return An(n,...e)}function An(n,...e){if("string"!=typeof n){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return Mt.create(n,...e)}function ct(n,e,...t){if(!n)throw An(e,...t)}function sn(n){const e="INTERNAL ASSERTION FAILED: "+n;throw pt(e),new Error(e)}function mn(n,e){n||sn(e)}function sr(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class Je{constructor(e,t){this.shortDelay=e,this.longDelay=t,mn(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,le.uI)()||(0,le.b$)()}get(){return function xe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function zn(){return"http:"===sr()||"https:"===sr()}()||(0,le.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class tt{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void sn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void sn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void sn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const vt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},xt=new Je(3e4,6e4);function an(n,e,t,i){return fn.apply(this,arguments)}function fn(){return(fn=(0,l.Z)(function*(n,e,t,i,a={}){return on(n,a,(0,l.Z)(function*(){let h={},g={};i&&("GET"===e?g=i:h={body:JSON.stringify(i)});const T=(0,le.xO)(Object.assign({key:n.config.apiKey},g)).slice(1),P=yield n._getAdditionalHeaders();return P["Content-Type"]="application/json",n.languageCode&&(P["X-Firebase-Locale"]=n.languageCode),tt.fetch()(Tr(n,n.config.apiHost,t,T),Object.assign({method:e,headers:P,referrerPolicy:"no-referrer"},h))}))})).apply(this,arguments)}function on(n,e,t){return wt.apply(this,arguments)}function wt(){return(wt=(0,l.Z)(function*(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},vt),e);try{const a=new Ee(n),h=yield Promise.race([t(),a.promise]);a.clearNetworkTimeout();const g=yield h.json();if("needConfirmation"in g)throw Oe(n,"account-exists-with-different-credential",g);if(h.ok&&!("errorMessage"in g))return g;{const T=h.ok?g.errorMessage:g.error.message,[P,U]=T.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===P)throw Oe(n,"credential-already-in-use",g);if("EMAIL_EXISTS"===P)throw Oe(n,"email-already-in-use",g);if("USER_DISABLED"===P)throw Oe(n,"user-disabled",g);const ee=i[P]||P.toLowerCase().replace(/[_\s]+/g,"-");if(U)throw function Qe(n,e,t){const i=Object.assign(Object.assign({},wn()),{[e]:t});return new le.LL("auth","Firebase",i).create(e,{appName:n.name})}(n,ee,U);Ue(n,ee)}}catch(a){if(a instanceof le.ZR)throw a;Ue(n,"network-request-failed",{message:String(a)})}})).apply(this,arguments)}function Tr(n,e,t,i){const a=`${e}${t}?${i}`;return n.config.emulator?function Le(n,e){mn(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}(n.config,a):`${n.config.apiScheme}://${a}`}class Ee{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(ye(this.auth,"network-request-failed")),xt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Oe(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=ye(n,e,i);return a.customData._tokenResponse=t,a}function st(){return(st=(0,l.Z)(function*(n,e){return an(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function yn(){return(yn=(0,l.Z)(function*(n,e){return an(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function tn(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Bn(){return(Bn=(0,l.Z)(function*(n,e=!1){const t=(0,le.m9)(n),i=yield t.getIdToken(e),a=mr(i);ct(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const h="object"==typeof a.firebase?a.firebase:void 0,g=h?.sign_in_provider;return{claims:a,token:i,authTime:tn(Kt(a.auth_time)),issuedAtTime:tn(Kt(a.iat)),expirationTime:tn(Kt(a.exp)),signInProvider:g||null,signInSecondFactor:h?.sign_in_second_factor||null}})).apply(this,arguments)}function Kt(n){return 1e3*Number(n)}function mr(n){const[e,t,i]=n.split(".");if(void 0===e||void 0===t||void 0===i)return pt("JWT malformed, contained fewer than 3 sections"),null;try{const a=(0,le.tV)(t);return a?JSON.parse(a):(pt("Failed to decode base64 JWT payload"),null)}catch(a){return pt("Caught error parsing JWT payload as JSON",a?.toString()),null}}function ln(n,e){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,l.Z)(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(i){throw i instanceof le.ZR&&function Vn({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})).apply(this,arguments)}class qn{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),i}{this.errorBackoff=3e4;const a=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout((0,l.Z)(function*(){yield t.iteration()}),i)}iteration(){var e=this;return(0,l.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class Pn{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=tn(this.lastLoginAt),this.creationTime=tn(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ni(n){return Tn.apply(this,arguments)}function Tn(){return Tn=(0,l.Z)(function*(n){var e;const t=n.auth,i=yield n.getIdToken(),a=yield ln(n,function lr(n,e){return yn.apply(this,arguments)}(t,{idToken:i}));ct(a?.users.length,t,"internal-error");const h=a.users[0];n._notifyReloadListener(h);const g=null!==(e=h.providerUserInfo)&&void 0!==e&&e.length?function et(n){return n.map(e=>{var{providerId:t}=e,i=(0,Be._T)(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}(h.providerUserInfo):[],T=function ri(n,e){return[...n.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}(n.providerData,g),ee=!!n.isAnonymous&&!(n.email&&h.passwordHash||T?.length),de={uid:h.localId,displayName:h.displayName||null,photoURL:h.photoUrl||null,email:h.email||null,emailVerified:h.emailVerified||!1,phoneNumber:h.phoneNumber||null,tenantId:h.tenantId||null,providerData:T,metadata:new Pn(h.createdAt,h.lastLoginAt),isAnonymous:ee};Object.assign(n,de)}),Tn.apply(this,arguments)}function br(){return(br=(0,l.Z)(function*(n){const e=(0,le.m9)(n);yield ni(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function We(){return(We=(0,l.Z)(function*(n,e){const t=yield on(n,{},(0,l.Z)(function*(){const i=(0,le.xO)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:h}=n.config,g=Tr(n,a,"/v1/token",`key=${h}`),T=yield n._getAdditionalHeaders();return T["Content-Type"]="application/x-www-form-urlencoded",tt.fetch()(g,{method:"POST",headers:T,body:i})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class yt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ct(e.idToken,"internal-error"),ct(typeof e.idToken<"u","internal-error"),ct(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function dr(n){const e=mr(n);return ct(e,"internal-error"),ct(typeof e.exp<"u","internal-error"),ct(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var i=this;return(0,l.Z)(function*(){return ct(!i.accessToken||i.refreshToken,e,"user-token-expired"),t||!i.accessToken||i.isExpired?i.refreshToken?(yield i.refresh(e,i.refreshToken),i.accessToken):null:i.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var i=this;return(0,l.Z)(function*(){const{accessToken:a,refreshToken:h,expiresIn:g}=yield function De(n,e){return We.apply(this,arguments)}(e,t);i.updateTokensAndExpiration(a,h,Number(g))})()}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:h}=t,g=new yt;return i&&(ct("string"==typeof i,"internal-error",{appName:e}),g.refreshToken=i),a&&(ct("string"==typeof a,"internal-error",{appName:e}),g.accessToken=a),h&&(ct("number"==typeof h,"internal-error",{appName:e}),g.expirationTime=h),g}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new yt,this.toJSON())}_performRefresh(){return sn("not implemented")}}function jt(n,e){ct("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class $t{constructor(e){var{uid:t,auth:i,stsTokenManager:a}=e,h=(0,Be._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=h.displayName||null,this.email=h.email||null,this.emailVerified=h.emailVerified||!1,this.phoneNumber=h.phoneNumber||null,this.photoURL=h.photoURL||null,this.isAnonymous=h.isAnonymous||!1,this.tenantId=h.tenantId||null,this.providerData=h.providerData?[...h.providerData]:[],this.metadata=new Pn(h.createdAt||void 0,h.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,l.Z)(function*(){const i=yield ln(t,t.stsTokenManager.getToken(t.auth,e));return ct(i,t.auth,"internal-error"),t.accessToken!==i&&(t.accessToken=i,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),i})()}getIdTokenResult(e){return function gn(n){return Bn.apply(this,arguments)}(this,e)}reload(){return function Un(n){return br.apply(this,arguments)}(this)}_assign(e){this!==e&&(ct(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new $t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ct(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var i=this;return(0,l.Z)(function*(){let a=!1;e.idToken&&e.idToken!==i.stsTokenManager.accessToken&&(i.stsTokenManager.updateFromServerResponse(e),a=!0),t&&(yield ni(i)),yield i.auth._persistUserIfCurrent(i),a&&i.auth._notifyListenersIfCurrent(i)})()}delete(){var e=this;return(0,l.Z)(function*(){const t=yield e.getIdToken();return yield ln(e,function Me(n,e){return st.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,a,h,g,T,P,U,ee;const de=null!==(i=t.displayName)&&void 0!==i?i:void 0,Fe=null!==(a=t.email)&&void 0!==a?a:void 0,at=null!==(h=t.phoneNumber)&&void 0!==h?h:void 0,Rt=null!==(g=t.photoURL)&&void 0!==g?g:void 0,Xt=null!==(T=t.tenantId)&&void 0!==T?T:void 0,nn=null!==(P=t._redirectEventId)&&void 0!==P?P:void 0,gr=null!==(U=t.createdAt)&&void 0!==U?U:void 0,Hr=null!==(ee=t.lastLoginAt)&&void 0!==ee?ee:void 0,{uid:wr,emailVerified:Ps,isAnonymous:fs,providerData:Vi,stsTokenManager:Ic}=t;ct(wr&&Ic,e,"internal-error");const Kf=yt.fromJSON(this.name,Ic);ct("string"==typeof wr,e,"internal-error"),jt(de,e.name),jt(Fe,e.name),ct("boolean"==typeof Ps,e,"internal-error"),ct("boolean"==typeof fs,e,"internal-error"),jt(at,e.name),jt(Rt,e.name),jt(Xt,e.name),jt(nn,e.name),jt(gr,e.name),jt(Hr,e.name);const M0=new $t({uid:wr,auth:e,email:Fe,emailVerified:Ps,displayName:de,isAnonymous:fs,photoURL:Rt,phoneNumber:at,tenantId:Xt,stsTokenManager:Kf,createdAt:gr,lastLoginAt:Hr});return Vi&&Array.isArray(Vi)&&(M0.providerData=Vi.map(DA=>Object.assign({},DA))),nn&&(M0._redirectEventId=nn),M0}static _fromIdTokenResponse(e,t,i=!1){return(0,l.Z)(function*(){const a=new yt;a.updateFromServerResponse(t);const h=new $t({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return yield ni(h),h})()}}const kn=new Map;function Z(n){mn(n instanceof Function,"Expected a class definition");let e=kn.get(n);return e?(mn(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,kn.set(n,e),e)}const H=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(t,i){var a=this;return(0,l.Z)(function*(){a.storage[t]=i})()}_get(t){var i=this;return(0,l.Z)(function*(){const a=i.storage[t];return void 0===a?null:a})()}_remove(t){var i=this;return(0,l.Z)(function*(){delete i.storage[t]})()}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})();function W(n,e,t){return`firebase:${n}:${e}:${t}`}class j{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:h}=this.auth;this.fullUserKey=W(this.userKey,a.apiKey,h),this.fullPersistenceKey=W("persistence",a.apiKey,h),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,l.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?$t._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,l.Z)(function*(){if(t.persistence===e)return;const i=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,i?t.setCurrentUser(i):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return(0,l.Z)(function*(){if(!t.length)return new j(Z(H),e,i);const a=(yield Promise.all(t.map(function(){var U=(0,l.Z)(function*(ee){if(yield ee._isAvailable())return ee});return function(ee){return U.apply(this,arguments)}}()))).filter(U=>U);let h=a[0]||Z(H);const g=W(i,e.config.apiKey,e.name);let T=null;for(const U of t)try{const ee=yield U._get(g);if(ee){const de=$t._fromJSON(e,ee);U!==h&&(T=de),h=U;break}}catch{}const P=a.filter(U=>U._shouldAllowMigration);return h._shouldAllowMigration&&P.length?(h=P[0],T&&(yield h._set(g,T.toJSON())),yield Promise.all(t.map(function(){var U=(0,l.Z)(function*(ee){if(ee!==h)try{yield ee._remove(g)}catch{}});return function(ee){return U.apply(this,arguments)}}())),new j(h,e,i)):new j(h,e,i)})()}}function be(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function rn(n=(0,le.z$)()){return/iemobile/i.test(n)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function ze(n=(0,le.z$)()){return/firefox\//i.test(n)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function Wt(n=(0,le.z$)()){return/blackberry/i.test(n)}(e))return"Blackberry";if(function xn(n=(0,le.z$)()){return/webos/i.test(n)}(e))return"Webos";if(function bt(n=(0,le.z$)()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function en(n=(0,le.z$)()){return/crios\//i.test(n)}(e))&&!e.includes("edge/"))return"Chrome";if(function En(n=(0,le.z$)()){return/android/i.test(n)}(e))return"Android";{const i=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===i?.length)return i[1]}return"Other"}function go(n,e=[]){let t;switch(n){case"Browser":t=be((0,le.z$)());break;case"Worker":t=`${be((0,le.z$)())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ve.Jn}/${i}`}function Wi(n,e){return qi.apply(this,arguments)}function qi(){return(qi=(0,l.Z)(function*(n,e){return an(n,"GET","/v2/recaptchaConfig",function Bt(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}(n,e))})).apply(this,arguments)}function $n(n){return void 0!==n&&void 0!==n.enterprise}class So{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}class No{constructor(e){this.type="recaptcha-enterprise",this.auth=Fr(e)}verify(e="verify",t=!1){var i=this;return(0,l.Z)(function*(){function h(){return h=(0,l.Z)(function*(T){if(!t){if(null==T.tenantId&&null!=T._agentRecaptchaConfig)return T._agentRecaptchaConfig.siteKey;if(null!=T.tenantId&&void 0!==T._tenantRecaptchaConfigs[T.tenantId])return T._tenantRecaptchaConfigs[T.tenantId].siteKey}return new Promise(function(){var P=(0,l.Z)(function*(U,ee){Wi(T,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(de=>{if(void 0!==de.recaptchaKey){const Fe=new So(de);return null==T.tenantId?T._agentRecaptchaConfig=Fe:T._tenantRecaptchaConfigs[T.tenantId]=Fe,U(Fe.siteKey)}ee(new Error("recaptcha Enterprise site key undefined"))}).catch(de=>{ee(de)})});return function(U,ee){return P.apply(this,arguments)}}())}),h.apply(this,arguments)}function g(T,P,U){const ee=window.grecaptcha;$n(ee)?ee.enterprise.ready(()=>{ee.enterprise.execute(T,{action:e}).then(de=>{P(de)}).catch(()=>{P("NO_RECAPTCHA")})}):U(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((T,P)=>{(function a(T){return h.apply(this,arguments)})(i.auth).then(U=>{if(!t&&$n(window.grecaptcha))g(U,T,P);else{if(typeof window>"u")return void P(new Error("RecaptchaVerifier is only supported in browser"));(function Go(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=a=>{const h=ye("internal-error");h.customData=a,t(h)},i.type="text/javascript",i.charset="UTF-8",function Or(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(i)})})("https://www.google.com/recaptcha/enterprise.js?render="+U).then(()=>{g(U,T,P)}).catch(ee=>{P(ee)})}}).catch(U=>{P(U)})})})()}}class Ki{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=h=>new Promise((g,T)=>{try{g(e(h))}catch(P){T(P)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return(0,l.Z)(function*(){if(t.auth.currentUser===e)return;const i=[];try{for(const a of t.queue)yield a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const h of i)try{h()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}})()}}class Ea{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new na(this),this.idTokenSubscription=new na(this),this.beforeStateQueue=new Ki(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Mt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(e,t){var i=this;return t&&(this._popupRedirectResolver=Z(t)),this._initializationPromise=this.queue((0,l.Z)(function*(){var a,h;if(!i._deleted&&(i.persistenceManager=yield j.create(i,e),!i._deleted)){if(null!==(a=i._popupRedirectResolver)&&void 0!==a&&a._shouldInitProactively)try{yield i._popupRedirectResolver._initialize(i)}catch{}yield i.initializeCurrentUser(t),i.lastNotifiedUid=(null===(h=i.currentUser)||void 0===h?void 0:h.uid)||null,!i._deleted&&(i._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,l.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return(0,l.Z)(function*(){var i;const a=yield t.assertedPersistence.getCurrentUser();let h=a,g=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const T=null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId,P=h?._redirectEventId,U=yield t.tryRedirectSignIn(e);(!T||T===P)&&U?.user&&(h=U.user,g=!0)}if(!h)return t.directlySetCurrentUser(null);if(!h._redirectEventId){if(g)try{yield t.beforeStateQueue.runMiddleware(h)}catch(T){h=a,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(T))}return h?t.reloadAndSetCurrentUserOrClear(h):t.directlySetCurrentUser(null)}return ct(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===h._redirectEventId?t.directlySetCurrentUser(h):t.reloadAndSetCurrentUserOrClear(h)})()}tryRedirectSignIn(e){var t=this;return(0,l.Z)(function*(){let i=null;try{i=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return i})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,l.Z)(function*(){try{yield ni(e)}catch(i){if("auth/network-request-failed"!==i?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function He(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return(0,l.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,l.Z)(function*(){const i=e?(0,le.m9)(e):null;return i&&ct(i.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(i&&i._clone(t))})()}_updateCurrentUser(e,t=!1){var i=this;return(0,l.Z)(function*(){if(!i._deleted)return e&&ct(i.tenantId===e.tenantId,i,"tenant-id-mismatch"),t||(yield i.beforeStateQueue.runMiddleware(e)),i.queue((0,l.Z)(function*(){yield i.directlySetCurrentUser(e),i.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,l.Z)(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue((0,l.Z)(function*(){yield t.assertedPersistence.setPersistence(Z(e))}))}initializeRecaptchaConfig(){var e=this;return(0,l.Z)(function*(){const t=yield Wi(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),i=new So(t);null==e.tenantId?e._agentRecaptchaConfig=i:e._tenantRecaptchaConfigs[e.tenantId]=i,i.emailPasswordEnabled&&new No(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new le.LL("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var i=this;return(0,l.Z)(function*(){const a=yield i.getOrInitRedirectPersistenceManager(t);return null===e?a.removeCurrentUser():a.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,l.Z)(function*(){if(!t.redirectPersistenceManager){const i=e&&Z(e)||t._popupRedirectResolver;ct(i,t,"argument-error"),t.redirectPersistenceManager=yield j.create(t,[Z(i._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,l.Z)(function*(){var i,a;return t._isInitialized&&(yield t.queue((0,l.Z)(function*(){}))),(null===(i=t._currentUser)||void 0===i?void 0:i._redirectEventId)===e?t._currentUser:(null===(a=t.redirectUser)||void 0===a?void 0:a._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,l.Z)(function*(){if(e===t.currentUser)return t.queue((0,l.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const h="function"==typeof t?t:t.next.bind(t),g=this._isInitialized?Promise.resolve():this._initializationPromise;return ct(g,this,"internal-error"),g.then(()=>h(this.currentUser)),"function"==typeof t?e.addObserver(t,i,a):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return(0,l.Z)(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ct(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=go(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,l.Z)(function*(){var t;const i={"X-Client-Version":e.clientVersion};e.app.options.appId&&(i["X-Firebase-gmpid"]=e.app.options.appId);const a=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();a&&(i["X-Firebase-Client"]=a);const h=yield e._getAppCheckToken();return h&&(i["X-Firebase-AppCheck"]=h),i})()}_getAppCheckToken(){var e=this;return(0,l.Z)(function*(){var t;const i=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return i?.error&&function mt(n,...e){ot.logLevel<=Se.in.WARN&&ot.warn(`Auth (${ve.Jn}): ${n}`,...e)}(`Error while retrieving App Check token: ${i.error}`),i?.token})()}}function Fr(n){return(0,le.m9)(n)}class na{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,le.ne)(t=>this.observer=t)}get next(){return ct(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function ta(n){return`__${n}${Math.floor(1e6*Math.random())}`})("rcb"),new Je(3e4,6e4),new Je(2e3,1e4),new Je(3e4,6e4),new Je(5e3,15e3),encodeURIComponent("fac");var id="@firebase/auth";class $g{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,l.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ct(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,le.Pz)("authIdTokenMaxAge"),function Ds(n){(0,ve.Xd)(new ae.wA("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),h=e.getProvider("app-check-internal"),{apiKey:g,authDomain:T}=i.options;ct(g&&!g.includes(":"),"invalid-api-key",{appName:i.name});const P={apiKey:g,authDomain:T,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:go(n)},U=new Ea(i,a,h,P);return function ra(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Z);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}(U,t),U},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),(0,ve.Xd)(new ae.wA("auth-internal",e=>{const t=Fr(e.getProvider("auth").getImmediate());return new $g(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ve.KN)(id,"0.23.2",function Fh(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),(0,ve.KN)(id,"0.23.2","esm2017")}("Browser");class Wg{constructor(){return(0,b.vb)("auth")}}const $d=new Map,dp={activated:!1,tokenObservers:[]},L0={initialized:!1,enabled:!1};function ho(n){return $d.get(n)||Object.assign({},dp)}function ld(){return L0}const $h="https://content-firebaseappcheck.googleapis.com/v1",zh="exchangeDebugToken",sm={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class V0{constructor(e,t,i,a,h){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=a,this.upperBound=h,this.pending=null,this.nextErrorWaitInterval=a,a>h)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,l.Z)(function*(){t.stop();try{t.pending=new le.BH,yield function nv(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new le.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Ss=new le.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function pp(n){if(!ho(n).activated)throw Ss.create("use-before-activation",{appName:n.name})}function dd(n,e){return zd.apply(this,arguments)}function zd(){return(zd=(0,l.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},a=t.getImmediate({optional:!0});if(a){const de=yield a.getHeartbeatsHeader();de&&(i["X-Firebase-Client"]=de)}const h={method:"POST",body:JSON.stringify(e),headers:i};let g,T;try{g=yield fetch(n,h)}catch(de){throw Ss.create("fetch-network-error",{originalErrorMessage:de?.message})}if(200!==g.status)throw Ss.create("fetch-status-error",{httpStatus:g.status});try{T=yield g.json()}catch(de){throw Ss.create("fetch-parse-error",{originalErrorMessage:de?.message})}const P=T.ttl.match(/^([\d.]+)(s)$/);if(!P||!P[2]||isNaN(Number(P[1])))throw Ss.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${T.ttl}`});const U=1e3*Number(P[1]),ee=Date.now();return{token:T.token,expireTimeMillis:ee+U,issuedAtTimeMillis:ee}})).apply(this,arguments)}function am(n,e){const{projectId:t,appId:i,apiKey:a}=n.options;return{url:`${$h}/projects/${t}/apps/${i}:${zh}?key=${a}`,body:{debug_token:e}}}const U0="firebase-app-check-database",iv=1,Zh="firebase-app-check-store";let wl=null;function av(){return(av=(0,l.Z)(function*(n,e){const i=(yield function mp(){return wl||(wl=new Promise((n,e)=>{try{const t=indexedDB.open(U0,iv);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var a;e(Ss.create("storage-open",{originalErrorMessage:null===(a=i.target.error)||void 0===a?void 0:a.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Zh,{keyPath:"compositeKey"})}}catch(t){e(Ss.create("storage-open",{originalErrorMessage:t?.message}))}}),wl)}()).transaction(Zh,"readwrite"),h=i.objectStore(Zh).put({compositeKey:n,value:e});return new Promise((g,T)=>{h.onsuccess=P=>{g()},i.onerror=P=>{var U;T(Ss.create("storage-set",{originalErrorMessage:null===(U=P.target.error)||void 0===U?void 0:U.message}))}})})).apply(this,arguments)}const Wd=new Se.Yd("@firebase/app-check");function vp(n,e){return(0,le.hl)()?function sv(n,e){return function G0(n,e){return av.apply(this,arguments)}(function $0(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Wd.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function yp(){return ld().enabled}function Kh(){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,l.Z)(function*(){const n=ld();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const ki={error:"UNKNOWN_ERROR"};function lm(n){return le.US.encodeString(JSON.stringify(n),!1)}function bp(n){return El.apply(this,arguments)}function El(){return(El=(0,l.Z)(function*(n,e=!1){const t=n.app;pp(t);const i=ho(t);let h,a=i.token;if(a&&!Cu(a)&&(i.token=void 0,a=void 0),!a){const P=yield i.cachedTokenPromise;P&&(Cu(P)?a=P:yield vp(t,void 0))}if(!e&&a&&Cu(a))return{token:a.token};let T,g=!1;if(yp()){i.exchangeTokenPromise||(i.exchangeTokenPromise=dd(am(t,yield Kh()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),g=!0);const P=yield i.exchangeTokenPromise;return yield vp(t,P),i.token=P,{token:P.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),g=!0),a=yield ho(t).exchangeTokenPromise}catch(P){"appCheck/throttled"===P.code?Wd.warn(P.message):Wd.error(P),h=P}return a?h?T=Cu(a)?{token:a.token,internalError:h}:hm(h):(T={token:a.token},i.token=a,yield vp(t,a)):T=hm(h),g&&function Zd(n,e){const t=ho(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}(t,T),T})).apply(this,arguments)}function lv(n){return Ip.apply(this,arguments)}function Ip(){return(Ip=(0,l.Z)(function*(n){const e=n.app;pp(e);const{provider:t}=ho(e);if(yp()){const i=yield Kh(),{token:a}=yield dd(am(e,i),n.heartbeatServiceProvider);return{token:a}}{const{token:i}=yield t.getToken();return{token:i}}})).apply(this,arguments)}function dm(n,e){const t=ho(n),i=t.tokenObservers.filter(a=>a.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function Dl(n){const{app:e}=n,t=ho(e);let i=t.tokenRefresher;i||(i=function Yh(n){const{app:e}=n;return new V0((0,l.Z)(function*(){let i;if(i=ho(e).token?yield bp(n,!0):yield bp(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=ho(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},sm.RETRIAL_MIN_WAIT,sm.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function Cu(n){return n.expireTimeMillis-Date.now()>0}function hm(n){return{token:lm(ki),error:n}}class fm{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=ho(this.app);for(const t of e)dm(this.app,t.next);return Promise.resolve()}}const vm="app-check-internal";!function gv(){(0,ve.Xd)(new ae.wA("app-check",n=>function wp(n,e){return new fm(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(vm).initialize()})),(0,ve.Xd)(new ae.wA(vm,n=>function hd(n){return{getToken:e=>bp(n,e),getLimitedUseToken:()=>lv(n),addTokenListener:e=>function qd(n,e,t,i){const{app:a}=n,h=ho(a);if(h.tokenObservers=[...h.tokenObservers,{next:t,error:i,type:e}],h.token&&Cu(h.token)){const T=h.token;Promise.resolve().then(()=>{t({token:T.token}),Dl(n)}).catch(()=>{})}h.cachedTokenPromise.then(()=>Dl(n))}(n,"INTERNAL",e),removeTokenListener:e=>dm(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ve.KN)("@firebase/app-check","0.8.0")}();class lc{constructor(){return(0,b.vb)("app-check")}}typeof window<"u"&&window;var Yt,wm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Mc={},_v=_v||{},Zn=wm||self;function Tm(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function tu(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var tf="closure_uid_"+(1e9*Math.random()>>>0),jI=0;function vv(n,e,t){return n.call.apply(n.bind,arguments)}function Q0(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,i),n.apply(e,a)}}return function(){return n.apply(e,arguments)}}function pa(n,e,t){return(pa=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?vv:Q0).apply(null,arguments)}function Qd(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Js(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,a,h){for(var g=Array(arguments.length-2),T=2;T<arguments.length;T++)g[T-2]=arguments[T];return e.prototype[a].apply(i,g)}}function Al(){this.s=this.s,this.o=this.o}Al.prototype.s=!1,Al.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Sl(n){Object.prototype.hasOwnProperty.call(n,tf)&&n[tf]||(n[tf]=++jI)}(this)},Al.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Em=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Jd(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function Dm(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(Tm(i)){const a=n.length||0,h=i.length||0;n.length=a+h;for(let g=0;g<h;g++)n[a+g]=i[g]}else n.push(i)}}function oo(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}oo.prototype.h=function(){this.defaultPrevented=!0};var yv=function(){if(!Zn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Zn.addEventListener("test",()=>{},e),Zn.removeEventListener("test",()=>{},e)}catch{}return n}();function Xd(n){return/^[\s\xa0]*$/.test(n)}function pd(){var n=Zn.navigator;return n&&(n=n.userAgent)?n:""}function dc(n){return-1!=pd().indexOf(n)}function bv(n){return bv[" "](n),n}bv[" "]=function(){};var Sm,n,Iv=dc("Opera"),eh=dc("Trident")||dc("MSIE"),Cm=dc("Edge"),J0=Cm||eh,zI=dc("Gecko")&&!(-1!=pd().toLowerCase().indexOf("webkit")&&!dc("Edge"))&&!(dc("Trident")||dc("MSIE"))&&!dc("Edge"),Np=-1!=pd().toLowerCase().indexOf("webkit")&&!dc("Edge");function rf(){var n=Zn.document;return n?n.documentMode:void 0}e:{var sf="",Op=(n=pd(),zI?/rv:([^\);]+)(\)|;)/.exec(n):Cm?/Edge\/([\d\.]+)/.exec(n):eh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Np?/WebKit\/(\S+)/.exec(n):Iv?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Op&&(sf=Op?Op[1]:""),eh){var Am=rf();if(null!=Am&&Am>parseFloat(sf)){Sm=String(Am);break e}}Sm=sf}var X0=Zn.document&&eh&&(rf()||parseInt(Sm,10))||void 0;function Ju(n,e){if(oo.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(zI){e:{try{bv(e.nodeName);var a=!0;break e}catch{}a=!1}a||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:WI[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Ju.$.h.call(this)}}Js(Ju,oo);var WI={2:"touch",3:"pen",4:"mouse"};Ju.prototype.h=function(){Ju.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var gd="closure_listenable_"+(1e6*Math.random()|0),qI=0;function Tv(n,e,t,i,a){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=a,this.key=++qI,this.fa=this.ia=!1}function xp(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Nm(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function e1(n){const e={};for(const t in n)e[t]=n[t];return e}const Om="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Rp(n,e){let t,i;for(let a=1;a<arguments.length;a++){for(t in i=arguments[a],i)n[t]=i[t];for(let h=0;h<Om.length;h++)t=Om[h],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function af(n){this.src=n,this.g={},this.h=0}function Pp(n,e){var t=e.type;if(t in n.g){var h,i=n.g[t],a=Em(i,e);(h=0<=a)&&Array.prototype.splice.call(i,a,1),h&&(xp(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function cf(n,e,t,i){for(var a=0;a<n.length;++a){var h=n[a];if(!h.fa&&h.listener==e&&h.capture==!!t&&h.la==i)return a}return-1}af.prototype.add=function(n,e,t,i,a){var h=n.toString();(n=this.g[h])||(n=this.g[h]=[],this.h++);var g=cf(n,e,i,a);return-1<g?(e=n[g],t||(e.ia=!1)):((e=new Tv(e,this.src,h,!!i,a)).ia=t,n.push(e)),e};var nu="closure_lm_"+(1e6*Math.random()|0),md={};function kp(n,e,t,i,a){if(i&&i.once)return Mm(n,e,t,i,a);if(Array.isArray(e)){for(var h=0;h<e.length;h++)kp(n,e[h],t,i,a);return null}return t=Dv(t),n&&n[gd]?n.O(e,t,tu(i)?!!i.capture:!!i,a):t1(n,e,t,!1,i,a)}function t1(n,e,t,i,a,h){if(!e)throw Error("Invalid event type");var g=tu(a)?!!a.capture:!!a,T=Fp(n);if(T||(n[nu]=T=new af(n)),(t=T.add(e,t,i,g,h)).proxy)return t;if(i=function ZI(){const e=KI;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)yv||(a=g),void 0===a&&(a=!1),n.addEventListener(e.toString(),i,a);else if(n.attachEvent)n.attachEvent(xm(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function Mm(n,e,t,i,a){if(Array.isArray(e)){for(var h=0;h<e.length;h++)Mm(n,e[h],t,i,a);return null}return t=Dv(t),n&&n[gd]?n.P(e,t,tu(i)?!!i.capture:!!i,a):t1(n,e,t,!0,i,a)}function nh(n,e,t,i,a){if(Array.isArray(e))for(var h=0;h<e.length;h++)nh(n,e[h],t,i,a);else i=tu(i)?!!i.capture:!!i,t=Dv(t),n&&n[gd]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=cf(h=n.g[e],t,i,a))&&(xp(h[t]),Array.prototype.splice.call(h,t,1),0==h.length&&(delete n.g[e],n.h--))):n&&(n=Fp(n))&&(e=n.g[e.toString()],n=-1,e&&(n=cf(e,t,i,a)),(t=-1<n?e[n]:null)&&Ev(t))}function Ev(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[gd])Pp(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(xm(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=Fp(e))?(Pp(t,n),0==t.h&&(t.src=null,e[nu]=null)):xp(n)}}}function xm(n){return n in md?md[n]:md[n]="on"+n}function KI(n,e){if(n.fa)n=!0;else{e=new Ju(e,this);var t=n.listener,i=n.la||n.src;n.ia&&Ev(n),n=t.call(i,e)}return n}function Fp(n){return(n=n[nu])instanceof af?n:null}var Rm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Dv(n){return"function"==typeof n?n:(n[Rm]||(n[Rm]=function(e){return n.handleEvent(e)}),n[Rm])}function As(){Al.call(this),this.i=new af(this),this.S=this,this.J=null}function Vo(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new oo(e,n);else if(e instanceof oo)e.target=e.target||n;else{var a=e;Rp(e=new oo(i,n),a)}if(a=!0,t)for(var h=t.length-1;0<=h;h--){var g=e.g=t[h];a=Cv(g,i,!0,e)&&a}if(a=Cv(g=e.g=n,i,!0,e)&&a,a=Cv(g,i,!1,e)&&a,t)for(h=0;h<t.length;h++)a=Cv(g=e.g=t[h],i,!1,e)&&a}function Cv(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,h=0;h<e.length;++h){var g=e[h];if(g&&!g.fa&&g.capture==t){var T=g.listener,P=g.la||g.src;g.ia&&Pp(n.i,g),a=!1!==T.call(P,i)&&a}}return a&&!i.defaultPrevented}Js(As,Al),As.prototype[gd]=!0,As.prototype.removeEventListener=function(n,e,t,i){nh(this,n,e,t,i)},As.prototype.N=function(){if(As.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)xp(t[i]);delete n.g[e],n.h--}}this.J=null},As.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},As.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var n1=Zn.JSON.stringify;function QI(){var n=Lp;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var JI=new class YI{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Pm,n=>n.reset());class Pm{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function XI(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function Sv(n){Zn.setTimeout(()=>{throw n},0)}let _d,Xu=!1,Lp=new class r1{constructor(){this.h=this.g=null}add(e,t){const i=JI.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},km=()=>{const n=Zn.Promise.resolve(void 0);_d=()=>{n.then(Vp)}};var Vp=()=>{for(var n;n=QI();){try{n.h.call(n.g)}catch(t){Sv(t)}var e=JI;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Xu=!1};function Nl(n,e){As.call(this),this.h=n||1,this.g=e||Zn,this.j=pa(this.qb,this),this.l=Date.now()}function vd(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Bp(n,e,t){if("function"==typeof n)t&&(n=pa(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=pa(n.handleEvent,n)}return 2147483647<Number(e)?-1:Zn.setTimeout(n,e||0)}function Up(n){n.g=Bp(()=>{n.g=null,n.i&&(n.i=!1,Up(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Js(Nl,As),(Yt=Nl.prototype).ga=!1,Yt.T=null,Yt.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Vo(this,"tick"),this.ga&&(vd(this),this.start()))}},Yt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Yt.N=function(){Nl.$.N.call(this),vd(this),delete this.g};class Fm extends Al{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Up(this)}N(){super.N(),this.g&&(Zn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Lm(n){Al.call(this),this.h=n,this.g={}}Js(Lm,Al);var Vm=[];function uf(n,e,t,i){Array.isArray(t)||(t&&(Vm[0]=t.toString()),t=Vm);for(var a=0;a<t.length;a++){var h=kp(e,t[a],i||n.handleEvent,!1,n.h||n);if(!h)break;n.g[h.key]=h}}function i1(n){Nm(n.g,function(e,t){this.g.hasOwnProperty(t)&&Ev(e)},n),n.g={}}function rh(){this.g=!0}function Ol(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function d(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var a=i[1];if(Array.isArray(a)&&!(1>a.length)){var h=a[0];if("noop"!=h&&"stop"!=h&&"close"!=h)for(var g=1;g<a.length;g++)a[g]=""}}}return n1(t)}catch{return e}}(n,t)+(i?" "+i:"")})}Lm.prototype.N=function(){Lm.$.N.call(this),i1(this)},Lm.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},rh.prototype.Ea=function(){this.g=!1},rh.prototype.info=function(){};var w={},u=null;function p(){return u=u||new As}function v(n){oo.call(this,w.Ta,n)}function V(n){const e=p();Vo(e,new v(e))}function J(n,e){oo.call(this,w.STAT_EVENT,n),this.stat=e}function _e(n){const e=p();Vo(e,new J(e,n))}function Ne(n,e){oo.call(this,w.Ua,n),this.size=e}function Ge(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Zn.setTimeout(function(){n()},e)}w.Ta="serverreachability",Js(v,oo),w.STAT_EVENT="statevent",Js(J,oo),w.Ua="timingevent",Js(Ne,oo);var qe={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Vt={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Nt(){}function Kn(){}Nt.prototype.h=null;var er,Yn={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function _n(){oo.call(this,"d")}function Cr(){oo.call(this,"c")}function qr(){}function ir(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new Lm(this),this.P=ti,this.V=new Nl(n=J0?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Rr}function Rr(){this.i=null,this.g="",this.h=!1}Js(_n,oo),Js(Cr,oo),Js(qr,Nt),qr.prototype.g=function(){return new XMLHttpRequest},qr.prototype.i=function(){return{}},er=new qr;var ti=45e3,wi={},li={};function Eo(n,e,t){n.L=1,n.v=sh(Ya(e)),n.s=t,n.S=!0,Do(n,null)}function Do(n,e){n.G=Date.now(),xc(n),n.A=Ya(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),ch(t.i,"t",i),n.C=0,t=n.l.J,n.h=new Rr,n.g=f1(n.l,t?e:null,!n.s),0<n.O&&(n.M=new Fm(pa(n.Pa,n,n.g),n.O)),uf(n.U,n.g,"readystatechange",n.nb),e=n.I?e1(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),V(),function o1(n,e,t,i,a,h){n.info(function(){if(n.g)if(h)for(var g="",T=h.split("&"),P=0;P<T.length;P++){var U=T[P].split("=");if(1<U.length){var ee=U[0];U=U[1];var de=ee.split("_");g=2<=de.length&&"type"==de[1]?g+(ee+"=")+U+"&":g+(ee+"=redacted&")}}else g=null;else g=h;return"XMLHTTP REQ ("+i+") [attempt "+a+"]: "+e+"\n"+t+"\n"+g})}(n.j,n.u,n.A,n.m,n.W,n.s)}function os(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function ru(n,e,t){let a,i=!0;for(;!n.J&&n.C<t.length;){if(a=Ns(n,t),a==li){4==e&&(n.o=4,_e(14),i=!1),Ol(n.j,n.m,null,"[Incomplete Response]");break}if(a==wi){n.o=4,_e(15),Ol(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Ol(n.j,n.m,a,null),Au(n,a)}os(n)&&a!=li&&a!=wi&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,_e(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),Qm(e),e.M=!0,_e(11))):(Ol(n.j,n.m,t,"[Invalid Chunked Response]"),Su(n),ma(n))}function Ns(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?li:(t=Number(e.substring(t,i)),isNaN(t)?wi:(i+=1)+t>e.length?li:(e=e.slice(i,i+t),n.C=i+t,e))}function xc(n){n.Y=Date.now()+n.P,Ml(n,n.P)}function Ml(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Ge(pa(n.lb,n),e)}function ga(n){n.B&&(Zn.clearTimeout(n.B),n.B=null)}function ma(n){0==n.l.H||n.J||h1(n.l,n)}function Su(n){ga(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,vd(n.V),i1(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function Au(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||c1(t.i,n)))if(!n.K&&c1(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var a=i;if(0==a[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Zp(t),Zm(t)}kv(t),_e(18)}}else t.Fa=a[1],0<t.Fa-t.V&&37500>a[2]&&t.G&&0==t.A&&!t.v&&(t.v=Ge(pa(t.ib,t),6e3));if(1>=a1(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else gf(t,11)}else if((n.K||t.g==n)&&Zp(t),!Xd(e))for(a=t.Ja.g.parse(e),e=0;e<a.length;e++){let U=a[e];if(t.V=U[0],U=U[1],2==t.H)if("c"==U[0]){t.K=U[1],t.pa=U[2];const ee=U[3];null!=ee&&(t.ra=ee,t.l.info("VER="+t.ra));const de=U[4];null!=de&&(t.Ga=de,t.l.info("SVER="+t.Ga));const Fe=U[5];null!=Fe&&"number"==typeof Fe&&0<Fe&&(t.L=i=1.5*Fe,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const at=n.g;if(at){const Rt=at.g?at.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rt){var h=i.i;h.g||-1==Rt.indexOf("spdy")&&-1==Rt.indexOf("quic")&&-1==Rt.indexOf("h2")||(h.j=h.l,h.g=new Set,h.h&&(Mv(h,h.h),h.h=null))}if(i.F){const Xt=at.g?at.g.getResponseHeader("X-HTTP-Session-Id"):null;Xt&&(i.Da=Xt,di(i.I,i.F,Xt))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var g=n;if((i=t).wa=uw(i,i.J?i.pa:null,i.Y),g.K){hf(i.i,g);var T=g,P=i.L;P&&T.setTimeout(P),T.B&&(ga(T),xc(T)),i.g=g}else qp(i);0<t.j.length&&Km(t)}else"stop"!=U[0]&&"close"!=U[0]||gf(t,7);else 3==t.H&&("stop"==U[0]||"close"==U[0]?"stop"==U[0]?gf(t,7):Rv(t):"noop"!=U[0]&&t.h&&t.h.Aa(U),t.A=0)}V()}catch{}}function lf(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Tm(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Bm(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Tm(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function Hp(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Tm(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),a=i.length,h=0;h<a;h++)e.call(void 0,i[h],t&&t[h],n)}(Yt=ir.prototype).setTimeout=function(n){this.P=n},Yt.nb=function(n){n=n.target;const e=this.M;e&&3==au(n)?e.l():this.Pa(n)},Yt.Pa=function(n){try{if(n==this.g)e:{const ee=au(this.g);var e=this.g.Ia();if(this.g.da(),!(3>ee)&&(3!=ee||J0||this.g&&(this.h.h||this.g.ja()||d1(this.g)))){this.J||4!=ee||7==e||V(),ga(this);var t=this.g.da();this.ca=t;t:if(os(this)){var i=d1(this.g);n="";var a=i.length,h=4==au(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Su(this),ma(this);var g="";break t}this.h.i=new Zn.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:h&&e==a-1});i.splice(0,a),this.h.g+=n,this.C=0,g=this.h.g}else g=this.g.ja();if(this.i=200==t,function s1(n,e,t,i,a,h,g){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+h+" "+g})}(this.j,this.u,this.A,this.m,this.W,ee,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var T,P=this.g;if((T=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Xd(T)){var U=T;break t}}U=null}if(!(t=U)){this.i=!1,this.o=3,_e(12),Su(this),ma(this);break e}Ol(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Au(this,t)}this.S?(ru(this,ee,g),J0&&this.i&&3==ee&&(uf(this.U,this.V,"tick",this.mb),this.V.start())):(Ol(this.j,this.m,g,null),Au(this,g)),4==ee&&Su(this),this.i&&!this.J&&(4==ee?h1(this.l,this):(this.i=!1,xc(this)))}else(function sw(n){const e={};n=(n.g&&2<=au(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(Xd(n[i]))continue;var t=XI(n[i]);const a=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const h=e[a]||[];e[a]=h,h.push(t)}!function th(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<g.indexOf("Unknown SID")?(this.o=3,_e(12)):(this.o=0,_e(13)),Su(this),ma(this)}}}catch{}},Yt.mb=function(){if(this.g){var n=au(this.g),e=this.g.ja();this.C<e.length&&(ga(this),ru(this,n,e),this.i&&4!=n&&xc(this))}},Yt.cancel=function(){this.J=!0,Su(this)},Yt.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Av(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(V(),_e(17)),Su(this),this.o=2,ma(this)):Ml(this,this.Y-n)};var ih=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $i(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof $i){this.h=n.h,oh(this,n.j),this.s=n.s,this.g=n.g,Rc(this,n.m),this.l=n.l;var e=n.i,t=new su;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),iu(this,t),this.o=n.o}else n&&(e=String(n).match(ih))?(this.h=!1,oh(this,e[1]||"",!0),this.s=df(e[2]||""),this.g=df(e[3]||"",!0),Rc(this,e[4]),this.l=df(e[5]||"",!0),iu(this,e[6]||"",!0),this.o=df(e[7]||"")):(this.h=!1,this.i=new su(null,this.h))}function Ya(n){return new $i(n)}function oh(n,e,t){n.j=t?df(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Rc(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function iu(n,e,t){e instanceof su?(n.i=e,function $m(n,e){e&&!n.j&&(hc(n),n.i=null,n.g.forEach(function(t,i){var a=i.toLowerCase();i!=a&&(Gm(this,i),ch(this,a,t))},n)),n.j=e}(n.i,n.h)):(t||(e=ah(e,ew)),n.i=new su(e,n.h))}function di(n,e,t){n.i.set(e,t)}function sh(n){return di(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function df(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function ah(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Um),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Um(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}$i.prototype.toString=function(){var n=[],e=this.j;e&&n.push(ah(e,ou,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(ah(e,ou,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(ah(t,"/"==t.charAt(0)?Nv:Hm,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",ah(t,Os)),n.join("")};var ou=/[#\/\?@]/g,Hm=/[#\?:]/g,Nv=/[#\?]/g,ew=/[#\?@]/g,Os=/#/g;function su(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function hc(n){n.g||(n.g=new Map,n.h=0,n.i&&function yd(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),a=null;if(0<=i){var h=n[t].substring(0,i);a=n[t].substring(i+1)}else h=n[t];e(h,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Gm(n,e){hc(n),e=xl(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function jm(n,e){return hc(n),e=xl(n,e),n.g.has(e)}function ch(n,e,t){Gm(n,e),0<t.length&&(n.i=null,n.g.set(xl(n,e),Jd(t)),n.h+=t.length)}function xl(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Gp(n){this.l=n||tw,n=Zn.PerformanceNavigationTiming?0<(n=Zn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Zn.g&&Zn.g.Ka&&Zn.g.Ka()&&Zn.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Yt=su.prototype).add=function(n,e){hc(this),this.i=null,n=xl(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Yt.forEach=function(n,e){hc(this),this.g.forEach(function(t,i){t.forEach(function(a){n.call(e,a,i,this)},this)},this)},Yt.ta=function(){hc(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const a=n[i];for(let h=0;h<a.length;h++)t.push(e[i])}return t},Yt.Z=function(n){hc(this);let e=[];if("string"==typeof n)jm(this,n)&&(e=e.concat(this.g.get(xl(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Yt.set=function(n,e){return hc(this),this.i=null,jm(this,n=xl(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Yt.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},Yt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const h=encodeURIComponent(String(i)),g=this.Z(i);for(i=0;i<g.length;i++){var a=h;""!==g[i]&&(a+="="+encodeURIComponent(String(g[i]))),n.push(a)}}return this.i=n.join("&")};var tw=10;function nw(n){return!!n.h||!!n.g&&n.g.size>=n.j}function a1(n){return n.h?1:n.g?n.g.size:0}function c1(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Mv(n,e){n.g?n.g.add(e):n.h=e}function hf(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Rl(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return Jd(n.i)}Gp.prototype.cancel=function(){if(this.i=Rl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var jp=class{stringify(n){return Zn.JSON.stringify(n,void 0)}parse(n){return Zn.JSON.parse(n,void 0)}};function YE(){this.g=new jp}function QE(n,e,t){const i=t||"";try{lf(n,function(a,h){let g=a;tu(a)&&(g=n1(a)),e.push(i+h+"="+encodeURIComponent(g))})}catch(a){throw e.push(i+"type="+encodeURIComponent("_badmap")),a}}function zm(n,e,t,i,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(i)}catch{}}function ff(n){this.l=n.fc||null,this.j=n.ob||!1}function uh(n,e){As.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=$p,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Js(ff,Nt),ff.prototype.g=function(){return new uh(this.l,this.j)},ff.prototype.i=function(n){return function(){return n}}({}),Js(uh,As);var $p=0;function u1(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function zp(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Wm(n)}function Wm(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Yt=uh.prototype).open=function(n,e){if(this.readyState!=$p)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Wm(this)},Yt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Zn).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Yt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,zp(this)),this.readyState=$p},Yt.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Wm(this)),this.g&&(this.readyState=3,Wm(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Zn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;u1(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Yt.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?zp(this):Wm(this),3==this.readyState&&u1(this)}},Yt.Za=function(n){this.g&&(this.response=this.responseText=n,zp(this))},Yt.Ya=function(n){this.g&&(this.response=n,zp(this))},Yt.ka=function(){this.g&&zp(this)},Yt.setRequestHeader=function(n,e){this.v.append(n,e)},Yt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Yt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(uh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var JE=Zn.JSON.parse;function Bo(n){As.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=iw,this.L=this.M=!1}Js(Bo,As);var iw="",ow=/^https?$/i,tS=["POST","PUT"];function eD(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,tD(n),qm(n)}function tD(n){n.F||(n.F=!0,Vo(n,"complete"),Vo(n,"error"))}function l1(n){if(n.h&&typeof _v<"u"&&(!n.C[1]||4!=au(n)||2!=n.da()))if(n.v&&4==au(n))Bp(n.La,0,n);else if(Vo(n,"readystatechange"),4==au(n)){n.h=!1;try{const g=n.da();e:switch(g){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===g){var a=String(n.I).match(ih)[1]||null;!a&&Zn.self&&Zn.self.location&&(a=Zn.self.location.protocol.slice(0,-1)),i=!ow.test(a?a.toLowerCase():"")}t=i}if(t)Vo(n,"complete"),Vo(n,"success");else{n.m=6;try{var h=2<au(n)?n.g.statusText:""}catch{h=""}n.j=h+" ["+n.da()+"]",tD(n)}}finally{qm(n)}}}function qm(n,e){if(n.g){nD(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Vo(n,"ready");try{t.onreadystatechange=i}catch{}}}function nD(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Zn.clearTimeout(n.A),n.A=null)}function au(n){return n.g?n.g.readyState:0}function d1(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case iw:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function aw(n){let e="";return Nm(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function xv(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=aw(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):di(n,e,t))}function Wp(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function or(n){this.Ga=0,this.j=[],this.l=new rh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Wp("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Wp("baseRetryDelayMs",5e3,n),this.hb=Wp("retryDelaySeedMs",1e4,n),this.eb=Wp("forwardChannelMaxRetries",2,n),this.xa=Wp("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new Gp(n&&n.concurrentRequestLimit),this.Ja=new YE,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Rv(n){if(pf(n),3==n.H){var e=n.W++,t=Ya(n.I);if(di(t,"SID",n.K),di(t,"RID",e),di(t,"TYPE","terminate"),Pl(n,t),(e=new ir(n,n.l,e)).L=2,e.v=sh(Ya(t)),t=!1,Zn.navigator&&Zn.navigator.sendBeacon)try{t=Zn.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Zn.Image&&((new Image).src=e.v,t=!0),t||(e.g=f1(e.l,null),e.g.ha(e.v)),e.G=Date.now(),xc(e)}cw(n)}function Zm(n){n.g&&(Qm(n),n.g.cancel(),n.g=null)}function pf(n){Zm(n),n.u&&(Zn.clearTimeout(n.u),n.u=null),Zp(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Zn.clearTimeout(n.m),n.m=null)}function Km(n){if(!nw(n.i)&&!n.m){n.m=!0;var e=n.Na;_d||km(),Xu||(_d(),Xu=!0),Lp.add(e,n),n.C=0}}function Ym(n,e){var t;t=e?e.m:n.W++;const i=Ya(n.I);di(i,"SID",n.K),di(i,"RID",t),di(i,"AID",n.V),Pl(n,i),n.o&&n.s&&xv(i,n.o,n.s),t=new ir(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=Pv(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),Mv(n.i,t),Eo(t,i,e)}function Pl(n,e){n.na&&Nm(n.na,function(t,i){di(e,i,t)}),n.h&&lf({},function(t,i){di(e,i,t)})}function Pv(n,e,t){t=Math.min(n.j.length,t);var i=n.h?pa(n.h.Va,n.h,n):null;e:{var a=n.j;let h=-1;for(;;){const g=["count="+t];-1==h?0<t?(h=a[0].g,g.push("ofs="+h)):h=0:g.push("ofs="+h);let T=!0;for(let P=0;P<t;P++){let U=a[P].g;const ee=a[P].map;if(U-=h,0>U)h=Math.max(0,a[P].g-100),T=!1;else try{QE(ee,g,"req"+U+"_")}catch{i&&i(ee)}}if(T){i=g.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function qp(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;_d||km(),Xu||(_d(),Xu=!0),Lp.add(e,n),n.A=0}}function kv(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Ge(pa(n.Ma,n),Lv(n,n.A)),n.A++,0))}function Qm(n){null!=n.B&&(Zn.clearTimeout(n.B),n.B=null)}function Fv(n){n.g=new ir(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Ya(n.wa);di(e,"RID","rpc"),di(e,"SID",n.K),di(e,"AID",n.V),di(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&di(e,"TO",n.qa),di(e,"TYPE","xmlhttp"),Pl(n,e),n.o&&n.s&&xv(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=sh(Ya(e)),t.s=null,t.S=!0,Do(t,n)}function Zp(n){null!=n.v&&(Zn.clearTimeout(n.v),n.v=null)}function h1(n,e){var t=null;if(n.g==e){Zp(n),Qm(n),n.g=null;var i=2}else{if(!c1(n.i,e))return;t=e.F,hf(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var a=n.C;Vo(i=p(),new Ne(i,t)),Km(n)}else qp(n);else if(3==(a=e.o)||0==a&&0<e.ca||!(1==i&&function rD(n,e){return!(a1(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Ge(pa(n.Na,n,e),Lv(n,n.C)),n.C++,0)))}(n,e)||2==i&&kv(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),a){case 1:gf(n,5);break;case 4:gf(n,10);break;case 3:gf(n,6);break;default:gf(n,2)}}function Lv(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function gf(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=pa(n.pb,n);t||(t=new $i("//www.google.com/images/cleardot.gif"),Zn.location&&"http"==Zn.location.protocol||oh(t,"https"),sh(t)),function rw(n,e){const t=new rh;if(Zn.Image){const i=new Image;i.onload=Qd(zm,t,i,"TestLoadImage: loaded",!0,e),i.onerror=Qd(zm,t,i,"TestLoadImage: error",!1,e),i.onabort=Qd(zm,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=Qd(zm,t,i,"TestLoadImage: timeout",!1,e),Zn.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else _e(2);n.H=0,n.h&&n.h.za(e),cw(n),pf(n)}function cw(n){if(n.H=0,n.ma=[],n.h){const e=Rl(n.i);(0!=e.length||0!=n.j.length)&&(Dm(n.ma,e),Dm(n.ma,n.j),n.i.i.length=0,Jd(n.j),n.j.length=0),n.h.ya()}}function uw(n,e,t){var i=t instanceof $i?Ya(t):new $i(t);if(""!=i.g)e&&(i.g=e+"."+i.g),Rc(i,i.m);else{var a=Zn.location;i=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var h=new $i(null);i&&oh(h,i),e&&(h.g=e),a&&Rc(h,a),t&&(h.l=t),i=h}return e=n.Da,(t=n.F)&&e&&di(i,t,e),di(i,"VER",n.ra),Pl(n,i),i}function f1(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Bo(t&&n.Ha&&!n.va?new ff({ob:!0}):n.va)).Oa(n.J),e}function lw(){}function Vv(){if(eh&&!(10<=Number(X0)))throw Error("Environmental error: no available transport.")}function cu(n,e){As.call(this),this.g=new or(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Xd(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Xd(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new mf(this)}function dw(n){_n.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function p1(){Cr.call(this),this.status=1}function mf(n){this.g=n}function el(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function fc(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var a=0;16>a;++a)i[a]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(a=0;16>a;++a)i[a]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var h=n.g[3],g=(e=n.g[0])+(h^(t=n.g[1])&((a=n.g[2])^h))+i[0]+3614090360&4294967295;g=(t=(a=(h=(e=(t=(a=(h=(e=(t=(a=(h=(e=(t=(a=(h=(e=(t=(a=(h=(e=(t=(a=(h=(e=(t=(a=(h=(e=(t=(a=(h=(e=(t=(a=(h=(e=(t=(a=(h=(e=(t=(a=(h=(e=(t=(a=(h=(e=(t=(a=(h=(e=(t=(a=(h=(e=(t=(a=(h=(e=t+(g<<7&4294967295|g>>>25))+((g=h+(a^e&(t^a))+i[1]+3905402710&4294967295)<<12&4294967295|g>>>20))+((g=a+(t^h&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|g>>>15))+((g=t+(e^a&(h^e))+i[3]+3250441966&4294967295)<<22&4294967295|g>>>10))+((g=e+(h^t&(a^h))+i[4]+4118548399&4294967295)<<7&4294967295|g>>>25))+((g=h+(a^e&(t^a))+i[5]+1200080426&4294967295)<<12&4294967295|g>>>20))+((g=a+(t^h&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|g>>>15))+((g=t+(e^a&(h^e))+i[7]+4249261313&4294967295)<<22&4294967295|g>>>10))+((g=e+(h^t&(a^h))+i[8]+1770035416&4294967295)<<7&4294967295|g>>>25))+((g=h+(a^e&(t^a))+i[9]+2336552879&4294967295)<<12&4294967295|g>>>20))+((g=a+(t^h&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|g>>>15))+((g=t+(e^a&(h^e))+i[11]+2304563134&4294967295)<<22&4294967295|g>>>10))+((g=e+(h^t&(a^h))+i[12]+1804603682&4294967295)<<7&4294967295|g>>>25))+((g=h+(a^e&(t^a))+i[13]+4254626195&4294967295)<<12&4294967295|g>>>20))+((g=a+(t^h&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|g>>>15))+((g=t+(e^a&(h^e))+i[15]+1236535329&4294967295)<<22&4294967295|g>>>10))+((g=e+(a^h&(t^a))+i[1]+4129170786&4294967295)<<5&4294967295|g>>>27))+((g=h+(t^a&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|g>>>23))+((g=a+(e^t&(h^e))+i[11]+643717713&4294967295)<<14&4294967295|g>>>18))+((g=t+(h^e&(a^h))+i[0]+3921069994&4294967295)<<20&4294967295|g>>>12))+((g=e+(a^h&(t^a))+i[5]+3593408605&4294967295)<<5&4294967295|g>>>27))+((g=h+(t^a&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|g>>>23))+((g=a+(e^t&(h^e))+i[15]+3634488961&4294967295)<<14&4294967295|g>>>18))+((g=t+(h^e&(a^h))+i[4]+3889429448&4294967295)<<20&4294967295|g>>>12))+((g=e+(a^h&(t^a))+i[9]+568446438&4294967295)<<5&4294967295|g>>>27))+((g=h+(t^a&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|g>>>23))+((g=a+(e^t&(h^e))+i[3]+4107603335&4294967295)<<14&4294967295|g>>>18))+((g=t+(h^e&(a^h))+i[8]+1163531501&4294967295)<<20&4294967295|g>>>12))+((g=e+(a^h&(t^a))+i[13]+2850285829&4294967295)<<5&4294967295|g>>>27))+((g=h+(t^a&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|g>>>23))+((g=a+(e^t&(h^e))+i[7]+1735328473&4294967295)<<14&4294967295|g>>>18))+((g=t+(h^e&(a^h))+i[12]+2368359562&4294967295)<<20&4294967295|g>>>12))+((g=e+(t^a^h)+i[5]+4294588738&4294967295)<<4&4294967295|g>>>28))+((g=h+(e^t^a)+i[8]+2272392833&4294967295)<<11&4294967295|g>>>21))+((g=a+(h^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|g>>>16))+((g=t+(a^h^e)+i[14]+4259657740&4294967295)<<23&4294967295|g>>>9))+((g=e+(t^a^h)+i[1]+2763975236&4294967295)<<4&4294967295|g>>>28))+((g=h+(e^t^a)+i[4]+1272893353&4294967295)<<11&4294967295|g>>>21))+((g=a+(h^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|g>>>16))+((g=t+(a^h^e)+i[10]+3200236656&4294967295)<<23&4294967295|g>>>9))+((g=e+(t^a^h)+i[13]+681279174&4294967295)<<4&4294967295|g>>>28))+((g=h+(e^t^a)+i[0]+3936430074&4294967295)<<11&4294967295|g>>>21))+((g=a+(h^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|g>>>16))+((g=t+(a^h^e)+i[6]+76029189&4294967295)<<23&4294967295|g>>>9))+((g=e+(t^a^h)+i[9]+3654602809&4294967295)<<4&4294967295|g>>>28))+((g=h+(e^t^a)+i[12]+3873151461&4294967295)<<11&4294967295|g>>>21))+((g=a+(h^e^t)+i[15]+530742520&4294967295)<<16&4294967295|g>>>16))+((g=t+(a^h^e)+i[2]+3299628645&4294967295)<<23&4294967295|g>>>9))+((g=e+(a^(t|~h))+i[0]+4096336452&4294967295)<<6&4294967295|g>>>26))+((g=h+(t^(e|~a))+i[7]+1126891415&4294967295)<<10&4294967295|g>>>22))+((g=a+(e^(h|~t))+i[14]+2878612391&4294967295)<<15&4294967295|g>>>17))+((g=t+(h^(a|~e))+i[5]+4237533241&4294967295)<<21&4294967295|g>>>11))+((g=e+(a^(t|~h))+i[12]+1700485571&4294967295)<<6&4294967295|g>>>26))+((g=h+(t^(e|~a))+i[3]+2399980690&4294967295)<<10&4294967295|g>>>22))+((g=a+(e^(h|~t))+i[10]+4293915773&4294967295)<<15&4294967295|g>>>17))+((g=t+(h^(a|~e))+i[1]+2240044497&4294967295)<<21&4294967295|g>>>11))+((g=e+(a^(t|~h))+i[8]+1873313359&4294967295)<<6&4294967295|g>>>26))+((g=h+(t^(e|~a))+i[15]+4264355552&4294967295)<<10&4294967295|g>>>22))+((g=a+(e^(h|~t))+i[6]+2734768916&4294967295)<<15&4294967295|g>>>17))+((g=t+(h^(a|~e))+i[13]+1309151649&4294967295)<<21&4294967295|g>>>11))+((h=(e=t+((g=e+(a^(t|~h))+i[4]+4149444226&4294967295)<<6&4294967295|g>>>26))+((g=h+(t^(e|~a))+i[11]+3174756917&4294967295)<<10&4294967295|g>>>22))^((a=h+((g=a+(e^(h|~t))+i[2]+718787259&4294967295)<<15&4294967295|g>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(a+(g<<21&4294967295|g>>>11))&4294967295,n.g[2]=n.g[2]+a&4294967295,n.g[3]=n.g[3]+h&4294967295}function Ti(n,e){this.h=e;for(var t=[],i=!0,a=n.length-1;0<=a;a--){var h=0|n[a];i&&h==e||(t[a]=h,i=!1)}this.g=t}(Yt=Bo.prototype).Oa=function(n){this.M=n},Yt.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():er.g(),this.C=function kt(n){return n.h||(n.h=n.i())}(this.u?this.u:er),this.g.onreadystatechange=pa(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(h){return void eD(this,h)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var a in i)t.set(a,i[a]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const h of i.keys())t.set(h,i.get(h))}i=Array.from(t.keys()).find(h=>"content-type"==h.toLowerCase()),a=Zn.FormData&&n instanceof Zn.FormData,!(0<=Em(tS,e))||i||a||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[h,g]of t)this.g.setRequestHeader(h,g);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{nD(this),0<this.B&&((this.L=function XE(n){return eh&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=pa(this.ua,this)):this.A=Bp(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(h){eD(this,h)}},Yt.ua=function(){typeof _v<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Vo(this,"timeout"),this.abort(8))},Yt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Vo(this,"complete"),Vo(this,"abort"),qm(this))},Yt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),qm(this,!0)),Bo.$.N.call(this)},Yt.La=function(){this.s||(this.G||this.v||this.l?l1(this):this.kb())},Yt.kb=function(){l1(this)},Yt.isActive=function(){return!!this.g},Yt.da=function(){try{return 2<au(this)?this.g.status:-1}catch{return-1}},Yt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Yt.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),JE(e)}},Yt.Ia=function(){return this.m},Yt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Yt=or.prototype).ra=8,Yt.H=1,Yt.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const a=new ir(this,this.l,n);let h=this.s;if(this.U&&(h?(h=e1(h),Rp(h,this.U)):h=this.U),null!==this.o||this.O||(a.I=h,h=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Pv(this,a,e),di(t=Ya(this.I),"RID",n),di(t,"CVER",22),this.F&&di(t,"X-HTTP-Session-Id",this.F),Pl(this,t),h&&(this.O?e="headers="+encodeURIComponent(String(aw(h)))+"&"+e:this.o&&xv(t,this.o,h)),Mv(this.i,a),this.bb&&di(t,"TYPE","init"),this.P?(di(t,"$req",e),di(t,"SID","null"),a.aa=!0,Eo(a,t,null)):Eo(a,t,e),this.H=2}}else 3==this.H&&(n?Ym(this,n):0==this.j.length||nw(this.i)||Ym(this))},Yt.Ma=function(){if(this.u=null,Fv(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Ge(pa(this.jb,this),n)}},Yt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,_e(10),Zm(this),Fv(this))},Yt.ib=function(){null!=this.v&&(this.v=null,Zm(this),kv(this),_e(19))},Yt.pb=function(n){n?(this.l.info("Successfully pinged google.com"),_e(2)):(this.l.info("Failed to ping google.com"),_e(1))},Yt.isActive=function(){return!!this.h&&this.h.isActive(this)},(Yt=lw.prototype).Ba=function(){},Yt.Aa=function(){},Yt.za=function(){},Yt.ya=function(){},Yt.isActive=function(){return!0},Yt.Va=function(){},Vv.prototype.g=function(n,e){return new cu(n,e)},Js(cu,As),cu.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;_e(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=uw(n,null,n.Y),Km(n)},cu.prototype.close=function(){Rv(this.g)},cu.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=n1(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&Km(e)},cu.prototype.N=function(){this.g.h=null,delete this.j,Rv(this.g),delete this.g,cu.$.N.call(this)},Js(dw,_n),Js(p1,Cr),Js(mf,lw),mf.prototype.Ba=function(){Vo(this.g,"a")},mf.prototype.Aa=function(n){Vo(this.g,new dw(n))},mf.prototype.za=function(n){Vo(this.g,new p1)},mf.prototype.ya=function(){Vo(this.g,"b")},Js(el,function iD(){this.blockSize=-1}),el.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},el.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,a=this.h,h=0;h<e;){if(0==a)for(;h<=t;)fc(this,n,h),h+=this.blockSize;if("string"==typeof n){for(;h<e;)if(i[a++]=n.charCodeAt(h++),a==this.blockSize){fc(this,i),a=0;break}}else for(;h<e;)if(i[a++]=n[h++],a==this.blockSize){fc(this,i),a=0;break}}this.h=a,this.i+=e},el.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var oD={};function hw(n){return-128<=n&&128>n?function $I(n,e){var t=oD;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Ti([0|e],0>e?-1:0)}):new Ti([0|n],0>n?-1:0)}function Nu(n){if(isNaN(n)||!isFinite(n))return Kp;if(0>n)return Xs(Nu(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=m1;return new Ti(e,0)}var m1=4294967296,Kp=hw(0),_1=hw(1),v1=hw(16777216);function bd(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Ou(n){return-1==n.h}function Xs(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new Ti(t,~n.h).add(_1)}function Bv(n,e){return n.add(Xs(e))}function Uv(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Jm(n,e){this.g=n,this.h=e}function Hv(n,e){if(bd(e))throw Error("division by zero");if(bd(n))return new Jm(Kp,Kp);if(Ou(n))return e=Hv(Xs(n),e),new Jm(Xs(e.g),Xs(e.h));if(Ou(e))return e=Hv(n,Xs(e)),new Jm(Xs(e.g),e.h);if(30<n.g.length){if(Ou(n)||Ou(e))throw Error("slowDivide_ only works with positive integers.");for(var t=_1,i=e;0>=i.X(n);)t=fw(t),i=fw(i);var a=pc(t,1),h=pc(i,1);for(i=pc(i,2),t=pc(t,2);!bd(i);){var g=h.add(i);0>=g.X(n)&&(a=a.add(t),h=g),i=pc(i,1),t=pc(t,1)}return e=Bv(n,a.R(e)),new Jm(a,e)}for(a=Kp;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),g=(h=Nu(t)).R(e);Ou(g)||0<g.X(n);)g=(h=Nu(t-=i)).R(e);bd(h)&&(h=_1),a=a.add(h),n=Bv(n,g)}return new Jm(a,n)}function fw(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Ti(t,n.h)}function pc(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,a=[],h=0;h<i;h++)a[h]=0<e?n.D(h+t)>>>e|n.D(h+t+1)<<32-e:n.D(h+t);return new Ti(a,n.h)}(Yt=Ti.prototype).ea=function(){if(Ou(this))return-Xs(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:m1+i)*e,e*=m1}return n},Yt.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(bd(this))return"0";if(Ou(this))return"-"+Xs(this).toString(n);for(var e=Nu(Math.pow(n,6)),t=this,i="";;){var a=Hv(t,e).g,h=((0<(t=Bv(t,a.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(bd(t=a))return h+i;for(;6>h.length;)h="0"+h;i=h+i}},Yt.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Yt.X=function(n){return Ou(n=Bv(this,n))?-1:bd(n)?0:1},Yt.abs=function(){return Ou(this)?Xs(this):this},Yt.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,a=0;a<=e;a++){var h=i+(65535&this.D(a))+(65535&n.D(a)),g=(h>>>16)+(this.D(a)>>>16)+(n.D(a)>>>16);i=g>>>16,t[a]=(g&=65535)<<16|(h&=65535)}return new Ti(t,-2147483648&t[t.length-1]?-1:0)},Yt.R=function(n){if(bd(this)||bd(n))return Kp;if(Ou(this))return Ou(n)?Xs(this).R(Xs(n)):Xs(Xs(this).R(n));if(Ou(n))return Xs(this.R(Xs(n)));if(0>this.X(v1)&&0>n.X(v1))return Nu(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var a=0;a<n.g.length;a++){var h=this.D(i)>>>16,g=65535&this.D(i),T=n.D(a)>>>16,P=65535&n.D(a);t[2*i+2*a]+=g*P,Uv(t,2*i+2*a),t[2*i+2*a+1]+=h*P,Uv(t,2*i+2*a+1),t[2*i+2*a+1]+=g*T,Uv(t,2*i+2*a+1),t[2*i+2*a+2]+=h*T,Uv(t,2*i+2*a+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new Ti(t,0)},Yt.gb=function(n){return Hv(this,n).h},Yt.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new Ti(t,this.h&n.h)},Yt.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new Ti(t,this.h|n.h)},Yt.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new Ti(t,this.h^n.h)},Vv.prototype.createWebChannel=Vv.prototype.g,cu.prototype.send=cu.prototype.u,cu.prototype.open=cu.prototype.m,cu.prototype.close=cu.prototype.close,qe.NO_ERROR=0,qe.TIMEOUT=8,qe.HTTP_ERROR=6,Vt.COMPLETE="complete",Kn.EventType=Yn,Yn.OPEN="a",Yn.CLOSE="b",Yn.ERROR="c",Yn.MESSAGE="d",As.prototype.listen=As.prototype.O,Bo.prototype.listenOnce=Bo.prototype.P,Bo.prototype.getLastError=Bo.prototype.Sa,Bo.prototype.getLastErrorCode=Bo.prototype.Ia,Bo.prototype.getStatus=Bo.prototype.da,Bo.prototype.getResponseJson=Bo.prototype.Wa,Bo.prototype.getResponseText=Bo.prototype.ja,Bo.prototype.send=Bo.prototype.ha,Bo.prototype.setWithCredentials=Bo.prototype.Oa,el.prototype.digest=el.prototype.l,el.prototype.reset=el.prototype.reset,el.prototype.update=el.prototype.j,Ti.prototype.add=Ti.prototype.add,Ti.prototype.multiply=Ti.prototype.R,Ti.prototype.modulo=Ti.prototype.gb,Ti.prototype.compare=Ti.prototype.X,Ti.prototype.toNumber=Ti.prototype.ea,Ti.prototype.toString=Ti.prototype.toString,Ti.prototype.getBits=Ti.prototype.D,Ti.fromNumber=Nu,Ti.fromString=function g1(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Xs(g1(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Nu(Math.pow(e,8)),i=Kp,a=0;a<n.length;a+=8){var h=Math.min(8,n.length-a),g=parseInt(n.substring(a,a+h),e);8>h?(h=Nu(Math.pow(e,h)),i=i.R(h).add(Nu(g))):i=(i=i.R(t)).add(Nu(g))}return i};var y1=Mc.createWebChannelTransport=function(){return new Vv},sD=Mc.getStatEventTarget=function(){return p()},Gv=Mc.ErrorCode=qe,aD=Mc.EventType=Vt,pw=Mc.Event=w,b1=Mc.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},jv=Mc.FetchXmlHttpFactory=ff,Yp=Mc.WebChannel=Kn,nS=Mc.XhrIo=Bo,gw=Mc.Md5=el,_f=Mc.Integer=Ti;const I1="@firebase/firestore";class ea{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ea.UNAUTHENTICATED=new ea(null),ea.GOOGLE_CREDENTIALS=new ea("google-credentials-uid"),ea.FIRST_PARTY=new ea("first-party-uid"),ea.MOCK_USER=new ea("mock-user");let lh="9.23.0";const Qa=new Se.Yd("@firebase/firestore");function w1(){return Qa.logLevel}function Ot(n,...e){if(Qa.logLevel<=Se.in.DEBUG){const t=e.map(T1);Qa.debug(`Firestore (${lh}): ${n}`,...t)}}function ss(n,...e){if(Qa.logLevel<=Se.in.ERROR){const t=e.map(T1);Qa.error(`Firestore (${lh}): ${n}`,...t)}}function Mu(n,...e){if(Qa.logLevel<=Se.in.WARN){const t=e.map(T1);Qa.warn(`Firestore (${lh}): ${n}`,...t)}}function T1(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function un(n="Unexpected state"){const e=`FIRESTORE (${lh}) INTERNAL ASSERTION FAILED: `+n;throw ss(e),new Error(e)}function vn(n,e){n||un()}function Zt(n,e){return n}const nt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Dt extends le.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ms{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class E1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ea.UNAUTHENTICATED))}shutdown(){}}class lD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class mw{constructor(e){this.t=e,this.currentUser=ea.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let a=this.i;const h=U=>this.i!==a?(a=this.i,t(U)):Promise.resolve();let g=new Ms;this.o=()=>{this.i++,this.currentUser=this.u(),g.resolve(),g=new Ms,e.enqueueRetryable(()=>h(this.currentUser))};const T=()=>{const U=g;e.enqueueRetryable((0,l.Z)(function*(){yield U.promise,yield h(i.currentUser)}))},P=U=>{Ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=U,this.auth.addAuthTokenListener(this.o),T()};this.t.onInit(U=>P(U)),setTimeout(()=>{if(!this.auth){const U=this.t.getImmediate({optional:!0});U?P(U):(Ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),g.resolve(),g=new Ms)}},0),T()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(vn("string"==typeof i.accessToken),new E1(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return vn(null===e||"string"==typeof e),new ea(e)}}class _w{constructor(e,t,i){this.h=e,this.l=t,this.m=i,this.type="FirstParty",this.user=ea.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Xm{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new _w(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ea.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class vw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yw{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const i=h=>{null!=h.error&&Ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const g=h.token!==this.T;return this.T=h.token,Ot("FirebaseAppCheckTokenProvider",`Received ${g?"new":"existing"} token.`),g?t(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>i(h))};const a=h=>{Ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.appCheck.addTokenListener(this.o)};this.I.onInit(h=>a(h)),setTimeout(()=>{if(!this.appCheck){const h=this.I.getImmediate({optional:!0});h?a(h):Ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(vn("string"==typeof t.token),this.T=t.token,new vw(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function hD(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class bw{static A(){const t=62*Math.floor(256/62);let i="";for(;i.length<20;){const a=hD(40);for(let h=0;h<a.length;++h)i.length<20&&a[h]<t&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(a[h]%62))}return i}}function Gn(n,e){return n<e?-1:n>e?1:0}function Qp(n,e,t){return n.length===e.length&&n.every((i,a)=>t(i,e[a]))}class Co{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Dt(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Dt(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Dt(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Dt(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Co.fromMillis(Date.now())}static fromDate(e){return Co.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Co(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Gn(this.nanoseconds,e.nanoseconds):Gn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Mn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Mn(e)}static min(){return new Mn(new Co(0,0))}static max(){return new Mn(new Co(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class e_{constructor(e,t,i){void 0===t?t=0:t>e.length&&un(),void 0===i?i=e.length-t:i>e.length-t&&un(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===e_.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof e_?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const h=e.get(a),g=t.get(a);if(h<g)return-1;if(h>g)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Zr extends e_{construct(e,t,i){return new Zr(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Dt(nt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(a=>a.length>0))}return new Zr(t)}static emptyPath(){return new Zr([])}}const fD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class as extends e_{construct(e,t,i){return new as(e,t,i)}static isValidIdentifier(e){return fD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),as.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new as(["__name__"])}static fromServerFormat(e){const t=[];let i="",a=0;const h=()=>{if(0===i.length)throw new Dt(nt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let g=!1;for(;a<e.length;){const T=e[a];if("\\"===T){if(a+1===e.length)throw new Dt(nt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const P=e[a+1];if("\\"!==P&&"."!==P&&"`"!==P)throw new Dt(nt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=P,a+=2}else"`"===T?(g=!g,a++):"."!==T||g?(i+=T,a++):(h(),a++)}if(h(),g)throw new Dt(nt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new as(t)}static emptyPath(){return new as([])}}class Qt{constructor(e){this.path=e}static fromPath(e){return new Qt(Zr.fromString(e))}static fromName(e){return new Qt(Zr.fromString(e).popFirst(5))}static empty(){return new Qt(Zr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Zr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Zr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Qt(new Zr(e.slice()))}}function Tw(n){return new Pc(n.readTime,n.key,-1)}class Pc{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Pc(Mn.min(),Qt.empty(),-1)}static max(){return new Pc(Mn.max(),Qt.empty(),-1)}}function zv(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Qt.comparator(n.documentKey,e.documentKey),0!==t?t:Gn(n.largestBatchId,e.largestBatchId))}const C1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function vf(n){return Wv.apply(this,arguments)}function Wv(){return Wv=(0,l.Z)(function*(n){if(n.code!==nt.FAILED_PRECONDITION||n.message!==C1)throw n;Ot("LocalStore","Unexpectedly lost primary lease")}),Wv.apply(this,arguments)}class Ke{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&un(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ke((i,a)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(i,a)},this.catchCallback=h=>{this.wrapFailure(t,h).next(i,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ke?t:Ke.resolve(t)}catch(t){return Ke.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ke.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ke.reject(t)}static resolve(e){return new Ke((t,i)=>{t(e)})}static reject(e){return new Ke((t,i)=>{i(e)})}static waitFor(e){return new Ke((t,i)=>{let a=0,h=0,g=!1;e.forEach(T=>{++a,T.next(()=>{++h,g&&h===a&&t()},P=>i(P))}),g=!0,h===a&&t()})}static or(e){let t=Ke.resolve(!1);for(const i of e)t=t.next(a=>a?Ke.resolve(a):i());return t}static forEach(e,t){const i=[];return e.forEach((a,h)=>{i.push(t.call(this,a,h))}),this.waitFor(i)}static mapArray(e,t){return new Ke((i,a)=>{const h=e.length,g=new Array(h);let T=0;for(let P=0;P<h;P++){const U=P;t(e[U]).next(ee=>{g[U]=ee,++T,T===h&&i(g)},ee=>a(ee))}})}static doWhile(e,t){return new Ke((i,a)=>{const h=()=>{!0===e()?t().next(()=>{h()},a):i()};h()})}}function Fl(n){return"IndexedDbTransactionError"===n.name}let fo=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ot(a),this.ut=a=>i.writeSequenceNumber(a))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function bf(n){return null==n}function Ll(n){return 0===n&&1/n==-1/0}function tg(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Vl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function r_(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Fi{constructor(e,t){this.comparator=e,this.root=t||va.EMPTY}insert(e,t){return new Fi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,va.BLACK,null,null))}remove(e){return new Fi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,va.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(0===a)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dh(this.root,e,this.comparator,!1)}getReverseIterator(){return new dh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dh(this.root,e,this.comparator,!0)}}class dh{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=t?i(e.key,t):1,t&&a&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(0===h){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class va{constructor(e,t,i,a,h){this.key=e,this.value=t,this.color=i??va.RED,this.left=a??va.EMPTY,this.right=h??va.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,h){return new va(e??this.key,t??this.value,i??this.color,a??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const h=i(e,a.key);return a=h<0?a.copy(null,null,null,a.left.insert(e,t,i),null):0===h?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return va.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return va.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,va.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,va.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw un();const e=this.left.check();if(e!==this.right.check())throw un();return e+(this.isRed()?0:1)}}va.EMPTY=null,va.RED=!0,va.BLACK=!1,va.EMPTY=new class{constructor(){this.size=0}get key(){throw un()}get value(){throw un()}get color(){throw un()}get left(){throw un()}get right(){throw un()}copy(n,e,t,i,a){return this}insert(n,e,t){return new va(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class so{constructor(e){this.comparator=e,this.data=new Fi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ng(this.data.getIterator())}getIteratorFrom(e){return new ng(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof so)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,h=i.getNext().key;if(0!==this.comparator(a,h))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new so(this.comparator);return t.data=e,t}}class ng{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Fc{constructor(e){this.fields=e,e.sort(as.comparator)}static empty(){return new Fc([])}unionWith(e){let t=new so(as.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Fc(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Qp(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class Pw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class us{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Pw("Invalid base64 string: "+a):a}}(e);return new us(t)}static fromUint8Array(e){const t=function(i){let a="";for(let h=0;h<i.length;++h)a+=String.fromCharCode(i[h]);return a}(e);return new us(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Gn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}us.EMPTY_BYTE_STRING=new us("");const Zv=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function tl(n){if(vn(!!n),"string"==typeof n){let e=0;const t=Zv.exec(n);if(vn(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ls(n.seconds),nanos:ls(n.nanos)}}function ls(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function wd(n){return"string"==typeof n?us.fromBase64String(n):us.fromUint8Array(n)}function Kv(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function ig(n){const e=n.mapValue.fields.__previous_value__;return Kv(e)?ig(e):e}function i_(n){const e=tl(n.mapValue.fields.__local_write_time__.timestampValue);return new Co(e.seconds,e.nanos)}class kw{constructor(e,t,i,a,h,g,T,P,U){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=h,this.forceLongPolling=g,this.autoDetectLongPolling=T,this.longPollingOptions=P,this.useFetchStreams=U}}class Df{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Df("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Df&&e.projectId===this.projectId&&e.database===this.database}}const hh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Td(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Kv(n)?4:Lw(n)?9007199254740991:10:un()}function nl(n,e){if(n===e)return!0;const t=Td(n);if(t!==Td(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return i_(n).isEqual(i_(e));case 3:return function(i,a){if("string"==typeof i.timestampValue&&"string"==typeof a.timestampValue&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const h=tl(i.timestampValue),g=tl(a.timestampValue);return h.seconds===g.seconds&&h.nanos===g.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return a=e,wd(n.bytesValue).isEqual(wd(a.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,a){return ls(i.geoPointValue.latitude)===ls(a.geoPointValue.latitude)&&ls(i.geoPointValue.longitude)===ls(a.geoPointValue.longitude)}(n,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return ls(i.integerValue)===ls(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const h=ls(i.doubleValue),g=ls(a.doubleValue);return h===g?Ll(h)===Ll(g):isNaN(h)&&isNaN(g)}return!1}(n,e);case 9:return Qp(n.arrayValue.values||[],e.arrayValue.values||[],nl);case 10:return function(i,a){const h=i.mapValue.fields||{},g=a.mapValue.fields||{};if(tg(h)!==tg(g))return!1;for(const T in h)if(h.hasOwnProperty(T)&&(void 0===g[T]||!nl(h[T],g[T])))return!1;return!0}(n,e);default:return un()}var a}function s_(n,e){return void 0!==(n.values||[]).find(t=>nl(t,e))}function fh(n,e){if(n===e)return 0;const t=Td(n),i=Td(e);if(t!==i)return Gn(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Gn(n.booleanValue,e.booleanValue);case 2:return function(a,h){const g=ls(a.integerValue||a.doubleValue),T=ls(h.integerValue||h.doubleValue);return g<T?-1:g>T?1:g===T?0:isNaN(g)?isNaN(T)?0:-1:1}(n,e);case 3:return Fw(n.timestampValue,e.timestampValue);case 4:return Fw(i_(n),i_(e));case 5:return Gn(n.stringValue,e.stringValue);case 6:return function(a,h){const g=wd(a),T=wd(h);return g.compareTo(T)}(n.bytesValue,e.bytesValue);case 7:return function(a,h){const g=a.split("/"),T=h.split("/");for(let P=0;P<g.length&&P<T.length;P++){const U=Gn(g[P],T[P]);if(0!==U)return U}return Gn(g.length,T.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,h){const g=Gn(ls(a.latitude),ls(h.latitude));return 0!==g?g:Gn(ls(a.longitude),ls(h.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(a,h){const g=a.values||[],T=h.values||[];for(let P=0;P<g.length&&P<T.length;++P){const U=fh(g[P],T[P]);if(U)return U}return Gn(g.length,T.length)}(n.arrayValue,e.arrayValue);case 10:return function(a,h){if(a===hh.mapValue&&h===hh.mapValue)return 0;if(a===hh.mapValue)return 1;if(h===hh.mapValue)return-1;const g=a.fields||{},T=Object.keys(g),P=h.fields||{},U=Object.keys(P);T.sort(),U.sort();for(let ee=0;ee<T.length&&ee<U.length;++ee){const de=Gn(T[ee],U[ee]);if(0!==de)return de;const Fe=fh(g[T[ee]],P[U[ee]]);if(0!==Fe)return Fe}return Gn(T.length,U.length)}(n.mapValue,e.mapValue);default:throw un()}}function Fw(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Gn(n,e);const t=tl(n),i=tl(e),a=Gn(t.seconds,i.seconds);return 0!==a?a:Gn(t.nanos,i.nanos)}function Cf(n){return a_(n)}function a_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const a=tl(i);return`time(${a.seconds},${a.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?wd(n.bytesValue).toBase64():"referenceValue"in n?Qt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let a="[",h=!0;for(const g of i.values||[])h?h=!1:a+=",",a+=a_(g);return a+"]"}(n.arrayValue):"mapValue"in n?function(i){const a=Object.keys(i.fields||{}).sort();let h="{",g=!0;for(const T of a)g?g=!1:h+=",",h+=`${T}:${a_(i.fields[T])}`;return h+"}"}(n.mapValue):un();var e}function Sf(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function sg(n){return!!n&&"integerValue"in n}function ph(n){return!!n&&"arrayValue"in n}function Yv(n){return!!n&&"nullValue"in n}function O1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Qv(n){return!!n&&"mapValue"in n}function c_(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Vl(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=c_(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=c_(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Lw(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class ka{constructor(e){this.value=e}static empty(){return new ka({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Qv(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=c_(t)}setAll(e){let t=as.emptyPath(),i={},a=[];e.forEach((g,T)=>{if(!t.isImmediateParentOf(T)){const P=this.getFieldsMap(t);this.applyChanges(P,i,a),i={},a=[],t=T.popLast()}g?i[T.lastSegment()]=c_(g):a.push(T.lastSegment())});const h=this.getFieldsMap(t);this.applyChanges(h,i,a)}delete(e){const t=this.field(e.popLast());Qv(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return nl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];Qv(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){Vl(t,(a,h)=>e[a]=h);for(const a of i)delete e[a]}clone(){return new ka(c_(this.value))}}function Vw(n){const e=[];return Vl(n.fields,(t,i)=>{const a=new as([t]);if(Qv(i)){const h=Vw(i.mapValue).fields;if(0===h.length)e.push(a);else for(const g of h)e.push(a.child(g))}else e.push(a)}),new Fc(e)}class zi{constructor(e,t,i,a,h,g,T){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=h,this.data=g,this.documentState=T}static newInvalidDocument(e){return new zi(e,0,Mn.min(),Mn.min(),Mn.min(),ka.empty(),0)}static newFoundDocument(e,t,i,a){return new zi(e,1,t,Mn.min(),i,a,0)}static newNoDocument(e,t){return new zi(e,2,t,Mn.min(),Mn.min(),ka.empty(),0)}static newUnknownDocument(e,t){return new zi(e,3,t,Mn.min(),Mn.min(),ka.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Mn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ka.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ka.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Mn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof zi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Bl{constructor(e,t){this.position=e,this.inclusive=t}}function R1(n,e,t){let i=0;for(let a=0;a<n.position.length;a++){const h=e[a],g=n.position[a];if(i=h.field.isKeyField()?Qt.comparator(Qt.fromName(g.referenceValue),t.key):fh(g,t.data.field(h.field)),"desc"===h.dir&&(i*=-1),0!==i)break}return i}function ey(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!nl(n.position[t],e.position[t]))return!1;return!0}class Af{constructor(e,t="asc"){this.field=e,this.dir=t}}function CD(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class P1{}class Pr extends P1{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new Bw(e,t,i):"array-contains"===t?new Gw(e,i):"in"===t?new U1(e,i):"not-in"===t?new ny(e,i):"array-contains-any"===t?new gh(e,i):new Pr(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new Uw(e,i):new Hw(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(fh(t,this.value)):null!==t&&Td(this.value)===Td(t)&&this.matchesComparison(fh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return un()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class fi extends P1{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new fi(e,t)}matches(e){return Nf(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Nf(n){return"and"===n.op}function ty(n){return function F1(n){for(const e of n.filters)if(e instanceof fi)return!1;return!0}(n)&&Nf(n)}function u_(n){if(n instanceof Pr)return n.field.canonicalString()+n.op.toString()+Cf(n.value);if(ty(n))return n.filters.map(e=>u_(e)).join(",");{const e=n.filters.map(t=>u_(t)).join(",");return`${n.op}(${e})`}}function l_(n,e){return n instanceof Pr?(t=n,(i=e)instanceof Pr&&t.op===i.op&&t.field.isEqual(i.field)&&nl(t.value,i.value)):n instanceof fi?function(t,i){return i instanceof fi&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((a,h,g)=>a&&l_(h,i.filters[g]),!0)}(n,e):void un();var t,i}function V1(n){return n instanceof Pr?`${(e=n).field.canonicalString()} ${e.op} ${Cf(e.value)}`:n instanceof fi?function(e){return e.op.toString()+" {"+e.getFilters().map(V1).join(" ,")+"}"}(n):"Filter";var e}class Bw extends Pr{constructor(e,t,i){super(e,t,i),this.key=Qt.fromName(i.referenceValue)}matches(e){const t=Qt.comparator(e.key,this.key);return this.matchesComparison(t)}}class Uw extends Pr{constructor(e,t){super(e,"in",t),this.keys=B1(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Hw extends Pr{constructor(e,t){super(e,"not-in",t),this.keys=B1(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function B1(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>Qt.fromName(i.referenceValue))}class Gw extends Pr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ph(t)&&s_(t.arrayValue,this.value)}}class U1 extends Pr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&s_(this.value.arrayValue,t)}}class ny extends Pr{constructor(e,t){super(e,"not-in",t)}matches(e){if(s_(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!s_(this.value.arrayValue,t)}}class gh extends Pr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ph(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>s_(this.value.arrayValue,i))}}class SD{constructor(e,t=null,i=[],a=[],h=null,g=null,T=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=h,this.startAt=g,this.endAt=T,this.dt=null}}function H1(n,e=null,t=[],i=[],a=null,h=null,g=null){return new SD(n,e,t,i,a,h,g)}function Ed(n){const e=Zt(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>u_(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(a=i).field.canonicalString()+a.dir;var a}).join(","),bf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Cf(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Cf(i)).join(",")),e.dt=t}return e.dt}function rl(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!CD(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!l_(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!ey(n.startAt,e.startAt)&&ey(n.endAt,e.endAt)}function ag(n){return Qt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class mh{constructor(e,t=null,i=[],a=[],h=null,g="F",T=null,P=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=h,this.limitType=g,this.startAt=T,this.endAt=P,this.wt=null,this._t=null}}function cg(n){return new mh(n)}function G1(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function j1(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Uo(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function oy(n){return null!==n.collectionGroup}function Of(n){const e=Zt(n);if(null===e.wt){e.wt=[];const t=Uo(e),i=j1(e);if(null!==t&&null===i)t.isKeyField()||e.wt.push(new Af(t)),e.wt.push(new Af(as.keyField(),"asc"));else{let a=!1;for(const h of e.explicitOrderBy)e.wt.push(h),h.field.isKeyField()&&(a=!0);if(!a){const h=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Af(as.keyField(),h))}}}return e.wt}function mc(n){const e=Zt(n);if(!e._t)if("F"===e.limitType)e._t=H1(e.path,e.collectionGroup,Of(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const h of Of(e))t.push(new Af(h.field,"desc"===h.dir?"asc":"desc"));const i=e.endAt?new Bl(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new Bl(e.startAt.position,e.startAt.inclusive):null;e._t=H1(e.path,e.collectionGroup,t,e.filters,e.limit,i,a)}return e._t}function sy(n,e){e.getFirstInequalityField(),Uo(n);const t=n.filters.concat([e]);return new mh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function ay(n,e,t){return new mh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ug(n,e){return rl(mc(n),mc(e))&&n.limitType===e.limitType}function $1(n){return`${Ed(mc(n))}|lt:${n.limitType}`}function _h(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>V1(i)).join(", ")}]`),bf(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(a=i).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Cf(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Cf(i)).join(",")),`Target(${t})`}(mc(n))}; limitType=${n.limitType})`}function d_(n,e){return e.isFoundDocument()&&function(t,i){const a=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):Qt.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(n,e)&&function(t,i){for(const a of Of(t))if(!a.field.isKeyField()&&null===i.data.field(a.field))return!1;return!0}(n,e)&&function(t,i){for(const a of t.filters)if(!a.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(a,h,g){const T=R1(a,h,g);return a.inclusive?T<=0:T<0}(t.startAt,Of(t),i)||t.endAt&&!function(a,h,g){const T=R1(a,h,g);return a.inclusive?T>=0:T>0}(t.endAt,Of(t),i)));var t,i}function z1(n){return(e,t)=>{let i=!1;for(const a of Of(n)){const h=ND(a,e,t);if(0!==h)return h;i=i||a.field.isKeyField()}return 0}}function ND(n,e,t){const i=n.field.isKeyField()?Qt.comparator(e.key,t.key):function(a,h,g){const T=h.data.field(a),P=g.data.field(a);return null!==T&&null!==P?fh(T,P):un()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return un()}}class Ul{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[a,h]of i)if(this.equalsFn(a,e))return h}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(void 0===a)return this.inner[i]=[[e,t]],void this.innerSize++;for(let h=0;h<a.length;h++)if(this.equalsFn(a[h][0],e))return void(a[h]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return 1===i.length?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Vl(this.inner,(t,i)=>{for(const[a,h]of i)e(a,h)})}isEmpty(){return r_(this.inner)}size(){return this.innerSize}}const aS=new Fi(Qt.comparator);function _c(){return aS}const cy=new Fi(Qt.comparator);function Lc(...n){let e=cy;for(const t of n)e=e.insert(t.key,t);return e}function zw(n){let e=cy;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function il(){return vc()}function ol(){return vc()}function vc(){return new Ul(n=>n.toString(),(n,e)=>n.isEqual(e))}const sl=new Fi(Qt.comparator),Ww=new so(Qt.comparator);function pr(...n){let e=Ww;for(const t of n)e=e.add(t);return e}const OD=new so(Gn);function qw(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ll(e)?"-0":e}}function Zw(n){return{integerValue:""+n}}function uy(n,e){return function If(n){return"number"==typeof n&&Number.isInteger(n)&&!Ll(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?Zw(e):qw(n,e)}class vh{constructor(){this._=void 0}}function MD(n,e,t){return n instanceof lg?function(i,a){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Kv(a)&&(a=ig(a)),a&&(h.fields.__previous_value__=a),{mapValue:h}}(t,e):n instanceof yh?q1(n,e):n instanceof Hl?Qw(n,e):function(i,a){const h=Yw(i,a),g=Z1(h)+Z1(i.gt);return sg(h)&&sg(i.gt)?Zw(g):qw(i.serializer,g)}(n,e)}function Kw(n,e,t){return n instanceof yh?q1(n,e):n instanceof Hl?Qw(n,e):t}function Yw(n,e){return n instanceof Mf?sg(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class lg extends vh{}class yh extends vh{constructor(e){super(),this.elements=e}}function q1(n,e){const t=K1(e);for(const i of n.elements)t.some(a=>nl(a,i))||t.push(i);return{arrayValue:{values:t}}}class Hl extends vh{constructor(e){super(),this.elements=e}}function Qw(n,e){let t=K1(e);for(const i of n.elements)t=t.filter(a=>!nl(a,i));return{arrayValue:{values:t}}}class Mf extends vh{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Z1(n){return ls(n.integerValue||n.doubleValue)}function K1(n){return ph(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class h_{constructor(e,t){this.field=e,this.transform=t}}class Y1{constructor(e,t){this.version=e,this.transformResults=t}}class Li{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Li}static exists(e){return new Li(void 0,e)}static updateTime(e){return new Li(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function f_(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class dg{}function Q1(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new fg(n.key,Li.none()):new xf(n.key,n.data,Li.none());{const t=n.data,i=ka.empty();let a=new so(as.comparator);for(let h of e.fields)if(!a.has(h)){let g=t.field(h);null===g&&h.length>1&&(h=h.popLast(),g=t.field(h)),null===g?i.delete(h):i.set(h,g),a=a.add(h)}return new Dd(n.key,i,new Fc(a.toArray()),Li.none())}}function Jw(n,e,t){n instanceof xf?function(i,a,h){const g=i.value.clone(),T=tT(i.fieldTransforms,a,h.transformResults);g.setAll(T),a.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(n,e,t):n instanceof Dd?function(i,a,h){if(!f_(i.precondition,a))return void a.convertToUnknownDocument(h.version);const g=tT(i.fieldTransforms,a,h.transformResults),T=a.data;T.setAll(eT(i)),T.setAll(g),a.convertToFoundDocument(h.version,T).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function hg(n,e,t,i){return n instanceof xf?function(a,h,g,T){if(!f_(a.precondition,h))return g;const P=a.value.clone(),U=nT(a.fieldTransforms,T,h);return P.setAll(U),h.convertToFoundDocument(h.version,P).setHasLocalMutations(),null}(n,e,t,i):n instanceof Dd?function(a,h,g,T){if(!f_(a.precondition,h))return g;const P=nT(a.fieldTransforms,T,h),U=h.data;return U.setAll(eT(a)),U.setAll(P),h.convertToFoundDocument(h.version,U).setHasLocalMutations(),null===g?null:g.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(ee=>ee.field))}(n,e,t,i):(g=t,f_(n.precondition,h=e)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):g);var h,g}function Xw(n,e){let t=null;for(const i of n.fieldTransforms){const a=e.data.field(i.field),h=Yw(i.transform,a||null);null!=h&&(null===t&&(t=ka.empty()),t.set(i.field,h))}return t||null}function J1(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&Qp(t,i,(a,h)=>function xD(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof yh&&i instanceof yh||t instanceof Hl&&i instanceof Hl?Qp(t.elements,i.elements,nl):t instanceof Mf&&i instanceof Mf?nl(t.gt,i.gt):t instanceof lg&&i instanceof lg);var t,i}(a,h))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class xf extends dg{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Dd extends dg{constructor(e,t,i,a,h=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function eT(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function tT(n,e,t){const i=new Map;vn(n.length===t.length);for(let a=0;a<t.length;a++){const h=n[a],g=h.transform,T=e.data.field(h.field);i.set(h.field,Kw(g,T,t[a]))}return i}function nT(n,e,t){const i=new Map;for(const a of n){const h=a.transform,g=t.data.field(a.field);i.set(a.field,MD(h,g,e))}return i}class fg extends dg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class X1 extends dg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class eb{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const h=this.mutations[a];h.key.isEqual(e.key)&&Jw(h,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=hg(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=hg(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=ol();return this.mutations.forEach(a=>{const h=e.get(a.key),g=h.overlayedDocument;let T=this.applyToLocalView(g,h.mutatedFields);T=t.has(a.key)?null:T;const P=Q1(g,T);null!==P&&i.set(a.key,P),g.isValidDocument()||g.convertToNoDocument(Mn.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),pr())}isEqual(e){return this.batchId===e.batchId&&Qp(this.mutations,e.mutations,(t,i)=>J1(t,i))&&Qp(this.baseMutations,e.baseMutations,(t,i)=>J1(t,i))}}class tb{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){vn(e.mutations.length===i.length);let a=sl;const h=e.mutations;for(let g=0;g<h.length;g++)a=a.insert(h[g].key,i[g].version);return new tb(e,t,i,a)}}class nb{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class PD{constructor(e,t){this.count=e,this.unchangedNames=t}}var Rs,Kr;function iT(n){if(void 0===n)return ss("GRPC error has no .code"),nt.UNKNOWN;switch(n){case Rs.OK:return nt.OK;case Rs.CANCELLED:return nt.CANCELLED;case Rs.UNKNOWN:return nt.UNKNOWN;case Rs.DEADLINE_EXCEEDED:return nt.DEADLINE_EXCEEDED;case Rs.RESOURCE_EXHAUSTED:return nt.RESOURCE_EXHAUSTED;case Rs.INTERNAL:return nt.INTERNAL;case Rs.UNAVAILABLE:return nt.UNAVAILABLE;case Rs.UNAUTHENTICATED:return nt.UNAUTHENTICATED;case Rs.INVALID_ARGUMENT:return nt.INVALID_ARGUMENT;case Rs.NOT_FOUND:return nt.NOT_FOUND;case Rs.ALREADY_EXISTS:return nt.ALREADY_EXISTS;case Rs.PERMISSION_DENIED:return nt.PERMISSION_DENIED;case Rs.FAILED_PRECONDITION:return nt.FAILED_PRECONDITION;case Rs.ABORTED:return nt.ABORTED;case Rs.OUT_OF_RANGE:return nt.OUT_OF_RANGE;case Rs.UNIMPLEMENTED:return nt.UNIMPLEMENTED;case Rs.DATA_LOSS:return nt.DATA_LOSS;default:return un()}}(Kr=Rs||(Rs={}))[Kr.OK=0]="OK",Kr[Kr.CANCELLED=1]="CANCELLED",Kr[Kr.UNKNOWN=2]="UNKNOWN",Kr[Kr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kr[Kr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kr[Kr.NOT_FOUND=5]="NOT_FOUND",Kr[Kr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kr[Kr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kr[Kr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kr[Kr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kr[Kr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kr[Kr.ABORTED=10]="ABORTED",Kr[Kr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kr[Kr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kr[Kr.INTERNAL=13]="INTERNAL",Kr[Kr.UNAVAILABLE=14]="UNAVAILABLE",Kr[Kr.DATA_LOSS=15]="DATA_LOSS";class rb{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return ly}static getOrCreateInstance(){return null===ly&&(ly=new rb),ly}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let ly=null;const sT=new _f([4294967295,4294967295],0);function ib(n){const e=function oT(){return new TextEncoder}().encode(n),t=new gw;return t.update(e),new Uint8Array(t.digest())}function ob(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new _f([t,i],0),new _f([a,h],0)]}class dy{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new pg(`Invalid padding: ${t}`);if(i<0)throw new pg(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new pg(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new pg(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=_f.fromNumber(this.It)}Et(e,t,i){let a=e.add(t.multiply(_f.fromNumber(i)));return 1===a.compare(sT)&&(a=new _f([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=ib(e),[i,a]=ob(t);for(let h=0;h<this.hashCount;h++){const g=this.Et(i,a,h);if(!this.At(g))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),g=new dy(h,a,t);return i.forEach(T=>g.insert(T)),g}insert(e){if(0===this.It)return;const t=ib(e),[i,a]=ob(t);for(let h=0;h<this.hashCount;h++){const g=this.Et(i,a,h);this.Rt(g)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class pg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class gg{constructor(e,t,i,a,h){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,mg.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new gg(Mn.min(),a,new Fi(Gn),_c(),pr())}}class mg{constructor(e,t,i,a,h){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new mg(i,t,pr(),pr(),pr())}}class p_{constructor(e,t,i,a){this.Pt=e,this.removedTargetIds=t,this.key=i,this.bt=a}}class sb{constructor(e,t){this.targetId=e,this.Vt=t}}class hy{constructor(e,t,i=us.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class ab{constructor(){this.St=0,this.Dt=cT(),this.Ct=us.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=pr(),t=pr(),i=pr();return this.Dt.forEach((a,h)=>{switch(h){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:un()}}),new mg(this.Ct,this.xt,e,t,i)}Ft(){this.Nt=!1,this.Dt=cT()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Rf{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=_c(),this.zt=aT(),this.Wt=new Fi(Gn)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const i=this.Zt(t);switch(e.state){case 0:this.te(t)&&i.$t(e.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(e.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(t);break;case 3:this.te(t)&&(i.Kt(),i.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),i.$t(e.resumeToken));break;default:un()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((i,a)=>{this.te(a)&&t(a)})}ne(e){var t;const i=e.targetId,a=e.Vt.count,h=this.se(i);if(h){const g=h.target;if(ag(g))if(0===a){const T=new Qt(g.path);this.Yt(i,T,zi.newNoDocument(T,Mn.min()))}else vn(1===a);else{const T=this.ie(i);if(T!==a){const P=this.re(e,T);0!==P&&(this.ee(i),this.Wt=this.Wt.insert(i,2===P?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=rb.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(U,ee,de){var Fe,at,Rt,Xt,nn,gr;const Hr={localCacheCount:ee,existenceFilterCount:de.count},wr=de.unchangedNames;return wr&&(Hr.bloomFilter={applied:0===U,hashCount:null!==(Fe=wr?.hashCount)&&void 0!==Fe?Fe:0,bitmapLength:null!==(Xt=null===(Rt=null===(at=wr?.bits)||void 0===at?void 0:at.bitmap)||void 0===Rt?void 0:Rt.length)&&void 0!==Xt?Xt:0,padding:null!==(gr=null===(nn=wr?.bits)||void 0===nn?void 0:nn.padding)&&void 0!==gr?gr:0}),Hr}(P,T,e.Vt))}}}}re(e,t){const{unchangedNames:i,count:a}=e.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:h="",padding:g=0},hashCount:T=0}=i;let P,U;try{P=wd(h).toUint8Array()}catch(ee){if(ee instanceof Pw)return Mu("Decoding the base64 bloom filter in existence filter failed ("+ee.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw ee}try{U=new dy(P,g,T)}catch(ee){return Mu(ee instanceof pg?"BloomFilter error: ":"Applying bloom filter failed: ",ee),1}return 0===U.It?1:a!==t-this.oe(e.targetId,U)?2:0}oe(e,t){const i=this.Gt.getRemoteKeysForTarget(e);let a=0;return i.forEach(h=>{const g=this.Gt.ue(),T=`projects/${g.projectId}/databases/${g.database}/documents/${h.path.canonicalString()}`;t.vt(T)||(this.Yt(e,h,null),a++)}),a}ce(e){const t=new Map;this.Qt.forEach((h,g)=>{const T=this.se(g);if(T){if(h.current&&ag(T.target)){const P=new Qt(T.target.path);null!==this.jt.get(P)||this.ae(g,P)||this.Yt(g,P,zi.newNoDocument(P,e))}h.Mt&&(t.set(g,h.Ot()),h.Ft())}});let i=pr();this.zt.forEach((h,g)=>{let T=!0;g.forEachWhile(P=>{const U=this.se(P);return!U||"TargetPurposeLimboResolution"===U.purpose||(T=!1,!1)}),T&&(i=i.add(h))}),this.jt.forEach((h,g)=>g.setReadTime(e));const a=new gg(e,t,this.Wt,this.jt,i);return this.jt=_c(),this.zt=aT(),this.Wt=new Fi(Gn),a}Jt(e,t){if(!this.te(e))return;const i=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,i),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,i){if(!this.te(e))return;const a=this.Zt(e);this.ae(e,t)?a.Bt(t,1):a.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),i&&(this.jt=this.jt.insert(t,i))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new ab,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new so(Gn),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Ot("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new ab),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function aT(){return new Fi(Qt.comparator)}function cT(){return new Fi(Qt.comparator)}const _g={asc:"ASCENDING",desc:"DESCENDING"},cS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cb={and:"AND",or:"OR"};class uS{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function fy(n,e){return n.useProto3Json||bf(e)?e:{value:e}}function Pf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kD(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function vg(n,e){return Pf(n,e.toTimestamp())}function ds(n){return vn(!!n),Mn.fromTimestamp(function(e){const t=tl(e);return new Co(t.seconds,t.nanos)}(n))}function ub(n,e){return(t=n,new Zr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function uT(n){const e=Zr.fromString(n);return vn(Ig(e)),e}function Gl(n,e){return ub(n.databaseId,e.path)}function jl(n,e){const t=uT(e);if(t.get(1)!==n.databaseId.projectId)throw new Dt(nt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Dt(nt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Qt(FD(t))}function yg(n,e){return ub(n.databaseId,e)}function ya(n){return new Zr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function FD(n){return vn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function lb(n,e,t){return{name:Gl(n,e),fields:t.value.mapValue.fields}}function hT(n,e){return{documents:[yg(n,e.path)]}}function hb(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=yg(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=yg(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const a=function(P){if(0!==P.length)return fb(fi.create(P,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const h=function(P){if(0!==P.length)return P.map(U=>{return{field:Cd((ee=U).field),direction:VD(ee.dir)};var ee})}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const g=fy(n,e.limit);var T,P;return null!==g&&(t.structuredQuery.limit=g),e.startAt&&(t.structuredQuery.startAt={before:(T=e.startAt).inclusive,values:T.position}),e.endAt&&(t.structuredQuery.endAt={before:!(P=e.endAt).inclusive,values:P.position}),t}function fT(n){let e=function g_(n){const e=uT(n);return 4===e.length?Zr.emptyPath():FD(e)}(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){vn(1===i);const ee=t.from[0];ee.allDescendants?a=ee.collectionId:e=e.child(ee.collectionId)}let h=[];t.where&&(h=function(ee){const de=pT(ee);return de instanceof fi&&ty(de)?de.getFilters():[de]}(t.where));let g=[];t.orderBy&&(g=t.orderBy.map(ee=>{return new Af(kf((de=ee).field),function(Fe){switch(Fe){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(de.direction));var de}));let T=null;t.limit&&(T=function(ee){let de;return de="object"==typeof ee?ee.value:ee,bf(de)?null:de}(t.limit));let P=null;var ee;t.startAt&&(P=new Bl((ee=t.startAt).values||[],!!ee.before));let U=null;return t.endAt&&(U=function(ee){return new Bl(ee.values||[],!ee.before)}(t.endAt)),function jw(n,e,t,i,a,h,g,T){return new mh(n,e,t,i,a,h,g,T)}(e,a,g,h,T,"F",P,U)}function pT(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=kf(e.unaryFilter.field);return Pr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=kf(e.unaryFilter.field);return Pr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=kf(e.unaryFilter.field);return Pr.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=kf(e.unaryFilter.field);return Pr.create(h,"!=",{nullValue:"NULL_VALUE"});default:return un()}}(n):void 0!==n.fieldFilter?Pr.create(kf((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return un()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return fi.create(e.compositeFilter.filters.map(t=>pT(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return un()}}(e.compositeFilter.op))}(n):un();var e}function VD(n){return _g[n]}function BD(n){return cS[n]}function gy(n){return cb[n]}function Cd(n){return{fieldPath:n.canonicalString()}}function kf(n){return as.fromServerFormat(n.fieldPath)}function fb(n){return n instanceof Pr?function(e){if("=="===e.op){if(O1(e.value))return{unaryFilter:{field:Cd(e.field),op:"IS_NAN"}};if(Yv(e.value))return{unaryFilter:{field:Cd(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(O1(e.value))return{unaryFilter:{field:Cd(e.field),op:"IS_NOT_NAN"}};if(Yv(e.value))return{unaryFilter:{field:Cd(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cd(e.field),op:BD(e.op),value:e.value}}}(n):n instanceof fi?function(e){const t=e.getFilters().map(i=>fb(i));return 1===t.length?t[0]:{compositeFilter:{op:gy(e.op),filters:t}}}(n):un()}function UD(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Ig(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class uu{constructor(e,t,i,a,h=Mn.min(),g=Mn.min(),T=us.EMPTY_BYTE_STRING,P=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=g,this.resumeToken=T,this.expectedCount=P}withSequenceNumber(e){return new uu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new uu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new uu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new uu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class gT{constructor(e){this.fe=e}}function pb(n){const e=fT({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?ay(e,e.limit,"L"):e}class wh{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(ls(e.integerValue));else if("doubleValue"in e){const i=ls(e.doubleValue);isNaN(i)?this.ye(t,13):(this.ye(t,15),Ll(i)?t.pe(0):t.pe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ye(t,20),"string"==typeof i?t.Ie(i):(t.Ie(`${i.seconds||""}`),t.pe(i.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(wd(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?Lw(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):un()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const i=e.fields||{};this.ye(t,55);for(const a of Object.keys(i))this.Te(a,t),this.me(i[a],t)}Pe(e,t){const i=e.values||[];this.ye(t,50);for(const a of i)this.me(a,t)}ve(e,t){this.ye(t,37),Qt.fromName(e).path.forEach(i=>{this.ye(t,60),this.be(i,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}wh.Ve=new wh;class KD{constructor(){this.rn=new by}addToCollectionParentIndex(e,t){return this.rn.add(t),Ke.resolve()}getCollectionParents(e,t){return Ke.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Ke.resolve()}deleteFieldIndex(e,t){return Ke.resolve()}getDocumentsMatchingTarget(e,t){return Ke.resolve(null)}getIndexType(e,t){return Ke.resolve(0)}getFieldIndexes(e,t){return Ke.resolve([])}getNextCollectionGroupToUpdate(e){return Ke.resolve(null)}getMinOffset(e,t){return Ke.resolve(Pc.min())}getMinOffsetFromCollectionGroup(e,t){return Ke.resolve(Pc.min())}updateCollectionGroup(e,t,i){return Ke.resolve()}updateIndexEntries(e,t){return Ke.resolve()}}class by{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new so(Zr.comparator),h=!a.has(i);return this.index[t]=a.add(i),h}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new so(Zr.comparator)).toArray()}}new Uint8Array(0);class Xa{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Xa(e,Xa.DEFAULT_COLLECTION_PERCENTILE,Xa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Xa.DEFAULT_COLLECTION_PERCENTILE=10,Xa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xa.DEFAULT=new Xa(41943040,Xa.DEFAULT_COLLECTION_PERCENTILE,Xa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xa.DISABLED=new Xa(-1,0,0);class Eh{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Eh(0)}static Mn(){return new Eh(-1)}}class JD{constructor(){this.changes=new Ul(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,zi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?Ke.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Eb{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Dy{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(null!==i&&hg(i.mutation,a,Fc.empty(),Co.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,pr()).next(()=>i))}getLocalViewOfDocuments(e,t,i=pr()){const a=il();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,i).next(h=>{let g=Lc();return h.forEach((T,P)=>{g=g.insert(T,P.overlayedDocument)}),g}))}getOverlayedDocuments(e,t){const i=il();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,pr()))}populateOverlays(e,t,i){const a=[];return i.forEach(h=>{t.has(h)||a.push(h)}),this.documentOverlayCache.getOverlays(e,a).next(h=>{h.forEach((g,T)=>{t.set(g,T)})})}computeViews(e,t,i,a){let h=_c();const g=vc(),T=vc();return t.forEach((P,U)=>{const ee=i.get(U.key);a.has(U.key)&&(void 0===ee||ee.mutation instanceof Dd)?h=h.insert(U.key,U):void 0!==ee?(g.set(U.key,ee.mutation.getFieldMask()),hg(ee.mutation,U,ee.mutation.getFieldMask(),Co.now())):g.set(U.key,Fc.empty())}),this.recalculateAndSaveOverlays(e,h).next(P=>(P.forEach((U,ee)=>g.set(U,ee)),t.forEach((U,ee)=>{var de;return T.set(U,new Eb(ee,null!==(de=g.get(U))&&void 0!==de?de:null))}),T))}recalculateAndSaveOverlays(e,t){const i=vc();let a=new Fi((g,T)=>g-T),h=pr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(g=>{for(const T of g)T.keys().forEach(P=>{const U=t.get(P);if(null===U)return;let ee=i.get(P)||Fc.empty();ee=T.applyToLocalView(U,ee),i.set(P,ee);const de=(a.get(T.batchId)||pr()).add(P);a=a.insert(T.batchId,de)})}).next(()=>{const g=[],T=a.getReverseIterator();for(;T.hasNext();){const P=T.getNext(),U=P.key,ee=P.value,de=ol();ee.forEach(Fe=>{if(!h.has(Fe)){const at=Q1(t.get(Fe),i.get(Fe));null!==at&&de.set(Fe,at),h=h.add(Fe)}}),g.push(this.documentOverlayCache.saveOverlays(e,U,de))}return Ke.waitFor(g)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return Qt.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):oy(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var a}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next(h=>{const g=a-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-h.size):Ke.resolve(il());let T=-1,P=h;return g.next(U=>Ke.forEach(U,(ee,de)=>(T<de.largestBatchId&&(T=de.largestBatchId),h.get(ee)?Ke.resolve():this.remoteDocumentCache.getEntry(e,ee).next(Fe=>{P=P.insert(ee,Fe)}))).next(()=>this.populateOverlays(e,U,h)).next(()=>this.computeViews(e,P,U,pr())).next(ee=>({batchId:T,changes:zw(ee)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Qt(t)).next(i=>{let a=Lc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const a=t.collectionGroup;let h=Lc();return this.indexManager.getCollectionParents(e,a).next(g=>Ke.forEach(g,T=>{const P=(U=t,ee=T.child(a),new mh(ee,null,U.explicitOrderBy.slice(),U.filters.slice(),U.limit,U.limitType,U.startAt,U.endAt));var U,ee;return this.getDocumentsMatchingCollectionQuery(e,P,i).next(U=>{U.forEach((ee,de)=>{h=h.insert(ee,de)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(h=>(a=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a))).next(h=>{a.forEach((T,P)=>{const U=P.getKey();null===h.get(U)&&(h=h.insert(U,zi.newInvalidDocument(U)))});let g=Lc();return h.forEach((T,P)=>{const U=a.get(T);void 0!==U&&hg(U.mutation,P,Fc.empty(),Co.now()),d_(t,P)&&(g=g.insert(T,P))}),g})}}class nC{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Ke.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var i;return this.cs.set(t.id,{id:(i=t).id,version:i.version,createTime:ds(i.createTime)}),Ke.resolve()}getNamedQuery(e,t){return Ke.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(i=t).name,query:pb(i.bundledQuery),readTime:ds(i.readTime)}),Ke.resolve();var i}}class MT{constructor(){this.overlays=new Fi(Qt.comparator),this.ls=new Map}getOverlay(e,t){return Ke.resolve(this.overlays.get(t))}getOverlays(e,t){const i=il();return Ke.forEach(t,a=>this.getOverlay(e,a).next(h=>{null!==h&&i.set(a,h)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((a,h)=>{this.we(e,t,h)}),Ke.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.ls.get(i);return void 0!==a&&(a.forEach(h=>this.overlays=this.overlays.remove(h)),this.ls.delete(i)),Ke.resolve()}getOverlaysForCollection(e,t,i){const a=il(),h=t.length+1,g=new Qt(t.child("")),T=this.overlays.getIteratorFrom(g);for(;T.hasNext();){const P=T.getNext().value,U=P.getKey();if(!t.isPrefixOf(U.path))break;U.path.length===h&&P.largestBatchId>i&&a.set(P.getKey(),P)}return Ke.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let h=new Fi((U,ee)=>U-ee);const g=this.overlays.getIterator();for(;g.hasNext();){const U=g.getNext().value;if(U.getKey().getCollectionGroup()===t&&U.largestBatchId>i){let ee=h.get(U.largestBatchId);null===ee&&(ee=il(),h=h.insert(U.largestBatchId,ee)),ee.set(U.getKey(),U)}}const T=il(),P=h.getIterator();for(;P.hasNext()&&(P.getNext().value.forEach((U,ee)=>T.set(U,ee)),!(T.size()>=a)););return Ke.resolve(T)}we(e,t,i){const a=this.overlays.get(i.key);if(null!==a){const g=this.ls.get(a.largestBatchId).delete(i.key);this.ls.set(a.largestBatchId,g)}this.overlays=this.overlays.insert(i.key,new nb(t,i));let h=this.ls.get(t);void 0===h&&(h=pr(),this.ls.set(t,h)),this.ls.set(t,h.add(i.key))}}class Cy{constructor(){this.fs=new so(ba.ds),this.ws=new so(ba._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const i=new ba(e,t);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.ys(new ba(e,t))}ps(e,t){e.forEach(i=>this.removeReference(i,t))}Is(e){const t=new Qt(new Zr([])),i=new ba(t,e),a=new ba(t,e+1),h=[];return this.ws.forEachInRange([i,a],g=>{this.ys(g),h.push(g.key)}),h}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Qt(new Zr([])),i=new ba(t,e),a=new ba(t,e+1);let h=pr();return this.ws.forEachInRange([i,a],g=>{h=h.add(g.key)}),h}containsKey(e){const t=new ba(e,0),i=this.fs.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class ba{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Qt.comparator(e.key,t.key)||Gn(e.As,t.As)}static _s(e,t){return Gn(e.As,t.As)||Qt.comparator(e.key,t.key)}}class xT{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new so(ba.ds)}checkEmpty(e){return Ke.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,a){const h=this.vs;this.vs++;const g=new eb(h,t,i,a);this.mutationQueue.push(g);for(const T of a)this.Rs=this.Rs.add(new ba(T.key,h)),this.indexManager.addToCollectionParentIndex(e,T.key.path.popLast());return Ke.resolve(g)}lookupMutationBatch(e,t){return Ke.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.bs(t+1),h=a<0?0:a;return Ke.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Ke.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Ke.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new ba(t,0),a=new ba(t,Number.POSITIVE_INFINITY),h=[];return this.Rs.forEachInRange([i,a],g=>{const T=this.Ps(g.As);h.push(T)}),Ke.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new so(Gn);return t.forEach(a=>{const h=new ba(a,0),g=new ba(a,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([h,g],T=>{i=i.add(T.As)})}),Ke.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let h=i;Qt.isDocumentKey(h)||(h=h.child(""));const g=new ba(new Qt(h),0);let T=new so(Gn);return this.Rs.forEachWhile(P=>{const U=P.key.path;return!!i.isPrefixOf(U)&&(U.length===a&&(T=T.add(P.As)),!0)},g),Ke.resolve(this.Vs(T))}Vs(e){const t=[];return e.forEach(i=>{const a=this.Ps(i);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){vn(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return Ke.forEach(t.mutations,a=>{const h=new ba(a.key,t.batchId);return i=i.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Rs=i})}Cn(e){}containsKey(e,t){const i=new ba(t,0),a=this.Rs.firstAfterOrEqual(i);return Ke.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return Ke.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Db{constructor(e){this.Ds=e,this.docs=new Fi(Qt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),h=a?a.size:0,g=this.Ds(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:g}),this.size+=g-h,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Ke.resolve(i?i.document.mutableCopy():zi.newInvalidDocument(t))}getEntries(e,t){let i=_c();return t.forEach(a=>{const h=this.docs.get(a);i=i.insert(a,h?h.document.mutableCopy():zi.newInvalidDocument(a))}),Ke.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let h=_c();const g=t.path,T=new Qt(g.child("")),P=this.docs.getIteratorFrom(T);for(;P.hasNext();){const{key:U,value:{document:ee}}=P.getNext();if(!g.isPrefixOf(U.path))break;U.path.length>g.length+1||zv(Tw(ee),i)<=0||(a.has(ee.key)||d_(t,ee))&&(h=h.insert(ee.key,ee.mutableCopy()))}return Ke.resolve(h)}getAllFromCollectionGroup(e,t,i,a){un()}Cs(e,t){return Ke.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new RT(this)}getSize(e){return Ke.resolve(this.size)}}class RT extends JD{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?t.push(this.os.addEntry(e,a)):this.os.removeEntry(i)}),Ke.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class PT{constructor(e){this.persistence=e,this.xs=new Ul(t=>Ed(t),rl),this.lastRemoteSnapshotVersion=Mn.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Cy,this.targetCount=0,this.Ms=Eh.kn()}forEachTarget(e,t){return this.xs.forEach((i,a)=>t(a)),Ke.resolve()}getLastRemoteSnapshotVersion(e){return Ke.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ke.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Ke.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Ns&&(this.Ns=t),Ke.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Eh(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Ke.resolve()}updateTargetData(e,t){return this.Fn(t),Ke.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Ke.resolve()}removeTargets(e,t,i){let a=0;const h=[];return this.xs.forEach((g,T)=>{T.sequenceNumber<=t&&null===i.get(T.targetId)&&(this.xs.delete(g),h.push(this.removeMatchingKeysForTargetId(e,T.targetId)),a++)}),Ke.waitFor(h).next(()=>a)}getTargetCount(e){return Ke.resolve(this.targetCount)}getTargetData(e,t){const i=this.xs.get(t)||null;return Ke.resolve(i)}addMatchingKeys(e,t,i){return this.ks.gs(t,i),Ke.resolve()}removeMatchingKeys(e,t,i){this.ks.ps(t,i);const a=this.persistence.referenceDelegate,h=[];return a&&t.forEach(g=>{h.push(a.markPotentiallyOrphaned(e,g))}),Ke.waitFor(h)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Ke.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ks.Es(t);return Ke.resolve(i)}containsKey(e,t){return Ke.resolve(this.ks.containsKey(t))}}class Sy{constructor(e,t){this.$s={},this.overlays={},this.Os=new fo(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new PT(this),this.indexManager=new KD,this.remoteDocumentCache=new Db(i=>this.referenceDelegate.Ls(i)),this.serializer=new gT(t),this.qs=new nC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new MT,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.$s[e.toKey()];return i||(i=new xT(t,this.referenceDelegate),this.$s[e.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,i){Ot("MemoryPersistence","Starting transaction:",e);const a=new kT(this.Os.next());return this.referenceDelegate.Us(),i(a).next(h=>this.referenceDelegate.Ks(a).next(()=>h)).toPromise().then(h=>(a.raiseOnCommittedEvent(),h))}Gs(e,t){return Ke.or(Object.values(this.$s).map(i=>()=>i.containsKey(e,t)))}}class kT extends mD{constructor(e){super(),this.currentSequenceNumber=e}}class Ay{constructor(e){this.persistence=e,this.Qs=new Cy,this.js=null}static zs(e){return new Ay(e)}get Ws(){if(this.js)return this.js;throw un()}addReference(e,t,i){return this.Qs.addReference(i,t),this.Ws.delete(i.toString()),Ke.resolve()}removeReference(e,t,i){return this.Qs.removeReference(i,t),this.Ws.add(i.toString()),Ke.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Ke.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(a=>this.Ws.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(h=>this.Ws.add(h.toString()))}).next(()=>i.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ke.forEach(this.Ws,i=>{const a=Qt.fromPath(i);return this.Hs(e,a).next(h=>{h||t.removeEntry(a,Mn.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(i=>{i?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return Ke.or([()=>Ke.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class VT{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.Fi=i,this.Bi=a}static Li(e,t){let i=pr(),a=pr();for(const h of t.docChanges)switch(h.type){case 0:i=i.add(h.doc.key);break;case 1:a=a.add(h.doc.key)}return new VT(e,t.fromCache,i,a)}}class BT{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,i,a){return this.Ki(e,t).next(h=>h||this.Gi(e,t,a,i)).next(h=>h||this.Qi(e,t))}Ki(e,t){if(G1(t))return Ke.resolve(null);let i=mc(t);return this.indexManager.getIndexType(e,i).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=ay(t,null,"F"),i=mc(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(h=>{const g=pr(...h);return this.Ui.getDocuments(e,g).next(T=>this.indexManager.getMinOffset(e,i).next(P=>{const U=this.ji(t,T);return this.zi(t,U,g,P.readTime)?this.Ki(e,ay(t,null,"F")):this.Wi(e,U,t,P)}))})))}Gi(e,t,i,a){return G1(t)||a.isEqual(Mn.min())?this.Qi(e,t):this.Ui.getDocuments(e,i).next(h=>{const g=this.ji(t,h);return this.zi(t,g,i,a)?this.Qi(e,t):(w1()<=Se.in.DEBUG&&Ot("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),_h(t)),this.Wi(e,g,t,function ww(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=Mn.fromTimestamp(1e9===i?new Co(t+1,0):new Co(t,i));return new Pc(a,Qt.empty(),e)}(a,-1)))})}ji(e,t){let i=new so(z1(e));return t.forEach((a,h)=>{d_(e,h)&&(i=i.add(h))}),i}zi(e,t,i,a){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const h="F"===e.limitType?t.last():t.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(a)>0)}Qi(e,t){return w1()<=Se.in.DEBUG&&Ot("QueryEngine","Using full collection scan to execute query:",_h(t)),this.Ui.getDocumentsMatchingQuery(e,t,Pc.min())}Wi(e,t,i,a){return this.Ui.getDocumentsMatchingQuery(e,i,a).next(h=>(t.forEach(g=>{h=h.insert(g.key,g)}),h))}}class iC{constructor(e,t,i,a){this.persistence=e,this.Hi=t,this.serializer=a,this.Ji=new Fi(Gn),this.Yi=new Ul(h=>Ed(h),rl),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(i)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Dy(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function Sb(n,e){return xy.apply(this,arguments)}function xy(){return xy=(0,l.Z)(function*(n,e){const t=Zt(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next(h=>(a=h,t.tr(e),t.mutationQueue.getAllMutationBatches(i))).next(h=>{const g=[],T=[];let P=pr();for(const U of a){g.push(U.batchId);for(const ee of U.mutations)P=P.add(ee.key)}for(const U of h){T.push(U.batchId);for(const ee of U.mutations)P=P.add(ee.key)}return t.localDocuments.getDocuments(i,P).next(U=>({er:U,removedBatchIds:g,addedBatchIds:T}))})})}),xy.apply(this,arguments)}function GT(n){const e=Zt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function sC(n,e){const t=Zt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function xg(n,e,t){return Vf.apply(this,arguments)}function Vf(){return Vf=(0,l.Z)(function*(n,e,t){const i=Zt(n),a=i.Ji.get(e),h=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",h,g=>i.persistence.referenceDelegate.removeTarget(g,a)))}catch(g){if(!Fl(g))throw g;Ot("LocalStore",`Failed to update sequence numbers for target ${e}: ${g}`)}i.Ji=i.Ji.remove(e),i.Yi.delete(a.target)}),Vf.apply(this,arguments)}function E_(n,e,t){const i=Zt(n);let a=Mn.min(),h=pr();return i.persistence.runTransaction("Execute query","readonly",g=>function(T,P,U){const ee=Zt(T),de=ee.Yi.get(U);return void 0!==de?Ke.resolve(ee.Ji.get(de)):ee.Bs.getTargetData(P,U)}(i,g,mc(e)).next(T=>{if(T)return a=T.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(g,T.targetId).next(P=>{h=P})}).next(()=>i.Hi.getDocumentsMatchingQuery(g,e,t?a:Mn.min(),t?h:pr())).next(T=>(function Ob(n,e,t){let i=n.Xi.get(e)||Mn.min();t.forEach((a,h)=>{h.readTime.compareTo(i)>0&&(i=h.readTime)}),n.Xi.set(e,i)}(i,function $w(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),T),{documents:T,ir:h})))}class xb{constructor(){this.activeTargetIds=function W1(){return OD}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class WT{constructor(){this.Hr=new xb,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,i){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new xb,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class dS{Yr(e){}shutdown(){}}class qT{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ot("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Ot("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Rb=null;function Uf(){return null===Rb?Rb=268435456+Math.round(2147483648*Math.random()):Rb++,"0x"+Rb.toString(16)}const uC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class lC{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const ec="WebChannelConnection";class Ly extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,i,a,h){const g=Uf(),T=this.To(e,t);Ot("RestConnection",`Sending RPC '${e}' ${g}:`,T,i);const P={};return this.Eo(P,a,h),this.Ao(e,T,P,i).then(U=>(Ot("RestConnection",`Received RPC '${e}' ${g}: `,U),U),U=>{throw Mu("RestConnection",`RPC '${e}' ${g} failed with error: `,U,"url: ",T,"request:",i),U})}vo(e,t,i,a,h,g){return this.Io(e,t,i,a,h)}Eo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+lh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,h)=>e[h]=a),i&&i.headers.forEach((a,h)=>e[h]=a)}To(e,t){return`${this.mo}/v1/${t}:${uC[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,i,a){const h=Uf();return new Promise((g,T)=>{const P=new nS;P.setWithCredentials(!0),P.listenOnce(aD.COMPLETE,()=>{try{switch(P.getLastErrorCode()){case Gv.NO_ERROR:const ee=P.getResponseJson();Ot(ec,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(ee)),g(ee);break;case Gv.TIMEOUT:Ot(ec,`RPC '${e}' ${h} timed out`),T(new Dt(nt.DEADLINE_EXCEEDED,"Request time out"));break;case Gv.HTTP_ERROR:const de=P.getStatus();if(Ot(ec,`RPC '${e}' ${h} failed with status:`,de,"response text:",P.getResponseText()),de>0){let Fe=P.getResponseJson();Array.isArray(Fe)&&(Fe=Fe[0]);const at=Fe?.error;if(at&&at.status&&at.message){const Rt=function(Xt){const nn=Xt.toLowerCase().replace(/_/g,"-");return Object.values(nt).indexOf(nn)>=0?nn:nt.UNKNOWN}(at.status);T(new Dt(Rt,at.message))}else T(new Dt(nt.UNKNOWN,"Server responded with status "+P.getStatus()))}else T(new Dt(nt.UNAVAILABLE,"Connection failed."));break;default:un()}}finally{Ot(ec,`RPC '${e}' ${h} completed.`)}});const U=JSON.stringify(a);Ot(ec,`RPC '${e}' ${h} sending request:`,a),P.send(t,"POST",U,i,15)})}Ro(e,t,i){const a=Uf(),h=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],g=y1(),T=sD(),P={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},U=this.longPollingOptions.timeoutSeconds;void 0!==U&&(P.longPollingTimeout=Math.round(1e3*U)),this.useFetchStreams&&(P.xmlHttpFactory=new jv({})),this.Eo(P.initMessageHeaders,t,i),P.encodeInitMessageHeaders=!0;const ee=h.join("");Ot(ec,`Creating RPC '${e}' stream ${a}: ${ee}`,P);const de=g.createWebChannel(ee,P);let Fe=!1,at=!1;const Rt=new lC({ro:nn=>{at?Ot(ec,`Not sending because RPC '${e}' stream ${a} is closed:`,nn):(Fe||(Ot(ec,`Opening RPC '${e}' stream ${a} transport.`),de.open(),Fe=!0),Ot(ec,`RPC '${e}' stream ${a} sending:`,nn),de.send(nn))},oo:()=>de.close()}),Xt=(nn,gr,Hr)=>{nn.listen(gr,wr=>{try{Hr(wr)}catch(Ps){setTimeout(()=>{throw Ps},0)}})};return Xt(de,Yp.EventType.OPEN,()=>{at||Ot(ec,`RPC '${e}' stream ${a} transport opened.`)}),Xt(de,Yp.EventType.CLOSE,()=>{at||(at=!0,Ot(ec,`RPC '${e}' stream ${a} transport closed`),Rt.wo())}),Xt(de,Yp.EventType.ERROR,nn=>{at||(at=!0,Mu(ec,`RPC '${e}' stream ${a} transport errored:`,nn),Rt.wo(new Dt(nt.UNAVAILABLE,"The operation could not be completed")))}),Xt(de,Yp.EventType.MESSAGE,nn=>{var gr;if(!at){const Hr=nn.data[0];vn(!!Hr);const Ps=Hr.error||(null===(gr=Hr[0])||void 0===gr?void 0:gr.error);if(Ps){Ot(ec,`RPC '${e}' stream ${a} received error:`,Ps);const fs=Ps.status;let Vi=function(Kf){const M0=Rs[Kf];if(void 0!==M0)return iT(M0)}(fs),Ic=Ps.message;void 0===Vi&&(Vi=nt.INTERNAL,Ic="Unknown error status: "+fs+" with message "+Ps.message),at=!0,Rt.wo(new Dt(Vi,Ic)),de.close()}else Ot(ec,`RPC '${e}' stream ${a} received:`,Hr),Rt._o(Hr)}}),Xt(T,pw.STAT_EVENT,nn=>{nn.stat===b1.PROXY?Ot(ec,`RPC '${e}' stream ${a} detected buffering proxy`):nn.stat===b1.NOPROXY&&Ot(ec,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{Rt.fo()},0),Rt}}function Vy(){return typeof document<"u"?document:null}function Rg(n){return new uS(n,!0)}class Pg{constructor(e,t,i=1e3,a=1.5,h=6e4){this.ii=e,this.timerId=t,this.Po=i,this.bo=a,this.Vo=h,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),a=Math.max(0,t-i);a>0&&Ot("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,a,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class ZT{constructor(e,t,i,a,h,g,T,P){this.ii=e,this.$o=i,this.Oo=a,this.connection=h,this.authCredentialsProvider=g,this.appCheckCredentialsProvider=T,this.listener=P,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Pg(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,l.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,l.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var i=this;return(0,l.Z)(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==e?i.qo.reset():t&&t.code===nt.RESOURCE_EXHAUSTED?(ss(t.toString()),ss("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):t&&t.code===nt.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.Fo===t&&this.Zo(i,a)},i=>{e(()=>{const a=new Dt(nt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(a)})})}Zo(e,t){const i=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(a=>{i(()=>this.tu(a))}),this.stream.onMessage(a=>{i(()=>this.onMessage(a))})}Go(){var e=this;this.state=5,this.qo.No((0,l.Z)(function*(){e.state=0,e.start()}))}tu(e){return Ot("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Ot("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class dC extends ZT{constructor(e,t,i,a,h,g){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,g),this.serializer=h}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function lT(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(P=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===P?1:"REMOVE"===P?2:"CURRENT"===P?3:"RESET"===P?4:un(),a=e.targetChange.targetIds||[],h=function(P,U){return P.useProto3Json?(vn(void 0===U||"string"==typeof U),us.fromBase64String(U||"")):(vn(void 0===U||U instanceof Uint8Array),us.fromUint8Array(U||new Uint8Array))}(n,e.targetChange.resumeToken),g=e.targetChange.cause,T=g&&function(P){const U=void 0===P.code?nt.UNKNOWN:iT(P.code);return new Dt(U,P.message||"")}(g);t=new hy(i,a,h,T||null)}else if("documentChange"in e){const i=e.documentChange,a=jl(n,i.document.name),h=ds(i.document.updateTime),g=i.document.createTime?ds(i.document.createTime):Mn.min(),T=new ka({mapValue:{fields:i.document.fields}}),P=zi.newFoundDocument(a,h,g,T);t=new p_(i.targetIds||[],i.removedTargetIds||[],P.key,P)}else if("documentDelete"in e){const i=e.documentDelete,a=jl(n,i.document),h=i.readTime?ds(i.readTime):Mn.min(),g=zi.newNoDocument(a,h);t=new p_([],i.removedTargetIds||[],g.key,g)}else if("documentRemove"in e){const i=e.documentRemove,a=jl(n,i.document);t=new p_([],i.removedTargetIds||[],a,null)}else{if(!("filter"in e))return un();{const i=e.filter,{count:a=0,unchangedNames:h}=i,g=new PD(a,h);t=new sb(i.targetId,g)}}var P;return t}(this.serializer,e),i=function(a){if(!("targetChange"in a))return Mn.min();const h=a.targetChange;return h.targetIds&&h.targetIds.length?Mn.min():h.readTime?ds(h.readTime):Mn.min()}(e);return this.listener.nu(t,i)}su(e){const t={};t.database=ya(this.serializer),t.addTarget=function(a,h){let g;const T=h.target;if(g=ag(T)?{documents:hT(a,T)}:{query:hb(a,T)},g.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){g.resumeToken=kD(a,h.resumeToken);const P=fy(a,h.expectedCount);null!==P&&(g.expectedCount=P)}else if(h.snapshotVersion.compareTo(Mn.min())>0){g.readTime=Pf(a,h.snapshotVersion.toTimestamp());const P=fy(a,h.expectedCount);null!==P&&(g.expectedCount=P)}return g}(this.serializer,e);const i=function m_(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return un()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Wo(t)}iu(e){const t={};t.database=ya(this.serializer),t.removeTarget=e,this.Wo(t)}}class KT extends ZT{constructor(e,t,i,a,h,g){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,g),this.serializer=h,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(vn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function dT(n,e){return n&&n.length>0?(vn(void 0!==e),n.map(t=>function(i,a){let h=ds(i.updateTime?i.updateTime:a);return h.isEqual(Mn.min())&&(h=ds(a)),new Y1(h,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=ds(e.commitTime);return this.listener.cu(i,t)}return vn(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=ya(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>function bg(n,e){let t;if(e instanceof xf)t={update:lb(n,e.key,e.value)};else if(e instanceof fg)t={delete:Gl(n,e.key)};else if(e instanceof Dd)t={update:lb(n,e.key,e.data),updateMask:UD(e.fieldMask)};else{if(!(e instanceof X1))return un();t={verify:Gl(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(a,h){const g=h.transform;if(g instanceof lg)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof yh)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Hl)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Mf)return{fieldPath:h.field.canonicalString(),increment:g.gt};throw un()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:vg(n,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:un()),t;var a}(this.serializer,i))};this.Wo(t)}}class hC extends class{}{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.lu=!1}fu(){if(this.lu)throw new Dt(nt.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,h])=>this.connection.Io(e,t,i,a,h)).catch(a=>{throw"FirebaseError"===a.name?(a.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Dt(nt.UNKNOWN,a.toString())})}vo(e,t,i,a){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,g])=>this.connection.vo(e,t,i,h,g,a)).catch(h=>{throw"FirebaseError"===h.name?(h.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Dt(nt.UNKNOWN,h.toString())})}terminate(){this.lu=!0}}class Uy{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(ss(t),this.mu=!1):Ot("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class pC{constructor(e,t,i,a,h){var g=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=h,this.Pu.Yr(T=>{i.enqueueAndForget((0,l.Z)(function*(){var P;$l(g)&&(Ot("RemoteStore","Restarting streams for network reachability change."),yield(P=(0,l.Z)(function*(U){const ee=Zt(U);ee.vu.add(4),yield Hf(ee),ee.bu.set("Unknown"),ee.vu.delete(4),yield S_(ee)}),function(U){return P.apply(this,arguments)})(g))}))}),this.bu=new Uy(i,a)}}function S_(n){return Hy.apply(this,arguments)}function Hy(){return Hy=(0,l.Z)(function*(n){if($l(n))for(const e of n.Ru)yield e(!0)}),Hy.apply(this,arguments)}function Hf(n){return A_.apply(this,arguments)}function A_(){return A_=(0,l.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),A_.apply(this,arguments)}function N_(n,e){const t=Zt(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),Lb(t)?Fb(t):R_(t).Ko()&&Gy(t,e))}function O_(n,e){const t=Zt(n),i=R_(t);t.Au.delete(e),i.Ko()&&kb(t,e),0===t.Au.size&&(i.Ko()?i.jo():$l(t)&&t.bu.set("Unknown"))}function Gy(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Mn.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}R_(n).su(e)}function kb(n,e){n.Vu.qt(e),R_(n).iu(e)}function Fb(n){n.Vu=new Rf({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),R_(n).start(),n.bu.gu()}function Lb(n){return $l(n)&&!R_(n).Uo()&&n.Au.size>0}function $l(n){return 0===Zt(n).vu.size}function jy(n){n.Vu=void 0}function YT(n){return M_.apply(this,arguments)}function M_(){return M_=(0,l.Z)(function*(n){n.Au.forEach((e,t)=>{Gy(n,e)})}),M_.apply(this,arguments)}function Vb(n,e){return Bb.apply(this,arguments)}function Bb(){return Bb=(0,l.Z)(function*(n,e){jy(n),Lb(n)?(n.bu.Iu(e),Fb(n)):n.bu.set("Unknown")}),Bb.apply(this,arguments)}function gC(n,e,t){return Ub.apply(this,arguments)}function Ub(){return Ub=(0,l.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof hy&&2===e.state&&e.cause)try{yield(i=(0,l.Z)(function*(a,h){const g=h.cause;for(const T of h.targetIds)a.Au.has(T)&&(yield a.remoteSyncer.rejectListen(T,g),a.Au.delete(T),a.Vu.removeTarget(T))}),function(a,h){return i.apply(this,arguments)})(n,e)}catch(i){Ot("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield $y(n,i)}else if(e instanceof p_?n.Vu.Ht(e):e instanceof sb?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(Mn.min()))try{const i=yield GT(n.localStore);t.compareTo(i)>=0&&(yield function(a,h){const g=a.Vu.ce(h);return g.targetChanges.forEach((T,P)=>{if(T.resumeToken.approximateByteSize()>0){const U=a.Au.get(P);U&&a.Au.set(P,U.withResumeToken(T.resumeToken,h))}}),g.targetMismatches.forEach((T,P)=>{const U=a.Au.get(T);if(!U)return;a.Au.set(T,U.withResumeToken(us.EMPTY_BYTE_STRING,U.snapshotVersion)),kb(a,T);const ee=new uu(U.target,T,P,U.sequenceNumber);Gy(a,ee)}),a.remoteSyncer.applyRemoteEvent(g)}(n,t))}catch(i){Ot("RemoteStore","Failed to raise snapshot:",i),yield $y(n,i)}var i}),Ub.apply(this,arguments)}function $y(n,e,t){return zy.apply(this,arguments)}function zy(){return zy=(0,l.Z)(function*(n,e,t){if(!Fl(e))throw e;n.vu.add(1),yield Hf(n),n.bu.set("Offline"),t||(t=()=>GT(n.localStore)),n.asyncQueue.enqueueRetryable((0,l.Z)(function*(){Ot("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield S_(n)}))}),zy.apply(this,arguments)}function Wy(n,e){return e().catch(t=>$y(n,t,e))}function Gf(n){return qy.apply(this,arguments)}function qy(){return qy=(0,l.Z)(function*(n){const e=Zt(n),t=jf(e);let i=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;QT(e);)try{const a=yield sC(e.localStore,i);if(null===a){0===e.Eu.length&&t.jo();break}i=a.batchId,JT(e,a)}catch(a){yield $y(e,a)}XT(e)&&Hb(e)}),qy.apply(this,arguments)}function QT(n){return $l(n)&&n.Eu.length<10}function JT(n,e){n.Eu.push(e);const t=jf(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function XT(n){return $l(n)&&!jf(n).Uo()&&n.Eu.length>0}function Hb(n){jf(n).start()}function eE(n){return Gb.apply(this,arguments)}function Gb(){return Gb=(0,l.Z)(function*(n){jf(n).hu()}),Gb.apply(this,arguments)}function tE(n){return Zy.apply(this,arguments)}function Zy(){return Zy=(0,l.Z)(function*(n){const e=jf(n);for(const t of n.Eu)e.uu(t.mutations)}),Zy.apply(this,arguments)}function yc(n,e,t){return Ch.apply(this,arguments)}function Ch(){return Ch=(0,l.Z)(function*(n,e,t){const i=n.Eu.shift(),a=tb.from(i,e,t);yield Wy(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),yield Gf(n)}),Ch.apply(this,arguments)}function mC(n,e){return jb.apply(this,arguments)}function jb(){return jb=(0,l.Z)(function*(n,e){var t;e&&jf(n).ou&&(yield(t=(0,l.Z)(function*(i,a){if(function rT(n){switch(n){default:return un();case nt.CANCELLED:case nt.UNKNOWN:case nt.DEADLINE_EXCEEDED:case nt.RESOURCE_EXHAUSTED:case nt.INTERNAL:case nt.UNAVAILABLE:case nt.UNAUTHENTICATED:return!1;case nt.INVALID_ARGUMENT:case nt.NOT_FOUND:case nt.ALREADY_EXISTS:case nt.PERMISSION_DENIED:case nt.FAILED_PRECONDITION:case nt.ABORTED:case nt.OUT_OF_RANGE:case nt.UNIMPLEMENTED:case nt.DATA_LOSS:return!0}}(h=a.code)&&h!==nt.ABORTED){const g=i.Eu.shift();jf(i).Qo(),yield Wy(i,()=>i.remoteSyncer.rejectFailedWrite(g.batchId,a)),yield Gf(i)}var h}),function(i,a){return t.apply(this,arguments)})(n,e)),XT(n)&&Hb(n)}),jb.apply(this,arguments)}function _C(n,e){return nE.apply(this,arguments)}function nE(){return nE=(0,l.Z)(function*(n,e){const t=Zt(n);t.asyncQueue.verifyOperationInProgress(),Ot("RemoteStore","RemoteStore received new credentials");const i=$l(t);t.vu.add(3),yield Hf(t),i&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield S_(t)}),nE.apply(this,arguments)}function x_(){return x_=(0,l.Z)(function*(n,e){const t=Zt(n);e?(t.vu.delete(2),yield S_(t)):e||(t.vu.add(2),yield Hf(t),t.bu.set("Unknown"))}),x_.apply(this,arguments)}function R_(n){return n.Su||(n.Su=function(e,t,i){const a=Zt(e);return a.fu(),new dC(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{uo:YT.bind(null,n),ao:Vb.bind(null,n),nu:gC.bind(null,n)}),n.Ru.push(function(){var e=(0,l.Z)(function*(t){t?(n.Su.Qo(),Lb(n)?Fb(n):n.bu.set("Unknown")):(yield n.Su.stop(),jy(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function jf(n){return n.Du||(n.Du=function(e,t,i){const a=Zt(e);return a.fu(),new KT(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{uo:eE.bind(null,n),ao:mC.bind(null,n),au:tE.bind(null,n),cu:yc.bind(null,n)}),n.Ru.push(function(){var e=(0,l.Z)(function*(t){t?(n.Du.Qo(),yield Gf(n)):(yield n.Du.stop(),n.Eu.length>0&&(Ot("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class rE{constructor(e,t,i,a,h){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=h,this.deferred=new Ms,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(g=>{})}static createAndSchedule(e,t,i,a,h){const g=Date.now()+i,T=new rE(e,t,g,a,h);return T.start(i),T}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Dt(nt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zl(n,e){if(ss("AsyncQueue",`${e}: ${n}`),Fl(n))return new Dt(nt.UNAVAILABLE,`${e}: ${n}`);throw n}class kg{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Qt.comparator(t.key,i.key):(t,i)=>Qt.comparator(t.key,i.key),this.keyedMap=Lc(),this.sortedSet=new Fi(this.comparator)}static emptySet(e){return new kg(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof kg)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,h=i.getNext().key;if(!a.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new kg;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class Yy{constructor(){this.Cu=new Fi(Qt.comparator)}track(e){const t=e.doc.key,i=this.Cu.get(t);i?0!==e.type&&3===i.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==i.type?this.Cu=this.Cu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Cu=this.Cu.remove(t):1===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):un():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,i)=>{e.push(i)}),e}}class Fg{constructor(e,t,i,a,h,g,T,P,U){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=h,this.fromCache=g,this.syncStateChanged=T,this.excludesMetadataChanges=P,this.hasCachedResults=U}static fromInitialDocuments(e,t,i,a,h){const g=[];return t.forEach(T=>{g.push({type:0,doc:T})}),new Fg(e,t,kg.emptySet(t),g,i,a,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ug(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}class iE{constructor(){this.Nu=void 0,this.listeners=[]}}class vC{constructor(){this.queries=new Ul(e=>$1(e),ug),this.onlineState="Unknown",this.ku=new Set}}function $b(n,e){return zb.apply(this,arguments)}function zb(){return zb=(0,l.Z)(function*(n,e){const t=Zt(n),i=e.query;let a=!1,h=t.queries.get(i);if(h||(a=!0,h=new iE),a)try{h.Nu=yield t.onListen(i)}catch(g){const T=zl(g,`Initialization of query '${_h(e.query)}' failed`);return void e.onError(T)}t.queries.set(i,h),h.listeners.push(e),e.Mu(t.onlineState),h.Nu&&e.$u(h.Nu)&&k_(t)}),zb.apply(this,arguments)}function P_(n,e){return Qy.apply(this,arguments)}function Qy(){return Qy=(0,l.Z)(function*(n,e){const t=Zt(n),i=e.query;let a=!1;const h=t.queries.get(i);if(h){const g=h.listeners.indexOf(e);g>=0&&(h.listeners.splice(g,1),a=0===h.listeners.length)}if(a)return t.queries.delete(i),t.onUnlisten(i)}),Qy.apply(this,arguments)}function yC(n,e){const t=Zt(n);let i=!1;for(const a of e){const g=t.queries.get(a.query);if(g){for(const T of g.listeners)T.$u(a)&&(i=!0);g.Nu=a}}i&&k_(t)}function Jy(n,e,t){const i=Zt(n),a=i.queries.get(e);if(a)for(const h of a.listeners)h.onError(t);i.queries.delete(e)}function k_(n){n.ku.forEach(e=>{e.next()})}class oE{constructor(e,t,i){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)3!==a.type&&i.push(a);e=new Fg(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Fg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class uE{constructor(e){this.key=e}}class Wb{constructor(e){this.key=e}}class Xy{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=pr(),this.mutatedKeys=pr(),this.tc=z1(e),this.ec=new kg(this.tc)}get nc(){return this.Yu}sc(e,t){const i=t?t.ic:new Yy,a=t?t.ec:this.ec;let h=t?t.mutatedKeys:this.mutatedKeys,g=a,T=!1;const P="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,U="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((ee,de)=>{const Fe=a.get(ee),at=d_(this.query,de)?de:null,Rt=!!Fe&&this.mutatedKeys.has(Fe.key),Xt=!!at&&(at.hasLocalMutations||this.mutatedKeys.has(at.key)&&at.hasCommittedMutations);let nn=!1;Fe&&at?Fe.data.isEqual(at.data)?Rt!==Xt&&(i.track({type:3,doc:at}),nn=!0):this.rc(Fe,at)||(i.track({type:2,doc:at}),nn=!0,(P&&this.tc(at,P)>0||U&&this.tc(at,U)<0)&&(T=!0)):!Fe&&at?(i.track({type:0,doc:at}),nn=!0):Fe&&!at&&(i.track({type:1,doc:Fe}),nn=!0,(P||U)&&(T=!0)),nn&&(at?(g=g.add(at),h=Xt?h.add(ee):h.delete(ee)):(g=g.delete(ee),h=h.delete(ee)))}),null!==this.query.limit)for(;g.size>this.query.limit;){const ee="F"===this.query.limitType?g.last():g.first();g=g.delete(ee.key),h=h.delete(ee.key),i.track({type:1,doc:ee})}return{ec:g,ic:i,zi:T,mutatedKeys:h}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const a=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const h=e.ic.xu();h.sort((U,ee)=>function(de,Fe){const at=Rt=>{switch(Rt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return un()}};return at(de)-at(Fe)}(U.type,ee.type)||this.tc(U.doc,ee.doc)),this.oc(i);const g=t?this.uc():[],T=0===this.Zu.size&&this.current?1:0,P=T!==this.Xu;return this.Xu=T,0!==h.length||P?{snapshot:new Fg(this.query,e.ec,a,h,e.mutatedKeys,0===T,P,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:g}:{cc:g}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Yy,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=pr(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const t=[];return e.forEach(i=>{this.Zu.has(i)||t.push(new Wb(i))}),this.Zu.forEach(i=>{e.has(i)||t.push(new uE(i))}),t}hc(e){this.Yu=e.ir,this.Zu=pr();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Fg.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class hS{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class bC{constructor(e){this.key=e,this.fc=!1}}class fS{constructor(e,t,i,a,h,g){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=h,this.maxConcurrentLimboResolutions=g,this.dc={},this.wc=new Ul(T=>$1(T),ug),this._c=new Map,this.mc=new Set,this.gc=new Fi(Qt.comparator),this.yc=new Map,this.Ic=new Cy,this.Tc={},this.Ec=new Map,this.Ac=Eh.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function IC(n,e){return qb.apply(this,arguments)}function qb(){return qb=(0,l.Z)(function*(n,e){const t=function iI(n){const e=Zt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=hE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Xb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=wC.bind(null,e),e.dc.nu=yC.bind(null,e.eventManager),e.dc.Pc=Jy.bind(null,e.eventManager),e}(n);let i,a;const h=t.wc.get(e);if(h)i=h.targetId,t.sharedClientState.addLocalQueryTarget(i),a=h.view.lc();else{const g=yield function Mg(n,e){const t=Zt(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return t.Bs.getTargetData(i,e).next(h=>h?(a=h,Ke.resolve(a)):t.Bs.allocateTargetId(i).next(g=>(a=new uu(e,g,"TargetPurposeListen",i.currentSequenceNumber),t.Bs.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=t.Ji.get(i.targetId);return(null===a||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(i.targetId,i),t.Yi.set(e,i.targetId)),i})}(t.localStore,mc(e)),T=t.sharedClientState.addLocalQueryTarget(g.targetId);i=g.targetId,a=yield function Zb(n,e,t,i,a){return e0.apply(this,arguments)}(t,e,i,"current"===T,g.resumeToken),t.isPrimaryClient&&N_(t.remoteStore,g)}return a}),qb.apply(this,arguments)}function e0(){return e0=(0,l.Z)(function*(n,e,t,i,a){n.Rc=(de,Fe,at)=>{return(Rt=(0,l.Z)(function*(Xt,nn,gr,Hr){let wr=nn.view.sc(gr);wr.zi&&(wr=yield E_(Xt.localStore,nn.query,!1).then(({documents:Vi})=>nn.view.sc(Vi,wr)));const Ps=Hr&&Hr.targetChanges.get(nn.targetId),fs=nn.view.applyChanges(wr,Xt.isPrimaryClient,Ps);return _E(Xt,nn.targetId,fs.cc),fs.snapshot}),function(Xt,nn,gr,Hr){return Rt.apply(this,arguments)})(n,de,Fe,at);var Rt};const h=yield E_(n.localStore,e,!0),g=new Xy(e,h.ir),T=g.sc(h.documents),P=mg.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,a),U=g.applyChanges(T,n.isPrimaryClient,P);_E(n,t,U.cc);const ee=new hS(e,t,g);return n.wc.set(e,ee),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),U.snapshot}),e0.apply(this,arguments)}function lE(n,e){return Kb.apply(this,arguments)}function Kb(){return Kb=(0,l.Z)(function*(n,e){const t=Zt(n),i=t.wc.get(e),a=t._c.get(i.targetId);if(a.length>1)return t._c.set(i.targetId,a.filter(h=>!ug(h,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield xg(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),O_(t.remoteStore,i.targetId),F_(t,i.targetId)}).catch(vf))):(F_(t,i.targetId),yield xg(t.localStore,i.targetId,!0))}),Kb.apply(this,arguments)}function t0(){return t0=(0,l.Z)(function*(n,e,t){const i=function oI(n){const e=Zt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fE.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pE.bind(null,e),e}(n);try{const a=yield function(h,g){const T=Zt(h),P=Co.now(),U=g.reduce((Fe,at)=>Fe.add(at.key),pr());let ee,de;return T.persistence.runTransaction("Locally write mutations","readwrite",Fe=>{let at=_c(),Rt=pr();return T.Zi.getEntries(Fe,U).next(Xt=>{at=Xt,at.forEach((nn,gr)=>{gr.isValidDocument()||(Rt=Rt.add(nn))})}).next(()=>T.localDocuments.getOverlayedDocuments(Fe,at)).next(Xt=>{ee=Xt;const nn=[];for(const gr of g){const Hr=Xw(gr,ee.get(gr.key).overlayedDocument);null!=Hr&&nn.push(new Dd(gr.key,Hr,Vw(Hr.value.mapValue),Li.exists(!0)))}return T.mutationQueue.addMutationBatch(Fe,P,nn,g)}).next(Xt=>{de=Xt;const nn=Xt.applyToLocalDocumentSet(ee,Rt);return T.documentOverlayCache.saveOverlays(Fe,Xt.batchId,nn)})}).then(()=>({batchId:de.batchId,changes:zw(ee)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(h,g,T){let P=h.Tc[h.currentUser.toKey()];P||(P=new Fi(Gn)),P=P.insert(g,T),h.Tc[h.currentUser.toKey()]=P}(i,a.batchId,t),yield Sh(i,a.changes),yield Gf(i.remoteStore)}catch(a){const h=zl(a,"Failed to persist write");t.reject(h)}}),t0.apply(this,arguments)}function hE(n,e){return Yb.apply(this,arguments)}function Yb(){return Yb=(0,l.Z)(function*(n,e){const t=Zt(n);try{const i=yield function oC(n,e){const t=Zt(n),i=e.snapshotVersion;let a=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const g=t.Zi.newChangeBuffer({trackRemovals:!0});a=t.Ji;const T=[];e.targetChanges.forEach((ee,de)=>{const Fe=a.get(de);if(!Fe)return;T.push(t.Bs.removeMatchingKeys(h,ee.removedDocuments,de).next(()=>t.Bs.addMatchingKeys(h,ee.addedDocuments,de)));let at=Fe.withSequenceNumber(h.currentSequenceNumber);var Rt,Xt,nn;null!==e.targetMismatches.get(de)?at=at.withResumeToken(us.EMPTY_BYTE_STRING,Mn.min()).withLastLimboFreeSnapshotVersion(Mn.min()):ee.resumeToken.approximateByteSize()>0&&(at=at.withResumeToken(ee.resumeToken,i)),a=a.insert(de,at),Xt=at,nn=ee,(0===(Rt=Fe).resumeToken.approximateByteSize()||Xt.snapshotVersion.toMicroseconds()-Rt.snapshotVersion.toMicroseconds()>=3e8||nn.addedDocuments.size+nn.modifiedDocuments.size+nn.removedDocuments.size>0)&&T.push(t.Bs.updateTargetData(h,at))});let P=_c(),U=pr();if(e.documentUpdates.forEach(ee=>{e.resolvedLimboDocuments.has(ee)&&T.push(t.persistence.referenceDelegate.updateLimboDocument(h,ee))}),T.push(function jT(n,e,t){let i=pr(),a=pr();return t.forEach(h=>i=i.add(h)),e.getEntries(n,i).next(h=>{let g=_c();return t.forEach((T,P)=>{const U=h.get(T);P.isFoundDocument()!==U.isFoundDocument()&&(a=a.add(T)),P.isNoDocument()&&P.version.isEqual(Mn.min())?(e.removeEntry(T,P.readTime),g=g.insert(T,P)):!U.isValidDocument()||P.version.compareTo(U.version)>0||0===P.version.compareTo(U.version)&&U.hasPendingWrites?(e.addEntry(P),g=g.insert(T,P)):Ot("LocalStore","Ignoring outdated watch update for ",T,". Current version:",U.version," Watch version:",P.version)}),{nr:g,sr:a}})}(h,g,e.documentUpdates).next(ee=>{P=ee.nr,U=ee.sr})),!i.isEqual(Mn.min())){const ee=t.Bs.getLastRemoteSnapshotVersion(h).next(de=>t.Bs.setTargetsMetadata(h,h.currentSequenceNumber,i));T.push(ee)}return Ke.waitFor(T).next(()=>g.apply(h)).next(()=>t.localDocuments.getLocalViewOfDocuments(h,P,U)).next(()=>P)}).then(h=>(t.Ji=a,h))}(t.localStore,e);e.targetChanges.forEach((a,h)=>{const g=t.yc.get(h);g&&(vn(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?g.fc=!0:a.modifiedDocuments.size>0?vn(g.fc):a.removedDocuments.size>0&&(vn(g.fc),g.fc=!1))}),yield Sh(t,i,e)}catch(i){yield vf(i)}}),Yb.apply(this,arguments)}function Qb(n,e,t){const i=Zt(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const a=[];i.wc.forEach((h,g)=>{const T=g.view.Mu(e);T.snapshot&&a.push(T.snapshot)}),function(h,g){const T=Zt(h);T.onlineState=g;let P=!1;T.queries.forEach((U,ee)=>{for(const de of ee.listeners)de.Mu(g)&&(P=!0)}),P&&k_(T)}(i.eventManager,e),a.length&&i.dc.nu(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function wC(n,e,t){return n0.apply(this,arguments)}function n0(){return n0=(0,l.Z)(function*(n,e,t){const i=Zt(n);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.yc.get(e),h=a&&a.key;if(h){let g=new Fi(Qt.comparator);g=g.insert(h,zi.newNoDocument(h,Mn.min()));const T=pr().add(h),P=new gg(Mn.min(),new Map,new Fi(Gn),g,T);yield hE(i,P),i.gc=i.gc.remove(h),i.yc.delete(e),vE(i)}else yield xg(i.localStore,e,!1).then(()=>F_(i,e,t)).catch(vf)}),n0.apply(this,arguments)}function fE(n,e){return r0.apply(this,arguments)}function r0(){return r0=(0,l.Z)(function*(n,e){const t=Zt(n),i=e.batch.batchId;try{const a=yield function HT(n,e){const t=Zt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),h=t.Zi.newChangeBuffer({trackRemovals:!0});return function(g,T,P,U){const ee=P.batch,de=ee.keys();let Fe=Ke.resolve();return de.forEach(at=>{Fe=Fe.next(()=>U.getEntry(T,at)).next(Rt=>{const Xt=P.docVersions.get(at);vn(null!==Xt),Rt.version.compareTo(Xt)<0&&(ee.applyToRemoteDocument(Rt,P),Rt.isValidDocument()&&(Rt.setReadTime(P.commitVersion),U.addEntry(Rt)))})}),Fe.next(()=>g.mutationQueue.removeMutationBatch(T,ee))}(t,i,e,h).next(()=>h.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(g){let T=pr();for(let P=0;P<g.mutationResults.length;++P)g.mutationResults[P].transformResults.length>0&&(T=T.add(g.batch.mutations[P].key));return T}(e))).next(()=>t.localDocuments.getDocuments(i,a))})}(t.localStore,e);mE(t,i,null),o0(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Sh(t,a)}catch(a){yield vf(a)}}),r0.apply(this,arguments)}function pE(n,e,t){return Jb.apply(this,arguments)}function Jb(){return Jb=(0,l.Z)(function*(n,e,t){const i=Zt(n);try{const a=yield function(h,g){const T=Zt(h);return T.persistence.runTransaction("Reject batch","readwrite-primary",P=>{let U;return T.mutationQueue.lookupMutationBatch(P,g).next(ee=>(vn(null!==ee),U=ee.keys(),T.mutationQueue.removeMutationBatch(P,ee))).next(()=>T.mutationQueue.performConsistencyCheck(P)).next(()=>T.documentOverlayCache.removeOverlaysForBatchId(P,U,g)).next(()=>T.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(P,U)).next(()=>T.localDocuments.getDocuments(P,U))})}(i.localStore,e);mE(i,e,t),o0(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Sh(i,a)}catch(a){yield vf(a)}}),Jb.apply(this,arguments)}function o0(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function mE(n,e,t){const i=Zt(n);let a=i.Tc[i.currentUser.toKey()];if(a){const h=a.get(e);h&&(t?h.reject(t):h.resolve(),a=a.remove(e)),i.Tc[i.currentUser.toKey()]=a}}function F_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n._c.get(e))n.wc.delete(i),t&&n.dc.Pc(i,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(i=>{n.Ic.containsKey(i)||EC(n,i)})}function EC(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(O_(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),vE(n))}function _E(n,e,t){for(const i of t)i instanceof uE?(n.Ic.addReference(i.key,e),pS(n,i)):i instanceof Wb?(Ot("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,e),n.Ic.containsKey(i.key)||EC(n,i.key)):un()}function pS(n,e){const t=e.key,i=t.path.canonicalString();n.gc.get(t)||n.mc.has(i)||(Ot("SyncEngine","New document in limbo: "+t),n.mc.add(i),vE(n))}function vE(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new Qt(Zr.fromString(e)),i=n.Ac.next();n.yc.set(i,new bC(t)),n.gc=n.gc.insert(t,i),N_(n.remoteStore,new uu(mc(cg(t.path)),i,"TargetPurposeLimboResolution",fo.ct))}}function Sh(n,e,t){return yE.apply(this,arguments)}function yE(){return yE=(0,l.Z)(function*(n,e,t){const i=Zt(n),a=[],h=[],g=[];var T;i.wc.isEmpty()||(i.wc.forEach((T,P)=>{g.push(i.Rc(P,e,t).then(U=>{if((U||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(P.targetId,U?.fromCache?"not-current":"current"),U){a.push(U);const ee=VT.Li(P.targetId,U);h.push(ee)}}))}),yield Promise.all(g),i.dc.nu(a),yield(T=(0,l.Z)(function*(P,U){const ee=Zt(P);try{yield ee.persistence.runTransaction("notifyLocalViewChanges","readwrite",de=>Ke.forEach(U,Fe=>Ke.forEach(Fe.Fi,at=>ee.persistence.referenceDelegate.addReference(de,Fe.targetId,at)).next(()=>Ke.forEach(Fe.Bi,at=>ee.persistence.referenceDelegate.removeReference(de,Fe.targetId,at)))))}catch(de){if(!Fl(de))throw de;Ot("LocalStore","Failed to update sequence numbers: "+de)}for(const de of U){const Fe=de.targetId;if(!de.fromCache){const at=ee.Ji.get(Fe),Xt=at.withLastLimboFreeSnapshotVersion(at.snapshotVersion);ee.Ji=ee.Ji.insert(Fe,Xt)}}}),function(P,U){return T.apply(this,arguments)})(i.localStore,h))}),yE.apply(this,arguments)}function gS(n,e){return s0.apply(this,arguments)}function s0(){return s0=(0,l.Z)(function*(n,e){const t=Zt(n);if(!t.currentUser.isEqual(e)){Ot("SyncEngine","User change. New user:",e.toKey());const i=yield Sb(t.localStore,e);t.currentUser=e,(a=t).Ec.forEach(g=>{g.forEach(T=>{T.reject(new Dt(nt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Ec.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Sh(t,i.er)}var a}),s0.apply(this,arguments)}function Xb(n,e){const t=Zt(n),i=t.yc.get(e);if(i&&i.fc)return pr().add(i.key);{let a=pr();const h=t._c.get(e);if(!h)return a;for(const g of h){const T=t.wc.get(g);a=a.unionWith(T.view.nc)}return a}}class l0{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,l.Z)(function*(){t.serializer=Rg(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function UT(n,e,t,i){return new iC(n,e,t,i)}(this.persistence,new BT,e.initialUser,this.serializer)}createPersistence(e){return new Sy(Ay.zs,this.serializer)}createSharedClientState(e){return new WT}terminate(){var e=this;return(0,l.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Lg{initialize(e,t){var i=this;return(0,l.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=a=>Qb(i.syncEngine,a,1),i.remoteStore.remoteSyncer.handleCredentialChange=gS.bind(null,i.syncEngine),yield function Ky(n,e){return x_.apply(this,arguments)}(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new vC}createDatastore(e){const t=Rg(e.databaseInfo.databaseId),i=new Ly(e.databaseInfo);return new hC(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,a=e.asyncQueue,h=T=>Qb(this.syncEngine,T,0),g=qT.D()?new qT:new dS,new pC(t,i,a,h,g);var t,i,a,h,g}createSyncEngine(e,t){return function(i,a,h,g,T,P,U){const ee=new fS(i,a,h,g,T,P);return U&&(ee.vc=!0),ee}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,l.Z)(function*(t){const i=Zt(t);Ot("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield Hf(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class h0{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):ss("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class xC{constructor(e,t,i,a){var h=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=ea.UNAUTHENTICATED,this.clientId=bw.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var g=(0,l.Z)(function*(T){Ot("FirestoreClient","Received user=",T.uid),yield h.authCredentialListener(T),h.user=T});return function(T){return g.apply(this,arguments)}}()),this.appCheckCredentials.start(i,g=>(Ot("FirestoreClient","Received new app check token=",g),this.appCheckCredentialListener(g,this.user)))}getConfiguration(){var e=this;return(0,l.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Dt(nt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ms;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,l.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=zl(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function f0(n,e){return sI.apply(this,arguments)}function sI(){return sI=(0,l.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ot("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var a=(0,l.Z)(function*(h){i.isEqual(h)||(yield Sb(e.localStore,h),i=h)});return function(h){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),sI.apply(this,arguments)}function aI(n,e){return p0.apply(this,arguments)}function p0(){return p0=(0,l.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function cI(n){return uI.apply(this,arguments)}(n);Ot("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(a=>_C(e.remoteStore,a)),n.setAppCheckTokenChangeListener((a,h)=>_C(e.remoteStore,h)),n._onlineComponents=e}),p0.apply(this,arguments)}function uI(){return uI=(0,l.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ot("FirestoreClient","Using user provided OfflineComponentProvider");try{yield f0(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function g0(n){return"FirebaseError"===n.name?n.code===nt.FAILED_PRECONDITION||n.code===nt.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;Mu("Error using user provided cache. Falling back to memory cache: "+t),yield f0(n,new l0)}}else Ot("FirestoreClient","Using default OfflineComponentProvider"),yield f0(n,new l0);return n._offlineComponents}),uI.apply(this,arguments)}function L_(n){return m0.apply(this,arguments)}function m0(){return m0=(0,l.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ot("FirestoreClient","Using user provided OnlineComponentProvider"),yield aI(n,n._uninitializedComponentsProvider._online)):(Ot("FirestoreClient","Using default OnlineComponentProvider"),yield aI(n,new Lg))),n._onlineComponents}),m0.apply(this,arguments)}function Wf(n){return dI.apply(this,arguments)}function dI(){return dI=(0,l.Z)(function*(n){const e=yield L_(n),t=e.eventManager;return t.onListen=IC.bind(null,e.syncEngine),t.onUnlisten=lE.bind(null,e.syncEngine),t}),dI.apply(this,arguments)}function OE(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const ME=new Map;function y0(n,e,t){if(!t)throw new Dt(nt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function pI(n){if(!Qt.isDocumentKey(n))throw new Dt(nt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function xE(n){if(Qt.isDocumentKey(n))throw new Dt(nt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function V_(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":un()}function Yr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Dt(nt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=V_(n);throw new Dt(nt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class gI{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new Dt(nt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Dt(nt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function yS(n,e,t,i){if(!0===e&&!0===i)throw new Dt(nt.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=OE(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(a){if(void 0!==a.timeoutSeconds){if(isNaN(a.timeoutSeconds))throw new Dt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Dt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Dt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vg{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gI({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Dt(nt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Dt(nt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gI(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new uD;switch(t.type){case"firstParty":return new Xm(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Dt(nt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=ME.get(e);t&&(Ot("ComponentProvider","Removing Datastore"),ME.delete(e),t.terminate())}(this),Promise.resolve()}}class Ho{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ho(this.firestore,e,this._key)}}class Ia{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ia(this.firestore,e,this._query)}}class bc extends Ia{constructor(e,t,i){super(e,t,cg(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ho(this.firestore,null,new Qt(e))}withConverter(e){return new bc(this.firestore,e,this._path)}}function I0(n,e,...t){if(n=(0,le.m9)(n),y0("collection","path",e),n instanceof Vg){const i=Zr.fromString(e,...t);return xE(i),new bc(n,null,i)}{if(!(n instanceof Ho||n instanceof bc))throw new Dt(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Zr.fromString(e,...t));return xE(i),new bc(n.firestore,null,i)}}function mI(n,e,...t){if(n=(0,le.m9)(n),1===arguments.length&&(e=bw.A()),y0("doc","path",e),n instanceof Vg){const i=Zr.fromString(e,...t);return pI(i),new Ho(n,null,new Qt(i))}{if(!(n instanceof Ho||n instanceof bc))throw new Dt(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Zr.fromString(e,...t));return pI(i),new Ho(n.firestore,n instanceof bc?n.converter:null,new Qt(i))}}class IS{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Pg(this,"async_queue_retry"),this.Xc=()=>{const t=Vy();t&&Ot("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=Vy();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Vy();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Ms;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,l.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Fl(t))throw t;Ot("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(i=>{throw this.Wc=i,this.Hc=!1,ss("INTERNAL UNHANDLED ERROR: ",function(h){let g=h.message||"";return h.stack&&(g=h.stack.includes(h.message)?h.stack:h.message+"\n"+h.stack),g}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=t,t}enqueueAfterDelay(e,t,i){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const a=rE.createAndSchedule(this,e,t,i,h=>this.na(h));return this.zc.push(a),a}Zc(){this.Wc&&un()}verifyOperationInProgress(){}sa(){var e=this;return(0,l.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class po extends Vg{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new IS,this._persistenceKey=a?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||PE(this),this._firestoreClient.terminate()}}function wS(n,e){const t="object"==typeof n?n:(0,ve.Mq)(),i="string"==typeof n?n:e||"(default)",a=(0,ve.qX)(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const h=(0,le.P0)("firestore");h&&function FC(n,e,t,i={}){var a;const h=(n=Yr(n,Vg))._getSettings(),g=`${e}:${t}`;if("firestore.googleapis.com"!==h.host&&h.host!==g&&Mu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},h),{host:g,ssl:!1})),i.mockUserToken){let T,P;if("string"==typeof i.mockUserToken)T=i.mockUserToken,P=ea.MOCK_USER;else{T=(0,le.Sg)(i.mockUserToken,null===(a=n._app)||void 0===a?void 0:a.options.projectId);const U=i.mockUserToken.sub||i.mockUserToken.user_id;if(!U)throw new Dt(nt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");P=new ea(U)}n._authCredentials=new lD(new E1(T,P))}}(a,...h)}return a}function hs(n){return n._firestoreClient||PE(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function PE(n){var e,t,i;const a=n._freezeSettings(),h=(T=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new kw(n._databaseId,T,n._persistenceKey,(U=a).host,U.ssl,U.experimentalForceLongPolling,U.experimentalAutoDetectLongPolling,OE(U.experimentalLongPollingOptions),U.useFetchStreams));var T,U;n._firestoreClient=new xC(n._authCredentials,n._appCheckCredentials,n._queue,h),null!==(t=a.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=a.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.cache.kind,_offline:a.cache._offlineComponentProvider,_online:a.cache._onlineComponentProvider})}class Nh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Nh(us.fromBase64String(e))}catch(t){throw new Dt(nt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Nh(us.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Oh{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Dt(nt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new as(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class B_{constructor(e){this._methodName=e}}class U_{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Dt(nt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Dt(nt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Gn(this._lat,e._lat)||Gn(this._long,e._long)}}const vI=/^__.*__$/;class T0{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Dd(e,this.data,this.fieldMask,t,this.fieldTransforms):new xf(e,this.data,t,this.fieldTransforms)}}class UC{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Dd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function HC(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw un()}}class yI{constructor(e,t,i,a,h,g){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,void 0===h&&this.ua(),this.fieldTransforms=h||[],this.fieldMask=g||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new yI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:i,la:!1});return a.fa(e),a}da(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:i,la:!1});return a.ua(),a}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return S0(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(HC(this.ca)&&vI.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class LE{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Rg(e)}ya(e,t,i,a=!1){return new yI({ca:e,methodName:t,ga:i,path:as.emptyPath(),la:!1,ma:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ug(n){const e=n._freezeSettings(),t=Rg(n._databaseId);return new LE(n._databaseId,!!e.ignoreUndefinedProperties,t)}function bI(n,e,t,i,a,h={}){const g=n.ya(h.merge||h.mergeFields?2:0,e,t,a);TI("Data must be an object, but it was:",g,i);const T=wI(i,g);let P,U;if(h.merge)P=new Fc(g.fieldMask),U=g.fieldTransforms;else if(h.mergeFields){const ee=[];for(const de of h.mergeFields){const Fe=G_(e,de,t);if(!g.contains(Fe))throw new Dt(nt.INVALID_ARGUMENT,`Field '${Fe}' is specified in your field mask but missing from your input data.`);GE(ee,Fe)||ee.push(Fe)}P=new Fc(ee),U=g.fieldTransforms.filter(de=>P.covers(de.field))}else P=null,U=g.fieldTransforms;return new T0(new ka(T),P,U)}class H_ extends B_{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof H_}}function VE(n,e,t){return new yI({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class BE extends B_{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=VE(this,e,!0),i=this.pa.map(h=>Hg(h,t)),a=new yh(i);return new h_(e.path,a)}isEqual(e){return this===e}}class UE extends B_{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=VE(this,e,!0),i=this.pa.map(h=>Hg(h,t)),a=new Hl(i);return new h_(e.path,a)}isEqual(e){return this===e}}function D0(n,e,t,i=!1){return Hg(t,n.ya(i?4:3,e))}function Hg(n,e){if(C0(n=(0,le.m9)(n)))return TI("Unsupported field value:",e,n),wI(n,e);if(n instanceof B_)return function(t,i){if(!HC(i.ca))throw i._a(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,i){const a=[];let h=0;for(const g of t){let T=Hg(g,i.wa(h));null==T&&(T={nullValue:"NULL_VALUE"}),a.push(T),h++}return{arrayValue:{values:a}}}(n,e)}return function(t,i){if(null===(t=(0,le.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return uy(i.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=Co.fromDate(t);return{timestampValue:Pf(i.serializer,a)}}if(t instanceof Co){const a=new Co(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Pf(i.serializer,a)}}if(t instanceof U_)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Nh)return{bytesValue:kD(i.serializer,t._byteString)};if(t instanceof Ho){const a=i.databaseId,h=t.firestore._databaseId;if(!h.isEqual(a))throw i._a(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:ub(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i._a(`Unsupported field value: ${V_(t)}`)}(n,e)}function wI(n,e){const t={};return r_(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vl(n,(i,a)=>{const h=Hg(a,e.ha(i));null!=h&&(t[i]=h)}),{mapValue:{fields:t}}}function C0(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Co||n instanceof U_||n instanceof Nh||n instanceof Ho||n instanceof B_)}function TI(n,e,t){if(!C0(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=V_(t);throw e._a("an object"===i?n+" a custom object":n+" "+i)}var i}function G_(n,e,t){if((e=(0,le.m9)(e))instanceof Oh)return e._internalPath;if("string"==typeof e)return EI(n,e);throw S0("Field path arguments must be of type string or ",n,!1,void 0,t)}const SS=new RegExp("[~\\*/\\[\\]]");function EI(n,e,t){if(e.search(SS)>=0)throw S0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Oh(...e.split("."))._internalPath}catch{throw S0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function S0(n,e,t,i,a){const h=i&&!i.isEmpty(),g=void 0!==a;let T=`Function ${e}() called with invalid data`;t&&(T+=" (via `toFirestore()`)"),T+=". ";let P="";return(h||g)&&(P+=" (found",h&&(P+=` in field ${i}`),g&&(P+=` in document ${a}`),P+=")"),new Dt(nt.INVALID_ARGUMENT,T+n+P)}function GE(n,e){return n.some(t=>t.isEqual(e))}class DI{constructor(e,t,i,a,h){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Ho(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new jC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(j_("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class jC extends DI{data(){return super.data()}}function j_(n,e){return"string"==typeof e?EI(n,e):e instanceof Oh?e._internalPath:e._delegate._internalPath}class SI{}class $_ extends SI{}function jE(n,e,...t){let i=[];e instanceof SI&&i.push(e),i=i.concat(t),function(a){const h=a.filter(T=>T instanceof Mh).length,g=a.filter(T=>T instanceof A0).length;if(h>1||h>0&&g>0)throw new Dt(nt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const a of i)n=a._apply(n);return n}class A0 extends $_{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new A0(e,t,i)}_apply(e){const t=this._parse(e);return QC(e._query,t),new Ia(e.firestore,e.converter,sy(e._query,t))}_parse(e){const t=Ug(e.firestore);return function(a,h,g,T,P,U,ee){let de;if(P.isKeyField()){if("array-contains"===U||"array-contains-any"===U)throw new Dt(nt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${U}' queries on documentId().`);if("in"===U||"not-in"===U){zE(ee,U);const Fe=[];for(const at of ee)Fe.push($E(T,a,at));de={arrayValue:{values:Fe}}}else de=$E(T,a,ee)}else"in"!==U&&"not-in"!==U&&"array-contains-any"!==U||zE(ee,U),de=D0(g,"where",ee,"in"===U||"not-in"===U);return Pr.create(P,U,de)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function $C(n,e,t){const i=e,a=j_("where",n);return A0._create(a,i,t)}class Mh extends SI{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Mh(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:fi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,a){let h=i;const g=a.getFlattenedFilters();for(const T of g)QC(h,T),h=sy(h,T)}(e._query,t),new Ia(e.firestore,e.converter,sy(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class AI extends $_{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new AI(e,t)}_apply(e){const t=function(i,a,h){if(null!==i.startAt)throw new Dt(nt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Dt(nt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const g=new Af(a,h);return function(T,P){if(null===j1(T)){const U=Uo(T);null!==U&&JC(0,U,P.field)}}(i,g),g}(e._query,this._field,this._direction);return new Ia(e.firestore,e.converter,function(i,a){const h=i.explicitOrderBy.concat([a]);return new mh(i.path,i.collectionGroup,h,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function N0(n,e="asc"){const t=e,i=j_("orderBy",n);return AI._create(i,t)}class O0 extends $_{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new O0(e,t,i)}_apply(e){return new Ia(e.firestore,e.converter,ay(e._query,this._limit,this._limitType))}}function qC(n){return function b0(n,e){if(e<=0)throw new Dt(nt.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}("limit",n),O0._create("limit",n,"F")}class z_ extends $_{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new z_(e,t,i)}_apply(e){const t=function YC(n,e,t,i){if(t[0]=(0,le.m9)(t[0]),t[0]instanceof DI)return function(a,h,g,T,P){if(!T)throw new Dt(nt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${g}().`);const U=[];for(const ee of Of(a))if(ee.field.isKeyField())U.push(Sf(h,T.key));else{const de=T.data.field(ee.field);if(Kv(de))throw new Dt(nt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ee.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===de){const Fe=ee.field.canonicalString();throw new Dt(nt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Fe}' (used as the orderBy) does not exist.`)}U.push(de)}return new Bl(U,P)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const a=Ug(n.firestore);return function(h,g,T,P,U,ee){const de=h.explicitOrderBy;if(U.length>de.length)throw new Dt(nt.INVALID_ARGUMENT,`Too many arguments provided to ${P}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Fe=[];for(let at=0;at<U.length;at++){const Rt=U[at];if(de[at].field.isKeyField()){if("string"!=typeof Rt)throw new Dt(nt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${P}(), but got a ${typeof Rt}`);if(!oy(h)&&-1!==Rt.indexOf("/"))throw new Dt(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${P}() must be a plain document ID, but '${Rt}' contains a slash.`);const Xt=h.path.child(Zr.fromString(Rt));if(!Qt.isDocumentKey(Xt))throw new Dt(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${P}() must result in a valid document path, but '${Xt}' is not because it contains an odd number of segments.`);const nn=new Qt(Xt);Fe.push(Sf(g,nn))}else{const Xt=D0(T,P,Rt);Fe.push(Xt)}}return new Bl(Fe,ee)}(n._query,n.firestore._databaseId,a,e,t,i)}}(e,this.type,this._docOrFields,this._inclusive);return new Ia(e.firestore,e.converter,(a=t,new mh((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,a,i.endAt)));var i,a}}function KC(...n){return z_._create("startAfter",n,!1)}function $E(n,e,t){if("string"==typeof(t=(0,le.m9)(t))){if(""===t)throw new Dt(nt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oy(e)&&-1!==t.indexOf("/"))throw new Dt(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Zr.fromString(t));if(!Qt.isDocumentKey(i))throw new Dt(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Sf(n,new Qt(i))}if(t instanceof Ho)return Sf(n,t._key);throw new Dt(nt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${V_(t)}.`)}function zE(n,e){if(!Array.isArray(n)||0===n.length)throw new Dt(nt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function QC(n,e){if(e.isInequality()){const i=Uo(n),a=e.field;if(null!==i&&!i.isEqual(a))throw new Dt(nt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${a.toString()}'`);const h=j1(n);null!==h&&JC(0,a,h)}const t=function(i,a){for(const h of i)for(const g of h.getFlattenedFilters())if(a.indexOf(g.op)>=0)return g.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Dt(nt.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function JC(n,e,t){if(!t.isEqual(e))throw new Dt(nt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class NS{convertValue(e,t="none"){switch(Td(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ls(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(wd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw un()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Vl(e,(a,h)=>{i[a]=this.convertValue(h,t)}),i}convertGeoPoint(e){return new U_(ls(e.latitude),ls(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=ig(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(i_(e));default:return null}}convertTimestamp(e){const t=tl(e);return new Co(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Zr.fromString(e);vn(Ig(i));const a=new Df(i.get(1),i.get(3)),h=new Qt(i.popFirst(5));return a.isEqual(t)||ss(`Document ${h} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),h}}function WE(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class Zf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class W_ extends DI{constructor(e,t,i,a,h,g){super(e,t,i,a,g),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new r(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(j_("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class r extends W_{data(e={}){return super.data(e)}}class o{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Zf(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new r(this._firestore,this._userDataWriter,i.key,i,new Zf(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Dt(nt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let h=0;return i._snapshot.docChanges.map(g=>({type:"added",doc:new r(i._firestore,i._userDataWriter,g.doc.key,g.doc,new Zf(i._snapshot.mutatedKeys.has(g.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:h++}))}{let h=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(g=>a||3!==g.type).map(g=>{const T=new r(i._firestore,i._userDataWriter,g.doc.key,g.doc,new Zf(i._snapshot.mutatedKeys.has(g.doc.key),i._snapshot.fromCache),i.query.converter);let P=-1,U=-1;return 0!==g.type&&(P=h.indexOf(g.doc.key),h=h.delete(g.doc.key)),1!==g.type&&(h=h.add(g.doc),U=h.indexOf(g.doc.key)),{type:s(g.type),doc:T,oldIndex:P,newIndex:U}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function s(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return un()}}function f(n){n=Yr(n,Ho);const e=Yr(n.firestore,po);return function v0(n,e,t={}){const i=new Ms;return n.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return function(a,h,g,T,P){const U=new h0({next:de=>{h.enqueueAndForget(()=>P_(a,ee));const Fe=de.docs.has(g);!Fe&&de.fromCache?P.reject(new Dt(nt.UNAVAILABLE,"Failed to get document because the client is offline.")):Fe&&de.fromCache&&T&&"server"===T.source?P.reject(new Dt(nt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):P.resolve(de)},error:de=>P.reject(de)}),ee=new oE(cg(g.path),U,{includeMetadataChanges:!0,Ku:!0});return $b(a,ee)}(yield Wf(n),n.asyncQueue,e,t,i)})),i.promise}(hs(e),n._key).then(t=>function _t(n,e,t){const i=t.docs.get(e._key),a=new m(n);return new W_(n,a,e._key,i,new Zf(t.hasPendingWrites,t.fromCache),e.converter)}(e,n,t))}class m extends NS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nh(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ho(this.firestore,null,t)}}function x(n){n=Yr(n,Ia);const e=Yr(n.firestore,po),t=hs(e),i=new m(e);return function CI(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Dt(nt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),function AE(n,e,t={}){const i=new Ms;return n.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return function(a,h,g,T,P){const U=new h0({next:de=>{h.enqueueAndForget(()=>P_(a,ee)),de.fromCache&&"server"===T.source?P.reject(new Dt(nt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):P.resolve(de)},error:de=>P.reject(de)}),ee=new oE(g,U,{includeMetadataChanges:!0,Ku:!0});return $b(a,ee)}(yield Wf(n),n.asyncQueue,e,t,i)})),i.promise}(t,n._query).then(a=>new o(e,i,n,a))}function he(n,e,t){n=Yr(n,Ho);const i=Yr(n.firestore,po),a=WE(n.converter,e,t);return pn(i,[bI(Ug(i),"setDoc",n._key,a,null!==n.converter,t).toMutation(n._key,Li.none())])}function Ae(n,e,t,...i){n=Yr(n,Ho);const a=Yr(n.firestore,po),h=Ug(a);let g;return g="string"==typeof(e=(0,le.m9)(e))||e instanceof Oh?function II(n,e,t,i,a,h){const g=n.ya(1,e,t),T=[G_(e,i,t)],P=[a];if(h.length%2!=0)throw new Dt(nt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Fe=0;Fe<h.length;Fe+=2)T.push(G_(e,h[Fe])),P.push(h[Fe+1]);const U=[],ee=ka.empty();for(let Fe=T.length-1;Fe>=0;--Fe)if(!GE(U,T[Fe])){const at=T[Fe];let Rt=P[Fe];Rt=(0,le.m9)(Rt);const Xt=g.da(at);if(Rt instanceof H_)U.push(at);else{const nn=Hg(Rt,Xt);null!=nn&&(U.push(at),ee.set(at,nn))}}const de=new Fc(U);return new UC(ee,de,g.fieldTransforms)}(h,"updateDoc",n._key,e,t,i):function HE(n,e,t,i){const a=n.ya(1,e,t);TI("Data must be an object, but it was:",a,i);const h=[],g=ka.empty();Vl(i,(P,U)=>{const ee=EI(e,P,t);U=(0,le.m9)(U);const de=a.da(ee);if(U instanceof H_)h.push(ee);else{const Fe=Hg(U,de);null!=Fe&&(h.push(ee),g.set(ee,Fe))}});const T=new Fc(h);return new UC(g,T,a.fieldTransforms)}(h,"updateDoc",n._key,e),pn(a,[g.toMutation(n._key,Li.exists(!0))])}function ke(n){return pn(Yr(n.firestore,po),[new fg(n._key,Li.none())])}function lt(n,e){const t=Yr(n.firestore,po),i=mI(n),a=WE(n.converter,e);return pn(t,[bI(Ug(n.firestore),"addDoc",i._key,a,null!==n.converter,{}).toMutation(i._key,Li.exists(!1))]).then(()=>i)}function pn(n,e){return function(t,i){const a=new Ms;return t.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return function dE(n,e,t){return t0.apply(this,arguments)}(yield function _0(n){return L_(n).then(e=>e.syncEngine)}(t),i,a)})),a.promise}(hs(n),e)}function eA(...n){return new BE("arrayUnion",n)}function tA(...n){return new UE("arrayRemove",n)}!function(n,e=!0){lh=ve.Jn,(0,ve.Xd)(new ae.wA("firestore",(t,{instanceIdentifier:i,options:a})=>{const h=t.getProvider("app").getImmediate(),g=new po(new mw(t.getProvider("auth-internal")),new yw(t.getProvider("app-check-internal")),function(T,P){if(!Object.prototype.hasOwnProperty.apply(T.options,["projectId"]))throw new Dt(nt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Df(T.options.projectId,P)}(h,i),h);return a=Object.assign({useFetchStreams:e},a),g._setSettings(a),g},"PUBLIC").setMultipleInstances(!0)),(0,ve.KN)(I1,"3.13.0",n),(0,ve.KN)(I1,"3.13.0","esm2017")}();class KE{constructor(e){return e}}const FS="firestore",eS=new se.OlP("angularfire2.firestore-instances");function iA(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new KE(i)}}const oA={provide:class nA{constructor(){return(0,b.vb)(FS)}},deps:[[new se.FiY,eS]]},sA={provide:KE,useFactory:function rA(n,e){const t=(0,b.JM)(FS,n,e);return t&&new KE(t)},deps:[[new se.FiY,eS],ge.Ot]};let aA=(()=>{class n{constructor(){(0,fe.KN)("angularfire",b.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=se.oAB({type:n}),n.\u0275inj=se.cJS({providers:[sA,oA]}),n})();function cA(n,...e){return{ngModule:aA,providers:[{provide:eS,useFactory:iA(n),multi:!0,deps:[se.R0b,se.zs3,b.HU,ge.z6,[new se.FiY,Wg],[new se.FiY,lc],...e]}]}}const uA=(0,b.u3)(lt,!0),lA=(0,b.u3)(tA,!0),dA=(0,b.u3)(eA,!0),hA=(0,b.u3)(I0,!0),fA=(0,b.u3)(ke,!0),pA=(0,b.u3)(mI,!0),gA=(0,b.u3)(f,!0),mA=(0,b.u3)(x,!0),_A=(0,b.u3)(wS,!0),vA=(0,b.u3)(qC,!0),yA=(0,b.u3)(N0,!0),bA=(0,b.u3)(jE,!0),IA=(0,b.u3)(he,!0),wA=(0,b.u3)(KC,!0),TA=(0,b.u3)(Ae,!0),EA=(0,b.u3)($C,!0)},6106:(Ht,$e,Y)=>{Y.d($e,{q4:()=>Gu,HU:()=>Bd,vb:()=>tp,JM:()=>zu,u3:()=>rp});var b=Y(9468),se=Y(4097),ge=Y(5861),fe=Y(7592),l=Y(229),le=Y(6820),ve=Y(7879);const Be=(N,k)=>k.some(K=>N instanceof K);let Se,ae;const Xe=new WeakMap,Re=new WeakMap,it=new WeakMap,Ct=new WeakMap,Lt=new WeakMap;let Mt={get(N,k,K){if(N instanceof IDBTransaction){if("done"===k)return Re.get(N);if("objectStoreNames"===k)return N.objectStoreNames||it.get(N);if("store"===k)return K.objectStoreNames[1]?void 0:K.objectStore(K.objectStoreNames[0])}return pt(N[k])},set:(N,k,K)=>(N[k]=K,!0),has:(N,k)=>N instanceof IDBTransaction&&("done"===k||"store"===k)||k in N};function mt(N){return"function"==typeof N?function ot(N){return N!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ce(){return ae||(ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(N)?function(...k){return N.apply(Ue(this),k),pt(Xe.get(this))}:function(...k){return pt(N.apply(Ue(this),k))}:function(k,...K){const ue=N.call(Ue(this),k,...K);return it.set(ue,k.sort?k.sort():[k]),pt(ue)}}(N):(N instanceof IDBTransaction&&function wn(N){if(Re.has(N))return;const k=new Promise((K,ue)=>{const we=()=>{N.removeEventListener("complete",Pe),N.removeEventListener("error",rt),N.removeEventListener("abort",rt)},Pe=()=>{K(),we()},rt=()=>{ue(N.error||new DOMException("AbortError","AbortError")),we()};N.addEventListener("complete",Pe),N.addEventListener("error",rt),N.addEventListener("abort",rt)});Re.set(N,k)}(N),Be(N,function ce(){return Se||(Se=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(N,Mt):N)}function pt(N){if(N instanceof IDBRequest)return function Ft(N){const k=new Promise((K,ue)=>{const we=()=>{N.removeEventListener("success",Pe),N.removeEventListener("error",rt)},Pe=()=>{K(pt(N.result)),we()},rt=()=>{ue(N.error),we()};N.addEventListener("success",Pe),N.addEventListener("error",rt)});return k.then(K=>{K instanceof IDBCursor&&Xe.set(K,N)}).catch(()=>{}),Lt.set(k,N),k}(N);if(Ct.has(N))return Ct.get(N);const k=mt(N);return k!==N&&(Ct.set(N,k),Lt.set(k,N)),k}const Ue=N=>Lt.get(N),ht=["get","getKey","getAll","getAllKeys","count"],An=["put","add","delete","clear"],ct=new Map;function sn(N,k){if(!(N instanceof IDBDatabase)||k in N||"string"!=typeof k)return;if(ct.get(k))return ct.get(k);const K=k.replace(/FromIndex$/,""),ue=k!==K,we=An.includes(K);if(!(K in(ue?IDBIndex:IDBObjectStore).prototype)||!we&&!ht.includes(K))return;const Pe=function(){var rt=(0,ge.Z)(function*(Pt,...St){const qt=this.transaction(Pt,we?"readwrite":"readonly");let Sn=qt.store;return ue&&(Sn=Sn.index(St.shift())),(yield Promise.all([Sn[K](...St),we&&qt.done]))[0]});return function(St){return rt.apply(this,arguments)}}();return ct.set(k,Pe),Pe}!function ft(N){Mt=N(Mt)}(N=>({...N,get:(k,K,ue)=>sn(k,K)||N.get(k,K,ue),has:(k,K)=>!!sn(k,K)||N.has(k,K)}));const mn="@firebase/installations",Rn="0.6.4",zn=1e4,sr=`w:${Rn}`,xe="FIS_v2",He="https://firebaseinstallations.googleapis.com/v1",Je=36e5,xt=new l.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Bt(N){return N instanceof l.ZR&&N.code.includes("request-failed")}function an({projectId:N}){return`${He}/projects/${N}/installations`}function fn(N){return{token:N.token,requestStatus:2,expiresIn:Oe(N.expiresIn),creationTime:Date.now()}}function on(N,k){return wt.apply(this,arguments)}function wt(){return(wt=(0,ge.Z)(function*(N,k){const ue=(yield k.json()).error;return xt.create("request-failed",{requestName:N,serverCode:ue.code,serverMessage:ue.message,serverStatus:ue.status})})).apply(this,arguments)}function Fn({apiKey:N}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":N})}function Tr(N){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,ge.Z)(function*(N){const k=yield N();return k.status>=500&&k.status<600?N():k})).apply(this,arguments)}function Oe(N){return Number(N.replace("s","000"))}function gt(){return(gt=(0,ge.Z)(function*({appConfig:N,heartbeatServiceProvider:k},{fid:K}){const ue=an(N),we=Fn(N),Pe=k.getImmediate({optional:!0});if(Pe){const qt=yield Pe.getHeartbeatsHeader();qt&&we.append("x-firebase-client",qt)}const Pt={method:"POST",headers:we,body:JSON.stringify({fid:K,authVersion:xe,appId:N.appId,sdkVersion:sr})},St=yield Tr(()=>fetch(ue,Pt));if(St.ok){const qt=yield St.json();return{fid:qt.fid||K,registrationStatus:2,refreshToken:qt.refreshToken,authToken:fn(qt.authToken)}}throw yield on("Create Installation",St)})).apply(this,arguments)}function Tt(N){return new Promise(k=>{setTimeout(k,N)})}const yn=/^[cdef][\w-]{21}$/,tn="";function zt(){try{const N=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(N),N[0]=112+N[0]%16;const K=function gn(N){return function lr(N){return btoa(String.fromCharCode(...N)).replace(/\+/g,"-").replace(/\//g,"_")}(N).substr(0,22)}(N);return yn.test(K)?K:tn}catch{return tn}}function Bn(N){return`${N.appName}!${N.appId}`}const Kt=new Map;function mr(N,k){const K=Bn(N);Wn(K,k),function Vn(N,k){const K=function Pn(){return!qn&&"BroadcastChannel"in self&&(qn=new BroadcastChannel("[Firebase] FID Change"),qn.onmessage=N=>{Wn(N.data.key,N.data.fid)}),qn}();K&&K.postMessage({key:N,fid:k}),function ni(){0===Kt.size&&qn&&(qn.close(),qn=null)}()}(K,k)}function Wn(N,k){const K=Kt.get(N);if(K)for(const ue of K)ue(k)}let qn=null;const Tn="firebase-installations-database",Un=1,br="firebase-installations-store";let ri=null;function et(){return ri||(ri=function ye(N,k,{blocked:K,upgrade:ue,blocking:we,terminated:Pe}={}){const rt=indexedDB.open(N,k),Pt=pt(rt);return ue&&rt.addEventListener("upgradeneeded",St=>{ue(pt(rt.result),St.oldVersion,St.newVersion,pt(rt.transaction))}),K&&rt.addEventListener("blocked",()=>K()),Pt.then(St=>{Pe&&St.addEventListener("close",()=>Pe()),we&&St.addEventListener("versionchange",()=>we())}).catch(()=>{}),Pt}(Tn,Un,{upgrade:(N,k)=>{0===k&&N.createObjectStore(br)}})),ri}function De(N,k){return We.apply(this,arguments)}function We(){return(We=(0,ge.Z)(function*(N,k){const K=Bn(N),we=(yield et()).transaction(br,"readwrite"),Pe=we.objectStore(br),rt=yield Pe.get(K);return yield Pe.put(k,K),yield we.done,(!rt||rt.fid!==k.fid)&&mr(N,k.fid),k})).apply(this,arguments)}function yt(N){return jt.apply(this,arguments)}function jt(){return(jt=(0,ge.Z)(function*(N){const k=Bn(N),ue=(yield et()).transaction(br,"readwrite");yield ue.objectStore(br).delete(k),yield ue.done})).apply(this,arguments)}function $t(N,k){return kn.apply(this,arguments)}function kn(){return(kn=(0,ge.Z)(function*(N,k){const K=Bn(N),we=(yield et()).transaction(br,"readwrite"),Pe=we.objectStore(br),rt=yield Pe.get(K),Pt=k(rt);return void 0===Pt?yield Pe.delete(K):yield Pe.put(Pt,K),yield we.done,Pt&&(!rt||rt.fid!==Pt.fid)&&mr(N,Pt.fid),Pt})).apply(this,arguments)}function Z(N){return L.apply(this,arguments)}function L(){return L=(0,ge.Z)(function*(N){let k;const K=yield $t(N.appConfig,ue=>{const we=function H(N){return rn(N||{fid:zt(),registrationStatus:0})}(ue),Pe=function W(N,k){if(0===k.registrationStatus){if(!navigator.onLine)return{installationEntry:k,registrationPromise:Promise.reject(xt.create("app-offline"))};const K={fid:k.fid,registrationStatus:1,registrationTime:Date.now()},ue=function j(N,k){return be.apply(this,arguments)}(N,K);return{installationEntry:K,registrationPromise:ue}}return 1===k.registrationStatus?{installationEntry:k,registrationPromise:ze(N)}:{installationEntry:k}}(N,we);return k=Pe.registrationPromise,Pe.installationEntry});return K.fid===tn?{installationEntry:yield k}:{installationEntry:K,registrationPromise:k}}),L.apply(this,arguments)}function be(){return be=(0,ge.Z)(function*(N,k){try{const K=yield function st(N,k){return gt.apply(this,arguments)}(N,k);return De(N.appConfig,K)}catch(K){throw Bt(K)&&409===K.customData.serverCode?yield yt(N.appConfig):yield De(N.appConfig,{fid:k.fid,registrationStatus:0}),K}}),be.apply(this,arguments)}function ze(N){return bt.apply(this,arguments)}function bt(){return(bt=(0,ge.Z)(function*(N){let k=yield en(N.appConfig);for(;1===k.registrationStatus;)yield Tt(100),k=yield en(N.appConfig);if(0===k.registrationStatus){const{installationEntry:K,registrationPromise:ue}=yield Z(N);return ue||K}return k})).apply(this,arguments)}function en(N){return $t(N,k=>{if(!k)throw xt.create("installation-not-found");return rn(k)})}function rn(N){return function En(N){return 1===N.registrationStatus&&N.registrationTime+zn<Date.now()}(N)?{fid:N.fid,registrationStatus:0}:N}function xn(){return(xn=(0,ge.Z)(function*({appConfig:N,heartbeatServiceProvider:k},K){const ue=function kr(N,{fid:k}){return`${an(N)}/${k}/authTokens:generate`}(N,K),we=function ar(N,{refreshToken:k}){const K=Fn(N);return K.append("Authorization",function Me(N){return`${xe} ${N}`}(k)),K}(N,K),Pe=k.getImmediate({optional:!0});if(Pe){const qt=yield Pe.getHeartbeatsHeader();qt&&we.append("x-firebase-client",qt)}const Pt={method:"POST",headers:we,body:JSON.stringify({installation:{sdkVersion:sr,appId:N.appId}})},St=yield Tr(()=>fetch(ue,Pt));if(St.ok)return fn(yield St.json());throw yield on("Generate Auth Token",St)})).apply(this,arguments)}function jn(N){return Si.apply(this,arguments)}function Si(){return Si=(0,ge.Z)(function*(N,k=!1){let K;const ue=yield $t(N.appConfig,Pe=>{if(!Vr(Pe))throw xt.create("not-registered");const rt=Pe.authToken;if(!k&&function Wi(N){return 2===N.requestStatus&&!function qi(N){const k=Date.now();return k<N.creationTime||N.creationTime+N.expiresIn<k+Je}(N)}(rt))return Pe;if(1===rt.requestStatus)return K=function ps(N,k){return Ai.apply(this,arguments)}(N,k),Pe;{if(!navigator.onLine)throw xt.create("app-offline");const Pt=function Zi(N){const k={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},N),{authToken:k})}(Pe);return K=function go(N,k){return wa.apply(this,arguments)}(N,Pt),Pt}});return K?yield K:ue.authToken}),Si.apply(this,arguments)}function Ai(){return(Ai=(0,ge.Z)(function*(N,k){let K=yield Qr(N.appConfig);for(;1===K.authToken.requestStatus;)yield Tt(100),K=yield Qr(N.appConfig);const ue=K.authToken;return 0===ue.requestStatus?jn(N,k):ue})).apply(this,arguments)}function Qr(N){return $t(N,k=>{if(!Vr(k))throw xt.create("not-registered");return function $n(N){return 1===N.requestStatus&&N.requestTime+zn<Date.now()}(k.authToken)?Object.assign(Object.assign({},k),{authToken:{requestStatus:0}}):k})}function wa(){return wa=(0,ge.Z)(function*(N,k){try{const K=yield function Wt(N,k){return xn.apply(this,arguments)}(N,k),ue=Object.assign(Object.assign({},k),{authToken:K});return yield De(N.appConfig,ue),K}catch(K){if(!Bt(K)||401!==K.customData.serverCode&&404!==K.customData.serverCode){const ue=Object.assign(Object.assign({},k),{authToken:{requestStatus:0}});yield De(N.appConfig,ue)}else yield yt(N.appConfig);throw K}}),wa.apply(this,arguments)}function Vr(N){return void 0!==N&&2===N.registrationStatus}function Or(){return(Or=(0,ge.Z)(function*(N){const k=N,{installationEntry:K,registrationPromise:ue}=yield Z(k);return ue?ue.catch(console.error):jn(k).catch(console.error),K.fid})).apply(this,arguments)}function ta(){return ta=(0,ge.Z)(function*(N,k=!1){const K=N;return yield function mo(N){return Ao.apply(this,arguments)}(K),(yield jn(K,k)).token}),ta.apply(this,arguments)}function Ao(){return(Ao=(0,ge.Z)(function*(N){const{registrationPromise:k}=yield Z(N);k&&(yield k)})).apply(this,arguments)}function _o(N){return xt.create("missing-app-config-values",{valueName:N})}const ra="installations",Bi=N=>{const k=N.getProvider("app").getImmediate(),K=function na(N){if(!N||!N.options)throw _o("App Configuration");if(!N.name)throw _o("App Name");const k=["projectId","apiKey","appId"];for(const K of k)if(!N.options[K])throw _o(K);return{appName:N.name,projectId:N.options.projectId,apiKey:N.options.apiKey,appId:N.options.appId}}(k);return{app:k,appConfig:K,heartbeatServiceProvider:(0,fe.qX)(k,"heartbeat"),_delete:()=>Promise.resolve()}},Jr=N=>{const k=N.getProvider("app").getImmediate(),K=(0,fe.qX)(k,ra).getImmediate();return{getId:()=>function So(N){return Or.apply(this,arguments)}(K),getToken:we=>function Go(N){return ta.apply(this,arguments)}(K,we)}};(function vo(){(0,fe.Xd)(new le.wA(ra,Bi,"PUBLIC")),(0,fe.Xd)(new le.wA("installations-internal",Jr,"PRIVATE"))})(),(0,fe.KN)(mn,Rn),(0,fe.KN)(mn,Rn,"esm2017");const cr="@firebase/remote-config",gi=new l.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class mi{constructor(k,K,ue,we){this.client=k,this.storage=K,this.storageCache=ue,this.logger=we}isCachedDataFresh(k,K){if(!K)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ue=Date.now()-K,we=ue<=k;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ue}. Cache max age millis (minimumFetchIntervalMillis setting): ${k}. Is cache hit: ${we}.`),we}fetch(k){var K=this;return(0,ge.Z)(function*(){const[ue,we]=yield Promise.all([K.storage.getLastSuccessfulFetchTimestampMillis(),K.storage.getLastSuccessfulFetchResponse()]);if(we&&K.isCachedDataFresh(k.cacheMaxAgeMillis,ue))return we;k.eTag=we&&we.eTag;const Pe=yield K.client.fetch(k),rt=[K.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Pe.status&&rt.push(K.storage.setLastSuccessfulFetchResponse(Pe)),yield Promise.all(rt),Pe})()}}function La(N=navigator){return N.languages&&N.languages[0]||N.language}class Vs{constructor(k,K,ue,we,Pe,rt){this.firebaseInstallations=k,this.sdkVersion=K,this.namespace=ue,this.projectId=we,this.apiKey=Pe,this.appId=rt}fetch(k){var K=this;return(0,ge.Z)(function*(){const[ue,we]=yield Promise.all([K.firebaseInstallations.getId(),K.firebaseInstallations.getToken()]),rt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${K.projectId}/namespaces/${K.namespace}:fetch?key=${K.apiKey}`,Pt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":k.eTag||"*"},St={sdk_version:K.sdkVersion,app_instance_id:ue,app_instance_id_token:we,app_id:K.appId,language_code:La()},qt={method:"POST",headers:Pt,body:JSON.stringify(St)},Sn=fetch(rt,qt),Hn=new Promise((Ka,Ra)=>{k.signal.addEventListener(()=>{const Pi=new Error("The operation was aborted.");Pi.name="AbortError",Ra(Pi)})});let da;try{yield Promise.race([Sn,Hn]),da=yield Sn}catch(Ka){let Ra="fetch-client-network";throw"AbortError"===Ka?.name&&(Ra="fetch-timeout"),gi.create(Ra,{originalErrorMessage:Ka?.message})}let is=da.status;const nd=da.headers.get("ETag")||void 0;let Sc,ha;if(200===da.status){let Ka;try{Ka=yield da.json()}catch(Ra){throw gi.create("fetch-client-parse",{originalErrorMessage:Ra?.message})}Sc=Ka.entries,ha=Ka.state}if("INSTANCE_STATE_UNSPECIFIED"===ha?is=500:"NO_CHANGE"===ha?is=304:("NO_TEMPLATE"===ha||"EMPTY_CONFIG"===ha)&&(Sc={}),304!==is&&200!==is)throw gi.create("fetch-status",{httpStatus:is});return{status:is,eTag:nd,config:Sc}})()}}class Dn{constructor(k,K){this.client=k,this.storage=K}fetch(k){var K=this;return(0,ge.Z)(function*(){const ue=(yield K.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return K.attemptFetch(k,ue)})()}attemptFetch(k,{throttleEndTimeMillis:K,backoffCount:ue}){var we=this;return(0,ge.Z)(function*(){yield function nr(N,k){return new Promise((K,ue)=>{const we=Math.max(k-Date.now(),0),Pe=setTimeout(K,we);N.addEventListener(()=>{clearTimeout(Pe),ue(gi.create("fetch-throttle",{throttleEndTimeMillis:k}))})})}(k.signal,K);try{const Pe=yield we.client.fetch(k);return yield we.storage.deleteThrottleMetadata(),Pe}catch(Pe){if(!function Et(N){if(!(N instanceof l.ZR&&N.customData))return!1;const k=Number(N.customData.httpStatus);return 429===k||500===k||503===k||504===k}(Pe))throw Pe;const rt={throttleEndTimeMillis:Date.now()+(0,l.$s)(ue),backoffCount:ue+1};return yield we.storage.setThrottleMetadata(rt),we.attemptFetch(k,rt)}})()}}class Oo{constructor(k,K,ue,we,Pe){this.app=k,this._client=K,this._storageCache=ue,this._storage=we,this._logger=Pe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Lr(N,k){const K=N.target.error||void 0;return gi.create(k,{originalErrorMessage:K&&K?.message})}const _i="app_namespace_store";class Cn{constructor(k,K,ue,we=function yo(){return new Promise((N,k)=>{try{const K=indexedDB.open("firebase_remote_config",1);K.onerror=ue=>{k(Lr(ue,"storage-open"))},K.onsuccess=ue=>{N(ue.target.result)},K.onupgradeneeded=ue=>{0===ue.oldVersion&&ue.target.result.createObjectStore(_i,{keyPath:"compositeKey"})}}catch(K){k(gi.create("storage-open",{originalErrorMessage:K?.message}))}})}()){this.appId=k,this.appName=K,this.namespace=ue,this.openDbPromise=we}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(k){return this.set("last_fetch_status",k)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(k){return this.set("last_successful_fetch_timestamp_millis",k)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(k){return this.set("last_successful_fetch_response",k)}getActiveConfig(){return this.get("active_config")}setActiveConfig(k){return this.set("active_config",k)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(k){return this.set("active_config_etag",k)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(k){return this.set("throttle_metadata",k)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(k){var K=this;return(0,ge.Z)(function*(){const ue=yield K.openDbPromise;return new Promise((we,Pe)=>{const Pt=ue.transaction([_i],"readonly").objectStore(_i),St=K.createCompositeKey(k);try{const qt=Pt.get(St);qt.onerror=Sn=>{Pe(Lr(Sn,"storage-get"))},qt.onsuccess=Sn=>{const Hn=Sn.target.result;we(Hn?Hn.value:void 0)}}catch(qt){Pe(gi.create("storage-get",{originalErrorMessage:qt?.message}))}})})()}set(k,K){var ue=this;return(0,ge.Z)(function*(){const we=yield ue.openDbPromise;return new Promise((Pe,rt)=>{const St=we.transaction([_i],"readwrite").objectStore(_i),qt=ue.createCompositeKey(k);try{const Sn=St.put({compositeKey:qt,value:K});Sn.onerror=Hn=>{rt(Lr(Hn,"storage-set"))},Sn.onsuccess=()=>{Pe()}}catch(Sn){rt(gi.create("storage-set",{originalErrorMessage:Sn?.message}))}})})()}delete(k){var K=this;return(0,ge.Z)(function*(){const ue=yield K.openDbPromise;return new Promise((we,Pe)=>{const Pt=ue.transaction([_i],"readwrite").objectStore(_i),St=K.createCompositeKey(k);try{const qt=Pt.delete(St);qt.onerror=Sn=>{Pe(Lr(Sn,"storage-delete"))},qt.onsuccess=()=>{we()}}catch(qt){Pe(gi.create("storage-delete",{originalErrorMessage:qt?.message}))}})})()}createCompositeKey(k){return[this.appId,this.appName,this.namespace,k].join()}}class Mo{constructor(k){this.storage=k}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var k=this;return(0,ge.Z)(function*(){const K=k.storage.getLastFetchStatus(),ue=k.storage.getLastSuccessfulFetchTimestampMillis(),we=k.storage.getActiveConfig(),Pe=yield K;Pe&&(k.lastFetchStatus=Pe);const rt=yield ue;rt&&(k.lastSuccessfulFetchTimestampMillis=rt);const Pt=yield we;Pt&&(k.activeConfig=Pt)})()}setLastFetchStatus(k){return this.lastFetchStatus=k,this.storage.setLastFetchStatus(k)}setLastSuccessfulFetchTimestampMillis(k){return this.lastSuccessfulFetchTimestampMillis=k,this.storage.setLastSuccessfulFetchTimestampMillis(k)}setActiveConfig(k){return this.activeConfig=k,this.storage.setActiveConfig(k)}}function vi(){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,ge.Z)(function*(){if(!(0,l.hl)())return!1;try{return yield(0,l.eu)()}catch{return!1}})).apply(this,arguments)}!function tc(){(0,fe.Xd)(new le.wA("remote-config",function N(k,{instanceIdentifier:K}){const ue=k.getProvider("app").getImmediate(),we=k.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw gi.create("registration-window");if(!(0,l.hl)())throw gi.create("indexed-db-unavailable");const{projectId:Pe,apiKey:rt,appId:Pt}=ue.options;if(!Pe)throw gi.create("registration-project-id");if(!rt)throw gi.create("registration-api-key");if(!Pt)throw gi.create("registration-app-id");const St=new Cn(Pt,ue.name,K=K||"firebase"),qt=new Mo(St),Sn=new ve.Yd(cr);Sn.logLevel=ve.in.ERROR;const Hn=new Vs(we,fe.Jn,K,Pe,rt,Pt),da=new Dn(Hn,St),is=new mi(da,St,qt,Sn),nd=new Oo(ue,is,qt,St,Sn);return function Ls(N){const k=(0,l.m9)(N);k._initializePromise||(k._initializePromise=k._storageCache.loadFromStorage().then(()=>{k._isInitializationComplete=!0}))}(nd),nd},"PUBLIC").setMultipleInstances(!0)),(0,fe.KN)(cr,"0.4.4"),(0,fe.KN)(cr,"0.4.4","esm2017")}();const zr=(N,k)=>k.some(K=>N instanceof K);let Bs,Hc;const xo=new WeakMap,vs=new WeakMap,Nn=new WeakMap,Gc=new WeakMap,Us=new WeakMap;let Ro={get(N,k,K){if(N instanceof IDBTransaction){if("done"===k)return vs.get(N);if("objectStoreNames"===k)return N.objectStoreNames||Nn.get(N);if("store"===k)return K.objectStoreNames[1]?void 0:K.objectStore(K.objectStoreNames[0])}return Wo(N[k])},set:(N,k,K)=>(N[k]=K,!0),has:(N,k)=>N instanceof IDBTransaction&&("done"===k||"store"===k)||k in N};function _r(N){return"function"==typeof N?function Po(N){return N!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Mi(){return Hc||(Hc=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(N)?function(...k){return N.apply(Ur(this),k),Wo(xo.get(this))}:function(...k){return Wo(N.apply(Ur(this),k))}:function(k,...K){const ue=N.call(Ur(this),k,...K);return Nn.set(ue,k.sort?k.sort():[k]),Wo(ue)}}(N):(N instanceof IDBTransaction&&function hi(N){if(vs.has(N))return;const k=new Promise((K,ue)=>{const we=()=>{N.removeEventListener("complete",Pe),N.removeEventListener("error",rt),N.removeEventListener("abort",rt)},Pe=()=>{K(),we()},rt=()=>{ue(N.error||new DOMException("AbortError","AbortError")),we()};N.addEventListener("complete",Pe),N.addEventListener("error",rt),N.addEventListener("abort",rt)});vs.set(N,k)}(N),zr(N,function zo(){return Bs||(Bs=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(N,Ro):N)}function Wo(N){if(N instanceof IDBRequest)return function Ui(N){const k=new Promise((K,ue)=>{const we=()=>{N.removeEventListener("success",Pe),N.removeEventListener("error",rt)},Pe=()=>{K(Wo(N.result)),we()},rt=()=>{ue(N.error),we()};N.addEventListener("success",Pe),N.addEventListener("error",rt)});return k.then(K=>{K instanceof IDBCursor&&xo.set(K,N)}).catch(()=>{}),Us.set(k,N),k}(N);if(Gc.has(N))return Gc.get(N);const k=_r(N);return k!==N&&(Gc.set(N,k),Us.set(k,N)),k}const Ur=N=>Us.get(N);function Xi(N,k,{blocked:K,upgrade:ue,blocking:we,terminated:Pe}={}){const rt=indexedDB.open(N,k),Pt=Wo(rt);return ue&&rt.addEventListener("upgradeneeded",St=>{ue(Wo(rt.result),St.oldVersion,St.newVersion,Wo(rt.transaction))}),K&&rt.addEventListener("blocked",()=>K()),Pt.then(St=>{Pe&&St.addEventListener("close",()=>Pe()),we&&St.addEventListener("versionchange",()=>we())}).catch(()=>{}),Pt}function ys(N,{blocked:k}={}){const K=indexedDB.deleteDatabase(N);return k&&K.addEventListener("blocked",()=>k()),Wo(K).then(()=>{})}const bs=["get","getKey","getAll","getAllKeys","count"],Is=["put","add","delete","clear"],ai=new Map;function xi(N,k){if(!(N instanceof IDBDatabase)||k in N||"string"!=typeof k)return;if(ai.get(k))return ai.get(k);const K=k.replace(/FromIndex$/,""),ue=k!==K,we=Is.includes(K);if(!(K in(ue?IDBIndex:IDBObjectStore).prototype)||!we&&!bs.includes(K))return;const Pe=function(){var rt=(0,ge.Z)(function*(Pt,...St){const qt=this.transaction(Pt,we?"readwrite":"readonly");let Sn=qt.store;return ue&&(Sn=Sn.index(St.shift())),(yield Promise.all([Sn[K](...St),we&&qt.done]))[0]});return function(St){return rt.apply(this,arguments)}}();return ai.set(k,Pe),Pe}!function Va(N){Ro=N(Ro)}(N=>({...N,get:(k,K,ue)=>xi(k,K)||N.get(k,K,ue),has:(k,K)=>!!xi(k,K)||N.has(k,K)}));const Ba="/firebase-messaging-sw.js",Hs="/firebase-cloud-messaging-push-scope",qo="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",eo="https://fcmregistrations.googleapis.com/v1",Mr="google.c.a.c_id",Gs="google.c.a.c_l",Hi="google.c.a.ts";var F=function(N){return N.PUSH_RECEIVED="push-received",N.NOTIFICATION_CLICKED="notification-clicked",N}(F||{});function ie(N){const k=new Uint8Array(N);return btoa(String.fromCharCode(...k)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ie(N){const K=(N+"=".repeat((4-N.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ue=atob(K),we=new Uint8Array(ue.length);for(let Pe=0;Pe<ue.length;++Pe)we[Pe]=ue.charCodeAt(Pe);return we}const Ut="fcm_token_details_db",In=5,Ri="fcm_token_object_Store";function ci(){return ci=(0,ge.Z)(function*(N){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Pe=>Pe.name).includes(Ut))return null;let k=null;return(yield Xi(Ut,In,{upgrade:(ue=(0,ge.Z)(function*(we,Pe,rt,Pt){var St;if(Pe<2||!we.objectStoreNames.contains(Ri))return;const qt=Pt.objectStore(Ri),Sn=yield qt.index("fcmSenderId").get(N);if(yield qt.clear(),Sn)if(2===Pe){const Hn=Sn;if(!Hn.auth||!Hn.p256dh||!Hn.endpoint)return;k={token:Hn.fcmToken,createTime:null!==(St=Hn.createTime)&&void 0!==St?St:Date.now(),subscriptionOptions:{auth:Hn.auth,p256dh:Hn.p256dh,endpoint:Hn.endpoint,swScope:Hn.swScope,vapidKey:"string"==typeof Hn.vapidKey?Hn.vapidKey:ie(Hn.vapidKey)}}}else if(3===Pe){const Hn=Sn;k={token:Hn.fcmToken,createTime:Hn.createTime,subscriptionOptions:{auth:ie(Hn.auth),p256dh:ie(Hn.p256dh),endpoint:Hn.endpoint,swScope:Hn.swScope,vapidKey:ie(Hn.vapidKey)}}}else if(4===Pe){const Hn=Sn;k={token:Hn.fcmToken,createTime:Hn.createTime,subscriptionOptions:{auth:ie(Hn.auth),p256dh:ie(Hn.p256dh),endpoint:Hn.endpoint,swScope:Hn.swScope,vapidKey:ie(Hn.vapidKey)}}}}),function(Pe,rt,Pt,St){return ue.apply(this,arguments)})})).close(),yield ys(Ut),yield ys("fcm_vapid_details_db"),yield ys("undefined"),function yi(N){if(!N||!N.subscriptionOptions)return!1;const{subscriptionOptions:k}=N;return"number"==typeof N.createTime&&N.createTime>0&&"string"==typeof N.token&&N.token.length>0&&"string"==typeof k.auth&&k.auth.length>0&&"string"==typeof k.p256dh&&k.p256dh.length>0&&"string"==typeof k.endpoint&&k.endpoint.length>0&&"string"==typeof k.swScope&&k.swScope.length>0&&"string"==typeof k.vapidKey&&k.vapidKey.length>0}(k)?k:null;var ue}),ci.apply(this,arguments)}const Ua="firebase-messaging-database",js=1,$s="firebase-messaging-store";let nc=null;function Aa(){return nc||(nc=Xi(Ua,js,{upgrade:(N,k)=>{0===k&&N.createObjectStore($s)}})),nc}function ao(N){return du.apply(this,arguments)}function du(){return du=(0,ge.Z)(function*(N){const k=Zo(N),ue=yield(yield Aa()).transaction($s).objectStore($s).get(k);if(ue)return ue;{const we=yield function bo(N){return ci.apply(this,arguments)}(N.appConfig.senderId);if(we)return yield rc(N,we),we}}),du.apply(this,arguments)}function rc(N,k){return bi.apply(this,arguments)}function bi(){return(bi=(0,ge.Z)(function*(N,k){const K=Zo(N),we=(yield Aa()).transaction($s,"readwrite");return yield we.objectStore($s).put(k,K),yield we.done,k})).apply(this,arguments)}function Gi(){return(Gi=(0,ge.Z)(function*(N){const k=Zo(N),ue=(yield Aa()).transaction($s,"readwrite");yield ue.objectStore($s).delete(k),yield ue.done})).apply(this,arguments)}function Zo({appConfig:N}){return N.appId}const Ar=new l.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function no(N,k){return Na.apply(this,arguments)}function Na(){return(Na=(0,ge.Z)(function*(N,k){const K=yield ws(N),ue=Ko(k),we={method:"POST",headers:K,body:JSON.stringify(ue)};let Pe;try{Pe=yield(yield fetch(Ga(N.appConfig),we)).json()}catch(rt){throw Ar.create("token-subscribe-failed",{errorInfo:rt?.toString()})}if(Pe.error)throw Ar.create("token-subscribe-failed",{errorInfo:Pe.error.message});if(!Pe.token)throw Ar.create("token-subscribe-no-token");return Pe.token})).apply(this,arguments)}function co(){return(co=(0,ge.Z)(function*(N,k){const K=yield ws(N),ue=Ko(k.subscriptionOptions),we={method:"PATCH",headers:K,body:JSON.stringify(ue)};let Pe;try{Pe=yield(yield fetch(`${Ga(N.appConfig)}/${k.token}`,we)).json()}catch(rt){throw Ar.create("token-update-failed",{errorInfo:rt?.toString()})}if(Pe.error)throw Ar.create("token-update-failed",{errorInfo:Pe.error.message});if(!Pe.token)throw Ar.create("token-update-no-token");return Pe.token})).apply(this,arguments)}function Oa(N,k){return Io.apply(this,arguments)}function Io(){return(Io=(0,ge.Z)(function*(N,k){const ue={method:"DELETE",headers:yield ws(N)};try{const Pe=yield(yield fetch(`${Ga(N.appConfig)}/${k}`,ue)).json();if(Pe.error)throw Ar.create("token-unsubscribe-failed",{errorInfo:Pe.error.message})}catch(we){throw Ar.create("token-unsubscribe-failed",{errorInfo:we?.toString()})}})).apply(this,arguments)}function Ga({projectId:N}){return`${eo}/projects/${N}/registrations`}function ws(N){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,ge.Z)(function*({appConfig:N,installations:k}){const K=yield k.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":N.apiKey,"x-goog-firebase-installations-auth":`FIS ${K}`})})).apply(this,arguments)}function Ko({p256dh:N,auth:k,endpoint:K,vapidKey:ue}){const we={web:{endpoint:K,auth:k,p256dh:N}};return ue!==qo&&(we.web.applicationPubKey=ue),we}const ja=6048e5;function ko(){return ko=(0,ge.Z)(function*(N){const k=yield function Qo(N,k){return Ru.apply(this,arguments)}(N.swRegistration,N.vapidKey),K={vapidKey:N.vapidKey,swScope:N.swRegistration.scope,endpoint:k.endpoint,auth:ie(k.getKey("auth")),p256dh:ie(k.getKey("p256dh"))},ue=yield ao(N.firebaseDependencies);if(ue){if(function O(N,k){return k.vapidKey===N.vapidKey&&k.endpoint===N.endpoint&&k.auth===N.auth&&k.p256dh===N.p256dh}(ue.subscriptionOptions,K))return Date.now()>=ue.createTime+ja?function wc(N,k){return hu.apply(this,arguments)}(N,{token:ue.token,createTime:Date.now(),subscriptionOptions:K}):ue.token;try{yield Oa(N.firebaseDependencies,ue.token)}catch(we){console.warn(we)}return fu(N.firebaseDependencies,K)}return fu(N.firebaseDependencies,K)}),ko.apply(this,arguments)}function Yo(){return Yo=(0,ge.Z)(function*(N){const k=yield ao(N.firebaseDependencies);k&&(yield Oa(N.firebaseDependencies,k.token),yield function zs(N){return Gi.apply(this,arguments)}(N.firebaseDependencies));const K=yield N.swRegistration.pushManager.getSubscription();return!K||K.unsubscribe()}),Yo.apply(this,arguments)}function hu(){return hu=(0,ge.Z)(function*(N,k){try{const K=yield function Ha(N,k){return co.apply(this,arguments)}(N.firebaseDependencies,k),ue=Object.assign(Object.assign({},k),{token:K,createTime:Date.now()});return yield rc(N.firebaseDependencies,ue),K}catch(K){throw yield function xu(N){return Yo.apply(this,arguments)}(N),K}}),hu.apply(this,arguments)}function fu(N,k){return sa.apply(this,arguments)}function sa(){return(sa=(0,ge.Z)(function*(N,k){const ue={token:yield no(N,k),createTime:Date.now(),subscriptionOptions:k};return yield rc(N,ue),ue.token})).apply(this,arguments)}function Ru(){return(Ru=(0,ge.Z)(function*(N,k){return(yield N.pushManager.getSubscription())||N.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ie(k)})})).apply(this,arguments)}function te(N){const k={from:N.from,collapseKey:N.collapse_key,messageId:N.fcmMessageId};return function B(N,k){if(!k.notification)return;N.notification={};const K=k.notification.title;K&&(N.notification.title=K);const ue=k.notification.body;ue&&(N.notification.body=ue);const we=k.notification.image;we&&(N.notification.image=we);const Pe=k.notification.icon;Pe&&(N.notification.icon=Pe)}(k,N),function X(N,k){k.data&&(N.data=k.data)}(k,N),function me(N,k){var K,ue,we,Pe,rt;if(!(k.fcmOptions||null!==(K=k.notification)&&void 0!==K&&K.click_action))return;N.fcmOptions={};const Pt=null!==(we=null===(ue=k.fcmOptions)||void 0===ue?void 0:ue.link)&&void 0!==we?we:null===(Pe=k.notification)||void 0===Pe?void 0:Pe.click_action;Pt&&(N.fcmOptions.link=Pt);const St=null===(rt=k.fcmOptions)||void 0===rt?void 0:rt.analytics_label;St&&(N.fcmOptions.analyticsLabel=St)}(k,N),k}function dt(N,k){const K=[];for(let ue=0;ue<N.length;ue++)K.push(N.charAt(ue)),ue<k.length&&K.push(k.charAt(ue));return K.join("")}function Jn(N){return Ar.create("missing-app-config-values",{valueName:N})}dt("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),dt("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Dr{constructor(k,K,ue){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const we=function dn(N){if(!N||!N.options)throw Jn("App Configuration Object");if(!N.name)throw Jn("App Name");const k=["projectId","apiKey","appId","messagingSenderId"],{options:K}=N;for(const ue of k)if(!K[ue])throw Jn(ue);return{appName:N.name,projectId:K.projectId,apiKey:K.apiKey,appId:K.appId,senderId:K.messagingSenderId}}(k);this.firebaseDependencies={app:k,appConfig:we,installations:K,analyticsProvider:ue}}_delete(){return Promise.resolve()}}function Ln(){return(Ln=(0,ge.Z)(function*(N){try{N.swRegistration=yield navigator.serviceWorker.register(Ba,{scope:Hs}),N.swRegistration.update().catch(()=>{})}catch(k){throw Ar.create("failed-service-worker-registration",{browserErrorMessage:k?.message})}})).apply(this,arguments)}function xr(){return(xr=(0,ge.Z)(function*(N,k){if(!k&&!N.swRegistration&&(yield function Xn(N){return Ln.apply(this,arguments)}(N)),k||!N.swRegistration){if(!(k instanceof ServiceWorkerRegistration))throw Ar.create("invalid-sw-registration");N.swRegistration=k}})).apply(this,arguments)}function wo(){return(wo=(0,ge.Z)(function*(N,k){k?N.vapidKey=k:N.vapidKey||(N.vapidKey=qo)})).apply(this,arguments)}function ro(){return ro=(0,ge.Z)(function*(N,k){if(!navigator)throw Ar.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ar.create("permission-blocked");return yield function ii(N,k){return wo.apply(this,arguments)}(N,k?.vapidKey),yield function ei(N,k){return xr.apply(this,arguments)}(N,k?.serviceWorkerRegistration),function ic(N){return ko.apply(this,arguments)}(N)}),ro.apply(this,arguments)}function qs(){return(qs=(0,ge.Z)(function*(N,k,K){const ue=function Jo(N){switch(N){case F.NOTIFICATION_CLICKED:return"notification_open";case F.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(k);(yield N.firebaseDependencies.analyticsProvider.get()).logEvent(ue,{message_id:K[Mr],message_name:K[Gs],message_time:K[Hi],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function $a(){return $a=(0,ge.Z)(function*(N,k){const K=k.data;if(!K.isFirebaseMessaging)return;N.onMessageHandler&&K.messageType===F.PUSH_RECEIVED&&("function"==typeof N.onMessageHandler?N.onMessageHandler(te(K)):N.onMessageHandler.next(te(K)));const ue=K.data;(function Ye(N){return"object"==typeof N&&!!N&&Mr in N})(ue)&&"1"===ue["google.c.a.e"]&&(yield function To(N,k,K){return qs.apply(this,arguments)}(N,K.messageType,ue))}),$a.apply(this,arguments)}const Wl="@firebase/messaging",za=N=>{const k=new Dr(N.getProvider("app").getImmediate(),N.getProvider("installations-internal").getImmediate(),N.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",K=>function oc(N,k){return $a.apply(this,arguments)}(k,K)),k},jc=N=>{const k=N.getProvider("messaging").getImmediate();return{getToken:ue=>function uo(N,k){return ro.apply(this,arguments)}(k,ue)}};function pu(){return gu.apply(this,arguments)}function gu(){return(gu=(0,ge.Z)(function*(){try{yield(0,l.eu)()}catch{return!1}return typeof window<"u"&&(0,l.hl)()&&(0,l.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function oi(){(0,fe.Xd)(new le.wA("messaging",za,"PUBLIC")),(0,fe.Xd)(new le.wA("messaging-internal",jc,"PRIVATE")),(0,fe.KN)(Wl,"0.12.4"),(0,fe.KN)(Wl,"0.12.4","esm2017")}();const aa="analytics",al="firebase_id",xh="origin",Wr=6e4,$c="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Tc="https://www.googletagmanager.com/gtag/js",io=new ve.Yd("@firebase/analytics"),lo=new l.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Yf(N){if(!N.startsWith(Tc)){const k=lo.create("invalid-gtag-resource",{gtagURL:N});return io.warn(k.message),""}return N}function Pu(N){return Promise.all(N.map(k=>k.catch(K=>K)))}function zc(){return(zc=(0,ge.Z)(function*(N,k,K,ue,we,Pe){const rt=ue[we];try{if(rt)yield k[rt];else{const St=(yield Pu(K)).find(qt=>qt.measurementId===we);St&&(yield k[St.appId])}}catch(Pt){io.error(Pt)}N("config",we,Pe)})).apply(this,arguments)}function cl(){return(cl=(0,ge.Z)(function*(N,k,K,ue,we){try{let Pe=[];if(we&&we.send_to){let rt=we.send_to;Array.isArray(rt)||(rt=[rt]);const Pt=yield Pu(K);for(const St of rt){const qt=Pt.find(Hn=>Hn.measurementId===St),Sn=qt&&k[qt.appId];if(!Sn){Pe=[];break}Pe.push(Sn)}}0===Pe.length&&(Pe=Object.values(k)),yield Promise.all(Pe),N("event",ue,we||{})}catch(Pe){io.error(Pe)}})).apply(this,arguments)}const fr=30,ji=new class Kl{constructor(k={},K=1e3){this.throttleMetadata=k,this.intervalMillis=K}getThrottleMetadata(k){return this.throttleMetadata[k]}setThrottleMetadata(k,K){this.throttleMetadata[k]=K}deleteThrottleMetadata(k){delete this.throttleMetadata[k]}};function ll(N){return new Headers({Accept:"application/json","x-goog-api-key":N})}function ns(){return(ns=(0,ge.Z)(function*(N){var k;const{appId:K,apiKey:ue}=N,we={method:"GET",headers:ll(ue)},Pe=$c.replace("{app-id}",K),rt=yield fetch(Pe,we);if(200!==rt.status&&304!==rt.status){let Pt="";try{const St=yield rt.json();null!==(k=St.error)&&void 0!==k&&k.message&&(Pt=St.error.message)}catch{}throw lo.create("config-fetch-failed",{httpStatus:rt.status,responseMessage:Pt})}return rt.json()})).apply(this,arguments)}function Wa(){return(Wa=(0,ge.Z)(function*(N,k=ji,K){const{appId:ue,apiKey:we,measurementId:Pe}=N.options;if(!ue)throw lo.create("no-app-id");if(!we){if(Pe)return{measurementId:Pe,appId:ue};throw lo.create("no-api-key")}const rt=k.getThrottleMetadata(ue)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Pt=new Zs;return setTimeout((0,ge.Z)(function*(){Pt.abort()}),void 0!==K?K:Wr),hl({appId:ue,apiKey:we,measurementId:Pe},rt,Pt,k)})).apply(this,arguments)}function hl(N,k,K){return Ec.apply(this,arguments)}function Ec(){return Ec=(0,ge.Z)(function*(N,{throttleEndTimeMillis:k,backoffCount:K},ue,we=ji){var Pe;const{appId:rt,measurementId:Pt}=N;try{yield function ac(N,k){return new Promise((K,ue)=>{const we=Math.max(k-Date.now(),0),Pe=setTimeout(K,we);N.addEventListener(()=>{clearTimeout(Pe),ue(lo.create("fetch-throttle",{throttleEndTimeMillis:k}))})})}(ue,k)}catch(St){if(Pt)return io.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Pt} provided in the "measurementId" field in the local Firebase config. [${St?.message}]`),{appId:rt,measurementId:Pt};throw St}try{const St=yield function Wc(N){return ns.apply(this,arguments)}(N);return we.deleteThrottleMetadata(rt),St}catch(St){const qt=St;if(!function Fo(N){if(!(N instanceof l.ZR&&N.customData))return!1;const k=Number(N.customData.httpStatus);return 429===k||500===k||503===k||504===k}(qt)){if(we.deleteThrottleMetadata(rt),Pt)return io.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Pt} provided in the "measurementId" field in the local Firebase config. [${qt?.message}]`),{appId:rt,measurementId:Pt};throw St}const Sn=503===Number(null===(Pe=qt?.customData)||void 0===Pe?void 0:Pe.httpStatus)?(0,l.$s)(K,we.intervalMillis,fr):(0,l.$s)(K,we.intervalMillis),Hn={throttleEndTimeMillis:Date.now()+Sn,backoffCount:K+1};return we.setThrottleMetadata(rt,Hn),io.debug(`Calling attemptFetch again in ${Sn} millis`),hl(N,Hn,ue,we)}}),Ec.apply(this,arguments)}class Zs{constructor(){this.listeners=[]}addEventListener(k){this.listeners.push(k)}abort(){this.listeners.forEach(k=>k())}}let qc,pe;function ua(){return(ua=(0,ge.Z)(function*(N,k,K,ue,we){if(we&&we.global)N("event",K,ue);else{const Pe=yield k;N("event",K,Object.assign(Object.assign({},ue),{send_to:Pe}))}})).apply(this,arguments)}function On(){return(On=(0,ge.Z)(function*(){if(!(0,l.hl)())return io.warn(lo.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,l.eu)()}catch(N){return io.warn(lo.create("indexeddb-unavailable",{errorInfo:N?.toString()}).message),!1}return!0})).apply(this,arguments)}function rr(){return rr=(0,ge.Z)(function*(N,k,K,ue,we,Pe,rt){var Pt;const St=function dl(N){return Wa.apply(this,arguments)}(N);St.then(is=>{K[is.measurementId]=is.appId,N.options.measurementId&&is.measurementId!==N.options.measurementId&&io.warn(`The measurement ID in the local Firebase config (${N.options.measurementId}) does not match the measurement ID fetched from the server (${is.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(is=>io.error(is)),k.push(St);const qt=function Gt(){return On.apply(this,arguments)}().then(is=>{if(is)return ue.getId()}),[Sn,Hn]=yield Promise.all([St,qt]);(function ut(N){const k=window.document.getElementsByTagName("script");for(const K of Object.values(k))if(K.src&&K.src.includes(Tc)&&K.src.includes(N))return K;return null})(Pe)||function _u(N,k){const K=function Md(N,k){let K;return window.trustedTypes&&(K=window.trustedTypes.createPolicy(N,k)),K}("firebase-js-sdk-policy",{createScriptURL:Yf}),ue=document.createElement("script"),we=`${Tc}?l=${N}&id=${k}`;ue.src=K?K?.createScriptURL(we):we,ue.async=!0,document.head.appendChild(ue)}(Pe,Sn.measurementId),pe&&(we("consent","default",pe),function je(N){pe=N}(void 0)),we("js",new Date);const da=null!==(Pt=rt?.config)&&void 0!==Pt?Pt:{};return da[xh]="firebase",da.update=!0,null!=Hn&&(da[al]=Hn),we("config",Sn.measurementId,da),qc&&(we("set",qc),function Ve(N){qc=N}(void 0)),Sn.measurementId}),rr.apply(this,arguments)}class qa{constructor(k){this.app=k}_delete(){return delete Nr[this.app.options.appId],Promise.resolve()}}let Nr={},Ks=[];const Ir={};let Ql,la,Ts="dataLayer",bu=!1;function cc(N,k,K){!function Pd(){const N=[];if((0,l.ru)()&&N.push("This is a browser extension environment."),(0,l.zI)()||N.push("Cookies are not available."),N.length>0){const k=N.map((ue,we)=>`(${we+1}) ${ue}`).join(" "),K=lo.create("invalid-analytics-context",{errorInfo:k});io.warn(K.message)}}();const ue=N.options.appId;if(!ue)throw lo.create("no-app-id");if(!N.options.apiKey){if(!N.options.measurementId)throw lo.create("no-api-key");io.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${N.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Nr[ue])throw lo.create("already-exists",{id:ue});if(!bu){!function vu(N){let k=[];Array.isArray(window[N])?k=window[N]:window[N]=k}(Ts);const{wrappedGtag:Pe,gtagCore:rt}=function Fu(N,k,K,ue,we){let Pe=function(...rt){window[ue].push(arguments)};return window[we]&&"function"==typeof window[we]&&(Pe=window[we]),window[we]=function ku(N,k,K,ue){function Pe(){return Pe=(0,ge.Z)(function*(rt,...Pt){try{if("event"===rt){const[St,qt]=Pt;yield function Zl(N,k,K,ue,we){return cl.apply(this,arguments)}(N,k,K,St,qt)}else if("config"===rt){const[St,qt]=Pt;yield function ca(N,k,K,ue,we,Pe){return zc.apply(this,arguments)}(N,k,K,ue,St,qt)}else if("consent"===rt){const[St]=Pt;N("consent","update",St)}else if("get"===rt){const[St,qt,Sn]=Pt;N("get",St,qt,Sn)}else if("set"===rt){const[St]=Pt;N("set",St)}else N(rt,...Pt)}catch(St){io.error(St)}}),Pe.apply(this,arguments)}return function we(rt){return Pe.apply(this,arguments)}}(Pe,N,k,K),{gtagCore:Pe,wrappedGtag:window[we]}}(Nr,Ks,Ir,Ts,"gtag");la=Pe,Ql=rt,bu=!0}return Nr[ue]=function vr(N,k,K,ue,we,Pe,rt){return rr.apply(this,arguments)}(N,Ks,Ir,k,Ql,Ts,K),new qa(N)}function Dc(){return Zc.apply(this,arguments)}function Zc(){return(Zc=(0,ge.Z)(function*(){if((0,l.ru)()||!(0,l.zI)()||!(0,l.hl)())return!1;try{return yield(0,l.eu)()}catch{return!1}})).apply(this,arguments)}const Qf="@firebase/analytics";!function kh(){(0,fe.Xd)(new le.wA(aa,(k,{options:K})=>cc(k.getProvider("app").getImmediate(),k.getProvider("installations-internal").getImmediate(),K),"PUBLIC")),(0,fe.Xd)(new le.wA("analytics-internal",function N(k){try{const K=k.getProvider(aa).getImmediate();return{logEvent:(ue,we,Pe)=>function Fd(N,k,K,ue){N=(0,l.m9)(N),function Ma(N,k,K,ue,we){return ua.apply(this,arguments)}(la,Nr[N.app.options.appId],k,K,ue).catch(we=>io.error(we))}(K,ue,we,Pe)}}catch(K){throw lo.create("interop-component-reg-failed",{reason:K})}},"PRIVATE")),(0,fe.KN)(Qf,"0.10.0"),(0,fe.KN)(Qf,"0.10.0","esm2017")}();var ed=Y(1954),Bu=Y(9931);const Ld=new class wu extends Bu.v{}(class Jf extends ed.o{constructor(k,K){super(k,K),this.scheduler=k,this.work=K}schedule(k,K=0){return K>0?super.schedule(k,K):(this.delay=K,this.state=k,this.scheduler.flush(this),this)}execute(k,K){return K>0||this.closed?super.execute(k,K):this._execute(k,K)}requestAsyncId(k,K,ue=0){return null!=ue&&ue>0||null==ue&&this.delay>0?super.requestAsyncId(k,K,ue):(k.flush(this),0)}});var Uu=Y(6321),Cc=Y(5592),Xf=Y(9397),Hu=Y(5137),ml=Y(3093);const Gu=new b.GfV("7.6.1"),rs="__angularfire_symbol__analyticsIsSupportedValue",_l="__angularfire_symbol__analyticsIsSupported",Eu="__angularfire_symbol__remoteConfigIsSupportedValue",Yc="__angularfire_symbol__remoteConfigIsSupported",vl="__angularfire_symbol__messagingIsSupportedValue",ju="__angularfire_symbol__messagingIsSupported";function zu(N,k,K){if(k){if(1===k.length)return k[0];const Pe=k.filter(rt=>rt.app===K);if(1===Pe.length)return Pe[0]}return K.container.getProvider(N).getImmediate({optional:!0})}globalThis[_l]||(globalThis[_l]=Dc().then(N=>globalThis[rs]=N).catch(()=>globalThis[rs]=!1)),globalThis[ju]||(globalThis[ju]=pu().then(N=>globalThis[vl]=N).catch(()=>globalThis[vl]=!1)),globalThis[Yc]||(globalThis[Yc]=vi().then(N=>globalThis[Eu]=N).catch(()=>globalThis[Eu]=!1));const tp=(N,k)=>{const K=k?[k]:(0,se.C6)(),ue=[];return K.forEach(we=>{we.container.getProvider(N).instances.forEach(rt=>{ue.includes(rt)||ue.push(rt)})}),ue};function Du(){}class Qc{constructor(k,K=Ld){this.zone=k,this.delegate=K}now(){return this.delegate.now()}schedule(k,K,ue){const we=this.zone;return this.delegate.schedule(function(rt){we.runGuarded(()=>{k.apply(this,[rt])})},K,ue)}}class Jc{constructor(k){this.zone=k,this.task=null}call(k,K){const ue=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Du,{},Du,Du)),K.pipe((0,Xf.b)({next:ue,complete:ue,error:ue})).subscribe(k).add(ue)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Bd=(()=>{class N{constructor(K){this.ngZone=K,this.outsideAngular=K.runOutsideAngular(()=>new Qc(Zone.current)),this.insideAngular=K.run(()=>new Qc(Zone.current,Uu.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return N.\u0275fac=function(K){return new(K||N)(b.LFG(b.R0b))},N.\u0275prov=b.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})();function uc(){const N=globalThis.\u0275AngularFireScheduler;if(!N)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return N}function xa(N){return uc().ngZone.run(()=>N())}function np(N){return uc(),function td(N){return function(K){return(K=K.lift(new Jc(N.ngZone))).pipe((0,Hu.R)(N.outsideAngular),(0,ml.Q)(N.insideAngular))}}(uc())(N)}const bl=(N,k)=>function(){const ue=arguments;return k&&setTimeout(()=>{"scheduled"===k.state&&k.invoke()},10),xa(()=>N.apply(void 0,ue))},rp=(N,k)=>function(){let K;const ue=arguments;for(let Pe=0;Pe<arguments.length;Pe++)"function"==typeof ue[Pe]&&(k&&(K||(K=xa(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Du,{},Du,Du)))),ue[Pe]=bl(ue[Pe],K));const we=function Wu(N){return uc().ngZone.runOutsideAngular(()=>N())}(()=>N.apply(this,ue));if(!k){if(we instanceof Cc.y){const Pe=uc();return we.pipe((0,Hu.R)(Pe.outsideAngular),(0,ml.Q)(Pe.insideAngular))}return xa(()=>we)}return we instanceof Cc.y?we.pipe(np):we instanceof Promise?xa(()=>new Promise((Pe,rt)=>we.then(Pt=>xa(()=>Pe(Pt)),Pt=>xa(()=>rt(Pt))))):"function"==typeof we&&K?function(){return setTimeout(()=>{K&&"scheduled"===K.state&&K.invoke()},10),we.apply(this,arguments)}:xa(()=>we)}},229:(Ht,$e,Y)=>{Y.d($e,{$s:()=>yt,BH:()=>mt,L:()=>Se,LL:()=>vt,P0:()=>Mt,Pz:()=>ot,Sg:()=>pt,US:()=>le,ZR:()=>tt,aH:()=>ft,b$:()=>ct,eu:()=>He,hl:()=>xe,m9:()=>kn,ne:()=>Bn,ru:()=>An,tV:()=>ae,uI:()=>ye,vZ:()=>gt,xO:()=>yn,z$:()=>Ue,zI:()=>Je});const fe=function(Z){const L=[];let H=0;for(let W=0;W<Z.length;W++){let j=Z.charCodeAt(W);j<128?L[H++]=j:j<2048?(L[H++]=j>>6|192,L[H++]=63&j|128):55296==(64512&j)&&W+1<Z.length&&56320==(64512&Z.charCodeAt(W+1))?(j=65536+((1023&j)<<10)+(1023&Z.charCodeAt(++W)),L[H++]=j>>18|240,L[H++]=j>>12&63|128,L[H++]=j>>6&63|128,L[H++]=63&j|128):(L[H++]=j>>12|224,L[H++]=j>>6&63|128,L[H++]=63&j|128)}return L},le={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Z,L){if(!Array.isArray(Z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const H=L?this.byteToCharMapWebSafe_:this.byteToCharMap_,W=[];for(let j=0;j<Z.length;j+=3){const be=Z[j],ze=j+1<Z.length,bt=ze?Z[j+1]:0,en=j+2<Z.length,rn=en?Z[j+2]:0;let xn=(15&bt)<<2|rn>>6,kr=63&rn;en||(kr=64,ze||(xn=64)),W.push(H[be>>2],H[(3&be)<<4|bt>>4],H[xn],H[kr])}return W.join("")},encodeString(Z,L){return this.HAS_NATIVE_SUPPORT&&!L?btoa(Z):this.encodeByteArray(fe(Z),L)},decodeString(Z,L){return this.HAS_NATIVE_SUPPORT&&!L?atob(Z):function(Z){const L=[];let H=0,W=0;for(;H<Z.length;){const j=Z[H++];if(j<128)L[W++]=String.fromCharCode(j);else if(j>191&&j<224){const be=Z[H++];L[W++]=String.fromCharCode((31&j)<<6|63&be)}else if(j>239&&j<365){const en=((7&j)<<18|(63&Z[H++])<<12|(63&Z[H++])<<6|63&Z[H++])-65536;L[W++]=String.fromCharCode(55296+(en>>10)),L[W++]=String.fromCharCode(56320+(1023&en))}else{const be=Z[H++],ze=Z[H++];L[W++]=String.fromCharCode((15&j)<<12|(63&be)<<6|63&ze)}}return L.join("")}(this.decodeStringToByteArray(Z,L))},decodeStringToByteArray(Z,L){this.init_();const H=L?this.charToByteMapWebSafe_:this.charToByteMap_,W=[];for(let j=0;j<Z.length;){const be=H[Z.charAt(j++)],bt=j<Z.length?H[Z.charAt(j)]:0;++j;const rn=j<Z.length?H[Z.charAt(j)]:64;++j;const Wt=j<Z.length?H[Z.charAt(j)]:64;if(++j,null==be||null==bt||null==rn||null==Wt)throw new ve;W.push(be<<2|bt>>4),64!==rn&&(W.push(bt<<4&240|rn>>2),64!==Wt&&W.push(rn<<6&192|Wt))}return W},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Z=0;Z<this.ENCODED_VALS.length;Z++)this.byteToCharMap_[Z]=this.ENCODED_VALS.charAt(Z),this.charToByteMap_[this.byteToCharMap_[Z]]=Z,this.byteToCharMapWebSafe_[Z]=this.ENCODED_VALS_WEBSAFE.charAt(Z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Z]]=Z,Z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Z)]=Z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Z)]=Z)}}};class ve extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Se=function(Z){return function(Z){const L=fe(Z);return le.encodeByteArray(L,!0)}(Z).replace(/\./g,"")},ae=function(Z){try{return le.decodeString(Z,!0)}catch(L){console.error("base64Decode failed: ",L)}return null},Ft=()=>{try{return function Re(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Z=process.env.__FIREBASE_DEFAULTS__;return Z?JSON.parse(Z):void 0})()||(()=>{if(typeof document>"u")return;let Z;try{Z=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const L=Z&&ae(Z[1]);return L&&JSON.parse(L)})()}catch(Z){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Z}`)}},Mt=Z=>{const L=(Z=>{var L,H;return null===(H=null===(L=Ft())||void 0===L?void 0:L.emulatorHosts)||void 0===H?void 0:H[Z]})(Z);if(!L)return;const H=L.lastIndexOf(":");if(H<=0||H+1===L.length)throw new Error(`Invalid host ${L} with no separate hostname and port!`);const W=parseInt(L.substring(H+1),10);return"["===L[0]?[L.substring(1,H-1),W]:[L.substring(0,H),W]},ft=()=>{var Z;return null===(Z=Ft())||void 0===Z?void 0:Z.config},ot=Z=>{var L;return null===(L=Ft())||void 0===L?void 0:L[`_${Z}`]};class mt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((L,H)=>{this.resolve=L,this.reject=H})}wrapCallback(L){return(H,W)=>{H?this.reject(H):this.resolve(W),"function"==typeof L&&(this.promise.catch(()=>{}),1===L.length?L(H):L(H,W))}}}function pt(Z,L){if(Z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const W=L||"demo-project",j=Z.iat||0,be=Z.sub||Z.user_id;if(!be)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ze=Object.assign({iss:`https://securetoken.google.com/${W}`,aud:W,iat:j,exp:j+3600,auth_time:j,sub:be,user_id:be,firebase:{sign_in_provider:"custom",identities:{}}},Z);return[Se(JSON.stringify({alg:"none",type:"JWT"})),Se(JSON.stringify(ze)),""].join(".")}function Ue(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ye(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ue())}function An(){const Z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Z&&void 0!==Z.id}function ct(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function xe(){try{return"object"==typeof indexedDB}catch{return!1}}function He(){return new Promise((Z,L)=>{try{let H=!0;const W="validate-browser-context-for-indexeddb-analytics-module",j=self.indexedDB.open(W);j.onsuccess=()=>{j.result.close(),H||self.indexedDB.deleteDatabase(W),Z(!0)},j.onupgradeneeded=()=>{H=!1},j.onerror=()=>{var be;L((null===(be=j.error)||void 0===be?void 0:be.message)||"")}}catch(H){L(H)}})}function Je(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class tt extends Error{constructor(L,H,W){super(H),this.code=L,this.customData=W,this.name="FirebaseError",Object.setPrototypeOf(this,tt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vt.prototype.create)}}class vt{constructor(L,H,W){this.service=L,this.serviceName=H,this.errors=W}create(L,...H){const W=H[0]||{},j=`${this.service}/${L}`,be=this.errors[L],ze=be?function xt(Z,L){return Z.replace(Bt,(H,W)=>{const j=L[W];return null!=j?String(j):`<${W}?>`})}(be,W):"Error";return new tt(j,`${this.serviceName}: ${ze} (${j}).`,W)}}const Bt=/\{\$([^}]+)}/g;function gt(Z,L){if(Z===L)return!0;const H=Object.keys(Z),W=Object.keys(L);for(const j of H){if(!W.includes(j))return!1;const be=Z[j],ze=L[j];if(Tt(be)&&Tt(ze)){if(!gt(be,ze))return!1}else if(be!==ze)return!1}for(const j of W)if(!H.includes(j))return!1;return!0}function Tt(Z){return null!==Z&&"object"==typeof Z}function yn(Z){const L=[];for(const[H,W]of Object.entries(Z))Array.isArray(W)?W.forEach(j=>{L.push(encodeURIComponent(H)+"="+encodeURIComponent(j))}):L.push(encodeURIComponent(H)+"="+encodeURIComponent(W));return L.length?"&"+L.join("&"):""}function Bn(Z,L){const H=new Kt(Z,L);return H.subscribe.bind(H)}class Kt{constructor(L,H){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=H,this.task.then(()=>{L(this)}).catch(W=>{this.error(W)})}next(L){this.forEachObserver(H=>{H.next(L)})}error(L){this.forEachObserver(H=>{H.error(L)}),this.close(L)}complete(){this.forEachObserver(L=>{L.complete()}),this.close()}subscribe(L,H,W){let j;if(void 0===L&&void 0===H&&void 0===W)throw new Error("Missing Observer.");j=function dr(Z,L){if("object"!=typeof Z||null===Z)return!1;for(const H of L)if(H in Z&&"function"==typeof Z[H])return!0;return!1}(L,["next","error","complete"])?L:{next:L,error:H,complete:W},void 0===j.next&&(j.next=ln),void 0===j.error&&(j.error=ln),void 0===j.complete&&(j.complete=ln);const be=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?j.error(this.finalError):j.complete()}catch{}}),this.observers.push(j),be}unsubscribeOne(L){void 0===this.observers||void 0===this.observers[L]||(delete this.observers[L],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(L){if(!this.finalized)for(let H=0;H<this.observers.length;H++)this.sendOne(H,L)}sendOne(L,H){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[L])try{H(this.observers[L])}catch(W){typeof console<"u"&&console.error&&console.error(W)}})}close(L){this.finalized||(this.finalized=!0,void 0!==L&&(this.finalError=L),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ln(){}const ri=1e3,et=2,De=144e5,We=.5;function yt(Z,L=ri,H=et){const W=L*Math.pow(H,Z),j=Math.round(We*W*(Math.random()-.5)*2);return Math.min(De,W+j)}function kn(Z){return Z&&Z._delegate?Z._delegate:Z}},9058:(Ht,$e,Y)=>{Y.d($e,{BH:()=>mt,L:()=>Se,LL:()=>vt,Pz:()=>ot,ZR:()=>tt,aH:()=>ft,b$:()=>ct,eu:()=>He,hl:()=>xe,m9:()=>kn,ne:()=>Bn,pd:()=>zt,q4:()=>wn,ru:()=>An,tV:()=>ae,uI:()=>ye,vZ:()=>gt,w1:()=>mn,xO:()=>yn,xb:()=>Me,z$:()=>Ue,zd:()=>tn});const fe=function(Z){const L=[];let H=0;for(let W=0;W<Z.length;W++){let j=Z.charCodeAt(W);j<128?L[H++]=j:j<2048?(L[H++]=j>>6|192,L[H++]=63&j|128):55296==(64512&j)&&W+1<Z.length&&56320==(64512&Z.charCodeAt(W+1))?(j=65536+((1023&j)<<10)+(1023&Z.charCodeAt(++W)),L[H++]=j>>18|240,L[H++]=j>>12&63|128,L[H++]=j>>6&63|128,L[H++]=63&j|128):(L[H++]=j>>12|224,L[H++]=j>>6&63|128,L[H++]=63&j|128)}return L},le={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Z,L){if(!Array.isArray(Z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const H=L?this.byteToCharMapWebSafe_:this.byteToCharMap_,W=[];for(let j=0;j<Z.length;j+=3){const be=Z[j],ze=j+1<Z.length,bt=ze?Z[j+1]:0,en=j+2<Z.length,rn=en?Z[j+2]:0;let xn=(15&bt)<<2|rn>>6,kr=63&rn;en||(kr=64,ze||(xn=64)),W.push(H[be>>2],H[(3&be)<<4|bt>>4],H[xn],H[kr])}return W.join("")},encodeString(Z,L){return this.HAS_NATIVE_SUPPORT&&!L?btoa(Z):this.encodeByteArray(fe(Z),L)},decodeString(Z,L){return this.HAS_NATIVE_SUPPORT&&!L?atob(Z):function(Z){const L=[];let H=0,W=0;for(;H<Z.length;){const j=Z[H++];if(j<128)L[W++]=String.fromCharCode(j);else if(j>191&&j<224){const be=Z[H++];L[W++]=String.fromCharCode((31&j)<<6|63&be)}else if(j>239&&j<365){const en=((7&j)<<18|(63&Z[H++])<<12|(63&Z[H++])<<6|63&Z[H++])-65536;L[W++]=String.fromCharCode(55296+(en>>10)),L[W++]=String.fromCharCode(56320+(1023&en))}else{const be=Z[H++],ze=Z[H++];L[W++]=String.fromCharCode((15&j)<<12|(63&be)<<6|63&ze)}}return L.join("")}(this.decodeStringToByteArray(Z,L))},decodeStringToByteArray(Z,L){this.init_();const H=L?this.charToByteMapWebSafe_:this.charToByteMap_,W=[];for(let j=0;j<Z.length;){const be=H[Z.charAt(j++)],bt=j<Z.length?H[Z.charAt(j)]:0;++j;const rn=j<Z.length?H[Z.charAt(j)]:64;++j;const Wt=j<Z.length?H[Z.charAt(j)]:64;if(++j,null==be||null==bt||null==rn||null==Wt)throw new ve;W.push(be<<2|bt>>4),64!==rn&&(W.push(bt<<4&240|rn>>2),64!==Wt&&W.push(rn<<6&192|Wt))}return W},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Z=0;Z<this.ENCODED_VALS.length;Z++)this.byteToCharMap_[Z]=this.ENCODED_VALS.charAt(Z),this.charToByteMap_[this.byteToCharMap_[Z]]=Z,this.byteToCharMapWebSafe_[Z]=this.ENCODED_VALS_WEBSAFE.charAt(Z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Z]]=Z,Z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Z)]=Z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Z)]=Z)}}};class ve extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Se=function(Z){return function(Z){const L=fe(Z);return le.encodeByteArray(L,!0)}(Z).replace(/\./g,"")},ae=function(Z){try{return le.decodeString(Z,!0)}catch(L){console.error("base64Decode failed: ",L)}return null},Ft=()=>{try{return function Re(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Z=process.env.__FIREBASE_DEFAULTS__;return Z?JSON.parse(Z):void 0})()||(()=>{if(typeof document>"u")return;let Z;try{Z=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const L=Z&&ae(Z[1]);return L&&JSON.parse(L)})()}catch(Z){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Z}`)}},wn=Z=>{var L,H;return null===(H=null===(L=Ft())||void 0===L?void 0:L.emulatorHosts)||void 0===H?void 0:H[Z]},ft=()=>{var Z;return null===(Z=Ft())||void 0===Z?void 0:Z.config},ot=Z=>{var L;return null===(L=Ft())||void 0===L?void 0:L[`_${Z}`]};class mt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((L,H)=>{this.resolve=L,this.reject=H})}wrapCallback(L){return(H,W)=>{H?this.reject(H):this.resolve(W),"function"==typeof L&&(this.promise.catch(()=>{}),1===L.length?L(H):L(H,W))}}}function Ue(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ye(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ue())}function An(){const Z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Z&&void 0!==Z.id}function ct(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function mn(){const Z=Ue();return Z.indexOf("MSIE ")>=0||Z.indexOf("Trident/")>=0}function xe(){try{return"object"==typeof indexedDB}catch{return!1}}function He(){return new Promise((Z,L)=>{try{let H=!0;const W="validate-browser-context-for-indexeddb-analytics-module",j=self.indexedDB.open(W);j.onsuccess=()=>{j.result.close(),H||self.indexedDB.deleteDatabase(W),Z(!0)},j.onupgradeneeded=()=>{H=!1},j.onerror=()=>{var be;L((null===(be=j.error)||void 0===be?void 0:be.message)||"")}}catch(H){L(H)}})}class tt extends Error{constructor(L,H,W){super(H),this.code=L,this.customData=W,this.name="FirebaseError",Object.setPrototypeOf(this,tt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vt.prototype.create)}}class vt{constructor(L,H,W){this.service=L,this.serviceName=H,this.errors=W}create(L,...H){const W=H[0]||{},j=`${this.service}/${L}`,be=this.errors[L],ze=be?function xt(Z,L){return Z.replace(Bt,(H,W)=>{const j=L[W];return null!=j?String(j):`<${W}?>`})}(be,W):"Error";return new tt(j,`${this.serviceName}: ${ze} (${j}).`,W)}}const Bt=/\{\$([^}]+)}/g;function Me(Z){for(const L in Z)if(Object.prototype.hasOwnProperty.call(Z,L))return!1;return!0}function gt(Z,L){if(Z===L)return!0;const H=Object.keys(Z),W=Object.keys(L);for(const j of H){if(!W.includes(j))return!1;const be=Z[j],ze=L[j];if(Tt(be)&&Tt(ze)){if(!gt(be,ze))return!1}else if(be!==ze)return!1}for(const j of W)if(!H.includes(j))return!1;return!0}function Tt(Z){return null!==Z&&"object"==typeof Z}function yn(Z){const L=[];for(const[H,W]of Object.entries(Z))Array.isArray(W)?W.forEach(j=>{L.push(encodeURIComponent(H)+"="+encodeURIComponent(j))}):L.push(encodeURIComponent(H)+"="+encodeURIComponent(W));return L.length?"&"+L.join("&"):""}function tn(Z){const L={};return Z.replace(/^\?/,"").split("&").forEach(W=>{if(W){const[j,be]=W.split("=");L[decodeURIComponent(j)]=decodeURIComponent(be)}}),L}function zt(Z){const L=Z.indexOf("?");if(!L)return"";const H=Z.indexOf("#",L);return Z.substring(L,H>0?H:void 0)}function Bn(Z,L){const H=new Kt(Z,L);return H.subscribe.bind(H)}class Kt{constructor(L,H){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=H,this.task.then(()=>{L(this)}).catch(W=>{this.error(W)})}next(L){this.forEachObserver(H=>{H.next(L)})}error(L){this.forEachObserver(H=>{H.error(L)}),this.close(L)}complete(){this.forEachObserver(L=>{L.complete()}),this.close()}subscribe(L,H,W){let j;if(void 0===L&&void 0===H&&void 0===W)throw new Error("Missing Observer.");j=function dr(Z,L){if("object"!=typeof Z||null===Z)return!1;for(const H of L)if(H in Z&&"function"==typeof Z[H])return!0;return!1}(L,["next","error","complete"])?L:{next:L,error:H,complete:W},void 0===j.next&&(j.next=ln),void 0===j.error&&(j.error=ln),void 0===j.complete&&(j.complete=ln);const be=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?j.error(this.finalError):j.complete()}catch{}}),this.observers.push(j),be}unsubscribeOne(L){void 0===this.observers||void 0===this.observers[L]||(delete this.observers[L],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(L){if(!this.finalized)for(let H=0;H<this.observers.length;H++)this.sendOne(H,L)}sendOne(L,H){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[L])try{H(this.observers[L])}catch(W){typeof console<"u"&&console.error&&console.error(W)}})}close(L){this.finalized||(this.finalized=!0,void 0!==L&&(this.finalError=L),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ln(){}function kn(Z){return Z&&Z._delegate?Z._delegate:Z}},2732:(Ht,$e,Y)=>{Y.d($e,{Q:()=>ge});var b=Y(9468),se=Y(6593);let ge=(()=>{class fe{constructor(le){this.sanitizer=le}transform(le){let ve;if(le.startsWith("https://m."))ve=new URLSearchParams(le.split("?")[1]).get("v")||"";else{const Se=le.split("/");ve=Se[Se.length-1]}return this.sanitizer.bypassSecurityTrustResourceUrl("https://www.youtube.com/embed/"+ve)}static#e=this.\u0275fac=function(ve){return new(ve||fe)(b.Y36(se.H7,16))};static#t=this.\u0275pipe=b.Yjl({name:"safeUrl",type:fe,pure:!0})}return fe})()},2772:(Ht,$e,Y)=>{Y.d($e,{r:()=>l});var b=Y(6814),se=Y(6024),ge=Y(95),fe=Y(9468);let l=(()=>{class le{static#e=this.\u0275fac=function(Se){return new(Se||le)};static#t=this.\u0275mod=fe.oAB({type:le});static#n=this.\u0275inj=fe.cJS({imports:[b.ez,se.Bz,ge.u5,ge.UX]})}return le})()},8850:(Ht,$e,Y)=>{Y.d($e,{O:()=>l});var b=Y(5861),se=Y(3477),ge=Y(8645),fe=Y(9468);let l=(()=>{class le{constructor(Be){this.firestore=Be,this.commentAddedSubject=new ge.x}getCommentsForRecipe(Be){var Se=this;return(0,b.Z)(function*(){try{const ae=(0,se.hJ)(Se.firestore,"Comments"),ce=(0,se.IO)(ae,(0,se.ar)("recipeId","==",Be)),Ce=yield(0,se.PL)(ce),Xe=[];return Ce.forEach(Re=>{const it=Re.data();Xe.push({create_time:it.create_time,name:it.name,recipeId:it.recipeId,text:it.text,uid:it.uid,id:Re.id})}),Xe.sort((Re,it)=>{const Ct=Re.create_time.toDate();return it.create_time.toDate()-Ct}),Xe}catch(ae){return console.error("Error retrieving comments:",ae),[]}})()}getCommentsForUser(Be){var Se=this;return(0,b.Z)(function*(){try{const ae=(0,se.hJ)(Se.firestore,"Comments"),ce=(0,se.IO)(ae,(0,se.ar)("uid","==",Be)),Ce=yield(0,se.PL)(ce),Xe=[];return Ce.forEach(Re=>{const it=Re.data();Xe.push({create_time:it.create_time,name:it.name,recipeId:it.recipeId,text:it.text,uid:it.uid,id:Re.id})}),Xe.sort((Re,it)=>{const Ct=Re.create_time.toDate();return it.create_time.toDate()-Ct}),Xe}catch(ae){return console.error("Error retrieving comments:",ae),[]}})()}addComment(Be){var Se=this;return(0,b.Z)(function*(){try{const ae="Comments",ce=yield(0,se.ET)((0,se.hJ)(Se.firestore,ae),Be);return Se.commentAddedSubject.next(),ce.id}catch(ae){return console.error("Error adding comment:",ae),null}})()}deleteComment(Be){var Se=this;return(0,b.Z)(function*(){try{const ce=(0,se.JU)(Se.firestore,"Comments",Be);yield(0,se.oe)(ce),console.log("Comment deleted successfully:",Be)}catch(ae){console.error("Error deleting comment:",ae)}})()}getCommentById(Be){var Se=this;return(0,b.Z)(function*(){const ae=(0,se.JU)(Se.firestore,"Comments",Be),ce=yield(0,se.QT)(ae);if(ce.exists()){const Ce=ce.data();return console.log(Ce.recipeId),ce.data()}return null})()}editComment(Be,Se){var ae=this;return(0,b.Z)(function*(){try{const Ce=(0,se.JU)(ae.firestore,"Comments",Be);yield(0,se.r7)(Ce,Se),console.log("Comment edited successfully:",Be)}catch(ce){console.error("Error editing comment:",ce)}})()}getCommentAddedObservable(){return this.commentAddedSubject.asObservable()}static#e=this.\u0275fac=function(Se){return new(Se||le)(fe.LFG(se.gg))};static#t=this.\u0275prov=fe.Yz7({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})()},7157:(Ht,$e,Y)=>{Y.d($e,{j:()=>fe});var b=Y(5861),se=Y(3477),ge=Y(9468);let fe=(()=>{class l{constructor(ve){this.firestore=ve}getRecipeById(ve){var Be=this;return(0,b.Z)(function*(){const Se=(0,se.JU)(Be.firestore,"Recipe",ve),ae=yield(0,se.QT)(Se);if(ae.exists()){let ce=ae.data();return ce.id||(ce={...ce,id:ve}),ce}return null})()}updateRecipeLikes(ve,Be,Se){var ae=this;return(0,b.Z)(function*(){const Ce=(0,se.JU)(ae.firestore,"Recipe",ve);try{Se?(console.log("remove"),yield(0,se.r7)(Ce,{likes:(0,se.Ab)(Be)})):(console.log("add"),yield(0,se.r7)(Ce,{likes:(0,se.vr)(Be)})),console.log("Recipe likes updated successfully")}catch(Xe){console.error("Error updating recipe likes: ",Xe)}})()}deleteRecipe(ve){var Be=this;return(0,b.Z)(function*(){try{const ae=(0,se.JU)(Be.firestore,"Recipe",ve);yield(0,se.oe)(ae),console.log("Recipe deleted successfully:",ve)}catch(Se){console.error("Error deleting recipe:",Se)}})()}static#e=this.\u0275fac=function(Be){return new(Be||l)(ge.LFG(se.gg))};static#t=this.\u0275prov=ge.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})()},1753:(Ht,$e,Y)=>{Y.d($e,{v:()=>Be});var b=Y(5861),se=Y(5619),ge=Y(6973),fe=Y(305),le=Y(3477),ve=Y(9468);let Be=(()=>{class Se{constructor(ce){this.firestore=ce,this.lastDocSubject=new se.X(void 0),this.lastDoc$=this.lastDocSubject.asObservable()}getRecipeByUID(ce){var Ce=this;return(0,b.Z)(function*(){try{const Xe=(0,le.hJ)(Ce.firestore,"Recipe"),Re=(0,le.IO)(Xe,(0,le.ar)("uid","==",ce)),it=yield(0,le.PL)(Re),Ct=[];return it.forEach(Lt=>{const wn={...Lt.data(),id:Lt.id};Ct.push(wn)}),Ct}catch(Xe){return console.error("Error retrieving recipes:",Xe),[]}})()}getRecipesLoadMore(){var ce=this;return(0,b.Z)(function*(){const Xe=yield function l(Se,ae){const ce="object"==typeof ae;return new Promise((Ce,Xe)=>{const Re=new fe.Hp({next:it=>{Ce(it),Re.unsubscribe()},error:Xe,complete:()=>{ce?Ce(ae.defaultValue):Xe(new ge.K)}});Se.subscribe(Re)})}(ce.lastDoc$);let it=(0,le.IO)((0,le.hJ)(ce.firestore,"Recipe"),(0,le.Xo)("title"));Xe&&(it=(0,le.IO)(it,(0,le.TQ)(Xe))),it=(0,le.IO)(it,(0,le.b9)(6));const Ct=yield(0,le.PL)(it);let Lt=[];Ct.forEach(Mt=>{const ot={...Mt.data(),id:Mt.id};Lt.push(ot)});const Ft=6===Ct.size;return ce.lastDocSubject.next(Ct.docs[Ct.docs.length-1]),{data:Lt,hasMore:Ft}})()}getRecipes(){var ce=this;return(0,b.Z)(function*(){let Re=(0,le.IO)((0,le.hJ)(ce.firestore,"Recipe"),(0,le.Xo)("title"));Re=(0,le.IO)(Re,(0,le.b9)(6));const it=yield(0,le.PL)(Re);let Ct=[];return it.forEach(Ft=>{const Mt={...Ft.data(),id:Ft.id};Ct.push(Mt)}),ce.lastDocSubject.next(it.docs[it.docs.length-1]),{data:Ct}})()}searchRecipesByTitle(ce){var Ce=this;return(0,b.Z)(function*(){let Re=(0,le.IO)((0,le.hJ)(Ce.firestore,"Recipe"),(0,le.Xo)("title"));const it=yield(0,le.PL)(Re);let Ct=[];return it.forEach(Lt=>{const wn={...Lt.data(),id:Lt.id};Ct.push(wn)}),ce&&(Ct=Ct.filter(Lt=>Lt.title.toLowerCase().includes(ce.toLowerCase()))),{data:Ct}})()}static#e=this.\u0275fac=function(Ce){return new(Ce||Se)(ve.LFG(le.gg))};static#t=this.\u0275prov=ve.Yz7({token:Se,factory:Se.\u0275fac,providedIn:"root"})}return Se})()},6499:(Ht,$e,Y)=>{Y.d($e,{K:()=>K_});var b=Y(5861),se=Y(9058),ge=Y(4303),fe=Y(7879),l=Y(7582),le=Y(4537);const it=function Xe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ct=new se.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ft=new fe.Yd("@firebase/auth");function Mt(S,..._){Ft.logLevel<=fe.in.ERROR&&Ft.error(`Auth (${ge.Jn}): ${S}`,..._)}function ft(S,..._){throw Ue(S,..._)}function ot(S,..._){return Ue(S,..._)}function Ue(S,..._){if("string"!=typeof S){const y=_[0],A=[..._.slice(1)];return A[0]&&(A[0].appName=S.name),S._errorFactory.create(y,...A)}return Ct.create(S,..._)}function ye(S,_,...y){if(!S)throw Ue(_,...y)}function Qe(S){const _="INTERNAL ASSERTION FAILED: "+S;throw Mt(_),new Error(_)}function ht(S,_){S||Qe(_)}function An(){var S;return typeof self<"u"&&(null===(S=self.location)||void 0===S?void 0:S.href)||""}function sn(){var S;return typeof self<"u"&&(null===(S=self.location)||void 0===S?void 0:S.protocol)||null}class zn{constructor(_,y){this.shortDelay=_,this.longDelay=y,ht(y>_,"Short delay should be less than long delay!"),this.isMobile=(0,se.uI)()||(0,se.b$)()}get(){return function mn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function ct(){return"http:"===sn()||"https:"===sn()}()||(0,se.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function sr(S,_){ht(S.emulator,"Emulator should always be set here");const{url:y}=S.emulator;return _?`${y}${_.startsWith("/")?_.slice(1):_}`:y}class xe{static initialize(_,y,A){this.fetchImpl=_,y&&(this.headersImpl=y),A&&(this.responseImpl=A)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Qe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Qe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Qe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const He={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Je=new zn(3e4,6e4);function Le(S,_){return S.tenantId&&!_.tenantId?Object.assign(Object.assign({},_),{tenantId:S.tenantId}):_}function tt(S,_,y,A){return vt.apply(this,arguments)}function vt(){return(vt=(0,b.Z)(function*(S,_,y,A,q={}){return xt(S,q,(0,b.Z)(function*(){let oe={},Te={};A&&("GET"===_?Te=A:oe={body:JSON.stringify(A)});const Ze=(0,se.xO)(Object.assign({key:S.config.apiKey},Te)).slice(1),It=yield S._getAdditionalHeaders();return It["Content-Type"]="application/json",S.languageCode&&(It["X-Firebase-Locale"]=S.languageCode),xe.fetch()(on(S,S.config.apiHost,y,Ze),Object.assign({method:_,headers:It,referrerPolicy:"no-referrer"},oe))}))})).apply(this,arguments)}function xt(S,_,y){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,b.Z)(function*(S,_,y){S._canInitEmulator=!1;const A=Object.assign(Object.assign({},He),_);try{const q=new Fn(S),oe=yield Promise.race([y(),q.promise]);q.clearNetworkTimeout();const Te=yield oe.json();if("needConfirmation"in Te)throw ar(S,"account-exists-with-different-credential",Te);if(oe.ok&&!("errorMessage"in Te))return Te;{const Ze=oe.ok?Te.errorMessage:Te.error.message,[It,cn]=Ze.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===It)throw ar(S,"credential-already-in-use",Te);if("EMAIL_EXISTS"===It)throw ar(S,"email-already-in-use",Te);if("USER_DISABLED"===It)throw ar(S,"user-disabled",Te);const bn=A[It]||It.toLowerCase().replace(/[_\s]+/g,"-");if(cn)throw function mt(S,_,y){const A=Object.assign(Object.assign({},it()),{[_]:y});return new se.LL("auth","Firebase",A).create(_,{appName:S.name})}(S,bn,cn);ft(S,bn)}}catch(q){if(q instanceof se.ZR)throw q;ft(S,"network-request-failed",{message:String(q)})}})).apply(this,arguments)}function an(S,_,y,A){return fn.apply(this,arguments)}function fn(){return(fn=(0,b.Z)(function*(S,_,y,A,q={}){const oe=yield tt(S,_,y,A,q);return"mfaPendingCredential"in oe&&ft(S,"multi-factor-auth-required",{_serverResponse:oe}),oe})).apply(this,arguments)}function on(S,_,y,A){const q=`${_}${y}?${A}`;return S.config.emulator?sr(S.config,q):`${S.config.apiScheme}://${q}`}function wt(S){switch(S){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Fn{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((y,A)=>{this.timer=setTimeout(()=>A(ot(this.auth,"network-request-failed")),Je.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ar(S,_,y){const A={appName:S.name};y.email&&(A.email=y.email),y.phoneNumber&&(A.phoneNumber=y.phoneNumber);const q=ot(S,_,A);return q.customData._tokenResponse=y,q}function Ee(S){return void 0!==S&&void 0!==S.enterprise}class Oe{constructor(_){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===_.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=_.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=_.recaptchaEnforcementState}getProviderEnforcementState(_){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const y of this.recaptchaEnforcementState)if(y.provider&&y.provider===_)return wt(y.enforcementState);return null}isProviderEnabled(_){return"ENFORCE"===this.getProviderEnforcementState(_)||"AUDIT"===this.getProviderEnforcementState(_)}}function gt(S,_){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,b.Z)(function*(S,_){return tt(S,"GET","/v2/recaptchaConfig",Le(S,_))})).apply(this,arguments)}function yn(){return(yn=(0,b.Z)(function*(S,_){return tt(S,"POST","/v1/accounts:delete",_)})).apply(this,arguments)}function Bn(){return(Bn=(0,b.Z)(function*(S,_){return tt(S,"POST","/v1/accounts:lookup",_)})).apply(this,arguments)}function Kt(S){if(S)try{const _=new Date(Number(S));if(!isNaN(_.getTime()))return _.toUTCString()}catch{}}function ln(){return(ln=(0,b.Z)(function*(S,_=!1){const y=(0,se.m9)(S),A=yield y.getIdToken(_),q=Vn(A);ye(q&&q.exp&&q.auth_time&&q.iat,y.auth,"internal-error");const oe="object"==typeof q.firebase?q.firebase:void 0,Te=oe?.sign_in_provider;return{claims:q,token:A,authTime:Kt(Wn(q.auth_time)),issuedAtTime:Kt(Wn(q.iat)),expirationTime:Kt(Wn(q.exp)),signInProvider:Te||null,signInSecondFactor:oe?.sign_in_second_factor||null}})).apply(this,arguments)}function Wn(S){return 1e3*Number(S)}function Vn(S){const[_,y,A]=S.split(".");if(void 0===_||void 0===y||void 0===A)return Mt("JWT malformed, contained fewer than 3 sections"),null;try{const q=(0,se.tV)(y);return q?JSON.parse(q):(Mt("Failed to decode base64 JWT payload"),null)}catch(q){return Mt("Caught error parsing JWT payload as JSON",q?.toString()),null}}function Pn(S,_){return ni.apply(this,arguments)}function ni(){return(ni=(0,b.Z)(function*(S,_,y=!1){if(y)return _;try{return yield _}catch(A){throw A instanceof se.ZR&&function Tn({code:S}){return"auth/user-disabled"===S||"auth/user-token-expired"===S}(A)&&S.auth.currentUser===S&&(yield S.auth.signOut()),A}})).apply(this,arguments)}class Un{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(_){var y;if(_){const A=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),A}{this.errorBackoff=3e4;const q=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,q)}}schedule(_=!1){var y=this;if(!this.isRunning)return;const A=this.getInterval(_);this.timerId=setTimeout((0,b.Z)(function*(){yield y.iteration()}),A)}iteration(){var _=this;return(0,b.Z)(function*(){try{yield _.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===y?.code&&_.schedule(!0))}_.schedule()})()}}class br{constructor(_,y){this.createdAt=_,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kt(this.lastLoginAt),this.creationTime=Kt(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ri(S){return et.apply(this,arguments)}function et(){return et=(0,b.Z)(function*(S){var _;const y=S.auth,A=yield S.getIdToken(),q=yield Pn(S,function gn(S,_){return Bn.apply(this,arguments)}(y,{idToken:A}));ye(q?.users.length,y,"internal-error");const oe=q.users[0];S._notifyReloadListener(oe);const Te=null!==(_=oe.providerUserInfo)&&void 0!==_&&_.length?function jt(S){return S.map(_=>{var{providerId:y}=_,A=(0,l._T)(_,["providerId"]);return{providerId:y,uid:A.rawId||"",displayName:A.displayName||null,email:A.email||null,phoneNumber:A.phoneNumber||null,photoURL:A.photoUrl||null}})}(oe.providerUserInfo):[],Ze=function yt(S,_){return[...S.filter(A=>!_.some(q=>q.providerId===A.providerId)),..._]}(S.providerData,Te),bn=!!S.isAnonymous&&!(S.email&&oe.passwordHash||Ze?.length),yr={uid:oe.localId,displayName:oe.displayName||null,photoURL:oe.photoUrl||null,email:oe.email||null,emailVerified:oe.emailVerified||!1,phoneNumber:oe.phoneNumber||null,tenantId:oe.tenantId||null,providerData:Ze,metadata:new br(oe.createdAt,oe.lastLoginAt),isAnonymous:bn};Object.assign(S,yr)}),et.apply(this,arguments)}function We(){return(We=(0,b.Z)(function*(S){const _=(0,se.m9)(S);yield ri(_),yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)})).apply(this,arguments)}function kn(){return(kn=(0,b.Z)(function*(S,_){const y=yield xt(S,{},(0,b.Z)(function*(){const A=(0,se.xO)({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:q,apiKey:oe}=S.config,Te=on(S,q,"/v1/token",`key=${oe}`),Ze=yield S._getAdditionalHeaders();return Ze["Content-Type"]="application/x-www-form-urlencoded",xe.fetch()(Te,{method:"POST",headers:Ze,body:A})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}function L(){return(L=(0,b.Z)(function*(S,_){return tt(S,"POST","/v2/accounts:revokeToken",Le(S,_))})).apply(this,arguments)}class H{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){ye(_.idToken,"internal-error"),ye(typeof _.idToken<"u","internal-error"),ye(typeof _.refreshToken<"u","internal-error");const y="expiresIn"in _&&typeof _.expiresIn<"u"?Number(_.expiresIn):function qn(S){const _=Vn(S);return ye(_,"internal-error"),ye(typeof _.exp<"u","internal-error"),ye(typeof _.iat<"u","internal-error"),Number(_.exp)-Number(_.iat)}(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,y)}getToken(_,y=!1){var A=this;return(0,b.Z)(function*(){return ye(!A.accessToken||A.refreshToken,_,"user-token-expired"),y||!A.accessToken||A.isExpired?A.refreshToken?(yield A.refresh(_,A.refreshToken),A.accessToken):null:A.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(_,y){var A=this;return(0,b.Z)(function*(){const{accessToken:q,refreshToken:oe,expiresIn:Te}=yield function $t(S,_){return kn.apply(this,arguments)}(_,y);A.updateTokensAndExpiration(q,oe,Number(Te))})()}updateTokensAndExpiration(_,y,A){this.refreshToken=y||null,this.accessToken=_||null,this.expirationTime=Date.now()+1e3*A}static fromJSON(_,y){const{refreshToken:A,accessToken:q,expirationTime:oe}=y,Te=new H;return A&&(ye("string"==typeof A,"internal-error",{appName:_}),Te.refreshToken=A),q&&(ye("string"==typeof q,"internal-error",{appName:_}),Te.accessToken=q),oe&&(ye("number"==typeof oe,"internal-error",{appName:_}),Te.expirationTime=oe),Te}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new H,this.toJSON())}_performRefresh(){return Qe("not implemented")}}function W(S,_){ye("string"==typeof S||typeof S>"u","internal-error",{appName:_})}class j{constructor(_){var{uid:y,auth:A,stsTokenManager:q}=_,oe=(0,l._T)(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Un(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=A,this.stsTokenManager=q,this.accessToken=q.accessToken,this.displayName=oe.displayName||null,this.email=oe.email||null,this.emailVerified=oe.emailVerified||!1,this.phoneNumber=oe.phoneNumber||null,this.photoURL=oe.photoURL||null,this.isAnonymous=oe.isAnonymous||!1,this.tenantId=oe.tenantId||null,this.providerData=oe.providerData?[...oe.providerData]:[],this.metadata=new br(oe.createdAt||void 0,oe.lastLoginAt||void 0)}getIdToken(_){var y=this;return(0,b.Z)(function*(){const A=yield Pn(y,y.stsTokenManager.getToken(y.auth,_));return ye(A,y.auth,"internal-error"),y.accessToken!==A&&(y.accessToken=A,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),A})()}getIdTokenResult(_){return function dr(S){return ln.apply(this,arguments)}(this,_)}reload(){return function De(S){return We.apply(this,arguments)}(this)}_assign(_){this!==_&&(ye(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(y=>Object.assign({},y)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){const y=new j(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}));return y.metadata._copy(this.metadata),y}_onReload(_){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(_,y=!1){var A=this;return(0,b.Z)(function*(){let q=!1;_.idToken&&_.idToken!==A.stsTokenManager.accessToken&&(A.stsTokenManager.updateFromServerResponse(_),q=!0),y&&(yield ri(A)),yield A.auth._persistUserIfCurrent(A),q&&A.auth._notifyListenersIfCurrent(A)})()}delete(){var _=this;return(0,b.Z)(function*(){const y=yield _.getIdToken();return yield Pn(_,function lr(S,_){return yn.apply(this,arguments)}(_.auth,{idToken:y})),_.stsTokenManager.clearRefreshToken(),_.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,y){var A,q,oe,Te,Ze,It,cn,bn;const yr=null!==(A=y.displayName)&&void 0!==A?A:void 0,Qs=null!==(q=y.email)&&void 0!==q?q:void 0,Zu=null!==(oe=y.phoneNumber)&&void 0!==oe?oe:void 0,cd=null!==(Te=y.photoURL)&&void 0!==Te?Te:void 0,Y_=null!==(Ze=y.tenantId)&&void 0!==Ze?Ze:void 0,Jg=null!==(It=y._redirectEventId)&&void 0!==It?It:void 0,Hh=null!==(cn=y.createdAt)&&void 0!==cn?cn:void 0,Q_=null!==(bn=y.lastLoginAt)&&void 0!==bn?bn:void 0,{uid:Xg,emailVerified:em,isAnonymous:Gh,providerData:tm,stsTokenManager:jd}=y;ye(Xg&&jd,_,"internal-error");const jh=H.fromJSON(this.name,jd);ye("string"==typeof Xg,_,"internal-error"),W(yr,_.name),W(Qs,_.name),ye("boolean"==typeof em,_,"internal-error"),ye("boolean"==typeof Gh,_,"internal-error"),W(Zu,_.name),W(cd,_.name),W(Y_,_.name),W(Jg,_.name),W(Hh,_.name),W(Q_,_.name);const ud=new j({uid:Xg,auth:_,email:Qs,emailVerified:em,displayName:yr,isAnonymous:Gh,photoURL:cd,phoneNumber:Zu,tenantId:Y_,stsTokenManager:jh,createdAt:Hh,lastLoginAt:Q_});return tm&&Array.isArray(tm)&&(ud.providerData=tm.map(Ku=>Object.assign({},Ku))),Jg&&(ud._redirectEventId=Jg),ud}static _fromIdTokenResponse(_,y,A=!1){return(0,b.Z)(function*(){const q=new H;q.updateFromServerResponse(y);const oe=new j({uid:y.localId,auth:_,stsTokenManager:q,isAnonymous:A});return yield ri(oe),oe})()}}const be=new Map;function ze(S){ht(S instanceof Function,"Expected a class definition");let _=be.get(S);return _?(ht(_ instanceof S,"Instance stored in cache mismatched with class"),_):(_=new S,be.set(S,_),_)}const en=(()=>{class S{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,b.Z)(function*(){return!0})()}_set(y,A){var q=this;return(0,b.Z)(function*(){q.storage[y]=A})()}_get(y){var A=this;return(0,b.Z)(function*(){const q=A.storage[y];return void 0===q?null:q})()}_remove(y){var A=this;return(0,b.Z)(function*(){delete A.storage[y]})()}_addListener(y,A){}_removeListener(y,A){}}return S.type="NONE",S})();function rn(S,_,y){return`firebase:${S}:${_}:${y}`}class En{constructor(_,y,A){this.persistence=_,this.auth=y,this.userKey=A;const{config:q,name:oe}=this.auth;this.fullUserKey=rn(this.userKey,q.apiKey,oe),this.fullPersistenceKey=rn("persistence",q.apiKey,oe),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}getCurrentUser(){var _=this;return(0,b.Z)(function*(){const y=yield _.persistence._get(_.fullUserKey);return y?j._fromJSON(_.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(_){var y=this;return(0,b.Z)(function*(){if(y.persistence===_)return;const A=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=_,A?y.setCurrentUser(A):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(_,y,A="authUser"){return(0,b.Z)(function*(){if(!y.length)return new En(ze(en),_,A);const q=(yield Promise.all(y.map(function(){var cn=(0,b.Z)(function*(bn){if(yield bn._isAvailable())return bn});return function(bn){return cn.apply(this,arguments)}}()))).filter(cn=>cn);let oe=q[0]||ze(en);const Te=rn(A,_.config.apiKey,_.name);let Ze=null;for(const cn of y)try{const bn=yield cn._get(Te);if(bn){const yr=j._fromJSON(_,bn);cn!==oe&&(Ze=yr),oe=cn;break}}catch{}const It=q.filter(cn=>cn._shouldAllowMigration);return oe._shouldAllowMigration&&It.length?(oe=It[0],Ze&&(yield oe._set(Te,Ze.toJSON())),yield Promise.all(y.map(function(){var cn=(0,b.Z)(function*(bn){if(bn!==oe)try{yield bn._remove(Te)}catch{}});return function(bn){return cn.apply(this,arguments)}}())),new En(oe,_,A)):new En(oe,_,A)})()}}function Wt(S){const _=S.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if(Si(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if(xn(_))return"Firefox";if(_.includes("silk/"))return"Silk";if(Ai(_))return"Blackberry";if(Qr(_))return"Webos";if(kr(_))return"Safari";if((_.includes("chrome/")||jn(_))&&!_.includes("edge/"))return"Chrome";if(ps(_))return"Android";{const A=S.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===A?.length)return A[1]}return"Other"}function xn(S=(0,se.z$)()){return/firefox\//i.test(S)}function kr(S=(0,se.z$)()){const _=S.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}function jn(S=(0,se.z$)()){return/crios\//i.test(S)}function Si(S=(0,se.z$)()){return/iemobile/i.test(S)}function ps(S=(0,se.z$)()){return/android/i.test(S)}function Ai(S=(0,se.z$)()){return/blackberry/i.test(S)}function Qr(S=(0,se.z$)()){return/webos/i.test(S)}function go(S=(0,se.z$)()){return/iphone|ipad|ipod/i.test(S)||/macintosh/i.test(S)&&/mobile/i.test(S)}function qi(S=(0,se.z$)()){return go(S)||ps(S)||Qr(S)||Ai(S)||/windows phone/i.test(S)||Si(S)}function $n(S,_=[]){let y;switch(S){case"Browser":y=Wt((0,se.z$)());break;case"Worker":y=`${Wt((0,se.z$)())}-${S}`;break;default:y=S}const A=_.length?_.join(","):"FirebaseCore-web";return`${y}/JsCore/${ge.Jn}/${A}`}class So{constructor(_){this.auth=_,this.queue=[]}pushCallback(_,y){const A=oe=>new Promise((Te,Ze)=>{try{Te(_(oe))}catch(It){Ze(It)}});A.onAbort=y,this.queue.push(A);const q=this.queue.length-1;return()=>{this.queue[q]=()=>Promise.resolve()}}runMiddleware(_){var y=this;return(0,b.Z)(function*(){if(y.auth.currentUser===_)return;const A=[];try{for(const q of y.queue)yield q(_),q.onAbort&&A.push(q.onAbort)}catch(q){A.reverse();for(const oe of A)try{oe()}catch{}throw y.auth._errorFactory.create("login-blocked",{originalMessage:q?.message})}})()}}function Go(){return(Go=(0,b.Z)(function*(S,_={}){return tt(S,"GET","/v2/passwordPolicy",Le(S,_))})).apply(this,arguments)}class mo{constructor(_){var y,A,q,oe;const Te=_.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(y=Te.minPasswordLength)&&void 0!==y?y:6,Te.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Te.maxPasswordLength),void 0!==Te.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Te.containsLowercaseCharacter),void 0!==Te.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Te.containsUppercaseCharacter),void 0!==Te.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Te.containsNumericCharacter),void 0!==Te.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Te.containsNonAlphanumericCharacter),this.enforcementState=_.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(q=null===(A=_.allowedNonAlphanumericCharacters)||void 0===A?void 0:A.join(""))&&void 0!==q?q:"",this.forceUpgradeOnSignin=null!==(oe=_.forceUpgradeOnSignin)&&void 0!==oe&&oe,this.schemaVersion=_.schemaVersion}validatePassword(_){var y,A,q,oe,Te,Ze;const It={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(_,It),this.validatePasswordCharacterOptions(_,It),It.isValid&&(It.isValid=null===(y=It.meetsMinPasswordLength)||void 0===y||y),It.isValid&&(It.isValid=null===(A=It.meetsMaxPasswordLength)||void 0===A||A),It.isValid&&(It.isValid=null===(q=It.containsLowercaseLetter)||void 0===q||q),It.isValid&&(It.isValid=null===(oe=It.containsUppercaseLetter)||void 0===oe||oe),It.isValid&&(It.isValid=null===(Te=It.containsNumericCharacter)||void 0===Te||Te),It.isValid&&(It.isValid=null===(Ze=It.containsNonAlphanumericCharacter)||void 0===Ze||Ze),It}validatePasswordLengthOptions(_,y){const A=this.customStrengthOptions.minPasswordLength,q=this.customStrengthOptions.maxPasswordLength;A&&(y.meetsMinPasswordLength=_.length>=A),q&&(y.meetsMaxPasswordLength=_.length<=q)}validatePasswordCharacterOptions(_,y){let A;this.updatePasswordCharacterOptionsStatuses(y,!1,!1,!1,!1);for(let q=0;q<_.length;q++)A=_.charAt(q),this.updatePasswordCharacterOptionsStatuses(y,A>="a"&&A<="z",A>="A"&&A<="Z",A>="0"&&A<="9",this.allowedNonAlphanumericCharacters.includes(A))}updatePasswordCharacterOptionsStatuses(_,y,A,q,oe){this.customStrengthOptions.containsLowercaseLetter&&(_.containsLowercaseLetter||(_.containsLowercaseLetter=y)),this.customStrengthOptions.containsUppercaseLetter&&(_.containsUppercaseLetter||(_.containsUppercaseLetter=A)),this.customStrengthOptions.containsNumericCharacter&&(_.containsNumericCharacter||(_.containsNumericCharacter=q)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(_.containsNonAlphanumericCharacter||(_.containsNonAlphanumericCharacter=oe))}}class Ao{constructor(_,y,A,q){this.app=_,this.heartbeatServiceProvider=y,this.appCheckServiceProvider=A,this.config=q,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new No(this),this.idTokenSubscription=new No(this),this.beforeStateQueue=new So(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ct,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=q.sdkClientVersion}_initializeWithPersistence(_,y){var A=this;return y&&(this._popupRedirectResolver=ze(y)),this._initializationPromise=this.queue((0,b.Z)(function*(){var q,oe;if(!A._deleted&&(A.persistenceManager=yield En.create(A,_),!A._deleted)){if(null!==(q=A._popupRedirectResolver)&&void 0!==q&&q._shouldInitProactively)try{yield A._popupRedirectResolver._initialize(A)}catch{}yield A.initializeCurrentUser(y),A.lastNotifiedUid=(null===(oe=A.currentUser)||void 0===oe?void 0:oe.uid)||null,!A._deleted&&(A._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var _=this;return(0,b.Z)(function*(){if(_._deleted)return;const y=yield _.assertedPersistence.getCurrentUser();if(_.currentUser||y){if(_.currentUser&&y&&_.currentUser.uid===y.uid)return _._currentUser._assign(y),void(yield _.currentUser.getIdToken());yield _._updateCurrentUser(y,!0)}})()}initializeCurrentUser(_){var y=this;return(0,b.Z)(function*(){var A;const q=yield y.assertedPersistence.getCurrentUser();let oe=q,Te=!1;if(_&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const Ze=null===(A=y.redirectUser)||void 0===A?void 0:A._redirectEventId,It=oe?._redirectEventId,cn=yield y.tryRedirectSignIn(_);(!Ze||Ze===It)&&cn?.user&&(oe=cn.user,Te=!0)}if(!oe)return y.directlySetCurrentUser(null);if(!oe._redirectEventId){if(Te)try{yield y.beforeStateQueue.runMiddleware(oe)}catch(Ze){oe=q,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(Ze))}return oe?y.reloadAndSetCurrentUserOrClear(oe):y.directlySetCurrentUser(null)}return ye(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===oe._redirectEventId?y.directlySetCurrentUser(oe):y.reloadAndSetCurrentUserOrClear(oe)})()}tryRedirectSignIn(_){var y=this;return(0,b.Z)(function*(){let A=null;try{A=yield y._popupRedirectResolver._completeRedirectFn(y,_,!0)}catch{yield y._setRedirectUser(null)}return A})()}reloadAndSetCurrentUserOrClear(_){var y=this;return(0,b.Z)(function*(){try{yield ri(_)}catch(A){if("auth/network-request-failed"!==A?.code)return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(_)})()}useDeviceLanguage(){this.languageCode=function Rn(){if(typeof navigator>"u")return null;const S=navigator;return S.languages&&S.languages[0]||S.language||null}()}_delete(){var _=this;return(0,b.Z)(function*(){_._deleted=!0})()}updateCurrentUser(_){var y=this;return(0,b.Z)(function*(){const A=_?(0,se.m9)(_):null;return A&&ye(A.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(A&&A._clone(y))})()}_updateCurrentUser(_,y=!1){var A=this;return(0,b.Z)(function*(){if(!A._deleted)return _&&ye(A.tenantId===_.tenantId,A,"tenant-id-mismatch"),y||(yield A.beforeStateQueue.runMiddleware(_)),A.queue((0,b.Z)(function*(){yield A.directlySetCurrentUser(_),A.notifyAuthListeners()}))})()}signOut(){var _=this;return(0,b.Z)(function*(){return yield _.beforeStateQueue.runMiddleware(null),(_.redirectPersistenceManager||_._popupRedirectResolver)&&(yield _._setRedirectUser(null)),_._updateCurrentUser(null,!0)})()}setPersistence(_){var y=this;return this.queue((0,b.Z)(function*(){yield y.assertedPersistence.setPersistence(ze(_))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(_){var y=this;return(0,b.Z)(function*(){y._getPasswordPolicyInternal()||(yield y._updatePasswordPolicy());const A=y._getPasswordPolicyInternal();return A.schemaVersion!==y.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(y._errorFactory.create("unsupported-password-policy-schema-version",{})):A.validatePassword(_)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var _=this;return(0,b.Z)(function*(){const y=yield function Or(S){return Go.apply(this,arguments)}(_),A=new mo(y);null===_.tenantId?_._projectPasswordPolicy=A:_._tenantPasswordPolicies[_.tenantId]=A})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new se.LL("auth","Firebase",_())}onAuthStateChanged(_,y,A){return this.registerStateListener(this.authStateSubscription,_,y,A)}beforeAuthStateChanged(_,y){return this.beforeStateQueue.pushCallback(_,y)}onIdTokenChanged(_,y,A){return this.registerStateListener(this.idTokenSubscription,_,y,A)}authStateReady(){return new Promise((_,y)=>{if(this.currentUser)_();else{const A=this.onAuthStateChanged(()=>{A(),_()},y)}})}revokeAccessToken(_){var y=this;return(0,b.Z)(function*(){if(y.currentUser){const A=yield y.currentUser.getIdToken(),q={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:_,idToken:A};null!=y.tenantId&&(q.tenantId=y.tenantId),yield function Z(S,_){return L.apply(this,arguments)}(y,q)}})()}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_=this._currentUser)||void 0===_?void 0:_.toJSON()}}_setRedirectUser(_,y){var A=this;return(0,b.Z)(function*(){const q=yield A.getOrInitRedirectPersistenceManager(y);return null===_?q.removeCurrentUser():q.setCurrentUser(_)})()}getOrInitRedirectPersistenceManager(_){var y=this;return(0,b.Z)(function*(){if(!y.redirectPersistenceManager){const A=_&&ze(_)||y._popupRedirectResolver;ye(A,y,"argument-error"),y.redirectPersistenceManager=yield En.create(y,[ze(A._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(_){var y=this;return(0,b.Z)(function*(){var A,q;return y._isInitialized&&(yield y.queue((0,b.Z)(function*(){}))),(null===(A=y._currentUser)||void 0===A?void 0:A._redirectEventId)===_?y._currentUser:(null===(q=y.redirectUser)||void 0===q?void 0:q._redirectEventId)===_?y.redirectUser:null})()}_persistUserIfCurrent(_){var y=this;return(0,b.Z)(function*(){if(_===y.currentUser)return y.queue((0,b.Z)(function*(){return y.directlySetCurrentUser(_)}))})()}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const A=null!==(y=null===(_=this.currentUser)||void 0===_?void 0:_.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==A&&(this.lastNotifiedUid=A,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,y,A,q){if(this._deleted)return()=>{};const oe="function"==typeof y?y:y.next.bind(y);let Te=!1;const Ze=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(Ze,this,"internal-error"),Ze.then(()=>{Te||oe(this.currentUser)}),"function"==typeof y){const It=_.addObserver(y,A,q);return()=>{Te=!0,It()}}{const It=_.addObserver(y);return()=>{Te=!0,It()}}}directlySetCurrentUser(_){var y=this;return(0,b.Z)(function*(){y.currentUser&&y.currentUser!==_&&y._currentUser._stopProactiveRefresh(),_&&y.isProactiveRefreshEnabled&&_._startProactiveRefresh(),y.currentUser=_,_?yield y.assertedPersistence.setCurrentUser(_):yield y.assertedPersistence.removeCurrentUser()})()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=$n(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var _=this;return(0,b.Z)(function*(){var y;const A={"X-Client-Version":_.clientVersion};_.app.options.appId&&(A["X-Firebase-gmpid"]=_.app.options.appId);const q=yield null===(y=_.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();q&&(A["X-Firebase-Client"]=q);const oe=yield _._getAppCheckToken();return oe&&(A["X-Firebase-AppCheck"]=oe),A})()}_getAppCheckToken(){var _=this;return(0,b.Z)(function*(){var y;const A=yield null===(y=_.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getToken();return A?.error&&function wn(S,..._){Ft.logLevel<=fe.in.WARN&&Ft.warn(`Auth (${ge.Jn}): ${S}`,..._)}(`Error while retrieving App Check token: ${A.error}`),A?.token})()}}function Gr(S){return(0,se.m9)(S)}class No{constructor(_){this.auth=_,this.observer=null,this.addObserver=(0,se.ne)(y=>this.observer=y)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ni={loadJS:()=>(0,b.Z)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ki(S){return Ni.loadJS(S)}function _o(S){return`__${S}${Math.floor(1e6*Math.random())}`}class Bi{constructor(_){this.type="recaptcha-enterprise",this.auth=Gr(_)}verify(_="verify",y=!1){var A=this;return(0,b.Z)(function*(){function oe(){return oe=(0,b.Z)(function*(Ze){if(!y){if(null==Ze.tenantId&&null!=Ze._agentRecaptchaConfig)return Ze._agentRecaptchaConfig.siteKey;if(null!=Ze.tenantId&&void 0!==Ze._tenantRecaptchaConfigs[Ze.tenantId])return Ze._tenantRecaptchaConfigs[Ze.tenantId].siteKey}return new Promise(function(){var It=(0,b.Z)(function*(cn,bn){gt(Ze,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(yr=>{if(void 0!==yr.recaptchaKey){const Qs=new Oe(yr);return null==Ze.tenantId?Ze._agentRecaptchaConfig=Qs:Ze._tenantRecaptchaConfigs[Ze.tenantId]=Qs,cn(Qs.siteKey)}bn(new Error("recaptcha Enterprise site key undefined"))}).catch(yr=>{bn(yr)})});return function(cn,bn){return It.apply(this,arguments)}}())}),oe.apply(this,arguments)}function Te(Ze,It,cn){const bn=window.grecaptcha;Ee(bn)?bn.enterprise.ready(()=>{bn.enterprise.execute(Ze,{action:_}).then(yr=>{It(yr)}).catch(()=>{It("NO_RECAPTCHA")})}):cn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Ze,It)=>{(function q(Ze){return oe.apply(this,arguments)})(A.auth).then(cn=>{if(!y&&Ee(window.grecaptcha))Te(cn,Ze,It);else{if(typeof window>"u")return void It(new Error("RecaptchaVerifier is only supported in browser"));let bn=function Fr(){return Ni.recaptchaEnterpriseScript}();0!==bn.length&&(bn+=cn),Ki(bn).then(()=>{Te(cn,Ze,It)}).catch(yr=>{It(yr)})}}).catch(cn=>{It(cn)})})})()}}function Jr(S,_,y){return vo.apply(this,arguments)}function vo(){return(vo=(0,b.Z)(function*(S,_,y,A=!1){const q=new Bi(S);let oe;try{oe=yield q.verify(y)}catch{oe=yield q.verify(y,!0)}const Te=Object.assign({},_);return Object.assign(Te,A?{captchaResp:oe}:{captchaResponse:oe}),Object.assign(Te,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Te,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Te})).apply(this,arguments)}function cr(S,_,y,A){return si.apply(this,arguments)}function si(){return si=(0,b.Z)(function*(S,_,y,A){var q;if(null!==(q=S._getRecaptchaConfig())&&void 0!==q&&q.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const oe=yield Jr(S,_,y,"getOobCode"===y);return A(S,oe)}return A(S,_).catch(function(){var oe=(0,b.Z)(function*(Te){if("auth/missing-recaptcha-token"===Te.code){console.log(`${y} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Ze=yield Jr(S,_,y,"getOobCode"===y);return A(S,Ze)}return Promise.reject(Te)});return function(Te){return oe.apply(this,arguments)}}())}),si.apply(this,arguments)}function ia(S){const _=S.indexOf(":");return _<0?"":S.substr(0,_+1)}function Fs(S){if(!S)return null;const _=Number(S);return isNaN(_)?null:_}class gs{constructor(_,y){this.providerId=_,this.signInMethod=y}toJSON(){return Qe("not implemented")}_getIdTokenResponse(_){return Qe("not implemented")}_linkToIdToken(_,y){return Qe("not implemented")}_getReauthenticationResolver(_){return Qe("not implemented")}}function ms(S,_){return $o.apply(this,arguments)}function $o(){return($o=(0,b.Z)(function*(S,_){return tt(S,"POST","/v1/accounts:signUp",_)})).apply(this,arguments)}function Oi(S,_){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,b.Z)(function*(S,_){return an(S,"POST","/v1/accounts:signInWithPassword",Le(S,_))})).apply(this,arguments)}function jr(){return(jr=(0,b.Z)(function*(S,_){return tt(S,"POST","/v1/accounts:sendOobCode",Le(S,_))})).apply(this,arguments)}function La(S,_){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,b.Z)(function*(S,_){return function Xr(S,_){return jr.apply(this,arguments)}(S,_)})).apply(this,arguments)}function Oo(){return(Oo=(0,b.Z)(function*(S,_){return an(S,"POST","/v1/accounts:signInWithEmailLink",Le(S,_))})).apply(this,arguments)}function _i(){return(_i=(0,b.Z)(function*(S,_){return an(S,"POST","/v1/accounts:signInWithEmailLink",Le(S,_))})).apply(this,arguments)}class hr extends gs{constructor(_,y,A,q=null){super("password",A),this._email=_,this._password=y,this._tenantId=q}static _fromEmailAndPassword(_,y){return new hr(_,y,"password")}static _fromEmailAndCode(_,y,A=null){return new hr(_,y,"emailLink",A)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(_){const y="string"==typeof _?JSON.parse(_):_;if(y?.email&&y?.password){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(_){var y=this;return(0,b.Z)(function*(){switch(y.signInMethod){case"password":return cr(_,{returnSecureToken:!0,email:y._email,password:y._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Oi);case"emailLink":return function Di(S,_){return Oo.apply(this,arguments)}(_,{email:y._email,oobCode:y._password});default:ft(_,"internal-error")}})()}_linkToIdToken(_,y){var A=this;return(0,b.Z)(function*(){switch(A.signInMethod){case"password":return cr(_,{idToken:y,returnSecureToken:!0,email:A._email,password:A._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ms);case"emailLink":return function Lr(S,_){return _i.apply(this,arguments)}(_,{idToken:y,email:A._email,oobCode:A._password});default:ft(_,"internal-error")}})()}_getReauthenticationResolver(_){return this._getIdTokenResponse(_)}}function $r(S,_){return yo.apply(this,arguments)}function yo(){return(yo=(0,b.Z)(function*(S,_){return an(S,"POST","/v1/accounts:signInWithIdp",Le(S,_))})).apply(this,arguments)}class Nn{constructor(_){var y,A,q,oe,Te,Ze;const It=(0,se.zd)((0,se.pd)(_)),cn=null!==(y=It.apiKey)&&void 0!==y?y:null,bn=null!==(A=It.oobCode)&&void 0!==A?A:null,yr=function xo(S){switch(S){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(q=It.mode)&&void 0!==q?q:null);ye(cn&&bn&&yr,"argument-error"),this.apiKey=cn,this.operation=yr,this.code=bn,this.continueUrl=null!==(oe=It.continueUrl)&&void 0!==oe?oe:null,this.languageCode=null!==(Te=It.languageCode)&&void 0!==Te?Te:null,this.tenantId=null!==(Ze=It.tenantId)&&void 0!==Ze?Ze:null}static parseLink(_){const y=function vs(S){const _=(0,se.zd)((0,se.pd)(S)).link,y=_?(0,se.zd)((0,se.pd)(_)).deep_link_id:null,A=(0,se.zd)((0,se.pd)(S)).deep_link_id;return(A?(0,se.zd)((0,se.pd)(A)).link:null)||A||y||_||S}(_);try{return new Nn(y)}catch{return null}}}let Us=(()=>{class S{constructor(){this.providerId=S.PROVIDER_ID}static credential(y,A){return hr._fromEmailAndPassword(y,A)}static credentialWithLink(y,A){const q=Nn.parseLink(A);return ye(q,"argument-error"),hr._fromEmailAndCode(y,q.code,q.tenantId)}}return S.PROVIDER_ID="password",S.EMAIL_PASSWORD_SIGN_IN_METHOD="password",S.EMAIL_LINK_SIGN_IN_METHOD="emailLink",S})();class Ui{constructor(_){this.providerId=_,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_){this.defaultLanguageCode=_}setCustomParameters(_){return this.customParameters=_,this}getCustomParameters(){return this.customParameters}}class hi extends Ui{constructor(){super(...arguments),this.scopes=[]}addScope(_){return this.scopes.includes(_)||this.scopes.push(_),this}getScopes(){return[...this.scopes]}}function Is(S,_){return ai.apply(this,arguments)}function ai(){return(ai=(0,b.Z)(function*(S,_){return an(S,"POST","/v1/accounts:signUp",Le(S,_))})).apply(this,arguments)}class xi{constructor(_){this.user=_.user,this.providerId=_.providerId,this._tokenResponse=_._tokenResponse,this.operationType=_.operationType}static _fromIdTokenResponse(_,y,A,q=!1){return(0,b.Z)(function*(){const oe=yield j._fromIdTokenResponse(_,A,q),Te=Ba(A);return new xi({user:oe,providerId:Te,_tokenResponse:A,operationType:y})})()}static _forOperation(_,y,A){return(0,b.Z)(function*(){yield _._updateTokensIfNecessary(A,!0);const q=Ba(A);return new xi({user:_,providerId:q,_tokenResponse:A,operationType:y})})()}}function Ba(S){return S.providerId?S.providerId:"phoneNumber"in S?"phone":null}class eo extends se.ZR{constructor(_,y,A,q){var oe;super(y.code,y.message),this.operationType=A,this.user=q,Object.setPrototypeOf(this,eo.prototype),this.customData={appName:_.name,tenantId:null!==(oe=_.tenantId)&&void 0!==oe?oe:void 0,_serverResponse:y.customData._serverResponse,operationType:A}}static _fromErrorAndOperation(_,y,A,q){return new eo(_,y,A,q)}}function Mr(S,_,y,A){return("reauthenticate"===_?y._getReauthenticationResolver(S):y._getIdTokenResponse(S)).catch(oe=>{throw"auth/multi-factor-auth-required"===oe.code?eo._fromErrorAndOperation(S,oe,_,A):oe})}function F(){return(F=(0,b.Z)(function*(S,_,y=!1){const A=yield Pn(S,_._linkToIdToken(S.auth,yield S.getIdToken()),y);return xi._forOperation(S,"link",A)})).apply(this,arguments)}function In(){return(In=(0,b.Z)(function*(S,_,y=!1){const{auth:A}=S,q="reauthenticate";try{const oe=yield Pn(S,Mr(A,q,_,S),y);ye(oe.idToken,A,"internal-error");const Te=Vn(oe.idToken);ye(Te,A,"internal-error");const{sub:Ze}=Te;return ye(S.uid===Ze,A,"user-mismatch"),xi._forOperation(S,q,oe)}catch(oe){throw"auth/user-not-found"===oe?.code&&ft(A,"user-mismatch"),oe}})).apply(this,arguments)}function Ri(S,_){return bo.apply(this,arguments)}function bo(){return(bo=(0,b.Z)(function*(S,_,y=!1){const A="signIn",q=yield Mr(S,A,_),oe=yield xi._fromIdTokenResponse(S,A,q);return y||(yield S._updateCurrentUser(oe.user)),oe})).apply(this,arguments)}function ci(S,_){return yi.apply(this,arguments)}function yi(){return(yi=(0,b.Z)(function*(S,_){return Ri(Gr(S),_)})).apply(this,arguments)}function to(S){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,b.Z)(function*(S){const _=Gr(S);_._getPasswordPolicyInternal()&&(yield _._updatePasswordPolicy())})).apply(this,arguments)}function Na(){return(Na=(0,b.Z)(function*(S,_,y){const A=Gr(S),q={requestType:"PASSWORD_RESET",email:_,clientType:"CLIENT_TYPE_WEB"};y&&function Zo(S,_,y){var A;ye((null===(A=y.url)||void 0===A?void 0:A.length)>0,S,"invalid-continue-uri"),ye(typeof y.dynamicLinkDomain>"u"||y.dynamicLinkDomain.length>0,S,"invalid-dynamic-link-domain"),_.continueUrl=y.url,_.dynamicLinkDomain=y.dynamicLinkDomain,_.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(ye(y.iOS.bundleId.length>0,S,"missing-ios-bundle-id"),_.iOSBundleId=y.iOS.bundleId),y.android&&(ye(y.android.packageName.length>0,S,"missing-android-pkg-name"),_.androidInstallApp=y.android.installApp,_.androidMinimumVersionCode=y.android.minimumVersion,_.androidPackageName=y.android.packageName)}(A,q,y),yield cr(A,q,"getOobCode",La)})).apply(this,arguments)}function ic(){return(ic=(0,b.Z)(function*(S,_,y){const A=Gr(S),Te=yield cr(A,{returnSecureToken:!0,email:_,password:y,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Is).catch(It=>{throw"auth/password-does-not-meet-requirements"===It.code&&to(S),It}),Ze=yield xi._fromIdTokenResponse(A,"signIn",Te);return yield A._updateCurrentUser(Ze.user),Ze})).apply(this,arguments)}const hn="__sak";class lo{constructor(_,y){this.storageRetriever=_,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(hn,"1"),this.storage.removeItem(hn),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(_,y){return this.storage.setItem(_,JSON.stringify(y)),Promise.resolve()}_get(_){const y=this.storage.getItem(_);return Promise.resolve(y?JSON.parse(y):null)}_remove(_){return this.storage.removeItem(_),Promise.resolve()}get storage(){return this.storageRetriever()}}const vu=(()=>{class S extends lo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,A)=>this.onStorageEvent(y,A),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Yf(){const S=(0,se.z$)();return kr(S)||go(S)}()&&function Zi(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=qi(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const A of Object.keys(this.listeners)){const q=this.storage.getItem(A),oe=this.localCache[A];q!==oe&&y(A,oe,q)}}onStorageEvent(y,A=!1){if(!y.key)return void this.forAllChangedKeys((Ze,It,cn)=>{this.notifyListeners(Ze,cn)});const q=y.key;if(A?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ze=this.storage.getItem(q);if(y.newValue!==Ze)null!==y.newValue?this.storage.setItem(q,y.newValue):this.storage.removeItem(q);else if(this.localCache[q]===y.newValue&&!A)return}const oe=()=>{const Ze=this.storage.getItem(q);!A&&this.localCache[q]===Ze||this.notifyListeners(q,Ze)},Te=this.storage.getItem(q);!function Wi(){return(0,se.w1)()&&10===document.documentMode}()||Te===y.newValue||y.newValue===y.oldValue?oe():setTimeout(oe,10)}notifyListeners(y,A){this.localCache[y]=A;const q=this.listeners[y];if(q)for(const oe of Array.from(q))oe(A&&JSON.parse(A))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,A,q)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:A,newValue:q}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,A){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(A)}_removeListener(y,A){this.listeners[y]&&(this.listeners[y].delete(A),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,A){var q=()=>super._set,oe=this;return(0,b.Z)(function*(){yield q().call(oe,y,A),oe.localCache[y]=JSON.stringify(A)})()}_get(y){var A=()=>super._get,q=this;return(0,b.Z)(function*(){const oe=yield A().call(q,y);return q.localCache[y]=JSON.stringify(oe),oe})()}_remove(y){var A=()=>super._remove,q=this;return(0,b.Z)(function*(){yield A().call(q,y),delete q.localCache[y]})()}}return S.type="LOCAL",S})(),zc=(()=>{class S extends lo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,A){}_removeListener(y,A){}}return S.type="SESSION",S})();let cl=(()=>{class S{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const A=this.receivers.find(oe=>oe.isListeningto(y));if(A)return A;const q=new S(y);return this.receivers.push(q),q}isListeningto(y){return this.eventTarget===y}handleEvent(y){var A=this;return(0,b.Z)(function*(){const q=y,{eventId:oe,eventType:Te,data:Ze}=q.data,It=A.handlersMap[Te];if(!It?.size)return;q.ports[0].postMessage({status:"ack",eventId:oe,eventType:Te});const cn=Array.from(It).map(function(){var yr=(0,b.Z)(function*(Qs){return Qs(q.origin,Ze)});return function(Qs){return yr.apply(this,arguments)}}()),bn=yield function Zl(S){return Promise.all(S.map(function(){var _=(0,b.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(A){return{fulfilled:!1,reason:A}}});return function(y){return _.apply(this,arguments)}}()))}(cn);q.ports[0].postMessage({status:"done",eventId:oe,eventType:Te,response:bn})})()}_subscribe(y,A){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(A)}_unsubscribe(y,A){this.handlersMap[y]&&A&&this.handlersMap[y].delete(A),(!A||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return S.receivers=[],S})();function ku(S="",_=10){let y="";for(let A=0;A<_;A++)y+=Math.floor(10*Math.random());return S+y}class Fu{constructor(_){this.target=_,this.handlers=new Set}removeMessageHandler(_){_.messageChannel&&(_.messageChannel.port1.removeEventListener("message",_.onMessage),_.messageChannel.port1.close()),this.handlers.delete(_)}_send(_,y,A=50){var q=this;return(0,b.Z)(function*(){const oe=typeof MessageChannel<"u"?new MessageChannel:null;if(!oe)throw new Error("connection_unavailable");let Te,Ze;return new Promise((It,cn)=>{const bn=ku("",20);oe.port1.start();const yr=setTimeout(()=>{cn(new Error("unsupported_event"))},A);Ze={messageChannel:oe,onMessage(Qs){const Zu=Qs;if(Zu.data.eventId===bn)switch(Zu.data.status){case"ack":clearTimeout(yr),Te=setTimeout(()=>{cn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Te),It(Zu.data.response);break;default:clearTimeout(yr),clearTimeout(Te),cn(new Error("invalid_response"))}}},q.handlers.add(Ze),oe.port1.addEventListener("message",Ze.onMessage),q.target.postMessage({eventType:_,eventId:bn,data:y},[oe.port2])}).finally(()=>{Ze&&q.removeMessageHandler(Ze)})})()}}function ut(){return window}function ul(){return typeof ut().WorkerGlobalScope<"u"&&"function"==typeof ut().importScripts}function ji(){return(ji=(0,b.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ns="firebaseLocalStorageDb",Wa="firebaseLocalStorage",hl="fbase_key";class Ec{constructor(_){this.request=_}toPromise(){return new Promise((_,y)=>{this.request.addEventListener("success",()=>{_(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function ac(S,_){return S.transaction([Wa],_?"readwrite":"readonly").objectStore(Wa)}function Zs(){const S=indexedDB.open(ns,1);return new Promise((_,y)=>{S.addEventListener("error",()=>{y(S.error)}),S.addEventListener("upgradeneeded",()=>{const A=S.result;try{A.createObjectStore(Wa,{keyPath:hl})}catch(q){y(q)}}),S.addEventListener("success",(0,b.Z)(function*(){const A=S.result;A.objectStoreNames.contains(Wa)?_(A):(A.close(),yield function Fo(){const S=indexedDB.deleteDatabase(ns);return new Ec(S).toPromise()}(),_(yield Zs()))}))})}function qc(S,_,y){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,b.Z)(function*(S,_,y){const A=ac(S,!0).put({[hl]:_,value:y});return new Ec(A).toPromise()})).apply(this,arguments)}function fl(){return(fl=(0,b.Z)(function*(S,_){const y=ac(S,!1).get(_),A=yield new Ec(y).toPromise();return void 0===A?null:A.value})).apply(this,arguments)}function yu(S,_){const y=ac(S,!0).delete(_);return new Ec(y).toPromise()}const M=(()=>{class S{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,b.Z)(function*(){return y.db||(y.db=yield Zs()),y.db})()}_withRetries(y){var A=this;return(0,b.Z)(function*(){let q=0;for(;;)try{const oe=yield A._openDb();return yield y(oe)}catch(oe){if(q++>3)throw oe;A.db&&(A.db.close(),A.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,b.Z)(function*(){return ul()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,b.Z)(function*(){y.receiver=cl._getInstance(function Wc(){return ul()?self:null}()),y.receiver._subscribe("keyChanged",function(){var A=(0,b.Z)(function*(q,oe){return{keyProcessed:(yield y._poll()).includes(oe.key)}});return function(q,oe){return A.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var A=(0,b.Z)(function*(q,oe){return["keyChanged"]});return function(q,oe){return A.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,b.Z)(function*(){var A,q;if(y.activeServiceWorker=yield function Kl(){return ji.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new Fu(y.activeServiceWorker);const oe=yield y.sender._send("ping",{},800);oe&&null!==(A=oe[0])&&void 0!==A&&A.fulfilled&&null!==(q=oe[0])&&void 0!==q&&q.value.includes("keyChanged")&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var A=this;return(0,b.Z)(function*(){if(A.sender&&A.activeServiceWorker&&function ll(){var S;return(null===(S=navigator?.serviceWorker)||void 0===S?void 0:S.controller)||null}()===A.activeServiceWorker)try{yield A.sender._send("keyChanged",{key:y},A.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,b.Z)(function*(){try{if(!indexedDB)return!1;const y=yield Zs();return yield qc(y,hn,"1"),yield yu(y,hn),!0}catch{}return!1})()}_withPendingWrite(y){var A=this;return(0,b.Z)(function*(){A.pendingWrites++;try{yield y()}finally{A.pendingWrites--}})()}_set(y,A){var q=this;return(0,b.Z)(function*(){return q._withPendingWrite((0,b.Z)(function*(){return yield q._withRetries(oe=>qc(oe,y,A)),q.localCache[y]=A,q.notifyServiceWorker(y)}))})()}_get(y){var A=this;return(0,b.Z)(function*(){const q=yield A._withRetries(oe=>function ua(S,_){return fl.apply(this,arguments)}(oe,y));return A.localCache[y]=q,q})()}_remove(y){var A=this;return(0,b.Z)(function*(){return A._withPendingWrite((0,b.Z)(function*(){return yield A._withRetries(q=>yu(q,y)),delete A.localCache[y],A.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,b.Z)(function*(){const A=yield y._withRetries(Te=>{const Ze=ac(Te,!1).getAll();return new Ec(Ze).toPromise()});if(!A)return[];if(0!==y.pendingWrites)return[];const q=[],oe=new Set;if(0!==A.length)for(const{fbase_key:Te,value:Ze}of A)oe.add(Te),JSON.stringify(y.localCache[Te])!==JSON.stringify(Ze)&&(y.notifyListeners(Te,Ze),q.push(Te));for(const Te of Object.keys(y.localCache))y.localCache[Te]&&!oe.has(Te)&&(y.notifyListeners(Te,null),q.push(Te));return q})()}notifyListeners(y,A){this.localCache[y]=A;const q=this.listeners[y];if(q)for(const oe of Array.from(q))oe(A)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,b.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,A){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(A)}_removeListener(y,A){this.listeners[y]&&(this.listeners[y].delete(A),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return S.type="LOCAL",S})();_o("rcb"),new zn(3e4,6e4);class Kc extends gs{constructor(_){super("custom","custom"),this.params=_}_getIdTokenResponse(_){return $r(_,this._buildIdpRequest())}_linkToIdToken(_,y){return $r(_,this._buildIdpRequest(y))}_getReauthenticationResolver(_){return $r(_,this._buildIdpRequest())}_buildIdpRequest(_){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _&&(y.idToken=_),y}}function gl(S){return Ri(S.auth,new Kc(S),S.bypassAuthState)}function kd(S){const{auth:_,user:y}=S;return ye(y,_,"internal-error"),function Ut(S,_){return In.apply(this,arguments)}(y,new Kc(S),S.bypassAuthState)}function Fd(S){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,b.Z)(function*(S){const{auth:_,user:y}=S;return ye(y,_,"internal-error"),function Q(S,_){return F.apply(this,arguments)}(y,new Kc(S),S.bypassAuthState)})).apply(this,arguments)}class Qf{constructor(_,y,A,q,oe=!1){this.auth=_,this.resolver=A,this.user=q,this.bypassAuthState=oe,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var _=this;return new Promise(function(){var y=(0,b.Z)(function*(A,q){_.pendingPromise={resolve:A,reject:q};try{_.eventManager=yield _.resolver._initialize(_.auth),yield _.onExecution(),_.eventManager.registerConsumer(_)}catch(oe){_.reject(oe)}});return function(A,q){return y.apply(this,arguments)}}())}onAuthEvent(_){var y=this;return(0,b.Z)(function*(){const{urlResponse:A,sessionId:q,postBody:oe,tenantId:Te,error:Ze,type:It}=_;if(Ze)return void y.reject(Ze);const cn={auth:y.auth,requestUri:A,sessionId:q,tenantId:Te||void 0,postBody:oe||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(It)(cn))}catch(bn){y.reject(bn)}})()}onError(_){this.reject(_)}getIdpTask(_){switch(_){case"signInViaPopup":case"signInViaRedirect":return gl;case"linkViaPopup":case"linkViaRedirect":return Fd;case"reauthViaPopup":case"reauthViaRedirect":return kd;default:ft(this.auth,"internal-error")}}resolve(_){ht(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_),this.unregisterAndCleanUp()}reject(_){ht(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new zn(2e3,1e4);const Uu="pendingRedirect",Cc=new Map;class Xf extends Qf{constructor(_,y,A=!1){super(_,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,A),this.eventId=null}execute(){var _=()=>super.execute,y=this;return(0,b.Z)(function*(){let A=Cc.get(y.auth._key());if(!A){try{const oe=(yield function Hu(S,_){return ml.apply(this,arguments)}(y.resolver,y.auth))?yield _().call(y):null;A=()=>Promise.resolve(oe)}catch(q){A=()=>Promise.reject(q)}Cc.set(y.auth._key(),A)}return y.bypassAuthState||Cc.set(y.auth._key(),()=>Promise.resolve(null)),A()})()}onAuthEvent(_){var y=()=>super.onAuthEvent,A=this;return(0,b.Z)(function*(){if("signInViaRedirect"===_.type)return y().call(A,_);if("unknown"!==_.type){if(_.eventId){const q=yield A.auth._redirectUserForId(_.eventId);if(q)return A.user=q,y().call(A,_);A.resolve(null)}}else A.resolve(null)})()}onExecution(){return(0,b.Z)(function*(){})()}cleanUp(){}}function ml(){return(ml=(0,b.Z)(function*(S,_){const y=function vl(S){return rn(Uu,S.config.apiKey,S.name)}(_),A=function Yc(S){return ze(S._redirectPersistence)}(S);if(!(yield A._isAvailable()))return!1;const q="true"===(yield A._get(y));return yield A._remove(y),q})).apply(this,arguments)}function Eu(S,_){Cc.set(S._key(),_)}function uc(S,_){return Wu.apply(this,arguments)}function Wu(){return(Wu=(0,b.Z)(function*(S,_,y=!1){const A=Gr(S),q=function Za(S,_){return _?ze(_):(ye(S._popupRedirectResolver,S,"argument-error"),S._popupRedirectResolver)}(A,_),Te=yield new Xf(A,q,y).execute();return Te&&!y&&(delete Te.user._redirectEventId,yield A._persistUserIfCurrent(Te.user),yield A._setRedirectUser(null,_)),Te})).apply(this,arguments)}class np{constructor(_){this.auth=_,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_){this.consumers.add(_),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_)&&(this.sendToConsumer(this.queuedRedirectEvent,_),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_){this.consumers.delete(_)}onEvent(_){if(this.hasEventBeenHandled(_))return!1;let y=!1;return this.consumers.forEach(A=>{this.isEventForConsumer(_,A)&&(y=!0,this.sendToConsumer(_,A),this.saveEventToCache(_))}),this.hasHandledPotentialRedirect||!function rp(S){switch(S.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bl(S);default:return!1}}(_)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=_,y=!0)),y}sendToConsumer(_,y){var A;if(_.error&&!bl(_)){const q=(null===(A=_.error.code)||void 0===A?void 0:A.split("auth/")[1])||"internal-error";y.onError(ot(this.auth,q))}else y.onAuthEvent(_)}isEventForConsumer(_,y){const A=null===y.eventId||!!_.eventId&&_.eventId===y.eventId;return y.filter.includes(_.type)&&A}hasEventBeenHandled(_){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(td(_))}saveEventToCache(_){this.cachedEventUids.add(td(_)),this.lastProcessedEventTime=Date.now()}}function td(S){return[S.type,S.eventId,S.sessionId,S.tenantId].filter(_=>_).join("-")}function bl({type:S,error:_}){return"unknown"===S&&"auth/no-auth-event"===_?.code}function k(){return(k=(0,b.Z)(function*(S,_={}){return tt(S,"GET","/v1/projects",_)})).apply(this,arguments)}const K=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ue=/^https?/;function Pe(){return Pe=(0,b.Z)(function*(S){if(S.config.emulator)return;const{authorizedDomains:_}=yield function N(S){return k.apply(this,arguments)}(S);for(const y of _)try{if(rt(y))return}catch{}ft(S,"unauthorized-domain")}),Pe.apply(this,arguments)}function rt(S){const _=An(),{protocol:y,hostname:A}=new URL(_);if(S.startsWith("chrome-extension://")){const Te=new URL(S);return""===Te.hostname&&""===A?"chrome-extension:"===y&&S.replace("chrome-extension://","")===_.replace("chrome-extension://",""):"chrome-extension:"===y&&Te.hostname===A}if(!ue.test(y))return!1;if(K.test(S))return A===S;const q=S.replace(/\./g,"\\.");return new RegExp("^(.+\\."+q+"|"+q+")$","i").test(A)}const Pt=new zn(3e4,6e4);function St(){const S=ut().___jsl;if(S?.H)for(const _ of Object.keys(S.H))if(S.H[_].r=S.H[_].r||[],S.H[_].L=S.H[_].L||[],S.H[_].r=[...S.H[_].L],S.CP)for(let y=0;y<S.CP.length;y++)S.CP[y]=null}let Sn=null;const da=new zn(5e3,15e3),is="__/auth/iframe",nd="emulator/auth/iframe",Sc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ha=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ka(S){const _=S.config;ye(_.authDomain,S,"auth-domain-config-required");const y=_.emulator?sr(_,nd):`https://${S.config.authDomain}/${is}`,A={apiKey:_.apiKey,appName:S.name,v:ge.Jn},q=ha.get(S.config.apiHost);q&&(A.eid=q);const oe=S._getFrameworks();return oe.length&&(A.fw=oe.join(",")),`${y}?${(0,se.xO)(A).slice(1)}`}function Pi(){return Pi=(0,b.Z)(function*(S){const _=yield function Hn(S){return Sn=Sn||function qt(S){return new Promise((_,y)=>{var A,q,oe;function Te(){St(),gapi.load("gapi.iframes",{callback:()=>{_(gapi.iframes.getContext())},ontimeout:()=>{St(),y(ot(S,"network-request-failed"))},timeout:Pt.get()})}if(null!==(q=null===(A=ut().gapi)||void 0===A?void 0:A.iframes)&&void 0!==q&&q.Iframe)_(gapi.iframes.getContext());else{if(null===(oe=ut().gapi)||void 0===oe||!oe.load){const Ze=_o("iframefcb");return ut()[Ze]=()=>{gapi.load?Te():y(ot(S,"network-request-failed"))},Ki(`${function na(){return Ni.gapiScript}()}?onload=${Ze}`).catch(It=>y(It))}Te()}}).catch(_=>{throw Sn=null,_})}(S),Sn}(S),y=ut().gapi;return ye(y,S,"internal-error"),_.open({where:document.body,url:Ka(S),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Sc,dontclear:!0},A=>new Promise(function(){var q=(0,b.Z)(function*(oe,Te){yield A.restyle({setHideOnLeave:!1});const Ze=ot(S,"network-request-failed"),It=ut().setTimeout(()=>{Te(Ze)},da.get());function cn(){ut().clearTimeout(It),oe(A)}A.ping(cn).then(cn,()=>{Te(Ze)})});return function(oe,Te){return q.apply(this,arguments)}}()))}),Pi.apply(this,arguments)}const ip={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Hd{constructor(_){this.window=_,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const id="__/auth/handler",sp="emulator/auth/handler",$g=encodeURIComponent("fac");function Fh(S,_,y,A,q,oe){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,b.Z)(function*(S,_,y,A,q,oe){ye(S.config.authDomain,S,"auth-domain-config-required"),ye(S.config.apiKey,S,"invalid-api-key");const Te={apiKey:S.config.apiKey,appName:S.name,authType:y,redirectUrl:A,v:ge.Jn,eventId:q};if(_ instanceof Ui){_.setDefaultLanguage(S.languageCode),Te.providerId=_.providerId||"",(0,se.xb)(_.getCustomParameters())||(Te.customParameters=JSON.stringify(_.getCustomParameters()));for(const[bn,yr]of Object.entries(oe||{}))Te[bn]=yr}if(_ instanceof hi){const bn=_.getScopes().filter(yr=>""!==yr);bn.length>0&&(Te.scopes=bn.join(","))}S.tenantId&&(Te.tid=S.tenantId);const Ze=Te;for(const bn of Object.keys(Ze))void 0===Ze[bn]&&delete Ze[bn];const It=yield S._getAppCheckToken(),cn=It?`#${$g}=${encodeURIComponent(It)}`:"";return`${function Gd({config:S}){return S.emulator?sr(S,sp):`https://${S.authDomain}/${id}`}(S)}?${(0,se.xO)(Ze).slice(1)}${cn}`})).apply(this,arguments)}const Nc="webStorageSupport",Lh=class zg{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zc,this._completeRedirectFn=uc,this._overrideRedirectResult=Eu}_openPopup(_,y,A,q){var oe=this;return(0,b.Z)(function*(){var Te;ht(null===(Te=oe.eventManagers[_._key()])||void 0===Te?void 0:Te.manager,"_initialize() not called before _openPopup()");const Ze=yield Fh(_,y,A,An(),q);return function rd(S,_,y,A=500,q=600){const oe=Math.max((window.screen.availHeight-q)/2,0).toString(),Te=Math.max((window.screen.availWidth-A)/2,0).toString();let Ze="";const It=Object.assign(Object.assign({},ip),{width:A.toString(),height:q.toString(),top:oe,left:Te}),cn=(0,se.z$)().toLowerCase();y&&(Ze=jn(cn)?"_blank":y),xn(cn)&&(_=_||"http://localhost",It.scrollbars="yes");const bn=Object.entries(It).reduce((Qs,[Zu,cd])=>`${Qs}${Zu}=${cd},`,"");if(function Vr(S=(0,se.z$)()){var _;return go(S)&&!(null===(_=window.navigator)||void 0===_||!_.standalone)}(cn)&&"_self"!==Ze)return function Ac(S,_){const y=document.createElement("a");y.href=S,y.target=_;const A=document.createEvent("MouseEvent");A.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(A)}(_||"",Ze),new Hd(null);const yr=window.open(_||"",Ze,bn);ye(yr,S,"popup-blocked");try{yr.focus()}catch{}return new Hd(yr)}(_,Ze,ku())})()}_openRedirect(_,y,A,q){var oe=this;return(0,b.Z)(function*(){return yield oe._originValidation(_),function fr(S){ut().location.href=S}(yield Fh(_,y,A,An(),q)),new Promise(()=>{})})()}_initialize(_){const y=_._key();if(this.eventManagers[y]){const{manager:q,promise:oe}=this.eventManagers[y];return q?Promise.resolve(q):(ht(oe,"If manager is not set, promise should be"),oe)}const A=this.initAndGetManager(_);return this.eventManagers[y]={promise:A},A.catch(()=>{delete this.eventManagers[y]}),A}initAndGetManager(_){var y=this;return(0,b.Z)(function*(){const A=yield function Ra(S){return Pi.apply(this,arguments)}(_),q=new np(_);return A.register("authEvent",oe=>(ye(oe?.authEvent,_,"invalid-auth-event"),{status:q.onEvent(oe.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[_._key()]={manager:q},y.iframes[_._key()]=A,q})()}_isIframeWebStorageSupported(_,y){this.iframes[_._key()].send(Nc,{type:Nc},q=>{var oe;const Te=null===(oe=q?.[0])||void 0===oe?void 0:oe[Nc];void 0!==Te&&y(!!Te),ft(_,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_){const y=_._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function we(S){return Pe.apply(this,arguments)}(_)),this.originValidationPromises[y]}get _shouldInitProactively(){return qi()||kr()||go()}};var sd="@firebase/auth";class Xc{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),(null===(_=this.auth.currentUser)||void 0===_?void 0:_.uid)||null}getToken(_){var y=this;return(0,b.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(_)}:null})()}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const y=this.auth.onIdTokenChanged(A=>{_(A?.stsTokenManager.accessToken||null)});this.internalListeners.set(_,y),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const y=this.internalListeners.get(_);y&&(this.internalListeners.delete(_),y(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Z_=(0,se.Pz)("authIdTokenMaxAge")||300;let up=null;const lp=S=>function(){var _=(0,b.Z)(function*(y){const A=y&&(yield y.getIdTokenResult()),q=A&&((new Date).getTime()-Date.parse(A.issuedAtTime))/1e3;if(q&&q>Z_)return;const oe=A?.token;up!==oe&&(up=oe,yield fetch(S,{method:oe?"POST":"DELETE",headers:oe?{Authorization:`Bearer ${oe}`}:{}}))});return function(y){return _.apply(this,arguments)}}();function ad(S=(0,ge.Mq)()){const _=(0,ge.qX)(S,"auth");if(_.isInitialized())return _.getImmediate();const y=function Da(S,_){const y=(0,ge.qX)(S,"auth");if(y.isInitialized()){const q=y.getImmediate(),oe=y.getOptions();if((0,se.vZ)(oe,_??{}))return q;ft(q,"already-initialized")}return y.initialize({options:_})}(S,{popupRedirectResolver:Lh,persistence:[M,vu,zc]}),A=(0,se.Pz)("authTokenSyncURL");if(A&&A.match(/^\/[^\/].*/)){const oe=lp(A);(function jc(S,_,y){(0,se.m9)(S).beforeAuthStateChanged(_,y)})(y,oe,()=>oe(y.currentUser)),function za(S,_,y,A){(0,se.m9)(S).onIdTokenChanged(_,y,A)}(y,Te=>oe(Te))}const q=(0,se.q4)("auth");return q&&function Bc(S,_,y){const A=Gr(S);ye(A._canInitEmulator,A,"emulator-config-failed"),ye(/^https?:\/\//.test(_),A,"invalid-emulator-scheme");const q=!!y?.disableWarnings,oe=ia(_),{host:Te,port:Ze}=function Ca(S){const _=ia(S),y=/(\/\/)?([^?#/]+)/.exec(S.substr(_.length));if(!y)return{host:"",port:null};const A=y[2].split("@").pop()||"",q=/^(\[[^\]]+\])(:|$)/.exec(A);if(q){const oe=q[1];return{host:oe,port:Fs(A.substr(oe.length+1))}}{const[oe,Te]=A.split(":");return{host:oe,port:Fs(Te)}}}(_);A.config.emulator={url:`${oe}//${Te}${null===Ze?"":`:${Ze}`}/`},A.settings.appVerificationDisabledForTesting=!0,A.emulatorConfig=Object.freeze({host:Te,port:Ze,protocol:oe.replace(":",""),options:Object.freeze({disableWarnings:q})}),q||function Sa(){function S(){const _=document.createElement("p"),y=_.style;_.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",_.classList.add("firebase-emulator-warning"),document.body.appendChild(_)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",S):S())}()}(y,`http://${q}`),y}(function Ta(S){Ni=S})({loadJS:S=>new Promise((_,y)=>{const A=document.createElement("script");A.setAttribute("src",S),A.onload=_,A.onerror=q=>{const oe=ot("internal-error");oe.customData=q,y(oe)},A.type="text/javascript",A.charset="UTF-8",function Kg(){var S,_;return null!==(_=null===(S=document.getElementsByTagName("head"))||void 0===S?void 0:S[0])&&void 0!==_?_:document}().appendChild(A)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function cp(S){(0,ge.Xd)(new le.wA("auth",(_,{options:y})=>{const A=_.getProvider("app").getImmediate(),q=_.getProvider("heartbeat"),oe=_.getProvider("app-check-internal"),{apiKey:Te,authDomain:Ze}=A.options;ye(Te&&!Te.includes(":"),"invalid-api-key",{appName:A.name});const It={apiKey:Te,authDomain:Ze,clientPlatform:S,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$n(S)},cn=new Ao(A,q,oe,It);return function gi(S,_){const y=_?.persistence||[],A=(Array.isArray(y)?y:[y]).map(ze);_?.errorMap&&S._updateErrorMap(_.errorMap),S._initializeWithPersistence(A,_?.popupRedirectResolver)}(cn,y),cn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,y,A)=>{_.getProvider("auth-internal").initialize()})),(0,ge.Xd)(new le.wA("auth-internal",_=>{const y=Gr(_.getProvider("auth").getImmediate());return new Xc(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ge.KN)(sd,"1.6.2",function Uh(S){switch(S){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(S)),(0,ge.KN)(sd,"1.6.2","esm2017")}("Browser");var Yg=Y(5619),eu=Y(8180),Cs=Y(3477),Qg=Y(9468),OI=Y(6024);let K_=(()=>{class S{constructor(y,A){this.firestore=y,this.router=A,this.userDataSubject=new Yg.X(null),this.userData$=this.userDataSubject.asObservable();const q=localStorage.getItem("user");if(q){const oe=JSON.parse(q);this.userDataSubject.next(oe)}}registerUser(y,A,q){var oe=this;return(0,b.Z)(function*(){try{const Te=yield oe.createUserWithEmailAndPassword(y,A),Ze=Te.user.uid;yield oe.addAdditionalAuthData(Ze,q),yield oe.saveUserData(Te.user,q),oe.router.navigate(["recipes-list"])}catch(Te){oe.handleError(Te)}})()}loginUser(y,A){var q=this;return(0,b.Z)(function*(){try{const oe=yield q.signInWithEmailAndPassword(y,A),Te=oe.user.uid,Ze=yield q.getAdditionalAuthDataById(Te);yield q.saveUserData(oe.user,Ze),q.router.navigate(["recipes-list"])}catch(oe){q.handleError(oe)}})()}logoutUser(){var y=this;return(0,b.Z)(function*(){try{yield y.signOutAuth(),yield y.clearUserData(),y.router.navigate(["login"])}catch(A){y.handleError(A)}})()}forgotPassword(y){var A=this;return(0,b.Z)(function*(){try{yield A.sendPasswordResetEmail(y),window.alert("Password reset email sent, check your inbox."),A.router.navigate(["login"])}catch(q){A.handleError(q),window.alert(q)}})()}updateFavoriteRecipes(y,A,q){var oe=this;return(0,b.Z)(function*(){const Ze=(0,Cs.JU)(oe.firestore,"Auth",A);try{q?(console.log("remove"),yield(0,Cs.r7)(Ze,{favoriteRecipes:(0,Cs.Ab)(y)})):(console.log("add"),yield(0,Cs.r7)(Ze,{favoriteRecipes:(0,Cs.vr)(y)})),console.log("Favorite recipes updated successfully");const It=yield oe.getAdditionalAuthDataById(A);oe.userData$.pipe((0,eu.q)(1)).subscribe(cn=>{cn?oe.saveUserData(cn,It).then(()=>console.log("User data saved successfully")).catch(()=>console.error("Failed to save user data")):console.error("User is null")})}catch(It){console.error("Error updating favorite recipes: ",It)}})()}sendPasswordResetEmail(y){return function no(S,_,y){return Na.apply(this,arguments)}(ad(),y)}createUserWithEmailAndPassword(y,A){return function ja(S,_,y){return ic.apply(this,arguments)}(ad(),y,A)}signInWithEmailAndPassword(y,A){return function ko(S,_,y){return ci((0,se.m9)(S),Us.credential(_,y)).catch(function(){var A=(0,b.Z)(function*(q){throw"auth/password-does-not-meet-requirements"===q.code&&to(S),q});return function(q){return A.apply(this,arguments)}}())}(ad(),y,A)}signOutAuth(){return function es(S){return(0,se.m9)(S).signOut()}(ad())}addAdditionalAuthData(y,A){return(0,Cs.pl)((0,Cs.JU)(this.firestore,"Auth",y),A)}getAdditionalAuthDataById(y){var A=this;return(0,b.Z)(function*(){const q=(0,Cs.JU)(A.firestore,"Auth",y),oe=yield(0,Cs.QT)(q);return oe.exists()?oe.data():null})()}saveUserData(y,A){return new Promise((q,oe)=>{if(y&&A){const Te={...y,...A};localStorage.setItem("user",JSON.stringify(Te)),this.userDataSubject.next(Te),q()}else localStorage.setItem("user","null"),this.userDataSubject.next(null),oe()})}clearUserData(){return new Promise((y,A)=>{localStorage.removeItem("user"),this.userDataSubject.next(null),y()})}handleError(y){if(y instanceof Error){const q=y.message;console.error(`Error (${y.name}): ${q}`),alert(q)}else console.error("Unknown error:",y),alert(y)}static#e=this.\u0275fac=function(A){return new(A||S)(Qg.LFG(Cs.gg),Qg.LFG(OI.F0))};static#t=this.\u0275prov=Qg.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})()},9286:(Ht,$e,Y)=>{Y.d($e,{N:()=>fe});var b=Y(4303);(0,b.KN)("firebase","10.9.0","app");const fe={firebaseConfig:{apiKey:"AIzaSyCVbXDjBGUwaOrn1CZYGIwce1dYPKpR7PA",authDomain:"the-natural-way.firebaseapp.com",projectId:"the-natural-way",storageBucket:"the-natural-way.appspot.com",messagingSenderId:"778711637280",appId:"1:778711637280:web:30b52ea2a4e159578fcb45"},cloudinaryConfig:{cloudName:"dsla98vyk",apiKey:"587566495847865",apiSecret:"sJLzQzouizKo51b9Mv0bI8a5pCI",uploadPreset:"the_natural_way"}};(0,b.ZF)(fe.firebaseConfig)},2371:(Ht,$e,Y)=>{var b=Y(6593),se=Y(6024),ge=Y(5861),fe=Y(95),l=Y(9468),le=Y(6499),ve=Y(6814);function Be(d,w){1&d&&(l.TgZ(0,"div",21),l._uU(1," Email is required! "),l.qZA())}function Se(d,w){1&d&&(l.TgZ(0,"div",21),l._uU(1," Please enter a valid email address! "),l.qZA())}function ae(d,w){if(1&d&&(l.TgZ(0,"div"),l.YNc(1,Be,2,0,"div",20),l.YNc(2,Se,2,0,"div",20),l.qZA()),2&d){const u=l.oxw();let p,v;l.xp6(1),l.Q6J("ngIf",null==(p=u.registerForm.get("email"))||null==p.errors?null:p.errors.required),l.xp6(1),l.Q6J("ngIf",null==(v=u.registerForm.get("email"))||null==v.errors?null:v.errors.email)}}function ce(d,w){1&d&&(l.TgZ(0,"div",21),l._uU(1," Password is required! "),l.qZA())}function Ce(d,w){1&d&&(l.TgZ(0,"div",21),l._uU(1," Password must be at least 6 characters long! "),l.qZA())}function Xe(d,w){if(1&d&&(l.TgZ(0,"div"),l.YNc(1,ce,2,0,"div",20),l.YNc(2,Ce,2,0,"div",20),l.qZA()),2&d){const u=l.oxw();let p,v;l.xp6(1),l.Q6J("ngIf",null==(p=u.registerForm.get("password"))||null==p.errors?null:p.errors.required),l.xp6(1),l.Q6J("ngIf",null==(v=u.registerForm.get("password"))||null==v.errors?null:v.errors.minlength)}}function Re(d,w){1&d&&(l.TgZ(0,"div",21),l._uU(1," Repeat password is required! "),l.qZA())}function it(d,w){1&d&&(l.TgZ(0,"div",21),l._uU(1," Repeat password must be at least 6 characters long! "),l.qZA())}function Ct(d,w){if(1&d&&(l.TgZ(0,"div"),l.YNc(1,Re,2,0,"div",20),l.YNc(2,it,2,0,"div",20),l.qZA()),2&d){const u=l.oxw();let p,v;l.xp6(1),l.Q6J("ngIf",null==(p=u.registerForm.get("repeatPassword"))||null==p.errors?null:p.errors.required),l.xp6(1),l.Q6J("ngIf",null==(v=u.registerForm.get("repeatPassword"))||null==v.errors?null:v.errors.minlength)}}function Lt(d,w){1&d&&(l.TgZ(0,"div",21),l._uU(1," First name is required! "),l.qZA())}function Ft(d,w){if(1&d&&(l.TgZ(0,"div"),l.YNc(1,Lt,2,0,"div",20),l.qZA()),2&d){const u=l.oxw();let p;l.xp6(1),l.Q6J("ngIf",null==(p=u.registerForm.get("firstName"))||null==p.errors?null:p.errors.required)}}function wn(d,w){1&d&&(l.TgZ(0,"div",21),l._uU(1," Last name is required! "),l.qZA())}function Mt(d,w){if(1&d&&(l.TgZ(0,"div"),l.YNc(1,wn,2,0,"div",20),l.qZA()),2&d){const u=l.oxw();let p;l.xp6(1),l.Q6J("ngIf",null==(p=u.registerForm.get("lastName"))||null==p.errors?null:p.errors.required)}}let ft=(()=>{class d{constructor(u,p,v){this.userService=u,this.fb=p,this.router=v,this.registerForm=this.fb.group({email:["",[fe.kI.required,fe.kI.email]],password:["",[fe.kI.required,fe.kI.minLength(6)]],repeatPassword:["",fe.kI.required],firstName:["",fe.kI.required],lastName:["",fe.kI.required],isActive:[!0,fe.kI.required],isAdmin:[!1,fe.kI.required],favoriteRecipes:this.fb.array([])})}submitRegisterForm(){var u=this;return(0,ge.Z)(function*(){if(u.registerForm.valid){const{email:p,password:v,repeatPassword:V,...J}=u.registerForm.value;if(v!==V)return void alert("Password do not match!");try{yield u.userService.registerUser(p,v,J)}catch(_e){alert(_e)}}})()}static#e=this.\u0275fac=function(p){return new(p||d)(l.Y36(le.K),l.Y36(fe.qu),l.Y36(se.F0))};static#t=this.\u0275cmp=l.Xpm({type:d,selectors:[["app-register"]],decls:33,vars:6,consts:[[1,"main-short"],[1,"headerImage"],[1,"wrapper"],[3,"formGroup","ngSubmit"],[1,"title-wrapper"],[1,"title-form"],["for","email"],["type","email","id","email","formControlName","email","autocomplete","email"],[4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password","autocomplete","new-password"],["for","repeatPassword"],["type","password","id","repeatPassword","formControlName","repeatPassword","autocomplete","new-password"],["for","firstName"],["type","text","id","firstName","formControlName","firstName"],["for","lastName"],["type","text","id","lastName","formControlName","lastName"],["type","submit",1,"button",2,"width","100%","margin-top","20px"],["href","#","routerLink","/login"],[1,"hint"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(p,v){if(1&p&&(l.TgZ(0,"div",0),l._UZ(1,"div",1),l.TgZ(2,"div",2)(3,"form",3),l.NdJ("ngSubmit",function(){return v.submitRegisterForm()}),l.TgZ(4,"div",4)(5,"h1",5),l._uU(6,"Registration"),l.qZA()(),l.TgZ(7,"label",6),l._uU(8,"Email:"),l.qZA(),l._UZ(9,"input",7),l.YNc(10,ae,3,2,"div",8),l.TgZ(11,"label",9),l._uU(12,"Password:"),l.qZA(),l._UZ(13,"input",10),l.YNc(14,Xe,3,2,"div",8),l.TgZ(15,"label",11),l._uU(16,"Repeat password:"),l.qZA(),l._UZ(17,"input",12),l.YNc(18,Ct,3,2,"div",8),l.TgZ(19,"label",13),l._uU(20,"First name:"),l.qZA(),l._UZ(21,"input",14),l.YNc(22,Ft,2,1,"div",8),l.TgZ(23,"label",15),l._uU(24,"Last Name:"),l.qZA(),l._UZ(25,"input",16),l.YNc(26,Mt,2,1,"div",8),l.TgZ(27,"button",17),l._uU(28," Submit "),l.qZA(),l._UZ(29,"hr"),l.TgZ(30,"a",18)(31,"div",19),l._uU(32,"Already registered?"),l.qZA()()()()()),2&p){let V,J,_e,Ne,Ge;l.xp6(3),l.Q6J("formGroup",v.registerForm),l.xp6(7),l.Q6J("ngIf",(null==(V=v.registerForm.get("email"))?null:V.invalid)&&(null==(V=v.registerForm.get("email"))?null:V.touched)),l.xp6(4),l.Q6J("ngIf",(null==(J=v.registerForm.get("password"))?null:J.invalid)&&(null==(J=v.registerForm.get("password"))?null:J.touched)),l.xp6(4),l.Q6J("ngIf",(null==(_e=v.registerForm.get("repeatPassword"))?null:_e.invalid)&&(null==(_e=v.registerForm.get("repeatPassword"))?null:_e.touched)),l.xp6(4),l.Q6J("ngIf",(null==(Ne=v.registerForm.get("firstName"))?null:Ne.invalid)&&(null==(Ne=v.registerForm.get("firstName"))?null:Ne.touched)),l.xp6(4),l.Q6J("ngIf",(null==(Ge=v.registerForm.get("lastName"))?null:Ge.invalid)&&(null==(Ge=v.registerForm.get("lastName"))?null:Ge.touched))}},dependencies:[ve.O5,se.rH,fe._Y,fe.Fj,fe.JJ,fe.JL,fe.sg,fe.u],styles:[".checkbox-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center}form[_ngcontent-%COMP%]{max-width:600px;margin:-50px auto 50px;padding:32px;background-color:var(--backgroundColor);border-radius:unset;box-shadow:0 1px 3px #0000004d}@media (max-width: 460px){form[_ngcontent-%COMP%]{background-color:var(--backgroundColor);border:none}}"]})}return d})();function ot(d,w){1&d&&(l.TgZ(0,"div",16),l._uU(1," Email is required! "),l.qZA())}function mt(d,w){1&d&&(l.TgZ(0,"div",16),l._uU(1," Invalid email! "),l.qZA())}function pt(d,w){if(1&d&&(l.TgZ(0,"div"),l.YNc(1,ot,2,0,"div",17),l.YNc(2,mt,2,0,"div",17),l.qZA()),2&d){const u=l.oxw();let p,v;l.xp6(1),l.Q6J("ngIf",null==(p=u.logInForm.get("email"))||null==p.errors?null:p.errors.required),l.xp6(1),l.Q6J("ngIf",null==(v=u.logInForm.get("email"))||null==v.errors?null:v.errors.email)}}function Ue(d,w){1&d&&(l.TgZ(0,"div",16),l._uU(1," Password is required! "),l.qZA())}function ye(d,w){1&d&&(l.TgZ(0,"div",16),l._uU(1," Password must be at least 6 characters long! "),l.qZA())}function Qe(d,w){if(1&d&&(l.TgZ(0,"div"),l.YNc(1,Ue,2,0,"div",17),l.YNc(2,ye,2,0,"div",17),l.qZA()),2&d){const u=l.oxw();let p,v;l.xp6(1),l.Q6J("ngIf",null==(p=u.logInForm.get("password"))||null==p.errors?null:p.errors.required),l.xp6(1),l.Q6J("ngIf",null==(v=u.logInForm.get("password"))||null==v.errors?null:v.errors.minlength)}}function ht(d,w){if(1&d&&(l.TgZ(0,"div"),l._uU(1),l.qZA()),2&d){const u=l.oxw();l.xp6(1),l.Oqu(u.loginError)}}let An=(()=>{class d{constructor(u,p,v,V){this.userService=u,this.fb=p,this.route=v,this.router=V,this.loginError=null,this.returnUrl=null,this.logInForm=this.fb.group({email:["",[fe.kI.required,fe.kI.email]],password:["",[fe.kI.required,fe.kI.minLength(6)]]})}ngOnInit(){this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/"}submitLogInForm(){var u=this;return(0,ge.Z)(function*(){if(u.logInForm.valid){const{email:p,password:v}=u.logInForm.value;try{yield u.userService.loginUser(p,v);const V=u.returnUrl||"/category";yield u.router.navigateByUrl(V)}catch(V){console.log(V)}}})()}static#e=this.\u0275fac=function(p){return new(p||d)(l.Y36(le.K),l.Y36(fe.qu),l.Y36(se.gz),l.Y36(se.F0))};static#t=this.\u0275cmp=l.Xpm({type:d,selectors:[["app-login"]],decls:30,vars:4,consts:[[1,"main-short"],[1,"headerImage"],[1,"wrapper"],[3,"formGroup","ngSubmit"],[1,"title-wrapper"],[1,"title-form"],[1,"formGroup"],["for","email"],["type","text","id","email","formControlName","email","autocomplete","email"],[4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password","autocomplete","current-password"],["type","submit",1,"button",2,"width","100%"],["href","#","routerLink","/register"],[1,"hint"],["href","#","routerLink","/dashboard/forgot-password"],[1,"errors"],["class","errors",4,"ngIf"]],template:function(p,v){if(1&p&&(l.TgZ(0,"div",0),l._UZ(1,"div",1),l.TgZ(2,"div",2)(3,"form",3),l.NdJ("ngSubmit",function(){return v.submitLogInForm()}),l.TgZ(4,"div",4)(5,"h1",5),l._uU(6,"Login"),l.qZA()(),l.TgZ(7,"div",6)(8,"label",7),l._uU(9,"Email"),l.qZA(),l._UZ(10,"input",8),l.YNc(11,pt,3,2,"div",9),l.qZA(),l.TgZ(12,"div",6)(13,"label",10),l._uU(14,"Password"),l.qZA(),l._UZ(15,"input",11),l.YNc(16,Qe,3,2,"div",9),l.qZA(),l._UZ(17,"br"),l.TgZ(18,"div",6)(19,"button",12),l._uU(20,"Submit"),l.qZA()(),l.YNc(21,ht,2,1,"div",9),l._UZ(22,"hr"),l.TgZ(23,"div")(24,"a",13)(25,"div",14),l._uU(26,"Don't have a Registration yet?"),l.qZA()(),l.TgZ(27,"a",15)(28,"div",16),l._uU(29,"Forgot your password?"),l.qZA()()()()()()),2&p){let V,J;l.xp6(3),l.Q6J("formGroup",v.logInForm),l.xp6(8),l.Q6J("ngIf",(null==(V=v.logInForm.get("email"))?null:V.invalid)&&(null==(V=v.logInForm.get("email"))?null:V.touched)),l.xp6(5),l.Q6J("ngIf",(null==(J=v.logInForm.get("password"))?null:J.invalid)&&(null==(J=v.logInForm.get("password"))?null:J.touched)),l.xp6(5),l.Q6J("ngIf",v.loginError)}},dependencies:[ve.O5,se.rH,fe._Y,fe.Fj,fe.JJ,fe.JL,fe.sg,fe.u],styles:["form[_ngcontent-%COMP%]{max-width:600px;margin:-50px auto 50px;padding:32px;background-color:var(--backgroundColor);border-radius:unset;box-shadow:0 1px 3px #0000004d}@media (max-width: 460px){form[_ngcontent-%COMP%]{background-color:var(--backgroundColor);border:none}}"]})}return d})();var ct=Y(1753);const sn=function(d){return["/recipe",d]};function mn(d,w){if(1&d&&(l.TgZ(0,"div")(1,"a",8)(2,"div",9)(3,"div",10),l._UZ(4,"img",11),l.qZA(),l.TgZ(5,"p",12),l._uU(6),l.qZA()()()()),2&d){const u=w.$implicit;l.xp6(1),l.Q6J("routerLink",l.VKq(4,sn,u.id)),l.xp6(3),l.s9C("alt",u.title),l.Q6J("src",u.image_recipe[0].image_recipe,l.LSH),l.xp6(2),l.Oqu(u.title)}}function Rn(d,w){if(1&d){const u=l.EpF();l.TgZ(0,"button",13),l.NdJ("click",function(){l.CHM(u);const v=l.oxw();return l.KtG(v.getRecipesLoadMore())}),l._uU(1," Load More "),l.qZA()}}let zn=(()=>{class d{constructor(u){this.recipeService=u,this.recipes=[],this.showLoadMoreButton=!0}ngOnInit(){this.getRecipes(),this.showLoadMoreButton=!0}getRecipesLoadMore(){var u=this;return(0,ge.Z)(function*(){const{data:p,hasMore:v}=yield u.recipeService.getRecipesLoadMore();console.log(v),u.showLoadMoreButton=v,u.recipes.push(...p)})()}getRecipes(){var u=this;return(0,ge.Z)(function*(){const{data:p}=yield u.recipeService.getRecipes();u.recipes.push(...p)})()}static#e=this.\u0275fac=function(p){return new(p||d)(l.Y36(ct.v))};static#t=this.\u0275cmp=l.Xpm({type:d,selectors:[["app-recipes-list"]],decls:9,vars:2,consts:[[1,"main-long"],[1,"headerImage"],[1,"wrapper-list"],[1,"title-wrapper"],[1,"title"],[1,"recipe-list"],[4,"ngFor","ngForOf"],["class","button",3,"click",4,"ngIf"],[3,"routerLink"],[1,"recipe-item"],[1,"recipe-image"],[3,"src","alt"],[1,"recipe-title"],[1,"button",3,"click"]],template:function(p,v){1&p&&(l.TgZ(0,"main",0),l._UZ(1,"div",1),l.TgZ(2,"div",2)(3,"div",3)(4,"h1",4),l._uU(5,"Recipes"),l.qZA()(),l.TgZ(6,"div",5),l.YNc(7,mn,7,6,"div",6),l.qZA(),l.YNc(8,Rn,2,0,"button",7),l.qZA()()),2&p&&(l.xp6(7),l.Q6J("ngForOf",v.recipes),l.xp6(1),l.Q6J("ngIf",v.showLoadMoreButton))},dependencies:[ve.sg,ve.O5,se.rH],styles:[".wrapper-list[_ngcontent-%COMP%]{margin:-50px auto 50px;max-width:1200px;background-color:var(--backgroundColor);box-shadow:0 1px 3px #0000004d;padding:32px}.title-wrapper[_ngcontent-%COMP%]{margin-left:10px}.recipe-list[_ngcontent-%COMP%]{position:relative;display:grid;grid-template-columns:repeat(4,1fr);row-gap:20px;margin-bottom:100px}.recipe-item[_ngcontent-%COMP%]{margin:5px;position:relative}.recipe-image[_ngcontent-%COMP%]{padding:5px;position:relative;transition:transform 1s ease-in-out}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;width:100%;object-fit:fill}.recipe-item[_ngcontent-%COMP%]:hover   .recipe-image[_ngcontent-%COMP%]{transform:translateY(12%)}@media only screen and (max-width: 460px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 20px 50px;padding:16px}.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 461px) and (max-width: 767px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 768px) and (max-width: 1023px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);column-gap:10px;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}@media (min-width: 1024px) and (max-width: 1440px){.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);column-gap:10px;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}"]})}return d})();var sr=Y(7157),xe=Y(8850),He=Y(3477);function Je(d,w){1&d&&(l.TgZ(0,"div",9),l._uU(1," Please write your comment here! "),l.qZA())}function Le(d,w){if(1&d&&(l.TgZ(0,"div"),l.YNc(1,Je,2,0,"div",8),l.qZA()),2&d){const u=l.oxw();let p;l.xp6(1),l.Q6J("ngIf",null==(p=u.commentForm.get("text"))||null==p.errors?null:p.errors.required)}}let tt=(()=>{class d{constructor(u,p,v,V){this.fb=u,this.commentService=v,this.userService=V,this.timestamp=new Date,this.fullName="",this.firestore=p}ngOnInit(){this.commentForm=this.fb.group({name:[""],text:["",fe.kI.required],recipeId:[this.recipeId],create_time:[this.timestamp],uid:[""]}),this.userService.userData$.subscribe({next:u=>{u?(this.userData=u,this.fullName=this.userData.firstName+" "+this.userData.lastName):this.fullName="Anonymous"},error:u=>{console.log(u)}})}onSubmit(){var u=this;return(0,ge.Z)(function*(){if(u.timestamp=new Date,u.commentForm.valid){u.commentForm.patchValue({name:u.fullName}),u.commentForm.patchValue({recipeId:u.recipeId}),u.commentForm.patchValue({create_time:u.timestamp}),u.userData&&u.commentForm.patchValue({uid:u.userData.uid});try{(yield u.commentService.addComment(u.commentForm.value))?(alert("You have successfully added your comment"),u.commentForm.reset()):console.error("Error adding comment.")}catch(p){console.error("An error occurred while submitting the comment:",p)}}})()}static#e=this.\u0275fac=function(p){return new(p||d)(l.Y36(fe.qu),l.Y36(He.gg),l.Y36(xe.O),l.Y36(le.K))};static#t=this.\u0275cmp=l.Xpm({type:d,selectors:[["app-comment-form"]],inputs:{recipeId:"recipeId"},decls:15,vars:2,consts:[[1,"commentWrapper"],["id","commentForm",3,"formGroup","ngSubmit"],[1,"divider"],[1,"form-group"],["for","text"],["placeholder","Please write your comment here!","id","text","formControlName","text","rows","5","cols","30",1,"form-control"],[4,"ngIf"],["type","submit",1,"button",2,"width","100%"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(p,v){if(1&p&&(l.TgZ(0,"div",0)(1,"form",1),l.NdJ("ngSubmit",function(){return v.onSubmit()}),l.TgZ(2,"div",2),l._UZ(3,"hr"),l.TgZ(4,"p"),l._uU(5,"\xa0\xa0Comment\xa0\xa0"),l.qZA(),l._UZ(6,"hr"),l.qZA(),l.TgZ(7,"div",3)(8,"label",4),l._uU(9,"Comment (required)"),l.qZA(),l._UZ(10,"textarea",5),l.qZA(),l.YNc(11,Le,2,1,"div",6),l._UZ(12,"br"),l.TgZ(13,"button",7),l._uU(14,"Submit"),l.qZA()()()),2&p){let V;l.xp6(1),l.Q6J("formGroup",v.commentForm),l.xp6(10),l.Q6J("ngIf",null==(V=v.commentForm.get("text"))?null:V.touched)}},dependencies:[ve.O5,fe._Y,fe.Fj,fe.JJ,fe.JL,fe.sg,fe.u],styles:["form#commentForm[_ngcontent-%COMP%]{background-color:var(--backgroundColor);max-width:100%;border:unset}"]})}return d})();var vt=Y(2732);function xt(d,w){if(1&d&&(l.TgZ(0,"div",19),l._uU(1),l.qZA()),2&d){const u=l.oxw();l.xp6(1),l.hij(" ",null==u.recipe?null:u.recipe.summary," ")}}function Bt(d,w){1&d&&(l.TgZ(0,"div"),l._UZ(1,"br"),l.qZA())}function an(d,w){if(1&d&&(l.TgZ(0,"li"),l._UZ(1,"img",22),l.qZA()),2&d){const u=w.$implicit;l.xp6(1),l.Q6J("src",u.image_recipe,l.LSH)}}function fn(d,w){if(1&d&&(l.TgZ(0,"ul",20),l.YNc(1,an,2,1,"li",21),l.qZA()),2&d){const u=l.oxw();l.xp6(1),l.Q6J("ngForOf",null==u.recipe?null:u.recipe.image_recipe)}}function on(d,w){1&d&&(l.ynx(0),l._UZ(1,"i",28),l.BQk())}function wt(d,w){1&d&&l._UZ(0,"i",29)}function Fn(d,w){if(1&d){const u=l.EpF();l.TgZ(0,"button",25),l.NdJ("click",function(){l.CHM(u);const v=l.oxw(2);return l.KtG(v.updateRecipeLikes())}),l.YNc(1,on,2,0,"ng-container",26),l.YNc(2,wt,1,0,"ng-template",null,27,l.W1O),l.qZA()}if(2&d){const u=l.MAs(3),p=l.oxw(2);l.xp6(1),l.Q6J("ngIf",p.userData&&p.recipe&&p.recipe.likes&&(null==p.userData?null:p.userData.uid)&&p.recipe.likes.includes(p.userData.uid))("ngIfElse",u)}}function ar(d,w){if(1&d&&(l.TgZ(0,"div")(1,"span"),l._uU(2),l.qZA()()),2&d){const u=l.oxw(2);l.xp6(2),l.hij("Like: ",null==u.recipe||null==u.recipe.likes?null:u.recipe.likes.length,"")}}function Tr(d,w){1&d&&(l.ynx(0),l._uU(1," Save it! "),l.BQk())}function Ee(d,w){1&d&&l._uU(0,"Save Recipe")}function Oe(d,w){if(1&d){const u=l.EpF();l.TgZ(0,"button",25),l.NdJ("click",function(){l.CHM(u);const v=l.oxw(2);return l.KtG(v.updateFavoriteRecipes())}),l.YNc(1,Tr,2,0,"ng-container",26),l.YNc(2,Ee,1,0,"ng-template",null,27,l.W1O),l.qZA()}if(2&d){const u=l.MAs(3),p=l.oxw(2);l.xp6(1),l.Q6J("ngIf",p.recipe&&p.userData&&p.userData.favoriteRecipes&&p.userData.favoriteRecipes.includes(p.recipeId||""))("ngIfElse",u)}}function Me(d,w){if(1&d&&(l.TgZ(0,"div",23),l.YNc(1,Fn,4,2,"button",24),l.YNc(2,ar,3,1,"div",8),l.YNc(3,Oe,4,2,"button",24),l.qZA()),2&d){const u=l.oxw();l.xp6(1),l.Q6J("ngIf",u.userData),l.xp6(1),l.Q6J("ngIf",(null==u.recipe||null==u.recipe.likes?null:u.recipe.likes.length)>0),l.xp6(1),l.Q6J("ngIf",u.userData)}}function st(d,w){1&d&&(l.TgZ(0,"div",12),l._UZ(1,"hr"),l.TgZ(2,"p"),l._uU(3,"\xa0\xa0Ingredients\xa0\xa0"),l.qZA(),l._UZ(4,"hr"),l.qZA())}function gt(d,w){if(1&d&&(l.TgZ(0,"li"),l._uU(1),l.qZA()),2&d){const u=l.oxw().$implicit;l.xp6(1),l.lnq(" ",u.name," - ",u.amount," ",u.unit," ")}}function Tt(d,w){if(1&d&&(l.TgZ(0,"ul",30),l.YNc(1,gt,2,3,"li",8),l.qZA()),2&d){const u=l.oxw();l.xp6(1),l.Q6J("ngIf",null==u.recipe?null:u.recipe.ingredients)}}function lr(d,w){if(1&d&&(l.TgZ(0,"li"),l._UZ(1,"iframe",32),l.ALo(2,"safeUrl"),l.qZA()),2&d){const u=w.$implicit;l.xp6(1),l.Q6J("src",l.lcZ(2,1,u.video_recipe),l.uOi)}}function yn(d,w){if(1&d&&(l.TgZ(0,"div",31)(1,"div",12),l._UZ(2,"hr"),l.TgZ(3,"p"),l._uU(4,"\xa0\xa0Video\xa0\xa0"),l.qZA(),l._UZ(5,"hr"),l.qZA(),l._UZ(6,"br"),l.TgZ(7,"ul"),l.YNc(8,lr,3,3,"li",21),l.qZA()()),2&d){const u=l.oxw();l.xp6(8),l.Q6J("ngForOf",null==u.recipe?null:u.recipe.video_recipe)}}function tn(d,w){1&d&&(l.TgZ(0,"div",12),l._UZ(1,"hr"),l.TgZ(2,"p"),l._uU(3,"\xa0\xa0Buttons\xa0\xa0"),l.qZA(),l._UZ(4,"hr"),l.qZA())}function zt(d,w){if(1&d){const u=l.EpF();l.TgZ(0,"button",35),l.NdJ("click",function(){l.CHM(u);const v=l.oxw(2);return l.KtG(v.toggleCommentForm())}),l._uU(1," Comment? "),l.qZA()}}function gn(d,w){if(1&d){const u=l.EpF();l.TgZ(0,"button",35),l.NdJ("click",function(){l.CHM(u);const v=l.oxw(2);return l.KtG(v.toggleCommentForm())}),l._uU(1," Hide Form "),l.qZA()}}function Bn(d,w){if(1&d){const u=l.EpF();l.TgZ(0,"button",35),l.NdJ("click",function(){l.CHM(u);const v=l.oxw(2);return l.KtG(v.navigateToRecipeEdit())}),l._uU(1," Edit Recipe "),l.qZA()}}function Kt(d,w){if(1&d){const u=l.EpF();l.TgZ(0,"button",35),l.NdJ("click",function(){l.CHM(u);const v=l.oxw(2);return l.KtG(v.navigateToRecipeDelete())}),l._uU(1," Delete Recipe "),l.qZA()}}function mr(d,w){if(1&d&&(l.TgZ(0,"div",33),l.YNc(1,zt,2,0,"button",34),l.YNc(2,gn,2,0,"button",34),l.YNc(3,Bn,2,0,"button",34),l.YNc(4,Kt,2,0,"button",34),l.qZA()),2&d){const u=l.oxw();l.xp6(1),l.Q6J("ngIf",!u.showCommentForm),l.xp6(1),l.Q6J("ngIf",u.showCommentForm),l.xp6(1),l.Q6J("ngIf",u.userData&&u.userData.uid==(null==u.recipe?null:u.recipe.uid)),l.xp6(1),l.Q6J("ngIf",u.userData&&u.userData.uid==(null==u.recipe?null:u.recipe.uid))}}function dr(d,w){if(1&d&&(l.TgZ(0,"div"),l._UZ(1,"app-comment-form",36),l.qZA()),2&d){const u=l.oxw();l.xp6(1),l.Q6J("recipeId",u.recipeId)}}function ln(d,w){1&d&&(l.TgZ(0,"div",12),l._UZ(1,"hr"),l.TgZ(2,"p"),l._uU(3,"\xa0\xa0Comments\xa0\xa0"),l.qZA(),l._UZ(4,"hr"),l.qZA())}function Wn(d,w){if(1&d){const u=l.EpF();l.TgZ(0,"span",41),l.NdJ("click",function(){l.CHM(u);const v=l.oxw().$implicit,V=l.oxw(2);return l.KtG(V.deleteComment(v.id))}),l._UZ(1,"i",42),l.qZA()}}function Vn(d,w){if(1&d){const u=l.EpF();l.TgZ(0,"span",41),l.NdJ("click",function(){l.CHM(u);const v=l.oxw().$implicit,V=l.oxw(2);return l.KtG(V.navigateToCommentEdit(v.id))}),l._UZ(1,"i",43),l.qZA()}}function qn(d,w){if(1&d&&(l.TgZ(0,"ul")(1,"li"),l._uU(2),l.qZA(),l.TgZ(3,"li"),l._uU(4),l.qZA(),l.TgZ(5,"li",38)(6,"p"),l._uU(7),l.ALo(8,"date"),l.qZA(),l.TgZ(9,"div",39),l.YNc(10,Wn,2,0,"span",40),l.YNc(11,Vn,2,0,"span",40),l.qZA()(),l._UZ(12,"hr"),l.qZA()),2&d){const u=w.$implicit,p=l.oxw(2);l.xp6(2),l.Oqu(u.name),l.xp6(2),l.Oqu(u.text),l.xp6(3),l.hij(" ",l.xi3(8,5,u.create_time.toDate(),"dd/MM/yyyy HH:mm:ss")," "),l.xp6(3),l.Q6J("ngIf",p.userData&&u.uid==p.userData.uid),l.xp6(1),l.Q6J("ngIf",p.userData&&u.uid==p.userData.uid)}}function Pn(d,w){if(1&d&&(l.TgZ(0,"section",37),l.YNc(1,qn,13,8,"ul",21),l.qZA()),2&d){const u=l.oxw();l.xp6(1),l.Q6J("ngForOf",u.comments)}}let ni=(()=>{class d{constructor(u,p,v,V,J){var _e=this;this.route=u,this.recipeService=p,this.commentService=v,this.userService=V,this.router=J,this.recipe=null,this.recipeId="",this.comments=[],this.showCommentForm=!1,this.route.paramMap.subscribe(function(){var Ne=(0,ge.Z)(function*(Ge){_e.recipeId=Ge.get("id")});return function(Ge){return Ne.apply(this,arguments)}}()),v.getCommentAddedObservable().subscribe((0,ge.Z)(function*(){console.log("Comment successfully added."),yield _e.loadCommentsForRecipe()}))}loadRecipeData(){var u=this;return(0,ge.Z)(function*(){if(u.recipeId)try{u.recipe=yield u.recipeService.getRecipeById(u.recipeId),u.comments=yield u.commentService.getCommentsForRecipe(u.recipeId),console.log("Recipe data loaded successfully.")}catch(p){console.error("An error occurred while loading recipe data:",p)}})()}navigateToRecipeEdit(){var u=this;return(0,ge.Z)(function*(){yield u.router.navigate(["/dashboard/recipe-edit",u.recipeId])})()}navigateToRecipeDelete(){var u=this;return(0,ge.Z)(function*(){yield u.router.navigate(["/dashboard/recipe-delete",u.recipeId])})()}ngOnInit(){var u=this;return(0,ge.Z)(function*(){yield u.loadRecipeData(),u.userService.userData$.subscribe(p=>{p&&(u.userData=p)})})()}toggleCommentForm(){this.showCommentForm=!this.showCommentForm}navigateToCommentEdit(u){var p=this;return(0,ge.Z)(function*(){yield p.router.navigate(["/dashboard/comment-edit",u])})()}deleteComment(u){var p=this;return(0,ge.Z)(function*(){yield p.commentService.deleteComment(u),yield p.loadCommentsForRecipe()})()}updateRecipeLikes(){var u=this;return(0,ge.Z)(function*(){if(u.recipe)if(u.userData){if(u.userData){let p=u.recipe.likes.includes(u.userData.uid);yield u.recipeService.updateRecipeLikes(u.recipeId,u.userData.uid,p)}yield u.loadRecipeData()}else console.error("User is not logged in.");else console.error("Recipe data is missing.")})()}updateFavoriteRecipes(){var u=this;return(0,ge.Z)(function*(){if(u.recipe){if(u.userData&&u.recipeId){let p=u.userData.favoriteRecipes.includes(u.recipeId);yield u.userService.updateFavoriteRecipes(u.recipeId,u.userData.uid,p),yield u.loadRecipeData()}}else console.error("Recipe data is missing.")})()}loadCommentsForRecipe(){var u=this;return(0,ge.Z)(function*(){u.recipeId&&(u.comments=yield u.commentService.getCommentsForRecipe(u.recipeId))})()}static#e=this.\u0275fac=function(p){return new(p||d)(l.Y36(se.gz),l.Y36(sr.j),l.Y36(xe.O),l.Y36(le.K),l.Y36(se.F0))};static#t=this.\u0275cmp=l.Xpm({type:d,selectors:[["app-recipe"]],decls:33,vars:15,consts:[[1,"mainLong"],[1,"headerImage"],[1,"wrapper-list"],[1,"recipe-container"],[1,"title-wrapper"],[1,"title"],[1,"recipe-subtitle"],["class","recipe-summary",4,"ngIf"],[4,"ngIf"],[1,"recipe-hero"],["class","recipe-image",4,"ngIf"],["class","buttons",4,"ngIf"],[1,"divider"],[1,"recipe-description-text","description"],["class","divider",4,"ngIf"],["class","recipe-ingredients",4,"ngFor","ngForOf"],["class","recipe-videos",4,"ngIf"],["class","buttons buttons-img",4,"ngIf"],["class","comments",4,"ngIf"],[1,"recipe-summary"],[1,"recipe-image"],[4,"ngFor","ngForOf"],["alt","Image of a recipe",3,"src"],[1,"buttons"],["class","button",3,"click",4,"ngIf"],[1,"button",3,"click"],[4,"ngIf","ngIfElse"],["notLiked",""],[1,"fa-solid","fa-heart","fa-beat-fade"],[1,"fa-regular","fa-heart","fa-beat-fade"],[1,"recipe-ingredients"],[1,"recipe-videos"],["width","560","height","315","allowfullscreen","",3,"src"],[1,"buttons","buttons-img"],["class","button-img",3,"click",4,"ngIf"],[1,"button-img",3,"click"],[3,"recipeId"],[1,"comments"],[1,"comments-last"],[1,"commentBtnWrapper"],[3,"click",4,"ngIf"],[3,"click"],[1,"fa-solid","fa-trash","fa-shake"],[1,"fa-regular","fa-pen-to-square","fa-flip"]],template:function(p,v){1&p&&(l.TgZ(0,"div",0),l._UZ(1,"div",1),l.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),l._uU(6),l.qZA()(),l.TgZ(7,"h3",6),l._uU(8),l.qZA(),l.YNc(9,xt,2,1,"div",7),l.YNc(10,Bt,2,0,"div",8),l.TgZ(11,"div",9),l.YNc(12,fn,2,1,"ul",10),l.YNc(13,Me,4,3,"div",11),l.TgZ(14,"div",12),l._UZ(15,"hr"),l.TgZ(16,"p"),l._uU(17,"\xa0\xa0Preparation\xa0\xa0"),l.qZA(),l._UZ(18,"hr"),l.qZA(),l._UZ(19,"br"),l.TgZ(20,"p",13),l._uU(21),l.qZA(),l._UZ(22,"br"),l.YNc(23,st,5,0,"div",14),l._UZ(24,"br"),l.YNc(25,Tt,2,1,"ul",15),l.YNc(26,yn,9,1,"div",16),l.YNc(27,tn,5,0,"div",14),l._UZ(28,"br"),l.YNc(29,mr,5,4,"div",17),l.YNc(30,dr,2,1,"div",8),l.YNc(31,ln,5,0,"div",14),l.YNc(32,Pn,2,1,"section",18),l.qZA()()()()),2&p&&(l.xp6(6),l.Oqu(null==v.recipe?null:v.recipe.title),l.xp6(2),l.Oqu(null==v.recipe?null:v.recipe.subtitle),l.xp6(1),l.Q6J("ngIf",null==v.recipe?null:v.recipe.summary),l.xp6(1),l.Q6J("ngIf",!(null!=v.recipe&&v.recipe.summary)),l.xp6(2),l.Q6J("ngIf",(null==v.recipe?null:v.recipe.image_recipe)&&(null==v.recipe||null==v.recipe.image_recipe?null:v.recipe.image_recipe.length)>0),l.xp6(1),l.Q6J("ngIf",v.userData),l.xp6(8),l.hij(" ",null==v.recipe?null:v.recipe.description," "),l.xp6(2),l.Q6J("ngIf",null==v.recipe?null:v.recipe.ingredients),l.xp6(2),l.Q6J("ngForOf",null==v.recipe?null:v.recipe.ingredients),l.xp6(1),l.Q6J("ngIf",(null==v.recipe?null:v.recipe.video_recipe)&&(null==v.recipe||null==v.recipe.video_recipe?null:v.recipe.video_recipe.length)>0),l.xp6(1),l.Q6J("ngIf",v.userData),l.xp6(2),l.Q6J("ngIf",v.userData),l.xp6(1),l.Q6J("ngIf",v.showCommentForm),l.xp6(1),l.Q6J("ngIf",v.comments.length>0),l.xp6(1),l.Q6J("ngIf",v.comments.length>0))},dependencies:[ve.sg,ve.O5,tt,ve.uU,vt.Q],styles:[".recipe-container[_ngcontent-%COMP%]{background-color:var(--backgroundColor);max-width:800px;margin:-50px auto 50px;padding:32px;box-shadow:0 1px 3px #0000004d}.title[_ngcontent-%COMP%]{font-size:28px}.recipe-subtitle[_ngcontent-%COMP%]{font-size:14px;margin-top:-10px;color:var(--mainGreyColor);font-style:italic;white-space:pre-wrap}.recipe-summary[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;text-align:center;font-style:italic;white-space:pre-wrap}.recipe-hero[_ngcontent-%COMP%]{grid-template-columns:70% 30%;gap:20px}ul.recipe-image[_ngcontent-%COMP%]{padding-left:unset}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;margin-bottom:10px}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:5px}.recipe-description-text[_ngcontent-%COMP%]{font-size:16px;white-space:pre-wrap}.recipe-ingredients[_ngcontent-%COMP%]{padding:0 16px}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;list-style-type:disc}.recipe-videos[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-top:20px}.recipe-videos[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;max-width:800px;height:450px}.buttons[_ngcontent-%COMP%]{padding:0 32px;display:flex;justify-content:space-between}.comments[_ngcontent-%COMP%]{border:1px solid var(--mainMagnoliaColor);margin:30px 0;padding:20px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:10px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px;padding-left:5px}.comments[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--mainGreyColor)}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(odd){background-color:var(--backgroundColor);padding-left:5px;border-radius:5px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(2n){background-color:var(--mainMagnoliaColor);font-style:italic;border-radius:5px}.commentBtnWrapper[_ngcontent-%COMP%]{display:flex;gap:10px}.comments-last[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.fa-solid.fa-trash.fa-shake[_ngcontent-%COMP%], .fa-regular.fa-pen-to-square.fa-flip[_ngcontent-%COMP%]{cursor:pointer;color:var(--mainRGBAColor);background-color:var(--backgroundColor);padding:8px 10px;border:3px solid var(--mainRGBAColor);border-radius:50%;transition:1s ease-in-out}.fa-solid.fa-trash.fa-shake[_ngcontent-%COMP%]:hover, .fa-regular.fa-pen-to-square.fa-flip[_ngcontent-%COMP%]:hover{color:var(--backgroundColor);background-color:var(--mainRGBAColor);padding:8px 10px;border:3px solid var(--mainRGBAColor);border-radius:50%}@media (max-width: 640px){.buttons-img[_ngcontent-%COMP%]{flex-direction:column-reverse}}"]})}return d})();function Tn(d,w){1&d&&(l.TgZ(0,"div")(1,"main",2),l._UZ(2,"div",3),l.TgZ(3,"div",4)(4,"div",5)(5,"div",6)(6,"h1",7),l._uU(7," We're sorry, but we couldn't find the result you're looking for! "),l.TgZ(8,"main",8),l.O4$(),l.TgZ(9,"svg",9),l._UZ(10,"rect",10),l.TgZ(11,"g",11)(12,"svg",12)(13,"g")(14,"svg",13)(15,"g",14)(16,"svg",15)(17,"g",16)(18,"svg",17)(19,"g")(20,"svg",15)(21,"g",18)(22,"svg",19),l._UZ(23,"path",20),l.qZA()()()()()()()(),l.TgZ(24,"g",21)(25,"svg",22)(26,"g"),l._UZ(27,"svg"),l.qZA(),l.TgZ(28,"g",23)(29,"svg",22)(30,"g"),l._UZ(31,"path",24)(32,"ellipse",25),l.qZA(),l.TgZ(33,"g",26)(34,"svg",27)(35,"g")(36,"svg",28),l._UZ(37,"path",29),l.qZA()()()()()()()(),l._UZ(38,"g"),l.qZA()(),l._UZ(39,"defs"),l.qZA(),l._UZ(40,"rect",30),l.qZA()()()()()()()()())}const Un=function(d){return["/recipe",d]};function br(d,w){if(1&d&&(l.TgZ(0,"div")(1,"a",35)(2,"div",36)(3,"div",37),l._UZ(4,"img",38),l.qZA(),l.TgZ(5,"p",39),l._uU(6),l.qZA()()()()),2&d){const u=w.$implicit;l.xp6(1),l.Q6J("routerLink",l.VKq(4,Un,u.id)),l.xp6(3),l.s9C("alt",u.title),l.Q6J("src",u.image_recipe[0].image_recipe,l.LSH),l.xp6(2),l.Oqu(u.title)}}function ri(d,w){if(1&d&&(l.TgZ(0,"main",31),l._UZ(1,"div",3),l.TgZ(2,"div",32)(3,"div",6)(4,"h1",7),l._uU(5,"Result"),l.qZA()(),l.TgZ(6,"div",33),l.YNc(7,br,7,6,"div",34),l.qZA()()()),2&d){const u=l.oxw();l.xp6(7),l.Q6J("ngForOf",u.recipes)}}const We=[{path:"",pathMatch:"full",component:(()=>{class d{static#e=this.\u0275fac=function(p){return new(p||d)};static#t=this.\u0275cmp=l.Xpm({type:d,selectors:[["app-carousel"]],decls:24,vars:0,consts:[["id","carouselExampleAutoplaying","data-bs-ride","carousel",1,"carousel","slide"],[1,"overlay"],[1,"info"],[1,"carousel-title"],[1,"subtitle"],["routerLink","/recipes-list",1,"infoBtn"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","https://www.aveeno.com/sites/aveeno_us_2/files/healingherbswithmortaran_687349.jpg","alt","...",1,"carousel-img","d-block","w-100"],[1,"carousel-item"],["src","https://imgix-prod.sgs.com/-/media/sgscorp/images/connectivity-and-products/aromatics-pexels.cdn.en-MU.1.jpg","alt","...",1,"carousel-img","d-block","w-100"],["src","https://images.pexels.com/photos/1793035/pexels-photo-1793035.jpeg","alt","...",1,"carousel-img","d-block","w-100"],["type","button","data-bs-target","#carouselExampleAutoplaying","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleAutoplaying","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(p,v){1&p&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),l._uU(4,"Welcome to our Healing Herbal Recipe Community!"),l.qZA(),l.TgZ(5,"div",4),l._uU(6," Explore a wealth of new herbal recipes designed for healing right here. Upon registration, you'll gain access to not only adding your favorite healing recipes but also rating and commenting on the ones that resonate with you. Join us in nurturing wellness through the power of herbal remedies! "),l.qZA(),l.TgZ(7,"a",5),l._uU(8,"READ MORE"),l.qZA()()(),l.TgZ(9,"div",6)(10,"div",7),l._UZ(11,"img",8),l.qZA(),l.TgZ(12,"div",9),l._UZ(13,"img",10),l.qZA(),l.TgZ(14,"div",9),l._UZ(15,"img",11),l.qZA()(),l.TgZ(16,"button",12),l._UZ(17,"span",13),l.TgZ(18,"span",14),l._uU(19,"Previous"),l.qZA()(),l.TgZ(20,"button",15),l._UZ(21,"span",16),l.TgZ(22,"span",14),l._uU(23,"Next"),l.qZA()()())},dependencies:[se.rH],styles:[".carousel[_ngcontent-%COMP%]{max-height:93vh;overflow:hidden}.carousel-img[_ngcontent-%COMP%]{height:100vh;object-fit:cover}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{z-index:9}.overlay[_ngcontent-%COMP%]{position:absolute;inset:0 50% 0 0;background-color:#a7575ee6;background-color:var(--mainRGBAColor);z-index:9}.info[_ngcontent-%COMP%]{position:absolute;left:47%;right:10%;top:40%;transform:translate(2%,-27%);color:var(--mainWhiteColor);text-align:left}.carousel-title[_ngcontent-%COMP%]{font-size:32px;padding-bottom:20px;font-weight:900;line-height:35px;color:var(--backgroundColor);text-align:left;box-shadow:unset}.subtitle[_ngcontent-%COMP%]{font-style:italic;color:var(--backgroundColor)}.infoBtn[_ngcontent-%COMP%]{background-color:var(--backgroundColor);color:var(--textColor);padding:13px 35px;font-size:14px;margin-top:40px;display:inline-block;font-weight:700;font-family:Roboto,sans-serif;border:1px solid transparent}.infoBtn[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:transparent;border:1px solid var(--backgroundColor);color:var(--mainWhiteColor)}@media (max-width: 460px){.overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#a7575e99;background-color:var(--mainRGBAColor);z-index:9}.info[_ngcontent-%COMP%]{position:absolute;left:10%;right:10%;top:30%;color:var(--mainWhiteColor);text-align:center}.infoBtn[_ngcontent-%COMP%]{margin-top:10px}.carousel-title[_ngcontent-%COMP%]{font-size:26px;padding-bottom:10px;font-weight:900;text-align:center}}@media (min-width: 461px) and (max-width: 767px){.overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#a7575e99;background-color:var(--mainRGBAColor);z-index:9}.info[_ngcontent-%COMP%]{position:absolute;left:10%;right:10%;top:30%;color:var(--mainWhiteColor);text-align:center}.infoBtn[_ngcontent-%COMP%]{margin-top:10px}.carousel-title[_ngcontent-%COMP%]{font-size:26px;padding-bottom:10px;font-weight:900}}@media (min-width: 768px) and (max-width: 1023px){.info[_ngcontent-%COMP%]{position:absolute;left:10%;right:10%;top:30%;color:var(--mainWhiteColor)}}"]})}return d})()},{path:"register",component:ft},{path:"login",component:An},{path:"recipes-list",component:zn},{path:"recipe-search",component:(()=>{class d{constructor(u,p){this.recipeService=u,this.route=p,this.recipes=[],this.result=!1}ngOnInit(){this.route.queryParams.subscribe(u=>{const p=u.search;p&&this.getRecipes(p)})}getRecipes(u){var p=this;return(0,ge.Z)(function*(){const{data:v}=yield p.recipeService.searchRecipesByTitle(u);console.log(v),v.length>0?(p.recipes.push(...v),p.result=!0):p.result=!1})()}static#e=this.\u0275fac=function(p){return new(p||d)(l.Y36(ct.v),l.Y36(se.gz))};static#t=this.\u0275cmp=l.Xpm({type:d,selectors:[["app-recipe-search"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["recipesList",""],[1,"main-short"],[1,"headerImage"],[1,"wrapper"],[2,"max-width","600px","margin","-50px auto 50px auto","padding","32px","background-color","var(--backgroundColor)","border-radius","unset","box-shadow","0 1px 3px 0 rgba(0, 0, 0, 0.3)","display","flex","flex-direction","column","align-items","center"],[1,"title-wrapper"],[1,"title"],[1,"logo-svg"],["viewBox","0 0 640 400","data-background-color","var(--mainWhiteColor)","preserveAspectRatio","xMidYMid meet","height","400","width","640","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink"],["width","640","height","400","x","0","y","0","opacity","1","fill","var(--mainRGBAColor)","data-fill-palette-color","background","id","background"],["id","tight-bounds","transform","matrix(1,0,0,1,168.6873741251188,76.4)"],["viewBox","0 0 302.6252517497624 247.2","height","247.2","width","302.6252517497624"],["viewBox","0 0 395.52 323.08124796157813","height","247.2","width","302.6252517497624"],["transform","matrix(1,0,0,1,0,240.1001478205344)"],["viewBox","0 0 395.52 82.98110014104373","height","82.98110014104373","width","395.52"],["id","textblocktransform"],["viewBox","0 0 395.52 82.98110014104373","height","82.98110014104373","width","395.52","id","textblock"],["transform","matrix(1,0,0,1,0,0)"],["width","395.52","viewBox","0.15000000596046448 -37.939998626708984 276.9100036621094 58.11000061035156","height","82.98110014104373","data-palette-color","var(--mainWhiteColor)"],["d","M8.3-27.15L0.15-26.51 0.93-29.05Q0.98-29.1 1.68-29.17 2.39-29.25 3.56-29.37 4.74-29.49 6.2-29.64 7.67-29.79 9.2-29.93 10.74-30.08 12.23-30.22 13.72-30.37 14.99-30.52L14.99-30.52Q14.99-30.52 15.43-30.52 15.87-30.52 16.41-30.52 16.94-30.52 17.43-30.52 17.92-30.52 18.07-30.52L18.07-30.52Q19.24-30.52 19.68-30.08 20.12-29.64 20.12-28.17L20.12-28.17 11.23-27.15Q11.13-24.07 11.33-20.7 11.52-17.33 11.82-13.89 12.11-10.45 12.38-7.08 12.65-3.71 12.65-0.63L12.65-0.63Q12.65-0.2 12.38-0.02 12.11 0.15 11.74 0.2 11.38 0.24 10.99 0.17 10.6 0.1 10.3 0L10.3 0Q10.16-0.63 10.01-2.2 9.86-3.76 9.72-5.86 9.57-7.96 9.42-10.4 9.28-12.84 9.13-15.28 8.98-17.72 8.84-19.95 8.69-22.17 8.59-23.85 8.5-25.54 8.42-26.46 8.35-27.39 8.3-27.15L8.3-27.15ZM20.07-33.74L21.68-33.5 22.95-17.48Q23.29-17.77 23.83-18.36 24.36-18.95 25.1-19.46 25.83-19.97 26.71-20.34 27.59-20.7 28.61-20.65L28.61-20.65Q30.61-20.46 31.81-19.04 33.01-17.63 33.62-15.58 34.23-13.53 34.42-11.11 34.62-8.69 34.54-6.49 34.47-4.3 34.3-2.59 34.13-0.88 34.03-0.24L34.03-0.24 32.27-0.49Q32.27-0.93 32.3-1.88 32.32-2.83 32.37-4.13 32.42-5.42 32.42-6.84 32.42-8.25 32.44-9.5 32.47-10.74 32.44-11.72 32.42-12.7 32.37-13.09L32.37-13.09Q32.42-14.45 31.83-15.72 31.25-16.99 30.27-17.65 29.29-18.31 27.93-18.09 26.56-17.87 25-16.16L25-16.16Q23.63-14.11 23-12.13 22.36-10.16 22.17-8.23 21.97-6.3 22.02-4.27 22.07-2.25 22.02 0L22.02 0 20.11-0.29Q20.26-0.83 20.33-2.27 20.41-3.71 20.46-5.74 20.51-7.76 20.53-10.25 20.55-12.74 20.53-15.41 20.51-18.07 20.46-20.75 20.41-23.44 20.33-25.88 20.26-28.32 20.19-30.37 20.11-32.42 20.07-33.74L20.07-33.74ZM36.86-11.47L36.86-11.47Q36.86-12.94 37.5-14.72 38.13-16.5 39.23-18.04 40.33-19.58 41.72-20.63 43.11-21.68 44.62-21.68L44.62-21.68Q45.45-21.68 46.26-21.34 47.07-21 47.82-20.43 48.58-19.87 49.19-19.17 49.8-18.46 50.14-17.68 50.48-16.89 50.51-16.16 50.53-15.43 50.09-14.89L50.09-14.89 39.79-12.99Q39.59-12.94 39.45-12.52 39.3-12.11 39.2-11.47 39.11-10.84 39.03-10.08 38.96-9.33 38.91-8.62 38.86-7.91 38.86-7.35 38.86-6.79 38.86-6.49L38.86-6.49Q38.86-5.13 39.52-4.27 40.18-3.42 41.21-2.98 42.23-2.54 43.53-2.39 44.82-2.25 46.09-2.25 47.36-2.25 48.48-2.34 49.6-2.44 50.34-2.44L50.34-2.44Q50.34-2.25 50.19-2 50.04-1.76 49.85-1.54 49.65-1.32 49.46-1.15 49.26-0.98 49.21-0.93L49.21-0.93Q48.82-0.83 48.02-0.66 47.21-0.49 46.31-0.34 45.41-0.2 44.62-0.1 43.84 0 43.55 0L43.55 0Q42.04 0.29 40.91-0.05 39.79-0.39 39.01-1.22 38.23-2.05 37.74-3.25 37.25-4.44 37.01-5.81 36.76-7.18 36.74-8.64 36.71-10.11 36.86-11.47ZM43.94-19.82L43.94-19.82Q43.5-19.82 42.79-19.36 42.08-18.9 41.47-18.19 40.86-17.48 40.45-16.67 40.03-15.87 40.18-15.28L40.18-15.28Q41.45-15.14 42.82-15.33 44.18-15.53 45.31-15.94 46.43-16.36 47.16-16.92 47.9-17.48 47.87-18.07 47.85-18.65 46.94-19.12 46.04-19.58 43.94-19.82ZM93.06 0L74.31-29.05Q74.31-28.91 74.28-28.42 74.26-27.93 74.26-27.42 74.26-26.9 74.26-26.44 74.26-25.98 74.26-25.83L74.26-25.83Q74.26-22.66 74.4-19.48 74.55-16.31 74.75-13.11 74.94-9.91 75.09-6.69 75.23-3.47 75.23-0.24L75.23-0.24 73.48-0.34Q73.43-1.27 73.31-2.93 73.18-4.59 73.01-6.76 72.84-8.94 72.65-11.43 72.45-13.92 72.23-16.48 72.01-19.04 71.87-21.53 71.72-24.02 71.6-26.15 71.47-28.27 71.43-29.91 71.38-31.54 71.43-32.42L71.43-32.42Q71.43-33.01 71.87-33.4 72.3-33.79 72.89-33.79L72.89-33.79Q73.48-33.79 74.23-33.52 74.99-33.25 75.23-32.81L75.23-32.81 92.81-4.44Q92.81-6.69 92.69-9.28 92.57-11.87 92.47-14.6 92.37-17.33 92.35-20.09 92.32-22.85 92.45-25.46 92.57-28.08 92.93-30.42 93.3-32.76 93.98-34.67L93.98-34.67Q94.67-34.91 95.06-34.94 95.45-34.96 95.64-34.91 95.84-34.86 95.86-34.67 95.89-34.47 95.89-34.28L95.89-34.28Q95.89-34.18 95.89-33.98 95.89-33.79 95.89-33.74L95.89-33.74Q95.79-33.45 95.67-32.67 95.55-31.88 95.35-30.35 95.16-28.81 95.01-26.37 94.86-23.93 94.72-20.31 94.57-16.7 94.5-11.72 94.42-6.74 94.47-0.1L94.47-0.1 93.06 0ZM97.74-4.2L97.74-4.2Q97.74-6.98 99.28-8.25 100.82-9.52 103.31-9.52L103.31-9.52Q104.28-9.52 105.14-9.47 105.99-9.42 106.77-9.23 107.56-9.03 108.31-8.64 109.07-8.25 109.9-7.52L109.9-7.52Q109.9-7.67 109.92-8.13 109.95-8.59 109.95-9.13 109.95-9.67 109.95-10.13 109.95-10.6 109.95-10.79L109.95-10.79Q109.9-11.67 109.9-13.06 109.9-14.45 109.68-15.92 109.46-17.38 108.8-18.7 108.14-20.02 106.68-20.7L106.68-20.7Q105.65-20.7 104.77-20.36 103.89-20.02 103.01-19.63 102.14-19.24 101.26-18.92 100.38-18.6 99.35-18.6L99.35-18.6Q99.35-19.82 100.11-20.63 100.87-21.44 101.94-21.88 103.01-22.31 104.19-22.46 105.36-22.61 106.24-22.61L106.24-22.61Q107.12-22.46 107.87-22.27 108.63-22.07 109.29-21.48 109.95-20.9 110.51-19.7 111.07-18.51 111.49-16.36 111.9-14.21 112.22-10.91 112.54-7.62 112.73-2.83L112.73-2.83Q112.83-2.2 112.32-1.73 111.8-1.27 110.93-0.95 110.05-0.63 108.95-0.42 107.85-0.2 106.73-0.1 105.6 0 104.58 0.05 103.55 0.1 102.87 0.1L102.87 0.1Q101.99 0.1 101.09-0.2 100.18-0.49 99.43-1.05 98.67-1.61 98.21-2.42 97.74-3.22 97.74-4.2ZM104.09-7.62L104.09-7.62Q101.65-6.93 100.67-5.98 99.69-5.03 99.82-4.15 99.94-3.27 100.96-2.56 101.99-1.86 103.45-1.64 104.92-1.42 106.63-1.88 108.34-2.34 109.9-3.71L109.9-3.71Q109.31-5.13 108.73-5.88 108.14-6.64 107.46-7.03 106.77-7.42 105.94-7.52 105.11-7.62 104.09-7.62ZM120.64-17.72L120.64-17.72Q120.2-17.87 119.44-17.85 118.69-17.82 117.83-17.75 116.98-17.68 116.2-17.58 115.41-17.48 114.88-17.48L114.88-17.48Q114.63-17.48 114.56-18.19 114.49-18.9 114.34-20.12L114.34-20.12 121.23-20.61Q121.37-22.31 121.42-23.05 121.47-23.78 121.44-24.29 121.42-24.8 121.4-25.46 121.37-26.12 121.37-27.54L121.37-27.54Q122.64-27.73 123.3-27.66 123.96-27.59 124.2-27.29 124.45-27 124.42-26.44 124.4-25.88 124.28-25.05 124.15-24.22 124.08-23.05 124.01-21.88 124.15-20.41L124.15-20.41 130.01-20.61 130.01-18.21Q129.62-18.21 128.79-18.16 127.96-18.12 127.01-18.07 126.06-18.02 125.25-17.97 124.45-17.92 124.06-17.77L124.06-17.77Q123.67-16.02 123.23-14.01 122.79-12.01 122.64-10.06 122.49-8.11 122.74-6.42 122.98-4.74 123.96-3.64 124.94-2.54 126.74-2.12 128.55-1.71 131.53-2.39L131.53-2.39Q131.43-1.66 130.97-1.2 130.5-0.73 129.89-0.46 129.28-0.2 128.6-0.07 127.91 0.05 127.38 0.05L127.38 0.05Q124.89 0.05 123.42-0.85 121.96-1.76 121.23-3.22 120.49-4.69 120.3-6.57 120.1-8.45 120.18-10.4 120.25-12.35 120.44-14.26 120.64-16.16 120.64-17.72ZM133.19-18.95L133.19-18.95Q133.19-19.19 133.5-19.43 133.82-19.68 134.28-19.82 134.75-19.97 135.19-20.02 135.63-20.07 135.82-19.87L135.82-19.87Q136.12-13.82 136.97-10.23 137.82-6.64 138.92-4.98 140.02-3.32 141.29-3.3 142.56-3.27 143.78-4.37 145-5.47 146.05-7.37 147.1-9.28 147.76-11.47 148.42-13.67 148.57-15.87 148.71-18.07 148.18-19.78L148.18-19.78 151.11-20.12Q151.15-19.38 151.37-17.7 151.59-16.02 151.86-13.89 152.13-11.77 152.47-9.47 152.81-7.18 153.06-5.2 153.3-3.22 153.5-1.83 153.69-0.44 153.69-0.1L153.69-0.1 151.59-0.1 149.3-8.54Q148.62-6.84 147.64-5.27 146.66-3.71 145.51-2.54 144.37-1.37 143.1-0.71 141.83-0.05 140.58-0.17 139.34-0.29 138.17-1.32 136.99-2.34 135.99-4.57 134.99-6.79 134.26-10.3 133.53-13.82 133.19-18.95ZM155.25-19.04L155.25-19.04Q155.84-19.29 156.28-19.14 156.72-18.99 157.01-18.6 157.3-18.21 157.45-17.7 157.6-17.19 157.69-16.7L157.69-16.7Q158.33-17.77 159.53-18.43 160.72-19.09 162.09-19.31 163.46-19.53 164.82-19.41 166.19-19.29 167.14-18.82 168.1-18.36 168.49-17.55 168.88-16.75 168.29-15.67L168.29-15.67Q167.02-16.41 165.63-16.85 164.24-17.29 162.92-17.14 161.6-16.99 160.48-16.14 159.36-15.28 158.62-13.43 157.89-11.57 157.72-8.52 157.55-5.47 158.13-0.93L158.13-0.93 156.28-0.93Q156.28-0.93 156.21-1.73 156.13-2.54 156.06-3.86 155.99-5.18 155.86-6.79 155.74-8.4 155.64-10.06 155.55-11.72 155.47-13.26 155.4-14.79 155.3-15.92L155.3-15.92Q155.3-16.06 155.28-16.5 155.25-16.94 155.25-17.46 155.25-17.97 155.25-18.41 155.25-18.85 155.25-19.04ZM170.49-4.2L170.49-4.2Q170.49-6.98 172.02-8.25 173.56-9.52 176.05-9.52L176.05-9.52Q177.03-9.52 177.88-9.47 178.74-9.42 179.52-9.23 180.3-9.03 181.06-8.64 181.81-8.25 182.64-7.52L182.64-7.52Q182.64-7.67 182.67-8.13 182.69-8.59 182.69-9.13 182.69-9.67 182.69-10.13 182.69-10.6 182.69-10.79L182.69-10.79Q182.64-11.67 182.64-13.06 182.64-14.45 182.42-15.92 182.2-17.38 181.54-18.7 180.89-20.02 179.42-20.7L179.42-20.7Q178.4-20.7 177.52-20.36 176.64-20.02 175.76-19.63 174.88-19.24 174-18.92 173.12-18.6 172.1-18.6L172.1-18.6Q172.1-19.82 172.85-20.63 173.61-21.44 174.68-21.88 175.76-22.31 176.93-22.46 178.1-22.61 178.98-22.61L178.98-22.61Q179.86-22.46 180.62-22.27 181.37-22.07 182.03-21.48 182.69-20.9 183.25-19.7 183.82-18.51 184.23-16.36 184.65-14.21 184.96-10.91 185.28-7.62 185.48-2.83L185.48-2.83Q185.57-2.2 185.06-1.73 184.55-1.27 183.67-0.95 182.79-0.63 181.69-0.42 180.59-0.2 179.47-0.1 178.35 0 177.32 0.05 176.3 0.1 175.61 0.1L175.61 0.1Q174.73 0.1 173.83-0.2 172.93-0.49 172.17-1.05 171.41-1.61 170.95-2.42 170.49-3.22 170.49-4.2ZM176.83-7.62L176.83-7.62Q174.39-6.93 173.42-5.98 172.44-5.03 172.56-4.15 172.68-3.27 173.71-2.56 174.73-1.86 176.2-1.64 177.66-1.42 179.37-1.88 181.08-2.34 182.64-3.71L182.64-3.71Q182.06-5.13 181.47-5.88 180.89-6.64 180.2-7.03 179.52-7.42 178.69-7.52 177.86-7.62 176.83-7.62ZM188.6-37.94L188.6-37.94Q189.28-37.84 189.79-37.57 190.31-37.3 190.6-36.62L190.6-36.62Q190.6-35.69 190.67-34.06 190.75-32.42 190.82-30.27 190.89-28.13 190.99-25.63 191.09-23.14 191.19-20.61 191.28-18.07 191.36-15.58 191.43-13.09 191.5-10.94 191.58-8.79 191.63-7.13 191.67-5.47 191.72-4.59L191.72-4.59Q191.72-4.49 191.7-4.25 191.67-4 191.65-3.66 191.63-3.32 191.6-3 191.58-2.69 191.58-2.54L191.58-2.54Q191.53-2.25 191.53-1.83 191.53-1.42 191.43-1.03 191.33-0.63 191.11-0.32 190.89 0 190.4 0.05L190.4 0.05 189.57-0.98Q189.53-1.03 189.45-2.81 189.38-4.59 189.26-7.45 189.14-10.3 189.04-13.89 188.94-17.48 188.82-21.14 188.7-24.8 188.6-28.17 188.5-31.54 188.45-33.98L188.45-33.98Q188.45-34.18 188.48-34.77 188.5-35.35 188.52-35.96 188.55-36.57 188.57-37.13 188.6-37.7 188.6-37.94ZM226.58-17.58L226.58-17.58Q226.43-17.04 226.12-15.87 225.8-14.7 225.39-13.23 224.97-11.77 224.51-10.16 224.04-8.54 223.6-7.08 223.16-5.62 222.82-4.47 222.48-3.32 222.33-2.83L222.33-2.83Q222.24-2.34 222.04-1.78 221.85-1.22 221.6-0.93 221.36-0.63 221.06-0.78 220.77-0.93 220.48-1.86L220.48-1.86 212.96-35.64Q213.1-35.64 213.45-35.72 213.79-35.79 213.93-35.79L213.93-35.79Q214.91-35.79 215.23-35.38 215.55-34.96 215.79-33.74L215.79-33.74 221.41-8.4 225.17-20.61Q225.36-21.19 225.73-21.39 226.09-21.58 226.58-21.58L226.58-21.58Q226.97-21.19 227.7-20.14 228.44-19.09 229.29-17.7 230.15-16.31 231.07-14.72 232-13.13 232.86-11.72 233.71-10.3 234.39-9.16 235.08-8.01 235.47-7.52L235.47-7.52Q235.61-7.28 235.98-6.86 236.35-6.45 236.79-6.01 237.23-5.57 237.67-5.18 238.1-4.79 238.3-4.69L238.3-4.69Q238.25-6.3 238.15-8.52 238.06-10.74 237.96-13.33 237.86-15.92 237.84-18.73 237.81-21.53 237.93-24.29 238.06-27.05 238.35-29.61 238.64-32.18 239.13-34.33L239.13-34.33Q239.23-34.67 239.4-34.84 239.57-35.01 239.79-35.06 240.01-35.11 240.38-35.08 240.74-35.06 241.18-35.06L241.18-35.06Q241.18-34.52 241.13-33.76 241.08-33.01 240.99-31.62 240.89-30.22 240.79-27.88 240.69-25.54 240.57-21.83 240.45-18.12 240.35-12.77 240.25-7.42 240.16 0L240.16 0Q238.06-1.66 236.25-3.71 234.44-5.76 232.83-8.08 231.22-10.4 229.68-12.82 228.14-15.23 226.58-17.58ZM243.18-4.2L243.18-4.2Q243.18-6.98 244.72-8.25 246.26-9.52 248.75-9.52L248.75-9.52Q249.72-9.52 250.58-9.47 251.43-9.42 252.21-9.23 252.99-9.03 253.75-8.64 254.51-8.25 255.34-7.52L255.34-7.52Q255.34-7.67 255.36-8.13 255.39-8.59 255.39-9.13 255.39-9.67 255.39-10.13 255.39-10.6 255.39-10.79L255.39-10.79Q255.34-11.67 255.34-13.06 255.34-14.45 255.12-15.92 254.9-17.38 254.24-18.7 253.58-20.02 252.12-20.7L252.12-20.7Q251.09-20.7 250.21-20.36 249.33-20.02 248.45-19.63 247.57-19.24 246.7-18.92 245.82-18.6 244.79-18.6L244.79-18.6Q244.79-19.82 245.55-20.63 246.31-21.44 247.38-21.88 248.45-22.31 249.63-22.46 250.8-22.61 251.68-22.61L251.68-22.61Q252.56-22.46 253.31-22.27 254.07-22.07 254.73-21.48 255.39-20.9 255.95-19.7 256.51-18.51 256.93-16.36 257.34-14.21 257.66-10.91 257.98-7.62 258.17-2.83L258.17-2.83Q258.27-2.2 257.76-1.73 257.24-1.27 256.36-0.95 255.49-0.63 254.39-0.42 253.29-0.2 252.16-0.1 251.04 0 250.02 0.05 248.99 0.1 248.31 0.1L248.31 0.1Q247.43 0.1 246.53-0.2 245.62-0.49 244.86-1.05 244.11-1.61 243.64-2.42 243.18-3.22 243.18-4.2ZM249.53-7.62L249.53-7.62Q247.09-6.93 246.11-5.98 245.13-5.03 245.26-4.15 245.38-3.27 246.4-2.56 247.43-1.86 248.89-1.64 250.36-1.42 252.07-1.88 253.78-2.34 255.34-3.71L255.34-3.71Q254.75-5.13 254.17-5.88 253.58-6.64 252.9-7.03 252.21-7.42 251.38-7.52 250.55-7.62 249.53-7.62ZM271.79 20.17L269.59 20.02Q269.59 17.58 270.03 14.99 270.47 12.4 270.94 9.81 271.4 7.23 271.72 4.64 272.04 2.05 271.79-0.44L271.79-0.44 259.63-21.04Q260.71-22.02 261.34-22.14 261.98-22.27 262.07-22.17L262.07-22.17Q262.42-21.68 263.22-20.36 264.03-19.04 265.08-17.29 266.13-15.53 267.3-13.57 268.47-11.62 269.52-9.86 270.57-8.11 271.33-6.74 272.08-5.37 272.38-4.83L272.38-4.83 274.62-22.95 277.06-21.73 271.79 20.17Z","opacity","1","transform","matrix(1,0,0,1,0,0)","fill","var(--mainWhiteColor)","data-fill-palette-color","primary","id","text-0",1,"wordmark-text-0"],["transform","matrix(1,0,0,1,97.29977228662983,0)"],["viewBox","0 0 200.92045542674032 200.92045542674032","height","200.92045542674032","width","200.92045542674032"],["id","icon-0"],["d","M0 100.46c0-55.483 44.978-100.46 100.46-100.46 55.483 0 100.46 44.978 100.46 100.46 0 55.483-44.978 100.46-100.46 100.46-55.483 0-100.46-44.978-100.46-100.46zM100.46 193.437c51.35 0 92.977-41.627 92.977-92.977 0-51.35-41.627-92.977-92.977-92.977-51.35 0-92.977 41.627-92.977 92.977 0 51.35 41.627 92.977 92.977 92.977z","data-fill-palette-color","accent","fill","var(--mainWhiteColor)","stroke","transparent"],["rx","99.45562543623646","ry","99.45562543623646","cx","100.46022771337016","cy","100.46022771337016","fill","var(--mainWhiteColor)","stroke","transparent","stroke-width","0","fill-opacity","1","data-fill-palette-color","accent"],["transform","matrix(1,0,0,1,43.57436241056036,43.35758026693677)"],["viewBox","0 0 113.7717306056196 114.20529489286677","height","114.20529489286677","width","113.7717306056196"],["xmlns","http://www.w3.org/2000/svg","data-name","Layer 1","viewBox","1.190000057220459 1.002901315689087 97.62506866455078 97.99710083007812","x","0","y","0","height","114.20529489286677","width","113.7717306056196","data-fill-palette-color","quaternary","id","b-0",1,"icon-b-0"],["d","M79.28 26.63a0.3 0.3 0 0 0 0-0.07 0.28 0.28 0 0 0-0.48-0.19l-7 7a20.24 20.24 0 0 0-6 13v1.87a37.5 37.5 0 0 1 1.67 5.15H54.79a32.9 32.9 0 0 0-5.43-15.13 26.9 26.9 0 0 1-7.74 5.77 22.2 22.2 0 0 1-6.34 2.06c-9.9 1.51-22.3-5-28.35-41.61a1.86 1.86 0 0 1 1.55-2.05c47.44-6.69 50.2 11.7 47.85 22.85a51.5 51.5 0 0 0-19.69-6.14h-0.11a0.43 0.43 0 0 0-0.18 0.76l11.58 8.5 5.84 4.31a37.3 37.3 0 0 1 6.08 5.85 24.8 24.8 0 0 1 5-6.15 17.7 17.7 0 0 1-2.54-5 14.8 14.8 0 0 1-0.65-4.41c0-6.65 5.53-14.14 30.18-14.44a1.23 1.23 0 0 1 1.24 1.23c-0.38 31.82-12.74 31.78-19.82 29.12a34.2 34.2 0 0 0 6.02-12.28M28.65 93h34.63a16.16 16.16 0 0 0 12.18-5.54l21.68-24.79a6.79 6.79 0 0 0-0.79-9.7 6.55 6.55 0 0 0-4.2-1.49 7.24 7.24 0 0 0-5.38 2.43l-10.2 11.35v0.16a11.85 11.85 0 0 1-11.89 11.26H52.21a2.54 2.54 0 1 1 0-5.08h12.47a6.72 6.72 0 0 0 6.81-6.34A6.54 6.54 0 0 0 65 58.52H44.19l-3.37-1.18a23.42 23.42 0 0 0-24.26 5.49L1.19 78.1 22.64 99Z","fill","var(--textColor)","data-fill-palette-color","quaternary"],["width","302.6252517497624","height","247.2","fill","none","stroke","none","visibility","hidden"],[1,"main-long"],[1,"wrapper-list"],[1,"recipe-list"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"recipe-item"],[1,"recipe-image"],[3,"src","alt"],[1,"recipe-title"]],template:function(p,v){if(1&p&&(l.YNc(0,Tn,41,0,"div",0),l.YNc(1,ri,8,1,"ng-template",null,1,l.W1O)),2&p){const V=l.MAs(2);l.Q6J("ngIf",!v.result)("ngIfElse",V)}},dependencies:[ve.sg,ve.O5,se.rH],styles:[".wrapper-list[_ngcontent-%COMP%]{margin:-50px auto 50px;max-width:1200px;background-color:var(--backgroundColor);box-shadow:0 1px 3px #0000004d;padding:32px}.title-wrapper[_ngcontent-%COMP%]{margin-left:10px}.recipe-list[_ngcontent-%COMP%]{position:relative;display:grid;grid-template-columns:repeat(4,1fr);row-gap:20px;margin-bottom:100px}.recipe-item[_ngcontent-%COMP%]{margin:5px;position:relative}.recipe-image[_ngcontent-%COMP%]{padding:5px;position:relative;transition:transform 1s ease-in-out}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;width:100%;object-fit:fill}.recipe-item[_ngcontent-%COMP%]:hover   .recipe-image[_ngcontent-%COMP%]{transform:translateY(12%)}@media only screen and (max-width: 460px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 20px 50px;padding:16px}.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 461px) and (max-width: 767px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 768px) and (max-width: 1023px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);column-gap:10px;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}@media (min-width: 1024px) and (max-width: 1440px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);column-gap:10px;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}"]})}return d})()},{path:"recipe/:id",component:ni},{path:"dashboard",loadChildren:()=>Y.e(155).then(Y.bind(Y,3155)).then(d=>d.PrivateModule)}];let yt=(()=>{class d{static#e=this.\u0275fac=function(p){return new(p||d)};static#t=this.\u0275mod=l.oAB({type:d});static#n=this.\u0275inj=l.cJS({imports:[se.Bz.forRoot(We,{useHash:!0}),se.Bz]})}return d})(),jt=(()=>{class d{static#e=this.\u0275fac=function(p){return new(p||d)};static#t=this.\u0275cmp=l.Xpm({type:d,selectors:[["app-footer"]],decls:25,vars:0,consts:[[1,"footer"],[1,"footer-links"],["href","/about"],["href","/contact"],["href","/terms"],["href","/privacy"],[1,"social-icons"],["href","https://www.facebook.com"],[1,"fa-brands","fa-facebook","fa-flip"],["href","https://www.twitter.com"],[1,"fa-brands","fa-x-twitter","fa-flip"],["href","https://www.instagram.com"],[1,"fa-brands","fa-instagram","fa-flip"],[1,"copyright"],[1,"projectInfo"]],template:function(p,v){1&p&&(l.TgZ(0,"footer",0)(1,"div",1)(2,"a",2),l._uU(3,"About Us"),l.qZA(),l._uU(4," | "),l.TgZ(5,"a",3),l._uU(6,"Contact Us"),l.qZA(),l._uU(7," | "),l.TgZ(8,"a",4),l._uU(9,"Terms of Service"),l.qZA(),l._uU(10," | "),l.TgZ(11,"a",5),l._uU(12,"Privacy Policy"),l.qZA()(),l.TgZ(13,"div",6)(14,"a",7),l._UZ(15,"i",8),l.qZA(),l.TgZ(16,"a",9),l._UZ(17,"i",10),l.qZA(),l.TgZ(18,"a",11),l._UZ(19,"i",12),l.qZA()(),l.TgZ(20,"div",13)(21,"div",14),l._uU(22," This project was developed to meet the requirements of the Angular Project Assignment within the 'Angular - February 2024' course at SoftUni. "),l.qZA(),l.TgZ(23,"span"),l._uU(24," \xa9 2024 The Natural Way. All Rights Reserved. "),l.qZA()()())},styles:[".footer[_ngcontent-%COMP%]{background-color:var(--aliceBlueColor);padding:20px;color:#333;font-size:14px;text-align:center}.footer-links[_ngcontent-%COMP%]{padding:20px 0}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#666;text-decoration:none;margin:0 10px}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--mainBlackColor)}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#666;text-decoration:none;margin:0 10px}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#3b5998}.copyright[_ngcontent-%COMP%]{margin-top:20px;font-size:12px;color:#999}.projectInfo[_ngcontent-%COMP%]{margin-bottom:10px}"]})}return d})();var $t=Y(5619);function kn(d,w){1&d&&(l.TgZ(0,"li",19)(1,"a",20),l._UZ(2,"i",27),l.qZA(),l.TgZ(3,"ul",28)(4,"li")(5,"a",29),l._uU(6,"Register"),l.qZA()(),l.TgZ(7,"li")(8,"a",30),l._uU(9,"Login"),l.qZA()(),l.TgZ(10,"li"),l._UZ(11,"hr",31),l.qZA(),l.TgZ(12,"li")(13,"a",32),l._uU(14,"Something else here"),l.qZA()()()())}function Z(d,w){if(1&d){const u=l.EpF();l.TgZ(0,"li",19)(1,"a",20)(2,"span"),l._uU(3),l.qZA()(),l.TgZ(4,"ul",28)(5,"li")(6,"a",33),l._uU(7,"My recipes"),l.qZA()(),l.TgZ(8,"li")(9,"a",34),l._uU(10,"Create recipe"),l.qZA()(),l.TgZ(11,"li")(12,"a",35),l._uU(13,"Favorite recipes"),l.qZA()(),l.TgZ(14,"li")(15,"a",36),l._uU(16,"My comments"),l.qZA()(),l.TgZ(17,"li")(18,"a",37),l._uU(19,"Profile"),l.qZA()(),l.TgZ(20,"li")(21,"a",38),l.NdJ("click",function(){l.CHM(u);const v=l.oxw();return l.KtG(v.logout())}),l._uU(22,"Logout"),l.qZA()()()()}if(2&d){const u=l.oxw();l.xp6(3),l.Oqu(u.getUserDisplayName())}}function L(d,w){1&d&&(l.TgZ(0,"div",40),l._uU(1," What are you searching for? "),l.qZA())}function H(d,w){1&d&&(l.TgZ(0,"div",40),l._uU(1," Min length is a 3 char! "),l.qZA())}function W(d,w){if(1&d&&(l.TgZ(0,"div"),l.YNc(1,L,2,0,"div",39),l.YNc(2,H,2,0,"div",39),l.qZA()),2&d){const u=l.oxw();let p,v;l.xp6(1),l.Q6J("ngIf",null==(p=u.searchForm.get("search"))||null==p.errors?null:p.errors.required),l.xp6(1),l.Q6J("ngIf",null==(v=u.searchForm.get("search"))||null==v.errors?null:v.errors.minlength)}}let j=(()=>{class d{constructor(u,p,v,V){this.userService=u,this.router=p,this.fb=v,this.elementRef=V,this.searchForm=this.fb.group({search:[""]}),this.isMenuOpen=!1,this.userDataSubject=new $t.X(null),this.userDataSubscription=this.userDataSubject.subscribe(J=>{this.userData=J,console.log(this.userData)})}ngOnInit(){this.userService.userData$.subscribe({next:u=>{u?(this.userDataSubject.next(u),console.log("You have a user:",u)):(this.userDataSubject.next(null),console.log("You have no user."))},error:u=>{console.log(u)}}),this.router.events.subscribe(u=>{if(u instanceof se.m2){const p=this.elementRef.nativeElement.querySelector("#navbarScroll");p&&p.classList.remove("show")}})}onSubmit(){var u=this;return(0,ge.Z)(function*(){if(u.searchForm.valid){let p=u.searchForm.value;p&&p.search?(yield u.router.navigate(["/recipe-search"],{queryParams:{search:p.search.trim()}}),u.searchForm.reset()):console.error("Query search value is null or undefined.")}else alert("Try again!")})()}ngOnDestroy(){this.userDataSubscription.unsubscribe()}logout(){var u=this;return(0,ge.Z)(function*(){yield u.userService.logoutUser()})()}getUserDisplayName(){return this.userData?this.userData.lastName:"Anonymous"}static#e=this.\u0275fac=function(p){return new(p||d)(l.Y36(le.K),l.Y36(se.F0),l.Y36(fe.qu),l.Y36(l.SBq))};static#t=this.\u0275cmp=l.Xpm({type:d,selectors:[["app-header"]],decls:34,vars:4,consts:[[1,"navbar","navbar-dark","navbar-expand-lg"],[1,"container-fluid"],[1,"header-wrapper"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarScroll","aria-controls","navbarScroll","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","hamburger"],[1,"fa-solid","fa-bars","fa-beat-fade"],["href","#",1,"navbar-brand"],["viewBox","0 0 200.92045542674032 200.92045542674032","height","50","width","50",1,"svg-logo"],["d","M0 100.46c0-55.483 44.978-100.46 100.46-100.46 55.483 0 100.46 44.978 100.46 100.46 0 55.483-44.978 100.46-100.46 100.46-55.483 0-100.46-44.978-100.46-100.46zM100.46 193.437c51.35 0 92.977-41.627 92.977-92.977 0-51.35-41.627-92.977-92.977-92.977-51.35 0-92.977 41.627-92.977 92.977 0 51.35 41.627 92.977 92.977 92.977z","data-fill-palette-color","accent","fill","var(--aliceBlueColor)","stroke","transparent"],["rx","99.45562543623646","ry","99.45562543623646","cx","100.46022771337016","cy","100.46022771337016","fill","var(--mainRGBAColor)","stroke","transparent","stroke-width","0","fill-opacity","1","data-fill-palette-color","accent"],["transform","matrix(1,0,0,1,43.57436241056036,43.35758026693677)"],["viewBox","0 0 113.7717306056196 114.20529489286677","height","114.20529489286677","width","113.7717306056196"],["xmlns","http://www.w3.org/2000/svg","data-name","Layer 1","viewBox","1.190000057220459 1.002901315689087 97.62506866455078 97.99710083007812","x","0","y","0","height","114.20529489286677","width","113.7717306056196","data-fill-palette-color","quaternary","id","b-0",1,"icon-b-0"],["d","M79.28 26.63a0.3 0.3 0 0 0 0-0.07 0.28 0.28 0 0 0-0.48-0.19l-7 7a20.24 20.24 0 0 0-6 13v1.87a37.5 37.5 0 0 1 1.67 5.15H54.79a32.9 32.9 0 0 0-5.43-15.13 26.9 26.9 0 0 1-7.74 5.77 22.2 22.2 0 0 1-6.34 2.06c-9.9 1.51-22.3-5-28.35-41.61a1.86 1.86 0 0 1 1.55-2.05c47.44-6.69 50.2 11.7 47.85 22.85a51.5 51.5 0 0 0-19.69-6.14h-0.11a0.43 0.43 0 0 0-0.18 0.76l11.58 8.5 5.84 4.31a37.3 37.3 0 0 1 6.08 5.85 24.8 24.8 0 0 1 5-6.15 17.7 17.7 0 0 1-2.54-5 14.8 14.8 0 0 1-0.65-4.41c0-6.65 5.53-14.14 30.18-14.44a1.23 1.23 0 0 1 1.24 1.23c-0.38 31.82-12.74 31.78-19.82 29.12a34.2 34.2 0 0 0 6.02-12.28M28.65 93h34.63a16.16 16.16 0 0 0 12.18-5.54l21.68-24.79a6.79 6.79 0 0 0-0.79-9.7 6.55 6.55 0 0 0-4.2-1.49 7.24 7.24 0 0 0-5.38 2.43l-10.2 11.35v0.16a11.85 11.85 0 0 1-11.89 11.26H52.21a2.54 2.54 0 1 1 0-5.08h12.47a6.72 6.72 0 0 0 6.81-6.34A6.54 6.54 0 0 0 65 58.52H44.19l-3.37-1.18a23.42 23.42 0 0 0-24.26 5.49L1.19 78.1 22.64 99Z","fill","var(--aliceBlueColor)","data-fill-palette-color","quaternary"],[1,"logoText"],["id","navbarScroll",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","my-2","my-lg-0","navbar-nav-scroll"],[1,"nav-item"],["routerLink","/recipes-list","href","#","role","button","aria-expanded","false",1,"nav-btn","nav-link","button"],["class","nav-item dropdown",4,"ngIf"],[1,"nav-item","dropdown"],["href","#","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-btn","nav-link","dropdown-toggle","button"],[1,"fa-solid","fa-magnifying-glass"],[1,"dropdown-menu","search"],["role","search",1,"d-flex","w-100",3,"formGroup","ngSubmit"],["type","search","aria-label","Search","formControlName","search","required","","minlength","3",1,"form-control","me-2"],[4,"ngIf"],["type","submit",1,"search","button"],[1,"fa-solid","fa-user"],[1,"dropdown-menu"],["routerLink","/register",1,"dropdown-item"],["routerLink","/login",1,"dropdown-item"],[1,"dropdown-divider"],["href","#",1,"dropdown-item"],["routerLink","/dashboard/user-recipes","href","#",1,"dropdown-item"],["routerLink","/dashboard/recipe-create",1,"dropdown-item"],["routerLink","/dashboard/user-favorite-recipes","href","#",1,"dropdown-item"],["routerLink","/dashboard/user-comments","href","#",1,"dropdown-item"],["routerLink","/dashboard/user-info",1,"dropdown-item"],[1,"dropdown-item",3,"click"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(p,v){if(1&p&&(l.TgZ(0,"nav",0)(1,"div",1)(2,"div",2)(3,"button",3)(4,"span"),l._UZ(5,"i",4),l.qZA()(),l.TgZ(6,"a",5),l.O4$(),l.TgZ(7,"svg",6)(8,"g"),l._UZ(9,"path",7)(10,"ellipse",8),l.qZA(),l.TgZ(11,"g",9)(12,"svg",10)(13,"g")(14,"svg",11),l._UZ(15,"path",12),l.qZA()()()()(),l.kcU(),l.TgZ(16,"span",13),l._uU(17," The Natural Way "),l.qZA()()(),l.TgZ(18,"div",14)(19,"ul",15)(20,"li",16)(21,"a",17),l._uU(22," Recipes "),l.qZA()(),l.YNc(23,kn,15,0,"li",18),l.YNc(24,Z,23,1,"li",18),l.TgZ(25,"li",19)(26,"a",20),l._UZ(27,"i",21),l.qZA(),l.TgZ(28,"ul",22)(29,"form",23),l.NdJ("ngSubmit",function(){return v.onSubmit()}),l._UZ(30,"input",24),l.YNc(31,W,3,2,"div",25),l.TgZ(32,"button",26),l._uU(33,"Search"),l.qZA()()()()()()()()),2&p){let V;l.xp6(23),l.Q6J("ngIf",!v.userData),l.xp6(1),l.Q6J("ngIf",v.userData),l.xp6(5),l.Q6J("formGroup",v.searchForm),l.xp6(2),l.Q6J("ngIf",null==(V=v.searchForm.get("search"))?null:V.touched)}},dependencies:[ve.O5,se.rH,fe._Y,fe.Fj,fe.JJ,fe.JL,fe.Q7,fe.wO,fe.sg,fe.u],styles:["nav.navbar[_ngcontent-%COMP%]{min-height:7vh;background-color:var(--aliceBlueColor);box-shadow:1px 5px 15px 0 var(--mainRGBAColor)}.container-fluid[_ngcontent-%COMP%]{max-width:1024px}a.navbar-brand[_ngcontent-%COMP%]{display:flex;gap:10px;font-family:Caveat,cursive;font-weight:400;font-size:32px;color:var(--textColor)}.header-wrapper[_ngcontent-%COMP%]{display:flex;gap:20px;align-items:center}.hamburger[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding:4px 2px}.hamburger[_ngcontent-%COMP%]:hover{transform:rotate(180deg);transition:.5s ease-in-out;box-shadow:1px 1px 15px 0 var(--textColor)}button.navbar-toggler[_ngcontent-%COMP%]{background-color:var(--textColor);border:1px solid var(--backgroundColor)}ul.navbar-nav[_ngcontent-%COMP%]{position:relative;display:flex;gap:18px;width:100%;justify-content:flex-end}.navigation[_ngcontent-%COMP%]{color:var(--textColor)}ul.navbar-nav[_ngcontent-%COMP%]   ul.dropdown-menu[_ngcontent-%COMP%]{background-color:var(--backgroundColor);margin-top:18px}a.dropdown-item[_ngcontent-%COMP%]{color:var(--textColor)}.dropdown-item.active[_ngcontent-%COMP%], .dropdown-item[_ngcontent-%COMP%]:hover, .dropdown-item[_ngcontent-%COMP%]:focus{background-color:var(--textColor);color:var(--backgroundColor)}form[_ngcontent-%COMP%]{max-width:unset}.form-control[_ngcontent-%COMP%]{border:1px solid var(--textColor);border-radius:8px;background-color:var(--backgroundColor)}.form-control[_ngcontent-%COMP%]:focus{box-shadow:unset;background-color:var(--mainMagnoliaColor)}@media (max-width: 991px){.container-fluid[_ngcontent-%COMP%]{justify-content:space-evenly}.svg-logo[_ngcontent-%COMP%]{display:none}.navbar-nav.me-auto.my-2.my-lg-0.navbar-nav-scroll[_ngcontent-%COMP%]{background-color:var(--backgroundColor);padding:20px;border-radius:8px}.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu.search[_ngcontent-%COMP%]{border:unset;width:100%}form.d-flex[_ngcontent-%COMP%]{flex-direction:column;gap:15px}}@media (min-width: 992px) and (max-width: 1440px){.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu.search[_ngcontent-%COMP%]{left:unset;right:0;width:900px;padding:10px;margin-top:30px;border:unset}form[_ngcontent-%COMP%]{max-width:unset}.container-fluid[_ngcontent-%COMP%]{max-width:1200px;padding:0 3%;color:var(--textColor)}}@media (min-width: 1441px){.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu.search[_ngcontent-%COMP%]{left:unset;right:0;width:1000px;padding:10px;margin-top:30px;border:unset}form[_ngcontent-%COMP%]{max-width:unset}.container-fluid[_ngcontent-%COMP%]{padding:unset;max-width:1200px;color:var(--textColor)}}"]})}return d})();function be(d,w){if(1&d){const u=l.EpF();l.TgZ(0,"div",1)(1,"button",2),l.NdJ("click",function(){l.CHM(u);const v=l.oxw();return l.KtG(v.scrollToTop())}),l._UZ(2,"i",3),l.qZA(),l.TgZ(3,"a",4)(4,"div",5)(5,"span",6),l.O4$(),l.TgZ(6,"svg",7),l._UZ(7,"path",8),l.qZA()(),l.kcU(),l.TgZ(8,"span",6),l.O4$(),l.TgZ(9,"svg",9),l._UZ(10,"path",8),l.qZA()()()()()}}let ze=(()=>{class d{constructor(){this.showScrollButton=!1}onWindowScroll(){this.showScrollButton=window.pageYOffset>300}scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}static#e=this.\u0275fac=function(p){return new(p||d)};static#t=this.\u0275cmp=l.Xpm({type:d,selectors:[["app-scroll-to-top"]],hostBindings:function(p,v){1&p&&l.NdJ("scroll",function(){return v.onWindowScroll()},!1,l.Jf7)},decls:1,vars:1,consts:[["class","buttons",4,"ngIf"],[1,"buttons"],[1,"to-top",3,"click"],[1,"fa-solid","fa-chevron-up","fa-beat-fade"],["href","javascript:history.back()",1,"back-button"],[1,"button-box"],[1,"button-elem"],["viewBox","0 0 46 40","xmlns","http://www.w3.org/2000/svg"],["d","M46 20.038c0-.7-.3-1.5-.8-2.1l-16-17c-1.1-1-3.2-1.4-4.4-.3-1.2 1.1-1.2 3.3 0 4.4l11.3 11.9H3c-1.7 0-3 1.3-3 3s1.3 3 3 3h33.1l-11.3 11.9c-1 1-1.2 3.3 0 4.4 1.2 1.1 3.3.8 4.4-.3l16-17c.5-.5.8-1.1.8-1.9z"],["viewBox","0 0 46 40"]],template:function(p,v){1&p&&l.YNc(0,be,11,0,"div",0),2&p&&l.Q6J("ngIf",v.showScrollButton)},dependencies:[ve.O5],styles:[".buttons[_ngcontent-%COMP%]{display:flex;gap:10px;position:fixed;bottom:120px;right:10px;flex-direction:column;align-items:center;z-index:10}.to-top[_ngcontent-%COMP%]{background-color:var(--mainRGBAColor);color:var(--backgroundColor);border:3px solid var(--backgroundColor);border-radius:50%;width:60px;height:60px;font-size:16px;cursor:pointer;transition:background-color .3s ease}button[_ngcontent-%COMP%]:hover{color:var(--textColor);background-color:var(--backgroundColor);box-shadow:0 0 15px 0 var(--textColor)}button[_ngcontent-%COMP%]:focus{outline:none}button.ng-hidden[_ngcontent-%COMP%]{display:none}"]})}return d})(),bt=(()=>{class d{constructor(){this.title="The-Natural-Way"}static#e=this.\u0275fac=function(p){return new(p||d)};static#t=this.\u0275cmp=l.Xpm({type:d,selectors:[["app-root"]],decls:4,vars:0,template:function(p,v){1&p&&l._UZ(0,"app-header")(1,"app-scroll-to-top")(2,"router-outlet")(3,"app-footer")},dependencies:[se.lC,jt,j,ze]})}return d})();var en=Y(9286),rn=Y(8726);let jn=(()=>{class d{}return d.\u0275fac=function(u){return new(u||d)},d.\u0275mod=l.oAB({type:d}),d.\u0275inj=l.cJS({imports:[[]]}),d})();var Si=Y(5592),ps=Y(6232),Ai=Y(2096),Qr=Y(8645),go=Y(4829),wa=Y(1631),Vr=Y(4266),Wi=Y(4674),qi=Y(7400);const Zi=["addListener","removeListener"],$n=["addEventListener","removeEventListener"],So=["on","off"];function Or(d,w,u,p){if((0,Wi.m)(u)&&(p=u,u=void 0),p)return Or(d,w,u).pipe((0,qi.Z)(p));const[v,V]=function Ao(d){return(0,Wi.m)(d.addEventListener)&&(0,Wi.m)(d.removeEventListener)}(d)?$n.map(J=>_e=>d[J](w,_e,u)):function ta(d){return(0,Wi.m)(d.addListener)&&(0,Wi.m)(d.removeListener)}(d)?Zi.map(Go(d,w)):function mo(d){return(0,Wi.m)(d.on)&&(0,Wi.m)(d.off)}(d)?So.map(Go(d,w)):[];if(!v&&(0,Vr.z)(d))return(0,wa.z)(J=>Or(J,w,u))((0,go.Xf)(d));if(!v)throw new TypeError("Invalid event target");return new Si.y(J=>{const _e=(...Ne)=>J.next(1<Ne.length?Ne:Ne[0]);return v(_e),()=>V(_e)})}function Go(d,w){return u=>p=>d[u](w,p)}var Gr=Y(6321),No=Y(671);const{isArray:Ki}=Array;function Ea(d){return 1===d.length&&Ki(d[0])?d[0]:d}var Fr=Y(8251);Y(3019);var ks=Y(9940);function Bi(...d){const w=(0,ks.jO)(d),u=Ea(d);return u.length?new Si.y(p=>{let v=u.map(()=>[]),V=u.map(()=>!1);p.add(()=>{v=V=null});for(let J=0;!p.closed&&J<u.length;J++)(0,go.Xf)(u[J]).subscribe((0,Fr.x)(p,_e=>{if(v[J].push(_e),v.every(Ne=>Ne.length)){const Ne=v.map(Ge=>Ge.shift());p.next(w?w(...Ne):Ne),v.some((Ge,qe)=>!Ge.length&&V[qe])&&p.complete()}},()=>{V[J]=!0,!v[J].length&&p.complete()}));return()=>{v=V=null}}):ps.E}var Jr=Y(5211),cr=Y(9773),si=Y(2181),Yi=Y(8180),pi=Y(9397),Da=Y(7398),gi=Y(9360),Bc=Y(2737),ia=Y(2420);function Ca(...d){const w=(0,ks.jO)(d);return(0,gi.e)((u,p)=>{const v=d.length,V=new Array(v);let J=d.map(()=>!1),_e=!1;for(let Ne=0;Ne<v;Ne++)(0,go.Xf)(d[Ne]).subscribe((0,Fr.x)(p,Ge=>{V[Ne]=Ge,!_e&&!J[Ne]&&(J[Ne]=!0,(_e=J.every(Bc.y))&&(J=null))},ia.Z));u.subscribe((0,Fr.x)(p,Ne=>{if(_e){const Ge=[Ne,...V];p.next(w?w(...Ge):Ge)}}))})}Y(975);var jo=Y(4664);Y(7921),Y(3997),Math,Math,Math;const Wa=["*"],Rd=["dialog"];function Pt(d){return"string"==typeof d}function Sn(d){return null!=d}function Sc(d){return(d||document.body).getBoundingClientRect()}const ip={animation:!0,transitionTimerDelayMs:5},Ud=()=>{},{transitionTimerDelayMs:op}=ip,Ys=new Map,Lo=(d,w,u,p)=>{let v=p.context||{};const V=Ys.get(w);if(V)switch(p.runningTransition){case"continue":return ps.E;case"stop":d.run(()=>V.transition$.complete()),v=Object.assign(V.context,v),Ys.delete(w)}const J=u(w,p.animation,v)||Ud;if(!p.animation||"none"===window.getComputedStyle(w).transitionProperty)return d.run(()=>J()),(0,Ai.of)(void 0).pipe(function ha(d){return w=>new Si.y(u=>w.subscribe({next:J=>d.run(()=>u.next(J)),error:J=>d.run(()=>u.error(J)),complete:()=>d.run(()=>u.complete())}))}(d));const _e=new Qr.x,Ne=new Qr.x,Ge=_e.pipe(function vo(...d){return w=>(0,Jr.z)(w,(0,Ai.of)(...d))}(!0));Ys.set(w,{transition$:_e,complete:()=>{Ne.next(),Ne.complete()},context:v});const qe=function Pi(d){const{transitionDelay:w,transitionDuration:u}=window.getComputedStyle(d);return 1e3*(parseFloat(w)+parseFloat(u))}(w);return d.runOutsideAngular(()=>{const Vt=Or(w,"transitionend").pipe((0,cr.R)(Ge),(0,si.h)(({target:kt})=>kt===w));(function na(...d){return 1===(d=Ea(d)).length?(0,go.Xf)(d[0]):new Si.y(function _o(d){return w=>{let u=[];for(let p=0;u&&!w.closed&&p<d.length;p++)u.push((0,go.Xf)(d[p]).subscribe((0,Fr.x)(w,v=>{if(u){for(let V=0;V<u.length;V++)V!==p&&u[V].unsubscribe();u=null}w.next(v)})))}}(d))})(function Ta(d=0,w,u=Gr.P){let p=-1;return null!=w&&((0,No.K)(w)?u=w:p=w),new Si.y(v=>{let V=function Ni(d){return d instanceof Date&&!isNaN(d)}(d)?+d-u.now():d;V<0&&(V=0);let J=0;return u.schedule(function(){v.closed||(v.next(J++),0<=p?this.schedule(void 0,p):v.complete())},V)})}(qe+op).pipe((0,cr.R)(Ge)),Vt,Ne).pipe((0,cr.R)(Ge)).subscribe(()=>{Ys.delete(w),d.run(()=>{J(),_e.next(),_e.complete()})})}),_e.asObservable()};let id=(()=>{class d{constructor(){this.animation=ip.animation}static#e=this.\u0275fac=function(p){return new(p||d)};static#t=this.\u0275prov=l.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})(),Zg=(()=>{class d{static#e=this.\u0275fac=function(p){return new(p||d)};static#t=this.\u0275mod=l.oAB({type:d});static#n=this.\u0275inj=l.cJS({})}return d})(),ad=(()=>{class d{static#e=this.\u0275fac=function(p){return new(p||d)};static#t=this.\u0275mod=l.oAB({type:d});static#n=this.\u0275inj=l.cJS({})}return d})(),q=(()=>{class d{static#e=this.\u0275fac=function(p){return new(p||d)};static#t=this.\u0275mod=l.oAB({type:d});static#n=this.\u0275inj=l.cJS({})}return d})(),oe=(()=>{class d{static#e=this.\u0275fac=function(p){return new(p||d)};static#t=this.\u0275mod=l.oAB({type:d});static#n=this.\u0275inj=l.cJS({})}return d})();var ui=function(d){return d[d.Tab=9]="Tab",d[d.Enter=13]="Enter",d[d.Escape=27]="Escape",d[d.Space=32]="Space",d[d.PageUp=33]="PageUp",d[d.PageDown=34]="PageDown",d[d.End=35]="End",d[d.Home=36]="Home",d[d.ArrowLeft=37]="ArrowLeft",d[d.ArrowUp=38]="ArrowUp",d[d.ArrowRight=39]="ArrowRight",d[d.ArrowDown=40]="ArrowDown",d}(ui||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const ld=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function $h(d){const w=Array.from(d.querySelectorAll(ld)).filter(u=>-1!==u.tabIndex);return[w[0],w[w.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let pv=(()=>{class d{static#e=this.\u0275fac=function(p){return new(p||d)};static#t=this.\u0275mod=l.oAB({type:d});static#n=this.\u0275inj=l.cJS({})}return d})(),Sp=(()=>{class d{static#e=this.\u0275fac=function(p){return new(p||d)};static#t=this.\u0275mod=l.oAB({type:d});static#n=this.\u0275inj=l.cJS({})}return d})();class Yd{constructor(w,u,p){this.nodes=w,this.viewRef=u,this.componentRef=p}}let BI=(()=>{class d{constructor(u,p){this._el=u,this._zone=p}ngOnInit(){this._zone.onStable.asObservable().pipe((0,Yi.q)(1)).subscribe(()=>{Lo(this._zone,this._el.nativeElement,(u,p)=>{p&&Sc(u),u.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Lo(this._zone,this._el.nativeElement,({classList:u})=>u.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(p){return new(p||d)(l.Y36(l.SBq),l.Y36(l.R0b))};static#t=this.\u0275cmp=l.Xpm({type:d,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(p,v){2&p&&(l.Tol("modal-backdrop"+(v.backdropClass?" "+v.backdropClass:"")),l.ekj("show",!v.animation)("fade",v.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[l.jDz],decls:0,vars:0,template:function(p,v){},encapsulation:2})}return d})();class mv{update(w){}close(w){}dismiss(w){}}const K0=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],Y0=["animation","backdropClass"];class UI{_applyWindowOptions(w,u){K0.forEach(p=>{Sn(u[p])&&(w[p]=u[p])})}_applyBackdropOptions(w,u){Y0.forEach(p=>{Sn(u[p])&&(w[p]=u[p])})}update(w){this._applyWindowOptions(this._windowCmptRef.instance,w),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,w)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,cr.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,cr.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(w,u,p,v){this._windowCmptRef=w,this._contentRef=u,this._backdropCmptRef=p,this._beforeDismiss=v,this._closed=new Qr.x,this._dismissed=new Qr.x,this._hidden=new Qr.x,w.instance.dismissEvent.subscribe(V=>{this.dismiss(V)}),this.result=new Promise((V,J)=>{this._resolve=V,this._reject=J}),this.result.then(null,()=>{})}close(w){this._windowCmptRef&&(this._closed.next(w),this._resolve(w),this._removeModalElements())}_dismiss(w){this._dismissed.next(w),this._reject(w),this._removeModalElements()}dismiss(w){if(this._windowCmptRef)if(this._beforeDismiss){const u=this._beforeDismiss();!function Hn(d){return d&&d.then}(u)?!1!==u&&this._dismiss(w):u.then(p=>{!1!==p&&this._dismiss(w)},()=>{})}else this._dismiss(w)}_removeModalElements(){const w=this._windowCmptRef.instance.hide(),u=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,Ai.of)(void 0);w.subscribe(()=>{const{nativeElement:p}=this._windowCmptRef.location;p.parentNode.removeChild(p),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),u.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:p}=this._backdropCmptRef.location;p.parentNode.removeChild(p),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Bi(w,u).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var bm=function(d){return d[d.BACKDROP_CLICK=0]="BACKDROP_CLICK",d[d.ESC=1]="ESC",d}(bm||{});let HI=(()=>{class d{constructor(u,p,v){this._document=u,this._elRef=p,this._zone=v,this._closed$=new Qr.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new l.vpe,this.shown=new Qr.x,this.hidden=new Qr.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Pt(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(u){this.dismissEvent.emit(u)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,Yi.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:u}=this._elRef,p={animation:this.animation,runningTransition:"stop"},J=Bi(Lo(this._zone,u,()=>u.classList.remove("show"),p),Lo(this._zone,this._dialogEl.nativeElement,()=>{},p));return J.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),J}_show(){const u={animation:this.animation,runningTransition:"continue"};Bi(Lo(this._zone,this._elRef.nativeElement,(V,J)=>{J&&Sc(V),V.classList.add("show")},u),Lo(this._zone,this._dialogEl.nativeElement,()=>{},u)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:u}=this._elRef;this._zone.runOutsideAngular(()=>{Or(u,"keydown").pipe((0,cr.R)(this._closed$),(0,si.h)(v=>v.which===ui.Escape)).subscribe(v=>{this.keyboard?requestAnimationFrame(()=>{v.defaultPrevented||this._zone.run(()=>this.dismiss(bm.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let p=!1;Or(this._dialogEl.nativeElement,"mousedown").pipe((0,cr.R)(this._closed$),(0,pi.b)(()=>p=!1),(0,jo.w)(()=>Or(u,"mouseup").pipe((0,cr.R)(this._closed$),(0,Yi.q)(1))),(0,si.h)(({target:v})=>u===v)).subscribe(()=>{p=!0}),Or(u,"click").pipe((0,cr.R)(this._closed$)).subscribe(({target:v})=>{u===v&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!p&&this._zone.run(()=>this.dismiss(bm.BACKDROP_CLICK))),p=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:u}=this._elRef;if(!u.contains(document.activeElement)){const p=u.querySelector("[ngbAutofocus]"),v=$h(u)[0];(p||v||u).focus()}}_restoreFocus(){const u=this._document.body,p=this._elWithFocus;let v;v=p&&p.focus&&u.contains(p)?p:u,this._zone.runOutsideAngular(()=>{setTimeout(()=>v.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Lo(this._zone,this._elRef.nativeElement,({classList:u})=>(u.add("modal-static"),()=>u.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(p){return new(p||d)(l.Y36(ve.K0),l.Y36(l.SBq),l.Y36(l.R0b))};static#t=this.\u0275cmp=l.Xpm({type:d,selectors:[["ngb-modal-window"]],viewQuery:function(p,v){if(1&p&&l.Gf(Rd,7),2&p){let V;l.iGM(V=l.CRH())&&(v._dialogEl=V.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(p,v){2&p&&(l.uIk("aria-modal",!0)("aria-labelledby",v.ariaLabelledBy)("aria-describedby",v.ariaDescribedBy),l.Tol("modal d-block"+(v.windowClass?" "+v.windowClass:"")),l.ekj("fade",v.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[l.jDz],ngContentSelectors:Wa,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(p,v){1&p&&(l.F$t(),l.TgZ(0,"div",0,1)(2,"div",2),l.Hsn(3),l.qZA()()),2&p&&l.Tol("modal-dialog"+(v.size?" modal-"+v.size:"")+(v.centered?" modal-dialog-centered":"")+v.fullscreenClass+(v.scrollable?" modal-dialog-scrollable":"")+(v.modalDialogClass?" "+v.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return d})(),GI=(()=>{class d{constructor(u){this._document=u}hide(){const u=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),p=this._document.body,v=p.style,{overflow:V,paddingRight:J}=v;if(u>0){const _e=parseFloat(window.getComputedStyle(p).paddingRight);v.paddingRight=`${_e+u}px`}return v.overflow="hidden",()=>{u>0&&(v.paddingRight=J),v.overflow=V}}static#e=this.\u0275fac=function(p){return new(p||d)(l.LFG(ve.K0))};static#t=this.\u0275prov=l.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})(),Im=(()=>{class d{constructor(u,p,v,V,J,_e,Ne){this._applicationRef=u,this._injector=p,this._environmentInjector=v,this._document=V,this._scrollBar=J,this._rendererFactory=_e,this._ngZone=Ne,this._activeWindowCmptHasChanged=new Qr.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new l.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const Ge=this._windowCmpts[this._windowCmpts.length-1];((d,w,u,p=!1)=>{d.runOutsideAngular(()=>{const v=Or(w,"focusin").pipe((0,cr.R)(u),(0,Da.U)(V=>V.target));Or(w,"keydown").pipe((0,cr.R)(u),(0,si.h)(V=>V.which===ui.Tab),Ca(v)).subscribe(([V,J])=>{const[_e,Ne]=$h(w);(J===_e||J===w)&&V.shiftKey&&(Ne.focus(),V.preventDefault()),J===Ne&&!V.shiftKey&&(_e.focus(),V.preventDefault())}),p&&Or(w,"click").pipe((0,cr.R)(u),Ca(v),(0,Da.U)(V=>V[1])).subscribe(V=>V.focus())})})(this._ngZone,Ge.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(Ge.location.nativeElement)}})}_restoreScrollBar(){const u=this._scrollBarRestoreFn;u&&(this._scrollBarRestoreFn=null,u())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(u,p,v){const V=v.container instanceof HTMLElement?v.container:Sn(v.container)?this._document.querySelector(v.container):this._document.body,J=this._rendererFactory.createRenderer(null,null);if(!V)throw new Error(`The specified modal container "${v.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const _e=new mv,Ne=(u=v.injector||u).get(l.lqb,null)||this._environmentInjector,Ge=this._getContentRef(u,Ne,p,_e,v);let qe=!1!==v.backdrop?this._attachBackdrop(V):void 0,Vt=this._attachWindowComponent(V,Ge.nodes),Nt=new UI(Vt,Ge,qe,v.beforeDismiss);return this._registerModalRef(Nt),this._registerWindowCmpt(Vt),Nt.hidden.pipe((0,Yi.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(J.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),_e.close=kt=>{Nt.close(kt)},_e.dismiss=kt=>{Nt.dismiss(kt)},_e.update=kt=>{Nt.update(kt)},Nt.update(v),1===this._modalRefs.length&&J.addClass(this._document.body,"modal-open"),qe&&qe.instance&&qe.changeDetectorRef.detectChanges(),Vt.changeDetectorRef.detectChanges(),Nt}get activeInstances(){return this._activeInstances}dismissAll(u){this._modalRefs.forEach(p=>p.dismiss(u))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(u){let p=(0,l.LMc)(BI,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(p.hostView),u.appendChild(p.location.nativeElement),p}_attachWindowComponent(u,p){let v=(0,l.LMc)(HI,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:p});return this._applicationRef.attachView(v.hostView),u.appendChild(v.location.nativeElement),v}_getContentRef(u,p,v,V,J){return v?v instanceof l.Rgc?this._createFromTemplateRef(v,V):Pt(v)?this._createFromString(v):this._createFromComponent(u,p,v,V,J):new Yd([])}_createFromTemplateRef(u,p){const V=u.createEmbeddedView({$implicit:p,close(J){p.close(J)},dismiss(J){p.dismiss(J)}});return this._applicationRef.attachView(V),new Yd([V.rootNodes],V)}_createFromString(u){const p=this._document.createTextNode(`${u}`);return new Yd([[p]])}_createFromComponent(u,p,v,V,J){const _e=l.zs3.create({providers:[{provide:mv,useValue:V}],parent:u}),Ne=(0,l.LMc)(v,{environmentInjector:p,elementInjector:_e}),Ge=Ne.location.nativeElement;return J.scrollable&&Ge.classList.add("component-host-scrollable"),this._applicationRef.attachView(Ne.hostView),new Yd([[Ge]],Ne.hostView,Ne)}_setAriaHidden(u){const p=u.parentElement;p&&u!==this._document.body&&(Array.from(p.children).forEach(v=>{v!==u&&"SCRIPT"!==v.nodeName&&(this._ariaHiddenValues.set(v,v.getAttribute("aria-hidden")),v.setAttribute("aria-hidden","true"))}),this._setAriaHidden(p))}_revertAriaHidden(){this._ariaHiddenValues.forEach((u,p)=>{u?p.setAttribute("aria-hidden",u):p.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(u){const p=()=>{const v=this._modalRefs.indexOf(u);v>-1&&(this._modalRefs.splice(v,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(u),this._activeInstances.emit(this._modalRefs),u.result.then(p,p)}_registerWindowCmpt(u){this._windowCmpts.push(u),this._activeWindowCmptHasChanged.next(),u.onDestroy(()=>{const p=this._windowCmpts.indexOf(u);p>-1&&(this._windowCmpts.splice(p,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(p){return new(p||d)(l.LFG(l.z2F),l.LFG(l.zs3),l.LFG(l.lqb),l.LFG(ve.K0),l.LFG(GI),l.LFG(l.FYo),l.LFG(l.R0b))};static#t=this.\u0275prov=l.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})(),Cl=(()=>{class d{constructor(u){this._ngbConfig=u,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(u){this._animation=u}static#e=this.\u0275fac=function(p){return new(p||d)(l.LFG(id))};static#t=this.\u0275prov=l.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})(),Ap=(()=>{class d{constructor(u,p,v){this._injector=u,this._modalStack=p,this._config=v}open(u,p={}){const v={...this._config,animation:this._config.animation,...p};return this._modalStack.open(this._injector,u,v)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(u){this._modalStack.dismissAll(u)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(p){return new(p||d)(l.LFG(l.zs3),l.LFG(Im),l.LFG(Cl))};static#t=this.\u0275prov=l.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})(),wm=(()=>{class d{static#e=this.\u0275fac=function(p){return new(p||d)};static#t=this.\u0275mod=l.oAB({type:d});static#n=this.\u0275inj=l.cJS({providers:[Ap]})}return d})(),nf=(()=>{class d{static#e=this.\u0275fac=function(p){return new(p||d)};static#t=this.\u0275mod=l.oAB({type:d});static#n=this.\u0275inj=l.cJS({})}return d})(),Iv=(()=>{class d{static#e=this.\u0275fac=function(p){return new(p||d)};static#t=this.\u0275mod=l.oAB({type:d});static#n=this.\u0275inj=l.cJS({})}return d})(),sf=(()=>{class d{static#e=this.\u0275fac=function(p){return new(p||d)};static#t=this.\u0275mod=l.oAB({type:d});static#n=this.\u0275inj=l.cJS({})}return d})(),Mp=(()=>{class d{static#e=this.\u0275fac=function(p){return new(p||d)};static#t=this.\u0275mod=l.oAB({type:d});static#n=this.\u0275inj=l.cJS({})}return d})(),Ju=(()=>{class d{static#e=this.\u0275fac=function(p){return new(p||d)};static#t=this.\u0275mod=l.oAB({type:d});static#n=this.\u0275inj=l.cJS({})}return d})(),af=(()=>{class d{static#e=this.\u0275fac=function(p){return new(p||d)};static#t=this.\u0275mod=l.oAB({type:d});static#n=this.\u0275inj=l.cJS({})}return d})(),xm=(()=>{class d{static#e=this.\u0275fac=function(p){return new(p||d)};static#t=this.\u0275mod=l.oAB({type:d});static#n=this.\u0275inj=l.cJS({})}return d})(),Vo=(()=>{class d{static#e=this.\u0275fac=function(p){return new(p||d)};static#t=this.\u0275mod=l.oAB({type:d});static#n=this.\u0275inj=l.cJS({})}return d})(),r1=(()=>{class d{static#e=this.\u0275fac=function(p){return new(p||d)};static#t=this.\u0275mod=l.oAB({type:d});static#n=this.\u0275inj=l.cJS({})}return d})();new l.OlP("live announcer delay",{providedIn:"root",factory:function _d(){return 100}});let Nl=(()=>{class d{static#e=this.\u0275fac=function(p){return new(p||d)};static#t=this.\u0275mod=l.oAB({type:d});static#n=this.\u0275inj=l.cJS({})}return d})(),rh=(()=>{class d{static#e=this.\u0275fac=function(p){return new(p||d)};static#t=this.\u0275mod=l.oAB({type:d});static#n=this.\u0275inj=l.cJS({})}return d})();const o1=[Zg,ad,q,oe,pv,Sp,wm,nf,rh,Iv,sf,Mp,Ju,af,xm,Vo,r1,Nl];let s1=(()=>{class d{static#e=this.\u0275fac=function(p){return new(p||d)};static#t=this.\u0275mod=l.oAB({type:d});static#n=this.\u0275inj=l.cJS({imports:[o1,Zg,ad,q,oe,pv,Sp,wm,nf,rh,Iv,sf,Mp,Ju,af,xm,Vo,r1,Nl]})}return d})();var Ol=Y(2772);let Av=(()=>{class d{static#e=this.\u0275fac=function(p){return new(p||d)};static#t=this.\u0275mod=l.oAB({type:d,bootstrap:[bt]});static#n=this.\u0275inj=l.cJS({imports:[b.b2,yt,Ol.r,(0,rn.hX)(()=>(0,rn.ZF)(en.N.firebaseConfig)),(0,He.Cm)(()=>(0,He.ad)()),jn,s1]})}return d})();b.q6().bootstrapModule(Av).catch(d=>console.error(d))},5619:(Ht,$e,Y)=>{Y.d($e,{X:()=>se});var b=Y(8645);class se extends b.x{constructor(fe){super(),this._value=fe}get value(){return this.getValue()}_subscribe(fe){const l=super._subscribe(fe);return!l.closed&&fe.next(this._value),l}getValue(){const{hasError:fe,thrownError:l,_value:le}=this;if(fe)throw l;return this._throwIfClosed(),le}next(fe){super.next(this._value=fe)}}},5592:(Ht,$e,Y)=>{Y.d($e,{y:()=>Be});var b=Y(305),se=Y(7394),ge=Y(4850),fe=Y(8407),l=Y(2653),le=Y(4674),ve=Y(1441);let Be=(()=>{class Ce{constructor(Re){Re&&(this._subscribe=Re)}lift(Re){const it=new Ce;return it.source=this,it.operator=Re,it}subscribe(Re,it,Ct){const Lt=function ce(Ce){return Ce&&Ce instanceof b.Lv||function ae(Ce){return Ce&&(0,le.m)(Ce.next)&&(0,le.m)(Ce.error)&&(0,le.m)(Ce.complete)}(Ce)&&(0,se.Nn)(Ce)}(Re)?Re:new b.Hp(Re,it,Ct);return(0,ve.x)(()=>{const{operator:Ft,source:wn}=this;Lt.add(Ft?Ft.call(Lt,wn):wn?this._subscribe(Lt):this._trySubscribe(Lt))}),Lt}_trySubscribe(Re){try{return this._subscribe(Re)}catch(it){Re.error(it)}}forEach(Re,it){return new(it=Se(it))((Ct,Lt)=>{const Ft=new b.Hp({next:wn=>{try{Re(wn)}catch(Mt){Lt(Mt),Ft.unsubscribe()}},error:Lt,complete:Ct});this.subscribe(Ft)})}_subscribe(Re){var it;return null===(it=this.source)||void 0===it?void 0:it.subscribe(Re)}[ge.L](){return this}pipe(...Re){return(0,fe.U)(Re)(this)}toPromise(Re){return new(Re=Se(Re))((it,Ct)=>{let Lt;this.subscribe(Ft=>Lt=Ft,Ft=>Ct(Ft),()=>it(Lt))})}}return Ce.create=Xe=>new Ce(Xe),Ce})();function Se(Ce){var Xe;return null!==(Xe=Ce??l.config.Promise)&&void 0!==Xe?Xe:Promise}},8645:(Ht,$e,Y)=>{Y.d($e,{x:()=>ve});var b=Y(5592),se=Y(7394);const fe=(0,Y(2306).d)(Se=>function(){Se(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var l=Y(9039),le=Y(1441);let ve=(()=>{class Se extends b.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ce){const Ce=new Be(this,this);return Ce.operator=ce,Ce}_throwIfClosed(){if(this.closed)throw new fe}next(ce){(0,le.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ce of this.currentObservers)Ce.next(ce)}})}error(ce){(0,le.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ce;const{observers:Ce}=this;for(;Ce.length;)Ce.shift().error(ce)}})}complete(){(0,le.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ce}=this;for(;ce.length;)ce.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ce;return(null===(ce=this.observers)||void 0===ce?void 0:ce.length)>0}_trySubscribe(ce){return this._throwIfClosed(),super._trySubscribe(ce)}_subscribe(ce){return this._throwIfClosed(),this._checkFinalizedStatuses(ce),this._innerSubscribe(ce)}_innerSubscribe(ce){const{hasError:Ce,isStopped:Xe,observers:Re}=this;return Ce||Xe?se.Lc:(this.currentObservers=null,Re.push(ce),new se.w0(()=>{this.currentObservers=null,(0,l.P)(Re,ce)}))}_checkFinalizedStatuses(ce){const{hasError:Ce,thrownError:Xe,isStopped:Re}=this;Ce?ce.error(Xe):Re&&ce.complete()}asObservable(){const ce=new b.y;return ce.source=this,ce}}return Se.create=(ae,ce)=>new Be(ae,ce),Se})();class Be extends ve{constructor(ae,ce){super(),this.destination=ae,this.source=ce}next(ae){var ce,Ce;null===(Ce=null===(ce=this.destination)||void 0===ce?void 0:ce.next)||void 0===Ce||Ce.call(ce,ae)}error(ae){var ce,Ce;null===(Ce=null===(ce=this.destination)||void 0===ce?void 0:ce.error)||void 0===Ce||Ce.call(ce,ae)}complete(){var ae,ce;null===(ce=null===(ae=this.destination)||void 0===ae?void 0:ae.complete)||void 0===ce||ce.call(ae)}_subscribe(ae){var ce,Ce;return null!==(Ce=null===(ce=this.source)||void 0===ce?void 0:ce.subscribe(ae))&&void 0!==Ce?Ce:se.Lc}}},305:(Ht,$e,Y)=>{Y.d($e,{Hp:()=>Ct,Lv:()=>Ce});var b=Y(4674),se=Y(7394),ge=Y(2653),fe=Y(3894),l=Y(2420);const le=Se("C",void 0,void 0);function Se(ft,ot,mt){return{kind:ft,value:ot,error:mt}}var ae=Y(7599),ce=Y(1441);class Ce extends se.w0{constructor(ot){super(),this.isStopped=!1,ot?(this.destination=ot,(0,se.Nn)(ot)&&ot.add(this)):this.destination=Mt}static create(ot,mt,pt){return new Ct(ot,mt,pt)}next(ot){this.isStopped?wn(function Be(ft){return Se("N",ft,void 0)}(ot),this):this._next(ot)}error(ot){this.isStopped?wn(function ve(ft){return Se("E",void 0,ft)}(ot),this):(this.isStopped=!0,this._error(ot))}complete(){this.isStopped?wn(le,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ot){this.destination.next(ot)}_error(ot){try{this.destination.error(ot)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Xe=Function.prototype.bind;function Re(ft,ot){return Xe.call(ft,ot)}class it{constructor(ot){this.partialObserver=ot}next(ot){const{partialObserver:mt}=this;if(mt.next)try{mt.next(ot)}catch(pt){Lt(pt)}}error(ot){const{partialObserver:mt}=this;if(mt.error)try{mt.error(ot)}catch(pt){Lt(pt)}else Lt(ot)}complete(){const{partialObserver:ot}=this;if(ot.complete)try{ot.complete()}catch(mt){Lt(mt)}}}class Ct extends Ce{constructor(ot,mt,pt){let Ue;if(super(),(0,b.m)(ot)||!ot)Ue={next:ot??void 0,error:mt??void 0,complete:pt??void 0};else{let ye;this&&ge.config.useDeprecatedNextContext?(ye=Object.create(ot),ye.unsubscribe=()=>this.unsubscribe(),Ue={next:ot.next&&Re(ot.next,ye),error:ot.error&&Re(ot.error,ye),complete:ot.complete&&Re(ot.complete,ye)}):Ue=ot}this.destination=new it(Ue)}}function Lt(ft){ge.config.useDeprecatedSynchronousErrorHandling?(0,ce.O)(ft):(0,fe.h)(ft)}function wn(ft,ot){const{onStoppedNotification:mt}=ge.config;mt&&ae.z.setTimeout(()=>mt(ft,ot))}const Mt={closed:!0,next:l.Z,error:function Ft(ft){throw ft},complete:l.Z}},7394:(Ht,$e,Y)=>{Y.d($e,{Lc:()=>le,w0:()=>l,Nn:()=>ve});var b=Y(4674);const ge=(0,Y(2306).d)(Se=>function(ce){Se(this),this.message=ce?`${ce.length} errors occurred during unsubscription:\n${ce.map((Ce,Xe)=>`${Xe+1}) ${Ce.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ce});var fe=Y(9039);class l{constructor(ae){this.initialTeardown=ae,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ae;if(!this.closed){this.closed=!0;const{_parentage:ce}=this;if(ce)if(this._parentage=null,Array.isArray(ce))for(const Re of ce)Re.remove(this);else ce.remove(this);const{initialTeardown:Ce}=this;if((0,b.m)(Ce))try{Ce()}catch(Re){ae=Re instanceof ge?Re.errors:[Re]}const{_finalizers:Xe}=this;if(Xe){this._finalizers=null;for(const Re of Xe)try{Be(Re)}catch(it){ae=ae??[],it instanceof ge?ae=[...ae,...it.errors]:ae.push(it)}}if(ae)throw new ge(ae)}}add(ae){var ce;if(ae&&ae!==this)if(this.closed)Be(ae);else{if(ae instanceof l){if(ae.closed||ae._hasParent(this))return;ae._addParent(this)}(this._finalizers=null!==(ce=this._finalizers)&&void 0!==ce?ce:[]).push(ae)}}_hasParent(ae){const{_parentage:ce}=this;return ce===ae||Array.isArray(ce)&&ce.includes(ae)}_addParent(ae){const{_parentage:ce}=this;this._parentage=Array.isArray(ce)?(ce.push(ae),ce):ce?[ce,ae]:ae}_removeParent(ae){const{_parentage:ce}=this;ce===ae?this._parentage=null:Array.isArray(ce)&&(0,fe.P)(ce,ae)}remove(ae){const{_finalizers:ce}=this;ce&&(0,fe.P)(ce,ae),ae instanceof l&&ae._removeParent(this)}}l.EMPTY=(()=>{const Se=new l;return Se.closed=!0,Se})();const le=l.EMPTY;function ve(Se){return Se instanceof l||Se&&"closed"in Se&&(0,b.m)(Se.remove)&&(0,b.m)(Se.add)&&(0,b.m)(Se.unsubscribe)}function Be(Se){(0,b.m)(Se)?Se():Se.unsubscribe()}},2653:(Ht,$e,Y)=>{Y.d($e,{config:()=>b});const b={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},5211:(Ht,$e,Y)=>{Y.d($e,{z:()=>l});var b=Y(7537),ge=Y(9940),fe=Y(2459);function l(...le){return function se(){return(0,b.J)(1)}()((0,fe.D)(le,(0,ge.yG)(le)))}},6232:(Ht,$e,Y)=>{Y.d($e,{E:()=>se});const se=new(Y(5592).y)(l=>l.complete())},2459:(Ht,$e,Y)=>{Y.d($e,{D:()=>ot});var b=Y(4829),se=Y(3093),ge=Y(5137),le=Y(5592),Be=Y(4971),Se=Y(4674),ae=Y(7103);function Ce(mt,pt){if(!mt)throw new Error("Iterable cannot be null");return new le.y(Ue=>{(0,ae.f)(Ue,pt,()=>{const ye=mt[Symbol.asyncIterator]();(0,ae.f)(Ue,pt,()=>{ye.next().then(Qe=>{Qe.done?Ue.complete():Ue.next(Qe.value)})},0,!0)})})}var Xe=Y(8382),Re=Y(4026),it=Y(4266),Ct=Y(3664),Lt=Y(5726),Ft=Y(9853),wn=Y(541);function ot(mt,pt){return pt?function ft(mt,pt){if(null!=mt){if((0,Xe.c)(mt))return function fe(mt,pt){return(0,b.Xf)(mt).pipe((0,ge.R)(pt),(0,se.Q)(pt))}(mt,pt);if((0,it.z)(mt))return function ve(mt,pt){return new le.y(Ue=>{let ye=0;return pt.schedule(function(){ye===mt.length?Ue.complete():(Ue.next(mt[ye++]),Ue.closed||this.schedule())})})}(mt,pt);if((0,Re.t)(mt))return function l(mt,pt){return(0,b.Xf)(mt).pipe((0,ge.R)(pt),(0,se.Q)(pt))}(mt,pt);if((0,Lt.D)(mt))return Ce(mt,pt);if((0,Ct.T)(mt))return function ce(mt,pt){return new le.y(Ue=>{let ye;return(0,ae.f)(Ue,pt,()=>{ye=mt[Be.h](),(0,ae.f)(Ue,pt,()=>{let Qe,ht;try{({value:Qe,done:ht}=ye.next())}catch(An){return void Ue.error(An)}ht?Ue.complete():Ue.next(Qe)},0,!0)}),()=>(0,Se.m)(ye?.return)&&ye.return()})}(mt,pt);if((0,wn.L)(mt))return function Mt(mt,pt){return Ce((0,wn.Q)(mt),pt)}(mt,pt)}throw(0,Ft.z)(mt)}(mt,pt):(0,b.Xf)(mt)}},4829:(Ht,$e,Y)=>{Y.d($e,{Xf:()=>Xe});var b=Y(7582),se=Y(4266),ge=Y(4026),fe=Y(5592),l=Y(8382),le=Y(5726),ve=Y(9853),Be=Y(3664),Se=Y(541),ae=Y(4674),ce=Y(3894),Ce=Y(4850);function Xe(ft){if(ft instanceof fe.y)return ft;if(null!=ft){if((0,l.c)(ft))return function Re(ft){return new fe.y(ot=>{const mt=ft[Ce.L]();if((0,ae.m)(mt.subscribe))return mt.subscribe(ot);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ft);if((0,se.z)(ft))return function it(ft){return new fe.y(ot=>{for(let mt=0;mt<ft.length&&!ot.closed;mt++)ot.next(ft[mt]);ot.complete()})}(ft);if((0,ge.t)(ft))return function Ct(ft){return new fe.y(ot=>{ft.then(mt=>{ot.closed||(ot.next(mt),ot.complete())},mt=>ot.error(mt)).then(null,ce.h)})}(ft);if((0,le.D)(ft))return Ft(ft);if((0,Be.T)(ft))return function Lt(ft){return new fe.y(ot=>{for(const mt of ft)if(ot.next(mt),ot.closed)return;ot.complete()})}(ft);if((0,Se.L)(ft))return function wn(ft){return Ft((0,Se.Q)(ft))}(ft)}throw(0,ve.z)(ft)}function Ft(ft){return new fe.y(ot=>{(function Mt(ft,ot){var mt,pt,Ue,ye;return(0,b.mG)(this,void 0,void 0,function*(){try{for(mt=(0,b.KL)(ft);!(pt=yield mt.next()).done;)if(ot.next(pt.value),ot.closed)return}catch(Qe){Ue={error:Qe}}finally{try{pt&&!pt.done&&(ye=mt.return)&&(yield ye.call(mt))}finally{if(Ue)throw Ue.error}}ot.complete()})})(ft,ot).catch(mt=>ot.error(mt))})}},3019:(Ht,$e,Y)=>{Y.d($e,{T:()=>le});var b=Y(7537),se=Y(4829),ge=Y(6232),fe=Y(9940),l=Y(2459);function le(...ve){const Be=(0,fe.yG)(ve),Se=(0,fe._6)(ve,1/0),ae=ve;return ae.length?1===ae.length?(0,se.Xf)(ae[0]):(0,b.J)(Se)((0,l.D)(ae,Be)):ge.E}},2096:(Ht,$e,Y)=>{Y.d($e,{of:()=>ge});var b=Y(9940),se=Y(2459);function ge(...fe){const l=(0,b.yG)(fe);return(0,se.D)(fe,l)}},8251:(Ht,$e,Y)=>{Y.d($e,{x:()=>se});var b=Y(305);function se(fe,l,le,ve,Be){return new ge(fe,l,le,ve,Be)}class ge extends b.Lv{constructor(l,le,ve,Be,Se,ae){super(l),this.onFinalize=Se,this.shouldUnsubscribe=ae,this._next=le?function(ce){try{le(ce)}catch(Ce){l.error(Ce)}}:super._next,this._error=Be?function(ce){try{Be(ce)}catch(Ce){l.error(Ce)}finally{this.unsubscribe()}}:super._error,this._complete=ve?function(){try{ve()}catch(ce){l.error(ce)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var l;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:le}=this;super.unsubscribe(),!le&&(null===(l=this.onFinalize)||void 0===l||l.call(this))}}}},3997:(Ht,$e,Y)=>{Y.d($e,{x:()=>fe});var b=Y(2737),se=Y(9360),ge=Y(8251);function fe(le,ve=b.y){return le=le??l,(0,se.e)((Be,Se)=>{let ae,ce=!0;Be.subscribe((0,ge.x)(Se,Ce=>{const Xe=ve(Ce);(ce||!le(ae,Xe))&&(ce=!1,ae=Xe,Se.next(Ce))}))})}function l(le,ve){return le===ve}},2181:(Ht,$e,Y)=>{Y.d($e,{h:()=>ge});var b=Y(9360),se=Y(8251);function ge(fe,l){return(0,b.e)((le,ve)=>{let Be=0;le.subscribe((0,se.x)(ve,Se=>fe.call(l,Se,Be++)&&ve.next(Se)))})}},7398:(Ht,$e,Y)=>{Y.d($e,{U:()=>ge});var b=Y(9360),se=Y(8251);function ge(fe,l){return(0,b.e)((le,ve)=>{let Be=0;le.subscribe((0,se.x)(ve,Se=>{ve.next(fe.call(l,Se,Be++))}))})}},975:(Ht,$e,Y)=>{Y.d($e,{h:()=>se});var b=Y(7398);function se(ge){return(0,b.U)(()=>ge)}},7537:(Ht,$e,Y)=>{Y.d($e,{J:()=>ge});var b=Y(1631),se=Y(2737);function ge(fe=1/0){return(0,b.z)(se.y,fe)}},1631:(Ht,$e,Y)=>{Y.d($e,{z:()=>Be});var b=Y(7398),se=Y(4829),ge=Y(9360),fe=Y(7103),l=Y(8251),ve=Y(4674);function Be(Se,ae,ce=1/0){return(0,ve.m)(ae)?Be((Ce,Xe)=>(0,b.U)((Re,it)=>ae(Ce,Re,Xe,it))((0,se.Xf)(Se(Ce,Xe))),ce):("number"==typeof ae&&(ce=ae),(0,ge.e)((Ce,Xe)=>function le(Se,ae,ce,Ce,Xe,Re,it,Ct){const Lt=[];let Ft=0,wn=0,Mt=!1;const ft=()=>{Mt&&!Lt.length&&!Ft&&ae.complete()},ot=pt=>Ft<Ce?mt(pt):Lt.push(pt),mt=pt=>{Re&&ae.next(pt),Ft++;let Ue=!1;(0,se.Xf)(ce(pt,wn++)).subscribe((0,l.x)(ae,ye=>{Xe?.(ye),Re?ot(ye):ae.next(ye)},()=>{Ue=!0},void 0,()=>{if(Ue)try{for(Ft--;Lt.length&&Ft<Ce;){const ye=Lt.shift();it?(0,fe.f)(ae,it,()=>mt(ye)):mt(ye)}ft()}catch(ye){ae.error(ye)}}))};return Se.subscribe((0,l.x)(ae,ot,()=>{Mt=!0,ft()})),()=>{Ct?.()}}(Ce,Xe,Se,ce)))}},3093:(Ht,$e,Y)=>{Y.d($e,{Q:()=>fe});var b=Y(7103),se=Y(9360),ge=Y(8251);function fe(l,le=0){return(0,se.e)((ve,Be)=>{ve.subscribe((0,ge.x)(Be,Se=>(0,b.f)(Be,l,()=>Be.next(Se),le),()=>(0,b.f)(Be,l,()=>Be.complete(),le),Se=>(0,b.f)(Be,l,()=>Be.error(Se),le)))})}},7921:(Ht,$e,Y)=>{Y.d($e,{O:()=>fe});var b=Y(5211),se=Y(9940),ge=Y(9360);function fe(...l){const le=(0,se.yG)(l);return(0,ge.e)((ve,Be)=>{(le?(0,b.z)(l,ve,le):(0,b.z)(l,ve)).subscribe(Be)})}},5137:(Ht,$e,Y)=>{Y.d($e,{R:()=>se});var b=Y(9360);function se(ge,fe=0){return(0,b.e)((l,le)=>{le.add(ge.schedule(()=>l.subscribe(le),fe))})}},4664:(Ht,$e,Y)=>{Y.d($e,{w:()=>fe});var b=Y(4829),se=Y(9360),ge=Y(8251);function fe(l,le){return(0,se.e)((ve,Be)=>{let Se=null,ae=0,ce=!1;const Ce=()=>ce&&!Se&&Be.complete();ve.subscribe((0,ge.x)(Be,Xe=>{Se?.unsubscribe();let Re=0;const it=ae++;(0,b.Xf)(l(Xe,it)).subscribe(Se=(0,ge.x)(Be,Ct=>Be.next(le?le(Xe,Ct,it,Re++):Ct),()=>{Se=null,Ce()}))},()=>{ce=!0,Ce()}))})}},8180:(Ht,$e,Y)=>{Y.d($e,{q:()=>fe});var b=Y(6232),se=Y(9360),ge=Y(8251);function fe(l){return l<=0?()=>b.E:(0,se.e)((le,ve)=>{let Be=0;le.subscribe((0,ge.x)(ve,Se=>{++Be<=l&&(ve.next(Se),l<=Be&&ve.complete())}))})}},9773:(Ht,$e,Y)=>{Y.d($e,{R:()=>l});var b=Y(9360),se=Y(8251),ge=Y(4829),fe=Y(2420);function l(le){return(0,b.e)((ve,Be)=>{(0,ge.Xf)(le).subscribe((0,se.x)(Be,()=>Be.complete(),fe.Z)),!Be.closed&&ve.subscribe(Be)})}},9397:(Ht,$e,Y)=>{Y.d($e,{b:()=>l});var b=Y(4674),se=Y(9360),ge=Y(8251),fe=Y(2737);function l(le,ve,Be){const Se=(0,b.m)(le)||ve||Be?{next:le,error:ve,complete:Be}:le;return Se?(0,se.e)((ae,ce)=>{var Ce;null===(Ce=Se.subscribe)||void 0===Ce||Ce.call(Se);let Xe=!0;ae.subscribe((0,ge.x)(ce,Re=>{var it;null===(it=Se.next)||void 0===it||it.call(Se,Re),ce.next(Re)},()=>{var Re;Xe=!1,null===(Re=Se.complete)||void 0===Re||Re.call(Se),ce.complete()},Re=>{var it;Xe=!1,null===(it=Se.error)||void 0===it||it.call(Se,Re),ce.error(Re)},()=>{var Re,it;Xe&&(null===(Re=Se.unsubscribe)||void 0===Re||Re.call(Se)),null===(it=Se.finalize)||void 0===it||it.call(Se)}))}):fe.y}},1954:(Ht,$e,Y)=>{Y.d($e,{o:()=>l});var b=Y(7394);class se extends b.w0{constructor(ve,Be){super()}schedule(ve,Be=0){return this}}const ge={setInterval(le,ve,...Be){const{delegate:Se}=ge;return Se?.setInterval?Se.setInterval(le,ve,...Be):setInterval(le,ve,...Be)},clearInterval(le){const{delegate:ve}=ge;return(ve?.clearInterval||clearInterval)(le)},delegate:void 0};var fe=Y(9039);class l extends se{constructor(ve,Be){super(ve,Be),this.scheduler=ve,this.work=Be,this.pending=!1}schedule(ve,Be=0){var Se;if(this.closed)return this;this.state=ve;const ae=this.id,ce=this.scheduler;return null!=ae&&(this.id=this.recycleAsyncId(ce,ae,Be)),this.pending=!0,this.delay=Be,this.id=null!==(Se=this.id)&&void 0!==Se?Se:this.requestAsyncId(ce,this.id,Be),this}requestAsyncId(ve,Be,Se=0){return ge.setInterval(ve.flush.bind(ve,this),Se)}recycleAsyncId(ve,Be,Se=0){if(null!=Se&&this.delay===Se&&!1===this.pending)return Be;null!=Be&&ge.clearInterval(Be)}execute(ve,Be){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Se=this._execute(ve,Be);if(Se)return Se;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ve,Be){let ae,Se=!1;try{this.work(ve)}catch(ce){Se=!0,ae=ce||new Error("Scheduled action threw falsy error")}if(Se)return this.unsubscribe(),ae}unsubscribe(){if(!this.closed){const{id:ve,scheduler:Be}=this,{actions:Se}=Be;this.work=this.state=this.scheduler=null,this.pending=!1,(0,fe.P)(Se,this),null!=ve&&(this.id=this.recycleAsyncId(Be,ve,null)),this.delay=null,super.unsubscribe()}}}},9931:(Ht,$e,Y)=>{Y.d($e,{v:()=>ge});const b={now:()=>(b.delegate||Date).now(),delegate:void 0};class se{constructor(l,le=se.now){this.schedulerActionCtor=l,this.now=le}schedule(l,le=0,ve){return new this.schedulerActionCtor(this,l).schedule(ve,le)}}se.now=b.now;class ge extends se{constructor(l,le=se.now){super(l,le),this.actions=[],this._active=!1}flush(l){const{actions:le}=this;if(this._active)return void le.push(l);let ve;this._active=!0;do{if(ve=l.execute(l.state,l.delay))break}while(l=le.shift());if(this._active=!1,ve){for(;l=le.shift();)l.unsubscribe();throw ve}}}},6321:(Ht,$e,Y)=>{Y.d($e,{P:()=>fe,z:()=>ge});var b=Y(1954);const ge=new(Y(9931).v)(b.o),fe=ge},7599:(Ht,$e,Y)=>{Y.d($e,{z:()=>b});const b={setTimeout(se,ge,...fe){const{delegate:l}=b;return l?.setTimeout?l.setTimeout(se,ge,...fe):setTimeout(se,ge,...fe)},clearTimeout(se){const{delegate:ge}=b;return(ge?.clearTimeout||clearTimeout)(se)},delegate:void 0}},4971:(Ht,$e,Y)=>{Y.d($e,{h:()=>se});const se=function b(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Ht,$e,Y)=>{Y.d($e,{L:()=>b});const b="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(Ht,$e,Y)=>{Y.d($e,{K:()=>se});const se=(0,Y(2306).d)(ge=>function(){ge(this),this.name="EmptyError",this.message="no elements in sequence"})},9940:(Ht,$e,Y)=>{Y.d($e,{_6:()=>le,jO:()=>fe,yG:()=>l});var b=Y(4674),se=Y(671);function ge(ve){return ve[ve.length-1]}function fe(ve){return(0,b.m)(ge(ve))?ve.pop():void 0}function l(ve){return(0,se.K)(ge(ve))?ve.pop():void 0}function le(ve,Be){return"number"==typeof ge(ve)?ve.pop():Be}},7453:(Ht,$e,Y)=>{Y.d($e,{D:()=>l});const{isArray:b}=Array,{getPrototypeOf:se,prototype:ge,keys:fe}=Object;function l(ve){if(1===ve.length){const Be=ve[0];if(b(Be))return{args:Be,keys:null};if(function le(ve){return ve&&"object"==typeof ve&&se(ve)===ge}(Be)){const Se=fe(Be);return{args:Se.map(ae=>Be[ae]),keys:Se}}}return{args:ve,keys:null}}},9039:(Ht,$e,Y)=>{function b(se,ge){if(se){const fe=se.indexOf(ge);0<=fe&&se.splice(fe,1)}}Y.d($e,{P:()=>b})},2306:(Ht,$e,Y)=>{function b(se){const fe=se(l=>{Error.call(l),l.stack=(new Error).stack});return fe.prototype=Object.create(Error.prototype),fe.prototype.constructor=fe,fe}Y.d($e,{d:()=>b})},2714:(Ht,$e,Y)=>{function b(se,ge){return se.reduce((fe,l,le)=>(fe[l]=ge[le],fe),{})}Y.d($e,{n:()=>b})},1441:(Ht,$e,Y)=>{Y.d($e,{O:()=>fe,x:()=>ge});var b=Y(2653);let se=null;function ge(l){if(b.config.useDeprecatedSynchronousErrorHandling){const le=!se;if(le&&(se={errorThrown:!1,error:null}),l(),le){const{errorThrown:ve,error:Be}=se;if(se=null,ve)throw Be}}else l()}function fe(l){b.config.useDeprecatedSynchronousErrorHandling&&se&&(se.errorThrown=!0,se.error=l)}},7103:(Ht,$e,Y)=>{function b(se,ge,fe,l=0,le=!1){const ve=ge.schedule(function(){fe(),le?se.add(this.schedule(null,l)):this.unsubscribe()},l);if(se.add(ve),!le)return ve}Y.d($e,{f:()=>b})},2737:(Ht,$e,Y)=>{function b(se){return se}Y.d($e,{y:()=>b})},4266:(Ht,$e,Y)=>{Y.d($e,{z:()=>b});const b=se=>se&&"number"==typeof se.length&&"function"!=typeof se},5726:(Ht,$e,Y)=>{Y.d($e,{D:()=>se});var b=Y(4674);function se(ge){return Symbol.asyncIterator&&(0,b.m)(ge?.[Symbol.asyncIterator])}},4674:(Ht,$e,Y)=>{function b(se){return"function"==typeof se}Y.d($e,{m:()=>b})},8382:(Ht,$e,Y)=>{Y.d($e,{c:()=>ge});var b=Y(4850),se=Y(4674);function ge(fe){return(0,se.m)(fe[b.L])}},3664:(Ht,$e,Y)=>{Y.d($e,{T:()=>ge});var b=Y(4971),se=Y(4674);function ge(fe){return(0,se.m)(fe?.[b.h])}},4026:(Ht,$e,Y)=>{Y.d($e,{t:()=>se});var b=Y(4674);function se(ge){return(0,b.m)(ge?.then)}},541:(Ht,$e,Y)=>{Y.d($e,{L:()=>fe,Q:()=>ge});var b=Y(7582),se=Y(4674);function ge(l){return(0,b.FC)(this,arguments,function*(){const ve=l.getReader();try{for(;;){const{value:Be,done:Se}=yield(0,b.qq)(ve.read());if(Se)return yield(0,b.qq)(void 0);yield yield(0,b.qq)(Be)}}finally{ve.releaseLock()}})}function fe(l){return(0,se.m)(l?.getReader)}},671:(Ht,$e,Y)=>{Y.d($e,{K:()=>se});var b=Y(4674);function se(ge){return ge&&(0,b.m)(ge.schedule)}},9360:(Ht,$e,Y)=>{Y.d($e,{A:()=>se,e:()=>ge});var b=Y(4674);function se(fe){return(0,b.m)(fe?.lift)}function ge(fe){return l=>{if(se(l))return l.lift(function(le){try{return fe(le,this)}catch(ve){this.error(ve)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(Ht,$e,Y)=>{Y.d($e,{Z:()=>fe});var b=Y(7398);const{isArray:se}=Array;function fe(l){return(0,b.U)(le=>function ge(l,le){return se(le)?l(...le):l(le)}(l,le))}},2420:(Ht,$e,Y)=>{function b(){}Y.d($e,{Z:()=>b})},8407:(Ht,$e,Y)=>{Y.d($e,{U:()=>ge,z:()=>se});var b=Y(2737);function se(...fe){return ge(fe)}function ge(fe){return 0===fe.length?b.y:1===fe.length?fe[0]:function(le){return fe.reduce((ve,Be)=>Be(ve),le)}}},3894:(Ht,$e,Y)=>{Y.d($e,{h:()=>ge});var b=Y(2653),se=Y(7599);function ge(fe){se.z.setTimeout(()=>{const{onUnhandledError:l}=b.config;if(!l)throw fe;l(fe)})}},9853:(Ht,$e,Y)=>{function b(se){return new TypeError(`You provided ${null!==se&&"object"==typeof se?"an invalid object":`'${se}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}Y.d($e,{z:()=>b})},6814:(Ht,$e,Y)=>{Y.d($e,{Do:()=>Ct,EM:()=>tc,HT:()=>fe,JF:()=>Ci,K0:()=>le,Mn:()=>mn,Mx:()=>So,O5:()=>Ki,PM:()=>$r,S$:()=>Xe,Tn:()=>ye,UT:()=>Rn,V_:()=>Be,Ye:()=>Lt,ax:()=>No,b0:()=>it,bD:()=>Di,ez:()=>ur,p6:()=>Bn,q:()=>ge,sg:()=>No,tP:()=>si,uU:()=>ms,w_:()=>l,x:()=>Ue});var b=Y(9468);let se=null;function ge(){return se}function fe(O){se||(se=O)}class l{}const le=new b.OlP("DocumentToken");let ve=(()=>{class O{historyGo(B){throw new Error("Not implemented")}static#e=this.\u0275fac=function(X){return new(X||O)};static#t=this.\u0275prov=b.Yz7({token:O,factory:function(){return(0,b.f3M)(Se)},providedIn:"platform"})}return O})();const Be=new b.OlP("Location Initialized");let Se=(()=>{class O extends ve{constructor(){super(),this._doc=(0,b.f3M)(le),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ge().getBaseHref(this._doc)}onPopState(B){const X=ge().getGlobalEventTarget(this._doc,"window");return X.addEventListener("popstate",B,!1),()=>X.removeEventListener("popstate",B)}onHashChange(B){const X=ge().getGlobalEventTarget(this._doc,"window");return X.addEventListener("hashchange",B,!1),()=>X.removeEventListener("hashchange",B)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(B){this._location.pathname=B}pushState(B,X,me){this._history.pushState(B,X,me)}replaceState(B,X,me){this._history.replaceState(B,X,me)}forward(){this._history.forward()}back(){this._history.back()}historyGo(B=0){this._history.go(B)}getState(){return this._history.state}static#e=this.\u0275fac=function(X){return new(X||O)};static#t=this.\u0275prov=b.Yz7({token:O,factory:function(){return new O},providedIn:"platform"})}return O})();function ae(O,te){if(0==O.length)return te;if(0==te.length)return O;let B=0;return O.endsWith("/")&&B++,te.startsWith("/")&&B++,2==B?O+te.substring(1):1==B?O+te:O+"/"+te}function ce(O){const te=O.match(/#|\?|$/),B=te&&te.index||O.length;return O.slice(0,B-("/"===O[B-1]?1:0))+O.slice(B)}function Ce(O){return O&&"?"!==O[0]?"?"+O:O}let Xe=(()=>{class O{historyGo(B){throw new Error("Not implemented")}static#e=this.\u0275fac=function(X){return new(X||O)};static#t=this.\u0275prov=b.Yz7({token:O,factory:function(){return(0,b.f3M)(it)},providedIn:"root"})}return O})();const Re=new b.OlP("appBaseHref");let it=(()=>{class O extends Xe{constructor(B,X){super(),this._platformLocation=B,this._removeListenerFns=[],this._baseHref=X??this._platformLocation.getBaseHrefFromDOM()??(0,b.f3M)(le).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}prepareExternalUrl(B){return ae(this._baseHref,B)}path(B=!1){const X=this._platformLocation.pathname+Ce(this._platformLocation.search),me=this._platformLocation.hash;return me&&B?`${X}${me}`:X}pushState(B,X,me,Ye){const dt=this.prepareExternalUrl(me+Ce(Ye));this._platformLocation.pushState(B,X,dt)}replaceState(B,X,me,Ye){const dt=this.prepareExternalUrl(me+Ce(Ye));this._platformLocation.replaceState(B,X,dt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){this._platformLocation.historyGo?.(B)}static#e=this.\u0275fac=function(X){return new(X||O)(b.LFG(ve),b.LFG(Re,8))};static#t=this.\u0275prov=b.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"})}return O})(),Ct=(()=>{class O extends Xe{constructor(B,X){super(),this._platformLocation=B,this._baseHref="",this._removeListenerFns=[],null!=X&&(this._baseHref=X)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}path(B=!1){let X=this._platformLocation.hash;return null==X&&(X="#"),X.length>0?X.substring(1):X}prepareExternalUrl(B){const X=ae(this._baseHref,B);return X.length>0?"#"+X:X}pushState(B,X,me,Ye){let dt=this.prepareExternalUrl(me+Ce(Ye));0==dt.length&&(dt=this._platformLocation.pathname),this._platformLocation.pushState(B,X,dt)}replaceState(B,X,me,Ye){let dt=this.prepareExternalUrl(me+Ce(Ye));0==dt.length&&(dt=this._platformLocation.pathname),this._platformLocation.replaceState(B,X,dt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){this._platformLocation.historyGo?.(B)}static#e=this.\u0275fac=function(X){return new(X||O)(b.LFG(ve),b.LFG(Re,8))};static#t=this.\u0275prov=b.Yz7({token:O,factory:O.\u0275fac})}return O})(),Lt=(()=>{class O{constructor(B){this._subject=new b.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=B;const X=this._locationStrategy.getBaseHref();this._basePath=function ft(O){if(new RegExp("^(https?:)?//").test(O)){const[,B]=O.split(/\/\/[^\/]+/);return B}return O}(ce(Mt(X))),this._locationStrategy.onPopState(me=>{this._subject.emit({url:this.path(!0),pop:!0,state:me.state,type:me.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(B=!1){return this.normalize(this._locationStrategy.path(B))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(B,X=""){return this.path()==this.normalize(B+Ce(X))}normalize(B){return O.stripTrailingSlash(function wn(O,te){if(!O||!te.startsWith(O))return te;const B=te.substring(O.length);return""===B||["/",";","?","#"].includes(B[0])?B:te}(this._basePath,Mt(B)))}prepareExternalUrl(B){return B&&"/"!==B[0]&&(B="/"+B),this._locationStrategy.prepareExternalUrl(B)}go(B,X="",me=null){this._locationStrategy.pushState(me,"",B,X),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+Ce(X)),me)}replaceState(B,X="",me=null){this._locationStrategy.replaceState(me,"",B,X),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+Ce(X)),me)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(B=0){this._locationStrategy.historyGo?.(B)}onUrlChange(B){return this._urlChangeListeners.push(B),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(X=>{this._notifyUrlChangeListeners(X.url,X.state)})),()=>{const X=this._urlChangeListeners.indexOf(B);this._urlChangeListeners.splice(X,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(B="",X){this._urlChangeListeners.forEach(me=>me(B,X))}subscribe(B,X,me){return this._subject.subscribe({next:B,error:X,complete:me})}static#e=this.normalizeQueryParams=Ce;static#t=this.joinWithSlash=ae;static#n=this.stripTrailingSlash=ce;static#r=this.\u0275fac=function(X){return new(X||O)(b.LFG(Xe))};static#i=this.\u0275prov=b.Yz7({token:O,factory:function(){return function Ft(){return new Lt((0,b.LFG)(Xe))}()},providedIn:"root"})}return O})();function Mt(O){return O.replace(/\/index.html$/,"")}var Ue=function(O){return O[O.Format=0]="Format",O[O.Standalone=1]="Standalone",O}(Ue||{}),ye=function(O){return O[O.Narrow=0]="Narrow",O[O.Abbreviated=1]="Abbreviated",O[O.Wide=2]="Wide",O[O.Short=3]="Short",O}(ye||{}),Qe=function(O){return O[O.Short=0]="Short",O[O.Medium=1]="Medium",O[O.Long=2]="Long",O[O.Full=3]="Full",O}(Qe||{}),ht=function(O){return O[O.Decimal=0]="Decimal",O[O.Group=1]="Group",O[O.List=2]="List",O[O.PercentSign=3]="PercentSign",O[O.PlusSign=4]="PlusSign",O[O.MinusSign=5]="MinusSign",O[O.Exponential=6]="Exponential",O[O.SuperscriptingExponent=7]="SuperscriptingExponent",O[O.PerMille=8]="PerMille",O[O.Infinity=9]="Infinity",O[O.NaN=10]="NaN",O[O.TimeSeparator=11]="TimeSeparator",O[O.CurrencyDecimal=12]="CurrencyDecimal",O[O.CurrencyGroup=13]="CurrencyGroup",O}(ht||{});function mn(O,te,B){const X=(0,b.cg1)(O),Ye=Ee([X[b.wAp.DaysFormat],X[b.wAp.DaysStandalone]],te);return Ee(Ye,B)}function Rn(O,te,B){const X=(0,b.cg1)(O),Ye=Ee([X[b.wAp.MonthsFormat],X[b.wAp.MonthsStandalone]],te);return Ee(Ye,B)}function He(O,te){return Ee((0,b.cg1)(O)[b.wAp.DateFormat],te)}function Je(O,te){return Ee((0,b.cg1)(O)[b.wAp.TimeFormat],te)}function Le(O,te){return Ee((0,b.cg1)(O)[b.wAp.DateTimeFormat],te)}function tt(O,te){const B=(0,b.cg1)(O),X=B[b.wAp.NumberSymbols][te];if(typeof X>"u"){if(te===ht.CurrencyDecimal)return B[b.wAp.NumberSymbols][ht.Decimal];if(te===ht.CurrencyGroup)return B[b.wAp.NumberSymbols][ht.Group]}return X}function wt(O){if(!O[b.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${O[b.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ee(O,te){for(let B=te;B>-1;B--)if(typeof O[B]<"u")return O[B];throw new Error("Locale data API: locale data undefined")}function Oe(O){const[te,B]=O.split(":");return{hours:+te,minutes:+B}}const Tt=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,lr={},yn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var tn=function(O){return O[O.Short=0]="Short",O[O.ShortGMT=1]="ShortGMT",O[O.Long=2]="Long",O[O.Extended=3]="Extended",O}(tn||{}),zt=function(O){return O[O.FullYear=0]="FullYear",O[O.Month=1]="Month",O[O.Date=2]="Date",O[O.Hours=3]="Hours",O[O.Minutes=4]="Minutes",O[O.Seconds=5]="Seconds",O[O.FractionalSeconds=6]="FractionalSeconds",O[O.Day=7]="Day",O}(zt||{}),gn=function(O){return O[O.DayPeriods=0]="DayPeriods",O[O.Days=1]="Days",O[O.Months=2]="Months",O[O.Eras=3]="Eras",O}(gn||{});function Bn(O,te,B,X){let me=function L(O){if(W(O))return O;if("number"==typeof O&&!isNaN(O))return new Date(O);if("string"==typeof O){if(O=O.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(O)){const[me,Ye=1,dt=1]=O.split("-").map(dn=>+dn);return Kt(me,Ye-1,dt)}const B=parseFloat(O);if(!isNaN(O-B))return new Date(B);let X;if(X=O.match(Tt))return function H(O){const te=new Date(0);let B=0,X=0;const me=O[8]?te.setUTCFullYear:te.setFullYear,Ye=O[8]?te.setUTCHours:te.setHours;O[9]&&(B=Number(O[9]+O[10]),X=Number(O[9]+O[11])),me.call(te,Number(O[1]),Number(O[2])-1,Number(O[3]));const dt=Number(O[4]||0)-B,dn=Number(O[5]||0)-X,Jn=Number(O[6]||0),Dr=Math.floor(1e3*parseFloat("0."+(O[7]||0)));return Ye.call(te,dt,dn,Jn,Dr),te}(X)}const te=new Date(O);if(!W(te))throw new Error(`Unable to convert "${O}" into a date`);return te}(O);te=mr(B,te)||te;let dn,dt=[];for(;te;){if(dn=yn.exec(te),!dn){dt.push(te);break}{dt=dt.concat(dn.slice(1));const Xn=dt.pop();if(!Xn)break;te=Xn}}let Jn=me.getTimezoneOffset();X&&(Jn=$t(X,Jn),me=function Z(O,te,B){const X=B?-1:1,me=O.getTimezoneOffset();return function kn(O,te){return(O=new Date(O.getTime())).setMinutes(O.getMinutes()+te),O}(O,X*($t(te,me)-me))}(me,X,!0));let Dr="";return dt.forEach(Xn=>{const Ln=function jt(O){if(yt[O])return yt[O];let te;switch(O){case"G":case"GG":case"GGG":te=Pn(gn.Eras,ye.Abbreviated);break;case"GGGG":te=Pn(gn.Eras,ye.Wide);break;case"GGGGG":te=Pn(gn.Eras,ye.Narrow);break;case"y":te=Vn(zt.FullYear,1,0,!1,!0);break;case"yy":te=Vn(zt.FullYear,2,0,!0,!0);break;case"yyy":te=Vn(zt.FullYear,3,0,!1,!0);break;case"yyyy":te=Vn(zt.FullYear,4,0,!1,!0);break;case"Y":te=We(1);break;case"YY":te=We(2,!0);break;case"YYY":te=We(3);break;case"YYYY":te=We(4);break;case"M":case"L":te=Vn(zt.Month,1,1);break;case"MM":case"LL":te=Vn(zt.Month,2,1);break;case"MMM":te=Pn(gn.Months,ye.Abbreviated);break;case"MMMM":te=Pn(gn.Months,ye.Wide);break;case"MMMMM":te=Pn(gn.Months,ye.Narrow);break;case"LLL":te=Pn(gn.Months,ye.Abbreviated,Ue.Standalone);break;case"LLLL":te=Pn(gn.Months,ye.Wide,Ue.Standalone);break;case"LLLLL":te=Pn(gn.Months,ye.Narrow,Ue.Standalone);break;case"w":te=De(1);break;case"ww":te=De(2);break;case"W":te=De(1,!0);break;case"d":te=Vn(zt.Date,1);break;case"dd":te=Vn(zt.Date,2);break;case"c":case"cc":te=Vn(zt.Day,1);break;case"ccc":te=Pn(gn.Days,ye.Abbreviated,Ue.Standalone);break;case"cccc":te=Pn(gn.Days,ye.Wide,Ue.Standalone);break;case"ccccc":te=Pn(gn.Days,ye.Narrow,Ue.Standalone);break;case"cccccc":te=Pn(gn.Days,ye.Short,Ue.Standalone);break;case"E":case"EE":case"EEE":te=Pn(gn.Days,ye.Abbreviated);break;case"EEEE":te=Pn(gn.Days,ye.Wide);break;case"EEEEE":te=Pn(gn.Days,ye.Narrow);break;case"EEEEEE":te=Pn(gn.Days,ye.Short);break;case"a":case"aa":case"aaa":te=Pn(gn.DayPeriods,ye.Abbreviated);break;case"aaaa":te=Pn(gn.DayPeriods,ye.Wide);break;case"aaaaa":te=Pn(gn.DayPeriods,ye.Narrow);break;case"b":case"bb":case"bbb":te=Pn(gn.DayPeriods,ye.Abbreviated,Ue.Standalone,!0);break;case"bbbb":te=Pn(gn.DayPeriods,ye.Wide,Ue.Standalone,!0);break;case"bbbbb":te=Pn(gn.DayPeriods,ye.Narrow,Ue.Standalone,!0);break;case"B":case"BB":case"BBB":te=Pn(gn.DayPeriods,ye.Abbreviated,Ue.Format,!0);break;case"BBBB":te=Pn(gn.DayPeriods,ye.Wide,Ue.Format,!0);break;case"BBBBB":te=Pn(gn.DayPeriods,ye.Narrow,Ue.Format,!0);break;case"h":te=Vn(zt.Hours,1,-12);break;case"hh":te=Vn(zt.Hours,2,-12);break;case"H":te=Vn(zt.Hours,1);break;case"HH":te=Vn(zt.Hours,2);break;case"m":te=Vn(zt.Minutes,1);break;case"mm":te=Vn(zt.Minutes,2);break;case"s":te=Vn(zt.Seconds,1);break;case"ss":te=Vn(zt.Seconds,2);break;case"S":te=Vn(zt.FractionalSeconds,1);break;case"SS":te=Vn(zt.FractionalSeconds,2);break;case"SSS":te=Vn(zt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":te=Tn(tn.Short);break;case"ZZZZZ":te=Tn(tn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":te=Tn(tn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":te=Tn(tn.Long);break;default:return null}return yt[O]=te,te}(Xn);Dr+=Ln?Ln(me,B,Jn):"''"===Xn?"'":Xn.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Dr}function Kt(O,te,B){const X=new Date(0);return X.setFullYear(O,te,B),X.setHours(0,0,0),X}function mr(O,te){const B=function ct(O){return(0,b.cg1)(O)[b.wAp.LocaleId]}(O);if(lr[B]=lr[B]||{},lr[B][te])return lr[B][te];let X="";switch(te){case"shortDate":X=He(O,Qe.Short);break;case"mediumDate":X=He(O,Qe.Medium);break;case"longDate":X=He(O,Qe.Long);break;case"fullDate":X=He(O,Qe.Full);break;case"shortTime":X=Je(O,Qe.Short);break;case"mediumTime":X=Je(O,Qe.Medium);break;case"longTime":X=Je(O,Qe.Long);break;case"fullTime":X=Je(O,Qe.Full);break;case"short":const me=mr(O,"shortTime"),Ye=mr(O,"shortDate");X=dr(Le(O,Qe.Short),[me,Ye]);break;case"medium":const dt=mr(O,"mediumTime"),dn=mr(O,"mediumDate");X=dr(Le(O,Qe.Medium),[dt,dn]);break;case"long":const Jn=mr(O,"longTime"),Dr=mr(O,"longDate");X=dr(Le(O,Qe.Long),[Jn,Dr]);break;case"full":const Xn=mr(O,"fullTime"),Ln=mr(O,"fullDate");X=dr(Le(O,Qe.Full),[Xn,Ln])}return X&&(lr[B][te]=X),X}function dr(O,te){return te&&(O=O.replace(/\{([^}]+)}/g,function(B,X){return null!=te&&X in te?te[X]:B})),O}function ln(O,te,B="-",X,me){let Ye="";(O<0||me&&O<=0)&&(me?O=1-O:(O=-O,Ye=B));let dt=String(O);for(;dt.length<te;)dt="0"+dt;return X&&(dt=dt.slice(dt.length-te)),Ye+dt}function Vn(O,te,B=0,X=!1,me=!1){return function(Ye,dt){let dn=function qn(O,te){switch(O){case zt.FullYear:return te.getFullYear();case zt.Month:return te.getMonth();case zt.Date:return te.getDate();case zt.Hours:return te.getHours();case zt.Minutes:return te.getMinutes();case zt.Seconds:return te.getSeconds();case zt.FractionalSeconds:return te.getMilliseconds();case zt.Day:return te.getDay();default:throw new Error(`Unknown DateType value "${O}".`)}}(O,Ye);if((B>0||dn>-B)&&(dn+=B),O===zt.Hours)0===dn&&-12===B&&(dn=12);else if(O===zt.FractionalSeconds)return function Wn(O,te){return ln(O,3).substring(0,te)}(dn,te);const Jn=tt(dt,ht.MinusSign);return ln(dn,te,Jn,X,me)}}function Pn(O,te,B=Ue.Format,X=!1){return function(me,Ye){return function ni(O,te,B,X,me,Ye){switch(B){case gn.Months:return Rn(te,me,X)[O.getMonth()];case gn.Days:return mn(te,me,X)[O.getDay()];case gn.DayPeriods:const dt=O.getHours(),dn=O.getMinutes();if(Ye){const Dr=function Fn(O){const te=(0,b.cg1)(O);return wt(te),(te[b.wAp.ExtraData][2]||[]).map(X=>"string"==typeof X?Oe(X):[Oe(X[0]),Oe(X[1])])}(te),Xn=function ar(O,te,B){const X=(0,b.cg1)(O);wt(X);const Ye=Ee([X[b.wAp.ExtraData][0],X[b.wAp.ExtraData][1]],te)||[];return Ee(Ye,B)||[]}(te,me,X),Ln=Dr.findIndex(ei=>{if(Array.isArray(ei)){const[xr,ii]=ei,wo=dt>=xr.hours&&dn>=xr.minutes,uo=dt<ii.hours||dt===ii.hours&&dn<ii.minutes;if(xr.hours<ii.hours){if(wo&&uo)return!0}else if(wo||uo)return!0}else if(ei.hours===dt&&ei.minutes===dn)return!0;return!1});if(-1!==Ln)return Xn[Ln]}return function sn(O,te,B){const X=(0,b.cg1)(O),Ye=Ee([X[b.wAp.DayPeriodsFormat],X[b.wAp.DayPeriodsStandalone]],te);return Ee(Ye,B)}(te,me,X)[dt<12?0:1];case gn.Eras:return function zn(O,te){return Ee((0,b.cg1)(O)[b.wAp.Eras],te)}(te,X)[O.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${B}`)}}(me,Ye,O,te,B,X)}}function Tn(O){return function(te,B,X){const me=-1*X,Ye=tt(B,ht.MinusSign),dt=me>0?Math.floor(me/60):Math.ceil(me/60);switch(O){case tn.Short:return(me>=0?"+":"")+ln(dt,2,Ye)+ln(Math.abs(me%60),2,Ye);case tn.ShortGMT:return"GMT"+(me>=0?"+":"")+ln(dt,1,Ye);case tn.Long:return"GMT"+(me>=0?"+":"")+ln(dt,2,Ye)+":"+ln(Math.abs(me%60),2,Ye);case tn.Extended:return 0===X?"Z":(me>=0?"+":"")+ln(dt,2,Ye)+":"+ln(Math.abs(me%60),2,Ye);default:throw new Error(`Unknown zone width "${O}"`)}}}const Un=0,br=4;function et(O){return Kt(O.getFullYear(),O.getMonth(),O.getDate()+(br-O.getDay()))}function De(O,te=!1){return function(B,X){let me;if(te){const Ye=new Date(B.getFullYear(),B.getMonth(),1).getDay()-1,dt=B.getDate();me=1+Math.floor((dt+Ye)/7)}else{const Ye=et(B),dt=function ri(O){const te=Kt(O,Un,1).getDay();return Kt(O,0,1+(te<=br?br:br+7)-te)}(Ye.getFullYear()),dn=Ye.getTime()-dt.getTime();me=1+Math.round(dn/6048e5)}return ln(me,O,tt(X,ht.MinusSign))}}function We(O,te=!1){return function(B,X){return ln(et(B).getFullYear(),O,tt(X,ht.MinusSign),te)}}const yt={};function $t(O,te){O=O.replace(/:/g,"");const B=Date.parse("Jan 01, 1970 00:00:00 "+O)/6e4;return isNaN(B)?te:B}function W(O){return O instanceof Date&&!isNaN(O.valueOf())}function So(O,te){te=encodeURIComponent(te);for(const B of O.split(";")){const X=B.indexOf("="),[me,Ye]=-1==X?[B,""]:[B.slice(0,X),B.slice(X+1)];if(me.trim()===te)return decodeURIComponent(Ye)}return null}class Gr{constructor(te,B,X,me){this.$implicit=te,this.ngForOf=B,this.index=X,this.count=me}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let No=(()=>{class O{set ngForOf(B){this._ngForOf=B,this._ngForOfDirty=!0}set ngForTrackBy(B){this._trackByFn=B}get ngForTrackBy(){return this._trackByFn}constructor(B,X,me){this._viewContainer=B,this._template=X,this._differs=me,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(B){B&&(this._template=B)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const B=this._ngForOf;!this._differ&&B&&(this._differ=this._differs.find(B).create(this.ngForTrackBy))}if(this._differ){const B=this._differ.diff(this._ngForOf);B&&this._applyChanges(B)}}_applyChanges(B){const X=this._viewContainer;B.forEachOperation((me,Ye,dt)=>{if(null==me.previousIndex)X.createEmbeddedView(this._template,new Gr(me.item,this._ngForOf,-1,-1),null===dt?void 0:dt);else if(null==dt)X.remove(null===Ye?void 0:Ye);else if(null!==Ye){const dn=X.get(Ye);X.move(dn,dt),Ni(dn,me)}});for(let me=0,Ye=X.length;me<Ye;me++){const dn=X.get(me).context;dn.index=me,dn.count=Ye,dn.ngForOf=this._ngForOf}B.forEachIdentityChange(me=>{Ni(X.get(me.currentIndex),me)})}static ngTemplateContextGuard(B,X){return!0}static#e=this.\u0275fac=function(X){return new(X||O)(b.Y36(b.s_b),b.Y36(b.Rgc),b.Y36(b.ZZ4))};static#t=this.\u0275dir=b.lG2({type:O,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return O})();function Ni(O,te){O.context.$implicit=te.item}let Ki=(()=>{class O{constructor(B,X){this._viewContainer=B,this._context=new Ea,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=X}set ngIf(B){this._context.$implicit=this._context.ngIf=B,this._updateView()}set ngIfThen(B){Fr("ngIfThen",B),this._thenTemplateRef=B,this._thenViewRef=null,this._updateView()}set ngIfElse(B){Fr("ngIfElse",B),this._elseTemplateRef=B,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(B,X){return!0}static#e=this.\u0275fac=function(X){return new(X||O)(b.Y36(b.s_b),b.Y36(b.Rgc))};static#t=this.\u0275dir=b.lG2({type:O,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return O})();class Ea{constructor(){this.$implicit=null,this.ngIf=null}}function Fr(O,te){if(te&&!te.createEmbeddedView)throw new Error(`${O} must be a TemplateRef, but received '${(0,b.AaK)(te)}'.`)}let si=(()=>{class O{constructor(B){this._viewContainerRef=B,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(B){if(B.ngTemplateOutlet||B.ngTemplateOutletInjector){const X=this._viewContainerRef;if(this._viewRef&&X.remove(X.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:me,ngTemplateOutletContext:Ye,ngTemplateOutletInjector:dt}=this;this._viewRef=X.createEmbeddedView(me,Ye,dt?{injector:dt}:void 0)}else this._viewRef=null}else this._viewRef&&B.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(X){return new(X||O)(b.Y36(b.s_b))};static#t=this.\u0275dir=b.lG2({type:O,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[b.TTD]})}return O})();const oa=new b.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Ls=new b.OlP("DATE_PIPE_DEFAULT_OPTIONS");let ms=(()=>{class O{constructor(B,X,me){this.locale=B,this.defaultTimezone=X,this.defaultOptions=me}transform(B,X,me,Ye){if(null==B||""===B||B!=B)return null;try{return Bn(B,X??this.defaultOptions?.dateFormat??"mediumDate",Ye||this.locale,me??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(dt){throw function pi(O,te){return new b.vHH(2100,!1)}()}}static#e=this.\u0275fac=function(X){return new(X||O)(b.Y36(b.soG,16),b.Y36(oa,24),b.Y36(Ls,24))};static#t=this.\u0275pipe=b.Yjl({name:"date",type:O,pure:!0,standalone:!0})}return O})(),ur=(()=>{class O{static#e=this.\u0275fac=function(X){return new(X||O)};static#t=this.\u0275mod=b.oAB({type:O});static#n=this.\u0275inj=b.cJS({})}return O})();const Di="browser",Oo="server";function $r(O){return O===Oo}let tc=(()=>{class O{static#e=this.\u0275prov=(0,b.Yz7)({token:O,providedIn:"root",factory:()=>new Ji((0,b.LFG)(le),window)})}return O})();class Ji{constructor(te,B){this.document=te,this.window=B,this.offset=()=>[0,0]}setOffset(te){this.offset=Array.isArray(te)?()=>te:te}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(te){this.supportsScrolling()&&this.window.scrollTo(te[0],te[1])}scrollToAnchor(te){if(!this.supportsScrolling())return;const B=function Er(O,te){const B=O.getElementById(te)||O.getElementsByName(te)[0];if(B)return B;if("function"==typeof O.createTreeWalker&&O.body&&"function"==typeof O.body.attachShadow){const X=O.createTreeWalker(O.body,NodeFilter.SHOW_ELEMENT);let me=X.currentNode;for(;me;){const Ye=me.shadowRoot;if(Ye){const dt=Ye.getElementById(te)||Ye.querySelector(`[name="${te}"]`);if(dt)return dt}me=X.nextNode()}}return null}(this.document,te);B&&(this.scrollToElement(B),B.focus())}setHistoryScrollRestoration(te){this.supportsScrolling()&&(this.window.history.scrollRestoration=te)}scrollToElement(te){const B=te.getBoundingClientRect(),X=B.left+this.window.pageXOffset,me=B.top+this.window.pageYOffset,Ye=this.offset();this.window.scrollTo(X-Ye[0],me-Ye[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Ci{}},9468:(Ht,$e,Y)=>{Y.d($e,{tb:()=>fI,AFp:()=>Rm,ip1:()=>s0,hGG:()=>GE,z2F:()=>bc,Ojb:()=>YI,sBO:()=>PE,Sil:()=>nI,EJc:()=>tI,ktI:()=>di,Xts:()=>rf,SBq:()=>qr,lqb:()=>nu,qLn:()=>iu,vpe:()=>ou,XFs:()=>Kt,OlP:()=>Tn,zs3:()=>$i,ZZ4:()=>D0,aQg:()=>C0,soG:()=>a0,YKP:()=>Ng,h0i:()=>lu,PXZ:()=>kC,R0b:()=>Os,FiY:()=>Xc,Lbi:()=>Vo,g9A:()=>As,Qsj:()=>ti,FYo:()=>Rr,JOm:()=>im,q3G:()=>oo,tp0:()=>cp,Rgc:()=>Uf,dDg:()=>CE,eoX:()=>Wf,q4F:()=>Do,GfV:()=>Eo,s_b:()=>Uy,ifc:()=>qi,gHi:()=>Ns,VuI:()=>zE,LMc:()=>xS,MMx:()=>Cy,Lck:()=>OT,eFA:()=>pI,Gpc:()=>wn,f3M:()=>jn,$WT:()=>Qi,_c5:()=>S0,qFp:()=>Zf,rg0:()=>Dr,c2e:()=>bE,zSh:()=>Om,HDt:()=>c0,wAp:()=>vg,vHH:()=>Ue,lri:()=>lI,rWj:()=>_0,JZr:()=>pt,EiD:()=>Em,mCW:()=>Im,qzn:()=>Cp,JVY:()=>Yd,pB0:()=>K0,eBb:()=>BI,L6k:()=>VI,LAX:()=>mv,cg1:()=>cb,kL8:()=>fy,dqk:()=>qn,Z0I:()=>gt,eJc:()=>x_,QGY:()=>Bl,F4k:()=>R1,RDi:()=>q0,AaK:()=>Ct,z3N:()=>lc,zW0:()=>Pc,qOj:()=>Jp,Xq5:()=>Ke,TTD:()=>wo,_Bn:()=>Tb,jDz:()=>xT,xp6:()=>Rv,uIk:()=>bf,Tol:()=>il,ekj:()=>cy,Suo:()=>QT,Xpm:()=>Fs,lG2:()=>ms,Yz7:()=>Ee,cJS:()=>Me,oAB:()=>jo,Yjl:()=>$o,Y36:()=>pf,_UZ:()=>Yv,BQk:()=>Xv,ynx:()=>Jv,qZA:()=>ph,TgZ:()=>sg,EpF:()=>zi,n5z:()=>td,Ikx:()=>hy,SDv:()=>CT,LFG:()=>xn,$8M:()=>k,$Z:()=>Km,NdJ:()=>ey,CRH:()=>JT,kcU:()=>Ql,O4$:()=>Ts,oxw:()=>Nf,ALo:()=>Ry,lcZ:()=>Mb,xi3:()=>Py,Hsn:()=>F1,F$t:()=>ty,Q6J:()=>a_,s9C:()=>u_,MGl:()=>l_,VKq:()=>Sb,WLB:()=>xy,kEZ:()=>HT,iGM:()=>Gf,MAs:()=>Cf,KtG:()=>Kl,Jf7:()=>a1,CHM:()=>ul,uOi:()=>dc,LSH:()=>pd,P3R:()=>Cm,YNc:()=>o_,W1O:()=>Zy,_uU:()=>Z1,Oqu:()=>Y1,hij:()=>Li,lnq:()=>dg,Gf:()=>qy});var b=Y(8645),se=Y(7394),ge=Y(5592),fe=Y(3019),l=Y(5619),le=Y(2096),ve=Y(4829),Be=Y(305),Se=Y(9360);function ae(r={}){const{connector:o=(()=>new b.x),resetOnError:s=!0,resetOnComplete:c=!0,resetOnRefCountZero:f=!0}=r;return m=>{let I,C,x,$=0,ne=!1,he=!1;const Ae=()=>{C?.unsubscribe(),C=void 0},ke=()=>{Ae(),I=x=void 0,ne=he=!1},lt=()=>{const At=I;ke(),At?.unsubscribe()};return(0,Se.e)((At,Jt)=>{$++,!he&&!ne&&Ae();const pn=x=x??o();Jt.add(()=>{$--,0===$&&!he&&!ne&&(C=ce(lt,f))}),pn.subscribe(Jt),!I&&$>0&&(I=new Be.Hp({next:_t=>pn.next(_t),error:_t=>{he=!0,Ae(),C=ce(ke,s,_t),pn.error(_t)},complete:()=>{ne=!0,Ae(),C=ce(ke,c),pn.complete()}}),(0,ve.Xf)(At).subscribe(I))})(m)}}function ce(r,o,...s){if(!0===o)return void r();if(!1===o)return;const c=new Be.Hp({next:()=>{c.unsubscribe(),r()}});return(0,ve.Xf)(o(...s)).subscribe(c)}var Ce=Y(4664),Xe=Y(3997);function Re(r){for(let o in r)if(r[o]===Re)return o;throw Error("Could not find renamed property on target object.")}function it(r,o){for(const s in o)o.hasOwnProperty(s)&&!r.hasOwnProperty(s)&&(r[s]=o[s])}function Ct(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(Ct).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const o=r.toString();if(null==o)return""+o;const s=o.indexOf("\n");return-1===s?o:o.substring(0,s)}function Lt(r,o){return null==r||""===r?null===o?"":o:null==o||""===o?r:r+" "+o}const Ft=Re({__forward_ref__:Re});function wn(r){return r.__forward_ref__=wn,r.toString=function(){return Ct(this())},r}function Mt(r){return ft(r)?r():r}function ft(r){return"function"==typeof r&&r.hasOwnProperty(Ft)&&r.__forward_ref__===wn}function ot(r){return r&&!!r.\u0275providers}const pt="https://g.co/ng/security#xss";class Ue extends Error{constructor(o,s){super(function ye(r,o){return`NG0${Math.abs(r)}${o?": "+o:""}`}(o,s)),this.code=o}}function Qe(r){return"string"==typeof r?r:null==r?"":String(r)}function mn(r,o){throw new Ue(-201,!1)}function wt(r,o,s,c){throw new Error(`ASSERTION ERROR: ${r}`+(null==c?"":` [Expected=> ${s} ${c} ${o} <=Actual]`))}function Ee(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function Me(r){return{providers:r.providers||[],imports:r.imports||[]}}function st(r){return Tt(r,tn)||Tt(r,gn)}function gt(r){return null!==st(r)}function Tt(r,o){return r.hasOwnProperty(o)?r[o]:null}function yn(r){return r&&(r.hasOwnProperty(zt)||r.hasOwnProperty(Bn))?r[zt]:null}const tn=Re({\u0275prov:Re}),zt=Re({\u0275inj:Re}),gn=Re({ngInjectableDef:Re}),Bn=Re({ngInjectorDef:Re});var Kt=function(r){return r[r.Default=0]="Default",r[r.Host=1]="Host",r[r.Self=2]="Self",r[r.SkipSelf=4]="SkipSelf",r[r.Optional=8]="Optional",r}(Kt||{});let mr;function dr(){return mr}function ln(r){const o=mr;return mr=r,o}function Wn(r,o,s){const c=st(r);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:s&Kt.Optional?null:void 0!==o?o:void mn(Ct(r))}const qn=globalThis;class Tn{constructor(o,s){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Ee({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const L={},H="__NG_DI_FLAG__",W="ngTempTokenPath",be=/\n/gm,bt="__source";let en;function En(r){const o=en;return en=r,o}function Wt(r,o=Kt.Default){if(void 0===en)throw new Ue(-203,!1);return null===en?Wn(r,void 0,o):en.get(r,o&Kt.Optional?null:void 0,o)}function xn(r,o=Kt.Default){return(dr()||Wt)(Mt(r),o)}function jn(r,o=Kt.Default){return xn(r,Si(o))}function Si(r){return typeof r>"u"||"number"==typeof r?r:0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)}function ps(r){const o=[];for(let s=0;s<r.length;s++){const c=Mt(r[s]);if(Array.isArray(c)){if(0===c.length)throw new Ue(900,!1);let f,m=Kt.Default;for(let I=0;I<c.length;I++){const C=c[I],x=Qr(C);"number"==typeof x?-1===x?f=C.token:m|=x:f=C}o.push(xn(f,m))}else o.push(xn(c))}return o}function Ai(r,o){return r[H]=o,r.prototype[H]=o,r}function Qr(r){return r[H]}function Vr(r){return{toString:r}.toString()}var Wi=function(r){return r[r.OnPush=0]="OnPush",r[r.Default=1]="Default",r}(Wi||{}),qi=function(r){return r[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",r}(qi||{});const Zi={},$n=[],So=Re({\u0275cmp:Re}),Or=Re({\u0275dir:Re}),Go=Re({\u0275pipe:Re}),ta=Re({\u0275mod:Re}),mo=Re({\u0275fac:Re}),Ao=Re({__NG_ELEMENT_ID__:Re}),Gr=Re({__NG_ENV_ID__:Re});function No(r,o,s){let c=r.length;for(;;){const f=r.indexOf(o,s);if(-1===f)return f;if(0===f||r.charCodeAt(f-1)<=32){const m=o.length;if(f+m===c||r.charCodeAt(f+m)<=32)return f}s=f+1}}function Ni(r,o,s){let c=0;for(;c<s.length;){const f=s[c];if("number"==typeof f){if(0!==f)break;c++;const m=s[c++],I=s[c++],C=s[c++];r.setAttribute(o,I,C,m)}else{const m=f,I=s[++c];Ki(m)?r.setProperty(o,m,I):r.setAttribute(o,m,I),c++}}return c}function Ta(r){return 3===r||4===r||6===r}function Ki(r){return 64===r.charCodeAt(0)}function Ea(r,o){if(null!==o&&0!==o.length)if(null===r||0===r.length)r=o.slice();else{let s=-1;for(let c=0;c<o.length;c++){const f=o[c];"number"==typeof f?s=f:0===s||Fr(r,s,f,null,-1===s||2===s?o[++c]:null)}}return r}function Fr(r,o,s,c,f){let m=0,I=r.length;if(-1===o)I=-1;else for(;m<r.length;){const C=r[m++];if("number"==typeof C){if(C===o){I=-1;break}if(C>o){I=m-1;break}}}for(;m<r.length;){const C=r[m];if("number"==typeof C)break;if(C===s){if(null===c)return void(null!==f&&(r[m+1]=f));if(c===r[m+1])return void(r[m+2]=f)}m++,null!==c&&m++,null!==f&&m++}-1!==I&&(r.splice(I,0,o),m=I+1),r.splice(m++,0,s),null!==c&&r.splice(m++,0,c),null!==f&&r.splice(m++,0,f)}const na="ng-template";function _o(r,o,s){let c=0,f=!0;for(;c<r.length;){let m=r[c++];if("string"==typeof m&&f){const I=r[c++];if(s&&"class"===m&&-1!==No(I.toLowerCase(),o,0))return!0}else{if(1===m){for(;c<r.length&&"string"==typeof(m=r[c++]);)if(m.toLowerCase()===o)return!0;return!1}"number"==typeof m&&(f=!1)}}return!1}function ra(r){return 4===r.type&&r.value!==na}function ks(r,o,s){return o===(4!==r.type||s?r.value:na)}function Bi(r,o,s){let c=4;const f=r.attrs||[],m=function Yi(r){for(let o=0;o<r.length;o++)if(Ta(r[o]))return o;return r.length}(f);let I=!1;for(let C=0;C<o.length;C++){const x=o[C];if("number"!=typeof x){if(!I)if(4&c){if(c=2|1&c,""!==x&&!ks(r,x,s)||""===x&&1===o.length){if(Jr(c))return!1;I=!0}}else{const $=8&c?x:o[++C];if(8&c&&null!==r.attrs){if(!_o(r.attrs,$,s)){if(Jr(c))return!1;I=!0}continue}const he=vo(8&c?"class":x,f,ra(r),s);if(-1===he){if(Jr(c))return!1;I=!0;continue}if(""!==$){let Ae;Ae=he>m?"":f[he+1].toLowerCase();const ke=8&c?Ae:null;if(ke&&-1!==No(ke,$,0)||2&c&&$!==Ae){if(Jr(c))return!1;I=!0}}}}else{if(!I&&!Jr(c)&&!Jr(x))return!1;if(I&&Jr(x))continue;I=!1,c=x|1&c}}return Jr(c)||I}function Jr(r){return 0==(1&r)}function vo(r,o,s,c){if(null===o)return-1;let f=0;if(c||!s){let m=!1;for(;f<o.length;){const I=o[f];if(I===r)return f;if(3===I||6===I)m=!0;else{if(1===I||2===I){let C=o[++f];for(;"string"==typeof C;)C=o[++f];continue}if(4===I)break;if(0===I){f+=4;continue}}f+=m?1:2}return-1}return function pi(r,o){let s=r.indexOf(4);if(s>-1)for(s++;s<r.length;){const c=r[s];if("number"==typeof c)return-1;if(c===o)return s;s++}return-1}(o,r)}function cr(r,o,s=!1){for(let c=0;c<o.length;c++)if(Bi(r,o[c],s))return!0;return!1}function Da(r,o){e:for(let s=0;s<o.length;s++){const c=o[s];if(r.length===c.length){for(let f=0;f<r.length;f++)if(r[f]!==c[f])continue e;return!0}}return!1}function gi(r,o){return r?":not("+o.trim()+")":o}function Bc(r){let o=r[0],s=1,c=2,f="",m=!1;for(;s<r.length;){let I=r[s];if("string"==typeof I)if(2&c){const C=r[++s];f+="["+I+(C.length>0?'="'+C+'"':"")+"]"}else 8&c?f+="."+I:4&c&&(f+=" "+I);else""!==f&&!Jr(I)&&(o+=gi(m,f),f=""),c=I,m=m||!Jr(c);s++}return""!==f&&(o+=gi(m,f)),o}function Fs(r){return Vr(()=>{const o=jr(r),s={...o,decls:r.decls,vars:r.vars,template:r.template,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,onPush:r.changeDetection===Wi.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&r.dependencies||null,getStandaloneInjector:null,signals:r.signals??!1,data:r.data||{},encapsulation:r.encapsulation||qi.Emulated,styles:r.styles||$n,_:null,schemas:r.schemas||null,tView:null,id:""};_s(s);const c=r.dependencies;return s.directiveDefs=mi(c,!1),s.pipeDefs=mi(c,!0),s.id=function Vs(r){let o=0;const s=[r.selectors,r.ngContentSelectors,r.hostVars,r.hostAttrs,r.consts,r.vars,r.decls,r.encapsulation,r.standalone,r.signals,r.exportAs,JSON.stringify(r.inputs),JSON.stringify(r.outputs),Object.getOwnPropertyNames(r.type.prototype),!!r.contentQueries,!!r.viewQuery].join("|");for(const f of s)o=Math.imul(31,o)+f.charCodeAt(0)<<0;return o+=2147483648,"c"+o}(s),s})}function gs(r){return Qn(r)||Br(r)}function Uc(r){return null!==r}function jo(r){return Vr(()=>({type:r.type,bootstrap:r.bootstrap||$n,declarations:r.declarations||$n,imports:r.imports||$n,exports:r.exports||$n,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function Ls(r,o){if(null==r)return Zi;const s={};for(const c in r)if(r.hasOwnProperty(c)){let f=r[c],m=f;Array.isArray(f)&&(m=f[1],f=f[0]),s[f]=c,o&&(o[f]=m)}return s}function ms(r){return Vr(()=>{const o=jr(r);return _s(o),o})}function $o(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function Qn(r){return r[So]||null}function Br(r){return r[Or]||null}function Oi(r){return r[Go]||null}function Qi(r){const o=Qn(r)||Br(r)||Oi(r);return null!==o&&o.standalone}function Xr(r,o){const s=r[ta]||null;if(!s&&!0===o)throw new Error(`Type ${Ct(r)} does not have '\u0275mod' property.`);return s}function jr(r){const o={};return{type:r.type,providersResolver:null,factory:null,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:o,inputTransforms:null,inputConfig:r.inputs||Zi,exportAs:r.exportAs||null,standalone:!0===r.standalone,signals:!0===r.signals,selectors:r.selectors||$n,viewQuery:r.viewQuery||null,features:r.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ls(r.inputs,o),outputs:Ls(r.outputs)}}function _s(r){r.features?.forEach(o=>o(r))}function mi(r,o){if(!r)return null;const s=o?Oi:gs;return()=>("function"==typeof r?r():r).map(c=>s(c)).filter(Uc)}const nr=0,Et=1,Dn=2,ur=3,Di=4,Oo=5,Lr=6,_i=7,hr=8,$r=9,yo=10,Cn=11,Mo=12,tc=13,Ji=14,Er=15,vi=16,Ci=17,zr=18,Bs=19,Hc=20,zo=21,Mi=22,xo=23,vs=24,Nn=25,Us=1,Ui=2,hi=7,Va=9,_r=11;function Ur(r){return Array.isArray(r)&&"object"==typeof r[Us]}function Xi(r){return Array.isArray(r)&&!0===r[Us]}function ys(r){return 0!=(4&r.flags)}function bs(r){return r.componentOffset>-1}function Is(r){return 1==(1&r.flags)}function ai(r){return!!r.template}function xi(r){return 0!=(512&r[Dn])}function Aa(r,o){return r.hasOwnProperty(mo)?r[mo]:null}let bi=null,zs=!1;function Gi(r){const o=bi;return bi=r,o}const Zo={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Ar(r){if(!Ko(r)||r.dirty){if(!r.producerMustRecompute(r)&&!Io(r))return void(r.dirty=!1);r.producerRecomputeValue(r),r.dirty=!1}}function Ha(r){r.dirty=!0,function no(r){if(void 0===r.liveConsumerNode)return;const o=zs;zs=!0;try{for(const s of r.liveConsumerNode)s.dirty||Ha(s)}finally{zs=o}}(r),r.consumerMarkedDirty?.(r)}function co(r){return r&&(r.nextProducerIndex=0),Gi(r)}function Oa(r,o){if(Gi(o),r&&void 0!==r.producerNode&&void 0!==r.producerIndexOfThis&&void 0!==r.producerLastReadVersion){if(Ko(r))for(let s=r.nextProducerIndex;s<r.producerNode.length;s++)Ws(r.producerNode[s],r.producerIndexOfThis[s]);for(;r.producerNode.length>r.nextProducerIndex;)r.producerNode.pop(),r.producerLastReadVersion.pop(),r.producerIndexOfThis.pop()}}function Io(r){ja(r);for(let o=0;o<r.producerNode.length;o++){const s=r.producerNode[o],c=r.producerLastReadVersion[o];if(c!==s.version||(Ar(s),c!==s.version))return!0}return!1}function Ga(r){if(ja(r),Ko(r))for(let o=0;o<r.producerNode.length;o++)Ws(r.producerNode[o],r.producerIndexOfThis[o]);r.producerNode.length=r.producerLastReadVersion.length=r.producerIndexOfThis.length=0,r.liveConsumerNode&&(r.liveConsumerNode.length=r.liveConsumerIndexOfThis.length=0)}function Ws(r,o){if(function ic(r){r.liveConsumerNode??=[],r.liveConsumerIndexOfThis??=[]}(r),ja(r),1===r.liveConsumerNode.length)for(let c=0;c<r.producerNode.length;c++)Ws(r.producerNode[c],r.producerIndexOfThis[c]);const s=r.liveConsumerNode.length-1;if(r.liveConsumerNode[o]=r.liveConsumerNode[s],r.liveConsumerIndexOfThis[o]=r.liveConsumerIndexOfThis[s],r.liveConsumerNode.length--,r.liveConsumerIndexOfThis.length--,o<r.liveConsumerNode.length){const c=r.liveConsumerIndexOfThis[o],f=r.liveConsumerNode[o];ja(f),f.producerIndexOfThis[c]=o}}function Ko(r){return r.consumerIsAlwaysLive||(r?.liveConsumerNode?.length??0)>0}function ja(r){r.producerNode??=[],r.producerIndexOfThis??=[],r.producerLastReadVersion??=[]}let sa=null;function Dr(r){const o=Gi(null);try{return r()}finally{Gi(o)}}const Ln=()=>{},ei=(()=>({...Zo,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:r=>{r.schedule(r.ref)},hasRun:!1,cleanupFn:Ln}))();class ii{constructor(o,s,c){this.previousValue=o,this.currentValue=s,this.firstChange=c}isFirstChange(){return this.firstChange}}function wo(){return uo}function uo(r){return r.type.prototype.ngOnChanges&&(r.setInput=To),ro}function ro(){const r=Jo(this),o=r?.current;if(o){const s=r.previous;if(s===Zi)r.previous=o;else for(let c in o)s[c]=o[c];r.current=null,this.ngOnChanges(o)}}function To(r,o,s,c){const f=this.declaredInputs[s],m=Jo(r)||function oc(r,o){return r[qs]=o}(r,{previous:Zi,current:null}),I=m.current||(m.current={}),C=m.previous,x=C[f];I[f]=new ii(x&&x.currentValue,o,C===Zi),r[c]=o}wo.ngInherit=!0;const qs="__ngSimpleChanges__";function Jo(r){return r[qs]||null}const Xo=function(r,o,s){},za="svg";function oi(r){for(;Array.isArray(r);)r=r[nr];return r}function gu(r,o){return oi(o[r])}function es(r,o){return oi(o[r.index])}function Nd(r,o){return r.data[o]}function sc(r,o){return r[o]}function Ii(r,o){const s=o[r];return Ur(s)?s:s[nr]}function aa(r,o){return null==o?null:r[o]}function al(r){r[Ci]=0}function xh(r){1024&r[Dn]||(r[Dn]|=1024,$c(r,1))}function Wr(r){1024&r[Dn]&&(r[Dn]&=-1025,$c(r,-1))}function $c(r,o){let s=r[ur];if(null===s)return;s[Oo]+=o;let c=s;for(s=s[ur];null!==s&&(1===o&&1===c[Oo]||-1===o&&0===c[Oo]);)s[Oo]+=o,c=s,s=s[ur]}function Tc(r,o){if(256==(256&r[Dn]))throw new Ue(911,!1);null===r[zo]&&(r[zo]=[]),r[zo].push(o)}const hn={lFrame:Ve(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function vu(){return hn.bindingsEnabled}function ca(){return null!==hn.skipHydrationRootTNode}function ut(){return hn.lFrame.lView}function fr(){return hn.lFrame.tView}function ul(r){return hn.lFrame.contextLView=r,r[hr]}function Kl(r){return hn.lFrame.contextLView=null,r}function ji(){let r=ll();for(;null!==r&&64===r.type;)r=r.parent;return r}function ll(){return hn.lFrame.currentTNode}function Wc(){const r=hn.lFrame,o=r.currentTNode;return r.isParent?o:o.parent}function ns(r,o){const s=hn.lFrame;s.currentTNode=r,s.isParent=o}function dl(){return hn.lFrame.isParent}function Wa(){hn.lFrame.isParent=!1}function Fo(){const r=hn.lFrame;let o=r.bindingRootIndex;return-1===o&&(o=r.bindingRootIndex=r.tView.bindingStartIndex),o}function Ma(){return hn.lFrame.bindingIndex++}function ua(r){const o=hn.lFrame,s=o.bindingIndex;return o.bindingIndex=o.bindingIndex+r,s}function yu(r){hn.lFrame.inI18n=r}function xd(r,o){const s=hn.lFrame;s.bindingIndex=s.bindingRootIndex=r,D(o)}function D(r){hn.lFrame.currentDirectiveIndex=r}function E(){return hn.lFrame.currentQueryIndex}function R(r){hn.lFrame.currentQueryIndex=r}function G(r){const o=r[Et];return 2===o.type?o.declTNode:1===o.type?r[Lr]:null}function re(r,o,s){if(s&Kt.SkipSelf){let f=o,m=r;for(;!(f=f.parent,null!==f||s&Kt.Host||(f=G(m),null===f||(m=m[Ji],10&f.type))););if(null===f)return!1;o=f,r=m}const c=hn.lFrame=je();return c.currentTNode=o,c.lView=r,!0}function pe(r){const o=je(),s=r[Et];hn.lFrame=o,o.currentTNode=s.firstChild,o.lView=r,o.tView=s,o.contextLView=r,o.bindingIndex=s.bindingStartIndex,o.inI18n=!1}function je(){const r=hn.lFrame,o=null===r?null:r.child;return null===o?Ve(r):o}function Ve(r){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=o),o}function Gt(){const r=hn.lFrame;return hn.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const On=Gt;function vr(){const r=Gt();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function Nr(){return hn.lFrame.selectedIndex}function Ks(r){hn.lFrame.selectedIndex=r}function Ir(){const r=hn.lFrame;return Nd(r.tView,r.selectedIndex)}function Ts(){hn.lFrame.currentNamespace=za}function Ql(){!function la(){hn.lFrame.currentNamespace=null}()}let Rd=!0;function Pd(){return Rd}function cc(r){Rd=r}function Lu(r,o){for(let s=o.directiveStart,c=o.directiveEnd;s<c;s++){const m=r.data[s].type.prototype,{ngAfterContentInit:I,ngAfterContentChecked:C,ngAfterViewInit:x,ngAfterViewChecked:$,ngOnDestroy:ne}=m;I&&(r.contentHooks??=[]).push(-s,I),C&&((r.contentHooks??=[]).push(s,C),(r.contentCheckHooks??=[]).push(s,C)),x&&(r.viewHooks??=[]).push(-s,x),$&&((r.viewHooks??=[]).push(s,$),(r.viewCheckHooks??=[]).push(s,$)),null!=ne&&(r.destroyHooks??=[]).push(s,ne)}}function Dc(r,o,s){Vu(r,o,3,s)}function Zc(r,o,s,c){(3&r[Dn])===s&&Vu(r,o,s,c)}function Jl(r,o){let s=r[Dn];(3&s)===o&&(s&=8191,s+=1,r[Dn]=s)}function Vu(r,o,s,c){const m=c??-1,I=o.length-1;let C=0;for(let x=void 0!==c?65535&r[Ci]:0;x<I;x++)if("number"==typeof o[x+1]){if(C=o[x],null!=c&&C>=c)break}else o[x]<0&&(r[Ci]+=65536),(C<m||-1==m)&&(Za(r,s,o,x),r[Ci]=(4294901760&r[Ci])+x+2),x++}function Xl(r,o){Xo(4,r,o);const s=Gi(null);try{o.call(r)}finally{Gi(s),Xo(5,r,o)}}function Za(r,o,s,c){const f=s[c]<0,m=s[c+1],C=r[f?-s[c]:s[c]];f?r[Dn]>>13<r[Ci]>>16&&(3&r[Dn])===o&&(r[Dn]+=8192,Xl(C,m)):Xl(C,m)}const Kc=-1;class gl{constructor(o,s,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=c}}function Bu(r){return r!==Kc}function wu(r){return 32767&r}function Tu(r,o){let s=function Ld(r){return r>>16}(r),c=o;for(;s>0;)c=c[Ji],s--;return c}let Uu=!0;function Cc(r){const o=Uu;return Uu=r,o}const Hu=255,ml=5;let Gu=0;const rs={};function Eu(r,o){const s=vl(r,o);if(-1!==s)return s;const c=o[Et];c.firstCreatePass&&(r.injectorIndex=o.length,Yc(c.data,r),Yc(o,null),Yc(c.blueprint,null));const f=ju(r,o),m=r.injectorIndex;if(Bu(f)){const I=wu(f),C=Tu(f,o),x=C[Et].data;for(let $=0;$<8;$++)o[m+$]=C[I+$]|x[I+$]}return o[m+8]=f,m}function Yc(r,o){r.push(0,0,0,0,0,0,0,0,o)}function vl(r,o){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===o[r.injectorIndex+8]?-1:r.injectorIndex}function ju(r,o){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let s=0,c=null,f=o;for(;null!==f;){if(c=N(f),null===c)return Kc;if(s++,f=f[Ji],-1!==c.injectorIndex)return c.injectorIndex|s<<16}return Kc}function $u(r,o,s){!function _l(r,o,s){let c;"string"==typeof s?c=s.charCodeAt(0)||0:s.hasOwnProperty(Ao)&&(c=s[Ao]),null==c&&(c=s[Ao]=Gu++);const f=c&Hu;o.data[r+(f>>ml)]|=1<<f}(r,o,s)}function jg(r,o,s){if(s&Kt.Optional||void 0!==r)return r;mn()}function ep(r,o,s,c){if(s&Kt.Optional&&void 0===c&&(c=null),!(s&(Kt.Self|Kt.Host))){const f=r[$r],m=ln(void 0);try{return f?f.get(o,c,s&Kt.Optional):Wn(o,c,s&Kt.Optional)}finally{ln(m)}}return jg(c,0,s)}function zu(r,o,s,c=Kt.Default,f){if(null!==r){if(2048&o[Dn]&&!(c&Kt.Self)){const I=function rp(r,o,s,c,f){let m=r,I=o;for(;null!==m&&null!==I&&2048&I[Dn]&&!(512&I[Dn]);){const C=tp(m,I,s,c|Kt.Self,rs);if(C!==rs)return C;let x=m.parent;if(!x){const $=I[Hc];if($){const ne=$.get(s,rs,c);if(ne!==rs)return ne}x=N(I),I=I[Ji]}m=x}return f}(r,o,s,c,rs);if(I!==rs)return I}const m=tp(r,o,s,c,rs);if(m!==rs)return m}return ep(o,s,c,f)}function tp(r,o,s,c,f){const m=function Bd(r){if("string"==typeof r)return r.charCodeAt(0)||0;const o=r.hasOwnProperty(Ao)?r[Ao]:void 0;return"number"==typeof o?o>=0?o&Hu:np:o}(s);if("function"==typeof m){if(!re(o,r,c))return c&Kt.Host?jg(f,0,c):ep(o,s,c,f);try{let I;if(I=m(c),null!=I||c&Kt.Optional)return I;mn()}finally{On()}}else if("number"==typeof m){let I=null,C=vl(r,o),x=Kc,$=c&Kt.Host?o[Er][Lr]:null;for((-1===C||c&Kt.SkipSelf)&&(x=-1===C?ju(r,o):o[C+8],x!==Kc&&Wu(c,!1)?(I=o[Et],C=wu(x),o=Tu(x,o)):C=-1);-1!==C;){const ne=o[Et];if(uc(m,C,ne.data)){const he=Du(C,o,s,I,c,$);if(he!==rs)return he}x=o[C+8],x!==Kc&&Wu(c,o[Et].data[C+8]===$)&&uc(m,C,o)?(I=ne,C=wu(x),o=Tu(x,o)):C=-1}}return f}function Du(r,o,s,c,f,m){const I=o[Et],C=I.data[r+8],ne=Qc(C,I,s,null==c?bs(C)&&Uu:c!=I&&0!=(3&C.type),f&Kt.Host&&m===C);return null!==ne?Jc(o,I,ne,C):rs}function Qc(r,o,s,c,f){const m=r.providerIndexes,I=o.data,C=1048575&m,x=r.directiveStart,ne=m>>20,Ae=f?C+ne:r.directiveEnd;for(let ke=c?C:C+ne;ke<Ae;ke++){const lt=I[ke];if(ke<x&&s===lt||ke>=x&&lt.type===s)return ke}if(f){const ke=I[x];if(ke&&ai(ke)&&ke.type===s)return x}return null}function Jc(r,o,s,c){let f=r[s];const m=o.data;if(function kd(r){return r instanceof gl}(f)){const I=f;I.resolving&&function An(r,o){const s=o?`. Dependency path: ${o.join(" > ")} > ${r}`:"";throw new Ue(-200,`Circular dependency in DI detected for ${r}${s}`)}(function ht(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():Qe(r)}(m[s]));const C=Cc(I.canSeeViewProviders);I.resolving=!0;const $=I.injectImpl?ln(I.injectImpl):null;re(r,c,Kt.Default);try{f=r[s]=I.factory(void 0,m,r,c),o.firstCreatePass&&s>=c.directiveStart&&function Rh(r,o,s){const{ngOnChanges:c,ngOnInit:f,ngDoCheck:m}=o.type.prototype;if(c){const I=uo(o);(s.preOrderHooks??=[]).push(r,I),(s.preOrderCheckHooks??=[]).push(r,I)}f&&(s.preOrderHooks??=[]).push(0-r,f),m&&((s.preOrderHooks??=[]).push(r,m),(s.preOrderCheckHooks??=[]).push(r,m))}(s,m[s],o)}finally{null!==$&&ln($),Cc(C),I.resolving=!1,On()}}return f}function uc(r,o,s){return!!(s[o+(r>>ml)]&1<<r)}function Wu(r,o){return!(r&Kt.Self||r&Kt.Host&&o)}class Es{constructor(o,s){this._tNode=o,this._lView=s}get(o,s,c){return zu(this._tNode,this._lView,o,Si(c),s)}}function np(){return new Es(ji(),ut())}function td(r){return Vr(()=>{const o=r.prototype.constructor,s=o[mo]||bl(o),c=Object.prototype;let f=Object.getPrototypeOf(r.prototype).constructor;for(;f&&f!==c;){const m=f[mo]||bl(f);if(m&&m!==s)return m;f=Object.getPrototypeOf(f)}return m=>new m})}function bl(r){return ft(r)?()=>{const o=bl(Mt(r));return o&&o()}:Aa(r)}function N(r){const o=r[Et],s=o.type;return 2===s?o.declTNode:1===s?r[Lr]:null}function k(r){return function Vd(r,o){if("class"===o)return r.classes;if("style"===o)return r.styles;const s=r.attrs;if(s){const c=s.length;let f=0;for(;f<c;){const m=s[f];if(Ta(m))break;if(0===m)f+=2;else if("number"==typeof m)for(f++;f<c&&"string"==typeof s[f];)f++;else{if(m===o)return s[f+1];f+=2}}}return null}(ji(),r)}const ue="__parameters__";function Pt(r,o,s){return Vr(()=>{const c=function rt(r){return function(...s){if(r){const c=r(...s);for(const f in c)this[f]=c[f]}}}(o);function f(...m){if(this instanceof f)return c.apply(this,m),this;const I=new f(...m);return C.annotation=I,C;function C(x,$,ne){const he=x.hasOwnProperty(ue)?x[ue]:Object.defineProperty(x,ue,{value:[]})[ue];for(;he.length<=ne;)he.push(null);return(he[ne]=he[ne]||[]).push(I),x}}return s&&(f.prototype=Object.create(s.prototype)),f.prototype.ngMetadataName=r,f.annotationCls=f,f})}function Lo(r,o){r.forEach(s=>Array.isArray(s)?Lo(s,o):o(s))}function Hd(r,o,s){o>=r.length?r.push(s):r.splice(o,0,s)}function rd(r,o){return o>=r.length-1?r.pop():r.splice(o,1)[0]}function Ac(r,o){const s=[];for(let c=0;c<r;c++)s.push(o);return s}function Ds(r,o,s){let c=Nc(r,o);return c>=0?r[1|c]=s:(c=~c,function $g(r,o,s,c){let f=r.length;if(f==o)r.push(s,c);else if(1===f)r.push(c,r[0]),r[0]=s;else{for(f--,r.push(r[f-1],r[f]);f>o;)r[f]=r[f-2],f--;r[o]=s,r[o+1]=c}}(r,c,o,s)),c}function Gd(r,o){const s=Nc(r,o);if(s>=0)return r[1|s]}function Nc(r,o){return function Lh(r,o,s){let c=0,f=r.length>>s;for(;f!==c;){const m=c+(f-c>>1),I=r[m<<s];if(o===I)return m<<s;I>o?f=m:c=m+1}return~(f<<s)}(r,o,1)}const Xc=Ai(Pt("Optional"),8),cp=Ai(Pt("SkipSelf"),4);function rm(r){return 128==(128&r.flags)}var im=function(r){return r[r.Important=1]="Important",r[r.DashCase=2]="DashCase",r}(im||{});const J_=/^>|^->|<!--|-->|--!>|<!-$/g,MI=/(<|>)/g,X_="\u200b$1\u200b";const om=new Map;let F0=0;const hp="__ngContext__";function fa(r,o){Ur(o)?(r[hp]=o[Bs],function $d(r){om.set(r[Bs],r)}(o)):r[hp]=o}let dd;function zd(r,o){return dd(r,o)}function qh(r){const o=r[ur];return Xi(o)?o[ur]:o}function iv(r){return ov(r[Mo])}function Zh(r){return ov(r[Di])}function ov(r){for(;null!==r&&!Xi(r);)r=r[Di];return r}function wl(r,o,s,c,f){if(null!=c){let m,I=!1;Xi(c)?m=c:Ur(c)&&(I=!0,c=c[nr]);const C=oi(c);0===r&&null!==s?null==f?Oc(o,s,C):Tl(o,s,C,f||null,!0):1===r&&null!==s?Tl(o,s,C,f||null,!0):2===r?function wp(r,o,s){const c=El(r,o);c&&function lm(r,o,s,c){r.removeChild(o,s,c)}(r,c,o,s)}(o,C,I):3===r&&o.destroyNode(C),null!=m&&function Ep(r,o,s,c,f){const m=s[hi];m!==oi(s)&&wl(o,r,c,m,f);for(let C=_r;C<s.length;C++){const x=s[C];Qu(x[Et],x,r,o,c,m)}}(o,r,m,s,f)}}function mp(r,o){return r.createText(o)}function sv(r,o){return r.createComment(function k0(r){return r.replace(J_,o=>o.replace(MI,X_))}(o))}function cm(r,o,s){return r.createElement(o,s)}function Wd(r,o){const s=r[Va],c=s.indexOf(o);Wr(o),s.splice(c,1)}function um(r,o){if(r.length<=_r)return;const s=_r+o,c=r[s];if(c){const f=c[vi];null!==f&&f!==r&&Wd(f,c),o>0&&(r[s-1][Di]=c[Di]);const m=rd(r,_r+o);!function xI(r,o){Qu(r,o,o[Cn],2,null,null),o[nr]=null,o[Lr]=null}(c[Et],c);const I=m[zr];null!==I&&I.detachView(m[Et]),c[ur]=null,c[Di]=null,c[Dn]&=-129}return c}function _p(r,o){if(!(256&o[Dn])){const s=o[Cn];o[xo]&&Ga(o[xo]),o[vs]&&Ga(o[vs]),s.destroyNode&&Qu(r,o,s,3,null,null),function j0(r){let o=r[Mo];if(!o)return vp(r[Et],r);for(;o;){let s=null;if(Ur(o))s=o[Mo];else{const c=o[_r];c&&(s=c)}if(!s){for(;o&&!o[Di]&&o!==r;)Ur(o)&&vp(o[Et],o),o=o[ur];null===o&&(o=r),Ur(o)&&vp(o[Et],o),s=o&&o[Di]}o=s}}(o)}}function vp(r,o){if(!(256&o[Dn])){o[Dn]&=-129,o[Dn]|=256,function uv(r,o){let s;if(null!=r&&null!=(s=r.destroyHooks))for(let c=0;c<s.length;c+=2){const f=o[s[c]];if(!(f instanceof gl)){const m=s[c+1];if(Array.isArray(m))for(let I=0;I<m.length;I+=2){const C=f[m[I]],x=m[I+1];Xo(4,C,x);try{x.call(C)}finally{Xo(5,C,x)}}else{Xo(4,f,m);try{m.call(f)}finally{Xo(5,f,m)}}}}}(r,o),function RI(r,o){const s=r.cleanup,c=o[_i];if(null!==s)for(let m=0;m<s.length-1;m+=2)if("string"==typeof s[m]){const I=s[m+3];I>=0?c[I]():c[-I].unsubscribe(),m+=2}else s[m].call(c[s[m+1]]);null!==c&&(o[_i]=null);const f=o[zo];if(null!==f){o[zo]=null;for(let m=0;m<f.length;m++)(0,f[m])()}}(r,o),1===o[Et].type&&o[Cn].destroy();const s=o[vi];if(null!==s&&Xi(o[ur])){s!==o[ur]&&Wd(s,o);const c=o[zr];null!==c&&c.detachView(r)}!function L0(r){om.delete(r[Bs])}(o)}}function yp(r,o,s){return Kh(r,o.parent,s)}function Kh(r,o,s){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return s[nr];{const{componentOffset:f}=c;if(f>-1){const{encapsulation:m}=r.data[c.directiveStart+f];if(m===qi.None||m===qi.Emulated)return null}return es(c,s)}}function Tl(r,o,s,c,f){r.insertBefore(o,s,c,f)}function Oc(r,o,s){r.appendChild(o,s)}function ki(r,o,s,c,f){null!==c?Tl(r,o,s,c,f):Oc(r,o,s)}function El(r,o){return r.parentNode(o)}function Ip(r,o,s){return dm(r,o,s)}function qd(r,o,s){return 40&r.type?es(r,s):null}let Dl,Jh,gm,mm,dm=qd;function Yh(r,o){dm=r,Dl=o}function Zd(r,o,s,c){const f=yp(r,c,o),m=o[Cn],C=Ip(c.parent||o[Lr],c,o);if(null!=f)if(Array.isArray(s))for(let x=0;x<s.length;x++)ki(m,f,s[x],C,!1);else ki(m,f,s,C,!1);void 0!==Dl&&Dl(m,c,o,s,f)}function Cu(r,o){if(null!==o){const s=o.type;if(3&s)return es(o,r);if(4&s)return fm(-1,r[o.index]);if(8&s){const c=o.child;if(null!==c)return Cu(r,c);{const f=r[o.index];return Xi(f)?fm(-1,f):oi(f)}}if(32&s)return zd(o,r)()||oi(r[o.index]);{const c=hm(r,o);return null!==c?Array.isArray(c)?c[0]:Cu(qh(r[Er]),c):Cu(r,o.next)}}return null}function hm(r,o){return null!==o?r[Er][Lr].projection[o.projection]:null}function fm(r,o){const s=_r+r+1;if(s<o.length){const c=o[s],f=c[Et].firstChild;if(null!==f)return Cu(c,f)}return o[hi]}function Yu(r,o,s,c,f,m,I){for(;null!=s;){const C=c[s.index],x=s.type;if(I&&0===o&&(C&&fa(oi(C),c),s.flags|=2),32!=(32&s.flags))if(8&x)Yu(r,o,s.child,c,f,m,!1),wl(o,r,f,C,m);else if(32&x){const $=zd(s,c);let ne;for(;ne=$();)wl(o,r,f,ne,m);wl(o,r,f,C,m)}else 16&x?pm(r,o,c,s,f,m):wl(o,r,f,C,m);s=I?s.projectionNext:s.next}}function Qu(r,o,s,c,f,m){Yu(s,c,r.firstChild,o,f,m,!1)}function pm(r,o,s,c,f,m){const I=s[Er],x=I[Lr].projection[c.projection];if(Array.isArray(x))for(let $=0;$<x.length;$++)wl(o,r,f,x[$],m);else{let $=x;const ne=I[ur];rm(c)&&($.flags|=128),Yu(r,o,$,ne,f,m,!0)}}function dv(r,o,s){""===s?r.removeAttribute(o,"class"):r.setAttribute(o,"class",s)}function hv(r,o,s){const{mergedAttrs:c,classes:f,styles:m}=s;null!==c&&Ni(r,o,c),null!==f&&dv(r,o,f),null!==m&&function Qh(r,o,s){r.setAttribute(o,"style",s)}(r,o,m)}function Xh(r){return function fv(){if(void 0===Jh&&(Jh=null,qn.trustedTypes))try{Jh=qn.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return Jh}()?.createHTML(r)||r}function q0(r){gm=r}function Dp(){if(void 0!==gm)return gm;if(typeof document<"u")return document;throw new Ue(210,!1)}function pv(r){return function Z0(){if(void 0===mm&&(mm=null,qn.trustedTypes))try{mm=qn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return mm}()?.createScriptURL(r)||r}class Kd{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${pt})`}}class LI extends Kd{getTypeName(){return"HTML"}}class vm extends Kd{getTypeName(){return"Style"}}class gv extends Kd{getTypeName(){return"Script"}}class ef extends Kd{getTypeName(){return"URL"}}class ym extends Kd{getTypeName(){return"ResourceURL"}}function lc(r){return r instanceof Kd?r.changingThisBreaksApplicationSecurity:r}function Cp(r,o){const s=function Sp(r){return r instanceof Kd&&r.getTypeName()||null}(r);if(null!=s&&s!==o){if("ResourceURL"===s&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${s} (see ${pt})`)}return s===o}function Yd(r){return new LI(r)}function VI(r){return new vm(r)}function BI(r){return new gv(r)}function mv(r){return new ef(r)}function K0(r){return new ym(r)}function Y0(r){const o=new bm(r);return function HI(){try{return!!(new window.DOMParser).parseFromString(Xh(""),"text/html")}catch{return!1}}()?new UI(o):o}class UI{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const s=(new window.DOMParser).parseFromString(Xh(o),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(o):(s.removeChild(s.firstChild),s)}catch{return null}}}class bm{constructor(o){this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(o){const s=this.inertDocument.createElement("template");return s.innerHTML=Xh(o),s}}const GI=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Im(r){return(r=String(r)).match(GI)?r:"unsafe:"+r}function Cl(r){const o={};for(const s of r.split(","))o[s]=!0;return o}function Ap(...r){const o={};for(const s of r)for(const c in s)s.hasOwnProperty(c)&&(o[c]=!0);return o}const wm=Cl("area,br,col,hr,img,wbr"),Mc=Cl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Yt=Cl("rp,rt"),tu=Ap(wm,Ap(Mc,Cl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ap(Yt,Cl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ap(Yt,Mc)),Sl=Cl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),vv=Ap(Sl,Cl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Cl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Q0=Cl("script,style,template");class pa{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let s=o.firstChild,c=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?c=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,c&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let f=this.checkClobberedElement(s,s.nextSibling);if(f){s=f;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(o){const s=o.nodeName.toLowerCase();if(!tu.hasOwnProperty(s))return this.sanitizedSomething=!0,!Q0.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const c=o.attributes;for(let f=0;f<c.length;f++){const m=c.item(f),I=m.name,C=I.toLowerCase();if(!vv.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let x=m.value;Sl[C]&&(x=Im(x)),this.buf.push(" ",I,'="',Al(x),'"')}return this.buf.push(">"),!0}endElement(o){const s=o.nodeName.toLowerCase();tu.hasOwnProperty(s)&&!wm.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(o){this.buf.push(Al(o))}checkClobberedElement(o,s){if(s&&(o.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return s}}const Qd=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Js=/([^\#-~ |!])/g;function Al(r){return r.replace(/&/g,"&amp;").replace(Qd,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(Js,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let nf;function Em(r,o){let s=null;try{nf=nf||Y0(r);let c=o?String(o):"";s=nf.getInertBodyElement(c);let f=5,m=c;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,c=m,m=s.innerHTML,s=nf.getInertBodyElement(c)}while(c!==m);return Xh((new pa).sanitizeChildren(Jd(s)||s))}finally{if(s){const c=Jd(s)||s;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function Jd(r){return"content"in r&&function Dm(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var oo=function(r){return r[r.NONE=0]="NONE",r[r.HTML=1]="HTML",r[r.STYLE=2]="STYLE",r[r.SCRIPT=3]="SCRIPT",r[r.URL=4]="URL",r[r.RESOURCE_URL=5]="RESOURCE_URL",r}(oo||{});function pd(r){const o=Np();return o?o.sanitize(oo.URL,r)||"":Cp(r,"URL")?lc(r):Im(Qe(r))}function dc(r){const o=Np();if(o)return pv(o.sanitize(oo.RESOURCE_URL,r)||"");if(Cp(r,"ResourceURL"))return pv(lc(r));throw new Ue(904,!1)}function Cm(r,o,s){return function eh(r,o){return"src"===o&&("embed"===r||"frame"===r||"iframe"===r||"media"===r||"script"===r)||"href"===o&&("base"===r||"link"===r)?dc:pd}(o,s)(r)}function Np(){const r=ut();return r&&r[yo].sanitizer}const rf=new Tn("ENVIRONMENT_INITIALIZER"),Sm=new Tn("INJECTOR",-1),sf=new Tn("INJECTOR_DEF_TYPES");class Op{get(o,s=L){if(s===L){const c=new Error(`NullInjectorError: No provider for ${Ct(o)}!`);throw c.name="NullInjectorError",c}return s}}function Mp(...r){return{\u0275providers:wv(0,r),\u0275fromNgModule:!0}}function wv(r,...o){const s=[],c=new Set;let f;const m=I=>{s.push(I)};return Lo(o,I=>{const C=I;Ju(C,m,[],c)&&(f||=[],f.push(C))}),void 0!==f&&X0(f,m),s}function X0(r,o){for(let s=0;s<r.length;s++){const{ngModule:c,providers:f}=r[s];gd(f,m=>{o(m,c)})}}function Ju(r,o,s,c){if(!(r=Mt(r)))return!1;let f=null,m=yn(r);const I=!m&&Qn(r);if(m||I){if(I&&!I.standalone)return!1;f=r}else{const x=r.ngModule;if(m=yn(x),!m)return!1;f=x}const C=c.has(f);if(I){if(C)return!1;if(c.add(f),I.dependencies){const x="function"==typeof I.dependencies?I.dependencies():I.dependencies;for(const $ of x)Ju($,o,s,c)}}else{if(!m)return!1;{if(null!=m.imports&&!C){let $;c.add(f);try{Lo(m.imports,ne=>{Ju(ne,o,s,c)&&($||=[],$.push(ne))})}finally{}void 0!==$&&X0($,o)}if(!C){const $=Aa(f)||(()=>new f);o({provide:f,useFactory:$,deps:$n},f),o({provide:sf,useValue:f,multi:!0},f),o({provide:rf,useValue:()=>xn(f),multi:!0},f)}const x=m.providers;if(null!=x&&!C){const $=r;gd(x,ne=>{o(ne,$)})}}}return f!==r&&void 0!==r.providers}function gd(r,o){for(let s of r)ot(s)&&(s=s.\u0275providers),Array.isArray(s)?gd(s,o):o(s)}const qI=Re({provide:String,useValue:Re});function Tv(r){return null!==r&&"object"==typeof r&&qI in r}function th(r){return"function"==typeof r}const Om=new Tn("Set Injector scope."),Rp={},af={};let Pp;function cf(){return void 0===Pp&&(Pp=new Op),Pp}class nu{}class md extends nu{get destroyed(){return this._destroyed}constructor(o,s,c,f){super(),this.parent=s,this.source=c,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Fp(o,I=>this.processProvider(I)),this.records.set(Sm,nh(void 0,this)),f.has("environment")&&this.records.set(nu,nh(void 0,this));const m=this.records.get(Om);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(sf.multi,$n,Kt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const o=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of o)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(o){return this.assertNotDestroyed(),this._onDestroyHooks.push(o),()=>this.removeOnDestroy(o)}runInContext(o){this.assertNotDestroyed();const s=En(this),c=ln(void 0);try{return o()}finally{En(s),ln(c)}}get(o,s=L,c=Kt.Default){if(this.assertNotDestroyed(),o.hasOwnProperty(Gr))return o[Gr](this);c=Si(c);const m=En(this),I=ln(void 0);try{if(!(c&Kt.SkipSelf)){let x=this.records.get(o);if(void 0===x){const $=function KI(r){return"function"==typeof r||"object"==typeof r&&r instanceof Tn}(o)&&st(o);x=$&&this.injectableDefInScope($)?nh(kp(o),Rp):null,this.records.set(o,x)}if(null!=x)return this.hydrate(o,x)}return(c&Kt.Self?cf():this.parent).get(o,s=c&Kt.Optional&&s===L?null:s)}catch(C){if("NullInjectorError"===C.name){if((C[W]=C[W]||[]).unshift(Ct(o)),m)throw C;return function go(r,o,s,c){const f=r[W];throw o[bt]&&f.unshift(o[bt]),r.message=function wa(r,o,s,c=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.slice(2):r;let f=Ct(o);if(Array.isArray(o))f=o.map(Ct).join(" -> ");else if("object"==typeof o){let m=[];for(let I in o)if(o.hasOwnProperty(I)){let C=o[I];m.push(I+":"+("string"==typeof C?JSON.stringify(C):Ct(C)))}f=`{${m.join(", ")}}`}return`${s}${c?"("+c+")":""}[${f}]: ${r.replace(be,"\n  ")}`}("\n"+r.message,f,s,c),r.ngTokenPath=f,r[W]=null,r}(C,o,"R3InjectorError",this.source)}throw C}finally{ln(I),En(m)}}resolveInjectorInitializers(){const o=En(this),s=ln(void 0);try{const f=this.get(rf.multi,$n,Kt.Self);for(const m of f)m()}finally{En(o),ln(s)}}toString(){const o=[],s=this.records;for(const c of s.keys())o.push(Ct(c));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ue(205,!1)}processProvider(o){let s=th(o=Mt(o))?o:Mt(o&&o.provide);const c=function ZI(r){return Tv(r)?nh(void 0,r.useValue):nh(Mm(r),Rp)}(o);if(th(o)||!0!==o.multi)this.records.get(s);else{let f=this.records.get(s);f||(f=nh(void 0,Rp,!0),f.factory=()=>ps(f.multi),this.records.set(s,f)),s=o,f.multi.push(o)}this.records.set(s,c)}hydrate(o,s){return s.value===Rp&&(s.value=af,s.value=s.factory()),"object"==typeof s.value&&s.value&&function xm(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(o){if(!o.providedIn)return!1;const s=Mt(o.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(o){const s=this._onDestroyHooks.indexOf(o);-1!==s&&this._onDestroyHooks.splice(s,1)}}function kp(r){const o=st(r),s=null!==o?o.factory:Aa(r);if(null!==s)return s;if(r instanceof Tn)throw new Ue(204,!1);if(r instanceof Function)return function t1(r){const o=r.length;if(o>0)throw Ac(o,"?"),new Ue(204,!1);const s=function lr(r){return r&&(r[tn]||r[gn])||null}(r);return null!==s?()=>s.factory(r):()=>new r}(r);throw new Ue(204,!1)}function Mm(r,o,s){let c;if(th(r)){const f=Mt(r);return Aa(f)||kp(f)}if(Tv(r))c=()=>Mt(r.useValue);else if(function Nm(r){return!(!r||!r.useFactory)}(r))c=()=>r.useFactory(...ps(r.deps||[]));else if(function xp(r){return!(!r||!r.useExisting)}(r))c=()=>xn(Mt(r.useExisting));else{const f=Mt(r&&(r.useClass||r.provide));if(!function Ev(r){return!!r.deps}(r))return Aa(f)||kp(f);c=()=>new f(...ps(r.deps))}return c}function nh(r,o,s=!1){return{factory:r,value:o,multi:s?[]:void 0}}function Fp(r,o){for(const s of r)Array.isArray(s)?Fp(s,o):s&&ot(s)?Fp(s.\u0275providers,o):o(s)}const Rm=new Tn("AppId",{providedIn:"root",factory:()=>Dv}),Dv="ng",As=new Tn("Platform Initializer"),Vo=new Tn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),YI=new Tn("CSP nonce",{providedIn:"root",factory:()=>Dp().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let rh=(r,o,s)=>null;function Ol(r,o,s=!1){return rh(r,o,s)}class qe{}class Vt{}class Yn{resolveComponentFactory(o){throw function Nt(r){const o=Error(`No component factory found for ${Ct(r)}.`);return o.ngComponent=r,o}(o)}}let _n=(()=>{class r{static#e=this.NULL=new Yn}return r})();function Cr(){return er(ji(),ut())}function er(r,o){return new qr(es(r,o))}let qr=(()=>{class r{constructor(s){this.nativeElement=s}static#e=this.__NG_ELEMENT_ID__=Cr}return r})();function ir(r){return r instanceof qr?r.nativeElement:r}class Rr{}let ti=(()=>{class r{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function wi(){const r=ut(),s=Ii(ji().index,r);return(Ur(s)?s:r)[Cn]}()}return r})(),li=(()=>{class r{static#e=this.\u0275prov=Ee({token:r,providedIn:"root",factory:()=>null})}return r})();class Eo{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Do=new Eo("16.2.12"),os={};function Ns(r){if(!dr()&&!function rn(){return en}())throw new Ue(-203,!1)}function ih(r,o=null,s=null,c){const f=yd(r,o,s,c);return f.resolveInjectorInitializers(),f}function yd(r,o=null,s=null,c,f=new Set){const m=[s||$n,Mp(r)];return c=c||("object"==typeof r?void 0:Ct(r)),new md(m,o||cf(),c||null,f)}let $i=(()=>{class r{static#e=this.THROW_IF_NOT_FOUND=L;static#t=this.NULL=new Op;static create(s,c){if(Array.isArray(s))return ih({name:""},c,s,"");{const f=s.name??"";return ih({name:f},s.parent,s.providers,f)}}static#n=this.\u0275prov=Ee({token:r,providedIn:"any",factory:()=>xn(Sm)});static#r=this.__NG_ELEMENT_ID__=-1}return r})();function Rc(r){return r.ngOriginalError}class iu{constructor(){this._console=console}handleError(o){const s=this._findOriginalError(o);this._console.error("ERROR",o),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(o){let s=o&&Rc(o);for(;s&&Rc(s);)s=Rc(s);return s||null}}let di=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=df;static#t=this.__NG_ENV_ID__=s=>s}return r})();class sh extends di{constructor(o){super(),this._lView=o}onDestroy(o){return Tc(this._lView,o),()=>function io(r,o){if(null===r[zo])return;const s=r[zo].indexOf(o);-1!==s&&r[zo].splice(s,1)}(this._lView,o)}}function df(){return new sh(ut())}function Um(r){return o=>{setTimeout(r,void 0,o)}}const ou=class ah extends b.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,s,c){let f=o,m=s||(()=>null),I=c;if(o&&"object"==typeof o){const x=o;f=x.next?.bind(x),m=x.error?.bind(x),I=x.complete?.bind(x)}this.__isAsync&&(m=Um(m),f&&(f=Um(f)),I&&(I=Um(I)));const C=super.subscribe({next:f,error:m,complete:I});return o instanceof se.w0&&o.add(C),C}};function Hm(...r){}class Os{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ou(!1),this.onMicrotaskEmpty=new ou(!1),this.onStable=new ou(!1),this.onError=new ou(!1),typeof Zone>"u")throw new Ue(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!c&&s,f.shouldCoalesceRunChangeDetection=c,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function Nv(){const r="function"==typeof qn.requestAnimationFrame;let o=qn[r?"requestAnimationFrame":"setTimeout"],s=qn[r?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&o&&s){const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c);const f=s[Zone.__symbol__("OriginalDelegate")];f&&(s=f)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function jm(r){const o=()=>{!function Gm(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(qn,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,ch(r),r.isCheckStableRunning=!0,hc(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),ch(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,c,f,m,I,C)=>{if(function nw(r){return!(!Array.isArray(r)||1!==r.length)&&!0===r[0].data?.__ignore_ng_zone__}(C))return s.invokeTask(f,m,I,C);try{return xl(r),s.invokeTask(f,m,I,C)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||r.shouldCoalesceRunChangeDetection)&&o(),$m(r)}},onInvoke:(s,c,f,m,I,C,x)=>{try{return xl(r),s.invoke(f,m,I,C,x)}finally{r.shouldCoalesceRunChangeDetection&&o(),$m(r)}},onHasTask:(s,c,f,m)=>{s.hasTask(f,m),c===f&&("microTask"==m.change?(r._hasPendingMicrotasks=m.microTask,ch(r),hc(r)):"macroTask"==m.change&&(r.hasPendingMacrotasks=m.macroTask))},onHandleError:(s,c,f,m)=>(s.handleError(f,m),r.runOutsideAngular(()=>r.onError.emit(m)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Os.isInAngularZone())throw new Ue(909,!1)}static assertNotInAngularZone(){if(Os.isInAngularZone())throw new Ue(909,!1)}run(o,s,c){return this._inner.run(o,s,c)}runTask(o,s,c,f){const m=this._inner,I=m.scheduleEventTask("NgZoneEvent: "+f,o,su,Hm,Hm);try{return m.runTask(I,s,c)}finally{m.cancelTask(I)}}runGuarded(o,s,c){return this._inner.runGuarded(o,s,c)}runOutsideAngular(o){return this._outer.run(o)}}const su={};function hc(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function ch(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function xl(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function $m(r){r._nesting--,hc(r)}class Ov{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ou,this.onMicrotaskEmpty=new ou,this.onStable=new ou,this.onError=new ou}run(o,s,c){return o.apply(s,c)}runGuarded(o,s,c){return o.apply(s,c)}runOutsideAngular(o){return o()}runTask(o,s,c,f){return o.apply(s,c)}}const Gp=new Tn("",{providedIn:"root",factory:tw});function tw(){const r=jn(Os);let o=!0;const s=new ge.y(f=>{o=r.isStable&&!r.hasPendingMacrotasks&&!r.hasPendingMicrotasks,r.runOutsideAngular(()=>{f.next(o),f.complete()})}),c=new ge.y(f=>{let m;r.runOutsideAngular(()=>{m=r.onStable.subscribe(()=>{Os.assertNotInAngularZone(),queueMicrotask(()=>{!o&&!r.hasPendingMacrotasks&&!r.hasPendingMicrotasks&&(o=!0,f.next(!0))})})});const I=r.onUnstable.subscribe(()=>{Os.assertInAngularZone(),o&&(o=!1,r.runOutsideAngular(()=>{f.next(!1)}))});return()=>{m.unsubscribe(),I.unsubscribe()}});return(0,fe.T)(s,c.pipe(ae()))}function a1(r){return r.ownerDocument.defaultView}function Rl(r){return r instanceof Function?r():r}let ff=(()=>{class r{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=Ee({token:r,providedIn:"root",factory:()=>new r})}return r})();function uh(r){for(;r;){r[Dn]|=64;const o=qh(r);if(xi(r)&&!o)return r;r=o}return null}const zp=new Tn("",{providedIn:"root",factory:()=>!1});let au=null;function d1(r,o){return r[o]??Wp()}function sw(r,o){const s=Wp();s.producerNode?.length&&(r[o]=au,s.lView=r,au=xv())}const aw={...Zo,consumerIsAlwaysLive:!0,consumerMarkedDirty:r=>{uh(r.lView)},lView:null};function xv(){return Object.create(aw)}function Wp(){return au??=xv(),au}const or={};function Rv(r){Zm(fr(),ut(),Nr()+r,!1)}function Zm(r,o,s,c){if(!c)if(3==(3&o[Dn])){const m=r.preOrderCheckHooks;null!==m&&Dc(o,m,s)}else{const m=r.preOrderHooks;null!==m&&Zc(o,m,0,s)}Ks(s)}function pf(r,o=Kt.Default){const s=ut();return null===s?xn(r,o):zu(ji(),s,Mt(r),o)}function Km(){throw new Error("invalid")}function Ym(r,o,s,c,f,m,I,C,x,$,ne){const he=o.blueprint.slice();return he[nr]=f,he[Dn]=140|c,(null!==$||r&&2048&r[Dn])&&(he[Dn]|=2048),al(he),he[ur]=he[Ji]=r,he[hr]=s,he[yo]=I||r&&r[yo],he[Cn]=C||r&&r[Cn],he[$r]=x||r&&r[$r]||null,he[Lr]=m,he[Bs]=function ev(){return F0++}(),he[Mi]=ne,he[Hc]=$,he[Er]=2==o.type?r[Er]:he,he}function Pl(r,o,s,c,f){let m=r.data[o];if(null===m)m=Pv(r,o,s,c,f),function fl(){return hn.lFrame.inI18n}()&&(m.flags|=32);else if(64&m.type){m.type=s,m.value=c,m.attrs=f;const I=Wc();m.injectorIndex=null===I?-1:I.injectorIndex}return ns(m,!0),m}function Pv(r,o,s,c,f){const m=ll(),I=dl(),x=r.data[o]=function dw(r,o,s,c,f,m){let I=o?o.injectorIndex:-1,C=0;return ca()&&(C|=128),{type:s,index:c,insertBeforeIndex:null,injectorIndex:I,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:C,providerIndexes:0,value:f,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,I?m:m&&m.parent,s,o,c,f);return null===r.firstChild&&(r.firstChild=x),null!==m&&(I?null==m.child&&null!==x.parent&&(m.child=x):null===m.next&&(m.next=x,x.prev=m)),x}function qp(r,o,s,c){if(0===s)return-1;const f=o.length;for(let m=0;m<s;m++)o.push(c),r.blueprint.push(c),r.data.push(null);return f}function kv(r,o,s,c,f){const m=d1(o,xo),I=Nr(),C=2&c;try{Ks(-1),C&&o.length>Nn&&Zm(r,o,Nn,!1),Xo(C?2:0,f);const $=C?m:null,ne=co($);try{null!==$&&($.dirty=!1),s(c,f)}finally{Oa($,ne)}}finally{C&&null===o[xo]&&sw(o,xo),Ks(I),Xo(C?3:1,f)}}function Qm(r,o,s){if(ys(o)){const c=Gi(null);try{const m=o.directiveEnd;for(let I=o.directiveStart;I<m;I++){const C=r.data[I];C.contentQueries&&C.contentQueries(1,s[I],I)}}finally{Gi(c)}}}function Fv(r,o,s){vu()&&(function _1(r,o,s,c){const f=s.directiveStart,m=s.directiveEnd;bs(s)&&function fw(r,o,s){const c=es(o,r),f=h1(s);let I=16;s.signals?I=4096:s.onPush&&(I=64);const C=jv(r,Ym(r,f,null,I,c,o,null,r[yo].rendererFactory.createRenderer(c,s),null,null,null));r[o.index]=C}(o,s,r.data[f+s.componentOffset]),r.firstCreatePass||Eu(s,o),fa(c,o);const I=s.initialInputs;for(let C=f;C<m;C++){const x=r.data[C],$=Jc(o,r,C,s);fa($,o),null!==I&&sD(0,C-f,$,x,0,I),ai(x)&&(Ii(s.index,o)[hr]=Jc(o,r,C,s))}}(r,o,s,es(s,o)),64==(64&s.flags)&&v1(r,o,s))}function Zp(r,o,s=es){const c=o.localNames;if(null!==c){let f=o.index+1;for(let m=0;m<c.length;m+=2){const I=c[m+1],C=-1===I?s(o,r):r[I];r[f++]=C}}}function h1(r){const o=r.tView;return null===o||o.incompleteFirstPass?r.tView=Lv(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts,r.id):o}function Lv(r,o,s,c,f,m,I,C,x,$,ne){const he=Nn+c,Ae=he+f,ke=function gf(r,o){const s=[];for(let c=0;c<o;c++)s.push(c<r?null:or);return s}(he,Ae),lt="function"==typeof $?$():$;return ke[Et]={type:r,blueprint:ke,template:s,queries:null,viewQuery:C,declTNode:o,data:ke.slice().fill(null,he),bindingStartIndex:he,expandoStartIndex:Ae,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof I?I():I,firstChild:null,schemas:x,consts:lt,incompleteFirstPass:!1,ssrId:ne}}let f1=r=>null;function p1(r,o,s,c){for(let f in r)if(r.hasOwnProperty(f)){s=null===s?{}:s;const m=r[f];null===c?mf(s,o,f,m):c.hasOwnProperty(f)&&mf(s,o,c[f],m)}return s}function mf(r,o,s,c){r.hasOwnProperty(s)?r[s].push(o,c):r[s]=[o,c]}function fc(r,o,s,c,f,m,I,C){const x=es(o,s);let ne,$=o.inputs;!C&&null!=$&&(ne=$[c])?(lh(r,s,ne,c,f),bs(o)&&function Ti(r,o){const s=Ii(o,r);16&s[Dn]||(s[Dn]|=64)}(s,o.index)):3&o.type&&(c=function el(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(c),f=null!=I?I(f,o.value||"",c):f,m.setProperty(x,c,f))}function Nu(r,o,s,c){if(vu()){const f=null===c?null:{"":-1},m=function Ou(r,o){const s=r.directiveRegistry;let c=null,f=null;if(s)for(let m=0;m<s.length;m++){const I=s[m];if(cr(o,I.selectors,!1))if(c||(c=[]),ai(I))if(null!==I.findHostDirectiveDefs){const C=[];f=f||new Map,I.findHostDirectiveDefs(I,C,f),c.unshift(...C,I),Xs(r,o,C.length)}else c.unshift(I),Xs(r,o,0);else f=f||new Map,I.findHostDirectiveDefs?.(I,c,f),c.push(I)}return null===c?null:[c,f]}(r,s);let I,C;null===m?I=C=null:[I,C]=m,null!==I&&g1(r,o,s,I,f,C),f&&function Bv(r,o,s){if(o){const c=r.localNames=[];for(let f=0;f<o.length;f+=2){const m=s[o[f+1]];if(null==m)throw new Ue(-301,!1);c.push(o[f],m)}}}(s,c,f)}s.mergedAttrs=Ea(s.mergedAttrs,s.attrs)}function g1(r,o,s,c,f,m){for(let $=0;$<c.length;$++)$u(Eu(s,o),r,c[$].type);!function Jm(r,o,s){r.flags|=1,r.directiveStart=o,r.directiveEnd=o+s,r.providerIndexes=o}(s,r.data.length,c.length);for(let $=0;$<c.length;$++){const ne=c[$];ne.providersResolver&&ne.providersResolver(ne)}let I=!1,C=!1,x=qp(r,o,c.length,null);for(let $=0;$<c.length;$++){const ne=c[$];s.mergedAttrs=Ea(s.mergedAttrs,ne.hostAttrs),Hv(r,s,o,x,ne),Uv(x,ne,f),null!==ne.contentQueries&&(s.flags|=4),(null!==ne.hostBindings||null!==ne.hostAttrs||0!==ne.hostVars)&&(s.flags|=64);const he=ne.type.prototype;!I&&(he.ngOnChanges||he.ngOnInit||he.ngDoCheck)&&((r.preOrderHooks??=[]).push(s.index),I=!0),!C&&(he.ngOnChanges||he.ngDoCheck)&&((r.preOrderCheckHooks??=[]).push(s.index),C=!0),x++}!function iD(r,o,s){const f=o.directiveEnd,m=r.data,I=o.attrs,C=[];let x=null,$=null;for(let ne=o.directiveStart;ne<f;ne++){const he=m[ne],Ae=s?s.get(he):null,lt=Ae?Ae.outputs:null;x=p1(he.inputs,ne,x,Ae?Ae.inputs:null),$=p1(he.outputs,ne,$,lt);const At=null===x||null===I||ra(o)?null:aD(x,ne,I);C.push(At)}null!==x&&(x.hasOwnProperty("class")&&(o.flags|=8),x.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=C,o.inputs=x,o.outputs=$}(r,s,m)}function v1(r,o,s){const c=s.directiveStart,f=s.directiveEnd,m=s.index,I=function pl(){return hn.lFrame.currentDirectiveIndex}();try{Ks(m);for(let C=c;C<f;C++){const x=r.data[C],$=o[C];D(C),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&bd(x,$)}}finally{Ks(-1),D(I)}}function bd(r,o){null!==r.hostBindings&&r.hostBindings(1,o)}function Xs(r,o,s){o.componentOffset=s,(r.components??=[]).push(o.index)}function Uv(r,o,s){if(s){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)s[o.exportAs[c]]=r;ai(o)&&(s[""]=r)}}function Hv(r,o,s,c,f){r.data[c]=f;const m=f.factory||(f.factory=Aa(f.type)),I=new gl(m,ai(f),pf);r.blueprint[c]=I,s[c]=I,function m1(r,o,s,c,f){const m=f.hostBindings;if(m){let I=r.hostBindingOpCodes;null===I&&(I=r.hostBindingOpCodes=[]);const C=~o.index;(function Kp(r){let o=r.length;for(;o>0;){const s=r[--o];if("number"==typeof s&&s<0)return s}return 0})(I)!=C&&I.push(C),I.push(s,c,m)}}(r,o,c,qp(r,s,f.hostVars,or),f)}function pc(r,o,s,c,f,m){const I=es(r,o);!function y1(r,o,s,c,f,m,I){if(null==m)r.removeAttribute(o,f,s);else{const C=null==I?Qe(m):I(m,c||"",f);r.setAttribute(o,f,C,s)}}(o[Cn],I,m,r.value,s,c,f)}function sD(r,o,s,c,f,m){const I=m[o];if(null!==I)for(let C=0;C<I.length;)Gv(c,s,I[C++],I[C++],I[C++])}function Gv(r,o,s,c,f){const m=Gi(null);try{const I=r.inputTransforms;null!==I&&I.hasOwnProperty(c)&&(f=I[c].call(o,f)),null!==r.setInput?r.setInput(o,f,s,c):o[c]=f}finally{Gi(m)}}function aD(r,o,s){let c=null,f=0;for(;f<s.length;){const m=s[f];if(0!==m)if(5!==m){if("number"==typeof m)break;if(r.hasOwnProperty(m)){null===c&&(c=[]);const I=r[m];for(let C=0;C<I.length;C+=2)if(I[C]===o){c.push(m,I[C+1],s[f+1]);break}}f+=2}else f+=2;else f+=4}return c}function pw(r,o,s,c){return[r,!0,!1,o,null,0,c,s,null,null,null]}function b1(r,o){const s=r.contentQueries;if(null!==s)for(let c=0;c<s.length;c+=2){const m=s[c+1];if(-1!==m){const I=r.data[m];R(s[c]),I.contentQueries(2,o[m],m)}}}function jv(r,o){return r[Mo]?r[tc][Di]=o:r[Mo]=o,r[tc]=o,o}function Yp(r,o,s){R(0);const c=Gi(null);try{o(r,s)}finally{Gi(c)}}function gw(r){return r[_i]||(r[_i]=[])}function _f(r){return r.cleanup||(r.cleanup=[])}function ea(r,o){const s=r[$r],c=s?s.get(iu,null):null;c&&c.handleError(o)}function lh(r,o,s,c,f){for(let m=0;m<s.length;){const I=s[m++],C=s[m++];Gv(r.data[I],o[I],c,C,f)}}function Qa(r,o,s){const c=gu(o,r);!function H0(r,o,s){r.setValue(o,s)}(r[Cn],c,s)}function w1(r,o){const s=Ii(o,r),c=s[Et];!function rS(r,o){for(let s=o.length;s<r.blueprint.length;s++)o.push(r.blueprint[s])}(c,s);const f=s[nr];null!==f&&null===s[Mi]&&(s[Mi]=Ol(f,s[$r])),Ot(c,s,s[hr])}function Ot(r,o,s){pe(o);try{const c=r.viewQuery;null!==c&&Yp(1,c,s);const f=r.template;null!==f&&kv(r,o,f,1,s),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&b1(r,o),r.staticViewQueries&&Yp(2,r.viewQuery,s);const m=r.components;null!==m&&function ss(r,o){for(let s=0;s<o.length;s++)w1(r,o[s])}(o,m)}catch(c){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),c}finally{o[Dn]&=-5,vr()}}let Mu=(()=>{class r{constructor(){this.all=new Set,this.queue=new Map}create(s,c,f){const m=typeof Zone>"u"?null:Zone.current,I=function Xn(r,o,s){const c=Object.create(ei);s&&(c.consumerAllowSignalWrites=!0),c.fn=r,c.schedule=o;const f=I=>{c.cleanupFn=I};return c.ref={notify:()=>Ha(c),run:()=>{if(c.dirty=!1,c.hasRun&&!Io(c))return;c.hasRun=!0;const I=co(c);try{c.cleanupFn(),c.cleanupFn=Ln,c.fn(f)}finally{Oa(c,I)}},cleanup:()=>c.cleanupFn()},c.ref}(s,$=>{this.all.has($)&&this.queue.set($,m)},f);let C;this.all.add(I),I.notify();const x=()=>{I.cleanup(),C?.(),this.all.delete(I),this.queue.delete(I)};return C=c?.onDestroy(x),{destroy:x}}flush(){if(0!==this.queue.size)for(const[s,c]of this.queue)this.queue.delete(s),c?c.run(()=>s.run()):s.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Ee({token:r,providedIn:"root",factory:()=>new r})}return r})();function un(r,o,s){let c=s?r.styles:null,f=s?r.classes:null,m=0;if(null!==o)for(let I=0;I<o.length;I++){const C=o[I];"number"==typeof C?m=C:1==m?f=Lt(f,C):2==m&&(c=Lt(c,C+": "+o[++I]+";"))}s?r.styles=c:r.stylesWithoutHost=c,s?r.classes=f:r.classesWithoutHost=f}function vn(r,o,s,c,f=!1){for(;null!==s;){const m=o[s.index];null!==m&&c.push(oi(m)),Xi(m)&&cD(m,c);const I=s.type;if(8&I)vn(r,o,s.child,c);else if(32&I){const C=zd(s,o);let x;for(;x=C();)c.push(x)}else if(16&I){const C=hm(o,s);if(Array.isArray(C))c.push(...C);else{const x=qh(o[Er]);vn(x[Et],x,C,c,!0)}}s=f?s.projectionNext:s.next}return c}function cD(r,o){for(let s=_r;s<r.length;s++){const c=r[s],f=c[Et].firstChild;null!==f&&vn(c[Et],c,f,o)}r[hi]!==r[nr]&&o.push(r[hi])}function Zt(r,o,s,c=!0){const f=o[yo],m=f.rendererFactory,I=f.afterRenderEventManager;m.begin?.(),I?.begin();try{Ms(r,o,r.template,s)}catch(x){throw c&&ea(o,x),x}finally{m.end?.(),f.effectManager?.flush(),I?.end()}}function Ms(r,o,s,c){const f=o[Dn];if(256!=(256&f)){o[yo].effectManager?.flush(),pe(o);try{al(o),function qc(r){return hn.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==s&&kv(r,o,s,2,c);const I=3==(3&f);if(I){const $=r.preOrderCheckHooks;null!==$&&Dc(o,$,null)}else{const $=r.preOrderHooks;null!==$&&Zc(o,$,0,null),Jl(o,0)}if(function uD(r){for(let o=iv(r);null!==o;o=Zh(o)){if(!o[Ui])continue;const s=o[Va];for(let c=0;c<s.length;c++){xh(s[c])}}}(o),E1(o,2),null!==r.contentQueries&&b1(r,o),I){const $=r.contentCheckHooks;null!==$&&Dc(o,$)}else{const $=r.contentHooks;null!==$&&Zc(o,$,1),Jl(o,1)}!function rD(r,o){const s=r.hostBindingOpCodes;if(null===s)return;const c=d1(o,vs);try{for(let f=0;f<s.length;f++){const m=s[f];if(m<0)Ks(~m);else{const I=m,C=s[++f],x=s[++f];xd(C,I),c.dirty=!1;const $=co(c);try{x(2,o[I])}finally{Oa(c,$)}}}}finally{null===o[vs]&&sw(o,vs),Ks(-1)}}(r,o);const C=r.components;null!==C&&_w(o,C,0);const x=r.viewQuery;if(null!==x&&Yp(2,x,c),I){const $=r.viewCheckHooks;null!==$&&Dc(o,$)}else{const $=r.viewHooks;null!==$&&Zc(o,$,2),Jl(o,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),o[Dn]&=-73,Wr(o)}finally{vr()}}}function E1(r,o){for(let s=iv(r);null!==s;s=Zh(s))for(let c=_r;c<s.length;c++)mw(s[c],o)}function lD(r,o,s){mw(Ii(o,r),s)}function mw(r,o){if(!function Od(r){return 128==(128&r[Dn])}(r))return;const s=r[Et],c=r[Dn];if(80&c&&0===o||1024&c||2===o)Ms(s,r,s.template,r[hr]);else if(r[Oo]>0){E1(r,1);const f=s.components;null!==f&&_w(r,f,1)}}function _w(r,o,s){for(let c=0;c<o.length;c++)lD(r,o[c],s)}class Xm{get rootNodes(){const o=this._lView,s=o[Et];return vn(s,o,s.firstChild,[])}constructor(o,s){this._lView=o,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[hr]}set context(o){this._lView[hr]=o}get destroyed(){return 256==(256&this._lView[Dn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[ur];if(Xi(o)){const s=o[8],c=s?s.indexOf(this):-1;c>-1&&(um(o,c),rd(s,c))}this._attachedToViewContainer=!1}_p(this._lView[Et],this._lView)}onDestroy(o){Tc(this._lView,o)}markForCheck(){uh(this._cdRefInjectingView||this._lView)}detach(){this._lView[Dn]&=-129}reattach(){this._lView[Dn]|=128}detectChanges(){Zt(this._lView[Et],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ue(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function av(r,o){Qu(r,o,o[Cn],2,null,null)}(this._lView[Et],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Ue(902,!1);this._appRef=o}}class vw extends Xm{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;Zt(o[Et],o,o[hr],!1)}checkNoChanges(){}get context(){return null}}class yw extends _n{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const s=Qn(o);return new Gn(s,this.ngModule)}}function dD(r){const o=[];for(let s in r)r.hasOwnProperty(s)&&o.push({propName:r[s],templateName:s});return o}class bw{constructor(o,s){this.injector=o,this.parentInjector=s}get(o,s,c){c=Si(c);const f=this.injector.get(o,os,c);return f!==os||s===os?f:this.parentInjector.get(o,s,c)}}class Gn extends Vt{get inputs(){const o=this.componentDef,s=o.inputTransforms,c=dD(o.inputs);if(null!==s)for(const f of c)s.hasOwnProperty(f.propName)&&(f.transform=s[f.propName]);return c}get outputs(){return dD(this.componentDef.outputs)}constructor(o,s){super(),this.componentDef=o,this.ngModule=s,this.componentType=o.type,this.selector=function ia(r){return r.map(Bc).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!s}create(o,s,c,f){let m=(f=f||this.ngModule)instanceof nu?f:f?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const I=m?new bw(o,m):o,C=I.get(Rr,null);if(null===C)throw new Ue(407,!1);const he={rendererFactory:C,sanitizer:I.get(li,null),effectManager:I.get(Mu,null),afterRenderEventManager:I.get(ff,null)},Ae=C.createRenderer(null,this.componentDef),ke=this.componentDef.selectors[0][0]||"div",lt=c?function cw(r,o,s,c){const m=c.get(zp,!1)||s===qi.ShadowDom,I=r.selectRootElement(o,m);return function uw(r){f1(r)}(I),I}(Ae,c,this.componentDef.encapsulation,I):cm(Ae,ke,function hD(r){const o=r.toLowerCase();return"svg"===o?za:"math"===o?"math":null}(ke)),pn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let _t=null;null!==lt&&(_t=Ol(lt,I,!0));const tr=Lv(0,null,null,1,0,null,null,null,null,null,null),Sr=Ym(null,tr,null,pn,null,null,he,Ae,I,null,_t);let Ei,Vc;pe(Sr);try{const Ad=this.componentDef;let Gg,qE=null;Ad.findHostDirectiveDefs?(Gg=[],qE=new Map,Ad.findHostDirectiveDefs(Ad,Gg,qE),Gg.push(Ad)):Gg=[Ad];const RS=function Iw(r,o){const s=r[Et],c=Nn;return r[c]=o,Pl(s,c,2,"#host",null)}(Sr,lt),PS=function Co(r,o,s,c,f,m,I){const C=f[Et];!function Mn(r,o,s,c){for(const f of r)o.mergedAttrs=Ea(o.mergedAttrs,f.hostAttrs);null!==o.mergedAttrs&&(un(o,o.mergedAttrs,!0),null!==s&&hv(c,s,o))}(c,r,o,I);let x=null;null!==o&&(x=Ol(o,f[$r]));const $=m.rendererFactory.createRenderer(o,s);let ne=16;s.signals?ne=4096:s.onPush&&(ne=64);const he=Ym(f,h1(s),null,ne,f[r.index],r,m,$,null,null,x);return C.firstCreatePass&&Xs(C,r,c.length-1),jv(f,he),f[r.index]=he}(RS,lt,Ad,Gg,Sr,he,Ae);Vc=Nd(tr,Nn),lt&&function Zr(r,o,s,c){if(c)Ni(r,s,["ng-version",Do.full]);else{const{attrs:f,classes:m}=function Ca(r){const o=[],s=[];let c=1,f=2;for(;c<r.length;){let m=r[c];if("string"==typeof m)2===f?""!==m&&o.push(m,r[++c]):8===f&&s.push(m);else{if(!Jr(f))break;f=m}c++}return{attrs:o,classes:s}}(o.selectors[0]);f&&Ni(r,s,f),m&&m.length>0&&dv(r,s,m.join(" "))}}(Ae,Ad,lt,c),void 0!==s&&function fD(r,o,s){const c=r.projection=[];for(let f=0;f<o.length;f++){const m=s[f];c.push(null!=m?Array.from(m):null)}}(Vc,this.ngContentSelectors,s),Ei=function e_(r,o,s,c,f,m){const I=ji(),C=f[Et],x=es(I,f);g1(C,f,I,s,null,c);for(let ne=0;ne<s.length;ne++)fa(Jc(f,C,I.directiveStart+ne,I),f);v1(C,f,I),x&&fa(x,f);const $=Jc(f,C,I.directiveStart+I.componentOffset,I);if(r[hr]=f[hr]=$,null!==m)for(const ne of m)ne($,o);return Qm(C,I,r),$}(PS,Ad,Gg,qE,Sr,[as]),Ot(tr,Sr,null)}finally{vr()}return new Qp(this.componentType,Ei,er(Vc,Sr),Sr,Vc)}}class Qp extends qe{constructor(o,s,c,f,m){super(),this.location=c,this._rootLView=f,this._tNode=m,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new vw(f),this.componentType=o}setInput(o,s){const c=this._tNode.inputs;let f;if(null!==c&&(f=c[o])){if(this.previousInputValues??=new Map,this.previousInputValues.has(o)&&Object.is(this.previousInputValues.get(o),s))return;const m=this._rootLView;lh(m[Et],m,f,o,s),this.previousInputValues.set(o,s),uh(Ii(this._tNode.index,m))}}get injector(){return new Es(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function as(){const r=ji();Lu(ut()[Et],r)}function Jp(r){let o=function Qt(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),s=!0;const c=[r];for(;o;){let f;if(ai(r))f=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Ue(903,!1);f=o.\u0275dir}if(f){if(s){c.push(f);const I=r;I.inputs=kl(r.inputs),I.inputTransforms=kl(r.inputTransforms),I.declaredInputs=kl(r.declaredInputs),I.outputs=kl(r.outputs);const C=f.hostBindings;C&&gD(r,C);const x=f.viewQuery,$=f.contentQueries;if(x&&pD(r,x),$&&$v(r,$),it(r.inputs,f.inputs),it(r.declaredInputs,f.declaredInputs),it(r.outputs,f.outputs),null!==f.inputTransforms&&(null===I.inputTransforms&&(I.inputTransforms={}),it(I.inputTransforms,f.inputTransforms)),ai(f)&&f.data.animation){const ne=r.data;ne.animation=(ne.animation||[]).concat(f.data.animation)}}const m=f.features;if(m)for(let I=0;I<m.length;I++){const C=m[I];C&&C.ngInherit&&C(r),C===Jp&&(s=!1)}}o=Object.getPrototypeOf(o)}!function D1(r){let o=0,s=null;for(let c=r.length-1;c>=0;c--){const f=r[c];f.hostVars=o+=f.hostVars,f.hostAttrs=Ea(f.hostAttrs,s=Ea(s,f.hostAttrs))}}(c)}function kl(r){return r===Zi?{}:r===$n?[]:r}function pD(r,o){const s=r.viewQuery;r.viewQuery=s?(c,f)=>{o(c,f),s(c,f)}:o}function $v(r,o){const s=r.contentQueries;r.contentQueries=s?(c,f,m)=>{o(c,f,m),s(c,f,m)}:o}function gD(r,o){const s=r.hostBindings;r.hostBindings=s?(c,f)=>{o(c,f),s(c,f)}:o}function Pc(r){return o=>{o.findHostDirectiveDefs=zv,o.hostDirectives=(Array.isArray(r)?r:r()).map(s=>"function"==typeof s?{directive:Mt(s),inputs:Zi,outputs:Zi}:{directive:Mt(s.directive),inputs:C1(s.inputs),outputs:C1(s.outputs)})}}function zv(r,o,s){if(null!==r.hostDirectives)for(const c of r.hostDirectives){const f=Br(c.directive);mD(f.declaredInputs,c.inputs),zv(f,o,s),s.set(f,c),o.push(f)}}function C1(r){if(void 0===r||0===r.length)return Zi;const o={};for(let s=0;s<r.length;s+=2)o[r[s]]=r[s+1];return o}function mD(r,o){for(const s in o)o.hasOwnProperty(s)&&(r[o[s]]=r[s])}function Ke(r){const o=r.inputConfig,s={};for(const c in o)if(o.hasOwnProperty(c)){const f=o[c];Array.isArray(f)&&f[2]&&(s[c]=f[2])}r.inputTransforms=s}function kc(r){return!!Fl(r)&&(Array.isArray(r)||!(r instanceof Map)&&Symbol.iterator in r)}function Fl(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function Ja(r,o,s){return r[o]=s}function _a(r,o,s){return!Object.is(r[o],s)&&(r[o]=s,!0)}function yf(r,o,s,c){const f=_a(r,o,s);return _a(r,o+1,c)||f}function qv(r,o,s,c,f){const m=yf(r,o,s,c);return _a(r,o+2,f)||m}function bf(r,o,s,c){const f=ut();return _a(f,Ma(),o)&&(fr(),pc(Ir(),f,r,o,s,c)),bf}function If(r,o,s,c){return _a(r,Ma(),s)?o+Qe(s)+c:or}function eg(r,o,s,c,f,m,I,C){const $=qv(r,function Zs(){return hn.lFrame.bindingIndex}(),s,f,I);return ua(3),$?o+Qe(s)+c+Qe(f)+m+Qe(I)+C:or}function o_(r,o,s,c,f,m,I,C){const x=ut(),$=fr(),ne=r+Nn,he=$.firstCreatePass?function hh(r,o,s,c,f,m,I,C,x){const $=o.consts,ne=Pl(o,r,4,I||null,aa($,C));Nu(o,s,ne,aa($,x)),Lu(o,ne);const he=ne.tView=Lv(2,ne,c,f,m,o.directiveRegistry,o.pipeRegistry,null,o.schemas,$,null);return null!==o.queries&&(o.queries.template(o,ne),he.queries=o.queries.embeddedTView(ne)),ne}(ne,$,x,o,s,c,f,m,I):$.data[ne];ns(he,!1);const Ae=Td($,x,he,r);Pd()&&Zd($,x,Ae,he),fa(Ae,x),jv(x,x[ne]=pw(Ae,x,Ae,he)),Is(he)&&Fv($,x,he),null!=I&&Zp(x,he,C)}let Td=function nl(r,o,s,c){return cc(!0),o[Cn].createComment("")};function Cf(r){return sc(function hl(){return hn.lFrame.contextLView}(),Nn+r)}function a_(r,o,s){const c=ut();return _a(c,Ma(),o)&&fc(fr(),Ir(),c,r,o,c[Cn],s,!1),a_}function og(r,o,s,c,f){const I=f?"class":"style";lh(r,s,o.inputs[I],I,c)}function sg(r,o,s,c){const f=ut(),m=fr(),I=Nn+r,C=f[Cn],x=m.firstCreatePass?function Sf(r,o,s,c,f,m){const I=o.consts,x=Pl(o,r,2,c,aa(I,f));return Nu(o,s,x,aa(I,m)),null!==x.attrs&&un(x,x.attrs,!1),null!==x.mergedAttrs&&un(x,x.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,x),x}(I,m,f,o,s,c):m.data[I],$=O1(m,f,x,C,o,r);f[I]=$;const ne=Is(x);return ns(x,!0),hv(C,$,x),32!=(32&x.flags)&&Pd()&&Zd(m,f,$,x),0===function Pu(){return hn.lFrame.elementDepthCount}()&&fa($,f),function Md(){hn.lFrame.elementDepthCount++}(),ne&&(Fv(m,f,x),Qm(m,x,f)),null!==c&&Zp(f,x),sg}function ph(){let r=ji();dl()?Wa():(r=r.parent,ns(r,!1));const o=r;(function zc(r){return hn.skipHydrationRootTNode===r})(o)&&function Fu(){hn.skipHydrationRootTNode=null}(),function _u(){hn.lFrame.elementDepthCount--}();const s=fr();return s.firstCreatePass&&(Lu(s,r),ys(r)&&s.queries.elementEnd(r)),null!=o.classesWithoutHost&&function Ph(r){return 0!=(8&r.flags)}(o)&&og(s,o,ut(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function kh(r){return 0!=(16&r.flags)}(o)&&og(s,o,ut(),o.stylesWithoutHost,!1),ph}function Yv(r,o,s,c){return sg(r,o,s,c),ph(),Yv}let O1=(r,o,s,c,f,m)=>(cc(!0),cm(c,f,function bu(){return hn.lFrame.currentNamespace}()));function Jv(r,o,s){const c=ut(),f=fr(),m=r+Nn,I=f.firstCreatePass?function Lw(r,o,s,c,f){const m=o.consts,I=aa(m,c),C=Pl(o,r,8,"ng-container",I);return null!==I&&un(C,I,!0),Nu(o,s,C,aa(m,f)),null!==o.queries&&o.queries.elementStart(o,C),C}(m,f,c,o,s):f.data[m];ns(I,!0);const C=x1(f,c,I,r);return c[m]=C,Pd()&&Zd(f,c,C,I),fa(C,c),Is(I)&&(Fv(f,c,I),Qm(f,I,c)),null!=s&&Zp(c,I),Jv}function Xv(){let r=ji();const o=fr();return dl()?Wa():(r=r.parent,ns(r,!1)),o.firstCreatePass&&(Lu(o,r),ys(r)&&o.queries.elementEnd(r)),Xv}let x1=(r,o,s,c)=>(cc(!0),sv(o[Cn],""));function zi(){return ut()}function Bl(r){return!!r&&"function"==typeof r.then}function R1(r){return!!r&&"function"==typeof r.subscribe}function ey(r,o,s,c){const f=ut(),m=fr(),I=ji();return function P1(r,o,s,c,f,m,I){const C=Is(c),$=r.firstCreatePass&&_f(r),ne=o[hr],he=gw(o);let Ae=!0;if(3&c.type||I){const At=es(c,o),Jt=I?I(At):At,pn=he.length,_t=I?Sr=>I(oi(Sr[c.index])):c.index;let tr=null;if(!I&&C&&(tr=function CD(r,o,s,c){const f=r.cleanup;if(null!=f)for(let m=0;m<f.length-1;m+=2){const I=f[m];if(I===s&&f[m+1]===c){const C=o[_i],x=f[m+2];return C.length>x?C[x]:null}"string"==typeof I&&(m+=2)}return null}(r,o,f,c.index)),null!==tr)(tr.__ngLastListenerFn__||tr).__ngNextListenerFn__=m,tr.__ngLastListenerFn__=m,Ae=!1;else{m=fi(c,o,ne,m,!1);const Sr=s.listen(Jt,f,m);he.push(m,Sr),$&&$.push(f,_t,pn,pn+1)}}else m=fi(c,o,ne,m,!1);const ke=c.outputs;let lt;if(Ae&&null!==ke&&(lt=ke[f])){const At=lt.length;if(At)for(let Jt=0;Jt<At;Jt+=2){const Ei=o[lt[Jt]][lt[Jt+1]].subscribe(m),Vc=he.length;he.push(m,Ei),$&&$.push(f,c.index,Vc,-(Vc+1))}}}(m,f,f[Cn],I,r,o,c),ey}function Pr(r,o,s,c){try{return Xo(6,o,s),!1!==s(c)}catch(f){return ea(r,f),!1}finally{Xo(7,o,s)}}function fi(r,o,s,c,f){return function m(I){if(I===Function)return c;uh(r.componentOffset>-1?Ii(r.index,o):o);let x=Pr(o,s,c,I),$=m.__ngNextListenerFn__;for(;$;)x=Pr(o,s,$,I)&&x,$=$.__ngNextListenerFn__;return f&&!1===x&&I.preventDefault(),x}}function Nf(r=1){return function rr(r){return(hn.lFrame.contextLView=function qa(r,o){for(;r>0;)o=o[Ji],r--;return o}(r,hn.lFrame.contextLView))[hr]}(r)}function k1(r,o){let s=null;const c=function si(r){const o=r.attrs;if(null!=o){const s=o.indexOf(5);if(!(1&s))return o[s+1]}return null}(r);for(let f=0;f<o.length;f++){const m=o[f];if("*"!==m){if(null===c?cr(r,m,!0):Da(c,m))return f}else s=f}return s}function ty(r){const o=ut()[Er][Lr];if(!o.projection){const c=o.projection=Ac(r?r.length:1,null),f=c.slice();let m=o.child;for(;null!==m;){const I=r?k1(m,r):0;null!==I&&(f[I]?f[I].projectionNext=m:c[I]=m,f[I]=m),m=m.next}}}function F1(r,o=0,s){const c=ut(),f=fr(),m=Pl(f,Nn+r,16,null,s||null);null===m.projection&&(m.projection=o),Wa(),(!c[Mi]||ca())&&32!=(32&m.flags)&&function Tp(r,o,s){pm(o[Cn],0,o,s,yp(r,s,o),Ip(s.parent||o[Lr],s,o))}(f,c,m)}function u_(r,o,s){return l_(r,"",o,"",s),u_}function l_(r,o,s,c,f){const m=ut(),I=If(m,o,s,c);return I!==or&&fc(fr(),Ir(),m,r,I,m[Cn],f,!1),l_}function ny(r,o){return r<<17|o<<2}function gh(r){return r>>17&32767}function Ed(r){return 2|r}function rl(r){return(131068&r)>>2}function ag(r,o){return-131069&r|o<<2}function iy(r){return 1|r}function G1(r,o,s,c,f){const m=r[s+1],I=null===o;let C=c?gh(m):rl(m),x=!1;for(;0!==C&&(!1===x||I);){const ne=r[C+1];j1(r[C],o)&&(x=!0,r[C+1]=c?iy(ne):Ed(ne)),C=c?gh(ne):rl(ne)}x&&(r[s+1]=c?Ed(m):iy(m))}function j1(r,o){return null===r||null==o||(Array.isArray(r)?r[1]:r)===o||!(!Array.isArray(r)||"string"!=typeof o)&&Nc(r,o)>=0}const Uo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function oy(r){return r.substring(Uo.key,Uo.keyEnd)}function sy(r,o){const s=Uo.textEnd;return s===o?-1:(o=Uo.keyEnd=function d_(r,o,s){for(;o<s&&r.charCodeAt(o)>32;)o++;return o}(r,Uo.key=o,s),_h(r,o,s))}function _h(r,o,s){for(;o<s&&r.charCodeAt(o)<=32;)o++;return o}function cy(r,o){return function vc(r,o,s,c){const f=ut(),m=fr(),I=ua(2);m.firstUpdatePass&&pr(m,r,I,c),o!==or&&_a(f,I,o)&&yh(m,m.data[Nr()],f,f[Cn],r,f[I+1]=function Qw(r,o){return null==r||""===r||("string"==typeof o?r+=o:"object"==typeof r&&(r=Ct(lc(r)))),r}(o,s),c,I)}(r,o,null,!0),cy}function il(r){!function sl(r,o,s,c){const f=fr(),m=ua(2);f.firstUpdatePass&&pr(f,null,m,c);const I=ut();if(s!==or&&_a(I,m,s)){const C=f.data[Nr()];if(Mf(C,c)&&!Ww(f,m)){let x=c?C.classesWithoutHost:C.stylesWithoutHost;null!==x&&(s=Lt(x,s||"")),og(f,C,I,s,c)}else!function lg(r,o,s,c,f,m,I,C){f===or&&(f=$n);let x=0,$=0,ne=0<f.length?f[0]:null,he=0<m.length?m[0]:null;for(;null!==ne||null!==he;){const Ae=x<f.length?f[x+1]:void 0,ke=$<m.length?m[$+1]:void 0;let At,lt=null;ne===he?(x+=2,$+=2,Ae!==ke&&(lt=he,At=ke)):null===he||null!==ne&&ne<he?(x+=2,lt=ne):($+=2,lt=he,At=ke),null!==lt&&yh(r,o,s,c,lt,At,I,C),ne=x<f.length?f[x]:null,he=$<m.length?m[$]:null}}(f,C,I,I[Cn],I[m+1],I[m+1]=function MD(r,o,s){if(null==s||""===s)return $n;const c=[],f=lc(s);if(Array.isArray(f))for(let m=0;m<f.length;m++)r(c,f[m],!0);else if("object"==typeof f)for(const m in f)f.hasOwnProperty(m)&&r(c,m,f[m]);else"string"==typeof f&&o(c,f);return c}(r,o,s),c,m)}}(Yw,ol,r,!0)}function ol(r,o){for(let s=function mc(r){return function $1(r){Uo.key=0,Uo.keyEnd=0,Uo.value=0,Uo.valueEnd=0,Uo.textEnd=r.length}(r),sy(r,_h(r,0,Uo.textEnd))}(o);s>=0;s=sy(o,s))Ds(r,oy(o),!0)}function Ww(r,o){return o>=r.expandoStartIndex}function pr(r,o,s,c){const f=r.data;if(null===f[s+1]){const m=f[Nr()],I=Ww(r,s);Mf(m,c)&&null===o&&!I&&(o=!1),o=function OD(r,o,s,c){const f=function M(r){const o=hn.lFrame.currentDirectiveIndex;return-1===o?null:r[o]}(r);let m=c?o.residualClasses:o.residualStyles;if(null===f)0===(c?o.classBindings:o.styleBindings)&&(s=vh(s=uy(null,r,o,s,c),o.attrs,c),m=null);else{const I=o.directiveStylingLast;if(-1===I||r[I]!==f)if(s=uy(f,r,o,s,c),null===m){let x=function W1(r,o,s){const c=s?o.classBindings:o.styleBindings;if(0!==rl(c))return r[gh(c)]}(r,o,c);void 0!==x&&Array.isArray(x)&&(x=uy(null,r,o,x[1],c),x=vh(x,o.attrs,c),function qw(r,o,s,c){r[gh(s?o.classBindings:o.styleBindings)]=c}(r,o,c,x))}else m=function Zw(r,o,s){let c;const f=o.directiveEnd;for(let m=1+o.directiveStylingLast;m<f;m++)c=vh(c,r[m].hostAttrs,s);return vh(c,o.attrs,s)}(r,o,c)}return void 0!==m&&(c?o.residualClasses=m:o.residualStyles=m),s}(f,m,o,c),function jw(r,o,s,c,f,m){let I=m?o.classBindings:o.styleBindings,C=gh(I),x=rl(I);r[c]=s;let ne,$=!1;if(Array.isArray(s)?(ne=s[1],(null===ne||Nc(s,ne)>0)&&($=!0)):ne=s,f)if(0!==x){const Ae=gh(r[C+1]);r[c+1]=ny(Ae,C),0!==Ae&&(r[Ae+1]=ag(r[Ae+1],c)),r[C+1]=function H1(r,o){return 131071&r|o<<17}(r[C+1],c)}else r[c+1]=ny(C,0),0!==C&&(r[C+1]=ag(r[C+1],c)),C=c;else r[c+1]=ny(x,0),0===C?C=c:r[x+1]=ag(r[x+1],c),x=c;$&&(r[c+1]=Ed(r[c+1])),G1(r,ne,c,!0),G1(r,ne,c,!1),function cg(r,o,s,c,f){const m=f?r.residualClasses:r.residualStyles;null!=m&&"string"==typeof o&&Nc(m,o)>=0&&(s[c+1]=iy(s[c+1]))}(o,ne,r,c,m),I=ny(C,x),m?o.classBindings=I:o.styleBindings=I}(f,m,o,s,I,c)}}function uy(r,o,s,c,f){let m=null;const I=s.directiveEnd;let C=s.directiveStylingLast;for(-1===C?C=s.directiveStart:C++;C<I&&(m=o[C],c=vh(c,m.hostAttrs,f),m!==r);)C++;return null!==r&&(s.directiveStylingLast=C),c}function vh(r,o,s){const c=s?1:2;let f=-1;if(null!==o)for(let m=0;m<o.length;m++){const I=o[m];"number"==typeof I?f=I:f===c&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),Ds(r,I,!!s||o[++m]))}return void 0===r?null:r}function Yw(r,o,s){const c=String(o);""!==c&&!c.includes(" ")&&Ds(r,c,s)}function yh(r,o,s,c,f,m,I,C){if(!(3&o.type))return;const x=r.data,$=x[C+1],ne=function ry(r){return 1==(1&r)}($)?q1(x,o,s,f,rl($),I):void 0;Hl(ne)||(Hl(m)||function SD(r){return 2==(2&r)}($)&&(m=q1(x,null,s,f,C,I)),function fd(r,o,s,c,f){if(o)f?r.addClass(s,c):r.removeClass(s,c);else{let m=-1===c.indexOf("-")?void 0:im.DashCase;null==f?r.removeStyle(s,c,m):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),m|=im.Important),r.setStyle(s,c,f,m))}}(c,I,gu(Nr(),s),f,m))}function q1(r,o,s,c,f,m){const I=null===o;let C;for(;f>0;){const x=r[f],$=Array.isArray(x),ne=$?x[1]:x,he=null===ne;let Ae=s[f+1];Ae===or&&(Ae=he?$n:void 0);let ke=he?Gd(Ae,c):ne===c?Ae:void 0;if($&&!Hl(ke)&&(ke=Gd(x,c)),Hl(ke)&&(C=ke,I))return C;const lt=r[f+1];f=I?gh(lt):rl(lt)}if(null!==o){let x=m?o.residualClasses:o.residualStyles;null!=x&&(C=Gd(x,c))}return C}function Hl(r){return void 0!==r}function Mf(r,o){return 0!=(r.flags&(o?8:16))}function Z1(r,o=""){const s=ut(),c=fr(),f=r+Nn,m=c.firstCreatePass?Pl(c,f,1,o,null):c.data[f],I=K1(c,s,m,o,r);s[f]=I,Pd()&&Zd(c,s,I,m),ns(m,!1)}let K1=(r,o,s,c,f)=>(cc(!0),mp(o[Cn],c));function Y1(r){return Li("",r,""),Y1}function Li(r,o,s){const c=ut(),f=If(c,r,o,s);return f!==or&&Qa(c,Nr(),f),Li}function dg(r,o,s,c,f,m,I){const C=ut(),x=eg(C,r,o,s,c,f,m,I);return x!==or&&Qa(C,Nr(),x),dg}function hy(r,o,s){const c=ut();return _a(c,Ma(),o)&&fc(fr(),Ir(),c,r,o,c[Cn],s,!0),hy}const Rf=void 0;var cT=["en",[["a","p"],["AM","PM"],Rf],[["AM","PM"],Rf,Rf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Rf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Rf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Rf,"{1} 'at' {0}",Rf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function aT(r){const s=Math.floor(Math.abs(r)),c=r.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===c?1:5}];let _g={};function cb(r){const o=function ds(r){return r.toLowerCase().replace(/_/g,"-")}(r);let s=Pf(o);if(s)return s;const c=o.split("-")[0];if(s=Pf(c),s)return s;if("en"===c)return cT;throw new Ue(701,!1)}function fy(r){return cb(r)[vg.PluralCase]}function Pf(r){return r in _g||(_g[r]=qn.ng&&qn.ng.common&&qn.ng.common.locales&&qn.ng.common.locales[r]),_g[r]}var vg=function(r){return r[r.LocaleId=0]="LocaleId",r[r.DayPeriodsFormat=1]="DayPeriodsFormat",r[r.DayPeriodsStandalone=2]="DayPeriodsStandalone",r[r.DaysFormat=3]="DaysFormat",r[r.DaysStandalone=4]="DaysStandalone",r[r.MonthsFormat=5]="MonthsFormat",r[r.MonthsStandalone=6]="MonthsStandalone",r[r.Eras=7]="Eras",r[r.FirstDayOfWeek=8]="FirstDayOfWeek",r[r.WeekendRange=9]="WeekendRange",r[r.DateFormat=10]="DateFormat",r[r.TimeFormat=11]="TimeFormat",r[r.DateTimeFormat=12]="DateTimeFormat",r[r.NumberSymbols=13]="NumberSymbols",r[r.NumberFormats=14]="NumberFormats",r[r.CurrencyCode=15]="CurrencyCode",r[r.CurrencySymbol=16]="CurrencySymbol",r[r.CurrencyName=17]="CurrencyName",r[r.Currencies=18]="Currencies",r[r.Directionality=19]="Directionality",r[r.PluralCase=20]="PluralCase",r[r.ExtraData=21]="ExtraData",r}(vg||{});const Gl="en-US",yg={marker:"element"},g_={marker:"ICU"};var ya=function(r){return r[r.SHIFT=2]="SHIFT",r[r.APPEND_EAGERLY=1]="APPEND_EAGERLY",r[r.COMMENT=2]="COMMENT",r}(ya||{});let lb=Gl;function db(r){(function on(r,o){null==r&&wt(o,r,null,"!=")})(r,"Expected localeId to be defined"),"string"==typeof r&&(lb=r.toLowerCase().replace(/_/g,"-"))}function lT(r,o,s){const c=o.insertBeforeIndex,f=Array.isArray(c)?c[0]:c;return null===f?qd(r,0,s):oi(s[f])}function bg(r,o,s,c,f){const m=o.insertBeforeIndex;if(Array.isArray(m)){let I=c,C=null;if(3&o.type||(C=I,I=f),null!==I&&-1===o.componentOffset)for(let x=1;x<m.length;x++)Tl(r,I,s[m[x]],C,!1)}}function py(r,o){if(r.push(o),r.length>1)for(let s=r.length-2;s>=0;s--){const c=r[s];dT(c)||hT(c,o)&&null===hb(c)&&fT(c,o.index)}}function dT(r){return!(64&r.type)}function hT(r,o){return dT(o)||r.index>o.index}function hb(r){const o=r.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function fT(r,o){const s=r.insertBeforeIndex;Array.isArray(s)?s[0]=o:(Yh(lT,bg),r.insertBeforeIndex=o)}function BD(r,o,s){const c=Pv(r,s,64,null,null);return py(o,c),c}function pb(){const r=[];let s,c,o=-1;function m(C,x){o=0;const $=function gy(r,o){const s=o[r.currentCaseLViewIndex];return null===s?s:s<0?~s:s}(C,x);c=null!==$?C.remove[$]:$n}function I(){if(o<c.length){const C=c[o++];return C>0?s[C]:(r.push(o,c),m(s[Et].data[~C],s),I())}return 0===r.length?null:(c=r.pop(),o=r.pop(),I())}return function f(C,x){for(s=x;r.length;)r.pop();return m(C.value,x),I}}const v_=/\ufffd(\d+):?\d*\ufffd/gi,y_=/\ufffd(\d+)\ufffd/,wh=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,b_="\ufffd",yT=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,$D=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,zD=/\uE500/g;function Sd(r,o,s,c,f,m,I){const C=qp(r,c,1,null);let x=C<<ya.SHIFT,$=Wc();o===$&&($=null),null===$&&(x|=ya.APPEND_EAGERLY),I&&(x|=ya.COMMENT,function rv(r){void 0===dd&&(dd=r())}(pb)),f.push(x,null===m?"":m);const ne=Pv(r,C,I?32:1,null===m?"":m,null);py(s,ne);const he=ne.index;return ns(ne,!1),null!==$&&o!==$&&function VD(r,o){let s=r.insertBeforeIndex;null===s?(Yh(lT,bg),s=r.insertBeforeIndex=[null,o]):(function He(r,o,s){r!=o&&wt(s,r,o,"==")}(Array.isArray(s),!0,"Expecting array here"),s.push(o))}($,he),ne}function bT(r,o,s,c,f,m,I){const C=I.match(v_),x=Sd(r,o,s,m,c,C?null:I,!1);C&&Tg(f,I,x.index,null,0,null)}function Tg(r,o,s,c,f,m){const I=r.length,C=I+1;r.push(null,null);const x=I+2,$=o.split(v_);let ne=0;for(let he=0;he<$.length;he++){const Ae=$[he];if(1&he){const ke=f+parseInt(Ae,10);r.push(-1-ke),ne|=vy(ke)}else""!==Ae&&r.push(Ae)}return r.push(s<<2|(c?1:0)),c&&r.push(c,m),r[I]=ne,r[C]=r.length-x,ne}function vy(r){return 1<<Math.min(r,31)}function _b(r){let o,m,s="",c=0,f=!1;for(;null!==(o=yT.exec(r));)f?o[0]===`${b_}/*${m}${b_}`&&(c=o.index,f=!1):(s+=r.substring(c,o.index+o[0].length),m=o[1],f=!0);return s+=r.slice(c),s}function yy(r,o,s,c,f,m){let I=0;const C={type:f.type,currentCaseLViewIndex:qp(r,o,1,null),anchorIdx:m,cases:[],create:[],remove:[],update:[]};(function wT(r,o,s){r.push(vy(o.mainBinding),2,-1-o.mainBinding,s<<2|2)})(s,f,m),function pT(r,o,s){const c=r.data[o];null===c?r.data[o]=s:c.value=s}(r,m,C);const x=f.values;for(let $=0;$<x.length;$++){const ne=x[$],he=[];for(let Ae=0;Ae<ne.length;Ae++){const ke=ne[Ae];if("string"!=typeof ke){const lt=he.push(ke)-1;ne[Ae]=`\x3c!--\ufffd${lt}\ufffd--\x3e`}}I=KD(r,C,o,s,c,f.cases[$],ne.join(""),he)|I}I&&function w_(r,o,s){r.push(o,1,s<<2|3)}(s,I,m)}function IT(r){const o=[],s=[];let c=1,f=0;const m=Eg(r=r.replace(wh,function(I,C,x){return c="select"===x?0:1,f=parseInt(C.slice(1),10),""}));for(let I=0;I<m.length;){let C=m[I++].trim();1===c&&(C=C.replace(/\s*(?:=)?(\w+)\s*/,"$1")),C.length&&o.push(C);const x=Eg(m[I++]);o.length>s.length&&s.push(x)}return{type:c,mainBinding:f,cases:o,values:s}}function Eg(r){if(!r)return[];let o=0;const s=[],c=[],f=/[{}]/g;let m;for(f.lastIndex=0;m=f.exec(r);){const C=m.index;if("}"==m[0]){if(s.pop(),0==s.length){const x=r.substring(o,C);wh.test(x)?c.push(IT(x)):c.push(x),o=C+1}}else{if(0==s.length){const x=r.substring(o,C);c.push(x),o=C+1}s.push("{")}}const I=r.substring(o);return c.push(I),c}function KD(r,o,s,c,f,m,I,C){const x=[],$=[],ne=[];o.cases.push(m),o.create.push(x),o.remove.push($),o.update.push(ne);const Ae=Y0(Dp()).getInertBodyElement(I),ke=Jd(Ae)||Ae;return ke?by(r,o,s,c,x,$,ne,ke,f,C,0):0}function by(r,o,s,c,f,m,I,C,x,$,ne){let he=0,Ae=C.firstChild;for(;Ae;){const ke=qp(r,s,1,null);switch(Ae.nodeType){case Node.ELEMENT_NODE:const lt=Ae,At=lt.tagName.toLowerCase();if(tu.hasOwnProperty(At)){Dg(f,yg,At,x,ke),r.data[ke]=At;const tr=lt.attributes;for(let Sr=0;Sr<tr.length;Sr++){const Ei=tr.item(Sr),Vc=Ei.name.toLowerCase();Ei.value.match(v_)?vv.hasOwnProperty(Vc)&&Tg(I,Ei.value,ke,Ei.name,0,Sl[Vc]?Im:null):T_(f,ke,Ei)}he=by(r,o,s,c,f,m,I,Ae,ke,$,ne+1)|he,I_(m,ke,ne)}break;case Node.TEXT_NODE:const Jt=Ae.textContent||"",pn=Jt.match(v_);Dg(f,null,pn?"":Jt,x,ke),I_(m,ke,ne),pn&&(he=Tg(I,Jt,ke,null,0,null)|he);break;case Node.COMMENT_NODE:const _t=y_.exec(Ae.textContent||"");if(_t){const Sr=$[parseInt(_t[1],10)];Dg(f,g_,"",x,ke),yy(r,s,c,x,Sr,ke),YD(m,ke,ne)}}Ae=Ae.nextSibling}return he}function I_(r,o,s){0===s&&r.push(o)}function YD(r,o,s){0===s&&(r.push(~o),r.push(o))}function Dg(r,o,s,c,f){null!==o&&r.push(o),r.push(s,f,function UD(r,o,s){return r|o<<17|s<<1}(0,c,f))}function T_(r,o,s){r.push(o<<1|1,s.name,s.value)}function bb(r,o,s=-1){const c=fr(),f=ut(),m=Nn+r,I=aa(c.consts,o),C=Wc();c.firstCreatePass&&function Lf(r,o,s,c,f,m){const I=Wc(),C=[],x=[],$=[[]];f=function vb(r,o){if(function mb(r){return-1===r}(o))return _b(r);{const s=r.indexOf(`:${o}${b_}`)+2+o.toString().length,c=r.search(new RegExp(`${b_}\\/\\*\\d+:${o}${b_}`));return _b(r.substring(s,c))}}(f,m);const ne=function WD(r){return r.replace(zD," ")}(f).split($D);for(let he=0;he<ne.length;he++){let Ae=ne[he];if(1&he){const ke=47===Ae.charCodeAt(0),At=(Ae.charCodeAt(ke?1:0),Nn+Number.parseInt(Ae.substring(ke?2:1)));if(ke)$.shift(),ns(Wc(),!1);else{const Jt=BD(r,$[0],At);$.unshift([]),ns(Jt,!0)}}else{const ke=Eg(Ae);for(let lt=0;lt<ke.length;lt++){let At=ke[lt];if(1&lt){const Jt=At;if("object"!=typeof Jt)throw new Error(`Unable to parse ICU expression in "${f}" message.`);yy(r,s,x,o,Jt,Sd(r,I,$[0],s,C,"",!0).index)}else""!==At&&bT(r,I,$[0],C,x,s,At)}}}r.data[c]={create:C,update:x}}(c,null===C?0:C.index,f,m,I,s),2===c.type?f[Er][Dn]|=32:f[Dn]|=32;const x=c.data[m],ne=Kh(c,C===f[Lr]?null:C,f);(function mT(r,o,s,c){const f=r[Cn];for(let m=0;m<o.length;m++){const I=o[m++],C=o[m],$=(I&ya.APPEND_EAGERLY)===ya.APPEND_EAGERLY,ne=I>>>ya.SHIFT;let he=r[ne];null===he&&(he=r[ne]=(I&ya.COMMENT)===ya.COMMENT?f.createComment(C):mp(f,C)),$&&null!==s&&Tl(f,s,he,c,!1)}})(f,x.create,ne,C&&8&C.type?f[C.index]:null),yu(!0)}function CT(r,o,s){bb(r,o,s),function Eh(){yu(!1)}()}function wb(r,o,s,c,f){if(r=Mt(r),Array.isArray(r))for(let m=0;m<r.length;m++)wb(r[m],o,s,c,f);else{const m=fr(),I=ut(),C=ji();let x=th(r)?r:Mt(r.provide);const $=Mm(r),ne=1048575&C.providerIndexes,he=C.directiveStart,Ae=C.providerIndexes>>20;if(th(r)||!r.multi){const ke=new gl($,f,pf),lt=Ag(x,o,f?ne:ne+Ae,he);-1===lt?($u(Eu(C,I),m,x),Ty(m,r,o.length),o.push(x),C.directiveStart++,C.directiveEnd++,f&&(C.providerIndexes+=1048576),s.push(ke),I.push(ke)):(s[lt]=ke,I[lt]=ke)}else{const ke=Ag(x,o,ne+Ae,he),lt=Ag(x,o,ne,ne+Ae),Jt=lt>=0&&s[lt];if(f&&!Jt||!f&&!(ke>=0&&s[ke])){$u(Eu(C,I),m,x);const pn=function eC(r,o,s,c,f){const m=new gl(r,s,pf);return m.multi=[],m.index=o,m.componentProviders=0,NT(m,f,c&&!s),m}(f?XD:JD,s.length,f,c,$);!f&&Jt&&(s[lt].providerFactory=pn),Ty(m,r,o.length,0),o.push(x),C.directiveStart++,C.directiveEnd++,f&&(C.providerIndexes+=1048576),s.push(pn),I.push(pn)}else Ty(m,r,ke>-1?ke:lt,NT(s[f?lt:ke],$,!f&&c));!f&&c&&Jt&&s[lt].componentProviders++}}}function Ty(r,o,s,c){const f=th(o),m=function e1(r){return!!r.useClass}(o);if(f||m){const x=(m?Mt(o.useClass):o).prototype.ngOnDestroy;if(x){const $=r.destroyHooks||(r.destroyHooks=[]);if(!f&&o.multi){const ne=$.indexOf(s);-1===ne?$.push(s,[c,x]):$[ne+1].push(c,x)}else $.push(s,x)}}}function NT(r,o,s){return s&&r.componentProviders++,r.multi.push(o)-1}function Ag(r,o,s,c){for(let f=s;f<c;f++)if(o[f]===r)return f;return-1}function JD(r,o,s,c){return Ey(this.multi,[])}function XD(r,o,s,c){const f=this.multi;let m;if(this.providerFactory){const I=this.providerFactory.componentProviders,C=Jc(s,s[Et],this.providerFactory.index,c);m=C.slice(0,I),Ey(f,m);for(let x=I;x<C.length;x++)m.push(C[x])}else m=[],Ey(f,m);return m}function Ey(r,o){for(let s=0;s<r.length;s++)o.push((0,r[s])());return o}function Tb(r,o=[]){return s=>{s.providersResolver=(c,f)=>function AT(r,o,s){const c=fr();if(c.firstCreatePass){const f=ai(r);wb(s,c.data,c.blueprint,f,!0),wb(o,c.data,c.blueprint,f,!1)}}(c,f?f(r):r,o)}}class lu{}class Ng{}function OT(r,o){return new Eb(r,o??null,[])}class Eb extends lu{constructor(o,s,c){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new yw(this);const f=Xr(o);this._bootstrapComponents=Rl(f.bootstrap),this._r3Injector=yd(o,s,[{provide:lu,useValue:this},{provide:_n,useValue:this.componentFactoryResolver},...c],Ct(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Dy extends Ng{constructor(o){super(),this.moduleType=o}create(o){return new Eb(this.moduleType,o,[])}}class MT extends lu{constructor(o){super(),this.componentFactoryResolver=new yw(this),this.instance=null;const s=new md([...o.providers,{provide:lu,useValue:this},{provide:_n,useValue:this.componentFactoryResolver}],o.parent||cf(),o.debugName,new Set(["environment"]));this.injector=s,o.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function Cy(r,o,s=null){return new MT({providers:r,parent:o,debugName:s,runEnvironmentInitializers:!0}).injector}let ba=(()=>{class r{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s)){const c=wv(0,s.type),f=c.length>0?Cy([c],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s,f)}return this.cachedInjectors.get(s)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Ee({token:r,providedIn:"environment",factory:()=>new r(xn(nu))})}return r})();function xT(r){r.getStandaloneInjector=o=>o.get(ba).getOrCreateStandaloneInjector(r)}function Sb(r,o,s,c){return E_(ut(),Fo(),r,o,s,c)}function xy(r,o,s,c,f){return Ab(ut(),Fo(),r,o,s,c,f)}function HT(r,o,s,c,f,m){return function Nb(r,o,s,c,f,m,I,C){const x=o+s;return qv(r,x,f,m,I)?Ja(r,x+3,C?c.call(C,f,m,I):c(f,m,I)):Vf(r,x+3)}(ut(),Fo(),r,o,s,c,f,m)}function Vf(r,o){const s=r[o];return s===or?void 0:s}function E_(r,o,s,c,f,m){const I=o+s;return _a(r,I,f)?Ja(r,I+1,m?c.call(m,f):c(f)):Vf(r,I+1)}function Ab(r,o,s,c,f,m,I){const C=o+s;return yf(r,C,f,m)?Ja(r,C+2,I?c.call(I,f,m):c(f,m)):Vf(r,C+2)}function Ry(r,o){const s=fr();let c;const f=r+Nn;s.firstCreatePass?(c=function aC(r,o){if(o)for(let s=o.length-1;s>=0;s--){const c=o[s];if(r===c.name)return c}}(o,s.pipeRegistry),s.data[f]=c,c.onDestroy&&(s.destroyHooks??=[]).push(f,c.onDestroy)):c=s.data[f];const m=c.factory||(c.factory=Aa(c.type)),C=ln(pf);try{const x=Cc(!1),$=m();return Cc(x),function Fw(r,o,s,c){s>=r.data.length&&(r.data[s]=null,r.blueprint[s]=null),o[s]=c}(s,ut(),f,$),$}finally{ln(C)}}function Mb(r,o,s){const c=r+Nn,f=ut(),m=sc(f,c);return Bf(f,c)?E_(f,Fo(),o,m.transform,s,m):m.transform(s)}function Py(r,o,s,c){const f=r+Nn,m=ut(),I=sc(m,f);return Bf(m,f)?Ab(m,Fo(),o,I.transform,s,c,I):I.transform(s,c)}function Bf(r,o){return r[Et].data[o].pure}function xb(){return this._results[Symbol.iterator]()}class C_{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new ou)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=C_.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=xb)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,s){return this._results.reduce(o,s)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,s){const c=this;c.dirty=!1;const f=function Ys(r){return r.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function op(r,o,s){if(r.length!==o.length)return!1;for(let c=0;c<r.length;c++){let f=r[c],m=o[c];if(s&&(f=s(f),m=s(m)),m!==f)return!1}return!0}(c._results,f,s))&&(c._results=f,c.length=f.length,c.last=f[this.length-1],c.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function qT(r,o,s,c=!0){const f=o[Et];if(function cv(r,o,s,c){const f=_r+c,m=s.length;c>0&&(s[f-1][Di]=o),c<m-_r?(o[Di]=s[f],Hd(s,_r+c,o)):(s.push(o),o[Di]=null),o[ur]=s;const I=o[vi];null!==I&&s!==I&&function $0(r,o){const s=r[Va];o[Er]!==o[ur][ur][Er]&&(r[Ui]=!0),null===s?r[Va]=[o]:s.push(o)}(I,o);const C=o[zr];null!==C&&C.insertView(r),o[Dn]|=128}(f,o,r,s),c){const m=fm(s,r),I=o[Cn],C=El(I,r[hi]);null!==C&&function G0(r,o,s,c,f,m){c[nr]=f,c[Lr]=o,Qu(r,c,s,1,f,m)}(f,r[Lr],I,o,C,m)}}let Uf=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=ec}return r})();const uC=Uf,lC=class extends uC{constructor(o,s,c){super(),this._declarationLView=o,this._declarationTContainer=s,this.elementRef=c}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(o,s){return this.createEmbeddedViewImpl(o,s)}createEmbeddedViewImpl(o,s,c){const f=function WT(r,o,s,c){const f=o.tView,C=Ym(r,f,s,4096&r[Dn]?4096:16,null,o,null,null,null,c?.injector??null,c?.hydrationInfo??null);C[vi]=r[o.index];const $=r[zr];return null!==$&&(C[zr]=$.createEmbeddedView(f)),Ot(f,C,s),C}(this._declarationLView,this._declarationTContainer,o,{injector:s,hydrationInfo:c});return new Xm(f)}};function ec(){return Ly(ji(),ut())}function Ly(r,o){return 4&r.type?new lC(o,r,er(r,o)):null}let Uy=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=pC}return r})();function pC(){return N_(ji(),ut())}const S_=Uy,Hy=class extends S_{constructor(o,s,c){super(),this._lContainer=o,this._hostTNode=s,this._hostLView=c}get element(){return er(this._hostTNode,this._hostLView)}get injector(){return new Es(this._hostTNode,this._hostLView)}get parentInjector(){const o=ju(this._hostTNode,this._hostLView);if(Bu(o)){const s=Tu(o,this._hostLView),c=wu(o);return new Es(s[Et].data[c+8],s)}return new Es(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const s=Hf(this._lContainer);return null!==s&&s[o]||null}get length(){return this._lContainer.length-_r}createEmbeddedView(o,s,c){let f,m;"number"==typeof c?f=c:null!=c&&(f=c.index,m=c.injector);const C=o.createEmbeddedViewImpl(s||{},m,null);return this.insertImpl(C,f,false),C}createComponent(o,s,c,f,m){const I=o&&!function Ud(r){return"function"==typeof r}(o);let C;if(I)C=s;else{const At=s||{};C=At.index,c=At.injector,f=At.projectableNodes,m=At.environmentInjector||At.ngModuleRef}const x=I?o:new Gn(Qn(o)),$=c||this.parentInjector;if(!m&&null==x.ngModule){const Jt=(I?$:this.parentInjector).get(nu,null);Jt&&(m=Jt)}Qn(x.componentType??{});const ke=x.create($,f,null,m);return this.insertImpl(ke.hostView,C,false),ke}insert(o,s){return this.insertImpl(o,s,!1)}insertImpl(o,s,c){const f=o._lView;if(function ql(r){return Xi(r[ur])}(f)){const x=this.indexOf(o);if(-1!==x)this.detach(x);else{const $=f[ur],ne=new Hy($,$[Lr],$[ur]);ne.detach(ne.indexOf(o))}}const I=this._adjustIndex(s),C=this._lContainer;return qT(C,f,I,!c),o.attachToViewContainerRef(),Hd(A_(C),I,o),o}move(o,s){return this.insert(o,s)}indexOf(o){const s=Hf(this._lContainer);return null!==s?s.indexOf(o):-1}remove(o){const s=this._adjustIndex(o,-1),c=um(this._lContainer,s);c&&(rd(A_(this._lContainer),s),_p(c[Et],c))}detach(o){const s=this._adjustIndex(o,-1),c=um(this._lContainer,s);return c&&null!=rd(A_(this._lContainer),s)?new Xm(c):null}_adjustIndex(o,s=0){return o??this.length+s}};function Hf(r){return r[8]}function A_(r){return r[8]||(r[8]=[])}function N_(r,o){let s;const c=o[r.index];return Xi(c)?s=c:(s=pw(c,o,null,r),o[r.index]=s,jv(o,s)),Gy(s,o,r,c),new Hy(s,r,o)}let Gy=function kb(r,o,s,c){if(r[hi])return;let f;f=8&s.type?oi(c):function O_(r,o){const s=r[Cn],c=s.createComment(""),f=es(o,r);return Tl(s,El(s,f),c,function lv(r,o){return r.nextSibling(o)}(s,f),!1),c}(o,s),r[hi]=f};class $l{constructor(o){this.queryList=o,this.matches=null}clone(){return new $l(this.queryList)}setDirty(){this.queryList.setDirty()}}class jy{constructor(o=[]){this.queries=o}createEmbeddedView(o){const s=o.queries;if(null!==s){const c=null!==o.contentQueries?o.contentQueries[0]:s.length,f=[];for(let m=0;m<c;m++){const I=s.getByIndex(m);f.push(this.queries[I.indexInDeclarationView].clone())}return new jy(f)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let s=0;s<this.queries.length;s++)null!==tE(o,s).matches&&this.queries[s].setDirty()}}class YT{constructor(o,s,c=null){this.predicate=o,this.flags=s,this.read=c}}class M_{constructor(o=[]){this.queries=o}elementStart(o,s){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,s)}elementEnd(o){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(o)}embeddedTView(o){let s=null;for(let c=0;c<this.length;c++){const f=null!==s?s.length:0,m=this.getByIndex(c).embeddedTView(o,f);m&&(m.indexInDeclarationView=c,null!==s?s.push(m):s=[m])}return null!==s?new M_(s):null}template(o,s){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,s)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Vb{constructor(o,s=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(o,s){this.isApplyingToNode(s)&&this.matchTNode(o,s)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,s){this.elementStart(o,s)}embeddedTView(o,s){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,s),new Vb(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==s;)c=c.parent;return s===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,s){const c=this.metadata.predicate;if(Array.isArray(c))for(let f=0;f<c.length;f++){const m=c[f];this.matchTNodeWithReadOption(o,s,Bb(s,m)),this.matchTNodeWithReadOption(o,s,Qc(s,o,m,!1,!1))}else c===Uf?4&s.type&&this.matchTNodeWithReadOption(o,s,-1):this.matchTNodeWithReadOption(o,s,Qc(s,o,c,!1,!1))}matchTNodeWithReadOption(o,s,c){if(null!==c){const f=this.metadata.read;if(null!==f)if(f===qr||f===Uy||f===Uf&&4&s.type)this.addMatch(s.index,-2);else{const m=Qc(s,o,f,!1,!1);null!==m&&this.addMatch(s.index,m)}else this.addMatch(s.index,c)}}addMatch(o,s){null===this.matches?this.matches=[o,s]:this.matches.push(o,s)}}function Bb(r,o){const s=r.localNames;if(null!==s)for(let c=0;c<s.length;c+=2)if(s[c]===o)return s[c+1];return null}function Ub(r,o,s,c){return-1===s?function gC(r,o){return 11&r.type?er(r,o):4&r.type?Ly(r,o):null}(o,r):-2===s?function $y(r,o,s){return s===qr?er(o,r):s===Uf?Ly(o,r):s===Uy?N_(o,r):void 0}(r,o,c):Jc(r,r[Et],s,o)}function zy(r,o,s,c){const f=o[zr].queries[c];if(null===f.matches){const m=r.data,I=s.matches,C=[];for(let x=0;x<I.length;x+=2){const $=I[x];C.push($<0?null:Ub(o,m[$],I[x+1],s.metadata.read))}f.matches=C}return f.matches}function Wy(r,o,s,c){const f=r.queries.getByIndex(s),m=f.matches;if(null!==m){const I=zy(r,o,f,s);for(let C=0;C<m.length;C+=2){const x=m[C];if(x>0)c.push(I[C/2]);else{const $=m[C+1],ne=o[-x];for(let he=_r;he<ne.length;he++){const Ae=ne[he];Ae[vi]===Ae[ur]&&Wy(Ae[Et],Ae,$,c)}if(null!==ne[Va]){const he=ne[Va];for(let Ae=0;Ae<he.length;Ae++){const ke=he[Ae];Wy(ke[Et],ke,$,c)}}}}}return c}function Gf(r){const o=ut(),s=fr(),c=E();R(c+1);const f=tE(s,c);if(r.dirty&&function mu(r){return 4==(4&r[Dn])}(o)===(2==(2&f.metadata.flags))){if(null===f.matches)r.reset([]);else{const m=f.crossesNgTemplate?Wy(s,o,c,[]):zy(s,o,f,c);r.reset(m,ir),r.notifyOnChanges()}return!0}return!1}function qy(r,o,s){const c=fr();c.firstCreatePass&&(eE(c,new YT(r,o,s),-1),2==(2&o)&&(c.staticViewQueries=!0)),Hb(c,ut(),o)}function QT(r,o,s,c){const f=fr();if(f.firstCreatePass){const m=ji();eE(f,new YT(o,s,c),m.index),function Gb(r,o){const s=r.contentQueries||(r.contentQueries=[]);o!==(s.length?s[s.length-1]:-1)&&s.push(r.queries.length-1,o)}(f,r),2==(2&s)&&(f.staticContentQueries=!0)}Hb(f,ut(),s)}function JT(){return function XT(r,o){return r[zr].queries[o].queryList}(ut(),E())}function Hb(r,o,s){const c=new C_(4==(4&s));(function cu(r,o,s,c){const f=gw(o);f.push(s),r.firstCreatePass&&_f(r).push(c,f.length-1)})(r,o,c,c.destroy),null===o[zr]&&(o[zr]=new jy),o[zr].queries.push(new $l(c))}function eE(r,o,s){null===r.queries&&(r.queries=new M_),r.queries.track(new Vb(o,s))}function tE(r,o){return r.queries.getByIndex(o)}function Zy(r,o){return Ly(r,o)}function x_(r){return!!Xr(r)}const s0=new Tn("Application Initializer");let Xb=(()=>{class r{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,c)=>{this.resolve=s,this.reject=c}),this.appInits=jn(s0,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const s=[];for(const f of this.appInits){const m=f();if(Bl(m))s.push(m);else if(R1(m)){const I=new Promise((C,x)=>{m.subscribe({complete:C,error:x})});s.push(I)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{c()}).catch(f=>{this.reject(f)}),0===s.length&&c(),this.initialized=!0}static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275prov=Ee({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),bE=(()=>{class r{log(s){console.log(s)}warn(s){console.warn(s)}static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275prov=Ee({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})();const a0=new Tn("LocaleId",{providedIn:"root",factory:()=>jn(a0,Kt.Optional|Kt.SkipSelf)||function eI(){return typeof $localize<"u"&&$localize.locale||Gl}()}),tI=new Tn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let c0=(()=>{class r{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new l.X(!1)}add(){this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275prov=Ee({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();class wE{constructor(o,s){this.ngModuleFactory=o,this.componentFactories=s}}let nI=(()=>{class r{compileModuleSync(s){return new Dy(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const c=this.compileModuleSync(s),m=Rl(Xr(s).declarations).reduce((I,C)=>{const x=Qn(C);return x&&I.push(new Gn(x)),I},[]);return new wE(c,m)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275prov=Ee({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const lI=new Tn(""),_0=new Tn("");let hI,CE=(()=>{class r{constructor(s,c,f){this._ngZone=s,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,hI||(function dI(r){hI=r}(f),f.addToWindow(c)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Os.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(s)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,c,f){let m=-1;c&&c>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(I=>I.timeoutId!==m),s(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:s,timeoutId:m,updateCb:f})}whenStable(s,c,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,c,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,c,f){return[]}static#e=this.\u0275fac=function(c){return new(c||r)(xn(Os),xn(Wf),xn(_0))};static#t=this.\u0275prov=Ee({token:r,factory:r.\u0275fac})}return r})(),Wf=(()=>{class r{constructor(){this._applications=new Map}registerApplication(s,c){this._applications.set(s,c)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,c=!0){return hI?.findTestabilityInTree(this,s,c)??null}static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275prov=Ee({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})(),Ah=null;const SE=new Tn("AllowMultipleToken"),v0=new Tn("PlatformDestroyListeners"),fI=new Tn("appBootstrapListener");class kC{constructor(o,s){this.name=o,this.token=s}}function pI(r,o,s=[]){const c=`Platform: ${o}`,f=new Tn(c);return(m=[])=>{let I=b0();if(!I||I.injector.get(SE,!1)){const C=[...s,...m,{provide:f,useValue:!0}];r?r(C):function OE(r){if(Ah&&!Ah.get(SE,!1))throw new Ue(400,!1);(function NE(){!function Ru(r){sa=r}(()=>{throw new Ue(600,!1)})})(),Ah=r;const o=r.get(gI);(function y0(r){r.get(As,null)?.forEach(s=>s())})(r)}(function V_(r=[],o){return $i.create({name:o,providers:[{provide:Om,useValue:"platform"},{provide:v0,useValue:new Set([()=>Ah=null])},...r]})}(C,c))}return function xE(r){const o=b0();if(!o)throw new Ue(401,!1);return o}()}}function b0(){return Ah?.get(gI)??null}let gI=(()=>{class r{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,c){const f=function FC(r="zone.js",o){return"noop"===r?new Ov:"zone.js"===r?new Os(o):r}(c?.ngZone,function Vg(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:r?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:r?.runCoalescing??!1}}({eventCoalescing:c?.ngZoneEventCoalescing,runCoalescing:c?.ngZoneRunCoalescing}));return f.run(()=>{const m=function nC(r,o,s){return new Eb(r,o,s)}(s.moduleType,this.injector,function w0(r){return[{provide:Os,useFactory:r},{provide:rf,multi:!0,useFactory:()=>{const o=jn(RE,{optional:!0});return()=>o.initialize()}},{provide:mI,useFactory:bS},{provide:Gp,useFactory:tw}]}(()=>f)),I=m.injector.get(iu,null);return f.runOutsideAngular(()=>{const C=f.onError.subscribe({next:x=>{I.handleError(x)}});m.onDestroy(()=>{I0(this._modules,m),C.unsubscribe()})}),function Ho(r,o,s){try{const c=s();return Bl(c)?c.catch(f=>{throw o.runOutsideAngular(()=>r.handleError(f)),f}):c}catch(c){throw o.runOutsideAngular(()=>r.handleError(c)),c}}(I,f,()=>{const C=m.injector.get(Xb);return C.runInitializers(),C.donePromise.then(()=>(db(m.injector.get(a0,Gl)||Gl),this._moduleDoBootstrap(m),m))})})}bootstrapModule(s,c=[]){const f=Ia({},c);return function AE(r,o,s){const c=new Dy(s);return Promise.resolve(c)}(0,0,s).then(m=>this.bootstrapModuleFactory(m,f))}_moduleDoBootstrap(s){const c=s.injector.get(bc);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(f=>c.bootstrap(f));else{if(!s.instance.ngDoBootstrap)throw new Ue(-403,!1);s.instance.ngDoBootstrap(c)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ue(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const s=this._injector.get(v0,null);s&&(s.forEach(c=>c()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(c){return new(c||r)(xn($i))};static#t=this.\u0275prov=Ee({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})();function Ia(r,o){return Array.isArray(o)?o.reduce(Ia,r):{...r,...o}}let bc=(()=>{class r{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=jn(mI),this.zoneIsStable=jn(Gp),this.componentTypes=[],this.components=[],this.isStable=jn(c0).hasPendingTasks.pipe((0,Ce.w)(s=>s?(0,le.of)(!1):this.zoneIsStable),(0,Xe.x)(),ae()),this._injector=jn(nu)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,c){const f=s instanceof Vt;if(!this._injector.get(Xb).done)throw!f&&Qi(s),new Ue(405,!1);let I;I=f?s:this._injector.get(_n).resolveComponentFactory(s),this.componentTypes.push(I.componentType);const C=function PC(r){return r.isBoundToModule}(I)?void 0:this._injector.get(lu),$=I.create($i.NULL,[],c||I.selector,C),ne=$.location.nativeElement,he=$.injector.get(lI,null);return he?.registerApplication(ne),$.onDestroy(()=>{this.detachView($.hostView),I0(this.components,$),he?.unregisterApplication(ne)}),this._loadComponent($),$}tick(){if(this._runningTick)throw new Ue(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1}}attachView(s){const c=s;this._views.push(c),c.attachToAppRef(this)}detachView(s){const c=s;I0(this._views,c),c.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const c=this._injector.get(fI,[]);c.push(...this._bootstrapListeners),c.forEach(f=>f(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>I0(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new Ue(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275prov=Ee({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function I0(r,o){const s=r.indexOf(o);s>-1&&r.splice(s,1)}const mI=new Tn("",{providedIn:"root",factory:()=>jn(iu).handleError.bind(void 0)});function bS(){const r=jn(Os),o=jn(iu);return s=>r.runOutsideAngular(()=>o.handleError(s))}let RE=(()=>{class r{constructor(){this.zone=jn(Os),this.applicationRef=jn(bc)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275prov=Ee({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();let PE=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=TS}return r})();function TS(r){return function ES(r,o,s){if(bs(r)&&!s){const c=Ii(r.index,o);return new Xm(c,c)}return 47&r.type?new Xm(o[Er],o):null}(ji(),ut(),16==(16&r))}class LE{constructor(){}supports(o){return kc(o)}create(o){return new bI(o)}}const Ug=(r,o)=>o;class bI{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||Ug}forEachItem(o){let s;for(s=this._itHead;null!==s;s=s._next)o(s)}forEachOperation(o){let s=this._itHead,c=this._removalsHead,f=0,m=null;for(;s||c;){const I=!c||s&&s.currentIndex<BE(c,f,m)?s:c,C=BE(I,f,m),x=I.currentIndex;if(I===c)f--,c=c._nextRemoved;else if(s=s._next,null==I.previousIndex)f++;else{m||(m=[]);const $=C-f,ne=x-f;if($!=ne){for(let Ae=0;Ae<$;Ae++){const ke=Ae<m.length?m[Ae]:m[Ae]=0,lt=ke+Ae;ne<=lt&&lt<$&&(m[Ae]=ke+1)}m[I.previousIndex]=ne-$}}C!==x&&o(I,C,x)}}forEachPreviousItem(o){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)o(s)}forEachAddedItem(o){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)o(s)}forEachMovedItem(o){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)o(s)}forEachRemovedItem(o){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)o(s)}forEachIdentityChange(o){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)o(s)}diff(o){if(null==o&&(o=[]),!kc(o))throw new Ue(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let f,m,I,s=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let C=0;C<this.length;C++)m=o[C],I=this._trackByFn(C,m),null!==s&&Object.is(s.trackById,I)?(c&&(s=this._verifyReinsertion(s,m,I,C)),Object.is(s.item,m)||this._addIdentityChange(s,m)):(s=this._mismatch(s,m,I,C),c=!0),s=s._next}else f=0,function n_(r,o){if(Array.isArray(r))for(let s=0;s<r.length;s++)o(r[s]);else{const s=r[Symbol.iterator]();let c;for(;!(c=s.next()).done;)o(c.value)}}(o,C=>{I=this._trackByFn(f,C),null!==s&&Object.is(s.trackById,I)?(c&&(s=this._verifyReinsertion(s,C,I,f)),Object.is(s.item,C)||this._addIdentityChange(s,C)):(s=this._mismatch(s,C,I,f),c=!0),s=s._next,f++}),this.length=f;return this._truncate(s),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,s,c,f){let m;return null===o?m=this._itTail:(m=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,s)||this._addIdentityChange(o,s),this._reinsertAfter(o,m,f)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,f))?(Object.is(o.item,s)||this._addIdentityChange(o,s),this._moveAfter(o,m,f)):o=this._addAfter(new H_(s,c),m,f),o}_verifyReinsertion(o,s,c,f){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==m?o=this._reinsertAfter(m,o._prev,f):o.currentIndex!=f&&(o.currentIndex=f,this._addToMoves(o,f)),o}_truncate(o){for(;null!==o;){const s=o._next;this._addToRemovals(this._unlink(o)),o=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,s,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const f=o._prevRemoved,m=o._nextRemoved;return null===f?this._removalsHead=m:f._nextRemoved=m,null===m?this._removalsTail=f:m._prevRemoved=f,this._insertAfter(o,s,c),this._addToMoves(o,c),o}_moveAfter(o,s,c){return this._unlink(o),this._insertAfter(o,s,c),this._addToMoves(o,c),o}_addAfter(o,s,c){return this._insertAfter(o,s,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,s,c){const f=null===s?this._itHead:s._next;return o._next=f,o._prev=s,null===f?this._itTail=o:f._prev=o,null===s?this._itHead=o:s._next=o,null===this._linkedRecords&&(this._linkedRecords=new E0),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const s=o._prev,c=o._next;return null===s?this._itHead=c:s._next=c,null===c?this._itTail=s:c._prev=s,o}_addToMoves(o,s){return o.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new E0),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,s){return o.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class H_{constructor(o,s){this.item=o,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class VE{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,s){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===s||s<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const s=o._prevDup,c=o._nextDup;return null===s?this._head=c:s._nextDup=c,null===c?this._tail=s:c._prevDup=s,null===this._head}}class E0{constructor(){this.map=new Map}put(o){const s=o.trackById;let c=this.map.get(s);c||(c=new VE,this.map.set(s,c)),c.add(o)}get(o,s){const f=this.map.get(o);return f?f.get(o,s):null}remove(o){const s=o.trackById;return this.map.get(s).remove(o)&&this.map.delete(s),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function BE(r,o,s){const c=r.previousIndex;if(null===c)return c;let f=0;return s&&c<s.length&&(f=s[c]),c+o+f}class UE{constructor(){}supports(o){return o instanceof Map||Fl(o)}create(){return new GC}}class GC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let s;for(s=this._mapHead;null!==s;s=s._next)o(s)}forEachPreviousItem(o){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)o(s)}forEachChangedItem(o){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)o(s)}forEachAddedItem(o){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)o(s)}forEachRemovedItem(o){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)o(s)}diff(o){if(o){if(!(o instanceof Map||Fl(o)))throw new Ue(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,f)=>{if(s&&s.key===f)this._maybeAddToChanges(s,c),this._appendAfter=s,s=s._next;else{const m=this._getOrCreateRecordForKey(f,c);s=this._insertBeforeOrAppend(s,m)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let c=s;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,s){if(o){const c=o._prev;return s._next=o,s._prev=c,o._prev=s,c&&(c._next=s),o===this._mapHead&&(this._mapHead=s),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(o,s){if(this._records.has(o)){const f=this._records.get(o);this._maybeAddToChanges(f,s);const m=f._prev,I=f._next;return m&&(m._next=I),I&&(I._prev=m),f._next=null,f._prev=null,f}const c=new HE(o);return this._records.set(o,c),c.currentValue=s,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,s){Object.is(s,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=s,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,s){o instanceof Map?o.forEach(s):Object.keys(o).forEach(c=>s(o[c],c))}}class HE{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function II(){return new D0([new LE])}let D0=(()=>{class r{static#e=this.\u0275prov=Ee({token:r,providedIn:"root",factory:II});constructor(s){this.factories=s}static create(s,c){if(null!=c){const f=c.factories.slice();s=s.concat(f)}return new r(s)}static extend(s){return{provide:r,useFactory:c=>r.create(s,c||II()),deps:[[r,new cp,new Xc]]}}find(s){const c=this.factories.find(f=>f.supports(s));if(null!=c)return c;throw new Ue(901,!1)}}return r})();function wI(){return new C0([new UE])}let C0=(()=>{class r{static#e=this.\u0275prov=Ee({token:r,providedIn:"root",factory:wI});constructor(s){this.factories=s}static create(s,c){if(c){const f=c.factories.slice();s=s.concat(f)}return new r(s)}static extend(s){return{provide:r,useFactory:c=>r.create(s,c||wI()),deps:[[r,new cp,new Xc]]}}find(s){const c=this.factories.find(f=>f.supports(s));if(c)return c;throw new Ue(901,!1)}}return r})();const S0=pI(null,"core",[]);let GE=(()=>{class r{constructor(s){}static#e=this.\u0275fac=function(c){return new(c||r)(xn(bc))};static#t=this.\u0275mod=jo({type:r});static#n=this.\u0275inj=Me({})}return r})();function zE(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}function xS(r,o){const s=Qn(r),c=o.elementInjector||cf();return new Gn(s).create(c,o.projectableNodes,o.hostElement,o.environmentInjector)}function Zf(r){const o=Qn(r);if(!o)return null;const s=new Gn(o);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return o.standalone},get isSignal(){return o.signals}}}},7592:(Ht,$e,Y)=>{Y.d($e,{C6:()=>Oe,Jn:()=>ar,KN:()=>gt,Mq:()=>Ee,Xd:()=>xt,ZF:()=>Tr,qX:()=>Bt});var b=Y(5861),se=Y(6820),ge=Y(7879),fe=Y(229),l=Y(1878);class le{constructor(De){this.container=De}getPlatformInfoString(){return this.container.getProviders().map(We=>{if(function ve(et){const De=et.getComponent();return"VERSION"===De?.type}(We)){const yt=We.getImmediate();return`${yt.library}/${yt.version}`}return null}).filter(We=>We).join(" ")}}const Be="@firebase/app",ae=new ge.Yd("@firebase/app"),xe="[DEFAULT]",He={[Be]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Je=new Map,Le=new Map;function tt(et,De){try{et.container.addComponent(De)}catch(We){ae.debug(`Component ${De.name} failed to register with FirebaseApp ${et.name}`,We)}}function xt(et){const De=et.name;if(Le.has(De))return ae.debug(`There were multiple attempts to register component ${De}.`),!1;Le.set(De,et);for(const We of Je.values())tt(We,et);return!0}function Bt(et,De){const We=et.container.getProvider("heartbeat").getImmediate({optional:!0});return We&&We.triggerHeartbeat(),et.container.getProvider(De)}const wt=new fe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Fn{constructor(De,We,yt){this._isDeleted=!1,this._options=Object.assign({},De),this._config=Object.assign({},We),this._name=We.name,this._automaticDataCollectionEnabled=We.automaticDataCollectionEnabled,this._container=yt,this.container.addComponent(new se.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(De){this.checkDestroyed(),this._automaticDataCollectionEnabled=De}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(De){this._isDeleted=De}checkDestroyed(){if(this.isDeleted)throw wt.create("app-deleted",{appName:this._name})}}const ar="9.23.0";function Tr(et,De={}){let We=et;"object"!=typeof De&&(De={name:De});const yt=Object.assign({name:xe,automaticDataCollectionEnabled:!1},De),jt=yt.name;if("string"!=typeof jt||!jt)throw wt.create("bad-app-name",{appName:String(jt)});if(We||(We=(0,fe.aH)()),!We)throw wt.create("no-options");const $t=Je.get(jt);if($t){if((0,fe.vZ)(We,$t.options)&&(0,fe.vZ)(yt,$t.config))return $t;throw wt.create("duplicate-app",{appName:jt})}const kn=new se.H0(jt);for(const L of Le.values())kn.addComponent(L);const Z=new Fn(We,yt,kn);return Je.set(jt,Z),Z}function Ee(et=xe){const De=Je.get(et);if(!De&&et===xe&&(0,fe.aH)())return Tr();if(!De)throw wt.create("no-app",{appName:et});return De}function Oe(){return Array.from(Je.values())}function gt(et,De,We){var yt;let jt=null!==(yt=He[et])&&void 0!==yt?yt:et;We&&(jt+=`-${We}`);const $t=jt.match(/\s|\//),kn=De.match(/\s|\//);if($t||kn){const Z=[`Unable to register library "${jt}" with version "${De}":`];return $t&&Z.push(`library name "${jt}" contains illegal characters (whitespace or "/")`),$t&&kn&&Z.push("and"),kn&&Z.push(`version name "${De}" contains illegal characters (whitespace or "/")`),void ae.warn(Z.join(" "))}xt(new se.wA(`${jt}-version`,()=>({library:jt,version:De}),"VERSION"))}const yn="firebase-heartbeat-database",tn=1,zt="firebase-heartbeat-store";let gn=null;function Bn(){return gn||(gn=(0,l.X3)(yn,tn,{upgrade:(et,De)=>{0===De&&et.createObjectStore(zt)}}).catch(et=>{throw wt.create("idb-open",{originalErrorMessage:et.message})})),gn}function mr(){return(mr=(0,b.Z)(function*(et){try{return yield(yield Bn()).transaction(zt).objectStore(zt).get(Wn(et))}catch(De){if(De instanceof fe.ZR)ae.warn(De.message);else{const We=wt.create("idb-get",{originalErrorMessage:De?.message});ae.warn(We.message)}}})).apply(this,arguments)}function dr(et,De){return ln.apply(this,arguments)}function ln(){return(ln=(0,b.Z)(function*(et,De){try{const yt=(yield Bn()).transaction(zt,"readwrite");yield yt.objectStore(zt).put(De,Wn(et)),yield yt.done}catch(We){if(We instanceof fe.ZR)ae.warn(We.message);else{const yt=wt.create("idb-set",{originalErrorMessage:We?.message});ae.warn(yt.message)}}})).apply(this,arguments)}function Wn(et){return`${et.name}!${et.options.appId}`}class Pn{constructor(De){this.container=De,this._heartbeatsCache=null;const We=this.container.getProvider("app").getImmediate();this._storage=new Un(We),this._heartbeatsCachePromise=this._storage.read().then(yt=>(this._heartbeatsCache=yt,yt))}triggerHeartbeat(){var De=this;return(0,b.Z)(function*(){const yt=De.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),jt=ni();if(null===De._heartbeatsCache&&(De._heartbeatsCache=yield De._heartbeatsCachePromise),De._heartbeatsCache.lastSentHeartbeatDate!==jt&&!De._heartbeatsCache.heartbeats.some($t=>$t.date===jt))return De._heartbeatsCache.heartbeats.push({date:jt,agent:yt}),De._heartbeatsCache.heartbeats=De._heartbeatsCache.heartbeats.filter($t=>{const kn=new Date($t.date).valueOf();return Date.now()-kn<=2592e6}),De._storage.overwrite(De._heartbeatsCache)})()}getHeartbeatsHeader(){var De=this;return(0,b.Z)(function*(){if(null===De._heartbeatsCache&&(yield De._heartbeatsCachePromise),null===De._heartbeatsCache||0===De._heartbeatsCache.heartbeats.length)return"";const We=ni(),{heartbeatsToSend:yt,unsentEntries:jt}=function Tn(et,De=1024){const We=[];let yt=et.slice();for(const jt of et){const $t=We.find(kn=>kn.agent===jt.agent);if($t){if($t.dates.push(jt.date),br(We)>De){$t.dates.pop();break}}else if(We.push({agent:jt.agent,dates:[jt.date]}),br(We)>De){We.pop();break}yt=yt.slice(1)}return{heartbeatsToSend:We,unsentEntries:yt}}(De._heartbeatsCache.heartbeats),$t=(0,fe.L)(JSON.stringify({version:2,heartbeats:yt}));return De._heartbeatsCache.lastSentHeartbeatDate=We,jt.length>0?(De._heartbeatsCache.heartbeats=jt,yield De._storage.overwrite(De._heartbeatsCache)):(De._heartbeatsCache.heartbeats=[],De._storage.overwrite(De._heartbeatsCache)),$t})()}}function ni(){return(new Date).toISOString().substring(0,10)}class Un{constructor(De){this.app=De,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,b.Z)(function*(){return!!(0,fe.hl)()&&(0,fe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var De=this;return(0,b.Z)(function*(){return(yield De._canUseIndexedDBPromise)&&(yield function Kt(et){return mr.apply(this,arguments)}(De.app))||{heartbeats:[]}})()}overwrite(De){var We=this;return(0,b.Z)(function*(){var yt;if(yield We._canUseIndexedDBPromise){const $t=yield We.read();return dr(We.app,{lastSentHeartbeatDate:null!==(yt=De.lastSentHeartbeatDate)&&void 0!==yt?yt:$t.lastSentHeartbeatDate,heartbeats:De.heartbeats})}})()}add(De){var We=this;return(0,b.Z)(function*(){var yt;if(yield We._canUseIndexedDBPromise){const $t=yield We.read();return dr(We.app,{lastSentHeartbeatDate:null!==(yt=De.lastSentHeartbeatDate)&&void 0!==yt?yt:$t.lastSentHeartbeatDate,heartbeats:[...$t.heartbeats,...De.heartbeats]})}})()}}function br(et){return(0,fe.L)(JSON.stringify({version:2,heartbeats:et})).length}!function ri(et){xt(new se.wA("platform-logger",De=>new le(De),"PRIVATE")),xt(new se.wA("heartbeat",De=>new Pn(De),"PRIVATE")),gt(Be,"0.9.13",et),gt(Be,"0.9.13","esm2017"),gt("fire-js","")}("")},6820:(Ht,$e,Y)=>{Y.d($e,{H0:()=>Be,wA:()=>ge});var b=Y(5861),se=Y(229);class ge{constructor(ae,ce,Ce){this.name=ae,this.instanceFactory=ce,this.type=Ce,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ae){return this.instantiationMode=ae,this}setMultipleInstances(ae){return this.multipleInstances=ae,this}setServiceProps(ae){return this.serviceProps=ae,this}setInstanceCreatedCallback(ae){return this.onInstanceCreated=ae,this}}const fe="[DEFAULT]";class l{constructor(ae,ce){this.name=ae,this.container=ce,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ae){const ce=this.normalizeInstanceIdentifier(ae);if(!this.instancesDeferred.has(ce)){const Ce=new se.BH;if(this.instancesDeferred.set(ce,Ce),this.isInitialized(ce)||this.shouldAutoInitialize())try{const Xe=this.getOrInitializeService({instanceIdentifier:ce});Xe&&Ce.resolve(Xe)}catch{}}return this.instancesDeferred.get(ce).promise}getImmediate(ae){var ce;const Ce=this.normalizeInstanceIdentifier(ae?.identifier),Xe=null!==(ce=ae?.optional)&&void 0!==ce&&ce;if(!this.isInitialized(Ce)&&!this.shouldAutoInitialize()){if(Xe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ce})}catch(Re){if(Xe)return null;throw Re}}getComponent(){return this.component}setComponent(ae){if(ae.name!==this.name)throw Error(`Mismatching Component ${ae.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ae,this.shouldAutoInitialize()){if(function ve(Se){return"EAGER"===Se.instantiationMode}(ae))try{this.getOrInitializeService({instanceIdentifier:fe})}catch{}for(const[ce,Ce]of this.instancesDeferred.entries()){const Xe=this.normalizeInstanceIdentifier(ce);try{const Re=this.getOrInitializeService({instanceIdentifier:Xe});Ce.resolve(Re)}catch{}}}}clearInstance(ae=fe){this.instancesDeferred.delete(ae),this.instancesOptions.delete(ae),this.instances.delete(ae)}delete(){var ae=this;return(0,b.Z)(function*(){const ce=Array.from(ae.instances.values());yield Promise.all([...ce.filter(Ce=>"INTERNAL"in Ce).map(Ce=>Ce.INTERNAL.delete()),...ce.filter(Ce=>"_delete"in Ce).map(Ce=>Ce._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ae=fe){return this.instances.has(ae)}getOptions(ae=fe){return this.instancesOptions.get(ae)||{}}initialize(ae={}){const{options:ce={}}=ae,Ce=this.normalizeInstanceIdentifier(ae.instanceIdentifier);if(this.isInitialized(Ce))throw Error(`${this.name}(${Ce}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Xe=this.getOrInitializeService({instanceIdentifier:Ce,options:ce});for(const[Re,it]of this.instancesDeferred.entries())Ce===this.normalizeInstanceIdentifier(Re)&&it.resolve(Xe);return Xe}onInit(ae,ce){var Ce;const Xe=this.normalizeInstanceIdentifier(ce),Re=null!==(Ce=this.onInitCallbacks.get(Xe))&&void 0!==Ce?Ce:new Set;Re.add(ae),this.onInitCallbacks.set(Xe,Re);const it=this.instances.get(Xe);return it&&ae(it,Xe),()=>{Re.delete(ae)}}invokeOnInitCallbacks(ae,ce){const Ce=this.onInitCallbacks.get(ce);if(Ce)for(const Xe of Ce)try{Xe(ae,ce)}catch{}}getOrInitializeService({instanceIdentifier:ae,options:ce={}}){let Ce=this.instances.get(ae);if(!Ce&&this.component&&(Ce=this.component.instanceFactory(this.container,{instanceIdentifier:(Se=ae,Se===fe?void 0:Se),options:ce}),this.instances.set(ae,Ce),this.instancesOptions.set(ae,ce),this.invokeOnInitCallbacks(Ce,ae),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ae,Ce)}catch{}var Se;return Ce||null}normalizeInstanceIdentifier(ae=fe){return this.component?this.component.multipleInstances?ae:fe:ae}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Be{constructor(ae){this.name=ae,this.providers=new Map}addComponent(ae){const ce=this.getProvider(ae.name);if(ce.isComponentSet())throw new Error(`Component ${ae.name} has already been registered with ${this.name}`);ce.setComponent(ae)}addOrOverwriteComponent(ae){this.getProvider(ae.name).isComponentSet()&&this.providers.delete(ae.name),this.addComponent(ae)}getProvider(ae){if(this.providers.has(ae))return this.providers.get(ae);const ce=new l(ae,this);return this.providers.set(ae,ce),ce}getProviders(){return Array.from(this.providers.values())}}},4097:(Ht,$e,Y)=>{Y.d($e,{C6:()=>b.C6,KN:()=>b.KN,Mq:()=>b.Mq,ZF:()=>b.ZF});var b=Y(7592);(0,b.KN)("firebase","9.23.0","app")},95:(Ht,$e,Y)=>{Y.d($e,{Fj:()=>ft,CE:()=>Et,qu:()=>Hs,u:()=>Di,cw:()=>en,sg:()=>mi,x0:()=>Vs,u5:()=>Gs,wO:()=>Ro,Cf:()=>pt,JU:()=>it,JJ:()=>zt,JL:()=>gn,YN:()=>$r,wV:()=>jo,UX:()=>Hi,Q7:()=>Nn,EJ:()=>hr,kI:()=>Qe,_Y:()=>gs,Kr:()=>Er});var b=Y(9468),se=Y(6814),ge=Y(2459),fe=Y(5592),l=Y(7453),le=Y(4829),ve=Y(9940),Be=Y(8251),Se=Y(7400),ae=Y(2714),Ce=Y(7398);let Xe=(()=>{class z{constructor(F,ie){this._renderer=F,this._elementRef=ie,this.onChange=Ie=>{},this.onTouched=()=>{}}setProperty(F,ie){this._renderer.setProperty(this._elementRef.nativeElement,F,ie)}registerOnTouched(F){this.onTouched=F}registerOnChange(F){this.onChange=F}setDisabledState(F){this.setProperty("disabled",F)}static#e=this.\u0275fac=function(ie){return new(ie||z)(b.Y36(b.Qsj),b.Y36(b.SBq))};static#t=this.\u0275dir=b.lG2({type:z})}return z})(),Re=(()=>{class z extends Xe{static#e=this.\u0275fac=function(){let F;return function(Ie){return(F||(F=b.n5z(z)))(Ie||z)}}();static#t=this.\u0275dir=b.lG2({type:z,features:[b.qOj]})}return z})();const it=new b.OlP("NgValueAccessor"),Ft={provide:it,useExisting:(0,b.Gpc)(()=>ft),multi:!0},Mt=new b.OlP("CompositionEventMode");let ft=(()=>{class z extends Xe{constructor(F,ie,Ie){super(F,ie),this._compositionMode=Ie,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function wn(){const z=(0,se.q)()?(0,se.q)().getUserAgent():"";return/android (\d+)/.test(z.toLowerCase())}())}writeValue(F){this.setProperty("value",F??"")}_handleInput(F){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(F)}_compositionStart(){this._composing=!0}_compositionEnd(F){this._composing=!1,this._compositionMode&&this.onChange(F)}static#e=this.\u0275fac=function(ie){return new(ie||z)(b.Y36(b.Qsj),b.Y36(b.SBq),b.Y36(Mt,8))};static#t=this.\u0275dir=b.lG2({type:z,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(ie,Ie){1&ie&&b.NdJ("input",function(In){return Ie._handleInput(In.target.value)})("blur",function(){return Ie.onTouched()})("compositionstart",function(){return Ie._compositionStart()})("compositionend",function(In){return Ie._compositionEnd(In.target.value)})},features:[b._Bn([Ft]),b.qOj]})}return z})();function ot(z){return null==z||("string"==typeof z||Array.isArray(z))&&0===z.length}function mt(z){return null!=z&&"number"==typeof z.length}const pt=new b.OlP("NgValidators"),Ue=new b.OlP("NgAsyncValidators"),ye=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Qe{static min(Q){return function ht(z){return Q=>{if(ot(Q.value)||ot(z))return null;const F=parseFloat(Q.value);return!isNaN(F)&&F<z?{min:{min:z,actual:Q.value}}:null}}(Q)}static max(Q){return function An(z){return Q=>{if(ot(Q.value)||ot(z))return null;const F=parseFloat(Q.value);return!isNaN(F)&&F>z?{max:{max:z,actual:Q.value}}:null}}(Q)}static required(Q){return ct(Q)}static requiredTrue(Q){return function sn(z){return!0===z.value?null:{required:!0}}(Q)}static email(Q){return function mn(z){return ot(z.value)||ye.test(z.value)?null:{email:!0}}(Q)}static minLength(Q){return Rn(Q)}static maxLength(Q){return function zn(z){return Q=>mt(Q.value)&&Q.value.length>z?{maxlength:{requiredLength:z,actualLength:Q.value.length}}:null}(Q)}static pattern(Q){return function sr(z){if(!z)return xe;let Q,F;return"string"==typeof z?(F="","^"!==z.charAt(0)&&(F+="^"),F+=z,"$"!==z.charAt(z.length-1)&&(F+="$"),Q=new RegExp(F)):(F=z.toString(),Q=z),ie=>{if(ot(ie.value))return null;const Ie=ie.value;return Q.test(Ie)?null:{pattern:{requiredPattern:F,actualValue:Ie}}}}(Q)}static nullValidator(Q){return null}static compose(Q){return Bt(Q)}static composeAsync(Q){return fn(Q)}}function ct(z){return ot(z.value)?{required:!0}:null}function Rn(z){return Q=>ot(Q.value)||!mt(Q.value)?null:Q.value.length<z?{minlength:{requiredLength:z,actualLength:Q.value.length}}:null}function xe(z){return null}function He(z){return null!=z}function Je(z){return(0,b.QGY)(z)?(0,ge.D)(z):z}function Le(z){let Q={};return z.forEach(F=>{Q=null!=F?{...Q,...F}:Q}),0===Object.keys(Q).length?null:Q}function tt(z,Q){return Q.map(F=>F(z))}function xt(z){return z.map(Q=>function vt(z){return!z.validate}(Q)?Q:F=>Q.validate(F))}function Bt(z){if(!z)return null;const Q=z.filter(He);return 0==Q.length?null:function(F){return Le(tt(F,Q))}}function an(z){return null!=z?Bt(xt(z)):null}function fn(z){if(!z)return null;const Q=z.filter(He);return 0==Q.length?null:function(F){return function ce(...z){const Q=(0,ve.jO)(z),{args:F,keys:ie}=(0,l.D)(z),Ie=new fe.y(Ut=>{const{length:In}=F;if(!In)return void Ut.complete();const Ri=new Array(In);let bo=In,ci=In;for(let yi=0;yi<In;yi++){let Ua=!1;(0,le.Xf)(F[yi]).subscribe((0,Be.x)(Ut,js=>{Ua||(Ua=!0,ci--),Ri[yi]=js},()=>bo--,void 0,()=>{(!bo||!Ua)&&(ci||Ut.next(ie?(0,ae.n)(ie,Ri):Ri),Ut.complete())}))}});return Q?Ie.pipe((0,Se.Z)(Q)):Ie}(tt(F,Q).map(Je)).pipe((0,Ce.U)(Le))}}function on(z){return null!=z?fn(xt(z)):null}function wt(z,Q){return null===z?[Q]:Array.isArray(z)?[...z,Q]:[z,Q]}function Fn(z){return z._rawValidators}function ar(z){return z._rawAsyncValidators}function Tr(z){return z?Array.isArray(z)?z:[z]:[]}function Ee(z,Q){return Array.isArray(z)?z.includes(Q):z===Q}function Oe(z,Q){const F=Tr(Q);return Tr(z).forEach(Ie=>{Ee(F,Ie)||F.push(Ie)}),F}function Me(z,Q){return Tr(Q).filter(F=>!Ee(z,F))}class st{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(Q){this._rawValidators=Q||[],this._composedValidatorFn=an(this._rawValidators)}_setAsyncValidators(Q){this._rawAsyncValidators=Q||[],this._composedAsyncValidatorFn=on(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(Q){this._onDestroyCallbacks.push(Q)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(Q=>Q()),this._onDestroyCallbacks=[]}reset(Q=void 0){this.control&&this.control.reset(Q)}hasError(Q,F){return!!this.control&&this.control.hasError(Q,F)}getError(Q,F){return this.control?this.control.getError(Q,F):null}}class gt extends st{get formDirective(){return null}get path(){return null}}class Tt extends st{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class lr{constructor(Q){this._cd=Q}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let zt=(()=>{class z extends lr{constructor(F){super(F)}static#e=this.\u0275fac=function(ie){return new(ie||z)(b.Y36(Tt,2))};static#t=this.\u0275dir=b.lG2({type:z,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(ie,Ie){2&ie&&b.ekj("ng-untouched",Ie.isUntouched)("ng-touched",Ie.isTouched)("ng-pristine",Ie.isPristine)("ng-dirty",Ie.isDirty)("ng-valid",Ie.isValid)("ng-invalid",Ie.isInvalid)("ng-pending",Ie.isPending)},features:[b.qOj]})}return z})(),gn=(()=>{class z extends lr{constructor(F){super(F)}static#e=this.\u0275fac=function(ie){return new(ie||z)(b.Y36(gt,10))};static#t=this.\u0275dir=b.lG2({type:z,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(ie,Ie){2&ie&&b.ekj("ng-untouched",Ie.isUntouched)("ng-touched",Ie.isTouched)("ng-pristine",Ie.isPristine)("ng-dirty",Ie.isDirty)("ng-valid",Ie.isValid)("ng-invalid",Ie.isInvalid)("ng-pending",Ie.isPending)("ng-submitted",Ie.isSubmitted)},features:[b.qOj]})}return z})();const yt="VALID",jt="INVALID",$t="PENDING",kn="DISABLED";function Z(z){return(j(z)?z.validators:z)||null}function H(z,Q){return(j(Q)?Q.asyncValidators:z)||null}function j(z){return null!=z&&!Array.isArray(z)&&"object"==typeof z}function be(z,Q,F){const ie=z.controls;if(!(Q?Object.keys(ie):ie).length)throw new b.vHH(1e3,"");if(!ie[F])throw new b.vHH(1001,"")}function ze(z,Q,F){z._forEachChild((ie,Ie)=>{if(void 0===F[Ie])throw new b.vHH(1002,"")})}class bt{constructor(Q,F){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(Q),this._assignAsyncValidators(F)}get validator(){return this._composedValidatorFn}set validator(Q){this._rawValidators=this._composedValidatorFn=Q}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(Q){this._rawAsyncValidators=this._composedAsyncValidatorFn=Q}get parent(){return this._parent}get valid(){return this.status===yt}get invalid(){return this.status===jt}get pending(){return this.status==$t}get disabled(){return this.status===kn}get enabled(){return this.status!==kn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(Q){this._assignValidators(Q)}setAsyncValidators(Q){this._assignAsyncValidators(Q)}addValidators(Q){this.setValidators(Oe(Q,this._rawValidators))}addAsyncValidators(Q){this.setAsyncValidators(Oe(Q,this._rawAsyncValidators))}removeValidators(Q){this.setValidators(Me(Q,this._rawValidators))}removeAsyncValidators(Q){this.setAsyncValidators(Me(Q,this._rawAsyncValidators))}hasValidator(Q){return Ee(this._rawValidators,Q)}hasAsyncValidator(Q){return Ee(this._rawAsyncValidators,Q)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(Q={}){this.touched=!0,this._parent&&!Q.onlySelf&&this._parent.markAsTouched(Q)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(Q=>Q.markAllAsTouched())}markAsUntouched(Q={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(F=>{F.markAsUntouched({onlySelf:!0})}),this._parent&&!Q.onlySelf&&this._parent._updateTouched(Q)}markAsDirty(Q={}){this.pristine=!1,this._parent&&!Q.onlySelf&&this._parent.markAsDirty(Q)}markAsPristine(Q={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(F=>{F.markAsPristine({onlySelf:!0})}),this._parent&&!Q.onlySelf&&this._parent._updatePristine(Q)}markAsPending(Q={}){this.status=$t,!1!==Q.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!Q.onlySelf&&this._parent.markAsPending(Q)}disable(Q={}){const F=this._parentMarkedDirty(Q.onlySelf);this.status=kn,this.errors=null,this._forEachChild(ie=>{ie.disable({...Q,onlySelf:!0})}),this._updateValue(),!1!==Q.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...Q,skipPristineCheck:F}),this._onDisabledChange.forEach(ie=>ie(!0))}enable(Q={}){const F=this._parentMarkedDirty(Q.onlySelf);this.status=yt,this._forEachChild(ie=>{ie.enable({...Q,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:Q.emitEvent}),this._updateAncestors({...Q,skipPristineCheck:F}),this._onDisabledChange.forEach(ie=>ie(!1))}_updateAncestors(Q){this._parent&&!Q.onlySelf&&(this._parent.updateValueAndValidity(Q),Q.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(Q){this._parent=Q}getRawValue(){return this.value}updateValueAndValidity(Q={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===yt||this.status===$t)&&this._runAsyncValidator(Q.emitEvent)),!1!==Q.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!Q.onlySelf&&this._parent.updateValueAndValidity(Q)}_updateTreeValidity(Q={emitEvent:!0}){this._forEachChild(F=>F._updateTreeValidity(Q)),this.updateValueAndValidity({onlySelf:!0,emitEvent:Q.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?kn:yt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(Q){if(this.asyncValidator){this.status=$t,this._hasOwnPendingAsyncValidator=!0;const F=Je(this.asyncValidator(this));this._asyncValidationSubscription=F.subscribe(ie=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ie,{emitEvent:Q})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(Q,F={}){this.errors=Q,this._updateControlsErrors(!1!==F.emitEvent)}get(Q){let F=Q;return null==F||(Array.isArray(F)||(F=F.split(".")),0===F.length)?null:F.reduce((ie,Ie)=>ie&&ie._find(Ie),this)}getError(Q,F){const ie=F?this.get(F):this;return ie&&ie.errors?ie.errors[Q]:null}hasError(Q,F){return!!this.getError(Q,F)}get root(){let Q=this;for(;Q._parent;)Q=Q._parent;return Q}_updateControlsErrors(Q){this.status=this._calculateStatus(),Q&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(Q)}_initObservables(){this.valueChanges=new b.vpe,this.statusChanges=new b.vpe}_calculateStatus(){return this._allControlsDisabled()?kn:this.errors?jt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus($t)?$t:this._anyControlsHaveStatus(jt)?jt:yt}_anyControlsHaveStatus(Q){return this._anyControls(F=>F.status===Q)}_anyControlsDirty(){return this._anyControls(Q=>Q.dirty)}_anyControlsTouched(){return this._anyControls(Q=>Q.touched)}_updatePristine(Q={}){this.pristine=!this._anyControlsDirty(),this._parent&&!Q.onlySelf&&this._parent._updatePristine(Q)}_updateTouched(Q={}){this.touched=this._anyControlsTouched(),this._parent&&!Q.onlySelf&&this._parent._updateTouched(Q)}_registerOnCollectionChange(Q){this._onCollectionChange=Q}_setUpdateStrategy(Q){j(Q)&&null!=Q.updateOn&&(this._updateOn=Q.updateOn)}_parentMarkedDirty(Q){return!Q&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(Q){return null}_assignValidators(Q){this._rawValidators=Array.isArray(Q)?Q.slice():Q,this._composedValidatorFn=function L(z){return Array.isArray(z)?an(z):z||null}(this._rawValidators)}_assignAsyncValidators(Q){this._rawAsyncValidators=Array.isArray(Q)?Q.slice():Q,this._composedAsyncValidatorFn=function W(z){return Array.isArray(z)?on(z):z||null}(this._rawAsyncValidators)}}class en extends bt{constructor(Q,F,ie){super(Z(F),H(ie,F)),this.controls=Q,this._initObservables(),this._setUpdateStrategy(F),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(Q,F){return this.controls[Q]?this.controls[Q]:(this.controls[Q]=F,F.setParent(this),F._registerOnCollectionChange(this._onCollectionChange),F)}addControl(Q,F,ie={}){this.registerControl(Q,F),this.updateValueAndValidity({emitEvent:ie.emitEvent}),this._onCollectionChange()}removeControl(Q,F={}){this.controls[Q]&&this.controls[Q]._registerOnCollectionChange(()=>{}),delete this.controls[Q],this.updateValueAndValidity({emitEvent:F.emitEvent}),this._onCollectionChange()}setControl(Q,F,ie={}){this.controls[Q]&&this.controls[Q]._registerOnCollectionChange(()=>{}),delete this.controls[Q],F&&this.registerControl(Q,F),this.updateValueAndValidity({emitEvent:ie.emitEvent}),this._onCollectionChange()}contains(Q){return this.controls.hasOwnProperty(Q)&&this.controls[Q].enabled}setValue(Q,F={}){ze(this,0,Q),Object.keys(Q).forEach(ie=>{be(this,!0,ie),this.controls[ie].setValue(Q[ie],{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F)}patchValue(Q,F={}){null!=Q&&(Object.keys(Q).forEach(ie=>{const Ie=this.controls[ie];Ie&&Ie.patchValue(Q[ie],{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F))}reset(Q={},F={}){this._forEachChild((ie,Ie)=>{ie.reset(Q?Q[Ie]:null,{onlySelf:!0,emitEvent:F.emitEvent})}),this._updatePristine(F),this._updateTouched(F),this.updateValueAndValidity(F)}getRawValue(){return this._reduceChildren({},(Q,F,ie)=>(Q[ie]=F.getRawValue(),Q))}_syncPendingControls(){let Q=this._reduceChildren(!1,(F,ie)=>!!ie._syncPendingControls()||F);return Q&&this.updateValueAndValidity({onlySelf:!0}),Q}_forEachChild(Q){Object.keys(this.controls).forEach(F=>{const ie=this.controls[F];ie&&Q(ie,F)})}_setUpControls(){this._forEachChild(Q=>{Q.setParent(this),Q._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(Q){for(const[F,ie]of Object.entries(this.controls))if(this.contains(F)&&Q(ie))return!0;return!1}_reduceValue(){return this._reduceChildren({},(F,ie,Ie)=>((ie.enabled||this.disabled)&&(F[Ie]=ie.value),F))}_reduceChildren(Q,F){let ie=Q;return this._forEachChild((Ie,Ut)=>{ie=F(ie,Ie,Ut)}),ie}_allControlsDisabled(){for(const Q of Object.keys(this.controls))if(this.controls[Q].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(Q){return this.controls.hasOwnProperty(Q)?this.controls[Q]:null}}class Wt extends en{}const kr=new b.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>jn}),jn="always";function Si(z,Q){return[...Q.path,z]}function ps(z,Q,F=jn){wa(z,Q),Q.valueAccessor.writeValue(z.value),(z.disabled||"always"===F)&&Q.valueAccessor.setDisabledState?.(z.disabled),function Wi(z,Q){Q.valueAccessor.registerOnChange(F=>{z._pendingValue=F,z._pendingChange=!0,z._pendingDirty=!0,"change"===z.updateOn&&Zi(z,Q)})}(z,Q),function $n(z,Q){const F=(ie,Ie)=>{Q.valueAccessor.writeValue(ie),Ie&&Q.viewToModelUpdate(ie)};z.registerOnChange(F),Q._registerOnDestroy(()=>{z._unregisterOnChange(F)})}(z,Q),function qi(z,Q){Q.valueAccessor.registerOnTouched(()=>{z._pendingTouched=!0,"blur"===z.updateOn&&z._pendingChange&&Zi(z,Q),"submit"!==z.updateOn&&z.markAsTouched()})}(z,Q),function go(z,Q){if(Q.valueAccessor.setDisabledState){const F=ie=>{Q.valueAccessor.setDisabledState(ie)};z.registerOnDisabledChange(F),Q._registerOnDestroy(()=>{z._unregisterOnDisabledChange(F)})}}(z,Q)}function Ai(z,Q,F=!0){const ie=()=>{};Q.valueAccessor&&(Q.valueAccessor.registerOnChange(ie),Q.valueAccessor.registerOnTouched(ie)),Vr(z,Q),z&&(Q._invokeOnDestroyCallbacks(),z._registerOnCollectionChange(()=>{}))}function Qr(z,Q){z.forEach(F=>{F.registerOnValidatorChange&&F.registerOnValidatorChange(Q)})}function wa(z,Q){const F=Fn(z);null!==Q.validator?z.setValidators(wt(F,Q.validator)):"function"==typeof F&&z.setValidators([F]);const ie=ar(z);null!==Q.asyncValidator?z.setAsyncValidators(wt(ie,Q.asyncValidator)):"function"==typeof ie&&z.setAsyncValidators([ie]);const Ie=()=>z.updateValueAndValidity();Qr(Q._rawValidators,Ie),Qr(Q._rawAsyncValidators,Ie)}function Vr(z,Q){let F=!1;if(null!==z){if(null!==Q.validator){const Ie=Fn(z);if(Array.isArray(Ie)&&Ie.length>0){const Ut=Ie.filter(In=>In!==Q.validator);Ut.length!==Ie.length&&(F=!0,z.setValidators(Ut))}}if(null!==Q.asyncValidator){const Ie=ar(z);if(Array.isArray(Ie)&&Ie.length>0){const Ut=Ie.filter(In=>In!==Q.asyncValidator);Ut.length!==Ie.length&&(F=!0,z.setAsyncValidators(Ut))}}}const ie=()=>{};return Qr(Q._rawValidators,ie),Qr(Q._rawAsyncValidators,ie),F}function Zi(z,Q){z._pendingDirty&&z.markAsDirty(),z.setValue(z._pendingValue,{emitModelToViewChange:!1}),Q.viewToModelUpdate(z._pendingValue),z._pendingChange=!1}function ks(z,Q){const F=z.indexOf(Q);F>-1&&z.splice(F,1)}function Bi(z){return"object"==typeof z&&null!==z&&2===Object.keys(z).length&&"value"in z&&"disabled"in z}const Jr=class extends bt{constructor(Q=null,F,ie){super(Z(F),H(ie,F)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(Q),this._setUpdateStrategy(F),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),j(F)&&(F.nonNullable||F.initialValueIsDefault)&&(this.defaultValue=Bi(Q)?Q.value:Q)}setValue(Q,F={}){this.value=this._pendingValue=Q,this._onChange.length&&!1!==F.emitModelToViewChange&&this._onChange.forEach(ie=>ie(this.value,!1!==F.emitViewToModelChange)),this.updateValueAndValidity(F)}patchValue(Q,F={}){this.setValue(Q,F)}reset(Q=this.defaultValue,F={}){this._applyFormState(Q),this.markAsPristine(F),this.markAsUntouched(F),this.setValue(this.value,F),this._pendingChange=!1}_updateValue(){}_anyControls(Q){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(Q){this._onChange.push(Q)}_unregisterOnChange(Q){ks(this._onChange,Q)}registerOnDisabledChange(Q){this._onDisabledChange.push(Q)}_unregisterOnDisabledChange(Q){ks(this._onDisabledChange,Q)}_forEachChild(Q){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(Q){Bi(Q)?(this.value=this._pendingValue=Q.value,Q.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=Q}};let si=(()=>{class z extends gt{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Si(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=function(){let F;return function(Ie){return(F||(F=b.n5z(z)))(Ie||z)}}();static#t=this.\u0275dir=b.lG2({type:z,features:[b.qOj]})}return z})(),gs=(()=>{class z{static#e=this.\u0275fac=function(ie){return new(ie||z)};static#t=this.\u0275dir=b.lG2({type:z,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return z})();const Uc={provide:it,useExisting:(0,b.Gpc)(()=>jo),multi:!0};let jo=(()=>{class z extends Re{writeValue(F){this.setProperty("value",F??"")}registerOnChange(F){this.onChange=ie=>{F(""==ie?null:parseFloat(ie))}}static#e=this.\u0275fac=function(){let F;return function(Ie){return(F||(F=b.n5z(z)))(Ie||z)}}();static#t=this.\u0275dir=b.lG2({type:z,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(ie,Ie){1&ie&&b.NdJ("input",function(In){return Ie.onChange(In.target.value)})("blur",function(){return Ie.onTouched()})},features:[b._Bn([Uc]),b.qOj]})}return z})(),ms=(()=>{class z{static#e=this.\u0275fac=function(ie){return new(ie||z)};static#t=this.\u0275mod=b.oAB({type:z});static#n=this.\u0275inj=b.cJS({})}return z})();const Qi=new b.OlP("NgModelWithFormControlWarning"),_s={provide:gt,useExisting:(0,b.Gpc)(()=>mi)};let mi=(()=>{class z extends gt{constructor(F,ie,Ie){super(),this.callSetDisabledState=Ie,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new b.vpe,this._setValidators(F),this._setAsyncValidators(ie)}ngOnChanges(F){this._checkFormPresent(),F.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Vr(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(F){const ie=this.form.get(F.path);return ps(ie,F,this.callSetDisabledState),ie.updateValueAndValidity({emitEvent:!1}),this.directives.push(F),ie}getControl(F){return this.form.get(F.path)}removeControl(F){Ai(F.control||null,F,!1),function Ea(z,Q){const F=z.indexOf(Q);F>-1&&z.splice(F,1)}(this.directives,F)}addFormGroup(F){this._setUpFormContainer(F)}removeFormGroup(F){this._cleanUpFormContainer(F)}getFormGroup(F){return this.form.get(F.path)}addFormArray(F){this._setUpFormContainer(F)}removeFormArray(F){this._cleanUpFormContainer(F)}getFormArray(F){return this.form.get(F.path)}updateModel(F,ie){this.form.get(F.path).setValue(ie)}onSubmit(F){return this.submitted=!0,function Ta(z,Q){z._syncPendingControls(),Q.forEach(F=>{const ie=F.control;"submit"===ie.updateOn&&ie._pendingChange&&(F.viewToModelUpdate(ie._pendingValue),ie._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(F),"dialog"===F?.target?.method}onReset(){this.resetForm()}resetForm(F=void 0){this.form.reset(F),this.submitted=!1}_updateDomValue(){this.directives.forEach(F=>{const ie=F.control,Ie=this.form.get(F.path);ie!==Ie&&(Ai(ie||null,F),(z=>z instanceof Jr)(Ie)&&(ps(Ie,F,this.callSetDisabledState),F.control=Ie))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(F){const ie=this.form.get(F.path);(function So(z,Q){wa(z,Q)})(ie,F),ie.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(F){if(this.form){const ie=this.form.get(F.path);ie&&function Or(z,Q){return Vr(z,Q)}(ie,F)&&ie.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){wa(this.form,this),this._oldForm&&Vr(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(ie){return new(ie||z)(b.Y36(pt,10),b.Y36(Ue,10),b.Y36(kr,8))};static#t=this.\u0275dir=b.lG2({type:z,selectors:[["","formGroup",""]],hostBindings:function(ie,Ie){1&ie&&b.NdJ("submit",function(In){return Ie.onSubmit(In)})("reset",function(){return Ie.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[b._Bn([_s]),b.qOj,b.TTD]})}return z})();const La={provide:gt,useExisting:(0,b.Gpc)(()=>Vs)};let Vs=(()=>{class z extends si{constructor(F,ie,Ie){super(),this.name=null,this._parent=F,this._setValidators(ie),this._setAsyncValidators(Ie)}_checkParentType(){Dn(this._parent)}static#e=this.\u0275fac=function(ie){return new(ie||z)(b.Y36(gt,13),b.Y36(pt,10),b.Y36(Ue,10))};static#t=this.\u0275dir=b.lG2({type:z,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[b._Bn([La]),b.qOj]})}return z})();const nr={provide:gt,useExisting:(0,b.Gpc)(()=>Et)};let Et=(()=>{class z extends gt{constructor(F,ie,Ie){super(),this.name=null,this._parent=F,this._setValidators(ie),this._setAsyncValidators(Ie)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Si(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Dn(this._parent)}static#e=this.\u0275fac=function(ie){return new(ie||z)(b.Y36(gt,13),b.Y36(pt,10),b.Y36(Ue,10))};static#t=this.\u0275dir=b.lG2({type:z,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[b._Bn([nr]),b.qOj]})}return z})();function Dn(z){return!(z instanceof Vs||z instanceof mi||z instanceof Et)}const ur={provide:Tt,useExisting:(0,b.Gpc)(()=>Di)};let Di=(()=>{class z extends Tt{set isDisabled(F){}static#e=this._ngModelWarningSentOnce=!1;constructor(F,ie,Ie,Ut,In){super(),this._ngModelWarningConfig=In,this._added=!1,this.name=null,this.update=new b.vpe,this._ngModelWarningSent=!1,this._parent=F,this._setValidators(ie),this._setAsyncValidators(Ie),this.valueAccessor=function Ki(z,Q){if(!Q)return null;let F,ie,Ie;return Array.isArray(Q),Q.forEach(Ut=>{Ut.constructor===ft?F=Ut:function Ni(z){return Object.getPrototypeOf(z.constructor)===Re}(Ut)?ie=Ut:Ie=Ut}),Ie||ie||F||null}(0,Ut)}ngOnChanges(F){this._added||this._setUpControl(),function No(z,Q){if(!z.hasOwnProperty("model"))return!1;const F=z.model;return!!F.isFirstChange()||!Object.is(Q,F.currentValue)}(F,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(F){this.viewModel=F,this.update.emit(F)}get path(){return Si(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(ie){return new(ie||z)(b.Y36(gt,13),b.Y36(pt,10),b.Y36(Ue,10),b.Y36(it,10),b.Y36(Qi,8))};static#n=this.\u0275dir=b.lG2({type:z,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[b._Bn([ur]),b.qOj,b.TTD]})}return z})();const Oo={provide:it,useExisting:(0,b.Gpc)(()=>hr),multi:!0};function Lr(z,Q){return null==z?`${Q}`:(Q&&"object"==typeof Q&&(Q="Object"),`${z}: ${Q}`.slice(0,50))}let hr=(()=>{class z extends Re{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(F){this._compareWith=F}writeValue(F){this.value=F;const Ie=Lr(this._getOptionId(F),F);this.setProperty("value",Ie)}registerOnChange(F){this.onChange=ie=>{this.value=this._getOptionValue(ie),F(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(F){for(const ie of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ie),F))return ie;return null}_getOptionValue(F){const ie=function _i(z){return z.split(":")[0]}(F);return this._optionMap.has(ie)?this._optionMap.get(ie):F}static#e=this.\u0275fac=function(){let F;return function(Ie){return(F||(F=b.n5z(z)))(Ie||z)}}();static#t=this.\u0275dir=b.lG2({type:z,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(ie,Ie){1&ie&&b.NdJ("change",function(In){return Ie.onChange(In.target.value)})("blur",function(){return Ie.onTouched()})},inputs:{compareWith:"compareWith"},features:[b._Bn([Oo]),b.qOj]})}return z})(),$r=(()=>{class z{constructor(F,ie,Ie){this._element=F,this._renderer=ie,this._select=Ie,this._select&&(this.id=this._select._registerOption())}set ngValue(F){null!=this._select&&(this._select._optionMap.set(this.id,F),this._setElementValue(Lr(this.id,F)),this._select.writeValue(this._select.value))}set value(F){this._setElementValue(F),this._select&&this._select.writeValue(this._select.value)}_setElementValue(F){this._renderer.setProperty(this._element.nativeElement,"value",F)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(ie){return new(ie||z)(b.Y36(b.SBq),b.Y36(b.Qsj),b.Y36(hr,9))};static#t=this.\u0275dir=b.lG2({type:z,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return z})();const yo={provide:it,useExisting:(0,b.Gpc)(()=>Ji),multi:!0};function Cn(z,Q){return null==z?`${Q}`:("string"==typeof Q&&(Q=`'${Q}'`),Q&&"object"==typeof Q&&(Q="Object"),`${z}: ${Q}`.slice(0,50))}let Ji=(()=>{class z extends Re{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(F){this._compareWith=F}writeValue(F){let ie;if(this.value=F,Array.isArray(F)){const Ie=F.map(Ut=>this._getOptionId(Ut));ie=(Ut,In)=>{Ut._setSelected(Ie.indexOf(In.toString())>-1)}}else ie=(Ie,Ut)=>{Ie._setSelected(!1)};this._optionMap.forEach(ie)}registerOnChange(F){this.onChange=ie=>{const Ie=[],Ut=ie.selectedOptions;if(void 0!==Ut){const In=Ut;for(let Ri=0;Ri<In.length;Ri++){const ci=this._getOptionValue(In[Ri].value);Ie.push(ci)}}else{const In=ie.options;for(let Ri=0;Ri<In.length;Ri++){const bo=In[Ri];if(bo.selected){const ci=this._getOptionValue(bo.value);Ie.push(ci)}}}this.value=Ie,F(Ie)}}_registerOption(F){const ie=(this._idCounter++).toString();return this._optionMap.set(ie,F),ie}_getOptionId(F){for(const ie of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ie)._value,F))return ie;return null}_getOptionValue(F){const ie=function Mo(z){return z.split(":")[0]}(F);return this._optionMap.has(ie)?this._optionMap.get(ie)._value:F}static#e=this.\u0275fac=function(){let F;return function(Ie){return(F||(F=b.n5z(z)))(Ie||z)}}();static#t=this.\u0275dir=b.lG2({type:z,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(ie,Ie){1&ie&&b.NdJ("change",function(In){return Ie.onChange(In.target)})("blur",function(){return Ie.onTouched()})},inputs:{compareWith:"compareWith"},features:[b._Bn([yo]),b.qOj]})}return z})(),Er=(()=>{class z{constructor(F,ie,Ie){this._element=F,this._renderer=ie,this._select=Ie,this._select&&(this.id=this._select._registerOption(this))}set ngValue(F){null!=this._select&&(this._value=F,this._setElementValue(Cn(this.id,F)),this._select.writeValue(this._select.value))}set value(F){this._select?(this._value=F,this._setElementValue(Cn(this.id,F)),this._select.writeValue(this._select.value)):this._setElementValue(F)}_setElementValue(F){this._renderer.setProperty(this._element.nativeElement,"value",F)}_setSelected(F){this._renderer.setProperty(this._element.nativeElement,"selected",F)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(ie){return new(ie||z)(b.Y36(b.SBq),b.Y36(b.Qsj),b.Y36(Ji,9))};static#t=this.\u0275dir=b.lG2({type:z,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return z})();let zr=(()=>{class z{constructor(){this._validator=xe}ngOnChanges(F){if(this.inputName in F){const ie=this.normalizeInput(F[this.inputName].currentValue);this._enabled=this.enabled(ie),this._validator=this._enabled?this.createValidator(ie):xe,this._onChange&&this._onChange()}}validate(F){return this._validator(F)}registerOnValidatorChange(F){this._onChange=F}enabled(F){return null!=F}static#e=this.\u0275fac=function(ie){return new(ie||z)};static#t=this.\u0275dir=b.lG2({type:z,features:[b.TTD]})}return z})();const xo={provide:pt,useExisting:(0,b.Gpc)(()=>Nn),multi:!0};let Nn=(()=>{class z extends zr{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=b.VuI,this.createValidator=F=>ct}enabled(F){return F}static#e=this.\u0275fac=function(){let F;return function(Ie){return(F||(F=b.n5z(z)))(Ie||z)}}();static#t=this.\u0275dir=b.lG2({type:z,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(ie,Ie){2&ie&&b.uIk("required",Ie._enabled?"":null)},inputs:{required:"required"},features:[b._Bn([xo]),b.qOj]})}return z})();const hi={provide:pt,useExisting:(0,b.Gpc)(()=>Ro),multi:!0};let Ro=(()=>{class z extends zr{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=F=>function vi(z){return"number"==typeof z?z:parseInt(z,10)}(F),this.createValidator=F=>Rn(F)}static#e=this.\u0275fac=function(){let F;return function(Ie){return(F||(F=b.n5z(z)))(Ie||z)}}();static#t=this.\u0275dir=b.lG2({type:z,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(ie,Ie){2&ie&&b.uIk("minlength",Ie._enabled?Ie.minlength:null)},inputs:{minlength:"minlength"},features:[b._Bn([hi]),b.qOj]})}return z})(),bs=(()=>{class z{static#e=this.\u0275fac=function(ie){return new(ie||z)};static#t=this.\u0275mod=b.oAB({type:z});static#n=this.\u0275inj=b.cJS({imports:[ms]})}return z})();class Is extends bt{constructor(Q,F,ie){super(Z(F),H(ie,F)),this.controls=Q,this._initObservables(),this._setUpdateStrategy(F),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(Q){return this.controls[this._adjustIndex(Q)]}push(Q,F={}){this.controls.push(Q),this._registerControl(Q),this.updateValueAndValidity({emitEvent:F.emitEvent}),this._onCollectionChange()}insert(Q,F,ie={}){this.controls.splice(Q,0,F),this._registerControl(F),this.updateValueAndValidity({emitEvent:ie.emitEvent})}removeAt(Q,F={}){let ie=this._adjustIndex(Q);ie<0&&(ie=0),this.controls[ie]&&this.controls[ie]._registerOnCollectionChange(()=>{}),this.controls.splice(ie,1),this.updateValueAndValidity({emitEvent:F.emitEvent})}setControl(Q,F,ie={}){let Ie=this._adjustIndex(Q);Ie<0&&(Ie=0),this.controls[Ie]&&this.controls[Ie]._registerOnCollectionChange(()=>{}),this.controls.splice(Ie,1),F&&(this.controls.splice(Ie,0,F),this._registerControl(F)),this.updateValueAndValidity({emitEvent:ie.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(Q,F={}){ze(this,0,Q),Q.forEach((ie,Ie)=>{be(this,!1,Ie),this.at(Ie).setValue(ie,{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F)}patchValue(Q,F={}){null!=Q&&(Q.forEach((ie,Ie)=>{this.at(Ie)&&this.at(Ie).patchValue(ie,{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F))}reset(Q=[],F={}){this._forEachChild((ie,Ie)=>{ie.reset(Q[Ie],{onlySelf:!0,emitEvent:F.emitEvent})}),this._updatePristine(F),this._updateTouched(F),this.updateValueAndValidity(F)}getRawValue(){return this.controls.map(Q=>Q.getRawValue())}clear(Q={}){this.controls.length<1||(this._forEachChild(F=>F._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:Q.emitEvent}))}_adjustIndex(Q){return Q<0?Q+this.length:Q}_syncPendingControls(){let Q=this.controls.reduce((F,ie)=>!!ie._syncPendingControls()||F,!1);return Q&&this.updateValueAndValidity({onlySelf:!0}),Q}_forEachChild(Q){this.controls.forEach((F,ie)=>{Q(F,ie)})}_updateValue(){this.value=this.controls.filter(Q=>Q.enabled||this.disabled).map(Q=>Q.value)}_anyControls(Q){return this.controls.some(F=>F.enabled&&Q(F))}_setUpControls(){this._forEachChild(Q=>this._registerControl(Q))}_allControlsDisabled(){for(const Q of this.controls)if(Q.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(Q){Q.setParent(this),Q._registerOnCollectionChange(this._onCollectionChange)}_find(Q){return this.at(Q)??null}}function Ba(z){return!!z&&(void 0!==z.asyncValidators||void 0!==z.validators||void 0!==z.updateOn)}let Hs=(()=>{class z{constructor(){this.useNonNullable=!1}get nonNullable(){const F=new z;return F.useNonNullable=!0,F}group(F,ie=null){const Ie=this._reduceControls(F);let Ut={};return Ba(ie)?Ut=ie:null!==ie&&(Ut.validators=ie.validator,Ut.asyncValidators=ie.asyncValidator),new en(Ie,Ut)}record(F,ie=null){const Ie=this._reduceControls(F);return new Wt(Ie,ie)}control(F,ie,Ie){let Ut={};return this.useNonNullable?(Ba(ie)?Ut=ie:(Ut.validators=ie,Ut.asyncValidators=Ie),new Jr(F,{...Ut,nonNullable:!0})):new Jr(F,ie,Ie)}array(F,ie,Ie){const Ut=F.map(In=>this._createControl(In));return new Is(Ut,ie,Ie)}_reduceControls(F){const ie={};return Object.keys(F).forEach(Ie=>{ie[Ie]=this._createControl(F[Ie])}),ie}_createControl(F){return F instanceof Jr||F instanceof bt?F:Array.isArray(F)?this.control(F[0],F.length>1?F[1]:null,F.length>2?F[2]:null):this.control(F)}static#e=this.\u0275fac=function(ie){return new(ie||z)};static#t=this.\u0275prov=b.Yz7({token:z,factory:z.\u0275fac,providedIn:"root"})}return z})(),Gs=(()=>{class z{static withConfig(F){return{ngModule:z,providers:[{provide:kr,useValue:F.callSetDisabledState??jn}]}}static#e=this.\u0275fac=function(ie){return new(ie||z)};static#t=this.\u0275mod=b.oAB({type:z});static#n=this.\u0275inj=b.cJS({imports:[bs]})}return z})(),Hi=(()=>{class z{static withConfig(F){return{ngModule:z,providers:[{provide:Qi,useValue:F.warnOnNgModelWithFormControl??"always"},{provide:kr,useValue:F.callSetDisabledState??jn}]}}static#e=this.\u0275fac=function(ie){return new(ie||z)};static#t=this.\u0275mod=b.oAB({type:z});static#n=this.\u0275inj=b.cJS({imports:[bs]})}return z})()},2614:()=>{const Ht=":";const Fn=function(Ee,...Oe){if(Fn.translate){const st=Fn.translate(Ee,Oe);Ee=st[0],Oe=st[1]}let Me=Tr(Ee[0],Ee.raw[0]);for(let st=1;st<Ee.length;st++)Me+=Oe[st-1]+Tr(Ee[st],Ee.raw[st]);return Me},ar=":";function Tr(Ee,Oe){return Oe.charAt(0)===ar?Ee.substring(function He(Ee,Oe){for(let Me=1,st=1;Me<Ee.length;Me++,st++)if("\\"===Oe[st])st++;else if(Ee[Me]===Ht)return Me;throw new Error(`Unterminated $localize metadata block in "${Oe}".`)}(Ee,Oe)+1):Ee}globalThis.$localize=Fn},6593:(Ht,$e,Y)=>{Y.d($e,{Dx:()=>Tt,H7:()=>Un,b2:()=>Ee,q6:()=>wt});var b=Y(9468),se=Y(6814);class ge extends se.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class fe extends ge{static makeCurrent(){(0,se.HT)(new fe)}onAndCancel(H,W,j){return H.addEventListener(W,j),()=>{H.removeEventListener(W,j)}}dispatchEvent(H,W){H.dispatchEvent(W)}remove(H){H.parentNode&&H.parentNode.removeChild(H)}createElement(H,W){return(W=W||this.getDefaultDocument()).createElement(H)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(H){return H.nodeType===Node.ELEMENT_NODE}isShadowRoot(H){return H instanceof DocumentFragment}getGlobalEventTarget(H,W){return"window"===W?window:"document"===W?H:"body"===W?H.body:null}getBaseHref(H){const W=function le(){return l=l||document.querySelector("base"),l?l.getAttribute("href"):null}();return null==W?null:function Be(L){ve=ve||document.createElement("a"),ve.setAttribute("href",L);const H=ve.pathname;return"/"===H.charAt(0)?H:`/${H}`}(W)}resetBaseElement(){l=null}getUserAgent(){return window.navigator.userAgent}getCookie(H){return(0,se.Mx)(document.cookie,H)}}let ve,l=null,ae=(()=>{class L{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(j){return new(j||L)};static#t=this.\u0275prov=b.Yz7({token:L,factory:L.\u0275fac})}return L})();const ce=new b.OlP("EventManagerPlugins");let Ce=(()=>{class L{constructor(W,j){this._zone=j,this._eventNameToPlugin=new Map,W.forEach(be=>{be.manager=this}),this._plugins=W.slice().reverse()}addEventListener(W,j,be){return this._findPluginFor(j).addEventListener(W,j,be)}getZone(){return this._zone}_findPluginFor(W){let j=this._eventNameToPlugin.get(W);if(j)return j;if(j=this._plugins.find(ze=>ze.supports(W)),!j)throw new b.vHH(5101,!1);return this._eventNameToPlugin.set(W,j),j}static#e=this.\u0275fac=function(j){return new(j||L)(b.LFG(ce),b.LFG(b.R0b))};static#t=this.\u0275prov=b.Yz7({token:L,factory:L.\u0275fac})}return L})();class Xe{constructor(H){this._doc=H}}const Re="ng-app-id";let it=(()=>{class L{constructor(W,j,be,ze={}){this.doc=W,this.appId=j,this.nonce=be,this.platformId=ze,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,se.PM)(ze),this.resetHostNodes()}addStyles(W){for(const j of W)1===this.changeUsageCount(j,1)&&this.onStyleAdded(j)}removeStyles(W){for(const j of W)this.changeUsageCount(j,-1)<=0&&this.onStyleRemoved(j)}ngOnDestroy(){const W=this.styleNodesInDOM;W&&(W.forEach(j=>j.remove()),W.clear());for(const j of this.getAllStyles())this.onStyleRemoved(j);this.resetHostNodes()}addHost(W){this.hostNodes.add(W);for(const j of this.getAllStyles())this.addStyleToHost(W,j)}removeHost(W){this.hostNodes.delete(W)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(W){for(const j of this.hostNodes)this.addStyleToHost(j,W)}onStyleRemoved(W){const j=this.styleRef;j.get(W)?.elements?.forEach(be=>be.remove()),j.delete(W)}collectServerRenderedStyles(){const W=this.doc.head?.querySelectorAll(`style[${Re}="${this.appId}"]`);if(W?.length){const j=new Map;return W.forEach(be=>{null!=be.textContent&&j.set(be.textContent,be)}),j}return null}changeUsageCount(W,j){const be=this.styleRef;if(be.has(W)){const ze=be.get(W);return ze.usage+=j,ze.usage}return be.set(W,{usage:j,elements:[]}),j}getStyleElement(W,j){const be=this.styleNodesInDOM,ze=be?.get(j);if(ze?.parentNode===W)return be.delete(j),ze.removeAttribute(Re),ze;{const bt=this.doc.createElement("style");return this.nonce&&bt.setAttribute("nonce",this.nonce),bt.textContent=j,this.platformIsServer&&bt.setAttribute(Re,this.appId),bt}}addStyleToHost(W,j){const be=this.getStyleElement(W,j);W.appendChild(be);const ze=this.styleRef,bt=ze.get(j)?.elements;bt?bt.push(be):ze.set(j,{elements:[be],usage:1})}resetHostNodes(){const W=this.hostNodes;W.clear(),W.add(this.doc.head)}static#e=this.\u0275fac=function(j){return new(j||L)(b.LFG(se.K0),b.LFG(b.AFp),b.LFG(b.Ojb,8),b.LFG(b.Lbi))};static#t=this.\u0275prov=b.Yz7({token:L,factory:L.\u0275fac})}return L})();const Ct={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Lt=/%COMP%/g,ot=new b.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Ue(L,H){return H.map(W=>W.replace(Lt,L))}let ye=(()=>{class L{constructor(W,j,be,ze,bt,en,rn,En=null){this.eventManager=W,this.sharedStylesHost=j,this.appId=be,this.removeStylesOnCompDestroy=ze,this.doc=bt,this.platformId=en,this.ngZone=rn,this.nonce=En,this.rendererByCompId=new Map,this.platformIsServer=(0,se.PM)(en),this.defaultRenderer=new Qe(W,bt,rn,this.platformIsServer)}createRenderer(W,j){if(!W||!j)return this.defaultRenderer;this.platformIsServer&&j.encapsulation===b.ifc.ShadowDom&&(j={...j,encapsulation:b.ifc.Emulated});const be=this.getOrCreateRenderer(W,j);return be instanceof Rn?be.applyToHost(W):be instanceof mn&&be.applyStyles(),be}getOrCreateRenderer(W,j){const be=this.rendererByCompId;let ze=be.get(j.id);if(!ze){const bt=this.doc,en=this.ngZone,rn=this.eventManager,En=this.sharedStylesHost,Wt=this.removeStylesOnCompDestroy,xn=this.platformIsServer;switch(j.encapsulation){case b.ifc.Emulated:ze=new Rn(rn,En,j,this.appId,Wt,bt,en,xn);break;case b.ifc.ShadowDom:return new sn(rn,En,W,j,bt,en,this.nonce,xn);default:ze=new mn(rn,En,j,Wt,bt,en,xn)}be.set(j.id,ze)}return ze}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(j){return new(j||L)(b.LFG(Ce),b.LFG(it),b.LFG(b.AFp),b.LFG(ot),b.LFG(se.K0),b.LFG(b.Lbi),b.LFG(b.R0b),b.LFG(b.Ojb))};static#t=this.\u0275prov=b.Yz7({token:L,factory:L.\u0275fac})}return L})();class Qe{constructor(H,W,j,be){this.eventManager=H,this.doc=W,this.ngZone=j,this.platformIsServer=be,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(H,W){return W?this.doc.createElementNS(Ct[W]||W,H):this.doc.createElement(H)}createComment(H){return this.doc.createComment(H)}createText(H){return this.doc.createTextNode(H)}appendChild(H,W){(ct(H)?H.content:H).appendChild(W)}insertBefore(H,W,j){H&&(ct(H)?H.content:H).insertBefore(W,j)}removeChild(H,W){H&&H.removeChild(W)}selectRootElement(H,W){let j="string"==typeof H?this.doc.querySelector(H):H;if(!j)throw new b.vHH(-5104,!1);return W||(j.textContent=""),j}parentNode(H){return H.parentNode}nextSibling(H){return H.nextSibling}setAttribute(H,W,j,be){if(be){W=be+":"+W;const ze=Ct[be];ze?H.setAttributeNS(ze,W,j):H.setAttribute(W,j)}else H.setAttribute(W,j)}removeAttribute(H,W,j){if(j){const be=Ct[j];be?H.removeAttributeNS(be,W):H.removeAttribute(`${j}:${W}`)}else H.removeAttribute(W)}addClass(H,W){H.classList.add(W)}removeClass(H,W){H.classList.remove(W)}setStyle(H,W,j,be){be&(b.JOm.DashCase|b.JOm.Important)?H.style.setProperty(W,j,be&b.JOm.Important?"important":""):H.style[W]=j}removeStyle(H,W,j){j&b.JOm.DashCase?H.style.removeProperty(W):H.style[W]=""}setProperty(H,W,j){H[W]=j}setValue(H,W){H.nodeValue=W}listen(H,W,j){if("string"==typeof H&&!(H=(0,se.q)().getGlobalEventTarget(this.doc,H)))throw new Error(`Unsupported event target ${H} for event ${W}`);return this.eventManager.addEventListener(H,W,this.decoratePreventDefault(j))}decoratePreventDefault(H){return W=>{if("__ngUnwrap__"===W)return H;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>H(W)):H(W))&&W.preventDefault()}}}function ct(L){return"TEMPLATE"===L.tagName&&void 0!==L.content}class sn extends Qe{constructor(H,W,j,be,ze,bt,en,rn){super(H,ze,bt,rn),this.sharedStylesHost=W,this.hostEl=j,this.shadowRoot=j.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const En=Ue(be.id,be.styles);for(const Wt of En){const xn=document.createElement("style");en&&xn.setAttribute("nonce",en),xn.textContent=Wt,this.shadowRoot.appendChild(xn)}}nodeOrShadowRoot(H){return H===this.hostEl?this.shadowRoot:H}appendChild(H,W){return super.appendChild(this.nodeOrShadowRoot(H),W)}insertBefore(H,W,j){return super.insertBefore(this.nodeOrShadowRoot(H),W,j)}removeChild(H,W){return super.removeChild(this.nodeOrShadowRoot(H),W)}parentNode(H){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(H)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class mn extends Qe{constructor(H,W,j,be,ze,bt,en,rn){super(H,ze,bt,en),this.sharedStylesHost=W,this.removeStylesOnCompDestroy=be,this.styles=rn?Ue(rn,j.styles):j.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Rn extends mn{constructor(H,W,j,be,ze,bt,en,rn){const En=be+"-"+j.id;super(H,W,j,ze,bt,en,rn,En),this.contentAttr=function mt(L){return"_ngcontent-%COMP%".replace(Lt,L)}(En),this.hostAttr=function pt(L){return"_nghost-%COMP%".replace(Lt,L)}(En)}applyToHost(H){this.applyStyles(),this.setAttribute(H,this.hostAttr,"")}createElement(H,W){const j=super.createElement(H,W);return super.setAttribute(j,this.contentAttr,""),j}}let zn=(()=>{class L extends Xe{constructor(W){super(W)}supports(W){return!0}addEventListener(W,j,be){return W.addEventListener(j,be,!1),()=>this.removeEventListener(W,j,be)}removeEventListener(W,j,be){return W.removeEventListener(j,be)}static#e=this.\u0275fac=function(j){return new(j||L)(b.LFG(se.K0))};static#t=this.\u0275prov=b.Yz7({token:L,factory:L.\u0275fac})}return L})();const sr=["alt","control","meta","shift"],xe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},He={alt:L=>L.altKey,control:L=>L.ctrlKey,meta:L=>L.metaKey,shift:L=>L.shiftKey};let Je=(()=>{class L extends Xe{constructor(W){super(W)}supports(W){return null!=L.parseEventName(W)}addEventListener(W,j,be){const ze=L.parseEventName(j),bt=L.eventCallback(ze.fullKey,be,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,se.q)().onAndCancel(W,ze.domEventName,bt))}static parseEventName(W){const j=W.toLowerCase().split("."),be=j.shift();if(0===j.length||"keydown"!==be&&"keyup"!==be)return null;const ze=L._normalizeKey(j.pop());let bt="",en=j.indexOf("code");if(en>-1&&(j.splice(en,1),bt="code."),sr.forEach(En=>{const Wt=j.indexOf(En);Wt>-1&&(j.splice(Wt,1),bt+=En+".")}),bt+=ze,0!=j.length||0===ze.length)return null;const rn={};return rn.domEventName=be,rn.fullKey=bt,rn}static matchEventFullKeyCode(W,j){let be=xe[W.key]||W.key,ze="";return j.indexOf("code.")>-1&&(be=W.code,ze="code."),!(null==be||!be)&&(be=be.toLowerCase()," "===be?be="space":"."===be&&(be="dot"),sr.forEach(bt=>{bt!==be&&(0,He[bt])(W)&&(ze+=bt+".")}),ze+=be,ze===j)}static eventCallback(W,j,be){return ze=>{L.matchEventFullKeyCode(ze,W)&&be.runGuarded(()=>j(ze))}}static _normalizeKey(W){return"esc"===W?"escape":W}static#e=this.\u0275fac=function(j){return new(j||L)(b.LFG(se.K0))};static#t=this.\u0275prov=b.Yz7({token:L,factory:L.\u0275fac})}return L})();const wt=(0,b.eFA)(b._c5,"browser",[{provide:b.Lbi,useValue:se.bD},{provide:b.g9A,useValue:function Bt(){fe.makeCurrent()},multi:!0},{provide:se.K0,useFactory:function fn(){return(0,b.RDi)(document),document},deps:[]}]),Fn=new b.OlP(""),ar=[{provide:b.rWj,useClass:class Se{addToWindow(H){b.dqk.getAngularTestability=(j,be=!0)=>{const ze=H.findTestabilityInTree(j,be);if(null==ze)throw new b.vHH(5103,!1);return ze},b.dqk.getAllAngularTestabilities=()=>H.getAllTestabilities(),b.dqk.getAllAngularRootElements=()=>H.getAllRootElements(),b.dqk.frameworkStabilizers||(b.dqk.frameworkStabilizers=[]),b.dqk.frameworkStabilizers.push(j=>{const be=b.dqk.getAllAngularTestabilities();let ze=be.length,bt=!1;const en=function(rn){bt=bt||rn,ze--,0==ze&&j(bt)};be.forEach(rn=>{rn.whenStable(en)})})}findTestabilityInTree(H,W,j){return null==W?null:H.getTestability(W)??(j?(0,se.q)().isShadowRoot(W)?this.findTestabilityInTree(H,W.host,!0):this.findTestabilityInTree(H,W.parentElement,!0):null)}},deps:[]},{provide:b.lri,useClass:b.dDg,deps:[b.R0b,b.eoX,b.rWj]},{provide:b.dDg,useClass:b.dDg,deps:[b.R0b,b.eoX,b.rWj]}],Tr=[{provide:b.zSh,useValue:"root"},{provide:b.qLn,useFactory:function an(){return new b.qLn},deps:[]},{provide:ce,useClass:zn,multi:!0,deps:[se.K0,b.R0b,b.Lbi]},{provide:ce,useClass:Je,multi:!0,deps:[se.K0]},ye,it,Ce,{provide:b.FYo,useExisting:ye},{provide:se.JF,useClass:ae,deps:[]},[]];let Ee=(()=>{class L{constructor(W){}static withServerTransition(W){return{ngModule:L,providers:[{provide:b.AFp,useValue:W.appId}]}}static#e=this.\u0275fac=function(j){return new(j||L)(b.LFG(Fn,12))};static#t=this.\u0275mod=b.oAB({type:L});static#n=this.\u0275inj=b.cJS({providers:[...Tr,...ar],imports:[se.ez,b.hGG]})}return L})(),Tt=(()=>{class L{constructor(W){this._doc=W}getTitle(){return this._doc.title}setTitle(W){this._doc.title=W||""}static#e=this.\u0275fac=function(j){return new(j||L)(b.LFG(se.K0))};static#t=this.\u0275prov=b.Yz7({token:L,factory:function(j){let be=null;return be=j?new j:function gt(){return new Tt((0,b.LFG)(se.K0))}(),be},providedIn:"root"})}return L})();typeof window<"u"&&window;let Un=(()=>{class L{static#e=this.\u0275fac=function(j){return new(j||L)};static#t=this.\u0275prov=b.Yz7({token:L,factory:function(j){let be=null;return be=j?new(j||L):b.LFG(ri),be},providedIn:"root"})}return L})(),ri=(()=>{class L extends Un{constructor(W){super(),this._doc=W}sanitize(W,j){if(null==j)return null;switch(W){case b.q3G.NONE:return j;case b.q3G.HTML:return(0,b.qzn)(j,"HTML")?(0,b.z3N)(j):(0,b.EiD)(this._doc,String(j)).toString();case b.q3G.STYLE:return(0,b.qzn)(j,"Style")?(0,b.z3N)(j):j;case b.q3G.SCRIPT:if((0,b.qzn)(j,"Script"))return(0,b.z3N)(j);throw new b.vHH(5200,!1);case b.q3G.URL:return(0,b.qzn)(j,"URL")?(0,b.z3N)(j):(0,b.mCW)(String(j));case b.q3G.RESOURCE_URL:if((0,b.qzn)(j,"ResourceURL"))return(0,b.z3N)(j);throw new b.vHH(5201,!1);default:throw new b.vHH(5202,!1)}}bypassSecurityTrustHtml(W){return(0,b.JVY)(W)}bypassSecurityTrustStyle(W){return(0,b.L6k)(W)}bypassSecurityTrustScript(W){return(0,b.eBb)(W)}bypassSecurityTrustUrl(W){return(0,b.LAX)(W)}bypassSecurityTrustResourceUrl(W){return(0,b.pB0)(W)}static#e=this.\u0275fac=function(j){return new(j||L)(b.LFG(se.K0))};static#t=this.\u0275prov=b.Yz7({token:L,factory:function(j){let be=null;return be=j?new j:function br(L){return new ri(L.get(se.K0))}(b.LFG(b.zs3)),be},providedIn:"root"})}return L})()},6024:(Ht,$e,Y)=>{Y.d($e,{gz:()=>nr,m2:()=>vo,F0:()=>ts,rH:()=>Ii,Bz:()=>dl,lC:()=>$r});var b=Y(9468),se=Y(5592),ge=Y(4674),l=Y(2459),le=Y(2096),ve=Y(5619),Be=Y(7453),Se=Y(2737),ae=Y(7400),ce=Y(9940),Ce=Y(2714),Xe=Y(8251),Re=Y(7103);function it(...D){const M=(0,ce.yG)(D),E=(0,ce.jO)(D),{args:R,keys:G}=(0,Be.D)(D);if(0===R.length)return(0,l.D)([],M);const re=new se.y(function Ct(D,M,E=Se.y){return R=>{Lt(M,()=>{const{length:G}=D,re=new Array(G);let pe=G,je=G;for(let Ve=0;Ve<G;Ve++)Lt(M,()=>{const Gt=(0,l.D)(D[Ve],M);let On=!1;Gt.subscribe((0,Xe.x)(R,vr=>{re[Ve]=vr,On||(On=!0,je--),je||R.next(E(re.slice()))},()=>{--pe||R.complete()}))},R)},R)}}(R,M,G?pe=>(0,Ce.n)(G,pe):Se.y));return E?re.pipe((0,ae.Z)(E)):re}function Lt(D,M,E){D?(0,Re.f)(E,D,M):M()}var Ft=Y(6973),wn=Y(5211),Mt=Y(4829);function ft(D){return new se.y(M=>{(0,Mt.Xf)(D()).subscribe(M)})}var ot=Y(8407);function mt(D,M){const E=(0,ge.m)(D)?D:()=>D,R=G=>G.error(E());return new se.y(M?G=>M.schedule(R,0,G):R)}var pt=Y(6232),Ue=Y(7394),ye=Y(9360);function Qe(){return(0,ye.e)((D,M)=>{let E=null;D._refCount++;const R=(0,Xe.x)(M,void 0,void 0,void 0,()=>{if(!D||D._refCount<=0||0<--D._refCount)return void(E=null);const G=D._connection,re=E;E=null,G&&(!re||G===re)&&G.unsubscribe(),M.unsubscribe()});D.subscribe(R),R.closed||(E=D.connect())})}class ht extends se.y{constructor(M,E){super(),this.source=M,this.subjectFactory=E,this._subject=null,this._refCount=0,this._connection=null,(0,ye.A)(M)&&(this.lift=M.lift)}_subscribe(M){return this.getSubject().subscribe(M)}getSubject(){const M=this._subject;return(!M||M.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:M}=this;this._subject=this._connection=null,M?.unsubscribe()}connect(){let M=this._connection;if(!M){M=this._connection=new Ue.w0;const E=this.getSubject();M.add(this.source.subscribe((0,Xe.x)(E,void 0,()=>{this._teardown(),E.complete()},R=>{this._teardown(),E.error(R)},()=>this._teardown()))),M.closed&&(this._connection=null,M=Ue.w0.EMPTY)}return M}refCount(){return Qe()(this)}}var An=Y(8645),ct=Y(6814),sn=Y(7398),mn=Y(4664),Rn=Y(8180),zn=Y(7921),sr=Y(2181),xe=Y(1631);function He(D){return(0,ye.e)((M,E)=>{let R=!1;M.subscribe((0,Xe.x)(E,G=>{R=!0,E.next(G)},()=>{R||E.next(D),E.complete()}))})}function Je(D=Le){return(0,ye.e)((M,E)=>{let R=!1;M.subscribe((0,Xe.x)(E,G=>{R=!0,E.next(G)},()=>R?E.complete():E.error(D())))})}function Le(){return new Ft.K}function tt(D,M){const E=arguments.length>=2;return R=>R.pipe(D?(0,sr.h)((G,re)=>D(G,re,R)):Se.y,(0,Rn.q)(1),E?He(M):Je(()=>new Ft.K))}function vt(D,M){return(0,ge.m)(M)?(0,xe.z)(D,M,1):(0,xe.z)(D,1)}var xt=Y(9397);function Bt(D){return(0,ye.e)((M,E)=>{let re,R=null,G=!1;R=M.subscribe((0,Xe.x)(E,void 0,void 0,pe=>{re=(0,Mt.Xf)(D(pe,Bt(D)(M))),R?(R.unsubscribe(),R=null,re.subscribe(E)):G=!0})),G&&(R.unsubscribe(),R=null,re.subscribe(E))})}function on(D){return D<=0?()=>pt.E:(0,ye.e)((M,E)=>{let R=[];M.subscribe((0,Xe.x)(E,G=>{R.push(G),D<R.length&&R.shift()},()=>{for(const G of R)E.next(G);E.complete()},void 0,()=>{R=null}))})}var Fn=Y(975);function ar(D){return(0,ye.e)((M,E)=>{try{M.subscribe(E)}finally{E.add(D)}})}var Tr=Y(9773),Ee=Y(7537),Oe=Y(6593);const Me="primary",st=Symbol("RouteTitle");class gt{constructor(M){this.params=M||{}}has(M){return Object.prototype.hasOwnProperty.call(this.params,M)}get(M){if(this.has(M)){const E=this.params[M];return Array.isArray(E)?E[0]:E}return null}getAll(M){if(this.has(M)){const E=this.params[M];return Array.isArray(E)?E:[E]}return[]}get keys(){return Object.keys(this.params)}}function Tt(D){return new gt(D)}function lr(D,M,E){const R=E.path.split("/");if(R.length>D.length||"full"===E.pathMatch&&(M.hasChildren()||R.length<D.length))return null;const G={};for(let re=0;re<R.length;re++){const pe=R[re],je=D[re];if(pe.startsWith(":"))G[pe.substring(1)]=je;else if(pe!==je.path)return null}return{consumed:D.slice(0,R.length),posParams:G}}function tn(D,M){const E=D?Object.keys(D):void 0,R=M?Object.keys(M):void 0;if(!E||!R||E.length!=R.length)return!1;let G;for(let re=0;re<E.length;re++)if(G=E[re],!zt(D[G],M[G]))return!1;return!0}function zt(D,M){if(Array.isArray(D)&&Array.isArray(M)){if(D.length!==M.length)return!1;const E=[...D].sort(),R=[...M].sort();return E.every((G,re)=>R[re]===G)}return D===M}function gn(D){return D.length>0?D[D.length-1]:null}function Bn(D){return function fe(D){return!!D&&(D instanceof se.y||(0,ge.m)(D.lift)&&(0,ge.m)(D.subscribe))}(D)?D:(0,b.QGY)(D)?(0,l.D)(Promise.resolve(D)):(0,le.of)(D)}const Kt={exact:function Wn(D,M,E){if(!et(D.segments,M.segments)||!ni(D.segments,M.segments,E)||D.numberOfChildren!==M.numberOfChildren)return!1;for(const R in M.children)if(!D.children[R]||!Wn(D.children[R],M.children[R],E))return!1;return!0},subset:qn},mr={exact:function ln(D,M){return tn(D,M)},subset:function Vn(D,M){return Object.keys(M).length<=Object.keys(D).length&&Object.keys(M).every(E=>zt(D[E],M[E]))},ignored:()=>!0};function dr(D,M,E){return Kt[E.paths](D.root,M.root,E.matrixParams)&&mr[E.queryParams](D.queryParams,M.queryParams)&&!("exact"===E.fragment&&D.fragment!==M.fragment)}function qn(D,M,E){return Pn(D,M,M.segments,E)}function Pn(D,M,E,R){if(D.segments.length>E.length){const G=D.segments.slice(0,E.length);return!(!et(G,E)||M.hasChildren()||!ni(G,E,R))}if(D.segments.length===E.length){if(!et(D.segments,E)||!ni(D.segments,E,R))return!1;for(const G in M.children)if(!D.children[G]||!qn(D.children[G],M.children[G],R))return!1;return!0}{const G=E.slice(0,D.segments.length),re=E.slice(D.segments.length);return!!(et(D.segments,G)&&ni(D.segments,G,R)&&D.children[Me])&&Pn(D.children[Me],M,re,R)}}function ni(D,M,E){return M.every((R,G)=>mr[E](D[G].parameters,R.parameters))}class Tn{constructor(M=new Un([],{}),E={},R=null){this.root=M,this.queryParams=E,this.fragment=R}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Tt(this.queryParams)),this._queryParamMap}toString(){return jt.serialize(this)}}class Un{constructor(M,E){this.segments=M,this.children=E,this.parent=null,Object.values(E).forEach(R=>R.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $t(this)}}class br{constructor(M,E){this.path=M,this.parameters=E}get parameterMap(){return this._parameterMap||(this._parameterMap=Tt(this.parameters)),this._parameterMap}toString(){return ze(this)}}function et(D,M){return D.length===M.length&&D.every((E,R)=>E.path===M[R].path)}let We=(()=>{class D{static#e=this.\u0275fac=function(R){return new(R||D)};static#t=this.\u0275prov=b.Yz7({token:D,factory:function(){return new yt},providedIn:"root"})}return D})();class yt{parse(M){const E=new Ai(M);return new Tn(E.parseRootSegment(),E.parseQueryParams(),E.parseFragment())}serialize(M){const E=`/${kn(M.root,!0)}`,R=function en(D){const M=Object.keys(D).map(E=>{const R=D[E];return Array.isArray(R)?R.map(G=>`${L(E)}=${L(G)}`).join("&"):`${L(E)}=${L(R)}`}).filter(E=>!!E);return M.length?`?${M.join("&")}`:""}(M.queryParams);return`${E}${R}${"string"==typeof M.fragment?`#${function H(D){return encodeURI(D)}(M.fragment)}`:""}`}}const jt=new yt;function $t(D){return D.segments.map(M=>ze(M)).join("/")}function kn(D,M){if(!D.hasChildren())return $t(D);if(M){const E=D.children[Me]?kn(D.children[Me],!1):"",R=[];return Object.entries(D.children).forEach(([G,re])=>{G!==Me&&R.push(`${G}:${kn(re,!1)}`)}),R.length>0?`${E}(${R.join("//")})`:E}{const E=function De(D,M){let E=[];return Object.entries(D.children).forEach(([R,G])=>{R===Me&&(E=E.concat(M(G,R)))}),Object.entries(D.children).forEach(([R,G])=>{R!==Me&&(E=E.concat(M(G,R)))}),E}(D,(R,G)=>G===Me?[kn(D.children[Me],!1)]:[`${G}:${kn(R,!1)}`]);return 1===Object.keys(D.children).length&&null!=D.children[Me]?`${$t(D)}/${E[0]}`:`${$t(D)}/(${E.join("//")})`}}function Z(D){return encodeURIComponent(D).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function L(D){return Z(D).replace(/%3B/gi,";")}function W(D){return Z(D).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function j(D){return decodeURIComponent(D)}function be(D){return j(D.replace(/\+/g,"%20"))}function ze(D){return`${W(D.path)}${function bt(D){return Object.keys(D).map(M=>`;${W(M)}=${W(D[M])}`).join("")}(D.parameters)}`}const rn=/^[^\/()?;#]+/;function En(D){const M=D.match(rn);return M?M[0]:""}const Wt=/^[^\/()?;=#]+/,kr=/^[^=?&#]+/,Si=/^[^&#]+/;class Ai{constructor(M){this.url=M,this.remaining=M}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Un([],{}):new Un([],this.parseChildren())}parseQueryParams(){const M={};if(this.consumeOptional("?"))do{this.parseQueryParam(M)}while(this.consumeOptional("&"));return M}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const M=[];for(this.peekStartsWith("(")||M.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),M.push(this.parseSegment());let E={};this.peekStartsWith("/(")&&(this.capture("/"),E=this.parseParens(!0));let R={};return this.peekStartsWith("(")&&(R=this.parseParens(!1)),(M.length>0||Object.keys(E).length>0)&&(R[Me]=new Un(M,E)),R}parseSegment(){const M=En(this.remaining);if(""===M&&this.peekStartsWith(";"))throw new b.vHH(4009,!1);return this.capture(M),new br(j(M),this.parseMatrixParams())}parseMatrixParams(){const M={};for(;this.consumeOptional(";");)this.parseParam(M);return M}parseParam(M){const E=function xn(D){const M=D.match(Wt);return M?M[0]:""}(this.remaining);if(!E)return;this.capture(E);let R="";if(this.consumeOptional("=")){const G=En(this.remaining);G&&(R=G,this.capture(R))}M[j(E)]=j(R)}parseQueryParam(M){const E=function jn(D){const M=D.match(kr);return M?M[0]:""}(this.remaining);if(!E)return;this.capture(E);let R="";if(this.consumeOptional("=")){const pe=function ps(D){const M=D.match(Si);return M?M[0]:""}(this.remaining);pe&&(R=pe,this.capture(R))}const G=be(E),re=be(R);if(M.hasOwnProperty(G)){let pe=M[G];Array.isArray(pe)||(pe=[pe],M[G]=pe),pe.push(re)}else M[G]=re}parseParens(M){const E={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const R=En(this.remaining),G=this.remaining[R.length];if("/"!==G&&")"!==G&&";"!==G)throw new b.vHH(4010,!1);let re;R.indexOf(":")>-1?(re=R.slice(0,R.indexOf(":")),this.capture(re),this.capture(":")):M&&(re=Me);const pe=this.parseChildren();E[re]=1===Object.keys(pe).length?pe[Me]:new Un([],pe),this.consumeOptional("//")}return E}peekStartsWith(M){return this.remaining.startsWith(M)}consumeOptional(M){return!!this.peekStartsWith(M)&&(this.remaining=this.remaining.substring(M.length),!0)}capture(M){if(!this.consumeOptional(M))throw new b.vHH(4011,!1)}}function Qr(D){return D.segments.length>0?new Un([],{[Me]:D}):D}function go(D){const M={};for(const R of Object.keys(D.children)){const re=go(D.children[R]);if(R===Me&&0===re.segments.length&&re.hasChildren())for(const[pe,je]of Object.entries(re.children))M[pe]=je;else(re.segments.length>0||re.hasChildren())&&(M[R]=re)}return function wa(D){if(1===D.numberOfChildren&&D.children[Me]){const M=D.children[Me];return new Un(D.segments.concat(M.segments),M.children)}return D}(new Un(D.segments,M))}function Vr(D){return D instanceof Tn}function qi(D){let M;const G=Qr(function E(re){const pe={};for(const Ve of re.children){const Gt=E(Ve);pe[Ve.outlet]=Gt}const je=new Un(re.url,pe);return re===D&&(M=je),je}(D.root));return M??G}function Zi(D,M,E,R){let G=D;for(;G.parent;)G=G.parent;if(0===M.length)return Or(G,G,G,E,R);const re=function mo(D){if("string"==typeof D[0]&&1===D.length&&"/"===D[0])return new ta(!0,0,D);let M=0,E=!1;const R=D.reduce((G,re,pe)=>{if("object"==typeof re&&null!=re){if(re.outlets){const je={};return Object.entries(re.outlets).forEach(([Ve,Gt])=>{je[Ve]="string"==typeof Gt?Gt.split("/"):Gt}),[...G,{outlets:je}]}if(re.segmentPath)return[...G,re.segmentPath]}return"string"!=typeof re?[...G,re]:0===pe?(re.split("/").forEach((je,Ve)=>{0==Ve&&"."===je||(0==Ve&&""===je?E=!0:".."===je?M++:""!=je&&G.push(je))}),G):[...G,re]},[]);return new ta(E,M,R)}(M);if(re.toRoot())return Or(G,G,new Un([],{}),E,R);const pe=function Gr(D,M,E){if(D.isAbsolute)return new Ao(M,!0,0);if(!E)return new Ao(M,!1,NaN);if(null===E.parent)return new Ao(E,!0,0);const R=$n(D.commands[0])?0:1;return function No(D,M,E){let R=D,G=M,re=E;for(;re>G;){if(re-=G,R=R.parent,!R)throw new b.vHH(4005,!1);G=R.segments.length}return new Ao(R,!1,G-re)}(E,E.segments.length-1+R,D.numberOfDoubleDots)}(re,G,D),je=pe.processChildren?Ki(pe.segmentGroup,pe.index,re.commands):Ta(pe.segmentGroup,pe.index,re.commands);return Or(G,pe.segmentGroup,je,E,R)}function $n(D){return"object"==typeof D&&null!=D&&!D.outlets&&!D.segmentPath}function So(D){return"object"==typeof D&&null!=D&&D.outlets}function Or(D,M,E,R,G){let pe,re={};R&&Object.entries(R).forEach(([Ve,Gt])=>{re[Ve]=Array.isArray(Gt)?Gt.map(On=>`${On}`):`${Gt}`}),pe=D===M?E:Go(D,M,E);const je=Qr(go(pe));return new Tn(je,re,G)}function Go(D,M,E){const R={};return Object.entries(D.children).forEach(([G,re])=>{R[G]=re===M?E:Go(re,M,E)}),new Un(D.segments,R)}class ta{constructor(M,E,R){if(this.isAbsolute=M,this.numberOfDoubleDots=E,this.commands=R,M&&R.length>0&&$n(R[0]))throw new b.vHH(4003,!1);const G=R.find(So);if(G&&G!==gn(R))throw new b.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ao{constructor(M,E,R){this.segmentGroup=M,this.processChildren=E,this.index=R}}function Ta(D,M,E){if(D||(D=new Un([],{})),0===D.segments.length&&D.hasChildren())return Ki(D,M,E);const R=function Ea(D,M,E){let R=0,G=M;const re={match:!1,pathIndex:0,commandIndex:0};for(;G<D.segments.length;){if(R>=E.length)return re;const pe=D.segments[G],je=E[R];if(So(je))break;const Ve=`${je}`,Gt=R<E.length-1?E[R+1]:null;if(G>0&&void 0===Ve)break;if(Ve&&Gt&&"object"==typeof Gt&&void 0===Gt.outlets){if(!ra(Ve,Gt,pe))return re;R+=2}else{if(!ra(Ve,{},pe))return re;R++}G++}return{match:!0,pathIndex:G,commandIndex:R}}(D,M,E),G=E.slice(R.commandIndex);if(R.match&&R.pathIndex<D.segments.length){const re=new Un(D.segments.slice(0,R.pathIndex),{});return re.children[Me]=new Un(D.segments.slice(R.pathIndex),D.children),Ki(re,0,G)}return R.match&&0===G.length?new Un(D.segments,{}):R.match&&!D.hasChildren()?Fr(D,M,E):R.match?Ki(D,0,G):Fr(D,M,E)}function Ki(D,M,E){if(0===E.length)return new Un(D.segments,{});{const R=function Ni(D){return So(D[0])?D[0].outlets:{[Me]:D}}(E),G={};if(Object.keys(R).some(re=>re!==Me)&&D.children[Me]&&1===D.numberOfChildren&&0===D.children[Me].segments.length){const re=Ki(D.children[Me],M,E);return new Un(D.segments,re.children)}return Object.entries(R).forEach(([re,pe])=>{"string"==typeof pe&&(pe=[pe]),null!==pe&&(G[re]=Ta(D.children[re],M,pe))}),Object.entries(D.children).forEach(([re,pe])=>{void 0===R[re]&&(G[re]=pe)}),new Un(D.segments,G)}}function Fr(D,M,E){const R=D.segments.slice(0,M);let G=0;for(;G<E.length;){const re=E[G];if(So(re)){const Ve=na(re.outlets);return new Un(R,Ve)}if(0===G&&$n(E[0])){R.push(new br(D.segments[M].path,_o(E[0]))),G++;continue}const pe=So(re)?re.outlets[Me]:`${re}`,je=G<E.length-1?E[G+1]:null;pe&&je&&$n(je)?(R.push(new br(pe,_o(je))),G+=2):(R.push(new br(pe,{})),G++)}return new Un(R,{})}function na(D){const M={};return Object.entries(D).forEach(([E,R])=>{"string"==typeof R&&(R=[R]),null!==R&&(M[E]=Fr(new Un([],{}),0,R))}),M}function _o(D){const M={};return Object.entries(D).forEach(([E,R])=>M[E]=`${R}`),M}function ra(D,M,E){return D==E.path&&tn(M,E.parameters)}const ks="imperative";class Bi{constructor(M,E){this.id=M,this.url=E}}class Jr extends Bi{constructor(M,E,R="imperative",G=null){super(M,E),this.type=0,this.navigationTrigger=R,this.restoredState=G}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class vo extends Bi{constructor(M,E,R){super(M,E),this.urlAfterRedirects=R,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class cr extends Bi{constructor(M,E,R,G){super(M,E),this.reason=R,this.code=G,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class si extends Bi{constructor(M,E,R,G){super(M,E),this.reason=R,this.code=G,this.type=16}}class Yi extends Bi{constructor(M,E,R,G){super(M,E),this.error=R,this.target=G,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class pi extends Bi{constructor(M,E,R,G){super(M,E),this.urlAfterRedirects=R,this.state=G,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Da extends Bi{constructor(M,E,R,G){super(M,E),this.urlAfterRedirects=R,this.state=G,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gi extends Bi{constructor(M,E,R,G,re){super(M,E),this.urlAfterRedirects=R,this.state=G,this.shouldActivate=re,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Bc extends Bi{constructor(M,E,R,G){super(M,E),this.urlAfterRedirects=R,this.state=G,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ia extends Bi{constructor(M,E,R,G){super(M,E),this.urlAfterRedirects=R,this.state=G,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ca{constructor(M){this.route=M,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Fs{constructor(M){this.route=M,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Sa{constructor(M){this.snapshot=M,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gs{constructor(M){this.snapshot=M,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Uc{constructor(M){this.snapshot=M,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jo{constructor(M){this.snapshot=M,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oa{constructor(M,E,R){this.routerEvent=M,this.position=E,this.anchor=R,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ls{}class ms{constructor(M){this.url=M}}class Qn{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Br,this.attachRef=null}}let Br=(()=>{class D{constructor(){this.contexts=new Map}onChildOutletCreated(E,R){const G=this.getOrCreateContext(E);G.outlet=R,this.contexts.set(E,G)}onChildOutletDestroyed(E){const R=this.getContext(E);R&&(R.outlet=null,R.attachRef=null)}onOutletDeactivated(){const E=this.contexts;return this.contexts=new Map,E}onOutletReAttached(E){this.contexts=E}getOrCreateContext(E){let R=this.getContext(E);return R||(R=new Qn,this.contexts.set(E,R)),R}getContext(E){return this.contexts.get(E)||null}static#e=this.\u0275fac=function(R){return new(R||D)};static#t=this.\u0275prov=b.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})();class Oi{constructor(M){this._root=M}get root(){return this._root.value}parent(M){const E=this.pathFromRoot(M);return E.length>1?E[E.length-2]:null}children(M){const E=Qi(M,this._root);return E?E.children.map(R=>R.value):[]}firstChild(M){const E=Qi(M,this._root);return E&&E.children.length>0?E.children[0].value:null}siblings(M){const E=Xr(M,this._root);return E.length<2?[]:E[E.length-2].children.map(G=>G.value).filter(G=>G!==M)}pathFromRoot(M){return Xr(M,this._root).map(E=>E.value)}}function Qi(D,M){if(D===M.value)return M;for(const E of M.children){const R=Qi(D,E);if(R)return R}return null}function Xr(D,M){if(D===M.value)return[M];for(const E of M.children){const R=Xr(D,E);if(R.length)return R.unshift(M),R}return[]}class jr{constructor(M,E){this.value=M,this.children=E}toString(){return`TreeNode(${this.value})`}}function _s(D){const M={};return D&&D.children.forEach(E=>M[E.value.outlet]=E),M}class mi extends Oi{constructor(M,E){super(M),this.snapshot=E,Oo(this,M)}toString(){return this.snapshot.toString()}}function La(D,M){const E=function Vs(D,M){const pe=new ur([],{},{},"",{},Me,M,null,{});return new Di("",new jr(pe,[]))}(0,M),R=new ve.X([new br("",{})]),G=new ve.X({}),re=new ve.X({}),pe=new ve.X({}),je=new ve.X(""),Ve=new nr(R,G,pe,je,re,Me,M,E.root);return Ve.snapshot=E.root,new mi(new jr(Ve,[]),E)}class nr{constructor(M,E,R,G,re,pe,je,Ve){this.urlSubject=M,this.paramsSubject=E,this.queryParamsSubject=R,this.fragmentSubject=G,this.dataSubject=re,this.outlet=pe,this.component=je,this._futureSnapshot=Ve,this.title=this.dataSubject?.pipe((0,sn.U)(Gt=>Gt[st]))??(0,le.of)(void 0),this.url=M,this.params=E,this.queryParams=R,this.fragment=G,this.data=re}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,sn.U)(M=>Tt(M)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,sn.U)(M=>Tt(M)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Et(D,M="emptyOnly"){const E=D.pathFromRoot;let R=0;if("always"!==M)for(R=E.length-1;R>=1;){const G=E[R],re=E[R-1];if(G.routeConfig&&""===G.routeConfig.path)R--;else{if(re.component)break;R--}}return function Dn(D){return D.reduce((M,E)=>({params:{...M.params,...E.params},data:{...M.data,...E.data},resolve:{...E.data,...M.resolve,...E.routeConfig?.data,...E._resolvedData}}),{params:{},data:{},resolve:{}})}(E.slice(R))}class ur{get title(){return this.data?.[st]}constructor(M,E,R,G,re,pe,je,Ve,Gt){this.url=M,this.params=E,this.queryParams=R,this.fragment=G,this.data=re,this.outlet=pe,this.component=je,this.routeConfig=Ve,this._resolve=Gt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Tt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Tt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(R=>R.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Di extends Oi{constructor(M,E){super(E),this.url=M,Oo(this,E)}toString(){return Lr(this._root)}}function Oo(D,M){M.value._routerState=D,M.children.forEach(E=>Oo(D,E))}function Lr(D){const M=D.children.length>0?` { ${D.children.map(Lr).join(", ")} } `:"";return`${D.value}${M}`}function _i(D){if(D.snapshot){const M=D.snapshot,E=D._futureSnapshot;D.snapshot=E,tn(M.queryParams,E.queryParams)||D.queryParamsSubject.next(E.queryParams),M.fragment!==E.fragment&&D.fragmentSubject.next(E.fragment),tn(M.params,E.params)||D.paramsSubject.next(E.params),function yn(D,M){if(D.length!==M.length)return!1;for(let E=0;E<D.length;++E)if(!tn(D[E],M[E]))return!1;return!0}(M.url,E.url)||D.urlSubject.next(E.url),tn(M.data,E.data)||D.dataSubject.next(E.data)}else D.snapshot=D._futureSnapshot,D.dataSubject.next(D._futureSnapshot.data)}function hr(D,M){const E=tn(D.params,M.params)&&function ri(D,M){return et(D,M)&&D.every((E,R)=>tn(E.parameters,M[R].parameters))}(D.url,M.url);return E&&!(!D.parent!=!M.parent)&&(!D.parent||hr(D.parent,M.parent))}let $r=(()=>{class D{constructor(){this.activated=null,this._activatedRoute=null,this.name=Me,this.activateEvents=new b.vpe,this.deactivateEvents=new b.vpe,this.attachEvents=new b.vpe,this.detachEvents=new b.vpe,this.parentContexts=(0,b.f3M)(Br),this.location=(0,b.f3M)(b.s_b),this.changeDetector=(0,b.f3M)(b.sBO),this.environmentInjector=(0,b.f3M)(b.lqb),this.inputBinder=(0,b.f3M)(Cn,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(E){if(E.name){const{firstChange:R,previousValue:G}=E.name;if(R)return;this.isTrackedInParentContexts(G)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(G)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(E){return this.parentContexts.getContext(E)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const E=this.parentContexts.getContext(this.name);E?.route&&(E.attachRef?this.attach(E.attachRef,E.route):this.activateWith(E.route,E.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new b.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new b.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new b.vHH(4012,!1);this.location.detach();const E=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(E.instance),E}attach(E,R){this.activated=E,this._activatedRoute=R,this.location.insert(E.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(E.instance)}deactivate(){if(this.activated){const E=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(E)}}activateWith(E,R){if(this.isActivated)throw new b.vHH(4013,!1);this._activatedRoute=E;const G=this.location,pe=E.snapshot.component,je=this.parentContexts.getOrCreateContext(this.name).children,Ve=new yo(E,je,G.injector);this.activated=G.createComponent(pe,{index:G.length,injector:Ve,environmentInjector:R??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(R){return new(R||D)};static#t=this.\u0275dir=b.lG2({type:D,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[b.TTD]})}return D})();class yo{constructor(M,E,R){this.route=M,this.childContexts=E,this.parent=R}get(M,E){return M===nr?this.route:M===Br?this.childContexts:this.parent.get(M,E)}}const Cn=new b.OlP("");let Mo=(()=>{class D{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(E){this.unsubscribeFromRouteData(E),this.subscribeToRouteData(E)}unsubscribeFromRouteData(E){this.outletDataSubscriptions.get(E)?.unsubscribe(),this.outletDataSubscriptions.delete(E)}subscribeToRouteData(E){const{activatedRoute:R}=E,G=it([R.queryParams,R.params,R.data]).pipe((0,mn.w)(([re,pe,je],Ve)=>(je={...re,...pe,...je},0===Ve?(0,le.of)(je):Promise.resolve(je)))).subscribe(re=>{if(!E.isActivated||!E.activatedComponentRef||E.activatedRoute!==R||null===R.component)return void this.unsubscribeFromRouteData(E);const pe=(0,b.qFp)(R.component);if(pe)for(const{templateName:je}of pe.inputs)E.activatedComponentRef.setInput(je,re[je]);else this.unsubscribeFromRouteData(E)});this.outletDataSubscriptions.set(E,G)}static#e=this.\u0275fac=function(R){return new(R||D)};static#t=this.\u0275prov=b.Yz7({token:D,factory:D.\u0275fac})}return D})();function Ji(D,M,E){if(E&&D.shouldReuseRoute(M.value,E.value.snapshot)){const R=E.value;R._futureSnapshot=M.value;const G=function Er(D,M,E){return M.children.map(R=>{for(const G of E.children)if(D.shouldReuseRoute(R.value,G.value.snapshot))return Ji(D,R,G);return Ji(D,R)})}(D,M,E);return new jr(R,G)}{if(D.shouldAttach(M.value)){const re=D.retrieve(M.value);if(null!==re){const pe=re.route;return pe.value._futureSnapshot=M.value,pe.children=M.children.map(je=>Ji(D,je)),pe}}const R=function vi(D){return new nr(new ve.X(D.url),new ve.X(D.params),new ve.X(D.queryParams),new ve.X(D.fragment),new ve.X(D.data),D.outlet,D.component,D)}(M.value),G=M.children.map(re=>Ji(D,re));return new jr(R,G)}}const Ci="ngNavigationCancelingError";function zr(D,M){const{redirectTo:E,navigationBehaviorOptions:R}=Vr(M)?{redirectTo:M,navigationBehaviorOptions:void 0}:M,G=Bs(!1,0,M);return G.url=E,G.navigationBehaviorOptions=R,G}function Bs(D,M,E){const R=new Error("NavigationCancelingError: "+(D||""));return R[Ci]=!0,R.cancellationCode=M,E&&(R.url=E),R}function zo(D){return D&&D[Ci]}let Mi=(()=>{class D{static#e=this.\u0275fac=function(R){return new(R||D)};static#t=this.\u0275cmp=b.Xpm({type:D,selectors:[["ng-component"]],standalone:!0,features:[b.jDz],decls:1,vars:0,template:function(R,G){1&R&&b._UZ(0,"router-outlet")},dependencies:[$r],encapsulation:2})}return D})();function Po(D){const M=D.children&&D.children.map(Po),E=M?{...D,children:M}:{...D};return!E.component&&!E.loadComponent&&(M||E.loadChildren)&&E.outlet&&E.outlet!==Me&&(E.component=Mi),E}function _r(D){return D.outlet||Me}function Ur(D){if(!D)return null;if(D.routeConfig?._injector)return D.routeConfig._injector;for(let M=D.parent;M;M=M.parent){const E=M.routeConfig;if(E?._loadedInjector)return E._loadedInjector;if(E?._injector)return E._injector}return null}class bs{constructor(M,E,R,G,re){this.routeReuseStrategy=M,this.futureState=E,this.currState=R,this.forwardEvent=G,this.inputBindingEnabled=re}activate(M){const E=this.futureState._root,R=this.currState?this.currState._root:null;this.deactivateChildRoutes(E,R,M),_i(this.futureState.root),this.activateChildRoutes(E,R,M)}deactivateChildRoutes(M,E,R){const G=_s(E);M.children.forEach(re=>{const pe=re.value.outlet;this.deactivateRoutes(re,G[pe],R),delete G[pe]}),Object.values(G).forEach(re=>{this.deactivateRouteAndItsChildren(re,R)})}deactivateRoutes(M,E,R){const G=M.value,re=E?E.value:null;if(G===re)if(G.component){const pe=R.getContext(G.outlet);pe&&this.deactivateChildRoutes(M,E,pe.children)}else this.deactivateChildRoutes(M,E,R);else re&&this.deactivateRouteAndItsChildren(E,R)}deactivateRouteAndItsChildren(M,E){M.value.component&&this.routeReuseStrategy.shouldDetach(M.value.snapshot)?this.detachAndStoreRouteSubtree(M,E):this.deactivateRouteAndOutlet(M,E)}detachAndStoreRouteSubtree(M,E){const R=E.getContext(M.value.outlet),G=R&&M.value.component?R.children:E,re=_s(M);for(const pe of Object.keys(re))this.deactivateRouteAndItsChildren(re[pe],G);if(R&&R.outlet){const pe=R.outlet.detach(),je=R.children.onOutletDeactivated();this.routeReuseStrategy.store(M.value.snapshot,{componentRef:pe,route:M,contexts:je})}}deactivateRouteAndOutlet(M,E){const R=E.getContext(M.value.outlet),G=R&&M.value.component?R.children:E,re=_s(M);for(const pe of Object.keys(re))this.deactivateRouteAndItsChildren(re[pe],G);R&&(R.outlet&&(R.outlet.deactivate(),R.children.onOutletDeactivated()),R.attachRef=null,R.route=null)}activateChildRoutes(M,E,R){const G=_s(E);M.children.forEach(re=>{this.activateRoutes(re,G[re.value.outlet],R),this.forwardEvent(new jo(re.value.snapshot))}),M.children.length&&this.forwardEvent(new gs(M.value.snapshot))}activateRoutes(M,E,R){const G=M.value,re=E?E.value:null;if(_i(G),G===re)if(G.component){const pe=R.getOrCreateContext(G.outlet);this.activateChildRoutes(M,E,pe.children)}else this.activateChildRoutes(M,E,R);else if(G.component){const pe=R.getOrCreateContext(G.outlet);if(this.routeReuseStrategy.shouldAttach(G.snapshot)){const je=this.routeReuseStrategy.retrieve(G.snapshot);this.routeReuseStrategy.store(G.snapshot,null),pe.children.onOutletReAttached(je.contexts),pe.attachRef=je.componentRef,pe.route=je.route.value,pe.outlet&&pe.outlet.attach(je.componentRef,je.route.value),_i(je.route.value),this.activateChildRoutes(M,null,pe.children)}else{const je=Ur(G.snapshot);pe.attachRef=null,pe.route=G,pe.injector=je,pe.outlet&&pe.outlet.activateWith(G,pe.injector),this.activateChildRoutes(M,null,pe.children)}}else this.activateChildRoutes(M,null,R)}}class Is{constructor(M){this.path=M,this.route=this.path[this.path.length-1]}}class ai{constructor(M,E){this.component=M,this.route=E}}function xi(D,M,E){const R=D._root;return qo(R,M?M._root:null,E,[R.value])}function Hs(D,M){const E=Symbol(),R=M.get(D,E);return R===E?"function"!=typeof D||(0,b.Z0I)(D)?M.get(D):D:R}function qo(D,M,E,R,G={canDeactivateChecks:[],canActivateChecks:[]}){const re=_s(M);return D.children.forEach(pe=>{(function eo(D,M,E,R,G={canDeactivateChecks:[],canActivateChecks:[]}){const re=D.value,pe=M?M.value:null,je=E?E.getContext(D.value.outlet):null;if(pe&&re.routeConfig===pe.routeConfig){const Ve=function Mr(D,M,E){if("function"==typeof E)return E(D,M);switch(E){case"pathParamsChange":return!et(D.url,M.url);case"pathParamsOrQueryParamsChange":return!et(D.url,M.url)||!tn(D.queryParams,M.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hr(D,M)||!tn(D.queryParams,M.queryParams);default:return!hr(D,M)}}(pe,re,re.routeConfig.runGuardsAndResolvers);Ve?G.canActivateChecks.push(new Is(R)):(re.data=pe.data,re._resolvedData=pe._resolvedData),qo(D,M,re.component?je?je.children:null:E,R,G),Ve&&je&&je.outlet&&je.outlet.isActivated&&G.canDeactivateChecks.push(new ai(je.outlet.component,pe))}else pe&&Gs(M,je,G),G.canActivateChecks.push(new Is(R)),qo(D,null,re.component?je?je.children:null:E,R,G)})(pe,re[pe.value.outlet],E,R.concat([pe.value]),G),delete re[pe.value.outlet]}),Object.entries(re).forEach(([pe,je])=>Gs(je,E.getContext(pe),G)),G}function Gs(D,M,E){const R=_s(D),G=D.value;Object.entries(R).forEach(([re,pe])=>{Gs(pe,G.component?M?M.children.getContext(re):null:M,E)}),E.canDeactivateChecks.push(new ai(G.component&&M&&M.outlet&&M.outlet.isActivated?M.outlet.component:null,G))}function Hi(D){return"function"==typeof D}function bo(D){return D instanceof Ft.K||"EmptyError"===D?.name}const ci=Symbol("INITIAL_VALUE");function yi(){return(0,mn.w)(D=>it(D.map(M=>M.pipe((0,Rn.q)(1),(0,zn.O)(ci)))).pipe((0,sn.U)(M=>{for(const E of M)if(!0!==E){if(E===ci)return ci;if(!1===E||E instanceof Tn)return E}return!0}),(0,sr.h)(M=>M!==ci),(0,Rn.q)(1)))}function zs(D){return(0,ot.z)((0,xt.b)(M=>{if(Vr(M))throw zr(0,M)}),(0,sn.U)(M=>!0===M))}class Zo{constructor(M){this.segmentGroup=M||null}}class to{constructor(M){this.urlTree=M}}function Ar(D){return mt(new Zo(D))}function no(D){return mt(new to(D))}class co{constructor(M,E){this.urlSerializer=M,this.urlTree=E}noMatchError(M){return new b.vHH(4002,!1)}lineralizeSegments(M,E){let R=[],G=E.root;for(;;){if(R=R.concat(G.segments),0===G.numberOfChildren)return(0,le.of)(R);if(G.numberOfChildren>1||!G.children[Me])return mt(new b.vHH(4e3,!1));G=G.children[Me]}}applyRedirectCommands(M,E,R){return this.applyRedirectCreateUrlTree(E,this.urlSerializer.parse(E),M,R)}applyRedirectCreateUrlTree(M,E,R,G){const re=this.createSegmentGroup(M,E.root,R,G);return new Tn(re,this.createQueryParams(E.queryParams,this.urlTree.queryParams),E.fragment)}createQueryParams(M,E){const R={};return Object.entries(M).forEach(([G,re])=>{if("string"==typeof re&&re.startsWith(":")){const je=re.substring(1);R[G]=E[je]}else R[G]=re}),R}createSegmentGroup(M,E,R,G){const re=this.createSegments(M,E.segments,R,G);let pe={};return Object.entries(E.children).forEach(([je,Ve])=>{pe[je]=this.createSegmentGroup(M,Ve,R,G)}),new Un(re,pe)}createSegments(M,E,R,G){return E.map(re=>re.path.startsWith(":")?this.findPosParam(M,re,G):this.findOrReturn(re,R))}findPosParam(M,E,R){const G=R[E.path.substring(1)];if(!G)throw new b.vHH(4001,!1);return G}findOrReturn(M,E){let R=0;for(const G of E){if(G.path===M.path)return E.splice(R),G;R++}return M}}const Oa={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Io(D,M,E,R,G){const re=Ga(D,M,E);return re.matched?(R=function xo(D,M){return D.providers&&!D._injector&&(D._injector=(0,b.MMx)(D.providers,M,`Route: ${D.path}`)),D._injector??M}(M,R),function Gi(D,M,E,R){const G=M.canMatch;if(!G||0===G.length)return(0,le.of)(!0);const re=G.map(pe=>{const je=Hs(pe,D);return Bn(function Ut(D){return D&&Hi(D.canMatch)}(je)?je.canMatch(M,E):D.runInContext(()=>je(M,E)))});return(0,le.of)(re).pipe(yi(),zs())}(R,M,E).pipe((0,sn.U)(pe=>!0===pe?re:{...Oa}))):(0,le.of)(re)}function Ga(D,M,E){if(""===M.path)return"full"===M.pathMatch&&(D.hasChildren()||E.length>0)?{...Oa}:{matched:!0,consumedSegments:[],remainingSegments:E,parameters:{},positionalParamSegments:{}};const G=(M.matcher||lr)(E,D,M);if(!G)return{...Oa};const re={};Object.entries(G.posParams??{}).forEach(([je,Ve])=>{re[je]=Ve.path});const pe=G.consumed.length>0?{...re,...G.consumed[G.consumed.length-1].parameters}:re;return{matched:!0,consumedSegments:G.consumed,remainingSegments:E.slice(G.consumed.length),parameters:pe,positionalParamSegments:G.posParams??{}}}function ws(D,M,E,R){return E.length>0&&function ja(D,M,E){return E.some(R=>ko(D,M,R)&&_r(R)!==Me)}(D,E,R)?{segmentGroup:new Un(M,Ko(R,new Un(E,D.children))),slicedSegments:[]}:0===E.length&&function ic(D,M,E){return E.some(R=>ko(D,M,R))}(D,E,R)?{segmentGroup:new Un(D.segments,Ws(D,0,E,R,D.children)),slicedSegments:E}:{segmentGroup:new Un(D.segments,D.children),slicedSegments:E}}function Ws(D,M,E,R,G){const re={};for(const pe of R)if(ko(D,E,pe)&&!G[_r(pe)]){const je=new Un([],{});re[_r(pe)]=je}return{...G,...re}}function Ko(D,M){const E={};E[Me]=M;for(const R of D)if(""===R.path&&_r(R)!==Me){const G=new Un([],{});E[_r(R)]=G}return E}function ko(D,M,E){return(!(D.hasChildren()||M.length>0)||"full"!==E.pathMatch)&&""===E.path}class hu{constructor(M,E,R,G,re,pe,je){this.injector=M,this.configLoader=E,this.rootComponentType=R,this.config=G,this.urlTree=re,this.paramsInheritanceStrategy=pe,this.urlSerializer=je,this.allowRedirects=!0,this.applyRedirects=new co(this.urlSerializer,this.urlTree)}noMatchError(M){return new b.vHH(4002,!1)}recognize(){const M=ws(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,M,Me).pipe(Bt(E=>{if(E instanceof to)return this.allowRedirects=!1,this.urlTree=E.urlTree,this.match(E.urlTree);throw E instanceof Zo?this.noMatchError(E):E}),(0,sn.U)(E=>{const R=new ur([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Me,this.rootComponentType,null,{}),G=new jr(R,E),re=new Di("",G),pe=function Wi(D,M,E=null,R=null){return Zi(qi(D),M,E,R)}(R,[],this.urlTree.queryParams,this.urlTree.fragment);return pe.queryParams=this.urlTree.queryParams,re.url=this.urlSerializer.serialize(pe),this.inheritParamsAndData(re._root),{state:re,tree:pe}}))}match(M){return this.processSegmentGroup(this.injector,this.config,M.root,Me).pipe(Bt(R=>{throw R instanceof Zo?this.noMatchError(R):R}))}inheritParamsAndData(M){const E=M.value,R=Et(E,this.paramsInheritanceStrategy);E.params=Object.freeze(R.params),E.data=Object.freeze(R.data),M.children.forEach(G=>this.inheritParamsAndData(G))}processSegmentGroup(M,E,R,G){return 0===R.segments.length&&R.hasChildren()?this.processChildren(M,E,R):this.processSegment(M,E,R,R.segments,G,!0)}processChildren(M,E,R){const G=[];for(const re of Object.keys(R.children))"primary"===re?G.unshift(re):G.push(re);return(0,l.D)(G).pipe(vt(re=>{const pe=R.children[re],je=function Wo(D,M){const E=D.filter(R=>_r(R)===M);return E.push(...D.filter(R=>_r(R)!==M)),E}(E,re);return this.processSegmentGroup(M,je,pe,re)}),function fn(D,M){return(0,ye.e)(function an(D,M,E,R,G){return(re,pe)=>{let je=E,Ve=M,Gt=0;re.subscribe((0,Xe.x)(pe,On=>{const vr=Gt++;Ve=je?D(Ve,On,vr):(je=!0,On),R&&pe.next(Ve)},G&&(()=>{je&&pe.next(Ve),pe.complete()})))}}(D,M,arguments.length>=2,!0))}((re,pe)=>(re.push(...pe),re)),He(null),function wt(D,M){const E=arguments.length>=2;return R=>R.pipe(D?(0,sr.h)((G,re)=>D(G,re,R)):Se.y,on(1),E?He(M):Je(()=>new Ft.K))}(),(0,xe.z)(re=>{if(null===re)return Ar(R);const pe=Qo(re);return function fu(D){D.sort((M,E)=>M.value.outlet===Me?-1:E.value.outlet===Me?1:M.value.outlet.localeCompare(E.value.outlet))}(pe),(0,le.of)(pe)}))}processSegment(M,E,R,G,re,pe){return(0,l.D)(E).pipe(vt(je=>this.processSegmentAgainstRoute(je._injector??M,E,je,R,G,re,pe).pipe(Bt(Ve=>{if(Ve instanceof Zo)return(0,le.of)(null);throw Ve}))),tt(je=>!!je),Bt(je=>{if(bo(je))return function Yo(D,M,E){return 0===M.length&&!D.children[E]}(R,G,re)?(0,le.of)([]):Ar(R);throw je}))}processSegmentAgainstRoute(M,E,R,G,re,pe,je){return function xu(D,M,E,R){return!!(_r(D)===R||R!==Me&&ko(M,E,D))&&("**"===D.path||Ga(M,D,E).matched)}(R,G,re,pe)?void 0===R.redirectTo?this.matchSegmentAgainstRoute(M,G,R,re,pe,je):je&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(M,G,E,R,re,pe):Ar(G):Ar(G)}expandSegmentAgainstRouteUsingRedirect(M,E,R,G,re,pe){return"**"===G.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(M,R,G,pe):this.expandRegularSegmentAgainstRouteUsingRedirect(M,E,R,G,re,pe)}expandWildCardWithParamsAgainstRouteUsingRedirect(M,E,R,G){const re=this.applyRedirects.applyRedirectCommands([],R.redirectTo,{});return R.redirectTo.startsWith("/")?no(re):this.applyRedirects.lineralizeSegments(R,re).pipe((0,xe.z)(pe=>{const je=new Un(pe,{});return this.processSegment(M,E,je,pe,G,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(M,E,R,G,re,pe){const{matched:je,consumedSegments:Ve,remainingSegments:Gt,positionalParamSegments:On}=Ga(E,G,re);if(!je)return Ar(E);const vr=this.applyRedirects.applyRedirectCommands(Ve,G.redirectTo,On);return G.redirectTo.startsWith("/")?no(vr):this.applyRedirects.lineralizeSegments(G,vr).pipe((0,xe.z)(rr=>this.processSegment(M,R,E,rr.concat(Gt),pe,!1)))}matchSegmentAgainstRoute(M,E,R,G,re,pe){let je;if("**"===R.path){const Ve=G.length>0?gn(G).parameters:{},Gt=new ur(G,Ve,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,O(R),_r(R),R.component??R._loadedComponent??null,R,te(R));je=(0,le.of)({snapshot:Gt,consumedSegments:[],remainingSegments:[]}),E.children={}}else je=Io(E,R,G,M).pipe((0,sn.U)(({matched:Ve,consumedSegments:Gt,remainingSegments:On,parameters:vr})=>Ve?{snapshot:new ur(Gt,vr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,O(R),_r(R),R.component??R._loadedComponent??null,R,te(R)),consumedSegments:Gt,remainingSegments:On}:null));return je.pipe((0,mn.w)(Ve=>null===Ve?Ar(E):this.getChildConfig(M=R._injector??M,R,G).pipe((0,mn.w)(({routes:Gt})=>{const On=R._loadedInjector??M,{snapshot:vr,consumedSegments:rr,remainingSegments:qa}=Ve,{segmentGroup:Nr,slicedSegments:Ks}=ws(E,rr,qa,Gt);if(0===Ks.length&&Nr.hasChildren())return this.processChildren(On,Gt,Nr).pipe((0,sn.U)(Ts=>null===Ts?null:[new jr(vr,Ts)]));if(0===Gt.length&&0===Ks.length)return(0,le.of)([new jr(vr,[])]);const Ir=_r(R)===re;return this.processSegment(On,Gt,Nr,Ks,Ir?Me:re,!0).pipe((0,sn.U)(Ts=>[new jr(vr,Ts)]))}))))}getChildConfig(M,E,R){return E.children?(0,le.of)({routes:E.children,injector:M}):E.loadChildren?void 0!==E._loadedRoutes?(0,le.of)({routes:E._loadedRoutes,injector:E._loadedInjector}):function bi(D,M,E,R){const G=M.canLoad;if(void 0===G||0===G.length)return(0,le.of)(!0);const re=G.map(pe=>{const je=Hs(pe,D);return Bn(function Q(D){return D&&Hi(D.canLoad)}(je)?je.canLoad(M,E):D.runInContext(()=>je(M,E)))});return(0,le.of)(re).pipe(yi(),zs())}(M,E,R).pipe((0,xe.z)(G=>G?this.configLoader.loadChildren(M,E).pipe((0,xt.b)(re=>{E._loadedRoutes=re.routes,E._loadedInjector=re.injector})):function Ha(D){return mt(Bs(!1,3))}())):(0,le.of)({routes:[],injector:M})}}function sa(D){const M=D.value.routeConfig;return M&&""===M.path}function Qo(D){const M=[],E=new Set;for(const R of D){if(!sa(R)){M.push(R);continue}const G=M.find(re=>R.value.routeConfig===re.value.routeConfig);void 0!==G?(G.children.push(...R.children),E.add(G)):M.push(R)}for(const R of E){const G=Qo(R.children);M.push(new jr(R.value,G))}return M.filter(R=>!E.has(R))}function O(D){return D.data||{}}function te(D){return D.resolve||{}}function Jn(D){return"string"==typeof D.title||null===D.title}function Dr(D){return(0,mn.w)(M=>{const E=D(M);return E?(0,l.D)(E).pipe((0,sn.U)(()=>M)):(0,le.of)(M)})}const Xn=new b.OlP("ROUTES");let Ln=(()=>{class D{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,b.f3M)(b.Sil)}loadComponent(E){if(this.componentLoaders.get(E))return this.componentLoaders.get(E);if(E._loadedComponent)return(0,le.of)(E._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(E);const R=Bn(E.loadComponent()).pipe((0,sn.U)(ii),(0,xt.b)(re=>{this.onLoadEndListener&&this.onLoadEndListener(E),E._loadedComponent=re}),ar(()=>{this.componentLoaders.delete(E)})),G=new ht(R,()=>new An.x).pipe(Qe());return this.componentLoaders.set(E,G),G}loadChildren(E,R){if(this.childrenLoaders.get(R))return this.childrenLoaders.get(R);if(R._loadedRoutes)return(0,le.of)({routes:R._loadedRoutes,injector:R._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(R);const re=function ei(D,M,E,R){return Bn(D.loadChildren()).pipe((0,sn.U)(ii),(0,xe.z)(G=>G instanceof b.YKP||Array.isArray(G)?(0,le.of)(G):(0,l.D)(M.compileModuleAsync(G))),(0,sn.U)(G=>{R&&R(D);let re,pe,je=!1;return Array.isArray(G)?(pe=G,!0):(re=G.create(E).injector,pe=re.get(Xn,[],{optional:!0,self:!0}).flat()),{routes:pe.map(Po),injector:re}}))}(R,this.compiler,E,this.onLoadEndListener).pipe(ar(()=>{this.childrenLoaders.delete(R)})),pe=new ht(re,()=>new An.x).pipe(Qe());return this.childrenLoaders.set(R,pe),pe}static#e=this.\u0275fac=function(R){return new(R||D)};static#t=this.\u0275prov=b.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})();function ii(D){return function xr(D){return D&&"object"==typeof D&&"default"in D}(D)?D.default:D}let wo=(()=>{class D{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new An.x,this.transitionAbortSubject=new An.x,this.configLoader=(0,b.f3M)(Ln),this.environmentInjector=(0,b.f3M)(b.lqb),this.urlSerializer=(0,b.f3M)(We),this.rootContexts=(0,b.f3M)(Br),this.inputBindingEnabled=null!==(0,b.f3M)(Cn,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,le.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=G=>this.events.next(new Fs(G)),this.configLoader.onLoadStartListener=G=>this.events.next(new Ca(G))}complete(){this.transitions?.complete()}handleNavigationRequest(E){const R=++this.navigationId;this.transitions?.next({...this.transitions.value,...E,id:R})}setupNavigations(E,R,G){return this.transitions=new ve.X({id:0,currentUrlTree:R,currentRawUrl:R,currentBrowserUrl:R,extractedUrl:E.urlHandlingStrategy.extract(R),urlAfterRedirects:E.urlHandlingStrategy.extract(R),rawUrl:R,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ks,restoredState:null,currentSnapshot:G.snapshot,targetSnapshot:null,currentRouterState:G,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,sr.h)(re=>0!==re.id),(0,sn.U)(re=>({...re,extractedUrl:E.urlHandlingStrategy.extract(re.rawUrl)})),(0,mn.w)(re=>{this.currentTransition=re;let pe=!1,je=!1;return(0,le.of)(re).pipe((0,xt.b)(Ve=>{this.currentNavigation={id:Ve.id,initialUrl:Ve.rawUrl,extractedUrl:Ve.extractedUrl,trigger:Ve.source,extras:Ve.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,mn.w)(Ve=>{const Gt=Ve.currentBrowserUrl.toString(),On=!E.navigated||Ve.extractedUrl.toString()!==Gt||Gt!==Ve.currentUrlTree.toString();if(!On&&"reload"!==(Ve.extras.onSameUrlNavigation??E.onSameUrlNavigation)){const rr="";return this.events.next(new si(Ve.id,this.urlSerializer.serialize(Ve.rawUrl),rr,0)),Ve.resolve(null),pt.E}if(E.urlHandlingStrategy.shouldProcessUrl(Ve.rawUrl))return(0,le.of)(Ve).pipe((0,mn.w)(rr=>{const qa=this.transitions?.getValue();return this.events.next(new Jr(rr.id,this.urlSerializer.serialize(rr.extractedUrl),rr.source,rr.restoredState)),qa!==this.transitions?.getValue()?pt.E:Promise.resolve(rr)}),function B(D,M,E,R,G,re){return(0,xe.z)(pe=>function wc(D,M,E,R,G,re,pe="emptyOnly"){return new hu(D,M,E,R,G,pe,re).recognize()}(D,M,E,R,pe.extractedUrl,G,re).pipe((0,sn.U)(({state:je,tree:Ve})=>({...pe,targetSnapshot:je,urlAfterRedirects:Ve}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,E.config,this.urlSerializer,E.paramsInheritanceStrategy),(0,xt.b)(rr=>{re.targetSnapshot=rr.targetSnapshot,re.urlAfterRedirects=rr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:rr.urlAfterRedirects};const qa=new pi(rr.id,this.urlSerializer.serialize(rr.extractedUrl),this.urlSerializer.serialize(rr.urlAfterRedirects),rr.targetSnapshot);this.events.next(qa)}));if(On&&E.urlHandlingStrategy.shouldProcessUrl(Ve.currentRawUrl)){const{id:rr,extractedUrl:qa,source:Nr,restoredState:Ks,extras:Ir}=Ve,Ts=new Jr(rr,this.urlSerializer.serialize(qa),Nr,Ks);this.events.next(Ts);const Yl=La(0,this.rootComponentType).snapshot;return this.currentTransition=re={...Ve,targetSnapshot:Yl,urlAfterRedirects:qa,extras:{...Ir,skipLocationChange:!1,replaceUrl:!1}},(0,le.of)(re)}{const rr="";return this.events.next(new si(Ve.id,this.urlSerializer.serialize(Ve.extractedUrl),rr,1)),Ve.resolve(null),pt.E}}),(0,xt.b)(Ve=>{const Gt=new Da(Ve.id,this.urlSerializer.serialize(Ve.extractedUrl),this.urlSerializer.serialize(Ve.urlAfterRedirects),Ve.targetSnapshot);this.events.next(Gt)}),(0,sn.U)(Ve=>(this.currentTransition=re={...Ve,guards:xi(Ve.targetSnapshot,Ve.currentSnapshot,this.rootContexts)},re)),function Ua(D,M){return(0,xe.z)(E=>{const{targetSnapshot:R,currentSnapshot:G,guards:{canActivateChecks:re,canDeactivateChecks:pe}}=E;return 0===pe.length&&0===re.length?(0,le.of)({...E,guardsResult:!0}):function js(D,M,E,R){return(0,l.D)(D).pipe((0,xe.z)(G=>function rc(D,M,E,R,G){const re=M&&M.routeConfig?M.routeConfig.canDeactivate:null;if(!re||0===re.length)return(0,le.of)(!0);const pe=re.map(je=>{const Ve=Ur(M)??G,Gt=Hs(je,Ve);return Bn(function Ie(D){return D&&Hi(D.canDeactivate)}(Gt)?Gt.canDeactivate(D,M,E,R):Ve.runInContext(()=>Gt(D,M,E,R))).pipe(tt())});return(0,le.of)(pe).pipe(yi())}(G.component,G.route,E,M,R)),tt(G=>!0!==G,!0))}(pe,R,G,D).pipe((0,xe.z)(je=>je&&function z(D){return"boolean"==typeof D}(je)?function $s(D,M,E,R){return(0,l.D)(M).pipe(vt(G=>(0,wn.z)(function Aa(D,M){return null!==D&&M&&M(new Sa(D)),(0,le.of)(!0)}(G.route.parent,R),function nc(D,M){return null!==D&&M&&M(new Uc(D)),(0,le.of)(!0)}(G.route,R),function du(D,M,E){const R=M[M.length-1],re=M.slice(0,M.length-1).reverse().map(pe=>function Ba(D){const M=D.routeConfig?D.routeConfig.canActivateChild:null;return M&&0!==M.length?{node:D,guards:M}:null}(pe)).filter(pe=>null!==pe).map(pe=>ft(()=>{const je=pe.guards.map(Ve=>{const Gt=Ur(pe.node)??E,On=Hs(Ve,Gt);return Bn(function ie(D){return D&&Hi(D.canActivateChild)}(On)?On.canActivateChild(R,D):Gt.runInContext(()=>On(R,D))).pipe(tt())});return(0,le.of)(je).pipe(yi())}));return(0,le.of)(re).pipe(yi())}(D,G.path,E),function ao(D,M,E){const R=M.routeConfig?M.routeConfig.canActivate:null;if(!R||0===R.length)return(0,le.of)(!0);const G=R.map(re=>ft(()=>{const pe=Ur(M)??E,je=Hs(re,pe);return Bn(function F(D){return D&&Hi(D.canActivate)}(je)?je.canActivate(M,D):pe.runInContext(()=>je(M,D))).pipe(tt())}));return(0,le.of)(G).pipe(yi())}(D,G.route,E))),tt(G=>!0!==G,!0))}(R,re,D,M):(0,le.of)(je)),(0,sn.U)(je=>({...E,guardsResult:je})))})}(this.environmentInjector,Ve=>this.events.next(Ve)),(0,xt.b)(Ve=>{if(re.guardsResult=Ve.guardsResult,Vr(Ve.guardsResult))throw zr(0,Ve.guardsResult);const Gt=new gi(Ve.id,this.urlSerializer.serialize(Ve.extractedUrl),this.urlSerializer.serialize(Ve.urlAfterRedirects),Ve.targetSnapshot,!!Ve.guardsResult);this.events.next(Gt)}),(0,sr.h)(Ve=>!!Ve.guardsResult||(this.cancelNavigationTransition(Ve,"",3),!1)),Dr(Ve=>{if(Ve.guards.canActivateChecks.length)return(0,le.of)(Ve).pipe((0,xt.b)(Gt=>{const On=new Bc(Gt.id,this.urlSerializer.serialize(Gt.extractedUrl),this.urlSerializer.serialize(Gt.urlAfterRedirects),Gt.targetSnapshot);this.events.next(On)}),(0,mn.w)(Gt=>{let On=!1;return(0,le.of)(Gt).pipe(function X(D,M){return(0,xe.z)(E=>{const{targetSnapshot:R,guards:{canActivateChecks:G}}=E;if(!G.length)return(0,le.of)(E);let re=0;return(0,l.D)(G).pipe(vt(pe=>function me(D,M,E,R){const G=D.routeConfig,re=D._resolve;return void 0!==G?.title&&!Jn(G)&&(re[st]=G.title),function Ye(D,M,E,R){const G=function dt(D){return[...Object.keys(D),...Object.getOwnPropertySymbols(D)]}(D);if(0===G.length)return(0,le.of)({});const re={};return(0,l.D)(G).pipe((0,xe.z)(pe=>function dn(D,M,E,R){const G=Ur(M)??R,re=Hs(D,G);return Bn(re.resolve?re.resolve(M,E):G.runInContext(()=>re(M,E)))}(D[pe],M,E,R).pipe(tt(),(0,xt.b)(je=>{re[pe]=je}))),on(1),(0,Fn.h)(re),Bt(pe=>bo(pe)?pt.E:mt(pe)))}(re,D,M,R).pipe((0,sn.U)(pe=>(D._resolvedData=pe,D.data=Et(D,E).resolve,G&&Jn(G)&&(D.data[st]=G.title),null)))}(pe.route,R,D,M)),(0,xt.b)(()=>re++),on(1),(0,xe.z)(pe=>re===G.length?(0,le.of)(E):pt.E))})}(E.paramsInheritanceStrategy,this.environmentInjector),(0,xt.b)({next:()=>On=!0,complete:()=>{On||this.cancelNavigationTransition(Gt,"",2)}}))}),(0,xt.b)(Gt=>{const On=new ia(Gt.id,this.urlSerializer.serialize(Gt.extractedUrl),this.urlSerializer.serialize(Gt.urlAfterRedirects),Gt.targetSnapshot);this.events.next(On)}))}),Dr(Ve=>{const Gt=On=>{const vr=[];On.routeConfig?.loadComponent&&!On.routeConfig._loadedComponent&&vr.push(this.configLoader.loadComponent(On.routeConfig).pipe((0,xt.b)(rr=>{On.component=rr}),(0,sn.U)(()=>{})));for(const rr of On.children)vr.push(...Gt(rr));return vr};return it(Gt(Ve.targetSnapshot.root)).pipe(He(),(0,Rn.q)(1))}),Dr(()=>this.afterPreactivation()),(0,sn.U)(Ve=>{const Gt=function tc(D,M,E){const R=Ji(D,M._root,E?E._root:void 0);return new mi(R,M)}(E.routeReuseStrategy,Ve.targetSnapshot,Ve.currentRouterState);return this.currentTransition=re={...Ve,targetRouterState:Gt},re}),(0,xt.b)(()=>{this.events.next(new Ls)}),((D,M,E,R)=>(0,sn.U)(G=>(new bs(M,G.targetRouterState,G.currentRouterState,E,R).activate(D),G)))(this.rootContexts,E.routeReuseStrategy,Ve=>this.events.next(Ve),this.inputBindingEnabled),(0,Rn.q)(1),(0,xt.b)({next:Ve=>{pe=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new vo(Ve.id,this.urlSerializer.serialize(Ve.extractedUrl),this.urlSerializer.serialize(Ve.urlAfterRedirects))),E.titleStrategy?.updateTitle(Ve.targetRouterState.snapshot),Ve.resolve(!0)},complete:()=>{pe=!0}}),(0,Tr.R)(this.transitionAbortSubject.pipe((0,xt.b)(Ve=>{throw Ve}))),ar(()=>{pe||je||this.cancelNavigationTransition(re,"",1),this.currentNavigation?.id===re.id&&(this.currentNavigation=null)}),Bt(Ve=>{if(je=!0,zo(Ve))this.events.next(new cr(re.id,this.urlSerializer.serialize(re.extractedUrl),Ve.message,Ve.cancellationCode)),function Hc(D){return zo(D)&&Vr(D.url)}(Ve)?this.events.next(new ms(Ve.url)):re.resolve(!1);else{this.events.next(new Yi(re.id,this.urlSerializer.serialize(re.extractedUrl),Ve,re.targetSnapshot??void 0));try{re.resolve(E.errorHandler(Ve))}catch(Gt){re.reject(Gt)}}return pt.E}))}))}cancelNavigationTransition(E,R,G){const re=new cr(E.id,this.urlSerializer.serialize(E.extractedUrl),R,G);this.events.next(re),E.resolve(!1)}static#e=this.\u0275fac=function(R){return new(R||D)};static#t=this.\u0275prov=b.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})();function uo(D){return D!==ks}let ro=(()=>{class D{buildTitle(E){let R,G=E.root;for(;void 0!==G;)R=this.getResolvedTitleForRoute(G)??R,G=G.children.find(re=>re.outlet===Me);return R}getResolvedTitleForRoute(E){return E.data[st]}static#e=this.\u0275fac=function(R){return new(R||D)};static#t=this.\u0275prov=b.Yz7({token:D,factory:function(){return(0,b.f3M)(To)},providedIn:"root"})}return D})(),To=(()=>{class D extends ro{constructor(E){super(),this.title=E}updateTitle(E){const R=this.buildTitle(E);void 0!==R&&this.title.setTitle(R)}static#e=this.\u0275fac=function(R){return new(R||D)(b.LFG(Oe.Dx))};static#t=this.\u0275prov=b.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})(),qs=(()=>{class D{static#e=this.\u0275fac=function(R){return new(R||D)};static#t=this.\u0275prov=b.Yz7({token:D,factory:function(){return(0,b.f3M)(oc)},providedIn:"root"})}return D})();class Jo{shouldDetach(M){return!1}store(M,E){}shouldAttach(M){return!1}retrieve(M){return null}shouldReuseRoute(M,E){return M.routeConfig===E.routeConfig}}let oc=(()=>{class D extends Jo{static#e=this.\u0275fac=function(){let E;return function(G){return(E||(E=b.n5z(D)))(G||D)}}();static#t=this.\u0275prov=b.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})();const $a=new b.OlP("",{providedIn:"root",factory:()=>({})});let Wl=(()=>{class D{static#e=this.\u0275fac=function(R){return new(R||D)};static#t=this.\u0275prov=b.Yz7({token:D,factory:function(){return(0,b.f3M)(Xo)},providedIn:"root"})}return D})(),Xo=(()=>{class D{shouldProcessUrl(E){return!0}extract(E){return E}merge(E,R){return E}static#e=this.\u0275fac=function(R){return new(R||D)};static#t=this.\u0275prov=b.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})();var za=function(D){return D[D.COMPLETE=0]="COMPLETE",D[D.FAILED=1]="FAILED",D[D.REDIRECTING=2]="REDIRECTING",D}(za||{});function jc(D,M){D.events.pipe((0,sr.h)(E=>E instanceof vo||E instanceof cr||E instanceof Yi||E instanceof si),(0,sn.U)(E=>E instanceof vo||E instanceof si?za.COMPLETE:E instanceof cr&&(0===E.code||1===E.code)?za.REDIRECTING:za.FAILED),(0,sr.h)(E=>E!==za.REDIRECTING),(0,Rn.q)(1)).subscribe(()=>{M()})}function oi(D){throw D}function pu(D,M,E){return M.parse("/")}const gu={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},es={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ts=(()=>{class D{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,b.f3M)(b.c2e),this.isNgZoneEnabled=!1,this._events=new An.x,this.options=(0,b.f3M)($a,{optional:!0})||{},this.pendingTasks=(0,b.f3M)(b.HDt),this.errorHandler=this.options.errorHandler||oi,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||pu,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,b.f3M)(Wl),this.routeReuseStrategy=(0,b.f3M)(qs),this.titleStrategy=(0,b.f3M)(ro),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,b.f3M)(Xn,{optional:!0})?.flat()??[],this.navigationTransitions=(0,b.f3M)(wo),this.urlSerializer=(0,b.f3M)(We),this.location=(0,b.f3M)(ct.Ye),this.componentInputBindingEnabled=!!(0,b.f3M)(Cn,{optional:!0}),this.eventsSubscription=new Ue.w0,this.isNgZoneEnabled=(0,b.f3M)(b.R0b)instanceof b.R0b&&b.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Tn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=La(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(E=>{this.lastSuccessfulId=E.id,this.currentPageId=this.browserPageId},E=>{this.console.warn(`Unhandled Navigation Error: ${E}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const E=this.navigationTransitions.events.subscribe(R=>{try{const{currentTransition:G}=this.navigationTransitions;if(null===G)return void(sc(R)&&this._events.next(R));if(R instanceof Jr)uo(G.source)&&(this.browserUrlTree=G.extractedUrl);else if(R instanceof si)this.rawUrlTree=G.rawUrl;else if(R instanceof pi){if("eager"===this.urlUpdateStrategy){if(!G.extras.skipLocationChange){const re=this.urlHandlingStrategy.merge(G.urlAfterRedirects,G.rawUrl);this.setBrowserUrl(re,G)}this.browserUrlTree=G.urlAfterRedirects}}else if(R instanceof Ls)this.currentUrlTree=G.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(G.urlAfterRedirects,G.rawUrl),this.routerState=G.targetRouterState,"deferred"===this.urlUpdateStrategy&&(G.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,G),this.browserUrlTree=G.urlAfterRedirects);else if(R instanceof cr)0!==R.code&&1!==R.code&&(this.navigated=!0),(3===R.code||2===R.code)&&this.restoreHistory(G);else if(R instanceof ms){const re=this.urlHandlingStrategy.merge(R.url,G.currentRawUrl),pe={skipLocationChange:G.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||uo(G.source)};this.scheduleNavigation(re,ks,null,pe,{resolve:G.resolve,reject:G.reject,promise:G.promise})}R instanceof Yi&&this.restoreHistory(G,!0),R instanceof vo&&(this.navigated=!0),sc(R)&&this._events.next(R)}catch(G){this.navigationTransitions.transitionAbortSubject.next(G)}});this.eventsSubscription.add(E)}resetRootComponentType(E){this.routerState.root.component=E,this.navigationTransitions.rootComponentType=E}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const E=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ks,E)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(E=>{const R="popstate"===E.type?"popstate":"hashchange";"popstate"===R&&setTimeout(()=>{this.navigateToSyncWithBrowser(E.url,R,E.state)},0)}))}navigateToSyncWithBrowser(E,R,G){const re={replaceUrl:!0},pe=G?.navigationId?G:null;if(G){const Ve={...G};delete Ve.navigationId,delete Ve.\u0275routerPageId,0!==Object.keys(Ve).length&&(re.state=Ve)}const je=this.parseUrl(E);this.scheduleNavigation(je,R,pe,re)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(E){this.config=E.map(Po),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(E,R={}){const{relativeTo:G,queryParams:re,fragment:pe,queryParamsHandling:je,preserveFragment:Ve}=R,Gt=Ve?this.currentUrlTree.fragment:pe;let vr,On=null;switch(je){case"merge":On={...this.currentUrlTree.queryParams,...re};break;case"preserve":On=this.currentUrlTree.queryParams;break;default:On=re||null}null!==On&&(On=this.removeEmptyProps(On));try{vr=qi(G?G.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof E[0]||!E[0].startsWith("/"))&&(E=[]),vr=this.currentUrlTree.root}return Zi(vr,E,On,Gt??null)}navigateByUrl(E,R={skipLocationChange:!1}){const G=Vr(E)?E:this.parseUrl(E),re=this.urlHandlingStrategy.merge(G,this.rawUrlTree);return this.scheduleNavigation(re,ks,null,R)}navigate(E,R={skipLocationChange:!1}){return function Nd(D){for(let M=0;M<D.length;M++)if(null==D[M])throw new b.vHH(4008,!1)}(E),this.navigateByUrl(this.createUrlTree(E,R),R)}serializeUrl(E){return this.urlSerializer.serialize(E)}parseUrl(E){let R;try{R=this.urlSerializer.parse(E)}catch(G){R=this.malformedUriErrorHandler(G,this.urlSerializer,E)}return R}isActive(E,R){let G;if(G=!0===R?{...gu}:!1===R?{...es}:R,Vr(E))return dr(this.currentUrlTree,E,G);const re=this.parseUrl(E);return dr(this.currentUrlTree,re,G)}removeEmptyProps(E){return Object.keys(E).reduce((R,G)=>{const re=E[G];return null!=re&&(R[G]=re),R},{})}scheduleNavigation(E,R,G,re,pe){if(this.disposed)return Promise.resolve(!1);let je,Ve,Gt;pe?(je=pe.resolve,Ve=pe.reject,Gt=pe.promise):Gt=new Promise((vr,rr)=>{je=vr,Ve=rr});const On=this.pendingTasks.add();return jc(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(On))}),this.navigationTransitions.handleNavigationRequest({source:R,restoredState:G,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:E,extras:re,resolve:je,reject:Ve,promise:Gt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Gt.catch(vr=>Promise.reject(vr))}setBrowserUrl(E,R){const G=this.urlSerializer.serialize(E);if(this.location.isCurrentPathEqualTo(G)||R.extras.replaceUrl){const pe={...R.extras.state,...this.generateNgRouterState(R.id,this.browserPageId)};this.location.replaceState(G,"",pe)}else{const re={...R.extras.state,...this.generateNgRouterState(R.id,this.browserPageId+1)};this.location.go(G,"",re)}}restoreHistory(E,R=!1){if("computed"===this.canceledNavigationResolution){const re=this.currentPageId-this.browserPageId;0!==re?this.location.historyGo(re):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===re&&(this.resetState(E),this.browserUrlTree=E.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(R&&this.resetState(E),this.resetUrlToCurrentUrlTree())}resetState(E){this.routerState=E.currentRouterState,this.currentUrlTree=E.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,E.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(E,R){return"computed"===this.canceledNavigationResolution?{navigationId:E,\u0275routerPageId:R}:{navigationId:E}}static#e=this.\u0275fac=function(R){return new(R||D)};static#t=this.\u0275prov=b.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})();function sc(D){return!(D instanceof Ls||D instanceof ms)}let Ii=(()=>{class D{constructor(E,R,G,re,pe,je){this.router=E,this.route=R,this.tabIndexAttribute=G,this.renderer=re,this.el=pe,this.locationStrategy=je,this.href=null,this.commands=null,this.onChanges=new An.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Ve=pe.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Ve||"area"===Ve,this.isAnchorElement?this.subscription=E.events.subscribe(Gt=>{Gt instanceof vo&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(E){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",E)}ngOnChanges(E){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(E){null!=E?(this.commands=Array.isArray(E)?E:[E],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(E,R,G,re,pe){return!!(null===this.urlTree||this.isAnchorElement&&(0!==E||R||G||re||pe||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const E=null===this.href?null:(0,b.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",E)}applyAttributeValue(E,R){const G=this.renderer,re=this.el.nativeElement;null!==R?G.setAttribute(re,E,R):G.removeAttribute(re,E)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(R){return new(R||D)(b.Y36(ts),b.Y36(nr),b.$8M("tabindex"),b.Y36(b.Qsj),b.Y36(b.SBq),b.Y36(ct.S$))};static#t=this.\u0275dir=b.lG2({type:D,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(R,G){1&R&&b.NdJ("click",function(pe){return G.onClick(pe.button,pe.ctrlKey,pe.shiftKey,pe.altKey,pe.metaKey)}),2&R&&b.uIk("target",G.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",b.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",b.VuI],replaceUrl:["replaceUrl","replaceUrl",b.VuI],routerLink:"routerLink"},standalone:!0,features:[b.Xq5,b.TTD]})}return D})();class ql{}let xh=(()=>{class D{constructor(E,R,G,re,pe){this.router=E,this.injector=G,this.preloadingStrategy=re,this.loader=pe}setUpPreloading(){this.subscription=this.router.events.pipe((0,sr.h)(E=>E instanceof vo),vt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(E,R){const G=[];for(const re of R){re.providers&&!re._injector&&(re._injector=(0,b.MMx)(re.providers,E,`Route: ${re.path}`));const pe=re._injector??E,je=re._loadedInjector??pe;(re.loadChildren&&!re._loadedRoutes&&void 0===re.canLoad||re.loadComponent&&!re._loadedComponent)&&G.push(this.preloadConfig(pe,re)),(re.children||re._loadedRoutes)&&G.push(this.processRoutes(je,re.children??re._loadedRoutes))}return(0,l.D)(G).pipe((0,Ee.J)())}preloadConfig(E,R){return this.preloadingStrategy.preload(R,()=>{let G;G=R.loadChildren&&void 0===R.canLoad?this.loader.loadChildren(E,R):(0,le.of)(null);const re=G.pipe((0,xe.z)(pe=>null===pe?(0,le.of)(void 0):(R._loadedRoutes=pe.routes,R._loadedInjector=pe.injector,this.processRoutes(pe.injector??E,pe.routes))));if(R.loadComponent&&!R._loadedComponent){const pe=this.loader.loadComponent(R);return(0,l.D)([re,pe]).pipe((0,Ee.J)())}return re})}static#e=this.\u0275fac=function(R){return new(R||D)(b.LFG(ts),b.LFG(b.Sil),b.LFG(b.lqb),b.LFG(ql),b.LFG(Ln))};static#t=this.\u0275prov=b.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})();const Wr=new b.OlP("");let $c=(()=>{class D{constructor(E,R,G,re,pe={}){this.urlSerializer=E,this.transitions=R,this.viewportScroller=G,this.zone=re,this.options=pe,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},pe.scrollPositionRestoration=pe.scrollPositionRestoration||"disabled",pe.anchorScrolling=pe.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(E=>{E instanceof Jr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=E.navigationTrigger,this.restoredId=E.restoredState?E.restoredState.navigationId:0):E instanceof vo?(this.lastId=E.id,this.scheduleScrollEvent(E,this.urlSerializer.parse(E.urlAfterRedirects).fragment)):E instanceof si&&0===E.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(E,this.urlSerializer.parse(E.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(E=>{E instanceof oa&&(E.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(E.position):E.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(E.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(E,R){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new oa(E,"popstate"===this.lastSource?this.store[this.restoredId]:null,R))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(R){b.$Z()};static#t=this.\u0275prov=b.Yz7({token:D,factory:D.\u0275fac})}return D})();function hn(D,M){return{\u0275kind:D,\u0275providers:M}}function _u(){const D=(0,b.f3M)(b.zs3);return M=>{const E=D.get(b.z2F);if(M!==E.components[0])return;const R=D.get(ts),G=D.get(vu);1===D.get(ca)&&R.initialNavigation(),D.get(ku,null,b.XFs.Optional)?.setUpPreloading(),D.get(Wr,null,b.XFs.Optional)?.init(),R.resetRootComponentType(E.componentTypes[0]),G.closed||(G.next(),G.complete(),G.unsubscribe())}}const vu=new b.OlP("",{factory:()=>new An.x}),ca=new b.OlP("",{providedIn:"root",factory:()=>1}),ku=new b.OlP("");function Fu(D){return hn(0,[{provide:ku,useExisting:xh},{provide:ql,useExisting:D}])}const ll=new b.OlP("ROUTER_FORROOT_GUARD"),Wc=[ct.Ye,{provide:We,useClass:yt},ts,Br,{provide:nr,useFactory:function io(D){return D.routerState.root},deps:[ts]},Ln,[]];function ns(){return new b.PXZ("Router",ts)}let dl=(()=>{class D{constructor(E){}static forRoot(E,R){return{ngModule:D,providers:[Wc,[],{provide:Xn,multi:!0,useValue:E},{provide:ll,useFactory:ac,deps:[[ts,new b.FiY,new b.tp0]]},{provide:$a,useValue:R||{}},R?.useHash?{provide:ct.S$,useClass:ct.Do}:{provide:ct.S$,useClass:ct.b0},{provide:Wr,useFactory:()=>{const D=(0,b.f3M)(ct.EM),M=(0,b.f3M)(b.R0b),E=(0,b.f3M)($a),R=(0,b.f3M)(wo),G=(0,b.f3M)(We);return E.scrollOffset&&D.setOffset(E.scrollOffset),new $c(G,R,D,M,E)}},R?.preloadingStrategy?Fu(R.preloadingStrategy).\u0275providers:[],{provide:b.PXZ,multi:!0,useFactory:ns},R?.initialNavigation?Fo(R):[],R?.bindToComponentInputs?hn(8,[Mo,{provide:Cn,useExisting:Mo}]).\u0275providers:[],[{provide:Zs,useFactory:_u},{provide:b.tb,multi:!0,useExisting:Zs}]]}}static forChild(E){return{ngModule:D,providers:[{provide:Xn,multi:!0,useValue:E}]}}static#e=this.\u0275fac=function(R){return new(R||D)(b.LFG(ll,8))};static#t=this.\u0275mod=b.oAB({type:D});static#n=this.\u0275inj=b.cJS({})}return D})();function ac(D){return"guarded"}function Fo(D){return["disabled"===D.initialNavigation?hn(3,[{provide:b.ip1,multi:!0,useFactory:()=>{const M=(0,b.f3M)(ts);return()=>{M.setUpLocationChangeListener()}}},{provide:ca,useValue:2}]).\u0275providers:[],"enabledBlocking"===D.initialNavigation?hn(2,[{provide:ca,useValue:0},{provide:b.ip1,multi:!0,deps:[b.zs3],useFactory:M=>{const E=M.get(ct.V_,Promise.resolve());return()=>E.then(()=>new Promise(R=>{const G=M.get(ts),re=M.get(vu);jc(G,()=>{R(!0)}),M.get(wo).afterPreactivation=()=>(R(!0),re.closed?(0,le.of)(void 0):re),G.initialNavigation()}))}}]).\u0275providers:[]]}const Zs=new b.OlP("")},4303:(Ht,$e,Y)=>{Y.d($e,{Jn:()=>ar,KN:()=>gt,Mq:()=>Ee,Xd:()=>xt,ZF:()=>Tr,qX:()=>Bt});var b=Y(5861),se=Y(4537),ge=Y(7879),fe=Y(9058),l=Y(1878);class le{constructor(De){this.container=De}getPlatformInfoString(){return this.container.getProviders().map(We=>{if(function ve(et){const De=et.getComponent();return"VERSION"===De?.type}(We)){const yt=We.getImmediate();return`${yt.library}/${yt.version}`}return null}).filter(We=>We).join(" ")}}const Be="@firebase/app",ae=new ge.Yd("@firebase/app"),xe="[DEFAULT]",He={[Be]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Je=new Map,Le=new Map;function tt(et,De){try{et.container.addComponent(De)}catch(We){ae.debug(`Component ${De.name} failed to register with FirebaseApp ${et.name}`,We)}}function xt(et){const De=et.name;if(Le.has(De))return ae.debug(`There were multiple attempts to register component ${De}.`),!1;Le.set(De,et);for(const We of Je.values())tt(We,et);return!0}function Bt(et,De){const We=et.container.getProvider("heartbeat").getImmediate({optional:!0});return We&&We.triggerHeartbeat(),et.container.getProvider(De)}const wt=new fe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Fn{constructor(De,We,yt){this._isDeleted=!1,this._options=Object.assign({},De),this._config=Object.assign({},We),this._name=We.name,this._automaticDataCollectionEnabled=We.automaticDataCollectionEnabled,this._container=yt,this.container.addComponent(new se.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(De){this.checkDestroyed(),this._automaticDataCollectionEnabled=De}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(De){this._isDeleted=De}checkDestroyed(){if(this.isDeleted)throw wt.create("app-deleted",{appName:this._name})}}const ar="10.9.0";function Tr(et,De={}){let We=et;"object"!=typeof De&&(De={name:De});const yt=Object.assign({name:xe,automaticDataCollectionEnabled:!1},De),jt=yt.name;if("string"!=typeof jt||!jt)throw wt.create("bad-app-name",{appName:String(jt)});if(We||(We=(0,fe.aH)()),!We)throw wt.create("no-options");const $t=Je.get(jt);if($t){if((0,fe.vZ)(We,$t.options)&&(0,fe.vZ)(yt,$t.config))return $t;throw wt.create("duplicate-app",{appName:jt})}const kn=new se.H0(jt);for(const L of Le.values())kn.addComponent(L);const Z=new Fn(We,yt,kn);return Je.set(jt,Z),Z}function Ee(et=xe){const De=Je.get(et);if(!De&&et===xe&&(0,fe.aH)())return Tr();if(!De)throw wt.create("no-app",{appName:et});return De}function gt(et,De,We){var yt;let jt=null!==(yt=He[et])&&void 0!==yt?yt:et;We&&(jt+=`-${We}`);const $t=jt.match(/\s|\//),kn=De.match(/\s|\//);if($t||kn){const Z=[`Unable to register library "${jt}" with version "${De}":`];return $t&&Z.push(`library name "${jt}" contains illegal characters (whitespace or "/")`),$t&&kn&&Z.push("and"),kn&&Z.push(`version name "${De}" contains illegal characters (whitespace or "/")`),void ae.warn(Z.join(" "))}xt(new se.wA(`${jt}-version`,()=>({library:jt,version:De}),"VERSION"))}const yn="firebase-heartbeat-database",tn=1,zt="firebase-heartbeat-store";let gn=null;function Bn(){return gn||(gn=(0,l.X3)(yn,tn,{upgrade:(et,De)=>{if(0===De)try{et.createObjectStore(zt)}catch(We){console.warn(We)}}}).catch(et=>{throw wt.create("idb-open",{originalErrorMessage:et.message})})),gn}function mr(){return(mr=(0,b.Z)(function*(et){try{const We=(yield Bn()).transaction(zt),yt=yield We.objectStore(zt).get(Wn(et));return yield We.done,yt}catch(De){if(De instanceof fe.ZR)ae.warn(De.message);else{const We=wt.create("idb-get",{originalErrorMessage:De?.message});ae.warn(We.message)}}})).apply(this,arguments)}function dr(et,De){return ln.apply(this,arguments)}function ln(){return(ln=(0,b.Z)(function*(et,De){try{const yt=(yield Bn()).transaction(zt,"readwrite");yield yt.objectStore(zt).put(De,Wn(et)),yield yt.done}catch(We){if(We instanceof fe.ZR)ae.warn(We.message);else{const yt=wt.create("idb-set",{originalErrorMessage:We?.message});ae.warn(yt.message)}}})).apply(this,arguments)}function Wn(et){return`${et.name}!${et.options.appId}`}class Pn{constructor(De){this.container=De,this._heartbeatsCache=null;const We=this.container.getProvider("app").getImmediate();this._storage=new Un(We),this._heartbeatsCachePromise=this._storage.read().then(yt=>(this._heartbeatsCache=yt,yt))}triggerHeartbeat(){var De=this;return(0,b.Z)(function*(){var We,yt;const $t=De.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),kn=ni();if((null!=(null===(We=De._heartbeatsCache)||void 0===We?void 0:We.heartbeats)||(De._heartbeatsCache=yield De._heartbeatsCachePromise,null!=(null===(yt=De._heartbeatsCache)||void 0===yt?void 0:yt.heartbeats)))&&De._heartbeatsCache.lastSentHeartbeatDate!==kn&&!De._heartbeatsCache.heartbeats.some(Z=>Z.date===kn))return De._heartbeatsCache.heartbeats.push({date:kn,agent:$t}),De._heartbeatsCache.heartbeats=De._heartbeatsCache.heartbeats.filter(Z=>{const L=new Date(Z.date).valueOf();return Date.now()-L<=2592e6}),De._storage.overwrite(De._heartbeatsCache)})()}getHeartbeatsHeader(){var De=this;return(0,b.Z)(function*(){var We;if(null===De._heartbeatsCache&&(yield De._heartbeatsCachePromise),null==(null===(We=De._heartbeatsCache)||void 0===We?void 0:We.heartbeats)||0===De._heartbeatsCache.heartbeats.length)return"";const yt=ni(),{heartbeatsToSend:jt,unsentEntries:$t}=function Tn(et,De=1024){const We=[];let yt=et.slice();for(const jt of et){const $t=We.find(kn=>kn.agent===jt.agent);if($t){if($t.dates.push(jt.date),br(We)>De){$t.dates.pop();break}}else if(We.push({agent:jt.agent,dates:[jt.date]}),br(We)>De){We.pop();break}yt=yt.slice(1)}return{heartbeatsToSend:We,unsentEntries:yt}}(De._heartbeatsCache.heartbeats),kn=(0,fe.L)(JSON.stringify({version:2,heartbeats:jt}));return De._heartbeatsCache.lastSentHeartbeatDate=yt,$t.length>0?(De._heartbeatsCache.heartbeats=$t,yield De._storage.overwrite(De._heartbeatsCache)):(De._heartbeatsCache.heartbeats=[],De._storage.overwrite(De._heartbeatsCache)),kn})()}}function ni(){return(new Date).toISOString().substring(0,10)}class Un{constructor(De){this.app=De,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,b.Z)(function*(){return!!(0,fe.hl)()&&(0,fe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var De=this;return(0,b.Z)(function*(){if(yield De._canUseIndexedDBPromise){const yt=yield function Kt(et){return mr.apply(this,arguments)}(De.app);return yt?.heartbeats?yt:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(De){var We=this;return(0,b.Z)(function*(){var yt;if(yield We._canUseIndexedDBPromise){const $t=yield We.read();return dr(We.app,{lastSentHeartbeatDate:null!==(yt=De.lastSentHeartbeatDate)&&void 0!==yt?yt:$t.lastSentHeartbeatDate,heartbeats:De.heartbeats})}})()}add(De){var We=this;return(0,b.Z)(function*(){var yt;if(yield We._canUseIndexedDBPromise){const $t=yield We.read();return dr(We.app,{lastSentHeartbeatDate:null!==(yt=De.lastSentHeartbeatDate)&&void 0!==yt?yt:$t.lastSentHeartbeatDate,heartbeats:[...$t.heartbeats,...De.heartbeats]})}})()}}function br(et){return(0,fe.L)(JSON.stringify({version:2,heartbeats:et})).length}!function ri(et){xt(new se.wA("platform-logger",De=>new le(De),"PRIVATE")),xt(new se.wA("heartbeat",De=>new Pn(De),"PRIVATE")),gt(Be,"0.9.29",et),gt(Be,"0.9.29","esm2017"),gt("fire-js","")}("")},4537:(Ht,$e,Y)=>{Y.d($e,{H0:()=>Be,wA:()=>ge});var b=Y(5861),se=Y(9058);class ge{constructor(ae,ce,Ce){this.name=ae,this.instanceFactory=ce,this.type=Ce,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ae){return this.instantiationMode=ae,this}setMultipleInstances(ae){return this.multipleInstances=ae,this}setServiceProps(ae){return this.serviceProps=ae,this}setInstanceCreatedCallback(ae){return this.onInstanceCreated=ae,this}}const fe="[DEFAULT]";class l{constructor(ae,ce){this.name=ae,this.container=ce,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ae){const ce=this.normalizeInstanceIdentifier(ae);if(!this.instancesDeferred.has(ce)){const Ce=new se.BH;if(this.instancesDeferred.set(ce,Ce),this.isInitialized(ce)||this.shouldAutoInitialize())try{const Xe=this.getOrInitializeService({instanceIdentifier:ce});Xe&&Ce.resolve(Xe)}catch{}}return this.instancesDeferred.get(ce).promise}getImmediate(ae){var ce;const Ce=this.normalizeInstanceIdentifier(ae?.identifier),Xe=null!==(ce=ae?.optional)&&void 0!==ce&&ce;if(!this.isInitialized(Ce)&&!this.shouldAutoInitialize()){if(Xe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ce})}catch(Re){if(Xe)return null;throw Re}}getComponent(){return this.component}setComponent(ae){if(ae.name!==this.name)throw Error(`Mismatching Component ${ae.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ae,this.shouldAutoInitialize()){if(function ve(Se){return"EAGER"===Se.instantiationMode}(ae))try{this.getOrInitializeService({instanceIdentifier:fe})}catch{}for(const[ce,Ce]of this.instancesDeferred.entries()){const Xe=this.normalizeInstanceIdentifier(ce);try{const Re=this.getOrInitializeService({instanceIdentifier:Xe});Ce.resolve(Re)}catch{}}}}clearInstance(ae=fe){this.instancesDeferred.delete(ae),this.instancesOptions.delete(ae),this.instances.delete(ae)}delete(){var ae=this;return(0,b.Z)(function*(){const ce=Array.from(ae.instances.values());yield Promise.all([...ce.filter(Ce=>"INTERNAL"in Ce).map(Ce=>Ce.INTERNAL.delete()),...ce.filter(Ce=>"_delete"in Ce).map(Ce=>Ce._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ae=fe){return this.instances.has(ae)}getOptions(ae=fe){return this.instancesOptions.get(ae)||{}}initialize(ae={}){const{options:ce={}}=ae,Ce=this.normalizeInstanceIdentifier(ae.instanceIdentifier);if(this.isInitialized(Ce))throw Error(`${this.name}(${Ce}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Xe=this.getOrInitializeService({instanceIdentifier:Ce,options:ce});for(const[Re,it]of this.instancesDeferred.entries())Ce===this.normalizeInstanceIdentifier(Re)&&it.resolve(Xe);return Xe}onInit(ae,ce){var Ce;const Xe=this.normalizeInstanceIdentifier(ce),Re=null!==(Ce=this.onInitCallbacks.get(Xe))&&void 0!==Ce?Ce:new Set;Re.add(ae),this.onInitCallbacks.set(Xe,Re);const it=this.instances.get(Xe);return it&&ae(it,Xe),()=>{Re.delete(ae)}}invokeOnInitCallbacks(ae,ce){const Ce=this.onInitCallbacks.get(ce);if(Ce)for(const Xe of Ce)try{Xe(ae,ce)}catch{}}getOrInitializeService({instanceIdentifier:ae,options:ce={}}){let Ce=this.instances.get(ae);if(!Ce&&this.component&&(Ce=this.component.instanceFactory(this.container,{instanceIdentifier:(Se=ae,Se===fe?void 0:Se),options:ce}),this.instances.set(ae,Ce),this.instancesOptions.set(ae,ce),this.invokeOnInitCallbacks(Ce,ae),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ae,Ce)}catch{}var Se;return Ce||null}normalizeInstanceIdentifier(ae=fe){return this.component?this.component.multipleInstances?ae:fe:ae}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Be{constructor(ae){this.name=ae,this.providers=new Map}addComponent(ae){const ce=this.getProvider(ae.name);if(ce.isComponentSet())throw new Error(`Component ${ae.name} has already been registered with ${this.name}`);ce.setComponent(ae)}addOrOverwriteComponent(ae){this.getProvider(ae.name).isComponentSet()&&this.providers.delete(ae.name),this.addComponent(ae)}getProvider(ae){if(this.providers.has(ae))return this.providers.get(ae);const ce=new l(ae,this);return this.providers.set(ae,ce),ce}getProviders(){return Array.from(this.providers.values())}}},7879:(Ht,$e,Y)=>{Y.d($e,{Yd:()=>ve,in:()=>se});const b=[];var se=function(ae){return ae[ae.DEBUG=0]="DEBUG",ae[ae.VERBOSE=1]="VERBOSE",ae[ae.INFO=2]="INFO",ae[ae.WARN=3]="WARN",ae[ae.ERROR=4]="ERROR",ae[ae.SILENT=5]="SILENT",ae}(se||{});const ge={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},fe=se.INFO,l={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},le=(ae,ce,...Ce)=>{if(ce<ae.logLevel)return;const Xe=(new Date).toISOString(),Re=l[ce];if(!Re)throw new Error(`Attempted to log a message with an invalid logType (value: ${ce})`);console[Re](`[${Xe}]  ${ae.name}:`,...Ce)};class ve{constructor(ce){this.name=ce,this._logLevel=fe,this._logHandler=le,this._userLogHandler=null,b.push(this)}get logLevel(){return this._logLevel}set logLevel(ce){if(!(ce in se))throw new TypeError(`Invalid value "${ce}" assigned to \`logLevel\``);this._logLevel=ce}setLogLevel(ce){this._logLevel="string"==typeof ce?ge[ce]:ce}get logHandler(){return this._logHandler}set logHandler(ce){if("function"!=typeof ce)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ce}get userLogHandler(){return this._userLogHandler}set userLogHandler(ce){this._userLogHandler=ce}debug(...ce){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...ce),this._logHandler(this,se.DEBUG,...ce)}log(...ce){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...ce),this._logHandler(this,se.VERBOSE,...ce)}info(...ce){this._userLogHandler&&this._userLogHandler(this,se.INFO,...ce),this._logHandler(this,se.INFO,...ce)}warn(...ce){this._userLogHandler&&this._userLogHandler(this,se.WARN,...ce),this._logHandler(this,se.WARN,...ce)}error(...ce){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...ce),this._logHandler(this,se.ERROR,...ce)}}},1878:(Ht,$e,Y)=>{Y.d($e,{X3:()=>Mt});var b=Y(5861);const se=(ye,Qe)=>Qe.some(ht=>ye instanceof ht);let ge,fe;const ve=new WeakMap,Be=new WeakMap,Se=new WeakMap,ae=new WeakMap,ce=new WeakMap;let Re={get(ye,Qe,ht){if(ye instanceof IDBTransaction){if("done"===Qe)return Be.get(ye);if("objectStoreNames"===Qe)return ye.objectStoreNames||Se.get(ye);if("store"===Qe)return ht.objectStoreNames[1]?void 0:ht.objectStore(ht.objectStoreNames[0])}return Ft(ye[Qe])},set:(ye,Qe,ht)=>(ye[Qe]=ht,!0),has:(ye,Qe)=>ye instanceof IDBTransaction&&("done"===Qe||"store"===Qe)||Qe in ye};function Lt(ye){return"function"==typeof ye?function Ct(ye){return ye!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function le(){return fe||(fe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ye)?function(...Qe){return ye.apply(wn(this),Qe),Ft(ve.get(this))}:function(...Qe){return Ft(ye.apply(wn(this),Qe))}:function(Qe,...ht){const An=ye.call(wn(this),Qe,...ht);return Se.set(An,Qe.sort?Qe.sort():[Qe]),Ft(An)}}(ye):(ye instanceof IDBTransaction&&function Xe(ye){if(Be.has(ye))return;const Qe=new Promise((ht,An)=>{const ct=()=>{ye.removeEventListener("complete",sn),ye.removeEventListener("error",mn),ye.removeEventListener("abort",mn)},sn=()=>{ht(),ct()},mn=()=>{An(ye.error||new DOMException("AbortError","AbortError")),ct()};ye.addEventListener("complete",sn),ye.addEventListener("error",mn),ye.addEventListener("abort",mn)});Be.set(ye,Qe)}(ye),se(ye,function l(){return ge||(ge=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ye,Re):ye)}function Ft(ye){if(ye instanceof IDBRequest)return function Ce(ye){const Qe=new Promise((ht,An)=>{const ct=()=>{ye.removeEventListener("success",sn),ye.removeEventListener("error",mn)},sn=()=>{ht(Ft(ye.result)),ct()},mn=()=>{An(ye.error),ct()};ye.addEventListener("success",sn),ye.addEventListener("error",mn)});return Qe.then(ht=>{ht instanceof IDBCursor&&ve.set(ht,ye)}).catch(()=>{}),ce.set(Qe,ye),Qe}(ye);if(ae.has(ye))return ae.get(ye);const Qe=Lt(ye);return Qe!==ye&&(ae.set(ye,Qe),ce.set(Qe,ye)),Qe}const wn=ye=>ce.get(ye);function Mt(ye,Qe,{blocked:ht,upgrade:An,blocking:ct,terminated:sn}={}){const mn=indexedDB.open(ye,Qe),Rn=Ft(mn);return An&&mn.addEventListener("upgradeneeded",zn=>{An(Ft(mn.result),zn.oldVersion,zn.newVersion,Ft(mn.transaction),zn)}),ht&&mn.addEventListener("blocked",zn=>ht(zn.oldVersion,zn.newVersion,zn)),Rn.then(zn=>{sn&&zn.addEventListener("close",()=>sn()),ct&&zn.addEventListener("versionchange",sr=>ct(sr.oldVersion,sr.newVersion,sr))}).catch(()=>{}),Rn}const ot=["get","getKey","getAll","getAllKeys","count"],mt=["put","add","delete","clear"],pt=new Map;function Ue(ye,Qe){if(!(ye instanceof IDBDatabase)||Qe in ye||"string"!=typeof Qe)return;if(pt.get(Qe))return pt.get(Qe);const ht=Qe.replace(/FromIndex$/,""),An=Qe!==ht,ct=mt.includes(ht);if(!(ht in(An?IDBIndex:IDBObjectStore).prototype)||!ct&&!ot.includes(ht))return;const sn=function(){var mn=(0,b.Z)(function*(Rn,...zn){const sr=this.transaction(Rn,ct?"readwrite":"readonly");let xe=sr.store;return An&&(xe=xe.index(zn.shift())),(yield Promise.all([xe[ht](...zn),ct&&sr.done]))[0]});return function(zn){return mn.apply(this,arguments)}}();return pt.set(Qe,sn),sn}!function it(ye){Re=ye(Re)}(ye=>({...ye,get:(Qe,ht,An)=>Ue(Qe,ht)||ye.get(Qe,ht,An),has:(Qe,ht)=>!!Ue(Qe,ht)||ye.has(Qe,ht)}))},5861:(Ht,$e,Y)=>{function b(ge,fe,l,le,ve,Be,Se){try{var ae=ge[Be](Se),ce=ae.value}catch(Ce){return void l(Ce)}ae.done?fe(ce):Promise.resolve(ce).then(le,ve)}function se(ge){return function(){var fe=this,l=arguments;return new Promise(function(le,ve){var Be=ge.apply(fe,l);function Se(ce){b(Be,le,ve,Se,ae,"next",ce)}function ae(ce){b(Be,le,ve,Se,ae,"throw",ce)}Se(void 0)})}}Y.d($e,{Z:()=>se})},7582:(Ht,$e,Y)=>{function fe(xe,He){var Je={};for(var Le in xe)Object.prototype.hasOwnProperty.call(xe,Le)&&He.indexOf(Le)<0&&(Je[Le]=xe[Le]);if(null!=xe&&"function"==typeof Object.getOwnPropertySymbols){var tt=0;for(Le=Object.getOwnPropertySymbols(xe);tt<Le.length;tt++)He.indexOf(Le[tt])<0&&Object.prototype.propertyIsEnumerable.call(xe,Le[tt])&&(Je[Le[tt]]=xe[Le[tt]])}return Je}function Ce(xe,He,Je,Le){return new(Je||(Je=Promise))(function(vt,xt){function Bt(on){try{fn(Le.next(on))}catch(wt){xt(wt)}}function an(on){try{fn(Le.throw(on))}catch(wt){xt(wt)}}function fn(on){on.done?vt(on.value):function tt(vt){return vt instanceof Je?vt:new Je(function(xt){xt(vt)})}(on.value).then(Bt,an)}fn((Le=Le.apply(xe,He||[])).next())})}function ft(xe){return this instanceof ft?(this.v=xe,this):new ft(xe)}function ot(xe,He,Je){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var tt,Le=Je.apply(xe,He||[]),vt=[];return tt={},xt("next"),xt("throw"),xt("return"),tt[Symbol.asyncIterator]=function(){return this},tt;function xt(Fn){Le[Fn]&&(tt[Fn]=function(ar){return new Promise(function(Tr,Ee){vt.push([Fn,ar,Tr,Ee])>1||Bt(Fn,ar)})})}function Bt(Fn,ar){try{!function an(Fn){Fn.value instanceof ft?Promise.resolve(Fn.value.v).then(fn,on):wt(vt[0][2],Fn)}(Le[Fn](ar))}catch(Tr){wt(vt[0][3],Tr)}}function fn(Fn){Bt("next",Fn)}function on(Fn){Bt("throw",Fn)}function wt(Fn,ar){Fn(ar),vt.shift(),vt.length&&Bt(vt[0][0],vt[0][1])}}function pt(xe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Je,He=xe[Symbol.asyncIterator];return He?He.call(xe):(xe=function Ct(xe){var He="function"==typeof Symbol&&Symbol.iterator,Je=He&&xe[He],Le=0;if(Je)return Je.call(xe);if(xe&&"number"==typeof xe.length)return{next:function(){return xe&&Le>=xe.length&&(xe=void 0),{value:xe&&xe[Le++],done:!xe}}};throw new TypeError(He?"Object is not iterable.":"Symbol.iterator is not defined.")}(xe),Je={},Le("next"),Le("throw"),Le("return"),Je[Symbol.asyncIterator]=function(){return this},Je);function Le(vt){Je[vt]=xe[vt]&&function(xt){return new Promise(function(Bt,an){!function tt(vt,xt,Bt,an){Promise.resolve(an).then(function(fn){vt({value:fn,done:Bt})},xt)}(Bt,an,(xt=xe[vt](xt)).done,xt.value)})}}}Y.d($e,{FC:()=>ot,KL:()=>pt,_T:()=>fe,mG:()=>Ce,qq:()=>ft}),"function"==typeof SuppressedError&&SuppressedError}},Ht=>{var $e=b=>Ht(Ht.s=b);$e(2614),$e(2371)}]);