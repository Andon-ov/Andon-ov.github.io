"use strict";(self.webpackChunkThe_Natural_Way=self.webpackChunkThe_Natural_Way||[]).push([[179],{8726:(Ut,Be,K)=>{K.d(Be,{Ot:()=>be,ZF:()=>Pt,hX:()=>Se,z6:()=>ue});var b=K(4097),ne=K(9468),u=K(559);class be{constructor(at){return at}}class ue{constructor(){return(0,b.C6)()}}const Ve=new ne.OlP("angularfire2._apps"),Oe={provide:be,useFactory:function Te(ft){return ft&&1===ft.length?ft[0]:new be((0,b.Mq)())},deps:[[new ne.FiY,Ve]]},ae={provide:ue,deps:[[new ne.FiY,Ve]]};function de(ft){return(at,vt)=>{const yt=at.runOutsideAngular(()=>ft(vt));return new be(yt)}}let Me=(()=>{class ft{constructor(vt){(0,b.KN)("angularfire",u.q4.full,"core"),(0,b.KN)("angularfire",u.q4.full,"app"),(0,b.KN)("angular",ne.q4F.full,vt.toString())}}return ft.\u0275fac=function(vt){return new(vt||ft)(ne.LFG(ne.Lbi))},ft.\u0275mod=ne.oAB({type:ft}),ft.\u0275inj=ne.cJS({providers:[Oe,ae]}),ft})();function Se(ft,...at){return{ngModule:Me,providers:[{provide:Ve,useFactory:de(ft),multi:!0,deps:[ne.R0b,ne.zs3,u.HU,...at]}]}}const Pt=(0,u.u3)(b.ZF,!0)},3477:(Ut,Be,K)=>{K.d(Be,{gg:()=>FD,ET:()=>lA,Ab:()=>uA,vr:()=>dA,hJ:()=>hA,oe:()=>fA,JU:()=>pA,QT:()=>gA,PL:()=>mA,ad:()=>_A,b9:()=>yA,Xo:()=>vA,Cm:()=>cA,IO:()=>bA,pl:()=>wA,TQ:()=>IA,r7:()=>EA,ar:()=>TA});var b=K(559),ne=K(9468),u=K(8726),be=K(4097),ue=K(5861),fe=K(229),Te=K(7592),Ve=K(7582),Oe=K(7879),ae=K(6820);const Tn=function Pt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Nt=new fe.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),at=new Oe.Yd("@firebase/auth");function yt(n,...e){at.logLevel<=Oe.in.ERROR&&at.error(`Auth (${Te.Jn}): ${n}`,...e)}function Ge(n,...e){throw xn(n,...e)}function we(n,...e){return xn(n,...e)}function xn(n,...e){if("string"!=typeof n){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return Nt.create(n,...e)}function dt(n,e,...t){if(!n)throw xn(e,...t)}function _n(n){const e="INTERNAL ASSERTION FAILED: "+n;throw yt(e),new Error(e)}function Dn(n,e){n||_n(e)}function _r(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class et{constructor(e,t){this.shortDelay=e,this.longDelay=t,Dn(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,fe.uI)()||(0,fe.b$)()}get(){return function ke(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function rr(){return"http:"===_r()||"https:"===_r()}()||(0,fe.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class rt{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void _n("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void _n("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void _n("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const wt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},kt=new et(3e4,6e4);function hn(n,e,t,i){return fn.apply(this,arguments)}function fn(){return(fn=(0,ue.Z)(function*(n,e,t,i,l={}){return yn(n,l,(0,ue.Z)(function*(){let p={},_={};i&&("GET"===e?_=i:p={body:JSON.stringify(i)});const T=(0,fe.xO)(Object.assign({key:n.config.apiKey},_)).slice(1),F=yield n._getAdditionalHeaders();return F["Content-Type"]="application/json",n.languageCode&&(F["X-Firebase-Locale"]=n.languageCode),rt.fetch()(br(n,n.config.apiHost,t,T),Object.assign({method:e,headers:F,referrerPolicy:"no-referrer"},p))}))})).apply(this,arguments)}function yn(n,e,t){return St.apply(this,arguments)}function St(){return(St=(0,ue.Z)(function*(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},wt),e);try{const l=new Ae(n),p=yield Promise.race([t(),l.promise]);l.clearNetworkTimeout();const _=yield p.json();if("needConfirmation"in _)throw Ee(n,"account-exists-with-different-credential",_);if(p.ok&&!("errorMessage"in _))return _;{const T=p.ok?_.errorMessage:_.error.message,[F,H]=T.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===F)throw Ee(n,"credential-already-in-use",_);if("EMAIL_EXISTS"===F)throw Ee(n,"email-already-in-use",_);if("USER_DISABLED"===F)throw Ee(n,"user-disabled",_);const te=i[F]||F.toLowerCase().replace(/[_\s]+/g,"-");if(H)throw function Xe(n,e,t){const i=Object.assign(Object.assign({},Tn()),{[e]:t});return new fe.LL("auth","Firebase",i).create(e,{appName:n.name})}(n,te,H);Ge(n,te)}}catch(l){if(l instanceof fe.ZR)throw l;Ge(n,"network-request-failed",{message:String(l)})}})).apply(this,arguments)}function br(n,e,t,i){const l=`${e}${t}?${i}`;return n.config.emulator?function He(n,e){Dn(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}(n.config,l):`${n.config.apiScheme}://${l}`}class Ae{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(we(this.auth,"network-request-failed")),kt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ee(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const l=we(n,e,i);return l.customData._tokenResponse=t,l}function ut(){return(ut=(0,ue.Z)(function*(n,e){return hn(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function pn(){return(pn=(0,ue.Z)(function*(n,e){return hn(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function In(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function yr(){return(yr=(0,ue.Z)(function*(n,e=!1){const t=(0,fe.m9)(n),i=yield t.getIdToken(e),l=Dr(i);dt(l&&l.exp&&l.auth_time&&l.iat,t.auth,"internal-error");const p="object"==typeof l.firebase?l.firebase:void 0,_=p?.sign_in_provider;return{claims:l,token:i,authTime:In(Xt(l.auth_time)),issuedAtTime:In(Xt(l.iat)),expirationTime:In(Xt(l.exp)),signInProvider:_||null,signInSecondFactor:p?.sign_in_second_factor||null}})).apply(this,arguments)}function Xt(n){return 1e3*Number(n)}function Dr(n){const[e,t,i]=n.split(".");if(void 0===e||void 0===t||void 0===i)return yt("JWT malformed, contained fewer than 3 sections"),null;try{const l=(0,fe.tV)(t);return l?JSON.parse(l):(yt("Failed to decode base64 JWT payload"),null)}catch(l){return yt("Caught error parsing JWT payload as JSON",l?.toString()),null}}function vn(n,e){return or.apply(this,arguments)}function or(){return(or=(0,ue.Z)(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(i){throw i instanceof fe.ZR&&function qn({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})).apply(this,arguments)}class ir{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),i}{this.errorBackoff=3e4;const l=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout((0,ue.Z)(function*(){yield t.iteration()}),i)}iteration(){var e=this;return(0,ue.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class Ln{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=In(this.lastLoginAt),this.creationTime=In(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ni(n){return qt.apply(this,arguments)}function qt(){return qt=(0,ue.Z)(function*(n){var e;const t=n.auth,i=yield n.getIdToken(),l=yield vn(n,function wr(n,e){return pn.apply(this,arguments)}(t,{idToken:i}));dt(l?.users.length,t,"internal-error");const p=l.users[0];n._notifyReloadListener(p);const _=null!==(e=p.providerUserInfo)&&void 0!==e&&e.length?function it(n){return n.map(e=>{var{providerId:t}=e,i=(0,Ve._T)(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}(p.providerUserInfo):[],T=function jr(n,e){return[...n.filter(i=>!e.some(l=>l.providerId===i.providerId)),...e]}(n.providerData,_),te=!!n.isAnonymous&&!(n.email&&p.passwordHash||T?.length),ge={uid:p.localId,displayName:p.displayName||null,photoURL:p.photoUrl||null,email:p.email||null,emailVerified:p.emailVerified||!1,phoneNumber:p.phoneNumber||null,tenantId:p.tenantId||null,providerData:T,metadata:new Ln(p.createdAt,p.lastLoginAt),isAnonymous:te};Object.assign(n,ge)}),qt.apply(this,arguments)}function Zr(){return(Zr=(0,ue.Z)(function*(n){const e=(0,fe.m9)(n);yield ni(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function Qe(){return(Qe=(0,ue.Z)(function*(n,e){const t=yield yn(n,{},(0,ue.Z)(function*(){const i=(0,fe.xO)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:p}=n.config,_=br(n,l,"/v1/token",`key=${p}`),T=yield n._getAdditionalHeaders();return T["Content-Type"]="application/x-www-form-urlencoded",rt.fetch()(_,{method:"POST",headers:T,body:i})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class Et{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){dt(e.idToken,"internal-error"),dt(typeof e.idToken<"u","internal-error"),dt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Cr(n){const e=Dr(n);return dt(e,"internal-error"),dt(typeof e.exp<"u","internal-error"),dt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var i=this;return(0,ue.Z)(function*(){return dt(!i.accessToken||i.refreshToken,e,"user-token-expired"),t||!i.accessToken||i.isExpired?i.refreshToken?(yield i.refresh(e,i.refreshToken),i.accessToken):null:i.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var i=this;return(0,ue.Z)(function*(){const{accessToken:l,refreshToken:p,expiresIn:_}=yield function Ce(n,e){return Qe.apply(this,arguments)}(e,t);i.updateTokensAndExpiration(l,p,Number(_))})()}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(e,t){const{refreshToken:i,accessToken:l,expirationTime:p}=t,_=new Et;return i&&(dt("string"==typeof i,"internal-error",{appName:e}),_.refreshToken=i),l&&(dt("string"==typeof l,"internal-error",{appName:e}),_.accessToken=l),p&&(dt("number"==typeof p,"internal-error",{appName:e}),_.expirationTime=p),_}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Et,this.toJSON())}_performRefresh(){return _n("not implemented")}}function $t(n,e){dt("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class Zt{constructor(e){var{uid:t,auth:i,stsTokenManager:l}=e,p=(0,Ve._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ir(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=p.displayName||null,this.email=p.email||null,this.emailVerified=p.emailVerified||!1,this.phoneNumber=p.phoneNumber||null,this.photoURL=p.photoURL||null,this.isAnonymous=p.isAnonymous||!1,this.tenantId=p.tenantId||null,this.providerData=p.providerData?[...p.providerData]:[],this.metadata=new Ln(p.createdAt||void 0,p.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,ue.Z)(function*(){const i=yield vn(t,t.stsTokenManager.getToken(t.auth,e));return dt(i,t.auth,"internal-error"),t.accessToken!==i&&(t.accessToken=i,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),i})()}getIdTokenResult(e){return function cn(n){return yr.apply(this,arguments)}(this,e)}reload(){return function Yi(n){return Zr.apply(this,arguments)}(this)}_assign(e){this!==e&&(dt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Zt(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){dt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var i=this;return(0,ue.Z)(function*(){let l=!1;e.idToken&&e.idToken!==i.stsTokenManager.accessToken&&(i.stsTokenManager.updateFromServerResponse(e),l=!0),t&&(yield ni(i)),yield i.auth._persistUserIfCurrent(i),l&&i.auth._notifyListenersIfCurrent(i)})()}delete(){var e=this;return(0,ue.Z)(function*(){const t=yield e.getIdToken();return yield vn(e,function Ke(n,e){return ut.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,l,p,_,T,F,H,te;const ge=null!==(i=t.displayName)&&void 0!==i?i:void 0,Ue=null!==(l=t.email)&&void 0!==l?l:void 0,ct=null!==(p=t.phoneNumber)&&void 0!==p?p:void 0,Ft=null!==(_=t.photoURL)&&void 0!==_?_:void 0,sn=null!==(T=t.tenantId)&&void 0!==T?T:void 0,an=null!==(F=t._redirectEventId)&&void 0!==F?F:void 0,Er=null!==(H=t.createdAt)&&void 0!==H?H:void 0,ti=null!==(te=t.lastLoginAt)&&void 0!==te?te:void 0,{uid:Rr,emailVerified:Ko,isAnonymous:Uo,providerData:is,stsTokenManager:Hc}=t;dt(Rr&&Hc,e,"internal-error");const Vg=Et.fromJSON(this.name,Hc);dt("string"==typeof Rr,e,"internal-error"),$t(ge,e.name),$t(Ue,e.name),dt("boolean"==typeof Ko,e,"internal-error"),dt("boolean"==typeof Uo,e,"internal-error"),$t(ct,e.name),$t(Ft,e.name),$t(sn,e.name),$t(an,e.name),$t(Er,e.name),$t(ti,e.name);const tw=new Zt({uid:Rr,auth:e,email:Ue,emailVerified:Ko,displayName:ge,isAnonymous:Uo,photoURL:Ft,phoneNumber:ct,tenantId:sn,stsTokenManager:Vg,createdAt:Er,lastLoginAt:ti});return is&&Array.isArray(is)&&(tw.providerData=is.map(DA=>Object.assign({},DA))),an&&(tw._redirectEventId=an),tw}static _fromIdTokenResponse(e,t,i=!1){return(0,ue.Z)(function*(){const l=new Et;l.updateFromServerResponse(t);const p=new Zt({uid:t.localId,auth:e,stsTokenManager:l,isAnonymous:i});return yield ni(p),p})()}}const Wn=new Map;function Q(n){Dn(n instanceof Function,"Expected a class definition");let e=Wn.get(n);return e?(Dn(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Wn.set(n,e),e)}const G=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,ue.Z)(function*(){return!0})()}_set(t,i){var l=this;return(0,ue.Z)(function*(){l.storage[t]=i})()}_get(t){var i=this;return(0,ue.Z)(function*(){const l=i.storage[t];return void 0===l?null:l})()}_remove(t){var i=this;return(0,ue.Z)(function*(){delete i.storage[t]})()}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})();function W(n,e,t){return`firebase:${n}:${e}:${t}`}class ${constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:l,name:p}=this.auth;this.fullUserKey=W(this.userKey,l.apiKey,p),this.fullPersistenceKey=W("persistence",l.apiKey,p),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,ue.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Zt._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,ue.Z)(function*(){if(t.persistence===e)return;const i=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,i?t.setCurrentUser(i):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return(0,ue.Z)(function*(){if(!t.length)return new $(Q(G),e,i);const l=(yield Promise.all(t.map(function(){var H=(0,ue.Z)(function*(te){if(yield te._isAvailable())return te});return function(te){return H.apply(this,arguments)}}()))).filter(H=>H);let p=l[0]||Q(G);const _=W(i,e.config.apiKey,e.name);let T=null;for(const H of t)try{const te=yield H._get(_);if(te){const ge=Zt._fromJSON(e,te);H!==p&&(T=ge),p=H;break}}catch{}const F=l.filter(H=>H._shouldAllowMigration);return p._shouldAllowMigration&&F.length?(p=F[0],T&&(yield p._set(_,T.toJSON())),yield Promise.all(t.map(function(){var H=(0,ue.Z)(function*(te){if(te!==p)try{yield te._remove(_)}catch{}});return function(te){return H.apply(this,arguments)}}())),new $(p,e,i)):new $(p,e,i)})()}}function Ie(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function ln(n=(0,fe.z$)()){return/iemobile/i.test(n)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function We(n=(0,fe.z$)()){return/firefox\//i.test(n)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function Qt(n=(0,fe.z$)()){return/blackberry/i.test(n)}(e))return"Blackberry";if(function Pn(n=(0,fe.z$)()){return/webos/i.test(n)}(e))return"Webos";if(function Tt(n=(0,fe.z$)()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function on(n=(0,fe.z$)()){return/crios\//i.test(n)}(e))&&!e.includes("edge/"))return"Chrome";if(function Rn(n=(0,fe.z$)()){return/android/i.test(n)}(e))return"Android";{const i=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===i?.length)return i[1]}return"Other"}function Ha(n,e=[]){let t;switch(n){case"Browser":t=Ie((0,fe.z$)());break;case"Worker":t=`${Ie((0,fe.z$)())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Te.Jn}/${i}`}function po(n,e){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,ue.Z)(function*(n,e){return hn(n,"GET","/v2/recaptchaConfig",function Gt(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}(n,e))})).apply(this,arguments)}function tr(n){return void 0!==n&&void 0!==n.enterprise}class go{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}class Us{constructor(e){this.type="recaptcha-enterprise",this.auth=yi(e)}verify(e="verify",t=!1){var i=this;return(0,ue.Z)(function*(){function p(){return p=(0,ue.Z)(function*(T){if(!t){if(null==T.tenantId&&null!=T._agentRecaptchaConfig)return T._agentRecaptchaConfig.siteKey;if(null!=T.tenantId&&void 0!==T._tenantRecaptchaConfigs[T.tenantId])return T._tenantRecaptchaConfigs[T.tenantId].siteKey}return new Promise(function(){var F=(0,ue.Z)(function*(H,te){po(T,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(ge=>{if(void 0!==ge.recaptchaKey){const Ue=new go(ge);return null==T.tenantId?T._agentRecaptchaConfig=Ue:T._tenantRecaptchaConfigs[T.tenantId]=Ue,H(Ue.siteKey)}te(new Error("recaptcha Enterprise site key undefined"))}).catch(ge=>{te(ge)})});return function(H,te){return F.apply(this,arguments)}}())}),p.apply(this,arguments)}function _(T,F,H){const te=window.grecaptcha;tr(te)?te.enterprise.ready(()=>{te.enterprise.execute(T,{action:e}).then(ge=>{F(ge)}).catch(()=>{F("NO_RECAPTCHA")})}):H(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((T,F)=>{(function l(T){return p.apply(this,arguments)})(i.auth).then(H=>{if(!t&&tr(window.grecaptcha))_(H,T,F);else{if(typeof window>"u")return void F(new Error("RecaptchaVerifier is only supported in browser"));(function Qo(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=l=>{const p=we("internal-error");p.customData=l,t(p)},i.type="text/javascript",i.charset="UTF-8",function Yo(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(i)})})("https://www.google.com/recaptcha/enterprise.js?render="+H).then(()=>{_(H,T,F)}).catch(te=>{F(te)})}}).catch(H=>{F(H)})})})()}}class mo{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=p=>new Promise((_,T)=>{try{_(e(p))}catch(F){T(F)}});i.onAbort=t,this.queue.push(i);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return(0,ue.Z)(function*(){if(t.auth.currentUser===e)return;const i=[];try{for(const l of t.queue)yield l(e),l.onAbort&&i.push(l.onAbort)}catch(l){i.reverse();for(const p of i)try{p()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:l?.message})}})()}}class _a{constructor(e,t,i,l){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ya(this),this.idTokenSubscription=new ya(this),this.beforeStateQueue=new mo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Nt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion}_initializeWithPersistence(e,t){var i=this;return t&&(this._popupRedirectResolver=Q(t)),this._initializationPromise=this.queue((0,ue.Z)(function*(){var l,p;if(!i._deleted&&(i.persistenceManager=yield $.create(i,e),!i._deleted)){if(null!==(l=i._popupRedirectResolver)&&void 0!==l&&l._shouldInitProactively)try{yield i._popupRedirectResolver._initialize(i)}catch{}yield i.initializeCurrentUser(t),i.lastNotifiedUid=(null===(p=i.currentUser)||void 0===p?void 0:p.uid)||null,!i._deleted&&(i._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,ue.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return(0,ue.Z)(function*(){var i;const l=yield t.assertedPersistence.getCurrentUser();let p=l,_=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const T=null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId,F=p?._redirectEventId,H=yield t.tryRedirectSignIn(e);(!T||T===F)&&H?.user&&(p=H.user,_=!0)}if(!p)return t.directlySetCurrentUser(null);if(!p._redirectEventId){if(_)try{yield t.beforeStateQueue.runMiddleware(p)}catch(T){p=l,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(T))}return p?t.reloadAndSetCurrentUserOrClear(p):t.directlySetCurrentUser(null)}return dt(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===p._redirectEventId?t.directlySetCurrentUser(p):t.reloadAndSetCurrentUserOrClear(p)})()}tryRedirectSignIn(e){var t=this;return(0,ue.Z)(function*(){let i=null;try{i=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return i})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,ue.Z)(function*(){try{yield ni(e)}catch(i){if("auth/network-request-failed"!==i?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function je(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return(0,ue.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,ue.Z)(function*(){const i=e?(0,fe.m9)(e):null;return i&&dt(i.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(i&&i._clone(t))})()}_updateCurrentUser(e,t=!1){var i=this;return(0,ue.Z)(function*(){if(!i._deleted)return e&&dt(i.tenantId===e.tenantId,i,"tenant-id-mismatch"),t||(yield i.beforeStateQueue.runMiddleware(e)),i.queue((0,ue.Z)(function*(){yield i.directlySetCurrentUser(e),i.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,ue.Z)(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue((0,ue.Z)(function*(){yield t.assertedPersistence.setPersistence(Q(e))}))}initializeRecaptchaConfig(){var e=this;return(0,ue.Z)(function*(){const t=yield po(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),i=new go(t);null==e.tenantId?e._agentRecaptchaConfig=i:e._tenantRecaptchaConfigs[e.tenantId]=i,i.emailPasswordEnabled&&new Us(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new fe.LL("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var i=this;return(0,ue.Z)(function*(){const l=yield i.getOrInitRedirectPersistenceManager(t);return null===e?l.removeCurrentUser():l.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,ue.Z)(function*(){if(!t.redirectPersistenceManager){const i=e&&Q(e)||t._popupRedirectResolver;dt(i,t,"argument-error"),t.redirectPersistenceManager=yield $.create(t,[Q(i._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,ue.Z)(function*(){var i,l;return t._isInitialized&&(yield t.queue((0,ue.Z)(function*(){}))),(null===(i=t._currentUser)||void 0===i?void 0:i._redirectEventId)===e?t._currentUser:(null===(l=t.redirectUser)||void 0===l?void 0:l._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,ue.Z)(function*(){if(e===t.currentUser)return t.queue((0,ue.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,l){if(this._deleted)return()=>{};const p="function"==typeof t?t:t.next.bind(t),_=this._isInitialized?Promise.resolve():this._initializationPromise;return dt(_,this,"internal-error"),_.then(()=>p(this.currentUser)),"function"==typeof t?e.addObserver(t,i,l):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return(0,ue.Z)(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return dt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ha(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,ue.Z)(function*(){var t;const i={"X-Client-Version":e.clientVersion};e.app.options.appId&&(i["X-Firebase-gmpid"]=e.app.options.appId);const l=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();l&&(i["X-Firebase-Client"]=l);const p=yield e._getAppCheckToken();return p&&(i["X-Firebase-AppCheck"]=p),i})()}_getAppCheckToken(){var e=this;return(0,ue.Z)(function*(){var t;const i=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return i?.error&&function vt(n,...e){at.logLevel<=Oe.in.WARN&&at.warn(`Auth (${Te.Jn}): ${n}`,...e)}(`Error while retrieving App Check token: ${i.error}`),i?.token})()}}function yi(n){return(0,fe.m9)(n)}class ya{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,fe.ne)(t=>this.observer=t)}get next(){return dt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function Ga(n){return`__${n}${Math.floor(1e6*Math.random())}`})("rcb"),new et(3e4,6e4),new et(2e3,1e4),new et(3e4,6e4),new et(5e3,15e3),encodeURIComponent("fac");var B_="@firebase/auth";class m0{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,ue.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){dt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,fe.Pz)("authIdTokenMaxAge"),function ua(n){(0,Te.Xd)(new ae.wA("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),p=e.getProvider("app-check-internal"),{apiKey:_,authDomain:T}=i.options;dt(_&&!_.includes(":"),"invalid-api-key",{appName:i.name});const F={apiKey:_,authDomain:T,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ha(n)},H=new _a(i,l,p,F);return function _o(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Q);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}(H,t),H},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),(0,Te.Xd)(new ae.wA("auth-internal",e=>{const t=yi(e.getProvider("auth").getImmediate());return new m0(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Te.KN)(B_,"0.23.2",function H_(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),(0,Te.KN)(B_,"0.23.2","esm2017")}("Browser");class $_{constructor(){return(0,b.vb)("auth")}}const Jg=new Map,J_={activated:!1,tokenObservers:[]},rw={initialized:!1,enabled:!1};function es(n){return Jg.get(n)||Object.assign({},J_)}function df(){return rw}const Xg="https://content-firebaseappcheck.googleapis.com/v1",Np="exchangeDebugToken",ey={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class C0{constructor(e,t,i,l,p){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=l,this.upperBound=p,this.pending=null,this.nextErrorWaitInterval=l,l>p)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ue.Z)(function*(){t.stop();try{t.pending=new fe.BH,yield function Op(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new fe.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Js=new fe.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function tm(n){if(!es(n).activated)throw Js.create("use-before-activation",{appName:n.name})}function md(n,e){return _d.apply(this,arguments)}function _d(){return(_d=(0,ue.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},l=t.getImmediate({optional:!0});if(l){const ge=yield l.getHeartbeatsHeader();ge&&(i["X-Firebase-Client"]=ge)}const p={method:"POST",body:JSON.stringify(e),headers:i};let _,T;try{_=yield fetch(n,p)}catch(ge){throw Js.create("fetch-network-error",{originalErrorMessage:ge?.message})}if(200!==_.status)throw Js.create("fetch-status-error",{httpStatus:_.status});try{T=yield _.json()}catch(ge){throw Js.create("fetch-parse-error",{originalErrorMessage:ge?.message})}const F=T.ttl.match(/^([\d.]+)(s)$/);if(!F||!F[2]||isNaN(Number(F[1])))throw Js.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${T.ttl}`});const H=1e3*Number(F[1]),te=Date.now();return{token:T.token,expireTimeMillis:te+H,issuedAtTimeMillis:te}})).apply(this,arguments)}function S0(n,e){const{projectId:t,appId:i,apiKey:l}=n.options;return{url:`${Xg}/projects/${t}/apps/${i}:${Np}?key=${l}`,body:{debug_token:e}}}const ki="firebase-app-check-database",A0=1,yd="firebase-app-check-store";let Il=null;function iy(){return(iy=(0,ue.Z)(function*(n,e){const i=(yield function xp(){return Il||(Il=new Promise((n,e)=>{try{const t=indexedDB.open(ki,A0);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var l;e(Js.create("storage-open",{originalErrorMessage:null===(l=i.target.error)||void 0===l?void 0:l.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(yd,{keyPath:"compositeKey"})}}catch(t){e(Js.create("storage-open",{originalErrorMessage:t?.message}))}}),Il)}()).transaction(yd,"readwrite"),p=i.objectStore(yd).put({compositeKey:n,value:e});return new Promise((_,T)=>{p.onsuccess=F=>{_()},i.onerror=F=>{var H;T(Js.create("storage-set",{originalErrorMessage:null===(H=F.target.error)||void 0===H?void 0:H.message}))}})})).apply(this,arguments)}const uh=new Oe.Yd("@firebase/app-check");function kp(n,e){return(0,fe.hl)()?function rm(n,e){return function ry(n,e){return iy.apply(this,arguments)}(function sy(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{uh.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Fp(){return df().enabled}function om(){return Lu.apply(this,arguments)}function Lu(){return(Lu=(0,ue.Z)(function*(){const n=df();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const M0={error:"UNKNOWN_ERROR"};function aw(n){return fe.US.encodeString(JSON.stringify(n),!1)}function am(n){return dh.apply(this,arguments)}function dh(){return(dh=(0,ue.Z)(function*(n,e=!1){const t=n.app;tm(t);const i=es(t);let p,l=i.token;if(l&&!Uu(l)&&(i.token=void 0,l=void 0),!l){const F=yield i.cachedTokenPromise;F&&(Uu(F)?l=F:yield kp(t,void 0))}if(!e&&l&&Uu(l))return{token:l.token};let T,_=!1;if(Fp()){i.exchangeTokenPromise||(i.exchangeTokenPromise=md(S0(t,yield om()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),_=!0);const F=yield i.exchangeTokenPromise;return yield kp(t,F),i.token=F,{token:F.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),_=!0),l=yield es(t).exchangeTokenPromise}catch(F){"appCheck/throttled"===F.code?uh.warn(F.message):uh.error(F),p=F}return l?p?T=Uu(l)?{token:l.token,internalError:p}:R0(p):(T={token:l.token},i.token=l,yield kp(t,l)):T=R0(p),_&&function Vp(n,e){const t=es(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}(t,T),T})).apply(this,arguments)}function ay(n){return Lp.apply(this,arguments)}function Lp(){return(Lp=(0,ue.Z)(function*(n){const e=n.app;tm(e);const{provider:t}=es(e);if(Fp()){const i=yield om(),{token:l}=yield md(S0(e,i),n.heartbeatServiceProvider);return{token:l}}{const{token:i}=yield t.getToken();return{token:i}}})).apply(this,arguments)}function cm(n,e){const t=es(n),i=t.tokenObservers.filter(l=>l.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function Bp(n){const{app:e}=n,t=es(e);let i=t.tokenRefresher;i||(i=function x0(n){const{app:e}=n;return new C0((0,ue.Z)(function*(){let i;if(i=es(e).token?yield am(n,!0):yield am(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=es(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},ey.RETRIAL_MIN_WAIT,ey.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function Uu(n){return n.expireTimeMillis-Date.now()>0}function R0(n){return{token:aw(M0),error:n}}class P0{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=es(this.app);for(const t of e)cm(this.app,t.next);return Promise.resolve()}}const pf="app-check-internal";!function dm(){(0,Te.Xd)(new ae.wA("app-check",n=>function cy(n,e){return new P0(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(pf).initialize()})),(0,Te.Xd)(new ae.wA(pf,n=>function cw(n){return{getToken:e=>am(n,e),getLimitedUseToken:()=>ay(n),addTokenListener:e=>function Up(n,e,t,i){const{app:l}=n,p=es(l);if(p.tokenObservers=[...p.tokenObservers,{next:t,error:i,type:e}],p.token&&Uu(p.token)){const T=p.token;Promise.resolve().then(()=>{t({token:T.token}),Bp(n)}).catch(()=>{})}p.cachedTokenPromise.then(()=>Bp(n))}(n,"INTERNAL",e),removeTokenListener:e=>cm(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Te.KN)("@firebase/app-check","0.8.0")}();class su{constructor(){return(0,b.vb)("app-check")}}typeof window<"u"&&window;var rn,hw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},El={},fw=fw||{},hr=hw||self;function H0(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function mf(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var pw="closure_uid_"+(1e9*Math.random()>>>0),HD=0;function gw(n,e,t){return n.call.apply(n.bind,arguments)}function j0(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,i),n.apply(e,l)}}return function(){return n.apply(e,arguments)}}function xa(n,e,t){return(xa=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?gw:j0).apply(null,arguments)}function vy(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Ro(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,l,p){for(var _=Array(arguments.length-2),T=2;T<arguments.length;T++)_[T-2]=arguments[T];return e.prototype[l].apply(i,_)}}function ou(){this.s=this.s,this.o=this.o}ou.prototype.s=!1,ou.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function G0(n){Object.prototype.hasOwnProperty.call(n,pw)&&n[pw]||(n[pw]=++HD)}(this)},ou.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const by=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function bd(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function mw(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(H0(i)){const l=n.length||0,p=i.length||0;n.length=l+p;for(let _=0;_<p;_++)n[l+_]=i[_]}else n.push(i)}}function bs(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}bs.prototype.h=function(){this.defaultPrevented=!0};var gh=function(){if(!hr.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{hr.addEventListener("test",()=>{},e),hr.removeEventListener("test",()=>{},e)}catch{}return n}();function gm(n){return/^[\s\xa0]*$/.test(n)}function _f(){var n=hr.navigator;return n&&(n=n.userAgent)?n:""}function Pc(n){return-1!=_f().indexOf(n)}function wy(n){return wy[" "](n),n}wy[" "]=function(){};var Wp,n,yw=Pc("Opera"),wd=Pc("Trident")||Pc("MSIE"),Iy=Pc("Edge"),$0=Iy||wd,vw=Pc("Gecko")&&!(-1!=_f().toLowerCase().indexOf("webkit")&&!Pc("Edge"))&&!(Pc("Trident")||Pc("MSIE"))&&!Pc("Edge"),zp=-1!=_f().toLowerCase().indexOf("webkit")&&!Pc("Edge");function yf(){var n=hr.document;return n?n.documentMode:void 0}e:{var mm="",vf=(n=_f(),vw?/rv:([^\);]+)(\)|;)/.exec(n):Iy?/Edge\/([\d\.]+)/.exec(n):wd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):zp?/WebKit\/(\S+)/.exec(n):yw?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(vf&&(mm=vf?vf[1]:""),wd){var _m=yf();if(null!=_m&&_m>parseFloat(mm)){Wp=String(_m);break e}}Wp=mm}var bf=hr.document&&wd&&(yf()||parseInt(Wp,10))||void 0;function kc(n,e){if(bs.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(vw){e:{try{wy(e.nodeName);var l=!0;break e}catch{}l=!1}l||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Ty[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&kc.$.h.call(this)}}Ro(kc,bs);var Ty={2:"touch",3:"pen",4:"mouse"};kc.prototype.h=function(){kc.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var mh="closure_listenable_"+(1e6*Math.random()|0),bw=0;function Dy(n,e,t,i,l){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=l,this.key=++bw,this.fa=this.ia=!1}function qp(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function wf(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function ww(n){const e={};for(const t in n)e[t]=n[t];return e}const Zp="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Kp(n,e){let t,i;for(let l=1;l<arguments.length;l++){for(t in i=arguments[l],i)n[t]=i[t];for(let p=0;p<Zp.length;p++)t=Zp[p],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function Yp(n){this.src=n,this.g={},this.h=0}function Ef(n,e){var t=e.type;if(t in n.g){var p,i=n.g[t],l=by(i,e);(p=0<=l)&&Array.prototype.splice.call(i,l,1),p&&(qp(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function _h(n,e,t,i){for(var l=0;l<n.length;++l){var p=n[l];if(!p.fa&&p.listener==e&&p.capture==!!t&&p.la==i)return l}return-1}Yp.prototype.add=function(n,e,t,i,l){var p=n.toString();(n=this.g[p])||(n=this.g[p]=[],this.h++);var _=_h(n,e,i,l);return-1<_?(e=n[_],t||(e.ia=!1)):((e=new Dy(e,this.src,p,!!i,l)).ia=t,n.push(e)),e};var Fc="closure_lm_"+(1e6*Math.random()|0),Bu={};function Qp(n,e,t,i,l){if(i&&i.once)return z0(n,e,t,i,l);if(Array.isArray(e)){for(var p=0;p<e.length;p++)Qp(n,e[p],t,i,l);return null}return t=q0(t),n&&n[mh]?n.O(e,t,mf(i)?!!i.capture:!!i,l):Cy(n,e,t,!1,i,l)}function Cy(n,e,t,i,l,p){if(!e)throw Error("Invalid event type");var _=mf(l)?!!l.capture:!!l,T=vm(n);if(T||(n[Fc]=T=new Yp(n)),(t=T.add(e,t,i,_,p)).proxy)return t;if(i=function ME(){const e=xE;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)gh||(l=_),void 0===l&&(l=!1),n.addEventListener(e.toString(),i,l);else if(n.attachEvent)n.attachEvent(W0(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function z0(n,e,t,i,l){if(Array.isArray(e)){for(var p=0;p<e.length;p++)z0(n,e[p],t,i,l);return null}return t=q0(t),n&&n[mh]?n.P(e,t,mf(i)?!!i.capture:!!i,l):Cy(n,e,t,!0,i,l)}function Id(n,e,t,i,l){if(Array.isArray(e))for(var p=0;p<e.length;p++)Id(n,e[p],t,i,l);else i=mf(i)?!!i.capture:!!i,t=q0(t),n&&n[mh]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=_h(p=n.g[e],t,i,l))&&(qp(p[t]),Array.prototype.splice.call(p,t,1),0==p.length&&(delete n.g[e],n.h--))):n&&(n=vm(n))&&(e=n.g[e.toString()],n=-1,e&&(n=_h(e,t,i,l)),(t=-1<n?e[n]:null)&&Sy(t))}function Sy(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[mh])Ef(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(W0(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=vm(e))?(Ef(t,n),0==t.h&&(t.src=null,e[Fc]=null)):qp(n)}}}function W0(n){return n in Bu?Bu[n]:Bu[n]="on"+n}function xE(n,e){if(n.fa)n=!0;else{e=new kc(e,this);var t=n.listener,i=n.la||n.src;n.ia&&Sy(n),n=t.call(i,e)}return n}function vm(n){return(n=n[Fc])instanceof Yp?n:null}var Ay="__closure_events_fn_"+(1e9*Math.random()>>>0);function q0(n){return"function"==typeof n?n:(n[Ay]||(n[Ay]=function(e){return n.handleEvent(e)}),n[Ay])}function Wo(){ou.call(this),this.i=new Yp(this),this.S=this,this.J=null}function ao(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new bs(e,n);else if(e instanceof bs)e.target=e.target||n;else{var l=e;Kp(e=new bs(i,n),l)}if(l=!0,t)for(var p=t.length-1;0<=p;p--){var _=e.g=t[p];l=Z0(_,i,!0,e)&&l}if(l=Z0(_=e.g=n,i,!0,e)&&l,l=Z0(_,i,!1,e)&&l,t)for(p=0;p<t.length;p++)l=Z0(_=e.g=t[p],i,!1,e)&&l}function Z0(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var l=!0,p=0;p<e.length;++p){var _=e[p];if(_&&!_.fa&&_.capture==t){var T=_.listener,F=_.la||_.src;_.ia&&Ef(n.i,_),l=!1!==T.call(F,i)&&l}}return l&&!i.defaultPrevented}Ro(Wo,ou),Wo.prototype[mh]=!0,Wo.prototype.removeEventListener=function(n,e,t,i){Id(this,n,e,t,i)},Wo.prototype.N=function(){if(Wo.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)qp(t[i]);delete n.g[e],n.h--}}this.J=null},Wo.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Wo.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var K0=hr.JSON.stringify;function RE(){var n=wm;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Q0=new class Y0{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new bm,n=>n.reset());class bm{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Iw(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function J0(n){hr.setTimeout(()=>{throw n},0)}let Tf,Vu=!1,wm=new class GD{constructor(){this.h=this.g=null}add(e,t){const i=Q0.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},Ny=()=>{const n=hr.Promise.resolve(void 0);Tf=()=>{n.then(Im)}};var Im=()=>{for(var n;n=RE();){try{n.h.call(n.g)}catch(t){J0(t)}var e=Q0;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Vu=!1};function Df(n,e){Wo.call(this),this.h=n||1,this.g=e||hr,this.j=xa(this.qb,this),this.l=Date.now()}function yh(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Cf(n,e,t){if("function"==typeof n)t&&(n=xa(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=xa(n.handleEvent,n)}return 2147483647<Number(e)?-1:hr.setTimeout(n,e||0)}function Oy(n){n.g=Cf(()=>{n.g=null,n.i&&(n.i=!1,Oy(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ro(Df,Wo),(rn=Df.prototype).ga=!1,rn.T=null,rn.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ao(this,"tick"),this.ga&&(yh(this),this.start()))}},rn.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},rn.N=function(){Df.$.N.call(this),yh(this),delete this.g};class My extends ou{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Oy(this)}N(){super.N(),this.g&&(hr.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xy(n){ou.call(this),this.h=n,this.g={}}Ro(xy,ou);var Ry=[];function Sf(n,e,t,i){Array.isArray(t)||(t&&(Ry[0]=t.toString()),t=Ry);for(var l=0;l<t.length;l++){var p=Qp(e,t[l],i||n.handleEvent,!1,n.h||n);if(!p)break;n.g[p.key]=p}}function Ew(n){wf(n.g,function(e,t){this.g.hasOwnProperty(t)&&Sy(e)},n),n.g={}}function Em(){this.g=!0}function vh(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function kE(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var l=i[1];if(Array.isArray(l)&&!(1>l.length)){var p=l[0];if("noop"!=p&&"stop"!=p&&"close"!=p)for(var _=1;_<l.length;_++)l[_]=""}}}return K0(t)}catch{return e}}(n,t)+(i?" "+i:"")})}xy.prototype.N=function(){xy.$.N.call(this),Ew(this)},xy.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Em.prototype.Ea=function(){this.g=!1},Em.prototype.info=function(){};var Af={},FE=null;function ky(){return FE=FE||new Wo}function Tm(n){bs.call(this,Af.Ta,n)}function Ed(n){const e=ky();ao(e,new Tm(e))}function Dw(n,e){bs.call(this,Af.STAT_EVENT,n),this.stat=e}function Xa(n){const e=ky();ao(e,new Dw(e,n))}function Fy(n,e){bs.call(this,Af.Ua,n),this.size=e}function bh(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return hr.setTimeout(function(){n()},e)}Af.Ta="serverreachability",Ro(Tm,bs),Af.STAT_EVENT="statevent",Ro(Dw,bs),Af.Ua="timingevent",Ro(Fy,bs);var Jp={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},X0={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function e1(){}function LE(){}e1.prototype.h=null;var wh,Xp={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function eg(){bs.call(this,"d")}function n1(){bs.call(this,"c")}function Ih(){}function Nf(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new xy(this),this.P=UE,this.V=new Df(n=$0?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new r1}function r1(){this.i=null,this.g="",this.h=!1}Ro(eg,bs),Ro(n1,bs),Ro(Ih,e1),Ih.prototype.g=function(){return new XMLHttpRequest},Ih.prototype.i=function(){return{}},wh=new Ih;var UE=45e3,Ly={},Uy={};function By(n,e,t){n.L=1,n.v=Sm(au(e)),n.s=t,n.S=!0,i1(n,null)}function i1(n,e){n.G=Date.now(),Of(n),n.A=au(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),Am(t.i,"t",i),n.C=0,t=n.l.J,n.h=new r1,n.g=y1(n.l,t?e:null,!n.s),0<n.O&&(n.M=new My(xa(n.Pa,n,n.g),n.O)),Sf(n.U,n.g,"readystatechange",n.nb),e=n.I?ww(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Ed(),function Tw(n,e,t,i,l,p){n.info(function(){if(n.g)if(p)for(var _="",T=p.split("&"),F=0;F<T.length;F++){var H=T[F].split("=");if(1<H.length){var te=H[0];H=H[1];var ge=te.split("_");_=2<=ge.length&&"type"==ge[1]?_+(te+"=")+H+"&":_+(te+"=redacted&")}}else _=null;else _=p;return"XMLHTTP REQ ("+i+") [attempt "+l+"]: "+e+"\n"+t+"\n"+_})}(n.j,n.u,n.A,n.m,n.W,n.s)}function Vy(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function BE(n,e,t){let l,i=!0;for(;!n.J&&n.C<t.length;){if(l=tg(n,t),l==Uy){4==e&&(n.o=4,Xa(14),i=!1),vh(n.j,n.m,null,"[Incomplete Response]");break}if(l==Ly){n.o=4,Xa(15),vh(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}vh(n.j,n.m,l,null),Cm(n,l)}Vy(n)&&l!=Uy&&l!=Ly&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Xa(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),Gu(e),e.M=!0,Xa(11))):(vh(n.j,n.m,t,"[Invalid Chunked Response]"),Td(n),ng(n))}function tg(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?Uy:(t=Number(e.substring(t,i)),isNaN(t)?Ly:(i+=1)+t>e.length?Uy:(e=e.slice(i,i+t),n.C=i+t,e))}function Of(n){n.Y=Date.now()+n.P,s1(n,n.P)}function s1(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=bh(xa(n.lb,n),e)}function Dm(n){n.B&&(hr.clearTimeout(n.B),n.B=null)}function ng(n){0==n.l.H||n.J||xm(n.l,n)}function Td(n){Dm(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,yh(n.V),Ew(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function Cm(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||f1(t.i,n)))if(!n.K&&f1(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var l=i;if(0==l[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Md(t),Od(t)}lu(t),Xa(18)}}else t.Fa=l[1],0<t.Fa-t.V&&37500>l[2]&&t.G&&0==t.A&&!t.v&&(t.v=bh(xa(t.ib,t),6e3));if(1>=zy(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else uu(t,11)}else if((n.K||t.g==n)&&Md(t),!gm(e))for(l=t.Ja.g.parse(e),e=0;e<l.length;e++){let H=l[e];if(t.V=H[0],H=H[1],2==t.H)if("c"==H[0]){t.K=H[1],t.pa=H[2];const te=H[3];null!=te&&(t.ra=te,t.l.info("VER="+t.ra));const ge=H[4];null!=ge&&(t.Ga=ge,t.l.info("SVER="+t.Ga));const Ue=H[5];null!=Ue&&"number"==typeof Ue&&0<Ue&&(t.L=i=1.5*Ue,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const ct=n.g;if(ct){const Ft=ct.g?ct.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ft){var p=i.i;p.g||-1==Ft.indexOf("spdy")&&-1==Ft.indexOf("quic")&&-1==Ft.indexOf("h2")||(p.j=p.l,p.g=new Set,p.h&&(Nm(p,p.h),p.h=null))}if(i.F){const sn=ct.g?ct.g.getResponseHeader("X-HTTP-Session-Id"):null;sn&&(i.Da=sn,gi(i.I,i.F,sn))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var _=n;if((i=t).wa=Rm(i,i.J?i.pa:null,i.Y),_.K){Th(i.i,_);var T=_,F=i.L;F&&T.setTimeout(F),T.B&&(Dm(T),Of(T)),i.g=_}else tc(i);0<t.j.length&&Hu(t)}else"stop"!=H[0]&&"close"!=H[0]||uu(t,7);else 3==t.H&&("stop"==H[0]||"close"==H[0]?"stop"==H[0]?uu(t,7):kf(t):"noop"!=H[0]&&t.h&&t.h.Aa(H),t.A=0)}Ed()}catch{}}function Aw(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(H0(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Sw(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(H0(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function Cw(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(H0(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),l=i.length,p=0;p<l;p++)e.call(void 0,i[p],t&&t[p],n)}(rn=Nf.prototype).setTimeout=function(n){this.P=n},rn.nb=function(n){n=n.target;const e=this.M;e&&3==ec(n)?e.l():this.Pa(n)},rn.Pa=function(n){try{if(n==this.g)e:{const te=ec(this.g);var e=this.g.Ia();if(this.g.da(),!(3>te)&&(3!=te||$0||this.g&&(this.h.h||this.g.ja()||Pf(this.g)))){this.J||4!=te||7==e||Ed(),Dm(this);var t=this.g.da();this.ca=t;t:if(Vy(this)){var i=Pf(this.g);n="";var l=i.length,p=4==ec(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Td(this),ng(this);var _="";break t}this.h.i=new hr.TextDecoder}for(e=0;e<l;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:p&&e==l-1});i.splice(0,l),this.h.g+=n,this.C=0,_=this.h.g}else _=this.g.ja();if(this.i=200==t,function PE(n,e,t,i,l,p,_){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+l+"]: "+e+"\n"+t+"\n"+p+" "+_})}(this.j,this.u,this.A,this.m,this.W,te,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var T,F=this.g;if((T=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!gm(T)){var H=T;break t}}H=null}if(!(t=H)){this.i=!1,this.o=3,Xa(12),Td(this),ng(this);break e}vh(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Cm(this,t)}this.S?(BE(this,te,_),$0&&this.i&&3==te&&(Sf(this.U,this.V,"tick",this.mb),this.V.start())):(vh(this.j,this.m,_,null),Cm(this,_)),4==te&&Td(this),this.i&&!this.J&&(4==te?xm(this.l,this):(this.i=!1,Of(this)))}else(function og(n){const e={};n=(n.g&&2<=ec(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(gm(n[i]))continue;var t=Iw(n[i]);const l=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const p=e[l]||[];e[l]=p,p.push(t)}!function If(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<_.indexOf("Unknown SID")?(this.o=3,Xa(12)):(this.o=0,Xa(13)),Td(this),ng(this)}}}catch{}},rn.mb=function(){if(this.g){var n=ec(this.g),e=this.g.ja();this.C<e.length&&(Dm(this),BE(this,n,e),this.i&&4!=n&&Of(this))}},rn.cancel=function(){this.J=!0,Td(this)},rn.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Py(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Ed(),Xa(17)),Td(this),this.o=2,ng(this)):s1(this,this.Y-n)};var Hy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function da(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof da){this.h=n.h,Gy(this,n.j),this.s=n.s,this.g=n.g,Mf(this,n.m),this.l=n.l;var e=n.i,t=new sg;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Dd(this,t),this.o=n.o}else n&&(e=String(n).match(Hy))?(this.h=!1,Gy(this,e[1]||"",!0),this.s=rg(e[2]||""),this.g=rg(e[3]||"",!0),Mf(this,e[4]),this.l=rg(e[5]||"",!0),Dd(this,e[6]||"",!0),this.o=rg(e[7]||"")):(this.h=!1,this.i=new sg(null,this.h))}function au(n){return new da(n)}function Gy(n,e,t){n.j=t?rg(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Mf(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Dd(n,e,t){e instanceof sg?(n.i=e,function u1(n,e){e&&!n.j&&(cu(n),n.i=null,n.g.forEach(function(t,i){var l=i.toLowerCase();i!=l&&(c1(this,i),Am(this,l,t))},n)),n.j=e}(n.i,n.h)):(t||(e=ig(e,VE)),n.i=new sg(e,n.h))}function gi(n,e,t){n.i.set(e,t)}function Sm(n){return gi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function rg(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function ig(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,jy),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function jy(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}da.prototype.toString=function(){var n=[],e=this.j;e&&n.push(ig(e,Tl,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(ig(e,Tl,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(ig(t,"/"==t.charAt(0)?Nw:a1,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",ig(t,qo)),n.join("")};var Tl=/[#\/\?@]/g,a1=/[#\?:]/g,Nw=/[#\?]/g,VE=/[#\?@]/g,qo=/#/g;function sg(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function cu(n){n.g||(n.g=new Map,n.h=0,n.i&&function o1(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),l=null;if(0<=i){var p=n[t].substring(0,i);l=n[t].substring(i+1)}else p=n[t];e(p,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function c1(n,e){cu(n),e=Eh(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function l1(n,e){return cu(n),e=Eh(n,e),n.g.has(e)}function Am(n,e,t){c1(n,e),0<t.length&&(n.i=null,n.g.set(Eh(n,e),bd(t)),n.h+=t.length)}function Eh(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function $y(n){this.l=n||d1,n=hr.PerformanceNavigationTiming?0<(n=hr.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(hr.g&&hr.g.Ka&&hr.g.Ka()&&hr.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(rn=sg.prototype).add=function(n,e){cu(this),this.i=null,n=Eh(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},rn.forEach=function(n,e){cu(this),this.g.forEach(function(t,i){t.forEach(function(l){n.call(e,l,i,this)},this)},this)},rn.ta=function(){cu(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const l=n[i];for(let p=0;p<l.length;p++)t.push(e[i])}return t},rn.Z=function(n){cu(this);let e=[];if("string"==typeof n)l1(this,n)&&(e=e.concat(this.g.get(Eh(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},rn.set=function(n,e){return cu(this),this.i=null,l1(this,n=Eh(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},rn.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},rn.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const p=encodeURIComponent(String(i)),_=this.Z(i);for(i=0;i<_.length;i++){var l=p;""!==_[i]&&(l+="="+encodeURIComponent(String(_[i]))),n.push(l)}}return this.i=n.join("&")};var d1=10;function h1(n){return!!n.h||!!n.g&&n.g.size>=n.j}function zy(n){return n.h?1:n.g?n.g.size:0}function f1(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Nm(n,e){n.g?n.g.add(e):n.h=e}function Th(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function ha(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return bd(n.i)}$y.prototype.cancel=function(){if(this.i=ha(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var Dh=class{stringify(n){return hr.JSON.stringify(n,void 0)}parse(n){return hr.JSON.parse(n,void 0)}};function Wy(){this.g=new Dh}function qy(n,e,t){const i=t||"";try{Aw(n,function(l,p){let _=l;mf(l)&&(_=K0(l)),e.push(i+p+"="+encodeURIComponent(_))})}catch(l){throw e.push(i+"type="+encodeURIComponent("_badmap")),l}}function fa(n,e,t,i,l){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,l(i)}catch{}}function Cd(n){this.l=n.fc||null,this.j=n.ob||!1}function Sd(n,e){Wo.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=Ad,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ro(Cd,e1),Cd.prototype.g=function(){return new Sd(this.l,this.j)},Cd.prototype.i=function(n){return function(){return n}}({}),Ro(Sd,Wo);var Ad=0;function Zy(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function el(n){n.readyState=4,n.l=null,n.j=null,n.A=null,xf(n)}function xf(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(rn=Sd.prototype).open=function(n,e){if(this.readyState!=Ad)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,xf(this)},rn.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||hr).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},rn.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,el(this)),this.readyState=Ad},rn.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,xf(this)),this.g&&(this.readyState=3,xf(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof hr.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Zy(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},rn.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?el(this):xf(this),3==this.readyState&&Zy(this)}},rn.Za=function(n){this.g&&(this.response=this.responseText=n,el(this))},rn.Ya=function(n){this.g&&(this.response=n,el(this))},rn.ka=function(){this.g&&el(this)},rn.setRequestHeader=function(n,e){this.v.append(n,e)},rn.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},rn.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Sd.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Mw=hr.JSON.parse;function Xs(n){Wo.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=p1,this.L=this.M=!1}Ro(Xs,Wo);var p1="",Ky=/^https?$/i,xw=["POST","PUT"];function g1(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Yy(n),Rf(n)}function Yy(n){n.F||(n.F=!0,ao(n,"complete"),ao(n,"error"))}function Qy(n){if(n.h&&typeof fw<"u"&&(!n.C[1]||4!=ec(n)||2!=n.da()))if(n.v&&4==ec(n))Cf(n.La,0,n);else if(ao(n,"readystatechange"),4==ec(n)){n.h=!1;try{const _=n.da();e:switch(_){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===_){var l=String(n.I).match(Hy)[1]||null;!l&&hr.self&&hr.self.location&&(l=hr.self.location.protocol.slice(0,-1)),i=!Ky.test(l?l.toLowerCase():"")}t=i}if(t)ao(n,"complete"),ao(n,"success");else{n.m=6;try{var p=2<ec(n)?n.g.statusText:""}catch{p=""}n.j=p+" ["+n.da()+"]",Yy(n)}}finally{Rf(n)}}}function Rf(n,e){if(n.g){Rw(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||ao(n,"ready");try{t.onreadystatechange=i}catch{}}}function Rw(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(hr.clearTimeout(n.A),n.A=null)}function ec(n){return n.g?n.g.readyState:0}function Pf(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case p1:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function ag(n){let e="";return wf(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function cg(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=ag(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):gi(n,e,t))}function Nd(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function zn(n){this.Ga=0,this.j=[],this.l=new Em,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Nd("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Nd("baseRetryDelayMs",5e3,n),this.hb=Nd("retryDelaySeedMs",1e4,n),this.eb=Nd("forwardChannelMaxRetries",2,n),this.xa=Nd("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new $y(n&&n.concurrentRequestLimit),this.Ja=new Wy,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function kf(n){if(Ch(n),3==n.H){var e=n.W++,t=au(n.I);if(gi(t,"SID",n.K),gi(t,"RID",e),gi(t,"TYPE","terminate"),Dl(n,t),(e=new Nf(n,n.l,e)).L=2,e.v=Sm(au(t)),t=!1,hr.navigator&&hr.navigator.sendBeacon)try{t=hr.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&hr.Image&&((new Image).src=e.v,t=!0),t||(e.g=y1(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Of(e)}_1(n)}function Od(n){n.g&&(Gu(n),n.g.cancel(),n.g=null)}function Ch(n){Od(n),n.u&&(hr.clearTimeout(n.u),n.u=null),Md(n),n.i.cancel(),n.m&&("number"==typeof n.m&&hr.clearTimeout(n.m),n.m=null)}function Hu(n){if(!h1(n.i)&&!n.m){n.m=!0;var e=n.Na;Tf||Ny(),Vu||(Tf(),Vu=!0),wm.add(e,n),n.C=0}}function lg(n,e){var t;t=e?e.m:n.W++;const i=au(n.I);gi(i,"SID",n.K),gi(i,"RID",t),gi(i,"AID",n.V),Dl(n,i),n.o&&n.s&&cg(i,n.o,n.s),t=new Nf(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=Cl(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),Nm(n.i,t),By(t,i,e)}function Dl(n,e){n.na&&wf(n.na,function(t,i){gi(e,i,t)}),n.h&&Aw({},function(t,i){gi(e,i,t)})}function Cl(n,e,t){t=Math.min(n.j.length,t);var i=n.h?xa(n.h.Va,n.h,n):null;e:{var l=n.j;let p=-1;for(;;){const _=["count="+t];-1==p?0<t?(p=l[0].g,_.push("ofs="+p)):p=0:_.push("ofs="+p);let T=!0;for(let F=0;F<t;F++){let H=l[F].g;const te=l[F].map;if(H-=p,0>H)p=Math.max(0,l[F].g-100),T=!1;else try{qy(te,_,"req"+H+"_")}catch{i&&i(te)}}if(T){i=_.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function tc(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Tf||Ny(),Vu||(Tf(),Vu=!0),wm.add(e,n),n.A=0}}function lu(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=bh(xa(n.Ma,n),xd(n,n.A)),n.A++,0))}function Gu(n){null!=n.B&&(hr.clearTimeout(n.B),n.B=null)}function Mm(n){n.g=new Nf(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=au(n.wa);gi(e,"RID","rpc"),gi(e,"SID",n.K),gi(e,"AID",n.V),gi(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&gi(e,"TO",n.qa),gi(e,"TYPE","xmlhttp"),Dl(n,e),n.o&&n.s&&cg(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Sm(au(e)),t.s=null,t.S=!0,i1(t,n)}function Md(n){null!=n.v&&(hr.clearTimeout(n.v),n.v=null)}function xm(n,e){var t=null;if(n.g==e){Md(n),Gu(n),n.g=null;var i=2}else{if(!f1(n.i,e))return;t=e.F,Th(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var l=n.C;ao(i=ky(),new Fy(i,t)),Hu(n)}else tc(n);else if(3==(l=e.o)||0==l&&0<e.ca||!(1==i&&function m1(n,e){return!(zy(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=bh(xa(n.Na,n,e),xd(n,n.C)),n.C++,0)))}(n,e)||2==i&&lu(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),l){case 1:uu(n,5);break;case 4:uu(n,10);break;case 3:uu(n,6);break;default:uu(n,2)}}function xd(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function uu(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=xa(n.pb,n);t||(t=new da("//www.google.com/images/cleardot.gif"),hr.location&&"http"==hr.location.protocol||Gy(t,"https"),Sm(t)),function Om(n,e){const t=new Em;if(hr.Image){const i=new Image;i.onload=vy(fa,t,i,"TestLoadImage: loaded",!0,e),i.onerror=vy(fa,t,i,"TestLoadImage: error",!1,e),i.onabort=vy(fa,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=vy(fa,t,i,"TestLoadImage: timeout",!1,e),hr.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Xa(2);n.H=0,n.h&&n.h.za(e),_1(n),Ch(n)}function _1(n){if(n.H=0,n.ma=[],n.h){const e=ha(n.i);(0!=e.length||0!=n.j.length)&&(mw(n.ma,e),mw(n.ma,n.j),n.i.i.length=0,bd(n.j),n.j.length=0),n.h.ya()}}function Rm(n,e,t){var i=t instanceof da?au(t):new da(t);if(""!=i.g)e&&(i.g=e+"."+i.g),Mf(i,i.m);else{var l=hr.location;i=l.protocol,e=e?e+"."+l.hostname:l.hostname,l=+l.port;var p=new da(null);i&&Gy(p,i),e&&(p.g=e),l&&Mf(p,l),t&&(p.l=t),i=p}return e=n.Da,(t=n.F)&&e&&gi(i,t,e),gi(i,"VER",n.ra),Dl(n,i),i}function y1(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Xs(t&&n.Ha&&!n.va?new Cd({ob:!0}):n.va)).Oa(n.J),e}function v1(){}function Pm(){if(wd&&!(10<=Number(bf)))throw Error("Environmental error: no available transport.")}function ts(n,e){Wo.call(this),this.g=new zn(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!gm(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!gm(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Ff(this)}function Jy(n){eg.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function b1(){n1.call(this),this.status=1}function Ff(n){this.g=n}function du(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function vc(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var l=0;16>l;++l)i[l]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(l=0;16>l;++l)i[l]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var p=n.g[3],_=(e=n.g[0])+(p^(t=n.g[1])&((l=n.g[2])^p))+i[0]+3614090360&4294967295;_=(t=(l=(p=(e=(t=(l=(p=(e=(t=(l=(p=(e=(t=(l=(p=(e=(t=(l=(p=(e=(t=(l=(p=(e=(t=(l=(p=(e=(t=(l=(p=(e=(t=(l=(p=(e=(t=(l=(p=(e=(t=(l=(p=(e=(t=(l=(p=(e=(t=(l=(p=(e=(t=(l=(p=(e=(t=(l=(p=(e=t+(_<<7&4294967295|_>>>25))+((_=p+(l^e&(t^l))+i[1]+3905402710&4294967295)<<12&4294967295|_>>>20))+((_=l+(t^p&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|_>>>15))+((_=t+(e^l&(p^e))+i[3]+3250441966&4294967295)<<22&4294967295|_>>>10))+((_=e+(p^t&(l^p))+i[4]+4118548399&4294967295)<<7&4294967295|_>>>25))+((_=p+(l^e&(t^l))+i[5]+1200080426&4294967295)<<12&4294967295|_>>>20))+((_=l+(t^p&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|_>>>15))+((_=t+(e^l&(p^e))+i[7]+4249261313&4294967295)<<22&4294967295|_>>>10))+((_=e+(p^t&(l^p))+i[8]+1770035416&4294967295)<<7&4294967295|_>>>25))+((_=p+(l^e&(t^l))+i[9]+2336552879&4294967295)<<12&4294967295|_>>>20))+((_=l+(t^p&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|_>>>15))+((_=t+(e^l&(p^e))+i[11]+2304563134&4294967295)<<22&4294967295|_>>>10))+((_=e+(p^t&(l^p))+i[12]+1804603682&4294967295)<<7&4294967295|_>>>25))+((_=p+(l^e&(t^l))+i[13]+4254626195&4294967295)<<12&4294967295|_>>>20))+((_=l+(t^p&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|_>>>15))+((_=t+(e^l&(p^e))+i[15]+1236535329&4294967295)<<22&4294967295|_>>>10))+((_=e+(l^p&(t^l))+i[1]+4129170786&4294967295)<<5&4294967295|_>>>27))+((_=p+(t^l&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|_>>>23))+((_=l+(e^t&(p^e))+i[11]+643717713&4294967295)<<14&4294967295|_>>>18))+((_=t+(p^e&(l^p))+i[0]+3921069994&4294967295)<<20&4294967295|_>>>12))+((_=e+(l^p&(t^l))+i[5]+3593408605&4294967295)<<5&4294967295|_>>>27))+((_=p+(t^l&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|_>>>23))+((_=l+(e^t&(p^e))+i[15]+3634488961&4294967295)<<14&4294967295|_>>>18))+((_=t+(p^e&(l^p))+i[4]+3889429448&4294967295)<<20&4294967295|_>>>12))+((_=e+(l^p&(t^l))+i[9]+568446438&4294967295)<<5&4294967295|_>>>27))+((_=p+(t^l&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|_>>>23))+((_=l+(e^t&(p^e))+i[3]+4107603335&4294967295)<<14&4294967295|_>>>18))+((_=t+(p^e&(l^p))+i[8]+1163531501&4294967295)<<20&4294967295|_>>>12))+((_=e+(l^p&(t^l))+i[13]+2850285829&4294967295)<<5&4294967295|_>>>27))+((_=p+(t^l&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|_>>>23))+((_=l+(e^t&(p^e))+i[7]+1735328473&4294967295)<<14&4294967295|_>>>18))+((_=t+(p^e&(l^p))+i[12]+2368359562&4294967295)<<20&4294967295|_>>>12))+((_=e+(t^l^p)+i[5]+4294588738&4294967295)<<4&4294967295|_>>>28))+((_=p+(e^t^l)+i[8]+2272392833&4294967295)<<11&4294967295|_>>>21))+((_=l+(p^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|_>>>16))+((_=t+(l^p^e)+i[14]+4259657740&4294967295)<<23&4294967295|_>>>9))+((_=e+(t^l^p)+i[1]+2763975236&4294967295)<<4&4294967295|_>>>28))+((_=p+(e^t^l)+i[4]+1272893353&4294967295)<<11&4294967295|_>>>21))+((_=l+(p^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|_>>>16))+((_=t+(l^p^e)+i[10]+3200236656&4294967295)<<23&4294967295|_>>>9))+((_=e+(t^l^p)+i[13]+681279174&4294967295)<<4&4294967295|_>>>28))+((_=p+(e^t^l)+i[0]+3936430074&4294967295)<<11&4294967295|_>>>21))+((_=l+(p^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|_>>>16))+((_=t+(l^p^e)+i[6]+76029189&4294967295)<<23&4294967295|_>>>9))+((_=e+(t^l^p)+i[9]+3654602809&4294967295)<<4&4294967295|_>>>28))+((_=p+(e^t^l)+i[12]+3873151461&4294967295)<<11&4294967295|_>>>21))+((_=l+(p^e^t)+i[15]+530742520&4294967295)<<16&4294967295|_>>>16))+((_=t+(l^p^e)+i[2]+3299628645&4294967295)<<23&4294967295|_>>>9))+((_=e+(l^(t|~p))+i[0]+4096336452&4294967295)<<6&4294967295|_>>>26))+((_=p+(t^(e|~l))+i[7]+1126891415&4294967295)<<10&4294967295|_>>>22))+((_=l+(e^(p|~t))+i[14]+2878612391&4294967295)<<15&4294967295|_>>>17))+((_=t+(p^(l|~e))+i[5]+4237533241&4294967295)<<21&4294967295|_>>>11))+((_=e+(l^(t|~p))+i[12]+1700485571&4294967295)<<6&4294967295|_>>>26))+((_=p+(t^(e|~l))+i[3]+2399980690&4294967295)<<10&4294967295|_>>>22))+((_=l+(e^(p|~t))+i[10]+4293915773&4294967295)<<15&4294967295|_>>>17))+((_=t+(p^(l|~e))+i[1]+2240044497&4294967295)<<21&4294967295|_>>>11))+((_=e+(l^(t|~p))+i[8]+1873313359&4294967295)<<6&4294967295|_>>>26))+((_=p+(t^(e|~l))+i[15]+4264355552&4294967295)<<10&4294967295|_>>>22))+((_=l+(e^(p|~t))+i[6]+2734768916&4294967295)<<15&4294967295|_>>>17))+((_=t+(p^(l|~e))+i[13]+1309151649&4294967295)<<21&4294967295|_>>>11))+((p=(e=t+((_=e+(l^(t|~p))+i[4]+4149444226&4294967295)<<6&4294967295|_>>>26))+((_=p+(t^(e|~l))+i[11]+3174756917&4294967295)<<10&4294967295|_>>>22))^((l=p+((_=l+(e^(p|~t))+i[2]+718787259&4294967295)<<15&4294967295|_>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(l+(_<<21&4294967295|_>>>11))&4294967295,n.g[2]=n.g[2]+l&4294967295,n.g[3]=n.g[3]+p&4294967295}function Di(n,e){this.h=e;for(var t=[],i=!0,l=n.length-1;0<=l;l--){var p=0|n[l];i&&p==e||(t[l]=p,i=!1)}this.g=t}(rn=Xs.prototype).Oa=function(n){this.M=n},rn.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():wh.g(),this.C=function t1(n){return n.h||(n.h=n.i())}(this.u?this.u:wh),this.g.onreadystatechange=xa(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(p){return void g1(this,p)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var l in i)t.set(l,i[l]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const p of i.keys())t.set(p,i.get(p))}i=Array.from(t.keys()).find(p=>"content-type"==p.toLowerCase()),l=hr.FormData&&n instanceof hr.FormData,!(0<=by(xw,e))||i||l||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[p,_]of t)this.g.setRequestHeader(p,_);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Rw(this),0<this.B&&((this.L=function HE(n){return wd&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=xa(this.ua,this)):this.A=Cf(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(p){g1(this,p)}},rn.ua=function(){typeof fw<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ao(this,"timeout"),this.abort(8))},rn.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ao(this,"complete"),ao(this,"abort"),Rf(this))},rn.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Rf(this,!0)),Xs.$.N.call(this)},rn.La=function(){this.s||(this.G||this.v||this.l?Qy(this):this.kb())},rn.kb=function(){Qy(this)},rn.isActive=function(){return!!this.g},rn.da=function(){try{return 2<ec(this)?this.g.status:-1}catch{return-1}},rn.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},rn.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Mw(e)}},rn.Ia=function(){return this.m},rn.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(rn=zn.prototype).ra=8,rn.H=1,rn.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const l=new Nf(this,this.l,n);let p=this.s;if(this.U&&(p?(p=ww(p),Kp(p,this.U)):p=this.U),null!==this.o||this.O||(l.I=p,p=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Cl(this,l,e),gi(t=au(this.I),"RID",n),gi(t,"CVER",22),this.F&&gi(t,"X-HTTP-Session-Id",this.F),Dl(this,t),p&&(this.O?e="headers="+encodeURIComponent(String(ag(p)))+"&"+e:this.o&&cg(t,this.o,p)),Nm(this.i,l),this.bb&&gi(t,"TYPE","init"),this.P?(gi(t,"$req",e),gi(t,"SID","null"),l.aa=!0,By(l,t,null)):By(l,t,e),this.H=2}}else 3==this.H&&(n?lg(this,n):0==this.j.length||h1(this.i)||lg(this))},rn.Ma=function(){if(this.u=null,Mm(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=bh(xa(this.jb,this),n)}},rn.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Xa(10),Od(this),Mm(this))},rn.ib=function(){null!=this.v&&(this.v=null,Od(this),lu(this),Xa(19))},rn.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Xa(2)):(this.l.info("Failed to ping google.com"),Xa(1))},rn.isActive=function(){return!!this.h&&this.h.isActive(this)},(rn=v1.prototype).Ba=function(){},rn.Aa=function(){},rn.za=function(){},rn.ya=function(){},rn.isActive=function(){return!0},rn.Va=function(){},Pm.prototype.g=function(n,e){return new ts(n,e)},Ro(ts,Wo),ts.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Xa(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=Rm(n,null,n.Y),Hu(n)},ts.prototype.close=function(){kf(this.g)},ts.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=K0(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&Hu(e)},ts.prototype.N=function(){this.g.h=null,delete this.j,kf(this.g),delete this.g,ts.$.N.call(this)},Ro(Jy,eg),Ro(b1,n1),Ro(Ff,v1),Ff.prototype.Ba=function(){ao(this.g,"a")},Ff.prototype.Aa=function(n){ao(this.g,new Jy(n))},Ff.prototype.za=function(n){ao(this.g,new b1)},Ff.prototype.ya=function(){ao(this.g,"b")},Ro(du,function GE(){this.blockSize=-1}),du.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},du.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,l=this.h,p=0;p<e;){if(0==l)for(;p<=t;)vc(this,n,p),p+=this.blockSize;if("string"==typeof n){for(;p<e;)if(i[l++]=n.charCodeAt(p++),l==this.blockSize){vc(this,i),l=0;break}}else for(;p<e;)if(i[l++]=n[p++],l==this.blockSize){vc(this,i),l=0;break}}this.h=l,this.i+=e},du.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var km={};function w1(n){return-128<=n&&128>n?function _w(n,e){var t=km;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Di([0|e],0>e?-1:0)}):new Di([0|n],0>n?-1:0)}function tl(n){if(isNaN(n)||!isFinite(n))return ju;if(0>n)return co(tl(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=Lf;return new Di(e,0)}var Lf=4294967296,ju=w1(0),Fm=w1(1),Lm=w1(16777216);function $u(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function bc(n){return-1==n.h}function co(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new Di(t,~n.h).add(Fm)}function Um(n,e){return n.add(co(e))}function Bm(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function ug(n,e){this.g=n,this.h=e}function Vm(n,e){if($u(e))throw Error("division by zero");if($u(n))return new ug(ju,ju);if(bc(n))return e=Vm(co(n),e),new ug(co(e.g),co(e.h));if(bc(e))return e=Vm(n,co(e)),new ug(co(e.g),e.h);if(30<n.g.length){if(bc(n)||bc(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Fm,i=e;0>=i.X(n);)t=I1(t),i=I1(i);var l=nc(t,1),p=nc(i,1);for(i=nc(i,2),t=nc(t,2);!$u(i);){var _=p.add(i);0>=_.X(n)&&(l=l.add(t),p=_),i=nc(i,1),t=nc(t,1)}return e=Um(n,l.R(e)),new ug(l,e)}for(l=ju;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),_=(p=tl(t)).R(e);bc(_)||0<_.X(n);)_=(p=tl(t-=i)).R(e);$u(p)&&(p=Fm),l=l.add(p),n=Um(n,_)}return new ug(l,n)}function I1(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Di(t,n.h)}function nc(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,l=[],p=0;p<i;p++)l[p]=0<e?n.D(p+t)>>>e|n.D(p+t+1)<<32-e:n.D(p+t);return new Di(l,n.h)}(rn=Di.prototype).ea=function(){if(bc(this))return-co(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:Lf+i)*e,e*=Lf}return n},rn.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if($u(this))return"0";if(bc(this))return"-"+co(this).toString(n);for(var e=tl(Math.pow(n,6)),t=this,i="";;){var l=Vm(t,e).g,p=((0<(t=Um(t,l.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if($u(t=l))return p+i;for(;6>p.length;)p="0"+p;i=p+i}},rn.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},rn.X=function(n){return bc(n=Um(this,n))?-1:$u(n)?0:1},rn.abs=function(){return bc(this)?co(this):this},rn.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,l=0;l<=e;l++){var p=i+(65535&this.D(l))+(65535&n.D(l)),_=(p>>>16)+(this.D(l)>>>16)+(n.D(l)>>>16);i=_>>>16,t[l]=(_&=65535)<<16|(p&=65535)}return new Di(t,-2147483648&t[t.length-1]?-1:0)},rn.R=function(n){if($u(this)||$u(n))return ju;if(bc(this))return bc(n)?co(this).R(co(n)):co(co(this).R(n));if(bc(n))return co(this.R(co(n)));if(0>this.X(Lm)&&0>n.X(Lm))return tl(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var l=0;l<n.g.length;l++){var p=this.D(i)>>>16,_=65535&this.D(i),T=n.D(l)>>>16,F=65535&n.D(l);t[2*i+2*l]+=_*F,Bm(t,2*i+2*l),t[2*i+2*l+1]+=p*F,Bm(t,2*i+2*l+1),t[2*i+2*l+1]+=_*T,Bm(t,2*i+2*l+1),t[2*i+2*l+2]+=p*T,Bm(t,2*i+2*l+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new Di(t,0)},rn.gb=function(n){return Vm(this,n).h},rn.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new Di(t,this.h&n.h)},rn.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new Di(t,this.h|n.h)},rn.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new Di(t,this.h^n.h)},Pm.prototype.createWebChannel=Pm.prototype.g,ts.prototype.send=ts.prototype.u,ts.prototype.open=ts.prototype.m,ts.prototype.close=ts.prototype.close,Jp.NO_ERROR=0,Jp.TIMEOUT=8,Jp.HTTP_ERROR=6,X0.COMPLETE="complete",LE.EventType=Xp,Xp.OPEN="a",Xp.CLOSE="b",Xp.ERROR="c",Xp.MESSAGE="d",Wo.prototype.listen=Wo.prototype.O,Xs.prototype.listenOnce=Xs.prototype.P,Xs.prototype.getLastError=Xs.prototype.Sa,Xs.prototype.getLastErrorCode=Xs.prototype.Ia,Xs.prototype.getStatus=Xs.prototype.da,Xs.prototype.getResponseJson=Xs.prototype.Wa,Xs.prototype.getResponseText=Xs.prototype.ja,Xs.prototype.send=Xs.prototype.ha,Xs.prototype.setWithCredentials=Xs.prototype.Oa,du.prototype.digest=du.prototype.l,du.prototype.reset=du.prototype.reset,du.prototype.update=du.prototype.j,Di.prototype.add=Di.prototype.add,Di.prototype.multiply=Di.prototype.R,Di.prototype.modulo=Di.prototype.gb,Di.prototype.compare=Di.prototype.X,Di.prototype.toNumber=Di.prototype.ea,Di.prototype.toString=Di.prototype.toString,Di.prototype.getBits=Di.prototype.D,Di.fromNumber=tl,Di.fromString=function Xy(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return co(Xy(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=tl(Math.pow(e,8)),i=ju,l=0;l<n.length;l+=8){var p=Math.min(8,n.length-l),_=parseInt(n.substring(l,l+p),e);8>p?(p=tl(Math.pow(e,p)),i=i.R(p).add(tl(_))):i=(i=i.R(t)).add(tl(_))}return i};var zu=El.createWebChannelTransport=function(){return new Pm},ev=El.getStatEventTarget=function(){return ky()},Uf=El.ErrorCode=Jp,Hm=El.EventType=X0,E1=El.Event=Af,tv=El.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Gm=El.FetchXmlHttpFactory=Cd,Bf=El.WebChannel=LE,jE=El.XhrIo=Xs,jm=El.Md5=du,Sh=El.Integer=Di;const Vf="@firebase/firestore";class eo{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}eo.UNAUTHENTICATED=new eo(null),eo.GOOGLE_CREDENTIALS=new eo("google-credentials-uid"),eo.FIRST_PARTY=new eo("first-party-uid"),eo.MOCK_USER=new eo("mock-user");let Sl="9.23.0";const Ra=new Oe.Yd("@firebase/firestore");function $m(){return Ra.logLevel}function xt(n,...e){if(Ra.logLevel<=Oe.in.DEBUG){const t=e.map(nv);Ra.debug(`Firestore (${Sl}): ${n}`,...t)}}function ws(n,...e){if(Ra.logLevel<=Oe.in.ERROR){const t=e.map(nv);Ra.error(`Firestore (${Sl}): ${n}`,...t)}}function Al(n,...e){if(Ra.logLevel<=Oe.in.WARN){const t=e.map(nv);Ra.warn(`Firestore (${Sl}): ${n}`,...t)}}function nv(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function gn(n="Unexpected state"){const e=`FIRESTORE (${Sl}) INTERNAL ASSERTION FAILED: `+n;throw ws(e),new Error(e)}function En(n,e){n||gn()}function Kt(n,e){return n}const ot={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class At extends fe.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class lo{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class iv{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Pw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(eo.UNAUTHENTICATED))}shutdown(){}}class kw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class T1{constructor(e){this.t=e,this.currentUser=eo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let l=this.i;const p=H=>this.i!==l?(l=this.i,t(H)):Promise.resolve();let _=new lo;this.o=()=>{this.i++,this.currentUser=this.u(),_.resolve(),_=new lo,e.enqueueRetryable(()=>p(this.currentUser))};const T=()=>{const H=_;e.enqueueRetryable((0,ue.Z)(function*(){yield H.promise,yield p(i.currentUser)}))},F=H=>{xt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=H,this.auth.addAuthTokenListener(this.o),T()};this.t.onInit(H=>F(H)),setTimeout(()=>{if(!this.auth){const H=this.t.getImmediate({optional:!0});H?F(H):(xt("FirebaseAuthCredentialsProvider","Auth not yet detected"),_.resolve(),_=new lo)}},0),T()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(xt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(En("string"==typeof i.accessToken),new iv(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return En(null===e||"string"==typeof e),new eo(e)}}class sv{constructor(e,t,i){this.h=e,this.l=t,this.m=i,this.type="FirstParty",this.user=eo.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class dg{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new sv(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(eo.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class D1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ov{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const i=p=>{null!=p.error&&xt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${p.error.message}`);const _=p.token!==this.T;return this.T=p.token,xt("FirebaseAppCheckTokenProvider",`Received ${_?"new":"existing"} token.`),_?t(p.token):Promise.resolve()};this.o=p=>{e.enqueueRetryable(()=>i(p))};const l=p=>{xt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=p,this.appCheck.addTokenListener(this.o)};this.I.onInit(p=>l(p)),setTimeout(()=>{if(!this.appCheck){const p=this.I.getImmediate({optional:!0});p?l(p):xt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(En("string"==typeof t.token),this.T=t.token,new D1(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function av(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class C1{static A(){const t=62*Math.floor(256/62);let i="";for(;i.length<20;){const l=av(40);for(let p=0;p<l.length;++p)i.length<20&&l[p]<t&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(l[p]%62))}return i}}function Kn(n,e){return n<e?-1:n>e?1:0}function Hf(n,e,t){return n.length===e.length&&n.every((i,l)=>t(i,e[l]))}class hs{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new At(ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new At(ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new At(ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new At(ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return hs.fromMillis(Date.now())}static fromDate(e){return hs.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new hs(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Kn(this.nanoseconds,e.nanoseconds):Kn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class On{constructor(e){this.timestamp=e}static fromTimestamp(e){return new On(e)}static min(){return new On(new hs(0,0))}static max(){return new On(new hs(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class rc{constructor(e,t,i){void 0===t?t=0:t>e.length&&gn(),void 0===i?i=e.length-t:i>e.length-t&&gn(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===rc.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof rc?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let l=0;l<i;l++){const p=e.get(l),_=t.get(l);if(p<_)return-1;if(p>_)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class qr extends rc{construct(e,t,i){return new qr(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new At(ot.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(l=>l.length>0))}return new qr(t)}static emptyPath(){return new qr([])}}const hg=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Is extends rc{construct(e,t,i){return new Is(e,t,i)}static isValidIdentifier(e){return hg.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Is.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Is(["__name__"])}static fromServerFormat(e){const t=[];let i="",l=0;const p=()=>{if(0===i.length)throw new At(ot.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let _=!1;for(;l<e.length;){const T=e[l];if("\\"===T){if(l+1===e.length)throw new At(ot.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const F=e[l+1];if("\\"!==F&&"."!==F&&"`"!==F)throw new At(ot.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=F,l+=2}else"`"===T?(_=!_,l++):"."!==T||_?(i+=T,l++):(p(),l++)}if(p(),_)throw new At(ot.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Is(t)}static emptyPath(){return new Is([])}}class Jt{constructor(e){this.path=e}static fromPath(e){return new Jt(qr.fromString(e))}static fromName(e){return new Jt(qr.fromString(e).popFirst(5))}static empty(){return new Jt(qr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===qr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return qr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Jt(new qr(e.slice()))}}function lv(n){return new ns(n.readTime,n.key,-1)}class ns{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ns(On.min(),Jt.empty(),-1)}static max(){return new ns(On.max(),Jt.empty(),-1)}}function Wu(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Jt.comparator(n.documentKey,e.documentKey),0!==t?t:Kn(n.largestBatchId,e.largestBatchId))}const uv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Bw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Rd(n){return zm.apply(this,arguments)}function zm(){return zm=(0,ue.Z)(function*(n){if(n.code!==ot.FAILED_PRECONDITION||n.message!==uv)throw n;xt("LocalStore","Unexpectedly lost primary lease")}),zm.apply(this,arguments)}class Ye{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&gn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ye((i,l)=>{this.nextCallback=p=>{this.wrapSuccess(e,p).next(i,l)},this.catchCallback=p=>{this.wrapFailure(t,p).next(i,l)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ye?t:Ye.resolve(t)}catch(t){return Ye.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ye.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ye.reject(t)}static resolve(e){return new Ye((t,i)=>{t(e)})}static reject(e){return new Ye((t,i)=>{i(e)})}static waitFor(e){return new Ye((t,i)=>{let l=0,p=0,_=!1;e.forEach(T=>{++l,T.next(()=>{++p,_&&p===l&&t()},F=>i(F))}),_=!0,p===l&&t()})}static or(e){let t=Ye.resolve(!1);for(const i of e)t=t.next(l=>l?Ye.resolve(l):i());return t}static forEach(e,t){const i=[];return e.forEach((l,p)=>{i.push(t.call(this,l,p))}),this.waitFor(i)}static mapArray(e,t){return new Ye((i,l)=>{const p=e.length,_=new Array(p);let T=0;for(let F=0;F<p;F++){const H=F;t(e[H]).next(te=>{_[H]=te,++T,T===p&&i(_)},te=>l(te))}})}static doWhile(e,t){return new Ye((i,l)=>{const p=()=>{!0===e()?t().next(()=>{p()},l):i()};p()})}}function fu(n){return"IndexedDbTransactionError"===n.name}let Fi=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=l=>this.ot(l),this.ut=l=>i.writeSequenceNumber(l))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Pd(n){return null==n}function pu(n){return 0===n&&1/n==-1/0}function Rh(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ka(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function mg(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class mi{constructor(e,t){this.comparator=e,this.root=t||ho.EMPTY}insert(e,t){return new mi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ho.BLACK,null,null))}remove(e){return new mi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ho.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const l=this.comparator(e,i.key);if(0===l)return t+i.left.size;l<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zu(this.root,e,this.comparator,!0)}}class Zu{constructor(e,t,i,l){this.isReverse=l,this.nodeStack=[];let p=1;for(;!e.isEmpty();)if(p=t?i(e.key,t):1,t&&l&&(p*=-1),p<0)e=this.isReverse?e.left:e.right;else{if(0===p){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ho{constructor(e,t,i,l,p){this.key=e,this.value=t,this.color=i??ho.RED,this.left=l??ho.EMPTY,this.right=p??ho.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,l,p){return new ho(e??this.key,t??this.value,i??this.color,l??this.left,p??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let l=this;const p=i(e,l.key);return l=p<0?l.copy(null,null,null,l.left.insert(e,t,i),null):0===p?l.copy(null,t,null,null,null):l.copy(null,null,null,null,l.right.insert(e,t,i)),l.fixUp()}removeMin(){if(this.left.isEmpty())return ho.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,l=this;if(t(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,t),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===t(e,l.key)){if(l.right.isEmpty())return ho.EMPTY;i=l.right.min(),l=l.copy(i.key,i.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,t))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ho.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ho.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw gn();const e=this.left.check();if(e!==this.right.check())throw gn();return e+(this.isRed()?0:1)}}ho.EMPTY=null,ho.RED=!0,ho.BLACK=!1,ho.EMPTY=new class{constructor(){this.size=0}get key(){throw gn()}get value(){throw gn()}get color(){throw gn()}get left(){throw gn()}get right(){throw gn()}copy(n,e,t,i,l){return this}insert(n,e,t){return new ho(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ki{constructor(e){this.comparator=e,this.data=new mi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const l=i.getNext();if(this.comparator(l.key,e[1])>=0)return;t(l.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ph(this.data.getIterator())}getIteratorFrom(e){return new Ph(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Ki)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const l=t.getNext().key,p=i.getNext().key;if(0!==this.comparator(l,p))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ki(this.comparator);return t.data=e,t}}class Ph{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Fa{constructor(e){this.fields=e,e.sort(Is.comparator)}static empty(){return new Fa([])}unionWith(e){let t=new Ki(Is.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Fa(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Hf(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class mv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Es{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new mv("Invalid base64 string: "+l):l}}(e);return new Es(t)}static fromUint8Array(e){const t=function(i){let l="";for(let p=0;p<i.length;++p)l+=String.fromCharCode(i[p]);return l}(e);return new Es(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Kn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Es.EMPTY_BYTE_STRING=new Es("");const _g=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lc(n){if(En(!!n),"string"==typeof n){let e=0;const t=_g.exec(n);if(En(!!t),t[1]){let l=t[1];l=(l+"000000000").substr(0,9),e=Number(l)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ps(n.seconds),nanos:Ps(n.nanos)}}function Ps(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Nl(n){return"string"==typeof n?Es.fromBase64String(n):Es.fromUint8Array(n)}function yg(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Ku(n){const e=n.mapValue.fields.__previous_value__;return yg(e)?Ku(e):e}function qf(n){const e=Lc(n.mapValue.fields.__local_write_time__.timestampValue);return new hs(e.seconds,e.nanos)}class _v{constructor(e,t,i,l,p,_,T,F,H){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=l,this.ssl=p,this.forceLongPolling=_,this.autoDetectLongPolling=T,this.longPollingOptions=F,this.useFetchStreams=H}}class Ld{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ld("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ld&&e.projectId===this.projectId&&e.database===this.database}}const nl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ol(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?yg(n)?4:vv(n)?9007199254740991:10:gn()}function rl(n,e){if(n===e)return!0;const t=Ol(n);if(t!==Ol(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return qf(n).isEqual(qf(e));case 3:return function(i,l){if("string"==typeof i.timestampValue&&"string"==typeof l.timestampValue&&i.timestampValue.length===l.timestampValue.length)return i.timestampValue===l.timestampValue;const p=Lc(i.timestampValue),_=Lc(l.timestampValue);return p.seconds===_.seconds&&p.nanos===_.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return l=e,Nl(n.bytesValue).isEqual(Nl(l.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,l){return Ps(i.geoPointValue.latitude)===Ps(l.geoPointValue.latitude)&&Ps(i.geoPointValue.longitude)===Ps(l.geoPointValue.longitude)}(n,e);case 2:return function(i,l){if("integerValue"in i&&"integerValue"in l)return Ps(i.integerValue)===Ps(l.integerValue);if("doubleValue"in i&&"doubleValue"in l){const p=Ps(i.doubleValue),_=Ps(l.doubleValue);return p===_?pu(p)===pu(_):isNaN(p)&&isNaN(_)}return!1}(n,e);case 9:return Hf(n.arrayValue.values||[],e.arrayValue.values||[],rl);case 10:return function(i,l){const p=i.mapValue.fields||{},_=l.mapValue.fields||{};if(Rh(p)!==Rh(_))return!1;for(const T in p)if(p.hasOwnProperty(T)&&(void 0===_[T]||!rl(p[T],_[T])))return!1;return!0}(n,e);default:return gn()}var l}function Fh(n,e){return void 0!==(n.values||[]).find(t=>rl(t,e))}function Ud(n,e){if(n===e)return 0;const t=Ol(n),i=Ol(e);if(t!==i)return Kn(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Kn(n.booleanValue,e.booleanValue);case 2:return function(l,p){const _=Ps(l.integerValue||l.doubleValue),T=Ps(p.integerValue||p.doubleValue);return _<T?-1:_>T?1:_===T?0:isNaN(_)?isNaN(T)?0:-1:1}(n,e);case 3:return yv(n.timestampValue,e.timestampValue);case 4:return yv(qf(n),qf(e));case 5:return Kn(n.stringValue,e.stringValue);case 6:return function(l,p){const _=Nl(l),T=Nl(p);return _.compareTo(T)}(n.bytesValue,e.bytesValue);case 7:return function(l,p){const _=l.split("/"),T=p.split("/");for(let F=0;F<_.length&&F<T.length;F++){const H=Kn(_[F],T[F]);if(0!==H)return H}return Kn(_.length,T.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,p){const _=Kn(Ps(l.latitude),Ps(p.latitude));return 0!==_?_:Kn(Ps(l.longitude),Ps(p.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(l,p){const _=l.values||[],T=p.values||[];for(let F=0;F<_.length&&F<T.length;++F){const H=Ud(_[F],T[F]);if(H)return H}return Kn(_.length,T.length)}(n.arrayValue,e.arrayValue);case 10:return function(l,p){if(l===nl.mapValue&&p===nl.mapValue)return 0;if(l===nl.mapValue)return 1;if(p===nl.mapValue)return-1;const _=l.fields||{},T=Object.keys(_),F=p.fields||{},H=Object.keys(F);T.sort(),H.sort();for(let te=0;te<T.length&&te<H.length;++te){const ge=Kn(T[te],H[te]);if(0!==ge)return ge;const Ue=Ud(_[T[te]],F[H[te]]);if(0!==Ue)return Ue}return Kn(T.length,H.length)}(n.mapValue,e.mapValue);default:throw gn()}}function yv(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Kn(n,e);const t=Lc(n),i=Lc(e),l=Kn(t.seconds,i.seconds);return 0!==l?l:Kn(t.nanos,i.nanos)}function Bd(n){return vg(n)}function vg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const l=Lc(i);return`time(${l.seconds},${l.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Nl(n.bytesValue).toBase64():"referenceValue"in n?Jt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let l="[",p=!0;for(const _ of i.values||[])p?p=!1:l+=",",l+=vg(_);return l+"]"}(n.arrayValue):"mapValue"in n?function(i){const l=Object.keys(i.fields||{}).sort();let p="{",_=!0;for(const T of l)_?_=!1:p+=",",p+=`${T}:${vg(i.fields[T])}`;return p+"}"}(n.mapValue):gn();var e}function Vd(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Zf(n){return!!n&&"integerValue"in n}function il(n){return!!n&&"arrayValue"in n}function qm(n){return!!n&&"nullValue"in n}function Kf(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Zm(n){return!!n&&"mapValue"in n}function Yf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ka(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Yf(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Yf(n.arrayValue.values[t]);return e}return Object.assign({},n)}function vv(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class pa{constructor(e){this.value=e}static empty(){return new pa({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Zm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yf(t)}setAll(e){let t=Is.emptyPath(),i={},l=[];e.forEach((_,T)=>{if(!t.isImmediateParentOf(T)){const F=this.getFieldsMap(t);this.applyChanges(F,i,l),i={},l=[],t=T.popLast()}_?i[T.lastSegment()]=Yf(_):l.push(T.lastSegment())});const p=this.getFieldsMap(t);this.applyChanges(p,i,l)}delete(e){const t=this.field(e.popLast());Zm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return rl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let l=t.mapValue.fields[e.get(i)];Zm(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=l),t=l}return t.mapValue.fields}applyChanges(e,t,i){ka(t,(l,p)=>e[l]=p);for(const l of i)delete e[l]}clone(){return new pa(Yf(this.value))}}function Qm(n){const e=[];return ka(n.fields,(t,i)=>{const l=new Is([t]);if(Zm(i)){const p=Qm(i.mapValue).fields;if(0===p.length)e.push(l);else for(const _ of p)e.push(l.child(_))}else e.push(l)}),new Fa(e)}class Li{constructor(e,t,i,l,p,_,T){this.key=e,this.documentType=t,this.version=i,this.readTime=l,this.createTime=p,this.data=_,this.documentState=T}static newInvalidDocument(e){return new Li(e,0,On.min(),On.min(),On.min(),pa.empty(),0)}static newFoundDocument(e,t,i,l){return new Li(e,1,t,On.min(),i,l,0)}static newNoDocument(e,t){return new Li(e,2,t,On.min(),On.min(),pa.empty(),0)}static newUnknownDocument(e,t){return new Li(e,3,t,On.min(),On.min(),pa.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(On.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pa.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pa.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=On.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Li&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Li(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ml{constructor(e,t){this.position=e,this.inclusive=t}}function Jm(n,e,t){let i=0;for(let l=0;l<n.position.length;l++){const p=e[l],_=n.position[l];if(i=p.field.isKeyField()?Jt.comparator(Jt.fromName(_.referenceValue),t.key):Ud(_,t.data.field(p.field)),"desc"===p.dir&&(i*=-1),0!==i)break}return i}function Xm(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!rl(n.position[t],e.position[t]))return!1;return!0}class Lh{constructor(e,t="asc"){this.field=e,this.dir=t}}function Zw(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class e_{}class Hr extends e_{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new Kw(e,t,i):"array-contains"===t?new R1(e,i):"in"===t?new Dv(e,i):"not-in"===t?new s_(e,i):"array-contains-any"===t?new Hd(e,i):new Hr(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new i_(e,i):new Ev(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ud(t,this.value)):null!==t&&Ol(this.value)===Ol(t)&&this.matchesComparison(Ud(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return gn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class li extends e_{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new li(e,t)}matches(e){return Ju(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Ju(n){return"and"===n.op}function t_(n){return function n_(n){for(const e of n.filters)if(e instanceof li)return!1;return!0}(n)&&Ju(n)}function r_(n){if(n instanceof Hr)return n.field.canonicalString()+n.op.toString()+Bd(n.value);if(t_(n))return n.filters.map(e=>r_(e)).join(",");{const e=n.filters.map(t=>r_(t)).join(",");return`${n.op}(${e})`}}function bg(n,e){return n instanceof Hr?(t=n,(i=e)instanceof Hr&&t.op===i.op&&t.field.isEqual(i.field)&&rl(t.value,i.value)):n instanceof li?function(t,i){return i instanceof li&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((l,p,_)=>l&&bg(p,i.filters[_]),!0)}(n,e):void gn();var t,i}function Iv(n){return n instanceof Hr?`${(e=n).field.canonicalString()} ${e.op} ${Bd(e.value)}`:n instanceof li?function(e){return e.op.toString()+" {"+e.getFilters().map(Iv).join(" ,")+"}"}(n):"Filter";var e}class Kw extends Hr{constructor(e,t,i){super(e,t,i),this.key=Jt.fromName(i.referenceValue)}matches(e){const t=Jt.comparator(e.key,this.key);return this.matchesComparison(t)}}class i_ extends Hr{constructor(e,t){super(e,"in",t),this.keys=Tv(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Ev extends Hr{constructor(e,t){super(e,"not-in",t),this.keys=Tv(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Tv(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>Jt.fromName(i.referenceValue))}class R1 extends Hr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return il(t)&&Fh(t.arrayValue,this.value)}}class Dv extends Hr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Fh(this.value.arrayValue,t)}}class s_ extends Hr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Fh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Fh(this.value.arrayValue,t)}}class Hd extends Hr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!il(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Fh(this.value.arrayValue,i))}}class ZE{constructor(e,t=null,i=[],l=[],p=null,_=null,T=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=l,this.limit=p,this.startAt=_,this.endAt=T,this.dt=null}}function Cv(n,e=null,t=[],i=[],l=null,p=null,_=null){return new ZE(n,e,t,i,l,p,_)}function Xu(n){const e=Kt(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>r_(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(l=i).field.canonicalString()+l.dir;var l}).join(","),Pd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Bd(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Bd(i)).join(",")),e.dt=t}return e.dt}function xl(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Zw(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!bg(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Xm(n.startAt,e.startAt)&&Xm(n.endAt,e.endAt)}function Jf(n){return Jt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Gd{constructor(e,t=null,i=[],l=[],p=null,_="F",T=null,F=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=l,this.limit=p,this.limitType=_,this.startAt=T,this.endAt=F,this.wt=null,this._t=null}}function jd(n){return new Gd(n)}function Sv(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Ig(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Ts(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function a_(n){return null!==n.collectionGroup}function Uh(n){const e=Kt(n);if(null===e.wt){e.wt=[];const t=Ts(e),i=Ig(e);if(null!==t&&null===i)t.isKeyField()||e.wt.push(new Lh(t)),e.wt.push(new Lh(Is.keyField(),"asc"));else{let l=!1;for(const p of e.explicitOrderBy)e.wt.push(p),p.field.isKeyField()&&(l=!0);if(!l){const p=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Lh(Is.keyField(),p))}}}return e.wt}function sc(n){const e=Kt(n);if(!e._t)if("F"===e.limitType)e._t=Cv(e.path,e.collectionGroup,Uh(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const p of Uh(e))t.push(new Lh(p.field,"desc"===p.dir?"asc":"desc"));const i=e.endAt?new Ml(e.endAt.position,e.endAt.inclusive):null,l=e.startAt?new Ml(e.startAt.position,e.startAt.inclusive):null;e._t=Cv(e.path,e.collectionGroup,t,e.filters,e.limit,i,l)}return e._t}function c_(n,e){e.getFirstInequalityField(),Ts(n);const t=n.filters.concat([e]);return new Gd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function ep(n,e,t){return new Gd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function tp(n,e){return xl(sc(n),sc(e))&&n.limitType===e.limitType}function Av(n){return`${Xu(sc(n))}|lt:${n.limitType}`}function ed(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>Iv(i)).join(", ")}]`),Pd(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(l=i).field.canonicalString()} (${l.dir})`;var l}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Bd(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Bd(i)).join(",")),`Target(${t})`}(sc(n))}; limitType=${n.limitType})`}function Eg(n,e){return e.isFoundDocument()&&function(t,i){const l=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(l):Jt.isDocumentKey(t.path)?t.path.isEqual(l):t.path.isImmediateParentOf(l)}(n,e)&&function(t,i){for(const l of Uh(t))if(!l.field.isKeyField()&&null===i.data.field(l.field))return!1;return!0}(n,e)&&function(t,i){for(const l of t.filters)if(!l.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(l,p,_){const T=Jm(l,p,_);return l.inclusive?T<=0:T<0}(t.startAt,Uh(t),i)||t.endAt&&!function(l,p,_){const T=Jm(l,p,_);return l.inclusive?T>=0:T>0}(t.endAt,Uh(t),i)));var t,i}function F1(n){return(e,t)=>{let i=!1;for(const l of Uh(n)){const p=L1(l,e,t);if(0!==p)return p;i=i||l.field.isKeyField()}return 0}}function L1(n,e,t){const i=n.field.isKeyField()?Jt.comparator(e.key,t.key):function(l,p,_){const T=p.data.field(l),F=_.data.field(l);return null!==T&&null!==F?Ud(T,F):gn()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return gn()}}class gu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[l,p]of i)if(this.equalsFn(l,e))return p}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),l=this.inner[i];if(void 0===l)return this.inner[i]=[[e,t]],void this.innerSize++;for(let p=0;p<l.length;p++)if(this.equalsFn(l[p][0],e))return void(l[p]=[e,t]);l.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return 1===i.length?delete this.inner[t]:i.splice(l,1),this.innerSize--,!0;return!1}forEach(e){ka(this.inner,(t,i)=>{for(const[l,p]of i)e(l,p)})}isEmpty(){return mg(this.inner)}size(){return this.innerSize}}const KE=new mi(Jt.comparator);function Ic(){return KE}const l_=new mi(Jt.comparator);function Ec(...n){let e=l_;for(const t of n)e=e.insert(t.key,t);return e}function Nv(n){let e=l_;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function sl(){return oc()}function Rl(){return oc()}function oc(){return new gu(n=>n.toString(),(n,e)=>n.isEqual(e))}const mu=new mi(Jt.comparator),Qw=new Ki(Jt.comparator);function fr(...n){let e=Qw;for(const t of n)e=e.add(t);return e}const c=new Ki(Kn);function o(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pu(e)?"-0":e}}function d(n){return{integerValue:""+n}}function m(n,e){return function kd(n){return"number"==typeof n&&Number.isInteger(n)&&!pu(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?d(e):o(n,e)}class I{constructor(){this._=void 0}}function x(n,e,t){return n instanceof he?function(i,l){const p={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return l&&yg(l)&&(l=Ku(l)),l&&(p.fields.__previous_value__=l),{mapValue:p}}(t,e):n instanceof ye?$e(n,e):n instanceof nt?lt(n,e):function(i,l){const p=se(i,l),_=Bt(p)+Bt(i.gt);return Zf(p)&&Zf(i.gt)?d(_):o(i.serializer,_)}(n,e)}function Z(n,e,t){return n instanceof ye?$e(n,e):n instanceof nt?lt(n,e):t}function se(n,e){return n instanceof Ct?Zf(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class he extends I{}class ye extends I{constructor(e){super(),this.elements=e}}function $e(n,e){const t=zt(e);for(const i of n.elements)t.some(l=>rl(l,i))||t.push(i);return{arrayValue:{values:t}}}class nt extends I{constructor(e){super(),this.elements=e}}function lt(n,e){let t=zt(e);for(const i of n.elements)t=t.filter(l=>!rl(l,i));return{arrayValue:{values:t}}}class Ct extends I{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Bt(n){return Ps(n.integerValue||n.doubleValue)}function zt(n){return il(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class An{constructor(e,t){this.field=e,this.transform=t}}class pr{constructor(e,t){this.version=e,this.transformResults=t}}class Wt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Wt}static exists(e){return new Wt(void 0,e)}static updateTime(e){return new Wt(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cr(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class er{}function gr(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new mn(n.key,Wt.none()):new Ds(n.key,n.data,Wt.none());{const t=n.data,i=pa.empty();let l=new Ki(Is.comparator);for(let p of e.fields)if(!l.has(p)){let _=t.field(p);null===_&&p.length>1&&(p=p.popLast(),_=t.field(p)),null===_?i.delete(p):i.set(p,_),l=l.add(p)}return new ui(n.key,i,new Fa(l.toArray()),Wt.none())}}function Gr(n,e,t){n instanceof Ds?function(i,l,p){const _=i.value.clone(),T=kl(i.fieldTransforms,l,p.transformResults);_.setAll(T),l.convertToFoundDocument(p.version,_).setHasCommittedMutations()}(n,e,t):n instanceof ui?function(i,l,p){if(!cr(i.precondition,l))return void l.convertToUnknownDocument(p.version);const _=kl(i.fieldTransforms,l,p.transformResults),T=l.data;T.setAll(Pl(i)),T.setAll(_),l.convertToFoundDocument(p.version,T).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function ei(n,e,t,i){return n instanceof Ds?function(l,p,_,T){if(!cr(l.precondition,p))return _;const F=l.value.clone(),H=tn(l.fieldTransforms,T,p);return F.setAll(H),p.convertToFoundDocument(p.version,F).setHasLocalMutations(),null}(n,e,t,i):n instanceof ui?function(l,p,_,T){if(!cr(l.precondition,p))return _;const F=tn(l.fieldTransforms,T,p),H=p.data;return H.setAll(Pl(l)),H.setAll(F),p.convertToFoundDocument(p.version,H).setHasLocalMutations(),null===_?null:_.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(te=>te.field))}(n,e,t,i):(_=t,cr(n.precondition,p=e)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):_);var p,_}function di(n,e){let t=null;for(const i of n.fieldTransforms){const l=e.data.field(i.field),p=se(i.transform,l||null);null!=p&&(null===t&&(t=pa.empty()),t.set(i.field,p))}return t||null}function no(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&Hf(t,i,(l,p)=>function Bn(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof ye&&i instanceof ye||t instanceof nt&&i instanceof nt?Hf(t.elements,i.elements,rl):t instanceof Ct&&i instanceof Ct?rl(t.gt,i.gt):t instanceof he&&i instanceof he);var t,i}(l,p))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class Ds extends er{constructor(e,t,i,l=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ui extends er{constructor(e,t,i,l,p=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=l,this.fieldTransforms=p,this.type=1}getFieldMask(){return this.fieldMask}}function Pl(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function kl(n,e,t){const i=new Map;En(n.length===t.length);for(let l=0;l<t.length;l++){const p=n[l],_=p.transform,T=e.data.field(p.field);i.set(p.field,Z(_,T,t[l]))}return i}function tn(n,e,t){const i=new Map;for(const l of n){const p=l.transform,_=t.data.field(l.field);i.set(l.field,x(p,_,e))}return i}class mn extends er{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Vn extends er{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class mr{constructor(e,t,i,l){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=l}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let l=0;l<this.mutations.length;l++){const p=this.mutations[l];p.key.isEqual(e.key)&&Gr(p,e,i[l])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=ei(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=ei(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=Rl();return this.mutations.forEach(l=>{const p=e.get(l.key),_=p.overlayedDocument;let T=this.applyToLocalView(_,p.mutatedFields);T=t.has(l.key)?null:T;const F=gr(_,T);null!==F&&i.set(l.key,F),_.isValidDocument()||_.convertToNoDocument(On.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),fr())}isEqual(e){return this.batchId===e.batchId&&Hf(this.mutations,e.mutations,(t,i)=>no(t,i))&&Hf(this.baseMutations,e.baseMutations,(t,i)=>no(t,i))}}class rs{constructor(e,t,i,l){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=l}static from(e,t,i){En(e.mutations.length===i.length);let l=mu;const p=e.mutations;for(let _=0;_<p.length;_++)l=l.insert(p[_].key,i[_].version);return new rs(e,t,i,l)}}class La{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Uc{constructor(e,t){this.count=e,this.unchangedNames=t}}var Jn,lr;function ks(n){if(void 0===n)return ws("GRPC error has no .code"),ot.UNKNOWN;switch(n){case Jn.OK:return ot.OK;case Jn.CANCELLED:return ot.CANCELLED;case Jn.UNKNOWN:return ot.UNKNOWN;case Jn.DEADLINE_EXCEEDED:return ot.DEADLINE_EXCEEDED;case Jn.RESOURCE_EXHAUSTED:return ot.RESOURCE_EXHAUSTED;case Jn.INTERNAL:return ot.INTERNAL;case Jn.UNAVAILABLE:return ot.UNAVAILABLE;case Jn.UNAUTHENTICATED:return ot.UNAUTHENTICATED;case Jn.INVALID_ARGUMENT:return ot.INVALID_ARGUMENT;case Jn.NOT_FOUND:return ot.NOT_FOUND;case Jn.ALREADY_EXISTS:return ot.ALREADY_EXISTS;case Jn.PERMISSION_DENIED:return ot.PERMISSION_DENIED;case Jn.FAILED_PRECONDITION:return ot.FAILED_PRECONDITION;case Jn.ABORTED:return ot.ABORTED;case Jn.OUT_OF_RANGE:return ot.OUT_OF_RANGE;case Jn.UNIMPLEMENTED:return ot.UNIMPLEMENTED;case Jn.DATA_LOSS:return ot.DATA_LOSS;default:return gn()}}(lr=Jn||(Jn={}))[lr.OK=0]="OK",lr[lr.CANCELLED=1]="CANCELLED",lr[lr.UNKNOWN=2]="UNKNOWN",lr[lr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",lr[lr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",lr[lr.NOT_FOUND=5]="NOT_FOUND",lr[lr.ALREADY_EXISTS=6]="ALREADY_EXISTS",lr[lr.PERMISSION_DENIED=7]="PERMISSION_DENIED",lr[lr.UNAUTHENTICATED=16]="UNAUTHENTICATED",lr[lr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",lr[lr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",lr[lr.ABORTED=10]="ABORTED",lr[lr.OUT_OF_RANGE=11]="OUT_OF_RANGE",lr[lr.UNIMPLEMENTED=12]="UNIMPLEMENTED",lr[lr.INTERNAL=13]="INTERNAL",lr[lr.UNAVAILABLE=14]="UNAVAILABLE",lr[lr.DATA_LOSS=15]="DATA_LOSS";class ga{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return ko}static getOrCreateInstance(){return null===ko&&(ko=new ga),ko}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let ko=null;const zd=new Sh([4294967295,4294967295],0);function Ov(n){const e=function Bh(){return new TextEncoder}().encode(n),t=new jm;return t.update(e),new Uint8Array(t.digest())}function u_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),l=e.getUint32(8,!0),p=e.getUint32(12,!0);return[new Sh([t,i],0),new Sh([l,p],0)]}class d_{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new np(`Invalid padding: ${t}`);if(i<0)throw new np(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new np(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new np(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Sh.fromNumber(this.It)}Et(e,t,i){let l=e.add(t.multiply(Sh.fromNumber(i)));return 1===l.compare(zd)&&(l=new Sh([l.getBits(0),l.getBits(1)],0)),l.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Ov(e),[i,l]=u_(t);for(let p=0;p<this.hashCount;p++){const _=this.Et(i,l,p);if(!this.At(_))return!1}return!0}static create(e,t,i){const l=e%8==0?0:8-e%8,p=new Uint8Array(Math.ceil(e/8)),_=new d_(p,l,t);return i.forEach(T=>_.insert(T)),_}insert(e){if(0===this.It)return;const t=Ov(e),[i,l]=u_(t);for(let p=0;p<this.hashCount;p++){const _=this.Et(i,l,p);this.Rt(_)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class np extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Vh{constructor(e,t,i,l,p){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=l,this.resolvedLimboDocuments=p}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const l=new Map;return l.set(e,Hh.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Vh(On.min(),l,new mi(Kn),Ic(),fr())}}class Hh{constructor(e,t,i,l,p){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=l,this.removedDocuments=p}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Hh(i,t,fr(),fr(),fr())}}class Tg{constructor(e,t,i,l){this.Pt=e,this.removedTargetIds=t,this.key=i,this.bt=l}}class Mv{constructor(e,t){this.targetId=e,this.Vt=t}}class _u{constructor(e,t,i=Es.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=l}}class rp{constructor(){this.St=0,this.Dt=h_(),this.Ct=Es.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=fr(),t=fr(),i=fr();return this.Dt.forEach((l,p)=>{switch(p){case 0:e=e.add(l);break;case 2:t=t.add(l);break;case 1:i=i.add(l);break;default:gn()}}),new Hh(this.Ct,this.xt,e,t,i)}Ft(){this.Nt=!1,this.Dt=h_()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Wd{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Ic(),this.zt=xv(),this.Wt=new mi(Kn)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const i=this.Zt(t);switch(e.state){case 0:this.te(t)&&i.$t(e.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(e.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(t);break;case 3:this.te(t)&&(i.Kt(),i.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),i.$t(e.resumeToken));break;default:gn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((i,l)=>{this.te(l)&&t(l)})}ne(e){var t;const i=e.targetId,l=e.Vt.count,p=this.se(i);if(p){const _=p.target;if(Jf(_))if(0===l){const T=new Jt(_.path);this.Yt(i,T,Li.newNoDocument(T,On.min()))}else En(1===l);else{const T=this.ie(i);if(T!==l){const F=this.re(e,T);0!==F&&(this.ee(i),this.Wt=this.Wt.insert(i,2===F?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=ga.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(H,te,ge){var Ue,ct,Ft,sn,an,Er;const ti={localCacheCount:te,existenceFilterCount:ge.count},Rr=ge.unchangedNames;return Rr&&(ti.bloomFilter={applied:0===H,hashCount:null!==(Ue=Rr?.hashCount)&&void 0!==Ue?Ue:0,bitmapLength:null!==(sn=null===(Ft=null===(ct=Rr?.bits)||void 0===ct?void 0:ct.bitmap)||void 0===Ft?void 0:Ft.length)&&void 0!==sn?sn:0,padding:null!==(Er=null===(an=Rr?.bits)||void 0===an?void 0:an.padding)&&void 0!==Er?Er:0}),ti}(F,T,e.Vt))}}}}re(e,t){const{unchangedNames:i,count:l}=e.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:p="",padding:_=0},hashCount:T=0}=i;let F,H;try{F=Nl(p).toUint8Array()}catch(te){if(te instanceof mv)return Al("Decoding the base64 bloom filter in existence filter failed ("+te.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw te}try{H=new d_(F,_,T)}catch(te){return Al(te instanceof np?"BloomFilter error: ":"Applying bloom filter failed: ",te),1}return 0===H.It?1:l!==t-this.oe(e.targetId,H)?2:0}oe(e,t){const i=this.Gt.getRemoteKeysForTarget(e);let l=0;return i.forEach(p=>{const _=this.Gt.ue(),T=`projects/${_.projectId}/databases/${_.database}/documents/${p.path.canonicalString()}`;t.vt(T)||(this.Yt(e,p,null),l++)}),l}ce(e){const t=new Map;this.Qt.forEach((p,_)=>{const T=this.se(_);if(T){if(p.current&&Jf(T.target)){const F=new Jt(T.target.path);null!==this.jt.get(F)||this.ae(_,F)||this.Yt(_,F,Li.newNoDocument(F,e))}p.Mt&&(t.set(_,p.Ot()),p.Ft())}});let i=fr();this.zt.forEach((p,_)=>{let T=!0;_.forEachWhile(F=>{const H=this.se(F);return!H||"TargetPurposeLimboResolution"===H.purpose||(T=!1,!1)}),T&&(i=i.add(p))}),this.jt.forEach((p,_)=>_.setReadTime(e));const l=new Vh(e,t,this.Wt,this.jt,i);return this.jt=Ic(),this.zt=xv(),this.Wt=new mi(Kn),l}Jt(e,t){if(!this.te(e))return;const i=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,i),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,i){if(!this.te(e))return;const l=this.Zt(e);this.ae(e,t)?l.Bt(t,1):l.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),i&&(this.jt=this.jt.insert(t,i))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new rp,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Ki(Kn),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||xt("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new rp),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function xv(){return new mi(Jt.comparator)}function h_(){return new mi(Jt.comparator)}const Gh={asc:"ASCENDING",desc:"DESCENDING"},Jw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},f_={and:"AND",or:"OR"};class Xw{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function U1(n,e){return n.useProto3Json||Pd(e)?e:{value:e}}function Dg(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $D(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function p_(n,e){return Dg(n,e.toTimestamp())}function Fo(n){return En(!!n),On.fromTimestamp(function(e){const t=Lc(e);return new hs(t.seconds,t.nanos)}(n))}function eI(n,e){return(t=n,new qr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function YE(n){const e=qr.fromString(n);return En(__(e)),e}function qd(n,e){return eI(n.databaseId,e.path)}function Zd(n,e){const t=YE(e);if(t.get(1)!==n.databaseId.projectId)throw new At(ot.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new At(ot.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Jt(zD(t))}function g_(n,e){return eI(n.databaseId,e)}function Ua(n){return new qr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function zD(n){return En(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function tI(n,e,t){return{name:qd(n,e),fields:t.value.mapValue.fields}}function XE(n,e){return{documents:[g_(n,e.path)]}}function rI(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=g_(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=g_(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const l=function(F){if(0!==F.length)return iI(li.create(F,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const p=function(F){if(0!==F.length)return F.map(H=>{return{field:jh((te=H).field),direction:qD(te.dir)};var te})}(e.orderBy);p&&(t.structuredQuery.orderBy=p);const _=U1(n,e.limit);var T,F;return null!==_&&(t.structuredQuery.limit=_),e.startAt&&(t.structuredQuery.startAt={before:(T=e.startAt).inclusive,values:T.position}),e.endAt&&(t.structuredQuery.endAt={before:!(F=e.endAt).inclusive,values:F.position}),t}function eT(n){let e=function Rv(n){const e=YE(n);return 4===e.length?qr.emptyPath():zD(e)}(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let l=null;if(i>0){En(1===i);const te=t.from[0];te.allDescendants?l=te.collectionId:e=e.child(te.collectionId)}let p=[];t.where&&(p=function(te){const ge=tT(te);return ge instanceof li&&t_(ge)?ge.getFilters():[ge]}(t.where));let _=[];t.orderBy&&(_=t.orderBy.map(te=>{return new Lh(Cg((ge=te).field),function(Ue){switch(Ue){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(ge.direction));var ge}));let T=null;t.limit&&(T=function(te){let ge;return ge="object"==typeof te?te.value:te,Pd(ge)?null:ge}(t.limit));let F=null;var te;t.startAt&&(F=new Ml((te=t.startAt).values||[],!!te.before));let H=null;return t.endAt&&(H=function(te){return new Ml(te.values||[],!te.before)}(t.endAt)),function P1(n,e,t,i,l,p,_,T){return new Gd(n,e,t,i,l,p,_,T)}(e,l,_,p,T,"F",F,H)}function tT(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Cg(e.unaryFilter.field);return Hr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=Cg(e.unaryFilter.field);return Hr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Cg(e.unaryFilter.field);return Hr.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=Cg(e.unaryFilter.field);return Hr.create(p,"!=",{nullValue:"NULL_VALUE"});default:return gn()}}(n):void 0!==n.fieldFilter?Hr.create(Cg((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return gn()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return li.create(e.compositeFilter.filters.map(t=>tT(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return gn()}}(e.compositeFilter.op))}(n):gn();var e}function qD(n){return Gh[n]}function ZD(n){return Jw[n]}function V1(n){return f_[n]}function jh(n){return{fieldPath:n.canonicalString()}}function Cg(n){return Is.fromServerFormat(n.fieldPath)}function iI(n){return n instanceof Hr?function(e){if("=="===e.op){if(Kf(e.value))return{unaryFilter:{field:jh(e.field),op:"IS_NAN"}};if(qm(e.value))return{unaryFilter:{field:jh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Kf(e.value))return{unaryFilter:{field:jh(e.field),op:"IS_NOT_NAN"}};if(qm(e.value))return{unaryFilter:{field:jh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jh(e.field),op:ZD(e.op),value:e.value}}}(n):n instanceof li?function(e){const t=e.getFilters().map(i=>iI(i));return 1===t.length?t[0]:{compositeFilter:{op:V1(e.op),filters:t}}}(n):gn()}function KD(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function __(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Fl{constructor(e,t,i,l,p=On.min(),_=On.min(),T=Es.EMPTY_BYTE_STRING,F=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=l,this.snapshotVersion=p,this.lastLimboFreeSnapshotVersion=_,this.resumeToken=T,this.expectedCount=F}withSequenceNumber(e){return new Fl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Fl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class nT{constructor(e){this.fe=e}}function sI(n){const e=eT({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?ep(e,e.limit,"L"):e}class op{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Ps(e.integerValue));else if("doubleValue"in e){const i=Ps(e.doubleValue);isNaN(i)?this.ye(t,13):(this.ye(t,15),pu(i)?t.pe(0):t.pe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ye(t,20),"string"==typeof i?t.Ie(i):(t.Ie(`${i.seconds||""}`),t.pe(i.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Nl(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?vv(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):gn()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const i=e.fields||{};this.ye(t,55);for(const l of Object.keys(i))this.Te(l,t),this.me(i[l],t)}Pe(e,t){const i=e.values||[];this.ye(t,50);for(const l of i)this.me(l,t)}ve(e,t){this.ye(t,37),Jt.fromName(e).path.forEach(i=>{this.ye(t,60),this.be(i,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}op.Ve=new op;class iC{constructor(){this.rn=new z1}addToCollectionParentIndex(e,t){return this.rn.add(t),Ye.resolve()}getCollectionParents(e,t){return Ye.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Ye.resolve()}deleteFieldIndex(e,t){return Ye.resolve()}getDocumentsMatchingTarget(e,t){return Ye.resolve(null)}getIndexType(e,t){return Ye.resolve(0)}getFieldIndexes(e,t){return Ye.resolve([])}getNextCollectionGroupToUpdate(e){return Ye.resolve(null)}getMinOffset(e,t){return Ye.resolve(ns.min())}getMinOffsetFromCollectionGroup(e,t){return Ye.resolve(ns.min())}updateCollectionGroup(e,t,i){return Ye.resolve()}updateIndexEntries(e,t){return Ye.resolve()}}class z1{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),l=this.index[t]||new Ki(qr.comparator),p=!l.has(i);return this.index[t]=l.add(i),p}has(e){const t=e.lastSegment(),i=e.popLast(),l=this.index[t];return l&&l.has(i)}getEntries(e){return(this.index[e]||new Ki(qr.comparator)).toArray()}}new Uint8Array(0);class Tc{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Tc(e,Tc.DEFAULT_COLLECTION_PERCENTILE,Tc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Tc.DEFAULT_COLLECTION_PERCENTILE=10,Tc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tc.DEFAULT=new Tc(41943040,Tc.DEFAULT_COLLECTION_PERCENTILE,Tc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tc.DISABLED=new Tc(-1,0,0);class cp{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new cp(0)}static Mn(){return new cp(-1)}}class aC{constructor(){this.changes=new gu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Li.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?Ye.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class gI{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Y1{constructor(e,t,i,l){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=l}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(l=>(i=l,this.remoteDocumentCache.getEntry(e,t))).next(l=>(null!==i&&ei(i.mutation,l,Fa.empty(),hs.now()),l))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,fr()).next(()=>i))}getLocalViewOfDocuments(e,t,i=fr()){const l=sl();return this.populateOverlays(e,l,t).next(()=>this.computeViews(e,t,l,i).next(p=>{let _=Ec();return p.forEach((T,F)=>{_=_.insert(T,F.overlayedDocument)}),_}))}getOverlayedDocuments(e,t){const i=sl();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,fr()))}populateOverlays(e,t,i){const l=[];return i.forEach(p=>{t.has(p)||l.push(p)}),this.documentOverlayCache.getOverlays(e,l).next(p=>{p.forEach((_,T)=>{t.set(_,T)})})}computeViews(e,t,i,l){let p=Ic();const _=oc(),T=oc();return t.forEach((F,H)=>{const te=i.get(H.key);l.has(H.key)&&(void 0===te||te.mutation instanceof ui)?p=p.insert(H.key,H):void 0!==te?(_.set(H.key,te.mutation.getFieldMask()),ei(te.mutation,H,te.mutation.getFieldMask(),hs.now())):_.set(H.key,Fa.empty())}),this.recalculateAndSaveOverlays(e,p).next(F=>(F.forEach((H,te)=>_.set(H,te)),t.forEach((H,te)=>{var ge;return T.set(H,new gI(te,null!==(ge=_.get(H))&&void 0!==ge?ge:null))}),T))}recalculateAndSaveOverlays(e,t){const i=oc();let l=new mi((_,T)=>_-T),p=fr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(_=>{for(const T of _)T.keys().forEach(F=>{const H=t.get(F);if(null===H)return;let te=i.get(F)||Fa.empty();te=T.applyToLocalView(H,te),i.set(F,te);const ge=(l.get(T.batchId)||fr()).add(F);l=l.insert(T.batchId,ge)})}).next(()=>{const _=[],T=l.getReverseIterator();for(;T.hasNext();){const F=T.getNext(),H=F.key,te=F.value,ge=Rl();te.forEach(Ue=>{if(!p.has(Ue)){const ct=gr(t.get(Ue),i.get(Ue));null!==ct&&ge.set(Ue,ct),p=p.add(Ue)}}),_.push(this.documentOverlayCache.saveOverlays(e,H,ge))}return Ye.waitFor(_)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return Jt.isDocumentKey((l=t).path)&&null===l.collectionGroup&&0===l.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):a_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var l}getNextDocuments(e,t,i,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,l).next(p=>{const _=l-p.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,l-p.size):Ye.resolve(sl());let T=-1,F=p;return _.next(H=>Ye.forEach(H,(te,ge)=>(T<ge.largestBatchId&&(T=ge.largestBatchId),p.get(te)?Ye.resolve():this.remoteDocumentCache.getEntry(e,te).next(Ue=>{F=F.insert(te,Ue)}))).next(()=>this.populateOverlays(e,H,p)).next(()=>this.computeViews(e,F,H,fr())).next(te=>({batchId:T,changes:Nv(te)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Jt(t)).next(i=>{let l=Ec();return i.isFoundDocument()&&(l=l.insert(i.key,i)),l})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const l=t.collectionGroup;let p=Ec();return this.indexManager.getCollectionParents(e,l).next(_=>Ye.forEach(_,T=>{const F=(H=t,te=T.child(l),new Gd(te,null,H.explicitOrderBy.slice(),H.filters.slice(),H.limit,H.limitType,H.startAt,H.endAt));var H,te;return this.getDocumentsMatchingCollectionQuery(e,F,i).next(H=>{H.forEach((te,ge)=>{p=p.insert(te,ge)})})}).next(()=>p))}getDocumentsMatchingCollectionQuery(e,t,i){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(p=>(l=p,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l))).next(p=>{l.forEach((T,F)=>{const H=F.getKey();null===p.get(H)&&(p=p.insert(H,Li.newInvalidDocument(H)))});let _=Ec();return p.forEach((T,F)=>{const H=l.get(T);void 0!==H&&ei(H.mutation,F,Fa.empty(),hs.now()),Eg(t,F)&&(_=_.insert(T,F))}),_})}}class dC{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Ye.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var i;return this.cs.set(t.id,{id:(i=t).id,version:i.version,createTime:Fo(i.createTime)}),Ye.resolve()}getNamedQuery(e,t){return Ye.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(i=t).name,query:sI(i.bundledQuery),readTime:Fo(i.readTime)}),Ye.resolve();var i}}class yT{constructor(){this.overlays=new mi(Jt.comparator),this.ls=new Map}getOverlay(e,t){return Ye.resolve(this.overlays.get(t))}getOverlays(e,t){const i=sl();return Ye.forEach(t,l=>this.getOverlay(e,l).next(p=>{null!==p&&i.set(l,p)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((l,p)=>{this.we(e,t,p)}),Ye.resolve()}removeOverlaysForBatchId(e,t,i){const l=this.ls.get(i);return void 0!==l&&(l.forEach(p=>this.overlays=this.overlays.remove(p)),this.ls.delete(i)),Ye.resolve()}getOverlaysForCollection(e,t,i){const l=sl(),p=t.length+1,_=new Jt(t.child("")),T=this.overlays.getIteratorFrom(_);for(;T.hasNext();){const F=T.getNext().value,H=F.getKey();if(!t.isPrefixOf(H.path))break;H.path.length===p&&F.largestBatchId>i&&l.set(F.getKey(),F)}return Ye.resolve(l)}getOverlaysForCollectionGroup(e,t,i,l){let p=new mi((H,te)=>H-te);const _=this.overlays.getIterator();for(;_.hasNext();){const H=_.getNext().value;if(H.getKey().getCollectionGroup()===t&&H.largestBatchId>i){let te=p.get(H.largestBatchId);null===te&&(te=sl(),p=p.insert(H.largestBatchId,te)),te.set(H.getKey(),H)}}const T=sl(),F=p.getIterator();for(;F.hasNext()&&(F.getNext().value.forEach((H,te)=>T.set(H,te)),!(T.size()>=l)););return Ye.resolve(T)}we(e,t,i){const l=this.overlays.get(i.key);if(null!==l){const _=this.ls.get(l.largestBatchId).delete(i.key);this.ls.set(l.largestBatchId,_)}this.overlays=this.overlays.insert(i.key,new La(t,i));let p=this.ls.get(t);void 0===p&&(p=fr(),this.ls.set(t,p)),this.ls.set(t,p.add(i.key))}}class Q1{constructor(){this.fs=new Ki(Ba.ds),this.ws=new Ki(Ba._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const i=new Ba(e,t);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.ys(new Ba(e,t))}ps(e,t){e.forEach(i=>this.removeReference(i,t))}Is(e){const t=new Jt(new qr([])),i=new Ba(t,e),l=new Ba(t,e+1),p=[];return this.ws.forEachInRange([i,l],_=>{this.ys(_),p.push(_.key)}),p}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Jt(new qr([])),i=new Ba(t,e),l=new Ba(t,e+1);let p=fr();return this.ws.forEachInRange([i,l],_=>{p=p.add(_.key)}),p}containsKey(e){const t=new Ba(e,0),i=this.fs.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Ba{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Jt.comparator(e.key,t.key)||Kn(e.As,t.As)}static _s(e,t){return Kn(e.As,t.As)||Jt.comparator(e.key,t.key)}}class vT{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Ki(Ba.ds)}checkEmpty(e){return Ye.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,l){const p=this.vs;this.vs++;const _=new mr(p,t,i,l);this.mutationQueue.push(_);for(const T of l)this.Rs=this.Rs.add(new Ba(T.key,p)),this.indexManager.addToCollectionParentIndex(e,T.key.path.popLast());return Ye.resolve(_)}lookupMutationBatch(e,t){return Ye.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const l=this.bs(t+1),p=l<0?0:l;return Ye.resolve(this.mutationQueue.length>p?this.mutationQueue[p]:null)}getHighestUnacknowledgedBatchId(){return Ye.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Ye.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Ba(t,0),l=new Ba(t,Number.POSITIVE_INFINITY),p=[];return this.Rs.forEachInRange([i,l],_=>{const T=this.Ps(_.As);p.push(T)}),Ye.resolve(p)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Ki(Kn);return t.forEach(l=>{const p=new Ba(l,0),_=new Ba(l,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([p,_],T=>{i=i.add(T.As)})}),Ye.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,l=i.length+1;let p=i;Jt.isDocumentKey(p)||(p=p.child(""));const _=new Ba(new Jt(p),0);let T=new Ki(Kn);return this.Rs.forEachWhile(F=>{const H=F.key.path;return!!i.isPrefixOf(H)&&(H.length===l&&(T=T.add(F.As)),!0)},_),Ye.resolve(this.Vs(T))}Vs(e){const t=[];return e.forEach(i=>{const l=this.Ps(i);null!==l&&t.push(l)}),t}removeMutationBatch(e,t){En(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return Ye.forEach(t.mutations,l=>{const p=new Ba(l.key,t.batchId);return i=i.delete(p),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.Rs=i})}Cn(e){}containsKey(e,t){const i=new Ba(t,0),l=this.Rs.firstAfterOrEqual(i);return Ye.resolve(t.isEqual(l&&l.key))}performConsistencyCheck(e){return Ye.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class mI{constructor(e){this.Ds=e,this.docs=new mi(Jt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,l=this.docs.get(i),p=l?l.size:0,_=this.Ds(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:_}),this.size+=_-p,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Ye.resolve(i?i.document.mutableCopy():Li.newInvalidDocument(t))}getEntries(e,t){let i=Ic();return t.forEach(l=>{const p=this.docs.get(l);i=i.insert(l,p?p.document.mutableCopy():Li.newInvalidDocument(l))}),Ye.resolve(i)}getDocumentsMatchingQuery(e,t,i,l){let p=Ic();const _=t.path,T=new Jt(_.child("")),F=this.docs.getIteratorFrom(T);for(;F.hasNext();){const{key:H,value:{document:te}}=F.getNext();if(!_.isPrefixOf(H.path))break;H.path.length>_.length+1||Wu(lv(te),i)<=0||(l.has(te.key)||Eg(t,te))&&(p=p.insert(te.key,te.mutableCopy()))}return Ye.resolve(p)}getAllFromCollectionGroup(e,t,i,l){gn()}Cs(e,t){return Ye.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new bT(this)}getSize(e){return Ye.resolve(this.size)}}class bT extends aC{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((i,l)=>{l.isValidDocument()?t.push(this.os.addEntry(e,l)):this.os.removeEntry(i)}),Ye.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class wT{constructor(e){this.persistence=e,this.xs=new gu(t=>Xu(t),xl),this.lastRemoteSnapshotVersion=On.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Q1,this.targetCount=0,this.Ms=cp.kn()}forEachTarget(e,t){return this.xs.forEach((i,l)=>t(l)),Ye.resolve()}getLastRemoteSnapshotVersion(e){return Ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ye.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Ye.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Ns&&(this.Ns=t),Ye.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new cp(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Ye.resolve()}updateTargetData(e,t){return this.Fn(t),Ye.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Ye.resolve()}removeTargets(e,t,i){let l=0;const p=[];return this.xs.forEach((_,T)=>{T.sequenceNumber<=t&&null===i.get(T.targetId)&&(this.xs.delete(_),p.push(this.removeMatchingKeysForTargetId(e,T.targetId)),l++)}),Ye.waitFor(p).next(()=>l)}getTargetCount(e){return Ye.resolve(this.targetCount)}getTargetData(e,t){const i=this.xs.get(t)||null;return Ye.resolve(i)}addMatchingKeys(e,t,i){return this.ks.gs(t,i),Ye.resolve()}removeMatchingKeys(e,t,i){this.ks.ps(t,i);const l=this.persistence.referenceDelegate,p=[];return l&&t.forEach(_=>{p.push(l.markPotentiallyOrphaned(e,_))}),Ye.waitFor(p)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Ye.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ks.Es(t);return Ye.resolve(i)}containsKey(e,t){return Ye.resolve(this.ks.containsKey(t))}}class J1{constructor(e,t){this.$s={},this.overlays={},this.Os=new Fi(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new wT(this),this.indexManager=new iC,this.remoteDocumentCache=new mI(i=>this.referenceDelegate.Ls(i)),this.serializer=new nT(t),this.qs=new dC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new yT,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.$s[e.toKey()];return i||(i=new vT(t,this.referenceDelegate),this.$s[e.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,i){xt("MemoryPersistence","Starting transaction:",e);const l=new IT(this.Os.next());return this.referenceDelegate.Us(),i(l).next(p=>this.referenceDelegate.Ks(l).next(()=>p)).toPromise().then(p=>(l.raiseOnCommittedEvent(),p))}Gs(e,t){return Ye.or(Object.values(this.$s).map(i=>()=>i.containsKey(e,t)))}}class IT extends Bw{constructor(e){super(),this.currentSequenceNumber=e}}class X1{constructor(e){this.persistence=e,this.Qs=new Q1,this.js=null}static zs(e){return new X1(e)}get Ws(){if(this.js)return this.js;throw gn()}addReference(e,t,i){return this.Qs.addReference(i,t),this.Ws.delete(i.toString()),Ye.resolve()}removeReference(e,t,i){return this.Qs.removeReference(i,t),this.Ws.add(i.toString()),Ye.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Ye.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(l=>this.Ws.add(l.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(l=>{l.forEach(p=>this.Ws.add(p.toString()))}).next(()=>i.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ye.forEach(this.Ws,i=>{const l=Jt.fromPath(i);return this.Hs(e,l).next(p=>{p||t.removeEntry(l,On.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(i=>{i?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return Ye.or([()=>Ye.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class DT{constructor(e,t,i,l){this.targetId=e,this.fromCache=t,this.Fi=i,this.Bi=l}static Li(e,t){let i=fr(),l=fr();for(const p of t.docChanges)switch(p.type){case 0:i=i.add(p.doc.key);break;case 1:l=l.add(p.doc.key)}return new DT(e,t.fromCache,i,l)}}class CT{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,i,l){return this.Ki(e,t).next(p=>p||this.Gi(e,t,l,i)).next(p=>p||this.Qi(e,t))}Ki(e,t){if(Sv(t))return Ye.resolve(null);let i=sc(t);return this.indexManager.getIndexType(e,i).next(l=>0===l?null:(null!==t.limit&&1===l&&(t=ep(t,null,"F"),i=sc(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(p=>{const _=fr(...p);return this.Ui.getDocuments(e,_).next(T=>this.indexManager.getMinOffset(e,i).next(F=>{const H=this.ji(t,T);return this.zi(t,H,_,F.readTime)?this.Ki(e,ep(t,null,"F")):this.Wi(e,H,t,F)}))})))}Gi(e,t,i,l){return Sv(t)||l.isEqual(On.min())?this.Qi(e,t):this.Ui.getDocuments(e,i).next(p=>{const _=this.ji(t,p);return this.zi(t,_,i,l)?this.Qi(e,t):($m()<=Oe.in.DEBUG&&xt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),ed(t)),this.Wi(e,_,t,function cv(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,l=On.fromTimestamp(1e9===i?new hs(t+1,0):new hs(t,i));return new ns(l,Jt.empty(),e)}(l,-1)))})}ji(e,t){let i=new Ki(F1(e));return t.forEach((l,p)=>{Eg(e,p)&&(i=i.add(p))}),i}zi(e,t,i,l){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const p="F"===e.limitType?t.last():t.first();return!!p&&(p.hasPendingWrites||p.version.compareTo(l)>0)}Qi(e,t){return $m()<=Oe.in.DEBUG&&xt("QueryEngine","Using full collection scan to execute query:",ed(t)),this.Ui.getDocumentsMatchingQuery(e,t,ns.min())}Wi(e,t,i,l){return this.Ui.getDocumentsMatchingQuery(e,i,l).next(p=>(t.forEach(_=>{p=p.insert(_.key,_)}),p))}}class fC{constructor(e,t,i,l){this.persistence=e,this.Hi=t,this.serializer=l,this.Ji=new mi(Kn),this.Yi=new gu(p=>Xu(p),xl),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(i)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Y1(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function yI(n,e){return rb.apply(this,arguments)}function rb(){return rb=(0,ue.Z)(function*(n,e){const t=Kt(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let l;return t.mutationQueue.getAllMutationBatches(i).next(p=>(l=p,t.tr(e),t.mutationQueue.getAllMutationBatches(i))).next(p=>{const _=[],T=[];let F=fr();for(const H of l){_.push(H.batchId);for(const te of H.mutations)F=F.add(te.key)}for(const H of p){T.push(H.batchId);for(const te of H.mutations)F=F.add(te.key)}return t.localDocuments.getDocuments(i,F).next(H=>({er:H,removedBatchIds:_,addedBatchIds:T}))})})}),rb.apply(this,arguments)}function NT(n){const e=Kt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function gC(n,e){const t=Kt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function A_(n,e,t){return Ng.apply(this,arguments)}function Ng(){return Ng=(0,ue.Z)(function*(n,e,t){const i=Kt(n),l=i.Ji.get(e),p=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",p,_=>i.persistence.referenceDelegate.removeTarget(_,l)))}catch(_){if(!fu(_))throw _;xt("LocalStore",`Failed to update sequence numbers for target ${e}: ${_}`)}i.Ji=i.Ji.remove(e),i.Yi.delete(l.target)}),Ng.apply(this,arguments)}function Gv(n,e,t){const i=Kt(n);let l=On.min(),p=fr();return i.persistence.runTransaction("Execute query","readonly",_=>function(T,F,H){const te=Kt(T),ge=te.Yi.get(H);return void 0!==ge?Ye.resolve(te.Ji.get(ge)):te.Bs.getTargetData(F,H)}(i,_,sc(e)).next(T=>{if(T)return l=T.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(_,T.targetId).next(F=>{p=F})}).next(()=>i.Hi.getDocumentsMatchingQuery(_,e,t?l:On.min(),t?p:fr())).next(T=>(function wI(n,e,t){let i=n.Xi.get(e)||On.min();t.forEach((l,p)=>{p.readTime.compareTo(i)>0&&(i=p.readTime)}),n.Xi.set(e,i)}(i,function k1(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),T),{documents:T,ir:p})))}class EI{constructor(){this.activeTargetIds=function f(){return c}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class RT{constructor(){this.Hr=new EI,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,i){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new EI,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class dS{Yr(e){}shutdown(){}}class PT{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){xt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){xt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let TI=null;function Mg(){return null===TI?TI=268435456+Math.round(2147483648*Math.random()):TI++,"0x"+TI.toString(16)}const yC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vC{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Dc="WebChannelConnection";class cb extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,i,l,p){const _=Mg(),T=this.To(e,t);xt("RestConnection",`Sending RPC '${e}' ${_}:`,T,i);const F={};return this.Eo(F,l,p),this.Ao(e,T,F,i).then(H=>(xt("RestConnection",`Received RPC '${e}' ${_}: `,H),H),H=>{throw Al("RestConnection",`RPC '${e}' ${_} failed with error: `,H,"url: ",T,"request:",i),H})}vo(e,t,i,l,p,_){return this.Io(e,t,i,l,p)}Eo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Sl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((l,p)=>e[p]=l),i&&i.headers.forEach((l,p)=>e[p]=l)}To(e,t){return`${this.mo}/v1/${t}:${yC[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,i,l){const p=Mg();return new Promise((_,T)=>{const F=new jE;F.setWithCredentials(!0),F.listenOnce(Hm.COMPLETE,()=>{try{switch(F.getLastErrorCode()){case Uf.NO_ERROR:const te=F.getResponseJson();xt(Dc,`XHR for RPC '${e}' ${p} received:`,JSON.stringify(te)),_(te);break;case Uf.TIMEOUT:xt(Dc,`RPC '${e}' ${p} timed out`),T(new At(ot.DEADLINE_EXCEEDED,"Request time out"));break;case Uf.HTTP_ERROR:const ge=F.getStatus();if(xt(Dc,`RPC '${e}' ${p} failed with status:`,ge,"response text:",F.getResponseText()),ge>0){let Ue=F.getResponseJson();Array.isArray(Ue)&&(Ue=Ue[0]);const ct=Ue?.error;if(ct&&ct.status&&ct.message){const Ft=function(sn){const an=sn.toLowerCase().replace(/_/g,"-");return Object.values(ot).indexOf(an)>=0?an:ot.UNKNOWN}(ct.status);T(new At(Ft,ct.message))}else T(new At(ot.UNKNOWN,"Server responded with status "+F.getStatus()))}else T(new At(ot.UNAVAILABLE,"Connection failed."));break;default:gn()}}finally{xt(Dc,`RPC '${e}' ${p} completed.`)}});const H=JSON.stringify(l);xt(Dc,`RPC '${e}' ${p} sending request:`,l),F.send(t,"POST",H,i,15)})}Ro(e,t,i){const l=Mg(),p=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],_=zu(),T=ev(),F={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},H=this.longPollingOptions.timeoutSeconds;void 0!==H&&(F.longPollingTimeout=Math.round(1e3*H)),this.useFetchStreams&&(F.xmlHttpFactory=new Gm({})),this.Eo(F.initMessageHeaders,t,i),F.encodeInitMessageHeaders=!0;const te=p.join("");xt(Dc,`Creating RPC '${e}' stream ${l}: ${te}`,F);const ge=_.createWebChannel(te,F);let Ue=!1,ct=!1;const Ft=new vC({ro:an=>{ct?xt(Dc,`Not sending because RPC '${e}' stream ${l} is closed:`,an):(Ue||(xt(Dc,`Opening RPC '${e}' stream ${l} transport.`),ge.open(),Ue=!0),xt(Dc,`RPC '${e}' stream ${l} sending:`,an),ge.send(an))},oo:()=>ge.close()}),sn=(an,Er,ti)=>{an.listen(Er,Rr=>{try{ti(Rr)}catch(Ko){setTimeout(()=>{throw Ko},0)}})};return sn(ge,Bf.EventType.OPEN,()=>{ct||xt(Dc,`RPC '${e}' stream ${l} transport opened.`)}),sn(ge,Bf.EventType.CLOSE,()=>{ct||(ct=!0,xt(Dc,`RPC '${e}' stream ${l} transport closed`),Ft.wo())}),sn(ge,Bf.EventType.ERROR,an=>{ct||(ct=!0,Al(Dc,`RPC '${e}' stream ${l} transport errored:`,an),Ft.wo(new At(ot.UNAVAILABLE,"The operation could not be completed")))}),sn(ge,Bf.EventType.MESSAGE,an=>{var Er;if(!ct){const ti=an.data[0];En(!!ti);const Ko=ti.error||(null===(Er=ti[0])||void 0===Er?void 0:Er.error);if(Ko){xt(Dc,`RPC '${e}' stream ${l} received error:`,Ko);const Uo=Ko.status;let is=function(Vg){const tw=Jn[Vg];if(void 0!==tw)return ks(tw)}(Uo),Hc=Ko.message;void 0===is&&(is=ot.INTERNAL,Hc="Unknown error status: "+Uo+" with message "+Ko.message),ct=!0,Ft.wo(new At(is,Hc)),ge.close()}else xt(Dc,`RPC '${e}' stream ${l} received:`,ti),Ft._o(ti)}}),sn(T,E1.STAT_EVENT,an=>{an.stat===tv.PROXY?xt(Dc,`RPC '${e}' stream ${l} detected buffering proxy`):an.stat===tv.NOPROXY&&xt(Dc,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{Ft.fo()},0),Ft}}function lb(){return typeof document<"u"?document:null}function N_(n){return new Xw(n,!0)}class O_{constructor(e,t,i=1e3,l=1.5,p=6e4){this.ii=e,this.timerId=t,this.Po=i,this.bo=l,this.Vo=p,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),l=Math.max(0,t-i);l>0&&xt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,l,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class kT{constructor(e,t,i,l,p,_,T,F){this.ii=e,this.$o=i,this.Oo=l,this.connection=p,this.authCredentialsProvider=_,this.appCheckCredentialsProvider=T,this.listener=F,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new O_(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,ue.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,ue.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var i=this;return(0,ue.Z)(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==e?i.qo.reset():t&&t.code===ot.RESOURCE_EXHAUSTED?(ws(t.toString()),ws("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):t&&t.code===ot.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,l])=>{this.Fo===t&&this.Zo(i,l)},i=>{e(()=>{const l=new At(ot.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(l)})})}Zo(e,t){const i=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(l=>{i(()=>this.tu(l))}),this.stream.onMessage(l=>{i(()=>this.onMessage(l))})}Go(){var e=this;this.state=5,this.qo.No((0,ue.Z)(function*(){e.state=0,e.start()}))}tu(e){return xt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(xt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bC extends kT{constructor(e,t,i,l,p,_){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,l,_),this.serializer=p}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function QE(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(F=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===F?1:"REMOVE"===F?2:"CURRENT"===F?3:"RESET"===F?4:gn(),l=e.targetChange.targetIds||[],p=function(F,H){return F.useProto3Json?(En(void 0===H||"string"==typeof H),Es.fromBase64String(H||"")):(En(void 0===H||H instanceof Uint8Array),Es.fromUint8Array(H||new Uint8Array))}(n,e.targetChange.resumeToken),_=e.targetChange.cause,T=_&&function(F){const H=void 0===F.code?ot.UNKNOWN:ks(F.code);return new At(H,F.message||"")}(_);t=new _u(i,l,p,T||null)}else if("documentChange"in e){const i=e.documentChange,l=Zd(n,i.document.name),p=Fo(i.document.updateTime),_=i.document.createTime?Fo(i.document.createTime):On.min(),T=new pa({mapValue:{fields:i.document.fields}}),F=Li.newFoundDocument(l,p,_,T);t=new Tg(i.targetIds||[],i.removedTargetIds||[],F.key,F)}else if("documentDelete"in e){const i=e.documentDelete,l=Zd(n,i.document),p=i.readTime?Fo(i.readTime):On.min(),_=Li.newNoDocument(l,p);t=new Tg([],i.removedTargetIds||[],_.key,_)}else if("documentRemove"in e){const i=e.documentRemove,l=Zd(n,i.document);t=new Tg([],i.removedTargetIds||[],l,null)}else{if(!("filter"in e))return gn();{const i=e.filter,{count:l=0,unchangedNames:p}=i,_=new Uc(l,p);t=new Mv(i.targetId,_)}}var F;return t}(this.serializer,e),i=function(l){if(!("targetChange"in l))return On.min();const p=l.targetChange;return p.targetIds&&p.targetIds.length?On.min():p.readTime?Fo(p.readTime):On.min()}(e);return this.listener.nu(t,i)}su(e){const t={};t.database=Ua(this.serializer),t.addTarget=function(l,p){let _;const T=p.target;if(_=Jf(T)?{documents:XE(l,T)}:{query:rI(l,T)},_.targetId=p.targetId,p.resumeToken.approximateByteSize()>0){_.resumeToken=$D(l,p.resumeToken);const F=U1(l,p.expectedCount);null!==F&&(_.expectedCount=F)}else if(p.snapshotVersion.compareTo(On.min())>0){_.readTime=Dg(l,p.snapshotVersion.toTimestamp());const F=U1(l,p.expectedCount);null!==F&&(_.expectedCount=F)}return _}(this.serializer,e);const i=function Pv(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gn()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Wo(t)}iu(e){const t={};t.database=Ua(this.serializer),t.removeTarget=e,this.Wo(t)}}class FT extends kT{constructor(e,t,i,l,p,_){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,l,_),this.serializer=p,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(En(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function JE(n,e){return n&&n.length>0?(En(void 0!==e),n.map(t=>function(i,l){let p=Fo(i.updateTime?i.updateTime:l);return p.isEqual(On.min())&&(p=Fo(l)),new pr(p,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Fo(e.commitTime);return this.listener.cu(i,t)}return En(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Ua(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>function m_(n,e){let t;if(e instanceof Ds)t={update:tI(n,e.key,e.value)};else if(e instanceof mn)t={delete:qd(n,e.key)};else if(e instanceof ui)t={update:tI(n,e.key,e.data),updateMask:KD(e.fieldMask)};else{if(!(e instanceof Vn))return gn();t={verify:qd(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,p){const _=p.transform;if(_ instanceof he)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(_ instanceof ye)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:_.elements}};if(_ instanceof nt)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:_.elements}};if(_ instanceof Ct)return{fieldPath:p.field.canonicalString(),increment:_.gt};throw gn()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(l=e.precondition).updateTime?{updateTime:p_(n,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:gn()),t;var l}(this.serializer,i))};this.Wo(t)}}class wC extends class{}{constructor(e,t,i,l){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=l,this.lu=!1}fu(){if(this.lu)throw new At(ot.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,p])=>this.connection.Io(e,t,i,l,p)).catch(l=>{throw"FirebaseError"===l.name?(l.code===ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new At(ot.UNKNOWN,l.toString())})}vo(e,t,i,l){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,_])=>this.connection.vo(e,t,i,p,_,l)).catch(p=>{throw"FirebaseError"===p.name?(p.code===ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new At(ot.UNKNOWN,p.toString())})}terminate(){this.lu=!0}}class db{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(ws(t),this.mu=!1):xt("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class EC{constructor(e,t,i,l,p){var _=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=p,this.Pu.Yr(T=>{i.enqueueAndForget((0,ue.Z)(function*(){var F;Kd(_)&&(xt("RemoteStore","Restarting streams for network reachability change."),yield(F=(0,ue.Z)(function*(H){const te=Kt(H);te.vu.add(4),yield xg(te),te.bu.set("Unknown"),te.vu.delete(4),yield zv(te)}),function(H){return F.apply(this,arguments)})(_))}))}),this.bu=new db(i,l)}}function zv(n){return hb.apply(this,arguments)}function hb(){return hb=(0,ue.Z)(function*(n){if(Kd(n))for(const e of n.Ru)yield e(!0)}),hb.apply(this,arguments)}function xg(n){return Wv.apply(this,arguments)}function Wv(){return Wv=(0,ue.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),Wv.apply(this,arguments)}function qv(n,e){const t=Kt(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),AI(t)?SI(t):Qv(t).Ko()&&fb(t,e))}function Zv(n,e){const t=Kt(n),i=Qv(t);t.Au.delete(e),i.Ko()&&CI(t,e),0===t.Au.size&&(i.Ko()?i.jo():Kd(t)&&t.bu.set("Unknown"))}function fb(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(On.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Qv(n).su(e)}function CI(n,e){n.Vu.qt(e),Qv(n).iu(e)}function SI(n){n.Vu=new Wd({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),Qv(n).start(),n.bu.gu()}function AI(n){return Kd(n)&&!Qv(n).Uo()&&n.Au.size>0}function Kd(n){return 0===Kt(n).vu.size}function pb(n){n.Vu=void 0}function LT(n){return Kv.apply(this,arguments)}function Kv(){return Kv=(0,ue.Z)(function*(n){n.Au.forEach((e,t)=>{fb(n,e)})}),Kv.apply(this,arguments)}function NI(n,e){return OI.apply(this,arguments)}function OI(){return OI=(0,ue.Z)(function*(n,e){pb(n),AI(n)?(n.bu.Iu(e),SI(n)):n.bu.set("Unknown")}),OI.apply(this,arguments)}function TC(n,e,t){return MI.apply(this,arguments)}function MI(){return MI=(0,ue.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof _u&&2===e.state&&e.cause)try{yield(i=(0,ue.Z)(function*(l,p){const _=p.cause;for(const T of p.targetIds)l.Au.has(T)&&(yield l.remoteSyncer.rejectListen(T,_),l.Au.delete(T),l.Vu.removeTarget(T))}),function(l,p){return i.apply(this,arguments)})(n,e)}catch(i){xt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield gb(n,i)}else if(e instanceof Tg?n.Vu.Ht(e):e instanceof Mv?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(On.min()))try{const i=yield NT(n.localStore);t.compareTo(i)>=0&&(yield function(l,p){const _=l.Vu.ce(p);return _.targetChanges.forEach((T,F)=>{if(T.resumeToken.approximateByteSize()>0){const H=l.Au.get(F);H&&l.Au.set(F,H.withResumeToken(T.resumeToken,p))}}),_.targetMismatches.forEach((T,F)=>{const H=l.Au.get(T);if(!H)return;l.Au.set(T,H.withResumeToken(Es.EMPTY_BYTE_STRING,H.snapshotVersion)),CI(l,T);const te=new Fl(H.target,T,F,H.sequenceNumber);fb(l,te)}),l.remoteSyncer.applyRemoteEvent(_)}(n,t))}catch(i){xt("RemoteStore","Failed to raise snapshot:",i),yield gb(n,i)}var i}),MI.apply(this,arguments)}function gb(n,e,t){return mb.apply(this,arguments)}function mb(){return mb=(0,ue.Z)(function*(n,e,t){if(!fu(e))throw e;n.vu.add(1),yield xg(n),n.bu.set("Offline"),t||(t=()=>NT(n.localStore)),n.asyncQueue.enqueueRetryable((0,ue.Z)(function*(){xt("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield zv(n)}))}),mb.apply(this,arguments)}function _b(n,e){return e().catch(t=>gb(n,t,e))}function Rg(n){return yb.apply(this,arguments)}function yb(){return yb=(0,ue.Z)(function*(n){const e=Kt(n),t=Pg(e);let i=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;UT(e);)try{const l=yield gC(e.localStore,i);if(null===l){0===e.Eu.length&&t.jo();break}i=l.batchId,BT(e,l)}catch(l){yield gb(e,l)}VT(e)&&xI(e)}),yb.apply(this,arguments)}function UT(n){return Kd(n)&&n.Eu.length<10}function BT(n,e){n.Eu.push(e);const t=Pg(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function VT(n){return Kd(n)&&!Pg(n).Uo()&&n.Eu.length>0}function xI(n){Pg(n).start()}function HT(n){return RI.apply(this,arguments)}function RI(){return RI=(0,ue.Z)(function*(n){Pg(n).hu()}),RI.apply(this,arguments)}function GT(n){return vb.apply(this,arguments)}function vb(){return vb=(0,ue.Z)(function*(n){const e=Pg(n);for(const t of n.Eu)e.uu(t.mutations)}),vb.apply(this,arguments)}function Bc(n,e,t){return up.apply(this,arguments)}function up(){return up=(0,ue.Z)(function*(n,e,t){const i=n.Eu.shift(),l=rs.from(i,e,t);yield _b(n,()=>n.remoteSyncer.applySuccessfulWrite(l)),yield Rg(n)}),up.apply(this,arguments)}function DC(n,e){return PI.apply(this,arguments)}function PI(){return PI=(0,ue.Z)(function*(n,e){var t;e&&Pg(n).ou&&(yield(t=(0,ue.Z)(function*(i,l){if(function $d(n){switch(n){default:return gn();case ot.CANCELLED:case ot.UNKNOWN:case ot.DEADLINE_EXCEEDED:case ot.RESOURCE_EXHAUSTED:case ot.INTERNAL:case ot.UNAVAILABLE:case ot.UNAUTHENTICATED:return!1;case ot.INVALID_ARGUMENT:case ot.NOT_FOUND:case ot.ALREADY_EXISTS:case ot.PERMISSION_DENIED:case ot.FAILED_PRECONDITION:case ot.ABORTED:case ot.OUT_OF_RANGE:case ot.UNIMPLEMENTED:case ot.DATA_LOSS:return!0}}(p=l.code)&&p!==ot.ABORTED){const _=i.Eu.shift();Pg(i).Qo(),yield _b(i,()=>i.remoteSyncer.rejectFailedWrite(_.batchId,l)),yield Rg(i)}var p}),function(i,l){return t.apply(this,arguments)})(n,e)),VT(n)&&xI(n)}),PI.apply(this,arguments)}function CC(n,e){return jT.apply(this,arguments)}function jT(){return jT=(0,ue.Z)(function*(n,e){const t=Kt(n);t.asyncQueue.verifyOperationInProgress(),xt("RemoteStore","RemoteStore received new credentials");const i=Kd(t);t.vu.add(3),yield xg(t),i&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield zv(t)}),jT.apply(this,arguments)}function Yv(){return Yv=(0,ue.Z)(function*(n,e){const t=Kt(n);e?(t.vu.delete(2),yield zv(t)):e||(t.vu.add(2),yield xg(t),t.bu.set("Unknown"))}),Yv.apply(this,arguments)}function Qv(n){return n.Su||(n.Su=function(e,t,i){const l=Kt(e);return l.fu(),new bC(t,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,i)}(n.datastore,n.asyncQueue,{uo:LT.bind(null,n),ao:NI.bind(null,n),nu:TC.bind(null,n)}),n.Ru.push(function(){var e=(0,ue.Z)(function*(t){t?(n.Su.Qo(),AI(n)?SI(n):n.bu.set("Unknown")):(yield n.Su.stop(),pb(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function Pg(n){return n.Du||(n.Du=function(e,t,i){const l=Kt(e);return l.fu(),new FT(t,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,i)}(n.datastore,n.asyncQueue,{uo:HT.bind(null,n),ao:DC.bind(null,n),au:GT.bind(null,n),cu:Bc.bind(null,n)}),n.Ru.push(function(){var e=(0,ue.Z)(function*(t){t?(n.Du.Qo(),yield Rg(n)):(yield n.Du.stop(),n.Eu.length>0&&(xt("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class $T{constructor(e,t,i,l,p){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=l,this.removalCallback=p,this.deferred=new lo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(_=>{})}static createAndSchedule(e,t,i,l,p){const _=Date.now()+i,T=new $T(e,t,_,l,p);return T.start(i),T}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new At(ot.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yd(n,e){if(ws("AsyncQueue",`${e}: ${n}`),fu(n))return new At(ot.UNAVAILABLE,`${e}: ${n}`);throw n}class M_{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Jt.comparator(t.key,i.key):(t,i)=>Jt.comparator(t.key,i.key),this.keyedMap=Ec(),this.sortedSet=new mi(this.comparator)}static emptySet(e){return new M_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof M_)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const l=t.getNext().key,p=i.getNext().key;if(!l.isEqual(p))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new M_;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class wb{constructor(){this.Cu=new mi(Jt.comparator)}track(e){const t=e.doc.key,i=this.Cu.get(t);i?0!==e.type&&3===i.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==i.type?this.Cu=this.Cu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Cu=this.Cu.remove(t):1===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):gn():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,i)=>{e.push(i)}),e}}class x_{constructor(e,t,i,l,p,_,T,F,H){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=l,this.mutatedKeys=p,this.fromCache=_,this.syncStateChanged=T,this.excludesMetadataChanges=F,this.hasCachedResults=H}static fromInitialDocuments(e,t,i,l,p){const _=[];return t.forEach(T=>{_.push({type:0,doc:T})}),new x_(e,t,M_.emptySet(t),_,i,l,!0,!1,p)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let l=0;l<t.length;l++)if(t[l].type!==i[l].type||!t[l].doc.isEqual(i[l].doc))return!1;return!0}}class zT{constructor(){this.Nu=void 0,this.listeners=[]}}class SC{constructor(){this.queries=new gu(e=>Av(e),tp),this.onlineState="Unknown",this.ku=new Set}}function kI(n,e){return FI.apply(this,arguments)}function FI(){return FI=(0,ue.Z)(function*(n,e){const t=Kt(n),i=e.query;let l=!1,p=t.queries.get(i);if(p||(l=!0,p=new zT),l)try{p.Nu=yield t.onListen(i)}catch(_){const T=Yd(_,`Initialization of query '${ed(e.query)}' failed`);return void e.onError(T)}t.queries.set(i,p),p.listeners.push(e),e.Mu(t.onlineState),p.Nu&&e.$u(p.Nu)&&Xv(t)}),FI.apply(this,arguments)}function Jv(n,e){return Ib.apply(this,arguments)}function Ib(){return Ib=(0,ue.Z)(function*(n,e){const t=Kt(n),i=e.query;let l=!1;const p=t.queries.get(i);if(p){const _=p.listeners.indexOf(e);_>=0&&(p.listeners.splice(_,1),l=0===p.listeners.length)}if(l)return t.queries.delete(i),t.onUnlisten(i)}),Ib.apply(this,arguments)}function AC(n,e){const t=Kt(n);let i=!1;for(const l of e){const _=t.queries.get(l.query);if(_){for(const T of _.listeners)T.$u(l)&&(i=!0);_.Nu=l}}i&&Xv(t)}function Eb(n,e,t){const i=Kt(n),l=i.queries.get(e);if(l)for(const p of l.listeners)p.onError(t);i.queries.delete(e)}function Xv(n){n.ku.forEach(e=>{e.next()})}class WT{constructor(e,t,i){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(e){if(!this.options.includeMetadataChanges){const i=[];for(const l of e.docChanges)3!==l.type&&i.push(l);e=new x_(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=x_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class YT{constructor(e){this.key=e}}class LI{constructor(e){this.key=e}}class Tb{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=fr(),this.mutatedKeys=fr(),this.tc=F1(e),this.ec=new M_(this.tc)}get nc(){return this.Yu}sc(e,t){const i=t?t.ic:new wb,l=t?t.ec:this.ec;let p=t?t.mutatedKeys:this.mutatedKeys,_=l,T=!1;const F="F"===this.query.limitType&&l.size===this.query.limit?l.last():null,H="L"===this.query.limitType&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((te,ge)=>{const Ue=l.get(te),ct=Eg(this.query,ge)?ge:null,Ft=!!Ue&&this.mutatedKeys.has(Ue.key),sn=!!ct&&(ct.hasLocalMutations||this.mutatedKeys.has(ct.key)&&ct.hasCommittedMutations);let an=!1;Ue&&ct?Ue.data.isEqual(ct.data)?Ft!==sn&&(i.track({type:3,doc:ct}),an=!0):this.rc(Ue,ct)||(i.track({type:2,doc:ct}),an=!0,(F&&this.tc(ct,F)>0||H&&this.tc(ct,H)<0)&&(T=!0)):!Ue&&ct?(i.track({type:0,doc:ct}),an=!0):Ue&&!ct&&(i.track({type:1,doc:Ue}),an=!0,(F||H)&&(T=!0)),an&&(ct?(_=_.add(ct),p=sn?p.add(te):p.delete(te)):(_=_.delete(te),p=p.delete(te)))}),null!==this.query.limit)for(;_.size>this.query.limit;){const te="F"===this.query.limitType?_.last():_.first();_=_.delete(te.key),p=p.delete(te.key),i.track({type:1,doc:te})}return{ec:_,ic:i,zi:T,mutatedKeys:p}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const l=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const p=e.ic.xu();p.sort((H,te)=>function(ge,Ue){const ct=Ft=>{switch(Ft){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gn()}};return ct(ge)-ct(Ue)}(H.type,te.type)||this.tc(H.doc,te.doc)),this.oc(i);const _=t?this.uc():[],T=0===this.Zu.size&&this.current?1:0,F=T!==this.Xu;return this.Xu=T,0!==p.length||F?{snapshot:new x_(this.query,e.ec,l,p,e.mutatedKeys,0===T,F,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:_}:{cc:_}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new wb,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=fr(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const t=[];return e.forEach(i=>{this.Zu.has(i)||t.push(new LI(i))}),this.Zu.forEach(i=>{e.has(i)||t.push(new YT(i))}),t}hc(e){this.Yu=e.ir,this.Zu=fr();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return x_.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class hS{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class NC{constructor(e){this.key=e,this.fc=!1}}class fS{constructor(e,t,i,l,p,_){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=l,this.currentUser=p,this.maxConcurrentLimboResolutions=_,this.dc={},this.wc=new gu(T=>Av(T),tp),this._c=new Map,this.mc=new Set,this.gc=new mi(Jt.comparator),this.yc=new Map,this.Ic=new Q1,this.Tc={},this.Ec=new Map,this.Ac=cp.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function OC(n,e){return UI.apply(this,arguments)}function UI(){return UI=(0,ue.Z)(function*(n,e){const t=function KI(n){const e=Kt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=XT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$I.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=MC.bind(null,e),e.dc.nu=AC.bind(null,e.eventManager),e.dc.Pc=Eb.bind(null,e.eventManager),e}(n);let i,l;const p=t.wc.get(e);if(p)i=p.targetId,t.sharedClientState.addLocalQueryTarget(i),l=p.view.lc();else{const _=yield function S_(n,e){const t=Kt(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let l;return t.Bs.getTargetData(i,e).next(p=>p?(l=p,Ye.resolve(l)):t.Bs.allocateTargetId(i).next(_=>(l=new Fl(e,_,"TargetPurposeListen",i.currentSequenceNumber),t.Bs.addTargetData(i,l).next(()=>l))))}).then(i=>{const l=t.Ji.get(i.targetId);return(null===l||i.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(i.targetId,i),t.Yi.set(e,i.targetId)),i})}(t.localStore,sc(e)),T=t.sharedClientState.addLocalQueryTarget(_.targetId);i=_.targetId,l=yield function BI(n,e,t,i,l){return Db.apply(this,arguments)}(t,e,i,"current"===T,_.resumeToken),t.isPrimaryClient&&qv(t.remoteStore,_)}return l}),UI.apply(this,arguments)}function Db(){return Db=(0,ue.Z)(function*(n,e,t,i,l){n.Rc=(ge,Ue,ct)=>{return(Ft=(0,ue.Z)(function*(sn,an,Er,ti){let Rr=an.view.sc(Er);Rr.zi&&(Rr=yield Gv(sn.localStore,an.query,!1).then(({documents:is})=>an.view.sc(is,Rr)));const Ko=ti&&ti.targetChanges.get(an.targetId),Uo=an.view.applyChanges(Rr,sn.isPrimaryClient,Ko);return iD(sn,an.targetId,Uo.cc),Uo.snapshot}),function(sn,an,Er,ti){return Ft.apply(this,arguments)})(n,ge,Ue,ct);var Ft};const p=yield Gv(n.localStore,e,!0),_=new Tb(e,p.ir),T=_.sc(p.documents),F=Hh.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,l),H=_.applyChanges(T,n.isPrimaryClient,F);iD(n,t,H.cc);const te=new hS(e,t,_);return n.wc.set(e,te),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),H.snapshot}),Db.apply(this,arguments)}function QT(n,e){return VI.apply(this,arguments)}function VI(){return VI=(0,ue.Z)(function*(n,e){const t=Kt(n),i=t.wc.get(e),l=t._c.get(i.targetId);if(l.length>1)return t._c.set(i.targetId,l.filter(p=>!tp(p,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield A_(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),Zv(t.remoteStore,i.targetId),e0(t,i.targetId)}).catch(Rd))):(e0(t,i.targetId),yield A_(t.localStore,i.targetId,!0))}),VI.apply(this,arguments)}function Cb(){return Cb=(0,ue.Z)(function*(n,e,t){const i=function YI(n){const e=Kt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tD.bind(null,e),e}(n);try{const l=yield function(p,_){const T=Kt(p),F=hs.now(),H=_.reduce((Ue,ct)=>Ue.add(ct.key),fr());let te,ge;return T.persistence.runTransaction("Locally write mutations","readwrite",Ue=>{let ct=Ic(),Ft=fr();return T.Zi.getEntries(Ue,H).next(sn=>{ct=sn,ct.forEach((an,Er)=>{Er.isValidDocument()||(Ft=Ft.add(an))})}).next(()=>T.localDocuments.getOverlayedDocuments(Ue,ct)).next(sn=>{te=sn;const an=[];for(const Er of _){const ti=di(Er,te.get(Er.key).overlayedDocument);null!=ti&&an.push(new ui(Er.key,ti,Qm(ti.value.mapValue),Wt.exists(!0)))}return T.mutationQueue.addMutationBatch(Ue,F,an,_)}).next(sn=>{ge=sn;const an=sn.applyToLocalDocumentSet(te,Ft);return T.documentOverlayCache.saveOverlays(Ue,sn.batchId,an)})}).then(()=>({batchId:ge.batchId,changes:Nv(te)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(l.batchId),function(p,_,T){let F=p.Tc[p.currentUser.toKey()];F||(F=new mi(Kn)),F=F.insert(_,T),p.Tc[p.currentUser.toKey()]=F}(i,l.batchId,t),yield dp(i,l.changes),yield Rg(i.remoteStore)}catch(l){const p=Yd(l,"Failed to persist write");t.reject(p)}}),Cb.apply(this,arguments)}function XT(n,e){return HI.apply(this,arguments)}function HI(){return HI=(0,ue.Z)(function*(n,e){const t=Kt(n);try{const i=yield function pC(n,e){const t=Kt(n),i=e.snapshotVersion;let l=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",p=>{const _=t.Zi.newChangeBuffer({trackRemovals:!0});l=t.Ji;const T=[];e.targetChanges.forEach((te,ge)=>{const Ue=l.get(ge);if(!Ue)return;T.push(t.Bs.removeMatchingKeys(p,te.removedDocuments,ge).next(()=>t.Bs.addMatchingKeys(p,te.addedDocuments,ge)));let ct=Ue.withSequenceNumber(p.currentSequenceNumber);var Ft,sn,an;null!==e.targetMismatches.get(ge)?ct=ct.withResumeToken(Es.EMPTY_BYTE_STRING,On.min()).withLastLimboFreeSnapshotVersion(On.min()):te.resumeToken.approximateByteSize()>0&&(ct=ct.withResumeToken(te.resumeToken,i)),l=l.insert(ge,ct),sn=ct,an=te,(0===(Ft=Ue).resumeToken.approximateByteSize()||sn.snapshotVersion.toMicroseconds()-Ft.snapshotVersion.toMicroseconds()>=3e8||an.addedDocuments.size+an.modifiedDocuments.size+an.removedDocuments.size>0)&&T.push(t.Bs.updateTargetData(p,ct))});let F=Ic(),H=fr();if(e.documentUpdates.forEach(te=>{e.resolvedLimboDocuments.has(te)&&T.push(t.persistence.referenceDelegate.updateLimboDocument(p,te))}),T.push(function OT(n,e,t){let i=fr(),l=fr();return t.forEach(p=>i=i.add(p)),e.getEntries(n,i).next(p=>{let _=Ic();return t.forEach((T,F)=>{const H=p.get(T);F.isFoundDocument()!==H.isFoundDocument()&&(l=l.add(T)),F.isNoDocument()&&F.version.isEqual(On.min())?(e.removeEntry(T,F.readTime),_=_.insert(T,F)):!H.isValidDocument()||F.version.compareTo(H.version)>0||0===F.version.compareTo(H.version)&&H.hasPendingWrites?(e.addEntry(F),_=_.insert(T,F)):xt("LocalStore","Ignoring outdated watch update for ",T,". Current version:",H.version," Watch version:",F.version)}),{nr:_,sr:l}})}(p,_,e.documentUpdates).next(te=>{F=te.nr,H=te.sr})),!i.isEqual(On.min())){const te=t.Bs.getLastRemoteSnapshotVersion(p).next(ge=>t.Bs.setTargetsMetadata(p,p.currentSequenceNumber,i));T.push(te)}return Ye.waitFor(T).next(()=>_.apply(p)).next(()=>t.localDocuments.getLocalViewOfDocuments(p,F,H)).next(()=>F)}).then(p=>(t.Ji=l,p))}(t.localStore,e);e.targetChanges.forEach((l,p)=>{const _=t.yc.get(p);_&&(En(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?_.fc=!0:l.modifiedDocuments.size>0?En(_.fc):l.removedDocuments.size>0&&(En(_.fc),_.fc=!1))}),yield dp(t,i,e)}catch(i){yield Rd(i)}}),HI.apply(this,arguments)}function GI(n,e,t){const i=Kt(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const l=[];i.wc.forEach((p,_)=>{const T=_.view.Mu(e);T.snapshot&&l.push(T.snapshot)}),function(p,_){const T=Kt(p);T.onlineState=_;let F=!1;T.queries.forEach((H,te)=>{for(const ge of te.listeners)ge.Mu(_)&&(F=!0)}),F&&Xv(T)}(i.eventManager,e),l.length&&i.dc.nu(l),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function MC(n,e,t){return Sb.apply(this,arguments)}function Sb(){return Sb=(0,ue.Z)(function*(n,e,t){const i=Kt(n);i.sharedClientState.updateQueryState(e,"rejected",t);const l=i.yc.get(e),p=l&&l.key;if(p){let _=new mi(Jt.comparator);_=_.insert(p,Li.newNoDocument(p,On.min()));const T=fr().add(p),F=new Vh(On.min(),new Map,new mi(Kn),_,T);yield XT(i,F),i.gc=i.gc.remove(p),i.yc.delete(e),sD(i)}else yield A_(i.localStore,e,!1).then(()=>e0(i,e,t)).catch(Rd)}),Sb.apply(this,arguments)}function eD(n,e){return Ab.apply(this,arguments)}function Ab(){return Ab=(0,ue.Z)(function*(n,e){const t=Kt(n),i=e.batch.batchId;try{const l=yield function AT(n,e){const t=Kt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const l=e.batch.keys(),p=t.Zi.newChangeBuffer({trackRemovals:!0});return function(_,T,F,H){const te=F.batch,ge=te.keys();let Ue=Ye.resolve();return ge.forEach(ct=>{Ue=Ue.next(()=>H.getEntry(T,ct)).next(Ft=>{const sn=F.docVersions.get(ct);En(null!==sn),Ft.version.compareTo(sn)<0&&(te.applyToRemoteDocument(Ft,F),Ft.isValidDocument()&&(Ft.setReadTime(F.commitVersion),H.addEntry(Ft)))})}),Ue.next(()=>_.mutationQueue.removeMutationBatch(T,te))}(t,i,e,p).next(()=>p.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,l,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(_){let T=fr();for(let F=0;F<_.mutationResults.length;++F)_.mutationResults[F].transformResults.length>0&&(T=T.add(_.batch.mutations[F].key));return T}(e))).next(()=>t.localDocuments.getDocuments(i,l))})}(t.localStore,e);rD(t,i,null),Nb(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield dp(t,l)}catch(l){yield Rd(l)}}),Ab.apply(this,arguments)}function tD(n,e,t){return jI.apply(this,arguments)}function jI(){return jI=(0,ue.Z)(function*(n,e,t){const i=Kt(n);try{const l=yield function(p,_){const T=Kt(p);return T.persistence.runTransaction("Reject batch","readwrite-primary",F=>{let H;return T.mutationQueue.lookupMutationBatch(F,_).next(te=>(En(null!==te),H=te.keys(),T.mutationQueue.removeMutationBatch(F,te))).next(()=>T.mutationQueue.performConsistencyCheck(F)).next(()=>T.documentOverlayCache.removeOverlaysForBatchId(F,H,_)).next(()=>T.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(F,H)).next(()=>T.localDocuments.getDocuments(F,H))})}(i.localStore,e);rD(i,e,t),Nb(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield dp(i,l)}catch(l){yield Rd(l)}}),jI.apply(this,arguments)}function Nb(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function rD(n,e,t){const i=Kt(n);let l=i.Tc[i.currentUser.toKey()];if(l){const p=l.get(e);p&&(t?p.reject(t):p.resolve(),l=l.remove(e)),i.Tc[i.currentUser.toKey()]=l}}function e0(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n._c.get(e))n.wc.delete(i),t&&n.dc.Pc(i,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(i=>{n.Ic.containsKey(i)||RC(n,i)})}function RC(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(Zv(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),sD(n))}function iD(n,e,t){for(const i of t)i instanceof YT?(n.Ic.addReference(i.key,e),pS(n,i)):i instanceof LI?(xt("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,e),n.Ic.containsKey(i.key)||RC(n,i.key)):gn()}function pS(n,e){const t=e.key,i=t.path.canonicalString();n.gc.get(t)||n.mc.has(i)||(xt("SyncEngine","New document in limbo: "+t),n.mc.add(i),sD(n))}function sD(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new Jt(qr.fromString(e)),i=n.Ac.next();n.yc.set(i,new NC(t)),n.gc=n.gc.insert(t,i),qv(n.remoteStore,new Fl(sc(jd(t.path)),i,"TargetPurposeLimboResolution",Fi.ct))}}function dp(n,e,t){return oD.apply(this,arguments)}function oD(){return oD=(0,ue.Z)(function*(n,e,t){const i=Kt(n),l=[],p=[],_=[];var T;i.wc.isEmpty()||(i.wc.forEach((T,F)=>{_.push(i.Rc(F,e,t).then(H=>{if((H||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(F.targetId,H?.fromCache?"not-current":"current"),H){l.push(H);const te=DT.Li(F.targetId,H);p.push(te)}}))}),yield Promise.all(_),i.dc.nu(l),yield(T=(0,ue.Z)(function*(F,H){const te=Kt(F);try{yield te.persistence.runTransaction("notifyLocalViewChanges","readwrite",ge=>Ye.forEach(H,Ue=>Ye.forEach(Ue.Fi,ct=>te.persistence.referenceDelegate.addReference(ge,Ue.targetId,ct)).next(()=>Ye.forEach(Ue.Bi,ct=>te.persistence.referenceDelegate.removeReference(ge,Ue.targetId,ct)))))}catch(ge){if(!fu(ge))throw ge;xt("LocalStore","Failed to update sequence numbers: "+ge)}for(const ge of H){const Ue=ge.targetId;if(!ge.fromCache){const ct=te.Ji.get(Ue),sn=ct.withLastLimboFreeSnapshotVersion(ct.snapshotVersion);te.Ji=te.Ji.insert(Ue,sn)}}}),function(F,H){return T.apply(this,arguments)})(i.localStore,p))}),oD.apply(this,arguments)}function gS(n,e){return Ob.apply(this,arguments)}function Ob(){return Ob=(0,ue.Z)(function*(n,e){const t=Kt(n);if(!t.currentUser.isEqual(e)){xt("SyncEngine","User change. New user:",e.toKey());const i=yield yI(t.localStore,e);t.currentUser=e,(l=t).Ec.forEach(_=>{_.forEach(T=>{T.reject(new At(ot.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.Ec.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield dp(t,i.er)}var l}),Ob.apply(this,arguments)}function $I(n,e){const t=Kt(n),i=t.yc.get(e);if(i&&i.fc)return fr().add(i.key);{let l=fr();const p=t._c.get(e);if(!p)return l;for(const _ of p){const T=t.wc.get(_);l=l.unionWith(T.view.nc)}return l}}class Pb{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ue.Z)(function*(){t.serializer=N_(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function ST(n,e,t,i){return new fC(n,e,t,i)}(this.persistence,new CT,e.initialUser,this.serializer)}createPersistence(e){return new J1(X1.zs,this.serializer)}createSharedClientState(e){return new RT}terminate(){var e=this;return(0,ue.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class R_{initialize(e,t){var i=this;return(0,ue.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=l=>GI(i.syncEngine,l,1),i.remoteStore.remoteSyncer.handleCredentialChange=gS.bind(null,i.syncEngine),yield function bb(n,e){return Yv.apply(this,arguments)}(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new SC}createDatastore(e){const t=N_(e.databaseInfo.databaseId),i=new cb(e.databaseInfo);return new wC(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,l=e.asyncQueue,p=T=>GI(this.syncEngine,T,0),_=PT.D()?new PT:new dS,new EC(t,i,l,p,_);var t,i,l,p,_}createSyncEngine(e,t){return function(i,l,p,_,T,F,H){const te=new fS(i,l,p,_,T,F);return H&&(te.vc=!0),te}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ue.Z)(function*(t){const i=Kt(t);xt("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield xg(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class Fb{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):ws("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class HC{constructor(e,t,i,l){var p=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=l,this.user=eo.UNAUTHENTICATED,this.clientId=C1.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var _=(0,ue.Z)(function*(T){xt("FirestoreClient","Received user=",T.uid),yield p.authCredentialListener(T),p.user=T});return function(T){return _.apply(this,arguments)}}()),this.appCheckCredentials.start(i,_=>(xt("FirestoreClient","Received new app check token=",_),this.appCheckCredentialListener(_,this.user)))}getConfiguration(){var e=this;return(0,ue.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new At(ot.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new lo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ue.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const l=Yd(i,"Failed to shutdown persistence");t.reject(l)}})),t.promise}}function Lb(n,e){return QI.apply(this,arguments)}function QI(){return QI=(0,ue.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),xt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var l=(0,ue.Z)(function*(p){i.isEqual(p)||(yield yI(e.localStore,p),i=p)});return function(p){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),QI.apply(this,arguments)}function JI(n,e){return Ub.apply(this,arguments)}function Ub(){return Ub=(0,ue.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function XI(n){return eE.apply(this,arguments)}(n);xt("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(l=>CC(e.remoteStore,l)),n.setAppCheckTokenChangeListener((l,p)=>CC(e.remoteStore,p)),n._onlineComponents=e}),Ub.apply(this,arguments)}function eE(){return eE=(0,ue.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){xt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Lb(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function Bb(n){return"FirebaseError"===n.name?n.code===ot.FAILED_PRECONDITION||n.code===ot.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;Al("Error using user provided cache. Falling back to memory cache: "+t),yield Lb(n,new Pb)}}else xt("FirestoreClient","Using default OfflineComponentProvider"),yield Lb(n,new Pb);return n._offlineComponents}),eE.apply(this,arguments)}function t0(n){return Vb.apply(this,arguments)}function Vb(){return Vb=(0,ue.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(xt("FirestoreClient","Using user provided OnlineComponentProvider"),yield JI(n,n._uninitializedComponentsProvider._online)):(xt("FirestoreClient","Using default OnlineComponentProvider"),yield JI(n,new R_))),n._onlineComponents}),Vb.apply(this,arguments)}function Lg(n){return nE.apply(this,arguments)}function nE(){return nE=(0,ue.Z)(function*(n){const e=yield t0(n),t=e.eventManager;return t.onListen=OC.bind(null,e.syncEngine),t.onUnlisten=QT.bind(null,e.syncEngine),t}),nE.apply(this,arguments)}function _D(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const yD=new Map;function jb(n,e,t){if(!t)throw new At(ot.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function sE(n){if(!Jt.isDocumentKey(n))throw new At(ot.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function vD(n){if(Jt.isDocumentKey(n))throw new At(ot.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function n0(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":gn()}function oi(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new At(ot.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=n0(n);throw new At(ot.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class oE{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new At(ot.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new At(ot.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function vS(n,e,t,i){if(!0===e&&!0===i)throw new At(ot.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=_D(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(l){if(void 0!==l.timeoutSeconds){if(isNaN(l.timeoutSeconds))throw new At(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new At(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new At(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class P_{constructor(e,t,i,l){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oE({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new At(ot.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new At(ot.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oE(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Pw;switch(t.type){case"firstParty":return new dg(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new At(ot.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=yD.get(e);t&&(xt("ComponentProvider","Removing Datastore"),yD.delete(e),t.terminate())}(this),Promise.resolve()}}class fo{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fo(this.firestore,e,this._key)}}class Va{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Va(this.firestore,e,this._query)}}class Vc extends Va{constructor(e,t,i){super(e,t,jd(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fo(this.firestore,null,new Jt(e))}withConverter(e){return new Vc(this.firestore,e,this._path)}}function zb(n,e,...t){if(n=(0,fe.m9)(n),jb("collection","path",e),n instanceof P_){const i=qr.fromString(e,...t);return vD(i),new Vc(n,null,i)}{if(!(n instanceof fo||n instanceof Vc))throw new At(ot.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(qr.fromString(e,...t));return vD(i),new Vc(n.firestore,null,i)}}function aE(n,e,...t){if(n=(0,fe.m9)(n),1===arguments.length&&(e=C1.A()),jb("doc","path",e),n instanceof P_){const i=qr.fromString(e,...t);return sE(i),new fo(n,null,new Jt(i))}{if(!(n instanceof fo||n instanceof Vc))throw new At(ot.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(qr.fromString(e,...t));return sE(i),new fo(n.firestore,n instanceof Vc?n.converter:null,new Jt(i))}}class wS{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new O_(this,"async_queue_retry"),this.Xc=()=>{const t=lb();t&&xt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=lb();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=lb();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new lo;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,ue.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!fu(t))throw t;xt("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(i=>{throw this.Wc=i,this.Hc=!1,ws("INTERNAL UNHANDLED ERROR: ",function(p){let _=p.message||"";return p.stack&&(_=p.stack.includes(p.message)?p.stack:p.message+"\n"+p.stack),_}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=t,t}enqueueAfterDelay(e,t,i){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const l=$T.createAndSchedule(this,e,t,i,p=>this.na(p));return this.zc.push(l),l}Zc(){this.Wc&&gn()}verifyOperationInProgress(){}sa(){var e=this;return(0,ue.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class Fs extends P_{constructor(e,t,i,l){super(e,t,i,l),this.type="firestore",this._queue=new wS,this._persistenceKey=l?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||wD(this),this._firestoreClient.terminate()}}function ES(n,e){const t="object"==typeof n?n:(0,Te.Mq)(),i="string"==typeof n?n:e||"(default)",l=(0,Te.qX)(t,"firestore").getImmediate({identifier:i});if(!l._initialized){const p=(0,fe.P0)("firestore");p&&function zC(n,e,t,i={}){var l;const p=(n=oi(n,P_))._getSettings(),_=`${e}:${t}`;if("firestore.googleapis.com"!==p.host&&p.host!==_&&Al("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},p),{host:_,ssl:!1})),i.mockUserToken){let T,F;if("string"==typeof i.mockUserToken)T=i.mockUserToken,F=eo.MOCK_USER;else{T=(0,fe.Sg)(i.mockUserToken,null===(l=n._app)||void 0===l?void 0:l.options.projectId);const H=i.mockUserToken.sub||i.mockUserToken.user_id;if(!H)throw new At(ot.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");F=new eo(H)}n._authCredentials=new kw(new iv(T,F))}}(l,...p)}return l}function Lo(n){return n._firestoreClient||wD(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function wD(n){var e,t,i;const l=n._freezeSettings(),p=(T=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new _v(n._databaseId,T,n._persistenceKey,(H=l).host,H.ssl,H.experimentalForceLongPolling,H.experimentalAutoDetectLongPolling,_D(H.experimentalLongPollingOptions),H.useFetchStreams));var T,H;n._firestoreClient=new HC(n._authCredentials,n._appCheckCredentials,n._queue,p),null!==(t=l.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=l.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:l.cache.kind,_offline:l.cache._offlineComponentProvider,_online:l.cache._onlineComponentProvider})}class fp{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fp(Es.fromBase64String(e))}catch(t){throw new At(ot.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new fp(Es.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class pp{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new At(ot.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Is(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class r0{constructor(e){this._methodName=e}}class s0{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new At(ot.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new At(ot.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Kn(this._lat,e._lat)||Kn(this._long,e._long)}}const lE=/^__.*__$/;class qb{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new ui(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ds(e,this.data,t,this.fieldTransforms)}}class KC{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new ui(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function YC(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gn()}}class uE{constructor(e,t,i,l,p,_){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=l,void 0===p&&this.ua(),this.fieldTransforms=p||[],this.fieldMask=_||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new uE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.aa({path:i,la:!1});return l.fa(e),l}da(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.aa({path:i,la:!1});return l.ua(),l}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Qb(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(YC(this.ca)&&lE.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class TD{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||N_(e)}ya(e,t,i,l=!1){return new uE({ca:e,methodName:t,ga:i,path:Is.emptyPath(),la:!1,ma:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function F_(n){const e=n._freezeSettings(),t=N_(n._databaseId);return new TD(n._databaseId,!!e.ignoreUndefinedProperties,t)}function dE(n,e,t,i,l,p={}){const _=n.ya(p.merge||p.mergeFields?2:0,e,t,l);pE("Data must be an object, but it was:",_,i);const T=fE(i,_);let F,H;if(p.merge)F=new Fa(_.fieldMask),H=_.fieldTransforms;else if(p.mergeFields){const te=[];for(const ge of p.mergeFields){const Ue=a0(e,ge,t);if(!_.contains(Ue))throw new At(ot.INVALID_ARGUMENT,`Field '${Ue}' is specified in your field mask but missing from your input data.`);ND(te,Ue)||te.push(Ue)}F=new Fa(te),H=_.fieldTransforms.filter(ge=>F.covers(ge.field))}else F=null,H=_.fieldTransforms;return new qb(new pa(T),F,H)}class o0 extends r0{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof o0}}function DD(n,e,t){return new uE({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class CD extends r0{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=DD(this,e,!0),i=this.pa.map(p=>L_(p,t)),l=new ye(i);return new An(e.path,l)}isEqual(e){return this===e}}class SD extends r0{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=DD(this,e,!0),i=this.pa.map(p=>L_(p,t)),l=new nt(i);return new An(e.path,l)}isEqual(e){return this===e}}function Kb(n,e,t,i=!1){return L_(t,n.ya(i?4:3,e))}function L_(n,e){if(Yb(n=(0,fe.m9)(n)))return pE("Unsupported field value:",e,n),fE(n,e);if(n instanceof r0)return function(t,i){if(!YC(i.ca))throw i._a(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${t._methodName}() is not currently supported inside arrays`);const l=t._toFieldTransform(i);l&&i.fieldTransforms.push(l)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,i){const l=[];let p=0;for(const _ of t){let T=L_(_,i.wa(p));null==T&&(T={nullValue:"NULL_VALUE"}),l.push(T),p++}return{arrayValue:{values:l}}}(n,e)}return function(t,i){if(null===(t=(0,fe.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return m(i.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const l=hs.fromDate(t);return{timestampValue:Dg(i.serializer,l)}}if(t instanceof hs){const l=new hs(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Dg(i.serializer,l)}}if(t instanceof s0)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof fp)return{bytesValue:$D(i.serializer,t._byteString)};if(t instanceof fo){const l=i.databaseId,p=t.firestore._databaseId;if(!p.isEqual(l))throw i._a(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:eI(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i._a(`Unsupported field value: ${n0(t)}`)}(n,e)}function fE(n,e){const t={};return mg(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ka(n,(i,l)=>{const p=L_(l,e.ha(i));null!=p&&(t[i]=p)}),{mapValue:{fields:t}}}function Yb(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof hs||n instanceof s0||n instanceof fp||n instanceof fo||n instanceof r0)}function pE(n,e,t){if(!Yb(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=n0(t);throw e._a("an object"===i?n+" a custom object":n+" "+i)}var i}function a0(n,e,t){if((e=(0,fe.m9)(e))instanceof pp)return e._internalPath;if("string"==typeof e)return gE(n,e);throw Qb("Field path arguments must be of type string or ",n,!1,void 0,t)}const AS=new RegExp("[~\\*/\\[\\]]");function gE(n,e,t){if(e.search(AS)>=0)throw Qb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new pp(...e.split("."))._internalPath}catch{throw Qb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Qb(n,e,t,i,l){const p=i&&!i.isEmpty(),_=void 0!==l;let T=`Function ${e}() called with invalid data`;t&&(T+=" (via `toFirestore()`)"),T+=". ";let F="";return(p||_)&&(F+=" (found",p&&(F+=` in field ${i}`),_&&(F+=` in document ${l}`),F+=")"),new At(ot.INVALID_ARGUMENT,T+n+F)}function ND(n,e){return n.some(t=>t.isEqual(e))}class mE{constructor(e,t,i,l,p){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=l,this._converter=p}get id(){return this._key.path.lastSegment()}get ref(){return new fo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new JC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(c0("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class JC extends mE{data(){return super.data()}}function c0(n,e){return"string"==typeof e?gE(n,e):e instanceof pp?e._internalPath:e._delegate._internalPath}class yE{}class l0 extends yE{}function OD(n,e,...t){let i=[];e instanceof yE&&i.push(e),i=i.concat(t),function(l){const p=l.filter(T=>T instanceof gp).length,_=l.filter(T=>T instanceof Jb).length;if(p>1||p>0&&_>0)throw new At(ot.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const l of i)n=l._apply(n);return n}class Jb extends l0{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Jb(e,t,i)}_apply(e){const t=this._parse(e);return oS(e._query,t),new Va(e.firestore,e.converter,c_(e._query,t))}_parse(e){const t=F_(e.firestore);return function(l,p,_,T,F,H,te){let ge;if(F.isKeyField()){if("array-contains"===H||"array-contains-any"===H)throw new At(ot.INVALID_ARGUMENT,`Invalid Query. You can't perform '${H}' queries on documentId().`);if("in"===H||"not-in"===H){xD(te,H);const Ue=[];for(const ct of te)Ue.push(MD(T,l,ct));ge={arrayValue:{values:Ue}}}else ge=MD(T,l,te)}else"in"!==H&&"not-in"!==H&&"array-contains-any"!==H||xD(te,H),ge=Kb(_,"where",te,"in"===H||"not-in"===H);return Hr.create(F,H,ge)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function XC(n,e,t){const i=e,l=c0("where",n);return Jb._create(l,i,t)}class gp extends yE{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new gp(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:li.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,l){let p=i;const _=l.getFlattenedFilters();for(const T of _)oS(p,T),p=c_(p,T)}(e._query,t),new Va(e.firestore,e.converter,c_(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class vE extends l0{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new vE(e,t)}_apply(e){const t=function(i,l,p){if(null!==i.startAt)throw new At(ot.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new At(ot.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const _=new Lh(l,p);return function(T,F){if(null===Ig(T)){const H=Ts(T);null!==H&&aS(0,H,F.field)}}(i,_),_}(e._query,this._field,this._direction);return new Va(e.firestore,e.converter,function(i,l){const p=i.explicitOrderBy.concat([l]);return new Gd(i.path,i.collectionGroup,p,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function Xb(n,e="asc"){const t=e,i=c0("orderBy",n);return vE._create(i,t)}class ew extends l0{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new ew(e,t,i)}_apply(e){return new Va(e.firestore,e.converter,ep(e._query,this._limit,this._limitType))}}function nS(n){return function $b(n,e){if(e<=0)throw new At(ot.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}("limit",n),ew._create("limit",n,"F")}class u0 extends l0{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new u0(e,t,i)}_apply(e){const t=function sS(n,e,t,i){if(t[0]=(0,fe.m9)(t[0]),t[0]instanceof mE)return function(l,p,_,T,F){if(!T)throw new At(ot.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${_}().`);const H=[];for(const te of Uh(l))if(te.field.isKeyField())H.push(Vd(p,T.key));else{const ge=T.data.field(te.field);if(yg(ge))throw new At(ot.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+te.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===ge){const Ue=te.field.canonicalString();throw new At(ot.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Ue}' (used as the orderBy) does not exist.`)}H.push(ge)}return new Ml(H,F)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const l=F_(n.firestore);return function(p,_,T,F,H,te){const ge=p.explicitOrderBy;if(H.length>ge.length)throw new At(ot.INVALID_ARGUMENT,`Too many arguments provided to ${F}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Ue=[];for(let ct=0;ct<H.length;ct++){const Ft=H[ct];if(ge[ct].field.isKeyField()){if("string"!=typeof Ft)throw new At(ot.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${F}(), but got a ${typeof Ft}`);if(!a_(p)&&-1!==Ft.indexOf("/"))throw new At(ot.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${F}() must be a plain document ID, but '${Ft}' contains a slash.`);const sn=p.path.child(qr.fromString(Ft));if(!Jt.isDocumentKey(sn))throw new At(ot.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${F}() must result in a valid document path, but '${sn}' is not because it contains an odd number of segments.`);const an=new Jt(sn);Ue.push(Vd(_,an))}else{const sn=Kb(T,F,Ft);Ue.push(sn)}}return new Ml(Ue,te)}(n._query,n.firestore._databaseId,l,e,t,i)}}(e,this.type,this._docOrFields,this._inclusive);return new Va(e.firestore,e.converter,(l=t,new Gd((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,l,i.endAt)));var i,l}}function iS(...n){return u0._create("startAfter",n,!1)}function MD(n,e,t){if("string"==typeof(t=(0,fe.m9)(t))){if(""===t)throw new At(ot.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!a_(e)&&-1!==t.indexOf("/"))throw new At(ot.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(qr.fromString(t));if(!Jt.isDocumentKey(i))throw new At(ot.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Vd(n,new Jt(i))}if(t instanceof fo)return Vd(n,t._key);throw new At(ot.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${n0(t)}.`)}function xD(n,e){if(!Array.isArray(n)||0===n.length)throw new At(ot.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function oS(n,e){if(e.isInequality()){const i=Ts(n),l=e.field;if(null!==i&&!i.isEqual(l))throw new At(ot.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${l.toString()}'`);const p=Ig(n);null!==p&&aS(0,l,p)}const t=function(i,l){for(const p of i)for(const _ of p.getFlattenedFilters())if(l.indexOf(_.op)>=0)return _.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new At(ot.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function aS(n,e,t){if(!t.isEqual(e))throw new At(ot.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class OS{convertValue(e,t="none"){switch(Ol(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ps(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Nl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw gn()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return ka(e,(l,p)=>{i[l]=this.convertValue(p,t)}),i}convertGeoPoint(e){return new s0(Ps(e.latitude),Ps(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Ku(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(qf(e));default:return null}}convertTimestamp(e){const t=Lc(e);return new hs(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=qr.fromString(e);En(__(i));const l=new Ld(i.get(1),i.get(3)),p=new Jt(i.popFirst(5));return l.isEqual(t)||ws(`Document ${p} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),p}}function RD(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class Bg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class d0 extends mE{constructor(e,t,i,l,p,_){super(e,t,i,l,_),this._firestore=e,this._firestoreImpl=e,this.metadata=p}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new r(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(c0("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class r extends d0{data(e={}){return super.data(e)}}class s{constructor(e,t,i,l){this._firestore=e,this._userDataWriter=t,this._snapshot=l,this.metadata=new Bg(l.hasPendingWrites,l.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new r(this._firestore,this._userDataWriter,i.key,i,new Bg(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new At(ot.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,l){if(i._snapshot.oldDocs.isEmpty()){let p=0;return i._snapshot.docChanges.map(_=>({type:"added",doc:new r(i._firestore,i._userDataWriter,_.doc.key,_.doc,new Bg(i._snapshot.mutatedKeys.has(_.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:p++}))}{let p=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(_=>l||3!==_.type).map(_=>{const T=new r(i._firestore,i._userDataWriter,_.doc.key,_.doc,new Bg(i._snapshot.mutatedKeys.has(_.doc.key),i._snapshot.fromCache),i.query.converter);let F=-1,H=-1;return 0!==_.type&&(F=p.indexOf(_.doc.key),p=p.delete(_.doc.key)),1!==_.type&&(p=p.add(_.doc),H=p.indexOf(_.doc.key)),{type:a(_.type),doc:T,oldIndex:F,newIndex:H}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function a(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gn()}}function g(n){n=oi(n,fo);const e=oi(n.firestore,Fs);return function Gb(n,e,t={}){const i=new lo;return n.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return function(l,p,_,T,F){const H=new Fb({next:ge=>{p.enqueueAndForget(()=>Jv(l,te));const Ue=ge.docs.has(_);!Ue&&ge.fromCache?F.reject(new At(ot.UNAVAILABLE,"Failed to get document because the client is offline.")):Ue&&ge.fromCache&&T&&"server"===T.source?F.reject(new At(ot.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):F.resolve(ge)},error:ge=>F.reject(ge)}),te=new WT(jd(_.path),H,{includeMetadataChanges:!0,Ku:!0});return kI(l,te)}(yield Lg(n),n.asyncQueue,e,t,i)})),i.promise}(Lo(e),n._key).then(t=>function bt(n,e,t){const i=t.docs.get(e._key),l=new y(n);return new d0(n,l,e._key,i,new Bg(t.hasPendingWrites,t.fromCache),e.converter)}(e,n,t))}class y extends OS{constructor(e){super(),this.firestore=e}convertBytes(e){return new fp(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new fo(this.firestore,null,t)}}function P(n){n=oi(n,Va);const e=oi(n.firestore,Fs),t=Lo(e),i=new y(e);return function _E(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new At(ot.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),function gD(n,e,t={}){const i=new lo;return n.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return function(l,p,_,T,F){const H=new Fb({next:ge=>{p.enqueueAndForget(()=>Jv(l,te)),ge.fromCache&&"server"===T.source?F.reject(new At(ot.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):F.resolve(ge)},error:ge=>F.reject(ge)}),te=new WT(_,H,{includeMetadataChanges:!0,Ku:!0});return kI(l,te)}(yield Lg(n),n.asyncQueue,e,t,i)})),i.promise}(t,n._query).then(l=>new s(e,i,n,l))}function me(n,e,t){n=oi(n,fo);const i=oi(n.firestore,Fs),l=RD(n.converter,e,t);return wn(i,[dE(F_(i),"setDoc",n._key,l,null!==n.converter,t).toMutation(n._key,Wt.none())])}function Pe(n,e,t,...i){n=oi(n,fo);const l=oi(n.firestore,Fs),p=F_(l);let _;return _="string"==typeof(e=(0,fe.m9)(e))||e instanceof pp?function hE(n,e,t,i,l,p){const _=n.ya(1,e,t),T=[a0(e,i,t)],F=[l];if(p.length%2!=0)throw new At(ot.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ue=0;Ue<p.length;Ue+=2)T.push(a0(e,p[Ue])),F.push(p[Ue+1]);const H=[],te=pa.empty();for(let Ue=T.length-1;Ue>=0;--Ue)if(!ND(H,T[Ue])){const ct=T[Ue];let Ft=F[Ue];Ft=(0,fe.m9)(Ft);const sn=_.da(ct);if(Ft instanceof o0)H.push(ct);else{const an=L_(Ft,sn);null!=an&&(H.push(ct),te.set(ct,an))}}const ge=new Fa(H);return new KC(te,ge,_.fieldTransforms)}(p,"updateDoc",n._key,e,t,i):function AD(n,e,t,i){const l=n.ya(1,e,t);pE("Data must be an object, but it was:",l,i);const p=[],_=pa.empty();ka(i,(F,H)=>{const te=gE(e,F,t);H=(0,fe.m9)(H);const ge=l.da(te);if(H instanceof o0)p.push(te);else{const Ue=L_(H,ge);null!=Ue&&(p.push(te),_.set(te,Ue))}});const T=new Fa(p);return new KC(_,T,l.fieldTransforms)}(p,"updateDoc",n._key,e),wn(l,[_.toMutation(n._key,Wt.exists(!0))])}function Le(n){return wn(oi(n.firestore,Fs),[new mn(n._key,Wt.none())])}function pt(n,e){const t=oi(n.firestore,Fs),i=aE(n),l=RD(n.converter,e);return wn(t,[dE(F_(n.firestore),"addDoc",i._key,l,null!==n.converter,{}).toMutation(i._key,Wt.exists(!1))]).then(()=>i)}function wn(n,e){return function(t,i){const l=new lo;return t.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return function JT(n,e,t){return Cb.apply(this,arguments)}(yield function Hb(n){return t0(n).then(e=>e.syncEngine)}(t),i,l)})),l.promise}(Lo(n),e)}function eA(...n){return new CD("arrayUnion",n)}function tA(...n){return new SD("arrayRemove",n)}!function(n,e=!0){Sl=Te.Jn,(0,Te.Xd)(new ae.wA("firestore",(t,{instanceIdentifier:i,options:l})=>{const p=t.getProvider("app").getImmediate(),_=new Fs(new T1(t.getProvider("auth-internal")),new ov(t.getProvider("app-check-internal")),function(T,F){if(!Object.prototype.hasOwnProperty.apply(T.options,["projectId"]))throw new At(ot.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ld(T.options.projectId,F)}(p,i),p);return l=Object.assign({useFetchStreams:e},l),_._setSettings(l),_},"PUBLIC").setMultipleInstances(!0)),(0,Te.KN)(Vf,"3.13.0",n),(0,Te.KN)(Vf,"3.13.0","esm2017")}();class FD{constructor(e){return e}}const LS="firestore",lS=new ne.OlP("angularfire2.firestore-instances");function iA(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new FD(i)}}const sA={provide:class nA{constructor(){return(0,b.vb)(LS)}},deps:[[new ne.FiY,lS]]},oA={provide:FD,useFactory:function rA(n,e){const t=(0,b.JM)(LS,n,e);return t&&new FD(t)},deps:[[new ne.FiY,lS],u.Ot]};let aA=(()=>{class n{constructor(){(0,be.KN)("angularfire",b.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ne.oAB({type:n}),n.\u0275inj=ne.cJS({providers:[oA,sA]}),n})();function cA(n,...e){return{ngModule:aA,providers:[{provide:lS,useFactory:iA(n),multi:!0,deps:[ne.R0b,ne.zs3,b.HU,u.z6,[new ne.FiY,$_],[new ne.FiY,su],...e]}]}}const lA=(0,b.u3)(pt,!0),uA=(0,b.u3)(tA,!0),dA=(0,b.u3)(eA,!0),hA=(0,b.u3)(zb,!0),fA=(0,b.u3)(Le,!0),pA=(0,b.u3)(aE,!0),gA=(0,b.u3)(g,!0),mA=(0,b.u3)(P,!0),_A=(0,b.u3)(ES,!0),yA=(0,b.u3)(nS,!0),vA=(0,b.u3)(Xb,!0),bA=(0,b.u3)(OD,!0),wA=(0,b.u3)(me,!0),IA=(0,b.u3)(iS,!0),EA=(0,b.u3)(Pe,!0),TA=(0,b.u3)(XC,!0)},559:(Ut,Be,K)=>{K.d(Be,{q4:()=>Du,HU:()=>eu,vb:()=>fd,JM:()=>rh,u3:()=>nu});var b=K(9468),ne=K(4097),u=K(5861),be=K(7592),ue=K(229),fe=K(6820),Te=K(7879);const Ve=(O,L)=>L.some(ee=>O instanceof ee);let Oe,ae;const Se=new WeakMap,xe=new WeakMap,Ze=new WeakMap,It=new WeakMap,Pt=new WeakMap;let Nt={get(O,L,ee){if(O instanceof IDBTransaction){if("done"===L)return xe.get(O);if("objectStoreNames"===L)return O.objectStoreNames||Ze.get(O);if("store"===L)return ee.objectStoreNames[1]?void 0:ee.objectStore(ee.objectStoreNames[0])}return yt(O[L])},set:(O,L,ee)=>(O[L]=ee,!0),has:(O,L)=>O instanceof IDBTransaction&&("done"===L||"store"===L)||L in O};function vt(O){return"function"==typeof O?function at(O){return O!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Me(){return ae||(ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(O)?function(...L){return O.apply(Ge(this),L),yt(Se.get(this))}:function(...L){return yt(O.apply(Ge(this),L))}:function(L,...ee){const pe=O.call(Ge(this),L,...ee);return Ze.set(pe,L.sort?L.sort():[L]),yt(pe)}}(O):(O instanceof IDBTransaction&&function Tn(O){if(xe.has(O))return;const L=new Promise((ee,pe)=>{const Re=()=>{O.removeEventListener("complete",Fe),O.removeEventListener("error",st),O.removeEventListener("abort",st)},Fe=()=>{ee(),Re()},st=()=>{pe(O.error||new DOMException("AbortError","AbortError")),Re()};O.addEventListener("complete",Fe),O.addEventListener("error",st),O.addEventListener("abort",st)});xe.set(O,L)}(O),Ve(O,function de(){return Oe||(Oe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(O,Nt):O)}function yt(O){if(O instanceof IDBRequest)return function Ot(O){const L=new Promise((ee,pe)=>{const Re=()=>{O.removeEventListener("success",Fe),O.removeEventListener("error",st)},Fe=()=>{ee(yt(O.result)),Re()},st=()=>{pe(O.error),Re()};O.addEventListener("success",Fe),O.addEventListener("error",st)});return L.then(ee=>{ee instanceof IDBCursor&&Se.set(ee,O)}).catch(()=>{}),Pt.set(L,O),L}(O);if(It.has(O))return It.get(O);const L=vt(O);return L!==O&&(It.set(O,L),Pt.set(L,O)),L}const Ge=O=>Pt.get(O),_t=["get","getKey","getAll","getAllKeys","count"],xn=["put","add","delete","clear"],dt=new Map;function _n(O,L){if(!(O instanceof IDBDatabase)||L in O||"string"!=typeof L)return;if(dt.get(L))return dt.get(L);const ee=L.replace(/FromIndex$/,""),pe=L!==ee,Re=xn.includes(ee);if(!(ee in(pe?IDBIndex:IDBObjectStore).prototype)||!Re&&!_t.includes(ee))return;const Fe=function(){var st=(0,u.Z)(function*(Ht,...Lt){const un=this.transaction(Ht,Re?"readwrite":"readonly");let $n=un.store;return pe&&($n=$n.index(Lt.shift())),(yield Promise.all([$n[ee](...Lt),Re&&un.done]))[0]});return function(Lt){return st.apply(this,arguments)}}();return dt.set(L,Fe),Fe}!function ft(O){Nt=O(Nt)}(O=>({...O,get:(L,ee,pe)=>_n(L,ee)||O.get(L,ee,pe),has:(L,ee)=>!!_n(L,ee)||O.has(L,ee)}));const Dn="@firebase/installations",Hn="0.6.4",rr=1e4,_r=`w:${Hn}`,ke="FIS_v2",je="https://firebaseinstallations.googleapis.com/v1",et=36e5,kt=new ue.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Gt(O){return O instanceof ue.ZR&&O.code.includes("request-failed")}function hn({projectId:O}){return`${je}/projects/${O}/installations`}function fn(O){return{token:O.token,requestStatus:2,expiresIn:Ee(O.expiresIn),creationTime:Date.now()}}function yn(O,L){return St.apply(this,arguments)}function St(){return(St=(0,u.Z)(function*(O,L){const pe=(yield L.json()).error;return kt.create("request-failed",{requestName:O,serverCode:pe.code,serverMessage:pe.message,serverStatus:pe.status})})).apply(this,arguments)}function jn({apiKey:O}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":O})}function br(O){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,u.Z)(function*(O){const L=yield O();return L.status>=500&&L.status<600?O():L})).apply(this,arguments)}function Ee(O){return Number(O.replace("s","000"))}function gt(){return(gt=(0,u.Z)(function*({appConfig:O,heartbeatServiceProvider:L},{fid:ee}){const pe=hn(O),Re=jn(O),Fe=L.getImmediate({optional:!0});if(Fe){const un=yield Fe.getHeartbeatsHeader();un&&Re.append("x-firebase-client",un)}const Ht={method:"POST",headers:Re,body:JSON.stringify({fid:ee,authVersion:ke,appId:O.appId,sdkVersion:_r})},Lt=yield br(()=>fetch(pe,Ht));if(Lt.ok){const un=yield Lt.json();return{fid:un.fid||ee,registrationStatus:2,refreshToken:un.refreshToken,authToken:fn(un.authToken)}}throw yield yn("Create Installation",Lt)})).apply(this,arguments)}function Rt(O){return new Promise(L=>{setTimeout(L,O)})}const pn=/^[cdef][\w-]{21}$/,In="";function Yt(){try{const O=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(O),O[0]=112+O[0]%16;const ee=function cn(O){return function wr(O){return btoa(String.fromCharCode(...O)).replace(/\+/g,"-").replace(/\//g,"_")}(O).substr(0,22)}(O);return pn.test(ee)?ee:In}catch{return In}}function yr(O){return`${O.appName}!${O.appId}`}const Xt=new Map;function Dr(O,L){const ee=yr(O);or(ee,L),function qn(O,L){const ee=function Ln(){return!ir&&"BroadcastChannel"in self&&(ir=new BroadcastChannel("[Firebase] FID Change"),ir.onmessage=O=>{or(O.data.key,O.data.fid)}),ir}();ee&&ee.postMessage({key:O,fid:L}),function ni(){0===Xt.size&&ir&&(ir.close(),ir=null)}()}(ee,L)}function or(O,L){const ee=Xt.get(O);if(ee)for(const pe of ee)pe(L)}let ir=null;const qt="firebase-installations-database",Yi=1,Zr="firebase-installations-store";let jr=null;function it(){return jr||(jr=function we(O,L,{blocked:ee,upgrade:pe,blocking:Re,terminated:Fe}={}){const st=indexedDB.open(O,L),Ht=yt(st);return pe&&st.addEventListener("upgradeneeded",Lt=>{pe(yt(st.result),Lt.oldVersion,Lt.newVersion,yt(st.transaction))}),ee&&st.addEventListener("blocked",()=>ee()),Ht.then(Lt=>{Fe&&Lt.addEventListener("close",()=>Fe()),Re&&Lt.addEventListener("versionchange",()=>Re())}).catch(()=>{}),Ht}(qt,Yi,{upgrade:(O,L)=>{0===L&&O.createObjectStore(Zr)}})),jr}function Ce(O,L){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,u.Z)(function*(O,L){const ee=yr(O),Re=(yield it()).transaction(Zr,"readwrite"),Fe=Re.objectStore(Zr),st=yield Fe.get(ee);return yield Fe.put(L,ee),yield Re.done,(!st||st.fid!==L.fid)&&Dr(O,L.fid),L})).apply(this,arguments)}function Et(O){return $t.apply(this,arguments)}function $t(){return($t=(0,u.Z)(function*(O){const L=yr(O),pe=(yield it()).transaction(Zr,"readwrite");yield pe.objectStore(Zr).delete(L),yield pe.done})).apply(this,arguments)}function Zt(O,L){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,u.Z)(function*(O,L){const ee=yr(O),Re=(yield it()).transaction(Zr,"readwrite"),Fe=Re.objectStore(Zr),st=yield Fe.get(ee),Ht=L(st);return void 0===Ht?yield Fe.delete(ee):yield Fe.put(Ht,ee),yield Re.done,Ht&&(!st||st.fid!==Ht.fid)&&Dr(O,Ht.fid),Ht})).apply(this,arguments)}function Q(O){return B.apply(this,arguments)}function B(){return B=(0,u.Z)(function*(O){let L;const ee=yield Zt(O.appConfig,pe=>{const Re=function G(O){return ln(O||{fid:Yt(),registrationStatus:0})}(pe),Fe=function W(O,L){if(0===L.registrationStatus){if(!navigator.onLine)return{installationEntry:L,registrationPromise:Promise.reject(kt.create("app-offline"))};const ee={fid:L.fid,registrationStatus:1,registrationTime:Date.now()},pe=function $(O,L){return Ie.apply(this,arguments)}(O,ee);return{installationEntry:ee,registrationPromise:pe}}return 1===L.registrationStatus?{installationEntry:L,registrationPromise:We(O)}:{installationEntry:L}}(O,Re);return L=Fe.registrationPromise,Fe.installationEntry});return ee.fid===In?{installationEntry:yield L}:{installationEntry:ee,registrationPromise:L}}),B.apply(this,arguments)}function Ie(){return Ie=(0,u.Z)(function*(O,L){try{const ee=yield function ut(O,L){return gt.apply(this,arguments)}(O,L);return Ce(O.appConfig,ee)}catch(ee){throw Gt(ee)&&409===ee.customData.serverCode?yield Et(O.appConfig):yield Ce(O.appConfig,{fid:L.fid,registrationStatus:0}),ee}}),Ie.apply(this,arguments)}function We(O){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,u.Z)(function*(O){let L=yield on(O.appConfig);for(;1===L.registrationStatus;)yield Rt(100),L=yield on(O.appConfig);if(0===L.registrationStatus){const{installationEntry:ee,registrationPromise:pe}=yield Q(O);return pe||ee}return L})).apply(this,arguments)}function on(O){return Zt(O,L=>{if(!L)throw kt.create("installation-not-found");return ln(L)})}function ln(O){return function Rn(O){return 1===O.registrationStatus&&O.registrationTime+rr<Date.now()}(O)?{fid:O.fid,registrationStatus:0}:O}function Pn(){return(Pn=(0,u.Z)(function*({appConfig:O,heartbeatServiceProvider:L},ee){const pe=function Kr(O,{fid:L}){return`${hn(O)}/${L}/authTokens:generate`}(O,ee),Re=function Tr(O,{refreshToken:L}){const ee=jn(O);return ee.append("Authorization",function Ke(O){return`${ke} ${O}`}(L)),ee}(O,ee),Fe=L.getImmediate({optional:!0});if(Fe){const un=yield Fe.getHeartbeatsHeader();un&&Re.append("x-firebase-client",un)}const Ht={method:"POST",headers:Re,body:JSON.stringify({installation:{sdkVersion:_r,appId:O.appId}})},Lt=yield br(()=>fetch(pe,Ht));if(Lt.ok)return fn(yield Lt.json());throw yield yn("Generate Auth Token",Lt)})).apply(this,arguments)}function Xn(O){return fs.apply(this,arguments)}function fs(){return fs=(0,u.Z)(function*(O,L=!1){let ee;const pe=yield Zt(O.appConfig,Fe=>{if(!Bi(Fe))throw kt.create("not-registered");const st=Fe.authToken;if(!L&&function po(O){return 2===O.requestStatus&&!function Vi(O){const L=Date.now();return L<O.creationTime||O.creationTime+O.expiresIn<L+et}(O)}(st))return Fe;if(1===st.requestStatus)return ee=function Bo(O,L){return ss.apply(this,arguments)}(O,L),Fe;{if(!navigator.onLine)throw kt.create("app-offline");const Ht=function Hi(O){const L={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},O),{authToken:L})}(Fe);return ee=function Ha(O,L){return Ls.apply(this,arguments)}(O,Ht),Ht}});return ee?yield ee:pe.authToken}),fs.apply(this,arguments)}function ss(){return(ss=(0,u.Z)(function*(O,L){let ee=yield os(O.appConfig);for(;1===ee.authToken.requestStatus;)yield Rt(100),ee=yield os(O.appConfig);const pe=ee.authToken;return 0===pe.requestStatus?Xn(O,L):pe})).apply(this,arguments)}function os(O){return Zt(O,L=>{if(!Bi(L))throw kt.create("not-registered");return function tr(O){return 1===O.requestStatus&&O.requestTime+rr<Date.now()}(L.authToken)?Object.assign(Object.assign({},L),{authToken:{requestStatus:0}}):L})}function Ls(){return Ls=(0,u.Z)(function*(O,L){try{const ee=yield function Qt(O,L){return Pn.apply(this,arguments)}(O,L),pe=Object.assign(Object.assign({},L),{authToken:ee});return yield Ce(O.appConfig,pe),ee}catch(ee){if(!Gt(ee)||401!==ee.customData.serverCode&&404!==ee.customData.serverCode){const pe=Object.assign(Object.assign({},L),{authToken:{requestStatus:0}});yield Ce(O.appConfig,pe)}else yield Et(O.appConfig);throw ee}}),Ls.apply(this,arguments)}function Bi(O){return void 0!==O&&2===O.registrationStatus}function Yo(){return(Yo=(0,u.Z)(function*(O){const L=O,{installationEntry:ee,registrationPromise:pe}=yield Q(L);return pe?pe.catch(console.error):Xn(L).catch(console.error),ee.fid})).apply(this,arguments)}function Ga(){return Ga=(0,u.Z)(function*(O,L=!1){const ee=O;return yield function ps(O){return ma.apply(this,arguments)}(ee),(yield Xn(ee,L)).token}),Ga.apply(this,arguments)}function ma(){return(ma=(0,u.Z)(function*(O){const{registrationPromise:L}=yield Q(O);L&&(yield L)})).apply(this,arguments)}function Bs(O){return kt.create("missing-app-config-values",{valueName:O})}const _o="installations",va=O=>{const L=O.getProvider("app").getImmediate(),ee=function ya(O){if(!O||!O.options)throw Bs("App Configuration");if(!O.name)throw Bs("App Name");const L=["projectId","apiKey","appId"];for(const ee of L)if(!O.options[ee])throw Bs(ee);return{appName:O.name,projectId:O.options.projectId,apiKey:O.options.apiKey,appId:O.options.appId}}(L);return{app:L,appConfig:ee,heartbeatServiceProvider:(0,be.qX)(L,"heartbeat"),_delete:()=>Promise.resolve()}},$r=O=>{const L=O.getProvider("app").getImmediate(),ee=(0,be.qX)(L,_o).getImmediate();return{getId:()=>function go(O){return Yo.apply(this,arguments)}(ee),getToken:Re=>function Qo(O){return Ga.apply(this,arguments)}(ee,Re)}};(function Xo(){(0,be.Xd)(new fe.wA(_o,va,"PUBLIC")),(0,be.Xd)(new fe.wA("installations-internal",$r,"PRIVATE"))})(),(0,be.KN)(Dn,Hn),(0,be.KN)(Dn,Hn,"esm2017");const as="@firebase/remote-config",Gi=new ue.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class fi{constructor(L,ee,pe,Re){this.client=L,this.storage=ee,this.storageCache=pe,this.logger=Re}isCachedDataFresh(L,ee){if(!ee)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const pe=Date.now()-ee,Re=pe<=L;return this.logger.debug(`Config fetch cache check. Cache age millis: ${pe}. Cache max age millis (minimumFetchIntervalMillis setting): ${L}. Is cache hit: ${Re}.`),Re}fetch(L){var ee=this;return(0,u.Z)(function*(){const[pe,Re]=yield Promise.all([ee.storage.getLastSuccessfulFetchTimestampMillis(),ee.storage.getLastSuccessfulFetchResponse()]);if(Re&&ee.isCachedDataFresh(L.cacheMaxAgeMillis,pe))return Re;L.eTag=Re&&Re.eTag;const Fe=yield ee.client.fetch(L),st=[ee.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Fe.status&&st.push(ee.storage.setLastSuccessfulFetchResponse(Fe)),yield Promise.all(st),Fe})()}}function Cc(O=navigator){return O.languages&&O.languages[0]||O.language}class Qi{constructor(L,ee,pe,Re,Fe,st){this.firebaseInstallations=L,this.sdkVersion=ee,this.namespace=pe,this.projectId=Re,this.apiKey=Fe,this.appId=st}fetch(L){var ee=this;return(0,u.Z)(function*(){const[pe,Re]=yield Promise.all([ee.firebaseInstallations.getId(),ee.firebaseInstallations.getToken()]),st=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${ee.projectId}/namespaces/${ee.namespace}:fetch?key=${ee.apiKey}`,Ht={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":L.eTag||"*"},Lt={sdk_version:ee.sdkVersion,app_instance_id:pe,app_instance_id_token:Re,app_id:ee.appId,language_code:Cc()},un={method:"POST",headers:Ht,body:JSON.stringify(Lt)},$n=fetch(st,un),Zn=new Promise((xc,ru)=>{L.signal.addEventListener(()=>{const Ip=new Error("The operation was aborted.");Ip.name="AbortError",ru(Ip)})});let Zs;try{yield Promise.race([$n,Zn]),Zs=yield $n}catch(xc){let ru="fetch-client-network";throw"AbortError"===xc?.name&&(ru="fetch-timeout"),Gi.create(ru,{originalErrorMessage:xc?.message})}let Ks=Zs.status;const Ou=Zs.headers.get("ETag")||void 0;let Mu,sh;if(200===Zs.status){let xc;try{xc=yield Zs.json()}catch(ru){throw Gi.create("fetch-client-parse",{originalErrorMessage:ru?.message})}Mu=xc.entries,sh=xc.state}if("INSTANCE_STATE_UNSPECIFIED"===sh?Ks=500:"NO_CHANGE"===sh?Ks=304:("NO_TEMPLATE"===sh||"EMPTY_CONFIG"===sh)&&(Mu={}),304!==Ks&&200!==Ks)throw Gi.create("fetch-status",{httpStatus:Ks});return{status:Ks,eTag:Ou,config:Mu}})()}}class Mn{constructor(L,ee){this.client=L,this.storage=ee}fetch(L){var ee=this;return(0,u.Z)(function*(){const pe=(yield ee.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return ee.attemptFetch(L,pe)})()}attemptFetch(L,{throttleEndTimeMillis:ee,backoffCount:pe}){var Re=this;return(0,u.Z)(function*(){yield function dr(O,L){return new Promise((ee,pe)=>{const Re=Math.max(L-Date.now(),0),Fe=setTimeout(ee,Re);O.addEventListener(()=>{clearTimeout(Fe),pe(Gi.create("fetch-throttle",{throttleEndTimeMillis:L}))})})}(L.signal,ee);try{const Fe=yield Re.client.fetch(L);return yield Re.storage.deleteThrottleMetadata(),Fe}catch(Fe){if(!function Vt(O){if(!(O instanceof ue.ZR&&O.customData))return!1;const L=Number(O.customData.httpStatus);return 429===L||500===L||503===L||504===L}(Fe))throw Fe;const st={throttleEndTimeMillis:Date.now()+(0,ue.$s)(pe),backoffCount:pe+1};return yield Re.storage.setThrottleMetadata(st),Re.attemptFetch(L,st)}})()}}class io{constructor(L,ee,pe,Re,Fe){this.app=L,this._client=ee,this._storageCache=pe,this._storage=Re,this._logger=Fe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Qr(O,L){const ee=O.target.error||void 0;return Gi.create(L,{originalErrorMessage:ee&&ee?.message})}const ji="app_namespace_store";class kn{constructor(L,ee,pe,Re=function Xr(){return new Promise((O,L)=>{try{const ee=indexedDB.open("firebase_remote_config",1);ee.onerror=pe=>{L(Qr(pe,"storage-open"))},ee.onsuccess=pe=>{O(pe.target.result)},ee.onupgradeneeded=pe=>{0===pe.oldVersion&&pe.target.result.createObjectStore(ji,{keyPath:"compositeKey"})}}catch(ee){L(Gi.create("storage-open",{originalErrorMessage:ee?.message}))}})}()){this.appId=L,this.appName=ee,this.namespace=pe,this.openDbPromise=Re}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(L){return this.set("last_fetch_status",L)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(L){return this.set("last_successful_fetch_timestamp_millis",L)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(L){return this.set("last_successful_fetch_response",L)}getActiveConfig(){return this.get("active_config")}setActiveConfig(L){return this.set("active_config",L)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(L){return this.set("active_config_etag",L)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(L){return this.set("throttle_metadata",L)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(L){var ee=this;return(0,u.Z)(function*(){const pe=yield ee.openDbPromise;return new Promise((Re,Fe)=>{const Ht=pe.transaction([ji],"readonly").objectStore(ji),Lt=ee.createCompositeKey(L);try{const un=Ht.get(Lt);un.onerror=$n=>{Fe(Qr($n,"storage-get"))},un.onsuccess=$n=>{const Zn=$n.target.result;Re(Zn?Zn.value:void 0)}}catch(un){Fe(Gi.create("storage-get",{originalErrorMessage:un?.message}))}})})()}set(L,ee){var pe=this;return(0,u.Z)(function*(){const Re=yield pe.openDbPromise;return new Promise((Fe,st)=>{const Lt=Re.transaction([ji],"readwrite").objectStore(ji),un=pe.createCompositeKey(L);try{const $n=Lt.put({compositeKey:un,value:ee});$n.onerror=Zn=>{st(Qr(Zn,"storage-set"))},$n.onsuccess=()=>{Fe()}}catch($n){st(Gi.create("storage-set",{originalErrorMessage:$n?.message}))}})})()}delete(L){var ee=this;return(0,u.Z)(function*(){const pe=yield ee.openDbPromise;return new Promise((Re,Fe)=>{const Ht=pe.transaction([ji],"readwrite").objectStore(ji),Lt=ee.createCompositeKey(L);try{const un=Ht.delete(Lt);un.onerror=$n=>{Fe(Qr($n,"storage-delete"))},un.onsuccess=()=>{Re()}}catch(un){Fe(Gi.create("storage-delete",{originalErrorMessage:un?.message}))}})})()}createCompositeKey(L){return[this.appId,this.appName,this.namespace,L].join()}}class vo{constructor(L){this.storage=L}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var L=this;return(0,u.Z)(function*(){const ee=L.storage.getLastFetchStatus(),pe=L.storage.getLastSuccessfulFetchTimestampMillis(),Re=L.storage.getActiveConfig(),Fe=yield ee;Fe&&(L.lastFetchStatus=Fe);const st=yield pe;st&&(L.lastSuccessfulFetchTimestampMillis=st);const Ht=yield Re;Ht&&(L.activeConfig=Ht)})()}setLastFetchStatus(L){return this.lastFetchStatus=L,this.storage.setLastFetchStatus(L)}setLastSuccessfulFetchTimestampMillis(L){return this.lastSuccessfulFetchTimestampMillis=L,this.storage.setLastSuccessfulFetchTimestampMillis(L)}setActiveConfig(L){return this.activeConfig=L,this.storage.setActiveConfig(L)}}function Ji(){return so.apply(this,arguments)}function so(){return(so=(0,u.Z)(function*(){if(!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch{return!1}})).apply(this,arguments)}!function Vo(){(0,be.Xd)(new fe.wA("remote-config",function O(L,{instanceIdentifier:ee}){const pe=L.getProvider("app").getImmediate(),Re=L.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Gi.create("registration-window");if(!(0,ue.hl)())throw Gi.create("indexed-db-unavailable");const{projectId:Fe,apiKey:st,appId:Ht}=pe.options;if(!Fe)throw Gi.create("registration-project-id");if(!st)throw Gi.create("registration-api-key");if(!Ht)throw Gi.create("registration-app-id");const Lt=new kn(Ht,pe.name,ee=ee||"firebase"),un=new vo(Lt),$n=new Te.Yd(as);$n.logLevel=Te.in.ERROR;const Zn=new Qi(Re,be.Jn,ee,Fe,st,Ht),Zs=new Mn(Zn,Lt),Ks=new fi(Zs,Lt,un,$n),Ou=new io(pe,Ks,un,Lt,$n);return function ia(O){const L=(0,ue.m9)(O);L._initializePromise||(L._initializePromise=L._storageCache.loadFromStorage().then(()=>{L._isInitializationComplete=!0}))}(Ou),Ou},"PUBLIC").setMultipleInstances(!0)),(0,be.KN)(as,"0.4.4"),(0,be.KN)(as,"0.4.4","esm2017")}();const ri=(O,L)=>L.some(ee=>O instanceof ee);let sa,Sc;const Gs=new WeakMap,wo=new WeakMap,Gn=new WeakMap,td=new WeakMap,Io=new WeakMap;let oo={get(O,L,ee){if(O instanceof IDBTransaction){if("done"===L)return wo.get(O);if("objectStoreNames"===L)return O.objectStoreNames||Gn.get(O);if("store"===L)return ee.objectStoreNames[1]?void 0:ee.objectStore(ee.objectStoreNames[0])}return As(O[L])},set:(O,L,ee)=>(O[L]=ee,!0),has:(O,L)=>O instanceof IDBTransaction&&("done"===L||"store"===L)||L in O};function vi(O){return"function"==typeof O?function Si(O){return O!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ls(){return Sc||(Sc=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(O)?function(...L){return O.apply(ar(this),L),As(Gs.get(this))}:function(...L){return As(O.apply(ar(this),L))}:function(L,...ee){const pe=O.call(ar(this),L,...ee);return Gn.set(pe,L.sort?L.sort():[L]),As(pe)}}(O):(O instanceof IDBTransaction&&function Br(O){if(wo.has(O))return;const L=new Promise((ee,pe)=>{const Re=()=>{O.removeEventListener("complete",Fe),O.removeEventListener("error",st),O.removeEventListener("abort",st)},Fe=()=>{ee(),Re()},st=()=>{pe(O.error||new DOMException("AbortError","AbortError")),Re()};O.addEventListener("complete",Fe),O.addEventListener("error",st),O.addEventListener("abort",st)});wo.set(O,L)}(O),ri(O,function Hs(){return sa||(sa=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(O,oo):O)}function As(O){if(O instanceof IDBRequest)return function js(O){const L=new Promise((ee,pe)=>{const Re=()=>{O.removeEventListener("success",Fe),O.removeEventListener("error",st)},Fe=()=>{ee(As(O.result)),Re()},st=()=>{pe(O.error),Re()};O.addEventListener("success",Fe),O.addEventListener("error",st)});return L.then(ee=>{ee instanceof IDBCursor&&Gs.set(ee,O)}).catch(()=>{}),Io.set(L,O),L}(O);if(td.has(O))return td.get(O);const L=vi(O);return L!==O&&(td.set(O,L),Io.set(L,O)),L}const ar=O=>Io.get(O);function Ai(O,L,{blocked:ee,upgrade:pe,blocking:Re,terminated:Fe}={}){const st=indexedDB.open(O,L),Ht=As(st);return pe&&st.addEventListener("upgradeneeded",Lt=>{pe(As(st.result),Lt.oldVersion,Lt.newVersion,As(st.transaction))}),ee&&st.addEventListener("blocked",()=>ee()),Ht.then(Lt=>{Fe&&Lt.addEventListener("close",()=>Fe()),Re&&Lt.addEventListener("versionchange",()=>Re())}).catch(()=>{}),Ht}function $s(O,{blocked:L}={}){const ee=indexedDB.deleteDatabase(O);return L&&ee.addEventListener("blocked",()=>L()),As(ee).then(()=>{})}const Eo=["get","getKey","getAll","getAllKeys","count"],zs=["put","add","delete","clear"],Ni=new Map;function Oi(O,L){if(!(O instanceof IDBDatabase)||L in O||"string"!=typeof L)return;if(Ni.get(L))return Ni.get(L);const ee=L.replace(/FromIndex$/,""),pe=L!==ee,Re=zs.includes(ee);if(!(ee in(pe?IDBIndex:IDBObjectStore).prototype)||!Re&&!Eo.includes(ee))return;const Fe=function(){var st=(0,u.Z)(function*(Ht,...Lt){const un=this.transaction(Ht,Re?"readwrite":"readonly");let $n=un.store;return pe&&($n=$n.index(Lt.shift())),(yield Promise.all([$n[ee](...Lt),Re&&un.done]))[0]});return function(Lt){return st.apply(this,arguments)}}();return Ni.set(L,Fe),Fe}!function za(O){oo=O(oo)}(O=>({...O,get:(L,ee,pe)=>Oi(L,ee)||O.get(L,ee,pe),has:(L,ee)=>!!Oi(L,ee)||O.has(L,ee)}));const Ws="/firebase-messaging-sw.js",oa="/firebase-cloud-messaging-push-scope",Gc="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",cc="https://fcmregistrations.googleapis.com/v1",Sr="google.c.a.c_id",Wa="google.c.a.c_l",yu="google.c.a.ts";var U=function(O){return O.PUSH_RECEIVED="push-received",O.NOTIFICATION_CLICKED="notification-clicked",O}(U||{});function ce(O){const L=new Uint8Array(O);return btoa(String.fromCharCode(...L)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function De(O){const ee=(O+"=".repeat((4-O.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),pe=atob(ee),Re=new Uint8Array(pe.length);for(let Fe=0;Fe<pe.length;++Fe)Re[Fe]=pe.charCodeAt(Fe);return Re}const en="fcm_token_details_db",Un=5,$i="fcm_token_object_Store";function zi(){return zi=(0,u.Z)(function*(O){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Fe=>Fe.name).includes(en))return null;let L=null;return(yield Ai(en,Un,{upgrade:(pe=(0,u.Z)(function*(Re,Fe,st,Ht){var Lt;if(Fe<2||!Re.objectStoreNames.contains($i))return;const un=Ht.objectStore($i),$n=yield un.index("fcmSenderId").get(O);if(yield un.clear(),$n)if(2===Fe){const Zn=$n;if(!Zn.auth||!Zn.p256dh||!Zn.endpoint)return;L={token:Zn.fcmToken,createTime:null!==(Lt=Zn.createTime)&&void 0!==Lt?Lt:Date.now(),subscriptionOptions:{auth:Zn.auth,p256dh:Zn.p256dh,endpoint:Zn.endpoint,swScope:Zn.swScope,vapidKey:"string"==typeof Zn.vapidKey?Zn.vapidKey:ce(Zn.vapidKey)}}}else if(3===Fe){const Zn=$n;L={token:Zn.fcmToken,createTime:Zn.createTime,subscriptionOptions:{auth:ce(Zn.auth),p256dh:ce(Zn.p256dh),endpoint:Zn.endpoint,swScope:Zn.swScope,vapidKey:ce(Zn.vapidKey)}}}else if(4===Fe){const Zn=$n;L={token:Zn.fcmToken,createTime:Zn.createTime,subscriptionOptions:{auth:ce(Zn.auth),p256dh:ce(Zn.p256dh),endpoint:Zn.endpoint,swScope:Zn.swScope,vapidKey:ce(Zn.vapidKey)}}}}),function(Fe,st,Ht,Lt){return pe.apply(this,arguments)})})).close(),yield $s(en),yield $s("fcm_vapid_details_db"),yield $s("undefined"),function ms(O){if(!O||!O.subscriptionOptions)return!1;const{subscriptionOptions:L}=O;return"number"==typeof O.createTime&&O.createTime>0&&"string"==typeof O.token&&O.token.length>0&&"string"==typeof L.auth&&L.auth.length>0&&"string"==typeof L.p256dh&&L.p256dh.length>0&&"string"==typeof L.endpoint&&L.endpoint.length>0&&"string"==typeof L.swScope&&L.swScope.length>0&&"string"==typeof L.vapidKey&&L.vapidKey.length>0}(L)?L:null;var pe}),zi.apply(this,arguments)}const qa="firebase-messaging-database",Za=1,To="firebase-messaging-store";let jc=null;function lc(){return jc||(jc=Ai(qa,Za,{upgrade:(O,L)=>{0===L&&O.createObjectStore(To)}})),jc}function Os(O){return al.apply(this,arguments)}function al(){return al=(0,u.Z)(function*(O){const L=Do(O),pe=yield(yield lc()).transaction(To).objectStore(To).get(L);if(pe)return pe;{const Re=yield function Ns(O){return zi.apply(this,arguments)}(O.appConfig.senderId);if(Re)return yield Ia(O,Re),Re}}),al.apply(this,arguments)}function Ia(O,L){return bi.apply(this,arguments)}function bi(){return(bi=(0,u.Z)(function*(O,L){const ee=Do(O),Re=(yield lc()).transaction(To,"readwrite");return yield Re.objectStore(To).put(L,ee),yield Re.done,L})).apply(this,arguments)}function Mi(){return(Mi=(0,u.Z)(function*(O){const L=Do(O),pe=(yield lc()).transaction(To,"readwrite");yield pe.objectStore(To).delete(L),yield pe.done})).apply(this,arguments)}function Do({appConfig:O}){return O.appId}const xi=new ue.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function cl(O,L){return $c.apply(this,arguments)}function $c(){return($c=(0,u.Z)(function*(O,L){const ee=yield aa(O),pe=Pi(L),Re={method:"POST",headers:ee,body:JSON.stringify(pe)};let Fe;try{Fe=yield(yield fetch(ll(O.appConfig),Re)).json()}catch(st){throw xi.create("token-subscribe-failed",{errorInfo:st?.toString()})}if(Fe.error)throw xi.create("token-subscribe-failed",{errorInfo:Fe.error.message});if(!Fe.token)throw xi.create("token-subscribe-no-token");return Fe.token})).apply(this,arguments)}function Co(){return(Co=(0,u.Z)(function*(O,L){const ee=yield aa(O),pe=Pi(L.subscriptionOptions),Re={method:"PATCH",headers:ee,body:JSON.stringify(pe)};let Fe;try{Fe=yield(yield fetch(`${ll(O.appConfig)}/${L.token}`,Re)).json()}catch(st){throw xi.create("token-update-failed",{errorInfo:st?.toString()})}if(Fe.error)throw xi.create("token-update-failed",{errorInfo:Fe.error.message});if(!Fe.token)throw xi.create("token-update-no-token");return Fe.token})).apply(this,arguments)}function dc(O,L){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,u.Z)(function*(O,L){const pe={method:"DELETE",headers:yield aa(O)};try{const Fe=yield(yield fetch(`${ll(O.appConfig)}/${L}`,pe)).json();if(Fe.error)throw xi.create("token-unsubscribe-failed",{errorInfo:Fe.error.message})}catch(Re){throw xi.create("token-unsubscribe-failed",{errorInfo:Re?.toString()})}})).apply(this,arguments)}function ll({projectId:O}){return`${cc}/projects/${O}/registrations`}function aa(O){return us.apply(this,arguments)}function us(){return(us=(0,u.Z)(function*({appConfig:O,installations:L}){const ee=yield L.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":O.apiKey,"x-goog-firebase-installations-auth":`FIS ${ee}`})})).apply(this,arguments)}function Pi({p256dh:O,auth:L,endpoint:ee,vapidKey:pe}){const Re={web:{endpoint:ee,auth:L,p256dh:O}};return pe!==Gc&&(Re.web.applicationPubKey=pe),Re}const Ms=6048e5;function zc(){return zc=(0,u.Z)(function*(O){const L=yield function la(O,L){return dl.apply(this,arguments)}(O.swRegistration,O.vapidKey),ee={vapidKey:O.vapidKey,swScope:O.swRegistration.scope,endpoint:L.endpoint,auth:ce(L.getKey("auth")),p256dh:ce(L.getKey("p256dh"))},pe=yield Os(O.firebaseDependencies);if(pe){if(function M(O,L){return L.vapidKey===O.vapidKey&&L.endpoint===O.endpoint&&L.auth===O.auth&&L.p256dh===O.p256dh}(pe.subscriptionOptions,ee))return Date.now()>=pe.createTime+Ms?function Da(O,L){return rd.apply(this,arguments)}(O,{token:pe.token,createTime:Date.now(),subscriptionOptions:ee}):pe.token;try{yield dc(O.firebaseDependencies,pe.token)}catch(Re){console.warn(Re)}return ul(O.firebaseDependencies,ee)}return ul(O.firebaseDependencies,ee)}),zc.apply(this,arguments)}function Ho(){return Ho=(0,u.Z)(function*(O){const L=yield Os(O.firebaseDependencies);L&&(yield dc(O.firebaseDependencies,L.token),yield function Ea(O){return Mi.apply(this,arguments)}(O.firebaseDependencies));const ee=yield O.swRegistration.pushManager.getSubscription();return!ee||ee.unsubscribe()}),Ho.apply(this,arguments)}function rd(){return rd=(0,u.Z)(function*(O,L){try{const ee=yield function nd(O,L){return Co.apply(this,arguments)}(O.firebaseDependencies,L),pe=Object.assign(Object.assign({},L),{token:ee,createTime:Date.now()});return yield Ia(O.firebaseDependencies,pe),ee}catch(ee){throw yield function Ta(O){return Ho.apply(this,arguments)}(O),ee}}),rd.apply(this,arguments)}function ul(O,L){return ca.apply(this,arguments)}function ca(){return(ca=(0,u.Z)(function*(O,L){const pe={token:yield cl(O,L),createTime:Date.now(),subscriptionOptions:L};return yield Ia(O,pe),pe.token})).apply(this,arguments)}function dl(){return(dl=(0,u.Z)(function*(O,L){return(yield O.pushManager.getSubscription())||O.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:De(L)})})).apply(this,arguments)}function re(O){const L={from:O.from,collapseKey:O.collapse_key,messageId:O.fcmMessageId};return function V(O,L){if(!L.notification)return;O.notification={};const ee=L.notification.title;ee&&(O.notification.title=ee);const pe=L.notification.body;pe&&(O.notification.body=pe);const Re=L.notification.image;Re&&(O.notification.image=Re);const Fe=L.notification.icon;Fe&&(O.notification.icon=Fe)}(L,O),function X(O,L){L.data&&(O.data=L.data)}(L,O),function ve(O,L){var ee,pe,Re,Fe,st;if(!(L.fcmOptions||null!==(ee=L.notification)&&void 0!==ee&&ee.click_action))return;O.fcmOptions={};const Ht=null!==(Re=null===(pe=L.fcmOptions)||void 0===pe?void 0:pe.link)&&void 0!==Re?Re:null===(Fe=L.notification)||void 0===Fe?void 0:Fe.click_action;Ht&&(O.fcmOptions.link=Ht);const Lt=null===(st=L.fcmOptions)||void 0===st?void 0:st.analytics_label;Lt&&(O.fcmOptions.analyticsLabel=Lt)}(L,O),L}function mt(O,L){const ee=[];for(let pe=0;pe<O.length;pe++)ee.push(O.charAt(pe)),pe<L.length&&ee.push(L.charAt(pe));return ee.join("")}function Ar(O){return xi.create("missing-app-config-values",{valueName:O})}mt("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),mt("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Or{constructor(L,ee,pe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Re=function bn(O){if(!O||!O.options)throw Ar("App Configuration Object");if(!O.name)throw Ar("App Name");const L=["projectId","apiKey","appId","messagingSenderId"],{options:ee}=O;for(const pe of L)if(!ee[pe])throw Ar(pe);return{appName:O.name,projectId:ee.projectId,apiKey:ee.apiKey,appId:ee.appId,senderId:ee.messagingSenderId}}(L);this.firebaseDependencies={app:L,appConfig:Re,installations:ee,analyticsProvider:pe}}_delete(){return Promise.resolve()}}function Cn(){return(Cn=(0,u.Z)(function*(O){try{O.swRegistration=yield navigator.serviceWorker.register(Ws,{scope:oa}),O.swRegistration.update().catch(()=>{})}catch(L){throw xi.create("failed-service-worker-registration",{browserErrorMessage:L?.message})}})).apply(this,arguments)}function nr(){return(nr=(0,u.Z)(function*(O,L){if(!L&&!O.swRegistration&&(yield function Nr(O){return Cn.apply(this,arguments)}(O)),L||!O.swRegistration){if(!(L instanceof ServiceWorkerRegistration))throw xi.create("invalid-sw-registration");O.swRegistration=L}})).apply(this,arguments)}function Wi(){return(Wi=(0,u.Z)(function*(O,L){L?O.vapidKey=L:O.vapidKey||(O.vapidKey=Gc)})).apply(this,arguments)}function Xi(){return Xi=(0,u.Z)(function*(O,L){if(!navigator)throw xi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw xi.create("permission-blocked");return yield function ii(O,L){return Wi.apply(this,arguments)}(O,L?.vapidKey),yield function zr(O,L){return nr.apply(this,arguments)}(O,L?.serviceWorkerRegistration),function wi(O){return zc.apply(this,arguments)}(O)}),Xi.apply(this,arguments)}function So(){return(So=(0,u.Z)(function*(O,L,ee){const pe=function Ca(O){switch(O){case U.NOTIFICATION_CLICKED:return"notification_open";case U.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(L);(yield O.firebaseDependencies.analyticsProvider.get()).logEvent(pe,{message_id:ee[Sr],message_name:ee[Wa],message_time:ee[yu],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function hl(){return hl=(0,u.Z)(function*(O,L){const ee=L.data;if(!ee.isFirebaseMessaging)return;O.onMessageHandler&&ee.messageType===U.PUSH_RECEIVED&&("function"==typeof O.onMessageHandler?O.onMessageHandler(re(ee)):O.onMessageHandler.next(re(ee)));const pe=ee.data;(function tt(O){return"object"==typeof O&&!!O&&Sr in O})(pe)&&"1"===pe["google.c.a.e"]&&(yield function qi(O,L,ee){return So.apply(this,arguments)}(O,ee.messageType,pe))}),hl.apply(this,arguments)}const vu="@firebase/messaging",Ao=O=>{const L=new Or(O.getProvider("app").getImmediate(),O.getProvider("installations-internal").getImmediate(),O.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",ee=>function qs(O,L){return hl.apply(this,arguments)}(L,ee)),L},Vl=O=>{const L=O.getProvider("messaging").getImmediate();return{getToken:pe=>function Ii(O,L){return Xi.apply(this,arguments)}(L,pe)}};function Ac(){return Wc.apply(this,arguments)}function Wc(){return(Wc=(0,u.Z)(function*(){try{yield(0,ue.eu)()}catch{return!1}return typeof window<"u"&&(0,ue.hl)()&&(0,ue.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Mr(){(0,be.Xd)(new fe.wA("messaging",Ao,"PUBLIC")),(0,be.Xd)(new fe.wA("messaging-internal",Vl,"PRIVATE")),(0,be.KN)(vu,"0.12.4"),(0,be.KN)(vu,"0.12.4","esm2017")}();const Ka="analytics",Hl="firebase_id",od="origin",Ei=6e4,fc="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Aa="https://www.googletagmanager.com/gtag/js",ci=new Te.Yd("@firebase/analytics"),xs=new ue.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function mp(O){if(!O.startsWith(Aa)){const L=xs.create("invalid-gtag-resource",{gtagURL:O});return ci.warn(L.message),""}return O}function Gl(O){return Promise.all(O.map(L=>L.catch(ee=>ee)))}function qc(){return(qc=(0,u.Z)(function*(O,L,ee,pe,Re,Fe){const st=pe[Re];try{if(st)yield L[st];else{const Lt=(yield Gl(ee)).find(un=>un.measurementId===Re);Lt&&(yield L[Lt.appId])}}catch(Ht){ci.error(Ht)}O("config",Re,Fe)})).apply(this,arguments)}function zl(){return(zl=(0,u.Z)(function*(O,L,ee,pe,Re){try{let Fe=[];if(Re&&Re.send_to){let st=Re.send_to;Array.isArray(st)||(st=[st]);const Ht=yield Gl(ee);for(const Lt of st){const un=Ht.find(Zn=>Zn.measurementId===Lt),$n=un&&L[un.appId];if(!$n){Fe=[];break}Fe.push($n)}}0===Fe.length&&(Fe=Object.values(L)),yield Promise.all(Fe),O("event",pe,Re||{})}catch(Fe){ci.error(Fe)}})).apply(this,arguments)}const Ir=30,Zi=new class qh{constructor(L={},ee=1e3){this.throttleMetadata=L,this.intervalMillis=ee}getThrottleMetadata(L){return this.throttleMetadata[L]}setThrottleMetadata(L,ee){this.throttleMetadata[L]=ee}deleteThrottleMetadata(L){delete this.throttleMetadata[L]}};function Qd(O){return new Headers({Accept:"application/json","x-goog-api-key":O})}function No(){return(No=(0,u.Z)(function*(O){var L;const{appId:ee,apiKey:pe}=O,Re={method:"GET",headers:Qd(pe)},Fe=fc.replace("{app-id}",ee),st=yield fetch(Fe,Re);if(200!==st.status&&304!==st.status){let Ht="";try{const Lt=yield st.json();null!==(L=Lt.error)&&void 0!==L&&L.message&&(Ht=Lt.error.message)}catch{}throw xs.create("config-fetch-failed",{httpStatus:st.status,responseMessage:Ht})}return st.json()})).apply(this,arguments)}function gc(){return(gc=(0,u.Z)(function*(O,L=Zi,ee){const{appId:pe,apiKey:Re,measurementId:Fe}=O.options;if(!pe)throw xs.create("no-app-id");if(!Re){if(Fe)return{measurementId:Fe,appId:pe};throw xs.create("no-api-key")}const st=L.getThrottleMetadata(pe)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ht=new Go;return setTimeout((0,u.Z)(function*(){Ht.abort()}),void 0!==ee?ee:Ei),Iu({appId:pe,apiKey:Re,measurementId:Fe},st,Ht,L)})).apply(this,arguments)}function Iu(O,L,ee){return Zc.apply(this,arguments)}function Zc(){return Zc=(0,u.Z)(function*(O,{throttleEndTimeMillis:L,backoffCount:ee},pe,Re=Zi){var Fe;const{appId:st,measurementId:Ht}=O;try{yield function mc(O,L){return new Promise((ee,pe)=>{const Re=Math.max(L-Date.now(),0),Fe=setTimeout(ee,Re);O.addEventListener(()=>{clearTimeout(Fe),pe(xs.create("fetch-throttle",{throttleEndTimeMillis:L}))})})}(pe,L)}catch(Lt){if(Ht)return ci.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ht} provided in the "measurementId" field in the local Firebase config. [${Lt?.message}]`),{appId:st,measurementId:Ht};throw Lt}try{const Lt=yield function gl(O){return No.apply(this,arguments)}(O);return Re.deleteThrottleMetadata(st),Lt}catch(Lt){const un=Lt;if(!function ys(O){if(!(O instanceof ue.ZR&&O.customData))return!1;const L=Number(O.customData.httpStatus);return 429===L||500===L||503===L||504===L}(un)){if(Re.deleteThrottleMetadata(st),Ht)return ci.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ht} provided in the "measurementId" field in the local Firebase config. [${un?.message}]`),{appId:st,measurementId:Ht};throw Lt}const $n=503===Number(null===(Fe=un?.customData)||void 0===Fe?void 0:Fe.httpStatus)?(0,ue.$s)(ee,Re.intervalMillis,Ir):(0,ue.$s)(ee,Re.intervalMillis),Zn={throttleEndTimeMillis:Date.now()+$n,backoffCount:ee+1};return Re.setThrottleMetadata(st,Zn),ci.debug(`Calling attemptFetch again in ${$n} millis`),Iu(O,Zn,pe,Re)}}),Zc.apply(this,arguments)}class Go{constructor(){this.listeners=[]}addEventListener(L){this.listeners.push(L)}abort(){this.listeners.forEach(L=>L())}}let ql,qe;function Oo(){return(Oo=(0,u.Z)(function*(O,L,ee,pe,Re){if(Re&&Re.global)O("event",ee,pe);else{const Fe=yield L;O("event",ee,Object.assign(Object.assign({},pe),{send_to:Fe}))}})).apply(this,arguments)}function Vr(){return(Vr=(0,u.Z)(function*(){if(!(0,ue.hl)())return ci.warn(xs.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ue.eu)()}catch(O){return ci.warn(xs.create("indexeddb-unavailable",{errorInfo:O?.toString()}).message),!1}return!0})).apply(this,arguments)}function Mo(){return Mo=(0,u.Z)(function*(O,L,ee,pe,Re,Fe,st){var Ht;const Lt=function wu(O){return gc.apply(this,arguments)}(O);Lt.then(Ks=>{ee[Ks.measurementId]=Ks.appId,O.options.measurementId&&Ks.measurementId!==O.options.measurementId&&ci.warn(`The measurement ID in the local Firebase config (${O.options.measurementId}) does not match the measurement ID fetched from the server (${Ks.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ks=>ci.error(Ks)),L.push(Lt);const un=function Qn(){return Vr.apply(this,arguments)}().then(Ks=>{if(Ks)return pe.getId()}),[$n,Zn]=yield Promise.all([Lt,un]);(function ht(O){const L=window.document.getElementsByTagName("script");for(const ee of Object.values(L))if(ee.src&&ee.src.includes(Aa)&&ee.src.includes(O))return ee;return null})(Fe)||function jl(O,L){const ee=function ad(O,L){let ee;return window.trustedTypes&&(ee=window.trustedTypes.createPolicy(O,L)),ee}("firebase-js-sdk-policy",{createScriptURL:mp}),pe=document.createElement("script"),Re=`${Aa}?l=${O}&id=${L}`;pe.src=ee?ee?.createScriptURL(Re):Re,pe.async=!0,document.head.appendChild(pe)}(Fe,$n.measurementId),qe&&(Re("consent","default",qe),function ze(O){qe=O}(void 0)),Re("js",new Date);const Zs=null!==(Ht=st?.config)&&void 0!==Ht?Ht:{};return Zs[od]="firebase",Zs.update=!0,null!=Zn&&(Zs[Hl]=Zn),Re("config",$n.measurementId,Zs),ql&&(Re("set",ql),function jt(O){ql=O}(void 0)),$n.measurementId}),Mo.apply(this,arguments)}class Kl{constructor(L){this.app=L}_delete(){return delete Wr[this.app.options.appId],Promise.resolve()}}let Wr={},Ya=[];const vr={};let Jd,Qa,Nc="dataLayer",Eu=!1;function Kc(O,L,ee){!function Kh(){const O=[];if((0,ue.ru)()&&O.push("This is a browser extension environment."),(0,ue.zI)()||O.push("Cookies are not available."),O.length>0){const L=O.map((pe,Re)=>`(${Re+1}) ${pe}`).join(" "),ee=xs.create("invalid-analytics-context",{errorInfo:L});ci.warn(ee.message)}}();const pe=O.options.appId;if(!pe)throw xs.create("no-app-id");if(!O.options.apiKey){if(!O.options.measurementId)throw xs.create("no-api-key");ci.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${O.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Wr[pe])throw xs.create("already-exists",{id:pe});if(!Eu){!function pl(O){let L=[];Array.isArray(window[O])?L=window[O]:window[O]=L}(Nc);const{wrappedGtag:Fe,gtagCore:st}=function cd(O,L,ee,pe,Re){let Fe=function(...st){window[pe].push(arguments)};return window[Re]&&"function"==typeof window[Re]&&(Fe=window[Re]),window[Re]=function Wl(O,L,ee,pe){function Fe(){return Fe=(0,u.Z)(function*(st,...Ht){try{if("event"===st){const[Lt,un]=Ht;yield function $l(O,L,ee,pe,Re){return zl.apply(this,arguments)}(O,L,ee,Lt,un)}else if("config"===st){const[Lt,un]=Ht;yield function pc(O,L,ee,pe,Re,Fe){return qc.apply(this,arguments)}(O,L,ee,pe,Lt,un)}else if("consent"===st){const[Lt]=Ht;O("consent","update",Lt)}else if("get"===st){const[Lt,un,$n]=Ht;O("get",Lt,un,$n)}else if("set"===st){const[Lt]=Ht;O("set",Lt)}else O(st,...Ht)}catch(Lt){ci.error(Lt)}}),Fe.apply(this,arguments)}return function Re(st){return Fe.apply(this,arguments)}}(Fe,O,L,ee),{gtagCore:Fe,wrappedGtag:window[Re]}}(Wr,Ya,vr,Nc,"gtag");Qa=Fe,Jd=st,Eu=!0}return Wr[pe]=function sr(O,L,ee,pe,Re,Fe,st){return Mo.apply(this,arguments)}(O,Ya,vr,L,Jd,Nc,ee),new Kl(O)}function Yc(){return ml.apply(this,arguments)}function ml(){return(ml=(0,u.Z)(function*(){if((0,ue.ru)()||!(0,ue.zI)()||!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch{return!1}})).apply(this,arguments)}const Gg="@firebase/analytics";!function bp(){(0,be.Xd)(new fe.wA(Ka,(L,{options:ee})=>Kc(L.getProvider("app").getImmediate(),L.getProvider("installations-internal").getImmediate(),ee),"PUBLIC")),(0,be.Xd)(new fe.wA("analytics-internal",function O(L){try{const ee=L.getProvider(Ka).getImmediate();return{logEvent:(pe,Re,Fe)=>function Qh(O,L,ee,pe){O=(0,ue.m9)(O),function _c(O,L,ee,pe,Re){return Oo.apply(this,arguments)}(Qa,Wr[O.app.options.appId],L,ee,pe).catch(Re=>ci.error(Re))}(ee,pe,Re,Fe)}}catch(ee){throw xs.create("interop-component-reg-failed",{reason:ee})}},"PRIVATE")),(0,be.KN)(Gg,"0.10.0"),(0,be.KN)(Gg,"0.10.0","esm2017")}();var th=K(2381),h0=K(6321),Ql=K(5592),Jl=K(9397),nh=K(5137),Qc=K(3093);const Du=new b.GfV("7.6.1"),Oc="__angularfire_symbol__analyticsIsSupportedValue",Jh="__angularfire_symbol__analyticsIsSupported",Xl="__angularfire_symbol__remoteConfigIsSupportedValue",Cu="__angularfire_symbol__remoteConfigIsSupported",yl="__angularfire_symbol__messagingIsSupportedValue",xo="__angularfire_symbol__messagingIsSupported";function rh(O,L,ee){if(L){if(1===L.length)return L[0];const Fe=L.filter(st=>st.app===ee);if(1===Fe.length)return Fe[0]}return ee.container.getProvider(O).getImmediate({optional:!0})}globalThis[Jh]||(globalThis[Jh]=Yc().then(O=>globalThis[Oc]=O).catch(()=>globalThis[Oc]=!1)),globalThis[xo]||(globalThis[xo]=Ac().then(O=>globalThis[yl]=O).catch(()=>globalThis[yl]=!1)),globalThis[Cu]||(globalThis[Cu]=Ji().then(O=>globalThis[Xl]=O).catch(()=>globalThis[Xl]=!1));const fd=(O,L)=>{const ee=L?[L]:(0,ne.C6)(),pe=[];return ee.forEach(Re=>{Re.container.getProvider(O).instances.forEach(st=>{pe.includes(st)||pe.push(st)})}),pe};function Mc(){}class ef{constructor(L,ee=th.N){this.zone=L,this.delegate=ee}now(){return this.delegate.now()}schedule(L,ee,pe){const Re=this.zone;return this.delegate.schedule(function(st){Re.runGuarded(()=>{L.apply(this,[st])})},ee,pe)}}class tf{constructor(L){this.zone=L,this.task=null}call(L,ee){const pe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Mc,{},Mc,Mc)),ee.pipe((0,Jl.b)({next:pe,complete:pe,error:pe})).subscribe(L).add(pe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let eu=(()=>{class O{constructor(ee){this.ngZone=ee,this.outsideAngular=ee.runOutsideAngular(()=>new ef(Zone.current)),this.insideAngular=ee.run(()=>new ef(Zone.current,h0.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return O.\u0275fac=function(ee){return new(ee||O)(b.LFG(b.R0b))},O.\u0275prov=b.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})();function vl(){const O=globalThis.\u0275AngularFireScheduler;if(!O)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return O}function Na(O){return vl().ngZone.run(()=>O())}function ih(O){return vl(),function Nu(O){return function(ee){return(ee=ee.lift(new tf(O.ngZone))).pipe((0,nh.R)(O.outsideAngular),(0,Qc.Q)(O.insideAngular))}}(vl())(O)}const tu=(O,L)=>function(){const pe=arguments;return L&&setTimeout(()=>{"scheduled"===L.state&&L.invoke()},10),Na(()=>O.apply(void 0,pe))},nu=(O,L)=>function(){let ee;const pe=arguments;for(let Fe=0;Fe<arguments.length;Fe++)"function"==typeof pe[Fe]&&(L&&(ee||(ee=Na(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Mc,{},Mc,Mc)))),pe[Fe]=tu(pe[Fe],ee));const Re=function wp(O){return vl().ngZone.runOutsideAngular(()=>O())}(()=>O.apply(this,pe));if(!L){if(Re instanceof Ql.y){const Fe=vl();return Re.pipe((0,nh.R)(Fe.outsideAngular),(0,Qc.Q)(Fe.insideAngular))}return Na(()=>Re)}return Re instanceof Ql.y?Re.pipe(ih):Re instanceof Promise?Na(()=>new Promise((Fe,st)=>Re.then(Ht=>Na(()=>Fe(Ht)),Ht=>Na(()=>st(Ht))))):"function"==typeof Re&&ee?function(){return setTimeout(()=>{ee&&"scheduled"===ee.state&&ee.invoke()},10),Re.apply(this,arguments)}:Na(()=>Re)}},229:(Ut,Be,K)=>{K.d(Be,{$s:()=>Et,BH:()=>vt,L:()=>Oe,LL:()=>wt,P0:()=>Nt,Pz:()=>at,Sg:()=>yt,US:()=>fe,ZR:()=>rt,aH:()=>ft,b$:()=>dt,eu:()=>je,hl:()=>ke,m9:()=>Wn,ne:()=>yr,ru:()=>xn,tV:()=>ae,uI:()=>we,vZ:()=>gt,xO:()=>pn,z$:()=>Ge,zI:()=>et});const be=function(Q){const B=[];let G=0;for(let W=0;W<Q.length;W++){let $=Q.charCodeAt(W);$<128?B[G++]=$:$<2048?(B[G++]=$>>6|192,B[G++]=63&$|128):55296==(64512&$)&&W+1<Q.length&&56320==(64512&Q.charCodeAt(W+1))?($=65536+((1023&$)<<10)+(1023&Q.charCodeAt(++W)),B[G++]=$>>18|240,B[G++]=$>>12&63|128,B[G++]=$>>6&63|128,B[G++]=63&$|128):(B[G++]=$>>12|224,B[G++]=$>>6&63|128,B[G++]=63&$|128)}return B},fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Q,B){if(!Array.isArray(Q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=B?this.byteToCharMapWebSafe_:this.byteToCharMap_,W=[];for(let $=0;$<Q.length;$+=3){const Ie=Q[$],We=$+1<Q.length,Tt=We?Q[$+1]:0,on=$+2<Q.length,ln=on?Q[$+2]:0;let Pn=(15&Tt)<<2|ln>>6,Kr=63&ln;on||(Kr=64,We||(Pn=64)),W.push(G[Ie>>2],G[(3&Ie)<<4|Tt>>4],G[Pn],G[Kr])}return W.join("")},encodeString(Q,B){return this.HAS_NATIVE_SUPPORT&&!B?btoa(Q):this.encodeByteArray(be(Q),B)},decodeString(Q,B){return this.HAS_NATIVE_SUPPORT&&!B?atob(Q):function(Q){const B=[];let G=0,W=0;for(;G<Q.length;){const $=Q[G++];if($<128)B[W++]=String.fromCharCode($);else if($>191&&$<224){const Ie=Q[G++];B[W++]=String.fromCharCode((31&$)<<6|63&Ie)}else if($>239&&$<365){const on=((7&$)<<18|(63&Q[G++])<<12|(63&Q[G++])<<6|63&Q[G++])-65536;B[W++]=String.fromCharCode(55296+(on>>10)),B[W++]=String.fromCharCode(56320+(1023&on))}else{const Ie=Q[G++],We=Q[G++];B[W++]=String.fromCharCode((15&$)<<12|(63&Ie)<<6|63&We)}}return B.join("")}(this.decodeStringToByteArray(Q,B))},decodeStringToByteArray(Q,B){this.init_();const G=B?this.charToByteMapWebSafe_:this.charToByteMap_,W=[];for(let $=0;$<Q.length;){const Ie=G[Q.charAt($++)],Tt=$<Q.length?G[Q.charAt($)]:0;++$;const ln=$<Q.length?G[Q.charAt($)]:64;++$;const Qt=$<Q.length?G[Q.charAt($)]:64;if(++$,null==Ie||null==Tt||null==ln||null==Qt)throw new Te;W.push(Ie<<2|Tt>>4),64!==ln&&(W.push(Tt<<4&240|ln>>2),64!==Qt&&W.push(ln<<6&192|Qt))}return W},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Q=0;Q<this.ENCODED_VALS.length;Q++)this.byteToCharMap_[Q]=this.ENCODED_VALS.charAt(Q),this.charToByteMap_[this.byteToCharMap_[Q]]=Q,this.byteToCharMapWebSafe_[Q]=this.ENCODED_VALS_WEBSAFE.charAt(Q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Q]]=Q,Q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Q)]=Q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Q)]=Q)}}};class Te extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Oe=function(Q){return function(Q){const B=be(Q);return fe.encodeByteArray(B,!0)}(Q).replace(/\./g,"")},ae=function(Q){try{return fe.decodeString(Q,!0)}catch(B){console.error("base64Decode failed: ",B)}return null},Ot=()=>{try{return function xe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Q=process.env.__FIREBASE_DEFAULTS__;return Q?JSON.parse(Q):void 0})()||(()=>{if(typeof document>"u")return;let Q;try{Q=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const B=Q&&ae(Q[1]);return B&&JSON.parse(B)})()}catch(Q){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Q}`)}},Nt=Q=>{const B=(Q=>{var B,G;return null===(G=null===(B=Ot())||void 0===B?void 0:B.emulatorHosts)||void 0===G?void 0:G[Q]})(Q);if(!B)return;const G=B.lastIndexOf(":");if(G<=0||G+1===B.length)throw new Error(`Invalid host ${B} with no separate hostname and port!`);const W=parseInt(B.substring(G+1),10);return"["===B[0]?[B.substring(1,G-1),W]:[B.substring(0,G),W]},ft=()=>{var Q;return null===(Q=Ot())||void 0===Q?void 0:Q.config},at=Q=>{var B;return null===(B=Ot())||void 0===B?void 0:B[`_${Q}`]};class vt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((B,G)=>{this.resolve=B,this.reject=G})}wrapCallback(B){return(G,W)=>{G?this.reject(G):this.resolve(W),"function"==typeof B&&(this.promise.catch(()=>{}),1===B.length?B(G):B(G,W))}}}function yt(Q,B){if(Q.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const W=B||"demo-project",$=Q.iat||0,Ie=Q.sub||Q.user_id;if(!Ie)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const We=Object.assign({iss:`https://securetoken.google.com/${W}`,aud:W,iat:$,exp:$+3600,auth_time:$,sub:Ie,user_id:Ie,firebase:{sign_in_provider:"custom",identities:{}}},Q);return[Oe(JSON.stringify({alg:"none",type:"JWT"})),Oe(JSON.stringify(We)),""].join(".")}function Ge(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function we(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ge())}function xn(){const Q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Q&&void 0!==Q.id}function dt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ke(){try{return"object"==typeof indexedDB}catch{return!1}}function je(){return new Promise((Q,B)=>{try{let G=!0;const W="validate-browser-context-for-indexeddb-analytics-module",$=self.indexedDB.open(W);$.onsuccess=()=>{$.result.close(),G||self.indexedDB.deleteDatabase(W),Q(!0)},$.onupgradeneeded=()=>{G=!1},$.onerror=()=>{var Ie;B((null===(Ie=$.error)||void 0===Ie?void 0:Ie.message)||"")}}catch(G){B(G)}})}function et(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class rt extends Error{constructor(B,G,W){super(G),this.code=B,this.customData=W,this.name="FirebaseError",Object.setPrototypeOf(this,rt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wt.prototype.create)}}class wt{constructor(B,G,W){this.service=B,this.serviceName=G,this.errors=W}create(B,...G){const W=G[0]||{},$=`${this.service}/${B}`,Ie=this.errors[B],We=Ie?function kt(Q,B){return Q.replace(Gt,(G,W)=>{const $=B[W];return null!=$?String($):`<${W}?>`})}(Ie,W):"Error";return new rt($,`${this.serviceName}: ${We} (${$}).`,W)}}const Gt=/\{\$([^}]+)}/g;function gt(Q,B){if(Q===B)return!0;const G=Object.keys(Q),W=Object.keys(B);for(const $ of G){if(!W.includes($))return!1;const Ie=Q[$],We=B[$];if(Rt(Ie)&&Rt(We)){if(!gt(Ie,We))return!1}else if(Ie!==We)return!1}for(const $ of W)if(!G.includes($))return!1;return!0}function Rt(Q){return null!==Q&&"object"==typeof Q}function pn(Q){const B=[];for(const[G,W]of Object.entries(Q))Array.isArray(W)?W.forEach($=>{B.push(encodeURIComponent(G)+"="+encodeURIComponent($))}):B.push(encodeURIComponent(G)+"="+encodeURIComponent(W));return B.length?"&"+B.join("&"):""}function yr(Q,B){const G=new Xt(Q,B);return G.subscribe.bind(G)}class Xt{constructor(B,G){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(()=>{B(this)}).catch(W=>{this.error(W)})}next(B){this.forEachObserver(G=>{G.next(B)})}error(B){this.forEachObserver(G=>{G.error(B)}),this.close(B)}complete(){this.forEachObserver(B=>{B.complete()}),this.close()}subscribe(B,G,W){let $;if(void 0===B&&void 0===G&&void 0===W)throw new Error("Missing Observer.");$=function Cr(Q,B){if("object"!=typeof Q||null===Q)return!1;for(const G of B)if(G in Q&&"function"==typeof Q[G])return!0;return!1}(B,["next","error","complete"])?B:{next:B,error:G,complete:W},void 0===$.next&&($.next=vn),void 0===$.error&&($.error=vn),void 0===$.complete&&($.complete=vn);const Ie=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?$.error(this.finalError):$.complete()}catch{}}),this.observers.push($),Ie}unsubscribeOne(B){void 0===this.observers||void 0===this.observers[B]||(delete this.observers[B],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(B){if(!this.finalized)for(let G=0;G<this.observers.length;G++)this.sendOne(G,B)}sendOne(B,G){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[B])try{G(this.observers[B])}catch(W){typeof console<"u"&&console.error&&console.error(W)}})}close(B){this.finalized||(this.finalized=!0,void 0!==B&&(this.finalError=B),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vn(){}const jr=1e3,it=2,Ce=144e5,Qe=.5;function Et(Q,B=jr,G=it){const W=B*Math.pow(G,Q),$=Math.round(Qe*W*(Math.random()-.5)*2);return Math.min(Ce,W+$)}function Wn(Q){return Q&&Q._delegate?Q._delegate:Q}},9058:(Ut,Be,K)=>{K.d(Be,{BH:()=>vt,L:()=>Oe,LL:()=>wt,Pz:()=>at,ZR:()=>rt,aH:()=>ft,b$:()=>dt,eu:()=>je,hl:()=>ke,m9:()=>Wn,ne:()=>yr,pd:()=>Yt,q4:()=>Tn,ru:()=>xn,tV:()=>ae,uI:()=>we,vZ:()=>gt,w1:()=>Dn,xO:()=>pn,xb:()=>Ke,z$:()=>Ge,zd:()=>In});const be=function(Q){const B=[];let G=0;for(let W=0;W<Q.length;W++){let $=Q.charCodeAt(W);$<128?B[G++]=$:$<2048?(B[G++]=$>>6|192,B[G++]=63&$|128):55296==(64512&$)&&W+1<Q.length&&56320==(64512&Q.charCodeAt(W+1))?($=65536+((1023&$)<<10)+(1023&Q.charCodeAt(++W)),B[G++]=$>>18|240,B[G++]=$>>12&63|128,B[G++]=$>>6&63|128,B[G++]=63&$|128):(B[G++]=$>>12|224,B[G++]=$>>6&63|128,B[G++]=63&$|128)}return B},fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Q,B){if(!Array.isArray(Q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=B?this.byteToCharMapWebSafe_:this.byteToCharMap_,W=[];for(let $=0;$<Q.length;$+=3){const Ie=Q[$],We=$+1<Q.length,Tt=We?Q[$+1]:0,on=$+2<Q.length,ln=on?Q[$+2]:0;let Pn=(15&Tt)<<2|ln>>6,Kr=63&ln;on||(Kr=64,We||(Pn=64)),W.push(G[Ie>>2],G[(3&Ie)<<4|Tt>>4],G[Pn],G[Kr])}return W.join("")},encodeString(Q,B){return this.HAS_NATIVE_SUPPORT&&!B?btoa(Q):this.encodeByteArray(be(Q),B)},decodeString(Q,B){return this.HAS_NATIVE_SUPPORT&&!B?atob(Q):function(Q){const B=[];let G=0,W=0;for(;G<Q.length;){const $=Q[G++];if($<128)B[W++]=String.fromCharCode($);else if($>191&&$<224){const Ie=Q[G++];B[W++]=String.fromCharCode((31&$)<<6|63&Ie)}else if($>239&&$<365){const on=((7&$)<<18|(63&Q[G++])<<12|(63&Q[G++])<<6|63&Q[G++])-65536;B[W++]=String.fromCharCode(55296+(on>>10)),B[W++]=String.fromCharCode(56320+(1023&on))}else{const Ie=Q[G++],We=Q[G++];B[W++]=String.fromCharCode((15&$)<<12|(63&Ie)<<6|63&We)}}return B.join("")}(this.decodeStringToByteArray(Q,B))},decodeStringToByteArray(Q,B){this.init_();const G=B?this.charToByteMapWebSafe_:this.charToByteMap_,W=[];for(let $=0;$<Q.length;){const Ie=G[Q.charAt($++)],Tt=$<Q.length?G[Q.charAt($)]:0;++$;const ln=$<Q.length?G[Q.charAt($)]:64;++$;const Qt=$<Q.length?G[Q.charAt($)]:64;if(++$,null==Ie||null==Tt||null==ln||null==Qt)throw new Te;W.push(Ie<<2|Tt>>4),64!==ln&&(W.push(Tt<<4&240|ln>>2),64!==Qt&&W.push(ln<<6&192|Qt))}return W},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Q=0;Q<this.ENCODED_VALS.length;Q++)this.byteToCharMap_[Q]=this.ENCODED_VALS.charAt(Q),this.charToByteMap_[this.byteToCharMap_[Q]]=Q,this.byteToCharMapWebSafe_[Q]=this.ENCODED_VALS_WEBSAFE.charAt(Q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Q]]=Q,Q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Q)]=Q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Q)]=Q)}}};class Te extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Oe=function(Q){return function(Q){const B=be(Q);return fe.encodeByteArray(B,!0)}(Q).replace(/\./g,"")},ae=function(Q){try{return fe.decodeString(Q,!0)}catch(B){console.error("base64Decode failed: ",B)}return null},Ot=()=>{try{return function xe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Q=process.env.__FIREBASE_DEFAULTS__;return Q?JSON.parse(Q):void 0})()||(()=>{if(typeof document>"u")return;let Q;try{Q=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const B=Q&&ae(Q[1]);return B&&JSON.parse(B)})()}catch(Q){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Q}`)}},Tn=Q=>{var B,G;return null===(G=null===(B=Ot())||void 0===B?void 0:B.emulatorHosts)||void 0===G?void 0:G[Q]},ft=()=>{var Q;return null===(Q=Ot())||void 0===Q?void 0:Q.config},at=Q=>{var B;return null===(B=Ot())||void 0===B?void 0:B[`_${Q}`]};class vt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((B,G)=>{this.resolve=B,this.reject=G})}wrapCallback(B){return(G,W)=>{G?this.reject(G):this.resolve(W),"function"==typeof B&&(this.promise.catch(()=>{}),1===B.length?B(G):B(G,W))}}}function Ge(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function we(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ge())}function xn(){const Q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Q&&void 0!==Q.id}function dt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Dn(){const Q=Ge();return Q.indexOf("MSIE ")>=0||Q.indexOf("Trident/")>=0}function ke(){try{return"object"==typeof indexedDB}catch{return!1}}function je(){return new Promise((Q,B)=>{try{let G=!0;const W="validate-browser-context-for-indexeddb-analytics-module",$=self.indexedDB.open(W);$.onsuccess=()=>{$.result.close(),G||self.indexedDB.deleteDatabase(W),Q(!0)},$.onupgradeneeded=()=>{G=!1},$.onerror=()=>{var Ie;B((null===(Ie=$.error)||void 0===Ie?void 0:Ie.message)||"")}}catch(G){B(G)}})}class rt extends Error{constructor(B,G,W){super(G),this.code=B,this.customData=W,this.name="FirebaseError",Object.setPrototypeOf(this,rt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wt.prototype.create)}}class wt{constructor(B,G,W){this.service=B,this.serviceName=G,this.errors=W}create(B,...G){const W=G[0]||{},$=`${this.service}/${B}`,Ie=this.errors[B],We=Ie?function kt(Q,B){return Q.replace(Gt,(G,W)=>{const $=B[W];return null!=$?String($):`<${W}?>`})}(Ie,W):"Error";return new rt($,`${this.serviceName}: ${We} (${$}).`,W)}}const Gt=/\{\$([^}]+)}/g;function Ke(Q){for(const B in Q)if(Object.prototype.hasOwnProperty.call(Q,B))return!1;return!0}function gt(Q,B){if(Q===B)return!0;const G=Object.keys(Q),W=Object.keys(B);for(const $ of G){if(!W.includes($))return!1;const Ie=Q[$],We=B[$];if(Rt(Ie)&&Rt(We)){if(!gt(Ie,We))return!1}else if(Ie!==We)return!1}for(const $ of W)if(!G.includes($))return!1;return!0}function Rt(Q){return null!==Q&&"object"==typeof Q}function pn(Q){const B=[];for(const[G,W]of Object.entries(Q))Array.isArray(W)?W.forEach($=>{B.push(encodeURIComponent(G)+"="+encodeURIComponent($))}):B.push(encodeURIComponent(G)+"="+encodeURIComponent(W));return B.length?"&"+B.join("&"):""}function In(Q){const B={};return Q.replace(/^\?/,"").split("&").forEach(W=>{if(W){const[$,Ie]=W.split("=");B[decodeURIComponent($)]=decodeURIComponent(Ie)}}),B}function Yt(Q){const B=Q.indexOf("?");if(!B)return"";const G=Q.indexOf("#",B);return Q.substring(B,G>0?G:void 0)}function yr(Q,B){const G=new Xt(Q,B);return G.subscribe.bind(G)}class Xt{constructor(B,G){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(()=>{B(this)}).catch(W=>{this.error(W)})}next(B){this.forEachObserver(G=>{G.next(B)})}error(B){this.forEachObserver(G=>{G.error(B)}),this.close(B)}complete(){this.forEachObserver(B=>{B.complete()}),this.close()}subscribe(B,G,W){let $;if(void 0===B&&void 0===G&&void 0===W)throw new Error("Missing Observer.");$=function Cr(Q,B){if("object"!=typeof Q||null===Q)return!1;for(const G of B)if(G in Q&&"function"==typeof Q[G])return!0;return!1}(B,["next","error","complete"])?B:{next:B,error:G,complete:W},void 0===$.next&&($.next=vn),void 0===$.error&&($.error=vn),void 0===$.complete&&($.complete=vn);const Ie=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?$.error(this.finalError):$.complete()}catch{}}),this.observers.push($),Ie}unsubscribeOne(B){void 0===this.observers||void 0===this.observers[B]||(delete this.observers[B],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(B){if(!this.finalized)for(let G=0;G<this.observers.length;G++)this.sendOne(G,B)}sendOne(B,G){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[B])try{G(this.observers[B])}catch(W){typeof console<"u"&&console.error&&console.error(W)}})}close(B){this.finalized||(this.finalized=!0,void 0!==B&&(this.finalError=B),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vn(){}function Wn(Q){return Q&&Q._delegate?Q._delegate:Q}},1816:(Ut,Be,K)=>{K.d(Be,{y:()=>u});var b=K(8645),ne=K(9468);let u=(()=>{class be{constructor(){this.modalMessageSource=new b.x,this.modalMessage$=this.modalMessageSource.asObservable()}sendModalMessage(fe){this.modalMessageSource.next(fe)}static#e=this.\u0275fac=function(Te){return new(Te||be)};static#t=this.\u0275prov=ne.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"})}return be})()},1176:(Ut,Be,K)=>{K.d(Be,{u:()=>ne});var b=K(9468);let ne=(()=>{class u{static#e=this.\u0275fac=function(fe){return new(fe||u)};static#t=this.\u0275cmp=b.Xpm({type:u,selectors:[["app-logo-svg"]],decls:33,vars:0,consts:[[1,"logo-svg"],["viewBox","0 0 640 400","data-background-color","var(--mainWhiteColor)","preserveAspectRatio","xMidYMid meet","height","400","width","640","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink"],["width","640","height","400","x","0","y","0","opacity","1","fill","var(--mainRGBAColor)","data-fill-palette-color","background","id","background"],["id","tight-bounds","transform","matrix(1,0,0,1,168.6873741251188,76.4)"],["viewBox","0 0 302.6252517497624 247.2","height","247.2","width","302.6252517497624"],["viewBox","0 0 395.52 323.08124796157813","height","247.2","width","302.6252517497624"],["transform","matrix(1,0,0,1,0,240.1001478205344)"],["viewBox","0 0 395.52 82.98110014104373","height","82.98110014104373","width","395.52"],["id","textblocktransform"],["viewBox","0 0 395.52 82.98110014104373","height","82.98110014104373","width","395.52","id","textblock"],["transform","matrix(1,0,0,1,0,0)"],["width","395.52","viewBox","0.15000000596046448 -37.939998626708984 276.9100036621094 58.11000061035156","height","82.98110014104373","data-palette-color","var(--mainWhiteColor)"],["d","M8.3-27.15L0.15-26.51 0.93-29.05Q0.98-29.1 1.68-29.17 2.39-29.25 3.56-29.37 4.74-29.49 6.2-29.64 7.67-29.79 9.2-29.93 10.74-30.08 12.23-30.22 13.72-30.37 14.99-30.52L14.99-30.52Q14.99-30.52 15.43-30.52 15.87-30.52 16.41-30.52 16.94-30.52 17.43-30.52 17.92-30.52 18.07-30.52L18.07-30.52Q19.24-30.52 19.68-30.08 20.12-29.64 20.12-28.17L20.12-28.17 11.23-27.15Q11.13-24.07 11.33-20.7 11.52-17.33 11.82-13.89 12.11-10.45 12.38-7.08 12.65-3.71 12.65-0.63L12.65-0.63Q12.65-0.2 12.38-0.02 12.11 0.15 11.74 0.2 11.38 0.24 10.99 0.17 10.6 0.1 10.3 0L10.3 0Q10.16-0.63 10.01-2.2 9.86-3.76 9.72-5.86 9.57-7.96 9.42-10.4 9.28-12.84 9.13-15.28 8.98-17.72 8.84-19.95 8.69-22.17 8.59-23.85 8.5-25.54 8.42-26.46 8.35-27.39 8.3-27.15L8.3-27.15ZM20.07-33.74L21.68-33.5 22.95-17.48Q23.29-17.77 23.83-18.36 24.36-18.95 25.1-19.46 25.83-19.97 26.71-20.34 27.59-20.7 28.61-20.65L28.61-20.65Q30.61-20.46 31.81-19.04 33.01-17.63 33.62-15.58 34.23-13.53 34.42-11.11 34.62-8.69 34.54-6.49 34.47-4.3 34.3-2.59 34.13-0.88 34.03-0.24L34.03-0.24 32.27-0.49Q32.27-0.93 32.3-1.88 32.32-2.83 32.37-4.13 32.42-5.42 32.42-6.84 32.42-8.25 32.44-9.5 32.47-10.74 32.44-11.72 32.42-12.7 32.37-13.09L32.37-13.09Q32.42-14.45 31.83-15.72 31.25-16.99 30.27-17.65 29.29-18.31 27.93-18.09 26.56-17.87 25-16.16L25-16.16Q23.63-14.11 23-12.13 22.36-10.16 22.17-8.23 21.97-6.3 22.02-4.27 22.07-2.25 22.02 0L22.02 0 20.11-0.29Q20.26-0.83 20.33-2.27 20.41-3.71 20.46-5.74 20.51-7.76 20.53-10.25 20.55-12.74 20.53-15.41 20.51-18.07 20.46-20.75 20.41-23.44 20.33-25.88 20.26-28.32 20.19-30.37 20.11-32.42 20.07-33.74L20.07-33.74ZM36.86-11.47L36.86-11.47Q36.86-12.94 37.5-14.72 38.13-16.5 39.23-18.04 40.33-19.58 41.72-20.63 43.11-21.68 44.62-21.68L44.62-21.68Q45.45-21.68 46.26-21.34 47.07-21 47.82-20.43 48.58-19.87 49.19-19.17 49.8-18.46 50.14-17.68 50.48-16.89 50.51-16.16 50.53-15.43 50.09-14.89L50.09-14.89 39.79-12.99Q39.59-12.94 39.45-12.52 39.3-12.11 39.2-11.47 39.11-10.84 39.03-10.08 38.96-9.33 38.91-8.62 38.86-7.91 38.86-7.35 38.86-6.79 38.86-6.49L38.86-6.49Q38.86-5.13 39.52-4.27 40.18-3.42 41.21-2.98 42.23-2.54 43.53-2.39 44.82-2.25 46.09-2.25 47.36-2.25 48.48-2.34 49.6-2.44 50.34-2.44L50.34-2.44Q50.34-2.25 50.19-2 50.04-1.76 49.85-1.54 49.65-1.32 49.46-1.15 49.26-0.98 49.21-0.93L49.21-0.93Q48.82-0.83 48.02-0.66 47.21-0.49 46.31-0.34 45.41-0.2 44.62-0.1 43.84 0 43.55 0L43.55 0Q42.04 0.29 40.91-0.05 39.79-0.39 39.01-1.22 38.23-2.05 37.74-3.25 37.25-4.44 37.01-5.81 36.76-7.18 36.74-8.64 36.71-10.11 36.86-11.47ZM43.94-19.82L43.94-19.82Q43.5-19.82 42.79-19.36 42.08-18.9 41.47-18.19 40.86-17.48 40.45-16.67 40.03-15.87 40.18-15.28L40.18-15.28Q41.45-15.14 42.82-15.33 44.18-15.53 45.31-15.94 46.43-16.36 47.16-16.92 47.9-17.48 47.87-18.07 47.85-18.65 46.94-19.12 46.04-19.58 43.94-19.82ZM93.06 0L74.31-29.05Q74.31-28.91 74.28-28.42 74.26-27.93 74.26-27.42 74.26-26.9 74.26-26.44 74.26-25.98 74.26-25.83L74.26-25.83Q74.26-22.66 74.4-19.48 74.55-16.31 74.75-13.11 74.94-9.91 75.09-6.69 75.23-3.47 75.23-0.24L75.23-0.24 73.48-0.34Q73.43-1.27 73.31-2.93 73.18-4.59 73.01-6.76 72.84-8.94 72.65-11.43 72.45-13.92 72.23-16.48 72.01-19.04 71.87-21.53 71.72-24.02 71.6-26.15 71.47-28.27 71.43-29.91 71.38-31.54 71.43-32.42L71.43-32.42Q71.43-33.01 71.87-33.4 72.3-33.79 72.89-33.79L72.89-33.79Q73.48-33.79 74.23-33.52 74.99-33.25 75.23-32.81L75.23-32.81 92.81-4.44Q92.81-6.69 92.69-9.28 92.57-11.87 92.47-14.6 92.37-17.33 92.35-20.09 92.32-22.85 92.45-25.46 92.57-28.08 92.93-30.42 93.3-32.76 93.98-34.67L93.98-34.67Q94.67-34.91 95.06-34.94 95.45-34.96 95.64-34.91 95.84-34.86 95.86-34.67 95.89-34.47 95.89-34.28L95.89-34.28Q95.89-34.18 95.89-33.98 95.89-33.79 95.89-33.74L95.89-33.74Q95.79-33.45 95.67-32.67 95.55-31.88 95.35-30.35 95.16-28.81 95.01-26.37 94.86-23.93 94.72-20.31 94.57-16.7 94.5-11.72 94.42-6.74 94.47-0.1L94.47-0.1 93.06 0ZM97.74-4.2L97.74-4.2Q97.74-6.98 99.28-8.25 100.82-9.52 103.31-9.52L103.31-9.52Q104.28-9.52 105.14-9.47 105.99-9.42 106.77-9.23 107.56-9.03 108.31-8.64 109.07-8.25 109.9-7.52L109.9-7.52Q109.9-7.67 109.92-8.13 109.95-8.59 109.95-9.13 109.95-9.67 109.95-10.13 109.95-10.6 109.95-10.79L109.95-10.79Q109.9-11.67 109.9-13.06 109.9-14.45 109.68-15.92 109.46-17.38 108.8-18.7 108.14-20.02 106.68-20.7L106.68-20.7Q105.65-20.7 104.77-20.36 103.89-20.02 103.01-19.63 102.14-19.24 101.26-18.92 100.38-18.6 99.35-18.6L99.35-18.6Q99.35-19.82 100.11-20.63 100.87-21.44 101.94-21.88 103.01-22.31 104.19-22.46 105.36-22.61 106.24-22.61L106.24-22.61Q107.12-22.46 107.87-22.27 108.63-22.07 109.29-21.48 109.95-20.9 110.51-19.7 111.07-18.51 111.49-16.36 111.9-14.21 112.22-10.91 112.54-7.62 112.73-2.83L112.73-2.83Q112.83-2.2 112.32-1.73 111.8-1.27 110.93-0.95 110.05-0.63 108.95-0.42 107.85-0.2 106.73-0.1 105.6 0 104.58 0.05 103.55 0.1 102.87 0.1L102.87 0.1Q101.99 0.1 101.09-0.2 100.18-0.49 99.43-1.05 98.67-1.61 98.21-2.42 97.74-3.22 97.74-4.2ZM104.09-7.62L104.09-7.62Q101.65-6.93 100.67-5.98 99.69-5.03 99.82-4.15 99.94-3.27 100.96-2.56 101.99-1.86 103.45-1.64 104.92-1.42 106.63-1.88 108.34-2.34 109.9-3.71L109.9-3.71Q109.31-5.13 108.73-5.88 108.14-6.64 107.46-7.03 106.77-7.42 105.94-7.52 105.11-7.62 104.09-7.62ZM120.64-17.72L120.64-17.72Q120.2-17.87 119.44-17.85 118.69-17.82 117.83-17.75 116.98-17.68 116.2-17.58 115.41-17.48 114.88-17.48L114.88-17.48Q114.63-17.48 114.56-18.19 114.49-18.9 114.34-20.12L114.34-20.12 121.23-20.61Q121.37-22.31 121.42-23.05 121.47-23.78 121.44-24.29 121.42-24.8 121.4-25.46 121.37-26.12 121.37-27.54L121.37-27.54Q122.64-27.73 123.3-27.66 123.96-27.59 124.2-27.29 124.45-27 124.42-26.44 124.4-25.88 124.28-25.05 124.15-24.22 124.08-23.05 124.01-21.88 124.15-20.41L124.15-20.41 130.01-20.61 130.01-18.21Q129.62-18.21 128.79-18.16 127.96-18.12 127.01-18.07 126.06-18.02 125.25-17.97 124.45-17.92 124.06-17.77L124.06-17.77Q123.67-16.02 123.23-14.01 122.79-12.01 122.64-10.06 122.49-8.11 122.74-6.42 122.98-4.74 123.96-3.64 124.94-2.54 126.74-2.12 128.55-1.71 131.53-2.39L131.53-2.39Q131.43-1.66 130.97-1.2 130.5-0.73 129.89-0.46 129.28-0.2 128.6-0.07 127.91 0.05 127.38 0.05L127.38 0.05Q124.89 0.05 123.42-0.85 121.96-1.76 121.23-3.22 120.49-4.69 120.3-6.57 120.1-8.45 120.18-10.4 120.25-12.35 120.44-14.26 120.64-16.16 120.64-17.72ZM133.19-18.95L133.19-18.95Q133.19-19.19 133.5-19.43 133.82-19.68 134.28-19.82 134.75-19.97 135.19-20.02 135.63-20.07 135.82-19.87L135.82-19.87Q136.12-13.82 136.97-10.23 137.82-6.64 138.92-4.98 140.02-3.32 141.29-3.3 142.56-3.27 143.78-4.37 145-5.47 146.05-7.37 147.1-9.28 147.76-11.47 148.42-13.67 148.57-15.87 148.71-18.07 148.18-19.78L148.18-19.78 151.11-20.12Q151.15-19.38 151.37-17.7 151.59-16.02 151.86-13.89 152.13-11.77 152.47-9.47 152.81-7.18 153.06-5.2 153.3-3.22 153.5-1.83 153.69-0.44 153.69-0.1L153.69-0.1 151.59-0.1 149.3-8.54Q148.62-6.84 147.64-5.27 146.66-3.71 145.51-2.54 144.37-1.37 143.1-0.71 141.83-0.05 140.58-0.17 139.34-0.29 138.17-1.32 136.99-2.34 135.99-4.57 134.99-6.79 134.26-10.3 133.53-13.82 133.19-18.95ZM155.25-19.04L155.25-19.04Q155.84-19.29 156.28-19.14 156.72-18.99 157.01-18.6 157.3-18.21 157.45-17.7 157.6-17.19 157.69-16.7L157.69-16.7Q158.33-17.77 159.53-18.43 160.72-19.09 162.09-19.31 163.46-19.53 164.82-19.41 166.19-19.29 167.14-18.82 168.1-18.36 168.49-17.55 168.88-16.75 168.29-15.67L168.29-15.67Q167.02-16.41 165.63-16.85 164.24-17.29 162.92-17.14 161.6-16.99 160.48-16.14 159.36-15.28 158.62-13.43 157.89-11.57 157.72-8.52 157.55-5.47 158.13-0.93L158.13-0.93 156.28-0.93Q156.28-0.93 156.21-1.73 156.13-2.54 156.06-3.86 155.99-5.18 155.86-6.79 155.74-8.4 155.64-10.06 155.55-11.72 155.47-13.26 155.4-14.79 155.3-15.92L155.3-15.92Q155.3-16.06 155.28-16.5 155.25-16.94 155.25-17.46 155.25-17.97 155.25-18.41 155.25-18.85 155.25-19.04ZM170.49-4.2L170.49-4.2Q170.49-6.98 172.02-8.25 173.56-9.52 176.05-9.52L176.05-9.52Q177.03-9.52 177.88-9.47 178.74-9.42 179.52-9.23 180.3-9.03 181.06-8.64 181.81-8.25 182.64-7.52L182.64-7.52Q182.64-7.67 182.67-8.13 182.69-8.59 182.69-9.13 182.69-9.67 182.69-10.13 182.69-10.6 182.69-10.79L182.69-10.79Q182.64-11.67 182.64-13.06 182.64-14.45 182.42-15.92 182.2-17.38 181.54-18.7 180.89-20.02 179.42-20.7L179.42-20.7Q178.4-20.7 177.52-20.36 176.64-20.02 175.76-19.63 174.88-19.24 174-18.92 173.12-18.6 172.1-18.6L172.1-18.6Q172.1-19.82 172.85-20.63 173.61-21.44 174.68-21.88 175.76-22.31 176.93-22.46 178.1-22.61 178.98-22.61L178.98-22.61Q179.86-22.46 180.62-22.27 181.37-22.07 182.03-21.48 182.69-20.9 183.25-19.7 183.82-18.51 184.23-16.36 184.65-14.21 184.96-10.91 185.28-7.62 185.48-2.83L185.48-2.83Q185.57-2.2 185.06-1.73 184.55-1.27 183.67-0.95 182.79-0.63 181.69-0.42 180.59-0.2 179.47-0.1 178.35 0 177.32 0.05 176.3 0.1 175.61 0.1L175.61 0.1Q174.73 0.1 173.83-0.2 172.93-0.49 172.17-1.05 171.41-1.61 170.95-2.42 170.49-3.22 170.49-4.2ZM176.83-7.62L176.83-7.62Q174.39-6.93 173.42-5.98 172.44-5.03 172.56-4.15 172.68-3.27 173.71-2.56 174.73-1.86 176.2-1.64 177.66-1.42 179.37-1.88 181.08-2.34 182.64-3.71L182.64-3.71Q182.06-5.13 181.47-5.88 180.89-6.64 180.2-7.03 179.52-7.42 178.69-7.52 177.86-7.62 176.83-7.62ZM188.6-37.94L188.6-37.94Q189.28-37.84 189.79-37.57 190.31-37.3 190.6-36.62L190.6-36.62Q190.6-35.69 190.67-34.06 190.75-32.42 190.82-30.27 190.89-28.13 190.99-25.63 191.09-23.14 191.19-20.61 191.28-18.07 191.36-15.58 191.43-13.09 191.5-10.94 191.58-8.79 191.63-7.13 191.67-5.47 191.72-4.59L191.72-4.59Q191.72-4.49 191.7-4.25 191.67-4 191.65-3.66 191.63-3.32 191.6-3 191.58-2.69 191.58-2.54L191.58-2.54Q191.53-2.25 191.53-1.83 191.53-1.42 191.43-1.03 191.33-0.63 191.11-0.32 190.89 0 190.4 0.05L190.4 0.05 189.57-0.98Q189.53-1.03 189.45-2.81 189.38-4.59 189.26-7.45 189.14-10.3 189.04-13.89 188.94-17.48 188.82-21.14 188.7-24.8 188.6-28.17 188.5-31.54 188.45-33.98L188.45-33.98Q188.45-34.18 188.48-34.77 188.5-35.35 188.52-35.96 188.55-36.57 188.57-37.13 188.6-37.7 188.6-37.94ZM226.58-17.58L226.58-17.58Q226.43-17.04 226.12-15.87 225.8-14.7 225.39-13.23 224.97-11.77 224.51-10.16 224.04-8.54 223.6-7.08 223.16-5.62 222.82-4.47 222.48-3.32 222.33-2.83L222.33-2.83Q222.24-2.34 222.04-1.78 221.85-1.22 221.6-0.93 221.36-0.63 221.06-0.78 220.77-0.93 220.48-1.86L220.48-1.86 212.96-35.64Q213.1-35.64 213.45-35.72 213.79-35.79 213.93-35.79L213.93-35.79Q214.91-35.79 215.23-35.38 215.55-34.96 215.79-33.74L215.79-33.74 221.41-8.4 225.17-20.61Q225.36-21.19 225.73-21.39 226.09-21.58 226.58-21.58L226.58-21.58Q226.97-21.19 227.7-20.14 228.44-19.09 229.29-17.7 230.15-16.31 231.07-14.72 232-13.13 232.86-11.72 233.71-10.3 234.39-9.16 235.08-8.01 235.47-7.52L235.47-7.52Q235.61-7.28 235.98-6.86 236.35-6.45 236.79-6.01 237.23-5.57 237.67-5.18 238.1-4.79 238.3-4.69L238.3-4.69Q238.25-6.3 238.15-8.52 238.06-10.74 237.96-13.33 237.86-15.92 237.84-18.73 237.81-21.53 237.93-24.29 238.06-27.05 238.35-29.61 238.64-32.18 239.13-34.33L239.13-34.33Q239.23-34.67 239.4-34.84 239.57-35.01 239.79-35.06 240.01-35.11 240.38-35.08 240.74-35.06 241.18-35.06L241.18-35.06Q241.18-34.52 241.13-33.76 241.08-33.01 240.99-31.62 240.89-30.22 240.79-27.88 240.69-25.54 240.57-21.83 240.45-18.12 240.35-12.77 240.25-7.42 240.16 0L240.16 0Q238.06-1.66 236.25-3.71 234.44-5.76 232.83-8.08 231.22-10.4 229.68-12.82 228.14-15.23 226.58-17.58ZM243.18-4.2L243.18-4.2Q243.18-6.98 244.72-8.25 246.26-9.52 248.75-9.52L248.75-9.52Q249.72-9.52 250.58-9.47 251.43-9.42 252.21-9.23 252.99-9.03 253.75-8.64 254.51-8.25 255.34-7.52L255.34-7.52Q255.34-7.67 255.36-8.13 255.39-8.59 255.39-9.13 255.39-9.67 255.39-10.13 255.39-10.6 255.39-10.79L255.39-10.79Q255.34-11.67 255.34-13.06 255.34-14.45 255.12-15.92 254.9-17.38 254.24-18.7 253.58-20.02 252.12-20.7L252.12-20.7Q251.09-20.7 250.21-20.36 249.33-20.02 248.45-19.63 247.57-19.24 246.7-18.92 245.82-18.6 244.79-18.6L244.79-18.6Q244.79-19.82 245.55-20.63 246.31-21.44 247.38-21.88 248.45-22.31 249.63-22.46 250.8-22.61 251.68-22.61L251.68-22.61Q252.56-22.46 253.31-22.27 254.07-22.07 254.73-21.48 255.39-20.9 255.95-19.7 256.51-18.51 256.93-16.36 257.34-14.21 257.66-10.91 257.98-7.62 258.17-2.83L258.17-2.83Q258.27-2.2 257.76-1.73 257.24-1.27 256.36-0.95 255.49-0.63 254.39-0.42 253.29-0.2 252.16-0.1 251.04 0 250.02 0.05 248.99 0.1 248.31 0.1L248.31 0.1Q247.43 0.1 246.53-0.2 245.62-0.49 244.86-1.05 244.11-1.61 243.64-2.42 243.18-3.22 243.18-4.2ZM249.53-7.62L249.53-7.62Q247.09-6.93 246.11-5.98 245.13-5.03 245.26-4.15 245.38-3.27 246.4-2.56 247.43-1.86 248.89-1.64 250.36-1.42 252.07-1.88 253.78-2.34 255.34-3.71L255.34-3.71Q254.75-5.13 254.17-5.88 253.58-6.64 252.9-7.03 252.21-7.42 251.38-7.52 250.55-7.62 249.53-7.62ZM271.79 20.17L269.59 20.02Q269.59 17.58 270.03 14.99 270.47 12.4 270.94 9.81 271.4 7.23 271.72 4.64 272.04 2.05 271.79-0.44L271.79-0.44 259.63-21.04Q260.71-22.02 261.34-22.14 261.98-22.27 262.07-22.17L262.07-22.17Q262.42-21.68 263.22-20.36 264.03-19.04 265.08-17.29 266.13-15.53 267.3-13.57 268.47-11.62 269.52-9.86 270.57-8.11 271.33-6.74 272.08-5.37 272.38-4.83L272.38-4.83 274.62-22.95 277.06-21.73 271.79 20.17Z","opacity","1","transform","matrix(1,0,0,1,0,0)","fill","var(--mainWhiteColor)","data-fill-palette-color","primary","id","text-0",1,"wordmark-text-0"],["transform","matrix(1,0,0,1,97.29977228662983,0)"],["viewBox","0 0 200.92045542674032 200.92045542674032","height","200.92045542674032","width","200.92045542674032"],["id","icon-0"],["d","M0 100.46c0-55.483 44.978-100.46 100.46-100.46 55.483 0 100.46 44.978 100.46 100.46 0 55.483-44.978 100.46-100.46 100.46-55.483 0-100.46-44.978-100.46-100.46zM100.46 193.437c51.35 0 92.977-41.627 92.977-92.977 0-51.35-41.627-92.977-92.977-92.977-51.35 0-92.977 41.627-92.977 92.977 0 51.35 41.627 92.977 92.977 92.977z","data-fill-palette-color","accent","fill","var(--mainWhiteColor)","stroke","transparent"],["rx","99.45562543623646","ry","99.45562543623646","cx","100.46022771337016","cy","100.46022771337016","fill","var(--mainWhiteColor)","stroke","transparent","stroke-width","0","fill-opacity","1","data-fill-palette-color","accent"],["transform","matrix(1,0,0,1,43.57436241056036,43.35758026693677)"],["viewBox","0 0 113.7717306056196 114.20529489286677","height","114.20529489286677","width","113.7717306056196"],["xmlns","http://www.w3.org/2000/svg","data-name","Layer 1","viewBox","1.190000057220459 1.002901315689087 97.62506866455078 97.99710083007812","x","0","y","0","height","114.20529489286677","width","113.7717306056196","data-fill-palette-color","quaternary","id","b-0",1,"icon-b-0"],["d","M79.28 26.63a0.3 0.3 0 0 0 0-0.07 0.28 0.28 0 0 0-0.48-0.19l-7 7a20.24 20.24 0 0 0-6 13v1.87a37.5 37.5 0 0 1 1.67 5.15H54.79a32.9 32.9 0 0 0-5.43-15.13 26.9 26.9 0 0 1-7.74 5.77 22.2 22.2 0 0 1-6.34 2.06c-9.9 1.51-22.3-5-28.35-41.61a1.86 1.86 0 0 1 1.55-2.05c47.44-6.69 50.2 11.7 47.85 22.85a51.5 51.5 0 0 0-19.69-6.14h-0.11a0.43 0.43 0 0 0-0.18 0.76l11.58 8.5 5.84 4.31a37.3 37.3 0 0 1 6.08 5.85 24.8 24.8 0 0 1 5-6.15 17.7 17.7 0 0 1-2.54-5 14.8 14.8 0 0 1-0.65-4.41c0-6.65 5.53-14.14 30.18-14.44a1.23 1.23 0 0 1 1.24 1.23c-0.38 31.82-12.74 31.78-19.82 29.12a34.2 34.2 0 0 0 6.02-12.28M28.65 93h34.63a16.16 16.16 0 0 0 12.18-5.54l21.68-24.79a6.79 6.79 0 0 0-0.79-9.7 6.55 6.55 0 0 0-4.2-1.49 7.24 7.24 0 0 0-5.38 2.43l-10.2 11.35v0.16a11.85 11.85 0 0 1-11.89 11.26H52.21a2.54 2.54 0 1 1 0-5.08h12.47a6.72 6.72 0 0 0 6.81-6.34A6.54 6.54 0 0 0 65 58.52H44.19l-3.37-1.18a23.42 23.42 0 0 0-24.26 5.49L1.19 78.1 22.64 99Z","fill","var(--textColor)","data-fill-palette-color","quaternary"],["width","302.6252517497624","height","247.2","fill","none","stroke","none","visibility","hidden"]],template:function(fe,Te){1&fe&&(b.TgZ(0,"main",0),b.O4$(),b.TgZ(1,"svg",1),b._UZ(2,"rect",2),b.TgZ(3,"g",3)(4,"svg",4)(5,"g")(6,"svg",5)(7,"g",6)(8,"svg",7)(9,"g",8)(10,"svg",9)(11,"g")(12,"svg",7)(13,"g",10)(14,"svg",11),b._UZ(15,"path",12),b.qZA()()()()()()()(),b.TgZ(16,"g",13)(17,"svg",14)(18,"g"),b._UZ(19,"svg"),b.qZA(),b.TgZ(20,"g",15)(21,"svg",14)(22,"g"),b._UZ(23,"path",16)(24,"ellipse",17),b.qZA(),b.TgZ(25,"g",18)(26,"svg",19)(27,"g")(28,"svg",20),b._UZ(29,"path",21),b.qZA()()()()()()()(),b._UZ(30,"g"),b.qZA()(),b._UZ(31,"defs"),b.qZA(),b._UZ(32,"rect",22),b.qZA()()())}})}return u})()},2732:(Ut,Be,K)=>{K.d(Be,{Q:()=>u});var b=K(9468),ne=K(6593);let u=(()=>{class be{constructor(fe){this.sanitizer=fe}transform(fe){let Te;if(fe.startsWith("https://m."))Te=new URLSearchParams(fe.split("?")[1]).get("v")||"";else{const Oe=fe.split("/");Te=Oe[Oe.length-1]}return this.sanitizer.bypassSecurityTrustResourceUrl("https://www.youtube.com/embed/"+Te)}static#e=this.\u0275fac=function(Te){return new(Te||be)(b.Y36(ne.H7,16))};static#t=this.\u0275pipe=b.Yjl({name:"safeUrl",type:be,pure:!0})}return be})()},2772:(Ut,Be,K)=>{K.d(Be,{r:()=>ue});var b=K(6814),ne=K(7158),u=K(95),be=K(9468);let ue=(()=>{class fe{static#e=this.\u0275fac=function(Oe){return new(Oe||fe)};static#t=this.\u0275mod=be.oAB({type:fe});static#n=this.\u0275inj=be.cJS({imports:[b.ez,ne.Bz,u.u5,u.UX]})}return fe})()},8850:(Ut,Be,K)=>{K.d(Be,{O:()=>fe});var b=K(5861),ne=K(3477),u=K(8645),be=K(9468),ue=K(4456);let fe=(()=>{class Te{constructor(Oe,ae){this.firestore=Oe,this.globalErrorHandler=ae,this.commentAddedSubject=new u.x,this.collectionName="Comments"}getCommentsByQuery(Oe,ae){var de=this;return(0,b.Z)(function*(){try{const Me=(0,ne.hJ)(de.firestore,de.collectionName),Se=(0,ne.IO)(Me,(0,ne.ar)(Oe,"==",ae)),xe=yield(0,ne.PL)(Se),Ze=[];return xe.forEach(It=>{const{create_time:Pt,name:Ot,recipeId:Tn,comment:Nt,uid:ft}=It.data();Ze.push({create_time:Pt,name:Ot,recipeId:Tn,comment:Nt,uid:ft,id:It.id})}),Ze.sort((It,Pt)=>{const Ot=It.create_time.toDate();return Pt.create_time.toDate().getTime()-Ot.getTime()}),Ze}catch(Me){return de.globalErrorHandler.handleError(Me),[]}})()}getCommentsForRecipe(Oe){var ae=this;return(0,b.Z)(function*(){return ae.getCommentsByQuery("recipeId",Oe)})()}getCommentsForUser(Oe){var ae=this;return(0,b.Z)(function*(){return ae.getCommentsByQuery("uid",Oe)})()}addComment(Oe){var ae=this;return(0,b.Z)(function*(){try{const de=yield(0,ne.ET)((0,ne.hJ)(ae.firestore,ae.collectionName),Oe);return ae.commentAddedSubject.next(),de.id}catch(de){return ae.globalErrorHandler.handleError(de),null}})()}deleteComment(Oe){var ae=this;return(0,b.Z)(function*(){try{const de=(0,ne.JU)(ae.firestore,ae.collectionName,Oe);yield(0,ne.oe)(de),console.log("Comment deleted successfully:",Oe)}catch(de){throw ae.globalErrorHandler.handleError(de),de}})()}getCommentById(Oe){var ae=this;return(0,b.Z)(function*(){const de=(0,ne.JU)(ae.firestore,ae.collectionName,Oe),Me=yield(0,ne.QT)(de);if(Me.exists()){const Se=Me.data();return console.log(Se.recipeId),Me.data()}return null})()}editComment(Oe,ae){var de=this;return(0,b.Z)(function*(){const Se=(0,ne.JU)(de.firestore,"Comments",ae),xe={...Oe};try{yield(0,ne.r7)(Se,xe)}catch(Ze){throw de.globalErrorHandler.handleError(Ze),Ze}})()}getCommentAddedObservable(){return this.commentAddedSubject.asObservable()}static#e=this.\u0275fac=function(ae){return new(ae||Te)(be.LFG(ne.gg),be.LFG(ue.r))};static#t=this.\u0275prov=be.Yz7({token:Te,factory:Te.\u0275fac,providedIn:"root"})}return Te})()},3424:(Ut,Be,K)=>{K.d(Be,{l:()=>u});var b=K(95),ne=K(9468);let u=(()=>{class be{markFormGroupTouched(fe){Object.values(fe.controls).forEach(Te=>{Te instanceof b.NI?Te.markAsTouched():Te instanceof b.cw&&this.markFormGroupTouched(Te)})}markFormArrayControlsTouched(fe){for(let Te=0;Te<fe.length;Te++){const Ve=fe.at(Te);this.markFormGroupTouched(Ve)}}getFormGroupErrors(fe){let Te="";return Object.keys(fe.controls).forEach(Ve=>{const Oe=fe.get(Ve)?.errors;Oe&&Object.keys(Oe).forEach(ae=>{Te+=`${Ve} ${this.getControlErrorMessage(ae,Oe[ae])}\n`})}),Te}getControlErrorMessage(fe,Te){switch(fe){case"required":return"-> this field is required.";case"minlength":return`-> Minimum length is ${Te.requiredLength}.`;case"maxlength":return`-> Maximum length is ${Te.requiredLength}.`;default:return""}}static#e=this.\u0275fac=function(Te){return new(Te||be)};static#t=this.\u0275prov=ne.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"})}return be})()},4456:(Ut,Be,K)=>{K.d(Be,{r:()=>u});var b=K(9468),ne=K(1816);let u=(()=>{class be{constructor(fe){this.alertService=fe}handleError(fe){if(fe instanceof Error){const Te=fe.name,Ve=fe.message;console.error(`Error (${Te}): ${Ve}`),this.alertService.sendModalMessage(`Error (${Te}): \n\n         ${Ve}`)}else this.alertService.sendModalMessage(`Unknown error occurred:\n      \n${fe}`)}static#e=this.\u0275fac=function(Te){return new(Te||be)(b.LFG(ne.y))};static#t=this.\u0275prov=b.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"})}return be})()},3585:(Ut,Be,K)=>{K.d(Be,{j:()=>ae});var b=K(5861),ne=K(3477),u=K(5619),be=K(6973),ue=K(305),Te=K(9468),Ve=K(7158),Oe=K(4456);let ae=(()=>{class de{constructor(Se,xe,Ze){this.firestore=Se,this.router=xe,this.globalErrorHandler=Ze,this.lastDocSubject=new u.X(void 0),this.lastDoc$=this.lastDocSubject.asObservable(),this.collectionName="Recipe",this.paginateNumber=12}getRecipes(){var Se=this;return(0,b.Z)(function*(){try{let xe=(0,ne.IO)((0,ne.hJ)(Se.firestore,Se.collectionName),(0,ne.Xo)("title"),(0,ne.ar)("public","==",!0));xe=(0,ne.IO)(xe,(0,ne.b9)(Se.paginateNumber));const Ze=yield(0,ne.PL)(xe);let It=[];return Ze.forEach(Ot=>{const Nt={...Ot.data(),id:Ot.id};Nt.public&&It.push(Nt)}),Se.lastDocSubject.next(Ze.docs[Ze.docs.length-1]),{data:It}}catch(xe){throw Se.globalErrorHandler.handleError(xe),xe}})()}getRecipesLoadMore(){var Se=this;return(0,b.Z)(function*(){try{const xe=yield function fe(de,Me){const Se="object"==typeof Me;return new Promise((xe,Ze)=>{const It=new ue.Hp({next:Pt=>{xe(Pt),It.unsubscribe()},error:Ze,complete:()=>{Se?xe(Me.defaultValue):Ze(new be.K)}});de.subscribe(It)})}(Se.lastDoc$);let Ze=(0,ne.IO)((0,ne.hJ)(Se.firestore,Se.collectionName),(0,ne.Xo)("title"),(0,ne.ar)("public","==",!0));xe&&(Ze=(0,ne.IO)(Ze,(0,ne.TQ)(xe))),Ze=(0,ne.IO)(Ze,(0,ne.b9)(Se.paginateNumber));const It=yield(0,ne.PL)(Ze);let Pt=[];It.forEach(Nt=>{const at={...Nt.data(),id:Nt.id};at.public&&Pt.push(at)});const Ot=It.size===Se.paginateNumber;return Se.lastDocSubject.next(It.docs[It.docs.length-1]),{data:Pt,hasMore:Ot}}catch(xe){throw Se.globalErrorHandler.handleError(xe),xe}})()}getRecipeById(Se){var xe=this;return(0,b.Z)(function*(){try{const Ze=(0,ne.JU)(xe.firestore,xe.collectionName,Se),It=yield(0,ne.QT)(Ze);if(It.exists()){let Pt=It.data();return Pt.id||(Pt={...Pt,id:Se}),Pt}return null}catch(Ze){throw xe.globalErrorHandler.handleError(Ze),Ze}})()}getRecipeByUID(Se){var xe=this;return(0,b.Z)(function*(){try{const Ze=(0,ne.hJ)(xe.firestore,xe.collectionName),It=(0,ne.IO)(Ze,(0,ne.ar)("uid","==",Se)),Pt=yield(0,ne.PL)(It),Ot=[];return Pt.forEach(Tn=>{const ft={...Tn.data(),id:Tn.id};Ot.push(ft)}),Ot}catch(Ze){throw xe.globalErrorHandler.handleError(Ze),Ze}})()}searchRecipesByTitle(Se){var xe=this;return(0,b.Z)(function*(){try{let Ze=(0,ne.IO)((0,ne.hJ)(xe.firestore,xe.collectionName),(0,ne.Xo)("title"));const It=yield(0,ne.PL)(Ze);let Pt=[];return It.forEach(Ot=>{const Nt={...Ot.data(),id:Ot.id};Pt.push(Nt)}),Se&&(Pt=Pt.filter(Ot=>Ot.title.toLowerCase().includes(Se.toLowerCase()))),{data:Pt}}catch(Ze){throw xe.globalErrorHandler.handleError(Ze),Ze}})()}updateRecipeLikes(Se,xe,Ze){var It=this;return(0,b.Z)(function*(){const Pt=(0,ne.JU)(It.firestore,It.collectionName,Se);try{Ze?(console.log("remove"),yield(0,ne.r7)(Pt,{likes:(0,ne.Ab)(xe)})):(console.log("add"),yield(0,ne.r7)(Pt,{likes:(0,ne.vr)(xe)})),console.log("Recipe likes updated successfully")}catch(Ot){throw It.globalErrorHandler.handleError(Ot),Ot}})()}deleteRecipe(Se){var xe=this;return(0,b.Z)(function*(){try{const Ze=(0,ne.JU)(xe.firestore,xe.collectionName,Se);yield(0,ne.oe)(Ze),console.log("Recipe deleted successfully:",Se)}catch(Ze){throw xe.globalErrorHandler.handleError(Ze),Ze}})()}addRecipe(Se){(0,ne.ET)((0,ne.hJ)(this.firestore,this.collectionName),Se).then(xe=>{console.log("Document written with ID: ",xe.id),this.router.navigate(["/recipe",xe.id])}).catch(xe=>{throw this.globalErrorHandler.handleError(xe),xe})}updateRecipe(Se,xe){if(xe){const Ze=(0,ne.JU)(this.firestore,this.collectionName,xe),It={...Se};(0,ne.r7)(Ze,It).then(()=>{console.log("Document successfully updated"),this.router.navigate(["/recipe",xe])}).catch(Pt=>{this.globalErrorHandler.handleError(Pt)})}else this.globalErrorHandler.handleError("Invalid recipe id.")}static#e=this.\u0275fac=function(xe){return new(xe||de)(Te.LFG(ne.gg),Te.LFG(Ve.F0),Te.LFG(Oe.r))};static#t=this.\u0275prov=Te.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})()},6499:(Ut,Be,K)=>{K.d(Be,{K:()=>Zg});var b=K(5861),ne=K(9058),u=K(4303),be=K(7879),ue=K(7582),fe=K(4537);const Ze=function Se(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},It=new ne.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ot=new be.Yd("@firebase/auth");function Nt(A,...v){Ot.logLevel<=be.in.ERROR&&Ot.error(`Auth (${u.Jn}): ${A}`,...v)}function ft(A,...v){throw Ge(A,...v)}function at(A,...v){return Ge(A,...v)}function Ge(A,...v){if("string"!=typeof A){const w=v[0],N=[...v.slice(1)];return N[0]&&(N[0].appName=A.name),A._errorFactory.create(w,...N)}return It.create(A,...v)}function we(A,v,...w){if(!A)throw Ge(v,...w)}function Xe(A){const v="INTERNAL ASSERTION FAILED: "+A;throw Nt(v),new Error(v)}function _t(A,v){A||Xe(v)}function xn(){var A;return typeof self<"u"&&(null===(A=self.location)||void 0===A?void 0:A.href)||""}function _n(){var A;return typeof self<"u"&&(null===(A=self.location)||void 0===A?void 0:A.protocol)||null}class rr{constructor(v,w){this.shortDelay=v,this.longDelay=w,_t(w>v,"Short delay should be less than long delay!"),this.isMobile=(0,ne.uI)()||(0,ne.b$)()}get(){return function Dn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function dt(){return"http:"===_n()||"https:"===_n()}()||(0,ne.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function _r(A,v){_t(A.emulator,"Emulator should always be set here");const{url:w}=A.emulator;return v?`${w}${v.startsWith("/")?v.slice(1):v}`:w}class ke{static initialize(v,w,N){this.fetchImpl=v,w&&(this.headersImpl=w),N&&(this.responseImpl=N)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Xe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Xe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Xe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const je={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},et=new rr(3e4,6e4);function He(A,v){return A.tenantId&&!v.tenantId?Object.assign(Object.assign({},v),{tenantId:A.tenantId}):v}function rt(A,v,w,N){return wt.apply(this,arguments)}function wt(){return(wt=(0,b.Z)(function*(A,v,w,N,Y={}){return kt(A,Y,(0,b.Z)(function*(){let le={},Ne={};N&&("GET"===v?Ne=N:le={body:JSON.stringify(N)});const Je=(0,ne.xO)(Object.assign({key:A.config.apiKey},Ne)).slice(1),Dt=yield A._getAdditionalHeaders();return Dt["Content-Type"]="application/json",A.languageCode&&(Dt["X-Firebase-Locale"]=A.languageCode),ke.fetch()(yn(A,A.config.apiHost,w,Je),Object.assign({method:v,headers:Dt,referrerPolicy:"no-referrer"},le))}))})).apply(this,arguments)}function kt(A,v,w){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,b.Z)(function*(A,v,w){A._canInitEmulator=!1;const N=Object.assign(Object.assign({},je),v);try{const Y=new jn(A),le=yield Promise.race([w(),Y.promise]);Y.clearNetworkTimeout();const Ne=yield le.json();if("needConfirmation"in Ne)throw Tr(A,"account-exists-with-different-credential",Ne);if(le.ok&&!("errorMessage"in Ne))return Ne;{const Je=le.ok?Ne.errorMessage:Ne.error.message,[Dt,dn]=Je.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Dt)throw Tr(A,"credential-already-in-use",Ne);if("EMAIL_EXISTS"===Dt)throw Tr(A,"email-already-in-use",Ne);if("USER_DISABLED"===Dt)throw Tr(A,"user-disabled",Ne);const Fn=N[Dt]||Dt.toLowerCase().replace(/[_\s]+/g,"-");if(dn)throw function vt(A,v,w){const N=Object.assign(Object.assign({},Ze()),{[v]:w});return new ne.LL("auth","Firebase",N).create(v,{appName:A.name})}(A,Fn,dn);ft(A,Fn)}}catch(Y){if(Y instanceof ne.ZR)throw Y;ft(A,"network-request-failed",{message:String(Y)})}})).apply(this,arguments)}function hn(A,v,w,N){return fn.apply(this,arguments)}function fn(){return(fn=(0,b.Z)(function*(A,v,w,N,Y={}){const le=yield rt(A,v,w,N,Y);return"mfaPendingCredential"in le&&ft(A,"multi-factor-auth-required",{_serverResponse:le}),le})).apply(this,arguments)}function yn(A,v,w,N){const Y=`${v}${w}?${N}`;return A.config.emulator?_r(A.config,Y):`${A.config.apiScheme}://${Y}`}function St(A){switch(A){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class jn{constructor(v){this.auth=v,this.timer=null,this.promise=new Promise((w,N)=>{this.timer=setTimeout(()=>N(at(this.auth,"network-request-failed")),et.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Tr(A,v,w){const N={appName:A.name};w.email&&(N.email=w.email),w.phoneNumber&&(N.phoneNumber=w.phoneNumber);const Y=at(A,v,N);return Y.customData._tokenResponse=w,Y}function Ae(A){return void 0!==A&&void 0!==A.enterprise}class Ee{constructor(v){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===v.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=v.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=v.recaptchaEnforcementState}getProviderEnforcementState(v){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const w of this.recaptchaEnforcementState)if(w.provider&&w.provider===v)return St(w.enforcementState);return null}isProviderEnabled(v){return"ENFORCE"===this.getProviderEnforcementState(v)||"AUDIT"===this.getProviderEnforcementState(v)}}function gt(A,v){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,b.Z)(function*(A,v){return rt(A,"GET","/v2/recaptchaConfig",He(A,v))})).apply(this,arguments)}function pn(){return(pn=(0,b.Z)(function*(A,v){return rt(A,"POST","/v1/accounts:delete",v)})).apply(this,arguments)}function yr(){return(yr=(0,b.Z)(function*(A,v){return rt(A,"POST","/v1/accounts:lookup",v)})).apply(this,arguments)}function Xt(A){if(A)try{const v=new Date(Number(A));if(!isNaN(v.getTime()))return v.toUTCString()}catch{}}function vn(){return(vn=(0,b.Z)(function*(A,v=!1){const w=(0,ne.m9)(A),N=yield w.getIdToken(v),Y=qn(N);we(Y&&Y.exp&&Y.auth_time&&Y.iat,w.auth,"internal-error");const le="object"==typeof Y.firebase?Y.firebase:void 0,Ne=le?.sign_in_provider;return{claims:Y,token:N,authTime:Xt(or(Y.auth_time)),issuedAtTime:Xt(or(Y.iat)),expirationTime:Xt(or(Y.exp)),signInProvider:Ne||null,signInSecondFactor:le?.sign_in_second_factor||null}})).apply(this,arguments)}function or(A){return 1e3*Number(A)}function qn(A){const[v,w,N]=A.split(".");if(void 0===v||void 0===w||void 0===N)return Nt("JWT malformed, contained fewer than 3 sections"),null;try{const Y=(0,ne.tV)(w);return Y?JSON.parse(Y):(Nt("Failed to decode base64 JWT payload"),null)}catch(Y){return Nt("Caught error parsing JWT payload as JSON",Y?.toString()),null}}function Ln(A,v){return ni.apply(this,arguments)}function ni(){return(ni=(0,b.Z)(function*(A,v,w=!1){if(w)return v;try{return yield v}catch(N){throw N instanceof ne.ZR&&function qt({code:A}){return"auth/user-disabled"===A||"auth/user-token-expired"===A}(N)&&A.auth.currentUser===A&&(yield A.auth.signOut()),N}})).apply(this,arguments)}class Yi{constructor(v){this.user=v,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(v){var w;if(v){const N=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),N}{this.errorBackoff=3e4;const Y=(null!==(w=this.user.stsTokenManager.expirationTime)&&void 0!==w?w:0)-Date.now()-3e5;return Math.max(0,Y)}}schedule(v=!1){var w=this;if(!this.isRunning)return;const N=this.getInterval(v);this.timerId=setTimeout((0,b.Z)(function*(){yield w.iteration()}),N)}iteration(){var v=this;return(0,b.Z)(function*(){try{yield v.user.getIdToken(!0)}catch(w){return void("auth/network-request-failed"===w?.code&&v.schedule(!0))}v.schedule()})()}}class Zr{constructor(v,w){this.createdAt=v,this.lastLoginAt=w,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xt(this.lastLoginAt),this.creationTime=Xt(this.createdAt)}_copy(v){this.createdAt=v.createdAt,this.lastLoginAt=v.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function jr(A){return it.apply(this,arguments)}function it(){return it=(0,b.Z)(function*(A){var v;const w=A.auth,N=yield A.getIdToken(),Y=yield Ln(A,function cn(A,v){return yr.apply(this,arguments)}(w,{idToken:N}));we(Y?.users.length,w,"internal-error");const le=Y.users[0];A._notifyReloadListener(le);const Ne=null!==(v=le.providerUserInfo)&&void 0!==v&&v.length?function $t(A){return A.map(v=>{var{providerId:w}=v,N=(0,ue._T)(v,["providerId"]);return{providerId:w,uid:N.rawId||"",displayName:N.displayName||null,email:N.email||null,phoneNumber:N.phoneNumber||null,photoURL:N.photoUrl||null}})}(le.providerUserInfo):[],Je=function Et(A,v){return[...A.filter(N=>!v.some(Y=>Y.providerId===N.providerId)),...v]}(A.providerData,Ne),Fn=!!A.isAnonymous&&!(A.email&&le.passwordHash||Je?.length),xr={uid:le.localId,displayName:le.displayName||null,photoURL:le.photoUrl||null,email:le.email||null,emailVerified:le.emailVerified||!1,phoneNumber:le.phoneNumber||null,tenantId:le.tenantId||null,providerData:Je,metadata:new Zr(le.createdAt,le.lastLoginAt),isAnonymous:Fn};Object.assign(A,xr)}),it.apply(this,arguments)}function Qe(){return(Qe=(0,b.Z)(function*(A){const v=(0,ne.m9)(A);yield jr(v),yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)})).apply(this,arguments)}function Wn(){return(Wn=(0,b.Z)(function*(A,v){const w=yield kt(A,{},(0,b.Z)(function*(){const N=(0,ne.xO)({grant_type:"refresh_token",refresh_token:v}).slice(1),{tokenApiHost:Y,apiKey:le}=A.config,Ne=yn(A,Y,"/v1/token",`key=${le}`),Je=yield A._getAdditionalHeaders();return Je["Content-Type"]="application/x-www-form-urlencoded",ke.fetch()(Ne,{method:"POST",headers:Je,body:N})}));return{accessToken:w.access_token,expiresIn:w.expires_in,refreshToken:w.refresh_token}})).apply(this,arguments)}function B(){return(B=(0,b.Z)(function*(A,v){return rt(A,"POST","/v2/accounts:revokeToken",He(A,v))})).apply(this,arguments)}class G{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(v){we(v.idToken,"internal-error"),we(typeof v.idToken<"u","internal-error"),we(typeof v.refreshToken<"u","internal-error");const w="expiresIn"in v&&typeof v.expiresIn<"u"?Number(v.expiresIn):function ir(A){const v=qn(A);return we(v,"internal-error"),we(typeof v.exp<"u","internal-error"),we(typeof v.iat<"u","internal-error"),Number(v.exp)-Number(v.iat)}(v.idToken);this.updateTokensAndExpiration(v.idToken,v.refreshToken,w)}getToken(v,w=!1){var N=this;return(0,b.Z)(function*(){return we(!N.accessToken||N.refreshToken,v,"user-token-expired"),w||!N.accessToken||N.isExpired?N.refreshToken?(yield N.refresh(v,N.refreshToken),N.accessToken):null:N.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(v,w){var N=this;return(0,b.Z)(function*(){const{accessToken:Y,refreshToken:le,expiresIn:Ne}=yield function Zt(A,v){return Wn.apply(this,arguments)}(v,w);N.updateTokensAndExpiration(Y,le,Number(Ne))})()}updateTokensAndExpiration(v,w,N){this.refreshToken=w||null,this.accessToken=v||null,this.expirationTime=Date.now()+1e3*N}static fromJSON(v,w){const{refreshToken:N,accessToken:Y,expirationTime:le}=w,Ne=new G;return N&&(we("string"==typeof N,"internal-error",{appName:v}),Ne.refreshToken=N),Y&&(we("string"==typeof Y,"internal-error",{appName:v}),Ne.accessToken=Y),le&&(we("number"==typeof le,"internal-error",{appName:v}),Ne.expirationTime=le),Ne}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(v){this.accessToken=v.accessToken,this.refreshToken=v.refreshToken,this.expirationTime=v.expirationTime}_clone(){return Object.assign(new G,this.toJSON())}_performRefresh(){return Xe("not implemented")}}function W(A,v){we("string"==typeof A||typeof A>"u","internal-error",{appName:v})}class ${constructor(v){var{uid:w,auth:N,stsTokenManager:Y}=v,le=(0,ue._T)(v,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Yi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=w,this.auth=N,this.stsTokenManager=Y,this.accessToken=Y.accessToken,this.displayName=le.displayName||null,this.email=le.email||null,this.emailVerified=le.emailVerified||!1,this.phoneNumber=le.phoneNumber||null,this.photoURL=le.photoURL||null,this.isAnonymous=le.isAnonymous||!1,this.tenantId=le.tenantId||null,this.providerData=le.providerData?[...le.providerData]:[],this.metadata=new Zr(le.createdAt||void 0,le.lastLoginAt||void 0)}getIdToken(v){var w=this;return(0,b.Z)(function*(){const N=yield Ln(w,w.stsTokenManager.getToken(w.auth,v));return we(N,w.auth,"internal-error"),w.accessToken!==N&&(w.accessToken=N,yield w.auth._persistUserIfCurrent(w),w.auth._notifyListenersIfCurrent(w)),N})()}getIdTokenResult(v){return function Cr(A){return vn.apply(this,arguments)}(this,v)}reload(){return function Ce(A){return Qe.apply(this,arguments)}(this)}_assign(v){this!==v&&(we(this.uid===v.uid,this.auth,"internal-error"),this.displayName=v.displayName,this.photoURL=v.photoURL,this.email=v.email,this.emailVerified=v.emailVerified,this.phoneNumber=v.phoneNumber,this.isAnonymous=v.isAnonymous,this.tenantId=v.tenantId,this.providerData=v.providerData.map(w=>Object.assign({},w)),this.metadata._copy(v.metadata),this.stsTokenManager._assign(v.stsTokenManager))}_clone(v){const w=new $(Object.assign(Object.assign({},this),{auth:v,stsTokenManager:this.stsTokenManager._clone()}));return w.metadata._copy(this.metadata),w}_onReload(v){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=v,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(v){this.reloadListener?this.reloadListener(v):this.reloadUserInfo=v}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(v,w=!1){var N=this;return(0,b.Z)(function*(){let Y=!1;v.idToken&&v.idToken!==N.stsTokenManager.accessToken&&(N.stsTokenManager.updateFromServerResponse(v),Y=!0),w&&(yield jr(N)),yield N.auth._persistUserIfCurrent(N),Y&&N.auth._notifyListenersIfCurrent(N)})()}delete(){var v=this;return(0,b.Z)(function*(){const w=yield v.getIdToken();return yield Ln(v,function wr(A,v){return pn.apply(this,arguments)}(v.auth,{idToken:w})),v.stsTokenManager.clearRefreshToken(),v.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(v=>Object.assign({},v)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(v,w){var N,Y,le,Ne,Je,Dt,dn,Fn;const xr=null!==(N=w.displayName)&&void 0!==N?N:void 0,Ja=null!==(Y=w.email)&&void 0!==Y?Y:void 0,wl=null!==(le=w.phoneNumber)&&void 0!==le?le:void 0,Dp=null!==(Ne=w.photoURL)&&void 0!==Ne?Ne:void 0,Z_=null!==(Je=w.tenantId)&&void 0!==Je?Je:void 0,lf=null!==(Dt=w._redirectEventId)&&void 0!==Dt?Dt:void 0,v0=null!==(dn=w.createdAt)&&void 0!==dn?dn:void 0,gd=null!==(Fn=w.lastLoginAt)&&void 0!==Fn?Fn:void 0,{uid:Cp,emailVerified:nw,isAnonymous:K_,providerData:Y_,stsTokenManager:Sp}=w;we(Cp&&Sp,v,"internal-error");const Kg=G.fromJSON(this.name,Sp);we("string"==typeof Cp,v,"internal-error"),W(xr,v.name),W(Ja,v.name),we("boolean"==typeof nw,v,"internal-error"),we("boolean"==typeof K_,v,"internal-error"),W(wl,v.name),W(Dp,v.name),W(Z_,v.name),W(lf,v.name),W(v0,v.name),W(gd,v.name);const uf=new $({uid:Cp,auth:v,email:Ja,emailVerified:nw,displayName:xr,isAnonymous:K_,photoURL:Dp,phoneNumber:wl,tenantId:Z_,stsTokenManager:Kg,createdAt:v0,lastLoginAt:gd});return Y_&&Array.isArray(Y_)&&(uf.providerData=Y_.map(Yg=>Object.assign({},Yg))),lf&&(uf._redirectEventId=lf),uf}static _fromIdTokenResponse(v,w,N=!1){return(0,b.Z)(function*(){const Y=new G;Y.updateFromServerResponse(w);const le=new $({uid:w.localId,auth:v,stsTokenManager:Y,isAnonymous:N});return yield jr(le),le})()}}const Ie=new Map;function We(A){_t(A instanceof Function,"Expected a class definition");let v=Ie.get(A);return v?(_t(v instanceof A,"Instance stored in cache mismatched with class"),v):(v=new A,Ie.set(A,v),v)}const on=(()=>{class A{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,b.Z)(function*(){return!0})()}_set(w,N){var Y=this;return(0,b.Z)(function*(){Y.storage[w]=N})()}_get(w){var N=this;return(0,b.Z)(function*(){const Y=N.storage[w];return void 0===Y?null:Y})()}_remove(w){var N=this;return(0,b.Z)(function*(){delete N.storage[w]})()}_addListener(w,N){}_removeListener(w,N){}}return A.type="NONE",A})();function ln(A,v,w){return`firebase:${A}:${v}:${w}`}class Rn{constructor(v,w,N){this.persistence=v,this.auth=w,this.userKey=N;const{config:Y,name:le}=this.auth;this.fullUserKey=ln(this.userKey,Y.apiKey,le),this.fullPersistenceKey=ln("persistence",Y.apiKey,le),this.boundEventHandler=w._onStorageEvent.bind(w),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(v){return this.persistence._set(this.fullUserKey,v.toJSON())}getCurrentUser(){var v=this;return(0,b.Z)(function*(){const w=yield v.persistence._get(v.fullUserKey);return w?$._fromJSON(v.auth,w):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(v){var w=this;return(0,b.Z)(function*(){if(w.persistence===v)return;const N=yield w.getCurrentUser();return yield w.removeCurrentUser(),w.persistence=v,N?w.setCurrentUser(N):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(v,w,N="authUser"){return(0,b.Z)(function*(){if(!w.length)return new Rn(We(on),v,N);const Y=(yield Promise.all(w.map(function(){var dn=(0,b.Z)(function*(Fn){if(yield Fn._isAvailable())return Fn});return function(Fn){return dn.apply(this,arguments)}}()))).filter(dn=>dn);let le=Y[0]||We(on);const Ne=ln(N,v.config.apiKey,v.name);let Je=null;for(const dn of w)try{const Fn=yield dn._get(Ne);if(Fn){const xr=$._fromJSON(v,Fn);dn!==le&&(Je=xr),le=dn;break}}catch{}const Dt=Y.filter(dn=>dn._shouldAllowMigration);return le._shouldAllowMigration&&Dt.length?(le=Dt[0],Je&&(yield le._set(Ne,Je.toJSON())),yield Promise.all(w.map(function(){var dn=(0,b.Z)(function*(Fn){if(Fn!==le)try{yield Fn._remove(Ne)}catch{}});return function(Fn){return dn.apply(this,arguments)}}())),new Rn(le,v,N)):new Rn(le,v,N)})()}}function Qt(A){const v=A.toLowerCase();if(v.includes("opera/")||v.includes("opr/")||v.includes("opios/"))return"Opera";if(fs(v))return"IEMobile";if(v.includes("msie")||v.includes("trident/"))return"IE";if(v.includes("edge/"))return"Edge";if(Pn(v))return"Firefox";if(v.includes("silk/"))return"Silk";if(ss(v))return"Blackberry";if(os(v))return"Webos";if(Kr(v))return"Safari";if((v.includes("chrome/")||Xn(v))&&!v.includes("edge/"))return"Chrome";if(Bo(v))return"Android";{const N=A.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===N?.length)return N[1]}return"Other"}function Pn(A=(0,ne.z$)()){return/firefox\//i.test(A)}function Kr(A=(0,ne.z$)()){const v=A.toLowerCase();return v.includes("safari/")&&!v.includes("chrome/")&&!v.includes("crios/")&&!v.includes("android")}function Xn(A=(0,ne.z$)()){return/crios\//i.test(A)}function fs(A=(0,ne.z$)()){return/iemobile/i.test(A)}function Bo(A=(0,ne.z$)()){return/android/i.test(A)}function ss(A=(0,ne.z$)()){return/blackberry/i.test(A)}function os(A=(0,ne.z$)()){return/webos/i.test(A)}function Ha(A=(0,ne.z$)()){return/iphone|ipad|ipod/i.test(A)||/macintosh/i.test(A)&&/mobile/i.test(A)}function Vi(A=(0,ne.z$)()){return Ha(A)||Bo(A)||os(A)||ss(A)||/windows phone/i.test(A)||fs(A)}function tr(A,v=[]){let w;switch(A){case"Browser":w=Qt((0,ne.z$)());break;case"Worker":w=`${Qt((0,ne.z$)())}-${A}`;break;default:w=A}const N=v.length?v.join(","):"FirebaseCore-web";return`${w}/JsCore/${u.Jn}/${N}`}class go{constructor(v){this.auth=v,this.queue=[]}pushCallback(v,w){const N=le=>new Promise((Ne,Je)=>{try{Ne(v(le))}catch(Dt){Je(Dt)}});N.onAbort=w,this.queue.push(N);const Y=this.queue.length-1;return()=>{this.queue[Y]=()=>Promise.resolve()}}runMiddleware(v){var w=this;return(0,b.Z)(function*(){if(w.auth.currentUser===v)return;const N=[];try{for(const Y of w.queue)yield Y(v),Y.onAbort&&N.push(Y.onAbort)}catch(Y){N.reverse();for(const le of N)try{le()}catch{}throw w.auth._errorFactory.create("login-blocked",{originalMessage:Y?.message})}})()}}function Qo(){return(Qo=(0,b.Z)(function*(A,v={}){return rt(A,"GET","/v2/passwordPolicy",He(A,v))})).apply(this,arguments)}class ps{constructor(v){var w,N,Y,le;const Ne=v.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(w=Ne.minPasswordLength)&&void 0!==w?w:6,Ne.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Ne.maxPasswordLength),void 0!==Ne.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Ne.containsLowercaseCharacter),void 0!==Ne.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Ne.containsUppercaseCharacter),void 0!==Ne.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Ne.containsNumericCharacter),void 0!==Ne.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Ne.containsNonAlphanumericCharacter),this.enforcementState=v.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(Y=null===(N=v.allowedNonAlphanumericCharacters)||void 0===N?void 0:N.join(""))&&void 0!==Y?Y:"",this.forceUpgradeOnSignin=null!==(le=v.forceUpgradeOnSignin)&&void 0!==le&&le,this.schemaVersion=v.schemaVersion}validatePassword(v){var w,N,Y,le,Ne,Je;const Dt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(v,Dt),this.validatePasswordCharacterOptions(v,Dt),Dt.isValid&&(Dt.isValid=null===(w=Dt.meetsMinPasswordLength)||void 0===w||w),Dt.isValid&&(Dt.isValid=null===(N=Dt.meetsMaxPasswordLength)||void 0===N||N),Dt.isValid&&(Dt.isValid=null===(Y=Dt.containsLowercaseLetter)||void 0===Y||Y),Dt.isValid&&(Dt.isValid=null===(le=Dt.containsUppercaseLetter)||void 0===le||le),Dt.isValid&&(Dt.isValid=null===(Ne=Dt.containsNumericCharacter)||void 0===Ne||Ne),Dt.isValid&&(Dt.isValid=null===(Je=Dt.containsNonAlphanumericCharacter)||void 0===Je||Je),Dt}validatePasswordLengthOptions(v,w){const N=this.customStrengthOptions.minPasswordLength,Y=this.customStrengthOptions.maxPasswordLength;N&&(w.meetsMinPasswordLength=v.length>=N),Y&&(w.meetsMaxPasswordLength=v.length<=Y)}validatePasswordCharacterOptions(v,w){let N;this.updatePasswordCharacterOptionsStatuses(w,!1,!1,!1,!1);for(let Y=0;Y<v.length;Y++)N=v.charAt(Y),this.updatePasswordCharacterOptionsStatuses(w,N>="a"&&N<="z",N>="A"&&N<="Z",N>="0"&&N<="9",this.allowedNonAlphanumericCharacters.includes(N))}updatePasswordCharacterOptionsStatuses(v,w,N,Y,le){this.customStrengthOptions.containsLowercaseLetter&&(v.containsLowercaseLetter||(v.containsLowercaseLetter=w)),this.customStrengthOptions.containsUppercaseLetter&&(v.containsUppercaseLetter||(v.containsUppercaseLetter=N)),this.customStrengthOptions.containsNumericCharacter&&(v.containsNumericCharacter||(v.containsNumericCharacter=Y)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(v.containsNonAlphanumericCharacter||(v.containsNonAlphanumericCharacter=le))}}class ma{constructor(v,w,N,Y){this.app=v,this.heartbeatServiceProvider=w,this.appCheckServiceProvider=N,this.config=Y,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Us(this),this.idTokenSubscription=new Us(this),this.beforeStateQueue=new go(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=It,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=v.name,this.clientVersion=Y.sdkClientVersion}_initializeWithPersistence(v,w){var N=this;return w&&(this._popupRedirectResolver=We(w)),this._initializationPromise=this.queue((0,b.Z)(function*(){var Y,le;if(!N._deleted&&(N.persistenceManager=yield Rn.create(N,v),!N._deleted)){if(null!==(Y=N._popupRedirectResolver)&&void 0!==Y&&Y._shouldInitProactively)try{yield N._popupRedirectResolver._initialize(N)}catch{}yield N.initializeCurrentUser(w),N.lastNotifiedUid=(null===(le=N.currentUser)||void 0===le?void 0:le.uid)||null,!N._deleted&&(N._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var v=this;return(0,b.Z)(function*(){if(v._deleted)return;const w=yield v.assertedPersistence.getCurrentUser();if(v.currentUser||w){if(v.currentUser&&w&&v.currentUser.uid===w.uid)return v._currentUser._assign(w),void(yield v.currentUser.getIdToken());yield v._updateCurrentUser(w,!0)}})()}initializeCurrentUser(v){var w=this;return(0,b.Z)(function*(){var N;const Y=yield w.assertedPersistence.getCurrentUser();let le=Y,Ne=!1;if(v&&w.config.authDomain){yield w.getOrInitRedirectPersistenceManager();const Je=null===(N=w.redirectUser)||void 0===N?void 0:N._redirectEventId,Dt=le?._redirectEventId,dn=yield w.tryRedirectSignIn(v);(!Je||Je===Dt)&&dn?.user&&(le=dn.user,Ne=!0)}if(!le)return w.directlySetCurrentUser(null);if(!le._redirectEventId){if(Ne)try{yield w.beforeStateQueue.runMiddleware(le)}catch(Je){le=Y,w._popupRedirectResolver._overrideRedirectResult(w,()=>Promise.reject(Je))}return le?w.reloadAndSetCurrentUserOrClear(le):w.directlySetCurrentUser(null)}return we(w._popupRedirectResolver,w,"argument-error"),yield w.getOrInitRedirectPersistenceManager(),w.redirectUser&&w.redirectUser._redirectEventId===le._redirectEventId?w.directlySetCurrentUser(le):w.reloadAndSetCurrentUserOrClear(le)})()}tryRedirectSignIn(v){var w=this;return(0,b.Z)(function*(){let N=null;try{N=yield w._popupRedirectResolver._completeRedirectFn(w,v,!0)}catch{yield w._setRedirectUser(null)}return N})()}reloadAndSetCurrentUserOrClear(v){var w=this;return(0,b.Z)(function*(){try{yield jr(v)}catch(N){if("auth/network-request-failed"!==N?.code)return w.directlySetCurrentUser(null)}return w.directlySetCurrentUser(v)})()}useDeviceLanguage(){this.languageCode=function Hn(){if(typeof navigator>"u")return null;const A=navigator;return A.languages&&A.languages[0]||A.language||null}()}_delete(){var v=this;return(0,b.Z)(function*(){v._deleted=!0})()}updateCurrentUser(v){var w=this;return(0,b.Z)(function*(){const N=v?(0,ne.m9)(v):null;return N&&we(N.auth.config.apiKey===w.config.apiKey,w,"invalid-user-token"),w._updateCurrentUser(N&&N._clone(w))})()}_updateCurrentUser(v,w=!1){var N=this;return(0,b.Z)(function*(){if(!N._deleted)return v&&we(N.tenantId===v.tenantId,N,"tenant-id-mismatch"),w||(yield N.beforeStateQueue.runMiddleware(v)),N.queue((0,b.Z)(function*(){yield N.directlySetCurrentUser(v),N.notifyAuthListeners()}))})()}signOut(){var v=this;return(0,b.Z)(function*(){return yield v.beforeStateQueue.runMiddleware(null),(v.redirectPersistenceManager||v._popupRedirectResolver)&&(yield v._setRedirectUser(null)),v._updateCurrentUser(null,!0)})()}setPersistence(v){var w=this;return this.queue((0,b.Z)(function*(){yield w.assertedPersistence.setPersistence(We(v))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(v){var w=this;return(0,b.Z)(function*(){w._getPasswordPolicyInternal()||(yield w._updatePasswordPolicy());const N=w._getPasswordPolicyInternal();return N.schemaVersion!==w.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(w._errorFactory.create("unsupported-password-policy-schema-version",{})):N.validatePassword(v)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var v=this;return(0,b.Z)(function*(){const w=yield function Yo(A){return Qo.apply(this,arguments)}(v),N=new ps(w);null===v.tenantId?v._projectPasswordPolicy=N:v._tenantPasswordPolicies[v.tenantId]=N})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(v){this._errorFactory=new ne.LL("auth","Firebase",v())}onAuthStateChanged(v,w,N){return this.registerStateListener(this.authStateSubscription,v,w,N)}beforeAuthStateChanged(v,w){return this.beforeStateQueue.pushCallback(v,w)}onIdTokenChanged(v,w,N){return this.registerStateListener(this.idTokenSubscription,v,w,N)}authStateReady(){return new Promise((v,w)=>{if(this.currentUser)v();else{const N=this.onAuthStateChanged(()=>{N(),v()},w)}})}revokeAccessToken(v){var w=this;return(0,b.Z)(function*(){if(w.currentUser){const N=yield w.currentUser.getIdToken(),Y={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:v,idToken:N};null!=w.tenantId&&(Y.tenantId=w.tenantId),yield function Q(A,v){return B.apply(this,arguments)}(w,Y)}})()}toJSON(){var v;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(v=this._currentUser)||void 0===v?void 0:v.toJSON()}}_setRedirectUser(v,w){var N=this;return(0,b.Z)(function*(){const Y=yield N.getOrInitRedirectPersistenceManager(w);return null===v?Y.removeCurrentUser():Y.setCurrentUser(v)})()}getOrInitRedirectPersistenceManager(v){var w=this;return(0,b.Z)(function*(){if(!w.redirectPersistenceManager){const N=v&&We(v)||w._popupRedirectResolver;we(N,w,"argument-error"),w.redirectPersistenceManager=yield Rn.create(w,[We(N._redirectPersistence)],"redirectUser"),w.redirectUser=yield w.redirectPersistenceManager.getCurrentUser()}return w.redirectPersistenceManager})()}_redirectUserForId(v){var w=this;return(0,b.Z)(function*(){var N,Y;return w._isInitialized&&(yield w.queue((0,b.Z)(function*(){}))),(null===(N=w._currentUser)||void 0===N?void 0:N._redirectEventId)===v?w._currentUser:(null===(Y=w.redirectUser)||void 0===Y?void 0:Y._redirectEventId)===v?w.redirectUser:null})()}_persistUserIfCurrent(v){var w=this;return(0,b.Z)(function*(){if(v===w.currentUser)return w.queue((0,b.Z)(function*(){return w.directlySetCurrentUser(v)}))})()}_notifyListenersIfCurrent(v){v===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var v,w;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const N=null!==(w=null===(v=this.currentUser)||void 0===v?void 0:v.uid)&&void 0!==w?w:null;this.lastNotifiedUid!==N&&(this.lastNotifiedUid=N,this.authStateSubscription.next(this.currentUser))}registerStateListener(v,w,N,Y){if(this._deleted)return()=>{};const le="function"==typeof w?w:w.next.bind(w);let Ne=!1;const Je=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(Je,this,"internal-error"),Je.then(()=>{Ne||le(this.currentUser)}),"function"==typeof w){const Dt=v.addObserver(w,N,Y);return()=>{Ne=!0,Dt()}}{const Dt=v.addObserver(w);return()=>{Ne=!0,Dt()}}}directlySetCurrentUser(v){var w=this;return(0,b.Z)(function*(){w.currentUser&&w.currentUser!==v&&w._currentUser._stopProactiveRefresh(),v&&w.isProactiveRefreshEnabled&&v._startProactiveRefresh(),w.currentUser=v,v?yield w.assertedPersistence.setCurrentUser(v):yield w.assertedPersistence.removeCurrentUser()})()}queue(v){return this.operations=this.operations.then(v,v),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(v){!v||this.frameworks.includes(v)||(this.frameworks.push(v),this.frameworks.sort(),this.clientVersion=tr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var v=this;return(0,b.Z)(function*(){var w;const N={"X-Client-Version":v.clientVersion};v.app.options.appId&&(N["X-Firebase-gmpid"]=v.app.options.appId);const Y=yield null===(w=v.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===w?void 0:w.getHeartbeatsHeader();Y&&(N["X-Firebase-Client"]=Y);const le=yield v._getAppCheckToken();return le&&(N["X-Firebase-AppCheck"]=le),N})()}_getAppCheckToken(){var v=this;return(0,b.Z)(function*(){var w;const N=yield null===(w=v.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===w?void 0:w.getToken();return N?.error&&function Tn(A,...v){Ot.logLevel<=be.in.WARN&&Ot.warn(`Auth (${u.Jn}): ${A}`,...v)}(`Error while retrieving App Check token: ${N.error}`),N?.token})()}}function Yr(A){return(0,ne.m9)(A)}class Us{constructor(v){this.auth=v,this.observer=null,this.addObserver=(0,ne.ne)(w=>this.observer=w)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let _i={loadJS:()=>(0,b.Z)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mo(A){return _i.loadJS(A)}function Bs(A){return`__${A}${Math.floor(1e6*Math.random())}`}class va{constructor(v){this.type="recaptcha-enterprise",this.auth=Yr(v)}verify(v="verify",w=!1){var N=this;return(0,b.Z)(function*(){function le(){return le=(0,b.Z)(function*(Je){if(!w){if(null==Je.tenantId&&null!=Je._agentRecaptchaConfig)return Je._agentRecaptchaConfig.siteKey;if(null!=Je.tenantId&&void 0!==Je._tenantRecaptchaConfigs[Je.tenantId])return Je._tenantRecaptchaConfigs[Je.tenantId].siteKey}return new Promise(function(){var Dt=(0,b.Z)(function*(dn,Fn){gt(Je,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(xr=>{if(void 0!==xr.recaptchaKey){const Ja=new Ee(xr);return null==Je.tenantId?Je._agentRecaptchaConfig=Ja:Je._tenantRecaptchaConfigs[Je.tenantId]=Ja,dn(Ja.siteKey)}Fn(new Error("recaptcha Enterprise site key undefined"))}).catch(xr=>{Fn(xr)})});return function(dn,Fn){return Dt.apply(this,arguments)}}())}),le.apply(this,arguments)}function Ne(Je,Dt,dn){const Fn=window.grecaptcha;Ae(Fn)?Fn.enterprise.ready(()=>{Fn.enterprise.execute(Je,{action:v}).then(xr=>{Dt(xr)}).catch(()=>{Dt("NO_RECAPTCHA")})}):dn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Je,Dt)=>{(function Y(Je){return le.apply(this,arguments)})(N.auth).then(dn=>{if(!w&&Ae(window.grecaptcha))Ne(dn,Je,Dt);else{if(typeof window>"u")return void Dt(new Error("RecaptchaVerifier is only supported in browser"));let Fn=function yi(){return _i.recaptchaEnterpriseScript}();0!==Fn.length&&(Fn+=dn),mo(Fn).then(()=>{Ne(dn,Je,Dt)}).catch(xr=>{Dt(xr)})}}).catch(dn=>{Dt(dn)})})})()}}function $r(A,v,w){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,b.Z)(function*(A,v,w,N=!1){const Y=new va(A);let le;try{le=yield Y.verify(w)}catch{le=yield Y.verify(w,!0)}const Ne=Object.assign({},v);return Object.assign(Ne,N?{captchaResp:le}:{captchaResponse:le}),Object.assign(Ne,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ne,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ne})).apply(this,arguments)}function as(A,v,w,N){return ea.apply(this,arguments)}function ea(){return ea=(0,b.Z)(function*(A,v,w,N){var Y;if(null!==(Y=A._getRecaptchaConfig())&&void 0!==Y&&Y.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const le=yield $r(A,v,w,"getOobCode"===w);return N(A,le)}return N(A,v).catch(function(){var le=(0,b.Z)(function*(Ne){if("auth/missing-recaptcha-token"===Ne.code){console.log(`${w} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Je=yield $r(A,v,w,"getOobCode"===w);return N(A,Je)}return Promise.reject(Ne)});return function(Ne){return le.apply(this,arguments)}}())}),ea.apply(this,arguments)}function ba(A){const v=A.indexOf(":");return v<0?"":A.substr(0,v+1)}function Cs(A){if(!A)return null;const v=Number(A);return isNaN(v)?null:v}class ta{constructor(v,w){this.providerId=v,this.signInMethod=w}toJSON(){return Xe("not implemented")}_getIdTokenResponse(v){return Xe("not implemented")}_linkToIdToken(v,w){return Xe("not implemented")}_getReauthenticationResolver(v){return Xe("not implemented")}}function ja(A,v){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,b.Z)(function*(A,v){return rt(A,"POST","/v1/accounts:signUp",v)})).apply(this,arguments)}function Ci(A,v){return gs.apply(this,arguments)}function gs(){return(gs=(0,b.Z)(function*(A,v){return hn(A,"POST","/v1/accounts:signInWithPassword",He(A,v))})).apply(this,arguments)}function Ss(){return(Ss=(0,b.Z)(function*(A,v){return rt(A,"POST","/v1/accounts:sendOobCode",He(A,v))})).apply(this,arguments)}function Cc(A,v){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,b.Z)(function*(A,v){return function Pr(A,v){return Ss.apply(this,arguments)}(A,v)})).apply(this,arguments)}function io(){return(io=(0,b.Z)(function*(A,v){return hn(A,"POST","/v1/accounts:signInWithEmailLink",He(A,v))})).apply(this,arguments)}function ji(){return(ji=(0,b.Z)(function*(A,v){return hn(A,"POST","/v1/accounts:signInWithEmailLink",He(A,v))})).apply(this,arguments)}class Nn extends ta{constructor(v,w,N,Y=null){super("password",N),this._email=v,this._password=w,this._tenantId=Y}static _fromEmailAndPassword(v,w){return new Nn(v,w,"password")}static _fromEmailAndCode(v,w,N=null){return new Nn(v,w,"emailLink",N)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(v){const w="string"==typeof v?JSON.parse(v):v;if(w?.email&&w?.password){if("password"===w.signInMethod)return this._fromEmailAndPassword(w.email,w.password);if("emailLink"===w.signInMethod)return this._fromEmailAndCode(w.email,w.password,w.tenantId)}return null}_getIdTokenResponse(v){var w=this;return(0,b.Z)(function*(){switch(w.signInMethod){case"password":return as(v,{returnSecureToken:!0,email:w._email,password:w._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ci);case"emailLink":return function pi(A,v){return io.apply(this,arguments)}(v,{email:w._email,oobCode:w._password});default:ft(v,"internal-error")}})()}_linkToIdToken(v,w){var N=this;return(0,b.Z)(function*(){switch(N.signInMethod){case"password":return as(v,{idToken:w,returnSecureToken:!0,email:N._email,password:N._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ja);case"emailLink":return function Qr(A,v){return ji.apply(this,arguments)}(v,{idToken:w,email:N._email,oobCode:N._password});default:ft(v,"internal-error")}})()}_getReauthenticationResolver(v){return this._getIdTokenResponse(v)}}function kr(A,v){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,b.Z)(function*(A,v){return hn(A,"POST","/v1/accounts:signInWithIdp",He(A,v))})).apply(this,arguments)}class Gn{constructor(v){var w,N,Y,le,Ne,Je;const Dt=(0,ne.zd)((0,ne.pd)(v)),dn=null!==(w=Dt.apiKey)&&void 0!==w?w:null,Fn=null!==(N=Dt.oobCode)&&void 0!==N?N:null,xr=function Gs(A){switch(A){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Y=Dt.mode)&&void 0!==Y?Y:null);we(dn&&Fn&&xr,"argument-error"),this.apiKey=dn,this.operation=xr,this.code=Fn,this.continueUrl=null!==(le=Dt.continueUrl)&&void 0!==le?le:null,this.languageCode=null!==(Ne=Dt.languageCode)&&void 0!==Ne?Ne:null,this.tenantId=null!==(Je=Dt.tenantId)&&void 0!==Je?Je:null}static parseLink(v){const w=function wo(A){const v=(0,ne.zd)((0,ne.pd)(A)).link,w=v?(0,ne.zd)((0,ne.pd)(v)).deep_link_id:null,N=(0,ne.zd)((0,ne.pd)(A)).deep_link_id;return(N?(0,ne.zd)((0,ne.pd)(N)).link:null)||N||w||v||A}(v);try{return new Gn(w)}catch{return null}}}let Io=(()=>{class A{constructor(){this.providerId=A.PROVIDER_ID}static credential(w,N){return Nn._fromEmailAndPassword(w,N)}static credentialWithLink(w,N){const Y=Gn.parseLink(N);return we(Y,"argument-error"),Nn._fromEmailAndCode(w,Y.code,Y.tenantId)}}return A.PROVIDER_ID="password",A.EMAIL_PASSWORD_SIGN_IN_METHOD="password",A.EMAIL_LINK_SIGN_IN_METHOD="emailLink",A})();class js{constructor(v){this.providerId=v,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(v){this.defaultLanguageCode=v}setCustomParameters(v){return this.customParameters=v,this}getCustomParameters(){return this.customParameters}}class Br extends js{constructor(){super(...arguments),this.scopes=[]}addScope(v){return this.scopes.includes(v)||this.scopes.push(v),this}getScopes(){return[...this.scopes]}}function zs(A,v){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,b.Z)(function*(A,v){return hn(A,"POST","/v1/accounts:signUp",He(A,v))})).apply(this,arguments)}class Oi{constructor(v){this.user=v.user,this.providerId=v.providerId,this._tokenResponse=v._tokenResponse,this.operationType=v.operationType}static _fromIdTokenResponse(v,w,N,Y=!1){return(0,b.Z)(function*(){const le=yield $._fromIdTokenResponse(v,N,Y),Ne=Ws(N);return new Oi({user:le,providerId:Ne,_tokenResponse:N,operationType:w})})()}static _forOperation(v,w,N){return(0,b.Z)(function*(){yield v._updateTokensIfNecessary(N,!0);const Y=Ws(N);return new Oi({user:v,providerId:Y,_tokenResponse:N,operationType:w})})()}}function Ws(A){return A.providerId?A.providerId:"phoneNumber"in A?"phone":null}class cc extends ne.ZR{constructor(v,w,N,Y){var le;super(w.code,w.message),this.operationType=N,this.user=Y,Object.setPrototypeOf(this,cc.prototype),this.customData={appName:v.name,tenantId:null!==(le=v.tenantId)&&void 0!==le?le:void 0,_serverResponse:w.customData._serverResponse,operationType:N}}static _fromErrorAndOperation(v,w,N,Y){return new cc(v,w,N,Y)}}function Sr(A,v,w,N){return("reauthenticate"===v?w._getReauthenticationResolver(A):w._getIdTokenResponse(A)).catch(le=>{throw"auth/multi-factor-auth-required"===le.code?cc._fromErrorAndOperation(A,le,v,N):le})}function U(){return(U=(0,b.Z)(function*(A,v,w=!1){const N=yield Ln(A,v._linkToIdToken(A.auth,yield A.getIdToken()),w);return Oi._forOperation(A,"link",N)})).apply(this,arguments)}function Un(){return(Un=(0,b.Z)(function*(A,v,w=!1){const{auth:N}=A,Y="reauthenticate";try{const le=yield Ln(A,Sr(N,Y,v,A),w);we(le.idToken,N,"internal-error");const Ne=qn(le.idToken);we(Ne,N,"internal-error");const{sub:Je}=Ne;return we(A.uid===Je,N,"user-mismatch"),Oi._forOperation(A,Y,le)}catch(le){throw"auth/user-not-found"===le?.code&&ft(N,"user-mismatch"),le}})).apply(this,arguments)}function $i(A,v){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,b.Z)(function*(A,v,w=!1){const N="signIn",Y=yield Sr(A,N,v),le=yield Oi._fromIdTokenResponse(A,N,Y);return w||(yield A._updateCurrentUser(le.user)),le})).apply(this,arguments)}function zi(A,v){return ms.apply(this,arguments)}function ms(){return(ms=(0,b.Z)(function*(A,v){return $i(Yr(A),v)})).apply(this,arguments)}function uc(A){return xi.apply(this,arguments)}function xi(){return(xi=(0,b.Z)(function*(A){const v=Yr(A);v._getPasswordPolicyInternal()&&(yield v._updatePasswordPolicy())})).apply(this,arguments)}function $c(){return($c=(0,b.Z)(function*(A,v,w){const N=Yr(A),Y={requestType:"PASSWORD_RESET",email:v,clientType:"CLIENT_TYPE_WEB"};w&&function Do(A,v,w){var N;we((null===(N=w.url)||void 0===N?void 0:N.length)>0,A,"invalid-continue-uri"),we(typeof w.dynamicLinkDomain>"u"||w.dynamicLinkDomain.length>0,A,"invalid-dynamic-link-domain"),v.continueUrl=w.url,v.dynamicLinkDomain=w.dynamicLinkDomain,v.canHandleCodeInApp=w.handleCodeInApp,w.iOS&&(we(w.iOS.bundleId.length>0,A,"missing-ios-bundle-id"),v.iOSBundleId=w.iOS.bundleId),w.android&&(we(w.android.packageName.length>0,A,"missing-android-pkg-name"),v.androidInstallApp=w.android.installApp,v.androidMinimumVersionCode=w.android.minimumVersion,v.androidPackageName=w.android.packageName)}(N,Y,w),yield as(N,Y,"getOobCode",Cc)})).apply(this,arguments)}function wi(){return(wi=(0,b.Z)(function*(A,v,w){const N=Yr(A),Ne=yield as(N,{returnSecureToken:!0,email:v,password:w,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",zs).catch(Dt=>{throw"auth/password-does-not-meet-requirements"===Dt.code&&uc(A),Dt}),Je=yield Oi._fromIdTokenResponse(N,"signIn",Ne);return yield N._updateCurrentUser(Je.user),Je})).apply(this,arguments)}function Sa(){return(Sa=(0,b.Z)(function*(A){return(0,ne.m9)(A).delete()})).apply(this,arguments)}const Sn="__sak";class xs{constructor(v,w){this.storageRetriever=v,this.type=w}_isAvailable(){try{return this.storage?(this.storage.setItem(Sn,"1"),this.storage.removeItem(Sn),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(v,w){return this.storage.setItem(v,JSON.stringify(w)),Promise.resolve()}_get(v){const w=this.storage.getItem(v);return Promise.resolve(w?JSON.parse(w):null)}_remove(v){return this.storage.removeItem(v),Promise.resolve()}get storage(){return this.storageRetriever()}}const pl=(()=>{class A extends xs{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(w,N)=>this.onStorageEvent(w,N),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function mp(){const A=(0,ne.z$)();return Kr(A)||Ha(A)}()&&function Hi(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Vi(),this._shouldAllowMigration=!0}forAllChangedKeys(w){for(const N of Object.keys(this.listeners)){const Y=this.storage.getItem(N),le=this.localCache[N];Y!==le&&w(N,le,Y)}}onStorageEvent(w,N=!1){if(!w.key)return void this.forAllChangedKeys((Je,Dt,dn)=>{this.notifyListeners(Je,dn)});const Y=w.key;if(N?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Je=this.storage.getItem(Y);if(w.newValue!==Je)null!==w.newValue?this.storage.setItem(Y,w.newValue):this.storage.removeItem(Y);else if(this.localCache[Y]===w.newValue&&!N)return}const le=()=>{const Je=this.storage.getItem(Y);!N&&this.localCache[Y]===Je||this.notifyListeners(Y,Je)},Ne=this.storage.getItem(Y);!function po(){return(0,ne.w1)()&&10===document.documentMode}()||Ne===w.newValue||w.newValue===w.oldValue?le():setTimeout(le,10)}notifyListeners(w,N){this.localCache[w]=N;const Y=this.listeners[w];if(Y)for(const le of Array.from(Y))le(N&&JSON.parse(N))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((w,N,Y)=>{this.onStorageEvent(new StorageEvent("storage",{key:w,oldValue:N,newValue:Y}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(w,N){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[w]||(this.listeners[w]=new Set,this.localCache[w]=this.storage.getItem(w)),this.listeners[w].add(N)}_removeListener(w,N){this.listeners[w]&&(this.listeners[w].delete(N),0===this.listeners[w].size&&delete this.listeners[w]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(w,N){var Y=()=>super._set,le=this;return(0,b.Z)(function*(){yield Y().call(le,w,N),le.localCache[w]=JSON.stringify(N)})()}_get(w){var N=()=>super._get,Y=this;return(0,b.Z)(function*(){const le=yield N().call(Y,w);return Y.localCache[w]=JSON.stringify(le),le})()}_remove(w){var N=()=>super._remove,Y=this;return(0,b.Z)(function*(){yield N().call(Y,w),delete Y.localCache[w]})()}}return A.type="LOCAL",A})(),qc=(()=>{class A extends xs{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(w,N){}_removeListener(w,N){}}return A.type="SESSION",A})();let zl=(()=>{class A{constructor(w){this.eventTarget=w,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(w){const N=this.receivers.find(le=>le.isListeningto(w));if(N)return N;const Y=new A(w);return this.receivers.push(Y),Y}isListeningto(w){return this.eventTarget===w}handleEvent(w){var N=this;return(0,b.Z)(function*(){const Y=w,{eventId:le,eventType:Ne,data:Je}=Y.data,Dt=N.handlersMap[Ne];if(!Dt?.size)return;Y.ports[0].postMessage({status:"ack",eventId:le,eventType:Ne});const dn=Array.from(Dt).map(function(){var xr=(0,b.Z)(function*(Ja){return Ja(Y.origin,Je)});return function(Ja){return xr.apply(this,arguments)}}()),Fn=yield function $l(A){return Promise.all(A.map(function(){var v=(0,b.Z)(function*(w){try{return{fulfilled:!0,value:yield w}}catch(N){return{fulfilled:!1,reason:N}}});return function(w){return v.apply(this,arguments)}}()))}(dn);Y.ports[0].postMessage({status:"done",eventId:le,eventType:Ne,response:Fn})})()}_subscribe(w,N){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[w]||(this.handlersMap[w]=new Set),this.handlersMap[w].add(N)}_unsubscribe(w,N){this.handlersMap[w]&&N&&this.handlersMap[w].delete(N),(!N||0===this.handlersMap[w].size)&&delete this.handlersMap[w],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return A.receivers=[],A})();function Wl(A="",v=10){let w="";for(let N=0;N<v;N++)w+=Math.floor(10*Math.random());return A+w}class cd{constructor(v){this.target=v,this.handlers=new Set}removeMessageHandler(v){v.messageChannel&&(v.messageChannel.port1.removeEventListener("message",v.onMessage),v.messageChannel.port1.close()),this.handlers.delete(v)}_send(v,w,N=50){var Y=this;return(0,b.Z)(function*(){const le=typeof MessageChannel<"u"?new MessageChannel:null;if(!le)throw new Error("connection_unavailable");let Ne,Je;return new Promise((Dt,dn)=>{const Fn=Wl("",20);le.port1.start();const xr=setTimeout(()=>{dn(new Error("unsupported_event"))},N);Je={messageChannel:le,onMessage(Ja){const wl=Ja;if(wl.data.eventId===Fn)switch(wl.data.status){case"ack":clearTimeout(xr),Ne=setTimeout(()=>{dn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ne),Dt(wl.data.response);break;default:clearTimeout(xr),clearTimeout(Ne),dn(new Error("invalid_response"))}}},Y.handlers.add(Je),le.port1.addEventListener("message",Je.onMessage),Y.target.postMessage({eventType:v,eventId:Fn,data:w},[le.port2])}).finally(()=>{Je&&Y.removeMessageHandler(Je)})})()}}function ht(){return window}function bu(){return typeof ht().WorkerGlobalScope<"u"&&"function"==typeof ht().importScripts}function Zi(){return(Zi=(0,b.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const No="firebaseLocalStorageDb",gc="firebaseLocalStorage",Iu="fbase_key";class Zc{constructor(v){this.request=v}toPromise(){return new Promise((v,w)=>{this.request.addEventListener("success",()=>{v(this.request.result)}),this.request.addEventListener("error",()=>{w(this.request.error)})})}}function mc(A,v){return A.transaction([gc],v?"readwrite":"readonly").objectStore(gc)}function Go(){const A=indexedDB.open(No,1);return new Promise((v,w)=>{A.addEventListener("error",()=>{w(A.error)}),A.addEventListener("upgradeneeded",()=>{const N=A.result;try{N.createObjectStore(gc,{keyPath:Iu})}catch(Y){w(Y)}}),A.addEventListener("success",(0,b.Z)(function*(){const N=A.result;N.objectStoreNames.contains(gc)?v(N):(N.close(),yield function ys(){const A=indexedDB.deleteDatabase(No);return new Zc(A).toPromise()}(),v(yield Go()))}))})}function ql(A,v,w){return _c.apply(this,arguments)}function _c(){return(_c=(0,b.Z)(function*(A,v,w){const N=mc(A,!0).put({[Iu]:v,value:w});return new Zc(N).toPromise()})).apply(this,arguments)}function ld(){return(ld=(0,b.Z)(function*(A,v){const w=mc(A,!1).get(v),N=yield new Zc(w).toPromise();return void 0===N?null:N.value})).apply(this,arguments)}function Zl(A,v){const w=mc(A,!0).delete(v);return new Zc(w).toPromise()}const D=(()=>{class A{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var w=this;return(0,b.Z)(function*(){return w.db||(w.db=yield Go()),w.db})()}_withRetries(w){var N=this;return(0,b.Z)(function*(){let Y=0;for(;;)try{const le=yield N._openDb();return yield w(le)}catch(le){if(Y++>3)throw le;N.db&&(N.db.close(),N.db=void 0)}})()}initializeServiceWorkerMessaging(){var w=this;return(0,b.Z)(function*(){return bu()?w.initializeReceiver():w.initializeSender()})()}initializeReceiver(){var w=this;return(0,b.Z)(function*(){w.receiver=zl._getInstance(function gl(){return bu()?self:null}()),w.receiver._subscribe("keyChanged",function(){var N=(0,b.Z)(function*(Y,le){return{keyProcessed:(yield w._poll()).includes(le.key)}});return function(Y,le){return N.apply(this,arguments)}}()),w.receiver._subscribe("ping",function(){var N=(0,b.Z)(function*(Y,le){return["keyChanged"]});return function(Y,le){return N.apply(this,arguments)}}())})()}initializeSender(){var w=this;return(0,b.Z)(function*(){var N,Y;if(w.activeServiceWorker=yield function qh(){return Zi.apply(this,arguments)}(),!w.activeServiceWorker)return;w.sender=new cd(w.activeServiceWorker);const le=yield w.sender._send("ping",{},800);le&&null!==(N=le[0])&&void 0!==N&&N.fulfilled&&null!==(Y=le[0])&&void 0!==Y&&Y.value.includes("keyChanged")&&(w.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(w){var N=this;return(0,b.Z)(function*(){if(N.sender&&N.activeServiceWorker&&function Qd(){var A;return(null===(A=navigator?.serviceWorker)||void 0===A?void 0:A.controller)||null}()===N.activeServiceWorker)try{yield N.sender._send("keyChanged",{key:w},N.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,b.Z)(function*(){try{if(!indexedDB)return!1;const w=yield Go();return yield ql(w,Sn,"1"),yield Zl(w,Sn),!0}catch{}return!1})()}_withPendingWrite(w){var N=this;return(0,b.Z)(function*(){N.pendingWrites++;try{yield w()}finally{N.pendingWrites--}})()}_set(w,N){var Y=this;return(0,b.Z)(function*(){return Y._withPendingWrite((0,b.Z)(function*(){return yield Y._withRetries(le=>ql(le,w,N)),Y.localCache[w]=N,Y.notifyServiceWorker(w)}))})()}_get(w){var N=this;return(0,b.Z)(function*(){const Y=yield N._withRetries(le=>function Oo(A,v){return ld.apply(this,arguments)}(le,w));return N.localCache[w]=Y,Y})()}_remove(w){var N=this;return(0,b.Z)(function*(){return N._withPendingWrite((0,b.Z)(function*(){return yield N._withRetries(Y=>Zl(Y,w)),delete N.localCache[w],N.notifyServiceWorker(w)}))})()}_poll(){var w=this;return(0,b.Z)(function*(){const N=yield w._withRetries(Ne=>{const Je=mc(Ne,!1).getAll();return new Zc(Je).toPromise()});if(!N)return[];if(0!==w.pendingWrites)return[];const Y=[],le=new Set;if(0!==N.length)for(const{fbase_key:Ne,value:Je}of N)le.add(Ne),JSON.stringify(w.localCache[Ne])!==JSON.stringify(Je)&&(w.notifyListeners(Ne,Je),Y.push(Ne));for(const Ne of Object.keys(w.localCache))w.localCache[Ne]&&!le.has(Ne)&&(w.notifyListeners(Ne,null),Y.push(Ne));return Y})()}notifyListeners(w,N){this.localCache[w]=N;const Y=this.listeners[w];if(Y)for(const le of Array.from(Y))le(N)}startPolling(){var w=this;this.stopPolling(),this.pollTimer=setInterval((0,b.Z)(function*(){return w._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(w,N){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[w]||(this.listeners[w]=new Set,this._get(w)),this.listeners[w].add(N)}_removeListener(w,N){this.listeners[w]&&(this.listeners[w].delete(N),0===this.listeners[w].size&&delete this.listeners[w]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return A.type="LOCAL",A})();Bs("rcb"),new rr(3e4,6e4);class _l extends ta{constructor(v){super("custom","custom"),this.params=v}_getIdTokenResponse(v){return kr(v,this._buildIdpRequest())}_linkToIdToken(v,w){return kr(v,this._buildIdpRequest(w))}_getReauthenticationResolver(v){return kr(v,this._buildIdpRequest())}_buildIdpRequest(v){const w={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return v&&(w.idToken=v),w}}function dd(A){return $i(A.auth,new _l(A),A.bypassAuthState)}function Yh(A){const{auth:v,user:w}=A;return we(w,v,"internal-error"),function en(A,v){return Un.apply(this,arguments)}(w,new _l(A),A.bypassAuthState)}function Qh(A){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,b.Z)(function*(A){const{auth:v,user:w}=A;return we(w,v,"internal-error"),function J(A,v){return U.apply(this,arguments)}(w,new _l(A),A.bypassAuthState)})).apply(this,arguments)}class Gg{constructor(v,w,N,Y,le=!1){this.auth=v,this.resolver=N,this.user=Y,this.bypassAuthState=le,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(w)?w:[w]}execute(){var v=this;return new Promise(function(){var w=(0,b.Z)(function*(N,Y){v.pendingPromise={resolve:N,reject:Y};try{v.eventManager=yield v.resolver._initialize(v.auth),yield v.onExecution(),v.eventManager.registerConsumer(v)}catch(le){v.reject(le)}});return function(N,Y){return w.apply(this,arguments)}}())}onAuthEvent(v){var w=this;return(0,b.Z)(function*(){const{urlResponse:N,sessionId:Y,postBody:le,tenantId:Ne,error:Je,type:Dt}=v;if(Je)return void w.reject(Je);const dn={auth:w.auth,requestUri:N,sessionId:Y,tenantId:Ne||void 0,postBody:le||void 0,user:w.user,bypassAuthState:w.bypassAuthState};try{w.resolve(yield w.getIdpTask(Dt)(dn))}catch(Fn){w.reject(Fn)}})()}onError(v){this.reject(v)}getIdpTask(v){switch(v){case"signInViaPopup":case"signInViaRedirect":return dd;case"linkViaPopup":case"linkViaRedirect":return Qh;case"reauthViaPopup":case"reauthViaRedirect":return Yh;default:ft(this.auth,"internal-error")}}resolve(v){_t(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(v),this.unregisterAndCleanUp()}reject(v){_t(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(v),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new rr(2e3,1e4);const Du="pendingRedirect",Oc=new Map;class Jh extends Gg{constructor(v,w,N=!1){super(v,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],w,void 0,N),this.eventId=null}execute(){var v=()=>super.execute,w=this;return(0,b.Z)(function*(){let N=Oc.get(w.auth._key());if(!N){try{const le=(yield function Xl(A,v){return Cu.apply(this,arguments)}(w.resolver,w.auth))?yield v().call(w):null;N=()=>Promise.resolve(le)}catch(Y){N=()=>Promise.reject(Y)}Oc.set(w.auth._key(),N)}return w.bypassAuthState||Oc.set(w.auth._key(),()=>Promise.resolve(null)),N()})()}onAuthEvent(v){var w=()=>super.onAuthEvent,N=this;return(0,b.Z)(function*(){if("signInViaRedirect"===v.type)return w().call(N,v);if("unknown"!==v.type){if(v.eventId){const Y=yield N.auth._redirectUserForId(v.eventId);if(Y)return N.user=Y,w().call(N,v);N.resolve(null)}}else N.resolve(null)})()}onExecution(){return(0,b.Z)(function*(){})()}cleanUp(){}}function Cu(){return(Cu=(0,b.Z)(function*(A,v){const w=function Xh(A){return ln(Du,A.config.apiKey,A.name)}(v),N=function Au(A){return We(A._redirectPersistence)}(A);if(!(yield N._isAvailable()))return!1;const Y="true"===(yield N._get(w));return yield N._remove(w),Y})).apply(this,arguments)}function Su(A,v){Oc.set(A._key(),v)}function ih(A,v){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,b.Z)(function*(A,v,w=!1){const N=Yr(A),Y=function yc(A,v){return v?We(v):(we(A._popupRedirectResolver,A,"argument-error"),A._popupRedirectResolver)}(N,v),Ne=yield new Jh(N,Y,w).execute();return Ne&&!w&&(delete Ne.user._redirectEventId,yield N._persistUserIfCurrent(Ne.user),yield N._setRedirectUser(null,v)),Ne})).apply(this,arguments)}class L{constructor(v){this.auth=v,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(v){this.consumers.add(v),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,v)&&(this.sendToConsumer(this.queuedRedirectEvent,v),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(v){this.consumers.delete(v)}onEvent(v){if(this.hasEventBeenHandled(v))return!1;let w=!1;return this.consumers.forEach(N=>{this.isEventForConsumer(v,N)&&(w=!0,this.sendToConsumer(v,N),this.saveEventToCache(v))}),this.hasHandledPotentialRedirect||!function Re(A){switch(A.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pe(A);default:return!1}}(v)||(this.hasHandledPotentialRedirect=!0,w||(this.queuedRedirectEvent=v,w=!0)),w}sendToConsumer(v,w){var N;if(v.error&&!pe(v)){const Y=(null===(N=v.error.code)||void 0===N?void 0:N.split("auth/")[1])||"internal-error";w.onError(at(this.auth,Y))}else w.onAuthEvent(v)}isEventForConsumer(v,w){const N=null===w.eventId||!!v.eventId&&v.eventId===w.eventId;return w.filter.includes(v.type)&&N}hasEventBeenHandled(v){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ee(v))}saveEventToCache(v){this.cachedEventUids.add(ee(v)),this.lastProcessedEventTime=Date.now()}}function ee(A){return[A.type,A.eventId,A.sessionId,A.tenantId].filter(v=>v).join("-")}function pe({type:A,error:v}){return"unknown"===A&&"auth/no-auth-event"===v?.code}function st(){return(st=(0,b.Z)(function*(A,v={}){return rt(A,"GET","/v1/projects",v)})).apply(this,arguments)}const Ht=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Lt=/^https?/;function $n(){return $n=(0,b.Z)(function*(A){if(A.config.emulator)return;const{authorizedDomains:v}=yield function Fe(A){return st.apply(this,arguments)}(A);for(const w of v)try{if(Zn(w))return}catch{}ft(A,"unauthorized-domain")}),$n.apply(this,arguments)}function Zn(A){const v=xn(),{protocol:w,hostname:N}=new URL(v);if(A.startsWith("chrome-extension://")){const Ne=new URL(A);return""===Ne.hostname&&""===N?"chrome-extension:"===w&&A.replace("chrome-extension://","")===v.replace("chrome-extension://",""):"chrome-extension:"===w&&Ne.hostname===N}if(!Lt.test(w))return!1;if(Ht.test(A))return N===A;const Y=A.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Y+"|"+Y+")$","i").test(N)}const Zs=new rr(3e4,6e4);function Ks(){const A=ht().___jsl;if(A?.H)for(const v of Object.keys(A.H))if(A.H[v].r=A.H[v].r||[],A.H[v].L=A.H[v].L||[],A.H[v].r=[...A.H[v].L],A.CP)for(let w=0;w<A.CP.length;w++)A.CP[w]=null}let Mu=null;const xc=new rr(5e3,15e3),ru="__/auth/iframe",Ip="emulator/auth/iframe",f0={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function p0(A){const v=A.config;we(v.authDomain,A,"auth-domain-config-required");const w=v.emulator?_r(v,Ip):`https://${A.config.authDomain}/${ru}`,N={apiKey:v.apiKey,appName:A.name,v:u.Jn},Y=xu.get(A.config.apiHost);Y&&(N.eid=Y);const le=A._getFrameworks();return le.length&&(N.fw=le.join(",")),`${w}?${(0,ne.xO)(N).slice(1)}`}function Ys(){return Ys=(0,b.Z)(function*(A){const v=yield function sh(A){return Mu=Mu||function Ou(A){return new Promise((v,w)=>{var N,Y,le;function Ne(){Ks(),gapi.load("gapi.iframes",{callback:()=>{v(gapi.iframes.getContext())},ontimeout:()=>{Ks(),w(at(A,"network-request-failed"))},timeout:Zs.get()})}if(null!==(Y=null===(N=ht().gapi)||void 0===N?void 0:N.iframes)&&void 0!==Y&&Y.Iframe)v(gapi.iframes.getContext());else{if(null===(le=ht().gapi)||void 0===le||!le.load){const Je=Bs("iframefcb");return ht()[Je]=()=>{gapi.load?Ne():w(at(A,"network-request-failed"))},mo(`${function ya(){return _i.gapiScript}()}?onload=${Je}`).catch(Dt=>w(Dt))}Ne()}}).catch(v=>{throw Mu=null,v})}(A),Mu}(A),w=ht().gapi;return we(w,A,"internal-error"),v.open({where:document.body,url:p0(A),messageHandlersFilter:w.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:f0,dontclear:!0},N=>new Promise(function(){var Y=(0,b.Z)(function*(le,Ne){yield N.restyle({setHideOnLeave:!1});const Je=at(A,"network-request-failed"),Dt=ht().setTimeout(()=>{Ne(Je)},xc.get());function dn(){ht().clearTimeout(Dt),le(N)}N.ping(dn).then(dn,()=>{Ne(Je)})});return function(le,Ne){return Y.apply(this,arguments)}}()))}),Ys.apply(this,arguments)}const g0={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class oh{constructor(v){this.window=v,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const B_="__/auth/handler",V_="emulator/auth/handler",m0=encodeURIComponent("fac");function H_(A,v,w,N,Y,le){return ua.apply(this,arguments)}function ua(){return(ua=(0,b.Z)(function*(A,v,w,N,Y,le){we(A.config.authDomain,A,"auth-domain-config-required"),we(A.config.apiKey,A,"invalid-api-key");const Ne={apiKey:A.config.apiKey,appName:A.name,authType:w,redirectUrl:N,v:u.Jn,eventId:Y};if(v instanceof js){v.setDefaultLanguage(A.languageCode),Ne.providerId=v.providerId||"",(0,ne.xb)(v.getCustomParameters())||(Ne.customParameters=JSON.stringify(v.getCustomParameters()));for(const[Fn,xr]of Object.entries(le||{}))Ne[Fn]=xr}if(v instanceof Br){const Fn=v.getScopes().filter(xr=>""!==xr);Fn.length>0&&(Ne.scopes=Fn.join(","))}A.tenantId&&(Ne.tid=A.tenantId);const Je=Ne;for(const Fn of Object.keys(Je))void 0===Je[Fn]&&delete Je[Fn];const Dt=yield A._getAppCheckToken(),dn=Dt?`#${m0}=${encodeURIComponent(Dt)}`:"";return`${function zg({config:A}){return A.emulator?_r(A,V_):`https://${A.authDomain}/${B_}`}(A)}?${(0,ne.xO)(Je).slice(1)}${dn}`})).apply(this,arguments)}const Pu="webStorageSupport",Wg=class G_{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qc,this._completeRedirectFn=ih,this._overrideRedirectResult=Su}_openPopup(v,w,N,Y){var le=this;return(0,b.Z)(function*(){var Ne;_t(null===(Ne=le.eventManagers[v._key()])||void 0===Ne?void 0:Ne.manager,"_initialize() not called before _openPopup()");const Je=yield H_(v,w,N,xn(),Y);return function ah(A,v,w,N=500,Y=600){const le=Math.max((window.screen.availHeight-Y)/2,0).toString(),Ne=Math.max((window.screen.availWidth-N)/2,0).toString();let Je="";const Dt=Object.assign(Object.assign({},g0),{width:N.toString(),height:Y.toString(),top:le,left:Ne}),dn=(0,ne.z$)().toLowerCase();w&&(Je=Xn(dn)?"_blank":w),Pn(dn)&&(v=v||"http://localhost",Dt.scrollbars="yes");const Fn=Object.entries(Dt).reduce((Ja,[wl,Dp])=>`${Ja}${wl}=${Dp},`,"");if(function Bi(A=(0,ne.z$)()){var v;return Ha(A)&&!(null===(v=window.navigator)||void 0===v||!v.standalone)}(dn)&&"_self"!==Je)return function Ru(A,v){const w=document.createElement("a");w.href=A,w.target=v;const N=document.createEvent("MouseEvent");N.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),w.dispatchEvent(N)}(v||"",Je),new oh(null);const xr=window.open(v||"",Je,Fn);we(xr,A,"popup-blocked");try{xr.focus()}catch{}return new oh(xr)}(v,Je,Wl())})()}_openRedirect(v,w,N,Y){var le=this;return(0,b.Z)(function*(){return yield le._originValidation(v),function Ir(A){ht().location.href=A}(yield H_(v,w,N,xn(),Y)),new Promise(()=>{})})()}_initialize(v){const w=v._key();if(this.eventManagers[w]){const{manager:Y,promise:le}=this.eventManagers[w];return Y?Promise.resolve(Y):(_t(le,"If manager is not set, promise should be"),le)}const N=this.initAndGetManager(v);return this.eventManagers[w]={promise:N},N.catch(()=>{delete this.eventManagers[w]}),N}initAndGetManager(v){var w=this;return(0,b.Z)(function*(){const N=yield function jg(A){return Ys.apply(this,arguments)}(v),Y=new L(v);return N.register("authEvent",le=>(we(le?.authEvent,v,"invalid-auth-event"),{status:Y.onEvent(le.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),w.eventManagers[v._key()]={manager:Y},w.iframes[v._key()]=N,Y})()}_isIframeWebStorageSupported(v,w){this.iframes[v._key()].send(Pu,{type:Pu},Y=>{var le;const Ne=null===(le=Y?.[0])||void 0===le?void 0:le[Pu];void 0!==Ne&&w(!!Ne),ft(v,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(v){const w=v._key();return this.originValidationPromises[w]||(this.originValidationPromises[w]=function un(A){return $n.apply(this,arguments)}(v)),this.originValidationPromises[w]}get _shouldInitProactively(){return Vi()||Kr()||Ha()}};var Rc="@firebase/auth";class af{constructor(v){this.auth=v,this.internalListeners=new Map}getUid(){var v;return this.assertAuthConfigured(),(null===(v=this.auth.currentUser)||void 0===v?void 0:v.uid)||null}getToken(v){var w=this;return(0,b.Z)(function*(){return w.assertAuthConfigured(),yield w.auth._initializationPromise,w.auth.currentUser?{accessToken:yield w.auth.currentUser.getIdToken(v)}:null})()}addAuthTokenListener(v){if(this.assertAuthConfigured(),this.internalListeners.has(v))return;const w=this.auth.onIdTokenChanged(N=>{v(N?.stsTokenManager.accessToken||null)});this.internalListeners.set(v,w),this.updateProactiveRefresh()}removeAuthTokenListener(v){this.assertAuthConfigured();const w=this.internalListeners.get(v);w&&(this.internalListeners.delete(v),w(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const z_=(0,ne.Pz)("authIdTokenMaxAge")||300;let qg=null;const cf=A=>function(){var v=(0,b.Z)(function*(w){const N=w&&(yield w.getIdTokenResult()),Y=N&&((new Date).getTime()-Date.parse(N.issuedAtTime))/1e3;if(Y&&Y>z_)return;const le=N?.token;qg!==le&&(qg=le,yield fetch(A,{method:le?"POST":"DELETE",headers:le?{Authorization:`Bearer ${le}`}:{}}))});return function(w){return v.apply(this,arguments)}}();function lh(A=(0,u.Mq)()){const v=(0,u.qX)(A,"auth");if(v.isInitialized())return v.getImmediate();const w=function Bl(A,v){const w=(0,u.qX)(A,"auth");if(w.isInitialized()){const Y=w.getImmediate(),le=w.getOptions();if((0,ne.vZ)(le,v??{}))return Y;ft(Y,"already-initialized")}return w.initialize({options:v})}(A,{popupRedirectResolver:Wg,persistence:[D,pl,qc]}),N=(0,ne.Pz)("authTokenSyncURL");if(N&&N.match(/^\/[^\/].*/)){const le=cf(N);(function Vl(A,v,w){(0,ne.m9)(A).beforeAuthStateChanged(v,w)})(w,le,()=>le(w.currentUser)),function Ao(A,v,w,N){(0,ne.m9)(A).onIdTokenChanged(v,w,N)}(w,Ne=>le(Ne))}const Y=(0,ne.q4)("auth");return Y&&function yo(A,v,w){const N=Yr(A);we(N._canInitEmulator,N,"emulator-config-failed"),we(/^https?:\/\//.test(v),N,"invalid-emulator-scheme");const Y=!!w?.disableWarnings,le=ba(v),{host:Ne,port:Je}=function hi(A){const v=ba(A),w=/(\/\/)?([^?#/]+)/.exec(A.substr(v.length));if(!w)return{host:"",port:null};const N=w[2].split("@").pop()||"",Y=/^(\[[^\]]+\])(:|$)/.exec(N);if(Y){const le=Y[1];return{host:le,port:Cs(N.substr(le.length+1))}}{const[le,Ne]=N.split(":");return{host:le,port:Cs(Ne)}}}(v);N.config.emulator={url:`${le}//${Ne}${null===Je?"":`:${Je}`}/`},N.settings.appVerificationDisabledForTesting=!0,N.emulatorConfig=Object.freeze({host:Ne,port:Je,protocol:le.replace(":",""),options:Object.freeze({disableWarnings:Y})}),Y||function wa(){function A(){const v=document.createElement("p"),w=v.style;v.innerText="Running in emulator mode. Do not use with production credentials.",w.position="fixed",w.width="100%",w.backgroundColor="#ffffff",w.border=".1em solid #000000",w.color="#b50000",w.bottom="0px",w.left="0px",w.margin="0px",w.zIndex="10000",w.textAlign="center",v.classList.add("firebase-emulator-warning"),document.body.appendChild(v)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",A):A())}()}(w,`http://${Y}`),w}(function Jo(A){_i=A})({loadJS:A=>new Promise((v,w)=>{const N=document.createElement("script");N.setAttribute("src",A),N.onload=v,N.onerror=Y=>{const le=at("internal-error");le.customData=Y,w(le)},N.type="text/javascript",N.charset="UTF-8",function W_(){var A,v;return null!==(v=null===(A=document.getElementsByTagName("head"))||void 0===A?void 0:A[0])&&void 0!==v?v:document}().appendChild(N)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Tp(A){(0,u.Xd)(new fe.wA("auth",(v,{options:w})=>{const N=v.getProvider("app").getImmediate(),Y=v.getProvider("heartbeat"),le=v.getProvider("app-check-internal"),{apiKey:Ne,authDomain:Je}=N.options;we(Ne&&!Ne.includes(":"),"invalid-api-key",{appName:N.name});const Dt={apiKey:Ne,authDomain:Je,clientPlatform:A,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tr(A)},dn=new ma(N,Y,le,Dt);return function Gi(A,v){const w=v?.persistence||[],N=(Array.isArray(w)?w:[w]).map(We);v?.errorMap&&A._updateErrorMap(v.errorMap),A._initializeWithPersistence(N,v?.popupRedirectResolver)}(dn,w),dn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((v,w,N)=>{v.getProvider("auth-internal").initialize()})),(0,u.Xd)(new fe.wA("auth-internal",v=>{const w=Yr(v.getProvider("auth").getImmediate());return new af(w)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,u.KN)(Rc,"1.6.2",function _0(A){switch(A){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(A)),(0,u.KN)(Rc,"1.6.2","esm2017")}("Browser");var y0=K(5619),pd=K(8180),vs=K(3477),$o=K(9468),IE=K(7158),q_=K(4456);let Zg=(()=>{class A{constructor(w,N,Y){this.firestore=w,this.router=N,this.globalErrorHandler=Y,this.userDataSubject=new y0.X(null),this.userData$=this.userDataSubject.asObservable(),this.collectionName="Auth";const le=localStorage.getItem("user");if(le){const Ne=JSON.parse(le);this.userDataSubject.next(Ne)}}registerUser(w,N,Y){var le=this;return(0,b.Z)(function*(){try{const Ne=yield le.createUserWithEmailAndPassword(w,N),Je=Ne.user.uid;yield le.addAdditionalAuthData(Je,Y),yield le.saveUserData(Ne.user,Y),le.router.navigate(["recipes-list"])}catch(Ne){le.globalErrorHandler.handleError(Ne)}})()}loginUser(w,N){var Y=this;return(0,b.Z)(function*(){try{const le=yield Y.signInWithEmailAndPassword(w,N),Ne=le.user.uid,Je=yield Y.getAdditionalAuthDataById(Ne);yield Y.saveUserData(le.user,Je),yield Y.router.navigate(["recipes-list"])}catch(le){Y.globalErrorHandler.handleError(le)}})()}logoutUser(){var w=this;return(0,b.Z)(function*(){try{yield w.signOutAuth(),yield w.clearUserData(),w.router.navigate(["login"])}catch(N){console.error(N)}})()}deleteUserAccount(){var w=this;return(0,b.Z)(function*(){try{const Y=lh().currentUser;Y?(yield function id(A){return Sa.apply(this,arguments)}(Y),yield w.deleteAdditionalAuthData(Y.uid),yield w.clearUserData(),w.router.navigate(["login"])):console.error("No user found to delete.")}catch(N){console.error("No user found to delete.",N)}})()}forgotPassword(w){var N=this;return(0,b.Z)(function*(){try{yield N.sendPasswordResetEmail(w),N.globalErrorHandler.handleError("Password reset email sent, check your inbox."),yield N.router.navigate(["login"])}catch(Y){N.globalErrorHandler.handleError(Y)}})()}updateFavoriteRecipes(w,N,Y){var le=this;return(0,b.Z)(function*(){const Ne=(0,vs.JU)(le.firestore,le.collectionName,N);try{Y?(console.log("remove"),yield(0,vs.r7)(Ne,{favoriteRecipes:(0,vs.Ab)(w)})):(console.log("add"),yield(0,vs.r7)(Ne,{favoriteRecipes:(0,vs.vr)(w)})),console.log("Favorite recipes updated successfully");const Je=yield le.getAdditionalAuthDataById(N);le.userData$.pipe((0,pd.q)(1)).subscribe(Dt=>{Dt?le.saveUserData(Dt,Je).then(()=>console.log("User data saved successfully")).catch(()=>console.error("Failed to save user data")):console.error("User is null")})}catch(Je){le.globalErrorHandler.handleError(Je)}})()}sendPasswordResetEmail(w){return function cl(A,v,w){return $c.apply(this,arguments)}(lh(),w)}createUserWithEmailAndPassword(w,N){return function Ms(A,v,w){return wi.apply(this,arguments)}(lh(),w,N)}signInWithEmailAndPassword(w,N){return function zc(A,v,w){return zi((0,ne.m9)(A),Io.credential(v,w)).catch(function(){var N=(0,b.Z)(function*(Y){throw"auth/password-does-not-meet-requirements"===Y.code&&uc(A),Y});return function(Y){return N.apply(this,arguments)}}())}(lh(),w,N)}signOutAuth(){return function si(A){return(0,ne.m9)(A).signOut()}(lh())}addAdditionalAuthData(w,N){return(0,vs.pl)((0,vs.JU)(this.firestore,this.collectionName,w),N)}getAdditionalAuthDataById(w){var N=this;return(0,b.Z)(function*(){const Y=(0,vs.JU)(N.firestore,N.collectionName,w),le=yield(0,vs.QT)(Y);return le.exists()?le.data():null})()}updateAdditionalAuthData(w,N){if(N){const Y=(0,vs.JU)(this.firestore,this.collectionName,N),le={...w};(0,vs.r7)(Y,le).then(()=>{console.log("Document successfully updated"),this.router.navigate(["/dashboard/user-info"])}).then(()=>{this.userData$.pipe((0,pd.q)(1)).subscribe(Ne=>{Ne?this.saveUserData(Ne,w).then(()=>console.log("User data saved successfully")).catch(()=>console.error("Failed to save user data")):console.error("User is null")})}).catch(Ne=>{this.globalErrorHandler.handleError(Ne)})}else this.globalErrorHandler.handleError("Invalid uid.")}deleteAdditionalAuthData(w){var N=this;return(0,b.Z)(function*(){try{const Y=(0,vs.JU)(N.firestore,N.collectionName,w);yield(0,vs.oe)(Y),console.log("Recipe deleted successfully:",w)}catch(Y){throw N.globalErrorHandler.handleError(Y),Y}})()}saveUserData(w,N){return new Promise((Y,le)=>{if(w&&N){const Ne={...w,...N};localStorage.setItem("user",JSON.stringify(Ne)),this.userDataSubject.next(Ne),Y()}else localStorage.setItem("user","null"),this.userDataSubject.next(null),le()})}clearUserData(){return new Promise((w,N)=>{localStorage.removeItem("user"),this.userDataSubject.next(null),w()})}static#e=this.\u0275fac=function(N){return new(N||A)($o.LFG(vs.gg),$o.LFG(IE.F0),$o.LFG(q_.r))};static#t=this.\u0275prov=$o.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})()},9286:(Ut,Be,K)=>{K.d(Be,{N:()=>be});var b=K(4303);(0,b.KN)("firebase","10.9.0","app");const be={firebaseConfig:{apiKey:"AIzaSyCVbXDjBGUwaOrn1CZYGIwce1dYPKpR7PA",authDomain:"the-natural-way.firebaseapp.com",projectId:"the-natural-way",storageBucket:"the-natural-way.appspot.com",messagingSenderId:"778711637280",appId:"1:778711637280:web:30b52ea2a4e159578fcb45"},cloudinaryConfig:{cloudName:"dsla98vyk",apiKey:"587566495847865",apiSecret:"sJLzQzouizKo51b9Mv0bI8a5pCI",uploadPreset:"the_natural_way"}};(0,b.ZF)(be.firebaseConfig)},9479:(Ut,Be,K)=>{var b=K(6593),ne=K(7158),u=K(9468),be=K(4664),ue=K(7398),fe=K(2096),Te=K(6499),Ve=K(4456),ae=K(5861),de=K(95),Me=K(3424),Se=K(6814);function xe(c,f){1&c&&(u.TgZ(0,"div",22),u._uU(1," Email is required! "),u.qZA())}function Ze(c,f){1&c&&(u.TgZ(0,"div",22),u._uU(1," Please enter a valid email address! "),u.qZA())}function It(c,f){if(1&c&&(u.TgZ(0,"div"),u.YNc(1,xe,2,0,"div",21),u.YNc(2,Ze,2,0,"div",21),u.qZA()),2&c){const o=u.oxw();let d,m;u.xp6(1),u.Q6J("ngIf",null==(d=o.registerForm.get("email"))||null==d.errors?null:d.errors.required),u.xp6(1),u.Q6J("ngIf",null==(m=o.registerForm.get("email"))||null==m.errors?null:m.errors.email)}}function Pt(c,f){1&c&&(u.TgZ(0,"div",22),u._uU(1," Password is required! "),u.qZA())}function Ot(c,f){1&c&&(u.TgZ(0,"div",22),u._uU(1," Password must be at least 6 characters long! "),u.qZA())}function Tn(c,f){if(1&c&&(u.TgZ(0,"div"),u.YNc(1,Pt,2,0,"div",21),u.YNc(2,Ot,2,0,"div",21),u.qZA()),2&c){const o=u.oxw();let d,m;u.xp6(1),u.Q6J("ngIf",null==(d=o.registerForm.get("password"))||null==d.errors?null:d.errors.required),u.xp6(1),u.Q6J("ngIf",null==(m=o.registerForm.get("password"))||null==m.errors?null:m.errors.minlength)}}function Nt(c,f){1&c&&(u.TgZ(0,"div",22),u._uU(1," Repeat password is required! "),u.qZA())}function ft(c,f){1&c&&(u.TgZ(0,"div",22),u._uU(1," Repeat password must be at least 6 characters long! "),u.qZA())}function at(c,f){if(1&c&&(u.TgZ(0,"div"),u.YNc(1,Nt,2,0,"div",21),u.YNc(2,ft,2,0,"div",21),u.qZA()),2&c){const o=u.oxw();let d,m;u.xp6(1),u.Q6J("ngIf",null==(d=o.registerForm.get("repeatPassword"))||null==d.errors?null:d.errors.required),u.xp6(1),u.Q6J("ngIf",null==(m=o.registerForm.get("repeatPassword"))||null==m.errors?null:m.errors.minlength)}}function vt(c,f){1&c&&(u.TgZ(0,"div",22),u._uU(1," First name is required! "),u.qZA())}function yt(c,f){if(1&c&&(u.TgZ(0,"div"),u.YNc(1,vt,2,0,"div",21),u.qZA()),2&c){const o=u.oxw();let d;u.xp6(1),u.Q6J("ngIf",null==(d=o.registerForm.get("firstName"))||null==d.errors?null:d.errors.required)}}function Ge(c,f){1&c&&(u.TgZ(0,"div",22),u._uU(1," Last name is required! "),u.qZA())}function we(c,f){if(1&c&&(u.TgZ(0,"div"),u.YNc(1,Ge,2,0,"div",21),u.qZA()),2&c){const o=u.oxw();let d;u.xp6(1),u.Q6J("ngIf",null==(d=o.registerForm.get("lastName"))||null==d.errors?null:d.errors.required)}}let Xe=(()=>{class c{constructor(o,d,m,I){this.userService=o,this.fb=d,this.formErrorCheckService=m,this.globalErrorHandler=I,this.registerForm=this.fb.group({email:["",[de.kI.required,de.kI.email]],password:["",[de.kI.required,de.kI.minLength(6)]],repeatPassword:["",de.kI.required],firstName:["",de.kI.required],lastName:["",de.kI.required],isActive:[!0,de.kI.required],isAdmin:[!1,de.kI.required],favoriteRecipes:this.fb.array([])})}submitRegisterForm(){var o=this;return(0,ae.Z)(function*(){if(o.registerForm.valid){o.formErrorCheckService.markFormGroupTouched(o.registerForm);const{email:d,password:m,repeatPassword:I,...x}=o.registerForm.value;if(m!==I)return void o.globalErrorHandler.handleError("Password do not match!");try{yield o.userService.registerUser(d,m,x)}catch(Z){o.globalErrorHandler.handleError(Z)}}else{const d=o.formErrorCheckService.getFormGroupErrors(o.registerForm);o.globalErrorHandler.handleError(d)}})()}static#e=this.\u0275fac=function(d){return new(d||c)(u.Y36(Te.K),u.Y36(de.qu),u.Y36(Me.l),u.Y36(Ve.r))};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-register"]],decls:33,vars:6,consts:[[1,"main-long"],[1,"headerImage"],[1,"wrapper"],[1,"fade-in-right",3,"formGroup","ngSubmit"],[1,"title-wrapper"],[1,"title-form"],["for","email"],["type","email","id","email","formControlName","email","autocomplete","email"],[4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password","autocomplete","new-password"],["for","repeatPassword"],["type","password","id","repeatPassword","formControlName","repeatPassword","autocomplete","new-password"],["for","firstName"],["type","text","id","firstName","formControlName","firstName"],["for","lastName"],["type","text","id","lastName","formControlName","lastName"],["type","submit",1,"button",2,"width","100%","margin-top","20px"],[1,"hr"],["href","#","routerLink","/login"],[1,"hint"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(d,m){if(1&d&&(u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"form",3),u.NdJ("ngSubmit",function(){return m.submitRegisterForm()}),u.TgZ(4,"div",4)(5,"h1",5),u._uU(6,"Registration"),u.qZA()(),u.TgZ(7,"label",6),u._uU(8,"Email:"),u.qZA(),u._UZ(9,"input",7),u.YNc(10,It,3,2,"div",8),u.TgZ(11,"label",9),u._uU(12,"Password:"),u.qZA(),u._UZ(13,"input",10),u.YNc(14,Tn,3,2,"div",8),u.TgZ(15,"label",11),u._uU(16,"Repeat password:"),u.qZA(),u._UZ(17,"input",12),u.YNc(18,at,3,2,"div",8),u.TgZ(19,"label",13),u._uU(20,"First name:"),u.qZA(),u._UZ(21,"input",14),u.YNc(22,yt,2,1,"div",8),u.TgZ(23,"label",15),u._uU(24,"Last Name:"),u.qZA(),u._UZ(25,"input",16),u.YNc(26,we,2,1,"div",8),u.TgZ(27,"button",17),u._uU(28," Submit "),u.qZA(),u._UZ(29,"hr",18),u.TgZ(30,"a",19)(31,"div",20),u._uU(32,"Already registered?"),u.qZA()()()()()),2&d){let I,x,Z,se,he;u.xp6(3),u.Q6J("formGroup",m.registerForm),u.xp6(7),u.Q6J("ngIf",(null==(I=m.registerForm.get("email"))?null:I.invalid)&&(null==(I=m.registerForm.get("email"))?null:I.touched)),u.xp6(4),u.Q6J("ngIf",(null==(x=m.registerForm.get("password"))?null:x.invalid)&&(null==(x=m.registerForm.get("password"))?null:x.touched)),u.xp6(4),u.Q6J("ngIf",(null==(Z=m.registerForm.get("repeatPassword"))?null:Z.invalid)&&(null==(Z=m.registerForm.get("repeatPassword"))?null:Z.touched)),u.xp6(4),u.Q6J("ngIf",(null==(se=m.registerForm.get("firstName"))?null:se.invalid)&&(null==(se=m.registerForm.get("firstName"))?null:se.touched)),u.xp6(4),u.Q6J("ngIf",(null==(he=m.registerForm.get("lastName"))?null:he.invalid)&&(null==(he=m.registerForm.get("lastName"))?null:he.touched))}},dependencies:[Se.O5,ne.rH,de._Y,de.Fj,de.JJ,de.JL,de.sg,de.u],styles:[".checkbox-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center}form[_ngcontent-%COMP%]{max-width:600px;margin:-50px auto 50px;padding:32px;background-color:var(--backgroundColor);border-radius:unset;box-shadow:0 1px 3px #0000004d}@media (max-width: 460px){form[_ngcontent-%COMP%]{background-color:var(--backgroundColor);border:none}}"]})}return c})();function _t(c,f){1&c&&(u.TgZ(0,"div",17),u._uU(1," Email is required! "),u.qZA())}function xn(c,f){1&c&&(u.TgZ(0,"div",17),u._uU(1," Invalid email! "),u.qZA())}function dt(c,f){if(1&c&&(u.TgZ(0,"div"),u.YNc(1,_t,2,0,"div",18),u.YNc(2,xn,2,0,"div",18),u.qZA()),2&c){const o=u.oxw();let d,m;u.xp6(1),u.Q6J("ngIf",null==(d=o.logInForm.get("email"))||null==d.errors?null:d.errors.required),u.xp6(1),u.Q6J("ngIf",null==(m=o.logInForm.get("email"))||null==m.errors?null:m.errors.email)}}function _n(c,f){1&c&&(u.TgZ(0,"div",17),u._uU(1," Password is required! "),u.qZA())}function Dn(c,f){1&c&&(u.TgZ(0,"div",17),u._uU(1," Password must be at least 6 characters long! "),u.qZA())}function Hn(c,f){if(1&c&&(u.TgZ(0,"div"),u.YNc(1,_n,2,0,"div",18),u.YNc(2,Dn,2,0,"div",18),u.qZA()),2&c){const o=u.oxw();let d,m;u.xp6(1),u.Q6J("ngIf",null==(d=o.logInForm.get("password"))||null==d.errors?null:d.errors.required),u.xp6(1),u.Q6J("ngIf",null==(m=o.logInForm.get("password"))||null==m.errors?null:m.errors.minlength)}}function rr(c,f){if(1&c&&(u.TgZ(0,"div"),u._uU(1),u.qZA()),2&c){const o=u.oxw();u.xp6(1),u.Oqu(o.loginError)}}let _r=(()=>{class c{constructor(o,d,m,I,x,Z){this.userService=o,this.fb=d,this.route=m,this.router=I,this.formErrorCheckService=x,this.globalErrorHandler=Z,this.loginError=null,this.returnUrl=null,this.logInForm=this.fb.group({email:["",[de.kI.required,de.kI.email]],password:["",[de.kI.required,de.kI.minLength(6)]]})}ngOnInit(){this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/login"}submitLogInForm(){var o=this;return(0,ae.Z)(function*(){if(o.formErrorCheckService.markFormGroupTouched(o.logInForm),o.logInForm.valid){const{email:d,password:m}=o.logInForm.value;try{yield o.userService.loginUser(d,m);const I=o.returnUrl||"/";yield o.router.navigateByUrl(I)}catch(I){o.globalErrorHandler.handleError(I)}}else{const d=o.formErrorCheckService.getFormGroupErrors(o.logInForm);o.globalErrorHandler.handleError(d)}})()}static#e=this.\u0275fac=function(d){return new(d||c)(u.Y36(Te.K),u.Y36(de.qu),u.Y36(ne.gz),u.Y36(ne.F0),u.Y36(Me.l),u.Y36(Ve.r))};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-login"]],decls:30,vars:4,consts:[[1,"main-short"],[1,"headerImage"],[1,"wrapper"],[1,"fade-in-right",3,"formGroup","ngSubmit"],[1,"title-wrapper"],[1,"title-form"],[1,"formGroup"],["for","email"],["type","text","id","email","formControlName","email","autocomplete","email"],[4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password","autocomplete","current-password"],["type","submit",1,"button",2,"width","100%"],[1,"hr"],["href","#","routerLink","/register"],[1,"hint"],["href","#","routerLink","/forgot-password"],[1,"errors"],["class","errors",4,"ngIf"]],template:function(d,m){if(1&d&&(u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"form",3),u.NdJ("ngSubmit",function(){return m.submitLogInForm()}),u.TgZ(4,"div",4)(5,"h1",5),u._uU(6,"Login"),u.qZA()(),u.TgZ(7,"div",6)(8,"label",7),u._uU(9,"Email"),u.qZA(),u._UZ(10,"input",8),u.YNc(11,dt,3,2,"div",9),u.qZA(),u.TgZ(12,"div",6)(13,"label",10),u._uU(14,"Password"),u.qZA(),u._UZ(15,"input",11),u.YNc(16,Hn,3,2,"div",9),u.qZA(),u._UZ(17,"br"),u.TgZ(18,"div",6)(19,"button",12),u._uU(20,"Submit"),u.qZA()(),u.YNc(21,rr,2,1,"div",9),u._UZ(22,"hr",13),u.TgZ(23,"div")(24,"a",14)(25,"div",15),u._uU(26,"Don't have a Registration yet?"),u.qZA()(),u.TgZ(27,"a",16)(28,"div",17),u._uU(29,"Forgot your password?"),u.qZA()()()()()()),2&d){let I,x;u.xp6(3),u.Q6J("formGroup",m.logInForm),u.xp6(8),u.Q6J("ngIf",(null==(I=m.logInForm.get("email"))?null:I.invalid)&&(null==(I=m.logInForm.get("email"))?null:I.touched)),u.xp6(5),u.Q6J("ngIf",(null==(x=m.logInForm.get("password"))?null:x.invalid)&&(null==(x=m.logInForm.get("password"))?null:x.touched)),u.xp6(5),u.Q6J("ngIf",m.loginError)}},dependencies:[Se.O5,ne.rH,de._Y,de.Fj,de.JJ,de.JL,de.sg,de.u],styles:["form[_ngcontent-%COMP%]{max-width:600px;margin:-50px auto 50px;padding:32px;background-color:var(--backgroundColor);border-radius:unset;box-shadow:0 1px 3px #0000004d}@media (max-width: 460px){form[_ngcontent-%COMP%]{background-color:var(--backgroundColor);border:none}}"]})}return c})();var ke=K(3585);let je=(()=>{class c{constructor(o){this.elementRef=o,this.animationClass=""}ngAfterViewInit(){const o=new IntersectionObserver(d=>{d.forEach(m=>{m.isIntersecting&&(this.elementRef.nativeElement.classList.add(this.animationClass),o.unobserve(m.target))})});o.observe(this.elementRef.nativeElement)}static#e=this.\u0275fac=function(d){return new(d||c)(u.Y36(u.SBq))};static#t=this.\u0275dir=u.lG2({type:c,selectors:[["","appAnimateOnScroll",""]],inputs:{animationClass:"animationClass"}})}return c})();const et=function(c){return["/recipe",c]};function He(c,f){if(1&c&&(u.TgZ(0,"a",11)(1,"div",12)(2,"div",13),u._UZ(3,"img",14),u.qZA(),u.TgZ(4,"p",15),u._uU(5),u.qZA()()()),2&c){const o=u.oxw().$implicit;u.Q6J("routerLink",u.VKq(4,et,o.id)),u.xp6(3),u.s9C("alt",o.title),u.Q6J("src",o.image_recipe[0].image_recipe,u.LSH),u.xp6(2),u.Oqu(o.title)}}function rt(c,f){if(1&c&&(u.TgZ(0,"div",9),u.YNc(1,He,6,6,"a",10),u.qZA()),2&c){const o=f.$implicit;u.Q6J("animationClass","fade-in-left"),u.xp6(1),u.Q6J("ngIf",o.public)}}function wt(c,f){if(1&c){const o=u.EpF();u.TgZ(0,"div")(1,"button",16),u.NdJ("click",function(){u.CHM(o);const m=u.oxw();return u.KtG(m.getRecipesLoadMore())}),u._uU(2," Load More "),u.qZA()()}}function kt(c,f){1&c&&(u.TgZ(0,"p")(1,"i"),u._uU(2," All recipes are now displayed! "),u.qZA()())}let Gt=(()=>{class c{constructor(o){this.recipeService=o,this.recipes=[],this.showLoadMoreButton=!0}ngOnInit(){var o=this;return(0,ae.Z)(function*(){yield o.getRecipes(),o.showLoadMoreButton=!0})()}getRecipesLoadMore(){var o=this;return(0,ae.Z)(function*(){const{data:d,hasMore:m}=yield o.recipeService.getRecipesLoadMore();o.showLoadMoreButton=m,o.recipes.push(...d)})()}getRecipes(){var o=this;return(0,ae.Z)(function*(){const{data:d}=yield o.recipeService.getRecipes();o.recipes.push(...d)})()}static#e=this.\u0275fac=function(d){return new(d||c)(u.Y36(ke.j))};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-recipes-list"]],decls:13,vars:4,consts:[[1,"main-long"],[1,"headerImage"],["appAnimateOnScroll","",1,"wrapper-list",3,"animationClass"],[1,"header-wrapper",2,"text-align","center"],[1,"title",2,"font-size","36px","line-height","1.2"],[1,"recipe-list"],["appAnimateOnScroll","",3,"animationClass",4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["allRecipesShown",""],["appAnimateOnScroll","",3,"animationClass"],[3,"routerLink",4,"ngIf"],[3,"routerLink"],[1,"recipe-item"],[1,"recipe-image"],[3,"src","alt"],[1,"recipe-title"],[1,"button-img",3,"click"]],template:function(d,m){if(1&d&&(u.TgZ(0,"main",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"div",3)(4,"h1",4),u._uU(5,"Recipes"),u.qZA(),u.TgZ(6,"p"),u._uU(7,"Explore our herbal recipes for vitality and well-being."),u.qZA()(),u.TgZ(8,"div",5),u.YNc(9,rt,2,2,"div",6),u.qZA(),u.YNc(10,wt,3,0,"div",7),u.YNc(11,kt,3,0,"ng-template",null,8,u.W1O),u.qZA()()),2&d){const I=u.MAs(12);u.xp6(2),u.Q6J("animationClass","fade-in-bottom"),u.xp6(7),u.Q6J("ngForOf",m.recipes),u.xp6(1),u.Q6J("ngIf",m.showLoadMoreButton)("ngIfElse",I)}},dependencies:[Se.sg,Se.O5,ne.rH,je],styles:[".wrapper-list[_ngcontent-%COMP%]{margin:-50px auto 50px;max-width:1200px;background-color:var(--backgroundColor);box-shadow:0 1px 3px #0000004d;padding:32px}.title-wrapper[_ngcontent-%COMP%]{margin-left:10px}.recipe-list[_ngcontent-%COMP%]{position:relative;display:grid;grid-template-columns:repeat(4,1fr);row-gap:30px;column-gap:10px;margin-bottom:50px}.recipe-item[_ngcontent-%COMP%]{margin:5px;position:relative}.recipe-image[_ngcontent-%COMP%]{padding:5px;position:relative;transition:transform 1s ease-in-out}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;width:100%;object-fit:fill;border-radius:4px}.recipe-item[_ngcontent-%COMP%]:hover   .recipe-image[_ngcontent-%COMP%]{transform:translateY(12%)}@media only screen and (max-width: 460px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 20px 50px;padding:16px}.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 461px) and (max-width: 767px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 768px) and (max-width: 1023px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);column-gap:10px;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}@media (min-width: 1024px) and (max-width: 1440px){.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);column-gap:10px;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}"]})}return c})();var hn=K(8850),fn=K(3477);function yn(c,f){1&c&&(u.TgZ(0,"div",8),u._uU(1," Please write a comment! "),u.qZA())}function St(c,f){1&c&&(u.TgZ(0,"div",8),u._uU(1," Comment must be at least 10 characters long. "),u.qZA())}function jn(c,f){1&c&&(u.TgZ(0,"div",8),u._uU(1," Comment cannot exceed 500 characters. "),u.qZA())}function Tr(c,f){if(1&c&&(u.TgZ(0,"div"),u.YNc(1,yn,2,0,"div",7),u.YNc(2,St,2,0,"div",7),u.YNc(3,jn,2,0,"div",7),u.qZA()),2&c){const o=u.oxw();let d,m,I;u.xp6(1),u.Q6J("ngIf",null==(d=o.commentForm.get("comment"))||null==d.errors?null:d.errors.required),u.xp6(1),u.Q6J("ngIf",null==(m=o.commentForm.get("comment"))||null==m.errors?null:m.errors.minlength),u.xp6(1),u.Q6J("ngIf",null==(I=o.commentForm.get("comment"))||null==I.errors?null:I.errors.maxlength)}}let br=(()=>{class c{constructor(o,d,m,I,x){this.fb=o,this.commentService=d,this.userService=m,this.globalErrorHandler=I,this.timestamp=new Date,this.fullName="",this.firestore=x}ngOnInit(){this.commentForm=this.fb.group({name:[""],comment:["",[de.kI.required,de.kI.minLength(10),de.kI.maxLength(500)]],recipeId:[this.recipeId],create_time:[this.timestamp],uid:[""]}),this.userService.userData$.subscribe({next:o=>{o?(this.userData=o,this.fullName=this.userData.firstName+" "+this.userData.lastName):this.fullName="Anonymous"},error:o=>{this.globalErrorHandler.handleError(o)}})}onSubmit(){var o=this;return(0,ae.Z)(function*(){if(o.timestamp=new Date,o.commentForm.valid){o.commentForm.patchValue({name:o.fullName}),o.commentForm.patchValue({recipeId:o.recipeId}),o.commentForm.patchValue({create_time:o.timestamp}),o.userData&&o.commentForm.patchValue({uid:o.userData.uid});try{(yield o.commentService.addComment(o.commentForm.value))?o.commentForm.reset():o.globalErrorHandler.handleError("Error adding comment.")}catch(d){o.globalErrorHandler.handleError(d)}}})()}static#e=this.\u0275fac=function(d){return new(d||c)(u.Y36(de.qu),u.Y36(hn.O),u.Y36(Te.K),u.Y36(Ve.r),u.Y36(fn.gg))};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-comment-form"]],inputs:{recipeId:"recipeId"},decls:9,vars:2,consts:[[1,"commentWrapper"],["id","commentForm",3,"formGroup","ngSubmit"],[1,"form-group"],["placeholder","Write your comment ...","id","comment","formControlName","comment",1,"header-user-search"],["type","submit",1,"header-user-action","header-user-action-btn"],[1,"fa-regular","fa-paper-plane"],[4,"ngIf"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(d,m){if(1&d&&(u.TgZ(0,"div",0)(1,"form",1),u.NdJ("ngSubmit",function(){return m.onSubmit()}),u._UZ(2,"br"),u.TgZ(3,"div",2),u._UZ(4,"input",3),u.TgZ(5,"button",4),u._UZ(6,"i",5),u.qZA()(),u.YNc(7,Tr,4,3,"div",6),u._UZ(8,"br"),u.qZA()()),2&d){let I;u.xp6(1),u.Q6J("formGroup",m.commentForm),u.xp6(6),u.Q6J("ngIf",null==(I=m.commentForm.get("comment"))?null:I.touched)}},dependencies:[Se.O5,de._Y,de.Fj,de.JJ,de.JL,de.sg,de.u],styles:["form#commentForm[_ngcontent-%COMP%]{background-color:var(--backgroundColor);max-width:100%;margin-top:10px}.form-group[_ngcontent-%COMP%]{position:relative}.header-user-search[_ngcontent-%COMP%]{width:100%;padding:0 20px;height:40px;border:1px solid #c6c6c6;border-radius:20px;background:var(--mainWhiteColor);resize:none}.header-user-action[_ngcontent-%COMP%]{border-radius:50%;background:var(--mainYellowColor);width:40px;height:40px;border:unset}.header-user-action-btn[_ngcontent-%COMP%]{position:absolute;right:0;top:0;bottom:0}"]})}return c})();var Ae=K(2732);function Ee(c,f){1&c&&u._UZ(0,"br")}function Ke(c,f){1&c&&(u.TgZ(0,"div"),u._UZ(1,"br"),u.qZA())}function ut(c,f){if(1&c&&(u.TgZ(0,"div",21),u._uU(1),u.YNc(2,Ke,2,0,"div",7),u.qZA()),2&c){const o=u.oxw();u.xp6(1),u.hij(" ",null==o.recipe?null:o.recipe.summary," "),u.xp6(1),u.Q6J("ngIf",!(null!=o.recipe&&o.recipe.summary))}}function gt(c,f){if(1&c){const o=u.EpF();u.TgZ(0,"span",22),u.NdJ("click",function(){u.CHM(o);const m=u.oxw();return u.KtG(m.navigateToRecipeDelete())}),u._UZ(1,"i",23),u.qZA()}}function Rt(c,f){if(1&c){const o=u.EpF();u.TgZ(0,"span",22),u.NdJ("click",function(){u.CHM(o);const m=u.oxw();return u.KtG(m.navigateToRecipeEdit())}),u._UZ(1,"i",24),u.qZA()}}function wr(c,f){if(1&c&&(u.TgZ(0,"li"),u._UZ(1,"img",28),u.qZA()),2&c){const o=f.$implicit;u.xp6(1),u.Q6J("src",o.image_recipe,u.LSH)}}function pn(c,f){if(1&c&&(u.TgZ(0,"ul",25),u.YNc(1,wr,2,1,"li",26),u.TgZ(2,"div",27),u._uU(3),u.qZA()()),2&c){const o=u.oxw();u.xp6(1),u.Q6J("ngForOf",null==o.recipe?null:o.recipe.image_recipe),u.xp6(2),u.hij("Added by ",null==o.recipe?null:o.recipe.author,"")}}function In(c,f){if(1&c&&(u.TgZ(0,"div")(1,"span"),u._UZ(2,"i",29),u._uU(3),u.qZA()()),2&c){const o=u.oxw();u.xp6(3),u.hij(" ",null==o.recipe||null==o.recipe.likes?null:o.recipe.likes.length,"")}}function Yt(c,f){if(1&c&&(u.TgZ(0,"div")(1,"span"),u._uU(2),u._UZ(3,"i",30),u.qZA()()),2&c){const o=u.oxw();u.xp6(2),u.hij("",o.comments.length," ")}}function cn(c,f){1&c&&(u.ynx(0),u._UZ(1,"i",29),u.BQk())}function yr(c,f){1&c&&u._UZ(0,"i",36)}function Xt(c,f){if(1&c){const o=u.EpF();u.TgZ(0,"button",33),u.NdJ("click",function(){u.CHM(o);const m=u.oxw(2);return u.KtG(m.updateRecipeLikes())}),u.YNc(1,cn,2,0,"ng-container",34),u.YNc(2,yr,1,0,"ng-template",null,35,u.W1O),u.qZA()}if(2&c){const o=u.MAs(3),d=u.oxw(2);u.xp6(1),u.Q6J("ngIf",d.userData&&d.recipe&&d.recipe.likes&&(null==d.userData?null:d.userData.uid)&&d.recipe.likes.includes(d.userData.uid))("ngIfElse",o)}}function Dr(c,f){1&c&&(u.ynx(0),u._UZ(1,"i",37),u.BQk())}function Cr(c,f){1&c&&u._UZ(0,"i",38)}function vn(c,f){if(1&c){const o=u.EpF();u.TgZ(0,"button",33),u.NdJ("click",function(){u.CHM(o);const m=u.oxw(2);return u.KtG(m.updateFavoriteRecipes())}),u.YNc(1,Dr,2,0,"ng-container",34),u.YNc(2,Cr,1,0,"ng-template",null,35,u.W1O),u.qZA()}if(2&c){const o=u.MAs(3),d=u.oxw(2);u.xp6(1),u.Q6J("ngIf",d.recipe&&d.userData&&d.userData.favoriteRecipes&&d.userData.favoriteRecipes.includes(d.recipeId||""))("ngIfElse",o)}}function or(c,f){if(1&c){const o=u.EpF();u.TgZ(0,"button",33),u.NdJ("click",function(){u.CHM(o);const m=u.oxw(2);return u.KtG(m.toggleCommentForm())}),u._UZ(1,"i",39),u.qZA()}}function qn(c,f){if(1&c){const o=u.EpF();u.TgZ(0,"button",33),u.NdJ("click",function(){u.CHM(o);const m=u.oxw(2);return u.KtG(m.toggleCommentForm())}),u._UZ(1,"i",30),u.qZA()}}function ir(c,f){if(1&c&&(u.TgZ(0,"div",31),u.YNc(1,Xt,4,2,"button",32),u.YNc(2,vn,4,2,"button",32),u.YNc(3,or,2,0,"button",32),u.YNc(4,qn,2,0,"button",32),u.qZA()),2&c){const o=u.oxw();u.xp6(1),u.Q6J("ngIf",o.userData),u.xp6(1),u.Q6J("ngIf",o.userData),u.xp6(1),u.Q6J("ngIf",!o.showCommentForm),u.xp6(1),u.Q6J("ngIf",o.showCommentForm)}}function Ln(c,f){if(1&c&&(u.TgZ(0,"div"),u._UZ(1,"app-comment-form",40),u.qZA()),2&c){const o=u.oxw();u.xp6(1),u.Q6J("recipeId",o.recipeId)}}function ni(c,f){1&c&&(u.TgZ(0,"div",15),u._UZ(1,"hr"),u.TgZ(2,"p"),u._uU(3,"\xa0\xa0Ingredients\xa0\xa0"),u.qZA(),u._UZ(4,"hr"),u.qZA())}function qt(c,f){if(1&c&&(u.TgZ(0,"li"),u._uU(1),u.qZA()),2&c){const o=u.oxw().$implicit;u.xp6(1),u.lnq(" ",o.name," - ",o.amount," ",o.unit," ")}}function Yi(c,f){if(1&c&&(u.TgZ(0,"ul",41),u.YNc(1,qt,2,3,"li",7),u.qZA()),2&c){const o=u.oxw();u.xp6(1),u.Q6J("ngIf",null==o.recipe?null:o.recipe.ingredients)}}function Zr(c,f){if(1&c&&(u.TgZ(0,"li"),u._UZ(1,"iframe",43),u.ALo(2,"safeUrl"),u.qZA()),2&c){const o=f.$implicit;u.xp6(1),u.Q6J("src",u.lcZ(2,1,o.video_recipe),u.uOi)}}function jr(c,f){if(1&c&&(u.TgZ(0,"div",42)(1,"div",15),u._UZ(2,"hr"),u.TgZ(3,"p"),u._uU(4,"\xa0\xa0Video\xa0\xa0"),u.qZA(),u._UZ(5,"hr"),u.qZA(),u._UZ(6,"br"),u.TgZ(7,"ul"),u.YNc(8,Zr,3,3,"li",26),u.qZA()()),2&c){const o=u.oxw();u.xp6(8),u.Q6J("ngForOf",null==o.recipe?null:o.recipe.video_recipe)}}function it(c,f){1&c&&(u.TgZ(0,"div",15),u._UZ(1,"hr"),u.TgZ(2,"p"),u._uU(3,"\xa0\xa0Comments\xa0\xa0"),u.qZA(),u._UZ(4,"hr"),u.qZA())}function Ce(c,f){if(1&c){const o=u.EpF();u.TgZ(0,"span",22),u.NdJ("click",function(){u.CHM(o);const m=u.oxw().$implicit,I=u.oxw(2);return u.KtG(I.deleteComment(m.id))}),u._UZ(1,"i",23),u.qZA()}}function Qe(c,f){if(1&c){const o=u.EpF();u.TgZ(0,"span",22),u.NdJ("click",function(){u.CHM(o);const m=u.oxw().$implicit,I=u.oxw(2);return u.KtG(I.navigateToCommentEdit(m.id))}),u._UZ(1,"i",24),u.qZA()}}function Et(c,f){if(1&c&&(u.TgZ(0,"ul")(1,"li"),u._uU(2),u.qZA(),u.TgZ(3,"li"),u._uU(4),u.qZA(),u.TgZ(5,"li",45)(6,"p"),u._uU(7),u.ALo(8,"date"),u.qZA(),u.TgZ(9,"div",46),u.YNc(10,Ce,2,0,"span",10),u.YNc(11,Qe,2,0,"span",10),u.qZA()(),u._UZ(12,"hr",47),u.qZA()),2&c){const o=f.$implicit,d=u.oxw(2);u.xp6(2),u.Oqu(o.name),u.xp6(2),u.Oqu(o.comment),u.xp6(3),u.hij(" ",u.xi3(8,5,o.create_time.toDate(),"dd/MM/yyyy HH:mm:ss")," "),u.xp6(3),u.Q6J("ngIf",d.userData&&o.uid==d.userData.uid),u.xp6(1),u.Q6J("ngIf",d.userData&&o.uid==d.userData.uid)}}function $t(c,f){if(1&c&&(u.TgZ(0,"section",44),u.YNc(1,Et,13,8,"ul",26),u.qZA()),2&c){const o=u.oxw();u.Q6J("animationClass","fade-in-top"),u.xp6(1),u.Q6J("ngForOf",o.comments)}}let Zt=(()=>{class c{constructor(o,d,m,I,x,Z){var se=this;this.route=o,this.recipeService=d,this.commentService=m,this.userService=I,this.router=x,this.globalErrorHandler=Z,this.recipe=null,this.recipeId="",this.comments=[],this.showCommentForm=!1,this.route.paramMap.subscribe(function(){var he=(0,ae.Z)(function*(ye){se.recipeId=ye.get("id")});return function(ye){return he.apply(this,arguments)}}()),m.getCommentAddedObservable().subscribe((0,ae.Z)(function*(){console.log("Comment successfully added."),yield se.loadCommentsForRecipe()}))}loadRecipeData(){var o=this;return(0,ae.Z)(function*(){if(o.recipeId)try{o.recipe=yield o.recipeService.getRecipeById(o.recipeId),o.comments=yield o.commentService.getCommentsForRecipe(o.recipeId)}catch(d){o.globalErrorHandler.handleError(d)}})()}navigateToRecipeEdit(){var o=this;return(0,ae.Z)(function*(){yield o.router.navigate(["/dashboard/recipe-edit",o.recipeId])})()}navigateToRecipeDelete(){var o=this;return(0,ae.Z)(function*(){yield o.router.navigate(["/dashboard/recipe-delete",o.recipeId])})()}ngOnInit(){var o=this;return(0,ae.Z)(function*(){yield o.loadRecipeData(),o.userService.userData$.subscribe(d=>{d&&(o.userData=d)})})()}toggleCommentForm(){this.showCommentForm=!this.showCommentForm}navigateToCommentEdit(o){var d=this;return(0,ae.Z)(function*(){yield d.router.navigate(["/dashboard/comment-edit",o])})()}deleteComment(o){var d=this;return(0,ae.Z)(function*(){try{yield d.commentService.deleteComment(o),yield d.loadRecipeData()}catch(m){d.globalErrorHandler.handleError(m)}})()}updateRecipeLikes(){var o=this;return(0,ae.Z)(function*(){if(!o.recipe)return void o.globalErrorHandler.handleError("Recipe data is missing.");if(!o.userData)return void o.globalErrorHandler.handleError("User is not logged in.");let d=o.recipe.likes.includes(o.userData.uid);yield o.recipeService.updateRecipeLikes(o.recipeId,o.userData.uid,d),yield o.loadRecipeData()})()}updateFavoriteRecipes(){var o=this;return(0,ae.Z)(function*(){if(o.recipe){if(o.userData&&o.recipeId){let d=o.userData.favoriteRecipes.includes(o.recipeId);yield o.userService.updateFavoriteRecipes(o.recipeId,o.userData.uid,d),yield o.loadRecipeData()}}else o.globalErrorHandler.handleError("Recipe data is missing.")})()}loadCommentsForRecipe(){var o=this;return(0,ae.Z)(function*(){o.recipeId&&(o.comments=yield o.commentService.getCommentsForRecipe(o.recipeId))})()}static#e=this.\u0275fac=function(d){return new(d||c)(u.Y36(ne.gz),u.Y36(ke.j),u.Y36(hn.O),u.Y36(Te.K),u.Y36(ne.F0),u.Y36(Ve.r))};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-recipe"]],decls:37,vars:18,consts:[[1,"mainLong"],[1,"headerImage"],[1,"wrapper-list"],["appAnimateOnScroll","",1,"recipe-container",3,"animationClass"],[1,"title-wrapper"],[1,"title"],[1,"recipe-subtitle"],[4,"ngIf"],["class","recipe-summary",4,"ngIf"],[1,"commentBtnWrapper",2,"justify-content","flex-end"],["class","button-img",3,"click",4,"ngIf"],[1,"recipe-hero"],["class","recipe-image",4,"ngIf"],[1,"recipe-info"],["class","buttons-grid",4,"ngIf"],[1,"divider"],[1,"recipe-description-text","description"],["class","divider",4,"ngIf"],["class","recipe-ingredients",4,"ngFor","ngForOf"],["class","recipe-videos",4,"ngIf"],["class","comments","appAnimateOnScroll","",3,"animationClass",4,"ngIf"],[1,"recipe-summary"],[1,"button-img",3,"click"],[1,"fa-solid","fa-trash"],[1,"fa-regular","fa-pen-to-square"],[1,"recipe-image"],[4,"ngFor","ngForOf"],[2,"font-size","12px"],["alt","Image of a recipe",3,"src"],[1,"fa-solid","fa-thumbs-up"],[1,"fa-solid","fa-comment"],[1,"buttons-grid"],["class","",3,"click",4,"ngIf"],[1,"",3,"click"],[4,"ngIf","ngIfElse"],["notLiked",""],[1,"fa-regular","fa-thumbs-up"],[1,"fa-solid","fa-heart"],[1,"fa-regular","fa-heart"],[1,"fa-regular","fa-comment"],[3,"recipeId"],[1,"recipe-ingredients"],[1,"recipe-videos"],["width","560","height","315","allowfullscreen","",3,"src"],["appAnimateOnScroll","",1,"comments",3,"animationClass"],[1,"comments-last"],[1,"commentBtnWrapper"],[1,"hr"]],template:function(d,m){1&d&&(u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"div",3)(4,"div")(5,"div",4)(6,"h1",5),u._uU(7),u.qZA()(),u.TgZ(8,"h3",6),u._uU(9),u.qZA(),u.YNc(10,Ee,1,0,"br",7),u.YNc(11,ut,3,2,"div",8),u.TgZ(12,"div",9),u.YNc(13,gt,2,0,"span",10),u.YNc(14,Rt,2,0,"span",10),u.qZA()(),u.TgZ(15,"div",11),u.YNc(16,pn,4,2,"ul",12),u.TgZ(17,"div",13),u.YNc(18,In,4,1,"div",7),u.YNc(19,Yt,4,1,"div",7),u.qZA(),u.YNc(20,ir,5,4,"div",14),u.YNc(21,Ln,2,1,"div",7),u.TgZ(22,"div",15),u._UZ(23,"hr"),u.TgZ(24,"p"),u._uU(25,"\xa0\xa0Description\xa0\xa0"),u.qZA(),u._UZ(26,"hr"),u.qZA(),u._UZ(27,"br"),u.TgZ(28,"p",16),u._uU(29),u.qZA(),u._UZ(30,"br"),u.YNc(31,ni,5,0,"div",17),u._UZ(32,"br"),u.YNc(33,Yi,2,1,"ul",18),u.YNc(34,jr,9,1,"div",19),u.YNc(35,it,5,0,"div",17),u.YNc(36,$t,2,2,"section",20),u.qZA()()()()),2&d&&(u.xp6(3),u.Q6J("animationClass","fade-in-bottom"),u.xp6(4),u.Oqu(null==m.recipe?null:m.recipe.title),u.xp6(2),u.Oqu(null==m.recipe?null:m.recipe.subtitle),u.xp6(1),u.Q6J("ngIf",!(null!=m.recipe&&m.recipe.summary)),u.xp6(1),u.Q6J("ngIf",null==m.recipe?null:m.recipe.summary),u.xp6(2),u.Q6J("ngIf",m.userData&&m.userData.uid==(null==m.recipe?null:m.recipe.uid)),u.xp6(1),u.Q6J("ngIf",m.userData&&m.userData.uid==(null==m.recipe?null:m.recipe.uid)),u.xp6(2),u.Q6J("ngIf",(null==m.recipe?null:m.recipe.image_recipe)&&(null==m.recipe||null==m.recipe.image_recipe?null:m.recipe.image_recipe.length)>0),u.xp6(2),u.Q6J("ngIf",(null==m.recipe||null==m.recipe.likes?null:m.recipe.likes.length)>0),u.xp6(1),u.Q6J("ngIf",m.comments&&m.comments.length>0),u.xp6(1),u.Q6J("ngIf",m.userData),u.xp6(1),u.Q6J("ngIf",m.showCommentForm),u.xp6(8),u.hij(" ",null==m.recipe?null:m.recipe.description," "),u.xp6(2),u.Q6J("ngIf",null==m.recipe?null:m.recipe.ingredients),u.xp6(2),u.Q6J("ngForOf",null==m.recipe?null:m.recipe.ingredients),u.xp6(1),u.Q6J("ngIf",(null==m.recipe?null:m.recipe.video_recipe)&&(null==m.recipe||null==m.recipe.video_recipe?null:m.recipe.video_recipe.length)>0),u.xp6(1),u.Q6J("ngIf",m.comments.length>0),u.xp6(1),u.Q6J("ngIf",m.comments.length>0))},dependencies:[Se.sg,Se.O5,br,je,Se.uU,Ae.Q],styles:[".recipe-container[_ngcontent-%COMP%]{background-color:var(--backgroundColor);max-width:800px;margin:-50px auto 50px;padding:32px;box-shadow:0 1px 3px #0000004d}.title[_ngcontent-%COMP%]{font-size:28px}.recipe-subtitle[_ngcontent-%COMP%]{font-size:14px;margin-top:-10px;color:var(--mainGreyColor);font-style:italic;white-space:pre-wrap}.recipe-summary[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;text-align:center;font-style:italic;white-space:pre-wrap}.recipe-hero[_ngcontent-%COMP%]{grid-template-columns:70% 30%;gap:20px}ul.recipe-image[_ngcontent-%COMP%]{padding-left:unset}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;margin-bottom:10px}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:5px}.recipe-description-text[_ngcontent-%COMP%]{font-size:16px;white-space:pre-wrap}.recipe-ingredients[_ngcontent-%COMP%]{padding:0 16px}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;list-style-type:disc}.recipe-videos[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-top:20px}.recipe-videos[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;max-width:800px;height:450px}.recipe-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:10px;padding:0 10px}.buttons-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);border-radius:8px;box-shadow:0 1px 3px #0000004d;overflow:hidden}.buttons-grid[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:unset;background-color:var(--backgroundColor);transition:.5s ease-in-out}.buttons-grid[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--mainMagnoliaColor)}.buttons-grid[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{background-color:var(--backgroundColor)}.buttons-grid[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--textColor)}.like-wrapper[_ngcontent-%COMP%]{display:flex;gap:20px;align-items:baseline}.comments[_ngcontent-%COMP%]{border:1px solid var(--mainMagnoliaColor);margin:30px 0;padding:20px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:10px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px;padding-left:5px}.comments[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--mainGreyColor)}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(odd){background-color:var(--backgroundColor);padding-left:5px;border-radius:5px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(2n){background-color:var(--mainMagnoliaColor);font-style:italic;border-radius:5px}.comments-last[_ngcontent-%COMP%]{display:flex;justify-content:space-between}@media (max-width: 640px){.buttons-img[_ngcontent-%COMP%]{flex-direction:column-reverse}.buttons[_ngcontent-%COMP%]{display:flex;padding:unset;width:100%;justify-content:space-around;align-items:stretch;gap:10px}.like-wrapper[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:space-between}}"]})}return c})();var Wn=K(1176);function Q(c,f){1&c&&(u.TgZ(0,"div")(1,"main",2),u._UZ(2,"div",3),u.TgZ(3,"div",4)(4,"div",5)(5,"div",6)(6,"h1",7),u._uU(7," We're sorry, but we couldn't find the result you're looking for! "),u.qZA()(),u.TgZ(8,"div",8),u._UZ(9,"app-logo-svg"),u.qZA()()()()())}const B=function(c){return["/recipe",c]};function G(c,f){if(1&c&&(u.TgZ(0,"div")(1,"a",13)(2,"div",14)(3,"div",15),u._UZ(4,"img",16),u.qZA(),u.TgZ(5,"p",17),u._uU(6),u.qZA()()()()),2&c){const o=f.$implicit;u.xp6(1),u.Q6J("routerLink",u.VKq(4,B,o.id)),u.xp6(3),u.s9C("alt",o.title),u.Q6J("src",o.image_recipe[0].image_recipe,u.LSH),u.xp6(2),u.Oqu(o.title)}}function W(c,f){if(1&c&&(u.TgZ(0,"main",9),u._UZ(1,"div",3),u.TgZ(2,"div",10)(3,"div",6)(4,"h1",7),u._uU(5,"Result"),u.qZA()(),u.TgZ(6,"div",11),u.YNc(7,G,7,6,"div",12),u.qZA()()()),2&c){const o=u.oxw();u.xp6(7),u.Q6J("ngForOf",o.recipes)}}let $=(()=>{class c{constructor(o,d){this.recipeService=o,this.route=d,this.recipes=[],this.result=!1}ngOnInit(){this.route.queryParams.subscribe(o=>{const d=o.search;d&&this.searchRecipesByTitle(d)})}searchRecipesByTitle(o){var d=this;return(0,ae.Z)(function*(){const{data:m}=yield d.recipeService.searchRecipesByTitle(o);m.length>0?(d.recipes.push(...m),d.result=!0):d.result=!1})()}static#e=this.\u0275fac=function(d){return new(d||c)(u.Y36(ke.j),u.Y36(ne.gz))};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-recipe-search"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["recipesList",""],[1,"main-short"],[1,"headerImage"],[1,"wrapper"],[1,"empty"],[1,"title-wrapper"],[1,"title"],[1,"logo-svg"],[1,"main-long"],[1,"wrapper-list"],[1,"recipe-list"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"recipe-item"],[1,"recipe-image"],[3,"src","alt"],[1,"recipe-title"]],template:function(d,m){if(1&d&&(u.YNc(0,Q,10,0,"div",0),u.YNc(1,W,8,1,"ng-template",null,1,u.W1O)),2&d){const I=u.MAs(2);u.Q6J("ngIf",!m.result)("ngIfElse",I)}},dependencies:[Se.sg,Se.O5,ne.rH,Wn.u],styles:[".wrapper-list[_ngcontent-%COMP%]{margin:-50px auto 50px;max-width:1200px;background-color:var(--backgroundColor);box-shadow:0 1px 3px #0000004d;padding:32px}.title-wrapper[_ngcontent-%COMP%]{margin-left:10px}.recipe-list[_ngcontent-%COMP%]{position:relative;display:grid;grid-template-columns:repeat(4,1fr);row-gap:20px;margin-bottom:50px}.recipe-item[_ngcontent-%COMP%]{margin:5px;position:relative}.recipe-image[_ngcontent-%COMP%]{padding:5px;position:relative;transition:transform 1s ease-in-out}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;width:100%;object-fit:fill}.recipe-item[_ngcontent-%COMP%]:hover   .recipe-image[_ngcontent-%COMP%]{transform:translateY(12%)}@media only screen and (max-width: 460px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 20px 50px;padding:16px}.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 461px) and (max-width: 767px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 768px) and (max-width: 1023px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);column-gap:10px;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}@media (min-width: 1024px) and (max-width: 1440px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);column-gap:10px;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}"]})}return c})();const We=(c,f)=>{const o=(0,u.f3M)(Te.K),d=(0,u.f3M)(ne.F0);return o.userData$.pipe((0,ue.U)(m=>!m||(d.navigate(["/recipes-list"]),!1)))},Pn=[{path:"",pathMatch:"full",component:(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-carousel"]],decls:24,vars:0,consts:[["id","carouselExampleAutoplaying","data-bs-ride","carousel",1,"carousel","slide","fade-in-top"],[1,"overlay"],[1,"info"],[1,"carousel-title","fade-in-left"],[1,"subtitle","fade-in-right"],["routerLink","/recipes-list",1,"infoBtn","fade-in-top"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","https://www.aveeno.com/sites/aveeno_us_2/files/healingherbswithmortaran_687349.jpg","alt","carousel-img",1,"carousel-img","d-block","w-100"],[1,"carousel-item"],["src","https://imgix-prod.sgs.com/-/media/sgscorp/images/connectivity-and-products/aromatics-pexels.cdn.en-MU.1.jpg","alt","carousel-img",1,"carousel-img","d-block","w-100"],["src","https://images.pexels.com/photos/1793035/pexels-photo-1793035.jpeg","alt","carousel-img",1,"carousel-img","d-block","w-100"],["type","button","data-bs-target","#carouselExampleAutoplaying","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleAutoplaying","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(d,m){1&d&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),u._uU(4,"Welcome To Natural Way"),u.qZA(),u.TgZ(5,"div",4),u._uU(6," Explore our curated herbal recipes for vitality and well-being. Register to save favorites, comment, and like recipes. Join us and contribute your own recipes for a community dedicated to herbal remedies! "),u.qZA(),u.TgZ(7,"a",5),u._uU(8,"Recipes"),u.qZA()()(),u.TgZ(9,"div",6)(10,"div",7),u._UZ(11,"img",8),u.qZA(),u.TgZ(12,"div",9),u._UZ(13,"img",10),u.qZA(),u.TgZ(14,"div",9),u._UZ(15,"img",11),u.qZA()(),u.TgZ(16,"button",12),u._UZ(17,"span",13),u.TgZ(18,"span",14),u._uU(19,"Previous"),u.qZA()(),u.TgZ(20,"button",15),u._UZ(21,"span",16),u.TgZ(22,"span",14),u._uU(23,"Next"),u.qZA()()())},dependencies:[ne.rH],styles:[".carousel[_ngcontent-%COMP%]{max-height:93vh;overflow:hidden}.carousel-img[_ngcontent-%COMP%]{height:100vh;object-fit:cover}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{z-index:9}.overlay[_ngcontent-%COMP%]{position:absolute;inset:0 50% 0 0;background-color:var(--mainRGBAColor);background-color:#bd6b6fcc;z-index:9}.info[_ngcontent-%COMP%]{position:absolute;left:37%;right:10%;top:40%;transform:translate(2%,-27%);color:var(--mainWhiteColor);text-align:left}.carousel-title[_ngcontent-%COMP%]{font-size:30px;padding-bottom:20px;font-weight:800;color:var(--backgroundColor);text-align:left;box-shadow:unset}.subtitle[_ngcontent-%COMP%]{font-size:18px;font-weight:400;margin-bottom:25px}.infoBtn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;text-align:center;background:var(--mainYellowColor);color:var(--textColor);border-radius:24px;padding:0 25px;font-weight:700;font-size:17px;height:48px;transition:.3s ease-in-out}.infoBtn[_ngcontent-%COMP%]:hover{cursor:pointer;transform:scale(1.1)}@media (max-width: 460px){.overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:var(--mainRGBAColor);z-index:9}.info[_ngcontent-%COMP%]{position:absolute;left:10%;right:10%;top:30%;color:var(--mainWhiteColor);text-align:center}.carousel-title[_ngcontent-%COMP%]{font-size:26px;padding-bottom:10px;font-weight:900;text-align:center}}@media (min-width: 461px) and (max-width: 767px){.overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:var(--mainRGBAColor);z-index:9}.info[_ngcontent-%COMP%]{position:absolute;left:10%;right:10%;top:30%;color:var(--mainWhiteColor);text-align:center}.carousel-title[_ngcontent-%COMP%]{font-size:26px;padding-bottom:10px;font-weight:900}}@media (min-width: 768px) and (max-width: 1023px){.info[_ngcontent-%COMP%]{position:absolute;left:10%;right:10%;top:30%;color:var(--mainWhiteColor)}}"]})}return c})()},{path:"register",component:Xe,canActivate:[We]},{path:"login",component:_r,canActivate:[We]},{path:"forgot-password",component:(()=>{class c{constructor(o){this.userService=o}static#e=this.\u0275fac=function(d){return new(d||c)(u.Y36(Te.K))};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-forgot-password"]],decls:19,vars:0,consts:[[1,"main-short"],[1,"headerImage"],[1,"wrapper"],[1,"form-wrapper"],[1,"title-wrapper",2,"flex-direction","column"],[1,"title"],[1,"hint"],[1,"formGroup"],["type","email","placeholder","Email","required","",1,"formControl"],["passwordResetEmail",""],[1,"errors"],[1,"buttons"],["type","submit","value","Send email",1,"button",3,"click"],["href","#","routerLink","/login"]],template:function(d,m){if(1&d){const I=u.EpF();u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),u._uU(6,"Forgotten password"),u.qZA()(),u.TgZ(7,"p",6),u._uU(8," Please enter your email address so we can send you a password reset email. "),u.qZA(),u.TgZ(9,"div",7),u._UZ(10,"input",8,9),u.qZA(),u.TgZ(12,"p",10),u._uU(13," If you can't find the email, please check your spam folder! "),u.qZA(),u.TgZ(14,"div",11)(15,"input",12),u.NdJ("click",function(){u.CHM(I);const Z=u.MAs(11);return u.KtG(m.userService.forgotPassword(Z.value))}),u.qZA(),u.TgZ(16,"a",13)(17,"div",6),u._uU(18,"Return to Login"),u.qZA()()()()()()}},dependencies:[ne.rH],styles:[".form-wrapper[_ngcontent-%COMP%]{max-width:600px;margin:-50px auto 50px;padding:32px;background-color:var(--backgroundColor);border-radius:unset;box-shadow:0 1px 3px #0000004d}.buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.wrapper[_ngcontent-%COMP%]{padding:0 5%;max-width:600px;margin:0 auto}"]})}return c})()},{path:"recipes-list",component:Gt},{path:"recipe-search",component:$},{path:"recipe/:id",component:Zt},{path:"about",component:(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-about-us"]],decls:22,vars:0,consts:[[1,"main-long"],[1,"headerImage"],[1,"wrapper"],[1,"form-wrapper"],[1,"title-wrapper"],[1,"title-form"],[2,"color","var(--mainGreyColor)"]],template:function(d,m){1&d&&(u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),u._uU(6,"About Us"),u.qZA()(),u.TgZ(7,"div",6)(8,"p"),u._uU(9,"Welcome to our Healing Herbal Recipe Community!"),u.qZA(),u.TgZ(10,"p"),u._uU(11," Hello and welcome to our cozy corner dedicated to the power of herbs for health and well-being! We are passionate enthusiasts of herbal healing recipes and have decided to create this space where people from all over the world can come together to share their knowledge, experience, and love for herbal remedies. "),u.qZA(),u.TgZ(12,"p"),u._uU(13," We believe in the healing power of nature and strive to provide our users with a wealth of resources and inspiring ideas to improve their health and well-being. Our mission is to create a space where people can find recipes and support from the community to feel healthier and stronger. "),u.qZA(),u.TgZ(14,"p"),u._uU(15," Join us today and become part of our Healing Herbal Recipe Community! Together, we can achieve good heath and well-being through the power of nature and community. "),u.qZA(),u.TgZ(16,"p"),u._uU(17," Thank you for choosing to be part of our journey towards health and harmony! "),u.qZA(),u.TgZ(18,"p"),u._uU(19,"With love and gratitude,"),u.qZA(),u.TgZ(20,"p"),u._uU(21,"The Natural Way Team"),u.qZA()()()()())}})}return c})()},{path:"privacy-policy",component:(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-privacy-policy"]],decls:46,vars:0,consts:[[1,"main-long"],[1,"headerImage"],[1,"wrapper"],[1,"form-wrapper"],[1,"title-wrapper"],[1,"title-form"],[2,"color","var(--mainGreyColor)"],[2,"font-style","italic"],["routerLink","/contact"]],template:function(d,m){1&d&&(u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),u._uU(6,"Privacy Policy"),u.qZA()(),u.TgZ(7,"div",6)(8,"p",7),u._uU(9,"Last updated: 29.03.2024"),u.qZA(),u.TgZ(10,"p"),u._uU(11,' Welcome to the Privacy Policy of "The Natural Way". Our Privacy Policy explains how we collect, use, and disclose the personal information we receive from visitors to our Website. '),u.qZA(),u.TgZ(12,"h5"),u._uU(13,"1. Collection of Information"),u.qZA(),u.TgZ(14,"p"),u._uU(15," When you visit the Website, we may collect certain information from and about you. This information may include, but is not limited to: "),u.TgZ(16,"span",7),u._uU(17," Personal data such as names, email addresses, mailing addresses, etc., that you voluntarily provide to us through contact forms or account registration. Information about your computer, including IP address, browser type, operating system, and similar data for trend analysis, Website management, and protection against abuse. "),u.qZA()(),u.TgZ(18,"h5"),u._uU(19,"2. Use of Information"),u.qZA(),u.TgZ(20,"p"),u._uU(21," We use the collected information to provide and improve the Website, interact with users, analyze trends, and provide personalized content and advertisements. "),u.qZA(),u.TgZ(22,"h5"),u._uU(23,"3. Disclosure of Information"),u.qZA(),u.TgZ(24,"p"),u._uU(25," We may disclose personal information to our partners, service providers, and other third parties when necessary to provide services and perform tasks related to Website management. "),u.qZA(),u.TgZ(26,"h5"),u._uU(27,"4. Cookies and Similar Technologies"),u.qZA(),u.TgZ(28,"p"),u._uU(29," Our Cookie Policy explains how we use cookies and similar technologies that may be used on our Website. "),u.qZA(),u.TgZ(30,"h5"),u._uU(31,"5. Changes to the Privacy Policy"),u.qZA(),u.TgZ(32,"p"),u._uU(33," We may update this Privacy Policy from time to time. Any changes to this Privacy Policy will be posted on this page. "),u.qZA(),u.TgZ(34,"h5"),u._uU(35,"6. Linked Services and Websites"),u.qZA(),u.TgZ(36,"p"),u._uU(37," The Website may contain links to other websites and services that are not under our control. We are not responsible for the content and practices of these websites, and we encourage you to review the privacy policies of each website you visit. "),u.qZA(),u.TgZ(38,"h5"),u._uU(39,"7. Contact Information"),u.qZA(),u.TgZ(40,"p"),u._uU(41," For additional information regarding our Privacy Policy, please contact us at "),u.TgZ(42,"span")(43,"a",8),u._uU(44,"Contact Us"),u.qZA(),u._uU(45," page. "),u.qZA()()()()()())},dependencies:[ne.rH]})}return c})()},{path:"contact",component:(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-contact-us"]],decls:28,vars:0,consts:[[1,"main-short"],[1,"headerImage"],[1,"wrapper"],[1,"form-wrapper"],[1,"title-wrapper"],[1,"title-form"],[2,"color","var(--mainGreyColor)"],["href","mailto:andon.ov@yahoo.com"],[1,"hr"]],template:function(d,m){1&d&&(u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),u._uU(6,"Contact Us"),u.qZA()(),u.TgZ(7,"div",6)(8,"p"),u._uU(9," For any inquiries or questions, please feel free to contact us. We're here to help! "),u.qZA(),u.TgZ(10,"div")(11,"p")(12,"strong"),u._uU(13,"Address:"),u.qZA(),u._uU(14," San Stefano , Burgas, Bulgaria"),u.qZA(),u.TgZ(15,"p")(16,"strong"),u._uU(17,"Phone:"),u.qZA(),u._uU(18," +359 885 996789"),u.qZA(),u.TgZ(19,"p")(20,"strong"),u._uU(21,"Email:"),u.qZA(),u.TgZ(22,"a",7),u._uU(23," Andon.ov@yahoo.com"),u.qZA()()(),u._UZ(24,"hr",8),u.TgZ(25,"div")(26,"p"),u._uU(27," This project was developed to meet the requirements of the Angular Project Assignment within the 'Angular - February 2024' course at SoftUni. "),u.qZA()()()()()())}})}return c})()},{path:"dashboard",loadChildren:()=>K.e(691).then(K.bind(K,7691)).then(c=>c.PrivateModule),canActivate:[(c,f)=>{const o=(0,u.f3M)(Te.K),d=(0,u.f3M)(ne.F0),m=(0,u.f3M)(Ve.r);return o.userData$.pipe((0,be.w)(I=>(0,fe.of)(!!I&&I.isActive)),(0,ue.U)(I=>!!I||(m.handleError("Unauthorized Access:\n          \n Please ensure you have appropriate permissions to view this content."),d.createUrlTree(["/login"],{queryParams:{returnUrl:f.url}}))))}]},{path:"**",component:(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-page-not-found"]],decls:14,vars:0,consts:[[1,"main-short"],[1,"headerImage"],[1,"wrapper"],[1,"empty"],[1,"title-wrapper"],[1,"title"],[1,"logo-svg"],[1,"emptyInfo"],["routerLink","/","href","",1,"btn","btn-outline-light",2,"color","var(--textColor)"]],template:function(d,m){1&d&&(u.TgZ(0,"main",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),u._uU(6,"Page not Found!"),u.qZA()(),u.TgZ(7,"div",6),u._UZ(8,"app-logo-svg"),u.qZA(),u.TgZ(9,"div",7)(10,"p"),u._uU(11,"We're sorry, but the page you're looking for cannot be found. \xa0\xa0"),u.qZA(),u.TgZ(12,"a",8),u._uU(13,"Back to Home"),u.qZA()()()()())},dependencies:[ne.rH,Wn.u]})}return c})()}];let Kr=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({imports:[ne.Bz.forRoot(Pn,{useHash:!0}),ne.Bz]})}return c})(),Xn=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-footer"]],decls:24,vars:1,consts:[["appAnimateOnScroll","",1,"footer",3,"animationClass"],[1,"footer-main"],[1,"footer-links"],["routerLink","/about"],["routerLink","/contact"],["routerLink","/privacy-policy"],[1,"social-icons"],["href","https://github.com/andon-ov","target","_blank"],[1,"fa-brands","fa-github"],["href","https://linkedin.com/in/andon-ov","target","_blank"],[1,"fa-brands","fa-linkedin"],[1,"copyright"],[1,"projectInfo"],["target","_blank","href","https://softuni.bg/"]],template:function(d,m){1&d&&(u.TgZ(0,"footer",0)(1,"div",1)(2,"div",2)(3,"a",3),u._uU(4,"About Us"),u.qZA(),u._uU(5," | "),u.TgZ(6,"a",4),u._uU(7,"Contact Us"),u.qZA(),u._uU(8," | "),u.TgZ(9,"a",5),u._uU(10,"Privacy Policy"),u.qZA()(),u.TgZ(11,"div",6)(12,"a",7),u._UZ(13,"i",8),u.qZA(),u.TgZ(14,"a",9),u._UZ(15,"i",10),u.qZA()()(),u.TgZ(16,"div",11)(17,"div",12),u._uU(18," This project was developed to meet the requirements of the Angular Project Assignment within the 'Angular - February 2024' course at "),u.TgZ(19,"a",13),u._uU(20,"SoftUni"),u.qZA(),u._uU(21,". "),u.qZA(),u.TgZ(22,"span"),u._uU(23," \xa9 2024 The Natural Way. All Rights Reserved. "),u.qZA()()()),2&d&&u.Q6J("animationClass","fade-in-top")},dependencies:[ne.rH,je],styles:[".footer[_ngcontent-%COMP%]{background-color:var(--aliceBlueColor);color:#333;font-size:14px;text-align:center}.footer-main[_ngcontent-%COMP%]{background-color:var(--textColor);color:var(--mainWhiteColor);padding:20px}.footer-links[_ngcontent-%COMP%]{padding:20px 0;text-align:center}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainWhiteColor);text-decoration:none;margin:0 10px}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--mainBlackColor)}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainYellowColor);text-decoration:none;margin:0 10px;font-size:22px}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{transform:scale(1.3);transition:.3s ease-in-out}.copyright[_ngcontent-%COMP%]{padding:20px;font-size:12px;color:#999}.projectInfo[_ngcontent-%COMP%]{margin-bottom:10px}"]})}return c})();var fs=K(5619);class Bo{}class ss{}const os="*";function Ha(c,f){return{type:7,name:c,definitions:f,options:{}}}function Ls(c,f=null){return{type:4,styles:f,timings:c}}function po(c,f=null){return{type:2,steps:c,options:f}}function Vi(c){return{type:6,styles:c,offset:null}}function Hi(c,f,o){return{type:0,name:c,styles:f,options:o}}function go(c,f,o=null){return{type:1,expr:c,animation:f,options:o}}class Yr{constructor(f=0,o=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=f+o}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(f=>f()),this._onDoneFns=[])}onStart(f){this._originalOnStartFns.push(f),this._onStartFns.push(f)}onDone(f){this._originalOnDoneFns.push(f),this._onDoneFns.push(f)}onDestroy(f){this._onDestroyFns.push(f)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(f=>f()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(f=>f()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(f){this._position=this.totalTime?f*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(f){const o="start"==f?this._onStartFns:this._onDoneFns;o.forEach(d=>d()),o.length=0}}class Us{constructor(f){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=f;let o=0,d=0,m=0;const I=this.players.length;0==I?queueMicrotask(()=>this._onFinish()):this.players.forEach(x=>{x.onDone(()=>{++o==I&&this._onFinish()}),x.onDestroy(()=>{++d==I&&this._onDestroy()}),x.onStart(()=>{++m==I&&this._onStart()})}),this.totalTime=this.players.reduce((x,Z)=>Math.max(x,Z.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(f=>f()),this._onDoneFns=[])}init(){this.players.forEach(f=>f.init())}onStart(f){this._onStartFns.push(f)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(f=>f()),this._onStartFns=[])}onDone(f){this._onDoneFns.push(f)}onDestroy(f){this._onDestroyFns.push(f)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(f=>f.play())}pause(){this.players.forEach(f=>f.pause())}restart(){this.players.forEach(f=>f.restart())}finish(){this._onFinish(),this.players.forEach(f=>f.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(f=>f.destroy()),this._onDestroyFns.forEach(f=>f()),this._onDestroyFns=[])}reset(){this.players.forEach(f=>f.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(f){const o=f*this.totalTime;this.players.forEach(d=>{const m=d.totalTime?Math.min(1,o/d.totalTime):1;d.setPosition(m)})}getPosition(){const f=this.players.reduce((o,d)=>null===o||d.totalTime>o.totalTime?d:o,null);return null!=f?f.getPosition():0}beforeDestroy(){this.players.forEach(f=>{f.beforeDestroy&&f.beforeDestroy()})}triggerCallback(f){const o="start"==f?this._onStartFns:this._onDoneFns;o.forEach(d=>d()),o.length=0}}let Jo=(()=>{class c{constructor(o,d){this.el=o,this.renderer=d}ngOnInit(){this.checkWidth()}onResize(){this.checkWidth()}checkWidth(){window.innerWidth<992?(this.renderer.addClass(this.el.nativeElement,"button"),this.renderer.addClass(this.el.nativeElement,"nav-btn"),this.renderer.addClass(this.el.nativeElement,"nav-link"),this.renderer.removeClass(this.el.nativeElement,"navigation")):(this.renderer.removeClass(this.el.nativeElement,"button"),this.renderer.removeClass(this.el.nativeElement,"nav-link"),this.renderer.removeClass(this.el.nativeElement,"nav-btn"),this.renderer.addClass(this.el.nativeElement,"navigation"))}static#e=this.\u0275fac=function(d){return new(d||c)(u.Y36(u.SBq),u.Y36(u.Qsj))};static#t=this.\u0275dir=u.lG2({type:c,selectors:[["","appResponsiveClass",""]],hostBindings:function(d,m){1&d&&u.NdJ("resize",function(){return m.onResize()},!1,u.Jf7)}})}return c})();function mo(c,f){1&c&&(u.TgZ(0,"li",24)(1,"a",25),u._UZ(2,"i",26),u.qZA(),u.TgZ(3,"ul",27)(4,"li")(5,"a",28),u._uU(6,"Register"),u.qZA()(),u.TgZ(7,"li")(8,"a",29),u._uU(9,"Login"),u.qZA()()()())}function _a(c,f){if(1&c){const o=u.EpF();u.TgZ(0,"li",24)(1,"a",25)(2,"span"),u._uU(3),u.qZA()(),u.TgZ(4,"ul",27)(5,"li")(6,"a",30),u._uU(7,"My recipes"),u.qZA()(),u.TgZ(8,"li")(9,"a",31),u._uU(10,"Create recipe"),u.qZA()(),u.TgZ(11,"li")(12,"a",32),u._uU(13,"Favorite recipes"),u.qZA()(),u.TgZ(14,"li")(15,"a",33),u._uU(16,"My comments"),u.qZA()(),u.TgZ(17,"li")(18,"a",34),u._uU(19,"Profile"),u.qZA()(),u._UZ(20,"hr",35),u.TgZ(21,"li")(22,"a",36),u.NdJ("click",function(){u.CHM(o);const m=u.oxw();return u.KtG(m.logout())}),u._uU(23,"Logout"),u.qZA()()()()}if(2&c){const o=u.oxw();u.xp6(3),u.Oqu(o.getUserDisplayName())}}let yi=(()=>{class c{constructor(o,d,m,I,x,Z){this.userService=o,this.router=d,this.fb=m,this.elementRef=I,this.formErrorCheckService=x,this.globalErrorHandler=Z,this.state="normal",this.searchForm=this.fb.group({search:[""]}),this.isMenuOpen=!1,this.userDataSubject=new fs.X(null),this.userDataSubscription=this.userDataSubject.subscribe(se=>{this.userData=se})}onMouseOver(){this.state="hovered"}onMouseOut(){this.state="normal"}ngOnInit(){this.userService.userData$.subscribe({next:o=>{o?(this.userDataSubject.next(o),console.log("You have a user!",o)):(this.userDataSubject.next(null),console.log("You have no user!"))},error:o=>{this.globalErrorHandler.handleError(o)}}),this.router.events.subscribe(o=>{if(o instanceof ne.m2){const d=this.elementRef.nativeElement.querySelector("#navbarScroll");d&&d.classList.remove("show")}})}onSubmit(){var o=this;return(0,ae.Z)(function*(){if(o.searchForm.valid){let d=o.searchForm.value;d&&d.search?(yield o.router.navigate(["/recipe-search"],{queryParams:{search:d.search.trim()}}),o.searchForm.reset()):o.globalErrorHandler.handleError("Query search value is null or undefined.")}else{const d=o.formErrorCheckService.getFormGroupErrors(o.searchForm);o.globalErrorHandler.handleError(d)}})()}ngOnDestroy(){this.userDataSubscription&&this.userDataSubscription.unsubscribe()}logout(){var o=this;return(0,ae.Z)(function*(){yield o.userService.logoutUser()})()}getUserDisplayName(){return this.userData?this.userData.lastName:"Anonymous"}static#e=this.\u0275fac=function(d){return new(d||c)(u.Y36(Te.K),u.Y36(ne.F0),u.Y36(de.qu),u.Y36(u.SBq),u.Y36(Me.l),u.Y36(Ve.r))};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-header"]],decls:32,vars:4,consts:[[1,"navbar","navbar-dark","navbar-expand-lg"],[1,"container-fluid"],[1,"header-wrapper"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarScroll","aria-controls","navbarScroll","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","hamburger",3,"mouseover","mouseout"],[1,"fa-solid","fa-bars","fa-beat-fade"],["href","#",1,"navbar-brand"],["viewBox","0 0 200.92045542674032 200.92045542674032","height","50","width","50",1,"svg-logo"],["d","M0 100.46c0-55.483 44.978-100.46 100.46-100.46 55.483 0 100.46 44.978 100.46 100.46 0 55.483-44.978 100.46-100.46 100.46-55.483 0-100.46-44.978-100.46-100.46zM100.46 193.437c51.35 0 92.977-41.627 92.977-92.977 0-51.35-41.627-92.977-92.977-92.977-51.35 0-92.977 41.627-92.977 92.977 0 51.35 41.627 92.977 92.977 92.977z","data-fill-palette-color","accent","fill","var(--aliceBlueColor)","stroke","transparent"],["rx","99.45562543623646","ry","99.45562543623646","cx","100.46022771337016","cy","100.46022771337016","fill","var(--mainYellowColor)","stroke","transparent","stroke-width","0","fill-opacity","1","data-fill-palette-color","accent"],["transform","matrix(1,0,0,1,43.57436241056036,43.35758026693677)"],["viewBox","0 0 113.7717306056196 114.20529489286677","height","114.20529489286677","width","113.7717306056196"],["xmlns","http://www.w3.org/2000/svg","data-name","Layer 1","viewBox","1.190000057220459 1.002901315689087 97.62506866455078 97.99710083007812","x","0","y","0","height","114.20529489286677","width","113.7717306056196","data-fill-palette-color","quaternary","id","b-0",1,"icon-b-0"],["d","M79.28 26.63a0.3 0.3 0 0 0 0-0.07 0.28 0.28 0 0 0-0.48-0.19l-7 7a20.24 20.24 0 0 0-6 13v1.87a37.5 37.5 0 0 1 1.67 5.15H54.79a32.9 32.9 0 0 0-5.43-15.13 26.9 26.9 0 0 1-7.74 5.77 22.2 22.2 0 0 1-6.34 2.06c-9.9 1.51-22.3-5-28.35-41.61a1.86 1.86 0 0 1 1.55-2.05c47.44-6.69 50.2 11.7 47.85 22.85a51.5 51.5 0 0 0-19.69-6.14h-0.11a0.43 0.43 0 0 0-0.18 0.76l11.58 8.5 5.84 4.31a37.3 37.3 0 0 1 6.08 5.85 24.8 24.8 0 0 1 5-6.15 17.7 17.7 0 0 1-2.54-5 14.8 14.8 0 0 1-0.65-4.41c0-6.65 5.53-14.14 30.18-14.44a1.23 1.23 0 0 1 1.24 1.23c-0.38 31.82-12.74 31.78-19.82 29.12a34.2 34.2 0 0 0 6.02-12.28M28.65 93h34.63a16.16 16.16 0 0 0 12.18-5.54l21.68-24.79a6.79 6.79 0 0 0-0.79-9.7 6.55 6.55 0 0 0-4.2-1.49 7.24 7.24 0 0 0-5.38 2.43l-10.2 11.35v0.16a11.85 11.85 0 0 1-11.89 11.26H52.21a2.54 2.54 0 1 1 0-5.08h12.47a6.72 6.72 0 0 0 6.81-6.34A6.54 6.54 0 0 0 65 58.52H44.19l-3.37-1.18a23.42 23.42 0 0 0-24.26 5.49L1.19 78.1 22.64 99Z","fill","var( --textColor)","data-fill-palette-color","quaternary"],["routerLink","/",1,"logoText"],[2,"color","var(--mainBlackColor)"],["id","navbarScroll",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","my-2","my-lg-0","navbar-nav-scroll"],[1,"nav-item"],["appResponsiveClass","","routerLink","/recipes-list","href","#","role","button","aria-expanded","false",1,"navigation"],["class","nav-item dropdown",4,"ngIf"],["role","search",1,"search",3,"formGroup","ngSubmit"],["type","search","aria-label","Search","formControlName","search","required","","minlength","3","placeholder","Search...",1,"header-user-search"],["type","submit",1,"search","header-user-action","header-user-action-btn"],[1,"fa-solid","fa-magnifying-glass"],[1,"nav-item","dropdown"],["appResponsiveClass","","href","#","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"dropdown-toggle"],[1,"fa-solid","fa-user"],[1,"dropdown-menu"],["routerLink","/register",1,"dropdown-item"],["routerLink","/login",1,"dropdown-item"],["routerLink","/dashboard/user-recipes","href","#",1,"dropdown-item"],["routerLink","/dashboard/recipe-create",1,"dropdown-item"],["routerLink","/dashboard/user-favorite-recipes","href","#",1,"dropdown-item"],["routerLink","/dashboard/user-comments","href","#",1,"dropdown-item"],["routerLink","/dashboard/user-info",1,"dropdown-item"],[1,"hr"],[1,"dropdown-item",2,"text-align","center","cursor","pointer",3,"click"]],template:function(d,m){1&d&&(u.TgZ(0,"nav",0)(1,"div",1)(2,"div",2)(3,"button",3),u.NdJ("mouseover",function(){return m.onMouseOver()})("mouseout",function(){return m.onMouseOut()}),u.TgZ(4,"span"),u._UZ(5,"i",4),u.qZA()(),u.TgZ(6,"a",5),u.O4$(),u.TgZ(7,"svg",6)(8,"g"),u._UZ(9,"path",7)(10,"ellipse",8),u.qZA(),u.TgZ(11,"g",9)(12,"svg",10)(13,"g")(14,"svg",11),u._UZ(15,"path",12),u.qZA()()()()(),u.kcU(),u.TgZ(16,"span",13)(17,"span",14),u._uU(18,"Natural"),u.qZA(),u.TgZ(19,"span"),u._uU(20," Way"),u.qZA()()()(),u.TgZ(21,"div",15)(22,"ul",16)(23,"li",17)(24,"a",18),u._uU(25," Recipes "),u.qZA()(),u.YNc(26,mo,10,0,"li",19),u.YNc(27,_a,24,1,"li",19),u.TgZ(28,"form",20),u.NdJ("ngSubmit",function(){return m.onSubmit()}),u._UZ(29,"input",21),u.TgZ(30,"button",22),u._UZ(31,"i",23),u.qZA()()()()()()),2&d&&(u.xp6(3),u.Q6J("@rotate",m.state),u.xp6(23),u.Q6J("ngIf",!m.userData),u.xp6(1),u.Q6J("ngIf",m.userData),u.xp6(1),u.Q6J("formGroup",m.searchForm))},dependencies:[Se.O5,ne.rH,de._Y,de.Fj,de.JJ,de.JL,de.Q7,de.wO,de.sg,de.u,Jo],styles:["nav.navbar[_ngcontent-%COMP%]{min-height:5vh;background-color:var(--aliceBlueColor);box-shadow:1px 5px 15px 0 var(--mainRGBAColor);padding:20px}.container-fluid[_ngcontent-%COMP%]{max-width:1024px}.hamburger[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding:4px 2px;color:var(--textColor)}.header-wrapper[_ngcontent-%COMP%]{display:flex;gap:20px;align-items:center;margin-right:auto}a.navbar-brand[_ngcontent-%COMP%]{display:flex;gap:10px;font-family:Nunito Sans,sans-serif;font-weight:900;font-size:28px;line-height:20px;color:var(--textColor);padding-right:40px;align-items:center}button.navbar-toggler[_ngcontent-%COMP%]{background-color:var(--mainYellowColor);border:1px solid var(--backgroundColor)}ul.navbar-nav[_ngcontent-%COMP%]{position:relative;display:flex;gap:40px;width:100%;align-items:center;justify-content:flex-end}.navigation[_ngcontent-%COMP%]{color:var(--textColor);font-size:17px;font-weight:700}ul.navbar-nav[_ngcontent-%COMP%]   ul.dropdown-menu[_ngcontent-%COMP%]{margin-top:22px;box-shadow:unset;border:unset}a.dropdown-item[_ngcontent-%COMP%]{color:var(--textColor);font-size:17px;font-weight:700}.dropdown-item.active[_ngcontent-%COMP%], .dropdown-item[_ngcontent-%COMP%]:hover, .dropdown-item[_ngcontent-%COMP%]:focus{background-color:var(--textColor);color:var(--backgroundColor);border-radius:4px;transition:.5s ease-in-out}form[_ngcontent-%COMP%]{all:unset;position:relative;margin-right:15px}.header-user-search[_ngcontent-%COMP%]{all:unset;padding:0 20px;height:40px;border:1px solid #c6c6c6;border-radius:20px;background:var(--mainWhiteColor)}.header-user-action[_ngcontent-%COMP%]{border-radius:50%;background:var(--mainYellowColor);width:40px;height:40px;border:unset}.header-user-action-btn[_ngcontent-%COMP%]{position:absolute;right:0;top:1px;bottom:0}@media (max-width: 991px){.container-fluid[_ngcontent-%COMP%]{justify-content:space-evenly}.svg-logo[_ngcontent-%COMP%]{display:none}.navbar-nav.me-auto.my-2.my-lg-0.navbar-nav-scroll[_ngcontent-%COMP%]{border-radius:8px;display:grid;gap:18px;width:315px;padding:20px}ul.navbar-nav[_ngcontent-%COMP%]{gap:12px}}@media (min-width: 992px) and (max-width: 1440px){.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu.search[_ngcontent-%COMP%]{left:unset;right:0;width:900px;padding:10px;margin-top:30px;border:unset}form[_ngcontent-%COMP%]{max-width:unset}.container-fluid[_ngcontent-%COMP%]{max-width:1200px;padding:0 3%;color:var(--textColor)}}@media (min-width: 1441px){.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu.search[_ngcontent-%COMP%]{left:unset;right:0;width:1000px;padding:10px;margin-top:30px;border:unset}form[_ngcontent-%COMP%]{max-width:unset}.container-fluid[_ngcontent-%COMP%]{padding:unset;max-width:1200px;color:var(--textColor)}}"],data:{animation:[Ha("rotate",[Hi("normal",Vi({transform:"rotate(0deg)"})),Hi("hovered",Vi({transform:"rotate(180deg)"})),go("normal => hovered",Ls("0.5s ease-in-out")),go("hovered => normal",Ls("0.5s ease-in-out"))])]}})}return c})();function ya(c,f){if(1&c){const o=u.EpF();u.TgZ(0,"div",1)(1,"button",2),u.NdJ("click",function(){u.CHM(o);const m=u.oxw();return u.KtG(m.scrollToTop())}),u.TgZ(2,"div",3)(3,"span",4),u.O4$(),u.TgZ(4,"svg",5),u._UZ(5,"path",6),u.qZA()(),u.kcU(),u.TgZ(6,"span",7),u.O4$(),u.TgZ(7,"svg",8),u._UZ(8,"path",6),u.qZA()()()(),u.kcU(),u.TgZ(9,"a",9)(10,"div",10)(11,"span",7),u.O4$(),u.TgZ(12,"svg",5),u._UZ(13,"path",6),u.qZA()(),u.kcU(),u.TgZ(14,"span",7),u.O4$(),u.TgZ(15,"svg",8),u._UZ(16,"path",6),u.qZA()()()()()}}let Bs=(()=>{class c{constructor(){this.showScrollButton=!1}onWindowScroll(){this.showScrollButton=window.pageYOffset>300}scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-scroll-to-top"]],hostBindings:function(d,m){1&d&&u.NdJ("scroll",function(){return m.onWindowScroll()},!1,u.Jf7)},decls:1,vars:1,consts:[["class","buttons",4,"ngIf"],[1,"buttons"],[1,"back-button",3,"click"],[1,"button-box-up"],[1,"button-elem-up"],["viewBox","0 0 46 40","xmlns","http://www.w3.org/2000/svg"],["d","M46 20.038c0-.7-.3-1.5-.8-2.1l-16-17c-1.1-1-3.2-1.4-4.4-.3-1.2 1.1-1.2 3.3 0 4.4l11.3 11.9H3c-1.7 0-3 1.3-3 3s1.3 3 3 3h33.1l-11.3 11.9c-1 1-1.2 3.3 0 4.4 1.2 1.1 3.3.8 4.4-.3l16-17c.5-.5.8-1.1.8-1.9z"],[1,"button-elem"],["viewBox","0 0 46 40"],["href","javascript:history.back()",1,"back-button"],[1,"button-box"]],template:function(d,m){1&d&&u.YNc(0,ya,17,0,"div",0),2&d&&u.Q6J("ngIf",m.showScrollButton)},dependencies:[Se.O5],styles:[".buttons[_ngcontent-%COMP%]{display:flex;gap:10px;position:fixed;bottom:120px;right:10px;flex-direction:column;align-items:center;z-index:10}button[_ngcontent-%COMP%]:focus{outline:none}button.ng-hidden[_ngcontent-%COMP%]{display:none}"]})}return c})();var _o=K(1816);const Vs=function(c){return{show:c}};let va=(()=>{class c{constructor(o){this.modalService=o,this.showModal=!1}ngOnInit(){this.modalMessageSubscription=this.modalService.modalMessage$.subscribe(o=>{this.modalMessage=o,console.log(o),this.showModal=!0})}ngOnDestroy(){this.modalMessageSubscription&&this.modalMessageSubscription.unsubscribe()}hideModal(){this.showModal=!1}static#e=this.\u0275fac=function(d){return new(d||c)(u.Y36(_o.y))};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-custom-alert"]],decls:11,vars:4,consts:[["tabindex","-1","role","dialog",1,"modal",3,"ngClass"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"button-img",3,"click"]],template:function(d,m){1&d&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),u._uU(5,"Important Notification!"),u.qZA()(),u.TgZ(6,"div",5),u._uU(7),u.qZA(),u.TgZ(8,"div",6)(9,"button",7),u.NdJ("click",function(){return m.hideModal()}),u._uU(10,"Close"),u.qZA()()()()()),2&d&&(u.Q6J("ngClass",u.VKq(2,Vs,m.showModal)),u.xp6(7),u.hij(" ",m.modalMessage," "))},dependencies:[Se.mk],styles:[".modal[_ngcontent-%COMP%]{display:none;overflow:hidden;position:fixed;top:0;left:0;width:100%;height:100%;z-index:15;outline:0}.modal.show[_ngcontent-%COMP%]{display:block;background-color:var(--mainRGBAColor)}.modal-body[_ngcontent-%COMP%]{white-space:pre-wrap}"]})}return c})(),$r=(()=>{class c{constructor(){this.title="The-Natural-Way"}static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-root"]],decls:5,vars:0,template:function(d,m){1&d&&u._UZ(0,"app-header")(1,"app-scroll-to-top")(2,"app-custom-alert")(3,"router-outlet")(4,"app-footer")},dependencies:[ne.lC,Xn,yi,Bs,va]})}return c})();var Xo=K(9286),as=K(8726);let Gi=(()=>{class c{}return c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=u.oAB({type:c}),c.\u0275inj=u.cJS({imports:[[]]}),c})();var yo=K(5592),ba=K(6232),hi=K(8645),Cs=K(4829),wa=K(1631),ta=K(4266),na=K(4674),ro=K(7400);const ra=["addListener","removeListener"],ia=["addEventListener","removeEventListener"],ja=["on","off"];function Jr(c,f,o,d){if((0,na.m)(o)&&(d=o,o=void 0),d)return Jr(c,f,o).pipe((0,ro.Z)(d));const[m,I]=function gs(c){return(0,na.m)(c.addEventListener)&&(0,na.m)(c.removeEventListener)}(c)?ia.map(x=>Z=>c[x](f,Z,o)):function ai(c){return(0,na.m)(c.addListener)&&(0,na.m)(c.removeListener)}(c)?ra.map(Yn(c,f)):function Ci(c){return(0,na.m)(c.on)&&(0,na.m)(c.off)}(c)?ja.map(Yn(c,f)):[];if(!m&&(0,ta.z)(c))return(0,wa.z)(x=>Jr(x,f,o))((0,Cs.Xf)(c));if(!m)throw new TypeError("Invalid event target");return new yo.y(x=>{const Z=(...se)=>x.next(1<se.length?se:se[0]);return m(Z),()=>I(Z)})}function Yn(c,f){return o=>d=>c[o](f,d)}var Pr=K(6321),Ss=K(671);const{isArray:Cc}=Array;function Qi(c){return 1===c.length&&Cc(c[0])?c[0]:c}var dr=K(8251);K(3019);var pi=K(9940);function io(...c){const f=(0,pi.jO)(c),o=Qi(c);return o.length?new yo.y(d=>{let m=o.map(()=>[]),I=o.map(()=>!1);d.add(()=>{m=I=null});for(let x=0;!d.closed&&x<o.length;x++)(0,Cs.Xf)(o[x]).subscribe((0,dr.x)(d,Z=>{if(m[x].push(Z),m.every(se=>se.length)){const se=m.map(he=>he.shift());d.next(f?f(...se):se),m.some((he,ye)=>!he.length&&I[ye])&&d.complete()}},()=>{I[x]=!0,!m[x].length&&d.complete()}));return()=>{m=I=null}}):ba.E}var Qr=K(5211),Nn=K(9773),kr=K(2181),Xr=K(8180),kn=K(9397),vo=K(9360),Vo=K(2737),bo=K(2420);function Fr(...c){const f=(0,pi.jO)(c);return(0,vo.e)((o,d)=>{const m=c.length,I=new Array(m);let x=c.map(()=>!1),Z=!1;for(let se=0;se<m;se++)(0,Cs.Xf)(c[se]).subscribe((0,dr.x)(d,he=>{I[se]=he,!Z&&!x[se]&&(x[se]=!0,(Z=x.every(Vo.y))&&(x=null))},bo.Z));o.subscribe((0,dr.x)(d,se=>{if(Z){const he=[se,...I];d.next(f?f(...he):he)}}))})}K(975),K(7921);var Hs=K(3997);class Io extends Error{constructor(f,o){super(function js(c,f){return`NG0${Math.abs(c)}${f?": "+f:""}`}(f,o)),this.code=f}}let ar=null;function $s(c){const f=ar;return ar=c,f}function nd(c,f){const o=!f?.manualCleanup;o&&!f?.injector&&(0,u.gHi)(nd);const d=o?f?.injector?.get(u.ktI)??(0,u.f3M)(u.ktI):null;let m;return m=(0,u.tdS)(f?.requireSync?{kind:0}:{kind:1,value:f?.initialValue}),function Do(c){const f=$s(null);try{return c()}finally{$s(f)}}(()=>{const I=c.subscribe({next:x=>m.set({kind:1,value:x}),error:x=>m.set({kind:2,error:x})});d?.onDestroy(I.unsubscribe.bind(I))}),(0,u.Flj)(()=>{const I=m();switch(I.kind){case 1:return I.value;case 2:throw I.error;case 0:throw new Io(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}Math,Math,Math;const Eu=["*"],Au=["dialog"];function iu(c){return"string"==typeof c}function Rc(c){return null!=c}function ch(c){return(c||document.body).getBoundingClientRect()}const W_={animation:!0,transitionTimerDelayMs:5},y0=()=>{},{transitionTimerDelayMs:pd}=W_,vs=new Map,$o=(c,f,o,d)=>{let m=d.context||{};const I=vs.get(f);if(I)switch(d.runningTransition){case"continue":return ba.E;case"stop":c.run(()=>I.transition$.complete()),m=Object.assign(I.context,m),vs.delete(f)}const x=o(f,d.animation,m)||y0;if(!d.animation||"none"===window.getComputedStyle(f).transitionProperty)return c.run(()=>x()),(0,fe.of)(void 0).pipe(function z_(c){return f=>new yo.y(o=>f.subscribe({next:x=>c.run(()=>o.next(x)),error:x=>c.run(()=>o.error(x)),complete:()=>c.run(()=>o.complete())}))}(c));const Z=new hi.x,se=new hi.x,he=Z.pipe(function ji(...c){return f=>(0,Qr.z)(f,(0,fe.of)(...c))}(!0));vs.set(f,{transition$:Z,complete:()=>{se.next(),se.complete()},context:m});const ye=function lh(c){const{transitionDelay:f,transitionDuration:o}=window.getComputedStyle(c);return 1e3*(parseFloat(f)+parseFloat(o))}(f);return c.runOutsideAngular(()=>{const $e=Jr(f,"transitionend").pipe((0,Nn.R)(he),(0,kr.h)(({target:lt})=>lt===f));(function Vt(...c){return 1===(c=Qi(c)).length?(0,Cs.Xf)(c[0]):new yo.y(function Mn(c){return f=>{let o=[];for(let d=0;o&&!f.closed&&d<c.length;d++)o.push((0,Cs.Xf)(c[d]).subscribe((0,dr.x)(f,m=>{if(o){for(let I=0;I<o.length;I++)I!==d&&o[I].unsubscribe();o=null}f.next(m)})))}}(c))})(function fi(c=0,f,o=Pr.P){let d=-1;return null!=f&&((0,Ss.K)(f)?o=f:d=f),new yo.y(m=>{let I=function $a(c){return c instanceof Date&&!isNaN(c)}(c)?+c-o.now():c;I<0&&(I=0);let x=0;return o.schedule(function(){m.closed||(m.next(x++),0<=d?this.schedule(void 0,d):m.complete())},I)})}(ye+pd).pipe((0,Nn.R)(he)),$e,se).pipe((0,Nn.R)(he)).subscribe(()=>{vs.delete(f),c.run(()=>{x(),Z.next(),Z.complete()})})}),Z.asObservable()};let A=(()=>{class c{constructor(){this.animation=W_.animation}static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})(),K_=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})(),uf=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})(),T0=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})(),Q_=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})();var ki=function(c){return c[c.Tab=9]="Tab",c[c.Enter=13]="Enter",c[c.Escape=27]="Escape",c[c.Space=32]="Space",c[c.PageUp=33]="PageUp",c[c.PageDown=34]="PageDown",c[c.End=35]="End",c[c.Home=36]="Home",c[c.ArrowLeft=37]="ArrowLeft",c[c.ArrowUp=38]="ArrowUp",c[c.ArrowRight=39]="ArrowRight",c[c.ArrowDown=40]="ArrowDown",c}(ki||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const sy=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function uh(c){const f=Array.from(c.querySelectorAll(sy)).filter(o=>-1!==o.tabIndex);return[f[0],f[f.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let j0=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})(),bs=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})();class gh{constructor(f,o,d){this.nodes=f,this.viewRef=o,this.componentRef=d}}let _f=(()=>{class c{constructor(o,d){this._el=o,this._zone=d}ngOnInit(){this._zone.onStable.asObservable().pipe((0,Xr.q)(1)).subscribe(()=>{$o(this._zone,this._el.nativeElement,(o,d)=>{d&&ch(o),o.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return $o(this._zone,this._el.nativeElement,({classList:o})=>o.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(d){return new(d||c)(u.Y36(u.SBq),u.Y36(u.R0b))};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(d,m){2&d&&(u.Tol("modal-backdrop"+(m.backdropClass?" "+m.backdropClass:"")),u.ekj("show",!m.animation)("fade",m.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[u.jDz],decls:0,vars:0,template:function(d,m){},encapsulation:2})}return c})();class Pc{update(f){}close(f){}dismiss(f){}}const wy=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],_w=["animation","backdropClass"];class yw{_applyWindowOptions(f,o){wy.forEach(d=>{Rc(o[d])&&(f[d]=o[d])})}_applyBackdropOptions(f,o){_w.forEach(d=>{Rc(o[d])&&(f[d]=o[d])})}update(f){this._applyWindowOptions(this._windowCmptRef.instance,f),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,f)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,Nn.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,Nn.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(f,o,d,m){this._windowCmptRef=f,this._contentRef=o,this._backdropCmptRef=d,this._beforeDismiss=m,this._closed=new hi.x,this._dismissed=new hi.x,this._hidden=new hi.x,f.instance.dismissEvent.subscribe(I=>{this.dismiss(I)}),this.result=new Promise((I,x)=>{this._resolve=I,this._reject=x}),this.result.then(null,()=>{})}close(f){this._windowCmptRef&&(this._closed.next(f),this._resolve(f),this._removeModalElements())}_dismiss(f){this._dismissed.next(f),this._reject(f),this._removeModalElements()}dismiss(f){if(this._windowCmptRef)if(this._beforeDismiss){const o=this._beforeDismiss();!function Ep(c){return c&&c.then}(o)?!1!==o&&this._dismiss(f):o.then(d=>{!1!==d&&this._dismiss(f)},()=>{})}else this._dismiss(f)}_removeModalElements(){const f=this._windowCmptRef.instance.hide(),o=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,fe.of)(void 0);f.subscribe(()=>{const{nativeElement:d}=this._windowCmptRef.location;d.parentNode.removeChild(d),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),o.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:d}=this._backdropCmptRef.location;d.parentNode.removeChild(d),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),io(f,o).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var wd=function(c){return c[c.BACKDROP_CLICK=0]="BACKDROP_CLICK",c[c.ESC=1]="ESC",c}(wd||{});let Iy=(()=>{class c{constructor(o,d,m){this._document=o,this._elRef=d,this._zone=m,this._closed$=new hi.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new u.vpe,this.shown=new hi.x,this.hidden=new hi.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":iu(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(o){this.dismissEvent.emit(o)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,Xr.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:o}=this._elRef,d={animation:this.animation,runningTransition:"stop"},x=io($o(this._zone,o,()=>o.classList.remove("show"),d),$o(this._zone,this._dialogEl.nativeElement,()=>{},d));return x.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),x}_show(){const o={animation:this.animation,runningTransition:"continue"};io($o(this._zone,this._elRef.nativeElement,(I,x)=>{x&&ch(I),I.classList.add("show")},o),$o(this._zone,this._dialogEl.nativeElement,()=>{},o)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:o}=this._elRef;this._zone.runOutsideAngular(()=>{Jr(o,"keydown").pipe((0,Nn.R)(this._closed$),(0,kr.h)(m=>m.which===ki.Escape)).subscribe(m=>{this.keyboard?requestAnimationFrame(()=>{m.defaultPrevented||this._zone.run(()=>this.dismiss(wd.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let d=!1;Jr(this._dialogEl.nativeElement,"mousedown").pipe((0,Nn.R)(this._closed$),(0,kn.b)(()=>d=!1),(0,be.w)(()=>Jr(o,"mouseup").pipe((0,Nn.R)(this._closed$),(0,Xr.q)(1))),(0,kr.h)(({target:m})=>o===m)).subscribe(()=>{d=!0}),Jr(o,"click").pipe((0,Nn.R)(this._closed$)).subscribe(({target:m})=>{o===m&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!d&&this._zone.run(()=>this.dismiss(wd.BACKDROP_CLICK))),d=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:o}=this._elRef;if(!o.contains(document.activeElement)){const d=o.querySelector("[ngbAutofocus]"),m=uh(o)[0];(d||m||o).focus()}}_restoreFocus(){const o=this._document.body,d=this._elWithFocus;let m;m=d&&d.focus&&o.contains(d)?d:o,this._zone.runOutsideAngular(()=>{setTimeout(()=>m.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&$o(this._zone,this._elRef.nativeElement,({classList:o})=>(o.add("modal-static"),()=>o.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(d){return new(d||c)(u.Y36(Se.K0),u.Y36(u.SBq),u.Y36(u.R0b))};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["ngb-modal-window"]],viewQuery:function(d,m){if(1&d&&u.Gf(Au,7),2&d){let I;u.iGM(I=u.CRH())&&(m._dialogEl=I.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(d,m){2&d&&(u.uIk("aria-modal",!0)("aria-labelledby",m.ariaLabelledBy)("aria-describedby",m.ariaDescribedBy),u.Tol("modal d-block"+(m.windowClass?" "+m.windowClass:"")),u.ekj("fade",m.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[u.jDz],ngContentSelectors:Eu,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(d,m){1&d&&(u.F$t(),u.TgZ(0,"div",0,1)(2,"div",2),u.Hsn(3),u.qZA()()),2&d&&u.Tol("modal-dialog"+(m.size?" modal-"+m.size:"")+(m.centered?" modal-dialog-centered":"")+m.fullscreenClass+(m.scrollable?" modal-dialog-scrollable":"")+(m.modalDialogClass?" "+m.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return c})(),$0=(()=>{class c{constructor(o){this._document=o}hide(){const o=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),d=this._document.body,m=d.style,{overflow:I,paddingRight:x}=m;if(o>0){const Z=parseFloat(window.getComputedStyle(d).paddingRight);m.paddingRight=`${Z+o}px`}return m.overflow="hidden",()=>{o>0&&(m.paddingRight=x),m.overflow=I}}static#e=this.\u0275fac=function(d){return new(d||c)(u.LFG(Se.K0))};static#t=this.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})(),vw=(()=>{class c{constructor(o,d,m,I,x,Z,se){this._applicationRef=o,this._injector=d,this._environmentInjector=m,this._document=I,this._scrollBar=x,this._rendererFactory=Z,this._ngZone=se,this._activeWindowCmptHasChanged=new hi.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new u.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const he=this._windowCmpts[this._windowCmpts.length-1];((c,f,o,d=!1)=>{c.runOutsideAngular(()=>{const m=Jr(f,"focusin").pipe((0,Nn.R)(o),(0,ue.U)(I=>I.target));Jr(f,"keydown").pipe((0,Nn.R)(o),(0,kr.h)(I=>I.which===ki.Tab),Fr(m)).subscribe(([I,x])=>{const[Z,se]=uh(f);(x===Z||x===f)&&I.shiftKey&&(se.focus(),I.preventDefault()),x===se&&!I.shiftKey&&(Z.focus(),I.preventDefault())}),d&&Jr(f,"click").pipe((0,Nn.R)(o),Fr(m),(0,ue.U)(I=>I[1])).subscribe(I=>I.focus())})})(this._ngZone,he.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(he.location.nativeElement)}})}_restoreScrollBar(){const o=this._scrollBarRestoreFn;o&&(this._scrollBarRestoreFn=null,o())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(o,d,m){const I=m.container instanceof HTMLElement?m.container:Rc(m.container)?this._document.querySelector(m.container):this._document.body,x=this._rendererFactory.createRenderer(null,null);if(!I)throw new Error(`The specified modal container "${m.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const Z=new Pc,se=(o=m.injector||o).get(u.lqb,null)||this._environmentInjector,he=this._getContentRef(o,se,d,Z,m);let ye=!1!==m.backdrop?this._attachBackdrop(I):void 0,$e=this._attachWindowComponent(I,he.nodes),nt=new yw($e,he,ye,m.beforeDismiss);return this._registerModalRef(nt),this._registerWindowCmpt($e),nt.hidden.pipe((0,Xr.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(x.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),Z.close=lt=>{nt.close(lt)},Z.dismiss=lt=>{nt.dismiss(lt)},Z.update=lt=>{nt.update(lt)},nt.update(m),1===this._modalRefs.length&&x.addClass(this._document.body,"modal-open"),ye&&ye.instance&&ye.changeDetectorRef.detectChanges(),$e.changeDetectorRef.detectChanges(),nt}get activeInstances(){return this._activeInstances}dismissAll(o){this._modalRefs.forEach(d=>d.dismiss(o))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(o){let d=(0,u.LMc)(_f,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(d.hostView),o.appendChild(d.location.nativeElement),d}_attachWindowComponent(o,d){let m=(0,u.LMc)(Iy,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:d});return this._applicationRef.attachView(m.hostView),o.appendChild(m.location.nativeElement),m}_getContentRef(o,d,m,I,x){return m?m instanceof u.Rgc?this._createFromTemplateRef(m,I):iu(m)?this._createFromString(m):this._createFromComponent(o,d,m,I,x):new gh([])}_createFromTemplateRef(o,d){const I=o.createEmbeddedView({$implicit:d,close(x){d.close(x)},dismiss(x){d.dismiss(x)}});return this._applicationRef.attachView(I),new gh([I.rootNodes],I)}_createFromString(o){const d=this._document.createTextNode(`${o}`);return new gh([[d]])}_createFromComponent(o,d,m,I,x){const Z=u.zs3.create({providers:[{provide:Pc,useValue:I}],parent:o}),se=(0,u.LMc)(m,{environmentInjector:d,elementInjector:Z}),he=se.location.nativeElement;return x.scrollable&&he.classList.add("component-host-scrollable"),this._applicationRef.attachView(se.hostView),new gh([[he]],se.hostView,se)}_setAriaHidden(o){const d=o.parentElement;d&&o!==this._document.body&&(Array.from(d.children).forEach(m=>{m!==o&&"SCRIPT"!==m.nodeName&&(this._ariaHiddenValues.set(m,m.getAttribute("aria-hidden")),m.setAttribute("aria-hidden","true"))}),this._setAriaHidden(d))}_revertAriaHidden(){this._ariaHiddenValues.forEach((o,d)=>{o?d.setAttribute("aria-hidden",o):d.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(o){const d=()=>{const m=this._modalRefs.indexOf(o);m>-1&&(this._modalRefs.splice(m,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(o),this._activeInstances.emit(this._modalRefs),o.result.then(d,d)}_registerWindowCmpt(o){this._windowCmpts.push(o),this._activeWindowCmptHasChanged.next(),o.onDestroy(()=>{const d=this._windowCmpts.indexOf(o);d>-1&&(this._windowCmpts.splice(d,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(d){return new(d||c)(u.LFG(u.z2F),u.LFG(u.zs3),u.LFG(u.lqb),u.LFG(Se.K0),u.LFG($0),u.LFG(u.FYo),u.LFG(u.R0b))};static#t=this.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})(),zp=(()=>{class c{constructor(o){this._ngbConfig=o,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(o){this._animation=o}static#e=this.\u0275fac=function(d){return new(d||c)(u.LFG(A))};static#t=this.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})(),yf=(()=>{class c{constructor(o,d,m){this._injector=o,this._modalStack=d,this._config=m}open(o,d={}){const m={...this._config,animation:this._config.animation,...d};return this._modalStack.open(this._injector,o,m)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(o){this._modalStack.dismissAll(o)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(d){return new(d||c)(u.LFG(u.zs3),u.LFG(vw),u.LFG(zp))};static#t=this.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})(),Wp=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({providers:[yf]})}return c})(),Zp=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})(),Id=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})(),ao=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})(),Y0=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})(),Q0=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})(),Cf=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})(),Py=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})(),Ed=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})(),Jp=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})();new u.OlP("live announcer delay",{providedIn:"root",factory:function Xp(){return 100}});let Nf=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})(),tg=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})();const Of=[K_,uf,T0,Q_,j0,bs,Wp,Zp,tg,Id,ao,Y0,Q0,Cf,Py,Ed,Jp,Nf];let s1=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({imports:[Of,K_,uf,T0,Q_,j0,bs,Wp,Zp,tg,Id,ao,Y0,Q0,Cf,Py,Ed,Jp,Nf]})}return c})();var Dm=K(2772);function Td(c){return new u.vHH(3e3,!1)}function ha(c){switch(c.length){case 0:return new Yr;case 1:return c[0];default:return new Us(c)}}function Dh(c,f,o=new Map,d=new Map){const m=[],I=[];let x=-1,Z=null;if(f.forEach(se=>{const he=se.get("offset"),ye=he==x,$e=ye&&Z||new Map;se.forEach((nt,lt)=>{let Ct=lt,Bt=nt;if("offset"!==lt)switch(Ct=c.normalizePropertyName(Ct,m),Bt){case"!":Bt=o.get(lt);break;case os:Bt=d.get(lt);break;default:Bt=c.normalizeStyleValue(lt,Ct,Bt,m)}$e.set(Ct,Bt)}),ye||I.push($e),Z=$e,x=he}),m.length)throw function c1(c){return new u.vHH(3502,!1)}();return I}function Wy(c,f,o,d){switch(f){case"start":c.onStart(()=>d(o&&qy(o,"start",c)));break;case"done":c.onDone(()=>d(o&&qy(o,"done",c)));break;case"destroy":c.onDestroy(()=>d(o&&qy(o,"destroy",c)))}}function qy(c,f,o){const I=Om(c.element,c.triggerName,c.fromState,c.toState,f||c.phaseName,o.totalTime??c.totalTime,!!o.disabled),x=c._data;return null!=x&&(I._data=x),I}function Om(c,f,o,d,m="",I=0,x){return{element:c,triggerName:f,fromState:o,toState:d,phaseName:m,totalTime:I,disabled:!!x}}function fa(c,f,o){let d=c.get(f);return d||c.set(f,d=o),d}function Cd(c){const f=c.indexOf(":");return[c.substring(1,f),c.slice(f+1)]}const Sd=(()=>typeof document>"u"?null:document.documentElement)();function Ad(c){const f=c.parentNode||c.host||null;return f===Sd?null:f}let el=null,xf=!1;function Ky(c,f){for(;f;){if(f===c)return!0;f=Ad(f)}return!1}function xw(c,f,o){if(o)return Array.from(c.querySelectorAll(f));const d=c.querySelector(f);return d?[d]:[]}let g1=(()=>{class c{validateStyleProperty(o){return function Mw(c){el||(el=function p1(){return typeof document<"u"?document.body:null}()||{},xf=!!el.style&&"WebkitAppearance"in el.style);let f=!0;return el.style&&!function Zy(c){return"ebkit"==c.substring(1,6)}(c)&&(f=c in el.style,!f&&xf&&(f="Webkit"+c.charAt(0).toUpperCase()+c.slice(1)in el.style)),f}(o)}matchesElement(o,d){return!1}containsElement(o,d){return Ky(o,d)}getParentElement(o){return Ad(o)}query(o,d,m){return xw(o,d,m)}computeStyle(o,d,m){return m||""}animate(o,d,m,I,x,Z=[],se){return new Yr(m,I)}static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac})}return c})(),Yy=(()=>{class c{static#e=this.NOOP=new g1}return c})();const Qy=1e3,ec="ng-enter",Pf="ng-leave",og="ng-trigger",ag=".ng-trigger",cg="ng-animating",Nd=".ng-animating";function zn(c){if("number"==typeof c)return c;const f=c.match(/^(-?[\.\d]+)(m?s)/);return!f||f.length<2?0:kf(parseFloat(f[1]),f[2])}function kf(c,f){return"s"===f?c*Qy:c}function Od(c,f,o){return c.hasOwnProperty("duration")?c:function Ch(c,f,o){let m,I=0,x="";if("string"==typeof c){const Z=c.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Z)return f.push(Td()),{duration:0,delay:0,easing:""};m=kf(parseFloat(Z[1]),Z[2]);const se=Z[3];null!=se&&(I=kf(parseFloat(se),Z[4]));const he=Z[5];he&&(x=he)}else m=c;if(!o){let Z=!1,se=f.length;m<0&&(f.push(function Cm(){return new u.vHH(3100,!1)}()),Z=!0),I<0&&(f.push(function Cw(){return new u.vHH(3101,!1)}()),Z=!0),Z&&f.splice(se,0,Td())}return{duration:m,delay:I,easing:x}}(c,f,o)}function Hu(c,f={}){return Object.keys(c).forEach(o=>{f[o]=c[o]}),f}function m1(c){const f=new Map;return Object.keys(c).forEach(o=>{f.set(o,c[o])}),f}function Cl(c,f=new Map,o){if(o)for(let[d,m]of o)f.set(d,m);for(let[d,m]of c)f.set(d,m);return f}function tc(c,f,o){f.forEach((d,m)=>{const I=Rm(m);o&&!o.has(m)&&o.set(m,c.style[I]),c.style[I]=d})}function lu(c,f){f.forEach((o,d)=>{const m=Rm(d);c.style[m]=""})}function Gu(c){return Array.isArray(c)?1==c.length?c[0]:po(c):c}const Md=new RegExp("{{\\s*(.+?)\\s*}}","g");function xm(c){let f=[];if("string"==typeof c){let o;for(;o=Md.exec(c);)f.push(o[1]);Md.lastIndex=0}return f}function xd(c,f,o){const d=c.toString(),m=d.replace(Md,(I,x)=>{let Z=f[x];return null==Z&&(o.push(function Aw(c){return new u.vHH(3003,!1)}()),Z=""),Z.toString()});return m==d?c:m}function uu(c){const f=[];let o=c.next();for(;!o.done;)f.push(o.value),o=c.next();return f}const _1=/-+([a-z0-9])/g;function Rm(c){return c.replace(_1,(...f)=>f[1].toUpperCase())}function ts(c,f,o){switch(f.type){case 7:return c.visitTrigger(f,o);case 0:return c.visitState(f,o);case 1:return c.visitTransition(f,o);case 2:return c.visitSequence(f,o);case 3:return c.visitGroup(f,o);case 4:return c.visitAnimate(f,o);case 5:return c.visitKeyframes(f,o);case 6:return c.visitStyle(f,o);case 8:return c.visitReference(f,o);case 9:return c.visitAnimateChild(f,o);case 10:return c.visitAnimateRef(f,o);case 11:return c.visitQuery(f,o);case 12:return c.visitStagger(f,o);default:throw function Hy(c){return new u.vHH(3004,!1)}()}}function Jy(c,f){return window.getComputedStyle(c)[f]}const km="*";function w1(c,f){const o=[];return"string"==typeof c?c.split(/\s*,\s*/).forEach(d=>function tl(c,f,o){if(":"==c[0]){const se=function Xy(c,f){switch(c){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(o,d)=>parseFloat(d)>parseFloat(o);case":decrement":return(o,d)=>parseFloat(d)<parseFloat(o);default:return f.push(function VE(c){return new u.vHH(3016,!1)}()),"* => *"}}(c,o);if("function"==typeof se)return void f.push(se);c=se}const d=c.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==d||d.length<4)return o.push(function Nw(c){return new u.vHH(3015,!1)}()),f;const m=d[1],I=d[2],x=d[3];f.push(Fm(m,x));"<"==I[0]&&!(m==km&&x==km)&&f.push(Fm(x,m))}(d,o,f)):o.push(c),o}const Lf=new Set(["true","1"]),ju=new Set(["false","0"]);function Fm(c,f){const o=Lf.has(c)||ju.has(c),d=Lf.has(f)||ju.has(f);return(m,I)=>{let x=c==km||c==m,Z=f==km||f==I;return!x&&o&&"boolean"==typeof m&&(x=m?Lf.has(c):ju.has(c)),!Z&&d&&"boolean"==typeof I&&(Z=I?Lf.has(f):ju.has(f)),x&&Z}}const $u=new RegExp("s*:selfs*,?","g");function bc(c,f,o,d){return new Um(c).build(f,o,d)}class Um{constructor(f){this._driver=f}build(f,o,d){const m=new Vm(o);return this._resetContextStyleTimingState(m),ts(this,Gu(f),m)}_resetContextStyleTimingState(f){f.currentQuerySelector="",f.collectedStyles=new Map,f.collectedStyles.set("",new Map),f.currentTime=0}visitTrigger(f,o){let d=o.queryCount=0,m=o.depCount=0;const I=[],x=[];return"@"==f.name.charAt(0)&&o.errors.push(function da(){return new u.vHH(3006,!1)}()),f.definitions.forEach(Z=>{if(this._resetContextStyleTimingState(o),0==Z.type){const se=Z,he=se.name;he.toString().split(/\s*,\s*/).forEach(ye=>{se.name=ye,I.push(this.visitState(se,o))}),se.name=he}else if(1==Z.type){const se=this.visitTransition(Z,o);d+=se.queryCount,m+=se.depCount,x.push(se)}else o.errors.push(function au(){return new u.vHH(3007,!1)}())}),{type:7,name:f.name,states:I,transitions:x,queryCount:d,depCount:m,options:null}}visitState(f,o){const d=this.visitStyle(f.styles,o),m=f.options&&f.options.params||null;if(d.containsDynamicStyles){const I=new Set,x=m||{};d.styles.forEach(Z=>{Z instanceof Map&&Z.forEach(se=>{xm(se).forEach(he=>{x.hasOwnProperty(he)||I.add(he)})})}),I.size&&(uu(I.values()),o.errors.push(function Gy(c,f){return new u.vHH(3008,!1)}()))}return{type:0,name:f.name,style:d,options:m?{params:m}:null}}visitTransition(f,o){o.queryCount=0,o.depCount=0;const d=ts(this,Gu(f.animation),o);return{type:1,matchers:w1(f.expr,o.errors),animation:d,queryCount:o.queryCount,depCount:o.depCount,options:zu(f.options)}}visitSequence(f,o){return{type:2,steps:f.steps.map(d=>ts(this,d,o)),options:zu(f.options)}}visitGroup(f,o){const d=o.currentTime;let m=0;const I=f.steps.map(x=>{o.currentTime=d;const Z=ts(this,x,o);return m=Math.max(m,o.currentTime),Z});return o.currentTime=m,{type:3,steps:I,options:zu(f.options)}}visitAnimate(f,o){const d=function nc(c,f){if(c.hasOwnProperty("duration"))return c;if("number"==typeof c)return ev(Od(c,f).duration,0,"");const o=c;if(o.split(/\s+/).some(I=>"{"==I.charAt(0)&&"{"==I.charAt(1))){const I=ev(0,0,"");return I.dynamic=!0,I.strValue=o,I}const m=Od(o,f);return ev(m.duration,m.delay,m.easing)}(f.timings,o.errors);o.currentAnimateTimings=d;let m,I=f.styles?f.styles:Vi({});if(5==I.type)m=this.visitKeyframes(I,o);else{let x=f.styles,Z=!1;if(!x){Z=!0;const he={};d.easing&&(he.easing=d.easing),x=Vi(he)}o.currentTime+=d.duration+d.delay;const se=this.visitStyle(x,o);se.isEmptyStep=Z,m=se}return o.currentAnimateTimings=null,{type:4,timings:d,style:m,options:null}}visitStyle(f,o){const d=this._makeStyleAst(f,o);return this._validateStyleAst(d,o),d}_makeStyleAst(f,o){const d=[],m=Array.isArray(f.styles)?f.styles:[f.styles];for(let Z of m)"string"==typeof Z?Z===os?d.push(Z):o.errors.push(new u.vHH(3002,!1)):d.push(m1(Z));let I=!1,x=null;return d.forEach(Z=>{if(Z instanceof Map&&(Z.has("easing")&&(x=Z.get("easing"),Z.delete("easing")),!I))for(let se of Z.values())if(se.toString().indexOf("{{")>=0){I=!0;break}}),{type:6,styles:d,easing:x,offset:f.offset,containsDynamicStyles:I,options:null}}_validateStyleAst(f,o){const d=o.currentAnimateTimings;let m=o.currentTime,I=o.currentTime;d&&I>0&&(I-=d.duration+d.delay),f.styles.forEach(x=>{"string"!=typeof x&&x.forEach((Z,se)=>{const he=o.collectedStyles.get(o.currentQuerySelector),ye=he.get(se);let $e=!0;ye&&(I!=m&&I>=ye.startTime&&m<=ye.endTime&&(o.errors.push(function gi(c,f,o,d,m){return new u.vHH(3010,!1)}()),$e=!1),I=ye.startTime),$e&&he.set(se,{startTime:I,endTime:m}),o.options&&function Mm(c,f,o){const d=f.params||{},m=xm(c);m.length&&m.forEach(I=>{d.hasOwnProperty(I)||o.push(function Sw(c){return new u.vHH(3001,!1)}())})}(Z,o.options,o.errors)})})}visitKeyframes(f,o){const d={type:5,styles:[],options:null};if(!o.currentAnimateTimings)return o.errors.push(function Sm(){return new u.vHH(3011,!1)}()),d;let I=0;const x=[];let Z=!1,se=!1,he=0;const ye=f.steps.map(An=>{const Bn=this._makeStyleAst(An,o);let pr=null!=Bn.offset?Bn.offset:function I1(c){if("string"==typeof c)return null;let f=null;if(Array.isArray(c))c.forEach(o=>{if(o instanceof Map&&o.has("offset")){const d=o;f=parseFloat(d.get("offset")),d.delete("offset")}});else if(c instanceof Map&&c.has("offset")){const o=c;f=parseFloat(o.get("offset")),o.delete("offset")}return f}(Bn.styles),Wt=0;return null!=pr&&(I++,Wt=Bn.offset=pr),se=se||Wt<0||Wt>1,Z=Z||Wt<he,he=Wt,x.push(Wt),Bn});se&&o.errors.push(function rg(){return new u.vHH(3012,!1)}()),Z&&o.errors.push(function ig(){return new u.vHH(3200,!1)}());const $e=f.steps.length;let nt=0;I>0&&I<$e?o.errors.push(function jy(){return new u.vHH(3202,!1)}()):0==I&&(nt=1/($e-1));const lt=$e-1,Ct=o.currentTime,Bt=o.currentAnimateTimings,zt=Bt.duration;return ye.forEach((An,Bn)=>{const pr=nt>0?Bn==lt?1:nt*Bn:x[Bn],Wt=pr*zt;o.currentTime=Ct+Bt.delay+Wt,Bt.duration=Wt,this._validateStyleAst(An,o),An.offset=pr,d.styles.push(An)}),d}visitReference(f,o){return{type:8,animation:ts(this,Gu(f.animation),o),options:zu(f.options)}}visitAnimateChild(f,o){return o.depCount++,{type:9,options:zu(f.options)}}visitAnimateRef(f,o){return{type:10,animation:this.visitReference(f.animation,o),options:zu(f.options)}}visitQuery(f,o){const d=o.currentQuerySelector,m=f.options||{};o.queryCount++,o.currentQuery=f;const[I,x]=function Bm(c){const f=!!c.split(/\s*,\s*/).find(o=>":self"==o);return f&&(c=c.replace($u,"")),c=c.replace(/@\*/g,ag).replace(/@\w+/g,o=>ag+"-"+o.slice(1)).replace(/:animating/g,Nd),[c,f]}(f.selector);o.currentQuerySelector=d.length?d+" "+I:I,fa(o.collectedStyles,o.currentQuerySelector,new Map);const Z=ts(this,Gu(f.animation),o);return o.currentQuery=null,o.currentQuerySelector=d,{type:11,selector:I,limit:m.limit||0,optional:!!m.optional,includeSelf:x,animation:Z,originalSelector:f.selector,options:zu(f.options)}}visitStagger(f,o){o.currentQuery||o.errors.push(function Tl(){return new u.vHH(3013,!1)}());const d="full"===f.timings?{duration:0,delay:0,easing:"full"}:Od(f.timings,o.errors,!0);return{type:12,animation:ts(this,Gu(f.animation),o),timings:d,options:null}}}class Vm{constructor(f){this.errors=f,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function zu(c){return c?(c=Hu(c)).params&&(c.params=function ug(c){return c?Hu(c):null}(c.params)):c={},c}function ev(c,f,o){return{duration:c,delay:f,easing:o}}function Uf(c,f,o,d,m,I,x=null,Z=!1){return{type:1,element:c,keyframes:f,preStyleProps:o,postStyleProps:d,duration:m,delay:I,totalTime:m+I,easing:x,subTimeline:Z}}class Hm{constructor(){this._map=new Map}get(f){return this._map.get(f)||[]}append(f,o){let d=this._map.get(f);d||this._map.set(f,d=[]),d.push(...o)}has(f){return this._map.has(f)}clear(){this._map.clear()}}const Gm=new RegExp(":enter","g"),jE=new RegExp(":leave","g");function jm(c,f,o,d,m,I=new Map,x=new Map,Z,se,he=[]){return(new Sh).buildKeyframes(c,f,o,d,m,I,x,Z,se,he)}class Sh{buildKeyframes(f,o,d,m,I,x,Z,se,he,ye=[]){he=he||new Hm;const $e=new eo(f,o,he,m,I,ye,[]);$e.options=se;const nt=se.delay?zn(se.delay):0;$e.currentTimeline.delayNextStep(nt),$e.currentTimeline.setStyles([x],null,$e.errors,se),ts(this,d,$e);const lt=$e.timelines.filter(Ct=>Ct.containsAnimation());if(lt.length&&Z.size){let Ct;for(let Bt=lt.length-1;Bt>=0;Bt--){const zt=lt[Bt];if(zt.element===o){Ct=zt;break}}Ct&&!Ct.allowOnlyTimelineStyles()&&Ct.setStyles([Z],null,$e.errors,se)}return lt.length?lt.map(Ct=>Ct.buildKeyframes()):[Uf(o,[],[],[],0,nt,"",!1)]}visitTrigger(f,o){}visitState(f,o){}visitTransition(f,o){}visitAnimateChild(f,o){const d=o.subInstructions.get(o.element);if(d){const m=o.createSubContext(f.options),I=o.currentTimeline.currentTime,x=this._visitSubInstructions(d,m,m.options);I!=x&&o.transformIntoNewTimeline(x)}o.previousNode=f}visitAnimateRef(f,o){const d=o.createSubContext(f.options);d.transformIntoNewTimeline(),this._applyAnimationRefDelays([f.options,f.animation.options],o,d),this.visitReference(f.animation,d),o.transformIntoNewTimeline(d.currentTimeline.currentTime),o.previousNode=f}_applyAnimationRefDelays(f,o,d){for(const m of f){const I=m?.delay;if(I){const x="number"==typeof I?I:zn(xd(I,m?.params??{},o.errors));d.delayNextStep(x)}}}_visitSubInstructions(f,o,d){let I=o.currentTimeline.currentTime;const x=null!=d.duration?zn(d.duration):null,Z=null!=d.delay?zn(d.delay):null;return 0!==x&&f.forEach(se=>{const he=o.appendInstructionToTimeline(se,x,Z);I=Math.max(I,he.duration+he.delay)}),I}visitReference(f,o){o.updateOptions(f.options,!0),ts(this,f.animation,o),o.previousNode=f}visitSequence(f,o){const d=o.subContextCount;let m=o;const I=f.options;if(I&&(I.params||I.delay)&&(m=o.createSubContext(I),m.transformIntoNewTimeline(),null!=I.delay)){6==m.previousNode.type&&(m.currentTimeline.snapshotCurrentStyles(),m.previousNode=Vf);const x=zn(I.delay);m.delayNextStep(x)}f.steps.length&&(f.steps.forEach(x=>ts(this,x,m)),m.currentTimeline.applyStylesToKeyframe(),m.subContextCount>d&&m.transformIntoNewTimeline()),o.previousNode=f}visitGroup(f,o){const d=[];let m=o.currentTimeline.currentTime;const I=f.options&&f.options.delay?zn(f.options.delay):0;f.steps.forEach(x=>{const Z=o.createSubContext(f.options);I&&Z.delayNextStep(I),ts(this,x,Z),m=Math.max(m,Z.currentTimeline.currentTime),d.push(Z.currentTimeline)}),d.forEach(x=>o.currentTimeline.mergeTimelineCollectedStyles(x)),o.transformIntoNewTimeline(m),o.previousNode=f}_visitTiming(f,o){if(f.dynamic){const d=f.strValue;return Od(o.params?xd(d,o.params,o.errors):d,o.errors)}return{duration:f.duration,delay:f.delay,easing:f.easing}}visitAnimate(f,o){const d=o.currentAnimateTimings=this._visitTiming(f.timings,o),m=o.currentTimeline;d.delay&&(o.incrementTime(d.delay),m.snapshotCurrentStyles());const I=f.style;5==I.type?this.visitKeyframes(I,o):(o.incrementTime(d.duration),this.visitStyle(I,o),m.applyStylesToKeyframe()),o.currentAnimateTimings=null,o.previousNode=f}visitStyle(f,o){const d=o.currentTimeline,m=o.currentAnimateTimings;!m&&d.hasCurrentStyleProperties()&&d.forwardFrame();const I=m&&m.easing||f.easing;f.isEmptyStep?d.applyEmptyStep(I):d.setStyles(f.styles,I,o.errors,o.options),o.previousNode=f}visitKeyframes(f,o){const d=o.currentAnimateTimings,m=o.currentTimeline.duration,I=d.duration,Z=o.createSubContext().currentTimeline;Z.easing=d.easing,f.styles.forEach(se=>{Z.forwardTime((se.offset||0)*I),Z.setStyles(se.styles,se.easing,o.errors,o.options),Z.applyStylesToKeyframe()}),o.currentTimeline.mergeTimelineCollectedStyles(Z),o.transformIntoNewTimeline(m+I),o.previousNode=f}visitQuery(f,o){const d=o.currentTimeline.currentTime,m=f.options||{},I=m.delay?zn(m.delay):0;I&&(6===o.previousNode.type||0==d&&o.currentTimeline.hasCurrentStyleProperties())&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=Vf);let x=d;const Z=o.invokeQuery(f.selector,f.originalSelector,f.limit,f.includeSelf,!!m.optional,o.errors);o.currentQueryTotal=Z.length;let se=null;Z.forEach((he,ye)=>{o.currentQueryIndex=ye;const $e=o.createSubContext(f.options,he);I&&$e.delayNextStep(I),he===o.element&&(se=$e.currentTimeline),ts(this,f.animation,$e),$e.currentTimeline.applyStylesToKeyframe(),x=Math.max(x,$e.currentTimeline.currentTime)}),o.currentQueryIndex=0,o.currentQueryTotal=0,o.transformIntoNewTimeline(x),se&&(o.currentTimeline.mergeTimelineCollectedStyles(se),o.currentTimeline.snapshotCurrentStyles()),o.previousNode=f}visitStagger(f,o){const d=o.parentContext,m=o.currentTimeline,I=f.timings,x=Math.abs(I.duration),Z=x*(o.currentQueryTotal-1);let se=x*o.currentQueryIndex;switch(I.duration<0?"reverse":I.easing){case"reverse":se=Z-se;break;case"full":se=d.currentStaggerTime}const ye=o.currentTimeline;se&&ye.delayNextStep(se);const $e=ye.currentTime;ts(this,f.animation,o),o.previousNode=f,d.currentStaggerTime=m.currentTime-$e+(m.startTime-d.currentTimeline.startTime)}}const Vf={};class eo{constructor(f,o,d,m,I,x,Z,se){this._driver=f,this.element=o,this.subInstructions=d,this._enterClassName=m,this._leaveClassName=I,this.errors=x,this.timelines=Z,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Vf,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=se||new Sl(this._driver,o,0),Z.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(f,o){if(!f)return;const d=f;let m=this.options;null!=d.duration&&(m.duration=zn(d.duration)),null!=d.delay&&(m.delay=zn(d.delay));const I=d.params;if(I){let x=m.params;x||(x=this.options.params={}),Object.keys(I).forEach(Z=>{(!o||!x.hasOwnProperty(Z))&&(x[Z]=xd(I[Z],x,this.errors))})}}_copyOptions(){const f={};if(this.options){const o=this.options.params;if(o){const d=f.params={};Object.keys(o).forEach(m=>{d[m]=o[m]})}}return f}createSubContext(f=null,o,d){const m=o||this.element,I=new eo(this._driver,m,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(m,d||0));return I.previousNode=this.previousNode,I.currentAnimateTimings=this.currentAnimateTimings,I.options=this._copyOptions(),I.updateOptions(f),I.currentQueryIndex=this.currentQueryIndex,I.currentQueryTotal=this.currentQueryTotal,I.parentContext=this,this.subContextCount++,I}transformIntoNewTimeline(f){return this.previousNode=Vf,this.currentTimeline=this.currentTimeline.fork(this.element,f),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(f,o,d){const m={duration:o??f.duration,delay:this.currentTimeline.currentTime+(d??0)+f.delay,easing:""},I=new Ra(this._driver,f.element,f.keyframes,f.preStyleProps,f.postStyleProps,m,f.stretchStartingKeyframe);return this.timelines.push(I),m}incrementTime(f){this.currentTimeline.forwardTime(this.currentTimeline.duration+f)}delayNextStep(f){f>0&&this.currentTimeline.delayNextStep(f)}invokeQuery(f,o,d,m,I,x){let Z=[];if(m&&Z.push(this.element),f.length>0){f=(f=f.replace(Gm,"."+this._enterClassName)).replace(jE,"."+this._leaveClassName);let he=this._driver.query(this.element,f,1!=d);0!==d&&(he=d<0?he.slice(he.length+d,he.length):he.slice(0,d)),Z.push(...he)}return!I&&0==Z.length&&x.push(function a1(c){return new u.vHH(3014,!1)}()),Z}}class Sl{constructor(f,o,d,m){this._driver=f,this.element=o,this.startTime=d,this._elementTimelineStylesLookup=m,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(o),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(o,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(f){const o=1===this._keyframes.size&&this._pendingStyles.size;this.duration||o?(this.forwardTime(this.currentTime+f),o&&this.snapshotCurrentStyles()):this.startTime+=f}fork(f,o){return this.applyStylesToKeyframe(),new Sl(this._driver,f,o||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(f){this.applyStylesToKeyframe(),this.duration=f,this._loadKeyframe()}_updateStyle(f,o){this._localTimelineStyles.set(f,o),this._globalTimelineStyles.set(f,o),this._styleSummary.set(f,{time:this.currentTime,value:o})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(f){f&&this._previousKeyframe.set("easing",f);for(let[o,d]of this._globalTimelineStyles)this._backFill.set(o,d||os),this._currentKeyframe.set(o,os);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(f,o,d,m){o&&this._previousKeyframe.set("easing",o);const I=m&&m.params||{},x=function $E(c,f){const o=new Map;let d;return c.forEach(m=>{if("*"===m){d=d||f.keys();for(let I of d)o.set(I,os)}else Cl(m,o)}),o}(f,this._globalTimelineStyles);for(let[Z,se]of x){const he=xd(se,I,d);this._pendingStyles.set(Z,he),this._localTimelineStyles.has(Z)||this._backFill.set(Z,this._globalTimelineStyles.get(Z)??os),this._updateStyle(Z,he)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((f,o)=>{this._currentKeyframe.set(o,f)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((f,o)=>{this._currentKeyframe.has(o)||this._currentKeyframe.set(o,f)}))}snapshotCurrentStyles(){for(let[f,o]of this._localTimelineStyles)this._pendingStyles.set(f,o),this._updateStyle(f,o)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const f=[];for(let o in this._currentKeyframe)f.push(o);return f}mergeTimelineCollectedStyles(f){f._styleSummary.forEach((o,d)=>{const m=this._styleSummary.get(d);(!m||o.time>m.time)&&this._updateStyle(d,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();const f=new Set,o=new Set,d=1===this._keyframes.size&&0===this.duration;let m=[];this._keyframes.forEach((Z,se)=>{const he=Cl(Z,new Map,this._backFill);he.forEach((ye,$e)=>{"!"===ye?f.add($e):ye===os&&o.add($e)}),d||he.set("offset",se/this.duration),m.push(he)});const I=f.size?uu(f.values()):[],x=o.size?uu(o.values()):[];if(d){const Z=m[0],se=new Map(Z);Z.set("offset",0),se.set("offset",1),m=[Z,se]}return Uf(this.element,m,I,x,this.duration,this.startTime,this.easing,!1)}}class Ra extends Sl{constructor(f,o,d,m,I,x,Z=!1){super(f,o,x.delay),this.keyframes=d,this.preStyleProps=m,this.postStyleProps=I,this._stretchStartingKeyframe=Z,this.timings={duration:x.duration,delay:x.delay,easing:x.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let f=this.keyframes,{delay:o,duration:d,easing:m}=this.timings;if(this._stretchStartingKeyframe&&o){const I=[],x=d+o,Z=o/x,se=Cl(f[0]);se.set("offset",0),I.push(se);const he=Cl(f[0]);he.set("offset",$m(Z)),I.push(he);const ye=f.length-1;for(let $e=1;$e<=ye;$e++){let nt=Cl(f[$e]);const lt=nt.get("offset");nt.set("offset",$m((o+lt*d)/x)),I.push(nt)}d=x,o=0,m="",f=I}return Uf(this.element,f,this.preStyleProps,this.postStyleProps,d,o,m,!0)}}function $m(c,f=3){const o=Math.pow(10,f-1);return Math.round(c*o)/o}class ws{}const nv=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class gn extends ws{normalizePropertyName(f,o){return Rm(f)}normalizeStyleValue(f,o,d,m){let I="";const x=d.toString().trim();if(nv.has(o)&&0!==d&&"0"!==d)if("number"==typeof d)I="px";else{const Z=d.match(/^[+-]?[\d\.]+([a-z]*)$/);Z&&0==Z[1].length&&m.push(function o1(c,f){return new u.vHH(3005,!1)}())}return x+I}}function En(c,f,o,d,m,I,x,Z,se,he,ye,$e,nt){return{type:0,element:c,triggerName:f,isRemovalTransition:m,fromState:o,fromStyles:I,toState:d,toStyles:x,timelines:Z,queriedElements:se,preStyleProps:he,postStyleProps:ye,totalTime:$e,errors:nt}}const rv={};class Kt{constructor(f,o,d){this._triggerName=f,this.ast=o,this._stateStyles=d}match(f,o,d,m){return function At(c,f,o,d,m){return c.some(I=>I(f,o,d,m))}(this.ast.matchers,f,o,d,m)}buildStyles(f,o,d){let m=this._stateStyles.get("*");return void 0!==f&&(m=this._stateStyles.get(f?.toString())||m),m?m.buildStyles(o,d):new Map}build(f,o,d,m,I,x,Z,se,he,ye){const $e=[],nt=this.ast.options&&this.ast.options.params||rv,Ct=this.buildStyles(d,Z&&Z.params||rv,$e),Bt=se&&se.params||rv,zt=this.buildStyles(m,Bt,$e),An=new Set,Bn=new Map,pr=new Map,Wt="void"===m,cr={params:lo(Bt,nt),delay:this.ast.options?.delay},er=ye?[]:jm(f,o,this.ast.animation,I,x,Ct,zt,cr,he,$e);let gr=0;if(er.forEach(ei=>{gr=Math.max(ei.duration+ei.delay,gr)}),$e.length)return En(o,this._triggerName,d,m,Wt,Ct,zt,[],[],Bn,pr,gr,$e);er.forEach(ei=>{const di=ei.element,no=fa(Bn,di,new Set);ei.preStyleProps.forEach(ui=>no.add(ui));const Ds=fa(pr,di,new Set);ei.postStyleProps.forEach(ui=>Ds.add(ui)),di!==o&&An.add(di)});const Gr=uu(An.values());return En(o,this._triggerName,d,m,Wt,Ct,zt,er,Gr,Bn,pr,gr)}}function lo(c,f){const o=Hu(f);for(const d in c)c.hasOwnProperty(d)&&null!=c[d]&&(o[d]=c[d]);return o}class iv{constructor(f,o,d){this.styles=f,this.defaultParams=o,this.normalizer=d}buildStyles(f,o){const d=new Map,m=Hu(this.defaultParams);return Object.keys(f).forEach(I=>{const x=f[I];null!==x&&(m[I]=x)}),this.styles.styles.forEach(I=>{"string"!=typeof I&&I.forEach((x,Z)=>{x&&(x=xd(x,m,o));const se=this.normalizer.normalizePropertyName(Z,o);x=this.normalizer.normalizeStyleValue(Z,se,x,o),d.set(Z,x)})}),d}}class kw{constructor(f,o,d){this.name=f,this.ast=o,this._normalizer=d,this.transitionFactories=[],this.states=new Map,o.states.forEach(m=>{this.states.set(m.name,new iv(m.style,m.options&&m.options.params||{},d))}),sv(this.states,"true","1"),sv(this.states,"false","0"),o.transitions.forEach(m=>{this.transitionFactories.push(new Kt(f,m,this.states))}),this.fallbackTransition=function T1(c,f,o){return new Kt(c,{type:1,animation:{type:2,steps:[],options:null},matchers:[(x,Z)=>!0],options:null,queryCount:0,depCount:0},f)}(f,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(f,o,d,m){return this.transitionFactories.find(x=>x.match(f,o,d,m))||null}matchStyles(f,o,d){return this.fallbackTransition.buildStyles(f,o,d)}}function sv(c,f,o){c.has(f)?c.has(o)||c.set(o,c.get(f)):c.has(o)&&c.set(f,c.get(o))}const dg=new Hm;class D1{constructor(f,o,d){this.bodyNode=f,this._driver=o,this._normalizer=d,this._animations=new Map,this._playersById=new Map,this.players=[]}register(f,o){const d=[],I=bc(this._driver,o,d,[]);if(d.length)throw function l1(c){return new u.vHH(3503,!1)}();this._animations.set(f,I)}_buildPlayer(f,o,d){const m=f.element,I=Dh(this._normalizer,f.keyframes,o,d);return this._driver.animate(m,I,f.duration,f.delay,f.easing,[],!0)}create(f,o,d={}){const m=[],I=this._animations.get(f);let x;const Z=new Map;if(I?(x=jm(this._driver,o,I,ec,Pf,new Map,new Map,d,dg,m),x.forEach(ye=>{const $e=fa(Z,ye.element,new Map);ye.postStyleProps.forEach(nt=>$e.set(nt,null))})):(m.push(function Am(){return new u.vHH(3300,!1)}()),x=[]),m.length)throw function Eh(c){return new u.vHH(3504,!1)}();Z.forEach((ye,$e)=>{ye.forEach((nt,lt)=>{ye.set(lt,this._driver.computeStyle($e,lt,os))})});const he=ha(x.map(ye=>{const $e=Z.get(ye.element);return this._buildPlayer(ye,new Map,$e)}));return this._playersById.set(f,he),he.onDestroy(()=>this.destroy(f)),this.players.push(he),he}destroy(f){const o=this._getPlayer(f);o.destroy(),this._playersById.delete(f);const d=this.players.indexOf(o);d>=0&&this.players.splice(d,1)}_getPlayer(f){const o=this._playersById.get(f);if(!o)throw function u1(c){return new u.vHH(3301,!1)}();return o}listen(f,o,d,m){const I=Om(o,"","","");return Wy(this._getPlayer(f),d,I,m),()=>{}}command(f,o,d,m){if("register"==d)return void this.register(f,m[0]);if("create"==d)return void this.create(f,o,m[0]||{});const I=this._getPlayer(f);switch(d){case"play":I.play();break;case"pause":I.pause();break;case"reset":I.reset();break;case"restart":I.restart();break;case"finish":I.finish();break;case"init":I.init();break;case"setPosition":I.setPosition(parseFloat(m[0]));break;case"destroy":this.destroy(f)}}}const ov="ng-animate-queued",av="ng-animate-disabled",S1=[],hs={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},On={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},rc="__ng_removed";class qr{get params(){return this.options.params}constructor(f,o=""){this.namespaceId=o;const d=f&&f.hasOwnProperty("value");if(this.value=function Lw(c){return c??null}(d?f.value:f),d){const I=Hu(f);delete I.value,this.options=I}else this.options={};this.options.params||(this.options.params={})}absorbOptions(f){const o=f.params;if(o){const d=this.options.params;Object.keys(o).forEach(m=>{null==d[m]&&(d[m]=o[m])})}}}const hg="void",Is=new qr(hg);class Jt{constructor(f,o,d){this.id=f,this.hostElement=o,this._engine=d,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+f,ns(o,this._hostClassName)}listen(f,o,d,m){if(!this._triggers.has(o))throw function Ow(c,f){return new u.vHH(3302,!1)}();if(null==d||0==d.length)throw function $y(c){return new u.vHH(3303,!1)}();if(!function Uw(c){return"start"==c||"done"==c}(d))throw function d1(c,f){return new u.vHH(3400,!1)}();const I=fa(this._elementListeners,f,[]),x={name:o,phase:d,callback:m};I.push(x);const Z=fa(this._engine.statesByElement,f,new Map);return Z.has(o)||(ns(f,og),ns(f,og+"-"+o),Z.set(o,Is)),()=>{this._engine.afterFlush(()=>{const se=I.indexOf(x);se>=0&&I.splice(se,1),this._triggers.has(o)||Z.delete(o)})}}register(f,o){return!this._triggers.has(f)&&(this._triggers.set(f,o),!0)}_getTrigger(f){const o=this._triggers.get(f);if(!o)throw function h1(c){return new u.vHH(3401,!1)}();return o}trigger(f,o,d,m=!0){const I=this._getTrigger(o),x=new fg(this.id,o,f);let Z=this._engine.statesByElement.get(f);Z||(ns(f,og),ns(f,og+"-"+o),this._engine.statesByElement.set(f,Z=new Map));let se=Z.get(o);const he=new qr(d,this.id);if(!(d&&d.hasOwnProperty("value"))&&se&&he.absorbOptions(se.options),Z.set(o,he),se||(se=Is),he.value!==hg&&se.value===he.value){if(!function zm(c,f){const o=Object.keys(c),d=Object.keys(f);if(o.length!=d.length)return!1;for(let m=0;m<o.length;m++){const I=o[m];if(!f.hasOwnProperty(I)||c[I]!==f[I])return!1}return!0}(se.params,he.params)){const Bt=[],zt=I.matchStyles(se.value,se.params,Bt),An=I.matchStyles(he.value,he.params,Bt);Bt.length?this._engine.reportError(Bt):this._engine.afterFlush(()=>{lu(f,zt),tc(f,An)})}return}const nt=fa(this._engine.playersByElement,f,[]);nt.forEach(Bt=>{Bt.namespaceId==this.id&&Bt.triggerName==o&&Bt.queued&&Bt.destroy()});let lt=I.matchTransition(se.value,he.value,f,he.params),Ct=!1;if(!lt){if(!m)return;lt=I.fallbackTransition,Ct=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:f,triggerName:o,transition:lt,fromState:se,toState:he,player:x,isFallbackTransition:Ct}),Ct||(ns(f,ov),x.onStart(()=>{Wu(f,ov)})),x.onDone(()=>{let Bt=this.players.indexOf(x);Bt>=0&&this.players.splice(Bt,1);const zt=this._engine.playersByElement.get(f);if(zt){let An=zt.indexOf(x);An>=0&&zt.splice(An,1)}}),this.players.push(x),nt.push(x),x}deregister(f){this._triggers.delete(f),this._engine.statesByElement.forEach(o=>o.delete(f)),this._elementListeners.forEach((o,d)=>{this._elementListeners.set(d,o.filter(m=>m.name!=f))})}clearElementCache(f){this._engine.statesByElement.delete(f),this._elementListeners.delete(f);const o=this._engine.playersByElement.get(f);o&&(o.forEach(d=>d.destroy()),this._engine.playersByElement.delete(f))}_signalRemovalForInnerTriggers(f,o){const d=this._engine.driver.query(f,ag,!0);d.forEach(m=>{if(m[rc])return;const I=this._engine.fetchNamespacesByElement(m);I.size?I.forEach(x=>x.triggerLeaveAnimation(m,o,!1,!0)):this.clearElementCache(m)}),this._engine.afterFlushAnimationsDone(()=>d.forEach(m=>this.clearElementCache(m)))}triggerLeaveAnimation(f,o,d,m){const I=this._engine.statesByElement.get(f),x=new Map;if(I){const Z=[];if(I.forEach((se,he)=>{if(x.set(he,se.value),this._triggers.has(he)){const ye=this.trigger(f,he,hg,m);ye&&Z.push(ye)}}),Z.length)return this._engine.markElementAsRemoved(this.id,f,!0,o,x),d&&ha(Z).onDone(()=>this._engine.processLeaveNode(f)),!0}return!1}prepareLeaveAnimationListeners(f){const o=this._elementListeners.get(f),d=this._engine.statesByElement.get(f);if(o&&d){const m=new Set;o.forEach(I=>{const x=I.name;if(m.has(x))return;m.add(x);const se=this._triggers.get(x).fallbackTransition,he=d.get(x)||Is,ye=new qr(hg),$e=new fg(this.id,x,f);this._engine.totalQueuedPlayers++,this._queue.push({element:f,triggerName:x,transition:se,fromState:he,toState:ye,player:$e,isFallbackTransition:!0})})}}removeNode(f,o){const d=this._engine;if(f.childElementCount&&this._signalRemovalForInnerTriggers(f,o),this.triggerLeaveAnimation(f,o,!0))return;let m=!1;if(d.totalAnimations){const I=d.players.length?d.playersByQueriedElement.get(f):[];if(I&&I.length)m=!0;else{let x=f;for(;x=x.parentNode;)if(d.statesByElement.get(x)){m=!0;break}}}if(this.prepareLeaveAnimationListeners(f),m)d.markElementAsRemoved(this.id,f,!1,o);else{const I=f[rc];(!I||I===hs)&&(d.afterFlush(()=>this.clearElementCache(f)),d.destroyInnerAnimations(f),d._onRemovalComplete(f,o))}}insertNode(f,o){ns(f,this._hostClassName)}drainQueuedTransitions(f){const o=[];return this._queue.forEach(d=>{const m=d.player;if(m.destroyed)return;const I=d.element,x=this._elementListeners.get(I);x&&x.forEach(Z=>{if(Z.name==d.triggerName){const se=Om(I,d.triggerName,d.fromState.value,d.toState.value);se._data=f,Wy(d.player,Z.phase,se,Z.callback)}}),m.markedForDestroy?this._engine.afterFlush(()=>{m.destroy()}):o.push(d)}),this._queue=[],o.sort((d,m)=>{const I=d.transition.ast.depCount,x=m.transition.ast.depCount;return 0==I||0==x?I-x:this._engine.driver.containsElement(d.element,m.element)?1:-1})}destroy(f){this.players.forEach(o=>o.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,f)}}class Gf{_onRemovalComplete(f,o){this.onRemovalComplete(f,o)}constructor(f,o,d){this.bodyNode=f,this.driver=o,this._normalizer=d,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(m,I)=>{}}get queuedPlayers(){const f=[];return this._namespaceList.forEach(o=>{o.players.forEach(d=>{d.queued&&f.push(d)})}),f}createNamespace(f,o){const d=new Jt(f,o,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,o)?this._balanceNamespaceList(d,o):(this.newHostElements.set(o,d),this.collectEnterElement(o)),this._namespaceLookup[f]=d}_balanceNamespaceList(f,o){const d=this._namespaceList,m=this.namespacesByHostElement;if(d.length-1>=0){let x=!1,Z=this.driver.getParentElement(o);for(;Z;){const se=m.get(Z);if(se){const he=d.indexOf(se);d.splice(he+1,0,f),x=!0;break}Z=this.driver.getParentElement(Z)}x||d.unshift(f)}else d.push(f);return m.set(o,f),f}register(f,o){let d=this._namespaceLookup[f];return d||(d=this.createNamespace(f,o)),d}registerTrigger(f,o,d){let m=this._namespaceLookup[f];m&&m.register(o,d)&&this.totalAnimations++}destroy(f,o){f&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const d=this._fetchNamespace(f);this.namespacesByHostElement.delete(d.hostElement);const m=this._namespaceList.indexOf(d);m>=0&&this._namespaceList.splice(m,1),d.destroy(o),delete this._namespaceLookup[f]}))}_fetchNamespace(f){return this._namespaceLookup[f]}fetchNamespacesByElement(f){const o=new Set,d=this.statesByElement.get(f);if(d)for(let m of d.values())if(m.namespaceId){const I=this._fetchNamespace(m.namespaceId);I&&o.add(I)}return o}trigger(f,o,d,m){if(Ah(o)){const I=this._fetchNamespace(f);if(I)return I.trigger(o,d,m),!0}return!1}insertNode(f,o,d,m){if(!Ah(o))return;const I=o[rc];if(I&&I.setForRemoval){I.setForRemoval=!1,I.setForMove=!0;const x=this.collectedLeaveElements.indexOf(o);x>=0&&this.collectedLeaveElements.splice(x,1)}if(f){const x=this._fetchNamespace(f);x&&x.insertNode(o,d)}m&&this.collectEnterElement(o)}collectEnterElement(f){this.collectedEnterElements.push(f)}markElementAsDisabled(f,o){o?this.disabledNodes.has(f)||(this.disabledNodes.add(f),ns(f,av)):this.disabledNodes.has(f)&&(this.disabledNodes.delete(f),Wu(f,av))}removeNode(f,o,d){if(Ah(o)){const m=f?this._fetchNamespace(f):null;m?m.removeNode(o,d):this.markElementAsRemoved(f,o,!1,d);const I=this.namespacesByHostElement.get(o);I&&I.id!==f&&I.removeNode(o,d)}else this._onRemovalComplete(o,d)}markElementAsRemoved(f,o,d,m,I){this.collectedLeaveElements.push(o),o[rc]={namespaceId:f,setForRemoval:m,hasAnimation:d,removedBeforeQueried:!1,previousTriggersValues:I}}listen(f,o,d,m,I){return Ah(o)?this._fetchNamespace(f).listen(o,d,m,I):()=>{}}_buildInstruction(f,o,d,m,I){return f.transition.build(this.driver,f.element,f.fromState.value,f.toState.value,d,m,f.fromState.options,f.toState.options,o,I)}destroyInnerAnimations(f){let o=this.driver.query(f,ag,!0);o.forEach(d=>this.destroyActiveAnimationsForElement(d)),0!=this.playersByQueriedElement.size&&(o=this.driver.query(f,Nd,!0),o.forEach(d=>this.finishActiveQueriedAnimationOnElement(d)))}destroyActiveAnimationsForElement(f){const o=this.playersByElement.get(f);o&&o.forEach(d=>{d.queued?d.markedForDestroy=!0:d.destroy()})}finishActiveQueriedAnimationOnElement(f){const o=this.playersByQueriedElement.get(f);o&&o.forEach(d=>d.finish())}whenRenderingDone(){return new Promise(f=>{if(this.players.length)return ha(this.players).onDone(()=>f());f()})}processLeaveNode(f){const o=f[rc];if(o&&o.setForRemoval){if(f[rc]=hs,o.namespaceId){this.destroyInnerAnimations(f);const d=this._fetchNamespace(o.namespaceId);d&&d.clearElementCache(f)}this._onRemovalComplete(f,o.setForRemoval)}f.classList?.contains(av)&&this.markElementAsDisabled(f,!1),this.driver.query(f,".ng-animate-disabled",!0).forEach(d=>{this.markElementAsDisabled(d,!1)})}flush(f=-1){let o=[];if(this.newHostElements.size&&(this.newHostElements.forEach((d,m)=>this._balanceNamespaceList(d,m)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let d=0;d<this.collectedEnterElements.length;d++)ns(this.collectedEnterElements[d],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const d=[];try{o=this._flushAnimations(d,f)}finally{for(let m=0;m<d.length;m++)d[m]()}}else for(let d=0;d<this.collectedLeaveElements.length;d++)this.processLeaveNode(this.collectedLeaveElements[d]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(d=>d()),this._flushFns=[],this._whenQuietFns.length){const d=this._whenQuietFns;this._whenQuietFns=[],o.length?ha(o).onDone(()=>{d.forEach(m=>m())}):d.forEach(m=>m())}}reportError(f){throw function zy(c){return new u.vHH(3402,!1)}()}_flushAnimations(f,o){const d=new Hm,m=[],I=new Map,x=[],Z=new Map,se=new Map,he=new Map,ye=new Set;this.disabledNodes.forEach(tn=>{ye.add(tn);const mn=this.driver.query(tn,".ng-animate-queued",!0);for(let Vn=0;Vn<mn.length;Vn++)ye.add(mn[Vn])});const $e=this.bodyNode,nt=Array.from(this.statesByElement.keys()),lt=lv(nt,this.collectedEnterElements),Ct=new Map;let Bt=0;lt.forEach((tn,mn)=>{const Vn=ec+Bt++;Ct.set(mn,Vn),tn.forEach(mr=>ns(mr,Vn))});const zt=[],An=new Set,Bn=new Set;for(let tn=0;tn<this.collectedLeaveElements.length;tn++){const mn=this.collectedLeaveElements[tn],Vn=mn[rc];Vn&&Vn.setForRemoval&&(zt.push(mn),An.add(mn),Vn.hasAnimation?this.driver.query(mn,".ng-star-inserted",!0).forEach(mr=>An.add(mr)):Bn.add(mn))}const pr=new Map,Wt=lv(nt,Array.from(An));Wt.forEach((tn,mn)=>{const Vn=Pf+Bt++;pr.set(mn,Vn),tn.forEach(mr=>ns(mr,Vn))}),f.push(()=>{lt.forEach((tn,mn)=>{const Vn=Ct.get(mn);tn.forEach(mr=>Wu(mr,Vn))}),Wt.forEach((tn,mn)=>{const Vn=pr.get(mn);tn.forEach(mr=>Wu(mr,Vn))}),zt.forEach(tn=>{this.processLeaveNode(tn)})});const cr=[],er=[];for(let tn=this._namespaceList.length-1;tn>=0;tn--)this._namespaceList[tn].drainQueuedTransitions(o).forEach(Vn=>{const mr=Vn.player,rs=Vn.element;if(cr.push(mr),this.collectedEnterElements.length){const ks=rs[rc];if(ks&&ks.setForMove){if(ks.previousTriggersValues&&ks.previousTriggersValues.has(Vn.triggerName)){const ga=ks.previousTriggersValues.get(Vn.triggerName),ko=this.statesByElement.get(Vn.element);if(ko&&ko.has(Vn.triggerName)){const Bh=ko.get(Vn.triggerName);Bh.value=ga,ko.set(Vn.triggerName,Bh)}}return void mr.destroy()}}const La=!$e||!this.driver.containsElement($e,rs),Po=pr.get(rs),Uc=Ct.get(rs),Jn=this._buildInstruction(Vn,d,Uc,Po,La);if(Jn.errors&&Jn.errors.length)return void er.push(Jn);if(La)return mr.onStart(()=>lu(rs,Jn.fromStyles)),mr.onDestroy(()=>tc(rs,Jn.toStyles)),void m.push(mr);if(Vn.isFallbackTransition)return mr.onStart(()=>lu(rs,Jn.fromStyles)),mr.onDestroy(()=>tc(rs,Jn.toStyles)),void m.push(mr);const lr=[];Jn.timelines.forEach(ks=>{ks.stretchStartingKeyframe=!0,this.disabledNodes.has(ks.element)||lr.push(ks)}),Jn.timelines=lr,d.append(rs,Jn.timelines),x.push({instruction:Jn,player:mr,element:rs}),Jn.queriedElements.forEach(ks=>fa(Z,ks,[]).push(mr)),Jn.preStyleProps.forEach((ks,ga)=>{if(ks.size){let ko=se.get(ga);ko||se.set(ga,ko=new Set),ks.forEach((Bh,zd)=>ko.add(zd))}}),Jn.postStyleProps.forEach((ks,ga)=>{let ko=he.get(ga);ko||he.set(ga,ko=new Set),ks.forEach((Bh,zd)=>ko.add(zd))})});if(er.length){const tn=[];er.forEach(mn=>{tn.push(function Nm(c,f){return new u.vHH(3505,!1)}())}),cr.forEach(mn=>mn.destroy()),this.reportError(tn)}const gr=new Map,Gr=new Map;x.forEach(tn=>{const mn=tn.element;d.has(mn)&&(Gr.set(mn,mn),this._beforeAnimationBuild(tn.player.namespaceId,tn.instruction,gr))}),m.forEach(tn=>{const mn=tn.element;this._getPreviousPlayers(mn,!1,tn.namespaceId,tn.triggerName,null).forEach(mr=>{fa(gr,mn,[]).push(mr),mr.destroy()})});const ei=zt.filter(tn=>Ye(tn,se,he)),di=new Map;cv(di,this.driver,Bn,he,os).forEach(tn=>{Ye(tn,se,he)&&ei.push(tn)});const Ds=new Map;lt.forEach((tn,mn)=>{cv(Ds,this.driver,new Set(tn),se,"!")}),ei.forEach(tn=>{const mn=di.get(tn),Vn=Ds.get(tn);di.set(tn,new Map([...mn?.entries()??[],...Vn?.entries()??[]]))});const ui=[],Pl=[],kl={};x.forEach(tn=>{const{element:mn,player:Vn,instruction:mr}=tn;if(d.has(mn)){if(ye.has(mn))return Vn.onDestroy(()=>tc(mn,mr.toStyles)),Vn.disabled=!0,Vn.overrideTotalTime(mr.totalTime),void m.push(Vn);let rs=kl;if(Gr.size>1){let Po=mn;const Uc=[];for(;Po=Po.parentNode;){const Jn=Gr.get(Po);if(Jn){rs=Jn;break}Uc.push(Po)}Uc.forEach(Jn=>Gr.set(Jn,rs))}const La=this._buildAnimation(Vn.namespaceId,mr,gr,I,Ds,di);if(Vn.setRealPlayer(La),rs===kl)ui.push(Vn);else{const Po=this.playersByElement.get(rs);Po&&Po.length&&(Vn.parentPlayer=ha(Po)),m.push(Vn)}}else lu(mn,mr.fromStyles),Vn.onDestroy(()=>tc(mn,mr.toStyles)),Pl.push(Vn),ye.has(mn)&&m.push(Vn)}),Pl.forEach(tn=>{const mn=I.get(tn.element);if(mn&&mn.length){const Vn=ha(mn);tn.setRealPlayer(Vn)}}),m.forEach(tn=>{tn.parentPlayer?tn.syncPlayerEvents(tn.parentPlayer):tn.destroy()});for(let tn=0;tn<zt.length;tn++){const mn=zt[tn],Vn=mn[rc];if(Wu(mn,Pf),Vn&&Vn.hasAnimation)continue;let mr=[];if(Z.size){let La=Z.get(mn);La&&La.length&&mr.push(...La);let Po=this.driver.query(mn,Nd,!0);for(let Uc=0;Uc<Po.length;Uc++){let Jn=Z.get(Po[Uc]);Jn&&Jn.length&&mr.push(...Jn)}}const rs=mr.filter(La=>!La.destroyed);rs.length?uv(this,mn,rs):this.processLeaveNode(mn)}return zt.length=0,ui.forEach(tn=>{this.players.push(tn),tn.onDone(()=>{tn.destroy();const mn=this.players.indexOf(tn);this.players.splice(mn,1)}),tn.play()}),ui}afterFlush(f){this._flushFns.push(f)}afterFlushAnimationsDone(f){this._whenQuietFns.push(f)}_getPreviousPlayers(f,o,d,m,I){let x=[];if(o){const Z=this.playersByQueriedElement.get(f);Z&&(x=Z)}else{const Z=this.playersByElement.get(f);if(Z){const se=!I||I==hg;Z.forEach(he=>{he.queued||!se&&he.triggerName!=m||x.push(he)})}}return(d||m)&&(x=x.filter(Z=>!(d&&d!=Z.namespaceId||m&&m!=Z.triggerName))),x}_beforeAnimationBuild(f,o,d){const I=o.element,x=o.isRemovalTransition?void 0:f,Z=o.isRemovalTransition?void 0:o.triggerName;for(const se of o.timelines){const he=se.element,ye=he!==I,$e=fa(d,he,[]);this._getPreviousPlayers(he,ye,x,Z,o.toState).forEach(lt=>{const Ct=lt.getRealPlayer();Ct.beforeDestroy&&Ct.beforeDestroy(),lt.destroy(),$e.push(lt)})}lu(I,o.fromStyles)}_buildAnimation(f,o,d,m,I,x){const Z=o.triggerName,se=o.element,he=[],ye=new Set,$e=new Set,nt=o.timelines.map(Ct=>{const Bt=Ct.element;ye.add(Bt);const zt=Bt[rc];if(zt&&zt.removedBeforeQueried)return new Yr(Ct.duration,Ct.delay);const An=Bt!==se,Bn=function Bw(c){const f=[];return Rd(c,f),f}((d.get(Bt)||S1).map(gr=>gr.getRealPlayer())).filter(gr=>!!gr.element&&gr.element===Bt),pr=I.get(Bt),Wt=x.get(Bt),cr=Dh(this._normalizer,Ct.keyframes,pr,Wt),er=this._buildPlayer(Ct,cr,Bn);if(Ct.subTimeline&&m&&$e.add(Bt),An){const gr=new fg(f,Z,Bt);gr.setRealPlayer(er),he.push(gr)}return er});he.forEach(Ct=>{fa(this.playersByQueriedElement,Ct.element,[]).push(Ct),Ct.onDone(()=>function hu(c,f,o){let d=c.get(f);if(d){if(d.length){const m=d.indexOf(o);d.splice(m,1)}0==d.length&&c.delete(f)}return d}(this.playersByQueriedElement,Ct.element,Ct))}),ye.forEach(Ct=>ns(Ct,cg));const lt=ha(nt);return lt.onDestroy(()=>{ye.forEach(Ct=>Wu(Ct,cg)),tc(se,o.toStyles)}),$e.forEach(Ct=>{fa(m,Ct,[]).push(lt)}),lt}_buildPlayer(f,o,d){return o.length>0?this.driver.animate(f.element,o,f.duration,f.delay,f.easing,d):new Yr(f.duration,f.delay)}}class fg{constructor(f,o,d){this.namespaceId=f,this.triggerName=o,this.element=d,this._player=new Yr,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(f){this._containsRealPlayer||(this._player=f,this._queuedCallbacks.forEach((o,d)=>{o.forEach(m=>Wy(f,d,void 0,m))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(f.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(f){this.totalTime=f}syncPlayerEvents(f){const o=this._player;o.triggerCallback&&f.onStart(()=>o.triggerCallback("start")),f.onDone(()=>this.finish()),f.onDestroy(()=>this.destroy())}_queueEvent(f,o){fa(this._queuedCallbacks,f,[]).push(o)}onDone(f){this.queued&&this._queueEvent("done",f),this._player.onDone(f)}onStart(f){this.queued&&this._queueEvent("start",f),this._player.onStart(f)}onDestroy(f){this.queued&&this._queueEvent("destroy",f),this._player.onDestroy(f)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(f){this.queued||this._player.setPosition(f)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(f){const o=this._player;o.triggerCallback&&o.triggerCallback(f)}}function Ah(c){return c&&1===c.nodeType}function jf(c,f){const o=c.style.display;return c.style.display=f??"none",o}function cv(c,f,o,d,m){const I=[];o.forEach(se=>I.push(jf(se)));const x=[];d.forEach((se,he)=>{const ye=new Map;se.forEach($e=>{const nt=f.computeStyle(he,$e,m);ye.set($e,nt),(!nt||0==nt.length)&&(he[rc]=On,x.push(he))}),c.set(he,ye)});let Z=0;return o.forEach(se=>jf(se,I[Z++])),x}function lv(c,f){const o=new Map;if(c.forEach(Z=>o.set(Z,[])),0==f.length)return o;const m=new Set(f),I=new Map;function x(Z){if(!Z)return 1;let se=I.get(Z);if(se)return se;const he=Z.parentNode;return se=o.has(he)?he:m.has(he)?1:x(he),I.set(Z,se),se}return f.forEach(Z=>{const se=x(Z);1!==se&&o.get(se).push(Z)}),o}function ns(c,f){c.classList?.add(f)}function Wu(c,f){c.classList?.remove(f)}function uv(c,f,o){ha(o).onDone(()=>c.processLeaveNode(f))}function Rd(c,f){for(let o=0;o<c.length;o++){const d=c[o];d instanceof Us?Rd(d.players,f):f.push(d)}}function Ye(c,f,o){const d=o.get(c);if(!d)return!1;let m=f.get(c);return m?d.forEach(I=>m.add(I)):f.set(c,d),o.delete(c),!0}class $f{constructor(f,o,d){this.bodyNode=f,this._driver=o,this._normalizer=d,this._triggerCache={},this.onRemovalComplete=(m,I)=>{},this._transitionEngine=new Gf(f,o,d),this._timelineEngine=new D1(f,o,d),this._transitionEngine.onRemovalComplete=(m,I)=>this.onRemovalComplete(m,I)}registerTrigger(f,o,d,m,I){const x=f+"-"+m;let Z=this._triggerCache[x];if(!Z){const se=[],ye=bc(this._driver,I,se,[]);if(se.length)throw function cu(c,f){return new u.vHH(3404,!1)}();Z=function Pw(c,f,o){return new kw(c,f,o)}(m,ye,this._normalizer),this._triggerCache[x]=Z}this._transitionEngine.registerTrigger(o,m,Z)}register(f,o){this._transitionEngine.register(f,o)}destroy(f,o){this._transitionEngine.destroy(f,o)}onInsert(f,o,d,m){this._transitionEngine.insertNode(f,o,d,m)}onRemove(f,o,d){this._transitionEngine.removeNode(f,o,d)}disableAnimations(f,o){this._transitionEngine.markElementAsDisabled(f,o)}process(f,o,d,m){if("@"==d.charAt(0)){const[I,x]=Cd(d);this._timelineEngine.command(I,o,x,m)}else this._transitionEngine.trigger(f,o,d,m)}listen(f,o,d,m,I){if("@"==d.charAt(0)){const[x,Z]=Cd(d);return this._timelineEngine.listen(x,o,Z,I)}return this._transitionEngine.listen(f,o,d,m,I)}flush(f=-1){this._transitionEngine.flush(f)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(f){this._transitionEngine.afterFlushAnimationsDone(f)}}let Vw=(()=>{class c{static#e=this.initialStylesByElement=new WeakMap;constructor(o,d,m){this._element=o,this._startStyles=d,this._endStyles=m,this._state=0;let I=c.initialStylesByElement.get(o);I||c.initialStylesByElement.set(o,I=new Map),this._initialStyles=I}start(){this._state<1&&(this._startStyles&&tc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(tc(this._element,this._initialStyles),this._endStyles&&(tc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(c.initialStylesByElement.delete(this._element),this._startStyles&&(lu(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(lu(this._element,this._endStyles),this._endStyles=null),tc(this._element,this._initialStyles),this._state=3)}}return c})();function Nh(c){let f=null;return c.forEach((o,d)=>{(function fu(c){return"display"===c||"position"===c})(d)&&(f=f||new Map,f.set(d,o))}),f}class A1{constructor(f,o,d,m){this.element=f,this.keyframes=o,this.options=d,this._specialStyles=m,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=d.duration,this._delay=d.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(f=>f()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const f=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,f,this.options),this._finalKeyframe=f.length?f[f.length-1]:new Map;const o=()=>this._onFinish();this.domPlayer.addEventListener("finish",o),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",o)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(f){const o=[];return f.forEach(d=>{o.push(Object.fromEntries(d))}),o}_triggerWebAnimation(f,o,d){return f.animate(this._convertKeyframesToObject(o),d)}onStart(f){this._originalOnStartFns.push(f),this._onStartFns.push(f)}onDone(f){this._originalOnDoneFns.push(f),this._onDoneFns.push(f)}onDestroy(f){this._onDestroyFns.push(f)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(f=>f()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(f=>f()),this._onDestroyFns=[])}setPosition(f){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=f*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const f=new Map;this.hasStarted()&&this._finalKeyframe.forEach((d,m)=>{"offset"!==m&&f.set(m,this._finished?d:Jy(this.element,m))}),this.currentSnapshot=f}triggerCallback(f){const o="start"===f?this._onStartFns:this._onDoneFns;o.forEach(d=>d()),o.length=0}}class Pa{validateStyleProperty(f){return!0}validateAnimatableStyleProperty(f){return!0}matchesElement(f,o){return!1}containsElement(f,o){return Ky(f,o)}getParentElement(f){return Ad(f)}query(f,o,d){return xw(f,o,d)}computeStyle(f,o,d){return window.getComputedStyle(f)[o]}animate(f,o,d,m,I,x=[]){const se={duration:d,delay:m,fill:0==m?"both":"forwards"};I&&(se.easing=I);const he=new Map,ye=x.filter(lt=>lt instanceof A1);(function v1(c,f){return 0===c||0===f})(d,m)&&ye.forEach(lt=>{lt.currentSnapshot.forEach((Ct,Bt)=>he.set(Bt,Ct))});let $e=function lg(c){return c.length?c[0]instanceof Map?c:c.map(f=>m1(f)):[]}(o).map(lt=>Cl(lt));$e=function Pm(c,f,o){if(o.size&&f.length){let d=f[0],m=[];if(o.forEach((I,x)=>{d.has(x)||m.push(x),d.set(x,I)}),m.length)for(let I=1;I<f.length;I++){let x=f[I];m.forEach(Z=>x.set(Z,Jy(c,Z)))}}return f}(f,$e,he);const nt=function wc(c,f){let o=null,d=null;return Array.isArray(f)&&f.length?(o=Nh(f[0]),f.length>1&&(d=Nh(f[f.length-1]))):f instanceof Map&&(o=Nh(f)),o||d?new Vw(c,o,d):null}(f,$e);return new A1(f,$e,se,nt)}}let zf=(()=>{class c extends Bo{constructor(o,d){super(),this._nextAnimationId=0,this._renderer=o.createRenderer(d.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(o){const d=this._nextAnimationId.toString();this._nextAnimationId++;const m=Array.isArray(o)?po(o):o;return pg(this._renderer,null,d,"register",[m]),new Zo(d,this._renderer)}static#e=this.\u0275fac=function(d){return new(d||c)(u.LFG(u.FYo),u.LFG(Se.K0))};static#t=this.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac})}return c})();class Zo extends ss{constructor(f,o){super(),this._id=f,this._renderer=o}create(f,o){return new Oh(this._id,f,o||{},this._renderer)}}class Oh{constructor(f,o,d,m){this.id=f,this.element=o,this._renderer=m,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",d)}_listen(f,o){return this._renderer.listen(this.element,`@@${this.id}:${f}`,o)}_command(f,...o){return pg(this._renderer,this.element,this.id,f,o)}onDone(f){this._listen("done",f)}onStart(f){this._listen("start",f)}onDestroy(f){this._listen("destroy",f)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(f){this._command("setPosition",f)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function pg(c,f,o,d,m){return c.setProperty(f,`@@${o}:${d}`,m)}const Pd="@.disabled";let pu=(()=>{class c{constructor(o,d,m){this.delegate=o,this.engine=d,this._zone=m,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,d.onRemovalComplete=(I,x)=>{const Z=x?.parentNode(I);Z&&x.removeChild(Z,I)}}createRenderer(o,d){const I=this.delegate.createRenderer(o,d);if(!(o&&d&&d.data&&d.data.animation)){let ye=this._rendererCache.get(I);return ye||(ye=new kd("",I,this.engine,()=>this._rendererCache.delete(I)),this._rendererCache.set(I,ye)),ye}const x=d.id,Z=d.id+"-"+this._currentId;this._currentId++,this.engine.register(Z,o);const se=ye=>{Array.isArray(ye)?ye.forEach(se):this.engine.registerTrigger(x,Z,o,ye.name,ye)};return d.data.animation.forEach(se),new to(this,Z,I,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(o,d,m){o>=0&&o<this._microtaskId?this._zone.run(()=>d(m)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(I=>{const[x,Z]=I;x(Z)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([d,m]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(d){return new(d||c)(u.LFG(u.FYo),u.LFG($f),u.LFG(u.R0b))};static#t=this.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac})}return c})();class kd{constructor(f,o,d,m){this.namespaceId=f,this.delegate=o,this.engine=d,this._onDestroy=m}get data(){return this.delegate.data}destroyNode(f){this.delegate.destroyNode?.(f)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(f,o){return this.delegate.createElement(f,o)}createComment(f){return this.delegate.createComment(f)}createText(f){return this.delegate.createText(f)}appendChild(f,o){this.delegate.appendChild(f,o),this.engine.onInsert(this.namespaceId,o,f,!1)}insertBefore(f,o,d,m=!0){this.delegate.insertBefore(f,o,d),this.engine.onInsert(this.namespaceId,o,f,m)}removeChild(f,o,d){this.engine.onRemove(this.namespaceId,o,this.delegate)}selectRootElement(f,o){return this.delegate.selectRootElement(f,o)}parentNode(f){return this.delegate.parentNode(f)}nextSibling(f){return this.delegate.nextSibling(f)}setAttribute(f,o,d,m){this.delegate.setAttribute(f,o,d,m)}removeAttribute(f,o,d){this.delegate.removeAttribute(f,o,d)}addClass(f,o){this.delegate.addClass(f,o)}removeClass(f,o){this.delegate.removeClass(f,o)}setStyle(f,o,d,m){this.delegate.setStyle(f,o,d,m)}removeStyle(f,o,d){this.delegate.removeStyle(f,o,d)}setProperty(f,o,d){"@"==o.charAt(0)&&o==Pd?this.disableAnimations(f,!!d):this.delegate.setProperty(f,o,d)}setValue(f,o){this.delegate.setValue(f,o)}listen(f,o,d){return this.delegate.listen(f,o,d)}disableAnimations(f,o){this.engine.disableAnimations(f,o)}}class to extends kd{constructor(f,o,d,m,I){super(o,d,m,I),this.factory=f,this.namespaceId=o}setProperty(f,o,d){"@"==o.charAt(0)?"."==o.charAt(1)&&o==Pd?this.disableAnimations(f,d=void 0===d||!!d):this.engine.process(this.namespaceId,f,o.slice(1),d):this.delegate.setProperty(f,o,d)}listen(f,o,d){if("@"==o.charAt(0)){const m=function Wf(c){switch(c){case"body":return document.body;case"document":return document;case"window":return window;default:return c}}(f);let I=o.slice(1),x="";return"@"!=I.charAt(0)&&([I,x]=function Mh(c){const f=c.indexOf(".");return[c.substring(0,f),c.slice(f+1)]}(I)),this.engine.listen(this.namespaceId,m,I,x,Z=>{this.factory.scheduleListenerCallback(Z._data||-1,d,Z)})}return this.delegate.listen(f,o,d)}}const Fd=[{provide:Bo,useClass:zf},{provide:ws,useFactory:function xh(){return new gn}},{provide:$f,useClass:(()=>{class c extends $f{constructor(o,d,m,I){super(o.body,d,m)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(d){return new(d||c)(u.LFG(Se.K0),u.LFG(Yy),u.LFG(ws),u.LFG(u.z2F))};static#t=this.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac})}return c})()},{provide:u.FYo,useFactory:function qu(c,f,o){return new pu(c,f,o)},deps:[b.se,$f,u.R0b]}],Wm=[{provide:Yy,useFactory:()=>new Pa},{provide:u.QbO,useValue:"BrowserAnimations"},...Fd],dv=[{provide:Yy,useClass:g1},{provide:u.QbO,useValue:"NoopAnimations"},...Fd];let N1=(()=>{class c{static withConfig(o){return{ngModule:c,providers:o.disableAnimations?dv:Wm}}static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({providers:Wm,imports:[b.b2]})}return c})();var O1=K(2381),M1=K(3093),x1=K(6699);const gg={},Rh="@ngrx/store/init";let ka=(()=>{class c extends fs.X{constructor(){super({type:Rh})}next(o){if("function"==typeof o)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof o>"u")throw new TypeError("Actions must be objects");if(typeof o.type>"u")throw new TypeError("Actions must have a type property");super.next(o)}complete(){}ngOnDestroy(){super.complete()}static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac})}return c})();const mg=[ka],mi=new u.OlP("@ngrx/store Internal Root Guard"),Zu=new u.OlP("@ngrx/store Internal Initial State"),ho=new u.OlP("@ngrx/store Initial State"),Ki=new u.OlP("@ngrx/store Reducer Factory"),Ph=new u.OlP("@ngrx/store Internal Reducer Factory Provider"),kh=new u.OlP("@ngrx/store Initial Reducers"),Fa=new u.OlP("@ngrx/store Internal Initial Reducers"),mv=new u.OlP("@ngrx/store Store Features"),qw=new u.OlP("@ngrx/store Internal Store Reducers"),Es=new u.OlP("@ngrx/store Internal Feature Reducers"),_g=new u.OlP("@ngrx/store Internal Feature Configs"),Lc=new u.OlP("@ngrx/store Internal Store Features"),Ps=new u.OlP("@ngrx/store Internal Feature Reducers Token"),Nl=new u.OlP("@ngrx/store Feature Reducers"),yg=new u.OlP("@ngrx/store User Provided Meta Reducers"),Ku=new u.OlP("@ngrx/store Meta Reducers"),qf=new u.OlP("@ngrx/store Internal Resolved Meta Reducers"),_v=new u.OlP("@ngrx/store User Runtime Checks Config"),Ld=new u.OlP("@ngrx/store Internal User Runtime Checks Config"),nl=new u.OlP("@ngrx/store Internal Runtime Checks"),Yu=new u.OlP("@ngrx/store Check if Action types are unique");function Fh(c,f={}){const o=Object.keys(c),d={};for(let I=0;I<o.length;I++){const x=o[I];"function"==typeof c[x]&&(d[x]=c[x])}const m=Object.keys(d);return function(x,Z){x=void 0===x?f:x;let se=!1;const he={};for(let ye=0;ye<m.length;ye++){const $e=m[ye],lt=x[$e],Ct=(0,d[$e])(lt,Z);he[$e]=Ct,se=se||Ct!==lt}return se?he:x}}function yv(...c){return function(f){if(0===c.length)return f;const o=c[c.length-1];return c.slice(0,-1).reduceRight((m,I)=>I(m),o(f))}}function Bd(c,f){return Array.isArray(f)&&f.length>0&&(c=yv.apply(null,[...f,c])),(o,d)=>{const m=c(o);return(I,x)=>m(I=void 0===I?d:I,x)}}new u.OlP("@ngrx/store Root Store Provider"),new u.OlP("@ngrx/store Feature State Provider");class Qu extends yo.y{}class Vd extends ka{}let il=(()=>{class c extends fs.X{get currentReducers(){return this.reducers}constructor(o,d,m,I){super(I(m,d)),this.dispatcher=o,this.initialState=d,this.reducers=m,this.reducerFactory=I}addFeature(o){this.addFeatures([o])}addFeatures(o){const d=o.reduce((m,{reducers:I,reducerFactory:x,metaReducers:Z,initialState:se,key:he})=>{const ye="function"==typeof I?function vg(c){const f=Array.isArray(c)&&c.length>0?yv(...c):o=>o;return(o,d)=>(o=f(o),(m,I)=>o(m=void 0===m?d:m,I))}(Z)(I,se):Bd(x,Z)(I,se);return m[he]=ye,m},{});this.addReducers(d)}removeFeature(o){this.removeFeatures([o])}removeFeatures(o){this.removeReducers(o.map(d=>d.key))}addReducer(o,d){this.addReducers({[o]:d})}addReducers(o){this.reducers={...this.reducers,...o},this.updateReducers(Object.keys(o))}removeReducer(o){this.removeReducers([o])}removeReducers(o){o.forEach(d=>{this.reducers=function Ud(c,f){return Object.keys(c).filter(o=>o!==f).reduce((o,d)=>Object.assign(o,{[d]:c[d]}),{})}(this.reducers,d)}),this.updateReducers(o)}updateReducers(o){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:"@ngrx/store/update-reducers",features:o})}ngOnDestroy(){this.complete()}static#e=this.\u0275fac=function(d){return new(d||c)(u.LFG(Vd),u.LFG(ho),u.LFG(kh),u.LFG(Ki))};static#t=this.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac})}return c})();const qm=[il,{provide:Qu,useExisting:il},{provide:Vd,useExisting:ka}];let Kf=(()=>{class c extends hi.x{ngOnDestroy(){this.complete()}static#e=this.\u0275fac=function(){let o;return function(m){return(o||(o=u.n5z(c)))(m||c)}}();static#t=this.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac})}return c})();const Zm=[Kf];class Yf extends yo.y{}let vv=(()=>{class c extends fs.X{static#e=this.INIT=Rh;constructor(o,d,m,I){super(I);const he=o.pipe((0,M1.Q)(O1.N)).pipe(Fr(d)).pipe((0,x1.R)(Km,{state:I}));this.stateSubscription=he.subscribe(({state:ye,action:$e})=>{this.next(ye),m.next($e)}),this.state=nd(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}static#t=this.\u0275fac=function(d){return new(d||c)(u.LFG(ka),u.LFG(Qu),u.LFG(Kf),u.LFG(ho))};static#n=this.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac})}return c})();function Km(c={state:void 0},[f,o]){const{state:d}=c;return{state:o(d,f),action:f}}const Ym=[vv,{provide:Yf,useExisting:vv}];let Qf=(()=>{class c extends yo.y{constructor(o,d,m){super(),this.actionsObserver=d,this.reducerManager=m,this.source=o,this.state=o.state}select(o,...d){return pa.call(null,o,...d)(this)}selectSignal(o,d){return(0,u.Flj)(()=>o(this.state()),{equal:d?.equal||((m,I)=>m===I)})}lift(o){const d=new c(this,this.actionsObserver,this.reducerManager);return d.operator=o,d}dispatch(o){this.actionsObserver.next(o)}next(o){this.actionsObserver.next(o)}error(o){this.actionsObserver.error(o)}complete(){this.actionsObserver.complete()}addReducer(o,d){this.reducerManager.addReducer(o,d)}removeReducer(o){this.reducerManager.removeReducer(o)}static#e=this.\u0275fac=function(d){return new(d||c)(u.LFG(Yf),u.LFG(ka),u.LFG(il))};static#t=this.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac})}return c})();const bv=[Qf];function pa(c,f,...o){return function(m){let I;if("string"==typeof c){const x=[f,...o].filter(Boolean);I=m.pipe(function hv(...c){const f=c.length;if(0===f)throw new Error("list of properties cannot be empty.");return(0,ue.U)(o=>{let d=o;for(let m=0;m<f;m++){const I=d?.[c[m]];if(!(typeof I<"u"))return;d=I}return d})}(c,...x))}else{if("function"!=typeof c)throw new TypeError(`Unexpected type '${typeof c}' in select operator, expected 'string' or 'function'`);I=m.pipe((0,ue.U)(x=>c(x,f)))}return I.pipe((0,Hs.x)())}}const Qm="https://ngrx.io/guide/store/configuration/runtime-checks";function Li(c){return void 0===c}function Ml(c){return null===c}function Jm(c){return Array.isArray(c)}function e_(c){return"object"==typeof c&&null!==c}function Ju(c){return"function"==typeof c}function xl(c){return c instanceof u.OlP?(0,u.f3M)(c):c}function Jf(c,f){return f.map((o,d)=>{if(c[d]instanceof u.OlP){const m=(0,u.f3M)(c[d]);return{key:o.key,reducerFactory:m.reducerFactory?m.reducerFactory:Fh,metaReducers:m.metaReducers?m.metaReducers:[],initialState:m.initialState}}return o})}function o_(c){return c.map(f=>f instanceof u.OlP?(0,u.f3M)(f):f)}function Xf(c){return"function"==typeof c?c():c}function Yw(c,f){return c.concat(f)}function Gd(){if((0,u.f3M)(Qf,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function jd(c){Object.freeze(c);const f=Ju(c);return Object.getOwnPropertyNames(c).forEach(o=>{if(!o.startsWith("\u0275")&&function t_(c,f){return Object.prototype.hasOwnProperty.call(c,f)}(c,o)&&(!f||"caller"!==o&&"callee"!==o&&"arguments"!==o)){const d=c[o];(e_(d)||Ju(d))&&!Object.isFrozen(d)&&jd(d)}}),c}function Ig(c,f=[]){return(Li(c)||Ml(c))&&0===f.length?{path:["root"],value:c}:Object.keys(c).reduce((d,m)=>{if(d)return d;const I=c[m];return function wv(c){return Ju(c)&&c.hasOwnProperty("\u0275cmp")}(I)?d:!(Li(I)||Ml(I)||function Zw(c){return"number"==typeof c}(I)||function Lh(c){return"boolean"==typeof c}(I)||function Xm(c){return"string"==typeof c}(I)||Jm(I))&&(function li(c){if(!function Hr(c){return e_(c)&&!Jm(c)}(c))return!1;const f=Object.getPrototypeOf(c);return f===Object.prototype||null===f}(I)?Ig(I,[...f,m]):{path:[...f,m],value:I})},!1)}function Ts(c,f){if(!1===c)return;const o=c.path.join("."),d=new Error(`Detected unserializable ${f} at "${o}". ${Qm}#strict${f}serializability`);throw d.value=c.value,d.unserializablePath=o,d}function Uh(c){return(0,u.X6Q)()?{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1,...c}:{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function sc({strictActionSerializability:c,strictStateSerializability:f}){return o=>c||f?function Sv(c,f){return function(o,d){f.action(d)&&Ts(Ig(d),"action");const m=c(o,d);return f.state()&&Ts(Ig(m),"state"),m}}(o,{action:d=>c&&!ep(d),state:()=>f}):o}function c_({strictActionImmutability:c,strictStateImmutability:f}){return o=>c||f?function P1(c,f){return function(o,d){const m=f.action(d)?jd(d):d,I=c(o,m);return f.state()?jd(I):I}}(o,{action:d=>c&&!ep(d),state:()=>f}):o}function ep(c){return c.type.startsWith("@ngrx")}function tp({strictActionWithinNgZone:c}){return f=>c?function a_(c,f){return function(o,d){if(f.action(d)&&!u.R0b.isInAngularZone())throw new Error(`Action '${d.type}' running outside NgZone. ${Qm}#strictactionwithinngzone`);return c(o,d)}}(f,{action:o=>c&&!ep(o)}):f}function Av(c){return[{provide:Ld,useValue:c},{provide:_v,useFactory:Eg,deps:[Ld]},{provide:nl,deps:[_v],useFactory:Uh},{provide:Ku,multi:!0,deps:[nl],useFactory:c_},{provide:Ku,multi:!0,deps:[nl],useFactory:sc},{provide:Ku,multi:!0,deps:[nl],useFactory:tp}]}function ed(){return[{provide:Yu,multi:!0,deps:[nl],useFactory:k1}]}function Eg(c){return c}function k1(c){if(!c.strictActionTypeUniqueness)return;const f=Object.entries(gg).filter(([,o])=>o>1).map(([o])=>o);if(f.length)throw new Error(`Action types are registered more than once, ${f.map(o=>`"${o}"`).join(", ")}. ${Qm}#strictactiontypeuniqueness`)}function L1(c={},f={}){return[{provide:mi,useFactory:Gd},{provide:Zu,useValue:f.initialState},{provide:ho,useFactory:Xf,deps:[Zu]},{provide:Fa,useValue:c},{provide:qw,useExisting:c instanceof u.OlP?c:Fa},{provide:kh,deps:[Fa,[new u.tBr(qw)]],useFactory:xl},{provide:yg,useValue:f.metaReducers?f.metaReducers:[]},{provide:qf,deps:[Ku,yg],useFactory:Yw},{provide:Ph,useValue:f.reducerFactory?f.reducerFactory:Fh},{provide:Ki,deps:[Ph,qf],useFactory:Bd},mg,qm,Zm,Ym,bv,Av(f.runtimeChecks),ed()]}function Nv(c,f,o={}){return[{provide:_g,multi:!0,useValue:c instanceof Object?{}:o},{provide:mv,multi:!0,useValue:{key:c instanceof Object?c.name:c,reducerFactory:o instanceof u.OlP||!o.reducerFactory?Fh:o.reducerFactory,metaReducers:o instanceof u.OlP||!o.metaReducers?[]:o.metaReducers,initialState:o instanceof u.OlP||!o.initialState?void 0:o.initialState}},{provide:Lc,deps:[_g,mv],useFactory:Jf},{provide:Es,multi:!0,useValue:c instanceof Object?c.reducer:f},{provide:Ps,multi:!0,useExisting:f instanceof u.OlP?f:Es},{provide:Nl,multi:!0,deps:[Es,[new u.tBr(Ps)]],useFactory:o_},ed()]}let sl=(()=>{class c{constructor(o,d,m,I,x,Z){}static#e=this.\u0275fac=function(d){return new(d||c)(u.LFG(ka),u.LFG(Qu),u.LFG(Kf),u.LFG(Qf),u.LFG(mi,8),u.LFG(Yu,8))};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})(),Rl=(()=>{class c{constructor(o,d,m,I,x){this.features=o,this.featureReducers=d,this.reducerManager=m;const Z=o.map((se,he)=>{const $e=d.shift()[he];return{...se,reducers:$e,initialState:Xf(se.initialState)}});m.addFeatures(Z)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}static#e=this.\u0275fac=function(d){return new(d||c)(u.LFG(Lc),u.LFG(Nl),u.LFG(il),u.LFG(sl),u.LFG(Yu,8))};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})(),oc=(()=>{class c{static forRoot(o,d){return{ngModule:sl,providers:[...L1(o,d)]}}static forFeature(o,d,m={}){return{ngModule:Rl,providers:[...Nv(o,d,m)]}}static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})(),fr=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c,bootstrap:[$r]});static#n=this.\u0275inj=u.cJS({imports:[b.b2,Kr,Dm.r,N1,(0,as.hX)(()=>(0,as.ZF)(Xo.N.firebaseConfig)),(0,fn.Cm)(()=>(0,fn.ad)()),Gi,s1,oc.forRoot({},{})]})}return c})();b.q6().bootstrapModule(fr).catch(c=>console.error(c))},5619:(Ut,Be,K)=>{K.d(Be,{X:()=>ne});var b=K(8645);class ne extends b.x{constructor(be){super(),this._value=be}get value(){return this.getValue()}_subscribe(be){const ue=super._subscribe(be);return!ue.closed&&be.next(this._value),ue}getValue(){const{hasError:be,thrownError:ue,_value:fe}=this;if(be)throw ue;return this._throwIfClosed(),fe}next(be){super.next(this._value=be)}}},5592:(Ut,Be,K)=>{K.d(Be,{y:()=>Ve});var b=K(305),ne=K(7394),u=K(4850),be=K(8407),ue=K(2653),fe=K(4674),Te=K(1441);let Ve=(()=>{class Me{constructor(xe){xe&&(this._subscribe=xe)}lift(xe){const Ze=new Me;return Ze.source=this,Ze.operator=xe,Ze}subscribe(xe,Ze,It){const Pt=function de(Me){return Me&&Me instanceof b.Lv||function ae(Me){return Me&&(0,fe.m)(Me.next)&&(0,fe.m)(Me.error)&&(0,fe.m)(Me.complete)}(Me)&&(0,ne.Nn)(Me)}(xe)?xe:new b.Hp(xe,Ze,It);return(0,Te.x)(()=>{const{operator:Ot,source:Tn}=this;Pt.add(Ot?Ot.call(Pt,Tn):Tn?this._subscribe(Pt):this._trySubscribe(Pt))}),Pt}_trySubscribe(xe){try{return this._subscribe(xe)}catch(Ze){xe.error(Ze)}}forEach(xe,Ze){return new(Ze=Oe(Ze))((It,Pt)=>{const Ot=new b.Hp({next:Tn=>{try{xe(Tn)}catch(Nt){Pt(Nt),Ot.unsubscribe()}},error:Pt,complete:It});this.subscribe(Ot)})}_subscribe(xe){var Ze;return null===(Ze=this.source)||void 0===Ze?void 0:Ze.subscribe(xe)}[u.L](){return this}pipe(...xe){return(0,be.U)(xe)(this)}toPromise(xe){return new(xe=Oe(xe))((Ze,It)=>{let Pt;this.subscribe(Ot=>Pt=Ot,Ot=>It(Ot),()=>Ze(Pt))})}}return Me.create=Se=>new Me(Se),Me})();function Oe(Me){var Se;return null!==(Se=Me??ue.config.Promise)&&void 0!==Se?Se:Promise}},8645:(Ut,Be,K)=>{K.d(Be,{x:()=>Te});var b=K(5592),ne=K(7394);const be=(0,K(2306).d)(Oe=>function(){Oe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ue=K(9039),fe=K(1441);let Te=(()=>{class Oe extends b.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(de){const Me=new Ve(this,this);return Me.operator=de,Me}_throwIfClosed(){if(this.closed)throw new be}next(de){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Me of this.currentObservers)Me.next(de)}})}error(de){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=de;const{observers:Me}=this;for(;Me.length;)Me.shift().error(de)}})}complete(){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:de}=this;for(;de.length;)de.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var de;return(null===(de=this.observers)||void 0===de?void 0:de.length)>0}_trySubscribe(de){return this._throwIfClosed(),super._trySubscribe(de)}_subscribe(de){return this._throwIfClosed(),this._checkFinalizedStatuses(de),this._innerSubscribe(de)}_innerSubscribe(de){const{hasError:Me,isStopped:Se,observers:xe}=this;return Me||Se?ne.Lc:(this.currentObservers=null,xe.push(de),new ne.w0(()=>{this.currentObservers=null,(0,ue.P)(xe,de)}))}_checkFinalizedStatuses(de){const{hasError:Me,thrownError:Se,isStopped:xe}=this;Me?de.error(Se):xe&&de.complete()}asObservable(){const de=new b.y;return de.source=this,de}}return Oe.create=(ae,de)=>new Ve(ae,de),Oe})();class Ve extends Te{constructor(ae,de){super(),this.destination=ae,this.source=de}next(ae){var de,Me;null===(Me=null===(de=this.destination)||void 0===de?void 0:de.next)||void 0===Me||Me.call(de,ae)}error(ae){var de,Me;null===(Me=null===(de=this.destination)||void 0===de?void 0:de.error)||void 0===Me||Me.call(de,ae)}complete(){var ae,de;null===(de=null===(ae=this.destination)||void 0===ae?void 0:ae.complete)||void 0===de||de.call(ae)}_subscribe(ae){var de,Me;return null!==(Me=null===(de=this.source)||void 0===de?void 0:de.subscribe(ae))&&void 0!==Me?Me:ne.Lc}}},305:(Ut,Be,K)=>{K.d(Be,{Hp:()=>It,Lv:()=>Me});var b=K(4674),ne=K(7394),u=K(2653),be=K(3894),ue=K(2420);const fe=Oe("C",void 0,void 0);function Oe(ft,at,vt){return{kind:ft,value:at,error:vt}}var ae=K(7599),de=K(1441);class Me extends ne.w0{constructor(at){super(),this.isStopped=!1,at?(this.destination=at,(0,ne.Nn)(at)&&at.add(this)):this.destination=Nt}static create(at,vt,yt){return new It(at,vt,yt)}next(at){this.isStopped?Tn(function Ve(ft){return Oe("N",ft,void 0)}(at),this):this._next(at)}error(at){this.isStopped?Tn(function Te(ft){return Oe("E",void 0,ft)}(at),this):(this.isStopped=!0,this._error(at))}complete(){this.isStopped?Tn(fe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(at){this.destination.next(at)}_error(at){try{this.destination.error(at)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Se=Function.prototype.bind;function xe(ft,at){return Se.call(ft,at)}class Ze{constructor(at){this.partialObserver=at}next(at){const{partialObserver:vt}=this;if(vt.next)try{vt.next(at)}catch(yt){Pt(yt)}}error(at){const{partialObserver:vt}=this;if(vt.error)try{vt.error(at)}catch(yt){Pt(yt)}else Pt(at)}complete(){const{partialObserver:at}=this;if(at.complete)try{at.complete()}catch(vt){Pt(vt)}}}class It extends Me{constructor(at,vt,yt){let Ge;if(super(),(0,b.m)(at)||!at)Ge={next:at??void 0,error:vt??void 0,complete:yt??void 0};else{let we;this&&u.config.useDeprecatedNextContext?(we=Object.create(at),we.unsubscribe=()=>this.unsubscribe(),Ge={next:at.next&&xe(at.next,we),error:at.error&&xe(at.error,we),complete:at.complete&&xe(at.complete,we)}):Ge=at}this.destination=new Ze(Ge)}}function Pt(ft){u.config.useDeprecatedSynchronousErrorHandling?(0,de.O)(ft):(0,be.h)(ft)}function Tn(ft,at){const{onStoppedNotification:vt}=u.config;vt&&ae.z.setTimeout(()=>vt(ft,at))}const Nt={closed:!0,next:ue.Z,error:function Ot(ft){throw ft},complete:ue.Z}},7394:(Ut,Be,K)=>{K.d(Be,{Lc:()=>fe,w0:()=>ue,Nn:()=>Te});var b=K(4674);const u=(0,K(2306).d)(Oe=>function(de){Oe(this),this.message=de?`${de.length} errors occurred during unsubscription:\n${de.map((Me,Se)=>`${Se+1}) ${Me.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=de});var be=K(9039);class ue{constructor(ae){this.initialTeardown=ae,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ae;if(!this.closed){this.closed=!0;const{_parentage:de}=this;if(de)if(this._parentage=null,Array.isArray(de))for(const xe of de)xe.remove(this);else de.remove(this);const{initialTeardown:Me}=this;if((0,b.m)(Me))try{Me()}catch(xe){ae=xe instanceof u?xe.errors:[xe]}const{_finalizers:Se}=this;if(Se){this._finalizers=null;for(const xe of Se)try{Ve(xe)}catch(Ze){ae=ae??[],Ze instanceof u?ae=[...ae,...Ze.errors]:ae.push(Ze)}}if(ae)throw new u(ae)}}add(ae){var de;if(ae&&ae!==this)if(this.closed)Ve(ae);else{if(ae instanceof ue){if(ae.closed||ae._hasParent(this))return;ae._addParent(this)}(this._finalizers=null!==(de=this._finalizers)&&void 0!==de?de:[]).push(ae)}}_hasParent(ae){const{_parentage:de}=this;return de===ae||Array.isArray(de)&&de.includes(ae)}_addParent(ae){const{_parentage:de}=this;this._parentage=Array.isArray(de)?(de.push(ae),de):de?[de,ae]:ae}_removeParent(ae){const{_parentage:de}=this;de===ae?this._parentage=null:Array.isArray(de)&&(0,be.P)(de,ae)}remove(ae){const{_finalizers:de}=this;de&&(0,be.P)(de,ae),ae instanceof ue&&ae._removeParent(this)}}ue.EMPTY=(()=>{const Oe=new ue;return Oe.closed=!0,Oe})();const fe=ue.EMPTY;function Te(Oe){return Oe instanceof ue||Oe&&"closed"in Oe&&(0,b.m)(Oe.remove)&&(0,b.m)(Oe.add)&&(0,b.m)(Oe.unsubscribe)}function Ve(Oe){(0,b.m)(Oe)?Oe():Oe.unsubscribe()}},2653:(Ut,Be,K)=>{K.d(Be,{config:()=>b});const b={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},5211:(Ut,Be,K)=>{K.d(Be,{z:()=>ue});var b=K(7537),u=K(9940),be=K(2459);function ue(...fe){return function ne(){return(0,b.J)(1)}()((0,be.D)(fe,(0,u.yG)(fe)))}},6232:(Ut,Be,K)=>{K.d(Be,{E:()=>ne});const ne=new(K(5592).y)(ue=>ue.complete())},2459:(Ut,Be,K)=>{K.d(Be,{D:()=>at});var b=K(4829),ne=K(3093),u=K(5137),fe=K(5592),Ve=K(4971),Oe=K(4674),ae=K(7103);function Me(vt,yt){if(!vt)throw new Error("Iterable cannot be null");return new fe.y(Ge=>{(0,ae.f)(Ge,yt,()=>{const we=vt[Symbol.asyncIterator]();(0,ae.f)(Ge,yt,()=>{we.next().then(Xe=>{Xe.done?Ge.complete():Ge.next(Xe.value)})},0,!0)})})}var Se=K(8382),xe=K(4026),Ze=K(4266),It=K(3664),Pt=K(5726),Ot=K(9853),Tn=K(541);function at(vt,yt){return yt?function ft(vt,yt){if(null!=vt){if((0,Se.c)(vt))return function be(vt,yt){return(0,b.Xf)(vt).pipe((0,u.R)(yt),(0,ne.Q)(yt))}(vt,yt);if((0,Ze.z)(vt))return function Te(vt,yt){return new fe.y(Ge=>{let we=0;return yt.schedule(function(){we===vt.length?Ge.complete():(Ge.next(vt[we++]),Ge.closed||this.schedule())})})}(vt,yt);if((0,xe.t)(vt))return function ue(vt,yt){return(0,b.Xf)(vt).pipe((0,u.R)(yt),(0,ne.Q)(yt))}(vt,yt);if((0,Pt.D)(vt))return Me(vt,yt);if((0,It.T)(vt))return function de(vt,yt){return new fe.y(Ge=>{let we;return(0,ae.f)(Ge,yt,()=>{we=vt[Ve.h](),(0,ae.f)(Ge,yt,()=>{let Xe,_t;try{({value:Xe,done:_t}=we.next())}catch(xn){return void Ge.error(xn)}_t?Ge.complete():Ge.next(Xe)},0,!0)}),()=>(0,Oe.m)(we?.return)&&we.return()})}(vt,yt);if((0,Tn.L)(vt))return function Nt(vt,yt){return Me((0,Tn.Q)(vt),yt)}(vt,yt)}throw(0,Ot.z)(vt)}(vt,yt):(0,b.Xf)(vt)}},4829:(Ut,Be,K)=>{K.d(Be,{Xf:()=>Se});var b=K(7582),ne=K(4266),u=K(4026),be=K(5592),ue=K(8382),fe=K(5726),Te=K(9853),Ve=K(3664),Oe=K(541),ae=K(4674),de=K(3894),Me=K(4850);function Se(ft){if(ft instanceof be.y)return ft;if(null!=ft){if((0,ue.c)(ft))return function xe(ft){return new be.y(at=>{const vt=ft[Me.L]();if((0,ae.m)(vt.subscribe))return vt.subscribe(at);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ft);if((0,ne.z)(ft))return function Ze(ft){return new be.y(at=>{for(let vt=0;vt<ft.length&&!at.closed;vt++)at.next(ft[vt]);at.complete()})}(ft);if((0,u.t)(ft))return function It(ft){return new be.y(at=>{ft.then(vt=>{at.closed||(at.next(vt),at.complete())},vt=>at.error(vt)).then(null,de.h)})}(ft);if((0,fe.D)(ft))return Ot(ft);if((0,Ve.T)(ft))return function Pt(ft){return new be.y(at=>{for(const vt of ft)if(at.next(vt),at.closed)return;at.complete()})}(ft);if((0,Oe.L)(ft))return function Tn(ft){return Ot((0,Oe.Q)(ft))}(ft)}throw(0,Te.z)(ft)}function Ot(ft){return new be.y(at=>{(function Nt(ft,at){var vt,yt,Ge,we;return(0,b.mG)(this,void 0,void 0,function*(){try{for(vt=(0,b.KL)(ft);!(yt=yield vt.next()).done;)if(at.next(yt.value),at.closed)return}catch(Xe){Ge={error:Xe}}finally{try{yt&&!yt.done&&(we=vt.return)&&(yield we.call(vt))}finally{if(Ge)throw Ge.error}}at.complete()})})(ft,at).catch(vt=>at.error(vt))})}},3019:(Ut,Be,K)=>{K.d(Be,{T:()=>fe});var b=K(7537),ne=K(4829),u=K(6232),be=K(9940),ue=K(2459);function fe(...Te){const Ve=(0,be.yG)(Te),Oe=(0,be._6)(Te,1/0),ae=Te;return ae.length?1===ae.length?(0,ne.Xf)(ae[0]):(0,b.J)(Oe)((0,ue.D)(ae,Ve)):u.E}},2096:(Ut,Be,K)=>{K.d(Be,{of:()=>u});var b=K(9940),ne=K(2459);function u(...be){const ue=(0,b.yG)(be);return(0,ne.D)(be,ue)}},8251:(Ut,Be,K)=>{K.d(Be,{x:()=>ne});var b=K(305);function ne(be,ue,fe,Te,Ve){return new u(be,ue,fe,Te,Ve)}class u extends b.Lv{constructor(ue,fe,Te,Ve,Oe,ae){super(ue),this.onFinalize=Oe,this.shouldUnsubscribe=ae,this._next=fe?function(de){try{fe(de)}catch(Me){ue.error(Me)}}:super._next,this._error=Ve?function(de){try{Ve(de)}catch(Me){ue.error(Me)}finally{this.unsubscribe()}}:super._error,this._complete=Te?function(){try{Te()}catch(de){ue.error(de)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ue;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:fe}=this;super.unsubscribe(),!fe&&(null===(ue=this.onFinalize)||void 0===ue||ue.call(this))}}}},3997:(Ut,Be,K)=>{K.d(Be,{x:()=>be});var b=K(2737),ne=K(9360),u=K(8251);function be(fe,Te=b.y){return fe=fe??ue,(0,ne.e)((Ve,Oe)=>{let ae,de=!0;Ve.subscribe((0,u.x)(Oe,Me=>{const Se=Te(Me);(de||!fe(ae,Se))&&(de=!1,ae=Se,Oe.next(Me))}))})}function ue(fe,Te){return fe===Te}},2181:(Ut,Be,K)=>{K.d(Be,{h:()=>u});var b=K(9360),ne=K(8251);function u(be,ue){return(0,b.e)((fe,Te)=>{let Ve=0;fe.subscribe((0,ne.x)(Te,Oe=>be.call(ue,Oe,Ve++)&&Te.next(Oe)))})}},7398:(Ut,Be,K)=>{K.d(Be,{U:()=>u});var b=K(9360),ne=K(8251);function u(be,ue){return(0,b.e)((fe,Te)=>{let Ve=0;fe.subscribe((0,ne.x)(Te,Oe=>{Te.next(be.call(ue,Oe,Ve++))}))})}},975:(Ut,Be,K)=>{K.d(Be,{h:()=>ne});var b=K(7398);function ne(u){return(0,b.U)(()=>u)}},7537:(Ut,Be,K)=>{K.d(Be,{J:()=>u});var b=K(1631),ne=K(2737);function u(be=1/0){return(0,b.z)(ne.y,be)}},1631:(Ut,Be,K)=>{K.d(Be,{z:()=>Ve});var b=K(7398),ne=K(4829),u=K(9360),be=K(7103),ue=K(8251),Te=K(4674);function Ve(Oe,ae,de=1/0){return(0,Te.m)(ae)?Ve((Me,Se)=>(0,b.U)((xe,Ze)=>ae(Me,xe,Se,Ze))((0,ne.Xf)(Oe(Me,Se))),de):("number"==typeof ae&&(de=ae),(0,u.e)((Me,Se)=>function fe(Oe,ae,de,Me,Se,xe,Ze,It){const Pt=[];let Ot=0,Tn=0,Nt=!1;const ft=()=>{Nt&&!Pt.length&&!Ot&&ae.complete()},at=yt=>Ot<Me?vt(yt):Pt.push(yt),vt=yt=>{xe&&ae.next(yt),Ot++;let Ge=!1;(0,ne.Xf)(de(yt,Tn++)).subscribe((0,ue.x)(ae,we=>{Se?.(we),xe?at(we):ae.next(we)},()=>{Ge=!0},void 0,()=>{if(Ge)try{for(Ot--;Pt.length&&Ot<Me;){const we=Pt.shift();Ze?(0,be.f)(ae,Ze,()=>vt(we)):vt(we)}ft()}catch(we){ae.error(we)}}))};return Oe.subscribe((0,ue.x)(ae,at,()=>{Nt=!0,ft()})),()=>{It?.()}}(Me,Se,Oe,de)))}},3093:(Ut,Be,K)=>{K.d(Be,{Q:()=>be});var b=K(7103),ne=K(9360),u=K(8251);function be(ue,fe=0){return(0,ne.e)((Te,Ve)=>{Te.subscribe((0,u.x)(Ve,Oe=>(0,b.f)(Ve,ue,()=>Ve.next(Oe),fe),()=>(0,b.f)(Ve,ue,()=>Ve.complete(),fe),Oe=>(0,b.f)(Ve,ue,()=>Ve.error(Oe),fe)))})}},6699:(Ut,Be,K)=>{K.d(Be,{R:()=>be});var b=K(9360),ne=K(8251);function be(ue,fe){return(0,b.e)(function u(ue,fe,Te,Ve,Oe){return(ae,de)=>{let Me=Te,Se=fe,xe=0;ae.subscribe((0,ne.x)(de,Ze=>{const It=xe++;Se=Me?ue(Se,Ze,It):(Me=!0,Ze),Ve&&de.next(Se)},Oe&&(()=>{Me&&de.next(Se),de.complete()})))}}(ue,fe,arguments.length>=2,!0))}},7921:(Ut,Be,K)=>{K.d(Be,{O:()=>be});var b=K(5211),ne=K(9940),u=K(9360);function be(...ue){const fe=(0,ne.yG)(ue);return(0,u.e)((Te,Ve)=>{(fe?(0,b.z)(ue,Te,fe):(0,b.z)(ue,Te)).subscribe(Ve)})}},5137:(Ut,Be,K)=>{K.d(Be,{R:()=>ne});var b=K(9360);function ne(u,be=0){return(0,b.e)((ue,fe)=>{fe.add(u.schedule(()=>ue.subscribe(fe),be))})}},4664:(Ut,Be,K)=>{K.d(Be,{w:()=>be});var b=K(4829),ne=K(9360),u=K(8251);function be(ue,fe){return(0,ne.e)((Te,Ve)=>{let Oe=null,ae=0,de=!1;const Me=()=>de&&!Oe&&Ve.complete();Te.subscribe((0,u.x)(Ve,Se=>{Oe?.unsubscribe();let xe=0;const Ze=ae++;(0,b.Xf)(ue(Se,Ze)).subscribe(Oe=(0,u.x)(Ve,It=>Ve.next(fe?fe(Se,It,Ze,xe++):It),()=>{Oe=null,Me()}))},()=>{de=!0,Me()}))})}},8180:(Ut,Be,K)=>{K.d(Be,{q:()=>be});var b=K(6232),ne=K(9360),u=K(8251);function be(ue){return ue<=0?()=>b.E:(0,ne.e)((fe,Te)=>{let Ve=0;fe.subscribe((0,u.x)(Te,Oe=>{++Ve<=ue&&(Te.next(Oe),ue<=Ve&&Te.complete())}))})}},9773:(Ut,Be,K)=>{K.d(Be,{R:()=>ue});var b=K(9360),ne=K(8251),u=K(4829),be=K(2420);function ue(fe){return(0,b.e)((Te,Ve)=>{(0,u.Xf)(fe).subscribe((0,ne.x)(Ve,()=>Ve.complete(),be.Z)),!Ve.closed&&Te.subscribe(Ve)})}},9397:(Ut,Be,K)=>{K.d(Be,{b:()=>ue});var b=K(4674),ne=K(9360),u=K(8251),be=K(2737);function ue(fe,Te,Ve){const Oe=(0,b.m)(fe)||Te||Ve?{next:fe,error:Te,complete:Ve}:fe;return Oe?(0,ne.e)((ae,de)=>{var Me;null===(Me=Oe.subscribe)||void 0===Me||Me.call(Oe);let Se=!0;ae.subscribe((0,u.x)(de,xe=>{var Ze;null===(Ze=Oe.next)||void 0===Ze||Ze.call(Oe,xe),de.next(xe)},()=>{var xe;Se=!1,null===(xe=Oe.complete)||void 0===xe||xe.call(Oe),de.complete()},xe=>{var Ze;Se=!1,null===(Ze=Oe.error)||void 0===Ze||Ze.call(Oe,xe),de.error(xe)},()=>{var xe,Ze;Se&&(null===(xe=Oe.unsubscribe)||void 0===xe||xe.call(Oe)),null===(Ze=Oe.finalize)||void 0===Ze||Ze.call(Oe)}))}):be.y}},1954:(Ut,Be,K)=>{K.d(Be,{o:()=>ue});var b=K(7394);class ne extends b.w0{constructor(Te,Ve){super()}schedule(Te,Ve=0){return this}}const u={setInterval(fe,Te,...Ve){const{delegate:Oe}=u;return Oe?.setInterval?Oe.setInterval(fe,Te,...Ve):setInterval(fe,Te,...Ve)},clearInterval(fe){const{delegate:Te}=u;return(Te?.clearInterval||clearInterval)(fe)},delegate:void 0};var be=K(9039);class ue extends ne{constructor(Te,Ve){super(Te,Ve),this.scheduler=Te,this.work=Ve,this.pending=!1}schedule(Te,Ve=0){var Oe;if(this.closed)return this;this.state=Te;const ae=this.id,de=this.scheduler;return null!=ae&&(this.id=this.recycleAsyncId(de,ae,Ve)),this.pending=!0,this.delay=Ve,this.id=null!==(Oe=this.id)&&void 0!==Oe?Oe:this.requestAsyncId(de,this.id,Ve),this}requestAsyncId(Te,Ve,Oe=0){return u.setInterval(Te.flush.bind(Te,this),Oe)}recycleAsyncId(Te,Ve,Oe=0){if(null!=Oe&&this.delay===Oe&&!1===this.pending)return Ve;null!=Ve&&u.clearInterval(Ve)}execute(Te,Ve){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Oe=this._execute(Te,Ve);if(Oe)return Oe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Te,Ve){let ae,Oe=!1;try{this.work(Te)}catch(de){Oe=!0,ae=de||new Error("Scheduled action threw falsy error")}if(Oe)return this.unsubscribe(),ae}unsubscribe(){if(!this.closed){const{id:Te,scheduler:Ve}=this,{actions:Oe}=Ve;this.work=this.state=this.scheduler=null,this.pending=!1,(0,be.P)(Oe,this),null!=Te&&(this.id=this.recycleAsyncId(Ve,Te,null)),this.delay=null,super.unsubscribe()}}}},9931:(Ut,Be,K)=>{K.d(Be,{v:()=>u});const b={now:()=>(b.delegate||Date).now(),delegate:void 0};class ne{constructor(ue,fe=ne.now){this.schedulerActionCtor=ue,this.now=fe}schedule(ue,fe=0,Te){return new this.schedulerActionCtor(this,ue).schedule(Te,fe)}}ne.now=b.now;class u extends ne{constructor(ue,fe=ne.now){super(ue,fe),this.actions=[],this._active=!1}flush(ue){const{actions:fe}=this;if(this._active)return void fe.push(ue);let Te;this._active=!0;do{if(Te=ue.execute(ue.state,ue.delay))break}while(ue=fe.shift());if(this._active=!1,Te){for(;ue=fe.shift();)ue.unsubscribe();throw Te}}}},6321:(Ut,Be,K)=>{K.d(Be,{P:()=>be,z:()=>u});var b=K(1954);const u=new(K(9931).v)(b.o),be=u},2381:(Ut,Be,K)=>{K.d(Be,{N:()=>ue});var b=K(1954),u=K(9931);const ue=new class be extends u.v{}(class ne extends b.o{constructor(Ve,Oe){super(Ve,Oe),this.scheduler=Ve,this.work=Oe}schedule(Ve,Oe=0){return Oe>0?super.schedule(Ve,Oe):(this.delay=Oe,this.state=Ve,this.scheduler.flush(this),this)}execute(Ve,Oe){return Oe>0||this.closed?super.execute(Ve,Oe):this._execute(Ve,Oe)}requestAsyncId(Ve,Oe,ae=0){return null!=ae&&ae>0||null==ae&&this.delay>0?super.requestAsyncId(Ve,Oe,ae):(Ve.flush(this),0)}})},7599:(Ut,Be,K)=>{K.d(Be,{z:()=>b});const b={setTimeout(ne,u,...be){const{delegate:ue}=b;return ue?.setTimeout?ue.setTimeout(ne,u,...be):setTimeout(ne,u,...be)},clearTimeout(ne){const{delegate:u}=b;return(u?.clearTimeout||clearTimeout)(ne)},delegate:void 0}},4971:(Ut,Be,K)=>{K.d(Be,{h:()=>ne});const ne=function b(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Ut,Be,K)=>{K.d(Be,{L:()=>b});const b="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(Ut,Be,K)=>{K.d(Be,{K:()=>ne});const ne=(0,K(2306).d)(u=>function(){u(this),this.name="EmptyError",this.message="no elements in sequence"})},9940:(Ut,Be,K)=>{K.d(Be,{_6:()=>fe,jO:()=>be,yG:()=>ue});var b=K(4674),ne=K(671);function u(Te){return Te[Te.length-1]}function be(Te){return(0,b.m)(u(Te))?Te.pop():void 0}function ue(Te){return(0,ne.K)(u(Te))?Te.pop():void 0}function fe(Te,Ve){return"number"==typeof u(Te)?Te.pop():Ve}},7453:(Ut,Be,K)=>{K.d(Be,{D:()=>ue});const{isArray:b}=Array,{getPrototypeOf:ne,prototype:u,keys:be}=Object;function ue(Te){if(1===Te.length){const Ve=Te[0];if(b(Ve))return{args:Ve,keys:null};if(function fe(Te){return Te&&"object"==typeof Te&&ne(Te)===u}(Ve)){const Oe=be(Ve);return{args:Oe.map(ae=>Ve[ae]),keys:Oe}}}return{args:Te,keys:null}}},9039:(Ut,Be,K)=>{function b(ne,u){if(ne){const be=ne.indexOf(u);0<=be&&ne.splice(be,1)}}K.d(Be,{P:()=>b})},2306:(Ut,Be,K)=>{function b(ne){const be=ne(ue=>{Error.call(ue),ue.stack=(new Error).stack});return be.prototype=Object.create(Error.prototype),be.prototype.constructor=be,be}K.d(Be,{d:()=>b})},2714:(Ut,Be,K)=>{function b(ne,u){return ne.reduce((be,ue,fe)=>(be[ue]=u[fe],be),{})}K.d(Be,{n:()=>b})},1441:(Ut,Be,K)=>{K.d(Be,{O:()=>be,x:()=>u});var b=K(2653);let ne=null;function u(ue){if(b.config.useDeprecatedSynchronousErrorHandling){const fe=!ne;if(fe&&(ne={errorThrown:!1,error:null}),ue(),fe){const{errorThrown:Te,error:Ve}=ne;if(ne=null,Te)throw Ve}}else ue()}function be(ue){b.config.useDeprecatedSynchronousErrorHandling&&ne&&(ne.errorThrown=!0,ne.error=ue)}},7103:(Ut,Be,K)=>{function b(ne,u,be,ue=0,fe=!1){const Te=u.schedule(function(){be(),fe?ne.add(this.schedule(null,ue)):this.unsubscribe()},ue);if(ne.add(Te),!fe)return Te}K.d(Be,{f:()=>b})},2737:(Ut,Be,K)=>{function b(ne){return ne}K.d(Be,{y:()=>b})},4266:(Ut,Be,K)=>{K.d(Be,{z:()=>b});const b=ne=>ne&&"number"==typeof ne.length&&"function"!=typeof ne},5726:(Ut,Be,K)=>{K.d(Be,{D:()=>ne});var b=K(4674);function ne(u){return Symbol.asyncIterator&&(0,b.m)(u?.[Symbol.asyncIterator])}},4674:(Ut,Be,K)=>{function b(ne){return"function"==typeof ne}K.d(Be,{m:()=>b})},8382:(Ut,Be,K)=>{K.d(Be,{c:()=>u});var b=K(4850),ne=K(4674);function u(be){return(0,ne.m)(be[b.L])}},3664:(Ut,Be,K)=>{K.d(Be,{T:()=>u});var b=K(4971),ne=K(4674);function u(be){return(0,ne.m)(be?.[b.h])}},4026:(Ut,Be,K)=>{K.d(Be,{t:()=>ne});var b=K(4674);function ne(u){return(0,b.m)(u?.then)}},541:(Ut,Be,K)=>{K.d(Be,{L:()=>be,Q:()=>u});var b=K(7582),ne=K(4674);function u(ue){return(0,b.FC)(this,arguments,function*(){const Te=ue.getReader();try{for(;;){const{value:Ve,done:Oe}=yield(0,b.qq)(Te.read());if(Oe)return yield(0,b.qq)(void 0);yield yield(0,b.qq)(Ve)}}finally{Te.releaseLock()}})}function be(ue){return(0,ne.m)(ue?.getReader)}},671:(Ut,Be,K)=>{K.d(Be,{K:()=>ne});var b=K(4674);function ne(u){return u&&(0,b.m)(u.schedule)}},9360:(Ut,Be,K)=>{K.d(Be,{A:()=>ne,e:()=>u});var b=K(4674);function ne(be){return(0,b.m)(be?.lift)}function u(be){return ue=>{if(ne(ue))return ue.lift(function(fe){try{return be(fe,this)}catch(Te){this.error(Te)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(Ut,Be,K)=>{K.d(Be,{Z:()=>be});var b=K(7398);const{isArray:ne}=Array;function be(ue){return(0,b.U)(fe=>function u(ue,fe){return ne(fe)?ue(...fe):ue(fe)}(ue,fe))}},2420:(Ut,Be,K)=>{function b(){}K.d(Be,{Z:()=>b})},8407:(Ut,Be,K)=>{K.d(Be,{U:()=>u,z:()=>ne});var b=K(2737);function ne(...be){return u(be)}function u(be){return 0===be.length?b.y:1===be.length?be[0]:function(fe){return be.reduce((Te,Ve)=>Ve(Te),fe)}}},3894:(Ut,Be,K)=>{K.d(Be,{h:()=>u});var b=K(2653),ne=K(7599);function u(be){ne.z.setTimeout(()=>{const{onUnhandledError:ue}=b.config;if(!ue)throw be;ue(be)})}},9853:(Ut,Be,K)=>{function b(ne){return new TypeError(`You provided ${null!==ne&&"object"==typeof ne?"an invalid object":`'${ne}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}K.d(Be,{z:()=>b})},6814:(Ut,Be,K)=>{K.d(Be,{Do:()=>It,EM:()=>Vo,HT:()=>be,JF:()=>so,K0:()=>fe,Mn:()=>Dn,Mx:()=>go,O5:()=>mo,PM:()=>kr,S$:()=>Se,Tn:()=>we,UT:()=>Hn,V_:()=>Ve,Ye:()=>Pt,ax:()=>Us,b0:()=>Ze,bD:()=>pi,ez:()=>Ur,mk:()=>Ga,p6:()=>yr,q:()=>u,sg:()=>Us,tP:()=>ea,uU:()=>ja,w_:()=>ue,x:()=>Ge});var b=K(9468);let ne=null;function u(){return ne}function be(M){ne||(ne=M)}class ue{}const fe=new b.OlP("DocumentToken");let Te=(()=>{class M{historyGo(V){throw new Error("Not implemented")}static#e=this.\u0275fac=function(X){return new(X||M)};static#t=this.\u0275prov=b.Yz7({token:M,factory:function(){return(0,b.f3M)(Oe)},providedIn:"platform"})}return M})();const Ve=new b.OlP("Location Initialized");let Oe=(()=>{class M extends Te{constructor(){super(),this._doc=(0,b.f3M)(fe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return u().getBaseHref(this._doc)}onPopState(V){const X=u().getGlobalEventTarget(this._doc,"window");return X.addEventListener("popstate",V,!1),()=>X.removeEventListener("popstate",V)}onHashChange(V){const X=u().getGlobalEventTarget(this._doc,"window");return X.addEventListener("hashchange",V,!1),()=>X.removeEventListener("hashchange",V)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(V){this._location.pathname=V}pushState(V,X,ve){this._history.pushState(V,X,ve)}replaceState(V,X,ve){this._history.replaceState(V,X,ve)}forward(){this._history.forward()}back(){this._history.back()}historyGo(V=0){this._history.go(V)}getState(){return this._history.state}static#e=this.\u0275fac=function(X){return new(X||M)};static#t=this.\u0275prov=b.Yz7({token:M,factory:function(){return new M},providedIn:"platform"})}return M})();function ae(M,re){if(0==M.length)return re;if(0==re.length)return M;let V=0;return M.endsWith("/")&&V++,re.startsWith("/")&&V++,2==V?M+re.substring(1):1==V?M+re:M+"/"+re}function de(M){const re=M.match(/#|\?|$/),V=re&&re.index||M.length;return M.slice(0,V-("/"===M[V-1]?1:0))+M.slice(V)}function Me(M){return M&&"?"!==M[0]?"?"+M:M}let Se=(()=>{class M{historyGo(V){throw new Error("Not implemented")}static#e=this.\u0275fac=function(X){return new(X||M)};static#t=this.\u0275prov=b.Yz7({token:M,factory:function(){return(0,b.f3M)(Ze)},providedIn:"root"})}return M})();const xe=new b.OlP("appBaseHref");let Ze=(()=>{class M extends Se{constructor(V,X){super(),this._platformLocation=V,this._removeListenerFns=[],this._baseHref=X??this._platformLocation.getBaseHrefFromDOM()??(0,b.f3M)(fe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(V){this._removeListenerFns.push(this._platformLocation.onPopState(V),this._platformLocation.onHashChange(V))}getBaseHref(){return this._baseHref}prepareExternalUrl(V){return ae(this._baseHref,V)}path(V=!1){const X=this._platformLocation.pathname+Me(this._platformLocation.search),ve=this._platformLocation.hash;return ve&&V?`${X}${ve}`:X}pushState(V,X,ve,tt){const mt=this.prepareExternalUrl(ve+Me(tt));this._platformLocation.pushState(V,X,mt)}replaceState(V,X,ve,tt){const mt=this.prepareExternalUrl(ve+Me(tt));this._platformLocation.replaceState(V,X,mt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(V=0){this._platformLocation.historyGo?.(V)}static#e=this.\u0275fac=function(X){return new(X||M)(b.LFG(Te),b.LFG(xe,8))};static#t=this.\u0275prov=b.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"})}return M})(),It=(()=>{class M extends Se{constructor(V,X){super(),this._platformLocation=V,this._baseHref="",this._removeListenerFns=[],null!=X&&(this._baseHref=X)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(V){this._removeListenerFns.push(this._platformLocation.onPopState(V),this._platformLocation.onHashChange(V))}getBaseHref(){return this._baseHref}path(V=!1){let X=this._platformLocation.hash;return null==X&&(X="#"),X.length>0?X.substring(1):X}prepareExternalUrl(V){const X=ae(this._baseHref,V);return X.length>0?"#"+X:X}pushState(V,X,ve,tt){let mt=this.prepareExternalUrl(ve+Me(tt));0==mt.length&&(mt=this._platformLocation.pathname),this._platformLocation.pushState(V,X,mt)}replaceState(V,X,ve,tt){let mt=this.prepareExternalUrl(ve+Me(tt));0==mt.length&&(mt=this._platformLocation.pathname),this._platformLocation.replaceState(V,X,mt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(V=0){this._platformLocation.historyGo?.(V)}static#e=this.\u0275fac=function(X){return new(X||M)(b.LFG(Te),b.LFG(xe,8))};static#t=this.\u0275prov=b.Yz7({token:M,factory:M.\u0275fac})}return M})(),Pt=(()=>{class M{constructor(V){this._subject=new b.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=V;const X=this._locationStrategy.getBaseHref();this._basePath=function ft(M){if(new RegExp("^(https?:)?//").test(M)){const[,V]=M.split(/\/\/[^\/]+/);return V}return M}(de(Nt(X))),this._locationStrategy.onPopState(ve=>{this._subject.emit({url:this.path(!0),pop:!0,state:ve.state,type:ve.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(V=!1){return this.normalize(this._locationStrategy.path(V))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(V,X=""){return this.path()==this.normalize(V+Me(X))}normalize(V){return M.stripTrailingSlash(function Tn(M,re){if(!M||!re.startsWith(M))return re;const V=re.substring(M.length);return""===V||["/",";","?","#"].includes(V[0])?V:re}(this._basePath,Nt(V)))}prepareExternalUrl(V){return V&&"/"!==V[0]&&(V="/"+V),this._locationStrategy.prepareExternalUrl(V)}go(V,X="",ve=null){this._locationStrategy.pushState(ve,"",V,X),this._notifyUrlChangeListeners(this.prepareExternalUrl(V+Me(X)),ve)}replaceState(V,X="",ve=null){this._locationStrategy.replaceState(ve,"",V,X),this._notifyUrlChangeListeners(this.prepareExternalUrl(V+Me(X)),ve)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(V=0){this._locationStrategy.historyGo?.(V)}onUrlChange(V){return this._urlChangeListeners.push(V),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(X=>{this._notifyUrlChangeListeners(X.url,X.state)})),()=>{const X=this._urlChangeListeners.indexOf(V);this._urlChangeListeners.splice(X,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(V="",X){this._urlChangeListeners.forEach(ve=>ve(V,X))}subscribe(V,X,ve){return this._subject.subscribe({next:V,error:X,complete:ve})}static#e=this.normalizeQueryParams=Me;static#t=this.joinWithSlash=ae;static#n=this.stripTrailingSlash=de;static#r=this.\u0275fac=function(X){return new(X||M)(b.LFG(Se))};static#i=this.\u0275prov=b.Yz7({token:M,factory:function(){return function Ot(){return new Pt((0,b.LFG)(Se))}()},providedIn:"root"})}return M})();function Nt(M){return M.replace(/\/index.html$/,"")}var Ge=function(M){return M[M.Format=0]="Format",M[M.Standalone=1]="Standalone",M}(Ge||{}),we=function(M){return M[M.Narrow=0]="Narrow",M[M.Abbreviated=1]="Abbreviated",M[M.Wide=2]="Wide",M[M.Short=3]="Short",M}(we||{}),Xe=function(M){return M[M.Short=0]="Short",M[M.Medium=1]="Medium",M[M.Long=2]="Long",M[M.Full=3]="Full",M}(Xe||{}),_t=function(M){return M[M.Decimal=0]="Decimal",M[M.Group=1]="Group",M[M.List=2]="List",M[M.PercentSign=3]="PercentSign",M[M.PlusSign=4]="PlusSign",M[M.MinusSign=5]="MinusSign",M[M.Exponential=6]="Exponential",M[M.SuperscriptingExponent=7]="SuperscriptingExponent",M[M.PerMille=8]="PerMille",M[M.Infinity=9]="Infinity",M[M.NaN=10]="NaN",M[M.TimeSeparator=11]="TimeSeparator",M[M.CurrencyDecimal=12]="CurrencyDecimal",M[M.CurrencyGroup=13]="CurrencyGroup",M}(_t||{});function Dn(M,re,V){const X=(0,b.cg1)(M),tt=Ae([X[b.wAp.DaysFormat],X[b.wAp.DaysStandalone]],re);return Ae(tt,V)}function Hn(M,re,V){const X=(0,b.cg1)(M),tt=Ae([X[b.wAp.MonthsFormat],X[b.wAp.MonthsStandalone]],re);return Ae(tt,V)}function je(M,re){return Ae((0,b.cg1)(M)[b.wAp.DateFormat],re)}function et(M,re){return Ae((0,b.cg1)(M)[b.wAp.TimeFormat],re)}function He(M,re){return Ae((0,b.cg1)(M)[b.wAp.DateTimeFormat],re)}function rt(M,re){const V=(0,b.cg1)(M),X=V[b.wAp.NumberSymbols][re];if(typeof X>"u"){if(re===_t.CurrencyDecimal)return V[b.wAp.NumberSymbols][_t.Decimal];if(re===_t.CurrencyGroup)return V[b.wAp.NumberSymbols][_t.Group]}return X}function St(M){if(!M[b.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${M[b.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ae(M,re){for(let V=re;V>-1;V--)if(typeof M[V]<"u")return M[V];throw new Error("Locale data API: locale data undefined")}function Ee(M){const[re,V]=M.split(":");return{hours:+re,minutes:+V}}const Rt=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,wr={},pn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var In=function(M){return M[M.Short=0]="Short",M[M.ShortGMT=1]="ShortGMT",M[M.Long=2]="Long",M[M.Extended=3]="Extended",M}(In||{}),Yt=function(M){return M[M.FullYear=0]="FullYear",M[M.Month=1]="Month",M[M.Date=2]="Date",M[M.Hours=3]="Hours",M[M.Minutes=4]="Minutes",M[M.Seconds=5]="Seconds",M[M.FractionalSeconds=6]="FractionalSeconds",M[M.Day=7]="Day",M}(Yt||{}),cn=function(M){return M[M.DayPeriods=0]="DayPeriods",M[M.Days=1]="Days",M[M.Months=2]="Months",M[M.Eras=3]="Eras",M}(cn||{});function yr(M,re,V,X){let ve=function B(M){if(W(M))return M;if("number"==typeof M&&!isNaN(M))return new Date(M);if("string"==typeof M){if(M=M.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(M)){const[ve,tt=1,mt=1]=M.split("-").map(bn=>+bn);return Xt(ve,tt-1,mt)}const V=parseFloat(M);if(!isNaN(M-V))return new Date(V);let X;if(X=M.match(Rt))return function G(M){const re=new Date(0);let V=0,X=0;const ve=M[8]?re.setUTCFullYear:re.setFullYear,tt=M[8]?re.setUTCHours:re.setHours;M[9]&&(V=Number(M[9]+M[10]),X=Number(M[9]+M[11])),ve.call(re,Number(M[1]),Number(M[2])-1,Number(M[3]));const mt=Number(M[4]||0)-V,bn=Number(M[5]||0)-X,Ar=Number(M[6]||0),Or=Math.floor(1e3*parseFloat("0."+(M[7]||0)));return tt.call(re,mt,bn,Ar,Or),re}(X)}const re=new Date(M);if(!W(re))throw new Error(`Unable to convert "${M}" into a date`);return re}(M);re=Dr(V,re)||re;let bn,mt=[];for(;re;){if(bn=pn.exec(re),!bn){mt.push(re);break}{mt=mt.concat(bn.slice(1));const Nr=mt.pop();if(!Nr)break;re=Nr}}let Ar=ve.getTimezoneOffset();X&&(Ar=Zt(X,Ar),ve=function Q(M,re,V){const X=V?-1:1,ve=M.getTimezoneOffset();return function Wn(M,re){return(M=new Date(M.getTime())).setMinutes(M.getMinutes()+re),M}(M,X*(Zt(re,ve)-ve))}(ve,X,!0));let Or="";return mt.forEach(Nr=>{const Cn=function $t(M){if(Et[M])return Et[M];let re;switch(M){case"G":case"GG":case"GGG":re=Ln(cn.Eras,we.Abbreviated);break;case"GGGG":re=Ln(cn.Eras,we.Wide);break;case"GGGGG":re=Ln(cn.Eras,we.Narrow);break;case"y":re=qn(Yt.FullYear,1,0,!1,!0);break;case"yy":re=qn(Yt.FullYear,2,0,!0,!0);break;case"yyy":re=qn(Yt.FullYear,3,0,!1,!0);break;case"yyyy":re=qn(Yt.FullYear,4,0,!1,!0);break;case"Y":re=Qe(1);break;case"YY":re=Qe(2,!0);break;case"YYY":re=Qe(3);break;case"YYYY":re=Qe(4);break;case"M":case"L":re=qn(Yt.Month,1,1);break;case"MM":case"LL":re=qn(Yt.Month,2,1);break;case"MMM":re=Ln(cn.Months,we.Abbreviated);break;case"MMMM":re=Ln(cn.Months,we.Wide);break;case"MMMMM":re=Ln(cn.Months,we.Narrow);break;case"LLL":re=Ln(cn.Months,we.Abbreviated,Ge.Standalone);break;case"LLLL":re=Ln(cn.Months,we.Wide,Ge.Standalone);break;case"LLLLL":re=Ln(cn.Months,we.Narrow,Ge.Standalone);break;case"w":re=Ce(1);break;case"ww":re=Ce(2);break;case"W":re=Ce(1,!0);break;case"d":re=qn(Yt.Date,1);break;case"dd":re=qn(Yt.Date,2);break;case"c":case"cc":re=qn(Yt.Day,1);break;case"ccc":re=Ln(cn.Days,we.Abbreviated,Ge.Standalone);break;case"cccc":re=Ln(cn.Days,we.Wide,Ge.Standalone);break;case"ccccc":re=Ln(cn.Days,we.Narrow,Ge.Standalone);break;case"cccccc":re=Ln(cn.Days,we.Short,Ge.Standalone);break;case"E":case"EE":case"EEE":re=Ln(cn.Days,we.Abbreviated);break;case"EEEE":re=Ln(cn.Days,we.Wide);break;case"EEEEE":re=Ln(cn.Days,we.Narrow);break;case"EEEEEE":re=Ln(cn.Days,we.Short);break;case"a":case"aa":case"aaa":re=Ln(cn.DayPeriods,we.Abbreviated);break;case"aaaa":re=Ln(cn.DayPeriods,we.Wide);break;case"aaaaa":re=Ln(cn.DayPeriods,we.Narrow);break;case"b":case"bb":case"bbb":re=Ln(cn.DayPeriods,we.Abbreviated,Ge.Standalone,!0);break;case"bbbb":re=Ln(cn.DayPeriods,we.Wide,Ge.Standalone,!0);break;case"bbbbb":re=Ln(cn.DayPeriods,we.Narrow,Ge.Standalone,!0);break;case"B":case"BB":case"BBB":re=Ln(cn.DayPeriods,we.Abbreviated,Ge.Format,!0);break;case"BBBB":re=Ln(cn.DayPeriods,we.Wide,Ge.Format,!0);break;case"BBBBB":re=Ln(cn.DayPeriods,we.Narrow,Ge.Format,!0);break;case"h":re=qn(Yt.Hours,1,-12);break;case"hh":re=qn(Yt.Hours,2,-12);break;case"H":re=qn(Yt.Hours,1);break;case"HH":re=qn(Yt.Hours,2);break;case"m":re=qn(Yt.Minutes,1);break;case"mm":re=qn(Yt.Minutes,2);break;case"s":re=qn(Yt.Seconds,1);break;case"ss":re=qn(Yt.Seconds,2);break;case"S":re=qn(Yt.FractionalSeconds,1);break;case"SS":re=qn(Yt.FractionalSeconds,2);break;case"SSS":re=qn(Yt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":re=qt(In.Short);break;case"ZZZZZ":re=qt(In.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":re=qt(In.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":re=qt(In.Long);break;default:return null}return Et[M]=re,re}(Nr);Or+=Cn?Cn(ve,V,Ar):"''"===Nr?"'":Nr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Or}function Xt(M,re,V){const X=new Date(0);return X.setFullYear(M,re,V),X.setHours(0,0,0),X}function Dr(M,re){const V=function dt(M){return(0,b.cg1)(M)[b.wAp.LocaleId]}(M);if(wr[V]=wr[V]||{},wr[V][re])return wr[V][re];let X="";switch(re){case"shortDate":X=je(M,Xe.Short);break;case"mediumDate":X=je(M,Xe.Medium);break;case"longDate":X=je(M,Xe.Long);break;case"fullDate":X=je(M,Xe.Full);break;case"shortTime":X=et(M,Xe.Short);break;case"mediumTime":X=et(M,Xe.Medium);break;case"longTime":X=et(M,Xe.Long);break;case"fullTime":X=et(M,Xe.Full);break;case"short":const ve=Dr(M,"shortTime"),tt=Dr(M,"shortDate");X=Cr(He(M,Xe.Short),[ve,tt]);break;case"medium":const mt=Dr(M,"mediumTime"),bn=Dr(M,"mediumDate");X=Cr(He(M,Xe.Medium),[mt,bn]);break;case"long":const Ar=Dr(M,"longTime"),Or=Dr(M,"longDate");X=Cr(He(M,Xe.Long),[Ar,Or]);break;case"full":const Nr=Dr(M,"fullTime"),Cn=Dr(M,"fullDate");X=Cr(He(M,Xe.Full),[Nr,Cn])}return X&&(wr[V][re]=X),X}function Cr(M,re){return re&&(M=M.replace(/\{([^}]+)}/g,function(V,X){return null!=re&&X in re?re[X]:V})),M}function vn(M,re,V="-",X,ve){let tt="";(M<0||ve&&M<=0)&&(ve?M=1-M:(M=-M,tt=V));let mt=String(M);for(;mt.length<re;)mt="0"+mt;return X&&(mt=mt.slice(mt.length-re)),tt+mt}function qn(M,re,V=0,X=!1,ve=!1){return function(tt,mt){let bn=function ir(M,re){switch(M){case Yt.FullYear:return re.getFullYear();case Yt.Month:return re.getMonth();case Yt.Date:return re.getDate();case Yt.Hours:return re.getHours();case Yt.Minutes:return re.getMinutes();case Yt.Seconds:return re.getSeconds();case Yt.FractionalSeconds:return re.getMilliseconds();case Yt.Day:return re.getDay();default:throw new Error(`Unknown DateType value "${M}".`)}}(M,tt);if((V>0||bn>-V)&&(bn+=V),M===Yt.Hours)0===bn&&-12===V&&(bn=12);else if(M===Yt.FractionalSeconds)return function or(M,re){return vn(M,3).substring(0,re)}(bn,re);const Ar=rt(mt,_t.MinusSign);return vn(bn,re,Ar,X,ve)}}function Ln(M,re,V=Ge.Format,X=!1){return function(ve,tt){return function ni(M,re,V,X,ve,tt){switch(V){case cn.Months:return Hn(re,ve,X)[M.getMonth()];case cn.Days:return Dn(re,ve,X)[M.getDay()];case cn.DayPeriods:const mt=M.getHours(),bn=M.getMinutes();if(tt){const Or=function jn(M){const re=(0,b.cg1)(M);return St(re),(re[b.wAp.ExtraData][2]||[]).map(X=>"string"==typeof X?Ee(X):[Ee(X[0]),Ee(X[1])])}(re),Nr=function Tr(M,re,V){const X=(0,b.cg1)(M);St(X);const tt=Ae([X[b.wAp.ExtraData][0],X[b.wAp.ExtraData][1]],re)||[];return Ae(tt,V)||[]}(re,ve,X),Cn=Or.findIndex(zr=>{if(Array.isArray(zr)){const[nr,ii]=zr,Wi=mt>=nr.hours&&bn>=nr.minutes,Ii=mt<ii.hours||mt===ii.hours&&bn<ii.minutes;if(nr.hours<ii.hours){if(Wi&&Ii)return!0}else if(Wi||Ii)return!0}else if(zr.hours===mt&&zr.minutes===bn)return!0;return!1});if(-1!==Cn)return Nr[Cn]}return function _n(M,re,V){const X=(0,b.cg1)(M),tt=Ae([X[b.wAp.DayPeriodsFormat],X[b.wAp.DayPeriodsStandalone]],re);return Ae(tt,V)}(re,ve,X)[mt<12?0:1];case cn.Eras:return function rr(M,re){return Ae((0,b.cg1)(M)[b.wAp.Eras],re)}(re,X)[M.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${V}`)}}(ve,tt,M,re,V,X)}}function qt(M){return function(re,V,X){const ve=-1*X,tt=rt(V,_t.MinusSign),mt=ve>0?Math.floor(ve/60):Math.ceil(ve/60);switch(M){case In.Short:return(ve>=0?"+":"")+vn(mt,2,tt)+vn(Math.abs(ve%60),2,tt);case In.ShortGMT:return"GMT"+(ve>=0?"+":"")+vn(mt,1,tt);case In.Long:return"GMT"+(ve>=0?"+":"")+vn(mt,2,tt)+":"+vn(Math.abs(ve%60),2,tt);case In.Extended:return 0===X?"Z":(ve>=0?"+":"")+vn(mt,2,tt)+":"+vn(Math.abs(ve%60),2,tt);default:throw new Error(`Unknown zone width "${M}"`)}}}const Yi=0,Zr=4;function it(M){return Xt(M.getFullYear(),M.getMonth(),M.getDate()+(Zr-M.getDay()))}function Ce(M,re=!1){return function(V,X){let ve;if(re){const tt=new Date(V.getFullYear(),V.getMonth(),1).getDay()-1,mt=V.getDate();ve=1+Math.floor((mt+tt)/7)}else{const tt=it(V),mt=function jr(M){const re=Xt(M,Yi,1).getDay();return Xt(M,0,1+(re<=Zr?Zr:Zr+7)-re)}(tt.getFullYear()),bn=tt.getTime()-mt.getTime();ve=1+Math.round(bn/6048e5)}return vn(ve,M,rt(X,_t.MinusSign))}}function Qe(M,re=!1){return function(V,X){return vn(it(V).getFullYear(),M,rt(X,_t.MinusSign),re)}}const Et={};function Zt(M,re){M=M.replace(/:/g,"");const V=Date.parse("Jan 01, 1970 00:00:00 "+M)/6e4;return isNaN(V)?re:V}function W(M){return M instanceof Date&&!isNaN(M.valueOf())}function go(M,re){re=encodeURIComponent(re);for(const V of M.split(";")){const X=V.indexOf("="),[ve,tt]=-1==X?[V,""]:[V.slice(0,X),V.slice(X+1)];if(ve.trim()===re)return decodeURIComponent(tt)}return null}const Yo=/\s+/,Qo=[];let Ga=(()=>{class M{constructor(V,X,ve,tt){this._iterableDiffers=V,this._keyValueDiffers=X,this._ngEl=ve,this._renderer=tt,this.initialClasses=Qo,this.stateMap=new Map}set klass(V){this.initialClasses=null!=V?V.trim().split(Yo):Qo}set ngClass(V){this.rawClass="string"==typeof V?V.trim().split(Yo):V}ngDoCheck(){for(const X of this.initialClasses)this._updateState(X,!0);const V=this.rawClass;if(Array.isArray(V)||V instanceof Set)for(const X of V)this._updateState(X,!0);else if(null!=V)for(const X of Object.keys(V))this._updateState(X,!!V[X]);this._applyStateDiff()}_updateState(V,X){const ve=this.stateMap.get(V);void 0!==ve?(ve.enabled!==X&&(ve.changed=!0,ve.enabled=X),ve.touched=!0):this.stateMap.set(V,{enabled:X,changed:!0,touched:!0})}_applyStateDiff(){for(const V of this.stateMap){const X=V[0],ve=V[1];ve.changed?(this._toggleClass(X,ve.enabled),ve.changed=!1):ve.touched||(ve.enabled&&this._toggleClass(X,!1),this.stateMap.delete(X)),ve.touched=!1}}_toggleClass(V,X){(V=V.trim()).length>0&&V.split(Yo).forEach(ve=>{X?this._renderer.addClass(this._ngEl.nativeElement,ve):this._renderer.removeClass(this._ngEl.nativeElement,ve)})}static#e=this.\u0275fac=function(X){return new(X||M)(b.Y36(b.ZZ4),b.Y36(b.aQg),b.Y36(b.SBq),b.Y36(b.Qsj))};static#t=this.\u0275dir=b.lG2({type:M,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return M})();class Yr{constructor(re,V,X,ve){this.$implicit=re,this.ngForOf=V,this.index=X,this.count=ve}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Us=(()=>{class M{set ngForOf(V){this._ngForOf=V,this._ngForOfDirty=!0}set ngForTrackBy(V){this._trackByFn=V}get ngForTrackBy(){return this._trackByFn}constructor(V,X,ve){this._viewContainer=V,this._template=X,this._differs=ve,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(V){V&&(this._template=V)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const V=this._ngForOf;!this._differ&&V&&(this._differ=this._differs.find(V).create(this.ngForTrackBy))}if(this._differ){const V=this._differ.diff(this._ngForOf);V&&this._applyChanges(V)}}_applyChanges(V){const X=this._viewContainer;V.forEachOperation((ve,tt,mt)=>{if(null==ve.previousIndex)X.createEmbeddedView(this._template,new Yr(ve.item,this._ngForOf,-1,-1),null===mt?void 0:mt);else if(null==mt)X.remove(null===tt?void 0:tt);else if(null!==tt){const bn=X.get(tt);X.move(bn,mt),_i(bn,ve)}});for(let ve=0,tt=X.length;ve<tt;ve++){const bn=X.get(ve).context;bn.index=ve,bn.count=tt,bn.ngForOf=this._ngForOf}V.forEachIdentityChange(ve=>{_i(X.get(ve.currentIndex),ve)})}static ngTemplateContextGuard(V,X){return!0}static#e=this.\u0275fac=function(X){return new(X||M)(b.Y36(b.s_b),b.Y36(b.Rgc),b.Y36(b.ZZ4))};static#t=this.\u0275dir=b.lG2({type:M,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return M})();function _i(M,re){M.context.$implicit=re.item}let mo=(()=>{class M{constructor(V,X){this._viewContainer=V,this._context=new _a,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=X}set ngIf(V){this._context.$implicit=this._context.ngIf=V,this._updateView()}set ngIfThen(V){yi("ngIfThen",V),this._thenTemplateRef=V,this._thenViewRef=null,this._updateView()}set ngIfElse(V){yi("ngIfElse",V),this._elseTemplateRef=V,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(V,X){return!0}static#e=this.\u0275fac=function(X){return new(X||M)(b.Y36(b.s_b),b.Y36(b.Rgc))};static#t=this.\u0275dir=b.lG2({type:M,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return M})();class _a{constructor(){this.$implicit=null,this.ngIf=null}}function yi(M,re){if(re&&!re.createEmbeddedView)throw new Error(`${M} must be a TemplateRef, but received '${(0,b.AaK)(re)}'.`)}let ea=(()=>{class M{constructor(V){this._viewContainerRef=V,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(V){if(V.ngTemplateOutlet||V.ngTemplateOutletInjector){const X=this._viewContainerRef;if(this._viewRef&&X.remove(X.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:ve,ngTemplateOutletContext:tt,ngTemplateOutletInjector:mt}=this;this._viewRef=X.createEmbeddedView(ve,tt,mt?{injector:mt}:void 0)}else this._viewRef=null}else this._viewRef&&V.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(X){return new(X||M)(b.Y36(b.s_b))};static#t=this.\u0275dir=b.lG2({type:M,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[b.TTD]})}return M})();const ra=new b.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),ia=new b.OlP("DATE_PIPE_DEFAULT_OPTIONS");let ja=(()=>{class M{constructor(V,X,ve){this.locale=V,this.defaultTimezone=X,this.defaultOptions=ve}transform(V,X,ve,tt){if(null==V||""===V||V!=V)return null;try{return yr(V,X??this.defaultOptions?.dateFormat??"mediumDate",tt||this.locale,ve??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(mt){throw function cs(M,re){return new b.vHH(2100,!1)}()}}static#e=this.\u0275fac=function(X){return new(X||M)(b.Y36(b.soG,16),b.Y36(ra,24),b.Y36(ia,24))};static#t=this.\u0275pipe=b.Yjl({name:"date",type:M,pure:!0,standalone:!0})}return M})(),Ur=(()=>{class M{static#e=this.\u0275fac=function(X){return new(X||M)};static#t=this.\u0275mod=b.oAB({type:M});static#n=this.\u0275inj=b.cJS({})}return M})();const pi="browser",io="server";function kr(M){return M===io}let Vo=(()=>{class M{static#e=this.\u0275prov=(0,b.Yz7)({token:M,providedIn:"root",factory:()=>new bo((0,b.LFG)(fe),window)})}return M})();class bo{constructor(re,V){this.document=re,this.window=V,this.offset=()=>[0,0]}setOffset(re){this.offset=Array.isArray(re)?()=>re:re}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(re){this.supportsScrolling()&&this.window.scrollTo(re[0],re[1])}scrollToAnchor(re){if(!this.supportsScrolling())return;const V=function Fr(M,re){const V=M.getElementById(re)||M.getElementsByName(re)[0];if(V)return V;if("function"==typeof M.createTreeWalker&&M.body&&"function"==typeof M.body.attachShadow){const X=M.createTreeWalker(M.body,NodeFilter.SHOW_ELEMENT);let ve=X.currentNode;for(;ve;){const tt=ve.shadowRoot;if(tt){const mt=tt.getElementById(re)||tt.querySelector(`[name="${re}"]`);if(mt)return mt}ve=X.nextNode()}}return null}(this.document,re);V&&(this.scrollToElement(V),V.focus())}setHistoryScrollRestoration(re){this.supportsScrolling()&&(this.window.history.scrollRestoration=re)}scrollToElement(re){const V=re.getBoundingClientRect(),X=V.left+this.window.pageXOffset,ve=V.top+this.window.pageYOffset,tt=this.offset();this.window.scrollTo(X-tt[0],ve-tt[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class so{}},9468:(Ut,Be,K)=>{K.d(Be,{QbO:()=>K0,tb:()=>iE,AFp:()=>Ay,ip1:()=>Ob,hGG:()=>ND,z2F:()=>Vc,Ojb:()=>Y0,sBO:()=>wD,Sil:()=>qI,EJc:()=>WI,ktI:()=>gi,Xts:()=>yf,SBq:()=>Ih,lqb:()=>Fc,qLn:()=>Dd,vpe:()=>Tl,tBr:()=>Ep,XFs:()=>Xt,OlP:()=>qt,zs3:()=>da,ZZ4:()=>Kb,aQg:()=>Yb,soG:()=>Mb,YKP:()=>D_,h0i:()=>Ll,PXZ:()=>$C,R0b:()=>qo,FiY:()=>af,Lbi:()=>ao,g9A:()=>Wo,Qsj:()=>UE,FYo:()=>r1,JOm:()=>E0,q3G:()=>bs,tp0:()=>Tp,Rgc:()=>Mg,dDg:()=>fD,eoX:()=>Lg,q4F:()=>i1,GfV:()=>By,s_b:()=>db,ifc:()=>Vi,gHi:()=>tg,VuI:()=>xD,Flj:()=>zc,LMc:()=>RS,MMx:()=>Q1,Lck:()=>_T,eFA:()=>sE,Gpc:()=>Tn,f3M:()=>Xn,X6Q:()=>IS,$WT:()=>gs,_c5:()=>Qb,qFp:()=>Bg,tdS:()=>re,rg0:()=>Or,c2e:()=>aD,zSh:()=>Zp,HDt:()=>xb,wAp:()=>p_,vHH:()=>Ge,lri:()=>tE,rWj:()=>Hb,JZr:()=>yt,EiD:()=>by,mCW:()=>V0,qzn:()=>jp,JVY:()=>$p,pB0:()=>U0,eBb:()=>hm,L6k:()=>hh,LAX:()=>fm,cg1:()=>f_,kL8:()=>U1,dqk:()=>ir,Z0I:()=>gt,eJc:()=>Yv,QGY:()=>Ml,F4k:()=>Jm,RDi:()=>Xc,AaK:()=>It,z3N:()=>su,zW0:()=>ns,qOj:()=>Gf,Xq5:()=>Ye,TTD:()=>Wi,_Bn:()=>pI,jDz:()=>vT,xp6:()=>kf,uIk:()=>Pd,Tol:()=>sl,ekj:()=>l_,Suo:()=>UT,Xpm:()=>Cs,lG2:()=>ja,Yz7:()=>Ae,cJS:()=>Ke,oAB:()=>ro,Yjl:()=>Jr,Y36:()=>Ch,_UZ:()=>qm,BQk:()=>Ym,ynx:()=>Km,qZA:()=>il,TgZ:()=>Zf,EpF:()=>Li,n5z:()=>ee,Ikx:()=>_u,SDv:()=>fT,LFG:()=>Pn,$8M:()=>st,$Z:()=>Hu,NdJ:()=>Xm,CRH:()=>BT,kcU:()=>Jd,O4$:()=>Nc,oxw:()=>Ju,ALo:()=>ib,lcZ:()=>II,xi3:()=>sb,Hsn:()=>n_,F$t:()=>t_,Q6J:()=>vg,s9C:()=>r_,MGl:()=>bg,VKq:()=>yI,WLB:()=>rb,kEZ:()=>AT,iGM:()=>Rg,MAs:()=>Bd,KtG:()=>qh,Jf7:()=>zy,CHM:()=>bu,uOi:()=>Pc,LSH:()=>_f,P3R:()=>Iy,YNc:()=>Yu,W1O:()=>vb,_uU:()=>Bt,Oqu:()=>pr,hij:()=>Wt,lnq:()=>er,Gf:()=>yb});var b=K(8645),ne=K(7394),u=K(5592),be=K(3019),ue=K(5619),fe=K(2096),Te=K(4829),Ve=K(305),Oe=K(9360);function ae(r={}){const{connector:s=(()=>new b.x),resetOnError:a=!0,resetOnComplete:h=!0,resetOnRefCountZero:g=!0}=r;return y=>{let E,C,P,z=0,ie=!1,me=!1;const Pe=()=>{C?.unsubscribe(),C=void 0},Le=()=>{Pe(),E=P=void 0,ie=me=!1},pt=()=>{const Mt=E;Le(),Mt?.unsubscribe()};return(0,Oe.e)((Mt,nn)=>{z++,!me&&!ie&&Pe();const wn=P=P??s();nn.add(()=>{z--,0===z&&!me&&!ie&&(C=de(pt,g))}),wn.subscribe(nn),!E&&z>0&&(E=new Ve.Hp({next:bt=>wn.next(bt),error:bt=>{me=!0,Pe(),C=de(Le,a,bt),wn.error(bt)},complete:()=>{ie=!0,Pe(),C=de(Le,h),wn.complete()}}),(0,Te.Xf)(Mt).subscribe(E))})(y)}}function de(r,s,...a){if(!0===s)return void r();if(!1===s)return;const h=new Ve.Hp({next:()=>{h.unsubscribe(),r()}});return(0,Te.Xf)(s(...a)).subscribe(h)}var Me=K(4664),Se=K(3997);function xe(r){for(let s in r)if(r[s]===xe)return s;throw Error("Could not find renamed property on target object.")}function Ze(r,s){for(const a in s)s.hasOwnProperty(a)&&!r.hasOwnProperty(a)&&(r[a]=s[a])}function It(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(It).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const s=r.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function Pt(r,s){return null==r||""===r?null===s?"":s:null==s||""===s?r:r+" "+s}const Ot=xe({__forward_ref__:xe});function Tn(r){return r.__forward_ref__=Tn,r.toString=function(){return It(this())},r}function Nt(r){return ft(r)?r():r}function ft(r){return"function"==typeof r&&r.hasOwnProperty(Ot)&&r.__forward_ref__===Tn}function at(r){return r&&!!r.\u0275providers}const yt="https://g.co/ng/security#xss";class Ge extends Error{constructor(s,a){super(function we(r,s){return`NG0${Math.abs(r)}${s?": "+s:""}`}(s,a)),this.code=s}}function Xe(r){return"string"==typeof r?r:null==r?"":String(r)}function Dn(r,s){throw new Ge(-201,!1)}function St(r,s,a,h){throw new Error(`ASSERTION ERROR: ${r}`+(null==h?"":` [Expected=> ${a} ${h} ${s} <=Actual]`))}function Ae(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function Ke(r){return{providers:r.providers||[],imports:r.imports||[]}}function ut(r){return Rt(r,In)||Rt(r,cn)}function gt(r){return null!==ut(r)}function Rt(r,s){return r.hasOwnProperty(s)?r[s]:null}function pn(r){return r&&(r.hasOwnProperty(Yt)||r.hasOwnProperty(yr))?r[Yt]:null}const In=xe({\u0275prov:xe}),Yt=xe({\u0275inj:xe}),cn=xe({ngInjectableDef:xe}),yr=xe({ngInjectorDef:xe});var Xt=function(r){return r[r.Default=0]="Default",r[r.Host=1]="Host",r[r.Self=2]="Self",r[r.SkipSelf=4]="SkipSelf",r[r.Optional=8]="Optional",r}(Xt||{});let Dr;function Cr(){return Dr}function vn(r){const s=Dr;return Dr=r,s}function or(r,s,a){const h=ut(r);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:a&Xt.Optional?null:void 0!==s?s:void Dn(It(r))}const ir=globalThis;class qt{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Ae({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const B={},G="__NG_DI_FLAG__",W="ngTempTokenPath",Ie=/\n/gm,Tt="__source";let on;function Rn(r){const s=on;return on=r,s}function Qt(r,s=Xt.Default){if(void 0===on)throw new Ge(-203,!1);return null===on?or(r,void 0,s):on.get(r,s&Xt.Optional?null:void 0,s)}function Pn(r,s=Xt.Default){return(Cr()||Qt)(Nt(r),s)}function Xn(r,s=Xt.Default){return Pn(r,fs(s))}function fs(r){return typeof r>"u"||"number"==typeof r?r:0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)}function Bo(r){const s=[];for(let a=0;a<r.length;a++){const h=Nt(r[a]);if(Array.isArray(h)){if(0===h.length)throw new Ge(900,!1);let g,y=Xt.Default;for(let E=0;E<h.length;E++){const C=h[E],P=os(C);"number"==typeof P?-1===P?g=C.token:y|=P:g=C}s.push(Pn(g,y))}else s.push(Pn(h))}return s}function ss(r,s){return r[G]=s,r.prototype[G]=s,r}function os(r){return r[G]}function Bi(r){return{toString:r}.toString()}var po=function(r){return r[r.OnPush=0]="OnPush",r[r.Default=1]="Default",r}(po||{}),Vi=function(r){return r[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",r}(Vi||{});const Hi={},tr=[],go=xe({\u0275cmp:xe}),Yo=xe({\u0275dir:xe}),Qo=xe({\u0275pipe:xe}),Ga=xe({\u0275mod:xe}),ps=xe({\u0275fac:xe}),ma=xe({__NG_ELEMENT_ID__:xe}),Yr=xe({__NG_ENV_ID__:xe});function Us(r,s,a){let h=r.length;for(;;){const g=r.indexOf(s,a);if(-1===g)return g;if(0===g||r.charCodeAt(g-1)<=32){const y=s.length;if(g+y===h||r.charCodeAt(g+y)<=32)return g}a=g+1}}function _i(r,s,a){let h=0;for(;h<a.length;){const g=a[h];if("number"==typeof g){if(0!==g)break;h++;const y=a[h++],E=a[h++],C=a[h++];r.setAttribute(s,E,C,y)}else{const y=g,E=a[++h];mo(y)?r.setProperty(s,y,E):r.setAttribute(s,y,E),h++}}return h}function Jo(r){return 3===r||4===r||6===r}function mo(r){return 64===r.charCodeAt(0)}function _a(r,s){if(null!==s&&0!==s.length)if(null===r||0===r.length)r=s.slice();else{let a=-1;for(let h=0;h<s.length;h++){const g=s[h];"number"==typeof g?a=g:0===a||yi(r,a,g,null,-1===a||2===a?s[++h]:null)}}return r}function yi(r,s,a,h,g){let y=0,E=r.length;if(-1===s)E=-1;else for(;y<r.length;){const C=r[y++];if("number"==typeof C){if(C===s){E=-1;break}if(C>s){E=y-1;break}}}for(;y<r.length;){const C=r[y];if("number"==typeof C)break;if(C===a){if(null===h)return void(null!==g&&(r[y+1]=g));if(h===r[y+1])return void(r[y+2]=g)}y++,null!==h&&y++,null!==g&&y++}-1!==E&&(r.splice(E,0,s),y=E+1),r.splice(y++,0,a),null!==h&&r.splice(y++,0,h),null!==g&&r.splice(y++,0,g)}const ya="ng-template";function Bs(r,s,a){let h=0,g=!0;for(;h<r.length;){let y=r[h++];if("string"==typeof y&&g){const E=r[h++];if(a&&"class"===y&&-1!==Us(E.toLowerCase(),s,0))return!0}else{if(1===y){for(;h<r.length&&"string"==typeof(y=r[h++]);)if(y.toLowerCase()===s)return!0;return!1}"number"==typeof y&&(g=!1)}}return!1}function _o(r){return 4===r.type&&r.value!==ya}function Vs(r,s,a){return s===(4!==r.type||a?r.value:ya)}function va(r,s,a){let h=4;const g=r.attrs||[],y=function Ul(r){for(let s=0;s<r.length;s++)if(Jo(r[s]))return s;return r.length}(g);let E=!1;for(let C=0;C<s.length;C++){const P=s[C];if("number"!=typeof P){if(!E)if(4&h){if(h=2|1&h,""!==P&&!Vs(r,P,a)||""===P&&1===s.length){if($r(h))return!1;E=!0}}else{const z=8&h?P:s[++C];if(8&h&&null!==r.attrs){if(!Bs(r.attrs,z,a)){if($r(h))return!1;E=!0}continue}const me=Xo(8&h?"class":P,g,_o(r),a);if(-1===me){if($r(h))return!1;E=!0;continue}if(""!==z){let Pe;Pe=me>y?"":g[me+1].toLowerCase();const Le=8&h?Pe:null;if(Le&&-1!==Us(Le,z,0)||2&h&&z!==Pe){if($r(h))return!1;E=!0}}}}else{if(!E&&!$r(h)&&!$r(P))return!1;if(E&&$r(P))continue;E=!1,h=P|1&h}}return $r(h)||E}function $r(r){return 0==(1&r)}function Xo(r,s,a,h){if(null===s)return-1;let g=0;if(h||!a){let y=!1;for(;g<s.length;){const E=s[g];if(E===r)return g;if(3===E||6===E)y=!0;else{if(1===E||2===E){let C=s[++g];for(;"string"==typeof C;)C=s[++g];continue}if(4===E)break;if(0===E){g+=4;continue}}g+=y?1:2}return-1}return function cs(r,s){let a=r.indexOf(4);if(a>-1)for(a++;a<r.length;){const h=r[a];if("number"==typeof h)return-1;if(h===s)return a;a++}return-1}(s,r)}function as(r,s,a=!1){for(let h=0;h<s.length;h++)if(va(r,s[h],a))return!0;return!1}function Bl(r,s){e:for(let a=0;a<s.length;a++){const h=s[a];if(r.length===h.length){for(let g=0;g<r.length;g++)if(r[g]!==h[g])continue e;return!0}}return!1}function Gi(r,s){return r?":not("+s.trim()+")":s}function yo(r){let s=r[0],a=1,h=2,g="",y=!1;for(;a<r.length;){let E=r[a];if("string"==typeof E)if(2&h){const C=r[++a];g+="["+E+(C.length>0?'="'+C+'"':"")+"]"}else 8&h?g+="."+E:4&h&&(g+=" "+E);else""!==g&&!$r(E)&&(s+=Gi(y,g),g=""),h=E,y=y||!$r(h);a++}return""!==g&&(s+=Gi(y,g)),s}function Cs(r){return Bi(()=>{const s=Ss(r),a={...s,decls:r.decls,vars:r.vars,template:r.template,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,onPush:r.changeDetection===po.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&r.dependencies||null,getStandaloneInjector:null,signals:r.signals??!1,data:r.data||{},encapsulation:r.encapsulation||Vi.Emulated,styles:r.styles||tr,_:null,schemas:r.schemas||null,tView:null,id:""};$a(a);const h=r.dependencies;return a.directiveDefs=fi(h,!1),a.pipeDefs=fi(h,!0),a.id=function Qi(r){let s=0;const a=[r.selectors,r.ngContentSelectors,r.hostVars,r.hostAttrs,r.consts,r.vars,r.decls,r.encapsulation,r.standalone,r.signals,r.exportAs,JSON.stringify(r.inputs),JSON.stringify(r.outputs),Object.getOwnPropertyNames(r.type.prototype),!!r.contentQueries,!!r.viewQuery].join("|");for(const g of a)s=Math.imul(31,s)+g.charCodeAt(0)<<0;return s+=2147483648,"c"+s}(a),a})}function ta(r){return Yn(r)||ai(r)}function na(r){return null!==r}function ro(r){return Bi(()=>({type:r.type,bootstrap:r.bootstrap||tr,declarations:r.declarations||tr,imports:r.imports||tr,exports:r.exports||tr,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function ia(r,s){if(null==r)return Hi;const a={};for(const h in r)if(r.hasOwnProperty(h)){let g=r[h],y=g;Array.isArray(g)&&(y=g[1],g=g[0]),a[g]=h,s&&(s[g]=y)}return a}function ja(r){return Bi(()=>{const s=Ss(r);return $a(s),s})}function Jr(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function Yn(r){return r[go]||null}function ai(r){return r[Yo]||null}function Ci(r){return r[Qo]||null}function gs(r){const s=Yn(r)||ai(r)||Ci(r);return null!==s&&s.standalone}function Pr(r,s){const a=r[Ga]||null;if(!a&&!0===s)throw new Error(`Type ${It(r)} does not have '\u0275mod' property.`);return a}function Ss(r){const s={};return{type:r.type,providersResolver:null,factory:null,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:s,inputTransforms:null,inputConfig:r.inputs||Hi,exportAs:r.exportAs||null,standalone:!0===r.standalone,signals:!0===r.signals,selectors:r.selectors||tr,viewQuery:r.viewQuery||null,features:r.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ia(r.inputs,s),outputs:ia(r.outputs)}}function $a(r){r.features?.forEach(s=>s(r))}function fi(r,s){if(!r)return null;const a=s?Ci:ta;return()=>("function"==typeof r?r():r).map(h=>a(h)).filter(na)}const dr=0,Vt=1,Mn=2,Ur=3,pi=4,io=5,Qr=6,ji=7,Nn=8,kr=9,Xr=10,kn=11,vo=12,Vo=13,bo=14,Fr=15,Ji=16,so=17,ri=18,sa=19,Sc=20,Hs=21,ls=22,Gs=23,wo=24,Gn=25,Io=1,js=2,Br=7,za=9,vi=11;function ar(r){return Array.isArray(r)&&"object"==typeof r[Io]}function Ai(r){return Array.isArray(r)&&!0===r[Io]}function $s(r){return 0!=(4&r.flags)}function Eo(r){return r.componentOffset>-1}function zs(r){return 1==(1&r.flags)}function Ni(r){return!!r.template}function Oi(r){return 0!=(512&r[Mn])}function lc(r,s){return r.hasOwnProperty(ps)?r[ps]:null}const Os=Symbol("SIGNAL");function Ia(r,s){return(null===r||"object"!=typeof r)&&Object.is(r,s)}let bi=null,Ea=!1;function Mi(r){const s=bi;return bi=r,s}const Do={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function uc(r){if(Ea)throw new Error("");if(null===bi)return;const s=bi.nextProducerIndex++;Ms(bi),s<bi.producerNode.length&&bi.producerNode[s]!==r&&Pi(bi)&&us(bi.producerNode[s],bi.producerIndexOfThis[s]),bi.producerNode[s]!==r&&(bi.producerNode[s]=r,bi.producerIndexOfThis[s]=Pi(bi)?aa(r,bi,s):0),bi.producerLastReadVersion[s]=r.version}function xi(r){if(!Pi(r)||r.dirty){if(!r.producerMustRecompute(r)&&!Ri(r))return void(r.dirty=!1);r.producerRecomputeValue(r),r.dirty=!1}}function cl(r){if(void 0===r.liveConsumerNode)return;const s=Ea;Ea=!0;try{for(const a of r.liveConsumerNode)a.dirty||nd(a)}finally{Ea=s}}function $c(){return!1!==bi?.consumerAllowSignalWrites}function nd(r){r.dirty=!0,cl(r),r.consumerMarkedDirty?.(r)}function Co(r){return r&&(r.nextProducerIndex=0),Mi(r)}function dc(r,s){if(Mi(s),r&&void 0!==r.producerNode&&void 0!==r.producerIndexOfThis&&void 0!==r.producerLastReadVersion){if(Pi(r))for(let a=r.nextProducerIndex;a<r.producerNode.length;a++)us(r.producerNode[a],r.producerIndexOfThis[a]);for(;r.producerNode.length>r.nextProducerIndex;)r.producerNode.pop(),r.producerLastReadVersion.pop(),r.producerIndexOfThis.pop()}}function Ri(r){Ms(r);for(let s=0;s<r.producerNode.length;s++){const a=r.producerNode[s],h=r.producerLastReadVersion[s];if(h!==a.version||(xi(a),h!==a.version))return!0}return!1}function ll(r){if(Ms(r),Pi(r))for(let s=0;s<r.producerNode.length;s++)us(r.producerNode[s],r.producerIndexOfThis[s]);r.producerNode.length=r.producerLastReadVersion.length=r.producerIndexOfThis.length=0,r.liveConsumerNode&&(r.liveConsumerNode.length=r.liveConsumerIndexOfThis.length=0)}function aa(r,s,a){if(wi(r),Ms(r),0===r.liveConsumerNode.length)for(let h=0;h<r.producerNode.length;h++)r.producerIndexOfThis[h]=aa(r.producerNode[h],r,h);return r.liveConsumerIndexOfThis.push(a),r.liveConsumerNode.push(s)-1}function us(r,s){if(wi(r),Ms(r),1===r.liveConsumerNode.length)for(let h=0;h<r.producerNode.length;h++)us(r.producerNode[h],r.producerIndexOfThis[h]);const a=r.liveConsumerNode.length-1;if(r.liveConsumerNode[s]=r.liveConsumerNode[a],r.liveConsumerIndexOfThis[s]=r.liveConsumerIndexOfThis[a],r.liveConsumerNode.length--,r.liveConsumerIndexOfThis.length--,s<r.liveConsumerNode.length){const h=r.liveConsumerIndexOfThis[s],g=r.liveConsumerNode[s];Ms(g),g.producerIndexOfThis[h]=s}}function Pi(r){return r.consumerIsAlwaysLive||(r?.liveConsumerNode?.length??0)>0}function Ms(r){r.producerNode??=[],r.producerIndexOfThis??=[],r.producerLastReadVersion??=[]}function wi(r){r.liveConsumerNode??=[],r.liveConsumerIndexOfThis??=[]}function zc(r,s){const a=Object.create(rd);a.computation=r,s?.equal&&(a.equal=s.equal);const h=()=>{if(xi(a),uc(a),a.value===Da)throw a.error;return a.value};return h[Os]=a,h}const Ta=Symbol("UNSET"),Ho=Symbol("COMPUTING"),Da=Symbol("ERRORED"),rd=(()=>({...Do,value:Ta,dirty:!0,error:null,equal:Ia,producerMustRecompute:r=>r.value===Ta||r.value===Ho,producerRecomputeValue(r){if(r.value===Ho)throw new Error("Detected cycle in computations.");const s=r.value;r.value=Ho;const a=Co(r);let h;try{h=r.computation()}catch(g){h=Da,r.error=g}finally{dc(r,a)}s!==Ta&&s!==Da&&h!==Da&&r.equal(s,h)?r.value=s:(r.value=h,r.version++)}}))();let ca=function ul(){throw new Error};function la(){ca()}let M=null;function re(r,s){const a=Object.create(X);function h(){return uc(a),a.value}return a.value=r,s?.equal&&(a.equal=s.equal),h.set=tt,h.update=mt,h.mutate=bn,h.asReadonly=Ar,h[Os]=a,h}const X=(()=>({...Do,equal:Ia,readonlyFn:void 0}))();function ve(r){r.version++,cl(r),M?.()}function tt(r){const s=this[Os];$c()||la(),s.equal(s.value,r)||(s.value=r,ve(s))}function mt(r){$c()||la(),tt.call(this,r(this[Os].value))}function bn(r){const s=this[Os];$c()||la(),r(s.value),ve(s)}function Ar(){const r=this[Os];if(void 0===r.readonlyFn){const s=()=>this();s[Os]=r,r.readonlyFn=s}return r.readonlyFn}function Or(r){const s=Mi(null);try{return r()}finally{Mi(s)}}const Cn=()=>{},zr=(()=>({...Do,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:r=>{r.schedule(r.ref)},hasRun:!1,cleanupFn:Cn}))();class ii{constructor(s,a,h){this.previousValue=s,this.currentValue=a,this.firstChange=h}isFirstChange(){return this.firstChange}}function Wi(){return Ii}function Ii(r){return r.type.prototype.ngOnChanges&&(r.setInput=qi),Xi}function Xi(){const r=Ca(this),s=r?.current;if(s){const a=r.previous;if(a===Hi)r.previous=s;else for(let h in s)a[h]=s[h];r.current=null,this.ngOnChanges(s)}}function qi(r,s,a,h){const g=this.declaredInputs[a],y=Ca(r)||function qs(r,s){return r[So]=s}(r,{previous:Hi,current:null}),E=y.current||(y.current={}),C=y.previous,P=C[g];E[g]=new ii(P&&P.currentValue,s,C===Hi),r[h]=s}Wi.ngInherit=!0;const So="__ngSimpleChanges__";function Ca(r){return r[So]||null}const _s=function(r,s,a){},Ao="svg";function Mr(r){for(;Array.isArray(r);)r=r[dr];return r}function Wc(r,s){return Mr(s[r])}function si(r,s){return Mr(s[r.index])}function id(r,s){return r.data[s]}function Sa(r,s){return r[s]}function ds(r,s){const a=s[r];return ar(a)?a:a[dr]}function Ka(r,s){return null==s?null:r[s]}function Hl(r){r[so]=0}function od(r){1024&r[Mn]||(r[Mn]|=1024,fc(r,1))}function Ei(r){1024&r[Mn]&&(r[Mn]&=-1025,fc(r,-1))}function fc(r,s){let a=r[Ur];if(null===a)return;a[io]+=s;let h=a;for(a=a[Ur];null!==a&&(1===s&&1===h[io]||-1===s&&0===h[io]);)a[io]+=s,h=a,a=a[Ur]}function Aa(r,s){if(256==(256&r[Mn]))throw new Ge(911,!1);null===r[Hs]&&(r[Hs]=[]),r[Hs].push(s)}const Sn={lFrame:jt(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function pl(){return Sn.bindingsEnabled}function pc(){return null!==Sn.skipHydrationRootTNode}function ht(){return Sn.lFrame.lView}function Ir(){return Sn.lFrame.tView}function bu(r){return Sn.lFrame.contextLView=r,r[Nn]}function qh(r){return Sn.lFrame.contextLView=null,r}function Zi(){let r=Qd();for(;null!==r&&64===r.type;)r=r.parent;return r}function Qd(){return Sn.lFrame.currentTNode}function gl(){const r=Sn.lFrame,s=r.currentTNode;return r.isParent?s:s.parent}function No(r,s){const a=Sn.lFrame;a.currentTNode=r,a.isParent=s}function wu(){return Sn.lFrame.isParent}function gc(){Sn.lFrame.isParent=!1}function ys(){const r=Sn.lFrame;let s=r.bindingRootIndex;return-1===s&&(s=r.bindingRootIndex=r.tView.bindingStartIndex),s}function _c(){return Sn.lFrame.bindingIndex++}function Oo(r){const s=Sn.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+r,a}function Zl(r){Sn.lFrame.inI18n=r}function Zh(r,s){const a=Sn.lFrame;a.bindingIndex=a.bindingRootIndex=r,R(s)}function R(r){Sn.lFrame.currentDirectiveIndex=r}function k(){return Sn.lFrame.currentQueryIndex}function j(r){Sn.lFrame.currentQueryIndex=r}function oe(r){const s=r[Vt];return 2===s.type?s.declTNode:1===s.type?r[Qr]:null}function _e(r,s,a){if(a&Xt.SkipSelf){let g=s,y=r;for(;!(g=g.parent,null!==g||a&Xt.Host||(g=oe(y),null===g||(y=y[bo],10&g.type))););if(null===g)return!1;s=g,r=y}const h=Sn.lFrame=ze();return h.currentTNode=s,h.lView=r,!0}function qe(r){const s=ze(),a=r[Vt];Sn.lFrame=s,s.currentTNode=a.firstChild,s.lView=r,s.tView=a,s.contextLView=r,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function ze(){const r=Sn.lFrame,s=null===r?null:r.child;return null===s?jt(r):s}function jt(r){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=s),s}function Qn(){const r=Sn.lFrame;return Sn.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const Vr=Qn;function sr(){const r=Qn();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function Wr(){return Sn.lFrame.selectedIndex}function Ya(r){Sn.lFrame.selectedIndex=r}function vr(){const r=Sn.lFrame;return id(r.tView,r.selectedIndex)}function Nc(){Sn.lFrame.currentNamespace=Ao}function Jd(){!function Qa(){Sn.lFrame.currentNamespace=null}()}let yp=!0;function Kh(){return yp}function Kc(r){yp=r}function ud(r,s){for(let a=s.directiveStart,h=s.directiveEnd;a<h;a++){const y=r.data[a].type.prototype,{ngAfterContentInit:E,ngAfterContentChecked:C,ngAfterViewInit:P,ngAfterViewChecked:z,ngOnDestroy:ie}=y;E&&(r.contentHooks??=[]).push(-a,E),C&&((r.contentHooks??=[]).push(a,C),(r.contentCheckHooks??=[]).push(a,C)),P&&(r.viewHooks??=[]).push(-a,P),z&&((r.viewHooks??=[]).push(a,z),(r.viewCheckHooks??=[]).push(a,z)),null!=ie&&(r.destroyHooks??=[]).push(a,ie)}}function Yc(r,s,a){Tu(r,s,3,a)}function ml(r,s,a,h){(3&r[Mn])===a&&Tu(r,s,a,h)}function Xd(r,s){let a=r[Mn];(3&a)===s&&(a&=8191,a+=1,r[Mn]=a)}function Tu(r,s,a,h){const y=h??-1,E=s.length-1;let C=0;for(let P=void 0!==h?65535&r[so]:0;P<E;P++)if("number"==typeof s[P+1]){if(C=s[P],null!=h&&C>=h)break}else s[P]<0&&(r[so]+=65536),(C<y||-1==y)&&(yc(r,a,s,P),r[so]=(4294901760&r[so])+P+2),P++}function eh(r,s){_s(4,r,s);const a=Mi(null);try{s.call(r)}finally{Mi(a),_s(5,r,s)}}function yc(r,s,a,h){const g=a[h]<0,y=a[h+1],C=r[g?-a[h]:a[h]];g?r[Mn]>>13<r[so]>>16&&(3&r[Mn])===s&&(r[Mn]+=8192,eh(C,y)):eh(C,y)}const _l=-1;class dd{constructor(s,a,h){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=h}}function Ql(r){return r!==_l}function Jl(r){return 32767&r}function Qc(r,s){let a=function nh(r){return r>>16}(r),h=s;for(;a>0;)h=h[bo],a--;return h}let Du=!0;function Oc(r){const s=Du;return Du=r,s}const Xl=255,Cu=5;let yl=0;const xo={};function Su(r,s){const a=Xh(r,s);if(-1!==a)return a;const h=s[Vt];h.firstCreatePass&&(r.injectorIndex=s.length,Au(h.data,r),Au(s,null),Au(h.blueprint,null));const g=rh(r,s),y=r.injectorIndex;if(Ql(g)){const E=Jl(g),C=Qc(g,s),P=C[Vt].data;for(let z=0;z<8;z++)s[y+z]=C[E+z]|P[E+z]}return s[y+8]=g,y}function Au(r,s){r.push(0,0,0,0,0,0,0,0,s)}function Xh(r,s){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===s[r.injectorIndex+8]?-1:r.injectorIndex}function rh(r,s){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let a=0,h=null,g=s;for(;null!==g;){if(h=Fe(g),null===h)return _l;if(a++,g=g[bo],-1!==h.injectorIndex)return h.injectorIndex|a<<16}return _l}function fd(r,s,a){!function hd(r,s,a){let h;"string"==typeof a?h=a.charCodeAt(0)||0:a.hasOwnProperty(ma)&&(h=a[ma]),null==h&&(h=a[ma]=yl++);const g=h&Xl;s.data[r+(g>>Cu)]|=1<<g}(r,s,a)}function ef(r,s,a){if(a&Xt.Optional||void 0!==r)return r;Dn()}function tf(r,s,a,h){if(a&Xt.Optional&&void 0===h&&(h=null),!(a&(Xt.Self|Xt.Host))){const g=r[kr],y=vn(void 0);try{return g?g.get(s,h,a&Xt.Optional):or(s,h,a&Xt.Optional)}finally{vn(y)}}return ef(h,0,a)}function eu(r,s,a,h=Xt.Default,g){if(null!==r){if(2048&s[Mn]&&!(h&Xt.Self)){const E=function Re(r,s,a,h,g){let y=r,E=s;for(;null!==y&&null!==E&&2048&E[Mn]&&!(512&E[Mn]);){const C=vl(y,E,a,h|Xt.Self,xo);if(C!==xo)return C;let P=y.parent;if(!P){const z=E[Sc];if(z){const ie=z.get(a,xo,h);if(ie!==xo)return ie}P=Fe(E),E=E[bo]}y=P}return g}(r,s,a,h,xo);if(E!==xo)return E}const y=vl(r,s,a,h,xo);if(y!==xo)return y}return tf(s,a,h,g)}function vl(r,s,a,h,g){const y=function nf(r){if("string"==typeof r)return r.charCodeAt(0)||0;const s=r.hasOwnProperty(ma)?r[ma]:void 0;return"number"==typeof s?s>=0?s&Xl:L:s}(a);if("function"==typeof y){if(!_e(s,r,h))return h&Xt.Host?ef(g,0,h):tf(s,a,h,g);try{let E;if(E=y(h),null!=E||h&Xt.Optional)return E;Dn()}finally{Vr()}}else if("number"==typeof y){let E=null,C=Xh(r,s),P=_l,z=h&Xt.Host?s[Fr][Qr]:null;for((-1===C||h&Xt.SkipSelf)&&(P=-1===C?rh(r,s):s[C+8],P!==_l&&Nu(h,!1)?(E=s[Vt],C=Jl(P),s=Qc(P,s)):C=-1);-1!==C;){const ie=s[Vt];if(ih(y,C,ie.data)){const me=wp(C,s,a,E,h,z);if(me!==xo)return me}P=s[C+8],P!==_l&&Nu(h,s[Vt].data[C+8]===z)&&ih(y,C,s)?(E=ie,C=Jl(P),s=Qc(P,s)):C=-1}}return g}function wp(r,s,a,h,g,y){const E=s[Vt],C=E.data[r+8],ie=Na(C,E,a,null==h?Eo(C)&&Du:h!=E&&0!=(3&C.type),g&Xt.Host&&y===C);return null!==ie?bl(s,E,ie,C):xo}function Na(r,s,a,h,g){const y=r.providerIndexes,E=s.data,C=1048575&y,P=r.directiveStart,ie=y>>20,Pe=g?C+ie:r.directiveEnd;for(let Le=h?C:C+ie;Le<Pe;Le++){const pt=E[Le];if(Le<P&&a===pt||Le>=P&&pt.type===a)return Le}if(g){const Le=E[P];if(Le&&Ni(Le)&&Le.type===a)return P}return null}function bl(r,s,a,h){let g=r[a];const y=s.data;if(function Yh(r){return r instanceof dd}(g)){const E=g;E.resolving&&function xn(r,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${r}`:"";throw new Ge(-200,`Circular dependency in DI detected for ${r}${a}`)}(function _t(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():Xe(r)}(y[a]));const C=Oc(E.canSeeViewProviders);E.resolving=!0;const z=E.injectImpl?vn(E.injectImpl):null;_e(r,h,Xt.Default);try{g=r[a]=E.factory(void 0,y,r,h),s.firstCreatePass&&a>=h.directiveStart&&function Hg(r,s,a){const{ngOnChanges:h,ngOnInit:g,ngDoCheck:y}=s.type.prototype;if(h){const E=Ii(s);(a.preOrderHooks??=[]).push(r,E),(a.preOrderCheckHooks??=[]).push(r,E)}g&&(a.preOrderHooks??=[]).push(0-r,g),y&&((a.preOrderHooks??=[]).push(r,y),(a.preOrderCheckHooks??=[]).push(r,y))}(a,y[a],s)}finally{null!==z&&vn(z),Oc(C),E.resolving=!1,Vr()}}return g}function ih(r,s,a){return!!(a[s+(r>>Cu)]&1<<r)}function Nu(r,s){return!(r&Xt.Self||r&Xt.Host&&s)}class O{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,h){return eu(this._tNode,this._lView,s,fs(h),a)}}function L(){return new O(Zi(),ht())}function ee(r){return Bi(()=>{const s=r.prototype.constructor,a=s[ps]||pe(s),h=Object.prototype;let g=Object.getPrototypeOf(r.prototype).constructor;for(;g&&g!==h;){const y=g[ps]||pe(g);if(y&&y!==a)return y;g=Object.getPrototypeOf(g)}return y=>new y})}function pe(r){return ft(r)?()=>{const s=pe(Nt(r));return s&&s()}:lc(r)}function Fe(r){const s=r[Vt],a=s.type;return 2===a?s.declTNode:1===a?r[Qr]:null}function st(r){return function Mc(r,s){if("class"===s)return r.classes;if("style"===s)return r.styles;const a=r.attrs;if(a){const h=a.length;let g=0;for(;g<h;){const y=a[g];if(Jo(y))break;if(0===y)g+=2;else if("number"==typeof y)for(g++;g<h&&"string"==typeof a[g];)g++;else{if(y===s)return a[g+1];g+=2}}}return null}(Zi(),r)}const Lt="__parameters__";function Zs(r,s,a){return Bi(()=>{const h=function Zn(r){return function(...a){if(r){const h=r(...a);for(const g in h)this[g]=h[g]}}}(s);function g(...y){if(this instanceof g)return h.apply(this,y),this;const E=new g(...y);return C.annotation=E,C;function C(P,z,ie){const me=P.hasOwnProperty(Lt)?P[Lt]:Object.defineProperty(P,Lt,{value:[]})[Lt];for(;me.length<=ie;)me.push(null);return(me[ie]=me[ie]||[]).push(E),P}}return a&&(g.prototype=Object.create(a.prototype)),g.prototype.ngMetadataName=r,g.annotationCls=g,g})}function sf(r,s){r.forEach(a=>Array.isArray(a)?sf(a,s):s(a))}function oh(r,s,a){s>=r.length?r.push(a):r.splice(s,0,a)}function ah(r,s){return s>=r.length-1?r.pop():r.splice(s,1)[0]}function Ru(r,s){const a=[];for(let h=0;h<r;h++)a.push(s);return a}function ua(r,s,a){let h=Pu(r,s);return h>=0?r[1|h]=a:(h=~h,function m0(r,s,a,h){let g=r.length;if(g==s)r.push(a,h);else if(1===g)r.push(h,r[0]),r[0]=a;else{for(g--,r.push(r[g-1],r[g]);g>s;)r[g]=r[g-2],g--;r[s]=a,r[s+1]=h}}(r,h,s,a)),h}function zg(r,s){const a=Pu(r,s);if(a>=0)return r[1|a]}function Pu(r,s){return function Wg(r,s,a){let h=0,g=r.length>>a;for(;g!==h;){const y=h+(g-h>>1),E=r[y<<a];if(s===E)return y<<a;E>s?g=y:h=y+1}return~(g<<a)}(r,s,1)}const Ep=ss(Zs("Inject",r=>({token:r})),-1),af=ss(Zs("Optional"),8),Tp=ss(Zs("SkipSelf"),4);function w0(r){return 128==(128&r.flags)}var E0=function(r){return r[r.Important=1]="Important",r[r.DashCase=2]="DashCase",r}(E0||{});const LD=/^>|^->|<!--|-->|--!>|<!-$/g,UD=/(<|>)/g,TE="\u200b$1\u200b";const Q_=new Map;let zo=0;const X_="__ngContext__";function Ma(r,s){ar(s)?(r[X_]=s[sa],function Jg(r){Q_.set(r[sa],r)}(s)):r[X_]=s}let md;function _d(r,s){return md(r,s)}function Mp(r){const s=r[Ur];return Ai(s)?s[Ur]:s}function A0(r){return ty(r[vo])}function yd(r){return ty(r[pi])}function ty(r){for(;null!==r&&!Ai(r);)r=r[pi];return r}function Il(r,s,a,h,g){if(null!=h){let y,E=!1;Ai(h)?y=h:ar(h)&&(E=!0,h=h[dr]);const C=Mr(h);0===r&&null!==a?null==g?O0(s,a,C):Lu(s,a,C,g||null,!0):1===r&&null!==a?Lu(s,a,C,g||null,!0):2===r?function cy(r,s,a){const h=dh(r,s);h&&function aw(r,s,a,h){r.removeChild(s,a,h)}(r,h,s,a)}(s,C,E):3===r&&s.destroyNode(C),null!=y&&function CE(r,s,a,h,g){const y=a[Br];y!==Mr(a)&&Il(s,r,h,y,g);for(let C=vi;C<a.length;C++){const P=a[C];lm(P[Vt],P,r,s,h,y)}}(s,r,y,a,g)}}function xp(r,s){return r.createText(s)}function rm(r,s){return r.createComment(function T0(r){return r.replace(LD,s=>s.replace(UD,TE))}(s))}function hf(r,s,a){return r.createElement(s,a)}function uh(r,s){const a=r[za],h=a.indexOf(s);Ei(s),a.splice(h,1)}function Rp(r,s){if(r.length<=vi)return;const a=vi+s,h=r[a];if(h){const g=h[Ji];null!==g&&g!==r&&uh(g,h),s>0&&(r[a-1][pi]=h[pi]);const y=ah(r,vi+s);!function im(r,s){lm(r,s,s[kn],2,null,null),s[dr]=null,s[Qr]=null}(h[Vt],h);const E=y[ri];null!==E&&E.detachView(y[Vt]),h[Ur]=null,h[pi]=null,h[Mn]&=-129}return h}function Pp(r,s){if(!(256&s[Mn])){const a=s[kn];s[Gs]&&ll(s[Gs]),s[wo]&&ll(s[wo]),a.destroyNode&&lm(r,s,a,3,null,null),function N0(r){let s=r[vo];if(!s)return kp(r[Vt],r);for(;s;){let a=null;if(ar(s))a=s[vo];else{const h=s[vi];h&&(a=h)}if(!a){for(;s&&!s[pi]&&s!==r;)ar(s)&&kp(s[Vt],s),s=s[Ur];null===s&&(s=r),ar(s)&&kp(s[Vt],s),a=s&&s[pi]}s=a}}(s)}}function kp(r,s){if(!(256&s[Mn])){s[Mn]&=-129,s[Mn]|=256,function oy(r,s){let a;if(null!=r&&null!=(a=r.destroyHooks))for(let h=0;h<a.length;h+=2){const g=s[a[h]];if(!(g instanceof dd)){const y=a[h+1];if(Array.isArray(y))for(let E=0;E<y.length;E+=2){const C=g[y[E]],P=y[E+1];_s(4,C,P);try{P.call(C)}finally{_s(5,C,P)}}else{_s(4,g,y);try{y.call(g)}finally{_s(5,g,y)}}}}}(r,s),function ow(r,s){const a=r.cleanup,h=s[ji];if(null!==a)for(let y=0;y<a.length-1;y+=2)if("string"==typeof a[y]){const E=a[y+3];E>=0?h[E]():h[-E].unsubscribe(),y+=2}else a[y].call(h[a[y+1]]);null!==h&&(s[ji]=null);const g=s[Hs];if(null!==g){s[Hs]=null;for(let y=0;y<g.length;y++)(0,g[y])()}}(r,s),1===s[Vt].type&&s[kn].destroy();const a=s[Ji];if(null!==a&&Ai(s[Ur])){a!==s[Ur]&&uh(a,s);const h=s[ri];null!==h&&h.detachView(r)}!function rw(r){Q_.delete(r[sa])}(s)}}function Fp(r,s,a){return om(r,s.parent,a)}function om(r,s,a){let h=s;for(;null!==h&&40&h.type;)h=(s=h).parent;if(null===h)return a[dr];{const{componentOffset:g}=h;if(g>-1){const{encapsulation:y}=r.data[h.directiveStart+g];if(y===Vi.None||y===Vi.Emulated)return null}return si(h,a)}}function Lu(r,s,a,h,g){r.insertBefore(s,a,h,g)}function O0(r,s,a){r.appendChild(s,a)}function M0(r,s,a,h,g){null!==h?Lu(r,s,a,h,g):O0(r,s,a)}function dh(r,s){return r.parentNode(s)}function Lp(r,s,a){return cm(r,s,a)}function Up(r,s,a){return 40&r.type?si(r,a):null}let Bp,Hp,hy,ff,cm=Up;function x0(r,s){cm=r,Bp=s}function Vp(r,s,a,h){const g=Fp(r,h,s),y=s[kn],C=Lp(h.parent||s[Qr],h,s);if(null!=g)if(Array.isArray(a))for(let P=0;P<a.length;P++)M0(y,g,a[P],C,!1);else M0(y,g,a,C,!1);void 0!==Bp&&Bp(y,h,s,a,g)}function Uu(r,s){if(null!==s){const a=s.type;if(3&a)return si(s,r);if(4&a)return P0(-1,r[s.index]);if(8&a){const h=s.child;if(null!==h)return Uu(r,h);{const g=r[s.index];return Ai(g)?P0(-1,g):Mr(g)}}if(32&a)return _d(s,r)()||Mr(r[s.index]);{const h=R0(r,s);return null!==h?Array.isArray(h)?h[0]:Uu(Mp(r[Fr]),h):Uu(r,s.next)}}return null}function R0(r,s){return null!==s?r[Fr][Qr].projection[s.projection]:null}function P0(r,s){const a=vi+r+1;if(a<s.length){const h=s[a],g=h[Vt].firstChild;if(null!==g)return Uu(h,g)}return s[Br]}function k0(r,s,a,h,g,y,E){for(;null!=a;){const C=h[a.index],P=a.type;if(E&&0===s&&(C&&Ma(Mr(C),h),a.flags|=2),32!=(32&a.flags))if(8&P)k0(r,s,a.child,h,g,y,!1),Il(s,r,g,C,y);else if(32&P){const z=_d(a,h);let ie;for(;ie=z();)Il(s,r,g,ie,y);Il(s,r,g,C,y)}else 16&P?lw(r,s,h,a,g,y):Il(s,r,g,C,y);a=E?a.projectionNext:a.next}}function lm(r,s,a,h,g,y){k0(a,h,r.firstChild,s,g,y,!1)}function lw(r,s,a,h,g,y){const E=a[Fr],P=E[Qr].projection[h.projection];if(Array.isArray(P))for(let z=0;z<P.length;z++)Il(s,r,g,P[z],y);else{let z=P;const ie=E[Ur];w0(h)&&(z.flags|=128),k0(r,s,z,ie,g,y,!0)}}function F0(r,s,a){""===a?r.removeAttribute(s,"class"):r.setAttribute(s,"class",a)}function uy(r,s,a){const{mergedAttrs:h,classes:g,styles:y}=a;null!==h&&_i(r,s,h),null!==g&&F0(r,s,g),null!==y&&function ly(r,s,a){r.setAttribute(s,"style",a)}(r,s,y)}function Gp(r){return function L0(){if(void 0===Hp&&(Hp=null,ir.trustedTypes))try{Hp=ir.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return Hp}()?.createHTML(r)||r}function Xc(r){hy=r}function Ti(){if(void 0!==hy)return hy;if(typeof document<"u")return document;throw new Ge(210,!1)}function dw(r){return function fy(){if(void 0===ff&&(ff=null,ir.trustedTypes))try{ff=ir.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return ff}()?.createScriptURL(r)||r}class vd{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${yt})`}}class OE extends vd{getTypeName(){return"HTML"}}class pf extends vd{getTypeName(){return"Style"}}class dm extends vd{getTypeName(){return"Script"}}class gy extends vd{getTypeName(){return"URL"}}class my extends vd{getTypeName(){return"ResourceURL"}}function su(r){return r instanceof vd?r.changingThisBreaksApplicationSecurity:r}function jp(r,s){const a=function _y(r){return r instanceof vd&&r.getTypeName()||null}(r);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see ${yt})`)}return a===s}function $p(r){return new OE(r)}function hh(r){return new pf(r)}function hm(r){return new dm(r)}function fm(r){return new gy(r)}function U0(r){return new my(r)}function pm(r){const s=new B0(r);return function BD(){try{return!!(new window.DOMParser).parseFromString(Gp(""),"text/html")}catch{return!1}}()?new gf(s):s}class gf{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(Gp(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch{return null}}}class B0{constructor(s){this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(s){const a=this.inertDocument.createElement("template");return a.innerHTML=Gp(s),a}}const VD=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function V0(r){return(r=String(r)).match(VD)?r:"unsafe:"+r}function fh(r){const s={};for(const a of r.split(","))s[a]=!0;return s}function yy(...r){const s={};for(const a of r)for(const h in a)a.hasOwnProperty(h)&&(s[h]=!0);return s}const hw=fh("area,br,col,hr,img,wbr"),El=fh("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),rn=fh("rp,rt"),mf=yy(hw,yy(El,fh("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),yy(rn,fh("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),yy(rn,El)),G0=fh("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),gw=yy(G0,fh("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),fh("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),j0=fh("script,style,template");class xa{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,h=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?h=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,h&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let g=this.checkClobberedElement(a,a.nextSibling);if(g){a=g;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(s){const a=s.nodeName.toLowerCase();if(!mf.hasOwnProperty(a))return this.sanitizedSomething=!0,!j0.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const h=s.attributes;for(let g=0;g<h.length;g++){const y=h.item(g),E=y.name,C=E.toLowerCase();if(!gw.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let P=y.value;G0[C]&&(P=V0(P)),this.buf.push(" ",E,'="',ou(P),'"')}return this.buf.push(">"),!0}endElement(s){const a=s.nodeName.toLowerCase();mf.hasOwnProperty(a)&&!hw.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(ou(s))}checkClobberedElement(s,a){if(a&&(s.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return a}}const vy=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ro=/([^\#-~ |!])/g;function ou(r){return r.replace(/&/g,"&amp;").replace(vy,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(Ro,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ph;function by(r,s){let a=null;try{ph=ph||pm(r);let h=s?String(s):"";a=ph.getInertBodyElement(h);let g=5,y=h;do{if(0===g)throw new Error("Failed to sanitize html because the input is unstable");g--,h=y,y=a.innerHTML,a=ph.getInertBodyElement(h)}while(h!==y);return Gp((new xa).sanitizeChildren(bd(a)||a))}finally{if(a){const h=bd(a)||a;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function bd(r){return"content"in r&&function mw(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var bs=function(r){return r[r.NONE=0]="NONE",r[r.HTML=1]="HTML",r[r.STYLE=2]="STYLE",r[r.SCRIPT=3]="SCRIPT",r[r.URL=4]="URL",r[r.RESOURCE_URL=5]="RESOURCE_URL",r}(bs||{});function _f(r){const s=zp();return s?s.sanitize(bs.URL,r)||"":jp(r,"URL")?su(r):V0(Xe(r))}function Pc(r){const s=zp();if(s)return dw(s.sanitize(bs.RESOURCE_URL,r)||"");if(jp(r,"ResourceURL"))return dw(su(r));throw new Ge(904,!1)}function Iy(r,s,a){return function wd(r,s){return"src"===s&&("embed"===r||"frame"===r||"iframe"===r||"media"===r||"script"===r)||"href"===s&&("base"===r||"link"===r)?Pc:_f}(s,a)(r)}function zp(){const r=ht();return r&&r[Xr].sanitizer}const yf=new qt("ENVIRONMENT_INITIALIZER"),Wp=new qt("INJECTOR",-1),mm=new qt("INJECTOR_DEF_TYPES");class vf{get(s,a=B){if(a===B){const h=new Error(`NullInjectorError: No provider for ${It(s)}!`);throw h.name="NullInjectorError",h}return a}}function ym(...r){return{\u0275providers:Ey(0,r),\u0275fromNgModule:!0}}function Ey(r,...s){const a=[],h=new Set;let g;const y=E=>{a.push(E)};return sf(s,E=>{const C=E;kc(C,y,[],h)&&(g||=[],g.push(C))}),void 0!==g&&bf(g,y),a}function bf(r,s){for(let a=0;a<r.length;a++){const{ngModule:h,providers:g}=r[a];mh(g,y=>{s(y,h)})}}function kc(r,s,a,h){if(!(r=Nt(r)))return!1;let g=null,y=pn(r);const E=!y&&Yn(r);if(y||E){if(E&&!E.standalone)return!1;g=r}else{const P=r.ngModule;if(y=pn(P),!y)return!1;g=P}const C=h.has(g);if(E){if(C)return!1;if(h.add(g),E.dependencies){const P="function"==typeof E.dependencies?E.dependencies():E.dependencies;for(const z of P)kc(z,s,a,h)}}else{if(!y)return!1;{if(null!=y.imports&&!C){let z;h.add(g);try{sf(y.imports,ie=>{kc(ie,s,a,h)&&(z||=[],z.push(ie))})}finally{}void 0!==z&&bf(z,s)}if(!C){const z=lc(g)||(()=>new g);s({provide:g,useFactory:z,deps:tr},g),s({provide:mm,useValue:g,multi:!0},g),s({provide:yf,useValue:()=>Pn(g),multi:!0},g)}const P=y.providers;if(null!=P&&!C){const z=r;mh(P,ie=>{s(ie,z)})}}}return g!==r&&void 0!==r.providers}function mh(r,s){for(let a of r)at(a)&&(a=a.\u0275providers),Array.isArray(a)?mh(a,s):s(a)}const bw=xe({provide:String,useValue:xe});function Dy(r){return null!==r&&"object"==typeof r&&bw in r}function If(r){return"function"==typeof r}const Zp=new qt("Set Injector scope."),Kp={},Yp={};let Ef;function _h(){return void 0===Ef&&(Ef=new vf),Ef}class Fc{}class Bu extends Fc{get destroyed(){return this._destroyed}constructor(s,a,h,g){super(),this.parent=a,this.source=h,this.scopes=g,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,vm(s,E=>this.processProvider(E)),this.records.set(Wp,Id(void 0,this)),g.has("environment")&&this.records.set(Fc,Id(void 0,this));const y=this.records.get(Zp);null!=y&&"string"==typeof y.value&&this.scopes.add(y.value),this.injectorDefTypes=new Set(this.get(mm.multi,tr,Xt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();const s=this._onDestroyHooks;this._onDestroyHooks=[];for(const a of s)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(s){return this.assertNotDestroyed(),this._onDestroyHooks.push(s),()=>this.removeOnDestroy(s)}runInContext(s){this.assertNotDestroyed();const a=Rn(this),h=vn(void 0);try{return s()}finally{Rn(a),vn(h)}}get(s,a=B,h=Xt.Default){if(this.assertNotDestroyed(),s.hasOwnProperty(Yr))return s[Yr](this);h=fs(h);const y=Rn(this),E=vn(void 0);try{if(!(h&Xt.SkipSelf)){let P=this.records.get(s);if(void 0===P){const z=function xE(r){return"function"==typeof r||"object"==typeof r&&r instanceof qt}(s)&&ut(s);P=z&&this.injectableDefInScope(z)?Id(Qp(s),Kp):null,this.records.set(s,P)}if(null!=P)return this.hydrate(s,P)}return(h&Xt.Self?_h():this.parent).get(s,a=h&Xt.Optional&&a===B?null:a)}catch(C){if("NullInjectorError"===C.name){if((C[W]=C[W]||[]).unshift(It(s)),y)throw C;return function Ha(r,s,a,h){const g=r[W];throw s[Tt]&&g.unshift(s[Tt]),r.message=function Ls(r,s,a,h=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.slice(2):r;let g=It(s);if(Array.isArray(s))g=s.map(It).join(" -> ");else if("object"==typeof s){let y=[];for(let E in s)if(s.hasOwnProperty(E)){let C=s[E];y.push(E+":"+("string"==typeof C?JSON.stringify(C):It(C)))}g=`{${y.join(", ")}}`}return`${a}${h?"("+h+")":""}[${g}]: ${r.replace(Ie,"\n  ")}`}("\n"+r.message,g,a,h),r.ngTokenPath=g,r[W]=null,r}(C,s,"R3InjectorError",this.source)}throw C}finally{vn(E),Rn(y)}}resolveInjectorInitializers(){const s=Rn(this),a=vn(void 0);try{const g=this.get(yf.multi,tr,Xt.Self);for(const y of g)y()}finally{Rn(s),vn(a)}}toString(){const s=[],a=this.records;for(const h of a.keys())s.push(It(h));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ge(205,!1)}processProvider(s){let a=If(s=Nt(s))?s:Nt(s&&s.provide);const h=function ME(r){return Dy(r)?Id(void 0,r.useValue):Id(z0(r),Kp)}(s);if(If(s)||!0!==s.multi)this.records.get(a);else{let g=this.records.get(a);g||(g=Id(void 0,Kp,!0),g.factory=()=>Bo(g.multi),this.records.set(a,g)),a=s,g.multi.push(s)}this.records.set(a,h)}hydrate(s,a){return a.value===Kp&&(a.value=Yp,a.value=a.factory()),"object"==typeof a.value&&a.value&&function W0(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=Nt(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}removeOnDestroy(s){const a=this._onDestroyHooks.indexOf(s);-1!==a&&this._onDestroyHooks.splice(a,1)}}function Qp(r){const s=ut(r),a=null!==s?s.factory:lc(r);if(null!==a)return a;if(r instanceof qt)throw new Ge(204,!1);if(r instanceof Function)return function Cy(r){const s=r.length;if(s>0)throw Ru(s,"?"),new Ge(204,!1);const a=function wr(r){return r&&(r[In]||r[cn])||null}(r);return null!==a?()=>a.factory(r):()=>new r}(r);throw new Ge(204,!1)}function z0(r,s,a){let h;if(If(r)){const g=Nt(r);return lc(g)||Qp(g)}if(Dy(r))h=()=>Nt(r.useValue);else if(function wf(r){return!(!r||!r.useFactory)}(r))h=()=>r.useFactory(...Bo(r.deps||[]));else if(function qp(r){return!(!r||!r.useExisting)}(r))h=()=>Pn(Nt(r.useExisting));else{const g=Nt(r&&(r.useClass||r.provide));if(!function Sy(r){return!!r.deps}(r))return lc(g)||Qp(g);h=()=>new g(...Bo(r.deps))}return h}function Id(r,s,a=!1){return{factory:r,value:s,multi:a?[]:void 0}}function vm(r,s){for(const a of r)Array.isArray(a)?vm(a,s):a&&at(a)?vm(a.\u0275providers,s):s(a)}const Ay=new qt("AppId",{providedIn:"root",factory:()=>q0}),q0="ng",Wo=new qt("Platform Initializer"),ao=new qt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),K0=new qt("AnimationModuleType"),Y0=new qt("CSP nonce",{providedIn:"root",factory:()=>Ti().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Em=(r,s,a)=>null;function vh(r,s,a=!1){return Em(r,s,a)}class Jp{}class X0{}class Xp{resolveComponentFactory(s){throw function e1(r){const s=Error(`No component factory found for ${It(r)}.`);return s.ngComponent=r,s}(s)}}let eg=(()=>{class r{static#e=this.NULL=new Xp}return r})();function n1(){return wh(Zi(),ht())}function wh(r,s){return new Ih(si(r,s))}let Ih=(()=>{class r{constructor(a){this.nativeElement=a}static#e=this.__NG_ELEMENT_ID__=n1}return r})();function Nf(r){return r instanceof Ih?r.nativeElement:r}class r1{}let UE=(()=>{class r{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Ly(){const r=ht(),a=ds(Zi().index,r);return(ar(a)?a:r)[kn]}()}return r})(),Uy=(()=>{class r{static#e=this.\u0275prov=Ae({token:r,providedIn:"root",factory:()=>null})}return r})();class By{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const i1=new By("16.2.12"),Vy={};function tg(r){if(!Cr()&&!function ln(){return on}())throw new Ge(-203,!1)}function Hy(r,s=null,a=null,h){const g=o1(r,s,a,h);return g.resolveInjectorInitializers(),g}function o1(r,s=null,a=null,h,g=new Set){const y=[a||tr,ym(r)];return h=h||("object"==typeof r?void 0:It(r)),new Bu(y,s||_h(),h||null,g)}let da=(()=>{class r{static#e=this.THROW_IF_NOT_FOUND=B;static#t=this.NULL=new vf;static create(a,h){if(Array.isArray(a))return Hy({name:""},h,a,"");{const g=a.name??"";return Hy({name:g},a.parent,a.providers,g)}}static#n=this.\u0275prov=Ae({token:r,providedIn:"any",factory:()=>Pn(Wp)});static#r=this.__NG_ELEMENT_ID__=-1}return r})();function Mf(r){return r.ngOriginalError}class Dd{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s);this._console.error("ERROR",s),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&Mf(s);for(;a&&Mf(a);)a=Mf(a);return a||null}}let gi=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=rg;static#t=this.__NG_ENV_ID__=a=>a}return r})();class Sm extends gi{constructor(s){super(),this._lView=s}onDestroy(s){return Aa(this._lView,s),()=>function ci(r,s){if(null===r[Hs])return;const a=r[Hs].indexOf(s);-1!==a&&r[Hs].splice(a,1)}(this._lView,s)}}function rg(){return new Sm(ht())}function jy(r){return s=>{setTimeout(r,void 0,s)}}const Tl=class ig extends b.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,h){let g=s,y=a||(()=>null),E=h;if(s&&"object"==typeof s){const P=s;g=P.next?.bind(P),y=P.error?.bind(P),E=P.complete?.bind(P)}this.__isAsync&&(y=jy(y),g&&(g=jy(g)),E&&(E=jy(E)));const C=super.subscribe({next:g,error:y,complete:E});return s instanceof ne.w0&&s.add(C),C}};function a1(...r){}class qo{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Tl(!1),this.onMicrotaskEmpty=new Tl(!1),this.onStable=new Tl(!1),this.onError=new Tl(!1),typeof Zone>"u")throw new Ge(908,!1);Zone.assertZonePatched();const g=this;g._nesting=0,g._outer=g._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!h&&a,g.shouldCoalesceRunChangeDetection=h,g.lastRequestAnimationFrameId=-1,g.nativeRequestAnimationFrame=function Nw(){const r="function"==typeof ir.requestAnimationFrame;let s=ir[r?"requestAnimationFrame":"setTimeout"],a=ir[r?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&s&&a){const h=s[Zone.__symbol__("OriginalDelegate")];h&&(s=h);const g=a[Zone.__symbol__("OriginalDelegate")];g&&(a=g)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function l1(r){const s=()=>{!function c1(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(ir,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,Am(r),r.isCheckStableRunning=!0,cu(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),Am(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,h,g,y,E,C)=>{if(function h1(r){return!(!Array.isArray(r)||1!==r.length)&&!0===r[0].data?.__ignore_ng_zone__}(C))return a.invokeTask(g,y,E,C);try{return Eh(r),a.invokeTask(g,y,E,C)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===y.type||r.shouldCoalesceRunChangeDetection)&&s(),u1(r)}},onInvoke:(a,h,g,y,E,C,P)=>{try{return Eh(r),a.invoke(g,y,E,C,P)}finally{r.shouldCoalesceRunChangeDetection&&s(),u1(r)}},onHasTask:(a,h,g,y)=>{a.hasTask(g,y),h===g&&("microTask"==y.change?(r._hasPendingMicrotasks=y.microTask,Am(r),cu(r)):"macroTask"==y.change&&(r.hasPendingMacrotasks=y.macroTask))},onHandleError:(a,h,g,y)=>(a.handleError(g,y),r.runOutsideAngular(()=>r.onError.emit(y)),!1)})}(g)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!qo.isInAngularZone())throw new Ge(909,!1)}static assertNotInAngularZone(){if(qo.isInAngularZone())throw new Ge(909,!1)}run(s,a,h){return this._inner.run(s,a,h)}runTask(s,a,h,g){const y=this._inner,E=y.scheduleEventTask("NgZoneEvent: "+g,s,sg,a1,a1);try{return y.runTask(E,a,h)}finally{y.cancelTask(E)}}runGuarded(s,a,h){return this._inner.runGuarded(s,a,h)}runOutsideAngular(s){return this._outer.run(s)}}const sg={};function cu(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function Am(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function Eh(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function u1(r){r._nesting--,cu(r)}class Ow{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Tl,this.onMicrotaskEmpty=new Tl,this.onStable=new Tl,this.onError=new Tl}run(s,a,h){return s.apply(a,h)}runGuarded(s,a,h){return s.apply(a,h)}runOutsideAngular(s){return s()}runTask(s,a,h,g){return s.apply(a,h)}}const $y=new qt("",{providedIn:"root",factory:d1});function d1(){const r=Xn(qo);let s=!0;const a=new u.y(g=>{s=r.isStable&&!r.hasPendingMacrotasks&&!r.hasPendingMicrotasks,r.runOutsideAngular(()=>{g.next(s),g.complete()})}),h=new u.y(g=>{let y;r.runOutsideAngular(()=>{y=r.onStable.subscribe(()=>{qo.assertNotInAngularZone(),queueMicrotask(()=>{!s&&!r.hasPendingMacrotasks&&!r.hasPendingMicrotasks&&(s=!0,g.next(!0))})})});const E=r.onUnstable.subscribe(()=>{qo.assertInAngularZone(),s&&(s=!1,r.runOutsideAngular(()=>{g.next(!1)}))});return()=>{y.unsubscribe(),E.unsubscribe()}});return(0,be.T)(a,h.pipe(ae()))}function zy(r){return r.ownerDocument.defaultView}function ha(r){return r instanceof Function?r():r}let Cd=(()=>{class r{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=Ae({token:r,providedIn:"root",factory:()=>new r})}return r})();function Sd(r){for(;r;){r[Mn]|=64;const s=Mp(r);if(Oi(r)&&!s)return r;r=s}return null}const el=new qt("",{providedIn:"root",factory:()=>!1});let ec=null;function Pf(r,s){return r[s]??Nd()}function og(r,s){const a=Nd();a.producerNode?.length&&(r[s]=ec,a.lView=r,ec=cg())}const ag={...Do,consumerIsAlwaysLive:!0,consumerMarkedDirty:r=>{Sd(r.lView)},lView:null};function cg(){return Object.create(ag)}function Nd(){return ec??=cg(),ec}const zn={};function kf(r){Od(Ir(),ht(),Wr()+r,!1)}function Od(r,s,a,h){if(!h)if(3==(3&s[Mn])){const y=r.preOrderCheckHooks;null!==y&&Yc(s,y,a)}else{const y=r.preOrderHooks;null!==y&&ml(s,y,0,a)}Ya(a)}function Ch(r,s=Xt.Default){const a=ht();return null===a?Pn(r,s):eu(Zi(),a,Nt(r),s)}function Hu(){throw new Error("invalid")}function lg(r,s,a,h,g,y,E,C,P,z,ie){const me=s.blueprint.slice();return me[dr]=g,me[Mn]=140|h,(null!==z||r&&2048&r[Mn])&&(me[Mn]|=2048),Hl(me),me[Ur]=me[bo]=r,me[Nn]=a,me[Xr]=E||r&&r[Xr],me[kn]=C||r&&r[kn],me[kr]=P||r&&r[kr]||null,me[Qr]=y,me[sa]=function Ap(){return zo++}(),me[ls]=ie,me[Sc]=z,me[Fr]=2==s.type?r[Fr]:me,me}function Dl(r,s,a,h,g){let y=r.data[s];if(null===y)y=Cl(r,s,a,h,g),function ld(){return Sn.lFrame.inI18n}()&&(y.flags|=32);else if(64&y.type){y.type=a,y.value=h,y.attrs=g;const E=gl();y.injectorIndex=null===E?-1:E.injectorIndex}return No(y,!0),y}function Cl(r,s,a,h,g){const y=Qd(),E=wu(),P=r.data[s]=function Jy(r,s,a,h,g,y){let E=s?s.injectorIndex:-1,C=0;return pc()&&(C|=128),{type:a,index:h,insertBeforeIndex:null,injectorIndex:E,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:C,providerIndexes:0,value:g,attrs:y,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,E?y:y&&y.parent,a,s,h,g);return null===r.firstChild&&(r.firstChild=P),null!==y&&(E?null==y.child&&null!==P.parent&&(y.child=P):null===y.next&&(y.next=P,P.prev=y)),P}function tc(r,s,a,h){if(0===a)return-1;const g=s.length;for(let y=0;y<a;y++)s.push(h),r.blueprint.push(h),r.data.push(null);return g}function lu(r,s,a,h,g){const y=Pf(s,Gs),E=Wr(),C=2&h;try{Ya(-1),C&&s.length>Gn&&Od(r,s,Gn,!1),_s(C?2:0,g);const z=C?y:null,ie=Co(z);try{null!==z&&(z.dirty=!1),a(h,g)}finally{dc(z,ie)}}finally{C&&null===s[Gs]&&og(s,Gs),Ya(E),_s(C?3:1,g)}}function Gu(r,s,a){if($s(s)){const h=Mi(null);try{const y=s.directiveEnd;for(let E=s.directiveStart;E<y;E++){const C=r.data[E];C.contentQueries&&C.contentQueries(1,a[E],E)}}finally{Mi(h)}}}function Mm(r,s,a){pl()&&(function Fm(r,s,a,h){const g=a.directiveStart,y=a.directiveEnd;Eo(a)&&function I1(r,s,a){const h=si(s,r),g=xm(a);let E=16;a.signals?E=4096:a.onPush&&(E=64);const C=Gm(r,lg(r,g,null,E,h,s,null,r[Xr].rendererFactory.createRenderer(h,a),null,null,null));r[s.index]=C}(s,a,r.data[g+a.componentOffset]),r.firstCreatePass||Su(a,s),Ma(h,s);const E=a.initialInputs;for(let C=g;C<y;C++){const P=r.data[C],z=bl(s,r,C,a);Ma(z,s),null!==E&&ev(0,C-g,z,P,0,E),Ni(P)&&(ds(a.index,s)[Nn]=bl(s,r,C,a))}}(r,s,a,si(a,s)),64==(64&a.flags)&&Lm(r,s,a))}function Md(r,s,a=si){const h=s.localNames;if(null!==h){let g=s.index+1;for(let y=0;y<h.length;y+=2){const E=h[y+1],C=-1===E?a(s,r):r[E];r[g++]=C}}}function xm(r){const s=r.tView;return null===s||s.incompleteFirstPass?r.tView=xd(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts,r.id):s}function xd(r,s,a,h,g,y,E,C,P,z,ie){const me=Gn+h,Pe=me+g,Le=function uu(r,s){const a=[];for(let h=0;h<s;h++)a.push(h<r?null:zn);return a}(me,Pe),pt="function"==typeof z?z():z;return Le[Vt]={type:r,blueprint:Le,template:a,queries:null,viewQuery:C,declTNode:s,data:Le.slice().fill(null,me),bindingStartIndex:me,expandoStartIndex:Pe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof y?y():y,pipeRegistry:"function"==typeof E?E():E,firstChild:null,schemas:P,consts:pt,incompleteFirstPass:!1,ssrId:ie}}let y1=r=>null;function b1(r,s,a,h){for(let g in r)if(r.hasOwnProperty(g)){a=null===a?{}:a;const y=r[g];null===h?Ff(a,s,g,y):h.hasOwnProperty(g)&&Ff(a,s,h[g],y)}return a}function Ff(r,s,a,h){r.hasOwnProperty(a)?r[a].push(s,h):r[a]=[s,h]}function vc(r,s,a,h,g,y,E,C){const P=si(s,a);let ie,z=s.inputs;!C&&null!=z&&(ie=z[h])?(Sl(r,a,ie,h,g),Eo(s)&&function Di(r,s){const a=ds(s,r);16&a[Mn]||(a[Mn]|=64)}(a,s.index)):3&s.type&&(h=function du(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(h),g=null!=E?E(g,s.value||"",h):g,y.setProperty(P,h,g))}function tl(r,s,a,h){if(pl()){const g=null===h?null:{"":-1},y=function bc(r,s){const a=r.directiveRegistry;let h=null,g=null;if(a)for(let y=0;y<a.length;y++){const E=a[y];if(as(s,E.selectors,!1))if(h||(h=[]),Ni(E))if(null!==E.findHostDirectiveDefs){const C=[];g=g||new Map,E.findHostDirectiveDefs(E,C,g),h.unshift(...C,E),co(r,s,C.length)}else h.unshift(E),co(r,s,0);else g=g||new Map,E.findHostDirectiveDefs?.(E,h,g),h.push(E)}return null===h?null:[h,g]}(r,a);let E,C;null===y?E=C=null:[E,C]=y,null!==E&&Xy(r,s,a,E,g,C),g&&function Um(r,s,a){if(s){const h=r.localNames=[];for(let g=0;g<s.length;g+=2){const y=a[s[g+1]];if(null==y)throw new Ge(-301,!1);h.push(s[g],y)}}}(a,h,g)}a.mergedAttrs=_a(a.mergedAttrs,a.attrs)}function Xy(r,s,a,h,g,y){for(let z=0;z<h.length;z++)fd(Su(a,s),r,h[z].type);!function ug(r,s,a){r.flags|=1,r.directiveStart=s,r.directiveEnd=s+a,r.providerIndexes=s}(a,r.data.length,h.length);for(let z=0;z<h.length;z++){const ie=h[z];ie.providersResolver&&ie.providersResolver(ie)}let E=!1,C=!1,P=tc(r,s,h.length,null);for(let z=0;z<h.length;z++){const ie=h[z];a.mergedAttrs=_a(a.mergedAttrs,ie.hostAttrs),Vm(r,a,s,P,ie),Bm(P,ie,g),null!==ie.contentQueries&&(a.flags|=4),(null!==ie.hostBindings||null!==ie.hostAttrs||0!==ie.hostVars)&&(a.flags|=64);const me=ie.type.prototype;!E&&(me.ngOnChanges||me.ngOnInit||me.ngDoCheck)&&((r.preOrderHooks??=[]).push(a.index),E=!0),!C&&(me.ngOnChanges||me.ngDoCheck)&&((r.preOrderCheckHooks??=[]).push(a.index),C=!0),P++}!function GE(r,s,a){const g=s.directiveEnd,y=r.data,E=s.attrs,C=[];let P=null,z=null;for(let ie=s.directiveStart;ie<g;ie++){const me=y[ie],Pe=a?a.get(me):null,pt=Pe?Pe.outputs:null;P=b1(me.inputs,ie,P,Pe?Pe.inputs:null),z=b1(me.outputs,ie,z,pt);const Mt=null===P||null===E||_o(s)?null:Hm(P,ie,E);C.push(Mt)}null!==P&&(P.hasOwnProperty("class")&&(s.flags|=8),P.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=C,s.inputs=P,s.outputs=z}(r,a,y)}function Lm(r,s,a){const h=a.directiveStart,g=a.directiveEnd,y=a.index,E=function S(){return Sn.lFrame.currentDirectiveIndex}();try{Ya(y);for(let C=h;C<g;C++){const P=r.data[C],z=s[C];R(C),(null!==P.hostBindings||0!==P.hostVars||null!==P.hostAttrs)&&$u(P,z)}}finally{Ya(-1),R(E)}}function $u(r,s){null!==r.hostBindings&&r.hostBindings(1,s)}function co(r,s,a){s.componentOffset=a,(r.components??=[]).push(s.index)}function Bm(r,s,a){if(a){if(s.exportAs)for(let h=0;h<s.exportAs.length;h++)a[s.exportAs[h]]=r;Ni(s)&&(a[""]=r)}}function Vm(r,s,a,h,g){r.data[h]=g;const y=g.factory||(g.factory=lc(g.type)),E=new dd(y,Ni(g),Ch);r.blueprint[h]=E,a[h]=E,function Lf(r,s,a,h,g){const y=g.hostBindings;if(y){let E=r.hostBindingOpCodes;null===E&&(E=r.hostBindingOpCodes=[]);const C=~s.index;(function ju(r){let s=r.length;for(;s>0;){const a=r[--s];if("number"==typeof a&&a<0)return a}return 0})(E)!=C&&E.push(C),E.push(a,h,y)}}(r,s,h,tc(r,a,g.hostVars,zn),g)}function nc(r,s,a,h,g,y){const E=si(r,s);!function zu(r,s,a,h,g,y,E){if(null==y)r.removeAttribute(s,g,a);else{const C=null==E?Xe(y):E(y,h||"",g);r.setAttribute(s,g,C,a)}}(s[kn],E,y,r.value,a,h,g)}function ev(r,s,a,h,g,y){const E=y[s];if(null!==E)for(let C=0;C<E.length;)Uf(h,a,E[C++],E[C++],E[C++])}function Uf(r,s,a,h,g){const y=Mi(null);try{const E=r.inputTransforms;null!==E&&E.hasOwnProperty(h)&&(g=E[h].call(s,g)),null!==r.setInput?r.setInput(s,g,a,h):s[h]=g}finally{Mi(y)}}function Hm(r,s,a){let h=null,g=0;for(;g<a.length;){const y=a[g];if(0!==y)if(5!==y){if("number"==typeof y)break;if(r.hasOwnProperty(y)){null===h&&(h=[]);const E=r[y];for(let C=0;C<E.length;C+=2)if(E[C]===s){h.push(y,E[C+1],a[g+1]);break}}g+=2}else g+=2;else g+=4}return h}function E1(r,s,a,h){return[r,!0,!1,s,null,0,h,a,null,null,null]}function tv(r,s){const a=r.contentQueries;if(null!==a)for(let h=0;h<a.length;h+=2){const y=a[h+1];if(-1!==y){const E=r.data[y];j(a[h]),E.contentQueries(2,s[y],y)}}}function Gm(r,s){return r[vo]?r[Vo][pi]=s:r[vo]=s,r[Vo]=s,s}function Bf(r,s,a){j(0);const h=Mi(null);try{s(r,a)}finally{Mi(h)}}function jm(r){return r[ji]||(r[ji]=[])}function Sh(r){return r.cleanup||(r.cleanup=[])}function eo(r,s){const a=r[kr],h=a?a.get(Dd,null):null;h&&h.handleError(s)}function Sl(r,s,a,h,g){for(let y=0;y<a.length;){const E=a[y++],C=a[y++];Uf(r.data[E],s[E],h,C,g)}}function Ra(r,s,a){const h=Wc(s,r);!function ny(r,s,a){r.setValue(s,a)}(r[kn],h,a)}function $m(r,s){const a=ds(s,r),h=a[Vt];!function $E(r,s){for(let a=s.length;a<r.blueprint.length;a++)s.push(r.blueprint[a])}(h,a);const g=a[dr];null!==g&&null===a[ls]&&(a[ls]=vh(g,a[kr])),xt(h,a,a[Nn])}function xt(r,s,a){qe(s);try{const h=r.viewQuery;null!==h&&Bf(1,h,a);const g=r.template;null!==g&&lu(r,s,g,1,a),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&tv(r,s),r.staticViewQueries&&Bf(2,r.viewQuery,a);const y=r.components;null!==y&&function ws(r,s){for(let a=0;a<s.length;a++)$m(r,s[a])}(s,y)}catch(h){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),h}finally{s[Mn]&=-5,sr()}}let Al=(()=>{class r{constructor(){this.all=new Set,this.queue=new Map}create(a,h,g){const y=typeof Zone>"u"?null:Zone.current,E=function Nr(r,s,a){const h=Object.create(zr);a&&(h.consumerAllowSignalWrites=!0),h.fn=r,h.schedule=s;const g=E=>{h.cleanupFn=E};return h.ref={notify:()=>nd(h),run:()=>{if(h.dirty=!1,h.hasRun&&!Ri(h))return;h.hasRun=!0;const E=Co(h);try{h.cleanupFn(),h.cleanupFn=Cn,h.fn(g)}finally{dc(h,E)}},cleanup:()=>h.cleanupFn()},h.ref}(a,z=>{this.all.has(z)&&this.queue.set(z,y)},g);let C;this.all.add(E),E.notify();const P=()=>{E.cleanup(),C?.(),this.all.delete(E),this.queue.delete(E)};return C=h?.onDestroy(P),{destroy:P}}flush(){if(0!==this.queue.size)for(const[a,h]of this.queue)this.queue.delete(a),h?h.run(()=>a.run()):a.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Ae({token:r,providedIn:"root",factory:()=>new r})}return r})();function gn(r,s,a){let h=a?r.styles:null,g=a?r.classes:null,y=0;if(null!==s)for(let E=0;E<s.length;E++){const C=s[E];"number"==typeof C?y=C:1==y?g=Pt(g,C):2==y&&(h=Pt(h,C+": "+s[++E]+";"))}a?r.styles=h:r.stylesWithoutHost=h,a?r.classes=g:r.classesWithoutHost=g}function En(r,s,a,h,g=!1){for(;null!==a;){const y=s[a.index];null!==y&&h.push(Mr(y)),Ai(y)&&rv(y,h);const E=a.type;if(8&E)En(r,s,a.child,h);else if(32&E){const C=_d(a,s);let P;for(;P=C();)h.push(P)}else if(16&E){const C=R0(s,a);if(Array.isArray(C))h.push(...C);else{const P=Mp(s[Fr]);En(P[Vt],P,C,h,!0)}}a=g?a.projectionNext:a.next}return h}function rv(r,s){for(let a=vi;a<r.length;a++){const h=r[a],g=h[Vt].firstChild;null!==g&&En(h[Vt],h,g,s)}r[Br]!==r[dr]&&s.push(r[Br])}function Kt(r,s,a,h=!0){const g=s[Xr],y=g.rendererFactory,E=g.afterRenderEventManager;y.begin?.(),E?.begin();try{lo(r,s,r.template,a)}catch(P){throw h&&eo(s,P),P}finally{y.end?.(),g.effectManager?.flush(),E?.end()}}function lo(r,s,a,h){const g=s[Mn];if(256!=(256&g)){s[Xr].effectManager?.flush(),qe(s);try{Hl(s),function ql(r){return Sn.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==a&&lu(r,s,a,2,h);const E=3==(3&g);if(E){const z=r.preOrderCheckHooks;null!==z&&Yc(s,z,null)}else{const z=r.preOrderHooks;null!==z&&ml(s,z,0,null),Xd(s,0)}if(function Pw(r){for(let s=A0(r);null!==s;s=yd(s)){if(!s[js])continue;const a=s[za];for(let h=0;h<a.length;h++){od(a[h])}}}(s),iv(s,2),null!==r.contentQueries&&tv(r,s),E){const z=r.contentCheckHooks;null!==z&&Yc(s,z)}else{const z=r.contentHooks;null!==z&&ml(s,z,1),Xd(s,1)}!function m1(r,s){const a=r.hostBindingOpCodes;if(null===a)return;const h=Pf(s,wo);try{for(let g=0;g<a.length;g++){const y=a[g];if(y<0)Ya(~y);else{const E=y,C=a[++g],P=a[++g];Zh(C,E),h.dirty=!1;const z=Co(h);try{P(2,s[E])}finally{dc(h,z)}}}}finally{null===s[wo]&&og(s,wo),Ya(-1)}}(r,s);const C=r.components;null!==C&&sv(s,C,0);const P=r.viewQuery;if(null!==P&&Bf(2,P,h),E){const z=r.viewCheckHooks;null!==z&&Yc(s,z)}else{const z=r.viewHooks;null!==z&&ml(s,z,2),Xd(s,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),s[Mn]&=-73,Ei(s)}finally{sr()}}}function iv(r,s){for(let a=A0(r);null!==a;a=yd(a))for(let h=vi;h<a.length;h++)T1(a[h],s)}function kw(r,s,a){T1(ds(s,r),a)}function T1(r,s){if(!function sd(r){return 128==(128&r[Mn])}(r))return;const a=r[Vt],h=r[Mn];if(80&h&&0===s||1024&h||2===s)lo(a,r,a.template,r[Nn]);else if(r[io]>0){iv(r,1);const g=a.components;null!==g&&sv(r,g,1)}}function sv(r,s,a){for(let h=0;h<s.length;h++)kw(r,s[h],a)}class dg{get rootNodes(){const s=this._lView,a=s[Vt];return En(a,s,a.firstChild,[])}constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Nn]}set context(s){this._lView[Nn]=s}get destroyed(){return 256==(256&this._lView[Mn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[Ur];if(Ai(s)){const a=s[8],h=a?a.indexOf(this):-1;h>-1&&(Rp(s,h),ah(a,h))}this._attachedToViewContainer=!1}Pp(this._lView[Vt],this._lView)}onDestroy(s){Aa(this._lView,s)}markForCheck(){Sd(this._cdRefInjectingView||this._lView)}detach(){this._lView[Mn]&=-129}reattach(){this._lView[Mn]|=128}detectChanges(){Kt(this._lView[Vt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ge(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function iy(r,s){lm(r,s,s[kn],2,null,null)}(this._lView[Vt],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Ge(902,!1);this._appRef=s}}class D1 extends dg{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;Kt(s[Vt],s,s[Nn],!1)}checkNoChanges(){}get context(){return null}}class ov extends eg{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=Yn(s);return new Kn(a,this.ngModule)}}function Fw(r){const s=[];for(let a in r)r.hasOwnProperty(a)&&s.push({propName:r[a],templateName:a});return s}class C1{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,h){h=fs(h);const g=this.injector.get(s,Vy,h);return g!==Vy||a===Vy?g:this.parentInjector.get(s,a,h)}}class Kn extends X0{get inputs(){const s=this.componentDef,a=s.inputTransforms,h=Fw(s.inputs);if(null!==a)for(const g of h)a.hasOwnProperty(g.propName)&&(g.transform=a[g.propName]);return h}get outputs(){return Fw(this.componentDef.outputs)}constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function ba(r){return r.map(yo).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}create(s,a,h,g){let y=(g=g||this.ngModule)instanceof Fc?g:g?.injector;y&&null!==this.componentDef.getStandaloneInjector&&(y=this.componentDef.getStandaloneInjector(y)||y);const E=y?new C1(s,y):s,C=E.get(r1,null);if(null===C)throw new Ge(407,!1);const me={rendererFactory:C,sanitizer:E.get(Uy,null),effectManager:E.get(Al,null),afterRenderEventManager:E.get(Cd,null)},Pe=C.createRenderer(null,this.componentDef),Le=this.componentDef.selectors[0][0]||"div",pt=h?function _1(r,s,a,h){const y=h.get(el,!1)||a===Vi.ShadowDom,E=r.selectRootElement(s,y);return function Rm(r){y1(r)}(E),E}(Pe,h,this.componentDef.encapsulation,E):hf(Pe,Le,function av(r){const s=r.toLowerCase();return"svg"===s?Ao:"math"===s?"math":null}(Le)),wn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let bt=null;null!==pt&&(bt=vh(pt,E,!0));const ur=xd(0,null,null,1,0,null,null,null,null,null,null),Lr=lg(null,ur,null,wn,null,null,me,Pe,E,null,bt);let Ui,ol;qe(Lr);try{const zh=this.componentDef;let U_,PD=null;zh.findHostDirectiveDefs?(U_=[],PD=new Map,zh.findHostDirectiveDefs(zh,U_,PD),U_.push(zh)):U_=[zh];const PS=function S1(r,s){const a=r[Vt],h=Gn;return r[h]=s,Dl(a,h,2,"#host",null)}(Lr,pt),kS=function hs(r,s,a,h,g,y,E){const C=g[Vt];!function On(r,s,a,h){for(const g of r)s.mergedAttrs=_a(s.mergedAttrs,g.hostAttrs);null!==s.mergedAttrs&&(gn(s,s.mergedAttrs,!0),null!==a&&uy(h,a,s))}(h,r,s,E);let P=null;null!==s&&(P=vh(s,g[kr]));const z=y.rendererFactory.createRenderer(s,a);let ie=16;a.signals?ie=4096:a.onPush&&(ie=64);const me=lg(g,xm(a),null,ie,g[r.index],r,y,z,null,null,P);return C.firstCreatePass&&co(C,r,h.length-1),Gm(g,me),g[r.index]=me}(PS,pt,zh,U_,Lr,me,Pe);ol=id(ur,Gn),pt&&function qr(r,s,a,h){if(h)_i(r,a,["ng-version",i1.full]);else{const{attrs:g,classes:y}=function hi(r){const s=[],a=[];let h=1,g=2;for(;h<r.length;){let y=r[h];if("string"==typeof y)2===g?""!==y&&s.push(y,r[++h]):8===g&&a.push(y);else{if(!$r(g))break;g=y}h++}return{attrs:s,classes:a}}(s.selectors[0]);g&&_i(r,a,g),y&&y.length>0&&F0(r,a,y.join(" "))}}(Pe,zh,pt,h),void 0!==a&&function hg(r,s,a){const h=r.projection=[];for(let g=0;g<s.length;g++){const y=a[g];h.push(null!=y?Array.from(y):null)}}(ol,this.ngContentSelectors,a),Ui=function rc(r,s,a,h,g,y){const E=Zi(),C=g[Vt],P=si(E,g);Xy(C,g,E,a,null,h);for(let ie=0;ie<a.length;ie++)Ma(bl(g,C,E.directiveStart+ie,E),g);Lm(C,g,E),P&&Ma(P,g);const z=bl(g,C,E.directiveStart+E.componentOffset,E);if(r[Nn]=g[Nn]=z,null!==y)for(const ie of y)ie(z,s);return Gu(C,E,r),z}(kS,zh,U_,PD,Lr,[Is]),xt(ur,Lr,null)}finally{sr()}return new Hf(this.componentType,Ui,wh(ol,Lr),Lr,ol)}}class Hf extends Jp{constructor(s,a,h,g,y){super(),this.location=h,this._rootLView=g,this._tNode=y,this.previousInputValues=null,this.instance=a,this.hostView=this.changeDetectorRef=new D1(g),this.componentType=s}setInput(s,a){const h=this._tNode.inputs;let g;if(null!==h&&(g=h[s])){if(this.previousInputValues??=new Map,this.previousInputValues.has(s)&&Object.is(this.previousInputValues.get(s),a))return;const y=this._rootLView;Sl(y[Vt],y,g,s,a),this.previousInputValues.set(s,a),Sd(ds(this._tNode.index,y))}}get injector(){return new O(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function Is(){const r=Zi();ud(ht()[Vt],r)}function Gf(r){let s=function Jt(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),a=!0;const h=[r];for(;s;){let g;if(Ni(r))g=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Ge(903,!1);g=s.\u0275dir}if(g){if(a){h.push(g);const E=r;E.inputs=hu(r.inputs),E.inputTransforms=hu(r.inputTransforms),E.declaredInputs=hu(r.declaredInputs),E.outputs=hu(r.outputs);const C=g.hostBindings;C&&Uw(r,C);const P=g.viewQuery,z=g.contentQueries;if(P&&Lw(r,P),z&&Ah(r,z),Ze(r.inputs,g.inputs),Ze(r.declaredInputs,g.declaredInputs),Ze(r.outputs,g.outputs),null!==g.inputTransforms&&(null===E.inputTransforms&&(E.inputTransforms={}),Ze(E.inputTransforms,g.inputTransforms)),Ni(g)&&g.data.animation){const ie=r.data;ie.animation=(ie.animation||[]).concat(g.data.animation)}}const y=g.features;if(y)for(let E=0;E<y.length;E++){const C=y[E];C&&C.ngInherit&&C(r),C===Gf&&(a=!1)}}s=Object.getPrototypeOf(s)}!function fg(r){let s=0,a=null;for(let h=r.length-1;h>=0;h--){const g=r[h];g.hostVars=s+=g.hostVars,g.hostAttrs=_a(g.hostAttrs,a=_a(a,g.hostAttrs))}}(h)}function hu(r){return r===Hi?{}:r===tr?[]:r}function Lw(r,s){const a=r.viewQuery;r.viewQuery=a?(h,g)=>{s(h,g),a(h,g)}:s}function Ah(r,s){const a=r.contentQueries;r.contentQueries=a?(h,g,y)=>{s(h,g,y),a(h,g,y)}:s}function Uw(r,s){const a=r.hostBindings;r.hostBindings=a?(h,g)=>{s(h,g),a(h,g)}:s}function ns(r){return s=>{s.findHostDirectiveDefs=Wu,s.hostDirectives=(Array.isArray(r)?r:r()).map(a=>"function"==typeof a?{directive:Nt(a),inputs:Hi,outputs:Hi}:{directive:Nt(a.directive),inputs:uv(a.inputs),outputs:uv(a.outputs)})}}function Wu(r,s,a){if(null!==r.hostDirectives)for(const h of r.hostDirectives){const g=ai(h.directive);Bw(g.declaredInputs,h.inputs),Wu(g,s,a),a.set(g,h),s.push(g)}}function uv(r){if(void 0===r||0===r.length)return Hi;const s={};for(let a=0;a<r.length;a+=2)s[r[a]]=r[a+1];return s}function Bw(r,s){for(const a in s)s.hasOwnProperty(a)&&(r[s[a]]=r[a])}function Ye(r){const s=r.inputConfig,a={};for(const h in s)if(s.hasOwnProperty(h)){const g=s[h];Array.isArray(g)&&g[2]&&(a[h]=g[2])}r.inputTransforms=a}function wc(r){return!!fu(r)&&(Array.isArray(r)||!(r instanceof Map)&&Symbol.iterator in r)}function fu(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function Pa(r,s,a){return r[s]=a}function Zo(r,s,a){return!Object.is(r[s],a)&&(r[s]=a,!0)}function Oh(r,s,a,h){const g=Zo(r,s,a);return Zo(r,s+1,h)||g}function pg(r,s,a,h,g){const y=Oh(r,s,a,h);return Zo(r,s+2,g)||y}function Pd(r,s,a,h){const g=ht();return Zo(g,_c(),s)&&(Ir(),nc(vr(),g,r,s,a,h)),Pd}function kd(r,s,a,h){return Zo(r,_c(),a)?s+Xe(a)+h:zn}function Wf(r,s,a,h,g,y,E,C){const z=pg(r,function Go(){return Sn.lFrame.bindingIndex}(),a,g,E);return Oo(3),z?s+Xe(a)+h+Xe(g)+y+Xe(E)+C:zn}function Yu(r,s,a,h,g,y,E,C){const P=ht(),z=Ir(),ie=r+Gn,me=z.firstCreatePass?function nl(r,s,a,h,g,y,E,C,P){const z=s.consts,ie=Dl(s,r,4,E||null,Ka(z,C));tl(s,a,ie,Ka(z,P)),ud(s,ie);const me=ie.tView=xd(2,ie,h,g,y,s.directiveRegistry,s.pipeRegistry,null,s.schemas,z,null);return null!==s.queries&&(s.queries.template(s,ie),me.queries=s.queries.embeddedTView(ie)),ie}(ie,z,P,s,a,h,g,y,E):z.data[ie];No(me,!1);const Pe=Ol(z,P,me,r);Kh()&&Vp(z,P,Pe,me),Ma(Pe,P),Gm(P,P[ie]=E1(Pe,P,Pe,me)),zs(me)&&Mm(z,P,me),null!=E&&Md(P,me,C)}let Ol=function rl(r,s,a,h){return Kc(!0),s[kn].createComment("")};function Bd(r){return Sa(function Iu(){return Sn.lFrame.contextLView}(),Gn+r)}function vg(r,s,a){const h=ht();return Zo(h,_c(),s)&&vc(Ir(),vr(),h,r,s,h[kn],a,!1),vg}function Qu(r,s,a,h,g){const E=g?"class":"style";Sl(r,a,s.inputs[E],E,h)}function Zf(r,s,a,h){const g=ht(),y=Ir(),E=Gn+r,C=g[kn],P=y.firstCreatePass?function Vd(r,s,a,h,g,y){const E=s.consts,P=Dl(s,r,2,h,Ka(E,g));return tl(s,a,P,Ka(E,y)),null!==P.attrs&&gn(P,P.attrs,!1),null!==P.mergedAttrs&&gn(P,P.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,P),P}(E,y,g,s,a,h):y.data[E],z=Kf(y,g,P,C,s,r);g[E]=z;const ie=zs(P);return No(P,!0),uy(C,z,P),32!=(32&P.flags)&&Kh()&&Vp(y,g,z,P),0===function Gl(){return Sn.lFrame.elementDepthCount}()&&Ma(z,g),function ad(){Sn.lFrame.elementDepthCount++}(),ie&&(Mm(y,g,P),Gu(y,P,g)),null!==h&&Md(g,P),Zf}function il(){let r=Zi();wu()?gc():(r=r.parent,No(r,!1));const s=r;(function qc(r){return Sn.skipHydrationRootTNode===r})(s)&&function cd(){Sn.skipHydrationRootTNode=null}(),function jl(){Sn.lFrame.elementDepthCount--}();const a=Ir();return a.firstCreatePass&&(ud(a,r),$s(r)&&a.queries.elementEnd(r)),null!=s.classesWithoutHost&&function vp(r){return 0!=(8&r.flags)}(s)&&Qu(a,s,ht(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function bp(r){return 0!=(16&r.flags)}(s)&&Qu(a,s,ht(),s.stylesWithoutHost,!1),il}function qm(r,s,a,h){return Zf(r,s,a,h),il(),qm}let Kf=(r,s,a,h,g,y)=>(Kc(!0),hf(h,g,function Eu(){return Sn.lFrame.currentNamespace}()));function Km(r,s,a){const h=ht(),g=Ir(),y=r+Gn,E=g.firstCreatePass?function vv(r,s,a,h,g){const y=s.consts,E=Ka(y,h),C=Dl(s,r,8,"ng-container",E);return null!==E&&gn(C,E,!0),tl(s,a,C,Ka(y,g)),null!==s.queries&&s.queries.elementStart(s,C),C}(y,g,h,s,a):g.data[y];No(E,!0);const C=bv(g,h,E,r);return h[y]=C,Kh()&&Vp(g,h,C,E),Ma(C,h),zs(E)&&(Mm(g,h,E),Gu(g,E,h)),null!=a&&Md(h,E),Km}function Ym(){let r=Zi();const s=Ir();return wu()?gc():(r=r.parent,No(r,!1)),s.firstCreatePass&&(ud(s,r),$s(r)&&s.queries.elementEnd(r)),Ym}let bv=(r,s,a,h)=>(Kc(!0),rm(s[kn],""));function Li(){return ht()}function Ml(r){return!!r&&"function"==typeof r.then}function Jm(r){return!!r&&"function"==typeof r.subscribe}function Xm(r,s,a,h){const g=ht(),y=Ir(),E=Zi();return function e_(r,s,a,h,g,y,E){const C=zs(h),z=r.firstCreatePass&&Sh(r),ie=s[Nn],me=jm(s);let Pe=!0;if(3&h.type||E){const Mt=si(h,s),nn=E?E(Mt):Mt,wn=me.length,bt=E?Lr=>E(Mr(Lr[h.index])):h.index;let ur=null;if(!E&&C&&(ur=function Zw(r,s,a,h){const g=r.cleanup;if(null!=g)for(let y=0;y<g.length-1;y+=2){const E=g[y];if(E===a&&g[y+1]===h){const C=s[ji],P=g[y+2];return C.length>P?C[P]:null}"string"==typeof E&&(y+=2)}return null}(r,s,g,h.index)),null!==ur)(ur.__ngLastListenerFn__||ur).__ngNextListenerFn__=y,ur.__ngLastListenerFn__=y,Pe=!1;else{y=li(h,s,ie,y,!1);const Lr=a.listen(nn,g,y);me.push(y,Lr),z&&z.push(g,bt,wn,wn+1)}}else y=li(h,s,ie,y,!1);const Le=h.outputs;let pt;if(Pe&&null!==Le&&(pt=Le[g])){const Mt=pt.length;if(Mt)for(let nn=0;nn<Mt;nn+=2){const Ui=s[pt[nn]][pt[nn+1]].subscribe(y),ol=me.length;me.push(y,Ui),z&&z.push(g,h.index,ol,-(ol+1))}}}(y,g,g[kn],E,r,s,h),Xm}function Hr(r,s,a,h){try{return _s(6,s,a),!1!==a(h)}catch(g){return eo(r,g),!1}finally{_s(7,s,a)}}function li(r,s,a,h,g){return function y(E){if(E===Function)return h;Sd(r.componentOffset>-1?ds(r.index,s):s);let P=Hr(s,a,h,E),z=y.__ngNextListenerFn__;for(;z;)P=Hr(s,a,z,E)&&P,z=z.__ngNextListenerFn__;return g&&!1===P&&E.preventDefault(),P}}function Ju(r=1){return function Mo(r){return(Sn.lFrame.contextLView=function Kl(r,s){for(;r>0;)s=s[bo],r--;return s}(r,Sn.lFrame.contextLView))[Nn]}(r)}function wv(r,s){let a=null;const h=function ea(r){const s=r.attrs;if(null!=s){const a=s.indexOf(5);if(!(1&a))return s[a+1]}return null}(r);for(let g=0;g<s.length;g++){const y=s[g];if("*"!==y){if(null===h?as(r,y,!0):Bl(h,y))return g}else a=g}return a}function t_(r){const s=ht()[Fr][Qr];if(!s.projection){const h=s.projection=Ru(r?r.length:1,null),g=h.slice();let y=s.child;for(;null!==y;){const E=r?wv(y,r):0;null!==E&&(g[E]?g[E].projectionNext=y:h[E]=y,g[E]=y),y=y.next}}}function n_(r,s=0,a){const h=ht(),g=Ir(),y=Dl(g,Gn+r,16,null,a||null);null===y.projection&&(y.projection=s),gc(),(!h[ls]||pc())&&32!=(32&y.flags)&&function DE(r,s,a){lw(s[kn],0,s,a,Fp(r,a,s),Lp(a.parent||s[Qr],a,s))}(g,h,y)}function r_(r,s,a){return bg(r,"",s,"",a),r_}function bg(r,s,a,h,g){const y=ht(),E=kd(y,s,a,h);return E!==zn&&vc(Ir(),vr(),y,r,E,y[kn],g,!1),bg}function s_(r,s){return r<<17|s<<2}function Hd(r){return r>>17&32767}function Xu(r){return 2|r}function xl(r){return(131068&r)>>2}function Jf(r,s){return-131069&r|s<<2}function Xf(r){return 1|r}function Sv(r,s,a,h,g){const y=r[a+1],E=null===s;let C=h?Hd(y):xl(y),P=!1;for(;0!==C&&(!1===P||E);){const ie=r[C+1];Ig(r[C],s)&&(P=!0,r[C+1]=h?Xf(ie):Xu(ie)),C=h?Hd(ie):xl(ie)}P&&(r[a+1]=h?Xu(y):Xf(y))}function Ig(r,s){return null===r||null==s||(Array.isArray(r)?r[1]:r)===s||!(!Array.isArray(r)||"string"!=typeof s)&&Pu(r,s)>=0}const Ts={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function a_(r){return r.substring(Ts.key,Ts.keyEnd)}function c_(r,s){const a=Ts.textEnd;return a===s?-1:(s=Ts.keyEnd=function Eg(r,s,a){for(;s<a&&r.charCodeAt(s)>32;)s++;return s}(r,Ts.key=s,a),ed(r,s,a))}function ed(r,s,a){for(;s<a&&r.charCodeAt(s)<=32;)s++;return s}function l_(r,s){return function oc(r,s,a,h){const g=ht(),y=Ir(),E=Oo(2);y.firstUpdatePass&&fr(y,r,E,h),s!==zn&&Zo(g,E,s)&&ye(y,y.data[Wr()],g,g[kn],r,g[E+1]=function lt(r,s){return null==r||""===r||("string"==typeof s?r+=s:"object"==typeof r&&(r=It(su(r)))),r}(s,a),h,E)}(r,s,null,!0),l_}function sl(r){!function mu(r,s,a,h){const g=Ir(),y=Oo(2);g.firstUpdatePass&&fr(g,null,y,h);const E=ht();if(a!==zn&&Zo(E,y,a)){const C=g.data[Wr()];if(Ct(C,h)&&!Qw(g,y)){let P=h?C.classesWithoutHost:C.stylesWithoutHost;null!==P&&(a=Pt(P,a||"")),Qu(g,C,E,a,h)}else!function he(r,s,a,h,g,y,E,C){g===zn&&(g=tr);let P=0,z=0,ie=0<g.length?g[0]:null,me=0<y.length?y[0]:null;for(;null!==ie||null!==me;){const Pe=P<g.length?g[P+1]:void 0,Le=z<y.length?y[z+1]:void 0;let Mt,pt=null;ie===me?(P+=2,z+=2,Pe!==Le&&(pt=me,Mt=Le)):null===me||null!==ie&&ie<me?(P+=2,pt=ie):(z+=2,pt=me,Mt=Le),null!==pt&&ye(r,s,a,h,pt,Mt,E,C),ie=P<g.length?g[P]:null,me=z<y.length?y[z]:null}}(g,C,E,E[kn],E[y+1],E[y+1]=function x(r,s,a){if(null==a||""===a)return tr;const h=[],g=su(a);if(Array.isArray(g))for(let y=0;y<g.length;y++)r(h,g[y],!0);else if("object"==typeof g)for(const y in g)g.hasOwnProperty(y)&&r(h,y,g[y]);else"string"==typeof g&&s(h,g);return h}(r,s,a),h,y)}}(se,Rl,r,!0)}function Rl(r,s){for(let a=function sc(r){return function Av(r){Ts.key=0,Ts.keyEnd=0,Ts.value=0,Ts.valueEnd=0,Ts.textEnd=r.length}(r),c_(r,ed(r,0,Ts.textEnd))}(s);a>=0;a=c_(s,a))ua(r,a_(s),!0)}function Qw(r,s){return s>=r.expandoStartIndex}function fr(r,s,a,h){const g=r.data;if(null===g[a+1]){const y=g[Wr()],E=Qw(r,a);Ct(y,h)&&null===s&&!E&&(s=!1),s=function c(r,s,a,h){const g=function D(r){const s=Sn.lFrame.currentDirectiveIndex;return-1===s?null:r[s]}(r);let y=h?s.residualClasses:s.residualStyles;if(null===g)0===(h?s.classBindings:s.styleBindings)&&(a=I(a=m(null,r,s,a,h),s.attrs,h),y=null);else{const E=s.directiveStylingLast;if(-1===E||r[E]!==g)if(a=m(g,r,s,a,h),null===y){let P=function f(r,s,a){const h=a?s.classBindings:s.styleBindings;if(0!==xl(h))return r[Hd(h)]}(r,s,h);void 0!==P&&Array.isArray(P)&&(P=m(null,r,s,P[1],h),P=I(P,s.attrs,h),function o(r,s,a,h){r[Hd(a?s.classBindings:s.styleBindings)]=h}(r,s,h,P))}else y=function d(r,s,a){let h;const g=s.directiveEnd;for(let y=1+s.directiveStylingLast;y<g;y++)h=I(h,r[y].hostAttrs,a);return I(h,s.attrs,a)}(r,s,h)}return void 0!==y&&(h?s.residualClasses=y:s.residualStyles=y),a}(g,y,s,h),function P1(r,s,a,h,g,y){let E=y?s.classBindings:s.styleBindings,C=Hd(E),P=xl(E);r[h]=a;let ie,z=!1;if(Array.isArray(a)?(ie=a[1],(null===ie||Pu(a,ie)>0)&&(z=!0)):ie=a,g)if(0!==P){const Pe=Hd(r[C+1]);r[h+1]=s_(Pe,C),0!==Pe&&(r[Pe+1]=Jf(r[Pe+1],h)),r[C+1]=function Cv(r,s){return 131071&r|s<<17}(r[C+1],h)}else r[h+1]=s_(C,0),0!==C&&(r[C+1]=Jf(r[C+1],h)),C=h;else r[h+1]=s_(P,0),0===C?C=h:r[P+1]=Jf(r[P+1],h),P=h;z&&(r[h+1]=Xu(r[h+1])),Sv(r,ie,h,!0),Sv(r,ie,h,!1),function jd(r,s,a,h,g){const y=g?r.residualClasses:r.residualStyles;null!=y&&"string"==typeof s&&Pu(y,s)>=0&&(a[h+1]=Xf(a[h+1]))}(s,ie,r,h,y),E=s_(C,P),y?s.classBindings=E:s.styleBindings=E}(g,y,s,a,E,h)}}function m(r,s,a,h,g){let y=null;const E=a.directiveEnd;let C=a.directiveStylingLast;for(-1===C?C=a.directiveStart:C++;C<E&&(y=s[C],h=I(h,y.hostAttrs,g),y!==r);)C++;return null!==r&&(a.directiveStylingLast=C),h}function I(r,s,a){const h=a?1:2;let g=-1;if(null!==s)for(let y=0;y<s.length;y++){const E=s[y];"number"==typeof E?g=E:g===h&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),ua(r,E,!!a||s[++y]))}return void 0===r?null:r}function se(r,s,a){const h=String(s);""!==h&&!h.includes(" ")&&ua(r,h,a)}function ye(r,s,a,h,g,y,E,C){if(!(3&s.type))return;const P=r.data,z=P[C+1],ie=function o_(r){return 1==(1&r)}(z)?$e(P,s,a,g,xl(z),E):void 0;nt(ie)||(nt(y)||function ZE(r){return 2==(2&r)}(z)&&(y=$e(P,null,a,g,C,E)),function SE(r,s,a,h,g){if(s)g?r.addClass(a,h):r.removeClass(a,h);else{let y=-1===h.indexOf("-")?void 0:E0.DashCase;null==g?r.removeStyle(a,h,y):("string"==typeof g&&g.endsWith("!important")&&(g=g.slice(0,-10),y|=E0.Important),r.setStyle(a,h,g,y))}}(h,E,Wc(Wr(),a),g,y))}function $e(r,s,a,h,g,y){const E=null===s;let C;for(;g>0;){const P=r[g],z=Array.isArray(P),ie=z?P[1]:P,me=null===ie;let Pe=a[g+1];Pe===zn&&(Pe=me?tr:void 0);let Le=me?zg(Pe,h):ie===h?Pe:void 0;if(z&&!nt(Le)&&(Le=zg(P,h)),nt(Le)&&(C=Le,E))return C;const pt=r[g+1];g=E?Hd(pt):xl(pt)}if(null!==s){let P=y?s.residualClasses:s.residualStyles;null!=P&&(C=zg(P,h))}return C}function nt(r){return void 0!==r}function Ct(r,s){return 0!=(r.flags&(s?8:16))}function Bt(r,s=""){const a=ht(),h=Ir(),g=r+Gn,y=h.firstCreatePass?Dl(h,g,1,s,null):h.data[g],E=zt(h,a,y,s,r);a[g]=E,Kh()&&Vp(h,a,E,y),No(y,!1)}let zt=(r,s,a,h,g)=>(Kc(!0),xp(s[kn],h));function pr(r){return Wt("",r,""),pr}function Wt(r,s,a){const h=ht(),g=kd(h,r,s,a);return g!==zn&&Ra(h,Wr(),g),Wt}function er(r,s,a,h,g,y,E){const C=ht(),P=Wf(C,r,s,a,h,g,y,E);return P!==zn&&Ra(C,Wr(),P),er}function _u(r,s,a){const h=ht();return Zo(h,_c(),s)&&vc(Ir(),vr(),h,r,s,h[kn],a,!0),_u}const Wd=void 0;var h_=["en",[["a","p"],["AM","PM"],Wd],[["AM","PM"],Wd,Wd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Wd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Wd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Wd,"{1} 'at' {0}",Wd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function xv(r){const a=Math.floor(Math.abs(r)),h=r.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===h?1:5}];let Gh={};function f_(r){const s=function Fo(r){return r.toLowerCase().replace(/_/g,"-")}(r);let a=Dg(s);if(a)return a;const h=s.split("-")[0];if(a=Dg(h),a)return a;if("en"===h)return h_;throw new Ge(701,!1)}function U1(r){return f_(r)[p_.PluralCase]}function Dg(r){return r in Gh||(Gh[r]=ir.ng&&ir.ng.common&&ir.ng.common.locales&&ir.ng.common.locales[r]),Gh[r]}var p_=function(r){return r[r.LocaleId=0]="LocaleId",r[r.DayPeriodsFormat=1]="DayPeriodsFormat",r[r.DayPeriodsStandalone=2]="DayPeriodsStandalone",r[r.DaysFormat=3]="DaysFormat",r[r.DaysStandalone=4]="DaysStandalone",r[r.MonthsFormat=5]="MonthsFormat",r[r.MonthsStandalone=6]="MonthsStandalone",r[r.Eras=7]="Eras",r[r.FirstDayOfWeek=8]="FirstDayOfWeek",r[r.WeekendRange=9]="WeekendRange",r[r.DateFormat=10]="DateFormat",r[r.TimeFormat=11]="TimeFormat",r[r.DateTimeFormat=12]="DateTimeFormat",r[r.NumberSymbols=13]="NumberSymbols",r[r.NumberFormats=14]="NumberFormats",r[r.CurrencyCode=15]="CurrencyCode",r[r.CurrencySymbol=16]="CurrencySymbol",r[r.CurrencyName=17]="CurrencyName",r[r.Currencies=18]="Currencies",r[r.Directionality=19]="Directionality",r[r.PluralCase=20]="PluralCase",r[r.ExtraData=21]="ExtraData",r}(p_||{});const qd="en-US",g_={marker:"element"},Rv={marker:"ICU"};var Ua=function(r){return r[r.SHIFT=2]="SHIFT",r[r.APPEND_EAGERLY=1]="APPEND_EAGERLY",r[r.COMMENT=2]="COMMENT",r}(Ua||{});let tI=qd;function nI(r){(function yn(r,s){null==r&&St(s,r,null,"!=")})(r,"Expected localeId to be defined"),"string"==typeof r&&(tI=r.toLowerCase().replace(/_/g,"-"))}function QE(r,s,a){const h=s.insertBeforeIndex,g=Array.isArray(h)?h[0]:h;return null===g?Up(r,0,a):Mr(a[g])}function m_(r,s,a,h,g){const y=s.insertBeforeIndex;if(Array.isArray(y)){let E=h,C=null;if(3&s.type||(C=E,E=g),null!==E&&-1===s.componentOffset)for(let P=1;P<y.length;P++)Lu(r,E,a[y[P]],C,!1)}}function B1(r,s){if(r.push(s),r.length>1)for(let a=r.length-2;a>=0;a--){const h=r[a];JE(h)||XE(h,s)&&null===rI(h)&&eT(h,s.index)}}function JE(r){return!(64&r.type)}function XE(r,s){return JE(s)||r.index>s.index}function rI(r){const s=r.insertBeforeIndex;return Array.isArray(s)?s[0]:s}function eT(r,s){const a=r.insertBeforeIndex;Array.isArray(a)?a[0]=s:(x0(QE,m_),r.insertBeforeIndex=s)}function ZD(r,s,a){const h=Cl(r,a,64,null,null);return B1(s,h),h}function sI(){const r=[];let a,h,s=-1;function y(C,P){s=0;const z=function V1(r,s){const a=s[r.currentCaseLViewIndex];return null===a?a:a<0?~a:a}(C,P);h=null!==z?C.remove[z]:tr}function E(){if(s<h.length){const C=h[s++];return C>0?a[C]:(r.push(s,h),y(a[Vt].data[~C],a),E())}return 0===r.length?null:(h=r.pop(),s=r.pop(),E())}return function g(C,P){for(a=P;r.length;)r.pop();return y(C.value,P),E}}const Fv=/\ufffd(\d+):?\d*\ufffd/gi,Lv=/\ufffd(\d+)\ufffd/,op=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Uv="\ufffd",oT=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,XD=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,eC=/\uE500/g;function $h(r,s,a,h,g,y,E){const C=tc(r,h,1,null);let P=C<<Ua.SHIFT,z=gl();s===z&&(z=null),null===z&&(P|=Ua.APPEND_EAGERLY),E&&(P|=Ua.COMMENT,function sw(r){void 0===md&&(md=r())}(sI)),g.push(P,null===y?"":y);const ie=Cl(r,C,E?32:1,null===y?"":y,null);B1(a,ie);const me=ie.index;return No(ie,!1),null!==z&&s!==z&&function qD(r,s){let a=r.insertBeforeIndex;null===a?(x0(QE,m_),a=r.insertBeforeIndex=[null,s]):(function je(r,s,a){r!=s&&St(a,r,s,"==")}(Array.isArray(a),!0,"Expecting array here"),a.push(s))}(z,me),ie}function aT(r,s,a,h,g,y,E){const C=E.match(Fv),P=$h(r,s,a,y,h,C?null:E,!1);C&&v_(g,E,P.index,null,0,null)}function v_(r,s,a,h,g,y){const E=r.length,C=E+1;r.push(null,null);const P=E+2,z=s.split(Fv);let ie=0;for(let me=0;me<z.length;me++){const Pe=z[me];if(1&me){const Le=g+parseInt(Pe,10);r.push(-1-Le),ie|=j1(Le)}else""!==Pe&&r.push(Pe)}return r.push(a<<2|(h?1:0)),h&&r.push(h,y),r[E]=ie,r[C]=r.length-P,ie}function j1(r){return 1<<Math.min(r,31)}function cI(r){let s,y,a="",h=0,g=!1;for(;null!==(s=oT.exec(r));)g?s[0]===`${Uv}/*${y}${Uv}`&&(h=s.index,g=!1):(a+=r.substring(h,s.index+s[0].length),y=s[1],g=!0);return a+=r.slice(h),a}function $1(r,s,a,h,g,y){let E=0;const C={type:g.type,currentCaseLViewIndex:tc(r,s,1,null),anchorIdx:y,cases:[],create:[],remove:[],update:[]};(function lT(r,s,a){r.push(j1(s.mainBinding),2,-1-s.mainBinding,a<<2|2)})(a,g,y),function tT(r,s,a){const h=r.data[s];null===h?r.data[s]=a:h.value=a}(r,y,C);const P=g.values;for(let z=0;z<P.length;z++){const ie=P[z],me=[];for(let Pe=0;Pe<ie.length;Pe++){const Le=ie[Pe];if("string"!=typeof Le){const pt=me.push(Le)-1;ie[Pe]=`\x3c!--\ufffd${pt}\ufffd--\x3e`}}E=iC(r,C,s,a,h,g.cases[z],ie.join(""),me)|E}E&&function Vv(r,s,a){r.push(s,1,a<<2|3)}(a,E,y)}function cT(r){const s=[],a=[];let h=1,g=0;const y=b_(r=r.replace(op,function(E,C,P){return h="select"===P?0:1,g=parseInt(C.slice(1),10),""}));for(let E=0;E<y.length;){let C=y[E++].trim();1===h&&(C=C.replace(/\s*(?:=)?(\w+)\s*/,"$1")),C.length&&s.push(C);const P=b_(y[E++]);s.length>a.length&&a.push(P)}return{type:h,mainBinding:g,cases:s,values:a}}function b_(r){if(!r)return[];let s=0;const a=[],h=[],g=/[{}]/g;let y;for(g.lastIndex=0;y=g.exec(r);){const C=y.index;if("}"==y[0]){if(a.pop(),0==a.length){const P=r.substring(s,C);op.test(P)?h.push(cT(P)):h.push(P),s=C+1}}else{if(0==a.length){const P=r.substring(s,C);h.push(P),s=C+1}a.push("{")}}const E=r.substring(s);return h.push(E),h}function iC(r,s,a,h,g,y,E,C){const P=[],z=[],ie=[];s.cases.push(y),s.create.push(P),s.remove.push(z),s.update.push(ie);const Pe=pm(Ti()).getInertBodyElement(E),Le=bd(Pe)||Pe;return Le?z1(r,s,a,h,P,z,ie,Le,g,C,0):0}function z1(r,s,a,h,g,y,E,C,P,z,ie){let me=0,Pe=C.firstChild;for(;Pe;){const Le=tc(r,a,1,null);switch(Pe.nodeType){case Node.ELEMENT_NODE:const pt=Pe,Mt=pt.tagName.toLowerCase();if(mf.hasOwnProperty(Mt)){w_(g,g_,Mt,P,Le),r.data[Le]=Mt;const ur=pt.attributes;for(let Lr=0;Lr<ur.length;Lr++){const Ui=ur.item(Lr),ol=Ui.name.toLowerCase();Ui.value.match(Fv)?gw.hasOwnProperty(ol)&&v_(E,Ui.value,Le,Ui.name,0,G0[ol]?V0:null):Hv(g,Le,Ui)}me=z1(r,s,a,h,g,y,E,Pe,Le,z,ie+1)|me,Bv(y,Le,ie)}break;case Node.TEXT_NODE:const nn=Pe.textContent||"",wn=nn.match(Fv);w_(g,null,wn?"":nn,P,Le),Bv(y,Le,ie),wn&&(me=v_(E,nn,Le,null,0,null)|me);break;case Node.COMMENT_NODE:const bt=Lv.exec(Pe.textContent||"");if(bt){const Lr=z[parseInt(bt[1],10)];w_(g,Rv,"",P,Le),$1(r,a,h,P,Lr,Le),sC(y,Le,ie)}}Pe=Pe.nextSibling}return me}function Bv(r,s,a){0===a&&r.push(s)}function sC(r,s,a){0===a&&(r.push(~s),r.push(s))}function w_(r,s,a,h,g){null!==s&&r.push(s),r.push(a,g,function KD(r,s,a){return r|s<<17|a<<1}(0,h,g))}function Hv(r,s,a){r.push(s<<1|1,a.name,a.value)}function dI(r,s,a=-1){const h=Ir(),g=ht(),y=Gn+r,E=Ka(h.consts,s),C=gl();h.firstCreatePass&&function Ag(r,s,a,h,g,y){const E=gl(),C=[],P=[],z=[[]];g=function lI(r,s){if(function aI(r){return-1===r}(s))return cI(r);{const a=r.indexOf(`:${s}${Uv}`)+2+s.toString().length,h=r.search(new RegExp(`${Uv}\\/\\*\\d+:${s}${Uv}`));return cI(r.substring(a,h))}}(g,y);const ie=function tC(r){return r.replace(eC," ")}(g).split(XD);for(let me=0;me<ie.length;me++){let Pe=ie[me];if(1&me){const Le=47===Pe.charCodeAt(0),Mt=(Pe.charCodeAt(Le?1:0),Gn+Number.parseInt(Pe.substring(Le?2:1)));if(Le)z.shift(),No(gl(),!1);else{const nn=ZD(r,z[0],Mt);z.unshift([]),No(nn,!0)}}else{const Le=b_(Pe);for(let pt=0;pt<Le.length;pt++){let Mt=Le[pt];if(1&pt){const nn=Mt;if("object"!=typeof nn)throw new Error(`Unable to parse ICU expression in "${g}" message.`);$1(r,a,P,s,nn,$h(r,E,z[0],a,C,"",!0).index)}else""!==Mt&&aT(r,E,z[0],C,P,a,Mt)}}}r.data[h]={create:C,update:P}}(h,null===C?0:C.index,g,y,E,a),2===h.type?g[Fr][Mn]|=32:g[Mn]|=32;const P=h.data[y],ie=om(h,C===g[Qr]?null:C,g);(function rT(r,s,a,h){const g=r[kn];for(let y=0;y<s.length;y++){const E=s[y++],C=s[y],z=(E&Ua.APPEND_EAGERLY)===Ua.APPEND_EAGERLY,ie=E>>>Ua.SHIFT;let me=r[ie];null===me&&(me=r[ie]=(E&Ua.COMMENT)===Ua.COMMENT?g.createComment(C):xp(g,C)),z&&null!==a&&Lu(g,a,me,h,!1)}})(g,P.create,ie,C&&8&C.type?g[C.index]:null),Zl(!0)}function fT(r,s,a){dI(r,s,a),function cp(){Zl(!1)}()}function fI(r,s,a,h,g){if(r=Nt(r),Array.isArray(r))for(let y=0;y<r.length;y++)fI(r[y],s,a,h,g);else{const y=Ir(),E=ht(),C=Zi();let P=If(r)?r:Nt(r.provide);const z=z0(r),ie=1048575&C.providerIndexes,me=C.directiveStart,Pe=C.providerIndexes>>20;if(If(r)||!r.multi){const Le=new dd(z,g,Ch),pt=T_(P,s,g?ie:ie+Pe,me);-1===pt?(fd(Su(C,E),y,P),Z1(y,r,s.length),s.push(P),C.directiveStart++,C.directiveEnd++,g&&(C.providerIndexes+=1048576),a.push(Le),E.push(Le)):(a[pt]=Le,E[pt]=Le)}else{const Le=T_(P,s,ie+Pe,me),pt=T_(P,s,ie,ie+Pe),nn=pt>=0&&a[pt];if(g&&!nn||!g&&!(Le>=0&&a[Le])){fd(Su(C,E),y,P);const wn=function lC(r,s,a,h,g){const y=new dd(r,a,Ch);return y.multi=[],y.index=s,y.componentProviders=0,mT(y,g,h&&!a),y}(g?cC:aC,a.length,g,h,z);!g&&nn&&(a[pt].providerFactory=wn),Z1(y,r,s.length,0),s.push(P),C.directiveStart++,C.directiveEnd++,g&&(C.providerIndexes+=1048576),a.push(wn),E.push(wn)}else Z1(y,r,Le>-1?Le:pt,mT(a[g?pt:Le],z,!g&&h));!g&&h&&nn&&a[pt].componentProviders++}}}function Z1(r,s,a,h){const g=If(s),y=function ww(r){return!!r.useClass}(s);if(g||y){const P=(y?Nt(s.useClass):s).prototype.ngOnDestroy;if(P){const z=r.destroyHooks||(r.destroyHooks=[]);if(!g&&s.multi){const ie=z.indexOf(a);-1===ie?z.push(a,[h,P]):z[ie+1].push(h,P)}else z.push(a,P)}}}function mT(r,s,a){return a&&r.componentProviders++,r.multi.push(s)-1}function T_(r,s,a,h){for(let g=a;g<h;g++)if(s[g]===r)return g;return-1}function aC(r,s,a,h){return K1(this.multi,[])}function cC(r,s,a,h){const g=this.multi;let y;if(this.providerFactory){const E=this.providerFactory.componentProviders,C=bl(a,a[Vt],this.providerFactory.index,h);y=C.slice(0,E),K1(g,y);for(let P=E;P<C.length;P++)y.push(C[P])}else y=[],K1(g,y);return y}function K1(r,s){for(let a=0;a<r.length;a++)s.push((0,r[a])());return s}function pI(r,s=[]){return a=>{a.providersResolver=(h,g)=>function gT(r,s,a){const h=Ir();if(h.firstCreatePass){const g=Ni(r);fI(a,h.data,h.blueprint,g,!0),fI(s,h.data,h.blueprint,g,!1)}}(h,g?g(r):r,s)}}class Ll{}class D_{}function _T(r,s){return new gI(r,s??null,[])}class gI extends Ll{constructor(s,a,h){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ov(this);const g=Pr(s);this._bootstrapComponents=ha(g.bootstrap),this._r3Injector=o1(s,a,[{provide:Ll,useValue:this},{provide:eg,useValue:this.componentFactoryResolver},...h],It(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Y1 extends D_{constructor(s){super(),this.moduleType=s}create(s){return new gI(this.moduleType,s,[])}}class yT extends Ll{constructor(s){super(),this.componentFactoryResolver=new ov(this),this.instance=null;const a=new Bu([...s.providers,{provide:Ll,useValue:this},{provide:eg,useValue:this.componentFactoryResolver}],s.parent||_h(),s.debugName,new Set(["environment"]));this.injector=a,s.runEnvironmentInitializers&&a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function Q1(r,s,a=null){return new yT({providers:r,parent:s,debugName:a,runEnvironmentInitializers:!0}).injector}let Ba=(()=>{class r{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a)){const h=Ey(0,a.type),g=h.length>0?Q1([h],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a,g)}return this.cachedInjectors.get(a)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Ae({token:r,providedIn:"environment",factory:()=>new r(Pn(Fc))})}return r})();function vT(r){r.getStandaloneInjector=s=>s.get(Ba).getOrCreateStandaloneInjector(r)}function yI(r,s,a,h){return Gv(ht(),ys(),r,s,a,h)}function rb(r,s,a,h,g){return vI(ht(),ys(),r,s,a,h,g)}function AT(r,s,a,h,g,y){return function bI(r,s,a,h,g,y,E,C){const P=s+a;return pg(r,P,g,y,E)?Pa(r,P+3,C?h.call(C,g,y,E):h(g,y,E)):Ng(r,P+3)}(ht(),ys(),r,s,a,h,g,y)}function Ng(r,s){const a=r[s];return a===zn?void 0:a}function Gv(r,s,a,h,g,y){const E=s+a;return Zo(r,E,g)?Pa(r,E+1,y?h.call(y,g):h(g)):Ng(r,E+1)}function vI(r,s,a,h,g,y,E){const C=s+a;return Oh(r,C,g,y)?Pa(r,C+2,E?h.call(E,g,y):h(g,y)):Ng(r,C+2)}function ib(r,s){const a=Ir();let h;const g=r+Gn;a.firstCreatePass?(h=function mC(r,s){if(s)for(let a=s.length-1;a>=0;a--){const h=s[a];if(r===h.name)return h}}(s,a.pipeRegistry),a.data[g]=h,h.onDestroy&&(a.destroyHooks??=[]).push(g,h.onDestroy)):h=a.data[g];const y=h.factory||(h.factory=lc(h.type)),C=vn(Ch);try{const P=Oc(!1),z=y();return Oc(P),function yv(r,s,a,h){a>=r.data.length&&(r.data[a]=null,r.blueprint[a]=null),s[a]=h}(a,ht(),g,z),z}finally{vn(C)}}function II(r,s,a){const h=r+Gn,g=ht(),y=Sa(g,h);return Og(g,h)?Gv(g,ys(),s,y.transform,a,y):y.transform(a)}function sb(r,s,a,h){const g=r+Gn,y=ht(),E=Sa(y,g);return Og(y,g)?vI(y,ys(),s,E.transform,a,h,E):E.transform(a,h)}function Og(r,s){return r[Vt].data[s].pure}function EI(){return this._results[Symbol.iterator]()}class $v{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Tl)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=$v.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=EI)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const h=this;h.dirty=!1;const g=function Jc(r){return r.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function $g(r,s,a){if(r.length!==s.length)return!1;for(let h=0;h<r.length;h++){let g=r[h],y=s[h];if(a&&(g=a(g),y=a(y)),y!==g)return!1}return!0}(h._results,g,a))&&(h._results=g,h.length=g.length,h.last=g[this.length-1],h.first=g[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function PT(r,s,a,h=!0){const g=s[Vt];if(function sm(r,s,a,h){const g=vi+h,y=a.length;h>0&&(a[g-1][pi]=s),h<y-vi?(s[pi]=a[g],oh(a,vi+h,s)):(a.push(s),s[pi]=null),s[Ur]=a;const E=s[Ji];null!==E&&a!==E&&function sy(r,s){const a=r[za];s[Fr]!==s[Ur][Ur][Fr]&&(r[js]=!0),null===a?r[za]=[s]:a.push(s)}(E,s);const C=s[ri];null!==C&&C.insertView(r),s[Mn]|=128}(g,s,r,a),h){const y=P0(a,r),E=s[kn],C=dh(E,r[Br]);null!==C&&function ry(r,s,a,h,g,y){h[dr]=g,h[Qr]=s,lm(r,h,a,1,g,y)}(g,r[Qr],E,s,C,y)}}let Mg=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=Dc}return r})();const yC=Mg,vC=class extends yC{constructor(s,a,h){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=h}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(s,a){return this.createEmbeddedViewImpl(s,a)}createEmbeddedViewImpl(s,a,h){const g=function RT(r,s,a,h){const g=s.tView,C=lg(r,g,a,4096&r[Mn]?4096:16,null,s,null,null,null,h?.injector??null,h?.hydrationInfo??null);C[Ji]=r[s.index];const z=r[ri];return null!==z&&(C[ri]=z.createEmbeddedView(g)),xt(g,C,a),C}(this._declarationLView,this._declarationTContainer,s,{injector:a,hydrationInfo:h});return new dg(g)}};function Dc(){return cb(Zi(),ht())}function cb(r,s){return 4&r.type?new vC(s,r,wh(r,s)):null}let db=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=EC}return r})();function EC(){return qv(Zi(),ht())}const zv=db,hb=class extends zv{constructor(s,a,h){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=h}get element(){return wh(this._hostTNode,this._hostLView)}get injector(){return new O(this._hostTNode,this._hostLView)}get parentInjector(){const s=rh(this._hostTNode,this._hostLView);if(Ql(s)){const a=Qc(s,this._hostLView),h=Jl(s);return new O(a[Vt].data[h+8],a)}return new O(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=xg(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-vi}createEmbeddedView(s,a,h){let g,y;"number"==typeof h?g=h:null!=h&&(g=h.index,y=h.injector);const C=s.createEmbeddedViewImpl(a||{},y,null);return this.insertImpl(C,g,false),C}createComponent(s,a,h,g,y){const E=s&&!function rf(r){return"function"==typeof r}(s);let C;if(E)C=a;else{const Mt=a||{};C=Mt.index,h=Mt.injector,g=Mt.projectableNodes,y=Mt.environmentInjector||Mt.ngModuleRef}const P=E?s:new Kn(Yn(s)),z=h||this.parentInjector;if(!y&&null==P.ngModule){const nn=(E?z:this.parentInjector).get(Fc,null);nn&&(y=nn)}Yn(P.componentType??{});const Le=P.create(z,g,null,y);return this.insertImpl(Le.hostView,C,false),Le}insert(s,a){return this.insertImpl(s,a,!1)}insertImpl(s,a,h){const g=s._lView;if(function Wh(r){return Ai(r[Ur])}(g)){const P=this.indexOf(s);if(-1!==P)this.detach(P);else{const z=g[Ur],ie=new hb(z,z[Qr],z[Ur]);ie.detach(ie.indexOf(s))}}const E=this._adjustIndex(a),C=this._lContainer;return PT(C,g,E,!h),s.attachToViewContainerRef(),oh(Wv(C),E,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=xg(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),h=Rp(this._lContainer,a);h&&(ah(Wv(this._lContainer),a),Pp(h[Vt],h))}detach(s){const a=this._adjustIndex(s,-1),h=Rp(this._lContainer,a);return h&&null!=ah(Wv(this._lContainer),a)?new dg(h):null}_adjustIndex(s,a=0){return s??this.length+a}};function xg(r){return r[8]}function Wv(r){return r[8]||(r[8]=[])}function qv(r,s){let a;const h=s[r.index];return Ai(h)?a=h:(a=E1(h,s,null,r),s[r.index]=a,Gm(s,a)),fb(a,s,r,h),new hb(a,r,s)}let fb=function CI(r,s,a,h){if(r[Br])return;let g;g=8&a.type?Mr(h):function Zv(r,s){const a=r[kn],h=a.createComment(""),g=si(s,r);return Lu(a,dh(a,g),h,function ay(r,s){return r.nextSibling(s)}(a,g),!1),h}(s,a),r[Br]=g};class Kd{constructor(s){this.queryList=s,this.matches=null}clone(){return new Kd(this.queryList)}setDirty(){this.queryList.setDirty()}}class pb{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const h=null!==s.contentQueries?s.contentQueries[0]:a.length,g=[];for(let y=0;y<h;y++){const E=a.getByIndex(y);g.push(this.queries[E.indexInDeclarationView].clone())}return new pb(g)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==GT(s,a).matches&&this.queries[a].setDirty()}}class LT{constructor(s,a,h=null){this.predicate=s,this.flags=a,this.read=h}}class Kv{constructor(s=[]){this.queries=s}elementStart(s,a){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let h=0;h<this.length;h++){const g=null!==a?a.length:0,y=this.getByIndex(h).embeddedTView(s,g);y&&(y.indexInDeclarationView=h,null!==a?a.push(y):a=[y])}return null!==a?new Kv(a):null}template(s,a){for(let h=0;h<this.queries.length;h++)this.queries[h].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class NI{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new NI(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let h=s.parent;for(;null!==h&&8&h.type&&h.index!==a;)h=h.parent;return a===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const h=this.metadata.predicate;if(Array.isArray(h))for(let g=0;g<h.length;g++){const y=h[g];this.matchTNodeWithReadOption(s,a,OI(a,y)),this.matchTNodeWithReadOption(s,a,Na(a,s,y,!1,!1))}else h===Mg?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,Na(a,s,h,!1,!1))}matchTNodeWithReadOption(s,a,h){if(null!==h){const g=this.metadata.read;if(null!==g)if(g===Ih||g===db||g===Mg&&4&a.type)this.addMatch(a.index,-2);else{const y=Na(a,s,g,!1,!1);null!==y&&this.addMatch(a.index,y)}else this.addMatch(a.index,h)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function OI(r,s){const a=r.localNames;if(null!==a)for(let h=0;h<a.length;h+=2)if(a[h]===s)return a[h+1];return null}function MI(r,s,a,h){return-1===a?function TC(r,s){return 11&r.type?wh(r,s):4&r.type?cb(r,s):null}(s,r):-2===a?function gb(r,s,a){return a===Ih?wh(s,r):a===Mg?cb(s,r):a===db?qv(s,r):void 0}(r,s,h):bl(r,r[Vt],a,s)}function mb(r,s,a,h){const g=s[ri].queries[h];if(null===g.matches){const y=r.data,E=a.matches,C=[];for(let P=0;P<E.length;P+=2){const z=E[P];C.push(z<0?null:MI(s,y[z],E[P+1],a.metadata.read))}g.matches=C}return g.matches}function _b(r,s,a,h){const g=r.queries.getByIndex(a),y=g.matches;if(null!==y){const E=mb(r,s,g,a);for(let C=0;C<y.length;C+=2){const P=y[C];if(P>0)h.push(E[C/2]);else{const z=y[C+1],ie=s[-P];for(let me=vi;me<ie.length;me++){const Pe=ie[me];Pe[Ji]===Pe[Ur]&&_b(Pe[Vt],Pe,z,h)}if(null!==ie[za]){const me=ie[za];for(let Pe=0;Pe<me.length;Pe++){const Le=me[Pe];_b(Le[Vt],Le,z,h)}}}}}return h}function Rg(r){const s=ht(),a=Ir(),h=k();j(h+1);const g=GT(a,h);if(r.dirty&&function hc(r){return 4==(4&r[Mn])}(s)===(2==(2&g.metadata.flags))){if(null===g.matches)r.reset([]);else{const y=g.crossesNgTemplate?_b(a,s,h,[]):mb(a,s,g,h);r.reset(y,Nf),r.notifyOnChanges()}return!0}return!1}function yb(r,s,a){const h=Ir();h.firstCreatePass&&(HT(h,new LT(r,s,a),-1),2==(2&s)&&(h.staticViewQueries=!0)),xI(h,ht(),s)}function UT(r,s,a,h){const g=Ir();if(g.firstCreatePass){const y=Zi();HT(g,new LT(s,a,h),y.index),function RI(r,s){const a=r.contentQueries||(r.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(r.queries.length-1,s)}(g,r),2==(2&a)&&(g.staticContentQueries=!0)}xI(g,ht(),a)}function BT(){return function VT(r,s){return r[ri].queries[s].queryList}(ht(),k())}function xI(r,s,a){const h=new $v(4==(4&a));(function ts(r,s,a,h){const g=jm(s);g.push(a),r.firstCreatePass&&Sh(r).push(h,g.length-1)})(r,s,h,h.destroy),null===s[ri]&&(s[ri]=new pb),s[ri].queries.push(new Kd(h))}function HT(r,s,a){null===r.queries&&(r.queries=new Kv),r.queries.track(new NI(s,a))}function GT(r,s){return r.queries.getByIndex(s)}function vb(r,s){return cb(r,s)}function Yv(r){return!!Pr(r)}const Ob=new qt("Application Initializer");let $I=(()=>{class r{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,h)=>{this.resolve=a,this.reject=h}),this.appInits=Xn(Ob,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const a=[];for(const g of this.appInits){const y=g();if(Ml(y))a.push(y);else if(Jm(y)){const E=new Promise((C,P)=>{y.subscribe({complete:C,error:P})});a.push(E)}}const h=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{h()}).catch(g=>{this.reject(g)}),0===a.length&&h(),this.initialized=!0}static#e=this.\u0275fac=function(h){return new(h||r)};static#t=this.\u0275prov=Ae({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),aD=(()=>{class r{log(a){console.log(a)}warn(a){console.warn(a)}static#e=this.\u0275fac=function(h){return new(h||r)};static#t=this.\u0275prov=Ae({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})();const Mb=new qt("LocaleId",{providedIn:"root",factory:()=>Xn(Mb,Xt.Optional|Xt.SkipSelf)||function zI(){return typeof $localize<"u"&&$localize.locale||qd}()}),WI=new qt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let xb=(()=>{class r{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ue.X(!1)}add(){this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(h){return new(h||r)};static#t=this.\u0275prov=Ae({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();class lD{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let qI=(()=>{class r{compileModuleSync(a){return new Y1(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const h=this.compileModuleSync(a),y=ha(Pr(a).declarations).reduce((E,C)=>{const P=Yn(C);return P&&E.push(new Kn(P)),E},[]);return new lD(h,y)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}static#e=this.\u0275fac=function(h){return new(h||r)};static#t=this.\u0275prov=Ae({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const tE=new qt(""),Hb=new qt("");let rE,fD=(()=>{class r{constructor(a,h,g){this._ngZone=a,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,rE||(function nE(r){rE=r}(g),g.addToWindow(h)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{qo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(a)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,h,g){let y=-1;h&&h>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(E=>E.timeoutId!==y),a(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:a,timeoutId:y,updateCb:g})}whenStable(a,h,g){if(g&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,h,g),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,h,g){return[]}static#e=this.\u0275fac=function(h){return new(h||r)(Pn(qo),Pn(Lg),Pn(Hb))};static#t=this.\u0275prov=Ae({token:r,factory:r.\u0275fac})}return r})(),Lg=(()=>{class r{constructor(){this._applications=new Map}registerApplication(a,h){this._applications.set(a,h)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,h=!0){return rE?.findTestabilityInTree(this,a,h)??null}static#e=this.\u0275fac=function(h){return new(h||r)};static#t=this.\u0275prov=Ae({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})(),hp=null;const pD=new qt("AllowMultipleToken"),Gb=new qt("PlatformDestroyListeners"),iE=new qt("appBootstrapListener");class $C{constructor(s,a){this.name=s,this.token=a}}function sE(r,s,a=[]){const h=`Platform: ${s}`,g=new qt(h);return(y=[])=>{let E=$b();if(!E||E.injector.get(pD,!1)){const C=[...a,...y,{provide:g,useValue:!0}];r?r(C):function _D(r){if(hp&&!hp.get(pD,!1))throw new Ge(400,!1);(function mD(){!function dl(r){ca=r}(()=>{throw new Ge(600,!1)})})(),hp=r;const s=r.get(oE);(function jb(r){r.get(Wo,null)?.forEach(a=>a())})(r)}(function n0(r=[],s){return da.create({name:s,providers:[{provide:Zp,useValue:"platform"},{provide:Gb,useValue:new Set([()=>hp=null])},...r]})}(C,h))}return function vD(r){const s=$b();if(!s)throw new Ge(401,!1);return s}()}}function $b(){return hp?.get(oE)??null}let oE=(()=>{class r{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,h){const g=function zC(r="zone.js",s){return"noop"===r?new Ow:"zone.js"===r?new qo(s):r}(h?.ngZone,function P_(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:r?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:r?.runCoalescing??!1}}({eventCoalescing:h?.ngZoneEventCoalescing,runCoalescing:h?.ngZoneRunCoalescing}));return g.run(()=>{const y=function dC(r,s,a){return new gI(r,s,a)}(a.moduleType,this.injector,function Wb(r){return[{provide:qo,useFactory:r},{provide:yf,multi:!0,useFactory:()=>{const s=Xn(bD,{optional:!0});return()=>s.initialize()}},{provide:aE,useFactory:bS},{provide:$y,useFactory:d1}]}(()=>g)),E=y.injector.get(Dd,null);return g.runOutsideAngular(()=>{const C=g.onError.subscribe({next:P=>{E.handleError(P)}});y.onDestroy(()=>{zb(this._modules,y),C.unsubscribe()})}),function fo(r,s,a){try{const h=a();return Ml(h)?h.catch(g=>{throw s.runOutsideAngular(()=>r.handleError(g)),g}):h}catch(h){throw s.runOutsideAngular(()=>r.handleError(h)),h}}(E,g,()=>{const C=y.injector.get($I);return C.runInitializers(),C.donePromise.then(()=>(nI(y.injector.get(Mb,qd)||qd),this._moduleDoBootstrap(y),y))})})}bootstrapModule(a,h=[]){const g=Va({},h);return function gD(r,s,a){const h=new Y1(a);return Promise.resolve(h)}(0,0,a).then(y=>this.bootstrapModuleFactory(y,g))}_moduleDoBootstrap(a){const h=a.injector.get(Vc);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(g=>h.bootstrap(g));else{if(!a.instance.ngDoBootstrap)throw new Ge(-403,!1);a.instance.ngDoBootstrap(h)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ge(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const a=this._injector.get(Gb,null);a&&(a.forEach(h=>h()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(h){return new(h||r)(Pn(da))};static#t=this.\u0275prov=Ae({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})();function Va(r,s){return Array.isArray(s)?s.reduce(Va,r):{...r,...s}}let Vc=(()=>{class r{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Xn(aE),this.zoneIsStable=Xn($y),this.componentTypes=[],this.components=[],this.isStable=Xn(xb).hasPendingTasks.pipe((0,Me.w)(a=>a?(0,fe.of)(!1):this.zoneIsStable),(0,Se.x)(),ae()),this._injector=Xn(Fc)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,h){const g=a instanceof X0;if(!this._injector.get($I).done)throw!g&&gs(a),new Ge(405,!1);let E;E=g?a:this._injector.get(eg).resolveComponentFactory(a),this.componentTypes.push(E.componentType);const C=function jC(r){return r.isBoundToModule}(E)?void 0:this._injector.get(Ll),z=E.create(da.NULL,[],h||E.selector,C),ie=z.location.nativeElement,me=z.injector.get(tE,null);return me?.registerApplication(ie),z.onDestroy(()=>{this.detachView(z.hostView),zb(this.components,z),me?.unregisterApplication(ie)}),this._loadComponent(z),z}tick(){if(this._runningTick)throw new Ge(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1}}attachView(a){const h=a;this._views.push(h),h.attachToAppRef(this)}detachView(a){const h=a;zb(this._views,h),h.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const h=this._injector.get(iE,[]);h.push(...this._bootstrapListeners),h.forEach(g=>g(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>zb(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new Ge(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(h){return new(h||r)};static#t=this.\u0275prov=Ae({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function zb(r,s){const a=r.indexOf(s);a>-1&&r.splice(a,1)}const aE=new qt("",{providedIn:"root",factory:()=>Xn(Dd).handleError.bind(void 0)});function bS(){const r=Xn(qo),s=Xn(Dd);return a=>r.runOutsideAngular(()=>s.handleError(a))}let bD=(()=>{class r{constructor(){this.zone=Xn(qo),this.applicationRef=Xn(Vc)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(h){return new(h||r)};static#t=this.\u0275prov=Ae({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function IS(){return!1}let wD=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=TS}return r})();function TS(r){return function DS(r,s,a){if(Eo(r)&&!a){const h=ds(r.index,s);return new dg(h,h)}return 47&r.type?new dg(s[Fr],s):null}(Zi(),ht(),16==(16&r))}class TD{constructor(){}supports(s){return wc(s)}create(s){return new dE(s)}}const F_=(r,s)=>s;class dE{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||F_}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,h=this._removalsHead,g=0,y=null;for(;a||h;){const E=!h||a&&a.currentIndex<CD(h,g,y)?a:h,C=CD(E,g,y),P=E.currentIndex;if(E===h)g--,h=h._nextRemoved;else if(a=a._next,null==E.previousIndex)g++;else{y||(y=[]);const z=C-g,ie=P-g;if(z!=ie){for(let Pe=0;Pe<z;Pe++){const Le=Pe<y.length?y[Pe]:y[Pe]=0,pt=Le+Pe;ie<=pt&&pt<z&&(y[Pe]=Le+1)}y[E.previousIndex]=ie-z}}C!==P&&s(E,C,P)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!wc(s))throw new Ge(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let g,y,E,a=this._itHead,h=!1;if(Array.isArray(s)){this.length=s.length;for(let C=0;C<this.length;C++)y=s[C],E=this._trackByFn(C,y),null!==a&&Object.is(a.trackById,E)?(h&&(a=this._verifyReinsertion(a,y,E,C)),Object.is(a.item,y)||this._addIdentityChange(a,y)):(a=this._mismatch(a,y,E,C),h=!0),a=a._next}else g=0,function Nh(r,s){if(Array.isArray(r))for(let a=0;a<r.length;a++)s(r[a]);else{const a=r[Symbol.iterator]();let h;for(;!(h=a.next()).done;)s(h.value)}}(s,C=>{E=this._trackByFn(g,C),null!==a&&Object.is(a.trackById,E)?(h&&(a=this._verifyReinsertion(a,C,E,g)),Object.is(a.item,C)||this._addIdentityChange(a,C)):(a=this._mismatch(a,C,E,g),h=!0),a=a._next,g++}),this.length=g;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,h,g){let y;return null===s?y=this._itTail:(y=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,y,g)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(h,g))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,y,g)):s=this._addAfter(new o0(a,h),y,g),s}_verifyReinsertion(s,a,h,g){let y=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==y?s=this._reinsertAfter(y,s._prev,g):s.currentIndex!=g&&(s.currentIndex=g,this._addToMoves(s,g)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const g=s._prevRemoved,y=s._nextRemoved;return null===g?this._removalsHead=y:g._nextRemoved=y,null===y?this._removalsTail=g:y._prevRemoved=g,this._insertAfter(s,a,h),this._addToMoves(s,h),s}_moveAfter(s,a,h){return this._unlink(s),this._insertAfter(s,a,h),this._addToMoves(s,h),s}_addAfter(s,a,h){return this._insertAfter(s,a,h),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,h){const g=null===a?this._itHead:a._next;return s._next=g,s._prev=a,null===g?this._itTail=s:g._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new Zb),this._linkedRecords.put(s),s.currentIndex=h,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,h=s._next;return null===a?this._itHead=h:a._next=h,null===h?this._itTail=a:h._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Zb),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class o0{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class DD{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===a||a<=h.currentIndex)&&Object.is(h.trackById,s))return h;return null}remove(s){const a=s._prevDup,h=s._nextDup;return null===a?this._head=h:a._nextDup=h,null===h?this._tail=a:h._prevDup=a,null===this._head}}class Zb{constructor(){this.map=new Map}put(s){const a=s.trackById;let h=this.map.get(a);h||(h=new DD,this.map.set(a,h)),h.add(s)}get(s,a){const g=this.map.get(s);return g?g.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function CD(r,s,a){const h=r.previousIndex;if(null===h)return h;let g=0;return a&&h<a.length&&(g=a[h]),h+s+g}class SD{constructor(){}supports(s){return s instanceof Map||fu(s)}create(){return new QC}}class QC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||fu(s)))throw new Ge(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(h,g)=>{if(a&&a.key===g)this._maybeAddToChanges(a,h),this._appendAfter=a,a=a._next;else{const y=this._getOrCreateRecordForKey(g,h);a=this._insertBeforeOrAppend(a,y)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let h=a;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const h=s._prev;return a._next=s,a._prev=h,s._prev=a,h&&(h._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const g=this._records.get(s);this._maybeAddToChanges(g,a);const y=g._prev,E=g._next;return y&&(y._next=E),E&&(E._prev=y),g._next=null,g._prev=null,g}const h=new AD(s);return this._records.set(s,h),h.currentValue=a,this._addToAdditions(h),h}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(h=>a(s[h],h))}}class AD{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function hE(){return new Kb([new TD])}let Kb=(()=>{class r{static#e=this.\u0275prov=Ae({token:r,providedIn:"root",factory:hE});constructor(a){this.factories=a}static create(a,h){if(null!=h){const g=h.factories.slice();a=a.concat(g)}return new r(a)}static extend(a){return{provide:r,useFactory:h=>r.create(a,h||hE()),deps:[[r,new Tp,new af]]}}find(a){const h=this.factories.find(g=>g.supports(a));if(null!=h)return h;throw new Ge(901,!1)}}return r})();function fE(){return new Yb([new SD])}let Yb=(()=>{class r{static#e=this.\u0275prov=Ae({token:r,providedIn:"root",factory:fE});constructor(a){this.factories=a}static create(a,h){if(h){const g=h.factories.slice();a=a.concat(g)}return new r(a)}static extend(a){return{provide:r,useFactory:h=>r.create(a,h||fE()),deps:[[r,new Tp,new af]]}}find(a){const h=this.factories.find(g=>g.supports(a));if(h)return h;throw new Ge(901,!1)}}return r})();const Qb=sE(null,"core",[]);let ND=(()=>{class r{constructor(a){}static#e=this.\u0275fac=function(h){return new(h||r)(Pn(Vc))};static#t=this.\u0275mod=ro({type:r});static#n=this.\u0275inj=Ke({})}return r})();function xD(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}function RS(r,s){const a=Yn(r),h=s.elementInjector||_h();return new Kn(a).create(h,s.projectableNodes,s.hostElement,s.environmentInjector)}function Bg(r){const s=Yn(r);if(!s)return null;const a=new Kn(s);return{get selector(){return a.selector},get type(){return a.componentType},get inputs(){return a.inputs},get outputs(){return a.outputs},get ngContentSelectors(){return a.ngContentSelectors},get isStandalone(){return s.standalone},get isSignal(){return s.signals}}}},7592:(Ut,Be,K)=>{K.d(Be,{C6:()=>Ee,Jn:()=>Tr,KN:()=>gt,Mq:()=>Ae,Xd:()=>kt,ZF:()=>br,qX:()=>Gt});var b=K(5861),ne=K(6820),u=K(7879),be=K(229),ue=K(1878);class fe{constructor(Ce){this.container=Ce}getPlatformInfoString(){return this.container.getProviders().map(Qe=>{if(function Te(it){const Ce=it.getComponent();return"VERSION"===Ce?.type}(Qe)){const Et=Qe.getImmediate();return`${Et.library}/${Et.version}`}return null}).filter(Qe=>Qe).join(" ")}}const Ve="@firebase/app",ae=new u.Yd("@firebase/app"),ke="[DEFAULT]",je={[Ve]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},et=new Map,He=new Map;function rt(it,Ce){try{it.container.addComponent(Ce)}catch(Qe){ae.debug(`Component ${Ce.name} failed to register with FirebaseApp ${it.name}`,Qe)}}function kt(it){const Ce=it.name;if(He.has(Ce))return ae.debug(`There were multiple attempts to register component ${Ce}.`),!1;He.set(Ce,it);for(const Qe of et.values())rt(Qe,it);return!0}function Gt(it,Ce){const Qe=it.container.getProvider("heartbeat").getImmediate({optional:!0});return Qe&&Qe.triggerHeartbeat(),it.container.getProvider(Ce)}const St=new be.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class jn{constructor(Ce,Qe,Et){this._isDeleted=!1,this._options=Object.assign({},Ce),this._config=Object.assign({},Qe),this._name=Qe.name,this._automaticDataCollectionEnabled=Qe.automaticDataCollectionEnabled,this._container=Et,this.container.addComponent(new ne.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ce){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ce}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ce){this._isDeleted=Ce}checkDestroyed(){if(this.isDeleted)throw St.create("app-deleted",{appName:this._name})}}const Tr="9.23.0";function br(it,Ce={}){let Qe=it;"object"!=typeof Ce&&(Ce={name:Ce});const Et=Object.assign({name:ke,automaticDataCollectionEnabled:!1},Ce),$t=Et.name;if("string"!=typeof $t||!$t)throw St.create("bad-app-name",{appName:String($t)});if(Qe||(Qe=(0,be.aH)()),!Qe)throw St.create("no-options");const Zt=et.get($t);if(Zt){if((0,be.vZ)(Qe,Zt.options)&&(0,be.vZ)(Et,Zt.config))return Zt;throw St.create("duplicate-app",{appName:$t})}const Wn=new ne.H0($t);for(const B of He.values())Wn.addComponent(B);const Q=new jn(Qe,Et,Wn);return et.set($t,Q),Q}function Ae(it=ke){const Ce=et.get(it);if(!Ce&&it===ke&&(0,be.aH)())return br();if(!Ce)throw St.create("no-app",{appName:it});return Ce}function Ee(){return Array.from(et.values())}function gt(it,Ce,Qe){var Et;let $t=null!==(Et=je[it])&&void 0!==Et?Et:it;Qe&&($t+=`-${Qe}`);const Zt=$t.match(/\s|\//),Wn=Ce.match(/\s|\//);if(Zt||Wn){const Q=[`Unable to register library "${$t}" with version "${Ce}":`];return Zt&&Q.push(`library name "${$t}" contains illegal characters (whitespace or "/")`),Zt&&Wn&&Q.push("and"),Wn&&Q.push(`version name "${Ce}" contains illegal characters (whitespace or "/")`),void ae.warn(Q.join(" "))}kt(new ne.wA(`${$t}-version`,()=>({library:$t,version:Ce}),"VERSION"))}const pn="firebase-heartbeat-database",In=1,Yt="firebase-heartbeat-store";let cn=null;function yr(){return cn||(cn=(0,ue.X3)(pn,In,{upgrade:(it,Ce)=>{0===Ce&&it.createObjectStore(Yt)}}).catch(it=>{throw St.create("idb-open",{originalErrorMessage:it.message})})),cn}function Dr(){return(Dr=(0,b.Z)(function*(it){try{return yield(yield yr()).transaction(Yt).objectStore(Yt).get(or(it))}catch(Ce){if(Ce instanceof be.ZR)ae.warn(Ce.message);else{const Qe=St.create("idb-get",{originalErrorMessage:Ce?.message});ae.warn(Qe.message)}}})).apply(this,arguments)}function Cr(it,Ce){return vn.apply(this,arguments)}function vn(){return(vn=(0,b.Z)(function*(it,Ce){try{const Et=(yield yr()).transaction(Yt,"readwrite");yield Et.objectStore(Yt).put(Ce,or(it)),yield Et.done}catch(Qe){if(Qe instanceof be.ZR)ae.warn(Qe.message);else{const Et=St.create("idb-set",{originalErrorMessage:Qe?.message});ae.warn(Et.message)}}})).apply(this,arguments)}function or(it){return`${it.name}!${it.options.appId}`}class Ln{constructor(Ce){this.container=Ce,this._heartbeatsCache=null;const Qe=this.container.getProvider("app").getImmediate();this._storage=new Yi(Qe),this._heartbeatsCachePromise=this._storage.read().then(Et=>(this._heartbeatsCache=Et,Et))}triggerHeartbeat(){var Ce=this;return(0,b.Z)(function*(){const Et=Ce.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),$t=ni();if(null===Ce._heartbeatsCache&&(Ce._heartbeatsCache=yield Ce._heartbeatsCachePromise),Ce._heartbeatsCache.lastSentHeartbeatDate!==$t&&!Ce._heartbeatsCache.heartbeats.some(Zt=>Zt.date===$t))return Ce._heartbeatsCache.heartbeats.push({date:$t,agent:Et}),Ce._heartbeatsCache.heartbeats=Ce._heartbeatsCache.heartbeats.filter(Zt=>{const Wn=new Date(Zt.date).valueOf();return Date.now()-Wn<=2592e6}),Ce._storage.overwrite(Ce._heartbeatsCache)})()}getHeartbeatsHeader(){var Ce=this;return(0,b.Z)(function*(){if(null===Ce._heartbeatsCache&&(yield Ce._heartbeatsCachePromise),null===Ce._heartbeatsCache||0===Ce._heartbeatsCache.heartbeats.length)return"";const Qe=ni(),{heartbeatsToSend:Et,unsentEntries:$t}=function qt(it,Ce=1024){const Qe=[];let Et=it.slice();for(const $t of it){const Zt=Qe.find(Wn=>Wn.agent===$t.agent);if(Zt){if(Zt.dates.push($t.date),Zr(Qe)>Ce){Zt.dates.pop();break}}else if(Qe.push({agent:$t.agent,dates:[$t.date]}),Zr(Qe)>Ce){Qe.pop();break}Et=Et.slice(1)}return{heartbeatsToSend:Qe,unsentEntries:Et}}(Ce._heartbeatsCache.heartbeats),Zt=(0,be.L)(JSON.stringify({version:2,heartbeats:Et}));return Ce._heartbeatsCache.lastSentHeartbeatDate=Qe,$t.length>0?(Ce._heartbeatsCache.heartbeats=$t,yield Ce._storage.overwrite(Ce._heartbeatsCache)):(Ce._heartbeatsCache.heartbeats=[],Ce._storage.overwrite(Ce._heartbeatsCache)),Zt})()}}function ni(){return(new Date).toISOString().substring(0,10)}class Yi{constructor(Ce){this.app=Ce,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,b.Z)(function*(){return!!(0,be.hl)()&&(0,be.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ce=this;return(0,b.Z)(function*(){return(yield Ce._canUseIndexedDBPromise)&&(yield function Xt(it){return Dr.apply(this,arguments)}(Ce.app))||{heartbeats:[]}})()}overwrite(Ce){var Qe=this;return(0,b.Z)(function*(){var Et;if(yield Qe._canUseIndexedDBPromise){const Zt=yield Qe.read();return Cr(Qe.app,{lastSentHeartbeatDate:null!==(Et=Ce.lastSentHeartbeatDate)&&void 0!==Et?Et:Zt.lastSentHeartbeatDate,heartbeats:Ce.heartbeats})}})()}add(Ce){var Qe=this;return(0,b.Z)(function*(){var Et;if(yield Qe._canUseIndexedDBPromise){const Zt=yield Qe.read();return Cr(Qe.app,{lastSentHeartbeatDate:null!==(Et=Ce.lastSentHeartbeatDate)&&void 0!==Et?Et:Zt.lastSentHeartbeatDate,heartbeats:[...Zt.heartbeats,...Ce.heartbeats]})}})()}}function Zr(it){return(0,be.L)(JSON.stringify({version:2,heartbeats:it})).length}!function jr(it){kt(new ne.wA("platform-logger",Ce=>new fe(Ce),"PRIVATE")),kt(new ne.wA("heartbeat",Ce=>new Ln(Ce),"PRIVATE")),gt(Ve,"0.9.13",it),gt(Ve,"0.9.13","esm2017"),gt("fire-js","")}("")},6820:(Ut,Be,K)=>{K.d(Be,{H0:()=>Ve,wA:()=>u});var b=K(5861),ne=K(229);class u{constructor(ae,de,Me){this.name=ae,this.instanceFactory=de,this.type=Me,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ae){return this.instantiationMode=ae,this}setMultipleInstances(ae){return this.multipleInstances=ae,this}setServiceProps(ae){return this.serviceProps=ae,this}setInstanceCreatedCallback(ae){return this.onInstanceCreated=ae,this}}const be="[DEFAULT]";class ue{constructor(ae,de){this.name=ae,this.container=de,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ae){const de=this.normalizeInstanceIdentifier(ae);if(!this.instancesDeferred.has(de)){const Me=new ne.BH;if(this.instancesDeferred.set(de,Me),this.isInitialized(de)||this.shouldAutoInitialize())try{const Se=this.getOrInitializeService({instanceIdentifier:de});Se&&Me.resolve(Se)}catch{}}return this.instancesDeferred.get(de).promise}getImmediate(ae){var de;const Me=this.normalizeInstanceIdentifier(ae?.identifier),Se=null!==(de=ae?.optional)&&void 0!==de&&de;if(!this.isInitialized(Me)&&!this.shouldAutoInitialize()){if(Se)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Me})}catch(xe){if(Se)return null;throw xe}}getComponent(){return this.component}setComponent(ae){if(ae.name!==this.name)throw Error(`Mismatching Component ${ae.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ae,this.shouldAutoInitialize()){if(function Te(Oe){return"EAGER"===Oe.instantiationMode}(ae))try{this.getOrInitializeService({instanceIdentifier:be})}catch{}for(const[de,Me]of this.instancesDeferred.entries()){const Se=this.normalizeInstanceIdentifier(de);try{const xe=this.getOrInitializeService({instanceIdentifier:Se});Me.resolve(xe)}catch{}}}}clearInstance(ae=be){this.instancesDeferred.delete(ae),this.instancesOptions.delete(ae),this.instances.delete(ae)}delete(){var ae=this;return(0,b.Z)(function*(){const de=Array.from(ae.instances.values());yield Promise.all([...de.filter(Me=>"INTERNAL"in Me).map(Me=>Me.INTERNAL.delete()),...de.filter(Me=>"_delete"in Me).map(Me=>Me._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ae=be){return this.instances.has(ae)}getOptions(ae=be){return this.instancesOptions.get(ae)||{}}initialize(ae={}){const{options:de={}}=ae,Me=this.normalizeInstanceIdentifier(ae.instanceIdentifier);if(this.isInitialized(Me))throw Error(`${this.name}(${Me}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Se=this.getOrInitializeService({instanceIdentifier:Me,options:de});for(const[xe,Ze]of this.instancesDeferred.entries())Me===this.normalizeInstanceIdentifier(xe)&&Ze.resolve(Se);return Se}onInit(ae,de){var Me;const Se=this.normalizeInstanceIdentifier(de),xe=null!==(Me=this.onInitCallbacks.get(Se))&&void 0!==Me?Me:new Set;xe.add(ae),this.onInitCallbacks.set(Se,xe);const Ze=this.instances.get(Se);return Ze&&ae(Ze,Se),()=>{xe.delete(ae)}}invokeOnInitCallbacks(ae,de){const Me=this.onInitCallbacks.get(de);if(Me)for(const Se of Me)try{Se(ae,de)}catch{}}getOrInitializeService({instanceIdentifier:ae,options:de={}}){let Me=this.instances.get(ae);if(!Me&&this.component&&(Me=this.component.instanceFactory(this.container,{instanceIdentifier:(Oe=ae,Oe===be?void 0:Oe),options:de}),this.instances.set(ae,Me),this.instancesOptions.set(ae,de),this.invokeOnInitCallbacks(Me,ae),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ae,Me)}catch{}var Oe;return Me||null}normalizeInstanceIdentifier(ae=be){return this.component?this.component.multipleInstances?ae:be:ae}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ve{constructor(ae){this.name=ae,this.providers=new Map}addComponent(ae){const de=this.getProvider(ae.name);if(de.isComponentSet())throw new Error(`Component ${ae.name} has already been registered with ${this.name}`);de.setComponent(ae)}addOrOverwriteComponent(ae){this.getProvider(ae.name).isComponentSet()&&this.providers.delete(ae.name),this.addComponent(ae)}getProvider(ae){if(this.providers.has(ae))return this.providers.get(ae);const de=new ue(ae,this);return this.providers.set(ae,de),de}getProviders(){return Array.from(this.providers.values())}}},4097:(Ut,Be,K)=>{K.d(Be,{C6:()=>b.C6,KN:()=>b.KN,Mq:()=>b.Mq,ZF:()=>b.ZF});var b=K(7592);(0,b.KN)("firebase","9.23.0","app")},95:(Ut,Be,K)=>{K.d(Be,{Wl:()=>Pt,Fj:()=>ft,CE:()=>Vt,qu:()=>oa,NI:()=>$r,u:()=>pi,cw:()=>on,sg:()=>fi,x0:()=>Qi,u5:()=>Wa,wO:()=>oo,Cf:()=>yt,JU:()=>Ze,JJ:()=>Yt,JL:()=>cn,YN:()=>kr,wV:()=>ro,UX:()=>yu,Q7:()=>Gn,EJ:()=>Nn,kI:()=>Xe,_Y:()=>ta,Kr:()=>Fr});var b=K(9468),ne=K(6814),u=K(2459),be=K(5592),ue=K(7453),fe=K(4829),Te=K(9940),Ve=K(8251),Oe=K(7400),ae=K(2714),Me=K(7398);let Se=(()=>{class q{constructor(U,ce){this._renderer=U,this._elementRef=ce,this.onChange=De=>{},this.onTouched=()=>{}}setProperty(U,ce){this._renderer.setProperty(this._elementRef.nativeElement,U,ce)}registerOnTouched(U){this.onTouched=U}registerOnChange(U){this.onChange=U}setDisabledState(U){this.setProperty("disabled",U)}static#e=this.\u0275fac=function(ce){return new(ce||q)(b.Y36(b.Qsj),b.Y36(b.SBq))};static#t=this.\u0275dir=b.lG2({type:q})}return q})(),xe=(()=>{class q extends Se{static#e=this.\u0275fac=function(){let U;return function(De){return(U||(U=b.n5z(q)))(De||q)}}();static#t=this.\u0275dir=b.lG2({type:q,features:[b.qOj]})}return q})();const Ze=new b.OlP("NgValueAccessor"),It={provide:Ze,useExisting:(0,b.Gpc)(()=>Pt),multi:!0};let Pt=(()=>{class q extends xe{writeValue(U){this.setProperty("checked",U)}static#e=this.\u0275fac=function(){let U;return function(De){return(U||(U=b.n5z(q)))(De||q)}}();static#t=this.\u0275dir=b.lG2({type:q,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(ce,De){1&ce&&b.NdJ("change",function(Un){return De.onChange(Un.target.checked)})("blur",function(){return De.onTouched()})},features:[b._Bn([It]),b.qOj]})}return q})();const Ot={provide:Ze,useExisting:(0,b.Gpc)(()=>ft),multi:!0},Nt=new b.OlP("CompositionEventMode");let ft=(()=>{class q extends Se{constructor(U,ce,De){super(U,ce),this._compositionMode=De,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Tn(){const q=(0,ne.q)()?(0,ne.q)().getUserAgent():"";return/android (\d+)/.test(q.toLowerCase())}())}writeValue(U){this.setProperty("value",U??"")}_handleInput(U){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(U)}_compositionStart(){this._composing=!0}_compositionEnd(U){this._composing=!1,this._compositionMode&&this.onChange(U)}static#e=this.\u0275fac=function(ce){return new(ce||q)(b.Y36(b.Qsj),b.Y36(b.SBq),b.Y36(Nt,8))};static#t=this.\u0275dir=b.lG2({type:q,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(ce,De){1&ce&&b.NdJ("input",function(Un){return De._handleInput(Un.target.value)})("blur",function(){return De.onTouched()})("compositionstart",function(){return De._compositionStart()})("compositionend",function(Un){return De._compositionEnd(Un.target.value)})},features:[b._Bn([Ot]),b.qOj]})}return q})();function at(q){return null==q||("string"==typeof q||Array.isArray(q))&&0===q.length}function vt(q){return null!=q&&"number"==typeof q.length}const yt=new b.OlP("NgValidators"),Ge=new b.OlP("NgAsyncValidators"),we=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Xe{static min(J){return function _t(q){return J=>{if(at(J.value)||at(q))return null;const U=parseFloat(J.value);return!isNaN(U)&&U<q?{min:{min:q,actual:J.value}}:null}}(J)}static max(J){return function xn(q){return J=>{if(at(J.value)||at(q))return null;const U=parseFloat(J.value);return!isNaN(U)&&U>q?{max:{max:q,actual:J.value}}:null}}(J)}static required(J){return dt(J)}static requiredTrue(J){return function _n(q){return!0===q.value?null:{required:!0}}(J)}static email(J){return function Dn(q){return at(q.value)||we.test(q.value)?null:{email:!0}}(J)}static minLength(J){return Hn(J)}static maxLength(J){return function rr(q){return J=>vt(J.value)&&J.value.length>q?{maxlength:{requiredLength:q,actualLength:J.value.length}}:null}(J)}static pattern(J){return function _r(q){if(!q)return ke;let J,U;return"string"==typeof q?(U="","^"!==q.charAt(0)&&(U+="^"),U+=q,"$"!==q.charAt(q.length-1)&&(U+="$"),J=new RegExp(U)):(U=q.toString(),J=q),ce=>{if(at(ce.value))return null;const De=ce.value;return J.test(De)?null:{pattern:{requiredPattern:U,actualValue:De}}}}(J)}static nullValidator(J){return null}static compose(J){return Gt(J)}static composeAsync(J){return fn(J)}}function dt(q){return at(q.value)?{required:!0}:null}function Hn(q){return J=>at(J.value)||!vt(J.value)?null:J.value.length<q?{minlength:{requiredLength:q,actualLength:J.value.length}}:null}function ke(q){return null}function je(q){return null!=q}function et(q){return(0,b.QGY)(q)?(0,u.D)(q):q}function He(q){let J={};return q.forEach(U=>{J=null!=U?{...J,...U}:J}),0===Object.keys(J).length?null:J}function rt(q,J){return J.map(U=>U(q))}function kt(q){return q.map(J=>function wt(q){return!q.validate}(J)?J:U=>J.validate(U))}function Gt(q){if(!q)return null;const J=q.filter(je);return 0==J.length?null:function(U){return He(rt(U,J))}}function hn(q){return null!=q?Gt(kt(q)):null}function fn(q){if(!q)return null;const J=q.filter(je);return 0==J.length?null:function(U){return function de(...q){const J=(0,Te.jO)(q),{args:U,keys:ce}=(0,ue.D)(q),De=new be.y(en=>{const{length:Un}=U;if(!Un)return void en.complete();const $i=new Array(Un);let Ns=Un,zi=Un;for(let ms=0;ms<Un;ms++){let qa=!1;(0,fe.Xf)(U[ms]).subscribe((0,Ve.x)(en,Za=>{qa||(qa=!0,zi--),$i[ms]=Za},()=>Ns--,void 0,()=>{(!Ns||!qa)&&(zi||en.next(ce?(0,ae.n)(ce,$i):$i),en.complete())}))}});return J?De.pipe((0,Oe.Z)(J)):De}(rt(U,J).map(et)).pipe((0,Me.U)(He))}}function yn(q){return null!=q?fn(kt(q)):null}function St(q,J){return null===q?[J]:Array.isArray(q)?[...q,J]:[q,J]}function jn(q){return q._rawValidators}function Tr(q){return q._rawAsyncValidators}function br(q){return q?Array.isArray(q)?q:[q]:[]}function Ae(q,J){return Array.isArray(q)?q.includes(J):q===J}function Ee(q,J){const U=br(J);return br(q).forEach(De=>{Ae(U,De)||U.push(De)}),U}function Ke(q,J){return br(J).filter(U=>!Ae(q,U))}class ut{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(J){this._rawValidators=J||[],this._composedValidatorFn=hn(this._rawValidators)}_setAsyncValidators(J){this._rawAsyncValidators=J||[],this._composedAsyncValidatorFn=yn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(J){this._onDestroyCallbacks.push(J)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(J=>J()),this._onDestroyCallbacks=[]}reset(J=void 0){this.control&&this.control.reset(J)}hasError(J,U){return!!this.control&&this.control.hasError(J,U)}getError(J,U){return this.control?this.control.getError(J,U):null}}class gt extends ut{get formDirective(){return null}get path(){return null}}class Rt extends ut{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class wr{constructor(J){this._cd=J}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Yt=(()=>{class q extends wr{constructor(U){super(U)}static#e=this.\u0275fac=function(ce){return new(ce||q)(b.Y36(Rt,2))};static#t=this.\u0275dir=b.lG2({type:q,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(ce,De){2&ce&&b.ekj("ng-untouched",De.isUntouched)("ng-touched",De.isTouched)("ng-pristine",De.isPristine)("ng-dirty",De.isDirty)("ng-valid",De.isValid)("ng-invalid",De.isInvalid)("ng-pending",De.isPending)},features:[b.qOj]})}return q})(),cn=(()=>{class q extends wr{constructor(U){super(U)}static#e=this.\u0275fac=function(ce){return new(ce||q)(b.Y36(gt,10))};static#t=this.\u0275dir=b.lG2({type:q,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(ce,De){2&ce&&b.ekj("ng-untouched",De.isUntouched)("ng-touched",De.isTouched)("ng-pristine",De.isPristine)("ng-dirty",De.isDirty)("ng-valid",De.isValid)("ng-invalid",De.isInvalid)("ng-pending",De.isPending)("ng-submitted",De.isSubmitted)},features:[b.qOj]})}return q})();const Et="VALID",$t="INVALID",Zt="PENDING",Wn="DISABLED";function Q(q){return($(q)?q.validators:q)||null}function G(q,J){return($(J)?J.asyncValidators:q)||null}function $(q){return null!=q&&!Array.isArray(q)&&"object"==typeof q}function Ie(q,J,U){const ce=q.controls;if(!(J?Object.keys(ce):ce).length)throw new b.vHH(1e3,"");if(!ce[U])throw new b.vHH(1001,"")}function We(q,J,U){q._forEachChild((ce,De)=>{if(void 0===U[De])throw new b.vHH(1002,"")})}class Tt{constructor(J,U){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(J),this._assignAsyncValidators(U)}get validator(){return this._composedValidatorFn}set validator(J){this._rawValidators=this._composedValidatorFn=J}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(J){this._rawAsyncValidators=this._composedAsyncValidatorFn=J}get parent(){return this._parent}get valid(){return this.status===Et}get invalid(){return this.status===$t}get pending(){return this.status==Zt}get disabled(){return this.status===Wn}get enabled(){return this.status!==Wn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(J){this._assignValidators(J)}setAsyncValidators(J){this._assignAsyncValidators(J)}addValidators(J){this.setValidators(Ee(J,this._rawValidators))}addAsyncValidators(J){this.setAsyncValidators(Ee(J,this._rawAsyncValidators))}removeValidators(J){this.setValidators(Ke(J,this._rawValidators))}removeAsyncValidators(J){this.setAsyncValidators(Ke(J,this._rawAsyncValidators))}hasValidator(J){return Ae(this._rawValidators,J)}hasAsyncValidator(J){return Ae(this._rawAsyncValidators,J)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(J={}){this.touched=!0,this._parent&&!J.onlySelf&&this._parent.markAsTouched(J)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(J=>J.markAllAsTouched())}markAsUntouched(J={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(U=>{U.markAsUntouched({onlySelf:!0})}),this._parent&&!J.onlySelf&&this._parent._updateTouched(J)}markAsDirty(J={}){this.pristine=!1,this._parent&&!J.onlySelf&&this._parent.markAsDirty(J)}markAsPristine(J={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(U=>{U.markAsPristine({onlySelf:!0})}),this._parent&&!J.onlySelf&&this._parent._updatePristine(J)}markAsPending(J={}){this.status=Zt,!1!==J.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!J.onlySelf&&this._parent.markAsPending(J)}disable(J={}){const U=this._parentMarkedDirty(J.onlySelf);this.status=Wn,this.errors=null,this._forEachChild(ce=>{ce.disable({...J,onlySelf:!0})}),this._updateValue(),!1!==J.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...J,skipPristineCheck:U}),this._onDisabledChange.forEach(ce=>ce(!0))}enable(J={}){const U=this._parentMarkedDirty(J.onlySelf);this.status=Et,this._forEachChild(ce=>{ce.enable({...J,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:J.emitEvent}),this._updateAncestors({...J,skipPristineCheck:U}),this._onDisabledChange.forEach(ce=>ce(!1))}_updateAncestors(J){this._parent&&!J.onlySelf&&(this._parent.updateValueAndValidity(J),J.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(J){this._parent=J}getRawValue(){return this.value}updateValueAndValidity(J={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Et||this.status===Zt)&&this._runAsyncValidator(J.emitEvent)),!1!==J.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!J.onlySelf&&this._parent.updateValueAndValidity(J)}_updateTreeValidity(J={emitEvent:!0}){this._forEachChild(U=>U._updateTreeValidity(J)),this.updateValueAndValidity({onlySelf:!0,emitEvent:J.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Wn:Et}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(J){if(this.asyncValidator){this.status=Zt,this._hasOwnPendingAsyncValidator=!0;const U=et(this.asyncValidator(this));this._asyncValidationSubscription=U.subscribe(ce=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ce,{emitEvent:J})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(J,U={}){this.errors=J,this._updateControlsErrors(!1!==U.emitEvent)}get(J){let U=J;return null==U||(Array.isArray(U)||(U=U.split(".")),0===U.length)?null:U.reduce((ce,De)=>ce&&ce._find(De),this)}getError(J,U){const ce=U?this.get(U):this;return ce&&ce.errors?ce.errors[J]:null}hasError(J,U){return!!this.getError(J,U)}get root(){let J=this;for(;J._parent;)J=J._parent;return J}_updateControlsErrors(J){this.status=this._calculateStatus(),J&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(J)}_initObservables(){this.valueChanges=new b.vpe,this.statusChanges=new b.vpe}_calculateStatus(){return this._allControlsDisabled()?Wn:this.errors?$t:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Zt)?Zt:this._anyControlsHaveStatus($t)?$t:Et}_anyControlsHaveStatus(J){return this._anyControls(U=>U.status===J)}_anyControlsDirty(){return this._anyControls(J=>J.dirty)}_anyControlsTouched(){return this._anyControls(J=>J.touched)}_updatePristine(J={}){this.pristine=!this._anyControlsDirty(),this._parent&&!J.onlySelf&&this._parent._updatePristine(J)}_updateTouched(J={}){this.touched=this._anyControlsTouched(),this._parent&&!J.onlySelf&&this._parent._updateTouched(J)}_registerOnCollectionChange(J){this._onCollectionChange=J}_setUpdateStrategy(J){$(J)&&null!=J.updateOn&&(this._updateOn=J.updateOn)}_parentMarkedDirty(J){return!J&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(J){return null}_assignValidators(J){this._rawValidators=Array.isArray(J)?J.slice():J,this._composedValidatorFn=function B(q){return Array.isArray(q)?hn(q):q||null}(this._rawValidators)}_assignAsyncValidators(J){this._rawAsyncValidators=Array.isArray(J)?J.slice():J,this._composedAsyncValidatorFn=function W(q){return Array.isArray(q)?yn(q):q||null}(this._rawAsyncValidators)}}class on extends Tt{constructor(J,U,ce){super(Q(U),G(ce,U)),this.controls=J,this._initObservables(),this._setUpdateStrategy(U),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(J,U){return this.controls[J]?this.controls[J]:(this.controls[J]=U,U.setParent(this),U._registerOnCollectionChange(this._onCollectionChange),U)}addControl(J,U,ce={}){this.registerControl(J,U),this.updateValueAndValidity({emitEvent:ce.emitEvent}),this._onCollectionChange()}removeControl(J,U={}){this.controls[J]&&this.controls[J]._registerOnCollectionChange(()=>{}),delete this.controls[J],this.updateValueAndValidity({emitEvent:U.emitEvent}),this._onCollectionChange()}setControl(J,U,ce={}){this.controls[J]&&this.controls[J]._registerOnCollectionChange(()=>{}),delete this.controls[J],U&&this.registerControl(J,U),this.updateValueAndValidity({emitEvent:ce.emitEvent}),this._onCollectionChange()}contains(J){return this.controls.hasOwnProperty(J)&&this.controls[J].enabled}setValue(J,U={}){We(this,0,J),Object.keys(J).forEach(ce=>{Ie(this,!0,ce),this.controls[ce].setValue(J[ce],{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U)}patchValue(J,U={}){null!=J&&(Object.keys(J).forEach(ce=>{const De=this.controls[ce];De&&De.patchValue(J[ce],{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U))}reset(J={},U={}){this._forEachChild((ce,De)=>{ce.reset(J?J[De]:null,{onlySelf:!0,emitEvent:U.emitEvent})}),this._updatePristine(U),this._updateTouched(U),this.updateValueAndValidity(U)}getRawValue(){return this._reduceChildren({},(J,U,ce)=>(J[ce]=U.getRawValue(),J))}_syncPendingControls(){let J=this._reduceChildren(!1,(U,ce)=>!!ce._syncPendingControls()||U);return J&&this.updateValueAndValidity({onlySelf:!0}),J}_forEachChild(J){Object.keys(this.controls).forEach(U=>{const ce=this.controls[U];ce&&J(ce,U)})}_setUpControls(){this._forEachChild(J=>{J.setParent(this),J._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(J){for(const[U,ce]of Object.entries(this.controls))if(this.contains(U)&&J(ce))return!0;return!1}_reduceValue(){return this._reduceChildren({},(U,ce,De)=>((ce.enabled||this.disabled)&&(U[De]=ce.value),U))}_reduceChildren(J,U){let ce=J;return this._forEachChild((De,en)=>{ce=U(ce,De,en)}),ce}_allControlsDisabled(){for(const J of Object.keys(this.controls))if(this.controls[J].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(J){return this.controls.hasOwnProperty(J)?this.controls[J]:null}}class Qt extends on{}const Kr=new b.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Xn}),Xn="always";function fs(q,J){return[...J.path,q]}function Bo(q,J,U=Xn){Ls(q,J),J.valueAccessor.writeValue(q.value),(q.disabled||"always"===U)&&J.valueAccessor.setDisabledState?.(q.disabled),function po(q,J){J.valueAccessor.registerOnChange(U=>{q._pendingValue=U,q._pendingChange=!0,q._pendingDirty=!0,"change"===q.updateOn&&Hi(q,J)})}(q,J),function tr(q,J){const U=(ce,De)=>{J.valueAccessor.writeValue(ce),De&&J.viewToModelUpdate(ce)};q.registerOnChange(U),J._registerOnDestroy(()=>{q._unregisterOnChange(U)})}(q,J),function Vi(q,J){J.valueAccessor.registerOnTouched(()=>{q._pendingTouched=!0,"blur"===q.updateOn&&q._pendingChange&&Hi(q,J),"submit"!==q.updateOn&&q.markAsTouched()})}(q,J),function Ha(q,J){if(J.valueAccessor.setDisabledState){const U=ce=>{J.valueAccessor.setDisabledState(ce)};q.registerOnDisabledChange(U),J._registerOnDestroy(()=>{q._unregisterOnDisabledChange(U)})}}(q,J)}function ss(q,J,U=!0){const ce=()=>{};J.valueAccessor&&(J.valueAccessor.registerOnChange(ce),J.valueAccessor.registerOnTouched(ce)),Bi(q,J),q&&(J._invokeOnDestroyCallbacks(),q._registerOnCollectionChange(()=>{}))}function os(q,J){q.forEach(U=>{U.registerOnValidatorChange&&U.registerOnValidatorChange(J)})}function Ls(q,J){const U=jn(q);null!==J.validator?q.setValidators(St(U,J.validator)):"function"==typeof U&&q.setValidators([U]);const ce=Tr(q);null!==J.asyncValidator?q.setAsyncValidators(St(ce,J.asyncValidator)):"function"==typeof ce&&q.setAsyncValidators([ce]);const De=()=>q.updateValueAndValidity();os(J._rawValidators,De),os(J._rawAsyncValidators,De)}function Bi(q,J){let U=!1;if(null!==q){if(null!==J.validator){const De=jn(q);if(Array.isArray(De)&&De.length>0){const en=De.filter(Un=>Un!==J.validator);en.length!==De.length&&(U=!0,q.setValidators(en))}}if(null!==J.asyncValidator){const De=Tr(q);if(Array.isArray(De)&&De.length>0){const en=De.filter(Un=>Un!==J.asyncValidator);en.length!==De.length&&(U=!0,q.setAsyncValidators(en))}}}const ce=()=>{};return os(J._rawValidators,ce),os(J._rawAsyncValidators,ce),U}function Hi(q,J){q._pendingDirty&&q.markAsDirty(),q.setValue(q._pendingValue,{emitModelToViewChange:!1}),J.viewToModelUpdate(q._pendingValue),q._pendingChange=!1}function Vs(q,J){const U=q.indexOf(J);U>-1&&q.splice(U,1)}function va(q){return"object"==typeof q&&null!==q&&2===Object.keys(q).length&&"value"in q&&"disabled"in q}const $r=class extends Tt{constructor(J=null,U,ce){super(Q(U),G(ce,U)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(J),this._setUpdateStrategy(U),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),$(U)&&(U.nonNullable||U.initialValueIsDefault)&&(this.defaultValue=va(J)?J.value:J)}setValue(J,U={}){this.value=this._pendingValue=J,this._onChange.length&&!1!==U.emitModelToViewChange&&this._onChange.forEach(ce=>ce(this.value,!1!==U.emitViewToModelChange)),this.updateValueAndValidity(U)}patchValue(J,U={}){this.setValue(J,U)}reset(J=this.defaultValue,U={}){this._applyFormState(J),this.markAsPristine(U),this.markAsUntouched(U),this.setValue(this.value,U),this._pendingChange=!1}_updateValue(){}_anyControls(J){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(J){this._onChange.push(J)}_unregisterOnChange(J){Vs(this._onChange,J)}registerOnDisabledChange(J){this._onDisabledChange.push(J)}_unregisterOnDisabledChange(J){Vs(this._onDisabledChange,J)}_forEachChild(J){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(J){va(J)?(this.value=this._pendingValue=J.value,J.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=J}};let ea=(()=>{class q extends gt{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return fs(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=function(){let U;return function(De){return(U||(U=b.n5z(q)))(De||q)}}();static#t=this.\u0275dir=b.lG2({type:q,features:[b.qOj]})}return q})(),ta=(()=>{class q{static#e=this.\u0275fac=function(ce){return new(ce||q)};static#t=this.\u0275dir=b.lG2({type:q,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return q})();const na={provide:Ze,useExisting:(0,b.Gpc)(()=>ro),multi:!0};let ro=(()=>{class q extends xe{writeValue(U){this.setProperty("value",U??"")}registerOnChange(U){this.onChange=ce=>{U(""==ce?null:parseFloat(ce))}}static#e=this.\u0275fac=function(){let U;return function(De){return(U||(U=b.n5z(q)))(De||q)}}();static#t=this.\u0275dir=b.lG2({type:q,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(ce,De){1&ce&&b.NdJ("input",function(Un){return De.onChange(Un.target.value)})("blur",function(){return De.onTouched()})},features:[b._Bn([na]),b.qOj]})}return q})(),ja=(()=>{class q{static#e=this.\u0275fac=function(ce){return new(ce||q)};static#t=this.\u0275mod=b.oAB({type:q});static#n=this.\u0275inj=b.cJS({})}return q})();const gs=new b.OlP("NgModelWithFormControlWarning"),$a={provide:gt,useExisting:(0,b.Gpc)(()=>fi)};let fi=(()=>{class q extends gt{constructor(U,ce,De){super(),this.callSetDisabledState=De,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new b.vpe,this._setValidators(U),this._setAsyncValidators(ce)}ngOnChanges(U){this._checkFormPresent(),U.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Bi(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(U){const ce=this.form.get(U.path);return Bo(ce,U,this.callSetDisabledState),ce.updateValueAndValidity({emitEvent:!1}),this.directives.push(U),ce}getControl(U){return this.form.get(U.path)}removeControl(U){ss(U.control||null,U,!1),function _a(q,J){const U=q.indexOf(J);U>-1&&q.splice(U,1)}(this.directives,U)}addFormGroup(U){this._setUpFormContainer(U)}removeFormGroup(U){this._cleanUpFormContainer(U)}getFormGroup(U){return this.form.get(U.path)}addFormArray(U){this._setUpFormContainer(U)}removeFormArray(U){this._cleanUpFormContainer(U)}getFormArray(U){return this.form.get(U.path)}updateModel(U,ce){this.form.get(U.path).setValue(ce)}onSubmit(U){return this.submitted=!0,function Jo(q,J){q._syncPendingControls(),J.forEach(U=>{const ce=U.control;"submit"===ce.updateOn&&ce._pendingChange&&(U.viewToModelUpdate(ce._pendingValue),ce._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(U),"dialog"===U?.target?.method}onReset(){this.resetForm()}resetForm(U=void 0){this.form.reset(U),this.submitted=!1}_updateDomValue(){this.directives.forEach(U=>{const ce=U.control,De=this.form.get(U.path);ce!==De&&(ss(ce||null,U),(q=>q instanceof $r)(De)&&(Bo(De,U,this.callSetDisabledState),U.control=De))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(U){const ce=this.form.get(U.path);(function go(q,J){Ls(q,J)})(ce,U),ce.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(U){if(this.form){const ce=this.form.get(U.path);ce&&function Yo(q,J){return Bi(q,J)}(ce,U)&&ce.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ls(this.form,this),this._oldForm&&Bi(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(ce){return new(ce||q)(b.Y36(yt,10),b.Y36(Ge,10),b.Y36(Kr,8))};static#t=this.\u0275dir=b.lG2({type:q,selectors:[["","formGroup",""]],hostBindings:function(ce,De){1&ce&&b.NdJ("submit",function(Un){return De.onSubmit(Un)})("reset",function(){return De.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[b._Bn([$a]),b.qOj,b.TTD]})}return q})();const Cc={provide:gt,useExisting:(0,b.Gpc)(()=>Qi)};let Qi=(()=>{class q extends ea{constructor(U,ce,De){super(),this.name=null,this._parent=U,this._setValidators(ce),this._setAsyncValidators(De)}_checkParentType(){Mn(this._parent)}static#e=this.\u0275fac=function(ce){return new(ce||q)(b.Y36(gt,13),b.Y36(yt,10),b.Y36(Ge,10))};static#t=this.\u0275dir=b.lG2({type:q,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[b._Bn([Cc]),b.qOj]})}return q})();const dr={provide:gt,useExisting:(0,b.Gpc)(()=>Vt)};let Vt=(()=>{class q extends gt{constructor(U,ce,De){super(),this.name=null,this._parent=U,this._setValidators(ce),this._setAsyncValidators(De)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return fs(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Mn(this._parent)}static#e=this.\u0275fac=function(ce){return new(ce||q)(b.Y36(gt,13),b.Y36(yt,10),b.Y36(Ge,10))};static#t=this.\u0275dir=b.lG2({type:q,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[b._Bn([dr]),b.qOj]})}return q})();function Mn(q){return!(q instanceof Qi||q instanceof fi||q instanceof Vt)}const Ur={provide:Rt,useExisting:(0,b.Gpc)(()=>pi)};let pi=(()=>{class q extends Rt{set isDisabled(U){}static#e=this._ngModelWarningSentOnce=!1;constructor(U,ce,De,en,Un){super(),this._ngModelWarningConfig=Un,this._added=!1,this.name=null,this.update=new b.vpe,this._ngModelWarningSent=!1,this._parent=U,this._setValidators(ce),this._setAsyncValidators(De),this.valueAccessor=function mo(q,J){if(!J)return null;let U,ce,De;return Array.isArray(J),J.forEach(en=>{en.constructor===ft?U=en:function _i(q){return Object.getPrototypeOf(q.constructor)===xe}(en)?ce=en:De=en}),De||ce||U||null}(0,en)}ngOnChanges(U){this._added||this._setUpControl(),function Us(q,J){if(!q.hasOwnProperty("model"))return!1;const U=q.model;return!!U.isFirstChange()||!Object.is(J,U.currentValue)}(U,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(U){this.viewModel=U,this.update.emit(U)}get path(){return fs(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(ce){return new(ce||q)(b.Y36(gt,13),b.Y36(yt,10),b.Y36(Ge,10),b.Y36(Ze,10),b.Y36(gs,8))};static#n=this.\u0275dir=b.lG2({type:q,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[b._Bn([Ur]),b.qOj,b.TTD]})}return q})();const io={provide:Ze,useExisting:(0,b.Gpc)(()=>Nn),multi:!0};function Qr(q,J){return null==q?`${J}`:(J&&"object"==typeof J&&(J="Object"),`${q}: ${J}`.slice(0,50))}let Nn=(()=>{class q extends xe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(U){this._compareWith=U}writeValue(U){this.value=U;const De=Qr(this._getOptionId(U),U);this.setProperty("value",De)}registerOnChange(U){this.onChange=ce=>{this.value=this._getOptionValue(ce),U(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(U){for(const ce of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ce),U))return ce;return null}_getOptionValue(U){const ce=function ji(q){return q.split(":")[0]}(U);return this._optionMap.has(ce)?this._optionMap.get(ce):U}static#e=this.\u0275fac=function(){let U;return function(De){return(U||(U=b.n5z(q)))(De||q)}}();static#t=this.\u0275dir=b.lG2({type:q,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(ce,De){1&ce&&b.NdJ("change",function(Un){return De.onChange(Un.target.value)})("blur",function(){return De.onTouched()})},inputs:{compareWith:"compareWith"},features:[b._Bn([io]),b.qOj]})}return q})(),kr=(()=>{class q{constructor(U,ce,De){this._element=U,this._renderer=ce,this._select=De,this._select&&(this.id=this._select._registerOption())}set ngValue(U){null!=this._select&&(this._select._optionMap.set(this.id,U),this._setElementValue(Qr(this.id,U)),this._select.writeValue(this._select.value))}set value(U){this._setElementValue(U),this._select&&this._select.writeValue(this._select.value)}_setElementValue(U){this._renderer.setProperty(this._element.nativeElement,"value",U)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(ce){return new(ce||q)(b.Y36(b.SBq),b.Y36(b.Qsj),b.Y36(Nn,9))};static#t=this.\u0275dir=b.lG2({type:q,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return q})();const Xr={provide:Ze,useExisting:(0,b.Gpc)(()=>bo),multi:!0};function kn(q,J){return null==q?`${J}`:("string"==typeof J&&(J=`'${J}'`),J&&"object"==typeof J&&(J="Object"),`${q}: ${J}`.slice(0,50))}let bo=(()=>{class q extends xe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(U){this._compareWith=U}writeValue(U){let ce;if(this.value=U,Array.isArray(U)){const De=U.map(en=>this._getOptionId(en));ce=(en,Un)=>{en._setSelected(De.indexOf(Un.toString())>-1)}}else ce=(De,en)=>{De._setSelected(!1)};this._optionMap.forEach(ce)}registerOnChange(U){this.onChange=ce=>{const De=[],en=ce.selectedOptions;if(void 0!==en){const Un=en;for(let $i=0;$i<Un.length;$i++){const zi=this._getOptionValue(Un[$i].value);De.push(zi)}}else{const Un=ce.options;for(let $i=0;$i<Un.length;$i++){const Ns=Un[$i];if(Ns.selected){const zi=this._getOptionValue(Ns.value);De.push(zi)}}}this.value=De,U(De)}}_registerOption(U){const ce=(this._idCounter++).toString();return this._optionMap.set(ce,U),ce}_getOptionId(U){for(const ce of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ce)._value,U))return ce;return null}_getOptionValue(U){const ce=function vo(q){return q.split(":")[0]}(U);return this._optionMap.has(ce)?this._optionMap.get(ce)._value:U}static#e=this.\u0275fac=function(){let U;return function(De){return(U||(U=b.n5z(q)))(De||q)}}();static#t=this.\u0275dir=b.lG2({type:q,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(ce,De){1&ce&&b.NdJ("change",function(Un){return De.onChange(Un.target)})("blur",function(){return De.onTouched()})},inputs:{compareWith:"compareWith"},features:[b._Bn([Xr]),b.qOj]})}return q})(),Fr=(()=>{class q{constructor(U,ce,De){this._element=U,this._renderer=ce,this._select=De,this._select&&(this.id=this._select._registerOption(this))}set ngValue(U){null!=this._select&&(this._value=U,this._setElementValue(kn(this.id,U)),this._select.writeValue(this._select.value))}set value(U){this._select?(this._value=U,this._setElementValue(kn(this.id,U)),this._select.writeValue(this._select.value)):this._setElementValue(U)}_setElementValue(U){this._renderer.setProperty(this._element.nativeElement,"value",U)}_setSelected(U){this._renderer.setProperty(this._element.nativeElement,"selected",U)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(ce){return new(ce||q)(b.Y36(b.SBq),b.Y36(b.Qsj),b.Y36(bo,9))};static#t=this.\u0275dir=b.lG2({type:q,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return q})();let ri=(()=>{class q{constructor(){this._validator=ke}ngOnChanges(U){if(this.inputName in U){const ce=this.normalizeInput(U[this.inputName].currentValue);this._enabled=this.enabled(ce),this._validator=this._enabled?this.createValidator(ce):ke,this._onChange&&this._onChange()}}validate(U){return this._validator(U)}registerOnValidatorChange(U){this._onChange=U}enabled(U){return null!=U}static#e=this.\u0275fac=function(ce){return new(ce||q)};static#t=this.\u0275dir=b.lG2({type:q,features:[b.TTD]})}return q})();const Gs={provide:yt,useExisting:(0,b.Gpc)(()=>Gn),multi:!0};let Gn=(()=>{class q extends ri{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=b.VuI,this.createValidator=U=>dt}enabled(U){return U}static#e=this.\u0275fac=function(){let U;return function(De){return(U||(U=b.n5z(q)))(De||q)}}();static#t=this.\u0275dir=b.lG2({type:q,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(ce,De){2&ce&&b.uIk("required",De._enabled?"":null)},inputs:{required:"required"},features:[b._Bn([Gs]),b.qOj]})}return q})();const Br={provide:yt,useExisting:(0,b.Gpc)(()=>oo),multi:!0};let oo=(()=>{class q extends ri{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=U=>function Ji(q){return"number"==typeof q?q:parseInt(q,10)}(U),this.createValidator=U=>Hn(U)}static#e=this.\u0275fac=function(){let U;return function(De){return(U||(U=b.n5z(q)))(De||q)}}();static#t=this.\u0275dir=b.lG2({type:q,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(ce,De){2&ce&&b.uIk("minlength",De._enabled?De.minlength:null)},inputs:{minlength:"minlength"},features:[b._Bn([Br]),b.qOj]})}return q})(),Eo=(()=>{class q{static#e=this.\u0275fac=function(ce){return new(ce||q)};static#t=this.\u0275mod=b.oAB({type:q});static#n=this.\u0275inj=b.cJS({imports:[ja]})}return q})();class zs extends Tt{constructor(J,U,ce){super(Q(U),G(ce,U)),this.controls=J,this._initObservables(),this._setUpdateStrategy(U),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(J){return this.controls[this._adjustIndex(J)]}push(J,U={}){this.controls.push(J),this._registerControl(J),this.updateValueAndValidity({emitEvent:U.emitEvent}),this._onCollectionChange()}insert(J,U,ce={}){this.controls.splice(J,0,U),this._registerControl(U),this.updateValueAndValidity({emitEvent:ce.emitEvent})}removeAt(J,U={}){let ce=this._adjustIndex(J);ce<0&&(ce=0),this.controls[ce]&&this.controls[ce]._registerOnCollectionChange(()=>{}),this.controls.splice(ce,1),this.updateValueAndValidity({emitEvent:U.emitEvent})}setControl(J,U,ce={}){let De=this._adjustIndex(J);De<0&&(De=0),this.controls[De]&&this.controls[De]._registerOnCollectionChange(()=>{}),this.controls.splice(De,1),U&&(this.controls.splice(De,0,U),this._registerControl(U)),this.updateValueAndValidity({emitEvent:ce.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(J,U={}){We(this,0,J),J.forEach((ce,De)=>{Ie(this,!1,De),this.at(De).setValue(ce,{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U)}patchValue(J,U={}){null!=J&&(J.forEach((ce,De)=>{this.at(De)&&this.at(De).patchValue(ce,{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U))}reset(J=[],U={}){this._forEachChild((ce,De)=>{ce.reset(J[De],{onlySelf:!0,emitEvent:U.emitEvent})}),this._updatePristine(U),this._updateTouched(U),this.updateValueAndValidity(U)}getRawValue(){return this.controls.map(J=>J.getRawValue())}clear(J={}){this.controls.length<1||(this._forEachChild(U=>U._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:J.emitEvent}))}_adjustIndex(J){return J<0?J+this.length:J}_syncPendingControls(){let J=this.controls.reduce((U,ce)=>!!ce._syncPendingControls()||U,!1);return J&&this.updateValueAndValidity({onlySelf:!0}),J}_forEachChild(J){this.controls.forEach((U,ce)=>{J(U,ce)})}_updateValue(){this.value=this.controls.filter(J=>J.enabled||this.disabled).map(J=>J.value)}_anyControls(J){return this.controls.some(U=>U.enabled&&J(U))}_setUpControls(){this._forEachChild(J=>this._registerControl(J))}_allControlsDisabled(){for(const J of this.controls)if(J.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(J){J.setParent(this),J._registerOnCollectionChange(this._onCollectionChange)}_find(J){return this.at(J)??null}}function Ws(q){return!!q&&(void 0!==q.asyncValidators||void 0!==q.validators||void 0!==q.updateOn)}let oa=(()=>{class q{constructor(){this.useNonNullable=!1}get nonNullable(){const U=new q;return U.useNonNullable=!0,U}group(U,ce=null){const De=this._reduceControls(U);let en={};return Ws(ce)?en=ce:null!==ce&&(en.validators=ce.validator,en.asyncValidators=ce.asyncValidator),new on(De,en)}record(U,ce=null){const De=this._reduceControls(U);return new Qt(De,ce)}control(U,ce,De){let en={};return this.useNonNullable?(Ws(ce)?en=ce:(en.validators=ce,en.asyncValidators=De),new $r(U,{...en,nonNullable:!0})):new $r(U,ce,De)}array(U,ce,De){const en=U.map(Un=>this._createControl(Un));return new zs(en,ce,De)}_reduceControls(U){const ce={};return Object.keys(U).forEach(De=>{ce[De]=this._createControl(U[De])}),ce}_createControl(U){return U instanceof $r||U instanceof Tt?U:Array.isArray(U)?this.control(U[0],U.length>1?U[1]:null,U.length>2?U[2]:null):this.control(U)}static#e=this.\u0275fac=function(ce){return new(ce||q)};static#t=this.\u0275prov=b.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"})}return q})(),Wa=(()=>{class q{static withConfig(U){return{ngModule:q,providers:[{provide:Kr,useValue:U.callSetDisabledState??Xn}]}}static#e=this.\u0275fac=function(ce){return new(ce||q)};static#t=this.\u0275mod=b.oAB({type:q});static#n=this.\u0275inj=b.cJS({imports:[Eo]})}return q})(),yu=(()=>{class q{static withConfig(U){return{ngModule:q,providers:[{provide:gs,useValue:U.warnOnNgModelWithFormControl??"always"},{provide:Kr,useValue:U.callSetDisabledState??Xn}]}}static#e=this.\u0275fac=function(ce){return new(ce||q)};static#t=this.\u0275mod=b.oAB({type:q});static#n=this.\u0275inj=b.cJS({imports:[Eo]})}return q})()},2614:()=>{const Ut=":";const jn=function(Ae,...Ee){if(jn.translate){const ut=jn.translate(Ae,Ee);Ae=ut[0],Ee=ut[1]}let Ke=br(Ae[0],Ae.raw[0]);for(let ut=1;ut<Ae.length;ut++)Ke+=Ee[ut-1]+br(Ae[ut],Ae.raw[ut]);return Ke},Tr=":";function br(Ae,Ee){return Ee.charAt(0)===Tr?Ae.substring(function je(Ae,Ee){for(let Ke=1,ut=1;Ke<Ae.length;Ke++,ut++)if("\\"===Ee[ut])ut++;else if(Ae[Ke]===Ut)return Ke;throw new Error(`Unterminated $localize metadata block in "${Ee}".`)}(Ae,Ee)+1):Ae}globalThis.$localize=jn},6593:(Ut,Be,K)=>{K.d(Be,{Dx:()=>Rt,H7:()=>Yi,b2:()=>Ae,q6:()=>St,se:()=>we});var b=K(9468),ne=K(6814);class u extends ne.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class be extends u{static makeCurrent(){(0,ne.HT)(new be)}onAndCancel(G,W,$){return G.addEventListener(W,$),()=>{G.removeEventListener(W,$)}}dispatchEvent(G,W){G.dispatchEvent(W)}remove(G){G.parentNode&&G.parentNode.removeChild(G)}createElement(G,W){return(W=W||this.getDefaultDocument()).createElement(G)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(G){return G.nodeType===Node.ELEMENT_NODE}isShadowRoot(G){return G instanceof DocumentFragment}getGlobalEventTarget(G,W){return"window"===W?window:"document"===W?G:"body"===W?G.body:null}getBaseHref(G){const W=function fe(){return ue=ue||document.querySelector("base"),ue?ue.getAttribute("href"):null}();return null==W?null:function Ve(B){Te=Te||document.createElement("a"),Te.setAttribute("href",B);const G=Te.pathname;return"/"===G.charAt(0)?G:`/${G}`}(W)}resetBaseElement(){ue=null}getUserAgent(){return window.navigator.userAgent}getCookie(G){return(0,ne.Mx)(document.cookie,G)}}let Te,ue=null,ae=(()=>{class B{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function($){return new($||B)};static#t=this.\u0275prov=b.Yz7({token:B,factory:B.\u0275fac})}return B})();const de=new b.OlP("EventManagerPlugins");let Me=(()=>{class B{constructor(W,$){this._zone=$,this._eventNameToPlugin=new Map,W.forEach(Ie=>{Ie.manager=this}),this._plugins=W.slice().reverse()}addEventListener(W,$,Ie){return this._findPluginFor($).addEventListener(W,$,Ie)}getZone(){return this._zone}_findPluginFor(W){let $=this._eventNameToPlugin.get(W);if($)return $;if($=this._plugins.find(We=>We.supports(W)),!$)throw new b.vHH(5101,!1);return this._eventNameToPlugin.set(W,$),$}static#e=this.\u0275fac=function($){return new($||B)(b.LFG(de),b.LFG(b.R0b))};static#t=this.\u0275prov=b.Yz7({token:B,factory:B.\u0275fac})}return B})();class Se{constructor(G){this._doc=G}}const xe="ng-app-id";let Ze=(()=>{class B{constructor(W,$,Ie,We={}){this.doc=W,this.appId=$,this.nonce=Ie,this.platformId=We,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,ne.PM)(We),this.resetHostNodes()}addStyles(W){for(const $ of W)1===this.changeUsageCount($,1)&&this.onStyleAdded($)}removeStyles(W){for(const $ of W)this.changeUsageCount($,-1)<=0&&this.onStyleRemoved($)}ngOnDestroy(){const W=this.styleNodesInDOM;W&&(W.forEach($=>$.remove()),W.clear());for(const $ of this.getAllStyles())this.onStyleRemoved($);this.resetHostNodes()}addHost(W){this.hostNodes.add(W);for(const $ of this.getAllStyles())this.addStyleToHost(W,$)}removeHost(W){this.hostNodes.delete(W)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(W){for(const $ of this.hostNodes)this.addStyleToHost($,W)}onStyleRemoved(W){const $=this.styleRef;$.get(W)?.elements?.forEach(Ie=>Ie.remove()),$.delete(W)}collectServerRenderedStyles(){const W=this.doc.head?.querySelectorAll(`style[${xe}="${this.appId}"]`);if(W?.length){const $=new Map;return W.forEach(Ie=>{null!=Ie.textContent&&$.set(Ie.textContent,Ie)}),$}return null}changeUsageCount(W,$){const Ie=this.styleRef;if(Ie.has(W)){const We=Ie.get(W);return We.usage+=$,We.usage}return Ie.set(W,{usage:$,elements:[]}),$}getStyleElement(W,$){const Ie=this.styleNodesInDOM,We=Ie?.get($);if(We?.parentNode===W)return Ie.delete($),We.removeAttribute(xe),We;{const Tt=this.doc.createElement("style");return this.nonce&&Tt.setAttribute("nonce",this.nonce),Tt.textContent=$,this.platformIsServer&&Tt.setAttribute(xe,this.appId),Tt}}addStyleToHost(W,$){const Ie=this.getStyleElement(W,$);W.appendChild(Ie);const We=this.styleRef,Tt=We.get($)?.elements;Tt?Tt.push(Ie):We.set($,{elements:[Ie],usage:1})}resetHostNodes(){const W=this.hostNodes;W.clear(),W.add(this.doc.head)}static#e=this.\u0275fac=function($){return new($||B)(b.LFG(ne.K0),b.LFG(b.AFp),b.LFG(b.Ojb,8),b.LFG(b.Lbi))};static#t=this.\u0275prov=b.Yz7({token:B,factory:B.\u0275fac})}return B})();const It={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Pt=/%COMP%/g,at=new b.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Ge(B,G){return G.map(W=>W.replace(Pt,B))}let we=(()=>{class B{constructor(W,$,Ie,We,Tt,on,ln,Rn=null){this.eventManager=W,this.sharedStylesHost=$,this.appId=Ie,this.removeStylesOnCompDestroy=We,this.doc=Tt,this.platformId=on,this.ngZone=ln,this.nonce=Rn,this.rendererByCompId=new Map,this.platformIsServer=(0,ne.PM)(on),this.defaultRenderer=new Xe(W,Tt,ln,this.platformIsServer)}createRenderer(W,$){if(!W||!$)return this.defaultRenderer;this.platformIsServer&&$.encapsulation===b.ifc.ShadowDom&&($={...$,encapsulation:b.ifc.Emulated});const Ie=this.getOrCreateRenderer(W,$);return Ie instanceof Hn?Ie.applyToHost(W):Ie instanceof Dn&&Ie.applyStyles(),Ie}getOrCreateRenderer(W,$){const Ie=this.rendererByCompId;let We=Ie.get($.id);if(!We){const Tt=this.doc,on=this.ngZone,ln=this.eventManager,Rn=this.sharedStylesHost,Qt=this.removeStylesOnCompDestroy,Pn=this.platformIsServer;switch($.encapsulation){case b.ifc.Emulated:We=new Hn(ln,Rn,$,this.appId,Qt,Tt,on,Pn);break;case b.ifc.ShadowDom:return new _n(ln,Rn,W,$,Tt,on,this.nonce,Pn);default:We=new Dn(ln,Rn,$,Qt,Tt,on,Pn)}Ie.set($.id,We)}return We}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function($){return new($||B)(b.LFG(Me),b.LFG(Ze),b.LFG(b.AFp),b.LFG(at),b.LFG(ne.K0),b.LFG(b.Lbi),b.LFG(b.R0b),b.LFG(b.Ojb))};static#t=this.\u0275prov=b.Yz7({token:B,factory:B.\u0275fac})}return B})();class Xe{constructor(G,W,$,Ie){this.eventManager=G,this.doc=W,this.ngZone=$,this.platformIsServer=Ie,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(G,W){return W?this.doc.createElementNS(It[W]||W,G):this.doc.createElement(G)}createComment(G){return this.doc.createComment(G)}createText(G){return this.doc.createTextNode(G)}appendChild(G,W){(dt(G)?G.content:G).appendChild(W)}insertBefore(G,W,$){G&&(dt(G)?G.content:G).insertBefore(W,$)}removeChild(G,W){G&&G.removeChild(W)}selectRootElement(G,W){let $="string"==typeof G?this.doc.querySelector(G):G;if(!$)throw new b.vHH(-5104,!1);return W||($.textContent=""),$}parentNode(G){return G.parentNode}nextSibling(G){return G.nextSibling}setAttribute(G,W,$,Ie){if(Ie){W=Ie+":"+W;const We=It[Ie];We?G.setAttributeNS(We,W,$):G.setAttribute(W,$)}else G.setAttribute(W,$)}removeAttribute(G,W,$){if($){const Ie=It[$];Ie?G.removeAttributeNS(Ie,W):G.removeAttribute(`${$}:${W}`)}else G.removeAttribute(W)}addClass(G,W){G.classList.add(W)}removeClass(G,W){G.classList.remove(W)}setStyle(G,W,$,Ie){Ie&(b.JOm.DashCase|b.JOm.Important)?G.style.setProperty(W,$,Ie&b.JOm.Important?"important":""):G.style[W]=$}removeStyle(G,W,$){$&b.JOm.DashCase?G.style.removeProperty(W):G.style[W]=""}setProperty(G,W,$){G[W]=$}setValue(G,W){G.nodeValue=W}listen(G,W,$){if("string"==typeof G&&!(G=(0,ne.q)().getGlobalEventTarget(this.doc,G)))throw new Error(`Unsupported event target ${G} for event ${W}`);return this.eventManager.addEventListener(G,W,this.decoratePreventDefault($))}decoratePreventDefault(G){return W=>{if("__ngUnwrap__"===W)return G;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>G(W)):G(W))&&W.preventDefault()}}}function dt(B){return"TEMPLATE"===B.tagName&&void 0!==B.content}class _n extends Xe{constructor(G,W,$,Ie,We,Tt,on,ln){super(G,We,Tt,ln),this.sharedStylesHost=W,this.hostEl=$,this.shadowRoot=$.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Rn=Ge(Ie.id,Ie.styles);for(const Qt of Rn){const Pn=document.createElement("style");on&&Pn.setAttribute("nonce",on),Pn.textContent=Qt,this.shadowRoot.appendChild(Pn)}}nodeOrShadowRoot(G){return G===this.hostEl?this.shadowRoot:G}appendChild(G,W){return super.appendChild(this.nodeOrShadowRoot(G),W)}insertBefore(G,W,$){return super.insertBefore(this.nodeOrShadowRoot(G),W,$)}removeChild(G,W){return super.removeChild(this.nodeOrShadowRoot(G),W)}parentNode(G){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(G)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Dn extends Xe{constructor(G,W,$,Ie,We,Tt,on,ln){super(G,We,Tt,on),this.sharedStylesHost=W,this.removeStylesOnCompDestroy=Ie,this.styles=ln?Ge(ln,$.styles):$.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Hn extends Dn{constructor(G,W,$,Ie,We,Tt,on,ln){const Rn=Ie+"-"+$.id;super(G,W,$,We,Tt,on,ln,Rn),this.contentAttr=function vt(B){return"_ngcontent-%COMP%".replace(Pt,B)}(Rn),this.hostAttr=function yt(B){return"_nghost-%COMP%".replace(Pt,B)}(Rn)}applyToHost(G){this.applyStyles(),this.setAttribute(G,this.hostAttr,"")}createElement(G,W){const $=super.createElement(G,W);return super.setAttribute($,this.contentAttr,""),$}}let rr=(()=>{class B extends Se{constructor(W){super(W)}supports(W){return!0}addEventListener(W,$,Ie){return W.addEventListener($,Ie,!1),()=>this.removeEventListener(W,$,Ie)}removeEventListener(W,$,Ie){return W.removeEventListener($,Ie)}static#e=this.\u0275fac=function($){return new($||B)(b.LFG(ne.K0))};static#t=this.\u0275prov=b.Yz7({token:B,factory:B.\u0275fac})}return B})();const _r=["alt","control","meta","shift"],ke={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},je={alt:B=>B.altKey,control:B=>B.ctrlKey,meta:B=>B.metaKey,shift:B=>B.shiftKey};let et=(()=>{class B extends Se{constructor(W){super(W)}supports(W){return null!=B.parseEventName(W)}addEventListener(W,$,Ie){const We=B.parseEventName($),Tt=B.eventCallback(We.fullKey,Ie,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,ne.q)().onAndCancel(W,We.domEventName,Tt))}static parseEventName(W){const $=W.toLowerCase().split("."),Ie=$.shift();if(0===$.length||"keydown"!==Ie&&"keyup"!==Ie)return null;const We=B._normalizeKey($.pop());let Tt="",on=$.indexOf("code");if(on>-1&&($.splice(on,1),Tt="code."),_r.forEach(Rn=>{const Qt=$.indexOf(Rn);Qt>-1&&($.splice(Qt,1),Tt+=Rn+".")}),Tt+=We,0!=$.length||0===We.length)return null;const ln={};return ln.domEventName=Ie,ln.fullKey=Tt,ln}static matchEventFullKeyCode(W,$){let Ie=ke[W.key]||W.key,We="";return $.indexOf("code.")>-1&&(Ie=W.code,We="code."),!(null==Ie||!Ie)&&(Ie=Ie.toLowerCase()," "===Ie?Ie="space":"."===Ie&&(Ie="dot"),_r.forEach(Tt=>{Tt!==Ie&&(0,je[Tt])(W)&&(We+=Tt+".")}),We+=Ie,We===$)}static eventCallback(W,$,Ie){return We=>{B.matchEventFullKeyCode(We,W)&&Ie.runGuarded(()=>$(We))}}static _normalizeKey(W){return"esc"===W?"escape":W}static#e=this.\u0275fac=function($){return new($||B)(b.LFG(ne.K0))};static#t=this.\u0275prov=b.Yz7({token:B,factory:B.\u0275fac})}return B})();const St=(0,b.eFA)(b._c5,"browser",[{provide:b.Lbi,useValue:ne.bD},{provide:b.g9A,useValue:function Gt(){be.makeCurrent()},multi:!0},{provide:ne.K0,useFactory:function fn(){return(0,b.RDi)(document),document},deps:[]}]),jn=new b.OlP(""),Tr=[{provide:b.rWj,useClass:class Oe{addToWindow(G){b.dqk.getAngularTestability=($,Ie=!0)=>{const We=G.findTestabilityInTree($,Ie);if(null==We)throw new b.vHH(5103,!1);return We},b.dqk.getAllAngularTestabilities=()=>G.getAllTestabilities(),b.dqk.getAllAngularRootElements=()=>G.getAllRootElements(),b.dqk.frameworkStabilizers||(b.dqk.frameworkStabilizers=[]),b.dqk.frameworkStabilizers.push($=>{const Ie=b.dqk.getAllAngularTestabilities();let We=Ie.length,Tt=!1;const on=function(ln){Tt=Tt||ln,We--,0==We&&$(Tt)};Ie.forEach(ln=>{ln.whenStable(on)})})}findTestabilityInTree(G,W,$){return null==W?null:G.getTestability(W)??($?(0,ne.q)().isShadowRoot(W)?this.findTestabilityInTree(G,W.host,!0):this.findTestabilityInTree(G,W.parentElement,!0):null)}},deps:[]},{provide:b.lri,useClass:b.dDg,deps:[b.R0b,b.eoX,b.rWj]},{provide:b.dDg,useClass:b.dDg,deps:[b.R0b,b.eoX,b.rWj]}],br=[{provide:b.zSh,useValue:"root"},{provide:b.qLn,useFactory:function hn(){return new b.qLn},deps:[]},{provide:de,useClass:rr,multi:!0,deps:[ne.K0,b.R0b,b.Lbi]},{provide:de,useClass:et,multi:!0,deps:[ne.K0]},we,Ze,Me,{provide:b.FYo,useExisting:we},{provide:ne.JF,useClass:ae,deps:[]},[]];let Ae=(()=>{class B{constructor(W){}static withServerTransition(W){return{ngModule:B,providers:[{provide:b.AFp,useValue:W.appId}]}}static#e=this.\u0275fac=function($){return new($||B)(b.LFG(jn,12))};static#t=this.\u0275mod=b.oAB({type:B});static#n=this.\u0275inj=b.cJS({providers:[...br,...Tr],imports:[ne.ez,b.hGG]})}return B})(),Rt=(()=>{class B{constructor(W){this._doc=W}getTitle(){return this._doc.title}setTitle(W){this._doc.title=W||""}static#e=this.\u0275fac=function($){return new($||B)(b.LFG(ne.K0))};static#t=this.\u0275prov=b.Yz7({token:B,factory:function($){let Ie=null;return Ie=$?new $:function gt(){return new Rt((0,b.LFG)(ne.K0))}(),Ie},providedIn:"root"})}return B})();typeof window<"u"&&window;let Yi=(()=>{class B{static#e=this.\u0275fac=function($){return new($||B)};static#t=this.\u0275prov=b.Yz7({token:B,factory:function($){let Ie=null;return Ie=$?new($||B):b.LFG(jr),Ie},providedIn:"root"})}return B})(),jr=(()=>{class B extends Yi{constructor(W){super(),this._doc=W}sanitize(W,$){if(null==$)return null;switch(W){case b.q3G.NONE:return $;case b.q3G.HTML:return(0,b.qzn)($,"HTML")?(0,b.z3N)($):(0,b.EiD)(this._doc,String($)).toString();case b.q3G.STYLE:return(0,b.qzn)($,"Style")?(0,b.z3N)($):$;case b.q3G.SCRIPT:if((0,b.qzn)($,"Script"))return(0,b.z3N)($);throw new b.vHH(5200,!1);case b.q3G.URL:return(0,b.qzn)($,"URL")?(0,b.z3N)($):(0,b.mCW)(String($));case b.q3G.RESOURCE_URL:if((0,b.qzn)($,"ResourceURL"))return(0,b.z3N)($);throw new b.vHH(5201,!1);default:throw new b.vHH(5202,!1)}}bypassSecurityTrustHtml(W){return(0,b.JVY)(W)}bypassSecurityTrustStyle(W){return(0,b.L6k)(W)}bypassSecurityTrustScript(W){return(0,b.eBb)(W)}bypassSecurityTrustUrl(W){return(0,b.LAX)(W)}bypassSecurityTrustResourceUrl(W){return(0,b.pB0)(W)}static#e=this.\u0275fac=function($){return new($||B)(b.LFG(ne.K0))};static#t=this.\u0275prov=b.Yz7({token:B,factory:function($){let Ie=null;return Ie=$?new $:function Zr(B){return new jr(B.get(ne.K0))}(b.LFG(b.zs3)),Ie},providedIn:"root"})}return B})()},7158:(Ut,Be,K)=>{K.d(Be,{gz:()=>Qi,m2:()=>$r,F0:()=>si,rH:()=>Sa,Bz:()=>No,lC:()=>Nn});var b=K(9468),ne=K(5592),u=K(4674),ue=K(2459),fe=K(2096),Te=K(5619),Ve=K(7453),Oe=K(2737),ae=K(7400),de=K(9940),Me=K(2714),Se=K(8251),xe=K(7103);function Ze(...S){const R=(0,de.yG)(S),D=(0,de.jO)(S),{args:k,keys:j}=(0,Ve.D)(S);if(0===k.length)return(0,ue.D)([],R);const oe=new ne.y(function It(S,R,D=Oe.y){return k=>{Pt(R,()=>{const{length:j}=S,oe=new Array(j);let _e=j,qe=j;for(let ze=0;ze<j;ze++)Pt(R,()=>{const jt=(0,ue.D)(S[ze],R);let Qn=!1;jt.subscribe((0,Se.x)(k,Vr=>{oe[ze]=Vr,Qn||(Qn=!0,qe--),qe||k.next(D(oe.slice()))},()=>{--_e||k.complete()}))},k)},k)}}(k,R,j?_e=>(0,Me.n)(j,_e):Oe.y));return D?oe.pipe((0,ae.Z)(D)):oe}function Pt(S,R,D){S?(0,xe.f)(D,S,R):R()}var Ot=K(6973),Tn=K(5211),Nt=K(4829);function ft(S){return new ne.y(R=>{(0,Nt.Xf)(S()).subscribe(R)})}var at=K(8407);function vt(S,R){const D=(0,u.m)(S)?S:()=>S,k=j=>j.error(D());return new ne.y(R?j=>R.schedule(k,0,j):k)}var yt=K(6232),Ge=K(7394),we=K(9360);function Xe(){return(0,we.e)((S,R)=>{let D=null;S._refCount++;const k=(0,Se.x)(R,void 0,void 0,void 0,()=>{if(!S||S._refCount<=0||0<--S._refCount)return void(D=null);const j=S._connection,oe=D;D=null,j&&(!oe||j===oe)&&j.unsubscribe(),R.unsubscribe()});S.subscribe(k),k.closed||(D=S.connect())})}class _t extends ne.y{constructor(R,D){super(),this.source=R,this.subjectFactory=D,this._subject=null,this._refCount=0,this._connection=null,(0,we.A)(R)&&(this.lift=R.lift)}_subscribe(R){return this.getSubject().subscribe(R)}getSubject(){const R=this._subject;return(!R||R.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:R}=this;this._subject=this._connection=null,R?.unsubscribe()}connect(){let R=this._connection;if(!R){R=this._connection=new Ge.w0;const D=this.getSubject();R.add(this.source.subscribe((0,Se.x)(D,void 0,()=>{this._teardown(),D.complete()},k=>{this._teardown(),D.error(k)},()=>this._teardown()))),R.closed&&(this._connection=null,R=Ge.w0.EMPTY)}return R}refCount(){return Xe()(this)}}var xn=K(8645),dt=K(6814),_n=K(7398),Dn=K(4664),Hn=K(8180),rr=K(7921),_r=K(2181),ke=K(1631);function je(S){return(0,we.e)((R,D)=>{let k=!1;R.subscribe((0,Se.x)(D,j=>{k=!0,D.next(j)},()=>{k||D.next(S),D.complete()}))})}function et(S=He){return(0,we.e)((R,D)=>{let k=!1;R.subscribe((0,Se.x)(D,j=>{k=!0,D.next(j)},()=>k?D.complete():D.error(S())))})}function He(){return new Ot.K}function rt(S,R){const D=arguments.length>=2;return k=>k.pipe(S?(0,_r.h)((j,oe)=>S(j,oe,k)):Oe.y,(0,Hn.q)(1),D?je(R):et(()=>new Ot.K))}function wt(S,R){return(0,u.m)(R)?(0,ke.z)(S,R,1):(0,ke.z)(S,1)}var kt=K(9397);function Gt(S){return(0,we.e)((R,D)=>{let oe,k=null,j=!1;k=R.subscribe((0,Se.x)(D,void 0,void 0,_e=>{oe=(0,Nt.Xf)(S(_e,Gt(S)(R))),k?(k.unsubscribe(),k=null,oe.subscribe(D)):j=!0})),j&&(k.unsubscribe(),k=null,oe.subscribe(D))})}var hn=K(6699);function fn(S){return S<=0?()=>yt.E:(0,we.e)((R,D)=>{let k=[];R.subscribe((0,Se.x)(D,j=>{k.push(j),S<k.length&&k.shift()},()=>{for(const j of k)D.next(j);D.complete()},void 0,()=>{k=null}))})}var St=K(975);function jn(S){return(0,we.e)((R,D)=>{try{R.subscribe(D)}finally{D.add(S)}})}var Tr=K(9773),br=K(7537),Ae=K(6593);const Ee="primary",Ke=Symbol("RouteTitle");class ut{constructor(R){this.params=R||{}}has(R){return Object.prototype.hasOwnProperty.call(this.params,R)}get(R){if(this.has(R)){const D=this.params[R];return Array.isArray(D)?D[0]:D}return null}getAll(R){if(this.has(R)){const D=this.params[R];return Array.isArray(D)?D:[D]}return[]}get keys(){return Object.keys(this.params)}}function gt(S){return new ut(S)}function Rt(S,R,D){const k=D.path.split("/");if(k.length>S.length||"full"===D.pathMatch&&(R.hasChildren()||k.length<S.length))return null;const j={};for(let oe=0;oe<k.length;oe++){const _e=k[oe],qe=S[oe];if(_e.startsWith(":"))j[_e.substring(1)]=qe;else if(_e!==qe.path)return null}return{consumed:S.slice(0,k.length),posParams:j}}function pn(S,R){const D=S?Object.keys(S):void 0,k=R?Object.keys(R):void 0;if(!D||!k||D.length!=k.length)return!1;let j;for(let oe=0;oe<D.length;oe++)if(j=D[oe],!In(S[j],R[j]))return!1;return!0}function In(S,R){if(Array.isArray(S)&&Array.isArray(R)){if(S.length!==R.length)return!1;const D=[...S].sort(),k=[...R].sort();return D.every((j,oe)=>k[oe]===j)}return S===R}function Yt(S){return S.length>0?S[S.length-1]:null}function cn(S){return function be(S){return!!S&&(S instanceof ne.y||(0,u.m)(S.lift)&&(0,u.m)(S.subscribe))}(S)?S:(0,b.QGY)(S)?(0,ue.D)(Promise.resolve(S)):(0,fe.of)(S)}const yr={exact:function vn(S,R,D){if(!jr(S.segments,R.segments)||!Ln(S.segments,R.segments,D)||S.numberOfChildren!==R.numberOfChildren)return!1;for(const k in R.children)if(!S.children[k]||!vn(S.children[k],R.children[k],D))return!1;return!0},subset:qn},Xt={exact:function Cr(S,R){return pn(S,R)},subset:function or(S,R){return Object.keys(R).length<=Object.keys(S).length&&Object.keys(R).every(D=>In(S[D],R[D]))},ignored:()=>!0};function Dr(S,R,D){return yr[D.paths](S.root,R.root,D.matrixParams)&&Xt[D.queryParams](S.queryParams,R.queryParams)&&!("exact"===D.fragment&&S.fragment!==R.fragment)}function qn(S,R,D){return ir(S,R,R.segments,D)}function ir(S,R,D,k){if(S.segments.length>D.length){const j=S.segments.slice(0,D.length);return!(!jr(j,D)||R.hasChildren()||!Ln(j,D,k))}if(S.segments.length===D.length){if(!jr(S.segments,D)||!Ln(S.segments,D,k))return!1;for(const j in R.children)if(!S.children[j]||!qn(S.children[j],R.children[j],k))return!1;return!0}{const j=D.slice(0,S.segments.length),oe=D.slice(S.segments.length);return!!(jr(S.segments,j)&&Ln(S.segments,j,k)&&S.children[Ee])&&ir(S.children[Ee],R,oe,k)}}function Ln(S,R,D){return R.every((k,j)=>Xt[D](S[j].parameters,k.parameters))}class ni{constructor(R=new qt([],{}),D={},k=null){this.root=R,this.queryParams=D,this.fragment=k}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gt(this.queryParams)),this._queryParamMap}toString(){return Et.serialize(this)}}class qt{constructor(R,D){this.segments=R,this.children=D,this.parent=null,Object.values(D).forEach(k=>k.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $t(this)}}class Yi{constructor(R,D){this.path=R,this.parameters=D}get parameterMap(){return this._parameterMap||(this._parameterMap=gt(this.parameters)),this._parameterMap}toString(){return Ie(this)}}function jr(S,R){return S.length===R.length&&S.every((D,k)=>D.path===R[k].path)}let Ce=(()=>{class S{static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275prov=b.Yz7({token:S,factory:function(){return new Qe},providedIn:"root"})}return S})();class Qe{parse(R){const D=new Bo(R);return new ni(D.parseRootSegment(),D.parseQueryParams(),D.parseFragment())}serialize(R){const D=`/${Zt(R.root,!0)}`,k=function Tt(S){const R=Object.keys(S).map(D=>{const k=S[D];return Array.isArray(k)?k.map(j=>`${Q(D)}=${Q(j)}`).join("&"):`${Q(D)}=${Q(k)}`}).filter(D=>!!D);return R.length?`?${R.join("&")}`:""}(R.queryParams);return`${D}${k}${"string"==typeof R.fragment?`#${function B(S){return encodeURI(S)}(R.fragment)}`:""}`}}const Et=new Qe;function $t(S){return S.segments.map(R=>Ie(R)).join("/")}function Zt(S,R){if(!S.hasChildren())return $t(S);if(R){const D=S.children[Ee]?Zt(S.children[Ee],!1):"",k=[];return Object.entries(S.children).forEach(([j,oe])=>{j!==Ee&&k.push(`${j}:${Zt(oe,!1)}`)}),k.length>0?`${D}(${k.join("//")})`:D}{const D=function it(S,R){let D=[];return Object.entries(S.children).forEach(([k,j])=>{k===Ee&&(D=D.concat(R(j,k)))}),Object.entries(S.children).forEach(([k,j])=>{k!==Ee&&(D=D.concat(R(j,k)))}),D}(S,(k,j)=>j===Ee?[Zt(S.children[Ee],!1)]:[`${j}:${Zt(k,!1)}`]);return 1===Object.keys(S.children).length&&null!=S.children[Ee]?`${$t(S)}/${D[0]}`:`${$t(S)}/(${D.join("//")})`}}function Wn(S){return encodeURIComponent(S).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Q(S){return Wn(S).replace(/%3B/gi,";")}function G(S){return Wn(S).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function W(S){return decodeURIComponent(S)}function $(S){return W(S.replace(/\+/g,"%20"))}function Ie(S){return`${G(S.path)}${function We(S){return Object.keys(S).map(R=>`;${G(R)}=${G(S[R])}`).join("")}(S.parameters)}`}const on=/^[^\/()?;#]+/;function ln(S){const R=S.match(on);return R?R[0]:""}const Rn=/^[^\/()?;=#]+/,Pn=/^[^=?&#]+/,Xn=/^[^&#]+/;class Bo{constructor(R){this.url=R,this.remaining=R}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new qt([],{}):new qt([],this.parseChildren())}parseQueryParams(){const R={};if(this.consumeOptional("?"))do{this.parseQueryParam(R)}while(this.consumeOptional("&"));return R}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const R=[];for(this.peekStartsWith("(")||R.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),R.push(this.parseSegment());let D={};this.peekStartsWith("/(")&&(this.capture("/"),D=this.parseParens(!0));let k={};return this.peekStartsWith("(")&&(k=this.parseParens(!1)),(R.length>0||Object.keys(D).length>0)&&(k[Ee]=new qt(R,D)),k}parseSegment(){const R=ln(this.remaining);if(""===R&&this.peekStartsWith(";"))throw new b.vHH(4009,!1);return this.capture(R),new Yi(W(R),this.parseMatrixParams())}parseMatrixParams(){const R={};for(;this.consumeOptional(";");)this.parseParam(R);return R}parseParam(R){const D=function Qt(S){const R=S.match(Rn);return R?R[0]:""}(this.remaining);if(!D)return;this.capture(D);let k="";if(this.consumeOptional("=")){const j=ln(this.remaining);j&&(k=j,this.capture(k))}R[W(D)]=W(k)}parseQueryParam(R){const D=function Kr(S){const R=S.match(Pn);return R?R[0]:""}(this.remaining);if(!D)return;this.capture(D);let k="";if(this.consumeOptional("=")){const _e=function fs(S){const R=S.match(Xn);return R?R[0]:""}(this.remaining);_e&&(k=_e,this.capture(k))}const j=$(D),oe=$(k);if(R.hasOwnProperty(j)){let _e=R[j];Array.isArray(_e)||(_e=[_e],R[j]=_e),_e.push(oe)}else R[j]=oe}parseParens(R){const D={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const k=ln(this.remaining),j=this.remaining[k.length];if("/"!==j&&")"!==j&&";"!==j)throw new b.vHH(4010,!1);let oe;k.indexOf(":")>-1?(oe=k.slice(0,k.indexOf(":")),this.capture(oe),this.capture(":")):R&&(oe=Ee);const _e=this.parseChildren();D[oe]=1===Object.keys(_e).length?_e[Ee]:new qt([],_e),this.consumeOptional("//")}return D}peekStartsWith(R){return this.remaining.startsWith(R)}consumeOptional(R){return!!this.peekStartsWith(R)&&(this.remaining=this.remaining.substring(R.length),!0)}capture(R){if(!this.consumeOptional(R))throw new b.vHH(4011,!1)}}function ss(S){return S.segments.length>0?new qt([],{[Ee]:S}):S}function os(S){const R={};for(const k of Object.keys(S.children)){const oe=os(S.children[k]);if(k===Ee&&0===oe.segments.length&&oe.hasChildren())for(const[_e,qe]of Object.entries(oe.children))R[_e]=qe;else(oe.segments.length>0||oe.hasChildren())&&(R[k]=oe)}return function Ha(S){if(1===S.numberOfChildren&&S.children[Ee]){const R=S.children[Ee];return new qt(S.segments.concat(R.segments),R.children)}return S}(new qt(S.segments,R))}function Ls(S){return S instanceof ni}function po(S){let R;const j=ss(function D(oe){const _e={};for(const ze of oe.children){const jt=D(ze);_e[ze.outlet]=jt}const qe=new qt(oe.url,_e);return oe===S&&(R=qe),qe}(S.root));return R??j}function Vi(S,R,D,k){let j=S;for(;j.parent;)j=j.parent;if(0===R.length)return go(j,j,j,D,k);const oe=function Ga(S){if("string"==typeof S[0]&&1===S.length&&"/"===S[0])return new Qo(!0,0,S);let R=0,D=!1;const k=S.reduce((j,oe,_e)=>{if("object"==typeof oe&&null!=oe){if(oe.outlets){const qe={};return Object.entries(oe.outlets).forEach(([ze,jt])=>{qe[ze]="string"==typeof jt?jt.split("/"):jt}),[...j,{outlets:qe}]}if(oe.segmentPath)return[...j,oe.segmentPath]}return"string"!=typeof oe?[...j,oe]:0===_e?(oe.split("/").forEach((qe,ze)=>{0==ze&&"."===qe||(0==ze&&""===qe?D=!0:".."===qe?R++:""!=qe&&j.push(qe))}),j):[...j,oe]},[]);return new Qo(D,R,k)}(R);if(oe.toRoot())return go(j,j,new qt([],{}),D,k);const _e=function ma(S,R,D){if(S.isAbsolute)return new ps(R,!0,0);if(!D)return new ps(R,!1,NaN);if(null===D.parent)return new ps(D,!0,0);const k=Hi(S.commands[0])?0:1;return function Yr(S,R,D){let k=S,j=R,oe=D;for(;oe>j;){if(oe-=j,k=k.parent,!k)throw new b.vHH(4005,!1);j=k.segments.length}return new ps(k,!1,j-oe)}(D,D.segments.length-1+k,S.numberOfDoubleDots)}(oe,j,S),qe=_e.processChildren?Jo(_e.segmentGroup,_e.index,oe.commands):_i(_e.segmentGroup,_e.index,oe.commands);return go(j,_e.segmentGroup,qe,D,k)}function Hi(S){return"object"==typeof S&&null!=S&&!S.outlets&&!S.segmentPath}function tr(S){return"object"==typeof S&&null!=S&&S.outlets}function go(S,R,D,k,j){let _e,oe={};k&&Object.entries(k).forEach(([ze,jt])=>{oe[ze]=Array.isArray(jt)?jt.map(Qn=>`${Qn}`):`${jt}`}),_e=S===R?D:Yo(S,R,D);const qe=ss(os(_e));return new ni(qe,oe,j)}function Yo(S,R,D){const k={};return Object.entries(S.children).forEach(([j,oe])=>{k[j]=oe===R?D:Yo(oe,R,D)}),new qt(S.segments,k)}class Qo{constructor(R,D,k){if(this.isAbsolute=R,this.numberOfDoubleDots=D,this.commands=k,R&&k.length>0&&Hi(k[0]))throw new b.vHH(4003,!1);const j=k.find(tr);if(j&&j!==Yt(k))throw new b.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ps{constructor(R,D,k){this.segmentGroup=R,this.processChildren=D,this.index=k}}function _i(S,R,D){if(S||(S=new qt([],{})),0===S.segments.length&&S.hasChildren())return Jo(S,R,D);const k=function mo(S,R,D){let k=0,j=R;const oe={match:!1,pathIndex:0,commandIndex:0};for(;j<S.segments.length;){if(k>=D.length)return oe;const _e=S.segments[j],qe=D[k];if(tr(qe))break;const ze=`${qe}`,jt=k<D.length-1?D[k+1]:null;if(j>0&&void 0===ze)break;if(ze&&jt&&"object"==typeof jt&&void 0===jt.outlets){if(!Bs(ze,jt,_e))return oe;k+=2}else{if(!Bs(ze,{},_e))return oe;k++}j++}return{match:!0,pathIndex:j,commandIndex:k}}(S,R,D),j=D.slice(k.commandIndex);if(k.match&&k.pathIndex<S.segments.length){const oe=new qt(S.segments.slice(0,k.pathIndex),{});return oe.children[Ee]=new qt(S.segments.slice(k.pathIndex),S.children),Jo(oe,0,j)}return k.match&&0===j.length?new qt(S.segments,{}):k.match&&!S.hasChildren()?_a(S,R,D):k.match?Jo(S,0,j):_a(S,R,D)}function Jo(S,R,D){if(0===D.length)return new qt(S.segments,{});{const k=function Us(S){return tr(S[0])?S[0].outlets:{[Ee]:S}}(D),j={};if(Object.keys(k).some(oe=>oe!==Ee)&&S.children[Ee]&&1===S.numberOfChildren&&0===S.children[Ee].segments.length){const oe=Jo(S.children[Ee],R,D);return new qt(S.segments,oe.children)}return Object.entries(k).forEach(([oe,_e])=>{"string"==typeof _e&&(_e=[_e]),null!==_e&&(j[oe]=_i(S.children[oe],R,_e))}),Object.entries(S.children).forEach(([oe,_e])=>{void 0===k[oe]&&(j[oe]=_e)}),new qt(S.segments,j)}}function _a(S,R,D){const k=S.segments.slice(0,R);let j=0;for(;j<D.length;){const oe=D[j];if(tr(oe)){const ze=yi(oe.outlets);return new qt(k,ze)}if(0===j&&Hi(D[0])){k.push(new Yi(S.segments[R].path,ya(D[0]))),j++;continue}const _e=tr(oe)?oe.outlets[Ee]:`${oe}`,qe=j<D.length-1?D[j+1]:null;_e&&qe&&Hi(qe)?(k.push(new Yi(_e,ya(qe))),j+=2):(k.push(new Yi(_e,{})),j++)}return new qt(k,{})}function yi(S){const R={};return Object.entries(S).forEach(([D,k])=>{"string"==typeof k&&(k=[k]),null!==k&&(R[D]=_a(new qt([],{}),0,k))}),R}function ya(S){const R={};return Object.entries(S).forEach(([D,k])=>R[D]=`${k}`),R}function Bs(S,R,D){return S==D.path&&pn(R,D.parameters)}const _o="imperative";class Vs{constructor(R,D){this.id=R,this.url=D}}class va extends Vs{constructor(R,D,k="imperative",j=null){super(R,D),this.type=0,this.navigationTrigger=k,this.restoredState=j}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class $r extends Vs{constructor(R,D,k){super(R,D),this.urlAfterRedirects=k,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Xo extends Vs{constructor(R,D,k,j){super(R,D),this.reason=k,this.code=j,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class as extends Vs{constructor(R,D,k,j){super(R,D),this.reason=k,this.code=j,this.type=16}}class ea extends Vs{constructor(R,D,k,j){super(R,D),this.error=k,this.target=j,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ul extends Vs{constructor(R,D,k,j){super(R,D),this.urlAfterRedirects=k,this.state=j,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cs extends Vs{constructor(R,D,k,j){super(R,D),this.urlAfterRedirects=k,this.state=j,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bl extends Vs{constructor(R,D,k,j,oe){super(R,D),this.urlAfterRedirects=k,this.state=j,this.shouldActivate=oe,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Gi extends Vs{constructor(R,D,k,j){super(R,D),this.urlAfterRedirects=k,this.state=j,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yo extends Vs{constructor(R,D,k,j){super(R,D),this.urlAfterRedirects=k,this.state=j,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ba{constructor(R){this.route=R,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class hi{constructor(R){this.route=R,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Cs{constructor(R){this.snapshot=R,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wa{constructor(R){this.snapshot=R,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ta{constructor(R){this.snapshot=R,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class na{constructor(R){this.snapshot=R,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ro{constructor(R,D,k){this.routerEvent=R,this.position=D,this.anchor=k,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ra{}class ia{constructor(R){this.url=R}}class Jr{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Yn,this.attachRef=null}}let Yn=(()=>{class S{constructor(){this.contexts=new Map}onChildOutletCreated(D,k){const j=this.getOrCreateContext(D);j.outlet=k,this.contexts.set(D,j)}onChildOutletDestroyed(D){const k=this.getContext(D);k&&(k.outlet=null,k.attachRef=null)}onOutletDeactivated(){const D=this.contexts;return this.contexts=new Map,D}onOutletReAttached(D){this.contexts=D}getOrCreateContext(D){let k=this.getContext(D);return k||(k=new Jr,this.contexts.set(D,k)),k}getContext(D){return this.contexts.get(D)||null}static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275prov=b.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();class ai{constructor(R){this._root=R}get root(){return this._root.value}parent(R){const D=this.pathFromRoot(R);return D.length>1?D[D.length-2]:null}children(R){const D=Ci(R,this._root);return D?D.children.map(k=>k.value):[]}firstChild(R){const D=Ci(R,this._root);return D&&D.children.length>0?D.children[0].value:null}siblings(R){const D=gs(R,this._root);return D.length<2?[]:D[D.length-2].children.map(j=>j.value).filter(j=>j!==R)}pathFromRoot(R){return gs(R,this._root).map(D=>D.value)}}function Ci(S,R){if(S===R.value)return R;for(const D of R.children){const k=Ci(S,D);if(k)return k}return null}function gs(S,R){if(S===R.value)return[R];for(const D of R.children){const k=gs(S,D);if(k.length)return k.unshift(R),k}return[]}class Pr{constructor(R,D){this.value=R,this.children=D}toString(){return`TreeNode(${this.value})`}}function Ss(S){const R={};return S&&S.children.forEach(D=>R[D.value.outlet]=D),R}class $a extends ai{constructor(R,D){super(R),this.snapshot=D,pi(this,R)}toString(){return this.snapshot.toString()}}function fi(S,R){const D=function Cc(S,R){const _e=new Mn([],{},{},"",{},Ee,R,null,{});return new Ur("",new Pr(_e,[]))}(0,R),k=new Te.X([new Yi("",{})]),j=new Te.X({}),oe=new Te.X({}),_e=new Te.X({}),qe=new Te.X(""),ze=new Qi(k,j,_e,qe,oe,Ee,R,D.root);return ze.snapshot=D.root,new $a(new Pr(ze,[]),D)}class Qi{constructor(R,D,k,j,oe,_e,qe,ze){this.urlSubject=R,this.paramsSubject=D,this.queryParamsSubject=k,this.fragmentSubject=j,this.dataSubject=oe,this.outlet=_e,this.component=qe,this._futureSnapshot=ze,this.title=this.dataSubject?.pipe((0,_n.U)(jt=>jt[Ke]))??(0,fe.of)(void 0),this.url=R,this.params=D,this.queryParams=k,this.fragment=j,this.data=oe}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,_n.U)(R=>gt(R)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,_n.U)(R=>gt(R)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function dr(S,R="emptyOnly"){const D=S.pathFromRoot;let k=0;if("always"!==R)for(k=D.length-1;k>=1;){const j=D[k],oe=D[k-1];if(j.routeConfig&&""===j.routeConfig.path)k--;else{if(oe.component)break;k--}}return function Vt(S){return S.reduce((R,D)=>({params:{...R.params,...D.params},data:{...R.data,...D.data},resolve:{...D.data,...R.resolve,...D.routeConfig?.data,...D._resolvedData}}),{params:{},data:{},resolve:{}})}(D.slice(k))}class Mn{get title(){return this.data?.[Ke]}constructor(R,D,k,j,oe,_e,qe,ze,jt){this.url=R,this.params=D,this.queryParams=k,this.fragment=j,this.data=oe,this.outlet=_e,this.component=qe,this.routeConfig=ze,this._resolve=jt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=gt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(k=>k.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ur extends ai{constructor(R,D){super(D),this.url=R,pi(this,D)}toString(){return io(this._root)}}function pi(S,R){R.value._routerState=S,R.children.forEach(D=>pi(S,D))}function io(S){const R=S.children.length>0?` { ${S.children.map(io).join(", ")} } `:"";return`${S.value}${R}`}function Qr(S){if(S.snapshot){const R=S.snapshot,D=S._futureSnapshot;S.snapshot=D,pn(R.queryParams,D.queryParams)||S.queryParamsSubject.next(D.queryParams),R.fragment!==D.fragment&&S.fragmentSubject.next(D.fragment),pn(R.params,D.params)||S.paramsSubject.next(D.params),function wr(S,R){if(S.length!==R.length)return!1;for(let D=0;D<S.length;++D)if(!pn(S[D],R[D]))return!1;return!0}(R.url,D.url)||S.urlSubject.next(D.url),pn(R.data,D.data)||S.dataSubject.next(D.data)}else S.snapshot=S._futureSnapshot,S.dataSubject.next(S._futureSnapshot.data)}function ji(S,R){const D=pn(S.params,R.params)&&function Zr(S,R){return jr(S,R)&&S.every((D,k)=>pn(D.parameters,R[k].parameters))}(S.url,R.url);return D&&!(!S.parent!=!R.parent)&&(!S.parent||ji(S.parent,R.parent))}let Nn=(()=>{class S{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ee,this.activateEvents=new b.vpe,this.deactivateEvents=new b.vpe,this.attachEvents=new b.vpe,this.detachEvents=new b.vpe,this.parentContexts=(0,b.f3M)(Yn),this.location=(0,b.f3M)(b.s_b),this.changeDetector=(0,b.f3M)(b.sBO),this.environmentInjector=(0,b.f3M)(b.lqb),this.inputBinder=(0,b.f3M)(Xr,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(D){if(D.name){const{firstChange:k,previousValue:j}=D.name;if(k)return;this.isTrackedInParentContexts(j)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(j)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(D){return this.parentContexts.getContext(D)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const D=this.parentContexts.getContext(this.name);D?.route&&(D.attachRef?this.attach(D.attachRef,D.route):this.activateWith(D.route,D.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new b.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new b.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new b.vHH(4012,!1);this.location.detach();const D=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(D.instance),D}attach(D,k){this.activated=D,this._activatedRoute=k,this.location.insert(D.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(D.instance)}deactivate(){if(this.activated){const D=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(D)}}activateWith(D,k){if(this.isActivated)throw new b.vHH(4013,!1);this._activatedRoute=D;const j=this.location,_e=D.snapshot.component,qe=this.parentContexts.getOrCreateContext(this.name).children,ze=new kr(D,qe,j.injector);this.activated=j.createComponent(_e,{index:j.length,injector:ze,environmentInjector:k??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275dir=b.lG2({type:S,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[b.TTD]})}return S})();class kr{constructor(R,D,k){this.route=R,this.childContexts=D,this.parent=k}get(R,D){return R===Qi?this.route:R===Yn?this.childContexts:this.parent.get(R,D)}}const Xr=new b.OlP("");let kn=(()=>{class S{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(D){this.unsubscribeFromRouteData(D),this.subscribeToRouteData(D)}unsubscribeFromRouteData(D){this.outletDataSubscriptions.get(D)?.unsubscribe(),this.outletDataSubscriptions.delete(D)}subscribeToRouteData(D){const{activatedRoute:k}=D,j=Ze([k.queryParams,k.params,k.data]).pipe((0,Dn.w)(([oe,_e,qe],ze)=>(qe={...oe,..._e,...qe},0===ze?(0,fe.of)(qe):Promise.resolve(qe)))).subscribe(oe=>{if(!D.isActivated||!D.activatedComponentRef||D.activatedRoute!==k||null===k.component)return void this.unsubscribeFromRouteData(D);const _e=(0,b.qFp)(k.component);if(_e)for(const{templateName:qe}of _e.inputs)D.activatedComponentRef.setInput(qe,oe[qe]);else this.unsubscribeFromRouteData(D)});this.outletDataSubscriptions.set(D,j)}static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275prov=b.Yz7({token:S,factory:S.\u0275fac})}return S})();function Vo(S,R,D){if(D&&S.shouldReuseRoute(R.value,D.value.snapshot)){const k=D.value;k._futureSnapshot=R.value;const j=function bo(S,R,D){return R.children.map(k=>{for(const j of D.children)if(S.shouldReuseRoute(k.value,j.value.snapshot))return Vo(S,k,j);return Vo(S,k)})}(S,R,D);return new Pr(k,j)}{if(S.shouldAttach(R.value)){const oe=S.retrieve(R.value);if(null!==oe){const _e=oe.route;return _e.value._futureSnapshot=R.value,_e.children=R.children.map(qe=>Vo(S,qe)),_e}}const k=function Fr(S){return new Qi(new Te.X(S.url),new Te.X(S.params),new Te.X(S.queryParams),new Te.X(S.fragment),new Te.X(S.data),S.outlet,S.component,S)}(R.value),j=R.children.map(oe=>Vo(S,oe));return new Pr(k,j)}}const Ji="ngNavigationCancelingError";function so(S,R){const{redirectTo:D,navigationBehaviorOptions:k}=Ls(R)?{redirectTo:R,navigationBehaviorOptions:void 0}:R,j=ri(!1,0,R);return j.url=D,j.navigationBehaviorOptions=k,j}function ri(S,R,D){const k=new Error("NavigationCancelingError: "+(S||""));return k[Ji]=!0,k.cancellationCode=R,D&&(k.url=D),k}function Sc(S){return S&&S[Ji]}let Hs=(()=>{class S{static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275cmp=b.Xpm({type:S,selectors:[["ng-component"]],standalone:!0,features:[b.jDz],decls:1,vars:0,template:function(k,j){1&k&&b._UZ(0,"router-outlet")},dependencies:[Nn],encapsulation:2})}return S})();function za(S){const R=S.children&&S.children.map(za),D=R?{...S,children:R}:{...S};return!D.component&&!D.loadComponent&&(R||D.loadChildren)&&D.outlet&&D.outlet!==Ee&&(D.component=Hs),D}function Si(S){return S.outlet||Ee}function As(S){if(!S)return null;if(S.routeConfig?._injector)return S.routeConfig._injector;for(let R=S.parent;R;R=R.parent){const D=R.routeConfig;if(D?._loadedInjector)return D._loadedInjector;if(D?._injector)return D._injector}return null}class $s{constructor(R,D,k,j,oe){this.routeReuseStrategy=R,this.futureState=D,this.currState=k,this.forwardEvent=j,this.inputBindingEnabled=oe}activate(R){const D=this.futureState._root,k=this.currState?this.currState._root:null;this.deactivateChildRoutes(D,k,R),Qr(this.futureState.root),this.activateChildRoutes(D,k,R)}deactivateChildRoutes(R,D,k){const j=Ss(D);R.children.forEach(oe=>{const _e=oe.value.outlet;this.deactivateRoutes(oe,j[_e],k),delete j[_e]}),Object.values(j).forEach(oe=>{this.deactivateRouteAndItsChildren(oe,k)})}deactivateRoutes(R,D,k){const j=R.value,oe=D?D.value:null;if(j===oe)if(j.component){const _e=k.getContext(j.outlet);_e&&this.deactivateChildRoutes(R,D,_e.children)}else this.deactivateChildRoutes(R,D,k);else oe&&this.deactivateRouteAndItsChildren(D,k)}deactivateRouteAndItsChildren(R,D){R.value.component&&this.routeReuseStrategy.shouldDetach(R.value.snapshot)?this.detachAndStoreRouteSubtree(R,D):this.deactivateRouteAndOutlet(R,D)}detachAndStoreRouteSubtree(R,D){const k=D.getContext(R.value.outlet),j=k&&R.value.component?k.children:D,oe=Ss(R);for(const _e of Object.keys(oe))this.deactivateRouteAndItsChildren(oe[_e],j);if(k&&k.outlet){const _e=k.outlet.detach(),qe=k.children.onOutletDeactivated();this.routeReuseStrategy.store(R.value.snapshot,{componentRef:_e,route:R,contexts:qe})}}deactivateRouteAndOutlet(R,D){const k=D.getContext(R.value.outlet),j=k&&R.value.component?k.children:D,oe=Ss(R);for(const _e of Object.keys(oe))this.deactivateRouteAndItsChildren(oe[_e],j);k&&(k.outlet&&(k.outlet.deactivate(),k.children.onOutletDeactivated()),k.attachRef=null,k.route=null)}activateChildRoutes(R,D,k){const j=Ss(D);R.children.forEach(oe=>{this.activateRoutes(oe,j[oe.value.outlet],k),this.forwardEvent(new na(oe.value.snapshot))}),R.children.length&&this.forwardEvent(new wa(R.value.snapshot))}activateRoutes(R,D,k){const j=R.value,oe=D?D.value:null;if(Qr(j),j===oe)if(j.component){const _e=k.getOrCreateContext(j.outlet);this.activateChildRoutes(R,D,_e.children)}else this.activateChildRoutes(R,D,k);else if(j.component){const _e=k.getOrCreateContext(j.outlet);if(this.routeReuseStrategy.shouldAttach(j.snapshot)){const qe=this.routeReuseStrategy.retrieve(j.snapshot);this.routeReuseStrategy.store(j.snapshot,null),_e.children.onOutletReAttached(qe.contexts),_e.attachRef=qe.componentRef,_e.route=qe.route.value,_e.outlet&&_e.outlet.attach(qe.componentRef,qe.route.value),Qr(qe.route.value),this.activateChildRoutes(R,null,_e.children)}else{const qe=As(j.snapshot);_e.attachRef=null,_e.route=j,_e.injector=qe,_e.outlet&&_e.outlet.activateWith(j,_e.injector),this.activateChildRoutes(R,null,_e.children)}}else this.activateChildRoutes(R,null,k)}}class Eo{constructor(R){this.path=R,this.route=this.path[this.path.length-1]}}class zs{constructor(R,D){this.component=R,this.route=D}}function Ni(S,R,D){const k=S._root;return oa(k,R?R._root:null,D,[k.value])}function Ws(S,R){const D=Symbol(),k=R.get(S,D);return k===D?"function"!=typeof S||(0,b.Z0I)(S)?R.get(S):S:k}function oa(S,R,D,k,j={canDeactivateChecks:[],canActivateChecks:[]}){const oe=Ss(R);return S.children.forEach(_e=>{(function Gc(S,R,D,k,j={canDeactivateChecks:[],canActivateChecks:[]}){const oe=S.value,_e=R?R.value:null,qe=D?D.getContext(S.value.outlet):null;if(_e&&oe.routeConfig===_e.routeConfig){const ze=function cc(S,R,D){if("function"==typeof D)return D(S,R);switch(D){case"pathParamsChange":return!jr(S.url,R.url);case"pathParamsOrQueryParamsChange":return!jr(S.url,R.url)||!pn(S.queryParams,R.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ji(S,R)||!pn(S.queryParams,R.queryParams);default:return!ji(S,R)}}(_e,oe,oe.routeConfig.runGuardsAndResolvers);ze?j.canActivateChecks.push(new Eo(k)):(oe.data=_e.data,oe._resolvedData=_e._resolvedData),oa(S,R,oe.component?qe?qe.children:null:D,k,j),ze&&qe&&qe.outlet&&qe.outlet.isActivated&&j.canDeactivateChecks.push(new zs(qe.outlet.component,_e))}else _e&&Sr(R,qe,j),j.canActivateChecks.push(new Eo(k)),oa(S,null,oe.component?qe?qe.children:null:D,k,j)})(_e,oe[_e.value.outlet],D,k.concat([_e.value]),j),delete oe[_e.value.outlet]}),Object.entries(oe).forEach(([_e,qe])=>Sr(qe,D.getContext(_e),j)),j}function Sr(S,R,D){const k=Ss(S),j=S.value;Object.entries(k).forEach(([oe,_e])=>{Sr(_e,j.component?R?R.children.getContext(oe):null:R,D)}),D.canDeactivateChecks.push(new zs(j.component&&R&&R.outlet&&R.outlet.isActivated?R.outlet.component:null,j))}function Wa(S){return"function"==typeof S}function $i(S){return S instanceof Ot.K||"EmptyError"===S?.name}const Ns=Symbol("INITIAL_VALUE");function zi(){return(0,Dn.w)(S=>Ze(S.map(R=>R.pipe((0,Hn.q)(1),(0,rr.O)(Ns)))).pipe((0,_n.U)(R=>{for(const D of R)if(!0!==D){if(D===Ns)return Ns;if(!1===D||D instanceof ni)return D}return!0}),(0,_r.h)(R=>R!==Ns),(0,Hn.q)(1)))}function bi(S){return(0,at.z)((0,kt.b)(R=>{if(Ls(R))throw so(0,R)}),(0,_n.U)(R=>!0===R))}class Mi{constructor(R){this.segmentGroup=R||null}}class Do{constructor(R){this.urlTree=R}}function uc(S){return vt(new Mi(S))}function xi(S){return vt(new Do(S))}class nd{constructor(R,D){this.urlSerializer=R,this.urlTree=D}noMatchError(R){return new b.vHH(4002,!1)}lineralizeSegments(R,D){let k=[],j=D.root;for(;;){if(k=k.concat(j.segments),0===j.numberOfChildren)return(0,fe.of)(k);if(j.numberOfChildren>1||!j.children[Ee])return vt(new b.vHH(4e3,!1));j=j.children[Ee]}}applyRedirectCommands(R,D,k){return this.applyRedirectCreateUrlTree(D,this.urlSerializer.parse(D),R,k)}applyRedirectCreateUrlTree(R,D,k,j){const oe=this.createSegmentGroup(R,D.root,k,j);return new ni(oe,this.createQueryParams(D.queryParams,this.urlTree.queryParams),D.fragment)}createQueryParams(R,D){const k={};return Object.entries(R).forEach(([j,oe])=>{if("string"==typeof oe&&oe.startsWith(":")){const qe=oe.substring(1);k[j]=D[qe]}else k[j]=oe}),k}createSegmentGroup(R,D,k,j){const oe=this.createSegments(R,D.segments,k,j);let _e={};return Object.entries(D.children).forEach(([qe,ze])=>{_e[qe]=this.createSegmentGroup(R,ze,k,j)}),new qt(oe,_e)}createSegments(R,D,k,j){return D.map(oe=>oe.path.startsWith(":")?this.findPosParam(R,oe,j):this.findOrReturn(oe,k))}findPosParam(R,D,k){const j=k[D.path.substring(1)];if(!j)throw new b.vHH(4001,!1);return j}findOrReturn(R,D){let k=0;for(const j of D){if(j.path===R.path)return D.splice(k),j;k++}return R}}const Co={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function dc(S,R,D,k,j){const oe=Ri(S,R,D);return oe.matched?(k=function ls(S,R){return S.providers&&!S._injector&&(S._injector=(0,b.MMx)(S.providers,R,`Route: ${S.path}`)),S._injector??R}(R,k),function Ea(S,R,D,k){const j=R.canMatch;if(!j||0===j.length)return(0,fe.of)(!0);const oe=j.map(_e=>{const qe=Ws(_e,S);return cn(function De(S){return S&&Wa(S.canMatch)}(qe)?qe.canMatch(R,D):S.runInContext(()=>qe(R,D)))});return(0,fe.of)(oe).pipe(zi(),bi())}(k,R,D).pipe((0,_n.U)(_e=>!0===_e?oe:{...Co}))):(0,fe.of)(oe)}function Ri(S,R,D){if(""===R.path)return"full"===R.pathMatch&&(S.hasChildren()||D.length>0)?{...Co}:{matched:!0,consumedSegments:[],remainingSegments:D,parameters:{},positionalParamSegments:{}};const j=(R.matcher||Rt)(D,S,R);if(!j)return{...Co};const oe={};Object.entries(j.posParams??{}).forEach(([qe,ze])=>{oe[qe]=ze.path});const _e=j.consumed.length>0?{...oe,...j.consumed[j.consumed.length-1].parameters}:oe;return{matched:!0,consumedSegments:j.consumed,remainingSegments:D.slice(j.consumed.length),parameters:_e,positionalParamSegments:j.posParams??{}}}function ll(S,R,D,k){return D.length>0&&function Pi(S,R,D){return D.some(k=>wi(S,R,k)&&Si(k)!==Ee)}(S,D,k)?{segmentGroup:new qt(R,us(k,new qt(D,S.children))),slicedSegments:[]}:0===D.length&&function Ms(S,R,D){return D.some(k=>wi(S,R,k))}(S,D,k)?{segmentGroup:new qt(S.segments,aa(S,0,D,k,S.children)),slicedSegments:D}:{segmentGroup:new qt(S.segments,S.children),slicedSegments:D}}function aa(S,R,D,k,j){const oe={};for(const _e of k)if(wi(S,D,_e)&&!j[Si(_e)]){const qe=new qt([],{});oe[Si(_e)]=qe}return{...j,...oe}}function us(S,R){const D={};D[Ee]=R;for(const k of S)if(""===k.path&&Si(k)!==Ee){const j=new qt([],{});D[Si(k)]=j}return D}function wi(S,R,D){return(!(S.hasChildren()||R.length>0)||"full"!==D.pathMatch)&&""===D.path}class Da{constructor(R,D,k,j,oe,_e,qe){this.injector=R,this.configLoader=D,this.rootComponentType=k,this.config=j,this.urlTree=oe,this.paramsInheritanceStrategy=_e,this.urlSerializer=qe,this.allowRedirects=!0,this.applyRedirects=new nd(this.urlSerializer,this.urlTree)}noMatchError(R){return new b.vHH(4002,!1)}recognize(){const R=ll(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,R,Ee).pipe(Gt(D=>{if(D instanceof Do)return this.allowRedirects=!1,this.urlTree=D.urlTree,this.match(D.urlTree);throw D instanceof Mi?this.noMatchError(D):D}),(0,_n.U)(D=>{const k=new Mn([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ee,this.rootComponentType,null,{}),j=new Pr(k,D),oe=new Ur("",j),_e=function Bi(S,R,D=null,k=null){return Vi(po(S),R,D,k)}(k,[],this.urlTree.queryParams,this.urlTree.fragment);return _e.queryParams=this.urlTree.queryParams,oe.url=this.urlSerializer.serialize(_e),this.inheritParamsAndData(oe._root),{state:oe,tree:_e}}))}match(R){return this.processSegmentGroup(this.injector,this.config,R.root,Ee).pipe(Gt(k=>{throw k instanceof Mi?this.noMatchError(k):k}))}inheritParamsAndData(R){const D=R.value,k=dr(D,this.paramsInheritanceStrategy);D.params=Object.freeze(k.params),D.data=Object.freeze(k.data),R.children.forEach(j=>this.inheritParamsAndData(j))}processSegmentGroup(R,D,k,j){return 0===k.segments.length&&k.hasChildren()?this.processChildren(R,D,k):this.processSegment(R,D,k,k.segments,j,!0)}processChildren(R,D,k){const j=[];for(const oe of Object.keys(k.children))"primary"===oe?j.unshift(oe):j.push(oe);return(0,ue.D)(j).pipe(wt(oe=>{const _e=k.children[oe],qe=function vi(S,R){const D=S.filter(k=>Si(k)===R);return D.push(...S.filter(k=>Si(k)!==R)),D}(D,oe);return this.processSegmentGroup(R,qe,_e,oe)}),(0,hn.R)((oe,_e)=>(oe.push(..._e),oe)),je(null),function yn(S,R){const D=arguments.length>=2;return k=>k.pipe(S?(0,_r.h)((j,oe)=>S(j,oe,k)):Oe.y,fn(1),D?je(R):et(()=>new Ot.K))}(),(0,ke.z)(oe=>{if(null===oe)return uc(k);const _e=ca(oe);return function rd(S){S.sort((R,D)=>R.value.outlet===Ee?-1:D.value.outlet===Ee?1:R.value.outlet.localeCompare(D.value.outlet))}(_e),(0,fe.of)(_e)}))}processSegment(R,D,k,j,oe,_e){return(0,ue.D)(D).pipe(wt(qe=>this.processSegmentAgainstRoute(qe._injector??R,D,qe,k,j,oe,_e).pipe(Gt(ze=>{if(ze instanceof Mi)return(0,fe.of)(null);throw ze}))),rt(qe=>!!qe),Gt(qe=>{if($i(qe))return function Ta(S,R,D){return 0===R.length&&!S.children[D]}(k,j,oe)?(0,fe.of)([]):uc(k);throw qe}))}processSegmentAgainstRoute(R,D,k,j,oe,_e,qe){return function zc(S,R,D,k){return!!(Si(S)===k||k!==Ee&&wi(R,D,S))&&("**"===S.path||Ri(R,S,D).matched)}(k,j,oe,_e)?void 0===k.redirectTo?this.matchSegmentAgainstRoute(R,j,k,oe,_e,qe):qe&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(R,j,D,k,oe,_e):uc(j):uc(j)}expandSegmentAgainstRouteUsingRedirect(R,D,k,j,oe,_e){return"**"===j.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(R,k,j,_e):this.expandRegularSegmentAgainstRouteUsingRedirect(R,D,k,j,oe,_e)}expandWildCardWithParamsAgainstRouteUsingRedirect(R,D,k,j){const oe=this.applyRedirects.applyRedirectCommands([],k.redirectTo,{});return k.redirectTo.startsWith("/")?xi(oe):this.applyRedirects.lineralizeSegments(k,oe).pipe((0,ke.z)(_e=>{const qe=new qt(_e,{});return this.processSegment(R,D,qe,_e,j,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(R,D,k,j,oe,_e){const{matched:qe,consumedSegments:ze,remainingSegments:jt,positionalParamSegments:Qn}=Ri(D,j,oe);if(!qe)return uc(D);const Vr=this.applyRedirects.applyRedirectCommands(ze,j.redirectTo,Qn);return j.redirectTo.startsWith("/")?xi(Vr):this.applyRedirects.lineralizeSegments(j,Vr).pipe((0,ke.z)(sr=>this.processSegment(R,k,D,sr.concat(jt),_e,!1)))}matchSegmentAgainstRoute(R,D,k,j,oe,_e){let qe;if("**"===k.path){const ze=j.length>0?Yt(j).parameters:{},jt=new Mn(j,ze,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,dl(k),Si(k),k.component??k._loadedComponent??null,k,M(k));qe=(0,fe.of)({snapshot:jt,consumedSegments:[],remainingSegments:[]}),D.children={}}else qe=dc(D,k,j,R).pipe((0,_n.U)(({matched:ze,consumedSegments:jt,remainingSegments:Qn,parameters:Vr})=>ze?{snapshot:new Mn(jt,Vr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,dl(k),Si(k),k.component??k._loadedComponent??null,k,M(k)),consumedSegments:jt,remainingSegments:Qn}:null));return qe.pipe((0,Dn.w)(ze=>null===ze?uc(D):this.getChildConfig(R=k._injector??R,k,j).pipe((0,Dn.w)(({routes:jt})=>{const Qn=k._loadedInjector??R,{snapshot:Vr,consumedSegments:sr,remainingSegments:Mo}=ze,{segmentGroup:Kl,slicedSegments:Wr}=ll(D,sr,Mo,jt);if(0===Wr.length&&Kl.hasChildren())return this.processChildren(Qn,jt,Kl).pipe((0,_n.U)(vr=>null===vr?null:[new Pr(Vr,vr)]));if(0===jt.length&&0===Wr.length)return(0,fe.of)([new Pr(Vr,[])]);const Ya=Si(k)===oe;return this.processSegment(Qn,jt,Kl,Wr,Ya?Ee:oe,!0).pipe((0,_n.U)(vr=>[new Pr(Vr,vr)]))}))))}getChildConfig(R,D,k){return D.children?(0,fe.of)({routes:D.children,injector:R}):D.loadChildren?void 0!==D._loadedRoutes?(0,fe.of)({routes:D._loadedRoutes,injector:D._loadedInjector}):function Ia(S,R,D,k){const j=R.canLoad;if(void 0===j||0===j.length)return(0,fe.of)(!0);const oe=j.map(_e=>{const qe=Ws(_e,S);return cn(function q(S){return S&&Wa(S.canLoad)}(qe)?qe.canLoad(R,D):S.runInContext(()=>qe(R,D)))});return(0,fe.of)(oe).pipe(zi(),bi())}(R,D,k).pipe((0,ke.z)(j=>j?this.configLoader.loadChildren(R,D).pipe((0,kt.b)(oe=>{D._loadedRoutes=oe.routes,D._loadedInjector=oe.injector})):function $c(S){return vt(ri(!1,3))}())):(0,fe.of)({routes:[],injector:R})}}function ul(S){const R=S.value.routeConfig;return R&&""===R.path}function ca(S){const R=[],D=new Set;for(const k of S){if(!ul(k)){R.push(k);continue}const j=R.find(oe=>k.value.routeConfig===oe.value.routeConfig);void 0!==j?(j.children.push(...k.children),D.add(j)):R.push(k)}for(const k of D){const j=ca(k.children);R.push(new Pr(k.value,j))}return R.filter(k=>!D.has(k))}function dl(S){return S.data||{}}function M(S){return S.resolve||{}}function bn(S){return"string"==typeof S.title||null===S.title}function Ar(S){return(0,Dn.w)(R=>{const D=S(R);return D?(0,ue.D)(D).pipe((0,_n.U)(()=>R)):(0,fe.of)(R)})}const Or=new b.OlP("ROUTES");let Nr=(()=>{class S{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,b.f3M)(b.Sil)}loadComponent(D){if(this.componentLoaders.get(D))return this.componentLoaders.get(D);if(D._loadedComponent)return(0,fe.of)(D._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(D);const k=cn(D.loadComponent()).pipe((0,_n.U)(nr),(0,kt.b)(oe=>{this.onLoadEndListener&&this.onLoadEndListener(D),D._loadedComponent=oe}),jn(()=>{this.componentLoaders.delete(D)})),j=new _t(k,()=>new xn.x).pipe(Xe());return this.componentLoaders.set(D,j),j}loadChildren(D,k){if(this.childrenLoaders.get(k))return this.childrenLoaders.get(k);if(k._loadedRoutes)return(0,fe.of)({routes:k._loadedRoutes,injector:k._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(k);const oe=function Cn(S,R,D,k){return cn(S.loadChildren()).pipe((0,_n.U)(nr),(0,ke.z)(j=>j instanceof b.YKP||Array.isArray(j)?(0,fe.of)(j):(0,ue.D)(R.compileModuleAsync(j))),(0,_n.U)(j=>{k&&k(S);let oe,_e,qe=!1;return Array.isArray(j)?(_e=j,!0):(oe=j.create(D).injector,_e=oe.get(Or,[],{optional:!0,self:!0}).flat()),{routes:_e.map(za),injector:oe}}))}(k,this.compiler,D,this.onLoadEndListener).pipe(jn(()=>{this.childrenLoaders.delete(k)})),_e=new _t(oe,()=>new xn.x).pipe(Xe());return this.childrenLoaders.set(k,_e),_e}static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275prov=b.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();function nr(S){return function zr(S){return S&&"object"==typeof S&&"default"in S}(S)?S.default:S}let ii=(()=>{class S{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new xn.x,this.transitionAbortSubject=new xn.x,this.configLoader=(0,b.f3M)(Nr),this.environmentInjector=(0,b.f3M)(b.lqb),this.urlSerializer=(0,b.f3M)(Ce),this.rootContexts=(0,b.f3M)(Yn),this.inputBindingEnabled=null!==(0,b.f3M)(Xr,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,fe.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=j=>this.events.next(new hi(j)),this.configLoader.onLoadStartListener=j=>this.events.next(new ba(j))}complete(){this.transitions?.complete()}handleNavigationRequest(D){const k=++this.navigationId;this.transitions?.next({...this.transitions.value,...D,id:k})}setupNavigations(D,k,j){return this.transitions=new Te.X({id:0,currentUrlTree:k,currentRawUrl:k,currentBrowserUrl:k,extractedUrl:D.urlHandlingStrategy.extract(k),urlAfterRedirects:D.urlHandlingStrategy.extract(k),rawUrl:k,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:_o,restoredState:null,currentSnapshot:j.snapshot,targetSnapshot:null,currentRouterState:j,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,_r.h)(oe=>0!==oe.id),(0,_n.U)(oe=>({...oe,extractedUrl:D.urlHandlingStrategy.extract(oe.rawUrl)})),(0,Dn.w)(oe=>{this.currentTransition=oe;let _e=!1,qe=!1;return(0,fe.of)(oe).pipe((0,kt.b)(ze=>{this.currentNavigation={id:ze.id,initialUrl:ze.rawUrl,extractedUrl:ze.extractedUrl,trigger:ze.source,extras:ze.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Dn.w)(ze=>{const jt=ze.currentBrowserUrl.toString(),Qn=!D.navigated||ze.extractedUrl.toString()!==jt||jt!==ze.currentUrlTree.toString();if(!Qn&&"reload"!==(ze.extras.onSameUrlNavigation??D.onSameUrlNavigation)){const sr="";return this.events.next(new as(ze.id,this.urlSerializer.serialize(ze.rawUrl),sr,0)),ze.resolve(null),yt.E}if(D.urlHandlingStrategy.shouldProcessUrl(ze.rawUrl))return(0,fe.of)(ze).pipe((0,Dn.w)(sr=>{const Mo=this.transitions?.getValue();return this.events.next(new va(sr.id,this.urlSerializer.serialize(sr.extractedUrl),sr.source,sr.restoredState)),Mo!==this.transitions?.getValue()?yt.E:Promise.resolve(sr)}),function re(S,R,D,k,j,oe){return(0,ke.z)(_e=>function Ho(S,R,D,k,j,oe,_e="emptyOnly"){return new Da(S,R,D,k,j,_e,oe).recognize()}(S,R,D,k,_e.extractedUrl,j,oe).pipe((0,_n.U)(({state:qe,tree:ze})=>({..._e,targetSnapshot:qe,urlAfterRedirects:ze}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,D.config,this.urlSerializer,D.paramsInheritanceStrategy),(0,kt.b)(sr=>{oe.targetSnapshot=sr.targetSnapshot,oe.urlAfterRedirects=sr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:sr.urlAfterRedirects};const Mo=new Ul(sr.id,this.urlSerializer.serialize(sr.extractedUrl),this.urlSerializer.serialize(sr.urlAfterRedirects),sr.targetSnapshot);this.events.next(Mo)}));if(Qn&&D.urlHandlingStrategy.shouldProcessUrl(ze.currentRawUrl)){const{id:sr,extractedUrl:Mo,source:Kl,restoredState:Wr,extras:Ya}=ze,vr=new va(sr,this.urlSerializer.serialize(Mo),Kl,Wr);this.events.next(vr);const Nc=fi(0,this.rootComponentType).snapshot;return this.currentTransition=oe={...ze,targetSnapshot:Nc,urlAfterRedirects:Mo,extras:{...Ya,skipLocationChange:!1,replaceUrl:!1}},(0,fe.of)(oe)}{const sr="";return this.events.next(new as(ze.id,this.urlSerializer.serialize(ze.extractedUrl),sr,1)),ze.resolve(null),yt.E}}),(0,kt.b)(ze=>{const jt=new cs(ze.id,this.urlSerializer.serialize(ze.extractedUrl),this.urlSerializer.serialize(ze.urlAfterRedirects),ze.targetSnapshot);this.events.next(jt)}),(0,_n.U)(ze=>(this.currentTransition=oe={...ze,guards:Ni(ze.targetSnapshot,ze.currentSnapshot,this.rootContexts)},oe)),function ms(S,R){return(0,ke.z)(D=>{const{targetSnapshot:k,currentSnapshot:j,guards:{canActivateChecks:oe,canDeactivateChecks:_e}}=D;return 0===_e.length&&0===oe.length?(0,fe.of)({...D,guardsResult:!0}):function qa(S,R,D,k){return(0,ue.D)(S).pipe((0,ke.z)(j=>function al(S,R,D,k,j){const oe=R&&R.routeConfig?R.routeConfig.canDeactivate:null;if(!oe||0===oe.length)return(0,fe.of)(!0);const _e=oe.map(qe=>{const ze=As(R)??j,jt=Ws(qe,ze);return cn(function ce(S){return S&&Wa(S.canDeactivate)}(jt)?jt.canDeactivate(S,R,D,k):ze.runInContext(()=>jt(S,R,D,k))).pipe(rt())});return(0,fe.of)(_e).pipe(zi())}(j.component,j.route,D,R,k)),rt(j=>!0!==j,!0))}(_e,k,j,S).pipe((0,ke.z)(qe=>qe&&function yu(S){return"boolean"==typeof S}(qe)?function Za(S,R,D,k){return(0,ue.D)(R).pipe(wt(j=>(0,Tn.z)(function jc(S,R){return null!==S&&R&&R(new Cs(S)),(0,fe.of)(!0)}(j.route.parent,k),function To(S,R){return null!==S&&R&&R(new ta(S)),(0,fe.of)(!0)}(j.route,k),function Os(S,R,D){const k=R[R.length-1],oe=R.slice(0,R.length-1).reverse().map(_e=>function Oi(S){const R=S.routeConfig?S.routeConfig.canActivateChild:null;return R&&0!==R.length?{node:S,guards:R}:null}(_e)).filter(_e=>null!==_e).map(_e=>ft(()=>{const qe=_e.guards.map(ze=>{const jt=As(_e.node)??D,Qn=Ws(ze,jt);return cn(function U(S){return S&&Wa(S.canActivateChild)}(Qn)?Qn.canActivateChild(k,S):jt.runInContext(()=>Qn(k,S))).pipe(rt())});return(0,fe.of)(qe).pipe(zi())}));return(0,fe.of)(oe).pipe(zi())}(S,j.path,D),function lc(S,R,D){const k=R.routeConfig?R.routeConfig.canActivate:null;if(!k||0===k.length)return(0,fe.of)(!0);const j=k.map(oe=>ft(()=>{const _e=As(R)??D,qe=Ws(oe,_e);return cn(function J(S){return S&&Wa(S.canActivate)}(qe)?qe.canActivate(R,S):_e.runInContext(()=>qe(R,S))).pipe(rt())}));return(0,fe.of)(j).pipe(zi())}(S,j.route,D))),rt(j=>!0!==j,!0))}(k,oe,S,R):(0,fe.of)(qe)),(0,_n.U)(qe=>({...D,guardsResult:qe})))})}(this.environmentInjector,ze=>this.events.next(ze)),(0,kt.b)(ze=>{if(oe.guardsResult=ze.guardsResult,Ls(ze.guardsResult))throw so(0,ze.guardsResult);const jt=new Bl(ze.id,this.urlSerializer.serialize(ze.extractedUrl),this.urlSerializer.serialize(ze.urlAfterRedirects),ze.targetSnapshot,!!ze.guardsResult);this.events.next(jt)}),(0,_r.h)(ze=>!!ze.guardsResult||(this.cancelNavigationTransition(ze,"",3),!1)),Ar(ze=>{if(ze.guards.canActivateChecks.length)return(0,fe.of)(ze).pipe((0,kt.b)(jt=>{const Qn=new Gi(jt.id,this.urlSerializer.serialize(jt.extractedUrl),this.urlSerializer.serialize(jt.urlAfterRedirects),jt.targetSnapshot);this.events.next(Qn)}),(0,Dn.w)(jt=>{let Qn=!1;return(0,fe.of)(jt).pipe(function V(S,R){return(0,ke.z)(D=>{const{targetSnapshot:k,guards:{canActivateChecks:j}}=D;if(!j.length)return(0,fe.of)(D);let oe=0;return(0,ue.D)(j).pipe(wt(_e=>function X(S,R,D,k){const j=S.routeConfig,oe=S._resolve;return void 0!==j?.title&&!bn(j)&&(oe[Ke]=j.title),function ve(S,R,D,k){const j=function tt(S){return[...Object.keys(S),...Object.getOwnPropertySymbols(S)]}(S);if(0===j.length)return(0,fe.of)({});const oe={};return(0,ue.D)(j).pipe((0,ke.z)(_e=>function mt(S,R,D,k){const j=As(R)??k,oe=Ws(S,j);return cn(oe.resolve?oe.resolve(R,D):j.runInContext(()=>oe(R,D)))}(S[_e],R,D,k).pipe(rt(),(0,kt.b)(qe=>{oe[_e]=qe}))),fn(1),(0,St.h)(oe),Gt(_e=>$i(_e)?yt.E:vt(_e)))}(oe,S,R,k).pipe((0,_n.U)(_e=>(S._resolvedData=_e,S.data=dr(S,D).resolve,j&&bn(j)&&(S.data[Ke]=j.title),null)))}(_e.route,k,S,R)),(0,kt.b)(()=>oe++),fn(1),(0,ke.z)(_e=>oe===j.length?(0,fe.of)(D):yt.E))})}(D.paramsInheritanceStrategy,this.environmentInjector),(0,kt.b)({next:()=>Qn=!0,complete:()=>{Qn||this.cancelNavigationTransition(jt,"",2)}}))}),(0,kt.b)(jt=>{const Qn=new yo(jt.id,this.urlSerializer.serialize(jt.extractedUrl),this.urlSerializer.serialize(jt.urlAfterRedirects),jt.targetSnapshot);this.events.next(Qn)}))}),Ar(ze=>{const jt=Qn=>{const Vr=[];Qn.routeConfig?.loadComponent&&!Qn.routeConfig._loadedComponent&&Vr.push(this.configLoader.loadComponent(Qn.routeConfig).pipe((0,kt.b)(sr=>{Qn.component=sr}),(0,_n.U)(()=>{})));for(const sr of Qn.children)Vr.push(...jt(sr));return Vr};return Ze(jt(ze.targetSnapshot.root)).pipe(je(),(0,Hn.q)(1))}),Ar(()=>this.afterPreactivation()),(0,_n.U)(ze=>{const jt=function vo(S,R,D){const k=Vo(S,R._root,D?D._root:void 0);return new $a(k,R)}(D.routeReuseStrategy,ze.targetSnapshot,ze.currentRouterState);return this.currentTransition=oe={...ze,targetRouterState:jt},oe}),(0,kt.b)(()=>{this.events.next(new ra)}),((S,R,D,k)=>(0,_n.U)(j=>(new $s(R,j.targetRouterState,j.currentRouterState,D,k).activate(S),j)))(this.rootContexts,D.routeReuseStrategy,ze=>this.events.next(ze),this.inputBindingEnabled),(0,Hn.q)(1),(0,kt.b)({next:ze=>{_e=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new $r(ze.id,this.urlSerializer.serialize(ze.extractedUrl),this.urlSerializer.serialize(ze.urlAfterRedirects))),D.titleStrategy?.updateTitle(ze.targetRouterState.snapshot),ze.resolve(!0)},complete:()=>{_e=!0}}),(0,Tr.R)(this.transitionAbortSubject.pipe((0,kt.b)(ze=>{throw ze}))),jn(()=>{_e||qe||this.cancelNavigationTransition(oe,"",1),this.currentNavigation?.id===oe.id&&(this.currentNavigation=null)}),Gt(ze=>{if(qe=!0,Sc(ze))this.events.next(new Xo(oe.id,this.urlSerializer.serialize(oe.extractedUrl),ze.message,ze.cancellationCode)),function sa(S){return Sc(S)&&Ls(S.url)}(ze)?this.events.next(new ia(ze.url)):oe.resolve(!1);else{this.events.next(new ea(oe.id,this.urlSerializer.serialize(oe.extractedUrl),ze,oe.targetSnapshot??void 0));try{oe.resolve(D.errorHandler(ze))}catch(jt){oe.reject(jt)}}return yt.E}))}))}cancelNavigationTransition(D,k,j){const oe=new Xo(D.id,this.urlSerializer.serialize(D.extractedUrl),k,j);this.events.next(oe),D.resolve(!1)}static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275prov=b.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();function Wi(S){return S!==_o}let Ii=(()=>{class S{buildTitle(D){let k,j=D.root;for(;void 0!==j;)k=this.getResolvedTitleForRoute(j)??k,j=j.children.find(oe=>oe.outlet===Ee);return k}getResolvedTitleForRoute(D){return D.data[Ke]}static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275prov=b.Yz7({token:S,factory:function(){return(0,b.f3M)(Xi)},providedIn:"root"})}return S})(),Xi=(()=>{class S extends Ii{constructor(D){super(),this.title=D}updateTitle(D){const k=this.buildTitle(D);void 0!==k&&this.title.setTitle(k)}static#e=this.\u0275fac=function(k){return new(k||S)(b.LFG(Ae.Dx))};static#t=this.\u0275prov=b.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})(),qi=(()=>{class S{static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275prov=b.Yz7({token:S,factory:function(){return(0,b.f3M)(Ca)},providedIn:"root"})}return S})();class So{shouldDetach(R){return!1}store(R,D){}shouldAttach(R){return!1}retrieve(R){return null}shouldReuseRoute(R,D){return R.routeConfig===D.routeConfig}}let Ca=(()=>{class S extends So{static#e=this.\u0275fac=function(){let D;return function(j){return(D||(D=b.n5z(S)))(j||S)}}();static#t=this.\u0275prov=b.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();const qs=new b.OlP("",{providedIn:"root",factory:()=>({})});let hl=(()=>{class S{static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275prov=b.Yz7({token:S,factory:function(){return(0,b.f3M)(vu)},providedIn:"root"})}return S})(),vu=(()=>{class S{shouldProcessUrl(D){return!0}extract(D){return D}merge(D,k){return D}static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275prov=b.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();var _s=function(S){return S[S.COMPLETE=0]="COMPLETE",S[S.FAILED=1]="FAILED",S[S.REDIRECTING=2]="REDIRECTING",S}(_s||{});function Ao(S,R){S.events.pipe((0,_r.h)(D=>D instanceof $r||D instanceof Xo||D instanceof ea||D instanceof as),(0,_n.U)(D=>D instanceof $r||D instanceof as?_s.COMPLETE:D instanceof Xo&&(0===D.code||1===D.code)?_s.REDIRECTING:_s.FAILED),(0,_r.h)(D=>D!==_s.REDIRECTING),(0,Hn.q)(1)).subscribe(()=>{R()})}function Vl(S){throw S}function Mr(S,R,D){return R.parse("/")}const Ac={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Wc={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let si=(()=>{class S{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,b.f3M)(b.c2e),this.isNgZoneEnabled=!1,this._events=new xn.x,this.options=(0,b.f3M)(qs,{optional:!0})||{},this.pendingTasks=(0,b.f3M)(b.HDt),this.errorHandler=this.options.errorHandler||Vl,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Mr,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,b.f3M)(hl),this.routeReuseStrategy=(0,b.f3M)(qi),this.titleStrategy=(0,b.f3M)(Ii),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,b.f3M)(Or,{optional:!0})?.flat()??[],this.navigationTransitions=(0,b.f3M)(ii),this.urlSerializer=(0,b.f3M)(Ce),this.location=(0,b.f3M)(dt.Ye),this.componentInputBindingEnabled=!!(0,b.f3M)(Xr,{optional:!0}),this.eventsSubscription=new Ge.w0,this.isNgZoneEnabled=(0,b.f3M)(b.R0b)instanceof b.R0b&&b.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ni,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=fi(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(D=>{this.lastSuccessfulId=D.id,this.currentPageId=this.browserPageId},D=>{this.console.warn(`Unhandled Navigation Error: ${D}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const D=this.navigationTransitions.events.subscribe(k=>{try{const{currentTransition:j}=this.navigationTransitions;if(null===j)return void(id(k)&&this._events.next(k));if(k instanceof va)Wi(j.source)&&(this.browserUrlTree=j.extractedUrl);else if(k instanceof as)this.rawUrlTree=j.rawUrl;else if(k instanceof Ul){if("eager"===this.urlUpdateStrategy){if(!j.extras.skipLocationChange){const oe=this.urlHandlingStrategy.merge(j.urlAfterRedirects,j.rawUrl);this.setBrowserUrl(oe,j)}this.browserUrlTree=j.urlAfterRedirects}}else if(k instanceof ra)this.currentUrlTree=j.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(j.urlAfterRedirects,j.rawUrl),this.routerState=j.targetRouterState,"deferred"===this.urlUpdateStrategy&&(j.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,j),this.browserUrlTree=j.urlAfterRedirects);else if(k instanceof Xo)0!==k.code&&1!==k.code&&(this.navigated=!0),(3===k.code||2===k.code)&&this.restoreHistory(j);else if(k instanceof ia){const oe=this.urlHandlingStrategy.merge(k.url,j.currentRawUrl),_e={skipLocationChange:j.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Wi(j.source)};this.scheduleNavigation(oe,_o,null,_e,{resolve:j.resolve,reject:j.reject,promise:j.promise})}k instanceof ea&&this.restoreHistory(j,!0),k instanceof $r&&(this.navigated=!0),id(k)&&this._events.next(k)}catch(j){this.navigationTransitions.transitionAbortSubject.next(j)}});this.eventsSubscription.add(D)}resetRootComponentType(D){this.routerState.root.component=D,this.navigationTransitions.rootComponentType=D}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const D=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),_o,D)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(D=>{const k="popstate"===D.type?"popstate":"hashchange";"popstate"===k&&setTimeout(()=>{this.navigateToSyncWithBrowser(D.url,k,D.state)},0)}))}navigateToSyncWithBrowser(D,k,j){const oe={replaceUrl:!0},_e=j?.navigationId?j:null;if(j){const ze={...j};delete ze.navigationId,delete ze.\u0275routerPageId,0!==Object.keys(ze).length&&(oe.state=ze)}const qe=this.parseUrl(D);this.scheduleNavigation(qe,k,_e,oe)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(D){this.config=D.map(za),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(D,k={}){const{relativeTo:j,queryParams:oe,fragment:_e,queryParamsHandling:qe,preserveFragment:ze}=k,jt=ze?this.currentUrlTree.fragment:_e;let Vr,Qn=null;switch(qe){case"merge":Qn={...this.currentUrlTree.queryParams,...oe};break;case"preserve":Qn=this.currentUrlTree.queryParams;break;default:Qn=oe||null}null!==Qn&&(Qn=this.removeEmptyProps(Qn));try{Vr=po(j?j.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof D[0]||!D[0].startsWith("/"))&&(D=[]),Vr=this.currentUrlTree.root}return Vi(Vr,D,Qn,jt??null)}navigateByUrl(D,k={skipLocationChange:!1}){const j=Ls(D)?D:this.parseUrl(D),oe=this.urlHandlingStrategy.merge(j,this.rawUrlTree);return this.scheduleNavigation(oe,_o,null,k)}navigate(D,k={skipLocationChange:!1}){return function fl(S){for(let R=0;R<S.length;R++)if(null==S[R])throw new b.vHH(4008,!1)}(D),this.navigateByUrl(this.createUrlTree(D,k),k)}serializeUrl(D){return this.urlSerializer.serialize(D)}parseUrl(D){let k;try{k=this.urlSerializer.parse(D)}catch(j){k=this.malformedUriErrorHandler(j,this.urlSerializer,D)}return k}isActive(D,k){let j;if(j=!0===k?{...Ac}:!1===k?{...Wc}:k,Ls(D))return Dr(this.currentUrlTree,D,j);const oe=this.parseUrl(D);return Dr(this.currentUrlTree,oe,j)}removeEmptyProps(D){return Object.keys(D).reduce((k,j)=>{const oe=D[j];return null!=oe&&(k[j]=oe),k},{})}scheduleNavigation(D,k,j,oe,_e){if(this.disposed)return Promise.resolve(!1);let qe,ze,jt;_e?(qe=_e.resolve,ze=_e.reject,jt=_e.promise):jt=new Promise((Vr,sr)=>{qe=Vr,ze=sr});const Qn=this.pendingTasks.add();return Ao(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Qn))}),this.navigationTransitions.handleNavigationRequest({source:k,restoredState:j,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:D,extras:oe,resolve:qe,reject:ze,promise:jt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),jt.catch(Vr=>Promise.reject(Vr))}setBrowserUrl(D,k){const j=this.urlSerializer.serialize(D);if(this.location.isCurrentPathEqualTo(j)||k.extras.replaceUrl){const _e={...k.extras.state,...this.generateNgRouterState(k.id,this.browserPageId)};this.location.replaceState(j,"",_e)}else{const oe={...k.extras.state,...this.generateNgRouterState(k.id,this.browserPageId+1)};this.location.go(j,"",oe)}}restoreHistory(D,k=!1){if("computed"===this.canceledNavigationResolution){const oe=this.currentPageId-this.browserPageId;0!==oe?this.location.historyGo(oe):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===oe&&(this.resetState(D),this.browserUrlTree=D.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(k&&this.resetState(D),this.resetUrlToCurrentUrlTree())}resetState(D){this.routerState=D.currentRouterState,this.currentUrlTree=D.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,D.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(D,k){return"computed"===this.canceledNavigationResolution?{navigationId:D,\u0275routerPageId:k}:{navigationId:D}}static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275prov=b.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();function id(S){return!(S instanceof ra||S instanceof ia)}let Sa=(()=>{class S{constructor(D,k,j,oe,_e,qe){this.router=D,this.route=k,this.tabIndexAttribute=j,this.renderer=oe,this.el=_e,this.locationStrategy=qe,this.href=null,this.commands=null,this.onChanges=new xn.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const ze=_e.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===ze||"area"===ze,this.isAnchorElement?this.subscription=D.events.subscribe(jt=>{jt instanceof $r&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(D){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",D)}ngOnChanges(D){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(D){null!=D?(this.commands=Array.isArray(D)?D:[D],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(D,k,j,oe,_e){return!!(null===this.urlTree||this.isAnchorElement&&(0!==D||k||j||oe||_e||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const D=null===this.href?null:(0,b.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",D)}applyAttributeValue(D,k){const j=this.renderer,oe=this.el.nativeElement;null!==k?j.setAttribute(oe,D,k):j.removeAttribute(oe,D)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(k){return new(k||S)(b.Y36(si),b.Y36(Qi),b.$8M("tabindex"),b.Y36(b.Qsj),b.Y36(b.SBq),b.Y36(dt.S$))};static#t=this.\u0275dir=b.lG2({type:S,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(k,j){1&k&&b.NdJ("click",function(_e){return j.onClick(_e.button,_e.ctrlKey,_e.shiftKey,_e.altKey,_e.metaKey)}),2&k&&b.uIk("target",j.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",b.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",b.VuI],replaceUrl:["replaceUrl","replaceUrl",b.VuI],routerLink:"routerLink"},standalone:!0,features:[b.Xq5,b.TTD]})}return S})();class sd{}let Hl=(()=>{class S{constructor(D,k,j,oe,_e){this.router=D,this.injector=j,this.preloadingStrategy=oe,this.loader=_e}setUpPreloading(){this.subscription=this.router.events.pipe((0,_r.h)(D=>D instanceof $r),wt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(D,k){const j=[];for(const oe of k){oe.providers&&!oe._injector&&(oe._injector=(0,b.MMx)(oe.providers,D,`Route: ${oe.path}`));const _e=oe._injector??D,qe=oe._loadedInjector??_e;(oe.loadChildren&&!oe._loadedRoutes&&void 0===oe.canLoad||oe.loadComponent&&!oe._loadedComponent)&&j.push(this.preloadConfig(_e,oe)),(oe.children||oe._loadedRoutes)&&j.push(this.processRoutes(qe,oe.children??oe._loadedRoutes))}return(0,ue.D)(j).pipe((0,br.J)())}preloadConfig(D,k){return this.preloadingStrategy.preload(k,()=>{let j;j=k.loadChildren&&void 0===k.canLoad?this.loader.loadChildren(D,k):(0,fe.of)(null);const oe=j.pipe((0,ke.z)(_e=>null===_e?(0,fe.of)(void 0):(k._loadedRoutes=_e.routes,k._loadedInjector=_e.injector,this.processRoutes(_e.injector??D,_e.routes))));if(k.loadComponent&&!k._loadedComponent){const _e=this.loader.loadComponent(k);return(0,ue.D)([oe,_e]).pipe((0,br.J)())}return oe})}static#e=this.\u0275fac=function(k){return new(k||S)(b.LFG(si),b.LFG(b.Sil),b.LFG(b.lqb),b.LFG(sd),b.LFG(Nr))};static#t=this.\u0275prov=b.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();const od=new b.OlP("");let Ei=(()=>{class S{constructor(D,k,j,oe,_e={}){this.urlSerializer=D,this.transitions=k,this.viewportScroller=j,this.zone=oe,this.options=_e,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},_e.scrollPositionRestoration=_e.scrollPositionRestoration||"disabled",_e.anchorScrolling=_e.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(D=>{D instanceof va?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=D.navigationTrigger,this.restoredId=D.restoredState?D.restoredState.navigationId:0):D instanceof $r?(this.lastId=D.id,this.scheduleScrollEvent(D,this.urlSerializer.parse(D.urlAfterRedirects).fragment)):D instanceof as&&0===D.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(D,this.urlSerializer.parse(D.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(D=>{D instanceof ro&&(D.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(D.position):D.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(D.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(D,k){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ro(D,"popstate"===this.lastSource?this.store[this.restoredId]:null,k))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(k){b.$Z()};static#t=this.\u0275prov=b.Yz7({token:S,factory:S.\u0275fac})}return S})();function ci(S,R){return{\u0275kind:S,\u0275providers:R}}function ad(){const S=(0,b.f3M)(b.zs3);return R=>{const D=S.get(b.z2F);if(R!==D.components[0])return;const k=S.get(si),j=S.get(jl);1===S.get(pl)&&k.initialNavigation(),S.get(zl,null,b.XFs.Optional)?.setUpPreloading(),S.get(od,null,b.XFs.Optional)?.init(),k.resetRootComponentType(D.componentTypes[0]),j.closed||(j.next(),j.complete(),j.unsubscribe())}}const jl=new b.OlP("",{factory:()=>new xn.x}),pl=new b.OlP("",{providedIn:"root",factory:()=>1}),zl=new b.OlP("");function Wl(S){return ci(0,[{provide:zl,useExisting:Hl},{provide:sd,useExisting:S}])}const Zi=new b.OlP("ROUTER_FORROOT_GUARD"),Qd=[dt.Ye,{provide:Ce,useClass:Qe},si,Yn,{provide:Qi,useFactory:function Aa(S){return S.routerState.root},deps:[si]},Nr,[]];function gl(){return new b.PXZ("Router",si)}let No=(()=>{class S{constructor(D){}static forRoot(D,k){return{ngModule:S,providers:[Qd,[],{provide:Or,multi:!0,useValue:D},{provide:Zi,useFactory:Zc,deps:[[si,new b.FiY,new b.tp0]]},{provide:qs,useValue:k||{}},k?.useHash?{provide:dt.S$,useClass:dt.Do}:{provide:dt.S$,useClass:dt.b0},{provide:od,useFactory:()=>{const S=(0,b.f3M)(dt.EM),R=(0,b.f3M)(b.R0b),D=(0,b.f3M)(qs),k=(0,b.f3M)(ii),j=(0,b.f3M)(Ce);return D.scrollOffset&&S.setOffset(D.scrollOffset),new Ei(j,k,S,R,D)}},k?.preloadingStrategy?Wl(k.preloadingStrategy).\u0275providers:[],{provide:b.PXZ,multi:!0,useFactory:gl},k?.initialNavigation?mc(k):[],k?.bindToComponentInputs?ci(8,[kn,{provide:Xr,useExisting:kn}]).\u0275providers:[],[{provide:ys,useFactory:ad},{provide:b.tb,multi:!0,useExisting:ys}]]}}static forChild(D){return{ngModule:S,providers:[{provide:Or,multi:!0,useValue:D}]}}static#e=this.\u0275fac=function(k){return new(k||S)(b.LFG(Zi,8))};static#t=this.\u0275mod=b.oAB({type:S});static#n=this.\u0275inj=b.cJS({})}return S})();function Zc(S){return"guarded"}function mc(S){return["disabled"===S.initialNavigation?ci(3,[{provide:b.ip1,multi:!0,useFactory:()=>{const R=(0,b.f3M)(si);return()=>{R.setUpLocationChangeListener()}}},{provide:pl,useValue:2}]).\u0275providers:[],"enabledBlocking"===S.initialNavigation?ci(2,[{provide:pl,useValue:0},{provide:b.ip1,multi:!0,deps:[b.zs3],useFactory:R=>{const D=R.get(dt.V_,Promise.resolve());return()=>D.then(()=>new Promise(k=>{const j=R.get(si),oe=R.get(jl);Ao(j,()=>{k(!0)}),R.get(ii).afterPreactivation=()=>(k(!0),oe.closed?(0,fe.of)(void 0):oe),j.initialNavigation()}))}}]).\u0275providers:[]]}const ys=new b.OlP("")},4303:(Ut,Be,K)=>{K.d(Be,{Jn:()=>Tr,KN:()=>gt,Mq:()=>Ae,Xd:()=>kt,ZF:()=>br,qX:()=>Gt});var b=K(5861),ne=K(4537),u=K(7879),be=K(9058),ue=K(1878);class fe{constructor(Ce){this.container=Ce}getPlatformInfoString(){return this.container.getProviders().map(Qe=>{if(function Te(it){const Ce=it.getComponent();return"VERSION"===Ce?.type}(Qe)){const Et=Qe.getImmediate();return`${Et.library}/${Et.version}`}return null}).filter(Qe=>Qe).join(" ")}}const Ve="@firebase/app",ae=new u.Yd("@firebase/app"),ke="[DEFAULT]",je={[Ve]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},et=new Map,He=new Map;function rt(it,Ce){try{it.container.addComponent(Ce)}catch(Qe){ae.debug(`Component ${Ce.name} failed to register with FirebaseApp ${it.name}`,Qe)}}function kt(it){const Ce=it.name;if(He.has(Ce))return ae.debug(`There were multiple attempts to register component ${Ce}.`),!1;He.set(Ce,it);for(const Qe of et.values())rt(Qe,it);return!0}function Gt(it,Ce){const Qe=it.container.getProvider("heartbeat").getImmediate({optional:!0});return Qe&&Qe.triggerHeartbeat(),it.container.getProvider(Ce)}const St=new be.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class jn{constructor(Ce,Qe,Et){this._isDeleted=!1,this._options=Object.assign({},Ce),this._config=Object.assign({},Qe),this._name=Qe.name,this._automaticDataCollectionEnabled=Qe.automaticDataCollectionEnabled,this._container=Et,this.container.addComponent(new ne.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ce){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ce}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ce){this._isDeleted=Ce}checkDestroyed(){if(this.isDeleted)throw St.create("app-deleted",{appName:this._name})}}const Tr="10.9.0";function br(it,Ce={}){let Qe=it;"object"!=typeof Ce&&(Ce={name:Ce});const Et=Object.assign({name:ke,automaticDataCollectionEnabled:!1},Ce),$t=Et.name;if("string"!=typeof $t||!$t)throw St.create("bad-app-name",{appName:String($t)});if(Qe||(Qe=(0,be.aH)()),!Qe)throw St.create("no-options");const Zt=et.get($t);if(Zt){if((0,be.vZ)(Qe,Zt.options)&&(0,be.vZ)(Et,Zt.config))return Zt;throw St.create("duplicate-app",{appName:$t})}const Wn=new ne.H0($t);for(const B of He.values())Wn.addComponent(B);const Q=new jn(Qe,Et,Wn);return et.set($t,Q),Q}function Ae(it=ke){const Ce=et.get(it);if(!Ce&&it===ke&&(0,be.aH)())return br();if(!Ce)throw St.create("no-app",{appName:it});return Ce}function gt(it,Ce,Qe){var Et;let $t=null!==(Et=je[it])&&void 0!==Et?Et:it;Qe&&($t+=`-${Qe}`);const Zt=$t.match(/\s|\//),Wn=Ce.match(/\s|\//);if(Zt||Wn){const Q=[`Unable to register library "${$t}" with version "${Ce}":`];return Zt&&Q.push(`library name "${$t}" contains illegal characters (whitespace or "/")`),Zt&&Wn&&Q.push("and"),Wn&&Q.push(`version name "${Ce}" contains illegal characters (whitespace or "/")`),void ae.warn(Q.join(" "))}kt(new ne.wA(`${$t}-version`,()=>({library:$t,version:Ce}),"VERSION"))}const pn="firebase-heartbeat-database",In=1,Yt="firebase-heartbeat-store";let cn=null;function yr(){return cn||(cn=(0,ue.X3)(pn,In,{upgrade:(it,Ce)=>{if(0===Ce)try{it.createObjectStore(Yt)}catch(Qe){console.warn(Qe)}}}).catch(it=>{throw St.create("idb-open",{originalErrorMessage:it.message})})),cn}function Dr(){return(Dr=(0,b.Z)(function*(it){try{const Qe=(yield yr()).transaction(Yt),Et=yield Qe.objectStore(Yt).get(or(it));return yield Qe.done,Et}catch(Ce){if(Ce instanceof be.ZR)ae.warn(Ce.message);else{const Qe=St.create("idb-get",{originalErrorMessage:Ce?.message});ae.warn(Qe.message)}}})).apply(this,arguments)}function Cr(it,Ce){return vn.apply(this,arguments)}function vn(){return(vn=(0,b.Z)(function*(it,Ce){try{const Et=(yield yr()).transaction(Yt,"readwrite");yield Et.objectStore(Yt).put(Ce,or(it)),yield Et.done}catch(Qe){if(Qe instanceof be.ZR)ae.warn(Qe.message);else{const Et=St.create("idb-set",{originalErrorMessage:Qe?.message});ae.warn(Et.message)}}})).apply(this,arguments)}function or(it){return`${it.name}!${it.options.appId}`}class Ln{constructor(Ce){this.container=Ce,this._heartbeatsCache=null;const Qe=this.container.getProvider("app").getImmediate();this._storage=new Yi(Qe),this._heartbeatsCachePromise=this._storage.read().then(Et=>(this._heartbeatsCache=Et,Et))}triggerHeartbeat(){var Ce=this;return(0,b.Z)(function*(){var Qe,Et;const Zt=Ce.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Wn=ni();if((null!=(null===(Qe=Ce._heartbeatsCache)||void 0===Qe?void 0:Qe.heartbeats)||(Ce._heartbeatsCache=yield Ce._heartbeatsCachePromise,null!=(null===(Et=Ce._heartbeatsCache)||void 0===Et?void 0:Et.heartbeats)))&&Ce._heartbeatsCache.lastSentHeartbeatDate!==Wn&&!Ce._heartbeatsCache.heartbeats.some(Q=>Q.date===Wn))return Ce._heartbeatsCache.heartbeats.push({date:Wn,agent:Zt}),Ce._heartbeatsCache.heartbeats=Ce._heartbeatsCache.heartbeats.filter(Q=>{const B=new Date(Q.date).valueOf();return Date.now()-B<=2592e6}),Ce._storage.overwrite(Ce._heartbeatsCache)})()}getHeartbeatsHeader(){var Ce=this;return(0,b.Z)(function*(){var Qe;if(null===Ce._heartbeatsCache&&(yield Ce._heartbeatsCachePromise),null==(null===(Qe=Ce._heartbeatsCache)||void 0===Qe?void 0:Qe.heartbeats)||0===Ce._heartbeatsCache.heartbeats.length)return"";const Et=ni(),{heartbeatsToSend:$t,unsentEntries:Zt}=function qt(it,Ce=1024){const Qe=[];let Et=it.slice();for(const $t of it){const Zt=Qe.find(Wn=>Wn.agent===$t.agent);if(Zt){if(Zt.dates.push($t.date),Zr(Qe)>Ce){Zt.dates.pop();break}}else if(Qe.push({agent:$t.agent,dates:[$t.date]}),Zr(Qe)>Ce){Qe.pop();break}Et=Et.slice(1)}return{heartbeatsToSend:Qe,unsentEntries:Et}}(Ce._heartbeatsCache.heartbeats),Wn=(0,be.L)(JSON.stringify({version:2,heartbeats:$t}));return Ce._heartbeatsCache.lastSentHeartbeatDate=Et,Zt.length>0?(Ce._heartbeatsCache.heartbeats=Zt,yield Ce._storage.overwrite(Ce._heartbeatsCache)):(Ce._heartbeatsCache.heartbeats=[],Ce._storage.overwrite(Ce._heartbeatsCache)),Wn})()}}function ni(){return(new Date).toISOString().substring(0,10)}class Yi{constructor(Ce){this.app=Ce,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,b.Z)(function*(){return!!(0,be.hl)()&&(0,be.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ce=this;return(0,b.Z)(function*(){if(yield Ce._canUseIndexedDBPromise){const Et=yield function Xt(it){return Dr.apply(this,arguments)}(Ce.app);return Et?.heartbeats?Et:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(Ce){var Qe=this;return(0,b.Z)(function*(){var Et;if(yield Qe._canUseIndexedDBPromise){const Zt=yield Qe.read();return Cr(Qe.app,{lastSentHeartbeatDate:null!==(Et=Ce.lastSentHeartbeatDate)&&void 0!==Et?Et:Zt.lastSentHeartbeatDate,heartbeats:Ce.heartbeats})}})()}add(Ce){var Qe=this;return(0,b.Z)(function*(){var Et;if(yield Qe._canUseIndexedDBPromise){const Zt=yield Qe.read();return Cr(Qe.app,{lastSentHeartbeatDate:null!==(Et=Ce.lastSentHeartbeatDate)&&void 0!==Et?Et:Zt.lastSentHeartbeatDate,heartbeats:[...Zt.heartbeats,...Ce.heartbeats]})}})()}}function Zr(it){return(0,be.L)(JSON.stringify({version:2,heartbeats:it})).length}!function jr(it){kt(new ne.wA("platform-logger",Ce=>new fe(Ce),"PRIVATE")),kt(new ne.wA("heartbeat",Ce=>new Ln(Ce),"PRIVATE")),gt(Ve,"0.9.29",it),gt(Ve,"0.9.29","esm2017"),gt("fire-js","")}("")},4537:(Ut,Be,K)=>{K.d(Be,{H0:()=>Ve,wA:()=>u});var b=K(5861),ne=K(9058);class u{constructor(ae,de,Me){this.name=ae,this.instanceFactory=de,this.type=Me,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ae){return this.instantiationMode=ae,this}setMultipleInstances(ae){return this.multipleInstances=ae,this}setServiceProps(ae){return this.serviceProps=ae,this}setInstanceCreatedCallback(ae){return this.onInstanceCreated=ae,this}}const be="[DEFAULT]";class ue{constructor(ae,de){this.name=ae,this.container=de,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ae){const de=this.normalizeInstanceIdentifier(ae);if(!this.instancesDeferred.has(de)){const Me=new ne.BH;if(this.instancesDeferred.set(de,Me),this.isInitialized(de)||this.shouldAutoInitialize())try{const Se=this.getOrInitializeService({instanceIdentifier:de});Se&&Me.resolve(Se)}catch{}}return this.instancesDeferred.get(de).promise}getImmediate(ae){var de;const Me=this.normalizeInstanceIdentifier(ae?.identifier),Se=null!==(de=ae?.optional)&&void 0!==de&&de;if(!this.isInitialized(Me)&&!this.shouldAutoInitialize()){if(Se)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Me})}catch(xe){if(Se)return null;throw xe}}getComponent(){return this.component}setComponent(ae){if(ae.name!==this.name)throw Error(`Mismatching Component ${ae.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ae,this.shouldAutoInitialize()){if(function Te(Oe){return"EAGER"===Oe.instantiationMode}(ae))try{this.getOrInitializeService({instanceIdentifier:be})}catch{}for(const[de,Me]of this.instancesDeferred.entries()){const Se=this.normalizeInstanceIdentifier(de);try{const xe=this.getOrInitializeService({instanceIdentifier:Se});Me.resolve(xe)}catch{}}}}clearInstance(ae=be){this.instancesDeferred.delete(ae),this.instancesOptions.delete(ae),this.instances.delete(ae)}delete(){var ae=this;return(0,b.Z)(function*(){const de=Array.from(ae.instances.values());yield Promise.all([...de.filter(Me=>"INTERNAL"in Me).map(Me=>Me.INTERNAL.delete()),...de.filter(Me=>"_delete"in Me).map(Me=>Me._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ae=be){return this.instances.has(ae)}getOptions(ae=be){return this.instancesOptions.get(ae)||{}}initialize(ae={}){const{options:de={}}=ae,Me=this.normalizeInstanceIdentifier(ae.instanceIdentifier);if(this.isInitialized(Me))throw Error(`${this.name}(${Me}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Se=this.getOrInitializeService({instanceIdentifier:Me,options:de});for(const[xe,Ze]of this.instancesDeferred.entries())Me===this.normalizeInstanceIdentifier(xe)&&Ze.resolve(Se);return Se}onInit(ae,de){var Me;const Se=this.normalizeInstanceIdentifier(de),xe=null!==(Me=this.onInitCallbacks.get(Se))&&void 0!==Me?Me:new Set;xe.add(ae),this.onInitCallbacks.set(Se,xe);const Ze=this.instances.get(Se);return Ze&&ae(Ze,Se),()=>{xe.delete(ae)}}invokeOnInitCallbacks(ae,de){const Me=this.onInitCallbacks.get(de);if(Me)for(const Se of Me)try{Se(ae,de)}catch{}}getOrInitializeService({instanceIdentifier:ae,options:de={}}){let Me=this.instances.get(ae);if(!Me&&this.component&&(Me=this.component.instanceFactory(this.container,{instanceIdentifier:(Oe=ae,Oe===be?void 0:Oe),options:de}),this.instances.set(ae,Me),this.instancesOptions.set(ae,de),this.invokeOnInitCallbacks(Me,ae),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ae,Me)}catch{}var Oe;return Me||null}normalizeInstanceIdentifier(ae=be){return this.component?this.component.multipleInstances?ae:be:ae}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ve{constructor(ae){this.name=ae,this.providers=new Map}addComponent(ae){const de=this.getProvider(ae.name);if(de.isComponentSet())throw new Error(`Component ${ae.name} has already been registered with ${this.name}`);de.setComponent(ae)}addOrOverwriteComponent(ae){this.getProvider(ae.name).isComponentSet()&&this.providers.delete(ae.name),this.addComponent(ae)}getProvider(ae){if(this.providers.has(ae))return this.providers.get(ae);const de=new ue(ae,this);return this.providers.set(ae,de),de}getProviders(){return Array.from(this.providers.values())}}},7879:(Ut,Be,K)=>{K.d(Be,{Yd:()=>Te,in:()=>ne});const b=[];var ne=function(ae){return ae[ae.DEBUG=0]="DEBUG",ae[ae.VERBOSE=1]="VERBOSE",ae[ae.INFO=2]="INFO",ae[ae.WARN=3]="WARN",ae[ae.ERROR=4]="ERROR",ae[ae.SILENT=5]="SILENT",ae}(ne||{});const u={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},be=ne.INFO,ue={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},fe=(ae,de,...Me)=>{if(de<ae.logLevel)return;const Se=(new Date).toISOString(),xe=ue[de];if(!xe)throw new Error(`Attempted to log a message with an invalid logType (value: ${de})`);console[xe](`[${Se}]  ${ae.name}:`,...Me)};class Te{constructor(de){this.name=de,this._logLevel=be,this._logHandler=fe,this._userLogHandler=null,b.push(this)}get logLevel(){return this._logLevel}set logLevel(de){if(!(de in ne))throw new TypeError(`Invalid value "${de}" assigned to \`logLevel\``);this._logLevel=de}setLogLevel(de){this._logLevel="string"==typeof de?u[de]:de}get logHandler(){return this._logHandler}set logHandler(de){if("function"!=typeof de)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=de}get userLogHandler(){return this._userLogHandler}set userLogHandler(de){this._userLogHandler=de}debug(...de){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...de),this._logHandler(this,ne.DEBUG,...de)}log(...de){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...de),this._logHandler(this,ne.VERBOSE,...de)}info(...de){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...de),this._logHandler(this,ne.INFO,...de)}warn(...de){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...de),this._logHandler(this,ne.WARN,...de)}error(...de){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...de),this._logHandler(this,ne.ERROR,...de)}}},1878:(Ut,Be,K)=>{K.d(Be,{X3:()=>Nt});var b=K(5861);const ne=(we,Xe)=>Xe.some(_t=>we instanceof _t);let u,be;const Te=new WeakMap,Ve=new WeakMap,Oe=new WeakMap,ae=new WeakMap,de=new WeakMap;let xe={get(we,Xe,_t){if(we instanceof IDBTransaction){if("done"===Xe)return Ve.get(we);if("objectStoreNames"===Xe)return we.objectStoreNames||Oe.get(we);if("store"===Xe)return _t.objectStoreNames[1]?void 0:_t.objectStore(_t.objectStoreNames[0])}return Ot(we[Xe])},set:(we,Xe,_t)=>(we[Xe]=_t,!0),has:(we,Xe)=>we instanceof IDBTransaction&&("done"===Xe||"store"===Xe)||Xe in we};function Pt(we){return"function"==typeof we?function It(we){return we!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function fe(){return be||(be=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(we)?function(...Xe){return we.apply(Tn(this),Xe),Ot(Te.get(this))}:function(...Xe){return Ot(we.apply(Tn(this),Xe))}:function(Xe,..._t){const xn=we.call(Tn(this),Xe,..._t);return Oe.set(xn,Xe.sort?Xe.sort():[Xe]),Ot(xn)}}(we):(we instanceof IDBTransaction&&function Se(we){if(Ve.has(we))return;const Xe=new Promise((_t,xn)=>{const dt=()=>{we.removeEventListener("complete",_n),we.removeEventListener("error",Dn),we.removeEventListener("abort",Dn)},_n=()=>{_t(),dt()},Dn=()=>{xn(we.error||new DOMException("AbortError","AbortError")),dt()};we.addEventListener("complete",_n),we.addEventListener("error",Dn),we.addEventListener("abort",Dn)});Ve.set(we,Xe)}(we),ne(we,function ue(){return u||(u=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(we,xe):we)}function Ot(we){if(we instanceof IDBRequest)return function Me(we){const Xe=new Promise((_t,xn)=>{const dt=()=>{we.removeEventListener("success",_n),we.removeEventListener("error",Dn)},_n=()=>{_t(Ot(we.result)),dt()},Dn=()=>{xn(we.error),dt()};we.addEventListener("success",_n),we.addEventListener("error",Dn)});return Xe.then(_t=>{_t instanceof IDBCursor&&Te.set(_t,we)}).catch(()=>{}),de.set(Xe,we),Xe}(we);if(ae.has(we))return ae.get(we);const Xe=Pt(we);return Xe!==we&&(ae.set(we,Xe),de.set(Xe,we)),Xe}const Tn=we=>de.get(we);function Nt(we,Xe,{blocked:_t,upgrade:xn,blocking:dt,terminated:_n}={}){const Dn=indexedDB.open(we,Xe),Hn=Ot(Dn);return xn&&Dn.addEventListener("upgradeneeded",rr=>{xn(Ot(Dn.result),rr.oldVersion,rr.newVersion,Ot(Dn.transaction),rr)}),_t&&Dn.addEventListener("blocked",rr=>_t(rr.oldVersion,rr.newVersion,rr)),Hn.then(rr=>{_n&&rr.addEventListener("close",()=>_n()),dt&&rr.addEventListener("versionchange",_r=>dt(_r.oldVersion,_r.newVersion,_r))}).catch(()=>{}),Hn}const at=["get","getKey","getAll","getAllKeys","count"],vt=["put","add","delete","clear"],yt=new Map;function Ge(we,Xe){if(!(we instanceof IDBDatabase)||Xe in we||"string"!=typeof Xe)return;if(yt.get(Xe))return yt.get(Xe);const _t=Xe.replace(/FromIndex$/,""),xn=Xe!==_t,dt=vt.includes(_t);if(!(_t in(xn?IDBIndex:IDBObjectStore).prototype)||!dt&&!at.includes(_t))return;const _n=function(){var Dn=(0,b.Z)(function*(Hn,...rr){const _r=this.transaction(Hn,dt?"readwrite":"readonly");let ke=_r.store;return xn&&(ke=ke.index(rr.shift())),(yield Promise.all([ke[_t](...rr),dt&&_r.done]))[0]});return function(rr){return Dn.apply(this,arguments)}}();return yt.set(Xe,_n),_n}!function Ze(we){xe=we(xe)}(we=>({...we,get:(Xe,_t,xn)=>Ge(Xe,_t)||we.get(Xe,_t,xn),has:(Xe,_t)=>!!Ge(Xe,_t)||we.has(Xe,_t)}))},5861:(Ut,Be,K)=>{function b(u,be,ue,fe,Te,Ve,Oe){try{var ae=u[Ve](Oe),de=ae.value}catch(Me){return void ue(Me)}ae.done?be(de):Promise.resolve(de).then(fe,Te)}function ne(u){return function(){var be=this,ue=arguments;return new Promise(function(fe,Te){var Ve=u.apply(be,ue);function Oe(de){b(Ve,fe,Te,Oe,ae,"next",de)}function ae(de){b(Ve,fe,Te,Oe,ae,"throw",de)}Oe(void 0)})}}K.d(Be,{Z:()=>ne})},7582:(Ut,Be,K)=>{function be(ke,je){var et={};for(var He in ke)Object.prototype.hasOwnProperty.call(ke,He)&&je.indexOf(He)<0&&(et[He]=ke[He]);if(null!=ke&&"function"==typeof Object.getOwnPropertySymbols){var rt=0;for(He=Object.getOwnPropertySymbols(ke);rt<He.length;rt++)je.indexOf(He[rt])<0&&Object.prototype.propertyIsEnumerable.call(ke,He[rt])&&(et[He[rt]]=ke[He[rt]])}return et}function Me(ke,je,et,He){return new(et||(et=Promise))(function(wt,kt){function Gt(yn){try{fn(He.next(yn))}catch(St){kt(St)}}function hn(yn){try{fn(He.throw(yn))}catch(St){kt(St)}}function fn(yn){yn.done?wt(yn.value):function rt(wt){return wt instanceof et?wt:new et(function(kt){kt(wt)})}(yn.value).then(Gt,hn)}fn((He=He.apply(ke,je||[])).next())})}function ft(ke){return this instanceof ft?(this.v=ke,this):new ft(ke)}function at(ke,je,et){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var rt,He=et.apply(ke,je||[]),wt=[];return rt={},kt("next"),kt("throw"),kt("return"),rt[Symbol.asyncIterator]=function(){return this},rt;function kt(jn){He[jn]&&(rt[jn]=function(Tr){return new Promise(function(br,Ae){wt.push([jn,Tr,br,Ae])>1||Gt(jn,Tr)})})}function Gt(jn,Tr){try{!function hn(jn){jn.value instanceof ft?Promise.resolve(jn.value.v).then(fn,yn):St(wt[0][2],jn)}(He[jn](Tr))}catch(br){St(wt[0][3],br)}}function fn(jn){Gt("next",jn)}function yn(jn){Gt("throw",jn)}function St(jn,Tr){jn(Tr),wt.shift(),wt.length&&Gt(wt[0][0],wt[0][1])}}function yt(ke){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var et,je=ke[Symbol.asyncIterator];return je?je.call(ke):(ke=function It(ke){var je="function"==typeof Symbol&&Symbol.iterator,et=je&&ke[je],He=0;if(et)return et.call(ke);if(ke&&"number"==typeof ke.length)return{next:function(){return ke&&He>=ke.length&&(ke=void 0),{value:ke&&ke[He++],done:!ke}}};throw new TypeError(je?"Object is not iterable.":"Symbol.iterator is not defined.")}(ke),et={},He("next"),He("throw"),He("return"),et[Symbol.asyncIterator]=function(){return this},et);function He(wt){et[wt]=ke[wt]&&function(kt){return new Promise(function(Gt,hn){!function rt(wt,kt,Gt,hn){Promise.resolve(hn).then(function(fn){wt({value:fn,done:Gt})},kt)}(Gt,hn,(kt=ke[wt](kt)).done,kt.value)})}}}K.d(Be,{FC:()=>at,KL:()=>yt,_T:()=>be,mG:()=>Me,qq:()=>ft}),"function"==typeof SuppressedError&&SuppressedError}},Ut=>{var Be=b=>Ut(Ut.s=b);Be(2614),Be(9479)}]);