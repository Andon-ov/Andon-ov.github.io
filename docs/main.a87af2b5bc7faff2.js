"use strict";(self.webpackChunkThe_Natural_Way=self.webpackChunkThe_Natural_Way||[]).push([[179],{431:()=>{function Ie(t){return"function"==typeof t}function gs(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const ma=gs(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function ms(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Ut{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Ie(r))try{r()}catch(o){e=o instanceof ma?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{_a(o)}catch(s){e=e??[],s instanceof ma?e=[...e,...s.errors]:e.push(s)}}if(e)throw new ma(e)}}add(e){var n;if(e&&e!==this)if(this.closed)_a(e);else{if(e instanceof Ut){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ms(n,e)}remove(e){const{_finalizers:n}=this;n&&ms(n,e),e instanceof Ut&&e._removeParent(this)}}Ut.EMPTY=(()=>{const t=new Ut;return t.closed=!0,t})();const Td=Ut.EMPTY;function wg(t){return t instanceof Ut||t&&"closed"in t&&Ie(t.remove)&&Ie(t.add)&&Ie(t.unsubscribe)}function _a(t){Ie(t)?t():t.unsubscribe()}const _s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Xc={setTimeout(t,e,...n){const{delegate:r}=Xc;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Xc;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function hb(t){Xc.setTimeout(()=>{const{onUnhandledError:e}=_s;if(!e)throw t;e(t)})}function ya(){}const fb=Ed("C",void 0,void 0);function Ed(t,e,n){return{kind:t,value:e,error:n}}let So=null;function qi(t){if(_s.useDeprecatedSynchronousErrorHandling){const e=!So;if(e&&(So={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=So;if(So=null,n)throw r}}else t()}class eu extends Ut{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,wg(e)&&e.add(this)):this.destination=Sd}static create(e,n,r){return new Wi(e,n,r)}next(e){this.isStopped?Dd(function gb(t){return Ed("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Dd(function pb(t){return Ed("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Dd(fb,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ig=Function.prototype.bind;function tu(t,e){return Ig.call(t,e)}class Cg{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){$r(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){$r(r)}else $r(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){$r(n)}}}class Wi extends eu{constructor(e,n,r){let i;if(super(),Ie(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&_s.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&tu(e.next,o),error:e.error&&tu(e.error,o),complete:e.complete&&tu(e.complete,o)}):i=e}this.destination=new Cg(i)}}function $r(t){_s.useDeprecatedSynchronousErrorHandling?function mb(t){_s.useDeprecatedSynchronousErrorHandling&&So&&(So.errorThrown=!0,So.error=t)}(t):hb(t)}function Dd(t,e){const{onStoppedNotification:n}=_s;n&&Xc.setTimeout(()=>n(t,e))}const Sd={closed:!0,next:ya,error:function Tg(t){throw t},complete:ya},xd="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ii(t){return t}function Dg(t){return 0===t.length?Ii:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Ge=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function yb(t){return t&&t instanceof eu||function _b(t){return t&&Ie(t.next)&&Ie(t.error)&&Ie(t.complete)}(t)&&wg(t)}(n)?n:new Wi(n,r,i);return qi(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=Sg(r))((i,o)=>{const s=new Wi({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[xd](){return this}pipe(...n){return Dg(n)(this)}toPromise(n){return new(n=Sg(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function Sg(t){var e;return null!==(e=t??_s.Promise)&&void 0!==e?e:Promise}const vb=gs(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Fe=(()=>{class t extends Ge{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new xg(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new vb}next(n){qi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){qi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){qi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?Td:(this.currentObservers=null,o.push(n),new Ut(()=>{this.currentObservers=null,ms(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new Ge;return n.source=this,n}}return t.create=(e,n)=>new xg(e,n),t})();class xg extends Fe{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:Td}}function Ad(t){return Ie(t?.lift)}function St(t){return e=>{if(Ad(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ut(t,e,n,r,i){return new bb(t,e,n,r,i)}class bb extends eu{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Oe(t,e){return St((n,r)=>{let i=0;n.subscribe(ut(r,o=>{r.next(t.call(e,o,i++))}))})}function ru(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function wr(t){return this instanceof wr?(this.v=t,this):new wr(t)}function Ir(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function jt(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){!function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}(a,c,(s=t[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Db=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function $k(t){return Ie(t?.then)}function Hk(t){return Ie(t[xd])}function Gk(t){return Symbol.asyncIterator&&Ie(t?.[Symbol.asyncIterator])}function zk(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const qk=function lK(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Wk(t){return Ie(t?.[qk])}function Kk(t){return function va(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(h){r[h]&&(i[h]=function(f){return new Promise(function(_,y){o.push([h,f,_,y])>1||a(h,f)})})}function a(h,f){try{!function c(h){h.value instanceof wr?Promise.resolve(h.value.v).then(u,l):d(o[0][2],h)}(r[h](f))}catch(_){d(o[0][3],_)}}function u(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield wr(n.read());if(i)return yield wr(void 0);yield yield wr(r)}}finally{n.releaseLock()}})}function Yk(t){return Ie(t?.getReader)}function cn(t){if(t instanceof Ge)return t;if(null!=t){if(Hk(t))return function dK(t){return new Ge(e=>{const n=t[xd]();if(Ie(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Db(t))return function hK(t){return new Ge(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if($k(t))return function fK(t){return new Ge(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,hb)})}(t);if(Gk(t))return Qk(t);if(Wk(t))return function pK(t){return new Ge(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(Yk(t))return function gK(t){return Qk(Kk(t))}(t)}throw zk(t)}function Qk(t){return new Ge(e=>{(function mK(t,e){var n,r,i,o;return function R(t,e,n,r){return new(n||(n=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=Ir(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function xo(t,e,n,r=0,i=!1){const o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function un(t,e,n=1/0){return Ie(e)?un((r,i)=>Oe((o,s)=>e(r,o,i,s))(cn(t(r,i))),n):("number"==typeof e&&(n=e),St((r,i)=>function _K(t,e,n,r,i,o,s,a){const c=[];let u=0,l=0,d=!1;const h=()=>{d&&!c.length&&!u&&e.complete()},f=y=>u<r?_(y):c.push(y),_=y=>{o&&e.next(y),u++;let v=!1;cn(n(y,l++)).subscribe(ut(e,T=>{i?.(T),o?f(T):e.next(T)},()=>{v=!0},void 0,()=>{if(v)try{for(u--;c.length&&u<r;){const T=c.shift();s?xo(e,s,()=>_(T)):_(T)}h()}catch(T){e.error(T)}}))};return t.subscribe(ut(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function ou(t=1/0){return un(Ii,t)}const ai=new Ge(t=>t.complete());function Jk(t){return t&&Ie(t.schedule)}function Sb(t){return t[t.length-1]}function Mg(t){return Ie(Sb(t))?t.pop():void 0}function Od(t){return Jk(Sb(t))?t.pop():void 0}function Rg(t,e=0){return St((n,r)=>{n.subscribe(ut(r,i=>xo(r,t,()=>r.next(i),e),()=>xo(r,t,()=>r.complete(),e),i=>xo(r,t,()=>r.error(i),e)))})}function kg(t,e=0){return St((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Zk(t,e){if(!t)throw new Error("Iterable cannot be null");return new Ge(n=>{xo(n,e,()=>{const r=t[Symbol.asyncIterator]();xo(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function vn(t,e){return e?function EK(t,e){if(null!=t){if(Hk(t))return function bK(t,e){return cn(t).pipe(kg(e),Rg(e))}(t,e);if(Db(t))return function IK(t,e){return new Ge(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if($k(t))return function wK(t,e){return cn(t).pipe(kg(e),Rg(e))}(t,e);if(Gk(t))return Zk(t,e);if(Wk(t))return function CK(t,e){return new Ge(n=>{let r;return xo(n,e,()=>{r=t[qk](),xo(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>Ie(r?.return)&&r.return()})}(t,e);if(Yk(t))return function TK(t,e){return Zk(Kk(t),e)}(t,e)}throw zk(t)}(t,e):cn(t)}class Kn extends Fe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function ce(...t){return vn(t,Od(t))}function xb(t={}){const{connector:e=(()=>new Fe),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,c,u=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=c=void 0,l=d=!1},_=()=>{const y=s;f(),y?.unsubscribe()};return St((y,v)=>{u++,!d&&!l&&h();const T=c=c??e();v.add(()=>{u--,0===u&&!d&&!l&&(a=Ab(_,i))}),T.subscribe(v),!s&&u>0&&(s=new Wi({next:w=>T.next(w),error:w=>{d=!0,h(),a=Ab(f,n,w),T.error(w)},complete:()=>{l=!0,h(),a=Ab(f,r),T.complete()}}),cn(y).subscribe(s))})(o)}}function Ab(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Wi({next:()=>{r.unsubscribe(),t()}});return cn(e(...n)).subscribe(r)}function Ci(t,e){return St((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(ut(r,c=>{i?.unsubscribe();let u=0;const l=o++;cn(t(c,l)).subscribe(i=ut(r,d=>r.next(e?e(c,d,l,u++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function DK(t,e){return t===e}function tt(t){for(let e in t)if(t[e]===tt)return e;throw Error("Could not find renamed property on target object.")}function Pg(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ln(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ln).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Nb(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const SK=tt({__forward_ref__:tt});function Ee(t){return t.__forward_ref__=Ee,t.toString=function(){return ln(this())},t}function de(t){return Ob(t)?t():t}function Ob(t){return"function"==typeof t&&t.hasOwnProperty(SK)&&t.__forward_ref__===Ee}function Mb(t){return t&&!!t.\u0275providers}const tP="https://g.co/ng/security#xss";class U extends Error{constructor(e,n){super(function Fg(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function fe(t){return"string"==typeof t?t:null==t?"":String(t)}function Rb(t,e){throw new U(-201,!1)}function ci(t,e){null==t&&function ue(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function G(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function we(t){return{providers:t.providers||[],imports:t.imports||[]}}function Lg(t){return nP(t,Bg)||nP(t,rP)}function nP(t,e){return t.hasOwnProperty(e)?t[e]:null}function Vg(t){return t&&(t.hasOwnProperty(kb)||t.hasOwnProperty(PK))?t[kb]:null}const Bg=tt({\u0275prov:tt}),kb=tt({\u0275inj:tt}),rP=tt({ngInjectableDef:tt}),PK=tt({ngInjectorDef:tt});var De=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(De||{});let Pb;function Cr(t){const e=Pb;return Pb=t,e}function oP(t,e,n){const r=Lg(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&De.Optional?null:void 0!==e?e:void Rb(ln(t))}const lt=globalThis;class te{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=G({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Md={},Ub="__NG_DI_FLAG__",Ug="ngTempTokenPath",VK=/\n/gm,aP="__source";let su;function vs(t){const e=su;return su=t,e}function jK(t,e=De.Default){if(void 0===su)throw new U(-203,!1);return null===su?oP(t,void 0,e):su.get(t,e&De.Optional?null:void 0,e)}function q(t,e=De.Default){return(function iP(){return Pb}()||jK)(de(t),e)}function K(t,e=De.Default){return q(t,jg(e))}function jg(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function jb(t){const e=[];for(let n=0;n<t.length;n++){const r=de(t[n]);if(Array.isArray(r)){if(0===r.length)throw new U(900,!1);let i,o=De.Default;for(let s=0;s<r.length;s++){const a=r[s],c=$K(a);"number"==typeof c?-1===c?i=a.token:o|=c:i=a}e.push(q(i,o))}else e.push(q(r))}return e}function Rd(t,e){return t[Ub]=e,t.prototype[Ub]=e,t}function $K(t){return t[Ub]}function Ao(t){return{toString:t}.toString()}var $g=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}($g||{}),Ti=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ti||{});const Ki={},je=[],Hg=tt({\u0275cmp:tt}),$b=tt({\u0275dir:tt}),Hb=tt({\u0275pipe:tt}),uP=tt({\u0275mod:tt}),No=tt({\u0275fac:tt}),kd=tt({__NG_ELEMENT_ID__:tt}),lP=tt({__NG_ENV_ID__:tt});function dP(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Gb(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{const o=i,s=n[++r];fP(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function hP(t){return 3===t||4===t||6===t}function fP(t){return 64===t.charCodeAt(0)}function Pd(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||pP(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function pP(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const a=t[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<t.length;){const a=t[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}const gP="ng-template";function zK(t,e,n){let r=0,i=!0;for(;r<t.length;){let o=t[r++];if("string"==typeof o&&i){const s=t[r++];if(n&&"class"===o&&-1!==dP(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;r<t.length&&"string"==typeof(o=t[r++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function mP(t){return 4===t.type&&t.value!==gP}function qK(t,e,n){return e===(4!==t.type||n?t.value:gP)}function WK(t,e,n){let r=4;const i=t.attrs||[],o=function QK(t){for(let e=0;e<t.length;e++)if(hP(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!qK(t,c,n)||""===c&&1===e.length){if(Ei(r))return!1;s=!0}}else{const u=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!zK(t.attrs,u,n)){if(Ei(r))return!1;s=!0}continue}const d=KK(8&r?"class":c,i,mP(t),n);if(-1===d){if(Ei(r))return!1;s=!0;continue}if(""!==u){let h;h=d>o?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==dP(f,u,0)||2&r&&u!==h){if(Ei(r))return!1;s=!0}}}}else{if(!s&&!Ei(r)&&!Ei(c))return!1;if(s&&Ei(c))continue;s=!1,r=c|1&r}}return Ei(r)||s}function Ei(t){return 0==(1&t)}function KK(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){const s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function JK(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function _P(t,e,n=!1){for(let r=0;r<e.length;r++)if(WK(t,e[r],n))return!0;return!1}function ZK(t,e){e:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function yP(t,e){return t?":not("+e.trim()+")":e}function XK(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!Ei(s)&&(e+=yP(o,i),i=""),r=s,o=o||!Ei(r);n++}return""!==i&&(e+=yP(o,i)),e}function Le(t){return Ao(()=>{const e=bP(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===$g.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ti.Emulated,styles:t.styles||je,_:null,schemas:t.schemas||null,tView:null,id:""};wP(n);const r=t.dependencies;return n.directiveDefs=Gg(r,!1),n.pipeDefs=Gg(r,!0),n.id=function aY(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function rY(t){return Me(t)||Mn(t)}function iY(t){return null!==t}function Ce(t){return Ao(()=>({type:t.type,bootstrap:t.bootstrap||je,declarations:t.declarations||je,imports:t.imports||je,exports:t.exports||je,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function vP(t,e){if(null==t)return Ki;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}function H(t){return Ao(()=>{const e=bP(t);return wP(e),e})}function Yn(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Me(t){return t[Hg]||null}function Mn(t){return t[$b]||null}function sr(t){return t[Hb]||null}function Gr(t,e){const n=t[uP]||null;if(!n&&!0===e)throw new Error(`Type ${ln(t)} does not have '\u0275mod' property.`);return n}function bP(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Ki,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||je,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:vP(t.inputs,e),outputs:vP(t.outputs)}}function wP(t){t.features?.forEach(e=>e(t))}function Gg(t,e){if(!t)return null;const n=e?sr:rY;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(iY)}const Rt=0,ee=1,ye=2,Ct=3,Di=4,Fd=5,Qn=6,cu=7,$t=8,bs=9,uu=10,pe=11,Ld=12,IP=13,lu=14,Ht=15,Vd=16,du=17,Yi=18,Bd=19,CP=20,ws=21,Oo=22,Ud=23,jd=24,Se=25,zb=1,TP=2,Qi=7,hu=9,Rn=11;function Tr(t){return Array.isArray(t)&&"object"==typeof t[zb]}function ar(t){return Array.isArray(t)&&!0===t[zb]}function qb(t){return 0!=(4&t.flags)}function Ia(t){return t.componentOffset>-1}function qg(t){return 1==(1&t.flags)}function Si(t){return!!t.template}function Wb(t){return 0!=(512&t[ye])}function Ca(t,e){return t.hasOwnProperty(No)?t[No]:null}let kn=null,Wg=!1;function ui(t){const e=kn;return kn=t,e}const SP={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function AP(t){if(!Hd(t)||t.dirty){if(!t.producerMustRecompute(t)&&!MP(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function OP(t){t.dirty=!0,function NP(t){if(void 0===t.liveConsumerNode)return;const e=Wg;Wg=!0;try{for(const n of t.liveConsumerNode)n.dirty||OP(n)}finally{Wg=e}}(t),t.consumerMarkedDirty?.(t)}function Yb(t){return t&&(t.nextProducerIndex=0),ui(t)}function Qb(t,e){if(ui(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Hd(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Kg(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function MP(t){fu(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(AP(n),r!==n.version))return!0}return!1}function RP(t){if(fu(t),Hd(t))for(let e=0;e<t.producerNode.length;e++)Kg(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Kg(t,e){if(function PP(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),fu(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)Kg(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];fu(i),i.producerIndexOfThis[r]=e}}function Hd(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function fu(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let FP=null;const UP=()=>{},bY=(()=>({...SP,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:UP}))();class wY{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Pn(){return jP}function jP(t){return t.type.prototype.ngOnChanges&&(t.setInput=CY),IY}function IY(){const t=HP(this),e=t?.current;if(e){const n=t.previous;if(n===Ki)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function CY(t,e,n,r){const i=this.declaredInputs[n],o=HP(t)||function TY(t,e){return t[$P]=e}(t,{previous:Ki,current:null}),s=o.current||(o.current={}),a=o.previous,c=a[i];s[i]=new wY(c&&c.currentValue,e,a===Ki),t[r]=e}Pn.ngInherit=!0;const $P="__ngSimpleChanges__";function HP(t){return t[$P]||null}const Ji=function(t,e,n){},GP="svg";function dt(t){for(;Array.isArray(t);)t=t[Rt];return t}function Yg(t,e){return dt(e[t])}function Er(t,e){return dt(e[t.index])}function qP(t,e){return t.data[e]}function pu(t,e){return t[e]}function zr(t,e){const n=e[t];return Tr(n)?n:n[Rt]}function Cs(t,e){return null==e?null:t[e]}function WP(t){t[du]=0}function NY(t){1024&t[ye]||(t[ye]|=1024,YP(t,1))}function KP(t){1024&t[ye]&&(t[ye]&=-1025,YP(t,-1))}function YP(t,e){let n=t[Ct];if(null===n)return;n[Fd]+=e;let r=n;for(n=n[Ct];null!==n&&(1===e&&1===r[Fd]||-1===e&&0===r[Fd]);)n[Fd]+=e,r=n,n=n[Ct]}const le={lFrame:s2(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function ZP(){return le.bindingsEnabled}function gu(){return null!==le.skipHydrationRootTNode}function L(){return le.lFrame.lView}function Re(){return le.lFrame.tView}function ze(t){return le.lFrame.contextLView=t,t[$t]}function qe(t){return le.lFrame.contextLView=null,t}function Fn(){let t=XP();for(;null!==t&&64===t.type;)t=t.parent;return t}function XP(){return le.lFrame.currentTNode}function Zi(t,e){const n=le.lFrame;n.currentTNode=t,n.isParent=e}function t1(){return le.lFrame.isParent}function n1(){le.lFrame.isParent=!1}function cr(){const t=le.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function mu(){return le.lFrame.bindingIndex++}function Ro(t){const e=le.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function $Y(t,e){const n=le.lFrame;n.bindingIndex=n.bindingRootIndex=t,r1(e)}function r1(t){le.lFrame.currentDirectiveIndex=t}function r2(){return le.lFrame.currentQueryIndex}function o1(t){le.lFrame.currentQueryIndex=t}function GY(t){const e=t[ee];return 2===e.type?e.declTNode:1===e.type?t[Qn]:null}function i2(t,e,n){if(n&De.SkipSelf){let i=e,o=t;for(;!(i=i.parent,null!==i||n&De.Host||(i=GY(o),null===i||(o=o[lu],10&i.type))););if(null===i)return!1;e=i,t=o}const r=le.lFrame=o2();return r.currentTNode=e,r.lView=t,!0}function s1(t){const e=o2(),n=t[ee];le.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function o2(){const t=le.lFrame,e=null===t?null:t.child;return null===e?s2(t):e}function s2(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function a2(){const t=le.lFrame;return le.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const c2=a2;function a1(){const t=a2();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ur(){return le.lFrame.selectedIndex}function Ta(t){le.lFrame.selectedIndex=t}function xt(){const t=le.lFrame;return qP(t.tView,t.selectedIndex)}function ko(){le.lFrame.currentNamespace=GP}function _u(){!function KY(){le.lFrame.currentNamespace=null}()}let l2=!0;function Qg(){return l2}function Ts(t){l2=t}function Jg(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function Zg(t,e,n){d2(t,e,3,n)}function Xg(t,e,n,r){(3&t[ye])===n&&d2(t,e,n,r)}function c1(t,e){let n=t[ye];(3&n)===e&&(n&=8191,n+=1,t[ye]=n)}function d2(t,e,n,r){const o=r??-1,s=e.length-1;let a=0;for(let c=void 0!==r?65535&t[du]:0;c<s;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(t[du]+=65536),(a<o||-1==o)&&(QY(t,n,e,c),t[du]=(4294901760&t[du])+c+2),c++}function h2(t,e){Ji(4,t,e);const n=ui(null);try{e.call(t)}finally{ui(n),Ji(5,t,e)}}function QY(t,e,n,r){const i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[ye]>>13<t[du]>>16&&(3&t[ye])===e&&(t[ye]+=8192,h2(a,o)):h2(a,o)}const yu=-1;class zd{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function l1(t){return t!==yu}function qd(t){return 32767&t}function Wd(t,e){let n=function eQ(t){return t>>16}(t),r=e;for(;n>0;)r=r[lu],n--;return r}let d1=!0;function em(t){const e=d1;return d1=t,e}const f2=255,p2=5;let tQ=0;const Xi={};function tm(t,e){const n=g2(t,e);if(-1!==n)return n;const r=e[ee];r.firstCreatePass&&(t.injectorIndex=e.length,h1(r.data,t),h1(e,null),h1(r.blueprint,null));const i=nm(t,e),o=t.injectorIndex;if(l1(i)){const s=qd(i),a=Wd(i,e),c=a[ee].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|c[s+u]}return e[o+8]=i,o}function h1(t,e){t.push(0,0,0,0,0,0,0,0,e)}function g2(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function nm(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=I2(i),null===r)return yu;if(n++,i=i[lu],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return yu}function f1(t,e,n){!function nQ(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(kd)&&(r=n[kd]),null==r&&(r=n[kd]=tQ++);const i=r&f2;e.data[t+(i>>p2)]|=1<<i}(t,e,n)}function m2(t,e,n){if(n&De.Optional||void 0!==t)return t;Rb()}function _2(t,e,n,r){if(n&De.Optional&&void 0===r&&(r=null),!(n&(De.Self|De.Host))){const i=t[bs],o=Cr(void 0);try{return i?i.get(e,r,n&De.Optional):oP(e,r,n&De.Optional)}finally{Cr(o)}}return m2(r,0,n)}function y2(t,e,n,r=De.Default,i){if(null!==t){if(2048&e[ye]&&!(r&De.Self)){const s=function cQ(t,e,n,r,i){let o=t,s=e;for(;null!==o&&null!==s&&2048&s[ye]&&!(512&s[ye]);){const a=v2(o,s,n,r|De.Self,Xi);if(a!==Xi)return a;let c=o.parent;if(!c){const u=s[CP];if(u){const l=u.get(n,Xi,r);if(l!==Xi)return l}c=I2(s),s=s[lu]}o=c}return i}(t,e,n,r,Xi);if(s!==Xi)return s}const o=v2(t,e,n,r,Xi);if(o!==Xi)return o}return _2(e,n,r,i)}function v2(t,e,n,r,i){const o=function oQ(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(kd)?t[kd]:void 0;return"number"==typeof e?e>=0?e&f2:aQ:e}(n);if("function"==typeof o){if(!i2(e,t,r))return r&De.Host?m2(i,0,r):_2(e,n,r,i);try{let s;if(s=o(r),null!=s||r&De.Optional)return s;Rb()}finally{c2()}}else if("number"==typeof o){let s=null,a=g2(t,e),c=yu,u=r&De.Host?e[Ht][Qn]:null;for((-1===a||r&De.SkipSelf)&&(c=-1===a?nm(t,e):e[a+8],c!==yu&&w2(r,!1)?(s=e[ee],a=qd(c),e=Wd(c,e)):a=-1);-1!==a;){const l=e[ee];if(b2(o,a,l.data)){const d=iQ(a,e,n,s,r,u);if(d!==Xi)return d}c=e[a+8],c!==yu&&w2(r,e[ee].data[a+8]===u)&&b2(o,a,e)?(s=l,a=qd(c),e=Wd(c,e)):a=-1}}return i}function iQ(t,e,n,r,i,o){const s=e[ee],a=s.data[t+8],l=rm(a,s,n,null==r?Ia(a)&&d1:r!=s&&0!=(3&a.type),i&De.Host&&o===a);return null!==l?Ea(e,s,l,a):Xi}function rm(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,c=t.directiveStart,l=o>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const _=s[f];if(f<c&&n===_||f>=c&&_.type===n)return f}if(i){const f=s[c];if(f&&Si(f)&&f.type===n)return c}return null}function Ea(t,e,n,r){let i=t[n];const o=e.data;if(function JY(t){return t instanceof zd}(i)){const s=i;s.resolving&&function xK(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new U(-200,`Circular dependency in DI detected for ${t}${n}`)}(function Qe(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():fe(t)}(o[n]));const a=em(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?Cr(s.injectImpl):null;i2(t,r,De.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function YY(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=jP(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}(n,o[n],e)}finally{null!==u&&Cr(u),em(a),s.resolving=!1,c2()}}return i}function b2(t,e,n){return!!(n[e+(t>>p2)]&1<<t)}function w2(t,e){return!(t&De.Self||t&De.Host&&e)}class lr{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return y2(this._tNode,this._lView,e,jg(r),n)}}function aQ(){return new lr(Fn(),L())}function Gt(t){return Ao(()=>{const e=t.prototype.constructor,n=e[No]||p1(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const o=i[No]||p1(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function p1(t){return Ob(t)?()=>{const e=p1(de(t));return e&&e()}:Ca(t)}function I2(t){const e=t[ee],n=e.type;return 2===n?e.declTNode:1===n?t[Qn]:null}const bu="__parameters__";function Iu(t,e,n){return Ao(()=>{const r=function g1(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(c,u,l){const d=c.hasOwnProperty(bu)?c[bu]:Object.defineProperty(c,bu,{value:[]})[bu];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Tu(t,e){t.forEach(n=>Array.isArray(n)?Tu(n,e):e(n))}function T2(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function im(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Qd(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function qr(t,e,n){let r=Eu(t,e);return r>=0?t[1|r]=n:(r=~r,function gQ(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function m1(t,e){const n=Eu(t,e);if(n>=0)return t[1|n]}function Eu(t,e){return function E2(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}(t,e,1)}const Dr=Rd(Iu("Optional"),8),sm=Rd(Iu("SkipSelf"),4);function dm(t){return 128==(128&t.flags)}var Es=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Es||{});const FQ=/^>|^->|<!--|-->|--!>|<!-$/g,LQ=/(<|>)/g,VQ="\u200b$1\u200b";const w1=new Map;let BQ=0;const C1="__ngContext__";function Jn(t,e){Tr(e)?(t[C1]=e[Bd],function jQ(t){w1.set(t[Bd],t)}(e)):t[C1]=e}let T1;function E1(t,e){return T1(t,e)}function Xd(t){const e=t[Ct];return ar(e)?e[Ct]:e}function z2(t){return W2(t[Ld])}function q2(t){return W2(t[Di])}function W2(t){for(;null!==t&&!ar(t);)t=t[Di];return t}function xu(t,e,n,r,i){if(null!=r){let o,s=!1;ar(r)?o=r:Tr(r)&&(s=!0,r=r[Rt]);const a=dt(r);0===t&&null!==n?null==i?J2(e,n,a):Sa(e,n,a,i||null,!0):1===t&&null!==n?Sa(e,n,a,i||null,!0):2===t?function ym(t,e,n){const r=mm(t,e);r&&function sJ(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function uJ(t,e,n,r,i){const o=n[Qi];o!==dt(n)&&xu(e,t,r,o,i);for(let a=Rn;a<n.length;a++){const c=n[a];th(c[ee],c,t,e,r,o)}}(e,t,o,n,i)}}function D1(t,e){return t.createComment(function L2(t){return t.replace(FQ,e=>e.replace(LQ,VQ))}(e))}function pm(t,e,n){return t.createElement(e,n)}function Y2(t,e){const n=t[hu],r=n.indexOf(e);KP(e),n.splice(r,1)}function gm(t,e){if(t.length<=Rn)return;const n=Rn+e,r=t[n];if(r){const i=r[Vd];null!==i&&i!==t&&Y2(i,r),e>0&&(t[n-1][Di]=r[Di]);const o=im(t,Rn+e);!function ZQ(t,e){th(t,e,e[pe],2,null,null),e[Rt]=null,e[Qn]=null}(r[ee],r);const s=o[Yi];null!==s&&s.detachView(o[ee]),r[Ct]=null,r[Di]=null,r[ye]&=-129}return r}function S1(t,e){if(!(256&e[ye])){const n=e[pe];e[Ud]&&RP(e[Ud]),e[jd]&&RP(e[jd]),n.destroyNode&&th(t,e,n,3,null,null),function tJ(t){let e=t[Ld];if(!e)return x1(t[ee],t);for(;e;){let n=null;if(Tr(e))n=e[Ld];else{const r=e[Rn];r&&(n=r)}if(!n){for(;e&&!e[Di]&&e!==t;)Tr(e)&&x1(e[ee],e),e=e[Ct];null===e&&(e=t),Tr(e)&&x1(e[ee],e),n=e&&e[Di]}e=n}}(e)}}function x1(t,e){if(!(256&e[ye])){e[ye]&=-129,e[ye]|=256,function oJ(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof zd)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],c=o[s+1];Ji(4,a,c);try{c.call(a)}finally{Ji(5,a,c)}}else{Ji(4,i,o);try{o.call(i)}finally{Ji(5,i,o)}}}}}(t,e),function iJ(t,e){const n=t.cleanup,r=e[cu];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(e[cu]=null);const i=e[ws];if(null!==i){e[ws]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(t,e),1===e[ee].type&&e[pe].destroy();const n=e[Vd];if(null!==n&&ar(e[Ct])){n!==e[Ct]&&Y2(n,e);const r=e[Yi];null!==r&&r.detachView(t)}!function $Q(t){w1.delete(t[Bd])}(e)}}function A1(t,e,n){return function Q2(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[Rt];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=t.data[r.directiveStart+i];if(o===Ti.None||o===Ti.Emulated)return null}return Er(r,n)}}(t,e.parent,n)}function Sa(t,e,n,r,i){t.insertBefore(e,n,r,i)}function J2(t,e,n){t.appendChild(e,n)}function Z2(t,e,n,r,i){null!==r?Sa(t,e,n,r,i):J2(t,e,n)}function mm(t,e){return t.parentNode(e)}function X2(t,e,n){return tF(t,e,n)}let N1,vm,k1,bm,tF=function eF(t,e,n){return 40&t.type?Er(t,n):null};function _m(t,e,n,r){const i=A1(t,r,e),o=e[pe],a=X2(r.parent||e[Qn],r,e);if(null!=i)if(Array.isArray(n))for(let c=0;c<n.length;c++)Z2(o,i,n[c],a,!1);else Z2(o,i,n,a,!1);void 0!==N1&&N1(o,r,e,n,i)}function eh(t,e){if(null!==e){const n=e.type;if(3&n)return Er(e,t);if(4&n)return O1(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return eh(t,r);{const i=t[e.index];return ar(i)?O1(-1,i):dt(i)}}if(32&n)return E1(e,t)()||dt(t[e.index]);{const r=rF(t,e);return null!==r?Array.isArray(r)?r[0]:eh(Xd(t[Ht]),r):eh(t,e.next)}}return null}function rF(t,e){return null!==e?t[Ht][Qn].projection[e.projection]:null}function O1(t,e){const n=Rn+t+1;if(n<e.length){const r=e[n],i=r[ee].firstChild;if(null!==i)return eh(r,i)}return e[Qi]}function M1(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],c=n.type;if(s&&0===e&&(a&&Jn(dt(a),r),n.flags|=2),32!=(32&n.flags))if(8&c)M1(t,e,n.child,r,i,o,!1),xu(e,t,i,a,o);else if(32&c){const u=E1(n,r);let l;for(;l=u();)xu(e,t,i,l,o);xu(e,t,i,a,o)}else 16&c?oF(t,e,r,n,i,o):xu(e,t,i,a,o);n=s?n.projectionNext:n.next}}function th(t,e,n,r,i,o){M1(n,r,t.firstChild,e,i,o,!1)}function oF(t,e,n,r,i,o){const s=n[Ht],c=s[Qn].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++)xu(e,t,i,c[u],o);else{let u=c;const l=s[Ct];dm(r)&&(u.flags|=128),M1(t,e,u,l,i,o,!0)}}function sF(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function aF(t,e,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&Gb(t,e,r),null!==i&&sF(t,e,i),null!==o&&function dJ(t,e,n){t.setAttribute(e,"style",n)}(t,e,o)}function Au(t){return function R1(){if(void 0===vm&&(vm=null,lt.trustedTypes))try{vm=lt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return vm}()?.createHTML(t)||t}function lF(t){return function P1(){if(void 0===bm&&(bm=null,lt.trustedTypes))try{bm=lt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return bm}()?.createScriptURL(t)||t}class xa{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${tP})`}}class mJ extends xa{getTypeName(){return"HTML"}}class _J extends xa{getTypeName(){return"Style"}}class yJ extends xa{getTypeName(){return"Script"}}class vJ extends xa{getTypeName(){return"URL"}}class bJ extends xa{getTypeName(){return"ResourceURL"}}function Wr(t){return t instanceof xa?t.changingThisBreaksApplicationSecurity:t}function eo(t,e){const n=function wJ(t){return t instanceof xa&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${tP})`)}return n===e}class SJ{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const n=(new window.DOMParser).parseFromString(Au(e),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}}class xJ{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const n=this.inertDocument.createElement("template");return n.innerHTML=Au(e),n}}const NJ=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function wm(t){return(t=String(t)).match(NJ)?t:"unsafe:"+t}function Po(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function nh(...t){const e={};for(const n of t)for(const r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}const hF=Po("area,br,col,hr,img,wbr"),fF=Po("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),pF=Po("rp,rt"),F1=nh(hF,nh(fF,Po("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),nh(pF,Po("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),nh(pF,fF)),L1=Po("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),gF=nh(L1,Po("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Po("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),OJ=Po("script,style,template");class MJ{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(e){const n=e.nodeName.toLowerCase();if(!F1.hasOwnProperty(n))return this.sanitizedSomething=!0,!OJ.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=e.attributes;for(let i=0;i<r.length;i++){const o=r.item(i),s=o.name,a=s.toLowerCase();if(!gF.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;L1[a]&&(c=wm(c)),this.buf.push(" ",s,'="',mF(c),'"')}return this.buf.push(">"),!0}endElement(e){const n=e.nodeName.toLowerCase();F1.hasOwnProperty(n)&&!hF.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(mF(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}}const RJ=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,kJ=/([^\#-~ |!])/g;function mF(t){return t.replace(/&/g,"&amp;").replace(RJ,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(kJ,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Im;function _F(t,e){let n=null;try{Im=Im||function dF(t){const e=new xJ(t);return function AJ(){try{return!!(new window.DOMParser).parseFromString(Au(""),"text/html")}catch{return!1}}()?new SJ(e):e}(t);let r=e?String(e):"";n=Im.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Im.getInertBodyElement(r)}while(r!==o);return Au((new MJ).sanitizeChildren(V1(n)||n))}finally{if(n){const r=V1(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function V1(t){return"content"in t&&function PJ(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var di=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(di||{});function Ds(t){const e=rh();return e?e.sanitize(di.URL,t)||"":eo(t,"URL")?Wr(t):wm(fe(t))}function Cm(t){const e=rh();if(e)return lF(e.sanitize(di.RESOURCE_URL,t)||"");if(eo(t,"ResourceURL"))return lF(Wr(t));throw new U(904,!1)}function rh(){const t=L();return t&&t[uu].sanitizer}const ih=new te("ENVIRONMENT_INITIALIZER"),vF=new te("INJECTOR",-1),bF=new te("INJECTOR_DEF_TYPES");class B1{get(e,n=Md){if(n===Md){const r=new Error(`NullInjectorError: No provider for ${ln(e)}!`);throw r.name="NullInjectorError",r}return n}}function $J(...t){return{\u0275providers:IF(0,t),\u0275fromNgModule:!0}}function IF(t,...e){const n=[],r=new Set;let i;const o=s=>{n.push(s)};return Tu(e,s=>{const a=s;Tm(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&CF(i,o),n}function CF(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];U1(i,o=>{e(o,r)})}}function Tm(t,e,n,r){if(!(t=de(t)))return!1;let i=null,o=Vg(t);const s=!o&&Me(t);if(o||s){if(s&&!s.standalone)return!1;i=t}else{const c=t.ngModule;if(o=Vg(c),!o)return!1;i=c}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const u of c)Tm(u,e,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let u;r.add(i);try{Tu(o.imports,l=>{Tm(l,e,n,r)&&(u||=[],u.push(l))})}finally{}void 0!==u&&CF(u,e)}if(!a){const u=Ca(i)||(()=>new i);e({provide:i,useFactory:u,deps:je},i),e({provide:bF,useValue:i,multi:!0},i),e({provide:ih,useValue:()=>q(i),multi:!0},i)}const c=o.providers;if(null!=c&&!a){const u=t;U1(c,l=>{e(l,u)})}}}return i!==t&&void 0!==t.providers}function U1(t,e){for(let n of t)Mb(n)&&(n=n.\u0275providers),Array.isArray(n)?U1(n,e):e(n)}const HJ=tt({provide:String,useValue:tt});function j1(t){return null!==t&&"object"==typeof t&&HJ in t}function Aa(t){return"function"==typeof t}const $1=new te("Set Injector scope."),Em={},zJ={};let H1;function Dm(){return void 0===H1&&(H1=new B1),H1}class xr{}class Ou extends xr{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,z1(e,s=>this.processProvider(s)),this.records.set(vF,Mu(void 0,this)),i.has("environment")&&this.records.set(xr,Mu(void 0,this));const o=this.records.get($1);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(bF.multi,je,De.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=vs(this),r=Cr(void 0);try{return e()}finally{vs(n),Cr(r)}}get(e,n=Md,r=De.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(lP))return e[lP](this);r=jg(r);const o=vs(this),s=Cr(void 0);try{if(!(r&De.SkipSelf)){let c=this.records.get(e);if(void 0===c){const u=function QJ(t){return"function"==typeof t||"object"==typeof t&&t instanceof te}(e)&&Lg(e);c=u&&this.injectableDefInScope(u)?Mu(G1(e),Em):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(r&De.Self?Dm():this.parent).get(e,n=r&De.Optional&&n===Md?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[Ug]=a[Ug]||[]).unshift(ln(e)),o)throw a;return function HK(t,e,n,r){const i=t[Ug];throw e[aP]&&i.unshift(e[aP]),t.message=function GK(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=ln(e);if(Array.isArray(e))i=e.map(ln).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):ln(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(VK,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Ug]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{Cr(s),vs(o)}}resolveInjectorInitializers(){const e=vs(this),n=Cr(void 0);try{const i=this.get(ih.multi,je,De.Self);for(const o of i)o()}finally{vs(e),Cr(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(ln(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new U(205,!1)}processProvider(e){let n=Aa(e=de(e))?e:de(e&&e.provide);const r=function WJ(t){return j1(t)?Mu(void 0,t.useValue):Mu(DF(t),Em)}(e);if(Aa(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Mu(void 0,Em,!0),i.factory=()=>jb(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Em&&(n.value=zJ,n.value=n.factory()),"object"==typeof n.value&&n.value&&function YJ(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=de(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function G1(t){const e=Lg(t),n=null!==e?e.factory:Ca(t);if(null!==n)return n;if(t instanceof te)throw new U(204,!1);if(t instanceof Function)return function qJ(t){const e=t.length;if(e>0)throw Qd(e,"?"),new U(204,!1);const n=function kK(t){return t&&(t[Bg]||t[rP])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new U(204,!1)}function DF(t,e,n){let r;if(Aa(t)){const i=de(t);return Ca(i)||G1(i)}if(j1(t))r=()=>de(t.useValue);else if(function EF(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...jb(t.deps||[]));else if(function TF(t){return!(!t||!t.useExisting)}(t))r=()=>q(de(t.useExisting));else{const i=de(t&&(t.useClass||t.provide));if(!function KJ(t){return!!t.deps}(t))return Ca(i)||G1(i);r=()=>new i(...jb(t.deps))}return r}function Mu(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function z1(t,e){for(const n of t)Array.isArray(n)?z1(n,e):n&&Mb(n)?z1(n.\u0275providers,e):e(n)}const Sm=new te("AppId",{providedIn:"root",factory:()=>JJ}),JJ="ng",SF=new te("Platform Initializer"),Fo=new te("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),xF=new te("CSP nonce",{providedIn:"root",factory:()=>function Nu(){if(void 0!==k1)return k1;if(typeof document<"u")return document;throw new U(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let AF=(t,e,n)=>null;function X1(t,e,n=!1){return AF(t,e,n)}class aZ{}class MF{}class uZ{resolveComponentFactory(e){throw function cZ(t){const e=Error(`No component factory found for ${ln(t)}.`);return e.ngComponent=t,e}(e)}}let Rm=(()=>{class t{static#e=this.NULL=new uZ}return t})();function lZ(){return Pu(Fn(),L())}function Pu(t,e){return new $e(Er(t,e))}let $e=(()=>{class t{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=lZ}return t})();function dZ(t){return t instanceof $e?t.nativeElement:t}class nw{}let Ar=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function hZ(){const t=L(),n=zr(Fn().index,t);return(Tr(n)?n:t)[pe]}()}return t})(),fZ=(()=>{class t{static#e=this.\u0275prov=G({token:t,providedIn:"root",factory:()=>null})}return t})();class Fu{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const rw=new Fu("16.2.12"),iw={};function LF(t,e=null,n=null,r){const i=VF(t,e,n,r);return i.resolveInjectorInitializers(),i}function VF(t,e=null,n=null,r,i=new Set){const o=[n||je,$J(t)];return r=r||("object"==typeof t?void 0:ln(t)),new Ou(o,e||Dm(),r||null,i)}let en=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=Md;static#t=this.NULL=new B1;static create(n,r){if(Array.isArray(n))return LF({name:""},r,n,"");{const i=n.name??"";return LF({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=G({token:t,providedIn:"any",factory:()=>q(vF)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function ow(t){return t.ngOriginalError}class Lo{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&ow(e);for(;n&&ow(n);)n=ow(n);return n||null}}function sw(t){return e=>{setTimeout(t,void 0,e)}}const P=class wZ extends Fe{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=sw(o),i&&(i=sw(i)),s&&(s=sw(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ut&&e.add(a),a}};function UF(...t){}class Te{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new P(!1),this.onMicrotaskEmpty=new P(!1),this.onStable=new P(!1),this.onError=new P(!1),typeof Zone>"u")throw new U(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function IZ(){const t="function"==typeof lt.requestAnimationFrame;let e=lt[t?"requestAnimationFrame":"setTimeout"],n=lt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function EZ(t){const e=()=>{!function TZ(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(lt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,cw(t),t.isCheckStableRunning=!0,aw(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),cw(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(function SZ(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,o,s,a);try{return jF(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),$F(t)}},onInvoke:(n,r,i,o,s,a,c)=>{try{return jF(t),n.invoke(i,o,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),$F(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,cw(t),aw(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Te.isInAngularZone())throw new U(909,!1)}static assertNotInAngularZone(){if(Te.isInAngularZone())throw new U(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,CZ,UF,UF);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const CZ={};function aw(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function cw(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function jF(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function $F(t){t._nesting--,aw(t)}class DZ{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new P,this.onMicrotaskEmpty=new P,this.onStable=new P,this.onError=new P}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const HF=new te("",{providedIn:"root",factory:GF});function GF(){const t=K(Te);let e=!0;return function Xk(...t){const e=Od(t),n=function vK(t,e){return"number"==typeof Sb(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?cn(r[0]):ou(n)(vn(r,e)):ai}(new Ge(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new Ge(i=>{let o;t.runOutsideAngular(()=>{o=t.onStable.subscribe(()=>{Te.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const s=t.onUnstable.subscribe(()=>{Te.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(xb()))}function zF(t){return t.ownerDocument.defaultView}function Vo(t){return t instanceof Function?t():t}let uw=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=G({token:t,providedIn:"root",factory:()=>new t})}return t})();function ah(t){for(;t;){t[ye]|=64;const e=Xd(t);if(Wb(t)&&!e)return t;t=e}return null}const QF=new te("",{providedIn:"root",factory:()=>!1});let Fm=null;function eL(t,e){return t[e]??rL()}function tL(t,e){const n=rL();n.producerNode?.length&&(t[e]=Fm,n.lView=t,Fm=nL())}const FZ={...SP,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ah(t.lView)},lView:null};function nL(){return Object.create(FZ)}function rL(){return Fm??=nL(),Fm}const _e={};function C(t){iL(Re(),L(),ur()+t,!1)}function iL(t,e,n,r){if(!r)if(3==(3&e[ye])){const o=t.preOrderCheckHooks;null!==o&&Zg(e,o,n)}else{const o=t.preOrderHooks;null!==o&&Xg(e,o,0,n)}Ta(n)}function b(t,e=De.Default){const n=L();return null===n?q(t,e):y2(Fn(),n,de(t),e)}function Lm(t,e,n,r,i,o,s,a,c,u,l){const d=e.blueprint.slice();return d[Rt]=i,d[ye]=140|r,(null!==u||t&&2048&t[ye])&&(d[ye]|=2048),WP(d),d[Ct]=d[lu]=t,d[$t]=n,d[uu]=s||t&&t[uu],d[pe]=a||t&&t[pe],d[bs]=c||t&&t[bs]||null,d[Qn]=o,d[Bd]=function UQ(){return BQ++}(),d[Oo]=l,d[CP]=u,d[Ht]=2==e.type?t[Ht]:d,d}function Uu(t,e,n,r,i){let o=t.data[e];if(null===o)o=function lw(t,e,n,r,i){const o=XP(),s=t1(),c=t.data[e]=function GZ(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return gu()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(t,e,n,r,i),function jY(){return le.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function Gd(){const t=le.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Zi(o,!0),o}function ch(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function sL(t,e,n,r,i){const o=eL(e,Ud),s=ur(),a=2&r;try{Ta(-1),a&&e.length>Se&&iL(t,e,Se,!1),Ji(a?2:0,i);const u=a?o:null,l=Yb(u);try{null!==u&&(u.dirty=!1),n(r,i)}finally{Qb(u,l)}}finally{a&&null===e[Ud]&&tL(e,Ud),Ta(s),Ji(a?3:1,i)}}function dw(t,e,n){if(qb(e)){const r=ui(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=t.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{ui(r)}}}function hw(t,e,n){ZP()&&(function JZ(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;Ia(n)&&function iX(t,e,n){const r=Er(e,t),i=aL(n);let s=16;n.signals?s=4096:n.onPush&&(s=64);const a=Vm(t,Lm(t,i,null,s,r,e,null,t[uu].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||tm(n,e),Jn(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const c=t.data[a],u=Ea(e,t,a,n);Jn(u,e),null!==s&&oX(0,a-i,u,c,0,s),Si(c)&&(zr(n.index,e)[$t]=Ea(e,t,a,n))}}(t,e,n,Er(n,e)),64==(64&n.flags)&&hL(t,e,n))}function fw(t,e,n=Er){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function aL(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=pw(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function pw(t,e,n,r,i,o,s,a,c,u,l){const d=Se+r,h=d+i,f=function VZ(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:_e);return n}(d,h),_="function"==typeof u?u():u;return f[ee]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:_,incompleteFirstPass:!1,ssrId:l}}let cL=t=>null;function uL(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const o=t[i];null===r?lL(n,e,i,o):r.hasOwnProperty(i)&&lL(n,e,r[i],o)}return n}function lL(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function Kr(t,e,n,r,i,o,s,a){const c=Er(e,n);let l,u=e.inputs;!a&&null!=u&&(l=u[r])?(vw(t,n,l,r,i),Ia(e)&&function WZ(t,e){const n=zr(e,t);16&n[ye]||(n[ye]|=64)}(n,e.index)):3&e.type&&(r=function qZ(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(c,r,i))}function gw(t,e,n,r){if(ZP()){const i=null===r?null:{"":-1},o=function XZ(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];if(_P(e,s.selectors,!1))if(r||(r=[]),Si(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),mw(t,e,a.length)}else r.unshift(s),mw(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(t,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&dL(t,e,n,s,i,a),i&&function eX(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const o=n[e[i+1]];if(null==o)throw new U(-301,!1);r.push(e[i],o)}}}(n,r,i)}n.mergedAttrs=Pd(n.mergedAttrs,n.attrs)}function dL(t,e,n,r,i,o){for(let u=0;u<r.length;u++)f1(tm(n,e),t,r[u].type);!function nX(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let u=0;u<r.length;u++){const l=r[u];l.providersResolver&&l.providersResolver(l)}let s=!1,a=!1,c=ch(t,e,r.length,null);for(let u=0;u<r.length;u++){const l=r[u];n.mergedAttrs=Pd(n.mergedAttrs,l.hostAttrs),rX(t,n,e,c,l),tX(c,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}!function zZ(t,e,n){const i=e.directiveEnd,o=t.data,s=e.attrs,a=[];let c=null,u=null;for(let l=e.directiveStart;l<i;l++){const d=o[l],h=n?n.get(d):null,_=h?h.outputs:null;c=uL(d.inputs,l,c,h?h.inputs:null),u=uL(d.outputs,l,u,_);const y=null===c||null===s||mP(e)?null:sX(c,l,s);a.push(y)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}(t,n,o)}function hL(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function HY(){return le.lFrame.currentDirectiveIndex}();try{Ta(o);for(let a=r;a<i;a++){const c=t.data[a],u=e[a];r1(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&ZZ(c,u)}}finally{Ta(-1),r1(s)}}function ZZ(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function mw(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function tX(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Si(e)&&(n[""]=t)}}function rX(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=Ca(i.type)),s=new zd(o,Si(i),b);t.blueprint[r]=s,n[r]=s,function YZ(t,e,n,r,i){const o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const a=~e.index;(function QZ(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(t,e,r,ch(t,n,i.hostVars,_e),i)}function to(t,e,n,r,i,o){const s=Er(t,e);!function _w(t,e,n,r,i,o,s){if(null==o)t.removeAttribute(e,i,n);else{const a=null==s?fe(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}(e[pe],s,o,t.value,n,r,i)}function oX(t,e,n,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)fL(r,n,s[a++],s[a++],s[a++])}function fL(t,e,n,r,i){const o=ui(null);try{const s=t.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{ui(o)}}function sX(t,e,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===r&&(r=[]);const s=t[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(o,s[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function pL(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function gL(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r+1];if(-1!==o){const s=t.data[o];o1(n[r]),s.contentQueries(2,e[o],o)}}}function Vm(t,e){return t[Ld]?t[IP][Di]=e:t[Ld]=e,t[IP]=e,e}function yw(t,e,n){o1(0);const r=ui(null);try{e(t,n)}finally{ui(r)}}function mL(t){return t[cu]||(t[cu]=[])}function _L(t){return t.cleanup||(t.cleanup=[])}function vL(t,e){const n=t[bs],r=n?n.get(Lo,null):null;r&&r.handleError(e)}function vw(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++];fL(t.data[s],e[s],r,a,i)}}function Bo(t,e,n){const r=Yg(e,t);!function K2(t,e,n){t.setValue(e,n)}(t[pe],r,n)}function aX(t,e){const n=zr(e,t),r=n[ee];!function cX(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[Rt];null!==i&&null===n[Oo]&&(n[Oo]=X1(i,n[bs])),bw(r,n,n[$t])}function bw(t,e,n){s1(e);try{const r=t.viewQuery;null!==r&&yw(1,r,n);const i=t.template;null!==i&&sL(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&gL(t,e),t.staticViewQueries&&yw(2,t.viewQuery,n);const o=t.components;null!==o&&function uX(t,e){for(let n=0;n<e.length;n++)aX(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ye]&=-5,a1()}}let bL=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const o=typeof Zone>"u"?null:Zone.current,s=function vY(t,e,n){const r=Object.create(bY);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=s=>{r.cleanupFn=s};return r.ref={notify:()=>OP(r),run:()=>{if(r.dirty=!1,r.hasRun&&!MP(r))return;r.hasRun=!0;const s=Yb(r);try{r.cleanupFn(),r.cleanupFn=UP,r.fn(i)}finally{Qb(r,s)}},cleanup:()=>r.cleanupFn()},r.ref}(n,u=>{this.all.has(u)&&this.queue.set(u,o)},i);let a;this.all.add(s),s.notify();const c=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=r?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=G({token:t,providedIn:"root",factory:()=>new t})}return t})();function Bm(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=Nb(i,a):2==o&&(r=Nb(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function uh(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];null!==o&&r.push(dt(o)),ar(o)&&wL(o,r);const s=n.type;if(8&s)uh(t,e,n.child,r);else if(32&s){const a=E1(n,e);let c;for(;c=a();)r.push(c)}else if(16&s){const a=rF(e,n);if(Array.isArray(a))r.push(...a);else{const c=Xd(e[Ht]);uh(c[ee],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function wL(t,e){for(let n=Rn;n<t.length;n++){const r=t[n],i=r[ee].firstChild;null!==i&&uh(r[ee],r,i,e)}t[Qi]!==t[Rt]&&e.push(t[Qi])}function Um(t,e,n,r=!0){const i=e[uu],o=i.rendererFactory,s=i.afterRenderEventManager;o.begin?.(),s?.begin();try{IL(t,e,t.template,n)}catch(c){throw r&&vL(e,c),c}finally{o.end?.(),i.effectManager?.flush(),s?.end()}}function IL(t,e,n,r){const i=e[ye];if(256!=(256&i)){e[uu].effectManager?.flush(),s1(e);try{WP(e),function t2(t){return le.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&sL(t,e,n,2,r);const s=3==(3&i);if(s){const u=t.preOrderCheckHooks;null!==u&&Zg(e,u,null)}else{const u=t.preOrderHooks;null!==u&&Xg(e,u,0,null),c1(e,0)}if(function hX(t){for(let e=z2(t);null!==e;e=q2(e)){if(!e[TP])continue;const n=e[hu];for(let r=0;r<n.length;r++){NY(n[r])}}}(e),CL(e,2),null!==t.contentQueries&&gL(t,e),s){const u=t.contentCheckHooks;null!==u&&Zg(e,u)}else{const u=t.contentHooks;null!==u&&Xg(e,u,1),c1(e,1)}!function LZ(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=eL(e,jd);try{for(let i=0;i<n.length;i++){const o=n[i];if(o<0)Ta(~o);else{const s=o,a=n[++i],c=n[++i];$Y(a,s),r.dirty=!1;const u=Yb(r);try{c(2,e[s])}finally{Qb(r,u)}}}}finally{null===e[jd]&&tL(e,jd),Ta(-1)}}(t,e);const a=t.components;null!==a&&EL(e,a,0);const c=t.viewQuery;if(null!==c&&yw(2,c,r),s){const u=t.viewCheckHooks;null!==u&&Zg(e,u)}else{const u=t.viewHooks;null!==u&&Xg(e,u,2),c1(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[ye]&=-73,KP(e)}finally{a1()}}}function CL(t,e){for(let n=z2(t);null!==n;n=q2(n))for(let r=Rn;r<n.length;r++)TL(n[r],e)}function fX(t,e,n){TL(zr(e,t),n)}function TL(t,e){if(!function xY(t){return 128==(128&t[ye])}(t))return;const n=t[ee],r=t[ye];if(80&r&&0===e||1024&r||2===e)IL(n,t,n.template,t[$t]);else if(t[Fd]>0){CL(t,1);const i=n.components;null!==i&&EL(t,i,1)}}function EL(t,e,n){for(let r=0;r<e.length;r++)fX(t,e[r],n)}class lh{get rootNodes(){const e=this._lView,n=e[ee];return uh(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[$t]}set context(e){this._lView[$t]=e}get destroyed(){return 256==(256&this._lView[ye])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Ct];if(ar(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(gm(e,r),im(n,r))}this._attachedToViewContainer=!1}S1(this._lView[ee],this._lView)}onDestroy(e){!function QP(t,e){if(256==(256&t[ye]))throw new U(911,!1);null===t[ws]&&(t[ws]=[]),t[ws].push(e)}(this._lView,e)}markForCheck(){ah(this._cdRefInjectingView||this._lView)}detach(){this._lView[ye]&=-129}reattach(){this._lView[ye]|=128}detectChanges(){Um(this._lView[ee],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new U(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function eJ(t,e){th(t,e,e[pe],2,null,null)}(this._lView[ee],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new U(902,!1);this._appRef=e}}class pX extends lh{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Um(e[ee],e,e[$t],!1)}checkNoChanges(){}get context(){return null}}class DL extends Rm{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Me(e);return new dh(n,this.ngModule)}}function SL(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class mX{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=jg(r);const i=this.injector.get(e,iw,r);return i!==iw||n===iw?i:this.parentInjector.get(e,n,r)}}class dh extends MF{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=SL(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return SL(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function eY(t){return t.map(XK).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=(i=i||this.ngModule)instanceof xr?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new mX(e,o):e,a=s.get(nw,null);if(null===a)throw new U(407,!1);const d={rendererFactory:a,sanitizer:s.get(fZ,null),effectManager:s.get(bL,null),afterRenderEventManager:s.get(uw,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",_=r?function BZ(t,e,n,r){const o=r.get(QF,!1)||n===Ti.ShadowDom,s=t.selectRootElement(e,o);return function UZ(t){cL(t)}(s),s}(h,r,this.componentDef.encapsulation,s):pm(h,f,function gX(t){const e=t.toLowerCase();return"svg"===e?GP:"math"===e?"math":null}(f)),T=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let w=null;null!==_&&(w=X1(_,s,!0));const M=pw(0,null,null,1,0,null,null,null,null,null,null),F=Lm(null,M,null,T,null,null,d,h,s,null,w);let $,Y;s1(F);try{const ae=this.componentDef;let me,Ue=null;ae.findHostDirectiveDefs?(me=[],Ue=new Map,ae.findHostDirectiveDefs(ae,me,Ue),me.push(ae)):me=[ae];const It=function yX(t,e){const n=t[ee],r=Se;return t[r]=e,Uu(n,r,2,"#host",null)}(F,_),On=function vX(t,e,n,r,i,o,s){const a=i[ee];!function bX(t,e,n,r){for(const i of t)e.mergedAttrs=Pd(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Bm(e,e.mergedAttrs,!0),null!==n&&aF(r,n,e))}(r,t,e,s);let c=null;null!==e&&(c=X1(e,i[bs]));const u=o.rendererFactory.createRenderer(e,n);let l=16;n.signals?l=4096:n.onPush&&(l=64);const d=Lm(i,aL(n),null,l,i[t.index],t,o,u,null,null,c);return a.firstCreatePass&&mw(a,t,r.length-1),Vm(i,d),i[t.index]=d}(It,_,ae,me,F,d,h);Y=qP(M,Se),_&&function IX(t,e,n,r){if(r)Gb(t,n,["ng-version",rw.full]);else{const{attrs:i,classes:o}=function tY(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Ei(i))break;i=o}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&Gb(t,n,i),o&&o.length>0&&sF(t,n,o.join(" "))}}(h,ae,_,r),void 0!==n&&function CX(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(Y,this.ngContentSelectors,n),$=function wX(t,e,n,r,i,o){const s=Fn(),a=i[ee],c=Er(s,i);dL(a,i,s,n,null,r);for(let l=0;l<n.length;l++)Jn(Ea(i,a,s.directiveStart+l,s),i);hL(a,i,s),c&&Jn(c,i);const u=Ea(i,a,s.directiveStart+s.componentOffset,s);if(t[$t]=i[$t]=u,null!==o)for(const l of o)l(u,e);return dw(a,s,t),u}(On,ae,me,Ue,F,[TX]),bw(M,F,null)}finally{a1()}return new _X(this.componentType,$,Pu(Y,F),F,Y)}}class _X extends aZ{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new pX(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const o=this._rootLView;vw(o[ee],o,i,e,n),this.previousInputValues.set(e,n),ah(zr(this._tNode.index,o))}}get injector(){return new lr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function TX(){const t=Fn();Jg(L()[ee],t)}function We(t){let e=function xL(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Si(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new U(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const s=t;s.inputs=jm(t.inputs),s.inputTransforms=jm(t.inputTransforms),s.declaredInputs=jm(t.declaredInputs),s.outputs=jm(t.outputs);const a=i.hostBindings;a&&xX(t,a);const c=i.viewQuery,u=i.contentQueries;if(c&&DX(t,c),u&&SX(t,u),Pg(t.inputs,i.inputs),Pg(t.declaredInputs,i.declaredInputs),Pg(t.outputs,i.outputs),null!==i.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),Pg(s.inputTransforms,i.inputTransforms)),Si(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(t),a===We&&(n=!1)}}e=Object.getPrototypeOf(e)}!function EX(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Pd(i.hostAttrs,n=Pd(n,i.hostAttrs))}}(r)}function jm(t){return t===Ki?{}:t===je?[]:t}function DX(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function SX(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,o)=>{e(r,i,o),n(r,i,o)}:e}function xX(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function ML(t){const e=t.inputConfig,n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}t.inputTransforms=n}function $m(t){return!!function ww(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function no(t,e,n){return t[e]=n}function Zn(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Na(t,e,n,r){const i=Zn(t,e,n);return Zn(t,e+1,r)||i}function Je(t,e,n,r){const i=L();return Zn(i,mu(),e)&&(Re(),to(xt(),i,t,e,n,r)),Je}function $u(t,e,n,r){return Zn(t,mu(),n)?e+fe(n)+r:_e}function Gu(t,e,n,r,i,o,s,a){const u=function Hm(t,e,n,r,i){const o=Na(t,e,n,r);return Zn(t,e+2,i)||o}(t,function Mo(){return le.lFrame.bindingIndex}(),n,i,s);return Ro(3),u?e+fe(n)+r+fe(i)+o+fe(s)+a:_e}function A(t,e,n,r,i,o,s,a){const c=L(),u=Re(),l=t+Se,d=u.firstCreatePass?function ZX(t,e,n,r,i,o,s,a,c){const u=e.consts,l=Uu(e,t,4,s||null,Cs(u,a));gw(e,n,l,Cs(u,c)),Jg(e,l);const d=l.tView=pw(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,u,c,e,n,r,i,o,s):u.data[l];Zi(d,!1);const h=zL(u,c,d,t);Qg()&&_m(u,c,h,d),Jn(h,c),Vm(c,c[l]=pL(h,c,h,d)),qg(d)&&hw(u,c,d),null!=s&&fw(c,d,a)}let zL=function qL(t,e,n,r){return Ts(!0),e[pe].createComment("")};function Nr(t){return pu(function UY(){return le.lFrame.contextLView}(),Se+t)}function E(t,e,n){const r=L();return Zn(r,mu(),e)&&Kr(Re(),xt(),r,t,e,r[pe],n,!1),E}function Sw(t,e,n,r,i){const s=i?"class":"style";vw(t,n,e.inputs[s],s,r)}function g(t,e,n,r){const i=L(),o=Re(),s=Se+t,a=i[pe],c=o.firstCreatePass?function nee(t,e,n,r,i,o){const s=e.consts,c=Uu(e,t,2,r,Cs(s,i));return gw(e,n,c,Cs(s,o)),null!==c.attrs&&Bm(c,c.attrs,!1),null!==c.mergedAttrs&&Bm(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,i,e,n,r):o.data[s],u=WL(o,i,c,a,e,t);i[s]=u;const l=qg(c);return Zi(c,!0),aF(a,u,c),32!=(32&c.flags)&&Qg()&&_m(o,i,u,c),0===function MY(){return le.lFrame.elementDepthCount}()&&Jn(u,i),function RY(){le.lFrame.elementDepthCount++}(),l&&(hw(o,i,c),dw(o,c,i)),null!==r&&fw(i,c),g}function m(){let t=Fn();t1()?n1():(t=t.parent,Zi(t,!1));const e=t;(function PY(t){return le.skipHydrationRootTNode===t})(e)&&function BY(){le.skipHydrationRootTNode=null}(),function kY(){le.lFrame.elementDepthCount--}();const n=Re();return n.firstCreatePass&&(Jg(n,t),qb(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function ZY(t){return 0!=(8&t.flags)}(e)&&Sw(n,e,L(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function XY(t){return 0!=(16&t.flags)}(e)&&Sw(n,e,L(),e.stylesWithoutHost,!1),m}function O(t,e,n,r){return g(t,e,n,r),m(),O}let WL=(t,e,n,r,i,o)=>(Ts(!0),pm(r,i,function u2(){return le.lFrame.currentNamespace}()));function Wm(t,e,n){const r=L(),i=Re(),o=t+Se,s=i.firstCreatePass?function oee(t,e,n,r,i){const o=e.consts,s=Cs(o,r),a=Uu(e,t,8,"ng-container",s);return null!==s&&Bm(a,s,!0),gw(e,n,a,Cs(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,n):i.data[o];Zi(s,!0);const a=YL(i,r,s,t);return r[o]=a,Qg()&&_m(i,r,a,s),Jn(a,r),qg(s)&&(hw(i,r,s),dw(i,s,r)),null!=n&&fw(r,s),Wm}function Km(){let t=Fn();const e=Re();return t1()?n1():(t=t.parent,Zi(t,!1)),e.firstCreatePass&&(Jg(e,t),qb(t)&&e.queries.elementEnd(t)),Km}let YL=(t,e,n,r)=>(Ts(!0),D1(e[pe],""));function Ze(){return L()}function _h(t){return!!t&&"function"==typeof t.then}function QL(t){return!!t&&"function"==typeof t.subscribe}function ne(t,e,n,r){const i=L(),o=Re(),s=Fn();return function ZL(t,e,n,r,i,o,s){const a=qg(r),u=t.firstCreatePass&&_L(t),l=e[$t],d=mL(e);let h=!0;if(3&r.type||s){const y=Er(r,e),v=s?s(y):y,T=d.length,w=s?F=>s(dt(F[r.index])):r.index;let M=null;if(!s&&a&&(M=function cee(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=e[cu],c=i[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(t,e,i,r.index)),null!==M)(M.__ngLastListenerFn__||M).__ngNextListenerFn__=o,M.__ngLastListenerFn__=o,h=!1;else{o=e3(r,e,l,o,!1);const F=n.listen(v,i,o);d.push(o,F),u&&u.push(i,w,T,T+1)}}else o=e3(r,e,l,o,!1);const f=r.outputs;let _;if(h&&null!==f&&(_=f[i])){const y=_.length;if(y)for(let v=0;v<y;v+=2){const $=e[_[v]][_[v+1]].subscribe(o),Y=d.length;d.push(o,$),u&&u.push(i,r.index,Y,-(Y+1))}}}(o,i,i[pe],s,t,e,r),ne}function XL(t,e,n,r){try{return Ji(6,e,n),!1!==n(r)}catch(i){return vL(t,i),!1}finally{Ji(7,e,n)}}function e3(t,e,n,r,i){return function o(s){if(s===Function)return r;ah(t.componentOffset>-1?zr(t.index,e):e);let c=XL(e,n,r,s),u=o.__ngNextListenerFn__;for(;u;)c=XL(e,n,u,s)&&c,u=u.__ngNextListenerFn__;return i&&!1===c&&s.preventDefault(),c}}function k(t=1){return function zY(t){return(le.lFrame.contextLView=function qY(t,e){for(;t>0;)e=e[lu],t--;return e}(t,le.lFrame.contextLView))[$t]}(t)}function uee(t,e){let n=null;const r=function YK(t){const e=t.attrs;if(null!=e){const n=e.indexOf(5);if(!(1&n))return e[n+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?_P(t,o,!0):ZK(r,o))return i}else n=i}return n}function yh(t,e,n){return vh(t,"",e,"",n),yh}function vh(t,e,n,r,i){const o=L(),s=$u(o,e,n,r);return s!==_e&&Kr(Re(),xt(),o,t,s,o[pe],i,!1),vh}function Ym(t,e){return t<<17|e<<2}function Ss(t){return t>>17&32767}function xw(t){return 2|t}function Oa(t){return(131068&t)>>2}function Aw(t,e){return-131069&t|e<<2}function Nw(t){return 1|t}function d3(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?Ss(o):Oa(o),c=!1;for(;0!==a&&(!1===c||s);){const l=t[a+1];gee(t[a],e)&&(c=!0,t[a+1]=r?Nw(l):xw(l)),a=r?Ss(l):Oa(l)}c&&(t[n+1]=r?xw(o):Nw(o))}function gee(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Eu(t,e)>=0}const hn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function h3(t){return t.substring(hn.key,hn.keyEnd)}function f3(t,e){const n=hn.textEnd;return n===e?-1:(e=hn.keyEnd=function vee(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,hn.key=e,n),Qu(t,e,n))}function Qu(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function He(t,e){return function xi(t,e,n,r){const i=L(),o=Re(),s=Ro(2);o.firstUpdatePass&&b3(o,t,s,r),e!==_e&&Zn(i,s,e)&&I3(o,o.data[ur()],i,i[pe],t,i[s+1]=function Nee(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=ln(Wr(t)))),t}(e,n),r,s)}(t,e,null,!0),He}function Ma(t){!function Ai(t,e,n,r){const i=Re(),o=Ro(2);i.firstUpdatePass&&b3(i,null,o,r);const s=L();if(n!==_e&&Zn(s,o,n)){const a=i.data[ur()];if(T3(a,r)&&!v3(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;null!==c&&(n=Nb(c,n||"")),Sw(i,a,s,n,r)}else!function Aee(t,e,n,r,i,o,s,a){i===_e&&(i=je);let c=0,u=0,l=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;null!==l||null!==d;){const h=c<i.length?i[c+1]:void 0,f=u<o.length?o[u+1]:void 0;let y,_=null;l===d?(c+=2,u+=2,h!==f&&(_=d,y=f)):null===d||null!==l&&l<d?(c+=2,_=l):(u+=2,_=d,y=f),null!==_&&I3(t,e,n,r,_,y,s,a),l=c<i.length?i[c]:null,d=u<o.length?o[u]:null}}(i,a,s,s[pe],s[o+1],s[o+1]=function See(t,e,n){if(null==n||""===n)return je;const r=[],i=Wr(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,o)}}(xee,io,t,!0)}function io(t,e){for(let n=function _ee(t){return function g3(t){hn.key=0,hn.keyEnd=0,hn.value=0,hn.valueEnd=0,hn.textEnd=t.length}(t),f3(t,Qu(t,0,hn.textEnd))}(e);n>=0;n=f3(e,n))qr(t,h3(e),!0)}function v3(t,e){return e>=t.expandoStartIndex}function b3(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[ur()],s=v3(t,n);T3(o,r)&&null===e&&!s&&(e=!1),e=function Cee(t,e,n,r){const i=function i1(t){const e=le.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=bh(n=Ow(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=Ow(i,t,e,n,r),null===o){let c=function Tee(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Oa(r))return t[Ss(r)]}(t,e,r);void 0!==c&&Array.isArray(c)&&(c=Ow(null,t,e,c[1],r),c=bh(c,e.attrs,r),function Eee(t,e,n,r){t[Ss(n?e.classBindings:e.styleBindings)]=r}(t,e,r,c))}else o=function Dee(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=bh(r,t[o].hostAttrs,n);return bh(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function fee(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Ss(s),c=Oa(s);t[r]=n;let l,u=!1;if(Array.isArray(n)?(l=n[1],(null===l||Eu(n,l)>0)&&(u=!0)):l=n,i)if(0!==c){const h=Ss(t[a+1]);t[r+1]=Ym(h,a),0!==h&&(t[h+1]=Aw(t[h+1],r)),t[a+1]=function dee(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Ym(a,0),0!==a&&(t[a+1]=Aw(t[a+1],r)),a=r;else t[r+1]=Ym(c,0),0===a?a=r:t[c+1]=Aw(t[c+1],r),c=r;u&&(t[r+1]=xw(t[r+1])),d3(t,l,r,!0),d3(t,l,r,!1),function pee(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&Eu(o,e)>=0&&(n[r+1]=Nw(n[r+1]))}(e,l,t,r,o),s=Ym(a,c),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}function Ow(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=bh(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function bh(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),qr(t,s,!!n||e[++o]))}return void 0===t?null:t}function xee(t,e,n){const r=String(e);""!==r&&!r.includes(" ")&&qr(t,r,n)}function I3(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const c=t.data,u=c[a+1],l=function hee(t){return 1==(1&t)}(u)?C3(c,e,n,i,Oa(u),s):void 0;Qm(l)||(Qm(o)||function lee(t){return 2==(2&t)}(u)&&(o=C3(c,null,n,i,a,s)),function lJ(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:Es.DashCase;null==i?t.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Es.Important),t.setStyle(n,r,i,o))}}(r,s,Yg(ur(),n),i,o))}function C3(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const c=t[i],u=Array.isArray(c),l=u?c[1]:c,d=null===l;let h=n[i+1];h===_e&&(h=d?je:void 0);let f=d?m1(h,r):l===r?h:void 0;if(u&&!Qm(f)&&(f=m1(c,r)),Qm(f)&&(a=f,s))return a;const _=t[i+1];i=s?Ss(_):Oa(_)}if(null!==e){let c=o?e.residualClasses:e.residualStyles;null!=c&&(a=m1(c,r))}return a}function Qm(t){return void 0!==t}function T3(t,e){return 0!=(t.flags&(e?8:16))}function I(t,e=""){const n=L(),r=Re(),i=t+Se,o=r.firstCreatePass?Uu(r,i,1,e,null):r.data[i],s=E3(r,n,o,e,t);n[i]=s,Qg()&&_m(r,n,s,o),Zi(o,!1)}let E3=(t,e,n,r,i)=>(Ts(!0),function fm(t,e){return t.createText(e)}(e[pe],r));function ht(t){return dr("",t,""),ht}function dr(t,e,n){const r=L(),i=$u(r,t,e,n);return i!==_e&&Bo(r,ur(),i),dr}function Mw(t,e,n,r,i,o,s){const a=L(),c=Gu(a,t,e,n,r,i,o,s);return c!==_e&&Bo(a,ur(),c),Mw}const Ra=void 0;var Zee=["en",[["a","p"],["AM","PM"],Ra],[["AM","PM"],Ra,Ra],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ra,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ra,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ra,"{1} 'at' {0}",Ra],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Jee(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let Ju={};function hr(t){const e=function Xee(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=G3(e);if(n)return n;const r=e.split("-")[0];if(n=G3(r),n)return n;if("en"===r)return Zee;throw new U(701,!1)}function G3(t){return t in Ju||(Ju[t]=lt.ng&&lt.ng.common&&lt.ng.common.locales&&lt.ng.common.locales[t]),Ju[t]}var ft=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(ft||{});const Zu="en-US";let z3=Zu;function Pw(t,e,n,r,i){if(t=de(t),Array.isArray(t))for(let o=0;o<t.length;o++)Pw(t[o],e,n,r,i);else{const o=Re(),s=L(),a=Fn();let c=Aa(t)?t:de(t.provide);const u=DF(t),l=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(Aa(t)||!t.multi){const f=new zd(u,i,b),_=Lw(c,e,i?l:l+h,d);-1===_?(f1(tm(a,s),o,c),Fw(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[_]=f,s[_]=f)}else{const f=Lw(c,e,l+h,d),_=Lw(c,e,l,l+h),v=_>=0&&n[_];if(i&&!v||!i&&!(f>=0&&n[f])){f1(tm(a,s),o,c);const T=function Qte(t,e,n,r,i){const o=new zd(t,n,b);return o.multi=[],o.index=e,o.componentProviders=0,mV(o,i,r&&!n),o}(i?Yte:Kte,n.length,i,r,u);!i&&v&&(n[_].providerFactory=T),Fw(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(T),s.push(T)}else Fw(o,t,f>-1?f:_,mV(n[i?_:f],u,!i&&r));!i&&r&&v&&n[_].componentProviders++}}}function Fw(t,e,n,r){const i=Aa(e),o=function GJ(t){return!!t.useClass}(e);if(i||o){const c=(o?de(e.useClass):e).prototype.ngOnDestroy;if(c){const u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=u.indexOf(n);-1===l?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function mV(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Lw(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Kte(t,e,n,r){return Vw(this.multi,[])}function Yte(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Ea(n,n[ee],this.providerFactory.index,r);o=a.slice(0,s),Vw(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],Vw(i,o);return o}function Vw(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function at(t,e=[]){return n=>{n.providersResolver=(r,i)=>function Wte(t,e,n){const r=Re();if(r.firstCreatePass){const i=Si(t);Pw(n,r.data,r.blueprint,i,!0),Pw(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class ka{}class _V{}class Bw extends ka{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new DL(this);const i=Gr(e);this._bootstrapComponents=Vo(i.bootstrap),this._r3Injector=VF(e,n,[{provide:ka,useValue:this},{provide:Rm,useValue:this.componentFactoryResolver},...r],ln(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Uw extends _V{constructor(e){super(),this.moduleType=e}create(e){return new Bw(this.moduleType,e,[])}}class yV extends ka{constructor(e){super(),this.componentFactoryResolver=new DL(this),this.instance=null;const n=new Ou([...e.providers,{provide:ka,useValue:this},{provide:Rm,useValue:this.componentFactoryResolver}],e.parent||Dm(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function jw(t,e,n=null){return new yV({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let Xte=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=IF(0,n.type),i=r.length>0?jw([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=G({token:t,providedIn:"environment",factory:()=>new t(q(xr))})}return t})();function Yr(t){t.getStandaloneInjector=e=>e.get(Xte).getOrCreateStandaloneInjector(t)}function Pa(t,e,n,r){return EV(L(),cr(),t,e,n,r)}function xh(t,e){const n=t[e];return n===_e?void 0:n}function EV(t,e,n,r,i,o){const s=e+n;return Zn(t,s,i)?no(t,s+1,o?r.call(o,i):r(i)):xh(t,s+1)}function Fa(t,e){const n=Re();let r;const i=t+Se;n.firstCreatePass?(r=function gne(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=Ca(r.type)),a=Cr(b);try{const c=em(!1),u=o();return em(c),function tee(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,L(),i,u),u}finally{Cr(a)}}function Ah(t,e,n){const r=t+Se,i=L(),o=pu(i,r);return Nh(i,r)?EV(i,cr(),e,o.transform,n,o):o.transform(n)}function Gw(t,e,n,r){const i=t+Se,o=L(),s=pu(o,i);return Nh(o,i)?function DV(t,e,n,r,i,o,s){const a=e+n;return Na(t,a,i,o)?no(t,a+2,s?r.call(s,i,o):r(i,o)):xh(t,a+2)}(o,cr(),e,s.transform,n,r,s):s.transform(n,r)}function Nh(t,e){return t[ee].data[e].pure}function vne(){return this._results[Symbol.iterator]()}class zw{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new P)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=zw.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=vne)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const i=function li(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function fQ(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function wne(t,e,n,r=!0){const i=e[ee];if(function nJ(t,e,n,r){const i=Rn+r,o=n.length;r>0&&(n[i-1][Di]=e),r<o-Rn?(e[Di]=n[i],T2(n,Rn+r,e)):(n.push(e),e[Di]=null),e[Ct]=n;const s=e[Vd];null!==s&&n!==s&&function rJ(t,e){const n=t[hu];e[Ht]!==e[Ct][Ct][Ht]&&(t[TP]=!0),null===n?t[hu]=[e]:n.push(e)}(s,e);const a=e[Yi];null!==a&&a.insertView(t),e[ye]|=128}(i,e,t,n),r){const o=O1(n,t),s=e[pe],a=mm(s,t[Qi]);null!==a&&function XQ(t,e,n,r,i,o){r[Rt]=i,r[Qn]=e,th(t,r,n,1,i,o)}(i,t[Qn],s,e,a,o)}}let At=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=Tne}return t})();const Ine=At,Cne=class extends Ine{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function bne(t,e,n,r){const i=e.tView,a=Lm(t,i,n,4096&t[ye]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[Vd]=t[e.index];const u=t[Yi];return null!==u&&(a[Yi]=u.createEmbeddedView(i)),bw(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new lh(i)}};function Tne(){return t_(Fn(),L())}function t_(t,e){return 4&t.type?new Cne(e,t,Pu(t,e)):null}let pi=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=Nne}return t})();function Nne(){return FV(Fn(),L())}const One=pi,kV=class extends One{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Pu(this._hostTNode,this._hostLView)}get injector(){return new lr(this._hostTNode,this._hostLView)}get parentInjector(){const e=nm(this._hostTNode,this._hostLView);if(l1(e)){const n=Wd(e,this._hostLView),r=qd(e);return new lr(n[ee].data[r+8],n)}return new lr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=PV(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Rn}createEmbeddedView(e,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=e.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,o){const s=e&&!function Yd(t){return"function"==typeof t}(e);let a;if(s)a=n;else{const y=n||{};a=y.index,r=y.injector,i=y.projectableNodes,o=y.environmentInjector||y.ngModuleRef}const c=s?e:new dh(Me(e)),u=r||this.parentInjector;if(!o&&null==c.ngModule){const v=(s?u:this.parentInjector).get(xr,null);v&&(o=v)}Me(c.componentType??{});const f=c.create(u,i,null,o);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function AY(t){return ar(t[Ct])}(i)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const u=i[Ct],l=new kV(u,u[Qn],u[Ct]);l.detach(l.indexOf(e))}}const s=this._adjustIndex(n),a=this._lContainer;return wne(a,i,s,!r),e.attachToViewContainerRef(),T2(qw(a),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=PV(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=gm(this._lContainer,n);r&&(im(qw(this._lContainer),n),S1(r[ee],r))}detach(e){const n=this._adjustIndex(e,-1),r=gm(this._lContainer,n);return r&&null!=im(qw(this._lContainer),n)?new lh(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function PV(t){return t[8]}function qw(t){return t[8]||(t[8]=[])}function FV(t,e){let n;const r=e[t.index];return ar(r)?n=r:(n=pL(r,e,null,t),e[t.index]=n,Vm(e,n)),LV(n,e,t,r),new kV(n,t,e)}let LV=function VV(t,e,n,r){if(t[Qi])return;let i;i=8&n.type?dt(r):function Mne(t,e){const n=t[pe],r=n.createComment(""),i=Er(e,t);return Sa(n,mm(n,i),r,function aJ(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Qi]=i};class Ww{constructor(e){this.queryList=e,this.matches=null}clone(){return new Ww(this.queryList)}setDirty(){this.queryList.setDirty()}}class Kw{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){const s=n.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new Kw(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==HV(e,n).matches&&this.queries[n].setDirty()}}class BV{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class Yw{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new Yw(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Qw{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new Qw(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(e,n,Pne(n,o)),this.matchTNodeWithReadOption(e,n,rm(n,e,o,!1,!1))}else r===At?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,rm(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===$e||i===pi||i===At&&4&n.type)this.addMatch(n.index,-2);else{const o=rm(n,e,i,!1,!1);null!==o&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function Pne(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Lne(t,e,n,r){return-1===n?function Fne(t,e){return 11&t.type?Pu(t,e):4&t.type?t_(t,e):null}(e,t):-2===n?function Vne(t,e,n){return n===$e?Pu(e,t):n===At?t_(e,t):n===pi?FV(e,t):void 0}(t,e,r):Ea(t,t[ee],n,e)}function UV(t,e,n,r){const i=e[Yi].queries[r];if(null===i.matches){const o=t.data,s=n.matches,a=[];for(let c=0;c<s.length;c+=2){const u=s[c];a.push(u<0?null:Lne(e,o[u],s[c+1],n.metadata.read))}i.matches=a}return i.matches}function Jw(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=UV(t,e,i,n);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)r.push(s[a/2]);else{const u=o[a+1],l=e[-c];for(let d=Rn;d<l.length;d++){const h=l[d];h[Vd]===h[Ct]&&Jw(h[ee],h,u,r)}if(null!==l[hu]){const d=l[hu];for(let h=0;h<d.length;h++){const f=d[h];Jw(f[ee],f,u,r)}}}}}return r}function nt(t){const e=L(),n=Re(),r=r2();o1(r+1);const i=HV(n,r);if(t.dirty&&function SY(t){return 4==(4&t[ye])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?Jw(n,e,r,[]):UV(n,e,i,r);t.reset(o,dZ),t.notifyOnChanges()}return!0}return!1}function La(t,e,n){const r=Re();r.firstCreatePass&&(function $V(t,e,n){null===t.queries&&(t.queries=new Yw),t.queries.track(new Qw(e,n))}(r,new BV(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),function jV(t,e,n){const r=new zw(4==(4&n));(function HZ(t,e,n,r){const i=mL(e);i.push(n),t.firstCreatePass&&_L(t).push(r,i.length-1)})(t,e,r,r.destroy),null===e[Yi]&&(e[Yi]=new Kw),e[Yi].queries.push(new Ww(r))}(r,L(),e)}function HV(t,e){return t.queries.getByIndex(e)}function Mr(t,e){return t_(t,e)}const rI=new te("Application Initializer");let iI=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=K(rI,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const o=i();if(_h(o))n.push(o);else if(QL(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),sB=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const Ni=new te("LocaleId",{providedIn:"root",factory:()=>K(Ni,De.Optional|De.SkipSelf)||function are(){return typeof $localize<"u"&&$localize.locale||Zu}()});let aB=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Kn(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class lre{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let cB=(()=>{class t{compileModuleSync(n){return new Uw(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),o=Vo(Gr(n).declarations).reduce((s,a)=>{const c=Me(a);return c&&s.push(new dh(c)),s},[]);return new lre(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const hB=new te(""),o_=new te("");let uI,aI=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,uI||(function Mre(t){uI=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Te.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||t)(q(Te),q(cI),q(o_))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})(),cI=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return uI?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),xs=null;const fB=new te("AllowMultipleToken"),lI=new te("PlatformDestroyListeners"),dI=new te("appBootstrapListener");class gB{constructor(e,n){this.name=e,this.token=n}}function _B(t,e,n=[]){const r=`Platform: ${e}`,i=new te(r);return(o=[])=>{let s=hI();if(!s||s.injector.get(fB,!1)){const a=[...n,...o,{provide:i,useValue:!0}];t?t(a):function Pre(t){if(xs&&!xs.get(fB,!1))throw new U(400,!1);(function pB(){!function pY(t){FP=t}(()=>{throw new U(600,!1)})})(),xs=t;const e=t.get(vB);(function mB(t){t.get(SF,null)?.forEach(n=>n())})(t)}(function yB(t=[],e){return en.create({name:e,providers:[{provide:$1,useValue:"platform"},{provide:lI,useValue:new Set([()=>xs=null])},...t]})}(a,r))}return function Lre(t){const e=hI();if(!e)throw new U(401,!1);return e}()}}function hI(){return xs?.get(vB)??null}let vB=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function Vre(t="zone.js",e){return"noop"===t?new DZ:"zone.js"===t?new Te(e):t}(r?.ngZone,function bB(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function Zte(t,e,n){return new Bw(t,e,n)}(n.moduleType,this.injector,function EB(t){return[{provide:Te,useFactory:t},{provide:ih,multi:!0,useFactory:()=>{const e=K(Ure,{optional:!0});return()=>e.initialize()}},{provide:TB,useFactory:Bre},{provide:HF,useFactory:GF}]}(()=>i)),s=o.injector.get(Lo,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:c=>{s.handleError(c)}});o.onDestroy(()=>{s_(this._modules,o),a.unsubscribe()})}),function wB(t,e,n){try{const r=n();return _h(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,i,()=>{const a=o.injector.get(iI);return a.runInitializers(),a.donePromise.then(()=>(function q3(t){ci(t,"Expected localeId to be defined"),"string"==typeof t&&(z3=t.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Ni,Zu)||Zu),this._moduleDoBootstrap(o),o))})})}bootstrapModule(n,r=[]){const i=IB({},r);return function Rre(t,e,n){const r=new Uw(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(n){const r=n.injector.get(As);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new U(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new U(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(lI,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||t)(q(en))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function IB(t,e){return Array.isArray(e)?e.reduce(IB,t):{...t,...e}}let As=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=K(TB),this.zoneIsStable=K(HF),this.componentTypes=[],this.components=[],this.isStable=K(aB).hasPendingTasks.pipe(Ci(n=>n?ce(!1):this.zoneIsStable),function eP(t,e=Ii){return t=t??DK,St((n,r)=>{let i,o=!0;n.subscribe(ut(r,s=>{const a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}(),xb()),this._injector=K(xr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof MF;if(!this._injector.get(iI).done)throw!i&&function au(t){const e=Me(t)||Mn(t)||sr(t);return null!==e&&e.standalone}(n),new U(405,!1);let s;s=i?n:this._injector.get(Rm).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const a=function kre(t){return t.isBoundToModule}(s)?void 0:this._injector.get(ka),u=s.create(en.NULL,[],r||s.selector,a),l=u.location.nativeElement,d=u.injector.get(hB,null);return d?.registerApplication(l),u.onDestroy(()=>{this.detachView(u.hostView),s_(this.components,u),d?.unregisterApplication(l)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new U(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;s_(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(dI,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>s_(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new U(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function s_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const TB=new te("",{providedIn:"root",factory:()=>K(Lo).handleError.bind(void 0)});function Bre(){const t=K(Te),e=K(Lo);return n=>t.runOutsideAngular(()=>e.handleError(n))}let Ure=(()=>{class t{constructor(){this.zone=K(Te),this.applicationRef=K(As)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();let Oi=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=$re}return t})();function $re(t){return function Hre(t,e,n){if(Ia(t)&&!n){const r=zr(t.index,e);return new lh(r,r)}return 47&t.type?new lh(e[Ht],e):null}(Fn(),L(),16==(16&t))}class AB{constructor(){}supports(e){return $m(e)}create(e){return new Yre(e)}}const Kre=(t,e)=>e;class Yre{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Kre}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<OB(r,i,o)?n:r,a=OB(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const u=a-i,l=c-i;if(u!=l){for(let h=0;h<u;h++){const f=h<o.length?o[h]:o[h]=0,_=f+h;l<=_&&_<u&&(o[h]=f+1)}o[s.previousIndex]=l-u}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!$m(e))throw new U(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function kX(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Qre(n,r),o,i),e}_verifyReinsertion(e,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new NB),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new NB),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Qre{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Jre{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class NB{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new Jre,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function OB(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function RB(){return new u_([new AB])}let u_=(()=>{class t{static#e=this.\u0275prov=G({token:t,providedIn:"root",factory:RB});constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||RB()),deps:[[t,new sm,new Dr]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new U(901,!1)}}return t})();const nie=_B(null,"core",[]);let rie=(()=>{class t{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||t)(q(As))};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({})}return t})();function tl(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function yI(t,e){const n=Me(t),r=e.elementInjector||Dm();return new dh(n).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}let vI=null;function Ns(){return vI}class _ie{}const zt=new te("DocumentToken");let bI=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:function(){return K(vie)},providedIn:"platform"})}return t})();const yie=new te("Location Initialized");let vie=(()=>{class t extends bI{constructor(){super(),this._doc=K(zt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ns().getBaseHref(this._doc)}onPopState(n){const r=Ns().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Ns().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:function(){return new t},providedIn:"platform"})}return t})();function wI(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function HB(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Uo(t){return t&&"?"!==t[0]?"?"+t:t}let Ba=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:function(){return K(zB)},providedIn:"root"})}return t})();const GB=new te("appBaseHref");let zB=(()=>{class t extends Ba{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??K(zt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return wI(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Uo(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){const s=this.prepareExternalUrl(i+Uo(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){const s=this.prepareExternalUrl(i+Uo(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(q(bI),q(GB,8))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),bie=(()=>{class t extends Ba{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=wI(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Uo(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Uo(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(q(bI),q(GB,8))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})(),II=(()=>{class t{constructor(n){this._subject=new P,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function Cie(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(HB(qB(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Uo(r))}normalize(n){return t.stripTrailingSlash(function Iie(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,qB(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Uo(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Uo(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static#e=this.normalizeQueryParams=Uo;static#t=this.joinWithSlash=wI;static#n=this.stripTrailingSlash=HB;static#r=this.\u0275fac=function(r){return new(r||t)(q(Ba))};static#i=this.\u0275prov=G({token:t,factory:function(){return function wie(){return new II(q(Ba))}()},providedIn:"root"})}return t})();function qB(t){return t.replace(/\/index.html$/,"")}var bn=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(bn||{}),Ve=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Ve||{}),Qr=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(Qr||{}),qt=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t.Infinity=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}(qt||{});function h_(t,e){return mi(hr(t)[ft.DateFormat],e)}function f_(t,e){return mi(hr(t)[ft.TimeFormat],e)}function p_(t,e){return mi(hr(t)[ft.DateTimeFormat],e)}function gi(t,e){const n=hr(t),r=n[ft.NumberSymbols][e];if(typeof r>"u"){if(e===qt.CurrencyDecimal)return n[ft.NumberSymbols][qt.Decimal];if(e===qt.CurrencyGroup)return n[ft.NumberSymbols][qt.Group]}return r}function YB(t){if(!t[ft.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[ft.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function mi(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function EI(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const Pie=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,kh={},Fie=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var jo=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(jo||{}),Ke=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(Ke||{}),Ye=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(Ye||{});function QB(t,e,n,r){let i=function zie(t){if(XB(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[i,o=1,s=1]=t.split("-").map(a=>+a);return g_(i,o-1,s)}const n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(Pie))return function qie(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,c=Number(t[6]||0),u=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,s,a,c,u),e}(r)}const e=new Date(t);if(!XB(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=$o(n,e)||e;let a,s=[];for(;e;){if(a=Fie.exec(e),!a){s.push(e);break}{s=s.concat(a.slice(1));const l=s.pop();if(!l)break;e=l}}let c=i.getTimezoneOffset();r&&(c=ZB(r,c),i=function Gie(t,e,n){const r=n?-1:1,i=t.getTimezoneOffset();return function Hie(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,r*(ZB(e,i)-i))}(i,r,!0));let u="";return s.forEach(l=>{const d=function $ie(t){if(SI[t])return SI[t];let e;switch(t){case"G":case"GG":case"GGG":e=pt(Ye.Eras,Ve.Abbreviated);break;case"GGGG":e=pt(Ye.Eras,Ve.Wide);break;case"GGGGG":e=pt(Ye.Eras,Ve.Narrow);break;case"y":e=tn(Ke.FullYear,1,0,!1,!0);break;case"yy":e=tn(Ke.FullYear,2,0,!0,!0);break;case"yyy":e=tn(Ke.FullYear,3,0,!1,!0);break;case"yyyy":e=tn(Ke.FullYear,4,0,!1,!0);break;case"Y":e=v_(1);break;case"YY":e=v_(2,!0);break;case"YYY":e=v_(3);break;case"YYYY":e=v_(4);break;case"M":case"L":e=tn(Ke.Month,1,1);break;case"MM":case"LL":e=tn(Ke.Month,2,1);break;case"MMM":e=pt(Ye.Months,Ve.Abbreviated);break;case"MMMM":e=pt(Ye.Months,Ve.Wide);break;case"MMMMM":e=pt(Ye.Months,Ve.Narrow);break;case"LLL":e=pt(Ye.Months,Ve.Abbreviated,bn.Standalone);break;case"LLLL":e=pt(Ye.Months,Ve.Wide,bn.Standalone);break;case"LLLLL":e=pt(Ye.Months,Ve.Narrow,bn.Standalone);break;case"w":e=DI(1);break;case"ww":e=DI(2);break;case"W":e=DI(1,!0);break;case"d":e=tn(Ke.Date,1);break;case"dd":e=tn(Ke.Date,2);break;case"c":case"cc":e=tn(Ke.Day,1);break;case"ccc":e=pt(Ye.Days,Ve.Abbreviated,bn.Standalone);break;case"cccc":e=pt(Ye.Days,Ve.Wide,bn.Standalone);break;case"ccccc":e=pt(Ye.Days,Ve.Narrow,bn.Standalone);break;case"cccccc":e=pt(Ye.Days,Ve.Short,bn.Standalone);break;case"E":case"EE":case"EEE":e=pt(Ye.Days,Ve.Abbreviated);break;case"EEEE":e=pt(Ye.Days,Ve.Wide);break;case"EEEEE":e=pt(Ye.Days,Ve.Narrow);break;case"EEEEEE":e=pt(Ye.Days,Ve.Short);break;case"a":case"aa":case"aaa":e=pt(Ye.DayPeriods,Ve.Abbreviated);break;case"aaaa":e=pt(Ye.DayPeriods,Ve.Wide);break;case"aaaaa":e=pt(Ye.DayPeriods,Ve.Narrow);break;case"b":case"bb":case"bbb":e=pt(Ye.DayPeriods,Ve.Abbreviated,bn.Standalone,!0);break;case"bbbb":e=pt(Ye.DayPeriods,Ve.Wide,bn.Standalone,!0);break;case"bbbbb":e=pt(Ye.DayPeriods,Ve.Narrow,bn.Standalone,!0);break;case"B":case"BB":case"BBB":e=pt(Ye.DayPeriods,Ve.Abbreviated,bn.Format,!0);break;case"BBBB":e=pt(Ye.DayPeriods,Ve.Wide,bn.Format,!0);break;case"BBBBB":e=pt(Ye.DayPeriods,Ve.Narrow,bn.Format,!0);break;case"h":e=tn(Ke.Hours,1,-12);break;case"hh":e=tn(Ke.Hours,2,-12);break;case"H":e=tn(Ke.Hours,1);break;case"HH":e=tn(Ke.Hours,2);break;case"m":e=tn(Ke.Minutes,1);break;case"mm":e=tn(Ke.Minutes,2);break;case"s":e=tn(Ke.Seconds,1);break;case"ss":e=tn(Ke.Seconds,2);break;case"S":e=tn(Ke.FractionalSeconds,1);break;case"SS":e=tn(Ke.FractionalSeconds,2);break;case"SSS":e=tn(Ke.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=__(jo.Short);break;case"ZZZZZ":e=__(jo.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=__(jo.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=__(jo.Long);break;default:return null}return SI[t]=e,e}(l);u+=d?d(i,n,c):"''"===l?"'":l.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function g_(t,e,n){const r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function $o(t,e){const n=function Eie(t){return hr(t)[ft.LocaleId]}(t);if(kh[n]=kh[n]||{},kh[n][e])return kh[n][e];let r="";switch(e){case"shortDate":r=h_(t,Qr.Short);break;case"mediumDate":r=h_(t,Qr.Medium);break;case"longDate":r=h_(t,Qr.Long);break;case"fullDate":r=h_(t,Qr.Full);break;case"shortTime":r=f_(t,Qr.Short);break;case"mediumTime":r=f_(t,Qr.Medium);break;case"longTime":r=f_(t,Qr.Long);break;case"fullTime":r=f_(t,Qr.Full);break;case"short":const i=$o(t,"shortTime"),o=$o(t,"shortDate");r=m_(p_(t,Qr.Short),[i,o]);break;case"medium":const s=$o(t,"mediumTime"),a=$o(t,"mediumDate");r=m_(p_(t,Qr.Medium),[s,a]);break;case"long":const c=$o(t,"longTime"),u=$o(t,"longDate");r=m_(p_(t,Qr.Long),[c,u]);break;case"full":const l=$o(t,"fullTime"),d=$o(t,"fullDate");r=m_(p_(t,Qr.Full),[l,d])}return r&&(kh[n][e]=r),r}function m_(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return null!=e&&r in e?e[r]:n})),t}function Mi(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function tn(t,e,n=0,r=!1,i=!1){return function(o,s){let a=function Vie(t,e){switch(t){case Ke.FullYear:return e.getFullYear();case Ke.Month:return e.getMonth();case Ke.Date:return e.getDate();case Ke.Hours:return e.getHours();case Ke.Minutes:return e.getMinutes();case Ke.Seconds:return e.getSeconds();case Ke.FractionalSeconds:return e.getMilliseconds();case Ke.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,o);if((n>0||a>-n)&&(a+=n),t===Ke.Hours)0===a&&-12===n&&(a=12);else if(t===Ke.FractionalSeconds)return function Lie(t,e){return Mi(t,3).substring(0,e)}(a,e);const c=gi(s,qt.MinusSign);return Mi(a,e,c,r,i)}}function pt(t,e,n=bn.Format,r=!1){return function(i,o){return function Bie(t,e,n,r,i,o){switch(n){case Ye.Months:return function CI(t,e,n){const r=hr(t),o=mi([r[ft.MonthsFormat],r[ft.MonthsStandalone]],e);return mi(o,n)}(e,i,r)[t.getMonth()];case Ye.Days:return function KB(t,e,n){const r=hr(t),o=mi([r[ft.DaysFormat],r[ft.DaysStandalone]],e);return mi(o,n)}(e,i,r)[t.getDay()];case Ye.DayPeriods:const s=t.getHours(),a=t.getMinutes();if(o){const u=function Nie(t){const e=hr(t);return YB(e),(e[ft.ExtraData][2]||[]).map(r=>"string"==typeof r?EI(r):[EI(r[0]),EI(r[1])])}(e),l=function Oie(t,e,n){const r=hr(t);YB(r);const o=mi([r[ft.ExtraData][0],r[ft.ExtraData][1]],e)||[];return mi(o,n)||[]}(e,i,r),d=u.findIndex(h=>{if(Array.isArray(h)){const[f,_]=h,y=s>=f.hours&&a>=f.minutes,v=s<_.hours||s===_.hours&&a<_.minutes;if(f.hours<_.hours){if(y&&v)return!0}else if(y||v)return!0}else if(h.hours===s&&h.minutes===a)return!0;return!1});if(-1!==d)return l[d]}return function Die(t,e,n){const r=hr(t),o=mi([r[ft.DayPeriodsFormat],r[ft.DayPeriodsStandalone]],e);return mi(o,n)}(e,i,r)[s<12?0:1];case Ye.Eras:return function Sie(t,e){return mi(hr(t)[ft.Eras],e)}(e,r)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(i,o,t,e,n,r)}}function __(t){return function(e,n,r){const i=-1*r,o=gi(n,qt.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case jo.Short:return(i>=0?"+":"")+Mi(s,2,o)+Mi(Math.abs(i%60),2,o);case jo.ShortGMT:return"GMT"+(i>=0?"+":"")+Mi(s,1,o);case jo.Long:return"GMT"+(i>=0?"+":"")+Mi(s,2,o)+":"+Mi(Math.abs(i%60),2,o);case jo.Extended:return 0===r?"Z":(i>=0?"+":"")+Mi(s,2,o)+":"+Mi(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}const Uie=0,y_=4;function JB(t){return g_(t.getFullYear(),t.getMonth(),t.getDate()+(y_-t.getDay()))}function DI(t,e=!1){return function(n,r){let i;if(e){const o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{const o=JB(n),s=function jie(t){const e=g_(t,Uie,1).getDay();return g_(t,0,1+(e<=y_?y_:y_+7)-e)}(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Mi(i,t,gi(r,qt.MinusSign))}}function v_(t,e=!1){return function(n,r){return Mi(JB(n).getFullYear(),t,gi(r,qt.MinusSign),e)}}const SI={};function ZB(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function XB(t){return t instanceof Date&&!isNaN(t.valueOf())}class aoe{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let pr=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new aoe(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),oU(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{oU(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(b(pi),b(At),b(u_))};static#t=this.\u0275dir=H({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return t})();function oU(t,e){t.context.$implicit=e.item}let nn=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new coe,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){sU("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){sU("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(b(pi),b(At))};static#t=this.\u0275dir=H({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return t})();class coe{constructor(){this.$implicit=null,this.ngIf=null}}function sU(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${ln(e)}'.`)}const Coe=new te("DATE_PIPE_DEFAULT_TIMEZONE"),Toe=new te("DATE_PIPE_DEFAULT_OPTIONS");let FI=(()=>{class t{constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(null==n||""===n||n!=n)return null;try{return QB(n,r??this.defaultOptions?.dateFormat??"mediumDate",o||this.locale,i??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(s){throw function Ri(t,e){return new U(2100,!1)}()}}static#e=this.\u0275fac=function(r){return new(r||t)(b(Ni,16),b(Coe,24),b(Toe,24))};static#t=this.\u0275pipe=Yn({name:"date",type:t,pure:!0,standalone:!0})}return t})(),Ua=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({})}return t})();const uU="browser";function lU(t){return"server"===t}let Voe=(()=>{class t{static#e=this.\u0275prov=G({token:t,providedIn:"root",factory:()=>new Boe(q(zt),window)})}return t})();class Boe{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function Uoe(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class lse extends _ie{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class jI extends lse{static makeCurrent(){!function mie(t){vI||(vI=t)}(new jI)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function dse(){return Lh=Lh||document.querySelector("base"),Lh?Lh.getAttribute("href"):null}();return null==n?null:function hse(t){C_=C_||document.createElement("a"),C_.setAttribute("href",t);const e=C_.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Lh=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function ioe(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let C_,Lh=null,pse=(()=>{class t{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})();const $I=new te("EventManagerPlugins");let gU=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new U(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||t)(q($I),q(Te))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})();class mU{constructor(e){this._doc=e}}const HI="ng-app-id";let _U=(()=>{class t{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=lU(o),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${HI}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(HI),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(HI,this.appId),s}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||t)(q(zt),q(Sm),q(xF,8),q(Fo))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})();const GI={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},zI=/%COMP%/g,yse=new te("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function vU(t,e){return e.map(n=>n.replace(zI,t))}let bU=(()=>{class t{constructor(n,r,i,o,s,a,c,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=lU(a),this.defaultRenderer=new qI(n,s,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Ti.ShadowDom&&(r={...r,encapsulation:Ti.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof IU?i.applyToHost(n):i instanceof WI&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case Ti.Emulated:o=new IU(c,u,r,this.appId,l,s,a,d);break;case Ti.ShadowDom:return new Ise(c,u,n,r,s,a,this.nonce,d);default:o=new WI(c,u,r,l,s,a,d)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||t)(q(gU),q(_U),q(Sm),q(yse),q(zt),q(Fo),q(Te),q(xF))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})();class qI{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(GI[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(wU(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(wU(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new U(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const o=GI[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=GI[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Es.DashCase|Es.Important)?e.style.setProperty(n,r,i&Es.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Es.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=Ns().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function wU(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class Ise extends qI{constructor(e,n,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=vU(i.id,i.styles);for(const l of u){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class WI extends qI{constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?vU(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class IU extends WI{constructor(e,n,r,i,o,s,a,c){const u=i+"-"+r.id;super(e,n,r,o,s,a,c,u),this.contentAttr=function vse(t){return"_ngcontent-%COMP%".replace(zI,t)}(u),this.hostAttr=function bse(t){return"_nghost-%COMP%".replace(zI,t)}(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let Cse=(()=>{class t extends mU{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||t)(q(zt))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})();const CU=["alt","control","meta","shift"],Tse={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ese={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Dse=(()=>{class t extends mU{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ns().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=t._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),CU.forEach(u=>{const l=r.indexOf(u);l>-1&&(r.splice(l,1),s+=u+".")}),s+=o,0!=r.length||0===o.length)return null;const c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=Tse[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),CU.forEach(s=>{s!==i&&(0,Ese[s])(n)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||t)(q(zt))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})();const EU=[{provide:Fo,useValue:uU},{provide:SF,useValue:function Sse(){jI.makeCurrent()},multi:!0},{provide:zt,useFactory:function Ase(){return function gJ(t){k1=t}(document),document},deps:[]}],Nse=_B(nie,"browser",EU),Ose=new te(""),DU=[{provide:o_,useClass:class fse{addToWindow(e){lt.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new U(5103,!1);return o},lt.getAllAngularTestabilities=()=>e.getAllTestabilities(),lt.getAllAngularRootElements=()=>e.getAllRootElements(),lt.frameworkStabilizers||(lt.frameworkStabilizers=[]),lt.frameworkStabilizers.push(r=>{const i=lt.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(c){s=s||c,o--,0==o&&r(s)};i.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Ns().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:hB,useClass:aI,deps:[Te,cI,o_]},{provide:aI,useClass:aI,deps:[Te,cI,o_]}],SU=[{provide:$1,useValue:"root"},{provide:Lo,useFactory:function xse(){return new Lo},deps:[]},{provide:$I,useClass:Cse,multi:!0,deps:[zt,Te,Fo]},{provide:$I,useClass:Dse,multi:!0,deps:[zt]},bU,_U,gU,{provide:nw,useExisting:bU},{provide:class joe{},useClass:pse,deps:[]},[]];let Mse=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Sm,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||t)(q(Ose,12))};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({providers:[...SU,...DU],imports:[Ua,rie]})}return t})(),xU=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(r){return new(r||t)(q(zt))};static#t=this.\u0275prov=G({token:t,factory:function(r){let i=null;return i=r?new r:function kse(){return new xU(q(zt))}(),i},providedIn:"root"})}return t})();typeof window<"u"&&window;let OU=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:function(r){let i=null;return i=r?new(r||t):q(MU),i},providedIn:"root"})}return t})(),MU=(()=>{class t extends OU{constructor(n){super(),this._doc=n}sanitize(n,r){if(null==r)return null;switch(n){case di.NONE:return r;case di.HTML:return eo(r,"HTML")?Wr(r):_F(this._doc,String(r)).toString();case di.STYLE:return eo(r,"Style")?Wr(r):r;case di.SCRIPT:if(eo(r,"Script"))return Wr(r);throw new U(5200,!1);case di.URL:return eo(r,"URL")?Wr(r):wm(String(r));case di.RESOURCE_URL:if(eo(r,"ResourceURL"))return Wr(r);throw new U(5201,!1);default:throw new U(5202,!1)}}bypassSecurityTrustHtml(n){return function IJ(t){return new mJ(t)}(n)}bypassSecurityTrustStyle(n){return function CJ(t){return new _J(t)}(n)}bypassSecurityTrustScript(n){return function TJ(t){return new yJ(t)}(n)}bypassSecurityTrustUrl(n){return function EJ(t){return new vJ(t)}(n)}bypassSecurityTrustResourceUrl(n){return function DJ(t){return new bJ(t)}(n)}static#e=this.\u0275fac=function(r){return new(r||t)(q(zt))};static#t=this.\u0275prov=G({token:t,factory:function(r){let i=null;return i=r?new r:function Vse(t){return new MU(t.get(zt))}(q(en)),i},providedIn:"root"})}return t})();const{isArray:Use}=Array,{getPrototypeOf:jse,prototype:$se,keys:Hse}=Object;function kU(t){if(1===t.length){const e=t[0];if(Use(e))return{args:e,keys:null};if(function Gse(t){return t&&"object"==typeof t&&jse(t)===$se}(e)){const n=Hse(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:zse}=Array;function YI(t){return Oe(e=>function qse(t,e){return zse(e)?t(...e):t(e)}(t,e))}function PU(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function QI(...t){const e=Od(t),n=Mg(t),{args:r,keys:i}=kU(t);if(0===r.length)return vn([],e);const o=new Ge(function Wse(t,e,n=Ii){return r=>{FU(e,()=>{const{length:i}=t,o=new Array(i);let s=i,a=i;for(let c=0;c<i;c++)FU(e,()=>{const u=vn(t[c],e);let l=!1;u.subscribe(ut(r,d=>{o[c]=d,l||(l=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>PU(i,s):Ii));return n?o.pipe(YI(n)):o}function FU(t,e,n){t?xo(n,t,e):e()}const Vh=gs(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Bh(...t){return function Kse(){return ou(1)}()(vn(t,Od(t)))}function JI(t){return new Ge(e=>{cn(t()).subscribe(e)})}function Uh(t,e){const n=Ie(t)?t:()=>t,r=i=>i.error(n());return new Ge(e?i=>e.schedule(r,0,i):r)}function ZI(){return St((t,e)=>{let n=null;t._refCount++;const r=ut(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class LU extends Ge{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Ad(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ut;const n=this.getSubject();e.add(this.source.subscribe(ut(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ut.EMPTY)}return e}refCount(){return ZI()(this)}}function wn(t){return t<=0?()=>ai:St((e,n)=>{let r=0;e.subscribe(ut(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function In(t,e){return St((n,r)=>{let i=0;n.subscribe(ut(r,o=>t.call(e,o,i++)&&r.next(o)))})}function T_(t){return St((e,n)=>{let r=!1;e.subscribe(ut(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function BU(t=Yse){return St((e,n)=>{let r=!1;e.subscribe(ut(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Yse(){return new Vh}function ja(t,e){const n=arguments.length>=2;return r=>r.pipe(t?In((i,o)=>t(i,o,r)):Ii,wn(1),n?T_(e):BU(()=>new Vh))}function jh(t,e){return Ie(e)?un(t,e,1):un(t,1)}function fn(t,e,n){const r=Ie(t)||e||n?{next:t,error:e,complete:n}:t;return r?St((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(ut(o,c=>{var u;null===(u=r.next)||void 0===u||u.call(r,c),o.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),o.complete()},c=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,c),o.error(c)},()=>{var c,u;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):Ii}function $a(t){return St((e,n)=>{let o,r=null,i=!1;r=e.subscribe(ut(n,void 0,void 0,s=>{o=cn(t(s,$a(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function XI(t){return t<=0?()=>ai:St((e,n)=>{let r=[];e.subscribe(ut(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function eC(t){return Oe(()=>t)}function tC(t){return St((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Tt(t){return St((e,n)=>{cn(t).subscribe(ut(n,()=>n.complete(),ya)),!n.closed&&e.subscribe(n)})}const ve="primary",$h=Symbol("RouteTitle");class Xse{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function il(t){return new Xse(t)}function eae(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function oo(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!UU(t[i],e[i]))return!1;return!0}function UU(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}return t===e}function jU(t){return t.length>0?t[t.length-1]:null}function Ms(t){return function Bse(t){return!!t&&(t instanceof Ge||Ie(t.lift)&&Ie(t.subscribe))}(t)?t:_h(t)?vn(Promise.resolve(t)):ce(t)}const nae={exact:function GU(t,e,n){if(!Ha(t.segments,e.segments)||!E_(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!GU(t.children[r],e.children[r],n))return!1;return!0},subset:zU},$U={exact:function rae(t,e){return oo(t,e)},subset:function iae(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>UU(t[n],e[n]))},ignored:()=>!0};function HU(t,e,n){return nae[n.paths](t.root,e.root,n.matrixParams)&&$U[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function zU(t,e,n){return qU(t,e,e.segments,n)}function qU(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Ha(i,n)||e.hasChildren()||!E_(i,n,r))}if(t.segments.length===n.length){if(!Ha(t.segments,n)||!E_(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!zU(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!(Ha(t.segments,i)&&E_(t.segments,i,r)&&t.children[ve])&&qU(t.children[ve],e,o,r)}}function E_(t,e,n){return e.every((r,i)=>$U[n](t[i].parameters,r.parameters))}class ol{constructor(e=new it([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=il(this.queryParams)),this._queryParamMap}toString(){return aae.serialize(this)}}class it{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return D_(this)}}class Hh{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=il(this.parameters)),this._parameterMap}toString(){return YU(this)}}function Ha(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Gh=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:function(){return new nC},providedIn:"root"})}return t})();class nC{parse(e){const n=new yae(e);return new ol(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${zh(e.root,!0)}`,r=function lae(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${S_(n)}=${S_(i)}`).join("&"):`${S_(n)}=${S_(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function cae(t){return encodeURI(t)}(e.fragment)}`:""}`}}const aae=new nC;function D_(t){return t.segments.map(e=>YU(e)).join("/")}function zh(t,e){if(!t.hasChildren())return D_(t);if(e){const n=t.children[ve]?zh(t.children[ve],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==ve&&r.push(`${i}:${zh(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function sae(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ve&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ve&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===ve?[zh(t.children[ve],!1)]:[`${i}:${zh(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ve]?`${D_(t)}/${n[0]}`:`${D_(t)}/(${n.join("//")})`}}function WU(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function S_(t){return WU(t).replace(/%3B/gi,";")}function rC(t){return WU(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function x_(t){return decodeURIComponent(t)}function KU(t){return x_(t.replace(/\+/g,"%20"))}function YU(t){return`${rC(t.path)}${function uae(t){return Object.keys(t).map(e=>`;${rC(e)}=${rC(t[e])}`).join("")}(t.parameters)}`}const dae=/^[^\/()?;#]+/;function iC(t){const e=t.match(dae);return e?e[0]:""}const hae=/^[^\/()?;=#]+/,pae=/^[^=?&#]+/,mae=/^[^&#]+/;class yae{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new it([],{}):new it([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ve]=new it(e,n)),r}parseSegment(){const e=iC(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new U(4009,!1);return this.capture(e),new Hh(x_(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function fae(t){const e=t.match(hae);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=iC(this.remaining);i&&(r=i,this.capture(r))}e[x_(n)]=x_(r)}parseQueryParam(e){const n=function gae(t){const e=t.match(pae);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function _ae(t){const e=t.match(mae);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=KU(n),o=KU(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=iC(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new U(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ve);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[ve]:new it([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new U(4011,!1)}}function QU(t){return t.segments.length>0?new it([],{[ve]:t}):t}function JU(t){const e={};for(const r of Object.keys(t.children)){const o=JU(t.children[r]);if(r===ve&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function vae(t){if(1===t.numberOfChildren&&t.children[ve]){const e=t.children[ve];return new it(t.segments.concat(e.segments),e.children)}return t}(new it(t.segments,e))}function Ga(t){return t instanceof ol}function ZU(t){let e;const i=QU(function n(o){const s={};for(const c of o.children){const u=n(c);s[c.outlet]=u}const a=new it(o.url,s);return o===t&&(e=a),a}(t.root));return e??i}function XU(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return oC(i,i,i,n,r);const o=function wae(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new t4(!0,0,t);let e=0,n=!1;const r=t.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([c,u])=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new t4(n,e,r)}(e);if(o.toRoot())return oC(i,i,new it([],{}),n,r);const s=function Iae(t,e,n){if(t.isAbsolute)return new N_(e,!0,0);if(!n)return new N_(e,!1,NaN);if(null===n.parent)return new N_(n,!0,0);const r=A_(t.commands[0])?0:1;return function Cae(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new U(4005,!1);i=r.segments.length}return new N_(r,!1,i-o)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(o,i,t),a=s.processChildren?Wh(s.segmentGroup,s.index,o.commands):n4(s.segmentGroup,s.index,o.commands);return oC(i,s.segmentGroup,a,n,r)}function A_(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function qh(t){return"object"==typeof t&&null!=t&&t.outlets}function oC(t,e,n,r,i){let s,o={};r&&Object.entries(r).forEach(([c,u])=>{o[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`}),s=t===e?n:e4(t,e,n);const a=QU(JU(s));return new ol(a,o,i)}function e4(t,e,n){const r={};return Object.entries(t.children).forEach(([i,o])=>{r[i]=o===e?n:e4(o,e,n)}),new it(t.segments,r)}class t4{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&A_(r[0]))throw new U(4003,!1);const i=r.find(qh);if(i&&i!==jU(r))throw new U(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class N_{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function n4(t,e,n){if(t||(t=new it([],{})),0===t.segments.length&&t.hasChildren())return Wh(t,e,n);const r=function Eae(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const s=t.segments[i],a=n[r];if(qh(a))break;const c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===c)break;if(c&&u&&"object"==typeof u&&void 0===u.outlets){if(!i4(c,u,s))return o;r+=2}else{if(!i4(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const o=new it(t.segments.slice(0,r.pathIndex),{});return o.children[ve]=new it(t.segments.slice(r.pathIndex),t.children),Wh(o,0,i)}return r.match&&0===i.length?new it(t.segments,{}):r.match&&!t.hasChildren()?sC(t,e,n):r.match?Wh(t,0,i):sC(t,e,n)}function Wh(t,e,n){if(0===n.length)return new it(t.segments,{});{const r=function Tae(t){return qh(t[0])?t[0].outlets:{[ve]:t}}(n),i={};if(Object.keys(r).some(o=>o!==ve)&&t.children[ve]&&1===t.numberOfChildren&&0===t.children[ve].segments.length){const o=Wh(t.children[ve],e,n);return new it(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=n4(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new it(t.segments,i)}}function sC(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(qh(o)){const c=Dae(o.outlets);return new it(r,c)}if(0===i&&A_(n[0])){r.push(new Hh(t.segments[e].path,r4(n[0]))),i++;continue}const s=qh(o)?o.outlets[ve]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&A_(a)?(r.push(new Hh(s,r4(a))),i+=2):(r.push(new Hh(s,{})),i++)}return new it(r,{})}function Dae(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=sC(new it([],{}),0,r))}),e}function r4(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function i4(t,e,n){return t==n.path&&oo(e,n.parameters)}const Kh="imperative";class so{constructor(e,n){this.id=e,this.url=n}}class O_ extends so{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Rs extends so{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Yh extends so{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class sl extends so{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class M_ extends so{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class o4 extends so{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Sae extends so{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xae extends so{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Aae extends so{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Nae extends so{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Oae{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Mae{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Rae{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kae{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pae{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fae{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class s4{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class aC{}class cC{constructor(e){this.url=e}}class Lae{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Qh,this.attachRef=null}}let Qh=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Lae,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class a4{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=uC(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=uC(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=lC(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return lC(e,this._root).map(n=>n.value)}}function uC(t,e){if(t===e.value)return e;for(const n of e.children){const r=uC(t,n);if(r)return r}return null}function lC(t,e){if(t===e.value)return[e];for(const n of e.children){const r=lC(t,n);if(r.length)return r.unshift(e),r}return[]}class Ho{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function al(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class c4 extends a4{constructor(e,n){super(e),this.snapshot=n,dC(this,e)}toString(){return this.snapshot.toString()}}function u4(t,e){const n=function Vae(t,e){const s=new R_([],{},{},"",{},ve,e,null,{});return new d4("",new Ho(s,[]))}(0,e),r=new Kn([new Hh("",{})]),i=new Kn({}),o=new Kn({}),s=new Kn({}),a=new Kn(""),c=new ki(r,i,s,a,o,ve,e,n.root);return c.snapshot=n.root,new c4(new Ho(c,[]),n)}class ki{constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Oe(u=>u[$h]))??ce(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Oe(e=>il(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Oe(e=>il(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function l4(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function Bae(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class R_{get title(){return this.data?.[$h]}constructor(e,n,r,i,o,s,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=il(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=il(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class d4 extends a4{constructor(e,n){super(n),this.url=e,dC(this,n)}toString(){return h4(this._root)}}function dC(t,e){e.value._routerState=t,e.children.forEach(n=>dC(t,n))}function h4(t){const e=t.children.length>0?` { ${t.children.map(h4).join(", ")} } `:"";return`${t.value}${e}`}function hC(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,oo(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),oo(e.params,n.params)||t.paramsSubject.next(n.params),function tae(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!oo(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),oo(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function fC(t,e){const n=oo(t.params,e.params)&&function oae(t,e){return Ha(t,e)&&t.every((n,r)=>oo(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||fC(t.parent,e.parent))}let k_=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ve,this.activateEvents=new P,this.deactivateEvents=new P,this.attachEvents=new P,this.detachEvents=new P,this.parentContexts=K(Qh),this.location=K(pi),this.changeDetector=K(Oi),this.environmentInjector=K(xr),this.inputBinder=K(P_,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new U(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new U(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new U(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new U(4013,!1);this._activatedRoute=n;const i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Uae(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=H({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Pn]})}return t})();class Uae{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===ki?this.route:e===Qh?this.childContexts:this.parent.get(e,n)}}const P_=new te("");let f4=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=QI([r.queryParams,r.params,r.data]).pipe(Ci(([o,s,a],c)=>(a={...o,...s,...a},0===c?ce(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const s=function gie(t){const e=Me(t);if(!e)return null;const n=new dh(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})();function Jh(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function $ae(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Jh(t,r,i);return Jh(t,r)})}(t,e,n);return new Ho(r,i)}{if(t.shouldAttach(e.value)){const o=t.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Jh(t,a)),s}}const r=function Hae(t){return new ki(new Kn(t.url),new Kn(t.params),new Kn(t.queryParams),new Kn(t.fragment),new Kn(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(o=>Jh(t,o));return new Ho(r,i)}}const pC="ngNavigationCancelingError";function p4(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Ga(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=g4(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function g4(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[pC]=!0,r.cancellationCode=e,n&&(r.url=n),r}function m4(t){return t&&t[pC]}let _4=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Le({type:t,selectors:[["ng-component"]],standalone:!0,features:[Yr],decls:1,vars:0,template:function(r,i){1&r&&O(0,"router-outlet")},dependencies:[k_],encapsulation:2})}return t})();function gC(t){const e=t.children&&t.children.map(gC),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ve&&(n.component=_4),n}function Pi(t){return t.outlet||ve}function Zh(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class Jae{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),hC(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=al(n);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=al(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=al(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=al(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Fae(o.value.snapshot))}),e.children.length&&this.forwardEvent(new kae(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(hC(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),hC(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=Zh(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class y4{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class F_{constructor(e,n){this.component=e,this.route=n}}function Zae(t,e,n){const r=t._root;return Xh(r,e?e._root:null,n,[r.value])}function cl(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function RK(t){return null!==Lg(t)}(t)?e.get(t):t:r}function Xh(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=al(e);return t.children.forEach(s=>{(function ece(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function tce(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Ha(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ha(t.url,e.url)||!oo(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!fC(t,e)||!oo(t.queryParams,e.queryParams);default:return!fC(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new y4(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Xh(t,e,o.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new F_(a.outlet.component,s))}else s&&ef(e,a,i),i.canActivateChecks.push(new y4(r)),Xh(t,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>ef(a,n.getContext(s),i)),i}function ef(t,e,n){const r=al(t),i=t.value;Object.entries(r).forEach(([o,s])=>{ef(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new F_(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function tf(t){return"function"==typeof t}function v4(t){return t instanceof Vh||"EmptyError"===t?.name}const L_=Symbol("INITIAL_VALUE");function ul(){return Ci(t=>QI(t.map(e=>e.pipe(wn(1),function VU(...t){const e=Od(t);return St((n,r)=>{(e?Bh(t,n,e):Bh(t,n)).subscribe(r)})}(L_)))).pipe(Oe(e=>{for(const n of e)if(!0!==n){if(n===L_)return L_;if(!1===n||n instanceof ol)return n}return!0}),In(e=>e!==L_),wn(1)))}function b4(t){return function Eg(...t){return Dg(t)}(fn(e=>{if(Ga(e))throw p4(0,e)}),Oe(e=>!0===e))}class V_{constructor(e){this.segmentGroup=e||null}}class w4{constructor(e){this.urlTree=e}}function ll(t){return Uh(new V_(t))}function I4(t){return Uh(new w4(t))}class wce{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new U(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ce(r);if(i.numberOfChildren>1||!i.children[ve])return Uh(new U(4e3,!1));i=i.children[ve]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const o=this.createSegmentGroup(e,n.root,r,i);return new ol(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){const o=this.createSegments(e,n.segments,r,i);let s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new it(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new U(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const mC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ice(t,e,n,r,i){const o=_C(t,e,n);return o.matched?(r=function zae(t,e){return t.providers&&!t._injector&&(t._injector=jw(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function yce(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?ce(i.map(s=>{const a=cl(s,t);return Ms(function ace(t){return t&&tf(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(ul(),b4()):ce(!0)}(r,e,n).pipe(Oe(s=>!0===s?o:{...mC}))):ce(o)}function _C(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...mC}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||eae)(n,t,e);if(!i)return{...mC};const o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function C4(t,e,n,r){return n.length>0&&function Ece(t,e,n){return n.some(r=>B_(t,e,r)&&Pi(r)!==ve)}(t,n,r)?{segmentGroup:new it(e,Tce(r,new it(n,t.children))),slicedSegments:[]}:0===n.length&&function Dce(t,e,n){return n.some(r=>B_(t,e,r))}(t,n,r)?{segmentGroup:new it(t.segments,Cce(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new it(t.segments,t.children),slicedSegments:n}}function Cce(t,e,n,r,i){const o={};for(const s of r)if(B_(t,n,s)&&!i[Pi(s)]){const a=new it([],{});o[Pi(s)]=a}return{...i,...o}}function Tce(t,e){const n={};n[ve]=e;for(const r of t)if(""===r.path&&Pi(r)!==ve){const i=new it([],{});n[Pi(r)]=i}return n}function B_(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class Nce{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new wce(this.urlSerializer,this.urlTree)}noMatchError(e){return new U(4002,!1)}recognize(){const e=C4(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ve).pipe($a(n=>{if(n instanceof w4)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof V_?this.noMatchError(n):n}),Oe(n=>{const r=new R_([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ve,this.rootComponentType,null,{}),i=new Ho(r,n),o=new d4("",i),s=function bae(t,e,n=null,r=null){return XU(ZU(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,ve).pipe($a(r=>{throw r instanceof V_?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=l4(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return vn(i).pipe(jh(o=>{const s=r.children[o],a=function Yae(t,e){const n=t.filter(r=>Pi(r)===e);return n.push(...t.filter(r=>Pi(r)!==e)),n}(n,o);return this.processSegmentGroup(e,a,s,o)}),function Jse(t,e){return St(function Qse(t,e,n,r,i){return(o,s)=>{let a=n,c=e,u=0;o.subscribe(ut(s,l=>{const d=u++;c=a?t(c,l,d):(a=!0,l),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}(t,e,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),T_(null),function Zse(t,e){const n=arguments.length>=2;return r=>r.pipe(t?In((i,o)=>t(i,o,r)):Ii,XI(1),n?T_(e):BU(()=>new Vh))}(),un(o=>{if(null===o)return ll(r);const s=T4(o);return function Oce(t){t.sort((e,n)=>e.value.outlet===ve?-1:n.value.outlet===ve?1:e.value.outlet.localeCompare(n.value.outlet))}(s),ce(s)}))}processSegment(e,n,r,i,o,s){return vn(n).pipe(jh(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe($a(c=>{if(c instanceof V_)return ce(null);throw c}))),ja(a=>!!a),$a(a=>{if(v4(a))return function xce(t,e,n){return 0===e.length&&!t.children[n]}(r,i,o)?ce([]):ll(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return function Sce(t,e,n,r){return!!(Pi(t)===r||r!==ve&&B_(e,n,t))&&("**"===t.path||_C(e,t,n).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):ll(i):ll(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?I4(o):this.applyRedirects.lineralizeSegments(r,o).pipe(un(s=>{const a=new it(s,{});return this.processSegment(e,n,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){const{matched:a,consumedSegments:c,remainingSegments:u,positionalParamSegments:l}=_C(n,i,o);if(!a)return ll(n);const d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,l);return i.redirectTo.startsWith("/")?I4(d):this.applyRedirects.lineralizeSegments(i,d).pipe(un(h=>this.processSegment(e,r,n,h.concat(u),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a;if("**"===r.path){const c=i.length>0?jU(i).parameters:{};a=ce({snapshot:new R_(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,E4(r),Pi(r),r.component??r._loadedComponent??null,r,D4(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=Ice(n,r,i,e).pipe(Oe(({matched:c,consumedSegments:u,remainingSegments:l,parameters:d})=>c?{snapshot:new R_(u,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,E4(r),Pi(r),r.component??r._loadedComponent??null,r,D4(r)),consumedSegments:u,remainingSegments:l}:null));return a.pipe(Ci(c=>null===c?ll(n):this.getChildConfig(e=r._injector??e,r,i).pipe(Ci(({routes:u})=>{const l=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=c,{segmentGroup:_,slicedSegments:y}=C4(n,h,f,u);if(0===y.length&&_.hasChildren())return this.processChildren(l,u,_).pipe(Oe(T=>null===T?null:[new Ho(d,T)]));if(0===u.length&&0===y.length)return ce([new Ho(d,[])]);const v=Pi(r)===o;return this.processSegment(l,u,_,y,v?ve:o,!0).pipe(Oe(T=>[new Ho(d,T)]))}))))}getChildConfig(e,n,r){return n.children?ce({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?ce({routes:n._loadedRoutes,injector:n._loadedInjector}):function _ce(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?ce(!0):ce(i.map(s=>{const a=cl(s,t);return Ms(function rce(t){return t&&tf(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(ul(),b4())}(e,n,r).pipe(un(i=>i?this.configLoader.loadChildren(e,n).pipe(fn(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function bce(t){return Uh(g4(!1,3))}())):ce({routes:[],injector:e})}}function Mce(t){const e=t.value.routeConfig;return e&&""===e.path}function T4(t){const e=[],n=new Set;for(const r of t){if(!Mce(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=T4(r.children);e.push(new Ho(r.value,i))}return e.filter(r=>!n.has(r))}function E4(t){return t.data||{}}function D4(t){return t.resolve||{}}function S4(t){return"string"==typeof t.title||null===t.title}function yC(t){return Ci(e=>{const n=t(e);return n?vn(n).pipe(Oe(()=>e)):ce(e)})}const dl=new te("ROUTES");let vC=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=K(cB)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return ce(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Ms(n.loadComponent()).pipe(Oe(x4),fn(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),tC(()=>{this.componentLoaders.delete(n)})),i=new LU(r,()=>new Fe).pipe(ZI());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ce({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function Bce(t,e,n,r){return Ms(t.loadChildren()).pipe(Oe(x4),un(i=>i instanceof _V||Array.isArray(i)?ce(i):vn(e.compileModuleAsync(i))),Oe(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(n).injector,s=o.get(dl,[],{optional:!0,self:!0}).flat()),{routes:s.map(gC),injector:o}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(tC(()=>{this.childrenLoaders.delete(r)})),s=new LU(o,()=>new Fe).pipe(ZI());return this.childrenLoaders.set(r,s),s}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function x4(t){return function Uce(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let U_=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Fe,this.transitionAbortSubject=new Fe,this.configLoader=K(vC),this.environmentInjector=K(xr),this.urlSerializer=K(Gh),this.rootContexts=K(Qh),this.inputBindingEnabled=null!==K(P_,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ce(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new Mae(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Oae(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new Kn({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:n.urlHandlingStrategy.extract(r),urlAfterRedirects:n.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Kh,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(In(o=>0!==o.id),Oe(o=>({...o,extractedUrl:n.urlHandlingStrategy.extract(o.rawUrl)})),Ci(o=>{this.currentTransition=o;let s=!1,a=!1;return ce(o).pipe(fn(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ci(c=>{const u=c.currentBrowserUrl.toString(),l=!n.navigated||c.extractedUrl.toString()!==u||u!==c.currentUrlTree.toString();if(!l&&"reload"!==(c.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const h="";return this.events.next(new sl(c.id,this.urlSerializer.serialize(c.rawUrl),h,0)),c.resolve(null),ai}if(n.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return ce(c).pipe(Ci(h=>{const f=this.transitions?.getValue();return this.events.next(new O_(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?ai:Promise.resolve(h)}),function Rce(t,e,n,r,i,o){return un(s=>function Ace(t,e,n,r,i,o,s="emptyOnly"){return new Nce(t,e,n,r,i,s,o).recognize()}(t,e,n,r,s.extractedUrl,i,o).pipe(Oe(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),fn(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const f=new o4(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(l&&n.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:h,extractedUrl:f,source:_,restoredState:y,extras:v}=c,T=new O_(h,this.urlSerializer.serialize(f),_,y);this.events.next(T);const w=u4(0,this.rootComponentType).snapshot;return this.currentTransition=o={...c,targetSnapshot:w,urlAfterRedirects:f,extras:{...v,skipLocationChange:!1,replaceUrl:!1}},ce(o)}{const h="";return this.events.next(new sl(c.id,this.urlSerializer.serialize(c.extractedUrl),h,1)),c.resolve(null),ai}}),fn(c=>{const u=new Sae(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Oe(c=>(this.currentTransition=o={...c,guards:Zae(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},o)),function uce(t,e){return un(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?ce({...n,guardsResult:!0}):function lce(t,e,n,r){return vn(t).pipe(un(i=>function mce(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?ce(o.map(a=>{const c=Zh(e)??i,u=cl(a,c);return Ms(function sce(t){return t&&tf(t.canDeactivate)}(u)?u.canDeactivate(t,e,n,r):c.runInContext(()=>u(t,e,n,r))).pipe(ja())})).pipe(ul()):ce(!0)}(i.component,i.route,n,e,r)),ja(i=>!0!==i,!0))}(s,r,i,t).pipe(un(a=>a&&function nce(t){return"boolean"==typeof t}(a)?function dce(t,e,n,r){return vn(e).pipe(jh(i=>Bh(function fce(t,e){return null!==t&&e&&e(new Rae(t)),ce(!0)}(i.route.parent,r),function hce(t,e){return null!==t&&e&&e(new Pae(t)),ce(!0)}(i.route,r),function gce(t,e,n){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function Xae(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(s)).filter(s=>null!==s).map(s=>JI(()=>ce(s.guards.map(c=>{const u=Zh(s.node)??n,l=cl(c,u);return Ms(function oce(t){return t&&tf(t.canActivateChild)}(l)?l.canActivateChild(r,t):u.runInContext(()=>l(r,t))).pipe(ja())})).pipe(ul())));return ce(o).pipe(ul())}(t,i.path,n),function pce(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ce(!0);const i=r.map(o=>JI(()=>{const s=Zh(e)??n,a=cl(o,s);return Ms(function ice(t){return t&&tf(t.canActivate)}(a)?a.canActivate(e,t):s.runInContext(()=>a(e,t))).pipe(ja())}));return ce(i).pipe(ul())}(t,i.route,n))),ja(i=>!0!==i,!0))}(r,o,t,e):ce(a)),Oe(a=>({...n,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),fn(c=>{if(o.guardsResult=c.guardsResult,Ga(c.guardsResult))throw p4(0,c.guardsResult);const u=new xae(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),In(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),yC(c=>{if(c.guards.canActivateChecks.length)return ce(c).pipe(fn(u=>{const l=new Aae(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),Ci(u=>{let l=!1;return ce(u).pipe(function kce(t,e){return un(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ce(n);let o=0;return vn(i).pipe(jh(s=>function Pce(t,e,n,r){const i=t.routeConfig,o=t._resolve;return void 0!==i?.title&&!S4(i)&&(o[$h]=i.title),function Fce(t,e,n,r){const i=function Lce(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return ce({});const o={};return vn(i).pipe(un(s=>function Vce(t,e,n,r){const i=Zh(e)??r,o=cl(t,i);return Ms(o.resolve?o.resolve(e,n):i.runInContext(()=>o(e,n)))}(t[s],e,n,r).pipe(ja(),fn(a=>{o[s]=a}))),XI(1),eC(o),$a(s=>v4(s)?ai:Uh(s)))}(o,t,e,r).pipe(Oe(s=>(t._resolvedData=s,t.data=l4(t,n).resolve,i&&S4(i)&&(t.data[$h]=i.title),null)))}(s.route,r,t,e)),fn(()=>o++),XI(1),un(s=>o===i.length?ce(n):ai))})}(n.paramsInheritanceStrategy,this.environmentInjector),fn({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(u,"",2)}}))}),fn(u=>{const l=new Nae(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}))}),yC(c=>{const u=l=>{const d=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(l.routeConfig).pipe(fn(h=>{l.component=h}),Oe(()=>{})));for(const h of l.children)d.push(...u(h));return d};return QI(u(c.targetSnapshot.root)).pipe(T_(),wn(1))}),yC(()=>this.afterPreactivation()),Oe(c=>{const u=function jae(t,e,n){const r=Jh(t,e._root,n?n._root:void 0);return new c4(r,e)}(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o={...c,targetRouterState:u},o}),fn(()=>{this.events.next(new aC)}),((t,e,n,r)=>Oe(i=>(new Jae(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),wn(1),fn({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Rs(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),n.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),Tt(this.transitionAbortSubject.pipe(fn(c=>{throw c}))),tC(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),$a(c=>{if(a=!0,m4(c))this.events.next(new Yh(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),function Gae(t){return m4(t)&&Ga(t.url)}(c)?this.events.next(new cC(c.url)):o.resolve(!1);else{this.events.next(new M_(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(n.errorHandler(c))}catch(u){o.reject(u)}}return ai}))}))}cancelNavigationTransition(n,r,i){const o=new Yh(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function A4(t){return t!==Kh}let N4=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ve);return r}getResolvedTitleForRoute(n){return n.data[$h]}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:function(){return K(jce)},providedIn:"root"})}return t})(),jce=(()=>{class t extends N4{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||t)(q(xU))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),$ce=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:function(){return K(Gce)},providedIn:"root"})}return t})();class Hce{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let Gce=(()=>{class t extends Hce{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Gt(t)))(i||t)}}();static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const j_=new te("",{providedIn:"root",factory:()=>({})});let zce=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:function(){return K(qce)},providedIn:"root"})}return t})(),qce=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var nf=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(nf||{});function O4(t,e){t.events.pipe(In(n=>n instanceof Rs||n instanceof Yh||n instanceof M_||n instanceof sl),Oe(n=>n instanceof Rs||n instanceof sl?nf.COMPLETE:n instanceof Yh&&(0===n.code||1===n.code)?nf.REDIRECTING:nf.FAILED),In(n=>n!==nf.REDIRECTING),wn(1)).subscribe(()=>{e()})}function Wce(t){throw t}function Kce(t,e,n){return e.parse("/")}const Yce={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Qce={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Pt=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=K(sB),this.isNgZoneEnabled=!1,this._events=new Fe,this.options=K(j_,{optional:!0})||{},this.pendingTasks=K(aB),this.errorHandler=this.options.errorHandler||Wce,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Kce,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=K(zce),this.routeReuseStrategy=K($ce),this.titleStrategy=K(N4),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=K(dl,{optional:!0})?.flat()??[],this.navigationTransitions=K(U_),this.urlSerializer=K(Gh),this.location=K(II),this.componentInputBindingEnabled=!!K(P_,{optional:!0}),this.eventsSubscription=new Ut,this.isNgZoneEnabled=K(Te)instanceof Te&&Te.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ol,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=u4(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(M4(r)&&this._events.next(r));if(r instanceof O_)A4(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof sl)this.rawUrlTree=i.rawUrl;else if(r instanceof o4){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(o,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof aC)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof Yh)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof cC){const o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),s={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||A4(i.source)};this.scheduleNavigation(o,Kh,null,s,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof M_&&this.restoreHistory(i,!0),r instanceof Rs&&(this.navigated=!0),M4(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Kh,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const c={...i};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(gC),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s;let d,l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...o};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=o||null}null!==l&&(l=this.removeEmptyProps(l));try{d=ZU(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return XU(d,n,l,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Ga(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Kh,null,r)}navigate(n,r={skipLocationChange:!1}){return function Jce(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new U(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...Yce}:!1===r?{...Qce}:r,Ga(n))return HU(this.currentUrlTree,n,i);const o=this.parseUrl(n);return HU(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const o=n[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((d,h)=>{a=d,c=h});const l=this.pendingTasks.add();return O4(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",o)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function M4(t){return!(t instanceof aC||t instanceof cC)}let _i=(()=>{class t{constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new Fe,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=n.events.subscribe(u=>{u instanceof Rs&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function yF(t,e,n){return function jJ(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?Cm:Ds}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||t)(b(Pt),b(ki),function Da(t){return function rQ(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const o=n[i];if(hP(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}}return null}(Fn(),t)}("tabindex"),b(Ar),b($e),b(Ba))};static#t=this.\u0275dir=H({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&ne("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&r&&Je("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",tl],skipLocationChange:["skipLocationChange","skipLocationChange",tl],replaceUrl:["replaceUrl","replaceUrl",tl],routerLink:"routerLink"},standalone:!0,features:[ML,Pn]})}return t})();class R4{}let eue=(()=>{class t{constructor(n,r,i,o,s){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(In(n=>n instanceof Rs),jh(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=jw(o.providers,n,`Route: ${o.path}`));const s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return vn(i).pipe(ou())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):ce(null);const o=i.pipe(un(s=>null===s?ce(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));return r.loadComponent&&!r._loadedComponent?vn([o,this.loader.loadComponent(r)]).pipe(ou()):o})}static#e=this.\u0275fac=function(r){return new(r||t)(q(Pt),q(cB),q(xr),q(R4),q(vC))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const bC=new te("");let k4=(()=>{class t{constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof O_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Rs?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof sl&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof s4&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new s4(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function oL(){throw new Error("invalid")}()};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})();function Go(t,e){return{\u0275kind:t,\u0275providers:e}}function F4(){const t=K(en);return e=>{const n=t.get(As);if(e!==n.components[0])return;const r=t.get(Pt),i=t.get(L4);1===t.get(wC)&&r.initialNavigation(),t.get(V4,null,De.Optional)?.setUpPreloading(),t.get(bC,null,De.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const L4=new te("",{factory:()=>new Fe}),wC=new te("",{providedIn:"root",factory:()=>1}),V4=new te("");function iue(t){return Go(0,[{provide:V4,useExisting:eue},{provide:R4,useExisting:t}])}const B4=new te("ROUTER_FORROOT_GUARD"),sue=[II,{provide:Gh,useClass:nC},Pt,Qh,{provide:ki,useFactory:function P4(t){return t.routerState.root},deps:[Pt]},vC,[]];function aue(){return new gB("Router",Pt)}let hl=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[sue,[],{provide:dl,multi:!0,useValue:n},{provide:B4,useFactory:due,deps:[[Pt,new Dr,new sm]]},{provide:j_,useValue:r||{}},r?.useHash?{provide:Ba,useClass:bie}:{provide:Ba,useClass:zB},{provide:bC,useFactory:()=>{const t=K(Voe),e=K(Te),n=K(j_),r=K(U_),i=K(Gh);return n.scrollOffset&&t.setOffset(n.scrollOffset),new k4(i,r,t,e,n)}},r?.preloadingStrategy?iue(r.preloadingStrategy).\u0275providers:[],{provide:gB,multi:!0,useFactory:aue},r?.initialNavigation?hue(r):[],r?.bindToComponentInputs?Go(8,[f4,{provide:P_,useExisting:f4}]).\u0275providers:[],[{provide:U4,useFactory:F4},{provide:dI,multi:!0,useExisting:U4}]]}}static forChild(n){return{ngModule:t,providers:[{provide:dl,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||t)(q(B4,8))};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({})}return t})();function due(t){return"guarded"}function hue(t){return["disabled"===t.initialNavigation?Go(3,[{provide:rI,multi:!0,useFactory:()=>{const e=K(Pt);return()=>{e.setUpLocationChangeListener()}}},{provide:wC,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Go(2,[{provide:wC,useValue:0},{provide:rI,multi:!0,deps:[en],useFactory:e=>{const n=e.get(yie,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(Pt),o=e.get(L4);O4(i,()=>{r(!0)}),e.get(U_).afterPreactivation=()=>(r(!0),o.closed?ce(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const U4=new te("");function j4(t,e,n,r,i,o,s){try{var a=t[o](s),c=a.value}catch(u){return void n(u)}a.done?e(c):Promise.resolve(c).then(r,i)}function p(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(c){j4(o,r,i,s,a,"next",c)}function a(c){j4(o,r,i,s,a,"throw",c)}s(void 0)})}}let $4=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static#e=this.\u0275fac=function(r){return new(r||t)(b(Ar),b($e))};static#t=this.\u0275dir=H({type:t})}return t})(),za=(()=>{class t extends $4{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Gt(t)))(i||t)}}();static#t=this.\u0275dir=H({type:t,features:[We]})}return t})();const Jr=new te("NgValueAccessor"),mue={provide:Jr,useExisting:Ee(()=>zo),multi:!0},yue=new te("CompositionEventMode");let zo=(()=>{class t extends $4{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function _ue(){const t=Ns()?Ns().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static#e=this.\u0275fac=function(r){return new(r||t)(b(Ar),b($e),b(yue,8))};static#t=this.\u0275dir=H({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&ne("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[at([mue]),We]})}return t})();function ks(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function G4(t){return null!=t&&"number"==typeof t.length}const Ln=new te("NgValidators"),Ps=new te("NgAsyncValidators"),vue=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Be{static min(e){return function z4(t){return e=>{if(ks(e.value)||ks(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(e)}static max(e){return function q4(t){return e=>{if(ks(e.value)||ks(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(e)}static required(e){return function W4(t){return ks(t.value)?{required:!0}:null}(e)}static requiredTrue(e){return function K4(t){return!0===t.value?null:{required:!0}}(e)}static email(e){return function Y4(t){return ks(t.value)||vue.test(t.value)?null:{email:!0}}(e)}static minLength(e){return function Q4(t){return e=>ks(e.value)||!G4(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function J4(t){return e=>G4(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static pattern(e){return function Z4(t){if(!t)return $_;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(ks(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return ij(e)}static composeAsync(e){return oj(e)}}function $_(t){return null}function X4(t){return null!=t}function ej(t){return _h(t)?vn(t):t}function tj(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function nj(t,e){return e.map(n=>n(t))}function rj(t){return t.map(e=>function bue(t){return!t.validate}(e)?e:n=>e.validate(n))}function ij(t){if(!t)return null;const e=t.filter(X4);return 0==e.length?null:function(n){return tj(nj(n,e))}}function IC(t){return null!=t?ij(rj(t)):null}function oj(t){if(!t)return null;const e=t.filter(X4);return 0==e.length?null:function(n){return function pue(...t){const e=Mg(t),{args:n,keys:r}=kU(t),i=new Ge(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let c=s,u=s;for(let l=0;l<s;l++){let d=!1;cn(n[l]).subscribe(ut(o,h=>{d||(d=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!d)&&(u||o.next(r?PU(r,a):a),o.complete())}))}});return e?i.pipe(YI(e)):i}(nj(n,e).map(ej)).pipe(Oe(tj))}}function CC(t){return null!=t?oj(rj(t)):null}function sj(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function aj(t){return t._rawValidators}function cj(t){return t._rawAsyncValidators}function TC(t){return t?Array.isArray(t)?t:[t]:[]}function H_(t,e){return Array.isArray(t)?t.includes(e):t===e}function uj(t,e){const n=TC(e);return TC(t).forEach(i=>{H_(n,i)||n.push(i)}),n}function lj(t,e){return TC(e).filter(n=>!H_(t,n))}class dj{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=IC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=CC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class gr extends dj{get formDirective(){return null}get path(){return null}}class Fs extends dj{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class hj{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let qa=(()=>{class t extends hj{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(b(Fs,2))};static#t=this.\u0275dir=H({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&He("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[We]})}return t})(),Wa=(()=>{class t extends hj{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(b(gr,10))};static#t=this.\u0275dir=H({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&He("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[We]})}return t})();const rf="VALID",z_="INVALID",fl="PENDING",sf="DISABLED";function SC(t){return(q_(t)?t.validators:t)||null}function xC(t,e){return(q_(e)?e.asyncValidators:t)||null}function q_(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function pj(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new U(1e3,"");if(!r[n])throw new U(1001,"")}function gj(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new U(1002,"")})}class W_{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===rf}get invalid(){return this.status===z_}get pending(){return this.status==fl}get disabled(){return this.status===sf}get enabled(){return this.status!==sf}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(uj(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(uj(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(lj(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(lj(e,this._rawAsyncValidators))}hasValidator(e){return H_(this._rawValidators,e)}hasAsyncValidator(e){return H_(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=fl,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=sf,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=rf,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===rf||this.status===fl)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?sf:rf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=fl,this._hasOwnPendingAsyncValidator=!0;const n=ej(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new P,this.statusChanges=new P}_calculateStatus(){return this._allControlsDisabled()?sf:this.errors?z_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(fl)?fl:this._anyControlsHaveStatus(z_)?z_:rf}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){q_(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Tue(t){return Array.isArray(t)?IC(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Eue(t){return Array.isArray(t)?CC(t):t||null}(this._rawAsyncValidators)}}class pl extends W_{constructor(e,n,r){super(SC(n),xC(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){gj(this,0,e),Object.keys(e).forEach(r=>{pj(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class mj extends pl{}const Ka=new te("CallSetDisabledState",{providedIn:"root",factory:()=>af}),af="always";function K_(t,e){return[...e.path,t]}function cf(t,e,n=af){AC(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function Sue(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&_j(t,e)})}(t,e),function Aue(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function xue(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&_j(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function Due(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Y_(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),J_(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Q_(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function AC(t,e){const n=aj(t);null!==e.validator?t.setValidators(sj(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=cj(t);null!==e.asyncValidator?t.setAsyncValidators(sj(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Q_(e._rawValidators,i),Q_(e._rawAsyncValidators,i)}function J_(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=aj(t);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(null!==e.asyncValidator){const i=cj(t);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}const r=()=>{};return Q_(e._rawValidators,r),Q_(e._rawAsyncValidators,r),n}function _j(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function bj(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function wj(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const lf=class extends W_{constructor(e=null,n,r){super(SC(n),xC(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),q_(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=wj(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){bj(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){bj(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){wj(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let Ij=(()=>{class t extends gr{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return K_(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Gt(t)))(i||t)}}();static#t=this.\u0275dir=H({type:t,features:[We]})}return t})(),Ya=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=H({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return t})();const Vue={provide:Jr,useExisting:Ee(()=>Z_),multi:!0};let Z_=(()=>{class t extends za{writeValue(n){this.setProperty("value",n??"")}registerOnChange(n){this.onChange=r=>{n(""==r?null:parseFloat(r))}}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Gt(t)))(i||t)}}();static#t=this.\u0275dir=H({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){1&r&&ne("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[at([Vue]),We]})}return t})(),Dj=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({})}return t})();const kC=new te("NgModelWithFormControlWarning"),Hue={provide:gr,useExisting:Ee(()=>qo)};let qo=(()=>{class t extends gr{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new P,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(J_(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return cf(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){Y_(n.control||null,n,!1),function Rue(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,function vj(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&(Y_(r||null,n),(t=>t instanceof lf)(i)&&(cf(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);(function yj(t,e){AC(t,e)})(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function Nue(t,e){return J_(t,e)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){AC(this.form,this),this._oldForm&&J_(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(r){return new(r||t)(b(Ln,10),b(Ps,10),b(Ka,8))};static#t=this.\u0275dir=H({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&ne("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[at([Hue]),We,Pn]})}return t})();const Gue={provide:gr,useExisting:Ee(()=>df)};let df=(()=>{class t extends Ij{constructor(n,r,i){super(),this.name=null,this._parent=n,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){Nj(this._parent)}static#e=this.\u0275fac=function(r){return new(r||t)(b(gr,13),b(Ln,10),b(Ps,10))};static#t=this.\u0275dir=H({type:t,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[at([Gue]),We]})}return t})();const zue={provide:gr,useExisting:Ee(()=>hf)};let hf=(()=>{class t extends gr{constructor(n,r,i){super(),this.name=null,this._parent=n,this._setValidators(r),this._setAsyncValidators(i)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return K_(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Nj(this._parent)}static#e=this.\u0275fac=function(r){return new(r||t)(b(gr,13),b(Ln,10),b(Ps,10))};static#t=this.\u0275dir=H({type:t,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[at([zue]),We]})}return t})();function Nj(t){return!(t instanceof df||t instanceof qo||t instanceof hf)}const que={provide:Fs,useExisting:Ee(()=>Ls)};let Ls=(()=>{class t extends Fs{set isDisabled(n){}static#e=this._ngModelWarningSentOnce=!1;constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new P,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function MC(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===zo?n=o:function Mue(t){return Object.getPrototypeOf(t.constructor)===za}(o)?r=o:i=o}),i||r||n||null}(0,o)}ngOnChanges(n){this._added||this._setUpControl(),function OC(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return K_(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(r){return new(r||t)(b(gr,13),b(Ln,10),b(Ps,10),b(Jr,10),b(kC,8))};static#n=this.\u0275dir=H({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[at([que]),We,Pn]})}return t})();const Wue={provide:Jr,useExisting:Ee(()=>ff),multi:!0};function Oj(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let ff=(()=>{class t extends za{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const i=Oj(this._getOptionId(n),n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function Kue(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Gt(t)))(i||t)}}();static#t=this.\u0275dir=H({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&ne("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[at([Wue]),We]})}return t})(),PC=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(Oj(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||t)(b($e),b(Ar),b(ff,9))};static#t=this.\u0275dir=H({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return t})();const Yue={provide:Jr,useExisting:Ee(()=>FC),multi:!0};function Mj(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let FC=(()=>{class t extends za{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let r;if(this.value=n,Array.isArray(n)){const i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const i=[],o=r.selectedOptions;if(void 0!==o){const s=o;for(let a=0;a<s.length;a++){const u=this._getOptionValue(s[a].value);i.push(u)}}else{const s=r.options;for(let a=0;a<s.length;a++){const c=s[a];if(c.selected){const u=this._getOptionValue(c.value);i.push(u)}}}this.value=i,n(i)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function Que(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Gt(t)))(i||t)}}();static#t=this.\u0275dir=H({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&ne("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[at([Yue]),We]})}return t})(),LC=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(Mj(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(Mj(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||t)(b($e),b(Ar),b(FC,9))};static#t=this.\u0275dir=H({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return t})(),$j=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({imports:[Dj]})}return t})();class Hj extends W_{constructor(e,n,r){super(SC(n),xC(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){gj(this,0,e),e.forEach((r,i)=>{pj(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function Gj(t){return!!t&&(void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn)}let gl=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){const n=new t;return n.useNonNullable=!0,n}group(n,r=null){const i=this._reduceControls(n);let o={};return Gj(r)?o=r:null!==r&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new pl(i,o)}record(n,r=null){const i=this._reduceControls(n);return new mj(i,r)}control(n,r,i){let o={};return this.useNonNullable?(Gj(r)?o=r:(o.validators=r,o.asyncValidators=i),new lf(n,{...o,nonNullable:!0})):new lf(n,r,i)}array(n,r,i){const o=n.map(s=>this._createControl(s));return new Hj(o,r,i)}_reduceControls(n){const r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){return n instanceof lf||n instanceof W_?n:Array.isArray(n)?this.control(n[0],n.length>1?n[1]:null,n.length>2?n[2]:null):this.control(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),X_=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Ka,useValue:n.callSetDisabledState??af}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({imports:[$j]})}return t})(),BC=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:kC,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Ka,useValue:n.callSetDisabledState??af}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({imports:[$j]})}return t})();const zj=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},qj={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0;let h=(15&a)<<2|u>>6,f=63&u;c||(f=64,s||(h=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(zj(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const c=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(1023&c))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==u||null==d)throw new cle;r.push(o<<2|a>>4),64!==u&&(r.push(a<<4&240|u>>2),64!==d&&r.push(u<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class cle extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ey=function(t){return function(t){const e=zj(t);return qj.encodeByteArray(e,!0)}(t).replace(/\./g,"")},ty=function(t){try{return qj.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},ny=()=>{try{return function dle(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ty(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},Yj=()=>{var t;return null===(t=ny())||void 0===t?void 0:t.config},Qj=t=>{var e;return null===(e=ny())||void 0===e?void 0:e[`_${t}`]};class Jj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function Cn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class Vs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Vs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pf.prototype.create)}}class pf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?function Cle(t,e){return t.replace(Tle,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new Vs(i,`${this.serviceName}: ${s} (${i}).`,r)}}const Tle=/\{\$([^}]+)}/g;function iy(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(Xj(o)&&Xj(s)){if(!iy(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Xj(t){return null!==t&&"object"==typeof t}function oy(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function gf(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function mf(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class Sle{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function xle(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=jC),void 0===i.error&&(i.error=jC),void 0===i.complete&&(i.complete=jC);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jC(){}function Bs(t){return t&&t._delegate?t._delegate:t}class ml{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ja="[DEFAULT]";class kle{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Jj;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Fle(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ja})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ja){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return p(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Ja){return this.instances.has(e)}getOptions(e=Ja){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Ja?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=Ja){return this.component?this.component.multipleInstances?e:Ja:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Lle{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new kle(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const HC=[];var Ae=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Ae||{});const e5={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},Vle=Ae.INFO,Ble={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},Ule=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=Ble[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Us{constructor(e){this.name=e,this._logLevel=Vle,this._logHandler=Ule,this._userLogHandler=null,HC.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?e5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...e),this._logHandler(this,Ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...e),this._logHandler(this,Ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...e),this._logHandler(this,Ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...e),this._logHandler(this,Ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...e),this._logHandler(this,Ae.ERROR,...e)}}const jle=(t,e)=>e.some(n=>t instanceof n);let t5,n5;const r5=new WeakMap,GC=new WeakMap,i5=new WeakMap,zC=new WeakMap,qC=new WeakMap;let WC={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return GC.get(t);if("objectStoreNames"===e)return t.objectStoreNames||i5.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return js(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Kle(t){return"function"==typeof t?function Wle(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Hle(){return n5||(n5=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(KC(this),e),js(r5.get(this))}:function(...e){return js(t.apply(KC(this),e))}:function(e,...n){const r=t.call(KC(this),e,...n);return i5.set(r,e.sort?e.sort():[e]),js(r)}}(t):(t instanceof IDBTransaction&&function zle(t){if(GC.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});GC.set(t,e)}(t),jle(t,function $le(){return t5||(t5=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,WC):t)}function js(t){if(t instanceof IDBRequest)return function Gle(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(js(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&r5.set(n,t)}).catch(()=>{}),qC.set(e,t),e}(t);if(zC.has(t))return zC.get(t);const e=Kle(t);return e!==t&&(zC.set(t,e),qC.set(e,t)),e}const KC=t=>qC.get(t);function o5(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=js(s);return r&&s.addEventListener("upgradeneeded",c=>{r(js(s.result),c.oldVersion,c.newVersion,js(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const Yle=["get","getKey","getAll","getAllKeys","count"],Qle=["put","add","delete","clear"],YC=new Map;function s5(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(YC.get(e))return YC.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Qle.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Yle.includes(n))return;const o=function(){var s=p(function*(a,...c){const u=this.transaction(a,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]});return function(c){return s.apply(this,arguments)}}();return YC.set(e,o),o}!function qle(t){WC=t(WC)}(t=>({...t,get:(e,n,r)=>s5(e,n)||t.get(e,n,r),has:(e,n)=>!!s5(e,n)||t.has(e,n)}));class Jle{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function Zle(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const QC="@firebase/app",Za=new Us("@firebase/app"),sy="[DEFAULT]",Tde={[QC]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Xa=new Map,ay=new Map;function Ede(t,e){try{t.container.addComponent(e)}catch(n){Za.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function _f(t){const e=t.name;if(ay.has(e))return Za.debug(`There were multiple attempts to register component ${e}.`),!1;ay.set(e,t);for(const n of Xa.values())Ede(n,t);return!0}function JC(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Wo=new pf("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Sde{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ml("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wo.create("app-deleted",{appName:this._name})}}const yf="10.9.0";function c5(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:sy,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Wo.create("bad-app-name",{appName:String(i)});if(n||(n=Yj()),!n)throw Wo.create("no-options");const o=Xa.get(i);if(o){if(iy(n,o.options)&&iy(r,o.config))return o;throw Wo.create("duplicate-app",{appName:i})}const s=new Lle(i);for(const c of ay.values())s.addComponent(c);const a=new Sde(n,r,s);return Xa.set(i,a),a}function _l(t,e,n){var r;let i=null!==(r=Tde[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Za.warn(a.join(" "))}_f(new ml(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Ade="firebase-heartbeat-database",Nde=1,vf="firebase-heartbeat-store";let XC=null;function u5(){return XC||(XC=o5(Ade,Nde,{upgrade:(t,e)=>{if(0===e)try{t.createObjectStore(vf)}catch(n){console.warn(n)}}}).catch(t=>{throw Wo.create("idb-open",{originalErrorMessage:t.message})})),XC}function eT(){return(eT=p(function*(t){try{const n=(yield u5()).transaction(vf),r=yield n.objectStore(vf).get(d5(t));return yield n.done,r}catch(e){if(e instanceof Vs)Za.warn(e.message);else{const n=Wo.create("idb-get",{originalErrorMessage:e?.message});Za.warn(n.message)}}})).apply(this,arguments)}function l5(t,e){return tT.apply(this,arguments)}function tT(){return(tT=p(function*(t,e){try{const r=(yield u5()).transaction(vf,"readwrite");yield r.objectStore(vf).put(e,d5(t)),yield r.done}catch(n){if(n instanceof Vs)Za.warn(n.message);else{const r=Wo.create("idb-set",{originalErrorMessage:n?.message});Za.warn(r.message)}}})).apply(this,arguments)}function d5(t){return`${t.name}!${t.options.appId}`}class kde{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Fde(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return p(function*(){var n,r;const o=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=h5();if((null!=(null===(n=e._heartbeatsCache)||void 0===n?void 0:n.heartbeats)||(e._heartbeatsCache=yield e._heartbeatsCachePromise,null!=(null===(r=e._heartbeatsCache)||void 0===r?void 0:r.heartbeats)))&&e._heartbeatsCache.lastSentHeartbeatDate!==s&&!e._heartbeatsCache.heartbeats.some(a=>a.date===s))return e._heartbeatsCache.heartbeats.push({date:s,agent:o}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(a=>{const c=new Date(a.date).valueOf();return Date.now()-c<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return p(function*(){var n;if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(n=e._heartbeatsCache)||void 0===n?void 0:n.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const r=h5(),{heartbeatsToSend:i,unsentEntries:o}=function Pde(t,e=1024){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),f5(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),f5(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=ey(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=r,o.length>0?(e._heartbeatsCache.heartbeats=o,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function h5(){return(new Date).toISOString().substring(0,10)}class Fde{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return p(function*(){return!!function ble(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function wle(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(n){e(n)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return p(function*(){if(yield e._canUseIndexedDBPromise){const r=yield function Ode(t){return eT.apply(this,arguments)}(e.app);return r?.heartbeats?r:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(e){var n=this;return p(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return l5(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return p(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return l5(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function f5(t){return ey(JSON.stringify({version:2,heartbeats:t})).length}!function Lde(t){_f(new ml("platform-logger",e=>new Jle(e),"PRIVATE")),_f(new ml("heartbeat",e=>new kde(e),"PRIVATE")),_l(QC,"0.9.29",t),_l(QC,"0.9.29","esm2017"),_l("fire-js","")}("");const Vde=function p5(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},g5=new pf("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),cy=new Us("@firebase/auth");function uy(t,...e){cy.logLevel<=Ae.ERROR&&cy.error(`Auth (${yf}): ${t}`,...e)}function kr(t,...e){throw nT(t,...e)}function ao(t,...e){return nT(t,...e)}function nT(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return g5.create(t,...e)}function z(t,e,...n){if(!t)throw nT(e,...n)}function co(t){const e="INTERNAL ASSERTION FAILED: "+t;throw uy(e),new Error(e)}function $s(t,e){t||co(e)}function bf(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function _5(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}function Ude(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function rT(){return"http:"===_5()||"https:"===_5()}()||function _le(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}()||"connection"in navigator))||navigator.onLine}class wf{constructor(e,n){this.shortDelay=e,this.longDelay=n,$s(n>e,"Short delay should be less than long delay!"),this.isMobile=function gle(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cn())}()||function yle(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return Ude()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function iT(t,e){$s(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class y5{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void co("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void co("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void co("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const $de={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Hde=new wf(3e4,6e4);function mt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function _t(t,e,n,r){return oT.apply(this,arguments)}function oT(){return(oT=p(function*(t,e,n,r,i={}){return v5(t,i,p(function*(){let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=oy(Object.assign({key:t.config.apiKey},s)).slice(1),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),y5.fetch()(b5(t,t.config.apiHost,n,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function v5(t,e,n){return sT.apply(this,arguments)}function sT(){return(sT=p(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},$de),e);try{const i=new zde(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw If(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[c,u]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw If(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===c)throw If(t,"email-already-in-use",s);if("USER_DISABLED"===c)throw If(t,"user-disabled",s);const l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw function m5(t,e,n){const r=Object.assign(Object.assign({},Vde()),{[e]:n});return new pf("auth","Firebase",r).create(e,{appName:t.name})}(t,l,u);kr(t,l)}}catch(i){if(i instanceof Vs)throw i;kr(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function Ko(t,e,n,r){return aT.apply(this,arguments)}function aT(){return(aT=p(function*(t,e,n,r,i={}){const o=yield _t(t,e,n,r,i);return"mfaPendingCredential"in o&&kr(t,"multi-factor-auth-required",{_serverResponse:o}),o})).apply(this,arguments)}function b5(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?iT(t.config,i):`${t.config.apiScheme}://${i}`}function Gde(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class zde{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ao(this.auth,"network-request-failed")),Hde.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function If(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ao(t,e,r);return i.customData._tokenResponse=n,i}function I5(t){return void 0!==t&&void 0!==t.enterprise}class C5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Gde(n.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}function T5(t,e){return uT.apply(this,arguments)}function uT(){return(uT=p(function*(t,e){return _t(t,"GET","/v2/recaptchaConfig",mt(t,e))})).apply(this,arguments)}function lT(){return(lT=p(function*(t,e){return _t(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function hT(){return(hT=p(function*(t,e){return _t(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Cf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function fT(){return(fT=p(function*(t,e=!1){const n=Bs(t),r=yield n.getIdToken(e),i=ly(r);z(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Cf(pT(i.auth_time)),issuedAtTime:Cf(pT(i.iat)),expirationTime:Cf(pT(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function pT(t){return 1e3*Number(t)}function ly(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return uy("JWT malformed, contained fewer than 3 sections"),null;try{const i=ty(n);return i?JSON.parse(i):(uy("Failed to decode base64 JWT payload"),null)}catch(i){return uy("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Yo(t,e){return gT.apply(this,arguments)}function gT(){return(gT=p(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Vs&&function Zde({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class Xde{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(p(function*(){yield n.iteration()}),r)}iteration(){var e=this;return p(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class E5{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cf(this.lastLoginAt),this.creationTime=Cf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Tf(t){return mT.apply(this,arguments)}function mT(){return mT=p(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Yo(t,function Yde(t,e){return hT.apply(this,arguments)}(n,{idToken:r}));z(i?.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?function nhe(t){return t.map(e=>{var{providerId:n}=e,r=ru(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(o.providerUserInfo):[],a=function the(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,s),l=!!t.isAnonymous&&!(t.email&&o.passwordHash||a?.length),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new E5(o.createdAt,o.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),mT.apply(this,arguments)}function _T(){return(_T=p(function*(t){const e=Bs(t);yield Tf(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function yT(){return(yT=p(function*(t,e){const n=yield v5(t,{},p(function*(){const r=oy({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=b5(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",y5.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}function vT(){return(vT=p(function*(t,e){return _t(t,"POST","/v2/accounts:revokeToken",mt(t,e))})).apply(this,arguments)}class Ef{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){z(e.idToken,"internal-error"),z(typeof e.idToken<"u","internal-error"),z(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Jde(t){const e=ly(t);return z(e,"internal-error"),z(typeof e.exp<"u","internal-error"),z(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return p(function*(){return z(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return p(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function rhe(t,e){return yT.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Ef;return r&&(z("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),i&&(z("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),o&&(z("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ef,this.toJSON())}_performRefresh(){return co("not implemented")}}function Hs(t,e){z("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class ec{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=ru(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xde(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new E5(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var n=this;return p(function*(){const r=yield Yo(n,n.stsTokenManager.getToken(n.auth,e));return z(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function Qde(t){return fT.apply(this,arguments)}(this,e)}reload(){return function ehe(t){return _T.apply(this,arguments)}(this)}_assign(e){this!==e&&(z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ec(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return p(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Tf(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return p(function*(){const n=yield e.getIdToken();return yield Yo(e,function Wde(t,e){return lT.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,c,u,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(o=n.phoneNumber)&&void 0!==o?o:void 0,_=null!==(s=n.photoURL)&&void 0!==s?s:void 0,y=null!==(a=n.tenantId)&&void 0!==a?a:void 0,v=null!==(c=n._redirectEventId)&&void 0!==c?c:void 0,T=null!==(u=n.createdAt)&&void 0!==u?u:void 0,w=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:M,emailVerified:F,isAnonymous:$,providerData:Y,stsTokenManager:ae}=n;z(M&&ae,e,"internal-error");const me=Ef.fromJSON(this.name,ae);z("string"==typeof M,e,"internal-error"),Hs(d,e.name),Hs(h,e.name),z("boolean"==typeof F,e,"internal-error"),z("boolean"==typeof $,e,"internal-error"),Hs(f,e.name),Hs(_,e.name),Hs(y,e.name),Hs(v,e.name),Hs(T,e.name),Hs(w,e.name);const Ue=new ec({uid:M,auth:e,email:h,emailVerified:F,displayName:d,isAnonymous:$,photoURL:_,phoneNumber:f,tenantId:y,stsTokenManager:me,createdAt:T,lastLoginAt:w});return Y&&Array.isArray(Y)&&(Ue.providerData=Y.map(It=>Object.assign({},It))),v&&(Ue._redirectEventId=v),Ue}static _fromIdTokenResponse(e,n,r=!1){return p(function*(){const i=new Ef;i.updateFromServerResponse(n);const o=new ec({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Tf(o),o})()}}const D5=new Map;function Qo(t){$s(t instanceof Function,"Expected a class definition");let e=D5.get(t);return e?($s(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,D5.set(t,e),e)}const S5=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return p(function*(){return!0})()}_set(n,r){var i=this;return p(function*(){i.storage[n]=r})()}_get(n){var r=this;return p(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return p(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function dy(t,e,n){return`firebase:${t}:${e}:${n}`}class vl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=dy(this.userKey,i.apiKey,o),this.fullPersistenceKey=dy("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return p(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?ec._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return p(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return p(function*(){if(!n.length)return new vl(Qo(S5),e,r);const i=(yield Promise.all(n.map(function(){var u=p(function*(l){if(yield l._isAvailable())return l});return function(l){return u.apply(this,arguments)}}()))).filter(u=>u);let o=i[0]||Qo(S5);const s=dy(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const l=yield u._get(s);if(l){const d=ec._fromJSON(e,l);u!==o&&(a=d),o=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return o._shouldAllowMigration&&c.length?(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(function(){var u=p(function*(l){if(l!==o)try{yield l._remove(s)}catch{}});return function(l){return u.apply(this,arguments)}}())),new vl(o,e,r)):new vl(o,e,r)})()}}function x5(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(O5(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(A5(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(R5(e))return"Blackberry";if(k5(e))return"Webos";if(bT(e))return"Safari";if((e.includes("chrome/")||N5(e))&&!e.includes("edge/"))return"Chrome";if(M5(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function A5(t=Cn()){return/firefox\//i.test(t)}function bT(t=Cn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function N5(t=Cn()){return/crios\//i.test(t)}function O5(t=Cn()){return/iemobile/i.test(t)}function M5(t=Cn()){return/android/i.test(t)}function R5(t=Cn()){return/blackberry/i.test(t)}function k5(t=Cn()){return/webos/i.test(t)}function hy(t=Cn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function P5(t=Cn()){return hy(t)||M5(t)||k5(t)||R5(t)||/windows phone/i.test(t)||O5(t)}function F5(t,e=[]){let n;switch(t){case"Browser":n=x5(Cn());break;case"Worker":n=`${x5(Cn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${yf}/${r}`}class che{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{s(e(o))}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return p(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function wT(){return(wT=p(function*(t,e={}){return _t(t,"GET","/v2/passwordPolicy",mt(t,e))})).apply(this,arguments)}class dhe{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=s.minPasswordLength)&&void 0!==n?n:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(o=e.forceUpgradeOnSignin)&&void 0!==o&&o,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=null===(n=c.meetsMinPasswordLength)||void 0===n||n),c.isValid&&(c.isValid=null===(r=c.meetsMaxPasswordLength)||void 0===r||r),c.isValid&&(c.isValid=null===(i=c.containsLowercaseLetter)||void 0===i||i),c.isValid&&(c.isValid=null===(o=c.containsUppercaseLetter)||void 0===o||o),c.isValid&&(c.isValid=null===(s=c.containsNumericCharacter)||void 0===s||s),c.isValid&&(c.isValid=null===(a=c.containsNonAlphanumericCharacter)||void 0===a||a),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){let r;this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class hhe{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new L5(this),this.idTokenSubscription=new L5(this),this.beforeStateQueue=new che(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=g5,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Qo(n)),this._initializationPromise=this.queue(p(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield vl.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return p(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return p(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let o=i,s=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,c=o?._redirectEventId,u=yield n.tryRedirectSignIn(e);(!a||a===c)&&u?.user&&(o=u.user,s=!0)}if(!o)return n.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield n.beforeStateQueue.runMiddleware(o)}catch(a){o=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return o?n.reloadAndSetCurrentUserOrClear(o):n.directlySetCurrentUser(null)}return z(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===o._redirectEventId?n.directlySetCurrentUser(o):n.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var n=this;return p(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return p(function*(){try{yield Tf(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function jde(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return p(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return p(function*(){const r=e?Bs(e):null;return r&&z(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return p(function*(){if(!r._deleted)return e&&z(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(p(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return p(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(p(function*(){yield n.assertedPersistence.setPersistence(Qo(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var n=this;return p(function*(){n._getPasswordPolicyInternal()||(yield n._updatePasswordPolicy());const r=n._getPasswordPolicyInternal();return r.schemaVersion!==n.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(n._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return p(function*(){const n=yield function uhe(t){return wT.apply(this,arguments)}(e),r=new dhe(n);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new pf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){var n=this;return p(function*(){if(n.currentUser){const r=yield n.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};null!=n.tenantId&&(i.tenantId=n.tenantId),yield function ihe(t,e){return vT.apply(this,arguments)}(n,i)}})()}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return p(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return p(function*(){if(!n.redirectPersistenceManager){const r=e&&Qo(e)||n._popupRedirectResolver;z(r,n,"argument-error"),n.redirectPersistenceManager=yield vl.create(n,[Qo(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return p(function*(){var r,i;return n._isInitialized&&(yield n.queue(p(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return p(function*(){if(e===n.currentUser)return n.queue(p(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o="function"==typeof n?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(z(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),"function"==typeof n){const c=e.addObserver(n,r,i);return()=>{s=!0,c()}}{const c=e.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(e){var n=this;return p(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=F5(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return p(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield e._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var e=this;return p(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function Bde(t,...e){cy.logLevel<=Ae.WARN&&cy.warn(`Auth (${yf}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Wt(t){return Bs(t)}class L5{constructor(e){this.auth=e,this.observer=null,this.addObserver=function Dle(t,e){const n=new Sle(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Df={loadJS:()=>p(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function IT(t){return Df.loadJS(t)}function V5(t){return`__${t}${Math.floor(1e6*Math.random())}`}class B5{constructor(e){this.type="recaptcha-enterprise",this.auth=Wt(e)}verify(e="verify",n=!1){var r=this;return p(function*(){function o(){return o=p(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var c=p(function*(u,l){T5(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new C5(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,u(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(u,l){return c.apply(this,arguments)}}())}),o.apply(this,arguments)}function s(a,c,u){const l=window.grecaptcha;I5(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{c(d)}).catch(()=>{c("NO_RECAPTCHA")})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,c)=>{(function i(a){return o.apply(this,arguments)})(r.auth).then(u=>{if(!n&&I5(window.grecaptcha))s(u,a,c);else{if(typeof window>"u")return void c(new Error("RecaptchaVerifier is only supported in browser"));let l=function ghe(){return Df.recaptchaEnterpriseScript}();0!==l.length&&(l+=u),IT(l).then(()=>{s(u,a,c)}).catch(d=>{c(d)})}}).catch(u=>{c(u)})})})()}}function U5(t,e,n){return CT.apply(this,arguments)}function CT(){return(CT=p(function*(t,e,n,r=!1){const i=new B5(t);let o;try{o=yield i.verify(n)}catch{o=yield i.verify(n,!0)}const s=Object.assign({},e);return Object.assign(s,r?{captchaResp:o}:{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})).apply(this,arguments)}function Sf(t,e,n,r){return TT.apply(this,arguments)}function TT(){return TT=p(function*(t,e,n,r){var i;if(null!==(i=t._getRecaptchaConfig())&&void 0!==i&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=yield U5(t,e,n,"getOobCode"===n);return r(t,o)}return r(t,e).catch(function(){var o=p(function*(s){if("auth/missing-recaptcha-token"===s.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=yield U5(t,e,n,"getOobCode"===n);return r(t,a)}return Promise.reject(s)});return function(s){return o.apply(this,arguments)}}())}),TT.apply(this,arguments)}function j5(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function $5(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class H5{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return co("not implemented")}_getIdTokenResponse(e){return co("not implemented")}_linkToIdToken(e,n){return co("not implemented")}_getReauthenticationResolver(e){return co("not implemented")}}function Dhe(t,e){return xT.apply(this,arguments)}function xT(){return(xT=p(function*(t,e){return _t(t,"POST","/v1/accounts:signUp",e)})).apply(this,arguments)}function xhe(t,e){return NT.apply(this,arguments)}function NT(){return(NT=p(function*(t,e){return Ko(t,"POST","/v1/accounts:signInWithPassword",mt(t,e))})).apply(this,arguments)}function OT(){return(OT=p(function*(t,e){return _t(t,"POST","/v1/accounts:sendOobCode",mt(t,e))})).apply(this,arguments)}function Nhe(t,e){return RT.apply(this,arguments)}function RT(){return(RT=p(function*(t,e){return function fy(t,e){return OT.apply(this,arguments)}(t,e)})).apply(this,arguments)}function FT(){return(FT=p(function*(t,e){return Ko(t,"POST","/v1/accounts:signInWithEmailLink",mt(t,e))})).apply(this,arguments)}function LT(){return(LT=p(function*(t,e){return Ko(t,"POST","/v1/accounts:signInWithEmailLink",mt(t,e))})).apply(this,arguments)}class xf extends H5{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new xf(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new xf(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if(n?.email&&n?.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return p(function*(){switch(n.signInMethod){case"password":return Sf(e,{returnSecureToken:!0,email:n._email,password:n._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",xhe);case"emailLink":return function Rhe(t,e){return FT.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:kr(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return p(function*(){switch(r.signInMethod){case"password":return Sf(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Dhe);case"emailLink":return function khe(t,e){return LT.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:kr(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Jo(t,e){return VT.apply(this,arguments)}function VT(){return(VT=p(function*(t,e){return Ko(t,"POST","/v1/accounts:signInWithIdp",mt(t,e))})).apply(this,arguments)}class Of{constructor(e){var n,r,i,o,s,a;const c=gf(mf(e)),u=null!==(n=c.apiKey)&&void 0!==n?n:null,l=null!==(r=c.oobCode)&&void 0!==r?r:null,d=function jhe(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=c.mode)&&void 0!==i?i:null);z(u&&l&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=l,this.continueUrl=null!==(o=c.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(s=c.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=c.tenantId)&&void 0!==a?a:null}static parseLink(e){const n=function $he(t){const e=gf(mf(t)).link,n=e?gf(mf(e)).deep_link_id:null,r=gf(mf(t)).deep_link_id;return(r?gf(mf(r)).link:null)||r||n||e||t}(e);try{return new Of(n)}catch{return null}}}let z5=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return xf._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=Of.parseLink(r);return z(i,"argument-error"),xf._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class Gs{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Hhe extends Gs{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function q5(t,e){return GT.apply(this,arguments)}function GT(){return(GT=p(function*(t,e){return Ko(t,"POST","/v1/accounts:signUp",mt(t,e))})).apply(this,arguments)}class yi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return p(function*(){const o=yield ec._fromIdTokenResponse(e,r,i),s=W5(r);return new yi({user:o,providerId:s,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return p(function*(){yield e._updateTokensIfNecessary(r,!0);const i=W5(r);return new yi({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function W5(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class gy extends Vs{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,gy.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new gy(e,n,r,i)}}function K5(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw"auth/multi-factor-auth-required"===o.code?gy._fromErrorAndOperation(t,o,e,r):o})}function KT(){return(KT=p(function*(t,e,n=!1){const r=yield Yo(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return yi._forOperation(t,"link",r)})).apply(this,arguments)}function QT(){return(QT=p(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const o=yield Yo(t,K5(r,i,e,t),n);z(o.idToken,r,"internal-error");const s=ly(o.idToken);z(s,r,"internal-error");const{sub:a}=s;return z(t.uid===a,r,"user-mismatch"),yi._forOperation(t,i,o)}catch(o){throw"auth/user-not-found"===o?.code&&kr(r,"user-mismatch"),o}})).apply(this,arguments)}function J5(t,e){return JT.apply(this,arguments)}function JT(){return(JT=p(function*(t,e,n=!1){const r="signIn",i=yield K5(t,r,e),o=yield yi._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})).apply(this,arguments)}function ZT(t,e){return XT.apply(this,arguments)}function XT(){return(XT=p(function*(t,e){return J5(Wt(t),e)})).apply(this,arguments)}function aE(t){return cE.apply(this,arguments)}function cE(){return(cE=p(function*(t){const e=Wt(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})).apply(this,arguments)}function uE(){return(uE=p(function*(t,e,n){const r=Wt(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&function _y(t,e,n){var r;z((null===(r=n.url)||void 0===r?void 0:r.length)>0,t,"invalid-continue-uri"),z(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(z(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(z(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}(r,i,n),yield Sf(r,i,"getOobCode",Nhe)})).apply(this,arguments)}function pE(){return(pE=p(function*(t,e,n){const r=Wt(t),s=yield Sf(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",q5).catch(c=>{throw"auth/password-does-not-meet-requirements"===c.code&&aE(t),c}),a=yield yi._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})).apply(this,arguments)}const yy="__sak";class X5{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(yy,"1"),this.storage.removeItem(yy),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const mfe=(()=>{class t extends X5{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ffe(){const t=Cn();return bT(t)||hy(t)}()&&function ahe(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=P5(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const o=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);!function she(){return function vle(){const t=Cn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||s===n.newValue||n.newValue===n.oldValue?o():setTimeout(o,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,o=this;return p(function*(){yield i().call(o,n,r),o.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return p(function*(){const o=yield r().call(i,n);return i.localCache[n]=JSON.stringify(o),o})()}_remove(n){var r=()=>super._remove,i=this;return p(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),e$=(()=>{class t extends X5{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let yfe=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return p(function*(){const i=n,{eventId:o,eventType:s,data:a}=i.data,c=r.handlersMap[s];if(!c?.size)return;i.ports[0].postMessage({status:"ack",eventId:o,eventType:s});const u=Array.from(c).map(function(){var d=p(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function _fe(t){return Promise.all(t.map(function(){var e=p(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(u);i.ports[0].postMessage({status:"done",eventId:o,eventType:s,response:l})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function NE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class vfe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return p(function*(){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let s,a;return new Promise((c,u)=>{const l=NE("",20);o.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},r);a={messageChannel:o,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(f.data.response);break;default:clearTimeout(d),clearTimeout(s),u(new Error("invalid_response"))}}},i.handlers.add(a),o.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:n},[o.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function rn(){return window}function OE(){return typeof rn().WorkerGlobalScope<"u"&&"function"==typeof rn().importScripts}function ME(){return(ME=p(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const t$="firebaseLocalStorageDb",vy="firebaseLocalStorage",n$="fbase_key";class Rf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function by(t,e){return t.transaction([vy],e?"readwrite":"readonly").objectStore(vy)}function RE(){const t=indexedDB.open(t$,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(vy,{keyPath:n$})}catch(i){n(i)}}),t.addEventListener("success",p(function*(){const r=t.result;r.objectStoreNames.contains(vy)?e(r):(r.close(),yield function Efe(){const t=indexedDB.deleteDatabase(t$);return new Rf(t).toPromise()}(),e(yield RE()))}))})}function r$(t,e,n){return kE.apply(this,arguments)}function kE(){return(kE=p(function*(t,e,n){const r=by(t,!0).put({[n$]:e,value:n});return new Rf(r).toPromise()})).apply(this,arguments)}function PE(){return(PE=p(function*(t,e){const n=by(t,!1).get(e),r=yield new Rf(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function i$(t,e){const n=by(t,!0).delete(e);return new Rf(n).toPromise()}const Afe=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return p(function*(){return n.db||(n.db=yield RE()),n.db})()}_withRetries(n){var r=this;return p(function*(){let i=0;for(;;)try{const o=yield r._openDb();return yield n(o)}catch(o){if(i++>3)throw o;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return p(function*(){return OE()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return p(function*(){n.receiver=yfe._getInstance(function Cfe(){return OE()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=p(function*(i,o){return{keyProcessed:(yield n._poll()).includes(o.key)}});return function(i,o){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=p(function*(i,o){return["keyChanged"]});return function(i,o){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return p(function*(){var r,i;if(n.activeServiceWorker=yield function wfe(){return ME.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new vfe(n.activeServiceWorker);const o=yield n.sender._send("ping",{},800);o&&null!==(r=o[0])&&void 0!==r&&r.fulfilled&&null!==(i=o[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return p(function*(){if(r.sender&&r.activeServiceWorker&&function Ife(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return p(function*(){try{if(!indexedDB)return!1;const n=yield RE();return yield r$(n,yy,"1"),yield i$(n,yy),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return p(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return p(function*(){return i._withPendingWrite(p(function*(){return yield i._withRetries(o=>r$(o,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return p(function*(){const i=yield r._withRetries(o=>function Dfe(t,e){return PE.apply(this,arguments)}(o,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return p(function*(){return r._withPendingWrite(p(function*(){return yield r._withRetries(i=>i$(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return p(function*(){const r=yield n._withRetries(s=>{const a=by(s,!1).getAll();return new Rf(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],o=new Set;if(0!==r.length)for(const{fbase_key:s,value:a}of r)o.add(s),JSON.stringify(n.localCache[s])!==JSON.stringify(a)&&(n.notifyListeners(s,a),i.push(s));for(const s of Object.keys(n.localCache))n.localCache[s]&&!o.has(s)&&(n.notifyListeners(s,null),i.push(s));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const o of Array.from(i))o(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(p(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();V5("rcb"),new wf(3e4,6e4);class GE extends H5{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Jo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Jo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Jo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Gfe(t){return J5(t.auth,new GE(t),t.bypassAuthState)}function zfe(t){const{auth:e,user:n}=t;return z(n,e,"internal-error"),function Q5(t,e){return QT.apply(this,arguments)}(n,new GE(t),t.bypassAuthState)}function qfe(t){return zE.apply(this,arguments)}function zE(){return(zE=p(function*(t){const{auth:e,user:n}=t;return z(n,e,"internal-error"),function WT(t,e){return KT.apply(this,arguments)}(n,new GE(t),t.bypassAuthState)})).apply(this,arguments)}class Wfe{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=p(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(o){e.reject(o)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return p(function*(){const{urlResponse:r,sessionId:i,postBody:o,tenantId:s,error:a,type:c}=e;if(a)return void n.reject(a);const u={auth:n.auth,requestUri:r,sessionId:i,tenantId:s||void 0,postBody:o||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(c)(u))}catch(l){n.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Gfe;case"linkViaPopup":case"linkViaRedirect":return qfe;case"reauthViaPopup":case"reauthViaRedirect":return zfe;default:kr(this.auth,"internal-error")}}resolve(e){$s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new wf(2e3,1e4);const Kfe="pendingRedirect",kf=new Map;class Yfe extends Wfe{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return p(function*(){let r=kf.get(n.auth._key());if(!r){try{const o=(yield function Qfe(t,e){return QE.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(o)}catch(i){r=()=>Promise.reject(i)}kf.set(n.auth._key(),r)}return n.bypassAuthState||kf.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return p(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return p(function*(){})()}cleanUp(){}}function QE(){return(QE=p(function*(t,e){const n=function a$(t){return dy(Kfe,t.config.apiKey,t.name)}(e),r=function s$(t){return Qo(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function Jfe(t,e){kf.set(t._key(),e)}function c$(t,e){return rD.apply(this,arguments)}function rD(){return(rD=p(function*(t,e,n=!1){const r=Wt(t),i=function nc(t,e){return e?Qo(e):(z(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}(r,e),s=yield new Yfe(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})).apply(this,arguments)}class npe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function rpe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return d$(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!d$(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(ao(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(l$(e))}saveEventToCache(e){this.cachedEventUids.add(l$(e)),this.lastProcessedEventTime=Date.now()}}function l$(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function d$({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function oD(){return(oD=p(function*(t,e={}){return _t(t,"GET","/v1/projects",e)})).apply(this,arguments)}const ope=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,spe=/^https?/;function sD(){return sD=p(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function ipe(t){return oD.apply(this,arguments)}(t);for(const n of e)try{if(cpe(n))return}catch{}kr(t,"unauthorized-domain")}),sD.apply(this,arguments)}function cpe(t){const e=bf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return""===s.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&s.hostname===r}if(!spe.test(n))return!1;if(ope.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const upe=new wf(3e4,6e4);function h$(){const t=rn().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let Iy=null;const hpe=new wf(5e3,15e3),fpe="__/auth/iframe",ppe="emulator/auth/iframe",gpe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mpe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _pe(t){const e=t.config;z(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?iT(e,ppe):`https://${t.config.authDomain}/${fpe}`,r={apiKey:e.apiKey,appName:t.name,v:yf},i=mpe.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${oy(r).slice(1)}`}function aD(){return aD=p(function*(t){const e=yield function dpe(t){return Iy=Iy||function lpe(t){return new Promise((e,n)=>{var r,i,o;function s(){h$(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{h$(),n(ao(t,"network-request-failed"))},timeout:upe.get()})}if(null!==(i=null===(r=rn().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(o=rn().gapi)||void 0===o||!o.load){const a=V5("iframefcb");return rn()[a]=()=>{gapi.load?s():n(ao(t,"network-request-failed"))},IT(`${function mhe(){return Df.gapiScript}()}?onload=${a}`).catch(c=>n(c))}s()}}).catch(e=>{throw Iy=null,e})}(t),Iy}(t),n=rn().gapi;return z(n,t,"internal-error"),e.open({where:document.body,url:_pe(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gpe,dontclear:!0},r=>new Promise(function(){var i=p(function*(o,s){yield r.restyle({setHideOnLeave:!1});const a=ao(t,"network-request-failed"),c=rn().setTimeout(()=>{s(a)},hpe.get());function u(){rn().clearTimeout(c),o(r)}r.ping(u).then(u,()=>{s(a)})});return function(o,s){return i.apply(this,arguments)}}()))}),aD.apply(this,arguments)}const vpe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class f${constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Dpe="__/auth/handler",Spe="emulator/auth/handler",xpe=encodeURIComponent("fac");function p$(t,e,n,r,i,o){return cD.apply(this,arguments)}function cD(){return(cD=p(function*(t,e,n,r,i,o){z(t.config.authDomain,t,"auth-domain-config-required"),z(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:yf,eventId:i};if(e instanceof Gs){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",function Ele(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,d]of Object.entries(o||{}))s[l]=d}if(e instanceof Hhe){const l=e.getScopes().filter(d=>""!==d);l.length>0&&(s.scopes=l.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];const c=yield t._getAppCheckToken(),u=c?`#${xpe}=${encodeURIComponent(c)}`:"";return`${function Ape({config:t}){return t.emulator?iT(t,Spe):`https://${t.authDomain}/${Dpe}`}(t)}?${oy(a).slice(1)}${u}`})).apply(this,arguments)}const uD="webStorageSupport",Ope=class Npe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=e$,this._completeRedirectFn=c$,this._overrideRedirectResult=Jfe}_openPopup(e,n,r,i){var o=this;return p(function*(){var s;$s(null===(s=o.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");const a=yield p$(e,n,r,bf(),i);return function Tpe(t,e,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},vpe),{width:r.toString(),height:i.toString(),top:o,left:s}),u=Cn().toLowerCase();n&&(a=N5(u)?"_blank":n),A5(u)&&(e=e||"http://localhost",c.scrollbars="yes");const l=Object.entries(c).reduce((h,[f,_])=>`${h}${f}=${_},`,"");if(function ohe(t=Cn()){var e;return hy(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(u)&&"_self"!==a)return function Epe(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new f$(null);const d=window.open(e||"",a,l);z(d,t,"popup-blocked");try{d.focus()}catch{}return new f$(d)}(e,a,NE())})()}_openRedirect(e,n,r,i){var o=this;return p(function*(){return yield o._originValidation(e),function bfe(t){rn().location.href=t}(yield p$(e,n,r,bf(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):($s(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return p(function*(){const r=yield function ype(t){return aD.apply(this,arguments)}(e),i=new npe(e);return r.register("authEvent",o=>(z(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(uD,{type:uD},i=>{var o;const s=null===(o=i?.[0])||void 0===o?void 0:o[uD];void 0!==s&&n(!!s),kr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function ape(t){return sD.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return P5()||bT()||hy()}};var _$="@firebase/auth";class Mpe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return p(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Fpe=Qj("authIdTokenMaxAge")||300;let v$=null;const Lpe=t=>function(){var e=p(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>Fpe)return;const o=r?.token;v$!==o&&(v$=o,yield fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function Ty(t=function xde(t=sy){const e=Xa.get(t);if(!e&&t===sy&&Yj())return c5();if(!e)throw Wo.create("no-app",{appName:t});return e}()){const e=JC(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function bhe(t,e){const n=JC(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(iy(n.getOptions(),e??{}))return i;kr(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:Ope,persistence:[Afe,mfe,e$]}),r=Qj("authTokenSyncURL");if(r&&r.match(/^\/[^\/].*/)){const o=Lpe(r);(function afe(t,e,n){Bs(t).beforeAuthStateChanged(e,n)})(n,o,()=>o(n.currentUser)),function sfe(t,e,n,r){Bs(t).onIdTokenChanged(e,n,r)}(n,s=>o(s))}const i=(t=>{var e,n;return null===(n=null===(e=ny())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})("auth");return i&&function Ihe(t,e,n){const r=Wt(t);z(r._canInitEmulator,r,"emulator-config-failed"),z(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,o=j5(e),{host:s,port:a}=function Che(t){const e=j5(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:$5(r.substr(o.length+1))}}{const[o,s]=r.split(":");return{host:o,port:$5(s)}}}(e);r.config.emulator={url:`${o}//${s}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function The(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}(function fhe(t){Df=t})({loadJS:t=>new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=ao("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",function Vpe(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function kpe(t){_f(new ml("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;z(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:F5(t)},u=new hhe(r,i,o,c);return function whe(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Qo);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),_f(new ml("auth-internal",e=>{const n=Wt(e.getProvider("auth").getImmediate());return new Mpe(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),_l(_$,"1.6.2",function Rpe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(t)),_l(_$,"1.6.2","esm2017")}("Browser");const b$=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},hD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0;let h=(15&a)<<2|u>>6,f=63&u;c||(f=64,s||(h=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(b$(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const c=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(1023&c))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==u||null==d)throw new $pe;r.push(o<<2|a>>4),64!==u&&(r.push(a<<4&240|u>>2),64!==d&&r.push(u<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class $pe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ey=function(t){return function(t){const e=b$(t);return hD.encodeByteArray(e,!0)}(t).replace(/\./g,"")},Dy=function(t){try{return hD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},Sy=()=>{try{return function zpe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Dy(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},I$=()=>{var t;return null===(t=Sy())||void 0===t?void 0:t.config};class xy{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function Zr(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function fD(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function rc(){try{return"object"==typeof indexedDB}catch{return!1}}function Pf(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(n){e(n)}})}function pD(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Fi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uo.prototype.create)}}class uo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?function rge(t,e){return t.replace(ige,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new Fi(i,`${this.serviceName}: ${s} (${i}).`,r)}}const ige=/\{\$([^}]+)}/g;function gD(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(T$(o)&&T$(s)){if(!gD(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function T$(t){return null!==t&&"object"==typeof t}function E$(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class sge{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function age(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=mD),void 0===i.error&&(i.error=mD),void 0===i.complete&&(i.complete=mD);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mD(){}const cge=1e3,uge=2,lge=144e5,dge=.5;function yD(t,e=cge,n=uge){const r=e*Math.pow(n,t),i=Math.round(dge*r*(Math.random()-.5)*2);return Math.min(lge,r+i)}function Xn(t){return t&&t._delegate?t._delegate:t}class er{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ic="[DEFAULT]";class fge{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new xy;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function gge(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ic})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ic){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return p(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=ic){return this.instances.has(e)}getOptions(e=ic){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===ic?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=ic){return this.component?this.component.multipleInstances?e:ic:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class mge{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new fge(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}class _ge{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function yge(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const vD="@firebase/app",oc=new Us("@firebase/app"),Ny="[DEFAULT]",Gge={[vD]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},sc=new Map,Oy=new Map;function zge(t,e){try{t.container.addComponent(e)}catch(n){oc.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function mr(t){const e=t.name;if(Oy.has(e))return oc.debug(`There were multiple attempts to register component ${e}.`),!1;Oy.set(e,t);for(const n of sc.values())zge(n,t);return!0}function My(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Zo=new uo("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Wge{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new er("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zo.create("app-deleted",{appName:this._name})}}const Ff="9.23.0";function S$(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Ny,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Zo.create("bad-app-name",{appName:String(i)});if(n||(n=I$()),!n)throw Zo.create("no-options");const o=sc.get(i);if(o){if(gD(n,o.options)&&gD(r,o.config))return o;throw Zo.create("duplicate-app",{appName:i})}const s=new mge(i);for(const c of Oy.values())s.addComponent(c);const a=new Wge(n,r,s);return sc.set(i,a),a}function x$(t=Ny){const e=sc.get(t);if(!e&&t===Ny&&I$())return S$();if(!e)throw Zo.create("no-app",{appName:t});return e}function A$(){return Array.from(sc.values())}function Kt(t,e,n){var r;let i=null!==(r=Gge[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void oc.warn(a.join(" "))}mr(new er(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Kge="firebase-heartbeat-database",Yge=1,Lf="firebase-heartbeat-store";let wD=null;function N$(){return wD||(wD=o5(Kge,Yge,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Lf)}}).catch(t=>{throw Zo.create("idb-open",{originalErrorMessage:t.message})})),wD}function ID(){return(ID=p(function*(t){try{return yield(yield N$()).transaction(Lf).objectStore(Lf).get(M$(t))}catch(e){if(e instanceof Fi)oc.warn(e.message);else{const n=Zo.create("idb-get",{originalErrorMessage:e?.message});oc.warn(n.message)}}})).apply(this,arguments)}function O$(t,e){return CD.apply(this,arguments)}function CD(){return(CD=p(function*(t,e){try{const r=(yield N$()).transaction(Lf,"readwrite");yield r.objectStore(Lf).put(e,M$(t)),yield r.done}catch(n){if(n instanceof Fi)oc.warn(n.message);else{const r=Zo.create("idb-set",{originalErrorMessage:n?.message});oc.warn(r.message)}}})).apply(this,arguments)}function M$(t){return`${t.name}!${t.options.appId}`}class Xge{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new tme(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return p(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=R$();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(o=>o.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return p(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=R$(),{heartbeatsToSend:r,unsentEntries:i}=function eme(t,e=1024){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),k$(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),k$(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),o=Ey(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),o})()}}function R$(){return(new Date).toISOString().substring(0,10)}class tme{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return p(function*(){return!!rc()&&Pf().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return p(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function Qge(t){return ID.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return p(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return O$(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return p(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return O$(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function k$(t){return Ey(JSON.stringify({version:2,heartbeats:t})).length}!function nme(t){mr(new er("platform-logger",e=>new _ge(e),"PRIVATE")),mr(new er("heartbeat",e=>new Xge(e),"PRIVATE")),Kt(vD,"0.9.13",t),Kt(vD,"0.9.13","esm2017"),Kt("fire-js","")}(""),Kt("firebase","9.23.0","app");const ome=(t,e)=>e.some(n=>t instanceof n);let P$,F$;const L$=new WeakMap,TD=new WeakMap,V$=new WeakMap,ED=new WeakMap,DD=new WeakMap;let SD={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return TD.get(t);if("objectStoreNames"===e)return t.objectStoreNames||V$.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zs(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function hme(t){return"function"==typeof t?function dme(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ame(){return F$||(F$=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(xD(this),e),zs(L$.get(this))}:function(...e){return zs(t.apply(xD(this),e))}:function(e,...n){const r=t.call(xD(this),e,...n);return V$.set(r,e.sort?e.sort():[e]),zs(r)}}(t):(t instanceof IDBTransaction&&function ume(t){if(TD.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});TD.set(t,e)}(t),ome(t,function sme(){return P$||(P$=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,SD):t)}function zs(t){if(t instanceof IDBRequest)return function cme(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(zs(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&L$.set(n,t)}).catch(()=>{}),DD.set(e,t),e}(t);if(ED.has(t))return ED.get(t);const e=hme(t);return e!==t&&(ED.set(t,e),DD.set(e,t)),e}const xD=t=>DD.get(t),pme=["get","getKey","getAll","getAllKeys","count"],gme=["put","add","delete","clear"],AD=new Map;function B$(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(AD.get(e))return AD.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=gme.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!pme.includes(n))return;const o=function(){var s=p(function*(a,...c){const u=this.transaction(a,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]});return function(c){return s.apply(this,arguments)}}();return AD.set(e,o),o}!function lme(t){SD=t(SD)}(t=>({...t,get:(e,n,r)=>B$(e,n)||t.get(e,n,r),has:(e,n)=>!!B$(e,n)||t.has(e,n)}));const U$="@firebase/installations",ND="0.6.4",j$=1e4,$$=`w:${ND}`,H$="FIS_v2",mme="https://firebaseinstallations.googleapis.com/v1",_me=36e5,Xo=new uo("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function G$(t){return t instanceof Fi&&t.code.includes("request-failed")}function OD({projectId:t}){return`${mme}/projects/${t}/installations`}function z$(t){return{token:t.token,requestStatus:2,expiresIn:wme(t.expiresIn),creationTime:Date.now()}}function MD(t,e){return RD.apply(this,arguments)}function RD(){return(RD=p(function*(t,e){const r=(yield e.json()).error;return Xo.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function q$({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function kD(t){return PD.apply(this,arguments)}function PD(){return(PD=p(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function wme(t){return Number(t.replace("s","000"))}function FD(){return(FD=p(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=OD(t),i=q$(t),o=e.getImmediate({optional:!0});if(o){const u=yield o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:H$,appId:t.appId,sdkVersion:$$})},c=yield kD(()=>fetch(r,a));if(c.ok){const u=yield c.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:z$(u.authToken)}}throw yield MD("Create Installation",c)})).apply(this,arguments)}function K$(t){return new Promise(e=>{setTimeout(e,t)})}const Eme=/^[cdef][\w-]{21}$/,LD="";function Dme(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function Sme(t){return function Tme(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return Eme.test(n)?n:LD}catch{return LD}}function bl(t){return`${t.appName}!${t.appId}`}const wl=new Map;function Y$(t,e){const n=bl(t);Q$(n,e),function Nme(t,e){const n=function J$(){return!ac&&"BroadcastChannel"in self&&(ac=new BroadcastChannel("[Firebase] FID Change"),ac.onmessage=t=>{Q$(t.data.key,t.data.fid)}),ac}();n&&n.postMessage({key:t,fid:e}),function Z$(){0===wl.size&&ac&&(ac.close(),ac=null)}()}(n,e)}function Q$(t,e){const n=wl.get(t);if(n)for(const r of n)r(e)}let ac=null;const Ome="firebase-installations-database",Mme=1,cc="firebase-installations-store";let VD=null;function BD(){return VD||(VD=function fme(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=zs(s);return r&&s.addEventListener("upgradeneeded",c=>{r(zs(s.result),c.oldVersion,c.newVersion,zs(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(Ome,Mme,{upgrade:(t,e)=>{0===e&&t.createObjectStore(cc)}})),VD}function Ry(t,e){return UD.apply(this,arguments)}function UD(){return(UD=p(function*(t,e){const n=bl(t),i=(yield BD()).transaction(cc,"readwrite"),o=i.objectStore(cc),s=yield o.get(n);return yield o.put(e,n),yield i.done,(!s||s.fid!==e.fid)&&Y$(t,e.fid),e})).apply(this,arguments)}function jD(t){return $D.apply(this,arguments)}function $D(){return($D=p(function*(t){const e=bl(t),r=(yield BD()).transaction(cc,"readwrite");yield r.objectStore(cc).delete(e),yield r.done})).apply(this,arguments)}function Vf(t,e){return HD.apply(this,arguments)}function HD(){return(HD=p(function*(t,e){const n=bl(t),i=(yield BD()).transaction(cc,"readwrite"),o=i.objectStore(cc),s=yield o.get(n),a=e(s);return void 0===a?yield o.delete(n):yield o.put(a,n),yield i.done,a&&(!s||s.fid!==a.fid)&&Y$(t,a.fid),a})).apply(this,arguments)}function GD(t){return zD.apply(this,arguments)}function zD(){return zD=p(function*(t){let e;const n=yield Vf(t.appConfig,r=>{const i=function Rme(t){return eH(t||{fid:Dme(),registrationStatus:0})}(r),o=function kme(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Xo.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Pme(t,e){return qD.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Fme(t)}:{installationEntry:e}}(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===LD?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),zD.apply(this,arguments)}function qD(){return qD=p(function*(t,e){try{const n=yield function Cme(t,e){return FD.apply(this,arguments)}(t,e);return Ry(t.appConfig,n)}catch(n){throw G$(n)&&409===n.customData.serverCode?yield jD(t.appConfig):yield Ry(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),qD.apply(this,arguments)}function Fme(t){return WD.apply(this,arguments)}function WD(){return(WD=p(function*(t){let e=yield X$(t.appConfig);for(;1===e.registrationStatus;)yield K$(100),e=yield X$(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield GD(t);return r||n}return e})).apply(this,arguments)}function X$(t){return Vf(t,e=>{if(!e)throw Xo.create("installation-not-found");return eH(e)})}function eH(t){return function Lme(t){return 1===t.registrationStatus&&t.registrationTime+j$<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function KD(){return(KD=p(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function Bme(t,{fid:e}){return`${OD(t)}/${e}/authTokens:generate`}(t,n),i=function W$(t,{refreshToken:e}){const n=q$(t);return n.append("Authorization",function Ime(t){return`${H$} ${t}`}(e)),n}(t,n),o=e.getImmediate({optional:!0});if(o){const u=yield o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:$$,appId:t.appId}})},c=yield kD(()=>fetch(r,a));if(c.ok)return z$(yield c.json());throw yield MD("Generate Auth Token",c)})).apply(this,arguments)}function YD(t){return QD.apply(this,arguments)}function QD(){return QD=p(function*(t,e=!1){let n;const r=yield Vf(t.appConfig,o=>{if(!nH(o))throw Xo.create("not-registered");const s=o.authToken;if(!e&&function $me(t){return 2===t.requestStatus&&!function Hme(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+_me}(t)}(s))return o;if(1===s.requestStatus)return n=function Ume(t,e){return JD.apply(this,arguments)}(t,e),o;{if(!navigator.onLine)throw Xo.create("app-offline");const a=function Gme(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(o);return n=function jme(t,e){return ZD.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),QD.apply(this,arguments)}function JD(){return(JD=p(function*(t,e){let n=yield tH(t.appConfig);for(;1===n.authToken.requestStatus;)yield K$(100),n=yield tH(t.appConfig);const r=n.authToken;return 0===r.requestStatus?YD(t,e):r})).apply(this,arguments)}function tH(t){return Vf(t,e=>{if(!nH(e))throw Xo.create("not-registered");return function zme(t){return 1===t.requestStatus&&t.requestTime+j$<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function ZD(){return ZD=p(function*(t,e){try{const n=yield function Vme(t,e){return KD.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Ry(t.appConfig,r),n}catch(n){if(!G$(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Ry(t.appConfig,r)}else yield jD(t.appConfig);throw n}}),ZD.apply(this,arguments)}function nH(t){return void 0!==t&&2===t.registrationStatus}function XD(){return(XD=p(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield GD(e);return r?r.catch(console.error):YD(e).catch(console.error),n.fid})).apply(this,arguments)}function eS(){return eS=p(function*(t,e=!1){const n=t;return yield function Kme(t){return tS.apply(this,arguments)}(n),(yield YD(n,e)).token}),eS.apply(this,arguments)}function tS(){return(tS=p(function*(t){const{registrationPromise:e}=yield GD(t);e&&(yield e)})).apply(this,arguments)}function iS(t){return Xo.create("missing-app-config-values",{valueName:t})}const rH="installations",Xme=t=>{const e=t.getProvider("app").getImmediate(),n=function Jme(t){if(!t||!t.options)throw iS("App Configuration");if(!t.name)throw iS("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw iS(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:My(e,"heartbeat"),_delete:()=>Promise.resolve()}},e_e=t=>{const n=My(t.getProvider("app").getImmediate(),rH).getImmediate();return{getId:()=>function qme(t){return XD.apply(this,arguments)}(n),getToken:i=>function Wme(t){return eS.apply(this,arguments)}(n,i)}};(function t_e(){mr(new er(rH,Xme,"PUBLIC")),mr(new er("installations-internal",e_e,"PRIVATE"))})(),Kt(U$,ND),Kt(U$,ND,"esm2017");const oS="@firebase/remote-config",Pr=new uo("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class h_e{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return p(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const o=yield n.client.fetch(e),s=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===o.status&&s.push(n.storage.setLastSuccessfulFetchResponse(o)),yield Promise.all(s),o})()}}function f_e(t=navigator){return t.languages&&t.languages[0]||t.language}class p_e{constructor(e,n,r,i,o,s){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=o,this.appId=s}fetch(e){var n=this;return p(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),s=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},c={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:f_e()},u={method:"POST",headers:a,body:JSON.stringify(c)},l=fetch(s,u),d=new Promise((T,w)=>{e.signal.addEventListener(()=>{const M=new Error("The operation was aborted.");M.name="AbortError",w(M)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(T){let w="fetch-client-network";throw"AbortError"===T?.name&&(w="fetch-timeout"),Pr.create(w,{originalErrorMessage:T?.message})}let f=h.status;const _=h.headers.get("ETag")||void 0;let y,v;if(200===h.status){let T;try{T=yield h.json()}catch(w){throw Pr.create("fetch-client-parse",{originalErrorMessage:w?.message})}y=T.entries,v=T.state}if("INSTANCE_STATE_UNSPECIFIED"===v?f=500:"NO_CHANGE"===v?f=304:("NO_TEMPLATE"===v||"EMPTY_CONFIG"===v)&&(y={}),304!==f&&200!==f)throw Pr.create("fetch-status",{httpStatus:f});return{status:f,eTag:_,config:y}})()}}class __e{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return p(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return p(function*(){yield function g_e(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(Pr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const o=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),o}catch(o){if(!function m_e(t){if(!(t instanceof Fi&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(o))throw o;const s={throttleEndTimeMillis:Date.now()+yD(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(s),i.attemptFetch(e,s)}})()}}class b_e{constructor(e,n,r,i,o){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Py(t,e){const n=t.target.error||void 0;return Pr.create(e,{originalErrorMessage:n&&n?.message})}const uc="app_namespace_store";class T_e{constructor(e,n,r,i=function C_e(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(Py(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(uc,{keyPath:"compositeKey"})}}catch(n){e(Pr.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return p(function*(){const r=yield n.openDbPromise;return new Promise((i,o)=>{const a=r.transaction([uc],"readonly").objectStore(uc),c=n.createCompositeKey(e);try{const u=a.get(c);u.onerror=l=>{o(Py(l,"storage-get"))},u.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(u){o(Pr.create("storage-get",{originalErrorMessage:u?.message}))}})})()}set(e,n){var r=this;return p(function*(){const i=yield r.openDbPromise;return new Promise((o,s)=>{const c=i.transaction([uc],"readwrite").objectStore(uc),u=r.createCompositeKey(e);try{const l=c.put({compositeKey:u,value:n});l.onerror=d=>{s(Py(d,"storage-set"))},l.onsuccess=()=>{o()}}catch(l){s(Pr.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return p(function*(){const r=yield n.openDbPromise;return new Promise((i,o)=>{const a=r.transaction([uc],"readwrite").objectStore(uc),c=n.createCompositeKey(e);try{const u=a.delete(c);u.onerror=l=>{o(Py(l,"storage-delete"))},u.onsuccess=()=>{i()}}catch(u){o(Pr.create("storage-delete",{originalErrorMessage:u?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class E_e{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return p(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),o=yield n;o&&(e.lastFetchStatus=o);const s=yield r;s&&(e.lastSuccessfulFetchTimestampMillis=s);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function S_e(){return lS.apply(this,arguments)}function lS(){return(lS=p(function*(){if(!rc())return!1;try{return yield Pf()}catch{return!1}})).apply(this,arguments)}!function D_e(){mr(new er("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Pr.create("registration-window");if(!rc())throw Pr.create("indexed-db-unavailable");const{projectId:o,apiKey:s,appId:a}=r.options;if(!o)throw Pr.create("registration-project-id");if(!s)throw Pr.create("registration-api-key");if(!a)throw Pr.create("registration-app-id");const c=new T_e(a,r.name,n=n||"firebase"),u=new E_e(c),l=new Us(oS);l.logLevel=Ae.ERROR;const d=new p_e(i,Ff,n,o,s,a),h=new __e(d,c),f=new h_e(h,c,u,l),_=new b_e(r,f,u,c,l);return function u_e(t){const e=Xn(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(_),_},"PUBLIC").setMultipleInstances(!0)),Kt(oS,"0.4.4"),Kt(oS,"0.4.4","esm2017")}();const x_e=(t,e)=>e.some(n=>t instanceof n);let aH,cH;const uH=new WeakMap,dS=new WeakMap,lH=new WeakMap,hS=new WeakMap,fS=new WeakMap;let pS={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return dS.get(t);if("objectStoreNames"===e)return t.objectStoreNames||lH.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return es(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function P_e(t){return"function"==typeof t?function k_e(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function N_e(){return cH||(cH=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(gS(this),e),es(uH.get(this))}:function(...e){return es(t.apply(gS(this),e))}:function(e,...n){const r=t.call(gS(this),e,...n);return lH.set(r,e.sort?e.sort():[e]),es(r)}}(t):(t instanceof IDBTransaction&&function M_e(t){if(dS.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});dS.set(t,e)}(t),x_e(t,function A_e(){return aH||(aH=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,pS):t)}function es(t){if(t instanceof IDBRequest)return function O_e(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(es(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&uH.set(n,t)}).catch(()=>{}),fS.set(e,t),e}(t);if(hS.has(t))return hS.get(t);const e=P_e(t);return e!==t&&(hS.set(t,e),fS.set(e,t)),e}const gS=t=>fS.get(t);function dH(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=es(s);return r&&s.addEventListener("upgradeneeded",c=>{r(es(s.result),c.oldVersion,c.newVersion,es(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function mS(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),es(n).then(()=>{})}const F_e=["get","getKey","getAll","getAllKeys","count"],L_e=["put","add","delete","clear"],_S=new Map;function hH(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(_S.get(e))return _S.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=L_e.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!F_e.includes(n))return;const o=function(){var s=p(function*(a,...c){const u=this.transaction(a,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]});return function(c){return s.apply(this,arguments)}}();return _S.set(e,o),o}!function R_e(t){pS=t(pS)}(t=>({...t,get:(e,n,r)=>hH(e,n)||t.get(e,n,r),has:(e,n)=>!!hH(e,n)||t.has(e,n)}));const V_e="/firebase-messaging-sw.js",B_e="/firebase-cloud-messaging-push-scope",fH="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",U_e="https://fcmregistrations.googleapis.com/v1",pH="google.c.a.c_id",j_e="google.c.a.c_l",$_e="google.c.a.ts";var Fy=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(Fy||{});function ts(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function z_e(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}const yS="fcm_token_details_db",q_e=5,gH="fcm_token_object_Store";function vS(){return vS=p(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes(yS))return null;let e=null;return(yield dH(yS,q_e,{upgrade:(r=p(function*(i,o,s,a){var c;if(o<2||!i.objectStoreNames.contains(gH))return;const u=a.objectStore(gH),l=yield u.index("fcmSenderId").get(t);if(yield u.clear(),l)if(2===o){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(c=d.createTime)&&void 0!==c?c:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:ts(d.vapidKey)}}}else if(3===o){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ts(d.auth),p256dh:ts(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ts(d.vapidKey)}}}else if(4===o){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ts(d.auth),p256dh:ts(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ts(d.vapidKey)}}}}),function(o,s,a,c){return r.apply(this,arguments)})})).close(),yield mS(yS),yield mS("fcm_vapid_details_db"),yield mS("undefined"),function K_e(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),vS.apply(this,arguments)}const Y_e="firebase-messaging-database",Q_e=1,lc="firebase-messaging-store";let bS=null;function wS(){return bS||(bS=dH(Y_e,Q_e,{upgrade:(t,e)=>{0===e&&t.createObjectStore(lc)}})),bS}function mH(t){return IS.apply(this,arguments)}function IS(){return IS=p(function*(t){const e=DS(t),r=yield(yield wS()).transaction(lc).objectStore(lc).get(e);if(r)return r;{const i=yield function W_e(t){return vS.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield CS(t,i),i}}),IS.apply(this,arguments)}function CS(t,e){return TS.apply(this,arguments)}function TS(){return(TS=p(function*(t,e){const n=DS(t),i=(yield wS()).transaction(lc,"readwrite");return yield i.objectStore(lc).put(e,n),yield i.done,e})).apply(this,arguments)}function ES(){return(ES=p(function*(t){const e=DS(t),r=(yield wS()).transaction(lc,"readwrite");yield r.objectStore(lc).delete(e),yield r.done})).apply(this,arguments)}function DS({appConfig:t}){return t.appId}const Vn=new uo("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function X_e(t,e){return SS.apply(this,arguments)}function SS(){return(SS=p(function*(t,e){const n=yield OS(t),r=yH(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(NS(t.appConfig),i)).json()}catch(s){throw Vn.create("token-subscribe-failed",{errorInfo:s?.toString()})}if(o.error)throw Vn.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw Vn.create("token-subscribe-no-token");return o.token})).apply(this,arguments)}function xS(){return(xS=p(function*(t,e){const n=yield OS(t),r=yH(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(`${NS(t.appConfig)}/${e.token}`,i)).json()}catch(s){throw Vn.create("token-update-failed",{errorInfo:s?.toString()})}if(o.error)throw Vn.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw Vn.create("token-update-no-token");return o.token})).apply(this,arguments)}function _H(t,e){return AS.apply(this,arguments)}function AS(){return(AS=p(function*(t,e){const r={method:"DELETE",headers:yield OS(t)};try{const o=yield(yield fetch(`${NS(t.appConfig)}/${e}`,r)).json();if(o.error)throw Vn.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(i){throw Vn.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function NS({projectId:t}){return`${U_e}/projects/${t}/registrations`}function OS(t){return MS.apply(this,arguments)}function MS(){return(MS=p(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function yH({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==fH&&(i.web.applicationPubKey=r),i}const tye=6048e5;function RS(){return RS=p(function*(t){const e=yield function iye(t,e){return LS.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:ts(e.getKey("auth")),p256dh:ts(e.getKey("p256dh"))},r=yield mH(t.firebaseDependencies);if(r){if(function oye(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+tye?function rye(t,e){return PS.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield _H(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return bH(t.firebaseDependencies,n)}return bH(t.firebaseDependencies,n)}),RS.apply(this,arguments)}function kS(){return kS=p(function*(t){const e=yield mH(t.firebaseDependencies);e&&(yield _H(t.firebaseDependencies,e.token),yield function J_e(t){return ES.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),kS.apply(this,arguments)}function PS(){return PS=p(function*(t,e){try{const n=yield function eye(t,e){return xS.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield CS(t.firebaseDependencies,r),n}catch(n){throw yield function vH(t){return kS.apply(this,arguments)}(t),n}}),PS.apply(this,arguments)}function bH(t,e){return FS.apply(this,arguments)}function FS(){return(FS=p(function*(t,e){const r={token:yield X_e(t,e),createTime:Date.now(),subscriptionOptions:e};return yield CS(t,r),r.token})).apply(this,arguments)}function LS(){return(LS=p(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:z_e(e)})})).apply(this,arguments)}function wH(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function sye(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const o=e.notification.icon;o&&(t.notification.icon=o)}(e,t),function aye(t,e){e.data&&(t.data=e.data)}(e,t),function cye(t,e){var n,r,i,o,s;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(o=e.notification)||void 0===o?void 0:o.click_action;a&&(t.fcmOptions.link=a);const c=null===(s=e.fcmOptions)||void 0===s?void 0:s.analytics_label;c&&(t.fcmOptions.analyticsLabel=c)}(e,t),e}function IH(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function VS(t){return Vn.create("missing-app-config-values",{valueName:t})}IH("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),IH("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class dye{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function lye(t){if(!t||!t.options)throw VS("App Configuration Object");if(!t.name)throw VS("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw VS(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function BS(){return(BS=p(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(V_e,{scope:B_e}),t.swRegistration.update().catch(()=>{})}catch(e){throw Vn.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function US(){return(US=p(function*(t,e){if(!e&&!t.swRegistration&&(yield function CH(t){return BS.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Vn.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function jS(){return(jS=p(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=fH)})).apply(this,arguments)}function $S(){return $S=p(function*(t,e){if(!navigator)throw Vn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Vn.create("permission-blocked");return yield function fye(t,e){return jS.apply(this,arguments)}(t,e?.vapidKey),yield function hye(t,e){return US.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function nye(t){return RS.apply(this,arguments)}(t)}),$S.apply(this,arguments)}function HS(){return(HS=p(function*(t,e,n){const r=function gye(t){switch(t){case Fy.NOTIFICATION_CLICKED:return"notification_open";case Fy.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[pH],message_name:n[j_e],message_time:n[$_e],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function GS(){return GS=p(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Fy.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(wH(n)):t.onMessageHandler.next(wH(n)));const r=n.data;(function uye(t){return"object"==typeof t&&!!t&&pH in t})(r)&&"1"===r["google.c.a.e"]&&(yield function pye(t,e,n){return HS.apply(this,arguments)}(t,n.messageType,r))}),GS.apply(this,arguments)}const EH="@firebase/messaging",_ye=t=>{const e=new dye(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function mye(t,e){return GS.apply(this,arguments)}(e,n)),e},yye=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function TH(t,e){return $S.apply(this,arguments)}(e,r)}};function SH(){return zS.apply(this,arguments)}function zS(){return(zS=p(function*(){try{yield Pf()}catch{return!1}return typeof window<"u"&&rc()&&pD()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function vye(){mr(new er("messaging",_ye,"PUBLIC")),mr(new er("messaging-internal",yye,"PRIVATE")),Kt(EH,"0.12.4"),Kt(EH,"0.12.4","esm2017")}();const Ly="analytics",Iye="firebase_id",Cye="origin",Tye=6e4,Eye="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",KS="https://www.googletagmanager.com/gtag/js",Tn=new Us("@firebase/analytics"),_r=new uo("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Sye(t){if(!t.startsWith(KS)){const e=_r.create("invalid-gtag-resource",{gtagURL:t});return Tn.warn(e.message),""}return t}function xH(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function YS(){return(YS=p(function*(t,e,n,r,i,o){const s=r[i];try{if(s)yield e[s];else{const c=(yield xH(n)).find(u=>u.measurementId===i);c&&(yield e[c.appId])}}catch(a){Tn.error(a)}t("config",i,o)})).apply(this,arguments)}function QS(){return(QS=p(function*(t,e,n,r,i){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const a=yield xH(n);for(const c of s){const u=a.find(d=>d.measurementId===c),l=u&&e[u.appId];if(!l){o=[];break}o.push(l)}}0===o.length&&(o=Object.values(e)),yield Promise.all(o),t("event",r,i||{})}catch(o){Tn.error(o)}})).apply(this,arguments)}const Fye=30,AH=new class Vye{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Bye(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function JS(){return(JS=p(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:Bye(r)},o=Eye.replace("{app-id}",n),s=yield fetch(o,i);if(200!==s.status&&304!==s.status){let a="";try{const c=yield s.json();null!==(e=c.error)&&void 0!==e&&e.message&&(a=c.error.message)}catch{}throw _r.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()})).apply(this,arguments)}function ZS(){return(ZS=p(function*(t,e=AH,n){const{appId:r,apiKey:i,measurementId:o}=t.options;if(!r)throw _r.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw _r.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Gye;return setTimeout(p(function*(){a.abort()}),void 0!==n?n:Tye),NH({appId:r,apiKey:i,measurementId:o},s,a,e)})).apply(this,arguments)}function NH(t,e,n){return XS.apply(this,arguments)}function XS(){return XS=p(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=AH){var o;const{appId:s,measurementId:a}=t;try{yield function $ye(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(_r.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(c){if(a)return Tn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:s,measurementId:a};throw c}try{const c=yield function Uye(t){return JS.apply(this,arguments)}(t);return i.deleteThrottleMetadata(s),c}catch(c){const u=c;if(!function Hye(t){if(!(t instanceof Fi&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(u)){if(i.deleteThrottleMetadata(s),a)return Tn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:s,measurementId:a};throw c}const l=503===Number(null===(o=u?.customData)||void 0===o?void 0:o.httpStatus)?yD(n,i.intervalMillis,Fye):yD(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(s,d),Tn.debug(`Calling attemptFetch again in ${l} millis`),NH(t,d,r,i)}}),XS.apply(this,arguments)}class Gye{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let ex,ax;function tx(){return(tx=p(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const o=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:o}))}})).apply(this,arguments)}function cx(){return(cx=p(function*(){if(!rc())return Tn.warn(_r.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Pf()}catch(t){return Tn.warn(_r.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function ux(){return ux=p(function*(t,e,n,r,i,o,s){var a;const c=function jye(t){return ZS.apply(this,arguments)}(t);c.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&Tn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Tn.error(f)),e.push(c);const u=function Jye(){return cx.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([c,u]);(function Pye(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(KS)&&n.src.includes(t))return n;return null})(o)||function Aye(t,e){const n=function xye(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:Sye}),r=document.createElement("script"),i=`${KS}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(o,l.measurementId),ax&&(i("consent","default",ax),function OH(t){ax=t}(void 0)),i("js",new Date);const h=null!==(a=s?.config)&&void 0!==a?a:{};return h[Cye]="firebase",h.update=!0,null!=d&&(h[Iye]=d),i("config",l.measurementId,h),ex&&(i("set",ex),function MH(t){ex=t}(void 0)),l.measurementId}),ux.apply(this,arguments)}class Xye{constructor(e){this.app=e}_delete(){return delete lo[this.app.options.appId],Promise.resolve()}}let lo={},RH=[];const kH={};let FH,ho,Vy="dataLayer",lx=!1;function tve(t,e,n){!function eve(){const t=[];if(fD()&&t.push("This is a browser extension environment."),pD()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=_r.create("invalid-analytics-context",{errorInfo:e});Tn.warn(n.message)}}();const r=t.options.appId;if(!r)throw _r.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw _r.create("no-api-key");Tn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=lo[r])throw _r.create("already-exists",{id:r});if(!lx){!function Nye(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Vy);const{wrappedGtag:o,gtagCore:s}=function kye(t,e,n,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function Rye(t,e,n,r){function o(){return o=p(function*(s,...a){try{if("event"===s){const[c,u]=a;yield function Mye(t,e,n,r,i){return QS.apply(this,arguments)}(t,e,n,c,u)}else if("config"===s){const[c,u]=a;yield function Oye(t,e,n,r,i,o){return YS.apply(this,arguments)}(t,e,n,r,c,u)}else if("consent"===s){const[c]=a;t("consent","update",c)}else if("get"===s){const[c,u,l]=a;t("get",c,u,l)}else if("set"===s){const[c]=a;t("set",c)}else t(s,...a)}catch(c){Tn.error(c)}}),o.apply(this,arguments)}return function i(s){return o.apply(this,arguments)}}(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}(lo,RH,kH,Vy,"gtag");ho=o,FH=s,lx=!0}return lo[r]=function Zye(t,e,n,r,i,o,s){return ux.apply(this,arguments)}(t,RH,kH,e,FH,Vy,n),new Xye(t)}function rve(){return dx.apply(this,arguments)}function dx(){return(dx=p(function*(){if(fD()||!pD()||!rc())return!1;try{return yield Pf()}catch{return!1}})).apply(this,arguments)}const LH="@firebase/analytics";!function ove(){mr(new er(Ly,(e,{options:n})=>tve(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),mr(new er("analytics-internal",function t(e){try{const n=e.getProvider(Ly).getImmediate();return{logEvent:(r,i,o)=>function ive(t,e,n,r){t=Xn(t),function zye(t,e,n,r,i){return tx.apply(this,arguments)}(ho,lo[t.app.options.appId],e,n,r).catch(i=>Tn.error(i))}(n,r,i,o)}}catch(n){throw _r.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Kt(LH,"0.10.0"),Kt(LH,"0.10.0","esm2017")}();class sve extends Ut{constructor(e,n){super()}schedule(e,n=0){return this}}const By={setInterval(t,e,...n){const{delegate:r}=By;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=By;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class BH extends sve{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return By.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&By.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ms(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const fx={now:()=>(fx.delegate||Date).now(),delegate:void 0};class Bf{constructor(e,n=Bf.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Bf.now=fx.now;class UH extends Bf{constructor(e,n=Bf.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const uve=new class cve extends UH{}(class ave extends BH{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),px=new UH(BH),lve=px,gx=new Fu("7.6.1"),mx="__angularfire_symbol__analyticsIsSupportedValue",_x="__angularfire_symbol__analyticsIsSupported",yx="__angularfire_symbol__remoteConfigIsSupportedValue",vx="__angularfire_symbol__remoteConfigIsSupported",bx="__angularfire_symbol__messagingIsSupportedValue",wx="__angularfire_symbol__messagingIsSupported";globalThis[_x]||(globalThis[_x]=rve().then(t=>globalThis[mx]=t).catch(()=>globalThis[mx]=!1)),globalThis[wx]||(globalThis[wx]=SH().then(t=>globalThis[bx]=t).catch(()=>globalThis[bx]=!1)),globalThis[vx]||(globalThis[vx]=S_e().then(t=>globalThis[yx]=t).catch(()=>globalThis[yx]=!1));const Tx=(t,e)=>{const n=e?[e]:A$(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r};function Il(){}class jH{constructor(e,n=uve){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{e.apply(this,[s])})},n,r)}}class dve{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Il,{},Il,Il)),n.pipe(fn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let $H=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new jH(Zone.current)),this.insideAngular=n.run(()=>new jH(Zone.current,px)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(q(Te))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function dc(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function hc(t){return dc().ngZone.run(()=>t())}function fve(t){return dc(),function pve(t){return function(n){return(n=n.lift(new dve(t.ngZone))).pipe(kg(t.outsideAngular),Rg(t.insideAngular))}}(dc())(t)}const gve=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),hc(()=>t.apply(void 0,r))},Bn=(t,e)=>function(){let n;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(e&&(n||(n=hc(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Il,{},Il,Il)))),r[o]=gve(r[o],n));const i=function hve(t){return dc().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof Ge){const o=dc();return i.pipe(kg(o.outsideAngular),Rg(o.insideAngular))}return hc(()=>i)}return i instanceof Ge?i.pipe(fve):i instanceof Promise?hc(()=>new Promise((o,s)=>i.then(a=>hc(()=>o(a)),a=>hc(()=>s(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:hc(()=>i)};class Cl{constructor(e){return e}}class HH{constructor(){return A$()}}const Ex=new te("angularfire2._apps"),_ve={provide:Cl,useFactory:function mve(t){return t&&1===t.length?t[0]:new Cl(x$())},deps:[[new Dr,Ex]]},yve={provide:HH,deps:[[new Dr,Ex]]};function vve(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Cl(r)}}let bve=(()=>{class t{constructor(n){Kt("angularfire",gx.full,"core"),Kt("angularfire",gx.full,"app"),Kt("angular",rw.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(q(Fo))},t.\u0275mod=Ce({type:t}),t.\u0275inj=we({providers:[_ve,yve]}),t})();function wve(t,...e){return{ngModule:bve,providers:[{provide:Ex,useFactory:vve(t),multi:!0,deps:[Te,en,$H,...e]}]}}const Ive=Bn(S$,!0);const Cve=function GH(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},zH=new uo("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Uy=new Us("@firebase/auth");function jy(t,...e){Uy.logLevel<=Ae.ERROR&&Uy.error(`Auth (${Ff}): ${t}`,...e)}function Fr(t,...e){throw Dx(t,...e)}function fo(t,...e){return Dx(t,...e)}function Dx(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return zH.create(t,...e)}function W(t,e,...n){if(!t)throw Dx(e,...n)}function po(t){const e="INTERNAL ASSERTION FAILED: "+t;throw jy(e),new Error(e)}function qs(t,e){t||po(e)}function WH(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class jf{constructor(e,n){this.shortDelay=e,this.longDelay=n,qs(n>e,"Short delay should be less than long delay!"),this.isMobile=function Xpe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zr())}()||function tge(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function Eve(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Sx(){return"http:"===WH()||"https:"===WH()}()||fD()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class KH{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void po("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void po("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void po("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Sve={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},xve=new jf(3e4,6e4);function Ft(t,e,n,r){return Ax.apply(this,arguments)}function Ax(){return(Ax=p(function*(t,e,n,r,i={}){return YH(t,i,p(function*(){let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=E$(Object.assign({key:t.config.apiKey},s)).slice(1),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),KH.fetch()(QH(t,t.config.apiHost,n,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function YH(t,e,n){return Nx.apply(this,arguments)}function Nx(){return(Nx=p(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Sve),e);try{const i=new Ave(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw $f(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[c,u]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw $f(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===c)throw $f(t,"email-already-in-use",s);if("USER_DISABLED"===c)throw $f(t,"user-disabled",s);const l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw function qH(t,e,n){const r=Object.assign(Object.assign({},Cve()),{[e]:n});return new uo("auth","Firebase",r).create(e,{appName:t.name})}(t,l,u);Fr(t,l)}}catch(i){if(i instanceof Fi)throw i;Fr(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function QH(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?function xx(t,e){qs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`}class Ave{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(fo(this.auth,"network-request-failed")),xve.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function $f(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=fo(t,e,r);return i.customData._tokenResponse=n,i}function Mx(){return(Mx=p(function*(t,e){return Ft(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function kx(){return(kx=p(function*(t,e){return Ft(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Hf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Px(){return(Px=p(function*(t,e=!1){const n=Xn(t),r=yield n.getIdToken(e),i=$y(r);W(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Hf(Fx(i.auth_time)),issuedAtTime:Hf(Fx(i.iat)),expirationTime:Hf(Fx(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function Fx(t){return 1e3*Number(t)}function $y(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return jy("JWT malformed, contained fewer than 3 sections"),null;try{const i=Dy(n);return i?JSON.parse(i):(jy("Failed to decode base64 JWT payload"),null)}catch(i){return jy("Caught error parsing JWT payload as JSON",i?.toString()),null}}function rs(t,e){return Lx.apply(this,arguments)}function Lx(){return(Lx=p(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Fi&&function Pve({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class Fve{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(p(function*(){yield n.iteration()}),r)}iteration(){var e=this;return p(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class JH{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hf(this.lastLoginAt),this.creationTime=Hf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Gf(t){return Vx.apply(this,arguments)}function Vx(){return Vx=p(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield rs(t,function Mve(t,e){return kx.apply(this,arguments)}(n,{idToken:r}));W(i?.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?function Bve(t){return t.map(e=>{var{providerId:n}=e,r=ru(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(o.providerUserInfo):[],a=function Vve(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,s),l=!!t.isAnonymous&&!(t.email&&o.passwordHash||a?.length),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new JH(o.createdAt,o.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),Vx.apply(this,arguments)}function Bx(){return(Bx=p(function*(t){const e=Xn(t);yield Gf(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function Ux(){return(Ux=p(function*(t,e){const n=yield YH(t,{},p(function*(){const r=E$({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=QH(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",KH.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class zf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){W(e.idToken,"internal-error"),W(typeof e.idToken<"u","internal-error"),W(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function kve(t){const e=$y(t);return W(e,"internal-error"),W(typeof e.exp<"u","internal-error"),W(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return p(function*(){return W(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return p(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function Uve(t,e){return Ux.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new zf;return r&&(W("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),i&&(W("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),o&&(W("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zf,this.toJSON())}_performRefresh(){return po("not implemented")}}function Ws(t,e){W("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class fc{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=ru(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Fve(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new JH(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var n=this;return p(function*(){const r=yield rs(n,n.stsTokenManager.getToken(n.auth,e));return W(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function Rve(t){return Px.apply(this,arguments)}(this,e)}reload(){return function Lve(t){return Bx.apply(this,arguments)}(this)}_assign(e){this!==e&&(W(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new fc(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){W(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return p(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Gf(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return p(function*(){const n=yield e.getIdToken();return yield rs(e,function Nve(t,e){return Mx.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,c,u,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(o=n.phoneNumber)&&void 0!==o?o:void 0,_=null!==(s=n.photoURL)&&void 0!==s?s:void 0,y=null!==(a=n.tenantId)&&void 0!==a?a:void 0,v=null!==(c=n._redirectEventId)&&void 0!==c?c:void 0,T=null!==(u=n.createdAt)&&void 0!==u?u:void 0,w=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:M,emailVerified:F,isAnonymous:$,providerData:Y,stsTokenManager:ae}=n;W(M&&ae,e,"internal-error");const me=zf.fromJSON(this.name,ae);W("string"==typeof M,e,"internal-error"),Ws(d,e.name),Ws(h,e.name),W("boolean"==typeof F,e,"internal-error"),W("boolean"==typeof $,e,"internal-error"),Ws(f,e.name),Ws(_,e.name),Ws(y,e.name),Ws(v,e.name),Ws(T,e.name),Ws(w,e.name);const Ue=new fc({uid:M,auth:e,email:h,emailVerified:F,displayName:d,isAnonymous:$,photoURL:_,phoneNumber:f,tenantId:y,stsTokenManager:me,createdAt:T,lastLoginAt:w});return Y&&Array.isArray(Y)&&(Ue.providerData=Y.map(It=>Object.assign({},It))),v&&(Ue._redirectEventId=v),Ue}static _fromIdTokenResponse(e,n,r=!1){return p(function*(){const i=new zf;i.updateFromServerResponse(n);const o=new fc({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Gf(o),o})()}}const ZH=new Map;function is(t){qs(t instanceof Function,"Expected a class definition");let e=ZH.get(t);return e?(qs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ZH.set(t,e),e)}const XH=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return p(function*(){return!0})()}_set(n,r){var i=this;return p(function*(){i.storage[n]=r})()}_get(n){var r=this;return p(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return p(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Hy(t,e,n){return`firebase:${t}:${e}:${n}`}class El{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Hy(this.userKey,i.apiKey,o),this.fullPersistenceKey=Hy("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return p(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?fc._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return p(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return p(function*(){if(!n.length)return new El(is(XH),e,r);const i=(yield Promise.all(n.map(function(){var u=p(function*(l){if(yield l._isAvailable())return l});return function(l){return u.apply(this,arguments)}}()))).filter(u=>u);let o=i[0]||is(XH);const s=Hy(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const l=yield u._get(s);if(l){const d=fc._fromJSON(e,l);u!==o&&(a=d),o=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return o._shouldAllowMigration&&c.length?(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(function(){var u=p(function*(l){if(l!==o)try{yield l._remove(s)}catch{}});return function(l){return u.apply(this,arguments)}}())),new El(o,e,r)):new El(o,e,r)})()}}function eG(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function rG(t=Zr()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function tG(t=Zr()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function oG(t=Zr()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function sG(t=Zr()){return/webos/i.test(t)}(e))return"Webos";if(function jx(t=Zr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function nG(t=Zr()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function iG(t=Zr()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function aG(t,e=[]){let n;switch(t){case"Browser":n=eG(Zr());break;case"Worker":n=`${eG(Zr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ff}/${r}`}function cG(t,e){return Hx.apply(this,arguments)}function Hx(){return(Hx=p(function*(t,e){return Ft(t,"GET","/v2/recaptchaConfig",function Ot(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}(t,e))})).apply(this,arguments)}function lG(t){return void 0!==t&&void 0!==t.enterprise}class dG{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}class fG{constructor(e){this.type="recaptcha-enterprise",this.auth=En(e)}verify(e="verify",n=!1){var r=this;return p(function*(){function o(){return o=p(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var c=p(function*(u,l){cG(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new dG(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,u(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(u,l){return c.apply(this,arguments)}}())}),o.apply(this,arguments)}function s(a,c,u){const l=window.grecaptcha;lG(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{c(d)}).catch(()=>{c("NO_RECAPTCHA")})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,c)=>{(function i(a){return o.apply(this,arguments)})(r.auth).then(u=>{if(!n&&lG(window.grecaptcha))s(u,a,c);else{if(typeof window>"u")return void c(new Error("RecaptchaVerifier is only supported in browser"));(function Gx(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=fo("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",function Gve(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})})("https://www.google.com/recaptcha/enterprise.js?render="+u).then(()=>{s(u,a,c)}).catch(l=>{c(l)})}}).catch(u=>{c(u)})})})()}}class Kve{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{s(e(o))}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return p(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class Yve{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pG(this),this.idTokenSubscription=new pG(this),this.beforeStateQueue=new Kve(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zH,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=is(n)),this._initializationPromise=this.queue(p(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield El.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return p(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return p(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let o=i,s=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,c=o?._redirectEventId,u=yield n.tryRedirectSignIn(e);(!a||a===c)&&u?.user&&(o=u.user,s=!0)}if(!o)return n.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield n.beforeStateQueue.runMiddleware(o)}catch(a){o=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return o?n.reloadAndSetCurrentUserOrClear(o):n.directlySetCurrentUser(null)}return W(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===o._redirectEventId?n.directlySetCurrentUser(o):n.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var n=this;return p(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return p(function*(){try{yield Gf(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Dve(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return p(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return p(function*(){const r=e?Xn(e):null;return r&&W(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return p(function*(){if(!r._deleted)return e&&W(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(p(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return p(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(p(function*(){yield n.assertedPersistence.setPersistence(is(e))}))}initializeRecaptchaConfig(){var e=this;return p(function*(){const n=yield cG(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new dG(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new fG(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new uo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return p(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return p(function*(){if(!n.redirectPersistenceManager){const r=e&&is(e)||n._popupRedirectResolver;W(r,n,"argument-error"),n.redirectPersistenceManager=yield El.create(n,[is(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return p(function*(){var r,i;return n._isInitialized&&(yield n.queue(p(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return p(function*(){if(e===n.currentUser)return n.queue(p(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o="function"==typeof n?n:n.next.bind(n),s=this._isInitialized?Promise.resolve():this._initializationPromise;return W(s,this,"internal-error"),s.then(()=>o(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return p(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return W(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aG(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return p(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield e._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var e=this;return p(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function Tve(t,...e){Uy.logLevel<=Ae.WARN&&Uy.warn(`Auth (${Ff}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function En(t){return Xn(t)}class pG{constructor(e){this.auth=e,this.observer=null,this.addObserver=function oge(t,e){const n=new sge(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return W(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function hG(t){return`__${t}${Math.floor(1e6*Math.random())}`})("rcb"),new jf(3e4,6e4),new jf(2e3,1e4),new jf(3e4,6e4),new jf(5e3,15e3),encodeURIComponent("fac");var HG="@firebase/auth";class jbe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return p(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){W(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}Sy(),function Hbe(t){mr(new er("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;W(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aG(t)},u=new Yve(r,i,o,c);return function Jve(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(is);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),mr(new er("auth-internal",e=>{const n=En(e.getProvider("auth").getImmediate());return new jbe(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kt(HG,"0.23.2",function $be(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),Kt(HG,"0.23.2","esm2017")}("Browser");class WG{constructor(){return Tx("auth")}}const MN=new Map,KG={activated:!1,tokenObservers:[]},Qbe={initialized:!1,enabled:!1};function Lt(t){return MN.get(t)||Object.assign({},KG)}function nv(){return Qbe}const RN="https://content-firebaseappcheck.googleapis.com/v1",e1e="exchangeDebugToken",YG={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class n1e{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return p(function*(){n.stop();try{n.pending=new xy,yield function r1e(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new xy,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Un=new uo("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function kN(t){if(!Lt(t).activated)throw Un.create("use-before-activation",{appName:t.name})}function ov(t,e){return FN.apply(this,arguments)}function FN(){return FN=p(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const o={method:"POST",body:JSON.stringify(e),headers:r};let s,a;try{s=yield fetch(t,o)}catch(d){throw Un.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==s.status)throw Un.create("fetch-status-error",{httpStatus:s.status});try{a=yield s.json()}catch(d){throw Un.create("fetch-parse-error",{originalErrorMessage:d?.message})}const c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw Un.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const u=1e3*Number(c[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+u,issuedAtTimeMillis:l}}),FN.apply(this,arguments)}function QG(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${RN}/projects/${n}/apps/${r}:${e1e}?key=${i}`,body:{debug_token:e}}}const a1e="firebase-app-check-database",c1e=1,Qf="firebase-app-check-store";let sv=null;function LN(){return LN=p(function*(t,e){const r=(yield function ZG(){return sv||(sv=new Promise((t,e)=>{try{const n=indexedDB.open(a1e,c1e);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Un.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Qf,{keyPath:"compositeKey"})}}catch(n){e(Un.create("storage-open",{originalErrorMessage:n?.message}))}}),sv)}()).transaction(Qf,"readwrite"),o=r.objectStore(Qf).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var u;a(Un.create("storage-set",{originalErrorMessage:null===(u=c.target.error)||void 0===u?void 0:u.message}))}})}),LN.apply(this,arguments)}const Jf=new Us("@firebase/app-check");function UN(t,e){return rc()?function l1e(t,e){return function XG(t,e){return LN.apply(this,arguments)}(function t6(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{Jf.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function $N(){return nv().enabled}function HN(){return GN.apply(this,arguments)}function GN(){return GN=p(function*(){const t=nv();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),GN.apply(this,arguments)}const m1e={error:"UNKNOWN_ERROR"};function _1e(t){return hD.encodeString(JSON.stringify(t),!1)}function av(t){return zN.apply(this,arguments)}function zN(){return zN=p(function*(t,e=!1){const n=t.app;kN(n);const r=Lt(n);let o,i=r.token;if(i&&!Sl(i)&&(r.token=void 0,i=void 0),!i){const c=yield r.cachedTokenPromise;c&&(Sl(c)?i=c:yield UN(n,void 0))}if(!e&&i&&Sl(i))return{token:i.token};let a,s=!1;if($N()){r.exchangeTokenPromise||(r.exchangeTokenPromise=ov(QG(n,yield HN()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);const c=yield r.exchangeTokenPromise;return yield UN(n,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield Lt(n).exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code?Jf.warn(c.message):Jf.error(c),o=c}return i?o?a=Sl(i)?{token:i.token,internalError:o}:o6(o):(a={token:i.token},r.token=i,yield UN(n,i)):a=o6(o),s&&function i6(t,e){const n=Lt(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,a),a}),zN.apply(this,arguments)}function qN(){return qN=p(function*(t){const e=t.app;kN(e);const{provider:n}=Lt(e);if($N()){const r=yield HN(),{token:i}=yield ov(QG(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}}),qN.apply(this,arguments)}function KN(t,e){const n=Lt(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function r6(t){const{app:e}=t,n=Lt(e);let r=n.tokenRefresher;r||(r=function y1e(t){const{app:e}=t;return new n1e(p(function*(){let r;if(r=Lt(e).token?yield av(t,!0):yield av(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=Lt(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},YG.RETRIAL_MIN_WAIT,YG.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Sl(t){return t.expireTimeMillis-Date.now()>0}function o6(t){return{token:_1e(m1e),error:t}}class v1e{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Lt(this.app);for(const n of e)KN(this.app,n.next);return Promise.resolve()}}const f6="app-check-internal";!function R1e(){mr(new er("app-check",t=>function b1e(t,e){return new v1e(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(f6).initialize()})),mr(new er(f6,t=>function w1e(t){return{getToken:e=>av(t,e),getLimitedUseToken:()=>function n6(t){return qN.apply(this,arguments)}(t),addTokenListener:e=>function WN(t,e,n,r){const{app:i}=t,o=Lt(i);if(o.tokenObservers=[...o.tokenObservers,{next:n,error:r,type:e}],o.token&&Sl(o.token)){const a=o.token;Promise.resolve().then(()=>{n({token:a.token}),r6(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>r6(t))}(t,"INTERNAL",e),removeTokenListener:e=>KN(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Kt("@firebase/app-check","0.8.0")}();class g6{constructor(){return Tx("app-check")}}typeof window<"u"&&window;var X,V1e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Li={},XN=XN||{},ge=V1e||self;function uv(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Zf(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var eO="closure_uid_"+(1e9*Math.random()>>>0),U1e=0;function j1e(t,e,n){return t.call.apply(t.bind,arguments)}function $1e(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function tr(t,e,n){return(tr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?j1e:$1e).apply(null,arguments)}function lv(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Dn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function Ys(){this.s=this.s,this.o=this.o}Ys.prototype.s=!1,Ys.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function B1e(t){Object.prototype.hasOwnProperty.call(t,eO)&&t[eO]||(t[eO]=++U1e)}(this)},Ys.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const m6=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function tO(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function _6(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(uv(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function nr(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}nr.prototype.h=function(){this.defaultPrevented=!0};var G1e=function(){if(!ge.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ge.addEventListener("test",()=>{},e),ge.removeEventListener("test",()=>{},e)}catch{}return t}();function Xf(t){return/^[\s\xa0]*$/.test(t)}function dv(){var t=ge.navigator;return t&&(t=t.userAgent)?t:""}function go(t){return-1!=dv().indexOf(t)}function nO(t){return nO[" "](t),t}nO[" "]=function(){};var iO,q1e=go("Opera"),xl=go("Trident")||go("MSIE"),y6=go("Edge"),rO=y6||xl,v6=go("Gecko")&&!(-1!=dv().toLowerCase().indexOf("webkit")&&!go("Edge"))&&!(go("Trident")||go("MSIE"))&&!go("Edge"),W1e=-1!=dv().toLowerCase().indexOf("webkit")&&!go("Edge");function b6(){var t=ge.document;return t?t.documentMode:void 0}e:{var oO="",sO=function(){var t=dv();return v6?/rv:([^\);]+)(\)|;)/.exec(t):y6?/Edge\/([\d\.]+)/.exec(t):xl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):W1e?/WebKit\/(\S+)/.exec(t):q1e?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(sO&&(oO=sO?sO[1]:""),xl){var aO=b6();if(null!=aO&&aO>parseFloat(oO)){iO=String(aO);break e}}iO=oO}var K1e=ge.document&&xl&&(b6()||parseInt(iO,10))||void 0;function ep(t,e){if(nr.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(v6){e:{try{nO(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Y1e[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ep.$.h.call(this)}}Dn(ep,nr);var Y1e={2:"touch",3:"pen",4:"mouse"};ep.prototype.h=function(){ep.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var tp="closure_listenable_"+(1e6*Math.random()|0),Q1e=0;function J1e(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Q1e,this.fa=this.ia=!1}function hv(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function uO(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function I6(t){const e={};for(const n in t)e[n]=t[n];return e}const C6="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T6(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let o=0;o<C6.length;o++)n=C6[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function fv(t){this.src=t,this.g={},this.h=0}function lO(t,e){var n=e.type;if(n in t.g){var o,r=t.g[n],i=m6(r,e);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(hv(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function dO(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}fv.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=dO(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):((e=new J1e(e,this.src,o,!!r,i)).ia=n,t.push(e)),e};var hO="closure_lm_"+(1e6*Math.random()|0),fO={};function E6(t,e,n,r,i){if(r&&r.once)return S6(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)E6(t,e[o],n,r,i);return null}return n=_O(n),t&&t[tp]?t.O(e,n,Zf(r)?!!r.capture:!!r,i):D6(t,e,n,!1,r,i)}function D6(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Zf(i)?!!i.capture:!!i,a=gO(t);if(a||(t[hO]=a=new fv(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function X1e(){const e=ewe;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)G1e||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(A6(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function S6(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)S6(t,e[o],n,r,i);return null}return n=_O(n),t&&t[tp]?t.P(e,n,Zf(r)?!!r.capture:!!r,i):D6(t,e,n,!0,r,i)}function x6(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)x6(t,e[o],n,r,i);else r=Zf(r)?!!r.capture:!!r,n=_O(n),t&&t[tp]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=dO(o=t.g[e],n,r,i))&&(hv(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--))):t&&(t=gO(t))&&(e=t.g[e.toString()],t=-1,e&&(t=dO(e,n,r,i)),(n=-1<t?e[t]:null)&&pO(n))}function pO(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[tp])lO(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(A6(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=gO(e))?(lO(n,t),0==n.h&&(n.src=null,e[hO]=null)):hv(t)}}}function A6(t){return t in fO?fO[t]:fO[t]="on"+t}function ewe(t,e){if(t.fa)t=!0;else{e=new ep(e,this);var n=t.listener,r=t.la||t.src;t.ia&&pO(t),t=n.call(r,e)}return t}function gO(t){return(t=t[hO])instanceof fv?t:null}var mO="__closure_events_fn_"+(1e9*Math.random()>>>0);function _O(t){return"function"==typeof t?t:(t[mO]||(t[mO]=function(e){return t.handleEvent(e)}),t[mO])}function Sn(){Ys.call(this),this.i=new fv(this),this.S=this,this.J=null}function jn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new nr(e,t);else if(e instanceof nr)e.target=e.target||t;else{var i=e;T6(e=new nr(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=pv(s,r,!0,e)&&i}if(i=pv(s=e.g=t,r,!0,e)&&i,i=pv(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=pv(s=e.g=n[o],r,!1,e)&&i}function pv(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,c=s.la||s.src;s.ia&&lO(t.i,s),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}Dn(Sn,Ys),Sn.prototype[tp]=!0,Sn.prototype.removeEventListener=function(t,e,n,r){x6(this,t,e,n,r)},Sn.prototype.N=function(){if(Sn.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)hv(n[r]);delete t.g[e],t.h--}}this.J=null},Sn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Sn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var yO=ge.JSON.stringify;function nwe(){var t=vO;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var N6=new class twe{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new iwe,t=>t.reset());class iwe{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function owe(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function swe(t){ge.setTimeout(()=>{throw t},0)}let np,rp=!1,vO=new class rwe{constructor(){this.h=this.g=null}add(e,n){const r=N6.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},O6=()=>{const t=ge.Promise.resolve(void 0);np=()=>{t.then(awe)}};var awe=()=>{for(var t;t=nwe();){try{t.h.call(t.g)}catch(n){swe(n)}var e=N6;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}rp=!1};function gv(t,e){Sn.call(this),this.h=t||1,this.g=e||ge,this.j=tr(this.qb,this),this.l=Date.now()}function bO(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function wO(t,e,n){if("function"==typeof t)n&&(t=tr(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=tr(t.handleEvent,t)}return 2147483647<Number(e)?-1:ge.setTimeout(t,e||0)}function M6(t){t.g=wO(()=>{t.g=null,t.i&&(t.i=!1,M6(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Dn(gv,Sn),(X=gv.prototype).ga=!1,X.T=null,X.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),jn(this,"tick"),this.ga&&(bO(this),this.start()))}},X.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},X.N=function(){gv.$.N.call(this),bO(this),delete this.g};class cwe extends Ys{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:M6(this)}N(){super.N(),this.g&&(ge.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ip(t){Ys.call(this),this.h=t,this.g={}}Dn(ip,Ys);var R6=[];function k6(t,e,n,r){Array.isArray(n)||(n&&(R6[0]=n.toString()),n=R6);for(var i=0;i<n.length;i++){var o=E6(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function P6(t){uO(t.g,function(e,n){this.g.hasOwnProperty(n)&&pO(e)},t),t.g={}}function mv(){this.g=!0}function Al(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function hwe(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return yO(n)}catch{return e}}(t,n)+(r?" "+r:"")})}ip.prototype.N=function(){ip.$.N.call(this),P6(this)},ip.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},mv.prototype.Ea=function(){this.g=!1},mv.prototype.info=function(){};var _c={},F6=null;function _v(){return F6=F6||new Sn}function L6(t){nr.call(this,_c.Ta,t)}function op(t){const e=_v();jn(e,new L6(e))}function V6(t,e){nr.call(this,_c.STAT_EVENT,t),this.stat=e}function yr(t){const e=_v();jn(e,new V6(e,t))}function B6(t,e){nr.call(this,_c.Ua,t),this.size=e}function sp(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return ge.setTimeout(function(){t()},e)}_c.Ta="serverreachability",Dn(L6,nr),_c.STAT_EVENT="statevent",Dn(V6,nr),_c.Ua="timingevent",Dn(B6,nr);var yv={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},U6={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function IO(){}function $6(){}IO.prototype.h=null;var EO,ap={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function CO(){nr.call(this,"d")}function TO(){nr.call(this,"c")}function vv(){}function cp(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new ip(this),this.P=fwe,this.V=new gv(t=rO?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new H6}function H6(){this.i=null,this.g="",this.h=!1}Dn(CO,nr),Dn(TO,nr),Dn(vv,IO),vv.prototype.g=function(){return new XMLHttpRequest},vv.prototype.i=function(){return{}},EO=new vv;var fwe=45e3,DO={},bv={};function SO(t,e,n){t.L=1,t.v=Tv(ss(e)),t.s=n,t.S=!0,G6(t,null)}function G6(t,e){t.G=Date.now(),up(t),t.A=ss(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),e7(n.i,"t",r),t.C=0,n=t.l.J,t.h=new H6,t.g=T7(t.l,n?e:null,!t.s),0<t.O&&(t.M=new cwe(tr(t.Pa,t,t.g),t.O)),k6(t.U,t.g,"readystatechange",t.nb),e=t.I?I6(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),op(),function uwe(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var d=l.split("_");s=2<=d.length&&"type"==d[1]?s+(l+"=")+u+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.j,t.u,t.A,t.m,t.W,t.s)}function z6(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function q6(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=pwe(t,n),i==bv){4==e&&(t.o=4,yr(14),r=!1),Al(t.j,t.m,null,"[Incomplete Response]");break}if(i==DO){t.o=4,yr(15),Al(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Al(t.j,t.m,i,null),xO(t,i)}z6(t)&&i!=bv&&i!=DO&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,yr(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),PO(e),e.M=!0,yr(11))):(Al(t.j,t.m,n,"[Invalid Chunked Response]"),yc(t),lp(t))}function pwe(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?bv:(n=Number(e.substring(n,r)),isNaN(n)?DO:(r+=1)+n>e.length?bv:(e=e.slice(r,r+n),t.C=r+n,e))}function up(t){t.Y=Date.now()+t.P,W6(t,t.P)}function W6(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=sp(tr(t.lb,t),e)}function wv(t){t.B&&(ge.clearTimeout(t.B),t.B=null)}function lp(t){0==t.l.H||t.J||b7(t.l,t)}function yc(t){wv(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,bO(t.V),P6(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function xO(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||AO(n.i,t)))if(!t.K&&AO(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;Nv(n),xv(n)}kO(n),yr(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=sp(tr(n.ib,n),6e3));if(1>=r7(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else bc(n,11)}else if((t.K||n.g==t)&&Nv(n),!Xf(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],2==n.H)if("c"==u[0]){n.K=u[1],n.pa=u[2];const l=u[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=u[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=u[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const _=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_){var o=r.i;o.g||-1==_.indexOf("spdy")&&-1==_.indexOf("quic")&&-1==_.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(NO(o,o.h),o.h=null))}if(r.F){const y=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.Da=y,yt(r.I,r.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=t;if((r=n).wa=C7(r,r.J?r.pa:null,r.Y),s.K){i7(r.i,s);var a=s,c=r.L;c&&a.setTimeout(c),a.B&&(wv(a),up(a)),r.g=s}else y7(r);0<n.j.length&&Av(n)}else"stop"!=u[0]&&"close"!=u[0]||bc(n,7);else 3==n.H&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?bc(n,7):RO(n):"noop"!=u[0]&&n.h&&n.h.Aa(u),n.A=0)}op()}catch{}}function K6(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(uv(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function mwe(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(uv(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function gwe(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(uv(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(X=cp.prototype).setTimeout=function(t){this.P=t},X.nb=function(t){t=t.target;const e=this.M;e&&3==mo(t)?e.l():this.Pa(t)},X.Pa=function(t){try{if(t==this.g)e:{const l=mo(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||rO||this.g&&(this.h.h||this.g.ja()||h7(this.g)))){this.J||4!=l||7==e||op(),wv(this);var n=this.g.da();this.ca=n;t:if(z6(this)){var r=h7(this.g);t="";var i=r.length,o=4==mo(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){yc(this),lp(this);var s="";break t}this.h.i=new ge.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function lwe(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Xf(a)){var u=a;break t}}u=null}if(!(n=u)){this.i=!1,this.o=3,yr(12),yc(this),lp(this);break e}Al(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xO(this,n)}this.S?(q6(this,l,s),rO&&this.i&&3==l&&(k6(this.U,this.V,"tick",this.mb),this.V.start())):(Al(this.j,this.m,s,null),xO(this,s)),4==l&&yc(this),this.i&&!this.J&&(4==l?b7(this.l,this):(this.i=!1,up(this)))}else(function kwe(t){const e={};t=(t.g&&2<=mo(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Xf(t[r]))continue;var n=owe(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}!function Z1e(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.o=3,yr(12)):(this.o=0,yr(13)),yc(this),lp(this)}}}catch{}},X.mb=function(){if(this.g){var t=mo(this.g),e=this.g.ja();this.C<e.length&&(wv(this),q6(this,t,e),this.i&&4!=t&&up(this))}},X.cancel=function(){this.J=!0,yc(this)},X.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function dwe(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(op(),yr(17)),yc(this),this.o=2,lp(this)):W6(this,this.Y-t)};var Y6=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vc(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof vc){this.h=t.h,Iv(this,t.j),this.s=t.s,this.g=t.g,Cv(this,t.m),this.l=t.l;var e=t.i,n=new fp;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Q6(this,n),this.o=t.o}else t&&(e=String(t).match(Y6))?(this.h=!1,Iv(this,e[1]||"",!0),this.s=dp(e[2]||""),this.g=dp(e[3]||"",!0),Cv(this,e[4]),this.l=dp(e[5]||"",!0),Q6(this,e[6]||"",!0),this.o=dp(e[7]||"")):(this.h=!1,this.i=new fp(null,this.h))}function ss(t){return new vc(t)}function Iv(t,e,n){t.j=n?dp(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Cv(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Q6(t,e,n){e instanceof fp?(t.i=e,function Cwe(t,e){e&&!t.j&&(Qs(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(Z6(this,r),e7(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=hp(e,wwe)),t.i=new fp(e,t.h))}function yt(t,e,n){t.i.set(e,n)}function Tv(t){return yt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function dp(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function hp(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,ywe),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ywe(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}vc.prototype.toString=function(){var t=[],e=this.j;e&&t.push(hp(e,J6,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(hp(e,J6,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(hp(n,"/"==n.charAt(0)?bwe:vwe,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",hp(n,Iwe)),t.join("")};var J6=/[#\/\?@]/g,vwe=/[#\?:]/g,bwe=/[#\?]/g,wwe=/[#\?@]/g,Iwe=/#/g;function fp(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Qs(t){t.g||(t.g=new Map,t.h=0,t.i&&function _we(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Z6(t,e){Qs(t),e=Nl(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function X6(t,e){return Qs(t),e=Nl(t,e),t.g.has(e)}function e7(t,e,n){Z6(t,e),0<n.length&&(t.i=null,t.g.set(Nl(t,e),tO(n)),t.h+=n.length)}function Nl(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function t7(t){this.l=t||Ewe,t=ge.PerformanceNavigationTiming?0<(t=ge.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(ge.g&&ge.g.Ka&&ge.g.Ka()&&ge.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(X=fp.prototype).add=function(t,e){Qs(this),this.i=null,t=Nl(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},X.forEach=function(t,e){Qs(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},X.ta=function(){Qs(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n},X.Z=function(t){Qs(this);let e=[];if("string"==typeof t)X6(this,t)&&(e=e.concat(this.g.get(Nl(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},X.set=function(t,e){return Qs(this),this.i=null,X6(this,t=Nl(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},X.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},X.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};var Ewe=10;function n7(t){return!!t.h||!!t.g&&t.g.size>=t.j}function r7(t){return t.h?1:t.g?t.g.size:0}function AO(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function NO(t,e){t.g?t.g.add(e):t.h=e}function i7(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function o7(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return tO(t.i)}t7.prototype.cancel=function(){if(this.i=o7(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var Dwe=class{stringify(t){return ge.JSON.stringify(t,void 0)}parse(t){return ge.JSON.parse(t,void 0)}};function Swe(){this.g=new Dwe}function xwe(t,e,n){const r=n||"";try{K6(t,function(i,o){let s=i;Zf(i)&&(s=yO(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ev(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function pp(t){this.l=t.fc||null,this.j=t.ob||!1}function Dv(t,e){Sn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=OO,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Dn(pp,IO),pp.prototype.g=function(){return new Dv(this.l,this.j)},pp.prototype.i=function(t){return function(){return t}}({}),Dn(Dv,Sn);var OO=0;function s7(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function gp(t){t.readyState=4,t.l=null,t.j=null,t.A=null,mp(t)}function mp(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(X=Dv.prototype).open=function(t,e){if(this.readyState!=OO)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,mp(this)},X.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ge).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},X.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,gp(this)),this.readyState=OO},X.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,mp(this)),this.g&&(this.readyState=3,mp(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ge.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;s7(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},X.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?gp(this):mp(this),3==this.readyState&&s7(this)}},X.Za=function(t){this.g&&(this.response=this.responseText=t,gp(this))},X.Ya=function(t){this.g&&(this.response=t,gp(this))},X.ka=function(){this.g&&gp(this)},X.setRequestHeader=function(t,e){this.v.append(t,e)},X.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},X.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Dv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Nwe=ge.JSON.parse;function Vt(t){Sn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=a7,this.L=this.M=!1}Dn(Vt,Sn);var a7="",Owe=/^https?$/i,Mwe=["POST","PUT"];function c7(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,u7(t),Sv(t)}function u7(t){t.F||(t.F=!0,jn(t,"complete"),jn(t,"error"))}function l7(t){if(t.h&&typeof XN<"u"&&(!t.C[1]||4!=mo(t)||2!=t.da()))if(t.v&&4==mo(t))wO(t.La,0,t);else if(jn(t,"readystatechange"),4==mo(t)){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===s){var i=String(t.I).match(Y6)[1]||null;!i&&ge.self&&ge.self.location&&(i=ge.self.location.protocol.slice(0,-1)),r=!Owe.test(i?i.toLowerCase():"")}n=r}if(n)jn(t,"complete"),jn(t,"success");else{t.m=6;try{var o=2<mo(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",u7(t)}}finally{Sv(t)}}}function Sv(t,e){if(t.g){d7(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||jn(t,"ready");try{n.onreadystatechange=r}catch{}}}function d7(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ge.clearTimeout(t.A),t.A=null)}function mo(t){return t.g?t.g.readyState:0}function h7(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case a7:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function f7(t){let e="";return uO(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function MO(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=f7(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):yt(t,e,n))}function _p(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function p7(t){this.Ga=0,this.j=[],this.l=new mv,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=_p("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=_p("baseRetryDelayMs",5e3,t),this.hb=_p("retryDelaySeedMs",1e4,t),this.eb=_p("forwardChannelMaxRetries",2,t),this.xa=_p("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new t7(t&&t.concurrentRequestLimit),this.Ja=new Swe,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function RO(t){if(g7(t),3==t.H){var e=t.W++,n=ss(t.I);if(yt(n,"SID",t.K),yt(n,"RID",e),yt(n,"TYPE","terminate"),yp(t,n),(e=new cp(t,t.l,e)).L=2,e.v=Tv(ss(n)),n=!1,ge.navigator&&ge.navigator.sendBeacon)try{n=ge.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&ge.Image&&((new Image).src=e.v,n=!0),n||(e.g=T7(e.l,null),e.g.ha(e.v)),e.G=Date.now(),up(e)}I7(t)}function xv(t){t.g&&(PO(t),t.g.cancel(),t.g=null)}function g7(t){xv(t),t.u&&(ge.clearTimeout(t.u),t.u=null),Nv(t),t.i.cancel(),t.m&&("number"==typeof t.m&&ge.clearTimeout(t.m),t.m=null)}function Av(t){if(!n7(t.i)&&!t.m){t.m=!0;var e=t.Na;np||O6(),rp||(np(),rp=!0),vO.add(e,t),t.C=0}}function m7(t,e){var n;n=e?e.m:t.W++;const r=ss(t.I);yt(r,"SID",t.K),yt(r,"RID",n),yt(r,"AID",t.V),yp(t,r),t.o&&t.s&&MO(r,t.o,t.s),n=new cp(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=_7(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),NO(t.i,n),SO(n,r,e)}function yp(t,e){t.na&&uO(t.na,function(n,r){yt(e,r,n)}),t.h&&K6({},function(n,r){yt(e,r,n)})}function _7(t,e,n){n=Math.min(t.j.length,n);var r=t.h?tr(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];-1==o?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<n;c++){let u=i[c].g;const l=i[c].map;if(u-=o,0>u)o=Math.max(0,i[c].g-100),a=!1;else try{xwe(l,s,"req"+u+"_")}catch{r&&r(l)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function y7(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;np||O6(),rp||(np(),rp=!0),vO.add(e,t),t.A=0}}function kO(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=sp(tr(t.Ma,t),w7(t,t.A)),t.A++,0))}function PO(t){null!=t.B&&(ge.clearTimeout(t.B),t.B=null)}function v7(t){t.g=new cp(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=ss(t.wa);yt(e,"RID","rpc"),yt(e,"SID",t.K),yt(e,"AID",t.V),yt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&yt(e,"TO",t.qa),yt(e,"TYPE","xmlhttp"),yp(t,e),t.o&&t.s&&MO(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Tv(ss(e)),n.s=null,n.S=!0,G6(n,t)}function Nv(t){null!=t.v&&(ge.clearTimeout(t.v),t.v=null)}function b7(t,e){var n=null;if(t.g==e){Nv(t),PO(t),t.g=null;var r=2}else{if(!AO(t.i,e))return;n=e.F,i7(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;jn(r=_v(),new B6(r,n)),Av(t)}else y7(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function Pwe(t,e){return!(r7(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=sp(tr(t.Na,t,e),w7(t,t.C)),t.C++,0)))}(t,e)||2==r&&kO(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:bc(t,5);break;case 4:bc(t,10);break;case 3:bc(t,6);break;default:bc(t,2)}}function w7(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function bc(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=tr(t.pb,t);n||(n=new vc("//www.google.com/images/cleardot.gif"),ge.location&&"http"==ge.location.protocol||Iv(n,"https"),Tv(n)),function Awe(t,e){const n=new mv;if(ge.Image){const r=new Image;r.onload=lv(Ev,n,r,"TestLoadImage: loaded",!0,e),r.onerror=lv(Ev,n,r,"TestLoadImage: error",!1,e),r.onabort=lv(Ev,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=lv(Ev,n,r,"TestLoadImage: timeout",!1,e),ge.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else yr(2);t.H=0,t.h&&t.h.za(e),I7(t),g7(t)}function I7(t){if(t.H=0,t.ma=[],t.h){const e=o7(t.i);(0!=e.length||0!=t.j.length)&&(_6(t.ma,e),_6(t.ma,t.j),t.i.i.length=0,tO(t.j),t.j.length=0),t.h.ya()}}function C7(t,e,n){var r=n instanceof vc?ss(n):new vc(n);if(""!=r.g)e&&(r.g=e+"."+r.g),Cv(r,r.m);else{var i=ge.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new vc(null);r&&Iv(o,r),e&&(o.g=e),i&&Cv(o,i),n&&(o.l=n),r=o}return e=t.Da,(n=t.F)&&e&&yt(r,n,e),yt(r,"VER",t.ra),yp(t,r),r}function T7(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Vt(n&&t.Ha&&!t.va?new pp({ob:!0}):t.va)).Oa(t.J),e}function E7(){}function Ov(){if(xl&&!(10<=Number(K1e)))throw Error("Environmental error: no available transport.")}function Xr(t,e){Sn.call(this),this.g=new p7(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Xf(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Xf(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Ol(this)}function D7(t){CO.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function S7(){TO.call(this),this.status=1}function Ol(t){this.g=t}function Vi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function FO(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var o=t.g[3],s=(e=t.g[0])+(o^(n=t.g[1])&((i=t.g[2])^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=n+(s<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=n+((s=e+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(e^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}function ot(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=0|t[i];r&&o==e||(n[i]=o,r=!1)}this.g=n}(X=Vt.prototype).Oa=function(t){this.M=t},X.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():EO.g(),this.C=function j6(t){return t.h||(t.h=t.i())}(this.u?this.u:EO),this.g.onreadystatechange=tr(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){return void c7(this,o)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const o of r.keys())n.set(o,r.get(o))}r=Array.from(n.keys()).find(o=>"content-type"==o.toLowerCase()),i=ge.FormData&&t instanceof ge.FormData,!(0<=m6(Mwe,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{d7(this),0<this.B&&((this.L=function Rwe(t){return xl&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=tr(this.ua,this)):this.A=wO(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){c7(this,o)}},X.ua=function(){typeof XN<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,jn(this,"timeout"),this.abort(8))},X.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,jn(this,"complete"),jn(this,"abort"),Sv(this))},X.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Sv(this,!0)),Vt.$.N.call(this)},X.La=function(){this.s||(this.G||this.v||this.l?l7(this):this.kb())},X.kb=function(){l7(this)},X.isActive=function(){return!!this.g},X.da=function(){try{return 2<mo(this)?this.g.status:-1}catch{return-1}},X.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},X.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Nwe(e)}},X.Ia=function(){return this.m},X.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(X=p7.prototype).ra=8,X.H=1,X.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new cp(this,this.l,t);let o=this.s;if(this.U&&(o?(o=I6(o),T6(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=_7(this,i,e),yt(n=ss(this.I),"RID",t),yt(n,"CVER",22),this.F&&yt(n,"X-HTTP-Session-Id",this.F),yp(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(f7(o)))+"&"+e:this.o&&MO(n,this.o,o)),NO(this.i,i),this.bb&&yt(n,"TYPE","init"),this.P?(yt(n,"$req",e),yt(n,"SID","null"),i.aa=!0,SO(i,n,null)):SO(i,n,e),this.H=2}}else 3==this.H&&(t?m7(this,t):0==this.j.length||n7(this.i)||m7(this))},X.Ma=function(){if(this.u=null,v7(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=sp(tr(this.jb,this),t)}},X.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,yr(10),xv(this),v7(this))},X.ib=function(){null!=this.v&&(this.v=null,xv(this),kO(this),yr(19))},X.pb=function(t){t?(this.l.info("Successfully pinged google.com"),yr(2)):(this.l.info("Failed to ping google.com"),yr(1))},X.isActive=function(){return!!this.h&&this.h.isActive(this)},(X=E7.prototype).Ba=function(){},X.Aa=function(){},X.za=function(){},X.ya=function(){},X.isActive=function(){return!0},X.Va=function(){},Ov.prototype.g=function(t,e){return new Xr(t,e)},Dn(Xr,Sn),Xr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;yr(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=C7(t,null,t.Y),Av(t)},Xr.prototype.close=function(){RO(this.g)},Xr.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=yO(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&Av(e)},Xr.prototype.N=function(){this.g.h=null,delete this.j,RO(this.g),delete this.g,Xr.$.N.call(this)},Dn(D7,CO),Dn(S7,TO),Dn(Ol,E7),Ol.prototype.Ba=function(){jn(this.g,"a")},Ol.prototype.Aa=function(t){jn(this.g,new D7(t))},Ol.prototype.za=function(t){jn(this.g,new S7)},Ol.prototype.ya=function(){jn(this.g,"b")},Dn(Vi,function Fwe(){this.blockSize=-1}),Vi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Vi.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(0==i)for(;o<=n;)FO(this,t,o),o+=this.blockSize;if("string"==typeof t){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){FO(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){FO(this,r),i=0;break}}this.h=i,this.i+=e},Vi.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var Lwe={};function LO(t){return-128<=t&&128>t?function z1e(t,e){var n=Lwe;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new ot([0|e],0>e?-1:0)}):new ot([0|t],0>t?-1:0)}function _o(t){if(isNaN(t)||!isFinite(t))return Ml;if(0>t)return $n(_o(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=VO;return new ot(e,0)}var VO=4294967296,Ml=LO(0),BO=LO(1),A7=LO(16777216);function as(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function bi(t){return-1==t.h}function $n(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new ot(n,~t.h).add(BO)}function Mv(t,e){return t.add($n(e))}function Rv(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function vp(t,e){this.g=t,this.h=e}function kv(t,e){if(as(e))throw Error("division by zero");if(as(t))return new vp(Ml,Ml);if(bi(t))return e=kv($n(t),e),new vp($n(e.g),$n(e.h));if(bi(e))return e=kv(t,$n(e)),new vp($n(e.g),e.h);if(30<t.g.length){if(bi(t)||bi(e))throw Error("slowDivide_ only works with positive integers.");for(var n=BO,r=e;0>=r.X(t);)n=N7(n),r=N7(r);var i=Rl(n,1),o=Rl(r,1);for(r=Rl(r,2),n=Rl(n,2);!as(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=Rl(r,1),n=Rl(n,1)}return e=Mv(t,i.R(e)),new vp(i,e)}for(i=Ml;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=_o(n)).R(e);bi(s)||0<s.X(t);)s=(o=_o(n-=r)).R(e);as(o)&&(o=BO),i=i.add(o),t=Mv(t,s)}return new vp(i,t)}function N7(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new ot(n,t.h)}function Rl(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new ot(i,t.h)}(X=ot.prototype).ea=function(){if(bi(this))return-$n(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:VO+r)*e,e*=VO}return t},X.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(as(this))return"0";if(bi(this))return"-"+$n(this).toString(t);for(var e=_o(Math.pow(t,6)),n=this,r="";;){var i=kv(n,e).g,o=((0<(n=Mv(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(as(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},X.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},X.X=function(t){return bi(t=Mv(this,t))?-1:as(t)?0:1},X.abs=function(){return bi(this)?$n(this):this},X.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(65535&this.D(i))+(65535&t.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,n[i]=(s&=65535)<<16|(o&=65535)}return new ot(n,-2147483648&n[n.length-1]?-1:0)},X.R=function(t){if(as(this)||as(t))return Ml;if(bi(this))return bi(t)?$n(this).R($n(t)):$n($n(this).R(t));if(bi(t))return $n(this.R($n(t)));if(0>this.X(A7)&&0>t.X(A7))return _o(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=t.D(i)>>>16,c=65535&t.D(i);n[2*r+2*i]+=s*c,Rv(n,2*r+2*i),n[2*r+2*i+1]+=o*c,Rv(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,Rv(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,Rv(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new ot(n,0)},X.gb=function(t){return kv(this,t).h},X.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new ot(n,this.h&t.h)},X.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new ot(n,this.h|t.h)},X.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new ot(n,this.h^t.h)},Ov.prototype.createWebChannel=Ov.prototype.g,Xr.prototype.send=Xr.prototype.u,Xr.prototype.open=Xr.prototype.m,Xr.prototype.close=Xr.prototype.close,yv.NO_ERROR=0,yv.TIMEOUT=8,yv.HTTP_ERROR=6,U6.COMPLETE="complete",$6.EventType=ap,ap.OPEN="a",ap.CLOSE="b",ap.ERROR="c",ap.MESSAGE="d",Sn.prototype.listen=Sn.prototype.O,Vt.prototype.listenOnce=Vt.prototype.P,Vt.prototype.getLastError=Vt.prototype.Sa,Vt.prototype.getLastErrorCode=Vt.prototype.Ia,Vt.prototype.getStatus=Vt.prototype.da,Vt.prototype.getResponseJson=Vt.prototype.Wa,Vt.prototype.getResponseText=Vt.prototype.ja,Vt.prototype.send=Vt.prototype.ha,Vt.prototype.setWithCredentials=Vt.prototype.Oa,Vi.prototype.digest=Vi.prototype.l,Vi.prototype.reset=Vi.prototype.reset,Vi.prototype.update=Vi.prototype.j,ot.prototype.add=ot.prototype.add,ot.prototype.multiply=ot.prototype.R,ot.prototype.modulo=ot.prototype.gb,ot.prototype.compare=ot.prototype.X,ot.prototype.toNumber=ot.prototype.ea,ot.prototype.toString=ot.prototype.toString,ot.prototype.getBits=ot.prototype.D,ot.fromNumber=_o,ot.fromString=function x7(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return $n(x7(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=_o(Math.pow(e,8)),r=Ml,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=_o(Math.pow(e,o)),r=r.R(o).add(_o(s))):r=(r=r.R(n)).add(_o(s))}return r};var Vwe=Li.createWebChannelTransport=function(){return new Ov},Bwe=Li.getStatEventTarget=function(){return _v()},UO=Li.ErrorCode=yv,Uwe=Li.EventType=U6,jwe=Li.Event=_c,O7=Li.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},$we=Li.FetchXmlHttpFactory=pp,Pv=Li.WebChannel=$6,Hwe=Li.XhrIo=Vt,Gwe=Li.Md5=Vi,kl=Li.Integer=ot;const M7="@firebase/firestore";class xn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xn.UNAUTHENTICATED=new xn(null),xn.GOOGLE_CREDENTIALS=new xn("google-credentials-uid"),xn.FIRST_PARTY=new xn("first-party-uid"),xn.MOCK_USER=new xn("mock-user");let Pl="9.23.0";const Js=new Us("@firebase/firestore");function jO(){return Js.logLevel}function j(t,...e){if(Js.logLevel<=Ae.DEBUG){const n=e.map($O);Js.debug(`Firestore (${Pl}): ${t}`,...n)}}function Yt(t,...e){if(Js.logLevel<=Ae.ERROR){const n=e.map($O);Js.error(`Firestore (${Pl}): ${t}`,...n)}}function Bi(t,...e){if(Js.logLevel<=Ae.WARN){const n=e.map($O);Js.warn(`Firestore (${Pl}): ${t}`,...n)}}function $O(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function re(t="Unexpected state"){const e=`FIRESTORE (${Pl}) INTERNAL ASSERTION FAILED: `+t;throw Yt(e),new Error(e)}function oe(t,e){t||re()}function Z(t,e){return t}const N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class B extends Fi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class pn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class R7{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zwe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(xn.UNAUTHENTICATED))}shutdown(){}}class qwe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Wwe{constructor(e){this.t=e,this.currentUser=xn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const o=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let s=new pn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new pn,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const u=s;e.enqueueRetryable(p(function*(){yield u.promise,yield o(r.currentUser)}))},c=u=>{j("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(j("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new pn)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(j("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(oe("string"==typeof r.accessToken),new R7(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return oe(null===e||"string"==typeof e),new xn(e)}}class Kwe{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=xn.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Ywe{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new Kwe(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(xn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class k7{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Qwe{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=o=>{null!=o.error&&j("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.T;return this.T=o.token,j("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{j("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?i(o):j("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(oe("string"==typeof n.token),this.T=n.token,new k7(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Jwe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class P7{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=Jwe(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[o]%62))}return r}}function he(t,e){return t<e?-1:t>e?1:0}function Fl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Mt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new B(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new B(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new B(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new B(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Mt.fromMillis(Date.now())}static fromDate(e){return Mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Mt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?he(this.nanoseconds,e.nanoseconds):he(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class se{constructor(e){this.timestamp=e}static fromTimestamp(e){return new se(e)}static min(){return new se(new Mt(0,0))}static max(){return new se(new Mt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class bp{constructor(e,n,r){void 0===n?n=0:n>e.length&&re(),void 0===r?r=e.length-n:r>e.length-n&&re(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===bp.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof bp?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ke extends bp{construct(e,n,r){return new ke(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new B(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ke(n)}static emptyPath(){return new ke([])}}const Zwe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends bp{construct(e,n,r){return new Qt(e,n,r)}static isValidIdentifier(e){return Zwe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Qt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(0===r.length)throw new B(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new B(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new B(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new B(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(n)}static emptyPath(){return new Qt([])}}class J{constructor(e){this.path=e}static fromPath(e){return new J(ke.fromString(e))}static fromName(e){return new J(ke.fromString(e).popFirst(5))}static empty(){return new J(ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ke.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new J(new ke(e.slice()))}}function V7(t){return new ei(t.readTime,t.key,-1)}class ei{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ei(se.min(),J.empty(),-1)}static max(){return new ei(se.max(),J.empty(),-1)}}function GO(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=J.comparator(t.documentKey,e.documentKey),0!==n?n:he(t.largestBatchId,e.largestBatchId))}const B7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tIe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Zs(t){return zO.apply(this,arguments)}function zO(){return zO=p(function*(t){if(t.code!==N.FAILED_PRECONDITION||t.message!==B7)throw t;j("LocalStore","Unexpectedly lost primary lease")}),zO.apply(this,arguments)}class x{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new x((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof x?n:x.resolve(n)}catch(n){return x.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):x.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):x.reject(n)}static resolve(e){return new x((n,r)=>{n(e)})}static reject(e){return new x((n,r)=>{r(e)})}static waitFor(e){return new x((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},c=>r(c))}),s=!0,o===i&&n()})}static or(e){let n=x.resolve(!1);for(const r of e)n=n.next(i=>i?x.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new x((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let c=0;c<o;c++){const u=c;n(e[u]).next(l=>{s[u]=l,++a,a===o&&r(s)},l=>i(l))}})}static doWhile(e,n){return new x((r,i)=>{const o=()=>{!0===e()?n().next(()=>{o()},i):r()};o()})}}function Xs(t){return"IndexedDbTransactionError"===t.name}let ti=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function Cp(t){return null==t}function Tp(t){return 0===t&&1/t==-1/0}function K7(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ea(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Y7(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class gt{constructor(e,n){this.comparator=e,this.root=n||Hn.EMPTY}insert(e,n){return new gt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Hn.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Hn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uv(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uv(this.root,e,this.comparator,!0)}}class Uv{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Hn{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Hn.RED,this.left=i??Hn.EMPTY,this.right=o??Hn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Hn(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===o?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Hn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Hn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw re();const e=this.left.check();if(e!==this.right.check())throw re();return e+(this.isRed()?0:1)}}Hn.EMPTY=null,Hn.RED=!0,Hn.BLACK=!1,Hn.EMPTY=new class{constructor(){this.size=0}get key(){throw re()}get value(){throw re()}get color(){throw re()}get left(){throw re()}get right(){throw re()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Hn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class vt{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Q7(this.data.getIterator())}getIteratorFrom(e){return new Q7(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new vt(this.comparator);return n.data=e,n}}class Q7{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Lr{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new Lr([])}unionWith(e){let n=new vt(Qt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Lr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Fl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class J7 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class gn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new J7("Invalid base64 string: "+i):i}}(e);return new gn(n)}static fromUint8Array(e){const n=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(e);return new gn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return he(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gn.EMPTY_BYTE_STRING=new gn("");const TIe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ta(t){if(oe(!!t),"string"==typeof t){let e=0;const n=TIe.exec(t);if(oe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Bt(t.seconds),nanos:Bt(t.nanos)}}function Bt(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function cs(t){return"string"==typeof t?gn.fromBase64String(t):gn.fromUint8Array(t)}function jv(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function $v(t){const e=t.mapValue.fields.__previous_value__;return jv(e)?$v(e):e}function Ep(t){const e=ta(t.mapValue.fields.__local_write_time__.timestampValue);return new Mt(e.seconds,e.nanos)}class EIe{constructor(e,n,r,i,o,s,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}}class Cc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Cc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Cc&&e.projectId===this.projectId&&e.database===this.database}}const na={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ra(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?jv(t)?4:t8(t)?9007199254740991:10:re()}function vo(t,e){if(t===e)return!0;const n=ra(t);if(n!==ra(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ep(t).isEqual(Ep(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=ta(r.timestampValue),s=ta(i.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,cs(t.bytesValue).isEqual(cs(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Bt(r.geoPointValue.latitude)===Bt(i.geoPointValue.latitude)&&Bt(r.geoPointValue.longitude)===Bt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Bt(r.integerValue)===Bt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=Bt(r.doubleValue),s=Bt(i.doubleValue);return o===s?Tp(o)===Tp(s):isNaN(o)&&isNaN(s)}return!1}(t,e);case 9:return Fl(t.arrayValue.values||[],e.arrayValue.values||[],vo);case 10:return function(r,i){const o=r.mapValue.fields||{},s=i.mapValue.fields||{};if(K7(o)!==K7(s))return!1;for(const a in o)if(o.hasOwnProperty(a)&&(void 0===s[a]||!vo(o[a],s[a])))return!1;return!0}(t,e);default:return re()}var i}function Dp(t,e){return void 0!==(t.values||[]).find(n=>vo(n,e))}function ia(t,e){if(t===e)return 0;const n=ra(t),r=ra(e);if(n!==r)return he(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return he(t.booleanValue,e.booleanValue);case 2:return function(i,o){const s=Bt(i.integerValue||i.doubleValue),a=Bt(o.integerValue||o.doubleValue);return s<a?-1:s>a?1:s===a?0:isNaN(s)?isNaN(a)?0:-1:1}(t,e);case 3:return Z7(t.timestampValue,e.timestampValue);case 4:return Z7(Ep(t),Ep(e));case 5:return he(t.stringValue,e.stringValue);case 6:return function(i,o){const s=cs(i),a=cs(o);return s.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const s=i.split("/"),a=o.split("/");for(let c=0;c<s.length&&c<a.length;c++){const u=he(s[c],a[c]);if(0!==u)return u}return he(s.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const s=he(Bt(i.latitude),Bt(o.latitude));return 0!==s?s:he(Bt(i.longitude),Bt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const s=i.values||[],a=o.values||[];for(let c=0;c<s.length&&c<a.length;++c){const u=ia(s[c],a[c]);if(u)return u}return he(s.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===na.mapValue&&o===na.mapValue)return 0;if(i===na.mapValue)return 1;if(o===na.mapValue)return-1;const s=i.fields||{},a=Object.keys(s),c=o.fields||{},u=Object.keys(c);a.sort(),u.sort();for(let l=0;l<a.length&&l<u.length;++l){const d=he(a[l],u[l]);if(0!==d)return d;const h=ia(s[a[l]],c[u[l]]);if(0!==h)return h}return he(a.length,u.length)}(t.mapValue,e.mapValue);default:throw re()}}function Z7(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return he(t,e);const n=ta(t),r=ta(e),i=he(n.seconds,r.seconds);return 0!==i?i:he(n.nanos,r.nanos)}function Vl(t){return KO(t)}function KO(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=ta(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?cs(t.bytesValue).toBase64():"referenceValue"in t?J.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",o=!0;for(const s of r.values||[])o?o=!1:i+=",",i+=KO(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let o="{",s=!0;for(const a of i)s?s=!1:o+=",",o+=`${a}:${KO(r.fields[a])}`;return o+"}"}(t.mapValue):re();var e}function Tc(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function YO(t){return!!t&&"integerValue"in t}function Sp(t){return!!t&&"arrayValue"in t}function X7(t){return!!t&&"nullValue"in t}function e8(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function zv(t){return!!t&&"mapValue"in t}function xp(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ea(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=xp(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=xp(t.arrayValue.values[n]);return e}return Object.assign({},t)}function t8(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Gn{constructor(e){this.value=e}static empty(){return new Gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!zv(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=xp(n)}setAll(e){let n=Qt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=xp(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());zv(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return vo(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];zv(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ea(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Gn(xp(this.value))}}function i8(t){const e=[];return ea(t.fields,(n,r)=>{const i=new Qt([n]);if(zv(r)){const o=i8(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Lr(e)}class bt{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new bt(e,0,se.min(),se.min(),se.min(),Gn.empty(),0)}static newFoundDocument(e,n,r,i){return new bt(e,1,n,se.min(),r,i,0)}static newNoDocument(e,n){return new bt(e,2,n,se.min(),se.min(),Gn.empty(),0)}static newUnknownDocument(e,n){return new bt(e,3,n,se.min(),se.min(),Gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(se.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class oa{constructor(e,n){this.position=e,this.inclusive=n}}function o8(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(r=o.field.isKeyField()?J.comparator(J.fromName(s.referenceValue),n.key):ia(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function s8(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!vo(t.position[n],e.position[n]))return!1;return!0}class Bl{constructor(e,n="asc"){this.field=e,this.dir=n}}function xIe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class a8{}class xe extends a8{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new AIe(e,n,r):"array-contains"===n?new MIe(e,r):"in"===n?new f8(e,r):"not-in"===n?new RIe(e,r):"array-contains-any"===n?new kIe(e,r):new xe(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new NIe(e,r):new OIe(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(ia(n,this.value)):null!==n&&ra(this.value)===ra(n)&&this.matchesComparison(ia(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class st extends a8{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new st(e,n)}matches(e){return Ul(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Ul(t){return"and"===t.op}function JO(t){return function c8(t){for(const e of t.filters)if(e instanceof st)return!1;return!0}(t)&&Ul(t)}function ZO(t){if(t instanceof xe)return t.field.canonicalString()+t.op.toString()+Vl(t.value);if(JO(t))return t.filters.map(e=>ZO(e)).join(",");{const e=t.filters.map(n=>ZO(n)).join(",");return`${t.op}(${e})`}}function u8(t,e){return t instanceof xe?(n=t,(r=e)instanceof xe&&n.op===r.op&&n.field.isEqual(r.field)&&vo(n.value,r.value)):t instanceof st?function(n,r){return r instanceof st&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,o,s)=>i&&u8(o,r.filters[s]),!0)}(t,e):void re();var n,r}function d8(t){return t instanceof xe?function(e){return`${e.field.canonicalString()} ${e.op} ${Vl(e.value)}`}(t):t instanceof st?function(e){return e.op.toString()+" {"+e.getFilters().map(d8).join(" ,")+"}"}(t):"Filter"}class AIe extends xe{constructor(e,n,r){super(e,n,r),this.key=J.fromName(r.referenceValue)}matches(e){const n=J.comparator(e.key,this.key);return this.matchesComparison(n)}}class NIe extends xe{constructor(e,n){super(e,"in",n),this.keys=h8(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class OIe extends xe{constructor(e,n){super(e,"not-in",n),this.keys=h8(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function h8(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>J.fromName(r.referenceValue))}class MIe extends xe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Sp(n)&&Dp(n.arrayValue,this.value)}}class f8 extends xe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Dp(this.value.arrayValue,n)}}class RIe extends xe{constructor(e,n){super(e,"not-in",n)}matches(e){if(Dp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Dp(this.value.arrayValue,n)}}class kIe extends xe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Sp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Dp(this.value.arrayValue,r))}}class PIe{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.dt=null}}function XO(t,e=null,n=[],r=[],i=null,o=null,s=null){return new PIe(t,e,n,r,i,o,s)}function Ec(t){const e=Z(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ZO(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Cp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Vl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Vl(r)).join(",")),e.dt=n}return e.dt}function Ap(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!xIe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!u8(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!s8(t.startAt,e.startAt)&&s8(t.endAt,e.endAt)}function qv(t){return J.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class us{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.wt=null,this._t=null}}function jl(t){return new us(t)}function _8(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function eM(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Kv(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function tM(t){return null!==t.collectionGroup}function Dc(t){const e=Z(t);if(null===e.wt){e.wt=[];const n=Kv(e),r=eM(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new Bl(n)),e.wt.push(new Bl(Qt.keyField(),"asc"));else{let i=!1;for(const o of e.explicitOrderBy)e.wt.push(o),o.field.isKeyField()&&(i=!0);if(!i){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Bl(Qt.keyField(),o))}}}return e.wt}function vr(t){const e=Z(t);if(!e._t)if("F"===e.limitType)e._t=XO(e.path,e.collectionGroup,Dc(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const o of Dc(e))n.push(new Bl(o.field,"desc"===o.dir?"asc":"desc"));const r=e.endAt?new oa(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new oa(e.startAt.position,e.startAt.inclusive):null;e._t=XO(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function nM(t,e){e.getFirstInequalityField(),Kv(t);const n=t.filters.concat([e]);return new us(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Yv(t,e,n){return new us(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Np(t,e){return Ap(vr(t),vr(e))&&t.limitType===e.limitType}function y8(t){return`${Ec(vr(t))}|lt:${t.limitType}`}function rM(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>d8(r)).join(", ")}]`),Cp(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Vl(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Vl(r)).join(",")),`Target(${n})`}(vr(t))}; limitType=${t.limitType})`}function Op(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):J.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Dc(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,o,s){const a=o8(i,o,s);return i.inclusive?a<=0:a<0}(n.startAt,Dc(n),r)||n.endAt&&!function(i,o,s){const a=o8(i,o,s);return i.inclusive?a>=0:a>0}(n.endAt,Dc(n),r)));var n,r}function b8(t){return(e,n)=>{let r=!1;for(const i of Dc(t)){const o=FIe(i,e,n);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function FIe(t,e,n){const r=t.field.isKeyField()?J.comparator(e.key,n.key):function(i,o,s){const a=o.data.field(i),c=s.data.field(i);return null!==a&&null!==c?ia(a,c):re()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return re()}}class ls{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ea(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return Y7(this.inner)}size(){return this.innerSize}}const LIe=new gt(J.comparator);function Vr(){return LIe}const w8=new gt(J.comparator);function Mp(...t){let e=w8;for(const n of t)e=e.insert(n.key,n);return e}function I8(t){let e=w8;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function bo(){return Rp()}function C8(){return Rp()}function Rp(){return new ls(t=>t.toString(),(t,e)=>t.isEqual(e))}const VIe=new gt(J.comparator),BIe=new vt(J.comparator);function be(...t){let e=BIe;for(const n of t)e=e.add(n);return e}const UIe=new vt(he);function T8(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tp(e)?"-0":e}}function E8(t){return{integerValue:""+t}}function D8(t,e){return function j7(t){return"number"==typeof t&&Number.isInteger(t)&&!Tp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?E8(e):T8(t,e)}class Qv{constructor(){this._=void 0}}function jIe(t,e,n){return t instanceof $l?function(r,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&jv(i)&&(i=$v(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Sc?x8(t,e):t instanceof xc?A8(t,e):function(r,i){const o=S8(r,i),s=N8(o)+N8(r.gt);return YO(o)&&YO(r.gt)?E8(s):T8(r.serializer,s)}(t,e)}function $Ie(t,e,n){return t instanceof Sc?x8(t,e):t instanceof xc?A8(t,e):n}function S8(t,e){return t instanceof Hl?YO(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class $l extends Qv{}class Sc extends Qv{constructor(e){super(),this.elements=e}}function x8(t,e){const n=O8(e);for(const r of t.elements)n.some(i=>vo(i,r))||n.push(r);return{arrayValue:{values:n}}}class xc extends Qv{constructor(e){super(),this.elements=e}}function A8(t,e){let n=O8(e);for(const r of t.elements)n=n.filter(i=>!vo(i,r));return{arrayValue:{values:n}}}class Hl extends Qv{constructor(e,n){super(),this.serializer=e,this.gt=n}}function N8(t){return Bt(t.integerValue||t.doubleValue)}function O8(t){return Sp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class kp{constructor(e,n){this.field=e,this.transform=n}}class GIe{constructor(e,n){this.version=e,this.transformResults=n}}class Et{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Et}static exists(e){return new Et(void 0,e)}static updateTime(e){return new Et(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jv(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Zv{}function M8(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new zl(t.key,Et.none()):new Gl(t.key,t.data,Et.none());{const n=t.data,r=Gn.empty();let i=new vt(Qt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);null===s&&o.length>1&&(o=o.popLast(),s=n.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new ds(t.key,r,new Lr(i.toArray()),Et.none())}}function zIe(t,e,n){t instanceof Gl?function(r,i,o){const s=r.value.clone(),a=P8(r.fieldTransforms,i,o.transformResults);s.setAll(a),i.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,n):t instanceof ds?function(r,i,o){if(!Jv(r.precondition,i))return void i.convertToUnknownDocument(o.version);const s=P8(r.fieldTransforms,i,o.transformResults),a=i.data;a.setAll(k8(r)),a.setAll(s),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Pp(t,e,n,r){return t instanceof Gl?function(i,o,s,a){if(!Jv(i.precondition,o))return s;const c=i.value.clone(),u=F8(i.fieldTransforms,a,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof ds?function(i,o,s,a){if(!Jv(i.precondition,o))return s;const c=F8(i.fieldTransforms,a,o),u=o.data;return u.setAll(k8(i)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null===s?null:s.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(s=n,Jv(t.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s);var o,s}function qIe(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=S8(r.transform,i||null);null!=o&&(null===n&&(n=Gn.empty()),n.set(r.field,o))}return n||null}function R8(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&Fl(n,r,(i,o)=>function HIe(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof Sc&&r instanceof Sc||n instanceof xc&&r instanceof xc?Fl(n.elements,r.elements,vo):n instanceof Hl&&r instanceof Hl?vo(n.gt,r.gt):n instanceof $l&&r instanceof $l);var n,r}(i,o))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class Gl extends Zv{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ds extends Zv{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function k8(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function P8(t,e,n){const r=new Map;oe(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,$Ie(s,a,n[i]))}return r}function F8(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,jIe(o,s,e))}return r}class zl extends Zv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oM extends Zv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class sM{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&zIe(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Pp(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Pp(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=C8();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const c=M8(s,a);null!==c&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),be())}isEqual(e){return this.batchId===e.batchId&&Fl(this.mutations,e.mutations,(n,r)=>R8(n,r))&&Fl(this.baseMutations,e.baseMutations,(n,r)=>R8(n,r))}}class aM{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){oe(e.mutations.length===r.length);let i=VIe;const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new aM(e,n,r,i)}}class cM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class KIe{constructor(e,n){this.count=e,this.unchangedNames=n}}var sn,Pe;function V8(t){if(void 0===t)return Yt("GRPC error has no .code"),N.UNKNOWN;switch(t){case sn.OK:return N.OK;case sn.CANCELLED:return N.CANCELLED;case sn.UNKNOWN:return N.UNKNOWN;case sn.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case sn.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case sn.INTERNAL:return N.INTERNAL;case sn.UNAVAILABLE:return N.UNAVAILABLE;case sn.UNAUTHENTICATED:return N.UNAUTHENTICATED;case sn.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case sn.NOT_FOUND:return N.NOT_FOUND;case sn.ALREADY_EXISTS:return N.ALREADY_EXISTS;case sn.PERMISSION_DENIED:return N.PERMISSION_DENIED;case sn.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case sn.ABORTED:return N.ABORTED;case sn.OUT_OF_RANGE:return N.OUT_OF_RANGE;case sn.UNIMPLEMENTED:return N.UNIMPLEMENTED;case sn.DATA_LOSS:return N.DATA_LOSS;default:return re()}}(Pe=sn||(sn={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";class uM{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Xv}static getOrCreateInstance(){return null===Xv&&(Xv=new uM),Xv}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Xv=null;const YIe=new kl([4294967295,4294967295],0);function U8(t){const e=function B8(){return new TextEncoder}().encode(t),n=new Gwe;return n.update(e),new Uint8Array(n.digest())}function j8(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new kl([n,r],0),new kl([i,o],0)]}class lM{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Fp(`Invalid padding: ${n}`);if(r<0)throw new Fp(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Fp(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new Fp(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=kl.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(kl.fromNumber(r)));return 1===i.compare(YIe)&&(i=new kl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=U8(e),[r,i]=j8(n);for(let o=0;o<this.hashCount;o++){const s=this.Et(r,i,o);if(!this.At(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new lM(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(0===this.It)return;const n=U8(e),[r,i]=j8(n);for(let o=0;o<this.hashCount;o++){const s=this.Et(r,i,o);this.Rt(s)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Fp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Lp{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Vp.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Lp(se.min(),i,new gt(he),Vr(),be())}}class Vp{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Vp(r,n,be(),be(),be())}}class e0{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class $8{constructor(e,n){this.targetId=e,this.Vt=n}}class H8{constructor(e,n,r=gn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class G8{constructor(){this.St=0,this.Dt=q8(),this.Ct=gn.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=be(),n=be(),r=be();return this.Dt.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:re()}}),new Vp(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=q8()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class QIe{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Vr(),this.zt=z8(),this.Wt=new gt(he)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:re()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,o=this.se(r);if(o){const s=o.target;if(qv(s))if(0===i){const a=new J(s.path);this.Yt(r,a,bt.newNoDocument(a,se.min()))}else oe(1===i);else{const a=this.ie(r);if(a!==i){const c=this.re(e,a);0!==c&&(this.ee(r),this.Wt=this.Wt.insert(r,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=uM.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(u,l,d){var h,f,_,y,v,T;const w={localCacheCount:l,existenceFilterCount:d.count},M=d.unchangedNames;return M&&(w.bloomFilter={applied:0===u,hashCount:null!==(h=M?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(y=null===(_=null===(f=M?.bits)||void 0===f?void 0:f.bitmap)||void 0===_?void 0:_.length)&&void 0!==y?y:0,padding:null!==(T=null===(v=M?.bits)||void 0===v?void 0:v.padding)&&void 0!==T?T:0}),w}(c,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:o="",padding:s=0},hashCount:a=0}=r;let c,u;try{c=cs(o).toUint8Array()}catch(l){if(l instanceof J7)return Bi("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{u=new lM(c,s,a)}catch(l){return Bi(l instanceof Fp?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return 0===u.It?1:i!==n-this.oe(e.targetId,u)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(o=>{const s=this.Gt.ue(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;n.vt(a)||(this.Yt(e,o,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((o,s)=>{const a=this.se(s);if(a){if(o.current&&qv(a.target)){const c=new J(a.target.path);null!==this.jt.get(c)||this.ae(s,c)||this.Yt(s,c,bt.newNoDocument(c,e))}o.Mt&&(n.set(s,o.Ot()),o.Ft())}});let r=be();this.zt.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{const u=this.se(c);return!u||"TargetPurposeLimboResolution"===u.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.jt.forEach((o,s)=>s.setReadTime(e));const i=new Lp(e,n,this.Wt,this.jt,r);return this.jt=Vr(),this.zt=z8(),this.Wt=new gt(he),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new G8,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new vt(he),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||j("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new G8),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function z8(){return new gt(J.comparator)}function q8(){return new gt(J.comparator)}const JIe={asc:"ASCENDING",desc:"DESCENDING"},ZIe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XIe={and:"AND",or:"OR"};class eCe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function dM(t,e){return t.useProto3Json||Cp(e)?e:{value:e}}function ql(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function W8(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function tCe(t,e){return ql(t,e.toTimestamp())}function Jt(t){return oe(!!t),se.fromTimestamp(function(e){const n=ta(e);return new Mt(n.seconds,n.nanos)}(t))}function hM(t,e){return(n=t,new ke(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function K8(t){const e=ke.fromString(t);return oe(rz(e)),e}function Bp(t,e){return hM(t.databaseId,e.path)}function wo(t,e){const n=K8(e);if(n.get(1)!==t.databaseId.projectId)throw new B(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new B(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new J(Q8(n))}function fM(t,e){return hM(t.databaseId,e)}function Up(t){return new ke(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Q8(t){return oe(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function J8(t,e,n){return{name:Bp(t,e),fields:n.value.mapValue.fields}}function X8(t,e){return{documents:[fM(t,e.path)]}}function gM(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=fM(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=fM(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(c){if(0!==c.length)return nz(st.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(0!==c.length)return c.map(u=>{return{field:sa((l=u).field),direction:sCe(l.dir)};var l})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=dM(t,e.limit);var a,c;return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(c=e.endAt).inclusive,values:c.position}),n}function ez(t){let e=function Y8(t){const e=K8(t);return 4===e.length?ke.emptyPath():Q8(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){oe(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let o=[];n.where&&(o=function(l){const d=tz(l);return d instanceof st&&JO(d)?d.getFilters():[d]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(l=>{return new Bl(Wl((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,Cp(d)?null:d}(n.limit));let c=null;var l;n.startAt&&(c=new oa((l=n.startAt).values||[],!!l.before));let u=null;return n.endAt&&(u=function(l){return new oa(l.values||[],!l.before)}(n.endAt)),function m8(t,e,n,r,i,o,s,a){return new us(t,e,n,r,i,o,s,a)}(e,i,s,o,a,"F",c,u)}function tz(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Wl(e.unaryFilter.field);return xe.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Wl(e.unaryFilter.field);return xe.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Wl(e.unaryFilter.field);return xe.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Wl(e.unaryFilter.field);return xe.create(o,"!=",{nullValue:"NULL_VALUE"});default:return re()}}(t):void 0!==t.fieldFilter?function(e){return xe.create(Wl(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return re()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(e){return st.create(e.compositeFilter.filters.map(n=>tz(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return re()}}(e.compositeFilter.op))}(t):re()}function sCe(t){return JIe[t]}function aCe(t){return ZIe[t]}function cCe(t){return XIe[t]}function sa(t){return{fieldPath:t.canonicalString()}}function Wl(t){return Qt.fromServerFormat(t.fieldPath)}function nz(t){return t instanceof xe?function(e){if("=="===e.op){if(e8(e.value))return{unaryFilter:{field:sa(e.field),op:"IS_NAN"}};if(X7(e.value))return{unaryFilter:{field:sa(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(e8(e.value))return{unaryFilter:{field:sa(e.field),op:"IS_NOT_NAN"}};if(X7(e.value))return{unaryFilter:{field:sa(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sa(e.field),op:aCe(e.op),value:e.value}}}(t):t instanceof st?function(e){const n=e.getFilters().map(r=>nz(r));return 1===n.length?n[0]:{compositeFilter:{op:cCe(e.op),filters:n}}}(t):re()}function uCe(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function rz(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class hs{constructor(e,n,r,i,o=se.min(),s=se.min(),a=gn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new hs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class iz{constructor(e){this.fe=e}}function mM(t){const e=ez({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Yv(e,e.limit,"L"):e}class Mc{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(Bt(e.integerValue));else if("doubleValue"in e){const r=Bt(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),Tp(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(cs(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?t8(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):re()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),J.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}Mc.Ve=new Mc;class yCe{constructor(){this.rn=new IM}addToCollectionParentIndex(e,n){return this.rn.add(n),x.resolve()}getCollectionParents(e,n){return x.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return x.resolve()}deleteFieldIndex(e,n){return x.resolve()}getDocumentsMatchingTarget(e,n){return x.resolve(null)}getIndexType(e,n){return x.resolve(0)}getFieldIndexes(e,n){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,n){return x.resolve(ei.min())}getMinOffsetFromCollectionGroup(e,n){return x.resolve(ei.min())}updateCollectionGroup(e,n,r){return x.resolve()}updateIndexEntries(e,n){return x.resolve()}}class IM{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new vt(ke.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new vt(ke.comparator)).toArray()}}new Uint8Array(0);class ir{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ir(e,ir.DEFAULT_COLLECTION_PERCENTILE,ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}ir.DEFAULT_COLLECTION_PERCENTILE=10,ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ir.DEFAULT=new ir(41943040,ir.DEFAULT_COLLECTION_PERCENTILE,ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ir.DISABLED=new ir(-1,0,0);class kc{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new kc(0)}static Mn(){return new kc(-1)}}class TCe{constructor(){this.changes=new ls(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,bt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?x.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class SCe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Nz{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&Pp(r.mutation,i,Lr.empty(),Mt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,be()).next(()=>r))}getLocalViewOfDocuments(e,n,r=be()){const i=bo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Mp();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=bo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,be()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Vr();const s=Rp(),a=Rp();return n.forEach((c,u)=>{const l=r.get(u.key);i.has(u.key)&&(void 0===l||l.mutation instanceof ds)?o=o.insert(u.key,u):void 0!==l?(s.set(u.key,l.mutation.getFieldMask()),Pp(l.mutation,u,l.mutation.getFieldMask(),Mt.now())):s.set(u.key,Lr.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((u,l)=>s.set(u,l)),n.forEach((u,l)=>{var d;return a.set(u,new SCe(l,null!==(d=s.get(u))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Rp();let i=new gt((s,a)=>s-a),o=be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(c=>{const u=n.get(c);if(null===u)return;let l=r.get(c)||Lr.empty();l=a.applyToLocalView(u,l),r.set(c,l);const d=(i.get(a.batchId)||be()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,l=c.value,d=C8();l.forEach(h=>{if(!o.has(h)){const f=M8(n.get(h),r.get(h));null!==f&&d.set(h,f),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,d))}return x.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return J.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):tM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):x.resolve(bo());let a=-1,c=o;return s.next(u=>x.forEach(u,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(l)?x.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{c=c.insert(l,h)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,c,u,be())).next(l=>({batchId:a,changes:I8(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new J(n)).next(r=>{let i=Mp();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let o=Mp();return this.indexManager.getCollectionParents(e,i).next(s=>x.forEach(s,a=>{const c=(u=n,l=a.child(i),new us(l,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt));var u,l;return this.getDocumentsMatchingCollectionQuery(e,c,r).next(u=>{u.forEach((l,d)=>{o=o.insert(l,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(o=>{i.forEach((a,c)=>{const u=c.getKey();null===o.get(u)&&(o=o.insert(u,bt.newInvalidDocument(u)))});let s=Mp();return o.forEach((a,c)=>{const u=i.get(a);void 0!==u&&Pp(u.mutation,c,Lr.empty(),Mt.now()),Op(n,c)&&(s=s.insert(a,c))}),s})}}class xCe{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return x.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:Jt(r.createTime)}),x.resolve()}getNamedQuery(e,n){return x.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:mM(r.bundledQuery),readTime:Jt(r.readTime)}),x.resolve();var r}}class ACe{constructor(){this.overlays=new gt(J.comparator),this.ls=new Map}getOverlay(e,n){return x.resolve(this.overlays.get(n))}getOverlays(e,n){const r=bo();return x.forEach(n,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.we(e,n,o)}),x.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.ls.delete(r)),x.resolve()}getOverlaysForCollection(e,n,r){const i=bo(),o=n.length+1,s=new J(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return x.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new gt((u,l)=>u-l);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let l=o.get(u.largestBatchId);null===l&&(l=bo(),o=o.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}const a=bo(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=i)););return x.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new cM(n,r));let o=this.ls.get(n);void 0===o&&(o=be(),this.ls.set(n,o)),this.ls.set(n,o.add(r.key))}}class CM{constructor(){this.fs=new vt(Nn.ds),this.ws=new vt(Nn._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new Nn(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new Nn(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new J(new ke([])),r=new Nn(n,e),i=new Nn(n,e+1),o=[];return this.ws.forEachInRange([r,i],s=>{this.ys(s),o.push(s.key)}),o}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new J(new ke([])),r=new Nn(n,e),i=new Nn(n,e+1);let o=be();return this.ws.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Nn(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Nn{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return J.comparator(e.key,n.key)||he(e.As,n.As)}static _s(e,n){return he(e.As,n.As)||J.comparator(e.key,n.key)}}class NCe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new vt(Nn.ds)}checkEmpty(e){return x.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const o=this.vs;this.vs++;const s=new sM(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Rs=this.Rs.add(new Nn(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return x.resolve(s)}lookupMutationBatch(e,n){return x.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),o=i<0?0:i;return x.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Nn(n,0),i=new Nn(n,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([r,i],s=>{const a=this.Ps(s.As);o.push(a)}),x.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new vt(he);return n.forEach(i=>{const o=new Nn(i,0),s=new Nn(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,s],a=>{r=r.add(a.As)})}),x.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;J.isDocumentKey(o)||(o=o.child(""));const s=new Nn(new J(o),0);let a=new vt(he);return this.Rs.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.As)),!0)},s),x.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){oe(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return x.forEach(n.mutations,i=>{const o=new Nn(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new Nn(n,0),i=this.Rs.firstAfterOrEqual(r);return x.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return x.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class OCe{constructor(e){this.Ds=e,this.docs=new gt(J.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return x.resolve(r?r.document.mutableCopy():bt.newInvalidDocument(n))}getEntries(e,n){let r=Vr();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():bt.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Vr();const s=n.path,a=new J(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:l}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||GO(V7(l),r)<=0||(i.has(l.key)||Op(n,l))&&(o=o.insert(l.key,l.mutableCopy()))}return x.resolve(o)}getAllFromCollectionGroup(e,n,r,i){re()}Cs(e,n){return x.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new MCe(this)}getSize(e){return x.resolve(this.size)}}class MCe extends TCe{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),x.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class RCe{constructor(e){this.persistence=e,this.xs=new ls(n=>Ec(n),Ap),this.lastRemoteSnapshotVersion=se.min(),this.highestTargetId=0,this.Ns=0,this.ks=new CM,this.targetCount=0,this.Ms=kc.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),x.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new kc(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,x.resolve()}updateTargetData(e,n){return this.Fn(n),x.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.xs.forEach((s,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.xs.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),x.waitFor(o).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return x.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),x.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),x.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),x.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return x.resolve(r)}containsKey(e,n){return x.resolve(this.ks.containsKey(n))}}class TM{constructor(e,n){this.$s={},this.overlays={},this.Os=new ti(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new RCe(this),this.indexManager=new yCe,this.remoteDocumentCache=new OCe(r=>this.referenceDelegate.Ls(r)),this.serializer=new iz(n),this.qs=new xCe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ACe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new NCe(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){j("MemoryPersistence","Starting transaction:",e);const i=new kCe(this.Os.next());return this.referenceDelegate.Us(),r(i).next(o=>this.referenceDelegate.Ks(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gs(e,n){return x.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class kCe extends tIe{constructor(e){super(),this.currentSequenceNumber=e}}class l0{constructor(e){this.persistence=e,this.Qs=new CM,this.js=null}static zs(e){return new l0(e)}get Ws(){if(this.js)return this.js;throw re()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),x.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),x.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Ws.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.Ws,r=>{const i=J.fromPath(r);return this.Hs(e,i).next(o=>{o||n.removeEntry(i,se.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return x.or([()=>x.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class xM{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=be(),i=be();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new xM(e,n.fromCache,r,i)}}class Mz{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(o=>o||this.Gi(e,n,i,r)).next(o=>o||this.Qi(e,n))}Ki(e,n){if(_8(n))return x.resolve(null);let r=vr(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=Yv(n,null,"F"),r=vr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=be(...o);return this.Ui.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.ji(n,a);return this.zi(n,u,s,c.readTime)?this.Ki(e,Yv(n,null,"F")):this.Wi(e,u,n,c)}))})))}Gi(e,n,r,i){return _8(n)||i.isEqual(se.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(o=>{const s=this.ji(n,o);return this.zi(n,s,r,i)?this.Qi(e,n):(jO()<=Ae.DEBUG&&j("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),rM(n)),this.Wi(e,s,n,function L7(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=se.fromTimestamp(1e9===r?new Mt(n+1,0):new Mt(n,r));return new ei(i,J.empty(),e)}(i,-1)))})}ji(e,n){let r=new vt(b8(e));return n.forEach((i,o)=>{Op(e,o)&&(r=r.add(o))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const o="F"===e.limitType?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Qi(e,n){return jO()<=Ae.DEBUG&&j("QueryEngine","Using full collection scan to execute query:",rM(n)),this.Ui.getDocumentsMatchingQuery(e,n,ei.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}class FCe{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new gt(he),this.Yi=new ls(o=>Ec(o),Ap),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Nz(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function kz(t,e){return AM.apply(this,arguments)}function AM(){return AM=p(function*(t,e){const n=Z(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let c=be();for(const u of i){s.push(u.batchId);for(const l of u.mutations)c=c.add(l.key)}for(const u of o){a.push(u.batchId);for(const l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(r,c).next(u=>({er:u,removedBatchIds:s,addedBatchIds:a}))})})}),AM.apply(this,arguments)}function Pz(t){const e=Z(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function BCe(t,e){const n=Z(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Jl(t,e,n){return NM.apply(this,arguments)}function NM(){return NM=p(function*(t,e,n){const r=Z(t),i=r.Ji.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Xs(s))throw s;j("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),NM.apply(this,arguments)}function f0(t,e,n){const r=Z(t);let i=se.min(),o=be();return r.persistence.runTransaction("Execute query","readonly",s=>function(a,c,u){const l=Z(a),d=l.Yi.get(u);return void 0!==d?x.resolve(l.Ji.get(d)):l.Bs.getTargetData(c,u)}(r,s,vr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.Hi.getDocumentsMatchingQuery(s,e,n?i:se.min(),n?o:be())).next(a=>(function Bz(t,e,n){let r=t.Xi.get(e)||se.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Xi.set(e,r)}(r,function v8(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ir:o})))}class PM{constructor(){this.activeTargetIds=function iM(){return UIe}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $z{constructor(){this.Hr=new PM,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new PM,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class $Ce{Yr(e){}shutdown(){}}class Hz{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){j("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){j("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let m0=null;function LM(){return null===m0?m0=268435456+Math.round(2147483648*Math.random()):m0++,"0x"+m0.toString(16)}const HCe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class GCe{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const or="WebChannelConnection";class zCe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,o){const s=LM(),a=this.To(e,n);j("RestConnection",`Sending RPC '${e}' ${s}:`,a,r);const c={};return this.Eo(c,i,o),this.Ao(e,a,c,r).then(u=>(j("RestConnection",`Received RPC '${e}' ${s}: `,u),u),u=>{throw Bi("RestConnection",`RPC '${e}' ${s} failed with error: `,u,"url: ",a,"request:",r),u})}vo(e,n,r,i,o,s){return this.Io(e,n,r,i,o)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Pl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}To(e,n){return`${this.mo}/v1/${n}:${HCe[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const o=LM();return new Promise((s,a)=>{const c=new Hwe;c.setWithCredentials(!0),c.listenOnce(Uwe.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case UO.NO_ERROR:const l=c.getResponseJson();j(or,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(l)),s(l);break;case UO.TIMEOUT:j(or,`RPC '${e}' ${o} timed out`),a(new B(N.DEADLINE_EXCEEDED,"Request time out"));break;case UO.HTTP_ERROR:const d=c.getStatus();if(j(or,`RPC '${e}' ${o} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const _=function(y){const v=y.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(v)>=0?v:N.UNKNOWN}(f.status);a(new B(_,f.message))}else a(new B(N.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new B(N.UNAVAILABLE,"Connection failed."));break;default:re()}}finally{j(or,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);j(or,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",u,r,15)})}Ro(e,n,r){const i=LM(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Vwe(),a=Bwe(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.xmlHttpFactory=new $we({})),this.Eo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const l=o.join("");j(or,`Creating RPC '${e}' stream ${i}: ${l}`,c);const d=s.createWebChannel(l,c);let h=!1,f=!1;const _=new GCe({ro:v=>{f?j(or,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(h||(j(or,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),j(or,`RPC '${e}' stream ${i} sending:`,v),d.send(v))},oo:()=>d.close()}),y=(v,T,w)=>{v.listen(T,M=>{try{w(M)}catch(F){setTimeout(()=>{throw F},0)}})};return y(d,Pv.EventType.OPEN,()=>{f||j(or,`RPC '${e}' stream ${i} transport opened.`)}),y(d,Pv.EventType.CLOSE,()=>{f||(f=!0,j(or,`RPC '${e}' stream ${i} transport closed`),_.wo())}),y(d,Pv.EventType.ERROR,v=>{f||(f=!0,Bi(or,`RPC '${e}' stream ${i} transport errored:`,v),_.wo(new B(N.UNAVAILABLE,"The operation could not be completed")))}),y(d,Pv.EventType.MESSAGE,v=>{var T;if(!f){const w=v.data[0];oe(!!w);const F=w.error||(null===(T=w[0])||void 0===T?void 0:T.error);if(F){j(or,`RPC '${e}' stream ${i} received error:`,F);const $=F.status;let Y=function(me){const Ue=sn[me];if(void 0!==Ue)return V8(Ue)}($),ae=F.message;void 0===Y&&(Y=N.INTERNAL,ae="Unknown error status: "+$+" with message "+F.message),f=!0,_.wo(new B(Y,ae)),d.close()}else j(or,`RPC '${e}' stream ${i} received:`,w),_._o(w)}}),y(a,jwe.STAT_EVENT,v=>{v.stat===O7.PROXY?j(or,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===O7.NOPROXY&&j(or,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.fo()},0),_}}function _0(){return typeof document<"u"?document:null}function Qp(t){return new eCe(t,!0)}class VM{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=o,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&j("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class zz{constructor(e,n,r,i,o,s,a,c){this.ii=e,this.$o=r,this.Oo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new VM(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return p(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return p(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return p(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(Yt(n.toString()),Yt("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===N.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new B(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(p(function*(){e.state=0,e.start()}))}tu(e){return j("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(j("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qCe extends zz{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function rCe(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:re(),i=e.targetChange.targetIds||[],o=function(c,u){return c.useProto3Json?(oe(void 0===u||"string"==typeof u),gn.fromBase64String(u||"")):(oe(void 0===u||u instanceof Uint8Array),gn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const u=void 0===c.code?N.UNKNOWN:V8(c.code);return new B(u,c.message||"")}(s);n=new H8(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=wo(t,r.document.name),o=Jt(r.document.updateTime),s=r.document.createTime?Jt(r.document.createTime):se.min(),a=new Gn({mapValue:{fields:r.document.fields}}),c=bt.newFoundDocument(i,o,s,a);n=new e0(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const r=e.documentDelete,i=wo(t,r.document),o=r.readTime?Jt(r.readTime):se.min(),s=bt.newNoDocument(i,o);n=new e0([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=wo(t,r.document);n=new e0([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return re();{const r=e.filter,{count:i=0,unchangedNames:o}=r,s=new KIe(i,o);n=new $8(r.targetId,s)}}var c;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return se.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?se.min():o.readTime?Jt(o.readTime):se.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=Up(this.serializer),n.addTarget=function(i,o){let s;const a=o.target;if(s=qv(a)?{documents:X8(i,a)}:{query:gM(i,a)},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=W8(i,o.resumeToken);const c=dM(i,o.expectedCount);null!==c&&(s.expectedCount=c)}else if(o.snapshotVersion.compareTo(se.min())>0){s.readTime=ql(i,o.snapshotVersion.toTimestamp());const c=dM(i,o.expectedCount);null!==c&&(s.expectedCount=c)}return s}(this.serializer,e);const r=function oCe(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return re()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=Up(this.serializer),n.removeTarget=e,this.Wo(n)}}class WCe extends zz{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(oe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function iCe(t,e){return t&&t.length>0?(oe(void 0!==e),t.map(n=>function(r,i){let o=Jt(r.updateTime?r.updateTime:i);return o.isEqual(se.min())&&(o=Jt(i)),new GIe(o,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=Jt(e.commitTime);return this.listener.cu(r,n)}return oe(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Up(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function jp(t,e){let n;if(e instanceof Gl)n={update:J8(t,e.key,e.value)};else if(e instanceof zl)n={delete:Bp(t,e.key)};else if(e instanceof ds)n={update:J8(t,e.key,e.data),updateMask:uCe(e.fieldMask)};else{if(!(e instanceof oM))return re();n={verify:Bp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const s=o.transform;if(s instanceof $l)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Sc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof xc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof Hl)return{fieldPath:o.field.canonicalString(),increment:s.gt};throw re()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:tCe(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:re()),n;var i}(this.serializer,r))};this.Wo(n)}}class KCe extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new B(N.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Io(e,n,r,i,o)).catch(i=>{throw"FirebaseError"===i.name?(i.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new B(N.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.vo(e,n,r,o,s,i)).catch(o=>{throw"FirebaseError"===o.name?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new B(N.UNKNOWN,o.toString())})}terminate(){this.lu=!0}}class QCe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Yt(n),this.mu=!1):j("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class JCe{constructor(e,n,r,i,o){var s=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=o,this.Pu.Yr(a=>{r.enqueueAndForget(p(function*(){var c;la(s)&&(j("RemoteStore","Restarting streams for network reachability change."),yield(c=p(function*(u){const l=Z(u);l.vu.add(4),yield Zl(l),l.bu.set("Unknown"),l.vu.delete(4),yield Jp(l)}),function(u){return c.apply(this,arguments)})(s))}))}),this.bu=new QCe(r,i)}}function Jp(t){return UM.apply(this,arguments)}function UM(){return UM=p(function*(t){if(la(t))for(const e of t.Ru)yield e(!0)}),UM.apply(this,arguments)}function Zl(t){return jM.apply(this,arguments)}function jM(){return jM=p(function*(t){for(const e of t.Ru)yield e(!1)}),jM.apply(this,arguments)}function y0(t,e){const n=Z(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),GM(n)?HM(n):ed(n).Ko()&&$M(n,e))}function Zp(t,e){const n=Z(t),r=ed(n);n.Au.delete(e),r.Ko()&&qz(n,e),0===n.Au.size&&(r.Ko()?r.jo():la(n)&&n.bu.set("Unknown"))}function $M(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ed(t).su(e)}function qz(t,e){t.Vu.qt(e),ed(t).iu(e)}function HM(t){t.Vu=new QIe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),ed(t).start(),t.bu.gu()}function GM(t){return la(t)&&!ed(t).Uo()&&t.Au.size>0}function la(t){return 0===Z(t).vu.size}function Wz(t){t.Vu=void 0}function ZCe(t){return zM.apply(this,arguments)}function zM(){return zM=p(function*(t){t.Au.forEach((e,n)=>{$M(t,e)})}),zM.apply(this,arguments)}function XCe(t,e){return qM.apply(this,arguments)}function qM(){return qM=p(function*(t,e){Wz(t),GM(t)?(t.bu.Iu(e),HM(t)):t.bu.set("Unknown")}),qM.apply(this,arguments)}function eTe(t,e,n){return WM.apply(this,arguments)}function WM(){return WM=p(function*(t,e,n){if(t.bu.set("Online"),e instanceof H8&&2===e.state&&e.cause)try{yield(r=p(function*(i,o){const s=o.cause;for(const a of o.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,o){return r.apply(this,arguments)})(t,e)}catch(r){j("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield v0(t,r)}else if(e instanceof e0?t.Vu.Ht(e):e instanceof $8?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(se.min()))try{const r=yield Pz(t.localStore);n.compareTo(r)>=0&&(yield function(i,o){const s=i.Vu.ce(o);return s.targetChanges.forEach((a,c)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.Au.get(c);u&&i.Au.set(c,u.withResumeToken(a.resumeToken,o))}}),s.targetMismatches.forEach((a,c)=>{const u=i.Au.get(a);if(!u)return;i.Au.set(a,u.withResumeToken(gn.EMPTY_BYTE_STRING,u.snapshotVersion)),qz(i,a);const l=new hs(u.target,a,c,u.sequenceNumber);$M(i,l)}),i.remoteSyncer.applyRemoteEvent(s)}(t,n))}catch(r){j("RemoteStore","Failed to raise snapshot:",r),yield v0(t,r)}var r}),WM.apply(this,arguments)}function v0(t,e,n){return KM.apply(this,arguments)}function KM(){return KM=p(function*(t,e,n){if(!Xs(e))throw e;t.vu.add(1),yield Zl(t),t.bu.set("Offline"),n||(n=()=>Pz(t.localStore)),t.asyncQueue.enqueueRetryable(p(function*(){j("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield Jp(t)}))}),KM.apply(this,arguments)}function Kz(t,e){return e().catch(n=>v0(t,n,e))}function Xl(t){return YM.apply(this,arguments)}function YM(){return YM=p(function*(t){const e=Z(t),n=da(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;tTe(e);)try{const i=yield BCe(e.localStore,r);if(null===i){0===e.Eu.length&&n.jo();break}r=i.batchId,nTe(e,i)}catch(i){yield v0(e,i)}Yz(e)&&Qz(e)}),YM.apply(this,arguments)}function tTe(t){return la(t)&&t.Eu.length<10}function nTe(t,e){t.Eu.push(e);const n=da(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function Yz(t){return la(t)&&!da(t).Uo()&&t.Eu.length>0}function Qz(t){da(t).start()}function rTe(t){return QM.apply(this,arguments)}function QM(){return QM=p(function*(t){da(t).hu()}),QM.apply(this,arguments)}function iTe(t){return JM.apply(this,arguments)}function JM(){return JM=p(function*(t){const e=da(t);for(const n of t.Eu)e.uu(n.mutations)}),JM.apply(this,arguments)}function oTe(t,e,n){return ZM.apply(this,arguments)}function ZM(){return ZM=p(function*(t,e,n){const r=t.Eu.shift(),i=aM.from(r,e,n);yield Kz(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Xl(t)}),ZM.apply(this,arguments)}function sTe(t,e){return XM.apply(this,arguments)}function XM(){return XM=p(function*(t,e){var n;e&&da(t).ou&&(yield(n=p(function*(r,i){if(function L8(t){switch(t){default:return re();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0}}(o=i.code)&&o!==N.ABORTED){const s=r.Eu.shift();da(r).Qo(),yield Kz(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Xl(r)}var o}),function(r,i){return n.apply(this,arguments)})(t,e)),Yz(t)&&Qz(t)}),XM.apply(this,arguments)}function Jz(t,e){return eR.apply(this,arguments)}function eR(){return eR=p(function*(t,e){const n=Z(t);n.asyncQueue.verifyOperationInProgress(),j("RemoteStore","RemoteStore received new credentials");const r=la(n);n.vu.add(3),yield Zl(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield Jp(n)}),eR.apply(this,arguments)}function nR(){return nR=p(function*(t,e){const n=Z(t);e?(n.vu.delete(2),yield Jp(n)):e||(n.vu.add(2),yield Zl(n),n.bu.set("Unknown"))}),nR.apply(this,arguments)}function ed(t){return t.Su||(t.Su=function(e,n,r){const i=Z(e);return i.fu(),new qCe(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:ZCe.bind(null,t),ao:XCe.bind(null,t),nu:eTe.bind(null,t)}),t.Ru.push(function(){var e=p(function*(n){n?(t.Su.Qo(),GM(t)?HM(t):t.bu.set("Unknown")):(yield t.Su.stop(),Wz(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}function da(t){return t.Du||(t.Du=function(e,n,r){const i=Z(e);return i.fu(),new WCe(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:rTe.bind(null,t),ao:sTe.bind(null,t),au:iTe.bind(null,t),cu:oTe.bind(null,t)}),t.Ru.push(function(){var e=p(function*(n){n?(t.Du.Qo(),yield Xl(t)):(yield t.Du.stop(),t.Eu.length>0&&(j("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class rR{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new pn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new rR(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new B(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function td(t,e){if(Yt("AsyncQueue",`${e}: ${t}`),Xs(t))return new B(N.UNAVAILABLE,`${e}: ${t}`);throw t}class nd{constructor(e){this.comparator=e?(n,r)=>e(n,r)||J.comparator(n.key,r.key):(n,r)=>J.comparator(n.key,r.key),this.keyedMap=Mp(),this.sortedSet=new gt(this.comparator)}static emptySet(e){return new nd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof nd)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new nd;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class Zz{constructor(){this.Cu=new gt(J.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):re():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class rd{constructor(e,n,r,i,o,s,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new rd(e,n,nd.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Np(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class aTe{constructor(){this.Nu=void 0,this.listeners=[]}}class cTe{constructor(){this.queries=new ls(e=>y8(e),Np),this.onlineState="Unknown",this.ku=new Set}}function iR(t,e){return oR.apply(this,arguments)}function oR(){return oR=p(function*(t,e){const n=Z(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new aTe),i)try{o.Nu=yield n.onListen(r)}catch(s){const a=td(s,`Initialization of query '${rM(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.listeners.push(e),e.Mu(n.onlineState),o.Nu&&e.$u(o.Nu)&&cR(n)}),oR.apply(this,arguments)}function sR(t,e){return aR.apply(this,arguments)}function aR(){return aR=p(function*(t,e){const n=Z(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),aR.apply(this,arguments)}function uTe(t,e){const n=Z(t);let r=!1;for(const i of e){const s=n.queries.get(i.query);if(s){for(const a of s.listeners)a.$u(i)&&(r=!0);s.Nu=i}}r&&cR(n)}function lTe(t,e,n){const r=Z(t),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(e)}function cR(t){t.ku.forEach(e=>{e.next()})}class uR{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new rd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=rd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class t9{constructor(e){this.key=e}}class n9{constructor(e){this.key=e}}class r9{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=be(),this.mutatedKeys=be(),this.tc=b8(e),this.ec=new nd(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new Zz,i=n?n.ec:this.ec;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const c="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,u="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=Op(this.query,d)?d:null,_=!!h&&this.mutatedKeys.has(h.key),y=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let v=!1;h&&f?h.data.isEqual(f.data)?_!==y&&(r.track({type:3,doc:f}),v=!0):this.rc(h,f)||(r.track({type:2,doc:f}),v=!0,(c&&this.tc(f,c)>0||u&&this.tc(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),v=!0):h&&!f&&(r.track({type:1,doc:h}),v=!0,(c||u)&&(a=!0)),v&&(f?(s=s.add(f),o=y?o.add(l):o.delete(l)):(s=s.delete(l),o=o.delete(l)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const l="F"===this.query.limitType?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{ec:s,ic:r,zi:a,mutatedKeys:o}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const o=e.ic.xu();o.sort((u,l)=>function(d,h){const f=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return re()}};return f(d)-f(h)}(u.type,l.type)||this.tc(u.doc,l.doc)),this.oc(r);const s=n?this.uc():[],a=0===this.Zu.size&&this.current?1:0,c=a!==this.Xu;return this.Xu=a,0!==o.length||c?{snapshot:new rd(this.query,e.ec,i,o,e.mutatedKeys,0===a,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:s}:{cc:s}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Zz,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=be(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new n9(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new t9(r))}),n}hc(e){this.Yu=e.ir,this.Zu=be();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return rd.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class fTe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class pTe{constructor(e){this.key=e,this.fc=!1}}class gTe{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new ls(a=>y8(a),Np),this._c=new Map,this.mc=new Set,this.gc=new gt(J.comparator),this.yc=new Map,this.Ic=new CM,this.Tc={},this.Ec=new Map,this.Ac=kc.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function mTe(t,e){return lR.apply(this,arguments)}function lR(){return lR=p(function*(t,e){const n=function RR(t){const e=Z(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=i9.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ETe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vTe.bind(null,e),e.dc.nu=uTe.bind(null,e.eventManager),e.dc.Pc=lTe.bind(null,e.eventManager),e}(t);let r,i;const o=n.wc.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.lc();else{const s=yield function Ql(t,e){const n=Z(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(o=>o?(i=o,x.resolve(i)):n.Bs.allocateTargetId(r).next(s=>(i=new hs(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}(n.localStore,vr(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=yield function dR(t,e,n,r,i){return hR.apply(this,arguments)}(n,e,r,"current"===a,s.resumeToken),n.isPrimaryClient&&y0(n.remoteStore,s)}return i}),lR.apply(this,arguments)}function hR(){return hR=p(function*(t,e,n,r,i){t.Rc=(d,h,f)=>{return(_=p(function*(y,v,T,w){let M=v.view.sc(T);M.zi&&(M=yield f0(y.localStore,v.query,!1).then(({documents:Y})=>v.view.sc(Y,M)));const F=w&&w.targetChanges.get(v.targetId),$=v.view.applyChanges(M,y.isPrimaryClient,F);return IR(y,v.targetId,$.cc),$.snapshot}),function(y,v,T,w){return _.apply(this,arguments)})(t,d,h,f);var _};const o=yield f0(t.localStore,e,!0),s=new r9(e,o.ir),a=s.sc(o.documents),c=Vp.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),u=s.applyChanges(a,t.isPrimaryClient,c);IR(t,n,u.cc);const l=new fTe(e,n,s);return t.wc.set(e,l),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),u.snapshot}),hR.apply(this,arguments)}function _Te(t,e){return fR.apply(this,arguments)}function fR(){return fR=p(function*(t,e){const n=Z(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(o=>!Np(o,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Jl(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Zp(n.remoteStore,r.targetId),id(n,r.targetId)}).catch(Zs))):(id(n,r.targetId),yield Jl(n.localStore,r.targetId,!0))}),fR.apply(this,arguments)}function pR(){return pR=p(function*(t,e,n){const r=function kR(t){const e=Z(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bTe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wTe.bind(null,e),e}(t);try{const i=yield function(o,s){const a=Z(o),c=Mt.now(),u=s.reduce((h,f)=>h.add(f.key),be());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=Vr(),_=be();return a.Zi.getEntries(h,u).next(y=>{f=y,f.forEach((v,T)=>{T.isValidDocument()||(_=_.add(v))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(y=>{l=y;const v=[];for(const T of s){const w=qIe(T,l.get(T.key).overlayedDocument);null!=w&&v.push(new ds(T.key,w,i8(w.value.mapValue),Et.exists(!0)))}return a.mutationQueue.addMutationBatch(h,c,v,s)}).next(y=>{d=y;const v=y.applyToLocalDocumentSet(l,_);return a.documentOverlayCache.saveOverlays(h,y.batchId,v)})}).then(()=>({batchId:d.batchId,changes:I8(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,s,a){let c=o.Tc[o.currentUser.toKey()];c||(c=new gt(he)),c=c.insert(s,a),o.Tc[o.currentUser.toKey()]=c}(r,i.batchId,n),yield fs(r,i.changes),yield Xl(r.remoteStore)}catch(i){const o=td(i,"Failed to persist write");n.reject(o)}}),pR.apply(this,arguments)}function i9(t,e){return gR.apply(this,arguments)}function gR(){return gR=p(function*(t,e){const n=Z(t);try{const r=yield function VCe(t,e){const n=Z(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(o,l.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(o,l.addedDocuments,d)));let f=h.withSequenceNumber(o.currentSequenceNumber);var _,y,v;null!==e.targetMismatches.get(d)?f=f.withResumeToken(gn.EMPTY_BYTE_STRING,se.min()).withLastLimboFreeSnapshotVersion(se.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),y=f,v=l,(0===(_=h).resumeToken.approximateByteSize()||y.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8||v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0)&&a.push(n.Bs.updateTargetData(o,f))});let c=Vr(),u=be();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,l))}),a.push(function Fz(t,e,n){let r=be(),i=be();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Vr();return n.forEach((a,c)=>{const u=o.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(se.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||0===c.version.compareTo(u.version)&&u.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):j("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{nr:s,sr:i}})}(o,s,e.documentUpdates).next(l=>{c=l.nr,u=l.sr})),!r.isEqual(se.min())){const l=n.Bs.getLastRemoteSnapshotVersion(o).next(d=>n.Bs.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(l)}return x.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,u)).next(()=>c)}).then(o=>(n.Ji=i,o))}(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.yc.get(o);s&&(oe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.fc=!0:i.modifiedDocuments.size>0?oe(s.fc):i.removedDocuments.size>0&&(oe(s.fc),s.fc=!1))}),yield fs(n,r,e)}catch(r){yield Zs(r)}}),gR.apply(this,arguments)}function o9(t,e,n){const r=Z(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((o,s)=>{const a=s.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(o,s){const a=Z(o);a.onlineState=s;let c=!1;a.queries.forEach((u,l)=>{for(const d of l.listeners)d.Mu(s)&&(c=!0)}),c&&cR(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function vTe(t,e,n){return mR.apply(this,arguments)}function mR(){return mR=p(function*(t,e,n){const r=Z(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),o=i&&i.key;if(o){let s=new gt(J.comparator);s=s.insert(o,bt.newNoDocument(o,se.min()));const a=be().add(o),c=new Lp(se.min(),new Map,new gt(he),s,a);yield i9(r,c),r.gc=r.gc.remove(o),r.yc.delete(e),CR(r)}else yield Jl(r.localStore,e,!1).then(()=>id(r,e,n)).catch(Zs)}),mR.apply(this,arguments)}function bTe(t,e){return _R.apply(this,arguments)}function _R(){return _R=p(function*(t,e){const n=Z(t),r=e.batch.batchId;try{const i=yield function LCe(t,e){const n=Z(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Zi.newChangeBuffer({trackRemovals:!0});return function(s,a,c,u){const l=c.batch,d=l.keys();let h=x.resolve();return d.forEach(f=>{h=h.next(()=>u.getEntry(a,f)).next(_=>{const y=c.docVersions.get(f);oe(null!==y),_.version.compareTo(y)<0&&(l.applyToRemoteDocument(_,c),_.isValidDocument()&&(_.setReadTime(c.commitVersion),u.addEntry(_)))})}),h.next(()=>s.mutationQueue.removeMutationBatch(a,l))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let a=be();for(let c=0;c<s.mutationResults.length;++c)s.mutationResults[c].transformResults.length>0&&(a=a.add(s.batch.mutations[c].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);wR(n,r,null),bR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield fs(n,i)}catch(i){yield Zs(i)}}),_R.apply(this,arguments)}function wTe(t,e,n){return yR.apply(this,arguments)}function yR(){return yR=p(function*(t,e,n){const r=Z(t);try{const i=yield function(o,s){const a=Z(o);return a.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return a.mutationQueue.lookupMutationBatch(c,s).next(l=>(oe(null!==l),u=l.keys(),a.mutationQueue.removeMutationBatch(c,l))).next(()=>a.mutationQueue.performConsistencyCheck(c)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(c,u,s)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>a.localDocuments.getDocuments(c,u))})}(r.localStore,e);wR(r,e,n),bR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield fs(r,i)}catch(i){yield Zs(i)}}),yR.apply(this,arguments)}function bR(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function wR(t,e,n){const r=Z(t);let i=r.Tc[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function id(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||s9(t,r)})}function s9(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(Zp(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),CR(t))}function IR(t,e,n){for(const r of n)r instanceof t9?(t.Ic.addReference(r.key,e),CTe(t,r)):r instanceof n9?(j("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||s9(t,r.key)):re()}function CTe(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(j("SyncEngine","New document in limbo: "+n),t.mc.add(r),CR(t))}function CR(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new J(ke.fromString(e)),r=t.Ac.next();t.yc.set(r,new pTe(n)),t.gc=t.gc.insert(n,r),y0(t.remoteStore,new hs(vr(jl(n.path)),r,"TargetPurposeLimboResolution",ti.ct))}}function fs(t,e,n){return TR.apply(this,arguments)}function TR(){return TR=p(function*(t,e,n){const r=Z(t),i=[],o=[],s=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,c)=>{s.push(r.Rc(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u?.fromCache?"not-current":"current"),u){i.push(u);const l=xM.Li(c.targetId,u);o.push(l)}}))}),yield Promise.all(s),r.dc.nu(i),yield(a=p(function*(c,u){const l=Z(c);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>x.forEach(u,h=>x.forEach(h.Fi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>x.forEach(h.Bi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Xs(d))throw d;j("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const f=l.Ji.get(h),y=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ji=l.Ji.insert(h,y)}}}),function(c,u){return a.apply(this,arguments)})(r.localStore,o))}),TR.apply(this,arguments)}function TTe(t,e){return ER.apply(this,arguments)}function ER(){return ER=p(function*(t,e){const n=Z(t);if(!n.currentUser.isEqual(e)){j("SyncEngine","User change. New user:",e.toKey());const r=yield kz(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(s=>{s.forEach(a=>{a.reject(new B(N.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield fs(n,r.er)}var i}),ER.apply(this,arguments)}function ETe(t,e){const n=Z(t),r=n.yc.get(e);if(r&&r.fc)return be().add(r.key);{let i=be();const o=n._c.get(e);if(!o)return i;for(const s of o){const a=n.wc.get(s);i=i.unionWith(a.view.nc)}return i}}class b0{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return p(function*(){n.serializer=Qp(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function Rz(t,e,n,r){return new FCe(t,e,n,r)}(this.persistence,new Mz,e.initialUser,this.serializer)}createPersistence(e){return new TM(l0.zs,this.serializer)}createSharedClientState(e){return new $z}terminate(){var e=this;return p(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class od{initialize(e,n){var r=this;return p(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>o9(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=TTe.bind(null,r.syncEngine),yield function tR(t,e){return nR.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new cTe}createDatastore(e){const n=Qp(e.databaseInfo.databaseId),r=new zCe(e.databaseInfo);return new KCe(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,o=a=>o9(this.syncEngine,a,0),s=Hz.D()?new Hz:new $Ce,new JCe(n,r,i,o,s);var n,r,i,o,s}createSyncEngine(e,n){return function(r,i,o,s,a,c,u){const l=new gTe(r,i,o,s,a,c);return u&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return function(){var e=p(function*(n){const r=Z(n);j("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Zl(r),r.Pu.shutdown(),r.bu.set("Unknown")});return function(n){return e.apply(this,arguments)}}()(this.remoteStore)}}class w0{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Yt("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class VTe{constructor(e,n,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=xn.UNAUTHENTICATED,this.clientId=P7.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var s=p(function*(a){j("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(r,s=>(j("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var e=this;return p(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new B(N.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new pn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(p(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=td(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function I0(t,e){return PR.apply(this,arguments)}function PR(){return PR=p(function*(t,e){t.asyncQueue.verifyOperationInProgress(),j("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=p(function*(o){r.isEqual(o)||(yield kz(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),PR.apply(this,arguments)}function FR(t,e){return LR.apply(this,arguments)}function LR(){return LR=p(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function VR(t){return BR.apply(this,arguments)}(t);j("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>Jz(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>Jz(e.remoteStore,o)),t._onlineComponents=e}),LR.apply(this,arguments)}function BR(){return BR=p(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){j("FirestoreClient","Using user provided OfflineComponentProvider");try{yield I0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function h9(t){return"FirebaseError"===t.name?t.code===N.FAILED_PRECONDITION||t.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;Bi("Error using user provided cache. Falling back to memory cache: "+n),yield I0(t,new b0)}}else j("FirestoreClient","Using default OfflineComponentProvider"),yield I0(t,new b0);return t._offlineComponents}),BR.apply(this,arguments)}function C0(t){return UR.apply(this,arguments)}function UR(){return UR=p(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(j("FirestoreClient","Using user provided OnlineComponentProvider"),yield FR(t,t._uninitializedComponentsProvider._online)):(j("FirestoreClient","Using default OnlineComponentProvider"),yield FR(t,new od))),t._onlineComponents}),UR.apply(this,arguments)}function sd(t){return $R.apply(this,arguments)}function $R(){return $R=p(function*(t){const e=yield C0(t),n=e.eventManager;return n.onListen=mTe.bind(null,e.syncEngine),n.onUnlisten=_Te.bind(null,e.syncEngine),n}),$R.apply(this,arguments)}function y9(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const v9=new Map;function HR(t,e,n){if(!n)throw new B(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function b9(t){if(!J.isDocumentKey(t))throw new B(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function w9(t){if(J.isDocumentKey(t))throw new B(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function E0(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":re()}function Ne(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new B(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=E0(t);throw new B(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class C9{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new B(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new B(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function WTe(t,e,n,r){if(!0===e&&!0===r)throw new B(N.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=y9(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new B(N.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new B(N.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new B(N.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xp{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new C9({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new B(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new B(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new C9(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new zwe;switch(n.type){case"firstParty":return new Ywe(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new B(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=v9.get(e);n&&(j("ComponentProvider","Removing Datastore"),v9.delete(e),n.terminate())}(this),Promise.resolve()}}class Zt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Io(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zt(this.firestore,e,this._key)}}class zn{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new zn(this.firestore,e,this._query)}}class Io extends zn{constructor(e,n,r){super(e,n,jl(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zt(this.firestore,null,new J(e))}withConverter(e){return new Io(this.firestore,e,this._path)}}function YTe(t,e,...n){if(t=Xn(t),HR("collection","path",e),t instanceof Xp){const r=ke.fromString(e,...n);return w9(r),new Io(t,null,r)}{if(!(t instanceof Zt||t instanceof Io))throw new B(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ke.fromString(e,...n));return w9(r),new Io(t.firestore,null,r)}}function T9(t,e,...n){if(t=Xn(t),1===arguments.length&&(e=P7.A()),HR("doc","path",e),t instanceof Xp){const r=ke.fromString(e,...n);return b9(r),new Zt(t,null,new J(r))}{if(!(t instanceof Zt||t instanceof Io))throw new B(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ke.fromString(e,...n));return b9(r),new Zt(t.firestore,t instanceof Io?t.converter:null,new J(r))}}class QTe{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new VM(this,"async_queue_retry"),this.Xc=()=>{const n=_0();n&&j("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=_0();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=_0();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new pn;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return p(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!Xs(n))throw n;j("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Yt("INTERNAL UNHANDLED ERROR: ",function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),s}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=rR.createAndSchedule(this,e,n,r,o=>this.na(o));return this.zc.push(i),i}Zc(){this.Wc&&re()}verifyOperationInProgress(){}sa(){var e=this;return p(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class wt extends Xp{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new QTe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||D9(this),this._firestoreClient.terminate()}}function ZTe(t,e){const r="string"==typeof t?t:e||"(default)",i=My("object"==typeof t?t:x$(),"firestore").getImmediate({identifier:r});if(!i._initialized){const o=(t=>{const e=(t=>{var e,n;return null===(n=null===(e=Sy())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})("firestore");o&&function KTe(t,e,n,r={}){var i;const o=(t=Ne(t,Xp))._getSettings(),s=`${e}:${n}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&Bi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,c;if("string"==typeof r.mockUserToken)a=r.mockUserToken,c=xn.MOCK_USER;else{a=function Zpe(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ey(JSON.stringify({alg:"none",type:"JWT"})),Ey(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new B(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new xn(u)}t._authCredentials=new qwe(new R7(a,c))}}(i,...o)}return i}function an(t){return t._firestoreClient||D9(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function D9(t){var e,n,r;const i=t._freezeSettings(),o=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new EIe(t._databaseId,a,t._persistenceKey,(u=i).host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,y9(u.experimentalLongPollingOptions),u.useFetchStreams));var a,u;t._firestoreClient=new VTe(t._authCredentials,t._appCheckCredentials,t._queue,o),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class Fc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fc(gn.fromBase64String(e))}catch(n){throw new B(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Fc(gn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ad{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new B(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class tg{constructor(e){this._methodName=e}}class zR{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new B(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new B(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return he(this._lat,e._lat)||he(this._long,e._long)}}const eEe=/^__.*__$/;class tEe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new ds(e,this.data,this.fieldMask,n,this.fieldTransforms):new Gl(e,this.data,n,this.fieldTransforms)}}class A9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ds(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function N9(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw re()}}class D0{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.ua(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new D0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return x0(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(N9(this.ca)&&eEe.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class nEe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Qp(e)}ya(e,n,r,i=!1){return new D0({ca:e,methodName:n,ga:r,path:Qt.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cd(t){const e=t._freezeSettings(),n=Qp(t._databaseId);return new nEe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function qR(t,e,n,r,i,o={}){const s=t.ya(o.merge||o.mergeFields?2:0,e,n,i);KR("Data must be an object, but it was:",s,r);const a=P9(r,s);let c,u;if(o.merge)c=new Lr(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const l=[];for(const d of o.mergeFields){const h=rg(e,d,n);if(!s.contains(h))throw new B(N.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);L9(l,h)||l.push(h)}c=new Lr(l),u=s.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,u=s.fieldTransforms;return new tEe(new Gn(a),c,u)}class ng extends tg{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ng}}function O9(t,e,n){return new D0({ca:3,ga:e.settings.ga,methodName:t._methodName,la:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class rEe extends tg{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=O9(this,e,!0),r=this.pa.map(o=>Lc(o,n)),i=new Sc(r);return new kp(e.path,i)}isEqual(e){return this===e}}class iEe extends tg{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=O9(this,e,!0),r=this.pa.map(o=>Lc(o,n)),i=new xc(r);return new kp(e.path,i)}isEqual(e){return this===e}}function k9(t,e,n,r=!1){return Lc(n,t.ya(r?4:3,e))}function Lc(t,e){if(F9(t=Xn(t)))return KR("Unsupported field value:",e,t),P9(t,e);if(t instanceof tg)return function(n,r){if(!N9(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let o=0;for(const s of n){let a=Lc(s,r.wa(o));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),o++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=Xn(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return D8(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=Mt.fromDate(n);return{timestampValue:ql(r.serializer,i)}}if(n instanceof Mt){const i=new Mt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:ql(r.serializer,i)}}if(n instanceof zR)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Fc)return{bytesValue:W8(r.serializer,n._byteString)};if(n instanceof Zt){const i=r.databaseId,o=n.firestore._databaseId;if(!o.isEqual(i))throw r._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:hM(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${E0(n)}`)}(t,e)}function P9(t,e){const n={};return Y7(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ea(t,(r,i)=>{const o=Lc(i,e.ha(r));null!=o&&(n[r]=o)}),{mapValue:{fields:n}}}function F9(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Mt||t instanceof zR||t instanceof Fc||t instanceof Zt||t instanceof tg)}function KR(t,e,n){if(!F9(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=E0(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function rg(t,e,n){if((e=Xn(e))instanceof ad)return e._internalPath;if("string"==typeof e)return S0(t,e);throw x0("Field path arguments must be of type string or ",t,!1,void 0,n)}const sEe=new RegExp("[~\\*/\\[\\]]");function S0(t,e,n){if(e.search(sEe)>=0)throw x0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ad(...e.split("."))._internalPath}catch{throw x0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function x0(t,e,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new B(N.INVALID_ARGUMENT,a+t+c)}function L9(t,e){return t.some(n=>n.isEqual(e))}class YR{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Zt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new aEe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(A0("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class aEe extends YR{data(){return super.data()}}function A0(t,e){return"string"==typeof e?S0(t,e):e instanceof ad?e._internalPath:e._delegate._internalPath}class QR{}class N0 extends QR{}function cEe(t,e,...n){let r=[];e instanceof QR&&r.push(e),r=r.concat(n),function(i){const o=i.filter(a=>a instanceof ud).length,s=i.filter(a=>a instanceof ig).length;if(o>1||o>0&&s>0)throw new B(N.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class ig extends N0{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ig(e,n,r)}_apply(e){const n=this._parse(e);return $9(e._query,n),new zn(e.firestore,e.converter,nM(e._query,n))}_parse(e){const n=cd(e.firestore);return function(i,o,s,a,c,u,l){let d;if(c.isKeyField()){if("array-contains"===u||"array-contains-any"===u)throw new B(N.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if("in"===u||"not-in"===u){j9(l,u);const h=[];for(const f of l)h.push(U9(a,i,f));d={arrayValue:{values:h}}}else d=U9(a,i,l)}else"in"!==u&&"not-in"!==u&&"array-contains-any"!==u||j9(l,u),d=k9(s,"where",l,"in"===u||"not-in"===u);return xe.create(c,u,d)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function uEe(t,e,n){const r=e,i=A0("where",t);return ig._create(i,r,n)}class ud extends QR{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ud(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:st.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(r,i){let o=r;const s=i.getFlattenedFilters();for(const a of s)$9(o,a),o=nM(o,a)}(e._query,n),new zn(e.firestore,e.converter,nM(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class JR extends N0{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new JR(e,n)}_apply(e){const n=function(r,i,o){if(null!==r.startAt)throw new B(N.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new B(N.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const s=new Bl(i,o);return function(a,c){if(null===eM(a)){const u=Kv(a);null!==u&&H9(0,u,c.field)}}(r,s),s}(e._query,this._field,this._direction);return new zn(e.firestore,e.converter,function(r,i){const o=r.explicitOrderBy.concat([i]);return new us(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function lEe(t,e="asc"){const n=e,r=A0("orderBy",t);return JR._create(r,n)}class O0 extends N0{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new O0(e,n,r)}_apply(e){return new zn(e.firestore,e.converter,Yv(e._query,this._limit,this._limitType))}}function dEe(t){return function I9(t,e){if(e<=0)throw new B(N.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}("limit",t),O0._create("limit",t,"F")}class M0 extends N0{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new M0(e,n,r)}_apply(e){const n=function B9(t,e,n,r){if(n[0]=Xn(n[0]),n[0]instanceof YR)return function(i,o,s,a,c){if(!a)throw new B(N.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${s}().`);const u=[];for(const l of Dc(i))if(l.field.isKeyField())u.push(Tc(o,a.key));else{const d=a.data.field(l.field);if(jv(d))throw new B(N.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+l.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===d){const h=l.field.canonicalString();throw new B(N.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${h}' (used as the orderBy) does not exist.`)}u.push(d)}return new oa(u,c)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=cd(t.firestore);return function(o,s,a,c,u,l){const d=o.explicitOrderBy;if(u.length>d.length)throw new B(N.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const h=[];for(let f=0;f<u.length;f++){const _=u[f];if(d[f].field.isKeyField()){if("string"!=typeof _)throw new B(N.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof _}`);if(!tM(o)&&-1!==_.indexOf("/"))throw new B(N.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${_}' contains a slash.`);const y=o.path.child(ke.fromString(_));if(!J.isDocumentKey(y))throw new B(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${y}' is not because it contains an odd number of segments.`);const v=new J(y);h.push(Tc(s,v))}else{const y=k9(a,c,_);h.push(y)}}return new oa(h,l)}(t._query,t.firestore._databaseId,i,e,n,r)}}(e,this.type,this._docOrFields,this._inclusive);return new zn(e.firestore,e.converter,(i=n,new us((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}function hEe(...t){return M0._create("startAfter",t,!1)}function U9(t,e,n){if("string"==typeof(n=Xn(n))){if(""===n)throw new B(N.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tM(e)&&-1!==n.indexOf("/"))throw new B(N.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ke.fromString(n));if(!J.isDocumentKey(r))throw new B(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Tc(t,new J(r))}if(n instanceof Zt)return Tc(t,n._key);throw new B(N.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${E0(n)}.`)}function j9(t,e){if(!Array.isArray(t)||0===t.length)throw new B(N.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function $9(t,e){if(e.isInequality()){const r=Kv(t),i=e.field;if(null!==r&&!r.isEqual(i))throw new B(N.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const o=eM(t);null!==o&&H9(0,i,o)}const n=function(r,i){for(const o of r)for(const s of o.getFlattenedFilters())if(i.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new B(N.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function H9(t,e,n){if(!n.isEqual(e))throw new B(N.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class fEe{convertValue(e,n="none"){switch(ra(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(cs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw re()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ea(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new zR(Bt(e.latitude),Bt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=$v(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ep(e));default:return null}}convertTimestamp(e){const n=ta(e);return new Mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ke.fromString(e);oe(rz(r));const i=new Cc(r.get(1),r.get(3)),o=new J(r.popFirst(5));return i.isEqual(n)||Yt(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}function ZR(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Vc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ld extends YR{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new k0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(A0("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class k0 extends ld{data(e={}){return super.data(e)}}class dd{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Vc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new k0(this._firestore,this._userDataWriter,r.key,r,new Vc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new B(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(s=>({type:"added",doc:new k0(r._firestore,r._userDataWriter,s.doc.key,s.doc,new Vc(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(s=>i||3!==s.type).map(s=>{const a=new k0(r._firestore,r._userDataWriter,s.doc.key,s.doc,new Vc(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,u=-1;return 0!==s.type&&(c=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),1!==s.type&&(o=o.add(s.doc),u=o.indexOf(s.doc.key)),{type:gEe(s.type),doc:a,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function gEe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return re()}}function mEe(t){t=Ne(t,Zt);const e=Ne(t.firestore,wt);return function m9(t,e,n={}){const r=new pn;return t.asyncQueue.enqueueAndForget(p(function*(){return function(i,o,s,a,c){const u=new w0({next:d=>{o.enqueueAndForget(()=>sR(i,l));const h=d.docs.has(s);!h&&d.fromCache?c.reject(new B(N.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&"server"===a.source?c.reject(new B(N.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(d)},error:d=>c.reject(d)}),l=new uR(jl(s.path),u,{includeMetadataChanges:!0,Ku:!0});return iR(i,l)}(yield sd(t),t.asyncQueue,e,n,r)})),r.promise}(an(e),t._key).then(n=>function XR(t,e,n){const r=n.docs.get(e._key),i=new ha(t);return new ld(t,i,e._key,r,new Vc(n.hasPendingWrites,n.fromCache),e.converter)}(e,t,n))}class ha extends fEe{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Zt(this.firestore,null,n)}}function _Ee(t){t=Ne(t,zn);const e=Ne(t.firestore,wt),n=an(e),r=new ha(e);return function V9(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new B(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query),function _9(t,e,n={}){const r=new pn;return t.asyncQueue.enqueueAndForget(p(function*(){return function(i,o,s,a,c){const u=new w0({next:d=>{o.enqueueAndForget(()=>sR(i,l)),d.fromCache&&"server"===a.source?c.reject(new B(N.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(d)},error:d=>c.reject(d)}),l=new uR(s,u,{includeMetadataChanges:!0,Ku:!0});return iR(i,l)}(yield sd(t),t.asyncQueue,e,n,r)})),r.promise}(n,t._query).then(i=>new dd(e,r,t,i))}function yEe(t,e,n){t=Ne(t,Zt);const r=Ne(t.firestore,wt),i=ZR(t.converter,e,n);return og(r,[qR(cd(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Et.none())])}function vEe(t,e,n,...r){t=Ne(t,Zt);const i=Ne(t.firestore,wt),o=cd(i);let s;return s="string"==typeof(e=Xn(e))||e instanceof ad?function R9(t,e,n,r,i,o){const s=t.ya(1,e,n),a=[rg(e,r,n)],c=[i];if(o.length%2!=0)throw new B(N.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(rg(e,o[h])),c.push(o[h+1]);const u=[],l=Gn.empty();for(let h=a.length-1;h>=0;--h)if(!L9(u,a[h])){const f=a[h];let _=c[h];_=Xn(_);const y=s.da(f);if(_ instanceof ng)u.push(f);else{const v=Lc(_,y);null!=v&&(u.push(f),l.set(f,v))}}const d=new Lr(u);return new A9(l,d,s.fieldTransforms)}(o,"updateDoc",t._key,e,n,r):function M9(t,e,n,r){const i=t.ya(1,e,n);KR("Data must be an object, but it was:",i,r);const o=[],s=Gn.empty();ea(r,(c,u)=>{const l=S0(e,c,n);u=Xn(u);const d=i.da(l);if(u instanceof ng)o.push(l);else{const h=Lc(u,d);null!=h&&(o.push(l),s.set(l,h))}});const a=new Lr(o);return new A9(s,a,i.fieldTransforms)}(o,"updateDoc",t._key,e),og(i,[s.toMutation(t._key,Et.exists(!0))])}function bEe(t){return og(Ne(t.firestore,wt),[new zl(t._key,Et.none())])}function wEe(t,e){const n=Ne(t.firestore,wt),r=T9(t),i=ZR(t.converter,e);return og(n,[qR(cd(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Et.exists(!1))]).then(()=>r)}function og(t,e){return function(n,r){const i=new pn;return n.asyncQueue.enqueueAndForget(p(function*(){return function yTe(t,e,n){return pR.apply(this,arguments)}(yield function jR(t){return C0(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(an(t),e)}function REe(...t){return new rEe("arrayUnion",t)}function kEe(...t){return new iEe("arrayRemove",t)}!function(t,e=!0){Pl=Ff,mr(new er("firestore",(n,{instanceIdentifier:r,options:i})=>{const o=n.getProvider("app").getImmediate(),s=new wt(new Wwe(n.getProvider("auth-internal")),new Qwe(n.getProvider("app-check-internal")),function(a,c){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new B(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cc(a.options.projectId,c)}(o,r),o);return i=Object.assign({useFetchStreams:e},i),s._setSettings(i),s},"PUBLIC").setMultipleInstances(!0)),Kt(M7,"3.13.0",t),Kt(M7,"3.13.0","esm2017")}();class ni{constructor(e){return e}}const q9="firestore",ek=new te("angularfire2.firestore-instances");function LEe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new ni(r)}}const VEe={provide:class PEe{constructor(){return Tx(q9)}},deps:[[new Dr,ek]]},BEe={provide:ni,useFactory:function FEe(t,e){const n=function Cx(t,e,n){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===n);if(1===o.length)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}(q9,t,e);return n&&new ni(n)},deps:[[new Dr,ek],Cl]};let UEe=(()=>{class t{constructor(){Kt("angularfire",gx.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ce({type:t}),t.\u0275inj=we({providers:[BEe,VEe]}),t})();function jEe(t,...e){return{ngModule:UEe,providers:[{provide:ek,useFactory:LEe(t),multi:!0,deps:[Te,en,$H,HH,[new Dr,WG],[new Dr,g6],...e]}]}}const W9=Bn(wEe,!0),$Ee=Bn(kEe,!0),HEe=Bn(REe,!0),hd=Bn(YTe,!0),K9=Bn(bEe,!0),Co=Bn(T9,!0),tk=Bn(mEe,!0),F0=Bn(_Ee,!0),GEe=Bn(ZTe,!0),zEe=Bn(dEe,!0),qEe=Bn(lEe,!0),fd=Bn(cEe,!0),WEe=Bn(yEe,!0),KEe=Bn(hEe,!0),sg=Bn(vEe,!0),nk=Bn(uEe,!0);let To=(()=>{class t{constructor(n,r){this.firestore=n,this.router=r,this.userDataSubject=new Kn(null),this.userData$=this.userDataSubject.asObservable();const i=localStorage.getItem("user");if(i){const o=JSON.parse(i);this.userDataSubject.next(o)}}registerUser(n,r,i){var o=this;return p(function*(){try{const s=yield o.createUserWithEmailAndPassword(n,r),a=s.user.uid;yield o.addAdditionalAuthData(a,i),yield o.saveUserData(s.user,i),o.router.navigate(["recipes-list"])}catch(s){o.handleError(s)}})()}loginUser(n,r){var i=this;return p(function*(){try{const o=yield i.signInWithEmailAndPassword(n,r),s=o.user.uid,a=yield i.getAdditionalAuthDataById(s);yield i.saveUserData(o.user,a),i.router.navigate(["recipes-list"])}catch(o){i.handleError(o)}})()}logoutUser(){var n=this;return p(function*(){try{yield n.signOutAuth(),yield n.clearUserData(),n.router.navigate(["login"])}catch(r){n.handleError(r)}})()}forgotPassword(n){var r=this;return p(function*(){try{yield r.sendPasswordResetEmail(n),window.alert("Password reset email sent, check your inbox."),r.router.navigate(["login"])}catch(i){r.handleError(i),window.alert(i)}})()}sendPasswordResetEmail(n){return function Yhe(t,e,n){return uE.apply(this,arguments)}(Ty(),n)}createUserWithEmailAndPassword(n,r){return function Jhe(t,e,n){return pE.apply(this,arguments)}(Ty(),n,r)}signInWithEmailAndPassword(n,r){return function Zhe(t,e,n){return ZT(Bs(t),z5.credential(e,n)).catch(function(){var r=p(function*(i){throw"auth/password-does-not-meet-requirements"===i.code&&aE(t),i});return function(i){return r.apply(this,arguments)}}())}(Ty(),n,r)}signOutAuth(){return function cfe(t){return Bs(t).signOut()}(Ty())}addAdditionalAuthData(n,r){return WEe(Co(this.firestore,"Auth",n),r)}getAdditionalAuthDataById(n){var r=this;return p(function*(){const i=Co(r.firestore,"Auth",n),o=yield tk(i);return o.exists()?o.data():null})()}saveUserData(n,r){return new Promise((i,o)=>{if(n&&r){const s={...n,...r};localStorage.setItem("user",JSON.stringify(s)),this.userDataSubject.next(s),i()}else localStorage.setItem("user","null"),this.userDataSubject.next(null),o()})}clearUserData(){return new Promise((n,r)=>{localStorage.removeItem("user"),this.userDataSubject.next(null),n()})}handleError(n){if(n instanceof Error){const i=n.message;console.error(`Error (${n.name}): ${i}`),alert(i)}else console.error("Unknown error:",n),alert(n)}static#e=this.\u0275fac=function(r){return new(r||t)(q(ni),q(Pt))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function YEe(t,e){1&t&&(g(0,"div",21),I(1," Email is required! "),m())}function QEe(t,e){1&t&&(g(0,"div",21),I(1," Please enter a valid email address! "),m())}function JEe(t,e){if(1&t&&(g(0,"div"),A(1,YEe,2,0,"div",20),A(2,QEe,2,0,"div",20),m()),2&t){const n=k();let r,i;C(1),E("ngIf",null==(r=n.registerForm.get("email"))||null==r.errors?null:r.errors.required),C(1),E("ngIf",null==(i=n.registerForm.get("email"))||null==i.errors?null:i.errors.email)}}function ZEe(t,e){1&t&&(g(0,"div",21),I(1," Password is required! "),m())}function XEe(t,e){1&t&&(g(0,"div",21),I(1," Password must be at least 6 characters long! "),m())}function eDe(t,e){if(1&t&&(g(0,"div"),A(1,ZEe,2,0,"div",20),A(2,XEe,2,0,"div",20),m()),2&t){const n=k();let r,i;C(1),E("ngIf",null==(r=n.registerForm.get("password"))||null==r.errors?null:r.errors.required),C(1),E("ngIf",null==(i=n.registerForm.get("password"))||null==i.errors?null:i.errors.minlength)}}function tDe(t,e){1&t&&(g(0,"div",21),I(1," Repeat password is required! "),m())}function nDe(t,e){1&t&&(g(0,"div",21),I(1," Repeat password must be at least 6 characters long! "),m())}function rDe(t,e){if(1&t&&(g(0,"div"),A(1,tDe,2,0,"div",20),A(2,nDe,2,0,"div",20),m()),2&t){const n=k();let r,i;C(1),E("ngIf",null==(r=n.registerForm.get("repeatPassword"))||null==r.errors?null:r.errors.required),C(1),E("ngIf",null==(i=n.registerForm.get("repeatPassword"))||null==i.errors?null:i.errors.minlength)}}function iDe(t,e){1&t&&(g(0,"div",21),I(1," First name is required! "),m())}function oDe(t,e){if(1&t&&(g(0,"div"),A(1,iDe,2,0,"div",20),m()),2&t){const n=k();let r;C(1),E("ngIf",null==(r=n.registerForm.get("firstName"))||null==r.errors?null:r.errors.required)}}function sDe(t,e){1&t&&(g(0,"div",21),I(1," Last name is required! "),m())}function aDe(t,e){if(1&t&&(g(0,"div"),A(1,sDe,2,0,"div",20),m()),2&t){const n=k();let r;C(1),E("ngIf",null==(r=n.registerForm.get("lastName"))||null==r.errors?null:r.errors.required)}}let cDe=(()=>{class t{constructor(n,r,i){this.userService=n,this.fb=r,this.router=i,this.registerForm=this.fb.group({email:["",[Be.required,Be.email]],password:["",[Be.required,Be.minLength(6)]],repeatPassword:["",Be.required],firstName:["",Be.required],lastName:["",Be.required],isActive:[!0,Be.required],isAdmin:[!1,Be.required]})}submitRegisterForm(){var n=this;return p(function*(){if(n.registerForm.valid){const{email:r,password:i,repeatPassword:o,...s}=n.registerForm.value;if(i!==o)return void alert("Password do not match!");try{yield n.userService.registerUser(r,i,s)}catch(a){alert(a)}}})()}static#e=this.\u0275fac=function(r){return new(r||t)(b(To),b(gl),b(Pt))};static#t=this.\u0275cmp=Le({type:t,selectors:[["app-register"]],decls:33,vars:6,consts:[[1,"main-short"],[1,"headerImage"],[1,"wrapper"],[3,"formGroup","ngSubmit"],[1,"title-wrapper"],[1,"title-form"],["for","email"],["type","email","id","email","formControlName","email","autocomplete","email"],[4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password","autocomplete","new-password"],["for","repeatPassword"],["type","password","id","repeatPassword","formControlName","repeatPassword","autocomplete","new-password"],["for","firstName"],["type","text","id","firstName","formControlName","firstName"],["for","lastName"],["type","text","id","lastName","formControlName","lastName"],["type","submit",1,"button",2,"width","100%","margin-top","20px"],["href","#","routerLink","/login"],[1,"hint"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(r,i){if(1&r&&(g(0,"div",0),O(1,"div",1),g(2,"div",2)(3,"form",3),ne("ngSubmit",function(){return i.submitRegisterForm()}),g(4,"div",4)(5,"h1",5),I(6,"Registration"),m()(),g(7,"label",6),I(8,"Email:"),m(),O(9,"input",7),A(10,JEe,3,2,"div",8),g(11,"label",9),I(12,"Password:"),m(),O(13,"input",10),A(14,eDe,3,2,"div",8),g(15,"label",11),I(16,"Repeat password:"),m(),O(17,"input",12),A(18,rDe,3,2,"div",8),g(19,"label",13),I(20,"First name:"),m(),O(21,"input",14),A(22,oDe,2,1,"div",8),g(23,"label",15),I(24,"Last Name:"),m(),O(25,"input",16),A(26,aDe,2,1,"div",8),g(27,"button",17),I(28," Submit "),m(),O(29,"hr"),g(30,"a",18)(31,"div",19),I(32,"Already registered?"),m()()()()()),2&r){let o,s,a,c,u;C(3),E("formGroup",i.registerForm),C(7),E("ngIf",(null==(o=i.registerForm.get("email"))?null:o.invalid)&&(null==(o=i.registerForm.get("email"))?null:o.touched)),C(4),E("ngIf",(null==(s=i.registerForm.get("password"))?null:s.invalid)&&(null==(s=i.registerForm.get("password"))?null:s.touched)),C(4),E("ngIf",(null==(a=i.registerForm.get("repeatPassword"))?null:a.invalid)&&(null==(a=i.registerForm.get("repeatPassword"))?null:a.touched)),C(4),E("ngIf",(null==(c=i.registerForm.get("firstName"))?null:c.invalid)&&(null==(c=i.registerForm.get("firstName"))?null:c.touched)),C(4),E("ngIf",(null==(u=i.registerForm.get("lastName"))?null:u.invalid)&&(null==(u=i.registerForm.get("lastName"))?null:u.touched))}},dependencies:[nn,Ya,zo,qa,Wa,qo,Ls,_i],styles:[".checkbox-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center}form[_ngcontent-%COMP%]{max-width:600px;margin:-50px auto 50px;padding:32px;background-color:var(--backgroundColor);border-radius:unset;box-shadow:0 1px 3px #0000004d}@media (max-width: 460px){form[_ngcontent-%COMP%]{background-color:var(--backgroundColor);border:none}}"]})}return t})();function uDe(t,e){1&t&&(g(0,"div",16),I(1," Email is required! "),m())}function lDe(t,e){1&t&&(g(0,"div",16),I(1," Invalid email! "),m())}function dDe(t,e){if(1&t&&(g(0,"div"),A(1,uDe,2,0,"div",17),A(2,lDe,2,0,"div",17),m()),2&t){const n=k();let r,i;C(1),E("ngIf",null==(r=n.logInForm.get("email"))||null==r.errors?null:r.errors.required),C(1),E("ngIf",null==(i=n.logInForm.get("email"))||null==i.errors?null:i.errors.email)}}function hDe(t,e){1&t&&(g(0,"div",16),I(1," Password is required! "),m())}function fDe(t,e){1&t&&(g(0,"div",16),I(1," Password must be at least 6 characters long! "),m())}function pDe(t,e){if(1&t&&(g(0,"div"),A(1,hDe,2,0,"div",17),A(2,fDe,2,0,"div",17),m()),2&t){const n=k();let r,i;C(1),E("ngIf",null==(r=n.logInForm.get("password"))||null==r.errors?null:r.errors.required),C(1),E("ngIf",null==(i=n.logInForm.get("password"))||null==i.errors?null:i.errors.minlength)}}function gDe(t,e){if(1&t&&(g(0,"div"),I(1),m()),2&t){const n=k();C(1),ht(n.loginError)}}let mDe=(()=>{class t{constructor(n,r,i,o){this.userService=n,this.fb=r,this.route=i,this.router=o,this.loginError=null,this.returnUrl=null,this.logInForm=this.fb.group({email:["",[Be.required,Be.email]],password:["",[Be.required,Be.minLength(6)]]})}ngOnInit(){this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/"}submitLogInForm(){var n=this;return p(function*(){if(n.logInForm.valid){const{email:r,password:i}=n.logInForm.value;try{yield n.userService.loginUser(r,i);const o=n.returnUrl||"/category";yield n.router.navigateByUrl(o)}catch(o){console.log(o)}}})()}static#e=this.\u0275fac=function(r){return new(r||t)(b(To),b(gl),b(ki),b(Pt))};static#t=this.\u0275cmp=Le({type:t,selectors:[["app-login"]],decls:30,vars:4,consts:[[1,"main-short"],[1,"headerImage"],[1,"wrapper"],[3,"formGroup","ngSubmit"],[1,"title-wrapper"],[1,"title-form"],[1,"formGroup"],["for","email"],["type","text","id","email","formControlName","email","autocomplete","email"],[4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password","autocomplete","current-password"],["type","submit",1,"button",2,"width","100%"],["href","#","routerLink","/register"],[1,"hint"],["href","#","routerLink","/forgot-password"],[1,"errors"],["class","errors",4,"ngIf"]],template:function(r,i){if(1&r&&(g(0,"div",0),O(1,"div",1),g(2,"div",2)(3,"form",3),ne("ngSubmit",function(){return i.submitLogInForm()}),g(4,"div",4)(5,"h1",5),I(6,"Login"),m()(),g(7,"div",6)(8,"label",7),I(9,"Email"),m(),O(10,"input",8),A(11,dDe,3,2,"div",9),m(),g(12,"div",6)(13,"label",10),I(14,"Password"),m(),O(15,"input",11),A(16,pDe,3,2,"div",9),m(),O(17,"br"),g(18,"div",6)(19,"button",12),I(20,"Submit"),m()(),A(21,gDe,2,1,"div",9),O(22,"hr"),g(23,"div")(24,"a",13)(25,"div",14),I(26,"Don't have a Registration yet?"),m()(),g(27,"a",15)(28,"div",16),I(29,"Forgot your password?"),m()()()()()()),2&r){let o,s;C(3),E("formGroup",i.logInForm),C(8),E("ngIf",(null==(o=i.logInForm.get("email"))?null:o.invalid)&&(null==(o=i.logInForm.get("email"))?null:o.touched)),C(5),E("ngIf",(null==(s=i.logInForm.get("password"))?null:s.invalid)&&(null==(s=i.logInForm.get("password"))?null:s.touched)),C(5),E("ngIf",i.loginError)}},dependencies:[nn,Ya,zo,qa,Wa,qo,Ls,_i],styles:["form[_ngcontent-%COMP%]{max-width:600px;margin:-50px auto 50px;padding:32px;background-color:var(--backgroundColor);border-radius:unset;box-shadow:0 1px 3px #0000004d}@media (max-width: 460px){form[_ngcontent-%COMP%]{background-color:var(--backgroundColor);border:none}}"]})}return t})(),_De=(()=>{class t{constructor(n){this.userService=n}static#e=this.\u0275fac=function(r){return new(r||t)(b(To))};static#t=this.\u0275cmp=Le({type:t,selectors:[["app-forgot-password"]],decls:21,vars:0,consts:[[1,"main-short"],[1,"headerImage"],[1,"wrapper"],[1,"form-wrapper"],[1,"title-wrapper",2,"flex-direction","column"],[1,"title-form"],[1,"title-form",2,"justify-content","flex-end"],[1,"hint"],[1,"formGroup"],["type","email","placeholder","Email","required","",1,"formControl"],["passwordResetEmail",""],[1,"errors"],[1,"buttons"],["type","submit","value","\u0418\u0437\u043f\u0440\u0430\u0442\u0438 \u0438\u043c\u0435\u0439\u043b",1,"button",3,"click"],["href","#","routerLink","/login"]],template:function(r,i){if(1&r){const o=Ze();g(0,"div",0),O(1,"div",1),g(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),I(6,"Forgotten"),m()(),g(7,"h1",6),I(8,"password"),m(),g(9,"p",7),I(10," Please enter your email address so we can send you a password reset email. "),m(),g(11,"div",8),O(12,"input",9,10),m(),g(14,"p",11),I(15," If you can't find the email, please check your spam folder! "),m(),g(16,"div",12)(17,"input",13),ne("click",function(){ze(o);const a=Nr(13);return qe(i.userService.forgotPassword(a.value))}),m(),g(18,"a",14)(19,"div",7),I(20,"Return to Login"),m()()()()()()}},dependencies:[_i],styles:[".form-wrapper[_ngcontent-%COMP%]{max-width:600px;margin:-50px auto 50px;padding:32px;background-color:var(--backgroundColor);border-radius:unset;box-shadow:0 1px 3px #0000004d}.buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.wrapper[_ngcontent-%COMP%]{padding:0 5%;max-width:600px;margin:0 auto}"]})}return t})(),yDe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Le({type:t,selectors:[["app-carousel"]],decls:24,vars:0,consts:[["id","carouselExampleAutoplaying","data-bs-ride","carousel",1,"carousel","slide"],[1,"overlay"],[1,"info"],[1,"carousel-title"],[1,"subtitle"],["routerLink","/recipes-list",1,"infoBtn"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","https://www.aveeno.com/sites/aveeno_us_2/files/healingherbswithmortaran_687349.jpg","alt","...",1,"carousel-img","d-block","w-100"],[1,"carousel-item"],["src","https://imgix-prod.sgs.com/-/media/sgscorp/images/connectivity-and-products/aromatics-pexels.cdn.en-MU.1.jpg","alt","...",1,"carousel-img","d-block","w-100"],["src","https://images.pexels.com/photos/1793035/pexels-photo-1793035.jpeg","alt","...",1,"carousel-img","d-block","w-100"],["type","button","data-bs-target","#carouselExampleAutoplaying","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleAutoplaying","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(r,i){1&r&&(g(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),I(4,"Welcome to our Healing Herbal Recipe Community!"),m(),g(5,"div",4),I(6," Explore a wealth of new herbal recipes designed for healing right here. Upon registration, you'll gain access to not only adding your favorite healing recipes but also rating and commenting on the ones that resonate with you. Join us in nurturing wellness through the power of herbal remedies! "),m(),g(7,"a",5),I(8,"READ MORE"),m()()(),g(9,"div",6)(10,"div",7),O(11,"img",8),m(),g(12,"div",9),O(13,"img",10),m(),g(14,"div",9),O(15,"img",11),m()(),g(16,"button",12),O(17,"span",13),g(18,"span",14),I(19,"Previous"),m()(),g(20,"button",15),O(21,"span",16),g(22,"span",14),I(23,"Next"),m()()())},dependencies:[_i],styles:[".carousel[_ngcontent-%COMP%]{max-height:93vh;overflow:hidden}.carousel-img[_ngcontent-%COMP%]{height:100vh;object-fit:cover}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{z-index:9}.overlay[_ngcontent-%COMP%]{position:absolute;inset:0 50% 0 0;background-color:#a7575e99;z-index:9}.info[_ngcontent-%COMP%]{position:absolute;left:47%;right:10%;top:40%;transform:translate(2%,-27%);color:var(--mainWhiteColor);text-align:left}.carousel-title[_ngcontent-%COMP%]{font-size:32px;padding-bottom:20px;font-weight:900;line-height:35px;color:var(--backgroundColor);text-align:left;box-shadow:unset}.subtitle[_ngcontent-%COMP%]{font-style:italic;color:var(--backgroundColor)}.infoBtn[_ngcontent-%COMP%]{background-color:var(--backgroundColor);color:var(--textColor);padding:13px 35px;font-size:14px;margin-top:40px;display:inline-block;font-weight:700;font-family:Roboto,sans-serif;border:1px solid transparent}.infoBtn[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:transparent;border:1px solid var(--backgroundColor);color:var(--mainWhiteColor)}@media (max-width: 460px){.overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#a7575e99;z-index:9}.info[_ngcontent-%COMP%]{position:absolute;left:10%;right:10%;top:30%;color:var(--mainWhiteColor);text-align:center}.infoBtn[_ngcontent-%COMP%]{margin-top:10px}.carousel-title[_ngcontent-%COMP%]{font-size:26px;padding-bottom:10px;font-weight:900;text-align:center}}@media (min-width: 461px) and (max-width: 767px){.overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#a7575e99;z-index:9}.info[_ngcontent-%COMP%]{position:absolute;left:10%;right:10%;top:30%;color:var(--mainWhiteColor);text-align:center}.infoBtn[_ngcontent-%COMP%]{margin-top:10px}.carousel-title[_ngcontent-%COMP%]{font-size:26px;padding-bottom:10px;font-weight:900}}@media (min-width: 768px) and (max-width: 1023px){.info[_ngcontent-%COMP%]{position:absolute;left:10%;right:10%;top:30%;color:var(--mainWhiteColor)}}"]})}return t})(),Y9=(()=>{class t{constructor(n,r){this.firestore=n,this.router=r,this.hasMoreRecipes$=new Kn(!0),this.lastDocSubject=new Kn(void 0),this.lastDoc$=this.lastDocSubject.asObservable()}getRecipeByUID(n){var r=this;return p(function*(){try{const i=hd(r.firestore,"Recipe"),o=fd(i,nk("uid","==",n)),s=yield F0(o),a=[];return s.forEach(c=>{const l={...c.data(),id:c.id};a.push(l)}),a}catch(i){return console.error("Error retrieving recipes:",i),[]}})()}get hasMoreRecipesObservable(){return this.hasMoreRecipes$.asObservable()}getRecipesLoadMore(){var n=this;return p(function*(){const i=yield function vDe(t,e){const n="object"==typeof e;return new Promise((r,i)=>{const o=new Wi({next:s=>{r(s),o.unsubscribe()},error:i,complete:()=>{n?r(e.defaultValue):i(new Vh)}});t.subscribe(o)})}(n.lastDoc$);let s=fd(hd(n.firestore,"Recipe"),qEe("title"));i&&(s=fd(s,KEe(i))),s=fd(s,zEe(6));const a=yield F0(s);let c=[];a.forEach(d=>{const f={...d.data(),id:d.id};c.push(f)});const u=6===a.size;return n.lastDocSubject.next(a.docs[a.docs.length-1]),{data:c,hasMore:u}})()}static#e=this.\u0275fac=function(r){return new(r||t)(q(ni),q(Pt))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const bDe=function(t){return["/recipe",t]};function wDe(t,e){if(1&t&&(g(0,"div")(1,"a",8)(2,"div",9)(3,"div",10),O(4,"img",11),m(),g(5,"p",12),I(6),m()()()()),2&t){const n=e.$implicit;C(1),E("routerLink",Pa(4,bDe,n.id)),C(3),yh("alt",n.title),E("src",n.image_recipe[0].image_recipe,Ds),C(2),ht(n.title)}}function IDe(t,e){if(1&t){const n=Ze();g(0,"button",13),ne("click",function(){return ze(n),qe(k().getRecipesLoadMore())}),I(1," Load More "),m()}}let CDe=(()=>{class t{constructor(n){this.recipeService=n,this.recipes=[],this.showLoadMoreButton=!0,this.hasMoreRecipes=!0}ngOnInit(){this.hasMoreRecipes$=this.recipeService.hasMoreRecipesObservable,this.getRecipesLoadMore(),this.setupHasMoreRecipesSubscription()}getRecipesLoadMore(){var n=this;return p(function*(){const{data:r,hasMore:i}=yield n.recipeService.getRecipesLoadMore();console.log(i),n.showLoadMoreButton=i,n.recipes.push(...r)})()}setupHasMoreRecipesSubscription(){this.hasMoreRecipesSub=this.recipeService.hasMoreRecipesObservable.subscribe(n=>{this.hasMoreRecipes=n})}ngOnDestroy(){this.hasMoreRecipesSub&&this.hasMoreRecipesSub.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)(b(Y9))};static#t=this.\u0275cmp=Le({type:t,selectors:[["app-recipes-list"]],decls:9,vars:2,consts:[[1,"main-long"],[1,"headerImage"],[1,"wrapper-list"],[1,"title-wrapper"],[1,"title"],[1,"recipe-list"],[4,"ngFor","ngForOf"],["class","button",3,"click",4,"ngIf"],[3,"routerLink"],[1,"recipe-item"],[1,"recipe-image"],[3,"src","alt"],[1,"recipe-title"],[1,"button",3,"click"]],template:function(r,i){1&r&&(g(0,"main",0),O(1,"div",1),g(2,"div",2)(3,"div",3)(4,"h1",4),I(5,"Recipes"),m()(),g(6,"div",5),A(7,wDe,7,6,"div",6),m(),A(8,IDe,2,0,"button",7),m()()),2&r&&(C(7),E("ngForOf",i.recipes),C(1),E("ngIf",i.showLoadMoreButton))},dependencies:[pr,nn,_i],styles:[".wrapper-list[_ngcontent-%COMP%]{margin:-50px auto 50px;max-width:1200px;background-color:var(--backgroundColor);box-shadow:0 1px 3px #0000004d;padding:32px}.title-wrapper[_ngcontent-%COMP%]{margin-left:10px}.recipe-list[_ngcontent-%COMP%]{position:relative;display:grid;grid-template-columns:repeat(4,1fr);row-gap:20px;margin-bottom:100px}.recipe-item[_ngcontent-%COMP%]{margin:5px;position:relative}.recipe-image[_ngcontent-%COMP%]{padding:5px;position:relative;transition:transform 1s ease-in-out}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;width:100%;object-fit:fill}.recipe-title[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%);background:rgba(167,87,94,.8);color:var(--backgroundColor);font-size:18px;font-weight:900;padding:0 5px;margin:0;text-align:center;width:100%;text-transform:uppercase;top:80%;height:30%;line-height:20px;font-family:Caveat,cursive;display:flex;align-items:center;justify-content:center;transition:top 1s ease-in-out}.recipe-item[_ngcontent-%COMP%]:hover   .recipe-title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;top:0;height:30%;color:var(--textColor);background:var(--backgroundColor);transition:1s ease-in-out;box-shadow:1px 5px 15px #a7575e}.recipe-item[_ngcontent-%COMP%]:hover   .recipe-image[_ngcontent-%COMP%]{transform:translateY(12%)}@media only screen and (max-width: 460px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 20px 50px;padding:16px}.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}.recipe-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:16px;height:30%}}@media (min-width: 461px) and (max-width: 767px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:30px}.recipe-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:18px;height:30%}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 768px) and (max-width: 1023px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);column-gap:10px;row-gap:30px}.recipe-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:18px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}@media (min-width: 1024px) and (max-width: 1440px){.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);column-gap:10px;row-gap:30px}.recipe-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:18px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}"]})}return t})(),Q9=(()=>{class t{markFormGroupTouched(n){Object.values(n.controls).forEach(r=>{r.markAsTouched(),r instanceof pl&&this.markFormGroupTouched(r)})}markFormArrayControlsTouched(n){for(let r=0;r<n.length;r++){const i=n.at(r);this.markFormGroupTouched(i)}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();_l("firebase","10.9.0","app");const L0_firebaseConfig={apiKey:"AIzaSyCVbXDjBGUwaOrn1CZYGIwce1dYPKpR7PA",authDomain:"the-natural-way.firebaseapp.com",projectId:"the-natural-way",storageBucket:"the-natural-way.appspot.com",messagingSenderId:"778711637280",appId:"1:778711637280:web:30b52ea2a4e159578fcb45"},L0_cloudinaryConfig_cloudName="dsla98vyk",L0_cloudinaryConfig_uploadPreset="the_natural_way";c5(L0_firebaseConfig);let J9=(()=>{class t{constructor(){this.cloudName=L0_cloudinaryConfig_cloudName,this.uploadPreset=L0_cloudinaryConfig_uploadPreset,this.imageUploaded=new P}ngOnInit(){this.myWidget=cloudinary.createUploadWidget({cloudName:this.cloudName,uploadPreset:this.uploadPreset,maxImageWidth:500},(n,r)=>{!n&&r&&"success"===r.event&&(console.log("Done! Here is the image info: ",r.info),this.onImagesUploaded(r.info.secure_url))})}onImagesUploaded(n){this.imageUploaded.emit(n)}openWidget(){this.myWidget.open()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Le({type:t,selectors:[["app-image-upload"]],outputs:{imageUploaded:"imageUploaded"},decls:4,vars:0,consts:[["id","upload_widget",1,"button-img",3,"click"],[1,"fa-solid","fa-plus","fa-beat-fade"]],template:function(r,i){1&r&&(g(0,"div")(1,"button",0),ne("click",function(){return i.openWidget()}),O(2,"i",1),I(3," Add images (optional) "),m()())}})}return t})();function DDe(t,e){1&t&&(g(0,"div",24),I(1," Please fill in the title! "),m())}function SDe(t,e){if(1&t&&(g(0,"div"),A(1,DDe,2,0,"div",23),m()),2&t){const n=k();let r;C(1),E("ngIf",null==(r=n.recipeForm.get("title"))||null==r.errors?null:r.errors.required)}}function xDe(t,e){1&t&&(g(0,"div",24),I(1," Please fill in a subtitle! "),m())}function ADe(t,e){if(1&t&&(g(0,"div"),A(1,xDe,2,0,"div",23),m()),2&t){const n=k();let r;C(1),E("ngIf",null==(r=n.recipeForm.get("subtitle"))||null==r.errors?null:r.errors.required)}}function NDe(t,e){1&t&&(g(0,"div",24),I(1," Please fill in the method of preparation! "),m())}function ODe(t,e){if(1&t&&(g(0,"div"),A(1,NDe,2,0,"div",23),m()),2&t){const n=k();let r;C(1),E("ngIf",null==(r=n.recipeForm.get("description"))||null==r.errors?null:r.errors.required)}}function MDe(t,e){if(1&t){const n=Ze();g(0,"app-image-upload",25),ne("imageUploaded",function(i){return ze(n),qe(k().addImageToForm(i))}),m()}}function RDe(t,e){if(1&t&&O(0,"img",33),2&t){const n=k().index;let i;E("src",null==(i=k().image_recipe.controls[n].get("image_recipe"))?null:i.value,Ds)}}function kDe(t,e){if(1&t){const n=Ze();g(0,"div",26)(1,"label",12),I(2,"Images:"),m(),g(3,"p",27),I(4,"Added image"),m(),g(5,"div",28),O(6,"input",29),g(7,"button",30),ne("click",function(){const o=ze(n).index;return qe(k().removeImage(o))}),O(8,"i",31),m()(),A(9,RDe,1,1,"img",32),O(10,"br")(11,"br"),m()}if(2&t){const n=e.index,r=k();let i;E("formGroupName",n),C(9),E("ngIf",null==(i=r.image_recipe.controls[n].get("image_recipe"))?null:i.value)}}function PDe(t,e){if(1&t){const n=Ze();g(0,"div",26)(1,"label",12),I(2,"Video:"),m(),g(3,"p",27),I(4,"Add youtube video link here"),m(),g(5,"div",28),O(6,"input",34),g(7,"button",30),ne("click",function(){const o=ze(n).index;return qe(k().removeVideo(o))}),O(8,"i",31),m()()()}2&t&&E("formGroupName",e.index)}function FDe(t,e){1&t&&(g(0,"div",24),I(1," Please enter an ingredient name! "),m())}function LDe(t,e){if(1&t&&(g(0,"div"),A(1,FDe,2,0,"div",23),m()),2&t){const n=k().index,r=k();let i;C(1),E("ngIf",null==(i=r.recipeForm.get("ingredients."+n+".name"))||null==i.errors?null:i.errors.required)}}function VDe(t,e){1&t&&(g(0,"div",24),I(1," Please fill in the quantity of the ingredient! "),m())}function BDe(t,e){if(1&t&&(g(0,"div"),A(1,VDe,2,0,"div",23),m()),2&t){const n=k().index,r=k();let i;C(1),E("ngIf",null==(i=r.recipeForm.get("ingredients."+n+".amount"))||null==i.errors?null:i.errors.required)}}function UDe(t,e){1&t&&(g(0,"div",24),I(1," Please select a unit of measurement! "),m())}function jDe(t,e){if(1&t&&(g(0,"div"),A(1,UDe,2,0,"div",23),m()),2&t){const n=k().index,r=k();let i;C(1),E("ngIf",null==(i=r.recipeForm.get("ingredients."+n+".unit"))||null==i.errors?null:i.errors.required)}}function $De(t,e){if(1&t){const n=Ze();g(0,"div",26)(1,"div",35)(2,"div",36)(3,"button",37),ne("click",function(){const o=ze(n).index;return qe(k().removeIngredient(o))}),O(4,"i",31),m()(),g(5,"div",38),O(6,"hr"),g(7,"p"),I(8),m(),O(9,"hr"),m(),g(10,"label",39),I(11,"Name"),m(),O(12,"input",40),A(13,LDe,2,1,"div",8),g(14,"div",41)(15,"div",42)(16,"label",43),I(17,"Quantity"),m(),O(18,"input",44),m(),g(19,"div",45)(20,"label",46),I(21,"Unit\xa0*"),m(),g(22,"select",47)(23,"option",48),I(24," Please Choose... "),m(),g(25,"option",49),I(26,"Tea spoon"),m(),g(27,"option",50),I(28,"Tablespoon"),m(),g(29,"option",51),I(30,"Tea cup"),m(),g(31,"option",52),I(32,"Coffee cup"),m(),g(33,"option",53),I(34,"Gram"),m(),g(35,"option",54),I(36,"Kilogram"),m(),g(37,"option",55),I(38,"Milliliter"),m(),g(39,"option",56),I(40,"Liter"),m(),g(41,"option",57),I(42,"Pieces"),m()()(),g(43,"div",58)(44,"label",59),I(45,"Order\xa0**"),m(),O(46,"input",60),m()(),g(47,"p",27),I(48,"* In which we measure the ingredient"),m(),g(49,"p",27),I(50," ** The order in which the ingredients appear in the recipe "),m(),A(51,BDe,2,1,"div",8),A(52,jDe,2,1,"div",8),m()()}if(2&t){const n=e.index,r=k();let i,o,s;E("formGroupName",n),C(8),dr("\xa0\xa0Ingredient\xa0",n+1,"\xa0"),C(5),E("ngIf",null==(i=r.recipeForm.get("ingredients."+n+".name"))?null:i.touched),C(38),E("ngIf",null==(o=r.recipeForm.get("ingredients."+n+".amount"))?null:o.touched),C(1),E("ngIf",null==(s=r.recipeForm.get("ingredients."+n+".unit"))?null:s.touched)}}let HDe=(()=>{class t{constructor(n,r,i,o,s,a,c){this.fb=r,this.router=i,this.userService=o,this.el=s,this.renderer=a,this.formErrorCheckService=c,this.editorConfig={},this.fullName="",this.userData=null,this.currentOrderIndex=1,this.firestore=n,this.recipeForm=this.fb.group({is_active:[!1],title:["",[Be.required]],subtitle:["",[Be.required]],description:["",[Be.required]],summary:[""],author:[""],uid:[""],image_recipe:this.fb.array([]),video_recipe:this.fb.array([]),preparation_method:this.fb.array([]),likes:this.fb.array([]),ingredients:this.fb.array([this.fb.group({name:["",[Be.required]],amount:[null,[Be.required]],unit:["",[Be.required]],order_index:[0]})])}),this.userService.userData$.subscribe({next:u=>{u?this.userData=u:console.log(`Cant found user with this UID ${u.uid}`)},error:u=>{console.log(u)}})}ngOnInit(){this.editorConfig={content_style:"body { background-color: #f6f4f9; }",content_css:"default",base_url:"/tinymce",suffix:".min",menubar:!1,height:300,toolbar:"undo redo | formatselect | bold italic backcolor |           alignleft aligncenter alignright alignjustify |           bullist numlist outdent indent | removeformat "}}addImageToForm(n){this.recipeForm.get("image_recipe").push(this.fb.group({image_recipe:n}))}removeImage(n){this.recipeForm.get("image_recipe").removeAt(n)}addVideo(){this.recipeForm.get("video_recipe").push(this.fb.group({video_recipe:""}))}removeVideo(n){this.recipeForm.get("video_recipe").removeAt(n)}addPreparation(){this.recipeForm.get("preparation_method").push(this.fb.group({preparation_method:""}))}removePreparation(n){this.recipeForm.get("preparation_method").removeAt(n)}addIngredient(){this.recipeForm.get("ingredients").push(this.fb.group({name:["",[Be.required]],amount:[null,[Be.required]],unit:["",[Be.required]],order_index:this.currentOrderIndex})),this.currentOrderIndex++,console.log(this.currentOrderIndex)}removeIngredient(n){this.recipeForm.get("ingredients").removeAt(n)}get ingredients(){return this.recipeForm.get("ingredients")}get image_recipe(){return this.recipeForm.get("image_recipe")}get video_recipe(){return this.recipeForm.get("video_recipe")}get preparation_method(){return this.recipeForm.get("preparation_method")}onSubmit(){this.formErrorCheckService.markFormGroupTouched(this.recipeForm),this.formErrorCheckService.markFormArrayControlsTouched(this.ingredients),this.recipeForm.invalid?alert("The form is not valid. Please fill in all required fields."):(console.log(this.image_recipe),0===this.image_recipe.length&&this.addImageToForm("https://res.cloudinary.com/dsla98vyk/image/upload/v1710856403/no_image_u8yfwc.png"),this.recipeForm.patchValue({author:this.userData.firstName+" "+this.userData.lastName}),this.recipeForm.patchValue({uid:this.userData.uid}),this.addRecipe(this.recipeForm.value),this.recipeForm.reset())}addRecipe(n){W9(hd(this.firestore,"Recipe"),n).then(i=>{console.log("Document written with ID: ",i.id),this.router.navigate(["/recipe",i.id])}).catch(i=>{console.error("Error adding document: ",i)})}static#e=this.\u0275fac=function(r){return new(r||t)(b(ni),b(gl),b(Pt),b(To),b($e),b(Ar),b(Q9))};static#t=this.\u0275cmp=Le({type:t,selectors:[["app-recipe-create"]],decls:43,vars:8,consts:[[1,"main-long"],[1,"headerImage"],[1,"wrapper"],[3,"formGroup"],[1,"title-wrapper"],[1,"title","add-recipe"],[1,"subtitle"],["type","text","id","title","formControlName","title"],[4,"ngIf"],["type","text","id","subtitle","formControlName","subtitle"],["for","description"],["placeholder","Explain how to make your recipe ...","name","text","id","description","formControlName","description","cols","30","rows","5"],["for","summary"],["placeholder","Add any helpful tips about ingredient substitutions or storage here.","type","text","id","summary","formControlName","summary"],[1,"img-video"],[3,"imageUploaded",4,"ngIf"],["formArrayName","image_recipe"],[3,"formGroupName",4,"ngFor","ngForOf"],["formArrayName","video_recipe"],["type","button",1,"button-img",3,"click"],[1,"fa-solid","fa-plus","fa-beat-fade"],["formArrayName","ingredients",1,"ingredients"],["type","button",1,"button",2,"width","100%",3,"click"],["class","errors",4,"ngIf"],[1,"errors"],[3,"imageUploaded"],[3,"formGroupName"],[1,"hint"],[1,"input-flex"],["type","text","id","image_recipe","formControlName","image_recipe"],["type","button",1,"removeInput",3,"click"],[1,"fa-solid","fa-xmark","fa-beat-fade"],["alt","Image Preview","class","image-preview",3,"src",4,"ngIf"],["alt","Image Preview",1,"image-preview",3,"src"],["type","text","id","video_recipe","formControlName","video_recipe","placeholder","Paste the video link here"],[1,"ingredient"],[1,"removeIngredientWrapper"],["type","button",1,"removeIngredient",3,"click"],[1,"divider"],["for","name"],["type","text","id","name","formControlName","name"],[1,"quantity-unit-index-wrapper"],[1,"quantity"],["for","amount"],["type","number","id","amount","formControlName","amount"],[1,"unit"],["for","ingredient_unit"],["id","ingredient_unit","formControlName","unit"],["value","","disabled","","selected","","hidden",""],["value","ts."],["value","tbs."],["value","tc."],["value","cc."],["value","gr."],["value","kg."],["value","ml."],["value","l."],["value","pieces"],[1,"order-index"],["for","ingredient_order_index"],["type","number","id","ingredient_order_index","formControlName","order_index"]],template:function(r,i){if(1&r&&(g(0,"div",0),O(1,"div",1),g(2,"div",2)(3,"form",3)(4,"div",4)(5,"h1",5),I(6,"Add a Recipe"),m()(),g(7,"h4",6),I(8," Uploading personal recipes is easy! Add yours to your favorites, share with friends, family, or the our community. "),m(),g(9,"label"),I(10,"Recipe Title "),m(),O(11,"input",7),A(12,SDe,2,1,"div",8),g(13,"label"),I(14,"Subtitle"),m(),O(15,"input",9),A(16,ADe,2,1,"div",8),g(17,"div")(18,"label",10),I(19,"Method of preparation"),m(),O(20,"textarea",11),m(),A(21,ODe,2,1,"div",8),g(22,"div")(23,"label",12),I(24,"Summary (optional)"),m(),O(25,"input",13),m(),g(26,"div",14),O(27,"br"),A(28,MDe,1,0,"app-image-upload",15),g(29,"div",16),A(30,kDe,12,2,"div",17),m(),g(31,"div",18),A(32,PDe,9,1,"div",17),g(33,"button",19),ne("click",function(){return i.addVideo()}),O(34,"i",20),I(35," Add a video link (optional) "),m()()(),g(36,"div",21),A(37,$De,53,5,"div",17),m(),g(38,"button",19),ne("click",function(){return i.addIngredient()}),O(39,"i",20),I(40," Add one more ingredient "),m(),g(41,"button",22),ne("click",function(){return i.onSubmit()}),I(42," Submit Recipe "),m()()()()),2&r){let o,s,a;C(3),E("formGroup",i.recipeForm),C(9),E("ngIf",null==(o=i.recipeForm.get("title"))?null:o.touched),C(4),E("ngIf",null==(s=i.recipeForm.get("subtitle"))?null:s.touched),C(5),E("ngIf",null==(a=i.recipeForm.get("description"))?null:a.touched),C(7),E("ngIf",0==i.image_recipe.length),C(2),E("ngForOf",i.image_recipe.controls),C(2),E("ngForOf",i.video_recipe.controls),C(5),E("ngForOf",i.ingredients.controls)}},dependencies:[pr,nn,Ya,PC,LC,zo,Z_,ff,qa,Wa,qo,Ls,df,hf,J9],styles:['form[_ngcontent-%COMP%]{max-width:600px;margin:-50px auto 50px;padding:32px;background-color:var(--backgroundColor);border-radius:unset;box-shadow:0 1px 3px #0000004d}.title-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;padding-bottom:10px}.add-recipe[_ngcontent-%COMP%]:before{background:linear-gradient(to bottom,transparent 35%,var(--textColor) 35%,var(--textColor) 65%,transparent 65%),linear-gradient(to right,transparent 35%,var(--textColor) 35%,var(--textColor) 65%,transparent 65%);content:"";width:25px;height:25px;align-content:center;flex-wrap:nowrap;flex-direction:row}.add-recipe[_ngcontent-%COMP%]{display:flex;box-shadow:inset 0 -24px 0 0 var(--mainYellowColor);padding-bottom:10px;font-weight:900;color:var(--mainBlackColor)}.subtitle[_ngcontent-%COMP%]{font: 400 16px/24px Source Sans Pro,sans-serif;letter-spacing:0;color:var(--mainBlackColor)}label[_ngcontent-%COMP%]{color:var(--mainBlackColor);font-weight:700}textarea[_ngcontent-%COMP%]::placeholder, input[_ngcontent-%COMP%]::placeholder{font-weight:700;font-style:italic;opacity:.5;color:var(--textColor)}.input-flex[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:unset}.input-flex[_ngcontent-%COMP%]{display:flex;gap:20px;align-items:baseline;margin-bottom:20px}.ingredient[_ngcontent-%COMP%]{background-color:var(--aliceBlueColor);box-shadow:0 1px 3px #0000004d;padding:20px;margin-bottom:30px;position:relative}.removeIngredientWrapper[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.removeIngredient[_ngcontent-%COMP%]{border:unset;background-color:unset}.removeIngredient[_ngcontent-%COMP%]:hover{color:var(--secondColor)}.removeInput[_ngcontent-%COMP%]{all:unset;color:var(--mainRedColor);cursor:pointer;text-align:right}.removeInput[_ngcontent-%COMP%]:hover{color:var(--secondColor)}.fa-xmark[_ngcontent-%COMP%]{color:var(--textColor);border-radius:50%;border:2px solid var(--textColor);padding:4px 6px}.fa-xmark[_ngcontent-%COMP%]:hover{background-color:var(--textColor);color:var(--backgroundColor);border-color:var(--backgroundColor);transition:1s ease-in-out}.quantity-unit-index-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;margin:20px 0;text-align:center;align-items:flex-end;gap:10px}.quantity[_ngcontent-%COMP%]{flex-basis:150px}.order-index[_ngcontent-%COMP%]{flex-basis:50px}.unit[_ngcontent-%COMP%]{flex-grow:5}.unit[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:var(--textColor);font-style:italic;font-size:14px;outline:none;height:45px}']})}return t})(),rk=(()=>{class t{constructor(n){this.firestore=n}getRecipeById(n){var r=this;return p(function*(){const i=Co(r.firestore,"Recipe",n),o=yield tk(i);return o.exists()?o.data():null})()}updateRecipeLikes(n,r,i){var o=this;return p(function*(){const a=Co(o.firestore,"Recipe",n);try{i?(console.log("remove"),yield sg(a,{likes:$Ee(r)})):(console.log("add"),yield sg(a,{likes:HEe(r)})),console.log("Recipe likes updated successfully")}catch(c){console.error("Error updating recipe likes: ",c)}})()}deleteRecipe(n){var r=this;return p(function*(){try{const o=Co(r.firestore,"Recipe",n);yield K9(o),console.log("Recipe deleted successfully:",n)}catch(i){console.error("Error deleting recipe:",i)}})()}static#e=this.\u0275fac=function(r){return new(r||t)(q(ni))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),V0=(()=>{class t{constructor(n){this.firestore=n,this.commentAddedSubject=new Fe}getCommentsForRecipe(n){var r=this;return p(function*(){try{const i=hd(r.firestore,"Comments"),o=fd(i,nk("recipeId","==",n)),s=yield F0(o),a=[];return s.forEach(c=>{const u=c.data();a.push({create_time:u.create_time,name:u.name,recipeId:u.recipeId,text:u.text,uid:u.uid,id:c.id})}),a.sort((c,u)=>{const l=c.create_time.toDate();return u.create_time.toDate()-l}),a}catch(i){return console.error("Error retrieving comments:",i),[]}})()}getCommentsForUser(n){var r=this;return p(function*(){try{const i=hd(r.firestore,"Comments"),o=fd(i,nk("uid","==",n)),s=yield F0(o),a=[];return s.forEach(c=>{const u=c.data();a.push({create_time:u.create_time,name:u.name,recipeId:u.recipeId,text:u.text,uid:u.uid,id:c.id})}),a.sort((c,u)=>{const l=c.create_time.toDate();return u.create_time.toDate()-l}),a}catch(i){return console.error("Error retrieving comments:",i),[]}})()}addComment(n){var r=this;return p(function*(){try{const i="Comments",o=yield W9(hd(r.firestore,i),n);return r.commentAddedSubject.next(),o.id}catch(i){return console.error("Error adding comment:",i),null}})()}deleteComment(n){var r=this;return p(function*(){try{const o=Co(r.firestore,"Comments",n);yield K9(o),console.log("Comment deleted successfully:",n)}catch(i){console.error("Error deleting comment:",i)}})()}getCommentById(n){var r=this;return p(function*(){const i=Co(r.firestore,"Comments",n),o=yield tk(i);if(o.exists()){const s=o.data();return console.log(s.recipeId),o.data()}return null})()}editComment(n,r){var i=this;return p(function*(){try{const s=Co(i.firestore,"Comments",n);yield sg(s,r),console.log("Comment edited successfully:",n)}catch(o){console.error("Error editing comment:",o)}})()}getCommentAddedObservable(){return this.commentAddedSubject.asObservable()}static#e=this.\u0275fac=function(r){return new(r||t)(q(ni))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function GDe(t,e){1&t&&(g(0,"div",9),I(1," Please write your comment here! "),m())}function zDe(t,e){if(1&t&&(g(0,"div"),A(1,GDe,2,0,"div",8),m()),2&t){const n=k();let r;C(1),E("ngIf",null==(r=n.commentForm.get("text"))||null==r.errors?null:r.errors.required)}}let qDe=(()=>{class t{constructor(n,r,i,o){this.fb=n,this.commentService=i,this.userService=o,this.timestamp=new Date,this.fullName="",this.userData=null,this.firestore=r}ngOnInit(){this.commentForm=this.fb.group({name:[""],text:["",Be.required],recipeId:[this.recipeId],create_time:[this.timestamp],uid:[""]}),this.userService.userData$.subscribe({next:n=>{n?(this.userData=n,this.fullName=this.userData.firstName+" "+this.userData.lastName):this.fullName="Anonymous"},error:n=>{console.log(n)}})}onSubmit(){var n=this;return p(function*(){if(n.timestamp=new Date,n.commentForm.valid){n.commentForm.patchValue({name:n.fullName}),n.commentForm.patchValue({recipeId:n.recipeId}),n.commentForm.patchValue({create_time:n.timestamp}),n.commentForm.patchValue({uid:n.userData.uid});try{(yield n.commentService.addComment(n.commentForm.value))?(alert("You have successfully added your comment"),n.commentForm.reset()):console.error("Error adding comment.")}catch(r){console.error("An error occurred while submitting the comment:",r)}}})()}static#e=this.\u0275fac=function(r){return new(r||t)(b(gl),b(ni),b(V0),b(To))};static#t=this.\u0275cmp=Le({type:t,selectors:[["app-comment-form"]],inputs:{recipeId:"recipeId"},decls:15,vars:2,consts:[[1,"commentWrapper"],["id","commentForm",3,"formGroup","ngSubmit"],[1,"divider"],[1,"form-group"],["for","text"],["placeholder","Please write your comment here!","id","text","formControlName","text","rows","5","cols","30",1,"form-control"],[4,"ngIf"],["type","submit",1,"button",2,"width","100%"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(r,i){if(1&r&&(g(0,"div",0)(1,"form",1),ne("ngSubmit",function(){return i.onSubmit()}),g(2,"div",2),O(3,"hr"),g(4,"p"),I(5,"\xa0\xa0Comment\xa0\xa0"),m(),O(6,"hr"),m(),g(7,"div",3)(8,"label",4),I(9,"Comment (required)"),m(),O(10,"textarea",5),m(),A(11,zDe,2,1,"div",6),O(12,"br"),g(13,"button",7),I(14,"Submit"),m()()()),2&r){let o;C(1),E("formGroup",i.commentForm),C(10),E("ngIf",null==(o=i.commentForm.get("text"))?null:o.touched)}},dependencies:[nn,Ya,zo,qa,Wa,qo,Ls],styles:["form#commentForm[_ngcontent-%COMP%]{background-color:var(--backgroundColor);max-width:100%;border:unset}"]})}return t})(),Z9=(()=>{class t{constructor(n){this.sanitizer=n}transform(n){let r;if(n.startsWith("https://m."))r=new URLSearchParams(n.split("?")[1]).get("v")||"";else{const o=n.split("/");r=o[o.length-1]}return this.sanitizer.bypassSecurityTrustResourceUrl("https://www.youtube.com/embed/"+r)}static#e=this.\u0275fac=function(r){return new(r||t)(b(OU,16))};static#t=this.\u0275pipe=Yn({name:"safeUrl",type:t,pure:!0})}return t})();function WDe(t,e){if(1&t&&(g(0,"div",19),I(1),m()),2&t){const n=k();C(1),dr(" ",null==n.recipe?null:n.recipe.summary," ")}}function KDe(t,e){1&t&&(g(0,"div"),O(1,"br"),m())}function YDe(t,e){if(1&t&&(g(0,"li"),O(1,"img",22),m()),2&t){const n=e.$implicit;C(1),E("src",n.image_recipe,Ds)}}function QDe(t,e){if(1&t&&(g(0,"ul",20),A(1,YDe,2,1,"li",21),m()),2&t){const n=k();C(1),E("ngForOf",null==n.recipe?null:n.recipe.image_recipe)}}function JDe(t,e){1&t&&(Wm(0),O(1,"i",26),Km())}function ZDe(t,e){1&t&&O(0,"i",27)}function XDe(t,e){if(1&t){const n=Ze();g(0,"button",23),ne("click",function(){return ze(n),qe(k().updateRecipeLikes())}),A(1,JDe,2,0,"ng-container",24),A(2,ZDe,1,0,"ng-template",null,25,Mr),m()}if(2&t){const n=Nr(3),r=k();C(1),E("ngIf",r.recipe&&r.recipe.likes&&r.recipe.likes.includes(null==r.userData?null:r.userData.uid))("ngIfElse",n)}}function eSe(t,e){if(1&t&&(g(0,"div")(1,"span"),I(2),m()()),2&t){const n=k();C(2),dr("Like: ",null==n.recipe||null==n.recipe.likes?null:n.recipe.likes.length,"")}}function tSe(t,e){1&t&&(g(0,"div",12),O(1,"hr"),g(2,"p"),I(3,"\xa0\xa0Ingredients\xa0\xa0"),m(),O(4,"hr"),m())}function nSe(t,e){if(1&t&&(g(0,"li"),I(1),m()),2&t){const n=k().$implicit;C(1),Mw(" ",n.name," - ",n.amount," ",n.unit," ")}}function rSe(t,e){if(1&t&&(g(0,"ul",28),A(1,nSe,2,3,"li",8),m()),2&t){const n=k();C(1),E("ngIf",null==n.recipe?null:n.recipe.ingredients)}}function iSe(t,e){if(1&t&&(g(0,"li"),O(1,"iframe",30),Fa(2,"safeUrl"),m()),2&t){const n=e.$implicit;C(1),E("src",Ah(2,1,n.video_recipe),Cm)}}function oSe(t,e){if(1&t&&(g(0,"div",29)(1,"div",12),O(2,"hr"),g(3,"p"),I(4,"\xa0\xa0Video\xa0\xa0"),m(),O(5,"hr"),m(),O(6,"br"),g(7,"ul"),A(8,iSe,3,3,"li",21),m()()),2&t){const n=k();C(8),E("ngForOf",null==n.recipe?null:n.recipe.video_recipe)}}function sSe(t,e){1&t&&(g(0,"div",12),O(1,"hr"),g(2,"p"),I(3,"\xa0\xa0Buttons\xa0\xa0"),m(),O(4,"hr"),m())}function aSe(t,e){if(1&t){const n=Ze();g(0,"button",33),ne("click",function(){return ze(n),qe(k(2).toggleCommentForm())}),I(1," Would you like to comment? "),m()}}function cSe(t,e){if(1&t){const n=Ze();g(0,"button",33),ne("click",function(){return ze(n),qe(k(2).toggleCommentForm())}),I(1," Hide comment form "),m()}}function uSe(t,e){if(1&t){const n=Ze();g(0,"button",33),ne("click",function(){return ze(n),qe(k(2).navigateToRecipeEdit())}),I(1," Edit Recipe "),m()}}function lSe(t,e){if(1&t){const n=Ze();g(0,"button",33),ne("click",function(){return ze(n),qe(k(2).navigateToRecipeDelete())}),I(1," Delete Recipe "),m()}}function dSe(t,e){if(1&t&&(g(0,"div",31),A(1,aSe,2,0,"button",32),A(2,cSe,2,0,"button",32),A(3,uSe,2,0,"button",32),A(4,lSe,2,0,"button",32),m()),2&t){const n=k();C(1),E("ngIf",!n.showCommentForm),C(1),E("ngIf",n.showCommentForm),C(1),E("ngIf",n.userData.uid==(null==n.recipe?null:n.recipe.uid)),C(1),E("ngIf",n.userData.uid==(null==n.recipe?null:n.recipe.uid))}}function hSe(t,e){if(1&t&&(g(0,"div"),O(1,"app-comment-form",34),m()),2&t){const n=k();C(1),E("recipeId",n.recipeId)}}function fSe(t,e){1&t&&(g(0,"div",12),O(1,"hr"),g(2,"p"),I(3,"\xa0\xa0Comments\xa0\xa0"),m(),O(4,"hr"),m())}function pSe(t,e){if(1&t){const n=Ze();g(0,"span",39),ne("click",function(){ze(n);const i=k().$implicit;return qe(k(2).deleteComment(i.id))}),O(1,"i",40),m()}}function gSe(t,e){if(1&t){const n=Ze();g(0,"span",39),ne("click",function(){ze(n);const i=k().$implicit;return qe(k(2).navigateToCommentEdit(i.id))}),O(1,"i",41),m()}}function mSe(t,e){if(1&t&&(g(0,"ul")(1,"li"),I(2),m(),g(3,"li"),I(4),m(),g(5,"li",36)(6,"p"),I(7),Fa(8,"date"),m(),g(9,"div",37),A(10,pSe,2,0,"span",38),A(11,gSe,2,0,"span",38),m()(),O(12,"hr"),m()),2&t){const n=e.$implicit,r=k(2);C(2),ht(n.name),C(2),ht(n.text),C(3),dr(" ",Gw(8,5,n.create_time.toDate(),"dd/MM/yyyy HH:mm:ss")," "),C(3),E("ngIf",r.userData&&n.uid==r.userData.uid),C(1),E("ngIf",r.userData&&n.uid==r.userData.uid)}}function _Se(t,e){if(1&t&&(g(0,"section",35),A(1,mSe,13,8,"ul",21),m()),2&t){const n=k();C(1),E("ngForOf",n.comments)}}let ySe=(()=>{class t{constructor(n,r,i,o,s,a){var c=this;this.route=n,this.recipeService=r,this.commentService=i,this.userService=o,this.firestore=s,this.router=a,this.recipe=null,this.recipeId="",this.comments=[],this.showCommentForm=!1,this.route.paramMap.subscribe(function(){var u=p(function*(l){const d=l.get("id");c.recipeId=d});return function(l){return u.apply(this,arguments)}}()),i.getCommentAddedObservable().subscribe(()=>{console.log("Comment successfully added."),this.loadCommentsForRecipe()})}loadRecipeData(){var n=this;return p(function*(){if(n.recipeId)try{n.recipe=yield n.recipeService.getRecipeById(n.recipeId),n.comments=yield n.commentService.getCommentsForRecipe(n.recipeId),console.log("Recipe data loaded successfully.")}catch(r){console.error("An error occurred while loading recipe data:",r)}})()}navigateToRecipeEdit(){this.router.navigate(["/dashboard/recipe-edit",this.recipeId])}navigateToRecipeDelete(){this.router.navigate(["/dashboard/recipe-delete",this.recipeId])}ngOnInit(){this.loadRecipeData(),this.userService.userData$.subscribe(n=>{this.userData=n})}toggleCommentForm(){this.showCommentForm=!this.showCommentForm}navigateToCommentEdit(n){this.router.navigate(["/comment-edit",n])}deleteComment(n){this.commentService.deleteComment(n),this.loadCommentsForRecipe()}updateRecipeLikes(){var n=this;return p(function*(){if(!n.recipe)return void console.error("Recipe data is missing.");if(!n.userData.uid)return void console.error("User is not logged in.");let r=n.recipe.likes.includes(n.userData.uid);console.log(`alreadyLiked ${r}`),console.log(`likes len ${n.recipe.likes.length}`),yield n.recipeService.updateRecipeLikes(n.recipeId,n.userData.uid,r),yield n.loadRecipeData()})()}loadCommentsForRecipe(){var n=this;return p(function*(){n.recipeId&&(n.comments=yield n.commentService.getCommentsForRecipe(n.recipeId))})()}static#e=this.\u0275fac=function(r){return new(r||t)(b(ki),b(rk),b(V0),b(To),b(ni),b(Pt))};static#t=this.\u0275cmp=Le({type:t,selectors:[["app-recipe"]],decls:34,vars:16,consts:[[1,"mainLong"],[1,"headerImage"],[1,"wrapper-list"],[1,"recipe-container"],[1,"title-wrapper"],[1,"title"],[1,"recipe-subtitle"],["class","recipe-summary",4,"ngIf"],[4,"ngIf"],[1,"recipe-hero"],["class","recipe-image",4,"ngIf"],["class","button",3,"click",4,"ngIf"],[1,"divider"],[1,"recipe-description-text","description"],["class","divider",4,"ngIf"],["class","recipe-ingredients",4,"ngFor","ngForOf"],["class","recipe-videos",4,"ngIf"],["class","buttons",4,"ngIf"],["class","comments",4,"ngIf"],[1,"recipe-summary"],[1,"recipe-image"],[4,"ngFor","ngForOf"],["alt","Image of a recipe",3,"src"],[1,"button",3,"click"],[4,"ngIf","ngIfElse"],["notLiked",""],[1,"fa-solid","fa-heart","fa-beat-fade"],[1,"fa-regular","fa-heart","fa-beat-fade"],[1,"recipe-ingredients"],[1,"recipe-videos"],["width","560","height","315","frameborder","0","allowfullscreen","",3,"src"],[1,"buttons"],["class","button-img",3,"click",4,"ngIf"],[1,"button-img",3,"click"],[3,"recipeId"],[1,"comments"],[1,"comments-last"],[1,"commentBtnWrapper"],[3,"click",4,"ngIf"],[3,"click"],[1,"fa-solid","fa-trash","fa-shake"],[1,"fa-regular","fa-pen-to-square","fa-flip"]],template:function(r,i){1&r&&(g(0,"div",0),O(1,"div",1),g(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),I(6),m()(),g(7,"h3",6),I(8),m(),A(9,WDe,2,1,"div",7),A(10,KDe,2,0,"div",8),g(11,"div",9),A(12,QDe,2,1,"ul",10),A(13,XDe,4,2,"button",11),A(14,eSe,3,1,"div",8),g(15,"div",12),O(16,"hr"),g(17,"p"),I(18,"\xa0\xa0Preparation\xa0\xa0"),m(),O(19,"hr"),m(),O(20,"br"),g(21,"p",13),I(22),m(),O(23,"br"),A(24,tSe,5,0,"div",14),O(25,"br"),A(26,rSe,2,1,"ul",15),A(27,oSe,9,1,"div",16),A(28,sSe,5,0,"div",14),O(29,"br"),A(30,dSe,5,4,"div",17),A(31,hSe,2,1,"div",8),A(32,fSe,5,0,"div",14),A(33,_Se,2,1,"section",18),m()()()()),2&r&&(C(6),ht(null==i.recipe?null:i.recipe.title),C(2),ht(null==i.recipe?null:i.recipe.subtitle),C(1),E("ngIf",null==i.recipe?null:i.recipe.summary),C(1),E("ngIf",!(null!=i.recipe&&i.recipe.summary)),C(2),E("ngIf",(null==i.recipe?null:i.recipe.image_recipe)&&(null==i.recipe||null==i.recipe.image_recipe?null:i.recipe.image_recipe.length)>0),C(1),E("ngIf",i.userData),C(1),E("ngIf",(null==i.recipe||null==i.recipe.likes?null:i.recipe.likes.length)>0),C(8),dr(" ",null==i.recipe?null:i.recipe.description," "),C(2),E("ngIf",null==i.recipe?null:i.recipe.ingredients),C(2),E("ngForOf",null==i.recipe?null:i.recipe.ingredients),C(1),E("ngIf",(null==i.recipe?null:i.recipe.video_recipe)&&(null==i.recipe||null==i.recipe.video_recipe?null:i.recipe.video_recipe.length)>0),C(1),E("ngIf",i.userData),C(2),E("ngIf",i.userData),C(1),E("ngIf",i.showCommentForm),C(1),E("ngIf",i.comments.length>0),C(1),E("ngIf",i.comments.length>0))},dependencies:[pr,nn,qDe,FI,Z9],styles:[".recipe-container[_ngcontent-%COMP%]{background-color:var(--backgroundColor);max-width:800px;margin:-50px auto 50px;padding:32px;box-shadow:0 1px 3px #0000004d}.title[_ngcontent-%COMP%]{font-size:28px;box-shadow:unset;color:var(--textColor);background:#e8e8e8;text-shadow:-1px -1px 1px rgba(255,255,255,.1),1px 1px 1px rgba(0,0,0,.5)}.recipe-subtitle[_ngcontent-%COMP%]{font-size:14px;margin-top:-10px;color:var(--mainGreyColor);font-style:italic;white-space:pre-wrap}.recipe-summary[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;text-align:center;font-style:italic;white-space:pre-wrap}.recipe-hero[_ngcontent-%COMP%]{grid-template-columns:70% 30%;gap:20px}ul.recipe-image[_ngcontent-%COMP%]{padding-left:unset}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;margin-bottom:10px}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:5px}.recipe-description-text[_ngcontent-%COMP%]{font-size:16px;white-space:pre-wrap}.recipe-ingredients[_ngcontent-%COMP%]{padding:0 16px}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;list-style-type:disc}.recipe-videos[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-top:20px}.recipe-videos[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;max-width:800px;height:450px}.buttons[_ngcontent-%COMP%]{padding:0 32px;display:flex;justify-content:space-between}.comments[_ngcontent-%COMP%]{border:1px solid var(--mainMagnoliaColor);margin:30px 0;padding:20px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:10px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px;padding-left:5px}.comments[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--mainGreyColor)}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(odd){background-color:var(--backgroundColor);padding-left:5px;border-radius:5px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(2n){background-color:var(--mainMagnoliaColor);font-style:italic;border-radius:5px}.commentBtnWrapper[_ngcontent-%COMP%]{display:flex;gap:10px}.comments-last[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.fa-solid.fa-trash.fa-shake[_ngcontent-%COMP%], .fa-regular.fa-pen-to-square.fa-flip[_ngcontent-%COMP%]{cursor:pointer;color:var(--mainRGBAColor);background-color:var(--backgroundColor);padding:8px 10px;border:3px solid var(--mainRGBAColor);border-radius:50%;transition:1s ease-in-out}.fa-solid.fa-trash.fa-shake[_ngcontent-%COMP%]:hover, .fa-regular.fa-pen-to-square.fa-flip[_ngcontent-%COMP%]:hover{color:var(--backgroundColor);background-color:var(--mainRGBAColor);padding:8px 10px;border:3px solid var(--mainRGBAColor);border-radius:50%}"]})}return t})(),vSe=(()=>{class t{transform(n){return new Date(parseInt(n,10)).toLocaleString()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275pipe=Yn({name:"timestampFormat",type:t,pure:!0})}return t})(),bSe=(()=>{class t{constructor(n){this.userService=n}ngOnInit(){this.userService.userData$.subscribe(n=>{this.user=n})}static#e=this.\u0275fac=function(r){return new(r||t)(b(To))};static#t=this.\u0275cmp=Le({type:t,selectors:[["app-user-info"]],decls:35,vars:9,consts:[[1,"main-short"],[1,"headerImage"],[1,"wrapper"],[1,"form-wrapper"],[1,"title-wrapper"],[1,"title-form"],[1,"user-details"],[1,"detail"]],template:function(r,i){1&r&&(g(0,"div",0),O(1,"div",1),g(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),I(6,"Info"),m()(),g(7,"div",6)(8,"div",7)(9,"span"),I(10,"Email:"),m(),g(11,"span"),I(12),m()(),g(13,"div",7)(14,"span"),I(15,"First name:"),m(),g(16,"span"),I(17),m()(),g(18,"div",7)(19,"span"),I(20,"Last name:"),m(),g(21,"span"),I(22),m()(),g(23,"div",7)(24,"span"),I(25,"Created at:"),m(),g(26,"span"),I(27),Fa(28,"timestampFormat"),m()(),g(29,"div",7)(30,"span"),I(31,"Last login:"),m(),g(32,"span"),I(33),Fa(34,"timestampFormat"),m()()()()()()),2&r&&(C(12),ht(i.user.email),C(5),ht(i.user.firstName),C(5),ht(i.user.lastName),C(5),ht(Ah(28,5,i.user.metadata.createdAt)),C(6),ht(Ah(34,7,i.user.metadata.lastLoginAt)))},dependencies:[vSe],styles:[".wrapper[_ngcontent-%COMP%]{max-width:600px;margin:0 auto}.form-wrapper[_ngcontent-%COMP%]{max-width:600px;margin:-50px auto 50px;padding:32px;background-color:var(--backgroundColor);border-radius:unset;box-shadow:0 1px 3px #0000004d}.nav-link[_ngcontent-%COMP%]{background-color:var(--textColor);border:1px solid var(--mainBlackColor)}.user-details[_ngcontent-%COMP%]{color:var(--textColor);display:flex;flex-direction:column;align-items:center;padding:20px;border:1px solid var(--mainMagnoliaColor);border-radius:8px}.detail[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;margin-bottom:10px}.detail[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){margin-left:10px}.wrapper[_ngcontent-%COMP%]{padding:0 5%}"]})}return t})();function wSe(t,e){1&t&&(g(0,"div")(1,"main",2),O(2,"div",3),g(3,"div",4)(4,"div",5)(5,"div",6)(6,"h1",7),I(7,"You have no recipes!"),m()(),g(8,"button",8),I(9," Add your first recipe! "),m()()()()())}const ISe=function(t){return["/recipe",t]};function CSe(t,e){if(1&t&&(g(0,"div")(1,"a",14)(2,"div",15)(3,"div",16),O(4,"img",17),m(),g(5,"p",18),I(6),m()()()()),2&t){const n=e.$implicit;C(1),E("routerLink",Pa(4,ISe,n.id)),C(3),yh("alt",n.title),E("src",n.image_recipe[0].image_recipe,Ds),C(2),ht(n.title)}}function TSe(t,e){if(1&t&&(g(0,"main",9),O(1,"div",3),g(2,"div",10)(3,"div",6)(4,"h1",11),I(5),m()(),g(6,"div",12),A(7,CSe,7,6,"div",13),m()()()),2&t){const n=k();C(5),dr(" Recipes by ",n.userData.firstName+" "+n.userData.lastName," "),C(2),E("ngForOf",n.recipes)}}let ESe=(()=>{class t{constructor(n,r,i){this.userService=n,this.firestore=r,this.recipeService=i,this.userData=null,this.recipes=[],this.emptyRecipes=!0}ngOnInit(){this.userService.userData$.subscribe({next:n=>{n?(this.userData=n,console.log(n.uid),this.loadRecipesByUID(n.uid),console.log(this.emptyRecipes)):console.log(`Cant found user with this UID ${n.uid}`)},error:n=>{console.log(n)}})}loadRecipesByUID(n){var r=this;return p(function*(){try{const i=yield r.recipeService.getRecipeByUID(n);console.log(i),r.recipes=i,i&&(r.emptyRecipes=!1)}catch(i){console.error("Error fetching recipes:",i)}})()}static#e=this.\u0275fac=function(r){return new(r||t)(b(To),b(ni),b(Y9))};static#t=this.\u0275cmp=Le({type:t,selectors:[["app-user-recipes"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["recipesList",""],[1,"main-short"],[1,"headerImage"],[1,"wrapper"],[2,"max-width","600px","margin","-50px auto 50px auto","padding","32px","background-color","var(--backgroundColor)","border-radius","unset","box-shadow","0 1px 3px 0 rgba(0, 0, 0, 0.3)","display","flex","flex-direction","column","align-items","center"],[1,"title-wrapper"],[1,"title-form"],["routerLink","/dashboard/recipe-create",1,"button",2,"margin-top","50px"],[1,"main-long"],[1,"wrapper-list"],[1,"title"],[1,"recipe-list"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"recipe-item"],[1,"recipe-image"],[3,"src","alt"],[1,"recipe-title"]],template:function(r,i){if(1&r&&(A(0,wSe,10,0,"div",0),A(1,TSe,8,2,"ng-template",null,1,Mr)),2&r){const o=Nr(2);E("ngIf",0===i.recipes.length)("ngIfElse",o)}},dependencies:[pr,nn,_i],styles:[".wrapper-list[_ngcontent-%COMP%]{margin:-50px auto 50px;max-width:1200px;background-color:var(--backgroundColor);box-shadow:0 1px 3px #0000004d;padding:32px}.title-wrapper[_ngcontent-%COMP%]{margin-left:10px}.recipe-list[_ngcontent-%COMP%]{position:relative;display:grid;grid-template-columns:repeat(4,1fr);row-gap:20px;margin-bottom:100px}.recipe-item[_ngcontent-%COMP%]{margin:5px;position:relative}.recipe-image[_ngcontent-%COMP%]{padding:5px;position:relative;transition:transform 1s ease-in-out}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;width:100%;object-fit:fill}.recipe-title[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%);background:rgba(167,87,94,.8);color:var(--backgroundColor);font-size:18px;font-weight:900;padding:0 5px;margin:0;text-align:center;width:100%;text-transform:uppercase;top:80%;height:30%;line-height:20px;font-family:Caveat,cursive;display:flex;align-items:center;justify-content:center;transition:top 1s ease-in-out}.recipe-item[_ngcontent-%COMP%]:hover   .recipe-title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;top:0;height:30%;color:var(--textColor);background:var(--backgroundColor);transition:1s ease-in-out;box-shadow:1px 5px 15px #a7575e}.recipe-item[_ngcontent-%COMP%]:hover   .recipe-image[_ngcontent-%COMP%]{transform:translateY(12%)}@media only screen and (max-width: 460px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 20px 50px;padding:16px}.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}.recipe-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:16px;height:30%}}@media (min-width: 461px) and (max-width: 767px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:30px}.recipe-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:18px;height:30%}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 768px) and (max-width: 1023px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);column-gap:10px;row-gap:30px}.recipe-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:18px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}@media (min-width: 1024px) and (max-width: 1440px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);column-gap:10px;row-gap:30px}.recipe-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:18px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}"]})}return t})(),DSe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Le({type:t,selectors:[["app-dashboard"]],decls:17,vars:0,consts:[[1,"nav","nav-tabs"],[1,"nav-item"],["aria-current","page","routerLink","/dashboard/user-recipes","href","#",1,"nav-link"],["aria-current","page","routerLink","/dashboard/recipe-create","href","#",1,"nav-link"],["aria-current","page","routerLink","/dashboard/user-info","href","#",1,"nav-link"],["aria-current","page","routerLink","/dashboard/user-comments","href","#",1,"nav-link"]],template:function(r,i){1&r&&(g(0,"ul",0)(1,"li",1)(2,"a",2),I(3,"My recipes"),m()(),g(4,"li",1)(5,"a",3),I(6,"Create recipe"),m()(),g(7,"li",1)(8,"a",4),I(9,"Favorite recipes"),m()(),g(10,"li",1)(11,"a",5),I(12,"My comments"),m()(),g(13,"li",1)(14,"a",4),I(15,"Profile"),m()()(),O(16,"router-outlet"))},dependencies:[k_,_i]})}return t})();function SSe(t,e){1&t&&(g(0,"div",31),I(1," Please fill in the title! "),m())}function xSe(t,e){if(1&t&&(g(0,"div"),A(1,SSe,2,0,"div",30),m()),2&t){const n=k();let r;C(1),E("ngIf",null==(r=n.recipeEdit.get("title"))||null==r.errors?null:r.errors.required)}}function ASe(t,e){1&t&&(g(0,"div",31),I(1," Please fill in a subtitle! "),m())}function NSe(t,e){if(1&t&&(g(0,"div"),A(1,ASe,2,0,"div",30),m()),2&t){const n=k();let r;C(1),E("ngIf",null==(r=n.recipeEdit.get("subtitle"))||null==r.errors?null:r.errors.required)}}function OSe(t,e){1&t&&(g(0,"div",31),I(1," Please fill in the method of preparation! "),m())}function MSe(t,e){if(1&t&&(g(0,"div"),A(1,OSe,2,0,"div",30),m()),2&t){const n=k();let r;C(1),E("ngIf",null==(r=n.recipeEdit.get("description"))||null==r.errors?null:r.errors.required)}}function RSe(t,e){if(1&t&&O(0,"img",38),2&t){const n=k().index;let i;E("src",null==(i=k().image_recipe.controls[n].get("image_recipe"))?null:i.value,Ds)}}function kSe(t,e){if(1&t){const n=Ze();g(0,"div",32)(1,"p",13),I(2,"Added image"),m(),g(3,"label",33),I(4,"\u0421\u043d\u0438\u043c\u043a\u0430"),m(),O(5,"input",34),A(6,RSe,1,1,"img",35),g(7,"button",36),ne("click",function(){const o=ze(n).index;return qe(k().removeImage(o))}),O(8,"i",37),I(9,"\xa0Remove added image "),m()()}if(2&t){const n=e.index,r=k();let i;E("formGroupName",n),C(3),E("for","image_recipe"+n),C(2),E("id","image_recipe"+n),C(1),E("ngIf",null==(i=r.image_recipe.controls[n].get("image_recipe"))?null:i.value)}}function PSe(t,e){if(1&t&&(g(0,"div"),O(1,"iframe",40),Fa(2,"safeUrl"),m()),2&t){const n=k().index,r=k();let i;C(1),E("src",Ah(2,1,null==(i=r.video_recipe.controls[n].get("video_recipe"))?null:i.value),Cm)}}function FSe(t,e){if(1&t){const n=Ze();g(0,"div",32)(1,"label",33),I(2,"Video"),m(),O(3,"input",39),A(4,PSe,3,3,"div",8),g(5,"button",36),ne("click",function(){const o=ze(n).index;return qe(k().removeVideo(o))}),O(6,"i",37),I(7,"\xa0Remove the video link "),m()()}if(2&t){const n=e.index,r=k();let i;E("formGroupName",n),C(1),E("for","video_recipe"+n),C(2),E("id","video_recipe"+n),C(1),E("ngIf",null==(i=r.video_recipe.controls[n].get("video_recipe"))?null:i.value)}}function LSe(t,e){1&t&&(g(0,"div",31),I(1," Please enter an ingredient name! "),m())}function VSe(t,e){if(1&t&&(g(0,"div"),A(1,LSe,2,0,"div",30),m()),2&t){const n=k().index,r=k();let i;C(1),E("ngIf",null==(i=r.recipeEdit.get("ingredients."+n+".name"))||null==i.errors?null:i.errors.required)}}function BSe(t,e){1&t&&(g(0,"div",31),I(1," Please fill in the quantity of the ingredient! "),m())}function USe(t,e){if(1&t&&(g(0,"div"),A(1,BSe,2,0,"div",30),m()),2&t){const n=k().index,r=k();let i;C(1),E("ngIf",null==(i=r.recipeEdit.get("ingredients."+n+".amount"))||null==i.errors?null:i.errors.required)}}function jSe(t,e){1&t&&(g(0,"div",31),I(1," Please select a unit of measurement! "),m())}function $Se(t,e){if(1&t&&(g(0,"div"),A(1,jSe,2,0,"div",30),m()),2&t){const n=k().index,r=k();let i;C(1),E("ngIf",null==(i=r.recipeEdit.get("ingredients."+n+".unit"))||null==i.errors?null:i.errors.required)}}function HSe(t,e){if(1&t){const n=Ze();g(0,"div",32)(1,"div",41)(2,"div",42),O(3,"hr"),g(4,"p"),I(5,"\xa0\xa0\u0421\u044a\u0441\u0442\u0430\u0432\u043a\u0430\xa0\xa0"),m(),O(6,"hr"),m(),g(7,"label",33),I(8,"Name (required):"),m(),O(9,"input",43),A(10,VSe,2,1,"div",8),g(11,"label",33),I(12,"Quantity (required):"),m(),O(13,"input",44),A(14,USe,2,1,"div",8),g(15,"label",33),I(16,"Unit of measurement (required):"),m(),g(17,"p",13),I(18,"In which we measure the ingredient"),m(),g(19,"select",45)(20,"option",46),I(21,"Tea spoon"),m(),g(22,"option",47),I(23,"Tablespoon"),m(),g(24,"option",48),I(25,"Tea cup"),m(),g(26,"option",49),I(27,"Coffee cup"),m(),g(28,"option",50),I(29,"Gram"),m(),g(30,"option",51),I(31,"Kilogram"),m(),g(32,"option",52),I(33,"Milliliter"),m(),g(34,"option",53),I(35,"Liter"),m(),g(36,"option",54),I(37,"Pieces"),m()(),A(38,$Se,2,1,"div",8),g(39,"label",33),I(40,"Order index:"),m(),g(41,"p",13),I(42," The order in which the ingredients appear in the recipe "),m(),O(43,"input",55)(44,"hr"),g(45,"button",36),ne("click",function(){const o=ze(n).index;return qe(k().removeIngredient(o))}),O(46,"i",37),I(47,"\xa0Remove the ingredient "),m()()()}if(2&t){const n=e.index,r=k();let i,o,s;E("formGroupName",n),C(7),E("for","name"+n),C(2),E("id","name"+n),C(1),E("ngIf",null==(i=r.recipeEdit.get("ingredients."+n+".name"))?null:i.touched),C(1),E("for","amount"+n),C(2),E("id","amount"+n),C(1),E("ngIf",null==(o=r.recipeEdit.get("ingredients."+n+".amount"))?null:o.touched),C(1),E("for","unit"+n),C(4),E("id","unit"+n),C(19),E("ngIf",null==(s=r.recipeEdit.get("ingredients."+n+".unit"))?null:s.touched),C(1),E("for","order_index"+n),C(4),E("id","order_index"+n)}}let GSe=(()=>{class t{constructor(n,r,i,o,s,a){this.route=n,this.router=r,this.fb=i,this.recipeService=o,this.formErrorCheckService=s,this.recipe=null,this.recipeId="",this.firestore=a}initializeForm(){this.recipeEdit=this.fb.group({is_active:[!1],title:["",[Be.required]],subtitle:["",[Be.required]],description:["",[Be.required]],summary:[""],author:[""],uid:[""],likes:this.fb.array([]),image_recipe:this.fb.array([]),video_recipe:this.fb.array([]),preparation_method:this.fb.array([]),ingredients:this.fb.array([])})}loadData(){var n=this;return p(function*(){n.route.paramMap.subscribe(function(){var r=p(function*(i){const o=i.get("id");if(n.recipeId=o,o)try{n.recipe=yield n.recipeService.getRecipeById(o),n.patchFormWithRecipeData()}catch(s){throw console.error("An error occurred while retrieving the recipe:",s),s}else console.error("Recipe ID not provided.")});return function(i){return r.apply(this,arguments)}}())})()}patchFormWithRecipeData(){if(this.recipe&&this.recipeEdit){const n=this.recipeEdit.get("ingredients"),r=this.recipeEdit.get("image_recipe"),i=this.recipeEdit.get("video_recipe"),o=this.recipeEdit.get("preparation_method");n.clear(),r.clear(),i.clear(),o.clear(),this.recipe.ingredients.forEach(s=>{n.push(this.fb.group({name:[s.name,[Be.required]],amount:[s.amount,[Be.required]],unit:[s.unit,[Be.required]],order_index:[s.order_index]}))}),this.recipe.image_recipe&&this.recipe.image_recipe.length>0&&this.recipe.image_recipe.forEach(s=>{r.push(this.fb.group({image_recipe:[s.image_recipe]}))}),this.recipe.video_recipe&&this.recipe.video_recipe.length>0&&this.recipe.video_recipe.forEach(s=>{i.push(this.fb.group({video_recipe:[s.video_recipe]}))}),this.recipe.preparation_method&&this.recipe.preparation_method.length>0&&this.recipe.preparation_method.forEach(s=>{o.push(this.fb.group({preparation_method:[s.preparation_method]}))}),this.recipeEdit.patchValue({title:this.recipe.title,summary:this.recipe.summary,description:this.recipe.description,is_active:this.recipe.is_active,subtitle:this.recipe.subtitle,likes:this.recipe.likes,author:this.recipe.author,uid:this.recipe.uid})}}ngOnInit(){var n=this;return p(function*(){n.initializeForm(),yield n.loadData()})()}addImageToForm(n){this.recipeEdit.get("image_recipe").push(this.fb.group({image_recipe:n}))}removeImage(n){this.recipeEdit.get("image_recipe").removeAt(n)}addVideo(){this.recipeEdit.get("video_recipe").push(this.fb.group({video_recipe:""}))}removeVideo(n){this.recipeEdit.get("video_recipe").removeAt(n)}addPreparation(){this.recipeEdit.get("preparation_method").push(this.fb.group({preparation_method:""}))}removePreparation(n){this.recipeEdit.get("preparation_method").removeAt(n)}addIngredient(){this.recipeEdit.get("ingredients").push(this.fb.group({name:["",[Be.required]],amount:["",[Be.required]],unit:["",[Be.required]],order_index:[0]}))}removeIngredient(n){this.recipeEdit.get("ingredients").removeAt(n)}get ingredients(){return this.recipeEdit.get("ingredients")}get image_recipe(){return this.recipeEdit.get("image_recipe")}get video_recipe(){return this.recipeEdit.get("video_recipe")}get preparation_method(){return this.recipeEdit.get("preparation_method")}onSubmit(){this.formErrorCheckService.markFormGroupTouched(this.recipeEdit),this.formErrorCheckService.markFormArrayControlsTouched(this.ingredients),this.recipeEdit.invalid?alert("The form is not valid. Please fill in all required fields."):(this.addRecipe(this.recipeEdit.value),this.recipeEdit.reset())}addRecipe(n){const i=Co(this.firestore,"Recipe",this.recipeId);sg(i,n),this.router.navigate(["/recipe",this.recipeId])}static#e=this.\u0275fac=function(r){return new(r||t)(b(ki),b(Pt),b(gl),b(rk),b(Q9),b(ni))};static#t=this.\u0275cmp=Le({type:t,selectors:[["app-recipe-edit"]],decls:53,vars:7,consts:[[1,"main-long"],[1,"headerImage"],[1,"wrapper"],[3,"formGroup"],[1,"title-wrapper"],[1,"title-form"],["for","title"],["type","text","id","title","formControlName","title"],[4,"ngIf"],["type","text","id","subtitle","formControlName","subtitle"],["for","description"],["name","text","id","description","formControlName","description","cols","30","rows","10"],["for","summary"],[1,"hint"],["type","text","id","summary","formControlName","summary"],[3,"imageUploaded"],["formArrayName","image_recipe"],[3,"formGroupName",4,"ngFor","ngForOf"],["formArrayName","video_recipe"],["type","button",1,"button-img",3,"click"],["formArrayName","ingredients"],["type","button-img",1,"addIngredient",3,"click"],[1,"fa-solid","fa-plus","fa-beat-fade"],["type","button",1,"button",2,"width","100%",3,"click"],["href","javascript:history.back()",1,"back-button"],[1,"button-box"],[1,"button-elem"],["viewBox","0 0 46 40","xmlns","http://www.w3.org/2000/svg"],["d","M46 20.038c0-.7-.3-1.5-.8-2.1l-16-17c-1.1-1-3.2-1.4-4.4-.3-1.2 1.1-1.2 3.3 0 4.4l11.3 11.9H3c-1.7 0-3 1.3-3 3s1.3 3 3 3h33.1l-11.3 11.9c-1 1-1.2 3.3 0 4.4 1.2 1.1 3.3.8 4.4-.3l16-17c.5-.5.8-1.1.8-1.9z"],["viewBox","0 0 46 40"],["class","errors",4,"ngIf"],[1,"errors"],[3,"formGroupName"],[3,"for"],["type","text","formControlName","image_recipe",3,"id"],["alt","Image Preview","class","image-preview",3,"src",4,"ngIf"],["type","button",1,"removeIngredient",3,"click"],[1,"fa-solid","fa-trash","fa-shake"],["alt","Image Preview",1,"image-preview",3,"src"],["type","text","formControlName","video_recipe",3,"id"],["width","560","height","315","frameborder","0","allowfullscreen","",3,"src"],[1,"ingredient"],[1,"divider"],["type","text","formControlName","name",3,"id"],["type","number","formControlName","amount",3,"id"],["formControlName","unit",3,"id"],["value","ts."],["value","tbs."],["value","tc."],["value","cc."],["value","gr."],["value","kg."],["value","ml."],["value","l."],["value","pieces"],["type","number","formControlName","order_index",3,"id"]],template:function(r,i){if(1&r&&(g(0,"div",0),O(1,"div",1),g(2,"div",2)(3,"form",3)(4,"div",4)(5,"h1",5),I(6,"Edit a Recipe"),m()(),g(7,"label",6),I(8," Title (required): "),m(),O(9,"input",7),A(10,xSe,2,1,"div",8),g(11,"label"),I(12," Subtitle (required): "),O(13,"input",9),m(),A(14,NSe,2,1,"div",8),g(15,"div")(16,"label",10),I(17,"Method of preparation (required):"),m(),O(18,"textarea",11),m(),A(19,MSe,2,1,"div",8),g(20,"div")(21,"label",12),I(22,"Summary:"),m(),g(23,"p",13),I(24,"Recipe summary"),m(),O(25,"input",14),m(),g(26,"div"),O(27,"br"),g(28,"app-image-upload",15),ne("imageUploaded",function(s){return i.addImageToForm(s)}),m(),g(29,"div",16),A(30,kSe,10,4,"div",17),m(),g(31,"div",18),A(32,FSe,8,4,"div",17),g(33,"button",19),ne("click",function(){return i.addVideo()}),I(34," Add a video link to a recipe "),m()()(),g(35,"div",20),A(36,HSe,48,12,"div",17),m(),O(37,"br"),g(38,"button",21),ne("click",function(){return i.addIngredient()}),O(39,"i",22),I(40," Add one more ingredient "),m(),g(41,"button",23),ne("click",function(){return i.onSubmit()}),I(42,"Save the changes"),m(),O(43,"hr"),I(44," Go Back "),g(45,"a",24)(46,"div",25)(47,"span",26),ko(),g(48,"svg",27),O(49,"path",28),m()(),_u(),g(50,"span",26),ko(),g(51,"svg",29),O(52,"path",28),m()()()()()()()),2&r){let o,s,a;C(3),E("formGroup",i.recipeEdit),C(7),E("ngIf",null==(o=i.recipeEdit.get("title"))?null:o.touched),C(4),E("ngIf",null==(s=i.recipeEdit.get("subtitle"))?null:s.touched),C(5),E("ngIf",null==(a=i.recipeEdit.get("description"))?null:a.touched),C(11),E("ngForOf",i.image_recipe.controls),C(2),E("ngForOf",i.video_recipe.controls),C(4),E("ngForOf",i.ingredients.controls)}},dependencies:[pr,nn,Ya,PC,LC,zo,Z_,ff,qa,Wa,qo,Ls,df,hf,J9,Z9],styles:[".removeIngredient[_ngcontent-%COMP%]{all:unset;color:var(--mainRedColor);cursor:pointer;margin-top:20px;text-align:right}.removeIngredient[_ngcontent-%COMP%]:hover{color:var(--secondColor)}.addIngredient[_ngcontent-%COMP%]{all:unset;color:var(--mainGreenColor);cursor:pointer;margin:0 0 20px 30px}.addIngredient[_ngcontent-%COMP%]:hover{background-color:unset;color:var(--mainRedColor);box-shadow:unset}form[_ngcontent-%COMP%]{max-width:600px;margin:0 auto 50px;padding:20px;background-color:var(--backgroundColor);border-radius:10px}@media (max-width: 460px){form[_ngcontent-%COMP%]{background-color:var(--backgroundColor);border:none}}"]})}return t})();function zSe(t,e){1&t&&(g(0,"div",12),I(1," Please write a comment! "),m())}function qSe(t,e){if(1&t&&(g(0,"div"),A(1,zSe,2,0,"div",11),m()),2&t){const n=k();let r;C(1),E("ngIf",null==(r=n.commentFormEdit.get("text"))||null==r.errors?null:r.errors.required)}}let WSe=(()=>{class t{constructor(n,r,i,o,s){this.route=n,this.commentService=r,this.fb=i,this.router=o,this.comment=null,this.commentId="",this.firestore=s}ngOnInit(){var n=this;return p(function*(){n.initializeForm(),yield n.loadData()})()}loadData(){var n=this;return p(function*(){n.route.paramMap.subscribe(function(){var r=p(function*(i){const o=i.get("id");if(n.commentId=o,o)try{n.comment=yield n.commentService.getCommentById(o),n.patchFormWithCommentData()}catch(s){throw console.error("An error occurred while retrieving the comment:",s),s}else console.error("Comment ID not provided.")});return function(i){return r.apply(this,arguments)}}())})()}initializeForm(){this.commentFormEdit=this.fb.group({name:[""],text:["",Be.required],recipeId:[""],create_time:[""],uid:[""]})}patchFormWithCommentData(){this.commentFormEdit.patchValue({name:this.comment?.name,text:this.comment?.text,recipeId:this.comment?.recipeId,create_time:this.comment?.create_time,uid:this.comment?.uid,id:this.comment?.id})}onSubmit(){this.commentFormEdit.valid?(this.editComment(this.commentFormEdit.value),this.commentFormEdit.reset()):console.log("form invalid")}editComment(n){const i=Co(this.firestore,"Comments",this.commentId);sg(i,n),this.router.navigate(["/recipe",this.comment?.recipeId])}static#e=this.\u0275fac=function(r){return new(r||t)(b(ki),b(V0),b(gl),b(Pt),b(ni))};static#t=this.\u0275cmp=Le({type:t,selectors:[["app-comment-form-edit"]],decls:14,vars:2,consts:[[1,"main-short"],[1,"headerImage"],[1,"wrapper"],[1,"title-wrapper"],[1,"title-form"],["id","commentFormEdit",3,"formGroup","ngSubmit"],[1,"form-group"],["for","text"],["cols","30","rows","5","id","text","formControlName","text",1,"form-control"],[4,"ngIf"],["type","submit",1,"button"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(r,i){if(1&r&&(g(0,"div",0),O(1,"div",1),g(2,"div",2)(3,"div",3)(4,"h1",4),I(5,"Edit the Comment"),m()(),g(6,"form",5),ne("ngSubmit",function(){return i.onSubmit()}),g(7,"div",6)(8,"label",7),I(9,"Comment (required)"),m(),O(10,"textarea",8),m(),A(11,qSe,2,1,"div",9),g(12,"button",10),I(13,"Edit the Comment"),m()()()()),2&r){let o;C(6),E("formGroup",i.commentFormEdit),C(5),E("ngIf",null==(o=i.commentFormEdit.get("text"))?null:o.touched)}},dependencies:[nn,Ya,zo,qa,Wa,qo,Ls],styles:[".wrapper[_ngcontent-%COMP%]{position:absolute;top:37%;left:50%;transform:translate(-50%,-50%);box-shadow:0 1px 3px #0000004d;padding:32px;background-color:var(--backgroundColor)}#commentFormEdit[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;gap:30px}"]})}return t})();function KSe(t,e){1&t&&(g(0,"div")(1,"main",2),O(2,"div",3),g(3,"div",4)(4,"div",5)(5,"div",6)(6,"h1",7),I(7,"You have no comments!"),m()(),g(8,"button",8),I(9," Add your first comments! "),m()()()()())}function YSe(t,e){if(1&t){const n=Ze();g(0,"span",18),ne("click",function(){ze(n);const i=k().$implicit;return qe(k(2).deleteComment(i.id))}),O(1,"i",19),m()}}function QSe(t,e){if(1&t){const n=Ze();g(0,"span",18),ne("click",function(){ze(n);const i=k().$implicit;return qe(k(2).navigateToCommentEdit(i.id))}),O(1,"i",20),m()}}function JSe(t,e){if(1&t&&(g(0,"ul")(1,"a",14),I(2,"see recipe"),m(),g(3,"li"),I(4),m(),g(5,"li"),I(6),m(),g(7,"li",15)(8,"p"),I(9),Fa(10,"date"),m(),g(11,"div",16),A(12,YSe,2,0,"span",17),A(13,QSe,2,0,"span",17),m()()()),2&t){const n=e.$implicit,r=k(2);C(1),vh("routerLink","/recipe/",n.recipeId,""),C(3),ht(n.name),C(2),ht(n.text),C(3),dr(" ",Gw(10,6,n.create_time.toDate(),"dd/MM/yyyy HH:mm:ss")," "),C(3),E("ngIf",n.uid==r.userData.uid),C(1),E("ngIf",n.uid==r.userData.uid)}}function ZSe(t,e){if(1&t&&(g(0,"main",9),O(1,"div",3),g(2,"div",10)(3,"div",6)(4,"h1",11),I(5),m()(),g(6,"div",12),A(7,JSe,14,9,"ul",13),m()()()),2&t){const n=k();C(5),dr(" Comments by ",n.userData.firstName+" "+n.userData.lastName," "),C(2),E("ngForOf",n.comments)}}let XSe=(()=>{class t{constructor(n,r,i){this.commentService=n,this.userService=r,this.router=i,this.comments=[],this.userService.userData$.subscribe(o=>{this.userData=o})}ngOnInit(){this.loadData()}loadData(){var n=this;return p(function*(){if(n.userData)try{n.comments=yield n.commentService.getCommentsForUser(n.userData.uid),console.log("Recipe data loaded successfully.")}catch(r){console.error("An error occurred while loading recipe data:",r)}})()}navigateToCommentEdit(n){this.router.navigate(["/comment-edit",n])}deleteComment(n){this.commentService.deleteComment(n),this.loadData()}static#e=this.\u0275fac=function(r){return new(r||t)(b(V0),b(To),b(Pt))};static#t=this.\u0275cmp=Le({type:t,selectors:[["app-user-comments"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["commentsList",""],[1,"main-short"],[1,"headerImage"],[1,"wrapper"],[2,"max-width","600px","margin","-50px auto 50px auto","padding","32px","background-color","var(--backgroundColor)","border-radius","unset","box-shadow","0 1px 3px 0 rgba(0, 0, 0, 0.3)","display","flex","flex-direction","column","align-items","center"],[1,"title-wrapper"],[1,"title-form"],["routerLink","/recipes-list",1,"button",2,"margin-top","50px"],[1,"main-long",2,"min-height","93%"],[1,"wrapper-list",2,"max-width","600px","margin","-50px auto 50px auto","padding","32px","background-color","var(--backgroundColor)","border-radius","unset","box-shadow","0 1px 3px 0 rgba(0, 0, 0, 0.3)","display","flex","flex-direction","column","align-items","center"],[1,"title"],[1,"comments"],[4,"ngFor","ngForOf"],["href","",3,"routerLink"],[1,"comments-last"],[1,"commentBtnWrapper"],[3,"click",4,"ngIf"],[3,"click"],[1,"fa-solid","fa-trash","fa-shake"],[1,"fa-regular","fa-pen-to-square","fa-flip"]],template:function(r,i){if(1&r&&(A(0,KSe,10,0,"div",0),A(1,ZSe,8,2,"ng-template",null,1,Mr)),2&r){const o=Nr(2);E("ngIf",0==i.comments.length)("ngIfElse",o)}},dependencies:[pr,nn,_i,FI],styles:[".comments[_ngcontent-%COMP%]{border:1px solid var(--mainMagnoliaColor);margin:30px 0;padding:20px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:10px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px;padding-left:5px}.comments[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--mainGreyColor)}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(odd){background-color:var(--backgroundColor);padding-left:5px;border-radius:5px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(2n){background-color:var(--mainMagnoliaColor);font-style:italic;border-radius:5px}.commentBtnWrapper[_ngcontent-%COMP%]{display:flex;gap:10px}.comments-last[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.fa-solid.fa-trash.fa-shake[_ngcontent-%COMP%], .fa-regular.fa-pen-to-square.fa-flip[_ngcontent-%COMP%]{cursor:pointer;color:var(--mainRGBAColor);background-color:var(--backgroundColor);padding:8px 10px;border:3px solid var(--mainRGBAColor);border-radius:50%;transition:1s ease-in-out}.fa-solid.fa-trash.fa-shake[_ngcontent-%COMP%]:hover, .fa-regular.fa-pen-to-square.fa-flip[_ngcontent-%COMP%]:hover{color:var(--backgroundColor);background-color:var(--mainRGBAColor);padding:8px 10px;border:3px solid var(--mainRGBAColor);border-radius:50%}"]})}return t})();function exe(t,e){if(1&t&&(g(0,"div",22),I(1),m()),2&t){const n=k();C(1),dr(" ",null==n.recipe?null:n.recipe.summary," ")}}function txe(t,e){1&t&&(g(0,"div"),O(1,"br"),m())}function nxe(t,e){if(1&t&&(g(0,"li"),O(1,"img",25),m()),2&t){const n=e.$implicit;C(1),E("src",n.image_recipe,Ds)}}function rxe(t,e){if(1&t&&(g(0,"ul",23),A(1,nxe,2,1,"li",24),m()),2&t){const n=k();C(1),E("ngForOf",null==n.recipe?null:n.recipe.image_recipe)}}const ixe=[{path:"",pathMatch:"full",component:yDe},{path:"register",component:cDe},{path:"login",component:mDe},{path:"forgot-password",component:_De},{path:"dashboard",component:DSe,children:[{path:"user-recipes",component:ESe},{path:"recipe-create",component:HDe},{path:"recipe-edit/:id",component:GSe},{path:"recipe-delete/:id",component:(()=>{class t{constructor(n,r,i){var o=this;this.recipeService=n,this.route=r,this.router=i,this.recipeId="",this.recipe=null,this.route.paramMap.subscribe(function(){var s=p(function*(a){const c=a.get("id");o.recipeId=c,o.recipe=yield o.recipeService.getRecipeById(o.recipeId)});return function(a){return s.apply(this,arguments)}}())}deleteRecipe(){this.recipeService.deleteRecipe(this.recipeId),this.router.navigate(["/recipes-list"])}static#e=this.\u0275fac=function(r){return new(r||t)(b(rk),b(ki),b(Pt))};static#t=this.\u0275cmp=Le({type:t,selectors:[["app-recipe-delete"]],decls:34,vars:5,consts:[[1,"mainLong"],[1,"headerImage"],[1,"wrapper-list"],[1,"recipe-container"],[1,"title-wrapper"],[1,"title"],[1,"recipe-subtitle"],["class","recipe-summary",4,"ngIf"],[4,"ngIf"],[1,"recipe-hero"],["class","recipe-image",4,"ngIf"],[1,"divider"],[2,"text-align","center","font-style","italic"],[1,"buttons"],[1,"button",2,"margin-bottom","10px",3,"click"],[1,"back"],["href","javascript:history.back()",1,"back-button"],[1,"button-box"],[1,"button-elem"],["viewBox","0 0 46 40","xmlns","http://www.w3.org/2000/svg"],["d","M46 20.038c0-.7-.3-1.5-.8-2.1l-16-17c-1.1-1-3.2-1.4-4.4-.3-1.2 1.1-1.2 3.3 0 4.4l11.3 11.9H3c-1.7 0-3 1.3-3 3s1.3 3 3 3h33.1l-11.3 11.9c-1 1-1.2 3.3 0 4.4 1.2 1.1 3.3.8 4.4-.3l16-17c.5-.5.8-1.1.8-1.9z"],["viewBox","0 0 46 40"],[1,"recipe-summary"],[1,"recipe-image"],[4,"ngFor","ngForOf"],["alt","Image of a recipe",3,"src"]],template:function(r,i){1&r&&(g(0,"div",0),O(1,"div",1),g(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),I(6),m()(),g(7,"h3",6),I(8),m(),A(9,exe,2,1,"div",7),A(10,txe,2,0,"div",8),g(11,"div",9),A(12,rxe,2,1,"ul",10),g(13,"div",11),O(14,"hr"),g(15,"p"),I(16,"\xa0\xa0Delete\xa0\xa0"),m(),O(17,"hr"),m(),O(18,"br"),g(19,"h3",12),I(20," Do you rely want to delete this recipe? "),m(),g(21,"div",13)(22,"button",14),ne("click",function(){return i.deleteRecipe()}),I(23," YES "),m(),g(24,"div",15),I(25," Go Back "),g(26,"a",16)(27,"div",17)(28,"span",18),ko(),g(29,"svg",19),O(30,"path",20),m()(),_u(),g(31,"span",18),ko(),g(32,"svg",21),O(33,"path",20),m()()()()()()()()()()),2&r&&(C(6),ht(null==i.recipe?null:i.recipe.title),C(2),ht(null==i.recipe?null:i.recipe.subtitle),C(1),E("ngIf",null==i.recipe?null:i.recipe.summary),C(1),E("ngIf",!(null!=i.recipe&&i.recipe.summary)),C(2),E("ngIf",(null==i.recipe?null:i.recipe.image_recipe)&&(null==i.recipe||null==i.recipe.image_recipe?null:i.recipe.image_recipe.length)>0))},dependencies:[pr,nn],styles:[".form-wrapper[_ngcontent-%COMP%]{max-width:600px;margin:-50px auto 50px;padding:32px;background-color:var(--backgroundColor);border-radius:unset;box-shadow:0 1px 3px #0000004d}.buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;align-items:flex-end;justify-content:space-between}.recipe-container[_ngcontent-%COMP%]{background-color:var(--backgroundColor);max-width:800px;margin:-50px auto 50px;padding:32px;box-shadow:0 1px 3px #0000004d}.title[_ngcontent-%COMP%]{font-size:28px;box-shadow:unset;color:var(--textColor);background:#e8e8e8;text-shadow:-1px -1px 1px rgba(255,255,255,.1),1px 1px 1px rgba(0,0,0,.5)}.recipe-subtitle[_ngcontent-%COMP%]{font-size:14px;margin-top:-10px;color:var(--mainGreyColor);font-style:italic;white-space:pre-wrap}.recipe-summary[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;text-align:center;font-style:italic;white-space:pre-wrap}.recipe-hero[_ngcontent-%COMP%]{grid-template-columns:70% 30%;gap:20px}ul.recipe-image[_ngcontent-%COMP%]{padding-left:unset}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;margin-bottom:10px}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:5px}"]})}return t})()},{path:"user-info",component:bSe},{path:"user-comments",component:XSe}]},{path:"recipes-list",component:CDe},{path:"recipe/:id",component:ySe},{path:"comment-edit/:id",component:WSe}];let oxe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({imports:[hl.forRoot(ixe,{useHash:!0}),hl]})}return t})(),sxe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Le({type:t,selectors:[["app-footer"]],decls:25,vars:0,consts:[[1,"footer"],[1,"footer-links"],["href","/about"],["href","/contact"],["href","/terms"],["href","/privacy"],[1,"social-icons"],["href","https://www.facebook.com"],[1,"fa-brands","fa-facebook","fa-flip"],["href","https://www.twitter.com"],[1,"fa-brands","fa-x-twitter","fa-flip"],["href","https://www.instagram.com"],[1,"fa-brands","fa-instagram","fa-flip"],[1,"copyright"],[1,"projectInfo"]],template:function(r,i){1&r&&(g(0,"footer",0)(1,"div",1)(2,"a",2),I(3,"About Us"),m(),I(4," | "),g(5,"a",3),I(6,"Contact Us"),m(),I(7," | "),g(8,"a",4),I(9,"Terms of Service"),m(),I(10," | "),g(11,"a",5),I(12,"Privacy Policy"),m()(),g(13,"div",6)(14,"a",7),O(15,"i",8),m(),g(16,"a",9),O(17,"i",10),m(),g(18,"a",11),O(19,"i",12),m()(),g(20,"div",13)(21,"div",14),I(22," This project was developed to meet the requirements of the Angular Project Assignment within the 'Angular - February 2024' course at SoftUni. "),m(),g(23,"span"),I(24," \xa9 2024 The Natural Way. All Rights Reserved. "),m()()())},styles:[".footer[_ngcontent-%COMP%]{background-color:var(--aliceBlueColor);padding:20px;color:#333;font-size:14px;text-align:center}.footer-links[_ngcontent-%COMP%]{padding:20px 0}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#666;text-decoration:none;margin:0 10px}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--mainBlackColor)}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#666;text-decoration:none;margin:0 10px}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#3b5998}.copyright[_ngcontent-%COMP%]{margin-top:20px;font-size:12px;color:#999}.projectInfo[_ngcontent-%COMP%]{margin-bottom:10px}"]})}return t})();function axe(t,e){1&t&&(g(0,"li",18)(1,"a",19),O(2,"i",25),m(),g(3,"ul",26)(4,"li")(5,"a",27),I(6,"Register"),m()(),g(7,"li")(8,"a",28),I(9,"Login"),m()(),g(10,"li"),O(11,"hr",29),m(),g(12,"li")(13,"a",30),I(14,"Something else here"),m()()()())}function cxe(t,e){if(1&t){const n=Ze();g(0,"li",18)(1,"a",19)(2,"span"),I(3),m()(),g(4,"ul",26)(5,"li")(6,"a",31),I(7,"My recipes"),m()(),g(8,"li")(9,"a",32),I(10,"Create recipe"),m()(),g(11,"li")(12,"a",30),I(13,"Favorite recipes"),m()(),g(14,"li")(15,"a",33),I(16,"My comments"),m()(),g(17,"li")(18,"a",34),I(19,"Profile"),m()(),g(20,"li")(21,"a",35),ne("click",function(){return ze(n),qe(k().logout())}),I(22,"Logout"),m()()()()}if(2&t){const n=k();C(3),ht(n.getUserDisplayName())}}let uxe=(()=>{class t{constructor(n){this.userService=n,this.isMenuOpen=!1,this.userData=null,this.userDataSubject=new Kn(null),this.userDataSubscription=this.userDataSubject.subscribe(r=>{this.userData=r,console.log(this.userData)})}ngOnInit(){this.userService.userData$.subscribe({next:n=>{n?(this.userDataSubject.next(n),console.log("You have a user:",n)):(this.userDataSubject.next(null),console.log("You have no user."))},error:n=>{console.log(n)}})}toggleMenu(){this.isMenuOpen=!this.isMenuOpen}closeMenu(){this.isMenuOpen=!1}logout(){this.userService.logoutUser()}getUserDisplayName(){return this.userData?this.userData.lastName:"Anonymous"}static#e=this.\u0275fac=function(r){return new(r||t)(b(To))};static#t=this.\u0275cmp=Le({type:t,selectors:[["app-header"]],decls:41,vars:2,consts:[[1,"navbar","navbar-dark","navbar-expand-lg"],[1,"container-fluid"],[1,"header-wrapper"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarScroll","aria-controls","navbarScroll","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","button","hamburger"],["viewBox","0 0 200.92045542674032 200.92045542674032","height","30","width","30"],["d","M0 100.46c0-55.483 44.978-100.46 100.46-100.46 55.483 0 100.46 44.978 100.46 100.46 0 55.483-44.978 100.46-100.46 100.46-55.483 0-100.46-44.978-100.46-100.46zM100.46 193.437c51.35 0 92.977-41.627 92.977-92.977 0-51.35-41.627-92.977-92.977-92.977-51.35 0-92.977 41.627-92.977 92.977 0 51.35 41.627 92.977 92.977 92.977z","data-fill-palette-color","accent","fill","#a7575e","stroke","transparent"],["rx","99.45562543623646","ry","99.45562543623646","cx","100.46022771337016","cy","100.46022771337016","fill","#a7575e","stroke","transparent","stroke-width","0","fill-opacity","1","data-fill-palette-color","accent"],["transform","matrix(1,0,0,1,43.57436241056036,43.35758026693677)"],["viewBox","0 0 113.7717306056196 114.20529489286677","height","114.20529489286677","width","113.7717306056196"],["xmlns","http://www.w3.org/2000/svg","data-name","Layer 1","viewBox","1.190000057220459 1.002901315689087 97.62506866455078 97.99710083007812","x","0","y","0","height","114.20529489286677","width","113.7717306056196","data-fill-palette-color","quaternary","id","b-0",1,"icon-b-0"],["d","M79.28 26.63a0.3 0.3 0 0 0 0-0.07 0.28 0.28 0 0 0-0.48-0.19l-7 7a20.24 20.24 0 0 0-6 13v1.87a37.5 37.5 0 0 1 1.67 5.15H54.79a32.9 32.9 0 0 0-5.43-15.13 26.9 26.9 0 0 1-7.74 5.77 22.2 22.2 0 0 1-6.34 2.06c-9.9 1.51-22.3-5-28.35-41.61a1.86 1.86 0 0 1 1.55-2.05c47.44-6.69 50.2 11.7 47.85 22.85a51.5 51.5 0 0 0-19.69-6.14h-0.11a0.43 0.43 0 0 0-0.18 0.76l11.58 8.5 5.84 4.31a37.3 37.3 0 0 1 6.08 5.85 24.8 24.8 0 0 1 5-6.15 17.7 17.7 0 0 1-2.54-5 14.8 14.8 0 0 1-0.65-4.41c0-6.65 5.53-14.14 30.18-14.44a1.23 1.23 0 0 1 1.24 1.23c-0.38 31.82-12.74 31.78-19.82 29.12a34.2 34.2 0 0 0 6.02-12.28M28.65 93h34.63a16.16 16.16 0 0 0 12.18-5.54l21.68-24.79a6.79 6.79 0 0 0-0.79-9.7 6.55 6.55 0 0 0-4.2-1.49 7.24 7.24 0 0 0-5.38 2.43l-10.2 11.35v0.16a11.85 11.85 0 0 1-11.89 11.26H52.21a2.54 2.54 0 1 1 0-5.08h12.47a6.72 6.72 0 0 0 6.81-6.34A6.54 6.54 0 0 0 65 58.52H44.19l-3.37-1.18a23.42 23.42 0 0 0-24.26 5.49L1.19 78.1 22.64 99Z","fill","#e5e5e5","data-fill-palette-color","quaternary"],["href","#",1,"navbar-brand"],["viewBox","0 0 200.92045542674032 200.92045542674032","height","50","width","50",1,"svg-logo"],["id","navbarScroll",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","my-2","my-lg-0","navbar-nav-scroll",2,"--bs-scroll-height","350px"],[1,"nav-item"],["routerLink","/recipes-list","href","#","role","button","aria-expanded","false",1,"nav-btn","nav-link","button",2,"padding","10px 32px"],["class","nav-item dropdown",4,"ngIf"],[1,"nav-item","dropdown"],["href","#","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-btn","nav-link","dropdown-toggle","button"],[1,"fa-solid","fa-magnifying-glass"],[1,"dropdown-menu","search"],["role","search",1,"d-flex","w-100"],["type","search","aria-label","Search",1,"form-control","me-2"],["type","submit",1,"search","button"],[1,"fa-solid","fa-user"],[1,"dropdown-menu"],["routerLink","/register",1,"dropdown-item"],["routerLink","/login",1,"dropdown-item"],[1,"dropdown-divider"],["href","#",1,"dropdown-item"],["routerLink","/dashboard/user-recipes","href","#",1,"dropdown-item"],["routerLink","/dashboard/recipe-create",1,"dropdown-item"],["routerLink","/dashboard/user-comments","href","#",1,"dropdown-item"],["routerLink","/dashboard/user-info",1,"dropdown-item"],[1,"dropdown-item",3,"click"]],template:function(r,i){1&r&&(g(0,"nav",0)(1,"div",1)(2,"div",2)(3,"button",3)(4,"span"),ko(),g(5,"svg",4)(6,"g"),O(7,"path",5)(8,"ellipse",6),m(),g(9,"g",7)(10,"svg",8)(11,"g")(12,"svg",9),O(13,"path",10),m()()()()()()(),_u(),g(14,"a",11),ko(),g(15,"svg",12)(16,"g"),O(17,"path",5)(18,"ellipse",6),m(),g(19,"g",7)(20,"svg",8)(21,"g")(22,"svg",9),O(23,"path",10),m()()()()(),_u(),g(24,"span"),I(25," The Natural Way "),m()()(),g(26,"div",13)(27,"ul",14)(28,"li",15)(29,"a",16),I(30," Recipes "),m()(),A(31,axe,15,0,"li",17),A(32,cxe,23,1,"li",17),g(33,"li",18)(34,"a",19),O(35,"i",20),m(),g(36,"ul",21)(37,"form",22),O(38,"input",23),g(39,"button",24),I(40,"Search"),m()()()()()()()()),2&r&&(C(31),E("ngIf",!i.userData),C(1),E("ngIf",i.userData))},dependencies:[nn,_i],styles:["nav.navbar[_ngcontent-%COMP%]{min-height:7vh;background-color:var(--aliceBlueColor);box-shadow:1px 5px 15px #a7575e}.container-fluid[_ngcontent-%COMP%]{max-width:1024px;color:var(--textColor)}.header-wrapper[_ngcontent-%COMP%]{display:flex;gap:20px;align-items:center}a.navbar-brand[_ngcontent-%COMP%]{display:flex;gap:10px;font-family:Caveat,cursive;font-weight:400;font-size:32px;color:var(--textColor)}button.navbar-toggler[_ngcontent-%COMP%]{background-color:var(--textColor);border:1px solid var(--backgroundColor)}.navbar-toggler[_ngcontent-%COMP%]   span.navbar-toggler-icon[_ngcontent-%COMP%]{color:var(--backgroundColor);background-color:var(--textColor)}button.navbar-toggler[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem var(--textColor)}ul.navbar-nav[_ngcontent-%COMP%]{position:relative;z-index:100;display:flex;gap:18px;width:100%;justify-content:flex-end}a.nav-btn.nav-link.dropdown-toggle.button[_ngcontent-%COMP%]{min-width:150px}ul.navbar-nav[_ngcontent-%COMP%]   ul.dropdown-menu[_ngcontent-%COMP%]{background-color:var(--backgroundColor);border:1px solid var(--textColor);margin-top:18px}a.dropdown-item[_ngcontent-%COMP%]{color:var(--textColor)}.dropdown-item.active[_ngcontent-%COMP%], .dropdown-item[_ngcontent-%COMP%]:hover, .dropdown-item[_ngcontent-%COMP%]:focus{background-color:var(--textColor);color:var(--backgroundColor)}.form-control[_ngcontent-%COMP%]{border:1px solid var(--textColor);border-radius:8px;background-color:var(--backgroundColor)}.form-control[_ngcontent-%COMP%]:focus{border:1px solid var(--textColor);box-shadow:unset;outline:unset;background-color:var(--mainMagnoliaColor);border-color:var(--textColor)}@media (max-width: 460px){.svg-logo[_ngcontent-%COMP%]{display:none}.navbar-nav.me-auto.my-2.my-lg-0.navbar-nav-scroll[_ngcontent-%COMP%]{background-color:var(--backgroundColor);padding:20px;border-radius:8px}.container-fluid[_ngcontent-%COMP%]{max-width:1200px;padding:0 3%;color:var(--textColor);justify-content:space-evenly}.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu.search[_ngcontent-%COMP%]{border:unset;width:100%}form.d-flex[_ngcontent-%COMP%]{flex-direction:column;gap:15px}}@media (min-width: 461px) and (max-width: 767px){.svg-logo[_ngcontent-%COMP%]{display:none}.navbar-nav.me-auto.my-2.my-lg-0.navbar-nav-scroll[_ngcontent-%COMP%]{background-color:var(--backgroundColor);padding:20px;border-radius:8px}.container-fluid[_ngcontent-%COMP%]{max-width:1200px;padding:0 3%;color:var(--textColor);justify-content:space-evenly}.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu.search[_ngcontent-%COMP%]{border:unset;width:100%}.dropdown-menu.search.show[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{max-width:unset}}@media (min-width: 768px) and (max-width: 1023px){.svg-logo[_ngcontent-%COMP%]{display:none}.navbar-nav.me-auto.my-2.my-lg-0.navbar-nav-scroll[_ngcontent-%COMP%]{padding:20px;border-radius:8px}.container-fluid[_ngcontent-%COMP%]{max-width:1200px;padding:0 3%;color:var(--textColor);justify-content:space-evenly}.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu.search[_ngcontent-%COMP%]{border:unset}.dropdown-menu.search.show[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{max-width:unset}}@media (min-width: 1024px) and (max-width: 1440px){.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu.search[_ngcontent-%COMP%]{left:unset;right:0;width:1000px;padding:10px;margin-top:30px;border:unset}form[_ngcontent-%COMP%]{max-width:unset}.container-fluid[_ngcontent-%COMP%]{max-width:1200px;padding:0 3%;color:var(--textColor)}}@media (min-width: 1441px){.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu.search[_ngcontent-%COMP%]{left:unset;right:0;width:1000px;padding:10px;margin-top:30px;border:unset}form[_ngcontent-%COMP%]{max-width:unset}.container-fluid[_ngcontent-%COMP%]{padding:unset;max-width:1200px;color:var(--textColor)}}"]})}return t})();function lxe(t,e){if(1&t){const n=Ze();g(0,"div",1)(1,"button",2),ne("click",function(){return ze(n),qe(k().scrollToTop())}),O(2,"i",3),m(),g(3,"a",4)(4,"div",5)(5,"span",6),ko(),g(6,"svg",7),O(7,"path",8),m()(),_u(),g(8,"span",6),ko(),g(9,"svg",9),O(10,"path",8),m()()()()()}}let dxe=(()=>{class t{constructor(){this.showScrollButton=!1}onWindowScroll(){this.showScrollButton=window.pageYOffset>300}scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Le({type:t,selectors:[["app-scroll-to-top"]],hostBindings:function(r,i){1&r&&ne("scroll",function(){return i.onWindowScroll()},0,zF)},decls:1,vars:1,consts:[["class","buttons",4,"ngIf"],[1,"buttons"],[1,"to-top",3,"click"],[1,"fa-solid","fa-chevron-up","fa-beat-fade"],["href","javascript:history.back()",1,"back-button"],[1,"button-box"],[1,"button-elem"],["viewBox","0 0 46 40","xmlns","http://www.w3.org/2000/svg"],["d","M46 20.038c0-.7-.3-1.5-.8-2.1l-16-17c-1.1-1-3.2-1.4-4.4-.3-1.2 1.1-1.2 3.3 0 4.4l11.3 11.9H3c-1.7 0-3 1.3-3 3s1.3 3 3 3h33.1l-11.3 11.9c-1 1-1.2 3.3 0 4.4 1.2 1.1 3.3.8 4.4-.3l16-17c.5-.5.8-1.1.8-1.9z"],["viewBox","0 0 46 40"]],template:function(r,i){1&r&&A(0,lxe,11,0,"div",0),2&r&&E("ngIf",i.showScrollButton)},dependencies:[nn],styles:[".buttons[_ngcontent-%COMP%]{display:flex;gap:10px;position:fixed;bottom:120px;right:10px;flex-direction:column;align-items:center}.to-top[_ngcontent-%COMP%]{background-color:var(--mainRGBAColor);color:var(--backgroundColor);border:3px solid var(--backgroundColor);border-radius:50%;width:60px;height:60px;font-size:16px;cursor:pointer;transition:background-color .3s ease}button[_ngcontent-%COMP%]:hover{color:var(--textColor);background-color:var(--backgroundColor);box-shadow:0 0 15px #a7575e}button[_ngcontent-%COMP%]:focus{outline:none}button.ng-hidden[_ngcontent-%COMP%]{display:none}"]})}return t})(),hxe=(()=>{class t{constructor(){this.title="The-Natural-Way"}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Le({type:t,selectors:[["app-root"]],decls:4,vars:0,template:function(r,i){1&r&&O(0,"app-header")(1,"app-scroll-to-top")(2,"router-outlet")(3,"app-footer")},dependencies:[k_,sxe,uxe,dxe]})}return t})(),fxe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({imports:[Ua,hl]})}return t})();const pxe=["addListener","removeListener"],gxe=["addEventListener","removeEventListener"],mxe=["on","off"];function mn(t,e,n,r){if(Ie(n)&&(r=n,n=void 0),r)return mn(t,e,n).pipe(YI(r));const[i,o]=function vxe(t){return Ie(t.addEventListener)&&Ie(t.removeEventListener)}(t)?gxe.map(s=>a=>t[s](e,a,n)):function _xe(t){return Ie(t.addListener)&&Ie(t.removeListener)}(t)?pxe.map(X9(t,e)):function yxe(t){return Ie(t.on)&&Ie(t.off)}(t)?mxe.map(X9(t,e)):[];if(!i&&Db(t))return un(s=>mn(s,e,n))(cn(t));if(!i)throw new TypeError("Invalid event target");return new Ge(s=>{const a=(...c)=>s.next(1<c.length?c:c[0]);return i(a),()=>o(a)})}function X9(t,e){return n=>r=>t[n](e,r)}class bxe extends Fe{constructor(e=1/0,n=1/0,r=fx){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){const{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;n||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){const{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){const s=n.now();let a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}}function Ixe(t,e){}const B0=()=>{const t=typeof window<"u"?window:void 0;return t&&t.tinymce?t.tinymce:null};let Cxe=(()=>{class t{constructor(){this.onBeforePaste=new P,this.onBlur=new P,this.onClick=new P,this.onContextMenu=new P,this.onCopy=new P,this.onCut=new P,this.onDblclick=new P,this.onDrag=new P,this.onDragDrop=new P,this.onDragEnd=new P,this.onDragGesture=new P,this.onDragOver=new P,this.onDrop=new P,this.onFocus=new P,this.onFocusIn=new P,this.onFocusOut=new P,this.onKeyDown=new P,this.onKeyPress=new P,this.onKeyUp=new P,this.onMouseDown=new P,this.onMouseEnter=new P,this.onMouseLeave=new P,this.onMouseMove=new P,this.onMouseOut=new P,this.onMouseOver=new P,this.onMouseUp=new P,this.onPaste=new P,this.onSelectionChange=new P,this.onActivate=new P,this.onAddUndo=new P,this.onBeforeAddUndo=new P,this.onBeforeExecCommand=new P,this.onBeforeGetContent=new P,this.onBeforeRenderUI=new P,this.onBeforeSetContent=new P,this.onChange=new P,this.onClearUndos=new P,this.onDeactivate=new P,this.onDirty=new P,this.onExecCommand=new P,this.onGetContent=new P,this.onHide=new P,this.onInit=new P,this.onInitNgModel=new P,this.onLoadContent=new P,this.onNodeChange=new P,this.onPostProcess=new P,this.onPostRender=new P,this.onPreInit=new P,this.onPreProcess=new P,this.onProgressState=new P,this.onRedo=new P,this.onRemove=new P,this.onReset=new P,this.onResizeEditor=new P,this.onSaveContent=new P,this.onSetAttrib=new P,this.onObjectResizeStart=new P,this.onObjectResized=new P,this.onObjectSelected=new P,this.onSetContent=new P,this.onShow=new P,this.onSubmit=new P,this.onUndo=new P,this.onVisualAid=new P}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=H({type:t,outputs:{onBeforePaste:"onBeforePaste",onBlur:"onBlur",onClick:"onClick",onContextMenu:"onContextMenu",onCopy:"onCopy",onCut:"onCut",onDblclick:"onDblclick",onDrag:"onDrag",onDragDrop:"onDragDrop",onDragEnd:"onDragEnd",onDragGesture:"onDragGesture",onDragOver:"onDragOver",onDrop:"onDrop",onFocus:"onFocus",onFocusIn:"onFocusIn",onFocusOut:"onFocusOut",onKeyDown:"onKeyDown",onKeyPress:"onKeyPress",onKeyUp:"onKeyUp",onMouseDown:"onMouseDown",onMouseEnter:"onMouseEnter",onMouseLeave:"onMouseLeave",onMouseMove:"onMouseMove",onMouseOut:"onMouseOut",onMouseOver:"onMouseOver",onMouseUp:"onMouseUp",onPaste:"onPaste",onSelectionChange:"onSelectionChange",onActivate:"onActivate",onAddUndo:"onAddUndo",onBeforeAddUndo:"onBeforeAddUndo",onBeforeExecCommand:"onBeforeExecCommand",onBeforeGetContent:"onBeforeGetContent",onBeforeRenderUI:"onBeforeRenderUI",onBeforeSetContent:"onBeforeSetContent",onChange:"onChange",onClearUndos:"onClearUndos",onDeactivate:"onDeactivate",onDirty:"onDirty",onExecCommand:"onExecCommand",onGetContent:"onGetContent",onHide:"onHide",onInit:"onInit",onInitNgModel:"onInitNgModel",onLoadContent:"onLoadContent",onNodeChange:"onNodeChange",onPostProcess:"onPostProcess",onPostRender:"onPostRender",onPreInit:"onPreInit",onPreProcess:"onPreProcess",onProgressState:"onProgressState",onRedo:"onRedo",onRemove:"onRemove",onReset:"onReset",onResizeEditor:"onResizeEditor",onSaveContent:"onSaveContent",onSetAttrib:"onSetAttrib",onObjectResizeStart:"onObjectResizeStart",onObjectResized:"onObjectResized",onObjectSelected:"onObjectSelected",onSetContent:"onSetContent",onShow:"onShow",onSubmit:"onSubmit",onUndo:"onUndo",onVisualAid:"onVisualAid"}}),t})();const eq=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onResizeEditor","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],U0=(t,e,n)=>mn(t,e).pipe(Tt(n)),tq=(t,e)=>"string"==typeof t?t.split(",").map(n=>n.trim()):Array.isArray(t)?t:e;let nq=0;const rq=t=>typeof t<"u"&&"textarea"===t.tagName.toLowerCase(),iq=t=>typeof t>"u"||""===t?[]:Array.isArray(t)?t:t.split(" "),Sxe=(t,e)=>iq(t).concat(iq(e)),xxe=()=>{},oq=t=>null==t,Axe=(()=>{let t={script$:null};return{load:(r,i)=>t.script$||(t.script$=JI(()=>{const o=r.createElement("script");return o.referrerPolicy="origin",o.type="application/javascript",o.src=i,r.head.appendChild(o),mn(o,"load").pipe(wn(1),eC(void 0))}).pipe(function wxe(t,e,n){let r,i=!1;return t&&"object"==typeof t?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t):r=t??1/0,xb({connector:()=>new bxe(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}({bufferSize:1,refCount:!0}))),reinitialize:()=>{t={script$:null}}}})(),aq=new te("TINYMCE_SCRIPT_SRC"),Nxe={provide:Jr,useExisting:Ee(()=>cq),multi:!0};let cq=(()=>{class t extends Cxe{constructor(n,r,i,o){super(),this.platformId=i,this.tinymceScriptSrc=o,this.cloudChannel="6",this.apiKey="no-api-key",this.id="",this.modelEvents="change input undo redo",this.onTouchedCallback=xxe,this.destroy$=new Fe,this.initialise=()=>{const s={...this.init,selector:void 0,target:this._element,inline:this.inline,readonly:this.disabled,plugins:Sxe(this.init&&this.init.plugins,this.plugins),toolbar:this.toolbar||this.init&&this.init.toolbar,setup:a=>{this._editor=a,U0(a,"init",this.destroy$).subscribe(()=>{this.initEditor(a)}),((t,e,n)=>{(t=>{const e=tq(t.ignoreEvents,[]);return tq(t.allowedEvents,eq).filter(r=>eq.includes(r)&&!e.includes(r))})(t).forEach(i=>{const o=t[i];U0(e,i.substring(2),n).subscribe(s=>{o.observers.length>0&&t.ngZone.run(()=>o.emit({event:s,editor:e}))})})})(this,a,this.destroy$),this.init&&"function"==typeof this.init.setup&&this.init.setup(a)}};rq(this._element)&&(this._element.style.visibility=""),this.ngZone.runOutsideAngular(()=>{B0().init(s)})},this._elementRef=n,this.ngZone=r}set disabled(n){this._disabled=n,this._editor&&this._editor.initialized&&("function"==typeof this._editor.mode?.set?this._editor.mode.set(n?"readonly":"design"):this._editor.setMode(n?"readonly":"design"))}get disabled(){return this._disabled}get editor(){return this._editor}writeValue(n){this._editor&&this._editor.initialized?this._editor.setContent(oq(n)?"":n):this.initialValue=null===n?void 0:n}registerOnChange(n){this.onChangeCallback=n}registerOnTouched(n){this.onTouchedCallback=n}setDisabledState(n){this.disabled=n}ngAfterViewInit(){(function Loe(t){return t===uU})(this.platformId)&&(this.id=this.id||(t=>{const n=(new Date).getTime(),r=Math.floor(1e9*Math.random());return nq++,"tiny-angular_"+r+nq+String(n)})(),this.inline=void 0!==this.inline?!1!==this.inline:!!this.init?.inline,this.createElement(),null!==B0()?this.initialise():this._element&&this._element.ownerDocument&&Axe.load(this._element.ownerDocument,this.getScriptSrc()).pipe(Tt(this.destroy$)).subscribe(this.initialise))}ngOnDestroy(){this.destroy$.next(),null!==B0()&&B0().remove(this._editor)}createElement(){this._element=document.createElement(this.inline?"string"==typeof this.tagName?this.tagName:"div":"textarea"),this._element&&(document.getElementById(this.id)&&console.warn(`TinyMCE-Angular: an element with id [${this.id}] already exists. Editors with duplicate Id will not be able to mount`),this._element.id=this.id,rq(this._element)&&(this._element.style.visibility="hidden"),this._elementRef.nativeElement.appendChild(this._element))}getScriptSrc(){return oq(this.tinymceScriptSrc)?`https://cdn.tiny.cloud/1/${this.apiKey}/tinymce/${this.cloudChannel}/tinymce.min.js`:this.tinymceScriptSrc}initEditor(n){U0(n,"blur",this.destroy$).subscribe(()=>{this.ngZone.run(()=>this.onTouchedCallback())}),U0(n,this.modelEvents,this.destroy$).subscribe(()=>{this.ngZone.run(()=>this.emitOnChange(n))}),"string"==typeof this.initialValue&&this.ngZone.run(()=>{n.setContent(this.initialValue),n.getContent()!==this.initialValue&&this.emitOnChange(n),void 0!==this.onInitNgModel&&this.onInitNgModel.emit(n)})}emitOnChange(n){this.onChangeCallback&&this.onChangeCallback(n.getContent({format:this.outputFormat}))}}return t.\u0275fac=function(n){return new(n||t)(b($e),b(Te),b(Fo),b(aq,8))},t.\u0275cmp=Le({type:t,selectors:[["editor"]],inputs:{cloudChannel:"cloudChannel",apiKey:"apiKey",init:"init",id:"id",initialValue:"initialValue",outputFormat:"outputFormat",inline:"inline",tagName:"tagName",plugins:"plugins",toolbar:"toolbar",modelEvents:"modelEvents",allowedEvents:"allowedEvents",ignoreEvents:"ignoreEvents",disabled:"disabled"},standalone:!0,features:[at([Nxe]),We,Yr],decls:1,vars:0,template:function(n,r){1&n&&A(0,Ixe,0,0,"ng-template")},dependencies:[Ua,X_],styles:["[_nghost-%COMP%]{display:block}"]}),t})(),ik=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ce({type:t}),t.\u0275inj=we({imports:[cq]}),t})(),uq=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({imports:[Ua,ik,hl]})}return t})(),Oxe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ce({type:t}),t.\u0275inj=we({imports:[[]]}),t})();const{isArray:Rxe}=Array;function dq(t){return 1===t.length&&Rxe(t[0])?t[0]:t}function ok(...t){const e=Mg(t),n=dq(t);return n.length?new Ge(r=>{let i=n.map(()=>[]),o=n.map(()=>!1);r.add(()=>{i=o=null});for(let s=0;!r.closed&&s<n.length;s++)cn(n[s]).subscribe(ut(r,a=>{if(i[s].push(a),i.every(c=>c.length)){const c=i.map(u=>u.shift());r.next(e?e(...c):c),i.some((u,l)=>!u.length&&o[l])&&r.complete()}},()=>{o[s]=!0,!i[s].length&&r.complete()}));return()=>{i=o=null}}):ai}function sk(...t){const e=Mg(t);return St((n,r)=>{const i=t.length,o=new Array(i);let s=t.map(()=>!1),a=!1;for(let c=0;c<i;c++)cn(t[c]).subscribe(ut(r,u=>{o[c]=u,!a&&!s[c]&&(s[c]=!0,(a=s.every(Ii))&&(s=null))},ya));n.subscribe(ut(r,c=>{if(a){const u=[c,...o];r.next(e?e(...u):u)}}))})}Math,Math,Math;const dNe=["*"],jNe=["dialog"];function jc(t){return"string"==typeof t}function $c(t){return null!=t}function vd(t){return(t||document.body).getBoundingClientRect()}const Gq={animation:!0,transitionTimerDelayMs:5},ROe=()=>{},{transitionTimerDelayMs:kOe}=Gq,pg=new Map,jr=(t,e,n,r)=>{let i=r.context||{};const o=pg.get(e);if(o)switch(r.runningTransition){case"continue":return ai;case"stop":t.run(()=>o.transition$.complete()),i=Object.assign(o.context,i),pg.delete(e)}const s=n(e,r.animation,i)||ROe;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return t.run(()=>s()),ce(void 0).pipe(function OOe(t){return e=>new Ge(n=>e.subscribe({next:s=>t.run(()=>n.next(s)),error:s=>t.run(()=>n.error(s)),complete:()=>t.run(()=>n.complete())}))}(t));const a=new Fe,c=new Fe,u=a.pipe(function Pxe(...t){return e=>Bh(e,ce(...t))}(!0));pg.set(e,{transition$:a,complete:()=>{c.next(),c.complete()},context:i});const l=function MOe(t){const{transitionDelay:e,transitionDuration:n}=window.getComputedStyle(t);return 1e3*(parseFloat(e)+parseFloat(n))}(e);return t.runOutsideAngular(()=>{const d=mn(e,"transitionend").pipe(Tt(u),In(({target:f})=>f===e));(function hq(...t){return 1===(t=dq(t)).length?cn(t[0]):new Ge(function kxe(t){return e=>{let n=[];for(let r=0;n&&!e.closed&&r<t.length;r++)n.push(cn(t[r]).subscribe(ut(e,i=>{if(n){for(let o=0;o<n.length;o++)o!==r&&n[o].unsubscribe();n=null}e.next(i)})))}}(t))})(function lq(t=0,e,n=lve){let r=-1;return null!=e&&(Jk(e)?n=e:r=e),new Ge(i=>{let o=function Mxe(t){return t instanceof Date&&!isNaN(t)}(t)?+t-n.now():t;o<0&&(o=0);let s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}(l+kOe).pipe(Tt(u)),d,c).pipe(Tt(u)).subscribe(()=>{pg.delete(e),t.run(()=>{s(),a.next(),a.complete()})})}),a.asObservable()};let K0=(()=>{class t{constructor(){this.animation=Gq.animation}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Xq=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({})}return t})(),eW=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({})}return t})(),rW=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({})}return t})(),iW=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({})}return t})();var ct=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}(ct||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const dW=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function hW(t){const e=Array.from(t.querySelectorAll(dW)).filter(n=>-1!==n.tabIndex);return[e[0],e[e.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let EW=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({})}return t})(),xW=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({})}return t})();class Wc{constructor(e,n,r){this.nodes=e,this.viewRef=n,this.componentRef=r}}let RMe=(()=>{class t{constructor(n,r){this._el=n,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe(wn(1)).subscribe(()=>{jr(this._zone,this._el.nativeElement,(n,r)=>{r&&vd(n),n.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return jr(this._zone,this._el.nativeElement,({classList:n})=>n.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(r){return new(r||t)(b($e),b(Te))};static#t=this.\u0275cmp=Le({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(r,i){2&r&&(Ma("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),He("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[Yr],decls:0,vars:0,template:function(r,i){},encapsulation:2})}return t})();class AW{update(e){}close(e){}dismiss(e){}}const kMe=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],PMe=["animation","backdropClass"];class FMe{_applyWindowOptions(e,n){kMe.forEach(r=>{$c(n[r])&&(e[r]=n[r])})}_applyBackdropOptions(e,n){PMe.forEach(r=>{$c(n[r])&&(e[r]=n[r])})}update(e){this._applyWindowOptions(this._windowCmptRef.instance,e),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,e)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Tt(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Tt(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(e,n,r,i){this._windowCmptRef=e,this._contentRef=n,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new Fe,this._dismissed=new Fe,this._hidden=new Fe,e.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,s)=>{this._resolve=o,this._reject=s}),this.result.then(null,()=>{})}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const n=this._beforeDismiss();!function jq(t){return t&&t.then}(n)?!1!==n&&this._dismiss(e):n.then(r=>{!1!==r&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():ce(void 0);e.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),n.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),ok(e,n).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var kk=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}(kk||{});let LMe=(()=>{class t{constructor(n,r,i){this._document=n,this._elRef=r,this._zone=i,this._closed$=new Fe,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new P,this.shown=new Fe,this.hidden=new Fe}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":jc(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(n){this.dismissEvent.emit(n)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(wn(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:n}=this._elRef,r={animation:this.animation,runningTransition:"stop"},s=ok(jr(this._zone,n,()=>n.classList.remove("show"),r),jr(this._zone,this._dialogEl.nativeElement,()=>{},r));return s.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),s}_show(){const n={animation:this.animation,runningTransition:"continue"};ok(jr(this._zone,this._elRef.nativeElement,(o,s)=>{s&&vd(o),o.classList.add("show")},n),jr(this._zone,this._dialogEl.nativeElement,()=>{},n)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:n}=this._elRef;this._zone.runOutsideAngular(()=>{mn(n,"keydown").pipe(Tt(this._closed$),In(i=>i.which===ct.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(kk.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;mn(this._dialogEl.nativeElement,"mousedown").pipe(Tt(this._closed$),fn(()=>r=!1),Ci(()=>mn(n,"mouseup").pipe(Tt(this._closed$),wn(1))),In(({target:i})=>n===i)).subscribe(()=>{r=!0}),mn(n,"click").pipe(Tt(this._closed$)).subscribe(({target:i})=>{n===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(kk.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:n}=this._elRef;if(!n.contains(document.activeElement)){const r=n.querySelector("[ngbAutofocus]"),i=hW(n)[0];(r||i||n).focus()}}_restoreFocus(){const n=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&n.contains(r)?r:n,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&jr(this._zone,this._elRef.nativeElement,({classList:n})=>(n.add("modal-static"),()=>n.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(r){return new(r||t)(b(zt),b($e),b(Te))};static#t=this.\u0275cmp=Le({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(r,i){if(1&r&&La(jNe,7),2&r){let o;nt(o=function rt(){return function Bne(t,e){return t[Yi].queries[e].queryList}(L(),r2())}())&&(i._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(r,i){2&r&&(Je("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),Ma("modal d-block"+(i.windowClass?" "+i.windowClass:"")),He("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[Yr],ngContentSelectors:dNe,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(r,i){1&r&&(function t3(t){const e=L()[Ht][Qn];if(!e.projection){const r=e.projection=Qd(t?t.length:1,null),i=r.slice();let o=e.child;for(;null!==o;){const s=t?uee(o,t):0;null!==s&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o),o=o.next}}}(),g(0,"div",0,1)(2,"div",2),function n3(t,e=0,n){const r=L(),i=Re(),o=Uu(i,Se+t,16,null,n||null);null===o.projection&&(o.projection=e),n1(),(!r[Oo]||gu())&&32!=(32&o.flags)&&function cJ(t,e,n){oF(e[pe],0,e,n,A1(t,n,e),X2(n.parent||e[Qn],n,e))}(i,r,o)}(3),m()()),2&r&&Ma("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+i.fullscreenClass+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return t})(),VMe=(()=>{class t{constructor(n){this._document=n}hide(){const n=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,i=r.style,{overflow:o,paddingRight:s}=i;if(n>0){const a=parseFloat(window.getComputedStyle(r).paddingRight);i.paddingRight=`${a+n}px`}return i.overflow="hidden",()=>{n>0&&(i.paddingRight=s),i.overflow=o}}static#e=this.\u0275fac=function(r){return new(r||t)(q(zt))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),BMe=(()=>{class t{constructor(n,r,i,o,s,a,c){this._applicationRef=n,this._injector=r,this._environmentInjector=i,this._document=o,this._scrollBar=s,this._rendererFactory=a,this._ngZone=c,this._activeWindowCmptHasChanged=new Fe,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new P,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const u=this._windowCmpts[this._windowCmpts.length-1];((t,e,n,r=!1)=>{t.runOutsideAngular(()=>{const i=mn(e,"focusin").pipe(Tt(n),Oe(o=>o.target));mn(e,"keydown").pipe(Tt(n),In(o=>o.which===ct.Tab),sk(i)).subscribe(([o,s])=>{const[a,c]=hW(e);(s===a||s===e)&&o.shiftKey&&(c.focus(),o.preventDefault()),s===c&&!o.shiftKey&&(a.focus(),o.preventDefault())}),r&&mn(e,"click").pipe(Tt(n),sk(i),Oe(o=>o[1])).subscribe(o=>o.focus())})})(this._ngZone,u.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(u.location.nativeElement)}})}_restoreScrollBar(){const n=this._scrollBarRestoreFn;n&&(this._scrollBarRestoreFn=null,n())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(n,r,i){const o=i.container instanceof HTMLElement?i.container:$c(i.container)?this._document.querySelector(i.container):this._document.body,s=this._rendererFactory.createRenderer(null,null);if(!o)throw new Error(`The specified modal container "${i.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const a=new AW,c=(n=i.injector||n).get(xr,null)||this._environmentInjector,u=this._getContentRef(n,c,r,a,i);let l=!1!==i.backdrop?this._attachBackdrop(o):void 0,d=this._attachWindowComponent(o,u.nodes),h=new FMe(d,u,l,i.beforeDismiss);return this._registerModalRef(h),this._registerWindowCmpt(d),h.hidden.pipe(wn(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(s.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),a.close=f=>{h.close(f)},a.dismiss=f=>{h.dismiss(f)},a.update=f=>{h.update(f)},h.update(i),1===this._modalRefs.length&&s.addClass(this._document.body,"modal-open"),l&&l.instance&&l.changeDetectorRef.detectChanges(),d.changeDetectorRef.detectChanges(),h}get activeInstances(){return this._activeInstances}dismissAll(n){this._modalRefs.forEach(r=>r.dismiss(n))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(n){let r=yI(RMe,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),n.appendChild(r.location.nativeElement),r}_attachWindowComponent(n,r){let i=yI(LMe,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(i.hostView),n.appendChild(i.location.nativeElement),i}_getContentRef(n,r,i,o,s){return i?i instanceof At?this._createFromTemplateRef(i,o):jc(i)?this._createFromString(i):this._createFromComponent(n,r,i,o,s):new Wc([])}_createFromTemplateRef(n,r){const o=n.createEmbeddedView({$implicit:r,close(s){r.close(s)},dismiss(s){r.dismiss(s)}});return this._applicationRef.attachView(o),new Wc([o.rootNodes],o)}_createFromString(n){const r=this._document.createTextNode(`${n}`);return new Wc([[r]])}_createFromComponent(n,r,i,o,s){const c=yI(i,{environmentInjector:r,elementInjector:en.create({providers:[{provide:AW,useValue:o}],parent:n})}),u=c.location.nativeElement;return s.scrollable&&u.classList.add("component-host-scrollable"),this._applicationRef.attachView(c.hostView),new Wc([[u]],c.hostView,c)}_setAriaHidden(n){const r=n.parentElement;r&&n!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==n&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((n,r)=>{n?r.setAttribute("aria-hidden",n):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(n){const r=()=>{const i=this._modalRefs.indexOf(n);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(n),this._activeInstances.emit(this._modalRefs),n.result.then(r,r)}_registerWindowCmpt(n){this._windowCmpts.push(n),this._activeWindowCmptHasChanged.next(),n.onDestroy(()=>{const r=this._windowCmpts.indexOf(n);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(r){return new(r||t)(q(As),q(en),q(xr),q(zt),q(VMe),q(nw),q(Te))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),UMe=(()=>{class t{constructor(n){this._ngbConfig=n,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(n){this._animation=n}static#e=this.\u0275fac=function(r){return new(r||t)(q(K0))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),jMe=(()=>{class t{constructor(n,r,i){this._injector=n,this._modalStack=r,this._config=i}open(n,r={}){const i={...this._config,animation:this._config.animation,...r};return this._modalStack.open(this._injector,n,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(n){this._modalStack.dismissAll(n)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(r){return new(r||t)(q(en),q(BMe),q(UMe))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),NW=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({providers:[jMe]})}return t})(),RW=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({})}return t})(),jW=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({})}return t})(),$W=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({})}return t})(),HW=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({})}return t})(),GW=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({})}return t})(),zW=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({})}return t})(),qW=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({})}return t})(),WW=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({})}return t})(),KW=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({})}return t})();new te("live announcer delay",{providedIn:"root",factory:function nRe(){return 100}});let YW=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({})}return t})(),QW=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({})}return t})();const iRe=[Xq,eW,rW,iW,EW,xW,NW,RW,QW,jW,$W,HW,GW,zW,qW,WW,KW,YW];let oRe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({imports:[iRe,Xq,eW,rW,iW,EW,xW,NW,RW,QW,jW,$W,HW,GW,zW,qW,WW,KW,YW]})}return t})(),sRe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({imports:[Ua,BC,X_]})}return t})(),aRe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({imports:[Ua,BC,X_,uq,ik,hl,sRe]})}return t})(),cRe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t});static#n=this.\u0275inj=we({imports:[Ua,X_,BC,hl]})}return t})(),uRe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ce({type:t,bootstrap:[hxe]});static#n=this.\u0275inj=we({providers:[{provide:aq,useValue:"tinymce/tinymce.min.js"}],imports:[Mse,oxe,fxe,uq,aRe,cRe,wve(()=>Ive(L0_firebaseConfig)),jEe(()=>GEe()),Oxe,oRe,ik]})}return t})();Nse().bootstrapModule(uRe).catch(t=>console.error(t))},614:()=>{const Ie=":";const Og=function(S,...D){if(Og.translate){const V=Og.translate(S,D);S=V[0],D=V[1]}let R=Ib(S[0],S.raw[0]);for(let V=1;V<S.length;V++)R+=D[V-1]+Ib(S[V],S.raw[V]);return R},jk=":";function Ib(S,D){return D.charAt(0)===jk?S.substring(function Ad(S,D){for(let R=1,V=1;R<S.length;R++,V++)if("\\"===D[V])V++;else if(S[R]===Ie)return R;throw new Error(`Unterminated $localize metadata block in "${D}".`)}(S,D)+1):S}globalThis.$localize=Og}},Ie=>{var gs=ms=>Ie(Ie.s=ms);gs(614),gs(431)}]);