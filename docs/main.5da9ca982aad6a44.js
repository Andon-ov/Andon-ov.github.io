"use strict";(self.webpackChunkThe_Natural_Way=self.webpackChunkThe_Natural_Way||[]).push([[179],{8726:(Gt,$e,Q)=>{Q.d($e,{Ot:()=>we,ZF:()=>Bt,hX:()=>et,z6:()=>de});var w=Q(4097),ce=Q(9468),h=Q(6106);class we{constructor(ot){return ot}}class de{constructor(){return(0,w.C6)()}}const He=new ce.OlP("angularfire2._apps"),Ee={provide:we,useFactory:function Oe(mt){return mt&&1===mt.length?mt[0]:new we((0,w.Mq)())},deps:[[new ce.FiY,He]]},re={provide:de,deps:[[new ce.FiY,He]]};function le(mt){return(ot,vt)=>{const _t=ot.runOutsideAngular(()=>mt(vt));return new we(_t)}}let Se=(()=>{class mt{constructor(vt){(0,w.KN)("angularfire",h.q4.full,"core"),(0,w.KN)("angularfire",h.q4.full,"app"),(0,w.KN)("angular",ce.q4F.full,vt.toString())}}return mt.\u0275fac=function(vt){return new(vt||mt)(ce.LFG(ce.Lbi))},mt.\u0275mod=ce.oAB({type:mt}),mt.\u0275inj=ce.cJS({providers:[Ee,re]}),mt})();function et(mt,...ot){return{ngModule:Se,providers:[{provide:He,useFactory:le(mt),multi:!0,deps:[ce.R0b,ce.zs3,h.HU,...ot]}]}}const Bt=(0,h.u3)(w.ZF,!0)},3477:(Gt,$e,Q)=>{Q.d($e,{gg:()=>ED,ET:()=>lA,Ab:()=>uA,vr:()=>dA,hJ:()=>hA,oe:()=>fA,JU:()=>pA,QT:()=>gA,PL:()=>mA,ad:()=>_A,b9:()=>yA,Xo:()=>vA,Cm:()=>cA,IO:()=>bA,pl:()=>wA,TQ:()=>IA,r7:()=>TA,ar:()=>EA});var w=Q(6106),ce=Q(9468),h=Q(8726),we=Q(4097),de=Q(5861),fe=Q(229),Oe=Q(7592),He=Q(7582),Ee=Q(7879),re=Q(6820);const An=function Bt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},xt=new fe.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ot=new Ee.Yd("@firebase/auth");function _t(n,...e){ot.logLevel<=Ee.in.ERROR&&ot.error(`Auth (${Oe.Jn}): ${n}`,...e)}function Ge(n,...e){throw Mn(n,...e)}function be(n,...e){return Mn(n,...e)}function Mn(n,...e){if("string"!=typeof n){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return xt.create(n,...e)}function ht(n,e,...t){if(!n)throw Mn(e,...t)}function fn(n){const e="INTERNAL ASSERTION FAILED: "+n;throw _t(e),new Error(e)}function En(n,e){n||fn(e)}function fr(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class Qe{constructor(e,t){this.shortDelay=e,this.longDelay=t,En(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,fe.uI)()||(0,fe.b$)()}get(){return function ke(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Xn(){return"http:"===fr()||"https:"===fr()}()||(0,fe.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class nt{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void fn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void fn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void fn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const bt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Rt=new Qe(3e4,6e4);function pn(n,e,t,i){return vn.apply(this,arguments)}function vn(){return(vn=(0,de.Z)(function*(n,e,t,i,c={}){return un(n,c,(0,de.Z)(function*(){let p={},_={};i&&("GET"===e?_=i:p={body:JSON.stringify(i)});const E=(0,fe.xO)(Object.assign({key:n.config.apiKey},_)).slice(1),F=yield n._getAdditionalHeaders();return F["Content-Type"]="application/json",n.languageCode&&(F["X-Firebase-Locale"]=n.languageCode),nt.fetch()(kr(n,n.config.apiHost,t,E),Object.assign({method:e,headers:F,referrerPolicy:"no-referrer"},p))}))})).apply(this,arguments)}function un(n,e,t){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,de.Z)(function*(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},bt),e);try{const c=new De(n),p=yield Promise.race([t(),c.promise]);c.clearNetworkTimeout();const _=yield p.json();if("needConfirmation"in _)throw xe(n,"account-exists-with-different-credential",_);if(p.ok&&!("errorMessage"in _))return _;{const E=p.ok?_.errorMessage:_.error.message,[F,H]=E.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===F)throw xe(n,"credential-already-in-use",_);if("EMAIL_EXISTS"===F)throw xe(n,"email-already-in-use",_);if("USER_DISABLED"===F)throw xe(n,"user-disabled",_);const te=i[F]||F.toLowerCase().replace(/[_\s]+/g,"-");if(H)throw function Ye(n,e,t){const i=Object.assign(Object.assign({},An()),{[e]:t});return new fe.LL("auth","Firebase",i).create(e,{appName:n.name})}(n,te,H);Ge(n,te)}}catch(c){if(c instanceof fe.ZR)throw c;Ge(n,"network-request-failed",{message:String(c)})}})).apply(this,arguments)}function kr(n,e,t,i){const c=`${e}${t}?${i}`;return n.config.emulator?function Ve(n,e){En(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}(n.config,c):`${n.config.apiScheme}://${c}`}class De{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(be(this.auth,"network-request-failed")),Rt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function xe(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const c=be(n,e,i);return c.customData._tokenResponse=t,c}function at(){return(at=(0,de.Z)(function*(n,e){return pn(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function Dn(){return(Dn=(0,de.Z)(function*(n,e){return pn(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function on(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Kn(){return(Kn=(0,de.Z)(function*(n,e=!1){const t=(0,fe.m9)(n),i=yield t.getIdToken(e),c=Cr(i);ht(c&&c.exp&&c.auth_time&&c.iat,t.auth,"internal-error");const p="object"==typeof c.firebase?c.firebase:void 0,_=p?.sign_in_provider;return{claims:c,token:i,authTime:on(tn(c.auth_time)),issuedAtTime:on(tn(c.iat)),expirationTime:on(tn(c.exp)),signInProvider:_||null,signInSecondFactor:p?.sign_in_second_factor||null}})).apply(this,arguments)}function tn(n){return 1e3*Number(n)}function Cr(n){const[e,t,i]=n.split(".");if(void 0===e||void 0===t||void 0===i)return _t("JWT malformed, contained fewer than 3 sections"),null;try{const c=(0,fe.tV)(t);return c?JSON.parse(c):(_t("Failed to decode base64 JWT payload"),null)}catch(c){return _t("Caught error parsing JWT payload as JSON",c?.toString()),null}}function mn(n,e){return rr.apply(this,arguments)}function rr(){return(rr=(0,de.Z)(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(i){throw i instanceof fe.ZR&&function Wn({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})).apply(this,arguments)}class ir{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),i}{this.errorBackoff=3e4;const c=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,c)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout((0,de.Z)(function*(){yield t.iteration()}),i)}iteration(){var e=this;return(0,de.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class Hn{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=on(this.lastLoginAt),this.creationTime=on(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function gi(n){return Nn.apply(this,arguments)}function Nn(){return Nn=(0,de.Z)(function*(n){var e;const t=n.auth,i=yield n.getIdToken(),c=yield mn(n,function yr(n,e){return Dn.apply(this,arguments)}(t,{idToken:i}));ht(c?.users.length,t,"internal-error");const p=c.users[0];n._notifyReloadListener(p);const _=null!==(e=p.providerUserInfo)&&void 0!==e&&e.length?function tt(n){return n.map(e=>{var{providerId:t}=e,i=(0,He._T)(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}(p.providerUserInfo):[],E=function mi(n,e){return[...n.filter(i=>!e.some(c=>c.providerId===i.providerId)),...e]}(n.providerData,_),te=!!n.isAnonymous&&!(n.email&&p.passwordHash||E?.length),pe={uid:p.localId,displayName:p.displayName||null,photoURL:p.photoUrl||null,email:p.email||null,emailVerified:p.emailVerified||!1,phoneNumber:p.phoneNumber||null,tenantId:p.tenantId||null,providerData:E,metadata:new Hn(p.createdAt,p.lastLoginAt),isAnonymous:te};Object.assign(n,pe)}),Nn.apply(this,arguments)}function Nr(){return(Nr=(0,de.Z)(function*(n){const e=(0,fe.m9)(n);yield gi(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function Ke(){return(Ke=(0,de.Z)(function*(n,e){const t=yield un(n,{},(0,de.Z)(function*(){const i=(0,fe.xO)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:c,apiKey:p}=n.config,_=kr(n,c,"/v1/token",`key=${p}`),E=yield n._getAdditionalHeaders();return E["Content-Type"]="application/x-www-form-urlencoded",nt.fetch()(_,{method:"POST",headers:E,body:i})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class It{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ht(e.idToken,"internal-error"),ht(typeof e.idToken<"u","internal-error"),ht(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function vr(n){const e=Cr(n);return ht(e,"internal-error"),ht(typeof e.exp<"u","internal-error"),ht(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var i=this;return(0,de.Z)(function*(){return ht(!i.accessToken||i.refreshToken,e,"user-token-expired"),t||!i.accessToken||i.isExpired?i.refreshToken?(yield i.refresh(e,i.refreshToken),i.accessToken):null:i.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var i=this;return(0,de.Z)(function*(){const{accessToken:c,refreshToken:p,expiresIn:_}=yield function Ce(n,e){return Ke.apply(this,arguments)}(e,t);i.updateTokensAndExpiration(c,p,Number(_))})()}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(e,t){const{refreshToken:i,accessToken:c,expirationTime:p}=t,_=new It;return i&&(ht("string"==typeof i,"internal-error",{appName:e}),_.refreshToken=i),c&&(ht("string"==typeof c,"internal-error",{appName:e}),_.accessToken=c),p&&(ht("number"==typeof p,"internal-error",{appName:e}),_.expirationTime=p),_}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new It,this.toJSON())}_performRefresh(){return fn("not implemented")}}function Qt(n,e){ht("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class Jt{constructor(e){var{uid:t,auth:i,stsTokenManager:c}=e,p=(0,He._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ir(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=c,this.accessToken=c.accessToken,this.displayName=p.displayName||null,this.email=p.email||null,this.emailVerified=p.emailVerified||!1,this.phoneNumber=p.phoneNumber||null,this.photoURL=p.photoURL||null,this.isAnonymous=p.isAnonymous||!1,this.tenantId=p.tenantId||null,this.providerData=p.providerData?[...p.providerData]:[],this.metadata=new Hn(p.createdAt||void 0,p.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,de.Z)(function*(){const i=yield mn(t,t.stsTokenManager.getToken(t.auth,e));return ht(i,t.auth,"internal-error"),t.accessToken!==i&&(t.accessToken=i,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),i})()}getIdTokenResult(e){return function wn(n){return Kn.apply(this,arguments)}(this,e)}reload(){return function Yn(n){return Nr.apply(this,arguments)}(this)}_assign(e){this!==e&&(ht(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Jt(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ht(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var i=this;return(0,de.Z)(function*(){let c=!1;e.idToken&&e.idToken!==i.stsTokenManager.accessToken&&(i.stsTokenManager.updateFromServerResponse(e),c=!0),t&&(yield gi(i)),yield i.auth._persistUserIfCurrent(i),c&&i.auth._notifyListenersIfCurrent(i)})()}delete(){var e=this;return(0,de.Z)(function*(){const t=yield e.getIdToken();return yield mn(e,function Re(n,e){return at.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,c,p,_,E,F,H,te;const pe=null!==(i=t.displayName)&&void 0!==i?i:void 0,Be=null!==(c=t.email)&&void 0!==c?c:void 0,lt=null!==(p=t.phoneNumber)&&void 0!==p?p:void 0,Pt=null!==(_=t.photoURL)&&void 0!==_?_:void 0,sn=null!==(E=t.tenantId)&&void 0!==E?E:void 0,cn=null!==(F=t._redirectEventId)&&void 0!==F?F:void 0,Dr=null!==(H=t.createdAt)&&void 0!==H?H:void 0,ii=null!==(te=t.lastLoginAt)&&void 0!==te?te:void 0,{uid:Pr,emailVerified:Wo,isAnonymous:Co,providerData:es,stsTokenManager:kc}=t;ht(Pr&&kc,e,"internal-error");const dg=It.fromJSON(this.name,kc);ht("string"==typeof Pr,e,"internal-error"),Qt(pe,e.name),Qt(Be,e.name),ht("boolean"==typeof Wo,e,"internal-error"),ht("boolean"==typeof Co,e,"internal-error"),Qt(lt,e.name),Qt(Pt,e.name),Qt(sn,e.name),Qt(cn,e.name),Qt(Dr,e.name),Qt(ii,e.name);const J1=new Jt({uid:Pr,auth:e,email:Be,emailVerified:Wo,displayName:pe,isAnonymous:Co,photoURL:Pt,phoneNumber:lt,tenantId:sn,stsTokenManager:dg,createdAt:Dr,lastLoginAt:ii});return es&&Array.isArray(es)&&(J1.providerData=es.map(DA=>Object.assign({},DA))),cn&&(J1._redirectEventId=cn),J1}static _fromIdTokenResponse(e,t,i=!1){return(0,de.Z)(function*(){const c=new It;c.updateFromServerResponse(t);const p=new Jt({uid:t.localId,auth:e,stsTokenManager:c,isAnonymous:i});return yield gi(p),p})()}}const Gn=new Map;function K(n){En(n instanceof Function,"Expected a class definition");let e=Gn.get(n);return e?(En(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Gn.set(n,e),e)}const G=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,de.Z)(function*(){return!0})()}_set(t,i){var c=this;return(0,de.Z)(function*(){c.storage[t]=i})()}_get(t){var i=this;return(0,de.Z)(function*(){const c=i.storage[t];return void 0===c?null:c})()}_remove(t){var i=this;return(0,de.Z)(function*(){delete i.storage[t]})()}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})();function W(n,e,t){return`firebase:${n}:${e}:${t}`}class ${constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:c,name:p}=this.auth;this.fullUserKey=W(this.userKey,c.apiKey,p),this.fullPersistenceKey=W("persistence",c.apiKey,p),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,de.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Jt._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,de.Z)(function*(){if(t.persistence===e)return;const i=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,i?t.setCurrentUser(i):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return(0,de.Z)(function*(){if(!t.length)return new $(K(G),e,i);const c=(yield Promise.all(t.map(function(){var H=(0,de.Z)(function*(te){if(yield te._isAvailable())return te});return function(te){return H.apply(this,arguments)}}()))).filter(H=>H);let p=c[0]||K(G);const _=W(i,e.config.apiKey,e.name);let E=null;for(const H of t)try{const te=yield H._get(_);if(te){const pe=Jt._fromJSON(e,te);H!==p&&(E=pe),p=H;break}}catch{}const F=c.filter(H=>H._shouldAllowMigration);return p._shouldAllowMigration&&F.length?(p=F[0],E&&(yield p._set(_,E.toJSON())),yield Promise.all(t.map(function(){var H=(0,de.Z)(function*(te){if(te!==p)try{yield te._remove(_)}catch{}});return function(te){return H.apply(this,arguments)}}())),new $(p,e,i)):new $(p,e,i)})()}}function ve(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function ln(n=(0,fe.z$)()){return/iemobile/i.test(n)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function ze(n=(0,fe.z$)()){return/firefox\//i.test(n)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function $t(n=(0,fe.z$)()){return/blackberry/i.test(n)}(e))return"Blackberry";if(function kn(n=(0,fe.z$)()){return/webos/i.test(n)}(e))return"Webos";if(function Tt(n=(0,fe.z$)()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function an(n=(0,fe.z$)()){return/crios\//i.test(n)}(e))&&!e.includes("edge/"))return"Chrome";if(function Tn(n=(0,fe.z$)()){return/android/i.test(n)}(e))return"Android";{const i=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===i?.length)return i[1]}return"Other"}function js(n,e=[]){let t;switch(n){case"Browser":t=ve((0,fe.z$)());break;case"Worker":t=`${ve((0,fe.z$)())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Oe.Jn}/${i}`}function qo(n,e){return ds.apply(this,arguments)}function ds(){return(ds=(0,de.Z)(function*(n,e){return pn(n,"GET","/v2/recaptchaConfig",function Ht(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}(n,e))})).apply(this,arguments)}function tr(n){return void 0!==n&&void 0!==n.enterprise}class $s{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}class Ps{constructor(e){this.type="recaptcha-enterprise",this.auth=_i(e)}verify(e="verify",t=!1){var i=this;return(0,de.Z)(function*(){function p(){return p=(0,de.Z)(function*(E){if(!t){if(null==E.tenantId&&null!=E._agentRecaptchaConfig)return E._agentRecaptchaConfig.siteKey;if(null!=E.tenantId&&void 0!==E._tenantRecaptchaConfigs[E.tenantId])return E._tenantRecaptchaConfigs[E.tenantId].siteKey}return new Promise(function(){var F=(0,de.Z)(function*(H,te){qo(E,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(pe=>{if(void 0!==pe.recaptchaKey){const Be=new $s(pe);return null==E.tenantId?E._agentRecaptchaConfig=Be:E._tenantRecaptchaConfigs[E.tenantId]=Be,H(Be.siteKey)}te(new Error("recaptcha Enterprise site key undefined"))}).catch(pe=>{te(pe)})});return function(H,te){return F.apply(this,arguments)}}())}),p.apply(this,arguments)}function _(E,F,H){const te=window.grecaptcha;tr(te)?te.enterprise.ready(()=>{te.enterprise.execute(E,{action:e}).then(pe=>{F(pe)}).catch(()=>{F("NO_RECAPTCHA")})}):H(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((E,F)=>{(function c(E){return p.apply(this,arguments)})(i.auth).then(H=>{if(!t&&tr(window.grecaptcha))_(H,E,F);else{if(typeof window>"u")return void F(new Error("RecaptchaVerifier is only supported in browser"));(function So(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=c=>{const p=be("internal-error");p.customData=c,t(p)},i.type="text/javascript",i.charset="UTF-8",function oo(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(i)})})("https://www.google.com/recaptcha/enterprise.js?render="+H).then(()=>{_(H,E,F)}).catch(te=>{F(te)})}}).catch(H=>{F(H)})})})()}}class ws{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=p=>new Promise((_,E)=>{try{_(e(p))}catch(F){E(F)}});i.onAbort=t,this.queue.push(i);const c=this.queue.length-1;return()=>{this.queue[c]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return(0,de.Z)(function*(){if(t.auth.currentUser===e)return;const i=[];try{for(const c of t.queue)yield c(e),c.onAbort&&i.push(c.onAbort)}catch(c){i.reverse();for(const p of i)try{p()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:c?.message})}})()}}class lc{constructor(e,t,i,c){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=c,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ws(this),this.idTokenSubscription=new Ws(this),this.beforeStateQueue=new ws(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=c.sdkClientVersion}_initializeWithPersistence(e,t){var i=this;return t&&(this._popupRedirectResolver=K(t)),this._initializationPromise=this.queue((0,de.Z)(function*(){var c,p;if(!i._deleted&&(i.persistenceManager=yield $.create(i,e),!i._deleted)){if(null!==(c=i._popupRedirectResolver)&&void 0!==c&&c._shouldInitProactively)try{yield i._popupRedirectResolver._initialize(i)}catch{}yield i.initializeCurrentUser(t),i.lastNotifiedUid=(null===(p=i.currentUser)||void 0===p?void 0:p.uid)||null,!i._deleted&&(i._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,de.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return(0,de.Z)(function*(){var i;const c=yield t.assertedPersistence.getCurrentUser();let p=c,_=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const E=null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId,F=p?._redirectEventId,H=yield t.tryRedirectSignIn(e);(!E||E===F)&&H?.user&&(p=H.user,_=!0)}if(!p)return t.directlySetCurrentUser(null);if(!p._redirectEventId){if(_)try{yield t.beforeStateQueue.runMiddleware(p)}catch(E){p=c,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(E))}return p?t.reloadAndSetCurrentUserOrClear(p):t.directlySetCurrentUser(null)}return ht(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===p._redirectEventId?t.directlySetCurrentUser(p):t.reloadAndSetCurrentUserOrClear(p)})()}tryRedirectSignIn(e){var t=this;return(0,de.Z)(function*(){let i=null;try{i=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return i})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,de.Z)(function*(){try{yield gi(e)}catch(i){if("auth/network-request-failed"!==i?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function je(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return(0,de.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,de.Z)(function*(){const i=e?(0,fe.m9)(e):null;return i&&ht(i.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(i&&i._clone(t))})()}_updateCurrentUser(e,t=!1){var i=this;return(0,de.Z)(function*(){if(!i._deleted)return e&&ht(i.tenantId===e.tenantId,i,"tenant-id-mismatch"),t||(yield i.beforeStateQueue.runMiddleware(e)),i.queue((0,de.Z)(function*(){yield i.directlySetCurrentUser(e),i.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,de.Z)(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue((0,de.Z)(function*(){yield t.assertedPersistence.setPersistence(K(e))}))}initializeRecaptchaConfig(){var e=this;return(0,de.Z)(function*(){const t=yield qo(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),i=new $s(t);null==e.tenantId?e._agentRecaptchaConfig=i:e._tenantRecaptchaConfigs[e.tenantId]=i,i.emailPasswordEnabled&&new Ps(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new fe.LL("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var i=this;return(0,de.Z)(function*(){const c=yield i.getOrInitRedirectPersistenceManager(t);return null===e?c.removeCurrentUser():c.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,de.Z)(function*(){if(!t.redirectPersistenceManager){const i=e&&K(e)||t._popupRedirectResolver;ht(i,t,"argument-error"),t.redirectPersistenceManager=yield $.create(t,[K(i._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,de.Z)(function*(){var i,c;return t._isInitialized&&(yield t.queue((0,de.Z)(function*(){}))),(null===(i=t._currentUser)||void 0===i?void 0:i._redirectEventId)===e?t._currentUser:(null===(c=t.redirectUser)||void 0===c?void 0:c._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,de.Z)(function*(){if(e===t.currentUser)return t.queue((0,de.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,c){if(this._deleted)return()=>{};const p="function"==typeof t?t:t.next.bind(t),_=this._isInitialized?Promise.resolve():this._initializationPromise;return ht(_,this,"internal-error"),_.then(()=>p(this.currentUser)),"function"==typeof t?e.addObserver(t,i,c):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return(0,de.Z)(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ht(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=js(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,de.Z)(function*(){var t;const i={"X-Client-Version":e.clientVersion};e.app.options.appId&&(i["X-Firebase-gmpid"]=e.app.options.appId);const c=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();c&&(i["X-Firebase-Client"]=c);const p=yield e._getAppCheckToken();return p&&(i["X-Firebase-AppCheck"]=p),i})()}_getAppCheckToken(){var e=this;return(0,de.Z)(function*(){var t;const i=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return i?.error&&function vt(n,...e){ot.logLevel<=Ee.in.WARN&&ot.warn(`Auth (${Oe.Jn}): ${n}`,...e)}(`Error while retrieving App Check token: ${i.error}`),i?.token})()}}function _i(n){return(0,fe.m9)(n)}class Ws{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,fe.ne)(t=>this.observer=t)}get next(){return ht(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function aa(n){return`__${n}${Math.floor(1e6*Math.random())}`})("rcb"),new Qe(3e4,6e4),new Qe(2e3,1e4),new Qe(3e4,6e4),new Qe(5e3,15e3),encodeURIComponent("fac");var Ul="@firebase/auth";class ba{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,de.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ht(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,fe.Pz)("authIdTokenMaxAge"),function Bo(n){(0,Oe.Xd)(new re.wA("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),c=e.getProvider("heartbeat"),p=e.getProvider("app-check-internal"),{apiKey:_,authDomain:E}=i.options;ht(_&&!_.includes(":"),"invalid-api-key",{appName:i.name});const F={apiKey:_,authDomain:E,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:js(n)},H=new lc(i,c,p,F);return function li(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(K);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}(H,t),H},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),(0,Oe.Xd)(new re.wA("auth-internal",e=>{const t=_i(e.getProvider("auth").getImmediate());return new ba(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Oe.KN)(Ul,"0.23.2",function gu(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),(0,Oe.KN)(Ul,"0.23.2","esm2017")}("Browser");class v_{constructor(){return(0,w.vb)("auth")}}const qh=new Map,E_={activated:!1,tokenObservers:[]},Eg={initialized:!1,enabled:!1};function Ns(n){return qh.get(n)||Object.assign({},E_)}function Kc(){return Eg}const Dg="https://content-firebaseappcheck.googleapis.com/v1",ap="exchangeDebugToken",D_={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Vi{constructor(e,t,i,c,p){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=c,this.upperBound=p,this.pending=null,this.nextErrorWaitInterval=c,c>p)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,de.Z)(function*(){t.stop();try{t.pending=new fe.BH,yield function wv(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new fe.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Vo=new fe.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Cg(n){if(!Ns(n).activated)throw Vo.create("use-before-activation",{appName:n.name})}function od(n,e){return ad.apply(this,arguments)}function ad(){return(ad=(0,de.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},c=t.getImmediate({optional:!0});if(c){const pe=yield c.getHeartbeatsHeader();pe&&(i["X-Firebase-Client"]=pe)}const p={method:"POST",body:JSON.stringify(e),headers:i};let _,E;try{_=yield fetch(n,p)}catch(pe){throw Vo.create("fetch-network-error",{originalErrorMessage:pe?.message})}if(200!==_.status)throw Vo.create("fetch-status-error",{httpStatus:_.status});try{E=yield _.json()}catch(pe){throw Vo.create("fetch-parse-error",{originalErrorMessage:pe?.message})}const F=E.ttl.match(/^([\d.]+)(s)$/);if(!F||!F[2]||isNaN(Number(F[1])))throw Vo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${E.ttl}`});const H=1e3*Number(F[1]),te=Date.now();return{token:E.token,expireTimeMillis:te+H,issuedAtTimeMillis:te}})).apply(this,arguments)}function Tv(n,e){const{projectId:t,appId:i,apiKey:c}=n.options;return{url:`${Dg}/projects/${t}/apps/${i}:${ap}?key=${c}`,body:{debug_token:e}}}const Ev="firebase-app-check-database",S_=1,eh="firebase-app-check-store";let yu=null;function N_(){return(N_=(0,de.Z)(function*(n,e){const i=(yield function up(){return yu||(yu=new Promise((n,e)=>{try{const t=indexedDB.open(Ev,S_);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var c;e(Vo.create("storage-open",{originalErrorMessage:null===(c=i.target.error)||void 0===c?void 0:c.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(eh,{keyPath:"compositeKey"})}}catch(t){e(Vo.create("storage-open",{originalErrorMessage:t?.message}))}}),yu)}()).transaction(eh,"readwrite"),p=i.objectStore(eh).put({compositeKey:n,value:e});return new Promise((_,E)=>{p.onsuccess=F=>{_()},i.onerror=F=>{var H;E(Vo.create("storage-set",{originalErrorMessage:null===(H=F.target.error)||void 0===H?void 0:H.message}))}})})).apply(this,arguments)}const th=new Ee.Yd("@firebase/app-check");function Yh(n,e){return(0,fe.hl)()?function A_(n,e){return function Cv(n,e){return N_.apply(this,arguments)}(function M_(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{th.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function hp(){return Kc().enabled}function Mg(){return cd.apply(this,arguments)}function cd(){return(cd=(0,de.Z)(function*(){const n=Kc();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const db={error:"UNKNOWN_ERROR"};function YI(n){return fe.US.encodeString(JSON.stringify(n),!1)}function Av(n){return fp.apply(this,arguments)}function fp(){return(fp=(0,de.Z)(function*(n,e=!1){const t=n.app;Cg(t);const i=Ns(t);let p,c=i.token;if(c&&!Gl(c)&&(i.token=void 0,c=void 0),!c){const F=yield i.cachedTokenPromise;F&&(Gl(F)?c=F:yield Yh(t,void 0))}if(!e&&c&&Gl(c))return{token:c.token};let E,_=!1;if(hp()){i.exchangeTokenPromise||(i.exchangeTokenPromise=od(Tv(t,yield Mg()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),_=!0);const F=yield i.exchangeTokenPromise;return yield Yh(t,F),i.token=F,{token:F.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),_=!0),c=yield Ns(t).exchangeTokenPromise}catch(F){"appCheck/throttled"===F.code?th.warn(F.message):th.error(F),p=F}return c?p?E=Gl(c)?{token:c.token,internalError:p}:Nv(p):(E={token:c.token},i.token=c,yield Yh(t,c)):E=Nv(p),_&&function xg(n,e){const t=Ns(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}(t,E),E})).apply(this,arguments)}function hb(n){return x_.apply(this,arguments)}function x_(){return(x_=(0,de.Z)(function*(n){const e=n.app;Cg(e);const{provider:t}=Ns(e);if(hp()){const i=yield Mg(),{token:c}=yield od(Tv(e,i),n.heartbeatServiceProvider);return{token:c}}{const{token:i}=yield t.getToken();return{token:i}}})).apply(this,arguments)}function P_(n,e){const t=Ns(n),i=t.tokenObservers.filter(c=>c.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function k_(n){const{app:e}=n,t=Ns(e);let i=t.tokenRefresher;i||(i=function fb(n){const{app:e}=n;return new Vi((0,de.Z)(function*(){let i;if(i=Ns(e).token?yield Av(n,!0):yield Av(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=Ns(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},D_.RETRIAL_MIN_WAIT,D_.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function Gl(n){return n.expireTimeMillis-Date.now()>0}function Nv(n){return{token:YI(db),error:n}}class Ov{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Ns(this.app);for(const t of e)P_(this.app,t.next);return Promise.resolve()}}const dd="app-check-internal";!function Pv(){(0,Oe.Xd)(new re.wA("app-check",n=>function F_(n,e){return new Ov(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(dd).initialize()})),(0,Oe.Xd)(new re.wA(dd,n=>function pb(n){return{getToken:e=>Av(n,e),getLimitedUseToken:()=>hb(n),addTokenListener:e=>function R_(n,e,t,i){const{app:c}=n,p=Ns(c);if(p.tokenObservers=[...p.tokenObservers,{next:t,error:i,type:e}],p.token&&Gl(p.token)){const E=p.token;Promise.resolve().then(()=>{t({token:E.token}),k_(n)}).catch(()=>{})}p.cachedTokenPromise.then(()=>k_(n))}(n,"INTERNAL",e),removeTokenListener:e=>P_(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Oe.KN)("@firebase/app-check","0.8.0")}();class vu{constructor(){return(0,w.vb)("app-check")}}typeof window<"u"&&window;var nn,_b=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Sc={},mp=mp||{},dr=_b||self;function ef(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function tf(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var hd="closure_uid_"+(1e9*Math.random()>>>0),OD=0;function Bv(n,e,t){return n.call.apply(n.bind,arguments)}function Vv(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,i),n.apply(e,c)}}return function(){return n.apply(e,arguments)}}function Ta(n,e,t){return(Ta=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Bv:Vv).apply(null,arguments)}function jg(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Uo(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,c,p){for(var _=Array(arguments.length-2),E=2;E<arguments.length;E++)_[E-2]=arguments[E];return e.prototype[c].apply(i,_)}}function yl(){this.s=this.s,this.o=this.o}yl.prototype.s=!1,yl.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Gg(n){Object.prototype.hasOwnProperty.call(n,hd)&&n[hd]||(n[hd]=++OD)}(this)},yl.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const V_=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function _p(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function Uv(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(ef(i)){const c=n.length||0,p=i.length||0;n.length=c+p;for(let _=0;_<p;_++)n[c+_]=i[_]}else n.push(i)}}function Os(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Os.prototype.h=function(){this.defaultPrevented=!0};var Hv=function(){if(!dr.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{dr.addEventListener("test",()=>{},e),dr.removeEventListener("test",()=>{},e)}catch{}return n}();function yp(n){return/^[\s\xa0]*$/.test(n)}function sh(){var n=dr.navigator;return n&&(n=n.userAgent)?n:""}function Yc(n){return-1!=sh().indexOf(n)}function zg(n){return zg[" "](n),n}zg[" "]=function(){};var sf,n,vp=Yc("Opera"),vl=Yc("Trident")||Yc("MSIE"),nf=Yc("Edge"),Gv=nf||vl,vb=Yc("Gecko")&&!(-1!=sh().toLowerCase().indexOf("webkit")&&!Yc("Edge"))&&!(Yc("Trident")||Yc("MSIE"))&&!Yc("Edge"),bp=-1!=sh().toLowerCase().indexOf("webkit")&&!Yc("Edge");function rf(){var n=dr.document;return n?n.documentMode:void 0}e:{var U_="",Wg=(n=sh(),vb?/rv:([^\);]+)(\)|;)/.exec(n):nf?/Edge\/([\d\.]+)/.exec(n):vl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):bp?/WebKit\/(\S+)/.exec(n):vp?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Wg&&(U_=Wg?Wg[1]:""),vl){var wp=rf();if(null!=wp&&wp>parseFloat(U_)){sf=String(wp);break e}}sf=U_}var G_=dr.document&&vl&&(rf()||parseInt(sf,10))||void 0;function wu(n,e){if(Os.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(vb){e:{try{zg(e.nodeName);var c=!0;break e}catch{}c=!1}c||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:bb[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&wu.$.h.call(this)}}Uo(wu,Os);var bb={2:"touch",3:"pen",4:"mouse"};wu.prototype.h=function(){wu.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var fd="closure_listenable_"+(1e6*Math.random()|0),jv=0;function Zg(n,e,t,i,c){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=c,this.key=++jv,this.fa=this.ia=!1}function Kg(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function j_(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function $v(n){const e={};for(const t in n)e[t]=n[t];return e}const Yg="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Qg(n,e){let t,i;for(let c=1;c<arguments.length;c++){for(t in i=arguments[c],i)n[t]=i[t];for(let p=0;p<Yg.length;p++)t=Yg[p],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function $_(n){this.src=n,this.g={},this.h=0}function Jg(n,e){var t=e.type;if(t in n.g){var p,i=n.g[t],c=V_(i,e);(p=0<=c)&&Array.prototype.splice.call(i,c,1),p&&(Kg(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Ip(n,e,t,i){for(var c=0;c<n.length;++c){var p=n[c];if(!p.fa&&p.listener==e&&p.capture==!!t&&p.la==i)return c}return-1}$_.prototype.add=function(n,e,t,i,c){var p=n.toString();(n=this.g[p])||(n=this.g[p]=[],this.h++);var _=Ip(n,e,i,c);return-1<_?(e=n[_],t||(e.ia=!1)):((e=new Zg(e,this.src,p,!!i,c)).ia=t,n.push(e)),e};var bl="closure_lm_"+(1e6*Math.random()|0),Iu={};function z_(n,e,t,i,c){if(i&&i.once)return Wv(n,e,t,i,c);if(Array.isArray(e)){for(var p=0;p<e.length;p++)z_(n,e[p],t,i,c);return null}return t=Zv(t),n&&n[fd]?n.O(e,t,tf(i)?!!i.capture:!!i,c):wb(n,e,t,!1,i,c)}function wb(n,e,t,i,c,p){if(!e)throw Error("Invalid event type");var _=tf(c)?!!c.capture:!!c,E=em(n);if(E||(n[bl]=E=new $_(n)),(t=E.add(e,t,i,_,p)).proxy)return t;if(i=function zv(){const e=Ib;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)Hv||(c=_),void 0===c&&(c=!1),n.addEventListener(e.toString(),i,c);else if(n.attachEvent)n.attachEvent(qv(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function Wv(n,e,t,i,c){if(Array.isArray(e)){for(var p=0;p<e.length;p++)Wv(n,e[p],t,i,c);return null}return t=Zv(t),n&&n[fd]?n.P(e,t,tf(i)?!!i.capture:!!i,c):wb(n,e,t,!0,i,c)}function af(n,e,t,i,c){if(Array.isArray(e))for(var p=0;p<e.length;p++)af(n,e[p],t,i,c);else i=tf(i)?!!i.capture:!!i,t=Zv(t),n&&n[fd]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Ip(p=n.g[e],t,i,c))&&(Kg(p[t]),Array.prototype.splice.call(p,t,1),0==p.length&&(delete n.g[e],n.h--))):n&&(n=em(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Ip(e,t,i,c)),(t=-1<n?e[n]:null)&&Xg(t))}function Xg(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[fd])Jg(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(qv(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=em(e))?(Jg(t,n),0==t.h&&(t.src=null,e[bl]=null)):Kg(n)}}}function qv(n){return n in Iu?Iu[n]:Iu[n]="on"+n}function Ib(n,e){if(n.fa)n=!0;else{e=new wu(e,this);var t=n.listener,i=n.la||n.src;n.ia&&Xg(n),n=t.call(i,e)}return n}function em(n){return(n=n[bl])instanceof $_?n:null}var W_="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zv(n){return"function"==typeof n?n:(n[W_]||(n[W_]=function(e){return n.handleEvent(e)}),n[W_])}function Ho(){yl.call(this),this.i=new $_(this),this.S=this,this.J=null}function Go(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new Os(e,n);else if(e instanceof Os)e.target=e.target||n;else{var c=e;Qg(e=new Os(i,n),c)}if(c=!0,t)for(var p=t.length-1;0<=p;p--){var _=e.g=t[p];c=Kv(_,i,!0,e)&&c}if(c=Kv(_=e.g=n,i,!0,e)&&c,c=Kv(_,i,!1,e)&&c,t)for(p=0;p<t.length;p++)c=Kv(_=e.g=t[p],i,!1,e)&&c}function Kv(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var c=!0,p=0;p<e.length;++p){var _=e[p];if(_&&!_.fa&&_.capture==t){var E=_.listener,F=_.la||_.src;_.ia&&Jg(n.i,_),c=!1!==E.call(F,i)&&c}}return c&&!i.defaultPrevented}Uo(Ho,yl),Ho.prototype[fd]=!0,Ho.prototype.removeEventListener=function(n,e,t,i){af(this,n,e,t,i)},Ho.prototype.N=function(){if(Ho.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)Kg(t[i]);delete n.g[e],n.h--}}this.J=null},Ho.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Ho.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var Yv=dr.JSON.stringify;function Qv(){var n=Tp;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var iT=new class rT{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new q_,n=>n.reset());class q_{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function sT(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function Z_(n){dr.setTimeout(()=>{throw n},0)}let cf,Tu=!1,Tp=new class MD{constructor(){this.h=this.g=null}add(e,t){const i=iT.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},K_=()=>{const n=dr.Promise.resolve(void 0);cf=()=>{n.then(tm)}};var tm=()=>{for(var n;n=Qv();){try{n.h.call(n.g)}catch(t){Z_(t)}var e=iT;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Tu=!1};function gd(n,e){Ho.call(this),this.h=n||1,this.g=e||dr,this.j=Ta(this.qb,this),this.l=Date.now()}function oh(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function nm(n,e,t){if("function"==typeof n)t&&(n=Ta(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Ta(n.handleEvent,n)}return 2147483647<Number(e)?-1:dr.setTimeout(n,e||0)}function Y_(n){n.g=nm(()=>{n.g=null,n.i&&(n.i=!1,Y_(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Uo(gd,Ho),(nn=gd.prototype).ga=!1,nn.T=null,nn.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Go(this,"tick"),this.ga&&(oh(this),this.start()))}},nn.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},nn.N=function(){gd.$.N.call(this),oh(this),delete this.g};class Q_ extends yl{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Y_(this)}N(){super.N(),this.g&&(dr.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function J_(n){yl.call(this),this.h=n,this.g={}}Uo(J_,yl);var Ep=[];function Dp(n,e,t,i){Array.isArray(t)||(t&&(Ep[0]=t.toString()),t=Ep);for(var c=0;c<t.length;c++){var p=z_(e,t[c],i||n.handleEvent,!1,n.h||n);if(!p)break;n.g[p.key]=p}}function Tb(n){j_(n.g,function(e,t){this.g.hasOwnProperty(t)&&Xg(e)},n),n.g={}}function rm(){this.g=!0}function ah(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function aT(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var c=i[1];if(Array.isArray(c)&&!(1>c.length)){var p=c[0];if("noop"!=p&&"stop"!=p&&"close"!=p)for(var _=1;_<c.length;_++)c[_]=""}}}return Yv(t)}catch{return e}}(n,t)+(i?" "+i:"")})}J_.prototype.N=function(){J_.$.N.call(this),Tb(this)},J_.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},rm.prototype.Ea=function(){this.g=!1},rm.prototype.info=function(){};var lf={},Db=null;function X_(){return Db=Db||new Ho}function im(n){Os.call(this,lf.Ta,n)}function uf(n){const e=X_();Go(e,new im(e))}function Cb(n,e){Os.call(this,lf.STAT_EVENT,n),this.stat=e}function ta(n){const e=X_();Go(e,new Cb(e,n))}function ey(n,e){Os.call(this,lf.Ua,n),this.size=e}function ch(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return dr.setTimeout(function(){n()},e)}lf.Ta="serverreachability",Uo(im,Os),lf.STAT_EVENT="statevent",Uo(Cb,Os),lf.Ua="timingevent",Uo(ey,Os);var sm={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Xv={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function e0(){}function cT(){}e0.prototype.h=null;var md,om={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function lh(){Os.call(this,"d")}function ty(){Os.call(this,"c")}function _d(){}function am(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new J_(this),this.P=Sb,this.V=new gd(n=Gv?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new cm}function cm(){this.i=null,this.g="",this.h=!1}Uo(lh,Os),Uo(ty,Os),Uo(_d,e0),_d.prototype.g=function(){return new XMLHttpRequest},_d.prototype.i=function(){return{}},md=new _d;var Sb=45e3,ny={},lm={};function um(n,e,t){n.L=1,n.v=pm(jl(e)),n.s=t,n.S=!0,ry(n,null)}function ry(n,e){n.G=Date.now(),df(n),n.A=jl(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),pf(t.i,"t",i),n.C=0,t=n.l.J,n.h=new cm,n.g=my(n.l,t?e:null,!n.s),0<n.O&&(n.M=new Q_(Ta(n.Pa,n,n.g),n.O)),Dp(n.U,n.g,"readystatechange",n.nb),e=n.I?$v(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),uf(),function oT(n,e,t,i,c,p){n.info(function(){if(n.g)if(p)for(var _="",E=p.split("&"),F=0;F<E.length;F++){var H=E[F].split("=");if(1<H.length){var te=H[0];H=H[1];var pe=te.split("_");_=2<=pe.length&&"type"==pe[1]?_+(te+"=")+H+"&":_+(te+"=redacted&")}}else _=null;else _=p;return"XMLHTTP REQ ("+i+") [attempt "+c+"]: "+e+"\n"+t+"\n"+_})}(n.j,n.u,n.A,n.m,n.W,n.s)}function dm(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function Ab(n,e,t){let c,i=!0;for(;!n.J&&n.C<t.length;){if(c=hm(n,t),c==lm){4==e&&(n.o=4,ta(14),i=!1),ah(n.j,n.m,null,"[Incomplete Response]");break}if(c==ny){n.o=4,ta(15),ah(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}ah(n.j,n.m,c,null),fm(n,c)}dm(n)&&c!=lm&&c!=ny&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,ta(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),Tm(e),e.M=!0,ta(11))):(ah(n.j,n.m,t,"[Invalid Chunked Response]"),uh(n),hf(n))}function hm(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?lm:(t=Number(e.substring(t,i)),isNaN(t)?ny:(i+=1)+t>e.length?lm:(e=e.slice(i,i+t),n.C=i+t,e))}function df(n){n.Y=Date.now()+n.P,n0(n,n.P)}function n0(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=ch(Ta(n.lb,n),e)}function iy(n){n.B&&(dr.clearTimeout(n.B),n.B=null)}function hf(n){0==n.l.H||n.J||l0(n.l,n)}function uh(n){iy(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,oh(n.V),Tb(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function fm(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||Su(t.i,n)))if(!n.K&&Su(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var c=i;if(0==c[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Rp(t),Ou(t)}xp(t),ta(18)}}else t.Fa=c[1],0<t.Fa-t.V&&37500>c[2]&&t.G&&0==t.A&&!t.v&&(t.v=ch(Ta(t.ib,t),6e3));if(1>=ly(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else vf(t,11)}else if((n.K||t.g==n)&&Rp(t),!yp(e))for(c=t.Ja.g.parse(e),e=0;e<c.length;e++){let H=c[e];if(t.V=H[0],H=H[1],2==t.H)if("c"==H[0]){t.K=H[1],t.pa=H[2];const te=H[3];null!=te&&(t.ra=te,t.l.info("VER="+t.ra));const pe=H[4];null!=pe&&(t.Ga=pe,t.l.info("SVER="+t.Ga));const Be=H[5];null!=Be&&"number"==typeof Be&&0<Be&&(t.L=i=1.5*Be,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const lt=n.g;if(lt){const Pt=lt.g?lt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pt){var p=i.i;p.g||-1==Pt.indexOf("spdy")&&-1==Pt.indexOf("quic")&&-1==Pt.indexOf("h2")||(p.j=p.l,p.g=new Set,p.h&&(Np(p,p.h),p.h=null))}if(i.F){const sn=lt.g?lt.g.getResponseHeader("X-HTTP-Session-Id"):null;sn&&(i.Da=sn,Ei(i.I,i.F,sn))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var _=n;if((i=t).wa=u0(i,i.J?i.pa:null,i.Y),_.K){dh(i.i,_);var E=_,F=i.L;F&&E.setTimeout(F),E.B&&(iy(E),df(E)),i.g=_}else jo(i);0<t.j.length&&Mp(t)}else"stop"!=H[0]&&"close"!=H[0]||vf(t,7);else 3==t.H&&("stop"==H[0]||"close"==H[0]?"stop"==H[0]?vf(t,7):Op(t):"noop"!=H[0]&&t.h&&t.h.Aa(H),t.A=0)}uf()}catch{}}function Mb(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(ef(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Ob(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(ef(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function Nb(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(ef(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),c=i.length,p=0;p<c;p++)e.call(void 0,i[p],t&&t[p],n)}(nn=am.prototype).setTimeout=function(n){this.P=n},nn.nb=function(n){n=n.target;const e=this.M;e&&3==nc(n)?e.l():this.Pa(n)},nn.Pa=function(n){try{if(n==this.g)e:{const te=nc(this.g);var e=this.g.Ia();if(this.g.da(),!(3>te)&&(3!=te||Gv||this.g&&(this.h.h||this.g.ja()||zl(this.g)))){this.J||4!=te||7==e||uf(),iy(this);var t=this.g.da();this.ca=t;t:if(dm(this)){var i=zl(this.g);n="";var c=i.length,p=4==nc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){uh(this),hf(this);var _="";break t}this.h.i=new dr.TextDecoder}for(e=0;e<c;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:p&&e==c-1});i.splice(0,c),this.h.g+=n,this.C=0,_=this.h.g}else _=this.g.ja();if(this.i=200==t,function Jv(n,e,t,i,c,p,_){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+c+"]: "+e+"\n"+t+"\n"+p+" "+_})}(this.j,this.u,this.A,this.m,this.W,te,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var E,F=this.g;if((E=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!yp(E)){var H=E;break t}}H=null}if(!(t=H)){this.i=!1,this.o=3,ta(12),uh(this),hf(this);break e}ah(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fm(this,t)}this.S?(Ab(this,te,_),Gv&&this.i&&3==te&&(Dp(this.U,this.V,"tick",this.mb),this.V.start())):(ah(this.j,this.m,_,null),fm(this,_)),4==te&&uh(this),this.i&&!this.J&&(4==te?l0(this.l,this):(this.i=!1,df(this)))}else(function Il(n){const e={};n=(n.g&&2<=nc(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(yp(n[i]))continue;var t=sT(n[i]);const c=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const p=e[c]||[];e[c]=p,p.push(t)}!function pd(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<_.indexOf("Unknown SID")?(this.o=3,ta(12)):(this.o=0,ta(13)),uh(this),hf(this)}}}catch{}},nn.mb=function(){if(this.g){var n=nc(this.g),e=this.g.ja();this.C<e.length&&(iy(this),Ab(this,n,e),this.i&&4!=n&&df(this))}},nn.cancel=function(){this.J=!0,uh(this)},nn.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Eb(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(uf(),ta(17)),uh(this),this.o=2,hf(this)):n0(this,this.Y-n)};var sy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function na(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof na){this.h=n.h,oy(this,n.j),this.s=n.s,this.g=n.g,ff(this,n.m),this.l=n.l;var e=n.i,t=new Ap;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Eu(this,t),this.o=n.o}else n&&(e=String(n).match(sy))?(this.h=!1,oy(this,e[1]||"",!0),this.s=Cp(e[2]||""),this.g=Cp(e[3]||"",!0),ff(this,e[4]),this.l=Cp(e[5]||"",!0),Eu(this,e[6]||"",!0),this.o=Cp(e[7]||"")):(this.h=!1,this.i=new Ap(null,this.h))}function jl(n){return new na(n)}function oy(n,e,t){n.j=t?Cp(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function ff(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Eu(n,e,t){e instanceof Ap?(n.i=e,function gm(n,e){e&&!n.j&&($l(n),n.i=null,n.g.forEach(function(t,i){var c=i.toLowerCase();i!=c&&(Du(this,i),pf(this,c,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Sp(e,lT)),n.i=new Ap(e,n.h))}function Ei(n,e,t){n.i.set(e,t)}function pm(n){return Ei(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Cp(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Sp(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,ay),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function ay(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}na.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Sp(e,wl,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Sp(e,wl,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Sp(t,"/"==t.charAt(0)?xb:s0,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Sp(t,ra)),n.join("")};var wl=/[#\/\?@]/g,s0=/[#\?:]/g,xb=/[#\?]/g,lT=/[#\?@]/g,ra=/#/g;function Ap(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function $l(n){n.g||(n.g=new Map,n.h=0,n.i&&function r0(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),c=null;if(0<=i){var p=n[t].substring(0,i);c=n[t].substring(i+1)}else p=n[t];e(p,c?decodeURIComponent(c.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Du(n,e){$l(n),e=Cu(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function cy(n,e){return $l(n),e=Cu(n,e),n.g.has(e)}function pf(n,e,t){Du(n,e),0<t.length&&(n.i=null,n.g.set(Cu(n,e),_p(t)),n.h+=t.length)}function Cu(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function mm(n){this.l=n||o0,n=dr.PerformanceNavigationTiming?0<(n=dr.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(dr.g&&dr.g.Ka&&dr.g.Ka()&&dr.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(nn=Ap.prototype).add=function(n,e){$l(this),this.i=null,n=Cu(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},nn.forEach=function(n,e){$l(this),this.g.forEach(function(t,i){t.forEach(function(c){n.call(e,c,i,this)},this)},this)},nn.ta=function(){$l(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const c=n[i];for(let p=0;p<c.length;p++)t.push(e[i])}return t},nn.Z=function(n){$l(this);let e=[];if("string"==typeof n)cy(this,n)&&(e=e.concat(this.g.get(Cu(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},nn.set=function(n,e){return $l(this),this.i=null,cy(this,n=Cu(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},nn.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},nn.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const p=encodeURIComponent(String(i)),_=this.Z(i);for(i=0;i<_.length;i++){var c=p;""!==_[i]&&(c+="="+encodeURIComponent(String(_[i]))),n.push(c)}}return this.i=n.join("&")};var o0=10;function _m(n){return!!n.h||!!n.g&&n.g.size>=n.j}function ly(n){return n.h?1:n.g?n.g.size:0}function Su(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Np(n,e){n.g?n.g.add(e):n.h=e}function dh(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Au(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return _p(n.i)}mm.prototype.cancel=function(){if(this.i=Au(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var gf=class{stringify(n){return dr.JSON.stringify(n,void 0)}parse(n){return dr.JSON.parse(n,void 0)}};function a0(){this.g=new gf}function c0(n,e,t){const i=t||"";try{Mb(n,function(c,p){let _=c;tf(c)&&(_=Yv(c)),e.push(i+p+"="+encodeURIComponent(_))})}catch(c){throw e.push(i+"type="+encodeURIComponent("_badmap")),c}}function mf(n,e,t,i,c){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,c(i)}catch{}}function Nu(n){this.l=n.fc||null,this.j=n.ob||!1}function yd(n,e){Ho.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=hh,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Uo(Nu,e0),Nu.prototype.g=function(){return new yd(this.l,this.j)},Nu.prototype.i=function(n){return function(){return n}}({}),Uo(yd,Ho);var hh=0;function uy(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function vd(n){n.readyState=4,n.l=null,n.j=null,n.A=null,bd(n)}function bd(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(nn=yd.prototype).open=function(n,e){if(this.readyState!=hh)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,bd(this)},nn.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||dr).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},nn.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,vd(this)),this.readyState=hh},nn.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,bd(this)),this.g&&(this.readyState=3,bd(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof dr.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;uy(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},nn.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?vd(this):bd(this),3==this.readyState&&uy(this)}},nn.Za=function(n){this.g&&(this.response=this.responseText=n,vd(this))},nn.Ya=function(n){this.g&&(this.response=n,vd(this))},nn.ka=function(){this.g&&vd(this)},nn.setRequestHeader=function(n,e){this.v.append(n,e)},nn.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},nn.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(yd.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var ym=dr.JSON.parse;function Ji(n){Ho.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=dy,this.L=this.M=!1}Uo(Ji,Ho);var dy="",vm=/^https?$/i,wd=["POST","PUT"];function bm(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Pb(n),_f(n)}function Pb(n){n.F||(n.F=!0,Go(n,"complete"),Go(n,"error"))}function fh(n){if(n.h&&typeof mp<"u"&&(!n.C[1]||4!=nc(n)||2!=n.da()))if(n.v&&4==nc(n))nm(n.La,0,n);else if(Go(n,"readystatechange"),4==nc(n)){n.h=!1;try{const _=n.da();e:switch(_){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===_){var c=String(n.I).match(sy)[1]||null;!c&&dr.self&&dr.self.location&&(c=dr.self.location.protocol.slice(0,-1)),i=!vm.test(c?c.toLowerCase():"")}t=i}if(t)Go(n,"complete"),Go(n,"success");else{n.m=6;try{var p=2<nc(n)?n.g.statusText:""}catch{p=""}n.j=p+" ["+n.da()+"]",Pb(n)}}finally{_f(n)}}}function _f(n,e){if(n.g){kb(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Go(n,"ready");try{t.onreadystatechange=i}catch{}}}function kb(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(dr.clearTimeout(n.A),n.A=null)}function nc(n){return n.g?n.g.readyState:0}function zl(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case dy:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Id(n){let e="";return j_(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function Td(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=Id(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Ei(n,e,t))}function yf(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Jn(n){this.Ga=0,this.j=[],this.l=new rm,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=yf("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=yf("baseRetryDelayMs",5e3,n),this.hb=yf("retryDelaySeedMs",1e4,n),this.eb=yf("forwardChannelMaxRetries",2,n),this.xa=yf("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new mm(n&&n.concurrentRequestLimit),this.Ja=new a0,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Op(n){if(Wl(n),3==n.H){var e=n.W++,t=jl(n.I);if(Ei(t,"SID",n.K),Ei(t,"RID",e),Ei(t,"TYPE","terminate"),ql(n,t),(e=new am(n,n.l,e)).L=2,e.v=pm(jl(t)),t=!1,dr.navigator&&dr.navigator.sendBeacon)try{t=dr.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&dr.Image&&((new Image).src=e.v,t=!0),t||(e.g=my(e.l,null),e.g.ha(e.v)),e.G=Date.now(),df(e)}Pp(n)}function Ou(n){n.g&&(Tm(n),n.g.cancel(),n.g=null)}function Wl(n){Ou(n),n.u&&(dr.clearTimeout(n.u),n.u=null),Rp(n),n.i.cancel(),n.m&&("number"==typeof n.m&&dr.clearTimeout(n.m),n.m=null)}function Mp(n){if(!_m(n.i)&&!n.m){n.m=!0;var e=n.Na;cf||K_(),Tu||(cf(),Tu=!0),Tp.add(e,n),n.C=0}}function wm(n,e){var t;t=e?e.m:n.W++;const i=jl(n.I);Ei(i,"SID",n.K),Ei(i,"RID",t),Ei(i,"AID",n.V),ql(n,i),n.o&&n.s&&Td(i,n.o,n.s),t=new am(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=Im(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),Np(n.i,t),um(t,i,e)}function ql(n,e){n.na&&j_(n.na,function(t,i){Ei(e,i,t)}),n.h&&Mb({},function(t,i){Ei(e,i,t)})}function Im(n,e,t){t=Math.min(n.j.length,t);var i=n.h?Ta(n.h.Va,n.h,n):null;e:{var c=n.j;let p=-1;for(;;){const _=["count="+t];-1==p?0<t?(p=c[0].g,_.push("ofs="+p)):p=0:_.push("ofs="+p);let E=!0;for(let F=0;F<t;F++){let H=c[F].g;const te=c[F].map;if(H-=p,0>H)p=Math.max(0,c[F].g-100),E=!1;else try{c0(te,_,"req"+H+"_")}catch{i&&i(te)}}if(E){i=_.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function jo(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;cf||K_(),Tu||(cf(),Tu=!0),Tp.add(e,n),n.A=0}}function xp(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=ch(Ta(n.Ma,n),gy(n,n.A)),n.A++,0))}function Tm(n){null!=n.B&&(dr.clearTimeout(n.B),n.B=null)}function py(n){n.g=new am(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=jl(n.wa);Ei(e,"RID","rpc"),Ei(e,"SID",n.K),Ei(e,"AID",n.V),Ei(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Ei(e,"TO",n.qa),Ei(e,"TYPE","xmlhttp"),ql(n,e),n.o&&n.s&&Td(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=pm(jl(e)),t.s=null,t.S=!0,ry(t,n)}function Rp(n){null!=n.v&&(dr.clearTimeout(n.v),n.v=null)}function l0(n,e){var t=null;if(n.g==e){Rp(n),Tm(n),n.g=null;var i=2}else{if(!Su(n.i,e))return;t=e.F,dh(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var c=n.C;Go(i=X_(),new ey(i,t)),Mp(n)}else jo(n);else if(3==(c=e.o)||0==c&&0<e.ca||!(1==i&&function fy(n,e){return!(ly(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=ch(Ta(n.Na,n,e),gy(n,n.C)),n.C++,0)))}(n,e)||2==i&&xp(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),c){case 1:vf(n,5);break;case 4:vf(n,10);break;case 3:vf(n,6);break;default:vf(n,2)}}function gy(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function vf(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=Ta(n.pb,n);t||(t=new na("//www.google.com/images/cleardot.gif"),dr.location&&"http"==dr.location.protocol||oy(t,"https"),pm(t)),function Rb(n,e){const t=new rm;if(dr.Image){const i=new Image;i.onload=jg(mf,t,i,"TestLoadImage: loaded",!0,e),i.onerror=jg(mf,t,i,"TestLoadImage: error",!1,e),i.onabort=jg(mf,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=jg(mf,t,i,"TestLoadImage: timeout",!1,e),dr.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else ta(2);n.H=0,n.h&&n.h.za(e),Pp(n),Wl(n)}function Pp(n){if(n.H=0,n.ma=[],n.h){const e=Au(n.i);(0!=e.length||0!=n.j.length)&&(Uv(n.ma,e),Uv(n.ma,n.j),n.i.i.length=0,_p(n.j),n.j.length=0),n.h.ya()}}function u0(n,e,t){var i=t instanceof na?jl(t):new na(t);if(""!=i.g)e&&(i.g=e+"."+i.g),ff(i,i.m);else{var c=dr.location;i=c.protocol,e=e?e+"."+c.hostname:c.hostname,c=+c.port;var p=new na(null);i&&oy(p,i),e&&(p.g=e),c&&ff(p,c),t&&(p.l=t),i=p}return e=n.Da,(t=n.F)&&e&&Ei(i,t,e),Ei(i,"VER",n.ra),ql(n,i),i}function my(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ji(t&&n.Ha&&!n.va?new Nu({ob:!0}):n.va)).Oa(n.J),e}function d0(){}function ph(){if(vl&&!(10<=Number(G_)))throw Error("Environmental error: no available transport.")}function Ea(n,e){Ho.call(this),this.g=new Jn(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!yp(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!yp(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new gh(this)}function _y(n){lh.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Em(){ty.call(this),this.status=1}function gh(n){this.g=n}function Qc(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Va(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var c=0;16>c;++c)i[c]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(c=0;16>c;++c)i[c]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var p=n.g[3],_=(e=n.g[0])+(p^(t=n.g[1])&((c=n.g[2])^p))+i[0]+3614090360&4294967295;_=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=t+(_<<7&4294967295|_>>>25))+((_=p+(c^e&(t^c))+i[1]+3905402710&4294967295)<<12&4294967295|_>>>20))+((_=c+(t^p&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|_>>>15))+((_=t+(e^c&(p^e))+i[3]+3250441966&4294967295)<<22&4294967295|_>>>10))+((_=e+(p^t&(c^p))+i[4]+4118548399&4294967295)<<7&4294967295|_>>>25))+((_=p+(c^e&(t^c))+i[5]+1200080426&4294967295)<<12&4294967295|_>>>20))+((_=c+(t^p&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|_>>>15))+((_=t+(e^c&(p^e))+i[7]+4249261313&4294967295)<<22&4294967295|_>>>10))+((_=e+(p^t&(c^p))+i[8]+1770035416&4294967295)<<7&4294967295|_>>>25))+((_=p+(c^e&(t^c))+i[9]+2336552879&4294967295)<<12&4294967295|_>>>20))+((_=c+(t^p&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|_>>>15))+((_=t+(e^c&(p^e))+i[11]+2304563134&4294967295)<<22&4294967295|_>>>10))+((_=e+(p^t&(c^p))+i[12]+1804603682&4294967295)<<7&4294967295|_>>>25))+((_=p+(c^e&(t^c))+i[13]+4254626195&4294967295)<<12&4294967295|_>>>20))+((_=c+(t^p&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|_>>>15))+((_=t+(e^c&(p^e))+i[15]+1236535329&4294967295)<<22&4294967295|_>>>10))+((_=e+(c^p&(t^c))+i[1]+4129170786&4294967295)<<5&4294967295|_>>>27))+((_=p+(t^c&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|_>>>23))+((_=c+(e^t&(p^e))+i[11]+643717713&4294967295)<<14&4294967295|_>>>18))+((_=t+(p^e&(c^p))+i[0]+3921069994&4294967295)<<20&4294967295|_>>>12))+((_=e+(c^p&(t^c))+i[5]+3593408605&4294967295)<<5&4294967295|_>>>27))+((_=p+(t^c&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|_>>>23))+((_=c+(e^t&(p^e))+i[15]+3634488961&4294967295)<<14&4294967295|_>>>18))+((_=t+(p^e&(c^p))+i[4]+3889429448&4294967295)<<20&4294967295|_>>>12))+((_=e+(c^p&(t^c))+i[9]+568446438&4294967295)<<5&4294967295|_>>>27))+((_=p+(t^c&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|_>>>23))+((_=c+(e^t&(p^e))+i[3]+4107603335&4294967295)<<14&4294967295|_>>>18))+((_=t+(p^e&(c^p))+i[8]+1163531501&4294967295)<<20&4294967295|_>>>12))+((_=e+(c^p&(t^c))+i[13]+2850285829&4294967295)<<5&4294967295|_>>>27))+((_=p+(t^c&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|_>>>23))+((_=c+(e^t&(p^e))+i[7]+1735328473&4294967295)<<14&4294967295|_>>>18))+((_=t+(p^e&(c^p))+i[12]+2368359562&4294967295)<<20&4294967295|_>>>12))+((_=e+(t^c^p)+i[5]+4294588738&4294967295)<<4&4294967295|_>>>28))+((_=p+(e^t^c)+i[8]+2272392833&4294967295)<<11&4294967295|_>>>21))+((_=c+(p^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|_>>>16))+((_=t+(c^p^e)+i[14]+4259657740&4294967295)<<23&4294967295|_>>>9))+((_=e+(t^c^p)+i[1]+2763975236&4294967295)<<4&4294967295|_>>>28))+((_=p+(e^t^c)+i[4]+1272893353&4294967295)<<11&4294967295|_>>>21))+((_=c+(p^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|_>>>16))+((_=t+(c^p^e)+i[10]+3200236656&4294967295)<<23&4294967295|_>>>9))+((_=e+(t^c^p)+i[13]+681279174&4294967295)<<4&4294967295|_>>>28))+((_=p+(e^t^c)+i[0]+3936430074&4294967295)<<11&4294967295|_>>>21))+((_=c+(p^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|_>>>16))+((_=t+(c^p^e)+i[6]+76029189&4294967295)<<23&4294967295|_>>>9))+((_=e+(t^c^p)+i[9]+3654602809&4294967295)<<4&4294967295|_>>>28))+((_=p+(e^t^c)+i[12]+3873151461&4294967295)<<11&4294967295|_>>>21))+((_=c+(p^e^t)+i[15]+530742520&4294967295)<<16&4294967295|_>>>16))+((_=t+(c^p^e)+i[2]+3299628645&4294967295)<<23&4294967295|_>>>9))+((_=e+(c^(t|~p))+i[0]+4096336452&4294967295)<<6&4294967295|_>>>26))+((_=p+(t^(e|~c))+i[7]+1126891415&4294967295)<<10&4294967295|_>>>22))+((_=c+(e^(p|~t))+i[14]+2878612391&4294967295)<<15&4294967295|_>>>17))+((_=t+(p^(c|~e))+i[5]+4237533241&4294967295)<<21&4294967295|_>>>11))+((_=e+(c^(t|~p))+i[12]+1700485571&4294967295)<<6&4294967295|_>>>26))+((_=p+(t^(e|~c))+i[3]+2399980690&4294967295)<<10&4294967295|_>>>22))+((_=c+(e^(p|~t))+i[10]+4293915773&4294967295)<<15&4294967295|_>>>17))+((_=t+(p^(c|~e))+i[1]+2240044497&4294967295)<<21&4294967295|_>>>11))+((_=e+(c^(t|~p))+i[8]+1873313359&4294967295)<<6&4294967295|_>>>26))+((_=p+(t^(e|~c))+i[15]+4264355552&4294967295)<<10&4294967295|_>>>22))+((_=c+(e^(p|~t))+i[6]+2734768916&4294967295)<<15&4294967295|_>>>17))+((_=t+(p^(c|~e))+i[13]+1309151649&4294967295)<<21&4294967295|_>>>11))+((p=(e=t+((_=e+(c^(t|~p))+i[4]+4149444226&4294967295)<<6&4294967295|_>>>26))+((_=p+(t^(e|~c))+i[11]+3174756917&4294967295)<<10&4294967295|_>>>22))^((c=p+((_=c+(e^(p|~t))+i[2]+718787259&4294967295)<<15&4294967295|_>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(c+(_<<21&4294967295|_>>>11))&4294967295,n.g[2]=n.g[2]+c&4294967295,n.g[3]=n.g[3]+p&4294967295}function Di(n,e){this.h=e;for(var t=[],i=!0,c=n.length-1;0<=c;c--){var p=0|n[c];i&&p==e||(t[c]=p,i=!1)}this.g=t}(nn=Ji.prototype).Oa=function(n){this.M=n},nn.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():md.g(),this.C=function t0(n){return n.h||(n.h=n.i())}(this.u?this.u:md),this.g.onreadystatechange=Ta(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(p){return void bm(this,p)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var c in i)t.set(c,i[c]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const p of i.keys())t.set(p,i.get(p))}i=Array.from(t.keys()).find(p=>"content-type"==p.toLowerCase()),c=dr.FormData&&n instanceof dr.FormData,!(0<=V_(wd,e))||i||c||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[p,_]of t)this.g.setRequestHeader(p,_);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{kb(this),0<this.B&&((this.L=function hy(n){return vl&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ta(this.ua,this)):this.A=nm(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(p){bm(this,p)}},nn.ua=function(){typeof mp<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Go(this,"timeout"),this.abort(8))},nn.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Go(this,"complete"),Go(this,"abort"),_f(this))},nn.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),_f(this,!0)),Ji.$.N.call(this)},nn.La=function(){this.s||(this.G||this.v||this.l?fh(this):this.kb())},nn.kb=function(){fh(this)},nn.isActive=function(){return!!this.g},nn.da=function(){try{return 2<nc(this)?this.g.status:-1}catch{return-1}},nn.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},nn.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),ym(e)}},nn.Ia=function(){return this.m},nn.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(nn=Jn.prototype).ra=8,nn.H=1,nn.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const c=new am(this,this.l,n);let p=this.s;if(this.U&&(p?(p=$v(p),Qg(p,this.U)):p=this.U),null!==this.o||this.O||(c.I=p,p=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Im(this,c,e),Ei(t=jl(this.I),"RID",n),Ei(t,"CVER",22),this.F&&Ei(t,"X-HTTP-Session-Id",this.F),ql(this,t),p&&(this.O?e="headers="+encodeURIComponent(String(Id(p)))+"&"+e:this.o&&Td(t,this.o,p)),Np(this.i,c),this.bb&&Ei(t,"TYPE","init"),this.P?(Ei(t,"$req",e),Ei(t,"SID","null"),c.aa=!0,um(c,t,null)):um(c,t,e),this.H=2}}else 3==this.H&&(n?wm(this,n):0==this.j.length||_m(this.i)||wm(this))},nn.Ma=function(){if(this.u=null,py(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=ch(Ta(this.jb,this),n)}},nn.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ta(10),Ou(this),py(this))},nn.ib=function(){null!=this.v&&(this.v=null,Ou(this),xp(this),ta(19))},nn.pb=function(n){n?(this.l.info("Successfully pinged google.com"),ta(2)):(this.l.info("Failed to ping google.com"),ta(1))},nn.isActive=function(){return!!this.h&&this.h.isActive(this)},(nn=d0.prototype).Ba=function(){},nn.Aa=function(){},nn.za=function(){},nn.ya=function(){},nn.isActive=function(){return!0},nn.Va=function(){},ph.prototype.g=function(n,e){return new Ea(n,e)},Uo(Ea,Ho),Ea.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;ta(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=u0(n,null,n.Y),Mp(n)},Ea.prototype.close=function(){Op(this.g)},Ea.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Yv(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&Mp(e)},Ea.prototype.N=function(){this.g.h=null,delete this.j,Op(this.g),delete this.g,Ea.$.N.call(this)},Uo(_y,lh),Uo(Em,ty),Uo(gh,d0),gh.prototype.Ba=function(){Go(this.g,"a")},gh.prototype.Aa=function(n){Go(this.g,new _y(n))},gh.prototype.za=function(n){Go(this.g,new Em)},gh.prototype.ya=function(){Go(this.g,"b")},Uo(Qc,function yy(){this.blockSize=-1}),Qc.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Qc.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,c=this.h,p=0;p<e;){if(0==c)for(;p<=t;)Va(this,n,p),p+=this.blockSize;if("string"==typeof n){for(;p<e;)if(i[c++]=n.charCodeAt(p++),c==this.blockSize){Va(this,i),c=0;break}}else for(;p<e;)if(i[c++]=n[p++],c==this.blockSize){Va(this,i),c=0;break}}this.h=c,this.i+=e},Qc.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var Fb={};function h0(n){return-128<=n&&128>n?function yb(n,e){var t=Fb;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Di([0|e],0>e?-1:0)}):new Di([0|n],0>n?-1:0)}function Jc(n){if(isNaN(n)||!isFinite(n))return Ed;if(0>n)return wo(Jc(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=Mu;return new Di(e,0)}var Mu=4294967296,Ed=h0(0),kp=h0(1),bf=h0(16777216);function xu(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Xc(n){return-1==n.h}function wo(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new Di(t,~n.h).add(kp)}function Dm(n,e){return n.add(wo(e))}function Cm(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function mh(n,e){this.g=n,this.h=e}function Sm(n,e){if(xu(e))throw Error("division by zero");if(xu(n))return new mh(Ed,Ed);if(Xc(n))return e=Sm(wo(n),e),new mh(wo(e.g),wo(e.h));if(Xc(e))return e=Sm(n,wo(e)),new mh(wo(e.g),e.h);if(30<n.g.length){if(Xc(n)||Xc(e))throw Error("slowDivide_ only works with positive integers.");for(var t=kp,i=e;0>=i.X(n);)t=Fp(t),i=Fp(i);var c=ia(t,1),p=ia(i,1);for(i=ia(i,2),t=ia(t,2);!xu(i);){var _=p.add(i);0>=_.X(n)&&(c=c.add(t),p=_),i=ia(i,1),t=ia(t,1)}return e=Dm(n,c.R(e)),new mh(c,e)}for(c=Ed;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),_=(p=Jc(t)).R(e);Xc(_)||0<_.X(n);)_=(p=Jc(t-=i)).R(e);xu(p)&&(p=kp),c=c.add(p),n=Dm(n,_)}return new mh(c,n)}function Fp(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Di(t,n.h)}function ia(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,c=[],p=0;p<i;p++)c[p]=0<e?n.D(p+t)>>>e|n.D(p+t+1)<<32-e:n.D(p+t);return new Di(c,n.h)}(nn=Di.prototype).ea=function(){if(Xc(this))return-wo(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:Mu+i)*e,e*=Mu}return n},nn.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(xu(this))return"0";if(Xc(this))return"-"+wo(this).toString(n);for(var e=Jc(Math.pow(n,6)),t=this,i="";;){var c=Sm(t,e).g,p=((0<(t=Dm(t,c.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(xu(t=c))return p+i;for(;6>p.length;)p="0"+p;i=p+i}},nn.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},nn.X=function(n){return Xc(n=Dm(this,n))?-1:xu(n)?0:1},nn.abs=function(){return Xc(this)?wo(this):this},nn.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,c=0;c<=e;c++){var p=i+(65535&this.D(c))+(65535&n.D(c)),_=(p>>>16)+(this.D(c)>>>16)+(n.D(c)>>>16);i=_>>>16,t[c]=(_&=65535)<<16|(p&=65535)}return new Di(t,-2147483648&t[t.length-1]?-1:0)},nn.R=function(n){if(xu(this)||xu(n))return Ed;if(Xc(this))return Xc(n)?wo(this).R(wo(n)):wo(wo(this).R(n));if(Xc(n))return wo(this.R(wo(n)));if(0>this.X(bf)&&0>n.X(bf))return Jc(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var c=0;c<n.g.length;c++){var p=this.D(i)>>>16,_=65535&this.D(i),E=n.D(c)>>>16,F=65535&n.D(c);t[2*i+2*c]+=_*F,Cm(t,2*i+2*c),t[2*i+2*c+1]+=p*F,Cm(t,2*i+2*c+1),t[2*i+2*c+1]+=_*E,Cm(t,2*i+2*c+1),t[2*i+2*c+2]+=p*E,Cm(t,2*i+2*c+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new Di(t,0)},nn.gb=function(n){return Sm(this,n).h},nn.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new Di(t,this.h&n.h)},nn.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new Di(t,this.h|n.h)},nn.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new Di(t,this.h^n.h)},ph.prototype.createWebChannel=ph.prototype.g,Ea.prototype.send=Ea.prototype.u,Ea.prototype.open=Ea.prototype.m,Ea.prototype.close=Ea.prototype.close,sm.NO_ERROR=0,sm.TIMEOUT=8,sm.HTTP_ERROR=6,Xv.COMPLETE="complete",cT.EventType=om,om.OPEN="a",om.CLOSE="b",om.ERROR="c",om.MESSAGE="d",Ho.prototype.listen=Ho.prototype.O,Ji.prototype.listenOnce=Ji.prototype.P,Ji.prototype.getLastError=Ji.prototype.Sa,Ji.prototype.getLastErrorCode=Ji.prototype.Ia,Ji.prototype.getStatus=Ji.prototype.da,Ji.prototype.getResponseJson=Ji.prototype.Wa,Ji.prototype.getResponseText=Ji.prototype.ja,Ji.prototype.send=Ji.prototype.ha,Ji.prototype.setWithCredentials=Ji.prototype.Oa,Qc.prototype.digest=Qc.prototype.l,Qc.prototype.reset=Qc.prototype.reset,Qc.prototype.update=Qc.prototype.j,Di.prototype.add=Di.prototype.add,Di.prototype.multiply=Di.prototype.R,Di.prototype.modulo=Di.prototype.gb,Di.prototype.compare=Di.prototype.X,Di.prototype.toNumber=Di.prototype.ea,Di.prototype.toString=Di.prototype.toString,Di.prototype.getBits=Di.prototype.D,Di.fromNumber=Jc,Di.fromString=function vy(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return wo(vy(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Jc(Math.pow(e,8)),i=Ed,c=0;c<n.length;c+=8){var p=Math.min(8,n.length-c),_=parseInt(n.substring(c,c+p),e);8>p?(p=Jc(Math.pow(e,p)),i=i.R(p).add(Jc(_))):i=(i=i.R(t)).add(Jc(_))}return i};var wf=Sc.createWebChannelTransport=function(){return new ph},Lb=Sc.getStatEventTarget=function(){return X_()},Lp=Sc.ErrorCode=sm,Bb=Sc.EventType=Xv,Vb=Sc.Event=lf,Bp=Sc.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},by=Sc.FetchXmlHttpFactory=Nu,If=Sc.WebChannel=cT,uT=Sc.XhrIo=Ji,wy=Sc.Md5=Qc,Ru=Sc.Integer=Di;const Am="@firebase/firestore";class $o{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$o.UNAUTHENTICATED=new $o(null),$o.GOOGLE_CREDENTIALS=new $o("google-credentials-uid"),$o.FIRST_PARTY=new $o("first-party-uid"),$o.MOCK_USER=new $o("mock-user");let Dd="9.23.0";const Da=new Ee.Yd("@firebase/firestore");function Iy(){return Da.logLevel}function Ot(n,...e){if(Da.logLevel<=Ee.in.DEBUG){const t=e.map(Ty);Da.debug(`Firestore (${Dd}): ${n}`,...t)}}function Us(n,...e){if(Da.logLevel<=Ee.in.ERROR){const t=e.map(Ty);Da.error(`Firestore (${Dd}): ${n}`,...t)}}function Nc(n,...e){if(Da.logLevel<=Ee.in.WARN){const t=e.map(Ty);Da.warn(`Firestore (${Dd}): ${n}`,...t)}}function Ty(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function hn(n="Unexpected state"){const e=`FIRESTORE (${Dd}) INTERNAL ASSERTION FAILED: `+n;throw Us(e),new Error(e)}function In(n,e){n||hn()}function Wt(n,e){return n}const rt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ct extends fe.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class to{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Ey{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class f0{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t($o.UNAUTHENTICATED))}shutdown(){}}class Hb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class el{constructor(e){this.t=e,this.currentUser=$o.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let c=this.i;const p=H=>this.i!==c?(c=this.i,t(H)):Promise.resolve();let _=new to;this.o=()=>{this.i++,this.currentUser=this.u(),_.resolve(),_=new to,e.enqueueRetryable(()=>p(this.currentUser))};const E=()=>{const H=_;e.enqueueRetryable((0,de.Z)(function*(){yield H.promise,yield p(i.currentUser)}))},F=H=>{Ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=H,this.auth.addAuthTokenListener(this.o),E()};this.t.onInit(H=>F(H)),setTimeout(()=>{if(!this.auth){const H=this.t.getImmediate({optional:!0});H?F(H):(Ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),_.resolve(),_=new to)}},0),E()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(In("string"==typeof i.accessToken),new Ey(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return In(null===e||"string"==typeof e),new $o(e)}}class Nm{constructor(e,t,i){this.h=e,this.l=t,this.m=i,this.type="FirstParty",this.user=$o.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Pu{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new Nm(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t($o.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Om{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class p0{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const i=p=>{null!=p.error&&Ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${p.error.message}`);const _=p.token!==this.T;return this.T=p.token,Ot("FirebaseAppCheckTokenProvider",`Received ${_?"new":"existing"} token.`),_?t(p.token):Promise.resolve()};this.o=p=>{e.enqueueRetryable(()=>i(p))};const c=p=>{Ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=p,this.appCheck.addTokenListener(this.o)};this.I.onInit(p=>c(p)),setTimeout(()=>{if(!this.appCheck){const p=this.I.getImmediate({optional:!0});p?c(p):Ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(In("string"==typeof t.token),this.T=t.token,new Om(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Dy(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class g0{static A(){const t=62*Math.floor(256/62);let i="";for(;i.length<20;){const c=Dy(40);for(let p=0;p<c.length;++p)i.length<20&&c[p]<t&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(c[p]%62))}return i}}function qn(n,e){return n<e?-1:n>e?1:0}function ku(n,e,t){return n.length===e.length&&n.every((i,c)=>t(i,e[c]))}class cs{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ct(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ct(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ct(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ct(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return cs.fromMillis(Date.now())}static fromDate(e){return cs.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new cs(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qn(this.nanoseconds,e.nanoseconds):qn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Sn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Sn(e)}static min(){return new Sn(new cs(0,0))}static max(){return new Sn(new cs(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Tf{constructor(e,t,i){void 0===t?t=0:t>e.length&&hn(),void 0===i?i=e.length-t:i>e.length-t&&hn(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Tf.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Tf?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let c=0;c<i;c++){const p=e.get(c),_=t.get(c);if(p<_)return-1;if(p>_)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ar extends Tf{construct(e,t,i){return new ar(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ct(rt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(c=>c.length>0))}return new ar(t)}static emptyPath(){return new ar([])}}const Ef=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Hs extends Tf{construct(e,t,i){return new Hs(e,t,i)}static isValidIdentifier(e){return Ef.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Hs.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Hs(["__name__"])}static fromServerFormat(e){const t=[];let i="",c=0;const p=()=>{if(0===i.length)throw new Ct(rt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let _=!1;for(;c<e.length;){const E=e[c];if("\\"===E){if(c+1===e.length)throw new Ct(rt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const F=e[c+1];if("\\"!==F&&"."!==F&&"`"!==F)throw new Ct(rt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=F,c+=2}else"`"===E?(_=!_,c++):"."!==E||_?(i+=E,c++):(p(),c++)}if(p(),_)throw new Ct(rt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Hs(t)}static emptyPath(){return new Hs([])}}class Xt{constructor(e){this.path=e}static fromPath(e){return new Xt(ar.fromString(e))}static fromName(e){return new Xt(ar.fromString(e).popFirst(5))}static empty(){return new Xt(ar.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ar.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ar.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Xt(new ar(e.slice()))}}function Sy(n){return new rc(n.readTime,n.key,-1)}class rc{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new rc(Sn.min(),Xt.empty(),-1)}static max(){return new rc(Sn.max(),Xt.empty(),-1)}}function Rm(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Xt.comparator(n.documentKey,e.documentKey),0!==t?t:qn(n.largestBatchId,e.largestBatchId))}const Ay="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $b{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Cd(n){return vh.apply(this,arguments)}function vh(){return vh=(0,de.Z)(function*(n){if(n.code!==rt.FAILED_PRECONDITION||n.message!==Ay)throw n;Ot("LocalStore","Unexpectedly lost primary lease")}),vh.apply(this,arguments)}class Ze{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&hn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ze((i,c)=>{this.nextCallback=p=>{this.wrapSuccess(e,p).next(i,c)},this.catchCallback=p=>{this.wrapFailure(t,p).next(i,c)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ze?t:Ze.resolve(t)}catch(t){return Ze.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ze.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ze.reject(t)}static resolve(e){return new Ze((t,i)=>{t(e)})}static reject(e){return new Ze((t,i)=>{i(e)})}static waitFor(e){return new Ze((t,i)=>{let c=0,p=0,_=!1;e.forEach(E=>{++c,E.next(()=>{++p,_&&p===c&&t()},F=>i(F))}),_=!0,p===c&&t()})}static or(e){let t=Ze.resolve(!1);for(const i of e)t=t.next(c=>c?Ze.resolve(c):i());return t}static forEach(e,t){const i=[];return e.forEach((c,p)=>{i.push(t.call(this,c,p))}),this.waitFor(i)}static mapArray(e,t){return new Ze((i,c)=>{const p=e.length,_=new Array(p);let E=0;for(let F=0;F<p;F++){const H=F;t(e[H]).next(te=>{_[H]=te,++E,E===p&&i(_)},te=>c(te))}})}static doWhile(e,t){return new Ze((i,c)=>{const p=()=>{!0===e()?t().next(()=>{p()},c):i()};p()})}}function Zl(n){return"IndexedDbTransactionError"===n.name}let ls=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=c=>this.ot(c),this.ut=c=>i.writeSequenceNumber(c))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Cf(n){return null==n}function Lu(n){return 0===n&&1/n==-1/0}function Ms(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function si(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function ic(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class qr{constructor(e,t){this.comparator=e,this.root=t||Zt.EMPTY}insert(e,t){return new qr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new qr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const c=this.comparator(e,i.key);if(0===c)return t+i.left.size;c<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jt(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jt(this.root,e,this.comparator,!1)}getReverseIterator(){return new jt(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jt(this.root,e,this.comparator,!0)}}class jt{constructor(e,t,i,c){this.isReverse=c,this.nodeStack=[];let p=1;for(;!e.isEmpty();)if(p=t?i(e.key,t):1,t&&c&&(p*=-1),p<0)e=this.isReverse?e.left:e.right;else{if(0===p){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,t,i,c,p){this.key=e,this.value=t,this.color=i??Zt.RED,this.left=c??Zt.EMPTY,this.right=p??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,c,p){return new Zt(e??this.key,t??this.value,i??this.color,c??this.left,p??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let c=this;const p=i(e,c.key);return c=p<0?c.copy(null,null,null,c.left.insert(e,t,i),null):0===p?c.copy(null,t,null,null,null):c.copy(null,null,null,null,c.right.insert(e,t,i)),c.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,c=this;if(t(e,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(e,t),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===t(e,c.key)){if(c.right.isEmpty())return Zt.EMPTY;i=c.right.min(),c=c.copy(i.key,i.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(e,t))}return c.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw hn();const e=this.left.check();if(e!==this.right.check())throw hn();return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1,Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw hn()}get value(){throw hn()}get color(){throw hn()}get left(){throw hn()}get right(){throw hn()}copy(n,e,t,i,c){return this}insert(n,e,t){return new Zt(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class en{constructor(e){this.comparator=e,this.data=new qr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const c=i.getNext();if(this.comparator(c.key,e[1])>=0)return;t(c.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new nr(this.data.getIterator())}getIteratorFrom(e){return new nr(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof en)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const c=t.getNext().key,p=i.getNext().key;if(0!==this.comparator(c,p))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new en(this.comparator);return t.data=e,t}}class nr{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ui{constructor(e){this.fields=e,e.sort(Hs.comparator)}static empty(){return new Ui([])}unionWith(e){let t=new en(Hs.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Ui(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ku(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class no extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Zn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new no("Invalid base64 string: "+c):c}}(e);return new Zn(t)}static fromUint8Array(e){const t=function(i){let c="";for(let p=0;p<i.length;++p)c+=String.fromCharCode(i[p]);return c}(e);return new Zn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zn.EMPTY_BYTE_STRING=new Zn("");const sc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sa(n){if(In(!!n),"string"==typeof n){let e=0;const t=sc.exec(n);if(In(!!t),t[1]){let c=t[1];c=(c+"000000000").substr(0,9),e=Number(c)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Tr(n.seconds),nanos:Tr(n.nanos)}}function Tr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function vs(n){return"string"==typeof n?Zn.fromBase64String(n):Zn.fromUint8Array(n)}function To(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function El(n){const e=n.mapValue.fields.__previous_value__;return To(e)?El(e):e}function Dl(n){const e=sa(n.mapValue.fields.__local_write_time__.timestampValue);return new cs(e.seconds,e.nanos)}class y0{constructor(e,t,i,c,p,_,E,F,H){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=c,this.ssl=p,this.forceLongPolling=_,this.autoDetectLongPolling=E,this.longPollingOptions=F,this.useFetchStreams=H}}class Sd{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Sd("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Sd&&e.projectId===this.projectId&&e.database===this.database}}const Ad={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Kl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?To(n)?4:hT(n)?9007199254740991:10:hn()}function nl(n,e){if(n===e)return!0;const t=Kl(n);if(t!==Kl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Dl(n).isEqual(Dl(e));case 3:return function(i,c){if("string"==typeof i.timestampValue&&"string"==typeof c.timestampValue&&i.timestampValue.length===c.timestampValue.length)return i.timestampValue===c.timestampValue;const p=sa(i.timestampValue),_=sa(c.timestampValue);return p.seconds===_.seconds&&p.nanos===_.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return c=e,vs(n.bytesValue).isEqual(vs(c.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,c){return Tr(i.geoPointValue.latitude)===Tr(c.geoPointValue.latitude)&&Tr(i.geoPointValue.longitude)===Tr(c.geoPointValue.longitude)}(n,e);case 2:return function(i,c){if("integerValue"in i&&"integerValue"in c)return Tr(i.integerValue)===Tr(c.integerValue);if("doubleValue"in i&&"doubleValue"in c){const p=Tr(i.doubleValue),_=Tr(c.doubleValue);return p===_?Lu(p)===Lu(_):isNaN(p)&&isNaN(_)}return!1}(n,e);case 9:return ku(n.arrayValue.values||[],e.arrayValue.values||[],nl);case 10:return function(i,c){const p=i.mapValue.fields||{},_=c.mapValue.fields||{};if(Ms(p)!==Ms(_))return!1;for(const E in p)if(p.hasOwnProperty(E)&&(void 0===_[E]||!nl(p[E],_[E])))return!1;return!0}(n,e);default:return hn()}var c}function Gp(n,e){return void 0!==(n.values||[]).find(t=>nl(t,e))}function Nd(n,e){if(n===e)return 0;const t=Kl(n),i=Kl(e);if(t!==i)return qn(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return qn(n.booleanValue,e.booleanValue);case 2:return function(c,p){const _=Tr(c.integerValue||c.doubleValue),E=Tr(p.integerValue||p.doubleValue);return _<E?-1:_>E?1:_===E?0:isNaN(_)?isNaN(E)?0:-1:1}(n,e);case 3:return Od(n.timestampValue,e.timestampValue);case 4:return Od(Dl(n),Dl(e));case 5:return qn(n.stringValue,e.stringValue);case 6:return function(c,p){const _=vs(c),E=vs(p);return _.compareTo(E)}(n.bytesValue,e.bytesValue);case 7:return function(c,p){const _=c.split("/"),E=p.split("/");for(let F=0;F<_.length&&F<E.length;F++){const H=qn(_[F],E[F]);if(0!==H)return H}return qn(_.length,E.length)}(n.referenceValue,e.referenceValue);case 8:return function(c,p){const _=qn(Tr(c.latitude),Tr(p.latitude));return 0!==_?_:qn(Tr(c.longitude),Tr(p.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(c,p){const _=c.values||[],E=p.values||[];for(let F=0;F<_.length&&F<E.length;++F){const H=Nd(_[F],E[F]);if(H)return H}return qn(_.length,E.length)}(n.arrayValue,e.arrayValue);case 10:return function(c,p){if(c===Ad.mapValue&&p===Ad.mapValue)return 0;if(c===Ad.mapValue)return 1;if(p===Ad.mapValue)return-1;const _=c.fields||{},E=Object.keys(_),F=p.fields||{},H=Object.keys(F);E.sort(),H.sort();for(let te=0;te<E.length&&te<H.length;++te){const pe=qn(E[te],H[te]);if(0!==pe)return pe;const Be=Nd(_[E[te]],F[H[te]]);if(0!==Be)return Be}return qn(E.length,H.length)}(n.mapValue,e.mapValue);default:throw hn()}}function Od(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return qn(n,e);const t=sa(n),i=sa(e),c=qn(t.seconds,i.seconds);return 0!==c?c:qn(t.nanos,i.nanos)}function Yl(n){return Af(n)}function Af(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const c=sa(i);return`time(${c.seconds},${c.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?vs(n.bytesValue).toBase64():"referenceValue"in n?Xt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let c="[",p=!0;for(const _ of i.values||[])p?p=!1:c+=",",c+=Af(_);return c+"]"}(n.arrayValue):"mapValue"in n?function(i){const c=Object.keys(i.fields||{}).sort();let p="{",_=!0;for(const E of c)_?_=!1:p+=",",p+=`${E}:${Af(i.fields[E])}`;return p+"}"}(n.mapValue):hn();var e}function Bu(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function wh(n){return!!n&&"integerValue"in n}function Vu(n){return!!n&&"arrayValue"in n}function jp(n){return!!n&&"nullValue"in n}function Pm(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function v0(n){return!!n&&"mapValue"in n}function Oy(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return si(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Oy(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Oy(n.arrayValue.values[t]);return e}return Object.assign({},n)}function hT(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Ha{constructor(e){this.value=e}static empty(){return new Ha({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!v0(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Oy(t)}setAll(e){let t=Hs.emptyPath(),i={},c=[];e.forEach((_,E)=>{if(!t.isImmediateParentOf(E)){const F=this.getFieldsMap(t);this.applyChanges(F,i,c),i={},c=[],t=E.popLast()}_?i[E.lastSegment()]=Oy(_):c.push(E.lastSegment())});const p=this.getFieldsMap(t);this.applyChanges(p,i,c)}delete(e){const t=this.field(e.popLast());v0(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return nl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let c=t.mapValue.fields[e.get(i)];v0(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=c),t=c}return t.mapValue.fields}applyChanges(e,t,i){si(t,(c,p)=>e[c]=p);for(const c of i)delete e[c]}clone(){return new Ha(Oy(this.value))}}function fT(n){const e=[];return si(n.fields,(t,i)=>{const c=new Hs([t]);if(v0(i)){const p=fT(i.mapValue).fields;if(0===p.length)e.push(c);else for(const _ of p)e.push(c.child(_))}else e.push(c)}),new Ui(e)}class us{constructor(e,t,i,c,p,_,E){this.key=e,this.documentType=t,this.version=i,this.readTime=c,this.createTime=p,this.data=_,this.documentState=E}static newInvalidDocument(e){return new us(e,0,Sn.min(),Sn.min(),Sn.min(),Ha.empty(),0)}static newFoundDocument(e,t,i,c){return new us(e,1,t,Sn.min(),i,c,0)}static newNoDocument(e,t){return new us(e,2,t,Sn.min(),Sn.min(),Ha.empty(),0)}static newUnknownDocument(e,t){return new us(e,3,t,Sn.min(),Sn.min(),Ha.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Sn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ha.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ha.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Sn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof us&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new us(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Md{constructor(e,t){this.position=e,this.inclusive=t}}function Kb(n,e,t){let i=0;for(let c=0;c<n.position.length;c++){const p=e[c],_=n.position[c];if(i=p.field.isKeyField()?Xt.comparator(Xt.fromName(_.referenceValue),t.key):Nd(_,t.data.field(p.field)),"desc"===p.dir&&(i*=-1),0!==i)break}return i}function I0(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!nl(n.position[t],e.position[t]))return!1;return!0}class $p{constructor(e,t="asc"){this.field=e,this.dir=t}}function xD(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Yb{}class Qr extends Yb{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new pT(e,t,i):"array-contains"===t?new _T(e,i):"in"===t?new nw(e,i):"not-in"===t?new E0(e,i):"array-contains-any"===t?new Nf(e,i):new Qr(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new gT(e,i):new mT(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Nd(t,this.value)):null!==t&&Kl(this.value)===Kl(t)&&this.matchesComparison(Nd(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return hn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ri extends Yb{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Ri(e,t)}matches(e){return zp(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function zp(n){return"and"===n.op}function T0(n){return function Jb(n){for(const e of n.filters)if(e instanceof Ri)return!1;return!0}(n)&&zp(n)}function My(n){if(n instanceof Qr)return n.field.canonicalString()+n.op.toString()+Yl(n.value);if(T0(n))return n.filters.map(e=>My(e)).join(",");{const e=n.filters.map(t=>My(t)).join(",");return`${n.op}(${e})`}}function xy(n,e){return n instanceof Qr?(t=n,(i=e)instanceof Qr&&t.op===i.op&&t.field.isEqual(i.field)&&nl(t.value,i.value)):n instanceof Ri?function(t,i){return i instanceof Ri&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((c,p,_)=>c&&xy(p,i.filters[_]),!0)}(n,e):void hn();var t,i}function ew(n){return n instanceof Qr?`${(e=n).field.canonicalString()} ${e.op} ${Yl(e.value)}`:n instanceof Ri?function(e){return e.op.toString()+" {"+e.getFilters().map(ew).join(" ,")+"}"}(n):"Filter";var e}class pT extends Qr{constructor(e,t,i){super(e,t,i),this.key=Xt.fromName(i.referenceValue)}matches(e){const t=Xt.comparator(e.key,this.key);return this.matchesComparison(t)}}class gT extends Qr{constructor(e,t){super(e,"in",t),this.keys=tw(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class mT extends Qr{constructor(e,t){super(e,"not-in",t),this.keys=tw(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function tw(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>Xt.fromName(i.referenceValue))}class _T extends Qr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Vu(t)&&Gp(t.arrayValue,this.value)}}class nw extends Qr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Gp(this.value.arrayValue,t)}}class E0 extends Qr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Gp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Gp(this.value.arrayValue,t)}}class Nf extends Qr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Vu(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Gp(this.value.arrayValue,i))}}class RD{constructor(e,t=null,i=[],c=[],p=null,_=null,E=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=c,this.limit=p,this.startAt=_,this.endAt=E,this.dt=null}}function rw(n,e=null,t=[],i=[],c=null,p=null,_=null){return new RD(n,e,t,i,c,p,_)}function Ih(n){const e=Wt(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>My(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(c=i).field.canonicalString()+c.dir;var c}).join(","),Cf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Yl(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Yl(i)).join(",")),e.dt=t}return e.dt}function Uu(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!xD(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!xy(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!I0(n.startAt,e.startAt)&&I0(n.endAt,e.endAt)}function km(n){return Xt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Of{constructor(e,t=null,i=[],c=[],p=null,_="F",E=null,F=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=c,this.limit=p,this.limitType=_,this.startAt=E,this.endAt=F,this.wt=null,this._t=null}}function Fm(n){return new Of(n)}function iw(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function sw(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function ro(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function S0(n){return null!==n.collectionGroup}function Wp(n){const e=Wt(n);if(null===e.wt){e.wt=[];const t=ro(e),i=sw(e);if(null!==t&&null===i)t.isKeyField()||e.wt.push(new $p(t)),e.wt.push(new $p(Hs.keyField(),"asc"));else{let c=!1;for(const p of e.explicitOrderBy)e.wt.push(p),p.field.isKeyField()&&(c=!0);if(!c){const p=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new $p(Hs.keyField(),p))}}}return e.wt}function Oc(n){const e=Wt(n);if(!e._t)if("F"===e.limitType)e._t=rw(e.path,e.collectionGroup,Wp(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const p of Wp(e))t.push(new $p(p.field,"desc"===p.dir?"asc":"desc"));const i=e.endAt?new Md(e.endAt.position,e.endAt.inclusive):null,c=e.startAt?new Md(e.startAt.position,e.startAt.inclusive):null;e._t=rw(e.path,e.collectionGroup,t,e.filters,e.limit,i,c)}return e._t}function A0(n,e){e.getFirstInequalityField(),ro(n);const t=n.filters.concat([e]);return new Of(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function N0(n,e,t){return new Of(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Lm(n,e){return Uu(Oc(n),Oc(e))&&n.limitType===e.limitType}function ow(n){return`${Ih(Oc(n))}|lt:${n.limitType}`}function Mf(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>ew(i)).join(", ")}]`),Cf(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(c=i).field.canonicalString()} (${c.dir})`;var c}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Yl(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Yl(i)).join(",")),`Target(${t})`}(Oc(n))}; limitType=${n.limitType})`}function Ry(n,e){return e.isFoundDocument()&&function(t,i){const c=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(c):Xt.isDocumentKey(t.path)?t.path.isEqual(c):t.path.isImmediateParentOf(c)}(n,e)&&function(t,i){for(const c of Wp(t))if(!c.field.isKeyField()&&null===i.data.field(c.field))return!1;return!0}(n,e)&&function(t,i){for(const c of t.filters)if(!c.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(c,p,_){const E=Kb(c,p,_);return c.inclusive?E<=0:E<0}(t.startAt,Wp(t),i)||t.endAt&&!function(c,p,_){const E=Kb(c,p,_);return c.inclusive?E>=0:E>0}(t.endAt,Wp(t),i)));var t,i}function aw(n){return(e,t)=>{let i=!1;for(const c of Wp(n)){const p=kD(c,e,t);if(0!==p)return p;i=i||c.field.isKeyField()}return 0}}function kD(n,e,t){const i=n.field.isKeyField()?Xt.comparator(e.key,t.key):function(c,p,_){const E=p.data.field(c),F=_.data.field(c);return null!==E&&null!==F?Nd(E,F):hn()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return hn()}}class xd{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[c,p]of i)if(this.equalsFn(c,e))return p}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),c=this.inner[i];if(void 0===c)return this.inner[i]=[[e,t]],void this.innerSize++;for(let p=0;p<c.length;p++)if(this.equalsFn(c[p][0],e))return void(c[p]=[e,t]);c.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let c=0;c<i.length;c++)if(this.equalsFn(i[c][0],e))return 1===i.length?delete this.inner[t]:i.splice(c,1),this.innerSize--,!0;return!1}forEach(e){si(this.inner,(t,i)=>{for(const[c,p]of i)e(c,p)})}isEmpty(){return ic(this.inner)}size(){return this.innerSize}}const aS=new qr(Xt.comparator);function Mc(){return aS}const O0=new qr(Xt.comparator);function rl(...n){let e=O0;for(const t of n)e=e.insert(t.key,t);return e}function bT(n){let e=O0;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Hu(){return xc()}function Gu(){return xc()}function xc(){return new xd(n=>n.toString(),(n,e)=>n.isEqual(e))}const ju=new qr(Xt.comparator),wT=new en(Xt.comparator);function Er(...n){let e=wT;for(const t of n)e=e.add(t);return e}const FD=new en(qn);function IT(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lu(e)?"-0":e}}function TT(n){return{integerValue:""+n}}function M0(n,e){return function Sf(n){return"number"==typeof n&&Number.isInteger(n)&&!Lu(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?TT(e):IT(n,e)}class xf{constructor(){this._=void 0}}function LD(n,e,t){return n instanceof Bm?function(i,c){const p={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return c&&To(c)&&(c=El(c)),c&&(p.fields.__previous_value__=c),{mapValue:p}}(t,e):n instanceof Rf?lw(n,e):n instanceof Rd?CT(n,e):function(i,c){const p=DT(i,c),_=uw(p)+uw(i.gt);return wh(p)&&wh(i.gt)?TT(_):IT(i.serializer,_)}(n,e)}function ET(n,e,t){return n instanceof Rf?lw(n,e):n instanceof Rd?CT(n,e):t}function DT(n,e){return n instanceof qp?wh(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class Bm extends xf{}class Rf extends xf{constructor(e){super(),this.elements=e}}function lw(n,e){const t=dw(e);for(const i of n.elements)t.some(c=>nl(c,i))||t.push(i);return{arrayValue:{values:t}}}class Rd extends xf{constructor(e){super(),this.elements=e}}function CT(n,e){let t=dw(e);for(const i of n.elements)t=t.filter(c=>!nl(c,i));return{arrayValue:{values:t}}}class qp extends xf{constructor(e,t){super(),this.serializer=e,this.gt=t}}function uw(n){return Tr(n.integerValue||n.doubleValue)}function dw(n){return Vu(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Py{constructor(e,t){this.field=e,this.transform=t}}class hw{constructor(e,t){this.version=e,this.transformResults=t}}class Xi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Xi}static exists(e){return new Xi(void 0,e)}static updateTime(e){return new Xi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ky(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Vm{}function fw(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Hm(n.key,Xi.none()):new Zp(n.key,n.data,Xi.none());{const t=n.data,i=Ha.empty();let c=new en(Hs.comparator);for(let p of e.fields)if(!c.has(p)){let _=t.field(p);null===_&&p.length>1&&(p=p.popLast(),_=t.field(p)),null===_?i.delete(p):i.set(p,_),c=c.add(p)}return new Th(n.key,i,new Ui(c.toArray()),Xi.none())}}function ST(n,e,t){n instanceof Zp?function(i,c,p){const _=i.value.clone(),E=OT(i.fieldTransforms,c,p.transformResults);_.setAll(E),c.convertToFoundDocument(p.version,_).setHasCommittedMutations()}(n,e,t):n instanceof Th?function(i,c,p){if(!ky(i.precondition,c))return void c.convertToUnknownDocument(p.version);const _=OT(i.fieldTransforms,c,p.transformResults),E=c.data;E.setAll(NT(i)),E.setAll(_),c.convertToFoundDocument(p.version,E).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Um(n,e,t,i){return n instanceof Zp?function(c,p,_,E){if(!ky(c.precondition,p))return _;const F=c.value.clone(),H=MT(c.fieldTransforms,E,p);return F.setAll(H),p.convertToFoundDocument(p.version,F).setHasLocalMutations(),null}(n,e,t,i):n instanceof Th?function(c,p,_,E){if(!ky(c.precondition,p))return _;const F=MT(c.fieldTransforms,E,p),H=p.data;return H.setAll(NT(c)),H.setAll(F),p.convertToFoundDocument(p.version,H).setHasLocalMutations(),null===_?null:_.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(te=>te.field))}(n,e,t,i):(_=t,ky(n.precondition,p=e)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):_);var p,_}function AT(n,e){let t=null;for(const i of n.fieldTransforms){const c=e.data.field(i.field),p=DT(i.transform,c||null);null!=p&&(null===t&&(t=Ha.empty()),t.set(i.field,p))}return t||null}function pw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&ku(t,i,(c,p)=>function BD(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof Rf&&i instanceof Rf||t instanceof Rd&&i instanceof Rd?ku(t.elements,i.elements,nl):t instanceof qp&&i instanceof qp?nl(t.gt,i.gt):t instanceof Bm&&i instanceof Bm);var t,i}(c,p))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class Zp extends Vm{constructor(e,t,i,c=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=c,this.type=0}getFieldMask(){return null}}class Th extends Vm{constructor(e,t,i,c,p=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=c,this.fieldTransforms=p,this.type=1}getFieldMask(){return this.fieldMask}}function NT(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function OT(n,e,t){const i=new Map;In(n.length===t.length);for(let c=0;c<t.length;c++){const p=n[c],_=p.transform,E=e.data.field(p.field);i.set(p.field,ET(_,E,t[c]))}return i}function MT(n,e,t){const i=new Map;for(const c of n){const p=c.transform,_=t.data.field(c.field);i.set(c.field,LD(p,_,e))}return i}class Hm extends Vm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gw extends Vm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class mw{constructor(e,t,i,c){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=c}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let c=0;c<this.mutations.length;c++){const p=this.mutations[c];p.key.isEqual(e.key)&&ST(p,e,i[c])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Um(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Um(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=Gu();return this.mutations.forEach(c=>{const p=e.get(c.key),_=p.overlayedDocument;let E=this.applyToLocalView(_,p.mutatedFields);E=t.has(c.key)?null:E;const F=fw(_,E);null!==F&&i.set(c.key,F),_.isValidDocument()||_.convertToNoDocument(Sn.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Er())}isEqual(e){return this.batchId===e.batchId&&ku(this.mutations,e.mutations,(t,i)=>pw(t,i))&&ku(this.baseMutations,e.baseMutations,(t,i)=>pw(t,i))}}class _w{constructor(e,t,i,c){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=c}static from(e,t,i){In(e.mutations.length===i.length);let c=ju;const p=e.mutations;for(let _=0;_<p.length;_++)c=c.insert(p[_].key,i[_].version);return new _w(e,t,i,c)}}class yw{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class UD{constructor(e,t){this.count=e,this.unchangedNames=t}}var zo,oi;function RT(n){if(void 0===n)return Us("GRPC error has no .code"),rt.UNKNOWN;switch(n){case zo.OK:return rt.OK;case zo.CANCELLED:return rt.CANCELLED;case zo.UNKNOWN:return rt.UNKNOWN;case zo.DEADLINE_EXCEEDED:return rt.DEADLINE_EXCEEDED;case zo.RESOURCE_EXHAUSTED:return rt.RESOURCE_EXHAUSTED;case zo.INTERNAL:return rt.INTERNAL;case zo.UNAVAILABLE:return rt.UNAVAILABLE;case zo.UNAUTHENTICATED:return rt.UNAUTHENTICATED;case zo.INVALID_ARGUMENT:return rt.INVALID_ARGUMENT;case zo.NOT_FOUND:return rt.NOT_FOUND;case zo.ALREADY_EXISTS:return rt.ALREADY_EXISTS;case zo.PERMISSION_DENIED:return rt.PERMISSION_DENIED;case zo.FAILED_PRECONDITION:return rt.FAILED_PRECONDITION;case zo.ABORTED:return rt.ABORTED;case zo.OUT_OF_RANGE:return rt.OUT_OF_RANGE;case zo.UNIMPLEMENTED:return rt.UNIMPLEMENTED;case zo.DATA_LOSS:return rt.DATA_LOSS;default:return hn()}}(oi=zo||(zo={}))[oi.OK=0]="OK",oi[oi.CANCELLED=1]="CANCELLED",oi[oi.UNKNOWN=2]="UNKNOWN",oi[oi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",oi[oi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",oi[oi.NOT_FOUND=5]="NOT_FOUND",oi[oi.ALREADY_EXISTS=6]="ALREADY_EXISTS",oi[oi.PERMISSION_DENIED=7]="PERMISSION_DENIED",oi[oi.UNAUTHENTICATED=16]="UNAUTHENTICATED",oi[oi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",oi[oi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",oi[oi.ABORTED=10]="ABORTED",oi[oi.OUT_OF_RANGE=11]="OUT_OF_RANGE",oi[oi.UNIMPLEMENTED=12]="UNIMPLEMENTED",oi[oi.INTERNAL=13]="INTERNAL",oi[oi.UNAVAILABLE=14]="UNAVAILABLE",oi[oi.DATA_LOSS=15]="DATA_LOSS";class vw{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return x0}static getOrCreateInstance(){return null===x0&&(x0=new vw),x0}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let x0=null;const kT=new Ru([4294967295,4294967295],0);function bw(n){const e=function PT(){return new TextEncoder}().encode(n),t=new wy;return t.update(e),new Uint8Array(t.digest())}function ww(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),c=e.getUint32(8,!0),p=e.getUint32(12,!0);return[new Ru([t,i],0),new Ru([c,p],0)]}class R0{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Gm(`Invalid padding: ${t}`);if(i<0)throw new Gm(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new Gm(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new Gm(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Ru.fromNumber(this.It)}Et(e,t,i){let c=e.add(t.multiply(Ru.fromNumber(i)));return 1===c.compare(kT)&&(c=new Ru([c.getBits(0),c.getBits(1)],0)),c.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=bw(e),[i,c]=ww(t);for(let p=0;p<this.hashCount;p++){const _=this.Et(i,c,p);if(!this.At(_))return!1}return!0}static create(e,t,i){const c=e%8==0?0:8-e%8,p=new Uint8Array(Math.ceil(e/8)),_=new R0(p,c,t);return i.forEach(E=>_.insert(E)),_}insert(e){if(0===this.It)return;const t=bw(e),[i,c]=ww(t);for(let p=0;p<this.hashCount;p++){const _=this.Et(i,c,p);this.Rt(_)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Gm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class jm{constructor(e,t,i,c,p){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=c,this.resolvedLimboDocuments=p}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const c=new Map;return c.set(e,$m.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new jm(Sn.min(),c,new qr(qn),Mc(),Er())}}class $m{constructor(e,t,i,c,p){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=c,this.removedDocuments=p}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new $m(i,t,Er(),Er(),Er())}}class Fy{constructor(e,t,i,c){this.Pt=e,this.removedTargetIds=t,this.key=i,this.bt=c}}class Iw{constructor(e,t){this.targetId=e,this.Vt=t}}class P0{constructor(e,t,i=Zn.EMPTY_BYTE_STRING,c=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=c}}class Tw{constructor(){this.St=0,this.Dt=LT(),this.Ct=Zn.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Er(),t=Er(),i=Er();return this.Dt.forEach((c,p)=>{switch(p){case 0:e=e.add(c);break;case 2:t=t.add(c);break;case 1:i=i.add(c);break;default:hn()}}),new $m(this.Ct,this.xt,e,t,i)}Ft(){this.Nt=!1,this.Dt=LT()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Kp{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Mc(),this.zt=FT(),this.Wt=new qr(qn)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const i=this.Zt(t);switch(e.state){case 0:this.te(t)&&i.$t(e.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(e.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(t);break;case 3:this.te(t)&&(i.Kt(),i.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),i.$t(e.resumeToken));break;default:hn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((i,c)=>{this.te(c)&&t(c)})}ne(e){var t;const i=e.targetId,c=e.Vt.count,p=this.se(i);if(p){const _=p.target;if(km(_))if(0===c){const E=new Xt(_.path);this.Yt(i,E,us.newNoDocument(E,Sn.min()))}else In(1===c);else{const E=this.ie(i);if(E!==c){const F=this.re(e,E);0!==F&&(this.ee(i),this.Wt=this.Wt.insert(i,2===F?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=vw.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(H,te,pe){var Be,lt,Pt,sn,cn,Dr;const ii={localCacheCount:te,existenceFilterCount:pe.count},Pr=pe.unchangedNames;return Pr&&(ii.bloomFilter={applied:0===H,hashCount:null!==(Be=Pr?.hashCount)&&void 0!==Be?Be:0,bitmapLength:null!==(sn=null===(Pt=null===(lt=Pr?.bits)||void 0===lt?void 0:lt.bitmap)||void 0===Pt?void 0:Pt.length)&&void 0!==sn?sn:0,padding:null!==(Dr=null===(cn=Pr?.bits)||void 0===cn?void 0:cn.padding)&&void 0!==Dr?Dr:0}),ii}(F,E,e.Vt))}}}}re(e,t){const{unchangedNames:i,count:c}=e.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:p="",padding:_=0},hashCount:E=0}=i;let F,H;try{F=vs(p).toUint8Array()}catch(te){if(te instanceof no)return Nc("Decoding the base64 bloom filter in existence filter failed ("+te.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw te}try{H=new R0(F,_,E)}catch(te){return Nc(te instanceof Gm?"BloomFilter error: ":"Applying bloom filter failed: ",te),1}return 0===H.It?1:c!==t-this.oe(e.targetId,H)?2:0}oe(e,t){const i=this.Gt.getRemoteKeysForTarget(e);let c=0;return i.forEach(p=>{const _=this.Gt.ue(),E=`projects/${_.projectId}/databases/${_.database}/documents/${p.path.canonicalString()}`;t.vt(E)||(this.Yt(e,p,null),c++)}),c}ce(e){const t=new Map;this.Qt.forEach((p,_)=>{const E=this.se(_);if(E){if(p.current&&km(E.target)){const F=new Xt(E.target.path);null!==this.jt.get(F)||this.ae(_,F)||this.Yt(_,F,us.newNoDocument(F,e))}p.Mt&&(t.set(_,p.Ot()),p.Ft())}});let i=Er();this.zt.forEach((p,_)=>{let E=!0;_.forEachWhile(F=>{const H=this.se(F);return!H||"TargetPurposeLimboResolution"===H.purpose||(E=!1,!1)}),E&&(i=i.add(p))}),this.jt.forEach((p,_)=>_.setReadTime(e));const c=new jm(e,t,this.Wt,this.jt,i);return this.jt=Mc(),this.zt=FT(),this.Wt=new qr(qn),c}Jt(e,t){if(!this.te(e))return;const i=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,i),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,i){if(!this.te(e))return;const c=this.Zt(e);this.ae(e,t)?c.Bt(t,1):c.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),i&&(this.jt=this.jt.insert(t,i))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new Tw,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new en(qn),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Ot("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Tw),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function FT(){return new qr(Xt.comparator)}function LT(){return new qr(Xt.comparator)}const zm={asc:"ASCENDING",desc:"DESCENDING"},cS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ew={and:"AND",or:"OR"};class lS{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function k0(n,e){return n.useProto3Json||Cf(e)?e:{value:e}}function Yp(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function HD(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Wm(n,e){return Yp(n,e.toTimestamp())}function Eo(n){return In(!!n),Sn.fromTimestamp(function(e){const t=sa(e);return new cs(t.seconds,t.nanos)}(n))}function Dw(n,e){return(t=n,new ar(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function BT(n){const e=ar.fromString(n);return In(Km(e)),e}function Pd(n,e){return Dw(n.databaseId,e.path)}function kd(n,e){const t=BT(e);if(t.get(1)!==n.databaseId.projectId)throw new Ct(rt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ct(rt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Xt(GD(t))}function qm(n,e){return Dw(n.databaseId,e)}function Sa(n){return new ar(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function GD(n){return In(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Cw(n,e,t){return{name:Pd(n,e),fields:t.value.mapValue.fields}}function HT(n,e){return{documents:[qm(n,e.path)]}}function Aw(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=qm(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=qm(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const c=function(F){if(0!==F.length)return Nw(Ri.create(F,"and"))}(e.filters);c&&(t.structuredQuery.where=c);const p=function(F){if(0!==F.length)return F.map(H=>{return{field:Eh((te=H).field),direction:$D(te.dir)};var te})}(e.orderBy);p&&(t.structuredQuery.orderBy=p);const _=k0(n,e.limit);var E,F;return null!==_&&(t.structuredQuery.limit=_),e.startAt&&(t.structuredQuery.startAt={before:(E=e.startAt).inclusive,values:E.position}),e.endAt&&(t.structuredQuery.endAt={before:!(F=e.endAt).inclusive,values:F.position}),t}function GT(n){let e=function Ly(n){const e=BT(n);return 4===e.length?ar.emptyPath():GD(e)}(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let c=null;if(i>0){In(1===i);const te=t.from[0];te.allDescendants?c=te.collectionId:e=e.child(te.collectionId)}let p=[];t.where&&(p=function(te){const pe=jT(te);return pe instanceof Ri&&T0(pe)?pe.getFilters():[pe]}(t.where));let _=[];t.orderBy&&(_=t.orderBy.map(te=>{return new $p(Qp((pe=te).field),function(Be){switch(Be){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(pe.direction));var pe}));let E=null;t.limit&&(E=function(te){let pe;return pe="object"==typeof te?te.value:te,Cf(pe)?null:pe}(t.limit));let F=null;var te;t.startAt&&(F=new Md((te=t.startAt).values||[],!!te.before));let H=null;return t.endAt&&(H=function(te){return new Md(te.values||[],!te.before)}(t.endAt)),function yT(n,e,t,i,c,p,_,E){return new Of(n,e,t,i,c,p,_,E)}(e,c,_,p,E,"F",F,H)}function jT(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Qp(e.unaryFilter.field);return Qr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=Qp(e.unaryFilter.field);return Qr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Qp(e.unaryFilter.field);return Qr.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=Qp(e.unaryFilter.field);return Qr.create(p,"!=",{nullValue:"NULL_VALUE"});default:return hn()}}(n):void 0!==n.fieldFilter?Qr.create(Qp((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return hn()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Ri.create(e.compositeFilter.filters.map(t=>jT(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return hn()}}(e.compositeFilter.op))}(n):hn();var e}function $D(n){return zm[n]}function zD(n){return cS[n]}function L0(n){return Ew[n]}function Eh(n){return{fieldPath:n.canonicalString()}}function Qp(n){return Hs.fromServerFormat(n.fieldPath)}function Nw(n){return n instanceof Qr?function(e){if("=="===e.op){if(Pm(e.value))return{unaryFilter:{field:Eh(e.field),op:"IS_NAN"}};if(jp(e.value))return{unaryFilter:{field:Eh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Pm(e.value))return{unaryFilter:{field:Eh(e.field),op:"IS_NOT_NAN"}};if(jp(e.value))return{unaryFilter:{field:Eh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Eh(e.field),op:zD(e.op),value:e.value}}}(n):n instanceof Ri?function(e){const t=e.getFilters().map(i=>Nw(i));return 1===t.length?t[0]:{compositeFilter:{op:L0(e.op),filters:t}}}(n):hn()}function WD(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Km(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Cl{constructor(e,t,i,c,p=Sn.min(),_=Sn.min(),E=Zn.EMPTY_BYTE_STRING,F=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=c,this.snapshotVersion=p,this.lastLimboFreeSnapshotVersion=_,this.resumeToken=E,this.expectedCount=F}withSequenceNumber(e){return new Cl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Cl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Cl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Cl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class $T{constructor(e){this.fe=e}}function Ow(n){const e=GT({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?N0(e,e.limit,"L"):e}class Ff{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Tr(e.integerValue));else if("doubleValue"in e){const i=Tr(e.doubleValue);isNaN(i)?this.ye(t,13):(this.ye(t,15),Lu(i)?t.pe(0):t.pe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ye(t,20),"string"==typeof i?t.Ie(i):(t.Ie(`${i.seconds||""}`),t.pe(i.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(vs(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?hT(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):hn()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const i=e.fields||{};this.ye(t,55);for(const c of Object.keys(i))this.Te(c,t),this.me(i[c],t)}Pe(e,t){const i=e.values||[];this.ye(t,50);for(const c of i)this.me(c,t)}ve(e,t){this.ye(t,37),Xt.fromName(e).path.forEach(i=>{this.ye(t,60),this.be(i,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}Ff.Ve=new Ff;class tC{constructor(){this.rn=new G0}addToCollectionParentIndex(e,t){return this.rn.add(t),Ze.resolve()}getCollectionParents(e,t){return Ze.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Ze.resolve()}deleteFieldIndex(e,t){return Ze.resolve()}getDocumentsMatchingTarget(e,t){return Ze.resolve(null)}getIndexType(e,t){return Ze.resolve(0)}getFieldIndexes(e,t){return Ze.resolve([])}getNextCollectionGroupToUpdate(e){return Ze.resolve(null)}getMinOffset(e,t){return Ze.resolve(rc.min())}getMinOffsetFromCollectionGroup(e,t){return Ze.resolve(rc.min())}updateCollectionGroup(e,t,i){return Ze.resolve()}updateIndexEntries(e,t){return Ze.resolve()}}class G0{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),c=this.index[t]||new en(ar.comparator),p=!c.has(i);return this.index[t]=c.add(i),p}has(e){const t=e.lastSegment(),i=e.popLast(),c=this.index[t];return c&&c.has(i)}getEntries(e){return(this.index[e]||new en(ar.comparator)).toArray()}}new Uint8Array(0);class oc{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new oc(e,oc.DEFAULT_COLLECTION_PERCENTILE,oc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}oc.DEFAULT_COLLECTION_PERCENTILE=10,oc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,oc.DEFAULT=new oc(41943040,oc.DEFAULT_COLLECTION_PERCENTILE,oc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),oc.DISABLED=new oc(-1,0,0);class Bf{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Bf(0)}static Mn(){return new Bf(-1)}}class iC{constructor(){this.changes=new xd(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,us.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?Ze.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Uw{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class q0{constructor(e,t,i,c){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=c}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(c=>(i=c,this.remoteDocumentCache.getEntry(e,t))).next(c=>(null!==i&&Um(i.mutation,c,Ui.empty(),cs.now()),c))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Er()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Er()){const c=Hu();return this.populateOverlays(e,c,t).next(()=>this.computeViews(e,t,c,i).next(p=>{let _=rl();return p.forEach((E,F)=>{_=_.insert(E,F.overlayedDocument)}),_}))}getOverlayedDocuments(e,t){const i=Hu();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Er()))}populateOverlays(e,t,i){const c=[];return i.forEach(p=>{t.has(p)||c.push(p)}),this.documentOverlayCache.getOverlays(e,c).next(p=>{p.forEach((_,E)=>{t.set(_,E)})})}computeViews(e,t,i,c){let p=Mc();const _=xc(),E=xc();return t.forEach((F,H)=>{const te=i.get(H.key);c.has(H.key)&&(void 0===te||te.mutation instanceof Th)?p=p.insert(H.key,H):void 0!==te?(_.set(H.key,te.mutation.getFieldMask()),Um(te.mutation,H,te.mutation.getFieldMask(),cs.now())):_.set(H.key,Ui.empty())}),this.recalculateAndSaveOverlays(e,p).next(F=>(F.forEach((H,te)=>_.set(H,te)),t.forEach((H,te)=>{var pe;return E.set(H,new Uw(te,null!==(pe=_.get(H))&&void 0!==pe?pe:null))}),E))}recalculateAndSaveOverlays(e,t){const i=xc();let c=new qr((_,E)=>_-E),p=Er();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(_=>{for(const E of _)E.keys().forEach(F=>{const H=t.get(F);if(null===H)return;let te=i.get(F)||Ui.empty();te=E.applyToLocalView(H,te),i.set(F,te);const pe=(c.get(E.batchId)||Er()).add(F);c=c.insert(E.batchId,pe)})}).next(()=>{const _=[],E=c.getReverseIterator();for(;E.hasNext();){const F=E.getNext(),H=F.key,te=F.value,pe=Gu();te.forEach(Be=>{if(!p.has(Be)){const lt=fw(t.get(Be),i.get(Be));null!==lt&&pe.set(Be,lt),p=p.add(Be)}}),_.push(this.documentOverlayCache.saveOverlays(e,H,pe))}return Ze.waitFor(_)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return Xt.isDocumentKey((c=t).path)&&null===c.collectionGroup&&0===c.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):S0(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var c}getNextDocuments(e,t,i,c){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,c).next(p=>{const _=c-p.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,c-p.size):Ze.resolve(Hu());let E=-1,F=p;return _.next(H=>Ze.forEach(H,(te,pe)=>(E<pe.largestBatchId&&(E=pe.largestBatchId),p.get(te)?Ze.resolve():this.remoteDocumentCache.getEntry(e,te).next(Be=>{F=F.insert(te,Be)}))).next(()=>this.populateOverlays(e,H,p)).next(()=>this.computeViews(e,F,H,Er())).next(te=>({batchId:E,changes:bT(te)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Xt(t)).next(i=>{let c=rl();return i.isFoundDocument()&&(c=c.insert(i.key,i)),c})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const c=t.collectionGroup;let p=rl();return this.indexManager.getCollectionParents(e,c).next(_=>Ze.forEach(_,E=>{const F=(H=t,te=E.child(c),new Of(te,null,H.explicitOrderBy.slice(),H.filters.slice(),H.limit,H.limitType,H.startAt,H.endAt));var H,te;return this.getDocumentsMatchingCollectionQuery(e,F,i).next(H=>{H.forEach((te,pe)=>{p=p.insert(te,pe)})})}).next(()=>p))}getDocumentsMatchingCollectionQuery(e,t,i){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(p=>(c=p,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,c))).next(p=>{c.forEach((E,F)=>{const H=F.getKey();null===p.get(H)&&(p=p.insert(H,us.newInvalidDocument(H)))});let _=rl();return p.forEach((E,F)=>{const H=c.get(E);void 0!==H&&Um(H.mutation,F,Ui.empty(),cs.now()),Ry(t,F)&&(_=_.insert(E,F))}),_})}}class cC{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Ze.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var i;return this.cs.set(t.id,{id:(i=t).id,version:i.version,createTime:Eo(i.createTime)}),Ze.resolve()}getNamedQuery(e,t){return Ze.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(i=t).name,query:Ow(i.bundledQuery),readTime:Eo(i.readTime)}),Ze.resolve();var i}}class oE{constructor(){this.overlays=new qr(Xt.comparator),this.ls=new Map}getOverlay(e,t){return Ze.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Hu();return Ze.forEach(t,c=>this.getOverlay(e,c).next(p=>{null!==p&&i.set(c,p)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((c,p)=>{this.we(e,t,p)}),Ze.resolve()}removeOverlaysForBatchId(e,t,i){const c=this.ls.get(i);return void 0!==c&&(c.forEach(p=>this.overlays=this.overlays.remove(p)),this.ls.delete(i)),Ze.resolve()}getOverlaysForCollection(e,t,i){const c=Hu(),p=t.length+1,_=new Xt(t.child("")),E=this.overlays.getIteratorFrom(_);for(;E.hasNext();){const F=E.getNext().value,H=F.getKey();if(!t.isPrefixOf(H.path))break;H.path.length===p&&F.largestBatchId>i&&c.set(F.getKey(),F)}return Ze.resolve(c)}getOverlaysForCollectionGroup(e,t,i,c){let p=new qr((H,te)=>H-te);const _=this.overlays.getIterator();for(;_.hasNext();){const H=_.getNext().value;if(H.getKey().getCollectionGroup()===t&&H.largestBatchId>i){let te=p.get(H.largestBatchId);null===te&&(te=Hu(),p=p.insert(H.largestBatchId,te)),te.set(H.getKey(),H)}}const E=Hu(),F=p.getIterator();for(;F.hasNext()&&(F.getNext().value.forEach((H,te)=>E.set(H,te)),!(E.size()>=c)););return Ze.resolve(E)}we(e,t,i){const c=this.overlays.get(i.key);if(null!==c){const _=this.ls.get(c.largestBatchId).delete(i.key);this.ls.set(c.largestBatchId,_)}this.overlays=this.overlays.insert(i.key,new yw(t,i));let p=this.ls.get(t);void 0===p&&(p=Er(),this.ls.set(t,p)),this.ls.set(t,p.add(i.key))}}class Z0{constructor(){this.fs=new en(Aa.ds),this.ws=new en(Aa._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const i=new Aa(e,t);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.ys(new Aa(e,t))}ps(e,t){e.forEach(i=>this.removeReference(i,t))}Is(e){const t=new Xt(new ar([])),i=new Aa(t,e),c=new Aa(t,e+1),p=[];return this.ws.forEachInRange([i,c],_=>{this.ys(_),p.push(_.key)}),p}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Xt(new ar([])),i=new Aa(t,e),c=new Aa(t,e+1);let p=Er();return this.ws.forEachInRange([i,c],_=>{p=p.add(_.key)}),p}containsKey(e){const t=new Aa(e,0),i=this.fs.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Aa{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Xt.comparator(e.key,t.key)||qn(e.As,t.As)}static _s(e,t){return qn(e.As,t.As)||Xt.comparator(e.key,t.key)}}class aE{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new en(Aa.ds)}checkEmpty(e){return Ze.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,c){const p=this.vs;this.vs++;const _=new mw(p,t,i,c);this.mutationQueue.push(_);for(const E of c)this.Rs=this.Rs.add(new Aa(E.key,p)),this.indexManager.addToCollectionParentIndex(e,E.key.path.popLast());return Ze.resolve(_)}lookupMutationBatch(e,t){return Ze.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const c=this.bs(t+1),p=c<0?0:c;return Ze.resolve(this.mutationQueue.length>p?this.mutationQueue[p]:null)}getHighestUnacknowledgedBatchId(){return Ze.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Ze.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Aa(t,0),c=new Aa(t,Number.POSITIVE_INFINITY),p=[];return this.Rs.forEachInRange([i,c],_=>{const E=this.Ps(_.As);p.push(E)}),Ze.resolve(p)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new en(qn);return t.forEach(c=>{const p=new Aa(c,0),_=new Aa(c,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([p,_],E=>{i=i.add(E.As)})}),Ze.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,c=i.length+1;let p=i;Xt.isDocumentKey(p)||(p=p.child(""));const _=new Aa(new Xt(p),0);let E=new en(qn);return this.Rs.forEachWhile(F=>{const H=F.key.path;return!!i.isPrefixOf(H)&&(H.length===c&&(E=E.add(F.As)),!0)},_),Ze.resolve(this.Vs(E))}Vs(e){const t=[];return e.forEach(i=>{const c=this.Ps(i);null!==c&&t.push(c)}),t}removeMutationBatch(e,t){In(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return Ze.forEach(t.mutations,c=>{const p=new Aa(c.key,t.batchId);return i=i.delete(p),this.referenceDelegate.markPotentiallyOrphaned(e,c.key)}).next(()=>{this.Rs=i})}Cn(e){}containsKey(e,t){const i=new Aa(t,0),c=this.Rs.firstAfterOrEqual(i);return Ze.resolve(t.isEqual(c&&c.key))}performConsistencyCheck(e){return Ze.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Hw{constructor(e){this.Ds=e,this.docs=new qr(Xt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,c=this.docs.get(i),p=c?c.size:0,_=this.Ds(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:_}),this.size+=_-p,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Ze.resolve(i?i.document.mutableCopy():us.newInvalidDocument(t))}getEntries(e,t){let i=Mc();return t.forEach(c=>{const p=this.docs.get(c);i=i.insert(c,p?p.document.mutableCopy():us.newInvalidDocument(c))}),Ze.resolve(i)}getDocumentsMatchingQuery(e,t,i,c){let p=Mc();const _=t.path,E=new Xt(_.child("")),F=this.docs.getIteratorFrom(E);for(;F.hasNext();){const{key:H,value:{document:te}}=F.getNext();if(!_.isPrefixOf(H.path))break;H.path.length>_.length+1||Rm(Sy(te),i)<=0||(c.has(te.key)||Ry(t,te))&&(p=p.insert(te.key,te.mutableCopy()))}return Ze.resolve(p)}getAllFromCollectionGroup(e,t,i,c){hn()}Cs(e,t){return Ze.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new cE(this)}getSize(e){return Ze.resolve(this.size)}}class cE extends iC{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((i,c)=>{c.isValidDocument()?t.push(this.os.addEntry(e,c)):this.os.removeEntry(i)}),Ze.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class lE{constructor(e){this.persistence=e,this.xs=new xd(t=>Ih(t),Uu),this.lastRemoteSnapshotVersion=Sn.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Z0,this.targetCount=0,this.Ms=Bf.kn()}forEachTarget(e,t){return this.xs.forEach((i,c)=>t(c)),Ze.resolve()}getLastRemoteSnapshotVersion(e){return Ze.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ze.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Ze.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Ns&&(this.Ns=t),Ze.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Bf(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Ze.resolve()}updateTargetData(e,t){return this.Fn(t),Ze.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Ze.resolve()}removeTargets(e,t,i){let c=0;const p=[];return this.xs.forEach((_,E)=>{E.sequenceNumber<=t&&null===i.get(E.targetId)&&(this.xs.delete(_),p.push(this.removeMatchingKeysForTargetId(e,E.targetId)),c++)}),Ze.waitFor(p).next(()=>c)}getTargetCount(e){return Ze.resolve(this.targetCount)}getTargetData(e,t){const i=this.xs.get(t)||null;return Ze.resolve(i)}addMatchingKeys(e,t,i){return this.ks.gs(t,i),Ze.resolve()}removeMatchingKeys(e,t,i){this.ks.ps(t,i);const c=this.persistence.referenceDelegate,p=[];return c&&t.forEach(_=>{p.push(c.markPotentiallyOrphaned(e,_))}),Ze.waitFor(p)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Ze.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ks.Es(t);return Ze.resolve(i)}containsKey(e,t){return Ze.resolve(this.ks.containsKey(t))}}class K0{constructor(e,t){this.$s={},this.overlays={},this.Os=new ls(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new lE(this),this.indexManager=new tC,this.remoteDocumentCache=new Hw(i=>this.referenceDelegate.Ls(i)),this.serializer=new $T(t),this.qs=new cC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new oE,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.$s[e.toKey()];return i||(i=new aE(t,this.referenceDelegate),this.$s[e.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,i){Ot("MemoryPersistence","Starting transaction:",e);const c=new uE(this.Os.next());return this.referenceDelegate.Us(),i(c).next(p=>this.referenceDelegate.Ks(c).next(()=>p)).toPromise().then(p=>(c.raiseOnCommittedEvent(),p))}Gs(e,t){return Ze.or(Object.values(this.$s).map(i=>()=>i.containsKey(e,t)))}}class uE extends $b{constructor(e){super(),this.currentSequenceNumber=e}}class Y0{constructor(e){this.persistence=e,this.Qs=new Z0,this.js=null}static zs(e){return new Y0(e)}get Ws(){if(this.js)return this.js;throw hn()}addReference(e,t,i){return this.Qs.addReference(i,t),this.Ws.delete(i.toString()),Ze.resolve()}removeReference(e,t,i){return this.Qs.removeReference(i,t),this.Ws.add(i.toString()),Ze.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Ze.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(c=>this.Ws.add(c.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(c=>{c.forEach(p=>this.Ws.add(p.toString()))}).next(()=>i.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ze.forEach(this.Ws,i=>{const c=Xt.fromPath(i);return this.Hs(e,c).next(p=>{p||t.removeEntry(c,Sn.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(i=>{i?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return Ze.or([()=>Ze.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class fE{constructor(e,t,i,c){this.targetId=e,this.fromCache=t,this.Fi=i,this.Bi=c}static Li(e,t){let i=Er(),c=Er();for(const p of t.docChanges)switch(p.type){case 0:i=i.add(p.doc.key);break;case 1:c=c.add(p.doc.key)}return new fE(e,t.fromCache,i,c)}}class pE{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,i,c){return this.Ki(e,t).next(p=>p||this.Gi(e,t,c,i)).next(p=>p||this.Qi(e,t))}Ki(e,t){if(iw(t))return Ze.resolve(null);let i=Oc(t);return this.indexManager.getIndexType(e,i).next(c=>0===c?null:(null!==t.limit&&1===c&&(t=N0(t,null,"F"),i=Oc(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(p=>{const _=Er(...p);return this.Ui.getDocuments(e,_).next(E=>this.indexManager.getMinOffset(e,i).next(F=>{const H=this.ji(t,E);return this.zi(t,H,_,F.readTime)?this.Ki(e,N0(t,null,"F")):this.Wi(e,H,t,F)}))})))}Gi(e,t,i,c){return iw(t)||c.isEqual(Sn.min())?this.Qi(e,t):this.Ui.getDocuments(e,i).next(p=>{const _=this.ji(t,p);return this.zi(t,_,i,c)?this.Qi(e,t):(Iy()<=Ee.in.DEBUG&&Ot("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),Mf(t)),this.Wi(e,_,t,function _0(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,c=Sn.fromTimestamp(1e9===i?new cs(t+1,0):new cs(t,i));return new rc(c,Xt.empty(),e)}(c,-1)))})}ji(e,t){let i=new en(aw(e));return t.forEach((c,p)=>{Ry(e,p)&&(i=i.add(p))}),i}zi(e,t,i,c){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const p="F"===e.limitType?t.last():t.first();return!!p&&(p.hasPendingWrites||p.version.compareTo(c)>0)}Qi(e,t){return Iy()<=Ee.in.DEBUG&&Ot("QueryEngine","Using full collection scan to execute query:",Mf(t)),this.Ui.getDocumentsMatchingQuery(e,t,rc.min())}Wi(e,t,i,c){return this.Ui.getDocumentsMatchingQuery(e,i,c).next(p=>(t.forEach(_=>{p=p.insert(_.key,_)}),p))}}class uC{constructor(e,t,i,c){this.persistence=e,this.Hi=t,this.serializer=c,this.Ji=new qr(qn),this.Yi=new xd(p=>Ih(p),Uu),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(i)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new q0(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function jw(n,e){return e1.apply(this,arguments)}function e1(){return e1=(0,de.Z)(function*(n,e){const t=Wt(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let c;return t.mutationQueue.getAllMutationBatches(i).next(p=>(c=p,t.tr(e),t.mutationQueue.getAllMutationBatches(i))).next(p=>{const _=[],E=[];let F=Er();for(const H of c){_.push(H.batchId);for(const te of H.mutations)F=F.add(te.key)}for(const H of p){E.push(H.batchId);for(const te of H.mutations)F=F.add(te.key)}return t.localDocuments.getDocuments(i,F).next(H=>({er:H,removedBatchIds:_,addedBatchIds:E}))})})}),e1.apply(this,arguments)}function _E(n){const e=Wt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function hC(n,e){const t=Wt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function o_(n,e,t){return eg.apply(this,arguments)}function eg(){return eg=(0,de.Z)(function*(n,e,t){const i=Wt(n),c=i.Ji.get(e),p=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",p,_=>i.persistence.referenceDelegate.removeTarget(_,c)))}catch(_){if(!Zl(_))throw _;Ot("LocalStore",`Failed to update sequence numbers for target ${e}: ${_}`)}i.Ji=i.Ji.remove(e),i.Yi.delete(c.target)}),eg.apply(this,arguments)}function Wy(n,e,t){const i=Wt(n);let c=Sn.min(),p=Er();return i.persistence.runTransaction("Execute query","readonly",_=>function(E,F,H){const te=Wt(E),pe=te.Yi.get(H);return void 0!==pe?Ze.resolve(te.Ji.get(pe)):te.Bs.getTargetData(F,H)}(i,_,Oc(e)).next(E=>{if(E)return c=E.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(_,E.targetId).next(F=>{p=F})}).next(()=>i.Hi.getDocumentsMatchingQuery(_,e,t?c:Sn.min(),t?p:Er())).next(E=>(function Ww(n,e,t){let i=n.Xi.get(e)||Sn.min();t.forEach((c,p)=>{p.readTime.compareTo(i)>0&&(i=p.readTime)}),n.Xi.set(e,i)}(i,function vT(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),E),{documents:E,ir:p})))}class Zw{constructor(){this.activeTargetIds=function cw(){return FD}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wE{constructor(){this.Hr=new Zw,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,i){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Zw,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class dS{Yr(e){}shutdown(){}}class IE{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ot("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Ot("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Kw=null;function ng(){return null===Kw?Kw=268435456+Math.round(2147483648*Math.random()):Kw++,"0x"+Kw.toString(16)}const gC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mC{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const ac="WebChannelConnection";class s1 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,i,c,p){const _=ng(),E=this.To(e,t);Ot("RestConnection",`Sending RPC '${e}' ${_}:`,E,i);const F={};return this.Eo(F,c,p),this.Ao(e,E,F,i).then(H=>(Ot("RestConnection",`Received RPC '${e}' ${_}: `,H),H),H=>{throw Nc("RestConnection",`RPC '${e}' ${_} failed with error: `,H,"url: ",E,"request:",i),H})}vo(e,t,i,c,p,_){return this.Io(e,t,i,c,p)}Eo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Dd,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((c,p)=>e[p]=c),i&&i.headers.forEach((c,p)=>e[p]=c)}To(e,t){return`${this.mo}/v1/${t}:${gC[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,i,c){const p=ng();return new Promise((_,E)=>{const F=new uT;F.setWithCredentials(!0),F.listenOnce(Bb.COMPLETE,()=>{try{switch(F.getLastErrorCode()){case Lp.NO_ERROR:const te=F.getResponseJson();Ot(ac,`XHR for RPC '${e}' ${p} received:`,JSON.stringify(te)),_(te);break;case Lp.TIMEOUT:Ot(ac,`RPC '${e}' ${p} timed out`),E(new Ct(rt.DEADLINE_EXCEEDED,"Request time out"));break;case Lp.HTTP_ERROR:const pe=F.getStatus();if(Ot(ac,`RPC '${e}' ${p} failed with status:`,pe,"response text:",F.getResponseText()),pe>0){let Be=F.getResponseJson();Array.isArray(Be)&&(Be=Be[0]);const lt=Be?.error;if(lt&&lt.status&&lt.message){const Pt=function(sn){const cn=sn.toLowerCase().replace(/_/g,"-");return Object.values(rt).indexOf(cn)>=0?cn:rt.UNKNOWN}(lt.status);E(new Ct(Pt,lt.message))}else E(new Ct(rt.UNKNOWN,"Server responded with status "+F.getStatus()))}else E(new Ct(rt.UNAVAILABLE,"Connection failed."));break;default:hn()}}finally{Ot(ac,`RPC '${e}' ${p} completed.`)}});const H=JSON.stringify(c);Ot(ac,`RPC '${e}' ${p} sending request:`,c),F.send(t,"POST",H,i,15)})}Ro(e,t,i){const c=ng(),p=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],_=wf(),E=Lb(),F={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},H=this.longPollingOptions.timeoutSeconds;void 0!==H&&(F.longPollingTimeout=Math.round(1e3*H)),this.useFetchStreams&&(F.xmlHttpFactory=new by({})),this.Eo(F.initMessageHeaders,t,i),F.encodeInitMessageHeaders=!0;const te=p.join("");Ot(ac,`Creating RPC '${e}' stream ${c}: ${te}`,F);const pe=_.createWebChannel(te,F);let Be=!1,lt=!1;const Pt=new mC({ro:cn=>{lt?Ot(ac,`Not sending because RPC '${e}' stream ${c} is closed:`,cn):(Be||(Ot(ac,`Opening RPC '${e}' stream ${c} transport.`),pe.open(),Be=!0),Ot(ac,`RPC '${e}' stream ${c} sending:`,cn),pe.send(cn))},oo:()=>pe.close()}),sn=(cn,Dr,ii)=>{cn.listen(Dr,Pr=>{try{ii(Pr)}catch(Wo){setTimeout(()=>{throw Wo},0)}})};return sn(pe,If.EventType.OPEN,()=>{lt||Ot(ac,`RPC '${e}' stream ${c} transport opened.`)}),sn(pe,If.EventType.CLOSE,()=>{lt||(lt=!0,Ot(ac,`RPC '${e}' stream ${c} transport closed`),Pt.wo())}),sn(pe,If.EventType.ERROR,cn=>{lt||(lt=!0,Nc(ac,`RPC '${e}' stream ${c} transport errored:`,cn),Pt.wo(new Ct(rt.UNAVAILABLE,"The operation could not be completed")))}),sn(pe,If.EventType.MESSAGE,cn=>{var Dr;if(!lt){const ii=cn.data[0];In(!!ii);const Wo=ii.error||(null===(Dr=ii[0])||void 0===Dr?void 0:Dr.error);if(Wo){Ot(ac,`RPC '${e}' stream ${c} received error:`,Wo);const Co=Wo.status;let es=function(dg){const J1=zo[dg];if(void 0!==J1)return RT(J1)}(Co),kc=Wo.message;void 0===es&&(es=rt.INTERNAL,kc="Unknown error status: "+Co+" with message "+Wo.message),lt=!0,Pt.wo(new Ct(es,kc)),pe.close()}else Ot(ac,`RPC '${e}' stream ${c} received:`,ii),Pt._o(ii)}}),sn(E,Vb.STAT_EVENT,cn=>{cn.stat===Bp.PROXY?Ot(ac,`RPC '${e}' stream ${c} detected buffering proxy`):cn.stat===Bp.NOPROXY&&Ot(ac,`RPC '${e}' stream ${c} detected no buffering proxy`)}),setTimeout(()=>{Pt.fo()},0),Pt}}function o1(){return typeof document<"u"?document:null}function a_(n){return new lS(n,!0)}class c_{constructor(e,t,i=1e3,c=1.5,p=6e4){this.ii=e,this.timerId=t,this.Po=i,this.bo=c,this.Vo=p,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),c=Math.max(0,t-i);c>0&&Ot("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,c,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class TE{constructor(e,t,i,c,p,_,E,F){this.ii=e,this.$o=i,this.Oo=c,this.connection=p,this.authCredentialsProvider=_,this.appCheckCredentialsProvider=E,this.listener=F,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new c_(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,de.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,de.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var i=this;return(0,de.Z)(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==e?i.qo.reset():t&&t.code===rt.RESOURCE_EXHAUSTED?(Us(t.toString()),Us("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):t&&t.code===rt.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,c])=>{this.Fo===t&&this.Zo(i,c)},i=>{e(()=>{const c=new Ct(rt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(c)})})}Zo(e,t){const i=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(c=>{i(()=>this.tu(c))}),this.stream.onMessage(c=>{i(()=>this.onMessage(c))})}Go(){var e=this;this.state=5,this.qo.No((0,de.Z)(function*(){e.state=0,e.start()}))}tu(e){return Ot("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Ot("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _C extends TE{constructor(e,t,i,c,p,_){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,c,_),this.serializer=p}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function VT(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(F=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===F?1:"REMOVE"===F?2:"CURRENT"===F?3:"RESET"===F?4:hn(),c=e.targetChange.targetIds||[],p=function(F,H){return F.useProto3Json?(In(void 0===H||"string"==typeof H),Zn.fromBase64String(H||"")):(In(void 0===H||H instanceof Uint8Array),Zn.fromUint8Array(H||new Uint8Array))}(n,e.targetChange.resumeToken),_=e.targetChange.cause,E=_&&function(F){const H=void 0===F.code?rt.UNKNOWN:RT(F.code);return new Ct(H,F.message||"")}(_);t=new P0(i,c,p,E||null)}else if("documentChange"in e){const i=e.documentChange,c=kd(n,i.document.name),p=Eo(i.document.updateTime),_=i.document.createTime?Eo(i.document.createTime):Sn.min(),E=new Ha({mapValue:{fields:i.document.fields}}),F=us.newFoundDocument(c,p,_,E);t=new Fy(i.targetIds||[],i.removedTargetIds||[],F.key,F)}else if("documentDelete"in e){const i=e.documentDelete,c=kd(n,i.document),p=i.readTime?Eo(i.readTime):Sn.min(),_=us.newNoDocument(c,p);t=new Fy([],i.removedTargetIds||[],_.key,_)}else if("documentRemove"in e){const i=e.documentRemove,c=kd(n,i.document);t=new Fy([],i.removedTargetIds||[],c,null)}else{if(!("filter"in e))return hn();{const i=e.filter,{count:c=0,unchangedNames:p}=i,_=new UD(c,p);t=new Iw(i.targetId,_)}}var F;return t}(this.serializer,e),i=function(c){if(!("targetChange"in c))return Sn.min();const p=c.targetChange;return p.targetIds&&p.targetIds.length?Sn.min():p.readTime?Eo(p.readTime):Sn.min()}(e);return this.listener.nu(t,i)}su(e){const t={};t.database=Sa(this.serializer),t.addTarget=function(c,p){let _;const E=p.target;if(_=km(E)?{documents:HT(c,E)}:{query:Aw(c,E)},_.targetId=p.targetId,p.resumeToken.approximateByteSize()>0){_.resumeToken=HD(c,p.resumeToken);const F=k0(c,p.expectedCount);null!==F&&(_.expectedCount=F)}else if(p.snapshotVersion.compareTo(Sn.min())>0){_.readTime=Yp(c,p.snapshotVersion.toTimestamp());const F=k0(c,p.expectedCount);null!==F&&(_.expectedCount=F)}return _}(this.serializer,e);const i=function By(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return hn()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Wo(t)}iu(e){const t={};t.database=Sa(this.serializer),t.removeTarget=e,this.Wo(t)}}class EE extends TE{constructor(e,t,i,c,p,_){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,c,_),this.serializer=p,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(In(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function UT(n,e){return n&&n.length>0?(In(void 0!==e),n.map(t=>function(i,c){let p=Eo(i.updateTime?i.updateTime:c);return p.isEqual(Sn.min())&&(p=Eo(c)),new hw(p,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Eo(e.commitTime);return this.listener.cu(i,t)}return In(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Sa(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>function Zm(n,e){let t;if(e instanceof Zp)t={update:Cw(n,e.key,e.value)};else if(e instanceof Hm)t={delete:Pd(n,e.key)};else if(e instanceof Th)t={update:Cw(n,e.key,e.data),updateMask:WD(e.fieldMask)};else{if(!(e instanceof gw))return hn();t={verify:Pd(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(c,p){const _=p.transform;if(_ instanceof Bm)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(_ instanceof Rf)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:_.elements}};if(_ instanceof Rd)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:_.elements}};if(_ instanceof qp)return{fieldPath:p.field.canonicalString(),increment:_.gt};throw hn()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(c=e.precondition).updateTime?{updateTime:Wm(n,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:hn()),t;var c}(this.serializer,i))};this.Wo(t)}}class yC extends class{}{constructor(e,t,i,c){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=c,this.lu=!1}fu(){if(this.lu)throw new Ct(rt.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,p])=>this.connection.Io(e,t,i,c,p)).catch(c=>{throw"FirebaseError"===c.name?(c.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ct(rt.UNKNOWN,c.toString())})}vo(e,t,i,c){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,_])=>this.connection.vo(e,t,i,p,_,c)).catch(p=>{throw"FirebaseError"===p.name?(p.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new Ct(rt.UNKNOWN,p.toString())})}terminate(){this.lu=!0}}class c1{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Us(t),this.mu=!1):Ot("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class bC{constructor(e,t,i,c,p){var _=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=p,this.Pu.Yr(E=>{i.enqueueAndForget((0,de.Z)(function*(){var F;Fd(_)&&(Ot("RemoteStore","Restarting streams for network reachability change."),yield(F=(0,de.Z)(function*(H){const te=Wt(H);te.vu.add(4),yield rg(te),te.bu.set("Unknown"),te.vu.delete(4),yield Ky(te)}),function(H){return F.apply(this,arguments)})(_))}))}),this.bu=new c1(i,c)}}function Ky(n){return l1.apply(this,arguments)}function l1(){return l1=(0,de.Z)(function*(n){if(Fd(n))for(const e of n.Ru)yield e(!0)}),l1.apply(this,arguments)}function rg(n){return Yy.apply(this,arguments)}function Yy(){return Yy=(0,de.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),Yy.apply(this,arguments)}function Qy(n,e){const t=Wt(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),Xw(t)?Jw(t):tv(t).Ko()&&u1(t,e))}function Jy(n,e){const t=Wt(n),i=tv(t);t.Au.delete(e),i.Ko()&&Qw(t,e),0===t.Au.size&&(i.Ko()?i.jo():Fd(t)&&t.bu.set("Unknown"))}function u1(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Sn.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}tv(n).su(e)}function Qw(n,e){n.Vu.qt(e),tv(n).iu(e)}function Jw(n){n.Vu=new Kp({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),tv(n).start(),n.bu.gu()}function Xw(n){return Fd(n)&&!tv(n).Uo()&&n.Au.size>0}function Fd(n){return 0===Wt(n).vu.size}function d1(n){n.Vu=void 0}function DE(n){return Xy.apply(this,arguments)}function Xy(){return Xy=(0,de.Z)(function*(n){n.Au.forEach((e,t)=>{u1(n,e)})}),Xy.apply(this,arguments)}function eI(n,e){return tI.apply(this,arguments)}function tI(){return tI=(0,de.Z)(function*(n,e){d1(n),Xw(n)?(n.bu.Iu(e),Jw(n)):n.bu.set("Unknown")}),tI.apply(this,arguments)}function wC(n,e,t){return nI.apply(this,arguments)}function nI(){return nI=(0,de.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof P0&&2===e.state&&e.cause)try{yield(i=(0,de.Z)(function*(c,p){const _=p.cause;for(const E of p.targetIds)c.Au.has(E)&&(yield c.remoteSyncer.rejectListen(E,_),c.Au.delete(E),c.Vu.removeTarget(E))}),function(c,p){return i.apply(this,arguments)})(n,e)}catch(i){Ot("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield h1(n,i)}else if(e instanceof Fy?n.Vu.Ht(e):e instanceof Iw?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(Sn.min()))try{const i=yield _E(n.localStore);t.compareTo(i)>=0&&(yield function(c,p){const _=c.Vu.ce(p);return _.targetChanges.forEach((E,F)=>{if(E.resumeToken.approximateByteSize()>0){const H=c.Au.get(F);H&&c.Au.set(F,H.withResumeToken(E.resumeToken,p))}}),_.targetMismatches.forEach((E,F)=>{const H=c.Au.get(E);if(!H)return;c.Au.set(E,H.withResumeToken(Zn.EMPTY_BYTE_STRING,H.snapshotVersion)),Qw(c,E);const te=new Cl(H.target,E,F,H.sequenceNumber);u1(c,te)}),c.remoteSyncer.applyRemoteEvent(_)}(n,t))}catch(i){Ot("RemoteStore","Failed to raise snapshot:",i),yield h1(n,i)}var i}),nI.apply(this,arguments)}function h1(n,e,t){return f1.apply(this,arguments)}function f1(){return f1=(0,de.Z)(function*(n,e,t){if(!Zl(e))throw e;n.vu.add(1),yield rg(n),n.bu.set("Offline"),t||(t=()=>_E(n.localStore)),n.asyncQueue.enqueueRetryable((0,de.Z)(function*(){Ot("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield Ky(n)}))}),f1.apply(this,arguments)}function p1(n,e){return e().catch(t=>h1(n,t,e))}function ig(n){return g1.apply(this,arguments)}function g1(){return g1=(0,de.Z)(function*(n){const e=Wt(n),t=sg(e);let i=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;CE(e);)try{const c=yield hC(e.localStore,i);if(null===c){0===e.Eu.length&&t.jo();break}i=c.batchId,SE(e,c)}catch(c){yield h1(e,c)}AE(e)&&rI(e)}),g1.apply(this,arguments)}function CE(n){return Fd(n)&&n.Eu.length<10}function SE(n,e){n.Eu.push(e);const t=sg(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function AE(n){return Fd(n)&&!sg(n).Uo()&&n.Eu.length>0}function rI(n){sg(n).start()}function NE(n){return iI.apply(this,arguments)}function iI(){return iI=(0,de.Z)(function*(n){sg(n).hu()}),iI.apply(this,arguments)}function OE(n){return m1.apply(this,arguments)}function m1(){return m1=(0,de.Z)(function*(n){const e=sg(n);for(const t of n.Eu)e.uu(t.mutations)}),m1.apply(this,arguments)}function Rc(n,e,t){return Uf.apply(this,arguments)}function Uf(){return Uf=(0,de.Z)(function*(n,e,t){const i=n.Eu.shift(),c=_w.from(i,e,t);yield p1(n,()=>n.remoteSyncer.applySuccessfulWrite(c)),yield ig(n)}),Uf.apply(this,arguments)}function IC(n,e){return sI.apply(this,arguments)}function sI(){return sI=(0,de.Z)(function*(n,e){var t;e&&sg(n).ou&&(yield(t=(0,de.Z)(function*(i,c){if(function xT(n){switch(n){default:return hn();case rt.CANCELLED:case rt.UNKNOWN:case rt.DEADLINE_EXCEEDED:case rt.RESOURCE_EXHAUSTED:case rt.INTERNAL:case rt.UNAVAILABLE:case rt.UNAUTHENTICATED:return!1;case rt.INVALID_ARGUMENT:case rt.NOT_FOUND:case rt.ALREADY_EXISTS:case rt.PERMISSION_DENIED:case rt.FAILED_PRECONDITION:case rt.ABORTED:case rt.OUT_OF_RANGE:case rt.UNIMPLEMENTED:case rt.DATA_LOSS:return!0}}(p=c.code)&&p!==rt.ABORTED){const _=i.Eu.shift();sg(i).Qo(),yield p1(i,()=>i.remoteSyncer.rejectFailedWrite(_.batchId,c)),yield ig(i)}var p}),function(i,c){return t.apply(this,arguments)})(n,e)),AE(n)&&rI(n)}),sI.apply(this,arguments)}function TC(n,e){return ME.apply(this,arguments)}function ME(){return ME=(0,de.Z)(function*(n,e){const t=Wt(n);t.asyncQueue.verifyOperationInProgress(),Ot("RemoteStore","RemoteStore received new credentials");const i=Fd(t);t.vu.add(3),yield rg(t),i&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Ky(t)}),ME.apply(this,arguments)}function ev(){return ev=(0,de.Z)(function*(n,e){const t=Wt(n);e?(t.vu.delete(2),yield Ky(t)):e||(t.vu.add(2),yield rg(t),t.bu.set("Unknown"))}),ev.apply(this,arguments)}function tv(n){return n.Su||(n.Su=function(e,t,i){const c=Wt(e);return c.fu(),new _C(t,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,i)}(n.datastore,n.asyncQueue,{uo:DE.bind(null,n),ao:eI.bind(null,n),nu:wC.bind(null,n)}),n.Ru.push(function(){var e=(0,de.Z)(function*(t){t?(n.Su.Qo(),Xw(n)?Jw(n):n.bu.set("Unknown")):(yield n.Su.stop(),d1(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function sg(n){return n.Du||(n.Du=function(e,t,i){const c=Wt(e);return c.fu(),new EE(t,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,i)}(n.datastore,n.asyncQueue,{uo:NE.bind(null,n),ao:IC.bind(null,n),au:OE.bind(null,n),cu:Rc.bind(null,n)}),n.Ru.push(function(){var e=(0,de.Z)(function*(t){t?(n.Du.Qo(),yield ig(n)):(yield n.Du.stop(),n.Eu.length>0&&(Ot("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class xE{constructor(e,t,i,c,p){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=c,this.removalCallback=p,this.deferred=new to,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(_=>{})}static createAndSchedule(e,t,i,c,p){const _=Date.now()+i,E=new xE(e,t,_,c,p);return E.start(i),E}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ct(rt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ld(n,e){if(Us("AsyncQueue",`${e}: ${n}`),Zl(n))return new Ct(rt.UNAVAILABLE,`${e}: ${n}`);throw n}class l_{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Xt.comparator(t.key,i.key):(t,i)=>Xt.comparator(t.key,i.key),this.keyedMap=rl(),this.sortedSet=new qr(this.comparator)}static emptySet(e){return new l_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof l_)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const c=t.getNext().key,p=i.getNext().key;if(!c.isEqual(p))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new l_;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class y1{constructor(){this.Cu=new qr(Xt.comparator)}track(e){const t=e.doc.key,i=this.Cu.get(t);i?0!==e.type&&3===i.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==i.type?this.Cu=this.Cu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Cu=this.Cu.remove(t):1===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):hn():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,i)=>{e.push(i)}),e}}class u_{constructor(e,t,i,c,p,_,E,F,H){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=c,this.mutatedKeys=p,this.fromCache=_,this.syncStateChanged=E,this.excludesMetadataChanges=F,this.hasCachedResults=H}static fromInitialDocuments(e,t,i,c,p){const _=[];return t.forEach(E=>{_.push({type:0,doc:E})}),new u_(e,t,l_.emptySet(t),_,i,c,!0,!1,p)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let c=0;c<t.length;c++)if(t[c].type!==i[c].type||!t[c].doc.isEqual(i[c].doc))return!1;return!0}}class RE{constructor(){this.Nu=void 0,this.listeners=[]}}class EC{constructor(){this.queries=new xd(e=>ow(e),Lm),this.onlineState="Unknown",this.ku=new Set}}function oI(n,e){return aI.apply(this,arguments)}function aI(){return aI=(0,de.Z)(function*(n,e){const t=Wt(n),i=e.query;let c=!1,p=t.queries.get(i);if(p||(c=!0,p=new RE),c)try{p.Nu=yield t.onListen(i)}catch(_){const E=Ld(_,`Initialization of query '${Mf(e.query)}' failed`);return void e.onError(E)}t.queries.set(i,p),p.listeners.push(e),e.Mu(t.onlineState),p.Nu&&e.$u(p.Nu)&&rv(t)}),aI.apply(this,arguments)}function nv(n,e){return v1.apply(this,arguments)}function v1(){return v1=(0,de.Z)(function*(n,e){const t=Wt(n),i=e.query;let c=!1;const p=t.queries.get(i);if(p){const _=p.listeners.indexOf(e);_>=0&&(p.listeners.splice(_,1),c=0===p.listeners.length)}if(c)return t.queries.delete(i),t.onUnlisten(i)}),v1.apply(this,arguments)}function DC(n,e){const t=Wt(n);let i=!1;for(const c of e){const _=t.queries.get(c.query);if(_){for(const E of _.listeners)E.$u(c)&&(i=!0);_.Nu=c}}i&&rv(t)}function b1(n,e,t){const i=Wt(n),c=i.queries.get(e);if(c)for(const p of c.listeners)p.onError(t);i.queries.delete(e)}function rv(n){n.ku.forEach(e=>{e.next()})}class PE{constructor(e,t,i){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(e){if(!this.options.includeMetadataChanges){const i=[];for(const c of e.docChanges)3!==c.type&&i.push(c);e=new u_(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=u_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class BE{constructor(e){this.key=e}}class cI{constructor(e){this.key=e}}class w1{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Er(),this.mutatedKeys=Er(),this.tc=aw(e),this.ec=new l_(this.tc)}get nc(){return this.Yu}sc(e,t){const i=t?t.ic:new y1,c=t?t.ec:this.ec;let p=t?t.mutatedKeys:this.mutatedKeys,_=c,E=!1;const F="F"===this.query.limitType&&c.size===this.query.limit?c.last():null,H="L"===this.query.limitType&&c.size===this.query.limit?c.first():null;if(e.inorderTraversal((te,pe)=>{const Be=c.get(te),lt=Ry(this.query,pe)?pe:null,Pt=!!Be&&this.mutatedKeys.has(Be.key),sn=!!lt&&(lt.hasLocalMutations||this.mutatedKeys.has(lt.key)&&lt.hasCommittedMutations);let cn=!1;Be&&lt?Be.data.isEqual(lt.data)?Pt!==sn&&(i.track({type:3,doc:lt}),cn=!0):this.rc(Be,lt)||(i.track({type:2,doc:lt}),cn=!0,(F&&this.tc(lt,F)>0||H&&this.tc(lt,H)<0)&&(E=!0)):!Be&&lt?(i.track({type:0,doc:lt}),cn=!0):Be&&!lt&&(i.track({type:1,doc:Be}),cn=!0,(F||H)&&(E=!0)),cn&&(lt?(_=_.add(lt),p=sn?p.add(te):p.delete(te)):(_=_.delete(te),p=p.delete(te)))}),null!==this.query.limit)for(;_.size>this.query.limit;){const te="F"===this.query.limitType?_.last():_.first();_=_.delete(te.key),p=p.delete(te.key),i.track({type:1,doc:te})}return{ec:_,ic:i,zi:E,mutatedKeys:p}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const c=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const p=e.ic.xu();p.sort((H,te)=>function(pe,Be){const lt=Pt=>{switch(Pt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return hn()}};return lt(pe)-lt(Be)}(H.type,te.type)||this.tc(H.doc,te.doc)),this.oc(i);const _=t?this.uc():[],E=0===this.Zu.size&&this.current?1:0,F=E!==this.Xu;return this.Xu=E,0!==p.length||F?{snapshot:new u_(this.query,e.ec,c,p,e.mutatedKeys,0===E,F,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:_}:{cc:_}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new y1,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Er(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const t=[];return e.forEach(i=>{this.Zu.has(i)||t.push(new cI(i))}),this.Zu.forEach(i=>{e.has(i)||t.push(new BE(i))}),t}hc(e){this.Yu=e.ir,this.Zu=Er();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return u_.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class hS{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class CC{constructor(e){this.key=e,this.fc=!1}}class fS{constructor(e,t,i,c,p,_){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=c,this.currentUser=p,this.maxConcurrentLimboResolutions=_,this.dc={},this.wc=new xd(E=>ow(E),Lm),this._c=new Map,this.mc=new Set,this.gc=new qr(Xt.comparator),this.yc=new Map,this.Ic=new Z0,this.Tc={},this.Ec=new Map,this.Ac=Bf.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function SC(n,e){return lI.apply(this,arguments)}function lI(){return lI=(0,de.Z)(function*(n,e){const t=function bI(n){const e=Wt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=HE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AC.bind(null,e),e.dc.nu=DC.bind(null,e.eventManager),e.dc.Pc=b1.bind(null,e.eventManager),e}(n);let i,c;const p=t.wc.get(e);if(p)i=p.targetId,t.sharedClientState.addLocalQueryTarget(i),c=p.view.lc();else{const _=yield function s_(n,e){const t=Wt(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let c;return t.Bs.getTargetData(i,e).next(p=>p?(c=p,Ze.resolve(c)):t.Bs.allocateTargetId(i).next(_=>(c=new Cl(e,_,"TargetPurposeListen",i.currentSequenceNumber),t.Bs.addTargetData(i,c).next(()=>c))))}).then(i=>{const c=t.Ji.get(i.targetId);return(null===c||i.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(i.targetId,i),t.Yi.set(e,i.targetId)),i})}(t.localStore,Oc(e)),E=t.sharedClientState.addLocalQueryTarget(_.targetId);i=_.targetId,c=yield function uI(n,e,t,i,c){return I1.apply(this,arguments)}(t,e,i,"current"===E,_.resumeToken),t.isPrimaryClient&&Qy(t.remoteStore,_)}return c}),lI.apply(this,arguments)}function I1(){return I1=(0,de.Z)(function*(n,e,t,i,c){n.Rc=(pe,Be,lt)=>{return(Pt=(0,de.Z)(function*(sn,cn,Dr,ii){let Pr=cn.view.sc(Dr);Pr.zi&&(Pr=yield Wy(sn.localStore,cn.query,!1).then(({documents:es})=>cn.view.sc(es,Pr)));const Wo=ii&&ii.targetChanges.get(cn.targetId),Co=cn.view.applyChanges(Pr,sn.isPrimaryClient,Wo);return WE(sn,cn.targetId,Co.cc),Co.snapshot}),function(sn,cn,Dr,ii){return Pt.apply(this,arguments)})(n,pe,Be,lt);var Pt};const p=yield Wy(n.localStore,e,!0),_=new w1(e,p.ir),E=_.sc(p.documents),F=$m.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,c),H=_.applyChanges(E,n.isPrimaryClient,F);WE(n,t,H.cc);const te=new hS(e,t,_);return n.wc.set(e,te),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),H.snapshot}),I1.apply(this,arguments)}function VE(n,e){return dI.apply(this,arguments)}function dI(){return dI=(0,de.Z)(function*(n,e){const t=Wt(n),i=t.wc.get(e),c=t._c.get(i.targetId);if(c.length>1)return t._c.set(i.targetId,c.filter(p=>!Lm(p,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield o_(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),Jy(t.remoteStore,i.targetId),iv(t,i.targetId)}).catch(Cd))):(iv(t,i.targetId),yield o_(t.localStore,i.targetId,!0))}),dI.apply(this,arguments)}function T1(){return T1=(0,de.Z)(function*(n,e,t){const i=function wI(n){const e=Wt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=GE.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jE.bind(null,e),e}(n);try{const c=yield function(p,_){const E=Wt(p),F=cs.now(),H=_.reduce((Be,lt)=>Be.add(lt.key),Er());let te,pe;return E.persistence.runTransaction("Locally write mutations","readwrite",Be=>{let lt=Mc(),Pt=Er();return E.Zi.getEntries(Be,H).next(sn=>{lt=sn,lt.forEach((cn,Dr)=>{Dr.isValidDocument()||(Pt=Pt.add(cn))})}).next(()=>E.localDocuments.getOverlayedDocuments(Be,lt)).next(sn=>{te=sn;const cn=[];for(const Dr of _){const ii=AT(Dr,te.get(Dr.key).overlayedDocument);null!=ii&&cn.push(new Th(Dr.key,ii,fT(ii.value.mapValue),Xi.exists(!0)))}return E.mutationQueue.addMutationBatch(Be,F,cn,_)}).next(sn=>{pe=sn;const cn=sn.applyToLocalDocumentSet(te,Pt);return E.documentOverlayCache.saveOverlays(Be,sn.batchId,cn)})}).then(()=>({batchId:pe.batchId,changes:bT(te)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(c.batchId),function(p,_,E){let F=p.Tc[p.currentUser.toKey()];F||(F=new qr(qn)),F=F.insert(_,E),p.Tc[p.currentUser.toKey()]=F}(i,c.batchId,t),yield Hf(i,c.changes),yield ig(i.remoteStore)}catch(c){const p=Ld(c,"Failed to persist write");t.reject(p)}}),T1.apply(this,arguments)}function HE(n,e){return hI.apply(this,arguments)}function hI(){return hI=(0,de.Z)(function*(n,e){const t=Wt(n);try{const i=yield function dC(n,e){const t=Wt(n),i=e.snapshotVersion;let c=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",p=>{const _=t.Zi.newChangeBuffer({trackRemovals:!0});c=t.Ji;const E=[];e.targetChanges.forEach((te,pe)=>{const Be=c.get(pe);if(!Be)return;E.push(t.Bs.removeMatchingKeys(p,te.removedDocuments,pe).next(()=>t.Bs.addMatchingKeys(p,te.addedDocuments,pe)));let lt=Be.withSequenceNumber(p.currentSequenceNumber);var Pt,sn,cn;null!==e.targetMismatches.get(pe)?lt=lt.withResumeToken(Zn.EMPTY_BYTE_STRING,Sn.min()).withLastLimboFreeSnapshotVersion(Sn.min()):te.resumeToken.approximateByteSize()>0&&(lt=lt.withResumeToken(te.resumeToken,i)),c=c.insert(pe,lt),sn=lt,cn=te,(0===(Pt=Be).resumeToken.approximateByteSize()||sn.snapshotVersion.toMicroseconds()-Pt.snapshotVersion.toMicroseconds()>=3e8||cn.addedDocuments.size+cn.modifiedDocuments.size+cn.removedDocuments.size>0)&&E.push(t.Bs.updateTargetData(p,lt))});let F=Mc(),H=Er();if(e.documentUpdates.forEach(te=>{e.resolvedLimboDocuments.has(te)&&E.push(t.persistence.referenceDelegate.updateLimboDocument(p,te))}),E.push(function yE(n,e,t){let i=Er(),c=Er();return t.forEach(p=>i=i.add(p)),e.getEntries(n,i).next(p=>{let _=Mc();return t.forEach((E,F)=>{const H=p.get(E);F.isFoundDocument()!==H.isFoundDocument()&&(c=c.add(E)),F.isNoDocument()&&F.version.isEqual(Sn.min())?(e.removeEntry(E,F.readTime),_=_.insert(E,F)):!H.isValidDocument()||F.version.compareTo(H.version)>0||0===F.version.compareTo(H.version)&&H.hasPendingWrites?(e.addEntry(F),_=_.insert(E,F)):Ot("LocalStore","Ignoring outdated watch update for ",E,". Current version:",H.version," Watch version:",F.version)}),{nr:_,sr:c}})}(p,_,e.documentUpdates).next(te=>{F=te.nr,H=te.sr})),!i.isEqual(Sn.min())){const te=t.Bs.getLastRemoteSnapshotVersion(p).next(pe=>t.Bs.setTargetsMetadata(p,p.currentSequenceNumber,i));E.push(te)}return Ze.waitFor(E).next(()=>_.apply(p)).next(()=>t.localDocuments.getLocalViewOfDocuments(p,F,H)).next(()=>F)}).then(p=>(t.Ji=c,p))}(t.localStore,e);e.targetChanges.forEach((c,p)=>{const _=t.yc.get(p);_&&(In(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?_.fc=!0:c.modifiedDocuments.size>0?In(_.fc):c.removedDocuments.size>0&&(In(_.fc),_.fc=!1))}),yield Hf(t,i,e)}catch(i){yield Cd(i)}}),hI.apply(this,arguments)}function fI(n,e,t){const i=Wt(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const c=[];i.wc.forEach((p,_)=>{const E=_.view.Mu(e);E.snapshot&&c.push(E.snapshot)}),function(p,_){const E=Wt(p);E.onlineState=_;let F=!1;E.queries.forEach((H,te)=>{for(const pe of te.listeners)pe.Mu(_)&&(F=!0)}),F&&rv(E)}(i.eventManager,e),c.length&&i.dc.nu(c),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function AC(n,e,t){return E1.apply(this,arguments)}function E1(){return E1=(0,de.Z)(function*(n,e,t){const i=Wt(n);i.sharedClientState.updateQueryState(e,"rejected",t);const c=i.yc.get(e),p=c&&c.key;if(p){let _=new qr(Xt.comparator);_=_.insert(p,us.newNoDocument(p,Sn.min()));const E=Er().add(p),F=new jm(Sn.min(),new Map,new qr(qn),_,E);yield HE(i,F),i.gc=i.gc.remove(p),i.yc.delete(e),qE(i)}else yield o_(i.localStore,e,!1).then(()=>iv(i,e,t)).catch(Cd)}),E1.apply(this,arguments)}function GE(n,e){return D1.apply(this,arguments)}function D1(){return D1=(0,de.Z)(function*(n,e){const t=Wt(n),i=e.batch.batchId;try{const c=yield function mE(n,e){const t=Wt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const c=e.batch.keys(),p=t.Zi.newChangeBuffer({trackRemovals:!0});return function(_,E,F,H){const te=F.batch,pe=te.keys();let Be=Ze.resolve();return pe.forEach(lt=>{Be=Be.next(()=>H.getEntry(E,lt)).next(Pt=>{const sn=F.docVersions.get(lt);In(null!==sn),Pt.version.compareTo(sn)<0&&(te.applyToRemoteDocument(Pt,F),Pt.isValidDocument()&&(Pt.setReadTime(F.commitVersion),H.addEntry(Pt)))})}),Be.next(()=>_.mutationQueue.removeMutationBatch(E,te))}(t,i,e,p).next(()=>p.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,c,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(_){let E=Er();for(let F=0;F<_.mutationResults.length;++F)_.mutationResults[F].transformResults.length>0&&(E=E.add(_.batch.mutations[F].key));return E}(e))).next(()=>t.localDocuments.getDocuments(i,c))})}(t.localStore,e);zE(t,i,null),C1(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Hf(t,c)}catch(c){yield Cd(c)}}),D1.apply(this,arguments)}function jE(n,e,t){return pI.apply(this,arguments)}function pI(){return pI=(0,de.Z)(function*(n,e,t){const i=Wt(n);try{const c=yield function(p,_){const E=Wt(p);return E.persistence.runTransaction("Reject batch","readwrite-primary",F=>{let H;return E.mutationQueue.lookupMutationBatch(F,_).next(te=>(In(null!==te),H=te.keys(),E.mutationQueue.removeMutationBatch(F,te))).next(()=>E.mutationQueue.performConsistencyCheck(F)).next(()=>E.documentOverlayCache.removeOverlaysForBatchId(F,H,_)).next(()=>E.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(F,H)).next(()=>E.localDocuments.getDocuments(F,H))})}(i.localStore,e);zE(i,e,t),C1(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Hf(i,c)}catch(c){yield Cd(c)}}),pI.apply(this,arguments)}function C1(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function zE(n,e,t){const i=Wt(n);let c=i.Tc[i.currentUser.toKey()];if(c){const p=c.get(e);p&&(t?p.reject(t):p.resolve(),c=c.remove(e)),i.Tc[i.currentUser.toKey()]=c}}function iv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n._c.get(e))n.wc.delete(i),t&&n.dc.Pc(i,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(i=>{n.Ic.containsKey(i)||OC(n,i)})}function OC(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(Jy(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),qE(n))}function WE(n,e,t){for(const i of t)i instanceof BE?(n.Ic.addReference(i.key,e),pS(n,i)):i instanceof cI?(Ot("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,e),n.Ic.containsKey(i.key)||OC(n,i.key)):hn()}function pS(n,e){const t=e.key,i=t.path.canonicalString();n.gc.get(t)||n.mc.has(i)||(Ot("SyncEngine","New document in limbo: "+t),n.mc.add(i),qE(n))}function qE(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new Xt(ar.fromString(e)),i=n.Ac.next();n.yc.set(i,new CC(t)),n.gc=n.gc.insert(t,i),Qy(n.remoteStore,new Cl(Oc(Fm(t.path)),i,"TargetPurposeLimboResolution",ls.ct))}}function Hf(n,e,t){return ZE.apply(this,arguments)}function ZE(){return ZE=(0,de.Z)(function*(n,e,t){const i=Wt(n),c=[],p=[],_=[];var E;i.wc.isEmpty()||(i.wc.forEach((E,F)=>{_.push(i.Rc(F,e,t).then(H=>{if((H||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(F.targetId,H?.fromCache?"not-current":"current"),H){c.push(H);const te=fE.Li(F.targetId,H);p.push(te)}}))}),yield Promise.all(_),i.dc.nu(c),yield(E=(0,de.Z)(function*(F,H){const te=Wt(F);try{yield te.persistence.runTransaction("notifyLocalViewChanges","readwrite",pe=>Ze.forEach(H,Be=>Ze.forEach(Be.Fi,lt=>te.persistence.referenceDelegate.addReference(pe,Be.targetId,lt)).next(()=>Ze.forEach(Be.Bi,lt=>te.persistence.referenceDelegate.removeReference(pe,Be.targetId,lt)))))}catch(pe){if(!Zl(pe))throw pe;Ot("LocalStore","Failed to update sequence numbers: "+pe)}for(const pe of H){const Be=pe.targetId;if(!pe.fromCache){const lt=te.Ji.get(Be),sn=lt.withLastLimboFreeSnapshotVersion(lt.snapshotVersion);te.Ji=te.Ji.insert(Be,sn)}}}),function(F,H){return E.apply(this,arguments)})(i.localStore,p))}),ZE.apply(this,arguments)}function gS(n,e){return S1.apply(this,arguments)}function S1(){return S1=(0,de.Z)(function*(n,e){const t=Wt(n);if(!t.currentUser.isEqual(e)){Ot("SyncEngine","User change. New user:",e.toKey());const i=yield jw(t.localStore,e);t.currentUser=e,(c=t).Ec.forEach(_=>{_.forEach(E=>{E.reject(new Ct(rt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.Ec.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Hf(t,i.er)}var c}),S1.apply(this,arguments)}function gI(n,e){const t=Wt(n),i=t.yc.get(e);if(i&&i.fc)return Er().add(i.key);{let c=Er();const p=t._c.get(e);if(!p)return c;for(const _ of p){const E=t.wc.get(_);c=c.unionWith(E.view.nc)}return c}}class M1{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,de.Z)(function*(){t.serializer=a_(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function gE(n,e,t,i){return new uC(n,e,t,i)}(this.persistence,new pE,e.initialUser,this.serializer)}createPersistence(e){return new K0(Y0.zs,this.serializer)}createSharedClientState(e){return new wE}terminate(){var e=this;return(0,de.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class d_{initialize(e,t){var i=this;return(0,de.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=c=>fI(i.syncEngine,c,1),i.remoteStore.remoteSyncer.handleCredentialChange=gS.bind(null,i.syncEngine),yield function _1(n,e){return ev.apply(this,arguments)}(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new EC}createDatastore(e){const t=a_(e.databaseInfo.databaseId),i=new s1(e.databaseInfo);return new yC(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,c=e.asyncQueue,p=E=>fI(this.syncEngine,E,0),_=IE.D()?new IE:new dS,new bC(t,i,c,p,_);var t,i,c,p,_}createSyncEngine(e,t){return function(i,c,p,_,E,F,H){const te=new fS(i,c,p,_,E,F);return H&&(te.vc=!0),te}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,de.Z)(function*(t){const i=Wt(t);Ot("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield rg(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class R1{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Us("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class BC{constructor(e,t,i,c){var p=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=c,this.user=$o.UNAUTHENTICATED,this.clientId=g0.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var _=(0,de.Z)(function*(E){Ot("FirestoreClient","Received user=",E.uid),yield p.authCredentialListener(E),p.user=E});return function(E){return _.apply(this,arguments)}}()),this.appCheckCredentials.start(i,_=>(Ot("FirestoreClient","Received new app check token=",_),this.appCheckCredentialListener(_,this.user)))}getConfiguration(){var e=this;return(0,de.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ct(rt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new to;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,de.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const c=Ld(i,"Failed to shutdown persistence");t.reject(c)}})),t.promise}}function P1(n,e){return II.apply(this,arguments)}function II(){return II=(0,de.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ot("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var c=(0,de.Z)(function*(p){i.isEqual(p)||(yield jw(e.localStore,p),i=p)});return function(p){return c.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),II.apply(this,arguments)}function TI(n,e){return k1.apply(this,arguments)}function k1(){return k1=(0,de.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function EI(n){return DI.apply(this,arguments)}(n);Ot("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(c=>TC(e.remoteStore,c)),n.setAppCheckTokenChangeListener((c,p)=>TC(e.remoteStore,p)),n._onlineComponents=e}),k1.apply(this,arguments)}function DI(){return DI=(0,de.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ot("FirestoreClient","Using user provided OfflineComponentProvider");try{yield P1(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function F1(n){return"FirebaseError"===n.name?n.code===rt.FAILED_PRECONDITION||n.code===rt.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;Nc("Error using user provided cache. Falling back to memory cache: "+t),yield P1(n,new M1)}}else Ot("FirestoreClient","Using default OfflineComponentProvider"),yield P1(n,new M1);return n._offlineComponents}),DI.apply(this,arguments)}function sv(n){return L1.apply(this,arguments)}function L1(){return L1=(0,de.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ot("FirestoreClient","Using user provided OnlineComponentProvider"),yield TI(n,n._uninitializedComponentsProvider._online)):(Ot("FirestoreClient","Using default OnlineComponentProvider"),yield TI(n,new d_))),n._onlineComponents}),L1.apply(this,arguments)}function cg(n){return SI.apply(this,arguments)}function SI(){return SI=(0,de.Z)(function*(n){const e=yield sv(n),t=e.eventManager;return t.onListen=SC.bind(null,e.syncEngine),t.onUnlisten=VE.bind(null,e.syncEngine),t}),SI.apply(this,arguments)}function sD(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const oD=new Map;function U1(n,e,t){if(!t)throw new Ct(rt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function OI(n){if(!Xt.isDocumentKey(n))throw new Ct(rt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function aD(n){if(Xt.isDocumentKey(n))throw new Ct(rt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ov(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":hn()}function ai(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ct(rt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ov(n);throw new Ct(rt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class MI{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new Ct(rt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ct(rt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function vS(n,e,t,i){if(!0===e&&!0===i)throw new Ct(rt.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=sD(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(c){if(void 0!==c.timeoutSeconds){if(isNaN(c.timeoutSeconds))throw new Ct(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new Ct(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new Ct(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class h_{constructor(e,t,i,c){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=c,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new MI({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ct(rt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ct(rt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new MI(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new f0;switch(t.type){case"firstParty":return new Pu(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ct(rt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=oD.get(e);t&&(Ot("ComponentProvider","Removing Datastore"),oD.delete(e),t.terminate())}(this),Promise.resolve()}}class io{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new io(this.firestore,e,this._key)}}class Na{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Na(this.firestore,e,this._query)}}class Pc extends Na{constructor(e,t,i){super(e,t,Fm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new io(this.firestore,null,new Xt(e))}withConverter(e){return new Pc(this.firestore,e,this._path)}}function G1(n,e,...t){if(n=(0,fe.m9)(n),U1("collection","path",e),n instanceof h_){const i=ar.fromString(e,...t);return aD(i),new Pc(n,null,i)}{if(!(n instanceof io||n instanceof Pc))throw new Ct(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ar.fromString(e,...t));return aD(i),new Pc(n.firestore,null,i)}}function xI(n,e,...t){if(n=(0,fe.m9)(n),1===arguments.length&&(e=g0.A()),U1("doc","path",e),n instanceof h_){const i=ar.fromString(e,...t);return OI(i),new io(n,null,new Xt(i))}{if(!(n instanceof io||n instanceof Pc))throw new Ct(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ar.fromString(e,...t));return OI(i),new io(n.firestore,n instanceof Pc?n.converter:null,new Xt(i))}}class wS{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new c_(this,"async_queue_retry"),this.Xc=()=>{const t=o1();t&&Ot("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=o1();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=o1();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new to;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,de.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Zl(t))throw t;Ot("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(i=>{throw this.Wc=i,this.Hc=!1,Us("INTERNAL UNHANDLED ERROR: ",function(p){let _=p.message||"";return p.stack&&(_=p.stack.includes(p.message)?p.stack:p.message+"\n"+p.stack),_}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=t,t}enqueueAfterDelay(e,t,i){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const c=xE.createAndSchedule(this,e,t,i,p=>this.na(p));return this.zc.push(c),c}Zc(){this.Wc&&hn()}verifyOperationInProgress(){}sa(){var e=this;return(0,de.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class xs extends h_{constructor(e,t,i,c){super(e,t,i,c),this.type="firestore",this._queue=new wS,this._persistenceKey=c?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||lD(this),this._firestoreClient.terminate()}}function IS(n,e){const t="object"==typeof n?n:(0,Oe.Mq)(),i="string"==typeof n?n:e||"(default)",c=(0,Oe.qX)(t,"firestore").getImmediate({identifier:i});if(!c._initialized){const p=(0,fe.P0)("firestore");p&&function GC(n,e,t,i={}){var c;const p=(n=ai(n,h_))._getSettings(),_=`${e}:${t}`;if("firestore.googleapis.com"!==p.host&&p.host!==_&&Nc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},p),{host:_,ssl:!1})),i.mockUserToken){let E,F;if("string"==typeof i.mockUserToken)E=i.mockUserToken,F=$o.MOCK_USER;else{E=(0,fe.Sg)(i.mockUserToken,null===(c=n._app)||void 0===c?void 0:c.options.projectId);const H=i.mockUserToken.sub||i.mockUserToken.user_id;if(!H)throw new Ct(rt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");F=new $o(H)}n._authCredentials=new Hb(new Ey(E,F))}}(c,...p)}return c}function Do(n){return n._firestoreClient||lD(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function lD(n){var e,t,i;const c=n._freezeSettings(),p=(E=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new y0(n._databaseId,E,n._persistenceKey,(H=c).host,H.ssl,H.experimentalForceLongPolling,H.experimentalAutoDetectLongPolling,sD(H.experimentalLongPollingOptions),H.useFetchStreams));var E,H;n._firestoreClient=new BC(n._authCredentials,n._appCheckCredentials,n._queue,p),null!==(t=c.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=c.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:c.cache.kind,_offline:c.cache._offlineComponentProvider,_online:c.cache._onlineComponentProvider})}class jf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jf(Zn.fromBase64String(e))}catch(t){throw new Ct(rt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new jf(Zn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class $f{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ct(rt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Hs(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class av{constructor(e){this._methodName=e}}class cv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ct(rt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ct(rt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qn(this._lat,e._lat)||qn(this._long,e._long)}}const PI=/^__.*__$/;class $1{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Th(e,this.data,this.fieldMask,t,this.fieldTransforms):new Zp(e,this.data,t,this.fieldTransforms)}}class WC{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Th(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function qC(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw hn()}}class kI{constructor(e,t,i,c,p,_){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=c,void 0===p&&this.ua(),this.fieldTransforms=p||[],this.fieldMask=_||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new kI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),c=this.aa({path:i,la:!1});return c.fa(e),c}da(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),c=this.aa({path:i,la:!1});return c.ua(),c}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Z1(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(qC(this.ca)&&PI.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class hD{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||a_(e)}ya(e,t,i,c=!1){return new kI({ca:e,methodName:t,ga:i,path:Hs.emptyPath(),la:!1,ma:c},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function p_(n){const e=n._freezeSettings(),t=a_(n._databaseId);return new hD(n._databaseId,!!e.ignoreUndefinedProperties,t)}function FI(n,e,t,i,c,p={}){const _=n.ya(p.merge||p.mergeFields?2:0,e,t,c);VI("Data must be an object, but it was:",_,i);const E=BI(i,_);let F,H;if(p.merge)F=new Ui(_.fieldMask),H=_.fieldTransforms;else if(p.mergeFields){const te=[];for(const pe of p.mergeFields){const Be=uv(e,pe,t);if(!_.contains(Be))throw new Ct(rt.INVALID_ARGUMENT,`Field '${Be}' is specified in your field mask but missing from your input data.`);_D(te,Be)||te.push(Be)}F=new Ui(te),H=_.fieldTransforms.filter(pe=>F.covers(pe.field))}else F=null,H=_.fieldTransforms;return new $1(new Ha(E),F,H)}class lv extends av{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lv}}function fD(n,e,t){return new kI({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class pD extends av{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=fD(this,e,!0),i=this.pa.map(p=>g_(p,t)),c=new Rf(i);return new Py(e.path,c)}isEqual(e){return this===e}}class gD extends av{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=fD(this,e,!0),i=this.pa.map(p=>g_(p,t)),c=new Rd(i);return new Py(e.path,c)}isEqual(e){return this===e}}function W1(n,e,t,i=!1){return g_(t,n.ya(i?4:3,e))}function g_(n,e){if(q1(n=(0,fe.m9)(n)))return VI("Unsupported field value:",e,n),BI(n,e);if(n instanceof av)return function(t,i){if(!qC(i.ca))throw i._a(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${t._methodName}() is not currently supported inside arrays`);const c=t._toFieldTransform(i);c&&i.fieldTransforms.push(c)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,i){const c=[];let p=0;for(const _ of t){let E=g_(_,i.wa(p));null==E&&(E={nullValue:"NULL_VALUE"}),c.push(E),p++}return{arrayValue:{values:c}}}(n,e)}return function(t,i){if(null===(t=(0,fe.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return M0(i.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const c=cs.fromDate(t);return{timestampValue:Yp(i.serializer,c)}}if(t instanceof cs){const c=new cs(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Yp(i.serializer,c)}}if(t instanceof cv)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof jf)return{bytesValue:HD(i.serializer,t._byteString)};if(t instanceof io){const c=i.databaseId,p=t.firestore._databaseId;if(!p.isEqual(c))throw i._a(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Dw(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i._a(`Unsupported field value: ${ov(t)}`)}(n,e)}function BI(n,e){const t={};return ic(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):si(n,(i,c)=>{const p=g_(c,e.ha(i));null!=p&&(t[i]=p)}),{mapValue:{fields:t}}}function q1(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof cs||n instanceof cv||n instanceof jf||n instanceof io||n instanceof av)}function VI(n,e,t){if(!q1(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=ov(t);throw e._a("an object"===i?n+" a custom object":n+" "+i)}var i}function uv(n,e,t){if((e=(0,fe.m9)(e))instanceof $f)return e._internalPath;if("string"==typeof e)return UI(n,e);throw Z1("Field path arguments must be of type string or ",n,!1,void 0,t)}const SS=new RegExp("[~\\*/\\[\\]]");function UI(n,e,t){if(e.search(SS)>=0)throw Z1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new $f(...e.split("."))._internalPath}catch{throw Z1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Z1(n,e,t,i,c){const p=i&&!i.isEmpty(),_=void 0!==c;let E=`Function ${e}() called with invalid data`;t&&(E+=" (via `toFirestore()`)"),E+=". ";let F="";return(p||_)&&(F+=" (found",p&&(F+=` in field ${i}`),_&&(F+=` in document ${c}`),F+=")"),new Ct(rt.INVALID_ARGUMENT,E+n+F)}function _D(n,e){return n.some(t=>t.isEqual(e))}class HI{constructor(e,t,i,c,p){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=c,this._converter=p}get id(){return this._key.path.lastSegment()}get ref(){return new io(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new KC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(dv("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class KC extends HI{data(){return super.data()}}function dv(n,e){return"string"==typeof e?UI(n,e):e instanceof $f?e._internalPath:e._delegate._internalPath}class jI{}class hv extends jI{}function yD(n,e,...t){let i=[];e instanceof jI&&i.push(e),i=i.concat(t),function(c){const p=c.filter(E=>E instanceof zf).length,_=c.filter(E=>E instanceof K1).length;if(p>1||p>0&&_>0)throw new Ct(rt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const c of i)n=c._apply(n);return n}class K1 extends hv{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new K1(e,t,i)}_apply(e){const t=this._parse(e);return rS(e._query,t),new Na(e.firestore,e.converter,A0(e._query,t))}_parse(e){const t=p_(e.firestore);return function(c,p,_,E,F,H,te){let pe;if(F.isKeyField()){if("array-contains"===H||"array-contains-any"===H)throw new Ct(rt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${H}' queries on documentId().`);if("in"===H||"not-in"===H){bD(te,H);const Be=[];for(const lt of te)Be.push(vD(E,c,lt));pe={arrayValue:{values:Be}}}else pe=vD(E,c,te)}else"in"!==H&&"not-in"!==H&&"array-contains-any"!==H||bD(te,H),pe=W1(_,"where",te,"in"===H||"not-in"===H);return Qr.create(F,H,pe)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function YC(n,e,t){const i=e,c=dv("where",n);return K1._create(c,i,t)}class zf extends jI{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new zf(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:Ri.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,c){let p=i;const _=c.getFlattenedFilters();for(const E of _)rS(p,E),p=A0(p,E)}(e._query,t),new Na(e.firestore,e.converter,A0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class $I extends hv{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new $I(e,t)}_apply(e){const t=function(i,c,p){if(null!==i.startAt)throw new Ct(rt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Ct(rt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const _=new $p(c,p);return function(E,F){if(null===sw(E)){const H=ro(E);null!==H&&iS(0,H,F.field)}}(i,_),_}(e._query,this._field,this._direction);return new Na(e.firestore,e.converter,function(i,c){const p=i.explicitOrderBy.concat([c]);return new Of(i.path,i.collectionGroup,p,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function Y1(n,e="asc"){const t=e,i=dv("orderBy",n);return $I._create(i,t)}class Q1 extends hv{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new Q1(e,t,i)}_apply(e){return new Na(e.firestore,e.converter,N0(e._query,this._limit,this._limitType))}}function XC(n){return function H1(n,e){if(e<=0)throw new Ct(rt.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}("limit",n),Q1._create("limit",n,"F")}class fv extends hv{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new fv(e,t,i)}_apply(e){const t=function nS(n,e,t,i){if(t[0]=(0,fe.m9)(t[0]),t[0]instanceof HI)return function(c,p,_,E,F){if(!E)throw new Ct(rt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${_}().`);const H=[];for(const te of Wp(c))if(te.field.isKeyField())H.push(Bu(p,E.key));else{const pe=E.data.field(te.field);if(To(pe))throw new Ct(rt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+te.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===pe){const Be=te.field.canonicalString();throw new Ct(rt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Be}' (used as the orderBy) does not exist.`)}H.push(pe)}return new Md(H,F)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const c=p_(n.firestore);return function(p,_,E,F,H,te){const pe=p.explicitOrderBy;if(H.length>pe.length)throw new Ct(rt.INVALID_ARGUMENT,`Too many arguments provided to ${F}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Be=[];for(let lt=0;lt<H.length;lt++){const Pt=H[lt];if(pe[lt].field.isKeyField()){if("string"!=typeof Pt)throw new Ct(rt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${F}(), but got a ${typeof Pt}`);if(!S0(p)&&-1!==Pt.indexOf("/"))throw new Ct(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${F}() must be a plain document ID, but '${Pt}' contains a slash.`);const sn=p.path.child(ar.fromString(Pt));if(!Xt.isDocumentKey(sn))throw new Ct(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${F}() must result in a valid document path, but '${sn}' is not because it contains an odd number of segments.`);const cn=new Xt(sn);Be.push(Bu(_,cn))}else{const sn=W1(E,F,Pt);Be.push(sn)}}return new Md(Be,te)}(n._query,n.firestore._databaseId,c,e,t,i)}}(e,this.type,this._docOrFields,this._inclusive);return new Na(e.firestore,e.converter,(c=t,new Of((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,c,i.endAt)));var i,c}}function tS(...n){return fv._create("startAfter",n,!1)}function vD(n,e,t){if("string"==typeof(t=(0,fe.m9)(t))){if(""===t)throw new Ct(rt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!S0(e)&&-1!==t.indexOf("/"))throw new Ct(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(ar.fromString(t));if(!Xt.isDocumentKey(i))throw new Ct(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Bu(n,new Xt(i))}if(t instanceof io)return Bu(n,t._key);throw new Ct(rt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ov(t)}.`)}function bD(n,e){if(!Array.isArray(n)||0===n.length)throw new Ct(rt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function rS(n,e){if(e.isInequality()){const i=ro(n),c=e.field;if(null!==i&&!i.isEqual(c))throw new Ct(rt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${c.toString()}'`);const p=sw(n);null!==p&&iS(0,c,p)}const t=function(i,c){for(const p of i)for(const _ of p.getFlattenedFilters())if(c.indexOf(_.op)>=0)return _.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Ct(rt.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function iS(n,e,t){if(!t.isEqual(e))throw new Ct(rt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class NS{convertValue(e,t="none"){switch(Kl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(vs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw hn()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return si(e,(c,p)=>{i[c]=this.convertValue(p,t)}),i}convertGeoPoint(e){return new cv(Tr(e.latitude),Tr(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=El(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Dl(e));default:return null}}convertTimestamp(e){const t=sa(e);return new cs(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=ar.fromString(e);In(Km(i));const c=new Sd(i.get(1),i.get(3)),p=new Xt(i.popFirst(5));return c.isEqual(t)||Us(`Document ${p} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),p}}function wD(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class ug{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pv extends HI{constructor(e,t,i,c,p,_){super(e,t,i,c,_),this._firestore=e,this._firestoreImpl=e,this.metadata=p}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new r(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(dv("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class r extends pv{data(e={}){return super.data(e)}}class s{constructor(e,t,i,c){this._firestore=e,this._userDataWriter=t,this._snapshot=c,this.metadata=new ug(c.hasPendingWrites,c.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new r(this._firestore,this._userDataWriter,i.key,i,new ug(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ct(rt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,c){if(i._snapshot.oldDocs.isEmpty()){let p=0;return i._snapshot.docChanges.map(_=>({type:"added",doc:new r(i._firestore,i._userDataWriter,_.doc.key,_.doc,new ug(i._snapshot.mutatedKeys.has(_.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:p++}))}{let p=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(_=>c||3!==_.type).map(_=>{const E=new r(i._firestore,i._userDataWriter,_.doc.key,_.doc,new ug(i._snapshot.mutatedKeys.has(_.doc.key),i._snapshot.fromCache),i.query.converter);let F=-1,H=-1;return 0!==_.type&&(F=p.indexOf(_.doc.key),p=p.delete(_.doc.key)),1!==_.type&&(p=p.add(_.doc),H=p.indexOf(_.doc.key)),{type:a(_.type),doc:E,oldIndex:F,newIndex:H}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function a(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return hn()}}function g(n){n=ai(n,io);const e=ai(n.firestore,xs);return function V1(n,e,t={}){const i=new to;return n.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return function(c,p,_,E,F){const H=new R1({next:pe=>{p.enqueueAndForget(()=>nv(c,te));const Be=pe.docs.has(_);!Be&&pe.fromCache?F.reject(new Ct(rt.UNAVAILABLE,"Failed to get document because the client is offline.")):Be&&pe.fromCache&&E&&"server"===E.source?F.reject(new Ct(rt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):F.resolve(pe)},error:pe=>F.reject(pe)}),te=new PE(Fm(_.path),H,{includeMetadataChanges:!0,Ku:!0});return oI(c,te)}(yield cg(n),n.asyncQueue,e,t,i)})),i.promise}(Do(e),n._key).then(t=>function wt(n,e,t){const i=t.docs.get(e._key),c=new y(n);return new pv(n,c,e._key,i,new ug(t.hasPendingWrites,t.fromCache),e.converter)}(e,n,t))}class y extends NS{constructor(e){super(),this.firestore=e}convertBytes(e){return new jf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new io(this.firestore,null,t)}}function R(n){n=ai(n,Na);const e=ai(n.firestore,xs),t=Do(e),i=new y(e);return function GI(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ct(rt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),function rD(n,e,t={}){const i=new to;return n.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return function(c,p,_,E,F){const H=new R1({next:pe=>{p.enqueueAndForget(()=>nv(c,te)),pe.fromCache&&"server"===E.source?F.reject(new Ct(rt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):F.resolve(pe)},error:pe=>F.reject(pe)}),te=new PE(_,H,{includeMetadataChanges:!0,Ku:!0});return oI(c,te)}(yield cg(n),n.asyncQueue,e,t,i)})),i.promise}(t,n._query).then(c=>new s(e,i,n,c))}function me(n,e,t){n=ai(n,io);const i=ai(n.firestore,xs),c=wD(n.converter,e,t);return bn(i,[FI(p_(i),"setDoc",n._key,c,null!==n.converter,t).toMutation(n._key,Xi.none())])}function Me(n,e,t,...i){n=ai(n,io);const c=ai(n.firestore,xs),p=p_(c);let _;return _="string"==typeof(e=(0,fe.m9)(e))||e instanceof $f?function LI(n,e,t,i,c,p){const _=n.ya(1,e,t),E=[uv(e,i,t)],F=[c];if(p.length%2!=0)throw new Ct(rt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Be=0;Be<p.length;Be+=2)E.push(uv(e,p[Be])),F.push(p[Be+1]);const H=[],te=Ha.empty();for(let Be=E.length-1;Be>=0;--Be)if(!_D(H,E[Be])){const lt=E[Be];let Pt=F[Be];Pt=(0,fe.m9)(Pt);const sn=_.da(lt);if(Pt instanceof lv)H.push(lt);else{const cn=g_(Pt,sn);null!=cn&&(H.push(lt),te.set(lt,cn))}}const pe=new Ui(H);return new WC(te,pe,_.fieldTransforms)}(p,"updateDoc",n._key,e,t,i):function mD(n,e,t,i){const c=n.ya(1,e,t);VI("Data must be an object, but it was:",c,i);const p=[],_=Ha.empty();si(i,(F,H)=>{const te=UI(e,F,t);H=(0,fe.m9)(H);const pe=c.da(te);if(H instanceof lv)p.push(te);else{const Be=g_(H,pe);null!=Be&&(p.push(te),_.set(te,Be))}});const E=new Ui(p);return new WC(_,E,c.fieldTransforms)}(p,"updateDoc",n._key,e),bn(c,[_.toMutation(n._key,Xi.exists(!0))])}function Le(n){return bn(ai(n.firestore,xs),[new Hm(n._key,Xi.none())])}function pt(n,e){const t=ai(n.firestore,xs),i=xI(n),c=wD(n.converter,e);return bn(t,[FI(p_(n.firestore),"addDoc",i._key,c,null!==n.converter,{}).toMutation(i._key,Xi.exists(!1))]).then(()=>i)}function bn(n,e){return function(t,i){const c=new to;return t.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return function UE(n,e,t){return T1.apply(this,arguments)}(yield function B1(n){return sv(n).then(e=>e.syncEngine)}(t),i,c)})),c.promise}(Do(n),e)}function eA(...n){return new pD("arrayUnion",n)}function tA(...n){return new gD("arrayRemove",n)}!function(n,e=!0){Dd=Oe.Jn,(0,Oe.Xd)(new re.wA("firestore",(t,{instanceIdentifier:i,options:c})=>{const p=t.getProvider("app").getImmediate(),_=new xs(new el(t.getProvider("auth-internal")),new p0(t.getProvider("app-check-internal")),function(E,F){if(!Object.prototype.hasOwnProperty.apply(E.options,["projectId"]))throw new Ct(rt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sd(E.options.projectId,F)}(p,i),p);return c=Object.assign({useFetchStreams:e},c),_._setSettings(c),_},"PUBLIC").setMultipleInstances(!0)),(0,Oe.KN)(Am,"3.13.0",n),(0,Oe.KN)(Am,"3.13.0","esm2017")}();class ED{constructor(e){return e}}const FS="firestore",oS=new ce.OlP("angularfire2.firestore-instances");function iA(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new ED(i)}}const sA={provide:class nA{constructor(){return(0,w.vb)(FS)}},deps:[[new ce.FiY,oS]]},oA={provide:ED,useFactory:function rA(n,e){const t=(0,w.JM)(FS,n,e);return t&&new ED(t)},deps:[[new ce.FiY,oS],h.Ot]};let aA=(()=>{class n{constructor(){(0,we.KN)("angularfire",w.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ce.oAB({type:n}),n.\u0275inj=ce.cJS({providers:[oA,sA]}),n})();function cA(n,...e){return{ngModule:aA,providers:[{provide:oS,useFactory:iA(n),multi:!0,deps:[ce.R0b,ce.zs3,w.HU,h.z6,[new ce.FiY,v_],[new ce.FiY,vu],...e]}]}}const lA=(0,w.u3)(pt,!0),uA=(0,w.u3)(tA,!0),dA=(0,w.u3)(eA,!0),hA=(0,w.u3)(G1,!0),fA=(0,w.u3)(Le,!0),pA=(0,w.u3)(xI,!0),gA=(0,w.u3)(g,!0),mA=(0,w.u3)(R,!0),_A=(0,w.u3)(IS,!0),yA=(0,w.u3)(XC,!0),vA=(0,w.u3)(Y1,!0),bA=(0,w.u3)(yD,!0),wA=(0,w.u3)(me,!0),IA=(0,w.u3)(tS,!0),TA=(0,w.u3)(Me,!0),EA=(0,w.u3)(YC,!0)},6106:(Gt,$e,Q)=>{Q.d($e,{q4:()=>uu,HU:()=>Wd,vb:()=>Yf,JM:()=>qc,u3:()=>mg});var w=Q(9468),ce=Q(4097),h=Q(5861),we=Q(7592),de=Q(229),fe=Q(6820),Oe=Q(7879);const He=(M,L)=>L.some(Y=>M instanceof Y);let Ee,re;const et=new WeakMap,Pe=new WeakMap,it=new WeakMap,At=new WeakMap,Bt=new WeakMap;let xt={get(M,L,Y){if(M instanceof IDBTransaction){if("done"===L)return Pe.get(M);if("objectStoreNames"===L)return M.objectStoreNames||it.get(M);if("store"===L)return Y.objectStoreNames[1]?void 0:Y.objectStore(Y.objectStoreNames[0])}return _t(M[L])},set:(M,L,Y)=>(M[L]=Y,!0),has:(M,L)=>M instanceof IDBTransaction&&("done"===L||"store"===L)||L in M};function vt(M){return"function"==typeof M?function ot(M){return M!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Se(){return re||(re=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(M)?function(...L){return M.apply(Ge(this),L),_t(et.get(this))}:function(...L){return _t(M.apply(Ge(this),L))}:function(L,...Y){const he=M.call(Ge(this),L,...Y);return it.set(he,L.sort?L.sort():[L]),_t(he)}}(M):(M instanceof IDBTransaction&&function An(M){if(Pe.has(M))return;const L=new Promise((Y,he)=>{const Ne=()=>{M.removeEventListener("complete",Fe),M.removeEventListener("error",st),M.removeEventListener("abort",st)},Fe=()=>{Y(),Ne()},st=()=>{he(M.error||new DOMException("AbortError","AbortError")),Ne()};M.addEventListener("complete",Fe),M.addEventListener("error",st),M.addEventListener("abort",st)});Pe.set(M,L)}(M),He(M,function le(){return Ee||(Ee=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(M,xt):M)}function _t(M){if(M instanceof IDBRequest)return function kt(M){const L=new Promise((Y,he)=>{const Ne=()=>{M.removeEventListener("success",Fe),M.removeEventListener("error",st)},Fe=()=>{Y(_t(M.result)),Ne()},st=()=>{he(M.error),Ne()};M.addEventListener("success",Fe),M.addEventListener("error",st)});return L.then(Y=>{Y instanceof IDBCursor&&et.set(Y,M)}).catch(()=>{}),Bt.set(L,M),L}(M);if(At.has(M))return At.get(M);const L=vt(M);return L!==M&&(At.set(M,L),Bt.set(L,M)),L}const Ge=M=>Bt.get(M),gt=["get","getKey","getAll","getAllKeys","count"],Mn=["put","add","delete","clear"],ht=new Map;function fn(M,L){if(!(M instanceof IDBDatabase)||L in M||"string"!=typeof L)return;if(ht.get(L))return ht.get(L);const Y=L.replace(/FromIndex$/,""),he=L!==Y,Ne=Mn.includes(Y);if(!(Y in(he?IDBIndex:IDBObjectStore).prototype)||!Ne&&!gt.includes(Y))return;const Fe=function(){var st=(0,h.Z)(function*(Ut,...Vt){const yn=this.transaction(Ut,Ne?"readwrite":"readonly");let zn=yn.store;return he&&(zn=zn.index(Vt.shift())),(yield Promise.all([zn[Y](...Vt),Ne&&yn.done]))[0]});return function(Vt){return st.apply(this,arguments)}}();return ht.set(L,Fe),Fe}!function mt(M){xt=M(xt)}(M=>({...M,get:(L,Y,he)=>fn(L,Y)||M.get(L,Y,he),has:(L,Y)=>!!fn(L,Y)||M.has(L,Y)}));const En="@firebase/installations",Ln="0.6.4",Xn=1e4,fr=`w:${Ln}`,ke="FIS_v2",je="https://firebaseinstallations.googleapis.com/v1",Qe=36e5,Rt=new de.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ht(M){return M instanceof de.ZR&&M.code.includes("request-failed")}function pn({projectId:M}){return`${je}/projects/${M}/installations`}function vn(M){return{token:M.token,requestStatus:2,expiresIn:xe(M.expiresIn),creationTime:Date.now()}}function un(M,L){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,h.Z)(function*(M,L){const he=(yield L.json()).error;return Rt.create("request-failed",{requestName:M,serverCode:he.code,serverMessage:he.message,serverStatus:he.status})})).apply(this,arguments)}function jn({apiKey:M}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":M})}function kr(M){return De.apply(this,arguments)}function De(){return(De=(0,h.Z)(function*(M){const L=yield M();return L.status>=500&&L.status<600?M():L})).apply(this,arguments)}function xe(M){return Number(M.replace("s","000"))}function yt(){return(yt=(0,h.Z)(function*({appConfig:M,heartbeatServiceProvider:L},{fid:Y}){const he=pn(M),Ne=jn(M),Fe=L.getImmediate({optional:!0});if(Fe){const yn=yield Fe.getHeartbeatsHeader();yn&&Ne.append("x-firebase-client",yn)}const Ut={method:"POST",headers:Ne,body:JSON.stringify({fid:Y,authVersion:ke,appId:M.appId,sdkVersion:fr})},Vt=yield kr(()=>fetch(he,Ut));if(Vt.ok){const yn=yield Vt.json();return{fid:yn.fid||Y,registrationStatus:2,refreshToken:yn.refreshToken,authToken:vn(yn.authToken)}}throw yield un("Create Installation",Vt)})).apply(this,arguments)}function St(M){return new Promise(L=>{setTimeout(L,M)})}const Dn=/^[cdef][\w-]{21}$/,on="";function Yt(){try{const M=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(M),M[0]=112+M[0]%16;const Y=function wn(M){return function yr(M){return btoa(String.fromCharCode(...M)).replace(/\+/g,"-").replace(/\//g,"_")}(M).substr(0,22)}(M);return Dn.test(Y)?Y:on}catch{return on}}function Kn(M){return`${M.appName}!${M.appId}`}const tn=new Map;function Cr(M,L){const Y=Kn(M);rr(Y,L),function Wn(M,L){const Y=function Hn(){return!ir&&"BroadcastChannel"in self&&(ir=new BroadcastChannel("[Firebase] FID Change"),ir.onmessage=M=>{rr(M.data.key,M.data.fid)}),ir}();Y&&Y.postMessage({key:M,fid:L}),function gi(){0===tn.size&&ir&&(ir.close(),ir=null)}()}(Y,L)}function rr(M,L){const Y=tn.get(M);if(Y)for(const he of Y)he(L)}let ir=null;const Nn="firebase-installations-database",Yn=1,Nr="firebase-installations-store";let mi=null;function tt(){return mi||(mi=function be(M,L,{blocked:Y,upgrade:he,blocking:Ne,terminated:Fe}={}){const st=indexedDB.open(M,L),Ut=_t(st);return he&&st.addEventListener("upgradeneeded",Vt=>{he(_t(st.result),Vt.oldVersion,Vt.newVersion,_t(st.transaction))}),Y&&st.addEventListener("blocked",()=>Y()),Ut.then(Vt=>{Fe&&Vt.addEventListener("close",()=>Fe()),Ne&&Vt.addEventListener("versionchange",()=>Ne())}).catch(()=>{}),Ut}(Nn,Yn,{upgrade:(M,L)=>{0===L&&M.createObjectStore(Nr)}})),mi}function Ce(M,L){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,h.Z)(function*(M,L){const Y=Kn(M),Ne=(yield tt()).transaction(Nr,"readwrite"),Fe=Ne.objectStore(Nr),st=yield Fe.get(Y);return yield Fe.put(L,Y),yield Ne.done,(!st||st.fid!==L.fid)&&Cr(M,L.fid),L})).apply(this,arguments)}function It(M){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,h.Z)(function*(M){const L=Kn(M),he=(yield tt()).transaction(Nr,"readwrite");yield he.objectStore(Nr).delete(L),yield he.done})).apply(this,arguments)}function Jt(M,L){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,h.Z)(function*(M,L){const Y=Kn(M),Ne=(yield tt()).transaction(Nr,"readwrite"),Fe=Ne.objectStore(Nr),st=yield Fe.get(Y),Ut=L(st);return void 0===Ut?yield Fe.delete(Y):yield Fe.put(Ut,Y),yield Ne.done,Ut&&(!st||st.fid!==Ut.fid)&&Cr(M,Ut.fid),Ut})).apply(this,arguments)}function K(M){return V.apply(this,arguments)}function V(){return V=(0,h.Z)(function*(M){let L;const Y=yield Jt(M.appConfig,he=>{const Ne=function G(M){return ln(M||{fid:Yt(),registrationStatus:0})}(he),Fe=function W(M,L){if(0===L.registrationStatus){if(!navigator.onLine)return{installationEntry:L,registrationPromise:Promise.reject(Rt.create("app-offline"))};const Y={fid:L.fid,registrationStatus:1,registrationTime:Date.now()},he=function $(M,L){return ve.apply(this,arguments)}(M,Y);return{installationEntry:Y,registrationPromise:he}}return 1===L.registrationStatus?{installationEntry:L,registrationPromise:ze(M)}:{installationEntry:L}}(M,Ne);return L=Fe.registrationPromise,Fe.installationEntry});return Y.fid===on?{installationEntry:yield L}:{installationEntry:Y,registrationPromise:L}}),V.apply(this,arguments)}function ve(){return ve=(0,h.Z)(function*(M,L){try{const Y=yield function at(M,L){return yt.apply(this,arguments)}(M,L);return Ce(M.appConfig,Y)}catch(Y){throw Ht(Y)&&409===Y.customData.serverCode?yield It(M.appConfig):yield Ce(M.appConfig,{fid:L.fid,registrationStatus:0}),Y}}),ve.apply(this,arguments)}function ze(M){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,h.Z)(function*(M){let L=yield an(M.appConfig);for(;1===L.registrationStatus;)yield St(100),L=yield an(M.appConfig);if(0===L.registrationStatus){const{installationEntry:Y,registrationPromise:he}=yield K(M);return he||Y}return L})).apply(this,arguments)}function an(M){return Jt(M,L=>{if(!L)throw Rt.create("installation-not-found");return ln(L)})}function ln(M){return function Tn(M){return 1===M.registrationStatus&&M.registrationTime+Xn<Date.now()}(M)?{fid:M.fid,registrationStatus:0}:M}function kn(){return(kn=(0,h.Z)(function*({appConfig:M,heartbeatServiceProvider:L},Y){const he=function jr(M,{fid:L}){return`${pn(M)}/${L}/authTokens:generate`}(M,Y),Ne=function pr(M,{refreshToken:L}){const Y=jn(M);return Y.append("Authorization",function Re(M){return`${ke} ${M}`}(L)),Y}(M,Y),Fe=L.getImmediate({optional:!0});if(Fe){const yn=yield Fe.getHeartbeatsHeader();yn&&Ne.append("x-firebase-client",yn)}const Ut={method:"POST",headers:Ne,body:JSON.stringify({installation:{sdkVersion:fr,appId:M.appId}})},Vt=yield kr(()=>fetch(he,Ut));if(Vt.ok)return vn(yield Vt.json());throw yield un("Generate Auth Token",Vt)})).apply(this,arguments)}function er(M){return so.apply(this,arguments)}function so(){return so=(0,h.Z)(function*(M,L=!1){let Y;const he=yield Jt(M.appConfig,Fe=>{if(!Zr(Fe))throw Rt.create("not-registered");const st=Fe.authToken;if(!L&&function qo(M){return 2===M.requestStatus&&!function ds(M){const L=Date.now();return L<M.creationTime||M.creationTime+M.expiresIn<L+Qe}(M)}(st))return Fe;if(1===st.requestStatus)return Y=function oa(M,L){return bs.apply(this,arguments)}(M,L),Fe;{if(!navigator.onLine)throw Rt.create("app-offline");const Ut=function hs(M){const L={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},M),{authToken:L})}(Fe);return Y=function js(M,L){return Ma.apply(this,arguments)}(M,Ut),Ut}});return Y?yield Y:he.authToken}),so.apply(this,arguments)}function bs(){return(bs=(0,h.Z)(function*(M,L){let Y=yield Oa(M.appConfig);for(;1===Y.authToken.requestStatus;)yield St(100),Y=yield Oa(M.appConfig);const he=Y.authToken;return 0===he.requestStatus?er(M,L):he})).apply(this,arguments)}function Oa(M){return Jt(M,L=>{if(!Zr(L))throw Rt.create("not-registered");return function tr(M){return 1===M.requestStatus&&M.requestTime+Xn<Date.now()}(L.authToken)?Object.assign(Object.assign({},L),{authToken:{requestStatus:0}}):L})}function Ma(){return Ma=(0,h.Z)(function*(M,L){try{const Y=yield function $t(M,L){return kn.apply(this,arguments)}(M,L),he=Object.assign(Object.assign({},L),{authToken:Y});return yield Ce(M.appConfig,he),Y}catch(Y){if(!Ht(Y)||401!==Y.customData.serverCode&&404!==Y.customData.serverCode){const he=Object.assign(Object.assign({},L),{authToken:{requestStatus:0}});yield Ce(M.appConfig,he)}else yield It(M.appConfig);throw Y}}),Ma.apply(this,arguments)}function Zr(M){return void 0!==M&&2===M.registrationStatus}function oo(){return(oo=(0,h.Z)(function*(M){const L=M,{installationEntry:Y,registrationPromise:he}=yield K(L);return he?he.catch(console.error):er(L).catch(console.error),Y.fid})).apply(this,arguments)}function aa(){return aa=(0,h.Z)(function*(M,L=!1){const Y=M;return yield function Rs(M){return zs.apply(this,arguments)}(Y),(yield er(Y,L)).token}),aa.apply(this,arguments)}function zs(){return(zs=(0,h.Z)(function*(M){const{registrationPromise:L}=yield K(M);L&&(yield L)})).apply(this,arguments)}function Is(M){return Rt.create("missing-app-config-values",{valueName:M})}const li="installations",fs=M=>{const L=M.getProvider("app").getImmediate(),Y=function Ws(M){if(!M||!M.options)throw Is("App Configuration");if(!M.name)throw Is("App Name");const L=["projectId","apiKey","appId"];for(const Y of L)if(!M.options[Y])throw Is(Y);return{appName:M.name,projectId:M.options.projectId,apiKey:M.options.apiKey,appId:M.options.appId}}(L);return{app:L,appConfig:Y,heartbeatServiceProvider:(0,we.qX)(L,"heartbeat"),_delete:()=>Promise.resolve()}},yi=M=>{const L=M.getProvider("app").getImmediate(),Y=(0,we.qX)(L,li).getImmediate();return{getId:()=>function $s(M){return oo.apply(this,arguments)}(Y),getToken:Ne=>function So(M){return aa.apply(this,arguments)}(Y,Ne)}};(function Pi(){(0,we.Xd)(new fe.wA(li,fs,"PUBLIC")),(0,we.Xd)(new fe.wA("installations-internal",yi,"PRIVATE"))})(),(0,we.KN)(En,Ln),(0,we.KN)(En,Ln,"esm2017");const Ts="@firebase/remote-config",Fi=new de.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Fr{constructor(L,Y,he,Ne){this.client=L,this.storage=Y,this.storageCache=he,this.logger=Ne}isCachedDataFresh(L,Y){if(!Y)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const he=Date.now()-Y,Ne=he<=L;return this.logger.debug(`Config fetch cache check. Cache age millis: ${he}. Cache max age millis (minimumFetchIntervalMillis setting): ${L}. Is cache hit: ${Ne}.`),Ne}fetch(L){var Y=this;return(0,h.Z)(function*(){const[he,Ne]=yield Promise.all([Y.storage.getLastSuccessfulFetchTimestampMillis(),Y.storage.getLastSuccessfulFetchResponse()]);if(Ne&&Y.isCachedDataFresh(L.cacheMaxAgeMillis,he))return Ne;L.eTag=Ne&&Ne.eTag;const Fe=yield Y.client.fetch(L),st=[Y.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Fe.status&&st.push(Y.storage.setLastSuccessfulFetchResponse(Fe)),yield Promise.all(st),Fe})()}}function Pa(M=navigator){return M.languages&&M.languages[0]||M.language}class lo{constructor(L,Y,he,Ne,Fe,st){this.firebaseInstallations=L,this.sdkVersion=Y,this.namespace=he,this.projectId=Ne,this.apiKey=Fe,this.appId=st}fetch(L){var Y=this;return(0,h.Z)(function*(){const[he,Ne]=yield Promise.all([Y.firebaseInstallations.getId(),Y.firebaseInstallations.getToken()]),st=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Y.projectId}/namespaces/${Y.namespace}:fetch?key=${Y.apiKey}`,Ut={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":L.eTag||"*"},Vt={sdk_version:Y.sdkVersion,app_instance_id:he,app_instance_id_token:Ne,app_id:Y.appId,language_code:Pa()},yn={method:"POST",headers:Ut,body:JSON.stringify(Vt)},zn=fetch(st,yn),Qn=new Promise((Ja,Xa)=>{L.signal.addEventListener(()=>{const Qi=new Error("The operation was aborted.");Qi.name="AbortError",Xa(Qi)})});let Ba;try{yield Promise.race([zn,Qn]),Ba=yield zn}catch(Ja){let Xa="fetch-client-network";throw"AbortError"===Ja?.name&&(Xa="fetch-timeout"),Fi.create(Xa,{originalErrorMessage:Ja?.message})}let Xs=Ba.status;const Bh=Ba.headers.get("ETag")||void 0;let Vh,va;if(200===Ba.status){let Ja;try{Ja=yield Ba.json()}catch(Xa){throw Fi.create("fetch-client-parse",{originalErrorMessage:Xa?.message})}Vh=Ja.entries,va=Ja.state}if("INSTANCE_STATE_UNSPECIFIED"===va?Xs=500:"NO_CHANGE"===va?Xs=304:("NO_TEMPLATE"===va||"EMPTY_CONFIG"===va)&&(Vh={}),304!==Xs&&200!==Xs)throw Fi.create("fetch-status",{httpStatus:Xs});return{status:Xs,eTag:Bh,config:Vh}})()}}class xn{constructor(L,Y){this.client=L,this.storage=Y}fetch(L){var Y=this;return(0,h.Z)(function*(){const he=(yield Y.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Y.attemptFetch(L,he)})()}attemptFetch(L,{throttleEndTimeMillis:Y,backoffCount:he}){var Ne=this;return(0,h.Z)(function*(){yield function lr(M,L){return new Promise((Y,he)=>{const Ne=Math.max(L-Date.now(),0),Fe=setTimeout(Y,Ne);M.addEventListener(()=>{clearTimeout(Fe),he(Fi.create("fetch-throttle",{throttleEndTimeMillis:L}))})})}(L.signal,Y);try{const Fe=yield Ne.client.fetch(L);return yield Ne.storage.deleteThrottleMetadata(),Fe}catch(Fe){if(!function Ft(M){if(!(M instanceof de.ZR&&M.customData))return!1;const L=Number(M.customData.httpStatus);return 429===L||500===L||503===L||504===L}(Fe))throw Fe;const st={throttleEndTimeMillis:Date.now()+(0,de.$s)(he),backoffCount:he+1};return yield Ne.storage.setThrottleMetadata(st),Ne.attemptFetch(L,st)}})()}}class Zs{constructor(L,Y,he,Ne,Fe){this.app=L,this._client=Y,this._storageCache=he,this._storage=Ne,this._logger=Fe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ti(M,L){const Y=M.target.error||void 0;return Fi.create(L,{originalErrorMessage:Y&&Y?.message})}const ji="app_namespace_store";class On{constructor(L,Y,he,Ne=function ps(){return new Promise((M,L)=>{try{const Y=indexedDB.open("firebase_remote_config",1);Y.onerror=he=>{L(ti(he,"storage-open"))},Y.onsuccess=he=>{M(he.target.result)},Y.onupgradeneeded=he=>{0===he.oldVersion&&he.target.result.createObjectStore(ji,{keyPath:"compositeKey"})}}catch(Y){L(Fi.create("storage-open",{originalErrorMessage:Y?.message}))}})}()){this.appId=L,this.appName=Y,this.namespace=he,this.openDbPromise=Ne}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(L){return this.set("last_fetch_status",L)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(L){return this.set("last_successful_fetch_timestamp_millis",L)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(L){return this.set("last_successful_fetch_response",L)}getActiveConfig(){return this.get("active_config")}setActiveConfig(L){return this.set("active_config",L)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(L){return this.set("active_config_etag",L)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(L){return this.set("throttle_metadata",L)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(L){var Y=this;return(0,h.Z)(function*(){const he=yield Y.openDbPromise;return new Promise((Ne,Fe)=>{const Ut=he.transaction([ji],"readonly").objectStore(ji),Vt=Y.createCompositeKey(L);try{const yn=Ut.get(Vt);yn.onerror=zn=>{Fe(ti(zn,"storage-get"))},yn.onsuccess=zn=>{const Qn=zn.target.result;Ne(Qn?Qn.value:void 0)}}catch(yn){Fe(Fi.create("storage-get",{originalErrorMessage:yn?.message}))}})})()}set(L,Y){var he=this;return(0,h.Z)(function*(){const Ne=yield he.openDbPromise;return new Promise((Fe,st)=>{const Vt=Ne.transaction([ji],"readwrite").objectStore(ji),yn=he.createCompositeKey(L);try{const zn=Vt.put({compositeKey:yn,value:Y});zn.onerror=Qn=>{st(ti(Qn,"storage-set"))},zn.onsuccess=()=>{Fe()}}catch(zn){st(Fi.create("storage-set",{originalErrorMessage:zn?.message}))}})})()}delete(L){var Y=this;return(0,h.Z)(function*(){const he=yield Y.openDbPromise;return new Promise((Ne,Fe)=>{const Ut=he.transaction([ji],"readwrite").objectStore(ji),Vt=Y.createCompositeKey(L);try{const yn=Ut.delete(Vt);yn.onerror=zn=>{Fe(ti(zn,"storage-delete"))},yn.onsuccess=()=>{Ne()}}catch(yn){Fe(Fi.create("storage-delete",{originalErrorMessage:yn?.message}))}})})()}createCompositeKey(L){return[this.appId,this.appName,this.namespace,L].join()}}class No{constructor(L){this.storage=L}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var L=this;return(0,h.Z)(function*(){const Y=L.storage.getLastFetchStatus(),he=L.storage.getLastSuccessfulFetchTimestampMillis(),Ne=L.storage.getActiveConfig(),Fe=yield Y;Fe&&(L.lastFetchStatus=Fe);const st=yield he;st&&(L.lastSuccessfulFetchTimestampMillis=st);const Ut=yield Ne;Ut&&(L.activeConfig=Ut)})()}setLastFetchStatus(L){return this.lastFetchStatus=L,this.storage.setLastFetchStatus(L)}setLastSuccessfulFetchTimestampMillis(L){return this.lastSuccessfulFetchTimestampMillis=L,this.storage.setLastSuccessfulFetchTimestampMillis(L)}setActiveConfig(L){return this.activeConfig=L,this.storage.setActiveConfig(L)}}function vi(){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,h.Z)(function*(){if(!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch{return!1}})).apply(this,arguments)}!function hc(){(0,we.Xd)(new fe.wA("remote-config",function M(L,{instanceIdentifier:Y}){const he=L.getProvider("app").getImmediate(),Ne=L.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Fi.create("registration-window");if(!(0,de.hl)())throw Fi.create("indexed-db-unavailable");const{projectId:Fe,apiKey:st,appId:Ut}=he.options;if(!Fe)throw Fi.create("registration-project-id");if(!st)throw Fi.create("registration-api-key");if(!Ut)throw Fi.create("registration-app-id");const Vt=new On(Ut,he.name,Y=Y||"firebase"),yn=new No(Vt),zn=new Oe.Yd(Ts);zn.logLevel=Oe.in.ERROR;const Qn=new lo(Ne,we.Jn,Y,Fe,st,Ut),Ba=new xn(Qn,Vt),Xs=new Fr(Ba,Vt,yn,zn),Bh=new Zs(he,Xs,yn,Vt,zn);return function Fs(M){const L=(0,de.m9)(M);L._initializePromise||(L._initializePromise=L._storageCache.loadFromStorage().then(()=>{L._isInitializationComplete=!0}))}(Bh),Bh},"PUBLIC").setMultipleInstances(!0)),(0,we.KN)(Ts,"0.4.4"),(0,we.KN)(Ts,"0.4.4","esm2017")}();const bi=(M,L)=>L.some(Y=>M instanceof Y);let Oo,ol;const gs=new WeakMap,Ds=new WeakMap,Bn=new WeakMap,Al=new WeakMap,ho=new WeakMap;let Cs={get(M,L,Y){if(M instanceof IDBTransaction){if("done"===L)return Ds.get(M);if("objectStoreNames"===L)return M.objectStoreNames||Bn.get(M);if("store"===L)return Y.objectStoreNames[1]?void 0:Y.objectStore(Y.objectStoreNames[0])}return Mo(M[L])},set:(M,L,Y)=>(M[L]=Y,!0),has:(M,L)=>M instanceof IDBTransaction&&("done"===L||"store"===L)||L in M};function Sr(M){return"function"==typeof M?function fo(M){return M!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function br(){return ol||(ol=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(M)?function(...L){return M.apply(Jr(this),L),Mo(gs.get(this))}:function(...L){return Mo(M.apply(Jr(this),L))}:function(L,...Y){const he=M.call(Jr(this),L,...Y);return Bn.set(he,L.sort?L.sort():[L]),Mo(he)}}(M):(M instanceof IDBTransaction&&function hi(M){if(Ds.has(M))return;const L=new Promise((Y,he)=>{const Ne=()=>{M.removeEventListener("complete",Fe),M.removeEventListener("error",st),M.removeEventListener("abort",st)},Fe=()=>{Y(),Ne()},st=()=>{he(M.error||new DOMException("AbortError","AbortError")),Ne()};M.addEventListener("complete",Fe),M.addEventListener("error",st),M.addEventListener("abort",st)});Ds.set(M,L)}(M),bi(M,function uo(){return Oo||(Oo=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(M,Cs):M)}function Mo(M){if(M instanceof IDBRequest)return function ms(M){const L=new Promise((Y,he)=>{const Ne=()=>{M.removeEventListener("success",Fe),M.removeEventListener("error",st)},Fe=()=>{Y(Mo(M.result)),Ne()},st=()=>{he(M.error),Ne()};M.addEventListener("success",Fe),M.addEventListener("error",st)});return L.then(Y=>{Y instanceof IDBCursor&&gs.set(Y,M)}).catch(()=>{}),ho.set(L,M),L}(M);if(Al.has(M))return Al.get(M);const L=Sr(M);return L!==M&&(Al.set(M,L),ho.set(L,M)),L}const Jr=M=>ho.get(M);function $i(M,L,{blocked:Y,upgrade:he,blocking:Ne,terminated:Fe}={}){const st=indexedDB.open(M,L),Ut=Mo(st);return he&&st.addEventListener("upgradeneeded",Vt=>{he(Mo(st.result),Vt.oldVersion,Vt.newVersion,Mo(st.transaction))}),Y&&st.addEventListener("blocked",()=>Y()),Ut.then(Vt=>{Fe&&Vt.addEventListener("close",()=>Fe()),Ne&&Vt.addEventListener("versionchange",()=>Ne())}).catch(()=>{}),Ut}function Ss(M,{blocked:L}={}){const Y=indexedDB.deleteDatabase(M);return L&&Y.addEventListener("blocked",()=>L()),Mo(Y).then(()=>{})}const rs=["get","getKey","getAll","getAllKeys","count"],po=["put","add","delete","clear"],Ai=new Map;function Wi(M,L){if(!(M instanceof IDBDatabase)||L in M||"string"!=typeof L)return;if(Ai.get(L))return Ai.get(L);const Y=L.replace(/FromIndex$/,""),he=L!==Y,Ne=po.includes(Y);if(!(Y in(he?IDBIndex:IDBObjectStore).prototype)||!Ne&&!rs.includes(Y))return;const Fe=function(){var st=(0,h.Z)(function*(Ut,...Vt){const yn=this.transaction(Ut,Ne?"readwrite":"readonly");let zn=yn.store;return he&&(zn=zn.index(Vt.shift())),(yield Promise.all([zn[Y](...Vt),Ne&&yn.done]))[0]});return function(Vt){return st.apply(this,arguments)}}();return Ai.set(L,Fe),Fe}!function ja(M){Cs=M(Cs)}(M=>({...M,get:(L,Y,he)=>Wi(L,Y)||M.get(L,Y,he),has:(L,Y)=>!!Wi(L,Y)||M.has(L,Y)}));const fc="/firebase-messaging-sw.js",Qo="/firebase-cloud-messaging-push-scope",ca="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",pc="https://fcmregistrations.googleapis.com/v1",$r="google.c.a.c_id",xo="google.c.a.c_l",al="google.c.a.ts";var B=function(M){return M.PUSH_RECEIVED="push-received",M.NOTIFICATION_CLICKED="notification-clicked",M}(B||{});function oe(M){const L=new Uint8Array(M);return btoa(String.fromCharCode(...L)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ie(M){const Y=(M+"=".repeat((4-M.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),he=atob(Y),Ne=new Uint8Array(he.length);for(let Fe=0;Fe<he.length;++Fe)Ne[Fe]=he.charCodeAt(Fe);return Ne}const Kt="fcm_token_details_db",Fn=5,qi="fcm_token_object_Store";function Zi(){return Zi=(0,h.Z)(function*(M){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Fe=>Fe.name).includes(Kt))return null;let L=null;return(yield $i(Kt,Fn,{upgrade:(he=(0,h.Z)(function*(Ne,Fe,st,Ut){var Vt;if(Fe<2||!Ne.objectStoreNames.contains(qi))return;const yn=Ut.objectStore(qi),zn=yield yn.index("fcmSenderId").get(M);if(yield yn.clear(),zn)if(2===Fe){const Qn=zn;if(!Qn.auth||!Qn.p256dh||!Qn.endpoint)return;L={token:Qn.fcmToken,createTime:null!==(Vt=Qn.createTime)&&void 0!==Vt?Vt:Date.now(),subscriptionOptions:{auth:Qn.auth,p256dh:Qn.p256dh,endpoint:Qn.endpoint,swScope:Qn.swScope,vapidKey:"string"==typeof Qn.vapidKey?Qn.vapidKey:oe(Qn.vapidKey)}}}else if(3===Fe){const Qn=zn;L={token:Qn.fcmToken,createTime:Qn.createTime,subscriptionOptions:{auth:oe(Qn.auth),p256dh:oe(Qn.p256dh),endpoint:Qn.endpoint,swScope:Qn.swScope,vapidKey:oe(Qn.vapidKey)}}}else if(4===Fe){const Qn=zn;L={token:Qn.fcmToken,createTime:Qn.createTime,subscriptionOptions:{auth:oe(Qn.auth),p256dh:oe(Qn.p256dh),endpoint:Qn.endpoint,swScope:Qn.swScope,vapidKey:oe(Qn.vapidKey)}}}}),function(Fe,st,Ut,Vt){return he.apply(this,arguments)})})).close(),yield Ss(Kt),yield Ss("fcm_vapid_details_db"),yield Ss("undefined"),function zi(M){if(!M||!M.subscriptionOptions)return!1;const{subscriptionOptions:L}=M;return"number"==typeof M.createTime&&M.createTime>0&&"string"==typeof M.token&&M.token.length>0&&"string"==typeof L.auth&&L.auth.length>0&&"string"==typeof L.p256dh&&L.p256dh.length>0&&"string"==typeof L.endpoint&&L.endpoint.length>0&&"string"==typeof L.swScope&&L.swScope.length>0&&"string"==typeof L.vapidKey&&L.vapidKey.length>0}(L)?L:null;var he}),Zi.apply(this,arguments)}const gc="firebase-messaging-database",la=1,ua="firebase-messaging-store";let mc=null;function ka(){return mc||(mc=$i(gc,la,{upgrade:(M,L)=>{0===L&&M.createObjectStore(ua)}})),mc}function Ki(M){return go.apply(this,arguments)}function go(){return go=(0,h.Z)(function*(M){const L=Ti(M),he=yield(yield ka()).transaction(ua).objectStore(ua).get(L);if(he)return he;{const Ne=yield function Ys(M){return Zi.apply(this,arguments)}(M.appConfig.senderId);if(Ne)return yield _c(M,Ne),Ne}}),go.apply(this,arguments)}function _c(M,L){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,h.Z)(function*(M,L){const Y=Ti(M),Ne=(yield ka()).transaction(ua,"readwrite");return yield Ne.objectStore(ua).put(L,Y),yield Ne.done,L})).apply(this,arguments)}function Xr(){return(Xr=(0,h.Z)(function*(M){const L=Ti(M),he=(yield ka()).transaction(ua,"readwrite");yield he.objectStore(ua).delete(L),yield he.done})).apply(this,arguments)}function Ti({appConfig:M}){return M.appId}const ni=new de.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function da(M,L){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,h.Z)(function*(M,L){const Y=yield Po(M),he=Jo(L),Ne={method:"POST",headers:Y,body:JSON.stringify(he)};let Fe;try{Fe=yield(yield fetch(Lc(M.appConfig),Ne)).json()}catch(st){throw ni.create("token-subscribe-failed",{errorInfo:st?.toString()})}if(Fe.error)throw ni.create("token-subscribe-failed",{errorInfo:Fe.error.message});if(!Fe.token)throw ni.create("token-subscribe-no-token");return Fe.token})).apply(this,arguments)}function ha(){return(ha=(0,h.Z)(function*(M,L){const Y=yield Po(M),he=Jo(L.subscriptionOptions),Ne={method:"PATCH",headers:Y,body:JSON.stringify(he)};let Fe;try{Fe=yield(yield fetch(`${Lc(M.appConfig)}/${L.token}`,Ne)).json()}catch(st){throw ni.create("token-update-failed",{errorInfo:st?.toString()})}if(Fe.error)throw ni.create("token-update-failed",{errorInfo:Fe.error.message});if(!Fe.token)throw ni.create("token-update-no-token");return Fe.token})).apply(this,arguments)}function yc(M,L){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,h.Z)(function*(M,L){const he={method:"DELETE",headers:yield Po(M)};try{const Fe=yield(yield fetch(`${Lc(M.appConfig)}/${L}`,he)).json();if(Fe.error)throw ni.create("token-unsubscribe-failed",{errorInfo:Fe.error.message})}catch(Ne){throw ni.create("token-unsubscribe-failed",{errorInfo:Ne?.toString()})}})).apply(this,arguments)}function Lc({projectId:M}){return`${pc}/projects/${M}/registrations`}function Po(M){return vc.apply(this,arguments)}function vc(){return(vc=(0,h.Z)(function*({appConfig:M,installations:L}){const Y=yield L.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":M.apiKey,"x-goog-firebase-installations-auth":`FIS ${Y}`})})).apply(this,arguments)}function Jo({p256dh:M,auth:L,endpoint:Y,vapidKey:he}){const Ne={web:{endpoint:Y,auth:L,p256dh:M}};return he!==ca&&(Ne.web.applicationPubKey=he),Ne}const Bc=6048e5;function Vc(){return Vc=(0,h.Z)(function*(M){const L=yield function fi(M,L){return $a.apply(this,arguments)}(M.swRegistration,M.vapidKey),Y={vapidKey:M.vapidKey,swScope:M.swRegistration.scope,endpoint:L.endpoint,auth:oe(L.getKey("auth")),p256dh:oe(L.getKey("p256dh"))},he=yield Ki(M.firebaseDependencies);if(he){if(function O(M,L){return L.vapidKey===M.vapidKey&&L.endpoint===M.endpoint&&L.auth===M.auth&&L.p256dh===M.p256dh}(he.subscriptionOptions,Y))return Date.now()>=he.createTime+Bc?function Jl(M,L){return $u.apply(this,arguments)}(M,{token:he.token,createTime:Date.now(),subscriptionOptions:Y}):he.token;try{yield yc(M.firebaseDependencies,he.token)}catch(Ne){console.warn(Ne)}return Xl(M.firebaseDependencies,Y)}return Xl(M.firebaseDependencies,Y)}),Vc.apply(this,arguments)}function Nl(){return Nl=(0,h.Z)(function*(M){const L=yield Ki(M.firebaseDependencies);L&&(yield yc(M.firebaseDependencies,L.token),yield function Ii(M){return Xr.apply(this,arguments)}(M.firebaseDependencies));const Y=yield M.swRegistration.pushManager.getSubscription();return!Y||Y.unsubscribe()}),Nl.apply(this,arguments)}function $u(){return $u=(0,h.Z)(function*(M,L){try{const Y=yield function cl(M,L){return ha.apply(this,arguments)}(M.firebaseDependencies,L),he=Object.assign(Object.assign({},L),{token:Y,createTime:Date.now()});return yield _c(M.firebaseDependencies,he),Y}catch(Y){throw yield function Ql(M){return Nl.apply(this,arguments)}(M),Y}}),$u.apply(this,arguments)}function Xl(M,L){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,h.Z)(function*(M,L){const he={token:yield da(M,L),createTime:Date.now(),subscriptionOptions:L};return yield _c(M,he),he.token})).apply(this,arguments)}function $a(){return($a=(0,h.Z)(function*(M,L){return(yield M.pushManager.getSubscription())||M.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ie(L)})})).apply(this,arguments)}function ne(M){const L={from:M.from,collapseKey:M.collapse_key,messageId:M.fcmMessageId};return function U(M,L){if(!L.notification)return;M.notification={};const Y=L.notification.title;Y&&(M.notification.title=Y);const he=L.notification.body;he&&(M.notification.body=he);const Ne=L.notification.image;Ne&&(M.notification.image=Ne);const Fe=L.notification.icon;Fe&&(M.notification.icon=Fe)}(L,M),function X(M,L){L.data&&(M.data=L.data)}(L,M),function ye(M,L){var Y,he,Ne,Fe,st;if(!(L.fcmOptions||null!==(Y=L.notification)&&void 0!==Y&&Y.click_action))return;M.fcmOptions={};const Ut=null!==(Ne=null===(he=L.fcmOptions)||void 0===he?void 0:he.link)&&void 0!==Ne?Ne:null===(Fe=L.notification)||void 0===Fe?void 0:Fe.click_action;Ut&&(M.fcmOptions.link=Ut);const Vt=null===(st=L.fcmOptions)||void 0===st?void 0:st.analytics_label;Vt&&(M.fcmOptions.analyticsLabel=Vt)}(L,M),L}function ft(M,L){const Y=[];for(let he=0;he<M.length;he++)Y.push(M.charAt(he)),he<L.length&&Y.push(L.charAt(he));return Y.join("")}function ur(M){return ni.create("missing-app-config-values",{valueName:M})}ft("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ft("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Lr{constructor(L,Y,he){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ne=function gn(M){if(!M||!M.options)throw ur("App Configuration Object");if(!M.name)throw ur("App Name");const L=["projectId","apiKey","appId","messagingSenderId"],{options:Y}=M;for(const he of L)if(!Y[he])throw ur(he);return{appName:M.name,projectId:Y.projectId,apiKey:Y.apiKey,appId:Y.appId,senderId:Y.messagingSenderId}}(L);this.firebaseDependencies={app:L,appConfig:Ne,installations:Y,analyticsProvider:he}}_delete(){return Promise.resolve()}}function $n(){return($n=(0,h.Z)(function*(M){try{M.swRegistration=yield navigator.serviceWorker.register(fc,{scope:Qo}),M.swRegistration.update().catch(()=>{})}catch(L){throw ni.create("failed-service-worker-registration",{browserErrorMessage:L?.message})}})).apply(this,arguments)}function ei(){return(ei=(0,h.Z)(function*(M,L){if(!L&&!M.swRegistration&&(yield function or(M){return $n.apply(this,arguments)}(M)),L||!M.swRegistration){if(!(L instanceof ServiceWorkerRegistration))throw ni.create("invalid-sw-registration");M.swRegistration=L}})).apply(this,arguments)}function is(){return(is=(0,h.Z)(function*(M,L){L?M.vapidKey=L:M.vapidKey||(M.vapidKey=ca)})).apply(this,arguments)}function os(){return os=(0,h.Z)(function*(M,L){if(!navigator)throw ni.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ni.create("permission-blocked");return yield function Hr(M,L){return is.apply(this,arguments)}(M,L?.vapidKey),yield function Br(M,L){return ei.apply(this,arguments)}(M,L?.serviceWorkerRegistration),function bc(M){return Vc.apply(this,arguments)}(M)}),os.apply(this,arguments)}function Xo(){return(Xo=(0,h.Z)(function*(M,L,Y){const he=function fa(M){switch(M){case B.NOTIFICATION_CLICKED:return"notification_open";case B.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(L);(yield M.firebaseDependencies.analyticsProvider.get()).logEvent(he,{message_id:Y[$r],message_name:Y[xo],message_time:Y[al],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function pa(){return pa=(0,h.Z)(function*(M,L){const Y=L.data;if(!Y.isFirebaseMessaging)return;M.onMessageHandler&&Y.messageType===B.PUSH_RECEIVED&&("function"==typeof M.onMessageHandler?M.onMessageHandler(ne(Y)):M.onMessageHandler.next(ne(Y)));const he=Y.data;(function qe(M){return"object"==typeof M&&!!M&&$r in M})(he)&&"1"===he["google.c.a.e"]&&(yield function Yi(M,L,Y){return Xo.apply(this,arguments)}(M,Y.messageType,he))}),pa.apply(this,arguments)}const zu="@firebase/messaging",za=M=>{const L=new Lr(M.getProvider("app").getImmediate(),M.getProvider("installations-internal").getImmediate(),M.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Y=>function wc(M,L){return pa.apply(this,arguments)}(L,Y)),L},Hc=M=>{const L=M.getProvider("messaging").getImmediate();return{getToken:he=>function ss(M,L){return os.apply(this,arguments)}(L,he)}};function Ol(){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,h.Z)(function*(){try{yield(0,de.eu)()}catch{return!1}return typeof window<"u"&&(0,de.hl)()&&(0,de.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function wi(){(0,we.Xd)(new fe.wA("messaging",za,"PUBLIC")),(0,we.Xd)(new fe.wA("messaging-internal",Hc,"PRIVATE")),(0,we.KN)(zu,"0.12.4"),(0,we.KN)(zu,"0.12.4","esm2017")}();const La="analytics",Wu="firebase_id",Nh="origin",ri=6e4,ll="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",qa="https://www.googletagmanager.com/gtag/js",ys=new Oe.Yd("@firebase/analytics"),As=new de.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function hg(M){if(!M.startsWith(qa)){const L=As.create("invalid-gtag-resource",{gtagURL:M});return ys.warn(L.message),""}return M}function qu(M){return Promise.all(M.map(L=>L.catch(Y=>Y)))}function jc(){return(jc=(0,h.Z)(function*(M,L,Y,he,Ne,Fe){const st=he[Ne];try{if(st)yield L[st];else{const Vt=(yield qu(Y)).find(yn=>yn.measurementId===Ne);Vt&&(yield L[Vt.appId])}}catch(Ut){ys.error(Ut)}M("config",Ne,Fe)})).apply(this,arguments)}function Zu(){return(Zu=(0,h.Z)(function*(M,L,Y,he,Ne){try{let Fe=[];if(Ne&&Ne.send_to){let st=Ne.send_to;Array.isArray(st)||(st=[st]);const Ut=yield qu(Y);for(const Vt of st){const yn=Ut.find(Qn=>Qn.measurementId===Vt),zn=yn&&L[yn.appId];if(!zn){Fe=[];break}Fe.push(zn)}}0===Fe.length&&(Fe=Object.values(L)),yield Promise.all(Fe),M("event",he,Ne||{})}catch(Fe){ys.error(Fe)}})).apply(this,arguments)}const gr=30,Bi=new class Mh{constructor(L={},Y=1e3){this.throttleMetadata=L,this.intervalMillis=Y}getThrottleMetadata(L){return this.throttleMetadata[L]}setThrottleMetadata(L,Y){this.throttleMetadata[L]=Y}deleteThrottleMetadata(L){delete this.throttleMetadata[L]}};function Yu(M){return new Headers({Accept:"application/json","x-goog-api-key":M})}function mo(){return(mo=(0,h.Z)(function*(M){var L;const{appId:Y,apiKey:he}=M,Ne={method:"GET",headers:Yu(he)},Fe=ll.replace("{app-id}",Y),st=yield fetch(Fe,Ne);if(200!==st.status&&304!==st.status){let Ut="";try{const Vt=yield st.json();null!==(L=Vt.error)&&void 0!==L&&L.message&&(Ut=Vt.error.message)}catch{}throw As.create("config-fetch-failed",{httpStatus:st.status,responseMessage:Ut})}return st.json()})).apply(this,arguments)}function Za(){return(Za=(0,h.Z)(function*(M,L=Bi,Y){const{appId:he,apiKey:Ne,measurementId:Fe}=M.options;if(!he)throw As.create("no-app-id");if(!Ne){if(Fe)return{measurementId:Fe,appId:he};throw As.create("no-api-key")}const st=L.getThrottleMetadata(he)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ut=new ko;return setTimeout((0,h.Z)(function*(){Ut.abort()}),void 0!==Y?Y:ri),ru({appId:he,apiKey:Ne,measurementId:Fe},st,Ut,L)})).apply(this,arguments)}function ru(M,L,Y){return Ic.apply(this,arguments)}function Ic(){return Ic=(0,h.Z)(function*(M,{throttleEndTimeMillis:L,backoffCount:Y},he,Ne=Bi){var Fe;const{appId:st,measurementId:Ut}=M;try{yield function Ka(M,L){return new Promise((Y,he)=>{const Ne=Math.max(L-Date.now(),0),Fe=setTimeout(Y,Ne);M.addEventListener(()=>{clearTimeout(Fe),he(As.create("fetch-throttle",{throttleEndTimeMillis:L}))})})}(he,L)}catch(Vt){if(Ut)return ys.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ut} provided in the "measurementId" field in the local Firebase config. [${Vt?.message}]`),{appId:st,measurementId:Ut};throw Vt}try{const Vt=yield function ul(M){return mo.apply(this,arguments)}(M);return Ne.deleteThrottleMetadata(st),Vt}catch(Vt){const yn=Vt;if(!function Vs(M){if(!(M instanceof de.ZR&&M.customData))return!1;const L=Number(M.customData.httpStatus);return 429===L||500===L||503===L||504===L}(yn)){if(Ne.deleteThrottleMetadata(st),Ut)return ys.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ut} provided in the "measurementId" field in the local Firebase config. [${yn?.message}]`),{appId:st,measurementId:Ut};throw Vt}const zn=503===Number(null===(Fe=yn?.customData)||void 0===Fe?void 0:Fe.httpStatus)?(0,de.$s)(Y,Ne.intervalMillis,gr):(0,de.$s)(Y,Ne.intervalMillis),Qn={throttleEndTimeMillis:Date.now()+zn,backoffCount:Y+1};return Ne.setThrottleMetadata(st,Qn),ys.debug(`Calling attemptFetch again in ${zn} millis`),ru(M,Qn,he,Ne)}}),Ic.apply(this,arguments)}class ko{constructor(){this.listeners=[]}addEventListener(L){this.listeners.push(L)}abort(){this.listeners.forEach(L=>L())}}let dl,_e;function ma(){return(ma=(0,h.Z)(function*(M,L,Y,he,Ne){if(Ne&&Ne.global)M("event",Y,he);else{const Fe=yield L;M("event",Y,Object.assign(Object.assign({},he),{send_to:Fe}))}})).apply(this,arguments)}function Rn(){return(Rn=(0,h.Z)(function*(){if(!(0,de.hl)())return ys.warn(As.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,de.eu)()}catch(M){return ys.warn(As.create("indexeddb-unavailable",{errorInfo:M?.toString()}).message),!1}return!0})).apply(this,arguments)}function mr(){return mr=(0,h.Z)(function*(M,L,Y,he,Ne,Fe,st){var Ut;const Vt=function nu(M){return Za.apply(this,arguments)}(M);Vt.then(Xs=>{Y[Xs.measurementId]=Xs.appId,M.options.measurementId&&Xs.measurementId!==M.options.measurementId&&ys.warn(`The measurement ID in the local Firebase config (${M.options.measurementId}) does not match the measurement ID fetched from the server (${Xs.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Xs=>ys.error(Xs)),L.push(Vt);const yn=function zt(){return Rn.apply(this,arguments)}().then(Xs=>{if(Xs)return he.getId()}),[zn,Qn]=yield Promise.all([Vt,yn]);(function ut(M){const L=window.document.getElementsByTagName("script");for(const Y of Object.values(L))if(Y.src&&Y.src.includes(qa)&&Y.src.includes(M))return Y;return null})(Fe)||function Ml(M,L){const Y=function Oh(M,L){let Y;return window.trustedTypes&&(Y=window.trustedTypes.createPolicy(M,L)),Y}("firebase-js-sdk-policy",{createScriptURL:hg}),he=document.createElement("script"),Ne=`${qa}?l=${M}&id=${L}`;he.src=Y?Y?.createScriptURL(Ne):Ne,he.async=!0,document.head.appendChild(he)}(Fe,zn.measurementId),_e&&(Ne("consent","default",_e),function We(M){_e=M}(void 0)),Ne("js",new Date);const Ba=null!==(Ut=st?.config)&&void 0!==Ut?Ut:{};return Ba[Nh]="firebase",Ba.update=!0,null!=Qn&&(Ba[Wu]=Qn),Ne("config",zn.measurementId,Ba),dl&&(Ne("set",dl),function Ue(M){dl=M}(void 0)),zn.measurementId}),mr.apply(this,arguments)}class Tc{constructor(L){this.app=L}_delete(){return delete zr[this.app.options.appId],Promise.resolve()}}let zr={},ea=[];const Rr={};let Hd,_a,Fo="dataLayer",iu=!1;function Ec(M,L,Y){!function Ph(){const M=[];if((0,de.ru)()&&M.push("This is a browser extension environment."),(0,de.zI)()||M.push("Cookies are not available."),M.length>0){const L=M.map((he,Ne)=>`(${Ne+1}) ${he}`).join(" "),Y=As.create("invalid-analytics-context",{errorInfo:L});ys.warn(Y.message)}}();const he=M.options.appId;if(!he)throw As.create("no-app-id");if(!M.options.apiKey){if(!M.options.measurementId)throw As.create("no-api-key");ys.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${M.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=zr[he])throw As.create("already-exists",{id:he});if(!iu){!function xl(M){let L=[];Array.isArray(window[M])?L=window[M]:window[M]=L}(Fo);const{wrappedGtag:Fe,gtagCore:st}=function tu(M,L,Y,he,Ne){let Fe=function(...st){window[he].push(arguments)};return window[Ne]&&"function"==typeof window[Ne]&&(Fe=window[Ne]),window[Ne]=function eu(M,L,Y,he){function Fe(){return Fe=(0,h.Z)(function*(st,...Ut){try{if("event"===st){const[Vt,yn]=Ut;yield function Vd(M,L,Y,he,Ne){return Zu.apply(this,arguments)}(M,L,Y,Vt,yn)}else if("config"===st){const[Vt,yn]=Ut;yield function ga(M,L,Y,he,Ne,Fe){return jc.apply(this,arguments)}(M,L,Y,he,Vt,yn)}else if("consent"===st){const[Vt]=Ut;M("consent","update",Vt)}else if("get"===st){const[Vt,yn,zn]=Ut;M("get",Vt,yn,zn)}else if("set"===st){const[Vt]=Ut;M("set",Vt)}else M(st,...Ut)}catch(Vt){ys.error(Vt)}}),Fe.apply(this,arguments)}return function Ne(st){return Fe.apply(this,arguments)}}(Fe,M,L,Y),{gtagCore:Fe,wrappedGtag:window[Ne]}}(zr,ea,Rr,Fo,"gtag");_a=Fe,Hd=st,iu=!0}return zr[he]=function xr(M,L,Y,he,Ne,Fe,st){return mr.apply(this,arguments)}(M,ea,Rr,L,Hd,Fo,Y),new Tc(M)}function $c(){return hl.apply(this,arguments)}function hl(){return(hl=(0,h.Z)(function*(){if((0,de.ru)()||!(0,de.zI)()||!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch{return!1}})).apply(this,arguments)}const fg="@firebase/analytics";!function Zf(){(0,we.Xd)(new fe.wA(La,(L,{options:Y})=>Ec(L.getProvider("app").getImmediate(),L.getProvider("installations-internal").getImmediate(),Y),"PUBLIC")),(0,we.Xd)(new fe.wA("analytics-internal",function M(L){try{const Y=L.getProvider(La).getImmediate();return{logEvent:(he,Ne,Fe)=>function Fh(M,L,Y,he){M=(0,de.m9)(M),function Ya(M,L,Y,he,Ne){return ma.apply(this,arguments)}(_a,zr[M.app.options.appId],L,Y,he).catch(Ne=>ys.error(Ne))}(Y,he,Ne,Fe)}}catch(Y){throw As.create("interop-component-reg-failed",{reason:Y})}},"PRIVATE")),(0,we.KN)(fg,"0.10.0"),(0,we.KN)(fg,"0.10.0","esm2017")}();var $d=Q(1954),au=Q(9931);const Lh=new class kl extends au.v{}(class __ extends $d.o{constructor(L,Y){super(L,Y),this.scheduler=L,this.work=Y}schedule(L,Y=0){return Y>0?super.schedule(L,Y):(this.delay=Y,this.state=L,this.scheduler.flush(this),this)}execute(L,Y){return Y>0||this.closed?super.execute(L,Y):this._execute(L,Y)}requestAsyncId(L,Y,he=0){return null!=he&&he>0||null==he&&this.delay>0?super.requestAsyncId(L,Y,he):(L.flush(this),0)}});var cu=Q(6321),zc=Q(5592),pg=Q(9397),lu=Q(5137),ed=Q(3093);const uu=new w.GfV("7.6.1"),_o="__angularfire_symbol__analyticsIsSupportedValue",td="__angularfire_symbol__analyticsIsSupported",pl="__angularfire_symbol__remoteConfigIsSupportedValue",Wc="__angularfire_symbol__remoteConfigIsSupported",du="__angularfire_symbol__messagingIsSupportedValue",hu="__angularfire_symbol__messagingIsSupported";function qc(M,L,Y){if(L){if(1===L.length)return L[0];const Fe=L.filter(st=>st.app===Y);if(1===Fe.length)return Fe[0]}return Y.container.getProvider(M).getImmediate({optional:!0})}globalThis[td]||(globalThis[td]=$c().then(M=>globalThis[_o]=M).catch(()=>globalThis[_o]=!1)),globalThis[hu]||(globalThis[hu]=Ol().then(M=>globalThis[du]=M).catch(()=>globalThis[du]=!1)),globalThis[Wc]||(globalThis[Wc]=vi().then(M=>globalThis[pl]=M).catch(()=>globalThis[pl]=!1));const Yf=(M,L)=>{const Y=L?[L]:(0,ce.C6)(),he=[];return Y.forEach(Ne=>{Ne.container.getProvider(M).instances.forEach(st=>{he.includes(st)||he.push(st)})}),he};function Bl(){}class gl{constructor(L,Y=Lh){this.zone=L,this.delegate=Y}now(){return this.delegate.now()}schedule(L,Y,he){const Ne=this.zone;return this.delegate.schedule(function(st){Ne.runGuarded(()=>{L.apply(this,[st])})},Y,he)}}class Zc{constructor(L){this.zone=L,this.task=null}call(L,Y){const he=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Bl,{},Bl,Bl)),Y.pipe((0,pg.b)({next:he,complete:he,error:he})).subscribe(L).add(he)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Wd=(()=>{class M{constructor(Y){this.ngZone=Y,this.outsideAngular=Y.runOutsideAngular(()=>new gl(Zone.current)),this.insideAngular=Y.run(()=>new gl(Zone.current,cu.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return M.\u0275fac=function(Y){return new(Y||M)(w.LFG(w.R0b))},M.\u0275prov=w.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();function Dc(){const M=globalThis.\u0275AngularFireScheduler;if(!M)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return M}function ya(M){return Dc().ngZone.run(()=>M())}function Qf(M){return Dc(),function qd(M){return function(Y){return(Y=Y.lift(new Zc(M.ngZone))).pipe((0,lu.R)(M.outsideAngular),(0,ed.Q)(M.insideAngular))}}(Dc())(M)}const Zd=(M,L)=>function(){const he=arguments;return L&&setTimeout(()=>{"scheduled"===L.state&&L.invoke()},10),ya(()=>M.apply(void 0,he))},mg=(M,L)=>function(){let Y;const he=arguments;for(let Fe=0;Fe<arguments.length;Fe++)"function"==typeof he[Fe]&&(L&&(Y||(Y=ya(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Bl,{},Bl,Bl)))),he[Fe]=Zd(he[Fe],Y));const Ne=function fu(M){return Dc().ngZone.runOutsideAngular(()=>M())}(()=>M.apply(this,he));if(!L){if(Ne instanceof zc.y){const Fe=Dc();return Ne.pipe((0,lu.R)(Fe.outsideAngular),(0,ed.Q)(Fe.insideAngular))}return ya(()=>Ne)}return Ne instanceof zc.y?Ne.pipe(Qf):Ne instanceof Promise?ya(()=>new Promise((Fe,st)=>Ne.then(Ut=>ya(()=>Fe(Ut)),Ut=>ya(()=>st(Ut))))):"function"==typeof Ne&&Y?function(){return setTimeout(()=>{Y&&"scheduled"===Y.state&&Y.invoke()},10),Ne.apply(this,arguments)}:ya(()=>Ne)}},229:(Gt,$e,Q)=>{Q.d($e,{$s:()=>It,BH:()=>vt,L:()=>Ee,LL:()=>bt,P0:()=>xt,Pz:()=>ot,Sg:()=>_t,US:()=>fe,ZR:()=>nt,aH:()=>mt,b$:()=>ht,eu:()=>je,hl:()=>ke,m9:()=>Gn,ne:()=>Kn,ru:()=>Mn,tV:()=>re,uI:()=>be,vZ:()=>yt,xO:()=>Dn,z$:()=>Ge,zI:()=>Qe});const we=function(K){const V=[];let G=0;for(let W=0;W<K.length;W++){let $=K.charCodeAt(W);$<128?V[G++]=$:$<2048?(V[G++]=$>>6|192,V[G++]=63&$|128):55296==(64512&$)&&W+1<K.length&&56320==(64512&K.charCodeAt(W+1))?($=65536+((1023&$)<<10)+(1023&K.charCodeAt(++W)),V[G++]=$>>18|240,V[G++]=$>>12&63|128,V[G++]=$>>6&63|128,V[G++]=63&$|128):(V[G++]=$>>12|224,V[G++]=$>>6&63|128,V[G++]=63&$|128)}return V},fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(K,V){if(!Array.isArray(K))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,W=[];for(let $=0;$<K.length;$+=3){const ve=K[$],ze=$+1<K.length,Tt=ze?K[$+1]:0,an=$+2<K.length,ln=an?K[$+2]:0;let kn=(15&Tt)<<2|ln>>6,jr=63&ln;an||(jr=64,ze||(kn=64)),W.push(G[ve>>2],G[(3&ve)<<4|Tt>>4],G[kn],G[jr])}return W.join("")},encodeString(K,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(K):this.encodeByteArray(we(K),V)},decodeString(K,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(K):function(K){const V=[];let G=0,W=0;for(;G<K.length;){const $=K[G++];if($<128)V[W++]=String.fromCharCode($);else if($>191&&$<224){const ve=K[G++];V[W++]=String.fromCharCode((31&$)<<6|63&ve)}else if($>239&&$<365){const an=((7&$)<<18|(63&K[G++])<<12|(63&K[G++])<<6|63&K[G++])-65536;V[W++]=String.fromCharCode(55296+(an>>10)),V[W++]=String.fromCharCode(56320+(1023&an))}else{const ve=K[G++],ze=K[G++];V[W++]=String.fromCharCode((15&$)<<12|(63&ve)<<6|63&ze)}}return V.join("")}(this.decodeStringToByteArray(K,V))},decodeStringToByteArray(K,V){this.init_();const G=V?this.charToByteMapWebSafe_:this.charToByteMap_,W=[];for(let $=0;$<K.length;){const ve=G[K.charAt($++)],Tt=$<K.length?G[K.charAt($)]:0;++$;const ln=$<K.length?G[K.charAt($)]:64;++$;const $t=$<K.length?G[K.charAt($)]:64;if(++$,null==ve||null==Tt||null==ln||null==$t)throw new Oe;W.push(ve<<2|Tt>>4),64!==ln&&(W.push(Tt<<4&240|ln>>2),64!==$t&&W.push(ln<<6&192|$t))}return W},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let K=0;K<this.ENCODED_VALS.length;K++)this.byteToCharMap_[K]=this.ENCODED_VALS.charAt(K),this.charToByteMap_[this.byteToCharMap_[K]]=K,this.byteToCharMapWebSafe_[K]=this.ENCODED_VALS_WEBSAFE.charAt(K),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[K]]=K,K>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(K)]=K,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(K)]=K)}}};class Oe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ee=function(K){return function(K){const V=we(K);return fe.encodeByteArray(V,!0)}(K).replace(/\./g,"")},re=function(K){try{return fe.decodeString(K,!0)}catch(V){console.error("base64Decode failed: ",V)}return null},kt=()=>{try{return function Pe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const K=process.env.__FIREBASE_DEFAULTS__;return K?JSON.parse(K):void 0})()||(()=>{if(typeof document>"u")return;let K;try{K=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const V=K&&re(K[1]);return V&&JSON.parse(V)})()}catch(K){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${K}`)}},xt=K=>{const V=(K=>{var V,G;return null===(G=null===(V=kt())||void 0===V?void 0:V.emulatorHosts)||void 0===G?void 0:G[K]})(K);if(!V)return;const G=V.lastIndexOf(":");if(G<=0||G+1===V.length)throw new Error(`Invalid host ${V} with no separate hostname and port!`);const W=parseInt(V.substring(G+1),10);return"["===V[0]?[V.substring(1,G-1),W]:[V.substring(0,G),W]},mt=()=>{var K;return null===(K=kt())||void 0===K?void 0:K.config},ot=K=>{var V;return null===(V=kt())||void 0===V?void 0:V[`_${K}`]};class vt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((V,G)=>{this.resolve=V,this.reject=G})}wrapCallback(V){return(G,W)=>{G?this.reject(G):this.resolve(W),"function"==typeof V&&(this.promise.catch(()=>{}),1===V.length?V(G):V(G,W))}}}function _t(K,V){if(K.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const W=V||"demo-project",$=K.iat||0,ve=K.sub||K.user_id;if(!ve)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ze=Object.assign({iss:`https://securetoken.google.com/${W}`,aud:W,iat:$,exp:$+3600,auth_time:$,sub:ve,user_id:ve,firebase:{sign_in_provider:"custom",identities:{}}},K);return[Ee(JSON.stringify({alg:"none",type:"JWT"})),Ee(JSON.stringify(ze)),""].join(".")}function Ge(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function be(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ge())}function Mn(){const K="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof K&&void 0!==K.id}function ht(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ke(){try{return"object"==typeof indexedDB}catch{return!1}}function je(){return new Promise((K,V)=>{try{let G=!0;const W="validate-browser-context-for-indexeddb-analytics-module",$=self.indexedDB.open(W);$.onsuccess=()=>{$.result.close(),G||self.indexedDB.deleteDatabase(W),K(!0)},$.onupgradeneeded=()=>{G=!1},$.onerror=()=>{var ve;V((null===(ve=$.error)||void 0===ve?void 0:ve.message)||"")}}catch(G){V(G)}})}function Qe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class nt extends Error{constructor(V,G,W){super(G),this.code=V,this.customData=W,this.name="FirebaseError",Object.setPrototypeOf(this,nt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bt.prototype.create)}}class bt{constructor(V,G,W){this.service=V,this.serviceName=G,this.errors=W}create(V,...G){const W=G[0]||{},$=`${this.service}/${V}`,ve=this.errors[V],ze=ve?function Rt(K,V){return K.replace(Ht,(G,W)=>{const $=V[W];return null!=$?String($):`<${W}?>`})}(ve,W):"Error";return new nt($,`${this.serviceName}: ${ze} (${$}).`,W)}}const Ht=/\{\$([^}]+)}/g;function yt(K,V){if(K===V)return!0;const G=Object.keys(K),W=Object.keys(V);for(const $ of G){if(!W.includes($))return!1;const ve=K[$],ze=V[$];if(St(ve)&&St(ze)){if(!yt(ve,ze))return!1}else if(ve!==ze)return!1}for(const $ of W)if(!G.includes($))return!1;return!0}function St(K){return null!==K&&"object"==typeof K}function Dn(K){const V=[];for(const[G,W]of Object.entries(K))Array.isArray(W)?W.forEach($=>{V.push(encodeURIComponent(G)+"="+encodeURIComponent($))}):V.push(encodeURIComponent(G)+"="+encodeURIComponent(W));return V.length?"&"+V.join("&"):""}function Kn(K,V){const G=new tn(K,V);return G.subscribe.bind(G)}class tn{constructor(V,G){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(()=>{V(this)}).catch(W=>{this.error(W)})}next(V){this.forEachObserver(G=>{G.next(V)})}error(V){this.forEachObserver(G=>{G.error(V)}),this.close(V)}complete(){this.forEachObserver(V=>{V.complete()}),this.close()}subscribe(V,G,W){let $;if(void 0===V&&void 0===G&&void 0===W)throw new Error("Missing Observer.");$=function vr(K,V){if("object"!=typeof K||null===K)return!1;for(const G of V)if(G in K&&"function"==typeof K[G])return!0;return!1}(V,["next","error","complete"])?V:{next:V,error:G,complete:W},void 0===$.next&&($.next=mn),void 0===$.error&&($.error=mn),void 0===$.complete&&($.complete=mn);const ve=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?$.error(this.finalError):$.complete()}catch{}}),this.observers.push($),ve}unsubscribeOne(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(V){if(!this.finalized)for(let G=0;G<this.observers.length;G++)this.sendOne(G,V)}sendOne(V,G){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[V])try{G(this.observers[V])}catch(W){typeof console<"u"&&console.error&&console.error(W)}})}close(V){this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mn(){}const mi=1e3,tt=2,Ce=144e5,Ke=.5;function It(K,V=mi,G=tt){const W=V*Math.pow(G,K),$=Math.round(Ke*W*(Math.random()-.5)*2);return Math.min(Ce,W+$)}function Gn(K){return K&&K._delegate?K._delegate:K}},9058:(Gt,$e,Q)=>{Q.d($e,{BH:()=>vt,L:()=>Ee,LL:()=>bt,Pz:()=>ot,ZR:()=>nt,aH:()=>mt,b$:()=>ht,eu:()=>je,hl:()=>ke,m9:()=>Gn,ne:()=>Kn,pd:()=>Yt,q4:()=>An,ru:()=>Mn,tV:()=>re,uI:()=>be,vZ:()=>yt,w1:()=>En,xO:()=>Dn,xb:()=>Re,z$:()=>Ge,zd:()=>on});const we=function(K){const V=[];let G=0;for(let W=0;W<K.length;W++){let $=K.charCodeAt(W);$<128?V[G++]=$:$<2048?(V[G++]=$>>6|192,V[G++]=63&$|128):55296==(64512&$)&&W+1<K.length&&56320==(64512&K.charCodeAt(W+1))?($=65536+((1023&$)<<10)+(1023&K.charCodeAt(++W)),V[G++]=$>>18|240,V[G++]=$>>12&63|128,V[G++]=$>>6&63|128,V[G++]=63&$|128):(V[G++]=$>>12|224,V[G++]=$>>6&63|128,V[G++]=63&$|128)}return V},fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(K,V){if(!Array.isArray(K))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,W=[];for(let $=0;$<K.length;$+=3){const ve=K[$],ze=$+1<K.length,Tt=ze?K[$+1]:0,an=$+2<K.length,ln=an?K[$+2]:0;let kn=(15&Tt)<<2|ln>>6,jr=63&ln;an||(jr=64,ze||(kn=64)),W.push(G[ve>>2],G[(3&ve)<<4|Tt>>4],G[kn],G[jr])}return W.join("")},encodeString(K,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(K):this.encodeByteArray(we(K),V)},decodeString(K,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(K):function(K){const V=[];let G=0,W=0;for(;G<K.length;){const $=K[G++];if($<128)V[W++]=String.fromCharCode($);else if($>191&&$<224){const ve=K[G++];V[W++]=String.fromCharCode((31&$)<<6|63&ve)}else if($>239&&$<365){const an=((7&$)<<18|(63&K[G++])<<12|(63&K[G++])<<6|63&K[G++])-65536;V[W++]=String.fromCharCode(55296+(an>>10)),V[W++]=String.fromCharCode(56320+(1023&an))}else{const ve=K[G++],ze=K[G++];V[W++]=String.fromCharCode((15&$)<<12|(63&ve)<<6|63&ze)}}return V.join("")}(this.decodeStringToByteArray(K,V))},decodeStringToByteArray(K,V){this.init_();const G=V?this.charToByteMapWebSafe_:this.charToByteMap_,W=[];for(let $=0;$<K.length;){const ve=G[K.charAt($++)],Tt=$<K.length?G[K.charAt($)]:0;++$;const ln=$<K.length?G[K.charAt($)]:64;++$;const $t=$<K.length?G[K.charAt($)]:64;if(++$,null==ve||null==Tt||null==ln||null==$t)throw new Oe;W.push(ve<<2|Tt>>4),64!==ln&&(W.push(Tt<<4&240|ln>>2),64!==$t&&W.push(ln<<6&192|$t))}return W},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let K=0;K<this.ENCODED_VALS.length;K++)this.byteToCharMap_[K]=this.ENCODED_VALS.charAt(K),this.charToByteMap_[this.byteToCharMap_[K]]=K,this.byteToCharMapWebSafe_[K]=this.ENCODED_VALS_WEBSAFE.charAt(K),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[K]]=K,K>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(K)]=K,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(K)]=K)}}};class Oe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ee=function(K){return function(K){const V=we(K);return fe.encodeByteArray(V,!0)}(K).replace(/\./g,"")},re=function(K){try{return fe.decodeString(K,!0)}catch(V){console.error("base64Decode failed: ",V)}return null},kt=()=>{try{return function Pe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const K=process.env.__FIREBASE_DEFAULTS__;return K?JSON.parse(K):void 0})()||(()=>{if(typeof document>"u")return;let K;try{K=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const V=K&&re(K[1]);return V&&JSON.parse(V)})()}catch(K){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${K}`)}},An=K=>{var V,G;return null===(G=null===(V=kt())||void 0===V?void 0:V.emulatorHosts)||void 0===G?void 0:G[K]},mt=()=>{var K;return null===(K=kt())||void 0===K?void 0:K.config},ot=K=>{var V;return null===(V=kt())||void 0===V?void 0:V[`_${K}`]};class vt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((V,G)=>{this.resolve=V,this.reject=G})}wrapCallback(V){return(G,W)=>{G?this.reject(G):this.resolve(W),"function"==typeof V&&(this.promise.catch(()=>{}),1===V.length?V(G):V(G,W))}}}function Ge(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function be(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ge())}function Mn(){const K="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof K&&void 0!==K.id}function ht(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function En(){const K=Ge();return K.indexOf("MSIE ")>=0||K.indexOf("Trident/")>=0}function ke(){try{return"object"==typeof indexedDB}catch{return!1}}function je(){return new Promise((K,V)=>{try{let G=!0;const W="validate-browser-context-for-indexeddb-analytics-module",$=self.indexedDB.open(W);$.onsuccess=()=>{$.result.close(),G||self.indexedDB.deleteDatabase(W),K(!0)},$.onupgradeneeded=()=>{G=!1},$.onerror=()=>{var ve;V((null===(ve=$.error)||void 0===ve?void 0:ve.message)||"")}}catch(G){V(G)}})}class nt extends Error{constructor(V,G,W){super(G),this.code=V,this.customData=W,this.name="FirebaseError",Object.setPrototypeOf(this,nt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bt.prototype.create)}}class bt{constructor(V,G,W){this.service=V,this.serviceName=G,this.errors=W}create(V,...G){const W=G[0]||{},$=`${this.service}/${V}`,ve=this.errors[V],ze=ve?function Rt(K,V){return K.replace(Ht,(G,W)=>{const $=V[W];return null!=$?String($):`<${W}?>`})}(ve,W):"Error";return new nt($,`${this.serviceName}: ${ze} (${$}).`,W)}}const Ht=/\{\$([^}]+)}/g;function Re(K){for(const V in K)if(Object.prototype.hasOwnProperty.call(K,V))return!1;return!0}function yt(K,V){if(K===V)return!0;const G=Object.keys(K),W=Object.keys(V);for(const $ of G){if(!W.includes($))return!1;const ve=K[$],ze=V[$];if(St(ve)&&St(ze)){if(!yt(ve,ze))return!1}else if(ve!==ze)return!1}for(const $ of W)if(!G.includes($))return!1;return!0}function St(K){return null!==K&&"object"==typeof K}function Dn(K){const V=[];for(const[G,W]of Object.entries(K))Array.isArray(W)?W.forEach($=>{V.push(encodeURIComponent(G)+"="+encodeURIComponent($))}):V.push(encodeURIComponent(G)+"="+encodeURIComponent(W));return V.length?"&"+V.join("&"):""}function on(K){const V={};return K.replace(/^\?/,"").split("&").forEach(W=>{if(W){const[$,ve]=W.split("=");V[decodeURIComponent($)]=decodeURIComponent(ve)}}),V}function Yt(K){const V=K.indexOf("?");if(!V)return"";const G=K.indexOf("#",V);return K.substring(V,G>0?G:void 0)}function Kn(K,V){const G=new tn(K,V);return G.subscribe.bind(G)}class tn{constructor(V,G){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(()=>{V(this)}).catch(W=>{this.error(W)})}next(V){this.forEachObserver(G=>{G.next(V)})}error(V){this.forEachObserver(G=>{G.error(V)}),this.close(V)}complete(){this.forEachObserver(V=>{V.complete()}),this.close()}subscribe(V,G,W){let $;if(void 0===V&&void 0===G&&void 0===W)throw new Error("Missing Observer.");$=function vr(K,V){if("object"!=typeof K||null===K)return!1;for(const G of V)if(G in K&&"function"==typeof K[G])return!0;return!1}(V,["next","error","complete"])?V:{next:V,error:G,complete:W},void 0===$.next&&($.next=mn),void 0===$.error&&($.error=mn),void 0===$.complete&&($.complete=mn);const ve=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?$.error(this.finalError):$.complete()}catch{}}),this.observers.push($),ve}unsubscribeOne(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(V){if(!this.finalized)for(let G=0;G<this.observers.length;G++)this.sendOne(G,V)}sendOne(V,G){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[V])try{G(this.observers[V])}catch(W){typeof console<"u"&&console.error&&console.error(W)}})}close(V){this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mn(){}function Gn(K){return K&&K._delegate?K._delegate:K}},2732:(Gt,$e,Q)=>{Q.d($e,{Q:()=>h});var w=Q(9468),ce=Q(6593);let h=(()=>{class we{constructor(fe){this.sanitizer=fe}transform(fe){let Oe;if(fe.startsWith("https://m."))Oe=new URLSearchParams(fe.split("?")[1]).get("v")||"";else{const Ee=fe.split("/");Oe=Ee[Ee.length-1]}return this.sanitizer.bypassSecurityTrustResourceUrl("https://www.youtube.com/embed/"+Oe)}static#e=this.\u0275fac=function(Oe){return new(Oe||we)(w.Y36(ce.H7,16))};static#t=this.\u0275pipe=w.Yjl({name:"safeUrl",type:we,pure:!0})}return we})()},2772:(Gt,$e,Q)=>{Q.d($e,{r:()=>de});var w=Q(6814),ce=Q(6024),h=Q(95),we=Q(9468);let de=(()=>{class fe{static#e=this.\u0275fac=function(Ee){return new(Ee||fe)};static#t=this.\u0275mod=we.oAB({type:fe});static#n=this.\u0275inj=we.cJS({imports:[w.ez,ce.Bz,h.u5,h.UX]})}return fe})()},8850:(Gt,$e,Q)=>{Q.d($e,{O:()=>de});var w=Q(5861),ce=Q(3477),h=Q(8645),we=Q(9468);let de=(()=>{class fe{constructor(He){this.firestore=He,this.commentAddedSubject=new h.x}getCommentsForRecipe(He){var Ee=this;return(0,w.Z)(function*(){try{const re=(0,ce.hJ)(Ee.firestore,"Comments"),le=(0,ce.IO)(re,(0,ce.ar)("recipeId","==",He)),Se=yield(0,ce.PL)(le),et=[];return Se.forEach(Pe=>{const it=Pe.data();et.push({create_time:it.create_time,name:it.name,recipeId:it.recipeId,text:it.text,uid:it.uid,id:Pe.id})}),et.sort((Pe,it)=>{const At=Pe.create_time.toDate();return it.create_time.toDate()-At}),et}catch(re){return console.error("Error retrieving comments:",re),[]}})()}getCommentsForUser(He){var Ee=this;return(0,w.Z)(function*(){try{const re=(0,ce.hJ)(Ee.firestore,"Comments"),le=(0,ce.IO)(re,(0,ce.ar)("uid","==",He)),Se=yield(0,ce.PL)(le),et=[];return Se.forEach(Pe=>{const it=Pe.data();et.push({create_time:it.create_time,name:it.name,recipeId:it.recipeId,text:it.text,uid:it.uid,id:Pe.id})}),et.sort((Pe,it)=>{const At=Pe.create_time.toDate();return it.create_time.toDate()-At}),et}catch(re){return console.error("Error retrieving comments:",re),[]}})()}addComment(He){var Ee=this;return(0,w.Z)(function*(){try{const re="Comments",le=yield(0,ce.ET)((0,ce.hJ)(Ee.firestore,re),He);return Ee.commentAddedSubject.next(),le.id}catch(re){return console.error("Error adding comment:",re),null}})()}deleteComment(He){var Ee=this;return(0,w.Z)(function*(){try{const le=(0,ce.JU)(Ee.firestore,"Comments",He);yield(0,ce.oe)(le),console.log("Comment deleted successfully:",He)}catch(re){console.error("Error deleting comment:",re)}})()}getCommentById(He){var Ee=this;return(0,w.Z)(function*(){const re=(0,ce.JU)(Ee.firestore,"Comments",He),le=yield(0,ce.QT)(re);if(le.exists()){const Se=le.data();return console.log(Se.recipeId),le.data()}return null})()}editComment(He,Ee){var re=this;return(0,w.Z)(function*(){try{const Se=(0,ce.JU)(re.firestore,"Comments",He);yield(0,ce.r7)(Se,Ee),console.log("Comment edited successfully:",He)}catch(le){console.error("Error editing comment:",le)}})()}getCommentAddedObservable(){return this.commentAddedSubject.asObservable()}static#e=this.\u0275fac=function(Ee){return new(Ee||fe)(we.LFG(ce.gg))};static#t=this.\u0275prov=we.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"})}return fe})()},7157:(Gt,$e,Q)=>{Q.d($e,{j:()=>we});var w=Q(5861),ce=Q(3477),h=Q(9468);let we=(()=>{class de{constructor(Oe){this.firestore=Oe}getRecipeById(Oe){var He=this;return(0,w.Z)(function*(){const Ee=(0,ce.JU)(He.firestore,"Recipe",Oe),re=yield(0,ce.QT)(Ee);if(re.exists()){let le=re.data();return le.id||(le={...le,id:Oe}),le}return null})()}updateRecipeLikes(Oe,He,Ee){var re=this;return(0,w.Z)(function*(){const Se=(0,ce.JU)(re.firestore,"Recipe",Oe);try{Ee?(console.log("remove"),yield(0,ce.r7)(Se,{likes:(0,ce.Ab)(He)})):(console.log("add"),yield(0,ce.r7)(Se,{likes:(0,ce.vr)(He)})),console.log("Recipe likes updated successfully")}catch(et){console.error("Error updating recipe likes: ",et)}})()}deleteRecipe(Oe){var He=this;return(0,w.Z)(function*(){try{const re=(0,ce.JU)(He.firestore,"Recipe",Oe);yield(0,ce.oe)(re),console.log("Recipe deleted successfully:",Oe)}catch(Ee){console.error("Error deleting recipe:",Ee)}})()}static#e=this.\u0275fac=function(He){return new(He||de)(h.LFG(ce.gg))};static#t=this.\u0275prov=h.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})()},1753:(Gt,$e,Q)=>{Q.d($e,{v:()=>He});var w=Q(5861),ce=Q(5619),h=Q(6973),we=Q(305),fe=Q(3477),Oe=Q(9468);let He=(()=>{class Ee{constructor(le){this.firestore=le,this.lastDocSubject=new ce.X(void 0),this.lastDoc$=this.lastDocSubject.asObservable()}getRecipeByUID(le){var Se=this;return(0,w.Z)(function*(){try{const et=(0,fe.hJ)(Se.firestore,"Recipe"),Pe=(0,fe.IO)(et,(0,fe.ar)("uid","==",le)),it=yield(0,fe.PL)(Pe),At=[];return it.forEach(Bt=>{const An={...Bt.data(),id:Bt.id};At.push(An)}),At}catch(et){return console.error("Error retrieving recipes:",et),[]}})()}getRecipesLoadMore(){var le=this;return(0,w.Z)(function*(){const et=yield function de(Ee,re){const le="object"==typeof re;return new Promise((Se,et)=>{const Pe=new we.Hp({next:it=>{Se(it),Pe.unsubscribe()},error:et,complete:()=>{le?Se(re.defaultValue):et(new h.K)}});Ee.subscribe(Pe)})}(le.lastDoc$);let it=(0,fe.IO)((0,fe.hJ)(le.firestore,"Recipe"),(0,fe.Xo)("title"));et&&(it=(0,fe.IO)(it,(0,fe.TQ)(et))),it=(0,fe.IO)(it,(0,fe.b9)(6));const At=yield(0,fe.PL)(it);let Bt=[];At.forEach(xt=>{const ot={...xt.data(),id:xt.id};Bt.push(ot)});const kt=6===At.size;return le.lastDocSubject.next(At.docs[At.docs.length-1]),{data:Bt,hasMore:kt}})()}getRecipes(){var le=this;return(0,w.Z)(function*(){let Pe=(0,fe.IO)((0,fe.hJ)(le.firestore,"Recipe"),(0,fe.Xo)("title"));Pe=(0,fe.IO)(Pe,(0,fe.b9)(6));const it=yield(0,fe.PL)(Pe);let At=[];return it.forEach(kt=>{const xt={...kt.data(),id:kt.id};At.push(xt)}),le.lastDocSubject.next(it.docs[it.docs.length-1]),{data:At}})()}searchRecipesByTitle(le){var Se=this;return(0,w.Z)(function*(){let Pe=(0,fe.IO)((0,fe.hJ)(Se.firestore,"Recipe"),(0,fe.Xo)("title"));const it=yield(0,fe.PL)(Pe);let At=[];return it.forEach(Bt=>{const An={...Bt.data(),id:Bt.id};At.push(An)}),le&&(At=At.filter(Bt=>Bt.title.toLowerCase().includes(le.toLowerCase()))),{data:At}})()}static#e=this.\u0275fac=function(Se){return new(Se||Ee)(Oe.LFG(fe.gg))};static#t=this.\u0275prov=Oe.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}return Ee})()},6499:(Gt,$e,Q)=>{Q.d($e,{K:()=>Ig});var w=Q(5861),ce=Q(9058),h=Q(4303),we=Q(7879),de=Q(7582),fe=Q(4537);const it=function et(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},At=new ce.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),kt=new we.Yd("@firebase/auth");function xt(A,...v){kt.logLevel<=we.in.ERROR&&kt.error(`Auth (${h.Jn}): ${A}`,...v)}function mt(A,...v){throw Ge(A,...v)}function ot(A,...v){return Ge(A,...v)}function Ge(A,...v){if("string"!=typeof A){const b=v[0],N=[...v.slice(1)];return N[0]&&(N[0].appName=A.name),A._errorFactory.create(b,...N)}return At.create(A,...v)}function be(A,v,...b){if(!A)throw Ge(v,...b)}function Ye(A){const v="INTERNAL ASSERTION FAILED: "+A;throw xt(v),new Error(v)}function gt(A,v){A||Ye(v)}function Mn(){var A;return typeof self<"u"&&(null===(A=self.location)||void 0===A?void 0:A.href)||""}function fn(){var A;return typeof self<"u"&&(null===(A=self.location)||void 0===A?void 0:A.protocol)||null}class Xn{constructor(v,b){this.shortDelay=v,this.longDelay=b,gt(b>v,"Short delay should be less than long delay!"),this.isMobile=(0,ce.uI)()||(0,ce.b$)()}get(){return function En(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function ht(){return"http:"===fn()||"https:"===fn()}()||(0,ce.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function fr(A,v){gt(A.emulator,"Emulator should always be set here");const{url:b}=A.emulator;return v?`${b}${v.startsWith("/")?v.slice(1):v}`:b}class ke{static initialize(v,b,N){this.fetchImpl=v,b&&(this.headersImpl=b),N&&(this.responseImpl=N)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Ye("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Ye("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Ye("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const je={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Qe=new Xn(3e4,6e4);function Ve(A,v){return A.tenantId&&!v.tenantId?Object.assign(Object.assign({},v),{tenantId:A.tenantId}):v}function nt(A,v,b,N){return bt.apply(this,arguments)}function bt(){return(bt=(0,w.Z)(function*(A,v,b,N,Z={}){return Rt(A,Z,(0,w.Z)(function*(){let ae={},Ae={};N&&("GET"===v?Ae=N:ae={body:JSON.stringify(N)});const Xe=(0,ce.xO)(Object.assign({key:A.config.apiKey},Ae)).slice(1),Et=yield A._getAdditionalHeaders();return Et["Content-Type"]="application/json",A.languageCode&&(Et["X-Firebase-Locale"]=A.languageCode),ke.fetch()(un(A,A.config.apiHost,b,Xe),Object.assign({method:v,headers:Et,referrerPolicy:"no-referrer"},ae))}))})).apply(this,arguments)}function Rt(A,v,b){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,w.Z)(function*(A,v,b){A._canInitEmulator=!1;const N=Object.assign(Object.assign({},je),v);try{const Z=new jn(A),ae=yield Promise.race([b(),Z.promise]);Z.clearNetworkTimeout();const Ae=yield ae.json();if("needConfirmation"in Ae)throw pr(A,"account-exists-with-different-credential",Ae);if(ae.ok&&!("errorMessage"in Ae))return Ae;{const Xe=ae.ok?Ae.errorMessage:Ae.error.message,[Et,dn]=Xe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Et)throw pr(A,"credential-already-in-use",Ae);if("EMAIL_EXISTS"===Et)throw pr(A,"email-already-in-use",Ae);if("USER_DISABLED"===Et)throw pr(A,"user-disabled",Ae);const Cn=N[Et]||Et.toLowerCase().replace(/[_\s]+/g,"-");if(dn)throw function vt(A,v,b){const N=Object.assign(Object.assign({},it()),{[v]:b});return new ce.LL("auth","Firebase",N).create(v,{appName:A.name})}(A,Cn,dn);mt(A,Cn)}}catch(Z){if(Z instanceof ce.ZR)throw Z;mt(A,"network-request-failed",{message:String(Z)})}})).apply(this,arguments)}function pn(A,v,b,N){return vn.apply(this,arguments)}function vn(){return(vn=(0,w.Z)(function*(A,v,b,N,Z={}){const ae=yield nt(A,v,b,N,Z);return"mfaPendingCredential"in ae&&mt(A,"multi-factor-auth-required",{_serverResponse:ae}),ae})).apply(this,arguments)}function un(A,v,b,N){const Z=`${v}${b}?${N}`;return A.config.emulator?fr(A.config,Z):`${A.config.apiScheme}://${Z}`}function Dt(A){switch(A){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class jn{constructor(v){this.auth=v,this.timer=null,this.promise=new Promise((b,N)=>{this.timer=setTimeout(()=>N(ot(this.auth,"network-request-failed")),Qe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function pr(A,v,b){const N={appName:A.name};b.email&&(N.email=b.email),b.phoneNumber&&(N.phoneNumber=b.phoneNumber);const Z=ot(A,v,N);return Z.customData._tokenResponse=b,Z}function De(A){return void 0!==A&&void 0!==A.enterprise}class xe{constructor(v){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===v.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=v.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=v.recaptchaEnforcementState}getProviderEnforcementState(v){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const b of this.recaptchaEnforcementState)if(b.provider&&b.provider===v)return Dt(b.enforcementState);return null}isProviderEnabled(v){return"ENFORCE"===this.getProviderEnforcementState(v)||"AUDIT"===this.getProviderEnforcementState(v)}}function yt(A,v){return St.apply(this,arguments)}function St(){return(St=(0,w.Z)(function*(A,v){return nt(A,"GET","/v2/recaptchaConfig",Ve(A,v))})).apply(this,arguments)}function Dn(){return(Dn=(0,w.Z)(function*(A,v){return nt(A,"POST","/v1/accounts:delete",v)})).apply(this,arguments)}function Kn(){return(Kn=(0,w.Z)(function*(A,v){return nt(A,"POST","/v1/accounts:lookup",v)})).apply(this,arguments)}function tn(A){if(A)try{const v=new Date(Number(A));if(!isNaN(v.getTime()))return v.toUTCString()}catch{}}function mn(){return(mn=(0,w.Z)(function*(A,v=!1){const b=(0,ce.m9)(A),N=yield b.getIdToken(v),Z=Wn(N);be(Z&&Z.exp&&Z.auth_time&&Z.iat,b.auth,"internal-error");const ae="object"==typeof Z.firebase?Z.firebase:void 0,Ae=ae?.sign_in_provider;return{claims:Z,token:N,authTime:tn(rr(Z.auth_time)),issuedAtTime:tn(rr(Z.iat)),expirationTime:tn(rr(Z.exp)),signInProvider:Ae||null,signInSecondFactor:ae?.sign_in_second_factor||null}})).apply(this,arguments)}function rr(A){return 1e3*Number(A)}function Wn(A){const[v,b,N]=A.split(".");if(void 0===v||void 0===b||void 0===N)return xt("JWT malformed, contained fewer than 3 sections"),null;try{const Z=(0,ce.tV)(b);return Z?JSON.parse(Z):(xt("Failed to decode base64 JWT payload"),null)}catch(Z){return xt("Caught error parsing JWT payload as JSON",Z?.toString()),null}}function Hn(A,v){return gi.apply(this,arguments)}function gi(){return(gi=(0,w.Z)(function*(A,v,b=!1){if(b)return v;try{return yield v}catch(N){throw N instanceof ce.ZR&&function Nn({code:A}){return"auth/user-disabled"===A||"auth/user-token-expired"===A}(N)&&A.auth.currentUser===A&&(yield A.auth.signOut()),N}})).apply(this,arguments)}class Yn{constructor(v){this.user=v,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(v){var b;if(v){const N=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),N}{this.errorBackoff=3e4;const Z=(null!==(b=this.user.stsTokenManager.expirationTime)&&void 0!==b?b:0)-Date.now()-3e5;return Math.max(0,Z)}}schedule(v=!1){var b=this;if(!this.isRunning)return;const N=this.getInterval(v);this.timerId=setTimeout((0,w.Z)(function*(){yield b.iteration()}),N)}iteration(){var v=this;return(0,w.Z)(function*(){try{yield v.user.getIdToken(!0)}catch(b){return void("auth/network-request-failed"===b?.code&&v.schedule(!0))}v.schedule()})()}}class Nr{constructor(v,b){this.createdAt=v,this.lastLoginAt=b,this._initializeTime()}_initializeTime(){this.lastSignInTime=tn(this.lastLoginAt),this.creationTime=tn(this.createdAt)}_copy(v){this.createdAt=v.createdAt,this.lastLoginAt=v.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function mi(A){return tt.apply(this,arguments)}function tt(){return tt=(0,w.Z)(function*(A){var v;const b=A.auth,N=yield A.getIdToken(),Z=yield Hn(A,function wn(A,v){return Kn.apply(this,arguments)}(b,{idToken:N}));be(Z?.users.length,b,"internal-error");const ae=Z.users[0];A._notifyReloadListener(ae);const Ae=null!==(v=ae.providerUserInfo)&&void 0!==v&&v.length?function Qt(A){return A.map(v=>{var{providerId:b}=v,N=(0,de._T)(v,["providerId"]);return{providerId:b,uid:N.rawId||"",displayName:N.displayName||null,email:N.email||null,phoneNumber:N.phoneNumber||null,photoURL:N.photoUrl||null}})}(ae.providerUserInfo):[],Xe=function It(A,v){return[...A.filter(N=>!v.some(Z=>Z.providerId===N.providerId)),...v]}(A.providerData,Ae),Cn=!!A.isAnonymous&&!(A.email&&ae.passwordHash||Xe?.length),Wr={uid:ae.localId,displayName:ae.displayName||null,photoURL:ae.photoUrl||null,email:ae.email||null,emailVerified:ae.emailVerified||!1,phoneNumber:ae.phoneNumber||null,tenantId:ae.tenantId||null,providerData:Xe,metadata:new Nr(ae.createdAt,ae.lastLoginAt),isAnonymous:Cn};Object.assign(A,Wr)}),tt.apply(this,arguments)}function Ke(){return(Ke=(0,w.Z)(function*(A){const v=(0,ce.m9)(A);yield mi(v),yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)})).apply(this,arguments)}function Gn(){return(Gn=(0,w.Z)(function*(A,v){const b=yield Rt(A,{},(0,w.Z)(function*(){const N=(0,ce.xO)({grant_type:"refresh_token",refresh_token:v}).slice(1),{tokenApiHost:Z,apiKey:ae}=A.config,Ae=un(A,Z,"/v1/token",`key=${ae}`),Xe=yield A._getAdditionalHeaders();return Xe["Content-Type"]="application/x-www-form-urlencoded",ke.fetch()(Ae,{method:"POST",headers:Xe,body:N})}));return{accessToken:b.access_token,expiresIn:b.expires_in,refreshToken:b.refresh_token}})).apply(this,arguments)}function V(){return(V=(0,w.Z)(function*(A,v){return nt(A,"POST","/v2/accounts:revokeToken",Ve(A,v))})).apply(this,arguments)}class G{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(v){be(v.idToken,"internal-error"),be(typeof v.idToken<"u","internal-error"),be(typeof v.refreshToken<"u","internal-error");const b="expiresIn"in v&&typeof v.expiresIn<"u"?Number(v.expiresIn):function ir(A){const v=Wn(A);return be(v,"internal-error"),be(typeof v.exp<"u","internal-error"),be(typeof v.iat<"u","internal-error"),Number(v.exp)-Number(v.iat)}(v.idToken);this.updateTokensAndExpiration(v.idToken,v.refreshToken,b)}getToken(v,b=!1){var N=this;return(0,w.Z)(function*(){return be(!N.accessToken||N.refreshToken,v,"user-token-expired"),b||!N.accessToken||N.isExpired?N.refreshToken?(yield N.refresh(v,N.refreshToken),N.accessToken):null:N.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(v,b){var N=this;return(0,w.Z)(function*(){const{accessToken:Z,refreshToken:ae,expiresIn:Ae}=yield function Jt(A,v){return Gn.apply(this,arguments)}(v,b);N.updateTokensAndExpiration(Z,ae,Number(Ae))})()}updateTokensAndExpiration(v,b,N){this.refreshToken=b||null,this.accessToken=v||null,this.expirationTime=Date.now()+1e3*N}static fromJSON(v,b){const{refreshToken:N,accessToken:Z,expirationTime:ae}=b,Ae=new G;return N&&(be("string"==typeof N,"internal-error",{appName:v}),Ae.refreshToken=N),Z&&(be("string"==typeof Z,"internal-error",{appName:v}),Ae.accessToken=Z),ae&&(be("number"==typeof ae,"internal-error",{appName:v}),Ae.expirationTime=ae),Ae}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(v){this.accessToken=v.accessToken,this.refreshToken=v.refreshToken,this.expirationTime=v.expirationTime}_clone(){return Object.assign(new G,this.toJSON())}_performRefresh(){return Ye("not implemented")}}function W(A,v){be("string"==typeof A||typeof A>"u","internal-error",{appName:v})}class ${constructor(v){var{uid:b,auth:N,stsTokenManager:Z}=v,ae=(0,de._T)(v,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Yn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=b,this.auth=N,this.stsTokenManager=Z,this.accessToken=Z.accessToken,this.displayName=ae.displayName||null,this.email=ae.email||null,this.emailVerified=ae.emailVerified||!1,this.phoneNumber=ae.phoneNumber||null,this.photoURL=ae.photoURL||null,this.isAnonymous=ae.isAnonymous||!1,this.tenantId=ae.tenantId||null,this.providerData=ae.providerData?[...ae.providerData]:[],this.metadata=new Nr(ae.createdAt||void 0,ae.lastLoginAt||void 0)}getIdToken(v){var b=this;return(0,w.Z)(function*(){const N=yield Hn(b,b.stsTokenManager.getToken(b.auth,v));return be(N,b.auth,"internal-error"),b.accessToken!==N&&(b.accessToken=N,yield b.auth._persistUserIfCurrent(b),b.auth._notifyListenersIfCurrent(b)),N})()}getIdTokenResult(v){return function vr(A){return mn.apply(this,arguments)}(this,v)}reload(){return function Ce(A){return Ke.apply(this,arguments)}(this)}_assign(v){this!==v&&(be(this.uid===v.uid,this.auth,"internal-error"),this.displayName=v.displayName,this.photoURL=v.photoURL,this.email=v.email,this.emailVerified=v.emailVerified,this.phoneNumber=v.phoneNumber,this.isAnonymous=v.isAnonymous,this.tenantId=v.tenantId,this.providerData=v.providerData.map(b=>Object.assign({},b)),this.metadata._copy(v.metadata),this.stsTokenManager._assign(v.stsTokenManager))}_clone(v){const b=new $(Object.assign(Object.assign({},this),{auth:v,stsTokenManager:this.stsTokenManager._clone()}));return b.metadata._copy(this.metadata),b}_onReload(v){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=v,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(v){this.reloadListener?this.reloadListener(v):this.reloadUserInfo=v}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(v,b=!1){var N=this;return(0,w.Z)(function*(){let Z=!1;v.idToken&&v.idToken!==N.stsTokenManager.accessToken&&(N.stsTokenManager.updateFromServerResponse(v),Z=!0),b&&(yield mi(N)),yield N.auth._persistUserIfCurrent(N),Z&&N.auth._notifyListenersIfCurrent(N)})()}delete(){var v=this;return(0,w.Z)(function*(){const b=yield v.getIdToken();return yield Hn(v,function yr(A,v){return Dn.apply(this,arguments)}(v.auth,{idToken:b})),v.stsTokenManager.clearRefreshToken(),v.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(v=>Object.assign({},v)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(v,b){var N,Z,ae,Ae,Xe,Et,dn,Cn;const Wr=null!==(N=b.displayName)&&void 0!==N?N:void 0,ec=null!==(Z=b.email)&&void 0!==Z?Z:void 0,Hl=null!==(ae=b.phoneNumber)&&void 0!==ae?ae:void 0,rd=null!==(Ae=b.photoURL)&&void 0!==Ae?Ae:void 0,I_=null!==(Xe=b.tenantId)&&void 0!==Xe?Xe:void 0,Xd=null!==(Et=b._redirectEventId)&&void 0!==Et?Et:void 0,id=null!==(dn=b.createdAt)&&void 0!==dn?dn:void 0,tb=null!==(Cn=b.lastLoginAt)&&void 0!==Cn?Cn:void 0,{uid:mv,emailVerified:nb,isAnonymous:rb,providerData:_v,stsTokenManager:yv}=b;be(mv&&yv,v,"internal-error");const ip=G.fromJSON(this.name,yv);be("string"==typeof mv,v,"internal-error"),W(Wr,v.name),W(ec,v.name),be("boolean"==typeof nb,v,"internal-error"),be("boolean"==typeof rb,v,"internal-error"),W(Hl,v.name),W(rd,v.name),W(I_,v.name),W(Xd,v.name),W(id,v.name),W(tb,v.name);const sd=new $({uid:mv,auth:v,email:ec,emailVerified:nb,displayName:Wr,isAnonymous:rb,photoURL:rd,phoneNumber:Hl,tenantId:I_,stsTokenManager:ip,createdAt:id,lastLoginAt:tb});return _v&&Array.isArray(_v)&&(sd.providerData=_v.map(Tg=>Object.assign({},Tg))),Xd&&(sd._redirectEventId=Xd),sd}static _fromIdTokenResponse(v,b,N=!1){return(0,w.Z)(function*(){const Z=new G;Z.updateFromServerResponse(b);const ae=new $({uid:b.localId,auth:v,stsTokenManager:Z,isAnonymous:N});return yield mi(ae),ae})()}}const ve=new Map;function ze(A){gt(A instanceof Function,"Expected a class definition");let v=ve.get(A);return v?(gt(v instanceof A,"Instance stored in cache mismatched with class"),v):(v=new A,ve.set(A,v),v)}const an=(()=>{class A{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,w.Z)(function*(){return!0})()}_set(b,N){var Z=this;return(0,w.Z)(function*(){Z.storage[b]=N})()}_get(b){var N=this;return(0,w.Z)(function*(){const Z=N.storage[b];return void 0===Z?null:Z})()}_remove(b){var N=this;return(0,w.Z)(function*(){delete N.storage[b]})()}_addListener(b,N){}_removeListener(b,N){}}return A.type="NONE",A})();function ln(A,v,b){return`firebase:${A}:${v}:${b}`}class Tn{constructor(v,b,N){this.persistence=v,this.auth=b,this.userKey=N;const{config:Z,name:ae}=this.auth;this.fullUserKey=ln(this.userKey,Z.apiKey,ae),this.fullPersistenceKey=ln("persistence",Z.apiKey,ae),this.boundEventHandler=b._onStorageEvent.bind(b),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(v){return this.persistence._set(this.fullUserKey,v.toJSON())}getCurrentUser(){var v=this;return(0,w.Z)(function*(){const b=yield v.persistence._get(v.fullUserKey);return b?$._fromJSON(v.auth,b):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(v){var b=this;return(0,w.Z)(function*(){if(b.persistence===v)return;const N=yield b.getCurrentUser();return yield b.removeCurrentUser(),b.persistence=v,N?b.setCurrentUser(N):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(v,b,N="authUser"){return(0,w.Z)(function*(){if(!b.length)return new Tn(ze(an),v,N);const Z=(yield Promise.all(b.map(function(){var dn=(0,w.Z)(function*(Cn){if(yield Cn._isAvailable())return Cn});return function(Cn){return dn.apply(this,arguments)}}()))).filter(dn=>dn);let ae=Z[0]||ze(an);const Ae=ln(N,v.config.apiKey,v.name);let Xe=null;for(const dn of b)try{const Cn=yield dn._get(Ae);if(Cn){const Wr=$._fromJSON(v,Cn);dn!==ae&&(Xe=Wr),ae=dn;break}}catch{}const Et=Z.filter(dn=>dn._shouldAllowMigration);return ae._shouldAllowMigration&&Et.length?(ae=Et[0],Xe&&(yield ae._set(Ae,Xe.toJSON())),yield Promise.all(b.map(function(){var dn=(0,w.Z)(function*(Cn){if(Cn!==ae)try{yield Cn._remove(Ae)}catch{}});return function(Cn){return dn.apply(this,arguments)}}())),new Tn(ae,v,N)):new Tn(ae,v,N)})()}}function $t(A){const v=A.toLowerCase();if(v.includes("opera/")||v.includes("opr/")||v.includes("opios/"))return"Opera";if(so(v))return"IEMobile";if(v.includes("msie")||v.includes("trident/"))return"IE";if(v.includes("edge/"))return"Edge";if(kn(v))return"Firefox";if(v.includes("silk/"))return"Silk";if(bs(v))return"Blackberry";if(Oa(v))return"Webos";if(jr(v))return"Safari";if((v.includes("chrome/")||er(v))&&!v.includes("edge/"))return"Chrome";if(oa(v))return"Android";{const N=A.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===N?.length)return N[1]}return"Other"}function kn(A=(0,ce.z$)()){return/firefox\//i.test(A)}function jr(A=(0,ce.z$)()){const v=A.toLowerCase();return v.includes("safari/")&&!v.includes("chrome/")&&!v.includes("crios/")&&!v.includes("android")}function er(A=(0,ce.z$)()){return/crios\//i.test(A)}function so(A=(0,ce.z$)()){return/iemobile/i.test(A)}function oa(A=(0,ce.z$)()){return/android/i.test(A)}function bs(A=(0,ce.z$)()){return/blackberry/i.test(A)}function Oa(A=(0,ce.z$)()){return/webos/i.test(A)}function js(A=(0,ce.z$)()){return/iphone|ipad|ipod/i.test(A)||/macintosh/i.test(A)&&/mobile/i.test(A)}function ds(A=(0,ce.z$)()){return js(A)||oa(A)||Oa(A)||bs(A)||/windows phone/i.test(A)||so(A)}function tr(A,v=[]){let b;switch(A){case"Browser":b=$t((0,ce.z$)());break;case"Worker":b=`${$t((0,ce.z$)())}-${A}`;break;default:b=A}const N=v.length?v.join(","):"FirebaseCore-web";return`${b}/JsCore/${h.Jn}/${N}`}class $s{constructor(v){this.auth=v,this.queue=[]}pushCallback(v,b){const N=ae=>new Promise((Ae,Xe)=>{try{Ae(v(ae))}catch(Et){Xe(Et)}});N.onAbort=b,this.queue.push(N);const Z=this.queue.length-1;return()=>{this.queue[Z]=()=>Promise.resolve()}}runMiddleware(v){var b=this;return(0,w.Z)(function*(){if(b.auth.currentUser===v)return;const N=[];try{for(const Z of b.queue)yield Z(v),Z.onAbort&&N.push(Z.onAbort)}catch(Z){N.reverse();for(const ae of N)try{ae()}catch{}throw b.auth._errorFactory.create("login-blocked",{originalMessage:Z?.message})}})()}}function So(){return(So=(0,w.Z)(function*(A,v={}){return nt(A,"GET","/v2/passwordPolicy",Ve(A,v))})).apply(this,arguments)}class Rs{constructor(v){var b,N,Z,ae;const Ae=v.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(b=Ae.minPasswordLength)&&void 0!==b?b:6,Ae.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Ae.maxPasswordLength),void 0!==Ae.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Ae.containsLowercaseCharacter),void 0!==Ae.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Ae.containsUppercaseCharacter),void 0!==Ae.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Ae.containsNumericCharacter),void 0!==Ae.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Ae.containsNonAlphanumericCharacter),this.enforcementState=v.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(Z=null===(N=v.allowedNonAlphanumericCharacters)||void 0===N?void 0:N.join(""))&&void 0!==Z?Z:"",this.forceUpgradeOnSignin=null!==(ae=v.forceUpgradeOnSignin)&&void 0!==ae&&ae,this.schemaVersion=v.schemaVersion}validatePassword(v){var b,N,Z,ae,Ae,Xe;const Et={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(v,Et),this.validatePasswordCharacterOptions(v,Et),Et.isValid&&(Et.isValid=null===(b=Et.meetsMinPasswordLength)||void 0===b||b),Et.isValid&&(Et.isValid=null===(N=Et.meetsMaxPasswordLength)||void 0===N||N),Et.isValid&&(Et.isValid=null===(Z=Et.containsLowercaseLetter)||void 0===Z||Z),Et.isValid&&(Et.isValid=null===(ae=Et.containsUppercaseLetter)||void 0===ae||ae),Et.isValid&&(Et.isValid=null===(Ae=Et.containsNumericCharacter)||void 0===Ae||Ae),Et.isValid&&(Et.isValid=null===(Xe=Et.containsNonAlphanumericCharacter)||void 0===Xe||Xe),Et}validatePasswordLengthOptions(v,b){const N=this.customStrengthOptions.minPasswordLength,Z=this.customStrengthOptions.maxPasswordLength;N&&(b.meetsMinPasswordLength=v.length>=N),Z&&(b.meetsMaxPasswordLength=v.length<=Z)}validatePasswordCharacterOptions(v,b){let N;this.updatePasswordCharacterOptionsStatuses(b,!1,!1,!1,!1);for(let Z=0;Z<v.length;Z++)N=v.charAt(Z),this.updatePasswordCharacterOptionsStatuses(b,N>="a"&&N<="z",N>="A"&&N<="Z",N>="0"&&N<="9",this.allowedNonAlphanumericCharacters.includes(N))}updatePasswordCharacterOptionsStatuses(v,b,N,Z,ae){this.customStrengthOptions.containsLowercaseLetter&&(v.containsLowercaseLetter||(v.containsLowercaseLetter=b)),this.customStrengthOptions.containsUppercaseLetter&&(v.containsUppercaseLetter||(v.containsUppercaseLetter=N)),this.customStrengthOptions.containsNumericCharacter&&(v.containsNumericCharacter||(v.containsNumericCharacter=Z)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(v.containsNonAlphanumericCharacter||(v.containsNonAlphanumericCharacter=ae))}}class zs{constructor(v,b,N,Z){this.app=v,this.heartbeatServiceProvider=b,this.appCheckServiceProvider=N,this.config=Z,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ps(this),this.idTokenSubscription=new Ps(this),this.beforeStateQueue=new $s(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=At,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=v.name,this.clientVersion=Z.sdkClientVersion}_initializeWithPersistence(v,b){var N=this;return b&&(this._popupRedirectResolver=ze(b)),this._initializationPromise=this.queue((0,w.Z)(function*(){var Z,ae;if(!N._deleted&&(N.persistenceManager=yield Tn.create(N,v),!N._deleted)){if(null!==(Z=N._popupRedirectResolver)&&void 0!==Z&&Z._shouldInitProactively)try{yield N._popupRedirectResolver._initialize(N)}catch{}yield N.initializeCurrentUser(b),N.lastNotifiedUid=(null===(ae=N.currentUser)||void 0===ae?void 0:ae.uid)||null,!N._deleted&&(N._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var v=this;return(0,w.Z)(function*(){if(v._deleted)return;const b=yield v.assertedPersistence.getCurrentUser();if(v.currentUser||b){if(v.currentUser&&b&&v.currentUser.uid===b.uid)return v._currentUser._assign(b),void(yield v.currentUser.getIdToken());yield v._updateCurrentUser(b,!0)}})()}initializeCurrentUser(v){var b=this;return(0,w.Z)(function*(){var N;const Z=yield b.assertedPersistence.getCurrentUser();let ae=Z,Ae=!1;if(v&&b.config.authDomain){yield b.getOrInitRedirectPersistenceManager();const Xe=null===(N=b.redirectUser)||void 0===N?void 0:N._redirectEventId,Et=ae?._redirectEventId,dn=yield b.tryRedirectSignIn(v);(!Xe||Xe===Et)&&dn?.user&&(ae=dn.user,Ae=!0)}if(!ae)return b.directlySetCurrentUser(null);if(!ae._redirectEventId){if(Ae)try{yield b.beforeStateQueue.runMiddleware(ae)}catch(Xe){ae=Z,b._popupRedirectResolver._overrideRedirectResult(b,()=>Promise.reject(Xe))}return ae?b.reloadAndSetCurrentUserOrClear(ae):b.directlySetCurrentUser(null)}return be(b._popupRedirectResolver,b,"argument-error"),yield b.getOrInitRedirectPersistenceManager(),b.redirectUser&&b.redirectUser._redirectEventId===ae._redirectEventId?b.directlySetCurrentUser(ae):b.reloadAndSetCurrentUserOrClear(ae)})()}tryRedirectSignIn(v){var b=this;return(0,w.Z)(function*(){let N=null;try{N=yield b._popupRedirectResolver._completeRedirectFn(b,v,!0)}catch{yield b._setRedirectUser(null)}return N})()}reloadAndSetCurrentUserOrClear(v){var b=this;return(0,w.Z)(function*(){try{yield mi(v)}catch(N){if("auth/network-request-failed"!==N?.code)return b.directlySetCurrentUser(null)}return b.directlySetCurrentUser(v)})()}useDeviceLanguage(){this.languageCode=function Ln(){if(typeof navigator>"u")return null;const A=navigator;return A.languages&&A.languages[0]||A.language||null}()}_delete(){var v=this;return(0,w.Z)(function*(){v._deleted=!0})()}updateCurrentUser(v){var b=this;return(0,w.Z)(function*(){const N=v?(0,ce.m9)(v):null;return N&&be(N.auth.config.apiKey===b.config.apiKey,b,"invalid-user-token"),b._updateCurrentUser(N&&N._clone(b))})()}_updateCurrentUser(v,b=!1){var N=this;return(0,w.Z)(function*(){if(!N._deleted)return v&&be(N.tenantId===v.tenantId,N,"tenant-id-mismatch"),b||(yield N.beforeStateQueue.runMiddleware(v)),N.queue((0,w.Z)(function*(){yield N.directlySetCurrentUser(v),N.notifyAuthListeners()}))})()}signOut(){var v=this;return(0,w.Z)(function*(){return yield v.beforeStateQueue.runMiddleware(null),(v.redirectPersistenceManager||v._popupRedirectResolver)&&(yield v._setRedirectUser(null)),v._updateCurrentUser(null,!0)})()}setPersistence(v){var b=this;return this.queue((0,w.Z)(function*(){yield b.assertedPersistence.setPersistence(ze(v))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(v){var b=this;return(0,w.Z)(function*(){b._getPasswordPolicyInternal()||(yield b._updatePasswordPolicy());const N=b._getPasswordPolicyInternal();return N.schemaVersion!==b.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(b._errorFactory.create("unsupported-password-policy-schema-version",{})):N.validatePassword(v)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var v=this;return(0,w.Z)(function*(){const b=yield function oo(A){return So.apply(this,arguments)}(v),N=new Rs(b);null===v.tenantId?v._projectPasswordPolicy=N:v._tenantPasswordPolicies[v.tenantId]=N})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(v){this._errorFactory=new ce.LL("auth","Firebase",v())}onAuthStateChanged(v,b,N){return this.registerStateListener(this.authStateSubscription,v,b,N)}beforeAuthStateChanged(v,b){return this.beforeStateQueue.pushCallback(v,b)}onIdTokenChanged(v,b,N){return this.registerStateListener(this.idTokenSubscription,v,b,N)}authStateReady(){return new Promise((v,b)=>{if(this.currentUser)v();else{const N=this.onAuthStateChanged(()=>{N(),v()},b)}})}revokeAccessToken(v){var b=this;return(0,w.Z)(function*(){if(b.currentUser){const N=yield b.currentUser.getIdToken(),Z={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:v,idToken:N};null!=b.tenantId&&(Z.tenantId=b.tenantId),yield function K(A,v){return V.apply(this,arguments)}(b,Z)}})()}toJSON(){var v;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(v=this._currentUser)||void 0===v?void 0:v.toJSON()}}_setRedirectUser(v,b){var N=this;return(0,w.Z)(function*(){const Z=yield N.getOrInitRedirectPersistenceManager(b);return null===v?Z.removeCurrentUser():Z.setCurrentUser(v)})()}getOrInitRedirectPersistenceManager(v){var b=this;return(0,w.Z)(function*(){if(!b.redirectPersistenceManager){const N=v&&ze(v)||b._popupRedirectResolver;be(N,b,"argument-error"),b.redirectPersistenceManager=yield Tn.create(b,[ze(N._redirectPersistence)],"redirectUser"),b.redirectUser=yield b.redirectPersistenceManager.getCurrentUser()}return b.redirectPersistenceManager})()}_redirectUserForId(v){var b=this;return(0,w.Z)(function*(){var N,Z;return b._isInitialized&&(yield b.queue((0,w.Z)(function*(){}))),(null===(N=b._currentUser)||void 0===N?void 0:N._redirectEventId)===v?b._currentUser:(null===(Z=b.redirectUser)||void 0===Z?void 0:Z._redirectEventId)===v?b.redirectUser:null})()}_persistUserIfCurrent(v){var b=this;return(0,w.Z)(function*(){if(v===b.currentUser)return b.queue((0,w.Z)(function*(){return b.directlySetCurrentUser(v)}))})()}_notifyListenersIfCurrent(v){v===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var v,b;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const N=null!==(b=null===(v=this.currentUser)||void 0===v?void 0:v.uid)&&void 0!==b?b:null;this.lastNotifiedUid!==N&&(this.lastNotifiedUid=N,this.authStateSubscription.next(this.currentUser))}registerStateListener(v,b,N,Z){if(this._deleted)return()=>{};const ae="function"==typeof b?b:b.next.bind(b);let Ae=!1;const Xe=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(Xe,this,"internal-error"),Xe.then(()=>{Ae||ae(this.currentUser)}),"function"==typeof b){const Et=v.addObserver(b,N,Z);return()=>{Ae=!0,Et()}}{const Et=v.addObserver(b);return()=>{Ae=!0,Et()}}}directlySetCurrentUser(v){var b=this;return(0,w.Z)(function*(){b.currentUser&&b.currentUser!==v&&b._currentUser._stopProactiveRefresh(),v&&b.isProactiveRefreshEnabled&&v._startProactiveRefresh(),b.currentUser=v,v?yield b.assertedPersistence.setCurrentUser(v):yield b.assertedPersistence.removeCurrentUser()})()}queue(v){return this.operations=this.operations.then(v,v),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(v){!v||this.frameworks.includes(v)||(this.frameworks.push(v),this.frameworks.sort(),this.clientVersion=tr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var v=this;return(0,w.Z)(function*(){var b;const N={"X-Client-Version":v.clientVersion};v.app.options.appId&&(N["X-Firebase-gmpid"]=v.app.options.appId);const Z=yield null===(b=v.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===b?void 0:b.getHeartbeatsHeader();Z&&(N["X-Firebase-Client"]=Z);const ae=yield v._getAppCheckToken();return ae&&(N["X-Firebase-AppCheck"]=ae),N})()}_getAppCheckToken(){var v=this;return(0,w.Z)(function*(){var b;const N=yield null===(b=v.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===b?void 0:b.getToken();return N?.error&&function An(A,...v){kt.logLevel<=we.in.WARN&&kt.warn(`Auth (${h.Jn}): ${A}`,...v)}(`Error while retrieving App Check token: ${N.error}`),N?.token})()}}function ci(A){return(0,ce.m9)(A)}class Ps{constructor(v){this.auth=v,this.observer=null,this.addObserver=(0,ce.ne)(b=>this.observer=b)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ts={loadJS:()=>(0,w.Z)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ws(A){return ts.loadJS(A)}function Is(A){return`__${A}${Math.floor(1e6*Math.random())}`}class fs{constructor(v){this.type="recaptcha-enterprise",this.auth=ci(v)}verify(v="verify",b=!1){var N=this;return(0,w.Z)(function*(){function ae(){return ae=(0,w.Z)(function*(Xe){if(!b){if(null==Xe.tenantId&&null!=Xe._agentRecaptchaConfig)return Xe._agentRecaptchaConfig.siteKey;if(null!=Xe.tenantId&&void 0!==Xe._tenantRecaptchaConfigs[Xe.tenantId])return Xe._tenantRecaptchaConfigs[Xe.tenantId].siteKey}return new Promise(function(){var Et=(0,w.Z)(function*(dn,Cn){yt(Xe,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Wr=>{if(void 0!==Wr.recaptchaKey){const ec=new xe(Wr);return null==Xe.tenantId?Xe._agentRecaptchaConfig=ec:Xe._tenantRecaptchaConfigs[Xe.tenantId]=ec,dn(ec.siteKey)}Cn(new Error("recaptcha Enterprise site key undefined"))}).catch(Wr=>{Cn(Wr)})});return function(dn,Cn){return Et.apply(this,arguments)}}())}),ae.apply(this,arguments)}function Ae(Xe,Et,dn){const Cn=window.grecaptcha;De(Cn)?Cn.enterprise.ready(()=>{Cn.enterprise.execute(Xe,{action:v}).then(Wr=>{Et(Wr)}).catch(()=>{Et("NO_RECAPTCHA")})}):dn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Xe,Et)=>{(function Z(Xe){return ae.apply(this,arguments)})(N.auth).then(dn=>{if(!b&&De(window.grecaptcha))Ae(dn,Xe,Et);else{if(typeof window>"u")return void Et(new Error("RecaptchaVerifier is only supported in browser"));let Cn=function _i(){return ts.recaptchaEnterpriseScript}();0!==Cn.length&&(Cn+=dn),ws(Cn).then(()=>{Ae(dn,Xe,Et)}).catch(Wr=>{Et(Wr)})}}).catch(dn=>{Et(dn)})})})()}}function yi(A,v,b){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,w.Z)(function*(A,v,b,N=!1){const Z=new fs(A);let ae;try{ae=yield Z.verify(b)}catch{ae=yield Z.verify(b,!0)}const Ae=Object.assign({},v);return Object.assign(Ae,N?{captchaResp:ae}:{captchaResponse:ae}),Object.assign(Ae,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ae,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ae})).apply(this,arguments)}function Ts(A,v,b,N){return qs.apply(this,arguments)}function qs(){return qs=(0,w.Z)(function*(A,v,b,N){var Z;if(null!==(Z=A._getRecaptchaConfig())&&void 0!==Z&&Z.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const ae=yield yi(A,v,b,"getOobCode"===b);return N(A,ae)}return N(A,v).catch(function(){var ae=(0,w.Z)(function*(Ae){if("auth/missing-recaptcha-token"===Ae.code){console.log(`${b} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Xe=yield yi(A,v,b,"getOobCode"===b);return N(A,Xe)}return Promise.reject(Ae)});return function(Ae){return ae.apply(this,arguments)}}())}),qs.apply(this,arguments)}function xa(A){const v=A.indexOf(":");return v<0?"":A.substr(0,v+1)}function Ao(A){if(!A)return null;const v=Number(A);return isNaN(v)?null:v}class Zo{constructor(v,b){this.providerId=v,this.signInMethod=b}toJSON(){return Ye("not implemented")}_getIdTokenResponse(v){return Ye("not implemented")}_linkToIdToken(v,b){return Ye("not implemented")}_getReauthenticationResolver(v){return Ye("not implemented")}}function co(A,v){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,w.Z)(function*(A,v){return nt(A,"POST","/v1/accounts:signUp",v)})).apply(this,arguments)}function Ci(A,v){return ns.apply(this,arguments)}function ns(){return(ns=(0,w.Z)(function*(A,v){return pn(A,"POST","/v1/accounts:signInWithPassword",Ve(A,v))})).apply(this,arguments)}function sr(){return(sr=(0,w.Z)(function*(A,v){return nt(A,"POST","/v1/accounts:sendOobCode",Ve(A,v))})).apply(this,arguments)}function Pa(A,v){return lo.apply(this,arguments)}function lo(){return(lo=(0,w.Z)(function*(A,v){return function ui(A,v){return sr.apply(this,arguments)}(A,v)})).apply(this,arguments)}function Zs(){return(Zs=(0,w.Z)(function*(A,v){return pn(A,"POST","/v1/accounts:signInWithEmailLink",Ve(A,v))})).apply(this,arguments)}function ji(){return(ji=(0,w.Z)(function*(A,v){return pn(A,"POST","/v1/accounts:signInWithEmailLink",Ve(A,v))})).apply(this,arguments)}class Mr extends Zo{constructor(v,b,N,Z=null){super("password",N),this._email=v,this._password=b,this._tenantId=Z}static _fromEmailAndPassword(v,b){return new Mr(v,b,"password")}static _fromEmailAndCode(v,b,N=null){return new Mr(v,b,"emailLink",N)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(v){const b="string"==typeof v?JSON.parse(v):v;if(b?.email&&b?.password){if("password"===b.signInMethod)return this._fromEmailAndPassword(b.email,b.password);if("emailLink"===b.signInMethod)return this._fromEmailAndCode(b.email,b.password,b.tenantId)}return null}_getIdTokenResponse(v){var b=this;return(0,w.Z)(function*(){switch(b.signInMethod){case"password":return Ts(v,{returnSecureToken:!0,email:b._email,password:b._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ci);case"emailLink":return function Li(A,v){return Zs.apply(this,arguments)}(v,{email:b._email,oobCode:b._password});default:mt(v,"internal-error")}})()}_linkToIdToken(v,b){var N=this;return(0,w.Z)(function*(){switch(N.signInMethod){case"password":return Ts(v,{idToken:b,returnSecureToken:!0,email:N._email,password:N._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",co);case"emailLink":return function ti(A,v){return ji.apply(this,arguments)}(v,{idToken:b,email:N._email,oobCode:N._password});default:mt(v,"internal-error")}})()}_getReauthenticationResolver(v){return this._getIdTokenResponse(v)}}function di(A,v){return ps.apply(this,arguments)}function ps(){return(ps=(0,w.Z)(function*(A,v){return pn(A,"POST","/v1/accounts:signInWithIdp",Ve(A,v))})).apply(this,arguments)}class Bn{constructor(v){var b,N,Z,ae,Ae,Xe;const Et=(0,ce.zd)((0,ce.pd)(v)),dn=null!==(b=Et.apiKey)&&void 0!==b?b:null,Cn=null!==(N=Et.oobCode)&&void 0!==N?N:null,Wr=function gs(A){switch(A){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Z=Et.mode)&&void 0!==Z?Z:null);be(dn&&Cn&&Wr,"argument-error"),this.apiKey=dn,this.operation=Wr,this.code=Cn,this.continueUrl=null!==(ae=Et.continueUrl)&&void 0!==ae?ae:null,this.languageCode=null!==(Ae=Et.languageCode)&&void 0!==Ae?Ae:null,this.tenantId=null!==(Xe=Et.tenantId)&&void 0!==Xe?Xe:null}static parseLink(v){const b=function Ds(A){const v=(0,ce.zd)((0,ce.pd)(A)).link,b=v?(0,ce.zd)((0,ce.pd)(v)).deep_link_id:null,N=(0,ce.zd)((0,ce.pd)(A)).deep_link_id;return(N?(0,ce.zd)((0,ce.pd)(N)).link:null)||N||b||v||A}(v);try{return new Bn(b)}catch{return null}}}let ho=(()=>{class A{constructor(){this.providerId=A.PROVIDER_ID}static credential(b,N){return Mr._fromEmailAndPassword(b,N)}static credentialWithLink(b,N){const Z=Bn.parseLink(N);return be(Z,"argument-error"),Mr._fromEmailAndCode(b,Z.code,Z.tenantId)}}return A.PROVIDER_ID="password",A.EMAIL_PASSWORD_SIGN_IN_METHOD="password",A.EMAIL_LINK_SIGN_IN_METHOD="emailLink",A})();class ms{constructor(v){this.providerId=v,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(v){this.defaultLanguageCode=v}setCustomParameters(v){return this.customParameters=v,this}getCustomParameters(){return this.customParameters}}class hi extends ms{constructor(){super(...arguments),this.scopes=[]}addScope(v){return this.scopes.includes(v)||this.scopes.push(v),this}getScopes(){return[...this.scopes]}}function po(A,v){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,w.Z)(function*(A,v){return pn(A,"POST","/v1/accounts:signUp",Ve(A,v))})).apply(this,arguments)}class Wi{constructor(v){this.user=v.user,this.providerId=v.providerId,this._tokenResponse=v._tokenResponse,this.operationType=v.operationType}static _fromIdTokenResponse(v,b,N,Z=!1){return(0,w.Z)(function*(){const ae=yield $._fromIdTokenResponse(v,N,Z),Ae=fc(N);return new Wi({user:ae,providerId:Ae,_tokenResponse:N,operationType:b})})()}static _forOperation(v,b,N){return(0,w.Z)(function*(){yield v._updateTokensIfNecessary(N,!0);const Z=fc(N);return new Wi({user:v,providerId:Z,_tokenResponse:N,operationType:b})})()}}function fc(A){return A.providerId?A.providerId:"phoneNumber"in A?"phone":null}class pc extends ce.ZR{constructor(v,b,N,Z){var ae;super(b.code,b.message),this.operationType=N,this.user=Z,Object.setPrototypeOf(this,pc.prototype),this.customData={appName:v.name,tenantId:null!==(ae=v.tenantId)&&void 0!==ae?ae:void 0,_serverResponse:b.customData._serverResponse,operationType:N}}static _fromErrorAndOperation(v,b,N,Z){return new pc(v,b,N,Z)}}function $r(A,v,b,N){return("reauthenticate"===v?b._getReauthenticationResolver(A):b._getIdTokenResponse(A)).catch(ae=>{throw"auth/multi-factor-auth-required"===ae.code?pc._fromErrorAndOperation(A,ae,v,N):ae})}function B(){return(B=(0,w.Z)(function*(A,v,b=!1){const N=yield Hn(A,v._linkToIdToken(A.auth,yield A.getIdToken()),b);return Wi._forOperation(A,"link",N)})).apply(this,arguments)}function Fn(){return(Fn=(0,w.Z)(function*(A,v,b=!1){const{auth:N}=A,Z="reauthenticate";try{const ae=yield Hn(A,$r(N,Z,v,A),b);be(ae.idToken,N,"internal-error");const Ae=Wn(ae.idToken);be(Ae,N,"internal-error");const{sub:Xe}=Ae;return be(A.uid===Xe,N,"user-mismatch"),Wi._forOperation(A,Z,ae)}catch(ae){throw"auth/user-not-found"===ae?.code&&mt(N,"user-mismatch"),ae}})).apply(this,arguments)}function qi(A,v){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,w.Z)(function*(A,v,b=!1){const N="signIn",Z=yield $r(A,N,v),ae=yield Wi._fromIdTokenResponse(A,N,Z);return b||(yield A._updateCurrentUser(ae.user)),ae})).apply(this,arguments)}function Zi(A,v){return zi.apply(this,arguments)}function zi(){return(zi=(0,w.Z)(function*(A,v){return qi(ci(A),v)})).apply(this,arguments)}function _s(A){return ni.apply(this,arguments)}function ni(){return(ni=(0,w.Z)(function*(A){const v=ci(A);v._getPasswordPolicyInternal()&&(yield v._updatePasswordPolicy())})).apply(this,arguments)}function Ro(){return(Ro=(0,w.Z)(function*(A,v,b){const N=ci(A),Z={requestType:"PASSWORD_RESET",email:v,clientType:"CLIENT_TYPE_WEB"};b&&function Ti(A,v,b){var N;be((null===(N=b.url)||void 0===N?void 0:N.length)>0,A,"invalid-continue-uri"),be(typeof b.dynamicLinkDomain>"u"||b.dynamicLinkDomain.length>0,A,"invalid-dynamic-link-domain"),v.continueUrl=b.url,v.dynamicLinkDomain=b.dynamicLinkDomain,v.canHandleCodeInApp=b.handleCodeInApp,b.iOS&&(be(b.iOS.bundleId.length>0,A,"missing-ios-bundle-id"),v.iOSBundleId=b.iOS.bundleId),b.android&&(be(b.android.packageName.length>0,A,"missing-android-pkg-name"),v.androidInstallApp=b.android.installApp,v.androidMinimumVersionCode=b.android.minimumVersion,v.androidPackageName=b.android.packageName)}(N,Z,b),yield Ts(N,Z,"getOobCode",Pa)})).apply(this,arguments)}function bc(){return(bc=(0,w.Z)(function*(A,v,b){const N=ci(A),Ae=yield Ts(N,{returnSecureToken:!0,email:v,password:b,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",po).catch(Et=>{throw"auth/password-does-not-meet-requirements"===Et.code&&_s(A),Et}),Xe=yield Wi._fromIdTokenResponse(N,"signIn",Ae);return yield N._updateCurrentUser(Xe.user),Xe})).apply(this,arguments)}const _n="__sak";class As{constructor(v,b){this.storageRetriever=v,this.type=b}_isAvailable(){try{return this.storage?(this.storage.setItem(_n,"1"),this.storage.removeItem(_n),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(v,b){return this.storage.setItem(v,JSON.stringify(b)),Promise.resolve()}_get(v){const b=this.storage.getItem(v);return Promise.resolve(b?JSON.parse(b):null)}_remove(v){return this.storage.removeItem(v),Promise.resolve()}get storage(){return this.storageRetriever()}}const xl=(()=>{class A extends As{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(b,N)=>this.onStorageEvent(b,N),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function hg(){const A=(0,ce.z$)();return jr(A)||js(A)}()&&function hs(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ds(),this._shouldAllowMigration=!0}forAllChangedKeys(b){for(const N of Object.keys(this.listeners)){const Z=this.storage.getItem(N),ae=this.localCache[N];Z!==ae&&b(N,ae,Z)}}onStorageEvent(b,N=!1){if(!b.key)return void this.forAllChangedKeys((Xe,Et,dn)=>{this.notifyListeners(Xe,dn)});const Z=b.key;if(N?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Xe=this.storage.getItem(Z);if(b.newValue!==Xe)null!==b.newValue?this.storage.setItem(Z,b.newValue):this.storage.removeItem(Z);else if(this.localCache[Z]===b.newValue&&!N)return}const ae=()=>{const Xe=this.storage.getItem(Z);!N&&this.localCache[Z]===Xe||this.notifyListeners(Z,Xe)},Ae=this.storage.getItem(Z);!function qo(){return(0,ce.w1)()&&10===document.documentMode}()||Ae===b.newValue||b.newValue===b.oldValue?ae():setTimeout(ae,10)}notifyListeners(b,N){this.localCache[b]=N;const Z=this.listeners[b];if(Z)for(const ae of Array.from(Z))ae(N&&JSON.parse(N))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((b,N,Z)=>{this.onStorageEvent(new StorageEvent("storage",{key:b,oldValue:N,newValue:Z}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(b,N){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[b]||(this.listeners[b]=new Set,this.localCache[b]=this.storage.getItem(b)),this.listeners[b].add(N)}_removeListener(b,N){this.listeners[b]&&(this.listeners[b].delete(N),0===this.listeners[b].size&&delete this.listeners[b]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(b,N){var Z=()=>super._set,ae=this;return(0,w.Z)(function*(){yield Z().call(ae,b,N),ae.localCache[b]=JSON.stringify(N)})()}_get(b){var N=()=>super._get,Z=this;return(0,w.Z)(function*(){const ae=yield N().call(Z,b);return Z.localCache[b]=JSON.stringify(ae),ae})()}_remove(b){var N=()=>super._remove,Z=this;return(0,w.Z)(function*(){yield N().call(Z,b),delete Z.localCache[b]})()}}return A.type="LOCAL",A})(),jc=(()=>{class A extends As{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(b,N){}_removeListener(b,N){}}return A.type="SESSION",A})();let Zu=(()=>{class A{constructor(b){this.eventTarget=b,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(b){const N=this.receivers.find(ae=>ae.isListeningto(b));if(N)return N;const Z=new A(b);return this.receivers.push(Z),Z}isListeningto(b){return this.eventTarget===b}handleEvent(b){var N=this;return(0,w.Z)(function*(){const Z=b,{eventId:ae,eventType:Ae,data:Xe}=Z.data,Et=N.handlersMap[Ae];if(!Et?.size)return;Z.ports[0].postMessage({status:"ack",eventId:ae,eventType:Ae});const dn=Array.from(Et).map(function(){var Wr=(0,w.Z)(function*(ec){return ec(Z.origin,Xe)});return function(ec){return Wr.apply(this,arguments)}}()),Cn=yield function Vd(A){return Promise.all(A.map(function(){var v=(0,w.Z)(function*(b){try{return{fulfilled:!0,value:yield b}}catch(N){return{fulfilled:!1,reason:N}}});return function(b){return v.apply(this,arguments)}}()))}(dn);Z.ports[0].postMessage({status:"done",eventId:ae,eventType:Ae,response:Cn})})()}_subscribe(b,N){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[b]||(this.handlersMap[b]=new Set),this.handlersMap[b].add(N)}_unsubscribe(b,N){this.handlersMap[b]&&N&&this.handlersMap[b].delete(N),(!N||0===this.handlersMap[b].size)&&delete this.handlersMap[b],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return A.receivers=[],A})();function eu(A="",v=10){let b="";for(let N=0;N<v;N++)b+=Math.floor(10*Math.random());return A+b}class tu{constructor(v){this.target=v,this.handlers=new Set}removeMessageHandler(v){v.messageChannel&&(v.messageChannel.port1.removeEventListener("message",v.onMessage),v.messageChannel.port1.close()),this.handlers.delete(v)}_send(v,b,N=50){var Z=this;return(0,w.Z)(function*(){const ae=typeof MessageChannel<"u"?new MessageChannel:null;if(!ae)throw new Error("connection_unavailable");let Ae,Xe;return new Promise((Et,dn)=>{const Cn=eu("",20);ae.port1.start();const Wr=setTimeout(()=>{dn(new Error("unsupported_event"))},N);Xe={messageChannel:ae,onMessage(ec){const Hl=ec;if(Hl.data.eventId===Cn)switch(Hl.data.status){case"ack":clearTimeout(Wr),Ae=setTimeout(()=>{dn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ae),Et(Hl.data.response);break;default:clearTimeout(Wr),clearTimeout(Ae),dn(new Error("invalid_response"))}}},Z.handlers.add(Xe),ae.port1.addEventListener("message",Xe.onMessage),Z.target.postMessage({eventType:v,eventId:Cn,data:b},[ae.port2])}).finally(()=>{Xe&&Z.removeMessageHandler(Xe)})})()}}function ut(){return window}function Ku(){return typeof ut().WorkerGlobalScope<"u"&&"function"==typeof ut().importScripts}function Bi(){return(Bi=(0,w.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const mo="firebaseLocalStorageDb",Za="firebaseLocalStorage",ru="fbase_key";class Ic{constructor(v){this.request=v}toPromise(){return new Promise((v,b)=>{this.request.addEventListener("success",()=>{v(this.request.result)}),this.request.addEventListener("error",()=>{b(this.request.error)})})}}function Ka(A,v){return A.transaction([Za],v?"readwrite":"readonly").objectStore(Za)}function ko(){const A=indexedDB.open(mo,1);return new Promise((v,b)=>{A.addEventListener("error",()=>{b(A.error)}),A.addEventListener("upgradeneeded",()=>{const N=A.result;try{N.createObjectStore(Za,{keyPath:ru})}catch(Z){b(Z)}}),A.addEventListener("success",(0,w.Z)(function*(){const N=A.result;N.objectStoreNames.contains(Za)?v(N):(N.close(),yield function Vs(){const A=indexedDB.deleteDatabase(mo);return new Ic(A).toPromise()}(),v(yield ko()))}))})}function dl(A,v,b){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,w.Z)(function*(A,v,b){const N=Ka(A,!0).put({[ru]:v,value:b});return new Ic(N).toPromise()})).apply(this,arguments)}function Qu(){return(Qu=(0,w.Z)(function*(A,v){const b=Ka(A,!1).get(v),N=yield new Ic(b).toPromise();return void 0===N?null:N.value})).apply(this,arguments)}function Rl(A,v){const b=Ka(A,!0).delete(v);return new Ic(b).toPromise()}const x=(()=>{class A{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var b=this;return(0,w.Z)(function*(){return b.db||(b.db=yield ko()),b.db})()}_withRetries(b){var N=this;return(0,w.Z)(function*(){let Z=0;for(;;)try{const ae=yield N._openDb();return yield b(ae)}catch(ae){if(Z++>3)throw ae;N.db&&(N.db.close(),N.db=void 0)}})()}initializeServiceWorkerMessaging(){var b=this;return(0,w.Z)(function*(){return Ku()?b.initializeReceiver():b.initializeSender()})()}initializeReceiver(){var b=this;return(0,w.Z)(function*(){b.receiver=Zu._getInstance(function ul(){return Ku()?self:null}()),b.receiver._subscribe("keyChanged",function(){var N=(0,w.Z)(function*(Z,ae){return{keyProcessed:(yield b._poll()).includes(ae.key)}});return function(Z,ae){return N.apply(this,arguments)}}()),b.receiver._subscribe("ping",function(){var N=(0,w.Z)(function*(Z,ae){return["keyChanged"]});return function(Z,ae){return N.apply(this,arguments)}}())})()}initializeSender(){var b=this;return(0,w.Z)(function*(){var N,Z;if(b.activeServiceWorker=yield function Mh(){return Bi.apply(this,arguments)}(),!b.activeServiceWorker)return;b.sender=new tu(b.activeServiceWorker);const ae=yield b.sender._send("ping",{},800);ae&&null!==(N=ae[0])&&void 0!==N&&N.fulfilled&&null!==(Z=ae[0])&&void 0!==Z&&Z.value.includes("keyChanged")&&(b.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(b){var N=this;return(0,w.Z)(function*(){if(N.sender&&N.activeServiceWorker&&function Yu(){var A;return(null===(A=navigator?.serviceWorker)||void 0===A?void 0:A.controller)||null}()===N.activeServiceWorker)try{yield N.sender._send("keyChanged",{key:b},N.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,w.Z)(function*(){try{if(!indexedDB)return!1;const b=yield ko();return yield dl(b,_n,"1"),yield Rl(b,_n),!0}catch{}return!1})()}_withPendingWrite(b){var N=this;return(0,w.Z)(function*(){N.pendingWrites++;try{yield b()}finally{N.pendingWrites--}})()}_set(b,N){var Z=this;return(0,w.Z)(function*(){return Z._withPendingWrite((0,w.Z)(function*(){return yield Z._withRetries(ae=>dl(ae,b,N)),Z.localCache[b]=N,Z.notifyServiceWorker(b)}))})()}_get(b){var N=this;return(0,w.Z)(function*(){const Z=yield N._withRetries(ae=>function ma(A,v){return Qu.apply(this,arguments)}(ae,b));return N.localCache[b]=Z,Z})()}_remove(b){var N=this;return(0,w.Z)(function*(){return N._withPendingWrite((0,w.Z)(function*(){return yield N._withRetries(Z=>Rl(Z,b)),delete N.localCache[b],N.notifyServiceWorker(b)}))})()}_poll(){var b=this;return(0,w.Z)(function*(){const N=yield b._withRetries(Ae=>{const Xe=Ka(Ae,!1).getAll();return new Ic(Xe).toPromise()});if(!N)return[];if(0!==b.pendingWrites)return[];const Z=[],ae=new Set;if(0!==N.length)for(const{fbase_key:Ae,value:Xe}of N)ae.add(Ae),JSON.stringify(b.localCache[Ae])!==JSON.stringify(Xe)&&(b.notifyListeners(Ae,Xe),Z.push(Ae));for(const Ae of Object.keys(b.localCache))b.localCache[Ae]&&!ae.has(Ae)&&(b.notifyListeners(Ae,null),Z.push(Ae));return Z})()}notifyListeners(b,N){this.localCache[b]=N;const Z=this.listeners[b];if(Z)for(const ae of Array.from(Z))ae(N)}startPolling(){var b=this;this.stopPolling(),this.pollTimer=setInterval((0,w.Z)(function*(){return b._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(b,N){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[b]||(this.listeners[b]=new Set,this._get(b)),this.listeners[b].add(N)}_removeListener(b,N){this.listeners[b]&&(this.listeners[b].delete(N),0===this.listeners[b].size&&delete this.listeners[b]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return A.type="LOCAL",A})();Is("rcb"),new Xn(3e4,6e4);class fl extends Zo{constructor(v){super("custom","custom"),this.params=v}_getIdTokenResponse(v){return di(v,this._buildIdpRequest())}_linkToIdToken(v,b){return di(v,this._buildIdpRequest(b))}_getReauthenticationResolver(v){return di(v,this._buildIdpRequest())}_buildIdpRequest(v){const b={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return v&&(b.idToken=v),b}}function Xu(A){return qi(A.auth,new fl(A),A.bypassAuthState)}function kh(A){const{auth:v,user:b}=A;return be(b,v,"internal-error"),function Kt(A,v){return Fn.apply(this,arguments)}(b,new fl(A),A.bypassAuthState)}function Fh(A){return Pl.apply(this,arguments)}function Pl(){return(Pl=(0,w.Z)(function*(A){const{auth:v,user:b}=A;return be(b,v,"internal-error"),function ee(A,v){return B.apply(this,arguments)}(b,new fl(A),A.bypassAuthState)})).apply(this,arguments)}class fg{constructor(v,b,N,Z,ae=!1){this.auth=v,this.resolver=N,this.user=Z,this.bypassAuthState=ae,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(b)?b:[b]}execute(){var v=this;return new Promise(function(){var b=(0,w.Z)(function*(N,Z){v.pendingPromise={resolve:N,reject:Z};try{v.eventManager=yield v.resolver._initialize(v.auth),yield v.onExecution(),v.eventManager.registerConsumer(v)}catch(ae){v.reject(ae)}});return function(N,Z){return b.apply(this,arguments)}}())}onAuthEvent(v){var b=this;return(0,w.Z)(function*(){const{urlResponse:N,sessionId:Z,postBody:ae,tenantId:Ae,error:Xe,type:Et}=v;if(Xe)return void b.reject(Xe);const dn={auth:b.auth,requestUri:N,sessionId:Z,tenantId:Ae||void 0,postBody:ae||void 0,user:b.user,bypassAuthState:b.bypassAuthState};try{b.resolve(yield b.getIdpTask(Et)(dn))}catch(Cn){b.reject(Cn)}})()}onError(v){this.reject(v)}getIdpTask(v){switch(v){case"signInViaPopup":case"signInViaRedirect":return Xu;case"linkViaPopup":case"linkViaRedirect":return Fh;case"reauthViaPopup":case"reauthViaRedirect":return kh;default:mt(this.auth,"internal-error")}}resolve(v){gt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(v),this.unregisterAndCleanUp()}reject(v){gt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(v),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Xn(2e3,1e4);const cu="pendingRedirect",zc=new Map;class pg extends fg{constructor(v,b,N=!1){super(v,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],b,void 0,N),this.eventId=null}execute(){var v=()=>super.execute,b=this;return(0,w.Z)(function*(){let N=zc.get(b.auth._key());if(!N){try{const ae=(yield function lu(A,v){return ed.apply(this,arguments)}(b.resolver,b.auth))?yield v().call(b):null;N=()=>Promise.resolve(ae)}catch(Z){N=()=>Promise.reject(Z)}zc.set(b.auth._key(),N)}return b.bypassAuthState||zc.set(b.auth._key(),()=>Promise.resolve(null)),N()})()}onAuthEvent(v){var b=()=>super.onAuthEvent,N=this;return(0,w.Z)(function*(){if("signInViaRedirect"===v.type)return b().call(N,v);if("unknown"!==v.type){if(v.eventId){const Z=yield N.auth._redirectUserForId(v.eventId);if(Z)return N.user=Z,b().call(N,v);N.resolve(null)}}else N.resolve(null)})()}onExecution(){return(0,w.Z)(function*(){})()}cleanUp(){}}function ed(){return(ed=(0,w.Z)(function*(A,v){const b=function du(A){return ln(cu,A.config.apiKey,A.name)}(v),N=function Wc(A){return ze(A._redirectPersistence)}(A);if(!(yield N._isAvailable()))return!1;const Z="true"===(yield N._get(b));return yield N._remove(b),Z})).apply(this,arguments)}function pl(A,v){zc.set(A._key(),v)}function Dc(A,v){return fu.apply(this,arguments)}function fu(){return(fu=(0,w.Z)(function*(A,v,b=!1){const N=ci(A),Z=function Qa(A,v){return v?ze(v):(be(A._popupRedirectResolver,A,"argument-error"),A._popupRedirectResolver)}(N,v),Ae=yield new pg(N,Z,b).execute();return Ae&&!b&&(delete Ae.user._redirectEventId,yield N._persistUserIfCurrent(Ae.user),yield N._setRedirectUser(null,v)),Ae})).apply(this,arguments)}class Qf{constructor(v){this.auth=v,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(v){this.consumers.add(v),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,v)&&(this.sendToConsumer(this.queuedRedirectEvent,v),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(v){this.consumers.delete(v)}onEvent(v){if(this.hasEventBeenHandled(v))return!1;let b=!1;return this.consumers.forEach(N=>{this.isEventForConsumer(v,N)&&(b=!0,this.sendToConsumer(v,N),this.saveEventToCache(v))}),this.hasHandledPotentialRedirect||!function mg(A){switch(A.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Zd(A);default:return!1}}(v)||(this.hasHandledPotentialRedirect=!0,b||(this.queuedRedirectEvent=v,b=!0)),b}sendToConsumer(v,b){var N;if(v.error&&!Zd(v)){const Z=(null===(N=v.error.code)||void 0===N?void 0:N.split("auth/")[1])||"internal-error";b.onError(ot(this.auth,Z))}else b.onAuthEvent(v)}isEventForConsumer(v,b){const N=null===b.eventId||!!v.eventId&&v.eventId===b.eventId;return b.filter.includes(v.type)&&N}hasEventBeenHandled(v){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(qd(v))}saveEventToCache(v){this.cachedEventUids.add(qd(v)),this.lastProcessedEventTime=Date.now()}}function qd(A){return[A.type,A.eventId,A.sessionId,A.tenantId].filter(v=>v).join("-")}function Zd({type:A,error:v}){return"unknown"===A&&"auth/no-auth-event"===v?.code}function L(){return(L=(0,w.Z)(function*(A,v={}){return nt(A,"GET","/v1/projects",v)})).apply(this,arguments)}const Y=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,he=/^https?/;function Fe(){return Fe=(0,w.Z)(function*(A){if(A.config.emulator)return;const{authorizedDomains:v}=yield function M(A){return L.apply(this,arguments)}(A);for(const b of v)try{if(st(b))return}catch{}mt(A,"unauthorized-domain")}),Fe.apply(this,arguments)}function st(A){const v=Mn(),{protocol:b,hostname:N}=new URL(v);if(A.startsWith("chrome-extension://")){const Ae=new URL(A);return""===Ae.hostname&&""===N?"chrome-extension:"===b&&A.replace("chrome-extension://","")===v.replace("chrome-extension://",""):"chrome-extension:"===b&&Ae.hostname===N}if(!he.test(b))return!1;if(Y.test(A))return N===A;const Z=A.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Z+"|"+Z+")$","i").test(N)}const Ut=new Xn(3e4,6e4);function Vt(){const A=ut().___jsl;if(A?.H)for(const v of Object.keys(A.H))if(A.H[v].r=A.H[v].r||[],A.H[v].L=A.H[v].L||[],A.H[v].r=[...A.H[v].L],A.CP)for(let b=0;b<A.CP.length;b++)A.CP[b]=null}let zn=null;const Ba=new Xn(5e3,15e3),Xs="__/auth/iframe",Bh="emulator/auth/iframe",Vh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},va=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ja(A){const v=A.config;be(v.authDomain,A,"auth-domain-config-required");const b=v.emulator?fr(v,Bh):`https://${A.config.authDomain}/${Xs}`,N={apiKey:v.apiKey,appName:A.name,v:h.Jn},Z=va.get(A.config.apiHost);Z&&(N.eid=Z);const ae=A._getFrameworks();return ae.length&&(N.fw=ae.join(",")),`${b}?${(0,ce.xO)(N).slice(1)}`}function Qi(){return Qi=(0,w.Z)(function*(A){const v=yield function Qn(A){return zn=zn||function yn(A){return new Promise((v,b)=>{var N,Z,ae;function Ae(){Vt(),gapi.load("gapi.iframes",{callback:()=>{v(gapi.iframes.getContext())},ontimeout:()=>{Vt(),b(ot(A,"network-request-failed"))},timeout:Ut.get()})}if(null!==(Z=null===(N=ut().gapi)||void 0===N?void 0:N.iframes)&&void 0!==Z&&Z.Iframe)v(gapi.iframes.getContext());else{if(null===(ae=ut().gapi)||void 0===ae||!ae.load){const Xe=Is("iframefcb");return ut()[Xe]=()=>{gapi.load?Ae():b(ot(A,"network-request-failed"))},ws(`${function Ws(){return ts.gapiScript}()}?onload=${Xe}`).catch(Et=>b(Et))}Ae()}}).catch(v=>{throw zn=null,v})}(A),zn}(A),b=ut().gapi;return be(b,A,"internal-error"),v.open({where:document.body,url:Ja(A),messageHandlersFilter:b.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Vh,dontclear:!0},N=>new Promise(function(){var Z=(0,w.Z)(function*(ae,Ae){yield N.restyle({setHideOnLeave:!1});const Xe=ot(A,"network-request-failed"),Et=ut().setTimeout(()=>{Ae(Xe)},Ba.get());function dn(){ut().clearTimeout(Et),ae(N)}N.ping(dn).then(dn,()=>{Ae(Xe)})});return function(ae,Ae){return Z.apply(this,arguments)}}()))}),Qi.apply(this,arguments)}const gv={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class eo{constructor(v){this.window=v,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Ul="__/auth/handler",yo="emulator/auth/handler",ba=encodeURIComponent("fac");function gu(A,v,b,N,Z,ae){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,w.Z)(function*(A,v,b,N,Z,ae){be(A.config.authDomain,A,"auth-domain-config-required"),be(A.config.apiKey,A,"invalid-api-key");const Ae={apiKey:A.config.apiKey,appName:A.name,authType:b,redirectUrl:N,v:h.Jn,eventId:Z};if(v instanceof ms){v.setDefaultLanguage(A.languageCode),Ae.providerId=v.providerId||"",(0,ce.xb)(v.getCustomParameters())||(Ae.customParameters=JSON.stringify(v.getCustomParameters()));for(const[Cn,Wr]of Object.entries(ae||{}))Ae[Cn]=Wr}if(v instanceof hi){const Cn=v.getScopes().filter(Wr=>""!==Wr);Cn.length>0&&(Ae.scopes=Cn.join(","))}A.tenantId&&(Ae.tid=A.tenantId);const Xe=Ae;for(const Cn of Object.keys(Xe))void 0===Xe[Cn]&&delete Xe[Cn];const Et=yield A._getAppCheckToken(),dn=Et?`#${ba}=${encodeURIComponent(Et)}`:"";return`${function Gh({config:A}){return A.emulator?fr(A,yo):`https://${A.authDomain}/${Ul}`}(A)}?${(0,ce.xO)(Xe).slice(1)}${dn}`})).apply(this,arguments)}const mu="webStorageSupport",_u=class y_{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jc,this._completeRedirectFn=Dc,this._overrideRedirectResult=pl}_openPopup(v,b,N,Z){var ae=this;return(0,w.Z)(function*(){var Ae;gt(null===(Ae=ae.eventManagers[v._key()])||void 0===Ae?void 0:Ae.manager,"_initialize() not called before _openPopup()");const Xe=yield gu(v,b,N,Mn(),Z);return function Hh(A,v,b,N=500,Z=600){const ae=Math.max((window.screen.availHeight-Z)/2,0).toString(),Ae=Math.max((window.screen.availWidth-N)/2,0).toString();let Xe="";const Et=Object.assign(Object.assign({},gv),{width:N.toString(),height:Z.toString(),top:ae,left:Ae}),dn=(0,ce.z$)().toLowerCase();b&&(Xe=er(dn)?"_blank":b),kn(dn)&&(v=v||"http://localhost",Et.scrollbars="yes");const Cn=Object.entries(Et).reduce((ec,[Hl,rd])=>`${ec}${Hl}=${rd},`,"");if(function Zr(A=(0,ce.z$)()){var v;return js(A)&&!(null===(v=window.navigator)||void 0===v||!v.standalone)}(dn)&&"_self"!==Xe)return function Vl(A,v){const b=document.createElement("a");b.href=A,b.target=v;const N=document.createEvent("MouseEvent");N.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),b.dispatchEvent(N)}(v||"",Xe),new eo(null);const Wr=window.open(v||"",Xe,Cn);be(Wr,A,"popup-blocked");try{Wr.focus()}catch{}return new eo(Wr)}(v,Xe,eu())})()}_openRedirect(v,b,N,Z){var ae=this;return(0,w.Z)(function*(){return yield ae._originValidation(v),function gr(A){ut().location.href=A}(yield gu(v,b,N,Mn(),Z)),new Promise(()=>{})})()}_initialize(v){const b=v._key();if(this.eventManagers[b]){const{manager:Z,promise:ae}=this.eventManagers[b];return Z?Promise.resolve(Z):(gt(ae,"If manager is not set, promise should be"),ae)}const N=this.initAndGetManager(v);return this.eventManagers[b]={promise:N},N.catch(()=>{delete this.eventManagers[b]}),N}initAndGetManager(v){var b=this;return(0,w.Z)(function*(){const N=yield function Xa(A){return Qi.apply(this,arguments)}(v),Z=new Qf(v);return N.register("authEvent",ae=>(be(ae?.authEvent,v,"invalid-auth-event"),{status:Z.onEvent(ae.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),b.eventManagers[v._key()]={manager:Z},b.iframes[v._key()]=N,Z})()}_isIframeWebStorageSupported(v,b){this.iframes[v._key()].send(mu,{type:mu},Z=>{var ae;const Ae=null===(ae=Z?.[0])||void 0===ae?void 0:ae[mu];void 0!==Ae&&b(!!Ae),mt(v,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(v){const b=v._key();return this.originValidationPromises[b]||(this.originValidationPromises[b]=function Ne(A){return Fe.apply(this,arguments)}(v)),this.originValidationPromises[b]}get _shouldInitProactively(){return ds()||jr()||js()}};var ml="@firebase/auth";class vg{constructor(v){this.auth=v,this.internalListeners=new Map}getUid(){var v;return this.assertAuthConfigured(),(null===(v=this.auth.currentUser)||void 0===v?void 0:v.uid)||null}getToken(v){var b=this;return(0,w.Z)(function*(){return b.assertAuthConfigured(),yield b.auth._initializationPromise,b.auth.currentUser?{accessToken:yield b.auth.currentUser.getIdToken(v)}:null})()}addAuthTokenListener(v){if(this.assertAuthConfigured(),this.internalListeners.has(v))return;const b=this.auth.onIdTokenChanged(N=>{v(N?.stsTokenManager.accessToken||null)});this.internalListeners.set(v,b),this.updateProactiveRefresh()}removeAuthTokenListener(v){this.assertAuthConfigured();const b=this.internalListeners.get(v);b&&(this.internalListeners.delete(v),b(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const bg=(0,ce.Pz)("authIdTokenMaxAge")||300;let np=null;const Yd=A=>function(){var v=(0,w.Z)(function*(b){const N=b&&(yield b.getIdTokenResult()),Z=N&&((new Date).getTime()-Date.parse(N.issuedAtTime))/1e3;if(Z&&Z>bg)return;const ae=N?.token;np!==ae&&(np=ae,yield fetch(A,{method:ae?"POST":"DELETE",headers:ae?{Authorization:`Bearer ${ae}`}:{}}))});return function(b){return v.apply(this,arguments)}}();function Qd(A=(0,h.Mq)()){const v=(0,h.qX)(A,"auth");if(v.isInitialized())return v.getImmediate();const b=function ki(A,v){const b=(0,h.qX)(A,"auth");if(b.isInitialized()){const Z=b.getImmediate(),ae=b.getOptions();if((0,ce.vZ)(ae,v??{}))return Z;mt(Z,"already-initialized")}return b.initialize({options:v})}(A,{popupRedirectResolver:_u,persistence:[x,xl,jc]}),N=(0,ce.Pz)("authTokenSyncURL");if(N&&N.match(/^\/[^\/].*/)){const ae=Yd(N);(function Hc(A,v,b){(0,ce.m9)(A).beforeAuthStateChanged(v,b)})(b,ae,()=>ae(b.currentUser)),function za(A,v,b,N){(0,ce.m9)(A).onIdTokenChanged(v,b,N)}(b,Ae=>ae(Ae))}const Z=(0,ce.q4)("auth");return Z&&function sl(A,v,b){const N=ci(A);be(N._canInitEmulator,N,"emulator-config-failed"),be(/^https?:\/\//.test(v),N,"invalid-emulator-scheme");const Z=!!b?.disableWarnings,ae=xa(v),{host:Ae,port:Xe}=function dc(A){const v=xa(A),b=/(\/\/)?([^?#/]+)/.exec(A.substr(v.length));if(!b)return{host:"",port:null};const N=b[2].split("@").pop()||"",Z=/^(\[[^\]]+\])(:|$)/.exec(N);if(Z){const ae=Z[1];return{host:ae,port:Ao(N.substr(ae.length+1))}}{const[ae,Ae]=N.split(":");return{host:ae,port:Ao(Ae)}}}(v);N.config.emulator={url:`${ae}//${Ae}${null===Xe?"":`:${Xe}`}/`},N.settings.appVerificationDisabledForTesting=!0,N.emulatorConfig=Object.freeze({host:Ae,port:Xe,protocol:ae.replace(":",""),options:Object.freeze({disableWarnings:Z})}),Z||function Ra(){function A(){const v=document.createElement("p"),b=v.style;v.innerText="Running in emulator mode. Do not use with production credentials.",b.position="fixed",b.width="100%",b.backgroundColor="#ffffff",b.border=".1em solid #000000",b.color="#b50000",b.bottom="0px",b.left="0px",b.margin="0px",b.zIndex="10000",b.textAlign="center",v.classList.add("firebase-emulator-warning"),document.body.appendChild(v)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",A):A())}()}(b,`http://${Z}`),b}(function cc(A){ts=A})({loadJS:A=>new Promise((v,b)=>{const N=document.createElement("script");N.setAttribute("src",A),N.onload=v,N.onerror=Z=>{const ae=ot("internal-error");ae.customData=Z,b(ae)},N.type="text/javascript",N.charset="UTF-8",function w_(){var A,v;return null!==(v=null===(A=document.getElementsByTagName("head"))||void 0===A?void 0:A[0])&&void 0!==v?v:document}().appendChild(N)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Kd(A){(0,h.Xd)(new fe.wA("auth",(v,{options:b})=>{const N=v.getProvider("app").getImmediate(),Z=v.getProvider("heartbeat"),ae=v.getProvider("app-check-internal"),{apiKey:Ae,authDomain:Xe}=N.options;be(Ae&&!Ae.includes(":"),"invalid-api-key",{appName:N.name});const Et={apiKey:Ae,authDomain:Xe,clientPlatform:A,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tr(A)},dn=new zs(N,Z,ae,Et);return function Fi(A,v){const b=v?.persistence||[],N=(Array.isArray(b)?b:[b]).map(ze);v?.errorMap&&A._updateErrorMap(v.errorMap),A._initializeWithPersistence(N,v?.popupRedirectResolver)}(dn,b),dn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((v,b,N)=>{v.getProvider("auth-internal").initialize()})),(0,h.Xd)(new fe.wA("auth-internal",v=>{const b=ci(v.getProvider("auth").getImmediate());return new vg(b)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,h.KN)(ml,"1.6.2",function b_(A){switch(A){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(A)),(0,h.KN)(ml,"1.6.2","esm2017")}("Browser");var wg=Q(5619),Jd=Q(8180),Ia=Q(3477),rp=Q(9468),eb=Q(6024);let Ig=(()=>{class A{constructor(b,N){this.firestore=b,this.router=N,this.userDataSubject=new wg.X(null),this.userData$=this.userDataSubject.asObservable();const Z=localStorage.getItem("user");if(Z){const ae=JSON.parse(Z);this.userDataSubject.next(ae)}}registerUser(b,N,Z){var ae=this;return(0,w.Z)(function*(){try{const Ae=yield ae.createUserWithEmailAndPassword(b,N),Xe=Ae.user.uid;yield ae.addAdditionalAuthData(Xe,Z),yield ae.saveUserData(Ae.user,Z),ae.router.navigate(["recipes-list"])}catch(Ae){ae.handleError(Ae)}})()}loginUser(b,N){var Z=this;return(0,w.Z)(function*(){try{const ae=yield Z.signInWithEmailAndPassword(b,N),Ae=ae.user.uid,Xe=yield Z.getAdditionalAuthDataById(Ae);yield Z.saveUserData(ae.user,Xe),Z.router.navigate(["recipes-list"])}catch(ae){Z.handleError(ae)}})()}logoutUser(){var b=this;return(0,w.Z)(function*(){try{yield b.signOutAuth(),yield b.clearUserData(),b.router.navigate(["login"])}catch(N){b.handleError(N)}})()}forgotPassword(b){var N=this;return(0,w.Z)(function*(){try{yield N.sendPasswordResetEmail(b),window.alert("Password reset email sent, check your inbox."),N.router.navigate(["login"])}catch(Z){N.handleError(Z),window.alert(Z)}})()}updateFavoriteRecipes(b,N,Z){var ae=this;return(0,w.Z)(function*(){const Xe=(0,Ia.JU)(ae.firestore,"Auth",N);try{Z?(console.log("remove"),yield(0,Ia.r7)(Xe,{favoriteRecipes:(0,Ia.Ab)(b)})):(console.log("add"),yield(0,Ia.r7)(Xe,{favoriteRecipes:(0,Ia.vr)(b)})),console.log("Favorite recipes updated successfully");const Et=yield ae.getAdditionalAuthDataById(N);ae.userData$.pipe((0,Jd.q)(1)).subscribe(dn=>{dn?ae.saveUserData(dn,Et).then(()=>console.log("User data saved successfully")).catch(()=>console.error("Failed to save user data")):console.error("User is null")})}catch(Et){console.error("Error updating favorite recipes: ",Et)}})()}sendPasswordResetEmail(b){return function da(A,v,b){return Ro.apply(this,arguments)}(Qd(),b)}createUserWithEmailAndPassword(b,N){return function Bc(A,v,b){return bc.apply(this,arguments)}(Qd(),b,N)}signInWithEmailAndPassword(b,N){return function Vc(A,v,b){return Zi((0,ce.m9)(A),ho.credential(v,b)).catch(function(){var N=(0,w.Z)(function*(Z){throw"auth/password-does-not-meet-requirements"===Z.code&&_s(A),Z});return function(Z){return N.apply(this,arguments)}}())}(Qd(),b,N)}signOutAuth(){return function Bs(A){return(0,ce.m9)(A).signOut()}(Qd())}addAdditionalAuthData(b,N){return(0,Ia.pl)((0,Ia.JU)(this.firestore,"Auth",b),N)}getAdditionalAuthDataById(b){var N=this;return(0,w.Z)(function*(){const Z=(0,Ia.JU)(N.firestore,"Auth",b),ae=yield(0,Ia.QT)(Z);return ae.exists()?ae.data():null})()}saveUserData(b,N){return new Promise((Z,ae)=>{if(b&&N){const Ae={...b,...N};localStorage.setItem("user",JSON.stringify(Ae)),this.userDataSubject.next(Ae),Z()}else localStorage.setItem("user","null"),this.userDataSubject.next(null),ae()})}clearUserData(){return new Promise((b,N)=>{localStorage.removeItem("user"),this.userDataSubject.next(null),b()})}handleError(b){if(b instanceof Error){const Z=b.message;console.error(`Error (${b.name}): ${Z}`),alert(Z)}else console.error("Unknown error:",b),alert(b)}static#e=this.\u0275fac=function(N){return new(N||A)(rp.LFG(Ia.gg),rp.LFG(eb.F0))};static#t=this.\u0275prov=rp.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})()},9286:(Gt,$e,Q)=>{Q.d($e,{N:()=>we});var w=Q(4303);(0,w.KN)("firebase","10.9.0","app");const we={firebaseConfig:{apiKey:"AIzaSyCVbXDjBGUwaOrn1CZYGIwce1dYPKpR7PA",authDomain:"the-natural-way.firebaseapp.com",projectId:"the-natural-way",storageBucket:"the-natural-way.appspot.com",messagingSenderId:"778711637280",appId:"1:778711637280:web:30b52ea2a4e159578fcb45"},cloudinaryConfig:{cloudName:"dsla98vyk",apiKey:"587566495847865",apiSecret:"sJLzQzouizKo51b9Mv0bI8a5pCI",uploadPreset:"the_natural_way"}};(0,w.ZF)(we.firebaseConfig)},3521:(Gt,$e,Q)=>{var w=Q(6593),ce=Q(6024),h=Q(9468),we=Q(4664),de=Q(7398),fe=Q(2096),Oe=Q(6499),Ee=Q(5861),re=Q(95),le=Q(6814);function Se(l,f){1&l&&(h.TgZ(0,"div",21),h._uU(1," Email is required! "),h.qZA())}function et(l,f){1&l&&(h.TgZ(0,"div",21),h._uU(1," Please enter a valid email address! "),h.qZA())}function Pe(l,f){if(1&l&&(h.TgZ(0,"div"),h.YNc(1,Se,2,0,"div",20),h.YNc(2,et,2,0,"div",20),h.qZA()),2&l){const o=h.oxw();let d,m;h.xp6(1),h.Q6J("ngIf",null==(d=o.registerForm.get("email"))||null==d.errors?null:d.errors.required),h.xp6(1),h.Q6J("ngIf",null==(m=o.registerForm.get("email"))||null==m.errors?null:m.errors.email)}}function it(l,f){1&l&&(h.TgZ(0,"div",21),h._uU(1," Password is required! "),h.qZA())}function At(l,f){1&l&&(h.TgZ(0,"div",21),h._uU(1," Password must be at least 6 characters long! "),h.qZA())}function Bt(l,f){if(1&l&&(h.TgZ(0,"div"),h.YNc(1,it,2,0,"div",20),h.YNc(2,At,2,0,"div",20),h.qZA()),2&l){const o=h.oxw();let d,m;h.xp6(1),h.Q6J("ngIf",null==(d=o.registerForm.get("password"))||null==d.errors?null:d.errors.required),h.xp6(1),h.Q6J("ngIf",null==(m=o.registerForm.get("password"))||null==m.errors?null:m.errors.minlength)}}function kt(l,f){1&l&&(h.TgZ(0,"div",21),h._uU(1," Repeat password is required! "),h.qZA())}function An(l,f){1&l&&(h.TgZ(0,"div",21),h._uU(1," Repeat password must be at least 6 characters long! "),h.qZA())}function xt(l,f){if(1&l&&(h.TgZ(0,"div"),h.YNc(1,kt,2,0,"div",20),h.YNc(2,An,2,0,"div",20),h.qZA()),2&l){const o=h.oxw();let d,m;h.xp6(1),h.Q6J("ngIf",null==(d=o.registerForm.get("repeatPassword"))||null==d.errors?null:d.errors.required),h.xp6(1),h.Q6J("ngIf",null==(m=o.registerForm.get("repeatPassword"))||null==m.errors?null:m.errors.minlength)}}function mt(l,f){1&l&&(h.TgZ(0,"div",21),h._uU(1," First name is required! "),h.qZA())}function ot(l,f){if(1&l&&(h.TgZ(0,"div"),h.YNc(1,mt,2,0,"div",20),h.qZA()),2&l){const o=h.oxw();let d;h.xp6(1),h.Q6J("ngIf",null==(d=o.registerForm.get("firstName"))||null==d.errors?null:d.errors.required)}}function vt(l,f){1&l&&(h.TgZ(0,"div",21),h._uU(1," Last name is required! "),h.qZA())}function _t(l,f){if(1&l&&(h.TgZ(0,"div"),h.YNc(1,vt,2,0,"div",20),h.qZA()),2&l){const o=h.oxw();let d;h.xp6(1),h.Q6J("ngIf",null==(d=o.registerForm.get("lastName"))||null==d.errors?null:d.errors.required)}}let Ge=(()=>{class l{constructor(o,d,m){this.userService=o,this.fb=d,this.router=m,this.registerForm=this.fb.group({email:["",[re.kI.required,re.kI.email]],password:["",[re.kI.required,re.kI.minLength(6)]],repeatPassword:["",re.kI.required],firstName:["",re.kI.required],lastName:["",re.kI.required],isActive:[!0,re.kI.required],isAdmin:[!1,re.kI.required],favoriteRecipes:this.fb.array([])})}submitRegisterForm(){var o=this;return(0,Ee.Z)(function*(){if(o.registerForm.valid){const{email:d,password:m,repeatPassword:T,...k}=o.registerForm.value;if(m!==T)return void alert("Password do not match!");try{yield o.userService.registerUser(d,m,k)}catch(J){alert(J)}}})()}static#e=this.\u0275fac=function(d){return new(d||l)(h.Y36(Oe.K),h.Y36(re.qu),h.Y36(ce.F0))};static#t=this.\u0275cmp=h.Xpm({type:l,selectors:[["app-register"]],decls:33,vars:6,consts:[[1,"main-short"],[1,"headerImage"],[1,"wrapper"],[3,"formGroup","ngSubmit"],[1,"title-wrapper"],[1,"title-form"],["for","email"],["type","email","id","email","formControlName","email","autocomplete","email"],[4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password","autocomplete","new-password"],["for","repeatPassword"],["type","password","id","repeatPassword","formControlName","repeatPassword","autocomplete","new-password"],["for","firstName"],["type","text","id","firstName","formControlName","firstName"],["for","lastName"],["type","text","id","lastName","formControlName","lastName"],["type","submit",1,"button",2,"width","100%","margin-top","20px"],["href","#","routerLink","/login"],[1,"hint"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(d,m){if(1&d&&(h.TgZ(0,"div",0),h._UZ(1,"div",1),h.TgZ(2,"div",2)(3,"form",3),h.NdJ("ngSubmit",function(){return m.submitRegisterForm()}),h.TgZ(4,"div",4)(5,"h1",5),h._uU(6,"Registration"),h.qZA()(),h.TgZ(7,"label",6),h._uU(8,"Email:"),h.qZA(),h._UZ(9,"input",7),h.YNc(10,Pe,3,2,"div",8),h.TgZ(11,"label",9),h._uU(12,"Password:"),h.qZA(),h._UZ(13,"input",10),h.YNc(14,Bt,3,2,"div",8),h.TgZ(15,"label",11),h._uU(16,"Repeat password:"),h.qZA(),h._UZ(17,"input",12),h.YNc(18,xt,3,2,"div",8),h.TgZ(19,"label",13),h._uU(20,"First name:"),h.qZA(),h._UZ(21,"input",14),h.YNc(22,ot,2,1,"div",8),h.TgZ(23,"label",15),h._uU(24,"Last Name:"),h.qZA(),h._UZ(25,"input",16),h.YNc(26,_t,2,1,"div",8),h.TgZ(27,"button",17),h._uU(28," Submit "),h.qZA(),h._UZ(29,"hr"),h.TgZ(30,"a",18)(31,"div",19),h._uU(32,"Already registered?"),h.qZA()()()()()),2&d){let T,k,J,ue,ge;h.xp6(3),h.Q6J("formGroup",m.registerForm),h.xp6(7),h.Q6J("ngIf",(null==(T=m.registerForm.get("email"))?null:T.invalid)&&(null==(T=m.registerForm.get("email"))?null:T.touched)),h.xp6(4),h.Q6J("ngIf",(null==(k=m.registerForm.get("password"))?null:k.invalid)&&(null==(k=m.registerForm.get("password"))?null:k.touched)),h.xp6(4),h.Q6J("ngIf",(null==(J=m.registerForm.get("repeatPassword"))?null:J.invalid)&&(null==(J=m.registerForm.get("repeatPassword"))?null:J.touched)),h.xp6(4),h.Q6J("ngIf",(null==(ue=m.registerForm.get("firstName"))?null:ue.invalid)&&(null==(ue=m.registerForm.get("firstName"))?null:ue.touched)),h.xp6(4),h.Q6J("ngIf",(null==(ge=m.registerForm.get("lastName"))?null:ge.invalid)&&(null==(ge=m.registerForm.get("lastName"))?null:ge.touched))}},dependencies:[le.O5,ce.rH,re._Y,re.Fj,re.JJ,re.JL,re.sg,re.u],styles:[".checkbox-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center}form[_ngcontent-%COMP%]{max-width:600px;margin:-50px auto 50px;padding:32px;background-color:var(--backgroundColor);border-radius:unset;box-shadow:0 1px 3px #0000004d}@media (max-width: 460px){form[_ngcontent-%COMP%]{background-color:var(--backgroundColor);border:none}}"]})}return l})();function be(l,f){1&l&&(h.TgZ(0,"div",16),h._uU(1," Email is required! "),h.qZA())}function Ye(l,f){1&l&&(h.TgZ(0,"div",16),h._uU(1," Invalid email! "),h.qZA())}function gt(l,f){if(1&l&&(h.TgZ(0,"div"),h.YNc(1,be,2,0,"div",17),h.YNc(2,Ye,2,0,"div",17),h.qZA()),2&l){const o=h.oxw();let d,m;h.xp6(1),h.Q6J("ngIf",null==(d=o.logInForm.get("email"))||null==d.errors?null:d.errors.required),h.xp6(1),h.Q6J("ngIf",null==(m=o.logInForm.get("email"))||null==m.errors?null:m.errors.email)}}function Mn(l,f){1&l&&(h.TgZ(0,"div",16),h._uU(1," Password is required! "),h.qZA())}function ht(l,f){1&l&&(h.TgZ(0,"div",16),h._uU(1," Password must be at least 6 characters long! "),h.qZA())}function fn(l,f){if(1&l&&(h.TgZ(0,"div"),h.YNc(1,Mn,2,0,"div",17),h.YNc(2,ht,2,0,"div",17),h.qZA()),2&l){const o=h.oxw();let d,m;h.xp6(1),h.Q6J("ngIf",null==(d=o.logInForm.get("password"))||null==d.errors?null:d.errors.required),h.xp6(1),h.Q6J("ngIf",null==(m=o.logInForm.get("password"))||null==m.errors?null:m.errors.minlength)}}function En(l,f){if(1&l&&(h.TgZ(0,"div"),h._uU(1),h.qZA()),2&l){const o=h.oxw();h.xp6(1),h.Oqu(o.loginError)}}let Ln=(()=>{class l{constructor(o,d,m,T){this.userService=o,this.fb=d,this.route=m,this.router=T,this.loginError=null,this.returnUrl=null,this.logInForm=this.fb.group({email:["",[re.kI.required,re.kI.email]],password:["",[re.kI.required,re.kI.minLength(6)]]})}ngOnInit(){this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/"}submitLogInForm(){var o=this;return(0,Ee.Z)(function*(){if(o.logInForm.valid){const{email:d,password:m}=o.logInForm.value;try{yield o.userService.loginUser(d,m);const T=o.returnUrl||"/category";yield o.router.navigateByUrl(T)}catch(T){console.log(T)}}})()}static#e=this.\u0275fac=function(d){return new(d||l)(h.Y36(Oe.K),h.Y36(re.qu),h.Y36(ce.gz),h.Y36(ce.F0))};static#t=this.\u0275cmp=h.Xpm({type:l,selectors:[["app-login"]],decls:30,vars:4,consts:[[1,"main-short"],[1,"headerImage"],[1,"wrapper"],[3,"formGroup","ngSubmit"],[1,"title-wrapper"],[1,"title-form"],[1,"formGroup"],["for","email"],["type","text","id","email","formControlName","email","autocomplete","email"],[4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password","autocomplete","current-password"],["type","submit",1,"button",2,"width","100%"],["href","#","routerLink","/register"],[1,"hint"],["href","#","routerLink","/dashboard/forgot-password"],[1,"errors"],["class","errors",4,"ngIf"]],template:function(d,m){if(1&d&&(h.TgZ(0,"div",0),h._UZ(1,"div",1),h.TgZ(2,"div",2)(3,"form",3),h.NdJ("ngSubmit",function(){return m.submitLogInForm()}),h.TgZ(4,"div",4)(5,"h1",5),h._uU(6,"Login"),h.qZA()(),h.TgZ(7,"div",6)(8,"label",7),h._uU(9,"Email"),h.qZA(),h._UZ(10,"input",8),h.YNc(11,gt,3,2,"div",9),h.qZA(),h.TgZ(12,"div",6)(13,"label",10),h._uU(14,"Password"),h.qZA(),h._UZ(15,"input",11),h.YNc(16,fn,3,2,"div",9),h.qZA(),h._UZ(17,"br"),h.TgZ(18,"div",6)(19,"button",12),h._uU(20,"Submit"),h.qZA()(),h.YNc(21,En,2,1,"div",9),h._UZ(22,"hr"),h.TgZ(23,"div")(24,"a",13)(25,"div",14),h._uU(26,"Don't have a Registration yet?"),h.qZA()(),h.TgZ(27,"a",15)(28,"div",16),h._uU(29,"Forgot your password?"),h.qZA()()()()()()),2&d){let T,k;h.xp6(3),h.Q6J("formGroup",m.logInForm),h.xp6(8),h.Q6J("ngIf",(null==(T=m.logInForm.get("email"))?null:T.invalid)&&(null==(T=m.logInForm.get("email"))?null:T.touched)),h.xp6(5),h.Q6J("ngIf",(null==(k=m.logInForm.get("password"))?null:k.invalid)&&(null==(k=m.logInForm.get("password"))?null:k.touched)),h.xp6(5),h.Q6J("ngIf",m.loginError)}},dependencies:[le.O5,ce.rH,re._Y,re.Fj,re.JJ,re.JL,re.sg,re.u],styles:["form[_ngcontent-%COMP%]{max-width:600px;margin:-50px auto 50px;padding:32px;background-color:var(--backgroundColor);border-radius:unset;box-shadow:0 1px 3px #0000004d}@media (max-width: 460px){form[_ngcontent-%COMP%]{background-color:var(--backgroundColor);border:none}}"]})}return l})();var Xn=Q(1753);const fr=function(l){return["/recipe",l]};function ke(l,f){if(1&l&&(h.TgZ(0,"div")(1,"a",8)(2,"div",9)(3,"div",10),h._UZ(4,"img",11),h.qZA(),h.TgZ(5,"p",12),h._uU(6),h.qZA()()()()),2&l){const o=f.$implicit;h.xp6(1),h.Q6J("routerLink",h.VKq(4,fr,o.id)),h.xp6(3),h.s9C("alt",o.title),h.Q6J("src",o.image_recipe[0].image_recipe,h.LSH),h.xp6(2),h.Oqu(o.title)}}function je(l,f){if(1&l){const o=h.EpF();h.TgZ(0,"button",13),h.NdJ("click",function(){h.CHM(o);const m=h.oxw();return h.KtG(m.getRecipesLoadMore())}),h._uU(1," Load More "),h.qZA()}}let Qe=(()=>{class l{constructor(o){this.recipeService=o,this.recipes=[],this.showLoadMoreButton=!0}ngOnInit(){this.getRecipes(),this.showLoadMoreButton=!0}getRecipesLoadMore(){var o=this;return(0,Ee.Z)(function*(){const{data:d,hasMore:m}=yield o.recipeService.getRecipesLoadMore();console.log(m),o.showLoadMoreButton=m,o.recipes.push(...d)})()}getRecipes(){var o=this;return(0,Ee.Z)(function*(){const{data:d}=yield o.recipeService.getRecipes();o.recipes.push(...d)})()}static#e=this.\u0275fac=function(d){return new(d||l)(h.Y36(Xn.v))};static#t=this.\u0275cmp=h.Xpm({type:l,selectors:[["app-recipes-list"]],decls:9,vars:2,consts:[[1,"main-long"],[1,"headerImage"],[1,"wrapper-list"],[1,"title-wrapper"],[1,"title"],[1,"recipe-list"],[4,"ngFor","ngForOf"],["class","button",3,"click",4,"ngIf"],[3,"routerLink"],[1,"recipe-item"],[1,"recipe-image"],[3,"src","alt"],[1,"recipe-title"],[1,"button",3,"click"]],template:function(d,m){1&d&&(h.TgZ(0,"main",0),h._UZ(1,"div",1),h.TgZ(2,"div",2)(3,"div",3)(4,"h1",4),h._uU(5,"Recipes"),h.qZA()(),h.TgZ(6,"div",5),h.YNc(7,ke,7,6,"div",6),h.qZA(),h.YNc(8,je,2,0,"button",7),h.qZA()()),2&d&&(h.xp6(7),h.Q6J("ngForOf",m.recipes),h.xp6(1),h.Q6J("ngIf",m.showLoadMoreButton))},dependencies:[le.sg,le.O5,ce.rH],styles:[".wrapper-list[_ngcontent-%COMP%]{margin:-50px auto 50px;max-width:1200px;background-color:var(--backgroundColor);box-shadow:0 1px 3px #0000004d;padding:32px}.title-wrapper[_ngcontent-%COMP%]{margin-left:10px}.recipe-list[_ngcontent-%COMP%]{position:relative;display:grid;grid-template-columns:repeat(4,1fr);row-gap:20px;margin-bottom:100px}.recipe-item[_ngcontent-%COMP%]{margin:5px;position:relative}.recipe-image[_ngcontent-%COMP%]{padding:5px;position:relative;transition:transform 1s ease-in-out}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;width:100%;object-fit:fill}.recipe-item[_ngcontent-%COMP%]:hover   .recipe-image[_ngcontent-%COMP%]{transform:translateY(12%)}@media only screen and (max-width: 460px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 20px 50px;padding:16px}.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 461px) and (max-width: 767px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 768px) and (max-width: 1023px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);column-gap:10px;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}@media (min-width: 1024px) and (max-width: 1440px){.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);column-gap:10px;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}"]})}return l})();var Ve=Q(7157),nt=Q(8850),bt=Q(3477);function Rt(l,f){1&l&&(h.TgZ(0,"div",9),h._uU(1," Please write your comment here! "),h.qZA())}function Ht(l,f){if(1&l&&(h.TgZ(0,"div"),h.YNc(1,Rt,2,0,"div",8),h.qZA()),2&l){const o=h.oxw();let d;h.xp6(1),h.Q6J("ngIf",null==(d=o.commentForm.get("text"))||null==d.errors?null:d.errors.required)}}let pn=(()=>{class l{constructor(o,d,m,T){this.fb=o,this.commentService=m,this.userService=T,this.timestamp=new Date,this.fullName="",this.firestore=d}ngOnInit(){this.commentForm=this.fb.group({name:[""],text:["",re.kI.required],recipeId:[this.recipeId],create_time:[this.timestamp],uid:[""]}),this.userService.userData$.subscribe({next:o=>{o?(this.userData=o,this.fullName=this.userData.firstName+" "+this.userData.lastName):this.fullName="Anonymous"},error:o=>{console.log(o)}})}onSubmit(){var o=this;return(0,Ee.Z)(function*(){if(o.timestamp=new Date,o.commentForm.valid){o.commentForm.patchValue({name:o.fullName}),o.commentForm.patchValue({recipeId:o.recipeId}),o.commentForm.patchValue({create_time:o.timestamp}),o.userData&&o.commentForm.patchValue({uid:o.userData.uid});try{(yield o.commentService.addComment(o.commentForm.value))?(alert("You have successfully added your comment"),o.commentForm.reset()):console.error("Error adding comment.")}catch(d){console.error("An error occurred while submitting the comment:",d)}}})()}static#e=this.\u0275fac=function(d){return new(d||l)(h.Y36(re.qu),h.Y36(bt.gg),h.Y36(nt.O),h.Y36(Oe.K))};static#t=this.\u0275cmp=h.Xpm({type:l,selectors:[["app-comment-form"]],inputs:{recipeId:"recipeId"},decls:15,vars:2,consts:[[1,"commentWrapper"],["id","commentForm",3,"formGroup","ngSubmit"],[1,"divider"],[1,"form-group"],["for","text"],["placeholder","Please write your comment here!","id","text","formControlName","text","rows","5","cols","30",1,"form-control"],[4,"ngIf"],["type","submit",1,"button",2,"width","100%"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(d,m){if(1&d&&(h.TgZ(0,"div",0)(1,"form",1),h.NdJ("ngSubmit",function(){return m.onSubmit()}),h.TgZ(2,"div",2),h._UZ(3,"hr"),h.TgZ(4,"p"),h._uU(5,"\xa0\xa0Comment\xa0\xa0"),h.qZA(),h._UZ(6,"hr"),h.qZA(),h.TgZ(7,"div",3)(8,"label",4),h._uU(9,"Comment (required)"),h.qZA(),h._UZ(10,"textarea",5),h.qZA(),h.YNc(11,Ht,2,1,"div",6),h._UZ(12,"br"),h.TgZ(13,"button",7),h._uU(14,"Submit"),h.qZA()()()),2&d){let T;h.xp6(1),h.Q6J("formGroup",m.commentForm),h.xp6(10),h.Q6J("ngIf",null==(T=m.commentForm.get("text"))?null:T.touched)}},dependencies:[le.O5,re._Y,re.Fj,re.JJ,re.JL,re.sg,re.u],styles:["form#commentForm[_ngcontent-%COMP%]{background-color:var(--backgroundColor);max-width:100%;border:unset}"]})}return l})();var vn=Q(2732);function un(l,f){if(1&l&&(h.TgZ(0,"div",19),h._uU(1),h.qZA()),2&l){const o=h.oxw();h.xp6(1),h.hij(" ",null==o.recipe?null:o.recipe.summary," ")}}function Dt(l,f){1&l&&(h.TgZ(0,"div"),h._UZ(1,"br"),h.qZA())}function jn(l,f){if(1&l&&(h.TgZ(0,"li"),h._UZ(1,"img",22),h.qZA()),2&l){const o=f.$implicit;h.xp6(1),h.Q6J("src",o.image_recipe,h.LSH)}}function pr(l,f){if(1&l&&(h.TgZ(0,"ul",20),h.YNc(1,jn,2,1,"li",21),h.qZA()),2&l){const o=h.oxw();h.xp6(1),h.Q6J("ngForOf",null==o.recipe?null:o.recipe.image_recipe)}}function kr(l,f){1&l&&(h.ynx(0),h._UZ(1,"i",28),h.BQk())}function De(l,f){1&l&&h._UZ(0,"i",29)}function xe(l,f){if(1&l){const o=h.EpF();h.TgZ(0,"button",25),h.NdJ("click",function(){h.CHM(o);const m=h.oxw(2);return h.KtG(m.updateRecipeLikes())}),h.YNc(1,kr,2,0,"ng-container",26),h.YNc(2,De,1,0,"ng-template",null,27,h.W1O),h.qZA()}if(2&l){const o=h.MAs(3),d=h.oxw(2);h.xp6(1),h.Q6J("ngIf",d.userData&&d.recipe&&d.recipe.likes&&(null==d.userData?null:d.userData.uid)&&d.recipe.likes.includes(d.userData.uid))("ngIfElse",o)}}function Re(l,f){if(1&l&&(h.TgZ(0,"div")(1,"span"),h._uU(2),h.qZA()()),2&l){const o=h.oxw(2);h.xp6(2),h.hij("Like: ",null==o.recipe||null==o.recipe.likes?null:o.recipe.likes.length,"")}}function at(l,f){1&l&&(h.ynx(0),h._uU(1," Save it! "),h.BQk())}function yt(l,f){1&l&&h._uU(0,"Save Recipe")}function St(l,f){if(1&l){const o=h.EpF();h.TgZ(0,"button",25),h.NdJ("click",function(){h.CHM(o);const m=h.oxw(2);return h.KtG(m.updateFavoriteRecipes())}),h.YNc(1,at,2,0,"ng-container",26),h.YNc(2,yt,1,0,"ng-template",null,27,h.W1O),h.qZA()}if(2&l){const o=h.MAs(3),d=h.oxw(2);h.xp6(1),h.Q6J("ngIf",d.recipe&&d.userData&&d.userData.favoriteRecipes&&d.userData.favoriteRecipes.includes(d.recipeId||""))("ngIfElse",o)}}function yr(l,f){if(1&l&&(h.TgZ(0,"div",23),h.YNc(1,xe,4,2,"button",24),h.YNc(2,Re,3,1,"div",8),h.YNc(3,St,4,2,"button",24),h.qZA()),2&l){const o=h.oxw();h.xp6(1),h.Q6J("ngIf",o.userData),h.xp6(1),h.Q6J("ngIf",(null==o.recipe||null==o.recipe.likes?null:o.recipe.likes.length)>0),h.xp6(1),h.Q6J("ngIf",o.userData)}}function Dn(l,f){1&l&&(h.TgZ(0,"div",12),h._UZ(1,"hr"),h.TgZ(2,"p"),h._uU(3,"\xa0\xa0Ingredients\xa0\xa0"),h.qZA(),h._UZ(4,"hr"),h.qZA())}function on(l,f){if(1&l&&(h.TgZ(0,"li"),h._uU(1),h.qZA()),2&l){const o=h.oxw().$implicit;h.xp6(1),h.lnq(" ",o.name," - ",o.amount," ",o.unit," ")}}function Yt(l,f){if(1&l&&(h.TgZ(0,"ul",30),h.YNc(1,on,2,3,"li",8),h.qZA()),2&l){const o=h.oxw();h.xp6(1),h.Q6J("ngIf",null==o.recipe?null:o.recipe.ingredients)}}function wn(l,f){if(1&l&&(h.TgZ(0,"li"),h._UZ(1,"iframe",32),h.ALo(2,"safeUrl"),h.qZA()),2&l){const o=f.$implicit;h.xp6(1),h.Q6J("src",h.lcZ(2,1,o.video_recipe),h.uOi)}}function Kn(l,f){if(1&l&&(h.TgZ(0,"div",31)(1,"div",12),h._UZ(2,"hr"),h.TgZ(3,"p"),h._uU(4,"\xa0\xa0Video\xa0\xa0"),h.qZA(),h._UZ(5,"hr"),h.qZA(),h._UZ(6,"br"),h.TgZ(7,"ul"),h.YNc(8,wn,3,3,"li",21),h.qZA()()),2&l){const o=h.oxw();h.xp6(8),h.Q6J("ngForOf",null==o.recipe?null:o.recipe.video_recipe)}}function tn(l,f){1&l&&(h.TgZ(0,"div",12),h._UZ(1,"hr"),h.TgZ(2,"p"),h._uU(3,"\xa0\xa0Buttons\xa0\xa0"),h.qZA(),h._UZ(4,"hr"),h.qZA())}function Cr(l,f){if(1&l){const o=h.EpF();h.TgZ(0,"button",35),h.NdJ("click",function(){h.CHM(o);const m=h.oxw(2);return h.KtG(m.toggleCommentForm())}),h._uU(1," Comment? "),h.qZA()}}function vr(l,f){if(1&l){const o=h.EpF();h.TgZ(0,"button",35),h.NdJ("click",function(){h.CHM(o);const m=h.oxw(2);return h.KtG(m.toggleCommentForm())}),h._uU(1," Hide Form "),h.qZA()}}function mn(l,f){if(1&l){const o=h.EpF();h.TgZ(0,"button",35),h.NdJ("click",function(){h.CHM(o);const m=h.oxw(2);return h.KtG(m.navigateToRecipeEdit())}),h._uU(1," Edit Recipe "),h.qZA()}}function rr(l,f){if(1&l){const o=h.EpF();h.TgZ(0,"button",35),h.NdJ("click",function(){h.CHM(o);const m=h.oxw(2);return h.KtG(m.navigateToRecipeDelete())}),h._uU(1," Delete Recipe "),h.qZA()}}function Wn(l,f){if(1&l&&(h.TgZ(0,"div",33),h.YNc(1,Cr,2,0,"button",34),h.YNc(2,vr,2,0,"button",34),h.YNc(3,mn,2,0,"button",34),h.YNc(4,rr,2,0,"button",34),h.qZA()),2&l){const o=h.oxw();h.xp6(1),h.Q6J("ngIf",!o.showCommentForm),h.xp6(1),h.Q6J("ngIf",o.showCommentForm),h.xp6(1),h.Q6J("ngIf",o.userData&&o.userData.uid==(null==o.recipe?null:o.recipe.uid)),h.xp6(1),h.Q6J("ngIf",o.userData&&o.userData.uid==(null==o.recipe?null:o.recipe.uid))}}function ir(l,f){if(1&l&&(h.TgZ(0,"div"),h._UZ(1,"app-comment-form",36),h.qZA()),2&l){const o=h.oxw();h.xp6(1),h.Q6J("recipeId",o.recipeId)}}function Hn(l,f){1&l&&(h.TgZ(0,"div",12),h._UZ(1,"hr"),h.TgZ(2,"p"),h._uU(3,"\xa0\xa0Comments\xa0\xa0"),h.qZA(),h._UZ(4,"hr"),h.qZA())}function gi(l,f){if(1&l){const o=h.EpF();h.TgZ(0,"span",41),h.NdJ("click",function(){h.CHM(o);const m=h.oxw().$implicit,T=h.oxw(2);return h.KtG(T.deleteComment(m.id))}),h._UZ(1,"i",42),h.qZA()}}function Nn(l,f){if(1&l){const o=h.EpF();h.TgZ(0,"span",41),h.NdJ("click",function(){h.CHM(o);const m=h.oxw().$implicit,T=h.oxw(2);return h.KtG(T.navigateToCommentEdit(m.id))}),h._UZ(1,"i",43),h.qZA()}}function Yn(l,f){if(1&l&&(h.TgZ(0,"ul")(1,"li"),h._uU(2),h.qZA(),h.TgZ(3,"li"),h._uU(4),h.qZA(),h.TgZ(5,"li",38)(6,"p"),h._uU(7),h.ALo(8,"date"),h.qZA(),h.TgZ(9,"div",39),h.YNc(10,gi,2,0,"span",40),h.YNc(11,Nn,2,0,"span",40),h.qZA()(),h._UZ(12,"hr"),h.qZA()),2&l){const o=f.$implicit,d=h.oxw(2);h.xp6(2),h.Oqu(o.name),h.xp6(2),h.Oqu(o.text),h.xp6(3),h.hij(" ",h.xi3(8,5,o.create_time.toDate(),"dd/MM/yyyy HH:mm:ss")," "),h.xp6(3),h.Q6J("ngIf",d.userData&&o.uid==d.userData.uid),h.xp6(1),h.Q6J("ngIf",d.userData&&o.uid==d.userData.uid)}}function Nr(l,f){if(1&l&&(h.TgZ(0,"section",37),h.YNc(1,Yn,13,8,"ul",21),h.qZA()),2&l){const o=h.oxw();h.xp6(1),h.Q6J("ngForOf",o.comments)}}let mi=(()=>{class l{constructor(o,d,m,T,k){var J=this;this.route=o,this.recipeService=d,this.commentService=m,this.userService=T,this.router=k,this.recipe=null,this.recipeId="",this.comments=[],this.showCommentForm=!1,this.route.paramMap.subscribe(function(){var ue=(0,Ee.Z)(function*(ge){J.recipeId=ge.get("id")});return function(ge){return ue.apply(this,arguments)}}()),m.getCommentAddedObservable().subscribe((0,Ee.Z)(function*(){console.log("Comment successfully added."),yield J.loadCommentsForRecipe()}))}loadRecipeData(){var o=this;return(0,Ee.Z)(function*(){if(o.recipeId)try{o.recipe=yield o.recipeService.getRecipeById(o.recipeId),o.comments=yield o.commentService.getCommentsForRecipe(o.recipeId),console.log("Recipe data loaded successfully.")}catch(d){console.error("An error occurred while loading recipe data:",d)}})()}navigateToRecipeEdit(){var o=this;return(0,Ee.Z)(function*(){yield o.router.navigate(["/dashboard/recipe-edit",o.recipeId])})()}navigateToRecipeDelete(){var o=this;return(0,Ee.Z)(function*(){yield o.router.navigate(["/dashboard/recipe-delete",o.recipeId])})()}ngOnInit(){var o=this;return(0,Ee.Z)(function*(){yield o.loadRecipeData(),o.userService.userData$.subscribe(d=>{d&&(o.userData=d)})})()}toggleCommentForm(){this.showCommentForm=!this.showCommentForm}navigateToCommentEdit(o){var d=this;return(0,Ee.Z)(function*(){yield d.router.navigate(["/dashboard/comment-edit",o])})()}deleteComment(o){var d=this;return(0,Ee.Z)(function*(){yield d.commentService.deleteComment(o),yield d.loadCommentsForRecipe()})()}updateRecipeLikes(){var o=this;return(0,Ee.Z)(function*(){if(o.recipe)if(o.userData){if(o.userData){let d=o.recipe.likes.includes(o.userData.uid);yield o.recipeService.updateRecipeLikes(o.recipeId,o.userData.uid,d)}yield o.loadRecipeData()}else console.error("User is not logged in.");else console.error("Recipe data is missing.")})()}updateFavoriteRecipes(){var o=this;return(0,Ee.Z)(function*(){if(o.recipe){if(o.userData&&o.recipeId){let d=o.userData.favoriteRecipes.includes(o.recipeId);yield o.userService.updateFavoriteRecipes(o.recipeId,o.userData.uid,d),yield o.loadRecipeData()}}else console.error("Recipe data is missing.")})()}loadCommentsForRecipe(){var o=this;return(0,Ee.Z)(function*(){o.recipeId&&(o.comments=yield o.commentService.getCommentsForRecipe(o.recipeId))})()}static#e=this.\u0275fac=function(d){return new(d||l)(h.Y36(ce.gz),h.Y36(Ve.j),h.Y36(nt.O),h.Y36(Oe.K),h.Y36(ce.F0))};static#t=this.\u0275cmp=h.Xpm({type:l,selectors:[["app-recipe"]],decls:33,vars:15,consts:[[1,"mainLong"],[1,"headerImage"],[1,"wrapper-list"],[1,"recipe-container"],[1,"title-wrapper"],[1,"title"],[1,"recipe-subtitle"],["class","recipe-summary",4,"ngIf"],[4,"ngIf"],[1,"recipe-hero"],["class","recipe-image",4,"ngIf"],["class","buttons",4,"ngIf"],[1,"divider"],[1,"recipe-description-text","description"],["class","divider",4,"ngIf"],["class","recipe-ingredients",4,"ngFor","ngForOf"],["class","recipe-videos",4,"ngIf"],["class","buttons buttons-img",4,"ngIf"],["class","comments",4,"ngIf"],[1,"recipe-summary"],[1,"recipe-image"],[4,"ngFor","ngForOf"],["alt","Image of a recipe",3,"src"],[1,"buttons"],["class","button",3,"click",4,"ngIf"],[1,"button",3,"click"],[4,"ngIf","ngIfElse"],["notLiked",""],[1,"fa-solid","fa-heart","fa-beat-fade"],[1,"fa-regular","fa-heart","fa-beat-fade"],[1,"recipe-ingredients"],[1,"recipe-videos"],["width","560","height","315","allowfullscreen","",3,"src"],[1,"buttons","buttons-img"],["class","button-img",3,"click",4,"ngIf"],[1,"button-img",3,"click"],[3,"recipeId"],[1,"comments"],[1,"comments-last"],[1,"commentBtnWrapper"],[3,"click",4,"ngIf"],[3,"click"],[1,"fa-solid","fa-trash","fa-shake"],[1,"fa-regular","fa-pen-to-square","fa-flip"]],template:function(d,m){1&d&&(h.TgZ(0,"div",0),h._UZ(1,"div",1),h.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),h._uU(6),h.qZA()(),h.TgZ(7,"h3",6),h._uU(8),h.qZA(),h.YNc(9,un,2,1,"div",7),h.YNc(10,Dt,2,0,"div",8),h.TgZ(11,"div",9),h.YNc(12,pr,2,1,"ul",10),h.YNc(13,yr,4,3,"div",11),h.TgZ(14,"div",12),h._UZ(15,"hr"),h.TgZ(16,"p"),h._uU(17,"\xa0\xa0Preparation\xa0\xa0"),h.qZA(),h._UZ(18,"hr"),h.qZA(),h._UZ(19,"br"),h.TgZ(20,"p",13),h._uU(21),h.qZA(),h._UZ(22,"br"),h.YNc(23,Dn,5,0,"div",14),h._UZ(24,"br"),h.YNc(25,Yt,2,1,"ul",15),h.YNc(26,Kn,9,1,"div",16),h.YNc(27,tn,5,0,"div",14),h._UZ(28,"br"),h.YNc(29,Wn,5,4,"div",17),h.YNc(30,ir,2,1,"div",8),h.YNc(31,Hn,5,0,"div",14),h.YNc(32,Nr,2,1,"section",18),h.qZA()()()()),2&d&&(h.xp6(6),h.Oqu(null==m.recipe?null:m.recipe.title),h.xp6(2),h.Oqu(null==m.recipe?null:m.recipe.subtitle),h.xp6(1),h.Q6J("ngIf",null==m.recipe?null:m.recipe.summary),h.xp6(1),h.Q6J("ngIf",!(null!=m.recipe&&m.recipe.summary)),h.xp6(2),h.Q6J("ngIf",(null==m.recipe?null:m.recipe.image_recipe)&&(null==m.recipe||null==m.recipe.image_recipe?null:m.recipe.image_recipe.length)>0),h.xp6(1),h.Q6J("ngIf",m.userData),h.xp6(8),h.hij(" ",null==m.recipe?null:m.recipe.description," "),h.xp6(2),h.Q6J("ngIf",null==m.recipe?null:m.recipe.ingredients),h.xp6(2),h.Q6J("ngForOf",null==m.recipe?null:m.recipe.ingredients),h.xp6(1),h.Q6J("ngIf",(null==m.recipe?null:m.recipe.video_recipe)&&(null==m.recipe||null==m.recipe.video_recipe?null:m.recipe.video_recipe.length)>0),h.xp6(1),h.Q6J("ngIf",m.userData),h.xp6(2),h.Q6J("ngIf",m.userData),h.xp6(1),h.Q6J("ngIf",m.showCommentForm),h.xp6(1),h.Q6J("ngIf",m.comments.length>0),h.xp6(1),h.Q6J("ngIf",m.comments.length>0))},dependencies:[le.sg,le.O5,pn,le.uU,vn.Q],styles:[".recipe-container[_ngcontent-%COMP%]{background-color:var(--backgroundColor);max-width:800px;margin:-50px auto 50px;padding:32px;box-shadow:0 1px 3px #0000004d}.title[_ngcontent-%COMP%]{font-size:28px}.recipe-subtitle[_ngcontent-%COMP%]{font-size:14px;margin-top:-10px;color:var(--mainGreyColor);font-style:italic;white-space:pre-wrap}.recipe-summary[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;text-align:center;font-style:italic;white-space:pre-wrap}.recipe-hero[_ngcontent-%COMP%]{grid-template-columns:70% 30%;gap:20px}ul.recipe-image[_ngcontent-%COMP%]{padding-left:unset}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;margin-bottom:10px}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:5px}.recipe-description-text[_ngcontent-%COMP%]{font-size:16px;white-space:pre-wrap}.recipe-ingredients[_ngcontent-%COMP%]{padding:0 16px}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;list-style-type:disc}.recipe-videos[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-top:20px}.recipe-videos[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;max-width:800px;height:450px}.buttons[_ngcontent-%COMP%]{padding:0 32px;display:flex;justify-content:space-between}.comments[_ngcontent-%COMP%]{border:1px solid var(--mainMagnoliaColor);margin:30px 0;padding:20px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:10px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px;padding-left:5px}.comments[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--mainGreyColor)}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(odd){background-color:var(--backgroundColor);padding-left:5px;border-radius:5px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(2n){background-color:var(--mainMagnoliaColor);font-style:italic;border-radius:5px}.commentBtnWrapper[_ngcontent-%COMP%]{display:flex;gap:10px}.comments-last[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.fa-solid.fa-trash.fa-shake[_ngcontent-%COMP%], .fa-regular.fa-pen-to-square.fa-flip[_ngcontent-%COMP%]{cursor:pointer;color:var(--mainRGBAColor);background-color:var(--backgroundColor);padding:8px 10px;border:3px solid var(--mainRGBAColor);border-radius:50%;transition:1s ease-in-out}.fa-solid.fa-trash.fa-shake[_ngcontent-%COMP%]:hover, .fa-regular.fa-pen-to-square.fa-flip[_ngcontent-%COMP%]:hover{color:var(--backgroundColor);background-color:var(--mainRGBAColor);padding:8px 10px;border:3px solid var(--mainRGBAColor);border-radius:50%}@media (max-width: 640px){.buttons-img[_ngcontent-%COMP%]{flex-direction:column-reverse}}"]})}return l})();function tt(l,f){1&l&&(h.TgZ(0,"div")(1,"main",2),h._UZ(2,"div",3),h.TgZ(3,"div",4)(4,"div",5)(5,"div",6)(6,"h1",7),h._uU(7," We're sorry, but we couldn't find the result you're looking for! "),h.TgZ(8,"main",8),h.O4$(),h.TgZ(9,"svg",9),h._UZ(10,"rect",10),h.TgZ(11,"g",11)(12,"svg",12)(13,"g")(14,"svg",13)(15,"g",14)(16,"svg",15)(17,"g",16)(18,"svg",17)(19,"g")(20,"svg",15)(21,"g",18)(22,"svg",19),h._UZ(23,"path",20),h.qZA()()()()()()()(),h.TgZ(24,"g",21)(25,"svg",22)(26,"g"),h._UZ(27,"svg"),h.qZA(),h.TgZ(28,"g",23)(29,"svg",22)(30,"g"),h._UZ(31,"path",24)(32,"ellipse",25),h.qZA(),h.TgZ(33,"g",26)(34,"svg",27)(35,"g")(36,"svg",28),h._UZ(37,"path",29),h.qZA()()()()()()()(),h._UZ(38,"g"),h.qZA()(),h._UZ(39,"defs"),h.qZA(),h._UZ(40,"rect",30),h.qZA()()()()()()()()())}const Ce=function(l){return["/recipe",l]};function Ke(l,f){if(1&l&&(h.TgZ(0,"div")(1,"a",35)(2,"div",36)(3,"div",37),h._UZ(4,"img",38),h.qZA(),h.TgZ(5,"p",39),h._uU(6),h.qZA()()()()),2&l){const o=f.$implicit;h.xp6(1),h.Q6J("routerLink",h.VKq(4,Ce,o.id)),h.xp6(3),h.s9C("alt",o.title),h.Q6J("src",o.image_recipe[0].image_recipe,h.LSH),h.xp6(2),h.Oqu(o.title)}}function It(l,f){if(1&l&&(h.TgZ(0,"main",31),h._UZ(1,"div",3),h.TgZ(2,"div",32)(3,"div",6)(4,"h1",7),h._uU(5,"Result"),h.qZA()(),h.TgZ(6,"div",33),h.YNc(7,Ke,7,6,"div",34),h.qZA()()()),2&l){const o=h.oxw();h.xp6(7),h.Q6J("ngForOf",o.recipes)}}const Gn=[{path:"",pathMatch:"full",component:(()=>{class l{static#e=this.\u0275fac=function(d){return new(d||l)};static#t=this.\u0275cmp=h.Xpm({type:l,selectors:[["app-carousel"]],decls:24,vars:0,consts:[["id","carouselExampleAutoplaying","data-bs-ride","carousel",1,"carousel","slide"],[1,"overlay"],[1,"info"],[1,"carousel-title"],[1,"subtitle"],["routerLink","/recipes-list",1,"infoBtn"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","https://www.aveeno.com/sites/aveeno_us_2/files/healingherbswithmortaran_687349.jpg","alt","...",1,"carousel-img","d-block","w-100"],[1,"carousel-item"],["src","https://imgix-prod.sgs.com/-/media/sgscorp/images/connectivity-and-products/aromatics-pexels.cdn.en-MU.1.jpg","alt","...",1,"carousel-img","d-block","w-100"],["src","https://images.pexels.com/photos/1793035/pexels-photo-1793035.jpeg","alt","...",1,"carousel-img","d-block","w-100"],["type","button","data-bs-target","#carouselExampleAutoplaying","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleAutoplaying","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(d,m){1&d&&(h.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),h._uU(4,"Welcome to our Healing Herbal Recipe Community!"),h.qZA(),h.TgZ(5,"div",4),h._uU(6," Explore a wealth of new herbal recipes designed for healing right here. Upon registration, you'll gain access to not only adding your favorite healing recipes but also rating and commenting on the ones that resonate with you. Join us in nurturing wellness through the power of herbal remedies! "),h.qZA(),h.TgZ(7,"a",5),h._uU(8,"READ MORE"),h.qZA()()(),h.TgZ(9,"div",6)(10,"div",7),h._UZ(11,"img",8),h.qZA(),h.TgZ(12,"div",9),h._UZ(13,"img",10),h.qZA(),h.TgZ(14,"div",9),h._UZ(15,"img",11),h.qZA()(),h.TgZ(16,"button",12),h._UZ(17,"span",13),h.TgZ(18,"span",14),h._uU(19,"Previous"),h.qZA()(),h.TgZ(20,"button",15),h._UZ(21,"span",16),h.TgZ(22,"span",14),h._uU(23,"Next"),h.qZA()()())},dependencies:[ce.rH],styles:[".carousel[_ngcontent-%COMP%]{max-height:93vh;overflow:hidden}.carousel-img[_ngcontent-%COMP%]{height:100vh;object-fit:cover}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{z-index:9}.overlay[_ngcontent-%COMP%]{position:absolute;inset:0 50% 0 0;background-color:#a7575ee6;background-color:var(--mainRGBAColor);z-index:9}.info[_ngcontent-%COMP%]{position:absolute;left:47%;right:10%;top:40%;transform:translate(2%,-27%);color:var(--mainWhiteColor);text-align:left}.carousel-title[_ngcontent-%COMP%]{font-size:32px;padding-bottom:20px;font-weight:900;line-height:35px;color:var(--backgroundColor);text-align:left;box-shadow:unset}.subtitle[_ngcontent-%COMP%]{font-style:italic;color:var(--backgroundColor)}.infoBtn[_ngcontent-%COMP%]{background-color:var(--backgroundColor);color:var(--textColor);padding:13px 35px;font-size:14px;margin-top:40px;display:inline-block;font-weight:700;font-family:Roboto,sans-serif;border:1px solid transparent}.infoBtn[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:transparent;border:1px solid var(--backgroundColor);color:var(--mainWhiteColor)}@media (max-width: 460px){.overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#a7575e99;background-color:var(--mainRGBAColor);z-index:9}.info[_ngcontent-%COMP%]{position:absolute;left:10%;right:10%;top:30%;color:var(--mainWhiteColor);text-align:center}.infoBtn[_ngcontent-%COMP%]{margin-top:10px}.carousel-title[_ngcontent-%COMP%]{font-size:26px;padding-bottom:10px;font-weight:900;text-align:center}}@media (min-width: 461px) and (max-width: 767px){.overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#a7575e99;background-color:var(--mainRGBAColor);z-index:9}.info[_ngcontent-%COMP%]{position:absolute;left:10%;right:10%;top:30%;color:var(--mainWhiteColor);text-align:center}.infoBtn[_ngcontent-%COMP%]{margin-top:10px}.carousel-title[_ngcontent-%COMP%]{font-size:26px;padding-bottom:10px;font-weight:900}}@media (min-width: 768px) and (max-width: 1023px){.info[_ngcontent-%COMP%]{position:absolute;left:10%;right:10%;top:30%;color:var(--mainWhiteColor)}}"]})}return l})()},{path:"register",component:Ge},{path:"login",component:Ln},{path:"recipes-list",component:Qe},{path:"recipe-search",component:(()=>{class l{constructor(o,d){this.recipeService=o,this.route=d,this.recipes=[],this.result=!1}ngOnInit(){this.route.queryParams.subscribe(o=>{const d=o.search;d&&this.getRecipes(d)})}getRecipes(o){var d=this;return(0,Ee.Z)(function*(){const{data:m}=yield d.recipeService.searchRecipesByTitle(o);console.log(m),m.length>0?(d.recipes.push(...m),d.result=!0):d.result=!1})()}static#e=this.\u0275fac=function(d){return new(d||l)(h.Y36(Xn.v),h.Y36(ce.gz))};static#t=this.\u0275cmp=h.Xpm({type:l,selectors:[["app-recipe-search"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["recipesList",""],[1,"main-short"],[1,"headerImage"],[1,"wrapper"],[2,"max-width","600px","margin","-50px auto 50px auto","padding","32px","background-color","var(--backgroundColor)","border-radius","unset","box-shadow","0 1px 3px 0 rgba(0, 0, 0, 0.3)","display","flex","flex-direction","column","align-items","center"],[1,"title-wrapper"],[1,"title"],[1,"logo-svg"],["viewBox","0 0 640 400","data-background-color","var(--mainWhiteColor)","preserveAspectRatio","xMidYMid meet","height","400","width","640","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink"],["width","640","height","400","x","0","y","0","opacity","1","fill","var(--mainRGBAColor)","data-fill-palette-color","background","id","background"],["id","tight-bounds","transform","matrix(1,0,0,1,168.6873741251188,76.4)"],["viewBox","0 0 302.6252517497624 247.2","height","247.2","width","302.6252517497624"],["viewBox","0 0 395.52 323.08124796157813","height","247.2","width","302.6252517497624"],["transform","matrix(1,0,0,1,0,240.1001478205344)"],["viewBox","0 0 395.52 82.98110014104373","height","82.98110014104373","width","395.52"],["id","textblocktransform"],["viewBox","0 0 395.52 82.98110014104373","height","82.98110014104373","width","395.52","id","textblock"],["transform","matrix(1,0,0,1,0,0)"],["width","395.52","viewBox","0.15000000596046448 -37.939998626708984 276.9100036621094 58.11000061035156","height","82.98110014104373","data-palette-color","var(--mainWhiteColor)"],["d","M8.3-27.15L0.15-26.51 0.93-29.05Q0.98-29.1 1.68-29.17 2.39-29.25 3.56-29.37 4.74-29.49 6.2-29.64 7.67-29.79 9.2-29.93 10.74-30.08 12.23-30.22 13.72-30.37 14.99-30.52L14.99-30.52Q14.99-30.52 15.43-30.52 15.87-30.52 16.41-30.52 16.94-30.52 17.43-30.52 17.92-30.52 18.07-30.52L18.07-30.52Q19.24-30.52 19.68-30.08 20.12-29.64 20.12-28.17L20.12-28.17 11.23-27.15Q11.13-24.07 11.33-20.7 11.52-17.33 11.82-13.89 12.11-10.45 12.38-7.08 12.65-3.71 12.65-0.63L12.65-0.63Q12.65-0.2 12.38-0.02 12.11 0.15 11.74 0.2 11.38 0.24 10.99 0.17 10.6 0.1 10.3 0L10.3 0Q10.16-0.63 10.01-2.2 9.86-3.76 9.72-5.86 9.57-7.96 9.42-10.4 9.28-12.84 9.13-15.28 8.98-17.72 8.84-19.95 8.69-22.17 8.59-23.85 8.5-25.54 8.42-26.46 8.35-27.39 8.3-27.15L8.3-27.15ZM20.07-33.74L21.68-33.5 22.95-17.48Q23.29-17.77 23.83-18.36 24.36-18.95 25.1-19.46 25.83-19.97 26.71-20.34 27.59-20.7 28.61-20.65L28.61-20.65Q30.61-20.46 31.81-19.04 33.01-17.63 33.62-15.58 34.23-13.53 34.42-11.11 34.62-8.69 34.54-6.49 34.47-4.3 34.3-2.59 34.13-0.88 34.03-0.24L34.03-0.24 32.27-0.49Q32.27-0.93 32.3-1.88 32.32-2.83 32.37-4.13 32.42-5.42 32.42-6.84 32.42-8.25 32.44-9.5 32.47-10.74 32.44-11.72 32.42-12.7 32.37-13.09L32.37-13.09Q32.42-14.45 31.83-15.72 31.25-16.99 30.27-17.65 29.29-18.31 27.93-18.09 26.56-17.87 25-16.16L25-16.16Q23.63-14.11 23-12.13 22.36-10.16 22.17-8.23 21.97-6.3 22.02-4.27 22.07-2.25 22.02 0L22.02 0 20.11-0.29Q20.26-0.83 20.33-2.27 20.41-3.71 20.46-5.74 20.51-7.76 20.53-10.25 20.55-12.74 20.53-15.41 20.51-18.07 20.46-20.75 20.41-23.44 20.33-25.88 20.26-28.32 20.19-30.37 20.11-32.42 20.07-33.74L20.07-33.74ZM36.86-11.47L36.86-11.47Q36.86-12.94 37.5-14.72 38.13-16.5 39.23-18.04 40.33-19.58 41.72-20.63 43.11-21.68 44.62-21.68L44.62-21.68Q45.45-21.68 46.26-21.34 47.07-21 47.82-20.43 48.58-19.87 49.19-19.17 49.8-18.46 50.14-17.68 50.48-16.89 50.51-16.16 50.53-15.43 50.09-14.89L50.09-14.89 39.79-12.99Q39.59-12.94 39.45-12.52 39.3-12.11 39.2-11.47 39.11-10.84 39.03-10.08 38.96-9.33 38.91-8.62 38.86-7.91 38.86-7.35 38.86-6.79 38.86-6.49L38.86-6.49Q38.86-5.13 39.52-4.27 40.18-3.42 41.21-2.98 42.23-2.54 43.53-2.39 44.82-2.25 46.09-2.25 47.36-2.25 48.48-2.34 49.6-2.44 50.34-2.44L50.34-2.44Q50.34-2.25 50.19-2 50.04-1.76 49.85-1.54 49.65-1.32 49.46-1.15 49.26-0.98 49.21-0.93L49.21-0.93Q48.82-0.83 48.02-0.66 47.21-0.49 46.31-0.34 45.41-0.2 44.62-0.1 43.84 0 43.55 0L43.55 0Q42.04 0.29 40.91-0.05 39.79-0.39 39.01-1.22 38.23-2.05 37.74-3.25 37.25-4.44 37.01-5.81 36.76-7.18 36.74-8.64 36.71-10.11 36.86-11.47ZM43.94-19.82L43.94-19.82Q43.5-19.82 42.79-19.36 42.08-18.9 41.47-18.19 40.86-17.48 40.45-16.67 40.03-15.87 40.18-15.28L40.18-15.28Q41.45-15.14 42.82-15.33 44.18-15.53 45.31-15.94 46.43-16.36 47.16-16.92 47.9-17.48 47.87-18.07 47.85-18.65 46.94-19.12 46.04-19.58 43.94-19.82ZM93.06 0L74.31-29.05Q74.31-28.91 74.28-28.42 74.26-27.93 74.26-27.42 74.26-26.9 74.26-26.44 74.26-25.98 74.26-25.83L74.26-25.83Q74.26-22.66 74.4-19.48 74.55-16.31 74.75-13.11 74.94-9.91 75.09-6.69 75.23-3.47 75.23-0.24L75.23-0.24 73.48-0.34Q73.43-1.27 73.31-2.93 73.18-4.59 73.01-6.76 72.84-8.94 72.65-11.43 72.45-13.92 72.23-16.48 72.01-19.04 71.87-21.53 71.72-24.02 71.6-26.15 71.47-28.27 71.43-29.91 71.38-31.54 71.43-32.42L71.43-32.42Q71.43-33.01 71.87-33.4 72.3-33.79 72.89-33.79L72.89-33.79Q73.48-33.79 74.23-33.52 74.99-33.25 75.23-32.81L75.23-32.81 92.81-4.44Q92.81-6.69 92.69-9.28 92.57-11.87 92.47-14.6 92.37-17.33 92.35-20.09 92.32-22.85 92.45-25.46 92.57-28.08 92.93-30.42 93.3-32.76 93.98-34.67L93.98-34.67Q94.67-34.91 95.06-34.94 95.45-34.96 95.64-34.91 95.84-34.86 95.86-34.67 95.89-34.47 95.89-34.28L95.89-34.28Q95.89-34.18 95.89-33.98 95.89-33.79 95.89-33.74L95.89-33.74Q95.79-33.45 95.67-32.67 95.55-31.88 95.35-30.35 95.16-28.81 95.01-26.37 94.86-23.93 94.72-20.31 94.57-16.7 94.5-11.72 94.42-6.74 94.47-0.1L94.47-0.1 93.06 0ZM97.74-4.2L97.74-4.2Q97.74-6.98 99.28-8.25 100.82-9.52 103.31-9.52L103.31-9.52Q104.28-9.52 105.14-9.47 105.99-9.42 106.77-9.23 107.56-9.03 108.31-8.64 109.07-8.25 109.9-7.52L109.9-7.52Q109.9-7.67 109.92-8.13 109.95-8.59 109.95-9.13 109.95-9.67 109.95-10.13 109.95-10.6 109.95-10.79L109.95-10.79Q109.9-11.67 109.9-13.06 109.9-14.45 109.68-15.92 109.46-17.38 108.8-18.7 108.14-20.02 106.68-20.7L106.68-20.7Q105.65-20.7 104.77-20.36 103.89-20.02 103.01-19.63 102.14-19.24 101.26-18.92 100.38-18.6 99.35-18.6L99.35-18.6Q99.35-19.82 100.11-20.63 100.87-21.44 101.94-21.88 103.01-22.31 104.19-22.46 105.36-22.61 106.24-22.61L106.24-22.61Q107.12-22.46 107.87-22.27 108.63-22.07 109.29-21.48 109.95-20.9 110.51-19.7 111.07-18.51 111.49-16.36 111.9-14.21 112.22-10.91 112.54-7.62 112.73-2.83L112.73-2.83Q112.83-2.2 112.32-1.73 111.8-1.27 110.93-0.95 110.05-0.63 108.95-0.42 107.85-0.2 106.73-0.1 105.6 0 104.58 0.05 103.55 0.1 102.87 0.1L102.87 0.1Q101.99 0.1 101.09-0.2 100.18-0.49 99.43-1.05 98.67-1.61 98.21-2.42 97.74-3.22 97.74-4.2ZM104.09-7.62L104.09-7.62Q101.65-6.93 100.67-5.98 99.69-5.03 99.82-4.15 99.94-3.27 100.96-2.56 101.99-1.86 103.45-1.64 104.92-1.42 106.63-1.88 108.34-2.34 109.9-3.71L109.9-3.71Q109.31-5.13 108.73-5.88 108.14-6.64 107.46-7.03 106.77-7.42 105.94-7.52 105.11-7.62 104.09-7.62ZM120.64-17.72L120.64-17.72Q120.2-17.87 119.44-17.85 118.69-17.82 117.83-17.75 116.98-17.68 116.2-17.58 115.41-17.48 114.88-17.48L114.88-17.48Q114.63-17.48 114.56-18.19 114.49-18.9 114.34-20.12L114.34-20.12 121.23-20.61Q121.37-22.31 121.42-23.05 121.47-23.78 121.44-24.29 121.42-24.8 121.4-25.46 121.37-26.12 121.37-27.54L121.37-27.54Q122.64-27.73 123.3-27.66 123.96-27.59 124.2-27.29 124.45-27 124.42-26.44 124.4-25.88 124.28-25.05 124.15-24.22 124.08-23.05 124.01-21.88 124.15-20.41L124.15-20.41 130.01-20.61 130.01-18.21Q129.62-18.21 128.79-18.16 127.96-18.12 127.01-18.07 126.06-18.02 125.25-17.97 124.45-17.92 124.06-17.77L124.06-17.77Q123.67-16.02 123.23-14.01 122.79-12.01 122.64-10.06 122.49-8.11 122.74-6.42 122.98-4.74 123.96-3.64 124.94-2.54 126.74-2.12 128.55-1.71 131.53-2.39L131.53-2.39Q131.43-1.66 130.97-1.2 130.5-0.73 129.89-0.46 129.28-0.2 128.6-0.07 127.91 0.05 127.38 0.05L127.38 0.05Q124.89 0.05 123.42-0.85 121.96-1.76 121.23-3.22 120.49-4.69 120.3-6.57 120.1-8.45 120.18-10.4 120.25-12.35 120.44-14.26 120.64-16.16 120.64-17.72ZM133.19-18.95L133.19-18.95Q133.19-19.19 133.5-19.43 133.82-19.68 134.28-19.82 134.75-19.97 135.19-20.02 135.63-20.07 135.82-19.87L135.82-19.87Q136.12-13.82 136.97-10.23 137.82-6.64 138.92-4.98 140.02-3.32 141.29-3.3 142.56-3.27 143.78-4.37 145-5.47 146.05-7.37 147.1-9.28 147.76-11.47 148.42-13.67 148.57-15.87 148.71-18.07 148.18-19.78L148.18-19.78 151.11-20.12Q151.15-19.38 151.37-17.7 151.59-16.02 151.86-13.89 152.13-11.77 152.47-9.47 152.81-7.18 153.06-5.2 153.3-3.22 153.5-1.83 153.69-0.44 153.69-0.1L153.69-0.1 151.59-0.1 149.3-8.54Q148.62-6.84 147.64-5.27 146.66-3.71 145.51-2.54 144.37-1.37 143.1-0.71 141.83-0.05 140.58-0.17 139.34-0.29 138.17-1.32 136.99-2.34 135.99-4.57 134.99-6.79 134.26-10.3 133.53-13.82 133.19-18.95ZM155.25-19.04L155.25-19.04Q155.84-19.29 156.28-19.14 156.72-18.99 157.01-18.6 157.3-18.21 157.45-17.7 157.6-17.19 157.69-16.7L157.69-16.7Q158.33-17.77 159.53-18.43 160.72-19.09 162.09-19.31 163.46-19.53 164.82-19.41 166.19-19.29 167.14-18.82 168.1-18.36 168.49-17.55 168.88-16.75 168.29-15.67L168.29-15.67Q167.02-16.41 165.63-16.85 164.24-17.29 162.92-17.14 161.6-16.99 160.48-16.14 159.36-15.28 158.62-13.43 157.89-11.57 157.72-8.52 157.55-5.47 158.13-0.93L158.13-0.93 156.28-0.93Q156.28-0.93 156.21-1.73 156.13-2.54 156.06-3.86 155.99-5.18 155.86-6.79 155.74-8.4 155.64-10.06 155.55-11.72 155.47-13.26 155.4-14.79 155.3-15.92L155.3-15.92Q155.3-16.06 155.28-16.5 155.25-16.94 155.25-17.46 155.25-17.97 155.25-18.41 155.25-18.85 155.25-19.04ZM170.49-4.2L170.49-4.2Q170.49-6.98 172.02-8.25 173.56-9.52 176.05-9.52L176.05-9.52Q177.03-9.52 177.88-9.47 178.74-9.42 179.52-9.23 180.3-9.03 181.06-8.64 181.81-8.25 182.64-7.52L182.64-7.52Q182.64-7.67 182.67-8.13 182.69-8.59 182.69-9.13 182.69-9.67 182.69-10.13 182.69-10.6 182.69-10.79L182.69-10.79Q182.64-11.67 182.64-13.06 182.64-14.45 182.42-15.92 182.2-17.38 181.54-18.7 180.89-20.02 179.42-20.7L179.42-20.7Q178.4-20.7 177.52-20.36 176.64-20.02 175.76-19.63 174.88-19.24 174-18.92 173.12-18.6 172.1-18.6L172.1-18.6Q172.1-19.82 172.85-20.63 173.61-21.44 174.68-21.88 175.76-22.31 176.93-22.46 178.1-22.61 178.98-22.61L178.98-22.61Q179.86-22.46 180.62-22.27 181.37-22.07 182.03-21.48 182.69-20.9 183.25-19.7 183.82-18.51 184.23-16.36 184.65-14.21 184.96-10.91 185.28-7.62 185.48-2.83L185.48-2.83Q185.57-2.2 185.06-1.73 184.55-1.27 183.67-0.95 182.79-0.63 181.69-0.42 180.59-0.2 179.47-0.1 178.35 0 177.32 0.05 176.3 0.1 175.61 0.1L175.61 0.1Q174.73 0.1 173.83-0.2 172.93-0.49 172.17-1.05 171.41-1.61 170.95-2.42 170.49-3.22 170.49-4.2ZM176.83-7.62L176.83-7.62Q174.39-6.93 173.42-5.98 172.44-5.03 172.56-4.15 172.68-3.27 173.71-2.56 174.73-1.86 176.2-1.64 177.66-1.42 179.37-1.88 181.08-2.34 182.64-3.71L182.64-3.71Q182.06-5.13 181.47-5.88 180.89-6.64 180.2-7.03 179.52-7.42 178.69-7.52 177.86-7.62 176.83-7.62ZM188.6-37.94L188.6-37.94Q189.28-37.84 189.79-37.57 190.31-37.3 190.6-36.62L190.6-36.62Q190.6-35.69 190.67-34.06 190.75-32.42 190.82-30.27 190.89-28.13 190.99-25.63 191.09-23.14 191.19-20.61 191.28-18.07 191.36-15.58 191.43-13.09 191.5-10.94 191.58-8.79 191.63-7.13 191.67-5.47 191.72-4.59L191.72-4.59Q191.72-4.49 191.7-4.25 191.67-4 191.65-3.66 191.63-3.32 191.6-3 191.58-2.69 191.58-2.54L191.58-2.54Q191.53-2.25 191.53-1.83 191.53-1.42 191.43-1.03 191.33-0.63 191.11-0.32 190.89 0 190.4 0.05L190.4 0.05 189.57-0.98Q189.53-1.03 189.45-2.81 189.38-4.59 189.26-7.45 189.14-10.3 189.04-13.89 188.94-17.48 188.82-21.14 188.7-24.8 188.6-28.17 188.5-31.54 188.45-33.98L188.45-33.98Q188.45-34.18 188.48-34.77 188.5-35.35 188.52-35.96 188.55-36.57 188.57-37.13 188.6-37.7 188.6-37.94ZM226.58-17.58L226.58-17.58Q226.43-17.04 226.12-15.87 225.8-14.7 225.39-13.23 224.97-11.77 224.51-10.16 224.04-8.54 223.6-7.08 223.16-5.62 222.82-4.47 222.48-3.32 222.33-2.83L222.33-2.83Q222.24-2.34 222.04-1.78 221.85-1.22 221.6-0.93 221.36-0.63 221.06-0.78 220.77-0.93 220.48-1.86L220.48-1.86 212.96-35.64Q213.1-35.64 213.45-35.72 213.79-35.79 213.93-35.79L213.93-35.79Q214.91-35.79 215.23-35.38 215.55-34.96 215.79-33.74L215.79-33.74 221.41-8.4 225.17-20.61Q225.36-21.19 225.73-21.39 226.09-21.58 226.58-21.58L226.58-21.58Q226.97-21.19 227.7-20.14 228.44-19.09 229.29-17.7 230.15-16.31 231.07-14.72 232-13.13 232.86-11.72 233.71-10.3 234.39-9.16 235.08-8.01 235.47-7.52L235.47-7.52Q235.61-7.28 235.98-6.86 236.35-6.45 236.79-6.01 237.23-5.57 237.67-5.18 238.1-4.79 238.3-4.69L238.3-4.69Q238.25-6.3 238.15-8.52 238.06-10.74 237.96-13.33 237.86-15.92 237.84-18.73 237.81-21.53 237.93-24.29 238.06-27.05 238.35-29.61 238.64-32.18 239.13-34.33L239.13-34.33Q239.23-34.67 239.4-34.84 239.57-35.01 239.79-35.06 240.01-35.11 240.38-35.08 240.74-35.06 241.18-35.06L241.18-35.06Q241.18-34.52 241.13-33.76 241.08-33.01 240.99-31.62 240.89-30.22 240.79-27.88 240.69-25.54 240.57-21.83 240.45-18.12 240.35-12.77 240.25-7.42 240.16 0L240.16 0Q238.06-1.66 236.25-3.71 234.44-5.76 232.83-8.08 231.22-10.4 229.68-12.82 228.14-15.23 226.58-17.58ZM243.18-4.2L243.18-4.2Q243.18-6.98 244.72-8.25 246.26-9.52 248.75-9.52L248.75-9.52Q249.72-9.52 250.58-9.47 251.43-9.42 252.21-9.23 252.99-9.03 253.75-8.64 254.51-8.25 255.34-7.52L255.34-7.52Q255.34-7.67 255.36-8.13 255.39-8.59 255.39-9.13 255.39-9.67 255.39-10.13 255.39-10.6 255.39-10.79L255.39-10.79Q255.34-11.67 255.34-13.06 255.34-14.45 255.12-15.92 254.9-17.38 254.24-18.7 253.58-20.02 252.12-20.7L252.12-20.7Q251.09-20.7 250.21-20.36 249.33-20.02 248.45-19.63 247.57-19.24 246.7-18.92 245.82-18.6 244.79-18.6L244.79-18.6Q244.79-19.82 245.55-20.63 246.31-21.44 247.38-21.88 248.45-22.31 249.63-22.46 250.8-22.61 251.68-22.61L251.68-22.61Q252.56-22.46 253.31-22.27 254.07-22.07 254.73-21.48 255.39-20.9 255.95-19.7 256.51-18.51 256.93-16.36 257.34-14.21 257.66-10.91 257.98-7.62 258.17-2.83L258.17-2.83Q258.27-2.2 257.76-1.73 257.24-1.27 256.36-0.95 255.49-0.63 254.39-0.42 253.29-0.2 252.16-0.1 251.04 0 250.02 0.05 248.99 0.1 248.31 0.1L248.31 0.1Q247.43 0.1 246.53-0.2 245.62-0.49 244.86-1.05 244.11-1.61 243.64-2.42 243.18-3.22 243.18-4.2ZM249.53-7.62L249.53-7.62Q247.09-6.93 246.11-5.98 245.13-5.03 245.26-4.15 245.38-3.27 246.4-2.56 247.43-1.86 248.89-1.64 250.36-1.42 252.07-1.88 253.78-2.34 255.34-3.71L255.34-3.71Q254.75-5.13 254.17-5.88 253.58-6.64 252.9-7.03 252.21-7.42 251.38-7.52 250.55-7.62 249.53-7.62ZM271.79 20.17L269.59 20.02Q269.59 17.58 270.03 14.99 270.47 12.4 270.94 9.81 271.4 7.23 271.72 4.64 272.04 2.05 271.79-0.44L271.79-0.44 259.63-21.04Q260.71-22.02 261.34-22.14 261.98-22.27 262.07-22.17L262.07-22.17Q262.42-21.68 263.22-20.36 264.03-19.04 265.08-17.29 266.13-15.53 267.3-13.57 268.47-11.62 269.52-9.86 270.57-8.11 271.33-6.74 272.08-5.37 272.38-4.83L272.38-4.83 274.62-22.95 277.06-21.73 271.79 20.17Z","opacity","1","transform","matrix(1,0,0,1,0,0)","fill","var(--mainWhiteColor)","data-fill-palette-color","primary","id","text-0",1,"wordmark-text-0"],["transform","matrix(1,0,0,1,97.29977228662983,0)"],["viewBox","0 0 200.92045542674032 200.92045542674032","height","200.92045542674032","width","200.92045542674032"],["id","icon-0"],["d","M0 100.46c0-55.483 44.978-100.46 100.46-100.46 55.483 0 100.46 44.978 100.46 100.46 0 55.483-44.978 100.46-100.46 100.46-55.483 0-100.46-44.978-100.46-100.46zM100.46 193.437c51.35 0 92.977-41.627 92.977-92.977 0-51.35-41.627-92.977-92.977-92.977-51.35 0-92.977 41.627-92.977 92.977 0 51.35 41.627 92.977 92.977 92.977z","data-fill-palette-color","accent","fill","var(--mainWhiteColor)","stroke","transparent"],["rx","99.45562543623646","ry","99.45562543623646","cx","100.46022771337016","cy","100.46022771337016","fill","var(--mainWhiteColor)","stroke","transparent","stroke-width","0","fill-opacity","1","data-fill-palette-color","accent"],["transform","matrix(1,0,0,1,43.57436241056036,43.35758026693677)"],["viewBox","0 0 113.7717306056196 114.20529489286677","height","114.20529489286677","width","113.7717306056196"],["xmlns","http://www.w3.org/2000/svg","data-name","Layer 1","viewBox","1.190000057220459 1.002901315689087 97.62506866455078 97.99710083007812","x","0","y","0","height","114.20529489286677","width","113.7717306056196","data-fill-palette-color","quaternary","id","b-0",1,"icon-b-0"],["d","M79.28 26.63a0.3 0.3 0 0 0 0-0.07 0.28 0.28 0 0 0-0.48-0.19l-7 7a20.24 20.24 0 0 0-6 13v1.87a37.5 37.5 0 0 1 1.67 5.15H54.79a32.9 32.9 0 0 0-5.43-15.13 26.9 26.9 0 0 1-7.74 5.77 22.2 22.2 0 0 1-6.34 2.06c-9.9 1.51-22.3-5-28.35-41.61a1.86 1.86 0 0 1 1.55-2.05c47.44-6.69 50.2 11.7 47.85 22.85a51.5 51.5 0 0 0-19.69-6.14h-0.11a0.43 0.43 0 0 0-0.18 0.76l11.58 8.5 5.84 4.31a37.3 37.3 0 0 1 6.08 5.85 24.8 24.8 0 0 1 5-6.15 17.7 17.7 0 0 1-2.54-5 14.8 14.8 0 0 1-0.65-4.41c0-6.65 5.53-14.14 30.18-14.44a1.23 1.23 0 0 1 1.24 1.23c-0.38 31.82-12.74 31.78-19.82 29.12a34.2 34.2 0 0 0 6.02-12.28M28.65 93h34.63a16.16 16.16 0 0 0 12.18-5.54l21.68-24.79a6.79 6.79 0 0 0-0.79-9.7 6.55 6.55 0 0 0-4.2-1.49 7.24 7.24 0 0 0-5.38 2.43l-10.2 11.35v0.16a11.85 11.85 0 0 1-11.89 11.26H52.21a2.54 2.54 0 1 1 0-5.08h12.47a6.72 6.72 0 0 0 6.81-6.34A6.54 6.54 0 0 0 65 58.52H44.19l-3.37-1.18a23.42 23.42 0 0 0-24.26 5.49L1.19 78.1 22.64 99Z","fill","var(--textColor)","data-fill-palette-color","quaternary"],["width","302.6252517497624","height","247.2","fill","none","stroke","none","visibility","hidden"],[1,"main-long"],[1,"wrapper-list"],[1,"recipe-list"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"recipe-item"],[1,"recipe-image"],[3,"src","alt"],[1,"recipe-title"]],template:function(d,m){if(1&d&&(h.YNc(0,tt,41,0,"div",0),h.YNc(1,It,8,1,"ng-template",null,1,h.W1O)),2&d){const T=h.MAs(2);h.Q6J("ngIf",!m.result)("ngIfElse",T)}},dependencies:[le.sg,le.O5,ce.rH],styles:[".wrapper-list[_ngcontent-%COMP%]{margin:-50px auto 50px;max-width:1200px;background-color:var(--backgroundColor);box-shadow:0 1px 3px #0000004d;padding:32px}.title-wrapper[_ngcontent-%COMP%]{margin-left:10px}.recipe-list[_ngcontent-%COMP%]{position:relative;display:grid;grid-template-columns:repeat(4,1fr);row-gap:20px;margin-bottom:100px}.recipe-item[_ngcontent-%COMP%]{margin:5px;position:relative}.recipe-image[_ngcontent-%COMP%]{padding:5px;position:relative;transition:transform 1s ease-in-out}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;width:100%;object-fit:fill}.recipe-item[_ngcontent-%COMP%]:hover   .recipe-image[_ngcontent-%COMP%]{transform:translateY(12%)}@media only screen and (max-width: 460px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 20px 50px;padding:16px}.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 461px) and (max-width: 767px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 768px) and (max-width: 1023px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);column-gap:10px;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}@media (min-width: 1024px) and (max-width: 1440px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);column-gap:10px;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}"]})}return l})()},{path:"recipe/:id",component:mi},{path:"dashboard",loadChildren:()=>Q.e(155).then(Q.bind(Q,3155)).then(l=>l.PrivateModule),canActivate:[(l,f)=>{const o=(0,h.f3M)(Oe.K),d=(0,h.f3M)(ce.F0);return o.userData$.pipe((0,we.w)(m=>(0,fe.of)(!!m&&m.isActive)),(0,de.U)(m=>!!m||(alert("Not authorized"),console.log("Not authorized"),d.createUrlTree(["/login"],{queryParams:{returnUrl:f.url}}))))}]}];let K=(()=>{class l{static#e=this.\u0275fac=function(d){return new(d||l)};static#t=this.\u0275mod=h.oAB({type:l});static#n=this.\u0275inj=h.cJS({imports:[ce.Bz.forRoot(Gn,{useHash:!0}),ce.Bz]})}return l})(),V=(()=>{class l{static#e=this.\u0275fac=function(d){return new(d||l)};static#t=this.\u0275cmp=h.Xpm({type:l,selectors:[["app-footer"]],decls:25,vars:0,consts:[[1,"footer"],[1,"footer-links"],["href","/about"],["href","/contact"],["href","/terms"],["href","/privacy"],[1,"social-icons"],["href","https://www.facebook.com"],[1,"fa-brands","fa-facebook","fa-flip"],["href","https://www.twitter.com"],[1,"fa-brands","fa-x-twitter","fa-flip"],["href","https://www.instagram.com"],[1,"fa-brands","fa-instagram","fa-flip"],[1,"copyright"],[1,"projectInfo"]],template:function(d,m){1&d&&(h.TgZ(0,"footer",0)(1,"div",1)(2,"a",2),h._uU(3,"About Us"),h.qZA(),h._uU(4," | "),h.TgZ(5,"a",3),h._uU(6,"Contact Us"),h.qZA(),h._uU(7," | "),h.TgZ(8,"a",4),h._uU(9,"Terms of Service"),h.qZA(),h._uU(10," | "),h.TgZ(11,"a",5),h._uU(12,"Privacy Policy"),h.qZA()(),h.TgZ(13,"div",6)(14,"a",7),h._UZ(15,"i",8),h.qZA(),h.TgZ(16,"a",9),h._UZ(17,"i",10),h.qZA(),h.TgZ(18,"a",11),h._UZ(19,"i",12),h.qZA()(),h.TgZ(20,"div",13)(21,"div",14),h._uU(22," This project was developed to meet the requirements of the Angular Project Assignment within the 'Angular - February 2024' course at SoftUni. "),h.qZA(),h.TgZ(23,"span"),h._uU(24," \xa9 2024 The Natural Way. All Rights Reserved. "),h.qZA()()())},styles:[".footer[_ngcontent-%COMP%]{background-color:var(--aliceBlueColor);padding:20px;color:#333;font-size:14px;text-align:center}.footer-links[_ngcontent-%COMP%]{padding:20px 0}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#666;text-decoration:none;margin:0 10px}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--mainBlackColor)}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#666;text-decoration:none;margin:0 10px}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#3b5998}.copyright[_ngcontent-%COMP%]{margin-top:20px;font-size:12px;color:#999}.projectInfo[_ngcontent-%COMP%]{margin-bottom:10px}"]})}return l})();var G=Q(5619);class W{}class ${}const ve="*";function ze(l,f){return{type:7,name:l,definitions:f,options:{}}}function Tt(l,f=null){return{type:4,styles:f,timings:l}}function ln(l,f=null){return{type:2,steps:l,options:f}}function Tn(l){return{type:6,styles:l,offset:null}}function $t(l,f,o){return{type:0,name:l,styles:f,options:o}}function jr(l,f,o=null){return{type:1,expr:l,animation:f,options:o}}class js{constructor(f=0,o=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=f+o}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(f=>f()),this._onDoneFns=[])}onStart(f){this._originalOnStartFns.push(f),this._onStartFns.push(f)}onDone(f){this._originalOnDoneFns.push(f),this._onDoneFns.push(f)}onDestroy(f){this._onDestroyFns.push(f)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(f=>f()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(f=>f()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(f){this._position=this.totalTime?f*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(f){const o="start"==f?this._onStartFns:this._onDoneFns;o.forEach(d=>d()),o.length=0}}class Ma{constructor(f){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=f;let o=0,d=0,m=0;const T=this.players.length;0==T?queueMicrotask(()=>this._onFinish()):this.players.forEach(k=>{k.onDone(()=>{++o==T&&this._onFinish()}),k.onDestroy(()=>{++d==T&&this._onDestroy()}),k.onStart(()=>{++m==T&&this._onStart()})}),this.totalTime=this.players.reduce((k,J)=>Math.max(k,J.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(f=>f()),this._onDoneFns=[])}init(){this.players.forEach(f=>f.init())}onStart(f){this._onStartFns.push(f)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(f=>f()),this._onStartFns=[])}onDone(f){this._onDoneFns.push(f)}onDestroy(f){this._onDestroyFns.push(f)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(f=>f.play())}pause(){this.players.forEach(f=>f.pause())}restart(){this.players.forEach(f=>f.restart())}finish(){this._onFinish(),this.players.forEach(f=>f.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(f=>f.destroy()),this._onDestroyFns.forEach(f=>f()),this._onDestroyFns=[])}reset(){this.players.forEach(f=>f.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(f){const o=f*this.totalTime;this.players.forEach(d=>{const m=d.totalTime?Math.min(1,o/d.totalTime):1;d.setPosition(m)})}getPosition(){const f=this.players.reduce((o,d)=>null===o||d.totalTime>o.totalTime?d:o,null);return null!=f?f.getPosition():0}beforeDestroy(){this.players.forEach(f=>{f.beforeDestroy&&f.beforeDestroy()})}triggerCallback(f){const o="start"==f?this._onStartFns:this._onDoneFns;o.forEach(d=>d()),o.length=0}}let qo=(()=>{class l{constructor(o,d){this.el=o,this.renderer=d}ngOnInit(){this.checkWidth()}onResize(){this.checkWidth()}checkWidth(){window.innerWidth<992?(this.renderer.addClass(this.el.nativeElement,"button"),this.renderer.addClass(this.el.nativeElement,"nav-btn"),this.renderer.addClass(this.el.nativeElement,"nav-link"),this.renderer.removeClass(this.el.nativeElement,"navigation")):(this.renderer.removeClass(this.el.nativeElement,"button"),this.renderer.removeClass(this.el.nativeElement,"nav-link"),this.renderer.removeClass(this.el.nativeElement,"nav-btn"),this.renderer.addClass(this.el.nativeElement,"navigation"))}static#e=this.\u0275fac=function(d){return new(d||l)(h.Y36(h.SBq),h.Y36(h.Qsj))};static#t=this.\u0275dir=h.lG2({type:l,selectors:[["","appResponsiveClass",""]],hostBindings:function(d,m){1&d&&h.NdJ("resize",function(){return m.onResize()},!1,h.Jf7)}})}return l})();function ds(l,f){1&l&&(h.TgZ(0,"li",19)(1,"a",20),h._UZ(2,"i",27),h.qZA(),h.TgZ(3,"ul",28)(4,"li")(5,"a",29),h._uU(6,"Register"),h.qZA()(),h.TgZ(7,"li")(8,"a",30),h._uU(9,"Login"),h.qZA()()()())}function hs(l,f){if(1&l){const o=h.EpF();h.TgZ(0,"li",19)(1,"a",20)(2,"span"),h._uU(3),h.qZA()(),h.TgZ(4,"ul",28)(5,"li")(6,"a",31),h._uU(7,"My recipes"),h.qZA()(),h.TgZ(8,"li")(9,"a",32),h._uU(10,"Create recipe"),h.qZA()(),h.TgZ(11,"li")(12,"a",33),h._uU(13,"Favorite recipes"),h.qZA()(),h.TgZ(14,"li")(15,"a",34),h._uU(16,"My comments"),h.qZA()(),h.TgZ(17,"li")(18,"a",35),h._uU(19,"Profile"),h.qZA()(),h.TgZ(20,"li")(21,"a",36),h.NdJ("click",function(){h.CHM(o);const m=h.oxw();return h.KtG(m.logout())}),h._uU(22,"Logout"),h.qZA()()()()}if(2&l){const o=h.oxw();h.xp6(3),h.Oqu(o.getUserDisplayName())}}function tr(l,f){1&l&&(h.TgZ(0,"div",38),h._uU(1," What are you searching for? "),h.qZA())}function $s(l,f){1&l&&(h.TgZ(0,"div",38),h._uU(1," Min length is a 3 char! "),h.qZA())}function oo(l,f){if(1&l&&(h.TgZ(0,"div"),h.YNc(1,tr,2,0,"div",37),h.YNc(2,$s,2,0,"div",37),h.qZA()),2&l){const o=h.oxw();let d,m;h.xp6(1),h.Q6J("ngIf",null==(d=o.searchForm.get("search"))||null==d.errors?null:d.errors.required),h.xp6(1),h.Q6J("ngIf",null==(m=o.searchForm.get("search"))||null==m.errors?null:m.errors.minlength)}}let So=(()=>{class l{constructor(o,d,m,T){this.userService=o,this.router=d,this.fb=m,this.elementRef=T,this.state="normal",this.searchForm=this.fb.group({search:[""]}),this.isMenuOpen=!1,this.userDataSubject=new G.X(null),this.userDataSubscription=this.userDataSubject.subscribe(k=>{this.userData=k,console.log(this.userData)})}onMouseOver(){this.state="hovered"}onMouseOut(){this.state="normal"}ngOnInit(){this.userService.userData$.subscribe({next:o=>{o?(this.userDataSubject.next(o),console.log("You have a user:",o)):(this.userDataSubject.next(null),console.log("You have no user."))},error:o=>{console.log(o)}}),this.router.events.subscribe(o=>{if(o instanceof ce.m2){const d=this.elementRef.nativeElement.querySelector("#navbarScroll");d&&d.classList.remove("show")}})}onSubmit(){var o=this;return(0,Ee.Z)(function*(){if(o.searchForm.valid){let d=o.searchForm.value;d&&d.search?(yield o.router.navigate(["/recipe-search"],{queryParams:{search:d.search.trim()}}),o.searchForm.reset()):console.error("Query search value is null or undefined.")}else alert("Try again!")})()}ngOnDestroy(){this.userDataSubscription.unsubscribe()}logout(){var o=this;return(0,Ee.Z)(function*(){yield o.userService.logoutUser()})()}getUserDisplayName(){return this.userData?this.userData.lastName:"Anonymous"}static#e=this.\u0275fac=function(d){return new(d||l)(h.Y36(Oe.K),h.Y36(ce.F0),h.Y36(re.qu),h.Y36(h.SBq))};static#t=this.\u0275cmp=h.Xpm({type:l,selectors:[["app-header"]],decls:34,vars:5,consts:[[1,"navbar","navbar-dark","navbar-expand-lg"],[1,"container-fluid"],[1,"header-wrapper"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarScroll","aria-controls","navbarScroll","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","hamburger",3,"mouseover","mouseout"],[1,"fa-solid","fa-bars","fa-beat-fade"],["href","#",1,"navbar-brand"],["viewBox","0 0 200.92045542674032 200.92045542674032","height","50","width","50",1,"svg-logo"],["d","M0 100.46c0-55.483 44.978-100.46 100.46-100.46 55.483 0 100.46 44.978 100.46 100.46 0 55.483-44.978 100.46-100.46 100.46-55.483 0-100.46-44.978-100.46-100.46zM100.46 193.437c51.35 0 92.977-41.627 92.977-92.977 0-51.35-41.627-92.977-92.977-92.977-51.35 0-92.977 41.627-92.977 92.977 0 51.35 41.627 92.977 92.977 92.977z","data-fill-palette-color","accent","fill","var(--aliceBlueColor)","stroke","transparent"],["rx","99.45562543623646","ry","99.45562543623646","cx","100.46022771337016","cy","100.46022771337016","fill","var(--mainRGBAColor)","stroke","transparent","stroke-width","0","fill-opacity","1","data-fill-palette-color","accent"],["transform","matrix(1,0,0,1,43.57436241056036,43.35758026693677)"],["viewBox","0 0 113.7717306056196 114.20529489286677","height","114.20529489286677","width","113.7717306056196"],["xmlns","http://www.w3.org/2000/svg","data-name","Layer 1","viewBox","1.190000057220459 1.002901315689087 97.62506866455078 97.99710083007812","x","0","y","0","height","114.20529489286677","width","113.7717306056196","data-fill-palette-color","quaternary","id","b-0",1,"icon-b-0"],["d","M79.28 26.63a0.3 0.3 0 0 0 0-0.07 0.28 0.28 0 0 0-0.48-0.19l-7 7a20.24 20.24 0 0 0-6 13v1.87a37.5 37.5 0 0 1 1.67 5.15H54.79a32.9 32.9 0 0 0-5.43-15.13 26.9 26.9 0 0 1-7.74 5.77 22.2 22.2 0 0 1-6.34 2.06c-9.9 1.51-22.3-5-28.35-41.61a1.86 1.86 0 0 1 1.55-2.05c47.44-6.69 50.2 11.7 47.85 22.85a51.5 51.5 0 0 0-19.69-6.14h-0.11a0.43 0.43 0 0 0-0.18 0.76l11.58 8.5 5.84 4.31a37.3 37.3 0 0 1 6.08 5.85 24.8 24.8 0 0 1 5-6.15 17.7 17.7 0 0 1-2.54-5 14.8 14.8 0 0 1-0.65-4.41c0-6.65 5.53-14.14 30.18-14.44a1.23 1.23 0 0 1 1.24 1.23c-0.38 31.82-12.74 31.78-19.82 29.12a34.2 34.2 0 0 0 6.02-12.28M28.65 93h34.63a16.16 16.16 0 0 0 12.18-5.54l21.68-24.79a6.79 6.79 0 0 0-0.79-9.7 6.55 6.55 0 0 0-4.2-1.49 7.24 7.24 0 0 0-5.38 2.43l-10.2 11.35v0.16a11.85 11.85 0 0 1-11.89 11.26H52.21a2.54 2.54 0 1 1 0-5.08h12.47a6.72 6.72 0 0 0 6.81-6.34A6.54 6.54 0 0 0 65 58.52H44.19l-3.37-1.18a23.42 23.42 0 0 0-24.26 5.49L1.19 78.1 22.64 99Z","fill","var(--aliceBlueColor)","data-fill-palette-color","quaternary"],[1,"logoText"],["id","navbarScroll",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","my-2","my-lg-0","navbar-nav-scroll"],[1,"nav-item"],["appResponsiveClass","","routerLink","/recipes-list","href","#","role","button","aria-expanded","false",1,"navigation"],["class","nav-item dropdown",4,"ngIf"],[1,"nav-item","dropdown"],["appResponsiveClass","","href","#","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"dropdown-toggle"],[1,"fa-solid","fa-magnifying-glass"],[1,"dropdown-menu","search"],["role","search",1,"d-flex","w-100",3,"formGroup","ngSubmit"],["type","search","aria-label","Search","formControlName","search","required","","minlength","3",1,"form-control","me-2"],[4,"ngIf"],["type","submit",1,"search","button"],[1,"fa-solid","fa-user"],[1,"dropdown-menu"],["routerLink","/register",1,"dropdown-item"],["routerLink","/login",1,"dropdown-item"],["routerLink","/dashboard/user-recipes","href","#",1,"dropdown-item"],["routerLink","/dashboard/recipe-create",1,"dropdown-item"],["routerLink","/dashboard/user-favorite-recipes","href","#",1,"dropdown-item"],["routerLink","/dashboard/user-comments","href","#",1,"dropdown-item"],["routerLink","/dashboard/user-info",1,"dropdown-item"],[1,"dropdown-item",3,"click"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(d,m){if(1&d&&(h.TgZ(0,"nav",0)(1,"div",1)(2,"div",2)(3,"button",3),h.NdJ("mouseover",function(){return m.onMouseOver()})("mouseout",function(){return m.onMouseOut()}),h.TgZ(4,"span"),h._UZ(5,"i",4),h.qZA()(),h.TgZ(6,"a",5),h.O4$(),h.TgZ(7,"svg",6)(8,"g"),h._UZ(9,"path",7)(10,"ellipse",8),h.qZA(),h.TgZ(11,"g",9)(12,"svg",10)(13,"g")(14,"svg",11),h._UZ(15,"path",12),h.qZA()()()()(),h.kcU(),h.TgZ(16,"span",13),h._uU(17," The Natural Way "),h.qZA()()(),h.TgZ(18,"div",14)(19,"ul",15)(20,"li",16)(21,"a",17),h._uU(22," Recipes "),h.qZA()(),h.YNc(23,ds,10,0,"li",18),h.YNc(24,hs,23,1,"li",18),h.TgZ(25,"li",19)(26,"a",20),h._UZ(27,"i",21),h.qZA(),h.TgZ(28,"ul",22)(29,"form",23),h.NdJ("ngSubmit",function(){return m.onSubmit()}),h._UZ(30,"input",24),h.YNc(31,oo,3,2,"div",25),h.TgZ(32,"button",26),h._uU(33,"Search"),h.qZA()()()()()()()()),2&d){let T;h.xp6(3),h.Q6J("@rotate",m.state),h.xp6(20),h.Q6J("ngIf",!m.userData),h.xp6(1),h.Q6J("ngIf",m.userData),h.xp6(5),h.Q6J("formGroup",m.searchForm),h.xp6(2),h.Q6J("ngIf",null==(T=m.searchForm.get("search"))?null:T.touched)}},dependencies:[le.O5,ce.rH,re._Y,re.Fj,re.JJ,re.JL,re.Q7,re.wO,re.sg,re.u,qo],styles:["nav.navbar[_ngcontent-%COMP%]{min-height:7vh;background-color:var(--aliceBlueColor);box-shadow:1px 5px 15px 0 var(--mainRGBAColor)}.container-fluid[_ngcontent-%COMP%]{max-width:1024px}a.navbar-brand[_ngcontent-%COMP%]{display:flex;gap:10px;font-family:Caveat,cursive;font-weight:400;font-size:32px;color:var(--textColor)}.header-wrapper[_ngcontent-%COMP%]{display:flex;gap:20px;align-items:center}.hamburger[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding:4px 2px}.hamburger[_ngcontent-%COMP%]:hover{box-shadow:1px 1px 15px 0 var(--textColor)}button.navbar-toggler[_ngcontent-%COMP%]{background-color:var(--textColor);border:1px solid var(--backgroundColor)}ul.navbar-nav[_ngcontent-%COMP%]{position:relative;display:flex;gap:18px;width:100%;justify-content:flex-end}.navigation[_ngcontent-%COMP%]{color:var(--textColor)}ul.navbar-nav[_ngcontent-%COMP%]   ul.dropdown-menu[_ngcontent-%COMP%]{background-color:var(--backgroundColor);margin-top:18px}a.dropdown-item[_ngcontent-%COMP%]{color:var(--textColor)}.dropdown-item.active[_ngcontent-%COMP%], .dropdown-item[_ngcontent-%COMP%]:hover, .dropdown-item[_ngcontent-%COMP%]:focus{background-color:var(--textColor);color:var(--backgroundColor)}form[_ngcontent-%COMP%]{max-width:unset}.form-control[_ngcontent-%COMP%]{border:1px solid var(--textColor);border-radius:8px;background-color:var(--backgroundColor)}.form-control[_ngcontent-%COMP%]:focus{box-shadow:unset;background-color:var(--mainMagnoliaColor)}@media (max-width: 991px){.container-fluid[_ngcontent-%COMP%]{justify-content:space-evenly}.svg-logo[_ngcontent-%COMP%]{display:none}.navbar-nav.me-auto.my-2.my-lg-0.navbar-nav-scroll[_ngcontent-%COMP%]{background-color:var(--backgroundColor);padding:20px;border-radius:8px}.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu.search[_ngcontent-%COMP%]{border:unset;width:100%}form.d-flex[_ngcontent-%COMP%]{flex-direction:column;gap:15px}}@media (min-width: 992px) and (max-width: 1440px){.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu.search[_ngcontent-%COMP%]{left:unset;right:0;width:900px;padding:10px;margin-top:30px;border:unset}form[_ngcontent-%COMP%]{max-width:unset}.container-fluid[_ngcontent-%COMP%]{max-width:1200px;padding:0 3%;color:var(--textColor)}}@media (min-width: 1441px){.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu.search[_ngcontent-%COMP%]{left:unset;right:0;width:1000px;padding:10px;margin-top:30px;border:unset}form[_ngcontent-%COMP%]{max-width:unset}.container-fluid[_ngcontent-%COMP%]{padding:unset;max-width:1200px;color:var(--textColor)}}"],data:{animation:[ze("rotate",[$t("normal",Tn({transform:"rotate(0deg)"})),$t("hovered",Tn({transform:"rotate(180deg)"})),jr("normal => hovered",Tt("0.5s ease-in-out")),jr("hovered => normal",Tt("0.5s ease-in-out"))])]}})}return l})();function aa(l,f){if(1&l){const o=h.EpF();h.TgZ(0,"div",1)(1,"button",2),h.NdJ("click",function(){h.CHM(o);const m=h.oxw();return h.KtG(m.scrollToTop())}),h._UZ(2,"i",3),h.qZA(),h.TgZ(3,"a",4)(4,"div",5)(5,"span",6),h.O4$(),h.TgZ(6,"svg",7),h._UZ(7,"path",8),h.qZA()(),h.kcU(),h.TgZ(8,"span",6),h.O4$(),h.TgZ(9,"svg",9),h._UZ(10,"path",8),h.qZA()()()()()}}let Rs=(()=>{class l{constructor(){this.showScrollButton=!1}onWindowScroll(){this.showScrollButton=window.pageYOffset>300}scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}static#e=this.\u0275fac=function(d){return new(d||l)};static#t=this.\u0275cmp=h.Xpm({type:l,selectors:[["app-scroll-to-top"]],hostBindings:function(d,m){1&d&&h.NdJ("scroll",function(){return m.onWindowScroll()},!1,h.Jf7)},decls:1,vars:1,consts:[["class","buttons",4,"ngIf"],[1,"buttons"],[1,"to-top",3,"click"],[1,"fa-solid","fa-chevron-up","fa-beat-fade"],["href","javascript:history.back()",1,"back-button"],[1,"button-box"],[1,"button-elem"],["viewBox","0 0 46 40","xmlns","http://www.w3.org/2000/svg"],["d","M46 20.038c0-.7-.3-1.5-.8-2.1l-16-17c-1.1-1-3.2-1.4-4.4-.3-1.2 1.1-1.2 3.3 0 4.4l11.3 11.9H3c-1.7 0-3 1.3-3 3s1.3 3 3 3h33.1l-11.3 11.9c-1 1-1.2 3.3 0 4.4 1.2 1.1 3.3.8 4.4-.3l16-17c.5-.5.8-1.1.8-1.9z"],["viewBox","0 0 46 40"]],template:function(d,m){1&d&&h.YNc(0,aa,11,0,"div",0),2&d&&h.Q6J("ngIf",m.showScrollButton)},dependencies:[le.O5],styles:[".buttons[_ngcontent-%COMP%]{display:flex;gap:10px;position:fixed;bottom:120px;right:10px;flex-direction:column;align-items:center;z-index:10}.to-top[_ngcontent-%COMP%]{background-color:var(--mainRGBAColor);color:var(--backgroundColor);border:3px solid var(--backgroundColor);border-radius:50%;width:60px;height:60px;font-size:16px;cursor:pointer;transition:background-color .3s ease}button[_ngcontent-%COMP%]:hover{color:var(--textColor);background-color:var(--backgroundColor);box-shadow:0 0 15px 0 var(--textColor)}button[_ngcontent-%COMP%]:focus{outline:none}button.ng-hidden[_ngcontent-%COMP%]{display:none}"]})}return l})(),zs=(()=>{class l{constructor(){this.title="The-Natural-Way"}static#e=this.\u0275fac=function(d){return new(d||l)};static#t=this.\u0275cmp=h.Xpm({type:l,selectors:[["app-root"]],decls:4,vars:0,template:function(d,m){1&d&&h._UZ(0,"app-header")(1,"app-scroll-to-top")(2,"router-outlet")(3,"app-footer")},dependencies:[ce.lC,V,So,Rs]})}return l})();var ci=Q(9286),Ps=Q(8726);let _i=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=h.oAB({type:l}),l.\u0275inj=h.cJS({imports:[[]]}),l})();var Ws=Q(5592),Is=Q(6232),li=Q(8645),ks=Q(4829),fs=Q(1631),yi=Q(4266),Pi=Q(4674),Ts=Q(7400);const qs=["addListener","removeListener"],uc=["addEventListener","removeEventListener"],Gi=["on","off"];function ki(l,f,o,d){if((0,Pi.m)(o)&&(d=o,o=void 0),d)return ki(l,f,o).pipe((0,Ts.Z)(d));const[m,T]=function dc(l){return(0,Pi.m)(l.addEventListener)&&(0,Pi.m)(l.removeEventListener)}(l)?uc.map(k=>J=>l[k](f,J,o)):function sl(l){return(0,Pi.m)(l.addListener)&&(0,Pi.m)(l.removeListener)}(l)?qs.map(Fi(l,f)):function xa(l){return(0,Pi.m)(l.on)&&(0,Pi.m)(l.off)}(l)?Gi.map(Fi(l,f)):[];if(!m&&(0,yi.z)(l))return(0,fs.z)(k=>ki(k,f,o))((0,ks.Xf)(l));if(!m)throw new TypeError("Invalid event target");return new Ws.y(k=>{const J=(...ue)=>k.next(1<ue.length?ue:ue[0]);return m(J),()=>T(J)})}function Fi(l,f){return o=>d=>l[o](f,d)}var Ao=Q(6321),Ra=Q(671);const{isArray:ao}=Array;function Ko(l){return 1===l.length&&ao(l[0])?l[0]:l}var Fs=Q(8251);Q(3019);var Kr=Q(9940);function Ci(...l){const f=(0,Kr.jO)(l),o=Ko(l);return o.length?new Ws.y(d=>{let m=o.map(()=>[]),T=o.map(()=>!1);d.add(()=>{m=T=null});for(let k=0;!d.closed&&k<o.length;k++)(0,ks.Xf)(o[k]).subscribe((0,Fs.x)(d,J=>{if(m[k].push(J),m.every(ue=>ue.length)){const ue=m.map(ge=>ge.shift());d.next(f?f(...ue):ue),m.some((ge,Te)=>!ge.length&&T[Te])&&d.complete()}},()=>{T[k]=!0,!m[k].length&&d.complete()}));return()=>{m=T=null}}):Is.E}var ns=Q(5211),sr=Q(9773),Si=Q(2181),Fr=Q(8180),Pa=Q(9397),lo=Q(9360),lr=Q(2737),Ft=Q(2420);function xn(...l){const f=(0,Kr.jO)(l);return(0,lo.e)((o,d)=>{const m=l.length,T=new Array(m);let k=l.map(()=>!1),J=!1;for(let ue=0;ue<m;ue++)(0,ks.Xf)(l[ue]).subscribe((0,Fs.x)(d,ge=>{T[ue]=ge,!J&&!k[ue]&&(k[ue]=!0,(J=k.every(lr.y))&&(k=null))},Ft.Z));o.subscribe((0,Fs.x)(d,ue=>{if(J){const ge=[ue,...T];d.next(f?f(...ge):ge)}}))})}Q(975),Q(7921),Q(3997),Math,Math,Math;const Ue=["*"],au=["dialog"];function Ul(l){return"string"==typeof l}function gu(l){return null!=l}function _u(l){return(l||document.body).getBoundingClientRect()}const ep={animation:!0,transitionTimerDelayMs:5},jh=()=>{},{transitionTimerDelayMs:nd}=ep,ml=new Map,wa=(l,f,o,d)=>{let m=d.context||{};const T=ml.get(f);if(T)switch(d.runningTransition){case"continue":return Is.E;case"stop":l.run(()=>T.transition$.complete()),m=Object.assign(T.context,m),ml.delete(f)}const k=o(f,d.animation,m)||jh;if(!d.animation||"none"===window.getComputedStyle(f).transitionProperty)return l.run(()=>k()),(0,fe.of)(void 0).pipe(function X1(l){return f=>new Ws.y(o=>f.subscribe({next:k=>l.run(()=>o.next(k)),error:k=>l.run(()=>o.error(k)),complete:()=>l.run(()=>o.complete())}))}(l));const J=new li.x,ue=new li.x,ge=J.pipe(function ui(...l){return f=>(0,ns.z)(f,(0,fe.of)(...l))}(!0));ml.set(f,{transition$:J,complete:()=>{ue.next(),ue.complete()},context:m});const Te=function v_(l){const{transitionDelay:f,transitionDuration:o}=window.getComputedStyle(l);return 1e3*(parseFloat(f)+parseFloat(o))}(f);return l.runOutsideAngular(()=>{const Je=ki(f,"transitionend").pipe((0,sr.R)(ge),(0,Si.h)(({target:dt})=>dt===f));(function co(...l){return 1===(l=Ko(l)).length?(0,ks.Xf)(l[0]):new Ws.y(function Yo(l){return f=>{let o=[];for(let d=0;o&&!f.closed&&d<l.length;d++)o.push((0,ks.Xf)(l[d]).subscribe((0,Fs.x)(f,m=>{if(o){for(let T=0;T<o.length;T++)T!==d&&o[T].unsubscribe();o=null}f.next(m)})))}}(l))})(function Fc(l=0,f,o=Ao.P){let d=-1;return null!=f&&((0,Ra.K)(f)?o=f:d=f),new Ws.y(m=>{let T=function Zo(l){return l instanceof Date&&!isNaN(l)}(l)?+l-o.now():l;T<0&&(T=0);let k=0;return o.schedule(function(){m.closed||(m.next(k++),0<=d?this.schedule(void 0,d):m.complete())},T)})}(Te+nd).pipe((0,sr.R)(ge)),Je,ue).pipe((0,sr.R)(ge)).subscribe(()=>{ml.delete(f),l.run(()=>{k(),J.next(),J.complete()})})}),J.asObservable()};let tp=(()=>{class l{constructor(){this.animation=ep.animation}static#e=this.\u0275fac=function(d){return new(d||l)};static#t=this.\u0275prov=h.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})(),dn=(()=>{class l{static#e=this.\u0275fac=function(d){return new(d||l)};static#t=this.\u0275mod=h.oAB({type:l});static#n=this.\u0275inj=h.cJS({})}return l})(),Hl=(()=>{class l{static#e=this.\u0275fac=function(d){return new(d||l)};static#t=this.\u0275mod=h.oAB({type:l});static#n=this.\u0275inj=h.cJS({})}return l})(),sd=(()=>{class l{static#e=this.\u0275fac=function(d){return new(d||l)};static#t=this.\u0275mod=h.oAB({type:l});static#n=this.\u0275inj=h.cJS({})}return l})(),Tg=(()=>{class l{static#e=this.\u0275fac=function(d){return new(d||l)};static#t=this.\u0275mod=h.oAB({type:l});static#n=this.\u0275inj=h.cJS({})}return l})();var Vi=function(l){return l[l.Tab=9]="Tab",l[l.Enter=13]="Enter",l[l.Escape=27]="Escape",l[l.Space=32]="Space",l[l.PageUp=33]="PageUp",l[l.PageDown=34]="PageDown",l[l.End=35]="End",l[l.Home=36]="Home",l[l.ArrowLeft=37]="ArrowLeft",l[l.ArrowUp=38]="ArrowUp",l[l.ArrowRight=39]="ArrowRight",l[l.ArrowDown=40]="ArrowDown",l}(Vi||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const S_=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function eh(l){const f=Array.from(l.querySelectorAll(S_)).filter(o=>-1!==o.tabIndex);return[f[0],f[f.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let bu=(()=>{class l{static#e=this.\u0275fac=function(d){return new(d||l)};static#t=this.\u0275mod=h.oAB({type:l});static#n=this.\u0275inj=h.cJS({})}return l})(),Gg=(()=>{class l{static#e=this.\u0275fac=function(d){return new(d||l)};static#t=this.\u0275mod=h.oAB({type:l});static#n=this.\u0275inj=h.cJS({})}return l})();class hd{constructor(f,o,d){this.nodes=f,this.viewRef=o,this.componentRef=d}}let Bv=(()=>{class l{constructor(o,d){this._el=o,this._zone=d}ngOnInit(){this._zone.onStable.asObservable().pipe((0,Fr.q)(1)).subscribe(()=>{wa(this._zone,this._el.nativeElement,(o,d)=>{d&&_u(o),o.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return wa(this._zone,this._el.nativeElement,({classList:o})=>o.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(d){return new(d||l)(h.Y36(h.SBq),h.Y36(h.R0b))};static#t=this.\u0275cmp=h.Xpm({type:l,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(d,m){2&d&&(h.Tol("modal-backdrop"+(m.backdropClass?" "+m.backdropClass:"")),h.ekj("show",!m.animation)("fade",m.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[h.jDz],decls:0,vars:0,template:function(d,m){},encapsulation:2})}return l})();class Vv{update(f){}close(f){}dismiss(f){}}const Ta=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],jg=["animation","backdropClass"];class Uo{_applyWindowOptions(f,o){Ta.forEach(d=>{gu(o[d])&&(f[d]=o[d])})}_applyBackdropOptions(f,o){jg.forEach(d=>{gu(o[d])&&(f[d]=o[d])})}update(f){this._applyWindowOptions(this._windowCmptRef.instance,f),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,f)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,sr.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,sr.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(f,o,d,m){this._windowCmptRef=f,this._contentRef=o,this._backdropCmptRef=d,this._beforeDismiss=m,this._closed=new li.x,this._dismissed=new li.x,this._hidden=new li.x,f.instance.dismissEvent.subscribe(T=>{this.dismiss(T)}),this.result=new Promise((T,k)=>{this._resolve=T,this._reject=k}),this.result.then(null,()=>{})}close(f){this._windowCmptRef&&(this._closed.next(f),this._resolve(f),this._removeModalElements())}_dismiss(f){this._dismissed.next(f),this._reject(f),this._removeModalElements()}dismiss(f){if(this._windowCmptRef)if(this._beforeDismiss){const o=this._beforeDismiss();!function Bo(l){return l&&l.then}(o)?!1!==o&&this._dismiss(f):o.then(d=>{!1!==d&&this._dismiss(f)},()=>{})}else this._dismiss(f)}_removeModalElements(){const f=this._windowCmptRef.instance.hide(),o=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,fe.of)(void 0);f.subscribe(()=>{const{nativeElement:d}=this._windowCmptRef.location;d.parentNode.removeChild(d),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),o.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:d}=this._backdropCmptRef.location;d.parentNode.removeChild(d),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Ci(f,o).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var yl=function(l){return l[l.BACKDROP_CLICK=0]="BACKDROP_CLICK",l[l.ESC=1]="ESC",l}(yl||{});let $g=(()=>{class l{constructor(o,d,m){this._document=o,this._elRef=d,this._zone=m,this._closed$=new li.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new h.vpe,this.shown=new li.x,this.hidden=new li.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Ul(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(o){this.dismissEvent.emit(o)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,Fr.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:o}=this._elRef,d={animation:this.animation,runningTransition:"stop"},k=Ci(wa(this._zone,o,()=>o.classList.remove("show"),d),wa(this._zone,this._dialogEl.nativeElement,()=>{},d));return k.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),k}_show(){const o={animation:this.animation,runningTransition:"continue"};Ci(wa(this._zone,this._elRef.nativeElement,(T,k)=>{k&&_u(T),T.classList.add("show")},o),wa(this._zone,this._dialogEl.nativeElement,()=>{},o)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:o}=this._elRef;this._zone.runOutsideAngular(()=>{ki(o,"keydown").pipe((0,sr.R)(this._closed$),(0,Si.h)(m=>m.which===Vi.Escape)).subscribe(m=>{this.keyboard?requestAnimationFrame(()=>{m.defaultPrevented||this._zone.run(()=>this.dismiss(yl.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let d=!1;ki(this._dialogEl.nativeElement,"mousedown").pipe((0,sr.R)(this._closed$),(0,Pa.b)(()=>d=!1),(0,we.w)(()=>ki(o,"mouseup").pipe((0,sr.R)(this._closed$),(0,Fr.q)(1))),(0,Si.h)(({target:m})=>o===m)).subscribe(()=>{d=!0}),ki(o,"click").pipe((0,sr.R)(this._closed$)).subscribe(({target:m})=>{o===m&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!d&&this._zone.run(()=>this.dismiss(yl.BACKDROP_CLICK))),d=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:o}=this._elRef;if(!o.contains(document.activeElement)){const d=o.querySelector("[ngbAutofocus]"),m=eh(o)[0];(d||m||o).focus()}}_restoreFocus(){const o=this._document.body,d=this._elWithFocus;let m;m=d&&d.focus&&o.contains(d)?d:o,this._zone.runOutsideAngular(()=>{setTimeout(()=>m.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&wa(this._zone,this._elRef.nativeElement,({classList:o})=>(o.add("modal-static"),()=>o.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(d){return new(d||l)(h.Y36(le.K0),h.Y36(h.SBq),h.Y36(h.R0b))};static#t=this.\u0275cmp=h.Xpm({type:l,selectors:[["ngb-modal-window"]],viewQuery:function(d,m){if(1&d&&h.Gf(au,7),2&d){let T;h.iGM(T=h.CRH())&&(m._dialogEl=T.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(d,m){2&d&&(h.uIk("aria-modal",!0)("aria-labelledby",m.ariaLabelledBy)("aria-describedby",m.ariaDescribedBy),h.Tol("modal d-block"+(m.windowClass?" "+m.windowClass:"")),h.ekj("fade",m.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[h.jDz],ngContentSelectors:Ue,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(d,m){1&d&&(h.F$t(),h.TgZ(0,"div",0,1)(2,"div",2),h.Hsn(3),h.qZA()()),2&d&&h.Tol("modal-dialog"+(m.size?" modal-"+m.size:"")+(m.centered?" modal-dialog-centered":"")+m.fullscreenClass+(m.scrollable?" modal-dialog-scrollable":"")+(m.modalDialogClass?" "+m.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return l})(),V_=(()=>{class l{constructor(o){this._document=o}hide(){const o=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),d=this._document.body,m=d.style,{overflow:T,paddingRight:k}=m;if(o>0){const J=parseFloat(window.getComputedStyle(d).paddingRight);m.paddingRight=`${J+o}px`}return m.overflow="hidden",()=>{o>0&&(m.paddingRight=k),m.overflow=T}}static#e=this.\u0275fac=function(d){return new(d||l)(h.LFG(le.K0))};static#t=this.\u0275prov=h.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})(),_p=(()=>{class l{constructor(o,d,m,T,k,J,ue){this._applicationRef=o,this._injector=d,this._environmentInjector=m,this._document=T,this._scrollBar=k,this._rendererFactory=J,this._ngZone=ue,this._activeWindowCmptHasChanged=new li.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new h.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const ge=this._windowCmpts[this._windowCmpts.length-1];((l,f,o,d=!1)=>{l.runOutsideAngular(()=>{const m=ki(f,"focusin").pipe((0,sr.R)(o),(0,de.U)(T=>T.target));ki(f,"keydown").pipe((0,sr.R)(o),(0,Si.h)(T=>T.which===Vi.Tab),xn(m)).subscribe(([T,k])=>{const[J,ue]=eh(f);(k===J||k===f)&&T.shiftKey&&(ue.focus(),T.preventDefault()),k===ue&&!T.shiftKey&&(J.focus(),T.preventDefault())}),d&&ki(f,"click").pipe((0,sr.R)(o),xn(m),(0,de.U)(T=>T[1])).subscribe(T=>T.focus())})})(this._ngZone,ge.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(ge.location.nativeElement)}})}_restoreScrollBar(){const o=this._scrollBarRestoreFn;o&&(this._scrollBarRestoreFn=null,o())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(o,d,m){const T=m.container instanceof HTMLElement?m.container:gu(m.container)?this._document.querySelector(m.container):this._document.body,k=this._rendererFactory.createRenderer(null,null);if(!T)throw new Error(`The specified modal container "${m.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const J=new Vv,ue=(o=m.injector||o).get(h.lqb,null)||this._environmentInjector,ge=this._getContentRef(o,ue,d,J,m);let Te=!1!==m.backdrop?this._attachBackdrop(T):void 0,Je=this._attachWindowComponent(T,ge.nodes),ct=new Uo(Je,ge,Te,m.beforeDismiss);return this._registerModalRef(ct),this._registerWindowCmpt(Je),ct.hidden.pipe((0,Fr.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(k.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),J.close=dt=>{ct.close(dt)},J.dismiss=dt=>{ct.dismiss(dt)},J.update=dt=>{ct.update(dt)},ct.update(m),1===this._modalRefs.length&&k.addClass(this._document.body,"modal-open"),Te&&Te.instance&&Te.changeDetectorRef.detectChanges(),Je.changeDetectorRef.detectChanges(),ct}get activeInstances(){return this._activeInstances}dismissAll(o){this._modalRefs.forEach(d=>d.dismiss(o))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(o){let d=(0,h.LMc)(Bv,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(d.hostView),o.appendChild(d.location.nativeElement),d}_attachWindowComponent(o,d){let m=(0,h.LMc)($g,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:d});return this._applicationRef.attachView(m.hostView),o.appendChild(m.location.nativeElement),m}_getContentRef(o,d,m,T,k){return m?m instanceof h.Rgc?this._createFromTemplateRef(m,T):Ul(m)?this._createFromString(m):this._createFromComponent(o,d,m,T,k):new hd([])}_createFromTemplateRef(o,d){const T=o.createEmbeddedView({$implicit:d,close(k){d.close(k)},dismiss(k){d.dismiss(k)}});return this._applicationRef.attachView(T),new hd([T.rootNodes],T)}_createFromString(o){const d=this._document.createTextNode(`${o}`);return new hd([[d]])}_createFromComponent(o,d,m,T,k){const J=h.zs3.create({providers:[{provide:Vv,useValue:T}],parent:o}),ue=(0,h.LMc)(m,{environmentInjector:d,elementInjector:J}),ge=ue.location.nativeElement;return k.scrollable&&ge.classList.add("component-host-scrollable"),this._applicationRef.attachView(ue.hostView),new hd([[ge]],ue.hostView,ue)}_setAriaHidden(o){const d=o.parentElement;d&&o!==this._document.body&&(Array.from(d.children).forEach(m=>{m!==o&&"SCRIPT"!==m.nodeName&&(this._ariaHiddenValues.set(m,m.getAttribute("aria-hidden")),m.setAttribute("aria-hidden","true"))}),this._setAriaHidden(d))}_revertAriaHidden(){this._ariaHiddenValues.forEach((o,d)=>{o?d.setAttribute("aria-hidden",o):d.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(o){const d=()=>{const m=this._modalRefs.indexOf(o);m>-1&&(this._modalRefs.splice(m,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(o),this._activeInstances.emit(this._modalRefs),o.result.then(d,d)}_registerWindowCmpt(o){this._windowCmpts.push(o),this._activeWindowCmptHasChanged.next(),o.onDestroy(()=>{const d=this._windowCmpts.indexOf(o);d>-1&&(this._windowCmpts.splice(d,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(d){return new(d||l)(h.LFG(h.z2F),h.LFG(h.zs3),h.LFG(h.lqb),h.LFG(le.K0),h.LFG(V_),h.LFG(h.FYo),h.LFG(h.R0b))};static#t=this.\u0275prov=h.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})(),Uv=(()=>{class l{constructor(o){this._ngbConfig=o,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(o){this._animation=o}static#e=this.\u0275fac=function(d){return new(d||l)(h.LFG(tp))};static#t=this.\u0275prov=h.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})(),Os=(()=>{class l{constructor(o,d,m){this._injector=o,this._modalStack=d,this._config=m}open(o,d={}){const m={...this._config,animation:this._config.animation,...d};return this._modalStack.open(this._injector,o,m)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(o){this._modalStack.dismissAll(o)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(d){return new(d||l)(h.LFG(h.zs3),h.LFG(_p),h.LFG(Uv))};static#t=this.\u0275prov=h.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})(),Hv=(()=>{class l{static#e=this.\u0275fac=function(d){return new(d||l)};static#t=this.\u0275mod=h.oAB({type:l});static#n=this.\u0275inj=h.cJS({providers:[Os]})}return l})(),wp=(()=>{class l{static#e=this.\u0275fac=function(d){return new(d||l)};static#t=this.\u0275mod=h.oAB({type:l});static#n=this.\u0275inj=h.cJS({})}return l})(),pd=(()=>{class l{static#e=this.\u0275fac=function(d){return new(d||l)};static#t=this.\u0275mod=h.oAB({type:l});static#n=this.\u0275inj=h.cJS({})}return l})(),Iu=(()=>{class l{static#e=this.\u0275fac=function(d){return new(d||l)};static#t=this.\u0275mod=h.oAB({type:l});static#n=this.\u0275inj=h.cJS({})}return l})(),zv=(()=>{class l{static#e=this.\u0275fac=function(d){return new(d||l)};static#t=this.\u0275mod=h.oAB({type:l});static#n=this.\u0275inj=h.cJS({})}return l})(),Xg=(()=>{class l{static#e=this.\u0275fac=function(d){return new(d||l)};static#t=this.\u0275mod=h.oAB({type:l});static#n=this.\u0275inj=h.cJS({})}return l})(),Qv=(()=>{class l{static#e=this.\u0275fac=function(d){return new(d||l)};static#t=this.\u0275mod=h.oAB({type:l});static#n=this.\u0275inj=h.cJS({})}return l})(),gd=(()=>{class l{static#e=this.\u0275fac=function(d){return new(d||l)};static#t=this.\u0275mod=h.oAB({type:l});static#n=this.\u0275inj=h.cJS({})}return l})(),Ep=(()=>{class l{static#e=this.\u0275fac=function(d){return new(d||l)};static#t=this.\u0275mod=h.oAB({type:l});static#n=this.\u0275inj=h.cJS({})}return l})(),Jv=(()=>{class l{static#e=this.\u0275fac=function(d){return new(d||l)};static#t=this.\u0275mod=h.oAB({type:l});static#n=this.\u0275inj=h.cJS({})}return l})();new h.OlP("live announcer delay",{providedIn:"root",factory:function Db(){return 100}});let ta=(()=>{class l{static#e=this.\u0275fac=function(d){return new(d||l)};static#t=this.\u0275mod=h.oAB({type:l});static#n=this.\u0275inj=h.cJS({})}return l})(),lh=(()=>{class l{static#e=this.\u0275fac=function(d){return new(d||l)};static#t=this.\u0275mod=h.oAB({type:l});static#n=this.\u0275inj=h.cJS({})}return l})();const ty=[dn,Hl,sd,Tg,bu,Gg,Hv,wp,lh,pd,Iu,zv,Xg,Qv,gd,Ep,Jv,ta];let md=(()=>{class l{static#e=this.\u0275fac=function(d){return new(d||l)};static#t=this.\u0275mod=h.oAB({type:l});static#n=this.\u0275inj=h.cJS({imports:[ty,dn,Hl,sd,Tg,bu,Gg,Hv,wp,lh,pd,Iu,zv,Xg,Qv,gd,Ep,Jv,ta]})}return l})();var _d=Q(2772);function cm(l){return new h.vHH(3e3,!1)}function Du(l){switch(l.length){case 0:return new js;case 1:return l[0];default:return new Ma(l)}}function cy(l,f,o=new Map,d=new Map){const m=[],T=[];let k=-1,J=null;if(f.forEach(ue=>{const ge=ue.get("offset"),Te=ge==k,Je=Te&&J||new Map;ue.forEach((ct,dt)=>{let Mt=dt,Lt=ct;if("offset"!==dt)switch(Mt=l.normalizePropertyName(Mt,m),Lt){case"!":Lt=o.get(dt);break;case ve:Lt=d.get(dt);break;default:Lt=l.normalizeStyleValue(dt,Mt,Lt,m)}Je.set(Mt,Lt)}),Te||T.push(Je),J=Je,k=ge}),m.length)throw function Eu(l){return new h.vHH(3502,!1)}();return T}function pf(l,f,o,d){switch(f){case"start":l.onStart(()=>d(o&&Cu(o,"start",l)));break;case"done":l.onDone(()=>d(o&&Cu(o,"done",l)));break;case"destroy":l.onDestroy(()=>d(o&&Cu(o,"destroy",l)))}}function Cu(l,f,o){const T=gm(l.element,l.triggerName,l.fromState,l.toState,f||l.phaseName,o.totalTime??l.totalTime,!!o.disabled),k=l._data;return null!=k&&(T._data=k),T}function gm(l,f,o,d,m="",T=0,k){return{element:l,triggerName:f,fromState:o,toState:d,phaseName:m,totalTime:T,disabled:!!k}}function Ac(l,f,o){let d=l.get(f);return d||l.set(f,d=o),d}function mm(l){const f=l.indexOf(":");return[l.substring(1,f),l.slice(f+1)]}const o0=(()=>typeof document>"u"?null:document.documentElement)();function _m(l){const f=l.parentNode||l.host||null;return f===o0?null:f}let Su=null,Np=!1;function a0(l,f){for(;f;){if(f===l)return!0;f=_m(f)}return!1}function c0(l,f,o){if(o)return Array.from(l.querySelectorAll(f));const d=l.querySelector(f);return d?[d]:[]}let mf=(()=>{class l{validateStyleProperty(o){return function dh(l){Su||(Su=function gf(){return typeof document<"u"?document.body:null}()||{},Np=!!Su.style&&"WebkitAppearance"in Su.style);let f=!0;return Su.style&&!function ly(l){return"ebkit"==l.substring(1,6)}(l)&&(f=l in Su.style,!f&&Np&&(f="Webkit"+l.charAt(0).toUpperCase()+l.slice(1)in Su.style)),f}(o)}matchesElement(o,d){return!1}containsElement(o,d){return a0(o,d)}getParentElement(o){return _m(o)}query(o,d,m){return c0(o,d,m)}computeStyle(o,d,m){return m||""}animate(o,d,m,T,k,J=[],ue){return new js(m,T)}static#e=this.\u0275fac=function(d){return new(d||l)};static#t=this.\u0275prov=h.Yz7({token:l,factory:l.\u0275fac})}return l})(),Nu=(()=>{class l{static#e=this.NOOP=new mf}return l})();const yd=1e3,vd="ng-enter",bd="ng-leave",ym="ng-trigger",Ji=".ng-trigger",dy="ng-animating",vm=".ng-animating";function wd(l){if("number"==typeof l)return l;const f=l.match(/^(-?[\.\d]+)(m?s)/);return!f||f.length<2?0:hy(parseFloat(f[1]),f[2])}function hy(l,f){return"s"===f?l*yd:l}function bm(l,f,o){return l.hasOwnProperty("duration")?l:function Pb(l,f,o){let m,T=0,k="";if("string"==typeof l){const J=l.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===J)return f.push(cm()),{duration:0,delay:0,easing:""};m=hy(parseFloat(J[1]),J[2]);const ue=J[3];null!=ue&&(T=hy(parseFloat(ue),J[4]));const ge=J[5];ge&&(k=ge)}else m=l;if(!o){let J=!1,ue=f.length;m<0&&(f.push(function Sb(){return new h.vHH(3100,!1)}()),J=!0),T<0&&(f.push(function ny(){return new h.vHH(3101,!1)}()),J=!0),J&&f.splice(ue,0,cm())}return{duration:m,delay:T,easing:k}}(l,f,o)}function fh(l,f={}){return Object.keys(l).forEach(o=>{f[o]=l[o]}),f}function _f(l){const f=new Map;return Object.keys(l).forEach(o=>{f.set(o,l[o])}),f}function zl(l,f=new Map,o){if(o)for(let[d,m]of o)f.set(d,m);for(let[d,m]of l)f.set(d,m);return f}function Il(l,f,o){f.forEach((d,m)=>{const T=fy(m);o&&!o.has(m)&&o.set(m,l.style[T]),l.style[T]=d})}function Id(l,f){f.forEach((o,d)=>{const m=fy(d);l.style[m]=""})}function Td(l){return Array.isArray(l)?1==l.length?l[0]:ln(l):l}const Jn=new RegExp("{{\\s*(.+?)\\s*}}","g");function Op(l){let f=[];if("string"==typeof l){let o;for(;o=Jn.exec(l);)f.push(o[1]);Jn.lastIndex=0}return f}function Ou(l,f,o){const d=l.toString(),m=d.replace(Jn,(T,k)=>{let J=f[k];return null==J&&(o.push(function um(l){return new h.vHH(3003,!1)}()),J=""),J.toString()});return m==d?l:m}function Wl(l){const f=[];let o=l.next();for(;!o.done;)f.push(o.value),o=l.next();return f}const Mp=/-+([a-z0-9])/g;function fy(l){return l.replace(Mp,(...f)=>f[1].toUpperCase())}function jo(l,f,o){switch(f.type){case 7:return l.visitTrigger(f,o);case 0:return l.visitState(f,o);case 1:return l.visitTransition(f,o);case 2:return l.visitSequence(f,o);case 3:return l.visitGroup(f,o);case 4:return l.visitAnimate(f,o);case 5:return l.visitKeyframes(f,o);case 6:return l.visitStyle(f,o);case 8:return l.visitReference(f,o);case 9:return l.visitAnimateChild(f,o);case 10:return l.visitAnimateRef(f,o);case 11:return l.visitQuery(f,o);case 12:return l.visitStagger(f,o);default:throw function ry(l){return new h.vHH(3004,!1)}()}}function xp(l,f){return window.getComputedStyle(l)[f]}const Pp="*";function u0(l,f){const o=[];return"string"==typeof l?l.split(/\s*,\s*/).forEach(d=>function my(l,f,o){if(":"==l[0]){const ue=function d0(l,f){switch(l){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(o,d)=>parseFloat(d)>parseFloat(o);case":decrement":return(o,d)=>parseFloat(d)<parseFloat(o);default:return f.push(function na(l){return new h.vHH(3016,!1)}()),"* => *"}}(l,o);if("function"==typeof ue)return void f.push(ue);l=ue}const d=l.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==d||d.length<4)return o.push(function r0(l){return new h.vHH(3015,!1)}()),f;const m=d[1],T=d[2],k=d[3];f.push(_y(m,k));"<"==T[0]&&!(m==Pp&&k==Pp)&&f.push(_y(k,m))}(d,o,f)):o.push(l),o}const ph=new Set(["true","1"]),Ea=new Set(["false","0"]);function _y(l,f){const o=ph.has(l)||Ea.has(l),d=ph.has(f)||Ea.has(f);return(m,T)=>{let k=l==Pp||l==m,J=f==Pp||f==T;return!k&&o&&"boolean"==typeof m&&(k=m?ph.has(l):Ea.has(l)),!J&&d&&"boolean"==typeof T&&(J=T?ph.has(f):Ea.has(f)),k&&J}}const gh=new RegExp("s*:selfs*,?","g");function yy(l,f,o,d){return new Va(l).build(f,o,d)}class Va{constructor(f){this._driver=f}build(f,o,d){const m=new h0(o);return this._resetContextStyleTimingState(m),jo(this,Td(f),m)}_resetContextStyleTimingState(f){f.currentQuerySelector="",f.collectedStyles=new Map,f.collectedStyles.set("",new Map),f.currentTime=0}visitTrigger(f,o){let d=o.queryCount=0,m=o.depCount=0;const T=[],k=[];return"@"==f.name.charAt(0)&&o.errors.push(function Ab(){return new h.vHH(3006,!1)}()),f.definitions.forEach(J=>{if(this._resetContextStyleTimingState(o),0==J.type){const ue=J,ge=ue.name;ge.toString().split(/\s*,\s*/).forEach(Te=>{ue.name=Te,T.push(this.visitState(ue,o))}),ue.name=ge}else if(1==J.type){const ue=this.visitTransition(J,o);d+=ue.queryCount,m+=ue.depCount,k.push(ue)}else o.errors.push(function hm(){return new h.vHH(3007,!1)}())}),{type:7,name:f.name,states:T,transitions:k,queryCount:d,depCount:m,options:null}}visitState(f,o){const d=this.visitStyle(f.styles,o),m=f.options&&f.options.params||null;if(d.containsDynamicStyles){const T=new Set,k=m||{};d.styles.forEach(J=>{J instanceof Map&&J.forEach(ue=>{Op(ue).forEach(ge=>{k.hasOwnProperty(ge)||T.add(ge)})})}),T.size&&(Wl(T.values()),o.errors.push(function df(l,f){return new h.vHH(3008,!1)}()))}return{type:0,name:f.name,style:d,options:m?{params:m}:null}}visitTransition(f,o){o.queryCount=0,o.depCount=0;const d=jo(this,Td(f.animation),o);return{type:1,matchers:u0(f.expr,o.errors),animation:d,queryCount:o.queryCount,depCount:o.depCount,options:Mu(f.options)}}visitSequence(f,o){return{type:2,steps:f.steps.map(d=>jo(this,d,o)),options:Mu(f.options)}}visitGroup(f,o){const d=o.currentTime;let m=0;const T=f.steps.map(k=>{o.currentTime=d;const J=jo(this,k,o);return m=Math.max(m,o.currentTime),J});return o.currentTime=m,{type:3,steps:T,options:Mu(f.options)}}visitAnimate(f,o){const d=function vy(l,f){if(l.hasOwnProperty("duration"))return l;if("number"==typeof l)return Ed(bm(l,f).duration,0,"");const o=l;if(o.split(/\s+/).some(T=>"{"==T.charAt(0)&&"{"==T.charAt(1))){const T=Ed(0,0,"");return T.dynamic=!0,T.strValue=o,T}const m=bm(o,f);return Ed(m.duration,m.delay,m.easing)}(f.timings,o.errors);o.currentAnimateTimings=d;let m,T=f.styles?f.styles:Tn({});if(5==T.type)m=this.visitKeyframes(T,o);else{let k=f.styles,J=!1;if(!k){J=!0;const ge={};d.easing&&(ge.easing=d.easing),k=Tn(ge)}o.currentTime+=d.duration+d.delay;const ue=this.visitStyle(k,o);ue.isEmptyStep=J,m=ue}return o.currentAnimateTimings=null,{type:4,timings:d,style:m,options:null}}visitStyle(f,o){const d=this._makeStyleAst(f,o);return this._validateStyleAst(d,o),d}_makeStyleAst(f,o){const d=[],m=Array.isArray(f.styles)?f.styles:[f.styles];for(let J of m)"string"==typeof J?J===ve?d.push(J):o.errors.push(new h.vHH(3002,!1)):d.push(_f(J));let T=!1,k=null;return d.forEach(J=>{if(J instanceof Map&&(J.has("easing")&&(k=J.get("easing"),J.delete("easing")),!T))for(let ue of J.values())if(ue.toString().indexOf("{{")>=0){T=!0;break}}),{type:6,styles:d,easing:k,offset:f.offset,containsDynamicStyles:T,options:null}}_validateStyleAst(f,o){const d=o.currentAnimateTimings;let m=o.currentTime,T=o.currentTime;d&&T>0&&(T-=d.duration+d.delay),f.styles.forEach(k=>{"string"!=typeof k&&k.forEach((J,ue)=>{const ge=o.collectedStyles.get(o.currentQuerySelector),Te=ge.get(ue);let Je=!0;Te&&(T!=m&&T>=Te.startTime&&m<=Te.endTime&&(o.errors.push(function hf(l,f,o,d,m){return new h.vHH(3010,!1)}()),Je=!1),T=Te.startTime),Je&&ge.set(ue,{startTime:T,endTime:m}),o.options&&function yf(l,f,o){const d=f.params||{},m=Op(l);m.length&&m.forEach(T=>{d.hasOwnProperty(T)||o.push(function lm(l){return new h.vHH(3001,!1)}())})}(J,o.options,o.errors)})})}visitKeyframes(f,o){const d={type:5,styles:[],options:null};if(!o.currentAnimateTimings)return o.errors.push(function uh(){return new h.vHH(3011,!1)}()),d;let T=0;const k=[];let J=!1,ue=!1,ge=0;const Te=f.steps.map(Vn=>{const Un=this._makeStyleAst(Vn,o);let wr=null!=Un.offset?Un.offset:function Jc(l){if("string"==typeof l)return null;let f=null;if(Array.isArray(l))l.forEach(o=>{if(o instanceof Map&&o.has("offset")){const d=o;f=parseFloat(d.get("offset")),d.delete("offset")}});else if(l instanceof Map&&l.has("offset")){const o=l;f=parseFloat(o.get("offset")),o.delete("offset")}return f}(Un.styles),Pn=0;return null!=wr&&(T++,Pn=Un.offset=wr),ue=ue||Pn<0||Pn>1,J=J||Pn<ge,ge=Pn,k.push(Pn),Un});ue&&o.errors.push(function fm(){return new h.vHH(3012,!1)}()),J&&o.errors.push(function Nb(){return new h.vHH(3200,!1)}());const Je=f.steps.length;let ct=0;T>0&&T<Je?o.errors.push(function Ob(){return new h.vHH(3202,!1)}()):0==T&&(ct=1/(Je-1));const dt=Je-1,Mt=o.currentTime,Lt=o.currentAnimateTimings,qt=Lt.duration;return Te.forEach((Vn,Un)=>{const wr=ct>0?Un==dt?1:ct*Un:k[Un],Pn=wr*qt;o.currentTime=Mt+Lt.delay+Pn,Lt.duration=Pn,this._validateStyleAst(Vn,o),Vn.offset=wr,d.styles.push(Vn)}),d}visitReference(f,o){return{type:8,animation:jo(this,Td(f.animation),o),options:Mu(f.options)}}visitAnimateChild(f,o){return o.depCount++,{type:9,options:Mu(f.options)}}visitAnimateRef(f,o){return{type:10,animation:this.visitReference(f.animation,o),options:Mu(f.options)}}visitQuery(f,o){const d=o.currentQuerySelector,m=f.options||{};o.queryCount++,o.currentQuery=f;const[T,k]=function Di(l){const f=!!l.split(/\s*,\s*/).find(o=>":self"==o);return f&&(l=l.replace(gh,"")),l=l.replace(/@\*/g,Ji).replace(/@\w+/g,o=>Ji+"-"+o.slice(1)).replace(/:animating/g,vm),[l,f]}(f.selector);o.currentQuerySelector=d.length?d+" "+T:T,Ac(o.collectedStyles,o.currentQuerySelector,new Map);const J=jo(this,Td(f.animation),o);return o.currentQuery=null,o.currentQuerySelector=d,{type:11,selector:T,limit:m.limit||0,optional:!!m.optional,includeSelf:k,animation:J,originalSelector:f.selector,options:Mu(f.options)}}visitStagger(f,o){o.currentQuery||o.errors.push(function Mb(){return new h.vHH(3013,!1)}());const d="full"===f.timings?{duration:0,delay:0,easing:"full"}:bm(f.timings,o.errors,!0);return{type:12,animation:jo(this,Td(f.animation),o),timings:d,options:null}}}class h0{constructor(f){this.errors=f,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Mu(l){return l?(l=fh(l)).params&&(l.params=function Fb(l){return l?fh(l):null}(l.params)):l={},l}function Ed(l,f,o){return{duration:l,delay:f,easing:o}}function kp(l,f,o,d,m,T,k=null,J=!1){return{type:1,element:l,keyframes:f,preStyleProps:o,postStyleProps:d,duration:m,delay:T,totalTime:m+T,easing:k,subTimeline:J}}class bf{constructor(){this._map=new Map}get(f){return this._map.get(f)||[]}append(f,o){let d=this._map.get(f);d||this._map.set(f,d=[]),d.push(...o)}has(f){return this._map.has(f)}clear(){this._map.clear()}}const wo=new RegExp(":enter","g"),Cm=new RegExp(":leave","g");function mh(l,f,o,d,m,T=new Map,k=new Map,J,ue,ge=[]){return(new Sm).buildKeyframes(l,f,o,d,m,T,k,J,ue,ge)}class Sm{buildKeyframes(f,o,d,m,T,k,J,ue,ge,Te=[]){ge=ge||new bf;const Je=new ia(f,o,ge,m,T,Te,[]);Je.options=ue;const ct=ue.delay?wd(ue.delay):0;Je.currentTimeline.delayNextStep(ct),Je.currentTimeline.setStyles([k],null,Je.errors,ue),jo(this,d,Je);const dt=Je.timelines.filter(Mt=>Mt.containsAnimation());if(dt.length&&J.size){let Mt;for(let Lt=dt.length-1;Lt>=0;Lt--){const qt=dt[Lt];if(qt.element===o){Mt=qt;break}}Mt&&!Mt.allowOnlyTimelineStyles()&&Mt.setStyles([J],null,Je.errors,ue)}return dt.length?dt.map(Mt=>Mt.buildKeyframes()):[kp(o,[],[],[],0,ct,"",!1)]}visitTrigger(f,o){}visitState(f,o){}visitTransition(f,o){}visitAnimateChild(f,o){const d=o.subInstructions.get(o.element);if(d){const m=o.createSubContext(f.options),T=o.currentTimeline.currentTime,k=this._visitSubInstructions(d,m,m.options);T!=k&&o.transformIntoNewTimeline(k)}o.previousNode=f}visitAnimateRef(f,o){const d=o.createSubContext(f.options);d.transformIntoNewTimeline(),this._applyAnimationRefDelays([f.options,f.animation.options],o,d),this.visitReference(f.animation,d),o.transformIntoNewTimeline(d.currentTimeline.currentTime),o.previousNode=f}_applyAnimationRefDelays(f,o,d){for(const m of f){const T=m?.delay;if(T){const k="number"==typeof T?T:wd(Ou(T,m?.params??{},o.errors));d.delayNextStep(k)}}}_visitSubInstructions(f,o,d){let T=o.currentTimeline.currentTime;const k=null!=d.duration?wd(d.duration):null,J=null!=d.delay?wd(d.delay):null;return 0!==k&&f.forEach(ue=>{const ge=o.appendInstructionToTimeline(ue,k,J);T=Math.max(T,ge.duration+ge.delay)}),T}visitReference(f,o){o.updateOptions(f.options,!0),jo(this,f.animation,o),o.previousNode=f}visitSequence(f,o){const d=o.subContextCount;let m=o;const T=f.options;if(T&&(T.params||T.delay)&&(m=o.createSubContext(T),m.transformIntoNewTimeline(),null!=T.delay)){6==m.previousNode.type&&(m.currentTimeline.snapshotCurrentStyles(),m.previousNode=Fp);const k=wd(T.delay);m.delayNextStep(k)}f.steps.length&&(f.steps.forEach(k=>jo(this,k,m)),m.currentTimeline.applyStylesToKeyframe(),m.subContextCount>d&&m.transformIntoNewTimeline()),o.previousNode=f}visitGroup(f,o){const d=[];let m=o.currentTimeline.currentTime;const T=f.options&&f.options.delay?wd(f.options.delay):0;f.steps.forEach(k=>{const J=o.createSubContext(f.options);T&&J.delayNextStep(T),jo(this,k,J),m=Math.max(m,J.currentTimeline.currentTime),d.push(J.currentTimeline)}),d.forEach(k=>o.currentTimeline.mergeTimelineCollectedStyles(k)),o.transformIntoNewTimeline(m),o.previousNode=f}_visitTiming(f,o){if(f.dynamic){const d=f.strValue;return bm(o.params?Ou(d,o.params,o.errors):d,o.errors)}return{duration:f.duration,delay:f.delay,easing:f.easing}}visitAnimate(f,o){const d=o.currentAnimateTimings=this._visitTiming(f.timings,o),m=o.currentTimeline;d.delay&&(o.incrementTime(d.delay),m.snapshotCurrentStyles());const T=f.style;5==T.type?this.visitKeyframes(T,o):(o.incrementTime(d.duration),this.visitStyle(T,o),m.applyStylesToKeyframe()),o.currentAnimateTimings=null,o.previousNode=f}visitStyle(f,o){const d=o.currentTimeline,m=o.currentAnimateTimings;!m&&d.hasCurrentStyleProperties()&&d.forwardFrame();const T=m&&m.easing||f.easing;f.isEmptyStep?d.applyEmptyStep(T):d.setStyles(f.styles,T,o.errors,o.options),o.previousNode=f}visitKeyframes(f,o){const d=o.currentAnimateTimings,m=o.currentTimeline.duration,T=d.duration,J=o.createSubContext().currentTimeline;J.easing=d.easing,f.styles.forEach(ue=>{J.forwardTime((ue.offset||0)*T),J.setStyles(ue.styles,ue.easing,o.errors,o.options),J.applyStylesToKeyframe()}),o.currentTimeline.mergeTimelineCollectedStyles(J),o.transformIntoNewTimeline(m+T),o.previousNode=f}visitQuery(f,o){const d=o.currentTimeline.currentTime,m=f.options||{},T=m.delay?wd(m.delay):0;T&&(6===o.previousNode.type||0==d&&o.currentTimeline.hasCurrentStyleProperties())&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=Fp);let k=d;const J=o.invokeQuery(f.selector,f.originalSelector,f.limit,f.includeSelf,!!m.optional,o.errors);o.currentQueryTotal=J.length;let ue=null;J.forEach((ge,Te)=>{o.currentQueryIndex=Te;const Je=o.createSubContext(f.options,ge);T&&Je.delayNextStep(T),ge===o.element&&(ue=Je.currentTimeline),jo(this,f.animation,Je),Je.currentTimeline.applyStylesToKeyframe(),k=Math.max(k,Je.currentTimeline.currentTime)}),o.currentQueryIndex=0,o.currentQueryTotal=0,o.transformIntoNewTimeline(k),ue&&(o.currentTimeline.mergeTimelineCollectedStyles(ue),o.currentTimeline.snapshotCurrentStyles()),o.previousNode=f}visitStagger(f,o){const d=o.parentContext,m=o.currentTimeline,T=f.timings,k=Math.abs(T.duration),J=k*(o.currentQueryTotal-1);let ue=k*o.currentQueryIndex;switch(T.duration<0?"reverse":T.easing){case"reverse":ue=J-ue;break;case"full":ue=d.currentStaggerTime}const Te=o.currentTimeline;ue&&Te.delayNextStep(ue);const Je=Te.currentTime;jo(this,f.animation,o),o.previousNode=f,d.currentStaggerTime=m.currentTime-Je+(m.startTime-d.currentTimeline.startTime)}}const Fp={};class ia{constructor(f,o,d,m,T,k,J,ue){this._driver=f,this.element=o,this.subInstructions=d,this._enterClassName=m,this._leaveClassName=T,this.errors=k,this.timelines=J,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Fp,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=ue||new wf(this._driver,o,0),J.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(f,o){if(!f)return;const d=f;let m=this.options;null!=d.duration&&(m.duration=wd(d.duration)),null!=d.delay&&(m.delay=wd(d.delay));const T=d.params;if(T){let k=m.params;k||(k=this.options.params={}),Object.keys(T).forEach(J=>{(!o||!k.hasOwnProperty(J))&&(k[J]=Ou(T[J],k,this.errors))})}}_copyOptions(){const f={};if(this.options){const o=this.options.params;if(o){const d=f.params={};Object.keys(o).forEach(m=>{d[m]=o[m]})}}return f}createSubContext(f=null,o,d){const m=o||this.element,T=new ia(this._driver,m,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(m,d||0));return T.previousNode=this.previousNode,T.currentAnimateTimings=this.currentAnimateTimings,T.options=this._copyOptions(),T.updateOptions(f),T.currentQueryIndex=this.currentQueryIndex,T.currentQueryTotal=this.currentQueryTotal,T.parentContext=this,this.subContextCount++,T}transformIntoNewTimeline(f){return this.previousNode=Fp,this.currentTimeline=this.currentTimeline.fork(this.element,f),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(f,o,d){const m={duration:o??f.duration,delay:this.currentTimeline.currentTime+(d??0)+f.delay,easing:""},T=new Lb(this._driver,f.element,f.keyframes,f.preStyleProps,f.postStyleProps,m,f.stretchStartingKeyframe);return this.timelines.push(T),m}incrementTime(f){this.currentTimeline.forwardTime(this.currentTimeline.duration+f)}delayNextStep(f){f>0&&this.currentTimeline.delayNextStep(f)}invokeQuery(f,o,d,m,T,k){let J=[];if(m&&J.push(this.element),f.length>0){f=(f=f.replace(wo,"."+this._enterClassName)).replace(Cm,"."+this._leaveClassName);let ge=this._driver.query(this.element,f,1!=d);0!==d&&(ge=d<0?ge.slice(ge.length+d,ge.length):ge.slice(0,d)),J.push(...ge)}return!T&&0==J.length&&k.push(function sy(l){return new h.vHH(3014,!1)}()),J}}class wf{constructor(f,o,d,m){this._driver=f,this.element=o,this.startTime=d,this._elementTimelineStylesLookup=m,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(o),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(o,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(f){const o=1===this._keyframes.size&&this._pendingStyles.size;this.duration||o?(this.forwardTime(this.currentTime+f),o&&this.snapshotCurrentStyles()):this.startTime+=f}fork(f,o){return this.applyStylesToKeyframe(),new wf(this._driver,f,o||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(f){this.applyStylesToKeyframe(),this.duration=f,this._loadKeyframe()}_updateStyle(f,o){this._localTimelineStyles.set(f,o),this._globalTimelineStyles.set(f,o),this._styleSummary.set(f,{time:this.currentTime,value:o})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(f){f&&this._previousKeyframe.set("easing",f);for(let[o,d]of this._globalTimelineStyles)this._backFill.set(o,d||ve),this._currentKeyframe.set(o,ve);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(f,o,d,m){o&&this._previousKeyframe.set("easing",o);const T=m&&m.params||{},k=function Bb(l,f){const o=new Map;let d;return l.forEach(m=>{if("*"===m){d=d||f.keys();for(let T of d)o.set(T,ve)}else zl(m,o)}),o}(f,this._globalTimelineStyles);for(let[J,ue]of k){const ge=Ou(ue,T,d);this._pendingStyles.set(J,ge),this._localTimelineStyles.has(J)||this._backFill.set(J,this._globalTimelineStyles.get(J)??ve),this._updateStyle(J,ge)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((f,o)=>{this._currentKeyframe.set(o,f)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((f,o)=>{this._currentKeyframe.has(o)||this._currentKeyframe.set(o,f)}))}snapshotCurrentStyles(){for(let[f,o]of this._localTimelineStyles)this._pendingStyles.set(f,o),this._updateStyle(f,o)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const f=[];for(let o in this._currentKeyframe)f.push(o);return f}mergeTimelineCollectedStyles(f){f._styleSummary.forEach((o,d)=>{const m=this._styleSummary.get(d);(!m||o.time>m.time)&&this._updateStyle(d,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();const f=new Set,o=new Set,d=1===this._keyframes.size&&0===this.duration;let m=[];this._keyframes.forEach((J,ue)=>{const ge=zl(J,new Map,this._backFill);ge.forEach((Te,Je)=>{"!"===Te?f.add(Je):Te===ve&&o.add(Je)}),d||ge.set("offset",ue/this.duration),m.push(ge)});const T=f.size?Wl(f.values()):[],k=o.size?Wl(o.values()):[];if(d){const J=m[0],ue=new Map(J);J.set("offset",0),ue.set("offset",1),m=[J,ue]}return kp(this.element,m,T,k,this.duration,this.startTime,this.easing,!1)}}class Lb extends wf{constructor(f,o,d,m,T,k,J=!1){super(f,o,k.delay),this.keyframes=d,this.preStyleProps=m,this.postStyleProps=T,this._stretchStartingKeyframe=J,this.timings={duration:k.duration,delay:k.delay,easing:k.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let f=this.keyframes,{delay:o,duration:d,easing:m}=this.timings;if(this._stretchStartingKeyframe&&o){const T=[],k=d+o,J=o/k,ue=zl(f[0]);ue.set("offset",0),T.push(ue);const ge=zl(f[0]);ge.set("offset",Lp(J)),T.push(ge);const Te=f.length-1;for(let Je=1;Je<=Te;Je++){let ct=zl(f[Je]);const dt=ct.get("offset");ct.set("offset",Lp((o+dt*d)/k)),T.push(ct)}d=k,o=0,m="",f=T}return kp(this.element,f,this.preStyleProps,this.postStyleProps,d,o,m,!0)}}function Lp(l,f=3){const o=Math.pow(10,f-1);return Math.round(l*o)/o}class Bp{}const If=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class uT extends Bp{normalizePropertyName(f,o){return fy(f)}normalizeStyleValue(f,o,d,m){let T="";const k=d.toString().trim();if(If.has(o)&&0!==d&&"0"!==d)if("number"==typeof d)T="px";else{const J=d.match(/^[+-]?[\d\.]+([a-z]*)$/);J&&0==J[1].length&&m.push(function dm(l,f){return new h.vHH(3005,!1)}())}return k+T}}function wy(l,f,o,d,m,T,k,J,ue,ge,Te,Je,ct){return{type:0,element:l,triggerName:f,isRemovalTransition:m,fromState:o,fromStyles:T,toState:d,toStyles:k,timelines:J,queriedElements:ue,preStyleProps:ge,postStyleProps:Te,totalTime:Je,errors:ct}}const Ru={};class Am{constructor(f,o,d){this._triggerName=f,this.ast=o,this._stateStyles=d}match(f,o,d,m){return function Dd(l,f,o,d,m){return l.some(T=>T(f,o,d,m))}(this.ast.matchers,f,o,d,m)}buildStyles(f,o,d){let m=this._stateStyles.get("*");return void 0!==f&&(m=this._stateStyles.get(f?.toString())||m),m?m.buildStyles(o,d):new Map}build(f,o,d,m,T,k,J,ue,ge,Te){const Je=[],ct=this.ast.options&&this.ast.options.params||Ru,Mt=this.buildStyles(d,J&&J.params||Ru,Je),Lt=ue&&ue.params||Ru,qt=this.buildStyles(m,Lt,Je),Vn=new Set,Un=new Map,wr=new Map,Pn="void"===m,Ar={params:Da(Lt,ct),delay:this.ast.options?.delay},_r=Te?[]:mh(f,o,this.ast.animation,T,k,Mt,qt,Ar,ge,Je);let Ir=0;if(_r.forEach(Mi=>{Ir=Math.max(Mi.duration+Mi.delay,Ir)}),Je.length)return wy(o,this._triggerName,d,m,Pn,Mt,qt,[],[],Un,wr,Ir,Je);_r.forEach(Mi=>{const pi=Mi.element,Vr=Ac(Un,pi,new Set);Mi.preStyleProps.forEach(si=>Vr.add(si));const Ms=Ac(wr,pi,new Set);Mi.postStyleProps.forEach(si=>Ms.add(si)),pi!==o&&Vn.add(pi)});const Gr=Wl(Vn.values());return wy(o,this._triggerName,d,m,Pn,Mt,qt,_r,Gr,Un,wr,Ir)}}function Da(l,f){const o=fh(f);for(const d in l)l.hasOwnProperty(d)&&null!=l[d]&&(o[d]=l[d]);return o}class Iy{constructor(f,o,d){this.styles=f,this.defaultParams=o,this.normalizer=d}buildStyles(f,o){const d=new Map,m=fh(this.defaultParams);return Object.keys(f).forEach(T=>{const k=f[T];null!==k&&(m[T]=k)}),this.styles.styles.forEach(T=>{"string"!=typeof T&&T.forEach((k,J)=>{k&&(k=Ou(k,m,o));const ue=this.normalizer.normalizePropertyName(J,o);k=this.normalizer.normalizeStyleValue(J,ue,k,o),d.set(J,k)})}),d}}class Ot{constructor(f,o,d){this.name=f,this.ast=o,this._normalizer=d,this.transitionFactories=[],this.states=new Map,o.states.forEach(m=>{this.states.set(m.name,new Iy(m.style,m.options&&m.options.params||{},d))}),Nc(this.states,"true","1"),Nc(this.states,"false","0"),o.transitions.forEach(m=>{this.transitionFactories.push(new Am(f,m,this.states))}),this.fallbackTransition=function Us(l,f,o){return new Am(l,{type:1,animation:{type:2,steps:[],options:null},matchers:[(k,J)=>!0],options:null,queryCount:0,depCount:0},f)}(f,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(f,o,d,m){return this.transitionFactories.find(k=>k.match(f,o,d,m))||null}matchStyles(f,o,d){return this.fallbackTransition.buildStyles(f,o,d)}}function Nc(l,f,o){l.has(f)?l.has(o)||l.set(o,l.get(f)):l.has(o)&&l.set(f,l.get(o))}const Ty=new bf;class hn{constructor(f,o,d){this.bodyNode=f,this._driver=o,this._normalizer=d,this._animations=new Map,this._playersById=new Map,this.players=[]}register(f,o){const d=[],T=yy(this._driver,o,d,[]);if(d.length)throw function Ei(l){return new h.vHH(3503,!1)}();this._animations.set(f,T)}_buildPlayer(f,o,d){const m=f.element,T=cy(this._normalizer,f.keyframes,o,d);return this._driver.animate(m,T,f.duration,f.delay,f.easing,[],!0)}create(f,o,d={}){const m=[],T=this._animations.get(f);let k;const J=new Map;if(T?(k=mh(this._driver,o,T,vd,bd,new Map,new Map,d,Ty,m),k.forEach(Te=>{const Je=Ac(J,Te.element,new Map);Te.postStyleProps.forEach(ct=>Je.set(ct,null))})):(m.push(function pm(){return new h.vHH(3300,!1)}()),k=[]),m.length)throw function Cp(l){return new h.vHH(3504,!1)}();J.forEach((Te,Je)=>{Te.forEach((ct,dt)=>{Te.set(dt,this._driver.computeStyle(Je,dt,ve))})});const ge=Du(k.map(Te=>{const Je=J.get(Te.element);return this._buildPlayer(Te,new Map,Je)}));return this._playersById.set(f,ge),ge.onDestroy(()=>this.destroy(f)),this.players.push(ge),ge}destroy(f){const o=this._getPlayer(f);o.destroy(),this._playersById.delete(f);const d=this.players.indexOf(o);d>=0&&this.players.splice(d,1)}_getPlayer(f){const o=this._playersById.get(f);if(!o)throw function Sp(l){return new h.vHH(3301,!1)}();return o}listen(f,o,d,m){const T=gm(o,"","","");return pf(this._getPlayer(f),d,T,m),()=>{}}command(f,o,d,m){if("register"==d)return void this.register(f,m[0]);if("create"==d)return void this.create(f,o,m[0]||{});const T=this._getPlayer(f);switch(d){case"play":T.play();break;case"pause":T.pause();break;case"reset":T.reset();break;case"restart":T.restart();break;case"finish":T.finish();break;case"init":T.init();break;case"setPosition":T.setPosition(parseFloat(m[0]));break;case"destroy":this.destroy(f)}}}const In="ng-animate-queued",Wt="ng-animate-disabled",Ey=[],f0={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Hb={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},el="__ng_removed";class Nm{get params(){return this.options.params}constructor(f,o=""){this.namespaceId=o;const d=f&&f.hasOwnProperty("value");if(this.value=function qn(l){return l??null}(d?f.value:f),d){const T=fh(f);delete T.value,this.options=T}else this.options={};this.options.params||(this.options.params={})}absorbOptions(f){const o=f.params;if(o){const d=this.options.params;Object.keys(o).forEach(m=>{null==d[m]&&(d[m]=o[m])})}}}const Pu="void",Om=new Nm(Pu);class p0{constructor(f,o,d){this.id=f,this.hostElement=o,this._engine=d,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+f,ar(o,this._hostClassName)}listen(f,o,d,m){if(!this._triggers.has(o))throw function ay(l,f){return new h.vHH(3302,!1)}();if(null==d||0==d.length)throw function wl(l){return new h.vHH(3303,!1)}();if(!function m0(l){return"start"==l||"done"==l}(d))throw function s0(l,f){return new h.vHH(3400,!1)}();const T=Ac(this._elementListeners,f,[]),k={name:o,phase:d,callback:m};T.push(k);const J=Ac(this._engine.statesByElement,f,new Map);return J.has(o)||(ar(f,ym),ar(f,ym+"-"+o),J.set(o,Om)),()=>{this._engine.afterFlush(()=>{const ue=T.indexOf(k);ue>=0&&T.splice(ue,1),this._triggers.has(o)||J.delete(o)})}}register(f,o){return!this._triggers.has(f)&&(this._triggers.set(f,o),!0)}_getTrigger(f){const o=this._triggers.get(f);if(!o)throw function xb(l){return new h.vHH(3401,!1)}();return o}trigger(f,o,d,m=!0){const T=this._getTrigger(o),k=new Dy(this.id,o,f);let J=this._engine.statesByElement.get(f);J||(ar(f,ym),ar(f,ym+"-"+o),this._engine.statesByElement.set(f,J=new Map));let ue=J.get(o);const ge=new Nm(d,this.id);if(!(d&&d.hasOwnProperty("value"))&&ue&&ge.absorbOptions(ue.options),J.set(o,ge),ue||(ue=Om),ge.value!==Pu&&ue.value===ge.value){if(!function Cy(l,f){const o=Object.keys(l),d=Object.keys(f);if(o.length!=d.length)return!1;for(let m=0;m<o.length;m++){const T=o[m];if(!f.hasOwnProperty(T)||l[T]!==f[T])return!1}return!0}(ue.params,ge.params)){const Lt=[],qt=T.matchStyles(ue.value,ue.params,Lt),Vn=T.matchStyles(ge.value,ge.params,Lt);Lt.length?this._engine.reportError(Lt):this._engine.afterFlush(()=>{Id(f,qt),Il(f,Vn)})}return}const ct=Ac(this._engine.playersByElement,f,[]);ct.forEach(Lt=>{Lt.namespaceId==this.id&&Lt.triggerName==o&&Lt.queued&&Lt.destroy()});let dt=T.matchTransition(ue.value,ge.value,f,ge.params),Mt=!1;if(!dt){if(!m)return;dt=T.fallbackTransition,Mt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:f,triggerName:o,transition:dt,fromState:ue,toState:ge,player:k,isFallbackTransition:Mt}),Mt||(ar(f,In),k.onStart(()=>{Ef(f,In)})),k.onDone(()=>{let Lt=this.players.indexOf(k);Lt>=0&&this.players.splice(Lt,1);const qt=this._engine.playersByElement.get(f);if(qt){let Vn=qt.indexOf(k);Vn>=0&&qt.splice(Vn,1)}}),this.players.push(k),ct.push(k),k}deregister(f){this._triggers.delete(f),this._engine.statesByElement.forEach(o=>o.delete(f)),this._elementListeners.forEach((o,d)=>{this._elementListeners.set(d,o.filter(m=>m.name!=f))})}clearElementCache(f){this._engine.statesByElement.delete(f),this._elementListeners.delete(f);const o=this._engine.playersByElement.get(f);o&&(o.forEach(d=>d.destroy()),this._engine.playersByElement.delete(f))}_signalRemovalForInnerTriggers(f,o){const d=this._engine.driver.query(f,Ji,!0);d.forEach(m=>{if(m[el])return;const T=this._engine.fetchNamespacesByElement(m);T.size?T.forEach(k=>k.triggerLeaveAnimation(m,o,!1,!0)):this.clearElementCache(m)}),this._engine.afterFlushAnimationsDone(()=>d.forEach(m=>this.clearElementCache(m)))}triggerLeaveAnimation(f,o,d,m){const T=this._engine.statesByElement.get(f),k=new Map;if(T){const J=[];if(T.forEach((ue,ge)=>{if(k.set(ge,ue.value),this._triggers.has(ge)){const Te=this.trigger(f,ge,Pu,m);Te&&J.push(Te)}}),J.length)return this._engine.markElementAsRemoved(this.id,f,!0,o,k),d&&Du(J).onDone(()=>this._engine.processLeaveNode(f)),!0}return!1}prepareLeaveAnimationListeners(f){const o=this._elementListeners.get(f),d=this._engine.statesByElement.get(f);if(o&&d){const m=new Set;o.forEach(T=>{const k=T.name;if(m.has(k))return;m.add(k);const ue=this._triggers.get(k).fallbackTransition,ge=d.get(k)||Om,Te=new Nm(Pu),Je=new Dy(this.id,k,f);this._engine.totalQueuedPlayers++,this._queue.push({element:f,triggerName:k,transition:ue,fromState:ge,toState:Te,player:Je,isFallbackTransition:!0})})}}removeNode(f,o){const d=this._engine;if(f.childElementCount&&this._signalRemovalForInnerTriggers(f,o),this.triggerLeaveAnimation(f,o,!0))return;let m=!1;if(d.totalAnimations){const T=d.players.length?d.playersByQueriedElement.get(f):[];if(T&&T.length)m=!0;else{let k=f;for(;k=k.parentNode;)if(d.statesByElement.get(k)){m=!0;break}}}if(this.prepareLeaveAnimationListeners(f),m)d.markElementAsRemoved(this.id,f,!1,o);else{const T=f[el];(!T||T===f0)&&(d.afterFlush(()=>this.clearElementCache(f)),d.destroyInnerAnimations(f),d._onRemovalComplete(f,o))}}insertNode(f,o){ar(f,this._hostClassName)}drainQueuedTransitions(f){const o=[];return this._queue.forEach(d=>{const m=d.player;if(m.destroyed)return;const T=d.element,k=this._elementListeners.get(T);k&&k.forEach(J=>{if(J.name==d.triggerName){const ue=gm(T,d.triggerName,d.fromState.value,d.toState.value);ue._data=f,pf(d.player,J.phase,ue,J.callback)}}),m.markedForDestroy?this._engine.afterFlush(()=>{m.destroy()}):o.push(d)}),this._queue=[],o.sort((d,m)=>{const T=d.transition.ast.depCount,k=m.transition.ast.depCount;return 0==T||0==k?T-k:this._engine.driver.containsElement(d.element,m.element)?1:-1})}destroy(f){this.players.forEach(o=>o.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,f)}}class Gb{_onRemovalComplete(f,o){this.onRemovalComplete(f,o)}constructor(f,o,d){this.bodyNode=f,this.driver=o,this._normalizer=d,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(m,T)=>{}}get queuedPlayers(){const f=[];return this._namespaceList.forEach(o=>{o.players.forEach(d=>{d.queued&&f.push(d)})}),f}createNamespace(f,o){const d=new p0(f,o,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,o)?this._balanceNamespaceList(d,o):(this.newHostElements.set(o,d),this.collectEnterElement(o)),this._namespaceLookup[f]=d}_balanceNamespaceList(f,o){const d=this._namespaceList,m=this.namespacesByHostElement;if(d.length-1>=0){let k=!1,J=this.driver.getParentElement(o);for(;J;){const ue=m.get(J);if(ue){const ge=d.indexOf(ue);d.splice(ge+1,0,f),k=!0;break}J=this.driver.getParentElement(J)}k||d.unshift(f)}else d.push(f);return m.set(o,f),f}register(f,o){let d=this._namespaceLookup[f];return d||(d=this.createNamespace(f,o)),d}registerTrigger(f,o,d){let m=this._namespaceLookup[f];m&&m.register(o,d)&&this.totalAnimations++}destroy(f,o){f&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const d=this._fetchNamespace(f);this.namespacesByHostElement.delete(d.hostElement);const m=this._namespaceList.indexOf(d);m>=0&&this._namespaceList.splice(m,1),d.destroy(o),delete this._namespaceLookup[f]}))}_fetchNamespace(f){return this._namespaceLookup[f]}fetchNamespacesByElement(f){const o=new Set,d=this.statesByElement.get(f);if(d)for(let m of d.values())if(m.namespaceId){const T=this._fetchNamespace(m.namespaceId);T&&o.add(T)}return o}trigger(f,o,d,m){if(ku(o)){const T=this._fetchNamespace(f);if(T)return T.trigger(o,d,m),!0}return!1}insertNode(f,o,d,m){if(!ku(o))return;const T=o[el];if(T&&T.setForRemoval){T.setForRemoval=!1,T.setForMove=!0;const k=this.collectedLeaveElements.indexOf(o);k>=0&&this.collectedLeaveElements.splice(k,1)}if(f){const k=this._fetchNamespace(f);k&&k.insertNode(o,d)}m&&this.collectEnterElement(o)}collectEnterElement(f){this.collectedEnterElements.push(f)}markElementAsDisabled(f,o){o?this.disabledNodes.has(f)||(this.disabledNodes.add(f),ar(f,Wt)):this.disabledNodes.has(f)&&(this.disabledNodes.delete(f),Ef(f,Wt))}removeNode(f,o,d){if(ku(o)){const m=f?this._fetchNamespace(f):null;m?m.removeNode(o,d):this.markElementAsRemoved(f,o,!1,d);const T=this.namespacesByHostElement.get(o);T&&T.id!==f&&T.removeNode(o,d)}else this._onRemovalComplete(o,d)}markElementAsRemoved(f,o,d,m,T){this.collectedLeaveElements.push(o),o[el]={namespaceId:f,setForRemoval:m,hasAnimation:d,removedBeforeQueried:!1,previousTriggersValues:T}}listen(f,o,d,m,T){return ku(o)?this._fetchNamespace(f).listen(o,d,m,T):()=>{}}_buildInstruction(f,o,d,m,T){return f.transition.build(this.driver,f.element,f.fromState.value,f.toState.value,d,m,f.fromState.options,f.toState.options,o,T)}destroyInnerAnimations(f){let o=this.driver.query(f,Ji,!0);o.forEach(d=>this.destroyActiveAnimationsForElement(d)),0!=this.playersByQueriedElement.size&&(o=this.driver.query(f,vm,!0),o.forEach(d=>this.finishActiveQueriedAnimationOnElement(d)))}destroyActiveAnimationsForElement(f){const o=this.playersByElement.get(f);o&&o.forEach(d=>{d.queued?d.markedForDestroy=!0:d.destroy()})}finishActiveQueriedAnimationOnElement(f){const o=this.playersByQueriedElement.get(f);o&&o.forEach(d=>d.finish())}whenRenderingDone(){return new Promise(f=>{if(this.players.length)return Du(this.players).onDone(()=>f());f()})}processLeaveNode(f){const o=f[el];if(o&&o.setForRemoval){if(f[el]=f0,o.namespaceId){this.destroyInnerAnimations(f);const d=this._fetchNamespace(o.namespaceId);d&&d.clearElementCache(f)}this._onRemovalComplete(f,o.setForRemoval)}f.classList?.contains(Wt)&&this.markElementAsDisabled(f,!1),this.driver.query(f,".ng-animate-disabled",!0).forEach(d=>{this.markElementAsDisabled(d,!1)})}flush(f=-1){let o=[];if(this.newHostElements.size&&(this.newHostElements.forEach((d,m)=>this._balanceNamespaceList(d,m)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let d=0;d<this.collectedEnterElements.length;d++)ar(this.collectedEnterElements[d],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const d=[];try{o=this._flushAnimations(d,f)}finally{for(let m=0;m<d.length;m++)d[m]()}}else for(let d=0;d<this.collectedLeaveElements.length;d++)this.processLeaveNode(this.collectedLeaveElements[d]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(d=>d()),this._flushFns=[],this._whenQuietFns.length){const d=this._whenQuietFns;this._whenQuietFns=[],o.length?Du(o).onDone(()=>{d.forEach(m=>m())}):d.forEach(m=>m())}}reportError(f){throw function lT(l){return new h.vHH(3402,!1)}()}_flushAnimations(f,o){const d=new bf,m=[],T=new Map,k=[],J=new Map,ue=new Map,ge=new Map,Te=new Set;this.disabledNodes.forEach(jt=>{Te.add(jt);const Zt=this.driver.query(jt,".ng-animate-queued",!0);for(let en=0;en<Zt.length;en++)Te.add(Zt[en])});const Je=this.bodyNode,ct=Array.from(this.statesByElement.keys()),dt=Tf(ct,this.collectedEnterElements),Mt=new Map;let Lt=0;dt.forEach((jt,Zt)=>{const en=vd+Lt++;Mt.set(Zt,en),jt.forEach(nr=>ar(nr,en))});const qt=[],Vn=new Set,Un=new Set;for(let jt=0;jt<this.collectedLeaveElements.length;jt++){const Zt=this.collectedLeaveElements[jt],en=Zt[el];en&&en.setForRemoval&&(qt.push(Zt),Vn.add(Zt),en.hasAnimation?this.driver.query(Zt,".ng-star-inserted",!0).forEach(nr=>Vn.add(nr)):Un.add(Zt))}const wr=new Map,Pn=Tf(ct,Array.from(Vn));Pn.forEach((jt,Zt)=>{const en=bd+Lt++;wr.set(Zt,en),jt.forEach(nr=>ar(nr,en))}),f.push(()=>{dt.forEach((jt,Zt)=>{const en=Mt.get(Zt);jt.forEach(nr=>Ef(nr,en))}),Pn.forEach((jt,Zt)=>{const en=wr.get(Zt);jt.forEach(nr=>Ef(nr,en))}),qt.forEach(jt=>{this.processLeaveNode(jt)})});const Ar=[],_r=[];for(let jt=this._namespaceList.length-1;jt>=0;jt--)this._namespaceList[jt].drainQueuedTransitions(o).forEach(en=>{const nr=en.player,xi=en.element;if(Ar.push(nr),this.collectedEnterElements.length){const Tr=xi[el];if(Tr&&Tr.setForMove){if(Tr.previousTriggersValues&&Tr.previousTriggersValues.has(en.triggerName)){const vs=Tr.previousTriggersValues.get(en.triggerName),To=this.statesByElement.get(en.element);if(To&&To.has(en.triggerName)){const El=To.get(en.triggerName);El.value=vs,To.set(en.triggerName,El)}}return void nr.destroy()}}const Ui=!Je||!this.driver.containsElement(Je,xi),no=wr.get(xi),tl=Mt.get(xi),Zn=this._buildInstruction(en,d,tl,no,Ui);if(Zn.errors&&Zn.errors.length)return void _r.push(Zn);if(Ui)return nr.onStart(()=>Id(xi,Zn.fromStyles)),nr.onDestroy(()=>Il(xi,Zn.toStyles)),void m.push(nr);if(en.isFallbackTransition)return nr.onStart(()=>Id(xi,Zn.fromStyles)),nr.onDestroy(()=>Il(xi,Zn.toStyles)),void m.push(nr);const sc=[];Zn.timelines.forEach(Tr=>{Tr.stretchStartingKeyframe=!0,this.disabledNodes.has(Tr.element)||sc.push(Tr)}),Zn.timelines=sc,d.append(xi,Zn.timelines),k.push({instruction:Zn,player:nr,element:xi}),Zn.queriedElements.forEach(Tr=>Ac(J,Tr,[]).push(nr)),Zn.preStyleProps.forEach((Tr,vs)=>{if(Tr.size){let To=ue.get(vs);To||ue.set(vs,To=new Set),Tr.forEach((El,Dl)=>To.add(Dl))}}),Zn.postStyleProps.forEach((Tr,vs)=>{let To=ge.get(vs);To||ge.set(vs,To=new Set),Tr.forEach((El,Dl)=>To.add(Dl))})});if(_r.length){const jt=[];_r.forEach(Zt=>{jt.push(function Ap(l,f){return new h.vHH(3505,!1)}())}),Ar.forEach(Zt=>Zt.destroy()),this.reportError(jt)}const Ir=new Map,Gr=new Map;k.forEach(jt=>{const Zt=jt.element;d.has(Zt)&&(Gr.set(Zt,Zt),this._beforeAnimationBuild(jt.player.namespaceId,jt.instruction,Ir))}),m.forEach(jt=>{const Zt=jt.element;this._getPreviousPlayers(Zt,!1,jt.namespaceId,jt.triggerName,null).forEach(nr=>{Ac(Ir,Zt,[]).push(nr),nr.destroy()})});const Mi=qt.filter(jt=>Tl(jt,ue,ge)),pi=new Map;Sn(pi,this.driver,Un,ge,ve).forEach(jt=>{Tl(jt,ue,ge)&&Mi.push(jt)});const Ms=new Map;dt.forEach((jt,Zt)=>{Sn(Ms,this.driver,new Set(jt),ue,"!")}),Mi.forEach(jt=>{const Zt=pi.get(jt),en=Ms.get(jt);pi.set(jt,new Map([...Zt?.entries()??[],...en?.entries()??[]]))});const si=[],ic=[],qr={};k.forEach(jt=>{const{element:Zt,player:en,instruction:nr}=jt;if(d.has(Zt)){if(Te.has(Zt))return en.onDestroy(()=>Il(Zt,nr.toStyles)),en.disabled=!0,en.overrideTotalTime(nr.totalTime),void m.push(en);let xi=qr;if(Gr.size>1){let no=Zt;const tl=[];for(;no=no.parentNode;){const Zn=Gr.get(no);if(Zn){xi=Zn;break}tl.push(no)}tl.forEach(Zn=>Gr.set(Zn,xi))}const Ui=this._buildAnimation(en.namespaceId,nr,Ir,T,Ms,pi);if(en.setRealPlayer(Ui),xi===qr)si.push(en);else{const no=this.playersByElement.get(xi);no&&no.length&&(en.parentPlayer=Du(no)),m.push(en)}}else Id(Zt,nr.fromStyles),en.onDestroy(()=>Il(Zt,nr.toStyles)),ic.push(en),Te.has(Zt)&&m.push(en)}),ic.forEach(jt=>{const Zt=T.get(jt.element);if(Zt&&Zt.length){const en=Du(Zt);jt.setRealPlayer(en)}}),m.forEach(jt=>{jt.parentPlayer?jt.syncPlayerEvents(jt.parentPlayer):jt.destroy()});for(let jt=0;jt<qt.length;jt++){const Zt=qt[jt],en=Zt[el];if(Ef(Zt,bd),en&&en.hasAnimation)continue;let nr=[];if(J.size){let Ui=J.get(Zt);Ui&&Ui.length&&nr.push(...Ui);let no=this.driver.query(Zt,vm,!0);for(let tl=0;tl<no.length;tl++){let Zn=J.get(no[tl]);Zn&&Zn.length&&nr.push(...Zn)}}const xi=nr.filter(Ui=>!Ui.destroyed);xi.length?Hs(this,Zt,xi):this.processLeaveNode(Zt)}return qt.length=0,si.forEach(jt=>{this.players.push(jt),jt.onDone(()=>{jt.destroy();const Zt=this.players.indexOf(jt);this.players.splice(Zt,1)}),jt.play()}),si}afterFlush(f){this._flushFns.push(f)}afterFlushAnimationsDone(f){this._whenQuietFns.push(f)}_getPreviousPlayers(f,o,d,m,T){let k=[];if(o){const J=this.playersByQueriedElement.get(f);J&&(k=J)}else{const J=this.playersByElement.get(f);if(J){const ue=!T||T==Pu;J.forEach(ge=>{ge.queued||!ue&&ge.triggerName!=m||k.push(ge)})}}return(d||m)&&(k=k.filter(J=>!(d&&d!=J.namespaceId||m&&m!=J.triggerName))),k}_beforeAnimationBuild(f,o,d){const T=o.element,k=o.isRemovalTransition?void 0:f,J=o.isRemovalTransition?void 0:o.triggerName;for(const ue of o.timelines){const ge=ue.element,Te=ge!==T,Je=Ac(d,ge,[]);this._getPreviousPlayers(ge,Te,k,J,o.toState).forEach(dt=>{const Mt=dt.getRealPlayer();Mt.beforeDestroy&&Mt.beforeDestroy(),dt.destroy(),Je.push(dt)})}Id(T,o.fromStyles)}_buildAnimation(f,o,d,m,T,k){const J=o.triggerName,ue=o.element,ge=[],Te=new Set,Je=new Set,ct=o.timelines.map(Mt=>{const Lt=Mt.element;Te.add(Lt);const qt=Lt[el];if(qt&&qt.removedBeforeQueried)return new js(Mt.duration,Mt.delay);const Vn=Lt!==ue,Un=function Xt(l){const f=[];return _h(l,f),f}((d.get(Lt)||Ey).map(Ir=>Ir.getRealPlayer())).filter(Ir=>!!Ir.element&&Ir.element===Lt),wr=T.get(Lt),Pn=k.get(Lt),Ar=cy(this._normalizer,Mt.keyframes,wr,Pn),_r=this._buildPlayer(Mt,Ar,Un);if(Mt.subTimeline&&m&&Je.add(Lt),Vn){const Ir=new Dy(f,J,Lt);Ir.setRealPlayer(_r),ge.push(Ir)}return _r});ge.forEach(Mt=>{Ac(this.playersByQueriedElement,Mt.element,[]).push(Mt),Mt.onDone(()=>function g0(l,f,o){let d=l.get(f);if(d){if(d.length){const m=d.indexOf(o);d.splice(m,1)}0==d.length&&l.delete(f)}return d}(this.playersByQueriedElement,Mt.element,Mt))}),Te.forEach(Mt=>ar(Mt,dy));const dt=Du(ct);return dt.onDestroy(()=>{Te.forEach(Mt=>Ef(Mt,dy)),Il(ue,o.toStyles)}),Je.forEach(Mt=>{Ac(m,Mt,[]).push(dt)}),dt}_buildPlayer(f,o,d){return o.length>0?this.driver.animate(f.element,o,f.duration,f.delay,f.easing,d):new js(f.duration,f.delay)}}class Dy{constructor(f,o,d){this.namespaceId=f,this.triggerName=o,this.element=d,this._player=new js,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(f){this._containsRealPlayer||(this._player=f,this._queuedCallbacks.forEach((o,d)=>{o.forEach(m=>pf(f,d,void 0,m))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(f.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(f){this.totalTime=f}syncPlayerEvents(f){const o=this._player;o.triggerCallback&&f.onStart(()=>o.triggerCallback("start")),f.onDone(()=>this.finish()),f.onDestroy(()=>this.destroy())}_queueEvent(f,o){Ac(this._queuedCallbacks,f,[]).push(o)}onDone(f){this.queued&&this._queueEvent("done",f),this._player.onDone(f)}onStart(f){this.queued&&this._queueEvent("start",f),this._player.onStart(f)}onDestroy(f){this.queued&&this._queueEvent("destroy",f),this._player.onDestroy(f)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(f){this.queued||this._player.setPosition(f)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(f){const o=this._player;o.triggerCallback&&o.triggerCallback(f)}}function ku(l){return l&&1===l.nodeType}function cs(l,f){const o=l.style.display;return l.style.display=f??"none",o}function Sn(l,f,o,d,m){const T=[];o.forEach(ue=>T.push(cs(ue)));const k=[];d.forEach((ue,ge)=>{const Te=new Map;ue.forEach(Je=>{const ct=f.computeStyle(ge,Je,m);Te.set(Je,ct),(!ct||0==ct.length)&&(ge[el]=Hb,k.push(ge))}),l.set(ge,Te)});let J=0;return o.forEach(ue=>cs(ue,T[J++])),k}function Tf(l,f){const o=new Map;if(l.forEach(J=>o.set(J,[])),0==f.length)return o;const m=new Set(f),T=new Map;function k(J){if(!J)return 1;let ue=T.get(J);if(ue)return ue;const ge=J.parentNode;return ue=o.has(ge)?ge:m.has(ge)?1:k(ge),T.set(J,ue),ue}return f.forEach(J=>{const ue=k(J);1!==ue&&o.get(ue).push(J)}),o}function ar(l,f){l.classList?.add(f)}function Ef(l,f){l.classList?.remove(f)}function Hs(l,f,o){Du(o).onDone(()=>l.processLeaveNode(f))}function _h(l,f){for(let o=0;o<l.length;o++){const d=l[o];d instanceof Ma?_h(d.players,f):f.push(d)}}function Tl(l,f,o){const d=o.get(l);if(!d)return!1;let m=f.get(l);return m?d.forEach(T=>m.add(T)):f.set(l,d),o.delete(l),!0}class Mm{constructor(f,o,d){this.bodyNode=f,this._driver=o,this._normalizer=d,this._triggerCache={},this.onRemovalComplete=(m,T)=>{},this._transitionEngine=new Gb(f,o,d),this._timelineEngine=new hn(f,o,d),this._transitionEngine.onRemovalComplete=(m,T)=>this.onRemovalComplete(m,T)}registerTrigger(f,o,d,m,T){const k=f+"-"+m;let J=this._triggerCache[k];if(!J){const ue=[],Te=yy(this._driver,T,ue,[]);if(ue.length)throw function ff(l,f){return new h.vHH(3404,!1)}();J=function dT(l,f,o){return new Ot(l,f,o)}(m,Te,this._normalizer),this._triggerCache[k]=J}this._transitionEngine.registerTrigger(o,m,J)}register(f,o){this._transitionEngine.register(f,o)}destroy(f,o){this._transitionEngine.destroy(f,o)}onInsert(f,o,d,m){this._transitionEngine.insertNode(f,o,d,m)}onRemove(f,o,d){this._transitionEngine.removeNode(f,o,d)}disableAnimations(f,o){this._transitionEngine.markElementAsDisabled(f,o)}process(f,o,d,m){if("@"==d.charAt(0)){const[T,k]=mm(d);this._timelineEngine.command(T,o,k,m)}else this._transitionEngine.trigger(f,o,d,m)}listen(f,o,d,m,T){if("@"==d.charAt(0)){const[k,J]=mm(d);return this._timelineEngine.listen(k,o,J,T)}return this._transitionEngine.listen(f,o,d,m,T)}flush(f=-1){this._transitionEngine.flush(f)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(f){this._transitionEngine.afterFlushAnimationsDone(f)}}let jb=(()=>{class l{static#e=this.initialStylesByElement=new WeakMap;constructor(o,d,m){this._element=o,this._startStyles=d,this._endStyles=m,this._state=0;let T=l.initialStylesByElement.get(o);T||l.initialStylesByElement.set(o,T=new Map),this._initialStyles=T}start(){this._state<1&&(this._startStyles&&Il(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Il(this._element,this._initialStyles),this._endStyles&&(Il(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(l.initialStylesByElement.delete(this._element),this._startStyles&&(Id(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Id(this._element,this._endStyles),this._endStyles=null),Il(this._element,this._initialStyles),this._state=3)}}return l})();function yh(l){let f=null;return l.forEach((o,d)=>{(function _0(l){return"display"===l||"position"===l})(d)&&(f=f||new Map,f.set(d,o))}),f}class Sy{constructor(f,o,d,m){this.element=f,this.keyframes=o,this.options=d,this._specialStyles=m,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=d.duration,this._delay=d.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(f=>f()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const f=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,f,this.options),this._finalKeyframe=f.length?f[f.length-1]:new Map;const o=()=>this._onFinish();this.domPlayer.addEventListener("finish",o),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",o)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(f){const o=[];return f.forEach(d=>{o.push(Object.fromEntries(d))}),o}_triggerWebAnimation(f,o,d){return f.animate(this._convertKeyframesToObject(o),d)}onStart(f){this._originalOnStartFns.push(f),this._onStartFns.push(f)}onDone(f){this._originalOnDoneFns.push(f),this._onDoneFns.push(f)}onDestroy(f){this._onDestroyFns.push(f)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(f=>f()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(f=>f()),this._onDestroyFns=[])}setPosition(f){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=f*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const f=new Map;this.hasStarted()&&this._finalKeyframe.forEach((d,m)=>{"offset"!==m&&f.set(m,this._finished?d:xp(this.element,m))}),this.currentSnapshot=f}triggerCallback(f){const o="start"===f?this._onStartFns:this._onDoneFns;o.forEach(d=>d()),o.length=0}}class rc{validateStyleProperty(f){return!0}validateAnimatableStyleProperty(f){return!0}matchesElement(f,o){return!1}containsElement(f,o){return a0(f,o)}getParentElement(f){return _m(f)}query(f,o,d){return c0(f,o,d)}computeStyle(f,o,d){return window.getComputedStyle(f)[o]}animate(f,o,d,m,T,k=[]){const ue={duration:d,delay:m,fill:0==m?"both":"forwards"};T&&(ue.easing=T);const ge=new Map,Te=k.filter(dt=>dt instanceof Sy);(function ql(l,f){return 0===l||0===f})(d,m)&&Te.forEach(dt=>{dt.currentSnapshot.forEach((Mt,Lt)=>ge.set(Lt,Mt))});let Je=function kb(l){return l.length?l[0]instanceof Map?l:l.map(f=>_f(f)):[]}(o).map(dt=>zl(dt));Je=function Im(l,f,o){if(o.size&&f.length){let d=f[0],m=[];if(o.forEach((T,k)=>{d.has(k)||m.push(k),d.set(k,T)}),m.length)for(let T=1;T<f.length;T++){let k=f[T];m.forEach(J=>k.set(J,xp(l,J)))}}return f}(f,Je,ge);const ct=function xm(l,f){let o=null,d=null;return Array.isArray(f)&&f.length?(o=yh(f[0]),f.length>1&&(d=yh(f[f.length-1]))):f instanceof Map&&(o=yh(f)),o||d?new jb(l,o,d):null}(f,Je);return new Sy(f,Je,ue,ct)}}let Rm=(()=>{class l extends W{constructor(o,d){super(),this._nextAnimationId=0,this._renderer=o.createRenderer(d.body,{id:"0",encapsulation:h.ifc.None,styles:[],data:{animation:[]}})}build(o){const d=this._nextAnimationId.toString();this._nextAnimationId++;const m=Array.isArray(o)?ln(o):o;return Cd(this._renderer,null,d,"register",[m]),new Ay(d,this._renderer)}static#e=this.\u0275fac=function(d){return new(d||l)(h.LFG(h.FYo),h.LFG(le.K0))};static#t=this.\u0275prov=h.Yz7({token:l,factory:l.\u0275fac})}return l})();class Ay extends ${constructor(f,o){super(),this._id=f,this._renderer=o}create(f,o){return new $b(this._id,f,o||{},this._renderer)}}class $b{constructor(f,o,d,m){this.id=f,this.element=o,this._renderer=m,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",d)}_listen(f,o){return this._renderer.listen(this.element,`@@${this.id}:${f}`,o)}_command(f,...o){return Cd(this._renderer,this.element,this.id,f,o)}onDone(f){this._listen("done",f)}onStart(f){this._listen("start",f)}onDestroy(f){this._listen("destroy",f)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(f){this._command("setPosition",f)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Cd(l,f,o,d,m){return l.setProperty(f,`@@${o}:${d}`,m)}const Ze="@.disabled";let Ny=(()=>{class l{constructor(o,d,m){this.delegate=o,this.engine=d,this._zone=m,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,d.onRemovalComplete=(T,k)=>{const J=k?.parentNode(T);J&&k.removeChild(J,T)}}createRenderer(o,d){const T=this.delegate.createRenderer(o,d);if(!(o&&d&&d.data&&d.data.animation)){let Te=this._rendererCache.get(T);return Te||(Te=new Ua("",T,this.engine,()=>this._rendererCache.delete(T)),this._rendererCache.set(T,Te)),Te}const k=d.id,J=d.id+"-"+this._currentId;this._currentId++,this.engine.register(J,o);const ue=Te=>{Array.isArray(Te)?Te.forEach(ue):this.engine.registerTrigger(k,J,o,Te.name,Te)};return d.data.animation.forEach(ue),new zb(this,J,T,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(o,d,m){o>=0&&o<this._microtaskId?this._zone.run(()=>d(m)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(T=>{const[k,J]=T;k(J)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([d,m]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(d){return new(d||l)(h.LFG(h.FYo),h.LFG(Mm),h.LFG(h.R0b))};static#t=this.\u0275prov=h.Yz7({token:l,factory:l.\u0275fac})}return l})();class Ua{constructor(f,o,d,m){this.namespaceId=f,this.delegate=o,this.engine=d,this._onDestroy=m}get data(){return this.delegate.data}destroyNode(f){this.delegate.destroyNode?.(f)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(f,o){return this.delegate.createElement(f,o)}createComment(f){return this.delegate.createComment(f)}createText(f){return this.delegate.createText(f)}appendChild(f,o){this.delegate.appendChild(f,o),this.engine.onInsert(this.namespaceId,o,f,!1)}insertBefore(f,o,d,m=!0){this.delegate.insertBefore(f,o,d),this.engine.onInsert(this.namespaceId,o,f,m)}removeChild(f,o,d){this.engine.onRemove(this.namespaceId,o,this.delegate)}selectRootElement(f,o){return this.delegate.selectRootElement(f,o)}parentNode(f){return this.delegate.parentNode(f)}nextSibling(f){return this.delegate.nextSibling(f)}setAttribute(f,o,d,m){this.delegate.setAttribute(f,o,d,m)}removeAttribute(f,o,d){this.delegate.removeAttribute(f,o,d)}addClass(f,o){this.delegate.addClass(f,o)}removeClass(f,o){this.delegate.removeClass(f,o)}setStyle(f,o,d,m){this.delegate.setStyle(f,o,d,m)}removeStyle(f,o,d){this.delegate.removeStyle(f,o,d)}setProperty(f,o,d){"@"==o.charAt(0)&&o==Ze?this.disableAnimations(f,!!d):this.delegate.setProperty(f,o,d)}setValue(f,o){this.delegate.setValue(f,o)}listen(f,o,d){return this.delegate.listen(f,o,d)}disableAnimations(f,o){this.engine.disableAnimations(f,o)}}class zb extends Ua{constructor(f,o,d,m,T){super(o,d,m,T),this.factory=f,this.namespaceId=o}setProperty(f,o,d){"@"==o.charAt(0)?"."==o.charAt(1)&&o==Ze?this.disableAnimations(f,d=void 0===d||!!d):this.engine.process(this.namespaceId,f,o.slice(1),d):this.delegate.setProperty(f,o,d)}listen(f,o,d){if("@"==o.charAt(0)){const m=function Vp(l){switch(l){case"body":return document.body;case"document":return document;case"window":return window;default:return l}}(f);let T=o.slice(1),k="";return"@"!=T.charAt(0)&&([T,k]=function Zl(l){const f=l.indexOf(".");return[l.substring(0,f),l.slice(f+1)]}(T)),this.engine.listen(this.namespaceId,m,T,k,J=>{this.factory.scheduleListenerCallback(J._data||-1,d,J)})}return this.delegate.listen(f,o,d)}}const Io=[{provide:W,useClass:Rm},{provide:Bp,useFactory:function Ca(){return new uT}},{provide:Mm,useClass:(()=>{class l extends Mm{constructor(o,d,m,T){super(o.body,d,m)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(d){return new(d||l)(h.LFG(le.K0),h.LFG(Nu),h.LFG(Bp),h.LFG(h.z2F))};static#t=this.\u0275prov=h.Yz7({token:l,factory:l.\u0275fac})}return l})()},{provide:h.FYo,useFactory:function Df(l,f,o){return new Ny(l,f,o)},deps:[w.se,Mm,h.R0b]}],Fu=[{provide:Nu,useFactory:()=>new rc},{provide:h.QbO,useValue:"BrowserAnimations"},...Io],Up=[{provide:Nu,useClass:mf},{provide:h.QbO,useValue:"NoopAnimations"},...Io];let ls=(()=>{class l{static withConfig(o){return{ngModule:l,providers:o.disableAnimations?Up:Fu}}static#e=this.\u0275fac=function(d){return new(d||l)};static#t=this.\u0275mod=h.oAB({type:l});static#n=this.\u0275inj=h.cJS({providers:Fu,imports:[w.b2]})}return l})(),Gs=(()=>{class l{static#e=this.\u0275fac=function(d){return new(d||l)};static#t=this.\u0275mod=h.oAB({type:l,bootstrap:[zs]});static#n=this.\u0275inj=h.cJS({imports:[w.b2,K,_d.r,ls,(0,Ps.hX)(()=>(0,Ps.ZF)(ci.N.firebaseConfig)),(0,bt.Cm)(()=>(0,bt.ad)()),_i,md]})}return l})();w.q6().bootstrapModule(Gs).catch(l=>console.error(l))},5619:(Gt,$e,Q)=>{Q.d($e,{X:()=>ce});var w=Q(8645);class ce extends w.x{constructor(we){super(),this._value=we}get value(){return this.getValue()}_subscribe(we){const de=super._subscribe(we);return!de.closed&&we.next(this._value),de}getValue(){const{hasError:we,thrownError:de,_value:fe}=this;if(we)throw de;return this._throwIfClosed(),fe}next(we){super.next(this._value=we)}}},5592:(Gt,$e,Q)=>{Q.d($e,{y:()=>He});var w=Q(305),ce=Q(7394),h=Q(4850),we=Q(8407),de=Q(2653),fe=Q(4674),Oe=Q(1441);let He=(()=>{class Se{constructor(Pe){Pe&&(this._subscribe=Pe)}lift(Pe){const it=new Se;return it.source=this,it.operator=Pe,it}subscribe(Pe,it,At){const Bt=function le(Se){return Se&&Se instanceof w.Lv||function re(Se){return Se&&(0,fe.m)(Se.next)&&(0,fe.m)(Se.error)&&(0,fe.m)(Se.complete)}(Se)&&(0,ce.Nn)(Se)}(Pe)?Pe:new w.Hp(Pe,it,At);return(0,Oe.x)(()=>{const{operator:kt,source:An}=this;Bt.add(kt?kt.call(Bt,An):An?this._subscribe(Bt):this._trySubscribe(Bt))}),Bt}_trySubscribe(Pe){try{return this._subscribe(Pe)}catch(it){Pe.error(it)}}forEach(Pe,it){return new(it=Ee(it))((At,Bt)=>{const kt=new w.Hp({next:An=>{try{Pe(An)}catch(xt){Bt(xt),kt.unsubscribe()}},error:Bt,complete:At});this.subscribe(kt)})}_subscribe(Pe){var it;return null===(it=this.source)||void 0===it?void 0:it.subscribe(Pe)}[h.L](){return this}pipe(...Pe){return(0,we.U)(Pe)(this)}toPromise(Pe){return new(Pe=Ee(Pe))((it,At)=>{let Bt;this.subscribe(kt=>Bt=kt,kt=>At(kt),()=>it(Bt))})}}return Se.create=et=>new Se(et),Se})();function Ee(Se){var et;return null!==(et=Se??de.config.Promise)&&void 0!==et?et:Promise}},8645:(Gt,$e,Q)=>{Q.d($e,{x:()=>Oe});var w=Q(5592),ce=Q(7394);const we=(0,Q(2306).d)(Ee=>function(){Ee(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var de=Q(9039),fe=Q(1441);let Oe=(()=>{class Ee extends w.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(le){const Se=new He(this,this);return Se.operator=le,Se}_throwIfClosed(){if(this.closed)throw new we}next(le){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Se of this.currentObservers)Se.next(le)}})}error(le){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=le;const{observers:Se}=this;for(;Se.length;)Se.shift().error(le)}})}complete(){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:le}=this;for(;le.length;)le.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var le;return(null===(le=this.observers)||void 0===le?void 0:le.length)>0}_trySubscribe(le){return this._throwIfClosed(),super._trySubscribe(le)}_subscribe(le){return this._throwIfClosed(),this._checkFinalizedStatuses(le),this._innerSubscribe(le)}_innerSubscribe(le){const{hasError:Se,isStopped:et,observers:Pe}=this;return Se||et?ce.Lc:(this.currentObservers=null,Pe.push(le),new ce.w0(()=>{this.currentObservers=null,(0,de.P)(Pe,le)}))}_checkFinalizedStatuses(le){const{hasError:Se,thrownError:et,isStopped:Pe}=this;Se?le.error(et):Pe&&le.complete()}asObservable(){const le=new w.y;return le.source=this,le}}return Ee.create=(re,le)=>new He(re,le),Ee})();class He extends Oe{constructor(re,le){super(),this.destination=re,this.source=le}next(re){var le,Se;null===(Se=null===(le=this.destination)||void 0===le?void 0:le.next)||void 0===Se||Se.call(le,re)}error(re){var le,Se;null===(Se=null===(le=this.destination)||void 0===le?void 0:le.error)||void 0===Se||Se.call(le,re)}complete(){var re,le;null===(le=null===(re=this.destination)||void 0===re?void 0:re.complete)||void 0===le||le.call(re)}_subscribe(re){var le,Se;return null!==(Se=null===(le=this.source)||void 0===le?void 0:le.subscribe(re))&&void 0!==Se?Se:ce.Lc}}},305:(Gt,$e,Q)=>{Q.d($e,{Hp:()=>At,Lv:()=>Se});var w=Q(4674),ce=Q(7394),h=Q(2653),we=Q(3894),de=Q(2420);const fe=Ee("C",void 0,void 0);function Ee(mt,ot,vt){return{kind:mt,value:ot,error:vt}}var re=Q(7599),le=Q(1441);class Se extends ce.w0{constructor(ot){super(),this.isStopped=!1,ot?(this.destination=ot,(0,ce.Nn)(ot)&&ot.add(this)):this.destination=xt}static create(ot,vt,_t){return new At(ot,vt,_t)}next(ot){this.isStopped?An(function He(mt){return Ee("N",mt,void 0)}(ot),this):this._next(ot)}error(ot){this.isStopped?An(function Oe(mt){return Ee("E",void 0,mt)}(ot),this):(this.isStopped=!0,this._error(ot))}complete(){this.isStopped?An(fe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ot){this.destination.next(ot)}_error(ot){try{this.destination.error(ot)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const et=Function.prototype.bind;function Pe(mt,ot){return et.call(mt,ot)}class it{constructor(ot){this.partialObserver=ot}next(ot){const{partialObserver:vt}=this;if(vt.next)try{vt.next(ot)}catch(_t){Bt(_t)}}error(ot){const{partialObserver:vt}=this;if(vt.error)try{vt.error(ot)}catch(_t){Bt(_t)}else Bt(ot)}complete(){const{partialObserver:ot}=this;if(ot.complete)try{ot.complete()}catch(vt){Bt(vt)}}}class At extends Se{constructor(ot,vt,_t){let Ge;if(super(),(0,w.m)(ot)||!ot)Ge={next:ot??void 0,error:vt??void 0,complete:_t??void 0};else{let be;this&&h.config.useDeprecatedNextContext?(be=Object.create(ot),be.unsubscribe=()=>this.unsubscribe(),Ge={next:ot.next&&Pe(ot.next,be),error:ot.error&&Pe(ot.error,be),complete:ot.complete&&Pe(ot.complete,be)}):Ge=ot}this.destination=new it(Ge)}}function Bt(mt){h.config.useDeprecatedSynchronousErrorHandling?(0,le.O)(mt):(0,we.h)(mt)}function An(mt,ot){const{onStoppedNotification:vt}=h.config;vt&&re.z.setTimeout(()=>vt(mt,ot))}const xt={closed:!0,next:de.Z,error:function kt(mt){throw mt},complete:de.Z}},7394:(Gt,$e,Q)=>{Q.d($e,{Lc:()=>fe,w0:()=>de,Nn:()=>Oe});var w=Q(4674);const h=(0,Q(2306).d)(Ee=>function(le){Ee(this),this.message=le?`${le.length} errors occurred during unsubscription:\n${le.map((Se,et)=>`${et+1}) ${Se.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=le});var we=Q(9039);class de{constructor(re){this.initialTeardown=re,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let re;if(!this.closed){this.closed=!0;const{_parentage:le}=this;if(le)if(this._parentage=null,Array.isArray(le))for(const Pe of le)Pe.remove(this);else le.remove(this);const{initialTeardown:Se}=this;if((0,w.m)(Se))try{Se()}catch(Pe){re=Pe instanceof h?Pe.errors:[Pe]}const{_finalizers:et}=this;if(et){this._finalizers=null;for(const Pe of et)try{He(Pe)}catch(it){re=re??[],it instanceof h?re=[...re,...it.errors]:re.push(it)}}if(re)throw new h(re)}}add(re){var le;if(re&&re!==this)if(this.closed)He(re);else{if(re instanceof de){if(re.closed||re._hasParent(this))return;re._addParent(this)}(this._finalizers=null!==(le=this._finalizers)&&void 0!==le?le:[]).push(re)}}_hasParent(re){const{_parentage:le}=this;return le===re||Array.isArray(le)&&le.includes(re)}_addParent(re){const{_parentage:le}=this;this._parentage=Array.isArray(le)?(le.push(re),le):le?[le,re]:re}_removeParent(re){const{_parentage:le}=this;le===re?this._parentage=null:Array.isArray(le)&&(0,we.P)(le,re)}remove(re){const{_finalizers:le}=this;le&&(0,we.P)(le,re),re instanceof de&&re._removeParent(this)}}de.EMPTY=(()=>{const Ee=new de;return Ee.closed=!0,Ee})();const fe=de.EMPTY;function Oe(Ee){return Ee instanceof de||Ee&&"closed"in Ee&&(0,w.m)(Ee.remove)&&(0,w.m)(Ee.add)&&(0,w.m)(Ee.unsubscribe)}function He(Ee){(0,w.m)(Ee)?Ee():Ee.unsubscribe()}},2653:(Gt,$e,Q)=>{Q.d($e,{config:()=>w});const w={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},5211:(Gt,$e,Q)=>{Q.d($e,{z:()=>de});var w=Q(7537),h=Q(9940),we=Q(2459);function de(...fe){return function ce(){return(0,w.J)(1)}()((0,we.D)(fe,(0,h.yG)(fe)))}},6232:(Gt,$e,Q)=>{Q.d($e,{E:()=>ce});const ce=new(Q(5592).y)(de=>de.complete())},2459:(Gt,$e,Q)=>{Q.d($e,{D:()=>ot});var w=Q(4829),ce=Q(3093),h=Q(5137),fe=Q(5592),He=Q(4971),Ee=Q(4674),re=Q(7103);function Se(vt,_t){if(!vt)throw new Error("Iterable cannot be null");return new fe.y(Ge=>{(0,re.f)(Ge,_t,()=>{const be=vt[Symbol.asyncIterator]();(0,re.f)(Ge,_t,()=>{be.next().then(Ye=>{Ye.done?Ge.complete():Ge.next(Ye.value)})},0,!0)})})}var et=Q(8382),Pe=Q(4026),it=Q(4266),At=Q(3664),Bt=Q(5726),kt=Q(9853),An=Q(541);function ot(vt,_t){return _t?function mt(vt,_t){if(null!=vt){if((0,et.c)(vt))return function we(vt,_t){return(0,w.Xf)(vt).pipe((0,h.R)(_t),(0,ce.Q)(_t))}(vt,_t);if((0,it.z)(vt))return function Oe(vt,_t){return new fe.y(Ge=>{let be=0;return _t.schedule(function(){be===vt.length?Ge.complete():(Ge.next(vt[be++]),Ge.closed||this.schedule())})})}(vt,_t);if((0,Pe.t)(vt))return function de(vt,_t){return(0,w.Xf)(vt).pipe((0,h.R)(_t),(0,ce.Q)(_t))}(vt,_t);if((0,Bt.D)(vt))return Se(vt,_t);if((0,At.T)(vt))return function le(vt,_t){return new fe.y(Ge=>{let be;return(0,re.f)(Ge,_t,()=>{be=vt[He.h](),(0,re.f)(Ge,_t,()=>{let Ye,gt;try{({value:Ye,done:gt}=be.next())}catch(Mn){return void Ge.error(Mn)}gt?Ge.complete():Ge.next(Ye)},0,!0)}),()=>(0,Ee.m)(be?.return)&&be.return()})}(vt,_t);if((0,An.L)(vt))return function xt(vt,_t){return Se((0,An.Q)(vt),_t)}(vt,_t)}throw(0,kt.z)(vt)}(vt,_t):(0,w.Xf)(vt)}},4829:(Gt,$e,Q)=>{Q.d($e,{Xf:()=>et});var w=Q(7582),ce=Q(4266),h=Q(4026),we=Q(5592),de=Q(8382),fe=Q(5726),Oe=Q(9853),He=Q(3664),Ee=Q(541),re=Q(4674),le=Q(3894),Se=Q(4850);function et(mt){if(mt instanceof we.y)return mt;if(null!=mt){if((0,de.c)(mt))return function Pe(mt){return new we.y(ot=>{const vt=mt[Se.L]();if((0,re.m)(vt.subscribe))return vt.subscribe(ot);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(mt);if((0,ce.z)(mt))return function it(mt){return new we.y(ot=>{for(let vt=0;vt<mt.length&&!ot.closed;vt++)ot.next(mt[vt]);ot.complete()})}(mt);if((0,h.t)(mt))return function At(mt){return new we.y(ot=>{mt.then(vt=>{ot.closed||(ot.next(vt),ot.complete())},vt=>ot.error(vt)).then(null,le.h)})}(mt);if((0,fe.D)(mt))return kt(mt);if((0,He.T)(mt))return function Bt(mt){return new we.y(ot=>{for(const vt of mt)if(ot.next(vt),ot.closed)return;ot.complete()})}(mt);if((0,Ee.L)(mt))return function An(mt){return kt((0,Ee.Q)(mt))}(mt)}throw(0,Oe.z)(mt)}function kt(mt){return new we.y(ot=>{(function xt(mt,ot){var vt,_t,Ge,be;return(0,w.mG)(this,void 0,void 0,function*(){try{for(vt=(0,w.KL)(mt);!(_t=yield vt.next()).done;)if(ot.next(_t.value),ot.closed)return}catch(Ye){Ge={error:Ye}}finally{try{_t&&!_t.done&&(be=vt.return)&&(yield be.call(vt))}finally{if(Ge)throw Ge.error}}ot.complete()})})(mt,ot).catch(vt=>ot.error(vt))})}},3019:(Gt,$e,Q)=>{Q.d($e,{T:()=>fe});var w=Q(7537),ce=Q(4829),h=Q(6232),we=Q(9940),de=Q(2459);function fe(...Oe){const He=(0,we.yG)(Oe),Ee=(0,we._6)(Oe,1/0),re=Oe;return re.length?1===re.length?(0,ce.Xf)(re[0]):(0,w.J)(Ee)((0,de.D)(re,He)):h.E}},2096:(Gt,$e,Q)=>{Q.d($e,{of:()=>h});var w=Q(9940),ce=Q(2459);function h(...we){const de=(0,w.yG)(we);return(0,ce.D)(we,de)}},8251:(Gt,$e,Q)=>{Q.d($e,{x:()=>ce});var w=Q(305);function ce(we,de,fe,Oe,He){return new h(we,de,fe,Oe,He)}class h extends w.Lv{constructor(de,fe,Oe,He,Ee,re){super(de),this.onFinalize=Ee,this.shouldUnsubscribe=re,this._next=fe?function(le){try{fe(le)}catch(Se){de.error(Se)}}:super._next,this._error=He?function(le){try{He(le)}catch(Se){de.error(Se)}finally{this.unsubscribe()}}:super._error,this._complete=Oe?function(){try{Oe()}catch(le){de.error(le)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var de;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:fe}=this;super.unsubscribe(),!fe&&(null===(de=this.onFinalize)||void 0===de||de.call(this))}}}},3997:(Gt,$e,Q)=>{Q.d($e,{x:()=>we});var w=Q(2737),ce=Q(9360),h=Q(8251);function we(fe,Oe=w.y){return fe=fe??de,(0,ce.e)((He,Ee)=>{let re,le=!0;He.subscribe((0,h.x)(Ee,Se=>{const et=Oe(Se);(le||!fe(re,et))&&(le=!1,re=et,Ee.next(Se))}))})}function de(fe,Oe){return fe===Oe}},2181:(Gt,$e,Q)=>{Q.d($e,{h:()=>h});var w=Q(9360),ce=Q(8251);function h(we,de){return(0,w.e)((fe,Oe)=>{let He=0;fe.subscribe((0,ce.x)(Oe,Ee=>we.call(de,Ee,He++)&&Oe.next(Ee)))})}},7398:(Gt,$e,Q)=>{Q.d($e,{U:()=>h});var w=Q(9360),ce=Q(8251);function h(we,de){return(0,w.e)((fe,Oe)=>{let He=0;fe.subscribe((0,ce.x)(Oe,Ee=>{Oe.next(we.call(de,Ee,He++))}))})}},975:(Gt,$e,Q)=>{Q.d($e,{h:()=>ce});var w=Q(7398);function ce(h){return(0,w.U)(()=>h)}},7537:(Gt,$e,Q)=>{Q.d($e,{J:()=>h});var w=Q(1631),ce=Q(2737);function h(we=1/0){return(0,w.z)(ce.y,we)}},1631:(Gt,$e,Q)=>{Q.d($e,{z:()=>He});var w=Q(7398),ce=Q(4829),h=Q(9360),we=Q(7103),de=Q(8251),Oe=Q(4674);function He(Ee,re,le=1/0){return(0,Oe.m)(re)?He((Se,et)=>(0,w.U)((Pe,it)=>re(Se,Pe,et,it))((0,ce.Xf)(Ee(Se,et))),le):("number"==typeof re&&(le=re),(0,h.e)((Se,et)=>function fe(Ee,re,le,Se,et,Pe,it,At){const Bt=[];let kt=0,An=0,xt=!1;const mt=()=>{xt&&!Bt.length&&!kt&&re.complete()},ot=_t=>kt<Se?vt(_t):Bt.push(_t),vt=_t=>{Pe&&re.next(_t),kt++;let Ge=!1;(0,ce.Xf)(le(_t,An++)).subscribe((0,de.x)(re,be=>{et?.(be),Pe?ot(be):re.next(be)},()=>{Ge=!0},void 0,()=>{if(Ge)try{for(kt--;Bt.length&&kt<Se;){const be=Bt.shift();it?(0,we.f)(re,it,()=>vt(be)):vt(be)}mt()}catch(be){re.error(be)}}))};return Ee.subscribe((0,de.x)(re,ot,()=>{xt=!0,mt()})),()=>{At?.()}}(Se,et,Ee,le)))}},3093:(Gt,$e,Q)=>{Q.d($e,{Q:()=>we});var w=Q(7103),ce=Q(9360),h=Q(8251);function we(de,fe=0){return(0,ce.e)((Oe,He)=>{Oe.subscribe((0,h.x)(He,Ee=>(0,w.f)(He,de,()=>He.next(Ee),fe),()=>(0,w.f)(He,de,()=>He.complete(),fe),Ee=>(0,w.f)(He,de,()=>He.error(Ee),fe)))})}},7921:(Gt,$e,Q)=>{Q.d($e,{O:()=>we});var w=Q(5211),ce=Q(9940),h=Q(9360);function we(...de){const fe=(0,ce.yG)(de);return(0,h.e)((Oe,He)=>{(fe?(0,w.z)(de,Oe,fe):(0,w.z)(de,Oe)).subscribe(He)})}},5137:(Gt,$e,Q)=>{Q.d($e,{R:()=>ce});var w=Q(9360);function ce(h,we=0){return(0,w.e)((de,fe)=>{fe.add(h.schedule(()=>de.subscribe(fe),we))})}},4664:(Gt,$e,Q)=>{Q.d($e,{w:()=>we});var w=Q(4829),ce=Q(9360),h=Q(8251);function we(de,fe){return(0,ce.e)((Oe,He)=>{let Ee=null,re=0,le=!1;const Se=()=>le&&!Ee&&He.complete();Oe.subscribe((0,h.x)(He,et=>{Ee?.unsubscribe();let Pe=0;const it=re++;(0,w.Xf)(de(et,it)).subscribe(Ee=(0,h.x)(He,At=>He.next(fe?fe(et,At,it,Pe++):At),()=>{Ee=null,Se()}))},()=>{le=!0,Se()}))})}},8180:(Gt,$e,Q)=>{Q.d($e,{q:()=>we});var w=Q(6232),ce=Q(9360),h=Q(8251);function we(de){return de<=0?()=>w.E:(0,ce.e)((fe,Oe)=>{let He=0;fe.subscribe((0,h.x)(Oe,Ee=>{++He<=de&&(Oe.next(Ee),de<=He&&Oe.complete())}))})}},9773:(Gt,$e,Q)=>{Q.d($e,{R:()=>de});var w=Q(9360),ce=Q(8251),h=Q(4829),we=Q(2420);function de(fe){return(0,w.e)((Oe,He)=>{(0,h.Xf)(fe).subscribe((0,ce.x)(He,()=>He.complete(),we.Z)),!He.closed&&Oe.subscribe(He)})}},9397:(Gt,$e,Q)=>{Q.d($e,{b:()=>de});var w=Q(4674),ce=Q(9360),h=Q(8251),we=Q(2737);function de(fe,Oe,He){const Ee=(0,w.m)(fe)||Oe||He?{next:fe,error:Oe,complete:He}:fe;return Ee?(0,ce.e)((re,le)=>{var Se;null===(Se=Ee.subscribe)||void 0===Se||Se.call(Ee);let et=!0;re.subscribe((0,h.x)(le,Pe=>{var it;null===(it=Ee.next)||void 0===it||it.call(Ee,Pe),le.next(Pe)},()=>{var Pe;et=!1,null===(Pe=Ee.complete)||void 0===Pe||Pe.call(Ee),le.complete()},Pe=>{var it;et=!1,null===(it=Ee.error)||void 0===it||it.call(Ee,Pe),le.error(Pe)},()=>{var Pe,it;et&&(null===(Pe=Ee.unsubscribe)||void 0===Pe||Pe.call(Ee)),null===(it=Ee.finalize)||void 0===it||it.call(Ee)}))}):we.y}},1954:(Gt,$e,Q)=>{Q.d($e,{o:()=>de});var w=Q(7394);class ce extends w.w0{constructor(Oe,He){super()}schedule(Oe,He=0){return this}}const h={setInterval(fe,Oe,...He){const{delegate:Ee}=h;return Ee?.setInterval?Ee.setInterval(fe,Oe,...He):setInterval(fe,Oe,...He)},clearInterval(fe){const{delegate:Oe}=h;return(Oe?.clearInterval||clearInterval)(fe)},delegate:void 0};var we=Q(9039);class de extends ce{constructor(Oe,He){super(Oe,He),this.scheduler=Oe,this.work=He,this.pending=!1}schedule(Oe,He=0){var Ee;if(this.closed)return this;this.state=Oe;const re=this.id,le=this.scheduler;return null!=re&&(this.id=this.recycleAsyncId(le,re,He)),this.pending=!0,this.delay=He,this.id=null!==(Ee=this.id)&&void 0!==Ee?Ee:this.requestAsyncId(le,this.id,He),this}requestAsyncId(Oe,He,Ee=0){return h.setInterval(Oe.flush.bind(Oe,this),Ee)}recycleAsyncId(Oe,He,Ee=0){if(null!=Ee&&this.delay===Ee&&!1===this.pending)return He;null!=He&&h.clearInterval(He)}execute(Oe,He){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ee=this._execute(Oe,He);if(Ee)return Ee;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Oe,He){let re,Ee=!1;try{this.work(Oe)}catch(le){Ee=!0,re=le||new Error("Scheduled action threw falsy error")}if(Ee)return this.unsubscribe(),re}unsubscribe(){if(!this.closed){const{id:Oe,scheduler:He}=this,{actions:Ee}=He;this.work=this.state=this.scheduler=null,this.pending=!1,(0,we.P)(Ee,this),null!=Oe&&(this.id=this.recycleAsyncId(He,Oe,null)),this.delay=null,super.unsubscribe()}}}},9931:(Gt,$e,Q)=>{Q.d($e,{v:()=>h});const w={now:()=>(w.delegate||Date).now(),delegate:void 0};class ce{constructor(de,fe=ce.now){this.schedulerActionCtor=de,this.now=fe}schedule(de,fe=0,Oe){return new this.schedulerActionCtor(this,de).schedule(Oe,fe)}}ce.now=w.now;class h extends ce{constructor(de,fe=ce.now){super(de,fe),this.actions=[],this._active=!1}flush(de){const{actions:fe}=this;if(this._active)return void fe.push(de);let Oe;this._active=!0;do{if(Oe=de.execute(de.state,de.delay))break}while(de=fe.shift());if(this._active=!1,Oe){for(;de=fe.shift();)de.unsubscribe();throw Oe}}}},6321:(Gt,$e,Q)=>{Q.d($e,{P:()=>we,z:()=>h});var w=Q(1954);const h=new(Q(9931).v)(w.o),we=h},7599:(Gt,$e,Q)=>{Q.d($e,{z:()=>w});const w={setTimeout(ce,h,...we){const{delegate:de}=w;return de?.setTimeout?de.setTimeout(ce,h,...we):setTimeout(ce,h,...we)},clearTimeout(ce){const{delegate:h}=w;return(h?.clearTimeout||clearTimeout)(ce)},delegate:void 0}},4971:(Gt,$e,Q)=>{Q.d($e,{h:()=>ce});const ce=function w(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Gt,$e,Q)=>{Q.d($e,{L:()=>w});const w="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(Gt,$e,Q)=>{Q.d($e,{K:()=>ce});const ce=(0,Q(2306).d)(h=>function(){h(this),this.name="EmptyError",this.message="no elements in sequence"})},9940:(Gt,$e,Q)=>{Q.d($e,{_6:()=>fe,jO:()=>we,yG:()=>de});var w=Q(4674),ce=Q(671);function h(Oe){return Oe[Oe.length-1]}function we(Oe){return(0,w.m)(h(Oe))?Oe.pop():void 0}function de(Oe){return(0,ce.K)(h(Oe))?Oe.pop():void 0}function fe(Oe,He){return"number"==typeof h(Oe)?Oe.pop():He}},7453:(Gt,$e,Q)=>{Q.d($e,{D:()=>de});const{isArray:w}=Array,{getPrototypeOf:ce,prototype:h,keys:we}=Object;function de(Oe){if(1===Oe.length){const He=Oe[0];if(w(He))return{args:He,keys:null};if(function fe(Oe){return Oe&&"object"==typeof Oe&&ce(Oe)===h}(He)){const Ee=we(He);return{args:Ee.map(re=>He[re]),keys:Ee}}}return{args:Oe,keys:null}}},9039:(Gt,$e,Q)=>{function w(ce,h){if(ce){const we=ce.indexOf(h);0<=we&&ce.splice(we,1)}}Q.d($e,{P:()=>w})},2306:(Gt,$e,Q)=>{function w(ce){const we=ce(de=>{Error.call(de),de.stack=(new Error).stack});return we.prototype=Object.create(Error.prototype),we.prototype.constructor=we,we}Q.d($e,{d:()=>w})},2714:(Gt,$e,Q)=>{function w(ce,h){return ce.reduce((we,de,fe)=>(we[de]=h[fe],we),{})}Q.d($e,{n:()=>w})},1441:(Gt,$e,Q)=>{Q.d($e,{O:()=>we,x:()=>h});var w=Q(2653);let ce=null;function h(de){if(w.config.useDeprecatedSynchronousErrorHandling){const fe=!ce;if(fe&&(ce={errorThrown:!1,error:null}),de(),fe){const{errorThrown:Oe,error:He}=ce;if(ce=null,Oe)throw He}}else de()}function we(de){w.config.useDeprecatedSynchronousErrorHandling&&ce&&(ce.errorThrown=!0,ce.error=de)}},7103:(Gt,$e,Q)=>{function w(ce,h,we,de=0,fe=!1){const Oe=h.schedule(function(){we(),fe?ce.add(this.schedule(null,de)):this.unsubscribe()},de);if(ce.add(Oe),!fe)return Oe}Q.d($e,{f:()=>w})},2737:(Gt,$e,Q)=>{function w(ce){return ce}Q.d($e,{y:()=>w})},4266:(Gt,$e,Q)=>{Q.d($e,{z:()=>w});const w=ce=>ce&&"number"==typeof ce.length&&"function"!=typeof ce},5726:(Gt,$e,Q)=>{Q.d($e,{D:()=>ce});var w=Q(4674);function ce(h){return Symbol.asyncIterator&&(0,w.m)(h?.[Symbol.asyncIterator])}},4674:(Gt,$e,Q)=>{function w(ce){return"function"==typeof ce}Q.d($e,{m:()=>w})},8382:(Gt,$e,Q)=>{Q.d($e,{c:()=>h});var w=Q(4850),ce=Q(4674);function h(we){return(0,ce.m)(we[w.L])}},3664:(Gt,$e,Q)=>{Q.d($e,{T:()=>h});var w=Q(4971),ce=Q(4674);function h(we){return(0,ce.m)(we?.[w.h])}},4026:(Gt,$e,Q)=>{Q.d($e,{t:()=>ce});var w=Q(4674);function ce(h){return(0,w.m)(h?.then)}},541:(Gt,$e,Q)=>{Q.d($e,{L:()=>we,Q:()=>h});var w=Q(7582),ce=Q(4674);function h(de){return(0,w.FC)(this,arguments,function*(){const Oe=de.getReader();try{for(;;){const{value:He,done:Ee}=yield(0,w.qq)(Oe.read());if(Ee)return yield(0,w.qq)(void 0);yield yield(0,w.qq)(He)}}finally{Oe.releaseLock()}})}function we(de){return(0,ce.m)(de?.getReader)}},671:(Gt,$e,Q)=>{Q.d($e,{K:()=>ce});var w=Q(4674);function ce(h){return h&&(0,w.m)(h.schedule)}},9360:(Gt,$e,Q)=>{Q.d($e,{A:()=>ce,e:()=>h});var w=Q(4674);function ce(we){return(0,w.m)(we?.lift)}function h(we){return de=>{if(ce(de))return de.lift(function(fe){try{return we(fe,this)}catch(Oe){this.error(Oe)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(Gt,$e,Q)=>{Q.d($e,{Z:()=>we});var w=Q(7398);const{isArray:ce}=Array;function we(de){return(0,w.U)(fe=>function h(de,fe){return ce(fe)?de(...fe):de(fe)}(de,fe))}},2420:(Gt,$e,Q)=>{function w(){}Q.d($e,{Z:()=>w})},8407:(Gt,$e,Q)=>{Q.d($e,{U:()=>h,z:()=>ce});var w=Q(2737);function ce(...we){return h(we)}function h(we){return 0===we.length?w.y:1===we.length?we[0]:function(fe){return we.reduce((Oe,He)=>He(Oe),fe)}}},3894:(Gt,$e,Q)=>{Q.d($e,{h:()=>h});var w=Q(2653),ce=Q(7599);function h(we){ce.z.setTimeout(()=>{const{onUnhandledError:de}=w.config;if(!de)throw we;de(we)})}},9853:(Gt,$e,Q)=>{function w(ce){return new TypeError(`You provided ${null!==ce&&"object"==typeof ce?"an invalid object":`'${ce}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}Q.d($e,{z:()=>w})},6814:(Gt,$e,Q)=>{Q.d($e,{Do:()=>At,EM:()=>hc,HT:()=>we,JF:()=>Ks,K0:()=>fe,Mn:()=>En,Mx:()=>$s,O5:()=>ws,PM:()=>di,S$:()=>et,Tn:()=>be,UT:()=>Ln,V_:()=>He,Ye:()=>Bt,ax:()=>Ps,b0:()=>it,bD:()=>Li,ez:()=>Or,p6:()=>Kn,q:()=>h,sg:()=>Ps,tP:()=>qs,uU:()=>co,w_:()=>de,x:()=>Ge});var w=Q(9468);let ce=null;function h(){return ce}function we(O){ce||(ce=O)}class de{}const fe=new w.OlP("DocumentToken");let Oe=(()=>{class O{historyGo(U){throw new Error("Not implemented")}static#e=this.\u0275fac=function(X){return new(X||O)};static#t=this.\u0275prov=w.Yz7({token:O,factory:function(){return(0,w.f3M)(Ee)},providedIn:"platform"})}return O})();const He=new w.OlP("Location Initialized");let Ee=(()=>{class O extends Oe{constructor(){super(),this._doc=(0,w.f3M)(fe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return h().getBaseHref(this._doc)}onPopState(U){const X=h().getGlobalEventTarget(this._doc,"window");return X.addEventListener("popstate",U,!1),()=>X.removeEventListener("popstate",U)}onHashChange(U){const X=h().getGlobalEventTarget(this._doc,"window");return X.addEventListener("hashchange",U,!1),()=>X.removeEventListener("hashchange",U)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(U){this._location.pathname=U}pushState(U,X,ye){this._history.pushState(U,X,ye)}replaceState(U,X,ye){this._history.replaceState(U,X,ye)}forward(){this._history.forward()}back(){this._history.back()}historyGo(U=0){this._history.go(U)}getState(){return this._history.state}static#e=this.\u0275fac=function(X){return new(X||O)};static#t=this.\u0275prov=w.Yz7({token:O,factory:function(){return new O},providedIn:"platform"})}return O})();function re(O,ne){if(0==O.length)return ne;if(0==ne.length)return O;let U=0;return O.endsWith("/")&&U++,ne.startsWith("/")&&U++,2==U?O+ne.substring(1):1==U?O+ne:O+"/"+ne}function le(O){const ne=O.match(/#|\?|$/),U=ne&&ne.index||O.length;return O.slice(0,U-("/"===O[U-1]?1:0))+O.slice(U)}function Se(O){return O&&"?"!==O[0]?"?"+O:O}let et=(()=>{class O{historyGo(U){throw new Error("Not implemented")}static#e=this.\u0275fac=function(X){return new(X||O)};static#t=this.\u0275prov=w.Yz7({token:O,factory:function(){return(0,w.f3M)(it)},providedIn:"root"})}return O})();const Pe=new w.OlP("appBaseHref");let it=(()=>{class O extends et{constructor(U,X){super(),this._platformLocation=U,this._removeListenerFns=[],this._baseHref=X??this._platformLocation.getBaseHrefFromDOM()??(0,w.f3M)(fe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(U){this._removeListenerFns.push(this._platformLocation.onPopState(U),this._platformLocation.onHashChange(U))}getBaseHref(){return this._baseHref}prepareExternalUrl(U){return re(this._baseHref,U)}path(U=!1){const X=this._platformLocation.pathname+Se(this._platformLocation.search),ye=this._platformLocation.hash;return ye&&U?`${X}${ye}`:X}pushState(U,X,ye,qe){const ft=this.prepareExternalUrl(ye+Se(qe));this._platformLocation.pushState(U,X,ft)}replaceState(U,X,ye,qe){const ft=this.prepareExternalUrl(ye+Se(qe));this._platformLocation.replaceState(U,X,ft)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(U=0){this._platformLocation.historyGo?.(U)}static#e=this.\u0275fac=function(X){return new(X||O)(w.LFG(Oe),w.LFG(Pe,8))};static#t=this.\u0275prov=w.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"})}return O})(),At=(()=>{class O extends et{constructor(U,X){super(),this._platformLocation=U,this._baseHref="",this._removeListenerFns=[],null!=X&&(this._baseHref=X)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(U){this._removeListenerFns.push(this._platformLocation.onPopState(U),this._platformLocation.onHashChange(U))}getBaseHref(){return this._baseHref}path(U=!1){let X=this._platformLocation.hash;return null==X&&(X="#"),X.length>0?X.substring(1):X}prepareExternalUrl(U){const X=re(this._baseHref,U);return X.length>0?"#"+X:X}pushState(U,X,ye,qe){let ft=this.prepareExternalUrl(ye+Se(qe));0==ft.length&&(ft=this._platformLocation.pathname),this._platformLocation.pushState(U,X,ft)}replaceState(U,X,ye,qe){let ft=this.prepareExternalUrl(ye+Se(qe));0==ft.length&&(ft=this._platformLocation.pathname),this._platformLocation.replaceState(U,X,ft)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(U=0){this._platformLocation.historyGo?.(U)}static#e=this.\u0275fac=function(X){return new(X||O)(w.LFG(Oe),w.LFG(Pe,8))};static#t=this.\u0275prov=w.Yz7({token:O,factory:O.\u0275fac})}return O})(),Bt=(()=>{class O{constructor(U){this._subject=new w.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=U;const X=this._locationStrategy.getBaseHref();this._basePath=function mt(O){if(new RegExp("^(https?:)?//").test(O)){const[,U]=O.split(/\/\/[^\/]+/);return U}return O}(le(xt(X))),this._locationStrategy.onPopState(ye=>{this._subject.emit({url:this.path(!0),pop:!0,state:ye.state,type:ye.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(U=!1){return this.normalize(this._locationStrategy.path(U))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(U,X=""){return this.path()==this.normalize(U+Se(X))}normalize(U){return O.stripTrailingSlash(function An(O,ne){if(!O||!ne.startsWith(O))return ne;const U=ne.substring(O.length);return""===U||["/",";","?","#"].includes(U[0])?U:ne}(this._basePath,xt(U)))}prepareExternalUrl(U){return U&&"/"!==U[0]&&(U="/"+U),this._locationStrategy.prepareExternalUrl(U)}go(U,X="",ye=null){this._locationStrategy.pushState(ye,"",U,X),this._notifyUrlChangeListeners(this.prepareExternalUrl(U+Se(X)),ye)}replaceState(U,X="",ye=null){this._locationStrategy.replaceState(ye,"",U,X),this._notifyUrlChangeListeners(this.prepareExternalUrl(U+Se(X)),ye)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(U=0){this._locationStrategy.historyGo?.(U)}onUrlChange(U){return this._urlChangeListeners.push(U),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(X=>{this._notifyUrlChangeListeners(X.url,X.state)})),()=>{const X=this._urlChangeListeners.indexOf(U);this._urlChangeListeners.splice(X,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(U="",X){this._urlChangeListeners.forEach(ye=>ye(U,X))}subscribe(U,X,ye){return this._subject.subscribe({next:U,error:X,complete:ye})}static#e=this.normalizeQueryParams=Se;static#t=this.joinWithSlash=re;static#n=this.stripTrailingSlash=le;static#r=this.\u0275fac=function(X){return new(X||O)(w.LFG(et))};static#i=this.\u0275prov=w.Yz7({token:O,factory:function(){return function kt(){return new Bt((0,w.LFG)(et))}()},providedIn:"root"})}return O})();function xt(O){return O.replace(/\/index.html$/,"")}var Ge=function(O){return O[O.Format=0]="Format",O[O.Standalone=1]="Standalone",O}(Ge||{}),be=function(O){return O[O.Narrow=0]="Narrow",O[O.Abbreviated=1]="Abbreviated",O[O.Wide=2]="Wide",O[O.Short=3]="Short",O}(be||{}),Ye=function(O){return O[O.Short=0]="Short",O[O.Medium=1]="Medium",O[O.Long=2]="Long",O[O.Full=3]="Full",O}(Ye||{}),gt=function(O){return O[O.Decimal=0]="Decimal",O[O.Group=1]="Group",O[O.List=2]="List",O[O.PercentSign=3]="PercentSign",O[O.PlusSign=4]="PlusSign",O[O.MinusSign=5]="MinusSign",O[O.Exponential=6]="Exponential",O[O.SuperscriptingExponent=7]="SuperscriptingExponent",O[O.PerMille=8]="PerMille",O[O.Infinity=9]="Infinity",O[O.NaN=10]="NaN",O[O.TimeSeparator=11]="TimeSeparator",O[O.CurrencyDecimal=12]="CurrencyDecimal",O[O.CurrencyGroup=13]="CurrencyGroup",O}(gt||{});function En(O,ne,U){const X=(0,w.cg1)(O),qe=De([X[w.wAp.DaysFormat],X[w.wAp.DaysStandalone]],ne);return De(qe,U)}function Ln(O,ne,U){const X=(0,w.cg1)(O),qe=De([X[w.wAp.MonthsFormat],X[w.wAp.MonthsStandalone]],ne);return De(qe,U)}function je(O,ne){return De((0,w.cg1)(O)[w.wAp.DateFormat],ne)}function Qe(O,ne){return De((0,w.cg1)(O)[w.wAp.TimeFormat],ne)}function Ve(O,ne){return De((0,w.cg1)(O)[w.wAp.DateTimeFormat],ne)}function nt(O,ne){const U=(0,w.cg1)(O),X=U[w.wAp.NumberSymbols][ne];if(typeof X>"u"){if(ne===gt.CurrencyDecimal)return U[w.wAp.NumberSymbols][gt.Decimal];if(ne===gt.CurrencyGroup)return U[w.wAp.NumberSymbols][gt.Group]}return X}function Dt(O){if(!O[w.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${O[w.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function De(O,ne){for(let U=ne;U>-1;U--)if(typeof O[U]<"u")return O[U];throw new Error("Locale data API: locale data undefined")}function xe(O){const[ne,U]=O.split(":");return{hours:+ne,minutes:+U}}const St=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,yr={},Dn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var on=function(O){return O[O.Short=0]="Short",O[O.ShortGMT=1]="ShortGMT",O[O.Long=2]="Long",O[O.Extended=3]="Extended",O}(on||{}),Yt=function(O){return O[O.FullYear=0]="FullYear",O[O.Month=1]="Month",O[O.Date=2]="Date",O[O.Hours=3]="Hours",O[O.Minutes=4]="Minutes",O[O.Seconds=5]="Seconds",O[O.FractionalSeconds=6]="FractionalSeconds",O[O.Day=7]="Day",O}(Yt||{}),wn=function(O){return O[O.DayPeriods=0]="DayPeriods",O[O.Days=1]="Days",O[O.Months=2]="Months",O[O.Eras=3]="Eras",O}(wn||{});function Kn(O,ne,U,X){let ye=function V(O){if(W(O))return O;if("number"==typeof O&&!isNaN(O))return new Date(O);if("string"==typeof O){if(O=O.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(O)){const[ye,qe=1,ft=1]=O.split("-").map(gn=>+gn);return tn(ye,qe-1,ft)}const U=parseFloat(O);if(!isNaN(O-U))return new Date(U);let X;if(X=O.match(St))return function G(O){const ne=new Date(0);let U=0,X=0;const ye=O[8]?ne.setUTCFullYear:ne.setFullYear,qe=O[8]?ne.setUTCHours:ne.setHours;O[9]&&(U=Number(O[9]+O[10]),X=Number(O[9]+O[11])),ye.call(ne,Number(O[1]),Number(O[2])-1,Number(O[3]));const ft=Number(O[4]||0)-U,gn=Number(O[5]||0)-X,ur=Number(O[6]||0),Lr=Math.floor(1e3*parseFloat("0."+(O[7]||0)));return qe.call(ne,ft,gn,ur,Lr),ne}(X)}const ne=new Date(O);if(!W(ne))throw new Error(`Unable to convert "${O}" into a date`);return ne}(O);ne=Cr(U,ne)||ne;let gn,ft=[];for(;ne;){if(gn=Dn.exec(ne),!gn){ft.push(ne);break}{ft=ft.concat(gn.slice(1));const or=ft.pop();if(!or)break;ne=or}}let ur=ye.getTimezoneOffset();X&&(ur=Jt(X,ur),ye=function K(O,ne,U){const X=U?-1:1,ye=O.getTimezoneOffset();return function Gn(O,ne){return(O=new Date(O.getTime())).setMinutes(O.getMinutes()+ne),O}(O,X*(Jt(ne,ye)-ye))}(ye,X,!0));let Lr="";return ft.forEach(or=>{const $n=function Qt(O){if(It[O])return It[O];let ne;switch(O){case"G":case"GG":case"GGG":ne=Hn(wn.Eras,be.Abbreviated);break;case"GGGG":ne=Hn(wn.Eras,be.Wide);break;case"GGGGG":ne=Hn(wn.Eras,be.Narrow);break;case"y":ne=Wn(Yt.FullYear,1,0,!1,!0);break;case"yy":ne=Wn(Yt.FullYear,2,0,!0,!0);break;case"yyy":ne=Wn(Yt.FullYear,3,0,!1,!0);break;case"yyyy":ne=Wn(Yt.FullYear,4,0,!1,!0);break;case"Y":ne=Ke(1);break;case"YY":ne=Ke(2,!0);break;case"YYY":ne=Ke(3);break;case"YYYY":ne=Ke(4);break;case"M":case"L":ne=Wn(Yt.Month,1,1);break;case"MM":case"LL":ne=Wn(Yt.Month,2,1);break;case"MMM":ne=Hn(wn.Months,be.Abbreviated);break;case"MMMM":ne=Hn(wn.Months,be.Wide);break;case"MMMMM":ne=Hn(wn.Months,be.Narrow);break;case"LLL":ne=Hn(wn.Months,be.Abbreviated,Ge.Standalone);break;case"LLLL":ne=Hn(wn.Months,be.Wide,Ge.Standalone);break;case"LLLLL":ne=Hn(wn.Months,be.Narrow,Ge.Standalone);break;case"w":ne=Ce(1);break;case"ww":ne=Ce(2);break;case"W":ne=Ce(1,!0);break;case"d":ne=Wn(Yt.Date,1);break;case"dd":ne=Wn(Yt.Date,2);break;case"c":case"cc":ne=Wn(Yt.Day,1);break;case"ccc":ne=Hn(wn.Days,be.Abbreviated,Ge.Standalone);break;case"cccc":ne=Hn(wn.Days,be.Wide,Ge.Standalone);break;case"ccccc":ne=Hn(wn.Days,be.Narrow,Ge.Standalone);break;case"cccccc":ne=Hn(wn.Days,be.Short,Ge.Standalone);break;case"E":case"EE":case"EEE":ne=Hn(wn.Days,be.Abbreviated);break;case"EEEE":ne=Hn(wn.Days,be.Wide);break;case"EEEEE":ne=Hn(wn.Days,be.Narrow);break;case"EEEEEE":ne=Hn(wn.Days,be.Short);break;case"a":case"aa":case"aaa":ne=Hn(wn.DayPeriods,be.Abbreviated);break;case"aaaa":ne=Hn(wn.DayPeriods,be.Wide);break;case"aaaaa":ne=Hn(wn.DayPeriods,be.Narrow);break;case"b":case"bb":case"bbb":ne=Hn(wn.DayPeriods,be.Abbreviated,Ge.Standalone,!0);break;case"bbbb":ne=Hn(wn.DayPeriods,be.Wide,Ge.Standalone,!0);break;case"bbbbb":ne=Hn(wn.DayPeriods,be.Narrow,Ge.Standalone,!0);break;case"B":case"BB":case"BBB":ne=Hn(wn.DayPeriods,be.Abbreviated,Ge.Format,!0);break;case"BBBB":ne=Hn(wn.DayPeriods,be.Wide,Ge.Format,!0);break;case"BBBBB":ne=Hn(wn.DayPeriods,be.Narrow,Ge.Format,!0);break;case"h":ne=Wn(Yt.Hours,1,-12);break;case"hh":ne=Wn(Yt.Hours,2,-12);break;case"H":ne=Wn(Yt.Hours,1);break;case"HH":ne=Wn(Yt.Hours,2);break;case"m":ne=Wn(Yt.Minutes,1);break;case"mm":ne=Wn(Yt.Minutes,2);break;case"s":ne=Wn(Yt.Seconds,1);break;case"ss":ne=Wn(Yt.Seconds,2);break;case"S":ne=Wn(Yt.FractionalSeconds,1);break;case"SS":ne=Wn(Yt.FractionalSeconds,2);break;case"SSS":ne=Wn(Yt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":ne=Nn(on.Short);break;case"ZZZZZ":ne=Nn(on.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":ne=Nn(on.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":ne=Nn(on.Long);break;default:return null}return It[O]=ne,ne}(or);Lr+=$n?$n(ye,U,ur):"''"===or?"'":or.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Lr}function tn(O,ne,U){const X=new Date(0);return X.setFullYear(O,ne,U),X.setHours(0,0,0),X}function Cr(O,ne){const U=function ht(O){return(0,w.cg1)(O)[w.wAp.LocaleId]}(O);if(yr[U]=yr[U]||{},yr[U][ne])return yr[U][ne];let X="";switch(ne){case"shortDate":X=je(O,Ye.Short);break;case"mediumDate":X=je(O,Ye.Medium);break;case"longDate":X=je(O,Ye.Long);break;case"fullDate":X=je(O,Ye.Full);break;case"shortTime":X=Qe(O,Ye.Short);break;case"mediumTime":X=Qe(O,Ye.Medium);break;case"longTime":X=Qe(O,Ye.Long);break;case"fullTime":X=Qe(O,Ye.Full);break;case"short":const ye=Cr(O,"shortTime"),qe=Cr(O,"shortDate");X=vr(Ve(O,Ye.Short),[ye,qe]);break;case"medium":const ft=Cr(O,"mediumTime"),gn=Cr(O,"mediumDate");X=vr(Ve(O,Ye.Medium),[ft,gn]);break;case"long":const ur=Cr(O,"longTime"),Lr=Cr(O,"longDate");X=vr(Ve(O,Ye.Long),[ur,Lr]);break;case"full":const or=Cr(O,"fullTime"),$n=Cr(O,"fullDate");X=vr(Ve(O,Ye.Full),[or,$n])}return X&&(yr[U][ne]=X),X}function vr(O,ne){return ne&&(O=O.replace(/\{([^}]+)}/g,function(U,X){return null!=ne&&X in ne?ne[X]:U})),O}function mn(O,ne,U="-",X,ye){let qe="";(O<0||ye&&O<=0)&&(ye?O=1-O:(O=-O,qe=U));let ft=String(O);for(;ft.length<ne;)ft="0"+ft;return X&&(ft=ft.slice(ft.length-ne)),qe+ft}function Wn(O,ne,U=0,X=!1,ye=!1){return function(qe,ft){let gn=function ir(O,ne){switch(O){case Yt.FullYear:return ne.getFullYear();case Yt.Month:return ne.getMonth();case Yt.Date:return ne.getDate();case Yt.Hours:return ne.getHours();case Yt.Minutes:return ne.getMinutes();case Yt.Seconds:return ne.getSeconds();case Yt.FractionalSeconds:return ne.getMilliseconds();case Yt.Day:return ne.getDay();default:throw new Error(`Unknown DateType value "${O}".`)}}(O,qe);if((U>0||gn>-U)&&(gn+=U),O===Yt.Hours)0===gn&&-12===U&&(gn=12);else if(O===Yt.FractionalSeconds)return function rr(O,ne){return mn(O,3).substring(0,ne)}(gn,ne);const ur=nt(ft,gt.MinusSign);return mn(gn,ne,ur,X,ye)}}function Hn(O,ne,U=Ge.Format,X=!1){return function(ye,qe){return function gi(O,ne,U,X,ye,qe){switch(U){case wn.Months:return Ln(ne,ye,X)[O.getMonth()];case wn.Days:return En(ne,ye,X)[O.getDay()];case wn.DayPeriods:const ft=O.getHours(),gn=O.getMinutes();if(qe){const Lr=function jn(O){const ne=(0,w.cg1)(O);return Dt(ne),(ne[w.wAp.ExtraData][2]||[]).map(X=>"string"==typeof X?xe(X):[xe(X[0]),xe(X[1])])}(ne),or=function pr(O,ne,U){const X=(0,w.cg1)(O);Dt(X);const qe=De([X[w.wAp.ExtraData][0],X[w.wAp.ExtraData][1]],ne)||[];return De(qe,U)||[]}(ne,ye,X),$n=Lr.findIndex(Br=>{if(Array.isArray(Br)){const[ei,Hr]=Br,is=ft>=ei.hours&&gn>=ei.minutes,ss=ft<Hr.hours||ft===Hr.hours&&gn<Hr.minutes;if(ei.hours<Hr.hours){if(is&&ss)return!0}else if(is||ss)return!0}else if(Br.hours===ft&&Br.minutes===gn)return!0;return!1});if(-1!==$n)return or[$n]}return function fn(O,ne,U){const X=(0,w.cg1)(O),qe=De([X[w.wAp.DayPeriodsFormat],X[w.wAp.DayPeriodsStandalone]],ne);return De(qe,U)}(ne,ye,X)[ft<12?0:1];case wn.Eras:return function Xn(O,ne){return De((0,w.cg1)(O)[w.wAp.Eras],ne)}(ne,X)[O.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${U}`)}}(ye,qe,O,ne,U,X)}}function Nn(O){return function(ne,U,X){const ye=-1*X,qe=nt(U,gt.MinusSign),ft=ye>0?Math.floor(ye/60):Math.ceil(ye/60);switch(O){case on.Short:return(ye>=0?"+":"")+mn(ft,2,qe)+mn(Math.abs(ye%60),2,qe);case on.ShortGMT:return"GMT"+(ye>=0?"+":"")+mn(ft,1,qe);case on.Long:return"GMT"+(ye>=0?"+":"")+mn(ft,2,qe)+":"+mn(Math.abs(ye%60),2,qe);case on.Extended:return 0===X?"Z":(ye>=0?"+":"")+mn(ft,2,qe)+":"+mn(Math.abs(ye%60),2,qe);default:throw new Error(`Unknown zone width "${O}"`)}}}const Yn=0,Nr=4;function tt(O){return tn(O.getFullYear(),O.getMonth(),O.getDate()+(Nr-O.getDay()))}function Ce(O,ne=!1){return function(U,X){let ye;if(ne){const qe=new Date(U.getFullYear(),U.getMonth(),1).getDay()-1,ft=U.getDate();ye=1+Math.floor((ft+qe)/7)}else{const qe=tt(U),ft=function mi(O){const ne=tn(O,Yn,1).getDay();return tn(O,0,1+(ne<=Nr?Nr:Nr+7)-ne)}(qe.getFullYear()),gn=qe.getTime()-ft.getTime();ye=1+Math.round(gn/6048e5)}return mn(ye,O,nt(X,gt.MinusSign))}}function Ke(O,ne=!1){return function(U,X){return mn(tt(U).getFullYear(),O,nt(X,gt.MinusSign),ne)}}const It={};function Jt(O,ne){O=O.replace(/:/g,"");const U=Date.parse("Jan 01, 1970 00:00:00 "+O)/6e4;return isNaN(U)?ne:U}function W(O){return O instanceof Date&&!isNaN(O.valueOf())}function $s(O,ne){ne=encodeURIComponent(ne);for(const U of O.split(";")){const X=U.indexOf("="),[ye,qe]=-1==X?[U,""]:[U.slice(0,X),U.slice(X+1)];if(ye.trim()===ne)return decodeURIComponent(qe)}return null}class ci{constructor(ne,U,X,ye){this.$implicit=ne,this.ngForOf=U,this.index=X,this.count=ye}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ps=(()=>{class O{set ngForOf(U){this._ngForOf=U,this._ngForOfDirty=!0}set ngForTrackBy(U){this._trackByFn=U}get ngForTrackBy(){return this._trackByFn}constructor(U,X,ye){this._viewContainer=U,this._template=X,this._differs=ye,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(U){U&&(this._template=U)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const U=this._ngForOf;!this._differ&&U&&(this._differ=this._differs.find(U).create(this.ngForTrackBy))}if(this._differ){const U=this._differ.diff(this._ngForOf);U&&this._applyChanges(U)}}_applyChanges(U){const X=this._viewContainer;U.forEachOperation((ye,qe,ft)=>{if(null==ye.previousIndex)X.createEmbeddedView(this._template,new ci(ye.item,this._ngForOf,-1,-1),null===ft?void 0:ft);else if(null==ft)X.remove(null===qe?void 0:qe);else if(null!==qe){const gn=X.get(qe);X.move(gn,ft),ts(gn,ye)}});for(let ye=0,qe=X.length;ye<qe;ye++){const gn=X.get(ye).context;gn.index=ye,gn.count=qe,gn.ngForOf=this._ngForOf}U.forEachIdentityChange(ye=>{ts(X.get(ye.currentIndex),ye)})}static ngTemplateContextGuard(U,X){return!0}static#e=this.\u0275fac=function(X){return new(X||O)(w.Y36(w.s_b),w.Y36(w.Rgc),w.Y36(w.ZZ4))};static#t=this.\u0275dir=w.lG2({type:O,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return O})();function ts(O,ne){O.context.$implicit=ne.item}let ws=(()=>{class O{constructor(U,X){this._viewContainer=U,this._context=new lc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=X}set ngIf(U){this._context.$implicit=this._context.ngIf=U,this._updateView()}set ngIfThen(U){_i("ngIfThen",U),this._thenTemplateRef=U,this._thenViewRef=null,this._updateView()}set ngIfElse(U){_i("ngIfElse",U),this._elseTemplateRef=U,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(U,X){return!0}static#e=this.\u0275fac=function(X){return new(X||O)(w.Y36(w.s_b),w.Y36(w.Rgc))};static#t=this.\u0275dir=w.lG2({type:O,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return O})();class lc{constructor(){this.$implicit=null,this.ngIf=null}}function _i(O,ne){if(ne&&!ne.createEmbeddedView)throw new Error(`${O} must be a TemplateRef, but received '${(0,w.AaK)(ne)}'.`)}let qs=(()=>{class O{constructor(U){this._viewContainerRef=U,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(U){if(U.ngTemplateOutlet||U.ngTemplateOutletInjector){const X=this._viewContainerRef;if(this._viewRef&&X.remove(X.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:ye,ngTemplateOutletContext:qe,ngTemplateOutletInjector:ft}=this;this._viewRef=X.createEmbeddedView(ye,qe,ft?{injector:ft}:void 0)}else this._viewRef=null}else this._viewRef&&U.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(X){return new(X||O)(w.Y36(w.s_b))};static#t=this.\u0275dir=w.lG2({type:O,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[w.TTD]})}return O})();const Ko=new w.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Fs=new w.OlP("DATE_PIPE_DEFAULT_OPTIONS");let co=(()=>{class O{constructor(U,X,ye){this.locale=U,this.defaultTimezone=X,this.defaultOptions=ye}transform(U,X,ye,qe){if(null==U||""===U||U!=U)return null;try{return Kn(U,X??this.defaultOptions?.dateFormat??"mediumDate",qe||this.locale,ye??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(ft){throw function Gi(O,ne){return new w.vHH(2100,!1)}()}}static#e=this.\u0275fac=function(X){return new(X||O)(w.Y36(w.soG,16),w.Y36(Ko,24),w.Y36(Fs,24))};static#t=this.\u0275pipe=w.Yjl({name:"date",type:O,pure:!0,standalone:!0})}return O})(),Or=(()=>{class O{static#e=this.\u0275fac=function(X){return new(X||O)};static#t=this.\u0275mod=w.oAB({type:O});static#n=this.\u0275inj=w.cJS({})}return O})();const Li="browser",Zs="server";function di(O){return O===Zs}let hc=(()=>{class O{static#e=this.\u0275prov=(0,w.Yz7)({token:O,providedIn:"root",factory:()=>new Es((0,w.LFG)(fe),window)})}return O})();class Es{constructor(ne,U){this.document=ne,this.window=U,this.offset=()=>[0,0]}setOffset(ne){this.offset=Array.isArray(ne)?()=>ne:ne}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ne){this.supportsScrolling()&&this.window.scrollTo(ne[0],ne[1])}scrollToAnchor(ne){if(!this.supportsScrolling())return;const U=function Yr(O,ne){const U=O.getElementById(ne)||O.getElementsByName(ne)[0];if(U)return U;if("function"==typeof O.createTreeWalker&&O.body&&"function"==typeof O.body.attachShadow){const X=O.createTreeWalker(O.body,NodeFilter.SHOW_ELEMENT);let ye=X.currentNode;for(;ye;){const qe=ye.shadowRoot;if(qe){const ft=qe.getElementById(ne)||qe.querySelector(`[name="${ne}"]`);if(ft)return ft}ye=X.nextNode()}}return null}(this.document,ne);U&&(this.scrollToElement(U),U.focus())}setHistoryScrollRestoration(ne){this.supportsScrolling()&&(this.window.history.scrollRestoration=ne)}scrollToElement(ne){const U=ne.getBoundingClientRect(),X=U.left+this.window.pageXOffset,ye=U.top+this.window.pageYOffset,qe=this.offset();this.window.scrollTo(X-qe[0],ye-qe[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Ks{}},9468:(Gt,$e,Q)=>{Q.d($e,{QbO:()=>Yv,tb:()=>NI,AFp:()=>W_,ip1:()=>S1,hGG:()=>_D,z2F:()=>Pc,Ojb:()=>rT,sBO:()=>lD,Sil:()=>yI,EJc:()=>_I,ktI:()=>Ei,Xts:()=>rf,SBq:()=>_d,lqb:()=>bl,qLn:()=>Eu,vpe:()=>wl,XFs:()=>tn,OlP:()=>Nn,zs3:()=>na,ZZ4:()=>W1,aQg:()=>q1,soG:()=>A1,YKP:()=>r_,h0i:()=>Sl,PXZ:()=>HC,R0b:()=>ra,FiY:()=>vg,Lbi:()=>Go,g9A:()=>Ho,Qsj:()=>Sb,FYo:()=>cm,JOm:()=>T_,q3G:()=>Os,tp0:()=>Kd,Rgc:()=>ng,dDg:()=>tD,eoX:()=>cg,q4F:()=>ry,GfV:()=>um,s_b:()=>c1,ifc:()=>ds,gHi:()=>hm,VuI:()=>bD,LMc:()=>xS,MMx:()=>Z0,Lck:()=>sE,eFA:()=>OI,Gpc:()=>An,f3M:()=>er,$WT:()=>ns,_c5:()=>Z1,qFp:()=>ug,rg0:()=>Lr,c2e:()=>KE,zSh:()=>Yg,HDt:()=>N1,wAp:()=>Wm,vHH:()=>Ge,lri:()=>CI,rWj:()=>B1,JZr:()=>_t,EiD:()=>V_,mCW:()=>Lv,qzn:()=>Ug,JVY:()=>DD,pB0:()=>eT,eBb:()=>CD,L6k:()=>JI,LAX:()=>XI,cg1:()=>Ew,kL8:()=>k0,dqk:()=>ir,Z0I:()=>yt,eJc:()=>ev,QGY:()=>Md,F4k:()=>Kb,RDi:()=>Rv,AaK:()=>At,z3N:()=>vu,zW0:()=>rc,qOj:()=>_h,Xq5:()=>Ze,TTD:()=>is,_Bn:()=>Vw,jDz:()=>aE,xp6:()=>Op,uIk:()=>Cf,Tol:()=>Hu,ekj:()=>O0,Suo:()=>CE,Xpm:()=>Ao,lG2:()=>co,Yz7:()=>De,cJS:()=>Re,oAB:()=>ao,Yjl:()=>Yo,Y36:()=>Wl,_UZ:()=>jp,BQk:()=>w0,ynx:()=>b0,qZA:()=>Vu,TgZ:()=>wh,EpF:()=>us,n5z:()=>qd,Ikx:()=>P0,SDv:()=>tE,LFG:()=>kn,$8M:()=>L,$Z:()=>Mp,NdJ:()=>I0,CRH:()=>SE,kcU:()=>Hd,O4$:()=>Fo,oxw:()=>zp,ALo:()=>t1,lcZ:()=>qw,xi3:()=>n1,Hsn:()=>Jb,F$t:()=>T0,Q6J:()=>Af,s9C:()=>My,MGl:()=>xy,VKq:()=>jw,WLB:()=>e1,kEZ:()=>mE,iGM:()=>ig,MAs:()=>Yl,KtG:()=>Mh,Jf7:()=>ly,CHM:()=>Ku,uOi:()=>Yc,LSH:()=>sh,P3R:()=>nf,YNc:()=>Hp,W1O:()=>m1,_uU:()=>uw,Oqu:()=>hw,hij:()=>Xi,lnq:()=>Vm,Gf:()=>g1});var w=Q(8645),ce=Q(7394),h=Q(5592),we=Q(3019),de=Q(5619),fe=Q(2096),Oe=Q(4829),He=Q(305),Ee=Q(9360);function re(r={}){const{connector:s=(()=>new w.x),resetOnError:a=!0,resetOnComplete:u=!0,resetOnRefCountZero:g=!0}=r;return y=>{let I,S,R,z=0,ie=!1,me=!1;const Me=()=>{S?.unsubscribe(),S=void 0},Le=()=>{Me(),I=R=void 0,ie=me=!1},pt=()=>{const Nt=I;Le(),Nt?.unsubscribe()};return(0,Ee.e)((Nt,rn)=>{z++,!me&&!ie&&Me();const bn=R=R??s();rn.add(()=>{z--,0===z&&!me&&!ie&&(S=le(pt,g))}),bn.subscribe(rn),!I&&z>0&&(I=new He.Hp({next:wt=>bn.next(wt),error:wt=>{me=!0,Me(),S=le(Le,a,wt),bn.error(wt)},complete:()=>{ie=!0,Me(),S=le(Le,u),bn.complete()}}),(0,Oe.Xf)(Nt).subscribe(I))})(y)}}function le(r,s,...a){if(!0===s)return void r();if(!1===s)return;const u=new He.Hp({next:()=>{u.unsubscribe(),r()}});return(0,Oe.Xf)(s(...a)).subscribe(u)}var Se=Q(4664),et=Q(3997);function Pe(r){for(let s in r)if(r[s]===Pe)return s;throw Error("Could not find renamed property on target object.")}function it(r,s){for(const a in s)s.hasOwnProperty(a)&&!r.hasOwnProperty(a)&&(r[a]=s[a])}function At(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(At).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const s=r.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function Bt(r,s){return null==r||""===r?null===s?"":s:null==s||""===s?r:r+" "+s}const kt=Pe({__forward_ref__:Pe});function An(r){return r.__forward_ref__=An,r.toString=function(){return At(this())},r}function xt(r){return mt(r)?r():r}function mt(r){return"function"==typeof r&&r.hasOwnProperty(kt)&&r.__forward_ref__===An}function ot(r){return r&&!!r.\u0275providers}const _t="https://g.co/ng/security#xss";class Ge extends Error{constructor(s,a){super(function be(r,s){return`NG0${Math.abs(r)}${s?": "+s:""}`}(s,a)),this.code=s}}function Ye(r){return"string"==typeof r?r:null==r?"":String(r)}function En(r,s){throw new Ge(-201,!1)}function Dt(r,s,a,u){throw new Error(`ASSERTION ERROR: ${r}`+(null==u?"":` [Expected=> ${a} ${u} ${s} <=Actual]`))}function De(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function Re(r){return{providers:r.providers||[],imports:r.imports||[]}}function at(r){return St(r,on)||St(r,wn)}function yt(r){return null!==at(r)}function St(r,s){return r.hasOwnProperty(s)?r[s]:null}function Dn(r){return r&&(r.hasOwnProperty(Yt)||r.hasOwnProperty(Kn))?r[Yt]:null}const on=Pe({\u0275prov:Pe}),Yt=Pe({\u0275inj:Pe}),wn=Pe({ngInjectableDef:Pe}),Kn=Pe({ngInjectorDef:Pe});var tn=function(r){return r[r.Default=0]="Default",r[r.Host=1]="Host",r[r.Self=2]="Self",r[r.SkipSelf=4]="SkipSelf",r[r.Optional=8]="Optional",r}(tn||{});let Cr;function vr(){return Cr}function mn(r){const s=Cr;return Cr=r,s}function rr(r,s,a){const u=at(r);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:a&tn.Optional?null:void 0!==s?s:void En(At(r))}const ir=globalThis;class Nn{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=De({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const V={},G="__NG_DI_FLAG__",W="ngTempTokenPath",ve=/\n/gm,Tt="__source";let an;function Tn(r){const s=an;return an=r,s}function $t(r,s=tn.Default){if(void 0===an)throw new Ge(-203,!1);return null===an?rr(r,void 0,s):an.get(r,s&tn.Optional?null:void 0,s)}function kn(r,s=tn.Default){return(vr()||$t)(xt(r),s)}function er(r,s=tn.Default){return kn(r,so(s))}function so(r){return typeof r>"u"||"number"==typeof r?r:0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)}function oa(r){const s=[];for(let a=0;a<r.length;a++){const u=xt(r[a]);if(Array.isArray(u)){if(0===u.length)throw new Ge(900,!1);let g,y=tn.Default;for(let I=0;I<u.length;I++){const S=u[I],R=Oa(S);"number"==typeof R?-1===R?g=S.token:y|=R:g=S}s.push(kn(g,y))}else s.push(kn(u))}return s}function bs(r,s){return r[G]=s,r.prototype[G]=s,r}function Oa(r){return r[G]}function Zr(r){return{toString:r}.toString()}var qo=function(r){return r[r.OnPush=0]="OnPush",r[r.Default=1]="Default",r}(qo||{}),ds=function(r){return r[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",r}(ds||{});const hs={},tr=[],$s=Pe({\u0275cmp:Pe}),oo=Pe({\u0275dir:Pe}),So=Pe({\u0275pipe:Pe}),aa=Pe({\u0275mod:Pe}),Rs=Pe({\u0275fac:Pe}),zs=Pe({__NG_ELEMENT_ID__:Pe}),ci=Pe({__NG_ENV_ID__:Pe});function Ps(r,s,a){let u=r.length;for(;;){const g=r.indexOf(s,a);if(-1===g)return g;if(0===g||r.charCodeAt(g-1)<=32){const y=s.length;if(g+y===u||r.charCodeAt(g+y)<=32)return g}a=g+1}}function ts(r,s,a){let u=0;for(;u<a.length;){const g=a[u];if("number"==typeof g){if(0!==g)break;u++;const y=a[u++],I=a[u++],S=a[u++];r.setAttribute(s,I,S,y)}else{const y=g,I=a[++u];ws(y)?r.setProperty(s,y,I):r.setAttribute(s,y,I),u++}}return u}function cc(r){return 3===r||4===r||6===r}function ws(r){return 64===r.charCodeAt(0)}function lc(r,s){if(null!==s&&0!==s.length)if(null===r||0===r.length)r=s.slice();else{let a=-1;for(let u=0;u<s.length;u++){const g=s[u];"number"==typeof g?a=g:0===a||_i(r,a,g,null,-1===a||2===a?s[++u]:null)}}return r}function _i(r,s,a,u,g){let y=0,I=r.length;if(-1===s)I=-1;else for(;y<r.length;){const S=r[y++];if("number"==typeof S){if(S===s){I=-1;break}if(S>s){I=y-1;break}}}for(;y<r.length;){const S=r[y];if("number"==typeof S)break;if(S===a){if(null===u)return void(null!==g&&(r[y+1]=g));if(u===r[y+1])return void(r[y+2]=g)}y++,null!==u&&y++,null!==g&&y++}-1!==I&&(r.splice(I,0,s),y=I+1),r.splice(y++,0,a),null!==u&&r.splice(y++,0,u),null!==g&&r.splice(y++,0,g)}const Ws="ng-template";function Is(r,s,a){let u=0,g=!0;for(;u<r.length;){let y=r[u++];if("string"==typeof y&&g){const I=r[u++];if(a&&"class"===y&&-1!==Ps(I.toLowerCase(),s,0))return!0}else{if(1===y){for(;u<r.length&&"string"==typeof(y=r[u++]);)if(y.toLowerCase()===s)return!0;return!1}"number"==typeof y&&(g=!1)}}return!1}function li(r){return 4===r.type&&r.value!==Ws}function ks(r,s,a){return s===(4!==r.type||a?r.value:Ws)}function fs(r,s,a){let u=4;const g=r.attrs||[],y=function uc(r){for(let s=0;s<r.length;s++)if(cc(r[s]))return s;return r.length}(g);let I=!1;for(let S=0;S<s.length;S++){const R=s[S];if("number"!=typeof R){if(!I)if(4&u){if(u=2|1&u,""!==R&&!ks(r,R,a)||""===R&&1===s.length){if(yi(u))return!1;I=!0}}else{const z=8&u?R:s[++S];if(8&u&&null!==r.attrs){if(!Is(r.attrs,z,a)){if(yi(u))return!1;I=!0}continue}const me=Pi(8&u?"class":R,g,li(r),a);if(-1===me){if(yi(u))return!1;I=!0;continue}if(""!==z){let Me;Me=me>y?"":g[me+1].toLowerCase();const Le=8&u?Me:null;if(Le&&-1!==Ps(Le,z,0)||2&u&&z!==Me){if(yi(u))return!1;I=!0}}}}else{if(!I&&!yi(u)&&!yi(R))return!1;if(I&&yi(R))continue;I=!1,u=R|1&u}}return yi(u)||I}function yi(r){return 0==(1&r)}function Pi(r,s,a,u){if(null===s)return-1;let g=0;if(u||!a){let y=!1;for(;g<s.length;){const I=s[g];if(I===r)return g;if(3===I||6===I)y=!0;else{if(1===I||2===I){let S=s[++g];for(;"string"==typeof S;)S=s[++g];continue}if(4===I)break;if(0===I){g+=4;continue}}g+=y?1:2}return-1}return function Gi(r,s){let a=r.indexOf(4);if(a>-1)for(a++;a<r.length;){const u=r[a];if("number"==typeof u)return-1;if(u===s)return a;a++}return-1}(s,r)}function Ts(r,s,a=!1){for(let u=0;u<s.length;u++)if(fs(r,s[u],a))return!0;return!1}function ki(r,s){e:for(let a=0;a<s.length;a++){const u=s[a];if(r.length===u.length){for(let g=0;g<r.length;g++)if(r[g]!==u[g])continue e;return!0}}return!1}function Fi(r,s){return r?":not("+s.trim()+")":s}function sl(r){let s=r[0],a=1,u=2,g="",y=!1;for(;a<r.length;){let I=r[a];if("string"==typeof I)if(2&u){const S=r[++a];g+="["+I+(S.length>0?'="'+S+'"':"")+"]"}else 8&u?g+="."+I:4&u&&(g+=" "+I);else""!==g&&!yi(I)&&(s+=Fi(y,g),g=""),u=I,y=y||!yi(u);a++}return""!==g&&(s+=Fi(y,g)),s}function Ao(r){return Zr(()=>{const s=sr(r),a={...s,decls:r.decls,vars:r.vars,template:r.template,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,onPush:r.changeDetection===qo.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&r.dependencies||null,getStandaloneInjector:null,signals:r.signals??!1,data:r.data||{},encapsulation:r.encapsulation||ds.Emulated,styles:r.styles||tr,_:null,schemas:r.schemas||null,tView:null,id:""};Si(a);const u=r.dependencies;return a.directiveDefs=Fr(u,!1),a.pipeDefs=Fr(u,!0),a.id=function lo(r){let s=0;const a=[r.selectors,r.ngContentSelectors,r.hostVars,r.hostAttrs,r.consts,r.vars,r.decls,r.encapsulation,r.standalone,r.signals,r.exportAs,JSON.stringify(r.inputs),JSON.stringify(r.outputs),Object.getOwnPropertyNames(r.type.prototype),!!r.contentQueries,!!r.viewQuery].join("|");for(const g of a)s=Math.imul(31,s)+g.charCodeAt(0)<<0;return s+=2147483648,"c"+s}(a),a})}function Zo(r){return cr(r)||Kr(r)}function Fc(r){return null!==r}function ao(r){return Zr(()=>({type:r.type,bootstrap:r.bootstrap||tr,declarations:r.declarations||tr,imports:r.imports||tr,exports:r.exports||tr,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function Fs(r,s){if(null==r)return hs;const a={};for(const u in r)if(r.hasOwnProperty(u)){let g=r[u],y=g;Array.isArray(g)&&(y=g[1],g=g[0]),a[g]=u,s&&(s[g]=y)}return a}function co(r){return Zr(()=>{const s=sr(r);return Si(s),s})}function Yo(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function cr(r){return r[$s]||null}function Kr(r){return r[oo]||null}function Ci(r){return r[So]||null}function ns(r){const s=cr(r)||Kr(r)||Ci(r);return null!==s&&s.standalone}function ui(r,s){const a=r[aa]||null;if(!a&&!0===s)throw new Error(`Type ${At(r)} does not have '\u0275mod' property.`);return a}function sr(r){const s={};return{type:r.type,providersResolver:null,factory:null,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:s,inputTransforms:null,inputConfig:r.inputs||hs,exportAs:r.exportAs||null,standalone:!0===r.standalone,signals:!0===r.signals,selectors:r.selectors||tr,viewQuery:r.viewQuery||null,features:r.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Fs(r.inputs,s),outputs:Fs(r.outputs)}}function Si(r){r.features?.forEach(s=>s(r))}function Fr(r,s){if(!r)return null;const a=s?Ci:Zo;return()=>("function"==typeof r?r():r).map(u=>a(u)).filter(Fc)}const lr=0,Ft=1,xn=2,Or=3,Li=4,Zs=5,ti=6,ji=7,Mr=8,di=9,ps=10,On=11,No=12,hc=13,Es=14,Yr=15,vi=16,Ks=17,bi=18,Oo=19,ol=20,uo=21,br=22,gs=23,Ds=24,Bn=25,ho=1,ms=2,hi=7,ja=9,Sr=11;function Jr(r){return Array.isArray(r)&&"object"==typeof r[ho]}function $i(r){return Array.isArray(r)&&!0===r[ho]}function Ss(r){return 0!=(4&r.flags)}function rs(r){return r.componentOffset>-1}function po(r){return 1==(1&r.flags)}function Ai(r){return!!r.template}function Wi(r){return 0!=(512&r[xn])}function ka(r,s){return r.hasOwnProperty(Rs)?r[Rs]:null}let Ni=null,Ii=!1;function Xr(r){const s=Ni;return Ni=r,s}const Ti={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function ni(r){if(!Jo(r)||r.dirty){if(!r.producerMustRecompute(r)&&!Qs(r))return void(r.dirty=!1);r.producerRecomputeValue(r),r.dirty=!1}}function cl(r){r.dirty=!0,function da(r){if(void 0===r.liveConsumerNode)return;const s=Ii;Ii=!0;try{for(const a of r.liveConsumerNode)a.dirty||cl(a)}finally{Ii=s}}(r),r.consumerMarkedDirty?.(r)}function ha(r){return r&&(r.nextProducerIndex=0),Xr(r)}function yc(r,s){if(Xr(s),r&&void 0!==r.producerNode&&void 0!==r.producerIndexOfThis&&void 0!==r.producerLastReadVersion){if(Jo(r))for(let a=r.nextProducerIndex;a<r.producerNode.length;a++)vc(r.producerNode[a],r.producerIndexOfThis[a]);for(;r.producerNode.length>r.nextProducerIndex;)r.producerNode.pop(),r.producerLastReadVersion.pop(),r.producerIndexOfThis.pop()}}function Qs(r){Bc(r);for(let s=0;s<r.producerNode.length;s++){const a=r.producerNode[s],u=r.producerLastReadVersion[s];if(u!==a.version||(ni(a),u!==a.version))return!0}return!1}function Lc(r){if(Bc(r),Jo(r))for(let s=0;s<r.producerNode.length;s++)vc(r.producerNode[s],r.producerIndexOfThis[s]);r.producerNode.length=r.producerLastReadVersion.length=r.producerIndexOfThis.length=0,r.liveConsumerNode&&(r.liveConsumerNode.length=r.liveConsumerIndexOfThis.length=0)}function vc(r,s){if(function bc(r){r.liveConsumerNode??=[],r.liveConsumerIndexOfThis??=[]}(r),Bc(r),1===r.liveConsumerNode.length)for(let u=0;u<r.producerNode.length;u++)vc(r.producerNode[u],r.producerIndexOfThis[u]);const a=r.liveConsumerNode.length-1;if(r.liveConsumerNode[s]=r.liveConsumerNode[a],r.liveConsumerIndexOfThis[s]=r.liveConsumerIndexOfThis[a],r.liveConsumerNode.length--,r.liveConsumerIndexOfThis.length--,s<r.liveConsumerNode.length){const u=r.liveConsumerIndexOfThis[s],g=r.liveConsumerNode[s];Bc(g),g.producerIndexOfThis[u]=s}}function Jo(r){return r.consumerIsAlwaysLive||(r?.liveConsumerNode?.length??0)>0}function Bc(r){r.producerNode??=[],r.producerIndexOfThis??=[],r.producerLastReadVersion??=[]}let Uc=null;function Lr(r){const s=Xr(null);try{return r()}finally{Xr(s)}}const $n=()=>{},Br=(()=>({...Ti,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:r=>{r.schedule(r.ref)},hasRun:!1,cleanupFn:$n}))();class Hr{constructor(s,a,u){this.previousValue=s,this.currentValue=a,this.firstChange=u}isFirstChange(){return this.firstChange}}function is(){return ss}function ss(r){return r.type.prototype.ngOnChanges&&(r.setInput=Yi),os}function os(){const r=fa(this),s=r?.current;if(s){const a=r.previous;if(a===hs)r.previous=s;else for(let u in s)a[u]=s[u];r.current=null,this.ngOnChanges(s)}}function Yi(r,s,a,u){const g=this.declaredInputs[a],y=fa(r)||function wc(r,s){return r[Xo]=s}(r,{previous:hs,current:null}),I=y.current||(y.current={}),S=y.previous,R=S[g];I[g]=new Hr(R&&R.currentValue,s,S===hs),r[u]=s}is.ngInherit=!0;const Xo="__ngSimpleChanges__";function fa(r){return r[Xo]||null}const Ls=function(r,s,a){},za="svg";function wi(r){for(;Array.isArray(r);)r=r[lr];return r}function Fa(r,s){return wi(s[r])}function Bs(r,s){return wi(s[r.index])}function Bd(r,s){return r.data[s]}function Wa(r,s){return r[s]}function Oi(r,s){const a=s[r];return Jr(a)?a:a[lr]}function La(r,s){return null==s?null:r[s]}function Wu(r){r[Ks]=0}function Nh(r){1024&r[xn]||(r[xn]|=1024,ll(r,1))}function ri(r){1024&r[xn]&&(r[xn]&=-1025,ll(r,-1))}function ll(r,s){let a=r[Or];if(null===a)return;a[Zs]+=s;let u=a;for(a=a[Or];null!==a&&(1===s&&1===u[Zs]||-1===s&&0===u[Zs]);)a[Zs]+=s,u=a,a=a[Or]}function qa(r,s){if(256==(256&r[xn]))throw new Ge(911,!1);null===r[uo]&&(r[uo]=[]),r[uo].push(s)}const _n={lFrame:Ue(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function xl(){return _n.bindingsEnabled}function ga(){return null!==_n.skipHydrationRootTNode}function ut(){return _n.lFrame.lView}function gr(){return _n.lFrame.tView}function Ku(r){return _n.lFrame.contextLView=r,r[Mr]}function Mh(r){return _n.lFrame.contextLView=null,r}function Bi(){let r=Yu();for(;null!==r&&64===r.type;)r=r.parent;return r}function Yu(){return _n.lFrame.currentTNode}function ul(){const r=_n.lFrame,s=r.currentTNode;return r.isParent?s:s.parent}function mo(r,s){const a=_n.lFrame;a.currentTNode=r,a.isParent=s}function nu(){return _n.lFrame.isParent}function Za(){_n.lFrame.isParent=!1}function Vs(){const r=_n.lFrame;let s=r.bindingRootIndex;return-1===s&&(s=r.bindingRootIndex=r.tView.bindingStartIndex),s}function Ya(){return _n.lFrame.bindingIndex++}function ma(r){const s=_n.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+r,a}function Rl(r){_n.lFrame.inI18n=r}function xh(r,s){const a=_n.lFrame;a.bindingIndex=a.bindingRootIndex=r,C(s)}function C(r){_n.lFrame.currentDirectiveIndex=r}function D(){return _n.lFrame.currentQueryIndex}function P(r){_n.lFrame.currentQueryIndex=r}function j(r){const s=r[Ft];return 2===s.type?s.declTNode:1===s.type?r[ti]:null}function se(r,s,a){if(a&tn.SkipSelf){let g=s,y=r;for(;!(g=g.parent,null!==g||a&tn.Host||(g=j(y),null===g||(y=y[Es],10&g.type))););if(null===g)return!1;s=g,r=y}const u=_n.lFrame=We();return u.currentTNode=s,u.lView=r,!0}function _e(r){const s=We(),a=r[Ft];_n.lFrame=s,s.currentTNode=a.firstChild,s.lView=r,s.tView=a,s.contextLView=r,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function We(){const r=_n.lFrame,s=null===r?null:r.child;return null===s?Ue(r):s}function Ue(r){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=s),s}function zt(){const r=_n.lFrame;return _n.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const Rn=zt;function xr(){const r=zt();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function zr(){return _n.lFrame.selectedIndex}function ea(r){_n.lFrame.selectedIndex=r}function Rr(){const r=_n.lFrame;return Bd(r.tView,r.selectedIndex)}function Fo(){_n.lFrame.currentNamespace=za}function Hd(){!function _a(){_n.lFrame.currentNamespace=null}()}let Rh=!0;function Ph(){return Rh}function Ec(r){Rh=r}function su(r,s){for(let a=s.directiveStart,u=s.directiveEnd;a<u;a++){const y=r.data[a].type.prototype,{ngAfterContentInit:I,ngAfterContentChecked:S,ngAfterViewInit:R,ngAfterViewChecked:z,ngOnDestroy:ie}=y;I&&(r.contentHooks??=[]).push(-a,I),S&&((r.contentHooks??=[]).push(a,S),(r.contentCheckHooks??=[]).push(a,S)),R&&(r.viewHooks??=[]).push(-a,R),z&&((r.viewHooks??=[]).push(a,z),(r.viewCheckHooks??=[]).push(a,z)),null!=ie&&(r.destroyHooks??=[]).push(a,ie)}}function $c(r,s,a){ou(r,s,3,a)}function hl(r,s,a,u){(3&r[xn])===a&&ou(r,s,a,u)}function Gd(r,s){let a=r[xn];(3&a)===s&&(a&=8191,a+=1,r[xn]=a)}function ou(r,s,a,u){const y=u??-1,I=s.length-1;let S=0;for(let R=void 0!==u?65535&r[Ks]:0;R<I;R++)if("number"==typeof s[R+1]){if(S=s[R],null!=u&&S>=u)break}else s[R]<0&&(r[Ks]+=65536),(S<y||-1==y)&&(Qa(r,a,s,R),r[Ks]=(4294901760&r[Ks])+R+2),R++}function jd(r,s){Ls(4,r,s);const a=Xr(null);try{s.call(r)}finally{Xr(a),Ls(5,r,s)}}function Qa(r,s,a,u){const g=a[u]<0,y=a[u+1],S=r[g?-a[u]:a[u]];g?r[xn]>>13<r[Ks]>>16&&(3&r[xn])===s&&(r[xn]+=8192,jd(S,y)):jd(S,y)}const fl=-1;class Xu{constructor(s,a,u){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=u}}function au(r){return r!==fl}function kl(r){return 32767&r}function Fl(r,s){let a=function Lh(r){return r>>16}(r),u=s;for(;a>0;)u=u[Es],a--;return u}let cu=!0;function zc(r){const s=cu;return cu=r,s}const lu=255,ed=5;let uu=0;const _o={};function pl(r,s){const a=du(r,s);if(-1!==a)return a;const u=s[Ft];u.firstCreatePass&&(r.injectorIndex=s.length,Wc(u.data,r),Wc(s,null),Wc(u.blueprint,null));const g=hu(r,s),y=r.injectorIndex;if(au(g)){const I=kl(g),S=Fl(g,s),R=S[Ft].data;for(let z=0;z<8;z++)s[y+z]=S[I+z]|R[I+z]}return s[y+8]=g,y}function Wc(r,s){r.push(0,0,0,0,0,0,0,0,s)}function du(r,s){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===s[r.injectorIndex+8]?-1:r.injectorIndex}function hu(r,s){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let a=0,u=null,g=s;for(;null!==g;){if(u=M(g),null===u)return fl;if(a++,g=g[Es],-1!==u.injectorIndex)return u.injectorIndex|a<<16}return fl}function Ll(r,s,a){!function td(r,s,a){let u;"string"==typeof a?u=a.charCodeAt(0)||0:a.hasOwnProperty(zs)&&(u=a[zs]),null==u&&(u=a[zs]=uu++);const g=u&lu;s.data[r+(g>>ed)]|=1<<g}(r,s,a)}function gg(r,s,a){if(a&tn.Optional||void 0!==r)return r;En()}function Kf(r,s,a,u){if(a&tn.Optional&&void 0===u&&(u=null),!(a&(tn.Self|tn.Host))){const g=r[di],y=mn(void 0);try{return g?g.get(s,u,a&tn.Optional):rr(s,u,a&tn.Optional)}finally{mn(y)}}return gg(u,0,a)}function qc(r,s,a,u=tn.Default,g){if(null!==r){if(2048&s[xn]&&!(u&tn.Self)){const I=function mg(r,s,a,u,g){let y=r,I=s;for(;null!==y&&null!==I&&2048&I[xn]&&!(512&I[xn]);){const S=Yf(y,I,a,u|tn.Self,_o);if(S!==_o)return S;let R=y.parent;if(!R){const z=I[ol];if(z){const ie=z.get(a,_o,u);if(ie!==_o)return ie}R=M(I),I=I[Es]}y=R}return g}(r,s,a,u,_o);if(I!==_o)return I}const y=Yf(r,s,a,u,_o);if(y!==_o)return y}return Kf(s,a,u,g)}function Yf(r,s,a,u,g){const y=function Wd(r){if("string"==typeof r)return r.charCodeAt(0)||0;const s=r.hasOwnProperty(zs)?r[zs]:void 0;return"number"==typeof s?s>=0?s&lu:Qf:s}(a);if("function"==typeof y){if(!se(s,r,u))return u&tn.Host?gg(g,0,u):Kf(s,a,u,g);try{let I;if(I=y(u),null!=I||u&tn.Optional)return I;En()}finally{Rn()}}else if("number"==typeof y){let I=null,S=du(r,s),R=fl,z=u&tn.Host?s[Yr][ti]:null;for((-1===S||u&tn.SkipSelf)&&(R=-1===S?hu(r,s):s[S+8],R!==fl&&fu(u,!1)?(I=s[Ft],S=kl(R),s=Fl(R,s)):S=-1);-1!==S;){const ie=s[Ft];if(Dc(y,S,ie.data)){const me=Bl(S,s,a,I,u,z);if(me!==_o)return me}R=s[S+8],R!==fl&&fu(u,s[Ft].data[S+8]===z)&&Dc(y,S,s)?(I=ie,S=kl(R),s=Fl(R,s)):S=-1}}return g}function Bl(r,s,a,u,g,y){const I=s[Ft],S=I.data[r+8],ie=gl(S,I,a,null==u?rs(S)&&cu:u!=I&&0!=(3&S.type),g&tn.Host&&y===S);return null!==ie?Zc(s,I,ie,S):_o}function gl(r,s,a,u,g){const y=r.providerIndexes,I=s.data,S=1048575&y,R=r.directiveStart,ie=y>>20,Me=g?S+ie:r.directiveEnd;for(let Le=u?S:S+ie;Le<Me;Le++){const pt=I[Le];if(Le<R&&a===pt||Le>=R&&pt.type===a)return Le}if(g){const Le=I[R];if(Le&&Ai(Le)&&Le.type===a)return R}return null}function Zc(r,s,a,u){let g=r[a];const y=s.data;if(function kh(r){return r instanceof Xu}(g)){const I=g;I.resolving&&function Mn(r,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${r}`:"";throw new Ge(-200,`Circular dependency in DI detected for ${r}${a}`)}(function gt(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():Ye(r)}(y[a]));const S=zc(I.canSeeViewProviders);I.resolving=!0;const z=I.injectImpl?mn(I.injectImpl):null;se(r,u,tn.Default);try{g=r[a]=I.factory(void 0,y,r,u),s.firstCreatePass&&a>=u.directiveStart&&function Wf(r,s,a){const{ngOnChanges:u,ngOnInit:g,ngDoCheck:y}=s.type.prototype;if(u){const I=ss(s);(a.preOrderHooks??=[]).push(r,I),(a.preOrderCheckHooks??=[]).push(r,I)}g&&(a.preOrderHooks??=[]).push(0-r,g),y&&((a.preOrderHooks??=[]).push(r,y),(a.preOrderCheckHooks??=[]).push(r,y))}(a,y[a],s)}finally{null!==z&&mn(z),zc(S),I.resolving=!1,Rn()}}return g}function Dc(r,s,a){return!!(a[s+(r>>ed)]&1<<r)}function fu(r,s){return!(r&tn.Self||r&tn.Host&&s)}class Lo{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,u){return qc(this._tNode,this._lView,s,so(u),a)}}function Qf(){return new Lo(Bi(),ut())}function qd(r){return Zr(()=>{const s=r.prototype.constructor,a=s[Rs]||Zd(s),u=Object.prototype;let g=Object.getPrototypeOf(r.prototype).constructor;for(;g&&g!==u;){const y=g[Rs]||Zd(g);if(y&&y!==a)return y;g=Object.getPrototypeOf(g)}return y=>new y})}function Zd(r){return mt(r)?()=>{const s=Zd(xt(r));return s&&s()}:ka(r)}function M(r){const s=r[Ft],a=s.type;return 2===a?s.declTNode:1===a?r[ti]:null}function L(r){return function zd(r,s){if("class"===s)return r.classes;if("style"===s)return r.styles;const a=r.attrs;if(a){const u=a.length;let g=0;for(;g<u;){const y=a[g];if(cc(y))break;if(0===y)g+=2;else if("number"==typeof y)for(g++;g<u&&"string"==typeof a[g];)g++;else{if(y===s)return a[g+1];g+=2}}}return null}(Bi(),r)}const he="__parameters__";function Ut(r,s,a){return Zr(()=>{const u=function st(r){return function(...a){if(r){const u=r(...a);for(const g in u)this[g]=u[g]}}}(s);function g(...y){if(this instanceof g)return u.apply(this,y),this;const I=new g(...y);return S.annotation=I,S;function S(R,z,ie){const me=R.hasOwnProperty(he)?R[he]:Object.defineProperty(R,he,{value:[]})[he];for(;me.length<=ie;)me.push(null);return(me[ie]=me[ie]||[]).push(I),R}}return a&&(g.prototype=Object.create(a.prototype)),g.prototype.ngMetadataName=r,g.annotationCls=g,g})}function Uh(r,s){r.forEach(a=>Array.isArray(a)?Uh(a,s):s(a))}function eo(r,s,a){s>=r.length?r.push(a):r.splice(s,0,a)}function Hh(r,s){return s>=r.length-1?r.pop():r.splice(s,1)[0]}function Vl(r,s){const a=[];for(let u=0;u<r;u++)a.push(s);return a}function Bo(r,s,a){let u=mu(r,s);return u>=0?r[1|u]=a:(u=~u,function ba(r,s,a,u){let g=r.length;if(g==s)r.push(a,u);else if(1===g)r.push(u,r[0]),r[0]=a;else{for(g--,r.push(r[g-1],r[g]);g>s;)r[g]=r[g-2],g--;r[s]=a,r[s+1]=u}}(r,u,s,a)),u}function Gh(r,s){const a=mu(r,s);if(a>=0)return r[1|a]}function mu(r,s){return function _u(r,s,a){let u=0,g=r.length>>a;for(;g!==u;){const y=u+(g-u>>1),I=r[y<<a];if(s===I)return y<<a;I>s?g=y:u=y+1}return~(g<<a)}(r,s,1)}const vg=bs(Ut("Optional"),8),Kd=bs(Ut("SkipSelf"),4);function Wh(r){return 128==(128&r.flags)}var T_=function(r){return r[r.Important=1]="Important",r[r.DashCase=2]="DashCase",r}(T_||{});const WI=/^>|^->|<!--|-->|--!>|<!-$/g,qI=/(<|>)/g,ZI="\u200b$1\u200b";const vv=new Map;let KI=0;const op="__ngContext__";function bo(r,s){Jr(s)?(r[op]=s[Oo],function qh(r){vv.set(r[Oo],r)}(s)):r[op]=s}let od;function ad(r,s){return od(r,s)}function lp(r){const s=r[Or];return $i(s)?s[Or]:s}function S_(r){return Ag(r[No])}function eh(r){return Ag(r[Li])}function Ag(r){for(;null!==r&&!$i(r);)r=r[Li];return r}function yu(r,s,a,u,g){if(null!=u){let y,I=!1;$i(u)?y=u:Jr(u)&&(I=!0,u=u[lr]);const S=wi(u);0===r&&null!==a?null==g?ub(s,a,S):cd(s,a,S,g||null,!0):1===r&&null!==a?cd(s,a,S,g||null,!0):2===r?function F_(r,s,a){const u=fp(r,s);u&&function YI(r,s,a,u){r.removeChild(s,a,u)}(r,u,s,a)}(s,S,I):3===r&&s.destroyNode(S),null!=y&&function _l(r,s,a,u,g){const y=a[hi];y!==wi(a)&&yu(s,r,u,y,g);for(let S=Sr;S<a.length;S++){const R=a[S];Rg(R[Ft],R,r,s,u,y)}}(s,r,y,a,g)}}function up(r,s){return r.createText(s)}function A_(r,s){return r.createComment(function ob(r){return r.replace(WI,s=>s.replace(qI,ZI))}(s))}function Ng(r,s,a){return r.createElement(s,a)}function th(r,s){const a=r[ja],u=a.indexOf(s);ri(s),a.splice(u,1)}function dp(r,s){if(r.length<=Sr)return;const a=Sr+s,u=r[a];if(u){const g=u[vi];null!==g&&g!==r&&th(g,u),s>0&&(r[a-1][Li]=u[Li]);const y=Hh(r,Sr+s);!function cb(r,s){Rg(r,s,s[On],2,null,null),s[lr]=null,s[ti]=null}(u[Ft],u);const I=y[bi];null!==I&&I.detachView(y[Ft]),u[Or]=null,u[Li]=null,u[xn]&=-129}return u}function Kh(r,s){if(!(256&s[xn])){const a=s[On];s[gs]&&Lc(s[gs]),s[Ds]&&Lc(s[Ds]),a.destroyNode&&Rg(r,s,a,3,null,null),function Sv(r){let s=r[No];if(!s)return Yh(r[Ft],r);for(;s;){let a=null;if(Jr(s))a=s[No];else{const u=s[Sr];u&&(a=u)}if(!a){for(;s&&!s[Li]&&s!==r;)Jr(s)&&Yh(s[Ft],s),s=s[Or];null===s&&(s=r),Jr(s)&&Yh(s[Ft],s),a=s&&s[Li]}s=a}}(s)}}function Yh(r,s){if(!(256&s[xn])){s[xn]&=-129,s[xn]|=256,function Og(r,s){let a;if(null!=r&&null!=(a=r.destroyHooks))for(let u=0;u<a.length;u+=2){const g=s[a[u]];if(!(g instanceof Xu)){const y=a[u+1];if(Array.isArray(y))for(let I=0;I<y.length;I+=2){const S=g[y[I]],R=y[I+1];Ls(4,S,R);try{R.call(S)}finally{Ls(5,S,R)}}else{Ls(4,g,y);try{y.call(g)}finally{Ls(5,g,y)}}}}}(r,s),function lb(r,s){const a=r.cleanup,u=s[ji];if(null!==a)for(let y=0;y<a.length-1;y+=2)if("string"==typeof a[y]){const I=a[y+3];I>=0?u[I]():u[-I].unsubscribe(),y+=2}else a[y].call(u[a[y+1]]);null!==u&&(s[ji]=null);const g=s[uo];if(null!==g){s[uo]=null;for(let y=0;y<g.length;y++)(0,g[y])()}}(r,s),1===s[Ft].type&&s[On].destroy();const a=s[vi];if(null!==a&&$i(s[Or])){a!==s[Or]&&th(a,s);const u=s[bi];null!==u&&u.detachView(r)}!function Eg(r){vv.delete(r[Oo])}(s)}}function hp(r,s,a){return Mg(r,s.parent,a)}function Mg(r,s,a){let u=s;for(;null!==u&&40&u.type;)u=(s=u).parent;if(null===u)return a[lr];{const{componentOffset:g}=u;if(g>-1){const{encapsulation:y}=r.data[u.directiveStart+g];if(y===ds.None||y===ds.Emulated)return null}return Bs(u,a)}}function cd(r,s,a,u,g){r.insertBefore(s,a,u,g)}function ub(r,s,a){r.appendChild(s,a)}function db(r,s,a,u,g){null!==u?cd(r,s,a,u,g):ub(r,s,a)}function fp(r,s){return r.parentNode(s)}function x_(r,s,a){return P_(r,s,a)}function R_(r,s,a){return 40&r.type?Bs(r,a):null}let k_,Jh,Fg,Lg,P_=R_;function fb(r,s){P_=r,k_=s}function xg(r,s,a,u){const g=hp(r,u,s),y=s[On],S=x_(u.parent||s[ti],u,s);if(null!=g)if(Array.isArray(a))for(let R=0;R<a.length;R++)db(y,g,a[R],S,!1);else db(y,g,a,S,!1);void 0!==k_&&k_(y,u,s,a,g)}function Gl(r,s){if(null!==s){const a=s.type;if(3&a)return Bs(s,r);if(4&a)return Ov(-1,r[s.index]);if(8&a){const u=s.child;if(null!==u)return Gl(r,u);{const g=r[s.index];return $i(g)?Ov(-1,g):wi(g)}}if(32&a)return ad(s,r)()||wi(r[s.index]);{const u=Nv(r,s);return null!==u?Array.isArray(u)?u[0]:Gl(lp(r[Yr]),u):Gl(r,s.next)}}return null}function Nv(r,s){return null!==s?r[Yr][ti].projection[s.projection]:null}function Ov(r,s){const a=Sr+r+1;if(a<s.length){const u=s[a],g=u[Ft].firstChild;if(null!==g)return Gl(u,g)}return s[hi]}function Mv(r,s,a,u,g,y,I){for(;null!=a;){const S=u[a.index],R=a.type;if(I&&0===s&&(S&&bo(wi(S),u),a.flags|=2),32!=(32&a.flags))if(8&R)Mv(r,s,a.child,u,g,y,!1),yu(s,r,g,S,y);else if(32&R){const z=ad(a,u);let ie;for(;ie=z();)yu(s,r,g,ie,y);yu(s,r,g,S,y)}else 16&R?gb(r,s,u,a,g,y):yu(s,r,g,S,y);a=I?a.projectionNext:a.next}}function Rg(r,s,a,u,g,y){Mv(a,u,r.firstChild,s,g,y,!1)}function gb(r,s,a,u,g,y){const I=a[Yr],R=I[ti].projection[u.projection];if(Array.isArray(R))for(let z=0;z<R.length;z++)yu(s,r,g,R[z],y);else{let z=R;const ie=I[Or];Wh(u)&&(z.flags|=128),Mv(r,s,z,ie,g,y,!0)}}function Pg(r,s,a){""===a?r.removeAttribute(s,"class"):r.setAttribute(s,"class",a)}function pp(r,s,a){const{mergedAttrs:u,classes:g,styles:y}=a;null!==u&&ts(r,s,u),null!==g&&Pg(r,s,g),null!==y&&function Qh(r,s,a){r.setAttribute(s,"style",a)}(r,s,y)}function ld(r){return function L_(){if(void 0===Jh&&(Jh=null,ir.trustedTypes))try{Jh=ir.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return Jh}()?.createHTML(r)||r}function Rv(r){Fg=r}function gp(){if(void 0!==Fg)return Fg;if(typeof document<"u")return document;throw new Ge(210,!1)}function Bg(r){return function nh(){if(void 0===Lg&&(Lg=null,ir.trustedTypes))try{Lg=ir.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return Lg}()?.createScriptURL(r)||r}class ih{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${_t})`}}class Vg extends ih{getTypeName(){return"HTML"}}class dd extends ih{getTypeName(){return"Style"}}class Pv extends ih{getTypeName(){return"Script"}}class mb extends ih{getTypeName(){return"URL"}}class kv extends ih{getTypeName(){return"ResourceURL"}}function vu(r){return r instanceof ih?r.changingThisBreaksApplicationSecurity:r}function Ug(r,s){const a=function Fv(r){return r instanceof ih&&r.getTypeName()||null}(r);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see ${_t})`)}return a===s}function DD(r){return new Vg(r)}function JI(r){return new dd(r)}function CD(r){return new Pv(r)}function XI(r){return new mb(r)}function eT(r){return new kv(r)}function tT(r){const s=new nT(r);return function AD(){try{return!!(new window.DOMParser).parseFromString(ld(""),"text/html")}catch{return!1}}()?new SD(s):s}class SD{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(ld(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch{return null}}}class nT{constructor(s){this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(s){const a=this.inertDocument.createElement("template");return a.innerHTML=ld(s),a}}const ND=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Lv(r){return(r=String(r)).match(ND)?r:"unsafe:"+r}function bu(r){const s={};for(const a of r.split(","))s[a]=!0;return s}function Hg(...r){const s={};for(const a of r)for(const u in a)a.hasOwnProperty(u)&&(s[u]=!0);return s}const _b=bu("area,br,col,hr,img,wbr"),Sc=bu("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),nn=bu("rp,rt"),tf=Hg(_b,Hg(Sc,bu("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Hg(nn,bu("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Hg(nn,Sc)),Gg=bu("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Bv=Hg(Gg,bu("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),bu("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Vv=bu("script,style,template");class Ta{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,u=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?u=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,u&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let g=this.checkClobberedElement(a,a.nextSibling);if(g){a=g;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(s){const a=s.nodeName.toLowerCase();if(!tf.hasOwnProperty(a))return this.sanitizedSomething=!0,!Vv.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const u=s.attributes;for(let g=0;g<u.length;g++){const y=u.item(g),I=y.name,S=I.toLowerCase();if(!Bv.hasOwnProperty(S)){this.sanitizedSomething=!0;continue}let R=y.value;Gg[S]&&(R=Lv(R)),this.buf.push(" ",I,'="',yl(R),'"')}return this.buf.push(">"),!0}endElement(s){const a=s.nodeName.toLowerCase();tf.hasOwnProperty(a)&&!_b.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(yl(s))}checkClobberedElement(s,a){if(a&&(s.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return a}}const jg=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Uo=/([^\#-~ |!])/g;function yl(r){return r.replace(/&/g,"&amp;").replace(jg,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(Uo,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let $g;function V_(r,s){let a=null;try{$g=$g||tT(r);let u=s?String(s):"";a=$g.getInertBodyElement(u);let g=5,y=u;do{if(0===g)throw new Error("Failed to sanitize html because the input is unstable");g--,u=y,y=a.innerHTML,a=$g.getInertBodyElement(u)}while(u!==y);return ld((new Ta).sanitizeChildren(_p(a)||a))}finally{if(a){const u=_p(a)||a;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function _p(r){return"content"in r&&function Uv(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var Os=function(r){return r[r.NONE=0]="NONE",r[r.HTML=1]="HTML",r[r.STYLE=2]="STYLE",r[r.SCRIPT=3]="SCRIPT",r[r.URL=4]="URL",r[r.RESOURCE_URL=5]="RESOURCE_URL",r}(Os||{});function sh(r){const s=bp();return s?s.sanitize(Os.URL,r)||"":Ug(r,"URL")?vu(r):Lv(Ye(r))}function Yc(r){const s=bp();if(s)return Bg(s.sanitize(Os.RESOURCE_URL,r)||"");if(Ug(r,"ResourceURL"))return Bg(vu(r));throw new Ge(904,!1)}function nf(r,s,a){return function vl(r,s){return"src"===s&&("embed"===r||"frame"===r||"iframe"===r||"media"===r||"script"===r)||"href"===s&&("base"===r||"link"===r)?Yc:sh}(s,a)(r)}function bp(){const r=ut();return r&&r[ps].sanitizer}const rf=new Nn("ENVIRONMENT_INITIALIZER"),sf=new Nn("INJECTOR",-1),U_=new Nn("INJECTOR_DEF_TYPES");class Wg{get(s,a=V){if(a===V){const u=new Error(`NullInjectorError: No provider for ${At(s)}!`);throw u.name="NullInjectorError",u}return a}}function H_(...r){return{\u0275providers:qg(0,r),\u0275fromNgModule:!0}}function qg(r,...s){const a=[],u=new Set;let g;const y=I=>{a.push(I)};return Uh(s,I=>{const S=I;wu(S,y,[],u)&&(g||=[],g.push(S))}),void 0!==g&&G_(g,y),a}function G_(r,s){for(let a=0;a<r.length;a++){const{ngModule:u,providers:g}=r[a];fd(g,y=>{s(y,u)})}}function wu(r,s,a,u){if(!(r=xt(r)))return!1;let g=null,y=Dn(r);const I=!y&&cr(r);if(y||I){if(I&&!I.standalone)return!1;g=r}else{const R=r.ngModule;if(y=Dn(R),!y)return!1;g=R}const S=u.has(g);if(I){if(S)return!1;if(u.add(g),I.dependencies){const R="function"==typeof I.dependencies?I.dependencies():I.dependencies;for(const z of R)wu(z,s,a,u)}}else{if(!y)return!1;{if(null!=y.imports&&!S){let z;u.add(g);try{Uh(y.imports,ie=>{wu(ie,s,a,u)&&(z||=[],z.push(ie))})}finally{}void 0!==z&&G_(z,s)}if(!S){const z=ka(g)||(()=>new g);s({provide:g,useFactory:z,deps:tr},g),s({provide:U_,useValue:g,multi:!0},g),s({provide:rf,useValue:()=>kn(g),multi:!0},g)}const R=y.providers;if(null!=R&&!S){const z=r;fd(R,ie=>{s(ie,z)})}}}return g!==r&&void 0!==r.providers}function fd(r,s){for(let a of r)ot(a)&&(a=a.\u0275providers),Array.isArray(a)?fd(a,s):s(a)}const jv=Pe({provide:String,useValue:Pe});function Zg(r){return null!==r&&"object"==typeof r&&jv in r}function pd(r){return"function"==typeof r}const Yg=new Nn("Set Injector scope."),Qg={},$_={};let Jg;function Ip(){return void 0===Jg&&(Jg=new Wg),Jg}class bl{}class Iu extends bl{get destroyed(){return this._destroyed}constructor(s,a,u,g){super(),this.parent=a,this.source=u,this.scopes=g,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,em(s,I=>this.processProvider(I)),this.records.set(sf,af(void 0,this)),g.has("environment")&&this.records.set(bl,af(void 0,this));const y=this.records.get(Yg);null!=y&&"string"==typeof y.value&&this.scopes.add(y.value),this.injectorDefTypes=new Set(this.get(U_.multi,tr,tn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();const s=this._onDestroyHooks;this._onDestroyHooks=[];for(const a of s)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(s){return this.assertNotDestroyed(),this._onDestroyHooks.push(s),()=>this.removeOnDestroy(s)}runInContext(s){this.assertNotDestroyed();const a=Tn(this),u=mn(void 0);try{return s()}finally{Tn(a),mn(u)}}get(s,a=V,u=tn.Default){if(this.assertNotDestroyed(),s.hasOwnProperty(ci))return s[ci](this);u=so(u);const y=Tn(this),I=mn(void 0);try{if(!(u&tn.SkipSelf)){let R=this.records.get(s);if(void 0===R){const z=function Ib(r){return"function"==typeof r||"object"==typeof r&&r instanceof Nn}(s)&&at(s);R=z&&this.injectableDefInScope(z)?af(z_(s),Qg):null,this.records.set(s,R)}if(null!=R)return this.hydrate(s,R)}return(u&tn.Self?Ip():this.parent).get(s,a=u&tn.Optional&&a===V?null:a)}catch(S){if("NullInjectorError"===S.name){if((S[W]=S[W]||[]).unshift(At(s)),y)throw S;return function js(r,s,a,u){const g=r[W];throw s[Tt]&&g.unshift(s[Tt]),r.message=function Ma(r,s,a,u=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.slice(2):r;let g=At(s);if(Array.isArray(s))g=s.map(At).join(" -> ");else if("object"==typeof s){let y=[];for(let I in s)if(s.hasOwnProperty(I)){let S=s[I];y.push(I+":"+("string"==typeof S?JSON.stringify(S):At(S)))}g=`{${y.join(", ")}}`}return`${a}${u?"("+u+")":""}[${g}]: ${r.replace(ve,"\n  ")}`}("\n"+r.message,g,a,u),r.ngTokenPath=g,r[W]=null,r}(S,s,"R3InjectorError",this.source)}throw S}finally{mn(I),Tn(y)}}resolveInjectorInitializers(){const s=Tn(this),a=mn(void 0);try{const g=this.get(rf.multi,tr,tn.Self);for(const y of g)y()}finally{Tn(s),mn(a)}}toString(){const s=[],a=this.records;for(const u of a.keys())s.push(At(u));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ge(205,!1)}processProvider(s){let a=pd(s=xt(s))?s:xt(s&&s.provide);const u=function zv(r){return Zg(r)?af(void 0,r.useValue):af(Wv(r),Qg)}(s);if(pd(s)||!0!==s.multi)this.records.get(a);else{let g=this.records.get(a);g||(g=af(void 0,Qg,!0),g.factory=()=>oa(g.multi),this.records.set(a,g)),a=s,g.multi.push(s)}this.records.set(a,u)}hydrate(s,a){return a.value===Qg&&(a.value=$_,a.value=a.factory()),"object"==typeof a.value&&a.value&&function qv(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=xt(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}removeOnDestroy(s){const a=this._onDestroyHooks.indexOf(s);-1!==a&&this._onDestroyHooks.splice(a,1)}}function z_(r){const s=at(r),a=null!==s?s.factory:ka(r);if(null!==a)return a;if(r instanceof Nn)throw new Ge(204,!1);if(r instanceof Function)return function wb(r){const s=r.length;if(s>0)throw Vl(s,"?"),new Ge(204,!1);const a=function yr(r){return r&&(r[on]||r[wn])||null}(r);return null!==a?()=>a.factory(r):()=>new r}(r);throw new Ge(204,!1)}function Wv(r,s,a){let u;if(pd(r)){const g=xt(r);return ka(g)||z_(g)}if(Zg(r))u=()=>xt(r.useValue);else if(function j_(r){return!(!r||!r.useFactory)}(r))u=()=>r.useFactory(...oa(r.deps||[]));else if(function Kg(r){return!(!r||!r.useExisting)}(r))u=()=>kn(xt(r.useExisting));else{const g=xt(r&&(r.useClass||r.provide));if(!function Xg(r){return!!r.deps}(r))return ka(g)||z_(g);u=()=>new g(...oa(r.deps))}return u}function af(r,s,a=!1){return{factory:r,value:s,multi:a?[]:void 0}}function em(r,s){for(const a of r)Array.isArray(a)?em(a,s):a&&ot(a)?em(a.\u0275providers,s):s(a)}const W_=new Nn("AppId",{providedIn:"root",factory:()=>Zv}),Zv="ng",Ho=new Nn("Platform Initializer"),Go=new Nn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Yv=new Nn("AnimationModuleType"),rT=new Nn("CSP nonce",{providedIn:"root",factory:()=>gp().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let rm=(r,s,a)=>null;function ah(r,s,a=!1){return rm(r,s,a)}class sm{}class Xv{}class om{resolveComponentFactory(s){throw function e0(r){const s=Error(`No component factory found for ${At(r)}.`);return s.ngComponent=r,s}(s)}}let lh=(()=>{class r{static#e=this.NULL=new om}return r})();function ty(){return md(Bi(),ut())}function md(r,s){return new _d(Bs(r,s))}let _d=(()=>{class r{constructor(a){this.nativeElement=a}static#e=this.__NG_ELEMENT_ID__=ty}return r})();function am(r){return r instanceof _d?r.nativeElement:r}class cm{}let Sb=(()=>{class r{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function ny(){const r=ut(),a=Oi(Bi().index,r);return(Jr(a)?a:r)[On]}()}return r})(),lm=(()=>{class r{static#e=this.\u0275prov=De({token:r,providedIn:"root",factory:()=>null})}return r})();class um{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const ry=new um("16.2.12"),dm={};function hm(r){if(!vr()&&!function ln(){return an}())throw new Ge(-203,!1)}function sy(r,s=null,a=null,u){const g=r0(r,s,a,u);return g.resolveInjectorInitializers(),g}function r0(r,s=null,a=null,u,g=new Set){const y=[a||tr,H_(r)];return u=u||("object"==typeof r?void 0:At(r)),new Iu(y,s||Ip(),u||null,g)}let na=(()=>{class r{static#e=this.THROW_IF_NOT_FOUND=V;static#t=this.NULL=new Wg;static create(a,u){if(Array.isArray(a))return sy({name:""},u,a,"");{const g=a.name??"";return sy({name:g},a.parent,a.providers,g)}}static#n=this.\u0275prov=De({token:r,providedIn:"any",factory:()=>kn(sf)});static#r=this.__NG_ELEMENT_ID__=-1}return r})();function ff(r){return r.ngOriginalError}class Eu{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s);this._console.error("ERROR",s),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&ff(s);for(;a&&ff(a);)a=ff(a);return a||null}}let Ei=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=Cp;static#t=this.__NG_ENV_ID__=a=>a}return r})();class pm extends Ei{constructor(s){super(),this._lView=s}onDestroy(s){return qa(this._lView,s),()=>function ys(r,s){if(null===r[uo])return;const a=r[uo].indexOf(s);-1!==a&&r[uo].splice(a,1)}(this._lView,s)}}function Cp(){return new pm(ut())}function ay(r){return s=>{setTimeout(r,void 0,s)}}const wl=class Sp extends w.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,u){let g=s,y=a||(()=>null),I=u;if(s&&"object"==typeof s){const R=s;g=R.next?.bind(R),y=R.error?.bind(R),I=R.complete?.bind(R)}this.__isAsync&&(y=ay(y),g&&(g=ay(g)),I&&(I=ay(I)));const S=super.subscribe({next:g,error:y,complete:I});return s instanceof ce.w0&&s.add(S),S}};function s0(...r){}class ra{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new wl(!1),this.onMicrotaskEmpty=new wl(!1),this.onStable=new wl(!1),this.onError=new wl(!1),typeof Zone>"u")throw new Ge(908,!1);Zone.assertZonePatched();const g=this;g._nesting=0,g._outer=g._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!u&&a,g.shouldCoalesceRunChangeDetection=u,g.lastRequestAnimationFrameId=-1,g.nativeRequestAnimationFrame=function xb(){const r="function"==typeof ir.requestAnimationFrame;let s=ir[r?"requestAnimationFrame":"setTimeout"],a=ir[r?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&s&&a){const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u);const g=a[Zone.__symbol__("OriginalDelegate")];g&&(a=g)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function cy(r){const s=()=>{!function Du(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(ir,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,pf(r),r.isCheckStableRunning=!0,$l(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),pf(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,u,g,y,I,S)=>{if(function _m(r){return!(!Array.isArray(r)||1!==r.length)&&!0===r[0].data?.__ignore_ng_zone__}(S))return a.invokeTask(g,y,I,S);try{return Cu(r),a.invokeTask(g,y,I,S)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===y.type||r.shouldCoalesceRunChangeDetection)&&s(),gm(r)}},onInvoke:(a,u,g,y,I,S,R)=>{try{return Cu(r),a.invoke(g,y,I,S,R)}finally{r.shouldCoalesceRunChangeDetection&&s(),gm(r)}},onHasTask:(a,u,g,y)=>{a.hasTask(g,y),u===g&&("microTask"==y.change?(r._hasPendingMicrotasks=y.microTask,pf(r),$l(r)):"macroTask"==y.change&&(r.hasPendingMacrotasks=y.macroTask))},onHandleError:(a,u,g,y)=>(a.handleError(g,y),r.runOutsideAngular(()=>r.onError.emit(y)),!1)})}(g)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ra.isInAngularZone())throw new Ge(909,!1)}static assertNotInAngularZone(){if(ra.isInAngularZone())throw new Ge(909,!1)}run(s,a,u){return this._inner.run(s,a,u)}runTask(s,a,u,g){const y=this._inner,I=y.scheduleEventTask("NgZoneEvent: "+g,s,Ap,s0,s0);try{return y.runTask(I,a,u)}finally{y.cancelTask(I)}}runGuarded(s,a,u){return this._inner.runGuarded(s,a,u)}runOutsideAngular(s){return this._outer.run(s)}}const Ap={};function $l(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function pf(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function Cu(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function gm(r){r._nesting--,$l(r)}class Ac{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new wl,this.onMicrotaskEmpty=new wl,this.onStable=new wl,this.onError=new wl}run(s,a,u){return s.apply(a,u)}runGuarded(s,a,u){return s.apply(a,u)}runOutsideAngular(s){return s()}runTask(s,a,u,g){return s.apply(a,u)}}const mm=new Nn("",{providedIn:"root",factory:o0});function o0(){const r=er(ra);let s=!0;const a=new h.y(g=>{s=r.isStable&&!r.hasPendingMacrotasks&&!r.hasPendingMicrotasks,r.runOutsideAngular(()=>{g.next(s),g.complete()})}),u=new h.y(g=>{let y;r.runOutsideAngular(()=>{y=r.onStable.subscribe(()=>{ra.assertNotInAngularZone(),queueMicrotask(()=>{!s&&!r.hasPendingMacrotasks&&!r.hasPendingMicrotasks&&(s=!0,g.next(!0))})})});const I=r.onUnstable.subscribe(()=>{ra.assertInAngularZone(),s&&(s=!1,r.runOutsideAngular(()=>{g.next(!1)}))});return()=>{y.unsubscribe(),I.unsubscribe()}});return(0,we.T)(a,u.pipe(re()))}function ly(r){return r.ownerDocument.defaultView}function Au(r){return r instanceof Function?r():r}let Nu=(()=>{class r{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=De({token:r,providedIn:"root",factory:()=>new r})}return r})();function yd(r){for(;r;){r[xn]|=64;const s=lp(r);if(Wi(r)&&!s)return r;r=s}return null}const vd=new Nn("",{providedIn:"root",factory:()=>!1});let nc=null;function zl(r,s){return r[s]??yf()}function Il(r,s){const a=yf();a.producerNode?.length&&(r[s]=nc,a.lView=r,nc=Td())}const Id={...Ti,consumerIsAlwaysLive:!0,consumerMarkedDirty:r=>{yd(r.lView)},lView:null};function Td(){return Object.create(Id)}function yf(){return nc??=Td(),nc}const Jn={};function Op(r){Ou(gr(),ut(),zr()+r,!1)}function Ou(r,s,a,u){if(!u)if(3==(3&s[xn])){const y=r.preOrderCheckHooks;null!==y&&$c(s,y,a)}else{const y=r.preOrderHooks;null!==y&&hl(s,y,0,a)}ea(a)}function Wl(r,s=tn.Default){const a=ut();return null===a?kn(r,s):qc(Bi(),a,xt(r),s)}function Mp(){throw new Error("invalid")}function wm(r,s,a,u,g,y,I,S,R,z,ie){const me=s.blueprint.slice();return me[lr]=g,me[xn]=140|u,(null!==z||r&&2048&r[xn])&&(me[xn]|=2048),Wu(me),me[Or]=me[Es]=r,me[Mr]=a,me[ps]=I||r&&r[ps],me[On]=S||r&&r[On],me[di]=R||r&&r[di]||null,me[ti]=y,me[Oo]=function ab(){return KI++}(),me[br]=ie,me[ol]=z,me[Yr]=2==s.type?r[Yr]:me,me}function ql(r,s,a,u,g){let y=r.data[s];if(null===y)y=Im(r,s,a,u,g),function Qu(){return _n.lFrame.inI18n}()&&(y.flags|=32);else if(64&y.type){y.type=a,y.value=u,y.attrs=g;const I=ul();y.injectorIndex=null===I?-1:I.injectorIndex}return mo(y,!0),y}function Im(r,s,a,u,g){const y=Yu(),I=nu(),R=r.data[s]=function _y(r,s,a,u,g,y){let I=s?s.injectorIndex:-1,S=0;return ga()&&(S|=128),{type:a,index:u,insertBeforeIndex:null,injectorIndex:I,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:S,providerIndexes:0,value:g,attrs:y,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,I?y:y&&y.parent,a,s,u,g);return null===r.firstChild&&(r.firstChild=R),null!==y&&(I?null==y.child&&null!==R.parent&&(y.child=R):null===y.next&&(y.next=R,R.prev=y)),R}function jo(r,s,a,u){if(0===a)return-1;const g=s.length;for(let y=0;y<a;y++)s.push(u),r.blueprint.push(u),r.data.push(null);return g}function xp(r,s,a,u,g){const y=zl(s,gs),I=zr(),S=2&u;try{ea(-1),S&&s.length>Bn&&Ou(r,s,Bn,!1),Ls(S?2:0,g);const z=S?y:null,ie=ha(z);try{null!==z&&(z.dirty=!1),a(u,g)}finally{yc(z,ie)}}finally{S&&null===s[gs]&&Il(s,gs),ea(I),Ls(S?3:1,g)}}function Tm(r,s,a){if(Ss(s)){const u=Xr(null);try{const y=s.directiveEnd;for(let I=s.directiveStart;I<y;I++){const S=r.data[I];S.contentQueries&&S.contentQueries(1,a[I],I)}}finally{Xr(u)}}}function py(r,s,a){xl()&&(function kp(r,s,a,u){const g=a.directiveStart,y=a.directiveEnd;rs(a)&&function Fp(r,s,a){const u=Bs(s,r),g=l0(a);let I=16;a.signals?I=4096:a.onPush&&(I=64);const S=by(r,wm(r,g,null,I,u,s,null,r[ps].rendererFactory.createRenderer(u,a),null,null,null));r[s.index]=S}(s,a,r.data[g+a.componentOffset]),r.firstCreatePass||pl(a,s),bo(u,s);const I=a.initialInputs;for(let S=g;S<y;S++){const R=r.data[S],z=Zc(s,r,S,a);bo(z,s),null!==I&&Lb(0,S-g,z,R,0,I),Ai(R)&&(Oi(a.index,s)[Mr]=Zc(s,r,S,a))}}(r,s,a,Bs(a,s)),64==(64&a.flags)&&bf(r,s,a))}function Rp(r,s,a=Bs){const u=s.localNames;if(null!==u){let g=s.index+1;for(let y=0;y<u.length;y+=2){const I=u[y+1],S=-1===I?a(s,r):r[I];r[g++]=S}}}function l0(r){const s=r.tView;return null===s||s.incompleteFirstPass?r.tView=gy(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts,r.id):s}function gy(r,s,a,u,g,y,I,S,R,z,ie){const me=Bn+u,Me=me+g,Le=function vf(r,s){const a=[];for(let u=0;u<s;u++)a.push(u<r?null:Jn);return a}(me,Me),pt="function"==typeof z?z():z;return Le[Ft]={type:r,blueprint:Le,template:a,queries:null,viewQuery:S,declTNode:s,data:Le.slice().fill(null,me),bindingStartIndex:me,expandoStartIndex:Me,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof y?y():y,pipeRegistry:"function"==typeof I?I():I,firstChild:null,schemas:R,consts:pt,incompleteFirstPass:!1,ssrId:ie}}let my=r=>null;function Em(r,s,a,u){for(let g in r)if(r.hasOwnProperty(g)){a=null===a?{}:a;const y=r[g];null===u?gh(a,s,g,y):u.hasOwnProperty(g)&&gh(a,s,u[g],y)}return a}function gh(r,s,a,u){r.hasOwnProperty(a)?r[a].push(s,u):r[a]=[s,u]}function Va(r,s,a,u,g,y,I,S){const R=Bs(s,a);let ie,z=s.inputs;!S&&null!=z&&(ie=z[u])?(Dd(r,a,ie,u,g),rs(s)&&function Di(r,s){const a=Oi(s,r);16&a[xn]||(a[xn]|=64)}(a,s.index)):3&s.type&&(u=function Qc(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(u),g=null!=I?I(g,s.value||"",u):g,y.setProperty(R,u,g))}function Jc(r,s,a,u){if(xl()){const g=null===u?null:{"":-1},y=function Xc(r,s){const a=r.directiveRegistry;let u=null,g=null;if(a)for(let y=0;y<a.length;y++){const I=a[y];if(Ts(s,I.selectors,!1))if(u||(u=[]),Ai(I))if(null!==I.findHostDirectiveDefs){const S=[];g=g||new Map,I.findHostDirectiveDefs(I,S,g),u.unshift(...S,I),wo(r,s,S.length)}else u.unshift(I),wo(r,s,0);else g=g||new Map,I.findHostDirectiveDefs?.(I,u,g),u.push(I)}return null===u?null:[u,g]}(r,a);let I,S;null===y?I=S=null:[I,S]=y,null!==I&&vy(r,s,a,I,g,S),g&&function Dm(r,s,a){if(s){const u=r.localNames=[];for(let g=0;g<s.length;g+=2){const y=a[s[g+1]];if(null==y)throw new Ge(-301,!1);u.push(s[g],y)}}}(a,u,g)}a.mergedAttrs=lc(a.mergedAttrs,a.attrs)}function vy(r,s,a,u,g,y){for(let z=0;z<u.length;z++)Ll(pl(a,s),r,u[z].type);!function mh(r,s,a){r.flags|=1,r.directiveStart=s,r.directiveEnd=s+a,r.providerIndexes=s}(a,r.data.length,u.length);for(let z=0;z<u.length;z++){const ie=u[z];ie.providersResolver&&ie.providersResolver(ie)}let I=!1,S=!1,R=jo(r,s,u.length,null);for(let z=0;z<u.length;z++){const ie=u[z];a.mergedAttrs=lc(a.mergedAttrs,ie.hostAttrs),Sm(r,a,s,R,ie),Cm(R,ie,g),null!==ie.contentQueries&&(a.flags|=4),(null!==ie.hostBindings||null!==ie.hostAttrs||0!==ie.hostVars)&&(a.flags|=64);const me=ie.type.prototype;!I&&(me.ngOnChanges||me.ngOnInit||me.ngDoCheck)&&((r.preOrderHooks??=[]).push(a.index),I=!0),!S&&(me.ngOnChanges||me.ngDoCheck)&&((r.preOrderCheckHooks??=[]).push(a.index),S=!0),R++}!function yy(r,s,a){const g=s.directiveEnd,y=r.data,I=s.attrs,S=[];let R=null,z=null;for(let ie=s.directiveStart;ie<g;ie++){const me=y[ie],Me=a?a.get(me):null,pt=Me?Me.outputs:null;R=Em(me.inputs,ie,R,Me?Me.inputs:null),z=Em(me.outputs,ie,z,pt);const Nt=null===R||null===I||li(s)?null:Bb(R,ie,I);S.push(Nt)}null!==R&&(R.hasOwnProperty("class")&&(s.flags|=8),R.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=S,s.inputs=R,s.outputs=z}(r,a,y)}function bf(r,s,a){const u=a.directiveStart,g=a.directiveEnd,y=a.index,I=function Ju(){return _n.lFrame.currentDirectiveIndex}();try{ea(y);for(let S=u;S<g;S++){const R=r.data[S],z=s[S];C(S),(null!==R.hostBindings||0!==R.hostVars||null!==R.hostAttrs)&&xu(R,z)}}finally{ea(-1),C(I)}}function xu(r,s){null!==r.hostBindings&&r.hostBindings(1,s)}function wo(r,s,a){s.componentOffset=a,(r.components??=[]).push(s.index)}function Cm(r,s,a){if(a){if(s.exportAs)for(let u=0;u<s.exportAs.length;u++)a[s.exportAs[u]]=r;Ai(s)&&(a[""]=r)}}function Sm(r,s,a,u,g){r.data[u]=g;const y=g.factory||(g.factory=ka(g.type)),I=new Xu(y,Ai(g),Wl);r.blueprint[u]=I,a[u]=I,function Mu(r,s,a,u,g){const y=g.hostBindings;if(y){let I=r.hostBindingOpCodes;null===I&&(I=r.hostBindingOpCodes=[]);const S=~s.index;(function Ed(r){let s=r.length;for(;s>0;){const a=r[--s];if("number"==typeof a&&a<0)return a}return 0})(I)!=S&&I.push(S),I.push(a,u,y)}}(r,s,u,jo(r,a,g.hostVars,Jn),g)}function ia(r,s,a,u,g,y){const I=Bs(r,s);!function wf(r,s,a,u,g,y,I){if(null==y)r.removeAttribute(s,g,a);else{const S=null==I?Ye(y):I(y,u||"",g);r.setAttribute(s,g,S,a)}}(s[On],I,y,r.value,a,u,g)}function Lb(r,s,a,u,g,y){const I=y[s];if(null!==I)for(let S=0;S<I.length;)Lp(u,a,I[S++],I[S++],I[S++])}function Lp(r,s,a,u,g){const y=Xr(null);try{const I=r.inputTransforms;null!==I&&I.hasOwnProperty(u)&&(g=I[u].call(s,g)),null!==r.setInput?r.setInput(s,g,a,u):s[u]=g}finally{Xr(y)}}function Bb(r,s,a){let u=null,g=0;for(;g<a.length;){const y=a[g];if(0!==y)if(5!==y){if("number"==typeof y)break;if(r.hasOwnProperty(y)){null===u&&(u=[]);const I=r[y];for(let S=0;S<I.length;S+=2)if(I[S]===s){u.push(y,I[S+1],a[g+1]);break}}g+=2}else g+=2;else g+=4}return u}function Vb(r,s,a,u){return[r,!0,!1,s,null,0,u,a,null,null,null]}function Bp(r,s){const a=r.contentQueries;if(null!==a)for(let u=0;u<a.length;u+=2){const y=a[u+1];if(-1!==y){const I=r.data[y];P(a[u]),I.contentQueries(2,s[y],y)}}}function by(r,s){return r[No]?r[hc][Li]=s:r[No]=s,r[hc]=s,s}function If(r,s,a){P(0);const u=Xr(null);try{s(r,a)}finally{Xr(u)}}function wy(r){return r[ji]||(r[ji]=[])}function Ru(r){return r.cleanup||(r.cleanup=[])}function $o(r,s){const a=r[di],u=a?a.get(Eu,null):null;u&&u.handleError(s)}function Dd(r,s,a,u,g){for(let y=0;y<a.length;){const I=a[y++],S=a[y++];Lp(r.data[I],s[I],u,S,g)}}function Da(r,s,a){const u=Fa(s,r);!function Dv(r,s,a){r.setValue(s,a)}(r[On],u,a)}function Iy(r,s){const a=Oi(s,r),u=a[Ft];!function dT(r,s){for(let a=s.length;a<r.blueprint.length;a++)s.push(r.blueprint[a])}(u,a);const g=a[lr];null!==g&&null===a[br]&&(a[br]=ah(g,a[di])),Ot(u,a,a[Mr])}function Ot(r,s,a){_e(s);try{const u=r.viewQuery;null!==u&&If(1,u,a);const g=r.template;null!==g&&xp(r,s,g,1,a),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&Bp(r,s),r.staticViewQueries&&If(2,r.viewQuery,a);const y=r.components;null!==y&&function Us(r,s){for(let a=0;a<s.length;a++)Iy(r,s[a])}(s,y)}catch(u){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),u}finally{s[xn]&=-5,xr()}}let Nc=(()=>{class r{constructor(){this.all=new Set,this.queue=new Map}create(a,u,g){const y=typeof Zone>"u"?null:Zone.current,I=function or(r,s,a){const u=Object.create(Br);a&&(u.consumerAllowSignalWrites=!0),u.fn=r,u.schedule=s;const g=I=>{u.cleanupFn=I};return u.ref={notify:()=>cl(u),run:()=>{if(u.dirty=!1,u.hasRun&&!Qs(u))return;u.hasRun=!0;const I=ha(u);try{u.cleanupFn(),u.cleanupFn=$n,u.fn(g)}finally{yc(u,I)}},cleanup:()=>u.cleanupFn()},u.ref}(a,z=>{this.all.has(z)&&this.queue.set(z,y)},g);let S;this.all.add(I),I.notify();const R=()=>{I.cleanup(),S?.(),this.all.delete(I),this.queue.delete(I)};return S=u?.onDestroy(R),{destroy:R}}flush(){if(0!==this.queue.size)for(const[a,u]of this.queue)this.queue.delete(a),u?u.run(()=>a.run()):a.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=De({token:r,providedIn:"root",factory:()=>new r})}return r})();function hn(r,s,a){let u=a?r.styles:null,g=a?r.classes:null,y=0;if(null!==s)for(let I=0;I<s.length;I++){const S=s[I];"number"==typeof S?y=S:1==y?g=Bt(g,S):2==y&&(u=Bt(u,S+": "+s[++I]+";"))}a?r.styles=u:r.stylesWithoutHost=u,a?r.classes=g:r.classesWithoutHost=g}function In(r,s,a,u,g=!1){for(;null!==a;){const y=s[a.index];null!==y&&u.push(wi(y)),$i(y)&&Ub(y,u);const I=a.type;if(8&I)In(r,s,a.child,u);else if(32&I){const S=ad(a,s);let R;for(;R=S();)u.push(R)}else if(16&I){const S=Nv(s,a);if(Array.isArray(S))u.push(...S);else{const R=lp(s[Yr]);In(R[Ft],R,S,u,!0)}}a=g?a.projectionNext:a.next}return u}function Ub(r,s){for(let a=Sr;a<r.length;a++){const u=r[a],g=u[Ft].firstChild;null!==g&&In(u[Ft],u,g,s)}r[hi]!==r[lr]&&s.push(r[hi])}function Wt(r,s,a,u=!0){const g=s[ps],y=g.rendererFactory,I=g.afterRenderEventManager;y.begin?.(),I?.begin();try{to(r,s,r.template,a)}catch(R){throw u&&$o(s,R),R}finally{y.end?.(),g.effectManager?.flush(),I?.end()}}function to(r,s,a,u){const g=s[xn];if(256!=(256&g)){s[ps].effectManager?.flush(),_e(s);try{Wu(s),function dl(r){return _n.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==a&&xp(r,s,a,2,u);const I=3==(3&g);if(I){const z=r.preOrderCheckHooks;null!==z&&$c(s,z,null)}else{const z=r.preOrderHooks;null!==z&&hl(s,z,0,null),Gd(s,0)}if(function f0(r){for(let s=S_(r);null!==s;s=eh(s)){if(!s[ms])continue;const a=s[ja];for(let u=0;u<a.length;u++){Nh(a[u])}}}(s),Ey(s,2),null!==r.contentQueries&&Bp(r,s),I){const z=r.contentCheckHooks;null!==z&&$c(s,z)}else{const z=r.contentHooks;null!==z&&hl(s,z,1),Gd(s,1)}!function fy(r,s){const a=r.hostBindingOpCodes;if(null===a)return;const u=zl(s,Ds);try{for(let g=0;g<a.length;g++){const y=a[g];if(y<0)ea(~y);else{const I=y,S=a[++g],R=a[++g];xh(S,I),u.dirty=!1;const z=ha(u);try{R(2,s[I])}finally{yc(u,z)}}}}finally{null===s[Ds]&&Il(s,Ds),ea(-1)}}(r,s);const S=r.components;null!==S&&Nm(s,S,0);const R=r.viewQuery;if(null!==R&&If(2,R,u),I){const z=r.viewCheckHooks;null!==z&&$c(s,z)}else{const z=r.viewHooks;null!==z&&hl(s,z,2),Gd(s,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),s[xn]&=-73,ri(s)}finally{xr()}}}function Ey(r,s){for(let a=S_(r);null!==a;a=eh(a))for(let u=Sr;u<a.length;u++)el(a[u],s)}function Hb(r,s,a){el(Oi(s,r),a)}function el(r,s){if(!function Sh(r){return 128==(128&r[xn])}(r))return;const a=r[Ft],u=r[xn];if(80&u&&0===s||1024&u||2===s)to(a,r,a.template,r[Mr]);else if(r[Zs]>0){Ey(r,1);const g=a.components;null!==g&&Nm(r,g,1)}}function Nm(r,s,a){for(let u=0;u<s.length;u++)Hb(r,s[u],a)}class Pu{get rootNodes(){const s=this._lView,a=s[Ft];return In(a,s,a.firstChild,[])}constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Mr]}set context(s){this._lView[Mr]=s}get destroyed(){return 256==(256&this._lView[xn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[Or];if($i(s)){const a=s[8],u=a?a.indexOf(this):-1;u>-1&&(dp(s,u),Hh(a,u))}this._attachedToViewContainer=!1}Kh(this._lView[Ft],this._lView)}onDestroy(s){qa(this._lView,s)}markForCheck(){yd(this._cdRefInjectingView||this._lView)}detach(){this._lView[xn]&=-129}reattach(){this._lView[xn]|=128}detectChanges(){Wt(this._lView[Ft],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ge(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function N_(r,s){Rg(r,s,s[On],2,null,null)}(this._lView[Ft],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Ge(902,!1);this._appRef=s}}class Om extends Pu{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;Wt(s[Ft],s,s[Mr],!1)}checkNoChanges(){}get context(){return null}}class p0 extends lh{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=cr(s);return new qn(a,this.ngModule)}}function Gb(r){const s=[];for(let a in r)r.hasOwnProperty(a)&&s.push({propName:r[a],templateName:a});return s}class g0{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,u){u=so(u);const g=this.injector.get(s,dm,u);return g!==dm||a===dm?g:this.parentInjector.get(s,a,u)}}class qn extends Xv{get inputs(){const s=this.componentDef,a=s.inputTransforms,u=Gb(s.inputs);if(null!==a)for(const g of u)a.hasOwnProperty(g.propName)&&(g.transform=a[g.propName]);return u}get outputs(){return Gb(this.componentDef.outputs)}constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function xa(r){return r.map(sl).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}create(s,a,u,g){let y=(g=g||this.ngModule)instanceof bl?g:g?.injector;y&&null!==this.componentDef.getStandaloneInjector&&(y=this.componentDef.getStandaloneInjector(y)||y);const I=y?new g0(s,y):s,S=I.get(cm,null);if(null===S)throw new Ge(407,!1);const me={rendererFactory:S,sanitizer:I.get(lm,null),effectManager:I.get(Nc,null),afterRenderEventManager:I.get(Nu,null)},Me=S.createRenderer(null,this.componentDef),Le=this.componentDef.selectors[0][0]||"div",pt=u?function Pp(r,s,a,u){const y=u.get(vd,!1)||a===ds.ShadowDom,I=r.selectRootElement(s,y);return function u0(r){my(r)}(I),I}(Me,u,this.componentDef.encapsulation,I):Ng(Me,Le,function Dy(r){const s=r.toLowerCase();return"svg"===s?za:"math"===s?"math":null}(Le)),bn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let wt=null;null!==pt&&(wt=ah(pt,I,!0));const hr=gy(0,null,null,1,0,null,null,null,null,null,null),Ur=wm(null,hr,null,bn,null,null,me,Me,I,null,wt);let Hi,il;_e(Ur);try{const Ch=this.componentDef;let m_,ID=null;Ch.findHostDirectiveDefs?(m_=[],ID=new Map,Ch.findHostDirectiveDefs(Ch,m_,ID),m_.push(Ch)):m_=[Ch];const RS=function m0(r,s){const a=r[Ft],u=Bn;return r[u]=s,ql(a,u,2,"#host",null)}(Ur,pt),PS=function cs(r,s,a,u,g,y,I){const S=g[Ft];!function Sn(r,s,a,u){for(const g of r)s.mergedAttrs=lc(s.mergedAttrs,g.hostAttrs);null!==s.mergedAttrs&&(hn(s,s.mergedAttrs,!0),null!==a&&pp(u,a,s))}(u,r,s,I);let R=null;null!==s&&(R=ah(s,g[di]));const z=y.rendererFactory.createRenderer(s,a);let ie=16;a.signals?ie=4096:a.onPush&&(ie=64);const me=wm(g,l0(a),null,ie,g[r.index],r,y,z,null,null,R);return S.firstCreatePass&&wo(S,r,u.length-1),by(g,me),g[r.index]=me}(RS,pt,Ch,m_,Ur,me,Me);il=Bd(hr,Bn),pt&&function ar(r,s,a,u){if(u)ts(r,a,["ng-version",ry.full]);else{const{attrs:g,classes:y}=function dc(r){const s=[],a=[];let u=1,g=2;for(;u<r.length;){let y=r[u];if("string"==typeof y)2===g?""!==y&&s.push(y,r[++u]):8===g&&a.push(y);else{if(!yi(g))break;g=y}u++}return{attrs:s,classes:a}}(s.selectors[0]);g&&ts(r,a,g),y&&y.length>0&&Pg(r,a,y.join(" "))}}(Me,Ch,pt,u),void 0!==a&&function Ef(r,s,a){const u=r.projection=[];for(let g=0;g<s.length;g++){const y=a[g];u.push(null!=y?Array.from(y):null)}}(il,this.ngContentSelectors,a),Hi=function Tf(r,s,a,u,g,y){const I=Bi(),S=g[Ft],R=Bs(I,g);vy(S,g,I,a,null,u);for(let ie=0;ie<a.length;ie++)bo(Zc(g,S,I.directiveStart+ie,I),g);bf(S,g,I),R&&bo(R,g);const z=Zc(g,S,I.directiveStart+I.componentOffset,I);if(r[Mr]=g[Mr]=z,null!==y)for(const ie of y)ie(z,s);return Tm(S,I,r),z}(PS,Ch,m_,ID,Ur,[Hs]),Ot(hr,Ur,null)}finally{xr()}return new ku(this.componentType,Hi,md(il,Ur),Ur,il)}}class ku extends sm{constructor(s,a,u,g,y){super(),this.location=u,this._rootLView=g,this._tNode=y,this.previousInputValues=null,this.instance=a,this.hostView=this.changeDetectorRef=new Om(g),this.componentType=s}setInput(s,a){const u=this._tNode.inputs;let g;if(null!==u&&(g=u[s])){if(this.previousInputValues??=new Map,this.previousInputValues.has(s)&&Object.is(this.previousInputValues.get(s),a))return;const y=this._rootLView;Dd(y[Ft],y,g,s,a),this.previousInputValues.set(s,a),yd(Oi(this._tNode.index,y))}}get injector(){return new Lo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function Hs(){const r=Bi();su(ut()[Ft],r)}function _h(r){let s=function Xt(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),a=!0;const u=[r];for(;s;){let g;if(Ai(r))g=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Ge(903,!1);g=s.\u0275dir}if(g){if(a){u.push(g);const I=r;I.inputs=Tl(r.inputs),I.inputTransforms=Tl(r.inputTransforms),I.declaredInputs=Tl(r.declaredInputs),I.outputs=Tl(r.outputs);const S=g.hostBindings;S&&jb(r,S);const R=g.viewQuery,z=g.contentQueries;if(R&&Mm(r,R),z&&xm(r,z),it(r.inputs,g.inputs),it(r.declaredInputs,g.declaredInputs),it(r.outputs,g.outputs),null!==g.inputTransforms&&(null===I.inputTransforms&&(I.inputTransforms={}),it(I.inputTransforms,g.inputTransforms)),Ai(g)&&g.data.animation){const ie=r.data;ie.animation=(ie.animation||[]).concat(g.data.animation)}}const y=g.features;if(y)for(let I=0;I<y.length;I++){const S=y[I];S&&S.ngInherit&&S(r),S===_h&&(a=!1)}}s=Object.getPrototypeOf(s)}!function Cy(r){let s=0,a=null;for(let u=r.length-1;u>=0;u--){const g=r[u];g.hostVars=s+=g.hostVars,g.hostAttrs=lc(g.hostAttrs,a=lc(a,g.hostAttrs))}}(u)}function Tl(r){return r===hs?{}:r===tr?[]:r}function Mm(r,s){const a=r.viewQuery;r.viewQuery=a?(u,g)=>{s(u,g),a(u,g)}:s}function xm(r,s){const a=r.contentQueries;r.contentQueries=a?(u,g,y)=>{s(u,g,y),a(u,g,y)}:s}function jb(r,s){const a=r.hostBindings;r.hostBindings=a?(u,g)=>{s(u,g),a(u,g)}:s}function rc(r){return s=>{s.findHostDirectiveDefs=Rm,s.hostDirectives=(Array.isArray(r)?r:r()).map(a=>"function"==typeof a?{directive:xt(a),inputs:hs,outputs:hs}:{directive:xt(a.directive),inputs:Ay(a.inputs),outputs:Ay(a.outputs)})}}function Rm(r,s,a){if(null!==r.hostDirectives)for(const u of r.hostDirectives){const g=Kr(u.directive);$b(g.declaredInputs,u.inputs),Rm(g,s,a),a.set(g,u),s.push(g)}}function Ay(r){if(void 0===r||0===r.length)return hs;const s={};for(let a=0;a<r.length;a+=2)s[r[a]]=r[a+1];return s}function $b(r,s){for(const a in s)s.hasOwnProperty(a)&&(r[s[a]]=r[a])}function Ze(r){const s=r.inputConfig,a={};for(const u in s)if(s.hasOwnProperty(u)){const g=s[u];Array.isArray(g)&&g[2]&&(a[u]=g[2])}r.inputTransforms=a}function Ua(r){return!!Zl(r)&&(Array.isArray(r)||!(r instanceof Map)&&Symbol.iterator in r)}function Zl(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function Ca(r,s,a){return r[s]=a}function Io(r,s,a){return!Object.is(r[s],a)&&(r[s]=a,!0)}function Fu(r,s,a,u){const g=Io(r,s,a);return Io(r,s+1,u)||g}function Up(r,s,a,u,g){const y=Fu(r,s,a,u);return Io(r,s+2,g)||y}function Cf(r,s,a,u){const g=ut();return Io(g,Ya(),s)&&(gr(),ia(Rr(),g,r,s,a,u)),Cf}function Sf(r,s,a,u){return Io(r,Ya(),a)?s+Ye(a)+u:Jn}function l(r,s,a,u,g,y,I,S){const z=Up(r,function ko(){return _n.lFrame.bindingIndex}(),a,g,I);return ma(3),z?s+Ye(a)+u+Ye(g)+y+Ye(I)+S:Jn}function Hp(r,s,a,u,g,y,I,S){const R=ut(),z=gr(),ie=r+Bn,me=z.firstCreatePass?function Ad(r,s,a,u,g,y,I,S,R){const z=s.consts,ie=ql(s,r,4,I||null,La(z,S));Jc(s,a,ie,La(z,R)),su(s,ie);const me=ie.tView=gy(2,ie,u,g,y,s.directiveRegistry,s.pipeRegistry,null,s.schemas,z,null);return null!==s.queries&&(s.queries.template(s,ie),me.queries=s.queries.embeddedTView(ie)),ie}(ie,z,R,s,a,u,g,y,I):z.data[ie];mo(me,!1);const Me=Kl(z,R,me,r);Ph()&&xg(z,R,Me,me),bo(Me,R),by(R,R[ie]=Vb(Me,R,Me,me)),po(me)&&py(z,R,me),null!=I&&Rp(R,me,S)}let Kl=function nl(r,s,a,u){return Ec(!0),s[On].createComment("")};function Yl(r){return Wa(function ru(){return _n.lFrame.contextLView}(),Bn+r)}function Af(r,s,a){const u=ut();return Io(u,Ya(),s)&&Va(gr(),Rr(),u,r,s,u[On],a,!1),Af}function bh(r,s,a,u,g){const I=g?"class":"style";Dd(r,a,s.inputs[I],I,u)}function wh(r,s,a,u){const g=ut(),y=gr(),I=Bn+r,S=g[On],R=y.firstCreatePass?function Bu(r,s,a,u,g,y){const I=s.consts,R=ql(s,r,2,u,La(I,g));return Jc(s,a,R,La(I,y)),null!==R.attrs&&hn(R,R.attrs,!1),null!==R.mergedAttrs&&hn(R,R.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,R),R}(I,y,g,s,a,u):y.data[I],z=Pm(y,g,R,S,s,r);g[I]=z;const ie=po(R);return mo(R,!0),pp(S,z,R),32!=(32&R.flags)&&Ph()&&xg(y,g,z,R),0===function qu(){return _n.lFrame.elementDepthCount}()&&bo(z,g),function Oh(){_n.lFrame.elementDepthCount++}(),ie&&(py(y,g,R),Tm(y,R,g)),null!==u&&Rp(g,R),wh}function Vu(){let r=Bi();nu()?Za():(r=r.parent,mo(r,!1));const s=r;(function jc(r){return _n.skipHydrationRootTNode===r})(s)&&function tu(){_n.skipHydrationRootTNode=null}(),function Ml(){_n.lFrame.elementDepthCount--}();const a=gr();return a.firstCreatePass&&(su(a,r),Ss(r)&&a.queries.elementEnd(r)),null!=s.classesWithoutHost&&function qf(r){return 0!=(8&r.flags)}(s)&&bh(a,s,ut(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Zf(r){return 0!=(16&r.flags)}(s)&&bh(a,s,ut(),s.stylesWithoutHost,!1),Vu}function jp(r,s,a,u){return wh(r,s,a,u),Vu(),jp}let Pm=(r,s,a,u,g,y)=>(Ec(!0),Ng(u,g,function iu(){return _n.lFrame.currentNamespace}()));function b0(r,s,a){const u=ut(),g=gr(),y=r+Bn,I=g.firstCreatePass?function hT(r,s,a,u,g){const y=s.consts,I=La(y,u),S=ql(s,r,8,"ng-container",I);return null!==I&&hn(S,I,!0),Jc(s,a,S,La(y,g)),null!==s.queries&&s.queries.elementStart(s,S),S}(y,g,u,s,a):g.data[y];mo(I,!0);const S=Zb(g,u,I,r);return u[y]=S,Ph()&&xg(g,u,S,I),bo(S,u),po(I)&&(py(g,u,I),Tm(g,I,u)),null!=a&&Rp(u,I),b0}function w0(){let r=Bi();const s=gr();return nu()?Za():(r=r.parent,mo(r,!1)),s.firstCreatePass&&(su(s,r),Ss(r)&&s.queries.elementEnd(r)),w0}let Zb=(r,s,a,u)=>(Ec(!0),A_(s[On],""));function us(){return ut()}function Md(r){return!!r&&"function"==typeof r.then}function Kb(r){return!!r&&"function"==typeof r.subscribe}function I0(r,s,a,u){const g=ut(),y=gr(),I=Bi();return function Yb(r,s,a,u,g,y,I){const S=po(u),z=r.firstCreatePass&&Ru(r),ie=s[Mr],me=wy(s);let Me=!0;if(3&u.type||I){const Nt=Bs(u,s),rn=I?I(Nt):Nt,bn=me.length,wt=I?Ur=>I(wi(Ur[u.index])):u.index;let hr=null;if(!I&&S&&(hr=function xD(r,s,a,u){const g=r.cleanup;if(null!=g)for(let y=0;y<g.length-1;y+=2){const I=g[y];if(I===a&&g[y+1]===u){const S=s[ji],R=g[y+2];return S.length>R?S[R]:null}"string"==typeof I&&(y+=2)}return null}(r,s,g,u.index)),null!==hr)(hr.__ngLastListenerFn__||hr).__ngNextListenerFn__=y,hr.__ngLastListenerFn__=y,Me=!1;else{y=Ri(u,s,ie,y,!1);const Ur=a.listen(rn,g,y);me.push(y,Ur),z&&z.push(g,wt,bn,bn+1)}}else y=Ri(u,s,ie,y,!1);const Le=u.outputs;let pt;if(Me&&null!==Le&&(pt=Le[g])){const Nt=pt.length;if(Nt)for(let rn=0;rn<Nt;rn+=2){const Hi=s[pt[rn]][pt[rn+1]].subscribe(y),il=me.length;me.push(y,Hi),z&&z.push(g,u.index,il,-(il+1))}}}(y,g,g[On],I,r,s,u),I0}function Qr(r,s,a,u){try{return Ls(6,s,a),!1!==a(u)}catch(g){return $o(r,g),!1}finally{Ls(7,s,a)}}function Ri(r,s,a,u,g){return function y(I){if(I===Function)return u;yd(r.componentOffset>-1?Oi(r.index,s):s);let R=Qr(s,a,u,I),z=y.__ngNextListenerFn__;for(;z;)R=Qr(s,a,z,I)&&R,z=z.__ngNextListenerFn__;return g&&!1===R&&I.preventDefault(),R}}function zp(r=1){return function mr(r){return(_n.lFrame.contextLView=function Tc(r,s){for(;r>0;)s=s[Es],r--;return s}(r,_n.lFrame.contextLView))[Mr]}(r)}function Qb(r,s){let a=null;const u=function qs(r){const s=r.attrs;if(null!=s){const a=s.indexOf(5);if(!(1&a))return s[a+1]}return null}(r);for(let g=0;g<s.length;g++){const y=s[g];if("*"!==y){if(null===u?Ts(r,y,!0):ki(u,y))return g}else a=g}return a}function T0(r){const s=ut()[Yr][ti];if(!s.projection){const u=s.projection=Vl(r?r.length:1,null),g=u.slice();let y=s.child;for(;null!==y;){const I=r?Qb(y,r):0;null!==I&&(g[I]?g[I].projectionNext=y:u[I]=y,g[I]=y),y=y.next}}}function Jb(r,s=0,a){const u=ut(),g=gr(),y=ql(g,Bn+r,16,null,a||null);null===y.projection&&(y.projection=s),Za(),(!u[br]||ga())&&32!=(32&y.flags)&&function xv(r,s,a){gb(s[On],0,s,a,hp(r,a,s),x_(a.parent||s[ti],a,s))}(g,u,y)}function My(r,s,a){return xy(r,"",s,"",a),My}function xy(r,s,a,u,g){const y=ut(),I=Sf(y,s,a,u);return I!==Jn&&Va(gr(),Rr(),y,r,I,y[On],g,!1),xy}function E0(r,s){return r<<17|s<<2}function Nf(r){return r>>17&32767}function Ih(r){return 2|r}function Uu(r){return(131068&r)>>2}function km(r,s){return-131069&r|s<<2}function C0(r){return 1|r}function iw(r,s,a,u,g){const y=r[a+1],I=null===s;let S=u?Nf(y):Uu(y),R=!1;for(;0!==S&&(!1===R||I);){const ie=r[S+1];sw(r[S],s)&&(R=!0,r[S+1]=u?C0(ie):Ih(ie)),S=u?Nf(ie):Uu(ie)}R&&(r[a+1]=u?Ih(y):C0(y))}function sw(r,s){return null===r||null==s||(Array.isArray(r)?r[1]:r)===s||!(!Array.isArray(r)||"string"!=typeof s)&&mu(r,s)>=0}const ro={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function S0(r){return r.substring(ro.key,ro.keyEnd)}function A0(r,s){const a=ro.textEnd;return a===s?-1:(s=ro.keyEnd=function Ry(r,s,a){for(;s<a&&r.charCodeAt(s)>32;)s++;return s}(r,ro.key=s,a),Mf(r,s,a))}function Mf(r,s,a){for(;s<a&&r.charCodeAt(s)<=32;)s++;return s}function O0(r,s){return function xc(r,s,a,u){const g=ut(),y=gr(),I=ma(2);y.firstUpdatePass&&Er(y,r,I,u),s!==Jn&&Io(g,I,s)&&Rf(y,y.data[zr()],g,g[On],r,g[I+1]=function CT(r,s){return null==r||""===r||("string"==typeof s?r+=s:"object"==typeof r&&(r=At(vu(r)))),r}(s,a),u,I)}(r,s,null,!0),O0}function Hu(r){!function ju(r,s,a,u){const g=gr(),y=ma(2);g.firstUpdatePass&&Er(g,null,y,u);const I=ut();if(a!==Jn&&Io(I,y,a)){const S=g.data[zr()];if(qp(S,u)&&!wT(g,y)){let R=u?S.classesWithoutHost:S.stylesWithoutHost;null!==R&&(a=Bt(R,a||"")),bh(g,S,I,a,u)}else!function Bm(r,s,a,u,g,y,I,S){g===Jn&&(g=tr);let R=0,z=0,ie=0<g.length?g[0]:null,me=0<y.length?y[0]:null;for(;null!==ie||null!==me;){const Me=R<g.length?g[R+1]:void 0,Le=z<y.length?y[z+1]:void 0;let Nt,pt=null;ie===me?(R+=2,z+=2,Me!==Le&&(pt=me,Nt=Le)):null===me||null!==ie&&ie<me?(R+=2,pt=ie):(z+=2,pt=me,Nt=Le),null!==pt&&Rf(r,s,a,u,pt,Nt,I,S),ie=R<g.length?g[R]:null,me=z<y.length?y[z]:null}}(g,S,I,I[On],I[y+1],I[y+1]=function LD(r,s,a){if(null==a||""===a)return tr;const u=[],g=vu(a);if(Array.isArray(g))for(let y=0;y<g.length;y++)r(u,g[y],!0);else if("object"==typeof g)for(const y in g)g.hasOwnProperty(y)&&r(u,y,g[y]);else"string"==typeof g&&s(u,g);return u}(r,s,a),u,y)}}(DT,Gu,r,!0)}function Gu(r,s){for(let a=function Oc(r){return function ow(r){ro.key=0,ro.keyEnd=0,ro.value=0,ro.valueEnd=0,ro.textEnd=r.length}(r),A0(r,Mf(r,0,ro.textEnd))}(s);a>=0;a=A0(s,a))Bo(r,S0(s),!0)}function wT(r,s){return s>=r.expandoStartIndex}function Er(r,s,a,u){const g=r.data;if(null===g[a+1]){const y=g[zr()],I=wT(r,a);qp(y,u)&&null===s&&!I&&(s=!1),s=function FD(r,s,a,u){const g=function x(r){const s=_n.lFrame.currentDirectiveIndex;return-1===s?null:r[s]}(r);let y=u?s.residualClasses:s.residualStyles;if(null===g)0===(u?s.classBindings:s.styleBindings)&&(a=xf(a=M0(null,r,s,a,u),s.attrs,u),y=null);else{const I=s.directiveStylingLast;if(-1===I||r[I]!==g)if(a=M0(g,r,s,a,u),null===y){let R=function cw(r,s,a){const u=a?s.classBindings:s.styleBindings;if(0!==Uu(u))return r[Nf(u)]}(r,s,u);void 0!==R&&Array.isArray(R)&&(R=M0(null,r,s,R[1],u),R=xf(R,s.attrs,u),function IT(r,s,a,u){r[Nf(a?s.classBindings:s.styleBindings)]=u}(r,s,u,R))}else y=function TT(r,s,a){let u;const g=s.directiveEnd;for(let y=1+s.directiveStylingLast;y<g;y++)u=xf(u,r[y].hostAttrs,a);return xf(u,s.attrs,a)}(r,s,u)}return void 0!==y&&(u?s.residualClasses=y:s.residualStyles=y),a}(g,y,s,u),function yT(r,s,a,u,g,y){let I=y?s.classBindings:s.styleBindings,S=Nf(I),R=Uu(I);r[u]=a;let ie,z=!1;if(Array.isArray(a)?(ie=a[1],(null===ie||mu(a,ie)>0)&&(z=!0)):ie=a,g)if(0!==R){const Me=Nf(r[S+1]);r[u+1]=E0(Me,S),0!==Me&&(r[Me+1]=km(r[Me+1],u)),r[S+1]=function rw(r,s){return 131071&r|s<<17}(r[S+1],u)}else r[u+1]=E0(S,0),0!==S&&(r[S+1]=km(r[S+1],u)),S=u;else r[u+1]=E0(R,0),0===S?S=u:r[R+1]=km(r[R+1],u),R=u;z&&(r[u+1]=Ih(r[u+1])),iw(r,ie,u,!0),iw(r,ie,u,!1),function Fm(r,s,a,u,g){const y=g?r.residualClasses:r.residualStyles;null!=y&&"string"==typeof s&&mu(y,s)>=0&&(a[u+1]=C0(a[u+1]))}(s,ie,r,u,y),I=E0(S,R),y?s.classBindings=I:s.styleBindings=I}(g,y,s,a,I,u)}}function M0(r,s,a,u,g){let y=null;const I=a.directiveEnd;let S=a.directiveStylingLast;for(-1===S?S=a.directiveStart:S++;S<I&&(y=s[S],u=xf(u,y.hostAttrs,g),y!==r);)S++;return null!==r&&(a.directiveStylingLast=S),u}function xf(r,s,a){const u=a?1:2;let g=-1;if(null!==s)for(let y=0;y<s.length;y++){const I=s[y];"number"==typeof I?g=I:g===u&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),Bo(r,I,!!a||s[++y]))}return void 0===r?null:r}function DT(r,s,a){const u=String(s);""!==u&&!u.includes(" ")&&Bo(r,u,a)}function Rf(r,s,a,u,g,y,I,S){if(!(3&s.type))return;const R=r.data,z=R[S+1],ie=function D0(r){return 1==(1&r)}(z)?lw(R,s,a,g,Uu(z),I):void 0;Rd(ie)||(Rd(y)||function RD(r){return 2==(2&r)}(z)&&(y=lw(R,null,a,g,S,I)),function as(r,s,a,u,g){if(s)g?r.addClass(a,u):r.removeClass(a,u);else{let y=-1===u.indexOf("-")?void 0:T_.DashCase;null==g?r.removeStyle(a,u,y):("string"==typeof g&&g.endsWith("!important")&&(g=g.slice(0,-10),y|=T_.Important),r.setStyle(a,u,g,y))}}(u,I,Fa(zr(),a),g,y))}function lw(r,s,a,u,g,y){const I=null===s;let S;for(;g>0;){const R=r[g],z=Array.isArray(R),ie=z?R[1]:R,me=null===ie;let Me=a[g+1];Me===Jn&&(Me=me?tr:void 0);let Le=me?Gh(Me,u):ie===u?Me:void 0;if(z&&!Rd(Le)&&(Le=Gh(R,u)),Rd(Le)&&(S=Le,I))return S;const pt=r[g+1];g=I?Nf(pt):Uu(pt)}if(null!==s){let R=y?s.residualClasses:s.residualStyles;null!=R&&(S=Gh(R,u))}return S}function Rd(r){return void 0!==r}function qp(r,s){return 0!=(r.flags&(s?8:16))}function uw(r,s=""){const a=ut(),u=gr(),g=r+Bn,y=u.firstCreatePass?ql(u,g,1,s,null):u.data[g],I=dw(u,a,y,s,r);a[g]=I,Ph()&&xg(u,a,I,y),mo(y,!1)}let dw=(r,s,a,u,g)=>(Ec(!0),up(s[On],u));function hw(r){return Xi("",r,""),hw}function Xi(r,s,a){const u=ut(),g=Sf(u,r,s,a);return g!==Jn&&Da(u,zr(),g),Xi}function Vm(r,s,a,u,g,y,I){const S=ut(),R=l(S,r,s,a,u,g,y,I);return R!==Jn&&Da(S,zr(),R),Vm}function P0(r,s,a){const u=ut();return Io(u,Ya(),s)&&Va(gr(),Rr(),u,r,s,u[On],a,!0),P0}const Kp=void 0;var LT=["en",[["a","p"],["AM","PM"],Kp],[["AM","PM"],Kp,Kp],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Kp,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Kp,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Kp,"{1} 'at' {0}",Kp],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function FT(r){const a=Math.floor(Math.abs(r)),u=r.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===u?1:5}];let zm={};function Ew(r){const s=function Eo(r){return r.toLowerCase().replace(/_/g,"-")}(r);let a=Yp(s);if(a)return a;const u=s.split("-")[0];if(a=Yp(u),a)return a;if("en"===u)return LT;throw new Ge(701,!1)}function k0(r){return Ew(r)[Wm.PluralCase]}function Yp(r){return r in zm||(zm[r]=ir.ng&&ir.ng.common&&ir.ng.common.locales&&ir.ng.common.locales[r]),zm[r]}var Wm=function(r){return r[r.LocaleId=0]="LocaleId",r[r.DayPeriodsFormat=1]="DayPeriodsFormat",r[r.DayPeriodsStandalone=2]="DayPeriodsStandalone",r[r.DaysFormat=3]="DaysFormat",r[r.DaysStandalone=4]="DaysStandalone",r[r.MonthsFormat=5]="MonthsFormat",r[r.MonthsStandalone=6]="MonthsStandalone",r[r.Eras=7]="Eras",r[r.FirstDayOfWeek=8]="FirstDayOfWeek",r[r.WeekendRange=9]="WeekendRange",r[r.DateFormat=10]="DateFormat",r[r.TimeFormat=11]="TimeFormat",r[r.DateTimeFormat=12]="DateTimeFormat",r[r.NumberSymbols=13]="NumberSymbols",r[r.NumberFormats=14]="NumberFormats",r[r.CurrencyCode=15]="CurrencyCode",r[r.CurrencySymbol=16]="CurrencySymbol",r[r.CurrencyName=17]="CurrencyName",r[r.Currencies=18]="Currencies",r[r.Directionality=19]="Directionality",r[r.PluralCase=20]="PluralCase",r[r.ExtraData=21]="ExtraData",r}(Wm||{});const Pd="en-US",qm={marker:"element"},Ly={marker:"ICU"};var Sa=function(r){return r[r.SHIFT=2]="SHIFT",r[r.APPEND_EAGERLY=1]="APPEND_EAGERLY",r[r.COMMENT=2]="COMMENT",r}(Sa||{});let Cw=Pd;function Sw(r){(function un(r,s){null==r&&Dt(s,r,null,"!=")})(r,"Expected localeId to be defined"),"string"==typeof r&&(Cw=r.toLowerCase().replace(/_/g,"-"))}function VT(r,s,a){const u=s.insertBeforeIndex,g=Array.isArray(u)?u[0]:u;return null===g?R_(r,0,a):wi(a[g])}function Zm(r,s,a,u,g){const y=s.insertBeforeIndex;if(Array.isArray(y)){let I=u,S=null;if(3&s.type||(S=I,I=g),null!==I&&-1===s.componentOffset)for(let R=1;R<y.length;R++)cd(r,I,a[y[R]],S,!1)}}function F0(r,s){if(r.push(s),r.length>1)for(let a=r.length-2;a>=0;a--){const u=r[a];UT(u)||HT(u,s)&&null===Aw(u)&&GT(u,s.index)}}function UT(r){return!(64&r.type)}function HT(r,s){return UT(s)||r.index>s.index}function Aw(r){const s=r.insertBeforeIndex;return Array.isArray(s)?s[0]:s}function GT(r,s){const a=r.insertBeforeIndex;Array.isArray(a)?a[0]=s:(fb(VT,Zm),r.insertBeforeIndex=s)}function zD(r,s,a){const u=Im(r,a,64,null,null);return F0(s,u),u}function Ow(){const r=[];let a,u,s=-1;function y(S,R){s=0;const z=function L0(r,s){const a=s[r.currentCaseLViewIndex];return null===a?a:a<0?~a:a}(S,R);u=null!==z?S.remove[z]:tr}function I(){if(s<u.length){const S=u[s++];return S>0?a[S]:(r.push(s,u),y(a[Ft].data[~S],a),I())}return 0===r.length?null:(u=r.pop(),s=r.pop(),I())}return function g(S,R){for(a=R;r.length;)r.pop();return y(S.value,R),I}}const Uy=/\ufffd(\d+):?\d*\ufffd/gi,Hy=/\ufffd(\d+)\ufffd/,Ff=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Gy="\ufffd",ZT=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,YD=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,QD=/\uE500/g;function Dh(r,s,a,u,g,y,I){const S=jo(r,u,1,null);let R=S<<Sa.SHIFT,z=ul();s===z&&(z=null),null===z&&(R|=Sa.APPEND_EAGERLY),I&&(R|=Sa.COMMENT,function Iv(r){void 0===od&&(od=r())}(Ow)),g.push(R,null===y?"":y);const ie=Im(r,S,I?32:1,null===y?"":y,null);F0(a,ie);const me=ie.index;return mo(ie,!1),null!==z&&s!==z&&function $D(r,s){let a=r.insertBeforeIndex;null===a?(fb(VT,Zm),a=r.insertBeforeIndex=[null,s]):(function je(r,s,a){r!=s&&Dt(a,r,s,"==")}(Array.isArray(a),!0,"Expecting array here"),a.push(s))}(z,me),ie}function KT(r,s,a,u,g,y,I){const S=I.match(Uy),R=Dh(r,s,a,y,u,S?null:I,!1);S&&Qm(g,I,R.index,null,0,null)}function Qm(r,s,a,u,g,y){const I=r.length,S=I+1;r.push(null,null);const R=I+2,z=s.split(Uy);let ie=0;for(let me=0;me<z.length;me++){const Me=z[me];if(1&me){const Le=g+parseInt(Me,10);r.push(-1-Le),ie|=U0(Le)}else""!==Me&&r.push(Me)}return r.push(a<<2|(u?1:0)),u&&r.push(u,y),r[I]=ie,r[S]=r.length-R,ie}function U0(r){return 1<<Math.min(r,31)}function Rw(r){let s,y,a="",u=0,g=!1;for(;null!==(s=ZT.exec(r));)g?s[0]===`${Gy}/*${y}${Gy}`&&(u=s.index,g=!1):(a+=r.substring(u,s.index+s[0].length),y=s[1],g=!0);return a+=r.slice(u),a}function H0(r,s,a,u,g,y){let I=0;const S={type:g.type,currentCaseLViewIndex:jo(r,s,1,null),anchorIdx:y,cases:[],create:[],remove:[],update:[]};(function QT(r,s,a){r.push(U0(s.mainBinding),2,-1-s.mainBinding,a<<2|2)})(a,g,y),function jT(r,s,a){const u=r.data[s];null===u?r.data[s]=a:u.value=a}(r,y,S);const R=g.values;for(let z=0;z<R.length;z++){const ie=R[z],me=[];for(let Me=0;Me<ie.length;Me++){const Le=ie[Me];if("string"!=typeof Le){const pt=me.push(Le)-1;ie[Me]=`\x3c!--\ufffd${pt}\ufffd--\x3e`}}I=tC(r,S,s,a,u,g.cases[z],ie.join(""),me)|I}I&&function $y(r,s,a){r.push(s,1,a<<2|3)}(a,I,y)}function YT(r){const s=[],a=[];let u=1,g=0;const y=Jm(r=r.replace(Ff,function(I,S,R){return u="select"===R?0:1,g=parseInt(S.slice(1),10),""}));for(let I=0;I<y.length;){let S=y[I++].trim();1===u&&(S=S.replace(/\s*(?:=)?(\w+)\s*/,"$1")),S.length&&s.push(S);const R=Jm(y[I++]);s.length>a.length&&a.push(R)}return{type:u,mainBinding:g,cases:s,values:a}}function Jm(r){if(!r)return[];let s=0;const a=[],u=[],g=/[{}]/g;let y;for(g.lastIndex=0;y=g.exec(r);){const S=y.index;if("}"==y[0]){if(a.pop(),0==a.length){const R=r.substring(s,S);Ff.test(R)?u.push(YT(R)):u.push(R),s=S+1}}else{if(0==a.length){const R=r.substring(s,S);u.push(R),s=S+1}a.push("{")}}const I=r.substring(s);return u.push(I),u}function tC(r,s,a,u,g,y,I,S){const R=[],z=[],ie=[];s.cases.push(y),s.create.push(R),s.remove.push(z),s.update.push(ie);const Me=tT(gp()).getInertBodyElement(I),Le=_p(Me)||Me;return Le?G0(r,s,a,u,R,z,ie,Le,g,S,0):0}function G0(r,s,a,u,g,y,I,S,R,z,ie){let me=0,Me=S.firstChild;for(;Me;){const Le=jo(r,a,1,null);switch(Me.nodeType){case Node.ELEMENT_NODE:const pt=Me,Nt=pt.tagName.toLowerCase();if(tf.hasOwnProperty(Nt)){Xm(g,qm,Nt,R,Le),r.data[Le]=Nt;const hr=pt.attributes;for(let Ur=0;Ur<hr.length;Ur++){const Hi=hr.item(Ur),il=Hi.name.toLowerCase();Hi.value.match(Uy)?Bv.hasOwnProperty(il)&&Qm(I,Hi.value,Le,Hi.name,0,Gg[il]?Lv:null):zy(g,Le,Hi)}me=G0(r,s,a,u,g,y,I,Me,Le,z,ie+1)|me,jy(y,Le,ie)}break;case Node.TEXT_NODE:const rn=Me.textContent||"",bn=rn.match(Uy);Xm(g,null,bn?"":rn,R,Le),jy(y,Le,ie),bn&&(me=Qm(I,rn,Le,null,0,null)|me);break;case Node.COMMENT_NODE:const wt=Hy.exec(Me.textContent||"");if(wt){const Ur=z[parseInt(wt[1],10)];Xm(g,Ly,"",R,Le),H0(r,a,u,R,Ur,Le),nC(y,Le,ie)}}Me=Me.nextSibling}return me}function jy(r,s,a){0===a&&r.push(s)}function nC(r,s,a){0===a&&(r.push(~s),r.push(s))}function Xm(r,s,a,u,g){null!==s&&r.push(s),r.push(a,g,function WD(r,s,a){return r|s<<17|a<<1}(0,u,g))}function zy(r,s,a){r.push(s<<1|1,a.name,a.value)}function Fw(r,s,a=-1){const u=gr(),g=ut(),y=Bn+r,I=La(u.consts,s),S=ul();u.firstCreatePass&&function Xp(r,s,a,u,g,y){const I=ul(),S=[],R=[],z=[[]];g=function Pw(r,s){if(function xw(r){return-1===r}(s))return Rw(r);{const a=r.indexOf(`:${s}${Gy}`)+2+s.toString().length,u=r.search(new RegExp(`${Gy}\\/\\*\\d+:${s}${Gy}`));return Rw(r.substring(a,u))}}(g,y);const ie=function JD(r){return r.replace(QD," ")}(g).split(YD);for(let me=0;me<ie.length;me++){let Me=ie[me];if(1&me){const Le=47===Me.charCodeAt(0),Nt=(Me.charCodeAt(Le?1:0),Bn+Number.parseInt(Me.substring(Le?2:1)));if(Le)z.shift(),mo(ul(),!1);else{const rn=zD(r,z[0],Nt);z.unshift([]),mo(rn,!0)}}else{const Le=Jm(Me);for(let pt=0;pt<Le.length;pt++){let Nt=Le[pt];if(1&pt){const rn=Nt;if("object"!=typeof rn)throw new Error(`Unable to parse ICU expression in "${g}" message.`);H0(r,a,R,s,rn,Dh(r,I,z[0],a,S,"",!0).index)}else""!==Nt&&KT(r,I,z[0],S,R,a,Nt)}}}r.data[u]={create:S,update:R}}(u,null===S?0:S.index,g,y,I,a),2===u.type?g[Yr][xn]|=32:g[xn]|=32;const R=u.data[y],ie=Mg(u,S===g[ti]?null:S,g);(function zT(r,s,a,u){const g=r[On];for(let y=0;y<s.length;y++){const I=s[y++],S=s[y],z=(I&Sa.APPEND_EAGERLY)===Sa.APPEND_EAGERLY,ie=I>>>Sa.SHIFT;let me=r[ie];null===me&&(me=r[ie]=(I&Sa.COMMENT)===Sa.COMMENT?g.createComment(S):up(g,S)),z&&null!==a&&cd(g,a,me,u,!1)}})(g,R.create,ie,S&&8&S.type?g[S.index]:null),Rl(!0)}function tE(r,s,a){Fw(r,s,a),function Bf(){Rl(!1)}()}function Bw(r,s,a,u,g){if(r=xt(r),Array.isArray(r))for(let y=0;y<r.length;y++)Bw(r[y],s,a,u,g);else{const y=gr(),I=ut(),S=Bi();let R=pd(r)?r:xt(r.provide);const z=Wv(r),ie=1048575&S.providerIndexes,me=S.directiveStart,Me=S.providerIndexes>>20;if(pd(r)||!r.multi){const Le=new Xu(z,g,Wl),pt=n_(R,s,g?ie:ie+Me,me);-1===pt?(Ll(pl(S,I),y,R),z0(y,r,s.length),s.push(R),S.directiveStart++,S.directiveEnd++,g&&(S.providerIndexes+=1048576),a.push(Le),I.push(Le)):(a[pt]=Le,I[pt]=Le)}else{const Le=n_(R,s,ie+Me,me),pt=n_(R,s,ie,ie+Me),rn=pt>=0&&a[pt];if(g&&!rn||!g&&!(Le>=0&&a[Le])){Ll(pl(S,I),y,R);const bn=function oC(r,s,a,u,g){const y=new Xu(r,a,Wl);return y.multi=[],y.index=s,y.componentProviders=0,iE(y,g,u&&!a),y}(g?sC:iC,a.length,g,u,z);!g&&rn&&(a[pt].providerFactory=bn),z0(y,r,s.length,0),s.push(R),S.directiveStart++,S.directiveEnd++,g&&(S.providerIndexes+=1048576),a.push(bn),I.push(bn)}else z0(y,r,Le>-1?Le:pt,iE(a[g?pt:Le],z,!g&&u));!g&&u&&rn&&a[pt].componentProviders++}}}function z0(r,s,a,u){const g=pd(s),y=function $v(r){return!!r.useClass}(s);if(g||y){const R=(y?xt(s.useClass):s).prototype.ngOnDestroy;if(R){const z=r.destroyHooks||(r.destroyHooks=[]);if(!g&&s.multi){const ie=z.indexOf(a);-1===ie?z.push(a,[u,R]):z[ie+1].push(u,R)}else z.push(a,R)}}}function iE(r,s,a){return a&&r.componentProviders++,r.multi.push(s)-1}function n_(r,s,a,u){for(let g=a;g<u;g++)if(s[g]===r)return g;return-1}function iC(r,s,a,u){return W0(this.multi,[])}function sC(r,s,a,u){const g=this.multi;let y;if(this.providerFactory){const I=this.providerFactory.componentProviders,S=Zc(a,a[Ft],this.providerFactory.index,u);y=S.slice(0,I),W0(g,y);for(let R=I;R<S.length;R++)y.push(S[R])}else y=[],W0(g,y);return y}function W0(r,s){for(let a=0;a<r.length;a++)s.push((0,r[a])());return s}function Vw(r,s=[]){return a=>{a.providersResolver=(u,g)=>function rE(r,s,a){const u=gr();if(u.firstCreatePass){const g=Ai(r);Bw(a,u.data,u.blueprint,g,!0),Bw(s,u.data,u.blueprint,g,!1)}}(u,g?g(r):r,s)}}class Sl{}class r_{}function sE(r,s){return new Uw(r,s??null,[])}class Uw extends Sl{constructor(s,a,u){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new p0(this);const g=ui(s);this._bootstrapComponents=Au(g.bootstrap),this._r3Injector=r0(s,a,[{provide:Sl,useValue:this},{provide:lh,useValue:this.componentFactoryResolver},...u],At(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class q0 extends r_{constructor(s){super(),this.moduleType=s}create(s){return new Uw(this.moduleType,s,[])}}class oE extends Sl{constructor(s){super(),this.componentFactoryResolver=new p0(this),this.instance=null;const a=new Iu([...s.providers,{provide:Sl,useValue:this},{provide:lh,useValue:this.componentFactoryResolver}],s.parent||Ip(),s.debugName,new Set(["environment"]));this.injector=a,s.runEnvironmentInitializers&&a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function Z0(r,s,a=null){return new oE({providers:r,parent:s,debugName:a,runEnvironmentInitializers:!0}).injector}let Aa=(()=>{class r{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a)){const u=qg(0,a.type),g=u.length>0?Z0([u],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a,g)}return this.cachedInjectors.get(a)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=De({token:r,providedIn:"environment",factory:()=>new r(kn(bl))})}return r})();function aE(r){r.getStandaloneInjector=s=>s.get(Aa).getOrCreateStandaloneInjector(r)}function jw(r,s,a,u){return Wy(ut(),Vs(),r,s,a,u)}function e1(r,s,a,u,g){return $w(ut(),Vs(),r,s,a,u,g)}function mE(r,s,a,u,g,y){return function zw(r,s,a,u,g,y,I,S){const R=s+a;return Up(r,R,g,y,I)?Ca(r,R+3,S?u.call(S,g,y,I):u(g,y,I)):eg(r,R+3)}(ut(),Vs(),r,s,a,u,g,y)}function eg(r,s){const a=r[s];return a===Jn?void 0:a}function Wy(r,s,a,u,g,y){const I=s+a;return Io(r,I,g)?Ca(r,I+1,y?u.call(y,g):u(g)):eg(r,I+1)}function $w(r,s,a,u,g,y,I){const S=s+a;return Fu(r,S,g,y)?Ca(r,S+2,I?u.call(I,g,y):u(g,y)):eg(r,S+2)}function t1(r,s){const a=gr();let u;const g=r+Bn;a.firstCreatePass?(u=function fC(r,s){if(s)for(let a=s.length-1;a>=0;a--){const u=s[a];if(r===u.name)return u}}(s,a.pipeRegistry),a.data[g]=u,u.onDestroy&&(a.destroyHooks??=[]).push(g,u.onDestroy)):u=a.data[g];const y=u.factory||(u.factory=ka(u.type)),S=mn(Wl);try{const R=zc(!1),z=y();return zc(R),function Od(r,s,a,u){a>=r.data.length&&(r.data[a]=null,r.blueprint[a]=null),s[a]=u}(a,ut(),g,z),z}finally{mn(S)}}function qw(r,s,a){const u=r+Bn,g=ut(),y=Wa(g,u);return tg(g,u)?Wy(g,Vs(),s,y.transform,a,y):y.transform(a)}function n1(r,s,a,u){const g=r+Bn,y=ut(),I=Wa(y,g);return tg(y,g)?$w(y,Vs(),s,I.transform,a,u,I):I.transform(a,u)}function tg(r,s){return r[Ft].data[s].pure}function Zw(){return this._results[Symbol.iterator]()}class Zy{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new wl)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Zy.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=Zw)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const u=this;u.dirty=!1;const g=function Cc(r){return r.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function _g(r,s,a){if(r.length!==s.length)return!1;for(let u=0;u<r.length;u++){let g=r[u],y=s[u];if(a&&(g=a(g),y=a(y)),y!==g)return!1}return!0}(u._results,g,a))&&(u._results=g,u.length=g.length,u.last=g[this.length-1],u.first=g[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function IE(r,s,a,u=!0){const g=s[Ft];if(function O_(r,s,a,u){const g=Sr+u,y=a.length;u>0&&(a[g-1][Li]=s),u<y-Sr?(s[Li]=a[g],eo(a,Sr+u,s)):(a.push(s),s[Li]=null),s[Or]=a;const I=s[vi];null!==I&&a!==I&&function M_(r,s){const a=r[ja];s[Yr]!==s[Or][Or][Yr]&&(r[ms]=!0),null===a?r[ja]=[s]:a.push(s)}(I,s);const S=s[bi];null!==S&&S.insertView(r),s[xn]|=128}(g,s,r,a),u){const y=Ov(a,r),I=s[On],S=fp(I,r[hi]);null!==S&&function Cv(r,s,a,u,g,y){u[lr]=g,u[ti]=s,Rg(r,u,a,1,g,y)}(g,r[ti],I,s,S,y)}}let ng=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=ac}return r})();const gC=ng,mC=class extends gC{constructor(s,a,u){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=u}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(s,a){return this.createEmbeddedViewImpl(s,a)}createEmbeddedViewImpl(s,a,u){const g=function wE(r,s,a,u){const g=s.tView,S=wm(r,g,a,4096&r[xn]?4096:16,null,s,null,null,null,u?.injector??null,u?.hydrationInfo??null);S[vi]=r[s.index];const z=r[bi];return null!==z&&(S[bi]=z.createEmbeddedView(g)),Ot(g,S,a),S}(this._declarationLView,this._declarationTContainer,s,{injector:a,hydrationInfo:u});return new Pu(g)}};function ac(){return s1(Bi(),ut())}function s1(r,s){return 4&r.type?new mC(s,r,md(r,s)):null}let c1=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=bC}return r})();function bC(){return Qy(Bi(),ut())}const Ky=c1,l1=class extends Ky{constructor(s,a,u){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=u}get element(){return md(this._hostTNode,this._hostLView)}get injector(){return new Lo(this._hostTNode,this._hostLView)}get parentInjector(){const s=hu(this._hostTNode,this._hostLView);if(au(s)){const a=Fl(s,this._hostLView),u=kl(s);return new Lo(a[Ft].data[u+8],a)}return new Lo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=rg(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-Sr}createEmbeddedView(s,a,u){let g,y;"number"==typeof u?g=u:null!=u&&(g=u.index,y=u.injector);const S=s.createEmbeddedViewImpl(a||{},y,null);return this.insertImpl(S,g,false),S}createComponent(s,a,u,g,y){const I=s&&!function Jf(r){return"function"==typeof r}(s);let S;if(I)S=a;else{const Nt=a||{};S=Nt.index,u=Nt.injector,g=Nt.projectableNodes,y=Nt.environmentInjector||Nt.ngModuleRef}const R=I?s:new qn(cr(s)),z=u||this.parentInjector;if(!y&&null==R.ngModule){const rn=(I?z:this.parentInjector).get(bl,null);rn&&(y=rn)}cr(R.componentType??{});const Le=R.create(z,g,null,y);return this.insertImpl(Le.hostView,S,false),Le}insert(s,a){return this.insertImpl(s,a,!1)}insertImpl(s,a,u){const g=s._lView;if(function Ah(r){return $i(r[Or])}(g)){const R=this.indexOf(s);if(-1!==R)this.detach(R);else{const z=g[Or],ie=new l1(z,z[ti],z[Or]);ie.detach(ie.indexOf(s))}}const I=this._adjustIndex(a),S=this._lContainer;return IE(S,g,I,!u),s.attachToViewContainerRef(),eo(Yy(S),I,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=rg(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),u=dp(this._lContainer,a);u&&(Hh(Yy(this._lContainer),a),Kh(u[Ft],u))}detach(s){const a=this._adjustIndex(s,-1),u=dp(this._lContainer,a);return u&&null!=Hh(Yy(this._lContainer),a)?new Pu(u):null}_adjustIndex(s,a=0){return s??this.length+a}};function rg(r){return r[8]}function Yy(r){return r[8]||(r[8]=[])}function Qy(r,s){let a;const u=s[r.index];return $i(u)?a=u:(a=Vb(u,s,null,r),s[r.index]=a,by(s,a)),u1(a,s,r,u),new l1(a,r,s)}let u1=function Qw(r,s,a,u){if(r[hi])return;let g;g=8&a.type?wi(u):function Jy(r,s){const a=r[On],u=a.createComment(""),g=Bs(s,r);return cd(a,fp(a,g),u,function hb(r,s){return r.nextSibling(s)}(a,g),!1),u}(s,a),r[hi]=g};class Fd{constructor(s){this.queryList=s,this.matches=null}clone(){return new Fd(this.queryList)}setDirty(){this.queryList.setDirty()}}class d1{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const u=null!==s.contentQueries?s.contentQueries[0]:a.length,g=[];for(let y=0;y<u;y++){const I=a.getByIndex(y);g.push(this.queries[I.indexInDeclarationView].clone())}return new d1(g)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==OE(s,a).matches&&this.queries[a].setDirty()}}class DE{constructor(s,a,u=null){this.predicate=s,this.flags=a,this.read=u}}class Xy{constructor(s=[]){this.queries=s}elementStart(s,a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let u=0;u<this.length;u++){const g=null!==a?a.length:0,y=this.getByIndex(u).embeddedTView(s,g);y&&(y.indexInDeclarationView=u,null!==a?a.push(y):a=[y])}return null!==a?new Xy(a):null}template(s,a){for(let u=0;u<this.queries.length;u++)this.queries[u].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class eI{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new eI(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let u=s.parent;for(;null!==u&&8&u.type&&u.index!==a;)u=u.parent;return a===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const u=this.metadata.predicate;if(Array.isArray(u))for(let g=0;g<u.length;g++){const y=u[g];this.matchTNodeWithReadOption(s,a,tI(a,y)),this.matchTNodeWithReadOption(s,a,gl(a,s,y,!1,!1))}else u===ng?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,gl(a,s,u,!1,!1))}matchTNodeWithReadOption(s,a,u){if(null!==u){const g=this.metadata.read;if(null!==g)if(g===_d||g===c1||g===ng&&4&a.type)this.addMatch(a.index,-2);else{const y=gl(a,s,g,!1,!1);null!==y&&this.addMatch(a.index,y)}else this.addMatch(a.index,u)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function tI(r,s){const a=r.localNames;if(null!==a)for(let u=0;u<a.length;u+=2)if(a[u]===s)return a[u+1];return null}function nI(r,s,a,u){return-1===a?function wC(r,s){return 11&r.type?md(r,s):4&r.type?s1(r,s):null}(s,r):-2===a?function h1(r,s,a){return a===_d?md(s,r):a===ng?s1(s,r):a===c1?Qy(s,r):void 0}(r,s,u):Zc(r,r[Ft],a,s)}function f1(r,s,a,u){const g=s[bi].queries[u];if(null===g.matches){const y=r.data,I=a.matches,S=[];for(let R=0;R<I.length;R+=2){const z=I[R];S.push(z<0?null:nI(s,y[z],I[R+1],a.metadata.read))}g.matches=S}return g.matches}function p1(r,s,a,u){const g=r.queries.getByIndex(a),y=g.matches;if(null!==y){const I=f1(r,s,g,a);for(let S=0;S<y.length;S+=2){const R=y[S];if(R>0)u.push(I[S/2]);else{const z=y[S+1],ie=s[-R];for(let me=Sr;me<ie.length;me++){const Me=ie[me];Me[vi]===Me[Or]&&p1(Me[Ft],Me,z,u)}if(null!==ie[ja]){const me=ie[ja];for(let Me=0;Me<me.length;Me++){const Le=me[Me];p1(Le[Ft],Le,z,u)}}}}}return u}function ig(r){const s=ut(),a=gr(),u=D();P(u+1);const g=OE(a,u);if(r.dirty&&function Gc(r){return 4==(4&r[xn])}(s)===(2==(2&g.metadata.flags))){if(null===g.matches)r.reset([]);else{const y=g.crossesNgTemplate?p1(a,s,u,[]):f1(a,s,g,u);r.reset(y,am),r.notifyOnChanges()}return!0}return!1}function g1(r,s,a){const u=gr();u.firstCreatePass&&(NE(u,new DE(r,s,a),-1),2==(2&s)&&(u.staticViewQueries=!0)),rI(u,ut(),s)}function CE(r,s,a,u){const g=gr();if(g.firstCreatePass){const y=Bi();NE(g,new DE(s,a,u),y.index),function iI(r,s){const a=r.contentQueries||(r.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(r.queries.length-1,s)}(g,r),2==(2&a)&&(g.staticContentQueries=!0)}rI(g,ut(),a)}function SE(){return function AE(r,s){return r[bi].queries[s].queryList}(ut(),D())}function rI(r,s,a){const u=new Zy(4==(4&a));(function Ea(r,s,a,u){const g=wy(s);g.push(a),r.firstCreatePass&&Ru(r).push(u,g.length-1)})(r,s,u,u.destroy),null===s[bi]&&(s[bi]=new d1),s[bi].queries.push(new Fd(u))}function NE(r,s,a){null===r.queries&&(r.queries=new Xy),r.queries.track(new eI(s,a))}function OE(r,s){return r.queries.getByIndex(s)}function m1(r,s){return s1(r,s)}function ev(r){return!!ui(r)}const S1=new Nn("Application Initializer");let gI=(()=>{class r{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,u)=>{this.resolve=a,this.reject=u}),this.appInits=er(S1,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const a=[];for(const g of this.appInits){const y=g();if(Md(y))a.push(y);else if(Kb(y)){const I=new Promise((S,R)=>{y.subscribe({complete:S,error:R})});a.push(I)}}const u=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{u()}).catch(g=>{this.reject(g)}),0===a.length&&u(),this.initialized=!0}static#e=this.\u0275fac=function(u){return new(u||r)};static#t=this.\u0275prov=De({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),KE=(()=>{class r{log(a){console.log(a)}warn(a){console.warn(a)}static#e=this.\u0275fac=function(u){return new(u||r)};static#t=this.\u0275prov=De({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})();const A1=new Nn("LocaleId",{providedIn:"root",factory:()=>er(A1,tn.Optional|tn.SkipSelf)||function mI(){return typeof $localize<"u"&&$localize.locale||Pd}()}),_I=new Nn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let N1=(()=>{class r{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new de.X(!1)}add(){this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(u){return new(u||r)};static#t=this.\u0275prov=De({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();class QE{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let yI=(()=>{class r{compileModuleSync(a){return new q0(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const u=this.compileModuleSync(a),y=Au(ui(a).declarations).reduce((I,S)=>{const R=cr(S);return R&&I.push(new qn(R)),I},[]);return new QE(u,y)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}static#e=this.\u0275fac=function(u){return new(u||r)};static#t=this.\u0275prov=De({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const CI=new Nn(""),B1=new Nn("");let AI,tD=(()=>{class r{constructor(a,u,g){this._ngZone=a,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,AI||(function SI(r){AI=r}(g),g.addToWindow(u)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ra.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(a)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,u,g){let y=-1;u&&u>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(I=>I.timeoutId!==y),a(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:a,timeoutId:y,updateCb:g})}whenStable(a,u,g){if(g&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,u,g),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,u,g){return[]}static#e=this.\u0275fac=function(u){return new(u||r)(kn(ra),kn(cg),kn(B1))};static#t=this.\u0275prov=De({token:r,factory:r.\u0275fac})}return r})(),cg=(()=>{class r{constructor(){this._applications=new Map}registerApplication(a,u){this._applications.set(a,u)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,u=!0){return AI?.findTestabilityInTree(this,a,u)??null}static#e=this.\u0275fac=function(u){return new(u||r)};static#t=this.\u0275prov=De({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})(),Gf=null;const nD=new Nn("AllowMultipleToken"),V1=new Nn("PlatformDestroyListeners"),NI=new Nn("appBootstrapListener");class HC{constructor(s,a){this.name=s,this.token=a}}function OI(r,s,a=[]){const u=`Platform: ${s}`,g=new Nn(u);return(y=[])=>{let I=H1();if(!I||I.injector.get(nD,!1)){const S=[...a,...y,{provide:g,useValue:!0}];r?r(S):function sD(r){if(Gf&&!Gf.get(nD,!1))throw new Ge(400,!1);(function iD(){!function $a(r){Uc=r}(()=>{throw new Ge(600,!1)})})(),Gf=r;const s=r.get(MI);(function U1(r){r.get(Ho,null)?.forEach(a=>a())})(r)}(function ov(r=[],s){return na.create({name:s,providers:[{provide:Yg,useValue:"platform"},{provide:V1,useValue:new Set([()=>Gf=null])},...r]})}(S,u))}return function aD(r){const s=H1();if(!s)throw new Ge(401,!1);return s}()}}function H1(){return Gf?.get(MI)??null}let MI=(()=>{class r{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,u){const g=function GC(r="zone.js",s){return"noop"===r?new Ac:"zone.js"===r?new ra(s):r}(u?.ngZone,function h_(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:r?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:r?.runCoalescing??!1}}({eventCoalescing:u?.ngZoneEventCoalescing,runCoalescing:u?.ngZoneRunCoalescing}));return g.run(()=>{const y=function cC(r,s,a){return new Uw(r,s,a)}(a.moduleType,this.injector,function j1(r){return[{provide:ra,useFactory:r},{provide:rf,multi:!0,useFactory:()=>{const s=er(cD,{optional:!0});return()=>s.initialize()}},{provide:xI,useFactory:bS},{provide:mm,useFactory:o0}]}(()=>g)),I=y.injector.get(Eu,null);return g.runOutsideAngular(()=>{const S=g.onError.subscribe({next:R=>{I.handleError(R)}});y.onDestroy(()=>{G1(this._modules,y),S.unsubscribe()})}),function io(r,s,a){try{const u=a();return Md(u)?u.catch(g=>{throw s.runOutsideAngular(()=>r.handleError(g)),g}):u}catch(u){throw s.runOutsideAngular(()=>r.handleError(u)),u}}(I,g,()=>{const S=y.injector.get(gI);return S.runInitializers(),S.donePromise.then(()=>(Sw(y.injector.get(A1,Pd)||Pd),this._moduleDoBootstrap(y),y))})})}bootstrapModule(a,u=[]){const g=Na({},u);return function rD(r,s,a){const u=new q0(a);return Promise.resolve(u)}(0,0,a).then(y=>this.bootstrapModuleFactory(y,g))}_moduleDoBootstrap(a){const u=a.injector.get(Pc);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(g=>u.bootstrap(g));else{if(!a.instance.ngDoBootstrap)throw new Ge(-403,!1);a.instance.ngDoBootstrap(u)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ge(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const a=this._injector.get(V1,null);a&&(a.forEach(u=>u()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(u){return new(u||r)(kn(na))};static#t=this.\u0275prov=De({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})();function Na(r,s){return Array.isArray(s)?s.reduce(Na,r):{...r,...s}}let Pc=(()=>{class r{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=er(xI),this.zoneIsStable=er(mm),this.componentTypes=[],this.components=[],this.isStable=er(N1).hasPendingTasks.pipe((0,Se.w)(a=>a?(0,fe.of)(!1):this.zoneIsStable),(0,et.x)(),re()),this._injector=er(bl)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,u){const g=a instanceof Xv;if(!this._injector.get(gI).done)throw!g&&ns(a),new Ge(405,!1);let I;I=g?a:this._injector.get(lh).resolveComponentFactory(a),this.componentTypes.push(I.componentType);const S=function UC(r){return r.isBoundToModule}(I)?void 0:this._injector.get(Sl),z=I.create(na.NULL,[],u||I.selector,S),ie=z.location.nativeElement,me=z.injector.get(CI,null);return me?.registerApplication(ie),z.onDestroy(()=>{this.detachView(z.hostView),G1(this.components,z),me?.unregisterApplication(ie)}),this._loadComponent(z),z}tick(){if(this._runningTick)throw new Ge(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1}}attachView(a){const u=a;this._views.push(u),u.attachToAppRef(this)}detachView(a){const u=a;G1(this._views,u),u.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const u=this._injector.get(NI,[]);u.push(...this._bootstrapListeners),u.forEach(g=>g(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>G1(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new Ge(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(u){return new(u||r)};static#t=this.\u0275prov=De({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function G1(r,s){const a=r.indexOf(s);a>-1&&r.splice(a,1)}const xI=new Nn("",{providedIn:"root",factory:()=>er(Eu).handleError.bind(void 0)});function bS(){const r=er(ra),s=er(Eu);return a=>r.runOutsideAngular(()=>s.handleError(a))}let cD=(()=>{class r{constructor(){this.zone=er(ra),this.applicationRef=er(Pc)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(u){return new(u||r)};static#t=this.\u0275prov=De({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();let lD=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=TS}return r})();function TS(r){return function ES(r,s,a){if(rs(r)&&!a){const u=Oi(r.index,s);return new Pu(u,u)}return 47&r.type?new Pu(s[Yr],s):null}(Bi(),ut(),16==(16&r))}class hD{constructor(){}supports(s){return Ua(s)}create(s){return new FI(s)}}const p_=(r,s)=>s;class FI{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||p_}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,u=this._removalsHead,g=0,y=null;for(;a||u;){const I=!u||a&&a.currentIndex<pD(u,g,y)?a:u,S=pD(I,g,y),R=I.currentIndex;if(I===u)g--,u=u._nextRemoved;else if(a=a._next,null==I.previousIndex)g++;else{y||(y=[]);const z=S-g,ie=R-g;if(z!=ie){for(let Me=0;Me<z;Me++){const Le=Me<y.length?y[Me]:y[Me]=0,pt=Le+Me;ie<=pt&&pt<z&&(y[Me]=Le+1)}y[I.previousIndex]=ie-z}}S!==R&&s(I,S,R)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!Ua(s))throw new Ge(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let g,y,I,a=this._itHead,u=!1;if(Array.isArray(s)){this.length=s.length;for(let S=0;S<this.length;S++)y=s[S],I=this._trackByFn(S,y),null!==a&&Object.is(a.trackById,I)?(u&&(a=this._verifyReinsertion(a,y,I,S)),Object.is(a.item,y)||this._addIdentityChange(a,y)):(a=this._mismatch(a,y,I,S),u=!0),a=a._next}else g=0,function Vp(r,s){if(Array.isArray(r))for(let a=0;a<r.length;a++)s(r[a]);else{const a=r[Symbol.iterator]();let u;for(;!(u=a.next()).done;)s(u.value)}}(s,S=>{I=this._trackByFn(g,S),null!==a&&Object.is(a.trackById,I)?(u&&(a=this._verifyReinsertion(a,S,I,g)),Object.is(a.item,S)||this._addIdentityChange(a,S)):(a=this._mismatch(a,S,I,g),u=!0),a=a._next,g++}),this.length=g;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,u,g){let y;return null===s?y=this._itTail:(y=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,y,g)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(u,g))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,y,g)):s=this._addAfter(new lv(a,u),y,g),s}_verifyReinsertion(s,a,u,g){let y=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==y?s=this._reinsertAfter(y,s._prev,g):s.currentIndex!=g&&(s.currentIndex=g,this._addToMoves(s,g)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const g=s._prevRemoved,y=s._nextRemoved;return null===g?this._removalsHead=y:g._nextRemoved=y,null===y?this._removalsTail=g:y._prevRemoved=g,this._insertAfter(s,a,u),this._addToMoves(s,u),s}_moveAfter(s,a,u){return this._unlink(s),this._insertAfter(s,a,u),this._addToMoves(s,u),s}_addAfter(s,a,u){return this._insertAfter(s,a,u),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,u){const g=null===a?this._itHead:a._next;return s._next=g,s._prev=a,null===g?this._itTail=s:g._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new z1),this._linkedRecords.put(s),s.currentIndex=u,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,u=s._next;return null===a?this._itHead=u:a._next=u,null===u?this._itTail=a:u._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new z1),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class lv{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class fD{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===a||a<=u.currentIndex)&&Object.is(u.trackById,s))return u;return null}remove(s){const a=s._prevDup,u=s._nextDup;return null===a?this._head=u:a._nextDup=u,null===u?this._tail=a:u._prevDup=a,null===this._head}}class z1{constructor(){this.map=new Map}put(s){const a=s.trackById;let u=this.map.get(a);u||(u=new fD,this.map.set(a,u)),u.add(s)}get(s,a){const g=this.map.get(s);return g?g.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function pD(r,s,a){const u=r.previousIndex;if(null===u)return u;let g=0;return a&&u<a.length&&(g=a[u]),u+s+g}class gD{constructor(){}supports(s){return s instanceof Map||Zl(s)}create(){return new ZC}}class ZC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||Zl(s)))throw new Ge(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(u,g)=>{if(a&&a.key===g)this._maybeAddToChanges(a,u),this._appendAfter=a,a=a._next;else{const y=this._getOrCreateRecordForKey(g,u);a=this._insertBeforeOrAppend(a,y)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let u=a;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const u=s._prev;return a._next=s,a._prev=u,s._prev=a,u&&(u._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const g=this._records.get(s);this._maybeAddToChanges(g,a);const y=g._prev,I=g._next;return y&&(y._next=I),I&&(I._prev=y),g._next=null,g._prev=null,g}const u=new mD(s);return this._records.set(s,u),u.currentValue=a,this._addToAdditions(u),u}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(u=>a(s[u],u))}}class mD{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function LI(){return new W1([new hD])}let W1=(()=>{class r{static#e=this.\u0275prov=De({token:r,providedIn:"root",factory:LI});constructor(a){this.factories=a}static create(a,u){if(null!=u){const g=u.factories.slice();a=a.concat(g)}return new r(a)}static extend(a){return{provide:r,useFactory:u=>r.create(a,u||LI()),deps:[[r,new Kd,new vg]]}}find(a){const u=this.factories.find(g=>g.supports(a));if(null!=u)return u;throw new Ge(901,!1)}}return r})();function BI(){return new q1([new gD])}let q1=(()=>{class r{static#e=this.\u0275prov=De({token:r,providedIn:"root",factory:BI});constructor(a){this.factories=a}static create(a,u){if(u){const g=u.factories.slice();a=a.concat(g)}return new r(a)}static extend(a){return{provide:r,useFactory:u=>r.create(a,u||BI()),deps:[[r,new Kd,new vg]]}}find(a){const u=this.factories.find(g=>g.supports(a));if(u)return u;throw new Ge(901,!1)}}return r})();const Z1=OI(null,"core",[]);let _D=(()=>{class r{constructor(a){}static#e=this.\u0275fac=function(u){return new(u||r)(kn(Pc))};static#t=this.\u0275mod=ao({type:r});static#n=this.\u0275inj=Re({})}return r})();function bD(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}function xS(r,s){const a=cr(r),u=s.elementInjector||Ip();return new qn(a).create(u,s.projectableNodes,s.hostElement,s.environmentInjector)}function ug(r){const s=cr(r);if(!s)return null;const a=new qn(s);return{get selector(){return a.selector},get type(){return a.componentType},get inputs(){return a.inputs},get outputs(){return a.outputs},get ngContentSelectors(){return a.ngContentSelectors},get isStandalone(){return s.standalone},get isSignal(){return s.signals}}}},7592:(Gt,$e,Q)=>{Q.d($e,{C6:()=>xe,Jn:()=>pr,KN:()=>yt,Mq:()=>De,Xd:()=>Rt,ZF:()=>kr,qX:()=>Ht});var w=Q(5861),ce=Q(6820),h=Q(7879),we=Q(229),de=Q(1878);class fe{constructor(Ce){this.container=Ce}getPlatformInfoString(){return this.container.getProviders().map(Ke=>{if(function Oe(tt){const Ce=tt.getComponent();return"VERSION"===Ce?.type}(Ke)){const It=Ke.getImmediate();return`${It.library}/${It.version}`}return null}).filter(Ke=>Ke).join(" ")}}const He="@firebase/app",re=new h.Yd("@firebase/app"),ke="[DEFAULT]",je={[He]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Qe=new Map,Ve=new Map;function nt(tt,Ce){try{tt.container.addComponent(Ce)}catch(Ke){re.debug(`Component ${Ce.name} failed to register with FirebaseApp ${tt.name}`,Ke)}}function Rt(tt){const Ce=tt.name;if(Ve.has(Ce))return re.debug(`There were multiple attempts to register component ${Ce}.`),!1;Ve.set(Ce,tt);for(const Ke of Qe.values())nt(Ke,tt);return!0}function Ht(tt,Ce){const Ke=tt.container.getProvider("heartbeat").getImmediate({optional:!0});return Ke&&Ke.triggerHeartbeat(),tt.container.getProvider(Ce)}const Dt=new we.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class jn{constructor(Ce,Ke,It){this._isDeleted=!1,this._options=Object.assign({},Ce),this._config=Object.assign({},Ke),this._name=Ke.name,this._automaticDataCollectionEnabled=Ke.automaticDataCollectionEnabled,this._container=It,this.container.addComponent(new ce.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ce){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ce}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ce){this._isDeleted=Ce}checkDestroyed(){if(this.isDeleted)throw Dt.create("app-deleted",{appName:this._name})}}const pr="9.23.0";function kr(tt,Ce={}){let Ke=tt;"object"!=typeof Ce&&(Ce={name:Ce});const It=Object.assign({name:ke,automaticDataCollectionEnabled:!1},Ce),Qt=It.name;if("string"!=typeof Qt||!Qt)throw Dt.create("bad-app-name",{appName:String(Qt)});if(Ke||(Ke=(0,we.aH)()),!Ke)throw Dt.create("no-options");const Jt=Qe.get(Qt);if(Jt){if((0,we.vZ)(Ke,Jt.options)&&(0,we.vZ)(It,Jt.config))return Jt;throw Dt.create("duplicate-app",{appName:Qt})}const Gn=new ce.H0(Qt);for(const V of Ve.values())Gn.addComponent(V);const K=new jn(Ke,It,Gn);return Qe.set(Qt,K),K}function De(tt=ke){const Ce=Qe.get(tt);if(!Ce&&tt===ke&&(0,we.aH)())return kr();if(!Ce)throw Dt.create("no-app",{appName:tt});return Ce}function xe(){return Array.from(Qe.values())}function yt(tt,Ce,Ke){var It;let Qt=null!==(It=je[tt])&&void 0!==It?It:tt;Ke&&(Qt+=`-${Ke}`);const Jt=Qt.match(/\s|\//),Gn=Ce.match(/\s|\//);if(Jt||Gn){const K=[`Unable to register library "${Qt}" with version "${Ce}":`];return Jt&&K.push(`library name "${Qt}" contains illegal characters (whitespace or "/")`),Jt&&Gn&&K.push("and"),Gn&&K.push(`version name "${Ce}" contains illegal characters (whitespace or "/")`),void re.warn(K.join(" "))}Rt(new ce.wA(`${Qt}-version`,()=>({library:Qt,version:Ce}),"VERSION"))}const Dn="firebase-heartbeat-database",on=1,Yt="firebase-heartbeat-store";let wn=null;function Kn(){return wn||(wn=(0,de.X3)(Dn,on,{upgrade:(tt,Ce)=>{0===Ce&&tt.createObjectStore(Yt)}}).catch(tt=>{throw Dt.create("idb-open",{originalErrorMessage:tt.message})})),wn}function Cr(){return(Cr=(0,w.Z)(function*(tt){try{return yield(yield Kn()).transaction(Yt).objectStore(Yt).get(rr(tt))}catch(Ce){if(Ce instanceof we.ZR)re.warn(Ce.message);else{const Ke=Dt.create("idb-get",{originalErrorMessage:Ce?.message});re.warn(Ke.message)}}})).apply(this,arguments)}function vr(tt,Ce){return mn.apply(this,arguments)}function mn(){return(mn=(0,w.Z)(function*(tt,Ce){try{const It=(yield Kn()).transaction(Yt,"readwrite");yield It.objectStore(Yt).put(Ce,rr(tt)),yield It.done}catch(Ke){if(Ke instanceof we.ZR)re.warn(Ke.message);else{const It=Dt.create("idb-set",{originalErrorMessage:Ke?.message});re.warn(It.message)}}})).apply(this,arguments)}function rr(tt){return`${tt.name}!${tt.options.appId}`}class Hn{constructor(Ce){this.container=Ce,this._heartbeatsCache=null;const Ke=this.container.getProvider("app").getImmediate();this._storage=new Yn(Ke),this._heartbeatsCachePromise=this._storage.read().then(It=>(this._heartbeatsCache=It,It))}triggerHeartbeat(){var Ce=this;return(0,w.Z)(function*(){const It=Ce.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Qt=gi();if(null===Ce._heartbeatsCache&&(Ce._heartbeatsCache=yield Ce._heartbeatsCachePromise),Ce._heartbeatsCache.lastSentHeartbeatDate!==Qt&&!Ce._heartbeatsCache.heartbeats.some(Jt=>Jt.date===Qt))return Ce._heartbeatsCache.heartbeats.push({date:Qt,agent:It}),Ce._heartbeatsCache.heartbeats=Ce._heartbeatsCache.heartbeats.filter(Jt=>{const Gn=new Date(Jt.date).valueOf();return Date.now()-Gn<=2592e6}),Ce._storage.overwrite(Ce._heartbeatsCache)})()}getHeartbeatsHeader(){var Ce=this;return(0,w.Z)(function*(){if(null===Ce._heartbeatsCache&&(yield Ce._heartbeatsCachePromise),null===Ce._heartbeatsCache||0===Ce._heartbeatsCache.heartbeats.length)return"";const Ke=gi(),{heartbeatsToSend:It,unsentEntries:Qt}=function Nn(tt,Ce=1024){const Ke=[];let It=tt.slice();for(const Qt of tt){const Jt=Ke.find(Gn=>Gn.agent===Qt.agent);if(Jt){if(Jt.dates.push(Qt.date),Nr(Ke)>Ce){Jt.dates.pop();break}}else if(Ke.push({agent:Qt.agent,dates:[Qt.date]}),Nr(Ke)>Ce){Ke.pop();break}It=It.slice(1)}return{heartbeatsToSend:Ke,unsentEntries:It}}(Ce._heartbeatsCache.heartbeats),Jt=(0,we.L)(JSON.stringify({version:2,heartbeats:It}));return Ce._heartbeatsCache.lastSentHeartbeatDate=Ke,Qt.length>0?(Ce._heartbeatsCache.heartbeats=Qt,yield Ce._storage.overwrite(Ce._heartbeatsCache)):(Ce._heartbeatsCache.heartbeats=[],Ce._storage.overwrite(Ce._heartbeatsCache)),Jt})()}}function gi(){return(new Date).toISOString().substring(0,10)}class Yn{constructor(Ce){this.app=Ce,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,w.Z)(function*(){return!!(0,we.hl)()&&(0,we.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ce=this;return(0,w.Z)(function*(){return(yield Ce._canUseIndexedDBPromise)&&(yield function tn(tt){return Cr.apply(this,arguments)}(Ce.app))||{heartbeats:[]}})()}overwrite(Ce){var Ke=this;return(0,w.Z)(function*(){var It;if(yield Ke._canUseIndexedDBPromise){const Jt=yield Ke.read();return vr(Ke.app,{lastSentHeartbeatDate:null!==(It=Ce.lastSentHeartbeatDate)&&void 0!==It?It:Jt.lastSentHeartbeatDate,heartbeats:Ce.heartbeats})}})()}add(Ce){var Ke=this;return(0,w.Z)(function*(){var It;if(yield Ke._canUseIndexedDBPromise){const Jt=yield Ke.read();return vr(Ke.app,{lastSentHeartbeatDate:null!==(It=Ce.lastSentHeartbeatDate)&&void 0!==It?It:Jt.lastSentHeartbeatDate,heartbeats:[...Jt.heartbeats,...Ce.heartbeats]})}})()}}function Nr(tt){return(0,we.L)(JSON.stringify({version:2,heartbeats:tt})).length}!function mi(tt){Rt(new ce.wA("platform-logger",Ce=>new fe(Ce),"PRIVATE")),Rt(new ce.wA("heartbeat",Ce=>new Hn(Ce),"PRIVATE")),yt(He,"0.9.13",tt),yt(He,"0.9.13","esm2017"),yt("fire-js","")}("")},6820:(Gt,$e,Q)=>{Q.d($e,{H0:()=>He,wA:()=>h});var w=Q(5861),ce=Q(229);class h{constructor(re,le,Se){this.name=re,this.instanceFactory=le,this.type=Se,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(re){return this.instantiationMode=re,this}setMultipleInstances(re){return this.multipleInstances=re,this}setServiceProps(re){return this.serviceProps=re,this}setInstanceCreatedCallback(re){return this.onInstanceCreated=re,this}}const we="[DEFAULT]";class de{constructor(re,le){this.name=re,this.container=le,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(re){const le=this.normalizeInstanceIdentifier(re);if(!this.instancesDeferred.has(le)){const Se=new ce.BH;if(this.instancesDeferred.set(le,Se),this.isInitialized(le)||this.shouldAutoInitialize())try{const et=this.getOrInitializeService({instanceIdentifier:le});et&&Se.resolve(et)}catch{}}return this.instancesDeferred.get(le).promise}getImmediate(re){var le;const Se=this.normalizeInstanceIdentifier(re?.identifier),et=null!==(le=re?.optional)&&void 0!==le&&le;if(!this.isInitialized(Se)&&!this.shouldAutoInitialize()){if(et)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Se})}catch(Pe){if(et)return null;throw Pe}}getComponent(){return this.component}setComponent(re){if(re.name!==this.name)throw Error(`Mismatching Component ${re.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=re,this.shouldAutoInitialize()){if(function Oe(Ee){return"EAGER"===Ee.instantiationMode}(re))try{this.getOrInitializeService({instanceIdentifier:we})}catch{}for(const[le,Se]of this.instancesDeferred.entries()){const et=this.normalizeInstanceIdentifier(le);try{const Pe=this.getOrInitializeService({instanceIdentifier:et});Se.resolve(Pe)}catch{}}}}clearInstance(re=we){this.instancesDeferred.delete(re),this.instancesOptions.delete(re),this.instances.delete(re)}delete(){var re=this;return(0,w.Z)(function*(){const le=Array.from(re.instances.values());yield Promise.all([...le.filter(Se=>"INTERNAL"in Se).map(Se=>Se.INTERNAL.delete()),...le.filter(Se=>"_delete"in Se).map(Se=>Se._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(re=we){return this.instances.has(re)}getOptions(re=we){return this.instancesOptions.get(re)||{}}initialize(re={}){const{options:le={}}=re,Se=this.normalizeInstanceIdentifier(re.instanceIdentifier);if(this.isInitialized(Se))throw Error(`${this.name}(${Se}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const et=this.getOrInitializeService({instanceIdentifier:Se,options:le});for(const[Pe,it]of this.instancesDeferred.entries())Se===this.normalizeInstanceIdentifier(Pe)&&it.resolve(et);return et}onInit(re,le){var Se;const et=this.normalizeInstanceIdentifier(le),Pe=null!==(Se=this.onInitCallbacks.get(et))&&void 0!==Se?Se:new Set;Pe.add(re),this.onInitCallbacks.set(et,Pe);const it=this.instances.get(et);return it&&re(it,et),()=>{Pe.delete(re)}}invokeOnInitCallbacks(re,le){const Se=this.onInitCallbacks.get(le);if(Se)for(const et of Se)try{et(re,le)}catch{}}getOrInitializeService({instanceIdentifier:re,options:le={}}){let Se=this.instances.get(re);if(!Se&&this.component&&(Se=this.component.instanceFactory(this.container,{instanceIdentifier:(Ee=re,Ee===we?void 0:Ee),options:le}),this.instances.set(re,Se),this.instancesOptions.set(re,le),this.invokeOnInitCallbacks(Se,re),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,re,Se)}catch{}var Ee;return Se||null}normalizeInstanceIdentifier(re=we){return this.component?this.component.multipleInstances?re:we:re}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class He{constructor(re){this.name=re,this.providers=new Map}addComponent(re){const le=this.getProvider(re.name);if(le.isComponentSet())throw new Error(`Component ${re.name} has already been registered with ${this.name}`);le.setComponent(re)}addOrOverwriteComponent(re){this.getProvider(re.name).isComponentSet()&&this.providers.delete(re.name),this.addComponent(re)}getProvider(re){if(this.providers.has(re))return this.providers.get(re);const le=new de(re,this);return this.providers.set(re,le),le}getProviders(){return Array.from(this.providers.values())}}},4097:(Gt,$e,Q)=>{Q.d($e,{C6:()=>w.C6,KN:()=>w.KN,Mq:()=>w.Mq,ZF:()=>w.ZF});var w=Q(7592);(0,w.KN)("firebase","9.23.0","app")},95:(Gt,$e,Q)=>{Q.d($e,{Fj:()=>mt,CE:()=>Ft,qu:()=>Qo,u:()=>Li,cw:()=>an,sg:()=>Fr,x0:()=>lo,u5:()=>xo,wO:()=>Cs,Cf:()=>_t,JU:()=>it,JJ:()=>Yt,JL:()=>wn,YN:()=>di,wV:()=>ao,UX:()=>al,Q7:()=>Bn,EJ:()=>Mr,kI:()=>Ye,_Y:()=>Zo,Kr:()=>Yr});var w=Q(9468),ce=Q(6814),h=Q(2459),we=Q(5592),de=Q(7453),fe=Q(4829),Oe=Q(9940),He=Q(8251),Ee=Q(7400),re=Q(2714),Se=Q(7398);let et=(()=>{class q{constructor(B,oe){this._renderer=B,this._elementRef=oe,this.onChange=Ie=>{},this.onTouched=()=>{}}setProperty(B,oe){this._renderer.setProperty(this._elementRef.nativeElement,B,oe)}registerOnTouched(B){this.onTouched=B}registerOnChange(B){this.onChange=B}setDisabledState(B){this.setProperty("disabled",B)}static#e=this.\u0275fac=function(oe){return new(oe||q)(w.Y36(w.Qsj),w.Y36(w.SBq))};static#t=this.\u0275dir=w.lG2({type:q})}return q})(),Pe=(()=>{class q extends et{static#e=this.\u0275fac=function(){let B;return function(Ie){return(B||(B=w.n5z(q)))(Ie||q)}}();static#t=this.\u0275dir=w.lG2({type:q,features:[w.qOj]})}return q})();const it=new w.OlP("NgValueAccessor"),kt={provide:it,useExisting:(0,w.Gpc)(()=>mt),multi:!0},xt=new w.OlP("CompositionEventMode");let mt=(()=>{class q extends et{constructor(B,oe,Ie){super(B,oe),this._compositionMode=Ie,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function An(){const q=(0,ce.q)()?(0,ce.q)().getUserAgent():"";return/android (\d+)/.test(q.toLowerCase())}())}writeValue(B){this.setProperty("value",B??"")}_handleInput(B){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(B)}_compositionStart(){this._composing=!0}_compositionEnd(B){this._composing=!1,this._compositionMode&&this.onChange(B)}static#e=this.\u0275fac=function(oe){return new(oe||q)(w.Y36(w.Qsj),w.Y36(w.SBq),w.Y36(xt,8))};static#t=this.\u0275dir=w.lG2({type:q,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(oe,Ie){1&oe&&w.NdJ("input",function(Fn){return Ie._handleInput(Fn.target.value)})("blur",function(){return Ie.onTouched()})("compositionstart",function(){return Ie._compositionStart()})("compositionend",function(Fn){return Ie._compositionEnd(Fn.target.value)})},features:[w._Bn([kt]),w.qOj]})}return q})();function ot(q){return null==q||("string"==typeof q||Array.isArray(q))&&0===q.length}function vt(q){return null!=q&&"number"==typeof q.length}const _t=new w.OlP("NgValidators"),Ge=new w.OlP("NgAsyncValidators"),be=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ye{static min(ee){return function gt(q){return ee=>{if(ot(ee.value)||ot(q))return null;const B=parseFloat(ee.value);return!isNaN(B)&&B<q?{min:{min:q,actual:ee.value}}:null}}(ee)}static max(ee){return function Mn(q){return ee=>{if(ot(ee.value)||ot(q))return null;const B=parseFloat(ee.value);return!isNaN(B)&&B>q?{max:{max:q,actual:ee.value}}:null}}(ee)}static required(ee){return ht(ee)}static requiredTrue(ee){return function fn(q){return!0===q.value?null:{required:!0}}(ee)}static email(ee){return function En(q){return ot(q.value)||be.test(q.value)?null:{email:!0}}(ee)}static minLength(ee){return Ln(ee)}static maxLength(ee){return function Xn(q){return ee=>vt(ee.value)&&ee.value.length>q?{maxlength:{requiredLength:q,actualLength:ee.value.length}}:null}(ee)}static pattern(ee){return function fr(q){if(!q)return ke;let ee,B;return"string"==typeof q?(B="","^"!==q.charAt(0)&&(B+="^"),B+=q,"$"!==q.charAt(q.length-1)&&(B+="$"),ee=new RegExp(B)):(B=q.toString(),ee=q),oe=>{if(ot(oe.value))return null;const Ie=oe.value;return ee.test(Ie)?null:{pattern:{requiredPattern:B,actualValue:Ie}}}}(ee)}static nullValidator(ee){return null}static compose(ee){return Ht(ee)}static composeAsync(ee){return vn(ee)}}function ht(q){return ot(q.value)?{required:!0}:null}function Ln(q){return ee=>ot(ee.value)||!vt(ee.value)?null:ee.value.length<q?{minlength:{requiredLength:q,actualLength:ee.value.length}}:null}function ke(q){return null}function je(q){return null!=q}function Qe(q){return(0,w.QGY)(q)?(0,h.D)(q):q}function Ve(q){let ee={};return q.forEach(B=>{ee=null!=B?{...ee,...B}:ee}),0===Object.keys(ee).length?null:ee}function nt(q,ee){return ee.map(B=>B(q))}function Rt(q){return q.map(ee=>function bt(q){return!q.validate}(ee)?ee:B=>ee.validate(B))}function Ht(q){if(!q)return null;const ee=q.filter(je);return 0==ee.length?null:function(B){return Ve(nt(B,ee))}}function pn(q){return null!=q?Ht(Rt(q)):null}function vn(q){if(!q)return null;const ee=q.filter(je);return 0==ee.length?null:function(B){return function le(...q){const ee=(0,Oe.jO)(q),{args:B,keys:oe}=(0,de.D)(q),Ie=new we.y(Kt=>{const{length:Fn}=B;if(!Fn)return void Kt.complete();const qi=new Array(Fn);let Ys=Fn,Zi=Fn;for(let zi=0;zi<Fn;zi++){let gc=!1;(0,fe.Xf)(B[zi]).subscribe((0,He.x)(Kt,la=>{gc||(gc=!0,Zi--),qi[zi]=la},()=>Ys--,void 0,()=>{(!Ys||!gc)&&(Zi||Kt.next(oe?(0,re.n)(oe,qi):qi),Kt.complete())}))}});return ee?Ie.pipe((0,Ee.Z)(ee)):Ie}(nt(B,ee).map(Qe)).pipe((0,Se.U)(Ve))}}function un(q){return null!=q?vn(Rt(q)):null}function Dt(q,ee){return null===q?[ee]:Array.isArray(q)?[...q,ee]:[q,ee]}function jn(q){return q._rawValidators}function pr(q){return q._rawAsyncValidators}function kr(q){return q?Array.isArray(q)?q:[q]:[]}function De(q,ee){return Array.isArray(q)?q.includes(ee):q===ee}function xe(q,ee){const B=kr(ee);return kr(q).forEach(Ie=>{De(B,Ie)||B.push(Ie)}),B}function Re(q,ee){return kr(ee).filter(B=>!De(q,B))}class at{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(ee){this._rawValidators=ee||[],this._composedValidatorFn=pn(this._rawValidators)}_setAsyncValidators(ee){this._rawAsyncValidators=ee||[],this._composedAsyncValidatorFn=un(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(ee){this._onDestroyCallbacks.push(ee)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(ee=>ee()),this._onDestroyCallbacks=[]}reset(ee=void 0){this.control&&this.control.reset(ee)}hasError(ee,B){return!!this.control&&this.control.hasError(ee,B)}getError(ee,B){return this.control?this.control.getError(ee,B):null}}class yt extends at{get formDirective(){return null}get path(){return null}}class St extends at{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class yr{constructor(ee){this._cd=ee}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Yt=(()=>{class q extends yr{constructor(B){super(B)}static#e=this.\u0275fac=function(oe){return new(oe||q)(w.Y36(St,2))};static#t=this.\u0275dir=w.lG2({type:q,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(oe,Ie){2&oe&&w.ekj("ng-untouched",Ie.isUntouched)("ng-touched",Ie.isTouched)("ng-pristine",Ie.isPristine)("ng-dirty",Ie.isDirty)("ng-valid",Ie.isValid)("ng-invalid",Ie.isInvalid)("ng-pending",Ie.isPending)},features:[w.qOj]})}return q})(),wn=(()=>{class q extends yr{constructor(B){super(B)}static#e=this.\u0275fac=function(oe){return new(oe||q)(w.Y36(yt,10))};static#t=this.\u0275dir=w.lG2({type:q,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(oe,Ie){2&oe&&w.ekj("ng-untouched",Ie.isUntouched)("ng-touched",Ie.isTouched)("ng-pristine",Ie.isPristine)("ng-dirty",Ie.isDirty)("ng-valid",Ie.isValid)("ng-invalid",Ie.isInvalid)("ng-pending",Ie.isPending)("ng-submitted",Ie.isSubmitted)},features:[w.qOj]})}return q})();const It="VALID",Qt="INVALID",Jt="PENDING",Gn="DISABLED";function K(q){return($(q)?q.validators:q)||null}function G(q,ee){return($(ee)?ee.asyncValidators:q)||null}function $(q){return null!=q&&!Array.isArray(q)&&"object"==typeof q}function ve(q,ee,B){const oe=q.controls;if(!(ee?Object.keys(oe):oe).length)throw new w.vHH(1e3,"");if(!oe[B])throw new w.vHH(1001,"")}function ze(q,ee,B){q._forEachChild((oe,Ie)=>{if(void 0===B[Ie])throw new w.vHH(1002,"")})}class Tt{constructor(ee,B){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(ee),this._assignAsyncValidators(B)}get validator(){return this._composedValidatorFn}set validator(ee){this._rawValidators=this._composedValidatorFn=ee}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(ee){this._rawAsyncValidators=this._composedAsyncValidatorFn=ee}get parent(){return this._parent}get valid(){return this.status===It}get invalid(){return this.status===Qt}get pending(){return this.status==Jt}get disabled(){return this.status===Gn}get enabled(){return this.status!==Gn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(ee){this._assignValidators(ee)}setAsyncValidators(ee){this._assignAsyncValidators(ee)}addValidators(ee){this.setValidators(xe(ee,this._rawValidators))}addAsyncValidators(ee){this.setAsyncValidators(xe(ee,this._rawAsyncValidators))}removeValidators(ee){this.setValidators(Re(ee,this._rawValidators))}removeAsyncValidators(ee){this.setAsyncValidators(Re(ee,this._rawAsyncValidators))}hasValidator(ee){return De(this._rawValidators,ee)}hasAsyncValidator(ee){return De(this._rawAsyncValidators,ee)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(ee={}){this.touched=!0,this._parent&&!ee.onlySelf&&this._parent.markAsTouched(ee)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(ee=>ee.markAllAsTouched())}markAsUntouched(ee={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(B=>{B.markAsUntouched({onlySelf:!0})}),this._parent&&!ee.onlySelf&&this._parent._updateTouched(ee)}markAsDirty(ee={}){this.pristine=!1,this._parent&&!ee.onlySelf&&this._parent.markAsDirty(ee)}markAsPristine(ee={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(B=>{B.markAsPristine({onlySelf:!0})}),this._parent&&!ee.onlySelf&&this._parent._updatePristine(ee)}markAsPending(ee={}){this.status=Jt,!1!==ee.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!ee.onlySelf&&this._parent.markAsPending(ee)}disable(ee={}){const B=this._parentMarkedDirty(ee.onlySelf);this.status=Gn,this.errors=null,this._forEachChild(oe=>{oe.disable({...ee,onlySelf:!0})}),this._updateValue(),!1!==ee.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...ee,skipPristineCheck:B}),this._onDisabledChange.forEach(oe=>oe(!0))}enable(ee={}){const B=this._parentMarkedDirty(ee.onlySelf);this.status=It,this._forEachChild(oe=>{oe.enable({...ee,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:ee.emitEvent}),this._updateAncestors({...ee,skipPristineCheck:B}),this._onDisabledChange.forEach(oe=>oe(!1))}_updateAncestors(ee){this._parent&&!ee.onlySelf&&(this._parent.updateValueAndValidity(ee),ee.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(ee){this._parent=ee}getRawValue(){return this.value}updateValueAndValidity(ee={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===It||this.status===Jt)&&this._runAsyncValidator(ee.emitEvent)),!1!==ee.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!ee.onlySelf&&this._parent.updateValueAndValidity(ee)}_updateTreeValidity(ee={emitEvent:!0}){this._forEachChild(B=>B._updateTreeValidity(ee)),this.updateValueAndValidity({onlySelf:!0,emitEvent:ee.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Gn:It}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(ee){if(this.asyncValidator){this.status=Jt,this._hasOwnPendingAsyncValidator=!0;const B=Qe(this.asyncValidator(this));this._asyncValidationSubscription=B.subscribe(oe=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(oe,{emitEvent:ee})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(ee,B={}){this.errors=ee,this._updateControlsErrors(!1!==B.emitEvent)}get(ee){let B=ee;return null==B||(Array.isArray(B)||(B=B.split(".")),0===B.length)?null:B.reduce((oe,Ie)=>oe&&oe._find(Ie),this)}getError(ee,B){const oe=B?this.get(B):this;return oe&&oe.errors?oe.errors[ee]:null}hasError(ee,B){return!!this.getError(ee,B)}get root(){let ee=this;for(;ee._parent;)ee=ee._parent;return ee}_updateControlsErrors(ee){this.status=this._calculateStatus(),ee&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(ee)}_initObservables(){this.valueChanges=new w.vpe,this.statusChanges=new w.vpe}_calculateStatus(){return this._allControlsDisabled()?Gn:this.errors?Qt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Jt)?Jt:this._anyControlsHaveStatus(Qt)?Qt:It}_anyControlsHaveStatus(ee){return this._anyControls(B=>B.status===ee)}_anyControlsDirty(){return this._anyControls(ee=>ee.dirty)}_anyControlsTouched(){return this._anyControls(ee=>ee.touched)}_updatePristine(ee={}){this.pristine=!this._anyControlsDirty(),this._parent&&!ee.onlySelf&&this._parent._updatePristine(ee)}_updateTouched(ee={}){this.touched=this._anyControlsTouched(),this._parent&&!ee.onlySelf&&this._parent._updateTouched(ee)}_registerOnCollectionChange(ee){this._onCollectionChange=ee}_setUpdateStrategy(ee){$(ee)&&null!=ee.updateOn&&(this._updateOn=ee.updateOn)}_parentMarkedDirty(ee){return!ee&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(ee){return null}_assignValidators(ee){this._rawValidators=Array.isArray(ee)?ee.slice():ee,this._composedValidatorFn=function V(q){return Array.isArray(q)?pn(q):q||null}(this._rawValidators)}_assignAsyncValidators(ee){this._rawAsyncValidators=Array.isArray(ee)?ee.slice():ee,this._composedAsyncValidatorFn=function W(q){return Array.isArray(q)?un(q):q||null}(this._rawAsyncValidators)}}class an extends Tt{constructor(ee,B,oe){super(K(B),G(oe,B)),this.controls=ee,this._initObservables(),this._setUpdateStrategy(B),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(ee,B){return this.controls[ee]?this.controls[ee]:(this.controls[ee]=B,B.setParent(this),B._registerOnCollectionChange(this._onCollectionChange),B)}addControl(ee,B,oe={}){this.registerControl(ee,B),this.updateValueAndValidity({emitEvent:oe.emitEvent}),this._onCollectionChange()}removeControl(ee,B={}){this.controls[ee]&&this.controls[ee]._registerOnCollectionChange(()=>{}),delete this.controls[ee],this.updateValueAndValidity({emitEvent:B.emitEvent}),this._onCollectionChange()}setControl(ee,B,oe={}){this.controls[ee]&&this.controls[ee]._registerOnCollectionChange(()=>{}),delete this.controls[ee],B&&this.registerControl(ee,B),this.updateValueAndValidity({emitEvent:oe.emitEvent}),this._onCollectionChange()}contains(ee){return this.controls.hasOwnProperty(ee)&&this.controls[ee].enabled}setValue(ee,B={}){ze(this,0,ee),Object.keys(ee).forEach(oe=>{ve(this,!0,oe),this.controls[oe].setValue(ee[oe],{onlySelf:!0,emitEvent:B.emitEvent})}),this.updateValueAndValidity(B)}patchValue(ee,B={}){null!=ee&&(Object.keys(ee).forEach(oe=>{const Ie=this.controls[oe];Ie&&Ie.patchValue(ee[oe],{onlySelf:!0,emitEvent:B.emitEvent})}),this.updateValueAndValidity(B))}reset(ee={},B={}){this._forEachChild((oe,Ie)=>{oe.reset(ee?ee[Ie]:null,{onlySelf:!0,emitEvent:B.emitEvent})}),this._updatePristine(B),this._updateTouched(B),this.updateValueAndValidity(B)}getRawValue(){return this._reduceChildren({},(ee,B,oe)=>(ee[oe]=B.getRawValue(),ee))}_syncPendingControls(){let ee=this._reduceChildren(!1,(B,oe)=>!!oe._syncPendingControls()||B);return ee&&this.updateValueAndValidity({onlySelf:!0}),ee}_forEachChild(ee){Object.keys(this.controls).forEach(B=>{const oe=this.controls[B];oe&&ee(oe,B)})}_setUpControls(){this._forEachChild(ee=>{ee.setParent(this),ee._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(ee){for(const[B,oe]of Object.entries(this.controls))if(this.contains(B)&&ee(oe))return!0;return!1}_reduceValue(){return this._reduceChildren({},(B,oe,Ie)=>((oe.enabled||this.disabled)&&(B[Ie]=oe.value),B))}_reduceChildren(ee,B){let oe=ee;return this._forEachChild((Ie,Kt)=>{oe=B(oe,Ie,Kt)}),oe}_allControlsDisabled(){for(const ee of Object.keys(this.controls))if(this.controls[ee].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(ee){return this.controls.hasOwnProperty(ee)?this.controls[ee]:null}}class $t extends an{}const jr=new w.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>er}),er="always";function so(q,ee){return[...ee.path,q]}function oa(q,ee,B=er){Ma(q,ee),ee.valueAccessor.writeValue(q.value),(q.disabled||"always"===B)&&ee.valueAccessor.setDisabledState?.(q.disabled),function qo(q,ee){ee.valueAccessor.registerOnChange(B=>{q._pendingValue=B,q._pendingChange=!0,q._pendingDirty=!0,"change"===q.updateOn&&hs(q,ee)})}(q,ee),function tr(q,ee){const B=(oe,Ie)=>{ee.valueAccessor.writeValue(oe),Ie&&ee.viewToModelUpdate(oe)};q.registerOnChange(B),ee._registerOnDestroy(()=>{q._unregisterOnChange(B)})}(q,ee),function ds(q,ee){ee.valueAccessor.registerOnTouched(()=>{q._pendingTouched=!0,"blur"===q.updateOn&&q._pendingChange&&hs(q,ee),"submit"!==q.updateOn&&q.markAsTouched()})}(q,ee),function js(q,ee){if(ee.valueAccessor.setDisabledState){const B=oe=>{ee.valueAccessor.setDisabledState(oe)};q.registerOnDisabledChange(B),ee._registerOnDestroy(()=>{q._unregisterOnDisabledChange(B)})}}(q,ee)}function bs(q,ee,B=!0){const oe=()=>{};ee.valueAccessor&&(ee.valueAccessor.registerOnChange(oe),ee.valueAccessor.registerOnTouched(oe)),Zr(q,ee),q&&(ee._invokeOnDestroyCallbacks(),q._registerOnCollectionChange(()=>{}))}function Oa(q,ee){q.forEach(B=>{B.registerOnValidatorChange&&B.registerOnValidatorChange(ee)})}function Ma(q,ee){const B=jn(q);null!==ee.validator?q.setValidators(Dt(B,ee.validator)):"function"==typeof B&&q.setValidators([B]);const oe=pr(q);null!==ee.asyncValidator?q.setAsyncValidators(Dt(oe,ee.asyncValidator)):"function"==typeof oe&&q.setAsyncValidators([oe]);const Ie=()=>q.updateValueAndValidity();Oa(ee._rawValidators,Ie),Oa(ee._rawAsyncValidators,Ie)}function Zr(q,ee){let B=!1;if(null!==q){if(null!==ee.validator){const Ie=jn(q);if(Array.isArray(Ie)&&Ie.length>0){const Kt=Ie.filter(Fn=>Fn!==ee.validator);Kt.length!==Ie.length&&(B=!0,q.setValidators(Kt))}}if(null!==ee.asyncValidator){const Ie=pr(q);if(Array.isArray(Ie)&&Ie.length>0){const Kt=Ie.filter(Fn=>Fn!==ee.asyncValidator);Kt.length!==Ie.length&&(B=!0,q.setAsyncValidators(Kt))}}}const oe=()=>{};return Oa(ee._rawValidators,oe),Oa(ee._rawAsyncValidators,oe),B}function hs(q,ee){q._pendingDirty&&q.markAsDirty(),q.setValue(q._pendingValue,{emitModelToViewChange:!1}),ee.viewToModelUpdate(q._pendingValue),q._pendingChange=!1}function ks(q,ee){const B=q.indexOf(ee);B>-1&&q.splice(B,1)}function fs(q){return"object"==typeof q&&null!==q&&2===Object.keys(q).length&&"value"in q&&"disabled"in q}const yi=class extends Tt{constructor(ee=null,B,oe){super(K(B),G(oe,B)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(ee),this._setUpdateStrategy(B),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),$(B)&&(B.nonNullable||B.initialValueIsDefault)&&(this.defaultValue=fs(ee)?ee.value:ee)}setValue(ee,B={}){this.value=this._pendingValue=ee,this._onChange.length&&!1!==B.emitModelToViewChange&&this._onChange.forEach(oe=>oe(this.value,!1!==B.emitViewToModelChange)),this.updateValueAndValidity(B)}patchValue(ee,B={}){this.setValue(ee,B)}reset(ee=this.defaultValue,B={}){this._applyFormState(ee),this.markAsPristine(B),this.markAsUntouched(B),this.setValue(this.value,B),this._pendingChange=!1}_updateValue(){}_anyControls(ee){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(ee){this._onChange.push(ee)}_unregisterOnChange(ee){ks(this._onChange,ee)}registerOnDisabledChange(ee){this._onDisabledChange.push(ee)}_unregisterOnDisabledChange(ee){ks(this._onDisabledChange,ee)}_forEachChild(ee){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(ee){fs(ee)?(this.value=this._pendingValue=ee.value,ee.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=ee}};let qs=(()=>{class q extends yt{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return so(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=function(){let B;return function(Ie){return(B||(B=w.n5z(q)))(Ie||q)}}();static#t=this.\u0275dir=w.lG2({type:q,features:[w.qOj]})}return q})(),Zo=(()=>{class q{static#e=this.\u0275fac=function(oe){return new(oe||q)};static#t=this.\u0275dir=w.lG2({type:q,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return q})();const Fc={provide:it,useExisting:(0,w.Gpc)(()=>ao),multi:!0};let ao=(()=>{class q extends Pe{writeValue(B){this.setProperty("value",B??"")}registerOnChange(B){this.onChange=oe=>{B(""==oe?null:parseFloat(oe))}}static#e=this.\u0275fac=function(){let B;return function(Ie){return(B||(B=w.n5z(q)))(Ie||q)}}();static#t=this.\u0275dir=w.lG2({type:q,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(oe,Ie){1&oe&&w.NdJ("input",function(Fn){return Ie.onChange(Fn.target.value)})("blur",function(){return Ie.onTouched()})},features:[w._Bn([Fc]),w.qOj]})}return q})(),co=(()=>{class q{static#e=this.\u0275fac=function(oe){return new(oe||q)};static#t=this.\u0275mod=w.oAB({type:q});static#n=this.\u0275inj=w.cJS({})}return q})();const ns=new w.OlP("NgModelWithFormControlWarning"),Si={provide:yt,useExisting:(0,w.Gpc)(()=>Fr)};let Fr=(()=>{class q extends yt{constructor(B,oe,Ie){super(),this.callSetDisabledState=Ie,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new w.vpe,this._setValidators(B),this._setAsyncValidators(oe)}ngOnChanges(B){this._checkFormPresent(),B.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Zr(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(B){const oe=this.form.get(B.path);return oa(oe,B,this.callSetDisabledState),oe.updateValueAndValidity({emitEvent:!1}),this.directives.push(B),oe}getControl(B){return this.form.get(B.path)}removeControl(B){bs(B.control||null,B,!1),function lc(q,ee){const B=q.indexOf(ee);B>-1&&q.splice(B,1)}(this.directives,B)}addFormGroup(B){this._setUpFormContainer(B)}removeFormGroup(B){this._cleanUpFormContainer(B)}getFormGroup(B){return this.form.get(B.path)}addFormArray(B){this._setUpFormContainer(B)}removeFormArray(B){this._cleanUpFormContainer(B)}getFormArray(B){return this.form.get(B.path)}updateModel(B,oe){this.form.get(B.path).setValue(oe)}onSubmit(B){return this.submitted=!0,function cc(q,ee){q._syncPendingControls(),ee.forEach(B=>{const oe=B.control;"submit"===oe.updateOn&&oe._pendingChange&&(B.viewToModelUpdate(oe._pendingValue),oe._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(B),"dialog"===B?.target?.method}onReset(){this.resetForm()}resetForm(B=void 0){this.form.reset(B),this.submitted=!1}_updateDomValue(){this.directives.forEach(B=>{const oe=B.control,Ie=this.form.get(B.path);oe!==Ie&&(bs(oe||null,B),(q=>q instanceof yi)(Ie)&&(oa(Ie,B,this.callSetDisabledState),B.control=Ie))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(B){const oe=this.form.get(B.path);(function $s(q,ee){Ma(q,ee)})(oe,B),oe.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(B){if(this.form){const oe=this.form.get(B.path);oe&&function oo(q,ee){return Zr(q,ee)}(oe,B)&&oe.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ma(this.form,this),this._oldForm&&Zr(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(oe){return new(oe||q)(w.Y36(_t,10),w.Y36(Ge,10),w.Y36(jr,8))};static#t=this.\u0275dir=w.lG2({type:q,selectors:[["","formGroup",""]],hostBindings:function(oe,Ie){1&oe&&w.NdJ("submit",function(Fn){return Ie.onSubmit(Fn)})("reset",function(){return Ie.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[w._Bn([Si]),w.qOj,w.TTD]})}return q})();const Pa={provide:yt,useExisting:(0,w.Gpc)(()=>lo)};let lo=(()=>{class q extends qs{constructor(B,oe,Ie){super(),this.name=null,this._parent=B,this._setValidators(oe),this._setAsyncValidators(Ie)}_checkParentType(){xn(this._parent)}static#e=this.\u0275fac=function(oe){return new(oe||q)(w.Y36(yt,13),w.Y36(_t,10),w.Y36(Ge,10))};static#t=this.\u0275dir=w.lG2({type:q,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[w._Bn([Pa]),w.qOj]})}return q})();const lr={provide:yt,useExisting:(0,w.Gpc)(()=>Ft)};let Ft=(()=>{class q extends yt{constructor(B,oe,Ie){super(),this.name=null,this._parent=B,this._setValidators(oe),this._setAsyncValidators(Ie)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return so(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){xn(this._parent)}static#e=this.\u0275fac=function(oe){return new(oe||q)(w.Y36(yt,13),w.Y36(_t,10),w.Y36(Ge,10))};static#t=this.\u0275dir=w.lG2({type:q,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[w._Bn([lr]),w.qOj]})}return q})();function xn(q){return!(q instanceof lo||q instanceof Fr||q instanceof Ft)}const Or={provide:St,useExisting:(0,w.Gpc)(()=>Li)};let Li=(()=>{class q extends St{set isDisabled(B){}static#e=this._ngModelWarningSentOnce=!1;constructor(B,oe,Ie,Kt,Fn){super(),this._ngModelWarningConfig=Fn,this._added=!1,this.name=null,this.update=new w.vpe,this._ngModelWarningSent=!1,this._parent=B,this._setValidators(oe),this._setAsyncValidators(Ie),this.valueAccessor=function ws(q,ee){if(!ee)return null;let B,oe,Ie;return Array.isArray(ee),ee.forEach(Kt=>{Kt.constructor===mt?B=Kt:function ts(q){return Object.getPrototypeOf(q.constructor)===Pe}(Kt)?oe=Kt:Ie=Kt}),Ie||oe||B||null}(0,Kt)}ngOnChanges(B){this._added||this._setUpControl(),function Ps(q,ee){if(!q.hasOwnProperty("model"))return!1;const B=q.model;return!!B.isFirstChange()||!Object.is(ee,B.currentValue)}(B,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(B){this.viewModel=B,this.update.emit(B)}get path(){return so(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(oe){return new(oe||q)(w.Y36(yt,13),w.Y36(_t,10),w.Y36(Ge,10),w.Y36(it,10),w.Y36(ns,8))};static#n=this.\u0275dir=w.lG2({type:q,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[w._Bn([Or]),w.qOj,w.TTD]})}return q})();const Zs={provide:it,useExisting:(0,w.Gpc)(()=>Mr),multi:!0};function ti(q,ee){return null==q?`${ee}`:(ee&&"object"==typeof ee&&(ee="Object"),`${q}: ${ee}`.slice(0,50))}let Mr=(()=>{class q extends Pe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(B){this._compareWith=B}writeValue(B){this.value=B;const Ie=ti(this._getOptionId(B),B);this.setProperty("value",Ie)}registerOnChange(B){this.onChange=oe=>{this.value=this._getOptionValue(oe),B(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(B){for(const oe of this._optionMap.keys())if(this._compareWith(this._optionMap.get(oe),B))return oe;return null}_getOptionValue(B){const oe=function ji(q){return q.split(":")[0]}(B);return this._optionMap.has(oe)?this._optionMap.get(oe):B}static#e=this.\u0275fac=function(){let B;return function(Ie){return(B||(B=w.n5z(q)))(Ie||q)}}();static#t=this.\u0275dir=w.lG2({type:q,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(oe,Ie){1&oe&&w.NdJ("change",function(Fn){return Ie.onChange(Fn.target.value)})("blur",function(){return Ie.onTouched()})},inputs:{compareWith:"compareWith"},features:[w._Bn([Zs]),w.qOj]})}return q})(),di=(()=>{class q{constructor(B,oe,Ie){this._element=B,this._renderer=oe,this._select=Ie,this._select&&(this.id=this._select._registerOption())}set ngValue(B){null!=this._select&&(this._select._optionMap.set(this.id,B),this._setElementValue(ti(this.id,B)),this._select.writeValue(this._select.value))}set value(B){this._setElementValue(B),this._select&&this._select.writeValue(this._select.value)}_setElementValue(B){this._renderer.setProperty(this._element.nativeElement,"value",B)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(oe){return new(oe||q)(w.Y36(w.SBq),w.Y36(w.Qsj),w.Y36(Mr,9))};static#t=this.\u0275dir=w.lG2({type:q,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return q})();const ps={provide:it,useExisting:(0,w.Gpc)(()=>Es),multi:!0};function On(q,ee){return null==q?`${ee}`:("string"==typeof ee&&(ee=`'${ee}'`),ee&&"object"==typeof ee&&(ee="Object"),`${q}: ${ee}`.slice(0,50))}let Es=(()=>{class q extends Pe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(B){this._compareWith=B}writeValue(B){let oe;if(this.value=B,Array.isArray(B)){const Ie=B.map(Kt=>this._getOptionId(Kt));oe=(Kt,Fn)=>{Kt._setSelected(Ie.indexOf(Fn.toString())>-1)}}else oe=(Ie,Kt)=>{Ie._setSelected(!1)};this._optionMap.forEach(oe)}registerOnChange(B){this.onChange=oe=>{const Ie=[],Kt=oe.selectedOptions;if(void 0!==Kt){const Fn=Kt;for(let qi=0;qi<Fn.length;qi++){const Zi=this._getOptionValue(Fn[qi].value);Ie.push(Zi)}}else{const Fn=oe.options;for(let qi=0;qi<Fn.length;qi++){const Ys=Fn[qi];if(Ys.selected){const Zi=this._getOptionValue(Ys.value);Ie.push(Zi)}}}this.value=Ie,B(Ie)}}_registerOption(B){const oe=(this._idCounter++).toString();return this._optionMap.set(oe,B),oe}_getOptionId(B){for(const oe of this._optionMap.keys())if(this._compareWith(this._optionMap.get(oe)._value,B))return oe;return null}_getOptionValue(B){const oe=function No(q){return q.split(":")[0]}(B);return this._optionMap.has(oe)?this._optionMap.get(oe)._value:B}static#e=this.\u0275fac=function(){let B;return function(Ie){return(B||(B=w.n5z(q)))(Ie||q)}}();static#t=this.\u0275dir=w.lG2({type:q,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(oe,Ie){1&oe&&w.NdJ("change",function(Fn){return Ie.onChange(Fn.target)})("blur",function(){return Ie.onTouched()})},inputs:{compareWith:"compareWith"},features:[w._Bn([ps]),w.qOj]})}return q})(),Yr=(()=>{class q{constructor(B,oe,Ie){this._element=B,this._renderer=oe,this._select=Ie,this._select&&(this.id=this._select._registerOption(this))}set ngValue(B){null!=this._select&&(this._value=B,this._setElementValue(On(this.id,B)),this._select.writeValue(this._select.value))}set value(B){this._select?(this._value=B,this._setElementValue(On(this.id,B)),this._select.writeValue(this._select.value)):this._setElementValue(B)}_setElementValue(B){this._renderer.setProperty(this._element.nativeElement,"value",B)}_setSelected(B){this._renderer.setProperty(this._element.nativeElement,"selected",B)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(oe){return new(oe||q)(w.Y36(w.SBq),w.Y36(w.Qsj),w.Y36(Es,9))};static#t=this.\u0275dir=w.lG2({type:q,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return q})();let bi=(()=>{class q{constructor(){this._validator=ke}ngOnChanges(B){if(this.inputName in B){const oe=this.normalizeInput(B[this.inputName].currentValue);this._enabled=this.enabled(oe),this._validator=this._enabled?this.createValidator(oe):ke,this._onChange&&this._onChange()}}validate(B){return this._validator(B)}registerOnValidatorChange(B){this._onChange=B}enabled(B){return null!=B}static#e=this.\u0275fac=function(oe){return new(oe||q)};static#t=this.\u0275dir=w.lG2({type:q,features:[w.TTD]})}return q})();const gs={provide:_t,useExisting:(0,w.Gpc)(()=>Bn),multi:!0};let Bn=(()=>{class q extends bi{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=w.VuI,this.createValidator=B=>ht}enabled(B){return B}static#e=this.\u0275fac=function(){let B;return function(Ie){return(B||(B=w.n5z(q)))(Ie||q)}}();static#t=this.\u0275dir=w.lG2({type:q,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(oe,Ie){2&oe&&w.uIk("required",Ie._enabled?"":null)},inputs:{required:"required"},features:[w._Bn([gs]),w.qOj]})}return q})();const hi={provide:_t,useExisting:(0,w.Gpc)(()=>Cs),multi:!0};let Cs=(()=>{class q extends bi{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=B=>function vi(q){return"number"==typeof q?q:parseInt(q,10)}(B),this.createValidator=B=>Ln(B)}static#e=this.\u0275fac=function(){let B;return function(Ie){return(B||(B=w.n5z(q)))(Ie||q)}}();static#t=this.\u0275dir=w.lG2({type:q,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(oe,Ie){2&oe&&w.uIk("minlength",Ie._enabled?Ie.minlength:null)},inputs:{minlength:"minlength"},features:[w._Bn([hi]),w.qOj]})}return q})(),rs=(()=>{class q{static#e=this.\u0275fac=function(oe){return new(oe||q)};static#t=this.\u0275mod=w.oAB({type:q});static#n=this.\u0275inj=w.cJS({imports:[co]})}return q})();class po extends Tt{constructor(ee,B,oe){super(K(B),G(oe,B)),this.controls=ee,this._initObservables(),this._setUpdateStrategy(B),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(ee){return this.controls[this._adjustIndex(ee)]}push(ee,B={}){this.controls.push(ee),this._registerControl(ee),this.updateValueAndValidity({emitEvent:B.emitEvent}),this._onCollectionChange()}insert(ee,B,oe={}){this.controls.splice(ee,0,B),this._registerControl(B),this.updateValueAndValidity({emitEvent:oe.emitEvent})}removeAt(ee,B={}){let oe=this._adjustIndex(ee);oe<0&&(oe=0),this.controls[oe]&&this.controls[oe]._registerOnCollectionChange(()=>{}),this.controls.splice(oe,1),this.updateValueAndValidity({emitEvent:B.emitEvent})}setControl(ee,B,oe={}){let Ie=this._adjustIndex(ee);Ie<0&&(Ie=0),this.controls[Ie]&&this.controls[Ie]._registerOnCollectionChange(()=>{}),this.controls.splice(Ie,1),B&&(this.controls.splice(Ie,0,B),this._registerControl(B)),this.updateValueAndValidity({emitEvent:oe.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(ee,B={}){ze(this,0,ee),ee.forEach((oe,Ie)=>{ve(this,!1,Ie),this.at(Ie).setValue(oe,{onlySelf:!0,emitEvent:B.emitEvent})}),this.updateValueAndValidity(B)}patchValue(ee,B={}){null!=ee&&(ee.forEach((oe,Ie)=>{this.at(Ie)&&this.at(Ie).patchValue(oe,{onlySelf:!0,emitEvent:B.emitEvent})}),this.updateValueAndValidity(B))}reset(ee=[],B={}){this._forEachChild((oe,Ie)=>{oe.reset(ee[Ie],{onlySelf:!0,emitEvent:B.emitEvent})}),this._updatePristine(B),this._updateTouched(B),this.updateValueAndValidity(B)}getRawValue(){return this.controls.map(ee=>ee.getRawValue())}clear(ee={}){this.controls.length<1||(this._forEachChild(B=>B._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:ee.emitEvent}))}_adjustIndex(ee){return ee<0?ee+this.length:ee}_syncPendingControls(){let ee=this.controls.reduce((B,oe)=>!!oe._syncPendingControls()||B,!1);return ee&&this.updateValueAndValidity({onlySelf:!0}),ee}_forEachChild(ee){this.controls.forEach((B,oe)=>{ee(B,oe)})}_updateValue(){this.value=this.controls.filter(ee=>ee.enabled||this.disabled).map(ee=>ee.value)}_anyControls(ee){return this.controls.some(B=>B.enabled&&ee(B))}_setUpControls(){this._forEachChild(ee=>this._registerControl(ee))}_allControlsDisabled(){for(const ee of this.controls)if(ee.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(ee){ee.setParent(this),ee._registerOnCollectionChange(this._onCollectionChange)}_find(ee){return this.at(ee)??null}}function fc(q){return!!q&&(void 0!==q.asyncValidators||void 0!==q.validators||void 0!==q.updateOn)}let Qo=(()=>{class q{constructor(){this.useNonNullable=!1}get nonNullable(){const B=new q;return B.useNonNullable=!0,B}group(B,oe=null){const Ie=this._reduceControls(B);let Kt={};return fc(oe)?Kt=oe:null!==oe&&(Kt.validators=oe.validator,Kt.asyncValidators=oe.asyncValidator),new an(Ie,Kt)}record(B,oe=null){const Ie=this._reduceControls(B);return new $t(Ie,oe)}control(B,oe,Ie){let Kt={};return this.useNonNullable?(fc(oe)?Kt=oe:(Kt.validators=oe,Kt.asyncValidators=Ie),new yi(B,{...Kt,nonNullable:!0})):new yi(B,oe,Ie)}array(B,oe,Ie){const Kt=B.map(Fn=>this._createControl(Fn));return new po(Kt,oe,Ie)}_reduceControls(B){const oe={};return Object.keys(B).forEach(Ie=>{oe[Ie]=this._createControl(B[Ie])}),oe}_createControl(B){return B instanceof yi||B instanceof Tt?B:Array.isArray(B)?this.control(B[0],B.length>1?B[1]:null,B.length>2?B[2]:null):this.control(B)}static#e=this.\u0275fac=function(oe){return new(oe||q)};static#t=this.\u0275prov=w.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"})}return q})(),xo=(()=>{class q{static withConfig(B){return{ngModule:q,providers:[{provide:jr,useValue:B.callSetDisabledState??er}]}}static#e=this.\u0275fac=function(oe){return new(oe||q)};static#t=this.\u0275mod=w.oAB({type:q});static#n=this.\u0275inj=w.cJS({imports:[rs]})}return q})(),al=(()=>{class q{static withConfig(B){return{ngModule:q,providers:[{provide:ns,useValue:B.warnOnNgModelWithFormControl??"always"},{provide:jr,useValue:B.callSetDisabledState??er}]}}static#e=this.\u0275fac=function(oe){return new(oe||q)};static#t=this.\u0275mod=w.oAB({type:q});static#n=this.\u0275inj=w.cJS({imports:[rs]})}return q})()},2614:()=>{const Gt=":";const jn=function(De,...xe){if(jn.translate){const at=jn.translate(De,xe);De=at[0],xe=at[1]}let Re=kr(De[0],De.raw[0]);for(let at=1;at<De.length;at++)Re+=xe[at-1]+kr(De[at],De.raw[at]);return Re},pr=":";function kr(De,xe){return xe.charAt(0)===pr?De.substring(function je(De,xe){for(let Re=1,at=1;Re<De.length;Re++,at++)if("\\"===xe[at])at++;else if(De[Re]===Gt)return Re;throw new Error(`Unterminated $localize metadata block in "${xe}".`)}(De,xe)+1):De}globalThis.$localize=jn},6593:(Gt,$e,Q)=>{Q.d($e,{Dx:()=>St,H7:()=>Yn,b2:()=>De,q6:()=>Dt,se:()=>be});var w=Q(9468),ce=Q(6814);class h extends ce.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class we extends h{static makeCurrent(){(0,ce.HT)(new we)}onAndCancel(G,W,$){return G.addEventListener(W,$),()=>{G.removeEventListener(W,$)}}dispatchEvent(G,W){G.dispatchEvent(W)}remove(G){G.parentNode&&G.parentNode.removeChild(G)}createElement(G,W){return(W=W||this.getDefaultDocument()).createElement(G)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(G){return G.nodeType===Node.ELEMENT_NODE}isShadowRoot(G){return G instanceof DocumentFragment}getGlobalEventTarget(G,W){return"window"===W?window:"document"===W?G:"body"===W?G.body:null}getBaseHref(G){const W=function fe(){return de=de||document.querySelector("base"),de?de.getAttribute("href"):null}();return null==W?null:function He(V){Oe=Oe||document.createElement("a"),Oe.setAttribute("href",V);const G=Oe.pathname;return"/"===G.charAt(0)?G:`/${G}`}(W)}resetBaseElement(){de=null}getUserAgent(){return window.navigator.userAgent}getCookie(G){return(0,ce.Mx)(document.cookie,G)}}let Oe,de=null,re=(()=>{class V{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function($){return new($||V)};static#t=this.\u0275prov=w.Yz7({token:V,factory:V.\u0275fac})}return V})();const le=new w.OlP("EventManagerPlugins");let Se=(()=>{class V{constructor(W,$){this._zone=$,this._eventNameToPlugin=new Map,W.forEach(ve=>{ve.manager=this}),this._plugins=W.slice().reverse()}addEventListener(W,$,ve){return this._findPluginFor($).addEventListener(W,$,ve)}getZone(){return this._zone}_findPluginFor(W){let $=this._eventNameToPlugin.get(W);if($)return $;if($=this._plugins.find(ze=>ze.supports(W)),!$)throw new w.vHH(5101,!1);return this._eventNameToPlugin.set(W,$),$}static#e=this.\u0275fac=function($){return new($||V)(w.LFG(le),w.LFG(w.R0b))};static#t=this.\u0275prov=w.Yz7({token:V,factory:V.\u0275fac})}return V})();class et{constructor(G){this._doc=G}}const Pe="ng-app-id";let it=(()=>{class V{constructor(W,$,ve,ze={}){this.doc=W,this.appId=$,this.nonce=ve,this.platformId=ze,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,ce.PM)(ze),this.resetHostNodes()}addStyles(W){for(const $ of W)1===this.changeUsageCount($,1)&&this.onStyleAdded($)}removeStyles(W){for(const $ of W)this.changeUsageCount($,-1)<=0&&this.onStyleRemoved($)}ngOnDestroy(){const W=this.styleNodesInDOM;W&&(W.forEach($=>$.remove()),W.clear());for(const $ of this.getAllStyles())this.onStyleRemoved($);this.resetHostNodes()}addHost(W){this.hostNodes.add(W);for(const $ of this.getAllStyles())this.addStyleToHost(W,$)}removeHost(W){this.hostNodes.delete(W)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(W){for(const $ of this.hostNodes)this.addStyleToHost($,W)}onStyleRemoved(W){const $=this.styleRef;$.get(W)?.elements?.forEach(ve=>ve.remove()),$.delete(W)}collectServerRenderedStyles(){const W=this.doc.head?.querySelectorAll(`style[${Pe}="${this.appId}"]`);if(W?.length){const $=new Map;return W.forEach(ve=>{null!=ve.textContent&&$.set(ve.textContent,ve)}),$}return null}changeUsageCount(W,$){const ve=this.styleRef;if(ve.has(W)){const ze=ve.get(W);return ze.usage+=$,ze.usage}return ve.set(W,{usage:$,elements:[]}),$}getStyleElement(W,$){const ve=this.styleNodesInDOM,ze=ve?.get($);if(ze?.parentNode===W)return ve.delete($),ze.removeAttribute(Pe),ze;{const Tt=this.doc.createElement("style");return this.nonce&&Tt.setAttribute("nonce",this.nonce),Tt.textContent=$,this.platformIsServer&&Tt.setAttribute(Pe,this.appId),Tt}}addStyleToHost(W,$){const ve=this.getStyleElement(W,$);W.appendChild(ve);const ze=this.styleRef,Tt=ze.get($)?.elements;Tt?Tt.push(ve):ze.set($,{elements:[ve],usage:1})}resetHostNodes(){const W=this.hostNodes;W.clear(),W.add(this.doc.head)}static#e=this.\u0275fac=function($){return new($||V)(w.LFG(ce.K0),w.LFG(w.AFp),w.LFG(w.Ojb,8),w.LFG(w.Lbi))};static#t=this.\u0275prov=w.Yz7({token:V,factory:V.\u0275fac})}return V})();const At={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Bt=/%COMP%/g,ot=new w.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Ge(V,G){return G.map(W=>W.replace(Bt,V))}let be=(()=>{class V{constructor(W,$,ve,ze,Tt,an,ln,Tn=null){this.eventManager=W,this.sharedStylesHost=$,this.appId=ve,this.removeStylesOnCompDestroy=ze,this.doc=Tt,this.platformId=an,this.ngZone=ln,this.nonce=Tn,this.rendererByCompId=new Map,this.platformIsServer=(0,ce.PM)(an),this.defaultRenderer=new Ye(W,Tt,ln,this.platformIsServer)}createRenderer(W,$){if(!W||!$)return this.defaultRenderer;this.platformIsServer&&$.encapsulation===w.ifc.ShadowDom&&($={...$,encapsulation:w.ifc.Emulated});const ve=this.getOrCreateRenderer(W,$);return ve instanceof Ln?ve.applyToHost(W):ve instanceof En&&ve.applyStyles(),ve}getOrCreateRenderer(W,$){const ve=this.rendererByCompId;let ze=ve.get($.id);if(!ze){const Tt=this.doc,an=this.ngZone,ln=this.eventManager,Tn=this.sharedStylesHost,$t=this.removeStylesOnCompDestroy,kn=this.platformIsServer;switch($.encapsulation){case w.ifc.Emulated:ze=new Ln(ln,Tn,$,this.appId,$t,Tt,an,kn);break;case w.ifc.ShadowDom:return new fn(ln,Tn,W,$,Tt,an,this.nonce,kn);default:ze=new En(ln,Tn,$,$t,Tt,an,kn)}ve.set($.id,ze)}return ze}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function($){return new($||V)(w.LFG(Se),w.LFG(it),w.LFG(w.AFp),w.LFG(ot),w.LFG(ce.K0),w.LFG(w.Lbi),w.LFG(w.R0b),w.LFG(w.Ojb))};static#t=this.\u0275prov=w.Yz7({token:V,factory:V.\u0275fac})}return V})();class Ye{constructor(G,W,$,ve){this.eventManager=G,this.doc=W,this.ngZone=$,this.platformIsServer=ve,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(G,W){return W?this.doc.createElementNS(At[W]||W,G):this.doc.createElement(G)}createComment(G){return this.doc.createComment(G)}createText(G){return this.doc.createTextNode(G)}appendChild(G,W){(ht(G)?G.content:G).appendChild(W)}insertBefore(G,W,$){G&&(ht(G)?G.content:G).insertBefore(W,$)}removeChild(G,W){G&&G.removeChild(W)}selectRootElement(G,W){let $="string"==typeof G?this.doc.querySelector(G):G;if(!$)throw new w.vHH(-5104,!1);return W||($.textContent=""),$}parentNode(G){return G.parentNode}nextSibling(G){return G.nextSibling}setAttribute(G,W,$,ve){if(ve){W=ve+":"+W;const ze=At[ve];ze?G.setAttributeNS(ze,W,$):G.setAttribute(W,$)}else G.setAttribute(W,$)}removeAttribute(G,W,$){if($){const ve=At[$];ve?G.removeAttributeNS(ve,W):G.removeAttribute(`${$}:${W}`)}else G.removeAttribute(W)}addClass(G,W){G.classList.add(W)}removeClass(G,W){G.classList.remove(W)}setStyle(G,W,$,ve){ve&(w.JOm.DashCase|w.JOm.Important)?G.style.setProperty(W,$,ve&w.JOm.Important?"important":""):G.style[W]=$}removeStyle(G,W,$){$&w.JOm.DashCase?G.style.removeProperty(W):G.style[W]=""}setProperty(G,W,$){G[W]=$}setValue(G,W){G.nodeValue=W}listen(G,W,$){if("string"==typeof G&&!(G=(0,ce.q)().getGlobalEventTarget(this.doc,G)))throw new Error(`Unsupported event target ${G} for event ${W}`);return this.eventManager.addEventListener(G,W,this.decoratePreventDefault($))}decoratePreventDefault(G){return W=>{if("__ngUnwrap__"===W)return G;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>G(W)):G(W))&&W.preventDefault()}}}function ht(V){return"TEMPLATE"===V.tagName&&void 0!==V.content}class fn extends Ye{constructor(G,W,$,ve,ze,Tt,an,ln){super(G,ze,Tt,ln),this.sharedStylesHost=W,this.hostEl=$,this.shadowRoot=$.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Tn=Ge(ve.id,ve.styles);for(const $t of Tn){const kn=document.createElement("style");an&&kn.setAttribute("nonce",an),kn.textContent=$t,this.shadowRoot.appendChild(kn)}}nodeOrShadowRoot(G){return G===this.hostEl?this.shadowRoot:G}appendChild(G,W){return super.appendChild(this.nodeOrShadowRoot(G),W)}insertBefore(G,W,$){return super.insertBefore(this.nodeOrShadowRoot(G),W,$)}removeChild(G,W){return super.removeChild(this.nodeOrShadowRoot(G),W)}parentNode(G){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(G)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class En extends Ye{constructor(G,W,$,ve,ze,Tt,an,ln){super(G,ze,Tt,an),this.sharedStylesHost=W,this.removeStylesOnCompDestroy=ve,this.styles=ln?Ge(ln,$.styles):$.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Ln extends En{constructor(G,W,$,ve,ze,Tt,an,ln){const Tn=ve+"-"+$.id;super(G,W,$,ze,Tt,an,ln,Tn),this.contentAttr=function vt(V){return"_ngcontent-%COMP%".replace(Bt,V)}(Tn),this.hostAttr=function _t(V){return"_nghost-%COMP%".replace(Bt,V)}(Tn)}applyToHost(G){this.applyStyles(),this.setAttribute(G,this.hostAttr,"")}createElement(G,W){const $=super.createElement(G,W);return super.setAttribute($,this.contentAttr,""),$}}let Xn=(()=>{class V extends et{constructor(W){super(W)}supports(W){return!0}addEventListener(W,$,ve){return W.addEventListener($,ve,!1),()=>this.removeEventListener(W,$,ve)}removeEventListener(W,$,ve){return W.removeEventListener($,ve)}static#e=this.\u0275fac=function($){return new($||V)(w.LFG(ce.K0))};static#t=this.\u0275prov=w.Yz7({token:V,factory:V.\u0275fac})}return V})();const fr=["alt","control","meta","shift"],ke={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},je={alt:V=>V.altKey,control:V=>V.ctrlKey,meta:V=>V.metaKey,shift:V=>V.shiftKey};let Qe=(()=>{class V extends et{constructor(W){super(W)}supports(W){return null!=V.parseEventName(W)}addEventListener(W,$,ve){const ze=V.parseEventName($),Tt=V.eventCallback(ze.fullKey,ve,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,ce.q)().onAndCancel(W,ze.domEventName,Tt))}static parseEventName(W){const $=W.toLowerCase().split("."),ve=$.shift();if(0===$.length||"keydown"!==ve&&"keyup"!==ve)return null;const ze=V._normalizeKey($.pop());let Tt="",an=$.indexOf("code");if(an>-1&&($.splice(an,1),Tt="code."),fr.forEach(Tn=>{const $t=$.indexOf(Tn);$t>-1&&($.splice($t,1),Tt+=Tn+".")}),Tt+=ze,0!=$.length||0===ze.length)return null;const ln={};return ln.domEventName=ve,ln.fullKey=Tt,ln}static matchEventFullKeyCode(W,$){let ve=ke[W.key]||W.key,ze="";return $.indexOf("code.")>-1&&(ve=W.code,ze="code."),!(null==ve||!ve)&&(ve=ve.toLowerCase()," "===ve?ve="space":"."===ve&&(ve="dot"),fr.forEach(Tt=>{Tt!==ve&&(0,je[Tt])(W)&&(ze+=Tt+".")}),ze+=ve,ze===$)}static eventCallback(W,$,ve){return ze=>{V.matchEventFullKeyCode(ze,W)&&ve.runGuarded(()=>$(ze))}}static _normalizeKey(W){return"esc"===W?"escape":W}static#e=this.\u0275fac=function($){return new($||V)(w.LFG(ce.K0))};static#t=this.\u0275prov=w.Yz7({token:V,factory:V.\u0275fac})}return V})();const Dt=(0,w.eFA)(w._c5,"browser",[{provide:w.Lbi,useValue:ce.bD},{provide:w.g9A,useValue:function Ht(){we.makeCurrent()},multi:!0},{provide:ce.K0,useFactory:function vn(){return(0,w.RDi)(document),document},deps:[]}]),jn=new w.OlP(""),pr=[{provide:w.rWj,useClass:class Ee{addToWindow(G){w.dqk.getAngularTestability=($,ve=!0)=>{const ze=G.findTestabilityInTree($,ve);if(null==ze)throw new w.vHH(5103,!1);return ze},w.dqk.getAllAngularTestabilities=()=>G.getAllTestabilities(),w.dqk.getAllAngularRootElements=()=>G.getAllRootElements(),w.dqk.frameworkStabilizers||(w.dqk.frameworkStabilizers=[]),w.dqk.frameworkStabilizers.push($=>{const ve=w.dqk.getAllAngularTestabilities();let ze=ve.length,Tt=!1;const an=function(ln){Tt=Tt||ln,ze--,0==ze&&$(Tt)};ve.forEach(ln=>{ln.whenStable(an)})})}findTestabilityInTree(G,W,$){return null==W?null:G.getTestability(W)??($?(0,ce.q)().isShadowRoot(W)?this.findTestabilityInTree(G,W.host,!0):this.findTestabilityInTree(G,W.parentElement,!0):null)}},deps:[]},{provide:w.lri,useClass:w.dDg,deps:[w.R0b,w.eoX,w.rWj]},{provide:w.dDg,useClass:w.dDg,deps:[w.R0b,w.eoX,w.rWj]}],kr=[{provide:w.zSh,useValue:"root"},{provide:w.qLn,useFactory:function pn(){return new w.qLn},deps:[]},{provide:le,useClass:Xn,multi:!0,deps:[ce.K0,w.R0b,w.Lbi]},{provide:le,useClass:Qe,multi:!0,deps:[ce.K0]},be,it,Se,{provide:w.FYo,useExisting:be},{provide:ce.JF,useClass:re,deps:[]},[]];let De=(()=>{class V{constructor(W){}static withServerTransition(W){return{ngModule:V,providers:[{provide:w.AFp,useValue:W.appId}]}}static#e=this.\u0275fac=function($){return new($||V)(w.LFG(jn,12))};static#t=this.\u0275mod=w.oAB({type:V});static#n=this.\u0275inj=w.cJS({providers:[...kr,...pr],imports:[ce.ez,w.hGG]})}return V})(),St=(()=>{class V{constructor(W){this._doc=W}getTitle(){return this._doc.title}setTitle(W){this._doc.title=W||""}static#e=this.\u0275fac=function($){return new($||V)(w.LFG(ce.K0))};static#t=this.\u0275prov=w.Yz7({token:V,factory:function($){let ve=null;return ve=$?new $:function yt(){return new St((0,w.LFG)(ce.K0))}(),ve},providedIn:"root"})}return V})();typeof window<"u"&&window;let Yn=(()=>{class V{static#e=this.\u0275fac=function($){return new($||V)};static#t=this.\u0275prov=w.Yz7({token:V,factory:function($){let ve=null;return ve=$?new($||V):w.LFG(mi),ve},providedIn:"root"})}return V})(),mi=(()=>{class V extends Yn{constructor(W){super(),this._doc=W}sanitize(W,$){if(null==$)return null;switch(W){case w.q3G.NONE:return $;case w.q3G.HTML:return(0,w.qzn)($,"HTML")?(0,w.z3N)($):(0,w.EiD)(this._doc,String($)).toString();case w.q3G.STYLE:return(0,w.qzn)($,"Style")?(0,w.z3N)($):$;case w.q3G.SCRIPT:if((0,w.qzn)($,"Script"))return(0,w.z3N)($);throw new w.vHH(5200,!1);case w.q3G.URL:return(0,w.qzn)($,"URL")?(0,w.z3N)($):(0,w.mCW)(String($));case w.q3G.RESOURCE_URL:if((0,w.qzn)($,"ResourceURL"))return(0,w.z3N)($);throw new w.vHH(5201,!1);default:throw new w.vHH(5202,!1)}}bypassSecurityTrustHtml(W){return(0,w.JVY)(W)}bypassSecurityTrustStyle(W){return(0,w.L6k)(W)}bypassSecurityTrustScript(W){return(0,w.eBb)(W)}bypassSecurityTrustUrl(W){return(0,w.LAX)(W)}bypassSecurityTrustResourceUrl(W){return(0,w.pB0)(W)}static#e=this.\u0275fac=function($){return new($||V)(w.LFG(ce.K0))};static#t=this.\u0275prov=w.Yz7({token:V,factory:function($){let ve=null;return ve=$?new $:function Nr(V){return new mi(V.get(ce.K0))}(w.LFG(w.zs3)),ve},providedIn:"root"})}return V})()},6024:(Gt,$e,Q)=>{Q.d($e,{gz:()=>lr,m2:()=>Pi,F0:()=>Js,rH:()=>Oi,Bz:()=>nu,lC:()=>di});var w=Q(9468),ce=Q(5592),h=Q(4674),de=Q(2459),fe=Q(2096),Oe=Q(5619),He=Q(7453),Ee=Q(2737),re=Q(7400),le=Q(9940),Se=Q(2714),et=Q(8251),Pe=Q(7103);function it(...C){const x=(0,le.yG)(C),D=(0,le.jO)(C),{args:P,keys:j}=(0,He.D)(C);if(0===P.length)return(0,de.D)([],x);const se=new ce.y(function At(C,x,D=Ee.y){return P=>{Bt(x,()=>{const{length:j}=C,se=new Array(j);let _e=j,We=j;for(let Ue=0;Ue<j;Ue++)Bt(x,()=>{const zt=(0,de.D)(C[Ue],x);let Rn=!1;zt.subscribe((0,et.x)(P,xr=>{se[Ue]=xr,Rn||(Rn=!0,We--),We||P.next(D(se.slice()))},()=>{--_e||P.complete()}))},P)},P)}}(P,x,j?_e=>(0,Se.n)(j,_e):Ee.y));return D?se.pipe((0,re.Z)(D)):se}function Bt(C,x,D){C?(0,Pe.f)(D,C,x):x()}var kt=Q(6973),An=Q(5211),xt=Q(4829);function mt(C){return new ce.y(x=>{(0,xt.Xf)(C()).subscribe(x)})}var ot=Q(8407);function vt(C,x){const D=(0,h.m)(C)?C:()=>C,P=j=>j.error(D());return new ce.y(x?j=>x.schedule(P,0,j):P)}var _t=Q(6232),Ge=Q(7394),be=Q(9360);function Ye(){return(0,be.e)((C,x)=>{let D=null;C._refCount++;const P=(0,et.x)(x,void 0,void 0,void 0,()=>{if(!C||C._refCount<=0||0<--C._refCount)return void(D=null);const j=C._connection,se=D;D=null,j&&(!se||j===se)&&j.unsubscribe(),x.unsubscribe()});C.subscribe(P),P.closed||(D=C.connect())})}class gt extends ce.y{constructor(x,D){super(),this.source=x,this.subjectFactory=D,this._subject=null,this._refCount=0,this._connection=null,(0,be.A)(x)&&(this.lift=x.lift)}_subscribe(x){return this.getSubject().subscribe(x)}getSubject(){const x=this._subject;return(!x||x.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:x}=this;this._subject=this._connection=null,x?.unsubscribe()}connect(){let x=this._connection;if(!x){x=this._connection=new Ge.w0;const D=this.getSubject();x.add(this.source.subscribe((0,et.x)(D,void 0,()=>{this._teardown(),D.complete()},P=>{this._teardown(),D.error(P)},()=>this._teardown()))),x.closed&&(this._connection=null,x=Ge.w0.EMPTY)}return x}refCount(){return Ye()(this)}}var Mn=Q(8645),ht=Q(6814),fn=Q(7398),En=Q(4664),Ln=Q(8180),Xn=Q(7921),fr=Q(2181),ke=Q(1631);function je(C){return(0,be.e)((x,D)=>{let P=!1;x.subscribe((0,et.x)(D,j=>{P=!0,D.next(j)},()=>{P||D.next(C),D.complete()}))})}function Qe(C=Ve){return(0,be.e)((x,D)=>{let P=!1;x.subscribe((0,et.x)(D,j=>{P=!0,D.next(j)},()=>P?D.complete():D.error(C())))})}function Ve(){return new kt.K}function nt(C,x){const D=arguments.length>=2;return P=>P.pipe(C?(0,fr.h)((j,se)=>C(j,se,P)):Ee.y,(0,Ln.q)(1),D?je(x):Qe(()=>new kt.K))}function bt(C,x){return(0,h.m)(x)?(0,ke.z)(C,x,1):(0,ke.z)(C,1)}var Rt=Q(9397);function Ht(C){return(0,be.e)((x,D)=>{let se,P=null,j=!1;P=x.subscribe((0,et.x)(D,void 0,void 0,_e=>{se=(0,xt.Xf)(C(_e,Ht(C)(x))),P?(P.unsubscribe(),P=null,se.subscribe(D)):j=!0})),j&&(P.unsubscribe(),P=null,se.subscribe(D))})}function un(C){return C<=0?()=>_t.E:(0,be.e)((x,D)=>{let P=[];x.subscribe((0,et.x)(D,j=>{P.push(j),C<P.length&&P.shift()},()=>{for(const j of P)D.next(j);D.complete()},void 0,()=>{P=null}))})}var jn=Q(975);function pr(C){return(0,be.e)((x,D)=>{try{x.subscribe(D)}finally{D.add(C)}})}var kr=Q(9773),De=Q(7537),xe=Q(6593);const Re="primary",at=Symbol("RouteTitle");class yt{constructor(x){this.params=x||{}}has(x){return Object.prototype.hasOwnProperty.call(this.params,x)}get(x){if(this.has(x)){const D=this.params[x];return Array.isArray(D)?D[0]:D}return null}getAll(x){if(this.has(x)){const D=this.params[x];return Array.isArray(D)?D:[D]}return[]}get keys(){return Object.keys(this.params)}}function St(C){return new yt(C)}function yr(C,x,D){const P=D.path.split("/");if(P.length>C.length||"full"===D.pathMatch&&(x.hasChildren()||P.length<C.length))return null;const j={};for(let se=0;se<P.length;se++){const _e=P[se],We=C[se];if(_e.startsWith(":"))j[_e.substring(1)]=We;else if(_e!==We.path)return null}return{consumed:C.slice(0,P.length),posParams:j}}function on(C,x){const D=C?Object.keys(C):void 0,P=x?Object.keys(x):void 0;if(!D||!P||D.length!=P.length)return!1;let j;for(let se=0;se<D.length;se++)if(j=D[se],!Yt(C[j],x[j]))return!1;return!0}function Yt(C,x){if(Array.isArray(C)&&Array.isArray(x)){if(C.length!==x.length)return!1;const D=[...C].sort(),P=[...x].sort();return D.every((j,se)=>P[se]===j)}return C===x}function wn(C){return C.length>0?C[C.length-1]:null}function Kn(C){return function we(C){return!!C&&(C instanceof ce.y||(0,h.m)(C.lift)&&(0,h.m)(C.subscribe))}(C)?C:(0,w.QGY)(C)?(0,de.D)(Promise.resolve(C)):(0,fe.of)(C)}const tn={exact:function rr(C,x,D){if(!tt(C.segments,x.segments)||!gi(C.segments,x.segments,D)||C.numberOfChildren!==x.numberOfChildren)return!1;for(const P in x.children)if(!C.children[P]||!rr(C.children[P],x.children[P],D))return!1;return!0},subset:ir},Cr={exact:function mn(C,x){return on(C,x)},subset:function Wn(C,x){return Object.keys(x).length<=Object.keys(C).length&&Object.keys(x).every(D=>Yt(C[D],x[D]))},ignored:()=>!0};function vr(C,x,D){return tn[D.paths](C.root,x.root,D.matrixParams)&&Cr[D.queryParams](C.queryParams,x.queryParams)&&!("exact"===D.fragment&&C.fragment!==x.fragment)}function ir(C,x,D){return Hn(C,x,x.segments,D)}function Hn(C,x,D,P){if(C.segments.length>D.length){const j=C.segments.slice(0,D.length);return!(!tt(j,D)||x.hasChildren()||!gi(j,D,P))}if(C.segments.length===D.length){if(!tt(C.segments,D)||!gi(C.segments,D,P))return!1;for(const j in x.children)if(!C.children[j]||!ir(C.children[j],x.children[j],P))return!1;return!0}{const j=D.slice(0,C.segments.length),se=D.slice(C.segments.length);return!!(tt(C.segments,j)&&gi(C.segments,j,P)&&C.children[Re])&&Hn(C.children[Re],x,se,P)}}function gi(C,x,D){return x.every((P,j)=>Cr[D](C[j].parameters,P.parameters))}class Nn{constructor(x=new Yn([],{}),D={},P=null){this.root=x,this.queryParams=D,this.fragment=P}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=St(this.queryParams)),this._queryParamMap}toString(){return Qt.serialize(this)}}class Yn{constructor(x,D){this.segments=x,this.children=D,this.parent=null,Object.values(D).forEach(P=>P.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Jt(this)}}class Nr{constructor(x,D){this.path=x,this.parameters=D}get parameterMap(){return this._parameterMap||(this._parameterMap=St(this.parameters)),this._parameterMap}toString(){return ze(this)}}function tt(C,x){return C.length===x.length&&C.every((D,P)=>D.path===x[P].path)}let Ke=(()=>{class C{static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275prov=w.Yz7({token:C,factory:function(){return new It},providedIn:"root"})}return C})();class It{parse(x){const D=new bs(x);return new Nn(D.parseRootSegment(),D.parseQueryParams(),D.parseFragment())}serialize(x){const D=`/${Gn(x.root,!0)}`,P=function an(C){const x=Object.keys(C).map(D=>{const P=C[D];return Array.isArray(P)?P.map(j=>`${V(D)}=${V(j)}`).join("&"):`${V(D)}=${V(P)}`}).filter(D=>!!D);return x.length?`?${x.join("&")}`:""}(x.queryParams);return`${D}${P}${"string"==typeof x.fragment?`#${function G(C){return encodeURI(C)}(x.fragment)}`:""}`}}const Qt=new It;function Jt(C){return C.segments.map(x=>ze(x)).join("/")}function Gn(C,x){if(!C.hasChildren())return Jt(C);if(x){const D=C.children[Re]?Gn(C.children[Re],!1):"",P=[];return Object.entries(C.children).forEach(([j,se])=>{j!==Re&&P.push(`${j}:${Gn(se,!1)}`)}),P.length>0?`${D}(${P.join("//")})`:D}{const D=function Ce(C,x){let D=[];return Object.entries(C.children).forEach(([P,j])=>{P===Re&&(D=D.concat(x(j,P)))}),Object.entries(C.children).forEach(([P,j])=>{P!==Re&&(D=D.concat(x(j,P)))}),D}(C,(P,j)=>j===Re?[Gn(C.children[Re],!1)]:[`${j}:${Gn(P,!1)}`]);return 1===Object.keys(C.children).length&&null!=C.children[Re]?`${Jt(C)}/${D[0]}`:`${Jt(C)}/(${D.join("//")})`}}function K(C){return encodeURIComponent(C).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function V(C){return K(C).replace(/%3B/gi,";")}function W(C){return K(C).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $(C){return decodeURIComponent(C)}function ve(C){return $(C.replace(/\+/g,"%20"))}function ze(C){return`${W(C.path)}${function Tt(C){return Object.keys(C).map(x=>`;${W(x)}=${W(C[x])}`).join("")}(C.parameters)}`}const ln=/^[^\/()?;#]+/;function Tn(C){const x=C.match(ln);return x?x[0]:""}const $t=/^[^\/()?;=#]+/,jr=/^[^=?&#]+/,so=/^[^&#]+/;class bs{constructor(x){this.url=x,this.remaining=x}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Yn([],{}):new Yn([],this.parseChildren())}parseQueryParams(){const x={};if(this.consumeOptional("?"))do{this.parseQueryParam(x)}while(this.consumeOptional("&"));return x}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const x=[];for(this.peekStartsWith("(")||x.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),x.push(this.parseSegment());let D={};this.peekStartsWith("/(")&&(this.capture("/"),D=this.parseParens(!0));let P={};return this.peekStartsWith("(")&&(P=this.parseParens(!1)),(x.length>0||Object.keys(D).length>0)&&(P[Re]=new Yn(x,D)),P}parseSegment(){const x=Tn(this.remaining);if(""===x&&this.peekStartsWith(";"))throw new w.vHH(4009,!1);return this.capture(x),new Nr($(x),this.parseMatrixParams())}parseMatrixParams(){const x={};for(;this.consumeOptional(";");)this.parseParam(x);return x}parseParam(x){const D=function kn(C){const x=C.match($t);return x?x[0]:""}(this.remaining);if(!D)return;this.capture(D);let P="";if(this.consumeOptional("=")){const j=Tn(this.remaining);j&&(P=j,this.capture(P))}x[$(D)]=$(P)}parseQueryParam(x){const D=function er(C){const x=C.match(jr);return x?x[0]:""}(this.remaining);if(!D)return;this.capture(D);let P="";if(this.consumeOptional("=")){const _e=function oa(C){const x=C.match(so);return x?x[0]:""}(this.remaining);_e&&(P=_e,this.capture(P))}const j=ve(D),se=ve(P);if(x.hasOwnProperty(j)){let _e=x[j];Array.isArray(_e)||(_e=[_e],x[j]=_e),_e.push(se)}else x[j]=se}parseParens(x){const D={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const P=Tn(this.remaining),j=this.remaining[P.length];if("/"!==j&&")"!==j&&";"!==j)throw new w.vHH(4010,!1);let se;P.indexOf(":")>-1?(se=P.slice(0,P.indexOf(":")),this.capture(se),this.capture(":")):x&&(se=Re);const _e=this.parseChildren();D[se]=1===Object.keys(_e).length?_e[Re]:new Yn([],_e),this.consumeOptional("//")}return D}peekStartsWith(x){return this.remaining.startsWith(x)}consumeOptional(x){return!!this.peekStartsWith(x)&&(this.remaining=this.remaining.substring(x.length),!0)}capture(x){if(!this.consumeOptional(x))throw new w.vHH(4011,!1)}}function Oa(C){return C.segments.length>0?new Yn([],{[Re]:C}):C}function js(C){const x={};for(const P of Object.keys(C.children)){const se=js(C.children[P]);if(P===Re&&0===se.segments.length&&se.hasChildren())for(const[_e,We]of Object.entries(se.children))x[_e]=We;else(se.segments.length>0||se.hasChildren())&&(x[P]=se)}return function Ma(C){if(1===C.numberOfChildren&&C.children[Re]){const x=C.children[Re];return new Yn(C.segments.concat(x.segments),x.children)}return C}(new Yn(C.segments,x))}function Zr(C){return C instanceof Nn}function ds(C){let x;const j=Oa(function D(se){const _e={};for(const Ue of se.children){const zt=D(Ue);_e[Ue.outlet]=zt}const We=new Yn(se.url,_e);return se===C&&(x=We),We}(C.root));return x??j}function hs(C,x,D,P){let j=C;for(;j.parent;)j=j.parent;if(0===x.length)return oo(j,j,j,D,P);const se=function Rs(C){if("string"==typeof C[0]&&1===C.length&&"/"===C[0])return new aa(!0,0,C);let x=0,D=!1;const P=C.reduce((j,se,_e)=>{if("object"==typeof se&&null!=se){if(se.outlets){const We={};return Object.entries(se.outlets).forEach(([Ue,zt])=>{We[Ue]="string"==typeof zt?zt.split("/"):zt}),[...j,{outlets:We}]}if(se.segmentPath)return[...j,se.segmentPath]}return"string"!=typeof se?[...j,se]:0===_e?(se.split("/").forEach((We,Ue)=>{0==Ue&&"."===We||(0==Ue&&""===We?D=!0:".."===We?x++:""!=We&&j.push(We))}),j):[...j,se]},[]);return new aa(D,x,P)}(x);if(se.toRoot())return oo(j,j,new Yn([],{}),D,P);const _e=function ci(C,x,D){if(C.isAbsolute)return new zs(x,!0,0);if(!D)return new zs(x,!1,NaN);if(null===D.parent)return new zs(D,!0,0);const P=tr(C.commands[0])?0:1;return function Ps(C,x,D){let P=C,j=x,se=D;for(;se>j;){if(se-=j,P=P.parent,!P)throw new w.vHH(4005,!1);j=P.segments.length}return new zs(P,!1,j-se)}(D,D.segments.length-1+P,C.numberOfDoubleDots)}(se,j,C),We=_e.processChildren?ws(_e.segmentGroup,_e.index,se.commands):cc(_e.segmentGroup,_e.index,se.commands);return oo(j,_e.segmentGroup,We,D,P)}function tr(C){return"object"==typeof C&&null!=C&&!C.outlets&&!C.segmentPath}function $s(C){return"object"==typeof C&&null!=C&&C.outlets}function oo(C,x,D,P,j){let _e,se={};P&&Object.entries(P).forEach(([Ue,zt])=>{se[Ue]=Array.isArray(zt)?zt.map(Rn=>`${Rn}`):`${zt}`}),_e=C===x?D:So(C,x,D);const We=Oa(js(_e));return new Nn(We,se,j)}function So(C,x,D){const P={};return Object.entries(C.children).forEach(([j,se])=>{P[j]=se===x?D:So(se,x,D)}),new Yn(C.segments,P)}class aa{constructor(x,D,P){if(this.isAbsolute=x,this.numberOfDoubleDots=D,this.commands=P,x&&P.length>0&&tr(P[0]))throw new w.vHH(4003,!1);const j=P.find($s);if(j&&j!==wn(P))throw new w.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class zs{constructor(x,D,P){this.segmentGroup=x,this.processChildren=D,this.index=P}}function cc(C,x,D){if(C||(C=new Yn([],{})),0===C.segments.length&&C.hasChildren())return ws(C,x,D);const P=function lc(C,x,D){let P=0,j=x;const se={match:!1,pathIndex:0,commandIndex:0};for(;j<C.segments.length;){if(P>=D.length)return se;const _e=C.segments[j],We=D[P];if($s(We))break;const Ue=`${We}`,zt=P<D.length-1?D[P+1]:null;if(j>0&&void 0===Ue)break;if(Ue&&zt&&"object"==typeof zt&&void 0===zt.outlets){if(!li(Ue,zt,_e))return se;P+=2}else{if(!li(Ue,{},_e))return se;P++}j++}return{match:!0,pathIndex:j,commandIndex:P}}(C,x,D),j=D.slice(P.commandIndex);if(P.match&&P.pathIndex<C.segments.length){const se=new Yn(C.segments.slice(0,P.pathIndex),{});return se.children[Re]=new Yn(C.segments.slice(P.pathIndex),C.children),ws(se,0,j)}return P.match&&0===j.length?new Yn(C.segments,{}):P.match&&!C.hasChildren()?_i(C,x,D):P.match?ws(C,0,j):_i(C,x,D)}function ws(C,x,D){if(0===D.length)return new Yn(C.segments,{});{const P=function ts(C){return $s(C[0])?C[0].outlets:{[Re]:C}}(D),j={};if(Object.keys(P).some(se=>se!==Re)&&C.children[Re]&&1===C.numberOfChildren&&0===C.children[Re].segments.length){const se=ws(C.children[Re],x,D);return new Yn(C.segments,se.children)}return Object.entries(P).forEach(([se,_e])=>{"string"==typeof _e&&(_e=[_e]),null!==_e&&(j[se]=cc(C.children[se],x,_e))}),Object.entries(C.children).forEach(([se,_e])=>{void 0===P[se]&&(j[se]=_e)}),new Yn(C.segments,j)}}function _i(C,x,D){const P=C.segments.slice(0,x);let j=0;for(;j<D.length;){const se=D[j];if($s(se)){const Ue=Ws(se.outlets);return new Yn(P,Ue)}if(0===j&&tr(D[0])){P.push(new Nr(C.segments[x].path,Is(D[0]))),j++;continue}const _e=$s(se)?se.outlets[Re]:`${se}`,We=j<D.length-1?D[j+1]:null;_e&&We&&tr(We)?(P.push(new Nr(_e,Is(We))),j+=2):(P.push(new Nr(_e,{})),j++)}return new Yn(P,{})}function Ws(C){const x={};return Object.entries(C).forEach(([D,P])=>{"string"==typeof P&&(P=[P]),null!==P&&(x[D]=_i(new Yn([],{}),0,P))}),x}function Is(C){const x={};return Object.entries(C).forEach(([D,P])=>x[D]=`${P}`),x}function li(C,x,D){return C==D.path&&on(x,D.parameters)}const ks="imperative";class fs{constructor(x,D){this.id=x,this.url=D}}class yi extends fs{constructor(x,D,P="imperative",j=null){super(x,D),this.type=0,this.navigationTrigger=P,this.restoredState=j}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Pi extends fs{constructor(x,D,P){super(x,D),this.urlAfterRedirects=P,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ts extends fs{constructor(x,D,P,j){super(x,D),this.reason=P,this.code=j,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class qs extends fs{constructor(x,D,P,j){super(x,D),this.reason=P,this.code=j,this.type=16}}class uc extends fs{constructor(x,D,P,j){super(x,D),this.error=P,this.target=j,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Gi extends fs{constructor(x,D,P,j){super(x,D),this.urlAfterRedirects=P,this.state=j,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ki extends fs{constructor(x,D,P,j){super(x,D),this.urlAfterRedirects=P,this.state=j,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fi extends fs{constructor(x,D,P,j,se){super(x,D),this.urlAfterRedirects=P,this.state=j,this.shouldActivate=se,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class sl extends fs{constructor(x,D,P,j){super(x,D),this.urlAfterRedirects=P,this.state=j,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xa extends fs{constructor(x,D,P,j){super(x,D),this.urlAfterRedirects=P,this.state=j,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dc{constructor(x){this.route=x,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ao{constructor(x){this.route=x,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ra{constructor(x){this.snapshot=x,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zo{constructor(x){this.snapshot=x,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fc{constructor(x){this.snapshot=x,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ao{constructor(x){this.snapshot=x,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ko{constructor(x,D,P){this.routerEvent=x,this.position=D,this.anchor=P,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Fs{}class co{constructor(x){this.url=x}}class cr{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Kr,this.attachRef=null}}let Kr=(()=>{class C{constructor(){this.contexts=new Map}onChildOutletCreated(D,P){const j=this.getOrCreateContext(D);j.outlet=P,this.contexts.set(D,j)}onChildOutletDestroyed(D){const P=this.getContext(D);P&&(P.outlet=null,P.attachRef=null)}onOutletDeactivated(){const D=this.contexts;return this.contexts=new Map,D}onOutletReAttached(D){this.contexts=D}getOrCreateContext(D){let P=this.getContext(D);return P||(P=new cr,this.contexts.set(D,P)),P}getContext(D){return this.contexts.get(D)||null}static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275prov=w.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();class Ci{constructor(x){this._root=x}get root(){return this._root.value}parent(x){const D=this.pathFromRoot(x);return D.length>1?D[D.length-2]:null}children(x){const D=ns(x,this._root);return D?D.children.map(P=>P.value):[]}firstChild(x){const D=ns(x,this._root);return D&&D.children.length>0?D.children[0].value:null}siblings(x){const D=ui(x,this._root);return D.length<2?[]:D[D.length-2].children.map(j=>j.value).filter(j=>j!==x)}pathFromRoot(x){return ui(x,this._root).map(D=>D.value)}}function ns(C,x){if(C===x.value)return x;for(const D of x.children){const P=ns(C,D);if(P)return P}return null}function ui(C,x){if(C===x.value)return[x];for(const D of x.children){const P=ui(C,D);if(P.length)return P.unshift(x),P}return[]}class sr{constructor(x,D){this.value=x,this.children=D}toString(){return`TreeNode(${this.value})`}}function Si(C){const x={};return C&&C.children.forEach(D=>x[D.value.outlet]=D),x}class Fr extends Ci{constructor(x,D){super(x),this.snapshot=D,Zs(this,x)}toString(){return this.snapshot.toString()}}function Pa(C,x){const D=function lo(C,x){const _e=new Or([],{},{},"",{},Re,x,null,{});return new Li("",new sr(_e,[]))}(0,x),P=new Oe.X([new Nr("",{})]),j=new Oe.X({}),se=new Oe.X({}),_e=new Oe.X({}),We=new Oe.X(""),Ue=new lr(P,j,_e,We,se,Re,x,D.root);return Ue.snapshot=D.root,new Fr(new sr(Ue,[]),D)}class lr{constructor(x,D,P,j,se,_e,We,Ue){this.urlSubject=x,this.paramsSubject=D,this.queryParamsSubject=P,this.fragmentSubject=j,this.dataSubject=se,this.outlet=_e,this.component=We,this._futureSnapshot=Ue,this.title=this.dataSubject?.pipe((0,fn.U)(zt=>zt[at]))??(0,fe.of)(void 0),this.url=x,this.params=D,this.queryParams=P,this.fragment=j,this.data=se}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,fn.U)(x=>St(x)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,fn.U)(x=>St(x)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ft(C,x="emptyOnly"){const D=C.pathFromRoot;let P=0;if("always"!==x)for(P=D.length-1;P>=1;){const j=D[P],se=D[P-1];if(j.routeConfig&&""===j.routeConfig.path)P--;else{if(se.component)break;P--}}return function xn(C){return C.reduce((x,D)=>({params:{...x.params,...D.params},data:{...x.data,...D.data},resolve:{...D.data,...x.resolve,...D.routeConfig?.data,...D._resolvedData}}),{params:{},data:{},resolve:{}})}(D.slice(P))}class Or{get title(){return this.data?.[at]}constructor(x,D,P,j,se,_e,We,Ue,zt){this.url=x,this.params=D,this.queryParams=P,this.fragment=j,this.data=se,this.outlet=_e,this.component=We,this.routeConfig=Ue,this._resolve=zt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=St(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=St(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(P=>P.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Li extends Ci{constructor(x,D){super(D),this.url=x,Zs(this,D)}toString(){return ti(this._root)}}function Zs(C,x){x.value._routerState=C,x.children.forEach(D=>Zs(C,D))}function ti(C){const x=C.children.length>0?` { ${C.children.map(ti).join(", ")} } `:"";return`${C.value}${x}`}function ji(C){if(C.snapshot){const x=C.snapshot,D=C._futureSnapshot;C.snapshot=D,on(x.queryParams,D.queryParams)||C.queryParamsSubject.next(D.queryParams),x.fragment!==D.fragment&&C.fragmentSubject.next(D.fragment),on(x.params,D.params)||C.paramsSubject.next(D.params),function Dn(C,x){if(C.length!==x.length)return!1;for(let D=0;D<C.length;++D)if(!on(C[D],x[D]))return!1;return!0}(x.url,D.url)||C.urlSubject.next(D.url),on(x.data,D.data)||C.dataSubject.next(D.data)}else C.snapshot=C._futureSnapshot,C.dataSubject.next(C._futureSnapshot.data)}function Mr(C,x){const D=on(C.params,x.params)&&function mi(C,x){return tt(C,x)&&C.every((D,P)=>on(D.parameters,x[P].parameters))}(C.url,x.url);return D&&!(!C.parent!=!x.parent)&&(!C.parent||Mr(C.parent,x.parent))}let di=(()=>{class C{constructor(){this.activated=null,this._activatedRoute=null,this.name=Re,this.activateEvents=new w.vpe,this.deactivateEvents=new w.vpe,this.attachEvents=new w.vpe,this.detachEvents=new w.vpe,this.parentContexts=(0,w.f3M)(Kr),this.location=(0,w.f3M)(w.s_b),this.changeDetector=(0,w.f3M)(w.sBO),this.environmentInjector=(0,w.f3M)(w.lqb),this.inputBinder=(0,w.f3M)(On,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(D){if(D.name){const{firstChange:P,previousValue:j}=D.name;if(P)return;this.isTrackedInParentContexts(j)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(j)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(D){return this.parentContexts.getContext(D)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const D=this.parentContexts.getContext(this.name);D?.route&&(D.attachRef?this.attach(D.attachRef,D.route):this.activateWith(D.route,D.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new w.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new w.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new w.vHH(4012,!1);this.location.detach();const D=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(D.instance),D}attach(D,P){this.activated=D,this._activatedRoute=P,this.location.insert(D.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(D.instance)}deactivate(){if(this.activated){const D=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(D)}}activateWith(D,P){if(this.isActivated)throw new w.vHH(4013,!1);this._activatedRoute=D;const j=this.location,_e=D.snapshot.component,We=this.parentContexts.getOrCreateContext(this.name).children,Ue=new ps(D,We,j.injector);this.activated=j.createComponent(_e,{index:j.length,injector:Ue,environmentInjector:P??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275dir=w.lG2({type:C,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[w.TTD]})}return C})();class ps{constructor(x,D,P){this.route=x,this.childContexts=D,this.parent=P}get(x,D){return x===lr?this.route:x===Kr?this.childContexts:this.parent.get(x,D)}}const On=new w.OlP("");let No=(()=>{class C{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(D){this.unsubscribeFromRouteData(D),this.subscribeToRouteData(D)}unsubscribeFromRouteData(D){this.outletDataSubscriptions.get(D)?.unsubscribe(),this.outletDataSubscriptions.delete(D)}subscribeToRouteData(D){const{activatedRoute:P}=D,j=it([P.queryParams,P.params,P.data]).pipe((0,En.w)(([se,_e,We],Ue)=>(We={...se,..._e,...We},0===Ue?(0,fe.of)(We):Promise.resolve(We)))).subscribe(se=>{if(!D.isActivated||!D.activatedComponentRef||D.activatedRoute!==P||null===P.component)return void this.unsubscribeFromRouteData(D);const _e=(0,w.qFp)(P.component);if(_e)for(const{templateName:We}of _e.inputs)D.activatedComponentRef.setInput(We,se[We]);else this.unsubscribeFromRouteData(D)});this.outletDataSubscriptions.set(D,j)}static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275prov=w.Yz7({token:C,factory:C.\u0275fac})}return C})();function Es(C,x,D){if(D&&C.shouldReuseRoute(x.value,D.value.snapshot)){const P=D.value;P._futureSnapshot=x.value;const j=function Yr(C,x,D){return x.children.map(P=>{for(const j of D.children)if(C.shouldReuseRoute(P.value,j.value.snapshot))return Es(C,P,j);return Es(C,P)})}(C,x,D);return new sr(P,j)}{if(C.shouldAttach(x.value)){const se=C.retrieve(x.value);if(null!==se){const _e=se.route;return _e.value._futureSnapshot=x.value,_e.children=x.children.map(We=>Es(C,We)),_e}}const P=function vi(C){return new lr(new Oe.X(C.url),new Oe.X(C.params),new Oe.X(C.queryParams),new Oe.X(C.fragment),new Oe.X(C.data),C.outlet,C.component,C)}(x.value),j=x.children.map(se=>Es(C,se));return new sr(P,j)}}const Ks="ngNavigationCancelingError";function bi(C,x){const{redirectTo:D,navigationBehaviorOptions:P}=Zr(x)?{redirectTo:x,navigationBehaviorOptions:void 0}:x,j=Oo(!1,0,x);return j.url=D,j.navigationBehaviorOptions=P,j}function Oo(C,x,D){const P=new Error("NavigationCancelingError: "+(C||""));return P[Ks]=!0,P.cancellationCode=x,D&&(P.url=D),P}function uo(C){return C&&C[Ks]}let br=(()=>{class C{static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275cmp=w.Xpm({type:C,selectors:[["ng-component"]],standalone:!0,features:[w.jDz],decls:1,vars:0,template:function(P,j){1&P&&w._UZ(0,"router-outlet")},dependencies:[di],encapsulation:2})}return C})();function fo(C){const x=C.children&&C.children.map(fo),D=x?{...C,children:x}:{...C};return!D.component&&!D.loadComponent&&(x||D.loadChildren)&&D.outlet&&D.outlet!==Re&&(D.component=br),D}function Sr(C){return C.outlet||Re}function Jr(C){if(!C)return null;if(C.routeConfig?._injector)return C.routeConfig._injector;for(let x=C.parent;x;x=x.parent){const D=x.routeConfig;if(D?._loadedInjector)return D._loadedInjector;if(D?._injector)return D._injector}return null}class rs{constructor(x,D,P,j,se){this.routeReuseStrategy=x,this.futureState=D,this.currState=P,this.forwardEvent=j,this.inputBindingEnabled=se}activate(x){const D=this.futureState._root,P=this.currState?this.currState._root:null;this.deactivateChildRoutes(D,P,x),ji(this.futureState.root),this.activateChildRoutes(D,P,x)}deactivateChildRoutes(x,D,P){const j=Si(D);x.children.forEach(se=>{const _e=se.value.outlet;this.deactivateRoutes(se,j[_e],P),delete j[_e]}),Object.values(j).forEach(se=>{this.deactivateRouteAndItsChildren(se,P)})}deactivateRoutes(x,D,P){const j=x.value,se=D?D.value:null;if(j===se)if(j.component){const _e=P.getContext(j.outlet);_e&&this.deactivateChildRoutes(x,D,_e.children)}else this.deactivateChildRoutes(x,D,P);else se&&this.deactivateRouteAndItsChildren(D,P)}deactivateRouteAndItsChildren(x,D){x.value.component&&this.routeReuseStrategy.shouldDetach(x.value.snapshot)?this.detachAndStoreRouteSubtree(x,D):this.deactivateRouteAndOutlet(x,D)}detachAndStoreRouteSubtree(x,D){const P=D.getContext(x.value.outlet),j=P&&x.value.component?P.children:D,se=Si(x);for(const _e of Object.keys(se))this.deactivateRouteAndItsChildren(se[_e],j);if(P&&P.outlet){const _e=P.outlet.detach(),We=P.children.onOutletDeactivated();this.routeReuseStrategy.store(x.value.snapshot,{componentRef:_e,route:x,contexts:We})}}deactivateRouteAndOutlet(x,D){const P=D.getContext(x.value.outlet),j=P&&x.value.component?P.children:D,se=Si(x);for(const _e of Object.keys(se))this.deactivateRouteAndItsChildren(se[_e],j);P&&(P.outlet&&(P.outlet.deactivate(),P.children.onOutletDeactivated()),P.attachRef=null,P.route=null)}activateChildRoutes(x,D,P){const j=Si(D);x.children.forEach(se=>{this.activateRoutes(se,j[se.value.outlet],P),this.forwardEvent(new ao(se.value.snapshot))}),x.children.length&&this.forwardEvent(new Zo(x.value.snapshot))}activateRoutes(x,D,P){const j=x.value,se=D?D.value:null;if(ji(j),j===se)if(j.component){const _e=P.getOrCreateContext(j.outlet);this.activateChildRoutes(x,D,_e.children)}else this.activateChildRoutes(x,D,P);else if(j.component){const _e=P.getOrCreateContext(j.outlet);if(this.routeReuseStrategy.shouldAttach(j.snapshot)){const We=this.routeReuseStrategy.retrieve(j.snapshot);this.routeReuseStrategy.store(j.snapshot,null),_e.children.onOutletReAttached(We.contexts),_e.attachRef=We.componentRef,_e.route=We.route.value,_e.outlet&&_e.outlet.attach(We.componentRef,We.route.value),ji(We.route.value),this.activateChildRoutes(x,null,_e.children)}else{const We=Jr(j.snapshot);_e.attachRef=null,_e.route=j,_e.injector=We,_e.outlet&&_e.outlet.activateWith(j,_e.injector),this.activateChildRoutes(x,null,_e.children)}}else this.activateChildRoutes(x,null,P)}}class po{constructor(x){this.path=x,this.route=this.path[this.path.length-1]}}class Ai{constructor(x,D){this.component=x,this.route=D}}function Wi(C,x,D){const P=C._root;return ca(P,x?x._root:null,D,[P.value])}function Qo(C,x){const D=Symbol(),P=x.get(C,D);return P===D?"function"!=typeof C||(0,w.Z0I)(C)?x.get(C):C:P}function ca(C,x,D,P,j={canDeactivateChecks:[],canActivateChecks:[]}){const se=Si(x);return C.children.forEach(_e=>{(function pc(C,x,D,P,j={canDeactivateChecks:[],canActivateChecks:[]}){const se=C.value,_e=x?x.value:null,We=D?D.getContext(C.value.outlet):null;if(_e&&se.routeConfig===_e.routeConfig){const Ue=function $r(C,x,D){if("function"==typeof D)return D(C,x);switch(D){case"pathParamsChange":return!tt(C.url,x.url);case"pathParamsOrQueryParamsChange":return!tt(C.url,x.url)||!on(C.queryParams,x.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Mr(C,x)||!on(C.queryParams,x.queryParams);default:return!Mr(C,x)}}(_e,se,se.routeConfig.runGuardsAndResolvers);Ue?j.canActivateChecks.push(new po(P)):(se.data=_e.data,se._resolvedData=_e._resolvedData),ca(C,x,se.component?We?We.children:null:D,P,j),Ue&&We&&We.outlet&&We.outlet.isActivated&&j.canDeactivateChecks.push(new Ai(We.outlet.component,_e))}else _e&&xo(x,We,j),j.canActivateChecks.push(new po(P)),ca(C,null,se.component?We?We.children:null:D,P,j)})(_e,se[_e.value.outlet],D,P.concat([_e.value]),j),delete se[_e.value.outlet]}),Object.entries(se).forEach(([_e,We])=>xo(We,D.getContext(_e),j)),j}function xo(C,x,D){const P=Si(C),j=C.value;Object.entries(P).forEach(([se,_e])=>{xo(_e,j.component?x?x.children.getContext(se):null:x,D)}),D.canDeactivateChecks.push(new Ai(j.component&&x&&x.outlet&&x.outlet.isActivated?x.outlet.component:null,j))}function al(C){return"function"==typeof C}function Ys(C){return C instanceof kt.K||"EmptyError"===C?.name}const Zi=Symbol("INITIAL_VALUE");function zi(){return(0,En.w)(C=>it(C.map(x=>x.pipe((0,Ln.q)(1),(0,Xn.O)(Zi)))).pipe((0,fn.U)(x=>{for(const D of x)if(!0!==D){if(D===Zi)return Zi;if(!1===D||D instanceof Nn)return D}return!0}),(0,fr.h)(x=>x!==Zi),(0,Ln.q)(1)))}function Ii(C){return(0,ot.z)((0,Rt.b)(x=>{if(Zr(x))throw bi(0,x)}),(0,fn.U)(x=>!0===x))}class Ti{constructor(x){this.segmentGroup=x||null}}class _s{constructor(x){this.urlTree=x}}function ni(C){return vt(new Ti(C))}function da(C){return vt(new _s(C))}class ha{constructor(x,D){this.urlSerializer=x,this.urlTree=D}noMatchError(x){return new w.vHH(4002,!1)}lineralizeSegments(x,D){let P=[],j=D.root;for(;;){if(P=P.concat(j.segments),0===j.numberOfChildren)return(0,fe.of)(P);if(j.numberOfChildren>1||!j.children[Re])return vt(new w.vHH(4e3,!1));j=j.children[Re]}}applyRedirectCommands(x,D,P){return this.applyRedirectCreateUrlTree(D,this.urlSerializer.parse(D),x,P)}applyRedirectCreateUrlTree(x,D,P,j){const se=this.createSegmentGroup(x,D.root,P,j);return new Nn(se,this.createQueryParams(D.queryParams,this.urlTree.queryParams),D.fragment)}createQueryParams(x,D){const P={};return Object.entries(x).forEach(([j,se])=>{if("string"==typeof se&&se.startsWith(":")){const We=se.substring(1);P[j]=D[We]}else P[j]=se}),P}createSegmentGroup(x,D,P,j){const se=this.createSegments(x,D.segments,P,j);let _e={};return Object.entries(D.children).forEach(([We,Ue])=>{_e[We]=this.createSegmentGroup(x,Ue,P,j)}),new Yn(se,_e)}createSegments(x,D,P,j){return D.map(se=>se.path.startsWith(":")?this.findPosParam(x,se,j):this.findOrReturn(se,P))}findPosParam(x,D,P){const j=P[D.path.substring(1)];if(!j)throw new w.vHH(4001,!1);return j}findOrReturn(x,D){let P=0;for(const j of D){if(j.path===x.path)return D.splice(P),j;P++}return x}}const yc={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Qs(C,x,D,P,j){const se=Lc(C,x,D);return se.matched?(P=function gs(C,x){return C.providers&&!C._injector&&(C._injector=(0,w.MMx)(C.providers,x,`Route: ${C.path}`)),C._injector??x}(x,P),function Xr(C,x,D,P){const j=x.canMatch;if(!j||0===j.length)return(0,fe.of)(!0);const se=j.map(_e=>{const We=Qo(_e,C);return Kn(function Kt(C){return C&&al(C.canMatch)}(We)?We.canMatch(x,D):C.runInContext(()=>We(x,D)))});return(0,fe.of)(se).pipe(zi(),Ii())}(P,x,D).pipe((0,fn.U)(_e=>!0===_e?se:{...yc}))):(0,fe.of)(se)}function Lc(C,x,D){if(""===x.path)return"full"===x.pathMatch&&(C.hasChildren()||D.length>0)?{...yc}:{matched:!0,consumedSegments:[],remainingSegments:D,parameters:{},positionalParamSegments:{}};const j=(x.matcher||yr)(D,C,x);if(!j)return{...yc};const se={};Object.entries(j.posParams??{}).forEach(([We,Ue])=>{se[We]=Ue.path});const _e=j.consumed.length>0?{...se,...j.consumed[j.consumed.length-1].parameters}:se;return{matched:!0,consumedSegments:j.consumed,remainingSegments:D.slice(j.consumed.length),parameters:_e,positionalParamSegments:j.posParams??{}}}function Po(C,x,D,P){return D.length>0&&function Bc(C,x,D){return D.some(P=>Vc(C,x,P)&&Sr(P)!==Re)}(C,D,P)?{segmentGroup:new Yn(x,Jo(P,new Yn(D,C.children))),slicedSegments:[]}:0===D.length&&function bc(C,x,D){return D.some(P=>Vc(C,x,P))}(C,D,P)?{segmentGroup:new Yn(C.segments,vc(C,0,D,P,C.children)),slicedSegments:D}:{segmentGroup:new Yn(C.segments,C.children),slicedSegments:D}}function vc(C,x,D,P,j){const se={};for(const _e of P)if(Vc(C,D,_e)&&!j[Sr(_e)]){const We=new Yn([],{});se[Sr(_e)]=We}return{...j,...se}}function Jo(C,x){const D={};D[Re]=x;for(const P of C)if(""===P.path&&Sr(P)!==Re){const j=new Yn([],{});D[Sr(P)]=j}return D}function Vc(C,x,D){return(!(C.hasChildren()||x.length>0)||"full"!==D.pathMatch)&&""===D.path}class $u{constructor(x,D,P,j,se,_e,We){this.injector=x,this.configLoader=D,this.rootComponentType=P,this.config=j,this.urlTree=se,this.paramsInheritanceStrategy=_e,this.urlSerializer=We,this.allowRedirects=!0,this.applyRedirects=new ha(this.urlSerializer,this.urlTree)}noMatchError(x){return new w.vHH(4002,!1)}recognize(){const x=Po(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,x,Re).pipe(Ht(D=>{if(D instanceof _s)return this.allowRedirects=!1,this.urlTree=D.urlTree,this.match(D.urlTree);throw D instanceof Ti?this.noMatchError(D):D}),(0,fn.U)(D=>{const P=new Or([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Re,this.rootComponentType,null,{}),j=new sr(P,D),se=new Li("",j),_e=function qo(C,x,D=null,P=null){return hs(ds(C),x,D,P)}(P,[],this.urlTree.queryParams,this.urlTree.fragment);return _e.queryParams=this.urlTree.queryParams,se.url=this.urlSerializer.serialize(_e),this.inheritParamsAndData(se._root),{state:se,tree:_e}}))}match(x){return this.processSegmentGroup(this.injector,this.config,x.root,Re).pipe(Ht(P=>{throw P instanceof Ti?this.noMatchError(P):P}))}inheritParamsAndData(x){const D=x.value,P=Ft(D,this.paramsInheritanceStrategy);D.params=Object.freeze(P.params),D.data=Object.freeze(P.data),x.children.forEach(j=>this.inheritParamsAndData(j))}processSegmentGroup(x,D,P,j){return 0===P.segments.length&&P.hasChildren()?this.processChildren(x,D,P):this.processSegment(x,D,P,P.segments,j,!0)}processChildren(x,D,P){const j=[];for(const se of Object.keys(P.children))"primary"===se?j.unshift(se):j.push(se);return(0,de.D)(j).pipe(bt(se=>{const _e=P.children[se],We=function Mo(C,x){const D=C.filter(P=>Sr(P)===x);return D.push(...C.filter(P=>Sr(P)!==x)),D}(D,se);return this.processSegmentGroup(x,We,_e,se)}),function vn(C,x){return(0,be.e)(function pn(C,x,D,P,j){return(se,_e)=>{let We=D,Ue=x,zt=0;se.subscribe((0,et.x)(_e,Rn=>{const xr=zt++;Ue=We?C(Ue,Rn,xr):(We=!0,Rn),P&&_e.next(Ue)},j&&(()=>{We&&_e.next(Ue),_e.complete()})))}}(C,x,arguments.length>=2,!0))}((se,_e)=>(se.push(..._e),se)),je(null),function Dt(C,x){const D=arguments.length>=2;return P=>P.pipe(C?(0,fr.h)((j,se)=>C(j,se,P)):Ee.y,un(1),D?je(x):Qe(()=>new kt.K))}(),(0,ke.z)(se=>{if(null===se)return ni(P);const _e=fi(se);return function Xl(C){C.sort((x,D)=>x.value.outlet===Re?-1:D.value.outlet===Re?1:x.value.outlet.localeCompare(D.value.outlet))}(_e),(0,fe.of)(_e)}))}processSegment(x,D,P,j,se,_e){return(0,de.D)(D).pipe(bt(We=>this.processSegmentAgainstRoute(We._injector??x,D,We,P,j,se,_e).pipe(Ht(Ue=>{if(Ue instanceof Ti)return(0,fe.of)(null);throw Ue}))),nt(We=>!!We),Ht(We=>{if(Ys(We))return function Nl(C,x,D){return 0===x.length&&!C.children[D]}(P,j,se)?(0,fe.of)([]):ni(P);throw We}))}processSegmentAgainstRoute(x,D,P,j,se,_e,We){return function Ql(C,x,D,P){return!!(Sr(C)===P||P!==Re&&Vc(x,D,C))&&("**"===C.path||Lc(x,C,D).matched)}(P,j,se,_e)?void 0===P.redirectTo?this.matchSegmentAgainstRoute(x,j,P,se,_e,We):We&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(x,j,D,P,se,_e):ni(j):ni(j)}expandSegmentAgainstRouteUsingRedirect(x,D,P,j,se,_e){return"**"===j.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(x,P,j,_e):this.expandRegularSegmentAgainstRouteUsingRedirect(x,D,P,j,se,_e)}expandWildCardWithParamsAgainstRouteUsingRedirect(x,D,P,j){const se=this.applyRedirects.applyRedirectCommands([],P.redirectTo,{});return P.redirectTo.startsWith("/")?da(se):this.applyRedirects.lineralizeSegments(P,se).pipe((0,ke.z)(_e=>{const We=new Yn(_e,{});return this.processSegment(x,D,We,_e,j,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(x,D,P,j,se,_e){const{matched:We,consumedSegments:Ue,remainingSegments:zt,positionalParamSegments:Rn}=Lc(D,j,se);if(!We)return ni(D);const xr=this.applyRedirects.applyRedirectCommands(Ue,j.redirectTo,Rn);return j.redirectTo.startsWith("/")?da(xr):this.applyRedirects.lineralizeSegments(j,xr).pipe((0,ke.z)(mr=>this.processSegment(x,P,D,mr.concat(zt),_e,!1)))}matchSegmentAgainstRoute(x,D,P,j,se,_e){let We;if("**"===P.path){const Ue=j.length>0?wn(j).parameters:{},zt=new Or(j,Ue,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,O(P),Sr(P),P.component??P._loadedComponent??null,P,ne(P));We=(0,fe.of)({snapshot:zt,consumedSegments:[],remainingSegments:[]}),D.children={}}else We=Qs(D,P,j,x).pipe((0,fn.U)(({matched:Ue,consumedSegments:zt,remainingSegments:Rn,parameters:xr})=>Ue?{snapshot:new Or(zt,xr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,O(P),Sr(P),P.component??P._loadedComponent??null,P,ne(P)),consumedSegments:zt,remainingSegments:Rn}:null));return We.pipe((0,En.w)(Ue=>null===Ue?ni(D):this.getChildConfig(x=P._injector??x,P,j).pipe((0,En.w)(({routes:zt})=>{const Rn=P._loadedInjector??x,{snapshot:xr,consumedSegments:mr,remainingSegments:Tc}=Ue,{segmentGroup:zr,slicedSegments:ea}=Po(D,mr,Tc,zt);if(0===ea.length&&zr.hasChildren())return this.processChildren(Rn,zt,zr).pipe((0,fn.U)(Fo=>null===Fo?null:[new sr(xr,Fo)]));if(0===zt.length&&0===ea.length)return(0,fe.of)([new sr(xr,[])]);const Rr=Sr(P)===se;return this.processSegment(Rn,zt,zr,ea,Rr?Re:se,!0).pipe((0,fn.U)(Fo=>[new sr(xr,Fo)]))}))))}getChildConfig(x,D,P){return D.children?(0,fe.of)({routes:D.children,injector:x}):D.loadChildren?void 0!==D._loadedRoutes?(0,fe.of)({routes:D._loadedRoutes,injector:D._loadedInjector}):function Ni(C,x,D,P){const j=x.canLoad;if(void 0===j||0===j.length)return(0,fe.of)(!0);const se=j.map(_e=>{const We=Qo(_e,C);return Kn(function ee(C){return C&&al(C.canLoad)}(We)?We.canLoad(x,D):C.runInContext(()=>We(x,D)))});return(0,fe.of)(se).pipe(zi(),Ii())}(x,D,P).pipe((0,ke.z)(j=>j?this.configLoader.loadChildren(x,D).pipe((0,Rt.b)(se=>{D._loadedRoutes=se.routes,D._loadedInjector=se.injector})):function cl(C){return vt(Oo(!1,3))}())):(0,fe.of)({routes:[],injector:x})}}function Uc(C){const x=C.value.routeConfig;return x&&""===x.path}function fi(C){const x=[],D=new Set;for(const P of C){if(!Uc(P)){x.push(P);continue}const j=x.find(se=>P.value.routeConfig===se.value.routeConfig);void 0!==j?(j.children.push(...P.children),D.add(j)):x.push(P)}for(const P of D){const j=fi(P.children);x.push(new sr(P.value,j))}return x.filter(P=>!D.has(P))}function O(C){return C.data||{}}function ne(C){return C.resolve||{}}function ur(C){return"string"==typeof C.title||null===C.title}function Lr(C){return(0,En.w)(x=>{const D=C(x);return D?(0,de.D)(D).pipe((0,fn.U)(()=>x)):(0,fe.of)(x)})}const or=new w.OlP("ROUTES");let $n=(()=>{class C{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,w.f3M)(w.Sil)}loadComponent(D){if(this.componentLoaders.get(D))return this.componentLoaders.get(D);if(D._loadedComponent)return(0,fe.of)(D._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(D);const P=Kn(D.loadComponent()).pipe((0,fn.U)(Hr),(0,Rt.b)(se=>{this.onLoadEndListener&&this.onLoadEndListener(D),D._loadedComponent=se}),pr(()=>{this.componentLoaders.delete(D)})),j=new gt(P,()=>new Mn.x).pipe(Ye());return this.componentLoaders.set(D,j),j}loadChildren(D,P){if(this.childrenLoaders.get(P))return this.childrenLoaders.get(P);if(P._loadedRoutes)return(0,fe.of)({routes:P._loadedRoutes,injector:P._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(P);const se=function Br(C,x,D,P){return Kn(C.loadChildren()).pipe((0,fn.U)(Hr),(0,ke.z)(j=>j instanceof w.YKP||Array.isArray(j)?(0,fe.of)(j):(0,de.D)(x.compileModuleAsync(j))),(0,fn.U)(j=>{P&&P(C);let se,_e,We=!1;return Array.isArray(j)?(_e=j,!0):(se=j.create(D).injector,_e=se.get(or,[],{optional:!0,self:!0}).flat()),{routes:_e.map(fo),injector:se}}))}(P,this.compiler,D,this.onLoadEndListener).pipe(pr(()=>{this.childrenLoaders.delete(P)})),_e=new gt(se,()=>new Mn.x).pipe(Ye());return this.childrenLoaders.set(P,_e),_e}static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275prov=w.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();function Hr(C){return function ei(C){return C&&"object"==typeof C&&"default"in C}(C)?C.default:C}let is=(()=>{class C{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Mn.x,this.transitionAbortSubject=new Mn.x,this.configLoader=(0,w.f3M)($n),this.environmentInjector=(0,w.f3M)(w.lqb),this.urlSerializer=(0,w.f3M)(Ke),this.rootContexts=(0,w.f3M)(Kr),this.inputBindingEnabled=null!==(0,w.f3M)(On,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,fe.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=j=>this.events.next(new Ao(j)),this.configLoader.onLoadStartListener=j=>this.events.next(new dc(j))}complete(){this.transitions?.complete()}handleNavigationRequest(D){const P=++this.navigationId;this.transitions?.next({...this.transitions.value,...D,id:P})}setupNavigations(D,P,j){return this.transitions=new Oe.X({id:0,currentUrlTree:P,currentRawUrl:P,currentBrowserUrl:P,extractedUrl:D.urlHandlingStrategy.extract(P),urlAfterRedirects:D.urlHandlingStrategy.extract(P),rawUrl:P,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ks,restoredState:null,currentSnapshot:j.snapshot,targetSnapshot:null,currentRouterState:j,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,fr.h)(se=>0!==se.id),(0,fn.U)(se=>({...se,extractedUrl:D.urlHandlingStrategy.extract(se.rawUrl)})),(0,En.w)(se=>{this.currentTransition=se;let _e=!1,We=!1;return(0,fe.of)(se).pipe((0,Rt.b)(Ue=>{this.currentNavigation={id:Ue.id,initialUrl:Ue.rawUrl,extractedUrl:Ue.extractedUrl,trigger:Ue.source,extras:Ue.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,En.w)(Ue=>{const zt=Ue.currentBrowserUrl.toString(),Rn=!D.navigated||Ue.extractedUrl.toString()!==zt||zt!==Ue.currentUrlTree.toString();if(!Rn&&"reload"!==(Ue.extras.onSameUrlNavigation??D.onSameUrlNavigation)){const mr="";return this.events.next(new qs(Ue.id,this.urlSerializer.serialize(Ue.rawUrl),mr,0)),Ue.resolve(null),_t.E}if(D.urlHandlingStrategy.shouldProcessUrl(Ue.rawUrl))return(0,fe.of)(Ue).pipe((0,En.w)(mr=>{const Tc=this.transitions?.getValue();return this.events.next(new yi(mr.id,this.urlSerializer.serialize(mr.extractedUrl),mr.source,mr.restoredState)),Tc!==this.transitions?.getValue()?_t.E:Promise.resolve(mr)}),function U(C,x,D,P,j,se){return(0,ke.z)(_e=>function Jl(C,x,D,P,j,se,_e="emptyOnly"){return new $u(C,x,D,P,j,_e,se).recognize()}(C,x,D,P,_e.extractedUrl,j,se).pipe((0,fn.U)(({state:We,tree:Ue})=>({..._e,targetSnapshot:We,urlAfterRedirects:Ue}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,D.config,this.urlSerializer,D.paramsInheritanceStrategy),(0,Rt.b)(mr=>{se.targetSnapshot=mr.targetSnapshot,se.urlAfterRedirects=mr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:mr.urlAfterRedirects};const Tc=new Gi(mr.id,this.urlSerializer.serialize(mr.extractedUrl),this.urlSerializer.serialize(mr.urlAfterRedirects),mr.targetSnapshot);this.events.next(Tc)}));if(Rn&&D.urlHandlingStrategy.shouldProcessUrl(Ue.currentRawUrl)){const{id:mr,extractedUrl:Tc,source:zr,restoredState:ea,extras:Rr}=Ue,Fo=new yi(mr,this.urlSerializer.serialize(Tc),zr,ea);this.events.next(Fo);const Ud=Pa(0,this.rootComponentType).snapshot;return this.currentTransition=se={...Ue,targetSnapshot:Ud,urlAfterRedirects:Tc,extras:{...Rr,skipLocationChange:!1,replaceUrl:!1}},(0,fe.of)(se)}{const mr="";return this.events.next(new qs(Ue.id,this.urlSerializer.serialize(Ue.extractedUrl),mr,1)),Ue.resolve(null),_t.E}}),(0,Rt.b)(Ue=>{const zt=new ki(Ue.id,this.urlSerializer.serialize(Ue.extractedUrl),this.urlSerializer.serialize(Ue.urlAfterRedirects),Ue.targetSnapshot);this.events.next(zt)}),(0,fn.U)(Ue=>(this.currentTransition=se={...Ue,guards:Wi(Ue.targetSnapshot,Ue.currentSnapshot,this.rootContexts)},se)),function gc(C,x){return(0,ke.z)(D=>{const{targetSnapshot:P,currentSnapshot:j,guards:{canActivateChecks:se,canDeactivateChecks:_e}}=D;return 0===_e.length&&0===se.length?(0,fe.of)({...D,guardsResult:!0}):function la(C,x,D,P){return(0,de.D)(C).pipe((0,ke.z)(j=>function _c(C,x,D,P,j){const se=x&&x.routeConfig?x.routeConfig.canDeactivate:null;if(!se||0===se.length)return(0,fe.of)(!0);const _e=se.map(We=>{const Ue=Jr(x)??j,zt=Qo(We,Ue);return Kn(function Ie(C){return C&&al(C.canDeactivate)}(zt)?zt.canDeactivate(C,x,D,P):Ue.runInContext(()=>zt(C,x,D,P))).pipe(nt())});return(0,fe.of)(_e).pipe(zi())}(j.component,j.route,D,x,P)),nt(j=>!0!==j,!0))}(_e,P,j,C).pipe((0,ke.z)(We=>We&&function q(C){return"boolean"==typeof C}(We)?function ua(C,x,D,P){return(0,de.D)(x).pipe(bt(j=>(0,An.z)(function ka(C,x){return null!==C&&x&&x(new Ra(C)),(0,fe.of)(!0)}(j.route.parent,P),function mc(C,x){return null!==C&&x&&x(new Fc(C)),(0,fe.of)(!0)}(j.route,P),function go(C,x,D){const P=x[x.length-1],se=x.slice(0,x.length-1).reverse().map(_e=>function fc(C){const x=C.routeConfig?C.routeConfig.canActivateChild:null;return x&&0!==x.length?{node:C,guards:x}:null}(_e)).filter(_e=>null!==_e).map(_e=>mt(()=>{const We=_e.guards.map(Ue=>{const zt=Jr(_e.node)??D,Rn=Qo(Ue,zt);return Kn(function oe(C){return C&&al(C.canActivateChild)}(Rn)?Rn.canActivateChild(P,C):zt.runInContext(()=>Rn(P,C))).pipe(nt())});return(0,fe.of)(We).pipe(zi())}));return(0,fe.of)(se).pipe(zi())}(C,j.path,D),function Ki(C,x,D){const P=x.routeConfig?x.routeConfig.canActivate:null;if(!P||0===P.length)return(0,fe.of)(!0);const j=P.map(se=>mt(()=>{const _e=Jr(x)??D,We=Qo(se,_e);return Kn(function B(C){return C&&al(C.canActivate)}(We)?We.canActivate(x,C):_e.runInContext(()=>We(x,C))).pipe(nt())}));return(0,fe.of)(j).pipe(zi())}(C,j.route,D))),nt(j=>!0!==j,!0))}(P,se,C,x):(0,fe.of)(We)),(0,fn.U)(We=>({...D,guardsResult:We})))})}(this.environmentInjector,Ue=>this.events.next(Ue)),(0,Rt.b)(Ue=>{if(se.guardsResult=Ue.guardsResult,Zr(Ue.guardsResult))throw bi(0,Ue.guardsResult);const zt=new Fi(Ue.id,this.urlSerializer.serialize(Ue.extractedUrl),this.urlSerializer.serialize(Ue.urlAfterRedirects),Ue.targetSnapshot,!!Ue.guardsResult);this.events.next(zt)}),(0,fr.h)(Ue=>!!Ue.guardsResult||(this.cancelNavigationTransition(Ue,"",3),!1)),Lr(Ue=>{if(Ue.guards.canActivateChecks.length)return(0,fe.of)(Ue).pipe((0,Rt.b)(zt=>{const Rn=new sl(zt.id,this.urlSerializer.serialize(zt.extractedUrl),this.urlSerializer.serialize(zt.urlAfterRedirects),zt.targetSnapshot);this.events.next(Rn)}),(0,En.w)(zt=>{let Rn=!1;return(0,fe.of)(zt).pipe(function X(C,x){return(0,ke.z)(D=>{const{targetSnapshot:P,guards:{canActivateChecks:j}}=D;if(!j.length)return(0,fe.of)(D);let se=0;return(0,de.D)(j).pipe(bt(_e=>function ye(C,x,D,P){const j=C.routeConfig,se=C._resolve;return void 0!==j?.title&&!ur(j)&&(se[at]=j.title),function qe(C,x,D,P){const j=function ft(C){return[...Object.keys(C),...Object.getOwnPropertySymbols(C)]}(C);if(0===j.length)return(0,fe.of)({});const se={};return(0,de.D)(j).pipe((0,ke.z)(_e=>function gn(C,x,D,P){const j=Jr(x)??P,se=Qo(C,j);return Kn(se.resolve?se.resolve(x,D):j.runInContext(()=>se(x,D)))}(C[_e],x,D,P).pipe(nt(),(0,Rt.b)(We=>{se[_e]=We}))),un(1),(0,jn.h)(se),Ht(_e=>Ys(_e)?_t.E:vt(_e)))}(se,C,x,P).pipe((0,fn.U)(_e=>(C._resolvedData=_e,C.data=Ft(C,D).resolve,j&&ur(j)&&(C.data[at]=j.title),null)))}(_e.route,P,C,x)),(0,Rt.b)(()=>se++),un(1),(0,ke.z)(_e=>se===j.length?(0,fe.of)(D):_t.E))})}(D.paramsInheritanceStrategy,this.environmentInjector),(0,Rt.b)({next:()=>Rn=!0,complete:()=>{Rn||this.cancelNavigationTransition(zt,"",2)}}))}),(0,Rt.b)(zt=>{const Rn=new xa(zt.id,this.urlSerializer.serialize(zt.extractedUrl),this.urlSerializer.serialize(zt.urlAfterRedirects),zt.targetSnapshot);this.events.next(Rn)}))}),Lr(Ue=>{const zt=Rn=>{const xr=[];Rn.routeConfig?.loadComponent&&!Rn.routeConfig._loadedComponent&&xr.push(this.configLoader.loadComponent(Rn.routeConfig).pipe((0,Rt.b)(mr=>{Rn.component=mr}),(0,fn.U)(()=>{})));for(const mr of Rn.children)xr.push(...zt(mr));return xr};return it(zt(Ue.targetSnapshot.root)).pipe(je(),(0,Ln.q)(1))}),Lr(()=>this.afterPreactivation()),(0,fn.U)(Ue=>{const zt=function hc(C,x,D){const P=Es(C,x._root,D?D._root:void 0);return new Fr(P,x)}(D.routeReuseStrategy,Ue.targetSnapshot,Ue.currentRouterState);return this.currentTransition=se={...Ue,targetRouterState:zt},se}),(0,Rt.b)(()=>{this.events.next(new Fs)}),((C,x,D,P)=>(0,fn.U)(j=>(new rs(x,j.targetRouterState,j.currentRouterState,D,P).activate(C),j)))(this.rootContexts,D.routeReuseStrategy,Ue=>this.events.next(Ue),this.inputBindingEnabled),(0,Ln.q)(1),(0,Rt.b)({next:Ue=>{_e=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Pi(Ue.id,this.urlSerializer.serialize(Ue.extractedUrl),this.urlSerializer.serialize(Ue.urlAfterRedirects))),D.titleStrategy?.updateTitle(Ue.targetRouterState.snapshot),Ue.resolve(!0)},complete:()=>{_e=!0}}),(0,kr.R)(this.transitionAbortSubject.pipe((0,Rt.b)(Ue=>{throw Ue}))),pr(()=>{_e||We||this.cancelNavigationTransition(se,"",1),this.currentNavigation?.id===se.id&&(this.currentNavigation=null)}),Ht(Ue=>{if(We=!0,uo(Ue))this.events.next(new Ts(se.id,this.urlSerializer.serialize(se.extractedUrl),Ue.message,Ue.cancellationCode)),function ol(C){return uo(C)&&Zr(C.url)}(Ue)?this.events.next(new co(Ue.url)):se.resolve(!1);else{this.events.next(new uc(se.id,this.urlSerializer.serialize(se.extractedUrl),Ue,se.targetSnapshot??void 0));try{se.resolve(D.errorHandler(Ue))}catch(zt){se.reject(zt)}}return _t.E}))}))}cancelNavigationTransition(D,P,j){const se=new Ts(D.id,this.urlSerializer.serialize(D.extractedUrl),P,j);this.events.next(se),D.resolve(!1)}static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275prov=w.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();function ss(C){return C!==ks}let os=(()=>{class C{buildTitle(D){let P,j=D.root;for(;void 0!==j;)P=this.getResolvedTitleForRoute(j)??P,j=j.children.find(se=>se.outlet===Re);return P}getResolvedTitleForRoute(D){return D.data[at]}static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275prov=w.Yz7({token:C,factory:function(){return(0,w.f3M)(Yi)},providedIn:"root"})}return C})(),Yi=(()=>{class C extends os{constructor(D){super(),this.title=D}updateTitle(D){const P=this.buildTitle(D);void 0!==P&&this.title.setTitle(P)}static#e=this.\u0275fac=function(P){return new(P||C)(w.LFG(xe.Dx))};static#t=this.\u0275prov=w.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})(),Xo=(()=>{class C{static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275prov=w.Yz7({token:C,factory:function(){return(0,w.f3M)(wc)},providedIn:"root"})}return C})();class fa{shouldDetach(x){return!1}store(x,D){}shouldAttach(x){return!1}retrieve(x){return null}shouldReuseRoute(x,D){return x.routeConfig===D.routeConfig}}let wc=(()=>{class C extends fa{static#e=this.\u0275fac=function(){let D;return function(j){return(D||(D=w.n5z(C)))(j||C)}}();static#t=this.\u0275prov=w.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();const pa=new w.OlP("",{providedIn:"root",factory:()=>({})});let zu=(()=>{class C{static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275prov=w.Yz7({token:C,factory:function(){return(0,w.f3M)(Ls)},providedIn:"root"})}return C})(),Ls=(()=>{class C{shouldProcessUrl(D){return!0}extract(D){return D}merge(D,P){return D}static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275prov=w.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();var za=function(C){return C[C.COMPLETE=0]="COMPLETE",C[C.FAILED=1]="FAILED",C[C.REDIRECTING=2]="REDIRECTING",C}(za||{});function Hc(C,x){C.events.pipe((0,fr.h)(D=>D instanceof Pi||D instanceof Ts||D instanceof uc||D instanceof qs),(0,fn.U)(D=>D instanceof Pi||D instanceof qs?za.COMPLETE:D instanceof Ts&&(0===D.code||1===D.code)?za.REDIRECTING:za.FAILED),(0,fr.h)(D=>D!==za.REDIRECTING),(0,Ln.q)(1)).subscribe(()=>{x()})}function wi(C){throw C}function Ol(C,x,D){return x.parse("/")}const Fa={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Bs={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Js=(()=>{class C{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,w.f3M)(w.c2e),this.isNgZoneEnabled=!1,this._events=new Mn.x,this.options=(0,w.f3M)(pa,{optional:!0})||{},this.pendingTasks=(0,w.f3M)(w.HDt),this.errorHandler=this.options.errorHandler||wi,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Ol,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,w.f3M)(zu),this.routeReuseStrategy=(0,w.f3M)(Xo),this.titleStrategy=(0,w.f3M)(os),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,w.f3M)(or,{optional:!0})?.flat()??[],this.navigationTransitions=(0,w.f3M)(is),this.urlSerializer=(0,w.f3M)(Ke),this.location=(0,w.f3M)(ht.Ye),this.componentInputBindingEnabled=!!(0,w.f3M)(On,{optional:!0}),this.eventsSubscription=new Ge.w0,this.isNgZoneEnabled=(0,w.f3M)(w.R0b)instanceof w.R0b&&w.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Nn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Pa(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(D=>{this.lastSuccessfulId=D.id,this.currentPageId=this.browserPageId},D=>{this.console.warn(`Unhandled Navigation Error: ${D}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const D=this.navigationTransitions.events.subscribe(P=>{try{const{currentTransition:j}=this.navigationTransitions;if(null===j)return void(Wa(P)&&this._events.next(P));if(P instanceof yi)ss(j.source)&&(this.browserUrlTree=j.extractedUrl);else if(P instanceof qs)this.rawUrlTree=j.rawUrl;else if(P instanceof Gi){if("eager"===this.urlUpdateStrategy){if(!j.extras.skipLocationChange){const se=this.urlHandlingStrategy.merge(j.urlAfterRedirects,j.rawUrl);this.setBrowserUrl(se,j)}this.browserUrlTree=j.urlAfterRedirects}}else if(P instanceof Fs)this.currentUrlTree=j.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(j.urlAfterRedirects,j.rawUrl),this.routerState=j.targetRouterState,"deferred"===this.urlUpdateStrategy&&(j.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,j),this.browserUrlTree=j.urlAfterRedirects);else if(P instanceof Ts)0!==P.code&&1!==P.code&&(this.navigated=!0),(3===P.code||2===P.code)&&this.restoreHistory(j);else if(P instanceof co){const se=this.urlHandlingStrategy.merge(P.url,j.currentRawUrl),_e={skipLocationChange:j.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ss(j.source)};this.scheduleNavigation(se,ks,null,_e,{resolve:j.resolve,reject:j.reject,promise:j.promise})}P instanceof uc&&this.restoreHistory(j,!0),P instanceof Pi&&(this.navigated=!0),Wa(P)&&this._events.next(P)}catch(j){this.navigationTransitions.transitionAbortSubject.next(j)}});this.eventsSubscription.add(D)}resetRootComponentType(D){this.routerState.root.component=D,this.navigationTransitions.rootComponentType=D}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const D=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ks,D)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(D=>{const P="popstate"===D.type?"popstate":"hashchange";"popstate"===P&&setTimeout(()=>{this.navigateToSyncWithBrowser(D.url,P,D.state)},0)}))}navigateToSyncWithBrowser(D,P,j){const se={replaceUrl:!0},_e=j?.navigationId?j:null;if(j){const Ue={...j};delete Ue.navigationId,delete Ue.\u0275routerPageId,0!==Object.keys(Ue).length&&(se.state=Ue)}const We=this.parseUrl(D);this.scheduleNavigation(We,P,_e,se)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(D){this.config=D.map(fo),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(D,P={}){const{relativeTo:j,queryParams:se,fragment:_e,queryParamsHandling:We,preserveFragment:Ue}=P,zt=Ue?this.currentUrlTree.fragment:_e;let xr,Rn=null;switch(We){case"merge":Rn={...this.currentUrlTree.queryParams,...se};break;case"preserve":Rn=this.currentUrlTree.queryParams;break;default:Rn=se||null}null!==Rn&&(Rn=this.removeEmptyProps(Rn));try{xr=ds(j?j.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof D[0]||!D[0].startsWith("/"))&&(D=[]),xr=this.currentUrlTree.root}return hs(xr,D,Rn,zt??null)}navigateByUrl(D,P={skipLocationChange:!1}){const j=Zr(D)?D:this.parseUrl(D),se=this.urlHandlingStrategy.merge(j,this.rawUrlTree);return this.scheduleNavigation(se,ks,null,P)}navigate(D,P={skipLocationChange:!1}){return function Bd(C){for(let x=0;x<C.length;x++)if(null==C[x])throw new w.vHH(4008,!1)}(D),this.navigateByUrl(this.createUrlTree(D,P),P)}serializeUrl(D){return this.urlSerializer.serialize(D)}parseUrl(D){let P;try{P=this.urlSerializer.parse(D)}catch(j){P=this.malformedUriErrorHandler(j,this.urlSerializer,D)}return P}isActive(D,P){let j;if(j=!0===P?{...Fa}:!1===P?{...Bs}:P,Zr(D))return vr(this.currentUrlTree,D,j);const se=this.parseUrl(D);return vr(this.currentUrlTree,se,j)}removeEmptyProps(D){return Object.keys(D).reduce((P,j)=>{const se=D[j];return null!=se&&(P[j]=se),P},{})}scheduleNavigation(D,P,j,se,_e){if(this.disposed)return Promise.resolve(!1);let We,Ue,zt;_e?(We=_e.resolve,Ue=_e.reject,zt=_e.promise):zt=new Promise((xr,mr)=>{We=xr,Ue=mr});const Rn=this.pendingTasks.add();return Hc(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Rn))}),this.navigationTransitions.handleNavigationRequest({source:P,restoredState:j,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:D,extras:se,resolve:We,reject:Ue,promise:zt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),zt.catch(xr=>Promise.reject(xr))}setBrowserUrl(D,P){const j=this.urlSerializer.serialize(D);if(this.location.isCurrentPathEqualTo(j)||P.extras.replaceUrl){const _e={...P.extras.state,...this.generateNgRouterState(P.id,this.browserPageId)};this.location.replaceState(j,"",_e)}else{const se={...P.extras.state,...this.generateNgRouterState(P.id,this.browserPageId+1)};this.location.go(j,"",se)}}restoreHistory(D,P=!1){if("computed"===this.canceledNavigationResolution){const se=this.currentPageId-this.browserPageId;0!==se?this.location.historyGo(se):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===se&&(this.resetState(D),this.browserUrlTree=D.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(P&&this.resetState(D),this.resetUrlToCurrentUrlTree())}resetState(D){this.routerState=D.currentRouterState,this.currentUrlTree=D.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,D.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(D,P){return"computed"===this.canceledNavigationResolution?{navigationId:D,\u0275routerPageId:P}:{navigationId:D}}static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275prov=w.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();function Wa(C){return!(C instanceof Fs||C instanceof co)}let Oi=(()=>{class C{constructor(D,P,j,se,_e,We){this.router=D,this.route=P,this.tabIndexAttribute=j,this.renderer=se,this.el=_e,this.locationStrategy=We,this.href=null,this.commands=null,this.onChanges=new Mn.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Ue=_e.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Ue||"area"===Ue,this.isAnchorElement?this.subscription=D.events.subscribe(zt=>{zt instanceof Pi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(D){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",D)}ngOnChanges(D){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(D){null!=D?(this.commands=Array.isArray(D)?D:[D],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(D,P,j,se,_e){return!!(null===this.urlTree||this.isAnchorElement&&(0!==D||P||j||se||_e||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const D=null===this.href?null:(0,w.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",D)}applyAttributeValue(D,P){const j=this.renderer,se=this.el.nativeElement;null!==P?j.setAttribute(se,D,P):j.removeAttribute(se,D)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(P){return new(P||C)(w.Y36(Js),w.Y36(lr),w.$8M("tabindex"),w.Y36(w.Qsj),w.Y36(w.SBq),w.Y36(ht.S$))};static#t=this.\u0275dir=w.lG2({type:C,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(P,j){1&P&&w.NdJ("click",function(_e){return j.onClick(_e.button,_e.ctrlKey,_e.shiftKey,_e.altKey,_e.metaKey)}),2&P&&w.uIk("target",j.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",w.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",w.VuI],replaceUrl:["replaceUrl","replaceUrl",w.VuI],routerLink:"routerLink"},standalone:!0,features:[w.Xq5,w.TTD]})}return C})();class Ah{}let Nh=(()=>{class C{constructor(D,P,j,se,_e){this.router=D,this.injector=j,this.preloadingStrategy=se,this.loader=_e}setUpPreloading(){this.subscription=this.router.events.pipe((0,fr.h)(D=>D instanceof Pi),bt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(D,P){const j=[];for(const se of P){se.providers&&!se._injector&&(se._injector=(0,w.MMx)(se.providers,D,`Route: ${se.path}`));const _e=se._injector??D,We=se._loadedInjector??_e;(se.loadChildren&&!se._loadedRoutes&&void 0===se.canLoad||se.loadComponent&&!se._loadedComponent)&&j.push(this.preloadConfig(_e,se)),(se.children||se._loadedRoutes)&&j.push(this.processRoutes(We,se.children??se._loadedRoutes))}return(0,de.D)(j).pipe((0,De.J)())}preloadConfig(D,P){return this.preloadingStrategy.preload(P,()=>{let j;j=P.loadChildren&&void 0===P.canLoad?this.loader.loadChildren(D,P):(0,fe.of)(null);const se=j.pipe((0,ke.z)(_e=>null===_e?(0,fe.of)(void 0):(P._loadedRoutes=_e.routes,P._loadedInjector=_e.injector,this.processRoutes(_e.injector??D,_e.routes))));if(P.loadComponent&&!P._loadedComponent){const _e=this.loader.loadComponent(P);return(0,de.D)([se,_e]).pipe((0,De.J)())}return se})}static#e=this.\u0275fac=function(P){return new(P||C)(w.LFG(Js),w.LFG(w.Sil),w.LFG(w.lqb),w.LFG(Ah),w.LFG($n))};static#t=this.\u0275prov=w.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();const ri=new w.OlP("");let ll=(()=>{class C{constructor(D,P,j,se,_e={}){this.urlSerializer=D,this.transitions=P,this.viewportScroller=j,this.zone=se,this.options=_e,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},_e.scrollPositionRestoration=_e.scrollPositionRestoration||"disabled",_e.anchorScrolling=_e.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(D=>{D instanceof yi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=D.navigationTrigger,this.restoredId=D.restoredState?D.restoredState.navigationId:0):D instanceof Pi?(this.lastId=D.id,this.scheduleScrollEvent(D,this.urlSerializer.parse(D.urlAfterRedirects).fragment)):D instanceof qs&&0===D.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(D,this.urlSerializer.parse(D.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(D=>{D instanceof Ko&&(D.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(D.position):D.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(D.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(D,P){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ko(D,"popstate"===this.lastSource?this.store[this.restoredId]:null,P))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(P){w.$Z()};static#t=this.\u0275prov=w.Yz7({token:C,factory:C.\u0275fac})}return C})();function _n(C,x){return{\u0275kind:C,\u0275providers:x}}function Ml(){const C=(0,w.f3M)(w.zs3);return x=>{const D=C.get(w.z2F);if(x!==D.components[0])return;const P=C.get(Js),j=C.get(xl);1===C.get(ga)&&P.initialNavigation(),C.get(eu,null,w.XFs.Optional)?.setUpPreloading(),C.get(ri,null,w.XFs.Optional)?.init(),P.resetRootComponentType(D.componentTypes[0]),j.closed||(j.next(),j.complete(),j.unsubscribe())}}const xl=new w.OlP("",{factory:()=>new Mn.x}),ga=new w.OlP("",{providedIn:"root",factory:()=>1}),eu=new w.OlP("");function tu(C){return _n(0,[{provide:eu,useExisting:Nh},{provide:Ah,useExisting:C}])}const Yu=new w.OlP("ROUTER_FORROOT_GUARD"),ul=[ht.Ye,{provide:Ke,useClass:It},Js,Kr,{provide:lr,useFactory:function ys(C){return C.routerState.root},deps:[Js]},$n,[]];function mo(){return new w.PXZ("Router",Js)}let nu=(()=>{class C{constructor(D){}static forRoot(D,P){return{ngModule:C,providers:[ul,[],{provide:or,multi:!0,useValue:D},{provide:Yu,useFactory:Ka,deps:[[Js,new w.FiY,new w.tp0]]},{provide:pa,useValue:P||{}},P?.useHash?{provide:ht.S$,useClass:ht.Do}:{provide:ht.S$,useClass:ht.b0},{provide:ri,useFactory:()=>{const C=(0,w.f3M)(ht.EM),x=(0,w.f3M)(w.R0b),D=(0,w.f3M)(pa),P=(0,w.f3M)(is),j=(0,w.f3M)(Ke);return D.scrollOffset&&C.setOffset(D.scrollOffset),new ll(j,P,C,x,D)}},P?.preloadingStrategy?tu(P.preloadingStrategy).\u0275providers:[],{provide:w.PXZ,multi:!0,useFactory:mo},P?.initialNavigation?Vs(P):[],P?.bindToComponentInputs?_n(8,[No,{provide:On,useExisting:No}]).\u0275providers:[],[{provide:ko,useFactory:Ml},{provide:w.tb,multi:!0,useExisting:ko}]]}}static forChild(D){return{ngModule:C,providers:[{provide:or,multi:!0,useValue:D}]}}static#e=this.\u0275fac=function(P){return new(P||C)(w.LFG(Yu,8))};static#t=this.\u0275mod=w.oAB({type:C});static#n=this.\u0275inj=w.cJS({})}return C})();function Ka(C){return"guarded"}function Vs(C){return["disabled"===C.initialNavigation?_n(3,[{provide:w.ip1,multi:!0,useFactory:()=>{const x=(0,w.f3M)(Js);return()=>{x.setUpLocationChangeListener()}}},{provide:ga,useValue:2}]).\u0275providers:[],"enabledBlocking"===C.initialNavigation?_n(2,[{provide:ga,useValue:0},{provide:w.ip1,multi:!0,deps:[w.zs3],useFactory:x=>{const D=x.get(ht.V_,Promise.resolve());return()=>D.then(()=>new Promise(P=>{const j=x.get(Js),se=x.get(xl);Hc(j,()=>{P(!0)}),x.get(is).afterPreactivation=()=>(P(!0),se.closed?(0,fe.of)(void 0):se),j.initialNavigation()}))}}]).\u0275providers:[]]}const ko=new w.OlP("")},4303:(Gt,$e,Q)=>{Q.d($e,{Jn:()=>pr,KN:()=>yt,Mq:()=>De,Xd:()=>Rt,ZF:()=>kr,qX:()=>Ht});var w=Q(5861),ce=Q(4537),h=Q(7879),we=Q(9058),de=Q(1878);class fe{constructor(Ce){this.container=Ce}getPlatformInfoString(){return this.container.getProviders().map(Ke=>{if(function Oe(tt){const Ce=tt.getComponent();return"VERSION"===Ce?.type}(Ke)){const It=Ke.getImmediate();return`${It.library}/${It.version}`}return null}).filter(Ke=>Ke).join(" ")}}const He="@firebase/app",re=new h.Yd("@firebase/app"),ke="[DEFAULT]",je={[He]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Qe=new Map,Ve=new Map;function nt(tt,Ce){try{tt.container.addComponent(Ce)}catch(Ke){re.debug(`Component ${Ce.name} failed to register with FirebaseApp ${tt.name}`,Ke)}}function Rt(tt){const Ce=tt.name;if(Ve.has(Ce))return re.debug(`There were multiple attempts to register component ${Ce}.`),!1;Ve.set(Ce,tt);for(const Ke of Qe.values())nt(Ke,tt);return!0}function Ht(tt,Ce){const Ke=tt.container.getProvider("heartbeat").getImmediate({optional:!0});return Ke&&Ke.triggerHeartbeat(),tt.container.getProvider(Ce)}const Dt=new we.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class jn{constructor(Ce,Ke,It){this._isDeleted=!1,this._options=Object.assign({},Ce),this._config=Object.assign({},Ke),this._name=Ke.name,this._automaticDataCollectionEnabled=Ke.automaticDataCollectionEnabled,this._container=It,this.container.addComponent(new ce.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ce){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ce}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ce){this._isDeleted=Ce}checkDestroyed(){if(this.isDeleted)throw Dt.create("app-deleted",{appName:this._name})}}const pr="10.9.0";function kr(tt,Ce={}){let Ke=tt;"object"!=typeof Ce&&(Ce={name:Ce});const It=Object.assign({name:ke,automaticDataCollectionEnabled:!1},Ce),Qt=It.name;if("string"!=typeof Qt||!Qt)throw Dt.create("bad-app-name",{appName:String(Qt)});if(Ke||(Ke=(0,we.aH)()),!Ke)throw Dt.create("no-options");const Jt=Qe.get(Qt);if(Jt){if((0,we.vZ)(Ke,Jt.options)&&(0,we.vZ)(It,Jt.config))return Jt;throw Dt.create("duplicate-app",{appName:Qt})}const Gn=new ce.H0(Qt);for(const V of Ve.values())Gn.addComponent(V);const K=new jn(Ke,It,Gn);return Qe.set(Qt,K),K}function De(tt=ke){const Ce=Qe.get(tt);if(!Ce&&tt===ke&&(0,we.aH)())return kr();if(!Ce)throw Dt.create("no-app",{appName:tt});return Ce}function yt(tt,Ce,Ke){var It;let Qt=null!==(It=je[tt])&&void 0!==It?It:tt;Ke&&(Qt+=`-${Ke}`);const Jt=Qt.match(/\s|\//),Gn=Ce.match(/\s|\//);if(Jt||Gn){const K=[`Unable to register library "${Qt}" with version "${Ce}":`];return Jt&&K.push(`library name "${Qt}" contains illegal characters (whitespace or "/")`),Jt&&Gn&&K.push("and"),Gn&&K.push(`version name "${Ce}" contains illegal characters (whitespace or "/")`),void re.warn(K.join(" "))}Rt(new ce.wA(`${Qt}-version`,()=>({library:Qt,version:Ce}),"VERSION"))}const Dn="firebase-heartbeat-database",on=1,Yt="firebase-heartbeat-store";let wn=null;function Kn(){return wn||(wn=(0,de.X3)(Dn,on,{upgrade:(tt,Ce)=>{if(0===Ce)try{tt.createObjectStore(Yt)}catch(Ke){console.warn(Ke)}}}).catch(tt=>{throw Dt.create("idb-open",{originalErrorMessage:tt.message})})),wn}function Cr(){return(Cr=(0,w.Z)(function*(tt){try{const Ke=(yield Kn()).transaction(Yt),It=yield Ke.objectStore(Yt).get(rr(tt));return yield Ke.done,It}catch(Ce){if(Ce instanceof we.ZR)re.warn(Ce.message);else{const Ke=Dt.create("idb-get",{originalErrorMessage:Ce?.message});re.warn(Ke.message)}}})).apply(this,arguments)}function vr(tt,Ce){return mn.apply(this,arguments)}function mn(){return(mn=(0,w.Z)(function*(tt,Ce){try{const It=(yield Kn()).transaction(Yt,"readwrite");yield It.objectStore(Yt).put(Ce,rr(tt)),yield It.done}catch(Ke){if(Ke instanceof we.ZR)re.warn(Ke.message);else{const It=Dt.create("idb-set",{originalErrorMessage:Ke?.message});re.warn(It.message)}}})).apply(this,arguments)}function rr(tt){return`${tt.name}!${tt.options.appId}`}class Hn{constructor(Ce){this.container=Ce,this._heartbeatsCache=null;const Ke=this.container.getProvider("app").getImmediate();this._storage=new Yn(Ke),this._heartbeatsCachePromise=this._storage.read().then(It=>(this._heartbeatsCache=It,It))}triggerHeartbeat(){var Ce=this;return(0,w.Z)(function*(){var Ke,It;const Jt=Ce.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Gn=gi();if((null!=(null===(Ke=Ce._heartbeatsCache)||void 0===Ke?void 0:Ke.heartbeats)||(Ce._heartbeatsCache=yield Ce._heartbeatsCachePromise,null!=(null===(It=Ce._heartbeatsCache)||void 0===It?void 0:It.heartbeats)))&&Ce._heartbeatsCache.lastSentHeartbeatDate!==Gn&&!Ce._heartbeatsCache.heartbeats.some(K=>K.date===Gn))return Ce._heartbeatsCache.heartbeats.push({date:Gn,agent:Jt}),Ce._heartbeatsCache.heartbeats=Ce._heartbeatsCache.heartbeats.filter(K=>{const V=new Date(K.date).valueOf();return Date.now()-V<=2592e6}),Ce._storage.overwrite(Ce._heartbeatsCache)})()}getHeartbeatsHeader(){var Ce=this;return(0,w.Z)(function*(){var Ke;if(null===Ce._heartbeatsCache&&(yield Ce._heartbeatsCachePromise),null==(null===(Ke=Ce._heartbeatsCache)||void 0===Ke?void 0:Ke.heartbeats)||0===Ce._heartbeatsCache.heartbeats.length)return"";const It=gi(),{heartbeatsToSend:Qt,unsentEntries:Jt}=function Nn(tt,Ce=1024){const Ke=[];let It=tt.slice();for(const Qt of tt){const Jt=Ke.find(Gn=>Gn.agent===Qt.agent);if(Jt){if(Jt.dates.push(Qt.date),Nr(Ke)>Ce){Jt.dates.pop();break}}else if(Ke.push({agent:Qt.agent,dates:[Qt.date]}),Nr(Ke)>Ce){Ke.pop();break}It=It.slice(1)}return{heartbeatsToSend:Ke,unsentEntries:It}}(Ce._heartbeatsCache.heartbeats),Gn=(0,we.L)(JSON.stringify({version:2,heartbeats:Qt}));return Ce._heartbeatsCache.lastSentHeartbeatDate=It,Jt.length>0?(Ce._heartbeatsCache.heartbeats=Jt,yield Ce._storage.overwrite(Ce._heartbeatsCache)):(Ce._heartbeatsCache.heartbeats=[],Ce._storage.overwrite(Ce._heartbeatsCache)),Gn})()}}function gi(){return(new Date).toISOString().substring(0,10)}class Yn{constructor(Ce){this.app=Ce,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,w.Z)(function*(){return!!(0,we.hl)()&&(0,we.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ce=this;return(0,w.Z)(function*(){if(yield Ce._canUseIndexedDBPromise){const It=yield function tn(tt){return Cr.apply(this,arguments)}(Ce.app);return It?.heartbeats?It:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(Ce){var Ke=this;return(0,w.Z)(function*(){var It;if(yield Ke._canUseIndexedDBPromise){const Jt=yield Ke.read();return vr(Ke.app,{lastSentHeartbeatDate:null!==(It=Ce.lastSentHeartbeatDate)&&void 0!==It?It:Jt.lastSentHeartbeatDate,heartbeats:Ce.heartbeats})}})()}add(Ce){var Ke=this;return(0,w.Z)(function*(){var It;if(yield Ke._canUseIndexedDBPromise){const Jt=yield Ke.read();return vr(Ke.app,{lastSentHeartbeatDate:null!==(It=Ce.lastSentHeartbeatDate)&&void 0!==It?It:Jt.lastSentHeartbeatDate,heartbeats:[...Jt.heartbeats,...Ce.heartbeats]})}})()}}function Nr(tt){return(0,we.L)(JSON.stringify({version:2,heartbeats:tt})).length}!function mi(tt){Rt(new ce.wA("platform-logger",Ce=>new fe(Ce),"PRIVATE")),Rt(new ce.wA("heartbeat",Ce=>new Hn(Ce),"PRIVATE")),yt(He,"0.9.29",tt),yt(He,"0.9.29","esm2017"),yt("fire-js","")}("")},4537:(Gt,$e,Q)=>{Q.d($e,{H0:()=>He,wA:()=>h});var w=Q(5861),ce=Q(9058);class h{constructor(re,le,Se){this.name=re,this.instanceFactory=le,this.type=Se,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(re){return this.instantiationMode=re,this}setMultipleInstances(re){return this.multipleInstances=re,this}setServiceProps(re){return this.serviceProps=re,this}setInstanceCreatedCallback(re){return this.onInstanceCreated=re,this}}const we="[DEFAULT]";class de{constructor(re,le){this.name=re,this.container=le,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(re){const le=this.normalizeInstanceIdentifier(re);if(!this.instancesDeferred.has(le)){const Se=new ce.BH;if(this.instancesDeferred.set(le,Se),this.isInitialized(le)||this.shouldAutoInitialize())try{const et=this.getOrInitializeService({instanceIdentifier:le});et&&Se.resolve(et)}catch{}}return this.instancesDeferred.get(le).promise}getImmediate(re){var le;const Se=this.normalizeInstanceIdentifier(re?.identifier),et=null!==(le=re?.optional)&&void 0!==le&&le;if(!this.isInitialized(Se)&&!this.shouldAutoInitialize()){if(et)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Se})}catch(Pe){if(et)return null;throw Pe}}getComponent(){return this.component}setComponent(re){if(re.name!==this.name)throw Error(`Mismatching Component ${re.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=re,this.shouldAutoInitialize()){if(function Oe(Ee){return"EAGER"===Ee.instantiationMode}(re))try{this.getOrInitializeService({instanceIdentifier:we})}catch{}for(const[le,Se]of this.instancesDeferred.entries()){const et=this.normalizeInstanceIdentifier(le);try{const Pe=this.getOrInitializeService({instanceIdentifier:et});Se.resolve(Pe)}catch{}}}}clearInstance(re=we){this.instancesDeferred.delete(re),this.instancesOptions.delete(re),this.instances.delete(re)}delete(){var re=this;return(0,w.Z)(function*(){const le=Array.from(re.instances.values());yield Promise.all([...le.filter(Se=>"INTERNAL"in Se).map(Se=>Se.INTERNAL.delete()),...le.filter(Se=>"_delete"in Se).map(Se=>Se._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(re=we){return this.instances.has(re)}getOptions(re=we){return this.instancesOptions.get(re)||{}}initialize(re={}){const{options:le={}}=re,Se=this.normalizeInstanceIdentifier(re.instanceIdentifier);if(this.isInitialized(Se))throw Error(`${this.name}(${Se}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const et=this.getOrInitializeService({instanceIdentifier:Se,options:le});for(const[Pe,it]of this.instancesDeferred.entries())Se===this.normalizeInstanceIdentifier(Pe)&&it.resolve(et);return et}onInit(re,le){var Se;const et=this.normalizeInstanceIdentifier(le),Pe=null!==(Se=this.onInitCallbacks.get(et))&&void 0!==Se?Se:new Set;Pe.add(re),this.onInitCallbacks.set(et,Pe);const it=this.instances.get(et);return it&&re(it,et),()=>{Pe.delete(re)}}invokeOnInitCallbacks(re,le){const Se=this.onInitCallbacks.get(le);if(Se)for(const et of Se)try{et(re,le)}catch{}}getOrInitializeService({instanceIdentifier:re,options:le={}}){let Se=this.instances.get(re);if(!Se&&this.component&&(Se=this.component.instanceFactory(this.container,{instanceIdentifier:(Ee=re,Ee===we?void 0:Ee),options:le}),this.instances.set(re,Se),this.instancesOptions.set(re,le),this.invokeOnInitCallbacks(Se,re),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,re,Se)}catch{}var Ee;return Se||null}normalizeInstanceIdentifier(re=we){return this.component?this.component.multipleInstances?re:we:re}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class He{constructor(re){this.name=re,this.providers=new Map}addComponent(re){const le=this.getProvider(re.name);if(le.isComponentSet())throw new Error(`Component ${re.name} has already been registered with ${this.name}`);le.setComponent(re)}addOrOverwriteComponent(re){this.getProvider(re.name).isComponentSet()&&this.providers.delete(re.name),this.addComponent(re)}getProvider(re){if(this.providers.has(re))return this.providers.get(re);const le=new de(re,this);return this.providers.set(re,le),le}getProviders(){return Array.from(this.providers.values())}}},7879:(Gt,$e,Q)=>{Q.d($e,{Yd:()=>Oe,in:()=>ce});const w=[];var ce=function(re){return re[re.DEBUG=0]="DEBUG",re[re.VERBOSE=1]="VERBOSE",re[re.INFO=2]="INFO",re[re.WARN=3]="WARN",re[re.ERROR=4]="ERROR",re[re.SILENT=5]="SILENT",re}(ce||{});const h={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},we=ce.INFO,de={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},fe=(re,le,...Se)=>{if(le<re.logLevel)return;const et=(new Date).toISOString(),Pe=de[le];if(!Pe)throw new Error(`Attempted to log a message with an invalid logType (value: ${le})`);console[Pe](`[${et}]  ${re.name}:`,...Se)};class Oe{constructor(le){this.name=le,this._logLevel=we,this._logHandler=fe,this._userLogHandler=null,w.push(this)}get logLevel(){return this._logLevel}set logLevel(le){if(!(le in ce))throw new TypeError(`Invalid value "${le}" assigned to \`logLevel\``);this._logLevel=le}setLogLevel(le){this._logLevel="string"==typeof le?h[le]:le}get logHandler(){return this._logHandler}set logHandler(le){if("function"!=typeof le)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=le}get userLogHandler(){return this._userLogHandler}set userLogHandler(le){this._userLogHandler=le}debug(...le){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...le),this._logHandler(this,ce.DEBUG,...le)}log(...le){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...le),this._logHandler(this,ce.VERBOSE,...le)}info(...le){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...le),this._logHandler(this,ce.INFO,...le)}warn(...le){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...le),this._logHandler(this,ce.WARN,...le)}error(...le){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...le),this._logHandler(this,ce.ERROR,...le)}}},1878:(Gt,$e,Q)=>{Q.d($e,{X3:()=>xt});var w=Q(5861);const ce=(be,Ye)=>Ye.some(gt=>be instanceof gt);let h,we;const Oe=new WeakMap,He=new WeakMap,Ee=new WeakMap,re=new WeakMap,le=new WeakMap;let Pe={get(be,Ye,gt){if(be instanceof IDBTransaction){if("done"===Ye)return He.get(be);if("objectStoreNames"===Ye)return be.objectStoreNames||Ee.get(be);if("store"===Ye)return gt.objectStoreNames[1]?void 0:gt.objectStore(gt.objectStoreNames[0])}return kt(be[Ye])},set:(be,Ye,gt)=>(be[Ye]=gt,!0),has:(be,Ye)=>be instanceof IDBTransaction&&("done"===Ye||"store"===Ye)||Ye in be};function Bt(be){return"function"==typeof be?function At(be){return be!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function fe(){return we||(we=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(be)?function(...Ye){return be.apply(An(this),Ye),kt(Oe.get(this))}:function(...Ye){return kt(be.apply(An(this),Ye))}:function(Ye,...gt){const Mn=be.call(An(this),Ye,...gt);return Ee.set(Mn,Ye.sort?Ye.sort():[Ye]),kt(Mn)}}(be):(be instanceof IDBTransaction&&function et(be){if(He.has(be))return;const Ye=new Promise((gt,Mn)=>{const ht=()=>{be.removeEventListener("complete",fn),be.removeEventListener("error",En),be.removeEventListener("abort",En)},fn=()=>{gt(),ht()},En=()=>{Mn(be.error||new DOMException("AbortError","AbortError")),ht()};be.addEventListener("complete",fn),be.addEventListener("error",En),be.addEventListener("abort",En)});He.set(be,Ye)}(be),ce(be,function de(){return h||(h=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(be,Pe):be)}function kt(be){if(be instanceof IDBRequest)return function Se(be){const Ye=new Promise((gt,Mn)=>{const ht=()=>{be.removeEventListener("success",fn),be.removeEventListener("error",En)},fn=()=>{gt(kt(be.result)),ht()},En=()=>{Mn(be.error),ht()};be.addEventListener("success",fn),be.addEventListener("error",En)});return Ye.then(gt=>{gt instanceof IDBCursor&&Oe.set(gt,be)}).catch(()=>{}),le.set(Ye,be),Ye}(be);if(re.has(be))return re.get(be);const Ye=Bt(be);return Ye!==be&&(re.set(be,Ye),le.set(Ye,be)),Ye}const An=be=>le.get(be);function xt(be,Ye,{blocked:gt,upgrade:Mn,blocking:ht,terminated:fn}={}){const En=indexedDB.open(be,Ye),Ln=kt(En);return Mn&&En.addEventListener("upgradeneeded",Xn=>{Mn(kt(En.result),Xn.oldVersion,Xn.newVersion,kt(En.transaction),Xn)}),gt&&En.addEventListener("blocked",Xn=>gt(Xn.oldVersion,Xn.newVersion,Xn)),Ln.then(Xn=>{fn&&Xn.addEventListener("close",()=>fn()),ht&&Xn.addEventListener("versionchange",fr=>ht(fr.oldVersion,fr.newVersion,fr))}).catch(()=>{}),Ln}const ot=["get","getKey","getAll","getAllKeys","count"],vt=["put","add","delete","clear"],_t=new Map;function Ge(be,Ye){if(!(be instanceof IDBDatabase)||Ye in be||"string"!=typeof Ye)return;if(_t.get(Ye))return _t.get(Ye);const gt=Ye.replace(/FromIndex$/,""),Mn=Ye!==gt,ht=vt.includes(gt);if(!(gt in(Mn?IDBIndex:IDBObjectStore).prototype)||!ht&&!ot.includes(gt))return;const fn=function(){var En=(0,w.Z)(function*(Ln,...Xn){const fr=this.transaction(Ln,ht?"readwrite":"readonly");let ke=fr.store;return Mn&&(ke=ke.index(Xn.shift())),(yield Promise.all([ke[gt](...Xn),ht&&fr.done]))[0]});return function(Xn){return En.apply(this,arguments)}}();return _t.set(Ye,fn),fn}!function it(be){Pe=be(Pe)}(be=>({...be,get:(Ye,gt,Mn)=>Ge(Ye,gt)||be.get(Ye,gt,Mn),has:(Ye,gt)=>!!Ge(Ye,gt)||be.has(Ye,gt)}))},5861:(Gt,$e,Q)=>{function w(h,we,de,fe,Oe,He,Ee){try{var re=h[He](Ee),le=re.value}catch(Se){return void de(Se)}re.done?we(le):Promise.resolve(le).then(fe,Oe)}function ce(h){return function(){var we=this,de=arguments;return new Promise(function(fe,Oe){var He=h.apply(we,de);function Ee(le){w(He,fe,Oe,Ee,re,"next",le)}function re(le){w(He,fe,Oe,Ee,re,"throw",le)}Ee(void 0)})}}Q.d($e,{Z:()=>ce})},7582:(Gt,$e,Q)=>{function we(ke,je){var Qe={};for(var Ve in ke)Object.prototype.hasOwnProperty.call(ke,Ve)&&je.indexOf(Ve)<0&&(Qe[Ve]=ke[Ve]);if(null!=ke&&"function"==typeof Object.getOwnPropertySymbols){var nt=0;for(Ve=Object.getOwnPropertySymbols(ke);nt<Ve.length;nt++)je.indexOf(Ve[nt])<0&&Object.prototype.propertyIsEnumerable.call(ke,Ve[nt])&&(Qe[Ve[nt]]=ke[Ve[nt]])}return Qe}function Se(ke,je,Qe,Ve){return new(Qe||(Qe=Promise))(function(bt,Rt){function Ht(un){try{vn(Ve.next(un))}catch(Dt){Rt(Dt)}}function pn(un){try{vn(Ve.throw(un))}catch(Dt){Rt(Dt)}}function vn(un){un.done?bt(un.value):function nt(bt){return bt instanceof Qe?bt:new Qe(function(Rt){Rt(bt)})}(un.value).then(Ht,pn)}vn((Ve=Ve.apply(ke,je||[])).next())})}function mt(ke){return this instanceof mt?(this.v=ke,this):new mt(ke)}function ot(ke,je,Qe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var nt,Ve=Qe.apply(ke,je||[]),bt=[];return nt={},Rt("next"),Rt("throw"),Rt("return"),nt[Symbol.asyncIterator]=function(){return this},nt;function Rt(jn){Ve[jn]&&(nt[jn]=function(pr){return new Promise(function(kr,De){bt.push([jn,pr,kr,De])>1||Ht(jn,pr)})})}function Ht(jn,pr){try{!function pn(jn){jn.value instanceof mt?Promise.resolve(jn.value.v).then(vn,un):Dt(bt[0][2],jn)}(Ve[jn](pr))}catch(kr){Dt(bt[0][3],kr)}}function vn(jn){Ht("next",jn)}function un(jn){Ht("throw",jn)}function Dt(jn,pr){jn(pr),bt.shift(),bt.length&&Ht(bt[0][0],bt[0][1])}}function _t(ke){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Qe,je=ke[Symbol.asyncIterator];return je?je.call(ke):(ke=function At(ke){var je="function"==typeof Symbol&&Symbol.iterator,Qe=je&&ke[je],Ve=0;if(Qe)return Qe.call(ke);if(ke&&"number"==typeof ke.length)return{next:function(){return ke&&Ve>=ke.length&&(ke=void 0),{value:ke&&ke[Ve++],done:!ke}}};throw new TypeError(je?"Object is not iterable.":"Symbol.iterator is not defined.")}(ke),Qe={},Ve("next"),Ve("throw"),Ve("return"),Qe[Symbol.asyncIterator]=function(){return this},Qe);function Ve(bt){Qe[bt]=ke[bt]&&function(Rt){return new Promise(function(Ht,pn){!function nt(bt,Rt,Ht,pn){Promise.resolve(pn).then(function(vn){bt({value:vn,done:Ht})},Rt)}(Ht,pn,(Rt=ke[bt](Rt)).done,Rt.value)})}}}Q.d($e,{FC:()=>ot,KL:()=>_t,_T:()=>we,mG:()=>Se,qq:()=>mt}),"function"==typeof SuppressedError&&SuppressedError}},Gt=>{var $e=w=>Gt(Gt.s=w);$e(2614),$e(3521)}]);