"use strict";(self.webpackChunkThe_Natural_Way=self.webpackChunkThe_Natural_Way||[]).push([[179],{66:()=>{function we(t){return"function"==typeof t}function so(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const ua=so(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function oo(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Pt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(we(r))try{r()}catch(s){e=s instanceof ua?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{la(s)}catch(o){e=e??[],o instanceof ua?e=[...e,...o.errors]:e.push(o)}}if(e)throw new ua(e)}}add(e){var n;if(e&&e!==this)if(this.closed)la(e);else{if(e instanceof Pt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&oo(n,e)}remove(e){const{_finalizers:n}=this;n&&oo(n,e),e instanceof Pt&&e._removeParent(this)}}Pt.EMPTY=(()=>{const t=new Pt;return t.closed=!0,t})();const ld=Pt.EMPTY;function ng(t){return t instanceof Pt||t&&"closed"in t&&we(t.remove)&&we(t.add)&&we(t.unsubscribe)}function la(t){we(t)?t():t.unsubscribe()}const ao={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Uc={setTimeout(t,e,...n){const{delegate:r}=Uc;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Uc;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function W0(t){Uc.setTimeout(()=>{const{onUnhandledError:e}=ao;if(!e)throw t;e(t)})}function da(){}const q0=dd("C",void 0,void 0);function dd(t,e,n){return{kind:t,value:e,error:n}}let ys=null;function ji(t){if(ao.useDeprecatedSynchronousErrorHandling){const e=!ys;if(e&&(ys={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=ys;if(ys=null,n)throw r}}else t()}class jc extends Pt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ng(e)&&e.add(this)):this.destination=fd}static create(e,n,r){return new vs(e,n,r)}next(e){this.isStopped?hd(function Y0(t){return dd("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?hd(function K0(t){return dd("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?hd(q0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const rg=Function.prototype.bind;function $c(t,e){return rg.call(t,e)}class ig{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Mr(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Mr(r)}else Mr(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Mr(n)}}}class vs extends jc{constructor(e,n,r){let i;if(super(),we(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&ao.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&$c(e.next,s),error:e.error&&$c(e.error,s),complete:e.complete&&$c(e.complete,s)}):i=e}this.destination=new ig(i)}}function Mr(t){ao.useDeprecatedSynchronousErrorHandling?function Q0(t){ao.useDeprecatedSynchronousErrorHandling&&ys&&(ys.errorThrown=!0,ys.error=t)}(t):W0(t)}function hd(t,e){const{onStoppedNotification:n}=ao;n&&Uc.setTimeout(()=>n(t,e))}const fd={closed:!0,next:da,error:function sg(t){throw t},complete:da},pd="function"==typeof Symbol&&Symbol.observable||"@@observable";function fi(t){return t}function ag(t){return 0===t.length?fi:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Ve=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function Z0(t){return t&&t instanceof jc||function J0(t){return t&&we(t.next)&&we(t.error)&&we(t.complete)}(t)&&ng(t)}(n)?n:new vs(n,r,i);return ji(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=cg(r))((i,s)=>{const o=new vs({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[pd](){return this}pipe(...n){return ag(n)(this)}toPromise(n){return new(n=cg(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function cg(t){var e;return null!==(e=t??ao.Promise)&&void 0!==e?e:Promise}const X0=so(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Be=(()=>{class t extends Ve{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new ug(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new X0}next(n){ji(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){ji(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ji(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?ld:(this.currentObservers=null,s.push(n),new Pt(()=>{this.currentObservers=null,oo(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Ve;return n.source=this,n}}return t.create=(e,n)=>new ug(e,n),t})();class ug extends Be{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:ld}}function gd(t){return we(t?.lift)}function It(t){return e=>{if(gd(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function it(t,e,n,r,i){return new eb(t,e,n,r,i)}class eb extends jc{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Oe(t,e){return It((n,r)=>{let i=0;n.subscribe(it(r,s=>{r.next(t.call(e,s,i++))}))})}function Gc(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function fr(t){return this instanceof fr?(this.v=t,this):new fr(t)}function pr(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Ft(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){!function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}(a,c,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const ob=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function Tk(t){return we(t?.then)}function Ek(t){return we(t[pd])}function Dk(t){return Symbol.asyncIterator&&we(t?.[Symbol.asyncIterator])}function Ck(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Sk=function q9(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Ak(t){return we(t?.[Sk])}function xk(t){return function ha(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(g,m){s.push([h,f,g,m])>1||a(h,f)})})}function a(h,f){try{!function c(h){h.value instanceof fr?Promise.resolve(h.value.v).then(u,l):d(s[0][2],h)}(r[h](f))}catch(g){d(s[0][3],g)}}function u(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield fr(n.read());if(i)return yield fr(void 0);yield yield fr(r)}}finally{n.releaseLock()}})}function Nk(t){return we(t?.getReader)}function tn(t){if(t instanceof Ve)return t;if(null!=t){if(Ek(t))return function K9(t){return new Ve(e=>{const n=t[pd]();if(we(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(ob(t))return function Y9(t){return new Ve(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(Tk(t))return function Q9(t){return new Ve(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,W0)})}(t);if(Dk(t))return Ok(t);if(Ak(t))return function J9(t){return new Ve(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(Nk(t))return function Z9(t){return Ok(xk(t))}(t)}throw Ck(t)}function Ok(t){return new Ve(e=>{(function X9(t,e){var n,r,i,s;return function A(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=pr(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function bs(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function nn(t,e,n=1/0){return we(e)?nn((r,i)=>Oe((s,o)=>e(r,s,i,o))(tn(t(r,i))),n):("number"==typeof e&&(n=e),It((r,i)=>function eK(t,e,n,r,i,s,o,a){const c=[];let u=0,l=0,d=!1;const h=()=>{d&&!c.length&&!u&&e.complete()},f=m=>u<r?g(m):c.push(m),g=m=>{s&&e.next(m),u++;let _=!1;tn(n(m,l++)).subscribe(it(e,w=>{i?.(w),s?f(w):e.next(w)},()=>{_=!0},void 0,()=>{if(_)try{for(u--;c.length&&u<r;){const w=c.shift();o?bs(e,o,()=>g(w)):g(w)}h()}catch(w){e.error(w)}}))};return t.subscribe(it(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function Wc(t=1/0){return nn(fi,t)}const Xr=new Ve(t=>t.complete());function Mk(t){return t&&we(t.schedule)}function ab(t){return t[t.length-1]}function fg(t){return we(ab(t))?t.pop():void 0}function _d(t){return Mk(ab(t))?t.pop():void 0}function pg(t,e=0){return It((n,r)=>{n.subscribe(it(r,i=>bs(r,t,()=>r.next(i),e),()=>bs(r,t,()=>r.complete(),e),i=>bs(r,t,()=>r.error(i),e)))})}function gg(t,e=0){return It((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Rk(t,e){if(!t)throw new Error("Iterable cannot be null");return new Ve(n=>{bs(n,e,()=>{const r=t[Symbol.asyncIterator]();bs(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function fn(t,e){return e?function cK(t,e){if(null!=t){if(Ek(t))return function rK(t,e){return tn(t).pipe(gg(e),pg(e))}(t,e);if(ob(t))return function sK(t,e){return new Ve(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(Tk(t))return function iK(t,e){return tn(t).pipe(gg(e),pg(e))}(t,e);if(Dk(t))return Rk(t,e);if(Ak(t))return function oK(t,e){return new Ve(n=>{let r;return bs(n,e,()=>{r=t[Sk](),bs(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>we(r?.return)&&r.return()})}(t,e);if(Nk(t))return function aK(t,e){return Rk(xk(t),e)}(t,e)}throw Ck(t)}(t,e):tn(t)}class Rr extends Be{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function ae(...t){return fn(t,_d(t))}function cb(t={}){const{connector:e=(()=>new Be),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,c,u=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=c=void 0,l=d=!1},g=()=>{const m=o;f(),m?.unsubscribe()};return It((m,_)=>{u++,!d&&!l&&h();const w=c=c??e();_.add(()=>{u--,0===u&&!d&&!l&&(a=ub(g,i))}),w.subscribe(_),!o&&u>0&&(o=new vs({next:y=>w.next(y),error:y=>{d=!0,h(),a=ub(f,n,y),w.error(y)},complete:()=>{l=!0,h(),a=ub(f,r),w.complete()}}),tn(m).subscribe(o))})(s)}}function ub(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new vs({next:()=>{r.unsubscribe(),t()}});return tn(e(...n)).subscribe(r)}function pi(t,e){return It((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(it(r,c=>{i?.unsubscribe();let u=0;const l=s++;tn(t(c,l)).subscribe(i=it(r,d=>r.next(e?e(c,d,l,u++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function uK(t,e){return t===e}function Qe(t){for(let e in t)if(t[e]===Qe)return e;throw Error("Could not find renamed property on target object.")}function mg(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function rn(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(rn).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function lb(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const lK=Qe({__forward_ref__:Qe});function Ee(t){return t.__forward_ref__=Ee,t.toString=function(){return rn(this())},t}function le(t){return db(t)?t():t}function db(t){return"function"==typeof t&&t.hasOwnProperty(lK)&&t.__forward_ref__===Ee}function hb(t){return t&&!!t.\u0275providers}const Fk="https://g.co/ng/security#xss";class L extends Error{constructor(e,n){super(function _g(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function he(t){return"string"==typeof t?t:null==t?"":String(t)}function fb(t,e){throw new L(-201,!1)}function ei(t,e){null==t&&function ce(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function G(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ie(t){return{providers:t.providers||[],imports:t.imports||[]}}function yg(t){return Lk(t,bg)||Lk(t,Vk)}function Lk(t,e){return t.hasOwnProperty(e)?t[e]:null}function vg(t){return t&&(t.hasOwnProperty(pb)||t.hasOwnProperty(yK))?t[pb]:null}const bg=Qe({\u0275prov:Qe}),pb=Qe({\u0275inj:Qe}),Vk=Qe({ngInjectableDef:Qe}),yK=Qe({ngInjectorDef:Qe});var Ce=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Ce||{});let gb;function gr(t){const e=gb;return gb=t,e}function Uk(t,e,n){const r=yg(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Ce.Optional?null:void 0!==e?e:void fb(rn(t))}const st=globalThis;class te{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=G({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const yd={},bb="__NG_DI_FLAG__",wg="ngTempTokenPath",wK=/\n/gm,$k="__source";let qc;function uo(t){const e=qc;return qc=t,e}function EK(t,e=Ce.Default){if(void 0===qc)throw new L(-203,!1);return null===qc?Uk(t,void 0,e):qc.get(t,e&Ce.Optional?null:void 0,e)}function q(t,e=Ce.Default){return(function Bk(){return gb}()||EK)(le(t),e)}function z(t,e=Ce.Default){return q(t,Ig(e))}function Ig(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function wb(t){const e=[];for(let n=0;n<t.length;n++){const r=le(t[n]);if(Array.isArray(r)){if(0===r.length)throw new L(900,!1);let i,s=Ce.Default;for(let o=0;o<r.length;o++){const a=r[o],c=DK(a);"number"==typeof c?-1===c?i=a.token:s|=c:i=a}e.push(q(i,s))}else e.push(q(r))}return e}function vd(t,e){return t[bb]=e,t.prototype[bb]=e,t}function DK(t){return t[bb]}function ws(t){return{toString:t}.toString()}var Tg=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Tg||{}),gi=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(gi||{});const $i={},Ue=[],Eg=Qe({\u0275cmp:Qe}),Ib=Qe({\u0275dir:Qe}),Tb=Qe({\u0275pipe:Qe}),Gk=Qe({\u0275mod:Qe}),Is=Qe({\u0275fac:Qe}),bd=Qe({__NG_ELEMENT_ID__:Qe}),zk=Qe({__NG_ENV_ID__:Qe});function Wk(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Eb(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];Kk(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function qk(t){return 3===t||4===t||6===t}function Kk(t){return 64===t.charCodeAt(0)}function wd(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Yk(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Yk(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const Qk="ng-template";function AK(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==Wk(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function Jk(t){return 4===t.type&&t.value!==Qk}function xK(t,e,n){return e===(4!==t.type||n?t.value:Qk)}function NK(t,e,n){let r=4;const i=t.attrs||[],s=function RK(t){for(let e=0;e<t.length;e++)if(qk(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!xK(t,c,n)||""===c&&1===e.length){if(mi(r))return!1;o=!0}}else{const u=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!AK(t.attrs,u,n)){if(mi(r))return!1;o=!0}continue}const d=OK(8&r?"class":c,i,Jk(t),n);if(-1===d){if(mi(r))return!1;o=!0;continue}if(""!==u){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==Wk(f,u,0)||2&r&&u!==h){if(mi(r))return!1;o=!0}}}}else{if(!o&&!mi(r)&&!mi(c))return!1;if(o&&mi(c))continue;o=!1,r=c|1&r}}return mi(r)||o}function mi(t){return 0==(1&t)}function OK(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function kK(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Zk(t,e,n=!1){for(let r=0;r<e.length;r++)if(NK(t,e[r],n))return!0;return!1}function PK(t,e){e:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function Xk(t,e){return t?":not("+e.trim()+")":e}function FK(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!mi(o)&&(e+=Xk(s,i),i=""),r=o,s=s||!mi(r);n++}return""!==i&&(e+=Xk(s,i)),e}function _t(t){return ws(()=>{const e=tP(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Tg.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||gi.Emulated,styles:t.styles||Ue,_:null,schemas:t.schemas||null,tView:null,id:""};nP(n);const r=t.dependencies;return n.directiveDefs=Dg(r,!1),n.pipeDefs=Dg(r,!0),n.id=function GK(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function UK(t){return Me(t)||Cn(t)}function jK(t){return null!==t}function De(t){return ws(()=>({type:t.type,bootstrap:t.bootstrap||Ue,declarations:t.declarations||Ue,imports:t.imports||Ue,exports:t.exports||Ue,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function eP(t,e){if(null==t)return $i;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function j(t){return ws(()=>{const e=tP(t);return nP(e),e})}function Jn(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Me(t){return t[Eg]||null}function Cn(t){return t[Ib]||null}function Zn(t){return t[Tb]||null}function Pr(t,e){const n=t[Gk]||null;if(!n&&!0===e)throw new Error(`Type ${rn(t)} does not have '\u0275mod' property.`);return n}function tP(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||$i,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Ue,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:eP(t.inputs,e),outputs:eP(t.outputs)}}function nP(t){t.features?.forEach(e=>e(t))}function Dg(t,e){if(!t)return null;const n=e?Zn:UK;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(jK)}const At=0,ee=1,ye=2,yt=3,_i=4,Id=5,$n=6,Yc=7,Lt=8,lo=9,Qc=10,fe=11,Td=12,rP=13,Jc=14,Vt=15,Ed=16,Zc=17,Hi=18,Dd=19,iP=20,ho=21,Ts=22,Cd=23,Sd=24,Se=25,Db=1,sP=2,Gi=7,Xc=9,Sn=11;function mr(t){return Array.isArray(t)&&"object"==typeof t[Db]}function Xn(t){return Array.isArray(t)&&!0===t[Db]}function Cb(t){return 0!=(4&t.flags)}function ga(t){return t.componentOffset>-1}function Sg(t){return 1==(1&t.flags)}function yi(t){return!!t.template}function Sb(t){return 0!=(512&t[ye])}function ma(t,e){return t.hasOwnProperty(Is)?t[Is]:null}let An=null,Ag=!1;function ti(t){const e=An;return An=t,e}const cP={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function lP(t){if(!xd(t)||t.dirty){if(!t.producerMustRecompute(t)&&!fP(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function hP(t){t.dirty=!0,function dP(t){if(void 0===t.liveConsumerNode)return;const e=Ag;Ag=!0;try{for(const n of t.liveConsumerNode)n.dirty||hP(n)}finally{Ag=e}}(t),t.consumerMarkedDirty?.(t)}function xb(t){return t&&(t.nextProducerIndex=0),ti(t)}function Nb(t,e){if(ti(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(xd(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)xg(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function fP(t){eu(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(lP(n),r!==n.version))return!0}return!1}function pP(t){if(eu(t),xd(t))for(let e=0;e<t.producerNode.length;e++)xg(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function xg(t,e){if(function mP(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),eu(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)xg(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];eu(i),i.producerIndexOfThis[r]=e}}function xd(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function eu(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let _P=null;const wP=()=>{},rY=(()=>({...cP,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:wP}))();class iY{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function xn(){return IP}function IP(t){return t.type.prototype.ngOnChanges&&(t.setInput=oY),sY}function sY(){const t=EP(this),e=t?.current;if(e){const n=t.previous;if(n===$i)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function oY(t,e,n,r){const i=this.declaredInputs[n],s=EP(t)||function aY(t,e){return t[TP]=e}(t,{previous:$i,current:null}),o=s.current||(s.current={}),a=s.previous,c=a[i];o[i]=new iY(c&&c.currentValue,e,a===$i),t[r]=e}xn.ngInherit=!0;const TP="__ngSimpleChanges__";function EP(t){return t[TP]||null}const zi=function(t,e,n){};function ot(t){for(;Array.isArray(t);)t=t[At];return t}function Ng(t,e){return ot(e[t])}function _r(t,e){return ot(e[t.index])}function SP(t,e){return t.data[e]}function tu(t,e){return t[e]}function Fr(t,e){const n=e[t];return mr(n)?n:n[At]}function po(t,e){return null==e?null:t[e]}function AP(t){t[Zc]=0}function fY(t){1024&t[ye]||(t[ye]|=1024,NP(t,1))}function xP(t){1024&t[ye]&&(t[ye]&=-1025,NP(t,-1))}function NP(t,e){let n=t[yt];if(null===n)return;n[Id]+=e;let r=n;for(n=n[yt];null!==n&&(1===e&&1===r[Id]||-1===e&&0===r[Id]);)n[Id]+=e,r=n,n=n[yt]}const ue={lFrame:jP(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function RP(){return ue.bindingsEnabled}function nu(){return null!==ue.skipHydrationRootTNode}function k(){return ue.lFrame.lView}function Re(){return ue.lFrame.tView}function er(t){return ue.lFrame.contextLView=t,t[Lt]}function tr(t){return ue.lFrame.contextLView=null,t}function Nn(){let t=kP();for(;null!==t&&64===t.type;)t=t.parent;return t}function kP(){return ue.lFrame.currentTNode}function Wi(t,e){const n=ue.lFrame;n.currentTNode=t,n.isParent=e}function Pb(){return ue.lFrame.isParent}function Fb(){ue.lFrame.isParent=!1}function nr(){const t=ue.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ru(){return ue.lFrame.bindingIndex++}function Ds(t){const e=ue.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function DY(t,e){const n=ue.lFrame;n.bindingIndex=n.bindingRootIndex=t,Lb(e)}function Lb(t){ue.lFrame.currentDirectiveIndex=t}function VP(){return ue.lFrame.currentQueryIndex}function Bb(t){ue.lFrame.currentQueryIndex=t}function SY(t){const e=t[ee];return 2===e.type?e.declTNode:1===e.type?t[$n]:null}function BP(t,e,n){if(n&Ce.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&Ce.Host||(i=SY(s),null===i||(s=s[Jc],10&i.type))););if(null===i)return!1;e=i,t=s}const r=ue.lFrame=UP();return r.currentTNode=e,r.lView=t,!0}function Ub(t){const e=UP(),n=t[ee];ue.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function UP(){const t=ue.lFrame,e=null===t?null:t.child;return null===e?jP(t):e}function jP(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function $P(){const t=ue.lFrame;return ue.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const HP=$P;function jb(){const t=$P();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function rr(){return ue.lFrame.selectedIndex}function _a(t){ue.lFrame.selectedIndex=t}function Tt(){const t=ue.lFrame;return SP(t.tView,t.selectedIndex)}function Od(){ue.lFrame.currentNamespace="svg"}function $b(){!function OY(){ue.lFrame.currentNamespace=null}()}let zP=!0;function Og(){return zP}function go(t){zP=t}function Mg(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function Rg(t,e,n){WP(t,e,3,n)}function kg(t,e,n,r){(3&t[ye])===n&&WP(t,e,n,r)}function Hb(t,e){let n=t[ye];(3&n)===e&&(n&=8191,n+=1,t[ye]=n)}function WP(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let c=void 0!==r?65535&t[Zc]:0;c<o;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(t[Zc]+=65536),(a<s||-1==s)&&(RY(t,n,e,c),t[Zc]=(4294901760&t[Zc])+c+2),c++}function qP(t,e){zi(4,t,e);const n=ti(null);try{e.call(t)}finally{ti(n),zi(5,t,e)}}function RY(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[ye]>>13<t[Zc]>>16&&(3&t[ye])===e&&(t[ye]+=8192,qP(a,s)):qP(a,s)}const iu=-1;class Md{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function zb(t){return t!==iu}function Rd(t){return 32767&t}function kd(t,e){let n=function LY(t){return t>>16}(t),r=e;for(;n>0;)r=r[Jc],n--;return r}let Wb=!0;function Pg(t){const e=Wb;return Wb=t,e}const KP=255,YP=5;let VY=0;const qi={};function Fg(t,e){const n=QP(t,e);if(-1!==n)return n;const r=e[ee];r.firstCreatePass&&(t.injectorIndex=e.length,qb(r.data,t),qb(e,null),qb(r.blueprint,null));const i=Lg(t,e),s=t.injectorIndex;if(zb(i)){const o=Rd(i),a=kd(i,e),c=a[ee].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=i,s}function qb(t,e){t.push(0,0,0,0,0,0,0,0,e)}function QP(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Lg(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=r2(i),null===r)return iu;if(n++,i=i[Jc],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return iu}function Kb(t,e,n){!function BY(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(bd)&&(r=n[bd]),null==r&&(r=n[bd]=VY++);const i=r&KP;e.data[t+(i>>YP)]|=1<<i}(t,e,n)}function JP(t,e,n){if(n&Ce.Optional||void 0!==t)return t;fb()}function ZP(t,e,n,r){if(n&Ce.Optional&&void 0===r&&(r=null),!(n&(Ce.Self|Ce.Host))){const i=t[lo],s=gr(void 0);try{return i?i.get(e,r,n&Ce.Optional):Uk(e,r,n&Ce.Optional)}finally{gr(s)}}return JP(r,0,n)}function XP(t,e,n,r=Ce.Default,i){if(null!==t){if(2048&e[ye]&&!(r&Ce.Self)){const o=function zY(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[ye]&&!(512&o[ye]);){const a=e2(s,o,n,r|Ce.Self,qi);if(a!==qi)return a;let c=s.parent;if(!c){const u=o[iP];if(u){const l=u.get(n,qi,r);if(l!==qi)return l}c=r2(o),o=o[Jc]}s=c}return i}(t,e,n,r,qi);if(o!==qi)return o}const s=e2(t,e,n,r,qi);if(s!==qi)return s}return ZP(e,n,r,i)}function e2(t,e,n,r,i){const s=function $Y(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(bd)?t[bd]:void 0;return"number"==typeof e?e>=0?e&KP:GY:e}(n);if("function"==typeof s){if(!BP(e,t,r))return r&Ce.Host?JP(i,0,r):ZP(e,n,r,i);try{let o;if(o=s(r),null!=o||r&Ce.Optional)return o;fb()}finally{HP()}}else if("number"==typeof s){let o=null,a=QP(t,e),c=iu,u=r&Ce.Host?e[Vt][$n]:null;for((-1===a||r&Ce.SkipSelf)&&(c=-1===a?Lg(t,e):e[a+8],c!==iu&&n2(r,!1)?(o=e[ee],a=Rd(c),e=kd(c,e)):a=-1);-1!==a;){const l=e[ee];if(t2(s,a,l.data)){const d=jY(a,e,n,o,r,u);if(d!==qi)return d}c=e[a+8],c!==iu&&n2(r,e[ee].data[a+8]===u)&&t2(s,a,e)?(o=l,a=Rd(c),e=kd(c,e)):a=-1}}return i}function jY(t,e,n,r,i,s){const o=e[ee],a=o.data[t+8],l=Vg(a,o,n,null==r?ga(a)&&Wb:r!=o&&0!=(3&a.type),i&Ce.Host&&s===a);return null!==l?ya(e,o,l,a):qi}function Vg(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,c=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const g=o[f];if(f<c&&n===g||f>=c&&g.type===n)return f}if(i){const f=o[c];if(f&&yi(f)&&f.type===n)return c}return null}function ya(t,e,n,r){let i=t[n];const s=e.data;if(function kY(t){return t instanceof Md}(i)){const o=i;o.resolving&&function dK(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new L(-200,`Circular dependency in DI detected for ${t}${n}`)}(function We(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():he(t)}(s[n]));const a=Pg(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?gr(o.injectImpl):null;BP(t,r,Ce.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function MY(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=IP(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==u&&gr(u),Pg(a),o.resolving=!1,HP()}}return i}function t2(t,e,n){return!!(n[e+(t>>YP)]&1<<t)}function n2(t,e){return!(t&Ce.Self||t&Ce.Host&&e)}class ir{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return XP(this._tNode,this._lView,e,Ig(r),n)}}function GY(){return new ir(Nn(),k())}function Bt(t){return ws(()=>{const e=t.prototype.constructor,n=e[Is]||Yb(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[Is]||Yb(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Yb(t){return db(t)?()=>{const e=Yb(le(t));return e&&e()}:ma(t)}function r2(t){const e=t[ee],n=e.type;return 2===n?e.declTNode:1===n?t[$n]:null}const ou="__parameters__";function cu(t,e,n){return ws(()=>{const r=function Qb(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(c,u,l){const d=c.hasOwnProperty(ou)?c[ou]:Object.defineProperty(c,ou,{value:[]})[ou];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function lu(t,e){t.forEach(n=>Array.isArray(n)?lu(n,e):e(n))}function s2(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Bg(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Ld(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function Lr(t,e,n){let r=du(t,e);return r>=0?t[1|r]=n:(r=~r,function ZY(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Jb(t,e){const n=du(t,e);if(n>=0)return t[1|n]}function du(t,e){return function o2(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const yr=vd(cu("Optional"),8),jg=vd(cu("SkipSelf"),4);function Wg(t){return 128==(128&t.flags)}var mo=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(mo||{});const nw=new Map;let IQ=0;const iw="__ngContext__";function Hn(t,e){mr(e)?(t[iw]=e[Dd],function EQ(t){nw.set(t[Dd],t)}(e)):t[iw]=e}let sw;function ow(t,e){return sw(t,e)}function Ud(t){const e=t[yt];return Xn(e)?e[yt]:e}function C2(t){return A2(t[Td])}function S2(t){return A2(t[_i])}function A2(t){for(;null!==t&&!Xn(t);)t=t[_i];return t}function pu(t,e,n,r,i){if(null!=r){let s,o=!1;Xn(r)?s=r:mr(r)&&(o=!0,r=r[At]);const a=ot(r);0===t&&null!==n?null==i?M2(e,n,a):ba(e,n,a,i||null,!0):1===t&&null!==n?ba(e,n,a,i||null,!0):2===t?function Xg(t,e,n){const r=Jg(t,e);r&&function HQ(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function WQ(t,e,n,r,i){const s=n[Gi];s!==ot(n)&&pu(e,t,r,s,i);for(let a=Sn;a<n.length;a++){const c=n[a];$d(c[ee],c,t,e,r,s)}}(e,t,s,n,i)}}function Yg(t,e,n){return t.createElement(e,n)}function N2(t,e){const n=t[Xc],r=n.indexOf(e);xP(e),n.splice(r,1)}function Qg(t,e){if(t.length<=Sn)return;const n=Sn+e,r=t[n];if(r){const i=r[Ed];null!==i&&i!==t&&N2(i,r),e>0&&(t[n-1][_i]=r[_i]);const s=Bg(t,Sn+e);!function PQ(t,e){$d(t,e,e[fe],2,null,null),e[At]=null,e[$n]=null}(r[ee],r);const o=s[Hi];null!==o&&o.detachView(s[ee]),r[yt]=null,r[_i]=null,r[ye]&=-129}return r}function cw(t,e){if(!(256&e[ye])){const n=e[fe];e[Cd]&&pP(e[Cd]),e[Sd]&&pP(e[Sd]),n.destroyNode&&$d(t,e,n,3,null,null),function VQ(t){let e=t[Td];if(!e)return uw(t[ee],t);for(;e;){let n=null;if(mr(e))n=e[Td];else{const r=e[Sn];r&&(n=r)}if(!n){for(;e&&!e[_i]&&e!==t;)mr(e)&&uw(e[ee],e),e=e[yt];null===e&&(e=t),mr(e)&&uw(e[ee],e),n=e&&e[_i]}e=n}}(e)}}function uw(t,e){if(!(256&e[ye])){e[ye]&=-129,e[ye]|=256,function $Q(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Md)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],c=s[o+1];zi(4,a,c);try{c.call(a)}finally{zi(5,a,c)}}else{zi(4,i,s);try{s.call(i)}finally{zi(5,i,s)}}}}}(t,e),function jQ(t,e){const n=t.cleanup,r=e[Yc];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[Yc]=null);const i=e[ho];if(null!==i){e[ho]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[ee].type&&e[fe].destroy();const n=e[Ed];if(null!==n&&Xn(e[yt])){n!==e[yt]&&N2(n,e);const r=e[Hi];null!==r&&r.detachView(t)}!function DQ(t){nw.delete(t[Dd])}(e)}}function lw(t,e,n){return function O2(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[At];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===gi.None||s===gi.Emulated)return null}return _r(r,n)}}(t,e.parent,n)}function ba(t,e,n,r,i){t.insertBefore(e,n,r,i)}function M2(t,e,n){t.appendChild(e,n)}function R2(t,e,n,r,i){null!==r?ba(t,e,n,r,i):M2(t,e,n)}function Jg(t,e){return t.parentNode(e)}function k2(t,e,n){return F2(t,e,n)}let dw,em,gw,tm,F2=function P2(t,e,n){return 40&t.type?_r(t,n):null};function Zg(t,e,n,r){const i=lw(t,r,e),s=e[fe],a=k2(r.parent||e[$n],r,e);if(null!=i)if(Array.isArray(n))for(let c=0;c<n.length;c++)R2(s,i,n[c],a,!1);else R2(s,i,n,a,!1);void 0!==dw&&dw(s,r,e,n,i)}function jd(t,e){if(null!==e){const n=e.type;if(3&n)return _r(e,t);if(4&n)return hw(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return jd(t,r);{const i=t[e.index];return Xn(i)?hw(-1,i):ot(i)}}if(32&n)return ow(e,t)()||ot(t[e.index]);{const r=V2(t,e);return null!==r?Array.isArray(r)?r[0]:jd(Ud(t[Vt]),r):jd(t,e.next)}}return null}function V2(t,e){return null!==e?t[Vt][$n].projection[e.projection]:null}function hw(t,e){const n=Sn+t+1;if(n<e.length){const r=e[n],i=r[ee].firstChild;if(null!==i)return jd(r,i)}return e[Gi]}function fw(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],c=n.type;if(o&&0===e&&(a&&Hn(ot(a),r),n.flags|=2),32!=(32&n.flags))if(8&c)fw(t,e,n.child,r,i,s,!1),pu(e,t,i,a,s);else if(32&c){const u=ow(n,r);let l;for(;l=u();)pu(e,t,i,l,s);pu(e,t,i,a,s)}else 16&c?U2(t,e,r,n,i,s):pu(e,t,i,a,s);n=o?n.projectionNext:n.next}}function $d(t,e,n,r,i,s){fw(n,r,t.firstChild,e,i,s,!1)}function U2(t,e,n,r,i,s){const o=n[Vt],c=o[$n].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++)pu(e,t,i,c[u],s);else{let u=c;const l=o[yt];Wg(r)&&(u.flags|=128),fw(t,e,u,l,i,s,!0)}}function j2(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function $2(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&Eb(t,e,r),null!==i&&j2(t,e,i),null!==s&&function KQ(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}function gu(t){return function pw(){if(void 0===em&&(em=null,st.trustedTypes))try{em=st.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return em}()?.createHTML(t)||t}function z2(t){return function mw(){if(void 0===tm&&(tm=null,st.trustedTypes))try{tm=st.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return tm}()?.createScriptURL(t)||t}class wa{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Fk})`}}class XQ extends wa{getTypeName(){return"HTML"}}class eJ extends wa{getTypeName(){return"Style"}}class tJ extends wa{getTypeName(){return"Script"}}class nJ extends wa{getTypeName(){return"URL"}}class rJ extends wa{getTypeName(){return"ResourceURL"}}function Vr(t){return t instanceof wa?t.changingThisBreaksApplicationSecurity:t}function Ki(t,e){const n=function iJ(t){return t instanceof wa&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Fk})`)}return n===e}class lJ{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const n=(new window.DOMParser).parseFromString(gu(e),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}}class dJ{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const n=this.inertDocument.createElement("template");return n.innerHTML=gu(e),n}}const fJ=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function nm(t){return(t=String(t)).match(fJ)?t:"unsafe:"+t}function Cs(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Hd(...t){const e={};for(const n of t)for(const r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}const q2=Cs("area,br,col,hr,img,wbr"),K2=Cs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Y2=Cs("rp,rt"),_w=Hd(q2,Hd(K2,Cs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Hd(Y2,Cs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Hd(Y2,K2)),yw=Cs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Q2=Hd(yw,Cs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Cs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),pJ=Cs("script,style,template");class gJ{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(e){const n=e.nodeName.toLowerCase();if(!_w.hasOwnProperty(n))return this.sanitizedSomething=!0,!pJ.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!Q2.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;yw[a]&&(c=nm(c)),this.buf.push(" ",o,'="',J2(c),'"')}return this.buf.push(">"),!0}endElement(e){const n=e.nodeName.toLowerCase();_w.hasOwnProperty(n)&&!q2.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(J2(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}}const mJ=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,_J=/([^\#-~ |!])/g;function J2(t){return t.replace(/&/g,"&amp;").replace(mJ,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(_J,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let rm;function Z2(t,e){let n=null;try{rm=rm||function W2(t){const e=new dJ(t);return function hJ(){try{return!!(new window.DOMParser).parseFromString(gu(""),"text/html")}catch{return!1}}()?new lJ(e):e}(t);let r=e?String(e):"";n=rm.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=rm.getInertBodyElement(r)}while(r!==s);return gu((new gJ).sanitizeChildren(vw(n)||n))}finally{if(n){const r=vw(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function vw(t){return"content"in t&&function yJ(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var ri=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(ri||{});function Gd(t){const e=zd();return e?e.sanitize(ri.URL,t)||"":Ki(t,"URL")?Vr(t):nm(he(t))}function bw(t){const e=zd();if(e)return z2(e.sanitize(ri.RESOURCE_URL,t)||"");if(Ki(t,"ResourceURL"))return z2(Vr(t));throw new L(904,!1)}function zd(){const t=k();return t&&t[Qc].sanitizer}const Wd=new te("ENVIRONMENT_INITIALIZER"),eF=new te("INJECTOR",-1),tF=new te("INJECTOR_DEF_TYPES");class ww{get(e,n=yd){if(n===yd){const r=new Error(`NullInjectorError: No provider for ${rn(e)}!`);throw r.name="NullInjectorError",r}return n}}function DJ(...t){return{\u0275providers:rF(0,t),\u0275fromNgModule:!0}}function rF(t,...e){const n=[],r=new Set;let i;const s=o=>{n.push(o)};return lu(e,o=>{const a=o;im(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&iF(i,s),n}function iF(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];Iw(i,s=>{e(s,r)})}}function im(t,e,n,r){if(!(t=le(t)))return!1;let i=null,s=vg(t);const o=!s&&Me(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const c=t.ngModule;if(s=vg(c),!s)return!1;i=c}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const c="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const u of c)im(u,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let u;r.add(i);try{lu(s.imports,l=>{im(l,e,n,r)&&(u||=[],u.push(l))})}finally{}void 0!==u&&iF(u,e)}if(!a){const u=ma(i)||(()=>new i);e({provide:i,useFactory:u,deps:Ue},i),e({provide:tF,useValue:i,multi:!0},i),e({provide:Wd,useValue:()=>q(i),multi:!0},i)}const c=s.providers;if(null!=c&&!a){const u=t;Iw(c,l=>{e(l,u)})}}}return i!==t&&void 0!==t.providers}function Iw(t,e){for(let n of t)hb(n)&&(n=n.\u0275providers),Array.isArray(n)?Iw(n,e):e(n)}const CJ=Qe({provide:String,useValue:Qe});function Tw(t){return null!==t&&"object"==typeof t&&CJ in t}function Ia(t){return"function"==typeof t}const Ew=new te("Set Injector scope."),sm={},AJ={};let Dw;function om(){return void 0===Dw&&(Dw=new ww),Dw}class br{}class _u extends br{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Sw(e,o=>this.processProvider(o)),this.records.set(eF,yu(void 0,this)),i.has("environment")&&this.records.set(br,yu(void 0,this));const s=this.records.get(Ew);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(tF.multi,Ue,Ce.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=uo(this),r=gr(void 0);try{return e()}finally{uo(n),gr(r)}}get(e,n=yd,r=Ce.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(zk))return e[zk](this);r=Ig(r);const s=uo(this),o=gr(void 0);try{if(!(r&Ce.SkipSelf)){let c=this.records.get(e);if(void 0===c){const u=function RJ(t){return"function"==typeof t||"object"==typeof t&&t instanceof te}(e)&&yg(e);c=u&&this.injectableDefInScope(u)?yu(Cw(e),sm):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(r&Ce.Self?om():this.parent).get(e,n=r&Ce.Optional&&n===yd?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[wg]=a[wg]||[]).unshift(rn(e)),s)throw a;return function CK(t,e,n,r){const i=t[wg];throw e[$k]&&i.unshift(e[$k]),t.message=function SK(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=rn(e);if(Array.isArray(e))i=e.map(rn).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):rn(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(wK,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[wg]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{gr(o),uo(s)}}resolveInjectorInitializers(){const e=uo(this),n=gr(void 0);try{const i=this.get(Wd.multi,Ue,Ce.Self);for(const s of i)s()}finally{uo(e),gr(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(rn(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new L(205,!1)}processProvider(e){let n=Ia(e=le(e))?e:le(e&&e.provide);const r=function NJ(t){return Tw(t)?yu(void 0,t.useValue):yu(aF(t),sm)}(e);if(Ia(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=yu(void 0,sm,!0),i.factory=()=>wb(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===sm&&(n.value=AJ,n.value=n.factory()),"object"==typeof n.value&&n.value&&function MJ(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=le(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Cw(t){const e=yg(t),n=null!==e?e.factory:ma(t);if(null!==n)return n;if(t instanceof te)throw new L(204,!1);if(t instanceof Function)return function xJ(t){const e=t.length;if(e>0)throw Ld(e,"?"),new L(204,!1);const n=function _K(t){return t&&(t[bg]||t[Vk])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new L(204,!1)}function aF(t,e,n){let r;if(Ia(t)){const i=le(t);return ma(i)||Cw(i)}if(Tw(t))r=()=>le(t.useValue);else if(function oF(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...wb(t.deps||[]));else if(function sF(t){return!(!t||!t.useExisting)}(t))r=()=>q(le(t.useExisting));else{const i=le(t&&(t.useClass||t.provide));if(!function OJ(t){return!!t.deps}(t))return ma(i)||Cw(i);r=()=>new i(...wb(t.deps))}return r}function yu(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Sw(t,e){for(const n of t)Array.isArray(n)?Sw(n,e):n&&hb(n)?Sw(n.\u0275providers,e):e(n)}const am=new te("AppId",{providedIn:"root",factory:()=>kJ}),kJ="ng",cF=new te("Platform Initializer"),Ss=new te("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),uF=new te("CSP nonce",{providedIn:"root",factory:()=>function mu(){if(void 0!==gw)return gw;if(typeof document<"u")return document;throw new L(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let lF=(t,e,n)=>null;function Pw(t,e,n=!1){return lF(t,e,n)}class GJ{}class fF{}class WJ{resolveComponentFactory(e){throw function zJ(t){const e=Error(`No component factory found for ${rn(t)}.`);return e.ngComponent=t,e}(e)}}let fm=(()=>{class t{static#e=this.NULL=new WJ}return t})();function qJ(){return wu(Nn(),k())}function wu(t,e){return new $e(_r(t,e))}let $e=(()=>{class t{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=qJ}return t})();function KJ(t){return t instanceof $e?t.nativeElement:t}class Vw{}let Br=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function YJ(){const t=k(),n=Fr(Nn().index,t);return(mr(n)?n:t)[fe]}()}return t})(),QJ=(()=>{class t{static#e=this.\u0275prov=G({token:t,providedIn:"root",factory:()=>null})}return t})();class Iu{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Bw=new Iu("16.2.12"),Uw={};function yF(t,e=null,n=null,r){const i=vF(t,e,n,r);return i.resolveInjectorInitializers(),i}function vF(t,e=null,n=null,r,i=new Set){const s=[n||Ue,DJ(t)];return r=r||("object"==typeof t?void 0:rn(t)),new _u(s,e||om(),r||null,i)}let Yt=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=yd;static#t=this.NULL=new ww;static create(n,r){if(Array.isArray(n))return yF({name:""},r,n,"");{const i=n.name??"";return yF({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=G({token:t,providedIn:"any",factory:()=>q(eF)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function jw(t){return t.ngOriginalError}class As{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&jw(e);for(;n&&jw(n);)n=jw(n);return n||null}}function $w(t){return e=>{setTimeout(t,void 0,e)}}const x=class iZ extends Be{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=$w(s),i&&(i=$w(i)),o&&(o=$w(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Pt&&e.add(a),a}};function wF(...t){}class Te{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new x(!1),this.onMicrotaskEmpty=new x(!1),this.onStable=new x(!1),this.onError=new x(!1),typeof Zone>"u")throw new L(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function sZ(){const t="function"==typeof st.requestAnimationFrame;let e=st[t?"requestAnimationFrame":"setTimeout"],n=st[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function cZ(t){const e=()=>{!function aZ(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(st,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Gw(t),t.isCheckStableRunning=!0,Hw(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Gw(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(function lZ(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,s,o,a);try{return IF(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),TF(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return IF(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),TF(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,Gw(t),Hw(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Te.isInAngularZone())throw new L(909,!1)}static assertNotInAngularZone(){if(Te.isInAngularZone())throw new L(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,oZ,wF,wF);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const oZ={};function Hw(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Gw(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function IF(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function TF(t){t._nesting--,Hw(t)}class uZ{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new x,this.onMicrotaskEmpty=new x,this.onStable=new x,this.onError=new x}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const EF=new te("",{providedIn:"root",factory:DF});function DF(){const t=z(Te);let e=!0;return function kk(...t){const e=_d(t),n=function nK(t,e){return"number"==typeof ab(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?tn(r[0]):Wc(n)(fn(r,e)):Xr}(new Ve(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new Ve(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{Te.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{Te.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(cb()))}function xs(t){return t instanceof Function?t():t}let zw=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=G({token:t,providedIn:"root",factory:()=>new t})}return t})();function Yd(t){for(;t;){t[ye]|=64;const e=Ud(t);if(Sb(t)&&!e)return t;t=e}return null}const NF=new te("",{providedIn:"root",factory:()=>!1});let mm=null;function kF(t,e){return t[e]??LF()}function PF(t,e){const n=LF();n.producerNode?.length&&(t[e]=mm,n.lView=t,mm=FF())}const bZ={...cP,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Yd(t.lView)},lView:null};function FF(){return Object.create(bZ)}function LF(){return mm??=FF(),mm}const _e={};function O(t){VF(Re(),k(),rr()+t,!1)}function VF(t,e,n,r){if(!r)if(3==(3&e[ye])){const s=t.preOrderCheckHooks;null!==s&&Rg(e,s,n)}else{const s=t.preOrderHooks;null!==s&&kg(e,s,0,n)}_a(n)}function v(t,e=Ce.Default){const n=k();return null===n?q(t,e):XP(Nn(),n,le(t),e)}function _m(t,e,n,r,i,s,o,a,c,u,l){const d=e.blueprint.slice();return d[At]=i,d[ye]=140|r,(null!==u||t&&2048&t[ye])&&(d[ye]|=2048),AP(d),d[yt]=d[Jc]=t,d[Lt]=n,d[Qc]=o||t&&t[Qc],d[fe]=a||t&&t[fe],d[lo]=c||t&&t[lo]||null,d[$n]=s,d[Dd]=function TQ(){return IQ++}(),d[Ts]=l,d[iP]=u,d[Vt]=2==e.type?t[Vt]:d,d}function Cu(t,e,n,r,i){let s=t.data[e];if(null===s)s=function Ww(t,e,n,r,i){const s=kP(),o=Pb(),c=t.data[e]=function AZ(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return nu()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=c),null!==s&&(o?null==s.child&&null!==c.parent&&(s.child=c):null===s.next&&(s.next=c,c.prev=s)),c}(t,e,n,r,i),function EY(){return ue.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Nd(){const t=ue.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Wi(s,!0),s}function Qd(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function UF(t,e,n,r,i){const s=kF(e,Cd),o=rr(),a=2&r;try{_a(-1),a&&e.length>Se&&VF(t,e,Se,!1),zi(a?2:0,i);const u=a?s:null,l=xb(u);try{null!==u&&(u.dirty=!1),n(r,i)}finally{Nb(u,l)}}finally{a&&null===e[Cd]&&PF(e,Cd),_a(o),zi(a?3:1,i)}}function qw(t,e,n){if(Cb(e)){const r=ti(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{ti(r)}}}function Kw(t,e,n){RP()&&(function PZ(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;ga(n)&&function $Z(t,e,n){const r=_r(e,t),i=jF(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=ym(t,_m(t,i,null,o,r,e,null,t[Qc].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Fg(n,e),Hn(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const c=t.data[a],u=ya(e,t,a,n);Hn(u,e),null!==o&&HZ(0,a-i,u,c,0,o),yi(c)&&(Fr(n.index,e)[Lt]=ya(e,t,a,n))}}(t,e,n,_r(n,e)),64==(64&n.flags)&&WF(t,e,n))}function Yw(t,e,n=_r){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function jF(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Qw(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Qw(t,e,n,r,i,s,o,a,c,u,l){const d=Se+r,h=d+i,f=function IZ(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:_e);return n}(d,h),g="function"==typeof u?u():u;return f[ee]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:l}}let $F=t=>null;function HF(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?GF(n,e,i,s):r.hasOwnProperty(i)&&GF(n,e,r[i],s)}return n}function GF(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function Jw(t,e,n,r){if(RP()){const i=null===r?null:{"":-1},s=function LZ(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(Zk(e,o.selectors,!1))if(r||(r=[]),yi(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),Zw(t,e,a.length)}else r.unshift(o),Zw(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&zF(t,e,n,o,i,a),i&&function VZ(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new L(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=wd(n.mergedAttrs,n.attrs)}function zF(t,e,n,r,i,s){for(let u=0;u<r.length;u++)Kb(Fg(n,e),t,r[u].type);!function UZ(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let u=0;u<r.length;u++){const l=r[u];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,c=Qd(t,e,r.length,null);for(let u=0;u<r.length;u++){const l=r[u];n.mergedAttrs=wd(n.mergedAttrs,l.hostAttrs),jZ(t,n,e,c,l),BZ(c,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}!function xZ(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let c=null,u=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=n?n.get(d):null,g=h?h.outputs:null;c=HF(d.inputs,l,c,h?h.inputs:null),u=HF(d.outputs,l,u,g);const m=null===c||null===o||Jk(e)?null:GZ(c,l,o);a.push(m)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}(t,n,s)}function WF(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function CY(){return ue.lFrame.currentDirectiveIndex}();try{_a(s);for(let a=r;a<i;a++){const c=t.data[a],u=e[a];Lb(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&FZ(c,u)}}finally{_a(-1),Lb(o)}}function FZ(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Zw(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function BZ(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;yi(e)&&(n[""]=t)}}function jZ(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=ma(i.type)),o=new Md(s,yi(i),v);t.blueprint[r]=o,n[r]=o,function RZ(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function kZ(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,Qd(t,n,i.hostVars,_e),i)}function Yi(t,e,n,r,i,s){const o=_r(t,e);!function Xw(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?he(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[fe],o,s,t.value,n,r,i)}function HZ(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)qF(r,n,o[a++],o[a++],o[a++])}function qF(t,e,n,r,i){const s=ti(null);try{const o=t.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{ti(s)}}function GZ(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function KF(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function YF(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];Bb(n[r]),o.contentQueries(2,e[s],s)}}}function ym(t,e){return t[Td]?t[rP][_i]=e:t[Td]=e,t[rP]=e,e}function eI(t,e,n){Bb(0);const r=ti(null);try{e(t,n)}finally{ti(r)}}function QF(t){return t[Yc]||(t[Yc]=[])}function JF(t){return t.cleanup||(t.cleanup=[])}function XF(t,e){const n=t[lo],r=n?n.get(As,null):null;r&&r.handleError(e)}function tI(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];qF(t.data[o],e[o],r,a,i)}}function Ns(t,e,n){const r=Ng(e,t);!function x2(t,e,n){t.setValue(e,n)}(t[fe],r,n)}function zZ(t,e){const n=Fr(e,t),r=n[ee];!function WZ(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[At];null!==i&&null===n[Ts]&&(n[Ts]=Pw(i,n[lo])),nI(r,n,n[Lt])}function nI(t,e,n){Ub(e);try{const r=t.viewQuery;null!==r&&eI(1,r,n);const i=t.template;null!==i&&UF(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&YF(t,e),t.staticViewQueries&&eI(2,t.viewQuery,n);const s=t.components;null!==s&&function qZ(t,e){for(let n=0;n<e.length;n++)zZ(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ye]&=-5,jb()}}let eL=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const s=typeof Zone>"u"?null:Zone.current,o=function nY(t,e,n){const r=Object.create(rY);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>hP(r),run:()=>{if(r.dirty=!1,r.hasRun&&!fP(r))return;r.hasRun=!0;const o=xb(r);try{r.cleanupFn(),r.cleanupFn=wP,r.fn(i)}finally{Nb(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(n,u=>{this.all.has(u)&&this.queue.set(u,s)},i);let a;this.all.add(o),o.notify();const c=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=G({token:t,providedIn:"root",factory:()=>new t})}return t})();function vm(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=lb(i,a):2==s&&(r=lb(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Jd(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];null!==s&&r.push(ot(s)),Xn(s)&&tL(s,r);const o=n.type;if(8&o)Jd(t,e,n.child,r);else if(32&o){const a=ow(n,e);let c;for(;c=a();)r.push(c)}else if(16&o){const a=V2(e,n);if(Array.isArray(a))r.push(...a);else{const c=Ud(e[Vt]);Jd(c[ee],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function tL(t,e){for(let n=Sn;n<t.length;n++){const r=t[n],i=r[ee].firstChild;null!==i&&Jd(r[ee],r,i,e)}t[Gi]!==t[At]&&e.push(t[Gi])}function bm(t,e,n,r=!0){const i=e[Qc],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{nL(t,e,t.template,n)}catch(c){throw r&&XF(e,c),c}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function nL(t,e,n,r){const i=e[ye];if(256!=(256&i)){e[Qc].effectManager?.flush(),Ub(e);try{AP(e),function FP(t){return ue.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&UF(t,e,n,2,r);const o=3==(3&i);if(o){const u=t.preOrderCheckHooks;null!==u&&Rg(e,u,null)}else{const u=t.preOrderHooks;null!==u&&kg(e,u,0,null),Hb(e,0)}if(function QZ(t){for(let e=C2(t);null!==e;e=S2(e)){if(!e[sP])continue;const n=e[Xc];for(let r=0;r<n.length;r++){fY(n[r])}}}(e),rL(e,2),null!==t.contentQueries&&YF(t,e),o){const u=t.contentCheckHooks;null!==u&&Rg(e,u)}else{const u=t.contentHooks;null!==u&&kg(e,u,1),Hb(e,1)}!function wZ(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=kF(e,Sd);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)_a(~s);else{const o=s,a=n[++i],c=n[++i];DY(a,o),r.dirty=!1;const u=xb(r);try{c(2,e[o])}finally{Nb(r,u)}}}}finally{null===e[Sd]&&PF(e,Sd),_a(-1)}}(t,e);const a=t.components;null!==a&&sL(e,a,0);const c=t.viewQuery;if(null!==c&&eI(2,c,r),o){const u=t.viewCheckHooks;null!==u&&Rg(e,u)}else{const u=t.viewHooks;null!==u&&kg(e,u,2),Hb(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[ye]&=-73,xP(e)}finally{jb()}}}function rL(t,e){for(let n=C2(t);null!==n;n=S2(n))for(let r=Sn;r<n.length;r++)iL(n[r],e)}function JZ(t,e,n){iL(Fr(e,t),n)}function iL(t,e){if(!function dY(t){return 128==(128&t[ye])}(t))return;const n=t[ee],r=t[ye];if(80&r&&0===e||1024&r||2===e)nL(n,t,n.template,t[Lt]);else if(t[Id]>0){rL(t,1);const i=n.components;null!==i&&sL(t,i,1)}}function sL(t,e,n){for(let r=0;r<e.length;r++)JZ(t,e[r],n)}class Zd{get rootNodes(){const e=this._lView,n=e[ee];return Jd(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Lt]}set context(e){this._lView[Lt]=e}get destroyed(){return 256==(256&this._lView[ye])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[yt];if(Xn(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Qg(e,r),Bg(n,r))}this._attachedToViewContainer=!1}cw(this._lView[ee],this._lView)}onDestroy(e){!function OP(t,e){if(256==(256&t[ye]))throw new L(911,!1);null===t[ho]&&(t[ho]=[]),t[ho].push(e)}(this._lView,e)}markForCheck(){Yd(this._cdRefInjectingView||this._lView)}detach(){this._lView[ye]&=-129}reattach(){this._lView[ye]|=128}detectChanges(){bm(this._lView[ee],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new L(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function LQ(t,e){$d(t,e,e[fe],2,null,null)}(this._lView[ee],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new L(902,!1);this._appRef=e}}class ZZ extends Zd{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;bm(e[ee],e,e[Lt],!1)}checkNoChanges(){}get context(){return null}}class oL extends fm{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Me(e);return new Xd(n,this.ngModule)}}function aL(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class eX{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Ig(r);const i=this.injector.get(e,Uw,r);return i!==Uw||n===Uw?i:this.parentInjector.get(e,n,r)}}class Xd extends fF{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=aL(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return aL(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function LK(t){return t.map(FK).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof br?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new eX(e,s):e,a=o.get(Vw,null);if(null===a)throw new L(407,!1);const d={rendererFactory:a,sanitizer:o.get(QJ,null),effectManager:o.get(eL,null),afterRenderEventManager:o.get(zw,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",g=r?function TZ(t,e,n,r){const s=r.get(NF,!1)||n===gi.ShadowDom,o=t.selectRootElement(e,s);return function EZ(t){$F(t)}(o),o}(h,r,this.componentDef.encapsulation,o):Yg(h,f,function XZ(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(f)),w=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let y=null;null!==g&&(y=Pw(g,o,!0));const S=Qw(0,null,null,1,0,null,null,null,null,null,null),R=_m(null,S,null,w,null,null,d,h,o,null,y);let U,W;Ub(R);try{const oe=this.componentDef;let me,Le=null;oe.findHostDirectiveDefs?(me=[],Le=new Map,oe.findHostDirectiveDefs(oe,me,Le),me.push(oe)):me=[oe];const mt=function nX(t,e){const n=t[ee],r=Se;return t[r]=e,Cu(n,r,2,"#host",null)}(R,g),Dn=function rX(t,e,n,r,i,s,o){const a=i[ee];!function iX(t,e,n,r){for(const i of t)e.mergedAttrs=wd(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(vm(e,e.mergedAttrs,!0),null!==n&&$2(r,n,e))}(r,t,e,o);let c=null;null!==e&&(c=Pw(e,i[lo]));const u=s.rendererFactory.createRenderer(e,n);let l=16;n.signals?l=4096:n.onPush&&(l=64);const d=_m(i,jF(n),null,l,i[t.index],t,s,u,null,null,c);return a.firstCreatePass&&Zw(a,t,r.length-1),ym(i,d),i[t.index]=d}(mt,g,oe,me,R,d,h);W=SP(S,Se),g&&function oX(t,e,n,r){if(r)Eb(t,n,["ng-version",Bw.full]);else{const{attrs:i,classes:s}=function VK(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!mi(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&Eb(t,n,i),s&&s.length>0&&j2(t,n,s.join(" "))}}(h,oe,g,r),void 0!==n&&function aX(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(W,this.ngContentSelectors,n),U=function sX(t,e,n,r,i,s){const o=Nn(),a=i[ee],c=_r(o,i);zF(a,i,o,n,null,r);for(let l=0;l<n.length;l++)Hn(ya(i,a,o.directiveStart+l,o),i);WF(a,i,o),c&&Hn(c,i);const u=ya(i,a,o.directiveStart+o.componentOffset,o);if(t[Lt]=i[Lt]=u,null!==s)for(const l of s)l(u,e);return qw(a,o,t),u}(Dn,oe,me,Le,R,[cX]),nI(S,R,null)}finally{jb()}return new tX(this.componentType,U,wu(W,R),R,W)}}class tX extends GJ{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new ZZ(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;tI(s[ee],s,i,e,n),this.previousInputValues.set(e,n),Yd(Fr(this._tNode.index,s))}}get injector(){return new ir(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function cX(){const t=Nn();Mg(k()[ee],t)}function He(t){let e=function cL(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(yi(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new L(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=wm(t.inputs),o.inputTransforms=wm(t.inputTransforms),o.declaredInputs=wm(t.declaredInputs),o.outputs=wm(t.outputs);const a=i.hostBindings;a&&hX(t,a);const c=i.viewQuery,u=i.contentQueries;if(c&&lX(t,c),u&&dX(t,u),mg(t.inputs,i.inputs),mg(t.declaredInputs,i.declaredInputs),mg(t.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),mg(o.inputTransforms,i.inputTransforms)),yi(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===He&&(n=!1)}}e=Object.getPrototypeOf(e)}!function uX(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=wd(i.hostAttrs,n=wd(n,i.hostAttrs))}}(r)}function wm(t){return t===$i?{}:t===Ue?[]:t}function lX(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function dX(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function hX(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function hL(t){const e=t.inputConfig,n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}t.inputTransforms=n}function Im(t){return!!function rI(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Gn(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Tm(t,e,n,r,i){const s=function Ta(t,e,n,r){const i=Gn(t,e,n);return Gn(t,e+1,r)||i}(t,e,n,r);return Gn(t,e+2,i)||s}function qe(t,e,n,r){const i=k();return Gn(i,ru(),e)&&(Re(),Yi(Tt(),i,t,e,n,r)),qe}function Nu(t,e,n,r,i,s,o,a){const u=Tm(t,function Es(){return ue.lFrame.bindingIndex}(),n,i,o);return Ds(3),u?e+he(n)+r+he(i)+s+he(o)+a:_e}function V(t,e,n,r,i,s,o,a){const c=k(),u=Re(),l=t+Se,d=u.firstCreatePass?function FX(t,e,n,r,i,s,o,a,c){const u=e.consts,l=Cu(e,t,4,o||null,po(u,a));Jw(e,n,l,po(u,c)),Mg(e,l);const d=l.tView=Qw(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,u,c,e,n,r,i,s,o):u.data[l];Wi(d,!1);const h=DL(u,c,d,t);Og()&&Zg(u,c,h,d),Hn(h,c),ym(c,c[l]=KF(h,c,h,d)),Sg(d)&&Kw(u,c,d),null!=o&&Yw(c,d,a)}let DL=function CL(t,e,n,r){return go(!0),e[fe].createComment("")};function N(t,e,n){const r=k();return Gn(r,ru(),e)&&function Ur(t,e,n,r,i,s,o,a){const c=_r(e,n);let l,u=e.inputs;!a&&null!=u&&(l=u[r])?(tI(t,n,l,r,i),ga(e)&&function OZ(t,e){const n=Fr(e,t);16&n[ye]||(n[ye]|=64)}(n,e.index)):3&e.type&&(r=function NZ(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(c,r,i))}(Re(),Tt(),r,t,e,r[fe],n,!1),N}function uI(t,e,n,r,i){const o=i?"class":"style";tI(t,n,e.inputs[o],o,r)}function b(t,e,n,r){const i=k(),s=Re(),o=Se+t,a=i[fe],c=s.firstCreatePass?function UX(t,e,n,r,i,s){const o=e.consts,c=Cu(e,t,2,r,po(o,i));return Jw(e,n,c,po(o,s)),null!==c.attrs&&vm(c,c.attrs,!1),null!==c.mergedAttrs&&vm(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,e,n,r):s.data[o],u=SL(s,i,c,a,e,t);i[o]=u;const l=Sg(c);return Wi(c,!0),$2(a,u,c),32!=(32&c.flags)&&Og()&&Zg(s,i,u,c),0===function gY(){return ue.lFrame.elementDepthCount}()&&Hn(u,i),function mY(){ue.lFrame.elementDepthCount++}(),l&&(Kw(s,i,c),qw(s,c,i)),null!==r&&Yw(i,c),b}function I(){let t=Nn();Pb()?Fb():(t=t.parent,Wi(t,!1));const e=t;(function yY(t){return ue.skipHydrationRootTNode===t})(e)&&function IY(){ue.skipHydrationRootTNode=null}(),function _Y(){ue.lFrame.elementDepthCount--}();const n=Re();return n.firstCreatePass&&(Mg(n,t),Cb(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function PY(t){return 0!=(8&t.flags)}(e)&&uI(n,e,k(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function FY(t){return 0!=(16&t.flags)}(e)&&uI(n,e,k(),e.stylesWithoutHost,!1),I}function Y(t,e,n,r){return b(t,e,n,r),I(),Y}let SL=(t,e,n,r,i,s)=>(go(!0),Yg(r,i,function GP(){return ue.lFrame.currentNamespace}()));function wr(){return k()}function sh(t){return!!t&&"function"==typeof t.then}function NL(t){return!!t&&"function"==typeof t.subscribe}function pe(t,e,n,r){const i=k(),s=Re(),o=Nn();return function ML(t,e,n,r,i,s,o){const a=Sg(r),u=t.firstCreatePass&&JF(t),l=e[Lt],d=QF(e);let h=!0;if(3&r.type||o){const m=_r(r,e),_=o?o(m):m,w=d.length,y=o?R=>o(ot(R[r.index])):r.index;let S=null;if(!o&&a&&(S=function WX(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[Yc],c=i[s+2];return a.length>c?a[c]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==S)(S.__ngLastListenerFn__||S).__ngNextListenerFn__=s,S.__ngLastListenerFn__=s,h=!1;else{s=kL(r,e,l,s,!1);const R=n.listen(_,i,s);d.push(s,R),u&&u.push(i,y,w,w+1)}}else s=kL(r,e,l,s,!1);const f=r.outputs;let g;if(h&&null!==f&&(g=f[i])){const m=g.length;if(m)for(let _=0;_<m;_+=2){const U=e[g[_]][g[_+1]].subscribe(s),W=d.length;d.push(s,U),u&&u.push(i,r.index,W,-(W+1))}}}(s,i,i[fe],o,t,e,r),pe}function RL(t,e,n,r){try{return zi(6,e,n),!1!==n(r)}catch(i){return XF(t,i),!1}finally{zi(7,e,n)}}function kL(t,e,n,r,i){return function s(o){if(o===Function)return r;Yd(t.componentOffset>-1?Fr(t.index,e):e);let c=RL(e,n,r,o),u=s.__ngNextListenerFn__;for(;u;)c=RL(e,n,u,o)&&c,u=u.__ngNextListenerFn__;return i&&!1===c&&o.preventDefault(),c}}function Z(t=1){return function AY(t){return(ue.lFrame.contextLView=function xY(t,e){for(;t>0;)e=e[Jc],t--;return e}(t,ue.lFrame.contextLView))[Lt]}(t)}function qX(t,e){let n=null;const r=function MK(t){const e=t.attrs;if(null!=e){const n=e.indexOf(5);if(!(1&n))return e[n+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?Zk(t,s,!0):PK(r,s))return i}else n=i}return n}function Am(t,e){return t<<17|e<<2}function _o(t){return t>>17&32767}function fI(t){return 2|t}function Ea(t){return(131068&t)>>2}function pI(t,e){return-131069&t|e<<2}function gI(t){return 1|t}function zL(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?_o(s):Ea(s),c=!1;for(;0!==a&&(!1===c||o);){const l=t[a+1];XX(t[a],e)&&(c=!0,t[a+1]=r?gI(l):fI(l)),a=r?_o(l):Ea(l)}c&&(t[n+1]=r?fI(s):gI(s))}function XX(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&du(t,e)>=0}const on={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function WL(t){return t.substring(on.key,on.keyEnd)}function qL(t,e){const n=on.textEnd;return n===e?-1:(e=on.keyEnd=function ree(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,on.key=e,n),Fu(t,e,n))}function Fu(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function je(t,e){return function bi(t,e,n,r){const i=k(),s=Re(),o=Ds(2);s.firstUpdatePass&&eV(s,t,o,r),e!==_e&&Gn(i,o,e)&&nV(s,s.data[rr()],i,i[fe],t,i[o+1]=function pee(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=rn(Vr(t)))),t}(e,n),r,o)}(t,e,null,!0),je}function Da(t){!function wi(t,e,n,r){const i=Re(),s=Ds(2);i.firstUpdatePass&&eV(i,null,s,r);const o=k();if(n!==_e&&Gn(o,s,n)){const a=i.data[rr()];if(iV(a,r)&&!XL(i,s)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;null!==c&&(n=lb(c,n||"")),uI(i,a,o,n,r)}else!function fee(t,e,n,r,i,s,o,a){i===_e&&(i=Ue);let c=0,u=0,l=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;null!==l||null!==d;){const h=c<i.length?i[c+1]:void 0,f=u<s.length?s[u+1]:void 0;let m,g=null;l===d?(c+=2,u+=2,h!==f&&(g=d,m=f)):null===d||null!==l&&l<d?(c+=2,g=l):(u+=2,g=d,m=f),null!==g&&nV(t,e,n,r,g,m,o,a),l=c<i.length?i[c]:null,d=u<s.length?s[u]:null}}(i,a,o,o[fe],o[s+1],o[s+1]=function dee(t,e,n){if(null==n||""===n)return Ue;const r=[],i=Vr(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,s)}}(hee,Zi,t,!0)}function Zi(t,e){for(let n=function tee(t){return function YL(t){on.key=0,on.keyEnd=0,on.value=0,on.valueEnd=0,on.textEnd=t.length}(t),qL(t,Fu(t,0,on.textEnd))}(e);n>=0;n=qL(e,n))Lr(t,WL(e),!0)}function XL(t,e){return e>=t.expandoStartIndex}function eV(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[rr()],o=XL(t,n);iV(s,r)&&null===e&&!o&&(e=!1),e=function aee(t,e,n,r){const i=function Vb(t){const e=ue.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=oh(n=mI(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=mI(i,t,e,n,r),null===s){let c=function cee(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Ea(r))return t[_o(r)]}(t,e,r);void 0!==c&&Array.isArray(c)&&(c=mI(null,t,e,c[1],r),c=oh(c,e.attrs,r),function uee(t,e,n,r){t[_o(n?e.classBindings:e.styleBindings)]=r}(t,e,r,c))}else s=function lee(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=oh(r,t[s].hostAttrs,n);return oh(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function JX(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=_o(o),c=Ea(o);t[r]=n;let l,u=!1;if(Array.isArray(n)?(l=n[1],(null===l||du(n,l)>0)&&(u=!0)):l=n,i)if(0!==c){const h=_o(t[a+1]);t[r+1]=Am(h,a),0!==h&&(t[h+1]=pI(t[h+1],r)),t[a+1]=function YX(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Am(a,0),0!==a&&(t[a+1]=pI(t[a+1],r)),a=r;else t[r+1]=Am(c,0),0===a?a=r:t[c+1]=pI(t[c+1],r),c=r;u&&(t[r+1]=fI(t[r+1])),zL(t,l,r,!0),zL(t,l,r,!1),function ZX(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&du(s,e)>=0&&(n[r+1]=gI(n[r+1]))}(e,l,t,r,s),o=Am(a,c),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function mI(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=oh(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function oh(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Lr(t,o,!!n||e[++s]))}return void 0===t?null:t}function hee(t,e,n){const r=String(e);""!==r&&!r.includes(" ")&&Lr(t,r,n)}function nV(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const c=t.data,u=c[a+1],l=function QX(t){return 1==(1&t)}(u)?rV(c,e,n,i,Ea(u),o):void 0;xm(l)||(xm(s)||function KX(t){return 2==(2&t)}(u)&&(s=rV(c,null,n,i,a,o)),function qQ(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:mo.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=mo.Important),t.setStyle(n,r,i,s))}}(r,o,Ng(rr(),n),i,s))}function rV(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const c=t[i],u=Array.isArray(c),l=u?c[1]:c,d=null===l;let h=n[i+1];h===_e&&(h=d?Ue:void 0);let f=d?Jb(h,r):l===r?h:void 0;if(u&&!xm(f)&&(f=Jb(c,r)),xm(f)&&(a=f,o))return a;const g=t[i+1];i=o?_o(g):Ea(g)}if(null!==e){let c=s?e.residualClasses:e.residualStyles;null!=c&&(a=Jb(c,r))}return a}function xm(t){return void 0!==t}function iV(t,e){return 0!=(t.flags&(e?8:16))}function M(t,e=""){const n=k(),r=Re(),i=t+Se,s=r.firstCreatePass?Cu(r,i,1,e,null):r.data[i],o=sV(r,n,s,e,t);n[i]=o,Og()&&Zg(r,n,o,s),Wi(s,!1)}let sV=(t,e,n,r,i)=>(go(!0),function Kg(t,e){return t.createText(e)}(e[fe],r));function jr(t){return yo("",t,""),jr}function yo(t,e,n){const r=k(),i=function Au(t,e,n,r){return Gn(t,ru(),n)?e+he(n)+r:_e}(r,t,e,n);return i!==_e&&Ns(r,rr(),i),yo}function _I(t,e,n,r,i,s,o){const a=k(),c=Nu(a,t,e,n,r,i,s,o);return c!==_e&&Ns(a,rr(),c),_I}const Vu="en-US";let DV=Vu;function bI(t,e,n,r,i){if(t=le(t),Array.isArray(t))for(let s=0;s<t.length;s++)bI(t[s],e,n,r,i);else{const s=Re(),o=k(),a=Nn();let c=Ia(t)?t:le(t.provide);const u=aF(t),l=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(Ia(t)||!t.multi){const f=new Md(u,i,v),g=II(c,e,i?l:l+h,d);-1===g?(Kb(Fg(a,o),s,c),wI(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),o.push(f)):(n[g]=f,o[g]=f)}else{const f=II(c,e,l+h,d),g=II(c,e,l,l+h),_=g>=0&&n[g];if(i&&!_||!i&&!(f>=0&&n[f])){Kb(Fg(a,o),s,c);const w=function kte(t,e,n,r,i){const s=new Md(t,n,v);return s.multi=[],s.index=e,s.componentProviders=0,QV(s,i,r&&!n),s}(i?Rte:Mte,n.length,i,r,u);!i&&_&&(n[g].providerFactory=w),wI(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(w),o.push(w)}else wI(s,t,f>-1?f:g,QV(n[i?g:f],u,!i&&r));!i&&r&&_&&n[g].componentProviders++}}}function wI(t,e,n,r){const i=Ia(e),s=function SJ(t){return!!t.useClass}(e);if(i||s){const c=(s?le(e.useClass):e).prototype.ngOnDestroy;if(c){const u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=u.indexOf(n);-1===l?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function QV(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function II(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Mte(t,e,n,r){return TI(this.multi,[])}function Rte(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=ya(n,n[ee],this.providerFactory.index,r);s=a.slice(0,o),TI(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],TI(i,s);return s}function TI(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function nt(t,e=[]){return n=>{n.providersResolver=(r,i)=>function Ote(t,e,n){const r=Re();if(r.firstCreatePass){const i=yi(t);bI(n,r.data,r.blueprint,i,!0),bI(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Sa{}class JV{}class EI extends Sa{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new oL(this);const i=Pr(e);this._bootstrapComponents=xs(i.bootstrap),this._r3Injector=vF(e,n,[{provide:Sa,useValue:this},{provide:fm,useValue:this.componentFactoryResolver},...r],rn(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class DI extends JV{constructor(e){super(),this.moduleType=e}create(e){return new EI(this.moduleType,e,[])}}class ZV extends Sa{constructor(e){super(),this.componentFactoryResolver=new oL(this),this.instance=null;const n=new _u([...e.providers,{provide:Sa,useValue:this},{provide:fm,useValue:this.componentFactoryResolver}],e.parent||om(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function CI(t,e,n=null){return new ZV({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let Lte=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=rF(0,n.type),i=r.length>0?CI([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=G({token:t,providedIn:"environment",factory:()=>new t(q(br))})}return t})();function $r(t){t.getStandaloneInjector=e=>e.get(Lte).getOrCreateStandaloneInjector(t)}function s3(t,e,n,r,i,s){const o=e+n;return Gn(t,o,i)?function Qi(t,e,n){return t[e]=n}(t,o+1,s?r.call(s,i):r(i)):function ph(t,e){const n=t[e];return n===_e?void 0:n}(t,o+1)}function d3(t,e,n){const r=t+Se,i=k(),s=tu(i,r);return function gh(t,e){return t[ee].data[e].pure}(i,r)?s3(i,nr(),e,s.transform,n,s):s.transform(n)}function ine(){return this._results[Symbol.iterator]()}class xI{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new x)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=xI.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=ine)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const i=function ni(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function QY(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function one(t,e,n,r=!0){const i=e[ee];if(function BQ(t,e,n,r){const i=Sn+r,s=n.length;r>0&&(n[i-1][_i]=e),r<s-Sn?(e[_i]=n[i],s2(n,Sn+r,e)):(n.push(e),e[_i]=null),e[yt]=n;const o=e[Ed];null!==o&&n!==o&&function UQ(t,e){const n=t[Xc];e[Vt]!==e[yt][yt][Vt]&&(t[sP]=!0),null===n?t[Xc]=[e]:n.push(e)}(o,e);const a=e[Hi];null!==a&&a.insertView(t),e[ye]|=128}(i,e,t,n),r){const s=hw(n,t),o=e[fe],a=Jg(o,t[Gi]);null!==a&&function FQ(t,e,n,r,i,s){r[At]=i,r[$n]=e,$d(t,r,n,1,i,s)}(i,t[$n],o,e,a,s)}}let Et=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=une}return t})();const ane=Et,cne=class extends ane{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function sne(t,e,n,r){const i=e.tView,a=_m(t,i,n,4096&t[ye]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[Ed]=t[e.index];const u=t[Hi];return null!==u&&(a[Hi]=u.createEmbeddedView(i)),nI(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new Zd(i)}};function une(){return km(Nn(),k())}function km(t,e){return 4&t.type?new cne(e,t,wu(t,e)):null}let oi=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=gne}return t})();function gne(){return y3(Nn(),k())}const mne=oi,m3=class extends mne{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return wu(this._hostTNode,this._hostLView)}get injector(){return new ir(this._hostTNode,this._hostLView)}get parentInjector(){const e=Lg(this._hostTNode,this._hostLView);if(zb(e)){const n=kd(e,this._hostLView),r=Rd(e);return new ir(n[ee].data[r+8],n)}return new ir(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=_3(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Sn}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function Fd(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const m=n||{};a=m.index,r=m.injector,i=m.projectableNodes,s=m.environmentInjector||m.ngModuleRef}const c=o?e:new Xd(Me(e)),u=r||this.parentInjector;if(!s&&null==c.ngModule){const _=(o?u:this.parentInjector).get(br,null);_&&(s=_)}Me(c.componentType??{});const f=c.create(u,i,null,s);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function hY(t){return Xn(t[yt])}(i)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const u=i[yt],l=new m3(u,u[$n],u[yt]);l.detach(l.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;return one(a,i,o,!r),e.attachToViewContainerRef(),s2(NI(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=_3(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Qg(this._lContainer,n);r&&(Bg(NI(this._lContainer),n),cw(r[ee],r))}detach(e){const n=this._adjustIndex(e,-1),r=Qg(this._lContainer,n);return r&&null!=Bg(NI(this._lContainer),n)?new Zd(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function _3(t){return t[8]}function NI(t){return t[8]||(t[8]=[])}function y3(t,e){let n;const r=e[t.index];return Xn(r)?n=r:(n=KF(r,e,null,t),e[t.index]=n,ym(e,n)),v3(n,e,t,r),new m3(n,t,e)}let v3=function b3(t,e,n,r){if(t[Gi])return;let i;i=8&n.type?ot(r):function _ne(t,e){const n=t[fe],r=n.createComment(""),i=_r(e,t);return ba(n,Jg(n,i),r,function GQ(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Gi]=i};class OI{constructor(e){this.queryList=e,this.matches=null}clone(){return new OI(this.queryList)}setDirty(){this.queryList.setDirty()}}class MI{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){const o=n.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new MI(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==D3(e,n).matches&&this.queries[n].setDirty()}}class w3{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class RI{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==n?n.push(s):n=[s])}return null!==n?new RI(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class kI{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new kI(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,n,bne(n,s)),this.matchTNodeWithReadOption(e,n,Vg(n,e,s,!1,!1))}else r===Et?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Vg(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===$e||i===oi||i===Et&&4&n.type)this.addMatch(n.index,-2);else{const s=Vg(n,e,i,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function bne(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Ine(t,e,n,r){return-1===n?function wne(t,e){return 11&t.type?wu(t,e):4&t.type?km(t,e):null}(e,t):-2===n?function Tne(t,e,n){return n===$e?wu(e,t):n===Et?km(e,t):n===oi?y3(e,t):void 0}(t,e,r):ya(t,t[ee],n,e)}function I3(t,e,n,r){const i=e[Hi].queries[r];if(null===i.matches){const s=t.data,o=n.matches,a=[];for(let c=0;c<o.length;c+=2){const u=o[c];a.push(u<0?null:Ine(e,s[u],o[c+1],n.metadata.read))}i.matches=a}return i.matches}function PI(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=I3(t,e,i,n);for(let a=0;a<s.length;a+=2){const c=s[a];if(c>0)r.push(o[a/2]);else{const u=s[a+1],l=e[-c];for(let d=Sn;d<l.length;d++){const h=l[d];h[Ed]===h[yt]&&PI(h[ee],h,u,r)}if(null!==l[Xc]){const d=l[Xc];for(let h=0;h<d.length;h++){const f=d[h];PI(f[ee],f,u,r)}}}}}return r}function Je(t){const e=k(),n=Re(),r=VP();Bb(r+1);const i=D3(n,r);if(t.dirty&&function lY(t){return 4==(4&t[ye])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?PI(n,e,r,[]):I3(n,e,i,r);t.reset(s,KJ),t.notifyOnChanges()}return!0}return!1}function Aa(t,e,n){const r=Re();r.firstCreatePass&&(function E3(t,e,n){null===t.queries&&(t.queries=new RI),t.queries.track(new kI(e,n))}(r,new w3(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),function T3(t,e,n){const r=new xI(4==(4&n));(function SZ(t,e,n,r){const i=QF(e);i.push(n),t.firstCreatePass&&JF(t).push(r,i.length-1)})(t,e,r,r.destroy),null===e[Hi]&&(e[Hi]=new MI),e[Hi].queries.push(new OI(r))}(r,k(),e)}function D3(t,e){return t.queries.getByIndex(e)}const jI=new te("Application Initializer");let $I=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=z(jI,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(sh(s))n.push(s);else if(NL(s)){const o=new Promise((a,c)=>{s.subscribe({complete:a,error:c})});n.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),$3=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const Ti=new te("LocaleId",{providedIn:"root",factory:()=>z(Ti,Ce.Optional|Ce.SkipSelf)||function Wne(){return typeof $localize<"u"&&$localize.locale||Vu}()});let H3=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Rr(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class Yne{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let G3=(()=>{class t{compileModuleSync(n){return new DI(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=xs(Pr(n).declarations).reduce((o,a)=>{const c=Me(a);return c&&o.push(new Xd(c)),o},[]);return new Yne(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const K3=new te(""),Vm=new te("");let qI,zI=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,qI||(function _re(t){qI=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Te.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||t)(q(Te),q(WI),q(Vm))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})(),WI=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return qI?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),vo=null;const Y3=new te("AllowMultipleToken"),KI=new te("PlatformDestroyListeners"),YI=new te("appBootstrapListener");class J3{constructor(e,n){this.name=e,this.token=n}}function X3(t,e,n=[]){const r=`Platform: ${e}`,i=new te(r);return(s=[])=>{let o=QI();if(!o||o.injector.get(Y3,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function bre(t){if(vo&&!vo.get(Y3,!1))throw new L(400,!1);(function Q3(){!function JK(t){_P=t}(()=>{throw new L(600,!1)})})(),vo=t;const e=t.get(tB);(function Z3(t){t.get(cF,null)?.forEach(n=>n())})(t)}(function eB(t=[],e){return Yt.create({name:e,providers:[{provide:Ew,useValue:"platform"},{provide:KI,useValue:new Set([()=>vo=null])},...t]})}(a,r))}return function Ire(t){const e=QI();if(!e)throw new L(401,!1);return e}()}}function QI(){return vo?.get(tB)??null}let tB=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function Tre(t="zone.js",e){return"noop"===t?new uZ:"zone.js"===t?new Te(e):t}(r?.ngZone,function nB(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function Fte(t,e,n){return new EI(t,e,n)}(n.moduleType,this.injector,function aB(t){return[{provide:Te,useFactory:t},{provide:Wd,multi:!0,useFactory:()=>{const e=z(Dre,{optional:!0});return()=>e.initialize()}},{provide:oB,useFactory:Ere},{provide:EF,useFactory:DF}]}(()=>i)),o=s.injector.get(As,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:c=>{o.handleError(c)}});s.onDestroy(()=>{Bm(this._modules,s),a.unsubscribe()})}),function rB(t,e,n){try{const r=n();return sh(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,i,()=>{const a=s.injector.get($I);return a.runInitializers(),a.donePromise.then(()=>(function CV(t){ei(t,"Expected localeId to be defined"),"string"==typeof t&&(DV=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Ti,Vu)||Vu),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,r=[]){const i=iB({},r);return function yre(t,e,n){const r=new DI(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(bo);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new L(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new L(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(KI,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||t)(q(Yt))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function iB(t,e){return Array.isArray(e)?e.reduce(iB,t):{...t,...e}}let bo=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=z(oB),this.zoneIsStable=z(EF),this.componentTypes=[],this.components=[],this.isStable=z(H3).hasPendingTasks.pipe(pi(n=>n?ae(!1):this.zoneIsStable),function Pk(t,e=fi){return t=t??uK,It((n,r)=>{let i,s=!0;n.subscribe(it(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}(),cb()),this._injector=z(br)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof fF;if(!this._injector.get($I).done)throw!i&&function Kc(t){const e=Me(t)||Cn(t)||Zn(t);return null!==e&&e.standalone}(n),new L(405,!1);let o;o=i?n:this._injector.get(fm).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function vre(t){return t.isBoundToModule}(o)?void 0:this._injector.get(Sa),u=o.create(Yt.NULL,[],r||o.selector,a),l=u.location.nativeElement,d=u.injector.get(K3,null);return d?.registerApplication(l),u.onDestroy(()=>{this.detachView(u.hostView),Bm(this.components,u),d?.unregisterApplication(l)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new L(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Bm(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(YI,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Bm(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new L(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Bm(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const oB=new te("",{providedIn:"root",factory:()=>z(As).handleError.bind(void 0)});function Ere(){const t=z(Te),e=z(As);return n=>t.runOutsideAngular(()=>e.handleError(n))}let Dre=(()=>{class t{constructor(){this.zone=z(Te),this.applicationRef=z(bo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();let Ei=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=Sre}return t})();function Sre(t){return function Are(t,e,n){if(ga(t)&&!n){const r=Fr(t.index,e);return new Zd(r,r)}return 47&t.type?new Zd(e[Vt],e):null}(Nn(),k(),16==(16&t))}class dB{constructor(){}supports(e){return Im(e)}create(e){return new kre(e)}}const Rre=(t,e)=>e;class kre{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Rre}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<fB(r,i,s)?n:r,a=fB(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const u=a-i,l=c-i;if(u!=l){for(let h=0;h<u;h++){const f=h<s.length?s[h]:s[h]=0,g=f+h;l<=g&&g<u&&(s[h]=f+1)}s[o.previousIndex]=l-u}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Im(e))throw new L(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function yX(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new Pre(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new hB),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new hB),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Pre{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Fre{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class hB{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new Fre,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function fB(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function gB(){return new $m([new dB])}let $m=(()=>{class t{static#e=this.\u0275prov=G({token:t,providedIn:"root",factory:gB});constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||gB()),deps:[[t,new jg,new yr]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new L(901,!1)}}return t})();const jre=X3(null,"core",[]);let $re=(()=>{class t{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||t)(q(bo))};static#t=this.\u0275mod=De({type:t});static#n=this.\u0275inj=Ie({})}return t})();function $u(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function n1(t,e){const n=Me(t),r=e.elementInjector||om();return new Xd(n).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}let r1=null;function wo(){return r1}class nie{}const Ut=new te("DocumentToken");let i1=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:function(){return z(iie)},providedIn:"platform"})}return t})();const rie=new te("Location Initialized");let iie=(()=>{class t extends i1{constructor(){super(),this._doc=z(Ut),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return wo().getBaseHref(this._doc)}onPopState(n){const r=wo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=wo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:function(){return new t},providedIn:"platform"})}return t})();function s1(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function DB(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Os(t){return t&&"?"!==t[0]?"?"+t:t}let Na=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:function(){return z(SB)},providedIn:"root"})}return t})();const CB=new te("appBaseHref");let SB=(()=>{class t extends Na{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??z(Ut).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return s1(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Os(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+Os(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+Os(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(q(i1),q(CB,8))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),sie=(()=>{class t extends Na{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=s1(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Os(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Os(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(q(i1),q(CB,8))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})(),o1=(()=>{class t{constructor(n){this._subject=new x,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function cie(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(DB(AB(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Os(r))}normalize(n){return t.stripTrailingSlash(function aie(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,AB(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Os(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Os(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static#e=this.normalizeQueryParams=Os;static#t=this.joinWithSlash=s1;static#n=this.stripTrailingSlash=DB;static#r=this.\u0275fac=function(r){return new(r||t)(q(Na))};static#i=this.\u0275prov=G({token:t,factory:function(){return function oie(){return new o1(q(Na))}()},providedIn:"root"})}return t})();function AB(t){return t.replace(/\/index.html$/,"")}class Wie{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ci=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Wie(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),jB(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{jB(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(v(oi),v(Et),v($m))};static#t=this.\u0275dir=j({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return t})();function jB(t,e){t.context.$implicit=e.item}let Si=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new qie,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){$B("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){$B("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(v(oi),v(Et))};static#t=this.\u0275dir=j({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return t})();class qie{constructor(){this.$implicit=null,this.ngIf=null}}function $B(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${rn(e)}'.`)}let zu=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=De({type:t});static#n=this.\u0275inj=Ie({})}return t})();const zB="browser";function WB(t){return"server"===t}let Ese=(()=>{class t{static#e=this.\u0275prov=G({token:t,providedIn:"root",factory:()=>new Dse(q(Ut),window)})}return t})();class Dse{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function Cse(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Qse extends nie{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class E1 extends Qse{static makeCurrent(){!function tie(t){r1||(r1=t)}(new E1)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function Jse(){return Ih=Ih||document.querySelector("base"),Ih?Ih.getAttribute("href"):null}();return null==n?null:function Zse(t){n_=n_||document.createElement("a"),n_.setAttribute("href",t);const e=n_.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Ih=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Hie(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let n_,Ih=null,eoe=(()=>{class t{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})();const D1=new te("EventManagerPlugins");let JB=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new L(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||t)(q(D1),q(Te))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})();class ZB{constructor(e){this._doc=e}}const C1="ng-app-id";let XB=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=WB(s),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${C1}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(C1),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(C1,this.appId),o}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||t)(q(Ut),q(am),q(uF,8),q(Ss))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})();const S1={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},A1=/%COMP%/g,ioe=new te("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function tU(t,e){return e.map(n=>n.replace(A1,t))}let nU=(()=>{class t{constructor(n,r,i,s,o,a,c,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=WB(a),this.defaultRenderer=new x1(n,o,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===gi.ShadowDom&&(r={...r,encapsulation:gi.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof iU?i.applyToHost(n):i instanceof N1&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case gi.Emulated:s=new iU(c,u,r,this.appId,l,o,a,d);break;case gi.ShadowDom:return new coe(c,u,n,r,o,a,this.nonce,d);default:s=new N1(c,u,r,l,o,a,d)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||t)(q(JB),q(XB),q(am),q(ioe),q(Ut),q(Ss),q(Te),q(uF))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})();class x1{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(S1[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(rU(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(rU(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new L(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=S1[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=S1[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(mo.DashCase|mo.Important)?e.style.setProperty(n,r,i&mo.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&mo.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=wo().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function rU(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class coe extends x1{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=tU(i.id,i.styles);for(const l of u){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class N1 extends x1{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?tU(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class iU extends N1{constructor(e,n,r,i,s,o,a,c){const u=i+"-"+r.id;super(e,n,r,s,o,a,c,u),this.contentAttr=function soe(t){return"_ngcontent-%COMP%".replace(A1,t)}(u),this.hostAttr=function ooe(t){return"_nghost-%COMP%".replace(A1,t)}(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let uoe=(()=>{class t extends ZB{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||t)(q(Ut))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})();const sU=["alt","control","meta","shift"],loe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},doe={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let hoe=(()=>{class t extends ZB{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>wo().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),sU.forEach(u=>{const l=r.indexOf(u);l>-1&&(r.splice(l,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const c={};return c.domEventName=i,c.fullKey=o,c}static matchEventFullKeyCode(n,r){let i=loe[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),sU.forEach(o=>{o!==i&&(0,doe[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||t)(q(Ut))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})();const aU=[{provide:Ss,useValue:zB},{provide:cF,useValue:function foe(){E1.makeCurrent()},multi:!0},{provide:Ut,useFactory:function goe(){return function ZQ(t){gw=t}(document),document},deps:[]}],moe=X3(jre,"browser",aU),_oe=new te(""),cU=[{provide:Vm,useClass:class Xse{addToWindow(e){st.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new L(5103,!1);return s},st.getAllAngularTestabilities=()=>e.getAllTestabilities(),st.getAllAngularRootElements=()=>e.getAllRootElements(),st.frameworkStabilizers||(st.frameworkStabilizers=[]),st.frameworkStabilizers.push(r=>{const i=st.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(c){o=o||c,s--,0==s&&r(o)};i.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?wo().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:K3,useClass:zI,deps:[Te,WI,Vm]},{provide:zI,useClass:zI,deps:[Te,WI,Vm]}],uU=[{provide:Ew,useValue:"root"},{provide:As,useFactory:function poe(){return new As},deps:[]},{provide:D1,useClass:uoe,multi:!0,deps:[Ut,Te,Ss]},{provide:D1,useClass:hoe,multi:!0,deps:[Ut]},nU,XB,JB,{provide:Vw,useExisting:nU},{provide:class Sse{},useClass:eoe,deps:[]},[]];let yoe=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:am,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||t)(q(_oe,12))};static#t=this.\u0275mod=De({type:t});static#n=this.\u0275inj=Ie({providers:[...uU,...cU],imports:[zu,$re]})}return t})(),lU=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(r){return new(r||t)(q(Ut))};static#t=this.\u0275prov=G({token:t,factory:function(r){let i=null;return i=r?new r:function boe(){return new lU(q(Ut))}(),i},providedIn:"root"})}return t})();typeof window<"u"&&window;let fU=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:function(r){let i=null;return i=r?new(r||t):q(pU),i},providedIn:"root"})}return t})(),pU=(()=>{class t extends fU{constructor(n){super(),this._doc=n}sanitize(n,r){if(null==r)return null;switch(n){case ri.NONE:return r;case ri.HTML:return Ki(r,"HTML")?Vr(r):Z2(this._doc,String(r)).toString();case ri.STYLE:return Ki(r,"Style")?Vr(r):r;case ri.SCRIPT:if(Ki(r,"Script"))return Vr(r);throw new L(5200,!1);case ri.URL:return Ki(r,"URL")?Vr(r):nm(String(r));case ri.RESOURCE_URL:if(Ki(r,"ResourceURL"))return Vr(r);throw new L(5201,!1);default:throw new L(5202,!1)}}bypassSecurityTrustHtml(n){return function sJ(t){return new XQ(t)}(n)}bypassSecurityTrustStyle(n){return function oJ(t){return new eJ(t)}(n)}bypassSecurityTrustScript(n){return function aJ(t){return new tJ(t)}(n)}bypassSecurityTrustUrl(n){return function cJ(t){return new nJ(t)}(n)}bypassSecurityTrustResourceUrl(n){return function uJ(t){return new rJ(t)}(n)}static#e=this.\u0275fac=function(r){return new(r||t)(q(Ut))};static#t=this.\u0275prov=G({token:t,factory:function(r){let i=null;return i=r?new r:function Eoe(t){return new pU(t.get(Ut))}(q(Yt)),i},providedIn:"root"})}return t})();const{isArray:Coe}=Array,{getPrototypeOf:Soe,prototype:Aoe,keys:xoe}=Object;function mU(t){if(1===t.length){const e=t[0];if(Coe(e))return{args:e,keys:null};if(function Noe(t){return t&&"object"==typeof t&&Soe(t)===Aoe}(e)){const n=xoe(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:Ooe}=Array;function M1(t){return Oe(e=>function Moe(t,e){return Ooe(e)?t(...e):t(e)}(t,e))}function _U(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function R1(...t){const e=_d(t),n=fg(t),{args:r,keys:i}=mU(t);if(0===r.length)return fn([],e);const s=new Ve(function Roe(t,e,n=fi){return r=>{yU(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let c=0;c<i;c++)yU(e,()=>{const u=fn(t[c],e);let l=!1;u.subscribe(it(r,d=>{s[c]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>_U(i,o):fi));return n?s.pipe(M1(n)):s}function yU(t,e,n){t?bs(n,t,e):e()}const r_=so(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Th(...t){return function koe(){return Wc(1)}()(fn(t,_d(t)))}function k1(t){return new Ve(e=>{tn(t()).subscribe(e)})}function Eh(t,e){const n=we(t)?t:()=>t,r=i=>i.error(n());return new Ve(e?i=>e.schedule(r,0,i):r)}function P1(){return It((t,e)=>{let n=null;t._refCount++;const r=it(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class vU extends Ve{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,gd(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Pt;const n=this.getSubject();e.add(this.source.subscribe(it(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Pt.EMPTY)}return e}refCount(){return P1()(this)}}function gn(t){return t<=0?()=>Xr:It((e,n)=>{let r=0;e.subscribe(it(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function mn(t,e){return It((n,r)=>{let i=0;n.subscribe(it(r,s=>t.call(e,s,i++)&&r.next(s)))})}function i_(t){return It((e,n)=>{let r=!1;e.subscribe(it(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function wU(t=Poe){return It((e,n)=>{let r=!1;e.subscribe(it(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Poe(){return new r_}function Oa(t,e){const n=arguments.length>=2;return r=>r.pipe(t?mn((i,s)=>t(i,s,r)):fi,gn(1),n?i_(e):wU(()=>new r_))}function Dh(t,e){return we(e)?nn(t,e,1):nn(t,1)}function an(t,e,n){const r=we(t)||e||n?{next:t,error:e,complete:n}:t;return r?It((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(it(s,c=>{var u;null===(u=r.next)||void 0===u||u.call(r,c),s.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),s.complete()},c=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,c),s.error(c)},()=>{var c,u;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):fi}function Ma(t){return It((e,n)=>{let s,r=null,i=!1;r=e.subscribe(it(n,void 0,void 0,o=>{s=tn(t(o,Ma(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function F1(t){return t<=0?()=>Xr:It((e,n)=>{let r=[];e.subscribe(it(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function L1(t){return Oe(()=>t)}function V1(t){return It((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function vt(t){return It((e,n)=>{tn(t).subscribe(it(n,()=>n.complete(),da)),!n.closed&&e.subscribe(n)})}const ve="primary",Ch=Symbol("RouteTitle");class Boe{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Wu(t){return new Boe(t)}function Uoe(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Xi(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!IU(t[i],e[i]))return!1;return!0}function IU(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function TU(t){return t.length>0?t[t.length-1]:null}function To(t){return function Doe(t){return!!t&&(t instanceof Ve||we(t.lift)&&we(t.subscribe))}(t)?t:sh(t)?fn(Promise.resolve(t)):ae(t)}const $oe={exact:function CU(t,e,n){if(!Ra(t.segments,e.segments)||!s_(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!CU(t.children[r],e.children[r],n))return!1;return!0},subset:SU},EU={exact:function Hoe(t,e){return Xi(t,e)},subset:function Goe(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>IU(t[n],e[n]))},ignored:()=>!0};function DU(t,e,n){return $oe[n.paths](t.root,e.root,n.matrixParams)&&EU[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function SU(t,e,n){return AU(t,e,e.segments,n)}function AU(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Ra(i,n)||e.hasChildren()||!s_(i,n,r))}if(t.segments.length===n.length){if(!Ra(t.segments,n)||!s_(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!SU(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(Ra(t.segments,i)&&s_(t.segments,i,r)&&t.children[ve])&&AU(t.children[ve],e,s,r)}}function s_(t,e,n){return e.every((r,i)=>EU[n](t[i].parameters,r.parameters))}class qu{constructor(e=new Xe([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wu(this.queryParams)),this._queryParamMap}toString(){return qoe.serialize(this)}}class Xe{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return o_(this)}}class Sh{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Wu(this.parameters)),this._parameterMap}toString(){return OU(this)}}function Ra(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Ah=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:function(){return new B1},providedIn:"root"})}return t})();class B1{parse(e){const n=new iae(e);return new qu(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${xh(e.root,!0)}`,r=function Qoe(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${a_(n)}=${a_(i)}`).join("&"):`${a_(n)}=${a_(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function Koe(t){return encodeURI(t)}(e.fragment)}`:""}`}}const qoe=new B1;function o_(t){return t.segments.map(e=>OU(e)).join("/")}function xh(t,e){if(!t.hasChildren())return o_(t);if(e){const n=t.children[ve]?xh(t.children[ve],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==ve&&r.push(`${i}:${xh(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function Woe(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ve&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ve&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===ve?[xh(t.children[ve],!1)]:[`${i}:${xh(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ve]?`${o_(t)}/${n[0]}`:`${o_(t)}/(${n.join("//")})`}}function xU(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function a_(t){return xU(t).replace(/%3B/gi,";")}function U1(t){return xU(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function c_(t){return decodeURIComponent(t)}function NU(t){return c_(t.replace(/\+/g,"%20"))}function OU(t){return`${U1(t.path)}${function Yoe(t){return Object.keys(t).map(e=>`;${U1(e)}=${U1(t[e])}`).join("")}(t.parameters)}`}const Joe=/^[^\/()?;#]+/;function j1(t){const e=t.match(Joe);return e?e[0]:""}const Zoe=/^[^\/()?;=#]+/,eae=/^[^=?&#]+/,nae=/^[^&#]+/;class iae{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Xe([],{}):new Xe([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ve]=new Xe(e,n)),r}parseSegment(){const e=j1(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new L(4009,!1);return this.capture(e),new Sh(c_(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function Xoe(t){const e=t.match(Zoe);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=j1(this.remaining);i&&(r=i,this.capture(r))}e[c_(n)]=c_(r)}parseQueryParam(e){const n=function tae(t){const e=t.match(eae);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function rae(t){const e=t.match(nae);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=NU(n),s=NU(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=j1(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new L(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ve);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[ve]:new Xe([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new L(4011,!1)}}function MU(t){return t.segments.length>0?new Xe([],{[ve]:t}):t}function RU(t){const e={};for(const r of Object.keys(t.children)){const s=RU(t.children[r]);if(r===ve&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function sae(t){if(1===t.numberOfChildren&&t.children[ve]){const e=t.children[ve];return new Xe(t.segments.concat(e.segments),e.children)}return t}(new Xe(t.segments,e))}function ka(t){return t instanceof qu}function kU(t){let e;const i=MU(function n(s){const o={};for(const c of s.children){const u=n(c);o[c.outlet]=u}const a=new Xe(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function PU(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return $1(i,i,i,n,r);const s=function aae(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new LU(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new LU(n,e,r)}(e);if(s.toRoot())return $1(i,i,new Xe([],{}),n,r);const o=function cae(t,e,n){if(t.isAbsolute)return new l_(e,!0,0);if(!n)return new l_(e,!1,NaN);if(null===n.parent)return new l_(n,!0,0);const r=u_(t.commands[0])?0:1;return function uae(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new L(4005,!1);i=r.segments.length}return new l_(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?Oh(o.segmentGroup,o.index,s.commands):VU(o.segmentGroup,o.index,s.commands);return $1(i,o.segmentGroup,a,n,r)}function u_(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Nh(t){return"object"==typeof t&&null!=t&&t.outlets}function $1(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`}),o=t===e?n:FU(t,e,n);const a=MU(RU(o));return new qu(a,s,i)}function FU(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:FU(s,e,n)}),new Xe(t.segments,r)}class LU{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&u_(r[0]))throw new L(4003,!1);const i=r.find(Nh);if(i&&i!==TU(r))throw new L(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class l_{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function VU(t,e,n){if(t||(t=new Xe([],{})),0===t.segments.length&&t.hasChildren())return Oh(t,e,n);const r=function dae(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(Nh(a))break;const c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===c)break;if(c&&u&&"object"==typeof u&&void 0===u.outlets){if(!UU(c,u,o))return s;r+=2}else{if(!UU(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new Xe(t.segments.slice(0,r.pathIndex),{});return s.children[ve]=new Xe(t.segments.slice(r.pathIndex),t.children),Oh(s,0,i)}return r.match&&0===i.length?new Xe(t.segments,{}):r.match&&!t.hasChildren()?H1(t,e,n):r.match?Oh(t,0,i):H1(t,e,n)}function Oh(t,e,n){if(0===n.length)return new Xe(t.segments,{});{const r=function lae(t){return Nh(t[0])?t[0].outlets:{[ve]:t}}(n),i={};if(Object.keys(r).some(s=>s!==ve)&&t.children[ve]&&1===t.numberOfChildren&&0===t.children[ve].segments.length){const s=Oh(t.children[ve],e,n);return new Xe(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=VU(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new Xe(t.segments,i)}}function H1(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Nh(s)){const c=hae(s.outlets);return new Xe(r,c)}if(0===i&&u_(n[0])){r.push(new Sh(t.segments[e].path,BU(n[0]))),i++;continue}const o=Nh(s)?s.outlets[ve]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&u_(a)?(r.push(new Sh(o,BU(a))),i+=2):(r.push(new Sh(o,{})),i++)}return new Xe(r,{})}function hae(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=H1(new Xe([],{}),0,r))}),e}function BU(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function UU(t,e,n){return t==n.path&&Xi(e,n.parameters)}const Mh="imperative";class es{constructor(e,n){this.id=e,this.url=n}}class d_ extends es{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Eo extends es{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Rh extends es{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ku extends es{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class h_ extends es{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class jU extends es{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fae extends es{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pae extends es{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class gae extends es{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mae extends es{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _ae{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class yae{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class vae{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bae{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wae{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Iae{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $U{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class G1{}class z1{constructor(e){this.url=e}}class Tae{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new kh,this.attachRef=null}}let kh=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Tae,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class HU{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=W1(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=W1(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=q1(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return q1(e,this._root).map(n=>n.value)}}function W1(t,e){if(t===e.value)return e;for(const n of e.children){const r=W1(t,n);if(r)return r}return null}function q1(t,e){if(t===e.value)return[e];for(const n of e.children){const r=q1(t,n);if(r.length)return r.unshift(e),r}return[]}class ks{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Yu(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class GU extends HU{constructor(e,n){super(e),this.snapshot=n,K1(this,e)}toString(){return this.snapshot.toString()}}function zU(t,e){const n=function Eae(t,e){const o=new f_([],{},{},"",{},ve,e,null,{});return new qU("",new ks(o,[]))}(0,e),r=new Rr([new Sh("",{})]),i=new Rr({}),s=new Rr({}),o=new Rr({}),a=new Rr(""),c=new Do(r,i,o,a,s,ve,e,n.root);return c.snapshot=n.root,new GU(new ks(c,[]),n)}class Do{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Oe(u=>u[Ch]))??ae(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Oe(e=>Wu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Oe(e=>Wu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function WU(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function Dae(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class f_{get title(){return this.data?.[Ch]}constructor(e,n,r,i,s,o,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Wu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class qU extends HU{constructor(e,n){super(n),this.url=e,K1(this,n)}toString(){return KU(this._root)}}function K1(t,e){e.value._routerState=t,e.children.forEach(n=>K1(t,n))}function KU(t){const e=t.children.length>0?` { ${t.children.map(KU).join(", ")} } `:"";return`${t.value}${e}`}function Y1(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Xi(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Xi(e.params,n.params)||t.paramsSubject.next(n.params),function joe(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Xi(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Xi(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Q1(t,e){const n=Xi(t.params,e.params)&&function zoe(t,e){return Ra(t,e)&&t.every((n,r)=>Xi(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||Q1(t.parent,e.parent))}let J1=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ve,this.activateEvents=new x,this.deactivateEvents=new x,this.attachEvents=new x,this.detachEvents=new x,this.parentContexts=z(kh),this.location=z(oi),this.changeDetector=z(Ei),this.environmentInjector=z(br),this.inputBinder=z(p_,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new L(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new L(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new L(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new L(4013,!1);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Cae(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=j({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[xn]})}return t})();class Cae{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Do?this.route:e===kh?this.childContexts:this.parent.get(e,n)}}const p_=new te("");let YU=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=R1([r.queryParams,r.params,r.data]).pipe(pi(([s,o,a],c)=>(a={...s,...o,...a},0===c?ae(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const o=function eie(t){const e=Me(t);if(!e)return null;const n=new Xd(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})();function Ph(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function Aae(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Ph(t,r,i);return Ph(t,r)})}(t,e,n);return new ks(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Ph(t,a)),o}}const r=function xae(t){return new Do(new Rr(t.url),new Rr(t.params),new Rr(t.queryParams),new Rr(t.fragment),new Rr(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>Ph(t,s));return new ks(r,i)}}const Z1="ngNavigationCancelingError";function QU(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=ka(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=JU(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function JU(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[Z1]=!0,r.cancellationCode=e,n&&(r.url=n),r}function ZU(t){return t&&t[Z1]}let XU=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=_t({type:t,selectors:[["ng-component"]],standalone:!0,features:[$r],decls:1,vars:0,template:function(r,i){1&r&&Y(0,"router-outlet")},dependencies:[J1],encapsulation:2})}return t})();function X1(t){const e=t.children&&t.children.map(X1),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ve&&(n.component=XU),n}function xi(t){return t.outlet||ve}function Fh(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class Lae{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Y1(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Yu(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Yu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Yu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=Yu(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Iae(s.value.snapshot))}),e.children.length&&this.forwardEvent(new bae(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(Y1(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Y1(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Fh(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class e4{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class g_{constructor(e,n){this.component=e,this.route=n}}function Vae(t,e,n){const r=t._root;return Lh(r,e?e._root:null,n,[r.value])}function Qu(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function mK(t){return null!==yg(t)}(t)?e.get(t):t:r}function Lh(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Yu(e);return t.children.forEach(o=>{(function Uae(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const c=function jae(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Ra(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ra(t.url,e.url)||!Xi(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Q1(t,e)||!Xi(t.queryParams,e.queryParams);default:return!Q1(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new e4(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Lh(t,e,s.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new g_(a.outlet.component,o))}else o&&Vh(e,a,i),i.canActivateChecks.push(new e4(r)),Lh(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Vh(a,n.getContext(o),i)),i}function Vh(t,e,n){const r=Yu(t),i=t.value;Object.entries(r).forEach(([s,o])=>{Vh(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new g_(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Bh(t){return"function"==typeof t}function t4(t){return t instanceof r_||"EmptyError"===t?.name}const m_=Symbol("INITIAL_VALUE");function Ju(){return pi(t=>R1(t.map(e=>e.pipe(gn(1),function bU(...t){const e=_d(t);return It((n,r)=>{(e?Th(t,n,e):Th(t,n)).subscribe(r)})}(m_)))).pipe(Oe(e=>{for(const n of e)if(!0!==n){if(n===m_)return m_;if(!1===n||n instanceof qu)return n}return!0}),mn(e=>e!==m_),gn(1)))}function n4(t){return function og(...t){return ag(t)}(an(e=>{if(ka(e))throw QU(0,e)}),Oe(e=>!0===e))}class __{constructor(e){this.segmentGroup=e||null}}class r4{constructor(e){this.urlTree=e}}function Zu(t){return Eh(new __(t))}function i4(t){return Eh(new r4(t))}class ace{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new L(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ae(r);if(i.numberOfChildren>1||!i.children[ve])return Eh(new L(4e3,!1));i=i.children[ve]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new qu(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new Xe(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new L(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const eT={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function cce(t,e,n,r,i){const s=tT(t,e,n);return s.matched?(r=function Oae(t,e){return t.providers&&!t._injector&&(t._injector=CI(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function ice(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?ae(i.map(o=>{const a=Qu(o,t);return To(function qae(t){return t&&Bh(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(Ju(),n4()):ae(!0)}(r,e,n).pipe(Oe(o=>!0===o?s:{...eT}))):ae(s)}function tT(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...eT}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Uoe)(n,t,e);if(!i)return{...eT};const s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function s4(t,e,n,r){return n.length>0&&function dce(t,e,n){return n.some(r=>y_(t,e,r)&&xi(r)!==ve)}(t,n,r)?{segmentGroup:new Xe(e,lce(r,new Xe(n,t.children))),slicedSegments:[]}:0===n.length&&function hce(t,e,n){return n.some(r=>y_(t,e,r))}(t,n,r)?{segmentGroup:new Xe(t.segments,uce(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Xe(t.segments,t.children),slicedSegments:n}}function uce(t,e,n,r,i){const s={};for(const o of r)if(y_(t,n,o)&&!i[xi(o)]){const a=new Xe([],{});s[xi(o)]=a}return{...i,...s}}function lce(t,e){const n={};n[ve]=e;for(const r of t)if(""===r.path&&xi(r)!==ve){const i=new Xe([],{});n[xi(r)]=i}return n}function y_(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class mce{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new ace(this.urlSerializer,this.urlTree)}noMatchError(e){return new L(4002,!1)}recognize(){const e=s4(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ve).pipe(Ma(n=>{if(n instanceof r4)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof __?this.noMatchError(n):n}),Oe(n=>{const r=new f_([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ve,this.rootComponentType,null,{}),i=new ks(r,n),s=new qU("",i),o=function oae(t,e,n=null,r=null){return PU(kU(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,ve).pipe(Ma(r=>{throw r instanceof __?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=WU(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return fn(i).pipe(Dh(s=>{const o=r.children[s],a=function Pae(t,e){const n=t.filter(r=>xi(r)===e);return n.push(...t.filter(r=>xi(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),function Loe(t,e){return It(function Foe(t,e,n,r,i){return(s,o)=>{let a=n,c=e,u=0;s.subscribe(it(o,l=>{const d=u++;c=a?t(c,l,d):(a=!0,l),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}(t,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),i_(null),function Voe(t,e){const n=arguments.length>=2;return r=>r.pipe(t?mn((i,s)=>t(i,s,r)):fi,F1(1),n?i_(e):wU(()=>new r_))}(),nn(s=>{if(null===s)return Zu(r);const o=o4(s);return function _ce(t){t.sort((e,n)=>e.value.outlet===ve?-1:n.value.outlet===ve?1:e.value.outlet.localeCompare(n.value.outlet))}(o),ae(o)}))}processSegment(e,n,r,i,s,o){return fn(n).pipe(Dh(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(Ma(c=>{if(c instanceof __)return ae(null);throw c}))),Oa(a=>!!a),Ma(a=>{if(t4(a))return function pce(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?ae([]):Zu(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function fce(t,e,n,r){return!!(xi(t)===r||r!==ve&&y_(e,n,t))&&("**"===t.path||tT(e,t,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Zu(i):Zu(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?i4(s):this.applyRedirects.lineralizeSegments(r,s).pipe(nn(o=>{const a=new Xe(o,{});return this.processSegment(e,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:c,remainingSegments:u,positionalParamSegments:l}=tT(n,i,s);if(!a)return Zu(n);const d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,l);return i.redirectTo.startsWith("/")?i4(d):this.applyRedirects.lineralizeSegments(i,d).pipe(nn(h=>this.processSegment(e,r,n,h.concat(u),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a;if("**"===r.path){const c=i.length>0?TU(i).parameters:{};a=ae({snapshot:new f_(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,a4(r),xi(r),r.component??r._loadedComponent??null,r,c4(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=cce(n,r,i,e).pipe(Oe(({matched:c,consumedSegments:u,remainingSegments:l,parameters:d})=>c?{snapshot:new f_(u,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,a4(r),xi(r),r.component??r._loadedComponent??null,r,c4(r)),consumedSegments:u,remainingSegments:l}:null));return a.pipe(pi(c=>null===c?Zu(n):this.getChildConfig(e=r._injector??e,r,i).pipe(pi(({routes:u})=>{const l=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=c,{segmentGroup:g,slicedSegments:m}=s4(n,h,f,u);if(0===m.length&&g.hasChildren())return this.processChildren(l,u,g).pipe(Oe(w=>null===w?null:[new ks(d,w)]));if(0===u.length&&0===m.length)return ae([new ks(d,[])]);const _=xi(r)===s;return this.processSegment(l,u,g,m,_?ve:s,!0).pipe(Oe(w=>[new ks(d,w)]))}))))}getChildConfig(e,n,r){return n.children?ae({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?ae({routes:n._loadedRoutes,injector:n._loadedInjector}):function rce(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?ae(!0):ae(i.map(o=>{const a=Qu(o,t);return To(function Hae(t){return t&&Bh(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(Ju(),n4())}(e,n,r).pipe(nn(i=>i?this.configLoader.loadChildren(e,n).pipe(an(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function oce(t){return Eh(JU(!1,3))}())):ae({routes:[],injector:e})}}function yce(t){const e=t.value.routeConfig;return e&&""===e.path}function o4(t){const e=[],n=new Set;for(const r of t){if(!yce(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=o4(r.children);e.push(new ks(r.value,i))}return e.filter(r=>!n.has(r))}function a4(t){return t.data||{}}function c4(t){return t.resolve||{}}function u4(t){return"string"==typeof t.title||null===t.title}function nT(t){return pi(e=>{const n=t(e);return n?fn(n).pipe(Oe(()=>e)):ae(e)})}const Xu=new te("ROUTES");let rT=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=z(G3)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return ae(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=To(n.loadComponent()).pipe(Oe(l4),an(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),V1(()=>{this.componentLoaders.delete(n)})),i=new vU(r,()=>new Be).pipe(P1());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ae({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function Dce(t,e,n,r){return To(t.loadChildren()).pipe(Oe(l4),nn(i=>i instanceof JV||Array.isArray(i)?ae(i):fn(e.compileModuleAsync(i))),Oe(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(n).injector,o=s.get(Xu,[],{optional:!0,self:!0}).flat()),{routes:o.map(X1),injector:s}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(V1(()=>{this.childrenLoaders.delete(r)})),o=new vU(s,()=>new Be).pipe(P1());return this.childrenLoaders.set(r,o),o}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function l4(t){return function Cce(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let v_=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Be,this.transitionAbortSubject=new Be,this.configLoader=z(rT),this.environmentInjector=z(br),this.urlSerializer=z(Ah),this.rootContexts=z(kh),this.inputBindingEnabled=null!==z(p_,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ae(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new yae(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new _ae(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new Rr({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:n.urlHandlingStrategy.extract(r),urlAfterRedirects:n.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Mh,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(mn(s=>0!==s.id),Oe(s=>({...s,extractedUrl:n.urlHandlingStrategy.extract(s.rawUrl)})),pi(s=>{this.currentTransition=s;let o=!1,a=!1;return ae(s).pipe(an(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),pi(c=>{const u=c.currentBrowserUrl.toString(),l=!n.navigated||c.extractedUrl.toString()!==u||u!==c.currentUrlTree.toString();if(!l&&"reload"!==(c.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const h="";return this.events.next(new Ku(c.id,this.urlSerializer.serialize(c.rawUrl),h,0)),c.resolve(null),Xr}if(n.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return ae(c).pipe(pi(h=>{const f=this.transitions?.getValue();return this.events.next(new d_(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?Xr:Promise.resolve(h)}),function vce(t,e,n,r,i,s){return nn(o=>function gce(t,e,n,r,i,s,o="emptyOnly"){return new mce(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(Oe(({state:a,tree:c})=>({...o,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),an(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const f=new jU(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(l&&n.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:h,extractedUrl:f,source:g,restoredState:m,extras:_}=c,w=new d_(h,this.urlSerializer.serialize(f),g,m);this.events.next(w);const y=zU(0,this.rootComponentType).snapshot;return this.currentTransition=s={...c,targetSnapshot:y,urlAfterRedirects:f,extras:{..._,skipLocationChange:!1,replaceUrl:!1}},ae(s)}{const h="";return this.events.next(new Ku(c.id,this.urlSerializer.serialize(c.extractedUrl),h,1)),c.resolve(null),Xr}}),an(c=>{const u=new fae(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Oe(c=>(this.currentTransition=s={...c,guards:Vae(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},s)),function Yae(t,e){return nn(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?ae({...n,guardsResult:!0}):function Qae(t,e,n,r){return fn(t).pipe(nn(i=>function nce(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?ae(s.map(a=>{const c=Fh(e)??i,u=Qu(a,c);return To(function Wae(t){return t&&Bh(t.canDeactivate)}(u)?u.canDeactivate(t,e,n,r):c.runInContext(()=>u(t,e,n,r))).pipe(Oa())})).pipe(Ju()):ae(!0)}(i.component,i.route,n,e,r)),Oa(i=>!0!==i,!0))}(o,r,i,t).pipe(nn(a=>a&&function $ae(t){return"boolean"==typeof t}(a)?function Jae(t,e,n,r){return fn(e).pipe(Dh(i=>Th(function Xae(t,e){return null!==t&&e&&e(new vae(t)),ae(!0)}(i.route.parent,r),function Zae(t,e){return null!==t&&e&&e(new wae(t)),ae(!0)}(i.route,r),function tce(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function Bae(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>k1(()=>ae(o.guards.map(c=>{const u=Fh(o.node)??n,l=Qu(c,u);return To(function zae(t){return t&&Bh(t.canActivateChild)}(l)?l.canActivateChild(r,t):u.runInContext(()=>l(r,t))).pipe(Oa())})).pipe(Ju())));return ae(s).pipe(Ju())}(t,i.path,n),function ece(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ae(!0);const i=r.map(s=>k1(()=>{const o=Fh(e)??n,a=Qu(s,o);return To(function Gae(t){return t&&Bh(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(Oa())}));return ae(i).pipe(Ju())}(t,i.route,n))),Oa(i=>!0!==i,!0))}(r,s,t,e):ae(a)),Oe(a=>({...n,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),an(c=>{if(s.guardsResult=c.guardsResult,ka(c.guardsResult))throw QU(0,c.guardsResult);const u=new pae(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),mn(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),nT(c=>{if(c.guards.canActivateChecks.length)return ae(c).pipe(an(u=>{const l=new gae(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),pi(u=>{let l=!1;return ae(u).pipe(function bce(t,e){return nn(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ae(n);let s=0;return fn(i).pipe(Dh(o=>function wce(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!u4(i)&&(s[Ch]=i.title),function Ice(t,e,n,r){const i=function Tce(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return ae({});const s={};return fn(i).pipe(nn(o=>function Ece(t,e,n,r){const i=Fh(e)??r,s=Qu(t,i);return To(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(Oa(),an(a=>{s[o]=a}))),F1(1),L1(s),Ma(o=>t4(o)?Xr:Eh(o)))}(s,t,e,r).pipe(Oe(o=>(t._resolvedData=o,t.data=WU(t,n).resolve,i&&u4(i)&&(t.data[Ch]=i.title),null)))}(o.route,r,t,e)),an(()=>s++),F1(1),nn(o=>s===i.length?ae(n):Xr))})}(n.paramsInheritanceStrategy,this.environmentInjector),an({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(u,"",2)}}))}),an(u=>{const l=new mae(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}))}),nT(c=>{const u=l=>{const d=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(l.routeConfig).pipe(an(h=>{l.component=h}),Oe(()=>{})));for(const h of l.children)d.push(...u(h));return d};return R1(u(c.targetSnapshot.root)).pipe(i_(),gn(1))}),nT(()=>this.afterPreactivation()),Oe(c=>{const u=function Sae(t,e,n){const r=Ph(t,e._root,n?n._root:void 0);return new GU(r,e)}(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s={...c,targetRouterState:u},s}),an(()=>{this.events.next(new G1)}),((t,e,n,r)=>Oe(i=>(new Lae(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),gn(1),an({next:c=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Eo(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),n.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{o=!0}}),vt(this.transitionAbortSubject.pipe(an(c=>{throw c}))),V1(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),Ma(c=>{if(a=!0,ZU(c))this.events.next(new Rh(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),function Nae(t){return ZU(t)&&ka(t.url)}(c)?this.events.next(new z1(c.url)):s.resolve(!1);else{this.events.next(new h_(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(c))}catch(u){s.reject(u)}}return Xr}))}))}cancelNavigationTransition(n,r,i){const s=new Rh(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function d4(t){return t!==Mh}let h4=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ve);return r}getResolvedTitleForRoute(n){return n.data[Ch]}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:function(){return z(Sce)},providedIn:"root"})}return t})(),Sce=(()=>{class t extends h4{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||t)(q(lU))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ace=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:function(){return z(Nce)},providedIn:"root"})}return t})();class xce{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let Nce=(()=>{class t extends xce{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Bt(t)))(i||t)}}();static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const b_=new te("",{providedIn:"root",factory:()=>({})});let Oce=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:function(){return z(Mce)},providedIn:"root"})}return t})(),Mce=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Uh=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Uh||{});function f4(t,e){t.events.pipe(mn(n=>n instanceof Eo||n instanceof Rh||n instanceof h_||n instanceof Ku),Oe(n=>n instanceof Eo||n instanceof Ku?Uh.COMPLETE:n instanceof Rh&&(0===n.code||1===n.code)?Uh.REDIRECTING:Uh.FAILED),mn(n=>n!==Uh.REDIRECTING),gn(1)).subscribe(()=>{e()})}function Rce(t){throw t}function kce(t,e,n){return e.parse("/")}const Pce={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Fce={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let On=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=z($3),this.isNgZoneEnabled=!1,this._events=new Be,this.options=z(b_,{optional:!0})||{},this.pendingTasks=z(H3),this.errorHandler=this.options.errorHandler||Rce,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||kce,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=z(Oce),this.routeReuseStrategy=z(Ace),this.titleStrategy=z(h4),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=z(Xu,{optional:!0})?.flat()??[],this.navigationTransitions=z(v_),this.urlSerializer=z(Ah),this.location=z(o1),this.componentInputBindingEnabled=!!z(p_,{optional:!0}),this.eventsSubscription=new Pt,this.isNgZoneEnabled=z(Te)instanceof Te&&Te.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new qu,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=zU(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(p4(r)&&this._events.next(r));if(r instanceof d_)d4(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof Ku)this.rawUrlTree=i.rawUrl;else if(r instanceof jU){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(s,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof G1)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof Rh)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof z1){const s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),o={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||d4(i.source)};this.scheduleNavigation(s,Mh,null,o,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof h_&&this.restoreHistory(i,!0),r instanceof Eo&&(this.navigated=!0),p4(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Mh,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const c={...i};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(s.state=c)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(X1),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:o;let d,l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...s};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null}null!==l&&(l=this.removeEmptyProps(l));try{d=kU(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return PU(d,n,l,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=ka(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Mh,null,r)}navigate(n,r={skipLocationChange:!1}){return function Lce(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new L(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...Pce}:!1===r?{...Fce}:r,ka(n))return DU(this.currentUrlTree,n,i);const s=this.parseUrl(n);return DU(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,c,u;o?(a=o.resolve,c=o.reject,u=o.promise):u=new Promise((d,h)=>{a=d,c=h});const l=this.pendingTasks.add();return f4(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:s,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function p4(t){return!(t instanceof G1||t instanceof z1)}let Ps=(()=>{class t{constructor(n,r,i,s,o,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new Be,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const c=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=n.events.subscribe(u=>{u instanceof Eo&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function X2(t,e,n){return function EJ(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?bw:Gd}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,n,r):i.removeAttribute(s,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||t)(v(On),v(Do),function va(t){return function UY(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(qk(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(Nn(),t)}("tabindex"),v(Br),v($e),v(Na))};static#t=this.\u0275dir=j({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&pe("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&r&&qe("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",$u],skipLocationChange:["skipLocationChange","skipLocationChange",$u],replaceUrl:["replaceUrl","replaceUrl",$u],routerLink:"routerLink"},standalone:!0,features:[hL,xn]})}return t})();class g4{}let Uce=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(mn(n=>n instanceof Eo),Dh(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=CI(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return fn(i).pipe(Wc())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):ae(null);const s=i.pipe(nn(o=>null===o?ae(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?fn([s,this.loader.loadComponent(r)]).pipe(Wc()):s})}static#e=this.\u0275fac=function(r){return new(r||t)(q(On),q(G3),q(br),q(g4),q(rT))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const iT=new te("");let m4=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof d_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Eo?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Ku&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof $U&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new $U(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function BF(){throw new Error("invalid")}()};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})();function Fs(t,e){return{\u0275kind:t,\u0275providers:e}}function y4(){const t=z(Yt);return e=>{const n=t.get(bo);if(e!==n.components[0])return;const r=t.get(On),i=t.get(v4);1===t.get(sT)&&r.initialNavigation(),t.get(b4,null,Ce.Optional)?.setUpPreloading(),t.get(iT,null,Ce.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const v4=new te("",{factory:()=>new Be}),sT=new te("",{providedIn:"root",factory:()=>1}),b4=new te("");function Gce(t){return Fs(0,[{provide:b4,useExisting:Uce},{provide:g4,useExisting:t}])}const w4=new te("ROUTER_FORROOT_GUARD"),Wce=[o1,{provide:Ah,useClass:B1},On,kh,{provide:Do,useFactory:function _4(t){return t.routerState.root},deps:[On]},rT,[]];function qce(){return new J3("Router",On)}let el=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[Wce,[],{provide:Xu,multi:!0,useValue:n},{provide:w4,useFactory:Jce,deps:[[On,new yr,new jg]]},{provide:b_,useValue:r||{}},r?.useHash?{provide:Na,useClass:sie}:{provide:Na,useClass:SB},{provide:iT,useFactory:()=>{const t=z(Ese),e=z(Te),n=z(b_),r=z(v_),i=z(Ah);return n.scrollOffset&&t.setOffset(n.scrollOffset),new m4(i,r,t,e,n)}},r?.preloadingStrategy?Gce(r.preloadingStrategy).\u0275providers:[],{provide:J3,multi:!0,useFactory:qce},r?.initialNavigation?Zce(r):[],r?.bindToComponentInputs?Fs(8,[YU,{provide:p_,useExisting:YU}]).\u0275providers:[],[{provide:I4,useFactory:y4},{provide:YI,multi:!0,useExisting:I4}]]}}static forChild(n){return{ngModule:t,providers:[{provide:Xu,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||t)(q(w4,8))};static#t=this.\u0275mod=De({type:t});static#n=this.\u0275inj=Ie({})}return t})();function Jce(t){return"guarded"}function Zce(t){return["disabled"===t.initialNavigation?Fs(3,[{provide:jI,multi:!0,useFactory:()=>{const e=z(On);return()=>{e.setUpLocationChangeListener()}}},{provide:sT,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Fs(2,[{provide:sT,useValue:0},{provide:jI,multi:!0,deps:[Yt],useFactory:e=>{const n=e.get(rie,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(On),s=e.get(v4);f4(i,()=>{r(!0)}),e.get(v_).afterPreactivation=()=>(r(!0),s.closed?ae(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const I4=new te("");function T4(t,e,n,r,i,s,o){try{var a=t[s](o),c=a.value}catch(u){return void n(u)}a.done?e(c):Promise.resolve(c).then(r,i)}function p(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(c){T4(s,r,i,o,a,"next",c)}function a(c){T4(s,r,i,o,a,"throw",c)}o(void 0)})}}let E4=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static#e=this.\u0275fac=function(r){return new(r||t)(v(Br),v($e))};static#t=this.\u0275dir=j({type:t})}return t})(),Pa=(()=>{class t extends E4{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Bt(t)))(i||t)}}();static#t=this.\u0275dir=j({type:t,features:[He]})}return t})();const Gr=new te("NgValueAccessor"),nue={provide:Gr,useExisting:Ee(()=>tl),multi:!0},iue=new te("CompositionEventMode");let tl=(()=>{class t extends E4{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function rue(){const t=wo()?wo().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static#e=this.\u0275fac=function(r){return new(r||t)(v(Br),v($e),v(iue,8))};static#t=this.\u0275dir=j({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&pe("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[nt([nue]),He]})}return t})();function Co(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function C4(t){return null!=t&&"number"==typeof t.length}const Mn=new te("NgValidators"),So=new te("NgAsyncValidators"),sue=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Nt{static min(e){return function S4(t){return e=>{if(Co(e.value)||Co(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(e)}static max(e){return function A4(t){return e=>{if(Co(e.value)||Co(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(e)}static required(e){return function x4(t){return Co(t.value)?{required:!0}:null}(e)}static requiredTrue(e){return function N4(t){return!0===t.value?null:{required:!0}}(e)}static email(e){return function O4(t){return Co(t.value)||sue.test(t.value)?null:{email:!0}}(e)}static minLength(e){return function M4(t){return e=>Co(e.value)||!C4(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function R4(t){return e=>C4(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static pattern(e){return function k4(t){if(!t)return w_;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Co(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return U4(e)}static composeAsync(e){return j4(e)}}function w_(t){return null}function P4(t){return null!=t}function F4(t){return sh(t)?fn(t):t}function L4(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function V4(t,e){return e.map(n=>n(t))}function B4(t){return t.map(e=>function oue(t){return!t.validate}(e)?e:n=>e.validate(n))}function U4(t){if(!t)return null;const e=t.filter(P4);return 0==e.length?null:function(n){return L4(V4(n,e))}}function oT(t){return null!=t?U4(B4(t)):null}function j4(t){if(!t)return null;const e=t.filter(P4);return 0==e.length?null:function(n){return function eue(...t){const e=fg(t),{args:n,keys:r}=mU(t),i=new Ve(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let c=o,u=o;for(let l=0;l<o;l++){let d=!1;tn(n[l]).subscribe(it(s,h=>{d||(d=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!d)&&(u||s.next(r?_U(r,a):a),s.complete())}))}});return e?i.pipe(M1(e)):i}(V4(n,e).map(F4)).pipe(Oe(L4))}}function aT(t){return null!=t?j4(B4(t)):null}function $4(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function H4(t){return t._rawValidators}function G4(t){return t._rawAsyncValidators}function cT(t){return t?Array.isArray(t)?t:[t]:[]}function I_(t,e){return Array.isArray(t)?t.includes(e):t===e}function z4(t,e){const n=cT(e);return cT(t).forEach(i=>{I_(n,i)||n.push(i)}),n}function W4(t,e){return cT(e).filter(n=>!I_(t,n))}class q4{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=oT(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=aT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class ar extends q4{get formDirective(){return null}get path(){return null}}class Ao extends q4{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class K4{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let T_=(()=>{class t extends K4{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(v(Ao,2))};static#t=this.\u0275dir=j({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&je("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[He]})}return t})(),E_=(()=>{class t extends K4{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(v(ar,10))};static#t=this.\u0275dir=j({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&je("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[He]})}return t})();const jh="VALID",C_="INVALID",nl="PENDING",$h="DISABLED";function dT(t){return(S_(t)?t.validators:t)||null}function hT(t,e){return(S_(e)?e.asyncValidators:t)||null}function S_(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function Q4(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new L(1e3,"");if(!r[n])throw new L(1001,"")}function J4(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new L(1002,"")})}class A_{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===jh}get invalid(){return this.status===C_}get pending(){return this.status==nl}get disabled(){return this.status===$h}get enabled(){return this.status!==$h}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(z4(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(z4(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(W4(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(W4(e,this._rawAsyncValidators))}hasValidator(e){return I_(this._rawValidators,e)}hasAsyncValidator(e){return I_(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=nl,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=$h,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=jh,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===jh||this.status===nl)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?$h:jh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=nl,this._hasOwnPendingAsyncValidator=!0;const n=F4(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new x,this.statusChanges=new x}_calculateStatus(){return this._allControlsDisabled()?$h:this.errors?C_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(nl)?nl:this._anyControlsHaveStatus(C_)?C_:jh}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){S_(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function lue(t){return Array.isArray(t)?oT(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function due(t){return Array.isArray(t)?aT(t):t||null}(this._rawAsyncValidators)}}class Hh extends A_{constructor(e,n,r){super(dT(n),hT(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){J4(this,0,e),Object.keys(e).forEach(r=>{Q4(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class Z4 extends Hh{}const Fa=new te("CallSetDisabledState",{providedIn:"root",factory:()=>Gh}),Gh="always";function x_(t,e){return[...e.path,t]}function zh(t,e,n=Gh){fT(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function fue(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&X4(t,e)})}(t,e),function gue(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function pue(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&X4(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function hue(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function N_(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),M_(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function O_(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function fT(t,e){const n=H4(t);null!==e.validator?t.setValidators($4(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=G4(t);null!==e.asyncValidator?t.setAsyncValidators($4(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();O_(e._rawValidators,i),O_(e._rawAsyncValidators,i)}function M_(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=H4(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(null!==e.asyncValidator){const i=G4(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}const r=()=>{};return O_(e._rawValidators,r),O_(e._rawAsyncValidators,r),n}function X4(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function nj(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function rj(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const qh=class extends A_{constructor(e=null,n,r){super(dT(n),hT(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),S_(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=rj(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){nj(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){nj(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){rj(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let ij=(()=>{class t extends ar{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return x_(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Bt(t)))(i||t)}}();static#t=this.\u0275dir=j({type:t,features:[He]})}return t})(),R_=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=j({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return t})();const Eue={provide:Gr,useExisting:Ee(()=>yT),multi:!0};let yT=(()=>{class t extends Pa{writeValue(n){this.setProperty("value",n??"")}registerOnChange(n){this.onChange=r=>{n(""==r?null:parseFloat(r))}}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Bt(t)))(i||t)}}();static#t=this.\u0275dir=j({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){1&r&&pe("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[nt([Eue]),He]})}return t})(),cj=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=De({type:t});static#n=this.\u0275inj=Ie({})}return t})();const vT=new te("NgModelWithFormControlWarning"),xue={provide:ar,useExisting:Ee(()=>rl)};let rl=(()=>{class t extends ar{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new x,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(M_(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return zh(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){N_(n.control||null,n,!1),function vue(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,function tj(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&(N_(r||null,n),(t=>t instanceof qh)(i)&&(zh(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);(function ej(t,e){fT(t,e)})(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function mue(t,e){return M_(t,e)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){fT(this.form,this),this._oldForm&&M_(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(r){return new(r||t)(v(Mn,10),v(So,10),v(Fa,8))};static#t=this.\u0275dir=j({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&pe("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[nt([xue]),He,xn]})}return t})();const Nue={provide:ar,useExisting:Ee(()=>k_)};let k_=(()=>{class t extends ij{constructor(n,r,i){super(),this.name=null,this._parent=n,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){hj(this._parent)}static#e=this.\u0275fac=function(r){return new(r||t)(v(ar,13),v(Mn,10),v(So,10))};static#t=this.\u0275dir=j({type:t,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[nt([Nue]),He]})}return t})();const Oue={provide:ar,useExisting:Ee(()=>P_)};let P_=(()=>{class t extends ar{constructor(n,r,i){super(),this.name=null,this._parent=n,this._setValidators(r),this._setAsyncValidators(i)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return x_(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){hj(this._parent)}static#e=this.\u0275fac=function(r){return new(r||t)(v(ar,13),v(Mn,10),v(So,10))};static#t=this.\u0275dir=j({type:t,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[nt([Oue]),He]})}return t})();function hj(t){return!(t instanceof k_||t instanceof rl||t instanceof P_)}const Mue={provide:Ao,useExisting:Ee(()=>Kh)};let Kh=(()=>{class t extends Ao{set isDisabled(n){}static#e=this._ngModelWarningSentOnce=!1;constructor(n,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new x,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function mT(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===tl?n=s:function yue(t){return Object.getPrototypeOf(t.constructor)===Pa}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){this._added||this._setUpControl(),function gT(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return x_(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(r){return new(r||t)(v(ar,13),v(Mn,10),v(So,10),v(Gr,10),v(vT,8))};static#n=this.\u0275dir=j({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[nt([Mue]),He,xn]})}return t})();const Rue={provide:Gr,useExisting:Ee(()=>F_),multi:!0};function fj(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let F_=(()=>{class t extends Pa{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const i=fj(this._getOptionId(n),n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function kue(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Bt(t)))(i||t)}}();static#t=this.\u0275dir=j({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&pe("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[nt([Rue]),He]})}return t})(),pj=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(fj(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||t)(v($e),v(Br),v(F_,9))};static#t=this.\u0275dir=j({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return t})();const Pue={provide:Gr,useExisting:Ee(()=>bT),multi:!0};function gj(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let bT=(()=>{class t extends Pa{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let r;if(this.value=n,Array.isArray(n)){const i=n.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const u=this._getOptionValue(o[a].value);i.push(u)}}else{const o=r.options;for(let a=0;a<o.length;a++){const c=o[a];if(c.selected){const u=this._getOptionValue(c.value);i.push(u)}}}this.value=i,n(i)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function Fue(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Bt(t)))(i||t)}}();static#t=this.\u0275dir=j({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&pe("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[nt([Pue]),He]})}return t})(),mj=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(gj(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(gj(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||t)(v($e),v(Br),v(bT,9))};static#t=this.\u0275dir=j({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return t})(),Cj=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=De({type:t});static#n=this.\u0275inj=Ie({imports:[cj]})}return t})();class Sj extends A_{constructor(e,n,r){super(dT(n),hT(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){J4(this,0,e),e.forEach((r,i)=>{Q4(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function Aj(t){return!!t&&(void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn)}let IT=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){const n=new t;return n.useNonNullable=!0,n}group(n,r=null){const i=this._reduceControls(n);let s={};return Aj(r)?s=r:null!==r&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new Hh(i,s)}record(n,r=null){const i=this._reduceControls(n);return new Z4(i,r)}control(n,r,i){let s={};return this.useNonNullable?(Aj(r)?s=r:(s.validators=r,s.asyncValidators=i),new qh(n,{...s,nonNullable:!0})):new qh(n,r,i)}array(n,r,i){const s=n.map(o=>this._createControl(o));return new Sj(s,r,i)}_reduceControls(n){const r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){return n instanceof qh||n instanceof A_?n:Array.isArray(n)?this.control(n[0],n.length>1?n[1]:null,n.length>2?n[2]:null):this.control(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),xj=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Fa,useValue:n.callSetDisabledState??Gh}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=De({type:t});static#n=this.\u0275inj=Ie({imports:[Cj]})}return t})(),Nj=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:vT,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Fa,useValue:n.callSetDisabledState??Gh}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=De({type:t});static#n=this.\u0275inj=Ie({imports:[Cj]})}return t})();const Oj=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},Mj={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0;let h=(15&a)<<2|u>>6,f=63&u;c||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Oj(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const c=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(1023&c))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==u||null==d)throw new Kue;r.push(s<<2|a>>4),64!==u&&(r.push(a<<4&240|u>>2),64!==d&&r.push(u<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Kue extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const L_=function(t){return function(t){const e=Oj(t);return Mj.encodeByteArray(e,!0)}(t).replace(/\./g,"")},V_=function(t){try{return Mj.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},B_=()=>{try{return function Jue(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&V_(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},Pj=()=>{var t;return null===(t=B_())||void 0===t?void 0:t.config},Fj=t=>{var e;return null===(e=B_())||void 0===e?void 0:e[`_${t}`]};class Lj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function _n(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class xo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,xo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yh.prototype.create)}}class Yh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function ule(t,e){return t.replace(lle,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new xo(i,`${this.serviceName}: ${o} (${i}).`,r)}}const lle=/\{\$([^}]+)}/g;function j_(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Bj(s)&&Bj(o)){if(!j_(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Bj(t){return null!==t&&"object"==typeof t}function $_(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Qh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Jh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class fle{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function ple(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=ET),void 0===i.error&&(i.error=ET),void 0===i.complete&&(i.complete=ET);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ET(){}function No(t){return t&&t._delegate?t._delegate:t}class il{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Va="[DEFAULT]";class ble{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Lj;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Ile(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Va})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Va){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return p(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Va){return this.instances.has(e)}getOptions(e=Va){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Va?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=Va){return this.component?this.component.multipleInstances?e:Va:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Tle{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ble(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const CT=[];var xe=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(xe||{});const Uj={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},Ele=xe.INFO,Dle={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},Cle=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=Dle[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Oo{constructor(e){this.name=e,this._logLevel=Ele,this._logHandler=Cle,this._userLogHandler=null,CT.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Uj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const Sle=(t,e)=>e.some(n=>t instanceof n);let jj,$j;const Hj=new WeakMap,ST=new WeakMap,Gj=new WeakMap,AT=new WeakMap,xT=new WeakMap;let NT={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return ST.get(t);if("objectStoreNames"===e)return t.objectStoreNames||Gj.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mo(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function kle(t){return"function"==typeof t?function Rle(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function xle(){return $j||($j=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(OT(this),e),Mo(Hj.get(this))}:function(...e){return Mo(t.apply(OT(this),e))}:function(e,...n){const r=t.call(OT(this),e,...n);return Gj.set(r,e.sort?e.sort():[e]),Mo(r)}}(t):(t instanceof IDBTransaction&&function Ole(t){if(ST.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});ST.set(t,e)}(t),Sle(t,function Ale(){return jj||(jj=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,NT):t)}function Mo(t){if(t instanceof IDBRequest)return function Nle(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Mo(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Hj.set(n,t)}).catch(()=>{}),xT.set(e,t),e}(t);if(AT.has(t))return AT.get(t);const e=kle(t);return e!==t&&(AT.set(t,e),xT.set(e,t)),e}const OT=t=>xT.get(t);function zj(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Mo(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Mo(o.result),c.oldVersion,c.newVersion,Mo(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const Ple=["get","getKey","getAll","getAllKeys","count"],Fle=["put","add","delete","clear"],MT=new Map;function Wj(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(MT.get(e))return MT.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Fle.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Ple.includes(n))return;const s=function(){var o=p(function*(a,...c){const u=this.transaction(a,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]});return function(c){return o.apply(this,arguments)}}();return MT.set(e,s),s}!function Mle(t){NT=t(NT)}(t=>({...t,get:(e,n,r)=>Wj(e,n)||t.get(e,n,r),has:(e,n)=>!!Wj(e,n)||t.has(e,n)}));class Lle{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function Vle(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const RT="@firebase/app",Ba=new Oo("@firebase/app"),H_="[DEFAULT]",lde={[RT]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ua=new Map,G_=new Map;function dde(t,e){try{t.container.addComponent(e)}catch(n){Ba.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Zh(t){const e=t.name;if(G_.has(e))return Ba.debug(`There were multiple attempts to register component ${e}.`),!1;G_.set(e,t);for(const n of Ua.values())dde(n,t);return!0}function kT(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Ls=new Yh("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class fde{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new il("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ls.create("app-deleted",{appName:this._name})}}const Xh="10.8.1";function Kj(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:H_,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Ls.create("bad-app-name",{appName:String(i)});if(n||(n=Pj()),!n)throw Ls.create("no-options");const s=Ua.get(i);if(s){if(j_(n,s.options)&&j_(r,s.config))return s;throw Ls.create("duplicate-app",{appName:i})}const o=new Tle(i);for(const c of G_.values())o.addComponent(c);const a=new fde(n,r,o);return Ua.set(i,a),a}function sl(t,e,n){var r;let i=null!==(r=lde[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Ba.warn(a.join(" "))}Zh(new il(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const gde="firebase-heartbeat-database",mde=1,ef="firebase-heartbeat-store";let FT=null;function Yj(){return FT||(FT=zj(gde,mde,{upgrade:(t,e)=>{if(0===e)try{t.createObjectStore(ef)}catch(n){console.warn(n)}}}).catch(t=>{throw Ls.create("idb-open",{originalErrorMessage:t.message})})),FT}function LT(){return(LT=p(function*(t){try{const n=(yield Yj()).transaction(ef),r=yield n.objectStore(ef).get(Jj(t));return yield n.done,r}catch(e){if(e instanceof xo)Ba.warn(e.message);else{const n=Ls.create("idb-get",{originalErrorMessage:e?.message});Ba.warn(n.message)}}})).apply(this,arguments)}function Qj(t,e){return VT.apply(this,arguments)}function VT(){return(VT=p(function*(t,e){try{const r=(yield Yj()).transaction(ef,"readwrite");yield r.objectStore(ef).put(e,Jj(t)),yield r.done}catch(n){if(n instanceof xo)Ba.warn(n.message);else{const r=Ls.create("idb-set",{originalErrorMessage:n?.message});Ba.warn(r.message)}}})).apply(this,arguments)}function Jj(t){return`${t.name}!${t.options.appId}`}class bde{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Ide(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return p(function*(){var n,r;const s=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Zj();if((null!=(null===(n=e._heartbeatsCache)||void 0===n?void 0:n.heartbeats)||(e._heartbeatsCache=yield e._heartbeatsCachePromise,null!=(null===(r=e._heartbeatsCache)||void 0===r?void 0:r.heartbeats)))&&e._heartbeatsCache.lastSentHeartbeatDate!==o&&!e._heartbeatsCache.heartbeats.some(a=>a.date===o))return e._heartbeatsCache.heartbeats.push({date:o,agent:s}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(a=>{const c=new Date(a.date).valueOf();return Date.now()-c<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return p(function*(){var n;if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(n=e._heartbeatsCache)||void 0===n?void 0:n.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const r=Zj(),{heartbeatsToSend:i,unsentEntries:s}=function wde(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Xj(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Xj(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),o=L_(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=r,s.length>0?(e._heartbeatsCache.heartbeats=s,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),o})()}}function Zj(){return(new Date).toISOString().substring(0,10)}class Ide{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return p(function*(){return!!function ole(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function ale(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return p(function*(){if(yield e._canUseIndexedDBPromise){const r=yield function _de(t){return LT.apply(this,arguments)}(e.app);return r?.heartbeats?r:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(e){var n=this;return p(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return Qj(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return p(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return Qj(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function Xj(t){return L_(JSON.stringify({version:2,heartbeats:t})).length}!function Tde(t){Zh(new il("platform-logger",e=>new Lle(e),"PRIVATE")),Zh(new il("heartbeat",e=>new bde(e),"PRIVATE")),sl(RT,"0.9.28",t),sl(RT,"0.9.28","esm2017"),sl("fire-js","")}("");const Ede=function e$(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},t$=new Yh("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),z_=new Oo("@firebase/auth");function W_(t,...e){z_.logLevel<=xe.ERROR&&z_.error(`Auth (${Xh}): ${t}`,...e)}function Er(t,...e){throw BT(t,...e)}function ts(t,...e){return BT(t,...e)}function BT(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return t$.create(t,...e)}function $(t,e,...n){if(!t)throw BT(e,...n)}function ns(t){const e="INTERNAL ASSERTION FAILED: "+t;throw W_(e),new Error(e)}function Ro(t,e){t||ns(e)}function tf(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function r$(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}function Cde(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function UT(){return"http:"===r$()||"https:"===r$()}()||function rle(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}()||"connection"in navigator))||navigator.onLine}class nf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ro(n>e,"Short delay should be less than long delay!"),this.isMobile=function tle(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_n())}()||function ile(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return Cde()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function jT(t,e){Ro(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class i${static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void ns("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void ns("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void ns("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ade={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},xde=new nf(3e4,6e4);function lt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function dt(t,e,n,r){return $T.apply(this,arguments)}function $T(){return($T=p(function*(t,e,n,r,i={}){return s$(t,i,p(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=$_(Object.assign({key:t.config.apiKey},o)).slice(1),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),i$.fetch()(o$(t,t.config.apiHost,n,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function s$(t,e,n){return HT.apply(this,arguments)}function HT(){return(HT=p(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Ade),e);try{const i=new Ode(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw rf(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw rf(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===c)throw rf(t,"email-already-in-use",o);if("USER_DISABLED"===c)throw rf(t,"user-disabled",o);const l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw function n$(t,e,n){const r=Object.assign(Object.assign({},Ede()),{[e]:n});return new Yh("auth","Firebase",r).create(e,{appName:t.name})}(t,l,u);Er(t,l)}}catch(i){if(i instanceof xo)throw i;Er(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function Vs(t,e,n,r){return GT.apply(this,arguments)}function GT(){return(GT=p(function*(t,e,n,r,i={}){const s=yield dt(t,e,n,r,i);return"mfaPendingCredential"in s&&Er(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function o$(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?jT(t.config,i):`${t.config.apiScheme}://${i}`}function Nde(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ode{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ts(this.auth,"network-request-failed")),xde.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function rf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ts(t,e,r);return i.customData._tokenResponse=n,i}function c$(t){return void 0!==t&&void 0!==t.enterprise}class u${constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Nde(n.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}function l$(t,e){return WT.apply(this,arguments)}function WT(){return(WT=p(function*(t,e){return dt(t,"GET","/v2/recaptchaConfig",lt(t,e))})).apply(this,arguments)}function qT(){return(qT=p(function*(t,e){return dt(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function YT(){return(YT=p(function*(t,e){return dt(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function sf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function QT(){return(QT=p(function*(t,e=!1){const n=No(t),r=yield n.getIdToken(e),i=q_(r);$(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:sf(JT(i.auth_time)),issuedAtTime:sf(JT(i.iat)),expirationTime:sf(JT(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function JT(t){return 1e3*Number(t)}function q_(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return W_("JWT malformed, contained fewer than 3 sections"),null;try{const i=V_(n);return i?JSON.parse(i):(W_("Failed to decode base64 JWT payload"),null)}catch(i){return W_("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Bs(t,e){return ZT.apply(this,arguments)}function ZT(){return(ZT=p(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof xo&&function Vde({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class Bde{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(p(function*(){yield n.iteration()}),r)}iteration(){var e=this;return p(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class d${constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=sf(this.lastLoginAt),this.creationTime=sf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function af(t){return XT.apply(this,arguments)}function XT(){return XT=p(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Bs(t,function Pde(t,e){return YT.apply(this,arguments)}(n,{idToken:r}));$(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function $de(t){return t.map(e=>{var{providerId:n}=e,r=Gc(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function jde(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new d$(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),XT.apply(this,arguments)}function eE(){return(eE=p(function*(t){const e=No(t);yield af(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function tE(){return(tE=p(function*(t,e){const n=yield s$(t,{},p(function*(){const r=$_({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=o$(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",i$.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}function nE(){return(nE=p(function*(t,e){return dt(t,"POST","/v2/accounts:revokeToken",lt(t,e))})).apply(this,arguments)}class cf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$(e.idToken,"internal-error"),$(typeof e.idToken<"u","internal-error"),$(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Lde(t){const e=q_(t);return $(e,"internal-error"),$(typeof e.exp<"u","internal-error"),$(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return p(function*(){return $(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return p(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function Hde(t,e){return tE.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new cf;return r&&($("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&($("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&($("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new cf,this.toJSON())}_performRefresh(){return ns("not implemented")}}function ko(t,e){$("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class ja{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Gc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Bde(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new d$(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return p(function*(){const r=yield Bs(n,n.stsTokenManager.getToken(n.auth,e));return $(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function Fde(t){return QT.apply(this,arguments)}(this,e)}reload(){return function Ude(t){return eE.apply(this,arguments)}(this)}_assign(e){this!==e&&($(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ja(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){$(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return p(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield af(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return p(function*(){const n=yield e.getIdToken();return yield Bs(e,function Rde(t,e){return qT.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,u,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,g=null!==(o=n.photoURL)&&void 0!==o?o:void 0,m=null!==(a=n.tenantId)&&void 0!==a?a:void 0,_=null!==(c=n._redirectEventId)&&void 0!==c?c:void 0,w=null!==(u=n.createdAt)&&void 0!==u?u:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:S,emailVerified:R,isAnonymous:U,providerData:W,stsTokenManager:oe}=n;$(S&&oe,e,"internal-error");const me=cf.fromJSON(this.name,oe);$("string"==typeof S,e,"internal-error"),ko(d,e.name),ko(h,e.name),$("boolean"==typeof R,e,"internal-error"),$("boolean"==typeof U,e,"internal-error"),ko(f,e.name),ko(g,e.name),ko(m,e.name),ko(_,e.name),ko(w,e.name),ko(y,e.name);const Le=new ja({uid:S,auth:e,email:h,emailVerified:R,displayName:d,isAnonymous:U,photoURL:g,phoneNumber:f,tenantId:m,stsTokenManager:me,createdAt:w,lastLoginAt:y});return W&&Array.isArray(W)&&(Le.providerData=W.map(mt=>Object.assign({},mt))),_&&(Le._redirectEventId=_),Le}static _fromIdTokenResponse(e,n,r=!1){return p(function*(){const i=new cf;i.updateFromServerResponse(n);const s=new ja({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield af(s),s})()}}const h$=new Map;function Us(t){Ro(t instanceof Function,"Expected a class definition");let e=h$.get(t);return e?(Ro(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,h$.set(t,e),e)}const f$=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return p(function*(){return!0})()}_set(n,r){var i=this;return p(function*(){i.storage[n]=r})()}_get(n){var r=this;return p(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return p(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function K_(t,e,n){return`firebase:${t}:${e}:${n}`}class al{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=K_(this.userKey,i.apiKey,s),this.fullPersistenceKey=K_("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return p(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?ja._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return p(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return p(function*(){if(!n.length)return new al(Us(f$),e,r);const i=(yield Promise.all(n.map(function(){var u=p(function*(l){if(yield l._isAvailable())return l});return function(l){return u.apply(this,arguments)}}()))).filter(u=>u);let s=i[0]||Us(f$);const o=K_(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const l=yield u._get(o);if(l){const d=ja._fromJSON(e,l);u!==s&&(a=d),s=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return s._shouldAllowMigration&&c.length?(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var u=p(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return u.apply(this,arguments)}}())),new al(s,e,r)):new al(s,e,r)})()}}function p$(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_$(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(g$(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(v$(e))return"Blackberry";if(b$(e))return"Webos";if(rE(e))return"Safari";if((e.includes("chrome/")||m$(e))&&!e.includes("edge/"))return"Chrome";if(y$(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function g$(t=_n()){return/firefox\//i.test(t)}function rE(t=_n()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function m$(t=_n()){return/crios\//i.test(t)}function _$(t=_n()){return/iemobile/i.test(t)}function y$(t=_n()){return/android/i.test(t)}function v$(t=_n()){return/blackberry/i.test(t)}function b$(t=_n()){return/webos/i.test(t)}function Y_(t=_n()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function w$(t=_n()){return Y_(t)||y$(t)||b$(t)||v$(t)||/windows phone/i.test(t)||_$(t)}function I$(t,e=[]){let n;switch(t){case"Browser":n=p$(_n());break;case"Worker":n=`${p$(_n())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Xh}/${r}`}class Kde{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return p(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function iE(){return(iE=p(function*(t,e={}){return dt(t,"GET","/v2/passwordPolicy",lt(t,e))})).apply(this,arguments)}class Jde{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=o.minPasswordLength)&&void 0!==n?n:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(s=e.forceUpgradeOnSignin)&&void 0!==s&&s,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=null===(n=c.meetsMinPasswordLength)||void 0===n||n),c.isValid&&(c.isValid=null===(r=c.meetsMaxPasswordLength)||void 0===r||r),c.isValid&&(c.isValid=null===(i=c.containsLowercaseLetter)||void 0===i||i),c.isValid&&(c.isValid=null===(s=c.containsUppercaseLetter)||void 0===s||s),c.isValid&&(c.isValid=null===(o=c.containsNumericCharacter)||void 0===o||o),c.isValid&&(c.isValid=null===(a=c.containsNonAlphanumericCharacter)||void 0===a||a),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){let r;this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class Zde{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new T$(this),this.idTokenSubscription=new T$(this),this.beforeStateQueue=new Kde(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=t$,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Us(n)),this._initializationPromise=this.queue(p(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield al.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return p(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return p(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,c=s?._redirectEventId,u=yield n.tryRedirectSignIn(e);(!a||a===c)&&u?.user&&(s=u.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return $(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return p(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return p(function*(){try{yield af(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Sde(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return p(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return p(function*(){const r=e?No(e):null;return r&&$(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return p(function*(){if(!r._deleted)return e&&$(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(p(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return p(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(p(function*(){yield n.assertedPersistence.setPersistence(Us(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var n=this;return p(function*(){n._getPasswordPolicyInternal()||(yield n._updatePasswordPolicy());const r=n._getPasswordPolicyInternal();return r.schemaVersion!==n.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(n._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return p(function*(){const n=yield function Yde(t){return iE.apply(this,arguments)}(e),r=new Jde(n);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Yh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){var n=this;return p(function*(){if(n.currentUser){const r=yield n.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};null!=n.tenantId&&(i.tenantId=n.tenantId),yield function Gde(t,e){return nE.apply(this,arguments)}(n,i)}})()}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return p(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return p(function*(){if(!n.redirectPersistenceManager){const r=e&&Us(e)||n._popupRedirectResolver;$(r,n,"argument-error"),n.redirectPersistenceManager=yield al.create(n,[Us(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return p(function*(){var r,i;return n._isInitialized&&(yield n.queue(p(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return p(function*(){if(e===n.currentUser)return n.queue(p(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if($(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),"function"==typeof n){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}{const c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){var n=this;return p(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=I$(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return p(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return p(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function Dde(t,...e){z_.logLevel<=xe.WARN&&z_.warn(`Auth (${Xh}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function $t(t){return No(t)}class T${constructor(e){this.auth=e,this.observer=null,this.addObserver=function hle(t,e){const n=new fle(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return $(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let uf={loadJS:()=>p(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sE(t){return uf.loadJS(t)}function E$(t){return`__${t}${Math.floor(1e6*Math.random())}`}class D${constructor(e){this.type="recaptcha-enterprise",this.auth=$t(e)}verify(e="verify",n=!1){var r=this;return p(function*(){function s(){return s=p(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var c=p(function*(u,l){l$(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new u$(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,u(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(u,l){return c.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,c,u){const l=window.grecaptcha;c$(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{c(d)}).catch(()=>{c("NO_RECAPTCHA")})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,c)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(u=>{if(!n&&c$(window.grecaptcha))o(u,a,c);else{if(typeof window>"u")return void c(new Error("RecaptchaVerifier is only supported in browser"));let l=function the(){return uf.recaptchaEnterpriseScript}();0!==l.length&&(l+=u),sE(l).then(()=>{o(u,a,c)}).catch(d=>{c(d)})}}).catch(u=>{c(u)})})})()}}function C$(t,e,n){return oE.apply(this,arguments)}function oE(){return(oE=p(function*(t,e,n,r=!1){const i=new D$(t);let s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}const o=Object.assign({},e);return Object.assign(o,r?{captchaResp:s}:{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})).apply(this,arguments)}function lf(t,e,n,r){return aE.apply(this,arguments)}function aE(){return aE=p(function*(t,e,n,r){var i;if(null!==(i=t._getRecaptchaConfig())&&void 0!==i&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=yield C$(t,e,n,"getOobCode"===n);return r(t,s)}return r(t,e).catch(function(){var s=p(function*(o){if("auth/missing-recaptcha-token"===o.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=yield C$(t,e,n,"getOobCode"===n);return r(t,a)}return Promise.reject(o)});return function(o){return s.apply(this,arguments)}}())}),aE.apply(this,arguments)}function S$(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function A$(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class x${constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ns("not implemented")}_getIdTokenResponse(e){return ns("not implemented")}_linkToIdToken(e,n){return ns("not implemented")}_getReauthenticationResolver(e){return ns("not implemented")}}function hhe(t,e){return dE.apply(this,arguments)}function dE(){return(dE=p(function*(t,e){return dt(t,"POST","/v1/accounts:signUp",e)})).apply(this,arguments)}function phe(t,e){return fE.apply(this,arguments)}function fE(){return(fE=p(function*(t,e){return Vs(t,"POST","/v1/accounts:signInWithPassword",lt(t,e))})).apply(this,arguments)}function pE(){return(pE=p(function*(t,e){return dt(t,"POST","/v1/accounts:sendOobCode",lt(t,e))})).apply(this,arguments)}function mhe(t,e){return mE.apply(this,arguments)}function mE(){return(mE=p(function*(t,e){return function Q_(t,e){return pE.apply(this,arguments)}(t,e)})).apply(this,arguments)}function vE(){return(vE=p(function*(t,e){return Vs(t,"POST","/v1/accounts:signInWithEmailLink",lt(t,e))})).apply(this,arguments)}function bE(){return(bE=p(function*(t,e){return Vs(t,"POST","/v1/accounts:signInWithEmailLink",lt(t,e))})).apply(this,arguments)}class df extends x${constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new df(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new df(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if(n?.email&&n?.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return p(function*(){switch(n.signInMethod){case"password":return lf(e,{returnSecureToken:!0,email:n._email,password:n._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",phe);case"emailLink":return function vhe(t,e){return vE.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:Er(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return p(function*(){switch(r.signInMethod){case"password":return lf(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",hhe);case"emailLink":return function bhe(t,e){return bE.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:Er(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function js(t,e){return wE.apply(this,arguments)}function wE(){return(wE=p(function*(t,e){return Vs(t,"POST","/v1/accounts:signInWithIdp",lt(t,e))})).apply(this,arguments)}class pf{constructor(e){var n,r,i,s,o,a;const c=Qh(Jh(e)),u=null!==(n=c.apiKey)&&void 0!==n?n:null,l=null!==(r=c.oobCode)&&void 0!==r?r:null,d=function She(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=c.mode)&&void 0!==i?i:null);$(u&&l&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=l,this.continueUrl=null!==(s=c.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=c.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=c.tenantId)&&void 0!==a?a:null}static parseLink(e){const n=function Ahe(t){const e=Qh(Jh(t)).link,n=e?Qh(Jh(e)).deep_link_id:null,r=Qh(Jh(t)).deep_link_id;return(r?Qh(Jh(r)).link:null)||r||n||e||t}(e);try{return new pf(n)}catch{return null}}}let O$=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return df._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=pf.parseLink(r);return $(i,"argument-error"),df._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class Po{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class xhe extends Po{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function M$(t,e){return SE.apply(this,arguments)}function SE(){return(SE=p(function*(t,e){return Vs(t,"POST","/v1/accounts:signUp",lt(t,e))})).apply(this,arguments)}class ui{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return p(function*(){const s=yield ja._fromIdTokenResponse(e,r,i),o=R$(r);return new ui({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return p(function*(){yield e._updateTokensIfNecessary(r,!0);const i=R$(r);return new ui({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function R$(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Z_ extends xo{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Z_.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Z_(e,n,r,i)}}function k$(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?Z_._fromErrorAndOperation(t,s,e,r):s})}function OE(){return(OE=p(function*(t,e,n=!1){const r=yield Bs(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return ui._forOperation(t,"link",r)})).apply(this,arguments)}function RE(){return(RE=p(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield Bs(t,k$(r,i,e,t),n);$(s.idToken,r,"internal-error");const o=q_(s.idToken);$(o,r,"internal-error");const{sub:a}=o;return $(t.uid===a,r,"user-mismatch"),ui._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&Er(r,"user-mismatch"),s}})).apply(this,arguments)}function L$(t,e){return kE.apply(this,arguments)}function kE(){return(kE=p(function*(t,e,n=!1){const r="signIn",i=yield k$(t,r,e),s=yield ui._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}function PE(t,e){return FE.apply(this,arguments)}function FE(){return(FE=p(function*(t,e){return L$($t(t),e)})).apply(this,arguments)}function GE(t){return zE.apply(this,arguments)}function zE(){return(zE=p(function*(t){const e=$t(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})).apply(this,arguments)}function WE(){return(WE=p(function*(t,e,n){const r=$t(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&function ey(t,e,n){var r;$((null===(r=n.url)||void 0===r?void 0:r.length)>0,t,"invalid-continue-uri"),$(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&($(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&($(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}(r,i,n),yield lf(r,i,"getOobCode",mhe)})).apply(this,arguments)}function JE(){return(JE=p(function*(t,e,n){const r=$t(t),o=yield lf(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",M$).catch(c=>{throw"auth/password-does-not-meet-requirements"===c.code&&GE(t),c}),a=yield ui._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})).apply(this,arguments)}const ty="__sak";class B${constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ty,"1"),this.storage.removeItem(ty),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const nfe=(()=>{class t extends B${constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Xhe(){const t=_n();return rE(t)||Y_(t)}()&&function qde(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=w$(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function Wde(){return function sle(){const t=_n();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return p(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return p(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return p(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),U$=(()=>{class t extends B${constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let ife=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return p(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,c=r.handlersMap[o];if(!c?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const u=Array.from(c).map(function(){var d=p(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function rfe(t){return Promise.all(t.map(function(){var e=p(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(u);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:l})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function fD(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class sfe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return p(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((c,u)=>{const l=fD("",20);s.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(f.data.response);break;default:clearTimeout(d),clearTimeout(o),u(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function Jt(){return window}function pD(){return typeof Jt().WorkerGlobalScope<"u"&&"function"==typeof Jt().importScripts}function gD(){return(gD=p(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const j$="firebaseLocalStorageDb",ny="firebaseLocalStorage",$$="fbase_key";class mf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ry(t,e){return t.transaction([ny],e?"readwrite":"readonly").objectStore(ny)}function mD(){const t=indexedDB.open(j$,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ny,{keyPath:$$})}catch(i){n(i)}}),t.addEventListener("success",p(function*(){const r=t.result;r.objectStoreNames.contains(ny)?e(r):(r.close(),yield function dfe(){const t=indexedDB.deleteDatabase(j$);return new mf(t).toPromise()}(),e(yield mD()))}))})}function H$(t,e,n){return _D.apply(this,arguments)}function _D(){return(_D=p(function*(t,e,n){const r=ry(t,!0).put({[$$]:e,value:n});return new mf(r).toPromise()})).apply(this,arguments)}function yD(){return(yD=p(function*(t,e){const n=ry(t,!1).get(e),r=yield new mf(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function G$(t,e){const n=ry(t,!0).delete(e);return new mf(n).toPromise()}const gfe=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return p(function*(){return n.db||(n.db=yield mD()),n.db})()}_withRetries(n){var r=this;return p(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return p(function*(){return pD()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return p(function*(){n.receiver=ife._getInstance(function ufe(){return pD()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=p(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=p(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return p(function*(){var r,i;if(n.activeServiceWorker=yield function afe(){return gD.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new sfe(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return p(function*(){if(r.sender&&r.activeServiceWorker&&function cfe(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return p(function*(){try{if(!indexedDB)return!1;const n=yield mD();return yield H$(n,ty,"1"),yield G$(n,ty),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return p(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return p(function*(){return i._withPendingWrite(p(function*(){return yield i._withRetries(s=>H$(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return p(function*(){const i=yield r._withRetries(s=>function hfe(t,e){return yD.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return p(function*(){return r._withPendingWrite(p(function*(){return yield r._withRetries(i=>G$(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return p(function*(){const r=yield n._withRetries(o=>{const a=ry(o,!1).getAll();return new mf(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;if(0!==r.length)for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(p(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();E$("rcb"),new nf(3e4,6e4);class SD extends x${constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return js(e,this._buildIdpRequest())}_linkToIdToken(e,n){return js(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return js(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Nfe(t){return L$(t.auth,new SD(t),t.bypassAuthState)}function Ofe(t){const{auth:e,user:n}=t;return $(n,e,"internal-error"),function F$(t,e){return RE.apply(this,arguments)}(n,new SD(t),t.bypassAuthState)}function Mfe(t){return AD.apply(this,arguments)}function AD(){return(AD=p(function*(t){const{auth:e,user:n}=t;return $(n,e,"internal-error"),function NE(t,e){return OE.apply(this,arguments)}(n,new SD(t),t.bypassAuthState)})).apply(this,arguments)}class Rfe{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=p(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return p(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:c}=e;if(a)return void n.reject(a);const u={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(c)(u))}catch(l){n.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Nfe;case"linkViaPopup":case"linkViaRedirect":return Mfe;case"reauthViaPopup":case"reauthViaRedirect":return Ofe;default:Er(this.auth,"internal-error")}}resolve(e){Ro(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ro(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new nf(2e3,1e4);const kfe="pendingRedirect",_f=new Map;class Pfe extends Rfe{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return p(function*(){let r=_f.get(n.auth._key());if(!r){try{const s=(yield function Ffe(t,e){return RD.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}_f.set(n.auth._key(),r)}return n.bypassAuthState||_f.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return p(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return p(function*(){})()}cleanUp(){}}function RD(){return(RD=p(function*(t,e){const n=function q$(t){return K_(kfe,t.config.apiKey,t.name)}(e),r=function W$(t){return Us(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function Lfe(t,e){_f.set(t._key(),e)}function K$(t,e){return UD.apply(this,arguments)}function UD(){return(UD=p(function*(t,e,n=!1){const r=$t(t),i=function Ha(t,e){return e?Us(e):($(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}(r,e),o=yield new Pfe(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class $fe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function Hfe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return J$(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!J$(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(ts(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Q$(e))}saveEventToCache(e){this.cachedEventUids.add(Q$(e)),this.lastProcessedEventTime=Date.now()}}function Q$(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function J$({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function $D(){return($D=p(function*(t,e={}){return dt(t,"GET","/v1/projects",e)})).apply(this,arguments)}const zfe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Wfe=/^https?/;function HD(){return HD=p(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function Gfe(t){return $D.apply(this,arguments)}(t);for(const n of e)try{if(Kfe(n))return}catch{}Er(t,"unauthorized-domain")}),HD.apply(this,arguments)}function Kfe(t){const e=tf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!Wfe.test(n))return!1;if(zfe.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Yfe=new nf(3e4,6e4);function Z$(){const t=Jt().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let sy=null;const Zfe=new nf(5e3,15e3),Xfe="__/auth/iframe",epe="emulator/auth/iframe",tpe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},npe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rpe(t){const e=t.config;$(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?jT(e,epe):`https://${t.config.authDomain}/${Xfe}`,r={apiKey:e.apiKey,appName:t.name,v:Xh},i=npe.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${$_(r).slice(1)}`}function GD(){return GD=p(function*(t){const e=yield function Jfe(t){return sy=sy||function Qfe(t){return new Promise((e,n)=>{var r,i,s;function o(){Z$(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Z$(),n(ts(t,"network-request-failed"))},timeout:Yfe.get()})}if(null!==(i=null===(r=Jt().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=Jt().gapi)||void 0===s||!s.load){const a=E$("iframefcb");return Jt()[a]=()=>{gapi.load?o():n(ts(t,"network-request-failed"))},sE(`${function nhe(){return uf.gapiScript}()}?onload=${a}`).catch(c=>n(c))}o()}}).catch(e=>{throw sy=null,e})}(t),sy}(t),n=Jt().gapi;return $(n,t,"internal-error"),e.open({where:document.body,url:rpe(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tpe,dontclear:!0},r=>new Promise(function(){var i=p(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=ts(t,"network-request-failed"),c=Jt().setTimeout(()=>{o(a)},Zfe.get());function u(){Jt().clearTimeout(c),s(r)}r.ping(u).then(u,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),GD.apply(this,arguments)}const spe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class X${constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const hpe="__/auth/handler",fpe="emulator/auth/handler",ppe=encodeURIComponent("fac");function eH(t,e,n,r,i,s){return zD.apply(this,arguments)}function zD(){return(zD=p(function*(t,e,n,r,i,s){$(t.config.authDomain,t,"auth-domain-config-required"),$(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Xh,eventId:i};if(e instanceof Po){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function dle(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,d]of Object.entries(s||{}))o[l]=d}if(e instanceof xhe){const l=e.getScopes().filter(d=>""!==d);l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];const c=yield t._getAppCheckToken(),u=c?`#${ppe}=${encodeURIComponent(c)}`:"";return`${function gpe({config:t}){return t.emulator?jT(t,fpe):`https://${t.authDomain}/${hpe}`}(t)}?${$_(a).slice(1)}${u}`})).apply(this,arguments)}const WD="webStorageSupport",_pe=class mpe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=U$,this._completeRedirectFn=K$,this._overrideRedirectResult=Lfe}_openPopup(e,n,r,i){var s=this;return p(function*(){var o;Ro(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield eH(e,n,r,tf(),i);return function lpe(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},spe),{width:r.toString(),height:i.toString(),top:s,left:o}),u=_n().toLowerCase();n&&(a=m$(u)?"_blank":n),g$(u)&&(e=e||"http://localhost",c.scrollbars="yes");const l=Object.entries(c).reduce((h,[f,g])=>`${h}${f}=${g},`,"");if(function zde(t=_n()){var e;return Y_(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(u)&&"_self"!==a)return function dpe(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new X$(null);const d=window.open(e||"",a,l);$(d,t,"popup-blocked");try{d.focus()}catch{}return new X$(d)}(e,a,fD())})()}_openRedirect(e,n,r,i){var s=this;return p(function*(){return yield s._originValidation(e),function ofe(t){Jt().location.href=t}(yield eH(e,n,r,tf(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ro(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return p(function*(){const r=yield function ipe(t){return GD.apply(this,arguments)}(e),i=new $fe(e);return r.register("authEvent",s=>($(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(WD,{type:WD},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[WD];void 0!==o&&n(!!o),Er(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function qfe(t){return HD.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return w$()||rE()||Y_()}};var rH="@firebase/auth";class ype{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return p(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){$(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Ipe=Fj("authIdTokenMaxAge")||300;let sH=null;const Tpe=t=>function(){var e=p(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>Ipe)return;const s=r?.token;sH!==s&&(sH=s,yield fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function ay(t=function pde(t=H_){const e=Ua.get(t);if(!e&&t===H_&&Pj())return Kj();if(!e)throw Ls.create("no-app",{appName:t});return e}()){const e=kT(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function ohe(t,e){const n=kT(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(j_(n.getOptions(),e??{}))return i;Er(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:_pe,persistence:[gfe,nfe,U$]}),r=Fj("authTokenSyncURL");if(r){const s=Tpe(r);(function qhe(t,e,n){No(t).beforeAuthStateChanged(e,n)})(n,s,()=>s(n.currentUser)),function Whe(t,e,n,r){No(t).onIdTokenChanged(e,n,r)}(n,o=>s(o))}const i=(t=>{var e,n;return null===(n=null===(e=B_())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})("auth");return i&&function che(t,e,n){const r=$t(t);$(r._canInitEmulator,r,"emulator-config-failed"),$(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=S$(e),{host:o,port:a}=function uhe(t){const e=S$(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:A$(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:A$(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function lhe(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}(function Xde(t){uf=t})({loadJS:t=>new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=ts("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function Epe(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function bpe(t){Zh(new il("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;$(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:I$(t)},u=new Zde(r,i,s,c);return function ahe(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Us);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Zh(new il("auth-internal",e=>{const n=$t(e.getProvider("auth").getImmediate());return new ype(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),sl(rH,"1.6.1",function vpe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(t)),sl(rH,"1.6.1","esm2017")}("Browser");const oH=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},YD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0;let h=(15&a)<<2|u>>6,f=63&u;c||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(oH(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const c=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(1023&c))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==u||null==d)throw new Ape;r.push(s<<2|a>>4),64!==u&&(r.push(a<<4&240|u>>2),64!==d&&r.push(u<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Ape extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cy=function(t){return function(t){const e=oH(t);return YD.encodeByteArray(e,!0)}(t).replace(/\./g,"")},uy=function(t){try{return YD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},ly=()=>{try{return function Ope(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&uy(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},cH=()=>{var t;return null===(t=ly())||void 0===t?void 0:t.config};class dy{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function zr(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function QD(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function Ga(){try{return"object"==typeof indexedDB}catch{return!1}}function yf(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function JD(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ni extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Ni.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rs.prototype.create)}}class rs{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function Hpe(t,e){return t.replace(Gpe,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Ni(i,`${this.serviceName}: ${o} (${i}).`,r)}}const Gpe=/\{\$([^}]+)}/g;function ZD(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(lH(s)&&lH(o)){if(!ZD(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function lH(t){return null!==t&&"object"==typeof t}function dH(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class Wpe{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function qpe(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=XD),void 0===i.error&&(i.error=XD),void 0===i.complete&&(i.complete=XD);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function XD(){}const Kpe=1e3,Ype=2,Qpe=144e5,Jpe=.5;function tC(t,e=Kpe,n=Ype){const r=e*Math.pow(n,t),i=Math.round(Jpe*r*(Math.random()-.5)*2);return Math.min(Qpe,r+i)}function Oi(t){return t&&t._delegate?t._delegate:t}class zn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const za="[DEFAULT]";class Xpe{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new dy;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function tge(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:za})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=za){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return p(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=za){return this.instances.has(e)}getOptions(e=za){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===za?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=za){return this.component?this.component.multipleInstances?e:za:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class nge{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Xpe(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}class rge{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function ige(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const nC="@firebase/app",Wa=new Oo("@firebase/app"),fy="[DEFAULT]",Nge={[nC]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},qa=new Map,py=new Map;function Oge(t,e){try{t.container.addComponent(e)}catch(n){Wa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function cr(t){const e=t.name;if(py.has(e))return Wa.debug(`There were multiple attempts to register component ${e}.`),!1;py.set(e,t);for(const n of qa.values())Oge(n,t);return!0}function gy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const $s=new rs("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Rge{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new zn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $s.create("app-deleted",{appName:this._name})}}const vf="9.23.0";function fH(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:fy,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw $s.create("bad-app-name",{appName:String(i)});if(n||(n=cH()),!n)throw $s.create("no-options");const s=qa.get(i);if(s){if(ZD(n,s.options)&&ZD(r,s.config))return s;throw $s.create("duplicate-app",{appName:i})}const o=new nge(i);for(const c of py.values())o.addComponent(c);const a=new Rge(n,r,o);return qa.set(i,a),a}function pH(t=fy){const e=qa.get(t);if(!e&&t===fy&&cH())return fH();if(!e)throw $s.create("no-app",{appName:t});return e}function gH(){return Array.from(qa.values())}function Ht(t,e,n){var r;let i=null!==(r=Nge[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Wa.warn(a.join(" "))}cr(new zn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const kge="firebase-heartbeat-database",Pge=1,bf="firebase-heartbeat-store";let iC=null;function mH(){return iC||(iC=zj(kge,Pge,{upgrade:(t,e)=>{0===e&&t.createObjectStore(bf)}}).catch(t=>{throw $s.create("idb-open",{originalErrorMessage:t.message})})),iC}function sC(){return(sC=p(function*(t){try{return yield(yield mH()).transaction(bf).objectStore(bf).get(yH(t))}catch(e){if(e instanceof Ni)Wa.warn(e.message);else{const n=$s.create("idb-get",{originalErrorMessage:e?.message});Wa.warn(n.message)}}})).apply(this,arguments)}function _H(t,e){return oC.apply(this,arguments)}function oC(){return(oC=p(function*(t,e){try{const r=(yield mH()).transaction(bf,"readwrite");yield r.objectStore(bf).put(e,yH(t)),yield r.done}catch(n){if(n instanceof Ni)Wa.warn(n.message);else{const r=$s.create("idb-set",{originalErrorMessage:n?.message});Wa.warn(r.message)}}})).apply(this,arguments)}function yH(t){return`${t.name}!${t.options.appId}`}class Bge{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new jge(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return p(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=vH();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return p(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=vH(),{heartbeatsToSend:r,unsentEntries:i}=function Uge(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),bH(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),bH(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=cy(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function vH(){return(new Date).toISOString().substring(0,10)}class jge{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return p(function*(){return!!Ga()&&yf().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return p(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function Fge(t){return sC.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return p(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return _H(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return p(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return _H(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function bH(t){return cy(JSON.stringify({version:2,heartbeats:t})).length}!function $ge(t){cr(new zn("platform-logger",e=>new rge(e),"PRIVATE")),cr(new zn("heartbeat",e=>new Bge(e),"PRIVATE")),Ht(nC,"0.9.13",t),Ht(nC,"0.9.13","esm2017"),Ht("fire-js","")}(""),Ht("firebase","9.23.0","app");const zge=(t,e)=>e.some(n=>t instanceof n);let wH,IH;const TH=new WeakMap,aC=new WeakMap,EH=new WeakMap,cC=new WeakMap,uC=new WeakMap;let lC={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return aC.get(t);if("objectStoreNames"===e)return t.objectStoreNames||EH.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fo(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Zge(t){return"function"==typeof t?function Jge(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function qge(){return IH||(IH=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(dC(this),e),Fo(TH.get(this))}:function(...e){return Fo(t.apply(dC(this),e))}:function(e,...n){const r=t.call(dC(this),e,...n);return EH.set(r,e.sort?e.sort():[e]),Fo(r)}}(t):(t instanceof IDBTransaction&&function Yge(t){if(aC.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});aC.set(t,e)}(t),zge(t,function Wge(){return wH||(wH=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,lC):t)}function Fo(t){if(t instanceof IDBRequest)return function Kge(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Fo(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&TH.set(n,t)}).catch(()=>{}),uC.set(e,t),e}(t);if(cC.has(t))return cC.get(t);const e=Zge(t);return e!==t&&(cC.set(t,e),uC.set(e,t)),e}const dC=t=>uC.get(t),eme=["get","getKey","getAll","getAllKeys","count"],tme=["put","add","delete","clear"],hC=new Map;function DH(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(hC.get(e))return hC.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=tme.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!eme.includes(n))return;const s=function(){var o=p(function*(a,...c){const u=this.transaction(a,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]});return function(c){return o.apply(this,arguments)}}();return hC.set(e,s),s}!function Qge(t){lC=t(lC)}(t=>({...t,get:(e,n,r)=>DH(e,n)||t.get(e,n,r),has:(e,n)=>!!DH(e,n)||t.has(e,n)}));const CH="@firebase/installations",fC="0.6.4",SH=1e4,AH=`w:${fC}`,xH="FIS_v2",nme="https://firebaseinstallations.googleapis.com/v1",rme=36e5,Hs=new rs("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function NH(t){return t instanceof Ni&&t.code.includes("request-failed")}function pC({projectId:t}){return`${nme}/projects/${t}/installations`}function OH(t){return{token:t.token,requestStatus:2,expiresIn:ame(t.expiresIn),creationTime:Date.now()}}function gC(t,e){return mC.apply(this,arguments)}function mC(){return(mC=p(function*(t,e){const r=(yield e.json()).error;return Hs.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function MH({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function _C(t){return yC.apply(this,arguments)}function yC(){return(yC=p(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function ame(t){return Number(t.replace("s","000"))}function vC(){return(vC=p(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=pC(t),i=MH(t),s=e.getImmediate({optional:!0});if(s){const u=yield s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:xH,appId:t.appId,sdkVersion:AH})},c=yield _C(()=>fetch(r,a));if(c.ok){const u=yield c.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:OH(u.authToken)}}throw yield gC("Create Installation",c)})).apply(this,arguments)}function kH(t){return new Promise(e=>{setTimeout(e,t)})}const dme=/^[cdef][\w-]{21}$/,bC="";function hme(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function fme(t){return function lme(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return dme.test(n)?n:bC}catch{return bC}}function cl(t){return`${t.appName}!${t.appId}`}const ul=new Map;function PH(t,e){const n=cl(t);FH(n,e),function mme(t,e){const n=function LH(){return!Ka&&"BroadcastChannel"in self&&(Ka=new BroadcastChannel("[Firebase] FID Change"),Ka.onmessage=t=>{FH(t.data.key,t.data.fid)}),Ka}();n&&n.postMessage({key:t,fid:e}),function VH(){0===ul.size&&Ka&&(Ka.close(),Ka=null)}()}(n,e)}function FH(t,e){const n=ul.get(t);if(n)for(const r of n)r(e)}let Ka=null;const _me="firebase-installations-database",yme=1,Ya="firebase-installations-store";let wC=null;function IC(){return wC||(wC=function Xge(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Fo(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Fo(o.result),c.oldVersion,c.newVersion,Fo(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(_me,yme,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Ya)}})),wC}function my(t,e){return TC.apply(this,arguments)}function TC(){return(TC=p(function*(t,e){const n=cl(t),i=(yield IC()).transaction(Ya,"readwrite"),s=i.objectStore(Ya),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&PH(t,e.fid),e})).apply(this,arguments)}function EC(t){return DC.apply(this,arguments)}function DC(){return(DC=p(function*(t){const e=cl(t),r=(yield IC()).transaction(Ya,"readwrite");yield r.objectStore(Ya).delete(e),yield r.done})).apply(this,arguments)}function wf(t,e){return CC.apply(this,arguments)}function CC(){return(CC=p(function*(t,e){const n=cl(t),i=(yield IC()).transaction(Ya,"readwrite"),s=i.objectStore(Ya),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&PH(t,a.fid),a})).apply(this,arguments)}function SC(t){return AC.apply(this,arguments)}function AC(){return AC=p(function*(t){let e;const n=yield wf(t.appConfig,r=>{const i=function vme(t){return UH(t||{fid:hme(),registrationStatus:0})}(r),s=function bme(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Hs.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function wme(t,e){return xC.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Ime(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===bC?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),AC.apply(this,arguments)}function xC(){return xC=p(function*(t,e){try{const n=yield function ume(t,e){return vC.apply(this,arguments)}(t,e);return my(t.appConfig,n)}catch(n){throw NH(n)&&409===n.customData.serverCode?yield EC(t.appConfig):yield my(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),xC.apply(this,arguments)}function Ime(t){return NC.apply(this,arguments)}function NC(){return(NC=p(function*(t){let e=yield BH(t.appConfig);for(;1===e.registrationStatus;)yield kH(100),e=yield BH(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield SC(t);return r||n}return e})).apply(this,arguments)}function BH(t){return wf(t,e=>{if(!e)throw Hs.create("installation-not-found");return UH(e)})}function UH(t){return function Tme(t){return 1===t.registrationStatus&&t.registrationTime+SH<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function OC(){return(OC=p(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function Dme(t,{fid:e}){return`${pC(t)}/${e}/authTokens:generate`}(t,n),i=function RH(t,{refreshToken:e}){const n=MH(t);return n.append("Authorization",function cme(t){return`${xH} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const u=yield s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:AH,appId:t.appId}})},c=yield _C(()=>fetch(r,a));if(c.ok)return OH(yield c.json());throw yield gC("Generate Auth Token",c)})).apply(this,arguments)}function MC(t){return RC.apply(this,arguments)}function RC(){return RC=p(function*(t,e=!1){let n;const r=yield wf(t.appConfig,s=>{if(!$H(s))throw Hs.create("not-registered");const o=s.authToken;if(!e&&function Ame(t){return 2===t.requestStatus&&!function xme(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+rme}(t)}(o))return s;if(1===o.requestStatus)return n=function Cme(t,e){return kC.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw Hs.create("app-offline");const a=function Nme(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function Sme(t,e){return PC.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),RC.apply(this,arguments)}function kC(){return(kC=p(function*(t,e){let n=yield jH(t.appConfig);for(;1===n.authToken.requestStatus;)yield kH(100),n=yield jH(t.appConfig);const r=n.authToken;return 0===r.requestStatus?MC(t,e):r})).apply(this,arguments)}function jH(t){return wf(t,e=>{if(!$H(e))throw Hs.create("not-registered");return function Ome(t){return 1===t.requestStatus&&t.requestTime+SH<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function PC(){return PC=p(function*(t,e){try{const n=yield function Eme(t,e){return OC.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield my(t.appConfig,r),n}catch(n){if(!NH(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield my(t.appConfig,r)}else yield EC(t.appConfig);throw n}}),PC.apply(this,arguments)}function $H(t){return void 0!==t&&2===t.registrationStatus}function FC(){return(FC=p(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield SC(e);return r?r.catch(console.error):MC(e).catch(console.error),n.fid})).apply(this,arguments)}function LC(){return LC=p(function*(t,e=!1){const n=t;return yield function kme(t){return VC.apply(this,arguments)}(n),(yield MC(n,e)).token}),LC.apply(this,arguments)}function VC(){return(VC=p(function*(t){const{registrationPromise:e}=yield SC(t);e&&(yield e)})).apply(this,arguments)}function jC(t){return Hs.create("missing-app-config-values",{valueName:t})}const HH="installations",Bme=t=>{const e=t.getProvider("app").getImmediate(),n=function Lme(t){if(!t||!t.options)throw jC("App Configuration");if(!t.name)throw jC("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw jC(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:gy(e,"heartbeat"),_delete:()=>Promise.resolve()}},Ume=t=>{const n=gy(t.getProvider("app").getImmediate(),HH).getImmediate();return{getId:()=>function Mme(t){return FC.apply(this,arguments)}(n),getToken:i=>function Rme(t){return LC.apply(this,arguments)}(n,i)}};(function jme(){cr(new zn(HH,Bme,"PUBLIC")),cr(new zn("installations-internal",Ume,"PRIVATE"))})(),Ht(CH,fC),Ht(CH,fC,"esm2017");const $C="@firebase/remote-config",Dr=new rs("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Zme{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return p(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function Xme(t=navigator){return t.languages&&t.languages[0]||t.language}class e_e{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return p(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},c={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:Xme()},u={method:"POST",headers:a,body:JSON.stringify(c)},l=fetch(o,u),d=new Promise((w,y)=>{e.signal.addEventListener(()=>{const S=new Error("The operation was aborted.");S.name="AbortError",y(S)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(w){let y="fetch-client-network";throw"AbortError"===w?.name&&(y="fetch-timeout"),Dr.create(y,{originalErrorMessage:w?.message})}let f=h.status;const g=h.headers.get("ETag")||void 0;let m,_;if(200===h.status){let w;try{w=yield h.json()}catch(y){throw Dr.create("fetch-client-parse",{originalErrorMessage:y?.message})}m=w.entries,_=w.state}if("INSTANCE_STATE_UNSPECIFIED"===_?f=500:"NO_CHANGE"===_?f=304:("NO_TEMPLATE"===_||"EMPTY_CONFIG"===_)&&(m={}),304!==f&&200!==f)throw Dr.create("fetch-status",{httpStatus:f});return{status:f,eTag:g,config:m}})()}}class r_e{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return p(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return p(function*(){yield function t_e(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Dr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function n_e(t){if(!(t instanceof Ni&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+tC(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class o_e{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function yy(t,e){const n=t.target.error||void 0;return Dr.create(e,{originalErrorMessage:n&&n?.message})}const Qa="app_namespace_store";class l_e{constructor(e,n,r,i=function u_e(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(yy(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Qa,{keyPath:"compositeKey"})}}catch(n){e(Dr.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return p(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Qa],"readonly").objectStore(Qa),c=n.createCompositeKey(e);try{const u=a.get(c);u.onerror=l=>{s(yy(l,"storage-get"))},u.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(u){s(Dr.create("storage-get",{originalErrorMessage:u?.message}))}})})()}set(e,n){var r=this;return p(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const c=i.transaction([Qa],"readwrite").objectStore(Qa),u=r.createCompositeKey(e);try{const l=c.put({compositeKey:u,value:n});l.onerror=d=>{o(yy(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(Dr.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return p(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Qa],"readwrite").objectStore(Qa),c=n.createCompositeKey(e);try{const u=a.delete(c);u.onerror=l=>{s(yy(l,"storage-delete"))},u.onsuccess=()=>{i()}}catch(u){s(Dr.create("storage-delete",{originalErrorMessage:u?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class d_e{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return p(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function f_e(){return qC.apply(this,arguments)}function qC(){return(qC=p(function*(){if(!Ga())return!1;try{return yield yf()}catch{return!1}})).apply(this,arguments)}!function h_e(){cr(new zn("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Dr.create("registration-window");if(!Ga())throw Dr.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw Dr.create("registration-project-id");if(!o)throw Dr.create("registration-api-key");if(!a)throw Dr.create("registration-app-id");const c=new l_e(a,r.name,n=n||"firebase"),u=new d_e(c),l=new Oo($C);l.logLevel=xe.ERROR;const d=new e_e(i,vf,n,s,o,a),h=new r_e(d,c),f=new Zme(h,c,u,l),g=new o_e(r,f,u,c,l);return function Yme(t){const e=Oi(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(g),g},"PUBLIC").setMultipleInstances(!0)),Ht($C,"0.4.4"),Ht($C,"0.4.4","esm2017")}();const p_e=(t,e)=>e.some(n=>t instanceof n);let qH,KH;const YH=new WeakMap,KC=new WeakMap,QH=new WeakMap,YC=new WeakMap,QC=new WeakMap;let JC={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return KC.get(t);if("objectStoreNames"===e)return t.objectStoreNames||QH.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gs(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function w_e(t){return"function"==typeof t?function b_e(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function m_e(){return KH||(KH=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(ZC(this),e),Gs(YH.get(this))}:function(...e){return Gs(t.apply(ZC(this),e))}:function(e,...n){const r=t.call(ZC(this),e,...n);return QH.set(r,e.sort?e.sort():[e]),Gs(r)}}(t):(t instanceof IDBTransaction&&function y_e(t){if(KC.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});KC.set(t,e)}(t),p_e(t,function g_e(){return qH||(qH=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,JC):t)}function Gs(t){if(t instanceof IDBRequest)return function __e(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Gs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&YH.set(n,t)}).catch(()=>{}),QC.set(e,t),e}(t);if(YC.has(t))return YC.get(t);const e=w_e(t);return e!==t&&(YC.set(t,e),QC.set(e,t)),e}const ZC=t=>QC.get(t);function JH(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Gs(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Gs(o.result),c.oldVersion,c.newVersion,Gs(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function XC(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),Gs(n).then(()=>{})}const I_e=["get","getKey","getAll","getAllKeys","count"],T_e=["put","add","delete","clear"],eS=new Map;function ZH(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(eS.get(e))return eS.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=T_e.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!I_e.includes(n))return;const s=function(){var o=p(function*(a,...c){const u=this.transaction(a,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]});return function(c){return o.apply(this,arguments)}}();return eS.set(e,s),s}!function v_e(t){JC=t(JC)}(t=>({...t,get:(e,n,r)=>ZH(e,n)||t.get(e,n,r),has:(e,n)=>!!ZH(e,n)||t.has(e,n)}));const E_e="/firebase-messaging-sw.js",D_e="/firebase-cloud-messaging-push-scope",XH="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",C_e="https://fcmregistrations.googleapis.com/v1",eG="google.c.a.c_id",S_e="google.c.a.c_l",A_e="google.c.a.ts";var vy=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(vy||{});function zs(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function O_e(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const tS="fcm_token_details_db",M_e=5,tG="fcm_token_object_Store";function nS(){return nS=p(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(tS))return null;let e=null;return(yield JH(tS,M_e,{upgrade:(r=p(function*(i,s,o,a){var c;if(s<2||!i.objectStoreNames.contains(tG))return;const u=a.objectStore(tG),l=yield u.index("fcmSenderId").get(t);if(yield u.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(c=d.createTime)&&void 0!==c?c:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:zs(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:zs(d.auth),p256dh:zs(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:zs(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:zs(d.auth),p256dh:zs(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:zs(d.vapidKey)}}}}),function(s,o,a,c){return r.apply(this,arguments)})})).close(),yield XC(tS),yield XC("fcm_vapid_details_db"),yield XC("undefined"),function k_e(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),nS.apply(this,arguments)}const P_e="firebase-messaging-database",F_e=1,Ja="firebase-messaging-store";let rS=null;function iS(){return rS||(rS=JH(P_e,F_e,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Ja)}})),rS}function nG(t){return sS.apply(this,arguments)}function sS(){return sS=p(function*(t){const e=uS(t),r=yield(yield iS()).transaction(Ja).objectStore(Ja).get(e);if(r)return r;{const i=yield function R_e(t){return nS.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield oS(t,i),i}}),sS.apply(this,arguments)}function oS(t,e){return aS.apply(this,arguments)}function aS(){return(aS=p(function*(t,e){const n=uS(t),i=(yield iS()).transaction(Ja,"readwrite");return yield i.objectStore(Ja).put(e,n),yield i.done,e})).apply(this,arguments)}function cS(){return(cS=p(function*(t){const e=uS(t),r=(yield iS()).transaction(Ja,"readwrite");yield r.objectStore(Ja).delete(e),yield r.done})).apply(this,arguments)}function uS({appConfig:t}){return t.appId}const Rn=new rs("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function B_e(t,e){return lS.apply(this,arguments)}function lS(){return(lS=p(function*(t,e){const n=yield pS(t),r=iG(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(fS(t.appConfig),i)).json()}catch(o){throw Rn.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw Rn.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Rn.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function dS(){return(dS=p(function*(t,e){const n=yield pS(t),r=iG(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${fS(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw Rn.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw Rn.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Rn.create("token-update-no-token");return s.token})).apply(this,arguments)}function rG(t,e){return hS.apply(this,arguments)}function hS(){return(hS=p(function*(t,e){const r={method:"DELETE",headers:yield pS(t)};try{const s=yield(yield fetch(`${fS(t.appConfig)}/${e}`,r)).json();if(s.error)throw Rn.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw Rn.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function fS({projectId:t}){return`${C_e}/projects/${t}/registrations`}function pS(t){return gS.apply(this,arguments)}function gS(){return(gS=p(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function iG({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==XH&&(i.web.applicationPubKey=r),i}const j_e=6048e5;function mS(){return mS=p(function*(t){const e=yield function G_e(t,e){return bS.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:zs(e.getKey("auth")),p256dh:zs(e.getKey("p256dh"))},r=yield nG(t.firebaseDependencies);if(r){if(function z_e(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+j_e?function H_e(t,e){return yS.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield rG(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return oG(t.firebaseDependencies,n)}return oG(t.firebaseDependencies,n)}),mS.apply(this,arguments)}function _S(){return _S=p(function*(t){const e=yield nG(t.firebaseDependencies);e&&(yield rG(t.firebaseDependencies,e.token),yield function L_e(t){return cS.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),_S.apply(this,arguments)}function yS(){return yS=p(function*(t,e){try{const n=yield function U_e(t,e){return dS.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield oS(t.firebaseDependencies,r),n}catch(n){throw yield function sG(t){return _S.apply(this,arguments)}(t),n}}),yS.apply(this,arguments)}function oG(t,e){return vS.apply(this,arguments)}function vS(){return(vS=p(function*(t,e){const r={token:yield B_e(t,e),createTime:Date.now(),subscriptionOptions:e};return yield oS(t,r),r.token})).apply(this,arguments)}function bS(){return(bS=p(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:O_e(e)})})).apply(this,arguments)}function aG(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function W_e(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function q_e(t,e){e.data&&(t.data=e.data)}(e,t),function K_e(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const c=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;c&&(t.fcmOptions.analyticsLabel=c)}(e,t),e}function cG(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function wS(t){return Rn.create("missing-app-config-values",{valueName:t})}cG("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),cG("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class J_e{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function Q_e(t){if(!t||!t.options)throw wS("App Configuration Object");if(!t.name)throw wS("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw wS(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function IS(){return(IS=p(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(E_e,{scope:D_e}),t.swRegistration.update().catch(()=>{})}catch(e){throw Rn.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function TS(){return(TS=p(function*(t,e){if(!e&&!t.swRegistration&&(yield function uG(t){return IS.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Rn.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function ES(){return(ES=p(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=XH)})).apply(this,arguments)}function DS(){return DS=p(function*(t,e){if(!navigator)throw Rn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Rn.create("permission-blocked");return yield function X_e(t,e){return ES.apply(this,arguments)}(t,e?.vapidKey),yield function Z_e(t,e){return TS.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function $_e(t){return mS.apply(this,arguments)}(t)}),DS.apply(this,arguments)}function CS(){return(CS=p(function*(t,e,n){const r=function tye(t){switch(t){case vy.NOTIFICATION_CLICKED:return"notification_open";case vy.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[eG],message_name:n[S_e],message_time:n[A_e],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function SS(){return SS=p(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===vy.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(aG(n)):t.onMessageHandler.next(aG(n)));const r=n.data;(function Y_e(t){return"object"==typeof t&&!!t&&eG in t})(r)&&"1"===r["google.c.a.e"]&&(yield function eye(t,e,n){return CS.apply(this,arguments)}(t,n.messageType,r))}),SS.apply(this,arguments)}const dG="@firebase/messaging",rye=t=>{const e=new J_e(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function nye(t,e){return SS.apply(this,arguments)}(e,n)),e},iye=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function lG(t,e){return DS.apply(this,arguments)}(e,r)}};function fG(){return AS.apply(this,arguments)}function AS(){return(AS=p(function*(){try{yield yf()}catch{return!1}return typeof window<"u"&&Ga()&&JD()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function sye(){cr(new zn("messaging",rye,"PUBLIC")),cr(new zn("messaging-internal",iye,"PRIVATE")),Ht(dG,"0.12.4"),Ht(dG,"0.12.4","esm2017")}();const by="analytics",cye="firebase_id",uye="origin",lye=6e4,dye="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",OS="https://www.googletagmanager.com/gtag/js",yn=new Oo("@firebase/analytics"),ur=new rs("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function fye(t){if(!t.startsWith(OS)){const e=ur.create("invalid-gtag-resource",{gtagURL:t});return yn.warn(e.message),""}return t}function pG(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function MS(){return(MS=p(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const c=(yield pG(n)).find(u=>u.measurementId===i);c&&(yield e[c.appId])}}catch(a){yn.error(a)}t("config",i,s)})).apply(this,arguments)}function RS(){return(RS=p(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield pG(n);for(const c of o){const u=a.find(d=>d.measurementId===c),l=u&&e[u.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){yn.error(s)}})).apply(this,arguments)}const Iye=30,gG=new class Eye{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Dye(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function kS(){return(kS=p(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:Dye(r)},s=dye.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const c=yield o.json();null!==(e=c.error)&&void 0!==e&&e.message&&(a=c.error.message)}catch{}throw ur.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function PS(){return(PS=p(function*(t,e=gG,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw ur.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw ur.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Nye;return setTimeout(p(function*(){a.abort()}),void 0!==n?n:lye),mG({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function mG(t,e,n){return FS.apply(this,arguments)}function FS(){return FS=p(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=gG){var s;const{appId:o,measurementId:a}=t;try{yield function Aye(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(ur.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(c){if(a)return yn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw c}try{const c=yield function Cye(t){return kS.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),c}catch(c){const u=c;if(!function xye(t){if(!(t instanceof Ni&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(u)){if(i.deleteThrottleMetadata(o),a)return yn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw c}const l=503===Number(null===(s=u?.customData)||void 0===s?void 0:s.httpStatus)?tC(n,i.intervalMillis,Iye):tC(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(o,d),yn.debug(`Calling attemptFetch again in ${l} millis`),mG(t,d,r,i)}}),FS.apply(this,arguments)}class Nye{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let LS,GS;function VS(){return(VS=p(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function zS(){return(zS=p(function*(){if(!Ga())return yn.warn(ur.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield yf()}catch(t){return yn.warn(ur.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function WS(){return WS=p(function*(t,e,n,r,i,s,o){var a;const c=function Sye(t){return PS.apply(this,arguments)}(t);c.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&yn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>yn.error(f)),e.push(c);const u=function Lye(){return zS.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([c,u]);(function wye(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(OS)&&n.src.includes(t))return n;return null})(s)||function gye(t,e){const n=function pye(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:fye}),r=document.createElement("script"),i=`${OS}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,l.measurementId),GS&&(i("consent","default",GS),function _G(t){GS=t}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[uye]="firebase",h.update=!0,null!=d&&(h[cye]=d),i("config",l.measurementId,h),LS&&(i("set",LS),function yG(t){LS=t}(void 0)),l.measurementId}),WS.apply(this,arguments)}class Bye{constructor(e){this.app=e}_delete(){return delete is[this.app.options.appId],Promise.resolve()}}let is={},vG=[];const bG={};let IG,ss,wy="dataLayer",qS=!1;function jye(t,e,n){!function Uye(){const t=[];if(QD()&&t.push("This is a browser extension environment."),JD()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=ur.create("invalid-analytics-context",{errorInfo:e});yn.warn(n.message)}}();const r=t.options.appId;if(!r)throw ur.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw ur.create("no-api-key");yn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=is[r])throw ur.create("already-exists",{id:r});if(!qS){!function mye(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(wy);const{wrappedGtag:s,gtagCore:o}=function bye(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function vye(t,e,n,r){function s(){return s=p(function*(o,...a){try{if("event"===o){const[c,u]=a;yield function yye(t,e,n,r,i){return RS.apply(this,arguments)}(t,e,n,c,u)}else if("config"===o){const[c,u]=a;yield function _ye(t,e,n,r,i,s){return MS.apply(this,arguments)}(t,e,n,r,c,u)}else if("consent"===o){const[c]=a;t("consent","update",c)}else if("get"===o){const[c,u,l]=a;t("get",c,u,l)}else if("set"===o){const[c]=a;t("set",c)}else t(o,...a)}catch(c){yn.error(c)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(is,vG,bG,wy,"gtag");ss=s,IG=o,qS=!0}return is[r]=function Vye(t,e,n,r,i,s,o){return WS.apply(this,arguments)}(t,vG,bG,e,IG,wy,n),new Bye(t)}function Hye(){return KS.apply(this,arguments)}function KS(){return(KS=p(function*(){if(QD()||!JD()||!Ga())return!1;try{return yield yf()}catch{return!1}})).apply(this,arguments)}const TG="@firebase/analytics";!function zye(){cr(new zn(by,(e,{options:n})=>jye(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),cr(new zn("analytics-internal",function t(e){try{const n=e.getProvider(by).getImmediate();return{logEvent:(r,i,s)=>function Gye(t,e,n,r){t=Oi(t),function Oye(t,e,n,r,i){return VS.apply(this,arguments)}(ss,is[t.app.options.appId],e,n,r).catch(i=>yn.error(i))}(n,r,i,s)}}catch(n){throw ur.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Ht(TG,"0.10.0"),Ht(TG,"0.10.0","esm2017")}();class Wye extends Pt{constructor(e,n){super()}schedule(e,n=0){return this}}const Iy={setInterval(t,e,...n){const{delegate:r}=Iy;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Iy;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class DG extends Wye{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Iy.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Iy.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,oo(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const QS={now:()=>(QS.delegate||Date).now(),delegate:void 0};class If{constructor(e,n=If.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}If.now=QS.now;class CG extends If{constructor(e,n=If.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const Yye=new class Kye extends CG{}(class qye extends DG{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),JS=new CG(DG),Qye=JS,ZS=new Iu("7.6.1"),XS="__angularfire_symbol__analyticsIsSupportedValue",eA="__angularfire_symbol__analyticsIsSupported",tA="__angularfire_symbol__remoteConfigIsSupportedValue",nA="__angularfire_symbol__remoteConfigIsSupported",rA="__angularfire_symbol__messagingIsSupportedValue",iA="__angularfire_symbol__messagingIsSupported";globalThis[eA]||(globalThis[eA]=Hye().then(t=>globalThis[XS]=t).catch(()=>globalThis[XS]=!1)),globalThis[iA]||(globalThis[iA]=fG().then(t=>globalThis[rA]=t).catch(()=>globalThis[rA]=!1)),globalThis[nA]||(globalThis[nA]=f_e().then(t=>globalThis[tA]=t).catch(()=>globalThis[tA]=!1));const aA=(t,e)=>{const n=e?[e]:gH(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function ll(){}class SG{constructor(e,n=Yye){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class Jye{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ll,{},ll,ll)),n.pipe(an({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let AG=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new SG(Zone.current)),this.insideAngular=n.run(()=>new SG(Zone.current,JS)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(q(Te))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Za(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Xa(t){return Za().ngZone.run(()=>t())}function Xye(t){return Za(),function eve(t){return function(n){return(n=n.lift(new Jye(t.ngZone))).pipe(gg(t.outsideAngular),pg(t.insideAngular))}}(Za())(t)}const tve=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Xa(()=>t.apply(void 0,r))},Lo=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=Xa(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ll,{},ll,ll)))),r[s]=tve(r[s],n));const i=function Zye(t){return Za().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof Ve){const s=Za();return i.pipe(gg(s.outsideAngular),pg(s.insideAngular))}return Xa(()=>i)}return i instanceof Ve?i.pipe(Xye):i instanceof Promise?Xa(()=>new Promise((s,o)=>i.then(a=>Xa(()=>s(a)),a=>Xa(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Xa(()=>i)};class dl{constructor(e){return e}}class xG{constructor(){return gH()}}const cA=new te("angularfire2._apps"),rve={provide:dl,useFactory:function nve(t){return t&&1===t.length?t[0]:new dl(pH())},deps:[[new yr,cA]]},ive={provide:xG,deps:[[new yr,cA]]};function sve(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new dl(r)}}let ove=(()=>{class t{constructor(n){Ht("angularfire",ZS.full,"core"),Ht("angularfire",ZS.full,"app"),Ht("angular",Bw.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(q(Ss))},t.\u0275mod=De({type:t}),t.\u0275inj=Ie({providers:[rve,ive]}),t})();function ave(t,...e){return{ngModule:ove,providers:[{provide:cA,useFactory:sve(t),multi:!0,deps:[Te,Yt,AG,...e]}]}}const cve=Lo(fH,!0);const uve=function NG(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},OG=new rs("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ty=new Oo("@firebase/auth");function Ey(t,...e){Ty.logLevel<=xe.ERROR&&Ty.error(`Auth (${vf}): ${t}`,...e)}function Cr(t,...e){throw uA(t,...e)}function os(t,...e){return uA(t,...e)}function uA(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return OG.create(t,...e)}function H(t,e,...n){if(!t)throw uA(e,...n)}function as(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ey(e),new Error(e)}function Vo(t,e){t||as(e)}function RG(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Ef{constructor(e,n){this.shortDelay=e,this.longDelay=n,Vo(n>e,"Short delay should be less than long delay!"),this.isMobile=function Bpe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zr())}()||function jpe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function dve(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function lA(){return"http:"===RG()||"https:"===RG()}()||QD()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class kG{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void as("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void as("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void as("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const fve={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},pve=new Ef(3e4,6e4);function Ot(t,e,n,r){return hA.apply(this,arguments)}function hA(){return(hA=p(function*(t,e,n,r,i={}){return PG(t,i,p(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=dH(Object.assign({key:t.config.apiKey},o)).slice(1),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),kG.fetch()(FG(t,t.config.apiHost,n,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function PG(t,e,n){return fA.apply(this,arguments)}function fA(){return(fA=p(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},fve),e);try{const i=new gve(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Df(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw Df(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===c)throw Df(t,"email-already-in-use",o);if("USER_DISABLED"===c)throw Df(t,"user-disabled",o);const l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw function MG(t,e,n){const r=Object.assign(Object.assign({},uve()),{[e]:n});return new rs("auth","Firebase",r).create(e,{appName:t.name})}(t,l,u);Cr(t,l)}}catch(i){if(i instanceof Ni)throw i;Cr(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function FG(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?function dA(t,e){Vo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`}class gve{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(os(this.auth,"network-request-failed")),pve.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Df(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=os(t,e,r);return i.customData._tokenResponse=n,i}function gA(){return(gA=p(function*(t,e){return Ot(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function _A(){return(_A=p(function*(t,e){return Ot(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Cf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function yA(){return(yA=p(function*(t,e=!1){const n=Oi(t),r=yield n.getIdToken(e),i=Dy(r);H(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Cf(vA(i.auth_time)),issuedAtTime:Cf(vA(i.iat)),expirationTime:Cf(vA(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function vA(t){return 1e3*Number(t)}function Dy(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Ey("JWT malformed, contained fewer than 3 sections"),null;try{const i=uy(n);return i?JSON.parse(i):(Ey("Failed to decode base64 JWT payload"),null)}catch(i){return Ey("Caught error parsing JWT payload as JSON",i?.toString()),null}}function qs(t,e){return bA.apply(this,arguments)}function bA(){return(bA=p(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Ni&&function wve({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class Ive{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(p(function*(){yield n.iteration()}),r)}iteration(){var e=this;return p(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class LG{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cf(this.lastLoginAt),this.creationTime=Cf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Sf(t){return wA.apply(this,arguments)}function wA(){return wA=p(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield qs(t,function yve(t,e){return _A.apply(this,arguments)}(n,{idToken:r}));H(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function Dve(t){return t.map(e=>{var{providerId:n}=e,r=Gc(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function Eve(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new LG(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),wA.apply(this,arguments)}function IA(){return(IA=p(function*(t){const e=Oi(t);yield Sf(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function TA(){return(TA=p(function*(t,e){const n=yield PG(t,{},p(function*(){const r=dH({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=FG(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",kG.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class Af{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){H(e.idToken,"internal-error"),H(typeof e.idToken<"u","internal-error"),H(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function bve(t){const e=Dy(t);return H(e,"internal-error"),H(typeof e.exp<"u","internal-error"),H(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return p(function*(){return H(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return p(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function Cve(t,e){return TA.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Af;return r&&(H("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(H("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(H("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Af,this.toJSON())}_performRefresh(){return as("not implemented")}}function Bo(t,e){H("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class ec{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Gc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ive(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new LG(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return p(function*(){const r=yield qs(n,n.stsTokenManager.getToken(n.auth,e));return H(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function vve(t){return yA.apply(this,arguments)}(this,e)}reload(){return function Tve(t){return IA.apply(this,arguments)}(this)}_assign(e){this!==e&&(H(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ec(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){H(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return p(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Sf(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return p(function*(){const n=yield e.getIdToken();return yield qs(e,function mve(t,e){return gA.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,u,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,g=null!==(o=n.photoURL)&&void 0!==o?o:void 0,m=null!==(a=n.tenantId)&&void 0!==a?a:void 0,_=null!==(c=n._redirectEventId)&&void 0!==c?c:void 0,w=null!==(u=n.createdAt)&&void 0!==u?u:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:S,emailVerified:R,isAnonymous:U,providerData:W,stsTokenManager:oe}=n;H(S&&oe,e,"internal-error");const me=Af.fromJSON(this.name,oe);H("string"==typeof S,e,"internal-error"),Bo(d,e.name),Bo(h,e.name),H("boolean"==typeof R,e,"internal-error"),H("boolean"==typeof U,e,"internal-error"),Bo(f,e.name),Bo(g,e.name),Bo(m,e.name),Bo(_,e.name),Bo(w,e.name),Bo(y,e.name);const Le=new ec({uid:S,auth:e,email:h,emailVerified:R,displayName:d,isAnonymous:U,photoURL:g,phoneNumber:f,tenantId:m,stsTokenManager:me,createdAt:w,lastLoginAt:y});return W&&Array.isArray(W)&&(Le.providerData=W.map(mt=>Object.assign({},mt))),_&&(Le._redirectEventId=_),Le}static _fromIdTokenResponse(e,n,r=!1){return p(function*(){const i=new Af;i.updateFromServerResponse(n);const s=new ec({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Sf(s),s})()}}const VG=new Map;function Ks(t){Vo(t instanceof Function,"Expected a class definition");let e=VG.get(t);return e?(Vo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,VG.set(t,e),e)}const BG=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return p(function*(){return!0})()}_set(n,r){var i=this;return p(function*(){i.storage[n]=r})()}_get(n){var r=this;return p(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return p(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Cy(t,e,n){return`firebase:${t}:${e}:${n}`}class fl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Cy(this.userKey,i.apiKey,s),this.fullPersistenceKey=Cy("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return p(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?ec._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return p(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return p(function*(){if(!n.length)return new fl(Ks(BG),e,r);const i=(yield Promise.all(n.map(function(){var u=p(function*(l){if(yield l._isAvailable())return l});return function(l){return u.apply(this,arguments)}}()))).filter(u=>u);let s=i[0]||Ks(BG);const o=Cy(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const l=yield u._get(o);if(l){const d=ec._fromJSON(e,l);u!==s&&(a=d),s=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return s._shouldAllowMigration&&c.length?(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var u=p(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return u.apply(this,arguments)}}())),new fl(s,e,r)):new fl(s,e,r)})()}}function UG(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function HG(t=zr()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function jG(t=zr()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function zG(t=zr()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function WG(t=zr()){return/webos/i.test(t)}(e))return"Webos";if(function EA(t=zr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function $G(t=zr()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function GG(t=zr()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function qG(t,e=[]){let n;switch(t){case"Browser":n=UG(zr());break;case"Worker":n=`${UG(zr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${vf}/${r}`}function KG(t,e){return CA.apply(this,arguments)}function CA(){return(CA=p(function*(t,e){return Ot(t,"GET","/v2/recaptchaConfig",function Ct(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}(t,e))})).apply(this,arguments)}function QG(t){return void 0!==t&&void 0!==t.enterprise}class JG{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}class XG{constructor(e){this.type="recaptcha-enterprise",this.auth=vn(e)}verify(e="verify",n=!1){var r=this;return p(function*(){function s(){return s=p(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var c=p(function*(u,l){KG(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new JG(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,u(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(u,l){return c.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,c,u){const l=window.grecaptcha;QG(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{c(d)}).catch(()=>{c("NO_RECAPTCHA")})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,c)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(u=>{if(!n&&QG(window.grecaptcha))o(u,a,c);else{if(typeof window>"u")return void c(new Error("RecaptchaVerifier is only supported in browser"));(function SA(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=os("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function Nve(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})})("https://www.google.com/recaptcha/enterprise.js?render="+u).then(()=>{o(u,a,c)}).catch(l=>{c(l)})}}).catch(u=>{c(u)})})})()}}class kve{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return p(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class Pve{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new e5(this),this.idTokenSubscription=new e5(this),this.beforeStateQueue=new kve(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=OG,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Ks(n)),this._initializationPromise=this.queue(p(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield fl.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return p(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return p(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,c=s?._redirectEventId,u=yield n.tryRedirectSignIn(e);(!a||a===c)&&u?.user&&(s=u.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return H(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return p(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return p(function*(){try{yield Sf(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function hve(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return p(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return p(function*(){const r=e?Oi(e):null;return r&&H(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return p(function*(){if(!r._deleted)return e&&H(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(p(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return p(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(p(function*(){yield n.assertedPersistence.setPersistence(Ks(e))}))}initializeRecaptchaConfig(){var e=this;return p(function*(){const n=yield KG(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new JG(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new XG(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new rs("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return p(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return p(function*(){if(!n.redirectPersistenceManager){const r=e&&Ks(e)||n._popupRedirectResolver;H(r,n,"argument-error"),n.redirectPersistenceManager=yield fl.create(n,[Ks(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return p(function*(){var r,i;return n._isInitialized&&(yield n.queue(p(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return p(function*(){if(e===n.currentUser)return n.queue(p(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return H(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return p(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return H(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qG(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return p(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return p(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function lve(t,...e){Ty.logLevel<=xe.WARN&&Ty.warn(`Auth (${vf}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function vn(t){return Oi(t)}class e5{constructor(e){this.auth=e,this.observer=null,this.addObserver=function zpe(t,e){const n=new Wpe(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return H(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function ZG(t){return`__${t}${Math.floor(1e6*Math.random())}`})("rcb"),new Ef(3e4,6e4),new Ef(2e3,1e4),new Ef(3e4,6e4),new Ef(5e3,15e3),encodeURIComponent("fac");var x5="@firebase/auth";class Sbe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return p(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){H(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}ly(),function xbe(t){cr(new zn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;H(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qG(t)},u=new Pve(r,i,s,c);return function Lve(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ks);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),cr(new zn("auth-internal",e=>{const n=vn(e.getProvider("auth").getImmediate());return new Sbe(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ht(x5,"0.23.2",function Abe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),Ht(x5,"0.23.2","esm2017")}("Browser");class R5{constructor(){return aA("auth")}}const gN=new Map,k5={activated:!1,tokenObservers:[]},Fbe={initialized:!1,enabled:!1};function Mt(t){return gN.get(t)||Object.assign({},k5)}function By(){return Fbe}const mN="https://content-firebaseappcheck.googleapis.com/v1",Ube="exchangeDebugToken",P5={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class $be{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return p(function*(){n.stop();try{n.pending=new dy,yield function Hbe(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new dy,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const kn=new rs("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function _N(t){if(!Mt(t).activated)throw kn.create("use-before-activation",{appName:t.name})}function $y(t,e){return vN.apply(this,arguments)}function vN(){return vN=p(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw kn.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw kn.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw kn.create("fetch-parse-error",{originalErrorMessage:d?.message})}const c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw kn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const u=1e3*Number(c[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+u,issuedAtTimeMillis:l}}),vN.apply(this,arguments)}function F5(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${mN}/projects/${n}/apps/${r}:${Ube}?key=${i}`,body:{debug_token:e}}}const qbe="firebase-app-check-database",Kbe=1,Rf="firebase-app-check-store";let Hy=null;function bN(){return bN=p(function*(t,e){const r=(yield function V5(){return Hy||(Hy=new Promise((t,e)=>{try{const n=indexedDB.open(qbe,Kbe);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(kn.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Rf,{keyPath:"compositeKey"})}}catch(n){e(kn.create("storage-open",{originalErrorMessage:n?.message}))}}),Hy)}()).transaction(Rf,"readwrite"),s=r.objectStore(Rf).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=c=>{o()},r.onerror=c=>{var u;a(kn.create("storage-set",{originalErrorMessage:null===(u=c.target.error)||void 0===u?void 0:u.message}))}})}),bN.apply(this,arguments)}const kf=new Oo("@firebase/app-check");function TN(t,e){return Ga()?function Qbe(t,e){return function B5(t,e){return bN.apply(this,arguments)}(function j5(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{kf.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function DN(){return By().enabled}function CN(){return SN.apply(this,arguments)}function SN(){return SN=p(function*(){const t=By();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),SN.apply(this,arguments)}const nwe={error:"UNKNOWN_ERROR"};function rwe(t){return YD.encodeString(JSON.stringify(t),!1)}function Gy(t){return AN.apply(this,arguments)}function AN(){return AN=p(function*(t,e=!1){const n=t.app;_N(n);const r=Mt(n);let s,i=r.token;if(i&&!gl(i)&&(r.token=void 0,i=void 0),!i){const c=yield r.cachedTokenPromise;c&&(gl(c)?i=c:yield TN(n,void 0))}if(!e&&i&&gl(i))return{token:i.token};let a,o=!1;if(DN()){r.exchangeTokenPromise||(r.exchangeTokenPromise=$y(F5(n,yield CN()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const c=yield r.exchangeTokenPromise;return yield TN(n,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield Mt(n).exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code?kf.warn(c.message):kf.error(c),s=c}return i?s?a=gl(i)?{token:i.token,internalError:s}:z5(s):(a={token:i.token},r.token=i,yield TN(n,i)):a=z5(s),o&&function G5(t,e){const n=Mt(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,a),a}),AN.apply(this,arguments)}function xN(){return xN=p(function*(t){const e=t.app;_N(e);const{provider:n}=Mt(e);if(DN()){const r=yield CN(),{token:i}=yield $y(F5(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}}),xN.apply(this,arguments)}function ON(t,e){const n=Mt(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function H5(t){const{app:e}=t,n=Mt(e);let r=n.tokenRefresher;r||(r=function iwe(t){const{app:e}=t;return new $be(p(function*(){let r;if(r=Mt(e).token?yield Gy(t,!0):yield Gy(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=Mt(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},P5.RETRIAL_MIN_WAIT,P5.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function gl(t){return t.expireTimeMillis-Date.now()>0}function z5(t){return{token:rwe(nwe),error:t}}class swe{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Mt(this.app);for(const n of e)ON(this.app,n.next);return Promise.resolve()}}const X5="app-check-internal";!function vwe(){cr(new zn("app-check",t=>function owe(t,e){return new swe(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(X5).initialize()})),cr(new zn(X5,t=>function awe(t){return{getToken:e=>Gy(t,e),getLimitedUseToken:()=>function $5(t){return xN.apply(this,arguments)}(t),addTokenListener:e=>function NN(t,e,n,r){const{app:i}=t,s=Mt(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&gl(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),H5(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>H5(t))}(t,"INTERNAL",e),removeTokenListener:e=>ON(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Ht("@firebase/app-check","0.8.0")}();class tz{constructor(){return aA("app-check")}}typeof window<"u"&&window;var X,Ewe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Mi={},FN=FN||{},ge=Ewe||self;function Wy(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Pf(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var LN="closure_uid_"+(1e9*Math.random()>>>0),Cwe=0;function Swe(t,e,n){return t.call.apply(t.bind,arguments)}function Awe(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Wn(t,e,n){return(Wn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Swe:Awe).apply(null,arguments)}function qy(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function bn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function jo(){this.s=this.s,this.o=this.o}jo.prototype.s=!1,jo.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Dwe(t){Object.prototype.hasOwnProperty.call(t,LN)&&t[LN]||(t[LN]=++Cwe)}(this)},jo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const nz=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function VN(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function rz(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Wy(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function qn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}qn.prototype.h=function(){this.defaultPrevented=!0};var Nwe=function(){if(!ge.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ge.addEventListener("test",()=>{},e),ge.removeEventListener("test",()=>{},e)}catch{}return t}();function Ff(t){return/^[\s\xa0]*$/.test(t)}function Ky(){var t=ge.navigator;return t&&(t=t.userAgent)?t:""}function cs(t){return-1!=Ky().indexOf(t)}function BN(t){return BN[" "](t),t}BN[" "]=function(){};var jN,Mwe=cs("Opera"),ml=cs("Trident")||cs("MSIE"),iz=cs("Edge"),UN=iz||ml,sz=cs("Gecko")&&!(-1!=Ky().toLowerCase().indexOf("webkit")&&!cs("Edge"))&&!(cs("Trident")||cs("MSIE"))&&!cs("Edge"),Rwe=-1!=Ky().toLowerCase().indexOf("webkit")&&!cs("Edge");function oz(){var t=ge.document;return t?t.documentMode:void 0}e:{var $N="",HN=function(){var t=Ky();return sz?/rv:([^\);]+)(\)|;)/.exec(t):iz?/Edge\/([\d\.]+)/.exec(t):ml?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Rwe?/WebKit\/(\S+)/.exec(t):Mwe?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(HN&&($N=HN?HN[1]:""),ml){var GN=oz();if(null!=GN&&GN>parseFloat($N)){jN=String(GN);break e}}jN=$N}var kwe=ge.document&&ml&&(oz()||parseInt(jN,10))||void 0;function Lf(t,e){if(qn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(sz){e:{try{BN(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Pwe[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Lf.$.h.call(this)}}bn(Lf,qn);var Pwe={2:"touch",3:"pen",4:"mouse"};Lf.prototype.h=function(){Lf.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Vf="closure_listenable_"+(1e6*Math.random()|0),Fwe=0;function Lwe(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Fwe,this.fa=this.ia=!1}function Yy(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function WN(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function cz(t){const e={};for(const n in t)e[n]=t[n];return e}const uz="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lz(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<uz.length;s++)n=uz[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Qy(t){this.src=t,this.g={},this.h=0}function qN(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=nz(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Yy(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function KN(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}Qy.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=KN(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new Lwe(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var YN="closure_lm_"+(1e6*Math.random()|0),QN={};function dz(t,e,n,r,i){if(r&&r.once)return fz(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)dz(t,e[s],n,r,i);return null}return n=eO(n),t&&t[Vf]?t.O(e,n,Pf(r)?!!r.capture:!!r,i):hz(t,e,n,!1,r,i)}function hz(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Pf(i)?!!i.capture:!!i,a=ZN(t);if(a||(t[YN]=a=new Qy(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function Bwe(){const e=Uwe;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Nwe||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(gz(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function fz(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)fz(t,e[s],n,r,i);return null}return n=eO(n),t&&t[Vf]?t.P(e,n,Pf(r)?!!r.capture:!!r,i):hz(t,e,n,!0,r,i)}function pz(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)pz(t,e[s],n,r,i);else r=Pf(r)?!!r.capture:!!r,n=eO(n),t&&t[Vf]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=KN(s=t.g[e],n,r,i))&&(Yy(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=ZN(t))&&(e=t.g[e.toString()],t=-1,e&&(t=KN(e,n,r,i)),(n=-1<t?e[t]:null)&&JN(n))}function JN(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Vf])qN(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(gz(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ZN(e))?(qN(n,t),0==n.h&&(n.src=null,e[YN]=null)):Yy(t)}}}function gz(t){return t in QN?QN[t]:QN[t]="on"+t}function Uwe(t,e){if(t.fa)t=!0;else{e=new Lf(e,this);var n=t.listener,r=t.la||t.src;t.ia&&JN(t),t=n.call(r,e)}return t}function ZN(t){return(t=t[YN])instanceof Qy?t:null}var XN="__closure_events_fn_"+(1e9*Math.random()>>>0);function eO(t){return"function"==typeof t?t:(t[XN]||(t[XN]=function(e){return t.handleEvent(e)}),t[XN])}function wn(){jo.call(this),this.i=new Qy(this),this.S=this,this.J=null}function Pn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new qn(e,t);else if(e instanceof qn)e.target=e.target||t;else{var i=e;lz(e=new qn(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Jy(o,r,!0,e)&&i}if(i=Jy(o=e.g=t,r,!0,e)&&i,i=Jy(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Jy(o=e.g=n[s],r,!1,e)&&i}function Jy(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&qN(t.i,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}bn(wn,jo),wn.prototype[Vf]=!0,wn.prototype.removeEventListener=function(t,e,n,r){pz(this,t,e,n,r)},wn.prototype.N=function(){if(wn.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Yy(n[r]);delete t.g[e],t.h--}}this.J=null},wn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},wn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var tO=ge.JSON.stringify;function $we(){var t=nO;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var mz=new class jwe{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Gwe,t=>t.reset());class Gwe{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function zwe(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Wwe(t){ge.setTimeout(()=>{throw t},0)}let Bf,Uf=!1,nO=new class Hwe{constructor(){this.h=this.g=null}add(e,n){const r=mz.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},_z=()=>{const t=ge.Promise.resolve(void 0);Bf=()=>{t.then(qwe)}};var qwe=()=>{for(var t;t=$we();){try{t.h.call(t.g)}catch(n){Wwe(n)}var e=mz;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Uf=!1};function Zy(t,e){wn.call(this),this.h=t||1,this.g=e||ge,this.j=Wn(this.qb,this),this.l=Date.now()}function rO(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function iO(t,e,n){if("function"==typeof t)n&&(t=Wn(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Wn(t.handleEvent,t)}return 2147483647<Number(e)?-1:ge.setTimeout(t,e||0)}function yz(t){t.g=iO(()=>{t.g=null,t.i&&(t.i=!1,yz(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}bn(Zy,wn),(X=Zy.prototype).ga=!1,X.T=null,X.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Pn(this,"tick"),this.ga&&(rO(this),this.start()))}},X.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},X.N=function(){Zy.$.N.call(this),rO(this),delete this.g};class Kwe extends jo{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:yz(this)}N(){super.N(),this.g&&(ge.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jf(t){jo.call(this),this.h=t,this.g={}}bn(jf,jo);var vz=[];function bz(t,e,n,r){Array.isArray(n)||(n&&(vz[0]=n.toString()),n=vz);for(var i=0;i<n.length;i++){var s=dz(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function wz(t){WN(t.g,function(e,n){this.g.hasOwnProperty(n)&&JN(e)},t),t.g={}}function Xy(){this.g=!0}function _l(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Zwe(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return tO(n)}catch{return e}}(t,n)+(r?" "+r:"")})}jf.prototype.N=function(){jf.$.N.call(this),wz(this)},jf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Xy.prototype.Ea=function(){this.g=!1},Xy.prototype.info=function(){};var ic={},Iz=null;function ev(){return Iz=Iz||new wn}function Tz(t){qn.call(this,ic.Ta,t)}function $f(t){const e=ev();Pn(e,new Tz(e))}function Ez(t,e){qn.call(this,ic.STAT_EVENT,t),this.stat=e}function lr(t){const e=ev();Pn(e,new Ez(e,t))}function Dz(t,e){qn.call(this,ic.Ua,t),this.size=e}function Hf(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return ge.setTimeout(function(){t()},e)}ic.Ta="serverreachability",bn(Tz,qn),ic.STAT_EVENT="statevent",bn(Ez,qn),ic.Ua="timingevent",bn(Dz,qn);var tv={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Cz={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function sO(){}function Az(){}sO.prototype.h=null;var cO,Gf={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function oO(){qn.call(this,"d")}function aO(){qn.call(this,"c")}function nv(){}function zf(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new jf(this),this.P=Xwe,this.V=new Zy(t=UN?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new xz}function xz(){this.i=null,this.g="",this.h=!1}bn(oO,qn),bn(aO,qn),bn(nv,sO),nv.prototype.g=function(){return new XMLHttpRequest},nv.prototype.i=function(){return{}},cO=new nv;var Xwe=45e3,uO={},rv={};function lO(t,e,n){t.L=1,t.v=av(Qs(e)),t.s=n,t.S=!0,Nz(t,null)}function Nz(t,e){t.G=Date.now(),Wf(t),t.A=Qs(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),Uz(n.i,"t",r),t.C=0,n=t.l.J,t.h=new xz,t.g=l6(t.l,n?e:null,!t.s),0<t.O&&(t.M=new Kwe(Wn(t.Pa,t,t.g),t.O)),bz(t.U,t.g,"readystatechange",t.nb),e=t.I?cz(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),$f(),function Ywe(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+u+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function Oz(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function Mz(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=eIe(t,n),i==rv){4==e&&(t.o=4,lr(14),r=!1),_l(t.j,t.m,null,"[Incomplete Response]");break}if(i==uO){t.o=4,lr(15),_l(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}_l(t.j,t.m,i,null),dO(t,i)}Oz(t)&&i!=rv&&i!=uO&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,lr(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),yO(e),e.M=!0,lr(11))):(_l(t.j,t.m,n,"[Invalid Chunked Response]"),sc(t),qf(t))}function eIe(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?rv:(n=Number(e.substring(n,r)),isNaN(n)?uO:(r+=1)+n>e.length?rv:(e=e.slice(r,r+n),t.C=r+n,e))}function Wf(t){t.Y=Date.now()+t.P,Rz(t,t.P)}function Rz(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Hf(Wn(t.lb,t),e)}function iv(t){t.B&&(ge.clearTimeout(t.B),t.B=null)}function qf(t){0==t.l.H||t.J||o6(t.l,t)}function sc(t){iv(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,rO(t.V),wz(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function dO(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||hO(n.i,t)))if(!t.K&&hO(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;fv(n),dv(n)}_O(n),lr(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Hf(Wn(n.ib,n),6e3));if(1>=Hz(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ac(n,11)}else if((t.K||n.g==t)&&fv(n),!Ff(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],2==n.H)if("c"==u[0]){n.K=u[1],n.pa=u[2];const l=u[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=u[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=u[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const g=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var s=r.i;s.g||-1==g.indexOf("spdy")&&-1==g.indexOf("quic")&&-1==g.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(fO(s,s.h),s.h=null))}if(r.F){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,ht(r.I,r.F,m))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=u6(r,r.J?r.pa:null,r.Y),o.K){Gz(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.B&&(iv(a),Wf(a)),r.g=o}else i6(r);0<n.j.length&&hv(n)}else"stop"!=u[0]&&"close"!=u[0]||ac(n,7);else 3==n.H&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?ac(n,7):mO(n):"noop"!=u[0]&&n.h&&n.h.Aa(u),n.A=0)}$f()}catch{}}function kz(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Wy(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function nIe(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Wy(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function tIe(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(Wy(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(X=zf.prototype).setTimeout=function(t){this.P=t},X.nb=function(t){t=t.target;const e=this.M;e&&3==us(t)?e.l():this.Pa(t)},X.Pa=function(t){try{if(t==this.g)e:{const l=us(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||UN||this.g&&(this.h.h||this.g.ja()||Zz(this.g)))){this.J||4!=l||7==e||$f(),iv(this);var n=this.g.da();this.ca=n;t:if(Oz(this)){var r=Zz(this.g);t="";var i=r.length,s=4==us(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){sc(this),qf(this);var o="";break t}this.h.i=new ge.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function Qwe(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ff(a)){var u=a;break t}}u=null}if(!(n=u)){this.i=!1,this.o=3,lr(12),sc(this),qf(this);break e}_l(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,dO(this,n)}this.S?(Mz(this,l,o),UN&&this.i&&3==l&&(bz(this.U,this.V,"tick",this.mb),this.V.start())):(_l(this.j,this.m,o,null),dO(this,o)),4==l&&sc(this),this.i&&!this.J&&(4==l?o6(this.l,this):(this.i=!1,Wf(this)))}else(function bIe(t){const e={};t=(t.g&&2<=us(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Ff(t[r]))continue;var n=zwe(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function Vwe(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,lr(12)):(this.o=0,lr(13)),sc(this),qf(this)}}}catch{}},X.mb=function(){if(this.g){var t=us(this.g),e=this.g.ja();this.C<e.length&&(iv(this),Mz(this,t,e),this.i&&4!=t&&Wf(this))}},X.cancel=function(){this.J=!0,sc(this)},X.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function Jwe(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&($f(),lr(17)),sc(this),this.o=2,qf(this)):Rz(this,this.Y-t)};var Pz=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oc(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof oc){this.h=t.h,sv(this,t.j),this.s=t.s,this.g=t.g,ov(this,t.m),this.l=t.l;var e=t.i,n=new Qf;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Fz(this,n),this.o=t.o}else t&&(e=String(t).match(Pz))?(this.h=!1,sv(this,e[1]||"",!0),this.s=Kf(e[2]||""),this.g=Kf(e[3]||"",!0),ov(this,e[4]),this.l=Kf(e[5]||"",!0),Fz(this,e[6]||"",!0),this.o=Kf(e[7]||"")):(this.h=!1,this.i=new Qf(null,this.h))}function Qs(t){return new oc(t)}function sv(t,e,n){t.j=n?Kf(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function ov(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Fz(t,e,n){e instanceof Qf?(t.i=e,function uIe(t,e){e&&!t.j&&($o(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(Vz(this,r),Uz(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=Yf(e,aIe)),t.i=new Qf(e,t.h))}function ht(t,e,n){t.i.set(e,n)}function av(t){return ht(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Kf(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Yf(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,iIe),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function iIe(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}oc.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Yf(e,Lz,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Yf(e,Lz,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Yf(n,"/"==n.charAt(0)?oIe:sIe,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Yf(n,cIe)),t.join("")};var Lz=/[#\/\?@]/g,sIe=/[#\?:]/g,oIe=/[#\?]/g,aIe=/[#\?@]/g,cIe=/#/g;function Qf(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function $o(t){t.g||(t.g=new Map,t.h=0,t.i&&function rIe(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Vz(t,e){$o(t),e=yl(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Bz(t,e){return $o(t),e=yl(t,e),t.g.has(e)}function Uz(t,e,n){Vz(t,e),0<n.length&&(t.i=null,t.g.set(yl(t,e),VN(n)),t.h+=n.length)}function yl(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function jz(t){this.l=t||dIe,t=ge.PerformanceNavigationTiming?0<(t=ge.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(ge.g&&ge.g.Ka&&ge.g.Ka()&&ge.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(X=Qf.prototype).add=function(t,e){$o(this),this.i=null,t=yl(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},X.forEach=function(t,e){$o(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},X.ta=function(){$o(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},X.Z=function(t){$o(this);let e=[];if("string"==typeof t)Bz(this,t)&&(e=e.concat(this.g.get(yl(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},X.set=function(t,e){return $o(this),this.i=null,Bz(this,t=yl(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},X.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},X.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var dIe=10;function $z(t){return!!t.h||!!t.g&&t.g.size>=t.j}function Hz(t){return t.h?1:t.g?t.g.size:0}function hO(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function fO(t,e){t.g?t.g.add(e):t.h=e}function Gz(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function zz(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return VN(t.i)}jz.prototype.cancel=function(){if(this.i=zz(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var hIe=class{stringify(t){return ge.JSON.stringify(t,void 0)}parse(t){return ge.JSON.parse(t,void 0)}};function fIe(){this.g=new hIe}function pIe(t,e,n){const r=n||"";try{kz(t,function(i,s){let o=i;Pf(i)&&(o=tO(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function cv(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Jf(t){this.l=t.fc||null,this.j=t.ob||!1}function uv(t,e){wn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=pO,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}bn(Jf,sO),Jf.prototype.g=function(){return new uv(this.l,this.j)},Jf.prototype.i=function(t){return function(){return t}}({}),bn(uv,wn);var pO=0;function Wz(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function Zf(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Xf(t)}function Xf(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(X=uv.prototype).open=function(t,e){if(this.readyState!=pO)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Xf(this)},X.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ge).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},X.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Zf(this)),this.readyState=pO},X.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Xf(this)),this.g&&(this.readyState=3,Xf(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ge.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Wz(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},X.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Zf(this):Xf(this),3==this.readyState&&Wz(this)}},X.Za=function(t){this.g&&(this.response=this.responseText=t,Zf(this))},X.Ya=function(t){this.g&&(this.response=t,Zf(this))},X.ka=function(){this.g&&Zf(this)},X.setRequestHeader=function(t,e){this.v.append(t,e)},X.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},X.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(uv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var mIe=ge.JSON.parse;function Rt(t){wn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=qz,this.L=this.M=!1}bn(Rt,wn);var qz="",_Ie=/^https?$/i,yIe=["POST","PUT"];function Kz(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Yz(t),lv(t)}function Yz(t){t.F||(t.F=!0,Pn(t,"complete"),Pn(t,"error"))}function Qz(t){if(t.h&&typeof FN<"u"&&(!t.C[1]||4!=us(t)||2!=t.da()))if(t.v&&4==us(t))iO(t.La,0,t);else if(Pn(t,"readystatechange"),4==us(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(Pz)[1]||null;!i&&ge.self&&ge.self.location&&(i=ge.self.location.protocol.slice(0,-1)),r=!_Ie.test(i?i.toLowerCase():"")}n=r}if(n)Pn(t,"complete"),Pn(t,"success");else{t.m=6;try{var s=2<us(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",Yz(t)}}finally{lv(t)}}}function lv(t,e){if(t.g){Jz(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Pn(t,"ready");try{n.onreadystatechange=r}catch{}}}function Jz(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ge.clearTimeout(t.A),t.A=null)}function us(t){return t.g?t.g.readyState:0}function Zz(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case qz:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Xz(t){let e="";return WN(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function gO(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Xz(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):ht(t,e,n))}function ep(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function e6(t){this.Ga=0,this.j=[],this.l=new Xy,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ep("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ep("baseRetryDelayMs",5e3,t),this.hb=ep("retryDelaySeedMs",1e4,t),this.eb=ep("forwardChannelMaxRetries",2,t),this.xa=ep("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new jz(t&&t.concurrentRequestLimit),this.Ja=new fIe,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function mO(t){if(t6(t),3==t.H){var e=t.W++,n=Qs(t.I);if(ht(n,"SID",t.K),ht(n,"RID",e),ht(n,"TYPE","terminate"),tp(t,n),(e=new zf(t,t.l,e)).L=2,e.v=av(Qs(n)),n=!1,ge.navigator&&ge.navigator.sendBeacon)try{n=ge.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&ge.Image&&((new Image).src=e.v,n=!0),n||(e.g=l6(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Wf(e)}c6(t)}function dv(t){t.g&&(yO(t),t.g.cancel(),t.g=null)}function t6(t){dv(t),t.u&&(ge.clearTimeout(t.u),t.u=null),fv(t),t.i.cancel(),t.m&&("number"==typeof t.m&&ge.clearTimeout(t.m),t.m=null)}function hv(t){if(!$z(t.i)&&!t.m){t.m=!0;var e=t.Na;Bf||_z(),Uf||(Bf(),Uf=!0),nO.add(e,t),t.C=0}}function n6(t,e){var n;n=e?e.m:t.W++;const r=Qs(t.I);ht(r,"SID",t.K),ht(r,"RID",n),ht(r,"AID",t.V),tp(t,r),t.o&&t.s&&gO(r,t.o,t.s),n=new zf(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=r6(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),fO(t.i,n),lO(n,r,e)}function tp(t,e){t.na&&WN(t.na,function(n,r){ht(e,r,n)}),t.h&&kz({},function(n,r){ht(e,r,n)})}function r6(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Wn(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let u=i[c].g;const l=i[c].map;if(u-=s,0>u)s=Math.max(0,i[c].g-100),a=!1;else try{pIe(l,o,"req"+u+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function i6(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Bf||_z(),Uf||(Bf(),Uf=!0),nO.add(e,t),t.A=0}}function _O(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Hf(Wn(t.Ma,t),a6(t,t.A)),t.A++,0))}function yO(t){null!=t.B&&(ge.clearTimeout(t.B),t.B=null)}function s6(t){t.g=new zf(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Qs(t.wa);ht(e,"RID","rpc"),ht(e,"SID",t.K),ht(e,"AID",t.V),ht(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&ht(e,"TO",t.qa),ht(e,"TYPE","xmlhttp"),tp(t,e),t.o&&t.s&&gO(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=av(Qs(e)),n.s=null,n.S=!0,Nz(n,t)}function fv(t){null!=t.v&&(ge.clearTimeout(t.v),t.v=null)}function o6(t,e){var n=null;if(t.g==e){fv(t),yO(t),t.g=null;var r=2}else{if(!hO(t.i,e))return;n=e.F,Gz(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Pn(r=ev(),new Dz(r,n)),hv(t)}else i6(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function wIe(t,e){return!(Hz(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Hf(Wn(t.Na,t,e),a6(t,t.C)),t.C++,0)))}(t,e)||2==r&&_O(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:ac(t,5);break;case 4:ac(t,10);break;case 3:ac(t,6);break;default:ac(t,2)}}function a6(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function ac(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=Wn(t.pb,t);n||(n=new oc("//www.google.com/images/cleardot.gif"),ge.location&&"http"==ge.location.protocol||sv(n,"https"),av(n)),function gIe(t,e){const n=new Xy;if(ge.Image){const r=new Image;r.onload=qy(cv,n,r,"TestLoadImage: loaded",!0,e),r.onerror=qy(cv,n,r,"TestLoadImage: error",!1,e),r.onabort=qy(cv,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=qy(cv,n,r,"TestLoadImage: timeout",!1,e),ge.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else lr(2);t.H=0,t.h&&t.h.za(e),c6(t),t6(t)}function c6(t){if(t.H=0,t.ma=[],t.h){const e=zz(t.i);(0!=e.length||0!=t.j.length)&&(rz(t.ma,e),rz(t.ma,t.j),t.i.i.length=0,VN(t.j),t.j.length=0),t.h.ya()}}function u6(t,e,n){var r=n instanceof oc?Qs(n):new oc(n);if(""!=r.g)e&&(r.g=e+"."+r.g),ov(r,r.m);else{var i=ge.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new oc(null);r&&sv(s,r),e&&(s.g=e),i&&ov(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&ht(r,n,e),ht(r,"VER",t.ra),tp(t,r),r}function l6(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Rt(n&&t.Ha&&!t.va?new Jf({ob:!0}):t.va)).Oa(t.J),e}function d6(){}function pv(){if(ml&&!(10<=Number(kwe)))throw Error("Environmental error: no available transport.")}function Wr(t,e){wn.call(this),this.g=new e6(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Ff(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ff(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new vl(this)}function h6(t){oO.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function f6(){aO.call(this),this.status=1}function vl(t){this.g=t}function Ri(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function vO(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function et(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(X=Rt.prototype).Oa=function(t){this.M=t},X.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():cO.g(),this.C=function Sz(t){return t.h||(t.h=t.i())}(this.u?this.u:cO),this.g.onreadystatechange=Wn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void Kz(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=ge.FormData&&t instanceof ge.FormData,!(0<=nz(yIe,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Jz(this),0<this.B&&((this.L=function vIe(t){return ml&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Wn(this.ua,this)):this.A=iO(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){Kz(this,s)}},X.ua=function(){typeof FN<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Pn(this,"timeout"),this.abort(8))},X.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Pn(this,"complete"),Pn(this,"abort"),lv(this))},X.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),lv(this,!0)),Rt.$.N.call(this)},X.La=function(){this.s||(this.G||this.v||this.l?Qz(this):this.kb())},X.kb=function(){Qz(this)},X.isActive=function(){return!!this.g},X.da=function(){try{return 2<us(this)?this.g.status:-1}catch{return-1}},X.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},X.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),mIe(e)}},X.Ia=function(){return this.m},X.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(X=e6.prototype).ra=8,X.H=1,X.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new zf(this,this.l,t);let s=this.s;if(this.U&&(s?(s=cz(s),lz(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=r6(this,i,e),ht(n=Qs(this.I),"RID",t),ht(n,"CVER",22),this.F&&ht(n,"X-HTTP-Session-Id",this.F),tp(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(Xz(s)))+"&"+e:this.o&&gO(n,this.o,s)),fO(this.i,i),this.bb&&ht(n,"TYPE","init"),this.P?(ht(n,"$req",e),ht(n,"SID","null"),i.aa=!0,lO(i,n,null)):lO(i,n,e),this.H=2}}else 3==this.H&&(t?n6(this,t):0==this.j.length||$z(this.i)||n6(this))},X.Ma=function(){if(this.u=null,s6(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Hf(Wn(this.jb,this),t)}},X.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,lr(10),dv(this),s6(this))},X.ib=function(){null!=this.v&&(this.v=null,dv(this),_O(this),lr(19))},X.pb=function(t){t?(this.l.info("Successfully pinged google.com"),lr(2)):(this.l.info("Failed to ping google.com"),lr(1))},X.isActive=function(){return!!this.h&&this.h.isActive(this)},(X=d6.prototype).Ba=function(){},X.Aa=function(){},X.za=function(){},X.ya=function(){},X.isActive=function(){return!0},X.Va=function(){},pv.prototype.g=function(t,e){return new Wr(t,e)},bn(Wr,wn),Wr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;lr(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=u6(t,null,t.Y),hv(t)},Wr.prototype.close=function(){mO(this.g)},Wr.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=tO(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&hv(e)},Wr.prototype.N=function(){this.g.h=null,delete this.j,mO(this.g),delete this.g,Wr.$.N.call(this)},bn(h6,oO),bn(f6,aO),bn(vl,d6),vl.prototype.Ba=function(){Pn(this.g,"a")},vl.prototype.Aa=function(t){Pn(this.g,new h6(t))},vl.prototype.za=function(t){Pn(this.g,new f6)},vl.prototype.ya=function(){Pn(this.g,"b")},bn(Ri,function IIe(){this.blockSize=-1}),Ri.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ri.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)vO(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){vO(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){vO(this,r),i=0;break}}this.h=i,this.i+=e},Ri.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var TIe={};function bO(t){return-128<=t&&128>t?function Owe(t,e){var n=TIe;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new et([0|e],0>e?-1:0)}):new et([0|t],0>t?-1:0)}function ls(t){if(isNaN(t)||!isFinite(t))return bl;if(0>t)return Fn(ls(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=wO;return new et(e,0)}var wO=4294967296,bl=bO(0),IO=bO(1),g6=bO(16777216);function Js(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function di(t){return-1==t.h}function Fn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new et(n,~t.h).add(IO)}function gv(t,e){return t.add(Fn(e))}function mv(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function np(t,e){this.g=t,this.h=e}function _v(t,e){if(Js(e))throw Error("division by zero");if(Js(t))return new np(bl,bl);if(di(t))return e=_v(Fn(t),e),new np(Fn(e.g),Fn(e.h));if(di(e))return e=_v(t,Fn(e)),new np(Fn(e.g),e.h);if(30<t.g.length){if(di(t)||di(e))throw Error("slowDivide_ only works with positive integers.");for(var n=IO,r=e;0>=r.X(t);)n=m6(n),r=m6(r);var i=wl(n,1),s=wl(r,1);for(r=wl(r,2),n=wl(n,2);!Js(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=wl(r,1),n=wl(n,1)}return e=gv(t,i.R(e)),new np(i,e)}for(i=bl;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=ls(n)).R(e);di(o)||0<o.X(t);)o=(s=ls(n-=r)).R(e);Js(s)&&(s=IO),i=i.add(s),t=gv(t,o)}return new np(i,t)}function m6(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new et(n,t.h)}function wl(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new et(i,t.h)}(X=et.prototype).ea=function(){if(di(this))return-Fn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:wO+r)*e,e*=wO}return t},X.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(Js(this))return"0";if(di(this))return"-"+Fn(this).toString(t);for(var e=ls(Math.pow(t,6)),n=this,r="";;){var i=_v(n,e).g,s=((0<(n=gv(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(Js(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},X.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},X.X=function(t){return di(t=gv(this,t))?-1:Js(t)?0:1},X.abs=function(){return di(this)?Fn(this):this},X.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new et(n,-2147483648&n[n.length-1]?-1:0)},X.R=function(t){if(Js(this)||Js(t))return bl;if(di(this))return di(t)?Fn(this).R(Fn(t)):Fn(Fn(this).R(t));if(di(t))return Fn(this.R(Fn(t)));if(0>this.X(g6)&&0>t.X(g6))return ls(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,c=65535&t.D(i);n[2*r+2*i]+=o*c,mv(n,2*r+2*i),n[2*r+2*i+1]+=s*c,mv(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,mv(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,mv(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new et(n,0)},X.gb=function(t){return _v(this,t).h},X.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new et(n,this.h&t.h)},X.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new et(n,this.h|t.h)},X.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new et(n,this.h^t.h)},pv.prototype.createWebChannel=pv.prototype.g,Wr.prototype.send=Wr.prototype.u,Wr.prototype.open=Wr.prototype.m,Wr.prototype.close=Wr.prototype.close,tv.NO_ERROR=0,tv.TIMEOUT=8,tv.HTTP_ERROR=6,Cz.COMPLETE="complete",Az.EventType=Gf,Gf.OPEN="a",Gf.CLOSE="b",Gf.ERROR="c",Gf.MESSAGE="d",wn.prototype.listen=wn.prototype.O,Rt.prototype.listenOnce=Rt.prototype.P,Rt.prototype.getLastError=Rt.prototype.Sa,Rt.prototype.getLastErrorCode=Rt.prototype.Ia,Rt.prototype.getStatus=Rt.prototype.da,Rt.prototype.getResponseJson=Rt.prototype.Wa,Rt.prototype.getResponseText=Rt.prototype.ja,Rt.prototype.send=Rt.prototype.ha,Rt.prototype.setWithCredentials=Rt.prototype.Oa,Ri.prototype.digest=Ri.prototype.l,Ri.prototype.reset=Ri.prototype.reset,Ri.prototype.update=Ri.prototype.j,et.prototype.add=et.prototype.add,et.prototype.multiply=et.prototype.R,et.prototype.modulo=et.prototype.gb,et.prototype.compare=et.prototype.X,et.prototype.toNumber=et.prototype.ea,et.prototype.toString=et.prototype.toString,et.prototype.getBits=et.prototype.D,et.fromNumber=ls,et.fromString=function p6(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Fn(p6(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=ls(Math.pow(e,8)),r=bl,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=ls(Math.pow(e,s)),r=r.R(s).add(ls(o))):r=(r=r.R(n)).add(ls(o))}return r};var EIe=Mi.createWebChannelTransport=function(){return new pv},DIe=Mi.getStatEventTarget=function(){return ev()},TO=Mi.ErrorCode=tv,CIe=Mi.EventType=Cz,SIe=Mi.Event=ic,_6=Mi.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},AIe=Mi.FetchXmlHttpFactory=Jf,yv=Mi.WebChannel=Az,xIe=Mi.XhrIo=Rt,NIe=Mi.Md5=Ri,Il=Mi.Integer=et;const y6="@firebase/firestore";class In{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}In.UNAUTHENTICATED=new In(null),In.GOOGLE_CREDENTIALS=new In("google-credentials-uid"),In.FIRST_PARTY=new In("first-party-uid"),In.MOCK_USER=new In("mock-user");let Tl="9.23.0";const Ho=new Oo("@firebase/firestore");function EO(){return Ho.logLevel}function B(t,...e){if(Ho.logLevel<=xe.DEBUG){const n=e.map(DO);Ho.debug(`Firestore (${Tl}): ${t}`,...n)}}function Gt(t,...e){if(Ho.logLevel<=xe.ERROR){const n=e.map(DO);Ho.error(`Firestore (${Tl}): ${t}`,...n)}}function ki(t,...e){if(Ho.logLevel<=xe.WARN){const n=e.map(DO);Ho.warn(`Firestore (${Tl}): ${t}`,...n)}}function DO(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function ne(t="Unexpected state"){const e=`FIRESTORE (${Tl}) INTERNAL ASSERTION FAILED: `+t;throw Gt(e),new Error(e)}function ie(t,e){t||ne()}function J(t,e){return t}const C={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class F extends Ni{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class cn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class v6{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class OIe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(In.UNAUTHENTICATED))}shutdown(){}}class MIe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class RIe{constructor(e){this.t=e,this.currentUser=In.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let o=new cn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new cn,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const u=o;e.enqueueRetryable(p(function*(){yield u.promise,yield s(r.currentUser)}))},c=u=>{B("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(B("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new cn)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(B("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ie("string"==typeof r.accessToken),new v6(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ie(null===e||"string"==typeof e),new In(e)}}class kIe{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=In.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class PIe{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new kIe(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(In.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class b6{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FIe{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{null!=s.error&&B("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,B("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{B("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):B("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ie("string"==typeof n.token),this.T=n.token,new b6(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function LIe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class w6{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=LIe(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function de(t,e){return t<e?-1:t>e?1:0}function El(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class St{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new F(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new F(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new F(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new F(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return St.fromMillis(Date.now())}static fromDate(e){return St.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new St(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?de(this.nanoseconds,e.nanoseconds):de(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class se{constructor(e){this.timestamp=e}static fromTimestamp(e){return new se(e)}static min(){return new se(new St(0,0))}static max(){return new se(new St(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class rp{constructor(e,n,r){void 0===n?n=0:n>e.length&&ne(),void 0===r?r=e.length-n:r>e.length-n&&ne(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===rp.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof rp?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ke extends rp{construct(e,n,r){return new ke(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new F(C.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ke(n)}static emptyPath(){return new ke([])}}const VIe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zt extends rp{construct(e,n,r){return new zt(e,n,r)}static isValidIdentifier(e){return VIe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new zt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new F(C.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new F(C.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new F(C.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new F(C.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zt(n)}static emptyPath(){return new zt([])}}class Q{constructor(e){this.path=e}static fromPath(e){return new Q(ke.fromString(e))}static fromName(e){return new Q(ke.fromString(e).popFirst(5))}static empty(){return new Q(ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ke.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Q(new ke(e.slice()))}}function E6(t){return new qr(t.readTime,t.key,-1)}class qr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new qr(se.min(),Q.empty(),-1)}static max(){return new qr(se.max(),Q.empty(),-1)}}function SO(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=Q.comparator(t.documentKey,e.documentKey),0!==n?n:de(t.largestBatchId,e.largestBatchId))}const D6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jIe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Go(t){return AO.apply(this,arguments)}function AO(){return AO=p(function*(t){if(t.code!==C.FAILED_PRECONDITION||t.message!==D6)throw t;B("LocalStore","Unexpectedly lost primary lease")}),AO.apply(this,arguments)}class D{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new D((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof D?n:D.resolve(n)}catch(n){return D.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):D.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):D.reject(n)}static resolve(e){return new D((n,r)=>{n(e)})}static reject(e){return new D((n,r)=>{r(e)})}static waitFor(e){return new D((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=D.resolve(!1);for(const r of e)n=n.next(i=>i?D.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new D((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const u=c;n(e[u]).next(l=>{o[u]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new D((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function zo(t){return"IndexedDbTransactionError"===t.name}let Kr=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function op(t){return null==t}function ap(t){return 0===t&&1/t==-1/0}function k6(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Wo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function P6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class ut{constructor(e,n){this.comparator=e,this.root=n||Ln.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ln.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ln.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Tv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Tv(this.root,e,this.comparator,!1)}getReverseIterator(){return new Tv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Tv(this.root,e,this.comparator,!0)}}class Tv{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ln{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ln.RED,this.left=i??Ln.EMPTY,this.right=s??Ln.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ln(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ln.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Ln.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ne();const e=this.left.check();if(e!==this.right.check())throw ne();return e+(this.isRed()?0:1)}}Ln.EMPTY=null,Ln.RED=!0,Ln.BLACK=!1,Ln.EMPTY=new class{constructor(){this.size=0}get key(){throw ne()}get value(){throw ne()}get color(){throw ne()}get left(){throw ne()}get right(){throw ne()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Ln(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ft{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new F6(this.data.getIterator())}getIteratorFrom(e){return new F6(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ft)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ft(this.comparator);return n.data=e,n}}class F6{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Sr{constructor(e){this.fields=e,e.sort(zt.comparator)}static empty(){return new Sr([])}unionWith(e){let n=new ft(zt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Sr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return El(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class L6 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class un{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new L6("Invalid base64 string: "+i):i}}(e);return new un(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new un(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return de(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const l1e=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qo(t){if(ie(!!t),"string"==typeof t){let e=0;const n=l1e.exec(t);if(ie(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:kt(t.seconds),nanos:kt(t.nanos)}}function kt(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Zs(t){return"string"==typeof t?un.fromBase64String(t):un.fromUint8Array(t)}function Ev(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Dv(t){const e=t.mapValue.fields.__previous_value__;return Ev(e)?Dv(e):e}function cp(t){const e=qo(t.mapValue.fields.__local_write_time__.timestampValue);return new St(e.seconds,e.nanos)}class d1e{constructor(e,n,r,i,s,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}}class lc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new lc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof lc&&e.projectId===this.projectId&&e.database===this.database}}const Ko={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Yo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ev(t)?4:j6(t)?9007199254740991:10:ne()}function hs(t,e){if(t===e)return!0;const n=Yo(t);if(n!==Yo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return cp(t).isEqual(cp(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=qo(r.timestampValue),o=qo(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,Zs(t.bytesValue).isEqual(Zs(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return kt(r.geoPointValue.latitude)===kt(i.geoPointValue.latitude)&&kt(r.geoPointValue.longitude)===kt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return kt(r.integerValue)===kt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=kt(r.doubleValue),o=kt(i.doubleValue);return s===o?ap(s)===ap(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return El(t.arrayValue.values||[],e.arrayValue.values||[],hs);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(k6(s)!==k6(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!hs(s[a],o[a])))return!1;return!0}(t,e);default:return ne()}var i}function up(t,e){return void 0!==(t.values||[]).find(n=>hs(n,e))}function Qo(t,e){if(t===e)return 0;const n=Yo(t),r=Yo(e);if(n!==r)return de(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return de(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=kt(i.integerValue||i.doubleValue),a=kt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return V6(t.timestampValue,e.timestampValue);case 4:return V6(cp(t),cp(e));case 5:return de(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Zs(i),a=Zs(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let c=0;c<o.length&&c<a.length;c++){const u=de(o[c],a[c]);if(0!==u)return u}return de(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=de(kt(i.latitude),kt(s.latitude));return 0!==o?o:de(kt(i.longitude),kt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let c=0;c<o.length&&c<a.length;++c){const u=Qo(o[c],a[c]);if(u)return u}return de(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Ko.mapValue&&s===Ko.mapValue)return 0;if(i===Ko.mapValue)return 1;if(s===Ko.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),c=s.fields||{},u=Object.keys(c);a.sort(),u.sort();for(let l=0;l<a.length&&l<u.length;++l){const d=de(a[l],u[l]);if(0!==d)return d;const h=Qo(o[a[l]],c[u[l]]);if(0!==h)return h}return de(a.length,u.length)}(t.mapValue,e.mapValue);default:throw ne()}}function V6(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return de(t,e);const n=qo(t),r=qo(e),i=de(n.seconds,r.seconds);return 0!==i?i:de(n.nanos,r.nanos)}function Cl(t){return OO(t)}function OO(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=qo(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Zs(t.bytesValue).toBase64():"referenceValue"in t?Q.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=OO(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${OO(r.fields[a])}`;return s+"}"}(t.mapValue):ne();var e}function MO(t){return!!t&&"integerValue"in t}function lp(t){return!!t&&"arrayValue"in t}function B6(t){return!!t&&"nullValue"in t}function U6(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Av(t){return!!t&&"mapValue"in t}function dp(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Wo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=dp(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=dp(t.arrayValue.values[n]);return e}return Object.assign({},t)}function j6(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Vn{constructor(e){this.value=e}static empty(){return new Vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Av(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=dp(n)}setAll(e){let n=zt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=dp(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Av(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return hs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Av(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Wo(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Vn(dp(this.value))}}function G6(t){const e=[];return Wo(t.fields,(n,r)=>{const i=new zt([n]);if(Av(r)){const s=G6(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Sr(e)}class pt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new pt(e,0,se.min(),se.min(),se.min(),Vn.empty(),0)}static newFoundDocument(e,n,r,i){return new pt(e,1,n,se.min(),r,i,0)}static newNoDocument(e,n){return new pt(e,2,n,se.min(),se.min(),Vn.empty(),0)}static newUnknownDocument(e,n){return new pt(e,3,n,se.min(),se.min(),Vn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(se.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof pt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Jo{constructor(e,n){this.position=e,this.inclusive=n}}function z6(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?Q.comparator(Q.fromName(o.referenceValue),n.key):Qo(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function W6(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!hs(t.position[n],e.position[n]))return!1;return!0}class Sl{constructor(e,n="asc"){this.field=e,this.dir=n}}function p1e(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class q6{}class Ae extends q6{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new g1e(e,n,r):"array-contains"===n?new y1e(e,r):"in"===n?new X6(e,r):"not-in"===n?new v1e(e,r):"array-contains-any"===n?new b1e(e,r):new Ae(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new m1e(e,r):new _1e(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Qo(n,this.value)):null!==n&&Yo(this.value)===Yo(n)&&this.matchesComparison(Qo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ne()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class tt extends q6{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new tt(e,n)}matches(e){return Al(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Al(t){return"and"===t.op}function kO(t){return function K6(t){for(const e of t.filters)if(e instanceof tt)return!1;return!0}(t)&&Al(t)}function PO(t){if(t instanceof Ae)return t.field.canonicalString()+t.op.toString()+Cl(t.value);if(kO(t))return t.filters.map(e=>PO(e)).join(",");{const e=t.filters.map(n=>PO(n)).join(",");return`${t.op}(${e})`}}function Y6(t,e){return t instanceof Ae?(n=t,(r=e)instanceof Ae&&n.op===r.op&&n.field.isEqual(r.field)&&hs(n.value,r.value)):t instanceof tt?function(n,r){return r instanceof tt&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,o)=>i&&Y6(s,r.filters[o]),!0)}(t,e):void ne();var n,r}function J6(t){return t instanceof Ae?function(e){return`${e.field.canonicalString()} ${e.op} ${Cl(e.value)}`}(t):t instanceof tt?function(e){return e.op.toString()+" {"+e.getFilters().map(J6).join(" ,")+"}"}(t):"Filter"}class g1e extends Ae{constructor(e,n,r){super(e,n,r),this.key=Q.fromName(r.referenceValue)}matches(e){const n=Q.comparator(e.key,this.key);return this.matchesComparison(n)}}class m1e extends Ae{constructor(e,n){super(e,"in",n),this.keys=Z6(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class _1e extends Ae{constructor(e,n){super(e,"not-in",n),this.keys=Z6(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Z6(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>Q.fromName(r.referenceValue))}class y1e extends Ae{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return lp(n)&&up(n.arrayValue,this.value)}}class X6 extends Ae{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&up(this.value.arrayValue,n)}}class v1e extends Ae{constructor(e,n){super(e,"not-in",n)}matches(e){if(up(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!up(this.value.arrayValue,n)}}class b1e extends Ae{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!lp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>up(this.value.arrayValue,r))}}class w1e{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function FO(t,e=null,n=[],r=[],i=null,s=null,o=null){return new w1e(t,e,n,r,i,s,o)}function hc(t){const e=J(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>PO(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),op(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Cl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Cl(r)).join(",")),e.dt=n}return e.dt}function hp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!p1e(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Y6(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!W6(t.startAt,e.startAt)&&W6(t.endAt,e.endAt)}function xv(t){return Q.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Xs{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.wt=null,this._t=null}}function xl(t){return new Xs(t)}function r8(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function fc(t){const e=J(t);if(null===e.wt){e.wt=[];const n=function Ov(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}(e),r=function LO(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new Sl(n)),e.wt.push(new Sl(zt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Sl(zt.keyField(),s))}}}return e.wt}function dr(t){const e=J(t);if(!e._t)if("F"===e.limitType)e._t=FO(e.path,e.collectionGroup,fc(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of fc(e))n.push(new Sl(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Jo(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Jo(e.startAt.position,e.startAt.inclusive):null;e._t=FO(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function Mv(t,e,n){return new Xs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function fp(t,e){return hp(dr(t),dr(e))&&t.limitType===e.limitType}function i8(t){return`${hc(dr(t))}|lt:${t.limitType}`}function UO(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>J6(r)).join(", ")}]`),op(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Cl(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Cl(r)).join(",")),`Target(${n})`}(dr(t))}; limitType=${t.limitType})`}function pp(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):Q.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of fc(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=z6(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,fc(n),r)||n.endAt&&!function(i,s,o){const a=z6(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,fc(n),r)));var n,r}function o8(t){return(e,n)=>{let r=!1;for(const i of fc(t)){const s=I1e(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function I1e(t,e,n){const r=t.field.isKeyField()?Q.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),c=o.data.field(i);return null!==a&&null!==c?Qo(a,c):ne()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ne()}}class eo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Wo(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return P6(this.inner)}size(){return this.innerSize}}const T1e=new ut(Q.comparator);function Ar(){return T1e}const a8=new ut(Q.comparator);function gp(...t){let e=a8;for(const n of t)e=e.insert(n.key,n);return e}function c8(t){let e=a8;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function fs(){return mp()}function u8(){return mp()}function mp(){return new eo(t=>t.toString(),(t,e)=>t.isEqual(e))}const E1e=new ut(Q.comparator),D1e=new ft(Q.comparator);function be(...t){let e=D1e;for(const n of t)e=e.add(n);return e}const C1e=new ft(de);function l8(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ap(e)?"-0":e}}function d8(t){return{integerValue:""+t}}function h8(t,e){return function S6(t){return"number"==typeof t&&Number.isInteger(t)&&!ap(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?d8(e):l8(t,e)}class Rv{constructor(){this._=void 0}}function S1e(t,e,n){return t instanceof Nl?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Ev(i)&&(i=Dv(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof pc?p8(t,e):t instanceof gc?g8(t,e):function(r,i){const s=f8(r,i),o=m8(s)+m8(r.gt);return MO(s)&&MO(r.gt)?d8(o):l8(r.serializer,o)}(t,e)}function A1e(t,e,n){return t instanceof pc?p8(t,e):t instanceof gc?g8(t,e):n}function f8(t,e){return t instanceof Ol?MO(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class Nl extends Rv{}class pc extends Rv{constructor(e){super(),this.elements=e}}function p8(t,e){const n=_8(e);for(const r of t.elements)n.some(i=>hs(i,r))||n.push(r);return{arrayValue:{values:n}}}class gc extends Rv{constructor(e){super(),this.elements=e}}function g8(t,e){let n=_8(e);for(const r of t.elements)n=n.filter(i=>!hs(i,r));return{arrayValue:{values:n}}}class Ol extends Rv{constructor(e,n){super(),this.serializer=e,this.gt=n}}function m8(t){return kt(t.integerValue||t.doubleValue)}function _8(t){return lp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class N1e{constructor(e,n){this.version=e,this.transformResults=n}}class bt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new bt}static exists(e){return new bt(void 0,e)}static updateTime(e){return new bt(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kv(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Pv{}function y8(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new Rl(t.key,bt.none()):new Ml(t.key,t.data,bt.none());{const n=t.data,r=Vn.empty();let i=new ft(zt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new to(t.key,r,new Sr(i.toArray()),bt.none())}}function O1e(t,e,n){t instanceof Ml?function(r,i,s){const o=r.value.clone(),a=w8(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof to?function(r,i,s){if(!kv(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=w8(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(b8(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function yp(t,e,n,r){return t instanceof Ml?function(i,s,o,a){if(!kv(i.precondition,s))return o;const c=i.value.clone(),u=I8(i.fieldTransforms,a,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof to?function(i,s,o,a){if(!kv(i.precondition,s))return o;const c=I8(i.fieldTransforms,a,s),u=s.data;return u.setAll(b8(i)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(o=n,kv(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function M1e(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=f8(r.transform,i||null);null!=s&&(null===n&&(n=Vn.empty()),n.set(r.field,s))}return n||null}function v8(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&El(n,r,(i,s)=>function x1e(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof pc&&r instanceof pc||n instanceof gc&&r instanceof gc?El(n.elements,r.elements,hs):n instanceof Ol&&r instanceof Ol?hs(n.gt,r.gt):n instanceof Nl&&r instanceof Nl);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class Ml extends Pv{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class to extends Pv{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function b8(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function w8(t,e,n){const r=new Map;ie(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,A1e(o,a,n[i]))}return r}function I8(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,S1e(s,o,e))}return r}class Rl extends Pv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $O extends Pv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class HO{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&O1e(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=yp(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=yp(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=u8();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const c=y8(o,a);null!==c&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),be())}isEqual(e){return this.batchId===e.batchId&&El(this.mutations,e.mutations,(n,r)=>v8(n,r))&&El(this.baseMutations,e.baseMutations,(n,r)=>v8(n,r))}}class GO{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ie(e.mutations.length===r.length);let i=E1e;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new GO(e,n,r,i)}}class zO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class k1e{constructor(e,n){this.count=e,this.unchangedNames=n}}var Xt,Pe;function E8(t){if(void 0===t)return Gt("GRPC error has no .code"),C.UNKNOWN;switch(t){case Xt.OK:return C.OK;case Xt.CANCELLED:return C.CANCELLED;case Xt.UNKNOWN:return C.UNKNOWN;case Xt.DEADLINE_EXCEEDED:return C.DEADLINE_EXCEEDED;case Xt.RESOURCE_EXHAUSTED:return C.RESOURCE_EXHAUSTED;case Xt.INTERNAL:return C.INTERNAL;case Xt.UNAVAILABLE:return C.UNAVAILABLE;case Xt.UNAUTHENTICATED:return C.UNAUTHENTICATED;case Xt.INVALID_ARGUMENT:return C.INVALID_ARGUMENT;case Xt.NOT_FOUND:return C.NOT_FOUND;case Xt.ALREADY_EXISTS:return C.ALREADY_EXISTS;case Xt.PERMISSION_DENIED:return C.PERMISSION_DENIED;case Xt.FAILED_PRECONDITION:return C.FAILED_PRECONDITION;case Xt.ABORTED:return C.ABORTED;case Xt.OUT_OF_RANGE:return C.OUT_OF_RANGE;case Xt.UNIMPLEMENTED:return C.UNIMPLEMENTED;case Xt.DATA_LOSS:return C.DATA_LOSS;default:return ne()}}(Pe=Xt||(Xt={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";class WO{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Fv}static getOrCreateInstance(){return null===Fv&&(Fv=new WO),Fv}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Fv=null;const P1e=new Il([4294967295,4294967295],0);function C8(t){const e=function D8(){return new TextEncoder}().encode(t),n=new NIe;return n.update(e),new Uint8Array(n.digest())}function S8(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Il([n,r],0),new Il([i,s],0)]}class qO{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new vp(`Invalid padding: ${n}`);if(r<0)throw new vp(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new vp(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new vp(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Il.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(Il.fromNumber(r)));return 1===i.compare(P1e)&&(i=new Il([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=C8(e),[r,i]=S8(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new qO(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const n=C8(e),[r,i]=S8(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class vp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class bp{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,wp.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new bp(se.min(),i,new ut(de),Ar(),be())}}class wp{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new wp(r,n,be(),be(),be())}}class Lv{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class A8{constructor(e,n){this.targetId=e,this.Vt=n}}class x8{constructor(e,n,r=un.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class N8{constructor(){this.St=0,this.Dt=M8(),this.Ct=un.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=be(),n=be(),r=be();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ne()}}),new wp(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=M8()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class F1e{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Ar(),this.zt=O8(),this.Wt=new ut(de)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:ne()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(xv(o))if(0===i){const a=new Q(o.path);this.Yt(r,a,pt.newNoDocument(a,se.min()))}else ie(1===i);else{const a=this.ie(r);if(a!==i){const c=this.re(e,a);0!==c&&(this.ee(r),this.Wt=this.Wt.insert(r,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=WO.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(u,l,d){var h,f,g,m,_,w;const y={localCacheCount:l,existenceFilterCount:d.count},S=d.unchangedNames;return S&&(y.bloomFilter={applied:0===u,hashCount:null!==(h=S?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(m=null===(g=null===(f=S?.bits)||void 0===f?void 0:f.bitmap)||void 0===g?void 0:g.length)&&void 0!==m?m:0,padding:null!==(w=null===(_=S?.bits)||void 0===_?void 0:_.padding)&&void 0!==w?w:0}),y}(c,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let c,u;try{c=Zs(s).toUint8Array()}catch(l){if(l instanceof L6)return ki("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{u=new qO(c,o,a)}catch(l){return ki(l instanceof vp?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return 0===u.It?1:i!==n-this.oe(e.targetId,u)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&xv(a.target)){const c=new Q(a.target.path);null!==this.jt.get(c)||this.ae(o,c)||this.Yt(o,c,pt.newNoDocument(c,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=be();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{const u=this.se(c);return!u||"TargetPurposeLimboResolution"===u.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new bp(e,n,this.Wt,this.jt,r);return this.jt=Ar(),this.zt=O8(),this.Wt=new ut(de),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new N8,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new ft(de),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||B("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new N8),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function O8(){return new ut(Q.comparator)}function M8(){return new ut(Q.comparator)}const L1e={asc:"ASCENDING",desc:"DESCENDING"},V1e={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},B1e={and:"AND",or:"OR"};class U1e{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function KO(t,e){return t.useProto3Json||op(e)?e:{value:e}}function kl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function R8(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function j1e(t,e){return kl(t,e.toTimestamp())}function Wt(t){return ie(!!t),se.fromTimestamp(function(e){const n=qo(e);return new St(n.seconds,n.nanos)}(t))}function YO(t,e){return(n=t,new ke(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function k8(t){const e=ke.fromString(t);return ie(H8(e)),e}function Ip(t,e){return YO(t.databaseId,e.path)}function ps(t,e){const n=k8(e);if(n.get(1)!==t.databaseId.projectId)throw new F(C.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new F(C.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Q(F8(n))}function QO(t,e){return YO(t.databaseId,e)}function Tp(t){return new ke(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function F8(t){return ie(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function L8(t,e,n){return{name:Ip(t,e),fields:n.value.mapValue.fields}}function B8(t,e){return{documents:[QO(t,e.path)]}}function ZO(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=QO(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=QO(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(c){if(0!==c.length)return $8(tt.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(c){if(0!==c.length)return c.map(u=>{return{field:Zo((l=u).field),direction:W1e(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=KO(t,e.limit);var a,c;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(c=e.endAt).inclusive,values:c.position}),n}function U8(t){let e=function P8(t){const e=k8(t);return 4===e.length?ke.emptyPath():F8(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ie(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(l){const d=j8(l);return d instanceof tt&&kO(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new Sl(Pl((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,op(d)?null:d}(n.limit));let c=null;var l;n.startAt&&(c=new Jo((l=n.startAt).values||[],!!l.before));let u=null;return n.endAt&&(u=function(l){return new Jo(l.values||[],!l.before)}(n.endAt)),function n8(t,e,n,r,i,s,o,a){return new Xs(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",c,u)}function j8(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Pl(e.unaryFilter.field);return Ae.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Pl(e.unaryFilter.field);return Ae.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Pl(e.unaryFilter.field);return Ae.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Pl(e.unaryFilter.field);return Ae.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ne()}}(t):void 0!==t.fieldFilter?function(e){return Ae.create(Pl(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ne()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(e){return tt.create(e.compositeFilter.filters.map(n=>j8(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return ne()}}(e.compositeFilter.op))}(t):ne()}function W1e(t){return L1e[t]}function q1e(t){return V1e[t]}function K1e(t){return B1e[t]}function Zo(t){return{fieldPath:t.canonicalString()}}function Pl(t){return zt.fromServerFormat(t.fieldPath)}function $8(t){return t instanceof Ae?function(e){if("=="===e.op){if(U6(e.value))return{unaryFilter:{field:Zo(e.field),op:"IS_NAN"}};if(B6(e.value))return{unaryFilter:{field:Zo(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(U6(e.value))return{unaryFilter:{field:Zo(e.field),op:"IS_NOT_NAN"}};if(B6(e.value))return{unaryFilter:{field:Zo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zo(e.field),op:q1e(e.op),value:e.value}}}(t):t instanceof tt?function(e){const n=e.getFilters().map(r=>$8(r));return 1===n.length?n[0]:{compositeFilter:{op:K1e(e.op),filters:n}}}(t):ne()}function Y1e(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function H8(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class no{constructor(e,n,r,i,s=se.min(),o=se.min(),a=un.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new no(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new no(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new no(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new no(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class G8{constructor(e){this.fe=e}}function XO(t){const e=U8({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Mv(e,e.limit,"L"):e}class vc{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(kt(e.integerValue));else if("doubleValue"in e){const r=kt(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),ap(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(Zs(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?j6(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):ne()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),Q.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}vc.Ve=new vc;class iTe{constructor(){this.rn=new sM}addToCollectionParentIndex(e,n){return this.rn.add(n),D.resolve()}getCollectionParents(e,n){return D.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return D.resolve()}deleteFieldIndex(e,n){return D.resolve()}getDocumentsMatchingTarget(e,n){return D.resolve(null)}getIndexType(e,n){return D.resolve(0)}getFieldIndexes(e,n){return D.resolve([])}getNextCollectionGroupToUpdate(e){return D.resolve(null)}getMinOffset(e,n){return D.resolve(qr.min())}getMinOffsetFromCollectionGroup(e,n){return D.resolve(qr.min())}updateCollectionGroup(e,n,r){return D.resolve()}updateIndexEntries(e,n){return D.resolve()}}class sM{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ft(ke.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ft(ke.comparator)).toArray()}}new Uint8Array(0);class Yn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Yn(e,Yn.DEFAULT_COLLECTION_PERCENTILE,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Yn.DEFAULT_COLLECTION_PERCENTILE=10,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yn.DEFAULT=new Yn(41943040,Yn.DEFAULT_COLLECTION_PERCENTILE,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yn.DISABLED=new Yn(-1,0,0);class wc{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new wc(0)}static Mn(){return new wc(-1)}}class lTe{constructor(){this.changes=new eo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,pt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?D.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class fTe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class m7{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&yp(r.mutation,i,Sr.empty(),St.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,be()).next(()=>r))}getLocalViewOfDocuments(e,n,r=be()){const i=fs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=gp();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=fs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,be()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Ar();const o=mp(),a=mp();return n.forEach((c,u)=>{const l=r.get(u.key);i.has(u.key)&&(void 0===l||l.mutation instanceof to)?s=s.insert(u.key,u):void 0!==l?(o.set(u.key,l.mutation.getFieldMask()),yp(l.mutation,u,l.mutation.getFieldMask(),St.now())):o.set(u.key,Sr.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,l)=>o.set(u,l)),n.forEach((u,l)=>{var d;return a.set(u,new fTe(l,null!==(d=o.get(u))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=mp();let i=new ut((o,a)=>o-a),s=be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const u=n.get(c);if(null===u)return;let l=r.get(c)||Sr.empty();l=a.applyToLocalView(u,l),r.set(c,l);const d=(i.get(a.batchId)||be()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,l=c.value,d=u8();l.forEach(h=>{if(!s.has(h)){const f=y8(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return D.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return Q.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function VO(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):D.resolve(fs());let a=-1,c=s;return o.next(u=>D.forEach(u,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?D.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{c=c.insert(l,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,be())).next(l=>({batchId:a,changes:c8(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Q(n)).next(r=>{let i=gp();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=gp();return this.indexManager.getCollectionParents(e,i).next(o=>D.forEach(o,a=>{const c=(u=n,l=a.child(i),new Xs(l,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt));var u,l;return this.getDocumentsMatchingCollectionQuery(e,c,r).next(u=>{u.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,c)=>{const u=c.getKey();null===s.get(u)&&(s=s.insert(u,pt.newInvalidDocument(u)))});let o=gp();return s.forEach((a,c)=>{const u=i.get(a);void 0!==u&&yp(u.mutation,c,Sr.empty(),St.now()),pp(n,c)&&(o=o.insert(a,c))}),o})}}class pTe{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return D.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:Wt(r.createTime)}),D.resolve()}getNamedQuery(e,n){return D.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:XO(r.bundledQuery),readTime:Wt(r.readTime)}),D.resolve();var r}}class gTe{constructor(){this.overlays=new ut(Q.comparator),this.ls=new Map}getOverlay(e,n){return D.resolve(this.overlays.get(n))}getOverlays(e,n){const r=fs();return D.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),D.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),D.resolve()}getOverlaysForCollection(e,n,r){const i=fs(),s=n.length+1,o=new Q(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return D.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new ut((u,l)=>u-l);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let l=s.get(u.largestBatchId);null===l&&(l=fs(),s=s.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}const a=fs(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=i)););return D.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new zO(n,r));let s=this.ls.get(n);void 0===s&&(s=be(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}class oM{constructor(){this.fs=new ft(En.ds),this.ws=new ft(En._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new En(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new En(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new Q(new ke([])),r=new En(n,e),i=new En(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new Q(new ke([])),r=new En(n,e),i=new En(n,e+1);let s=be();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new En(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class En{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return Q.comparator(e.key,n.key)||de(e.As,n.As)}static _s(e,n){return de(e.As,n.As)||Q.comparator(e.key,n.key)}}class mTe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new ft(En.ds)}checkEmpty(e){return D.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++;const o=new HO(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new En(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return D.resolve(o)}lookupMutationBatch(e,n){return D.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),s=i<0?0:i;return D.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return D.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return D.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new En(n,0),i=new En(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),D.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ft(de);return n.forEach(i=>{const s=new En(i,0),o=new En(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),D.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Q.isDocumentKey(s)||(s=s.child(""));const o=new En(new Q(s),0);let a=new ft(de);return this.Rs.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.As)),!0)},o),D.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){ie(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return D.forEach(n.mutations,i=>{const s=new En(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new En(n,0),i=this.Rs.firstAfterOrEqual(r);return D.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return D.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class _Te{constructor(e){this.Ds=e,this.docs=new ut(Q.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return D.resolve(r?r.document.mutableCopy():pt.newInvalidDocument(n))}getEntries(e,n){let r=Ar();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():pt.newInvalidDocument(i))}),D.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ar();const o=n.path,a=new Q(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:l}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||SO(E6(l),r)<=0||(i.has(l.key)||pp(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return D.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ne()}Cs(e,n){return D.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new yTe(this)}getSize(e){return D.resolve(this.size)}}class yTe extends lTe{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),D.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class vTe{constructor(e){this.persistence=e,this.xs=new eo(n=>hc(n),hp),this.lastRemoteSnapshotVersion=se.min(),this.highestTargetId=0,this.Ns=0,this.ks=new oM,this.targetCount=0,this.Ms=wc.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),D.resolve()}getLastRemoteSnapshotVersion(e){return D.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return D.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),D.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),D.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new wc(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,D.resolve()}updateTargetData(e,n){return this.Fn(n),D.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,D.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),D.waitFor(s).next(()=>i)}getTargetCount(e){return D.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return D.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),D.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),D.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),D.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return D.resolve(r)}containsKey(e,n){return D.resolve(this.ks.containsKey(n))}}class aM{constructor(e,n){this.$s={},this.overlays={},this.Os=new Kr(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new vTe(this),this.indexManager=new iTe,this.remoteDocumentCache=new _Te(r=>this.referenceDelegate.Ls(r)),this.serializer=new G8(n),this.qs=new pTe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new gTe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new mTe(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){B("MemoryPersistence","Starting transaction:",e);const i=new bTe(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return D.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class bTe extends jIe{constructor(e){super(),this.currentSequenceNumber=e}}class Wv{constructor(e){this.persistence=e,this.Qs=new oM,this.js=null}static zs(e){return new Wv(e)}get Ws(){if(this.js)return this.js;throw ne()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),D.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),D.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),D.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return D.forEach(this.Ws,r=>{const i=Q.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,se.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return D.or([()=>D.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class dM{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=be(),i=be();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new dM(e,n.fromCache,r,i)}}class y7{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(r8(n))return D.resolve(null);let r=dr(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=Mv(n,null,"F"),r=dr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=be(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.ji(n,a);return this.zi(n,u,o,c.readTime)?this.Ki(e,Mv(n,null,"F")):this.Wi(e,u,n,c)}))})))}Gi(e,n,r,i){return r8(n)||i.isEqual(se.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(EO()<=xe.DEBUG&&B("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),UO(n)),this.Wi(e,o,n,function T6(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=se.fromTimestamp(1e9===r?new St(n+1,0):new St(n,r));return new qr(i,Q.empty(),e)}(i,-1)))})}ji(e,n){let r=new ft(o8(e));return n.forEach((i,s)=>{pp(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return EO()<=xe.DEBUG&&B("QueryEngine","Using full collection scan to execute query:",UO(n)),this.Ui.getDocumentsMatchingQuery(e,n,qr.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class ITe{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new ut(de),this.Yi=new eo(s=>hc(s),hp),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new m7(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function b7(t,e){return hM.apply(this,arguments)}function hM(){return hM=p(function*(t,e){const n=J(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let c=be();for(const u of i){o.push(u.batchId);for(const l of u.mutations)c=c.add(l.key)}for(const u of s){a.push(u.batchId);for(const l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(r,c).next(u=>({er:u,removedBatchIds:o,addedBatchIds:a}))})})}),hM.apply(this,arguments)}function w7(t){const e=J(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function DTe(t,e){const n=J(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Bl(t,e,n){return fM.apply(this,arguments)}function fM(){return fM=p(function*(t,e,n){const r=J(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!zo(o))throw o;B("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),fM.apply(this,arguments)}function Yv(t,e,n){const r=J(t);let i=se.min(),s=be();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,c,u){const l=J(a),d=l.Yi.get(u);return void 0!==d?D.resolve(l.Ji.get(d)):l.Bs.getTargetData(c,u)}(r,o,dr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:se.min(),n?s:be())).next(a=>(function D7(t,e,n){let r=t.Xi.get(e)||se.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}(r,function s8(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ir:s})))}class yM{constructor(){this.activeTargetIds=function jO(){return C1e}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class A7{constructor(){this.Hr=new yM,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new yM,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ATe{Yr(e){}shutdown(){}}class x7{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){B("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){B("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Zv=null;function bM(){return null===Zv?Zv=268435456+Math.round(2147483648*Math.random()):Zv++,"0x"+Zv.toString(16)}const xTe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class NTe{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Qn="WebChannelConnection";class OTe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=bM(),a=this.To(e,n);B("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const c={};return this.Eo(c,i,s),this.Ao(e,a,c,r).then(u=>(B("RestConnection",`Received RPC '${e}' ${o}: `,u),u),u=>{throw ki("RestConnection",`RPC '${e}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Tl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){return`${this.mo}/v1/${n}:${xTe[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=bM();return new Promise((o,a)=>{const c=new xIe;c.setWithCredentials(!0),c.listenOnce(CIe.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case TO.NO_ERROR:const l=c.getResponseJson();B(Qn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case TO.TIMEOUT:B(Qn,`RPC '${e}' ${s} timed out`),a(new F(C.DEADLINE_EXCEEDED,"Request time out"));break;case TO.HTTP_ERROR:const d=c.getStatus();if(B(Qn,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const g=function(m){const _=m.toLowerCase().replace(/_/g,"-");return Object.values(C).indexOf(_)>=0?_:C.UNKNOWN}(f.status);a(new F(g,f.message))}else a(new F(C.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new F(C.UNAVAILABLE,"Connection failed."));break;default:ne()}}finally{B(Qn,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);B(Qn,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}Ro(e,n,r){const i=bM(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=EIe(),a=DIe(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.xmlHttpFactory=new AIe({})),this.Eo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const l=s.join("");B(Qn,`Creating RPC '${e}' stream ${i}: ${l}`,c);const d=o.createWebChannel(l,c);let h=!1,f=!1;const g=new NTe({ro:_=>{f?B(Qn,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(h||(B(Qn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),B(Qn,`RPC '${e}' stream ${i} sending:`,_),d.send(_))},oo:()=>d.close()}),m=(_,w,y)=>{_.listen(w,S=>{try{y(S)}catch(R){setTimeout(()=>{throw R},0)}})};return m(d,yv.EventType.OPEN,()=>{f||B(Qn,`RPC '${e}' stream ${i} transport opened.`)}),m(d,yv.EventType.CLOSE,()=>{f||(f=!0,B(Qn,`RPC '${e}' stream ${i} transport closed`),g.wo())}),m(d,yv.EventType.ERROR,_=>{f||(f=!0,ki(Qn,`RPC '${e}' stream ${i} transport errored:`,_),g.wo(new F(C.UNAVAILABLE,"The operation could not be completed")))}),m(d,yv.EventType.MESSAGE,_=>{var w;if(!f){const y=_.data[0];ie(!!y);const R=y.error||(null===(w=y[0])||void 0===w?void 0:w.error);if(R){B(Qn,`RPC '${e}' stream ${i} received error:`,R);const U=R.status;let W=function(me){const Le=Xt[me];if(void 0!==Le)return E8(Le)}(U),oe=R.message;void 0===W&&(W=C.INTERNAL,oe="Unknown error status: "+U+" with message "+R.message),f=!0,g.wo(new F(W,oe)),d.close()}else B(Qn,`RPC '${e}' stream ${i} received:`,y),g._o(y)}}),m(a,SIe.STAT_EVENT,_=>{_.stat===_6.PROXY?B(Qn,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===_6.NOPROXY&&B(Qn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.fo()},0),g}}function Xv(){return typeof document<"u"?document:null}function Rp(t){return new U1e(t,!0)}class wM{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&B("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class O7{constructor(e,n,r,i,s,o,a,c){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new wM(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return p(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return p(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return p(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===C.RESOURCE_EXHAUSTED?(Gt(n.toString()),Gt("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===C.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new F(C.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(p(function*(){e.state=0,e.start()}))}tu(e){return B("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(B("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class MTe extends O7{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function H1e(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:ne(),i=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(ie(void 0===u||"string"==typeof u),un.fromBase64String(u||"")):(ie(void 0===u||u instanceof Uint8Array),un.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=void 0===c.code?C.UNKNOWN:E8(c.code);return new F(u,c.message||"")}(o);n=new x8(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=ps(t,r.document.name),s=Wt(r.document.updateTime),o=r.document.createTime?Wt(r.document.createTime):se.min(),a=new Vn({mapValue:{fields:r.document.fields}}),c=pt.newFoundDocument(i,s,o,a);n=new Lv(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const r=e.documentDelete,i=ps(t,r.document),s=r.readTime?Wt(r.readTime):se.min(),o=pt.newNoDocument(i,s);n=new Lv([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=ps(t,r.document);n=new Lv([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return ne();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new k1e(i,s);n=new A8(r.targetId,o)}}var c;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return se.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?se.min():s.readTime?Wt(s.readTime):se.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=Tp(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=xv(a)?{documents:B8(i,a)}:{query:ZO(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=R8(i,s.resumeToken);const c=KO(i,s.expectedCount);null!==c&&(o.expectedCount=c)}else if(s.snapshotVersion.compareTo(se.min())>0){o.readTime=kl(i,s.snapshotVersion.toTimestamp());const c=KO(i,s.expectedCount);null!==c&&(o.expectedCount=c)}return o}(this.serializer,e);const r=function z1e(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ne()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=Tp(this.serializer),n.removeTarget=e,this.Wo(n)}}class RTe extends O7{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(ie(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function G1e(t,e){return t&&t.length>0?(ie(void 0!==e),t.map(n=>function(r,i){let s=Wt(r.updateTime?r.updateTime:i);return s.isEqual(se.min())&&(s=Wt(i)),new N1e(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=Wt(e.commitTime);return this.listener.cu(r,n)}return ie(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Tp(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function Ep(t,e){let n;if(e instanceof Ml)n={update:L8(t,e.key,e.value)};else if(e instanceof Rl)n={delete:Ip(t,e.key)};else if(e instanceof to)n={update:L8(t,e.key,e.data),updateMask:Y1e(e.fieldMask)};else{if(!(e instanceof $O))return ne();n={verify:Ip(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Nl)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof pc)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof gc)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Ol)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw ne()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:j1e(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:ne()),n;var i}(this.serializer,r))};this.Wo(n)}}class kTe extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new F(C.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===C.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new F(C.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===C.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new F(C.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class FTe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Gt(n),this.mu=!1):B("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class LTe{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(p(function*(){var c;na(o)&&(B("RemoteStore","Restarting streams for network reachability change."),yield(c=p(function*(u){const l=J(u);l.vu.add(4),yield Ul(l),l.bu.set("Unknown"),l.vu.delete(4),yield kp(l)}),function(u){return c.apply(this,arguments)})(o))}))}),this.bu=new FTe(r,i)}}function kp(t){return TM.apply(this,arguments)}function TM(){return TM=p(function*(t){if(na(t))for(const e of t.Ru)yield e(!0)}),TM.apply(this,arguments)}function Ul(t){return EM.apply(this,arguments)}function EM(){return EM=p(function*(t){for(const e of t.Ru)yield e(!1)}),EM.apply(this,arguments)}function e0(t,e){const n=J(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),SM(n)?CM(n):$l(n).Ko()&&DM(n,e))}function Pp(t,e){const n=J(t),r=$l(n);n.Au.delete(e),r.Ko()&&M7(n,e),0===n.Au.size&&(r.Ko()?r.jo():na(n)&&n.bu.set("Unknown"))}function DM(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}$l(t).su(e)}function M7(t,e){t.Vu.qt(e),$l(t).iu(e)}function CM(t){t.Vu=new F1e({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),$l(t).start(),t.bu.gu()}function SM(t){return na(t)&&!$l(t).Uo()&&t.Au.size>0}function na(t){return 0===J(t).vu.size}function R7(t){t.Vu=void 0}function VTe(t){return AM.apply(this,arguments)}function AM(){return AM=p(function*(t){t.Au.forEach((e,n)=>{DM(t,e)})}),AM.apply(this,arguments)}function BTe(t,e){return xM.apply(this,arguments)}function xM(){return xM=p(function*(t,e){R7(t),SM(t)?(t.bu.Iu(e),CM(t)):t.bu.set("Unknown")}),xM.apply(this,arguments)}function UTe(t,e,n){return NM.apply(this,arguments)}function NM(){return NM=p(function*(t,e,n){if(t.bu.set("Online"),e instanceof x8&&2===e.state&&e.cause)try{yield(r=p(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){B("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield t0(t,r)}else if(e instanceof Lv?t.Vu.Ht(e):e instanceof A8?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(se.min()))try{const r=yield w7(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,c)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.Au.get(c);u&&i.Au.set(c,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,c)=>{const u=i.Au.get(a);if(!u)return;i.Au.set(a,u.withResumeToken(un.EMPTY_BYTE_STRING,u.snapshotVersion)),M7(i,a);const l=new no(u.target,a,c,u.sequenceNumber);DM(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){B("RemoteStore","Failed to raise snapshot:",r),yield t0(t,r)}var r}),NM.apply(this,arguments)}function t0(t,e,n){return OM.apply(this,arguments)}function OM(){return OM=p(function*(t,e,n){if(!zo(e))throw e;t.vu.add(1),yield Ul(t),t.bu.set("Offline"),n||(n=()=>w7(t.localStore)),t.asyncQueue.enqueueRetryable(p(function*(){B("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield kp(t)}))}),OM.apply(this,arguments)}function k7(t,e){return e().catch(n=>t0(t,n,e))}function jl(t){return MM.apply(this,arguments)}function MM(){return MM=p(function*(t){const e=J(t),n=ra(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;jTe(e);)try{const i=yield DTe(e.localStore,r);if(null===i){0===e.Eu.length&&n.jo();break}r=i.batchId,$Te(e,i)}catch(i){yield t0(e,i)}P7(e)&&F7(e)}),MM.apply(this,arguments)}function jTe(t){return na(t)&&t.Eu.length<10}function $Te(t,e){t.Eu.push(e);const n=ra(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function P7(t){return na(t)&&!ra(t).Uo()&&t.Eu.length>0}function F7(t){ra(t).start()}function HTe(t){return RM.apply(this,arguments)}function RM(){return RM=p(function*(t){ra(t).hu()}),RM.apply(this,arguments)}function GTe(t){return kM.apply(this,arguments)}function kM(){return kM=p(function*(t){const e=ra(t);for(const n of t.Eu)e.uu(n.mutations)}),kM.apply(this,arguments)}function zTe(t,e,n){return PM.apply(this,arguments)}function PM(){return PM=p(function*(t,e,n){const r=t.Eu.shift(),i=GO.from(r,e,n);yield k7(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield jl(t)}),PM.apply(this,arguments)}function WTe(t,e){return FM.apply(this,arguments)}function FM(){return FM=p(function*(t,e){var n;e&&ra(t).ou&&(yield(n=p(function*(r,i){if(function T8(t){switch(t){default:return ne();case C.CANCELLED:case C.UNKNOWN:case C.DEADLINE_EXCEEDED:case C.RESOURCE_EXHAUSTED:case C.INTERNAL:case C.UNAVAILABLE:case C.UNAUTHENTICATED:return!1;case C.INVALID_ARGUMENT:case C.NOT_FOUND:case C.ALREADY_EXISTS:case C.PERMISSION_DENIED:case C.FAILED_PRECONDITION:case C.ABORTED:case C.OUT_OF_RANGE:case C.UNIMPLEMENTED:case C.DATA_LOSS:return!0}}(s=i.code)&&s!==C.ABORTED){const o=r.Eu.shift();ra(r).Qo(),yield k7(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield jl(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),P7(t)&&F7(t)}),FM.apply(this,arguments)}function L7(t,e){return LM.apply(this,arguments)}function LM(){return LM=p(function*(t,e){const n=J(t);n.asyncQueue.verifyOperationInProgress(),B("RemoteStore","RemoteStore received new credentials");const r=na(n);n.vu.add(3),yield Ul(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield kp(n)}),LM.apply(this,arguments)}function BM(){return BM=p(function*(t,e){const n=J(t);e?(n.vu.delete(2),yield kp(n)):e||(n.vu.add(2),yield Ul(n),n.bu.set("Unknown"))}),BM.apply(this,arguments)}function $l(t){return t.Su||(t.Su=function(e,n,r){const i=J(e);return i.fu(),new MTe(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:VTe.bind(null,t),ao:BTe.bind(null,t),nu:UTe.bind(null,t)}),t.Ru.push(function(){var e=p(function*(n){n?(t.Su.Qo(),SM(t)?CM(t):t.bu.set("Unknown")):(yield t.Su.stop(),R7(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}function ra(t){return t.Du||(t.Du=function(e,n,r){const i=J(e);return i.fu(),new RTe(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:HTe.bind(null,t),ao:WTe.bind(null,t),au:GTe.bind(null,t),cu:zTe.bind(null,t)}),t.Ru.push(function(){var e=p(function*(n){n?(t.Du.Qo(),yield jl(t)):(yield t.Du.stop(),t.Eu.length>0&&(B("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class UM{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new cn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new UM(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new F(C.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hl(t,e){if(Gt("AsyncQueue",`${e}: ${t}`),zo(t))return new F(C.UNAVAILABLE,`${e}: ${t}`);throw t}class Gl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Q.comparator(n.key,r.key):(n,r)=>Q.comparator(n.key,r.key),this.keyedMap=gp(),this.sortedSet=new ut(this.comparator)}static emptySet(e){return new Gl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Gl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Gl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class V7{constructor(){this.Cu=new ut(Q.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):ne():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class zl{constructor(e,n,r,i,s,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new zl(e,n,Gl.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class qTe{constructor(){this.Nu=void 0,this.listeners=[]}}class KTe{constructor(){this.queries=new eo(e=>i8(e),fp),this.onlineState="Unknown",this.ku=new Set}}function jM(t,e){return $M.apply(this,arguments)}function $M(){return $M=p(function*(t,e){const n=J(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new qTe),i)try{s.Nu=yield n.onListen(r)}catch(o){const a=Hl(o,`Initialization of query '${UO(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&zM(n)}),$M.apply(this,arguments)}function HM(t,e){return GM.apply(this,arguments)}function GM(){return GM=p(function*(t,e){const n=J(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),GM.apply(this,arguments)}function YTe(t,e){const n=J(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&zM(n)}function QTe(t,e,n){const r=J(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function zM(t){t.ku.forEach(e=>{e.next()})}class WM{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new zl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=zl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class j7{constructor(e){this.key=e}}class $7{constructor(e){this.key=e}}class H7{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=be(),this.mutatedKeys=be(),this.tc=o8(e),this.ec=new Gl(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new V7,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,u="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=pp(this.query,d)?d:null,g=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let _=!1;h&&f?h.data.isEqual(f.data)?g!==m&&(r.track({type:3,doc:f}),_=!0):this.rc(h,f)||(r.track({type:2,doc:f}),_=!0,(c&&this.tc(f,c)>0||u&&this.tc(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),_=!0):h&&!f&&(r.track({type:1,doc:h}),_=!0,(c||u)&&(a=!0)),_&&(f?(o=o.add(f),s=m?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((u,l)=>function(d,h){const f=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ne()}};return f(d)-f(h)}(u.type,l.type)||this.tc(u.doc,l.doc)),this.oc(r);const o=n?this.uc():[],a=0===this.Zu.size&&this.current?1:0,c=a!==this.Xu;return this.Xu=a,0!==s.length||c?{snapshot:new zl(this.query,e.ec,i,s,e.mutatedKeys,0===a,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new V7,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=be(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new $7(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new j7(r))}),n}hc(e){this.Yu=e.ir,this.Zu=be();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return zl.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class XTe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class eEe{constructor(e){this.key=e,this.fc=!1}}class tEe{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new eo(a=>i8(a),fp),this._c=new Map,this.mc=new Set,this.gc=new ut(Q.comparator),this.yc=new Map,this.Ic=new oM,this.Tc={},this.Ec=new Map,this.Ac=wc.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function nEe(t,e){return qM.apply(this,arguments)}function qM(){return qM=p(function*(t,e){const n=function mR(t){const e=J(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=G7.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dEe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sEe.bind(null,e),e.dc.nu=YTe.bind(null,e.eventManager),e.dc.Pc=QTe.bind(null,e.eventManager),e}(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=yield function Vl(t,e){const n=J(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,D.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new no(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}(n.localStore,dr(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function KM(t,e,n,r,i){return YM.apply(this,arguments)}(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&e0(n.remoteStore,o)}return i}),qM.apply(this,arguments)}function YM(){return YM=p(function*(t,e,n,r,i){t.Rc=(d,h,f)=>{return(g=p(function*(m,_,w,y){let S=_.view.sc(w);S.zi&&(S=yield Yv(m.localStore,_.query,!1).then(({documents:W})=>_.view.sc(W,S)));const R=y&&y.targetChanges.get(_.targetId),U=_.view.applyChanges(S,m.isPrimaryClient,R);return sR(m,_.targetId,U.cc),U.snapshot}),function(m,_,w,y){return g.apply(this,arguments)})(t,d,h,f);var g};const s=yield Yv(t.localStore,e,!0),o=new H7(e,s.ir),a=o.sc(s.documents),c=wp.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),u=o.applyChanges(a,t.isPrimaryClient,c);sR(t,n,u.cc);const l=new XTe(e,n,o);return t.wc.set(e,l),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),u.snapshot}),YM.apply(this,arguments)}function rEe(t,e){return QM.apply(this,arguments)}function QM(){return QM=p(function*(t,e){const n=J(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!fp(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Bl(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Pp(n.remoteStore,r.targetId),Wl(n,r.targetId)}).catch(Go))):(Wl(n,r.targetId),yield Bl(n.localStore,r.targetId,!0))}),QM.apply(this,arguments)}function JM(){return JM=p(function*(t,e,n){const r=function _R(t){const e=J(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=oEe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=aEe.bind(null,e),e}(t);try{const i=yield function(s,o){const a=J(s),c=St.now(),u=o.reduce((h,f)=>h.add(f.key),be());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=Ar(),g=be();return a.Zi.getEntries(h,u).next(m=>{f=m,f.forEach((_,w)=>{w.isValidDocument()||(g=g.add(_))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(m=>{l=m;const _=[];for(const w of o){const y=M1e(w,l.get(w.key).overlayedDocument);null!=y&&_.push(new to(w.key,y,G6(y.value.mapValue),bt.exists(!0)))}return a.mutationQueue.addMutationBatch(h,c,_,o)}).next(m=>{d=m;const _=m.applyToLocalDocumentSet(l,g);return a.documentOverlayCache.saveOverlays(h,m.batchId,_)})}).then(()=>({batchId:d.batchId,changes:c8(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let c=s.Tc[s.currentUser.toKey()];c||(c=new ut(de)),c=c.insert(o,a),s.Tc[s.currentUser.toKey()]=c}(r,i.batchId,n),yield ro(r,i.changes),yield jl(r.remoteStore)}catch(i){const s=Hl(i,"Failed to persist write");n.reject(s)}}),JM.apply(this,arguments)}function G7(t,e){return ZM.apply(this,arguments)}function ZM(){return ZM=p(function*(t,e){const n=J(t);try{const r=yield function ETe(t,e){const n=J(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var g,m,_;null!==e.targetMismatches.get(d)?f=f.withResumeToken(un.EMPTY_BYTE_STRING,se.min()).withLastLimboFreeSnapshotVersion(se.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),m=f,_=l,(0===(g=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8||_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0)&&a.push(n.Bs.updateTargetData(s,f))});let c=Ar(),u=be();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function I7(t,e,n){let r=be(),i=be();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Ar();return n.forEach((a,c)=>{const u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(se.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||0===c.version.compareTo(u.version)&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):B("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(l=>{c=l.nr,u=l.sr})),!r.isEqual(se.min())){const l=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return D.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.Ji=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(ie(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?ie(o.fc):i.removedDocuments.size>0&&(ie(o.fc),o.fc=!1))}),yield ro(n,r,e)}catch(r){yield Go(r)}}),ZM.apply(this,arguments)}function z7(t,e,n){const r=J(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=J(s);a.onlineState=o;let c=!1;a.queries.forEach((u,l)=>{for(const d of l.listeners)d.Mu(o)&&(c=!0)}),c&&zM(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function sEe(t,e,n){return XM.apply(this,arguments)}function XM(){return XM=p(function*(t,e,n){const r=J(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new ut(Q.comparator);o=o.insert(s,pt.newNoDocument(s,se.min()));const a=be().add(s),c=new bp(se.min(),new Map,new ut(de),o,a);yield G7(r,c),r.gc=r.gc.remove(s),r.yc.delete(e),oR(r)}else yield Bl(r.localStore,e,!1).then(()=>Wl(r,e,n)).catch(Go)}),XM.apply(this,arguments)}function oEe(t,e){return eR.apply(this,arguments)}function eR(){return eR=p(function*(t,e){const n=J(t),r=e.batch.batchId;try{const i=yield function TTe(t,e){const n=J(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,c,u){const l=c.batch,d=l.keys();let h=D.resolve();return d.forEach(f=>{h=h.next(()=>u.getEntry(a,f)).next(g=>{const m=c.docVersions.get(f);ie(null!==m),g.version.compareTo(m)<0&&(l.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),u.addEntry(g)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=be();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(a=a.add(o.batch.mutations[c].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);iR(n,r,null),rR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield ro(n,i)}catch(i){yield Go(i)}}),eR.apply(this,arguments)}function aEe(t,e,n){return tR.apply(this,arguments)}function tR(){return tR=p(function*(t,e,n){const r=J(t);try{const i=yield function(s,o){const a=J(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return a.mutationQueue.lookupMutationBatch(c,o).next(l=>(ie(null!==l),u=l.keys(),a.mutationQueue.removeMutationBatch(c,l))).next(()=>a.mutationQueue.performConsistencyCheck(c)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(c,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>a.localDocuments.getDocuments(c,u))})}(r.localStore,e);iR(r,e,n),rR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield ro(r,i)}catch(i){yield Go(i)}}),tR.apply(this,arguments)}function rR(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function iR(t,e,n){const r=J(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Wl(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||W7(t,r)})}function W7(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(Pp(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),oR(t))}function sR(t,e,n){for(const r of n)r instanceof j7?(t.Ic.addReference(r.key,e),uEe(t,r)):r instanceof $7?(B("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||W7(t,r.key)):ne()}function uEe(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(B("SyncEngine","New document in limbo: "+n),t.mc.add(r),oR(t))}function oR(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new Q(ke.fromString(e)),r=t.Ac.next();t.yc.set(r,new eEe(n)),t.gc=t.gc.insert(n,r),e0(t.remoteStore,new no(dr(xl(n.path)),r,"TargetPurposeLimboResolution",Kr.ct))}}function ro(t,e,n){return aR.apply(this,arguments)}function aR(){return aR=p(function*(t,e,n){const r=J(t),i=[],s=[],o=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,c)=>{o.push(r.Rc(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u?.fromCache?"not-current":"current"),u){i.push(u);const l=dM.Li(c.targetId,u);s.push(l)}}))}),yield Promise.all(o),r.dc.nu(i),yield(a=p(function*(c,u){const l=J(c);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>D.forEach(u,h=>D.forEach(h.Fi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>D.forEach(h.Bi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!zo(d))throw d;B("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const f=l.Ji.get(h),m=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ji=l.Ji.insert(h,m)}}}),function(c,u){return a.apply(this,arguments)})(r.localStore,s))}),aR.apply(this,arguments)}function lEe(t,e){return cR.apply(this,arguments)}function cR(){return cR=p(function*(t,e){const n=J(t);if(!n.currentUser.isEqual(e)){B("SyncEngine","User change. New user:",e.toKey());const r=yield b7(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(o=>{o.forEach(a=>{a.reject(new F(C.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ro(n,r.er)}var i}),cR.apply(this,arguments)}function dEe(t,e){const n=J(t),r=n.yc.get(e);if(r&&r.fc)return be().add(r.key);{let i=be();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}class n0{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return p(function*(){n.serializer=Rp(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function v7(t,e,n,r){return new ITe(t,e,n,r)}(this.persistence,new y7,e.initialUser,this.serializer)}createPersistence(e){return new aM(Wv.zs,this.serializer)}createSharedClientState(e){return new A7}terminate(){var e=this;return p(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class ql{initialize(e,n){var r=this;return p(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>z7(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=lEe.bind(null,r.syncEngine),yield function VM(t,e){return BM.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new KTe}createDatastore(e){const n=Rp(e.databaseInfo.databaseId),r=new OTe(e.databaseInfo);return new kTe(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>z7(this.syncEngine,a,0),o=x7.D()?new x7:new ATe,new LTe(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,c,u){const l=new tEe(r,i,s,o,a,c);return u&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return function(){var e=p(function*(n){const r=J(n);B("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Ul(r),r.Pu.shutdown(),r.bu.set("Unknown")});return function(n){return e.apply(this,arguments)}}()(this.remoteStore)}}class r0{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Gt("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class EEe{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=In.UNAUTHENTICATED,this.clientId=w6.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=p(function*(a){B("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(B("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return p(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new F(C.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new cn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(p(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Hl(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function s0(t,e){return yR.apply(this,arguments)}function yR(){return yR=p(function*(t,e){t.asyncQueue.verifyOperationInProgress(),B("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=p(function*(s){r.isEqual(s)||(yield b7(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),yR.apply(this,arguments)}function vR(t,e){return bR.apply(this,arguments)}function bR(){return bR=p(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function wR(t){return IR.apply(this,arguments)}(t);B("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>L7(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>L7(e.remoteStore,s)),t._onlineComponents=e}),bR.apply(this,arguments)}function IR(){return IR=p(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){B("FirestoreClient","Using user provided OfflineComponentProvider");try{yield s0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function Z7(t){return"FirebaseError"===t.name?t.code===C.FAILED_PRECONDITION||t.code===C.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;ki("Error using user provided cache. Falling back to memory cache: "+n),yield s0(t,new n0)}}else B("FirestoreClient","Using default OfflineComponentProvider"),yield s0(t,new n0);return t._offlineComponents}),IR.apply(this,arguments)}function o0(t){return TR.apply(this,arguments)}function TR(){return TR=p(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(B("FirestoreClient","Using user provided OnlineComponentProvider"),yield vR(t,t._uninitializedComponentsProvider._online)):(B("FirestoreClient","Using default OnlineComponentProvider"),yield vR(t,new ql))),t._onlineComponents}),TR.apply(this,arguments)}function Kl(t){return DR.apply(this,arguments)}function DR(){return DR=p(function*(t){const e=yield o0(t),n=e.eventManager;return n.onListen=nEe.bind(null,e.syncEngine),n.onUnlisten=rEe.bind(null,e.syncEngine),n}),DR.apply(this,arguments)}function iW(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const sW=new Map;function CR(t,e,n){if(!n)throw new F(C.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function oW(t){if(!Q.isDocumentKey(t))throw new F(C.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function aW(t){if(Q.isDocumentKey(t))throw new F(C.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function c0(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":ne()}function Ne(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new F(C.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=c0(t);throw new F(C.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class uW{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new F(C.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new F(C.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function REe(t,e,n,r){if(!0===e&&!0===r)throw new F(C.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=iW(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new F(C.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new F(C.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new F(C.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fp{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uW({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new F(C.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new F(C.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uW(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new OIe;switch(n.type){case"firstParty":return new PIe(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new F(C.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=sW.get(e);n&&(B("ComponentProvider","Removing Datastore"),sW.delete(e),n.terminate())}(this),Promise.resolve()}}class qt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qt(this.firestore,e,this._key)}}class Bn{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Bn(this.firestore,e,this._query)}}class gs extends Bn{constructor(e,n,r){super(e,n,xl(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qt(this.firestore,null,new Q(e))}withConverter(e){return new gs(this.firestore,e,this._path)}}function PEe(t,e,...n){if(t=Oi(t),CR("collection","path",e),t instanceof Fp){const r=ke.fromString(e,...n);return aW(r),new gs(t,null,r)}{if(!(t instanceof qt||t instanceof gs))throw new F(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ke.fromString(e,...n));return aW(r),new gs(t.firestore,null,r)}}function lW(t,e,...n){if(t=Oi(t),1===arguments.length&&(e=w6.A()),CR("doc","path",e),t instanceof Fp){const r=ke.fromString(e,...n);return oW(r),new qt(t,null,new Q(r))}{if(!(t instanceof qt||t instanceof gs))throw new F(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ke.fromString(e,...n));return oW(r),new qt(t.firestore,t instanceof gs?t.converter:null,new Q(r))}}class FEe{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new wM(this,"async_queue_retry"),this.Xc=()=>{const n=Xv();n&&B("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Xv();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Xv();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new cn;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return p(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!zo(n))throw n;B("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Gt("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=UM.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&ne()}verifyOperationInProgress(){}sa(){var e=this;return p(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class gt extends Fp{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new FEe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||hW(this),this._firestoreClient.terminate()}}function VEe(t,e){const r="string"==typeof t?t:e||"(default)",i=gy("object"==typeof t?t:pH(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(t=>{const e=(t=>{var e,n;return null===(n=null===(e=ly())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})("firestore");s&&function kEe(t,e,n,r={}){var i;const s=(t=Ne(t,Fp))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&ki("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if("string"==typeof r.mockUserToken)a=r.mockUserToken,c=In.MOCK_USER;else{a=function Vpe(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[cy(JSON.stringify({alg:"none",type:"JWT"})),cy(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new F(C.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new In(u)}t._authCredentials=new MIe(new v6(a,c))}}(i,...s)}return i}function en(t){return t._firestoreClient||hW(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function hW(t){var e,n,r;const i=t._freezeSettings(),s=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new d1e(t._databaseId,a,t._persistenceKey,(u=i).host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,iW(u.experimentalLongPollingOptions),u.useFetchStreams));var a,u;t._firestoreClient=new EEe(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class Tc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Tc(un.fromBase64String(e))}catch(n){throw new F(C.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Tc(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Yl{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new F(C.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class gW{constructor(e){this._methodName=e}}class AR{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new F(C.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new F(C.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return de(this._lat,e._lat)||de(this._long,e._long)}}const UEe=/^__.*__$/;class jEe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new to(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ml(e,this.data,n,this.fieldTransforms)}}function _W(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ne()}}class u0{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new u0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return d0(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(_W(this.ca)&&UEe.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class $Ee{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Rp(e)}ya(e,n,r,i=!1){return new u0({ca:e,methodName:n,ga:r,path:zt.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ql(t){const e=t._freezeSettings(),n=Rp(t._databaseId);return new $Ee(t._databaseId,!!e.ignoreUndefinedProperties,n)}function xR(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);OR("Data must be an object, but it was:",o,r);const a=IW(r,o);let c,u;if(s.merge)c=new Sr(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=Bp(e,d,n);if(!o.contains(h))throw new F(C.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);EW(l,h)||l.push(h)}c=new Sr(l),u=o.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,u=o.fieldTransforms;return new jEe(new Vn(a),c,u)}function Ec(t,e){if(TW(t=Oi(t)))return OR("Unsupported field value:",e,t),IW(t,e);if(t instanceof gW)return function(n,r){if(!_W(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Ec(o,r.wa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=Oi(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return h8(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=St.fromDate(n);return{timestampValue:kl(r.serializer,i)}}if(n instanceof St){const i=new St(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:kl(r.serializer,i)}}if(n instanceof AR)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Tc)return{bytesValue:R8(r.serializer,n._byteString)};if(n instanceof qt){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:YO(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${c0(n)}`)}(t,e)}function IW(t,e){const n={};return P6(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wo(t,(r,i)=>{const s=Ec(i,e.ha(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function TW(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof St||t instanceof AR||t instanceof Tc||t instanceof qt||t instanceof gW)}function OR(t,e,n){if(!TW(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=c0(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function Bp(t,e,n){if((e=Oi(e))instanceof Yl)return e._internalPath;if("string"==typeof e)return l0(t,e);throw d0("Field path arguments must be of type string or ",t,!1,void 0,n)}const WEe=new RegExp("[~\\*/\\[\\]]");function l0(t,e,n){if(e.search(WEe)>=0)throw d0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Yl(...e.split("."))._internalPath}catch{throw d0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function d0(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new F(C.INVALID_ARGUMENT,a+t+c)}function EW(t,e){return t.some(n=>n.isEqual(e))}class MR{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new qt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new qEe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(h0("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class qEe extends MR{data(){return super.data()}}function h0(t,e){return"string"==typeof e?l0(t,e):e instanceof Yl?e._internalPath:e._delegate._internalPath}class YEe{convertValue(e,n="none"){switch(Yo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Zs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ne()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Wo(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new AR(kt(e.latitude),kt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Dv(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(cp(e));default:return null}}convertTimestamp(e){const n=qo(e);return new St(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ke.fromString(e);ie(H8(r));const i=new lc(r.get(1),r.get(3)),s=new Q(r.popFirst(5));return i.isEqual(n)||Gt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}function kR(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Dc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zl extends MR{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new m0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(h0("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class m0 extends Zl{data(e={}){return super.data(e)}}class Xl{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Dc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new m0(this._firestore,this._userDataWriter,r.key,r,new Dc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new F(C.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new m0(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Dc(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new m0(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Dc(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,u=-1;return 0!==o.type&&(c=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:JEe(o.type),doc:a,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function JEe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ne()}}function ZEe(t){t=Ne(t,qt);const e=Ne(t.firestore,gt);return function nW(t,e,n={}){const r=new cn;return t.asyncQueue.enqueueAndForget(p(function*(){return function(i,s,o,a,c){const u=new r0({next:d=>{s.enqueueAndForget(()=>HM(i,l));const h=d.docs.has(o);!h&&d.fromCache?c.reject(new F(C.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&"server"===a.source?c.reject(new F(C.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(d)},error:d=>c.reject(d)}),l=new WM(xl(o.path),u,{includeMetadataChanges:!0,Ku:!0});return jM(i,l)}(yield Kl(t),t.asyncQueue,e,n,r)})),r.promise}(en(e),t._key).then(n=>function PR(t,e,n){const r=n.docs.get(e._key),i=new ia(t);return new Zl(t,i,e._key,r,new Dc(n.hasPendingWrites,n.fromCache),e.converter)}(e,t,n))}class ia extends YEe{constructor(e){super(),this.firestore=e}convertBytes(e){return new Tc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new qt(this.firestore,null,n)}}function XEe(t){t=Ne(t,Bn);const e=Ne(t.firestore,gt),n=en(e),r=new ia(e);return function DW(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new F(C.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query),function rW(t,e,n={}){const r=new cn;return t.asyncQueue.enqueueAndForget(p(function*(){return function(i,s,o,a,c){const u=new r0({next:d=>{s.enqueueAndForget(()=>HM(i,l)),d.fromCache&&"server"===a.source?c.reject(new F(C.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(d)},error:d=>c.reject(d)}),l=new WM(o,u,{includeMetadataChanges:!0,Ku:!0});return jM(i,l)}(yield Kl(t),t.asyncQueue,e,n,r)})),r.promise}(n,t._query).then(i=>new Xl(e,r,t,i))}function eDe(t,e,n){t=Ne(t,qt);const r=Ne(t.firestore,gt),i=kR(t.converter,e,n);return jp(r,[xR(Ql(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,bt.none())])}function tDe(t,e){const n=Ne(t.firestore,gt),r=lW(t),i=kR(t.converter,e);return jp(n,[xR(Ql(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,bt.exists(!1))]).then(()=>r)}function jp(t,e){return function(n,r){const i=new cn;return n.asyncQueue.enqueueAndForget(p(function*(){return function iEe(t,e,n){return JM.apply(this,arguments)}(yield function ER(t){return o0(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(en(t),e)}!function(t,e=!0){Tl=vf,cr(new zn("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new gt(new RIe(n.getProvider("auth-internal")),new FIe(n.getProvider("app-check-internal")),function(a,c){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new F(C.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lc(a.options.projectId,c)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Ht(y6,"3.13.0",t),Ht(y6,"3.13.0","esm2017")}();class sa{constructor(e){return e}}const RW="firestore",FR=new te("angularfire2.firestore-instances");function gDe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new sa(r)}}const mDe={provide:class fDe{constructor(){return aA(RW)}},deps:[[new yr,FR]]},_De={provide:sa,useFactory:function pDe(t,e){const n=function oA(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}(RW,t,e);return n&&new sa(n)},deps:[[new yr,FR],dl]};let yDe=(()=>{class t{constructor(){Ht("angularfire",ZS.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=De({type:t}),t.\u0275inj=Ie({providers:[_De,mDe]}),t})();function vDe(t,...e){return{ngModule:yDe,providers:[{provide:FR,useFactory:gDe(t),multi:!0,deps:[Te,Yt,AG,xG,[new yr,R5],[new yr,tz],...e]}]}}const bDe=Lo(tDe,!0),kW=Lo(PEe,!0),LR=Lo(lW,!0),PW=Lo(ZEe,!0),wDe=Lo(XEe,!0),IDe=Lo(VEe,!0),TDe=Lo(eDe,!0);let VR=(()=>{class t{constructor(n,r){this.firestore=n,this.router=r,this.userDataSubject=new Rr(null),this.userData$=this.userDataSubject.asObservable();const i=localStorage.getItem("user");if(i){const s=JSON.parse(i);this.userDataSubject.next(s)}}registerUser(n,r,i){var s=this;return p(function*(){try{const o=yield s.createUserWithEmailAndPassword(n,r),a=o.user.uid;yield s.addAdditionalAuthData(a,i),yield s.saveUserData(o.user,i),s.router.navigate(["recipes-list"])}catch(o){s.handleError(o)}})()}loginUser(n,r){var i=this;return p(function*(){try{const s=yield i.signInWithEmailAndPassword(n,r),o=s.user.uid,a=yield i.getAdditionalAuthDataById(o);yield i.saveUserData(s.user,a),i.router.navigate(["recipes-list"])}catch(s){i.handleError(s)}})()}logoutUser(){var n=this;return p(function*(){try{yield n.signOutAuth(),yield n.clearUserData(),n.router.navigate(["sign-in"])}catch(r){n.handleError(r)}})()}forgotPassword(n){var r=this;return p(function*(){try{yield r.sendPasswordResetEmail(n),window.alert("Password reset email sent, check your inbox."),r.router.navigate(["sign-in"])}catch(i){r.handleError(i),window.alert(i)}})()}sendPasswordResetEmail(n){return function Phe(t,e,n){return WE.apply(this,arguments)}(ay(),n)}createUserWithEmailAndPassword(n,r){return function Lhe(t,e,n){return JE.apply(this,arguments)}(ay(),n,r)}signInWithEmailAndPassword(n,r){return function Vhe(t,e,n){return PE(No(t),O$.credential(e,n)).catch(function(){var r=p(function*(i){throw"auth/password-does-not-meet-requirements"===i.code&&GE(t),i});return function(i){return r.apply(this,arguments)}}())}(ay(),n,r)}signOutAuth(){return function Khe(t){return No(t).signOut()}(ay())}addAdditionalAuthData(n,r){return TDe(LR(this.firestore,"Auth",n),r)}getAdditionalAuthDataById(n){var r=this;return p(function*(){const i=LR(r.firestore,"Auth",n),s=yield PW(i);return s.exists()?s.data():null})()}saveUserData(n,r){return new Promise((i,s)=>{if(n&&r){const o={...n,...r};localStorage.setItem("user",JSON.stringify(o)),this.userDataSubject.next(o),i()}else localStorage.setItem("user","null"),this.userDataSubject.next(null),s()})}clearUserData(){return new Promise((n,r)=>{localStorage.removeItem("user"),this.userDataSubject.next(null),n()})}handleError(n){if(n instanceof Error){const i=n.message;console.error(`Error (${n.name}): ${i}`),alert(i)}else console.error("Unknown error:",n),alert(n)}static#e=this.\u0275fac=function(r){return new(r||t)(q(sa),q(On))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function EDe(t,e){1&t&&(b(0,"div",19),M(1," Email is required! "),I())}function DDe(t,e){1&t&&(b(0,"div",19),M(1," Please enter a valid email address! "),I())}function CDe(t,e){if(1&t&&(b(0,"div"),V(1,EDe,2,0,"div",18),V(2,DDe,2,0,"div",18),I()),2&t){const n=Z();let r,i;O(1),N("ngIf",null==(r=n.registerForm.get("email"))||null==r.errors?null:r.errors.required),O(1),N("ngIf",null==(i=n.registerForm.get("email"))||null==i.errors?null:i.errors.email)}}function SDe(t,e){1&t&&(b(0,"div",19),M(1," Password is required! "),I())}function ADe(t,e){1&t&&(b(0,"div",19),M(1," Password must be at least 6 characters long! "),I())}function xDe(t,e){if(1&t&&(b(0,"div"),V(1,SDe,2,0,"div",18),V(2,ADe,2,0,"div",18),I()),2&t){const n=Z();let r,i;O(1),N("ngIf",null==(r=n.registerForm.get("password"))||null==r.errors?null:r.errors.required),O(1),N("ngIf",null==(i=n.registerForm.get("password"))||null==i.errors?null:i.errors.minlength)}}function NDe(t,e){1&t&&(b(0,"div",19),M(1," Repeat password is required! "),I())}function ODe(t,e){1&t&&(b(0,"div",19),M(1," Repeat password must be at least 6 characters long! "),I())}function MDe(t,e){if(1&t&&(b(0,"div"),V(1,NDe,2,0,"div",18),V(2,ODe,2,0,"div",18),I()),2&t){const n=Z();let r,i;O(1),N("ngIf",null==(r=n.registerForm.get("repeatPassword"))||null==r.errors?null:r.errors.required),O(1),N("ngIf",null==(i=n.registerForm.get("repeatPassword"))||null==i.errors?null:i.errors.minlength)}}function RDe(t,e){1&t&&(b(0,"div",19),M(1," First name is required! "),I())}function kDe(t,e){if(1&t&&(b(0,"div"),V(1,RDe,2,0,"div",18),I()),2&t){const n=Z();let r;O(1),N("ngIf",null==(r=n.registerForm.get("firstName"))||null==r.errors?null:r.errors.required)}}function PDe(t,e){1&t&&(b(0,"div",19),M(1," Last name is required! "),I())}function FDe(t,e){if(1&t&&(b(0,"div"),V(1,PDe,2,0,"div",18),I()),2&t){const n=Z();let r;O(1),N("ngIf",null==(r=n.registerForm.get("lastName"))||null==r.errors?null:r.errors.required)}}let LDe=(()=>{class t{constructor(n,r,i){this.userService=n,this.fb=r,this.router=i,this.registerForm=this.fb.group({email:["",[Nt.required,Nt.email]],password:["",[Nt.required,Nt.minLength(6)]],repeatPassword:["",Nt.required],firstName:["",Nt.required],lastName:["",Nt.required],isActive:[!0,Nt.required],isAdmin:[!1,Nt.required]})}submitRegisterForm(){var n=this;return p(function*(){if(n.registerForm.valid){const{email:r,password:i,repeatPassword:s,...o}=n.registerForm.value;if(i!==s)return void alert("Password do not match!");try{yield n.userService.registerUser(r,i,o)}catch(a){alert(a)}}})()}static#e=this.\u0275fac=function(r){return new(r||t)(v(VR),v(IT),v(On))};static#t=this.\u0275cmp=_t({type:t,selectors:[["app-register"]],decls:31,vars:6,consts:[[1,"main-short"],[1,"wrapper"],[1,"title"],[3,"formGroup","ngSubmit"],["for","email"],["type","email","id","email","formControlName","email","autocomplete","email"],[4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password","autocomplete","new-password"],["for","repeatPassword"],["type","password","id","repeatPassword","formControlName","repeatPassword","autocomplete","new-password"],["for","firstName"],["type","text","id","firstName","formControlName","firstName"],["for","lastName"],["type","text","id","lastName","formControlName","lastName"],["type","submit",1,"button",2,"width","100%","margin-top","20px"],["href","#","routerLink","/login"],[1,"hint"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(r,i){if(1&r&&(b(0,"div",0)(1,"div",1)(2,"h1",2),M(3,"Registration"),I(),b(4,"form",3),pe("ngSubmit",function(){return i.submitRegisterForm()}),b(5,"label",4),M(6,"Email:"),I(),Y(7,"input",5),V(8,CDe,3,2,"div",6),b(9,"label",7),M(10,"Password:"),I(),Y(11,"input",8),V(12,xDe,3,2,"div",6),b(13,"label",9),M(14,"Repeat password:"),I(),Y(15,"input",10),V(16,MDe,3,2,"div",6),b(17,"label",11),M(18,"First name:"),I(),Y(19,"input",12),V(20,kDe,2,1,"div",6),b(21,"label",13),M(22,"Last Name:"),I(),Y(23,"input",14),V(24,FDe,2,1,"div",6),b(25,"button",15),M(26,"Submit"),I(),Y(27,"hr"),b(28,"a",16)(29,"div",17),M(30,"Already registered?"),I()()()()()),2&r){let s,o,a,c,u;O(4),N("formGroup",i.registerForm),O(4),N("ngIf",(null==(s=i.registerForm.get("email"))?null:s.invalid)&&(null==(s=i.registerForm.get("email"))?null:s.touched)),O(4),N("ngIf",(null==(o=i.registerForm.get("password"))?null:o.invalid)&&(null==(o=i.registerForm.get("password"))?null:o.touched)),O(4),N("ngIf",(null==(a=i.registerForm.get("repeatPassword"))?null:a.invalid)&&(null==(a=i.registerForm.get("repeatPassword"))?null:a.touched)),O(4),N("ngIf",(null==(c=i.registerForm.get("firstName"))?null:c.invalid)&&(null==(c=i.registerForm.get("firstName"))?null:c.touched)),O(4),N("ngIf",(null==(u=i.registerForm.get("lastName"))?null:u.invalid)&&(null==(u=i.registerForm.get("lastName"))?null:u.touched))}},dependencies:[Si,R_,tl,T_,E_,rl,Kh,Ps],styles:[".checkbox-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center}@media (max-width: 460px){form[_ngcontent-%COMP%]{background-color:var(--mainBackgroundColor);border:none}}"]})}return t})();function VDe(t,e){1&t&&(b(0,"div",14),M(1," Email is required! "),I())}function BDe(t,e){1&t&&(b(0,"div",14),M(1," Invalid email! "),I())}function UDe(t,e){if(1&t&&(b(0,"div"),V(1,VDe,2,0,"div",15),V(2,BDe,2,0,"div",15),I()),2&t){const n=Z();let r,i;O(1),N("ngIf",null==(r=n.logInForm.get("email"))||null==r.errors?null:r.errors.required),O(1),N("ngIf",null==(i=n.logInForm.get("email"))||null==i.errors?null:i.errors.email)}}function jDe(t,e){1&t&&(b(0,"div",14),M(1," Password is required! "),I())}function $De(t,e){1&t&&(b(0,"div",14),M(1," Password must be at least 6 characters long! "),I())}function HDe(t,e){if(1&t&&(b(0,"div"),V(1,jDe,2,0,"div",15),V(2,$De,2,0,"div",15),I()),2&t){const n=Z();let r,i;O(1),N("ngIf",null==(r=n.logInForm.get("password"))||null==r.errors?null:r.errors.required),O(1),N("ngIf",null==(i=n.logInForm.get("password"))||null==i.errors?null:i.errors.minlength)}}function GDe(t,e){if(1&t&&(b(0,"div"),M(1),I()),2&t){const n=Z();O(1),jr(n.loginError)}}let zDe=(()=>{class t{constructor(n,r,i,s){this.userService=n,this.fb=r,this.route=i,this.router=s,this.loginError=null,this.returnUrl=null,this.logInForm=this.fb.group({email:["",[Nt.required,Nt.email]],password:["",[Nt.required,Nt.minLength(6)]]})}ngOnInit(){this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/"}submitLogInForm(){var n=this;return p(function*(){if(n.logInForm.valid){const{email:r,password:i}=n.logInForm.value;try{yield n.userService.loginUser(r,i);const s=n.returnUrl||"/category";yield n.router.navigateByUrl(s)}catch(s){console.log(s)}}})()}static#e=this.\u0275fac=function(r){return new(r||t)(v(VR),v(IT),v(Do),v(On))};static#t=this.\u0275cmp=_t({type:t,selectors:[["app-login"]],decls:28,vars:4,consts:[[1,"main-short"],[1,"wrapper"],[1,"title"],[3,"formGroup","ngSubmit"],[1,"formGroup"],["for","email"],["type","text","id","email","formControlName","email","autocomplete","email"],[4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password","autocomplete","current-password"],["type","submit",1,"button",2,"width","100%"],["href","#","routerLink","/register"],[1,"hint"],["href","#","routerLink","/forgot-password"],[1,"errors"],["class","errors",4,"ngIf"]],template:function(r,i){if(1&r&&(b(0,"div",0)(1,"div",1)(2,"h1",2),M(3,"Login"),I(),b(4,"form",3),pe("ngSubmit",function(){return i.submitLogInForm()}),b(5,"div",4)(6,"label",5),M(7,"Email"),I(),Y(8,"input",6),V(9,UDe,3,2,"div",7),I(),b(10,"div",4)(11,"label",8),M(12,"Password"),I(),Y(13,"input",9),V(14,HDe,3,2,"div",7),I(),Y(15,"br"),b(16,"div",4)(17,"button",10),M(18,"Submit"),I()(),V(19,GDe,2,1,"div",7),Y(20,"hr"),b(21,"div")(22,"a",11)(23,"div",12),M(24,"Don't have a Registration yet?"),I()(),b(25,"a",13)(26,"div",14),M(27,"Forgot your password?"),I()()()()()()),2&r){let s,o;O(4),N("formGroup",i.logInForm),O(5),N("ngIf",(null==(s=i.logInForm.get("email"))?null:s.invalid)&&(null==(s=i.logInForm.get("email"))?null:s.touched)),O(5),N("ngIf",(null==(o=i.logInForm.get("password"))?null:o.invalid)&&(null==(o=i.logInForm.get("password"))?null:o.touched)),O(5),N("ngIf",i.loginError)}},dependencies:[Si,R_,tl,T_,E_,rl,Kh,Ps],styles:["@media (max-width: 460px){form[_ngcontent-%COMP%]{background-color:var(--mainBackgroundColor);border:none}}"]})}return t})(),WDe=(()=>{class t{constructor(n){this.userService=n}static#e=this.\u0275fac=function(r){return new(r||t)(v(VR))};static#t=this.\u0275cmp=_t({type:t,selectors:[["app-forgot-password"]],decls:16,vars:0,consts:[[1,"main-short"],[1,"wrapper"],[1,"title"],[1,"hint"],[1,"formGroup"],["type","email","placeholder","Email","required","",1,"formControl"],["passwordResetEmail",""],[1,"errors"],[1,"buttons"],["type","submit","value","\u0418\u0437\u043f\u0440\u0430\u0442\u0438 \u0438\u043c\u0435\u0439\u043b",1,"button",3,"click"],["href","#","routerLink","/login"]],template:function(r,i){if(1&r){const s=wr();b(0,"div",0)(1,"div",1)(2,"h3",2),M(3,"Forgotten password"),I(),b(4,"p",3),M(5," Please enter your email address so we can send you a password reset email. "),I(),b(6,"div",4),Y(7,"input",5,6),I(),b(9,"p",7),M(10,"If you can't find the email, please check your spam folder!"),I(),b(11,"div",8)(12,"input",9),pe("click",function(){er(s);const a=function vi(t){return tu(function TY(){return ue.lFrame.contextLView}(),Se+t)}(8);return tr(i.userService.forgotPassword(a.value))}),I(),b(13,"a",10)(14,"div",3),M(15,"Return to Login"),I()()()()()}},dependencies:[Ps],styles:[".buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.wrapper[_ngcontent-%COMP%]{padding:0 5%;max-width:600px;margin:0 auto}"]})}return t})(),qDe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=_t({type:t,selectors:[["app-carousel"]],decls:24,vars:0,consts:[["id","carouselExampleAutoplaying","data-bs-ride","carousel",1,"carousel","slide"],[1,"overlay"],[1,"info"],[1,"title"],[1,"subtitle"],["routerLink","/recipes-list",1,"infoBtn"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","https://www.aveeno.com/sites/aveeno_us_2/files/healingherbswithmortaran_687349.jpg","alt","...",1,"carousel-img","d-block","w-100"],[1,"carousel-item"],["src","https://imgix-prod.sgs.com/-/media/sgscorp/images/connectivity-and-products/aromatics-pexels.cdn.en-MU.1.jpg","alt","...",1,"carousel-img","d-block","w-100"],["src","https://images.pexels.com/photos/1793035/pexels-photo-1793035.jpeg","alt","...",1,"carousel-img","d-block","w-100"],["type","button","data-bs-target","#carouselExampleAutoplaying","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleAutoplaying","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(r,i){1&r&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),M(4,"Welcome to our Healing Herbal Recipe Community!"),I(),b(5,"div",4),M(6," Explore a wealth of new herbal recipes designed for healing right here. Upon registration, you'll gain access to not only adding your favorite healing recipes but also rating and commenting on the ones that resonate with you. Join us in nurturing wellness through the power of herbal remedies! "),I(),b(7,"a",5),M(8,"READ MORE"),I()()(),b(9,"div",6)(10,"div",7),Y(11,"img",8),I(),b(12,"div",9),Y(13,"img",10),I(),b(14,"div",9),Y(15,"img",11),I()(),b(16,"button",12),Y(17,"span",13),b(18,"span",14),M(19,"Previous"),I()(),b(20,"button",15),Y(21,"span",16),b(22,"span",14),M(23,"Next"),I()()())},dependencies:[Ps],styles:[".carousel[_ngcontent-%COMP%]{max-height:92vh;overflow:hidden}.carousel-img[_ngcontent-%COMP%]{height:100vh;object-fit:cover}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{z-index:9}.overlay[_ngcontent-%COMP%]{position:absolute;inset:0 50% 0 0;background-color:#a7575e99;z-index:9}.info[_ngcontent-%COMP%]{position:absolute;left:47%;right:10%;top:40%;transform:translate(2%,-27%);color:var(--mainWhiteColor);text-align:left}.title[_ngcontent-%COMP%]{font-size:32px;padding-bottom:20px;font-weight:900;line-height:35px;color:var(--backgroundColor)}.subtitle[_ngcontent-%COMP%]{font-style:italic;color:var(--backgroundColor)}.infoBtn[_ngcontent-%COMP%]{background-color:var(--backgroundColor);color:var(--textColor);padding:13px 35px;font-size:14px;margin-top:40px;display:inline-block;font-weight:700;font-family:Roboto,sans-serif;border:1px solid transparent}.infoBtn[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:transparent;border:1px solid var(--backgroundColor);color:var(--mainWhiteColor)}@media (max-width: 460px){.overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#a7575e99;z-index:9}.info[_ngcontent-%COMP%]{position:absolute;left:10%;right:10%;top:30%;color:var(--mainWhiteColor);text-align:center}.infoBtn[_ngcontent-%COMP%]{margin-top:10px}.title[_ngcontent-%COMP%]{font-size:26px;padding-bottom:10px;font-weight:900;text-align:center}}@media (min-width: 461px) and (max-width: 767px){.overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#a7575e99;z-index:9}.info[_ngcontent-%COMP%]{position:absolute;left:10%;right:10%;top:30%;color:var(--mainWhiteColor);text-align:center}.infoBtn[_ngcontent-%COMP%]{margin-top:10px}.title[_ngcontent-%COMP%]{font-size:26px;padding-bottom:10px;font-weight:900}}@media (min-width: 768px) and (max-width: 1023px){.info[_ngcontent-%COMP%]{position:absolute;left:10%;right:10%;top:30%;color:var(--mainWhiteColor)}}"]})}return t})(),KDe=(()=>{class t{constructor(n){this.firestore=n}getRecipes(){const r=kW(this.firestore,"Recipe");return new Ve(i=>{wDe(r).then(s=>{const o=[];s.forEach(a=>{const u={...a.data(),id:a.id};o.push(u)}),i.next(o),i.complete()}).catch(s=>{i.error(s)})})}static#e=this.\u0275fac=function(r){return new(r||t)(q(sa))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const YDe=function(t){return["/recipe/",t]};function QDe(t,e){if(1&t&&(b(0,"ul",5)(1,"li",6)(2,"a",7)(3,"div",8)(4,"div",9),Y(5,"img",10),I(),b(6,"h3",11),M(7),I()()()()()),2&t){const n=e.$implicit;O(2),N("routerLink",function Bu(t,e,n,r){return s3(k(),nr(),t,e,n,r)}(3,YDe,n.id)),O(3),N("src",n.image_recipe[0].image_recipe,Gd),O(2),jr(n.title)}}let JDe=(()=>{class t{constructor(n){this.recipeService=n,this.recipes=[]}ngOnInit(){this.getRecipes()}getRecipes(){this.recipeService.getRecipes().subscribe({next:n=>{this.recipes=n.sort((r,i)=>r.title.localeCompare(i.title))},error:n=>{console.error("Error fetching recipes:",n)}})}static#e=this.\u0275fac=function(r){return new(r||t)(v(KDe))};static#t=this.\u0275cmp=_t({type:t,selectors:[["app-recipes-list"]],decls:6,vars:1,consts:[[1,"main-long"],[1,"recipes-list"],[1,"title"],[1,"wrapper"],["class","cards",4,"ngFor","ngForOf"],[1,"cards"],[1,"card-item"],[3,"routerLink"],["tabindex","0",1,"card"],[1,"card-image"],["alt","recipe.title",3,"src"],[1,"card-title"]],template:function(r,i){1&r&&(b(0,"main",0)(1,"section",1)(2,"h2",2),M(3,"Recipes list"),I(),b(4,"section",3),V(5,QDe,8,5,"ul",4),I()()()),2&r&&(O(5),N("ngForOf",i.recipes))},dependencies:[Ci,Ps],styles:[".recipe-list[_ngcontent-%COMP%]{width:1024px;margin:0 auto 50px;max-width:1200px}.wrapper[_ngcontent-%COMP%]{place-self:center;display:grid;grid-template-columns:repeat(5,1fr);gap:30px;max-width:1440px;margin:0 auto}.cards[_ngcontent-%COMP%]{display:grid;flex-wrap:wrap;list-style:none;margin:0;padding:0;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1rem}.card-item[_ngcontent-%COMP%]{display:flex;background-color:var(--backgroundColor)}.card[_ngcontent-%COMP%]{position:relative;overflow:hidden;border-radius:5px 25px 5px 50px;transition:transform .1s linear,box-shadow .2s}img[_ngcontent-%COMP%]{max-width:100%;height:auto}a[_ngcontent-%COMP%]{text-decoration:none;color:var(--mainBlackColor)}.card-title[_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:90%;height:auto;color:var(--backgroundColor);padding:.5rem;border-radius:5px 0 0 5px;transform:rotate(-3.3deg);transform-origin:left top;overflow:hidden;z-index:1;background-color:#a7575ecc;animation:0s 0s _ngcontent-%COMP%_fly-in 0 reverse both;font-family:var(--titleFont)}@media (min-width: 535px){.card-title[_ngcontent-%COMP%]{animation:.5s .25s fly-out 1 both}}.card[_ngcontent-%COMP%]:focus   .card-title[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]:hover   .card-title[_ngcontent-%COMP%]{animation:.5s ease-in 0s _ngcontent-%COMP%_fly-in 1 both}.card[_ngcontent-%COMP%]:focus, .card[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 10px 5px -5px #0003}@keyframes _ngcontent-%COMP%_fly-in{0%{top:0;right:0;font-size:1.325rem}25%{top:0;right:-200%;font-size:1.325rem}26%{font-size:2rem}to{top:2rem;right:0;font-size:2rem}}@media (max-width: 460px){.wrapper[_ngcontent-%COMP%]{margin:0 auto;display:flex;flex-direction:column;width:80%}}@media (min-width: 461px) and (max-width: 767px){.wrapper[_ngcontent-%COMP%]{margin:0 auto;padding:0 50px;width:100%;display:flex;flex-direction:column}}@media (min-width: 768px) and (max-width: 1023px){.wrapper[_ngcontent-%COMP%]{margin:0 auto;padding:0 50px;width:100%;grid-template-columns:repeat(2,1fr)}}@media (min-width: 1024px) and (max-width: 1440px){.wrapper[_ngcontent-%COMP%]{margin:0 auto;padding:0 50px;grid-template-columns:repeat(3,1fr)}}"]})}return t})();sl("firebase","10.8.1","app");const y0_firebaseConfig={apiKey:"AIzaSyCVbXDjBGUwaOrn1CZYGIwce1dYPKpR7PA",authDomain:"the-natural-way.firebaseapp.com",projectId:"the-natural-way",storageBucket:"the-natural-way.appspot.com",messagingSenderId:"778711637280",appId:"1:778711637280:web:30b52ea2a4e159578fcb45"},y0_cloudinaryConfig_cloudName="dsla98vyk",y0_cloudinaryConfig_uploadPreset="the_natural_way";Kj(y0_firebaseConfig);let eCe=(()=>{class t{constructor(){this.cloudName=y0_cloudinaryConfig_cloudName,this.uploadPreset=y0_cloudinaryConfig_uploadPreset,this.imageUploaded=new x}ngOnInit(){this.myWidget=cloudinary.createUploadWidget({cloudName:this.cloudName,uploadPreset:this.uploadPreset,maxImageWidth:500},(n,r)=>{!n&&r&&"success"===r.event&&(console.log("Done! Here is the image info: ",r.info),this.onImagesUploaded(r.info.secure_url))})}onImagesUploaded(n){this.imageUploaded.emit(n)}openWidget(){this.myWidget.open()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=_t({type:t,selectors:[["app-image-upload"]],outputs:{imageUploaded:"imageUploaded"},decls:4,vars:0,consts:[["id","upload_widget",1,"button-img",3,"click"],[1,"fa-solid","fa-plus","fa-beat-fade"]],template:function(r,i){1&r&&(b(0,"div")(1,"button",0),pe("click",function(){return i.openWidget()}),Y(2,"i",1),M(3," Add images "),I()())}})}return t})();function tCe(t,e){1&t&&(b(0,"div",27),M(1," Please fill in the title! "),I())}function nCe(t,e){if(1&t&&(b(0,"div"),V(1,tCe,2,0,"div",26),I()),2&t){const n=Z();let r;O(1),N("ngIf",null==(r=n.recipeForm.get("title"))||null==r.errors?null:r.errors.required)}}function rCe(t,e){1&t&&(b(0,"div",27),M(1," Please fill in a subtitle! "),I())}function iCe(t,e){if(1&t&&(b(0,"div"),V(1,rCe,2,0,"div",26),I()),2&t){const n=Z();let r;O(1),N("ngIf",null==(r=n.recipeForm.get("subtitle"))||null==r.errors?null:r.errors.required)}}function sCe(t,e){1&t&&(b(0,"div",27),M(1," Please fill in the method of preparation! "),I())}function oCe(t,e){if(1&t&&(b(0,"div"),V(1,sCe,2,0,"div",26),I()),2&t){const n=Z();let r;O(1),N("ngIf",null==(r=n.recipeForm.get("description"))||null==r.errors?null:r.errors.required)}}function aCe(t,e){if(1&t&&Y(0,"img",33),2&t){const n=Z().index;let i;N("src",null==(i=Z().image_recipe.controls[n].get("image_recipe"))?null:i.value,Gd)}}function cCe(t,e){if(1&t){const n=wr();b(0,"div",28)(1,"p",10),M(2,"Added image"),I(),Y(3,"input",29),V(4,aCe,1,1,"img",30),Y(5,"br"),b(6,"button",31),pe("click",function(){const s=er(n).index;return tr(Z().removeImage(s))}),Y(7,"i",32),M(8,"\xa0 Remove added image "),I(),Y(9,"br"),I()}if(2&t){const n=e.index,r=Z();let i;N("formGroupName",n),O(4),N("ngIf",null==(i=r.image_recipe.controls[n].get("image_recipe"))?null:i.value)}}function uCe(t,e){if(1&t){const n=wr();b(0,"div",28)(1,"p",10),M(2,"Paste the video link here"),I(),Y(3,"input",34),b(4,"button",31),pe("click",function(){const s=er(n).index;return tr(Z().removeVideo(s))}),Y(5,"i",32),M(6,"\xa0 Remove the video link "),I()()}2&t&&N("formGroupName",e.index)}function lCe(t,e){1&t&&(b(0,"div",27),M(1," Please enter an ingredient name! "),I())}function dCe(t,e){if(1&t&&(b(0,"div"),V(1,lCe,2,0,"div",26),I()),2&t){const n=Z().index,r=Z();let i;O(1),N("ngIf",null==(i=r.recipeForm.get("ingredients."+n+".name"))||null==i.errors?null:i.errors.required)}}function hCe(t,e){1&t&&(b(0,"div",27),M(1," Please fill in the quantity of the ingredient! "),I())}function fCe(t,e){if(1&t&&(b(0,"div"),V(1,hCe,2,0,"div",26),I()),2&t){const n=Z().index,r=Z();let i;O(1),N("ngIf",null==(i=r.recipeForm.get("ingredients."+n+".amount"))||null==i.errors?null:i.errors.required)}}function pCe(t,e){1&t&&(b(0,"div",27),M(1," Please select a unit of measurement! "),I())}function gCe(t,e){if(1&t&&(b(0,"div"),V(1,pCe,2,0,"div",26),I()),2&t){const n=Z().index,r=Z();let i;O(1),N("ngIf",null==(i=r.recipeForm.get("ingredients."+n+".unit"))||null==i.errors?null:i.errors.required)}}function mCe(t,e){if(1&t){const n=wr();b(0,"div",28)(1,"div",35)(2,"div",36),Y(3,"hr"),b(4,"p"),M(5,"\xa0\xa0Ingredient\xa0\xa0"),I(),Y(6,"hr"),I(),b(7,"label",37),M(8,"Name (required):"),I(),Y(9,"input",38),V(10,dCe,2,1,"div",5),b(11,"label",39),M(12,"Quantity (required):"),I(),Y(13,"input",40),V(14,fCe,2,1,"div",5),b(15,"label",41),M(16,"Unit of measurement (required):"),I(),b(17,"p",10),M(18,"In which we measure the ingredient"),I(),b(19,"select",42)(20,"option",43),M(21,"Tea spoon"),I(),b(22,"option",44),M(23,"Tablespoon"),I(),b(24,"option",45),M(25,"Tea cup"),I(),b(26,"option",46),M(27,"Coffee cup"),I(),b(28,"option",47),M(29,"Gram"),I(),b(30,"option",48),M(31,"Kilogram"),I(),b(32,"option",49),M(33,"Milliliter"),I(),b(34,"option",50),M(35,"Liter"),I(),b(36,"option",51),M(37,"Pieces"),I()(),V(38,gCe,2,1,"div",5),b(39,"label",52),M(40,"Order index:"),I(),b(41,"p",10),M(42," The order in which the ingredients appear in the recipe "),I(),Y(43,"input",53),b(44,"button",31),pe("click",function(){const s=er(n).index;return tr(Z().removeIngredient(s))}),Y(45,"i",32),M(46,"\xa0Remove the ingredient "),I()()()}if(2&t){const n=e.index,r=Z();let i,s,o;N("formGroupName",n),O(10),N("ngIf",null==(i=r.recipeForm.get("ingredients."+n+".name"))?null:i.touched),O(4),N("ngIf",null==(s=r.recipeForm.get("ingredients."+n+".amount"))?null:s.touched),O(24),N("ngIf",null==(o=r.recipeForm.get("ingredients."+n+".unit"))?null:o.touched)}}let _Ce=(()=>{class t{constructor(n,r,i){this.fb=r,this.router=i,this.editorConfig={},this.currentOrderIndex=1,this.firestore=n,this.recipeForm=this.fb.group({is_active:[!1],title:["",[Nt.required]],subtitle:["",[Nt.required]],description:["",[Nt.required]],summary:[""],like:[0],author:[""],image_recipe:this.fb.array([]),video_recipe:this.fb.array([]),preparation_method:this.fb.array([]),ingredients:this.fb.array([this.fb.group({name:["",[Nt.required]],amount:[null,[Nt.required]],unit:["",[Nt.required]],order_index:[0]})])})}ngOnInit(){this.editorConfig={content_style:"body { background-color: #f6f4f9; }",content_css:"default",base_url:"/tinymce",suffix:".min",menubar:!1,height:300,toolbar:"undo redo | formatselect | bold italic backcolor |           alignleft aligncenter alignright alignjustify |           bullist numlist outdent indent | removeformat "}}addImageToForm(n){this.recipeForm.get("image_recipe").push(this.fb.group({image_recipe:n}))}removeImage(n){this.recipeForm.get("image_recipe").removeAt(n)}addVideo(){this.recipeForm.get("video_recipe").push(this.fb.group({video_recipe:""}))}removeVideo(n){this.recipeForm.get("video_recipe").removeAt(n)}addPreparation(){this.recipeForm.get("preparation_method").push(this.fb.group({preparation_method:""}))}removePreparation(n){this.recipeForm.get("preparation_method").removeAt(n)}addIngredient(){this.recipeForm.get("ingredients").push(this.fb.group({name:["",[Nt.required]],amount:[null,[Nt.required]],unit:["",[Nt.required]],order_index:this.currentOrderIndex})),this.currentOrderIndex++,console.log(this.currentOrderIndex)}removeIngredient(n){this.recipeForm.get("ingredients").removeAt(n)}get ingredients(){return this.recipeForm.get("ingredients")}get image_recipe(){return this.recipeForm.get("image_recipe")}get video_recipe(){return this.recipeForm.get("video_recipe")}get preparation_method(){return this.recipeForm.get("preparation_method")}onSubmit(){this.recipeForm.invalid?alert("The form is not valid. Please fill in all required fields."):(this.addRecipe(this.recipeForm.value),this.recipeForm.reset())}addRecipe(n){bDe(kW(this.firestore,"Recipe"),n).then(i=>{console.log("Document written with ID: ",i.id),this.router.navigate(["/recipe",i.id])}).catch(i=>{console.error("Error adding document: ",i)})}static#e=this.\u0275fac=function(r){return new(r||t)(v(sa),v(IT),v(On))};static#t=this.\u0275cmp=_t({type:t,selectors:[["app-recipe-create"]],decls:56,vars:7,consts:[[1,"main-short"],[1,"wrapper"],[1,"title"],[3,"formGroup"],["type","text","id","title","formControlName","title"],[4,"ngIf"],["type","text","id","subtitle","formControlName","subtitle"],["for","description"],["name","text","id","description","formControlName","description","cols","30","rows","5"],["for","summary"],[1,"hint"],["type","text","id","summary","formControlName","summary"],[3,"imageUploaded"],["formArrayName","image_recipe"],[3,"formGroupName",4,"ngFor","ngForOf"],["formArrayName","video_recipe"],["type","button",1,"button-img",3,"click"],[1,"fa-solid","fa-plus","fa-beat-fade"],["formArrayName","ingredients",1,"ingredients"],["type","button",1,"button",2,"width","100%",3,"click"],["href","javascript:history.back()",1,"back-button"],[1,"button-box"],[1,"button-elem"],["viewBox","0 0 46 40","xmlns","http://www.w3.org/2000/svg"],["d","M46 20.038c0-.7-.3-1.5-.8-2.1l-16-17c-1.1-1-3.2-1.4-4.4-.3-1.2 1.1-1.2 3.3 0 4.4l11.3 11.9H3c-1.7 0-3 1.3-3 3s1.3 3 3 3h33.1l-11.3 11.9c-1 1-1.2 3.3 0 4.4 1.2 1.1 3.3.8 4.4-.3l16-17c.5-.5.8-1.1.8-1.9z"],["viewBox","0 0 46 40"],["class","errors",4,"ngIf"],[1,"errors"],[3,"formGroupName"],["type","text","id","image_recipe","formControlName","image_recipe"],["alt","Image Preview","class","image-preview",3,"src",4,"ngIf"],["type","button",1,"removeIngredient",3,"click"],[1,"fa-solid","fa-trash","fa-shake"],["alt","Image Preview",1,"image-preview",3,"src"],["type","text","id","video_recipe","formControlName","video_recipe"],[1,"ingredient"],[1,"divider"],["for","name"],["type","text","id","name","formControlName","name"],["for","amount"],["type","number","id","amount","formControlName","amount"],["for","unit"],["id","ingredient_unit","formControlName","unit"],["value","ts."],["value","tbs."],["value","tc."],["value","cc."],["value","gr."],["value","kg."],["value","ml."],["value","l."],["value","pieces"],["for","order_index"],["type","number","id","ingredient_order_index","formControlName","order_index"]],template:function(r,i){if(1&r&&(b(0,"div",0)(1,"div",1)(2,"h1",2),M(3,"Add a recipe"),I(),b(4,"form",3)(5,"label"),M(6," Title (required): "),Y(7,"input",4),I(),V(8,nCe,2,1,"div",5),b(9,"label"),M(10," Subtitle (required): "),Y(11,"input",6),I(),V(12,iCe,2,1,"div",5),b(13,"div")(14,"label",7),M(15,"Method of preparation (required):"),I(),Y(16,"textarea",8),I(),V(17,oCe,2,1,"div",5),b(18,"div")(19,"label",9),M(20,"Summary:"),I(),b(21,"p",10),M(22,"Recipe summary"),I(),Y(23,"input",11),I(),b(24,"div"),Y(25,"br"),b(26,"app-image-upload",12),pe("imageUploaded",function(o){return i.addImageToForm(o)}),I(),b(27,"div",13),V(28,cCe,10,2,"div",14),I(),b(29,"div",15),V(30,uCe,7,1,"div",14),b(31,"button",16),pe("click",function(){return i.addVideo()}),Y(32,"i",17),M(33," Add a link to a recipe "),I()()(),b(34,"div",18),V(35,mCe,47,4,"div",14),I(),Y(36,"br")(37,"hr")(38,"br"),b(39,"button",16),pe("click",function(){return i.addIngredient()}),Y(40,"i",17),M(41," Add one more ingredient "),I(),Y(42,"br"),b(43,"button",19),pe("click",function(){return i.onSubmit()}),M(44," Add a recipe "),I(),Y(45,"br")(46,"hr"),M(47," Go Back "),b(48,"a",20)(49,"div",21)(50,"span",22),Od(),b(51,"svg",23),Y(52,"path",24),I()(),$b(),b(53,"span",22),Od(),b(54,"svg",25),Y(55,"path",24),I()()()()()()()),2&r){let s,o,a;O(4),N("formGroup",i.recipeForm),O(4),N("ngIf",null==(s=i.recipeForm.get("title"))?null:s.touched),O(4),N("ngIf",null==(o=i.recipeForm.get("subtitle"))?null:o.touched),O(5),N("ngIf",null==(a=i.recipeForm.get("description"))?null:a.touched),O(11),N("ngForOf",i.image_recipe.controls),O(2),N("ngForOf",i.video_recipe.controls),O(5),N("ngForOf",i.ingredients.controls)}},dependencies:[Ci,Si,R_,pj,mj,tl,yT,F_,T_,E_,rl,Kh,k_,P_,eCe],styles:[".tiny[_ngcontent-%COMP%]{margin:20px 0}.removeIngredient[_ngcontent-%COMP%]{all:unset;color:red;cursor:pointer;margin-top:20px;text-align:right}.removeIngredient[_ngcontent-%COMP%]:hover{color:var(--secondColor)}.addIngredient[_ngcontent-%COMP%]{all:unset;color:var(--mainGreenColor);cursor:pointer;margin:0 0 20px 30px}.addIngredient[_ngcontent-%COMP%]:hover{background-color:unset;color:var(--mainRedColor);box-shadow:unset}form[_ngcontent-%COMP%]{max-width:600px;margin:0 auto 50px;padding:20px;background-color:var(--backgroundColor);border-radius:10px}"]})}return t})(),yCe=(()=>{class t{constructor(n){this.firestore=n}getRecipeById(n){var r=this;return p(function*(){const i=LR(r.firestore,"Recipe",n),s=yield PW(i);return s.exists()?s.data():null})()}static#e=this.\u0275fac=function(r){return new(r||t)(q(sa))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),vCe=(()=>{class t{constructor(n){this.sanitizer=n}transform(n){let r;if(n.startsWith("https://m."))r=new URLSearchParams(n.split("?")[1]).get("v")||"";else{const s=n.split("/");r=s[s.length-1]}return this.sanitizer.bypassSecurityTrustResourceUrl("https://www.youtube.com/embed/"+r)}static#e=this.\u0275fac=function(r){return new(r||t)(v(fU,16))};static#t=this.\u0275pipe=Jn({name:"safeUrl",type:t,pure:!0})}return t})();function bCe(t,e){if(1&t&&(b(0,"div",19),M(1),I()),2&t){const n=Z();O(1),yo(" ",null==n.recipe?null:n.recipe.summary," ")}}function wCe(t,e){1&t&&(b(0,"div"),Y(1,"br"),I())}function ICe(t,e){if(1&t&&(b(0,"li"),Y(1,"img",22),I()),2&t){const n=e.$implicit;O(1),N("src",n.image_recipe,Gd)}}function TCe(t,e){if(1&t&&(b(0,"ul",20),V(1,ICe,2,1,"li",21),I()),2&t){const n=Z();O(1),N("ngForOf",null==n.recipe?null:n.recipe.image_recipe)}}function ECe(t,e){1&t&&(b(0,"div",8),Y(1,"hr"),b(2,"p"),M(3,"\xa0\xa0Ingredients\xa0\xa0"),I(),Y(4,"hr"),I())}function DCe(t,e){if(1&t&&(b(0,"li"),M(1),I()),2&t){const n=Z().$implicit;O(1),_I(" ",n.name," - ",n.amount," ",n.unit," ")}}function CCe(t,e){if(1&t&&(b(0,"ul",23),V(1,DCe,2,3,"li",5),I()),2&t){const n=Z();O(1),N("ngIf",null==n.recipe?null:n.recipe.ingredients)}}function SCe(t,e){if(1&t&&(b(0,"li"),Y(1,"iframe",25),function l3(t,e){const n=Re();let r;const i=t+Se;n.firstCreatePass?(r=function Xte(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=ma(r.type)),a=gr(v);try{const c=Pg(!1),u=s();return Pg(c),function BX(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,k(),i,u),u}finally{gr(a)}}(2,"safeUrl"),I()),2&t){const n=e.$implicit;O(1),N("src",d3(2,1,n.video_recipe),bw)}}function ACe(t,e){if(1&t&&(b(0,"div",24)(1,"div",8),Y(2,"hr"),b(3,"p"),M(4,"\xa0\xa0Video\xa0\xa0"),I(),Y(5,"hr"),I(),Y(6,"br"),b(7,"ul"),V(8,SCe,3,3,"li",21),I()()),2&t){const n=Z();O(8),N("ngForOf",null==n.recipe?null:n.recipe.video_recipe)}}const xCe=[{path:"",pathMatch:"full",component:qDe},{path:"register",component:LDe},{path:"login",component:zDe},{path:"forgot-password",component:WDe},{path:"recipes-list",component:JDe},{path:"recipe-create",component:_Ce},{path:"recipe/:id",component:(()=>{class t{constructor(n,r,i,s){var o=this;this.route=n,this.recipeService=r,this.firestore=i,this.router=s,this.recipe=null,this.recipeId="",this.route.paramMap.subscribe(function(){var a=p(function*(c){const u=c.get("id");if(o.recipeId=u,u)try{o.recipe=yield o.recipeService.getRecipeById(u),o.recipe||console.error("Recipe not found.")}catch(l){console.error("An error occurred while retrieving the recipe:",l)}else console.error("Recipe ID not provided.")});return function(c){return a.apply(this,arguments)}}())}navigateToRecipeEdit(){this.router.navigate(["/recipe-edit",this.recipeId])}navigateToCommentEdit(n){this.router.navigate(["/comment-edit",n])}ngOnInit(){}static#e=this.\u0275fac=function(r){return new(r||t)(v(Do),v(yCe),v(sa),v(On))};static#t=this.\u0275cmp=_t({type:t,selectors:[["app-recipe"]],decls:33,vars:9,consts:[[1,"mainLong"],[1,"recipe-container"],[1,"recipe-title"],[1,"recipe-subtitle"],["class","recipe-summary",4,"ngIf"],[4,"ngIf"],[1,"recipe-hero"],["class","recipe-image",4,"ngIf"],[1,"divider"],[1,"recipe-description-text","description"],["class","divider",4,"ngIf"],["class","recipe-ingredients",4,"ngFor","ngForOf"],["class","recipe-videos",4,"ngIf"],["href","javascript:history.back()",1,"back-button"],[1,"button-box"],[1,"button-elem"],["viewBox","0 0 46 40","xmlns","http://www.w3.org/2000/svg"],["d","M46 20.038c0-.7-.3-1.5-.8-2.1l-16-17c-1.1-1-3.2-1.4-4.4-.3-1.2 1.1-1.2 3.3 0 4.4l11.3 11.9H3c-1.7 0-3 1.3-3 3s1.3 3 3 3h33.1l-11.3 11.9c-1 1-1.2 3.3 0 4.4 1.2 1.1 3.3.8 4.4-.3l16-17c.5-.5.8-1.1.8-1.9z"],["viewBox","0 0 46 40"],[1,"recipe-summary"],[1,"recipe-image"],[4,"ngFor","ngForOf"],["alt","Image of a recipe",3,"src"],[1,"recipe-ingredients"],[1,"recipe-videos"],["width","560","height","315","frameborder","0","allowfullscreen","",3,"src"]],template:function(r,i){1&r&&(b(0,"div",0)(1,"div",1)(2,"h1",2),M(3),I(),b(4,"h3",3),M(5),I(),V(6,bCe,2,1,"div",4),V(7,wCe,2,0,"div",5),b(8,"div",6),V(9,TCe,2,1,"ul",7),b(10,"div",8),Y(11,"hr"),b(12,"p"),M(13,"\xa0\xa0Preparation\xa0\xa0"),I(),Y(14,"hr"),I(),Y(15,"br"),b(16,"p",9),M(17),I(),Y(18,"br"),V(19,ECe,5,0,"div",10),Y(20,"br"),V(21,CCe,2,1,"ul",11),V(22,ACe,9,1,"div",12),Y(23,"hr"),M(24," Go Back "),b(25,"a",13)(26,"div",14)(27,"span",15),Od(),b(28,"svg",16),Y(29,"path",17),I()(),$b(),b(30,"span",15),Od(),b(31,"svg",18),Y(32,"path",17),I()()()()()()()),2&r&&(O(3),jr(null==i.recipe?null:i.recipe.title),O(2),jr(null==i.recipe?null:i.recipe.subtitle),O(1),N("ngIf",null==i.recipe?null:i.recipe.summary),O(1),N("ngIf",!(null!=i.recipe&&i.recipe.summary)),O(2),N("ngIf",(null==i.recipe?null:i.recipe.image_recipe)&&(null==i.recipe||null==i.recipe.image_recipe?null:i.recipe.image_recipe.length)>0),O(8),yo(" ",null==i.recipe?null:i.recipe.description," "),O(2),N("ngIf",null==i.recipe?null:i.recipe.ingredients),O(2),N("ngForOf",null==i.recipe?null:i.recipe.ingredients),O(1),N("ngIf",(null==i.recipe?null:i.recipe.video_recipe)&&(null==i.recipe||null==i.recipe.video_recipe?null:i.recipe.video_recipe.length)>0))},dependencies:[Ci,Si,vCe],styles:[".recipe-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:20px}.recipe-title[_ngcontent-%COMP%]{font-size:26px;text-align:center;font-family:var(--titleFont)}.recipe-subtitle[_ngcontent-%COMP%], .recipe-summary[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;text-align:center;font-style:italic;white-space:pre-wrap}.recipe-hero[_ngcontent-%COMP%]{grid-template-columns:70% 30%;gap:20px}ul.recipe-image[_ngcontent-%COMP%]{padding-left:unset}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;margin-bottom:10px}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:5px}.recipe-description-text[_ngcontent-%COMP%]{font-size:16px;white-space:pre-wrap}.recipe-ingredients[_ngcontent-%COMP%]{padding:0 16px}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;list-style-type:disc}.recipe-videos[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-top:20px}.recipe-videos[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;max-width:800px;height:450px}.btn[_ngcontent-%COMP%]   .fa-solid[_ngcontent-%COMP%]{color:var(--mainWhiteColor)}"]})}return t})()}];let NCe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=De({type:t});static#n=this.\u0275inj=Ie({imports:[el.forRoot(xCe,{useHash:!0}),el]})}return t})(),OCe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=_t({type:t,selectors:[["app-footer"]],decls:22,vars:0,consts:[[1,"footer"],[1,"footer-links"],["href","/about"],["href","/contact"],["href","/terms"],["href","/privacy"],[1,"social-icons"],["href","https://www.facebook.com"],[1,"fa-brands","fa-facebook","fa-flip"],["href","https://www.twitter.com"],[1,"fa-brands","fa-x-twitter","fa-flip"],["href","https://www.instagram.com"],[1,"fa-brands","fa-instagram","fa-flip"],[1,"copyright"]],template:function(r,i){1&r&&(b(0,"footer",0)(1,"div",1)(2,"a",2),M(3,"About Us"),I(),M(4," | "),b(5,"a",3),M(6,"Contact Us"),I(),M(7," | "),b(8,"a",4),M(9,"Terms of Service"),I(),M(10," | "),b(11,"a",5),M(12,"Privacy Policy"),I()(),b(13,"div",6)(14,"a",7),Y(15,"i",8),I(),b(16,"a",9),Y(17,"i",10),I(),b(18,"a",11),Y(19,"i",12),I()(),b(20,"div",13),M(21," \xa9 2024 The Natural Way. All Rights Reserved. "),I()())},styles:[".footer[_ngcontent-%COMP%]{background-color:var(--backgroundColor);height:8vh;color:#40513b;text-align:center}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#40513b;text-decoration:none}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-right:10px}.social-icons[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}"]})}return t})(),MCe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=_t({type:t,selectors:[["app-header"]],decls:46,vars:0,consts:[[1,"navbar","navbar-dark","navbar-expand-lg"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarScroll","aria-controls","navbarScroll","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","button"],[1,"navbar-toggler-icon"],["id","navbarScroll",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","my-2","my-lg-0","navbar-nav-scroll",2,"--bs-scroll-height","350px"],[1,"nav-item","dropdown"],["href","#","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-btn","nav-link","dropdown-toggle","button"],[1,"dropdown-menu"],["href","#","routerLink","/recipes-list",1,"dropdown-item"],["routerLink","/recipe-create",1,"dropdown-item"],[1,"dropdown-divider"],["href","#",1,"dropdown-item"],[1,"fa-solid","fa-user"],["routerLink","/register",1,"dropdown-item"],["routerLink","/login",1,"dropdown-item"],[1,"fa-solid","fa-magnifying-glass"],[1,"dropdown-menu","search"],["role","search",1,"d-flex","w-100"],["type","search","aria-label","Search",1,"form-control","me-2"],["type","submit",1,"search","button"]],template:function(r,i){1&r&&(b(0,"nav",0)(1,"div",1)(2,"a",2),M(3," The Natural Way"),I(),b(4,"button",3),Y(5,"span",4),I(),b(6,"div",5)(7,"ul",6)(8,"li",7)(9,"a",8),M(10," Recipes "),I(),b(11,"ul",9)(12,"li")(13,"a",10),M(14,"Recipes list"),I()(),b(15,"li")(16,"a",11),M(17,"Recipe create"),I()(),b(18,"li"),Y(19,"hr",12),I(),b(20,"li")(21,"a",13),M(22,"Something else here"),I()()()(),b(23,"li",7)(24,"a",8),Y(25,"i",14),I(),b(26,"ul",9)(27,"li")(28,"a",15),M(29,"Register"),I()(),b(30,"li")(31,"a",16),M(32,"Login"),I()(),b(33,"li"),Y(34,"hr",12),I(),b(35,"li")(36,"a",13),M(37,"Something else here"),I()()()(),b(38,"li",7)(39,"a",8),Y(40,"i",17),I(),b(41,"ul",18)(42,"form",19),Y(43,"input",20),b(44,"button",21),M(45,"Search"),I()()()()()()()())},dependencies:[Ps],styles:["nav.navbar[_ngcontent-%COMP%]{min-height:8vh;background-color:var(--backgroundColor)}.container-fluid[_ngcontent-%COMP%]{max-width:1024px;color:var(--textColor)}a.navbar-brand[_ngcontent-%COMP%]{font-family:Dancing Script,cursive;font-weight:900;font-size:32px;color:var(--textColor)}button.navbar-toggler[_ngcontent-%COMP%]{background-color:var(--textColor);border:1px solid var(--backgroundColor)}.navbar-toggler[_ngcontent-%COMP%]   span.navbar-toggler-icon[_ngcontent-%COMP%]{color:var(--backgroundColor);background-color:var(--textColor)}button.navbar-toggler[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem var(--textColor)}ul.navbar-nav[_ngcontent-%COMP%]{position:relative;z-index:100;display:flex;gap:18px;border:1px solid var(--backgroundColor);width:100%;justify-content:flex-end}a.nav-btn.nav-link.dropdown-toggle.button[_ngcontent-%COMP%]{min-width:150px}ul.navbar-nav[_ngcontent-%COMP%]   ul.dropdown-menu[_ngcontent-%COMP%]{background-color:var(--backgroundColor);border:1px solid var(--textColor);margin-top:18px}a.dropdown-item[_ngcontent-%COMP%]{color:var(--textColor)}.dropdown-item.active[_ngcontent-%COMP%], .dropdown-item[_ngcontent-%COMP%]:hover, .dropdown-item[_ngcontent-%COMP%]:focus{background-color:var(--textColor);color:var(--backgroundColor)}form.d-flex[_ngcontent-%COMP%]{padding:0 auto}.form-control[_ngcontent-%COMP%]{border:1px solid var(--textColor);border-radius:8px;background-color:var(--backgroundColor)}.form-control[_ngcontent-%COMP%]:focus{border:1px solid var(--textColor);box-shadow:unset;outline:unset;background-color:#f6f4f9;border-color:var(--textColor)}@media (max-width: 460px){.navbar-nav.me-auto.my-2.my-lg-0.navbar-nav-scroll[_ngcontent-%COMP%]{background-color:var(--backgroundColor);padding:20px;border-radius:8px}.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu.search[_ngcontent-%COMP%]{border:unset;width:100%}form.d-flex[_ngcontent-%COMP%]{flex-direction:column;gap:15px}}@media (min-width: 461px) and (max-width: 767px){.navbar-nav.me-auto.my-2.my-lg-0.navbar-nav-scroll[_ngcontent-%COMP%]{background-color:var(--backgroundColor);padding:20px;border-radius:8px}.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu.search[_ngcontent-%COMP%]{border:unset;width:100%}.dropdown-menu.search.show[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{max-width:unset}}@media (min-width: 768px) and (max-width: 1023px){.navbar-nav.me-auto.my-2.my-lg-0.navbar-nav-scroll[_ngcontent-%COMP%]{background-color:var(--backgroundColor);padding:20px;border-radius:8px}.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu.search[_ngcontent-%COMP%]{border:unset}.dropdown-menu.search.show[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{max-width:unset}}@media (min-width: 1024px) and (max-width: 1440px){.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu.search[_ngcontent-%COMP%]{left:unset;right:0;width:1000px;padding:10px;margin-top:30px;border:unset}form[_ngcontent-%COMP%]{max-width:unset}}@media (min-width: 1441px){.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu.search[_ngcontent-%COMP%]{left:unset;right:0;width:1000px;padding:10px;margin-top:30px;border:unset}form[_ngcontent-%COMP%]{max-width:unset}}"]})}return t})(),RCe=(()=>{class t{constructor(){this.title="The-Natural-Way"}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=_t({type:t,selectors:[["app-root"]],decls:3,vars:0,template:function(r,i){1&r&&Y(0,"app-header")(1,"router-outlet")(2,"app-footer")},dependencies:[J1,OCe,MCe],styles:[".logo-svg[_ngcontent-%COMP%]{background-color:var(--mainGreenColor);min-height:80vh}"]})}return t})(),kCe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=De({type:t});static#n=this.\u0275inj=Ie({imports:[zu,el]})}return t})();const PCe=["addListener","removeListener"],FCe=["addEventListener","removeEventListener"],LCe=["on","off"];function ln(t,e,n,r){if(we(n)&&(r=n,n=void 0),r)return ln(t,e,n).pipe(M1(r));const[i,s]=function UCe(t){return we(t.addEventListener)&&we(t.removeEventListener)}(t)?FCe.map(o=>a=>t[o](e,a,n)):function VCe(t){return we(t.addListener)&&we(t.removeListener)}(t)?PCe.map(FW(t,e)):function BCe(t){return we(t.on)&&we(t.off)}(t)?LCe.map(FW(t,e)):[];if(!i&&ob(t))return nn(o=>ln(o,e,n))(tn(t));if(!i)throw new TypeError("Invalid event target");return new Ve(o=>{const a=(...c)=>o.next(1<c.length?c:c[0]);return i(a),()=>s(a)})}function FW(t,e){return n=>r=>t[n](e,r)}class jCe extends Be{constructor(e=1/0,n=1/0,r=QS){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){const{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;n||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){const{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const o=n.now();let a=0;for(let c=1;c<r.length&&r[c]<=o;c+=2)a=c;a&&r.splice(0,a+1)}}}function HCe(t,e){}const v0=()=>{const t=typeof window<"u"?window:void 0;return t&&t.tinymce?t.tinymce:null};let GCe=(()=>{class t{constructor(){this.onBeforePaste=new x,this.onBlur=new x,this.onClick=new x,this.onContextMenu=new x,this.onCopy=new x,this.onCut=new x,this.onDblclick=new x,this.onDrag=new x,this.onDragDrop=new x,this.onDragEnd=new x,this.onDragGesture=new x,this.onDragOver=new x,this.onDrop=new x,this.onFocus=new x,this.onFocusIn=new x,this.onFocusOut=new x,this.onKeyDown=new x,this.onKeyPress=new x,this.onKeyUp=new x,this.onMouseDown=new x,this.onMouseEnter=new x,this.onMouseLeave=new x,this.onMouseMove=new x,this.onMouseOut=new x,this.onMouseOver=new x,this.onMouseUp=new x,this.onPaste=new x,this.onSelectionChange=new x,this.onActivate=new x,this.onAddUndo=new x,this.onBeforeAddUndo=new x,this.onBeforeExecCommand=new x,this.onBeforeGetContent=new x,this.onBeforeRenderUI=new x,this.onBeforeSetContent=new x,this.onChange=new x,this.onClearUndos=new x,this.onDeactivate=new x,this.onDirty=new x,this.onExecCommand=new x,this.onGetContent=new x,this.onHide=new x,this.onInit=new x,this.onInitNgModel=new x,this.onLoadContent=new x,this.onNodeChange=new x,this.onPostProcess=new x,this.onPostRender=new x,this.onPreInit=new x,this.onPreProcess=new x,this.onProgressState=new x,this.onRedo=new x,this.onRemove=new x,this.onReset=new x,this.onResizeEditor=new x,this.onSaveContent=new x,this.onSetAttrib=new x,this.onObjectResizeStart=new x,this.onObjectResized=new x,this.onObjectSelected=new x,this.onSetContent=new x,this.onShow=new x,this.onSubmit=new x,this.onUndo=new x,this.onVisualAid=new x}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=j({type:t,outputs:{onBeforePaste:"onBeforePaste",onBlur:"onBlur",onClick:"onClick",onContextMenu:"onContextMenu",onCopy:"onCopy",onCut:"onCut",onDblclick:"onDblclick",onDrag:"onDrag",onDragDrop:"onDragDrop",onDragEnd:"onDragEnd",onDragGesture:"onDragGesture",onDragOver:"onDragOver",onDrop:"onDrop",onFocus:"onFocus",onFocusIn:"onFocusIn",onFocusOut:"onFocusOut",onKeyDown:"onKeyDown",onKeyPress:"onKeyPress",onKeyUp:"onKeyUp",onMouseDown:"onMouseDown",onMouseEnter:"onMouseEnter",onMouseLeave:"onMouseLeave",onMouseMove:"onMouseMove",onMouseOut:"onMouseOut",onMouseOver:"onMouseOver",onMouseUp:"onMouseUp",onPaste:"onPaste",onSelectionChange:"onSelectionChange",onActivate:"onActivate",onAddUndo:"onAddUndo",onBeforeAddUndo:"onBeforeAddUndo",onBeforeExecCommand:"onBeforeExecCommand",onBeforeGetContent:"onBeforeGetContent",onBeforeRenderUI:"onBeforeRenderUI",onBeforeSetContent:"onBeforeSetContent",onChange:"onChange",onClearUndos:"onClearUndos",onDeactivate:"onDeactivate",onDirty:"onDirty",onExecCommand:"onExecCommand",onGetContent:"onGetContent",onHide:"onHide",onInit:"onInit",onInitNgModel:"onInitNgModel",onLoadContent:"onLoadContent",onNodeChange:"onNodeChange",onPostProcess:"onPostProcess",onPostRender:"onPostRender",onPreInit:"onPreInit",onPreProcess:"onPreProcess",onProgressState:"onProgressState",onRedo:"onRedo",onRemove:"onRemove",onReset:"onReset",onResizeEditor:"onResizeEditor",onSaveContent:"onSaveContent",onSetAttrib:"onSetAttrib",onObjectResizeStart:"onObjectResizeStart",onObjectResized:"onObjectResized",onObjectSelected:"onObjectSelected",onSetContent:"onSetContent",onShow:"onShow",onSubmit:"onSubmit",onUndo:"onUndo",onVisualAid:"onVisualAid"}}),t})();const LW=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onResizeEditor","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],b0=(t,e,n)=>ln(t,e).pipe(vt(n)),VW=(t,e)=>"string"==typeof t?t.split(",").map(n=>n.trim()):Array.isArray(t)?t:e;let BW=0;const UW=t=>typeof t<"u"&&"textarea"===t.tagName.toLowerCase(),jW=t=>typeof t>"u"||""===t?[]:Array.isArray(t)?t:t.split(" "),KCe=(t,e)=>jW(t).concat(jW(e)),YCe=()=>{},$W=t=>null==t,QCe=(()=>{let t={script$:null};return{load:(r,i)=>t.script$||(t.script$=k1(()=>{const s=r.createElement("script");return s.referrerPolicy="origin",s.type="application/javascript",s.src=i,r.head.appendChild(s),ln(s,"load").pipe(gn(1),L1(void 0))}).pipe(function $Ce(t,e,n){let r,i=!1;return t&&"object"==typeof t?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t):r=t??1/0,cb({connector:()=>new jCe(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}({bufferSize:1,refCount:!0}))),reinitialize:()=>{t={script$:null}}}})(),GW=new te("TINYMCE_SCRIPT_SRC"),JCe={provide:Gr,useExisting:Ee(()=>zW),multi:!0};let zW=(()=>{class t extends GCe{constructor(n,r,i,s){super(),this.platformId=i,this.tinymceScriptSrc=s,this.cloudChannel="6",this.apiKey="no-api-key",this.id="",this.modelEvents="change input undo redo",this.onTouchedCallback=YCe,this.destroy$=new Be,this.initialise=()=>{const o={...this.init,selector:void 0,target:this._element,inline:this.inline,readonly:this.disabled,plugins:KCe(this.init&&this.init.plugins,this.plugins),toolbar:this.toolbar||this.init&&this.init.toolbar,setup:a=>{this._editor=a,b0(a,"init",this.destroy$).subscribe(()=>{this.initEditor(a)}),((t,e,n)=>{(t=>{const e=VW(t.ignoreEvents,[]);return VW(t.allowedEvents,LW).filter(r=>LW.includes(r)&&!e.includes(r))})(t).forEach(i=>{const s=t[i];b0(e,i.substring(2),n).subscribe(o=>{s.observers.length>0&&t.ngZone.run(()=>s.emit({event:o,editor:e}))})})})(this,a,this.destroy$),this.init&&"function"==typeof this.init.setup&&this.init.setup(a)}};UW(this._element)&&(this._element.style.visibility=""),this.ngZone.runOutsideAngular(()=>{v0().init(o)})},this._elementRef=n,this.ngZone=r}set disabled(n){this._disabled=n,this._editor&&this._editor.initialized&&("function"==typeof this._editor.mode?.set?this._editor.mode.set(n?"readonly":"design"):this._editor.setMode(n?"readonly":"design"))}get disabled(){return this._disabled}get editor(){return this._editor}writeValue(n){this._editor&&this._editor.initialized?this._editor.setContent($W(n)?"":n):this.initialValue=null===n?void 0:n}registerOnChange(n){this.onChangeCallback=n}registerOnTouched(n){this.onTouchedCallback=n}setDisabledState(n){this.disabled=n}ngAfterViewInit(){(function Tse(t){return t===zB})(this.platformId)&&(this.id=this.id||(t=>{const n=(new Date).getTime(),r=Math.floor(1e9*Math.random());return BW++,"tiny-angular_"+r+BW+String(n)})(),this.inline=void 0!==this.inline?!1!==this.inline:!!this.init?.inline,this.createElement(),null!==v0()?this.initialise():this._element&&this._element.ownerDocument&&QCe.load(this._element.ownerDocument,this.getScriptSrc()).pipe(vt(this.destroy$)).subscribe(this.initialise))}ngOnDestroy(){this.destroy$.next(),null!==v0()&&v0().remove(this._editor)}createElement(){this._element=document.createElement(this.inline?"string"==typeof this.tagName?this.tagName:"div":"textarea"),this._element&&(document.getElementById(this.id)&&console.warn(`TinyMCE-Angular: an element with id [${this.id}] already exists. Editors with duplicate Id will not be able to mount`),this._element.id=this.id,UW(this._element)&&(this._element.style.visibility="hidden"),this._elementRef.nativeElement.appendChild(this._element))}getScriptSrc(){return $W(this.tinymceScriptSrc)?`https://cdn.tiny.cloud/1/${this.apiKey}/tinymce/${this.cloudChannel}/tinymce.min.js`:this.tinymceScriptSrc}initEditor(n){b0(n,"blur",this.destroy$).subscribe(()=>{this.ngZone.run(()=>this.onTouchedCallback())}),b0(n,this.modelEvents,this.destroy$).subscribe(()=>{this.ngZone.run(()=>this.emitOnChange(n))}),"string"==typeof this.initialValue&&this.ngZone.run(()=>{n.setContent(this.initialValue),n.getContent()!==this.initialValue&&this.emitOnChange(n),void 0!==this.onInitNgModel&&this.onInitNgModel.emit(n)})}emitOnChange(n){this.onChangeCallback&&this.onChangeCallback(n.getContent({format:this.outputFormat}))}}return t.\u0275fac=function(n){return new(n||t)(v($e),v(Te),v(Ss),v(GW,8))},t.\u0275cmp=_t({type:t,selectors:[["editor"]],inputs:{cloudChannel:"cloudChannel",apiKey:"apiKey",init:"init",id:"id",initialValue:"initialValue",outputFormat:"outputFormat",inline:"inline",tagName:"tagName",plugins:"plugins",toolbar:"toolbar",modelEvents:"modelEvents",allowedEvents:"allowedEvents",ignoreEvents:"ignoreEvents",disabled:"disabled"},standalone:!0,features:[nt([JCe]),He,$r],decls:1,vars:0,template:function(n,r){1&n&&V(0,HCe,0,0,"ng-template")},dependencies:[zu,xj],styles:["[_nghost-%COMP%]{display:block}"]}),t})(),BR=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=De({type:t}),t.\u0275inj=Ie({imports:[zW]}),t})(),WW=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=De({type:t});static#n=this.\u0275inj=Ie({imports:[zu,BR,el]})}return t})(),ZCe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=De({type:t}),t.\u0275inj=Ie({imports:[[]]}),t})();const{isArray:eSe}=Array;function KW(t){return 1===t.length&&eSe(t[0])?t[0]:t}function UR(...t){const e=fg(t),n=KW(t);return n.length?new Ve(r=>{let i=n.map(()=>[]),s=n.map(()=>!1);r.add(()=>{i=s=null});for(let o=0;!r.closed&&o<n.length;o++)tn(n[o]).subscribe(it(r,a=>{if(i[o].push(a),i.every(c=>c.length)){const c=i.map(u=>u.shift());r.next(e?e(...c):c),i.some((u,l)=>!u.length&&s[l])&&r.complete()}},()=>{s[o]=!0,!i[o].length&&r.complete()}));return()=>{i=s=null}}):Xr}function jR(...t){const e=fg(t);return It((n,r)=>{const i=t.length,s=new Array(i);let o=t.map(()=>!1),a=!1;for(let c=0;c<i;c++)tn(t[c]).subscribe(it(r,u=>{s[c]=u,!a&&!o[c]&&(o[c]=!0,(a=o.every(fi))&&(o=null))},da));n.subscribe(it(r,c=>{if(a){const u=[c,...s];r.next(e?e(...u):u)}}))})}Math,Math,Math;const MAe=["*"],cxe=["dialog"];function Ac(t){return"string"==typeof t}function xc(t){return null!=t}function sd(t){return(t||document.body).getBoundingClientRect()}const Sq={animation:!0,transitionTimerDelayMs:5},eNe=()=>{},{transitionTimerDelayMs:tNe}=Sq,Yp=new Map,Or=(t,e,n,r)=>{let i=r.context||{};const s=Yp.get(e);if(s)switch(r.runningTransition){case"continue":return Xr;case"stop":t.run(()=>s.transition$.complete()),i=Object.assign(s.context,i),Yp.delete(e)}const o=n(e,r.animation,i)||eNe;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return t.run(()=>o()),ae(void 0).pipe(function Zxe(t){return e=>new Ve(n=>e.subscribe({next:o=>t.run(()=>n.next(o)),error:o=>t.run(()=>n.error(o)),complete:()=>t.run(()=>n.complete())}))}(t));const a=new Be,c=new Be,u=a.pipe(function nSe(...t){return e=>Th(e,ae(...t))}(!0));Yp.set(e,{transition$:a,complete:()=>{c.next(),c.complete()},context:i});const l=function Xxe(t){const{transitionDelay:e,transitionDuration:n}=window.getComputedStyle(t);return 1e3*(parseFloat(e)+parseFloat(n))}(e);return t.runOutsideAngular(()=>{const d=ln(e,"transitionend").pipe(vt(u),mn(({target:f})=>f===e));(function YW(...t){return 1===(t=KW(t)).length?tn(t[0]):new Ve(function tSe(t){return e=>{let n=[];for(let r=0;n&&!e.closed&&r<t.length;r++)n.push(tn(t[r]).subscribe(it(e,i=>{if(n){for(let s=0;s<n.length;s++)s!==r&&n[s].unsubscribe();n=null}e.next(i)})))}}(t))})(function qW(t=0,e,n=Qye){let r=-1;return null!=e&&(Mk(e)?n=e:r=e),new Ve(i=>{let s=function XCe(t){return t instanceof Date&&!isNaN(t)}(t)?+t-n.now():t;s<0&&(s=0);let o=0;return n.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}(l+tNe).pipe(vt(u)),d,c).pipe(vt(u)).subscribe(()=>{Yp.delete(e),t.run(()=>{o(),a.next(),a.complete()})})}),a.asObservable()};let A0=(()=>{class t{constructor(){this.animation=Sq.animation}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Fq=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=De({type:t});static#n=this.\u0275inj=Ie({})}return t})(),Lq=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=De({type:t});static#n=this.\u0275inj=Ie({})}return t})(),Uq=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=De({type:t});static#n=this.\u0275inj=Ie({})}return t})(),jq=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=De({type:t});static#n=this.\u0275inj=Ie({})}return t})();var rt=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}(rt||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const Kq=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Yq(t){const e=Array.from(t.querySelectorAll(Kq)).filter(n=>-1!==n.tabIndex);return[e[0],e[e.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let c9=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=De({type:t});static#n=this.\u0275inj=Ie({})}return t})(),d9=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=De({type:t});static#n=this.\u0275inj=Ie({})}return t})();class kc{constructor(e,n,r){this.nodes=e,this.viewRef=n,this.componentRef=r}}let eOe=(()=>{class t{constructor(n,r){this._el=n,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe(gn(1)).subscribe(()=>{Or(this._zone,this._el.nativeElement,(n,r)=>{r&&sd(n),n.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Or(this._zone,this._el.nativeElement,({classList:n})=>n.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(r){return new(r||t)(v($e),v(Te))};static#t=this.\u0275cmp=_t({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(r,i){2&r&&(Da("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),je("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[$r],decls:0,vars:0,template:function(r,i){},encapsulation:2})}return t})();class h9{update(e){}close(e){}dismiss(e){}}const tOe=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],nOe=["animation","backdropClass"];class rOe{_applyWindowOptions(e,n){tOe.forEach(r=>{xc(n[r])&&(e[r]=n[r])})}_applyBackdropOptions(e,n){nOe.forEach(r=>{xc(n[r])&&(e[r]=n[r])})}update(e){this._applyWindowOptions(this._windowCmptRef.instance,e),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,e)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(vt(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(vt(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(e,n,r,i){this._windowCmptRef=e,this._contentRef=n,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new Be,this._dismissed=new Be,this._hidden=new Be,e.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,o)=>{this._resolve=s,this._reject=o}),this.result.then(null,()=>{})}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const n=this._beforeDismiss();!function Eq(t){return t&&t.then}(n)?!1!==n&&this._dismiss(e):n.then(r=>{!1!==r&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():ae(void 0);e.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),n.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),UR(e,n).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var gk=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}(gk||{});let iOe=(()=>{class t{constructor(n,r,i){this._document=n,this._elRef=r,this._zone=i,this._closed$=new Be,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new x,this.shown=new Be,this.hidden=new Be}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Ac(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(n){this.dismissEvent.emit(n)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(gn(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:n}=this._elRef,r={animation:this.animation,runningTransition:"stop"},o=UR(Or(this._zone,n,()=>n.classList.remove("show"),r),Or(this._zone,this._dialogEl.nativeElement,()=>{},r));return o.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),o}_show(){const n={animation:this.animation,runningTransition:"continue"};UR(Or(this._zone,this._elRef.nativeElement,(s,o)=>{o&&sd(s),s.classList.add("show")},n),Or(this._zone,this._dialogEl.nativeElement,()=>{},n)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:n}=this._elRef;this._zone.runOutsideAngular(()=>{ln(n,"keydown").pipe(vt(this._closed$),mn(i=>i.which===rt.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(gk.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;ln(this._dialogEl.nativeElement,"mousedown").pipe(vt(this._closed$),an(()=>r=!1),pi(()=>ln(n,"mouseup").pipe(vt(this._closed$),gn(1))),mn(({target:i})=>n===i)).subscribe(()=>{r=!0}),ln(n,"click").pipe(vt(this._closed$)).subscribe(({target:i})=>{n===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(gk.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:n}=this._elRef;if(!n.contains(document.activeElement)){const r=n.querySelector("[ngbAutofocus]"),i=Yq(n)[0];(r||i||n).focus()}}_restoreFocus(){const n=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&n.contains(r)?r:n,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Or(this._zone,this._elRef.nativeElement,({classList:n})=>(n.add("modal-static"),()=>n.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(r){return new(r||t)(v(Ut),v($e),v(Te))};static#t=this.\u0275cmp=_t({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(r,i){if(1&r&&Aa(cxe,7),2&r){let s;Je(s=function Ze(){return function Ene(t,e){return t[Hi].queries[e].queryList}(k(),VP())}())&&(i._dialogEl=s.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(r,i){2&r&&(qe("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),Da("modal d-block"+(i.windowClass?" "+i.windowClass:"")),je("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[$r],ngContentSelectors:MAe,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(r,i){1&r&&(function PL(t){const e=k()[Vt][$n];if(!e.projection){const r=e.projection=Ld(t?t.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=t?qX(s,t):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}(),b(0,"div",0,1)(2,"div",2),function FL(t,e=0,n){const r=k(),i=Re(),s=Cu(i,Se+t,16,null,n||null);null===s.projection&&(s.projection=e),Fb(),(!r[Ts]||nu())&&32!=(32&s.flags)&&function zQ(t,e,n){U2(e[fe],0,e,n,lw(t,n,e),k2(n.parent||e[$n],n,e))}(i,r,s)}(3),I()()),2&r&&Da("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+i.fullscreenClass+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return t})(),sOe=(()=>{class t{constructor(n){this._document=n}hide(){const n=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,i=r.style,{overflow:s,paddingRight:o}=i;if(n>0){const a=parseFloat(window.getComputedStyle(r).paddingRight);i.paddingRight=`${a+n}px`}return i.overflow="hidden",()=>{n>0&&(i.paddingRight=o),i.overflow=s}}static#e=this.\u0275fac=function(r){return new(r||t)(q(Ut))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),oOe=(()=>{class t{constructor(n,r,i,s,o,a,c){this._applicationRef=n,this._injector=r,this._environmentInjector=i,this._document=s,this._scrollBar=o,this._rendererFactory=a,this._ngZone=c,this._activeWindowCmptHasChanged=new Be,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new x,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const u=this._windowCmpts[this._windowCmpts.length-1];((t,e,n,r=!1)=>{t.runOutsideAngular(()=>{const i=ln(e,"focusin").pipe(vt(n),Oe(s=>s.target));ln(e,"keydown").pipe(vt(n),mn(s=>s.which===rt.Tab),jR(i)).subscribe(([s,o])=>{const[a,c]=Yq(e);(o===a||o===e)&&s.shiftKey&&(c.focus(),s.preventDefault()),o===c&&!s.shiftKey&&(a.focus(),s.preventDefault())}),r&&ln(e,"click").pipe(vt(n),jR(i),Oe(s=>s[1])).subscribe(s=>s.focus())})})(this._ngZone,u.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(u.location.nativeElement)}})}_restoreScrollBar(){const n=this._scrollBarRestoreFn;n&&(this._scrollBarRestoreFn=null,n())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(n,r,i){const s=i.container instanceof HTMLElement?i.container:xc(i.container)?this._document.querySelector(i.container):this._document.body,o=this._rendererFactory.createRenderer(null,null);if(!s)throw new Error(`The specified modal container "${i.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const a=new h9,c=(n=i.injector||n).get(br,null)||this._environmentInjector,u=this._getContentRef(n,c,r,a,i);let l=!1!==i.backdrop?this._attachBackdrop(s):void 0,d=this._attachWindowComponent(s,u.nodes),h=new rOe(d,u,l,i.beforeDismiss);return this._registerModalRef(h),this._registerWindowCmpt(d),h.hidden.pipe(gn(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(o.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),a.close=f=>{h.close(f)},a.dismiss=f=>{h.dismiss(f)},a.update=f=>{h.update(f)},h.update(i),1===this._modalRefs.length&&o.addClass(this._document.body,"modal-open"),l&&l.instance&&l.changeDetectorRef.detectChanges(),d.changeDetectorRef.detectChanges(),h}get activeInstances(){return this._activeInstances}dismissAll(n){this._modalRefs.forEach(r=>r.dismiss(n))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(n){let r=n1(eOe,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),n.appendChild(r.location.nativeElement),r}_attachWindowComponent(n,r){let i=n1(iOe,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(i.hostView),n.appendChild(i.location.nativeElement),i}_getContentRef(n,r,i,s,o){return i?i instanceof Et?this._createFromTemplateRef(i,s):Ac(i)?this._createFromString(i):this._createFromComponent(n,r,i,s,o):new kc([])}_createFromTemplateRef(n,r){const s=n.createEmbeddedView({$implicit:r,close(o){r.close(o)},dismiss(o){r.dismiss(o)}});return this._applicationRef.attachView(s),new kc([s.rootNodes],s)}_createFromString(n){const r=this._document.createTextNode(`${n}`);return new kc([[r]])}_createFromComponent(n,r,i,s,o){const c=n1(i,{environmentInjector:r,elementInjector:Yt.create({providers:[{provide:h9,useValue:s}],parent:n})}),u=c.location.nativeElement;return o.scrollable&&u.classList.add("component-host-scrollable"),this._applicationRef.attachView(c.hostView),new kc([[u]],c.hostView,c)}_setAriaHidden(n){const r=n.parentElement;r&&n!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==n&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((n,r)=>{n?r.setAttribute("aria-hidden",n):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(n){const r=()=>{const i=this._modalRefs.indexOf(n);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(n),this._activeInstances.emit(this._modalRefs),n.result.then(r,r)}_registerWindowCmpt(n){this._windowCmpts.push(n),this._activeWindowCmptHasChanged.next(),n.onDestroy(()=>{const r=this._windowCmpts.indexOf(n);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(r){return new(r||t)(q(bo),q(Yt),q(br),q(Ut),q(sOe),q(Vw),q(Te))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),aOe=(()=>{class t{constructor(n){this._ngbConfig=n,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(n){this._animation=n}static#e=this.\u0275fac=function(r){return new(r||t)(q(A0))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),cOe=(()=>{class t{constructor(n,r,i){this._injector=n,this._modalStack=r,this._config=i}open(n,r={}){const i={...this._config,animation:this._config.animation,...r};return this._modalStack.open(this._injector,n,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(n){this._modalStack.dismissAll(n)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(r){return new(r||t)(q(Yt),q(oOe),q(aOe))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),f9=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=De({type:t});static#n=this.\u0275inj=Ie({providers:[cOe]})}return t})(),m9=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=De({type:t});static#n=this.\u0275inj=Ie({})}return t})(),E9=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=De({type:t});static#n=this.\u0275inj=Ie({})}return t})(),D9=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=De({type:t});static#n=this.\u0275inj=Ie({})}return t})(),C9=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=De({type:t});static#n=this.\u0275inj=Ie({})}return t})(),S9=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=De({type:t});static#n=this.\u0275inj=Ie({})}return t})(),A9=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=De({type:t});static#n=this.\u0275inj=Ie({})}return t})(),x9=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=De({type:t});static#n=this.\u0275inj=Ie({})}return t})(),N9=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=De({type:t});static#n=this.\u0275inj=Ie({})}return t})(),O9=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=De({type:t});static#n=this.\u0275inj=Ie({})}return t})();new te("live announcer delay",{providedIn:"root",factory:function TOe(){return 100}});let M9=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=De({type:t});static#n=this.\u0275inj=Ie({})}return t})(),R9=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=De({type:t});static#n=this.\u0275inj=Ie({})}return t})();const DOe=[Fq,Lq,Uq,jq,c9,d9,f9,m9,R9,E9,D9,C9,S9,A9,x9,N9,O9,M9];let COe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=De({type:t});static#n=this.\u0275inj=Ie({imports:[DOe,Fq,Lq,Uq,jq,c9,d9,f9,m9,R9,E9,D9,C9,S9,A9,x9,N9,O9,M9]})}return t})(),SOe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=De({type:t});static#n=this.\u0275inj=Ie({imports:[zu,Nj,WW,BR,el]})}return t})(),AOe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=De({type:t});static#n=this.\u0275inj=Ie({imports:[zu,xj,Nj,el]})}return t})(),xOe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=De({type:t,bootstrap:[RCe]});static#n=this.\u0275inj=Ie({providers:[{provide:GW,useValue:"tinymce/tinymce.min.js"}],imports:[yoe,NCe,kCe,WW,SOe,AOe,ave(()=>cve(y0_firebaseConfig)),vDe(()=>IDe()),ZCe,COe,BR]})}return t})();moe().bootstrapModule(xOe).catch(t=>console.error(t))},614:()=>{const we=":";const hg=function(E,...T){if(hg.translate){const P=hg.translate(E,T);E=P[0],T=P[1]}let A=nb(E[0],E.raw[0]);for(let P=1;P<E.length;P++)A+=T[P-1]+nb(E[P],E.raw[P]);return A},Ik=":";function nb(E,T){return T.charAt(0)===Ik?E.substring(function gd(E,T){for(let A=1,P=1;A<E.length;A++,P++)if("\\"===T[P])P++;else if(E[A]===we)return A;throw new Error(`Unterminated $localize metadata block in "${T}".`)}(E,T)+1):E}globalThis.$localize=hg}},we=>{var so=oo=>we(we.s=oo);so(614),so(66)}]);