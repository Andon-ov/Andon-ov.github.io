"use strict";(self.webpackChunkThe_Natural_Way=self.webpackChunkThe_Natural_Way||[]).push([[179],{8726:(Bt,Ge,K)=>{K.d(Ge,{Ot:()=>we,ZF:()=>Ut,hX:()=>Xe,z6:()=>de});var b=K(4097),oe=K(9468),u=K(6106);class we{constructor(ot){return ot}}class de{constructor(){return(0,b.C6)()}}const Ue=new oe.OlP("angularfire2._apps"),Ie={provide:we,useFactory:function Te(mt){return mt&&1===mt.length?mt[0]:new we((0,b.Mq)())},deps:[[new oe.FiY,Ue]]},ne={provide:de,deps:[[new oe.FiY,Ue]]};function le(mt){return(ot,vt)=>{const _t=ot.runOutsideAngular(()=>mt(vt));return new we(_t)}}let Ae=(()=>{class mt{constructor(vt){(0,b.KN)("angularfire",u.q4.full,"core"),(0,b.KN)("angularfire",u.q4.full,"app"),(0,b.KN)("angular",oe.q4F.full,vt.toString())}}return mt.\u0275fac=function(vt){return new(vt||mt)(oe.LFG(oe.Lbi))},mt.\u0275mod=oe.oAB({type:mt}),mt.\u0275inj=oe.cJS({providers:[Ie,ne]}),mt})();function Xe(mt,...ot){return{ngModule:Ae,providers:[{provide:Ue,useFactory:le(mt),multi:!0,deps:[oe.R0b,oe.zs3,u.HU,...ot]}]}}const Ut=(0,u.u3)(b.ZF,!0)},3477:(Bt,Ge,K)=>{K.d(Ge,{gg:()=>DD,ET:()=>lA,Ab:()=>uA,vr:()=>dA,hJ:()=>hA,oe:()=>fA,JU:()=>pA,QT:()=>gA,PL:()=>mA,ad:()=>_A,b9:()=>yA,Xo:()=>vA,Cm:()=>cA,IO:()=>bA,pl:()=>wA,TQ:()=>IA,r7:()=>TA,ar:()=>EA});var b=K(6106),oe=K(9468),u=K(8726),we=K(4097),de=K(5861),he=K(229),Te=K(7592),Ue=K(7582),Ie=K(7879),ne=K(6820);const xn=function Ut(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Rt=new he.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ot=new Ie.Yd("@firebase/auth");function _t(n,...e){ot.logLevel<=Ie.in.ERROR&&ot.error(`Auth (${Te.Jn}): ${n}`,...e)}function je(n,...e){throw Fn(n,...e)}function ve(n,...e){return Fn(n,...e)}function Fn(n,...e){if("string"!=typeof n){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return Rt.create(n,...e)}function ut(n,e,...t){if(!n)throw Fn(e,...t)}function dn(n){const e="INTERNAL ASSERTION FAILED: "+n;throw _t(e),new Error(e)}function Sn(n,e){n||dn(e)}function _r(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class Ye{constructor(e,t){this.shortDelay=e,this.longDelay=t,Sn(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,he.uI)()||(0,he.b$)()}get(){return function ke(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function ir(){return"http:"===_r()||"https:"===_r()}()||(0,he.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class nt{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void dn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void dn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void dn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const bt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Pt=new Ye(3e4,6e4);function hn(n,e,t,i){return bn.apply(this,arguments)}function bn(){return(bn=(0,de.Z)(function*(n,e,t,i,c={}){return cn(n,c,(0,de.Z)(function*(){let p={},_={};i&&("GET"===e?_=i:p={body:JSON.stringify(i)});const E=(0,he.xO)(Object.assign({key:n.config.apiKey},_)).slice(1),F=yield n._getAdditionalHeaders();return F["Content-Type"]="application/json",n.languageCode&&(F["X-Firebase-Locale"]=n.languageCode),nt.fetch()(kr(n,n.config.apiHost,t,E),Object.assign({method:e,headers:F,referrerPolicy:"no-referrer"},p))}))})).apply(this,arguments)}function cn(n,e,t){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,de.Z)(function*(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},bt),e);try{const c=new Ce(n),p=yield Promise.race([t(),c.promise]);c.clearNetworkTimeout();const _=yield p.json();if("needConfirmation"in _)throw xe(n,"account-exists-with-different-credential",_);if(p.ok&&!("errorMessage"in _))return _;{const E=p.ok?_.errorMessage:_.error.message,[F,H]=E.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===F)throw xe(n,"credential-already-in-use",_);if("EMAIL_EXISTS"===F)throw xe(n,"email-already-in-use",_);if("USER_DISABLED"===F)throw xe(n,"user-disabled",_);const te=i[F]||F.toLowerCase().replace(/[_\s]+/g,"-");if(H)throw function Ke(n,e,t){const i=Object.assign(Object.assign({},xn()),{[e]:t});return new he.LL("auth","Firebase",i).create(e,{appName:n.name})}(n,te,H);je(n,te)}}catch(c){if(c instanceof he.ZR)throw c;je(n,"network-request-failed",{message:String(c)})}})).apply(this,arguments)}function kr(n,e,t,i){const c=`${e}${t}?${i}`;return n.config.emulator?function Ve(n,e){Sn(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}(n.config,c):`${n.config.apiScheme}://${c}`}class Ce{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(ve(this.auth,"network-request-failed")),Pt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function xe(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const c=ve(n,e,i);return c.customData._tokenResponse=t,c}function at(){return(at=(0,de.Z)(function*(n,e){return hn(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function An(){return(An=(0,de.Z)(function*(n,e){return hn(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function sn(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Jn(){return(Jn=(0,de.Z)(function*(n,e=!1){const t=(0,he.m9)(n),i=yield t.getIdToken(e),c=Ar(i);ut(c&&c.exp&&c.auth_time&&c.iat,t.auth,"internal-error");const p="object"==typeof c.firebase?c.firebase:void 0,_=p?.sign_in_provider;return{claims:c,token:i,authTime:sn(Xt(c.auth_time)),issuedAtTime:sn(Xt(c.iat)),expirationTime:sn(Xt(c.exp)),signInProvider:_||null,signInSecondFactor:p?.sign_in_second_factor||null}})).apply(this,arguments)}function Xt(n){return 1e3*Number(n)}function Ar(n){const[e,t,i]=n.split(".");if(void 0===e||void 0===t||void 0===i)return _t("JWT malformed, contained fewer than 3 sections"),null;try{const c=(0,he.tV)(t);return c?JSON.parse(c):(_t("Failed to decode base64 JWT payload"),null)}catch(c){return _t("Caught error parsing JWT payload as JSON",c?.toString()),null}}function mn(n,e){return ar.apply(this,arguments)}function ar(){return(ar=(0,de.Z)(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(i){throw i instanceof he.ZR&&function Yn({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})).apply(this,arguments)}class cr{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),i}{this.errorBackoff=3e4;const c=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,c)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout((0,de.Z)(function*(){yield t.iteration()}),i)}iteration(){var e=this;return(0,de.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class Wn{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=sn(this.lastLoginAt),this.creationTime=sn(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function pi(n){return Rn.apply(this,arguments)}function Rn(){return Rn=(0,de.Z)(function*(n){var e;const t=n.auth,i=yield n.getIdToken(),c=yield mn(n,function vr(n,e){return An.apply(this,arguments)}(t,{idToken:i}));ut(c?.users.length,t,"internal-error");const p=c.users[0];n._notifyReloadListener(p);const _=null!==(e=p.providerUserInfo)&&void 0!==e&&e.length?function tt(n){return n.map(e=>{var{providerId:t}=e,i=(0,Ue._T)(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}(p.providerUserInfo):[],E=function gi(n,e){return[...n.filter(i=>!e.some(c=>c.providerId===i.providerId)),...e]}(n.providerData,_),te=!!n.isAnonymous&&!(n.email&&p.passwordHash||E?.length),pe={uid:p.localId,displayName:p.displayName||null,photoURL:p.photoUrl||null,email:p.email||null,emailVerified:p.emailVerified||!1,phoneNumber:p.phoneNumber||null,tenantId:p.tenantId||null,providerData:E,metadata:new Wn(p.createdAt,p.lastLoginAt),isAnonymous:te};Object.assign(n,pe)}),Rn.apply(this,arguments)}function Mr(){return(Mr=(0,de.Z)(function*(n){const e=(0,he.m9)(n);yield pi(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function Ze(){return(Ze=(0,de.Z)(function*(n,e){const t=yield cn(n,{},(0,de.Z)(function*(){const i=(0,he.xO)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:c,apiKey:p}=n.config,_=kr(n,c,"/v1/token",`key=${p}`),E=yield n._getAdditionalHeaders();return E["Content-Type"]="application/x-www-form-urlencoded",nt.fetch()(_,{method:"POST",headers:E,body:i})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class It{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ut(e.idToken,"internal-error"),ut(typeof e.idToken<"u","internal-error"),ut(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function br(n){const e=Ar(n);return ut(e,"internal-error"),ut(typeof e.exp<"u","internal-error"),ut(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var i=this;return(0,de.Z)(function*(){return ut(!i.accessToken||i.refreshToken,e,"user-token-expired"),t||!i.accessToken||i.isExpired?i.refreshToken?(yield i.refresh(e,i.refreshToken),i.accessToken):null:i.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var i=this;return(0,de.Z)(function*(){const{accessToken:c,refreshToken:p,expiresIn:_}=yield function Se(n,e){return Ze.apply(this,arguments)}(e,t);i.updateTokensAndExpiration(c,p,Number(_))})()}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(e,t){const{refreshToken:i,accessToken:c,expirationTime:p}=t,_=new It;return i&&(ut("string"==typeof i,"internal-error",{appName:e}),_.refreshToken=i),c&&(ut("string"==typeof c,"internal-error",{appName:e}),_.accessToken=c),p&&(ut("number"==typeof p,"internal-error",{appName:e}),_.expirationTime=p),_}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new It,this.toJSON())}_performRefresh(){return dn("not implemented")}}function qt(n,e){ut("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class Zt{constructor(e){var{uid:t,auth:i,stsTokenManager:c}=e,p=(0,Ue._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=c,this.accessToken=c.accessToken,this.displayName=p.displayName||null,this.email=p.email||null,this.emailVerified=p.emailVerified||!1,this.phoneNumber=p.phoneNumber||null,this.photoURL=p.photoURL||null,this.isAnonymous=p.isAnonymous||!1,this.tenantId=p.tenantId||null,this.providerData=p.providerData?[...p.providerData]:[],this.metadata=new Wn(p.createdAt||void 0,p.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,de.Z)(function*(){const i=yield mn(t,t.stsTokenManager.getToken(t.auth,e));return ut(i,t.auth,"internal-error"),t.accessToken!==i&&(t.accessToken=i,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),i})()}getIdTokenResult(e){return function En(n){return Jn.apply(this,arguments)}(this,e)}reload(){return function Xn(n){return Mr.apply(this,arguments)}(this)}_assign(e){this!==e&&(ut(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Zt(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ut(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var i=this;return(0,de.Z)(function*(){let c=!1;e.idToken&&e.idToken!==i.stsTokenManager.accessToken&&(i.stsTokenManager.updateFromServerResponse(e),c=!0),t&&(yield pi(i)),yield i.auth._persistUserIfCurrent(i),c&&i.auth._notifyListenersIfCurrent(i)})()}delete(){var e=this;return(0,de.Z)(function*(){const t=yield e.getIdToken();return yield mn(e,function Re(n,e){return at.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,c,p,_,E,F,H,te;const pe=null!==(i=t.displayName)&&void 0!==i?i:void 0,Be=null!==(c=t.email)&&void 0!==c?c:void 0,lt=null!==(p=t.phoneNumber)&&void 0!==p?p:void 0,kt=null!==(_=t.photoURL)&&void 0!==_?_:void 0,nn=null!==(E=t.tenantId)&&void 0!==E?E:void 0,on=null!==(F=t._redirectEventId)&&void 0!==F?F:void 0,Sr=null!==(H=t.createdAt)&&void 0!==H?H:void 0,ri=null!==(te=t.lastLoginAt)&&void 0!==te?te:void 0,{uid:Pr,emailVerified:Jo,isAnonymous:Mo,providerData:ts,stsTokenManager:Vc}=t;ut(Pr&&Vc,e,"internal-error");const sg=It.fromJSON(this.name,Vc);ut("string"==typeof Pr,e,"internal-error"),qt(pe,e.name),qt(Be,e.name),ut("boolean"==typeof Jo,e,"internal-error"),ut("boolean"==typeof Mo,e,"internal-error"),qt(lt,e.name),qt(kt,e.name),qt(nn,e.name),qt(on,e.name),qt(Sr,e.name),qt(ri,e.name);const rb=new Zt({uid:Pr,auth:e,email:Be,emailVerified:Jo,displayName:pe,isAnonymous:Mo,photoURL:kt,phoneNumber:lt,tenantId:nn,stsTokenManager:sg,createdAt:Sr,lastLoginAt:ri});return ts&&Array.isArray(ts)&&(rb.providerData=ts.map(DA=>Object.assign({},DA))),on&&(rb._redirectEventId=on),rb}static _fromIdTokenResponse(e,t,i=!1){return(0,de.Z)(function*(){const c=new It;c.updateFromServerResponse(t);const p=new Zt({uid:t.localId,auth:e,stsTokenManager:c,isAnonymous:i});return yield pi(p),p})()}}const qn=new Map;function Y(n){Sn(n instanceof Function,"Expected a class definition");let e=qn.get(n);return e?(Sn(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,qn.set(n,e),e)}const G=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,de.Z)(function*(){return!0})()}_set(t,i){var c=this;return(0,de.Z)(function*(){c.storage[t]=i})()}_get(t){var i=this;return(0,de.Z)(function*(){const c=i.storage[t];return void 0===c?null:c})()}_remove(t){var i=this;return(0,de.Z)(function*(){delete i.storage[t]})()}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})();function q(n,e,t){return`firebase:${n}:${e}:${t}`}class ${constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:c,name:p}=this.auth;this.fullUserKey=q(this.userKey,c.apiKey,p),this.fullPersistenceKey=q("persistence",c.apiKey,p),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,de.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Zt._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,de.Z)(function*(){if(t.persistence===e)return;const i=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,i?t.setCurrentUser(i):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return(0,de.Z)(function*(){if(!t.length)return new $(Y(G),e,i);const c=(yield Promise.all(t.map(function(){var H=(0,de.Z)(function*(te){if(yield te._isAvailable())return te});return function(te){return H.apply(this,arguments)}}()))).filter(H=>H);let p=c[0]||Y(G);const _=q(i,e.config.apiKey,e.name);let E=null;for(const H of t)try{const te=yield H._get(_);if(te){const pe=Zt._fromJSON(e,te);H!==p&&(E=pe),p=H;break}}catch{}const F=c.filter(H=>H._shouldAllowMigration);return p._shouldAllowMigration&&F.length?(p=F[0],E&&(yield p._set(_,E.toJSON())),yield Promise.all(t.map(function(){var H=(0,de.Z)(function*(te){if(te!==p)try{yield te._remove(_)}catch{}});return function(te){return H.apply(this,arguments)}}())),new $(p,e,i)):new $(p,e,i)})()}}function be(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function ln(n=(0,he.z$)()){return/iemobile/i.test(n)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function qe(n=(0,he.z$)()){return/firefox\//i.test(n)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function Wt(n=(0,he.z$)()){return/blackberry/i.test(n)}(e))return"Blackberry";if(function Ln(n=(0,he.z$)()){return/webos/i.test(n)}(e))return"Webos";if(function Tt(n=(0,he.z$)()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function rn(n=(0,he.z$)()){return/crios\//i.test(n)}(e))&&!e.includes("edge/"))return"Chrome";if(function On(n=(0,he.z$)()){return/android/i.test(n)}(e))return"Android";{const i=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===i?.length)return i[1]}return"Other"}function Xo(n,e=[]){let t;switch(n){case"Browser":t=be((0,he.z$)());break;case"Worker":t=`${be((0,he.z$)())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Te.Jn}/${i}`}function da(n,e){return ws.apply(this,arguments)}function ws(){return(ws=(0,de.Z)(function*(n,e){return hn(n,"GET","/v2/recaptchaConfig",function jt(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}(n,e))})).apply(this,arguments)}function lr(n){return void 0!==n&&void 0!==n.enterprise}class ho{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}class $s{constructor(e){this.type="recaptcha-enterprise",this.auth=mi(e)}verify(e="verify",t=!1){var i=this;return(0,de.Z)(function*(){function p(){return p=(0,de.Z)(function*(E){if(!t){if(null==E.tenantId&&null!=E._agentRecaptchaConfig)return E._agentRecaptchaConfig.siteKey;if(null!=E.tenantId&&void 0!==E._tenantRecaptchaConfigs[E.tenantId])return E._tenantRecaptchaConfigs[E.tenantId].siteKey}return new Promise(function(){var F=(0,de.Z)(function*(H,te){da(E,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(pe=>{if(void 0!==pe.recaptchaKey){const Be=new ho(pe);return null==E.tenantId?E._agentRecaptchaConfig=Be:E._tenantRecaptchaConfigs[E.tenantId]=Be,H(Be.siteKey)}te(new Error("recaptcha Enterprise site key undefined"))}).catch(pe=>{te(pe)})});return function(H,te){return F.apply(this,arguments)}}())}),p.apply(this,arguments)}function _(E,F,H){const te=window.grecaptcha;lr(te)?te.enterprise.ready(()=>{te.enterprise.execute(E,{action:e}).then(pe=>{F(pe)}).catch(()=>{F("NO_RECAPTCHA")})}):H(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((E,F)=>{(function c(E){return p.apply(this,arguments)})(i.auth).then(H=>{if(!t&&lr(window.grecaptcha))_(H,E,F);else{if(typeof window>"u")return void F(new Error("RecaptchaVerifier is only supported in browser"));(function fo(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=c=>{const p=ve("internal-error");p.customData=c,t(p)},i.type="text/javascript",i.charset="UTF-8",function hs(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(i)})})("https://www.google.com/recaptcha/enterprise.js?render="+H).then(()=>{_(H,E,F)}).catch(te=>{F(te)})}}).catch(H=>{F(H)})})})()}}class fs{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=p=>new Promise((_,E)=>{try{_(e(p))}catch(F){E(F)}});i.onAbort=t,this.queue.push(i);const c=this.queue.length-1;return()=>{this.queue[c]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return(0,de.Z)(function*(){if(t.auth.currentUser===e)return;const i=[];try{for(const c of t.queue)yield c(e),c.onAbort&&i.push(c.onAbort)}catch(c){i.reverse();for(const p of i)try{p()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:c?.message})}})()}}class Ja{constructor(e,t,i,c){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=c,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pa(this),this.idTokenSubscription=new Pa(this),this.beforeStateQueue=new fs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Rt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=c.sdkClientVersion}_initializeWithPersistence(e,t){var i=this;return t&&(this._popupRedirectResolver=Y(t)),this._initializationPromise=this.queue((0,de.Z)(function*(){var c,p;if(!i._deleted&&(i.persistenceManager=yield $.create(i,e),!i._deleted)){if(null!==(c=i._popupRedirectResolver)&&void 0!==c&&c._shouldInitProactively)try{yield i._popupRedirectResolver._initialize(i)}catch{}yield i.initializeCurrentUser(t),i.lastNotifiedUid=(null===(p=i.currentUser)||void 0===p?void 0:p.uid)||null,!i._deleted&&(i._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,de.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return(0,de.Z)(function*(){var i;const c=yield t.assertedPersistence.getCurrentUser();let p=c,_=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const E=null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId,F=p?._redirectEventId,H=yield t.tryRedirectSignIn(e);(!E||E===F)&&H?.user&&(p=H.user,_=!0)}if(!p)return t.directlySetCurrentUser(null);if(!p._redirectEventId){if(_)try{yield t.beforeStateQueue.runMiddleware(p)}catch(E){p=c,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(E))}return p?t.reloadAndSetCurrentUserOrClear(p):t.directlySetCurrentUser(null)}return ut(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===p._redirectEventId?t.directlySetCurrentUser(p):t.reloadAndSetCurrentUserOrClear(p)})()}tryRedirectSignIn(e){var t=this;return(0,de.Z)(function*(){let i=null;try{i=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return i})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,de.Z)(function*(){try{yield pi(e)}catch(i){if("auth/network-request-failed"!==i?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function $e(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return(0,de.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,de.Z)(function*(){const i=e?(0,he.m9)(e):null;return i&&ut(i.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(i&&i._clone(t))})()}_updateCurrentUser(e,t=!1){var i=this;return(0,de.Z)(function*(){if(!i._deleted)return e&&ut(i.tenantId===e.tenantId,i,"tenant-id-mismatch"),t||(yield i.beforeStateQueue.runMiddleware(e)),i.queue((0,de.Z)(function*(){yield i.directlySetCurrentUser(e),i.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,de.Z)(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue((0,de.Z)(function*(){yield t.assertedPersistence.setPersistence(Y(e))}))}initializeRecaptchaConfig(){var e=this;return(0,de.Z)(function*(){const t=yield da(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),i=new ho(t);null==e.tenantId?e._agentRecaptchaConfig=i:e._tenantRecaptchaConfigs[e.tenantId]=i,i.emailPasswordEnabled&&new $s(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new he.LL("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var i=this;return(0,de.Z)(function*(){const c=yield i.getOrInitRedirectPersistenceManager(t);return null===e?c.removeCurrentUser():c.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,de.Z)(function*(){if(!t.redirectPersistenceManager){const i=e&&Y(e)||t._popupRedirectResolver;ut(i,t,"argument-error"),t.redirectPersistenceManager=yield $.create(t,[Y(i._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,de.Z)(function*(){var i,c;return t._isInitialized&&(yield t.queue((0,de.Z)(function*(){}))),(null===(i=t._currentUser)||void 0===i?void 0:i._redirectEventId)===e?t._currentUser:(null===(c=t.redirectUser)||void 0===c?void 0:c._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,de.Z)(function*(){if(e===t.currentUser)return t.queue((0,de.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,c){if(this._deleted)return()=>{};const p="function"==typeof t?t:t.next.bind(t),_=this._isInitialized?Promise.resolve():this._initializationPromise;return ut(_,this,"internal-error"),_.then(()=>p(this.currentUser)),"function"==typeof t?e.addObserver(t,i,c):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return(0,de.Z)(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ut(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Xo(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,de.Z)(function*(){var t;const i={"X-Client-Version":e.clientVersion};e.app.options.appId&&(i["X-Firebase-gmpid"]=e.app.options.appId);const c=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();c&&(i["X-Firebase-Client"]=c);const p=yield e._getAppCheckToken();return p&&(i["X-Firebase-AppCheck"]=p),i})()}_getAppCheckToken(){var e=this;return(0,de.Z)(function*(){var t;const i=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return i?.error&&function vt(n,...e){ot.logLevel<=Ie.in.WARN&&ot.warn(`Auth (${Te.Jn}): ${n}`,...e)}(`Error while retrieving App Check token: ${i.error}`),i?.token})()}}function mi(n){return(0,he.m9)(n)}class Pa{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,he.ne)(t=>this.observer=t)}get next(){return ut(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function po(n){return`__${n}${Math.floor(1e6*Math.random())}`})("rcb"),new Ye(3e4,6e4),new Ye(2e3,1e4),new Ye(3e4,6e4),new Ye(5e3,15e3),encodeURIComponent("fac");var ug="@firebase/auth";class Xm{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,de.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ut(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,he.Pz)("authIdTokenMaxAge"),function Da(n){(0,Te.Xd)(new ne.wA("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),c=e.getProvider("heartbeat"),p=e.getProvider("app-check-internal"),{apiKey:_,authDomain:E}=i.options;ut(_&&!_.includes(":"),"invalid-api-key",{appName:i.name});const F={apiKey:_,authDomain:E,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Xo(n)},H=new Ja(i,c,p,F);return function ha(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Y);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}(H,t),H},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),(0,Te.Xd)(new ne.wA("auth-internal",e=>{const t=mi(e.getProvider("auth").getImmediate());return new Xm(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Te.KN)(ug,"0.23.2",function e_(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),(0,Te.KN)(ug,"0.23.2","esm2017")}("Browser");class Du{constructor(){return(0,b.vb)("auth")}}const c_=new Map,l_={activated:!1,tokenObservers:[]},yg={initialized:!1,enabled:!1};function us(n){return c_.get(n)||Object.assign({},l_)}function Fh(){return yg}const vg="https://content-firebaseappcheck.googleapis.com/v1",Wf="exchangeDebugToken",d_={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class bg{constructor(e,t,i,c,p){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=c,this.upperBound=p,this.pending=null,this.nextErrorWaitInterval=c,c>p)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,de.Z)(function*(){t.stop();try{t.pending=new he.BH,yield function Tv(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new he.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Wo=new he.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function ql(n){if(!us(n).activated)throw Wo.create("use-before-activation",{appName:n.name})}function Su(n,e){return qf.apply(this,arguments)}function qf(){return(qf=(0,de.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},c=t.getImmediate({optional:!0});if(c){const pe=yield c.getHeartbeatsHeader();pe&&(i["X-Firebase-Client"]=pe)}const p={method:"POST",body:JSON.stringify(e),headers:i};let _,E;try{_=yield fetch(n,p)}catch(pe){throw Wo.create("fetch-network-error",{originalErrorMessage:pe?.message})}if(200!==_.status)throw Wo.create("fetch-status-error",{httpStatus:_.status});try{E=yield _.json()}catch(pe){throw Wo.create("fetch-parse-error",{originalErrorMessage:pe?.message})}const F=E.ttl.match(/^([\d.]+)(s)$/);if(!F||!F[2]||isNaN(Number(F[1])))throw Wo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${E.ttl}`});const H=1e3*Number(F[1]),te=Date.now();return{token:E.token,expireTimeMillis:te+H,issuedAtTimeMillis:te}})).apply(this,arguments)}function Mi(n,e){const{projectId:t,appId:i,apiKey:c}=n.options;return{url:`${vg}/projects/${t}/apps/${i}:${Wf}?key=${c}`,body:{debug_token:e}}}const lb="firebase-app-check-database",Tg=1,Bh="firebase-app-check-store";let Au=null;function g_(){return(g_=(0,de.Z)(function*(n,e){const i=(yield function Uh(){return Au||(Au=new Promise((n,e)=>{try{const t=indexedDB.open(lb,Tg);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var c;e(Wo.create("storage-open",{originalErrorMessage:null===(c=i.target.error)||void 0===c?void 0:c.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Bh,{keyPath:"compositeKey"})}}catch(t){e(Wo.create("storage-open",{originalErrorMessage:t?.message}))}}),Au)}()).transaction(Bh,"readwrite"),p=i.objectStore(Bh).put({compositeKey:n,value:e});return new Promise((_,E)=>{p.onsuccess=F=>{_()},i.onerror=F=>{var H;E(Wo.create("storage-set",{originalErrorMessage:null===(H=F.target.error)||void 0===H?void 0:H.message}))}})})).apply(this,arguments)}const Pd=new Ie.Yd("@firebase/app-check");function Jf(n,e){return(0,he.hl)()?function Yf(n,e){return function Dv(n,e){return g_.apply(this,arguments)}(function __(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Pd.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Xf(){return Fh().enabled}function Cg(){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,de.Z)(function*(){const n=Fh();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Sv={error:"UNKNOWN_ERROR"};function Av(n){return he.US.encodeString(JSON.stringify(n),!1)}function Sg(n){return kd.apply(this,arguments)}function kd(){return(kd=(0,de.Z)(function*(n,e=!1){const t=n.app;ql(t);const i=us(t);let p,c=i.token;if(c&&!Ou(c)&&(i.token=void 0,c=void 0),!c){const F=yield i.cachedTokenPromise;F&&(Ou(F)?c=F:yield Jf(t,void 0))}if(!e&&c&&Ou(c))return{token:c.token};let E,_=!1;if(Xf()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Su(Mi(t,yield Cg()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),_=!0);const F=yield i.exchangeTokenPromise;return yield Jf(t,F),i.token=F,{token:F.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),_=!0),c=yield us(t).exchangeTokenPromise}catch(F){"appCheck/throttled"===F.code?Pd.warn(F.message):Pd.error(F),p=F}return c?p?E=Ou(c)?{token:c.token,internalError:p}:Ov(p):(E={token:c.token},i.token=c,yield Jf(t,c)):E=Ov(p),_&&function Og(n,e){const t=us(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}(t,E),E})).apply(this,arguments)}function v_(n){return ep.apply(this,arguments)}function ep(){return(ep=(0,de.Z)(function*(n){const e=n.app;ql(e);const{provider:t}=us(e);if(Xf()){const i=yield Cg(),{token:c}=yield Su(Mi(e,i),n.heartbeatServiceProvider);return{token:c}}{const{token:i}=yield t.getToken();return{token:i}}})).apply(this,arguments)}function tp(n,e){const t=us(n),i=t.tokenObservers.filter(c=>c.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function Ng(n){const{app:e}=n,t=us(e);let i=t.tokenRefresher;i||(i=function Nv(n){const{app:e}=n;return new bg((0,de.Z)(function*(){let i;if(i=us(e).token?yield Sg(n,!0):yield Sg(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=us(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},d_.RETRIAL_MIN_WAIT,d_.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function Ou(n){return n.expireTimeMillis-Date.now()>0}function Ov(n){return{token:Av(Sv),error:n}}class Mv{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=us(this.app);for(const t of e)tp(this.app,t.next);return Promise.resolve()}}const ap="app-check-internal";!function Fv(){(0,Te.Xd)(new ne.wA("app-check",n=>function b_(n,e){return new Mv(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(ap).initialize()})),(0,Te.Xd)(new ne.wA(ap,n=>function db(n){return{getToken:e=>Sg(n,e),getLimitedUseToken:()=>v_(n),addTokenListener:e=>function Ag(n,e,t,i){const{app:c}=n,p=us(c);if(p.tokenObservers=[...p.tokenObservers,{next:t,error:i,type:e}],p.token&&Ou(p.token)){const E=p.token;Promise.resolve().then(()=>{t({token:E.token}),Ng(n)}).catch(()=>{})}p.cachedTokenPromise.then(()=>Ng(n))}(n,"INTERNAL",e),removeTokenListener:e=>tp(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Te.KN)("@firebase/app-check","0.8.0")}();class Zl{constructor(){return(0,b.vb)("app-check")}}typeof window<"u"&&window;var tn,_b=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Il={},yb=yb||{},mr=_b||self;function Vv(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Hh(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var vb="closure_uid_"+(1e9*Math.random()>>>0),ND=0;function S_(n,e,t){return n.call.apply(n.bind,arguments)}function bb(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,i),n.apply(e,c)}}return function(){return n.apply(e,arguments)}}function qa(n,e,t){return(qa=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?S_:bb).apply(null,arguments)}function up(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Do(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,c,p){for(var _=Array(arguments.length-2),E=2;E<arguments.length;E++)_[E-2]=arguments[E];return e.prototype[c].apply(i,_)}}function tl(){this.s=this.s,this.o=this.o}tl.prototype.s=!1,tl.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Hv(n){Object.prototype.hasOwnProperty.call(n,vb)&&n[vb]||(n[vb]=++ND)}(this)},tl.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Gh=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Fg(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function A_(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(Vv(i)){const c=n.length||0,p=i.length||0;n.length=c+p;for(let _=0;_<p;_++)n[c+_]=i[_]}else n.push(i)}}function xi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}xi.prototype.h=function(){this.defaultPrevented=!0};var tT=function(){if(!mr.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{mr.addEventListener("test",()=>{},e),mr.removeEventListener("test",()=>{},e)}catch{}return n}();function dp(n){return/^[\s\xa0]*$/.test(n)}function Ud(){var n=mr.navigator;return n&&(n=n.userAgent)?n:""}function nl(n){return-1!=Ud().indexOf(n)}function N_(n){return N_[" "](n),n}N_[" "]=function(){};var Lg,n,O_=nl("Opera"),jh=nl("Trident")||nl("MSIE"),M_=nl("Edge"),Gv=M_||jh,Ib=nl("Gecko")&&!(-1!=Ud().toLowerCase().indexOf("webkit")&&!nl("Edge"))&&!(nl("Trident")||nl("MSIE"))&&!nl("Edge"),hp=-1!=Ud().toLowerCase().indexOf("webkit")&&!nl("Edge");function Vd(){var n=mr.document;return n?n.documentMode:void 0}e:{var fp="",pp=(n=Ud(),Ib?/rv:([^\);]+)(\)|;)/.exec(n):M_?/Edge\/([\d\.]+)/.exec(n):jh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):hp?/WebKit\/(\S+)/.exec(n):O_?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(pp&&(fp=pp?pp[1]:""),jh){var gp=Vd();if(null!=gp&&gp>parseFloat(fp)){Lg=String(gp);break e}}Lg=fp}var Gd=mr.document&&jh&&(Vd()||parseInt(Lg,10))||void 0;function Tl(n,e){if(xi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Ib){e:{try{N_(e.nodeName);var c=!0;break e}catch{}c=!1}c||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:nT[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Tl.$.h.call(this)}}Do(Tl,xi);var nT={2:"touch",3:"pen",4:"mouse"};Tl.prototype.h=function(){Tl.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var jd="closure_listenable_"+(1e6*Math.random()|0),Tb=0;function R_(n,e,t,i,c){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=c,this.key=++Tb,this.fa=this.ia=!1}function $d(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function P_(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function k_(n){const e={};for(const t in n)e[t]=n[t];return e}const Bg="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function zh(n,e){let t,i;for(let c=1;c<arguments.length;c++){for(t in i=arguments[c],i)n[t]=i[t];for(let p=0;p<Bg.length;p++)t=Bg[p],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function mp(n){this.src=n,this.g={},this.h=0}function Wh(n,e){var t=e.type;if(t in n.g){var p,i=n.g[t],c=Gh(i,e);(p=0<=c)&&Array.prototype.splice.call(i,c,1),p&&($d(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function zd(n,e,t,i){for(var c=0;c<n.length;++c){var p=n[c];if(!p.fa&&p.listener==e&&p.capture==!!t&&p.la==i)return c}return-1}mp.prototype.add=function(n,e,t,i,c){var p=n.toString();(n=this.g[p])||(n=this.g[p]=[],this.h++);var _=zd(n,e,i,c);return-1<_?(e=n[_],t||(e.ia=!1)):((e=new R_(e,this.src,p,!!i,c)).ia=t,n.push(e)),e};var Mc="closure_lm_"+(1e6*Math.random()|0),Mu={};function _p(n,e,t,i,c){if(i&&i.once)return Ug(n,e,t,i,c);if(Array.isArray(e)){for(var p=0;p<e.length;p++)_p(n,e[p],t,i,c);return null}return t=jv(t),n&&n[jd]?n.O(e,t,Hh(i)?!!i.capture:!!i,c):Eb(n,e,t,!1,i,c)}function Eb(n,e,t,i,c,p){if(!e)throw Error("Invalid event type");var _=Hh(c)?!!c.capture:!!c,E=Vg(n);if(E||(n[Mc]=E=new mp(n)),(t=E.add(e,t,i,_,p)).proxy)return t;if(i=function rT(){const e=iT;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)tT||(c=_),void 0===c&&(c=!1),n.addEventListener(e.toString(),i,c);else if(n.attachEvent)n.attachEvent(Db(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function Ug(n,e,t,i,c){if(Array.isArray(e)){for(var p=0;p<e.length;p++)Ug(n,e[p],t,i,c);return null}return t=jv(t),n&&n[jd]?n.P(e,t,Hh(i)?!!i.capture:!!i,c):Eb(n,e,t,!0,i,c)}function Wd(n,e,t,i,c){if(Array.isArray(e))for(var p=0;p<e.length;p++)Wd(n,e[p],t,i,c);else i=Hh(i)?!!i.capture:!!i,t=jv(t),n&&n[jd]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=zd(p=n.g[e],t,i,c))&&($d(p[t]),Array.prototype.splice.call(p,t,1),0==p.length&&(delete n.g[e],n.h--))):n&&(n=Vg(n))&&(e=n.g[e.toString()],n=-1,e&&(n=zd(e,t,i,c)),(t=-1<n?e[n]:null)&&F_(t))}function F_(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[jd])Wh(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(Db(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=Vg(e))?(Wh(t,n),0==t.h&&(t.src=null,e[Mc]=null)):$d(n)}}}function Db(n){return n in Mu?Mu[n]:Mu[n]="on"+n}function iT(n,e){if(n.fa)n=!0;else{e=new Tl(e,this);var t=n.listener,i=n.la||n.src;n.ia&&F_(n),n=t.call(i,e)}return n}function Vg(n){return(n=n[Mc])instanceof mp?n:null}var L_="__closure_events_fn_"+(1e9*Math.random()>>>0);function jv(n){return"function"==typeof n?n:(n[L_]||(n[L_]=function(e){return n.handleEvent(e)}),n[L_])}function ro(){tl.call(this),this.i=new mp(this),this.S=this,this.J=null}function qo(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new xi(e,n);else if(e instanceof xi)e.target=e.target||n;else{var c=e;zh(e=new xi(i,n),c)}if(c=!0,t)for(var p=t.length-1;0<=p;p--){var _=e.g=t[p];c=$v(_,i,!0,e)&&c}if(c=$v(_=e.g=n,i,!0,e)&&c,c=$v(_,i,!1,e)&&c,t)for(p=0;p<t.length;p++)c=$v(_=e.g=t[p],i,!1,e)&&c}function $v(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var c=!0,p=0;p<e.length;++p){var _=e[p];if(_&&!_.fa&&_.capture==t){var E=_.listener,F=_.la||_.src;_.ia&&Wh(n.i,_),c=!1!==E.call(F,i)&&c}}return c&&!i.defaultPrevented}Do(ro,tl),ro.prototype[jd]=!0,ro.prototype.removeEventListener=function(n,e,t,i){Wd(this,n,e,t,i)},ro.prototype.N=function(){if(ro.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)$d(t[i]);delete n.g[e],n.h--}}this.J=null},ro.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},ro.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var Hg=mr.JSON.stringify;function oT(){var n=jg;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Sb=new class sT{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Gg,n=>n.reset());class Gg{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function aT(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function zv(n){mr.setTimeout(()=>{throw n},0)}let qh,xu=!1,jg=new class Cb{constructor(){this.h=this.g=null}add(e,t){const i=Sb.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},B_=()=>{const n=mr.Promise.resolve(void 0);qh=()=>{n.then($g)}};var $g=()=>{for(var n;n=oT();){try{n.h.call(n.g)}catch(t){zv(t)}var e=Sb;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}xu=!1};function Zh(n,e){ro.call(this),this.h=n||1,this.g=e||mr,this.j=qa(this.qb,this),this.l=Date.now()}function Ru(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function zg(n,e,t){if("function"==typeof n)t&&(n=qa(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=qa(n.handleEvent,n)}return 2147483647<Number(e)?-1:mr.setTimeout(n,e||0)}function U_(n){n.g=zg(()=>{n.g=null,n.i&&(n.i=!1,U_(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Do(Zh,ro),(tn=Zh.prototype).ga=!1,tn.T=null,tn.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),qo(this,"tick"),this.ga&&(Ru(this),this.start()))}},tn.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},tn.N=function(){Zh.$.N.call(this),Ru(this),delete this.g};class V_ extends tl{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:U_(this)}N(){super.N(),this.g&&(mr.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function H_(n){tl.call(this),this.h=n,this.g={}}Do(H_,tl);var Wg=[];function yp(n,e,t,i){Array.isArray(t)||(t&&(Wg[0]=t.toString()),t=Wg);for(var c=0;c<t.length;c++){var p=_p(e,t[c],i||n.handleEvent,!1,n.h||n);if(!p)break;n.g[p.key]=p}}function Ab(n){P_(n.g,function(e,t){this.g.hasOwnProperty(t)&&F_(e)},n),n.g={}}function vp(){this.g=!0}function Pu(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function uT(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var c=i[1];if(Array.isArray(c)&&!(1>c.length)){var p=c[0];if("noop"!=p&&"stop"!=p&&"close"!=p)for(var _=1;_<c.length;_++)c[_]=""}}}return Hg(t)}catch{return e}}(n,t)+(i?" "+i:"")})}H_.prototype.N=function(){H_.$.N.call(this),Ab(this)},H_.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},vp.prototype.Ea=function(){this.g=!1},vp.prototype.info=function(){};var Kh={},dT=null;function G_(){return dT=dT||new ro}function Yh(n){xi.call(this,Kh.Ta,n)}function Qh(n){const e=G_();qo(e,new Yh(e))}function Ob(n,e){xi.call(this,Kh.STAT_EVENT,n),this.stat=e}function Za(n){const e=G_();qo(e,new Ob(e,n))}function j_(n,e){xi.call(this,Kh.Ua,n),this.size=e}function ku(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return mr.setTimeout(function(){n()},e)}Kh.Ta="serverreachability",Do(Yh,xi),Kh.STAT_EVENT="statevent",Do(Ob,xi),Kh.Ua="timingevent",Do(j_,xi);var $_={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Wv={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function qv(){}function Mb(){}qv.prototype.h=null;var qd,qg={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function bp(){xi.call(this,"d")}function Kv(){xi.call(this,"c")}function Fu(){}function Zg(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new H_(this),this.P=xb,this.V=new Zh(n=Gv?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Yv}function Yv(){this.i=null,this.g="",this.h=!1}Do(bp,xi),Do(Kv,xi),Do(Fu,qv),Fu.prototype.g=function(){return new XMLHttpRequest},Fu.prototype.i=function(){return{}},qd=new Fu;var xb=45e3,Qv={},z_={};function W_(n,e,t){n.L=1,n.v=Qg(Kl(e)),n.s=t,n.S=!0,Jv(n,null)}function Jv(n,e){n.G=Date.now(),Jh(n),n.A=Kl(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),Jg(t.i,"t",i),n.C=0,t=n.l.J,n.h=new Yv,n.g=ay(n.l,t?e:null,!n.s),0<n.O&&(n.M=new V_(qa(n.Pa,n,n.g),n.O)),yp(n.U,n.g,"readystatechange",n.nb),e=n.I?k_(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Qh(),function cT(n,e,t,i,c,p){n.info(function(){if(n.g)if(p)for(var _="",E=p.split("&"),F=0;F<E.length;F++){var H=E[F].split("=");if(1<H.length){var te=H[0];H=H[1];var pe=te.split("_");_=2<=pe.length&&"type"==pe[1]?_+(te+"=")+H+"&":_+(te+"=redacted&")}}else _=null;else _=p;return"XMLHTTP REQ ("+i+") [attempt "+c+"]: "+e+"\n"+t+"\n"+_})}(n.j,n.u,n.A,n.m,n.W,n.s)}function q_(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function Xv(n,e,t){let c,i=!0;for(;!n.J&&n.C<t.length;){if(c=Kg(n,t),c==z_){4==e&&(n.o=4,Za(14),i=!1),Pu(n.j,n.m,null,"[Incomplete Response]");break}if(c==Qv){n.o=4,Za(15),Pu(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Pu(n.j,n.m,c,null),Yg(n,c)}q_(n)&&c!=z_&&c!=Qv&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Za(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),Np(e),e.M=!0,Za(11))):(Pu(n.j,n.m,t,"[Invalid Chunked Response]"),Kd(n),Zd(n))}function Kg(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?z_:(t=Number(e.substring(t,i)),isNaN(t)?Qv:(i+=1)+t>e.length?z_:(e=e.slice(i,i+t),n.C=i+t,e))}function Jh(n){n.Y=Date.now()+n.P,e0(n,n.P)}function e0(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=ku(qa(n.lb,n),e)}function Z_(n){n.B&&(mr.clearTimeout(n.B),n.B=null)}function Zd(n){0==n.l.H||n.J||th(n.l,n)}function Kd(n){Z_(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,Ru(n.V),Ab(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function Yg(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||X_(t.i,n)))if(!n.K&&X_(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var c=i;if(0==c[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;eh(t),Ap(t)}ud(t),Za(18)}}else t.Fa=c[1],0<t.Fa-t.V&&37500>c[2]&&t.G&&0==t.A&&!t.v&&(t.v=ku(qa(t.ib,t),6e3));if(1>=l0(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else rh(t,11)}else if((n.K||t.g==n)&&eh(t),!dp(e))for(c=t.Ja.g.parse(e),e=0;e<c.length;e++){let H=c[e];if(t.V=H[0],H=H[1],2==t.H)if("c"==H[0]){t.K=H[1],t.pa=H[2];const te=H[3];null!=te&&(t.ra=te,t.l.info("VER="+t.ra));const pe=H[4];null!=pe&&(t.Ga=pe,t.l.info("SVER="+t.Ga));const Be=H[5];null!=Be&&"number"==typeof Be&&0<Be&&(t.L=i=1.5*Be,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const lt=n.g;if(lt){const kt=lt.g?lt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(kt){var p=i.i;p.g||-1==kt.indexOf("spdy")&&-1==kt.indexOf("quic")&&-1==kt.indexOf("h2")||(p.j=p.l,p.g=new Set,p.h&&(Xg(p,p.h),p.h=null))}if(i.F){const nn=lt.g?lt.g.getResponseHeader("X-HTTP-Session-Id"):null;nn&&(i.Da=nn,Di(i.I,i.F,nn))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var _=n;if((i=t).wa=Vb(i,i.J?i.pa:null,i.Y),_.K){fc(i.i,_);var E=_,F=i.L;F&&E.setTimeout(F),E.B&&(Z_(E),Jh(E)),i.g=_}else rl(i);0<t.j.length&&rf(t)}else"stop"!=H[0]&&"close"!=H[0]||rh(t,7);else 3==t.H&&("stop"==H[0]||"close"==H[0]?"stop"==H[0]?rh(t,7):Xd(t):"noop"!=H[0]&&t.h&&t.h.Aa(H),t.A=0)}Qh()}catch{}}function kb(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Vv(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Pb(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Vv(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function Rb(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Vv(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),c=i.length,p=0;p<c;p++)e.call(void 0,i[p],t&&t[p],n)}(tn=Zg.prototype).setTimeout=function(n){this.P=n},tn.nb=function(n){n=n.target;const e=this.M;e&&3==Sa(n)?e.l():this.Pa(n)},tn.Pa=function(n){try{if(n==this.g)e:{const te=Sa(this.g);var e=this.g.Ia();if(this.g.da(),!(3>te)&&(3!=te||Gv||this.g&&(this.h.h||this.g.ja()||tf(this.g)))){this.J||4!=te||7==e||Qh(),Z_(this);var t=this.g.da();this.ca=t;t:if(q_(this)){var i=tf(this.g);n="";var c=i.length,p=4==Sa(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Kd(this),Zd(this);var _="";break t}this.h.i=new mr.TextDecoder}for(e=0;e<c;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:p&&e==c-1});i.splice(0,c),this.h.g+=n,this.C=0,_=this.h.g}else _=this.g.ja();if(this.i=200==t,function lT(n,e,t,i,c,p,_){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+c+"]: "+e+"\n"+t+"\n"+p+" "+_})}(this.j,this.u,this.A,this.m,this.W,te,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var E,F=this.g;if((E=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!dp(E)){var H=E;break t}}H=null}if(!(t=H)){this.i=!1,this.o=3,Za(12),Kd(this),Zd(this);break e}Pu(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Yg(this,t)}this.S?(Xv(this,te,_),Gv&&this.i&&3==te&&(yp(this.U,this.V,"tick",this.mb),this.V.start())):(Pu(this.j,this.m,_,null),Yg(this,_)),4==te&&Kd(this),this.i&&!this.J&&(4==te?th(this.l,this):(this.i=!1,Jh(this)))}else(function Sp(n){const e={};n=(n.g&&2<=Sa(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(dp(n[i]))continue;var t=aT(n[i]);const c=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const p=e[c]||[];e[c]=p,p.push(t)}!function $h(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<_.indexOf("Unknown SID")?(this.o=3,Za(12)):(this.o=0,Za(13)),Kd(this),Zd(this)}}}catch{}},tn.mb=function(){if(this.g){var n=Sa(this.g),e=this.g.ja();this.C<e.length&&(Z_(this),Xv(this,n,e),this.i&&4!=n&&Jh(this))}},tn.cancel=function(){this.J=!0,Kd(this)},tn.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Nb(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Qh(),Za(17)),Kd(this),this.o=2,Zd(this)):e0(this,this.Y-n)};var K_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oa(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof oa){this.h=n.h,Y_(this,n.j),this.s=n.s,this.g=n.g,wp(this,n.m),this.l=n.l;var e=n.i,t=new Ep;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Lu(this,t),this.o=n.o}else n&&(e=String(n).match(K_))?(this.h=!1,Y_(this,e[1]||"",!0),this.s=Ip(e[2]||""),this.g=Ip(e[3]||"",!0),wp(this,e[4]),this.l=Ip(e[5]||"",!0),Lu(this,e[6]||"",!0),this.o=Ip(e[7]||"")):(this.h=!1,this.i=new Ep(null,this.h))}function Kl(n){return new oa(n)}function Y_(n,e,t){n.j=t?Ip(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function wp(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Lu(n,e,t){e instanceof Ep?(n.i=e,function o0(n,e){e&&!n.j&&(Yl(n),n.i=null,n.g.forEach(function(t,i){var c=i.toLowerCase();i!=c&&(r0(this,i),Jg(this,c,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Tp(e,hT)),n.i=new Ep(e,n.h))}function Di(n,e,t){n.i.set(e,t)}function Qg(n){return Di(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Ip(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Tp(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Q_),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Q_(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}oa.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Tp(e,El,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Tp(e,El,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Tp(t,"/"==t.charAt(0)?Fb:n0,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Tp(t,Zo)),n.join("")};var El=/[#\/\?@]/g,n0=/[#\?:]/g,Fb=/[#\?]/g,hT=/[#\?@]/g,Zo=/#/g;function Ep(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Yl(n){n.g||(n.g=new Map,n.h=0,n.i&&function t0(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),c=null;if(0<=i){var p=n[t].substring(0,i);c=n[t].substring(i+1)}else p=n[t];e(p,c?decodeURIComponent(c.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function r0(n,e){Yl(n),e=Yd(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function s0(n,e){return Yl(n),e=Yd(n,e),n.g.has(e)}function Jg(n,e,t){r0(n,e),0<t.length&&(n.i=null,n.g.set(Yd(n,e),Fg(t)),n.h+=t.length)}function Yd(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function J_(n){this.l=n||a0,n=mr.PerformanceNavigationTiming?0<(n=mr.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(mr.g&&mr.g.Ka&&mr.g.Ka()&&mr.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(tn=Ep.prototype).add=function(n,e){Yl(this),this.i=null,n=Yd(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},tn.forEach=function(n,e){Yl(this),this.g.forEach(function(t,i){t.forEach(function(c){n.call(e,c,i,this)},this)},this)},tn.ta=function(){Yl(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const c=n[i];for(let p=0;p<c.length;p++)t.push(e[i])}return t},tn.Z=function(n){Yl(this);let e=[];if("string"==typeof n)s0(this,n)&&(e=e.concat(this.g.get(Yd(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},tn.set=function(n,e){return Yl(this),this.i=null,s0(this,n=Yd(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},tn.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},tn.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const p=encodeURIComponent(String(i)),_=this.Z(i);for(i=0;i<_.length;i++){var c=p;""!==_[i]&&(c+="="+encodeURIComponent(String(_[i]))),n.push(c)}}return this.i=n.join("&")};var a0=10;function c0(n){return!!n.h||!!n.g&&n.g.size>=n.j}function l0(n){return n.h?1:n.g?n.g.size:0}function X_(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Xg(n,e){n.g?n.g.add(e):n.h=e}function fc(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Dl(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return Fg(n.i)}J_.prototype.cancel=function(){if(this.i=Dl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var ld=class{stringify(n){return mr.JSON.stringify(n,void 0)}parse(n){return mr.JSON.parse(n,void 0)}};function ey(){this.g=new ld}function ty(n,e,t){const i=t||"";try{kb(n,function(c,p){let _=c;Hh(c)&&(_=Hg(c)),e.push(i+p+"="+encodeURIComponent(_))})}catch(c){throw e.push(i+"type="+encodeURIComponent("_badmap")),c}}function Xh(n,e,t,i,c){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,c(i)}catch{}}function Qd(n){this.l=n.fc||null,this.j=n.ob||!1}function Ql(n,e){ro.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=ef,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Do(Qd,qv),Qd.prototype.g=function(){return new Ql(this.l,this.j)},Qd.prototype.i=function(n){return function(){return n}}({}),Do(Ql,ro);var ef=0;function Bu(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Jd(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Dp(n)}function Dp(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(tn=Ql.prototype).open=function(n,e){if(this.readyState!=ef)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Dp(this)},tn.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||mr).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},tn.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Jd(this)),this.readyState=ef},tn.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Dp(this)),this.g&&(this.readyState=3,Dp(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof mr.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Bu(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},tn.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Jd(this):Dp(this),3==this.readyState&&Bu(this)}},tn.Za=function(n){this.g&&(this.response=this.responseText=n,Jd(this))},tn.Ya=function(n){this.g&&(this.response=n,Jd(this))},tn.ka=function(){this.g&&Jd(this)},tn.setRequestHeader=function(n,e){this.v.append(n,e)},tn.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},tn.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Ql.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var fT=mr.JSON.parse;function Ms(n){ro.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=ny,this.L=this.M=!1}Do(Ms,ro);var ny="",ry=/^https?$/i,OD=["POST","PUT"];function iy(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Bb(n),Cp(n)}function Bb(n){n.F||(n.F=!0,qo(n,"complete"),qo(n,"error"))}function em(n){if(n.h&&typeof yb<"u"&&(!n.C[1]||4!=Sa(n)||2!=n.da()))if(n.v&&4==Sa(n))zg(n.La,0,n);else if(qo(n,"readystatechange"),4==Sa(n)){n.h=!1;try{const _=n.da();e:switch(_){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===_){var c=String(n.I).match(K_)[1]||null;!c&&mr.self&&mr.self.location&&(c=mr.self.location.protocol.slice(0,-1)),i=!ry.test(c?c.toLowerCase():"")}t=i}if(t)qo(n,"complete"),qo(n,"success");else{n.m=6;try{var p=2<Sa(n)?n.g.statusText:""}catch{p=""}n.j=p+" ["+n.da()+"]",Bb(n)}}finally{Cp(n)}}}function Cp(n,e){if(n.g){sy(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||qo(n,"ready");try{t.onreadystatechange=i}catch{}}}function sy(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(mr.clearTimeout(n.A),n.A=null)}function Sa(n){return n.g?n.g.readyState:0}function tf(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case ny:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function oy(n){let e="";return P_(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function nf(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=oy(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Di(n,e,t))}function gc(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function rr(n){this.Ga=0,this.j=[],this.l=new vp,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=gc("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=gc("baseRetryDelayMs",5e3,n),this.hb=gc("retryDelaySeedMs",1e4,n),this.eb=gc("forwardChannelMaxRetries",2,n),this.xa=gc("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new J_(n&&n.concurrentRequestLimit),this.Ja=new ey,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Xd(n){if(Cl(n),3==n.H){var e=n.W++,t=Kl(n.I);if(Di(t,"SID",n.K),Di(t,"RID",e),Di(t,"TYPE","terminate"),aa(n,t),(e=new Zg(n,n.l,e)).L=2,e.v=Qg(Kl(t)),t=!1,mr.navigator&&mr.navigator.sendBeacon)try{t=mr.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&mr.Image&&((new Image).src=e.v,t=!0),t||(e.g=ay(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Jh(e)}tm(n)}function Ap(n){n.g&&(Np(n),n.g.cancel(),n.g=null)}function Cl(n){Ap(n),n.u&&(mr.clearTimeout(n.u),n.u=null),eh(n),n.i.cancel(),n.m&&("number"==typeof n.m&&mr.clearTimeout(n.m),n.m=null)}function rf(n){if(!c0(n.i)&&!n.m){n.m=!0;var e=n.Na;qh||B_(),xu||(qh(),xu=!0),jg.add(e,n),n.C=0}}function sf(n,e){var t;t=e?e.m:n.W++;const i=Kl(n.I);Di(i,"SID",n.K),Di(i,"RID",t),Di(i,"AID",n.V),aa(n,i),n.o&&n.s&&nf(i,n.o,n.s),t=new Zg(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=xc(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),Xg(n.i,t),W_(t,i,e)}function aa(n,e){n.na&&P_(n.na,function(t,i){Di(e,i,t)}),n.h&&kb({},function(t,i){Di(e,i,t)})}function xc(n,e,t){t=Math.min(n.j.length,t);var i=n.h?qa(n.h.Va,n.h,n):null;e:{var c=n.j;let p=-1;for(;;){const _=["count="+t];-1==p?0<t?(p=c[0].g,_.push("ofs="+p)):p=0:_.push("ofs="+p);let E=!0;for(let F=0;F<t;F++){let H=c[F].g;const te=c[F].map;if(H-=p,0>H)p=Math.max(0,c[F].g-100),E=!1;else try{ty(te,_,"req"+H+"_")}catch{i&&i(te)}}if(E){i=_.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function rl(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;qh||B_(),xu||(qh(),xu=!0),jg.add(e,n),n.A=0}}function ud(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=ku(qa(n.Ma,n),nh(n,n.A)),n.A++,0))}function Np(n){null!=n.B&&(mr.clearTimeout(n.B),n.B=null)}function af(n){n.g=new Zg(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Kl(n.wa);Di(e,"RID","rpc"),Di(e,"SID",n.K),Di(e,"AID",n.V),Di(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Di(e,"TO",n.qa),Di(e,"TYPE","xmlhttp"),aa(n,e),n.o&&n.s&&nf(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Qg(Kl(e)),t.s=null,t.S=!0,Jv(t,n)}function eh(n){null!=n.v&&(mr.clearTimeout(n.v),n.v=null)}function th(n,e){var t=null;if(n.g==e){eh(n),Np(n),n.g=null;var i=2}else{if(!X_(n.i,e))return;t=e.F,fc(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var c=n.C;qo(i=G_(),new j_(i,t)),rf(n)}else rl(n);else if(3==(c=e.o)||0==c&&0<e.ca||!(1==i&&function Ub(n,e){return!(l0(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=ku(qa(n.Na,n,e),nh(n,n.C)),n.C++,0)))}(n,e)||2==i&&ud(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),c){case 1:rh(n,5);break;case 4:rh(n,10);break;case 3:rh(n,6);break;default:rh(n,2)}}function nh(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function rh(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=qa(n.pb,n);t||(t=new oa("//www.google.com/images/cleardot.gif"),mr.location&&"http"==mr.location.protocol||Y_(t,"https"),Qg(t)),function pc(n,e){const t=new vp;if(mr.Image){const i=new Image;i.onload=up(Xh,t,i,"TestLoadImage: loaded",!0,e),i.onerror=up(Xh,t,i,"TestLoadImage: error",!1,e),i.onabort=up(Xh,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=up(Xh,t,i,"TestLoadImage: timeout",!1,e),mr.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Za(2);n.H=0,n.h&&n.h.za(e),tm(n),Cl(n)}function tm(n){if(n.H=0,n.ma=[],n.h){const e=Dl(n.i);(0!=e.length||0!=n.j.length)&&(A_(n.ma,e),A_(n.ma,n.j),n.i.i.length=0,Fg(n.j),n.j.length=0),n.h.ya()}}function Vb(n,e,t){var i=t instanceof oa?Kl(t):new oa(t);if(""!=i.g)e&&(i.g=e+"."+i.g),wp(i,i.m);else{var c=mr.location;i=c.protocol,e=e?e+"."+c.hostname:c.hostname,c=+c.port;var p=new oa(null);i&&Y_(p,i),e&&(p.g=e),c&&wp(p,c),t&&(p.l=t),i=p}return e=n.Da,(t=n.F)&&e&&Di(i,t,e),Di(i,"VER",n.ra),aa(n,i),i}function ay(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ms(t&&n.Ha&&!n.va?new Qd({ob:!0}):n.va)).Oa(n.J),e}function d0(){}function Aa(){if(jh&&!(10<=Number(Gd)))throw Error("Environmental error: no available transport.")}function mc(n,e){ro.call(this),this.g=new rr(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!dp(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!dp(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new cf(this)}function Hb(n){bp.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function h0(){Kv.call(this),this.status=1}function cf(n){this.g=n}function Jl(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function _c(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var c=0;16>c;++c)i[c]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(c=0;16>c;++c)i[c]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var p=n.g[3],_=(e=n.g[0])+(p^(t=n.g[1])&((c=n.g[2])^p))+i[0]+3614090360&4294967295;_=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=t+(_<<7&4294967295|_>>>25))+((_=p+(c^e&(t^c))+i[1]+3905402710&4294967295)<<12&4294967295|_>>>20))+((_=c+(t^p&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|_>>>15))+((_=t+(e^c&(p^e))+i[3]+3250441966&4294967295)<<22&4294967295|_>>>10))+((_=e+(p^t&(c^p))+i[4]+4118548399&4294967295)<<7&4294967295|_>>>25))+((_=p+(c^e&(t^c))+i[5]+1200080426&4294967295)<<12&4294967295|_>>>20))+((_=c+(t^p&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|_>>>15))+((_=t+(e^c&(p^e))+i[7]+4249261313&4294967295)<<22&4294967295|_>>>10))+((_=e+(p^t&(c^p))+i[8]+1770035416&4294967295)<<7&4294967295|_>>>25))+((_=p+(c^e&(t^c))+i[9]+2336552879&4294967295)<<12&4294967295|_>>>20))+((_=c+(t^p&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|_>>>15))+((_=t+(e^c&(p^e))+i[11]+2304563134&4294967295)<<22&4294967295|_>>>10))+((_=e+(p^t&(c^p))+i[12]+1804603682&4294967295)<<7&4294967295|_>>>25))+((_=p+(c^e&(t^c))+i[13]+4254626195&4294967295)<<12&4294967295|_>>>20))+((_=c+(t^p&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|_>>>15))+((_=t+(e^c&(p^e))+i[15]+1236535329&4294967295)<<22&4294967295|_>>>10))+((_=e+(c^p&(t^c))+i[1]+4129170786&4294967295)<<5&4294967295|_>>>27))+((_=p+(t^c&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|_>>>23))+((_=c+(e^t&(p^e))+i[11]+643717713&4294967295)<<14&4294967295|_>>>18))+((_=t+(p^e&(c^p))+i[0]+3921069994&4294967295)<<20&4294967295|_>>>12))+((_=e+(c^p&(t^c))+i[5]+3593408605&4294967295)<<5&4294967295|_>>>27))+((_=p+(t^c&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|_>>>23))+((_=c+(e^t&(p^e))+i[15]+3634488961&4294967295)<<14&4294967295|_>>>18))+((_=t+(p^e&(c^p))+i[4]+3889429448&4294967295)<<20&4294967295|_>>>12))+((_=e+(c^p&(t^c))+i[9]+568446438&4294967295)<<5&4294967295|_>>>27))+((_=p+(t^c&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|_>>>23))+((_=c+(e^t&(p^e))+i[3]+4107603335&4294967295)<<14&4294967295|_>>>18))+((_=t+(p^e&(c^p))+i[8]+1163531501&4294967295)<<20&4294967295|_>>>12))+((_=e+(c^p&(t^c))+i[13]+2850285829&4294967295)<<5&4294967295|_>>>27))+((_=p+(t^c&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|_>>>23))+((_=c+(e^t&(p^e))+i[7]+1735328473&4294967295)<<14&4294967295|_>>>18))+((_=t+(p^e&(c^p))+i[12]+2368359562&4294967295)<<20&4294967295|_>>>12))+((_=e+(t^c^p)+i[5]+4294588738&4294967295)<<4&4294967295|_>>>28))+((_=p+(e^t^c)+i[8]+2272392833&4294967295)<<11&4294967295|_>>>21))+((_=c+(p^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|_>>>16))+((_=t+(c^p^e)+i[14]+4259657740&4294967295)<<23&4294967295|_>>>9))+((_=e+(t^c^p)+i[1]+2763975236&4294967295)<<4&4294967295|_>>>28))+((_=p+(e^t^c)+i[4]+1272893353&4294967295)<<11&4294967295|_>>>21))+((_=c+(p^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|_>>>16))+((_=t+(c^p^e)+i[10]+3200236656&4294967295)<<23&4294967295|_>>>9))+((_=e+(t^c^p)+i[13]+681279174&4294967295)<<4&4294967295|_>>>28))+((_=p+(e^t^c)+i[0]+3936430074&4294967295)<<11&4294967295|_>>>21))+((_=c+(p^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|_>>>16))+((_=t+(c^p^e)+i[6]+76029189&4294967295)<<23&4294967295|_>>>9))+((_=e+(t^c^p)+i[9]+3654602809&4294967295)<<4&4294967295|_>>>28))+((_=p+(e^t^c)+i[12]+3873151461&4294967295)<<11&4294967295|_>>>21))+((_=c+(p^e^t)+i[15]+530742520&4294967295)<<16&4294967295|_>>>16))+((_=t+(c^p^e)+i[2]+3299628645&4294967295)<<23&4294967295|_>>>9))+((_=e+(c^(t|~p))+i[0]+4096336452&4294967295)<<6&4294967295|_>>>26))+((_=p+(t^(e|~c))+i[7]+1126891415&4294967295)<<10&4294967295|_>>>22))+((_=c+(e^(p|~t))+i[14]+2878612391&4294967295)<<15&4294967295|_>>>17))+((_=t+(p^(c|~e))+i[5]+4237533241&4294967295)<<21&4294967295|_>>>11))+((_=e+(c^(t|~p))+i[12]+1700485571&4294967295)<<6&4294967295|_>>>26))+((_=p+(t^(e|~c))+i[3]+2399980690&4294967295)<<10&4294967295|_>>>22))+((_=c+(e^(p|~t))+i[10]+4293915773&4294967295)<<15&4294967295|_>>>17))+((_=t+(p^(c|~e))+i[1]+2240044497&4294967295)<<21&4294967295|_>>>11))+((_=e+(c^(t|~p))+i[8]+1873313359&4294967295)<<6&4294967295|_>>>26))+((_=p+(t^(e|~c))+i[15]+4264355552&4294967295)<<10&4294967295|_>>>22))+((_=c+(e^(p|~t))+i[6]+2734768916&4294967295)<<15&4294967295|_>>>17))+((_=t+(p^(c|~e))+i[13]+1309151649&4294967295)<<21&4294967295|_>>>11))+((p=(e=t+((_=e+(c^(t|~p))+i[4]+4149444226&4294967295)<<6&4294967295|_>>>26))+((_=p+(t^(e|~c))+i[11]+3174756917&4294967295)<<10&4294967295|_>>>22))^((c=p+((_=c+(e^(p|~t))+i[2]+718787259&4294967295)<<15&4294967295|_>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(c+(_<<21&4294967295|_>>>11))&4294967295,n.g[2]=n.g[2]+c&4294967295,n.g[3]=n.g[3]+p&4294967295}function ii(n,e){this.h=e;for(var t=[],i=!0,c=n.length-1;0<=c;c--){var p=0|n[c];i&&p==e||(t[c]=p,i=!1)}this.g=t}(tn=Ms.prototype).Oa=function(n){this.M=n},tn.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():qd.g(),this.C=function Zv(n){return n.h||(n.h=n.i())}(this.u?this.u:qd),this.g.onreadystatechange=qa(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(p){return void iy(this,p)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var c in i)t.set(c,i[c]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const p of i.keys())t.set(p,i.get(p))}i=Array.from(t.keys()).find(p=>"content-type"==p.toLowerCase()),c=mr.FormData&&n instanceof mr.FormData,!(0<=Gh(OD,e))||i||c||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[p,_]of t)this.g.setRequestHeader(p,_);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{sy(this),0<this.B&&((this.L=function u0(n){return jh&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=qa(this.ua,this)):this.A=zg(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(p){iy(this,p)}},tn.ua=function(){typeof yb<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,qo(this,"timeout"),this.abort(8))},tn.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,qo(this,"complete"),qo(this,"abort"),Cp(this))},tn.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Cp(this,!0)),Ms.$.N.call(this)},tn.La=function(){this.s||(this.G||this.v||this.l?em(this):this.kb())},tn.kb=function(){em(this)},tn.isActive=function(){return!!this.g},tn.da=function(){try{return 2<Sa(this)?this.g.status:-1}catch{return-1}},tn.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},tn.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),fT(e)}},tn.Ia=function(){return this.m},tn.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(tn=rr.prototype).ra=8,tn.H=1,tn.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const c=new Zg(this,this.l,n);let p=this.s;if(this.U&&(p?(p=k_(p),zh(p,this.U)):p=this.U),null!==this.o||this.O||(c.I=p,p=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=xc(this,c,e),Di(t=Kl(this.I),"RID",n),Di(t,"CVER",22),this.F&&Di(t,"X-HTTP-Session-Id",this.F),aa(this,t),p&&(this.O?e="headers="+encodeURIComponent(String(oy(p)))+"&"+e:this.o&&nf(t,this.o,p)),Xg(this.i,c),this.bb&&Di(t,"TYPE","init"),this.P?(Di(t,"$req",e),Di(t,"SID","null"),c.aa=!0,W_(c,t,null)):W_(c,t,e),this.H=2}}else 3==this.H&&(n?sf(this,n):0==this.j.length||c0(this.i)||sf(this))},tn.Ma=function(){if(this.u=null,af(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=ku(qa(this.jb,this),n)}},tn.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Za(10),Ap(this),af(this))},tn.ib=function(){null!=this.v&&(this.v=null,Ap(this),ud(this),Za(19))},tn.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Za(2)):(this.l.info("Failed to ping google.com"),Za(1))},tn.isActive=function(){return!!this.h&&this.h.isActive(this)},(tn=d0.prototype).Ba=function(){},tn.Aa=function(){},tn.za=function(){},tn.ya=function(){},tn.isActive=function(){return!0},tn.Va=function(){},Aa.prototype.g=function(n,e){return new mc(n,e)},Do(mc,ro),mc.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Za(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=Vb(n,null,n.Y),rf(n)},mc.prototype.close=function(){Xd(this.g)},mc.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Hg(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&rf(e)},mc.prototype.N=function(){this.g.h=null,delete this.j,Xd(this.g),delete this.g,mc.$.N.call(this)},Do(Hb,bp),Do(h0,Kv),Do(cf,d0),cf.prototype.Ba=function(){qo(this.g,"a")},cf.prototype.Aa=function(n){qo(this.g,new Hb(n))},cf.prototype.za=function(n){qo(this.g,new h0)},cf.prototype.ya=function(){qo(this.g,"b")},Do(Jl,function pT(){this.blockSize=-1}),Jl.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Jl.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,c=this.h,p=0;p<e;){if(0==c)for(;p<=t;)_c(this,n,p),p+=this.blockSize;if("string"==typeof n){for(;p<e;)if(i[c++]=n.charCodeAt(p++),c==this.blockSize){_c(this,i),c=0;break}}else for(;p<e;)if(i[c++]=n[p++],c==this.blockSize){_c(this,i),c=0;break}}this.h=c,this.i+=e},Jl.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var Gb={};function f0(n){return-128<=n&&128>n?function wb(n,e){var t=Gb;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new ii([0|e],0>e?-1:0)}):new ii([0|n],0>n?-1:0)}function il(n){if(isNaN(n)||!isFinite(n))return ih;if(0>n)return Co(il(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=uf;return new ii(e,0)}var uf=4294967296,ih=f0(0),nm=f0(1),cy=f0(16777216);function Sl(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Rc(n){return-1==n.h}function Co(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new ii(t,~n.h).add(nm)}function rm(n,e){return n.add(Co(e))}function im(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Op(n,e){this.g=n,this.h=e}function sm(n,e){if(Sl(e))throw Error("division by zero");if(Sl(n))return new Op(ih,ih);if(Rc(n))return e=sm(Co(n),e),new Op(Co(e.g),Co(e.h));if(Rc(e))return e=sm(n,Co(e)),new Op(Co(e.g),e.h);if(30<n.g.length){if(Rc(n)||Rc(e))throw Error("slowDivide_ only works with positive integers.");for(var t=nm,i=e;0>=i.X(n);)t=p0(t),i=p0(i);var c=Us(t,1),p=Us(i,1);for(i=Us(i,2),t=Us(t,2);!Sl(i);){var _=p.add(i);0>=_.X(n)&&(c=c.add(t),p=_),i=Us(i,1),t=Us(t,1)}return e=rm(n,c.R(e)),new Op(c,e)}for(c=ih;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),_=(p=il(t)).R(e);Rc(_)||0<_.X(n);)_=(p=il(t-=i)).R(e);Sl(p)&&(p=nm),c=c.add(p),n=rm(n,_)}return new Op(c,n)}function p0(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new ii(t,n.h)}function Us(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,c=[],p=0;p<i;p++)c[p]=0<e?n.D(p+t)>>>e|n.D(p+t+1)<<32-e:n.D(p+t);return new ii(c,n.h)}(tn=ii.prototype).ea=function(){if(Rc(this))return-Co(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:uf+i)*e,e*=uf}return n},tn.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Sl(this))return"0";if(Rc(this))return"-"+Co(this).toString(n);for(var e=il(Math.pow(n,6)),t=this,i="";;){var c=sm(t,e).g,p=((0<(t=rm(t,c.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Sl(t=c))return p+i;for(;6>p.length;)p="0"+p;i=p+i}},tn.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},tn.X=function(n){return Rc(n=rm(this,n))?-1:Sl(n)?0:1},tn.abs=function(){return Rc(this)?Co(this):this},tn.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,c=0;c<=e;c++){var p=i+(65535&this.D(c))+(65535&n.D(c)),_=(p>>>16)+(this.D(c)>>>16)+(n.D(c)>>>16);i=_>>>16,t[c]=(_&=65535)<<16|(p&=65535)}return new ii(t,-2147483648&t[t.length-1]?-1:0)},tn.R=function(n){if(Sl(this)||Sl(n))return ih;if(Rc(this))return Rc(n)?Co(this).R(Co(n)):Co(Co(this).R(n));if(Rc(n))return Co(this.R(Co(n)));if(0>this.X(cy)&&0>n.X(cy))return il(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var c=0;c<n.g.length;c++){var p=this.D(i)>>>16,_=65535&this.D(i),E=n.D(c)>>>16,F=65535&n.D(c);t[2*i+2*c]+=_*F,im(t,2*i+2*c),t[2*i+2*c+1]+=p*F,im(t,2*i+2*c+1),t[2*i+2*c+1]+=_*E,im(t,2*i+2*c+1),t[2*i+2*c+2]+=p*E,im(t,2*i+2*c+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new ii(t,0)},tn.gb=function(n){return sm(this,n).h},tn.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new ii(t,this.h&n.h)},tn.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new ii(t,this.h|n.h)},tn.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new ii(t,this.h^n.h)},Aa.prototype.createWebChannel=Aa.prototype.g,mc.prototype.send=mc.prototype.u,mc.prototype.open=mc.prototype.m,mc.prototype.close=mc.prototype.close,$_.NO_ERROR=0,$_.TIMEOUT=8,$_.HTTP_ERROR=6,Wv.COMPLETE="complete",Mb.EventType=qg,qg.OPEN="a",qg.CLOSE="b",qg.ERROR="c",qg.MESSAGE="d",ro.prototype.listen=ro.prototype.O,Ms.prototype.listenOnce=Ms.prototype.P,Ms.prototype.getLastError=Ms.prototype.Sa,Ms.prototype.getLastErrorCode=Ms.prototype.Ia,Ms.prototype.getStatus=Ms.prototype.da,Ms.prototype.getResponseJson=Ms.prototype.Wa,Ms.prototype.getResponseText=Ms.prototype.ja,Ms.prototype.send=Ms.prototype.ha,Ms.prototype.setWithCredentials=Ms.prototype.Oa,Jl.prototype.digest=Jl.prototype.l,Jl.prototype.reset=Jl.prototype.reset,Jl.prototype.update=Jl.prototype.j,ii.prototype.add=ii.prototype.add,ii.prototype.multiply=ii.prototype.R,ii.prototype.modulo=ii.prototype.gb,ii.prototype.compare=ii.prototype.X,ii.prototype.toNumber=ii.prototype.ea,ii.prototype.toString=ii.prototype.toString,ii.prototype.getBits=ii.prototype.D,ii.fromNumber=il,ii.fromString=function lf(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Co(lf(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=il(Math.pow(e,8)),i=ih,c=0;c<n.length;c+=8){var p=Math.min(8,n.length-c),_=parseInt(n.substring(c,c+p),e);8>p?(p=il(Math.pow(e,p)),i=i.R(p).add(il(_))):i=(i=i.R(t)).add(il(_))}return i};var Mp=Il.createWebChannelTransport=function(){return new Aa},ly=Il.getStatEventTarget=function(){return G_()},sh=Il.ErrorCode=$_,jb=Il.EventType=Wv,g0=Il.Event=Kh,uy=Il.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},om=Il.FetchXmlHttpFactory=Qd,df=Il.WebChannel=Mb,m0=Il.XhrIo=Ms,_0=Il.Md5=Jl,Xl=Il.Integer=ii;const xp="@firebase/firestore";class xs{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xs.UNAUTHENTICATED=new xs(null),xs.GOOGLE_CREDENTIALS=new xs("google-credentials-uid"),xs.FIRST_PARTY=new xs("first-party-uid"),xs.MOCK_USER=new xs("mock-user");let dd="9.23.0";const ca=new Ie.Yd("@firebase/firestore");function dy(){return ca.logLevel}function Nt(n,...e){if(ca.logLevel<=Ie.in.DEBUG){const t=e.map(hy);ca.debug(`Firestore (${dd}): ${n}`,...t)}}function io(n,...e){if(ca.logLevel<=Ie.in.ERROR){const t=e.map(hy);ca.error(`Firestore (${dd}): ${n}`,...t)}}function sl(n,...e){if(ca.logLevel<=Ie.in.WARN){const t=e.map(hy);ca.warn(`Firestore (${dd}): ${n}`,...t)}}function hy(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function an(n="Unexpected state"){const e=`FIRESTORE (${dd}) INTERNAL ASSERTION FAILED: `+n;throw io(e),new Error(e)}function wn(n,e){n||an()}function Qt(n,e){return n}const rt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ct extends he.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class so{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class fy{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $b{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(xs.UNAUTHENTICATED))}shutdown(){}}class zb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class py{constructor(e){this.t=e,this.currentUser=xs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let c=this.i;const p=H=>this.i!==c?(c=this.i,t(H)):Promise.resolve();let _=new so;this.o=()=>{this.i++,this.currentUser=this.u(),_.resolve(),_=new so,e.enqueueRetryable(()=>p(this.currentUser))};const E=()=>{const H=_;e.enqueueRetryable((0,de.Z)(function*(){yield H.promise,yield p(i.currentUser)}))},F=H=>{Nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=H,this.auth.addAuthTokenListener(this.o),E()};this.t.onInit(H=>F(H)),setTimeout(()=>{if(!this.auth){const H=this.t.getImmediate({optional:!0});H?F(H):(Nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),_.resolve(),_=new so)}},0),E()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(wn("string"==typeof i.accessToken),new fy(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return wn(null===e||"string"==typeof e),new xs(e)}}class v0{constructor(e,t,i){this.h=e,this.l=t,this.m=i,this.type="FirstParty",this.user=xs.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Rp{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new v0(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(xs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class b0{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const i=p=>{null!=p.error&&Nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${p.error.message}`);const _=p.token!==this.T;return this.T=p.token,Nt("FirebaseAppCheckTokenProvider",`Received ${_?"new":"existing"} token.`),_?t(p.token):Promise.resolve()};this.o=p=>{e.enqueueRetryable(()=>i(p))};const c=p=>{Nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=p,this.appCheck.addTokenListener(this.o)};this.I.onInit(p=>c(p)),setTimeout(()=>{if(!this.appCheck){const p=this.I.getImmediate({optional:!0});p?c(p):Nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(wn("string"==typeof t.token),this.T=t.token,new gy(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Wb(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class w0{static A(){const t=62*Math.floor(256/62);let i="";for(;i.length<20;){const c=Wb(40);for(let p=0;p<c.length;++p)i.length<20&&c[p]<t&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(c[p]%62))}return i}}function Qn(n,e){return n<e?-1:n>e?1:0}function hf(n,e,t){return n.length===e.length&&n.every((i,c)=>t(i,e[c]))}class bs{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ct(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ct(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ct(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ct(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return bs.fromMillis(Date.now())}static fromDate(e){return bs.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new bs(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Qn(this.nanoseconds,e.nanoseconds):Qn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class fn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new fn(e)}static min(){return new fn(new bs(0,0))}static max(){return new fn(new bs(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class oh{constructor(e,t,i){void 0===t?t=0:t>e.length&&an(),void 0===i?i=e.length-t:i>e.length-t&&an(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===oh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof oh?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let c=0;c<i;c++){const p=e.get(c),_=t.get(c);if(p<_)return-1;if(p>_)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Br extends oh{construct(e,t,i){return new Br(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ct(rt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(c=>c.length>0))}return new Br(t)}static emptyPath(){return new Br([])}}const yy=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vs extends oh{construct(e,t,i){return new Vs(e,t,i)}static isValidIdentifier(e){return yy.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vs.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Vs(["__name__"])}static fromServerFormat(e){const t=[];let i="",c=0;const p=()=>{if(0===i.length)throw new Ct(rt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let _=!1;for(;c<e.length;){const E=e[c];if("\\"===E){if(c+1===e.length)throw new Ct(rt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const F=e[c+1];if("\\"!==F&&"."!==F&&"`"!==F)throw new Ct(rt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=F,c+=2}else"`"===E?(_=!_,c++):"."!==E||_?(i+=E,c++):(p(),c++)}if(p(),_)throw new Ct(rt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vs(t)}static emptyPath(){return new Vs([])}}class Jt{constructor(e){this.path=e}static fromPath(e){return new Jt(Br.fromString(e))}static fromName(e){return new Jt(Br.fromString(e).popFirst(5))}static empty(){return new Jt(Br.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Br.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Br.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Jt(new Br(e.slice()))}}function Pc(n){return new So(n.readTime,n.key,-1)}class So{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new So(fn.min(),Jt.empty(),-1)}static max(){return new So(fn.max(),Jt.empty(),-1)}}function lm(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Jt.comparator(n.documentKey,e.documentKey),0!==t?t:Qn(n.largestBatchId,e.largestBatchId))}const wy="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class T0{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ah(n){return Pp.apply(this,arguments)}function Pp(){return Pp=(0,de.Z)(function*(n){if(n.code!==rt.FAILED_PRECONDITION||n.message!==wy)throw n;Nt("LocalStore","Unexpectedly lost primary lease")}),Pp.apply(this,arguments)}class We{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&an(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new We((i,c)=>{this.nextCallback=p=>{this.wrapSuccess(e,p).next(i,c)},this.catchCallback=p=>{this.wrapFailure(t,p).next(i,c)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof We?t:We.resolve(t)}catch(t){return We.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):We.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):We.reject(t)}static resolve(e){return new We((t,i)=>{t(e)})}static reject(e){return new We((t,i)=>{i(e)})}static waitFor(e){return new We((t,i)=>{let c=0,p=0,_=!1;e.forEach(E=>{++c,E.next(()=>{++p,_&&p===c&&t()},F=>i(F))}),_=!0,p===c&&t()})}static or(e){let t=We.resolve(!1);for(const i of e)t=t.next(c=>c?We.resolve(c):i());return t}static forEach(e,t){const i=[];return e.forEach((c,p)=>{i.push(t.call(this,c,p))}),this.waitFor(i)}static mapArray(e,t){return new We((i,c)=>{const p=e.length,_=new Array(p);let E=0;for(let F=0;F<p;F++){const H=F;t(e[H]).next(te=>{_[H]=te,++E,E===p&&i(_)},te=>c(te))}})}static doWhile(e,t){return new We((i,c)=>{const p=()=>{!0===e()?t().next(()=>{p()},c):i()};p()})}}function Al(n){return"IndexedDbTransactionError"===n.name}let Xi=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=c=>this.ot(c),this.ut=c=>i.writeSequenceNumber(c))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function lh(n){return null==n}function Nl(n){return 0===n&&1/n==-1/0}function Gt(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Dn(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Mn(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class vn{constructor(e,t){this.comparator=e,this.root=t||Vn.EMPTY}insert(e,t){return new vn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Vn.BLACK,null,null))}remove(e){return new vn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const c=this.comparator(e,i.key);if(0===c)return t+i.left.size;c<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cn(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cn(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cn(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cn(this.root,e,this.comparator,!0)}}class Cn{constructor(e,t,i,c){this.isReverse=c,this.nodeStack=[];let p=1;for(;!e.isEmpty();)if(p=t?i(e.key,t):1,t&&c&&(p*=-1),p<0)e=this.isReverse?e.left:e.right;else{if(0===p){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vn{constructor(e,t,i,c,p){this.key=e,this.value=t,this.color=i??Vn.RED,this.left=c??Vn.EMPTY,this.right=p??Vn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,c,p){return new Vn(e??this.key,t??this.value,i??this.color,c??this.left,p??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let c=this;const p=i(e,c.key);return c=p<0?c.copy(null,null,null,c.left.insert(e,t,i),null):0===p?c.copy(null,t,null,null,null):c.copy(null,null,null,null,c.right.insert(e,t,i)),c.fixUp()}removeMin(){if(this.left.isEmpty())return Vn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,c=this;if(t(e,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(e,t),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===t(e,c.key)){if(c.right.isEmpty())return Vn.EMPTY;i=c.right.min(),c=c.copy(i.key,i.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(e,t))}return c.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw an();const e=this.left.check();if(e!==this.right.check())throw an();return e+(this.isRed()?0:1)}}Vn.EMPTY=null,Vn.RED=!0,Vn.BLACK=!1,Vn.EMPTY=new class{constructor(){this.size=0}get key(){throw an()}get value(){throw an()}get color(){throw an()}get left(){throw an()}get right(){throw an()}copy(n,e,t,i,c){return this}insert(n,e,t){return new Vn(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class In{constructor(e){this.comparator=e,this.data=new vn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const c=i.getNext();if(this.comparator(c.key,e[1])>=0)return;t(c.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new or(this.data.getIterator())}getIteratorFrom(e){return new or(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof In)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const c=t.getNext().key,p=i.getNext().key;if(0!==this.comparator(c,p))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new In(this.comparator);return t.data=e,t}}class or{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Dr{constructor(e){this.fields=e,e.sort(Vs.comparator)}static empty(){return new Dr([])}unionWith(e){let t=new In(Vs.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Dr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return hf(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class vi extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Hr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new vi("Invalid base64 string: "+c):c}}(e);return new Hr(t)}static fromUint8Array(e){const t=function(i){let c="";for(let p=0;p<i.length;++p)c+=String.fromCharCode(i[p]);return c}(e);return new Hr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Hr.EMPTY_BYTE_STRING=new Hr("");const zi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oo(n){if(wn(!!n),"string"==typeof n){let e=0;const t=zi.exec(n);if(wn(!!t),t[1]){let c=t[1];c=(c+"000000000").substr(0,9),e=Number(c)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:bi(n.seconds),nanos:bi(n.nanos)}}function bi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function $t(n){return"string"==typeof n?Hr.fromBase64String(n):Hr.fromUint8Array(n)}function gn(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function kn(n){const e=n.mapValue.fields.__previous_value__;return gn(e)?kn(e):e}function dr(n){const e=oo(n.mapValue.fields.__local_write_time__.timestampValue);return new bs(e.seconds,e.nanos)}class ds{constructor(e,t,i,c,p,_,E,F,H){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=c,this.ssl=p,this.forceLongPolling=_,this.autoDetectLongPolling=E,this.longPollingOptions=F,this.useFetchStreams=H}}class ao{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ao("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ao&&e.projectId===this.projectId&&e.database===this.database}}const Wi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ur(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?gn(n)?4:C0(n)?9007199254740991:10:an()}function Gs(n,e){if(n===e)return!0;const t=Ur(n);if(t!==Ur(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return dr(n).isEqual(dr(e));case 3:return function(i,c){if("string"==typeof i.timestampValue&&"string"==typeof c.timestampValue&&i.timestampValue.length===c.timestampValue.length)return i.timestampValue===c.timestampValue;const p=oo(i.timestampValue),_=oo(c.timestampValue);return p.seconds===_.seconds&&p.nanos===_.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return c=e,$t(n.bytesValue).isEqual($t(c.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,c){return bi(i.geoPointValue.latitude)===bi(c.geoPointValue.latitude)&&bi(i.geoPointValue.longitude)===bi(c.geoPointValue.longitude)}(n,e);case 2:return function(i,c){if("integerValue"in i&&"integerValue"in c)return bi(i.integerValue)===bi(c.integerValue);if("doubleValue"in i&&"doubleValue"in c){const p=bi(i.doubleValue),_=bi(c.doubleValue);return p===_?Nl(p)===Nl(_):isNaN(p)&&isNaN(_)}return!1}(n,e);case 9:return hf(n.arrayValue.values||[],e.arrayValue.values||[],Gs);case 10:return function(i,c){const p=i.mapValue.fields||{},_=c.mapValue.fields||{};if(Gt(p)!==Gt(_))return!1;for(const E in p)if(p.hasOwnProperty(E)&&(void 0===_[E]||!Gs(p[E],_[E])))return!1;return!0}(n,e);default:return an()}var c}function Ol(n,e){return void 0!==(n.values||[]).find(t=>Gs(t,e))}function Ri(n,e){if(n===e)return 0;const t=Ur(n),i=Ur(e);if(t!==i)return Qn(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Qn(n.booleanValue,e.booleanValue);case 2:return function(c,p){const _=bi(c.integerValue||c.doubleValue),E=bi(p.integerValue||p.doubleValue);return _<E?-1:_>E?1:_===E?0:isNaN(_)?isNaN(E)?0:-1:1}(n,e);case 3:return Oa(n.timestampValue,e.timestampValue);case 4:return Oa(dr(n),dr(e));case 5:return Qn(n.stringValue,e.stringValue);case 6:return function(c,p){const _=$t(c),E=$t(p);return _.compareTo(E)}(n.bytesValue,e.bytesValue);case 7:return function(c,p){const _=c.split("/"),E=p.split("/");for(let F=0;F<_.length&&F<E.length;F++){const H=Qn(_[F],E[F]);if(0!==H)return H}return Qn(_.length,E.length)}(n.referenceValue,e.referenceValue);case 8:return function(c,p){const _=Qn(bi(c.latitude),bi(p.latitude));return 0!==_?_:Qn(bi(c.longitude),bi(p.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(c,p){const _=c.values||[],E=p.values||[];for(let F=0;F<_.length&&F<E.length;++F){const H=Ri(_[F],E[F]);if(H)return H}return Qn(_.length,E.length)}(n.arrayValue,e.arrayValue);case 10:return function(c,p){if(c===Wi.mapValue&&p===Wi.mapValue)return 0;if(c===Wi.mapValue)return 1;if(p===Wi.mapValue)return-1;const _=c.fields||{},E=Object.keys(_),F=p.fields||{},H=Object.keys(F);E.sort(),H.sort();for(let te=0;te<E.length&&te<H.length;++te){const pe=Qn(E[te],H[te]);if(0!==pe)return pe;const Be=Ri(_[E[te]],F[H[te]]);if(0!==Be)return Be}return Qn(E.length,H.length)}(n.mapValue,e.mapValue);default:throw an()}}function Oa(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Qn(n,e);const t=oo(n),i=oo(e),c=Qn(t.seconds,i.seconds);return 0!==c?c:Qn(t.nanos,i.nanos)}function Rs(n){return nu(n)}function nu(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const c=oo(i);return`time(${c.seconds},${c.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?$t(n.bytesValue).toBase64():"referenceValue"in n?Jt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let c="[",p=!0;for(const _ of i.values||[])p?p=!1:c+=",",c+=nu(_);return c+"]"}(n.arrayValue):"mapValue"in n?function(i){const c=Object.keys(i.fields||{}).sort();let p="{",_=!0;for(const E of c)_?_=!1:p+=",",p+=`${E}:${nu(i.fields[E])}`;return p+"}"}(n.mapValue):an();var e}function fh(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function ph(n){return!!n&&"integerValue"in n}function pd(n){return!!n&&"arrayValue"in n}function um(n){return!!n&&"nullValue"in n}function dm(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Fp(n){return!!n&&"mapValue"in n}function Lp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Dn(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Lp(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Lp(n.arrayValue.values[t]);return e}return Object.assign({},n)}function C0(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Ao{constructor(e){this.value=e}static empty(){return new Ao({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Fp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lp(t)}setAll(e){let t=Vs.emptyPath(),i={},c=[];e.forEach((_,E)=>{if(!t.isImmediateParentOf(E)){const F=this.getFieldsMap(t);this.applyChanges(F,i,c),i={},c=[],t=E.popLast()}_?i[E.lastSegment()]=Lp(_):c.push(E.lastSegment())});const p=this.getFieldsMap(t);this.applyChanges(p,i,c)}delete(e){const t=this.field(e.popLast());Fp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Gs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let c=t.mapValue.fields[e.get(i)];Fp(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=c),t=c}return t.mapValue.fields}applyChanges(e,t,i){Dn(t,(c,p)=>e[c]=p);for(const c of i)delete e[c]}clone(){return new Ao(Lp(this.value))}}function Dy(n){const e=[];return Dn(n.fields,(t,i)=>{const c=new Vs([t]);if(Fp(i)){const p=Dy(i.mapValue).fields;if(0===p.length)e.push(c);else for(const _ of p)e.push(c.child(_))}else e.push(c)}),new Dr(e)}class Vi{constructor(e,t,i,c,p,_,E){this.key=e,this.documentType=t,this.version=i,this.readTime=c,this.createTime=p,this.data=_,this.documentState=E}static newInvalidDocument(e){return new Vi(e,0,fn.min(),fn.min(),fn.min(),Ao.empty(),0)}static newFoundDocument(e,t,i,c){return new Vi(e,1,t,fn.min(),i,c,0)}static newNoDocument(e,t){return new Vi(e,2,t,fn.min(),fn.min(),Ao.empty(),0)}static newUnknownDocument(e,t){return new Vi(e,3,t,fn.min(),fn.min(),Ao.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(fn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ao.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ao.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Vi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ml{constructor(e,t){this.position=e,this.inclusive=t}}function pm(n,e,t){let i=0;for(let c=0;c<n.position.length;c++){const p=e[c],_=n.position[c];if(i=p.field.isKeyField()?Jt.comparator(Jt.fromName(_.referenceValue),t.key):Ri(_,t.data.field(p.field)),"desc"===p.dir&&(i*=-1),0!==i)break}return i}function S0(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Gs(n.position[t],e.position[t]))return!1;return!0}class Bp{constructor(e,t="asc"){this.field=e,this.dir=t}}function xD(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Qb{}class Kr extends Qb{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new gT(e,t,i):"array-contains"===t?new yT(e,i):"in"===t?new rw(e,i):"not-in"===t?new N0(e,i):"array-contains-any"===t?new mf(e,i):new Kr(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new mT(e,i):new _T(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ri(t,this.value)):null!==t&&Ur(this.value)===Ur(t)&&this.matchesComparison(Ri(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return an()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Pi extends Qb{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Pi(e,t)}matches(e){return Up(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Up(n){return"and"===n.op}function A0(n){return function Xb(n){for(const e of n.filters)if(e instanceof Pi)return!1;return!0}(n)&&Up(n)}function Cy(n){if(n instanceof Kr)return n.field.canonicalString()+n.op.toString()+Rs(n.value);if(A0(n))return n.filters.map(e=>Cy(e)).join(",");{const e=n.filters.map(t=>Cy(t)).join(",");return`${n.op}(${e})`}}function Sy(n,e){return n instanceof Kr?(t=n,(i=e)instanceof Kr&&t.op===i.op&&t.field.isEqual(i.field)&&Gs(t.value,i.value)):n instanceof Pi?function(t,i){return i instanceof Pi&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((c,p,_)=>c&&Sy(p,i.filters[_]),!0)}(n,e):void an();var t,i}function tw(n){return n instanceof Kr?`${(e=n).field.canonicalString()} ${e.op} ${Rs(e.value)}`:n instanceof Pi?function(e){return e.op.toString()+" {"+e.getFilters().map(tw).join(" ,")+"}"}(n):"Filter";var e}class gT extends Kr{constructor(e,t,i){super(e,t,i),this.key=Jt.fromName(i.referenceValue)}matches(e){const t=Jt.comparator(e.key,this.key);return this.matchesComparison(t)}}class mT extends Kr{constructor(e,t){super(e,"in",t),this.keys=nw(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class _T extends Kr{constructor(e,t){super(e,"not-in",t),this.keys=nw(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function nw(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>Jt.fromName(i.referenceValue))}class yT extends Kr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return pd(t)&&Ol(t.arrayValue,this.value)}}class rw extends Kr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ol(this.value.arrayValue,t)}}class N0 extends Kr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ol(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ol(this.value.arrayValue,t)}}class mf extends Kr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!pd(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Ol(this.value.arrayValue,i))}}class RD{constructor(e,t=null,i=[],c=[],p=null,_=null,E=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=c,this.limit=p,this.startAt=_,this.endAt=E,this.dt=null}}function iw(n,e=null,t=[],i=[],c=null,p=null,_=null){return new RD(n,e,t,i,c,p,_)}function mh(n){const e=Qt(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Cy(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(c=i).field.canonicalString()+c.dir;var c}).join(","),lh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Rs(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Rs(i)).join(",")),e.dt=t}return e.dt}function Vu(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!xD(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Sy(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!S0(n.startAt,e.startAt)&&S0(n.endAt,e.endAt)}function gm(n){return Jt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class _f{constructor(e,t=null,i=[],c=[],p=null,_="F",E=null,F=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=c,this.limit=p,this.limitType=_,this.startAt=E,this.endAt=F,this.wt=null,this._t=null}}function mm(n){return new _f(n)}function sw(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function ow(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function co(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function x0(n){return null!==n.collectionGroup}function Vp(n){const e=Qt(n);if(null===e.wt){e.wt=[];const t=co(e),i=ow(e);if(null!==t&&null===i)t.isKeyField()||e.wt.push(new Bp(t)),e.wt.push(new Bp(Vs.keyField(),"asc"));else{let c=!1;for(const p of e.explicitOrderBy)e.wt.push(p),p.field.isKeyField()&&(c=!0);if(!c){const p=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Bp(Vs.keyField(),p))}}}return e.wt}function kc(n){const e=Qt(n);if(!e._t)if("F"===e.limitType)e._t=iw(e.path,e.collectionGroup,Vp(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const p of Vp(e))t.push(new Bp(p.field,"desc"===p.dir?"asc":"desc"));const i=e.endAt?new Ml(e.endAt.position,e.endAt.inclusive):null,c=e.startAt?new Ml(e.startAt.position,e.startAt.inclusive):null;e._t=iw(e.path,e.collectionGroup,t,e.filters,e.limit,i,c)}return e._t}function R0(n,e){e.getFirstInequalityField(),co(n);const t=n.filters.concat([e]);return new _f(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function P0(n,e,t){return new _f(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function _m(n,e){return Vu(kc(n),kc(e))&&n.limitType===e.limitType}function aw(n){return`${mh(kc(n))}|lt:${n.limitType}`}function yf(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>tw(i)).join(", ")}]`),lh(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(c=i).field.canonicalString()} (${c.dir})`;var c}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Rs(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Rs(i)).join(",")),`Target(${t})`}(kc(n))}; limitType=${n.limitType})`}function Ay(n,e){return e.isFoundDocument()&&function(t,i){const c=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(c):Jt.isDocumentKey(t.path)?t.path.isEqual(c):t.path.isImmediateParentOf(c)}(n,e)&&function(t,i){for(const c of Vp(t))if(!c.field.isKeyField()&&null===i.data.field(c.field))return!1;return!0}(n,e)&&function(t,i){for(const c of t.filters)if(!c.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(c,p,_){const E=pm(c,p,_);return c.inclusive?E<=0:E<0}(t.startAt,Vp(t),i)||t.endAt&&!function(c,p,_){const E=pm(c,p,_);return c.inclusive?E>=0:E>0}(t.endAt,Vp(t),i)));var t,i}function cw(n){return(e,t)=>{let i=!1;for(const c of Vp(n)){const p=kD(c,e,t);if(0!==p)return p;i=i||c.field.isKeyField()}return 0}}function kD(n,e,t){const i=n.field.isKeyField()?Jt.comparator(e.key,t.key):function(c,p,_){const E=p.data.field(c),F=_.data.field(c);return null!==E&&null!==F?Ri(E,F):an()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return an()}}class gd{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[c,p]of i)if(this.equalsFn(c,e))return p}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),c=this.inner[i];if(void 0===c)return this.inner[i]=[[e,t]],void this.innerSize++;for(let p=0;p<c.length;p++)if(this.equalsFn(c[p][0],e))return void(c[p]=[e,t]);c.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let c=0;c<i.length;c++)if(this.equalsFn(i[c][0],e))return 1===i.length?delete this.inner[t]:i.splice(c,1),this.innerSize--,!0;return!1}forEach(e){Dn(this.inner,(t,i)=>{for(const[c,p]of i)e(c,p)})}isEmpty(){return Mn(this.inner)}size(){return this.innerSize}}const aS=new vn(Jt.comparator);function Fc(){return aS}const k0=new vn(Jt.comparator);function al(...n){let e=k0;for(const t of n)e=e.insert(t.key,t);return e}function wT(n){let e=k0;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Hu(){return Lc()}function Gu(){return Lc()}function Lc(){return new gd(n=>n.toString(),(n,e)=>n.isEqual(e))}const ju=new vn(Jt.comparator),IT=new In(Jt.comparator);function Cr(...n){let e=IT;for(const t of n)e=e.add(t);return e}const FD=new In(Qn);function TT(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nl(e)?"-0":e}}function ET(n){return{integerValue:""+n}}function F0(n,e){return function uh(n){return"number"==typeof n&&Number.isInteger(n)&&!Nl(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?ET(e):TT(n,e)}class vf{constructor(){this._=void 0}}function LD(n,e,t){return n instanceof ym?function(i,c){const p={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return c&&gn(c)&&(c=kn(c)),c&&(p.fields.__previous_value__=c),{mapValue:p}}(t,e):n instanceof bf?uw(n,e):n instanceof md?ST(n,e):function(i,c){const p=CT(i,c),_=dw(p)+dw(i.gt);return ph(p)&&ph(i.gt)?ET(_):TT(i.serializer,_)}(n,e)}function DT(n,e,t){return n instanceof bf?uw(n,e):n instanceof md?ST(n,e):t}function CT(n,e){return n instanceof Hp?ph(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class ym extends vf{}class bf extends vf{constructor(e){super(),this.elements=e}}function uw(n,e){const t=hw(e);for(const i of n.elements)t.some(c=>Gs(c,i))||t.push(i);return{arrayValue:{values:t}}}class md extends vf{constructor(e){super(),this.elements=e}}function ST(n,e){let t=hw(e);for(const i of n.elements)t=t.filter(c=>!Gs(c,i));return{arrayValue:{values:t}}}class Hp extends vf{constructor(e,t){super(),this.serializer=e,this.gt=t}}function dw(n){return bi(n.integerValue||n.doubleValue)}function hw(n){return pd(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Ny{constructor(e,t){this.field=e,this.transform=t}}class fw{constructor(e,t){this.version=e,this.transformResults=t}}class es{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new es}static exists(e){return new es(void 0,e)}static updateTime(e){return new es(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Oy(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class vm{}function pw(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new wm(n.key,es.none()):new Gp(n.key,n.data,es.none());{const t=n.data,i=Ao.empty();let c=new In(Vs.comparator);for(let p of e.fields)if(!c.has(p)){let _=t.field(p);null===_&&p.length>1&&(p=p.popLast(),_=t.field(p)),null===_?i.delete(p):i.set(p,_),c=c.add(p)}return new _h(n.key,i,new Dr(c.toArray()),es.none())}}function AT(n,e,t){n instanceof Gp?function(i,c,p){const _=i.value.clone(),E=MT(i.fieldTransforms,c,p.transformResults);_.setAll(E),c.convertToFoundDocument(p.version,_).setHasCommittedMutations()}(n,e,t):n instanceof _h?function(i,c,p){if(!Oy(i.precondition,c))return void c.convertToUnknownDocument(p.version);const _=MT(i.fieldTransforms,c,p.transformResults),E=c.data;E.setAll(OT(i)),E.setAll(_),c.convertToFoundDocument(p.version,E).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function bm(n,e,t,i){return n instanceof Gp?function(c,p,_,E){if(!Oy(c.precondition,p))return _;const F=c.value.clone(),H=xT(c.fieldTransforms,E,p);return F.setAll(H),p.convertToFoundDocument(p.version,F).setHasLocalMutations(),null}(n,e,t,i):n instanceof _h?function(c,p,_,E){if(!Oy(c.precondition,p))return _;const F=xT(c.fieldTransforms,E,p),H=p.data;return H.setAll(OT(c)),H.setAll(F),p.convertToFoundDocument(p.version,H).setHasLocalMutations(),null===_?null:_.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(te=>te.field))}(n,e,t,i):(_=t,Oy(n.precondition,p=e)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):_);var p,_}function NT(n,e){let t=null;for(const i of n.fieldTransforms){const c=e.data.field(i.field),p=CT(i.transform,c||null);null!=p&&(null===t&&(t=Ao.empty()),t.set(i.field,p))}return t||null}function gw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&hf(t,i,(c,p)=>function BD(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof bf&&i instanceof bf||t instanceof md&&i instanceof md?hf(t.elements,i.elements,Gs):t instanceof Hp&&i instanceof Hp?Gs(t.gt,i.gt):t instanceof ym&&i instanceof ym);var t,i}(c,p))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class Gp extends vm{constructor(e,t,i,c=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=c,this.type=0}getFieldMask(){return null}}class _h extends vm{constructor(e,t,i,c,p=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=c,this.fieldTransforms=p,this.type=1}getFieldMask(){return this.fieldMask}}function OT(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function MT(n,e,t){const i=new Map;wn(n.length===t.length);for(let c=0;c<t.length;c++){const p=n[c],_=p.transform,E=e.data.field(p.field);i.set(p.field,DT(_,E,t[c]))}return i}function xT(n,e,t){const i=new Map;for(const c of n){const p=c.transform,_=t.data.field(c.field);i.set(c.field,LD(p,_,e))}return i}class wm extends vm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mw extends vm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class _w{constructor(e,t,i,c){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=c}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let c=0;c<this.mutations.length;c++){const p=this.mutations[c];p.key.isEqual(e.key)&&AT(p,e,i[c])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=bm(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=bm(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=Gu();return this.mutations.forEach(c=>{const p=e.get(c.key),_=p.overlayedDocument;let E=this.applyToLocalView(_,p.mutatedFields);E=t.has(c.key)?null:E;const F=pw(_,E);null!==F&&i.set(c.key,F),_.isValidDocument()||_.convertToNoDocument(fn.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Cr())}isEqual(e){return this.batchId===e.batchId&&hf(this.mutations,e.mutations,(t,i)=>gw(t,i))&&hf(this.baseMutations,e.baseMutations,(t,i)=>gw(t,i))}}class yw{constructor(e,t,i,c){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=c}static from(e,t,i){wn(e.mutations.length===i.length);let c=ju;const p=e.mutations;for(let _=0;_<p.length;_++)c=c.insert(p[_].key,i[_].version);return new yw(e,t,i,c)}}class vw{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class VD{constructor(e,t){this.count=e,this.unchangedNames=t}}var Qo,si;function PT(n){if(void 0===n)return io("GRPC error has no .code"),rt.UNKNOWN;switch(n){case Qo.OK:return rt.OK;case Qo.CANCELLED:return rt.CANCELLED;case Qo.UNKNOWN:return rt.UNKNOWN;case Qo.DEADLINE_EXCEEDED:return rt.DEADLINE_EXCEEDED;case Qo.RESOURCE_EXHAUSTED:return rt.RESOURCE_EXHAUSTED;case Qo.INTERNAL:return rt.INTERNAL;case Qo.UNAVAILABLE:return rt.UNAVAILABLE;case Qo.UNAUTHENTICATED:return rt.UNAUTHENTICATED;case Qo.INVALID_ARGUMENT:return rt.INVALID_ARGUMENT;case Qo.NOT_FOUND:return rt.NOT_FOUND;case Qo.ALREADY_EXISTS:return rt.ALREADY_EXISTS;case Qo.PERMISSION_DENIED:return rt.PERMISSION_DENIED;case Qo.FAILED_PRECONDITION:return rt.FAILED_PRECONDITION;case Qo.ABORTED:return rt.ABORTED;case Qo.OUT_OF_RANGE:return rt.OUT_OF_RANGE;case Qo.UNIMPLEMENTED:return rt.UNIMPLEMENTED;case Qo.DATA_LOSS:return rt.DATA_LOSS;default:return an()}}(si=Qo||(Qo={}))[si.OK=0]="OK",si[si.CANCELLED=1]="CANCELLED",si[si.UNKNOWN=2]="UNKNOWN",si[si.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",si[si.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",si[si.NOT_FOUND=5]="NOT_FOUND",si[si.ALREADY_EXISTS=6]="ALREADY_EXISTS",si[si.PERMISSION_DENIED=7]="PERMISSION_DENIED",si[si.UNAUTHENTICATED=16]="UNAUTHENTICATED",si[si.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",si[si.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",si[si.ABORTED=10]="ABORTED",si[si.OUT_OF_RANGE=11]="OUT_OF_RANGE",si[si.UNIMPLEMENTED=12]="UNIMPLEMENTED",si[si.INTERNAL=13]="INTERNAL",si[si.UNAVAILABLE=14]="UNAVAILABLE",si[si.DATA_LOSS=15]="DATA_LOSS";class bw{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return L0}static getOrCreateInstance(){return null===L0&&(L0=new bw),L0}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let L0=null;const FT=new Xl([4294967295,4294967295],0);function ww(n){const e=function kT(){return new TextEncoder}().encode(n),t=new _0;return t.update(e),new Uint8Array(t.digest())}function Iw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),c=e.getUint32(8,!0),p=e.getUint32(12,!0);return[new Xl([t,i],0),new Xl([c,p],0)]}class B0{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Im(`Invalid padding: ${t}`);if(i<0)throw new Im(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new Im(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new Im(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Xl.fromNumber(this.It)}Et(e,t,i){let c=e.add(t.multiply(Xl.fromNumber(i)));return 1===c.compare(FT)&&(c=new Xl([c.getBits(0),c.getBits(1)],0)),c.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=ww(e),[i,c]=Iw(t);for(let p=0;p<this.hashCount;p++){const _=this.Et(i,c,p);if(!this.At(_))return!1}return!0}static create(e,t,i){const c=e%8==0?0:8-e%8,p=new Uint8Array(Math.ceil(e/8)),_=new B0(p,c,t);return i.forEach(E=>_.insert(E)),_}insert(e){if(0===this.It)return;const t=ww(e),[i,c]=Iw(t);for(let p=0;p<this.hashCount;p++){const _=this.Et(i,c,p);this.Rt(_)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Im extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Tm{constructor(e,t,i,c,p){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=c,this.resolvedLimboDocuments=p}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const c=new Map;return c.set(e,Em.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Tm(fn.min(),c,new vn(Qn),Fc(),Cr())}}class Em{constructor(e,t,i,c,p){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=c,this.removedDocuments=p}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Em(i,t,Cr(),Cr(),Cr())}}class My{constructor(e,t,i,c){this.Pt=e,this.removedTargetIds=t,this.key=i,this.bt=c}}class Tw{constructor(e,t){this.targetId=e,this.Vt=t}}class U0{constructor(e,t,i=Hr.EMPTY_BYTE_STRING,c=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=c}}class Ew{constructor(){this.St=0,this.Dt=BT(),this.Ct=Hr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Cr(),t=Cr(),i=Cr();return this.Dt.forEach((c,p)=>{switch(p){case 0:e=e.add(c);break;case 2:t=t.add(c);break;case 1:i=i.add(c);break;default:an()}}),new Em(this.Ct,this.xt,e,t,i)}Ft(){this.Nt=!1,this.Dt=BT()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class jp{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Fc(),this.zt=LT(),this.Wt=new vn(Qn)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const i=this.Zt(t);switch(e.state){case 0:this.te(t)&&i.$t(e.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(e.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(t);break;case 3:this.te(t)&&(i.Kt(),i.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),i.$t(e.resumeToken));break;default:an()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((i,c)=>{this.te(c)&&t(c)})}ne(e){var t;const i=e.targetId,c=e.Vt.count,p=this.se(i);if(p){const _=p.target;if(gm(_))if(0===c){const E=new Jt(_.path);this.Yt(i,E,Vi.newNoDocument(E,fn.min()))}else wn(1===c);else{const E=this.ie(i);if(E!==c){const F=this.re(e,E);0!==F&&(this.ee(i),this.Wt=this.Wt.insert(i,2===F?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=bw.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(H,te,pe){var Be,lt,kt,nn,on,Sr;const ri={localCacheCount:te,existenceFilterCount:pe.count},Pr=pe.unchangedNames;return Pr&&(ri.bloomFilter={applied:0===H,hashCount:null!==(Be=Pr?.hashCount)&&void 0!==Be?Be:0,bitmapLength:null!==(nn=null===(kt=null===(lt=Pr?.bits)||void 0===lt?void 0:lt.bitmap)||void 0===kt?void 0:kt.length)&&void 0!==nn?nn:0,padding:null!==(Sr=null===(on=Pr?.bits)||void 0===on?void 0:on.padding)&&void 0!==Sr?Sr:0}),ri}(F,E,e.Vt))}}}}re(e,t){const{unchangedNames:i,count:c}=e.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:p="",padding:_=0},hashCount:E=0}=i;let F,H;try{F=$t(p).toUint8Array()}catch(te){if(te instanceof vi)return sl("Decoding the base64 bloom filter in existence filter failed ("+te.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw te}try{H=new B0(F,_,E)}catch(te){return sl(te instanceof Im?"BloomFilter error: ":"Applying bloom filter failed: ",te),1}return 0===H.It?1:c!==t-this.oe(e.targetId,H)?2:0}oe(e,t){const i=this.Gt.getRemoteKeysForTarget(e);let c=0;return i.forEach(p=>{const _=this.Gt.ue(),E=`projects/${_.projectId}/databases/${_.database}/documents/${p.path.canonicalString()}`;t.vt(E)||(this.Yt(e,p,null),c++)}),c}ce(e){const t=new Map;this.Qt.forEach((p,_)=>{const E=this.se(_);if(E){if(p.current&&gm(E.target)){const F=new Jt(E.target.path);null!==this.jt.get(F)||this.ae(_,F)||this.Yt(_,F,Vi.newNoDocument(F,e))}p.Mt&&(t.set(_,p.Ot()),p.Ft())}});let i=Cr();this.zt.forEach((p,_)=>{let E=!0;_.forEachWhile(F=>{const H=this.se(F);return!H||"TargetPurposeLimboResolution"===H.purpose||(E=!1,!1)}),E&&(i=i.add(p))}),this.jt.forEach((p,_)=>_.setReadTime(e));const c=new Tm(e,t,this.Wt,this.jt,i);return this.jt=Fc(),this.zt=LT(),this.Wt=new vn(Qn),c}Jt(e,t){if(!this.te(e))return;const i=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,i),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,i){if(!this.te(e))return;const c=this.Zt(e);this.ae(e,t)?c.Bt(t,1):c.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),i&&(this.jt=this.jt.insert(t,i))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new Ew,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new In(Qn),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Nt("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Ew),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function LT(){return new vn(Jt.comparator)}function BT(){return new vn(Jt.comparator)}const Dm={asc:"ASCENDING",desc:"DESCENDING"},cS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Dw={and:"AND",or:"OR"};class lS{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function V0(n,e){return n.useProto3Json||lh(e)?e:{value:e}}function $p(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function HD(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Cm(n,e){return $p(n,e.toTimestamp())}function No(n){return wn(!!n),fn.fromTimestamp(function(e){const t=oo(e);return new bs(t.seconds,t.nanos)}(n))}function Cw(n,e){return(t=n,new Br(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function UT(n){const e=Br.fromString(n);return wn(Nm(e)),e}function _d(n,e){return Cw(n.databaseId,e.path)}function yd(n,e){const t=UT(e);if(t.get(1)!==n.databaseId.projectId)throw new Ct(rt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ct(rt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Jt(GD(t))}function Sm(n,e){return Cw(n.databaseId,e)}function Ma(n){return new Br(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function GD(n){return wn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Sw(n,e,t){return{name:_d(n,e),fields:t.value.mapValue.fields}}function GT(n,e){return{documents:[Sm(n,e.path)]}}function Nw(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=Sm(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Sm(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const c=function(F){if(0!==F.length)return Ow(Pi.create(F,"and"))}(e.filters);c&&(t.structuredQuery.where=c);const p=function(F){if(0!==F.length)return F.map(H=>{return{field:yh((te=H).field),direction:$D(te.dir)};var te})}(e.orderBy);p&&(t.structuredQuery.orderBy=p);const _=V0(n,e.limit);var E,F;return null!==_&&(t.structuredQuery.limit=_),e.startAt&&(t.structuredQuery.startAt={before:(E=e.startAt).inclusive,values:E.position}),e.endAt&&(t.structuredQuery.endAt={before:!(F=e.endAt).inclusive,values:F.position}),t}function jT(n){let e=function xy(n){const e=UT(n);return 4===e.length?Br.emptyPath():GD(e)}(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let c=null;if(i>0){wn(1===i);const te=t.from[0];te.allDescendants?c=te.collectionId:e=e.child(te.collectionId)}let p=[];t.where&&(p=function(te){const pe=$T(te);return pe instanceof Pi&&A0(pe)?pe.getFilters():[pe]}(t.where));let _=[];t.orderBy&&(_=t.orderBy.map(te=>{return new Bp(zp((pe=te).field),function(Be){switch(Be){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(pe.direction));var pe}));let E=null;t.limit&&(E=function(te){let pe;return pe="object"==typeof te?te.value:te,lh(pe)?null:pe}(t.limit));let F=null;var te;t.startAt&&(F=new Ml((te=t.startAt).values||[],!!te.before));let H=null;return t.endAt&&(H=function(te){return new Ml(te.values||[],!te.before)}(t.endAt)),function vT(n,e,t,i,c,p,_,E){return new _f(n,e,t,i,c,p,_,E)}(e,c,_,p,E,"F",F,H)}function $T(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=zp(e.unaryFilter.field);return Kr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=zp(e.unaryFilter.field);return Kr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=zp(e.unaryFilter.field);return Kr.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=zp(e.unaryFilter.field);return Kr.create(p,"!=",{nullValue:"NULL_VALUE"});default:return an()}}(n):void 0!==n.fieldFilter?Kr.create(zp((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return an()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Pi.create(e.compositeFilter.filters.map(t=>$T(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return an()}}(e.compositeFilter.op))}(n):an();var e}function $D(n){return Dm[n]}function zD(n){return cS[n]}function G0(n){return Dw[n]}function yh(n){return{fieldPath:n.canonicalString()}}function zp(n){return Vs.fromServerFormat(n.fieldPath)}function Ow(n){return n instanceof Kr?function(e){if("=="===e.op){if(dm(e.value))return{unaryFilter:{field:yh(e.field),op:"IS_NAN"}};if(um(e.value))return{unaryFilter:{field:yh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(dm(e.value))return{unaryFilter:{field:yh(e.field),op:"IS_NOT_NAN"}};if(um(e.value))return{unaryFilter:{field:yh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yh(e.field),op:zD(e.op),value:e.value}}}(n):n instanceof Pi?function(e){const t=e.getFilters().map(i=>Ow(i));return 1===t.length?t[0]:{compositeFilter:{op:G0(e.op),filters:t}}}(n):an()}function WD(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Nm(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class xl{constructor(e,t,i,c,p=fn.min(),_=fn.min(),E=Hr.EMPTY_BYTE_STRING,F=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=c,this.snapshotVersion=p,this.lastLimboFreeSnapshotVersion=_,this.resumeToken=E,this.expectedCount=F}withSequenceNumber(e){return new xl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new xl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class zT{constructor(e){this.fe=e}}function Mw(n){const e=jT({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?P0(e,e.limit,"L"):e}class Tf{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(bi(e.integerValue));else if("doubleValue"in e){const i=bi(e.doubleValue);isNaN(i)?this.ye(t,13):(this.ye(t,15),Nl(i)?t.pe(0):t.pe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ye(t,20),"string"==typeof i?t.Ie(i):(t.Ie(`${i.seconds||""}`),t.pe(i.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae($t(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?C0(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):an()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const i=e.fields||{};this.ye(t,55);for(const c of Object.keys(i))this.Te(c,t),this.me(i[c],t)}Pe(e,t){const i=e.values||[];this.ye(t,50);for(const c of i)this.me(c,t)}ve(e,t){this.ye(t,37),Jt.fromName(e).path.forEach(i=>{this.ye(t,60),this.be(i,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}Tf.Ve=new Tf;class tC{constructor(){this.rn=new q0}addToCollectionParentIndex(e,t){return this.rn.add(t),We.resolve()}getCollectionParents(e,t){return We.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return We.resolve()}deleteFieldIndex(e,t){return We.resolve()}getDocumentsMatchingTarget(e,t){return We.resolve(null)}getIndexType(e,t){return We.resolve(0)}getFieldIndexes(e,t){return We.resolve([])}getNextCollectionGroupToUpdate(e){return We.resolve(null)}getMinOffset(e,t){return We.resolve(So.min())}getMinOffsetFromCollectionGroup(e,t){return We.resolve(So.min())}updateCollectionGroup(e,t,i){return We.resolve()}updateIndexEntries(e,t){return We.resolve()}}class q0{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),c=this.index[t]||new In(Br.comparator),p=!c.has(i);return this.index[t]=c.add(i),p}has(e){const t=e.lastSegment(),i=e.popLast(),c=this.index[t];return c&&c.has(i)}getEntries(e){return(this.index[e]||new In(Br.comparator)).toArray()}}new Uint8Array(0);class vc{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new vc(e,vc.DEFAULT_COLLECTION_PERCENTILE,vc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}vc.DEFAULT_COLLECTION_PERCENTILE=10,vc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vc.DEFAULT=new vc(41943040,vc.DEFAULT_COLLECTION_PERCENTILE,vc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vc.DISABLED=new vc(-1,0,0);class Df{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Df(0)}static Mn(){return new Df(-1)}}class iC{constructor(){this.changes=new gd(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Vi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?We.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Hw{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class J0{constructor(e,t,i,c){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=c}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(c=>(i=c,this.remoteDocumentCache.getEntry(e,t))).next(c=>(null!==i&&bm(i.mutation,c,Dr.empty(),bs.now()),c))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Cr()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Cr()){const c=Hu();return this.populateOverlays(e,c,t).next(()=>this.computeViews(e,t,c,i).next(p=>{let _=al();return p.forEach((E,F)=>{_=_.insert(E,F.overlayedDocument)}),_}))}getOverlayedDocuments(e,t){const i=Hu();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Cr()))}populateOverlays(e,t,i){const c=[];return i.forEach(p=>{t.has(p)||c.push(p)}),this.documentOverlayCache.getOverlays(e,c).next(p=>{p.forEach((_,E)=>{t.set(_,E)})})}computeViews(e,t,i,c){let p=Fc();const _=Lc(),E=Lc();return t.forEach((F,H)=>{const te=i.get(H.key);c.has(H.key)&&(void 0===te||te.mutation instanceof _h)?p=p.insert(H.key,H):void 0!==te?(_.set(H.key,te.mutation.getFieldMask()),bm(te.mutation,H,te.mutation.getFieldMask(),bs.now())):_.set(H.key,Dr.empty())}),this.recalculateAndSaveOverlays(e,p).next(F=>(F.forEach((H,te)=>_.set(H,te)),t.forEach((H,te)=>{var pe;return E.set(H,new Hw(te,null!==(pe=_.get(H))&&void 0!==pe?pe:null))}),E))}recalculateAndSaveOverlays(e,t){const i=Lc();let c=new vn((_,E)=>_-E),p=Cr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(_=>{for(const E of _)E.keys().forEach(F=>{const H=t.get(F);if(null===H)return;let te=i.get(F)||Dr.empty();te=E.applyToLocalView(H,te),i.set(F,te);const pe=(c.get(E.batchId)||Cr()).add(F);c=c.insert(E.batchId,pe)})}).next(()=>{const _=[],E=c.getReverseIterator();for(;E.hasNext();){const F=E.getNext(),H=F.key,te=F.value,pe=Gu();te.forEach(Be=>{if(!p.has(Be)){const lt=pw(t.get(Be),i.get(Be));null!==lt&&pe.set(Be,lt),p=p.add(Be)}}),_.push(this.documentOverlayCache.saveOverlays(e,H,pe))}return We.waitFor(_)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return Jt.isDocumentKey((c=t).path)&&null===c.collectionGroup&&0===c.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):x0(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var c}getNextDocuments(e,t,i,c){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,c).next(p=>{const _=c-p.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,c-p.size):We.resolve(Hu());let E=-1,F=p;return _.next(H=>We.forEach(H,(te,pe)=>(E<pe.largestBatchId&&(E=pe.largestBatchId),p.get(te)?We.resolve():this.remoteDocumentCache.getEntry(e,te).next(Be=>{F=F.insert(te,Be)}))).next(()=>this.populateOverlays(e,H,p)).next(()=>this.computeViews(e,F,H,Cr())).next(te=>({batchId:E,changes:wT(te)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Jt(t)).next(i=>{let c=al();return i.isFoundDocument()&&(c=c.insert(i.key,i)),c})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const c=t.collectionGroup;let p=al();return this.indexManager.getCollectionParents(e,c).next(_=>We.forEach(_,E=>{const F=(H=t,te=E.child(c),new _f(te,null,H.explicitOrderBy.slice(),H.filters.slice(),H.limit,H.limitType,H.startAt,H.endAt));var H,te;return this.getDocumentsMatchingCollectionQuery(e,F,i).next(H=>{H.forEach((te,pe)=>{p=p.insert(te,pe)})})}).next(()=>p))}getDocumentsMatchingCollectionQuery(e,t,i){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(p=>(c=p,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,c))).next(p=>{c.forEach((E,F)=>{const H=F.getKey();null===p.get(H)&&(p=p.insert(H,Vi.newInvalidDocument(H)))});let _=al();return p.forEach((E,F)=>{const H=c.get(E);void 0!==H&&bm(H.mutation,F,Dr.empty(),bs.now()),Ay(t,F)&&(_=_.insert(E,F))}),_})}}class cC{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return We.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var i;return this.cs.set(t.id,{id:(i=t).id,version:i.version,createTime:No(i.createTime)}),We.resolve()}getNamedQuery(e,t){return We.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(i=t).name,query:Mw(i.bundledQuery),readTime:No(i.readTime)}),We.resolve();var i}}class aE{constructor(){this.overlays=new vn(Jt.comparator),this.ls=new Map}getOverlay(e,t){return We.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Hu();return We.forEach(t,c=>this.getOverlay(e,c).next(p=>{null!==p&&i.set(c,p)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((c,p)=>{this.we(e,t,p)}),We.resolve()}removeOverlaysForBatchId(e,t,i){const c=this.ls.get(i);return void 0!==c&&(c.forEach(p=>this.overlays=this.overlays.remove(p)),this.ls.delete(i)),We.resolve()}getOverlaysForCollection(e,t,i){const c=Hu(),p=t.length+1,_=new Jt(t.child("")),E=this.overlays.getIteratorFrom(_);for(;E.hasNext();){const F=E.getNext().value,H=F.getKey();if(!t.isPrefixOf(H.path))break;H.path.length===p&&F.largestBatchId>i&&c.set(F.getKey(),F)}return We.resolve(c)}getOverlaysForCollectionGroup(e,t,i,c){let p=new vn((H,te)=>H-te);const _=this.overlays.getIterator();for(;_.hasNext();){const H=_.getNext().value;if(H.getKey().getCollectionGroup()===t&&H.largestBatchId>i){let te=p.get(H.largestBatchId);null===te&&(te=Hu(),p=p.insert(H.largestBatchId,te)),te.set(H.getKey(),H)}}const E=Hu(),F=p.getIterator();for(;F.hasNext()&&(F.getNext().value.forEach((H,te)=>E.set(H,te)),!(E.size()>=c)););return We.resolve(E)}we(e,t,i){const c=this.overlays.get(i.key);if(null!==c){const _=this.ls.get(c.largestBatchId).delete(i.key);this.ls.set(c.largestBatchId,_)}this.overlays=this.overlays.insert(i.key,new vw(t,i));let p=this.ls.get(t);void 0===p&&(p=Cr(),this.ls.set(t,p)),this.ls.set(t,p.add(i.key))}}class X0{constructor(){this.fs=new In(xa.ds),this.ws=new In(xa._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const i=new xa(e,t);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.ys(new xa(e,t))}ps(e,t){e.forEach(i=>this.removeReference(i,t))}Is(e){const t=new Jt(new Br([])),i=new xa(t,e),c=new xa(t,e+1),p=[];return this.ws.forEachInRange([i,c],_=>{this.ys(_),p.push(_.key)}),p}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Jt(new Br([])),i=new xa(t,e),c=new xa(t,e+1);let p=Cr();return this.ws.forEachInRange([i,c],_=>{p=p.add(_.key)}),p}containsKey(e){const t=new xa(e,0),i=this.fs.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class xa{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Jt.comparator(e.key,t.key)||Qn(e.As,t.As)}static _s(e,t){return Qn(e.As,t.As)||Jt.comparator(e.key,t.key)}}class cE{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new In(xa.ds)}checkEmpty(e){return We.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,c){const p=this.vs;this.vs++;const _=new _w(p,t,i,c);this.mutationQueue.push(_);for(const E of c)this.Rs=this.Rs.add(new xa(E.key,p)),this.indexManager.addToCollectionParentIndex(e,E.key.path.popLast());return We.resolve(_)}lookupMutationBatch(e,t){return We.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const c=this.bs(t+1),p=c<0?0:c;return We.resolve(this.mutationQueue.length>p?this.mutationQueue[p]:null)}getHighestUnacknowledgedBatchId(){return We.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return We.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new xa(t,0),c=new xa(t,Number.POSITIVE_INFINITY),p=[];return this.Rs.forEachInRange([i,c],_=>{const E=this.Ps(_.As);p.push(E)}),We.resolve(p)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new In(Qn);return t.forEach(c=>{const p=new xa(c,0),_=new xa(c,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([p,_],E=>{i=i.add(E.As)})}),We.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,c=i.length+1;let p=i;Jt.isDocumentKey(p)||(p=p.child(""));const _=new xa(new Jt(p),0);let E=new In(Qn);return this.Rs.forEachWhile(F=>{const H=F.key.path;return!!i.isPrefixOf(H)&&(H.length===c&&(E=E.add(F.As)),!0)},_),We.resolve(this.Vs(E))}Vs(e){const t=[];return e.forEach(i=>{const c=this.Ps(i);null!==c&&t.push(c)}),t}removeMutationBatch(e,t){wn(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return We.forEach(t.mutations,c=>{const p=new xa(c.key,t.batchId);return i=i.delete(p),this.referenceDelegate.markPotentiallyOrphaned(e,c.key)}).next(()=>{this.Rs=i})}Cn(e){}containsKey(e,t){const i=new xa(t,0),c=this.Rs.firstAfterOrEqual(i);return We.resolve(t.isEqual(c&&c.key))}performConsistencyCheck(e){return We.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Gw{constructor(e){this.Ds=e,this.docs=new vn(Jt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,c=this.docs.get(i),p=c?c.size:0,_=this.Ds(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:_}),this.size+=_-p,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return We.resolve(i?i.document.mutableCopy():Vi.newInvalidDocument(t))}getEntries(e,t){let i=Fc();return t.forEach(c=>{const p=this.docs.get(c);i=i.insert(c,p?p.document.mutableCopy():Vi.newInvalidDocument(c))}),We.resolve(i)}getDocumentsMatchingQuery(e,t,i,c){let p=Fc();const _=t.path,E=new Jt(_.child("")),F=this.docs.getIteratorFrom(E);for(;F.hasNext();){const{key:H,value:{document:te}}=F.getNext();if(!_.isPrefixOf(H.path))break;H.path.length>_.length+1||lm(Pc(te),i)<=0||(c.has(te.key)||Ay(t,te))&&(p=p.insert(te.key,te.mutableCopy()))}return We.resolve(p)}getAllFromCollectionGroup(e,t,i,c){an()}Cs(e,t){return We.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new lE(this)}getSize(e){return We.resolve(this.size)}}class lE extends iC{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((i,c)=>{c.isValidDocument()?t.push(this.os.addEntry(e,c)):this.os.removeEntry(i)}),We.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class uE{constructor(e){this.persistence=e,this.xs=new gd(t=>mh(t),Vu),this.lastRemoteSnapshotVersion=fn.min(),this.highestTargetId=0,this.Ns=0,this.ks=new X0,this.targetCount=0,this.Ms=Df.kn()}forEachTarget(e,t){return this.xs.forEach((i,c)=>t(c)),We.resolve()}getLastRemoteSnapshotVersion(e){return We.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return We.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),We.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Ns&&(this.Ns=t),We.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Df(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,We.resolve()}updateTargetData(e,t){return this.Fn(t),We.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,We.resolve()}removeTargets(e,t,i){let c=0;const p=[];return this.xs.forEach((_,E)=>{E.sequenceNumber<=t&&null===i.get(E.targetId)&&(this.xs.delete(_),p.push(this.removeMatchingKeysForTargetId(e,E.targetId)),c++)}),We.waitFor(p).next(()=>c)}getTargetCount(e){return We.resolve(this.targetCount)}getTargetData(e,t){const i=this.xs.get(t)||null;return We.resolve(i)}addMatchingKeys(e,t,i){return this.ks.gs(t,i),We.resolve()}removeMatchingKeys(e,t,i){this.ks.ps(t,i);const c=this.persistence.referenceDelegate,p=[];return c&&t.forEach(_=>{p.push(c.markPotentiallyOrphaned(e,_))}),We.waitFor(p)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),We.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ks.Es(t);return We.resolve(i)}containsKey(e,t){return We.resolve(this.ks.containsKey(t))}}class e1{constructor(e,t){this.$s={},this.overlays={},this.Os=new Xi(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new uE(this),this.indexManager=new tC,this.remoteDocumentCache=new Gw(i=>this.referenceDelegate.Ls(i)),this.serializer=new zT(t),this.qs=new cC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new aE,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.$s[e.toKey()];return i||(i=new cE(t,this.referenceDelegate),this.$s[e.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,i){Nt("MemoryPersistence","Starting transaction:",e);const c=new dE(this.Os.next());return this.referenceDelegate.Us(),i(c).next(p=>this.referenceDelegate.Ks(c).next(()=>p)).toPromise().then(p=>(c.raiseOnCommittedEvent(),p))}Gs(e,t){return We.or(Object.values(this.$s).map(i=>()=>i.containsKey(e,t)))}}class dE extends T0{constructor(e){super(),this.currentSequenceNumber=e}}class t1{constructor(e){this.persistence=e,this.Qs=new X0,this.js=null}static zs(e){return new t1(e)}get Ws(){if(this.js)return this.js;throw an()}addReference(e,t,i){return this.Qs.addReference(i,t),this.Ws.delete(i.toString()),We.resolve()}removeReference(e,t,i){return this.Qs.removeReference(i,t),this.Ws.add(i.toString()),We.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),We.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(c=>this.Ws.add(c.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(c=>{c.forEach(p=>this.Ws.add(p.toString()))}).next(()=>i.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return We.forEach(this.Ws,i=>{const c=Jt.fromPath(i);return this.Hs(e,c).next(p=>{p||t.removeEntry(c,fn.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(i=>{i?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return We.or([()=>We.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class pE{constructor(e,t,i,c){this.targetId=e,this.fromCache=t,this.Fi=i,this.Bi=c}static Li(e,t){let i=Cr(),c=Cr();for(const p of t.docChanges)switch(p.type){case 0:i=i.add(p.doc.key);break;case 1:c=c.add(p.doc.key)}return new pE(e,t.fromCache,i,c)}}class gE{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,i,c){return this.Ki(e,t).next(p=>p||this.Gi(e,t,c,i)).next(p=>p||this.Qi(e,t))}Ki(e,t){if(sw(t))return We.resolve(null);let i=kc(t);return this.indexManager.getIndexType(e,i).next(c=>0===c?null:(null!==t.limit&&1===c&&(t=P0(t,null,"F"),i=kc(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(p=>{const _=Cr(...p);return this.Ui.getDocuments(e,_).next(E=>this.indexManager.getMinOffset(e,i).next(F=>{const H=this.ji(t,E);return this.zi(t,H,_,F.readTime)?this.Ki(e,P0(t,null,"F")):this.Wi(e,H,t,F)}))})))}Gi(e,t,i,c){return sw(t)||c.isEqual(fn.min())?this.Qi(e,t):this.Ui.getDocuments(e,i).next(p=>{const _=this.ji(t,p);return this.zi(t,_,i,c)?this.Qi(e,t):(dy()<=Ie.in.DEBUG&&Nt("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),yf(t)),this.Wi(e,_,t,function by(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,c=fn.fromTimestamp(1e9===i?new bs(t+1,0):new bs(t,i));return new So(c,Jt.empty(),e)}(c,-1)))})}ji(e,t){let i=new In(cw(e));return t.forEach((c,p)=>{Ay(e,p)&&(i=i.add(p))}),i}zi(e,t,i,c){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const p="F"===e.limitType?t.last():t.first();return!!p&&(p.hasPendingWrites||p.version.compareTo(c)>0)}Qi(e,t){return dy()<=Ie.in.DEBUG&&Nt("QueryEngine","Using full collection scan to execute query:",yf(t)),this.Ui.getDocumentsMatchingQuery(e,t,So.min())}Wi(e,t,i,c){return this.Ui.getDocumentsMatchingQuery(e,i,c).next(p=>(t.forEach(_=>{p=p.insert(_.key,_)}),p))}}class uC{constructor(e,t,i,c){this.persistence=e,this.Hi=t,this.serializer=c,this.Ji=new vn(Qn),this.Yi=new gd(p=>mh(p),Vu),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(i)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new J0(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function $w(n,e){return s1.apply(this,arguments)}function s1(){return s1=(0,de.Z)(function*(n,e){const t=Qt(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let c;return t.mutationQueue.getAllMutationBatches(i).next(p=>(c=p,t.tr(e),t.mutationQueue.getAllMutationBatches(i))).next(p=>{const _=[],E=[];let F=Cr();for(const H of c){_.push(H.batchId);for(const te of H.mutations)F=F.add(te.key)}for(const H of p){E.push(H.batchId);for(const te of H.mutations)F=F.add(te.key)}return t.localDocuments.getDocuments(i,F).next(H=>({er:H,removedBatchIds:_,addedBatchIds:E}))})})}),s1.apply(this,arguments)}function yE(n){const e=Qt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function hC(n,e){const t=Qt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Vm(n,e,t){return Zp.apply(this,arguments)}function Zp(){return Zp=(0,de.Z)(function*(n,e,t){const i=Qt(n),c=i.Ji.get(e),p=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",p,_=>i.persistence.referenceDelegate.removeTarget(_,c)))}catch(_){if(!Al(_))throw _;Nt("LocalStore",`Failed to update sequence numbers for target ${e}: ${_}`)}i.Ji=i.Ji.remove(e),i.Yi.delete(c.target)}),Zp.apply(this,arguments)}function Hy(n,e,t){const i=Qt(n);let c=fn.min(),p=Cr();return i.persistence.runTransaction("Execute query","readonly",_=>function(E,F,H){const te=Qt(E),pe=te.Yi.get(H);return void 0!==pe?We.resolve(te.Ji.get(pe)):te.Bs.getTargetData(F,H)}(i,_,kc(e)).next(E=>{if(E)return c=E.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(_,E.targetId).next(F=>{p=F})}).next(()=>i.Hi.getDocumentsMatchingQuery(_,e,t?c:fn.min(),t?p:Cr())).next(E=>(function qw(n,e,t){let i=n.Xi.get(e)||fn.min();t.forEach((c,p)=>{p.readTime.compareTo(i)>0&&(i=p.readTime)}),n.Xi.set(e,i)}(i,function bT(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),E),{documents:E,ir:p})))}class Kw{constructor(){this.activeTargetIds=function lw(){return FD}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class IE{constructor(){this.Hr=new Kw,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,i){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Kw,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class dS{Yr(e){}shutdown(){}}class TE{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Nt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Nt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Yw=null;function Yp(){return null===Yw?Yw=268435456+Math.round(2147483648*Math.random()):Yw++,"0x"+Yw.toString(16)}const gC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mC{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const bc="WebChannelConnection";class u1 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,i,c,p){const _=Yp(),E=this.To(e,t);Nt("RestConnection",`Sending RPC '${e}' ${_}:`,E,i);const F={};return this.Eo(F,c,p),this.Ao(e,E,F,i).then(H=>(Nt("RestConnection",`Received RPC '${e}' ${_}: `,H),H),H=>{throw sl("RestConnection",`RPC '${e}' ${_} failed with error: `,H,"url: ",E,"request:",i),H})}vo(e,t,i,c,p,_){return this.Io(e,t,i,c,p)}Eo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+dd,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((c,p)=>e[p]=c),i&&i.headers.forEach((c,p)=>e[p]=c)}To(e,t){return`${this.mo}/v1/${t}:${gC[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,i,c){const p=Yp();return new Promise((_,E)=>{const F=new m0;F.setWithCredentials(!0),F.listenOnce(jb.COMPLETE,()=>{try{switch(F.getLastErrorCode()){case sh.NO_ERROR:const te=F.getResponseJson();Nt(bc,`XHR for RPC '${e}' ${p} received:`,JSON.stringify(te)),_(te);break;case sh.TIMEOUT:Nt(bc,`RPC '${e}' ${p} timed out`),E(new Ct(rt.DEADLINE_EXCEEDED,"Request time out"));break;case sh.HTTP_ERROR:const pe=F.getStatus();if(Nt(bc,`RPC '${e}' ${p} failed with status:`,pe,"response text:",F.getResponseText()),pe>0){let Be=F.getResponseJson();Array.isArray(Be)&&(Be=Be[0]);const lt=Be?.error;if(lt&&lt.status&&lt.message){const kt=function(nn){const on=nn.toLowerCase().replace(/_/g,"-");return Object.values(rt).indexOf(on)>=0?on:rt.UNKNOWN}(lt.status);E(new Ct(kt,lt.message))}else E(new Ct(rt.UNKNOWN,"Server responded with status "+F.getStatus()))}else E(new Ct(rt.UNAVAILABLE,"Connection failed."));break;default:an()}}finally{Nt(bc,`RPC '${e}' ${p} completed.`)}});const H=JSON.stringify(c);Nt(bc,`RPC '${e}' ${p} sending request:`,c),F.send(t,"POST",H,i,15)})}Ro(e,t,i){const c=Yp(),p=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],_=Mp(),E=ly(),F={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},H=this.longPollingOptions.timeoutSeconds;void 0!==H&&(F.longPollingTimeout=Math.round(1e3*H)),this.useFetchStreams&&(F.xmlHttpFactory=new om({})),this.Eo(F.initMessageHeaders,t,i),F.encodeInitMessageHeaders=!0;const te=p.join("");Nt(bc,`Creating RPC '${e}' stream ${c}: ${te}`,F);const pe=_.createWebChannel(te,F);let Be=!1,lt=!1;const kt=new mC({ro:on=>{lt?Nt(bc,`Not sending because RPC '${e}' stream ${c} is closed:`,on):(Be||(Nt(bc,`Opening RPC '${e}' stream ${c} transport.`),pe.open(),Be=!0),Nt(bc,`RPC '${e}' stream ${c} sending:`,on),pe.send(on))},oo:()=>pe.close()}),nn=(on,Sr,ri)=>{on.listen(Sr,Pr=>{try{ri(Pr)}catch(Jo){setTimeout(()=>{throw Jo},0)}})};return nn(pe,df.EventType.OPEN,()=>{lt||Nt(bc,`RPC '${e}' stream ${c} transport opened.`)}),nn(pe,df.EventType.CLOSE,()=>{lt||(lt=!0,Nt(bc,`RPC '${e}' stream ${c} transport closed`),kt.wo())}),nn(pe,df.EventType.ERROR,on=>{lt||(lt=!0,sl(bc,`RPC '${e}' stream ${c} transport errored:`,on),kt.wo(new Ct(rt.UNAVAILABLE,"The operation could not be completed")))}),nn(pe,df.EventType.MESSAGE,on=>{var Sr;if(!lt){const ri=on.data[0];wn(!!ri);const Jo=ri.error||(null===(Sr=ri[0])||void 0===Sr?void 0:Sr.error);if(Jo){Nt(bc,`RPC '${e}' stream ${c} received error:`,Jo);const Mo=Jo.status;let ts=function(sg){const rb=Qo[sg];if(void 0!==rb)return PT(rb)}(Mo),Vc=Jo.message;void 0===ts&&(ts=rt.INTERNAL,Vc="Unknown error status: "+Mo+" with message "+Jo.message),lt=!0,kt.wo(new Ct(ts,Vc)),pe.close()}else Nt(bc,`RPC '${e}' stream ${c} received:`,ri),kt._o(ri)}}),nn(E,g0.STAT_EVENT,on=>{on.stat===uy.PROXY?Nt(bc,`RPC '${e}' stream ${c} detected buffering proxy`):on.stat===uy.NOPROXY&&Nt(bc,`RPC '${e}' stream ${c} detected no buffering proxy`)}),setTimeout(()=>{kt.fo()},0),kt}}function d1(){return typeof document<"u"?document:null}function Hm(n){return new lS(n,!0)}class Gm{constructor(e,t,i=1e3,c=1.5,p=6e4){this.ii=e,this.timerId=t,this.Po=i,this.bo=c,this.Vo=p,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),c=Math.max(0,t-i);c>0&&Nt("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,c,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class EE{constructor(e,t,i,c,p,_,E,F){this.ii=e,this.$o=i,this.Oo=c,this.connection=p,this.authCredentialsProvider=_,this.appCheckCredentialsProvider=E,this.listener=F,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Gm(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,de.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,de.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var i=this;return(0,de.Z)(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==e?i.qo.reset():t&&t.code===rt.RESOURCE_EXHAUSTED?(io(t.toString()),io("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):t&&t.code===rt.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,c])=>{this.Fo===t&&this.Zo(i,c)},i=>{e(()=>{const c=new Ct(rt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(c)})})}Zo(e,t){const i=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(c=>{i(()=>this.tu(c))}),this.stream.onMessage(c=>{i(()=>this.onMessage(c))})}Go(){var e=this;this.state=5,this.qo.No((0,de.Z)(function*(){e.state=0,e.start()}))}tu(e){return Nt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Nt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _C extends EE{constructor(e,t,i,c,p,_){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,c,_),this.serializer=p}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function VT(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(F=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===F?1:"REMOVE"===F?2:"CURRENT"===F?3:"RESET"===F?4:an(),c=e.targetChange.targetIds||[],p=function(F,H){return F.useProto3Json?(wn(void 0===H||"string"==typeof H),Hr.fromBase64String(H||"")):(wn(void 0===H||H instanceof Uint8Array),Hr.fromUint8Array(H||new Uint8Array))}(n,e.targetChange.resumeToken),_=e.targetChange.cause,E=_&&function(F){const H=void 0===F.code?rt.UNKNOWN:PT(F.code);return new Ct(H,F.message||"")}(_);t=new U0(i,c,p,E||null)}else if("documentChange"in e){const i=e.documentChange,c=yd(n,i.document.name),p=No(i.document.updateTime),_=i.document.createTime?No(i.document.createTime):fn.min(),E=new Ao({mapValue:{fields:i.document.fields}}),F=Vi.newFoundDocument(c,p,_,E);t=new My(i.targetIds||[],i.removedTargetIds||[],F.key,F)}else if("documentDelete"in e){const i=e.documentDelete,c=yd(n,i.document),p=i.readTime?No(i.readTime):fn.min(),_=Vi.newNoDocument(c,p);t=new My([],i.removedTargetIds||[],_.key,_)}else if("documentRemove"in e){const i=e.documentRemove,c=yd(n,i.document);t=new My([],i.removedTargetIds||[],c,null)}else{if(!("filter"in e))return an();{const i=e.filter,{count:c=0,unchangedNames:p}=i,_=new VD(c,p);t=new Tw(i.targetId,_)}}var F;return t}(this.serializer,e),i=function(c){if(!("targetChange"in c))return fn.min();const p=c.targetChange;return p.targetIds&&p.targetIds.length?fn.min():p.readTime?No(p.readTime):fn.min()}(e);return this.listener.nu(t,i)}su(e){const t={};t.database=Ma(this.serializer),t.addTarget=function(c,p){let _;const E=p.target;if(_=gm(E)?{documents:GT(c,E)}:{query:Nw(c,E)},_.targetId=p.targetId,p.resumeToken.approximateByteSize()>0){_.resumeToken=HD(c,p.resumeToken);const F=V0(c,p.expectedCount);null!==F&&(_.expectedCount=F)}else if(p.snapshotVersion.compareTo(fn.min())>0){_.readTime=$p(c,p.snapshotVersion.toTimestamp());const F=V0(c,p.expectedCount);null!==F&&(_.expectedCount=F)}return _}(this.serializer,e);const i=function Ry(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return an()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Wo(t)}iu(e){const t={};t.database=Ma(this.serializer),t.removeTarget=e,this.Wo(t)}}class DE extends EE{constructor(e,t,i,c,p,_){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,c,_),this.serializer=p,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(wn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function HT(n,e){return n&&n.length>0?(wn(void 0!==e),n.map(t=>function(i,c){let p=No(i.updateTime?i.updateTime:c);return p.isEqual(fn.min())&&(p=No(c)),new fw(p,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=No(e.commitTime);return this.listener.cu(i,t)}return wn(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Ma(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>function Am(n,e){let t;if(e instanceof Gp)t={update:Sw(n,e.key,e.value)};else if(e instanceof wm)t={delete:_d(n,e.key)};else if(e instanceof _h)t={update:Sw(n,e.key,e.data),updateMask:WD(e.fieldMask)};else{if(!(e instanceof mw))return an();t={verify:_d(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(c,p){const _=p.transform;if(_ instanceof ym)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(_ instanceof bf)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:_.elements}};if(_ instanceof md)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:_.elements}};if(_ instanceof Hp)return{fieldPath:p.field.canonicalString(),increment:_.gt};throw an()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(c=e.precondition).updateTime?{updateTime:Cm(n,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:an()),t;var c}(this.serializer,i))};this.Wo(t)}}class yC extends class{}{constructor(e,t,i,c){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=c,this.lu=!1}fu(){if(this.lu)throw new Ct(rt.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,p])=>this.connection.Io(e,t,i,c,p)).catch(c=>{throw"FirebaseError"===c.name?(c.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ct(rt.UNKNOWN,c.toString())})}vo(e,t,i,c){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,_])=>this.connection.vo(e,t,i,p,_,c)).catch(p=>{throw"FirebaseError"===p.name?(p.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new Ct(rt.UNKNOWN,p.toString())})}terminate(){this.lu=!0}}class f1{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(io(t),this.mu=!1):Nt("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class bC{constructor(e,t,i,c,p){var _=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=p,this.Pu.Yr(E=>{i.enqueueAndForget((0,de.Z)(function*(){var F;vd(_)&&(Nt("RemoteStore","Restarting streams for network reachability change."),yield(F=(0,de.Z)(function*(H){const te=Qt(H);te.vu.add(4),yield Qp(te),te.bu.set("Unknown"),te.vu.delete(4),yield $y(te)}),function(H){return F.apply(this,arguments)})(_))}))}),this.bu=new f1(i,c)}}function $y(n){return p1.apply(this,arguments)}function p1(){return p1=(0,de.Z)(function*(n){if(vd(n))for(const e of n.Ru)yield e(!0)}),p1.apply(this,arguments)}function Qp(n){return zy.apply(this,arguments)}function zy(){return zy=(0,de.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),zy.apply(this,arguments)}function Wy(n,e){const t=Qt(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),eI(t)?Xw(t):Yy(t).Ko()&&g1(t,e))}function qy(n,e){const t=Qt(n),i=Yy(t);t.Au.delete(e),i.Ko()&&Jw(t,e),0===t.Au.size&&(i.Ko()?i.jo():vd(t)&&t.bu.set("Unknown"))}function g1(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(fn.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Yy(n).su(e)}function Jw(n,e){n.Vu.qt(e),Yy(n).iu(e)}function Xw(n){n.Vu=new jp({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),Yy(n).start(),n.bu.gu()}function eI(n){return vd(n)&&!Yy(n).Uo()&&n.Au.size>0}function vd(n){return 0===Qt(n).vu.size}function m1(n){n.Vu=void 0}function CE(n){return Zy.apply(this,arguments)}function Zy(){return Zy=(0,de.Z)(function*(n){n.Au.forEach((e,t)=>{g1(n,e)})}),Zy.apply(this,arguments)}function tI(n,e){return nI.apply(this,arguments)}function nI(){return nI=(0,de.Z)(function*(n,e){m1(n),eI(n)?(n.bu.Iu(e),Xw(n)):n.bu.set("Unknown")}),nI.apply(this,arguments)}function wC(n,e,t){return rI.apply(this,arguments)}function rI(){return rI=(0,de.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof U0&&2===e.state&&e.cause)try{yield(i=(0,de.Z)(function*(c,p){const _=p.cause;for(const E of p.targetIds)c.Au.has(E)&&(yield c.remoteSyncer.rejectListen(E,_),c.Au.delete(E),c.Vu.removeTarget(E))}),function(c,p){return i.apply(this,arguments)})(n,e)}catch(i){Nt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield _1(n,i)}else if(e instanceof My?n.Vu.Ht(e):e instanceof Tw?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(fn.min()))try{const i=yield yE(n.localStore);t.compareTo(i)>=0&&(yield function(c,p){const _=c.Vu.ce(p);return _.targetChanges.forEach((E,F)=>{if(E.resumeToken.approximateByteSize()>0){const H=c.Au.get(F);H&&c.Au.set(F,H.withResumeToken(E.resumeToken,p))}}),_.targetMismatches.forEach((E,F)=>{const H=c.Au.get(E);if(!H)return;c.Au.set(E,H.withResumeToken(Hr.EMPTY_BYTE_STRING,H.snapshotVersion)),Jw(c,E);const te=new xl(H.target,E,F,H.sequenceNumber);g1(c,te)}),c.remoteSyncer.applyRemoteEvent(_)}(n,t))}catch(i){Nt("RemoteStore","Failed to raise snapshot:",i),yield _1(n,i)}var i}),rI.apply(this,arguments)}function _1(n,e,t){return y1.apply(this,arguments)}function y1(){return y1=(0,de.Z)(function*(n,e,t){if(!Al(e))throw e;n.vu.add(1),yield Qp(n),n.bu.set("Offline"),t||(t=()=>yE(n.localStore)),n.asyncQueue.enqueueRetryable((0,de.Z)(function*(){Nt("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield $y(n)}))}),y1.apply(this,arguments)}function v1(n,e){return e().catch(t=>_1(n,t,e))}function Jp(n){return b1.apply(this,arguments)}function b1(){return b1=(0,de.Z)(function*(n){const e=Qt(n),t=Xp(e);let i=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;SE(e);)try{const c=yield hC(e.localStore,i);if(null===c){0===e.Eu.length&&t.jo();break}i=c.batchId,AE(e,c)}catch(c){yield _1(e,c)}NE(e)&&iI(e)}),b1.apply(this,arguments)}function SE(n){return vd(n)&&n.Eu.length<10}function AE(n,e){n.Eu.push(e);const t=Xp(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function NE(n){return vd(n)&&!Xp(n).Uo()&&n.Eu.length>0}function iI(n){Xp(n).start()}function OE(n){return sI.apply(this,arguments)}function sI(){return sI=(0,de.Z)(function*(n){Xp(n).hu()}),sI.apply(this,arguments)}function ME(n){return w1.apply(this,arguments)}function w1(){return w1=(0,de.Z)(function*(n){const e=Xp(n);for(const t of n.Eu)e.uu(t.mutations)}),w1.apply(this,arguments)}function Bc(n,e,t){return Sf.apply(this,arguments)}function Sf(){return Sf=(0,de.Z)(function*(n,e,t){const i=n.Eu.shift(),c=yw.from(i,e,t);yield v1(n,()=>n.remoteSyncer.applySuccessfulWrite(c)),yield Jp(n)}),Sf.apply(this,arguments)}function IC(n,e){return oI.apply(this,arguments)}function oI(){return oI=(0,de.Z)(function*(n,e){var t;e&&Xp(n).ou&&(yield(t=(0,de.Z)(function*(i,c){if(function RT(n){switch(n){default:return an();case rt.CANCELLED:case rt.UNKNOWN:case rt.DEADLINE_EXCEEDED:case rt.RESOURCE_EXHAUSTED:case rt.INTERNAL:case rt.UNAVAILABLE:case rt.UNAUTHENTICATED:return!1;case rt.INVALID_ARGUMENT:case rt.NOT_FOUND:case rt.ALREADY_EXISTS:case rt.PERMISSION_DENIED:case rt.FAILED_PRECONDITION:case rt.ABORTED:case rt.OUT_OF_RANGE:case rt.UNIMPLEMENTED:case rt.DATA_LOSS:return!0}}(p=c.code)&&p!==rt.ABORTED){const _=i.Eu.shift();Xp(i).Qo(),yield v1(i,()=>i.remoteSyncer.rejectFailedWrite(_.batchId,c)),yield Jp(i)}var p}),function(i,c){return t.apply(this,arguments)})(n,e)),NE(n)&&iI(n)}),oI.apply(this,arguments)}function TC(n,e){return xE.apply(this,arguments)}function xE(){return xE=(0,de.Z)(function*(n,e){const t=Qt(n);t.asyncQueue.verifyOperationInProgress(),Nt("RemoteStore","RemoteStore received new credentials");const i=vd(t);t.vu.add(3),yield Qp(t),i&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield $y(t)}),xE.apply(this,arguments)}function Ky(){return Ky=(0,de.Z)(function*(n,e){const t=Qt(n);e?(t.vu.delete(2),yield $y(t)):e||(t.vu.add(2),yield Qp(t),t.bu.set("Unknown"))}),Ky.apply(this,arguments)}function Yy(n){return n.Su||(n.Su=function(e,t,i){const c=Qt(e);return c.fu(),new _C(t,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,i)}(n.datastore,n.asyncQueue,{uo:CE.bind(null,n),ao:tI.bind(null,n),nu:wC.bind(null,n)}),n.Ru.push(function(){var e=(0,de.Z)(function*(t){t?(n.Su.Qo(),eI(n)?Xw(n):n.bu.set("Unknown")):(yield n.Su.stop(),m1(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function Xp(n){return n.Du||(n.Du=function(e,t,i){const c=Qt(e);return c.fu(),new DE(t,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,i)}(n.datastore,n.asyncQueue,{uo:OE.bind(null,n),ao:IC.bind(null,n),au:ME.bind(null,n),cu:Bc.bind(null,n)}),n.Ru.push(function(){var e=(0,de.Z)(function*(t){t?(n.Du.Qo(),yield Jp(n)):(yield n.Du.stop(),n.Eu.length>0&&(Nt("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class RE{constructor(e,t,i,c,p){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=c,this.removalCallback=p,this.deferred=new so,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(_=>{})}static createAndSchedule(e,t,i,c,p){const _=Date.now()+i,E=new RE(e,t,_,c,p);return E.start(i),E}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ct(rt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bd(n,e){if(io("AsyncQueue",`${e}: ${n}`),Al(n))return new Ct(rt.UNAVAILABLE,`${e}: ${n}`);throw n}class jm{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Jt.comparator(t.key,i.key):(t,i)=>Jt.comparator(t.key,i.key),this.keyedMap=al(),this.sortedSet=new vn(this.comparator)}static emptySet(e){return new jm(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof jm)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const c=t.getNext().key,p=i.getNext().key;if(!c.isEqual(p))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new jm;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class T1{constructor(){this.Cu=new vn(Jt.comparator)}track(e){const t=e.doc.key,i=this.Cu.get(t);i?0!==e.type&&3===i.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==i.type?this.Cu=this.Cu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Cu=this.Cu.remove(t):1===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):an():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,i)=>{e.push(i)}),e}}class $m{constructor(e,t,i,c,p,_,E,F,H){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=c,this.mutatedKeys=p,this.fromCache=_,this.syncStateChanged=E,this.excludesMetadataChanges=F,this.hasCachedResults=H}static fromInitialDocuments(e,t,i,c,p){const _=[];return t.forEach(E=>{_.push({type:0,doc:E})}),new $m(e,t,jm.emptySet(t),_,i,c,!0,!1,p)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_m(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let c=0;c<t.length;c++)if(t[c].type!==i[c].type||!t[c].doc.isEqual(i[c].doc))return!1;return!0}}class PE{constructor(){this.Nu=void 0,this.listeners=[]}}class EC{constructor(){this.queries=new gd(e=>aw(e),_m),this.onlineState="Unknown",this.ku=new Set}}function aI(n,e){return cI.apply(this,arguments)}function cI(){return cI=(0,de.Z)(function*(n,e){const t=Qt(n),i=e.query;let c=!1,p=t.queries.get(i);if(p||(c=!0,p=new PE),c)try{p.Nu=yield t.onListen(i)}catch(_){const E=bd(_,`Initialization of query '${yf(e.query)}' failed`);return void e.onError(E)}t.queries.set(i,p),p.listeners.push(e),e.Mu(t.onlineState),p.Nu&&e.$u(p.Nu)&&Jy(t)}),cI.apply(this,arguments)}function Qy(n,e){return E1.apply(this,arguments)}function E1(){return E1=(0,de.Z)(function*(n,e){const t=Qt(n),i=e.query;let c=!1;const p=t.queries.get(i);if(p){const _=p.listeners.indexOf(e);_>=0&&(p.listeners.splice(_,1),c=0===p.listeners.length)}if(c)return t.queries.delete(i),t.onUnlisten(i)}),E1.apply(this,arguments)}function DC(n,e){const t=Qt(n);let i=!1;for(const c of e){const _=t.queries.get(c.query);if(_){for(const E of _.listeners)E.$u(c)&&(i=!0);_.Nu=c}}i&&Jy(t)}function D1(n,e,t){const i=Qt(n),c=i.queries.get(e);if(c)for(const p of c.listeners)p.onError(t);i.queries.delete(e)}function Jy(n){n.ku.forEach(e=>{e.next()})}class kE{constructor(e,t,i){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(e){if(!this.options.includeMetadataChanges){const i=[];for(const c of e.docChanges)3!==c.type&&i.push(c);e=new $m(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=$m.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class UE{constructor(e){this.key=e}}class lI{constructor(e){this.key=e}}class C1{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Cr(),this.mutatedKeys=Cr(),this.tc=cw(e),this.ec=new jm(this.tc)}get nc(){return this.Yu}sc(e,t){const i=t?t.ic:new T1,c=t?t.ec:this.ec;let p=t?t.mutatedKeys:this.mutatedKeys,_=c,E=!1;const F="F"===this.query.limitType&&c.size===this.query.limit?c.last():null,H="L"===this.query.limitType&&c.size===this.query.limit?c.first():null;if(e.inorderTraversal((te,pe)=>{const Be=c.get(te),lt=Ay(this.query,pe)?pe:null,kt=!!Be&&this.mutatedKeys.has(Be.key),nn=!!lt&&(lt.hasLocalMutations||this.mutatedKeys.has(lt.key)&&lt.hasCommittedMutations);let on=!1;Be&&lt?Be.data.isEqual(lt.data)?kt!==nn&&(i.track({type:3,doc:lt}),on=!0):this.rc(Be,lt)||(i.track({type:2,doc:lt}),on=!0,(F&&this.tc(lt,F)>0||H&&this.tc(lt,H)<0)&&(E=!0)):!Be&&lt?(i.track({type:0,doc:lt}),on=!0):Be&&!lt&&(i.track({type:1,doc:Be}),on=!0,(F||H)&&(E=!0)),on&&(lt?(_=_.add(lt),p=nn?p.add(te):p.delete(te)):(_=_.delete(te),p=p.delete(te)))}),null!==this.query.limit)for(;_.size>this.query.limit;){const te="F"===this.query.limitType?_.last():_.first();_=_.delete(te.key),p=p.delete(te.key),i.track({type:1,doc:te})}return{ec:_,ic:i,zi:E,mutatedKeys:p}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const c=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const p=e.ic.xu();p.sort((H,te)=>function(pe,Be){const lt=kt=>{switch(kt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return an()}};return lt(pe)-lt(Be)}(H.type,te.type)||this.tc(H.doc,te.doc)),this.oc(i);const _=t?this.uc():[],E=0===this.Zu.size&&this.current?1:0,F=E!==this.Xu;return this.Xu=E,0!==p.length||F?{snapshot:new $m(this.query,e.ec,c,p,e.mutatedKeys,0===E,F,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:_}:{cc:_}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new T1,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Cr(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const t=[];return e.forEach(i=>{this.Zu.has(i)||t.push(new lI(i))}),this.Zu.forEach(i=>{e.has(i)||t.push(new UE(i))}),t}hc(e){this.Yu=e.ir,this.Zu=Cr();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return $m.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class hS{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class CC{constructor(e){this.key=e,this.fc=!1}}class fS{constructor(e,t,i,c,p,_){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=c,this.currentUser=p,this.maxConcurrentLimboResolutions=_,this.dc={},this.wc=new gd(E=>aw(E),_m),this._c=new Map,this.mc=new Set,this.gc=new vn(Jt.comparator),this.yc=new Map,this.Ic=new X0,this.Tc={},this.Ec=new Map,this.Ac=Df.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function SC(n,e){return uI.apply(this,arguments)}function uI(){return uI=(0,de.Z)(function*(n,e){const t=function wI(n){const e=Qt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=GE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AC.bind(null,e),e.dc.nu=DC.bind(null,e.eventManager),e.dc.Pc=D1.bind(null,e.eventManager),e}(n);let i,c;const p=t.wc.get(e);if(p)i=p.targetId,t.sharedClientState.addLocalQueryTarget(i),c=p.view.lc();else{const _=yield function Um(n,e){const t=Qt(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let c;return t.Bs.getTargetData(i,e).next(p=>p?(c=p,We.resolve(c)):t.Bs.allocateTargetId(i).next(_=>(c=new xl(e,_,"TargetPurposeListen",i.currentSequenceNumber),t.Bs.addTargetData(i,c).next(()=>c))))}).then(i=>{const c=t.Ji.get(i.targetId);return(null===c||i.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(i.targetId,i),t.Yi.set(e,i.targetId)),i})}(t.localStore,kc(e)),E=t.sharedClientState.addLocalQueryTarget(_.targetId);i=_.targetId,c=yield function dI(n,e,t,i,c){return S1.apply(this,arguments)}(t,e,i,"current"===E,_.resumeToken),t.isPrimaryClient&&Wy(t.remoteStore,_)}return c}),uI.apply(this,arguments)}function S1(){return S1=(0,de.Z)(function*(n,e,t,i,c){n.Rc=(pe,Be,lt)=>{return(kt=(0,de.Z)(function*(nn,on,Sr,ri){let Pr=on.view.sc(Sr);Pr.zi&&(Pr=yield Hy(nn.localStore,on.query,!1).then(({documents:ts})=>on.view.sc(ts,Pr)));const Jo=ri&&ri.targetChanges.get(on.targetId),Mo=on.view.applyChanges(Pr,nn.isPrimaryClient,Jo);return qE(nn,on.targetId,Mo.cc),Mo.snapshot}),function(nn,on,Sr,ri){return kt.apply(this,arguments)})(n,pe,Be,lt);var kt};const p=yield Hy(n.localStore,e,!0),_=new C1(e,p.ir),E=_.sc(p.documents),F=Em.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,c),H=_.applyChanges(E,n.isPrimaryClient,F);qE(n,t,H.cc);const te=new hS(e,t,_);return n.wc.set(e,te),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),H.snapshot}),S1.apply(this,arguments)}function VE(n,e){return hI.apply(this,arguments)}function hI(){return hI=(0,de.Z)(function*(n,e){const t=Qt(n),i=t.wc.get(e),c=t._c.get(i.targetId);if(c.length>1)return t._c.set(i.targetId,c.filter(p=>!_m(p,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Vm(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),qy(t.remoteStore,i.targetId),Xy(t,i.targetId)}).catch(ah))):(Xy(t,i.targetId),yield Vm(t.localStore,i.targetId,!0))}),hI.apply(this,arguments)}function A1(){return A1=(0,de.Z)(function*(n,e,t){const i=function II(n){const e=Qt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jE.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$E.bind(null,e),e}(n);try{const c=yield function(p,_){const E=Qt(p),F=bs.now(),H=_.reduce((Be,lt)=>Be.add(lt.key),Cr());let te,pe;return E.persistence.runTransaction("Locally write mutations","readwrite",Be=>{let lt=Fc(),kt=Cr();return E.Zi.getEntries(Be,H).next(nn=>{lt=nn,lt.forEach((on,Sr)=>{Sr.isValidDocument()||(kt=kt.add(on))})}).next(()=>E.localDocuments.getOverlayedDocuments(Be,lt)).next(nn=>{te=nn;const on=[];for(const Sr of _){const ri=NT(Sr,te.get(Sr.key).overlayedDocument);null!=ri&&on.push(new _h(Sr.key,ri,Dy(ri.value.mapValue),es.exists(!0)))}return E.mutationQueue.addMutationBatch(Be,F,on,_)}).next(nn=>{pe=nn;const on=nn.applyToLocalDocumentSet(te,kt);return E.documentOverlayCache.saveOverlays(Be,nn.batchId,on)})}).then(()=>({batchId:pe.batchId,changes:wT(te)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(c.batchId),function(p,_,E){let F=p.Tc[p.currentUser.toKey()];F||(F=new vn(Qn)),F=F.insert(_,E),p.Tc[p.currentUser.toKey()]=F}(i,c.batchId,t),yield Af(i,c.changes),yield Jp(i.remoteStore)}catch(c){const p=bd(c,"Failed to persist write");t.reject(p)}}),A1.apply(this,arguments)}function GE(n,e){return fI.apply(this,arguments)}function fI(){return fI=(0,de.Z)(function*(n,e){const t=Qt(n);try{const i=yield function dC(n,e){const t=Qt(n),i=e.snapshotVersion;let c=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",p=>{const _=t.Zi.newChangeBuffer({trackRemovals:!0});c=t.Ji;const E=[];e.targetChanges.forEach((te,pe)=>{const Be=c.get(pe);if(!Be)return;E.push(t.Bs.removeMatchingKeys(p,te.removedDocuments,pe).next(()=>t.Bs.addMatchingKeys(p,te.addedDocuments,pe)));let lt=Be.withSequenceNumber(p.currentSequenceNumber);var kt,nn,on;null!==e.targetMismatches.get(pe)?lt=lt.withResumeToken(Hr.EMPTY_BYTE_STRING,fn.min()).withLastLimboFreeSnapshotVersion(fn.min()):te.resumeToken.approximateByteSize()>0&&(lt=lt.withResumeToken(te.resumeToken,i)),c=c.insert(pe,lt),nn=lt,on=te,(0===(kt=Be).resumeToken.approximateByteSize()||nn.snapshotVersion.toMicroseconds()-kt.snapshotVersion.toMicroseconds()>=3e8||on.addedDocuments.size+on.modifiedDocuments.size+on.removedDocuments.size>0)&&E.push(t.Bs.updateTargetData(p,lt))});let F=Fc(),H=Cr();if(e.documentUpdates.forEach(te=>{e.resolvedLimboDocuments.has(te)&&E.push(t.persistence.referenceDelegate.updateLimboDocument(p,te))}),E.push(function vE(n,e,t){let i=Cr(),c=Cr();return t.forEach(p=>i=i.add(p)),e.getEntries(n,i).next(p=>{let _=Fc();return t.forEach((E,F)=>{const H=p.get(E);F.isFoundDocument()!==H.isFoundDocument()&&(c=c.add(E)),F.isNoDocument()&&F.version.isEqual(fn.min())?(e.removeEntry(E,F.readTime),_=_.insert(E,F)):!H.isValidDocument()||F.version.compareTo(H.version)>0||0===F.version.compareTo(H.version)&&H.hasPendingWrites?(e.addEntry(F),_=_.insert(E,F)):Nt("LocalStore","Ignoring outdated watch update for ",E,". Current version:",H.version," Watch version:",F.version)}),{nr:_,sr:c}})}(p,_,e.documentUpdates).next(te=>{F=te.nr,H=te.sr})),!i.isEqual(fn.min())){const te=t.Bs.getLastRemoteSnapshotVersion(p).next(pe=>t.Bs.setTargetsMetadata(p,p.currentSequenceNumber,i));E.push(te)}return We.waitFor(E).next(()=>_.apply(p)).next(()=>t.localDocuments.getLocalViewOfDocuments(p,F,H)).next(()=>F)}).then(p=>(t.Ji=c,p))}(t.localStore,e);e.targetChanges.forEach((c,p)=>{const _=t.yc.get(p);_&&(wn(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?_.fc=!0:c.modifiedDocuments.size>0?wn(_.fc):c.removedDocuments.size>0&&(wn(_.fc),_.fc=!1))}),yield Af(t,i,e)}catch(i){yield ah(i)}}),fI.apply(this,arguments)}function pI(n,e,t){const i=Qt(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const c=[];i.wc.forEach((p,_)=>{const E=_.view.Mu(e);E.snapshot&&c.push(E.snapshot)}),function(p,_){const E=Qt(p);E.onlineState=_;let F=!1;E.queries.forEach((H,te)=>{for(const pe of te.listeners)pe.Mu(_)&&(F=!0)}),F&&Jy(E)}(i.eventManager,e),c.length&&i.dc.nu(c),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function AC(n,e,t){return N1.apply(this,arguments)}function N1(){return N1=(0,de.Z)(function*(n,e,t){const i=Qt(n);i.sharedClientState.updateQueryState(e,"rejected",t);const c=i.yc.get(e),p=c&&c.key;if(p){let _=new vn(Jt.comparator);_=_.insert(p,Vi.newNoDocument(p,fn.min()));const E=Cr().add(p),F=new Tm(fn.min(),new Map,new vn(Qn),_,E);yield GE(i,F),i.gc=i.gc.remove(p),i.yc.delete(e),ZE(i)}else yield Vm(i.localStore,e,!1).then(()=>Xy(i,e,t)).catch(ah)}),N1.apply(this,arguments)}function jE(n,e){return O1.apply(this,arguments)}function O1(){return O1=(0,de.Z)(function*(n,e){const t=Qt(n),i=e.batch.batchId;try{const c=yield function _E(n,e){const t=Qt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const c=e.batch.keys(),p=t.Zi.newChangeBuffer({trackRemovals:!0});return function(_,E,F,H){const te=F.batch,pe=te.keys();let Be=We.resolve();return pe.forEach(lt=>{Be=Be.next(()=>H.getEntry(E,lt)).next(kt=>{const nn=F.docVersions.get(lt);wn(null!==nn),kt.version.compareTo(nn)<0&&(te.applyToRemoteDocument(kt,F),kt.isValidDocument()&&(kt.setReadTime(F.commitVersion),H.addEntry(kt)))})}),Be.next(()=>_.mutationQueue.removeMutationBatch(E,te))}(t,i,e,p).next(()=>p.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,c,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(_){let E=Cr();for(let F=0;F<_.mutationResults.length;++F)_.mutationResults[F].transformResults.length>0&&(E=E.add(_.batch.mutations[F].key));return E}(e))).next(()=>t.localDocuments.getDocuments(i,c))})}(t.localStore,e);WE(t,i,null),M1(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Af(t,c)}catch(c){yield ah(c)}}),O1.apply(this,arguments)}function $E(n,e,t){return gI.apply(this,arguments)}function gI(){return gI=(0,de.Z)(function*(n,e,t){const i=Qt(n);try{const c=yield function(p,_){const E=Qt(p);return E.persistence.runTransaction("Reject batch","readwrite-primary",F=>{let H;return E.mutationQueue.lookupMutationBatch(F,_).next(te=>(wn(null!==te),H=te.keys(),E.mutationQueue.removeMutationBatch(F,te))).next(()=>E.mutationQueue.performConsistencyCheck(F)).next(()=>E.documentOverlayCache.removeOverlaysForBatchId(F,H,_)).next(()=>E.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(F,H)).next(()=>E.localDocuments.getDocuments(F,H))})}(i.localStore,e);WE(i,e,t),M1(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Af(i,c)}catch(c){yield ah(c)}}),gI.apply(this,arguments)}function M1(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function WE(n,e,t){const i=Qt(n);let c=i.Tc[i.currentUser.toKey()];if(c){const p=c.get(e);p&&(t?p.reject(t):p.resolve(),c=c.remove(e)),i.Tc[i.currentUser.toKey()]=c}}function Xy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n._c.get(e))n.wc.delete(i),t&&n.dc.Pc(i,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(i=>{n.Ic.containsKey(i)||OC(n,i)})}function OC(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(qy(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),ZE(n))}function qE(n,e,t){for(const i of t)i instanceof UE?(n.Ic.addReference(i.key,e),pS(n,i)):i instanceof lI?(Nt("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,e),n.Ic.containsKey(i.key)||OC(n,i.key)):an()}function pS(n,e){const t=e.key,i=t.path.canonicalString();n.gc.get(t)||n.mc.has(i)||(Nt("SyncEngine","New document in limbo: "+t),n.mc.add(i),ZE(n))}function ZE(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new Jt(Br.fromString(e)),i=n.Ac.next();n.yc.set(i,new CC(t)),n.gc=n.gc.insert(t,i),Wy(n.remoteStore,new xl(kc(mm(t.path)),i,"TargetPurposeLimboResolution",Xi.ct))}}function Af(n,e,t){return KE.apply(this,arguments)}function KE(){return KE=(0,de.Z)(function*(n,e,t){const i=Qt(n),c=[],p=[],_=[];var E;i.wc.isEmpty()||(i.wc.forEach((E,F)=>{_.push(i.Rc(F,e,t).then(H=>{if((H||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(F.targetId,H?.fromCache?"not-current":"current"),H){c.push(H);const te=pE.Li(F.targetId,H);p.push(te)}}))}),yield Promise.all(_),i.dc.nu(c),yield(E=(0,de.Z)(function*(F,H){const te=Qt(F);try{yield te.persistence.runTransaction("notifyLocalViewChanges","readwrite",pe=>We.forEach(H,Be=>We.forEach(Be.Fi,lt=>te.persistence.referenceDelegate.addReference(pe,Be.targetId,lt)).next(()=>We.forEach(Be.Bi,lt=>te.persistence.referenceDelegate.removeReference(pe,Be.targetId,lt)))))}catch(pe){if(!Al(pe))throw pe;Nt("LocalStore","Failed to update sequence numbers: "+pe)}for(const pe of H){const Be=pe.targetId;if(!pe.fromCache){const lt=te.Ji.get(Be),nn=lt.withLastLimboFreeSnapshotVersion(lt.snapshotVersion);te.Ji=te.Ji.insert(Be,nn)}}}),function(F,H){return E.apply(this,arguments)})(i.localStore,p))}),KE.apply(this,arguments)}function gS(n,e){return x1.apply(this,arguments)}function x1(){return x1=(0,de.Z)(function*(n,e){const t=Qt(n);if(!t.currentUser.isEqual(e)){Nt("SyncEngine","User change. New user:",e.toKey());const i=yield $w(t.localStore,e);t.currentUser=e,(c=t).Ec.forEach(_=>{_.forEach(E=>{E.reject(new Ct(rt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.Ec.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Af(t,i.er)}var c}),x1.apply(this,arguments)}function mI(n,e){const t=Qt(n),i=t.yc.get(e);if(i&&i.fc)return Cr().add(i.key);{let c=Cr();const p=t._c.get(e);if(!p)return c;for(const _ of p){const E=t.wc.get(_);c=c.unionWith(E.view.nc)}return c}}class F1{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,de.Z)(function*(){t.serializer=Hm(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function mE(n,e,t,i){return new uC(n,e,t,i)}(this.persistence,new gE,e.initialUser,this.serializer)}createPersistence(e){return new e1(t1.zs,this.serializer)}createSharedClientState(e){return new IE}terminate(){var e=this;return(0,de.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class zm{initialize(e,t){var i=this;return(0,de.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=c=>pI(i.syncEngine,c,1),i.remoteStore.remoteSyncer.handleCredentialChange=gS.bind(null,i.syncEngine),yield function I1(n,e){return Ky.apply(this,arguments)}(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new EC}createDatastore(e){const t=Hm(e.databaseInfo.databaseId),i=new u1(e.databaseInfo);return new yC(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,c=e.asyncQueue,p=E=>pI(this.syncEngine,E,0),_=TE.D()?new TE:new dS,new bC(t,i,c,p,_);var t,i,c,p,_}createSyncEngine(e,t){return function(i,c,p,_,E,F,H){const te=new fS(i,c,p,_,E,F);return H&&(te.vc=!0),te}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,de.Z)(function*(t){const i=Qt(t);Nt("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield Qp(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class B1{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):io("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class BC{constructor(e,t,i,c){var p=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=c,this.user=xs.UNAUTHENTICATED,this.clientId=w0.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var _=(0,de.Z)(function*(E){Nt("FirestoreClient","Received user=",E.uid),yield p.authCredentialListener(E),p.user=E});return function(E){return _.apply(this,arguments)}}()),this.appCheckCredentials.start(i,_=>(Nt("FirestoreClient","Received new app check token=",_),this.appCheckCredentialListener(_,this.user)))}getConfiguration(){var e=this;return(0,de.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ct(rt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new so;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,de.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const c=bd(i,"Failed to shutdown persistence");t.reject(c)}})),t.promise}}function U1(n,e){return TI.apply(this,arguments)}function TI(){return TI=(0,de.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Nt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var c=(0,de.Z)(function*(p){i.isEqual(p)||(yield $w(e.localStore,p),i=p)});return function(p){return c.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),TI.apply(this,arguments)}function EI(n,e){return V1.apply(this,arguments)}function V1(){return V1=(0,de.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function DI(n){return CI.apply(this,arguments)}(n);Nt("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(c=>TC(e.remoteStore,c)),n.setAppCheckTokenChangeListener((c,p)=>TC(e.remoteStore,p)),n._onlineComponents=e}),V1.apply(this,arguments)}function CI(){return CI=(0,de.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Nt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield U1(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function H1(n){return"FirebaseError"===n.name?n.code===rt.FAILED_PRECONDITION||n.code===rt.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;sl("Error using user provided cache. Falling back to memory cache: "+t),yield U1(n,new F1)}}else Nt("FirestoreClient","Using default OfflineComponentProvider"),yield U1(n,new F1);return n._offlineComponents}),CI.apply(this,arguments)}function ev(n){return G1.apply(this,arguments)}function G1(){return G1=(0,de.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Nt("FirestoreClient","Using user provided OnlineComponentProvider"),yield EI(n,n._uninitializedComponentsProvider._online)):(Nt("FirestoreClient","Using default OnlineComponentProvider"),yield EI(n,new zm))),n._onlineComponents}),G1.apply(this,arguments)}function ng(n){return AI.apply(this,arguments)}function AI(){return AI=(0,de.Z)(function*(n){const e=yield ev(n),t=e.eventManager;return t.onListen=SC.bind(null,e.syncEngine),t.onUnlisten=VE.bind(null,e.syncEngine),t}),AI.apply(this,arguments)}function oD(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const aD=new Map;function z1(n,e,t){if(!t)throw new Ct(rt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function MI(n){if(!Jt.isDocumentKey(n))throw new Ct(rt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function cD(n){if(Jt.isDocumentKey(n))throw new Ct(rt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function tv(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":an()}function oi(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ct(rt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=tv(n);throw new Ct(rt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class xI{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new Ct(rt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ct(rt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function vS(n,e,t,i){if(!0===e&&!0===i)throw new Ct(rt.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=oD(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(c){if(void 0!==c.timeoutSeconds){if(isNaN(c.timeoutSeconds))throw new Ct(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new Ct(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new Ct(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wm{constructor(e,t,i,c){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=c,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xI({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ct(rt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ct(rt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xI(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new $b;switch(t.type){case"firstParty":return new Rp(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ct(rt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=aD.get(e);t&&(Nt("ComponentProvider","Removing Datastore"),aD.delete(e),t.terminate())}(this),Promise.resolve()}}class lo{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Uc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new lo(this.firestore,e,this._key)}}class Ra{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ra(this.firestore,e,this._query)}}class Uc extends Ra{constructor(e,t,i){super(e,t,mm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new lo(this.firestore,null,new Jt(e))}withConverter(e){return new Uc(this.firestore,e,this._path)}}function q1(n,e,...t){if(n=(0,he.m9)(n),z1("collection","path",e),n instanceof Wm){const i=Br.fromString(e,...t);return cD(i),new Uc(n,null,i)}{if(!(n instanceof lo||n instanceof Uc))throw new Ct(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Br.fromString(e,...t));return cD(i),new Uc(n.firestore,null,i)}}function RI(n,e,...t){if(n=(0,he.m9)(n),1===arguments.length&&(e=w0.A()),z1("doc","path",e),n instanceof Wm){const i=Br.fromString(e,...t);return MI(i),new lo(n,null,new Jt(i))}{if(!(n instanceof lo||n instanceof Uc))throw new Ct(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Br.fromString(e,...t));return MI(i),new lo(n.firestore,n instanceof Uc?n.converter:null,new Jt(i))}}class wS{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Gm(this,"async_queue_retry"),this.Xc=()=>{const t=d1();t&&Nt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=d1();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=d1();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new so;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,de.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Al(t))throw t;Nt("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(i=>{throw this.Wc=i,this.Hc=!1,io("INTERNAL UNHANDLED ERROR: ",function(p){let _=p.message||"";return p.stack&&(_=p.stack.includes(p.message)?p.stack:p.message+"\n"+p.stack),_}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=t,t}enqueueAfterDelay(e,t,i){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const c=RE.createAndSchedule(this,e,t,i,p=>this.na(p));return this.zc.push(c),c}Zc(){this.Wc&&an()}verifyOperationInProgress(){}sa(){var e=this;return(0,de.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class Ps extends Wm{constructor(e,t,i,c){super(e,t,i,c),this.type="firestore",this._queue=new wS,this._persistenceKey=c?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||uD(this),this._firestoreClient.terminate()}}function IS(n,e){const t="object"==typeof n?n:(0,Te.Mq)(),i="string"==typeof n?n:e||"(default)",c=(0,Te.qX)(t,"firestore").getImmediate({identifier:i});if(!c._initialized){const p=(0,he.P0)("firestore");p&&function GC(n,e,t,i={}){var c;const p=(n=oi(n,Wm))._getSettings(),_=`${e}:${t}`;if("firestore.googleapis.com"!==p.host&&p.host!==_&&sl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},p),{host:_,ssl:!1})),i.mockUserToken){let E,F;if("string"==typeof i.mockUserToken)E=i.mockUserToken,F=xs.MOCK_USER;else{E=(0,he.Sg)(i.mockUserToken,null===(c=n._app)||void 0===c?void 0:c.options.projectId);const H=i.mockUserToken.sub||i.mockUserToken.user_id;if(!H)throw new Ct(rt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");F=new xs(H)}n._authCredentials=new zb(new fy(E,F))}}(c,...p)}return c}function Oo(n){return n._firestoreClient||uD(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function uD(n){var e,t,i;const c=n._freezeSettings(),p=(E=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new ds(n._databaseId,E,n._persistenceKey,(H=c).host,H.ssl,H.experimentalForceLongPolling,H.experimentalAutoDetectLongPolling,oD(H.experimentalLongPollingOptions),H.useFetchStreams));var E,H;n._firestoreClient=new BC(n._authCredentials,n._appCheckCredentials,n._queue,p),null!==(t=c.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=c.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:c.cache.kind,_offline:c.cache._offlineComponentProvider,_online:c.cache._onlineComponentProvider})}class Of{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Of(Hr.fromBase64String(e))}catch(t){throw new Ct(rt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Of(Hr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Mf{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ct(rt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vs(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class nv{constructor(e){this._methodName=e}}class rv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ct(rt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ct(rt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qn(this._lat,e._lat)||Qn(this._long,e._long)}}const kI=/^__.*__$/;class K1{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new _h(e,this.data,this.fieldMask,t,this.fieldTransforms):new Gp(e,this.data,t,this.fieldTransforms)}}class WC{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new _h(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function qC(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw an()}}class FI{constructor(e,t,i,c,p,_){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=c,void 0===p&&this.ua(),this.fieldTransforms=p||[],this.fieldMask=_||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new FI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),c=this.aa({path:i,la:!1});return c.fa(e),c}da(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),c=this.aa({path:i,la:!1});return c.ua(),c}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return X1(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(qC(this.ca)&&kI.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class fD{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Hm(e)}ya(e,t,i,c=!1){return new FI({ca:e,methodName:t,ga:i,path:Vs.emptyPath(),la:!1,ma:c},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zm(n){const e=n._freezeSettings(),t=Hm(n._databaseId);return new fD(n._databaseId,!!e.ignoreUndefinedProperties,t)}function LI(n,e,t,i,c,p={}){const _=n.ya(p.merge||p.mergeFields?2:0,e,t,c);VI("Data must be an object, but it was:",_,i);const E=UI(i,_);let F,H;if(p.merge)F=new Dr(_.fieldMask),H=_.fieldTransforms;else if(p.mergeFields){const te=[];for(const pe of p.mergeFields){const Be=sv(e,pe,t);if(!_.contains(Be))throw new Ct(rt.INVALID_ARGUMENT,`Field '${Be}' is specified in your field mask but missing from your input data.`);yD(te,Be)||te.push(Be)}F=new Dr(te),H=_.fieldTransforms.filter(pe=>F.covers(pe.field))}else F=null,H=_.fieldTransforms;return new K1(new Ao(E),F,H)}class iv extends nv{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof iv}}function pD(n,e,t){return new FI({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class gD extends nv{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=pD(this,e,!0),i=this.pa.map(p=>Km(p,t)),c=new bf(i);return new Ny(e.path,c)}isEqual(e){return this===e}}class mD extends nv{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=pD(this,e,!0),i=this.pa.map(p=>Km(p,t)),c=new md(i);return new Ny(e.path,c)}isEqual(e){return this===e}}function Q1(n,e,t,i=!1){return Km(t,n.ya(i?4:3,e))}function Km(n,e){if(J1(n=(0,he.m9)(n)))return VI("Unsupported field value:",e,n),UI(n,e);if(n instanceof nv)return function(t,i){if(!qC(i.ca))throw i._a(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${t._methodName}() is not currently supported inside arrays`);const c=t._toFieldTransform(i);c&&i.fieldTransforms.push(c)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,i){const c=[];let p=0;for(const _ of t){let E=Km(_,i.wa(p));null==E&&(E={nullValue:"NULL_VALUE"}),c.push(E),p++}return{arrayValue:{values:c}}}(n,e)}return function(t,i){if(null===(t=(0,he.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return F0(i.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const c=bs.fromDate(t);return{timestampValue:$p(i.serializer,c)}}if(t instanceof bs){const c=new bs(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:$p(i.serializer,c)}}if(t instanceof rv)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Of)return{bytesValue:HD(i.serializer,t._byteString)};if(t instanceof lo){const c=i.databaseId,p=t.firestore._databaseId;if(!p.isEqual(c))throw i._a(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Cw(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i._a(`Unsupported field value: ${tv(t)}`)}(n,e)}function UI(n,e){const t={};return Mn(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Dn(n,(i,c)=>{const p=Km(c,e.ha(i));null!=p&&(t[i]=p)}),{mapValue:{fields:t}}}function J1(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof bs||n instanceof rv||n instanceof Of||n instanceof lo||n instanceof nv)}function VI(n,e,t){if(!J1(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=tv(t);throw e._a("an object"===i?n+" a custom object":n+" "+i)}var i}function sv(n,e,t){if((e=(0,he.m9)(e))instanceof Mf)return e._internalPath;if("string"==typeof e)return HI(n,e);throw X1("Field path arguments must be of type string or ",n,!1,void 0,t)}const SS=new RegExp("[~\\*/\\[\\]]");function HI(n,e,t){if(e.search(SS)>=0)throw X1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Mf(...e.split("."))._internalPath}catch{throw X1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function X1(n,e,t,i,c){const p=i&&!i.isEmpty(),_=void 0!==c;let E=`Function ${e}() called with invalid data`;t&&(E+=" (via `toFirestore()`)"),E+=". ";let F="";return(p||_)&&(F+=" (found",p&&(F+=` in field ${i}`),_&&(F+=` in document ${c}`),F+=")"),new Ct(rt.INVALID_ARGUMENT,E+n+F)}function yD(n,e){return n.some(t=>t.isEqual(e))}class GI{constructor(e,t,i,c,p){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=c,this._converter=p}get id(){return this._key.path.lastSegment()}get ref(){return new lo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new KC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ov("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class KC extends GI{data(){return super.data()}}function ov(n,e){return"string"==typeof e?HI(n,e):e instanceof Mf?e._internalPath:e._delegate._internalPath}class $I{}class av extends $I{}function vD(n,e,...t){let i=[];e instanceof $I&&i.push(e),i=i.concat(t),function(c){const p=c.filter(E=>E instanceof xf).length,_=c.filter(E=>E instanceof eb).length;if(p>1||p>0&&_>0)throw new Ct(rt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const c of i)n=c._apply(n);return n}class eb extends av{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new eb(e,t,i)}_apply(e){const t=this._parse(e);return rS(e._query,t),new Ra(e.firestore,e.converter,R0(e._query,t))}_parse(e){const t=Zm(e.firestore);return function(c,p,_,E,F,H,te){let pe;if(F.isKeyField()){if("array-contains"===H||"array-contains-any"===H)throw new Ct(rt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${H}' queries on documentId().`);if("in"===H||"not-in"===H){wD(te,H);const Be=[];for(const lt of te)Be.push(bD(E,c,lt));pe={arrayValue:{values:Be}}}else pe=bD(E,c,te)}else"in"!==H&&"not-in"!==H&&"array-contains-any"!==H||wD(te,H),pe=Q1(_,"where",te,"in"===H||"not-in"===H);return Kr.create(F,H,pe)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function YC(n,e,t){const i=e,c=ov("where",n);return eb._create(c,i,t)}class xf extends $I{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new xf(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:Pi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,c){let p=i;const _=c.getFlattenedFilters();for(const E of _)rS(p,E),p=R0(p,E)}(e._query,t),new Ra(e.firestore,e.converter,R0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class zI extends av{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new zI(e,t)}_apply(e){const t=function(i,c,p){if(null!==i.startAt)throw new Ct(rt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Ct(rt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const _=new Bp(c,p);return function(E,F){if(null===ow(E)){const H=co(E);null!==H&&iS(0,H,F.field)}}(i,_),_}(e._query,this._field,this._direction);return new Ra(e.firestore,e.converter,function(i,c){const p=i.explicitOrderBy.concat([c]);return new _f(i.path,i.collectionGroup,p,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function tb(n,e="asc"){const t=e,i=ov("orderBy",n);return zI._create(i,t)}class nb extends av{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new nb(e,t,i)}_apply(e){return new Ra(e.firestore,e.converter,P0(e._query,this._limit,this._limitType))}}function XC(n){return function W1(n,e){if(e<=0)throw new Ct(rt.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}("limit",n),nb._create("limit",n,"F")}class cv extends av{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new cv(e,t,i)}_apply(e){const t=function nS(n,e,t,i){if(t[0]=(0,he.m9)(t[0]),t[0]instanceof GI)return function(c,p,_,E,F){if(!E)throw new Ct(rt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${_}().`);const H=[];for(const te of Vp(c))if(te.field.isKeyField())H.push(fh(p,E.key));else{const pe=E.data.field(te.field);if(gn(pe))throw new Ct(rt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+te.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===pe){const Be=te.field.canonicalString();throw new Ct(rt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Be}' (used as the orderBy) does not exist.`)}H.push(pe)}return new Ml(H,F)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const c=Zm(n.firestore);return function(p,_,E,F,H,te){const pe=p.explicitOrderBy;if(H.length>pe.length)throw new Ct(rt.INVALID_ARGUMENT,`Too many arguments provided to ${F}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Be=[];for(let lt=0;lt<H.length;lt++){const kt=H[lt];if(pe[lt].field.isKeyField()){if("string"!=typeof kt)throw new Ct(rt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${F}(), but got a ${typeof kt}`);if(!x0(p)&&-1!==kt.indexOf("/"))throw new Ct(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${F}() must be a plain document ID, but '${kt}' contains a slash.`);const nn=p.path.child(Br.fromString(kt));if(!Jt.isDocumentKey(nn))throw new Ct(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${F}() must result in a valid document path, but '${nn}' is not because it contains an odd number of segments.`);const on=new Jt(nn);Be.push(fh(_,on))}else{const nn=Q1(E,F,kt);Be.push(nn)}}return new Ml(Be,te)}(n._query,n.firestore._databaseId,c,e,t,i)}}(e,this.type,this._docOrFields,this._inclusive);return new Ra(e.firestore,e.converter,(c=t,new _f((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,c,i.endAt)));var i,c}}function tS(...n){return cv._create("startAfter",n,!1)}function bD(n,e,t){if("string"==typeof(t=(0,he.m9)(t))){if(""===t)throw new Ct(rt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!x0(e)&&-1!==t.indexOf("/"))throw new Ct(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Br.fromString(t));if(!Jt.isDocumentKey(i))throw new Ct(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return fh(n,new Jt(i))}if(t instanceof lo)return fh(n,t._key);throw new Ct(rt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tv(t)}.`)}function wD(n,e){if(!Array.isArray(n)||0===n.length)throw new Ct(rt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function rS(n,e){if(e.isInequality()){const i=co(n),c=e.field;if(null!==i&&!i.isEqual(c))throw new Ct(rt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${c.toString()}'`);const p=ow(n);null!==p&&iS(0,c,p)}const t=function(i,c){for(const p of i)for(const _ of p.getFlattenedFilters())if(c.indexOf(_.op)>=0)return _.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Ct(rt.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function iS(n,e,t){if(!t.isEqual(e))throw new Ct(rt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class NS{convertValue(e,t="none"){switch(Ur(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes($t(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw an()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Dn(e,(c,p)=>{i[c]=this.convertValue(p,t)}),i}convertGeoPoint(e){return new rv(bi(e.latitude),bi(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=kn(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(dr(e));default:return null}}convertTimestamp(e){const t=oo(e);return new bs(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Br.fromString(e);wn(Nm(i));const c=new ao(i.get(1),i.get(3)),p=new Jt(i.popFirst(5));return c.isEqual(t)||io(`Document ${p} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),p}}function ID(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class ig{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lv extends GI{constructor(e,t,i,c,p,_){super(e,t,i,c,_),this._firestore=e,this._firestoreImpl=e,this.metadata=p}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new r(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(ov("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class r extends lv{data(e={}){return super.data(e)}}class s{constructor(e,t,i,c){this._firestore=e,this._userDataWriter=t,this._snapshot=c,this.metadata=new ig(c.hasPendingWrites,c.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new r(this._firestore,this._userDataWriter,i.key,i,new ig(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ct(rt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,c){if(i._snapshot.oldDocs.isEmpty()){let p=0;return i._snapshot.docChanges.map(_=>({type:"added",doc:new r(i._firestore,i._userDataWriter,_.doc.key,_.doc,new ig(i._snapshot.mutatedKeys.has(_.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:p++}))}{let p=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(_=>c||3!==_.type).map(_=>{const E=new r(i._firestore,i._userDataWriter,_.doc.key,_.doc,new ig(i._snapshot.mutatedKeys.has(_.doc.key),i._snapshot.fromCache),i.query.converter);let F=-1,H=-1;return 0!==_.type&&(F=p.indexOf(_.doc.key),p=p.delete(_.doc.key)),1!==_.type&&(p=p.add(_.doc),H=p.indexOf(_.doc.key)),{type:a(_.type),doc:E,oldIndex:F,newIndex:H}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function a(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return an()}}function g(n){n=oi(n,lo);const e=oi(n.firestore,Ps);return function $1(n,e,t={}){const i=new so;return n.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return function(c,p,_,E,F){const H=new B1({next:pe=>{p.enqueueAndForget(()=>Qy(c,te));const Be=pe.docs.has(_);!Be&&pe.fromCache?F.reject(new Ct(rt.UNAVAILABLE,"Failed to get document because the client is offline.")):Be&&pe.fromCache&&E&&"server"===E.source?F.reject(new Ct(rt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):F.resolve(pe)},error:pe=>F.reject(pe)}),te=new kE(mm(_.path),H,{includeMetadataChanges:!0,Ku:!0});return aI(c,te)}(yield ng(n),n.asyncQueue,e,t,i)})),i.promise}(Oo(e),n._key).then(t=>function wt(n,e,t){const i=t.docs.get(e._key),c=new y(n);return new lv(n,c,e._key,i,new ig(t.hasPendingWrites,t.fromCache),e.converter)}(e,n,t))}class y extends NS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Of(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new lo(this.firestore,null,t)}}function R(n){n=oi(n,Ra);const e=oi(n.firestore,Ps),t=Oo(e),i=new y(e);return function jI(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ct(rt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),function iD(n,e,t={}){const i=new so;return n.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return function(c,p,_,E,F){const H=new B1({next:pe=>{p.enqueueAndForget(()=>Qy(c,te)),pe.fromCache&&"server"===E.source?F.reject(new Ct(rt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):F.resolve(pe)},error:pe=>F.reject(pe)}),te=new kE(_,H,{includeMetadataChanges:!0,Ku:!0});return aI(c,te)}(yield ng(n),n.asyncQueue,e,t,i)})),i.promise}(t,n._query).then(c=>new s(e,i,n,c))}function me(n,e,t){n=oi(n,lo);const i=oi(n.firestore,Ps),c=ID(n.converter,e,t);return Tn(i,[LI(Zm(i),"setDoc",n._key,c,null!==n.converter,t).toMutation(n._key,es.none())])}function Me(n,e,t,...i){n=oi(n,lo);const c=oi(n.firestore,Ps),p=Zm(c);let _;return _="string"==typeof(e=(0,he.m9)(e))||e instanceof Mf?function BI(n,e,t,i,c,p){const _=n.ya(1,e,t),E=[sv(e,i,t)],F=[c];if(p.length%2!=0)throw new Ct(rt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Be=0;Be<p.length;Be+=2)E.push(sv(e,p[Be])),F.push(p[Be+1]);const H=[],te=Ao.empty();for(let Be=E.length-1;Be>=0;--Be)if(!yD(H,E[Be])){const lt=E[Be];let kt=F[Be];kt=(0,he.m9)(kt);const nn=_.da(lt);if(kt instanceof iv)H.push(lt);else{const on=Km(kt,nn);null!=on&&(H.push(lt),te.set(lt,on))}}const pe=new Dr(H);return new WC(te,pe,_.fieldTransforms)}(p,"updateDoc",n._key,e,t,i):function _D(n,e,t,i){const c=n.ya(1,e,t);VI("Data must be an object, but it was:",c,i);const p=[],_=Ao.empty();Dn(i,(F,H)=>{const te=HI(e,F,t);H=(0,he.m9)(H);const pe=c.da(te);if(H instanceof iv)p.push(te);else{const Be=Km(H,pe);null!=Be&&(p.push(te),_.set(te,Be))}});const E=new Dr(p);return new WC(_,E,c.fieldTransforms)}(p,"updateDoc",n._key,e),Tn(c,[_.toMutation(n._key,es.exists(!0))])}function Le(n){return Tn(oi(n.firestore,Ps),[new wm(n._key,es.none())])}function ft(n,e){const t=oi(n.firestore,Ps),i=RI(n),c=ID(n.converter,e);return Tn(t,[LI(Zm(n.firestore),"addDoc",i._key,c,null!==n.converter,{}).toMutation(i._key,es.exists(!1))]).then(()=>i)}function Tn(n,e){return function(t,i){const c=new so;return t.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return function HE(n,e,t){return A1.apply(this,arguments)}(yield function j1(n){return ev(n).then(e=>e.syncEngine)}(t),i,c)})),c.promise}(Oo(n),e)}function eA(...n){return new gD("arrayUnion",n)}function tA(...n){return new mD("arrayRemove",n)}!function(n,e=!0){dd=Te.Jn,(0,Te.Xd)(new ne.wA("firestore",(t,{instanceIdentifier:i,options:c})=>{const p=t.getProvider("app").getImmediate(),_=new Ps(new py(t.getProvider("auth-internal")),new b0(t.getProvider("app-check-internal")),function(E,F){if(!Object.prototype.hasOwnProperty.apply(E.options,["projectId"]))throw new Ct(rt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ao(E.options.projectId,F)}(p,i),p);return c=Object.assign({useFetchStreams:e},c),_._setSettings(c),_},"PUBLIC").setMultipleInstances(!0)),(0,Te.KN)(xp,"3.13.0",n),(0,Te.KN)(xp,"3.13.0","esm2017")}();class DD{constructor(e){return e}}const FS="firestore",oS=new oe.OlP("angularfire2.firestore-instances");function iA(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new DD(i)}}const sA={provide:class nA{constructor(){return(0,b.vb)(FS)}},deps:[[new oe.FiY,oS]]},oA={provide:DD,useFactory:function rA(n,e){const t=(0,b.JM)(FS,n,e);return t&&new DD(t)},deps:[[new oe.FiY,oS],u.Ot]};let aA=(()=>{class n{constructor(){(0,we.KN)("angularfire",b.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=oe.oAB({type:n}),n.\u0275inj=oe.cJS({providers:[oA,sA]}),n})();function cA(n,...e){return{ngModule:aA,providers:[{provide:oS,useFactory:iA(n),multi:!0,deps:[oe.R0b,oe.zs3,b.HU,u.z6,[new oe.FiY,Du],[new oe.FiY,Zl],...e]}]}}const lA=(0,b.u3)(ft,!0),uA=(0,b.u3)(tA,!0),dA=(0,b.u3)(eA,!0),hA=(0,b.u3)(q1,!0),fA=(0,b.u3)(Le,!0),pA=(0,b.u3)(RI,!0),gA=(0,b.u3)(g,!0),mA=(0,b.u3)(R,!0),_A=(0,b.u3)(IS,!0),yA=(0,b.u3)(XC,!0),vA=(0,b.u3)(tb,!0),bA=(0,b.u3)(vD,!0),wA=(0,b.u3)(me,!0),IA=(0,b.u3)(tS,!0),TA=(0,b.u3)(Me,!0),EA=(0,b.u3)(YC,!0)},6106:(Bt,Ge,K)=>{K.d(Ge,{q4:()=>_u,HU:()=>Od,vb:()=>Lf,JM:()=>jl,u3:()=>Uf});var b=K(9468),oe=K(4097),u=K(5861),we=K(7592),de=K(229),he=K(6820),Te=K(7879);const Ue=(O,L)=>L.some(Q=>O instanceof Q);let Ie,ne;const Xe=new WeakMap,Pe=new WeakMap,st=new WeakMap,Ot=new WeakMap,Ut=new WeakMap;let Rt={get(O,L,Q){if(O instanceof IDBTransaction){if("done"===L)return Pe.get(O);if("objectStoreNames"===L)return O.objectStoreNames||st.get(O);if("store"===L)return Q.objectStoreNames[1]?void 0:Q.objectStore(Q.objectStoreNames[0])}return _t(O[L])},set:(O,L,Q)=>(O[L]=Q,!0),has:(O,L)=>O instanceof IDBTransaction&&("done"===L||"store"===L)||L in O};function vt(O){return"function"==typeof O?function ot(O){return O!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ae(){return ne||(ne=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(O)?function(...L){return O.apply(je(this),L),_t(Xe.get(this))}:function(...L){return _t(O.apply(je(this),L))}:function(L,...Q){const fe=O.call(je(this),L,...Q);return st.set(fe,L.sort?L.sort():[L]),_t(fe)}}(O):(O instanceof IDBTransaction&&function xn(O){if(Pe.has(O))return;const L=new Promise((Q,fe)=>{const Ne=()=>{O.removeEventListener("complete",Fe),O.removeEventListener("error",it),O.removeEventListener("abort",it)},Fe=()=>{Q(),Ne()},it=()=>{fe(O.error||new DOMException("AbortError","AbortError")),Ne()};O.addEventListener("complete",Fe),O.addEventListener("error",it),O.addEventListener("abort",it)});Pe.set(O,L)}(O),Ue(O,function le(){return Ie||(Ie=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(O,Rt):O)}function _t(O){if(O instanceof IDBRequest)return function Ft(O){const L=new Promise((Q,fe)=>{const Ne=()=>{O.removeEventListener("success",Fe),O.removeEventListener("error",it)},Fe=()=>{Q(_t(O.result)),Ne()},it=()=>{fe(O.error),Ne()};O.addEventListener("success",Fe),O.addEventListener("error",it)});return L.then(Q=>{Q instanceof IDBCursor&&Xe.set(Q,O)}).catch(()=>{}),Ut.set(L,O),L}(O);if(Ot.has(O))return Ot.get(O);const L=vt(O);return L!==O&&(Ot.set(O,L),Ut.set(L,O)),L}const je=O=>Ut.get(O),gt=["get","getKey","getAll","getAllKeys","count"],Fn=["put","add","delete","clear"],ut=new Map;function dn(O,L){if(!(O instanceof IDBDatabase)||L in O||"string"!=typeof L)return;if(ut.get(L))return ut.get(L);const Q=L.replace(/FromIndex$/,""),fe=L!==Q,Ne=Fn.includes(Q);if(!(Q in(fe?IDBIndex:IDBObjectStore).prototype)||!Ne&&!gt.includes(Q))return;const Fe=function(){var it=(0,u.Z)(function*(Vt,...Ht){const yn=this.transaction(Vt,Ne?"readwrite":"readonly");let Kn=yn.store;return fe&&(Kn=Kn.index(Ht.shift())),(yield Promise.all([Kn[Q](...Ht),Ne&&yn.done]))[0]});return function(Ht){return it.apply(this,arguments)}}();return ut.set(L,Fe),Fe}!function mt(O){Rt=O(Rt)}(O=>({...O,get:(L,Q,fe)=>dn(L,Q)||O.get(L,Q,fe),has:(L,Q)=>!!dn(L,Q)||O.has(L,Q)}));const Sn="@firebase/installations",Gn="0.6.4",ir=1e4,_r=`w:${Gn}`,ke="FIS_v2",$e="https://firebaseinstallations.googleapis.com/v1",Ye=36e5,Pt=new de.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function jt(O){return O instanceof de.ZR&&O.code.includes("request-failed")}function hn({projectId:O}){return`${$e}/projects/${O}/installations`}function bn(O){return{token:O.token,requestStatus:2,expiresIn:xe(O.expiresIn),creationTime:Date.now()}}function cn(O,L){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,u.Z)(function*(O,L){const fe=(yield L.json()).error;return Pt.create("request-failed",{requestName:O,serverCode:fe.code,serverMessage:fe.message,serverStatus:fe.status})})).apply(this,arguments)}function Zn({apiKey:O}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":O})}function kr(O){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,u.Z)(function*(O){const L=yield O();return L.status>=500&&L.status<600?O():L})).apply(this,arguments)}function xe(O){return Number(O.replace("s","000"))}function yt(){return(yt=(0,u.Z)(function*({appConfig:O,heartbeatServiceProvider:L},{fid:Q}){const fe=hn(O),Ne=Zn(O),Fe=L.getImmediate({optional:!0});if(Fe){const yn=yield Fe.getHeartbeatsHeader();yn&&Ne.append("x-firebase-client",yn)}const Vt={method:"POST",headers:Ne,body:JSON.stringify({fid:Q,authVersion:ke,appId:O.appId,sdkVersion:_r})},Ht=yield kr(()=>fetch(fe,Vt));if(Ht.ok){const yn=yield Ht.json();return{fid:yn.fid||Q,registrationStatus:2,refreshToken:yn.refreshToken,authToken:bn(yn.authToken)}}throw yield cn("Create Installation",Ht)})).apply(this,arguments)}function At(O){return new Promise(L=>{setTimeout(L,O)})}const An=/^[cdef][\w-]{21}$/,sn="";function Kt(){try{const O=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(O),O[0]=112+O[0]%16;const Q=function En(O){return function vr(O){return btoa(String.fromCharCode(...O)).replace(/\+/g,"-").replace(/\//g,"_")}(O).substr(0,22)}(O);return An.test(Q)?Q:sn}catch{return sn}}function Jn(O){return`${O.appName}!${O.appId}`}const Xt=new Map;function Ar(O,L){const Q=Jn(O);ar(Q,L),function Yn(O,L){const Q=function Wn(){return!cr&&"BroadcastChannel"in self&&(cr=new BroadcastChannel("[Firebase] FID Change"),cr.onmessage=O=>{ar(O.data.key,O.data.fid)}),cr}();Q&&Q.postMessage({key:O,fid:L}),function pi(){0===Xt.size&&cr&&(cr.close(),cr=null)}()}(Q,L)}function ar(O,L){const Q=Xt.get(O);if(Q)for(const fe of Q)fe(L)}let cr=null;const Rn="firebase-installations-database",Xn=1,Mr="firebase-installations-store";let gi=null;function tt(){return gi||(gi=function ve(O,L,{blocked:Q,upgrade:fe,blocking:Ne,terminated:Fe}={}){const it=indexedDB.open(O,L),Vt=_t(it);return fe&&it.addEventListener("upgradeneeded",Ht=>{fe(_t(it.result),Ht.oldVersion,Ht.newVersion,_t(it.transaction))}),Q&&it.addEventListener("blocked",()=>Q()),Vt.then(Ht=>{Fe&&Ht.addEventListener("close",()=>Fe()),Ne&&Ht.addEventListener("versionchange",()=>Ne())}).catch(()=>{}),Vt}(Rn,Xn,{upgrade:(O,L)=>{0===L&&O.createObjectStore(Mr)}})),gi}function Se(O,L){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,u.Z)(function*(O,L){const Q=Jn(O),Ne=(yield tt()).transaction(Mr,"readwrite"),Fe=Ne.objectStore(Mr),it=yield Fe.get(Q);return yield Fe.put(L,Q),yield Ne.done,(!it||it.fid!==L.fid)&&Ar(O,L.fid),L})).apply(this,arguments)}function It(O){return qt.apply(this,arguments)}function qt(){return(qt=(0,u.Z)(function*(O){const L=Jn(O),fe=(yield tt()).transaction(Mr,"readwrite");yield fe.objectStore(Mr).delete(L),yield fe.done})).apply(this,arguments)}function Zt(O,L){return qn.apply(this,arguments)}function qn(){return(qn=(0,u.Z)(function*(O,L){const Q=Jn(O),Ne=(yield tt()).transaction(Mr,"readwrite"),Fe=Ne.objectStore(Mr),it=yield Fe.get(Q),Vt=L(it);return void 0===Vt?yield Fe.delete(Q):yield Fe.put(Vt,Q),yield Ne.done,Vt&&(!it||it.fid!==Vt.fid)&&Ar(O,Vt.fid),Vt})).apply(this,arguments)}function Y(O){return U.apply(this,arguments)}function U(){return U=(0,u.Z)(function*(O){let L;const Q=yield Zt(O.appConfig,fe=>{const Ne=function G(O){return ln(O||{fid:Kt(),registrationStatus:0})}(fe),Fe=function q(O,L){if(0===L.registrationStatus){if(!navigator.onLine)return{installationEntry:L,registrationPromise:Promise.reject(Pt.create("app-offline"))};const Q={fid:L.fid,registrationStatus:1,registrationTime:Date.now()},fe=function $(O,L){return be.apply(this,arguments)}(O,Q);return{installationEntry:Q,registrationPromise:fe}}return 1===L.registrationStatus?{installationEntry:L,registrationPromise:qe(O)}:{installationEntry:L}}(O,Ne);return L=Fe.registrationPromise,Fe.installationEntry});return Q.fid===sn?{installationEntry:yield L}:{installationEntry:Q,registrationPromise:L}}),U.apply(this,arguments)}function be(){return be=(0,u.Z)(function*(O,L){try{const Q=yield function at(O,L){return yt.apply(this,arguments)}(O,L);return Se(O.appConfig,Q)}catch(Q){throw jt(Q)&&409===Q.customData.serverCode?yield It(O.appConfig):yield Se(O.appConfig,{fid:L.fid,registrationStatus:0}),Q}}),be.apply(this,arguments)}function qe(O){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,u.Z)(function*(O){let L=yield rn(O.appConfig);for(;1===L.registrationStatus;)yield At(100),L=yield rn(O.appConfig);if(0===L.registrationStatus){const{installationEntry:Q,registrationPromise:fe}=yield Y(O);return fe||Q}return L})).apply(this,arguments)}function rn(O){return Zt(O,L=>{if(!L)throw Pt.create("installation-not-found");return ln(L)})}function ln(O){return function On(O){return 1===O.registrationStatus&&O.registrationTime+ir<Date.now()}(O)?{fid:O.fid,registrationStatus:0}:O}function Ln(){return(Ln=(0,u.Z)(function*({appConfig:O,heartbeatServiceProvider:L},Q){const fe=function pr(O,{fid:L}){return`${hn(O)}/${L}/authTokens:generate`}(O,Q),Ne=function yr(O,{refreshToken:L}){const Q=Zn(O);return Q.append("Authorization",function Re(O){return`${ke} ${O}`}(L)),Q}(O,Q),Fe=L.getImmediate({optional:!0});if(Fe){const yn=yield Fe.getHeartbeatsHeader();yn&&Ne.append("x-firebase-client",yn)}const Vt={method:"POST",headers:Ne,body:JSON.stringify({installation:{sdkVersion:_r,appId:O.appId}})},Ht=yield kr(()=>fetch(fe,Vt));if(Ht.ok)return bn(yield Ht.json());throw yield cn("Generate Auth Token",Ht)})).apply(this,arguments)}function tr(O){return ks.apply(this,arguments)}function ks(){return ks=(0,u.Z)(function*(O,L=!1){let Q;const fe=yield Zt(O.appConfig,Fe=>{if(!Yr(Fe))throw Pt.create("not-registered");const it=Fe.authToken;if(!L&&function da(O){return 2===O.requestStatus&&!function ws(O){const L=Date.now();return L<O.creationTime||O.creationTime+O.expiresIn<L+Ye}(O)}(it))return Fe;if(1===it.requestStatus)return Q=function ua(O,L){return ns.apply(this,arguments)}(O,L),Fe;{if(!navigator.onLine)throw Pt.create("app-offline");const Vt=function Is(O){const L={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},O),{authToken:L})}(Fe);return Q=function Xo(O,L){return wc.apply(this,arguments)}(O,Vt),Vt}});return Q?yield Q:fe.authToken}),ks.apply(this,arguments)}function ns(){return(ns=(0,u.Z)(function*(O,L){let Q=yield uo(O.appConfig);for(;1===Q.authToken.requestStatus;)yield At(100),Q=yield uo(O.appConfig);const fe=Q.authToken;return 0===fe.requestStatus?tr(O,L):fe})).apply(this,arguments)}function uo(O){return Zt(O,L=>{if(!Yr(L))throw Pt.create("not-registered");return function lr(O){return 1===O.requestStatus&&O.requestTime+ir<Date.now()}(L.authToken)?Object.assign(Object.assign({},L),{authToken:{requestStatus:0}}):L})}function wc(){return wc=(0,u.Z)(function*(O,L){try{const Q=yield function Wt(O,L){return Ln.apply(this,arguments)}(O,L),fe=Object.assign(Object.assign({},L),{authToken:Q});return yield Se(O.appConfig,fe),Q}catch(Q){if(!jt(Q)||401!==Q.customData.serverCode&&404!==Q.customData.serverCode){const fe=Object.assign(Object.assign({},L),{authToken:{requestStatus:0}});yield Se(O.appConfig,fe)}else yield It(O.appConfig);throw Q}}),wc.apply(this,arguments)}function Yr(O){return void 0!==O&&2===O.registrationStatus}function hs(){return(hs=(0,u.Z)(function*(O){const L=O,{installationEntry:Q,registrationPromise:fe}=yield Y(L);return fe?fe.catch(console.error):tr(L).catch(console.error),Q.fid})).apply(this,arguments)}function po(){return po=(0,u.Z)(function*(O,L=!1){const Q=O;return yield function Ts(O){return js.apply(this,arguments)}(Q),(yield tr(Q,L)).token}),po.apply(this,arguments)}function js(){return(js=(0,u.Z)(function*(O){const{registrationPromise:L}=yield Y(O);L&&(yield L)})).apply(this,arguments)}function Fs(O){return Pt.create("missing-app-config-values",{valueName:O})}const ha="installations",Es=O=>{const L=O.getProvider("app").getImmediate(),Q=function Pa(O){if(!O||!O.options)throw Fs("App Configuration");if(!O.name)throw Fs("App Name");const L=["projectId","apiKey","appId"];for(const Q of L)if(!O.options[Q])throw Fs(Q);return{appName:O.name,projectId:O.options.projectId,apiKey:O.options.apiKey,appId:O.options.appId}}(L);return{app:L,appConfig:Q,heartbeatServiceProvider:(0,we.qX)(L,"heartbeat"),_delete:()=>Promise.resolve()}},ci=O=>{const L=O.getProvider("app").getImmediate(),Q=(0,we.qX)(L,ha).getImmediate();return{getId:()=>function ho(O){return hs.apply(this,arguments)}(Q),getToken:Ne=>function fo(O){return po.apply(this,arguments)}(Q,Ne)}};(function Ds(){(0,we.Xd)(new he.wA(ha,Es,"PUBLIC")),(0,we.Xd)(new he.wA("installations-internal",ci,"PRIVATE"))})(),(0,we.KN)(Sn,Gn),(0,we.KN)(Sn,Gn,"esm2017");const Ls="@firebase/remote-config",li=new de.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ci{constructor(L,Q,fe,Ne){this.client=L,this.storage=Q,this.storageCache=fe,this.logger=Ne}isCachedDataFresh(L,Q){if(!Q)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const fe=Date.now()-Q,Ne=fe<=L;return this.logger.debug(`Config fetch cache check. Cache age millis: ${fe}. Cache max age millis (minimumFetchIntervalMillis setting): ${L}. Is cache hit: ${Ne}.`),Ne}fetch(L){var Q=this;return(0,u.Z)(function*(){const[fe,Ne]=yield Promise.all([Q.storage.getLastSuccessfulFetchTimestampMillis(),Q.storage.getLastSuccessfulFetchResponse()]);if(Ne&&Q.isCachedDataFresh(L.cacheMaxAgeMillis,fe))return Ne;L.eTag=Ne&&Ne.eTag;const Fe=yield Q.client.fetch(L),it=[Q.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Fe.status&&it.push(Q.storage.setLastSuccessfulFetchResponse(Fe)),yield Promise.all(it),Fe})()}}function Fa(O=navigator){return O.languages&&O.languages[0]||O.language}class Cs{constructor(L,Q,fe,Ne,Fe,it){this.firebaseInstallations=L,this.sdkVersion=Q,this.namespace=fe,this.projectId=Ne,this.apiKey=Fe,this.appId=it}fetch(L){var Q=this;return(0,u.Z)(function*(){const[fe,Ne]=yield Promise.all([Q.firebaseInstallations.getId(),Q.firebaseInstallations.getToken()]),it=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Q.projectId}/namespaces/${Q.namespace}:fetch?key=${Q.apiKey}`,Vt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":L.eTag||"*"},Ht={sdk_version:Q.sdkVersion,app_instance_id:fe,app_instance_id_token:Ne,app_id:Q.appId,language_code:Fa()},yn={method:"POST",headers:Vt,body:JSON.stringify(Ht)},Kn=fetch(it,yn),nr=new Promise((cc,Oc)=>{L.signal.addEventListener(()=>{const ls=new Error("The operation was aborted.");ls.name="AbortError",Oc(ls)})});let ac;try{yield Promise.race([Kn,nr]),ac=yield Kn}catch(cc){let Oc="fetch-client-network";throw"AbortError"===cc?.name&&(Oc="fetch-timeout"),li.create(Oc,{originalErrorMessage:cc?.message})}let eo=ac.status;const Mh=ac.headers.get("ETag")||void 0;let xh,za;if(200===ac.status){let cc;try{cc=yield ac.json()}catch(Oc){throw li.create("fetch-client-parse",{originalErrorMessage:Oc?.message})}xh=cc.entries,za=cc.state}if("INSTANCE_STATE_UNSPECIFIED"===za?eo=500:"NO_CHANGE"===za?eo=304:("NO_TEMPLATE"===za||"EMPTY_CONFIG"===za)&&(xh={}),304!==eo&&200!==eo)throw li.create("fetch-status",{httpStatus:eo});return{status:eo,eTag:Mh,config:xh}})()}}class jn{constructor(L,Q){this.client=L,this.storage=Q}fetch(L){var Q=this;return(0,u.Z)(function*(){const fe=(yield Q.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Q.attemptFetch(L,fe)})()}attemptFetch(L,{throttleEndTimeMillis:Q,backoffCount:fe}){var Ne=this;return(0,u.Z)(function*(){yield function ur(O,L){return new Promise((Q,fe)=>{const Ne=Math.max(L-Date.now(),0),Fe=setTimeout(Q,Ne);O.addEventListener(()=>{clearTimeout(Fe),fe(li.create("fetch-throttle",{throttleEndTimeMillis:L}))})})}(L.signal,Q);try{const Fe=yield Ne.client.fetch(L);return yield Ne.storage.deleteThrottleMetadata(),Fe}catch(Fe){if(!function Lt(O){if(!(O instanceof de.ZR&&O.customData))return!1;const L=Number(O.customData.httpStatus);return 429===L||500===L||503===L||504===L}(Fe))throw Fe;const it={throttleEndTimeMillis:Date.now()+(0,de.$s)(fe),backoffCount:fe+1};return yield Ne.storage.setThrottleMetadata(it),Ne.attemptFetch(L,it)}})()}}class Ws{constructor(L,Q,fe,Ne,Fe){this.app=L,this._client=Q,this._storageCache=fe,this._storage=Ne,this._logger=Fe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ti(O,L){const Q=O.target.error||void 0;return li.create(L,{originalErrorMessage:Q&&Q?.message})}const sr="app_namespace_store";class Pn{constructor(L,Q,fe,Ne=function Ss(){return new Promise((O,L)=>{try{const Q=indexedDB.open("firebase_remote_config",1);Q.onerror=fe=>{L(ti(fe,"storage-open"))},Q.onsuccess=fe=>{O(fe.target.result)},Q.onupgradeneeded=fe=>{0===fe.oldVersion&&fe.target.result.createObjectStore(sr,{keyPath:"compositeKey"})}}catch(Q){L(li.create("storage-open",{originalErrorMessage:Q?.message}))}})}()){this.appId=L,this.appName=Q,this.namespace=fe,this.openDbPromise=Ne}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(L){return this.set("last_fetch_status",L)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(L){return this.set("last_successful_fetch_timestamp_millis",L)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(L){return this.set("last_successful_fetch_response",L)}getActiveConfig(){return this.get("active_config")}setActiveConfig(L){return this.set("active_config",L)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(L){return this.set("active_config_etag",L)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(L){return this.set("throttle_metadata",L)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(L){var Q=this;return(0,u.Z)(function*(){const fe=yield Q.openDbPromise;return new Promise((Ne,Fe)=>{const Vt=fe.transaction([sr],"readonly").objectStore(sr),Ht=Q.createCompositeKey(L);try{const yn=Vt.get(Ht);yn.onerror=Kn=>{Fe(ti(Kn,"storage-get"))},yn.onsuccess=Kn=>{const nr=Kn.target.result;Ne(nr?nr.value:void 0)}}catch(yn){Fe(li.create("storage-get",{originalErrorMessage:yn?.message}))}})})()}set(L,Q){var fe=this;return(0,u.Z)(function*(){const Ne=yield fe.openDbPromise;return new Promise((Fe,it)=>{const Ht=Ne.transaction([sr],"readwrite").objectStore(sr),yn=fe.createCompositeKey(L);try{const Kn=Ht.put({compositeKey:yn,value:Q});Kn.onerror=nr=>{it(ti(nr,"storage-set"))},Kn.onsuccess=()=>{Fe()}}catch(Kn){it(li.create("storage-set",{originalErrorMessage:Kn?.message}))}})})()}delete(L){var Q=this;return(0,u.Z)(function*(){const fe=yield Q.openDbPromise;return new Promise((Ne,Fe)=>{const Vt=fe.transaction([sr],"readwrite").objectStore(sr),Ht=Q.createCompositeKey(L);try{const yn=Vt.delete(Ht);yn.onerror=Kn=>{Fe(ti(Kn,"storage-delete"))},yn.onsuccess=()=>{Ne()}}catch(yn){Fe(li.create("storage-delete",{originalErrorMessage:yn?.message}))}})})()}createCompositeKey(L){return[this.appId,this.appName,this.namespace,L].join()}}class _o{constructor(L){this.storage=L}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var L=this;return(0,u.Z)(function*(){const Q=L.storage.getLastFetchStatus(),fe=L.storage.getLastSuccessfulFetchTimestampMillis(),Ne=L.storage.getActiveConfig(),Fe=yield Q;Fe&&(L.lastFetchStatus=Fe);const it=yield fe;it&&(L.lastSuccessfulFetchTimestampMillis=it);const Vt=yield Ne;Vt&&(L.activeConfig=Vt)})()}setLastFetchStatus(L){return this.lastFetchStatus=L,this.storage.setLastFetchStatus(L)}setLastSuccessfulFetchTimestampMillis(L){return this.lastSuccessfulFetchTimestampMillis=L,this.storage.setLastSuccessfulFetchTimestampMillis(L)}setActiveConfig(L){return this.activeConfig=L,this.storage.setActiveConfig(L)}}function gs(){return As.apply(this,arguments)}function As(){return(As=(0,u.Z)(function*(){if(!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch{return!1}})).apply(this,arguments)}!function La(){(0,we.Xd)(new he.wA("remote-config",function O(L,{instanceIdentifier:Q}){const fe=L.getProvider("app").getImmediate(),Ne=L.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw li.create("registration-window");if(!(0,de.hl)())throw li.create("indexed-db-unavailable");const{projectId:Fe,apiKey:it,appId:Vt}=fe.options;if(!Fe)throw li.create("registration-project-id");if(!it)throw li.create("registration-api-key");if(!Vt)throw li.create("registration-app-id");const Ht=new Pn(Vt,fe.name,Q=Q||"firebase"),yn=new _o(Ht),Kn=new Te.Yd(Ls);Kn.logLevel=Te.in.ERROR;const nr=new Cs(Ne,we.Jn,Q,Fe,it,Vt),ac=new jn(nr,Ht),eo=new Ci(ac,Ht,yn,Kn),Mh=new Ws(fe,eo,yn,Ht,Kn);return function ea(O){const L=(0,de.m9)(O);L._initializePromise||(L._initializePromise=L._storageCache.loadFromStorage().then(()=>{L._isInitializationComplete=!0}))}(Mh),Mh},"PUBLIC").setMultipleInstances(!0)),(0,we.KN)(Ls,"0.4.4"),(0,we.KN)(Ls,"0.4.4","esm2017")}();const di=(O,L)=>L.some(Q=>O instanceof Q);let ko,jc;const Zs=new WeakMap,Fo=new WeakMap,$n=new WeakMap,iu=new WeakMap,Lo=new WeakMap;let Ks={get(O,L,Q){if(O instanceof IDBTransaction){if("done"===L)return Fo.get(O);if("objectStoreNames"===L)return O.objectStoreNames||$n.get(O);if("store"===L)return Q.objectStoreNames[1]?void 0:Q.objectStore(Q.objectStoreNames[0])}return qr(O[L])},set:(O,L,Q)=>(O[L]=Q,!0),has:(O,L)=>O instanceof IDBTransaction&&("done"===L||"store"===L)||L in O};function Fr(O){return"function"==typeof O?function Bo(O){return O!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ki(){return jc||(jc=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(O)?function(...L){return O.apply(Gr(this),L),qr(Zs.get(this))}:function(...L){return qr(O.apply(Gr(this),L))}:function(L,...Q){const fe=O.call(Gr(this),L,...Q);return $n.set(fe,L.sort?L.sort():[L]),qr(fe)}}(O):(O instanceof IDBTransaction&&function Si(O){if(Fo.has(O))return;const L=new Promise((Q,fe)=>{const Ne=()=>{O.removeEventListener("complete",Fe),O.removeEventListener("error",it),O.removeEventListener("abort",it)},Fe=()=>{Q(),Ne()},it=()=>{fe(O.error||new DOMException("AbortError","AbortError")),Ne()};O.addEventListener("complete",Fe),O.addEventListener("error",it),O.addEventListener("abort",it)});Fo.set(O,L)}(O),di(O,function qs(){return ko||(ko=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(O,Ks):O)}function qr(O){if(O instanceof IDBRequest)return function Ii(O){const L=new Promise((Q,fe)=>{const Ne=()=>{O.removeEventListener("success",Fe),O.removeEventListener("error",it)},Fe=()=>{Q(qr(O.result)),Ne()},it=()=>{fe(O.error),Ne()};O.addEventListener("success",Fe),O.addEventListener("error",it)});return L.then(Q=>{Q instanceof IDBCursor&&Zs.set(Q,O)}).catch(()=>{}),Lo.set(L,O),L}(O);if(iu.has(O))return iu.get(O);const L=Fr(O);return L!==O&&(iu.set(O,L),Lo.set(L,O)),L}const Gr=O=>Lo.get(O);function ji(O,L,{blocked:Q,upgrade:fe,blocking:Ne,terminated:Fe}={}){const it=indexedDB.open(O,L),Vt=qr(it);return fe&&it.addEventListener("upgradeneeded",Ht=>{fe(qr(it.result),Ht.oldVersion,Ht.newVersion,qr(it.transaction))}),Q&&it.addEventListener("blocked",()=>Q()),Vt.then(Ht=>{Fe&&Ht.addEventListener("close",()=>Fe()),Ne&&Ht.addEventListener("versionchange",()=>Ne())}).catch(()=>{}),Vt}function ta(O,{blocked:L}={}){const Q=indexedDB.deleteDatabase(O);return L&&Q.addEventListener("blocked",()=>L()),qr(Q).then(()=>{})}const Ys=["get","getKey","getAll","getAllKeys","count"],yo=["put","add","delete","clear"],yi=new Map;function Ai(O,L){if(!(O instanceof IDBDatabase)||L in O||"string"!=typeof L)return;if(yi.get(L))return yi.get(L);const Q=L.replace(/FromIndex$/,""),fe=L!==Q,Ne=yo.includes(Q);if(!(Q in(fe?IDBIndex:IDBObjectStore).prototype)||!Ne&&!Ys.includes(Q))return;const Fe=function(){var it=(0,u.Z)(function*(Vt,...Ht){const yn=this.transaction(Vt,Ne?"readwrite":"readonly");let Kn=yn.store;return fe&&(Kn=Kn.index(Ht.shift())),(yield Promise.all([Kn[Q](...Ht),Ne&&yn.done]))[0]});return function(Ht){return it.apply(this,arguments)}}();return yi.set(L,Fe),Fe}!function Xa(O){Ks=O(Ks)}(O=>({...O,get:(L,Q,fe)=>Ai(L,Q)||O.get(L,Q,fe),has:(L,Q)=>!!Ai(L,Q)||O.has(L,Q)}));const Ba="/firebase-messaging-sw.js",na="/firebase-cloud-messaging-push-scope",ga="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ua="https://fcmregistrations.googleapis.com/v1",Xr="google.c.a.c_id",ra="google.c.a.c_l",Va="google.c.a.ts";var B=function(O){return O.PUSH_RECEIVED="push-received",O.NOTIFICATION_CLICKED="notification-clicked",O}(B||{});function ae(O){const L=new Uint8Array(O);return btoa(String.fromCharCode(...L)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ee(O){const Q=(O+"=".repeat((4-O.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),fe=atob(Q),Ne=new Uint8Array(fe.length);for(let Fe=0;Fe<fe.length;++Fe)Ne[Fe]=fe.charCodeAt(Fe);return Ne}const Yt="fcm_token_details_db",Hn=5,Yi="fcm_token_object_Store";function $i(){return $i=(0,u.Z)(function*(O){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Fe=>Fe.name).includes(Yt))return null;let L=null;return(yield ji(Yt,Hn,{upgrade:(fe=(0,u.Z)(function*(Ne,Fe,it,Vt){var Ht;if(Fe<2||!Ne.objectStoreNames.contains(Yi))return;const yn=Vt.objectStore(Yi),Kn=yield yn.index("fcmSenderId").get(O);if(yield yn.clear(),Kn)if(2===Fe){const nr=Kn;if(!nr.auth||!nr.p256dh||!nr.endpoint)return;L={token:nr.fcmToken,createTime:null!==(Ht=nr.createTime)&&void 0!==Ht?Ht:Date.now(),subscriptionOptions:{auth:nr.auth,p256dh:nr.p256dh,endpoint:nr.endpoint,swScope:nr.swScope,vapidKey:"string"==typeof nr.vapidKey?nr.vapidKey:ae(nr.vapidKey)}}}else if(3===Fe){const nr=Kn;L={token:nr.fcmToken,createTime:nr.createTime,subscriptionOptions:{auth:ae(nr.auth),p256dh:ae(nr.p256dh),endpoint:nr.endpoint,swScope:nr.swScope,vapidKey:ae(nr.vapidKey)}}}else if(4===Fe){const nr=Kn;L={token:nr.fcmToken,createTime:nr.createTime,subscriptionOptions:{auth:ae(nr.auth),p256dh:ae(nr.p256dh),endpoint:nr.endpoint,swScope:nr.swScope,vapidKey:ae(nr.vapidKey)}}}}),function(Fe,it,Vt,Ht){return fe.apply(this,arguments)})})).close(),yield ta(Yt),yield ta("fcm_vapid_details_db"),yield ta("undefined"),function Ti(O){if(!O||!O.subscriptionOptions)return!1;const{subscriptionOptions:L}=O;return"number"==typeof O.createTime&&O.createTime>0&&"string"==typeof O.token&&O.token.length>0&&"string"==typeof L.auth&&L.auth.length>0&&"string"==typeof L.p256dh&&L.p256dh.length>0&&"string"==typeof L.endpoint&&L.endpoint.length>0&&"string"==typeof L.swScope&&L.swScope.length>0&&"string"==typeof L.vapidKey&&L.vapidKey.length>0}(L)?L:null;var fe}),$i.apply(this,arguments)}const $c="firebase-messaging-database",Uo=1,ma="firebase-messaging-store";let zc=null;function Ha(){return zc||(zc=ji($c,Uo,{upgrade:(O,L)=>{0===L&&O.createObjectStore(ma)}})),zc}function ms(O){return dl.apply(this,arguments)}function dl(){return dl=(0,u.Z)(function*(O){const L=Vo(O),fe=yield(yield Ha()).transaction(ma).objectStore(ma).get(L);if(fe)return fe;{const Ne=yield function vo(O){return $i.apply(this,arguments)}(O.appConfig.senderId);if(Ne)return yield Ic(O,Ne),Ne}}),dl.apply(this,arguments)}function Ic(O,L){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,u.Z)(function*(O,L){const Q=Vo(O),Ne=(yield Ha()).transaction(ma,"readwrite");return yield Ne.objectStore(ma).put(L,Q),yield Ne.done,L})).apply(this,arguments)}function ss(){return(ss=(0,u.Z)(function*(O){const L=Vo(O),fe=(yield Ha()).transaction(ma,"readwrite");yield fe.objectStore(ma).delete(L),yield fe.done})).apply(this,arguments)}function Vo({appConfig:O}){return O.appId}const hi=new de.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function fl(O,L){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,u.Z)(function*(O,L){const Q=yield Ei(O),fe=Li(L),Ne={method:"POST",headers:Q,body:JSON.stringify(fe)};let Fe;try{Fe=yield(yield fetch(Ec(O.appConfig),Ne)).json()}catch(it){throw hi.create("token-subscribe-failed",{errorInfo:it?.toString()})}if(Fe.error)throw hi.create("token-subscribe-failed",{errorInfo:Fe.error.message});if(!Fe.token)throw hi.create("token-subscribe-no-token");return Fe.token})).apply(this,arguments)}function bo(){return(bo=(0,u.Z)(function*(O,L){const Q=yield Ei(O),fe=Li(L.subscriptionOptions),Ne={method:"PATCH",headers:Q,body:JSON.stringify(fe)};let Fe;try{Fe=yield(yield fetch(`${Ec(O.appConfig)}/${L.token}`,Ne)).json()}catch(it){throw hi.create("token-update-failed",{errorInfo:it?.toString()})}if(Fe.error)throw hi.create("token-update-failed",{errorInfo:Fe.error.message});if(!Fe.token)throw hi.create("token-update-no-token");return Fe.token})).apply(this,arguments)}function Bs(O,L){return _a.apply(this,arguments)}function _a(){return(_a=(0,u.Z)(function*(O,L){const fe={method:"DELETE",headers:yield Ei(O)};try{const Fe=yield(yield fetch(`${Ec(O.appConfig)}/${L}`,fe)).json();if(Fe.error)throw hi.create("token-unsubscribe-failed",{errorInfo:Fe.error.message})}catch(Ne){throw hi.create("token-unsubscribe-failed",{errorInfo:Ne?.toString()})}})).apply(this,arguments)}function Ec({projectId:O}){return`${Ua}/projects/${O}/registrations`}function Ei(O){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,u.Z)(function*({appConfig:O,installations:L}){const Q=yield L.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":O.apiKey,"x-goog-firebase-installations-auth":`FIS ${Q}`})})).apply(this,arguments)}function Li({p256dh:O,auth:L,endpoint:Q,vapidKey:fe}){const Ne={web:{endpoint:Q,auth:L,p256dh:O}};return fe!==ga&&(Ne.web.applicationPubKey=fe),Ne}const os=6048e5;function ya(){return ya=(0,u.Z)(function*(O){const L=yield function Qs(O,L){return au.apply(this,arguments)}(O.swRegistration,O.vapidKey),Q={vapidKey:O.vapidKey,swScope:O.swRegistration.scope,endpoint:L.endpoint,auth:ae(L.getKey("auth")),p256dh:ae(L.getKey("p256dh"))},fe=yield ms(O.firebaseDependencies);if(fe){if(function M(O,L){return L.vapidKey===O.vapidKey&&L.endpoint===O.endpoint&&L.auth===O.auth&&L.p256dh===O.p256dh}(fe.subscriptionOptions,Q))return Date.now()>=fe.createTime+os?function su(O,L){return ou.apply(this,arguments)}(O,{token:fe.token,createTime:Date.now(),subscriptionOptions:Q}):fe.token;try{yield Bs(O.firebaseDependencies,fe.token)}catch(Ne){console.warn(Ne)}return Dc(O.firebaseDependencies,Q)}return Dc(O.firebaseDependencies,Q)}),ya.apply(this,arguments)}function tc(){return tc=(0,u.Z)(function*(O){const L=yield ms(O.firebaseDependencies);L&&(yield Bs(O.firebaseDependencies,L.token),yield function ia(O){return ss.apply(this,arguments)}(O.firebaseDependencies));const Q=yield O.swRegistration.pushManager.getSubscription();return!Q||Q.unsubscribe()}),tc.apply(this,arguments)}function ou(){return ou=(0,u.Z)(function*(O,L){try{const Q=yield function wd(O,L){return bo.apply(this,arguments)}(O.firebaseDependencies,L),fe=Object.assign(Object.assign({},L),{token:Q,createTime:Date.now()});return yield Ic(O.firebaseDependencies,fe),Q}catch(Q){throw yield function ec(O){return tc.apply(this,arguments)}(O),Q}}),ou.apply(this,arguments)}function Dc(O,L){return Wc.apply(this,arguments)}function Wc(){return(Wc=(0,u.Z)(function*(O,L){const fe={token:yield fl(O,L),createTime:Date.now(),subscriptionOptions:L};return yield Ic(O,fe),fe.token})).apply(this,arguments)}function au(){return(au=(0,u.Z)(function*(O,L){return(yield O.pushManager.getSubscription())||O.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ee(L)})})).apply(this,arguments)}function re(O){const L={from:O.from,collapseKey:O.collapse_key,messageId:O.fcmMessageId};return function V(O,L){if(!L.notification)return;O.notification={};const Q=L.notification.title;Q&&(O.notification.title=Q);const fe=L.notification.body;fe&&(O.notification.body=fe);const Ne=L.notification.image;Ne&&(O.notification.image=Ne);const Fe=L.notification.icon;Fe&&(O.notification.icon=Fe)}(L,O),function ee(O,L){L.data&&(O.data=L.data)}(L,O),function ye(O,L){var Q,fe,Ne,Fe,it;if(!(L.fcmOptions||null!==(Q=L.notification)&&void 0!==Q&&Q.click_action))return;O.fcmOptions={};const Vt=null!==(Ne=null===(fe=L.fcmOptions)||void 0===fe?void 0:fe.link)&&void 0!==Ne?Ne:null===(Fe=L.notification)||void 0===Fe?void 0:Fe.click_action;Vt&&(O.fcmOptions.link=Vt);const Ht=null===(it=L.fcmOptions)||void 0===it?void 0:it.analytics_label;Ht&&(O.fcmOptions.analyticsLabel=Ht)}(L,O),L}function pt(O,L){const Q=[];for(let fe=0;fe<O.length;fe++)Q.push(O.charAt(fe)),fe<L.length&&Q.push(L.charAt(fe));return Q.join("")}function xr(O){return hi.create("missing-app-config-values",{valueName:O})}pt("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),pt("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class jr{constructor(L,Q,fe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ne=function _n(O){if(!O||!O.options)throw xr("App Configuration Object");if(!O.name)throw xr("App Name");const L=["projectId","apiKey","appId","messagingSenderId"],{options:Q}=O;for(const fe of L)if(!Q[fe])throw xr(fe);return{appName:O.name,projectId:Q.projectId,apiKey:Q.apiKey,appId:Q.appId,senderId:Q.messagingSenderId}}(L);this.firebaseDependencies={app:L,appConfig:Ne,installations:Q,analyticsProvider:fe}}_delete(){return Promise.resolve()}}function Bn(){return(Bn=(0,u.Z)(function*(O){try{O.swRegistration=yield navigator.serviceWorker.register(Ba,{scope:na}),O.swRegistration.update().catch(()=>{})}catch(L){throw hi.create("failed-service-worker-registration",{browserErrorMessage:L?.message})}})).apply(this,arguments)}function $r(){return($r=(0,u.Z)(function*(O,L){if(!L&&!O.swRegistration&&(yield function zn(O){return Bn.apply(this,arguments)}(O)),L||!O.swRegistration){if(!(L instanceof ServiceWorkerRegistration))throw hi.create("invalid-sw-registration");O.swRegistration=L}})).apply(this,arguments)}function Bi(){return(Bi=(0,u.Z)(function*(O,L){L?O.vapidKey=L:O.vapidKey||(O.vapidKey=ga)})).apply(this,arguments)}function Ni(){return Ni=(0,u.Z)(function*(O,L){if(!navigator)throw hi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw hi.create("permission-blocked");return yield function Zr(O,L){return Bi.apply(this,arguments)}(O,L?.vapidKey),yield function Ir(O,L){return $r.apply(this,arguments)}(O,L?.serviceWorkerRegistration),function Ga(O){return ya.apply(this,arguments)}(O)}),Ni.apply(this,arguments)}function Ho(){return(Ho=(0,u.Z)(function*(O,L,Q){const fe=function Js(O){switch(O){case B.NOTIFICATION_CLICKED:return"notification_open";case B.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(L);(yield O.firebaseDependencies.analyticsProvider.get()).logEvent(fe,{message_id:Q[Xr],message_name:Q[ra],message_time:Q[Va],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function nc(){return nc=(0,u.Z)(function*(O,L){const Q=L.data;if(!Q.isFirebaseMessaging)return;O.onMessageHandler&&Q.messageType===B.PUSH_RECEIVED&&("function"==typeof O.onMessageHandler?O.onMessageHandler(re(Q)):O.onMessageHandler.next(re(Q)));const fe=Q.data;(function Qe(O){return"object"==typeof O&&!!O&&Xr in O})(fe)&&"1"===fe["google.c.a.e"]&&(yield function _s(O,L,Q){return Ho.apply(this,arguments)}(O,Q.messageType,fe))}),nc.apply(this,arguments)}const Id="@firebase/messaging",rc=O=>{const L=new jr(O.getProvider("app").getImmediate(),O.getProvider("installations-internal").getImmediate(),O.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Q=>function ja(O,L){return nc.apply(this,arguments)}(L,Q)),L},Xs=O=>{const L=O.getProvider("messaging").getImmediate();return{getToken:fe=>function Qi(O,L){return Ni.apply(this,arguments)}(L,fe)}};function qc(){return pl.apply(this,arguments)}function pl(){return(pl=(0,u.Z)(function*(){try{yield(0,de.eu)()}catch{return!1}return typeof window<"u"&&(0,de.hl)()&&(0,de.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ni(){(0,we.Xd)(new he.wA("messaging",rc,"PUBLIC")),(0,we.Xd)(new he.wA("messaging-internal",Xs,"PRIVATE")),(0,we.KN)(Id,"0.12.4"),(0,we.KN)(Id,"0.12.4","esm2017")}();const va="analytics",Wu="firebase_id",Ih="origin",ei=6e4,Sc="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ac="https://www.googletagmanager.com/gtag/js",as=new Te.Yd("@firebase/analytics"),vs=new de.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Th(O){if(!O.startsWith(Ac)){const L=vs.create("invalid-gtag-resource",{gtagURL:O});return as.warn(L.message),""}return O}function qu(O){return Promise.all(O.map(L=>L.catch(Q=>Q)))}function wa(){return(wa=(0,u.Z)(function*(O,L,Q,fe,Ne,Fe){const it=fe[Ne];try{if(it)yield L[it];else{const Ht=(yield qu(Q)).find(yn=>yn.measurementId===Ne);Ht&&(yield L[Ht.appId])}}catch(Vt){as.error(Vt)}O("config",Ne,Fe)})).apply(this,arguments)}function Fl(){return(Fl=(0,u.Z)(function*(O,L,Q,fe,Ne){try{let Fe=[];if(Ne&&Ne.send_to){let it=Ne.send_to;Array.isArray(it)||(it=[it]);const Vt=yield qu(Q);for(const Ht of it){const yn=Vt.find(nr=>nr.measurementId===Ht),Kn=yn&&L[yn.appId];if(!Kn){Fe=[];break}Fe.push(Kn)}}0===Fe.length&&(Fe=Object.values(L)),yield Promise.all(Fe),O("event",fe,Ne||{})}catch(Fe){as.error(Fe)}})).apply(this,arguments)}const Tr=30,cs=new class Ed{constructor(L={},Q=1e3){this.throttleMetadata=L,this.intervalMillis=Q}getThrottleMetadata(L){return this.throttleMetadata[L]}setThrottleMetadata(L,Q){this.throttleMetadata[L]=Q}deleteThrottleMetadata(L){delete this.throttleMetadata[L]}};function Ku(O){return new Headers({Accept:"application/json","x-goog-api-key":O})}function Io(){return(Io=(0,u.Z)(function*(O){var L;const{appId:Q,apiKey:fe}=O,Ne={method:"GET",headers:Ku(fe)},Fe=Sc.replace("{app-id}",Q),it=yield fetch(Fe,Ne);if(200!==it.status&&304!==it.status){let Vt="";try{const Ht=yield it.json();null!==(L=Ht.error)&&void 0!==L&&L.message&&(Vt=Ht.error.message)}catch{}throw vs.create("config-fetch-failed",{httpStatus:it.status,responseMessage:Vt})}return it.json()})).apply(this,arguments)}function ic(){return(ic=(0,u.Z)(function*(O,L=cs,Q){const{appId:fe,apiKey:Ne,measurementId:Fe}=O.options;if(!fe)throw vs.create("no-app-id");if(!Ne){if(Fe)return{measurementId:Fe,appId:fe};throw vs.create("no-api-key")}const it=L.getThrottleMetadata(fe)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Vt=new Go;return setTimeout((0,u.Z)(function*(){Vt.abort()}),void 0!==Q?Q:ei),du({appId:fe,apiKey:Ne,measurementId:Fe},it,Vt,L)})).apply(this,arguments)}function du(O,L,Q){return Zc.apply(this,arguments)}function Zc(){return Zc=(0,u.Z)(function*(O,{throttleEndTimeMillis:L,backoffCount:Q},fe,Ne=cs){var Fe;const{appId:it,measurementId:Vt}=O;try{yield function $a(O,L){return new Promise((Q,fe)=>{const Ne=Math.max(L-Date.now(),0),Fe=setTimeout(Q,Ne);O.addEventListener(()=>{clearTimeout(Fe),fe(vs.create("fetch-throttle",{throttleEndTimeMillis:L}))})})}(fe,L)}catch(Ht){if(Vt)return as.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Vt} provided in the "measurementId" field in the local Firebase config. [${Ht?.message}]`),{appId:it,measurementId:Vt};throw Ht}try{const Ht=yield function ml(O){return Io.apply(this,arguments)}(O);return Ne.deleteThrottleMetadata(it),Ht}catch(Ht){const yn=Ht;if(!function Os(O){if(!(O instanceof de.ZR&&O.customData))return!1;const L=Number(O.customData.httpStatus);return 429===L||500===L||503===L||504===L}(yn)){if(Ne.deleteThrottleMetadata(it),Vt)return as.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Vt} provided in the "measurementId" field in the local Firebase config. [${yn?.message}]`),{appId:it,measurementId:Vt};throw Ht}const Kn=503===Number(null===(Fe=yn?.customData)||void 0===Fe?void 0:Fe.httpStatus)?(0,de.$s)(Q,Ne.intervalMillis,Tr):(0,de.$s)(Q,Ne.intervalMillis),nr={throttleEndTimeMillis:Date.now()+Kn,backoffCount:Q+1};return Ne.setThrottleMetadata(it,nr),as.debug(`Calling attemptFetch again in ${Kn} millis`),du(O,nr,fe,Ne)}}),Zc.apply(this,arguments)}class Go{constructor(){this.listeners=[]}addEventListener(L){this.listeners.push(L)}abort(){this.listeners.forEach(L=>L())}}let Ll,_e;function Ia(){return(Ia=(0,u.Z)(function*(O,L,Q,fe,Ne){if(Ne&&Ne.global)O("event",Q,fe);else{const Fe=yield L;O("event",Q,Object.assign(Object.assign({},fe),{send_to:Fe}))}})).apply(this,arguments)}function Un(){return(Un=(0,u.Z)(function*(){if(!(0,de.hl)())return as.warn(vs.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,de.eu)()}catch(O){return as.warn(vs.create("indexeddb-unavailable",{errorInfo:O?.toString()}).message),!1}return!0})).apply(this,arguments)}function gr(){return gr=(0,u.Z)(function*(O,L,Q,fe,Ne,Fe,it){var Vt;const Ht=function uu(O){return ic.apply(this,arguments)}(O);Ht.then(eo=>{Q[eo.measurementId]=eo.appId,O.options.measurementId&&eo.measurementId!==O.options.measurementId&&as.warn(`The measurement ID in the local Firebase config (${O.options.measurementId}) does not match the measurement ID fetched from the server (${eo.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(eo=>as.error(eo)),L.push(Ht);const yn=function zt(){return Un.apply(this,arguments)}().then(eo=>{if(eo)return fe.getId()}),[Kn,nr]=yield Promise.all([Ht,yn]);(function dt(O){const L=window.document.getElementsByTagName("script");for(const Q of Object.values(L))if(Q.src&&Q.src.includes(Ac)&&Q.src.includes(O))return Q;return null})(Fe)||function Pl(O,L){const Q=function Eh(O,L){let Q;return window.trustedTypes&&(Q=window.trustedTypes.createPolicy(O,L)),Q}("firebase-js-sdk-policy",{createScriptURL:Th}),fe=document.createElement("script"),Ne=`${Ac}?l=${O}&id=${L}`;fe.src=Q?Q?.createScriptURL(Ne):Ne,fe.async=!0,document.head.appendChild(fe)}(Fe,Kn.measurementId),_e&&(Ne("consent","default",_e),function ze(O){_e=O}(void 0)),Ne("js",new Date);const ac=null!==(Vt=it?.config)&&void 0!==Vt?Vt:{};return ac[Ih]="firebase",ac.update=!0,null!=nr&&(ac[Wu]=nr),Ne("config",Kn.measurementId,ac),Ll&&(Ne("set",Ll),function He(O){Ll=O}(void 0)),Kn.measurementId}),gr.apply(this,arguments)}class sc{constructor(L){this.app=L}_delete(){return delete zr[this.app.options.appId],Promise.resolve()}}let zr={},sa=[];const Rr={};let Ch,Ta,$o="dataLayer",Ju=!1;function Kc(O,L,Q){!function Rf(){const O=[];if((0,de.ru)()&&O.push("This is a browser extension environment."),(0,de.zI)()||O.push("Cookies are not available."),O.length>0){const L=O.map((fe,Ne)=>`(${Ne+1}) ${fe}`).join(" "),Q=vs.create("invalid-analytics-context",{errorInfo:L});as.warn(Q.message)}}();const fe=O.options.appId;if(!fe)throw vs.create("no-app-id");if(!O.options.apiKey){if(!O.options.measurementId)throw vs.create("no-api-key");as.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${O.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=zr[fe])throw vs.create("already-exists",{id:fe});if(!Ju){!function kl(O){let L=[];Array.isArray(window[O])?L=window[O]:window[O]=L}($o);const{wrappedGtag:Fe,gtagCore:it}=function lu(O,L,Q,fe,Ne){let Fe=function(...it){window[fe].push(arguments)};return window[Ne]&&"function"==typeof window[Ne]&&(Fe=window[Ne]),window[Ne]=function cu(O,L,Q,fe){function Fe(){return Fe=(0,u.Z)(function*(it,...Vt){try{if("event"===it){const[Ht,yn]=Vt;yield function Td(O,L,Q,fe,Ne){return Fl.apply(this,arguments)}(O,L,Q,Ht,yn)}else if("config"===it){const[Ht,yn]=Vt;yield function ba(O,L,Q,fe,Ne,Fe){return wa.apply(this,arguments)}(O,L,Q,fe,Ht,yn)}else if("consent"===it){const[Ht]=Vt;O("consent","update",Ht)}else if("get"===it){const[Ht,yn,Kn]=Vt;O("get",Ht,yn,Kn)}else if("set"===it){const[Ht]=Vt;O("set",Ht)}else O(it,...Vt)}catch(Ht){as.error(Ht)}}),Fe.apply(this,arguments)}return function Ne(it){return Fe.apply(this,arguments)}}(Fe,O,L,Q),{gtagCore:Fe,wrappedGtag:window[Ne]}}(zr,sa,Rr,$o,"gtag");Ta=Fe,Ch=it,Ju=!0}return zr[fe]=function Or(O,L,Q,fe,Ne,Fe,it){return gr.apply(this,arguments)}(O,sa,Rr,L,Ch,$o,Q),new sc(O)}function Yc(){return _l.apply(this,arguments)}function _l(){return(_l=(0,u.Z)(function*(){if((0,de.ru)()||!(0,de.zI)()||!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch{return!1}})).apply(this,arguments)}const ag="@firebase/analytics";!function kf(){(0,we.Xd)(new he.wA(va,(L,{options:Q})=>Kc(L.getProvider("app").getImmediate(),L.getProvider("installations-internal").getImmediate(),Q),"PUBLIC")),(0,we.Xd)(new he.wA("analytics-internal",function O(L){try{const Q=L.getProvider(va).getImmediate();return{logEvent:(fe,Ne,Fe)=>function Nh(O,L,Q,fe){O=(0,de.m9)(O),function jo(O,L,Q,fe,Ne){return Ia.apply(this,arguments)}(Ta,zr[O.app.options.appId],L,Q,fe).catch(Ne=>as.error(Ne))}(Q,fe,Ne,Fe)}}catch(Q){throw vs.create("interop-component-reg-failed",{reason:Q})}},"PRIVATE")),(0,we.KN)(ag,"0.10.0"),(0,we.KN)(ag,"0.10.0","esm2017")}();var Ad=K(1954),pu=K(9931);const Oh=new class Vl extends pu.v{}(class uv extends Ad.o{constructor(L,Q){super(L,Q),this.scheduler=L,this.work=Q}schedule(L,Q=0){return Q>0?super.schedule(L,Q):(this.delay=Q,this.state=L,this.scheduler.flush(this),this)}execute(L,Q){return Q>0||this.closed?super.execute(L,Q):this._execute(L,Q)}requestAsyncId(L,Q,fe=0){return null!=fe&&fe>0||null==fe&&this.delay>0?super.requestAsyncId(L,Q,fe):(L.flush(this),0)}});var gu=K(6321),Qc=K(5592),cg=K(9397),mu=K(5137),ed=K(3093);const _u=new b.GfV("7.6.1"),To="__angularfire_symbol__analyticsIsSupportedValue",yu="__angularfire_symbol__analyticsIsSupported",vl="__angularfire_symbol__remoteConfigIsSupportedValue",Jc="__angularfire_symbol__remoteConfigIsSupported",vu="__angularfire_symbol__messagingIsSupportedValue",bu="__angularfire_symbol__messagingIsSupported";function jl(O,L,Q){if(L){if(1===L.length)return L[0];const Fe=L.filter(it=>it.app===Q);if(1===Fe.length)return Fe[0]}return Q.container.getProvider(O).getImmediate({optional:!0})}globalThis[yu]||(globalThis[yu]=Yc().then(O=>globalThis[To]=O).catch(()=>globalThis[To]=!1)),globalThis[bu]||(globalThis[bu]=qc().then(O=>globalThis[vu]=O).catch(()=>globalThis[vu]=!1)),globalThis[Jc]||(globalThis[Jc]=gs().then(O=>globalThis[vl]=O).catch(()=>globalThis[vl]=!1));const Lf=(O,L)=>{const Q=L?[L]:(0,oe.C6)(),fe=[];return Q.forEach(Ne=>{Ne.container.getProvider(O).instances.forEach(it=>{fe.includes(it)||fe.push(it)})}),fe};function $l(){}class bl{constructor(L,Q=Oh){this.zone=L,this.delegate=Q}now(){return this.delegate.now()}schedule(L,Q,fe){const Ne=this.zone;return this.delegate.schedule(function(it){Ne.runGuarded(()=>{L.apply(this,[it])})},Q,fe)}}class Xc{constructor(L){this.zone=L,this.task=null}call(L,Q){const fe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$l,{},$l,$l)),Q.pipe((0,cg.b)({next:fe,complete:fe,error:fe})).subscribe(L).add(fe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Od=(()=>{class O{constructor(Q){this.ngZone=Q,this.outsideAngular=Q.runOutsideAngular(()=>new bl(Zone.current)),this.insideAngular=Q.run(()=>new bl(Zone.current,gu.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return O.\u0275fac=function(Q){return new(Q||O)(b.LFG(b.R0b))},O.\u0275prov=b.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})();function Nc(){const O=globalThis.\u0275AngularFireScheduler;if(!O)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return O}function Ea(O){return Nc().ngZone.run(()=>O())}function Bf(O){return Nc(),function Tu(O){return function(Q){return(Q=Q.lift(new Xc(O.ngZone))).pipe((0,mu.R)(O.outsideAngular),(0,ed.Q)(O.insideAngular))}}(Nc())(O)}const td=(O,L)=>function(){const fe=arguments;return L&&setTimeout(()=>{"scheduled"===L.state&&L.invoke()},10),Ea(()=>O.apply(void 0,fe))},Uf=(O,L)=>function(){let Q;const fe=arguments;for(let Fe=0;Fe<arguments.length;Fe++)"function"==typeof fe[Fe]&&(L&&(Q||(Q=Ea(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$l,{},$l,$l)))),fe[Fe]=td(fe[Fe],Q));const Ne=function wu(O){return Nc().ngZone.runOutsideAngular(()=>O())}(()=>O.apply(this,fe));if(!L){if(Ne instanceof Qc.y){const Fe=Nc();return Ne.pipe((0,mu.R)(Fe.outsideAngular),(0,ed.Q)(Fe.insideAngular))}return Ea(()=>Ne)}return Ne instanceof Qc.y?Ne.pipe(Bf):Ne instanceof Promise?Ea(()=>new Promise((Fe,it)=>Ne.then(Vt=>Ea(()=>Fe(Vt)),Vt=>Ea(()=>it(Vt))))):"function"==typeof Ne&&Q?function(){return setTimeout(()=>{Q&&"scheduled"===Q.state&&Q.invoke()},10),Ne.apply(this,arguments)}:Ea(()=>Ne)}},229:(Bt,Ge,K)=>{K.d(Ge,{$s:()=>It,BH:()=>vt,L:()=>Ie,LL:()=>bt,P0:()=>Rt,Pz:()=>ot,Sg:()=>_t,US:()=>he,ZR:()=>nt,aH:()=>mt,b$:()=>ut,eu:()=>$e,hl:()=>ke,m9:()=>qn,ne:()=>Jn,ru:()=>Fn,tV:()=>ne,uI:()=>ve,vZ:()=>yt,xO:()=>An,z$:()=>je,zI:()=>Ye});const we=function(Y){const U=[];let G=0;for(let q=0;q<Y.length;q++){let $=Y.charCodeAt(q);$<128?U[G++]=$:$<2048?(U[G++]=$>>6|192,U[G++]=63&$|128):55296==(64512&$)&&q+1<Y.length&&56320==(64512&Y.charCodeAt(q+1))?($=65536+((1023&$)<<10)+(1023&Y.charCodeAt(++q)),U[G++]=$>>18|240,U[G++]=$>>12&63|128,U[G++]=$>>6&63|128,U[G++]=63&$|128):(U[G++]=$>>12|224,U[G++]=$>>6&63|128,U[G++]=63&$|128)}return U},he={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Y,U){if(!Array.isArray(Y))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=U?this.byteToCharMapWebSafe_:this.byteToCharMap_,q=[];for(let $=0;$<Y.length;$+=3){const be=Y[$],qe=$+1<Y.length,Tt=qe?Y[$+1]:0,rn=$+2<Y.length,ln=rn?Y[$+2]:0;let Ln=(15&Tt)<<2|ln>>6,pr=63&ln;rn||(pr=64,qe||(Ln=64)),q.push(G[be>>2],G[(3&be)<<4|Tt>>4],G[Ln],G[pr])}return q.join("")},encodeString(Y,U){return this.HAS_NATIVE_SUPPORT&&!U?btoa(Y):this.encodeByteArray(we(Y),U)},decodeString(Y,U){return this.HAS_NATIVE_SUPPORT&&!U?atob(Y):function(Y){const U=[];let G=0,q=0;for(;G<Y.length;){const $=Y[G++];if($<128)U[q++]=String.fromCharCode($);else if($>191&&$<224){const be=Y[G++];U[q++]=String.fromCharCode((31&$)<<6|63&be)}else if($>239&&$<365){const rn=((7&$)<<18|(63&Y[G++])<<12|(63&Y[G++])<<6|63&Y[G++])-65536;U[q++]=String.fromCharCode(55296+(rn>>10)),U[q++]=String.fromCharCode(56320+(1023&rn))}else{const be=Y[G++],qe=Y[G++];U[q++]=String.fromCharCode((15&$)<<12|(63&be)<<6|63&qe)}}return U.join("")}(this.decodeStringToByteArray(Y,U))},decodeStringToByteArray(Y,U){this.init_();const G=U?this.charToByteMapWebSafe_:this.charToByteMap_,q=[];for(let $=0;$<Y.length;){const be=G[Y.charAt($++)],Tt=$<Y.length?G[Y.charAt($)]:0;++$;const ln=$<Y.length?G[Y.charAt($)]:64;++$;const Wt=$<Y.length?G[Y.charAt($)]:64;if(++$,null==be||null==Tt||null==ln||null==Wt)throw new Te;q.push(be<<2|Tt>>4),64!==ln&&(q.push(Tt<<4&240|ln>>2),64!==Wt&&q.push(ln<<6&192|Wt))}return q},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Y=0;Y<this.ENCODED_VALS.length;Y++)this.byteToCharMap_[Y]=this.ENCODED_VALS.charAt(Y),this.charToByteMap_[this.byteToCharMap_[Y]]=Y,this.byteToCharMapWebSafe_[Y]=this.ENCODED_VALS_WEBSAFE.charAt(Y),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Y]]=Y,Y>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Y)]=Y,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Y)]=Y)}}};class Te extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ie=function(Y){return function(Y){const U=we(Y);return he.encodeByteArray(U,!0)}(Y).replace(/\./g,"")},ne=function(Y){try{return he.decodeString(Y,!0)}catch(U){console.error("base64Decode failed: ",U)}return null},Ft=()=>{try{return function Pe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Y=process.env.__FIREBASE_DEFAULTS__;return Y?JSON.parse(Y):void 0})()||(()=>{if(typeof document>"u")return;let Y;try{Y=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const U=Y&&ne(Y[1]);return U&&JSON.parse(U)})()}catch(Y){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Y}`)}},Rt=Y=>{const U=(Y=>{var U,G;return null===(G=null===(U=Ft())||void 0===U?void 0:U.emulatorHosts)||void 0===G?void 0:G[Y]})(Y);if(!U)return;const G=U.lastIndexOf(":");if(G<=0||G+1===U.length)throw new Error(`Invalid host ${U} with no separate hostname and port!`);const q=parseInt(U.substring(G+1),10);return"["===U[0]?[U.substring(1,G-1),q]:[U.substring(0,G),q]},mt=()=>{var Y;return null===(Y=Ft())||void 0===Y?void 0:Y.config},ot=Y=>{var U;return null===(U=Ft())||void 0===U?void 0:U[`_${Y}`]};class vt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((U,G)=>{this.resolve=U,this.reject=G})}wrapCallback(U){return(G,q)=>{G?this.reject(G):this.resolve(q),"function"==typeof U&&(this.promise.catch(()=>{}),1===U.length?U(G):U(G,q))}}}function _t(Y,U){if(Y.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const q=U||"demo-project",$=Y.iat||0,be=Y.sub||Y.user_id;if(!be)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const qe=Object.assign({iss:`https://securetoken.google.com/${q}`,aud:q,iat:$,exp:$+3600,auth_time:$,sub:be,user_id:be,firebase:{sign_in_provider:"custom",identities:{}}},Y);return[Ie(JSON.stringify({alg:"none",type:"JWT"})),Ie(JSON.stringify(qe)),""].join(".")}function je(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ve(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(je())}function Fn(){const Y="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Y&&void 0!==Y.id}function ut(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ke(){try{return"object"==typeof indexedDB}catch{return!1}}function $e(){return new Promise((Y,U)=>{try{let G=!0;const q="validate-browser-context-for-indexeddb-analytics-module",$=self.indexedDB.open(q);$.onsuccess=()=>{$.result.close(),G||self.indexedDB.deleteDatabase(q),Y(!0)},$.onupgradeneeded=()=>{G=!1},$.onerror=()=>{var be;U((null===(be=$.error)||void 0===be?void 0:be.message)||"")}}catch(G){U(G)}})}function Ye(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class nt extends Error{constructor(U,G,q){super(G),this.code=U,this.customData=q,this.name="FirebaseError",Object.setPrototypeOf(this,nt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bt.prototype.create)}}class bt{constructor(U,G,q){this.service=U,this.serviceName=G,this.errors=q}create(U,...G){const q=G[0]||{},$=`${this.service}/${U}`,be=this.errors[U],qe=be?function Pt(Y,U){return Y.replace(jt,(G,q)=>{const $=U[q];return null!=$?String($):`<${q}?>`})}(be,q):"Error";return new nt($,`${this.serviceName}: ${qe} (${$}).`,q)}}const jt=/\{\$([^}]+)}/g;function yt(Y,U){if(Y===U)return!0;const G=Object.keys(Y),q=Object.keys(U);for(const $ of G){if(!q.includes($))return!1;const be=Y[$],qe=U[$];if(At(be)&&At(qe)){if(!yt(be,qe))return!1}else if(be!==qe)return!1}for(const $ of q)if(!G.includes($))return!1;return!0}function At(Y){return null!==Y&&"object"==typeof Y}function An(Y){const U=[];for(const[G,q]of Object.entries(Y))Array.isArray(q)?q.forEach($=>{U.push(encodeURIComponent(G)+"="+encodeURIComponent($))}):U.push(encodeURIComponent(G)+"="+encodeURIComponent(q));return U.length?"&"+U.join("&"):""}function Jn(Y,U){const G=new Xt(Y,U);return G.subscribe.bind(G)}class Xt{constructor(U,G){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(()=>{U(this)}).catch(q=>{this.error(q)})}next(U){this.forEachObserver(G=>{G.next(U)})}error(U){this.forEachObserver(G=>{G.error(U)}),this.close(U)}complete(){this.forEachObserver(U=>{U.complete()}),this.close()}subscribe(U,G,q){let $;if(void 0===U&&void 0===G&&void 0===q)throw new Error("Missing Observer.");$=function br(Y,U){if("object"!=typeof Y||null===Y)return!1;for(const G of U)if(G in Y&&"function"==typeof Y[G])return!0;return!1}(U,["next","error","complete"])?U:{next:U,error:G,complete:q},void 0===$.next&&($.next=mn),void 0===$.error&&($.error=mn),void 0===$.complete&&($.complete=mn);const be=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?$.error(this.finalError):$.complete()}catch{}}),this.observers.push($),be}unsubscribeOne(U){void 0===this.observers||void 0===this.observers[U]||(delete this.observers[U],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(U){if(!this.finalized)for(let G=0;G<this.observers.length;G++)this.sendOne(G,U)}sendOne(U,G){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[U])try{G(this.observers[U])}catch(q){typeof console<"u"&&console.error&&console.error(q)}})}close(U){this.finalized||(this.finalized=!0,void 0!==U&&(this.finalError=U),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mn(){}const gi=1e3,tt=2,Se=144e5,Ze=.5;function It(Y,U=gi,G=tt){const q=U*Math.pow(G,Y),$=Math.round(Ze*q*(Math.random()-.5)*2);return Math.min(Se,q+$)}function qn(Y){return Y&&Y._delegate?Y._delegate:Y}},9058:(Bt,Ge,K)=>{K.d(Ge,{BH:()=>vt,L:()=>Ie,LL:()=>bt,Pz:()=>ot,ZR:()=>nt,aH:()=>mt,b$:()=>ut,eu:()=>$e,hl:()=>ke,m9:()=>qn,ne:()=>Jn,pd:()=>Kt,q4:()=>xn,ru:()=>Fn,tV:()=>ne,uI:()=>ve,vZ:()=>yt,w1:()=>Sn,xO:()=>An,xb:()=>Re,z$:()=>je,zd:()=>sn});const we=function(Y){const U=[];let G=0;for(let q=0;q<Y.length;q++){let $=Y.charCodeAt(q);$<128?U[G++]=$:$<2048?(U[G++]=$>>6|192,U[G++]=63&$|128):55296==(64512&$)&&q+1<Y.length&&56320==(64512&Y.charCodeAt(q+1))?($=65536+((1023&$)<<10)+(1023&Y.charCodeAt(++q)),U[G++]=$>>18|240,U[G++]=$>>12&63|128,U[G++]=$>>6&63|128,U[G++]=63&$|128):(U[G++]=$>>12|224,U[G++]=$>>6&63|128,U[G++]=63&$|128)}return U},he={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Y,U){if(!Array.isArray(Y))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=U?this.byteToCharMapWebSafe_:this.byteToCharMap_,q=[];for(let $=0;$<Y.length;$+=3){const be=Y[$],qe=$+1<Y.length,Tt=qe?Y[$+1]:0,rn=$+2<Y.length,ln=rn?Y[$+2]:0;let Ln=(15&Tt)<<2|ln>>6,pr=63&ln;rn||(pr=64,qe||(Ln=64)),q.push(G[be>>2],G[(3&be)<<4|Tt>>4],G[Ln],G[pr])}return q.join("")},encodeString(Y,U){return this.HAS_NATIVE_SUPPORT&&!U?btoa(Y):this.encodeByteArray(we(Y),U)},decodeString(Y,U){return this.HAS_NATIVE_SUPPORT&&!U?atob(Y):function(Y){const U=[];let G=0,q=0;for(;G<Y.length;){const $=Y[G++];if($<128)U[q++]=String.fromCharCode($);else if($>191&&$<224){const be=Y[G++];U[q++]=String.fromCharCode((31&$)<<6|63&be)}else if($>239&&$<365){const rn=((7&$)<<18|(63&Y[G++])<<12|(63&Y[G++])<<6|63&Y[G++])-65536;U[q++]=String.fromCharCode(55296+(rn>>10)),U[q++]=String.fromCharCode(56320+(1023&rn))}else{const be=Y[G++],qe=Y[G++];U[q++]=String.fromCharCode((15&$)<<12|(63&be)<<6|63&qe)}}return U.join("")}(this.decodeStringToByteArray(Y,U))},decodeStringToByteArray(Y,U){this.init_();const G=U?this.charToByteMapWebSafe_:this.charToByteMap_,q=[];for(let $=0;$<Y.length;){const be=G[Y.charAt($++)],Tt=$<Y.length?G[Y.charAt($)]:0;++$;const ln=$<Y.length?G[Y.charAt($)]:64;++$;const Wt=$<Y.length?G[Y.charAt($)]:64;if(++$,null==be||null==Tt||null==ln||null==Wt)throw new Te;q.push(be<<2|Tt>>4),64!==ln&&(q.push(Tt<<4&240|ln>>2),64!==Wt&&q.push(ln<<6&192|Wt))}return q},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Y=0;Y<this.ENCODED_VALS.length;Y++)this.byteToCharMap_[Y]=this.ENCODED_VALS.charAt(Y),this.charToByteMap_[this.byteToCharMap_[Y]]=Y,this.byteToCharMapWebSafe_[Y]=this.ENCODED_VALS_WEBSAFE.charAt(Y),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Y]]=Y,Y>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Y)]=Y,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Y)]=Y)}}};class Te extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ie=function(Y){return function(Y){const U=we(Y);return he.encodeByteArray(U,!0)}(Y).replace(/\./g,"")},ne=function(Y){try{return he.decodeString(Y,!0)}catch(U){console.error("base64Decode failed: ",U)}return null},Ft=()=>{try{return function Pe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Y=process.env.__FIREBASE_DEFAULTS__;return Y?JSON.parse(Y):void 0})()||(()=>{if(typeof document>"u")return;let Y;try{Y=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const U=Y&&ne(Y[1]);return U&&JSON.parse(U)})()}catch(Y){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Y}`)}},xn=Y=>{var U,G;return null===(G=null===(U=Ft())||void 0===U?void 0:U.emulatorHosts)||void 0===G?void 0:G[Y]},mt=()=>{var Y;return null===(Y=Ft())||void 0===Y?void 0:Y.config},ot=Y=>{var U;return null===(U=Ft())||void 0===U?void 0:U[`_${Y}`]};class vt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((U,G)=>{this.resolve=U,this.reject=G})}wrapCallback(U){return(G,q)=>{G?this.reject(G):this.resolve(q),"function"==typeof U&&(this.promise.catch(()=>{}),1===U.length?U(G):U(G,q))}}}function je(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ve(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(je())}function Fn(){const Y="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Y&&void 0!==Y.id}function ut(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Sn(){const Y=je();return Y.indexOf("MSIE ")>=0||Y.indexOf("Trident/")>=0}function ke(){try{return"object"==typeof indexedDB}catch{return!1}}function $e(){return new Promise((Y,U)=>{try{let G=!0;const q="validate-browser-context-for-indexeddb-analytics-module",$=self.indexedDB.open(q);$.onsuccess=()=>{$.result.close(),G||self.indexedDB.deleteDatabase(q),Y(!0)},$.onupgradeneeded=()=>{G=!1},$.onerror=()=>{var be;U((null===(be=$.error)||void 0===be?void 0:be.message)||"")}}catch(G){U(G)}})}class nt extends Error{constructor(U,G,q){super(G),this.code=U,this.customData=q,this.name="FirebaseError",Object.setPrototypeOf(this,nt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bt.prototype.create)}}class bt{constructor(U,G,q){this.service=U,this.serviceName=G,this.errors=q}create(U,...G){const q=G[0]||{},$=`${this.service}/${U}`,be=this.errors[U],qe=be?function Pt(Y,U){return Y.replace(jt,(G,q)=>{const $=U[q];return null!=$?String($):`<${q}?>`})}(be,q):"Error";return new nt($,`${this.serviceName}: ${qe} (${$}).`,q)}}const jt=/\{\$([^}]+)}/g;function Re(Y){for(const U in Y)if(Object.prototype.hasOwnProperty.call(Y,U))return!1;return!0}function yt(Y,U){if(Y===U)return!0;const G=Object.keys(Y),q=Object.keys(U);for(const $ of G){if(!q.includes($))return!1;const be=Y[$],qe=U[$];if(At(be)&&At(qe)){if(!yt(be,qe))return!1}else if(be!==qe)return!1}for(const $ of q)if(!G.includes($))return!1;return!0}function At(Y){return null!==Y&&"object"==typeof Y}function An(Y){const U=[];for(const[G,q]of Object.entries(Y))Array.isArray(q)?q.forEach($=>{U.push(encodeURIComponent(G)+"="+encodeURIComponent($))}):U.push(encodeURIComponent(G)+"="+encodeURIComponent(q));return U.length?"&"+U.join("&"):""}function sn(Y){const U={};return Y.replace(/^\?/,"").split("&").forEach(q=>{if(q){const[$,be]=q.split("=");U[decodeURIComponent($)]=decodeURIComponent(be)}}),U}function Kt(Y){const U=Y.indexOf("?");if(!U)return"";const G=Y.indexOf("#",U);return Y.substring(U,G>0?G:void 0)}function Jn(Y,U){const G=new Xt(Y,U);return G.subscribe.bind(G)}class Xt{constructor(U,G){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(()=>{U(this)}).catch(q=>{this.error(q)})}next(U){this.forEachObserver(G=>{G.next(U)})}error(U){this.forEachObserver(G=>{G.error(U)}),this.close(U)}complete(){this.forEachObserver(U=>{U.complete()}),this.close()}subscribe(U,G,q){let $;if(void 0===U&&void 0===G&&void 0===q)throw new Error("Missing Observer.");$=function br(Y,U){if("object"!=typeof Y||null===Y)return!1;for(const G of U)if(G in Y&&"function"==typeof Y[G])return!0;return!1}(U,["next","error","complete"])?U:{next:U,error:G,complete:q},void 0===$.next&&($.next=mn),void 0===$.error&&($.error=mn),void 0===$.complete&&($.complete=mn);const be=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?$.error(this.finalError):$.complete()}catch{}}),this.observers.push($),be}unsubscribeOne(U){void 0===this.observers||void 0===this.observers[U]||(delete this.observers[U],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(U){if(!this.finalized)for(let G=0;G<this.observers.length;G++)this.sendOne(G,U)}sendOne(U,G){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[U])try{G(this.observers[U])}catch(q){typeof console<"u"&&console.error&&console.error(q)}})}close(U){this.finalized||(this.finalized=!0,void 0!==U&&(this.finalError=U),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mn(){}function qn(Y){return Y&&Y._delegate?Y._delegate:Y}},1816:(Bt,Ge,K)=>{K.d(Ge,{y:()=>u});var b=K(8645),oe=K(9468);let u=(()=>{class we{constructor(){this.modalMessageSource=new b.x,this.modalMessage$=this.modalMessageSource.asObservable()}sendModalMessage(he){this.modalMessageSource.next(he),console.log(2),console.log(this.modalMessage$)}static#e=this.\u0275fac=function(Te){return new(Te||we)};static#t=this.\u0275prov=oe.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"})}return we})()},1176:(Bt,Ge,K)=>{K.d(Ge,{u:()=>oe});var b=K(9468);let oe=(()=>{class u{static#e=this.\u0275fac=function(he){return new(he||u)};static#t=this.\u0275cmp=b.Xpm({type:u,selectors:[["app-logo-svg"]],decls:33,vars:0,consts:[[1,"logo-svg"],["viewBox","0 0 640 400","data-background-color","var(--mainWhiteColor)","preserveAspectRatio","xMidYMid meet","height","400","width","640","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink"],["width","640","height","400","x","0","y","0","opacity","1","fill","var(--mainRGBAColor)","data-fill-palette-color","background","id","background"],["id","tight-bounds","transform","matrix(1,0,0,1,168.6873741251188,76.4)"],["viewBox","0 0 302.6252517497624 247.2","height","247.2","width","302.6252517497624"],["viewBox","0 0 395.52 323.08124796157813","height","247.2","width","302.6252517497624"],["transform","matrix(1,0,0,1,0,240.1001478205344)"],["viewBox","0 0 395.52 82.98110014104373","height","82.98110014104373","width","395.52"],["id","textblocktransform"],["viewBox","0 0 395.52 82.98110014104373","height","82.98110014104373","width","395.52","id","textblock"],["transform","matrix(1,0,0,1,0,0)"],["width","395.52","viewBox","0.15000000596046448 -37.939998626708984 276.9100036621094 58.11000061035156","height","82.98110014104373","data-palette-color","var(--mainWhiteColor)"],["d","M8.3-27.15L0.15-26.51 0.93-29.05Q0.98-29.1 1.68-29.17 2.39-29.25 3.56-29.37 4.74-29.49 6.2-29.64 7.67-29.79 9.2-29.93 10.74-30.08 12.23-30.22 13.72-30.37 14.99-30.52L14.99-30.52Q14.99-30.52 15.43-30.52 15.87-30.52 16.41-30.52 16.94-30.52 17.43-30.52 17.92-30.52 18.07-30.52L18.07-30.52Q19.24-30.52 19.68-30.08 20.12-29.64 20.12-28.17L20.12-28.17 11.23-27.15Q11.13-24.07 11.33-20.7 11.52-17.33 11.82-13.89 12.11-10.45 12.38-7.08 12.65-3.71 12.65-0.63L12.65-0.63Q12.65-0.2 12.38-0.02 12.11 0.15 11.74 0.2 11.38 0.24 10.99 0.17 10.6 0.1 10.3 0L10.3 0Q10.16-0.63 10.01-2.2 9.86-3.76 9.72-5.86 9.57-7.96 9.42-10.4 9.28-12.84 9.13-15.28 8.98-17.72 8.84-19.95 8.69-22.17 8.59-23.85 8.5-25.54 8.42-26.46 8.35-27.39 8.3-27.15L8.3-27.15ZM20.07-33.74L21.68-33.5 22.95-17.48Q23.29-17.77 23.83-18.36 24.36-18.95 25.1-19.46 25.83-19.97 26.71-20.34 27.59-20.7 28.61-20.65L28.61-20.65Q30.61-20.46 31.81-19.04 33.01-17.63 33.62-15.58 34.23-13.53 34.42-11.11 34.62-8.69 34.54-6.49 34.47-4.3 34.3-2.59 34.13-0.88 34.03-0.24L34.03-0.24 32.27-0.49Q32.27-0.93 32.3-1.88 32.32-2.83 32.37-4.13 32.42-5.42 32.42-6.84 32.42-8.25 32.44-9.5 32.47-10.74 32.44-11.72 32.42-12.7 32.37-13.09L32.37-13.09Q32.42-14.45 31.83-15.72 31.25-16.99 30.27-17.65 29.29-18.31 27.93-18.09 26.56-17.87 25-16.16L25-16.16Q23.63-14.11 23-12.13 22.36-10.16 22.17-8.23 21.97-6.3 22.02-4.27 22.07-2.25 22.02 0L22.02 0 20.11-0.29Q20.26-0.83 20.33-2.27 20.41-3.71 20.46-5.74 20.51-7.76 20.53-10.25 20.55-12.74 20.53-15.41 20.51-18.07 20.46-20.75 20.41-23.44 20.33-25.88 20.26-28.32 20.19-30.37 20.11-32.42 20.07-33.74L20.07-33.74ZM36.86-11.47L36.86-11.47Q36.86-12.94 37.5-14.72 38.13-16.5 39.23-18.04 40.33-19.58 41.72-20.63 43.11-21.68 44.62-21.68L44.62-21.68Q45.45-21.68 46.26-21.34 47.07-21 47.82-20.43 48.58-19.87 49.19-19.17 49.8-18.46 50.14-17.68 50.48-16.89 50.51-16.16 50.53-15.43 50.09-14.89L50.09-14.89 39.79-12.99Q39.59-12.94 39.45-12.52 39.3-12.11 39.2-11.47 39.11-10.84 39.03-10.08 38.96-9.33 38.91-8.62 38.86-7.91 38.86-7.35 38.86-6.79 38.86-6.49L38.86-6.49Q38.86-5.13 39.52-4.27 40.18-3.42 41.21-2.98 42.23-2.54 43.53-2.39 44.82-2.25 46.09-2.25 47.36-2.25 48.48-2.34 49.6-2.44 50.34-2.44L50.34-2.44Q50.34-2.25 50.19-2 50.04-1.76 49.85-1.54 49.65-1.32 49.46-1.15 49.26-0.98 49.21-0.93L49.21-0.93Q48.82-0.83 48.02-0.66 47.21-0.49 46.31-0.34 45.41-0.2 44.62-0.1 43.84 0 43.55 0L43.55 0Q42.04 0.29 40.91-0.05 39.79-0.39 39.01-1.22 38.23-2.05 37.74-3.25 37.25-4.44 37.01-5.81 36.76-7.18 36.74-8.64 36.71-10.11 36.86-11.47ZM43.94-19.82L43.94-19.82Q43.5-19.82 42.79-19.36 42.08-18.9 41.47-18.19 40.86-17.48 40.45-16.67 40.03-15.87 40.18-15.28L40.18-15.28Q41.45-15.14 42.82-15.33 44.18-15.53 45.31-15.94 46.43-16.36 47.16-16.92 47.9-17.48 47.87-18.07 47.85-18.65 46.94-19.12 46.04-19.58 43.94-19.82ZM93.06 0L74.31-29.05Q74.31-28.91 74.28-28.42 74.26-27.93 74.26-27.42 74.26-26.9 74.26-26.44 74.26-25.98 74.26-25.83L74.26-25.83Q74.26-22.66 74.4-19.48 74.55-16.31 74.75-13.11 74.94-9.91 75.09-6.69 75.23-3.47 75.23-0.24L75.23-0.24 73.48-0.34Q73.43-1.27 73.31-2.93 73.18-4.59 73.01-6.76 72.84-8.94 72.65-11.43 72.45-13.92 72.23-16.48 72.01-19.04 71.87-21.53 71.72-24.02 71.6-26.15 71.47-28.27 71.43-29.91 71.38-31.54 71.43-32.42L71.43-32.42Q71.43-33.01 71.87-33.4 72.3-33.79 72.89-33.79L72.89-33.79Q73.48-33.79 74.23-33.52 74.99-33.25 75.23-32.81L75.23-32.81 92.81-4.44Q92.81-6.69 92.69-9.28 92.57-11.87 92.47-14.6 92.37-17.33 92.35-20.09 92.32-22.85 92.45-25.46 92.57-28.08 92.93-30.42 93.3-32.76 93.98-34.67L93.98-34.67Q94.67-34.91 95.06-34.94 95.45-34.96 95.64-34.91 95.84-34.86 95.86-34.67 95.89-34.47 95.89-34.28L95.89-34.28Q95.89-34.18 95.89-33.98 95.89-33.79 95.89-33.74L95.89-33.74Q95.79-33.45 95.67-32.67 95.55-31.88 95.35-30.35 95.16-28.81 95.01-26.37 94.86-23.93 94.72-20.31 94.57-16.7 94.5-11.72 94.42-6.74 94.47-0.1L94.47-0.1 93.06 0ZM97.74-4.2L97.74-4.2Q97.74-6.98 99.28-8.25 100.82-9.52 103.31-9.52L103.31-9.52Q104.28-9.52 105.14-9.47 105.99-9.42 106.77-9.23 107.56-9.03 108.31-8.64 109.07-8.25 109.9-7.52L109.9-7.52Q109.9-7.67 109.92-8.13 109.95-8.59 109.95-9.13 109.95-9.67 109.95-10.13 109.95-10.6 109.95-10.79L109.95-10.79Q109.9-11.67 109.9-13.06 109.9-14.45 109.68-15.92 109.46-17.38 108.8-18.7 108.14-20.02 106.68-20.7L106.68-20.7Q105.65-20.7 104.77-20.36 103.89-20.02 103.01-19.63 102.14-19.24 101.26-18.92 100.38-18.6 99.35-18.6L99.35-18.6Q99.35-19.82 100.11-20.63 100.87-21.44 101.94-21.88 103.01-22.31 104.19-22.46 105.36-22.61 106.24-22.61L106.24-22.61Q107.12-22.46 107.87-22.27 108.63-22.07 109.29-21.48 109.95-20.9 110.51-19.7 111.07-18.51 111.49-16.36 111.9-14.21 112.22-10.91 112.54-7.62 112.73-2.83L112.73-2.83Q112.83-2.2 112.32-1.73 111.8-1.27 110.93-0.95 110.05-0.63 108.95-0.42 107.85-0.2 106.73-0.1 105.6 0 104.58 0.05 103.55 0.1 102.87 0.1L102.87 0.1Q101.99 0.1 101.09-0.2 100.18-0.49 99.43-1.05 98.67-1.61 98.21-2.42 97.74-3.22 97.74-4.2ZM104.09-7.62L104.09-7.62Q101.65-6.93 100.67-5.98 99.69-5.03 99.82-4.15 99.94-3.27 100.96-2.56 101.99-1.86 103.45-1.64 104.92-1.42 106.63-1.88 108.34-2.34 109.9-3.71L109.9-3.71Q109.31-5.13 108.73-5.88 108.14-6.64 107.46-7.03 106.77-7.42 105.94-7.52 105.11-7.62 104.09-7.62ZM120.64-17.72L120.64-17.72Q120.2-17.87 119.44-17.85 118.69-17.82 117.83-17.75 116.98-17.68 116.2-17.58 115.41-17.48 114.88-17.48L114.88-17.48Q114.63-17.48 114.56-18.19 114.49-18.9 114.34-20.12L114.34-20.12 121.23-20.61Q121.37-22.31 121.42-23.05 121.47-23.78 121.44-24.29 121.42-24.8 121.4-25.46 121.37-26.12 121.37-27.54L121.37-27.54Q122.64-27.73 123.3-27.66 123.96-27.59 124.2-27.29 124.45-27 124.42-26.44 124.4-25.88 124.28-25.05 124.15-24.22 124.08-23.05 124.01-21.88 124.15-20.41L124.15-20.41 130.01-20.61 130.01-18.21Q129.62-18.21 128.79-18.16 127.96-18.12 127.01-18.07 126.06-18.02 125.25-17.97 124.45-17.92 124.06-17.77L124.06-17.77Q123.67-16.02 123.23-14.01 122.79-12.01 122.64-10.06 122.49-8.11 122.74-6.42 122.98-4.74 123.96-3.64 124.94-2.54 126.74-2.12 128.55-1.71 131.53-2.39L131.53-2.39Q131.43-1.66 130.97-1.2 130.5-0.73 129.89-0.46 129.28-0.2 128.6-0.07 127.91 0.05 127.38 0.05L127.38 0.05Q124.89 0.05 123.42-0.85 121.96-1.76 121.23-3.22 120.49-4.69 120.3-6.57 120.1-8.45 120.18-10.4 120.25-12.35 120.44-14.26 120.64-16.16 120.64-17.72ZM133.19-18.95L133.19-18.95Q133.19-19.19 133.5-19.43 133.82-19.68 134.28-19.82 134.75-19.97 135.19-20.02 135.63-20.07 135.82-19.87L135.82-19.87Q136.12-13.82 136.97-10.23 137.82-6.64 138.92-4.98 140.02-3.32 141.29-3.3 142.56-3.27 143.78-4.37 145-5.47 146.05-7.37 147.1-9.28 147.76-11.47 148.42-13.67 148.57-15.87 148.71-18.07 148.18-19.78L148.18-19.78 151.11-20.12Q151.15-19.38 151.37-17.7 151.59-16.02 151.86-13.89 152.13-11.77 152.47-9.47 152.81-7.18 153.06-5.2 153.3-3.22 153.5-1.83 153.69-0.44 153.69-0.1L153.69-0.1 151.59-0.1 149.3-8.54Q148.62-6.84 147.64-5.27 146.66-3.71 145.51-2.54 144.37-1.37 143.1-0.71 141.83-0.05 140.58-0.17 139.34-0.29 138.17-1.32 136.99-2.34 135.99-4.57 134.99-6.79 134.26-10.3 133.53-13.82 133.19-18.95ZM155.25-19.04L155.25-19.04Q155.84-19.29 156.28-19.14 156.72-18.99 157.01-18.6 157.3-18.21 157.45-17.7 157.6-17.19 157.69-16.7L157.69-16.7Q158.33-17.77 159.53-18.43 160.72-19.09 162.09-19.31 163.46-19.53 164.82-19.41 166.19-19.29 167.14-18.82 168.1-18.36 168.49-17.55 168.88-16.75 168.29-15.67L168.29-15.67Q167.02-16.41 165.63-16.85 164.24-17.29 162.92-17.14 161.6-16.99 160.48-16.14 159.36-15.28 158.62-13.43 157.89-11.57 157.72-8.52 157.55-5.47 158.13-0.93L158.13-0.93 156.28-0.93Q156.28-0.93 156.21-1.73 156.13-2.54 156.06-3.86 155.99-5.18 155.86-6.79 155.74-8.4 155.64-10.06 155.55-11.72 155.47-13.26 155.4-14.79 155.3-15.92L155.3-15.92Q155.3-16.06 155.28-16.5 155.25-16.94 155.25-17.46 155.25-17.97 155.25-18.41 155.25-18.85 155.25-19.04ZM170.49-4.2L170.49-4.2Q170.49-6.98 172.02-8.25 173.56-9.52 176.05-9.52L176.05-9.52Q177.03-9.52 177.88-9.47 178.74-9.42 179.52-9.23 180.3-9.03 181.06-8.64 181.81-8.25 182.64-7.52L182.64-7.52Q182.64-7.67 182.67-8.13 182.69-8.59 182.69-9.13 182.69-9.67 182.69-10.13 182.69-10.6 182.69-10.79L182.69-10.79Q182.64-11.67 182.64-13.06 182.64-14.45 182.42-15.92 182.2-17.38 181.54-18.7 180.89-20.02 179.42-20.7L179.42-20.7Q178.4-20.7 177.52-20.36 176.64-20.02 175.76-19.63 174.88-19.24 174-18.92 173.12-18.6 172.1-18.6L172.1-18.6Q172.1-19.82 172.85-20.63 173.61-21.44 174.68-21.88 175.76-22.31 176.93-22.46 178.1-22.61 178.98-22.61L178.98-22.61Q179.86-22.46 180.62-22.27 181.37-22.07 182.03-21.48 182.69-20.9 183.25-19.7 183.82-18.51 184.23-16.36 184.65-14.21 184.96-10.91 185.28-7.62 185.48-2.83L185.48-2.83Q185.57-2.2 185.06-1.73 184.55-1.27 183.67-0.95 182.79-0.63 181.69-0.42 180.59-0.2 179.47-0.1 178.35 0 177.32 0.05 176.3 0.1 175.61 0.1L175.61 0.1Q174.73 0.1 173.83-0.2 172.93-0.49 172.17-1.05 171.41-1.61 170.95-2.42 170.49-3.22 170.49-4.2ZM176.83-7.62L176.83-7.62Q174.39-6.93 173.42-5.98 172.44-5.03 172.56-4.15 172.68-3.27 173.71-2.56 174.73-1.86 176.2-1.64 177.66-1.42 179.37-1.88 181.08-2.34 182.64-3.71L182.64-3.71Q182.06-5.13 181.47-5.88 180.89-6.64 180.2-7.03 179.52-7.42 178.69-7.52 177.86-7.62 176.83-7.62ZM188.6-37.94L188.6-37.94Q189.28-37.84 189.79-37.57 190.31-37.3 190.6-36.62L190.6-36.62Q190.6-35.69 190.67-34.06 190.75-32.42 190.82-30.27 190.89-28.13 190.99-25.63 191.09-23.14 191.19-20.61 191.28-18.07 191.36-15.58 191.43-13.09 191.5-10.94 191.58-8.79 191.63-7.13 191.67-5.47 191.72-4.59L191.72-4.59Q191.72-4.49 191.7-4.25 191.67-4 191.65-3.66 191.63-3.32 191.6-3 191.58-2.69 191.58-2.54L191.58-2.54Q191.53-2.25 191.53-1.83 191.53-1.42 191.43-1.03 191.33-0.63 191.11-0.32 190.89 0 190.4 0.05L190.4 0.05 189.57-0.98Q189.53-1.03 189.45-2.81 189.38-4.59 189.26-7.45 189.14-10.3 189.04-13.89 188.94-17.48 188.82-21.14 188.7-24.8 188.6-28.17 188.5-31.54 188.45-33.98L188.45-33.98Q188.45-34.18 188.48-34.77 188.5-35.35 188.52-35.96 188.55-36.57 188.57-37.13 188.6-37.7 188.6-37.94ZM226.58-17.58L226.58-17.58Q226.43-17.04 226.12-15.87 225.8-14.7 225.39-13.23 224.97-11.77 224.51-10.16 224.04-8.54 223.6-7.08 223.16-5.62 222.82-4.47 222.48-3.32 222.33-2.83L222.33-2.83Q222.24-2.34 222.04-1.78 221.85-1.22 221.6-0.93 221.36-0.63 221.06-0.78 220.77-0.93 220.48-1.86L220.48-1.86 212.96-35.64Q213.1-35.64 213.45-35.72 213.79-35.79 213.93-35.79L213.93-35.79Q214.91-35.79 215.23-35.38 215.55-34.96 215.79-33.74L215.79-33.74 221.41-8.4 225.17-20.61Q225.36-21.19 225.73-21.39 226.09-21.58 226.58-21.58L226.58-21.58Q226.97-21.19 227.7-20.14 228.44-19.09 229.29-17.7 230.15-16.31 231.07-14.72 232-13.13 232.86-11.72 233.71-10.3 234.39-9.16 235.08-8.01 235.47-7.52L235.47-7.52Q235.61-7.28 235.98-6.86 236.35-6.45 236.79-6.01 237.23-5.57 237.67-5.18 238.1-4.79 238.3-4.69L238.3-4.69Q238.25-6.3 238.15-8.52 238.06-10.74 237.96-13.33 237.86-15.92 237.84-18.73 237.81-21.53 237.93-24.29 238.06-27.05 238.35-29.61 238.64-32.18 239.13-34.33L239.13-34.33Q239.23-34.67 239.4-34.84 239.57-35.01 239.79-35.06 240.01-35.11 240.38-35.08 240.74-35.06 241.18-35.06L241.18-35.06Q241.18-34.52 241.13-33.76 241.08-33.01 240.99-31.62 240.89-30.22 240.79-27.88 240.69-25.54 240.57-21.83 240.45-18.12 240.35-12.77 240.25-7.42 240.16 0L240.16 0Q238.06-1.66 236.25-3.71 234.44-5.76 232.83-8.08 231.22-10.4 229.68-12.82 228.14-15.23 226.58-17.58ZM243.18-4.2L243.18-4.2Q243.18-6.98 244.72-8.25 246.26-9.52 248.75-9.52L248.75-9.52Q249.72-9.52 250.58-9.47 251.43-9.42 252.21-9.23 252.99-9.03 253.75-8.64 254.51-8.25 255.34-7.52L255.34-7.52Q255.34-7.67 255.36-8.13 255.39-8.59 255.39-9.13 255.39-9.67 255.39-10.13 255.39-10.6 255.39-10.79L255.39-10.79Q255.34-11.67 255.34-13.06 255.34-14.45 255.12-15.92 254.9-17.38 254.24-18.7 253.58-20.02 252.12-20.7L252.12-20.7Q251.09-20.7 250.21-20.36 249.33-20.02 248.45-19.63 247.57-19.24 246.7-18.92 245.82-18.6 244.79-18.6L244.79-18.6Q244.79-19.82 245.55-20.63 246.31-21.44 247.38-21.88 248.45-22.31 249.63-22.46 250.8-22.61 251.68-22.61L251.68-22.61Q252.56-22.46 253.31-22.27 254.07-22.07 254.73-21.48 255.39-20.9 255.95-19.7 256.51-18.51 256.93-16.36 257.34-14.21 257.66-10.91 257.98-7.62 258.17-2.83L258.17-2.83Q258.27-2.2 257.76-1.73 257.24-1.27 256.36-0.95 255.49-0.63 254.39-0.42 253.29-0.2 252.16-0.1 251.04 0 250.02 0.05 248.99 0.1 248.31 0.1L248.31 0.1Q247.43 0.1 246.53-0.2 245.62-0.49 244.86-1.05 244.11-1.61 243.64-2.42 243.18-3.22 243.18-4.2ZM249.53-7.62L249.53-7.62Q247.09-6.93 246.11-5.98 245.13-5.03 245.26-4.15 245.38-3.27 246.4-2.56 247.43-1.86 248.89-1.64 250.36-1.42 252.07-1.88 253.78-2.34 255.34-3.71L255.34-3.71Q254.75-5.13 254.17-5.88 253.58-6.64 252.9-7.03 252.21-7.42 251.38-7.52 250.55-7.62 249.53-7.62ZM271.79 20.17L269.59 20.02Q269.59 17.58 270.03 14.99 270.47 12.4 270.94 9.81 271.4 7.23 271.72 4.64 272.04 2.05 271.79-0.44L271.79-0.44 259.63-21.04Q260.71-22.02 261.34-22.14 261.98-22.27 262.07-22.17L262.07-22.17Q262.42-21.68 263.22-20.36 264.03-19.04 265.08-17.29 266.13-15.53 267.3-13.57 268.47-11.62 269.52-9.86 270.57-8.11 271.33-6.74 272.08-5.37 272.38-4.83L272.38-4.83 274.62-22.95 277.06-21.73 271.79 20.17Z","opacity","1","transform","matrix(1,0,0,1,0,0)","fill","var(--mainWhiteColor)","data-fill-palette-color","primary","id","text-0",1,"wordmark-text-0"],["transform","matrix(1,0,0,1,97.29977228662983,0)"],["viewBox","0 0 200.92045542674032 200.92045542674032","height","200.92045542674032","width","200.92045542674032"],["id","icon-0"],["d","M0 100.46c0-55.483 44.978-100.46 100.46-100.46 55.483 0 100.46 44.978 100.46 100.46 0 55.483-44.978 100.46-100.46 100.46-55.483 0-100.46-44.978-100.46-100.46zM100.46 193.437c51.35 0 92.977-41.627 92.977-92.977 0-51.35-41.627-92.977-92.977-92.977-51.35 0-92.977 41.627-92.977 92.977 0 51.35 41.627 92.977 92.977 92.977z","data-fill-palette-color","accent","fill","var(--mainWhiteColor)","stroke","transparent"],["rx","99.45562543623646","ry","99.45562543623646","cx","100.46022771337016","cy","100.46022771337016","fill","var(--mainWhiteColor)","stroke","transparent","stroke-width","0","fill-opacity","1","data-fill-palette-color","accent"],["transform","matrix(1,0,0,1,43.57436241056036,43.35758026693677)"],["viewBox","0 0 113.7717306056196 114.20529489286677","height","114.20529489286677","width","113.7717306056196"],["xmlns","http://www.w3.org/2000/svg","data-name","Layer 1","viewBox","1.190000057220459 1.002901315689087 97.62506866455078 97.99710083007812","x","0","y","0","height","114.20529489286677","width","113.7717306056196","data-fill-palette-color","quaternary","id","b-0",1,"icon-b-0"],["d","M79.28 26.63a0.3 0.3 0 0 0 0-0.07 0.28 0.28 0 0 0-0.48-0.19l-7 7a20.24 20.24 0 0 0-6 13v1.87a37.5 37.5 0 0 1 1.67 5.15H54.79a32.9 32.9 0 0 0-5.43-15.13 26.9 26.9 0 0 1-7.74 5.77 22.2 22.2 0 0 1-6.34 2.06c-9.9 1.51-22.3-5-28.35-41.61a1.86 1.86 0 0 1 1.55-2.05c47.44-6.69 50.2 11.7 47.85 22.85a51.5 51.5 0 0 0-19.69-6.14h-0.11a0.43 0.43 0 0 0-0.18 0.76l11.58 8.5 5.84 4.31a37.3 37.3 0 0 1 6.08 5.85 24.8 24.8 0 0 1 5-6.15 17.7 17.7 0 0 1-2.54-5 14.8 14.8 0 0 1-0.65-4.41c0-6.65 5.53-14.14 30.18-14.44a1.23 1.23 0 0 1 1.24 1.23c-0.38 31.82-12.74 31.78-19.82 29.12a34.2 34.2 0 0 0 6.02-12.28M28.65 93h34.63a16.16 16.16 0 0 0 12.18-5.54l21.68-24.79a6.79 6.79 0 0 0-0.79-9.7 6.55 6.55 0 0 0-4.2-1.49 7.24 7.24 0 0 0-5.38 2.43l-10.2 11.35v0.16a11.85 11.85 0 0 1-11.89 11.26H52.21a2.54 2.54 0 1 1 0-5.08h12.47a6.72 6.72 0 0 0 6.81-6.34A6.54 6.54 0 0 0 65 58.52H44.19l-3.37-1.18a23.42 23.42 0 0 0-24.26 5.49L1.19 78.1 22.64 99Z","fill","var(--textColor)","data-fill-palette-color","quaternary"],["width","302.6252517497624","height","247.2","fill","none","stroke","none","visibility","hidden"]],template:function(he,Te){1&he&&(b.TgZ(0,"main",0),b.O4$(),b.TgZ(1,"svg",1),b._UZ(2,"rect",2),b.TgZ(3,"g",3)(4,"svg",4)(5,"g")(6,"svg",5)(7,"g",6)(8,"svg",7)(9,"g",8)(10,"svg",9)(11,"g")(12,"svg",7)(13,"g",10)(14,"svg",11),b._UZ(15,"path",12),b.qZA()()()()()()()(),b.TgZ(16,"g",13)(17,"svg",14)(18,"g"),b._UZ(19,"svg"),b.qZA(),b.TgZ(20,"g",15)(21,"svg",14)(22,"g"),b._UZ(23,"path",16)(24,"ellipse",17),b.qZA(),b.TgZ(25,"g",18)(26,"svg",19)(27,"g")(28,"svg",20),b._UZ(29,"path",21),b.qZA()()()()()()()(),b._UZ(30,"g"),b.qZA()(),b._UZ(31,"defs"),b.qZA(),b._UZ(32,"rect",22),b.qZA()()())}})}return u})()},2732:(Bt,Ge,K)=>{K.d(Ge,{Q:()=>u});var b=K(9468),oe=K(6593);let u=(()=>{class we{constructor(he){this.sanitizer=he}transform(he){let Te;if(he.startsWith("https://m."))Te=new URLSearchParams(he.split("?")[1]).get("v")||"";else{const Ie=he.split("/");Te=Ie[Ie.length-1]}return this.sanitizer.bypassSecurityTrustResourceUrl("https://www.youtube.com/embed/"+Te)}static#e=this.\u0275fac=function(Te){return new(Te||we)(b.Y36(oe.H7,16))};static#t=this.\u0275pipe=b.Yjl({name:"safeUrl",type:we,pure:!0})}return we})()},2772:(Bt,Ge,K)=>{K.d(Ge,{r:()=>de});var b=K(6814),oe=K(6024),u=K(95),we=K(9468);let de=(()=>{class he{static#e=this.\u0275fac=function(Ie){return new(Ie||he)};static#t=this.\u0275mod=we.oAB({type:he});static#n=this.\u0275inj=we.cJS({imports:[b.ez,oe.Bz,u.u5,u.UX]})}return he})()},8850:(Bt,Ge,K)=>{K.d(Ge,{O:()=>de});var b=K(5861),oe=K(3477),u=K(8645),we=K(9468);let de=(()=>{class he{constructor(Ue){this.firestore=Ue,this.commentAddedSubject=new u.x}getCommentsForRecipe(Ue){var Ie=this;return(0,b.Z)(function*(){try{const ne=(0,oe.hJ)(Ie.firestore,"Comments"),le=(0,oe.IO)(ne,(0,oe.ar)("recipeId","==",Ue)),Ae=yield(0,oe.PL)(le),Xe=[];return Ae.forEach(Pe=>{const st=Pe.data();Xe.push({create_time:st.create_time,name:st.name,recipeId:st.recipeId,text:st.text,uid:st.uid,id:Pe.id})}),Xe.sort((Pe,st)=>{const Ot=Pe.create_time.toDate();return st.create_time.toDate().getTime()-Ot.getTime()}),Xe}catch(ne){return console.error("Error retrieving comments:",ne),[]}})()}getCommentsForUser(Ue){var Ie=this;return(0,b.Z)(function*(){try{const ne=(0,oe.hJ)(Ie.firestore,"Comments"),le=(0,oe.IO)(ne,(0,oe.ar)("uid","==",Ue)),Ae=yield(0,oe.PL)(le),Xe=[];return Ae.forEach(Pe=>{const st=Pe.data();Xe.push({create_time:st.create_time,name:st.name,recipeId:st.recipeId,text:st.text,uid:st.uid,id:Pe.id})}),Xe.sort((Pe,st)=>{const Ot=Pe.create_time.toDate();return st.create_time.toDate().getTime()-Ot.getTime()}),Xe}catch(ne){return console.error("Error retrieving comments:",ne),[]}})()}addComment(Ue){var Ie=this;return(0,b.Z)(function*(){try{const ne="Comments",le=yield(0,oe.ET)((0,oe.hJ)(Ie.firestore,ne),Ue);return Ie.commentAddedSubject.next(),le.id}catch(ne){return console.error("Error adding comment:",ne),null}})()}deleteComment(Ue){var Ie=this;return(0,b.Z)(function*(){try{const le=(0,oe.JU)(Ie.firestore,"Comments",Ue);yield(0,oe.oe)(le),console.log("Comment deleted successfully:",Ue)}catch(ne){console.error("Error deleting comment:",ne)}})()}getCommentById(Ue){var Ie=this;return(0,b.Z)(function*(){const ne=(0,oe.JU)(Ie.firestore,"Comments",Ue),le=yield(0,oe.QT)(ne);if(le.exists()){const Ae=le.data();return console.log(Ae.recipeId),le.data()}return null})()}editComment(Ue,Ie){var ne=this;return(0,b.Z)(function*(){try{const Ae=(0,oe.JU)(ne.firestore,"Comments",Ue);yield(0,oe.r7)(Ae,Ie),console.log("Comment edited successfully:",Ue)}catch(le){console.error("Error editing comment:",le)}})()}getCommentAddedObservable(){return this.commentAddedSubject.asObservable()}static#e=this.\u0275fac=function(Ie){return new(Ie||he)(we.LFG(oe.gg))};static#t=this.\u0275prov=we.Yz7({token:he,factory:he.\u0275fac,providedIn:"root"})}return he})()},3424:(Bt,Ge,K)=>{K.d(Ge,{l:()=>u});var b=K(95),oe=K(9468);let u=(()=>{class we{markFormGroupTouched(he){Object.values(he.controls).forEach(Te=>{Te instanceof b.NI?Te.markAsTouched():Te instanceof b.cw&&this.markFormGroupTouched(Te)})}markFormArrayControlsTouched(he){for(let Te=0;Te<he.length;Te++){const Ue=he.at(Te);this.markFormGroupTouched(Ue)}}getFormGroupErrors(he){let Te="";return Object.keys(he.controls).forEach(Ue=>{const Ie=he.get(Ue)?.errors;Ie&&Object.keys(Ie).forEach(ne=>{Te+=`${Ue} ${this.getControlErrorMessage(ne,Ie[ne])}\n`})}),Te}getControlErrorMessage(he,Te){switch(he){case"required":return"-> this field is required.";case"minlength":return`-> Minimum length is ${Te.requiredLength}.`;case"maxlength":return`-> Maximum length is ${Te.requiredLength}.`;default:return""}}static#e=this.\u0275fac=function(Te){return new(Te||we)};static#t=this.\u0275prov=oe.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"})}return we})()},7157:(Bt,Ge,K)=>{K.d(Ge,{j:()=>we});var b=K(5861),oe=K(3477),u=K(9468);let we=(()=>{class de{constructor(Te){this.firestore=Te}getRecipeById(Te){var Ue=this;return(0,b.Z)(function*(){const Ie=(0,oe.JU)(Ue.firestore,"Recipe",Te),ne=yield(0,oe.QT)(Ie);if(ne.exists()){let le=ne.data();return le.id||(le={...le,id:Te}),le}return null})()}updateRecipeLikes(Te,Ue,Ie){var ne=this;return(0,b.Z)(function*(){const Ae=(0,oe.JU)(ne.firestore,"Recipe",Te);try{Ie?(console.log("remove"),yield(0,oe.r7)(Ae,{likes:(0,oe.Ab)(Ue)})):(console.log("add"),yield(0,oe.r7)(Ae,{likes:(0,oe.vr)(Ue)})),console.log("Recipe likes updated successfully")}catch(Xe){console.error("Error updating recipe likes: ",Xe)}})()}deleteRecipe(Te){var Ue=this;return(0,b.Z)(function*(){try{const ne=(0,oe.JU)(Ue.firestore,"Recipe",Te);yield(0,oe.oe)(ne),console.log("Recipe deleted successfully:",Te)}catch(Ie){console.error("Error deleting recipe:",Ie)}})()}static#e=this.\u0275fac=function(Ue){return new(Ue||de)(u.LFG(oe.gg))};static#t=this.\u0275prov=u.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})()},1753:(Bt,Ge,K)=>{K.d(Ge,{v:()=>Ue});var b=K(5861),oe=K(5619),u=K(6973),we=K(305),he=K(3477),Te=K(9468);let Ue=(()=>{class Ie{constructor(le){this.firestore=le,this.lastDocSubject=new oe.X(void 0),this.lastDoc$=this.lastDocSubject.asObservable()}getRecipeByUID(le){var Ae=this;return(0,b.Z)(function*(){try{const Xe=(0,he.hJ)(Ae.firestore,"Recipe"),Pe=(0,he.IO)(Xe,(0,he.ar)("uid","==",le)),st=yield(0,he.PL)(Pe),Ot=[];return st.forEach(Ut=>{const xn={...Ut.data(),id:Ut.id};Ot.push(xn)}),Ot}catch(Xe){return console.error("Error retrieving recipes:",Xe),[]}})()}getRecipesLoadMore(){var le=this;return(0,b.Z)(function*(){const Xe=yield function de(Ie,ne){const le="object"==typeof ne;return new Promise((Ae,Xe)=>{const Pe=new we.Hp({next:st=>{Ae(st),Pe.unsubscribe()},error:Xe,complete:()=>{le?Ae(ne.defaultValue):Xe(new u.K)}});Ie.subscribe(Pe)})}(le.lastDoc$);let st=(0,he.IO)((0,he.hJ)(le.firestore,"Recipe"),(0,he.Xo)("title"));Xe&&(st=(0,he.IO)(st,(0,he.TQ)(Xe))),st=(0,he.IO)(st,(0,he.b9)(12));const Ot=yield(0,he.PL)(st);let Ut=[];Ot.forEach(Rt=>{const ot={...Rt.data(),id:Rt.id};Ut.push(ot)});const Ft=12===Ot.size;return le.lastDocSubject.next(Ot.docs[Ot.docs.length-1]),{data:Ut,hasMore:Ft}})()}getRecipes(){var le=this;return(0,b.Z)(function*(){let Pe=(0,he.IO)((0,he.hJ)(le.firestore,"Recipe"),(0,he.Xo)("title"));Pe=(0,he.IO)(Pe,(0,he.b9)(12));const st=yield(0,he.PL)(Pe);let Ot=[];return st.forEach(Ft=>{const Rt={...Ft.data(),id:Ft.id};Ot.push(Rt)}),le.lastDocSubject.next(st.docs[st.docs.length-1]),{data:Ot}})()}searchRecipesByTitle(le){var Ae=this;return(0,b.Z)(function*(){let Pe=(0,he.IO)((0,he.hJ)(Ae.firestore,"Recipe"),(0,he.Xo)("title"));const st=yield(0,he.PL)(Pe);let Ot=[];return st.forEach(Ut=>{const xn={...Ut.data(),id:Ut.id};Ot.push(xn)}),le&&(Ot=Ot.filter(Ut=>Ut.title.toLowerCase().includes(le.toLowerCase()))),{data:Ot}})()}static#e=this.\u0275fac=function(Ae){return new(Ae||Ie)(Te.LFG(he.gg))};static#t=this.\u0275prov=Te.Yz7({token:Ie,factory:Ie.\u0275fac,providedIn:"root"})}return Ie})()},6499:(Bt,Ge,K)=>{K.d(Ge,{K:()=>Hf});var b=K(5861),oe=K(9058),u=K(4303),we=K(7879),de=K(7582),he=K(4537);const st=function Xe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ot=new oe.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ft=new we.Yd("@firebase/auth");function Rt(A,...v){Ft.logLevel<=we.in.ERROR&&Ft.error(`Auth (${u.Jn}): ${A}`,...v)}function mt(A,...v){throw je(A,...v)}function ot(A,...v){return je(A,...v)}function je(A,...v){if("string"!=typeof A){const w=v[0],N=[...v.slice(1)];return N[0]&&(N[0].appName=A.name),A._errorFactory.create(w,...N)}return Ot.create(A,...v)}function ve(A,v,...w){if(!A)throw je(v,...w)}function Ke(A){const v="INTERNAL ASSERTION FAILED: "+A;throw Rt(v),new Error(v)}function gt(A,v){A||Ke(v)}function Fn(){var A;return typeof self<"u"&&(null===(A=self.location)||void 0===A?void 0:A.href)||""}function dn(){var A;return typeof self<"u"&&(null===(A=self.location)||void 0===A?void 0:A.protocol)||null}class ir{constructor(v,w){this.shortDelay=v,this.longDelay=w,gt(w>v,"Short delay should be less than long delay!"),this.isMobile=(0,oe.uI)()||(0,oe.b$)()}get(){return function Sn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function ut(){return"http:"===dn()||"https:"===dn()}()||(0,oe.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function _r(A,v){gt(A.emulator,"Emulator should always be set here");const{url:w}=A.emulator;return v?`${w}${v.startsWith("/")?v.slice(1):v}`:w}class ke{static initialize(v,w,N){this.fetchImpl=v,w&&(this.headersImpl=w),N&&(this.responseImpl=N)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Ke("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Ke("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Ke("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const $e={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ye=new ir(3e4,6e4);function Ve(A,v){return A.tenantId&&!v.tenantId?Object.assign(Object.assign({},v),{tenantId:A.tenantId}):v}function nt(A,v,w,N){return bt.apply(this,arguments)}function bt(){return(bt=(0,b.Z)(function*(A,v,w,N,Z={}){return Pt(A,Z,(0,b.Z)(function*(){let ce={},Oe={};N&&("GET"===v?Oe=N:ce={body:JSON.stringify(N)});const et=(0,oe.xO)(Object.assign({key:A.config.apiKey},Oe)).slice(1),Et=yield A._getAdditionalHeaders();return Et["Content-Type"]="application/json",A.languageCode&&(Et["X-Firebase-Locale"]=A.languageCode),ke.fetch()(cn(A,A.config.apiHost,w,et),Object.assign({method:v,headers:Et,referrerPolicy:"no-referrer"},ce))}))})).apply(this,arguments)}function Pt(A,v,w){return jt.apply(this,arguments)}function jt(){return(jt=(0,b.Z)(function*(A,v,w){A._canInitEmulator=!1;const N=Object.assign(Object.assign({},$e),v);try{const Z=new Zn(A),ce=yield Promise.race([w(),Z.promise]);Z.clearNetworkTimeout();const Oe=yield ce.json();if("needConfirmation"in Oe)throw yr(A,"account-exists-with-different-credential",Oe);if(ce.ok&&!("errorMessage"in Oe))return Oe;{const et=ce.ok?Oe.errorMessage:Oe.error.message,[Et,un]=et.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Et)throw yr(A,"credential-already-in-use",Oe);if("EMAIL_EXISTS"===Et)throw yr(A,"email-already-in-use",Oe);if("USER_DISABLED"===Et)throw yr(A,"user-disabled",Oe);const Nn=N[Et]||Et.toLowerCase().replace(/[_\s]+/g,"-");if(un)throw function vt(A,v,w){const N=Object.assign(Object.assign({},st()),{[v]:w});return new oe.LL("auth","Firebase",N).create(v,{appName:A.name})}(A,Nn,un);mt(A,Nn)}}catch(Z){if(Z instanceof oe.ZR)throw Z;mt(A,"network-request-failed",{message:String(Z)})}})).apply(this,arguments)}function hn(A,v,w,N){return bn.apply(this,arguments)}function bn(){return(bn=(0,b.Z)(function*(A,v,w,N,Z={}){const ce=yield nt(A,v,w,N,Z);return"mfaPendingCredential"in ce&&mt(A,"multi-factor-auth-required",{_serverResponse:ce}),ce})).apply(this,arguments)}function cn(A,v,w,N){const Z=`${v}${w}?${N}`;return A.config.emulator?_r(A.config,Z):`${A.config.apiScheme}://${Z}`}function Dt(A){switch(A){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Zn{constructor(v){this.auth=v,this.timer=null,this.promise=new Promise((w,N)=>{this.timer=setTimeout(()=>N(ot(this.auth,"network-request-failed")),Ye.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function yr(A,v,w){const N={appName:A.name};w.email&&(N.email=w.email),w.phoneNumber&&(N.phoneNumber=w.phoneNumber);const Z=ot(A,v,N);return Z.customData._tokenResponse=w,Z}function Ce(A){return void 0!==A&&void 0!==A.enterprise}class xe{constructor(v){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===v.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=v.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=v.recaptchaEnforcementState}getProviderEnforcementState(v){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const w of this.recaptchaEnforcementState)if(w.provider&&w.provider===v)return Dt(w.enforcementState);return null}isProviderEnabled(v){return"ENFORCE"===this.getProviderEnforcementState(v)||"AUDIT"===this.getProviderEnforcementState(v)}}function yt(A,v){return At.apply(this,arguments)}function At(){return(At=(0,b.Z)(function*(A,v){return nt(A,"GET","/v2/recaptchaConfig",Ve(A,v))})).apply(this,arguments)}function An(){return(An=(0,b.Z)(function*(A,v){return nt(A,"POST","/v1/accounts:delete",v)})).apply(this,arguments)}function Jn(){return(Jn=(0,b.Z)(function*(A,v){return nt(A,"POST","/v1/accounts:lookup",v)})).apply(this,arguments)}function Xt(A){if(A)try{const v=new Date(Number(A));if(!isNaN(v.getTime()))return v.toUTCString()}catch{}}function mn(){return(mn=(0,b.Z)(function*(A,v=!1){const w=(0,oe.m9)(A),N=yield w.getIdToken(v),Z=Yn(N);ve(Z&&Z.exp&&Z.auth_time&&Z.iat,w.auth,"internal-error");const ce="object"==typeof Z.firebase?Z.firebase:void 0,Oe=ce?.sign_in_provider;return{claims:Z,token:N,authTime:Xt(ar(Z.auth_time)),issuedAtTime:Xt(ar(Z.iat)),expirationTime:Xt(ar(Z.exp)),signInProvider:Oe||null,signInSecondFactor:ce?.sign_in_second_factor||null}})).apply(this,arguments)}function ar(A){return 1e3*Number(A)}function Yn(A){const[v,w,N]=A.split(".");if(void 0===v||void 0===w||void 0===N)return Rt("JWT malformed, contained fewer than 3 sections"),null;try{const Z=(0,oe.tV)(w);return Z?JSON.parse(Z):(Rt("Failed to decode base64 JWT payload"),null)}catch(Z){return Rt("Caught error parsing JWT payload as JSON",Z?.toString()),null}}function Wn(A,v){return pi.apply(this,arguments)}function pi(){return(pi=(0,b.Z)(function*(A,v,w=!1){if(w)return v;try{return yield v}catch(N){throw N instanceof oe.ZR&&function Rn({code:A}){return"auth/user-disabled"===A||"auth/user-token-expired"===A}(N)&&A.auth.currentUser===A&&(yield A.auth.signOut()),N}})).apply(this,arguments)}class Xn{constructor(v){this.user=v,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(v){var w;if(v){const N=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),N}{this.errorBackoff=3e4;const Z=(null!==(w=this.user.stsTokenManager.expirationTime)&&void 0!==w?w:0)-Date.now()-3e5;return Math.max(0,Z)}}schedule(v=!1){var w=this;if(!this.isRunning)return;const N=this.getInterval(v);this.timerId=setTimeout((0,b.Z)(function*(){yield w.iteration()}),N)}iteration(){var v=this;return(0,b.Z)(function*(){try{yield v.user.getIdToken(!0)}catch(w){return void("auth/network-request-failed"===w?.code&&v.schedule(!0))}v.schedule()})()}}class Mr{constructor(v,w){this.createdAt=v,this.lastLoginAt=w,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xt(this.lastLoginAt),this.creationTime=Xt(this.createdAt)}_copy(v){this.createdAt=v.createdAt,this.lastLoginAt=v.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function gi(A){return tt.apply(this,arguments)}function tt(){return tt=(0,b.Z)(function*(A){var v;const w=A.auth,N=yield A.getIdToken(),Z=yield Wn(A,function En(A,v){return Jn.apply(this,arguments)}(w,{idToken:N}));ve(Z?.users.length,w,"internal-error");const ce=Z.users[0];A._notifyReloadListener(ce);const Oe=null!==(v=ce.providerUserInfo)&&void 0!==v&&v.length?function qt(A){return A.map(v=>{var{providerId:w}=v,N=(0,de._T)(v,["providerId"]);return{providerId:w,uid:N.rawId||"",displayName:N.displayName||null,email:N.email||null,phoneNumber:N.phoneNumber||null,photoURL:N.photoUrl||null}})}(ce.providerUserInfo):[],et=function It(A,v){return[...A.filter(N=>!v.some(Z=>Z.providerId===N.providerId)),...v]}(A.providerData,Oe),Nn=!!A.isAnonymous&&!(A.email&&ce.passwordHash||et?.length),Lr={uid:ce.localId,displayName:ce.displayName||null,photoURL:ce.photoUrl||null,email:ce.email||null,emailVerified:ce.emailVerified||!1,phoneNumber:ce.phoneNumber||null,tenantId:ce.tenantId||null,providerData:et,metadata:new Mr(ce.createdAt,ce.lastLoginAt),isAnonymous:Nn};Object.assign(A,Lr)}),tt.apply(this,arguments)}function Ze(){return(Ze=(0,b.Z)(function*(A){const v=(0,oe.m9)(A);yield gi(v),yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)})).apply(this,arguments)}function qn(){return(qn=(0,b.Z)(function*(A,v){const w=yield Pt(A,{},(0,b.Z)(function*(){const N=(0,oe.xO)({grant_type:"refresh_token",refresh_token:v}).slice(1),{tokenApiHost:Z,apiKey:ce}=A.config,Oe=cn(A,Z,"/v1/token",`key=${ce}`),et=yield A._getAdditionalHeaders();return et["Content-Type"]="application/x-www-form-urlencoded",ke.fetch()(Oe,{method:"POST",headers:et,body:N})}));return{accessToken:w.access_token,expiresIn:w.expires_in,refreshToken:w.refresh_token}})).apply(this,arguments)}function U(){return(U=(0,b.Z)(function*(A,v){return nt(A,"POST","/v2/accounts:revokeToken",Ve(A,v))})).apply(this,arguments)}class G{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(v){ve(v.idToken,"internal-error"),ve(typeof v.idToken<"u","internal-error"),ve(typeof v.refreshToken<"u","internal-error");const w="expiresIn"in v&&typeof v.expiresIn<"u"?Number(v.expiresIn):function cr(A){const v=Yn(A);return ve(v,"internal-error"),ve(typeof v.exp<"u","internal-error"),ve(typeof v.iat<"u","internal-error"),Number(v.exp)-Number(v.iat)}(v.idToken);this.updateTokensAndExpiration(v.idToken,v.refreshToken,w)}getToken(v,w=!1){var N=this;return(0,b.Z)(function*(){return ve(!N.accessToken||N.refreshToken,v,"user-token-expired"),w||!N.accessToken||N.isExpired?N.refreshToken?(yield N.refresh(v,N.refreshToken),N.accessToken):null:N.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(v,w){var N=this;return(0,b.Z)(function*(){const{accessToken:Z,refreshToken:ce,expiresIn:Oe}=yield function Zt(A,v){return qn.apply(this,arguments)}(v,w);N.updateTokensAndExpiration(Z,ce,Number(Oe))})()}updateTokensAndExpiration(v,w,N){this.refreshToken=w||null,this.accessToken=v||null,this.expirationTime=Date.now()+1e3*N}static fromJSON(v,w){const{refreshToken:N,accessToken:Z,expirationTime:ce}=w,Oe=new G;return N&&(ve("string"==typeof N,"internal-error",{appName:v}),Oe.refreshToken=N),Z&&(ve("string"==typeof Z,"internal-error",{appName:v}),Oe.accessToken=Z),ce&&(ve("number"==typeof ce,"internal-error",{appName:v}),Oe.expirationTime=ce),Oe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(v){this.accessToken=v.accessToken,this.refreshToken=v.refreshToken,this.expirationTime=v.expirationTime}_clone(){return Object.assign(new G,this.toJSON())}_performRefresh(){return Ke("not implemented")}}function q(A,v){ve("string"==typeof A||typeof A>"u","internal-error",{appName:v})}class ${constructor(v){var{uid:w,auth:N,stsTokenManager:Z}=v,ce=(0,de._T)(v,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=w,this.auth=N,this.stsTokenManager=Z,this.accessToken=Z.accessToken,this.displayName=ce.displayName||null,this.email=ce.email||null,this.emailVerified=ce.emailVerified||!1,this.phoneNumber=ce.phoneNumber||null,this.photoURL=ce.photoURL||null,this.isAnonymous=ce.isAnonymous||!1,this.tenantId=ce.tenantId||null,this.providerData=ce.providerData?[...ce.providerData]:[],this.metadata=new Mr(ce.createdAt||void 0,ce.lastLoginAt||void 0)}getIdToken(v){var w=this;return(0,b.Z)(function*(){const N=yield Wn(w,w.stsTokenManager.getToken(w.auth,v));return ve(N,w.auth,"internal-error"),w.accessToken!==N&&(w.accessToken=N,yield w.auth._persistUserIfCurrent(w),w.auth._notifyListenersIfCurrent(w)),N})()}getIdTokenResult(v){return function br(A){return mn.apply(this,arguments)}(this,v)}reload(){return function Se(A){return Ze.apply(this,arguments)}(this)}_assign(v){this!==v&&(ve(this.uid===v.uid,this.auth,"internal-error"),this.displayName=v.displayName,this.photoURL=v.photoURL,this.email=v.email,this.emailVerified=v.emailVerified,this.phoneNumber=v.phoneNumber,this.isAnonymous=v.isAnonymous,this.tenantId=v.tenantId,this.providerData=v.providerData.map(w=>Object.assign({},w)),this.metadata._copy(v.metadata),this.stsTokenManager._assign(v.stsTokenManager))}_clone(v){const w=new $(Object.assign(Object.assign({},this),{auth:v,stsTokenManager:this.stsTokenManager._clone()}));return w.metadata._copy(this.metadata),w}_onReload(v){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=v,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(v){this.reloadListener?this.reloadListener(v):this.reloadUserInfo=v}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(v,w=!1){var N=this;return(0,b.Z)(function*(){let Z=!1;v.idToken&&v.idToken!==N.stsTokenManager.accessToken&&(N.stsTokenManager.updateFromServerResponse(v),Z=!0),w&&(yield gi(N)),yield N.auth._persistUserIfCurrent(N),Z&&N.auth._notifyListenersIfCurrent(N)})()}delete(){var v=this;return(0,b.Z)(function*(){const w=yield v.getIdToken();return yield Wn(v,function vr(A,v){return An.apply(this,arguments)}(v.auth,{idToken:w})),v.stsTokenManager.clearRefreshToken(),v.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(v=>Object.assign({},v)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(v,w){var N,Z,ce,Oe,et,Et,un,Nn;const Lr=null!==(N=w.displayName)&&void 0!==N?N:void 0,Wa=null!==(Z=w.email)&&void 0!==Z?Z:void 0,Cu=null!==(ce=w.phoneNumber)&&void 0!==ce?ce:void 0,id=null!==(Oe=w.photoURL)&&void 0!==Oe?Oe:void 0,s_=null!==(et=w.tenantId)&&void 0!==et?et:void 0,o_=null!==(Et=w._redirectEventId)&&void 0!==Et?Et:void 0,Gf=null!==(un=w.createdAt)&&void 0!==un?un:void 0,sd=null!==(Nn=w.lastLoginAt)&&void 0!==Nn?Nn:void 0,{uid:jf,emailVerified:sb,isAnonymous:a_,providerData:mv,stsTokenManager:_v}=w;ve(jf&&_v,v,"internal-error");const mg=G.fromJSON(this.name,_v);ve("string"==typeof jf,v,"internal-error"),q(Lr,v.name),q(Wa,v.name),ve("boolean"==typeof sb,v,"internal-error"),ve("boolean"==typeof a_,v,"internal-error"),q(Cu,v.name),q(id,v.name),q(s_,v.name),q(o_,v.name),q(Gf,v.name),q(sd,v.name);const od=new $({uid:jf,auth:v,email:Wa,emailVerified:sb,displayName:Lr,isAnonymous:a_,photoURL:id,phoneNumber:Cu,tenantId:s_,stsTokenManager:mg,createdAt:Gf,lastLoginAt:sd});return mv&&Array.isArray(mv)&&(od.providerData=mv.map(_g=>Object.assign({},_g))),o_&&(od._redirectEventId=o_),od}static _fromIdTokenResponse(v,w,N=!1){return(0,b.Z)(function*(){const Z=new G;Z.updateFromServerResponse(w);const ce=new $({uid:w.localId,auth:v,stsTokenManager:Z,isAnonymous:N});return yield gi(ce),ce})()}}const be=new Map;function qe(A){gt(A instanceof Function,"Expected a class definition");let v=be.get(A);return v?(gt(v instanceof A,"Instance stored in cache mismatched with class"),v):(v=new A,be.set(A,v),v)}const rn=(()=>{class A{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,b.Z)(function*(){return!0})()}_set(w,N){var Z=this;return(0,b.Z)(function*(){Z.storage[w]=N})()}_get(w){var N=this;return(0,b.Z)(function*(){const Z=N.storage[w];return void 0===Z?null:Z})()}_remove(w){var N=this;return(0,b.Z)(function*(){delete N.storage[w]})()}_addListener(w,N){}_removeListener(w,N){}}return A.type="NONE",A})();function ln(A,v,w){return`firebase:${A}:${v}:${w}`}class On{constructor(v,w,N){this.persistence=v,this.auth=w,this.userKey=N;const{config:Z,name:ce}=this.auth;this.fullUserKey=ln(this.userKey,Z.apiKey,ce),this.fullPersistenceKey=ln("persistence",Z.apiKey,ce),this.boundEventHandler=w._onStorageEvent.bind(w),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(v){return this.persistence._set(this.fullUserKey,v.toJSON())}getCurrentUser(){var v=this;return(0,b.Z)(function*(){const w=yield v.persistence._get(v.fullUserKey);return w?$._fromJSON(v.auth,w):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(v){var w=this;return(0,b.Z)(function*(){if(w.persistence===v)return;const N=yield w.getCurrentUser();return yield w.removeCurrentUser(),w.persistence=v,N?w.setCurrentUser(N):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(v,w,N="authUser"){return(0,b.Z)(function*(){if(!w.length)return new On(qe(rn),v,N);const Z=(yield Promise.all(w.map(function(){var un=(0,b.Z)(function*(Nn){if(yield Nn._isAvailable())return Nn});return function(Nn){return un.apply(this,arguments)}}()))).filter(un=>un);let ce=Z[0]||qe(rn);const Oe=ln(N,v.config.apiKey,v.name);let et=null;for(const un of w)try{const Nn=yield un._get(Oe);if(Nn){const Lr=$._fromJSON(v,Nn);un!==ce&&(et=Lr),ce=un;break}}catch{}const Et=Z.filter(un=>un._shouldAllowMigration);return ce._shouldAllowMigration&&Et.length?(ce=Et[0],et&&(yield ce._set(Oe,et.toJSON())),yield Promise.all(w.map(function(){var un=(0,b.Z)(function*(Nn){if(Nn!==ce)try{yield Nn._remove(Oe)}catch{}});return function(Nn){return un.apply(this,arguments)}}())),new On(ce,v,N)):new On(ce,v,N)})()}}function Wt(A){const v=A.toLowerCase();if(v.includes("opera/")||v.includes("opr/")||v.includes("opios/"))return"Opera";if(ks(v))return"IEMobile";if(v.includes("msie")||v.includes("trident/"))return"IE";if(v.includes("edge/"))return"Edge";if(Ln(v))return"Firefox";if(v.includes("silk/"))return"Silk";if(ns(v))return"Blackberry";if(uo(v))return"Webos";if(pr(v))return"Safari";if((v.includes("chrome/")||tr(v))&&!v.includes("edge/"))return"Chrome";if(ua(v))return"Android";{const N=A.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===N?.length)return N[1]}return"Other"}function Ln(A=(0,oe.z$)()){return/firefox\//i.test(A)}function pr(A=(0,oe.z$)()){const v=A.toLowerCase();return v.includes("safari/")&&!v.includes("chrome/")&&!v.includes("crios/")&&!v.includes("android")}function tr(A=(0,oe.z$)()){return/crios\//i.test(A)}function ks(A=(0,oe.z$)()){return/iemobile/i.test(A)}function ua(A=(0,oe.z$)()){return/android/i.test(A)}function ns(A=(0,oe.z$)()){return/blackberry/i.test(A)}function uo(A=(0,oe.z$)()){return/webos/i.test(A)}function Xo(A=(0,oe.z$)()){return/iphone|ipad|ipod/i.test(A)||/macintosh/i.test(A)&&/mobile/i.test(A)}function ws(A=(0,oe.z$)()){return Xo(A)||ua(A)||uo(A)||ns(A)||/windows phone/i.test(A)||ks(A)}function lr(A,v=[]){let w;switch(A){case"Browser":w=Wt((0,oe.z$)());break;case"Worker":w=`${Wt((0,oe.z$)())}-${A}`;break;default:w=A}const N=v.length?v.join(","):"FirebaseCore-web";return`${w}/JsCore/${u.Jn}/${N}`}class ho{constructor(v){this.auth=v,this.queue=[]}pushCallback(v,w){const N=ce=>new Promise((Oe,et)=>{try{Oe(v(ce))}catch(Et){et(Et)}});N.onAbort=w,this.queue.push(N);const Z=this.queue.length-1;return()=>{this.queue[Z]=()=>Promise.resolve()}}runMiddleware(v){var w=this;return(0,b.Z)(function*(){if(w.auth.currentUser===v)return;const N=[];try{for(const Z of w.queue)yield Z(v),Z.onAbort&&N.push(Z.onAbort)}catch(Z){N.reverse();for(const ce of N)try{ce()}catch{}throw w.auth._errorFactory.create("login-blocked",{originalMessage:Z?.message})}})()}}function fo(){return(fo=(0,b.Z)(function*(A,v={}){return nt(A,"GET","/v2/passwordPolicy",Ve(A,v))})).apply(this,arguments)}class Ts{constructor(v){var w,N,Z,ce;const Oe=v.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(w=Oe.minPasswordLength)&&void 0!==w?w:6,Oe.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Oe.maxPasswordLength),void 0!==Oe.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Oe.containsLowercaseCharacter),void 0!==Oe.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Oe.containsUppercaseCharacter),void 0!==Oe.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Oe.containsNumericCharacter),void 0!==Oe.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Oe.containsNonAlphanumericCharacter),this.enforcementState=v.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(Z=null===(N=v.allowedNonAlphanumericCharacters)||void 0===N?void 0:N.join(""))&&void 0!==Z?Z:"",this.forceUpgradeOnSignin=null!==(ce=v.forceUpgradeOnSignin)&&void 0!==ce&&ce,this.schemaVersion=v.schemaVersion}validatePassword(v){var w,N,Z,ce,Oe,et;const Et={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(v,Et),this.validatePasswordCharacterOptions(v,Et),Et.isValid&&(Et.isValid=null===(w=Et.meetsMinPasswordLength)||void 0===w||w),Et.isValid&&(Et.isValid=null===(N=Et.meetsMaxPasswordLength)||void 0===N||N),Et.isValid&&(Et.isValid=null===(Z=Et.containsLowercaseLetter)||void 0===Z||Z),Et.isValid&&(Et.isValid=null===(ce=Et.containsUppercaseLetter)||void 0===ce||ce),Et.isValid&&(Et.isValid=null===(Oe=Et.containsNumericCharacter)||void 0===Oe||Oe),Et.isValid&&(Et.isValid=null===(et=Et.containsNonAlphanumericCharacter)||void 0===et||et),Et}validatePasswordLengthOptions(v,w){const N=this.customStrengthOptions.minPasswordLength,Z=this.customStrengthOptions.maxPasswordLength;N&&(w.meetsMinPasswordLength=v.length>=N),Z&&(w.meetsMaxPasswordLength=v.length<=Z)}validatePasswordCharacterOptions(v,w){let N;this.updatePasswordCharacterOptionsStatuses(w,!1,!1,!1,!1);for(let Z=0;Z<v.length;Z++)N=v.charAt(Z),this.updatePasswordCharacterOptionsStatuses(w,N>="a"&&N<="z",N>="A"&&N<="Z",N>="0"&&N<="9",this.allowedNonAlphanumericCharacters.includes(N))}updatePasswordCharacterOptionsStatuses(v,w,N,Z,ce){this.customStrengthOptions.containsLowercaseLetter&&(v.containsLowercaseLetter||(v.containsLowercaseLetter=w)),this.customStrengthOptions.containsUppercaseLetter&&(v.containsUppercaseLetter||(v.containsUppercaseLetter=N)),this.customStrengthOptions.containsNumericCharacter&&(v.containsNumericCharacter||(v.containsNumericCharacter=Z)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(v.containsNonAlphanumericCharacter||(v.containsNonAlphanumericCharacter=ce))}}class js{constructor(v,w,N,Z){this.app=v,this.heartbeatServiceProvider=w,this.appCheckServiceProvider=N,this.config=Z,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $s(this),this.idTokenSubscription=new $s(this),this.beforeStateQueue=new ho(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ot,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=v.name,this.clientVersion=Z.sdkClientVersion}_initializeWithPersistence(v,w){var N=this;return w&&(this._popupRedirectResolver=qe(w)),this._initializationPromise=this.queue((0,b.Z)(function*(){var Z,ce;if(!N._deleted&&(N.persistenceManager=yield On.create(N,v),!N._deleted)){if(null!==(Z=N._popupRedirectResolver)&&void 0!==Z&&Z._shouldInitProactively)try{yield N._popupRedirectResolver._initialize(N)}catch{}yield N.initializeCurrentUser(w),N.lastNotifiedUid=(null===(ce=N.currentUser)||void 0===ce?void 0:ce.uid)||null,!N._deleted&&(N._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var v=this;return(0,b.Z)(function*(){if(v._deleted)return;const w=yield v.assertedPersistence.getCurrentUser();if(v.currentUser||w){if(v.currentUser&&w&&v.currentUser.uid===w.uid)return v._currentUser._assign(w),void(yield v.currentUser.getIdToken());yield v._updateCurrentUser(w,!0)}})()}initializeCurrentUser(v){var w=this;return(0,b.Z)(function*(){var N;const Z=yield w.assertedPersistence.getCurrentUser();let ce=Z,Oe=!1;if(v&&w.config.authDomain){yield w.getOrInitRedirectPersistenceManager();const et=null===(N=w.redirectUser)||void 0===N?void 0:N._redirectEventId,Et=ce?._redirectEventId,un=yield w.tryRedirectSignIn(v);(!et||et===Et)&&un?.user&&(ce=un.user,Oe=!0)}if(!ce)return w.directlySetCurrentUser(null);if(!ce._redirectEventId){if(Oe)try{yield w.beforeStateQueue.runMiddleware(ce)}catch(et){ce=Z,w._popupRedirectResolver._overrideRedirectResult(w,()=>Promise.reject(et))}return ce?w.reloadAndSetCurrentUserOrClear(ce):w.directlySetCurrentUser(null)}return ve(w._popupRedirectResolver,w,"argument-error"),yield w.getOrInitRedirectPersistenceManager(),w.redirectUser&&w.redirectUser._redirectEventId===ce._redirectEventId?w.directlySetCurrentUser(ce):w.reloadAndSetCurrentUserOrClear(ce)})()}tryRedirectSignIn(v){var w=this;return(0,b.Z)(function*(){let N=null;try{N=yield w._popupRedirectResolver._completeRedirectFn(w,v,!0)}catch{yield w._setRedirectUser(null)}return N})()}reloadAndSetCurrentUserOrClear(v){var w=this;return(0,b.Z)(function*(){try{yield gi(v)}catch(N){if("auth/network-request-failed"!==N?.code)return w.directlySetCurrentUser(null)}return w.directlySetCurrentUser(v)})()}useDeviceLanguage(){this.languageCode=function Gn(){if(typeof navigator>"u")return null;const A=navigator;return A.languages&&A.languages[0]||A.language||null}()}_delete(){var v=this;return(0,b.Z)(function*(){v._deleted=!0})()}updateCurrentUser(v){var w=this;return(0,b.Z)(function*(){const N=v?(0,oe.m9)(v):null;return N&&ve(N.auth.config.apiKey===w.config.apiKey,w,"invalid-user-token"),w._updateCurrentUser(N&&N._clone(w))})()}_updateCurrentUser(v,w=!1){var N=this;return(0,b.Z)(function*(){if(!N._deleted)return v&&ve(N.tenantId===v.tenantId,N,"tenant-id-mismatch"),w||(yield N.beforeStateQueue.runMiddleware(v)),N.queue((0,b.Z)(function*(){yield N.directlySetCurrentUser(v),N.notifyAuthListeners()}))})()}signOut(){var v=this;return(0,b.Z)(function*(){return yield v.beforeStateQueue.runMiddleware(null),(v.redirectPersistenceManager||v._popupRedirectResolver)&&(yield v._setRedirectUser(null)),v._updateCurrentUser(null,!0)})()}setPersistence(v){var w=this;return this.queue((0,b.Z)(function*(){yield w.assertedPersistence.setPersistence(qe(v))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(v){var w=this;return(0,b.Z)(function*(){w._getPasswordPolicyInternal()||(yield w._updatePasswordPolicy());const N=w._getPasswordPolicyInternal();return N.schemaVersion!==w.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(w._errorFactory.create("unsupported-password-policy-schema-version",{})):N.validatePassword(v)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var v=this;return(0,b.Z)(function*(){const w=yield function hs(A){return fo.apply(this,arguments)}(v),N=new Ts(w);null===v.tenantId?v._projectPasswordPolicy=N:v._tenantPasswordPolicies[v.tenantId]=N})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(v){this._errorFactory=new oe.LL("auth","Firebase",v())}onAuthStateChanged(v,w,N){return this.registerStateListener(this.authStateSubscription,v,w,N)}beforeAuthStateChanged(v,w){return this.beforeStateQueue.pushCallback(v,w)}onIdTokenChanged(v,w,N){return this.registerStateListener(this.idTokenSubscription,v,w,N)}authStateReady(){return new Promise((v,w)=>{if(this.currentUser)v();else{const N=this.onAuthStateChanged(()=>{N(),v()},w)}})}revokeAccessToken(v){var w=this;return(0,b.Z)(function*(){if(w.currentUser){const N=yield w.currentUser.getIdToken(),Z={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:v,idToken:N};null!=w.tenantId&&(Z.tenantId=w.tenantId),yield function Y(A,v){return U.apply(this,arguments)}(w,Z)}})()}toJSON(){var v;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(v=this._currentUser)||void 0===v?void 0:v.toJSON()}}_setRedirectUser(v,w){var N=this;return(0,b.Z)(function*(){const Z=yield N.getOrInitRedirectPersistenceManager(w);return null===v?Z.removeCurrentUser():Z.setCurrentUser(v)})()}getOrInitRedirectPersistenceManager(v){var w=this;return(0,b.Z)(function*(){if(!w.redirectPersistenceManager){const N=v&&qe(v)||w._popupRedirectResolver;ve(N,w,"argument-error"),w.redirectPersistenceManager=yield On.create(w,[qe(N._redirectPersistence)],"redirectUser"),w.redirectUser=yield w.redirectPersistenceManager.getCurrentUser()}return w.redirectPersistenceManager})()}_redirectUserForId(v){var w=this;return(0,b.Z)(function*(){var N,Z;return w._isInitialized&&(yield w.queue((0,b.Z)(function*(){}))),(null===(N=w._currentUser)||void 0===N?void 0:N._redirectEventId)===v?w._currentUser:(null===(Z=w.redirectUser)||void 0===Z?void 0:Z._redirectEventId)===v?w.redirectUser:null})()}_persistUserIfCurrent(v){var w=this;return(0,b.Z)(function*(){if(v===w.currentUser)return w.queue((0,b.Z)(function*(){return w.directlySetCurrentUser(v)}))})()}_notifyListenersIfCurrent(v){v===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var v,w;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const N=null!==(w=null===(v=this.currentUser)||void 0===v?void 0:v.uid)&&void 0!==w?w:null;this.lastNotifiedUid!==N&&(this.lastNotifiedUid=N,this.authStateSubscription.next(this.currentUser))}registerStateListener(v,w,N,Z){if(this._deleted)return()=>{};const ce="function"==typeof w?w:w.next.bind(w);let Oe=!1;const et=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(et,this,"internal-error"),et.then(()=>{Oe||ce(this.currentUser)}),"function"==typeof w){const Et=v.addObserver(w,N,Z);return()=>{Oe=!0,Et()}}{const Et=v.addObserver(w);return()=>{Oe=!0,Et()}}}directlySetCurrentUser(v){var w=this;return(0,b.Z)(function*(){w.currentUser&&w.currentUser!==v&&w._currentUser._stopProactiveRefresh(),v&&w.isProactiveRefreshEnabled&&v._startProactiveRefresh(),w.currentUser=v,v?yield w.assertedPersistence.setCurrentUser(v):yield w.assertedPersistence.removeCurrentUser()})()}queue(v){return this.operations=this.operations.then(v,v),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(v){!v||this.frameworks.includes(v)||(this.frameworks.push(v),this.frameworks.sort(),this.clientVersion=lr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var v=this;return(0,b.Z)(function*(){var w;const N={"X-Client-Version":v.clientVersion};v.app.options.appId&&(N["X-Firebase-gmpid"]=v.app.options.appId);const Z=yield null===(w=v.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===w?void 0:w.getHeartbeatsHeader();Z&&(N["X-Firebase-Client"]=Z);const ce=yield v._getAppCheckToken();return ce&&(N["X-Firebase-AppCheck"]=ce),N})()}_getAppCheckToken(){var v=this;return(0,b.Z)(function*(){var w;const N=yield null===(w=v.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===w?void 0:w.getToken();return N?.error&&function xn(A,...v){Ft.logLevel<=we.in.WARN&&Ft.warn(`Auth (${u.Jn}): ${A}`,...v)}(`Error while retrieving App Check token: ${N.error}`),N?.token})()}}function ai(A){return(0,oe.m9)(A)}class $s{constructor(v){this.auth=v,this.observer=null,this.addObserver=(0,oe.ne)(w=>this.observer=w)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let qi={loadJS:()=>(0,b.Z)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fs(A){return qi.loadJS(A)}function Fs(A){return`__${A}${Math.floor(1e6*Math.random())}`}class Es{constructor(v){this.type="recaptcha-enterprise",this.auth=ai(v)}verify(v="verify",w=!1){var N=this;return(0,b.Z)(function*(){function ce(){return ce=(0,b.Z)(function*(et){if(!w){if(null==et.tenantId&&null!=et._agentRecaptchaConfig)return et._agentRecaptchaConfig.siteKey;if(null!=et.tenantId&&void 0!==et._tenantRecaptchaConfigs[et.tenantId])return et._tenantRecaptchaConfigs[et.tenantId].siteKey}return new Promise(function(){var Et=(0,b.Z)(function*(un,Nn){yt(et,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Lr=>{if(void 0!==Lr.recaptchaKey){const Wa=new xe(Lr);return null==et.tenantId?et._agentRecaptchaConfig=Wa:et._tenantRecaptchaConfigs[et.tenantId]=Wa,un(Wa.siteKey)}Nn(new Error("recaptcha Enterprise site key undefined"))}).catch(Lr=>{Nn(Lr)})});return function(un,Nn){return Et.apply(this,arguments)}}())}),ce.apply(this,arguments)}function Oe(et,Et,un){const Nn=window.grecaptcha;Ce(Nn)?Nn.enterprise.ready(()=>{Nn.enterprise.execute(et,{action:v}).then(Lr=>{Et(Lr)}).catch(()=>{Et("NO_RECAPTCHA")})}):un(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((et,Et)=>{(function Z(et){return ce.apply(this,arguments)})(N.auth).then(un=>{if(!w&&Ce(window.grecaptcha))Oe(un,et,Et);else{if(typeof window>"u")return void Et(new Error("RecaptchaVerifier is only supported in browser"));let Nn=function mi(){return qi.recaptchaEnterpriseScript}();0!==Nn.length&&(Nn+=un),fs(Nn).then(()=>{Oe(un,et,Et)}).catch(Lr=>{Et(Lr)})}}).catch(un=>{Et(un)})})})()}}function ci(A,v,w){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,b.Z)(function*(A,v,w,N=!1){const Z=new Es(A);let ce;try{ce=yield Z.verify(w)}catch{ce=yield Z.verify(w,!0)}const Oe=Object.assign({},v);return Object.assign(Oe,N?{captchaResp:ce}:{captchaResponse:ce}),Object.assign(Oe,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Oe,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Oe})).apply(this,arguments)}function Ls(A,v,w,N){return go.apply(this,arguments)}function go(){return go=(0,b.Z)(function*(A,v,w,N){var Z;if(null!==(Z=A._getRecaptchaConfig())&&void 0!==Z&&Z.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const ce=yield ci(A,v,w,"getOobCode"===w);return N(A,ce)}return N(A,v).catch(function(){var ce=(0,b.Z)(function*(Oe){if("auth/missing-recaptcha-token"===Oe.code){console.log(`${w} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const et=yield ci(A,v,w,"getOobCode"===w);return N(A,et)}return Promise.reject(Oe)});return function(Oe){return ce.apply(this,arguments)}}())}),go.apply(this,arguments)}function _i(A){const v=A.indexOf(":");return v<0?"":A.substr(0,v+1)}function Ro(A){if(!A)return null;const v=Number(A);return isNaN(v)?null:v}class ps{constructor(v,w){this.providerId=v,this.signInMethod=w}toJSON(){return Ke("not implemented")}_getIdTokenResponse(v){return Ke("not implemented")}_linkToIdToken(v,w){return Ke("not implemented")}_getReauthenticationResolver(v){return Ke("not implemented")}}function Qr(A,v){return Po.apply(this,arguments)}function Po(){return(Po=(0,b.Z)(function*(A,v){return nt(A,"POST","/v1/accounts:signUp",v)})).apply(this,arguments)}function Gi(A,v){return rs.apply(this,arguments)}function rs(){return(rs=(0,b.Z)(function*(A,v){return hn(A,"POST","/v1/accounts:signInWithPassword",Ve(A,v))})).apply(this,arguments)}function Ki(){return(Ki=(0,b.Z)(function*(A,v){return nt(A,"POST","/v1/accounts:sendOobCode",Ve(A,v))})).apply(this,arguments)}function Fa(A,v){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,b.Z)(function*(A,v){return function ui(A,v){return Ki.apply(this,arguments)}(A,v)})).apply(this,arguments)}function Ws(){return(Ws=(0,b.Z)(function*(A,v){return hn(A,"POST","/v1/accounts:signInWithEmailLink",Ve(A,v))})).apply(this,arguments)}function sr(){return(sr=(0,b.Z)(function*(A,v){return hn(A,"POST","/v1/accounts:signInWithEmailLink",Ve(A,v))})).apply(this,arguments)}class er extends ps{constructor(v,w,N,Z=null){super("password",N),this._email=v,this._password=w,this._tenantId=Z}static _fromEmailAndPassword(v,w){return new er(v,w,"password")}static _fromEmailAndCode(v,w,N=null){return new er(v,w,"emailLink",N)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(v){const w="string"==typeof v?JSON.parse(v):v;if(w?.email&&w?.password){if("password"===w.signInMethod)return this._fromEmailAndPassword(w.email,w.password);if("emailLink"===w.signInMethod)return this._fromEmailAndCode(w.email,w.password,w.tenantId)}return null}_getIdTokenResponse(v){var w=this;return(0,b.Z)(function*(){switch(w.signInMethod){case"password":return Ls(v,{returnSecureToken:!0,email:w._email,password:w._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Gi);case"emailLink":return function wi(A,v){return Ws.apply(this,arguments)}(v,{email:w._email,oobCode:w._password});default:mt(v,"internal-error")}})()}_linkToIdToken(v,w){var N=this;return(0,b.Z)(function*(){switch(N.signInMethod){case"password":return Ls(v,{idToken:w,returnSecureToken:!0,email:N._email,password:N._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Qr);case"emailLink":return function ti(A,v){return sr.apply(this,arguments)}(v,{idToken:w,email:N._email,oobCode:N._password});default:mt(v,"internal-error")}})()}_getReauthenticationResolver(v){return this._getIdTokenResponse(v)}}function wr(A,v){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,b.Z)(function*(A,v){return hn(A,"POST","/v1/accounts:signInWithIdp",Ve(A,v))})).apply(this,arguments)}class $n{constructor(v){var w,N,Z,ce,Oe,et;const Et=(0,oe.zd)((0,oe.pd)(v)),un=null!==(w=Et.apiKey)&&void 0!==w?w:null,Nn=null!==(N=Et.oobCode)&&void 0!==N?N:null,Lr=function Zs(A){switch(A){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Z=Et.mode)&&void 0!==Z?Z:null);ve(un&&Nn&&Lr,"argument-error"),this.apiKey=un,this.operation=Lr,this.code=Nn,this.continueUrl=null!==(ce=Et.continueUrl)&&void 0!==ce?ce:null,this.languageCode=null!==(Oe=Et.languageCode)&&void 0!==Oe?Oe:null,this.tenantId=null!==(et=Et.tenantId)&&void 0!==et?et:null}static parseLink(v){const w=function Fo(A){const v=(0,oe.zd)((0,oe.pd)(A)).link,w=v?(0,oe.zd)((0,oe.pd)(v)).deep_link_id:null,N=(0,oe.zd)((0,oe.pd)(A)).deep_link_id;return(N?(0,oe.zd)((0,oe.pd)(N)).link:null)||N||w||v||A}(v);try{return new $n(w)}catch{return null}}}let Lo=(()=>{class A{constructor(){this.providerId=A.PROVIDER_ID}static credential(w,N){return er._fromEmailAndPassword(w,N)}static credentialWithLink(w,N){const Z=$n.parseLink(N);return ve(Z,"argument-error"),er._fromEmailAndCode(w,Z.code,Z.tenantId)}}return A.PROVIDER_ID="password",A.EMAIL_PASSWORD_SIGN_IN_METHOD="password",A.EMAIL_LINK_SIGN_IN_METHOD="emailLink",A})();class Ii{constructor(v){this.providerId=v,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(v){this.defaultLanguageCode=v}setCustomParameters(v){return this.customParameters=v,this}getCustomParameters(){return this.customParameters}}class Si extends Ii{constructor(){super(...arguments),this.scopes=[]}addScope(v){return this.scopes.includes(v)||this.scopes.push(v),this}getScopes(){return[...this.scopes]}}function yo(A,v){return yi.apply(this,arguments)}function yi(){return(yi=(0,b.Z)(function*(A,v){return hn(A,"POST","/v1/accounts:signUp",Ve(A,v))})).apply(this,arguments)}class Ai{constructor(v){this.user=v.user,this.providerId=v.providerId,this._tokenResponse=v._tokenResponse,this.operationType=v.operationType}static _fromIdTokenResponse(v,w,N,Z=!1){return(0,b.Z)(function*(){const ce=yield $._fromIdTokenResponse(v,N,Z),Oe=Ba(N);return new Ai({user:ce,providerId:Oe,_tokenResponse:N,operationType:w})})()}static _forOperation(v,w,N){return(0,b.Z)(function*(){yield v._updateTokensIfNecessary(N,!0);const Z=Ba(N);return new Ai({user:v,providerId:Z,_tokenResponse:N,operationType:w})})()}}function Ba(A){return A.providerId?A.providerId:"phoneNumber"in A?"phone":null}class Ua extends oe.ZR{constructor(v,w,N,Z){var ce;super(w.code,w.message),this.operationType=N,this.user=Z,Object.setPrototypeOf(this,Ua.prototype),this.customData={appName:v.name,tenantId:null!==(ce=v.tenantId)&&void 0!==ce?ce:void 0,_serverResponse:w.customData._serverResponse,operationType:N}}static _fromErrorAndOperation(v,w,N,Z){return new Ua(v,w,N,Z)}}function Xr(A,v,w,N){return("reauthenticate"===v?w._getReauthenticationResolver(A):w._getIdTokenResponse(A)).catch(ce=>{throw"auth/multi-factor-auth-required"===ce.code?Ua._fromErrorAndOperation(A,ce,v,N):ce})}function B(){return(B=(0,b.Z)(function*(A,v,w=!1){const N=yield Wn(A,v._linkToIdToken(A.auth,yield A.getIdToken()),w);return Ai._forOperation(A,"link",N)})).apply(this,arguments)}function Hn(){return(Hn=(0,b.Z)(function*(A,v,w=!1){const{auth:N}=A,Z="reauthenticate";try{const ce=yield Wn(A,Xr(N,Z,v,A),w);ve(ce.idToken,N,"internal-error");const Oe=Yn(ce.idToken);ve(Oe,N,"internal-error");const{sub:et}=Oe;return ve(A.uid===et,N,"user-mismatch"),Ai._forOperation(A,Z,ce)}catch(ce){throw"auth/user-not-found"===ce?.code&&mt(N,"user-mismatch"),ce}})).apply(this,arguments)}function Yi(A,v){return vo.apply(this,arguments)}function vo(){return(vo=(0,b.Z)(function*(A,v,w=!1){const N="signIn",Z=yield Xr(A,N,v),ce=yield Ai._fromIdTokenResponse(A,N,Z);return w||(yield A._updateCurrentUser(ce.user)),ce})).apply(this,arguments)}function $i(A,v){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,b.Z)(function*(A,v){return Yi(ai(A),v)})).apply(this,arguments)}function hl(A){return hi.apply(this,arguments)}function hi(){return(hi=(0,b.Z)(function*(A){const v=ai(A);v._getPasswordPolicyInternal()&&(yield v._updatePasswordPolicy())})).apply(this,arguments)}function Tc(){return(Tc=(0,b.Z)(function*(A,v,w){const N=ai(A),Z={requestType:"PASSWORD_RESET",email:v,clientType:"CLIENT_TYPE_WEB"};w&&function Vo(A,v,w){var N;ve((null===(N=w.url)||void 0===N?void 0:N.length)>0,A,"invalid-continue-uri"),ve(typeof w.dynamicLinkDomain>"u"||w.dynamicLinkDomain.length>0,A,"invalid-dynamic-link-domain"),v.continueUrl=w.url,v.dynamicLinkDomain=w.dynamicLinkDomain,v.canHandleCodeInApp=w.handleCodeInApp,w.iOS&&(ve(w.iOS.bundleId.length>0,A,"missing-ios-bundle-id"),v.iOSBundleId=w.iOS.bundleId),w.android&&(ve(w.android.packageName.length>0,A,"missing-android-pkg-name"),v.androidInstallApp=w.android.installApp,v.androidMinimumVersionCode=w.android.minimumVersion,v.androidPackageName=w.android.packageName)}(N,Z,w),yield Ls(N,Z,"getOobCode",Fa)})).apply(this,arguments)}function Ga(){return(Ga=(0,b.Z)(function*(A,v,w){const N=ai(A),Oe=yield Ls(N,{returnSecureToken:!0,email:v,password:w,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",yo).catch(Et=>{throw"auth/password-does-not-meet-requirements"===Et.code&&hl(A),Et}),et=yield Ai._fromIdTokenResponse(N,"signIn",Oe);return yield N._updateCurrentUser(et.user),et})).apply(this,arguments)}function Cc(){return(Cc=(0,b.Z)(function*(A){return(0,oe.m9)(A).delete()})).apply(this,arguments)}const pn="__sak";class vs{constructor(v,w){this.storageRetriever=v,this.type=w}_isAvailable(){try{return this.storage?(this.storage.setItem(pn,"1"),this.storage.removeItem(pn),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(v,w){return this.storage.setItem(v,JSON.stringify(w)),Promise.resolve()}_get(v){const w=this.storage.getItem(v);return Promise.resolve(w?JSON.parse(w):null)}_remove(v){return this.storage.removeItem(v),Promise.resolve()}get storage(){return this.storageRetriever()}}const kl=(()=>{class A extends vs{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(w,N)=>this.onStorageEvent(w,N),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Th(){const A=(0,oe.z$)();return pr(A)||Xo(A)}()&&function Is(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ws(),this._shouldAllowMigration=!0}forAllChangedKeys(w){for(const N of Object.keys(this.listeners)){const Z=this.storage.getItem(N),ce=this.localCache[N];Z!==ce&&w(N,ce,Z)}}onStorageEvent(w,N=!1){if(!w.key)return void this.forAllChangedKeys((et,Et,un)=>{this.notifyListeners(et,un)});const Z=w.key;if(N?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const et=this.storage.getItem(Z);if(w.newValue!==et)null!==w.newValue?this.storage.setItem(Z,w.newValue):this.storage.removeItem(Z);else if(this.localCache[Z]===w.newValue&&!N)return}const ce=()=>{const et=this.storage.getItem(Z);!N&&this.localCache[Z]===et||this.notifyListeners(Z,et)},Oe=this.storage.getItem(Z);!function da(){return(0,oe.w1)()&&10===document.documentMode}()||Oe===w.newValue||w.newValue===w.oldValue?ce():setTimeout(ce,10)}notifyListeners(w,N){this.localCache[w]=N;const Z=this.listeners[w];if(Z)for(const ce of Array.from(Z))ce(N&&JSON.parse(N))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((w,N,Z)=>{this.onStorageEvent(new StorageEvent("storage",{key:w,oldValue:N,newValue:Z}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(w,N){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[w]||(this.listeners[w]=new Set,this.localCache[w]=this.storage.getItem(w)),this.listeners[w].add(N)}_removeListener(w,N){this.listeners[w]&&(this.listeners[w].delete(N),0===this.listeners[w].size&&delete this.listeners[w]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(w,N){var Z=()=>super._set,ce=this;return(0,b.Z)(function*(){yield Z().call(ce,w,N),ce.localCache[w]=JSON.stringify(N)})()}_get(w){var N=()=>super._get,Z=this;return(0,b.Z)(function*(){const ce=yield N().call(Z,w);return Z.localCache[w]=JSON.stringify(ce),ce})()}_remove(w){var N=()=>super._remove,Z=this;return(0,b.Z)(function*(){yield N().call(Z,w),delete Z.localCache[w]})()}}return A.type="LOCAL",A})(),wa=(()=>{class A extends vs{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(w,N){}_removeListener(w,N){}}return A.type="SESSION",A})();let Fl=(()=>{class A{constructor(w){this.eventTarget=w,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(w){const N=this.receivers.find(ce=>ce.isListeningto(w));if(N)return N;const Z=new A(w);return this.receivers.push(Z),Z}isListeningto(w){return this.eventTarget===w}handleEvent(w){var N=this;return(0,b.Z)(function*(){const Z=w,{eventId:ce,eventType:Oe,data:et}=Z.data,Et=N.handlersMap[Oe];if(!Et?.size)return;Z.ports[0].postMessage({status:"ack",eventId:ce,eventType:Oe});const un=Array.from(Et).map(function(){var Lr=(0,b.Z)(function*(Wa){return Wa(Z.origin,et)});return function(Wa){return Lr.apply(this,arguments)}}()),Nn=yield function Td(A){return Promise.all(A.map(function(){var v=(0,b.Z)(function*(w){try{return{fulfilled:!0,value:yield w}}catch(N){return{fulfilled:!1,reason:N}}});return function(w){return v.apply(this,arguments)}}()))}(un);Z.ports[0].postMessage({status:"done",eventId:ce,eventType:Oe,response:Nn})})()}_subscribe(w,N){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[w]||(this.handlersMap[w]=new Set),this.handlersMap[w].add(N)}_unsubscribe(w,N){this.handlersMap[w]&&N&&this.handlersMap[w].delete(N),(!N||0===this.handlersMap[w].size)&&delete this.handlersMap[w],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return A.receivers=[],A})();function cu(A="",v=10){let w="";for(let N=0;N<v;N++)w+=Math.floor(10*Math.random());return A+w}class lu{constructor(v){this.target=v,this.handlers=new Set}removeMessageHandler(v){v.messageChannel&&(v.messageChannel.port1.removeEventListener("message",v.onMessage),v.messageChannel.port1.close()),this.handlers.delete(v)}_send(v,w,N=50){var Z=this;return(0,b.Z)(function*(){const ce=typeof MessageChannel<"u"?new MessageChannel:null;if(!ce)throw new Error("connection_unavailable");let Oe,et;return new Promise((Et,un)=>{const Nn=cu("",20);ce.port1.start();const Lr=setTimeout(()=>{un(new Error("unsupported_event"))},N);et={messageChannel:ce,onMessage(Wa){const Cu=Wa;if(Cu.data.eventId===Nn)switch(Cu.data.status){case"ack":clearTimeout(Lr),Oe=setTimeout(()=>{un(new Error("timeout"))},3e3);break;case"done":clearTimeout(Oe),Et(Cu.data.response);break;default:clearTimeout(Lr),clearTimeout(Oe),un(new Error("invalid_response"))}}},Z.handlers.add(et),ce.port1.addEventListener("message",et.onMessage),Z.target.postMessage({eventType:v,eventId:Nn,data:w},[ce.port2])}).finally(()=>{et&&Z.removeMessageHandler(et)})})()}}function dt(){return window}function Zu(){return typeof dt().WorkerGlobalScope<"u"&&"function"==typeof dt().importScripts}function cs(){return(cs=(0,b.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Io="firebaseLocalStorageDb",ic="firebaseLocalStorage",du="fbase_key";class Zc{constructor(v){this.request=v}toPromise(){return new Promise((v,w)=>{this.request.addEventListener("success",()=>{v(this.request.result)}),this.request.addEventListener("error",()=>{w(this.request.error)})})}}function $a(A,v){return A.transaction([ic],v?"readwrite":"readonly").objectStore(ic)}function Go(){const A=indexedDB.open(Io,1);return new Promise((v,w)=>{A.addEventListener("error",()=>{w(A.error)}),A.addEventListener("upgradeneeded",()=>{const N=A.result;try{N.createObjectStore(ic,{keyPath:du})}catch(Z){w(Z)}}),A.addEventListener("success",(0,b.Z)(function*(){const N=A.result;N.objectStoreNames.contains(ic)?v(N):(N.close(),yield function Os(){const A=indexedDB.deleteDatabase(Io);return new Zc(A).toPromise()}(),v(yield Go()))}))})}function Ll(A,v,w){return jo.apply(this,arguments)}function jo(){return(jo=(0,b.Z)(function*(A,v,w){const N=$a(A,!0).put({[du]:v,value:w});return new Zc(N).toPromise()})).apply(this,arguments)}function Yu(){return(Yu=(0,b.Z)(function*(A,v){const w=$a(A,!1).get(v),N=yield new Zc(w).toPromise();return void 0===N?null:N.value})).apply(this,arguments)}function Bl(A,v){const w=$a(A,!0).delete(v);return new Zc(w).toPromise()}const x=(()=>{class A{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var w=this;return(0,b.Z)(function*(){return w.db||(w.db=yield Go()),w.db})()}_withRetries(w){var N=this;return(0,b.Z)(function*(){let Z=0;for(;;)try{const ce=yield N._openDb();return yield w(ce)}catch(ce){if(Z++>3)throw ce;N.db&&(N.db.close(),N.db=void 0)}})()}initializeServiceWorkerMessaging(){var w=this;return(0,b.Z)(function*(){return Zu()?w.initializeReceiver():w.initializeSender()})()}initializeReceiver(){var w=this;return(0,b.Z)(function*(){w.receiver=Fl._getInstance(function ml(){return Zu()?self:null}()),w.receiver._subscribe("keyChanged",function(){var N=(0,b.Z)(function*(Z,ce){return{keyProcessed:(yield w._poll()).includes(ce.key)}});return function(Z,ce){return N.apply(this,arguments)}}()),w.receiver._subscribe("ping",function(){var N=(0,b.Z)(function*(Z,ce){return["keyChanged"]});return function(Z,ce){return N.apply(this,arguments)}}())})()}initializeSender(){var w=this;return(0,b.Z)(function*(){var N,Z;if(w.activeServiceWorker=yield function Ed(){return cs.apply(this,arguments)}(),!w.activeServiceWorker)return;w.sender=new lu(w.activeServiceWorker);const ce=yield w.sender._send("ping",{},800);ce&&null!==(N=ce[0])&&void 0!==N&&N.fulfilled&&null!==(Z=ce[0])&&void 0!==Z&&Z.value.includes("keyChanged")&&(w.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(w){var N=this;return(0,b.Z)(function*(){if(N.sender&&N.activeServiceWorker&&function Ku(){var A;return(null===(A=navigator?.serviceWorker)||void 0===A?void 0:A.controller)||null}()===N.activeServiceWorker)try{yield N.sender._send("keyChanged",{key:w},N.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,b.Z)(function*(){try{if(!indexedDB)return!1;const w=yield Go();return yield Ll(w,pn,"1"),yield Bl(w,pn),!0}catch{}return!1})()}_withPendingWrite(w){var N=this;return(0,b.Z)(function*(){N.pendingWrites++;try{yield w()}finally{N.pendingWrites--}})()}_set(w,N){var Z=this;return(0,b.Z)(function*(){return Z._withPendingWrite((0,b.Z)(function*(){return yield Z._withRetries(ce=>Ll(ce,w,N)),Z.localCache[w]=N,Z.notifyServiceWorker(w)}))})()}_get(w){var N=this;return(0,b.Z)(function*(){const Z=yield N._withRetries(ce=>function Ia(A,v){return Yu.apply(this,arguments)}(ce,w));return N.localCache[w]=Z,Z})()}_remove(w){var N=this;return(0,b.Z)(function*(){return N._withPendingWrite((0,b.Z)(function*(){return yield N._withRetries(Z=>Bl(Z,w)),delete N.localCache[w],N.notifyServiceWorker(w)}))})()}_poll(){var w=this;return(0,b.Z)(function*(){const N=yield w._withRetries(Oe=>{const et=$a(Oe,!1).getAll();return new Zc(et).toPromise()});if(!N)return[];if(0!==w.pendingWrites)return[];const Z=[],ce=new Set;if(0!==N.length)for(const{fbase_key:Oe,value:et}of N)ce.add(Oe),JSON.stringify(w.localCache[Oe])!==JSON.stringify(et)&&(w.notifyListeners(Oe,et),Z.push(Oe));for(const Oe of Object.keys(w.localCache))w.localCache[Oe]&&!ce.has(Oe)&&(w.notifyListeners(Oe,null),Z.push(Oe));return Z})()}notifyListeners(w,N){this.localCache[w]=N;const Z=this.listeners[w];if(Z)for(const ce of Array.from(Z))ce(N)}startPolling(){var w=this;this.stopPolling(),this.pollTimer=setInterval((0,b.Z)(function*(){return w._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(w,N){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[w]||(this.listeners[w]=new Set,this._get(w)),this.listeners[w].add(N)}_removeListener(w,N){this.listeners[w]&&(this.listeners[w].delete(N),0===this.listeners[w].size&&delete this.listeners[w]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return A.type="LOCAL",A})();Fs("rcb"),new ir(3e4,6e4);class yl extends ps{constructor(v){super("custom","custom"),this.params=v}_getIdTokenResponse(v){return wr(v,this._buildIdpRequest())}_linkToIdToken(v,w){return wr(v,this._buildIdpRequest(w))}_getReauthenticationResolver(v){return wr(v,this._buildIdpRequest())}_buildIdpRequest(v){const w={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return v&&(w.idToken=v),w}}function Xu(A){return Yi(A.auth,new yl(A),A.bypassAuthState)}function Ah(A){const{auth:v,user:w}=A;return ve(w,v,"internal-error"),function Yt(A,v){return Hn.apply(this,arguments)}(w,new yl(A),A.bypassAuthState)}function Nh(A){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,b.Z)(function*(A){const{auth:v,user:w}=A;return ve(w,v,"internal-error"),function X(A,v){return B.apply(this,arguments)}(w,new yl(A),A.bypassAuthState)})).apply(this,arguments)}class ag{constructor(v,w,N,Z,ce=!1){this.auth=v,this.resolver=N,this.user=Z,this.bypassAuthState=ce,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(w)?w:[w]}execute(){var v=this;return new Promise(function(){var w=(0,b.Z)(function*(N,Z){v.pendingPromise={resolve:N,reject:Z};try{v.eventManager=yield v.resolver._initialize(v.auth),yield v.onExecution(),v.eventManager.registerConsumer(v)}catch(ce){v.reject(ce)}});return function(N,Z){return w.apply(this,arguments)}}())}onAuthEvent(v){var w=this;return(0,b.Z)(function*(){const{urlResponse:N,sessionId:Z,postBody:ce,tenantId:Oe,error:et,type:Et}=v;if(et)return void w.reject(et);const un={auth:w.auth,requestUri:N,sessionId:Z,tenantId:Oe||void 0,postBody:ce||void 0,user:w.user,bypassAuthState:w.bypassAuthState};try{w.resolve(yield w.getIdpTask(Et)(un))}catch(Nn){w.reject(Nn)}})()}onError(v){this.reject(v)}getIdpTask(v){switch(v){case"signInViaPopup":case"signInViaRedirect":return Xu;case"linkViaPopup":case"linkViaRedirect":return Nh;case"reauthViaPopup":case"reauthViaRedirect":return Ah;default:mt(this.auth,"internal-error")}}resolve(v){gt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(v),this.unregisterAndCleanUp()}reject(v){gt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(v),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new ir(2e3,1e4);const gu="pendingRedirect",Qc=new Map;class cg extends ag{constructor(v,w,N=!1){super(v,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],w,void 0,N),this.eventId=null}execute(){var v=()=>super.execute,w=this;return(0,b.Z)(function*(){let N=Qc.get(w.auth._key());if(!N){try{const ce=(yield function mu(A,v){return ed.apply(this,arguments)}(w.resolver,w.auth))?yield v().call(w):null;N=()=>Promise.resolve(ce)}catch(Z){N=()=>Promise.reject(Z)}Qc.set(w.auth._key(),N)}return w.bypassAuthState||Qc.set(w.auth._key(),()=>Promise.resolve(null)),N()})()}onAuthEvent(v){var w=()=>super.onAuthEvent,N=this;return(0,b.Z)(function*(){if("signInViaRedirect"===v.type)return w().call(N,v);if("unknown"!==v.type){if(v.eventId){const Z=yield N.auth._redirectUserForId(v.eventId);if(Z)return N.user=Z,w().call(N,v);N.resolve(null)}}else N.resolve(null)})()}onExecution(){return(0,b.Z)(function*(){})()}cleanUp(){}}function ed(){return(ed=(0,b.Z)(function*(A,v){const w=function vu(A){return ln(gu,A.config.apiKey,A.name)}(v),N=function Jc(A){return qe(A._redirectPersistence)}(A);if(!(yield N._isAvailable()))return!1;const Z="true"===(yield N._get(w));return yield N._remove(w),Z})).apply(this,arguments)}function vl(A,v){Qc.set(A._key(),v)}function Nc(A,v){return wu.apply(this,arguments)}function wu(){return(wu=(0,b.Z)(function*(A,v,w=!1){const N=ai(A),Z=function oc(A,v){return v?qe(v):(ve(A._popupRedirectResolver,A,"argument-error"),A._popupRedirectResolver)}(N,v),Oe=yield new cg(N,Z,w).execute();return Oe&&!w&&(delete Oe.user._redirectEventId,yield N._persistUserIfCurrent(Oe.user),yield N._setRedirectUser(null,v)),Oe})).apply(this,arguments)}class Bf{constructor(v){this.auth=v,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(v){this.consumers.add(v),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,v)&&(this.sendToConsumer(this.queuedRedirectEvent,v),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(v){this.consumers.delete(v)}onEvent(v){if(this.hasEventBeenHandled(v))return!1;let w=!1;return this.consumers.forEach(N=>{this.isEventForConsumer(v,N)&&(w=!0,this.sendToConsumer(v,N),this.saveEventToCache(v))}),this.hasHandledPotentialRedirect||!function Uf(A){switch(A.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return td(A);default:return!1}}(v)||(this.hasHandledPotentialRedirect=!0,w||(this.queuedRedirectEvent=v,w=!0)),w}sendToConsumer(v,w){var N;if(v.error&&!td(v)){const Z=(null===(N=v.error.code)||void 0===N?void 0:N.split("auth/")[1])||"internal-error";w.onError(ot(this.auth,Z))}else w.onAuthEvent(v)}isEventForConsumer(v,w){const N=null===w.eventId||!!v.eventId&&v.eventId===w.eventId;return w.filter.includes(v.type)&&N}hasEventBeenHandled(v){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Tu(v))}saveEventToCache(v){this.cachedEventUids.add(Tu(v)),this.lastProcessedEventTime=Date.now()}}function Tu(A){return[A.type,A.eventId,A.sessionId,A.tenantId].filter(v=>v).join("-")}function td({type:A,error:v}){return"unknown"===A&&"auth/no-auth-event"===v?.code}function L(){return(L=(0,b.Z)(function*(A,v={}){return nt(A,"GET","/v1/projects",v)})).apply(this,arguments)}const Q=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fe=/^https?/;function Fe(){return Fe=(0,b.Z)(function*(A){if(A.config.emulator)return;const{authorizedDomains:v}=yield function O(A){return L.apply(this,arguments)}(A);for(const w of v)try{if(it(w))return}catch{}mt(A,"unauthorized-domain")}),Fe.apply(this,arguments)}function it(A){const v=Fn(),{protocol:w,hostname:N}=new URL(v);if(A.startsWith("chrome-extension://")){const Oe=new URL(A);return""===Oe.hostname&&""===N?"chrome-extension:"===w&&A.replace("chrome-extension://","")===v.replace("chrome-extension://",""):"chrome-extension:"===w&&Oe.hostname===N}if(!fe.test(w))return!1;if(Q.test(A))return N===A;const Z=A.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Z+"|"+Z+")$","i").test(N)}const Vt=new ir(3e4,6e4);function Ht(){const A=dt().___jsl;if(A?.H)for(const v of Object.keys(A.H))if(A.H[v].r=A.H[v].r||[],A.H[v].L=A.H[v].L||[],A.H[v].r=[...A.H[v].L],A.CP)for(let w=0;w<A.CP.length;w++)A.CP[w]=null}let Kn=null;const ac=new ir(5e3,15e3),eo="__/auth/iframe",Mh="emulator/auth/iframe",xh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},za=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cc(A){const v=A.config;ve(v.authDomain,A,"auth-domain-config-required");const w=v.emulator?_r(v,Mh):`https://${A.config.authDomain}/${eo}`,N={apiKey:v.apiKey,appName:A.name,v:u.Jn},Z=za.get(A.config.apiHost);Z&&(N.eid=Z);const ce=A._getFrameworks();return ce.length&&(N.fw=ce.join(",")),`${w}?${(0,oe.xO)(N).slice(1)}`}function ls(){return ls=(0,b.Z)(function*(A){const v=yield function nr(A){return Kn=Kn||function yn(A){return new Promise((v,w)=>{var N,Z,ce;function Oe(){Ht(),gapi.load("gapi.iframes",{callback:()=>{v(gapi.iframes.getContext())},ontimeout:()=>{Ht(),w(ot(A,"network-request-failed"))},timeout:Vt.get()})}if(null!==(Z=null===(N=dt().gapi)||void 0===N?void 0:N.iframes)&&void 0!==Z&&Z.Iframe)v(gapi.iframes.getContext());else{if(null===(ce=dt().gapi)||void 0===ce||!ce.load){const et=Fs("iframefcb");return dt()[et]=()=>{gapi.load?Oe():w(ot(A,"network-request-failed"))},fs(`${function Pa(){return qi.gapiScript}()}?onload=${et}`).catch(Et=>w(Et))}Oe()}}).catch(v=>{throw Kn=null,v})}(A),Kn}(A),w=dt().gapi;return ve(w,A,"internal-error"),v.open({where:document.body,url:cc(A),messageHandlersFilter:w.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xh,dontclear:!0},N=>new Promise(function(){var Z=(0,b.Z)(function*(ce,Oe){yield N.restyle({setHideOnLeave:!1});const et=ot(A,"network-request-failed"),Et=dt().setTimeout(()=>{Oe(et)},ac.get());function un(){dt().clearTimeout(Et),ce(N)}N.ping(un).then(un,()=>{Oe(et)})});return function(ce,Oe){return Z.apply(this,arguments)}}()))}),ls.apply(this,arguments)}const Qm={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class xd{constructor(v){this.window=v,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const ug="__/auth/handler",dv="emulator/auth/handler",Xm=encodeURIComponent("fac");function e_(A,v,w,N,Z,ce){return Da.apply(this,arguments)}function Da(){return(Da=(0,b.Z)(function*(A,v,w,N,Z,ce){ve(A.config.authDomain,A,"auth-domain-config-required"),ve(A.config.apiKey,A,"invalid-api-key");const Oe={apiKey:A.config.apiKey,appName:A.name,authType:w,redirectUrl:N,v:u.Jn,eventId:Z};if(v instanceof Ii){v.setDefaultLanguage(A.languageCode),Oe.providerId=v.providerId||"",(0,oe.xb)(v.getCustomParameters())||(Oe.customParameters=JSON.stringify(v.getCustomParameters()));for(const[Nn,Lr]of Object.entries(ce||{}))Oe[Nn]=Lr}if(v instanceof Si){const Nn=v.getScopes().filter(Lr=>""!==Lr);Nn.length>0&&(Oe.scopes=Nn.join(","))}A.tenantId&&(Oe.tid=A.tenantId);const et=Oe;for(const Nn of Object.keys(et))void 0===et[Nn]&&delete et[Nn];const Et=yield A._getAppCheckToken(),un=Et?`#${Xm}=${encodeURIComponent(Et)}`:"";return`${function dg({config:A}){return A.emulator?_r(A,dv):`https://${A.authDomain}/${ug}`}(A)}?${(0,oe.xO)(et).slice(1)}${un}`})).apply(this,arguments)}const zl="webStorageSupport",n_=class t_{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wa,this._completeRedirectFn=Nc,this._overrideRedirectResult=vl}_openPopup(v,w,N,Z){var ce=this;return(0,b.Z)(function*(){var Oe;gt(null===(Oe=ce.eventManagers[v._key()])||void 0===Oe?void 0:Oe.manager,"_initialize() not called before _openPopup()");const et=yield e_(v,w,N,Fn(),Z);return function Ph(A,v,w,N=500,Z=600){const ce=Math.max((window.screen.availHeight-Z)/2,0).toString(),Oe=Math.max((window.screen.availWidth-N)/2,0).toString();let et="";const Et=Object.assign(Object.assign({},Qm),{width:N.toString(),height:Z.toString(),top:ce,left:Oe}),un=(0,oe.z$)().toLowerCase();w&&(et=tr(un)?"_blank":w),Ln(un)&&(v=v||"http://localhost",Et.scrollbars="yes");const Nn=Object.entries(Et).reduce((Wa,[Cu,id])=>`${Wa}${Cu}=${id},`,"");if(function Yr(A=(0,oe.z$)()){var v;return Xo(A)&&!(null===(v=window.navigator)||void 0===v||!v.standalone)}(un)&&"_self"!==et)return function Eu(A,v){const w=document.createElement("a");w.href=A,w.target=v;const N=document.createEvent("MouseEvent");N.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),w.dispatchEvent(N)}(v||"",et),new xd(null);const Lr=window.open(v||"",et,Nn);ve(Lr,A,"popup-blocked");try{Lr.focus()}catch{}return new xd(Lr)}(v,et,cu())})()}_openRedirect(v,w,N,Z){var ce=this;return(0,b.Z)(function*(){return yield ce._originValidation(v),function Tr(A){dt().location.href=A}(yield e_(v,w,N,Fn(),Z)),new Promise(()=>{})})()}_initialize(v){const w=v._key();if(this.eventManagers[w]){const{manager:Z,promise:ce}=this.eventManagers[w];return Z?Promise.resolve(Z):(gt(ce,"If manager is not set, promise should be"),ce)}const N=this.initAndGetManager(v);return this.eventManagers[w]={promise:N},N.catch(()=>{delete this.eventManagers[w]}),N}initAndGetManager(v){var w=this;return(0,b.Z)(function*(){const N=yield function Oc(A){return ls.apply(this,arguments)}(v),Z=new Bf(v);return N.register("authEvent",ce=>(ve(ce?.authEvent,v,"invalid-auth-event"),{status:Z.onEvent(ce.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),w.eventManagers[v._key()]={manager:Z},w.iframes[v._key()]=N,Z})()}_isIframeWebStorageSupported(v,w){this.iframes[v._key()].send(zl,{type:zl},Z=>{var ce;const Oe=null===(ce=Z?.[0])||void 0===ce?void 0:ce[zl];void 0!==Oe&&w(!!Oe),mt(v,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(v){const w=v._key();return this.originValidationPromises[w]||(this.originValidationPromises[w]=function Ne(A){return Fe.apply(this,arguments)}(v)),this.originValidationPromises[w]}get _shouldInitProactively(){return ws()||pr()||Xo()}};var nd="@firebase/auth";class gg{constructor(v){this.auth=v,this.internalListeners=new Map}getUid(){var v;return this.assertAuthConfigured(),(null===(v=this.auth.currentUser)||void 0===v?void 0:v.uid)||null}getToken(v){var w=this;return(0,b.Z)(function*(){return w.assertAuthConfigured(),yield w.auth._initializationPromise,w.auth.currentUser?{accessToken:yield w.auth.currentUser.getIdToken(v)}:null})()}addAuthTokenListener(v){if(this.assertAuthConfigured(),this.internalListeners.has(v))return;const w=this.auth.onIdTokenChanged(N=>{v(N?.stsTokenManager.accessToken||null)});this.internalListeners.set(v,w),this.updateProactiveRefresh()}removeAuthTokenListener(v){this.assertAuthConfigured();const w=this.internalListeners.get(v);w&&(this.internalListeners.delete(v),w(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const fv=(0,oe.Pz)("authIdTokenMaxAge")||300;let kh=null;const Vf=A=>function(){var v=(0,b.Z)(function*(w){const N=w&&(yield w.getIdTokenResult()),Z=N&&((new Date).getTime()-Date.parse(N.issuedAtTime))/1e3;if(Z&&Z>fv)return;const ce=N?.token;kh!==ce&&(kh=ce,yield fetch(A,{method:ce?"POST":"DELETE",headers:ce?{Authorization:`Bearer ${ce}`}:{}}))});return function(w){return v.apply(this,arguments)}}();function rd(A=(0,u.Mq)()){const v=(0,u.qX)(A,"auth");if(v.isInitialized())return v.getImmediate();const w=function ll(A,v){const w=(0,u.qX)(A,"auth");if(w.isInitialized()){const Z=w.getImmediate(),ce=w.getOptions();if((0,oe.vZ)(ce,v??{}))return Z;mt(Z,"already-initialized")}return w.initialize({options:v})}(A,{popupRedirectResolver:n_,persistence:[x,kl,wa]}),N=(0,oe.Pz)("authTokenSyncURL");if(N&&N.match(/^\/[^\/].*/)){const ce=Vf(N);(function Xs(A,v,w){(0,oe.m9)(A).beforeAuthStateChanged(v,w)})(w,ce,()=>ce(w.currentUser)),function rc(A,v,w,N){(0,oe.m9)(A).onIdTokenChanged(v,w,N)}(w,Oe=>ce(Oe))}const Z=(0,oe.q4)("auth");return Z&&function Gc(A,v,w){const N=ai(A);ve(N._canInitEmulator,N,"emulator-config-failed"),ve(/^https?:\/\//.test(v),N,"invalid-emulator-scheme");const Z=!!w?.disableWarnings,ce=_i(v),{host:Oe,port:et}=function xo(A){const v=_i(A),w=/(\/\/)?([^?#/]+)/.exec(A.substr(v.length));if(!w)return{host:"",port:null};const N=w[2].split("@").pop()||"",Z=/^(\[[^\]]+\])(:|$)/.exec(N);if(Z){const ce=Z[1];return{host:ce,port:Ro(N.substr(ce.length+1))}}{const[ce,Oe]=N.split(":");return{host:ce,port:Ro(Oe)}}}(v);N.config.emulator={url:`${ce}//${Oe}${null===et?"":`:${et}`}/`},N.settings.appVerificationDisabledForTesting=!0,N.emulatorConfig=Object.freeze({host:Oe,port:et,protocol:ce.replace(":",""),options:Object.freeze({disableWarnings:Z})}),Z||function ka(){function A(){const v=document.createElement("p"),w=v.style;v.innerText="Running in emulator mode. Do not use with production credentials.",w.position="fixed",w.width="100%",w.backgroundColor="#ffffff",w.border=".1em solid #000000",w.color="#b50000",w.bottom="0px",w.left="0px",w.margin="0px",w.zIndex="10000",w.textAlign="center",v.classList.add("firebase-emulator-warning"),document.body.appendChild(v)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",A):A())}()}(w,`http://${Z}`),w}(function Qa(A){qi=A})({loadJS:A=>new Promise((v,w)=>{const N=document.createElement("script");N.setAttribute("src",A),N.onload=v,N.onerror=Z=>{const ce=ot("internal-error");ce.customData=Z,w(ce)},N.type="text/javascript",N.charset="UTF-8",function pv(){var A,v;return null!==(v=null===(A=document.getElementsByTagName("head"))||void 0===A?void 0:A[0])&&void 0!==v?v:document}().appendChild(N)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Wl(A){(0,u.Xd)(new he.wA("auth",(v,{options:w})=>{const N=v.getProvider("app").getImmediate(),Z=v.getProvider("heartbeat"),ce=v.getProvider("app-check-internal"),{apiKey:Oe,authDomain:et}=N.options;ve(Oe&&!Oe.includes(":"),"invalid-api-key",{appName:N.name});const Et={apiKey:Oe,authDomain:et,clientPlatform:A,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lr(A)},un=new js(N,Z,ce,Et);return function li(A,v){const w=v?.persistence||[],N=(Array.isArray(w)?w:[w]).map(qe);v?.errorMap&&A._updateErrorMap(v.errorMap),A._initializeWithPersistence(N,v?.popupRedirectResolver)}(un,w),un},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((v,w,N)=>{v.getProvider("auth-internal").initialize()})),(0,u.Xd)(new he.wA("auth-internal",v=>{const w=ai(v.getProvider("auth").getImmediate());return new gg(w)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,u.KN)(nd,"1.6.2",function r_(A){switch(A){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(A)),(0,u.KN)(nd,"1.6.2","esm2017")}("Browser");var gv=K(5619),wl=K(8180),Oi=K(3477),i_=K(9468),ib=K(6024);let Hf=(()=>{class A{constructor(w,N){this.firestore=w,this.router=N,this.userDataSubject=new gv.X(null),this.userData$=this.userDataSubject.asObservable();const Z=localStorage.getItem("user");if(Z){const ce=JSON.parse(Z);this.userDataSubject.next(ce)}}registerUser(w,N,Z){var ce=this;return(0,b.Z)(function*(){try{const Oe=yield ce.createUserWithEmailAndPassword(w,N),et=Oe.user.uid;yield ce.addAdditionalAuthData(et,Z),yield ce.saveUserData(Oe.user,Z),ce.router.navigate(["recipes-list"])}catch(Oe){ce.handleError(Oe)}})()}loginUser(w,N){var Z=this;return(0,b.Z)(function*(){try{const ce=yield Z.signInWithEmailAndPassword(w,N),Oe=ce.user.uid,et=yield Z.getAdditionalAuthDataById(Oe);yield Z.saveUserData(ce.user,et),Z.router.navigate(["recipes-list"])}catch(ce){Z.handleError(ce)}})()}logoutUser(){var w=this;return(0,b.Z)(function*(){try{yield w.signOutAuth(),yield w.clearUserData(),w.router.navigate(["login"])}catch(N){w.handleError(N)}})()}deleteUserAccount(){var w=this;return(0,b.Z)(function*(){try{const Z=rd().currentUser;if(!Z)throw new Error("No user found to delete.");yield function $u(A){return Cc.apply(this,arguments)}(Z),yield w.clearUserData(),w.router.navigate(["login"])}catch(N){w.handleError(N)}})()}forgotPassword(w){var N=this;return(0,b.Z)(function*(){try{yield N.sendPasswordResetEmail(w),window.alert("Password reset email sent, check your inbox."),yield N.router.navigate(["login"])}catch(Z){N.handleError(Z),window.alert(Z)}})()}updateFavoriteRecipes(w,N,Z){var ce=this;return(0,b.Z)(function*(){const et=(0,Oi.JU)(ce.firestore,"Auth",N);try{Z?(console.log("remove"),yield(0,Oi.r7)(et,{favoriteRecipes:(0,Oi.Ab)(w)})):(console.log("add"),yield(0,Oi.r7)(et,{favoriteRecipes:(0,Oi.vr)(w)})),console.log("Favorite recipes updated successfully");const Et=yield ce.getAdditionalAuthDataById(N);ce.userData$.pipe((0,wl.q)(1)).subscribe(un=>{un?ce.saveUserData(un,Et).then(()=>console.log("User data saved successfully")).catch(()=>console.error("Failed to save user data")):console.error("User is null")})}catch(Et){console.error("Error updating favorite recipes: ",Et)}})()}sendPasswordResetEmail(w){return function fl(A,v,w){return Tc.apply(this,arguments)}(rd(),w)}createUserWithEmailAndPassword(w,N){return function os(A,v,w){return Ga.apply(this,arguments)}(rd(),w,N)}signInWithEmailAndPassword(w,N){return function ya(A,v,w){return $i((0,oe.m9)(A),Lo.credential(v,w)).catch(function(){var N=(0,b.Z)(function*(Z){throw"auth/password-does-not-meet-requirements"===Z.code&&hl(A),Z});return function(Z){return N.apply(this,arguments)}}())}(rd(),w,N)}signOutAuth(){return function ys(A){return(0,oe.m9)(A).signOut()}(rd())}addAdditionalAuthData(w,N){return(0,Oi.pl)((0,Oi.JU)(this.firestore,"Auth",w),N)}getAdditionalAuthDataById(w){var N=this;return(0,b.Z)(function*(){const Z=(0,Oi.JU)(N.firestore,"Auth",w),ce=yield(0,Oi.QT)(Z);return ce.exists()?ce.data():null})()}saveUserData(w,N){return new Promise((Z,ce)=>{if(w&&N){const Oe={...w,...N};localStorage.setItem("user",JSON.stringify(Oe)),this.userDataSubject.next(Oe),Z()}else localStorage.setItem("user","null"),this.userDataSubject.next(null),ce()})}clearUserData(){return new Promise((w,N)=>{localStorage.removeItem("user"),this.userDataSubject.next(null),w()})}handleError(w){if(w instanceof Error){const Z=w.message;console.error(`Error (${w.name}): ${Z}`),alert(Z)}else console.error("Unknown error:",w),alert(w)}static#e=this.\u0275fac=function(N){return new(N||A)(i_.LFG(Oi.gg),i_.LFG(ib.F0))};static#t=this.\u0275prov=i_.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})()},9286:(Bt,Ge,K)=>{K.d(Ge,{N:()=>we});var b=K(4303);(0,b.KN)("firebase","10.9.0","app");const we={firebaseConfig:{apiKey:"AIzaSyCVbXDjBGUwaOrn1CZYGIwce1dYPKpR7PA",authDomain:"the-natural-way.firebaseapp.com",projectId:"the-natural-way",storageBucket:"the-natural-way.appspot.com",messagingSenderId:"778711637280",appId:"1:778711637280:web:30b52ea2a4e159578fcb45"},cloudinaryConfig:{cloudName:"dsla98vyk",apiKey:"587566495847865",apiSecret:"sJLzQzouizKo51b9Mv0bI8a5pCI",uploadPreset:"the_natural_way"}};(0,b.ZF)(we.firebaseConfig)},9653:(Bt,Ge,K)=>{var b=K(6593),oe=K(6024),u=K(9468),we=K(4664),de=K(7398),he=K(2096),Te=K(6499),Ie=K(5861),ne=K(95),le=K(6814);function Ae(l,f){1&l&&(u.TgZ(0,"div",21),u._uU(1," Email is required! "),u.qZA())}function Xe(l,f){1&l&&(u.TgZ(0,"div",21),u._uU(1," Please enter a valid email address! "),u.qZA())}function Pe(l,f){if(1&l&&(u.TgZ(0,"div"),u.YNc(1,Ae,2,0,"div",20),u.YNc(2,Xe,2,0,"div",20),u.qZA()),2&l){const o=u.oxw();let h,m;u.xp6(1),u.Q6J("ngIf",null==(h=o.registerForm.get("email"))||null==h.errors?null:h.errors.required),u.xp6(1),u.Q6J("ngIf",null==(m=o.registerForm.get("email"))||null==m.errors?null:m.errors.email)}}function st(l,f){1&l&&(u.TgZ(0,"div",21),u._uU(1," Password is required! "),u.qZA())}function Ot(l,f){1&l&&(u.TgZ(0,"div",21),u._uU(1," Password must be at least 6 characters long! "),u.qZA())}function Ut(l,f){if(1&l&&(u.TgZ(0,"div"),u.YNc(1,st,2,0,"div",20),u.YNc(2,Ot,2,0,"div",20),u.qZA()),2&l){const o=u.oxw();let h,m;u.xp6(1),u.Q6J("ngIf",null==(h=o.registerForm.get("password"))||null==h.errors?null:h.errors.required),u.xp6(1),u.Q6J("ngIf",null==(m=o.registerForm.get("password"))||null==m.errors?null:m.errors.minlength)}}function Ft(l,f){1&l&&(u.TgZ(0,"div",21),u._uU(1," Repeat password is required! "),u.qZA())}function xn(l,f){1&l&&(u.TgZ(0,"div",21),u._uU(1," Repeat password must be at least 6 characters long! "),u.qZA())}function Rt(l,f){if(1&l&&(u.TgZ(0,"div"),u.YNc(1,Ft,2,0,"div",20),u.YNc(2,xn,2,0,"div",20),u.qZA()),2&l){const o=u.oxw();let h,m;u.xp6(1),u.Q6J("ngIf",null==(h=o.registerForm.get("repeatPassword"))||null==h.errors?null:h.errors.required),u.xp6(1),u.Q6J("ngIf",null==(m=o.registerForm.get("repeatPassword"))||null==m.errors?null:m.errors.minlength)}}function mt(l,f){1&l&&(u.TgZ(0,"div",21),u._uU(1," First name is required! "),u.qZA())}function ot(l,f){if(1&l&&(u.TgZ(0,"div"),u.YNc(1,mt,2,0,"div",20),u.qZA()),2&l){const o=u.oxw();let h;u.xp6(1),u.Q6J("ngIf",null==(h=o.registerForm.get("firstName"))||null==h.errors?null:h.errors.required)}}function vt(l,f){1&l&&(u.TgZ(0,"div",21),u._uU(1," Last name is required! "),u.qZA())}function _t(l,f){if(1&l&&(u.TgZ(0,"div"),u.YNc(1,vt,2,0,"div",20),u.qZA()),2&l){const o=u.oxw();let h;u.xp6(1),u.Q6J("ngIf",null==(h=o.registerForm.get("lastName"))||null==h.errors?null:h.errors.required)}}let je=(()=>{class l{constructor(o,h,m){this.userService=o,this.fb=h,this.router=m,this.registerForm=this.fb.group({email:["",[ne.kI.required,ne.kI.email]],password:["",[ne.kI.required,ne.kI.minLength(6)]],repeatPassword:["",ne.kI.required],firstName:["",ne.kI.required],lastName:["",ne.kI.required],isActive:[!0,ne.kI.required],isAdmin:[!1,ne.kI.required],favoriteRecipes:this.fb.array([])})}submitRegisterForm(){var o=this;return(0,Ie.Z)(function*(){if(o.registerForm.valid){const{email:h,password:m,repeatPassword:T,...k}=o.registerForm.value;if(m!==T)return void alert("Password do not match!");try{yield o.userService.registerUser(h,m,k)}catch(J){alert(J)}}})()}static#e=this.\u0275fac=function(h){return new(h||l)(u.Y36(Te.K),u.Y36(ne.qu),u.Y36(oe.F0))};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-register"]],decls:33,vars:6,consts:[[1,"main-long"],[1,"headerImage"],[1,"wrapper"],[3,"formGroup","ngSubmit"],[1,"title-wrapper"],[1,"title-form"],["for","email"],["type","email","id","email","formControlName","email","autocomplete","email"],[4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password","autocomplete","new-password"],["for","repeatPassword"],["type","password","id","repeatPassword","formControlName","repeatPassword","autocomplete","new-password"],["for","firstName"],["type","text","id","firstName","formControlName","firstName"],["for","lastName"],["type","text","id","lastName","formControlName","lastName"],["type","submit",1,"button",2,"width","100%","margin-top","20px"],["href","#","routerLink","/login"],[1,"hint"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(h,m){if(1&h&&(u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"form",3),u.NdJ("ngSubmit",function(){return m.submitRegisterForm()}),u.TgZ(4,"div",4)(5,"h1",5),u._uU(6,"Registration"),u.qZA()(),u.TgZ(7,"label",6),u._uU(8,"Email:"),u.qZA(),u._UZ(9,"input",7),u.YNc(10,Pe,3,2,"div",8),u.TgZ(11,"label",9),u._uU(12,"Password:"),u.qZA(),u._UZ(13,"input",10),u.YNc(14,Ut,3,2,"div",8),u.TgZ(15,"label",11),u._uU(16,"Repeat password:"),u.qZA(),u._UZ(17,"input",12),u.YNc(18,Rt,3,2,"div",8),u.TgZ(19,"label",13),u._uU(20,"First name:"),u.qZA(),u._UZ(21,"input",14),u.YNc(22,ot,2,1,"div",8),u.TgZ(23,"label",15),u._uU(24,"Last Name:"),u.qZA(),u._UZ(25,"input",16),u.YNc(26,_t,2,1,"div",8),u.TgZ(27,"button",17),u._uU(28," Submit "),u.qZA(),u._UZ(29,"hr"),u.TgZ(30,"a",18)(31,"div",19),u._uU(32,"Already registered?"),u.qZA()()()()()),2&h){let T,k,J,ue,ge;u.xp6(3),u.Q6J("formGroup",m.registerForm),u.xp6(7),u.Q6J("ngIf",(null==(T=m.registerForm.get("email"))?null:T.invalid)&&(null==(T=m.registerForm.get("email"))?null:T.touched)),u.xp6(4),u.Q6J("ngIf",(null==(k=m.registerForm.get("password"))?null:k.invalid)&&(null==(k=m.registerForm.get("password"))?null:k.touched)),u.xp6(4),u.Q6J("ngIf",(null==(J=m.registerForm.get("repeatPassword"))?null:J.invalid)&&(null==(J=m.registerForm.get("repeatPassword"))?null:J.touched)),u.xp6(4),u.Q6J("ngIf",(null==(ue=m.registerForm.get("firstName"))?null:ue.invalid)&&(null==(ue=m.registerForm.get("firstName"))?null:ue.touched)),u.xp6(4),u.Q6J("ngIf",(null==(ge=m.registerForm.get("lastName"))?null:ge.invalid)&&(null==(ge=m.registerForm.get("lastName"))?null:ge.touched))}},dependencies:[le.O5,oe.rH,ne._Y,ne.Fj,ne.JJ,ne.JL,ne.sg,ne.u],styles:[".checkbox-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center}form[_ngcontent-%COMP%]{max-width:600px;margin:-50px auto 50px;padding:32px;background-color:var(--backgroundColor);border-radius:unset;box-shadow:0 1px 3px #0000004d}@media (max-width: 460px){form[_ngcontent-%COMP%]{background-color:var(--backgroundColor);border:none}}"]})}return l})();function ve(l,f){1&l&&(u.TgZ(0,"div",16),u._uU(1," Email is required! "),u.qZA())}function Ke(l,f){1&l&&(u.TgZ(0,"div",16),u._uU(1," Invalid email! "),u.qZA())}function gt(l,f){if(1&l&&(u.TgZ(0,"div"),u.YNc(1,ve,2,0,"div",17),u.YNc(2,Ke,2,0,"div",17),u.qZA()),2&l){const o=u.oxw();let h,m;u.xp6(1),u.Q6J("ngIf",null==(h=o.logInForm.get("email"))||null==h.errors?null:h.errors.required),u.xp6(1),u.Q6J("ngIf",null==(m=o.logInForm.get("email"))||null==m.errors?null:m.errors.email)}}function Fn(l,f){1&l&&(u.TgZ(0,"div",16),u._uU(1," Password is required! "),u.qZA())}function ut(l,f){1&l&&(u.TgZ(0,"div",16),u._uU(1," Password must be at least 6 characters long! "),u.qZA())}function dn(l,f){if(1&l&&(u.TgZ(0,"div"),u.YNc(1,Fn,2,0,"div",17),u.YNc(2,ut,2,0,"div",17),u.qZA()),2&l){const o=u.oxw();let h,m;u.xp6(1),u.Q6J("ngIf",null==(h=o.logInForm.get("password"))||null==h.errors?null:h.errors.required),u.xp6(1),u.Q6J("ngIf",null==(m=o.logInForm.get("password"))||null==m.errors?null:m.errors.minlength)}}function Sn(l,f){if(1&l&&(u.TgZ(0,"div"),u._uU(1),u.qZA()),2&l){const o=u.oxw();u.xp6(1),u.Oqu(o.loginError)}}let Gn=(()=>{class l{constructor(o,h,m,T){this.userService=o,this.fb=h,this.route=m,this.router=T,this.loginError=null,this.returnUrl=null,this.logInForm=this.fb.group({email:["",[ne.kI.required,ne.kI.email]],password:["",[ne.kI.required,ne.kI.minLength(6)]]})}ngOnInit(){this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/"}submitLogInForm(){var o=this;return(0,Ie.Z)(function*(){if(o.logInForm.valid){const{email:h,password:m}=o.logInForm.value;try{yield o.userService.loginUser(h,m);const T=o.returnUrl||"/category";yield o.router.navigateByUrl(T)}catch(T){console.log(T)}}})()}static#e=this.\u0275fac=function(h){return new(h||l)(u.Y36(Te.K),u.Y36(ne.qu),u.Y36(oe.gz),u.Y36(oe.F0))};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-login"]],decls:30,vars:4,consts:[[1,"main-short"],[1,"headerImage"],[1,"wrapper"],[3,"formGroup","ngSubmit"],[1,"title-wrapper"],[1,"title-form"],[1,"formGroup"],["for","email"],["type","text","id","email","formControlName","email","autocomplete","email"],[4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password","autocomplete","current-password"],["type","submit",1,"button",2,"width","100%"],["href","#","routerLink","/register"],[1,"hint"],["href","#","routerLink","/forgot-password"],[1,"errors"],["class","errors",4,"ngIf"]],template:function(h,m){if(1&h&&(u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"form",3),u.NdJ("ngSubmit",function(){return m.submitLogInForm()}),u.TgZ(4,"div",4)(5,"h1",5),u._uU(6,"Login"),u.qZA()(),u.TgZ(7,"div",6)(8,"label",7),u._uU(9,"Email"),u.qZA(),u._UZ(10,"input",8),u.YNc(11,gt,3,2,"div",9),u.qZA(),u.TgZ(12,"div",6)(13,"label",10),u._uU(14,"Password"),u.qZA(),u._UZ(15,"input",11),u.YNc(16,dn,3,2,"div",9),u.qZA(),u._UZ(17,"br"),u.TgZ(18,"div",6)(19,"button",12),u._uU(20,"Submit"),u.qZA()(),u.YNc(21,Sn,2,1,"div",9),u._UZ(22,"hr"),u.TgZ(23,"div")(24,"a",13)(25,"div",14),u._uU(26,"Don't have a Registration yet?"),u.qZA()(),u.TgZ(27,"a",15)(28,"div",16),u._uU(29,"Forgot your password?"),u.qZA()()()()()()),2&h){let T,k;u.xp6(3),u.Q6J("formGroup",m.logInForm),u.xp6(8),u.Q6J("ngIf",(null==(T=m.logInForm.get("email"))?null:T.invalid)&&(null==(T=m.logInForm.get("email"))?null:T.touched)),u.xp6(5),u.Q6J("ngIf",(null==(k=m.logInForm.get("password"))?null:k.invalid)&&(null==(k=m.logInForm.get("password"))?null:k.touched)),u.xp6(5),u.Q6J("ngIf",m.loginError)}},dependencies:[le.O5,oe.rH,ne._Y,ne.Fj,ne.JJ,ne.JL,ne.sg,ne.u],styles:["form[_ngcontent-%COMP%]{max-width:600px;margin:-50px auto 50px;padding:32px;background-color:var(--backgroundColor);border-radius:unset;box-shadow:0 1px 3px #0000004d}@media (max-width: 460px){form[_ngcontent-%COMP%]{background-color:var(--backgroundColor);border:none}}"]})}return l})();var ir=K(1753);const _r=function(l){return["/recipe",l]};function ke(l,f){if(1&l&&(u.TgZ(0,"div")(1,"a",9)(2,"div",10)(3,"div",11),u._UZ(4,"img",12),u.qZA(),u.TgZ(5,"p",13),u._uU(6),u.qZA()()()()),2&l){const o=f.$implicit;u.xp6(1),u.Q6J("routerLink",u.VKq(4,_r,o.id)),u.xp6(3),u.s9C("alt",o.title),u.Q6J("src",o.image_recipe[0].image_recipe,u.LSH),u.xp6(2),u.Oqu(o.title)}}function $e(l,f){if(1&l){const o=u.EpF();u.TgZ(0,"div")(1,"button",14),u.NdJ("click",function(){u.CHM(o);const m=u.oxw();return u.KtG(m.getRecipesLoadMore())}),u._uU(2,"Load More"),u.qZA()()}}function Ye(l,f){1&l&&(u.TgZ(0,"p")(1,"i"),u._uU(2," All recipes are now displayed! "),u.qZA()())}let Ve=(()=>{class l{constructor(o){this.recipeService=o,this.recipes=[],this.showLoadMoreButton=!0}ngOnInit(){this.getRecipes(),this.showLoadMoreButton=!0}getRecipesLoadMore(){var o=this;return(0,Ie.Z)(function*(){const{data:h,hasMore:m}=yield o.recipeService.getRecipesLoadMore();console.log(m),o.showLoadMoreButton=m,o.recipes.push(...h)})()}getRecipes(){var o=this;return(0,Ie.Z)(function*(){const{data:h}=yield o.recipeService.getRecipes();o.recipes.push(...h)})()}static#e=this.\u0275fac=function(h){return new(h||l)(u.Y36(ir.v))};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-recipes-list"]],decls:11,vars:3,consts:[[1,"main-long"],[1,"headerImage"],[1,"wrapper-list"],[1,"title-wrapper"],[1,"title"],[1,"recipe-list"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["allRecipesShown",""],[3,"routerLink"],[1,"recipe-item"],[1,"recipe-image"],[3,"src","alt"],[1,"recipe-title"],[1,"button",3,"click"]],template:function(h,m){if(1&h&&(u.TgZ(0,"main",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"div",3)(4,"h1",4),u._uU(5,"Recipes"),u.qZA()(),u.TgZ(6,"div",5),u.YNc(7,ke,7,6,"div",6),u.qZA(),u.YNc(8,$e,3,0,"div",7),u.YNc(9,Ye,3,0,"ng-template",null,8,u.W1O),u.qZA()()),2&h){const T=u.MAs(10);u.xp6(7),u.Q6J("ngForOf",m.recipes),u.xp6(1),u.Q6J("ngIf",m.showLoadMoreButton)("ngIfElse",T)}},dependencies:[le.sg,le.O5,oe.rH],styles:[".wrapper-list[_ngcontent-%COMP%]{margin:-50px auto 50px;max-width:1200px;background-color:var(--backgroundColor);box-shadow:0 1px 3px #0000004d;padding:32px}.title-wrapper[_ngcontent-%COMP%]{margin-left:10px}.recipe-list[_ngcontent-%COMP%]{position:relative;display:grid;grid-template-columns:repeat(4,1fr);row-gap:20px;margin-bottom:50px}.recipe-item[_ngcontent-%COMP%]{margin:5px;position:relative}.recipe-image[_ngcontent-%COMP%]{padding:5px;position:relative;transition:transform 1s ease-in-out}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;width:100%;object-fit:fill}.recipe-item[_ngcontent-%COMP%]:hover   .recipe-image[_ngcontent-%COMP%]{transform:translateY(12%)}@media only screen and (max-width: 460px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 20px 50px;padding:16px}.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 461px) and (max-width: 767px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 768px) and (max-width: 1023px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);column-gap:10px;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}@media (min-width: 1024px) and (max-width: 1440px){.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);column-gap:10px;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}"]})}return l})();var nt=K(7157),bt=K(8850),Pt=K(3477);function jt(l,f){1&l&&(u.TgZ(0,"div",9),u._uU(1," Please write your comment here! "),u.qZA())}function hn(l,f){if(1&l&&(u.TgZ(0,"div"),u.YNc(1,jt,2,0,"div",8),u.qZA()),2&l){const o=u.oxw();let h;u.xp6(1),u.Q6J("ngIf",null==(h=o.commentForm.get("text"))||null==h.errors?null:h.errors.required)}}let bn=(()=>{class l{constructor(o,h,m,T){this.fb=o,this.commentService=m,this.userService=T,this.timestamp=new Date,this.fullName="",this.firestore=h}ngOnInit(){this.commentForm=this.fb.group({name:[""],text:["",ne.kI.required],recipeId:[this.recipeId],create_time:[this.timestamp],uid:[""]}),this.userService.userData$.subscribe({next:o=>{o?(this.userData=o,this.fullName=this.userData.firstName+" "+this.userData.lastName):this.fullName="Anonymous"},error:o=>{console.log(o)}})}onSubmit(){var o=this;return(0,Ie.Z)(function*(){if(o.timestamp=new Date,o.commentForm.valid){o.commentForm.patchValue({name:o.fullName}),o.commentForm.patchValue({recipeId:o.recipeId}),o.commentForm.patchValue({create_time:o.timestamp}),o.userData&&o.commentForm.patchValue({uid:o.userData.uid});try{(yield o.commentService.addComment(o.commentForm.value))?(console.log("You have successfully added your comment"),o.commentForm.reset()):console.error("Error adding comment.")}catch(h){console.error("An error occurred while submitting the comment:",h)}}})()}static#e=this.\u0275fac=function(h){return new(h||l)(u.Y36(ne.qu),u.Y36(Pt.gg),u.Y36(bt.O),u.Y36(Te.K))};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-comment-form"]],inputs:{recipeId:"recipeId"},decls:15,vars:2,consts:[[1,"commentWrapper"],["id","commentForm",3,"formGroup","ngSubmit"],[1,"divider"],[1,"form-group"],["for","text"],["placeholder","Please write your comment here!","id","text","formControlName","text","rows","5","cols","30",1,"form-control"],[4,"ngIf"],["type","submit",1,"button",2,"width","100%"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(h,m){if(1&h&&(u.TgZ(0,"div",0)(1,"form",1),u.NdJ("ngSubmit",function(){return m.onSubmit()}),u.TgZ(2,"div",2),u._UZ(3,"hr"),u.TgZ(4,"p"),u._uU(5,"\xa0\xa0Comment\xa0\xa0"),u.qZA(),u._UZ(6,"hr"),u.qZA(),u.TgZ(7,"div",3)(8,"label",4),u._uU(9,"Comment (required)"),u.qZA(),u._UZ(10,"textarea",5),u.qZA(),u.YNc(11,hn,2,1,"div",6),u._UZ(12,"br"),u.TgZ(13,"button",7),u._uU(14,"Submit"),u.qZA()()()),2&h){let T;u.xp6(1),u.Q6J("formGroup",m.commentForm),u.xp6(10),u.Q6J("ngIf",null==(T=m.commentForm.get("text"))?null:T.touched)}},dependencies:[le.O5,ne._Y,ne.Fj,ne.JJ,ne.JL,ne.sg,ne.u],styles:["form#commentForm[_ngcontent-%COMP%]{background-color:var(--backgroundColor);max-width:100%;border:unset}"]})}return l})();var cn=K(2732);function Dt(l,f){if(1&l&&(u.TgZ(0,"div",19),u._uU(1),u.qZA()),2&l){const o=u.oxw();u.xp6(1),u.hij(" ",null==o.recipe?null:o.recipe.summary," ")}}function Zn(l,f){1&l&&(u.TgZ(0,"div"),u._UZ(1,"br"),u.qZA())}function yr(l,f){if(1&l&&(u.TgZ(0,"li"),u._UZ(1,"img",22),u.qZA()),2&l){const o=f.$implicit;u.xp6(1),u.Q6J("src",o.image_recipe,u.LSH)}}function kr(l,f){if(1&l&&(u.TgZ(0,"ul",20),u.YNc(1,yr,2,1,"li",21),u.qZA()),2&l){const o=u.oxw();u.xp6(1),u.Q6J("ngForOf",null==o.recipe?null:o.recipe.image_recipe)}}function Ce(l,f){1&l&&(u.ynx(0),u._UZ(1,"i",30),u.BQk())}function xe(l,f){1&l&&u._UZ(0,"i",31)}function Re(l,f){if(1&l){const o=u.EpF();u.TgZ(0,"button",27),u.NdJ("click",function(){u.CHM(o);const m=u.oxw(2);return u.KtG(m.updateRecipeLikes())}),u.YNc(1,Ce,2,0,"ng-container",28),u.YNc(2,xe,1,0,"ng-template",null,29,u.W1O),u.qZA()}if(2&l){const o=u.MAs(3),h=u.oxw(2);u.xp6(1),u.Q6J("ngIf",h.userData&&h.recipe&&h.recipe.likes&&(null==h.userData?null:h.userData.uid)&&h.recipe.likes.includes(h.userData.uid))("ngIfElse",o)}}function at(l,f){if(1&l&&(u.TgZ(0,"div")(1,"span"),u._uU(2),u.qZA()()),2&l){const o=u.oxw(2);u.xp6(2),u.hij("Like: ",null==o.recipe||null==o.recipe.likes?null:o.recipe.likes.length,"")}}function yt(l,f){1&l&&(u.ynx(0),u._uU(1," Save it! "),u.BQk())}function At(l,f){1&l&&u._uU(0,"Save Recipe")}function vr(l,f){if(1&l){const o=u.EpF();u.TgZ(0,"button",32),u.NdJ("click",function(){u.CHM(o);const m=u.oxw(2);return u.KtG(m.updateFavoriteRecipes())}),u.YNc(1,yt,2,0,"ng-container",28),u.YNc(2,At,1,0,"ng-template",null,29,u.W1O),u.qZA()}if(2&l){const o=u.MAs(3),h=u.oxw(2);u.xp6(1),u.Q6J("ngIf",h.recipe&&h.userData&&h.userData.favoriteRecipes&&h.userData.favoriteRecipes.includes(h.recipeId||""))("ngIfElse",o)}}function An(l,f){if(1&l&&(u.TgZ(0,"div",23)(1,"div",24),u.YNc(2,Re,4,2,"button",25),u.YNc(3,at,3,1,"div",8),u.qZA(),u.YNc(4,vr,4,2,"button",26),u.qZA()),2&l){const o=u.oxw();u.xp6(2),u.Q6J("ngIf",o.userData),u.xp6(1),u.Q6J("ngIf",(null==o.recipe||null==o.recipe.likes?null:o.recipe.likes.length)>0),u.xp6(1),u.Q6J("ngIf",o.userData)}}function sn(l,f){1&l&&(u.TgZ(0,"div",12),u._UZ(1,"hr"),u.TgZ(2,"p"),u._uU(3,"\xa0\xa0Ingredients\xa0\xa0"),u.qZA(),u._UZ(4,"hr"),u.qZA())}function Kt(l,f){if(1&l&&(u.TgZ(0,"li"),u._uU(1),u.qZA()),2&l){const o=u.oxw().$implicit;u.xp6(1),u.lnq(" ",o.name," - ",o.amount," ",o.unit," ")}}function En(l,f){if(1&l&&(u.TgZ(0,"ul",33),u.YNc(1,Kt,2,3,"li",8),u.qZA()),2&l){const o=u.oxw();u.xp6(1),u.Q6J("ngIf",null==o.recipe?null:o.recipe.ingredients)}}function Jn(l,f){if(1&l&&(u.TgZ(0,"li"),u._UZ(1,"iframe",35),u.ALo(2,"safeUrl"),u.qZA()),2&l){const o=f.$implicit;u.xp6(1),u.Q6J("src",u.lcZ(2,1,o.video_recipe),u.uOi)}}function Xt(l,f){if(1&l&&(u.TgZ(0,"div",34)(1,"div",12),u._UZ(2,"hr"),u.TgZ(3,"p"),u._uU(4,"\xa0\xa0Video\xa0\xa0"),u.qZA(),u._UZ(5,"hr"),u.qZA(),u._UZ(6,"br"),u.TgZ(7,"ul"),u.YNc(8,Jn,3,3,"li",21),u.qZA()()),2&l){const o=u.oxw();u.xp6(8),u.Q6J("ngForOf",null==o.recipe?null:o.recipe.video_recipe)}}function Ar(l,f){1&l&&(u.TgZ(0,"div",12),u._UZ(1,"hr"),u.TgZ(2,"p"),u._uU(3,"\xa0\xa0Buttons\xa0\xa0"),u.qZA(),u._UZ(4,"hr"),u.qZA())}function br(l,f){if(1&l){const o=u.EpF();u.TgZ(0,"button",32),u.NdJ("click",function(){u.CHM(o);const m=u.oxw(2);return u.KtG(m.toggleCommentForm())}),u._uU(1," Comment? "),u.qZA()}}function mn(l,f){if(1&l){const o=u.EpF();u.TgZ(0,"button",32),u.NdJ("click",function(){u.CHM(o);const m=u.oxw(2);return u.KtG(m.toggleCommentForm())}),u._uU(1," Hide Form "),u.qZA()}}function ar(l,f){if(1&l){const o=u.EpF();u.TgZ(0,"button",32),u.NdJ("click",function(){u.CHM(o);const m=u.oxw(2);return u.KtG(m.navigateToRecipeEdit())}),u._uU(1," Edit Recipe "),u.qZA()}}function Yn(l,f){if(1&l){const o=u.EpF();u.TgZ(0,"button",32),u.NdJ("click",function(){u.CHM(o);const m=u.oxw(2);return u.KtG(m.navigateToRecipeDelete())}),u._uU(1," Delete Recipe "),u.qZA()}}function cr(l,f){if(1&l&&(u.TgZ(0,"div",36),u.YNc(1,br,2,0,"button",26),u.YNc(2,mn,2,0,"button",26),u.YNc(3,ar,2,0,"button",26),u.YNc(4,Yn,2,0,"button",26),u.qZA()),2&l){const o=u.oxw();u.xp6(1),u.Q6J("ngIf",!o.showCommentForm),u.xp6(1),u.Q6J("ngIf",o.showCommentForm),u.xp6(1),u.Q6J("ngIf",o.userData&&o.userData.uid==(null==o.recipe?null:o.recipe.uid)),u.xp6(1),u.Q6J("ngIf",o.userData&&o.userData.uid==(null==o.recipe?null:o.recipe.uid))}}function Wn(l,f){if(1&l&&(u.TgZ(0,"div"),u._UZ(1,"app-comment-form",37),u.qZA()),2&l){const o=u.oxw();u.xp6(1),u.Q6J("recipeId",o.recipeId)}}function pi(l,f){1&l&&(u.TgZ(0,"div",12),u._UZ(1,"hr"),u.TgZ(2,"p"),u._uU(3,"\xa0\xa0Comments\xa0\xa0"),u.qZA(),u._UZ(4,"hr"),u.qZA())}function Rn(l,f){if(1&l){const o=u.EpF();u.TgZ(0,"span",42),u.NdJ("click",function(){u.CHM(o);const m=u.oxw().$implicit,T=u.oxw(2);return u.KtG(T.deleteComment(m.id))}),u._UZ(1,"i",43),u.qZA()}}function Xn(l,f){if(1&l){const o=u.EpF();u.TgZ(0,"span",42),u.NdJ("click",function(){u.CHM(o);const m=u.oxw().$implicit,T=u.oxw(2);return u.KtG(T.navigateToCommentEdit(m.id))}),u._UZ(1,"i",44),u.qZA()}}function Mr(l,f){if(1&l&&(u.TgZ(0,"ul")(1,"li"),u._uU(2),u.qZA(),u.TgZ(3,"li"),u._uU(4),u.qZA(),u.TgZ(5,"li",39)(6,"p"),u._uU(7),u.ALo(8,"date"),u.qZA(),u.TgZ(9,"div",40),u.YNc(10,Rn,2,0,"span",41),u.YNc(11,Xn,2,0,"span",41),u.qZA()(),u._UZ(12,"hr"),u.qZA()),2&l){const o=f.$implicit,h=u.oxw(2);u.xp6(2),u.Oqu(o.name),u.xp6(2),u.Oqu(o.text),u.xp6(3),u.hij(" ",u.xi3(8,5,o.create_time.toDate(),"dd/MM/yyyy HH:mm:ss")," "),u.xp6(3),u.Q6J("ngIf",h.userData&&o.uid==h.userData.uid),u.xp6(1),u.Q6J("ngIf",h.userData&&o.uid==h.userData.uid)}}function gi(l,f){if(1&l&&(u.TgZ(0,"section",38),u.YNc(1,Mr,13,8,"ul",21),u.qZA()),2&l){const o=u.oxw();u.xp6(1),u.Q6J("ngForOf",o.comments)}}let tt=(()=>{class l{constructor(o,h,m,T,k){var J=this;this.route=o,this.recipeService=h,this.commentService=m,this.userService=T,this.router=k,this.recipe=null,this.recipeId="",this.comments=[],this.showCommentForm=!1,this.route.paramMap.subscribe(function(){var ue=(0,Ie.Z)(function*(ge){J.recipeId=ge.get("id")});return function(ge){return ue.apply(this,arguments)}}()),m.getCommentAddedObservable().subscribe((0,Ie.Z)(function*(){console.log("Comment successfully added."),yield J.loadCommentsForRecipe()}))}loadRecipeData(){var o=this;return(0,Ie.Z)(function*(){if(o.recipeId)try{o.recipe=yield o.recipeService.getRecipeById(o.recipeId),o.comments=yield o.commentService.getCommentsForRecipe(o.recipeId),console.log("Recipe data loaded successfully.")}catch(h){console.error("An error occurred while loading recipe data:",h)}})()}navigateToRecipeEdit(){var o=this;return(0,Ie.Z)(function*(){yield o.router.navigate(["/dashboard/recipe-edit",o.recipeId])})()}navigateToRecipeDelete(){var o=this;return(0,Ie.Z)(function*(){yield o.router.navigate(["/dashboard/recipe-delete",o.recipeId])})()}ngOnInit(){var o=this;return(0,Ie.Z)(function*(){yield o.loadRecipeData(),o.userService.userData$.subscribe(h=>{h&&(o.userData=h)})})()}toggleCommentForm(){this.showCommentForm=!this.showCommentForm}navigateToCommentEdit(o){var h=this;return(0,Ie.Z)(function*(){yield h.router.navigate(["/dashboard/comment-edit",o])})()}deleteComment(o){var h=this;return(0,Ie.Z)(function*(){try{yield h.commentService.deleteComment(o),console.log("Comment deleted successfully."),yield h.loadRecipeData()}catch(m){console.error("Error deleting comment:",m)}})()}updateRecipeLikes(){var o=this;return(0,Ie.Z)(function*(){if(o.recipe)if(o.userData){if(o.userData){let h=o.recipe.likes.includes(o.userData.uid);yield o.recipeService.updateRecipeLikes(o.recipeId,o.userData.uid,h)}yield o.loadRecipeData()}else console.error("User is not logged in.");else console.error("Recipe data is missing.")})()}updateFavoriteRecipes(){var o=this;return(0,Ie.Z)(function*(){if(o.recipe){if(o.userData&&o.recipeId){let h=o.userData.favoriteRecipes.includes(o.recipeId);yield o.userService.updateFavoriteRecipes(o.recipeId,o.userData.uid,h),yield o.loadRecipeData()}}else console.error("Recipe data is missing.")})()}loadCommentsForRecipe(){var o=this;return(0,Ie.Z)(function*(){o.recipeId&&(o.comments=yield o.commentService.getCommentsForRecipe(o.recipeId))})()}static#e=this.\u0275fac=function(h){return new(h||l)(u.Y36(oe.gz),u.Y36(nt.j),u.Y36(bt.O),u.Y36(Te.K),u.Y36(oe.F0))};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-recipe"]],decls:33,vars:15,consts:[[1,"mainLong"],[1,"headerImage"],[1,"wrapper-list"],[1,"recipe-container"],[1,"title-wrapper"],[1,"title"],[1,"recipe-subtitle"],["class","recipe-summary",4,"ngIf"],[4,"ngIf"],[1,"recipe-hero"],["class","recipe-image",4,"ngIf"],["class","buttons",4,"ngIf"],[1,"divider"],[1,"recipe-description-text","description"],["class","divider",4,"ngIf"],["class","recipe-ingredients",4,"ngFor","ngForOf"],["class","recipe-videos",4,"ngIf"],["class","buttons buttons-img",4,"ngIf"],["class","comments",4,"ngIf"],[1,"recipe-summary"],[1,"recipe-image"],[4,"ngFor","ngForOf"],["alt","Image of a recipe",3,"src"],[1,"buttons"],[1,"like-wrapper"],["class","button",3,"click",4,"ngIf"],["class","button-img",3,"click",4,"ngIf"],[1,"button",3,"click"],[4,"ngIf","ngIfElse"],["notLiked",""],[1,"fa-solid","fa-heart","fa-beat-fade"],[1,"fa-regular","fa-heart","fa-beat-fade"],[1,"button-img",3,"click"],[1,"recipe-ingredients"],[1,"recipe-videos"],["width","560","height","315","allowfullscreen","",3,"src"],[1,"buttons","buttons-img"],[3,"recipeId"],[1,"comments"],[1,"comments-last"],[1,"commentBtnWrapper"],[3,"click",4,"ngIf"],[3,"click"],[1,"fa-solid","fa-trash","fa-shake"],[1,"fa-regular","fa-pen-to-square","fa-flip"]],template:function(h,m){1&h&&(u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),u._uU(6),u.qZA()(),u.TgZ(7,"h3",6),u._uU(8),u.qZA(),u.YNc(9,Dt,2,1,"div",7),u.YNc(10,Zn,2,0,"div",8),u.TgZ(11,"div",9),u.YNc(12,kr,2,1,"ul",10),u.YNc(13,An,5,3,"div",11),u.TgZ(14,"div",12),u._UZ(15,"hr"),u.TgZ(16,"p"),u._uU(17,"\xa0\xa0Preparation\xa0\xa0"),u.qZA(),u._UZ(18,"hr"),u.qZA(),u._UZ(19,"br"),u.TgZ(20,"p",13),u._uU(21),u.qZA(),u._UZ(22,"br"),u.YNc(23,sn,5,0,"div",14),u._UZ(24,"br"),u.YNc(25,En,2,1,"ul",15),u.YNc(26,Xt,9,1,"div",16),u.YNc(27,Ar,5,0,"div",14),u._UZ(28,"br"),u.YNc(29,cr,5,4,"div",17),u.YNc(30,Wn,2,1,"div",8),u.YNc(31,pi,5,0,"div",14),u.YNc(32,gi,2,1,"section",18),u.qZA()()()()),2&h&&(u.xp6(6),u.Oqu(null==m.recipe?null:m.recipe.title),u.xp6(2),u.Oqu(null==m.recipe?null:m.recipe.subtitle),u.xp6(1),u.Q6J("ngIf",null==m.recipe?null:m.recipe.summary),u.xp6(1),u.Q6J("ngIf",!(null!=m.recipe&&m.recipe.summary)),u.xp6(2),u.Q6J("ngIf",(null==m.recipe?null:m.recipe.image_recipe)&&(null==m.recipe||null==m.recipe.image_recipe?null:m.recipe.image_recipe.length)>0),u.xp6(1),u.Q6J("ngIf",m.userData),u.xp6(8),u.Oqu(null==m.recipe?null:m.recipe.description),u.xp6(2),u.Q6J("ngIf",null==m.recipe?null:m.recipe.ingredients),u.xp6(2),u.Q6J("ngForOf",null==m.recipe?null:m.recipe.ingredients),u.xp6(1),u.Q6J("ngIf",(null==m.recipe?null:m.recipe.video_recipe)&&(null==m.recipe||null==m.recipe.video_recipe?null:m.recipe.video_recipe.length)>0),u.xp6(1),u.Q6J("ngIf",m.userData),u.xp6(2),u.Q6J("ngIf",m.userData),u.xp6(1),u.Q6J("ngIf",m.showCommentForm),u.xp6(1),u.Q6J("ngIf",m.comments.length>0),u.xp6(1),u.Q6J("ngIf",m.comments.length>0))},dependencies:[le.sg,le.O5,bn,le.uU,cn.Q],styles:[".recipe-container[_ngcontent-%COMP%]{background-color:var(--backgroundColor);max-width:800px;margin:-50px auto 50px;padding:32px;box-shadow:0 1px 3px #0000004d}.title[_ngcontent-%COMP%]{font-size:28px}.recipe-subtitle[_ngcontent-%COMP%]{font-size:14px;margin-top:-10px;color:var(--mainGreyColor);font-style:italic;white-space:pre-wrap}.recipe-summary[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;text-align:center;font-style:italic;white-space:pre-wrap}.recipe-hero[_ngcontent-%COMP%]{grid-template-columns:70% 30%;gap:20px}ul.recipe-image[_ngcontent-%COMP%]{padding-left:unset}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;margin-bottom:10px}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:5px}.recipe-description-text[_ngcontent-%COMP%]{font-size:16px;white-space:pre-wrap}.recipe-ingredients[_ngcontent-%COMP%]{padding:0 16px}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;list-style-type:disc}.recipe-videos[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-top:20px}.recipe-videos[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;max-width:800px;height:450px}.buttons[_ngcontent-%COMP%]{padding:0 32px;display:flex;justify-content:space-between;align-items:baseline}.like-wrapper[_ngcontent-%COMP%]{display:flex;gap:20px;align-items:center}.comments[_ngcontent-%COMP%]{border:1px solid var(--mainMagnoliaColor);margin:30px 0;padding:20px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:10px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px;padding-left:5px}.comments[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--mainGreyColor)}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(odd){background-color:var(--backgroundColor);padding-left:5px;border-radius:5px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(2n){background-color:var(--mainMagnoliaColor);font-style:italic;border-radius:5px}.commentBtnWrapper[_ngcontent-%COMP%]{display:flex;gap:10px}.comments-last[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.fa-solid.fa-trash.fa-shake[_ngcontent-%COMP%], .fa-regular.fa-pen-to-square.fa-flip[_ngcontent-%COMP%]{cursor:pointer;color:var(--mainRGBAColor);background-color:var(--backgroundColor);padding:8px 10px;border:3px solid var(--mainRGBAColor);border-radius:50%;transition:1s ease-in-out}.fa-solid.fa-trash.fa-shake[_ngcontent-%COMP%]:hover, .fa-regular.fa-pen-to-square.fa-flip[_ngcontent-%COMP%]:hover{color:var(--backgroundColor);background-color:var(--mainRGBAColor);padding:8px 10px;border:3px solid var(--mainRGBAColor);border-radius:50%}@media (max-width: 640px){.buttons-img[_ngcontent-%COMP%]{flex-direction:column-reverse}.buttons[_ngcontent-%COMP%]{display:flex;padding:unset;flex-direction:column;width:100%;justify-content:space-around;align-items:stretch;gap:10px}.like-wrapper[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:space-between}}"]})}return l})();var Se=K(1176);function Ze(l,f){1&l&&(u.TgZ(0,"div")(1,"main",2),u._UZ(2,"div",3),u.TgZ(3,"div",4)(4,"div",5)(5,"div",6)(6,"h1",7),u._uU(7," We're sorry, but we couldn't find the result you're looking for! "),u.qZA()(),u.TgZ(8,"div",8),u._UZ(9,"app-logo-svg"),u.qZA()()()()())}const It=function(l){return["/recipe",l]};function qt(l,f){if(1&l&&(u.TgZ(0,"div")(1,"a",13)(2,"div",14)(3,"div",15),u._UZ(4,"img",16),u.qZA(),u.TgZ(5,"p",17),u._uU(6),u.qZA()()()()),2&l){const o=f.$implicit;u.xp6(1),u.Q6J("routerLink",u.VKq(4,It,o.id)),u.xp6(3),u.s9C("alt",o.title),u.Q6J("src",o.image_recipe[0].image_recipe,u.LSH),u.xp6(2),u.Oqu(o.title)}}function Zt(l,f){if(1&l&&(u.TgZ(0,"main",9),u._UZ(1,"div",3),u.TgZ(2,"div",10)(3,"div",6)(4,"h1",7),u._uU(5,"Result"),u.qZA()(),u.TgZ(6,"div",11),u.YNc(7,qt,7,6,"div",12),u.qZA()()()),2&l){const o=u.oxw();u.xp6(7),u.Q6J("ngForOf",o.recipes)}}let qn=(()=>{class l{constructor(o,h){this.recipeService=o,this.route=h,this.recipes=[],this.result=!1}ngOnInit(){this.route.queryParams.subscribe(o=>{const h=o.search;h&&this.getRecipes(h)})}getRecipes(o){var h=this;return(0,Ie.Z)(function*(){const{data:m}=yield h.recipeService.searchRecipesByTitle(o);m.length>0?(h.recipes.push(...m),h.result=!0):h.result=!1})()}static#e=this.\u0275fac=function(h){return new(h||l)(u.Y36(ir.v),u.Y36(oe.gz))};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-recipe-search"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["recipesList",""],[1,"main-short"],[1,"headerImage"],[1,"wrapper"],[1,"empty"],[1,"title-wrapper"],[1,"title"],[1,"logo-svg"],[1,"main-long"],[1,"wrapper-list"],[1,"recipe-list"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"recipe-item"],[1,"recipe-image"],[3,"src","alt"],[1,"recipe-title"]],template:function(h,m){if(1&h&&(u.YNc(0,Ze,10,0,"div",0),u.YNc(1,Zt,8,1,"ng-template",null,1,u.W1O)),2&h){const T=u.MAs(2);u.Q6J("ngIf",!m.result)("ngIfElse",T)}},dependencies:[le.sg,le.O5,oe.rH,Se.u],styles:[".wrapper-list[_ngcontent-%COMP%]{margin:-50px auto 50px;max-width:1200px;background-color:var(--backgroundColor);box-shadow:0 1px 3px #0000004d;padding:32px}.title-wrapper[_ngcontent-%COMP%]{margin-left:10px}.recipe-list[_ngcontent-%COMP%]{position:relative;display:grid;grid-template-columns:repeat(4,1fr);row-gap:20px;margin-bottom:50px}.recipe-item[_ngcontent-%COMP%]{margin:5px;position:relative}.recipe-image[_ngcontent-%COMP%]{padding:5px;position:relative;transition:transform 1s ease-in-out}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;width:100%;object-fit:fill}.recipe-item[_ngcontent-%COMP%]:hover   .recipe-image[_ngcontent-%COMP%]{transform:translateY(12%)}@media only screen and (max-width: 460px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 20px 50px;padding:16px}.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 461px) and (max-width: 767px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 768px) and (max-width: 1023px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);column-gap:10px;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}@media (min-width: 1024px) and (max-width: 1440px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);column-gap:10px;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}"]})}return l})();const U=(l,f)=>(0,u.f3M)(Te.K).userData$.pipe((0,we.w)(h=>(0,he.of)(!h)),(0,de.U)(h=>!!h||(window.alert("You are already logged in. Please log out to access this functionality."),!1))),Tt=[{path:"",pathMatch:"full",component:(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-carousel"]],decls:24,vars:0,consts:[["id","carouselExampleAutoplaying","data-bs-ride","carousel",1,"carousel","slide"],[1,"overlay"],[1,"info"],[1,"carousel-title"],[1,"subtitle"],["routerLink","/recipes-list",1,"infoBtn"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","https://www.aveeno.com/sites/aveeno_us_2/files/healingherbswithmortaran_687349.jpg","alt","carousel-img",1,"carousel-img","d-block","w-100"],[1,"carousel-item"],["src","https://imgix-prod.sgs.com/-/media/sgscorp/images/connectivity-and-products/aromatics-pexels.cdn.en-MU.1.jpg","alt","carousel-img",1,"carousel-img","d-block","w-100"],["src","https://images.pexels.com/photos/1793035/pexels-photo-1793035.jpeg","alt","carousel-img",1,"carousel-img","d-block","w-100"],["type","button","data-bs-target","#carouselExampleAutoplaying","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleAutoplaying","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(h,m){1&h&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),u._uU(4," Welcome to Our Herbal Healing Recipe Hub! "),u.qZA(),u.TgZ(5,"div",4),u._uU(6," Explore our curated herbal recipes for vitality and well-being. Register to save favorites, comment, and like recipes. Join us and contribute your own recipes for a community dedicated to herbal remedies! "),u.qZA(),u.TgZ(7,"a",5),u._uU(8,"READ MORE"),u.qZA()()(),u.TgZ(9,"div",6)(10,"div",7),u._UZ(11,"img",8),u.qZA(),u.TgZ(12,"div",9),u._UZ(13,"img",10),u.qZA(),u.TgZ(14,"div",9),u._UZ(15,"img",11),u.qZA()(),u.TgZ(16,"button",12),u._UZ(17,"span",13),u.TgZ(18,"span",14),u._uU(19,"Previous"),u.qZA()(),u.TgZ(20,"button",15),u._UZ(21,"span",16),u.TgZ(22,"span",14),u._uU(23,"Next"),u.qZA()()())},dependencies:[oe.rH],styles:[".carousel[_ngcontent-%COMP%]{max-height:93vh;overflow:hidden}.carousel-img[_ngcontent-%COMP%]{height:100vh;object-fit:cover}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{z-index:9}.overlay[_ngcontent-%COMP%]{position:absolute;inset:0 50% 0 0;background-color:var(--mainRGBAColor);z-index:9}.info[_ngcontent-%COMP%]{position:absolute;left:37%;right:10%;top:40%;transform:translate(2%,-27%);color:var(--mainWhiteColor);text-align:left}.carousel-title[_ngcontent-%COMP%]{font-size:32px;padding-bottom:20px;font-weight:900;line-height:35px;color:var(--backgroundColor);text-align:left;box-shadow:unset}.subtitle[_ngcontent-%COMP%]{font-size:18px;font-weight:300}.infoBtn[_ngcontent-%COMP%]{background-color:var(--backgroundColor);color:var(--textColor);padding:13px 35px;font-size:14px;margin-top:40px;display:inline-block;font-weight:700;font-family:Roboto,sans-serif;border:1px solid transparent;border-radius:4px}.infoBtn[_ngcontent-%COMP%]:hover{cursor:pointer;background:linear-gradient(90deg,rgba(166,87,93,1) 50%,rgba(189,158,159,1) 100%);border:1px solid var(--backgroundColor);color:var(--mainWhiteColor)}@media (max-width: 460px){.overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:var(--mainRGBAColor);z-index:9}.info[_ngcontent-%COMP%]{position:absolute;left:10%;right:10%;top:30%;color:var(--mainWhiteColor);text-align:center}.carousel-title[_ngcontent-%COMP%]{font-size:26px;padding-bottom:10px;font-weight:900;text-align:center}}@media (min-width: 461px) and (max-width: 767px){.overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:var(--mainRGBAColor);z-index:9}.info[_ngcontent-%COMP%]{position:absolute;left:10%;right:10%;top:30%;color:var(--mainWhiteColor);text-align:center}.carousel-title[_ngcontent-%COMP%]{font-size:26px;padding-bottom:10px;font-weight:900}}@media (min-width: 768px) and (max-width: 1023px){.info[_ngcontent-%COMP%]{position:absolute;left:10%;right:10%;top:30%;color:var(--mainWhiteColor)}}"]})}return l})()},{path:"register",component:je,canActivate:[U]},{path:"login",component:Gn,canActivate:[U]},{path:"forgot-password",component:(()=>{class l{constructor(o){this.userService=o}static#e=this.\u0275fac=function(h){return new(h||l)(u.Y36(Te.K))};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-forgot-password"]],decls:19,vars:0,consts:[[1,"main-short"],[1,"headerImage"],[1,"wrapper"],[1,"form-wrapper"],[1,"title-wrapper",2,"flex-direction","column"],[1,"title"],[1,"hint"],[1,"formGroup"],["type","email","placeholder","Email","required","",1,"formControl"],["passwordResetEmail",""],[1,"errors"],[1,"buttons"],["type","submit","value","Send email",1,"button",3,"click"],["href","#","routerLink","/login"]],template:function(h,m){if(1&h){const T=u.EpF();u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),u._uU(6,"Forgotten password"),u.qZA()(),u.TgZ(7,"p",6),u._uU(8," Please enter your email address so we can send you a password reset email. "),u.qZA(),u.TgZ(9,"div",7),u._UZ(10,"input",8,9),u.qZA(),u.TgZ(12,"p",10),u._uU(13," If you can't find the email, please check your spam folder! "),u.qZA(),u.TgZ(14,"div",11)(15,"input",12),u.NdJ("click",function(){u.CHM(T);const J=u.MAs(11);return u.KtG(m.userService.forgotPassword(J.value))}),u.qZA(),u.TgZ(16,"a",13)(17,"div",6),u._uU(18,"Return to Login"),u.qZA()()()()()()}},dependencies:[oe.rH],styles:[".form-wrapper[_ngcontent-%COMP%]{max-width:600px;margin:-50px auto 50px;padding:32px;background-color:var(--backgroundColor);border-radius:unset;box-shadow:0 1px 3px #0000004d}.buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.wrapper[_ngcontent-%COMP%]{padding:0 5%;max-width:600px;margin:0 auto}"]})}return l})()},{path:"recipes-list",component:Ve},{path:"recipe-search",component:qn},{path:"recipe/:id",component:tt},{path:"about",component:(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-about-us"]],decls:22,vars:0,consts:[[1,"main-long"],[1,"headerImage"],[1,"wrapper"],[1,"form-wrapper"],[1,"title-wrapper"],[1,"title-form"],[2,"color","var(--mainGreyColor)"]],template:function(h,m){1&h&&(u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),u._uU(6,"About Us"),u.qZA()(),u.TgZ(7,"div",6)(8,"p"),u._uU(9,"Welcome to our Healing Herbal Recipe Community!"),u.qZA(),u.TgZ(10,"p"),u._uU(11," Hello and welcome to our cozy corner dedicated to the power of herbs for health and well-being! We are passionate enthusiasts of herbal healing recipes and have decided to create this space where people from all over the world can come together to share their knowledge, experience, and love for herbal remedies. "),u.qZA(),u.TgZ(12,"p"),u._uU(13," We believe in the healing power of nature and strive to provide our users with a wealth of resources and inspiring ideas to improve their health and well-being. Our mission is to create a space where people can find recipes and support from the community to feel healthier and stronger. "),u.qZA(),u.TgZ(14,"p"),u._uU(15," Join us today and become part of our Healing Herbal Recipe Community! Together, we can achieve good heath and well-being through the power of nature and community. "),u.qZA(),u.TgZ(16,"p"),u._uU(17," Thank you for choosing to be part of our journey towards health and harmony! "),u.qZA(),u.TgZ(18,"p"),u._uU(19,"With love and gratitude,"),u.qZA(),u.TgZ(20,"p"),u._uU(21,"The Natural Way Team"),u.qZA()()()()())}})}return l})()},{path:"privacy-policy",component:(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-privacy-policy"]],decls:46,vars:0,consts:[[1,"main-long"],[1,"headerImage"],[1,"wrapper"],[1,"form-wrapper"],[1,"title-wrapper"],[1,"title-form"],[2,"color","var(--mainGreyColor)"],[2,"font-style","italic"],["routerLink","/contact"]],template:function(h,m){1&h&&(u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),u._uU(6,"Privacy Policy"),u.qZA()(),u.TgZ(7,"div",6)(8,"p",7),u._uU(9,"Last updated: 29.03.2024"),u.qZA(),u.TgZ(10,"p"),u._uU(11,' Welcome to the Privacy Policy of "The Natural Way". Our Privacy Policy explains how we collect, use, and disclose the personal information we receive from visitors to our Website. '),u.qZA(),u.TgZ(12,"h5"),u._uU(13,"1. Collection of Information"),u.qZA(),u.TgZ(14,"p"),u._uU(15," When you visit the Website, we may collect certain information from and about you. This information may include, but is not limited to: "),u.TgZ(16,"span",7),u._uU(17," Personal data such as names, email addresses, mailing addresses, etc., that you voluntarily provide to us through contact forms or account registration. Information about your computer, including IP address, browser type, operating system, and similar data for trend analysis, Website management, and protection against abuse. "),u.qZA()(),u.TgZ(18,"h5"),u._uU(19,"2. Use of Information"),u.qZA(),u.TgZ(20,"p"),u._uU(21," We use the collected information to provide and improve the Website, interact with users, analyze trends, and provide personalized content and advertisements. "),u.qZA(),u.TgZ(22,"h5"),u._uU(23,"3. Disclosure of Information"),u.qZA(),u.TgZ(24,"p"),u._uU(25," We may disclose personal information to our partners, service providers, and other third parties when necessary to provide services and perform tasks related to Website management. "),u.qZA(),u.TgZ(26,"h5"),u._uU(27,"4. Cookies and Similar Technologies"),u.qZA(),u.TgZ(28,"p"),u._uU(29," Our Cookie Policy explains how we use cookies and similar technologies that may be used on our Website. "),u.qZA(),u.TgZ(30,"h5"),u._uU(31,"5. Changes to the Privacy Policy"),u.qZA(),u.TgZ(32,"p"),u._uU(33," We may update this Privacy Policy from time to time. Any changes to this Privacy Policy will be posted on this page. "),u.qZA(),u.TgZ(34,"h5"),u._uU(35,"6. Linked Services and Websites"),u.qZA(),u.TgZ(36,"p"),u._uU(37," The Website may contain links to other websites and services that are not under our control. We are not responsible for the content and practices of these websites, and we encourage you to review the privacy policies of each website you visit. "),u.qZA(),u.TgZ(38,"h5"),u._uU(39,"7. Contact Information"),u.qZA(),u.TgZ(40,"p"),u._uU(41," For additional information regarding our Privacy Policy, please contact us at "),u.TgZ(42,"span")(43,"a",8),u._uU(44,"Contact Us"),u.qZA(),u._uU(45," page. "),u.qZA()()()()()())},dependencies:[oe.rH]})}return l})()},{path:"contact",component:(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-contact-us"]],decls:28,vars:0,consts:[[1,"main-short"],[1,"headerImage"],[1,"wrapper"],[1,"form-wrapper"],[1,"title-wrapper"],[1,"title-form"],[2,"color","var(--mainGreyColor)"],["href","mailto:andon.ov@yahoo.com"]],template:function(h,m){1&h&&(u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),u._uU(6,"Contact Us"),u.qZA()(),u.TgZ(7,"div",6)(8,"p"),u._uU(9," For any inquiries or questions, please feel free to contact us. We're here to help! "),u.qZA(),u.TgZ(10,"div")(11,"p")(12,"strong"),u._uU(13,"Address:"),u.qZA(),u._uU(14," San Stefano , Burgas, Bulgaria"),u.qZA(),u.TgZ(15,"p")(16,"strong"),u._uU(17,"Phone:"),u.qZA(),u._uU(18," +359 885 996789"),u.qZA(),u.TgZ(19,"p")(20,"strong"),u._uU(21,"Email:"),u.qZA(),u.TgZ(22,"a",7),u._uU(23," Andon.ov@yahoo.com"),u.qZA()()(),u._UZ(24,"hr"),u.TgZ(25,"div")(26,"p"),u._uU(27," This project was developed to meet the requirements of the Angular Project Assignment within the 'Angular - February 2024' course at SoftUni. "),u.qZA()()()()()())}})}return l})()},{path:"dashboard",loadChildren:()=>K.e(691).then(K.bind(K,7691)).then(l=>l.PrivateModule),canActivate:[(l,f)=>{const o=(0,u.f3M)(Te.K),h=(0,u.f3M)(oe.F0);return o.userData$.pipe((0,we.w)(m=>(0,he.of)(!!m&&m.isActive)),(0,de.U)(m=>!!m||(alert("Not authorized"),console.log("Not authorized"),h.createUrlTree(["/login"],{queryParams:{returnUrl:f.url}}))))}]},{path:"**",component:(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-page-not-found"]],decls:14,vars:0,consts:[[1,"main-short"],[1,"headerImage"],[1,"wrapper"],[1,"empty"],[1,"title-wrapper"],[1,"title"],[1,"logo-svg"],[1,"emptyInfo"],["routerLink","/","href","",1,"button"]],template:function(h,m){1&h&&(u.TgZ(0,"main",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),u._uU(6,"Page not Found!"),u.qZA()(),u.TgZ(7,"div",6),u._UZ(8,"app-logo-svg"),u.qZA(),u.TgZ(9,"div",7)(10,"p"),u._uU(11,"We're sorry, but the page you're looking for cannot be found. \xa0\xa0"),u.qZA(),u.TgZ(12,"a",8),u._uU(13,"Back to Home"),u.qZA()()()()())},dependencies:[oe.rH,Se.u]})}return l})()}];let rn=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({imports:[oe.Bz.forRoot(Tt,{useHash:!0}),oe.Bz]})}return l})(),ln=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-footer"]],decls:23,vars:0,consts:[[1,"footer"],[1,"footer-links"],["routerLink","/about"],["routerLink","/contact"],["routerLink","/privacy-policy"],[1,"social-icons"],["href","https://github.com/andon-ov","target","_blank"],[1,"fa-brands","fa-github","fa-flip"],["href","https://linkedin.com/in/andon-ov","target","_blank"],[1,"fa-brands","fa-linkedin","fa-flip"],[1,"copyright"],[1,"projectInfo"],["target","_blank","href","https://softuni.bg/"]],template:function(h,m){1&h&&(u.TgZ(0,"footer",0)(1,"div",1)(2,"a",2),u._uU(3,"About Us"),u.qZA(),u._uU(4," | "),u.TgZ(5,"a",3),u._uU(6,"Contact Us"),u.qZA(),u._uU(7," | "),u.TgZ(8,"a",4),u._uU(9,"Privacy Policy"),u.qZA()(),u.TgZ(10,"div",5)(11,"a",6),u._UZ(12,"i",7),u.qZA(),u.TgZ(13,"a",8),u._UZ(14,"i",9),u.qZA()(),u.TgZ(15,"div",10)(16,"div",11),u._uU(17," This project was developed to meet the requirements of the Angular Project Assignment within the 'Angular - February 2024' course at "),u.TgZ(18,"a",12),u._uU(19,"SoftUni"),u.qZA(),u._uU(20,". "),u.qZA(),u.TgZ(21,"span"),u._uU(22," \xa9 2024 The Natural Way. All Rights Reserved. "),u.qZA()()())},dependencies:[oe.rH],styles:[".footer[_ngcontent-%COMP%]{background-color:var(--aliceBlueColor);padding:20px;color:#333;font-size:14px;text-align:center}.footer-links[_ngcontent-%COMP%]{padding:20px 0}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#666;text-decoration:none;margin:0 10px}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--mainBlackColor)}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#666;text-decoration:none;margin:0 10px}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:var(--textColor)}.copyright[_ngcontent-%COMP%]{margin-top:20px;font-size:12px;color:#999}.projectInfo[_ngcontent-%COMP%]{margin-bottom:10px}"]})}return l})();var On=K(5619);class Wt{}class Ln{}const pr="*";function tr(l,f){return{type:7,name:l,definitions:f,options:{}}}function ks(l,f=null){return{type:4,styles:f,timings:l}}function ns(l,f=null){return{type:2,steps:l,options:f}}function uo(l){return{type:6,styles:l,offset:null}}function Xo(l,f,o){return{type:0,name:l,styles:f,options:o}}function Yr(l,f,o=null){return{type:1,expr:l,animation:f,options:o}}class hs{constructor(f=0,o=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=f+o}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(f=>f()),this._onDoneFns=[])}onStart(f){this._originalOnStartFns.push(f),this._onStartFns.push(f)}onDone(f){this._originalOnDoneFns.push(f),this._onDoneFns.push(f)}onDestroy(f){this._onDestroyFns.push(f)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(f=>f()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(f=>f()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(f){this._position=this.totalTime?f*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(f){const o="start"==f?this._onStartFns:this._onDoneFns;o.forEach(h=>h()),o.length=0}}class fo{constructor(f){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=f;let o=0,h=0,m=0;const T=this.players.length;0==T?queueMicrotask(()=>this._onFinish()):this.players.forEach(k=>{k.onDone(()=>{++o==T&&this._onFinish()}),k.onDestroy(()=>{++h==T&&this._onDestroy()}),k.onStart(()=>{++m==T&&this._onStart()})}),this.totalTime=this.players.reduce((k,J)=>Math.max(k,J.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(f=>f()),this._onDoneFns=[])}init(){this.players.forEach(f=>f.init())}onStart(f){this._onStartFns.push(f)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(f=>f()),this._onStartFns=[])}onDone(f){this._onDoneFns.push(f)}onDestroy(f){this._onDestroyFns.push(f)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(f=>f.play())}pause(){this.players.forEach(f=>f.pause())}restart(){this.players.forEach(f=>f.restart())}finish(){this._onFinish(),this.players.forEach(f=>f.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(f=>f.destroy()),this._onDestroyFns.forEach(f=>f()),this._onDestroyFns=[])}reset(){this.players.forEach(f=>f.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(f){const o=f*this.totalTime;this.players.forEach(h=>{const m=h.totalTime?Math.min(1,o/h.totalTime):1;h.setPosition(m)})}getPosition(){const f=this.players.reduce((o,h)=>null===o||h.totalTime>o.totalTime?h:o,null);return null!=f?f.getPosition():0}beforeDestroy(){this.players.forEach(f=>{f.beforeDestroy&&f.beforeDestroy()})}triggerCallback(f){const o="start"==f?this._onStartFns:this._onDoneFns;o.forEach(h=>h()),o.length=0}}var Ts=K(1816),js=K(3424);let ai=(()=>{class l{constructor(o,h){this.el=o,this.renderer=h}ngOnInit(){this.checkWidth()}onResize(){this.checkWidth()}checkWidth(){window.innerWidth<992?(this.renderer.addClass(this.el.nativeElement,"button"),this.renderer.addClass(this.el.nativeElement,"nav-btn"),this.renderer.addClass(this.el.nativeElement,"nav-link"),this.renderer.removeClass(this.el.nativeElement,"navigation")):(this.renderer.removeClass(this.el.nativeElement,"button"),this.renderer.removeClass(this.el.nativeElement,"nav-link"),this.renderer.removeClass(this.el.nativeElement,"nav-btn"),this.renderer.addClass(this.el.nativeElement,"navigation"))}static#e=this.\u0275fac=function(h){return new(h||l)(u.Y36(u.SBq),u.Y36(u.Qsj))};static#t=this.\u0275dir=u.lG2({type:l,selectors:[["","appResponsiveClass",""]],hostBindings:function(h,m){1&h&&u.NdJ("resize",function(){return m.onResize()},!1,u.Jf7)}})}return l})();function $s(l,f){1&l&&(u.TgZ(0,"li",19)(1,"a",20),u._UZ(2,"i",27),u.qZA(),u.TgZ(3,"ul",28)(4,"li")(5,"a",29),u._uU(6,"Register"),u.qZA()(),u.TgZ(7,"li")(8,"a",30),u._uU(9,"Login"),u.qZA()()()())}function qi(l,f){if(1&l){const o=u.EpF();u.TgZ(0,"li",19)(1,"a",20)(2,"span"),u._uU(3),u.qZA()(),u.TgZ(4,"ul",28)(5,"li")(6,"a",31),u._uU(7,"My recipes"),u.qZA()(),u.TgZ(8,"li")(9,"a",32),u._uU(10,"Create recipe"),u.qZA()(),u.TgZ(11,"li")(12,"a",33),u._uU(13,"Favorite recipes"),u.qZA()(),u.TgZ(14,"li")(15,"a",34),u._uU(16,"My comments"),u.qZA()(),u.TgZ(17,"li")(18,"a",35),u._uU(19,"Profile"),u.qZA()(),u.TgZ(20,"li")(21,"a",36),u.NdJ("click",function(){u.CHM(o);const m=u.oxw();return u.KtG(m.logout())}),u._uU(22,"Logout"),u.qZA()()()()}if(2&l){const o=u.oxw();u.xp6(3),u.Oqu(o.getUserDisplayName())}}function Qa(l,f){1&l&&(u.TgZ(0,"div",38),u._uU(1," What are you searching for? "),u.qZA())}function fs(l,f){1&l&&(u.TgZ(0,"div",38),u._uU(1," Min length is a 3 char! "),u.qZA())}function Ja(l,f){if(1&l&&(u.TgZ(0,"div"),u.YNc(1,Qa,2,0,"div",37),u.YNc(2,fs,2,0,"div",37),u.qZA()),2&l){const o=u.oxw();let h,m;u.xp6(1),u.Q6J("ngIf",null==(h=o.searchForm.get("search"))||null==h.errors?null:h.errors.required),u.xp6(1),u.Q6J("ngIf",null==(m=o.searchForm.get("search"))||null==m.errors?null:m.errors.minlength)}}let mi=(()=>{class l{constructor(o,h,m,T,k,J){this.userService=o,this.router=h,this.fb=m,this.elementRef=T,this.alertService=k,this.formErrorCheckService=J,this.state="normal",this.searchForm=this.fb.group({search:[""]}),this.isMenuOpen=!1,this.userDataSubject=new On.X(null),this.userDataSubscription=this.userDataSubject.subscribe(ue=>{this.userData=ue,console.log(this.userData)})}onMouseOver(){this.state="hovered"}onMouseOut(){this.state="normal"}ngOnInit(){this.userService.userData$.subscribe({next:o=>{o?(this.userDataSubject.next(o),console.log("You have a user:",o)):(this.userDataSubject.next(null),console.log("You have no user."))},error:o=>{console.error(o)}}),this.router.events.subscribe(o=>{if(o instanceof oe.m2){const h=this.elementRef.nativeElement.querySelector("#navbarScroll");h&&h.classList.remove("show")}})}onSubmit(){var o=this;return(0,Ie.Z)(function*(){if(o.searchForm.valid){let h=o.searchForm.value;h&&h.search?(yield o.router.navigate(["/recipe-search"],{queryParams:{search:h.search.trim()}}),o.searchForm.reset()):console.error("Query search value is null or undefined.")}else{const h=o.formErrorCheckService.getFormGroupErrors(o.searchForm);o.alertService.sendModalMessage(`The form is not valid. Please fix the following errors:\n      \n${h}`)}})()}ngOnDestroy(){this.userDataSubscription&&this.userDataSubscription.unsubscribe()}logout(){var o=this;return(0,Ie.Z)(function*(){yield o.userService.logoutUser()})()}getUserDisplayName(){return this.userData?this.userData.lastName:"Anonymous"}static#e=this.\u0275fac=function(h){return new(h||l)(u.Y36(Te.K),u.Y36(oe.F0),u.Y36(ne.qu),u.Y36(u.SBq),u.Y36(Ts.y),u.Y36(js.l))};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-header"]],decls:35,vars:5,consts:[[1,"navbar","navbar-dark","navbar-expand-lg"],[1,"container-fluid"],[1,"header-wrapper"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarScroll","aria-controls","navbarScroll","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","hamburger",3,"mouseover","mouseout"],[1,"fa-solid","fa-bars","fa-beat-fade"],["href","#",1,"navbar-brand"],["viewBox","0 0 200.92045542674032 200.92045542674032","height","50","width","50",1,"svg-logo"],["d","M0 100.46c0-55.483 44.978-100.46 100.46-100.46 55.483 0 100.46 44.978 100.46 100.46 0 55.483-44.978 100.46-100.46 100.46-55.483 0-100.46-44.978-100.46-100.46zM100.46 193.437c51.35 0 92.977-41.627 92.977-92.977 0-51.35-41.627-92.977-92.977-92.977-51.35 0-92.977 41.627-92.977 92.977 0 51.35 41.627 92.977 92.977 92.977z","data-fill-palette-color","accent","fill","var(--aliceBlueColor)","stroke","transparent"],["rx","99.45562543623646","ry","99.45562543623646","cx","100.46022771337016","cy","100.46022771337016","fill","var(--mainRGBAColor)","stroke","transparent","stroke-width","0","fill-opacity","1","data-fill-palette-color","accent"],["transform","matrix(1,0,0,1,43.57436241056036,43.35758026693677)"],["viewBox","0 0 113.7717306056196 114.20529489286677","height","114.20529489286677","width","113.7717306056196"],["xmlns","http://www.w3.org/2000/svg","data-name","Layer 1","viewBox","1.190000057220459 1.002901315689087 97.62506866455078 97.99710083007812","x","0","y","0","height","114.20529489286677","width","113.7717306056196","data-fill-palette-color","quaternary","id","b-0",1,"icon-b-0"],["d","M79.28 26.63a0.3 0.3 0 0 0 0-0.07 0.28 0.28 0 0 0-0.48-0.19l-7 7a20.24 20.24 0 0 0-6 13v1.87a37.5 37.5 0 0 1 1.67 5.15H54.79a32.9 32.9 0 0 0-5.43-15.13 26.9 26.9 0 0 1-7.74 5.77 22.2 22.2 0 0 1-6.34 2.06c-9.9 1.51-22.3-5-28.35-41.61a1.86 1.86 0 0 1 1.55-2.05c47.44-6.69 50.2 11.7 47.85 22.85a51.5 51.5 0 0 0-19.69-6.14h-0.11a0.43 0.43 0 0 0-0.18 0.76l11.58 8.5 5.84 4.31a37.3 37.3 0 0 1 6.08 5.85 24.8 24.8 0 0 1 5-6.15 17.7 17.7 0 0 1-2.54-5 14.8 14.8 0 0 1-0.65-4.41c0-6.65 5.53-14.14 30.18-14.44a1.23 1.23 0 0 1 1.24 1.23c-0.38 31.82-12.74 31.78-19.82 29.12a34.2 34.2 0 0 0 6.02-12.28M28.65 93h34.63a16.16 16.16 0 0 0 12.18-5.54l21.68-24.79a6.79 6.79 0 0 0-0.79-9.7 6.55 6.55 0 0 0-4.2-1.49 7.24 7.24 0 0 0-5.38 2.43l-10.2 11.35v0.16a11.85 11.85 0 0 1-11.89 11.26H52.21a2.54 2.54 0 1 1 0-5.08h12.47a6.72 6.72 0 0 0 6.81-6.34A6.54 6.54 0 0 0 65 58.52H44.19l-3.37-1.18a23.42 23.42 0 0 0-24.26 5.49L1.19 78.1 22.64 99Z","fill","var(--aliceBlueColor)","data-fill-palette-color","quaternary"],["routerLink","/",1,"logoText"],["id","navbarScroll",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","my-2","my-lg-0","navbar-nav-scroll"],[1,"nav-item"],["appResponsiveClass","","routerLink","/recipes-list","href","#","role","button","aria-expanded","false",1,"navigation"],["class","nav-item dropdown",4,"ngIf"],[1,"nav-item","dropdown"],["appResponsiveClass","","href","#","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"dropdown-toggle"],[1,"fa-solid","fa-magnifying-glass"],[1,"dropdown-menu","search"],["role","search",1,"d-flex","w-100",3,"formGroup","ngSubmit"],["type","search","aria-label","Search","formControlName","search","required","","minlength","3",1,"form-control","me-2"],[4,"ngIf"],["type","submit",1,"search","button"],[1,"fa-solid","fa-user"],[1,"dropdown-menu"],["routerLink","/register",1,"dropdown-item"],["routerLink","/login",1,"dropdown-item"],["routerLink","/dashboard/user-recipes","href","#",1,"dropdown-item"],["routerLink","/dashboard/recipe-create",1,"dropdown-item"],["routerLink","/dashboard/user-favorite-recipes","href","#",1,"dropdown-item"],["routerLink","/dashboard/user-comments","href","#",1,"dropdown-item"],["routerLink","/dashboard/user-info",1,"dropdown-item"],[1,"dropdown-item",3,"click"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(h,m){if(1&h&&(u.TgZ(0,"nav",0)(1,"div",1)(2,"div",2)(3,"button",3),u.NdJ("mouseover",function(){return m.onMouseOver()})("mouseout",function(){return m.onMouseOut()}),u.TgZ(4,"span"),u._UZ(5,"i",4),u.qZA()(),u.TgZ(6,"a",5),u.O4$(),u.TgZ(7,"svg",6)(8,"g"),u._UZ(9,"path",7)(10,"ellipse",8),u.qZA(),u.TgZ(11,"g",9)(12,"svg",10)(13,"g")(14,"svg",11),u._UZ(15,"path",12),u.qZA()()()()(),u.kcU(),u.TgZ(16,"span",13),u._uU(17," The Natural Way "),u.qZA()()(),u.TgZ(18,"div",14)(19,"ul",15)(20,"li",16)(21,"a",17),u._uU(22," Recipes "),u.qZA()(),u.YNc(23,$s,10,0,"li",18),u.YNc(24,qi,23,1,"li",18),u.TgZ(25,"li",19)(26,"a",20),u._uU(27," Search\xa0 "),u._UZ(28,"i",21),u.qZA(),u.TgZ(29,"ul",22)(30,"form",23),u.NdJ("ngSubmit",function(){return m.onSubmit()}),u._UZ(31,"input",24),u.YNc(32,Ja,3,2,"div",25),u.TgZ(33,"button",26),u._uU(34,"Search"),u.qZA()()()()()()()()),2&h){let T;u.xp6(3),u.Q6J("@rotate",m.state),u.xp6(20),u.Q6J("ngIf",!m.userData),u.xp6(1),u.Q6J("ngIf",m.userData),u.xp6(6),u.Q6J("formGroup",m.searchForm),u.xp6(2),u.Q6J("ngIf",null==(T=m.searchForm.get("search"))?null:T.touched)}},dependencies:[le.O5,oe.rH,ne._Y,ne.Fj,ne.JJ,ne.JL,ne.Q7,ne.wO,ne.sg,ne.u,ai],styles:["nav.navbar[_ngcontent-%COMP%]{min-height:7vh;background-color:var(--aliceBlueColor);box-shadow:1px 5px 15px 0 var(--mainRGBAColor)}.container-fluid[_ngcontent-%COMP%]{max-width:1024px}a.navbar-brand[_ngcontent-%COMP%]{display:flex;gap:10px;font-family:Caveat,cursive;font-weight:400;font-size:32px;color:var(--textColor)}.header-wrapper[_ngcontent-%COMP%]{display:flex;gap:20px;align-items:center}.hamburger[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding:4px 2px}.hamburger[_ngcontent-%COMP%]:hover{box-shadow:1px 1px 15px 0 var(--textColor)}button.navbar-toggler[_ngcontent-%COMP%]{background-color:var(--textColor);border:1px solid var(--backgroundColor)}ul.navbar-nav[_ngcontent-%COMP%]{position:relative;display:flex;gap:18px;width:100%;justify-content:flex-end}.navigation[_ngcontent-%COMP%]{color:var(--textColor)}ul.navbar-nav[_ngcontent-%COMP%]   ul.dropdown-menu[_ngcontent-%COMP%]{background-color:var(--backgroundColor);margin-top:18px}a.dropdown-item[_ngcontent-%COMP%]{color:var(--textColor)}.dropdown-item.active[_ngcontent-%COMP%], .dropdown-item[_ngcontent-%COMP%]:hover, .dropdown-item[_ngcontent-%COMP%]:focus{background-color:var(--textColor);color:var(--backgroundColor)}form[_ngcontent-%COMP%]{max-width:unset}.form-control[_ngcontent-%COMP%]{border:1px solid var(--textColor);border-radius:8px;background-color:var(--backgroundColor)}.form-control[_ngcontent-%COMP%]:focus{box-shadow:unset;background-color:var(--mainMagnoliaColor)}@media (max-width: 991px){.container-fluid[_ngcontent-%COMP%]{justify-content:space-evenly}.svg-logo[_ngcontent-%COMP%]{display:none}.navbar-nav.me-auto.my-2.my-lg-0.navbar-nav-scroll[_ngcontent-%COMP%]{background-color:var(--backgroundColor);padding:20px;border-radius:8px}.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu.search[_ngcontent-%COMP%]{border:unset;width:100%}form.d-flex[_ngcontent-%COMP%]{flex-direction:column;gap:15px}}@media (min-width: 992px) and (max-width: 1440px){.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu.search[_ngcontent-%COMP%]{left:unset;right:0;width:900px;padding:10px;margin-top:30px;border:unset}form[_ngcontent-%COMP%]{max-width:unset}.container-fluid[_ngcontent-%COMP%]{max-width:1200px;padding:0 3%;color:var(--textColor)}}@media (min-width: 1441px){.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu.search[_ngcontent-%COMP%]{left:unset;right:0;width:1000px;padding:10px;margin-top:30px;border:unset}form[_ngcontent-%COMP%]{max-width:unset}.container-fluid[_ngcontent-%COMP%]{padding:unset;max-width:1200px;color:var(--textColor)}}"],data:{animation:[tr("rotate",[Xo("normal",uo({transform:"rotate(0deg)"})),Xo("hovered",uo({transform:"rotate(180deg)"})),Yr("normal => hovered",ks("0.5s ease-in-out")),Yr("hovered => normal",ks("0.5s ease-in-out"))])]}})}return l})();function Pa(l,f){if(1&l){const o=u.EpF();u.TgZ(0,"div",1)(1,"button",2),u.NdJ("click",function(){u.CHM(o);const m=u.oxw();return u.KtG(m.scrollToTop())}),u._UZ(2,"i",3),u.qZA(),u.TgZ(3,"a",4)(4,"div",5)(5,"span",6),u.O4$(),u.TgZ(6,"svg",7),u._UZ(7,"path",8),u.qZA()(),u.kcU(),u.TgZ(8,"span",6),u.O4$(),u.TgZ(9,"svg",9),u._UZ(10,"path",8),u.qZA()()()()()}}let Fs=(()=>{class l{constructor(){this.showScrollButton=!1}onWindowScroll(){this.showScrollButton=window.pageYOffset>300}scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-scroll-to-top"]],hostBindings:function(h,m){1&h&&u.NdJ("scroll",function(){return m.onWindowScroll()},!1,u.Jf7)},decls:1,vars:1,consts:[["class","buttons",4,"ngIf"],[1,"buttons"],[1,"to-top",3,"click"],[1,"fa-solid","fa-chevron-up","fa-beat-fade"],["href","javascript:history.back()",1,"back-button"],[1,"button-box"],[1,"button-elem"],["viewBox","0 0 46 40","xmlns","http://www.w3.org/2000/svg"],["d","M46 20.038c0-.7-.3-1.5-.8-2.1l-16-17c-1.1-1-3.2-1.4-4.4-.3-1.2 1.1-1.2 3.3 0 4.4l11.3 11.9H3c-1.7 0-3 1.3-3 3s1.3 3 3 3h33.1l-11.3 11.9c-1 1-1.2 3.3 0 4.4 1.2 1.1 3.3.8 4.4-.3l16-17c.5-.5.8-1.1.8-1.9z"],["viewBox","0 0 46 40"]],template:function(h,m){1&h&&u.YNc(0,Pa,11,0,"div",0),2&h&&u.Q6J("ngIf",m.showScrollButton)},dependencies:[le.O5],styles:[".buttons[_ngcontent-%COMP%]{display:flex;gap:10px;position:fixed;bottom:120px;right:10px;flex-direction:column;align-items:center;z-index:10}.to-top[_ngcontent-%COMP%]{background-color:var(--mainRGBAColor);color:var(--backgroundColor);border:3px solid var(--backgroundColor);border-radius:50%;width:60px;height:60px;font-size:16px;cursor:pointer;transition:background-color .3s ease}button[_ngcontent-%COMP%]:hover{color:var(--textColor);background-color:var(--backgroundColor);box-shadow:0 0 15px 0 var(--textColor)}button[_ngcontent-%COMP%]:focus{outline:none}button.ng-hidden[_ngcontent-%COMP%]{display:none}"]})}return l})();const ha=function(l){return{show:l}};let fa=(()=>{class l{constructor(o){this.modalService=o,this.showModal=!1}ngOnInit(){this.modalMessageSubscription=this.modalService.modalMessage$.subscribe(o=>{console.log(3),this.modalMessage=o,console.log(o),this.showModal=!0})}ngOnDestroy(){this.modalMessageSubscription&&this.modalMessageSubscription.unsubscribe()}hideModal(){this.showModal=!1}static#e=this.\u0275fac=function(h){return new(h||l)(u.Y36(Ts.y))};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-custom-alert"]],decls:11,vars:4,consts:[["tabindex","-1","role","dialog",1,"modal",3,"ngClass"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"button",3,"click"]],template:function(h,m){1&h&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),u._uU(5,"Error Found!"),u.qZA()(),u.TgZ(6,"div",5),u._uU(7),u.qZA(),u.TgZ(8,"div",6)(9,"button",7),u.NdJ("click",function(){return m.hideModal()}),u._uU(10,"Close"),u.qZA()()()()()),2&h&&(u.Q6J("ngClass",u.VKq(2,ha,m.showModal)),u.xp6(7),u.hij(" ",m.modalMessage," "))},dependencies:[le.mk],styles:[".modal[_ngcontent-%COMP%]{display:none;overflow:hidden;position:fixed;top:0;left:0;width:100%;height:100%;z-index:15;outline:0}.modal.show[_ngcontent-%COMP%]{display:block;background-color:var(--mainRGBAColor)}.modal-body[_ngcontent-%COMP%]{white-space:pre-wrap}"]})}return l})(),Es=(()=>{class l{constructor(){this.title="The-Natural-Way"}static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["app-root"]],decls:5,vars:0,template:function(h,m){1&h&&u._UZ(0,"app-header")(1,"app-scroll-to-top")(2,"app-custom-alert")(3,"router-outlet")(4,"app-footer")},dependencies:[oe.lC,ln,mi,Fs,fa]})}return l})();var ci=K(9286),Ds=K(8726);let ll=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=u.oAB({type:l}),l.\u0275inj=u.cJS({imports:[[]]}),l})();var li=K(5592),Gc=K(6232),_i=K(8645),xo=K(4829),Ro=K(1631),ka=K(4266),ps=K(4674),ul=K(7400);const mo=["addListener","removeListener"],pa=["addEventListener","removeEventListener"],ea=["on","off"];function Qr(l,f,o,h){if((0,ps.m)(o)&&(h=o,o=void 0),h)return Qr(l,f,o).pipe((0,ul.Z)(h));const[m,T]=function Gi(l){return(0,ps.m)(l.addEventListener)&&(0,ps.m)(l.removeEventListener)}(l)?pa.map(k=>J=>l[k](f,J,o)):function hr(l){return(0,ps.m)(l.addListener)&&(0,ps.m)(l.removeListener)}(l)?mo.map(Po(l,f)):function Jr(l){return(0,ps.m)(l.on)&&(0,ps.m)(l.off)}(l)?ea.map(Po(l,f)):[];if(!m&&(0,ka.z)(l))return(0,Ro.z)(k=>Qr(k,f,o))((0,xo.Xf)(l));if(!m)throw new TypeError("Invalid event target");return new li.y(k=>{const J=(...ue)=>k.next(1<ue.length?ue:ue[0]);return m(J),()=>T(J)})}function Po(l,f){return o=>h=>l[o](f,h)}var rs=K(6321),ui=K(671);const{isArray:Ci}=Array;function Fa(l){return 1===l.length&&Ci(l[0])?l[0]:l}var Cs=K(8251);K(3019);var Nr=K(9940);function wi(...l){const f=(0,Nr.jO)(l),o=Fa(l);return o.length?new li.y(h=>{let m=o.map(()=>[]),T=o.map(()=>!1);h.add(()=>{m=T=null});for(let k=0;!h.closed&&k<o.length;k++)(0,xo.Xf)(o[k]).subscribe((0,Cs.x)(h,J=>{if(m[k].push(J),m.every(ue=>ue.length)){const ue=m.map(ge=>ge.shift());h.next(f?f(...ue):ue),m.some((ge,De)=>!ge.length&&T[De])&&h.complete()}},()=>{T[k]=!0,!m[k].length&&h.complete()}));return()=>{m=T=null}}):Gc.E}var Ws=K(5211),sr=K(9773),er=K(2181),wr=K(8180),Ss=K(9397),Pn=K(9360),_o=K(2737),La=K(2420);function is(...l){const f=(0,Nr.jO)(l);return(0,Pn.e)((o,h)=>{const m=l.length,T=new Array(m);let k=l.map(()=>!1),J=!1;for(let ue=0;ue<m;ue++)(0,xo.Xf)(l[ue]).subscribe((0,Cs.x)(h,ge=>{T[ue]=ge,!J&&!k[ue]&&(k[ue]=!0,(J=k.every(_o.y))&&(k=null))},La.Z));o.subscribe((0,Cs.x)(h,ue=>{if(J){const ge=[ue,...T];h.next(f?f(...ge):ge)}}))})}K(975),K(7921),K(3997),Math,Math,Math;const Ta=["*"],vl=["dialog"];function Du(l){return"string"==typeof l}function uc(l){return null!=l}function Wl(l){return(l||document.body).getBoundingClientRect()}const rd={animation:!0,transitionTimerDelayMs:5},pv=()=>{},{transitionTimerDelayMs:gv}=rd,wl=new Map,Oi=(l,f,o,h)=>{let m=h.context||{};const T=wl.get(f);if(T)switch(h.runningTransition){case"continue":return Gc.E;case"stop":l.run(()=>T.transition$.complete()),m=Object.assign(T.context,m),wl.delete(f)}const k=o(f,h.animation,m)||pv;if(!h.animation||"none"===window.getComputedStyle(f).transitionProperty)return l.run(()=>k()),(0,he.of)(void 0).pipe(function hv(l){return f=>new li.y(o=>f.subscribe({next:k=>l.run(()=>o.next(k)),error:k=>l.run(()=>o.error(k)),complete:()=>l.run(()=>o.complete())}))}(l));const J=new _i.x,ue=new _i.x,ge=J.pipe(function ti(...l){return f=>(0,Ws.z)(f,(0,he.of)(...l))}(!0));wl.set(f,{transition$:J,complete:()=>{ue.next(),ue.complete()},context:m});const De=function Vf(l){const{transitionDelay:f,transitionDuration:o}=window.getComputedStyle(l);return 1e3*(parseFloat(f)+parseFloat(o))}(f);return l.runOutsideAngular(()=>{const Je=Qr(f,"transitionend").pipe((0,sr.R)(ge),(0,er.h)(({target:ht})=>ht===f));(function ur(...l){return 1===(l=Fa(l)).length?(0,xo.Xf)(l[0]):new li.y(function Lt(l){return f=>{let o=[];for(let h=0;o&&!f.closed&&h<l.length;h++)o.push((0,xo.Xf)(l[h]).subscribe((0,Cs.x)(f,m=>{if(o){for(let T=0;T<o.length;T++)T!==h&&o[T].unsubscribe();o=null}f.next(m)})))}}(l))})(function zs(l=0,f,o=rs.P){let h=-1;return null!=f&&((0,ui.K)(f)?o=f:h=f),new li.y(m=>{let T=function Ki(l){return l instanceof Date&&!isNaN(l)}(l)?+l-o.now():l;T<0&&(T=0);let k=0;return o.schedule(function(){m.closed||(m.next(k++),0<=h?this.schedule(void 0,h):m.complete())},T)})}(De+gv).pipe((0,sr.R)(ge)),Je,ue).pipe((0,sr.R)(ge)).subscribe(()=>{wl.delete(f),l.run(()=>{k(),J.next(),J.complete()})})}),J.asObservable()};let A=(()=>{class l{constructor(){this.animation=rd.animation}static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275prov=u.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})(),a_=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})(),od=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})(),ob=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})(),Iv=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})();var Mi=function(l){return l[l.Tab=9]="Tab",l[l.Enter=13]="Enter",l[l.Escape=27]="Escape",l[l.Space=32]="Space",l[l.PageUp=33]="PageUp",l[l.PageDown=34]="PageDown",l[l.End=35]="End",l[l.Home=36]="Home",l[l.ArrowLeft=37]="ArrowLeft",l[l.ArrowUp=38]="ArrowUp",l[l.ArrowRight=39]="ArrowRight",l[l.ArrowDown=40]="ArrowDown",l}(Mi||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const Eg=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function __(l){const f=Array.from(l.querySelectorAll(Eg)).filter(o=>-1!==o.tabIndex);return[f[0],f[f.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let S_=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})(),A_=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})();class xi{constructor(f,o,h){this.nodes=f,this.viewRef=o,this.componentRef=h}}let dp=(()=>{class l{constructor(o,h){this._el=o,this._zone=h}ngOnInit(){this._zone.onStable.asObservable().pipe((0,wr.q)(1)).subscribe(()=>{Oi(this._zone,this._el.nativeElement,(o,h)=>{h&&Wl(o),o.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Oi(this._zone,this._el.nativeElement,({classList:o})=>o.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(h){return new(h||l)(u.Y36(u.SBq),u.Y36(u.R0b))};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(h,m){2&h&&(u.Tol("modal-backdrop"+(m.backdropClass?" "+m.backdropClass:"")),u.ekj("show",!m.animation)("fade",m.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[u.jDz],decls:0,vars:0,template:function(h,m){},encapsulation:2})}return l})();class Ud{update(f){}close(f){}dismiss(f){}}const nl=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],N_=["animation","backdropClass"];class wb{_applyWindowOptions(f,o){nl.forEach(h=>{uc(o[h])&&(f[h]=o[h])})}_applyBackdropOptions(f,o){N_.forEach(h=>{uc(o[h])&&(f[h]=o[h])})}update(f){this._applyWindowOptions(this._windowCmptRef.instance,f),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,f)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,sr.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,sr.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(f,o,h,m){this._windowCmptRef=f,this._contentRef=o,this._backdropCmptRef=h,this._beforeDismiss=m,this._closed=new _i.x,this._dismissed=new _i.x,this._hidden=new _i.x,f.instance.dismissEvent.subscribe(T=>{this.dismiss(T)}),this.result=new Promise((T,k)=>{this._resolve=T,this._reject=k}),this.result.then(null,()=>{})}close(f){this._windowCmptRef&&(this._closed.next(f),this._resolve(f),this._removeModalElements())}_dismiss(f){this._dismissed.next(f),this._reject(f),this._removeModalElements()}dismiss(f){if(this._windowCmptRef)if(this._beforeDismiss){const o=this._beforeDismiss();!function nd(l){return l&&l.then}(o)?!1!==o&&this._dismiss(f):o.then(h=>{!1!==h&&this._dismiss(f)},()=>{})}else this._dismiss(f)}_removeModalElements(){const f=this._windowCmptRef.instance.hide(),o=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,he.of)(void 0);f.subscribe(()=>{const{nativeElement:h}=this._windowCmptRef.location;h.parentNode.removeChild(h),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),o.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:h}=this._backdropCmptRef.location;h.parentNode.removeChild(h),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),wi(f,o).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var O_=function(l){return l[l.BACKDROP_CLICK=0]="BACKDROP_CLICK",l[l.ESC=1]="ESC",l}(O_||{});let jh=(()=>{class l{constructor(o,h,m){this._document=o,this._elRef=h,this._zone=m,this._closed$=new _i.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new u.vpe,this.shown=new _i.x,this.hidden=new _i.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Du(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(o){this.dismissEvent.emit(o)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,wr.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:o}=this._elRef,h={animation:this.animation,runningTransition:"stop"},k=wi(Oi(this._zone,o,()=>o.classList.remove("show"),h),Oi(this._zone,this._dialogEl.nativeElement,()=>{},h));return k.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),k}_show(){const o={animation:this.animation,runningTransition:"continue"};wi(Oi(this._zone,this._elRef.nativeElement,(T,k)=>{k&&Wl(T),T.classList.add("show")},o),Oi(this._zone,this._dialogEl.nativeElement,()=>{},o)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:o}=this._elRef;this._zone.runOutsideAngular(()=>{Qr(o,"keydown").pipe((0,sr.R)(this._closed$),(0,er.h)(m=>m.which===Mi.Escape)).subscribe(m=>{this.keyboard?requestAnimationFrame(()=>{m.defaultPrevented||this._zone.run(()=>this.dismiss(O_.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let h=!1;Qr(this._dialogEl.nativeElement,"mousedown").pipe((0,sr.R)(this._closed$),(0,Ss.b)(()=>h=!1),(0,we.w)(()=>Qr(o,"mouseup").pipe((0,sr.R)(this._closed$),(0,wr.q)(1))),(0,er.h)(({target:m})=>o===m)).subscribe(()=>{h=!0}),Qr(o,"click").pipe((0,sr.R)(this._closed$)).subscribe(({target:m})=>{o===m&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!h&&this._zone.run(()=>this.dismiss(O_.BACKDROP_CLICK))),h=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:o}=this._elRef;if(!o.contains(document.activeElement)){const h=o.querySelector("[ngbAutofocus]"),m=__(o)[0];(h||m||o).focus()}}_restoreFocus(){const o=this._document.body,h=this._elWithFocus;let m;m=h&&h.focus&&o.contains(h)?h:o,this._zone.runOutsideAngular(()=>{setTimeout(()=>m.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Oi(this._zone,this._elRef.nativeElement,({classList:o})=>(o.add("modal-static"),()=>o.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(h){return new(h||l)(u.Y36(le.K0),u.Y36(u.SBq),u.Y36(u.R0b))};static#t=this.\u0275cmp=u.Xpm({type:l,selectors:[["ngb-modal-window"]],viewQuery:function(h,m){if(1&h&&u.Gf(vl,7),2&h){let T;u.iGM(T=u.CRH())&&(m._dialogEl=T.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(h,m){2&h&&(u.uIk("aria-modal",!0)("aria-labelledby",m.ariaLabelledBy)("aria-describedby",m.ariaDescribedBy),u.Tol("modal d-block"+(m.windowClass?" "+m.windowClass:"")),u.ekj("fade",m.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[u.jDz],ngContentSelectors:Ta,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(h,m){1&h&&(u.F$t(),u.TgZ(0,"div",0,1)(2,"div",2),u.Hsn(3),u.qZA()()),2&h&&u.Tol("modal-dialog"+(m.size?" modal-"+m.size:"")+(m.centered?" modal-dialog-centered":"")+m.fullscreenClass+(m.scrollable?" modal-dialog-scrollable":"")+(m.modalDialogClass?" "+m.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return l})(),M_=(()=>{class l{constructor(o){this._document=o}hide(){const o=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),h=this._document.body,m=h.style,{overflow:T,paddingRight:k}=m;if(o>0){const J=parseFloat(window.getComputedStyle(h).paddingRight);m.paddingRight=`${J+o}px`}return m.overflow="hidden",()=>{o>0&&(m.paddingRight=k),m.overflow=T}}static#e=this.\u0275fac=function(h){return new(h||l)(u.LFG(le.K0))};static#t=this.\u0275prov=u.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})(),Gv=(()=>{class l{constructor(o,h,m,T,k,J,ue){this._applicationRef=o,this._injector=h,this._environmentInjector=m,this._document=T,this._scrollBar=k,this._rendererFactory=J,this._ngZone=ue,this._activeWindowCmptHasChanged=new _i.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new u.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const ge=this._windowCmpts[this._windowCmpts.length-1];((l,f,o,h=!1)=>{l.runOutsideAngular(()=>{const m=Qr(f,"focusin").pipe((0,sr.R)(o),(0,de.U)(T=>T.target));Qr(f,"keydown").pipe((0,sr.R)(o),(0,er.h)(T=>T.which===Mi.Tab),is(m)).subscribe(([T,k])=>{const[J,ue]=__(f);(k===J||k===f)&&T.shiftKey&&(ue.focus(),T.preventDefault()),k===ue&&!T.shiftKey&&(J.focus(),T.preventDefault())}),h&&Qr(f,"click").pipe((0,sr.R)(o),is(m),(0,de.U)(T=>T[1])).subscribe(T=>T.focus())})})(this._ngZone,ge.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(ge.location.nativeElement)}})}_restoreScrollBar(){const o=this._scrollBarRestoreFn;o&&(this._scrollBarRestoreFn=null,o())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(o,h,m){const T=m.container instanceof HTMLElement?m.container:uc(m.container)?this._document.querySelector(m.container):this._document.body,k=this._rendererFactory.createRenderer(null,null);if(!T)throw new Error(`The specified modal container "${m.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const J=new Ud,ue=(o=m.injector||o).get(u.lqb,null)||this._environmentInjector,ge=this._getContentRef(o,ue,h,J,m);let De=!1!==m.backdrop?this._attachBackdrop(T):void 0,Je=this._attachWindowComponent(T,ge.nodes),ct=new wb(Je,ge,De,m.beforeDismiss);return this._registerModalRef(ct),this._registerWindowCmpt(Je),ct.hidden.pipe((0,wr.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(k.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),J.close=ht=>{ct.close(ht)},J.dismiss=ht=>{ct.dismiss(ht)},J.update=ht=>{ct.update(ht)},ct.update(m),1===this._modalRefs.length&&k.addClass(this._document.body,"modal-open"),De&&De.instance&&De.changeDetectorRef.detectChanges(),Je.changeDetectorRef.detectChanges(),ct}get activeInstances(){return this._activeInstances}dismissAll(o){this._modalRefs.forEach(h=>h.dismiss(o))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(o){let h=(0,u.LMc)(dp,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(h.hostView),o.appendChild(h.location.nativeElement),h}_attachWindowComponent(o,h){let m=(0,u.LMc)(jh,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:h});return this._applicationRef.attachView(m.hostView),o.appendChild(m.location.nativeElement),m}_getContentRef(o,h,m,T,k){return m?m instanceof u.Rgc?this._createFromTemplateRef(m,T):Du(m)?this._createFromString(m):this._createFromComponent(o,h,m,T,k):new xi([])}_createFromTemplateRef(o,h){const T=o.createEmbeddedView({$implicit:h,close(k){h.close(k)},dismiss(k){h.dismiss(k)}});return this._applicationRef.attachView(T),new xi([T.rootNodes],T)}_createFromString(o){const h=this._document.createTextNode(`${o}`);return new xi([[h]])}_createFromComponent(o,h,m,T,k){const J=u.zs3.create({providers:[{provide:Ud,useValue:T}],parent:o}),ue=(0,u.LMc)(m,{environmentInjector:h,elementInjector:J}),ge=ue.location.nativeElement;return k.scrollable&&ge.classList.add("component-host-scrollable"),this._applicationRef.attachView(ue.hostView),new xi([[ge]],ue.hostView,ue)}_setAriaHidden(o){const h=o.parentElement;h&&o!==this._document.body&&(Array.from(h.children).forEach(m=>{m!==o&&"SCRIPT"!==m.nodeName&&(this._ariaHiddenValues.set(m,m.getAttribute("aria-hidden")),m.setAttribute("aria-hidden","true"))}),this._setAriaHidden(h))}_revertAriaHidden(){this._ariaHiddenValues.forEach((o,h)=>{o?h.setAttribute("aria-hidden",o):h.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(o){const h=()=>{const m=this._modalRefs.indexOf(o);m>-1&&(this._modalRefs.splice(m,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(o),this._activeInstances.emit(this._modalRefs),o.result.then(h,h)}_registerWindowCmpt(o){this._windowCmpts.push(o),this._activeWindowCmptHasChanged.next(),o.onDestroy(()=>{const h=this._windowCmpts.indexOf(o);h>-1&&(this._windowCmpts.splice(h,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(h){return new(h||l)(u.LFG(u.z2F),u.LFG(u.zs3),u.LFG(u.lqb),u.LFG(le.K0),u.LFG(M_),u.LFG(u.FYo),u.LFG(u.R0b))};static#t=this.\u0275prov=u.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})(),Ib=(()=>{class l{constructor(o){this._ngbConfig=o,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(o){this._animation=o}static#e=this.\u0275fac=function(h){return new(h||l)(u.LFG(A))};static#t=this.\u0275prov=u.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})(),hp=(()=>{class l{constructor(o,h,m){this._injector=o,this._modalStack=h,this._config=m}open(o,h={}){const m={...this._config,animation:this._config.animation,...h};return this._modalStack.open(this._injector,o,m)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(o){this._modalStack.dismissAll(o)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(h){return new(h||l)(u.LFG(u.zs3),u.LFG(Gv),u.LFG(Ib))};static#t=this.\u0275prov=u.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})(),Vd=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({providers:[hp]})}return l})(),k_=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})(),Ug=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})(),ro=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})(),Hg=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})(),Cb=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})(),Ru=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})(),Pu=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})(),Yh=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})(),ku=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})();new u.OlP("live announcer delay",{providedIn:"root",factory:function Mb(){return 100}});let Fu=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})(),Xv=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({})}return l})();const Kg=[a_,od,ob,Iv,S_,A_,Vd,k_,Xv,Ug,ro,Hg,Cb,Ru,Pu,Yh,ku,Fu];let Jh=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({imports:[Kg,a_,od,ob,Iv,S_,A_,Vd,k_,Xv,Ug,ro,Hg,Cb,Ru,Pu,Yh,ku,Fu]})}return l})();var e0=K(2772);function Zd(l){return new u.vHH(3e3,!1)}function fc(l){switch(l.length){case 0:return new hs;case 1:return l[0];default:return new fo(l)}}function Dl(l,f,o=new Map,h=new Map){const m=[],T=[];let k=-1,J=null;if(f.forEach(ue=>{const ge=ue.get("offset"),De=ge==k,Je=De&&J||new Map;ue.forEach((ct,ht)=>{let xt=ht,St=ct;if("offset"!==ht)switch(xt=l.normalizePropertyName(xt,m),St){case"!":St=o.get(ht);break;case pr:St=h.get(ht);break;default:St=l.normalizeStyleValue(ht,xt,St,m)}Je.set(xt,St)}),De||T.push(Je),J=Je,k=ge}),m.length)throw function Yl(l){return new u.vHH(3502,!1)}();return T}function ld(l,f,o,h){switch(f){case"start":l.onStart(()=>h(o&&ey(o,"start",l)));break;case"done":l.onDone(()=>h(o&&ey(o,"done",l)));break;case"destroy":l.onDestroy(()=>h(o&&ey(o,"destroy",l)))}}function ey(l,f,o){const T=ty(l.element,l.triggerName,l.fromState,l.toState,f||l.phaseName,o.totalTime??l.totalTime,!!o.disabled),k=l._data;return null!=k&&(T._data=k),T}function ty(l,f,o,h,m="",T=0,k){return{element:l,triggerName:f,fromState:o,toState:h,phaseName:m,totalTime:T,disabled:!!k}}function pc(l,f,o){let h=l.get(f);return h||l.set(f,h=o),h}function Xh(l){const f=l.indexOf(":");return[l.substring(1,f),l.slice(f+1)]}const Qd=(()=>typeof document>"u"?null:document.documentElement)();function Ql(l){const f=l.parentNode||l.host||null;return f===Qd?null:f}let Bu=null,Jd=!1;function ny(l,f){for(;f;){if(f===l)return!0;f=Ql(f)}return!1}function ry(l,f,o){if(o)return Array.from(l.querySelectorAll(f));const h=l.querySelector(f);return h?[h]:[]}let u0=(()=>{class l{validateStyleProperty(o){return function Dp(l){Bu||(Bu=function Ms(){return typeof document<"u"?document.body:null}()||{},Jd=!!Bu.style&&"WebkitAppearance"in Bu.style);let f=!0;return Bu.style&&!function ef(l){return"ebkit"==l.substring(1,6)}(l)&&(f=l in Bu.style,!f&&Jd&&(f="Webkit"+l.charAt(0).toUpperCase()+l.slice(1)in Bu.style)),f}(o)}matchesElement(o,h){return!1}containsElement(o,h){return ny(o,h)}getParentElement(o){return Ql(o)}query(o,h,m){return ry(o,h,m)}computeStyle(o,h,m){return m||""}animate(o,h,m,T,k,J=[],ue){return new hs(m,T)}static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275prov=u.Yz7({token:l,factory:l.\u0275fac})}return l})(),iy=(()=>{class l{static#e=this.NOOP=new u0}return l})();const Bb=1e3,sy="ng-enter",Sa="ng-leave",tf="ng-trigger",Sp=".ng-trigger",oy="ng-animating",nf=".ng-animating";function gc(l){if("number"==typeof l)return l;const f=l.match(/^(-?[\.\d]+)(m?s)/);return!f||f.length<2?0:rr(parseFloat(f[1]),f[2])}function rr(l,f){return"s"===f?l*Bb:l}function Xd(l,f,o){return l.hasOwnProperty("duration")?l:function Ap(l,f,o){let m,T=0,k="";if("string"==typeof l){const J=l.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===J)return f.push(Zd()),{duration:0,delay:0,easing:""};m=rr(parseFloat(J[1]),J[2]);const ue=J[3];null!=ue&&(T=rr(parseFloat(ue),J[4]));const ge=J[5];ge&&(k=ge)}else m=l;if(!o){let J=!1,ue=f.length;m<0&&(f.push(function Kd(){return new u.vHH(3100,!1)}()),J=!0),T<0&&(f.push(function Yg(){return new u.vHH(3101,!1)}()),J=!0),J&&f.splice(ue,0,Zd())}return{duration:m,delay:T,easing:k}}(l,f,o)}function Cl(l,f={}){return Object.keys(l).forEach(o=>{f[o]=l[o]}),f}function rf(l){const f=new Map;return Object.keys(l).forEach(o=>{f.set(o,l[o])}),f}function aa(l,f=new Map,o){if(o)for(let[h,m]of o)f.set(h,m);for(let[h,m]of l)f.set(h,m);return f}function xc(l,f,o){f.forEach((h,m)=>{const T=tm(m);o&&!o.has(m)&&o.set(m,l.style[T]),l.style[T]=h})}function rl(l,f){f.forEach((o,h)=>{const m=tm(h);l.style[m]=""})}function ud(l){return Array.isArray(l)?1==l.length?l[0]:ns(l):l}const af=new RegExp("{{\\s*(.+?)\\s*}}","g");function eh(l){let f=[];if("string"==typeof l){let o;for(;o=af.exec(l);)f.push(o[1]);af.lastIndex=0}return f}function th(l,f,o){const h=l.toString(),m=h.replace(af,(T,k)=>{let J=f[k];return null==J&&(o.push(function Pb(l){return new u.vHH(3003,!1)}()),J=""),J.toString()});return m==h?l:m}function nh(l){const f=[];let o=l.next();for(;!o.done;)f.push(o.value),o=l.next();return f}const rh=/-+([a-z0-9])/g;function tm(l){return l.replace(rh,(...f)=>f[1].toUpperCase())}function Aa(l,f,o){switch(f.type){case 7:return l.visitTrigger(f,o);case 0:return l.visitState(f,o);case 1:return l.visitTransition(f,o);case 2:return l.visitSequence(f,o);case 3:return l.visitGroup(f,o);case 4:return l.visitAnimate(f,o);case 5:return l.visitKeyframes(f,o);case 6:return l.visitStyle(f,o);case 8:return l.visitReference(f,o);case 9:return l.visitAnimateChild(f,o);case 10:return l.visitAnimateRef(f,o);case 11:return l.visitQuery(f,o);case 12:return l.visitStagger(f,o);default:throw function kb(l){return new u.vHH(3004,!1)}()}}function mc(l,f){return window.getComputedStyle(l)[f]}const ii="*";function Gb(l,f){const o=[];return"string"==typeof l?l.split(/\s*,\s*/).forEach(h=>function f0(l,f,o){if(":"==l[0]){const ue=function il(l,f){switch(l){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(o,h)=>parseFloat(h)>parseFloat(o);case":decrement":return(o,h)=>parseFloat(h)<parseFloat(o);default:return f.push(function Fb(l){return new u.vHH(3016,!1)}()),"* => *"}}(l,o);if("function"==typeof ue)return void f.push(ue);l=ue}const h=l.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==h||h.length<4)return o.push(function n0(l){return new u.vHH(3015,!1)}()),f;const m=h[1],T=h[2],k=h[3];f.push(ih(m,k));"<"==T[0]&&!(m==ii&&k==ii)&&f.push(ih(k,m))}(h,o,f)):o.push(l),o}const lf=new Set(["true","1"]),uf=new Set(["false","0"]);function ih(l,f){const o=lf.has(l)||uf.has(l),h=lf.has(f)||uf.has(f);return(m,T)=>{let k=l==ii||l==m,J=f==ii||f==T;return!k&&o&&"boolean"==typeof m&&(k=m?lf.has(l):uf.has(l)),!J&&h&&"boolean"==typeof T&&(J=T?lf.has(f):uf.has(f)),k&&J}}const cy=new RegExp("s*:selfs*,?","g");function Sl(l,f,o,h){return new Co(l).build(f,o,h)}class Co{constructor(f){this._driver=f}build(f,o,h){const m=new Op(o);return this._resetContextStyleTimingState(m),Aa(this,ud(f),m)}_resetContextStyleTimingState(f){f.currentQuerySelector="",f.collectedStyles=new Map,f.collectedStyles.set("",new Map),f.currentTime=0}visitTrigger(f,o){let h=o.queryCount=0,m=o.depCount=0;const T=[],k=[];return"@"==f.name.charAt(0)&&o.errors.push(function t0(){return new u.vHH(3006,!1)}()),f.definitions.forEach(J=>{if(this._resetContextStyleTimingState(o),0==J.type){const ue=J,ge=ue.name;ge.toString().split(/\s*,\s*/).forEach(De=>{ue.name=De,T.push(this.visitState(ue,o))}),ue.name=ge}else if(1==J.type){const ue=this.visitTransition(J,o);h+=ue.queryCount,m+=ue.depCount,k.push(ue)}else o.errors.push(function oa(){return new u.vHH(3007,!1)}())}),{type:7,name:f.name,states:T,transitions:k,queryCount:h,depCount:m,options:null}}visitState(f,o){const h=this.visitStyle(f.styles,o),m=f.options&&f.options.params||null;if(h.containsDynamicStyles){const T=new Set,k=m||{};h.styles.forEach(J=>{J instanceof Map&&J.forEach(ue=>{eh(ue).forEach(ge=>{k.hasOwnProperty(ge)||T.add(ge)})})}),T.size&&(nh(T.values()),o.errors.push(function Kl(l,f){return new u.vHH(3008,!1)}()))}return{type:0,name:f.name,style:h,options:m?{params:m}:null}}visitTransition(f,o){o.queryCount=0,o.depCount=0;const h=Aa(this,ud(f.animation),o);return{type:1,matchers:Gb(f.expr,o.errors),animation:h,queryCount:o.queryCount,depCount:o.depCount,options:Us(f.options)}}visitSequence(f,o){return{type:2,steps:f.steps.map(h=>Aa(this,h,o)),options:Us(f.options)}}visitGroup(f,o){const h=o.currentTime;let m=0;const T=f.steps.map(k=>{o.currentTime=h;const J=Aa(this,k,o);return m=Math.max(m,o.currentTime),J});return o.currentTime=m,{type:3,steps:T,options:Us(f.options)}}visitAnimate(f,o){const h=function p0(l,f){if(l.hasOwnProperty("duration"))return l;if("number"==typeof l)return Mp(Xd(l,f).duration,0,"");const o=l;if(o.split(/\s+/).some(T=>"{"==T.charAt(0)&&"{"==T.charAt(1))){const T=Mp(0,0,"");return T.dynamic=!0,T.strValue=o,T}const m=Xd(o,f);return Mp(m.duration,m.delay,m.easing)}(f.timings,o.errors);o.currentAnimateTimings=h;let m,T=f.styles?f.styles:uo({});if(5==T.type)m=this.visitKeyframes(T,o);else{let k=f.styles,J=!1;if(!k){J=!0;const ge={};h.easing&&(ge.easing=h.easing),k=uo(ge)}o.currentTime+=h.duration+h.delay;const ue=this.visitStyle(k,o);ue.isEmptyStep=J,m=ue}return o.currentAnimateTimings=null,{type:4,timings:h,style:m,options:null}}visitStyle(f,o){const h=this._makeStyleAst(f,o);return this._validateStyleAst(h,o),h}_makeStyleAst(f,o){const h=[],m=Array.isArray(f.styles)?f.styles:[f.styles];for(let J of m)"string"==typeof J?J===pr?h.push(J):o.errors.push(new u.vHH(3002,!1)):h.push(rf(J));let T=!1,k=null;return h.forEach(J=>{if(J instanceof Map&&(J.has("easing")&&(k=J.get("easing"),J.delete("easing")),!T))for(let ue of J.values())if(ue.toString().indexOf("{{")>=0){T=!0;break}}),{type:6,styles:h,easing:k,offset:f.offset,containsDynamicStyles:T,options:null}}_validateStyleAst(f,o){const h=o.currentAnimateTimings;let m=o.currentTime,T=o.currentTime;h&&T>0&&(T-=h.duration+h.delay),f.styles.forEach(k=>{"string"!=typeof k&&k.forEach((J,ue)=>{const ge=o.collectedStyles.get(o.currentQuerySelector),De=ge.get(ue);let Je=!0;De&&(T!=m&&T>=De.startTime&&m<=De.endTime&&(o.errors.push(function Lu(l,f,o,h,m){return new u.vHH(3010,!1)}()),Je=!1),T=De.startTime),Je&&ge.set(ue,{startTime:T,endTime:m}),o.options&&function Np(l,f,o){const h=f.params||{},m=eh(l);m.length&&m.forEach(T=>{h.hasOwnProperty(T)||o.push(function Rb(l){return new u.vHH(3001,!1)}())})}(J,o.options,o.errors)})})}visitKeyframes(f,o){const h={type:5,styles:[],options:null};if(!o.currentAnimateTimings)return o.errors.push(function Di(){return new u.vHH(3011,!1)}()),h;let T=0;const k=[];let J=!1,ue=!1,ge=0;const De=f.steps.map(Dn=>{const Mn=this._makeStyleAst(Dn,o);let vn=null!=Mn.offset?Mn.offset:function sm(l){if("string"==typeof l)return null;let f=null;if(Array.isArray(l))l.forEach(o=>{if(o instanceof Map&&o.has("offset")){const h=o;f=parseFloat(h.get("offset")),h.delete("offset")}});else if(l instanceof Map&&l.has("offset")){const o=l;f=parseFloat(o.get("offset")),o.delete("offset")}return f}(Mn.styles),Cn=0;return null!=vn&&(T++,Cn=Mn.offset=vn),ue=ue||Cn<0||Cn>1,J=J||Cn<ge,ge=Cn,k.push(Cn),Mn});ue&&o.errors.push(function Qg(){return new u.vHH(3012,!1)}()),J&&o.errors.push(function Ip(){return new u.vHH(3200,!1)}());const Je=f.steps.length;let ct=0;T>0&&T<Je?o.errors.push(function Tp(){return new u.vHH(3202,!1)}()):0==T&&(ct=1/(Je-1));const ht=Je-1,xt=o.currentTime,St=o.currentAnimateTimings,Gt=St.duration;return De.forEach((Dn,Mn)=>{const vn=ct>0?Mn==ht?1:ct*Mn:k[Mn],Cn=vn*Gt;o.currentTime=xt+St.delay+Cn,St.duration=Cn,this._validateStyleAst(Dn,o),Dn.offset=vn,h.styles.push(Dn)}),h}visitReference(f,o){return{type:8,animation:Aa(this,ud(f.animation),o),options:Us(f.options)}}visitAnimateChild(f,o){return o.depCount++,{type:9,options:Us(f.options)}}visitAnimateRef(f,o){return{type:10,animation:this.visitReference(f.animation,o),options:Us(f.options)}}visitQuery(f,o){const h=o.currentQuerySelector,m=f.options||{};o.queryCount++,o.currentQuery=f;const[T,k]=function rm(l){const f=!!l.split(/\s*,\s*/).find(o=>":self"==o);return f&&(l=l.replace(cy,"")),l=l.replace(/@\*/g,Sp).replace(/@\w+/g,o=>Sp+"-"+o.slice(1)).replace(/:animating/g,nf),[l,f]}(f.selector);o.currentQuerySelector=h.length?h+" "+T:T,pc(o.collectedStyles,o.currentQuerySelector,new Map);const J=Aa(this,ud(f.animation),o);return o.currentQuery=null,o.currentQuerySelector=h,{type:11,selector:T,limit:m.limit||0,optional:!!m.optional,includeSelf:k,animation:J,originalSelector:f.selector,options:Us(f.options)}}visitStagger(f,o){o.currentQuery||o.errors.push(function Q_(){return new u.vHH(3013,!1)}());const h="full"===f.timings?{duration:0,delay:0,easing:"full"}:Xd(f.timings,o.errors,!0);return{type:12,animation:Aa(this,ud(f.animation),o),timings:h,options:null}}}class Op{constructor(f){this.errors=f,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Us(l){return l?(l=Cl(l)).params&&(l.params=function im(l){return l?Cl(l):null}(l.params)):l={},l}function Mp(l,f,o){return{duration:l,delay:f,easing:o}}function ly(l,f,o,h,m,T,k=null,J=!1){return{type:1,element:l,keyframes:f,preStyleProps:o,postStyleProps:h,duration:m,delay:T,totalTime:m+T,easing:k,subTimeline:J}}class sh{constructor(){this._map=new Map}get(f){return this._map.get(f)||[]}append(f,o){let h=this._map.get(f);h||this._map.set(f,h=[]),h.push(...o)}has(f){return this._map.has(f)}clear(){this._map.clear()}}const uy=new RegExp(":enter","g"),df=new RegExp(":leave","g");function m0(l,f,o,h,m,T=new Map,k=new Map,J,ue,ge=[]){return(new _0).buildKeyframes(l,f,o,h,m,T,k,J,ue,ge)}class _0{buildKeyframes(f,o,h,m,T,k,J,ue,ge,De=[]){ge=ge||new sh;const Je=new xp(f,o,ge,m,T,De,[]);Je.options=ue;const ct=ue.delay?gc(ue.delay):0;Je.currentTimeline.delayNextStep(ct),Je.currentTimeline.setStyles([k],null,Je.errors,ue),Aa(this,h,Je);const ht=Je.timelines.filter(xt=>xt.containsAnimation());if(ht.length&&J.size){let xt;for(let St=ht.length-1;St>=0;St--){const Gt=ht[St];if(Gt.element===o){xt=Gt;break}}xt&&!xt.allowOnlyTimelineStyles()&&xt.setStyles([J],null,Je.errors,ue)}return ht.length?ht.map(xt=>xt.buildKeyframes()):[ly(o,[],[],[],0,ct,"",!1)]}visitTrigger(f,o){}visitState(f,o){}visitTransition(f,o){}visitAnimateChild(f,o){const h=o.subInstructions.get(o.element);if(h){const m=o.createSubContext(f.options),T=o.currentTimeline.currentTime,k=this._visitSubInstructions(h,m,m.options);T!=k&&o.transformIntoNewTimeline(k)}o.previousNode=f}visitAnimateRef(f,o){const h=o.createSubContext(f.options);h.transformIntoNewTimeline(),this._applyAnimationRefDelays([f.options,f.animation.options],o,h),this.visitReference(f.animation,h),o.transformIntoNewTimeline(h.currentTimeline.currentTime),o.previousNode=f}_applyAnimationRefDelays(f,o,h){for(const m of f){const T=m?.delay;if(T){const k="number"==typeof T?T:gc(th(T,m?.params??{},o.errors));h.delayNextStep(k)}}}_visitSubInstructions(f,o,h){let T=o.currentTimeline.currentTime;const k=null!=h.duration?gc(h.duration):null,J=null!=h.delay?gc(h.delay):null;return 0!==k&&f.forEach(ue=>{const ge=o.appendInstructionToTimeline(ue,k,J);T=Math.max(T,ge.duration+ge.delay)}),T}visitReference(f,o){o.updateOptions(f.options,!0),Aa(this,f.animation,o),o.previousNode=f}visitSequence(f,o){const h=o.subContextCount;let m=o;const T=f.options;if(T&&(T.params||T.delay)&&(m=o.createSubContext(T),m.transformIntoNewTimeline(),null!=T.delay)){6==m.previousNode.type&&(m.currentTimeline.snapshotCurrentStyles(),m.previousNode=Xl);const k=gc(T.delay);m.delayNextStep(k)}f.steps.length&&(f.steps.forEach(k=>Aa(this,k,m)),m.currentTimeline.applyStylesToKeyframe(),m.subContextCount>h&&m.transformIntoNewTimeline()),o.previousNode=f}visitGroup(f,o){const h=[];let m=o.currentTimeline.currentTime;const T=f.options&&f.options.delay?gc(f.options.delay):0;f.steps.forEach(k=>{const J=o.createSubContext(f.options);T&&J.delayNextStep(T),Aa(this,k,J),m=Math.max(m,J.currentTimeline.currentTime),h.push(J.currentTimeline)}),h.forEach(k=>o.currentTimeline.mergeTimelineCollectedStyles(k)),o.transformIntoNewTimeline(m),o.previousNode=f}_visitTiming(f,o){if(f.dynamic){const h=f.strValue;return Xd(o.params?th(h,o.params,o.errors):h,o.errors)}return{duration:f.duration,delay:f.delay,easing:f.easing}}visitAnimate(f,o){const h=o.currentAnimateTimings=this._visitTiming(f.timings,o),m=o.currentTimeline;h.delay&&(o.incrementTime(h.delay),m.snapshotCurrentStyles());const T=f.style;5==T.type?this.visitKeyframes(T,o):(o.incrementTime(h.duration),this.visitStyle(T,o),m.applyStylesToKeyframe()),o.currentAnimateTimings=null,o.previousNode=f}visitStyle(f,o){const h=o.currentTimeline,m=o.currentAnimateTimings;!m&&h.hasCurrentStyleProperties()&&h.forwardFrame();const T=m&&m.easing||f.easing;f.isEmptyStep?h.applyEmptyStep(T):h.setStyles(f.styles,T,o.errors,o.options),o.previousNode=f}visitKeyframes(f,o){const h=o.currentAnimateTimings,m=o.currentTimeline.duration,T=h.duration,J=o.createSubContext().currentTimeline;J.easing=h.easing,f.styles.forEach(ue=>{J.forwardTime((ue.offset||0)*T),J.setStyles(ue.styles,ue.easing,o.errors,o.options),J.applyStylesToKeyframe()}),o.currentTimeline.mergeTimelineCollectedStyles(J),o.transformIntoNewTimeline(m+T),o.previousNode=f}visitQuery(f,o){const h=o.currentTimeline.currentTime,m=f.options||{},T=m.delay?gc(m.delay):0;T&&(6===o.previousNode.type||0==h&&o.currentTimeline.hasCurrentStyleProperties())&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=Xl);let k=h;const J=o.invokeQuery(f.selector,f.originalSelector,f.limit,f.includeSelf,!!m.optional,o.errors);o.currentQueryTotal=J.length;let ue=null;J.forEach((ge,De)=>{o.currentQueryIndex=De;const Je=o.createSubContext(f.options,ge);T&&Je.delayNextStep(T),ge===o.element&&(ue=Je.currentTimeline),Aa(this,f.animation,Je),Je.currentTimeline.applyStylesToKeyframe(),k=Math.max(k,Je.currentTimeline.currentTime)}),o.currentQueryIndex=0,o.currentQueryTotal=0,o.transformIntoNewTimeline(k),ue&&(o.currentTimeline.mergeTimelineCollectedStyles(ue),o.currentTimeline.snapshotCurrentStyles()),o.previousNode=f}visitStagger(f,o){const h=o.parentContext,m=o.currentTimeline,T=f.timings,k=Math.abs(T.duration),J=k*(o.currentQueryTotal-1);let ue=k*o.currentQueryIndex;switch(T.duration<0?"reverse":T.easing){case"reverse":ue=J-ue;break;case"full":ue=h.currentStaggerTime}const De=o.currentTimeline;ue&&De.delayNextStep(ue);const Je=De.currentTime;Aa(this,f.animation,o),o.previousNode=f,h.currentStaggerTime=m.currentTime-Je+(m.startTime-h.currentTimeline.startTime)}}const Xl={};class xp{constructor(f,o,h,m,T,k,J,ue){this._driver=f,this.element=o,this.subInstructions=h,this._enterClassName=m,this._leaveClassName=T,this.errors=k,this.timelines=J,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Xl,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=ue||new xs(this._driver,o,0),J.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(f,o){if(!f)return;const h=f;let m=this.options;null!=h.duration&&(m.duration=gc(h.duration)),null!=h.delay&&(m.delay=gc(h.delay));const T=h.params;if(T){let k=m.params;k||(k=this.options.params={}),Object.keys(T).forEach(J=>{(!o||!k.hasOwnProperty(J))&&(k[J]=th(T[J],k,this.errors))})}}_copyOptions(){const f={};if(this.options){const o=this.options.params;if(o){const h=f.params={};Object.keys(o).forEach(m=>{h[m]=o[m]})}}return f}createSubContext(f=null,o,h){const m=o||this.element,T=new xp(this._driver,m,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(m,h||0));return T.previousNode=this.previousNode,T.currentAnimateTimings=this.currentAnimateTimings,T.options=this._copyOptions(),T.updateOptions(f),T.currentQueryIndex=this.currentQueryIndex,T.currentQueryTotal=this.currentQueryTotal,T.parentContext=this,this.subContextCount++,T}transformIntoNewTimeline(f){return this.previousNode=Xl,this.currentTimeline=this.currentTimeline.fork(this.element,f),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(f,o,h){const m={duration:o??f.duration,delay:this.currentTimeline.currentTime+(h??0)+f.delay,easing:""},T=new dd(this._driver,f.element,f.keyframes,f.preStyleProps,f.postStyleProps,m,f.stretchStartingKeyframe);return this.timelines.push(T),m}incrementTime(f){this.currentTimeline.forwardTime(this.currentTimeline.duration+f)}delayNextStep(f){f>0&&this.currentTimeline.delayNextStep(f)}invokeQuery(f,o,h,m,T,k){let J=[];if(m&&J.push(this.element),f.length>0){f=(f=f.replace(uy,"."+this._enterClassName)).replace(df,"."+this._leaveClassName);let ge=this._driver.query(this.element,f,1!=h);0!==h&&(ge=h<0?ge.slice(ge.length+h,ge.length):ge.slice(0,h)),J.push(...ge)}return!T&&0==J.length&&k.push(function El(l){return new u.vHH(3014,!1)}()),J}}class xs{constructor(f,o,h,m){this._driver=f,this.element=o,this.startTime=h,this._elementTimelineStylesLookup=m,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(o),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(o,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(f){const o=1===this._keyframes.size&&this._pendingStyles.size;this.duration||o?(this.forwardTime(this.currentTime+f),o&&this.snapshotCurrentStyles()):this.startTime+=f}fork(f,o){return this.applyStylesToKeyframe(),new xs(this._driver,f,o||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(f){this.applyStylesToKeyframe(),this.duration=f,this._loadKeyframe()}_updateStyle(f,o){this._localTimelineStyles.set(f,o),this._globalTimelineStyles.set(f,o),this._styleSummary.set(f,{time:this.currentTime,value:o})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(f){f&&this._previousKeyframe.set("easing",f);for(let[o,h]of this._globalTimelineStyles)this._backFill.set(o,h||pr),this._currentKeyframe.set(o,pr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(f,o,h,m){o&&this._previousKeyframe.set("easing",o);const T=m&&m.params||{},k=function dy(l,f){const o=new Map;let h;return l.forEach(m=>{if("*"===m){h=h||f.keys();for(let T of h)o.set(T,pr)}else aa(m,o)}),o}(f,this._globalTimelineStyles);for(let[J,ue]of k){const ge=th(ue,T,h);this._pendingStyles.set(J,ge),this._localTimelineStyles.has(J)||this._backFill.set(J,this._globalTimelineStyles.get(J)??pr),this._updateStyle(J,ge)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((f,o)=>{this._currentKeyframe.set(o,f)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((f,o)=>{this._currentKeyframe.has(o)||this._currentKeyframe.set(o,f)}))}snapshotCurrentStyles(){for(let[f,o]of this._localTimelineStyles)this._pendingStyles.set(f,o),this._updateStyle(f,o)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const f=[];for(let o in this._currentKeyframe)f.push(o);return f}mergeTimelineCollectedStyles(f){f._styleSummary.forEach((o,h)=>{const m=this._styleSummary.get(h);(!m||o.time>m.time)&&this._updateStyle(h,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();const f=new Set,o=new Set,h=1===this._keyframes.size&&0===this.duration;let m=[];this._keyframes.forEach((J,ue)=>{const ge=aa(J,new Map,this._backFill);ge.forEach((De,Je)=>{"!"===De?f.add(Je):De===pr&&o.add(Je)}),h||ge.set("offset",ue/this.duration),m.push(ge)});const T=f.size?nh(f.values()):[],k=o.size?nh(o.values()):[];if(h){const J=m[0],ue=new Map(J);J.set("offset",0),ue.set("offset",1),m=[J,ue]}return ly(this.element,m,T,k,this.duration,this.startTime,this.easing,!1)}}class dd extends xs{constructor(f,o,h,m,T,k,J=!1){super(f,o,k.delay),this.keyframes=h,this.preStyleProps=m,this.postStyleProps=T,this._stretchStartingKeyframe=J,this.timings={duration:k.duration,delay:k.delay,easing:k.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let f=this.keyframes,{delay:o,duration:h,easing:m}=this.timings;if(this._stretchStartingKeyframe&&o){const T=[],k=h+o,J=o/k,ue=aa(f[0]);ue.set("offset",0),T.push(ue);const ge=aa(f[0]);ge.set("offset",ca(J)),T.push(ge);const De=f.length-1;for(let Je=1;Je<=De;Je++){let ct=aa(f[Je]);const ht=ct.get("offset");ct.set("offset",ca((o+ht*h)/k)),T.push(ct)}h=k,o=0,m="",f=T}return ly(this.element,f,this.preStyleProps,this.postStyleProps,h,o,m,!0)}}function ca(l,f=3){const o=Math.pow(10,f-1);return Math.round(l*o)/o}class Nt{}const sl=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class hy extends Nt{normalizePropertyName(f,o){return tm(f)}normalizeStyleValue(f,o,h,m){let T="";const k=h.toString().trim();if(sl.has(o)&&0!==h&&"0"!==h)if("number"==typeof h)T="px";else{const J=h.match(/^[+-]?[\d\.]+([a-z]*)$/);J&&0==J[1].length&&m.push(function K_(l,f){return new u.vHH(3005,!1)}())}return k+T}}function an(l,f,o,h,m,T,k,J,ue,ge,De,Je,ct){return{type:0,element:l,triggerName:f,isRemovalTransition:m,fromState:o,fromStyles:T,toState:h,toStyles:k,timelines:J,queriedElements:ue,preStyleProps:ge,postStyleProps:De,totalTime:Je,errors:ct}}const wn={};class y0{constructor(f,o,h){this._triggerName=f,this.ast=o,this._stateStyles=h}match(f,o,h,m){return function rt(l,f,o,h,m){return l.some(T=>T(f,o,h,m))}(this.ast.matchers,f,o,h,m)}buildStyles(f,o,h){let m=this._stateStyles.get("*");return void 0!==f&&(m=this._stateStyles.get(f?.toString())||m),m?m.buildStyles(o,h):new Map}build(f,o,h,m,T,k,J,ue,ge,De){const Je=[],ct=this.ast.options&&this.ast.options.params||wn,xt=this.buildStyles(h,J&&J.params||wn,Je),St=ue&&ue.params||wn,Gt=this.buildStyles(m,St,Je),Dn=new Set,Mn=new Map,vn=new Map,Cn="void"===m,Vn={params:Ct(St,ct),delay:this.ast.options?.delay},In=De?[]:m0(f,o,this.ast.animation,T,k,xt,Gt,Vn,ge,Je);let or=0;if(In.forEach(Dr=>{or=Math.max(Dr.duration+Dr.delay,or)}),Je.length)return an(o,this._triggerName,h,m,Cn,xt,Gt,[],[],Mn,vn,or,Je);In.forEach(Dr=>{const vi=Dr.element,Yo=pc(Mn,vi,new Set);Dr.preStyleProps.forEach(zi=>Yo.add(zi));const Hr=pc(vn,vi,new Set);Dr.postStyleProps.forEach(zi=>Hr.add(zi)),vi!==o&&Dn.add(vi)});const Er=nh(Dn.values());return an(o,this._triggerName,h,m,Cn,xt,Gt,In,Er,Mn,vn,or)}}function Ct(l,f){const o=Cl(f);for(const h in l)l.hasOwnProperty(h)&&null!=l[h]&&(o[h]=l[h]);return o}class so{constructor(f,o,h){this.styles=f,this.defaultParams=o,this.normalizer=h}buildStyles(f,o){const h=new Map,m=Cl(this.defaultParams);return Object.keys(f).forEach(T=>{const k=f[T];null!==k&&(m[T]=k)}),this.styles.styles.forEach(T=>{"string"!=typeof T&&T.forEach((k,J)=>{k&&(k=th(k,m,o));const ue=this.normalizer.normalizePropertyName(J,o);k=this.normalizer.normalizeStyleValue(J,ue,k,o),h.set(J,k)})}),h}}class $b{constructor(f,o,h){this.name=f,this.ast=o,this._normalizer=h,this.transitionFactories=[],this.states=new Map,o.states.forEach(m=>{this.states.set(m.name,new so(m.style,m.options&&m.options.params||{},h))}),py(this.states,"true","1"),py(this.states,"false","0"),o.transitions.forEach(m=>{this.transitionFactories.push(new y0(f,m,this.states))}),this.fallbackTransition=function zb(l,f,o){return new y0(l,{type:1,animation:{type:2,steps:[],options:null},matchers:[(k,J)=>!0],options:null,queryCount:0,depCount:0},f)}(f,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(f,o,h,m){return this.transitionFactories.find(k=>k.match(f,o,h,m))||null}matchStyles(f,o,h){return this.fallbackTransition.buildStyles(f,o,h)}}function py(l,f,o){l.has(f)?l.has(o)||l.set(o,l.get(f)):l.has(o)&&l.set(f,l.get(o))}const v0=new sh;class Rp{constructor(f,o,h){this.bodyNode=f,this._driver=o,this._normalizer=h,this._animations=new Map,this._playersById=new Map,this.players=[]}register(f,o){const h=[],T=Sl(this._driver,o,h,[]);if(h.length)throw function r0(l){return new u.vHH(3503,!1)}();this._animations.set(f,T)}_buildPlayer(f,o,h){const m=f.element,T=Dl(this._normalizer,f.keyframes,o,h);return this._driver.animate(m,T,f.duration,f.delay,f.easing,[],!0)}create(f,o,h={}){const m=[],T=this._animations.get(f);let k;const J=new Map;if(T?(k=m0(this._driver,o,T,sy,Sa,new Map,new Map,h,v0,m),k.forEach(De=>{const Je=pc(J,De.element,new Map);De.postStyleProps.forEach(ct=>Je.set(ct,null))})):(m.push(function s0(){return new u.vHH(3300,!1)}()),k=[]),m.length)throw function Jg(l){return new u.vHH(3504,!1)}();J.forEach((De,Je)=>{De.forEach((ct,ht)=>{De.set(ht,this._driver.computeStyle(Je,ht,pr))})});const ge=fc(k.map(De=>{const Je=J.get(De.element);return this._buildPlayer(De,new Map,Je)}));return this._playersById.set(f,ge),ge.onDestroy(()=>this.destroy(f)),this.players.push(ge),ge}destroy(f){const o=this._getPlayer(f);o.destroy(),this._playersById.delete(f);const h=this.players.indexOf(o);h>=0&&this.players.splice(h,1)}_getPlayer(f){const o=this._playersById.get(f);if(!o)throw function Yd(l){return new u.vHH(3301,!1)}();return o}listen(f,o,h,m){const T=ty(o,"","","");return ld(this._getPlayer(f),h,T,m),()=>{}}command(f,o,h,m){if("register"==h)return void this.register(f,m[0]);if("create"==h)return void this.create(f,o,m[0]||{});const T=this._getPlayer(f);switch(h){case"play":T.play();break;case"pause":T.pause();break;case"reset":T.reset();break;case"restart":T.restart();break;case"finish":T.finish();break;case"init":T.init();break;case"setPosition":T.setPosition(parseFloat(m[0]));break;case"destroy":this.destroy(f)}}}const gy="ng-animate-queued",my="ng-animate-disabled",hf=[],_y={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},bs={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},fn="__ng_removed";class oh{get params(){return this.options.params}constructor(f,o=""){this.namespaceId=o;const h=f&&f.hasOwnProperty("value");if(this.value=function eu(l){return l??null}(h?f.value:f),h){const T=Cl(f);delete T.value,this.options=T}else this.options={};this.options.params||(this.options.params={})}absorbOptions(f){const o=f.params;if(o){const h=this.options.params;Object.keys(o).forEach(m=>{null==h[m]&&(h[m]=o[m])})}}}const Br="void",yy=new oh(Br);class Vs{constructor(f,o,h){this.id=f,this.hostElement=o,this._engine=h,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+f,Pc(o,this._hostClassName)}listen(f,o,h,m){if(!this._triggers.has(o))throw function o0(l,f){return new u.vHH(3302,!1)}();if(null==h||0==h.length)throw function Lb(l){return new u.vHH(3303,!1)}();if(!function cm(l){return"start"==l||"done"==l}(h))throw function J_(l,f){return new u.vHH(3400,!1)}();const T=pc(this._elementListeners,f,[]),k={name:o,phase:h,callback:m};T.push(k);const J=pc(this._engine.statesByElement,f,new Map);return J.has(o)||(Pc(f,tf),Pc(f,tf+"-"+o),J.set(o,yy)),()=>{this._engine.afterFlush(()=>{const ue=T.indexOf(k);ue>=0&&T.splice(ue,1),this._triggers.has(o)||J.delete(o)})}}register(f,o){return!this._triggers.has(f)&&(this._triggers.set(f,o),!0)}_getTrigger(f){const o=this._triggers.get(f);if(!o)throw function a0(l){return new u.vHH(3401,!1)}();return o}trigger(f,o,h,m=!0){const T=this._getTrigger(o),k=new hd(this.id,o,f);let J=this._engine.statesByElement.get(f);J||(Pc(f,tf),Pc(f,tf+"-"+o),this._engine.statesByElement.set(f,J=new Map));let ue=J.get(o);const ge=new oh(h,this.id);if(!(h&&h.hasOwnProperty("value"))&&ue&&ge.absorbOptions(ue.options),J.set(o,ge),ue||(ue=yy),ge.value!==Br&&ue.value===ge.value){if(!function ah(l,f){const o=Object.keys(l),h=Object.keys(f);if(o.length!=h.length)return!1;for(let m=0;m<o.length;m++){const T=o[m];if(!f.hasOwnProperty(T)||l[T]!==f[T])return!1}return!0}(ue.params,ge.params)){const St=[],Gt=T.matchStyles(ue.value,ue.params,St),Dn=T.matchStyles(ge.value,ge.params,St);St.length?this._engine.reportError(St):this._engine.afterFlush(()=>{rl(f,Gt),xc(f,Dn)})}return}const ct=pc(this._engine.playersByElement,f,[]);ct.forEach(St=>{St.namespaceId==this.id&&St.triggerName==o&&St.queued&&St.destroy()});let ht=T.matchTransition(ue.value,ge.value,f,ge.params),xt=!1;if(!ht){if(!m)return;ht=T.fallbackTransition,xt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:f,triggerName:o,transition:ht,fromState:ue,toState:ge,player:k,isFallbackTransition:xt}),xt||(Pc(f,gy),k.onStart(()=>{So(f,gy)})),k.onDone(()=>{let St=this.players.indexOf(k);St>=0&&this.players.splice(St,1);const Gt=this._engine.playersByElement.get(f);if(Gt){let Dn=Gt.indexOf(k);Dn>=0&&Gt.splice(Dn,1)}}),this.players.push(k),ct.push(k),k}deregister(f){this._triggers.delete(f),this._engine.statesByElement.forEach(o=>o.delete(f)),this._elementListeners.forEach((o,h)=>{this._elementListeners.set(h,o.filter(m=>m.name!=f))})}clearElementCache(f){this._engine.statesByElement.delete(f),this._elementListeners.delete(f);const o=this._engine.playersByElement.get(f);o&&(o.forEach(h=>h.destroy()),this._engine.playersByElement.delete(f))}_signalRemovalForInnerTriggers(f,o){const h=this._engine.driver.query(f,Sp,!0);h.forEach(m=>{if(m[fn])return;const T=this._engine.fetchNamespacesByElement(m);T.size?T.forEach(k=>k.triggerLeaveAnimation(m,o,!1,!0)):this.clearElementCache(m)}),this._engine.afterFlushAnimationsDone(()=>h.forEach(m=>this.clearElementCache(m)))}triggerLeaveAnimation(f,o,h,m){const T=this._engine.statesByElement.get(f),k=new Map;if(T){const J=[];if(T.forEach((ue,ge)=>{if(k.set(ge,ue.value),this._triggers.has(ge)){const De=this.trigger(f,ge,Br,m);De&&J.push(De)}}),J.length)return this._engine.markElementAsRemoved(this.id,f,!0,o,k),h&&fc(J).onDone(()=>this._engine.processLeaveNode(f)),!0}return!1}prepareLeaveAnimationListeners(f){const o=this._elementListeners.get(f),h=this._engine.statesByElement.get(f);if(o&&h){const m=new Set;o.forEach(T=>{const k=T.name;if(m.has(k))return;m.add(k);const ue=this._triggers.get(k).fallbackTransition,ge=h.get(k)||yy,De=new oh(Br),Je=new hd(this.id,k,f);this._engine.totalQueuedPlayers++,this._queue.push({element:f,triggerName:k,transition:ue,fromState:ge,toState:De,player:Je,isFallbackTransition:!0})})}}removeNode(f,o){const h=this._engine;if(f.childElementCount&&this._signalRemovalForInnerTriggers(f,o),this.triggerLeaveAnimation(f,o,!0))return;let m=!1;if(h.totalAnimations){const T=h.players.length?h.playersByQueriedElement.get(f):[];if(T&&T.length)m=!0;else{let k=f;for(;k=k.parentNode;)if(h.statesByElement.get(k)){m=!0;break}}}if(this.prepareLeaveAnimationListeners(f),m)h.markElementAsRemoved(this.id,f,!1,o);else{const T=f[fn];(!T||T===_y)&&(h.afterFlush(()=>this.clearElementCache(f)),h.destroyInnerAnimations(f),h._onRemovalComplete(f,o))}}insertNode(f,o){Pc(f,this._hostClassName)}drainQueuedTransitions(f){const o=[];return this._queue.forEach(h=>{const m=h.player;if(m.destroyed)return;const T=h.element,k=this._elementListeners.get(T);k&&k.forEach(J=>{if(J.name==h.triggerName){const ue=ty(T,h.triggerName,h.fromState.value,h.toState.value);ue._data=f,ld(h.player,J.phase,ue,J.callback)}}),m.markedForDestroy?this._engine.afterFlush(()=>{m.destroy()}):o.push(h)}),this._queue=[],o.sort((h,m)=>{const T=h.transition.ast.depCount,k=m.transition.ast.depCount;return 0==T||0==k?T-k:this._engine.driver.containsElement(h.element,m.element)?1:-1})}destroy(f){this.players.forEach(o=>o.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,f)}}class Jt{_onRemovalComplete(f,o){this.onRemovalComplete(f,o)}constructor(f,o,h){this.bodyNode=f,this.driver=o,this._normalizer=h,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(m,T)=>{}}get queuedPlayers(){const f=[];return this._namespaceList.forEach(o=>{o.players.forEach(h=>{h.queued&&f.push(h)})}),f}createNamespace(f,o){const h=new Vs(f,o,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,o)?this._balanceNamespaceList(h,o):(this.newHostElements.set(o,h),this.collectEnterElement(o)),this._namespaceLookup[f]=h}_balanceNamespaceList(f,o){const h=this._namespaceList,m=this.namespacesByHostElement;if(h.length-1>=0){let k=!1,J=this.driver.getParentElement(o);for(;J;){const ue=m.get(J);if(ue){const ge=h.indexOf(ue);h.splice(ge+1,0,f),k=!0;break}J=this.driver.getParentElement(J)}k||h.unshift(f)}else h.push(f);return m.set(o,f),f}register(f,o){let h=this._namespaceLookup[f];return h||(h=this.createNamespace(f,o)),h}registerTrigger(f,o,h){let m=this._namespaceLookup[f];m&&m.register(o,h)&&this.totalAnimations++}destroy(f,o){f&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const h=this._fetchNamespace(f);this.namespacesByHostElement.delete(h.hostElement);const m=this._namespaceList.indexOf(h);m>=0&&this._namespaceList.splice(m,1),h.destroy(o),delete this._namespaceLookup[f]}))}_fetchNamespace(f){return this._namespaceLookup[f]}fetchNamespacesByElement(f){const o=new Set,h=this.statesByElement.get(f);if(h)for(let m of h.values())if(m.namespaceId){const T=this._fetchNamespace(m.namespaceId);T&&o.add(T)}return o}trigger(f,o,h,m){if(am(o)){const T=this._fetchNamespace(f);if(T)return T.trigger(o,h,m),!0}return!1}insertNode(f,o,h,m){if(!am(o))return;const T=o[fn];if(T&&T.setForRemoval){T.setForRemoval=!1,T.setForMove=!0;const k=this.collectedLeaveElements.indexOf(o);k>=0&&this.collectedLeaveElements.splice(k,1)}if(f){const k=this._fetchNamespace(f);k&&k.insertNode(o,h)}m&&this.collectEnterElement(o)}collectEnterElement(f){this.collectedEnterElements.push(f)}markElementAsDisabled(f,o){o?this.disabledNodes.has(f)||(this.disabledNodes.add(f),Pc(f,my)):this.disabledNodes.has(f)&&(this.disabledNodes.delete(f),So(f,my))}removeNode(f,o,h){if(am(o)){const m=f?this._fetchNamespace(f):null;m?m.removeNode(o,h):this.markElementAsRemoved(f,o,!1,h);const T=this.namespacesByHostElement.get(o);T&&T.id!==f&&T.removeNode(o,h)}else this._onRemovalComplete(o,h)}markElementAsRemoved(f,o,h,m,T){this.collectedLeaveElements.push(o),o[fn]={namespaceId:f,setForRemoval:m,hasAnimation:h,removedBeforeQueried:!1,previousTriggersValues:T}}listen(f,o,h,m,T){return am(o)?this._fetchNamespace(f).listen(o,h,m,T):()=>{}}_buildInstruction(f,o,h,m,T){return f.transition.build(this.driver,f.element,f.fromState.value,f.toState.value,h,m,f.fromState.options,f.toState.options,o,T)}destroyInnerAnimations(f){let o=this.driver.query(f,Sp,!0);o.forEach(h=>this.destroyActiveAnimationsForElement(h)),0!=this.playersByQueriedElement.size&&(o=this.driver.query(f,nf,!0),o.forEach(h=>this.finishActiveQueriedAnimationOnElement(h)))}destroyActiveAnimationsForElement(f){const o=this.playersByElement.get(f);o&&o.forEach(h=>{h.queued?h.markedForDestroy=!0:h.destroy()})}finishActiveQueriedAnimationOnElement(f){const o=this.playersByQueriedElement.get(f);o&&o.forEach(h=>h.finish())}whenRenderingDone(){return new Promise(f=>{if(this.players.length)return fc(this.players).onDone(()=>f());f()})}processLeaveNode(f){const o=f[fn];if(o&&o.setForRemoval){if(f[fn]=_y,o.namespaceId){this.destroyInnerAnimations(f);const h=this._fetchNamespace(o.namespaceId);h&&h.clearElementCache(f)}this._onRemovalComplete(f,o.setForRemoval)}f.classList?.contains(my)&&this.markElementAsDisabled(f,!1),this.driver.query(f,".ng-animate-disabled",!0).forEach(h=>{this.markElementAsDisabled(h,!1)})}flush(f=-1){let o=[];if(this.newHostElements.size&&(this.newHostElements.forEach((h,m)=>this._balanceNamespaceList(h,m)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let h=0;h<this.collectedEnterElements.length;h++)Pc(this.collectedEnterElements[h],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const h=[];try{o=this._flushAnimations(h,f)}finally{for(let m=0;m<h.length;m++)h[m]()}}else for(let h=0;h<this.collectedLeaveElements.length;h++)this.processLeaveNode(this.collectedLeaveElements[h]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(h=>h()),this._flushFns=[],this._whenQuietFns.length){const h=this._whenQuietFns;this._whenQuietFns=[],o.length?fc(o).onDone(()=>{h.forEach(m=>m())}):h.forEach(m=>m())}}reportError(f){throw function c0(l){return new u.vHH(3402,!1)}()}_flushAnimations(f,o){const h=new sh,m=[],T=new Map,k=[],J=new Map,ue=new Map,ge=new Map,De=new Set;this.disabledNodes.forEach($t=>{De.add($t);const gn=this.driver.query($t,".ng-animate-queued",!0);for(let kn=0;kn<gn.length;kn++)De.add(gn[kn])});const Je=this.bodyNode,ct=Array.from(this.statesByElement.keys()),ht=by(ct,this.collectedEnterElements),xt=new Map;let St=0;ht.forEach(($t,gn)=>{const kn=sy+St++;xt.set(gn,kn),$t.forEach(dr=>Pc(dr,kn))});const Gt=[],Dn=new Set,Mn=new Set;for(let $t=0;$t<this.collectedLeaveElements.length;$t++){const gn=this.collectedLeaveElements[$t],kn=gn[fn];kn&&kn.setForRemoval&&(Gt.push(gn),Dn.add(gn),kn.hasAnimation?this.driver.query(gn,".ng-star-inserted",!0).forEach(dr=>Dn.add(dr)):Mn.add(gn))}const vn=new Map,Cn=by(ct,Array.from(Dn));Cn.forEach(($t,gn)=>{const kn=Sa+St++;vn.set(gn,kn),$t.forEach(dr=>Pc(dr,kn))}),f.push(()=>{ht.forEach(($t,gn)=>{const kn=xt.get(gn);$t.forEach(dr=>So(dr,kn))}),Cn.forEach(($t,gn)=>{const kn=vn.get(gn);$t.forEach(dr=>So(dr,kn))}),Gt.forEach($t=>{this.processLeaveNode($t)})});const Vn=[],In=[];for(let $t=this._namespaceList.length-1;$t>=0;$t--)this._namespaceList[$t].drainQueuedTransitions(o).forEach(kn=>{const dr=kn.player,ds=kn.element;if(Vn.push(dr),this.collectedEnterElements.length){const Ri=ds[fn];if(Ri&&Ri.setForMove){if(Ri.previousTriggersValues&&Ri.previousTriggersValues.has(kn.triggerName)){const Oa=Ri.previousTriggersValues.get(kn.triggerName),Rs=this.statesByElement.get(kn.element);if(Rs&&Rs.has(kn.triggerName)){const nu=Rs.get(kn.triggerName);nu.value=Oa,Rs.set(kn.triggerName,nu)}}return void dr.destroy()}}const ao=!Je||!this.driver.containsElement(Je,ds),Wi=vn.get(ds),la=xt.get(ds),Ur=this._buildInstruction(kn,h,la,Wi,ao);if(Ur.errors&&Ur.errors.length)return void In.push(Ur);if(ao)return dr.onStart(()=>rl(ds,Ur.fromStyles)),dr.onDestroy(()=>xc(ds,Ur.toStyles)),void m.push(dr);if(kn.isFallbackTransition)return dr.onStart(()=>rl(ds,Ur.fromStyles)),dr.onDestroy(()=>xc(ds,Ur.toStyles)),void m.push(dr);const Gs=[];Ur.timelines.forEach(Ri=>{Ri.stretchStartingKeyframe=!0,this.disabledNodes.has(Ri.element)||Gs.push(Ri)}),Ur.timelines=Gs,h.append(ds,Ur.timelines),k.push({instruction:Ur,player:dr,element:ds}),Ur.queriedElements.forEach(Ri=>pc(J,Ri,[]).push(dr)),Ur.preStyleProps.forEach((Ri,Oa)=>{if(Ri.size){let Rs=ue.get(Oa);Rs||ue.set(Oa,Rs=new Set),Ri.forEach((nu,ol)=>Rs.add(ol))}}),Ur.postStyleProps.forEach((Ri,Oa)=>{let Rs=ge.get(Oa);Rs||ge.set(Oa,Rs=new Set),Ri.forEach((nu,ol)=>Rs.add(ol))})});if(In.length){const $t=[];In.forEach(gn=>{$t.push(function X_(l,f){return new u.vHH(3505,!1)}())}),Vn.forEach(gn=>gn.destroy()),this.reportError($t)}const or=new Map,Er=new Map;k.forEach($t=>{const gn=$t.element;h.has(gn)&&(Er.set(gn,gn),this._beforeAnimationBuild($t.player.namespaceId,$t.instruction,or))}),m.forEach($t=>{const gn=$t.element;this._getPreviousPlayers(gn,!1,$t.namespaceId,$t.triggerName,null).forEach(dr=>{pc(or,gn,[]).push(dr),dr.destroy()})});const Dr=Gt.filter($t=>Pp($t,ue,ge)),vi=new Map;ff(vi,this.driver,Mn,ge,pr).forEach($t=>{Pp($t,ue,ge)&&Dr.push($t)});const Hr=new Map;ht.forEach(($t,gn)=>{ff(Hr,this.driver,new Set($t),ue,"!")}),Dr.forEach($t=>{const gn=vi.get($t),kn=Hr.get($t);vi.set($t,new Map([...gn?.entries()??[],...kn?.entries()??[]]))});const zi=[],oo=[],bi={};k.forEach($t=>{const{element:gn,player:kn,instruction:dr}=$t;if(h.has(gn)){if(De.has(gn))return kn.onDestroy(()=>xc(gn,dr.toStyles)),kn.disabled=!0,kn.overrideTotalTime(dr.totalTime),void m.push(kn);let ds=bi;if(Er.size>1){let Wi=gn;const la=[];for(;Wi=Wi.parentNode;){const Ur=Er.get(Wi);if(Ur){ds=Ur;break}la.push(Wi)}la.forEach(Ur=>Er.set(Ur,ds))}const ao=this._buildAnimation(kn.namespaceId,dr,or,T,Hr,vi);if(kn.setRealPlayer(ao),ds===bi)zi.push(kn);else{const Wi=this.playersByElement.get(ds);Wi&&Wi.length&&(kn.parentPlayer=fc(Wi)),m.push(kn)}}else rl(gn,dr.fromStyles),kn.onDestroy(()=>xc(gn,dr.toStyles)),oo.push(kn),De.has(gn)&&m.push(kn)}),oo.forEach($t=>{const gn=T.get($t.element);if(gn&&gn.length){const kn=fc(gn);$t.setRealPlayer(kn)}}),m.forEach($t=>{$t.parentPlayer?$t.syncPlayerEvents($t.parentPlayer):$t.destroy()});for(let $t=0;$t<Gt.length;$t++){const gn=Gt[$t],kn=gn[fn];if(So(gn,Sa),kn&&kn.hasAnimation)continue;let dr=[];if(J.size){let ao=J.get(gn);ao&&ao.length&&dr.push(...ao);let Wi=this.driver.query(gn,nf,!0);for(let la=0;la<Wi.length;la++){let Ur=J.get(Wi[la]);Ur&&Ur.length&&dr.push(...Ur)}}const ds=dr.filter(ao=>!ao.destroyed);ds.length?lm(this,gn,ds):this.processLeaveNode(gn)}return Gt.length=0,zi.forEach($t=>{this.players.push($t),$t.onDone(()=>{$t.destroy();const gn=this.players.indexOf($t);this.players.splice(gn,1)}),$t.play()}),zi}afterFlush(f){this._flushFns.push(f)}afterFlushAnimationsDone(f){this._whenQuietFns.push(f)}_getPreviousPlayers(f,o,h,m,T){let k=[];if(o){const J=this.playersByQueriedElement.get(f);J&&(k=J)}else{const J=this.playersByElement.get(f);if(J){const ue=!T||T==Br;J.forEach(ge=>{ge.queued||!ue&&ge.triggerName!=m||k.push(ge)})}}return(h||m)&&(k=k.filter(J=>!(h&&h!=J.namespaceId||m&&m!=J.triggerName))),k}_beforeAnimationBuild(f,o,h){const T=o.element,k=o.isRemovalTransition?void 0:f,J=o.isRemovalTransition?void 0:o.triggerName;for(const ue of o.timelines){const ge=ue.element,De=ge!==T,Je=pc(h,ge,[]);this._getPreviousPlayers(ge,De,k,J,o.toState).forEach(ht=>{const xt=ht.getRealPlayer();xt.beforeDestroy&&xt.beforeDestroy(),ht.destroy(),Je.push(ht)})}rl(T,o.fromStyles)}_buildAnimation(f,o,h,m,T,k){const J=o.triggerName,ue=o.element,ge=[],De=new Set,Je=new Set,ct=o.timelines.map(xt=>{const St=xt.element;De.add(St);const Gt=St[fn];if(Gt&&Gt.removedBeforeQueried)return new hs(xt.duration,xt.delay);const Dn=St!==ue,Mn=function wy(l){const f=[];return T0(l,f),f}((h.get(St)||hf).map(or=>or.getRealPlayer())).filter(or=>!!or.element&&or.element===St),vn=T.get(St),Cn=k.get(St),Vn=Dl(this._normalizer,xt.keyframes,vn,Cn),In=this._buildPlayer(xt,Vn,Mn);if(xt.subTimeline&&m&&Je.add(St),Dn){const or=new hd(f,J,St);or.setRealPlayer(In),ge.push(or)}return In});ge.forEach(xt=>{pc(this.playersByQueriedElement,xt.element,[]).push(xt),xt.onDone(()=>function vy(l,f,o){let h=l.get(f);if(h){if(h.length){const m=h.indexOf(o);h.splice(m,1)}0==h.length&&l.delete(f)}return h}(this.playersByQueriedElement,xt.element,xt))}),De.forEach(xt=>Pc(xt,oy));const ht=fc(ct);return ht.onDestroy(()=>{De.forEach(xt=>So(xt,oy)),xc(ue,o.toStyles)}),Je.forEach(xt=>{pc(m,xt,[]).push(ht)}),ht}_buildPlayer(f,o,h){return o.length>0?this.driver.animate(f.element,o,f.duration,f.delay,f.easing,h):new hs(f.duration,f.delay)}}class hd{constructor(f,o,h){this.namespaceId=f,this.triggerName=o,this.element=h,this._player=new hs,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(f){this._containsRealPlayer||(this._player=f,this._queuedCallbacks.forEach((o,h)=>{o.forEach(m=>ld(f,h,void 0,m))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(f.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(f){this.totalTime=f}syncPlayerEvents(f){const o=this._player;o.triggerCallback&&f.onStart(()=>o.triggerCallback("start")),f.onDone(()=>this.finish()),f.onDestroy(()=>this.destroy())}_queueEvent(f,o){pc(this._queuedCallbacks,f,[]).push(o)}onDone(f){this.queued&&this._queueEvent("done",f),this._player.onDone(f)}onStart(f){this.queued&&this._queueEvent("start",f),this._player.onStart(f)}onDestroy(f){this.queued&&this._queueEvent("destroy",f),this._player.onDestroy(f)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(f){this.queued||this._player.setPosition(f)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(f){const o=this._player;o.triggerCallback&&o.triggerCallback(f)}}function am(l){return l&&1===l.nodeType}function I0(l,f){const o=l.style.display;return l.style.display=f??"none",o}function ff(l,f,o,h,m){const T=[];o.forEach(ue=>T.push(I0(ue)));const k=[];h.forEach((ue,ge)=>{const De=new Map;ue.forEach(Je=>{const ct=f.computeStyle(ge,Je,m);De.set(Je,ct),(!ct||0==ct.length)&&(ge[fn]=bs,k.push(ge))}),l.set(ge,De)});let J=0;return o.forEach(ue=>I0(ue,T[J++])),k}function by(l,f){const o=new Map;if(l.forEach(J=>o.set(J,[])),0==f.length)return o;const m=new Set(f),T=new Map;function k(J){if(!J)return 1;let ue=T.get(J);if(ue)return ue;const ge=J.parentNode;return ue=o.has(ge)?ge:m.has(ge)?1:k(ge),T.set(J,ue),ue}return f.forEach(J=>{const ue=k(J);1!==ue&&o.get(ue).push(J)}),o}function Pc(l,f){l.classList?.add(f)}function So(l,f){l.classList?.remove(f)}function lm(l,f,o){fc(o).onDone(()=>l.processLeaveNode(f))}function T0(l,f){for(let o=0;o<l.length;o++){const h=l[o];h instanceof fo?T0(h.players,f):f.push(h)}}function Pp(l,f,o){const h=o.get(l);if(!h)return!1;let m=f.get(l);return m?h.forEach(T=>m.add(T)):f.set(l,h),o.delete(l),!0}class We{constructor(f,o,h){this.bodyNode=f,this._driver=o,this._normalizer=h,this._triggerCache={},this.onRemovalComplete=(m,T)=>{},this._transitionEngine=new Jt(f,o,h),this._timelineEngine=new Rp(f,o,h),this._transitionEngine.onRemovalComplete=(m,T)=>this.onRemovalComplete(m,T)}registerTrigger(f,o,h,m,T){const k=f+"-"+m;let J=this._triggerCache[k];if(!J){const ue=[],De=Sl(this._driver,T,ue,[]);if(ue.length)throw function Ep(l,f){return new u.vHH(3404,!1)}();J=function fy(l,f,o){return new $b(l,f,o)}(m,De,this._normalizer),this._triggerCache[k]=J}this._transitionEngine.registerTrigger(o,m,J)}register(f,o){this._transitionEngine.register(f,o)}destroy(f,o){this._transitionEngine.destroy(f,o)}onInsert(f,o,h,m){this._transitionEngine.insertNode(f,o,h,m)}onRemove(f,o,h){this._transitionEngine.removeNode(f,o,h)}disableAnimations(f,o){this._transitionEngine.markElementAsDisabled(f,o)}process(f,o,h,m){if("@"==h.charAt(0)){const[T,k]=Xh(h);this._timelineEngine.command(T,o,k,m)}else this._transitionEngine.trigger(f,o,h,m)}listen(f,o,h,m,T){if("@"==h.charAt(0)){const[k,J]=Xh(h);return this._timelineEngine.listen(k,o,J,T)}return this._transitionEngine.listen(f,o,h,m,T)}flush(f=-1){this._transitionEngine.flush(f)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(f){this._transitionEngine.afterFlushAnimationsDone(f)}}let yc=(()=>{class l{static#e=this.initialStylesByElement=new WeakMap;constructor(o,h,m){this._element=o,this._startStyles=h,this._endStyles=m,this._state=0;let T=l.initialStylesByElement.get(o);T||l.initialStylesByElement.set(o,T=new Map),this._initialStyles=T}start(){this._state<1&&(this._startStyles&&xc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(xc(this._element,this._initialStyles),this._endStyles&&(xc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(l.initialStylesByElement.delete(this._element),this._startStyles&&(rl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(rl(this._element,this._endStyles),this._endStyles=null),xc(this._element,this._initialStyles),this._state=3)}}return l})();function Ty(l){let f=null;return l.forEach((o,h)=>{(function kp(l){return"display"===l||"position"===l})(h)&&(f=f||new Map,f.set(h,o))}),f}class Al{constructor(f,o,h,m){this.element=f,this.keyframes=o,this.options=h,this._specialStyles=m,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=h.duration,this._delay=h.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(f=>f()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const f=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,f,this.options),this._finalKeyframe=f.length?f[f.length-1]:new Map;const o=()=>this._onFinish();this.domPlayer.addEventListener("finish",o),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",o)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(f){const o=[];return f.forEach(h=>{o.push(Object.fromEntries(h))}),o}_triggerWebAnimation(f,o,h){return f.animate(this._convertKeyframesToObject(o),h)}onStart(f){this._originalOnStartFns.push(f),this._onStartFns.push(f)}onDone(f){this._originalOnDoneFns.push(f),this._onDoneFns.push(f)}onDestroy(f){this._onDestroyFns.push(f)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(f=>f()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(f=>f()),this._onDestroyFns=[])}setPosition(f){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=f*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const f=new Map;this.hasStarted()&&this._finalKeyframe.forEach((h,m)=>{"offset"!==m&&f.set(m,this._finished?h:mc(this.element,m))}),this.currentSnapshot=f}triggerCallback(f){const o="start"===f?this._onStartFns:this._onDoneFns;o.forEach(h=>h()),o.length=0}}class qb{validateStyleProperty(f){return!0}validateAnimatableStyleProperty(f){return!0}matchesElement(f,o){return!1}containsElement(f,o){return ny(f,o)}getParentElement(f){return Ql(f)}query(f,o,h){return ry(f,o,h)}computeStyle(f,o,h){return window.getComputedStyle(f)[o]}animate(f,o,h,m,T,k=[]){const ue={duration:h,delay:m,fill:0==m?"both":"forwards"};T&&(ue.easing=T);const ge=new Map,De=k.filter(ht=>ht instanceof Al);(function ay(l,f){return 0===l||0===f})(h,m)&&De.forEach(ht=>{ht.currentSnapshot.forEach((xt,St)=>ge.set(St,xt))});let Je=function Ub(l){return l.length?l[0]instanceof Map?l:l.map(f=>rf(f)):[]}(o).map(ht=>aa(ht));Je=function d0(l,f,o){if(o.size&&f.length){let h=f[0],m=[];if(o.forEach((T,k)=>{h.has(k)||m.push(k),h.set(k,T)}),m.length)for(let T=1;T<f.length;T++){let k=f[T];m.forEach(J=>k.set(J,mc(l,J)))}}return f}(f,Je,ge);const ct=function Iy(l,f){let o=null,h=null;return Array.isArray(f)&&f.length?(o=Ty(f[0]),f.length>1&&(h=Ty(f[f.length-1]))):f instanceof Map&&(o=Ty(f)),o||h?new yc(l,o,h):null}(f,Je);return new Al(f,Je,ue,ct)}}let Na=(()=>{class l extends Wt{constructor(o,h){super(),this._nextAnimationId=0,this._renderer=o.createRenderer(h.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(o){const h=this._nextAnimationId.toString();this._nextAnimationId++;const m=Array.isArray(o)?ns(o):o;return fd(this._renderer,null,h,"register",[m]),new pf(h,this._renderer)}static#e=this.\u0275fac=function(h){return new(h||l)(u.LFG(u.FYo),u.LFG(le.K0))};static#t=this.\u0275prov=u.Yz7({token:l,factory:l.\u0275fac})}return l})();class pf extends Ln{constructor(f,o){super(),this._id=f,this._renderer=o}create(f,o){return new Ko(this._id,f,o||{},this._renderer)}}class Ko{constructor(f,o,h,m){this.id=f,this.element=o,this._renderer=m,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",h)}_listen(f,o){return this._renderer.listen(this.element,`@@${this.id}:${f}`,o)}_command(f,...o){return fd(this._renderer,this.element,this.id,f,o)}onDone(f){this._listen("done",f)}onStart(f){this._listen("start",f)}onDestroy(f){this._listen("destroy",f)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(f){this._command("setPosition",f)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function fd(l,f,o,h,m){return l.setProperty(f,`@@${o}:${h}`,m)}const Xi="@.disabled";let lh=(()=>{class l{constructor(o,h,m){this.delegate=o,this.engine=h,this._zone=m,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,h.onRemovalComplete=(T,k)=>{const J=k?.parentNode(T);J&&k.removeChild(J,T)}}createRenderer(o,h){const T=this.delegate.createRenderer(o,h);if(!(o&&h&&h.data&&h.data.animation)){let De=this._rendererCache.get(T);return De||(De=new Nl("",T,this.engine,()=>this._rendererCache.delete(T)),this._rendererCache.set(T,De)),De}const k=h.id,J=h.id+"-"+this._currentId;this._currentId++,this.engine.register(J,o);const ue=De=>{Array.isArray(De)?De.forEach(ue):this.engine.registerTrigger(k,J,o,De.name,De)};return h.data.animation.forEach(ue),new uh(this,J,T,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(o,h,m){o>=0&&o<this._microtaskId?this._zone.run(()=>h(m)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(T=>{const[k,J]=T;k(J)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([h,m]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(h){return new(h||l)(u.LFG(u.FYo),u.LFG(We),u.LFG(u.R0b))};static#t=this.\u0275prov=u.Yz7({token:l,factory:l.\u0275fac})}return l})();class Nl{constructor(f,o,h,m){this.namespaceId=f,this.delegate=o,this.engine=h,this._onDestroy=m}get data(){return this.delegate.data}destroyNode(f){this.delegate.destroyNode?.(f)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(f,o){return this.delegate.createElement(f,o)}createComment(f){return this.delegate.createComment(f)}createText(f){return this.delegate.createText(f)}appendChild(f,o){this.delegate.appendChild(f,o),this.engine.onInsert(this.namespaceId,o,f,!1)}insertBefore(f,o,h,m=!0){this.delegate.insertBefore(f,o,h),this.engine.onInsert(this.namespaceId,o,f,m)}removeChild(f,o,h){this.engine.onRemove(this.namespaceId,o,this.delegate)}selectRootElement(f,o){return this.delegate.selectRootElement(f,o)}parentNode(f){return this.delegate.parentNode(f)}nextSibling(f){return this.delegate.nextSibling(f)}setAttribute(f,o,h,m){this.delegate.setAttribute(f,o,h,m)}removeAttribute(f,o,h){this.delegate.removeAttribute(f,o,h)}addClass(f,o){this.delegate.addClass(f,o)}removeClass(f,o){this.delegate.removeClass(f,o)}setStyle(f,o,h,m){this.delegate.setStyle(f,o,h,m)}removeStyle(f,o,h){this.delegate.removeStyle(f,o,h)}setProperty(f,o,h){"@"==o.charAt(0)&&o==Xi?this.disableAnimations(f,!!h):this.delegate.setProperty(f,o,h)}setValue(f,o){this.delegate.setValue(f,o)}listen(f,o,h){return this.delegate.listen(f,o,h)}disableAnimations(f,o){this.engine.disableAnimations(f,o)}}class uh extends Nl{constructor(f,o,h,m,T){super(o,h,m,T),this.factory=f,this.namespaceId=o}setProperty(f,o,h){"@"==o.charAt(0)?"."==o.charAt(1)&&o==Xi?this.disableAnimations(f,h=void 0===h||!!h):this.engine.process(this.namespaceId,f,o.slice(1),h):this.delegate.setProperty(f,o,h)}listen(f,o,h){if("@"==o.charAt(0)){const m=function Hs(l){switch(l){case"body":return document.body;case"document":return document;case"window":return window;default:return l}}(f);let T=o.slice(1),k="";return"@"!=T.charAt(0)&&([T,k]=function gf(l){const f=l.indexOf(".");return[l.substring(0,f),l.slice(f+1)]}(T)),this.engine.listen(this.namespaceId,m,T,k,J=>{this.factory.scheduleListenerCallback(J._data||-1,h,J)})}return this.delegate.listen(f,o,h)}}const tu=[{provide:Wt,useClass:Na},{provide:Nt,useFactory:function Ka(){return new hy}},{provide:We,useClass:(()=>{class l extends We{constructor(o,h,m,T){super(o.body,h,m)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(h){return new(h||l)(u.LFG(le.K0),u.LFG(iy),u.LFG(Nt),u.LFG(u.z2F))};static#t=this.\u0275prov=u.Yz7({token:l,factory:l.\u0275fac})}return l})()},{provide:u.FYo,useFactory:function hh(l,f,o){return new lh(l,f,o)},deps:[b.se,We,u.R0b]}],Uu=[{provide:iy,useFactory:()=>new qb},{provide:u.QbO,useValue:"BrowserAnimations"},...tu],Ey=[{provide:iy,useClass:u0},{provide:u.QbO,useValue:"NoopAnimations"},...tu];let E0=(()=>{class l{static withConfig(o){return{ngModule:l,providers:o.disableAnimations?Ey:Uu}}static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l});static#n=this.\u0275inj=u.cJS({providers:Uu,imports:[b.b2]})}return l})(),D0=(()=>{class l{static#e=this.\u0275fac=function(h){return new(h||l)};static#t=this.\u0275mod=u.oAB({type:l,bootstrap:[Es]});static#n=this.\u0275inj=u.cJS({imports:[b.b2,rn,e0.r,E0,(0,Ds.hX)(()=>(0,Ds.ZF)(ci.N.firebaseConfig)),(0,Pt.Cm)(()=>(0,Pt.ad)()),ll,Jh]})}return l})();b.q6().bootstrapModule(D0).catch(l=>console.error(l))},5619:(Bt,Ge,K)=>{K.d(Ge,{X:()=>oe});var b=K(8645);class oe extends b.x{constructor(we){super(),this._value=we}get value(){return this.getValue()}_subscribe(we){const de=super._subscribe(we);return!de.closed&&we.next(this._value),de}getValue(){const{hasError:we,thrownError:de,_value:he}=this;if(we)throw de;return this._throwIfClosed(),he}next(we){super.next(this._value=we)}}},5592:(Bt,Ge,K)=>{K.d(Ge,{y:()=>Ue});var b=K(305),oe=K(7394),u=K(4850),we=K(8407),de=K(2653),he=K(4674),Te=K(1441);let Ue=(()=>{class Ae{constructor(Pe){Pe&&(this._subscribe=Pe)}lift(Pe){const st=new Ae;return st.source=this,st.operator=Pe,st}subscribe(Pe,st,Ot){const Ut=function le(Ae){return Ae&&Ae instanceof b.Lv||function ne(Ae){return Ae&&(0,he.m)(Ae.next)&&(0,he.m)(Ae.error)&&(0,he.m)(Ae.complete)}(Ae)&&(0,oe.Nn)(Ae)}(Pe)?Pe:new b.Hp(Pe,st,Ot);return(0,Te.x)(()=>{const{operator:Ft,source:xn}=this;Ut.add(Ft?Ft.call(Ut,xn):xn?this._subscribe(Ut):this._trySubscribe(Ut))}),Ut}_trySubscribe(Pe){try{return this._subscribe(Pe)}catch(st){Pe.error(st)}}forEach(Pe,st){return new(st=Ie(st))((Ot,Ut)=>{const Ft=new b.Hp({next:xn=>{try{Pe(xn)}catch(Rt){Ut(Rt),Ft.unsubscribe()}},error:Ut,complete:Ot});this.subscribe(Ft)})}_subscribe(Pe){var st;return null===(st=this.source)||void 0===st?void 0:st.subscribe(Pe)}[u.L](){return this}pipe(...Pe){return(0,we.U)(Pe)(this)}toPromise(Pe){return new(Pe=Ie(Pe))((st,Ot)=>{let Ut;this.subscribe(Ft=>Ut=Ft,Ft=>Ot(Ft),()=>st(Ut))})}}return Ae.create=Xe=>new Ae(Xe),Ae})();function Ie(Ae){var Xe;return null!==(Xe=Ae??de.config.Promise)&&void 0!==Xe?Xe:Promise}},8645:(Bt,Ge,K)=>{K.d(Ge,{x:()=>Te});var b=K(5592),oe=K(7394);const we=(0,K(2306).d)(Ie=>function(){Ie(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var de=K(9039),he=K(1441);let Te=(()=>{class Ie extends b.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(le){const Ae=new Ue(this,this);return Ae.operator=le,Ae}_throwIfClosed(){if(this.closed)throw new we}next(le){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ae of this.currentObservers)Ae.next(le)}})}error(le){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=le;const{observers:Ae}=this;for(;Ae.length;)Ae.shift().error(le)}})}complete(){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:le}=this;for(;le.length;)le.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var le;return(null===(le=this.observers)||void 0===le?void 0:le.length)>0}_trySubscribe(le){return this._throwIfClosed(),super._trySubscribe(le)}_subscribe(le){return this._throwIfClosed(),this._checkFinalizedStatuses(le),this._innerSubscribe(le)}_innerSubscribe(le){const{hasError:Ae,isStopped:Xe,observers:Pe}=this;return Ae||Xe?oe.Lc:(this.currentObservers=null,Pe.push(le),new oe.w0(()=>{this.currentObservers=null,(0,de.P)(Pe,le)}))}_checkFinalizedStatuses(le){const{hasError:Ae,thrownError:Xe,isStopped:Pe}=this;Ae?le.error(Xe):Pe&&le.complete()}asObservable(){const le=new b.y;return le.source=this,le}}return Ie.create=(ne,le)=>new Ue(ne,le),Ie})();class Ue extends Te{constructor(ne,le){super(),this.destination=ne,this.source=le}next(ne){var le,Ae;null===(Ae=null===(le=this.destination)||void 0===le?void 0:le.next)||void 0===Ae||Ae.call(le,ne)}error(ne){var le,Ae;null===(Ae=null===(le=this.destination)||void 0===le?void 0:le.error)||void 0===Ae||Ae.call(le,ne)}complete(){var ne,le;null===(le=null===(ne=this.destination)||void 0===ne?void 0:ne.complete)||void 0===le||le.call(ne)}_subscribe(ne){var le,Ae;return null!==(Ae=null===(le=this.source)||void 0===le?void 0:le.subscribe(ne))&&void 0!==Ae?Ae:oe.Lc}}},305:(Bt,Ge,K)=>{K.d(Ge,{Hp:()=>Ot,Lv:()=>Ae});var b=K(4674),oe=K(7394),u=K(2653),we=K(3894),de=K(2420);const he=Ie("C",void 0,void 0);function Ie(mt,ot,vt){return{kind:mt,value:ot,error:vt}}var ne=K(7599),le=K(1441);class Ae extends oe.w0{constructor(ot){super(),this.isStopped=!1,ot?(this.destination=ot,(0,oe.Nn)(ot)&&ot.add(this)):this.destination=Rt}static create(ot,vt,_t){return new Ot(ot,vt,_t)}next(ot){this.isStopped?xn(function Ue(mt){return Ie("N",mt,void 0)}(ot),this):this._next(ot)}error(ot){this.isStopped?xn(function Te(mt){return Ie("E",void 0,mt)}(ot),this):(this.isStopped=!0,this._error(ot))}complete(){this.isStopped?xn(he,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ot){this.destination.next(ot)}_error(ot){try{this.destination.error(ot)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Xe=Function.prototype.bind;function Pe(mt,ot){return Xe.call(mt,ot)}class st{constructor(ot){this.partialObserver=ot}next(ot){const{partialObserver:vt}=this;if(vt.next)try{vt.next(ot)}catch(_t){Ut(_t)}}error(ot){const{partialObserver:vt}=this;if(vt.error)try{vt.error(ot)}catch(_t){Ut(_t)}else Ut(ot)}complete(){const{partialObserver:ot}=this;if(ot.complete)try{ot.complete()}catch(vt){Ut(vt)}}}class Ot extends Ae{constructor(ot,vt,_t){let je;if(super(),(0,b.m)(ot)||!ot)je={next:ot??void 0,error:vt??void 0,complete:_t??void 0};else{let ve;this&&u.config.useDeprecatedNextContext?(ve=Object.create(ot),ve.unsubscribe=()=>this.unsubscribe(),je={next:ot.next&&Pe(ot.next,ve),error:ot.error&&Pe(ot.error,ve),complete:ot.complete&&Pe(ot.complete,ve)}):je=ot}this.destination=new st(je)}}function Ut(mt){u.config.useDeprecatedSynchronousErrorHandling?(0,le.O)(mt):(0,we.h)(mt)}function xn(mt,ot){const{onStoppedNotification:vt}=u.config;vt&&ne.z.setTimeout(()=>vt(mt,ot))}const Rt={closed:!0,next:de.Z,error:function Ft(mt){throw mt},complete:de.Z}},7394:(Bt,Ge,K)=>{K.d(Ge,{Lc:()=>he,w0:()=>de,Nn:()=>Te});var b=K(4674);const u=(0,K(2306).d)(Ie=>function(le){Ie(this),this.message=le?`${le.length} errors occurred during unsubscription:\n${le.map((Ae,Xe)=>`${Xe+1}) ${Ae.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=le});var we=K(9039);class de{constructor(ne){this.initialTeardown=ne,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ne;if(!this.closed){this.closed=!0;const{_parentage:le}=this;if(le)if(this._parentage=null,Array.isArray(le))for(const Pe of le)Pe.remove(this);else le.remove(this);const{initialTeardown:Ae}=this;if((0,b.m)(Ae))try{Ae()}catch(Pe){ne=Pe instanceof u?Pe.errors:[Pe]}const{_finalizers:Xe}=this;if(Xe){this._finalizers=null;for(const Pe of Xe)try{Ue(Pe)}catch(st){ne=ne??[],st instanceof u?ne=[...ne,...st.errors]:ne.push(st)}}if(ne)throw new u(ne)}}add(ne){var le;if(ne&&ne!==this)if(this.closed)Ue(ne);else{if(ne instanceof de){if(ne.closed||ne._hasParent(this))return;ne._addParent(this)}(this._finalizers=null!==(le=this._finalizers)&&void 0!==le?le:[]).push(ne)}}_hasParent(ne){const{_parentage:le}=this;return le===ne||Array.isArray(le)&&le.includes(ne)}_addParent(ne){const{_parentage:le}=this;this._parentage=Array.isArray(le)?(le.push(ne),le):le?[le,ne]:ne}_removeParent(ne){const{_parentage:le}=this;le===ne?this._parentage=null:Array.isArray(le)&&(0,we.P)(le,ne)}remove(ne){const{_finalizers:le}=this;le&&(0,we.P)(le,ne),ne instanceof de&&ne._removeParent(this)}}de.EMPTY=(()=>{const Ie=new de;return Ie.closed=!0,Ie})();const he=de.EMPTY;function Te(Ie){return Ie instanceof de||Ie&&"closed"in Ie&&(0,b.m)(Ie.remove)&&(0,b.m)(Ie.add)&&(0,b.m)(Ie.unsubscribe)}function Ue(Ie){(0,b.m)(Ie)?Ie():Ie.unsubscribe()}},2653:(Bt,Ge,K)=>{K.d(Ge,{config:()=>b});const b={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},5211:(Bt,Ge,K)=>{K.d(Ge,{z:()=>de});var b=K(7537),u=K(9940),we=K(2459);function de(...he){return function oe(){return(0,b.J)(1)}()((0,we.D)(he,(0,u.yG)(he)))}},6232:(Bt,Ge,K)=>{K.d(Ge,{E:()=>oe});const oe=new(K(5592).y)(de=>de.complete())},2459:(Bt,Ge,K)=>{K.d(Ge,{D:()=>ot});var b=K(4829),oe=K(3093),u=K(5137),he=K(5592),Ue=K(4971),Ie=K(4674),ne=K(7103);function Ae(vt,_t){if(!vt)throw new Error("Iterable cannot be null");return new he.y(je=>{(0,ne.f)(je,_t,()=>{const ve=vt[Symbol.asyncIterator]();(0,ne.f)(je,_t,()=>{ve.next().then(Ke=>{Ke.done?je.complete():je.next(Ke.value)})},0,!0)})})}var Xe=K(8382),Pe=K(4026),st=K(4266),Ot=K(3664),Ut=K(5726),Ft=K(9853),xn=K(541);function ot(vt,_t){return _t?function mt(vt,_t){if(null!=vt){if((0,Xe.c)(vt))return function we(vt,_t){return(0,b.Xf)(vt).pipe((0,u.R)(_t),(0,oe.Q)(_t))}(vt,_t);if((0,st.z)(vt))return function Te(vt,_t){return new he.y(je=>{let ve=0;return _t.schedule(function(){ve===vt.length?je.complete():(je.next(vt[ve++]),je.closed||this.schedule())})})}(vt,_t);if((0,Pe.t)(vt))return function de(vt,_t){return(0,b.Xf)(vt).pipe((0,u.R)(_t),(0,oe.Q)(_t))}(vt,_t);if((0,Ut.D)(vt))return Ae(vt,_t);if((0,Ot.T)(vt))return function le(vt,_t){return new he.y(je=>{let ve;return(0,ne.f)(je,_t,()=>{ve=vt[Ue.h](),(0,ne.f)(je,_t,()=>{let Ke,gt;try{({value:Ke,done:gt}=ve.next())}catch(Fn){return void je.error(Fn)}gt?je.complete():je.next(Ke)},0,!0)}),()=>(0,Ie.m)(ve?.return)&&ve.return()})}(vt,_t);if((0,xn.L)(vt))return function Rt(vt,_t){return Ae((0,xn.Q)(vt),_t)}(vt,_t)}throw(0,Ft.z)(vt)}(vt,_t):(0,b.Xf)(vt)}},4829:(Bt,Ge,K)=>{K.d(Ge,{Xf:()=>Xe});var b=K(7582),oe=K(4266),u=K(4026),we=K(5592),de=K(8382),he=K(5726),Te=K(9853),Ue=K(3664),Ie=K(541),ne=K(4674),le=K(3894),Ae=K(4850);function Xe(mt){if(mt instanceof we.y)return mt;if(null!=mt){if((0,de.c)(mt))return function Pe(mt){return new we.y(ot=>{const vt=mt[Ae.L]();if((0,ne.m)(vt.subscribe))return vt.subscribe(ot);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(mt);if((0,oe.z)(mt))return function st(mt){return new we.y(ot=>{for(let vt=0;vt<mt.length&&!ot.closed;vt++)ot.next(mt[vt]);ot.complete()})}(mt);if((0,u.t)(mt))return function Ot(mt){return new we.y(ot=>{mt.then(vt=>{ot.closed||(ot.next(vt),ot.complete())},vt=>ot.error(vt)).then(null,le.h)})}(mt);if((0,he.D)(mt))return Ft(mt);if((0,Ue.T)(mt))return function Ut(mt){return new we.y(ot=>{for(const vt of mt)if(ot.next(vt),ot.closed)return;ot.complete()})}(mt);if((0,Ie.L)(mt))return function xn(mt){return Ft((0,Ie.Q)(mt))}(mt)}throw(0,Te.z)(mt)}function Ft(mt){return new we.y(ot=>{(function Rt(mt,ot){var vt,_t,je,ve;return(0,b.mG)(this,void 0,void 0,function*(){try{for(vt=(0,b.KL)(mt);!(_t=yield vt.next()).done;)if(ot.next(_t.value),ot.closed)return}catch(Ke){je={error:Ke}}finally{try{_t&&!_t.done&&(ve=vt.return)&&(yield ve.call(vt))}finally{if(je)throw je.error}}ot.complete()})})(mt,ot).catch(vt=>ot.error(vt))})}},3019:(Bt,Ge,K)=>{K.d(Ge,{T:()=>he});var b=K(7537),oe=K(4829),u=K(6232),we=K(9940),de=K(2459);function he(...Te){const Ue=(0,we.yG)(Te),Ie=(0,we._6)(Te,1/0),ne=Te;return ne.length?1===ne.length?(0,oe.Xf)(ne[0]):(0,b.J)(Ie)((0,de.D)(ne,Ue)):u.E}},2096:(Bt,Ge,K)=>{K.d(Ge,{of:()=>u});var b=K(9940),oe=K(2459);function u(...we){const de=(0,b.yG)(we);return(0,oe.D)(we,de)}},8251:(Bt,Ge,K)=>{K.d(Ge,{x:()=>oe});var b=K(305);function oe(we,de,he,Te,Ue){return new u(we,de,he,Te,Ue)}class u extends b.Lv{constructor(de,he,Te,Ue,Ie,ne){super(de),this.onFinalize=Ie,this.shouldUnsubscribe=ne,this._next=he?function(le){try{he(le)}catch(Ae){de.error(Ae)}}:super._next,this._error=Ue?function(le){try{Ue(le)}catch(Ae){de.error(Ae)}finally{this.unsubscribe()}}:super._error,this._complete=Te?function(){try{Te()}catch(le){de.error(le)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var de;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:he}=this;super.unsubscribe(),!he&&(null===(de=this.onFinalize)||void 0===de||de.call(this))}}}},3997:(Bt,Ge,K)=>{K.d(Ge,{x:()=>we});var b=K(2737),oe=K(9360),u=K(8251);function we(he,Te=b.y){return he=he??de,(0,oe.e)((Ue,Ie)=>{let ne,le=!0;Ue.subscribe((0,u.x)(Ie,Ae=>{const Xe=Te(Ae);(le||!he(ne,Xe))&&(le=!1,ne=Xe,Ie.next(Ae))}))})}function de(he,Te){return he===Te}},2181:(Bt,Ge,K)=>{K.d(Ge,{h:()=>u});var b=K(9360),oe=K(8251);function u(we,de){return(0,b.e)((he,Te)=>{let Ue=0;he.subscribe((0,oe.x)(Te,Ie=>we.call(de,Ie,Ue++)&&Te.next(Ie)))})}},7398:(Bt,Ge,K)=>{K.d(Ge,{U:()=>u});var b=K(9360),oe=K(8251);function u(we,de){return(0,b.e)((he,Te)=>{let Ue=0;he.subscribe((0,oe.x)(Te,Ie=>{Te.next(we.call(de,Ie,Ue++))}))})}},975:(Bt,Ge,K)=>{K.d(Ge,{h:()=>oe});var b=K(7398);function oe(u){return(0,b.U)(()=>u)}},7537:(Bt,Ge,K)=>{K.d(Ge,{J:()=>u});var b=K(1631),oe=K(2737);function u(we=1/0){return(0,b.z)(oe.y,we)}},1631:(Bt,Ge,K)=>{K.d(Ge,{z:()=>Ue});var b=K(7398),oe=K(4829),u=K(9360),we=K(7103),de=K(8251),Te=K(4674);function Ue(Ie,ne,le=1/0){return(0,Te.m)(ne)?Ue((Ae,Xe)=>(0,b.U)((Pe,st)=>ne(Ae,Pe,Xe,st))((0,oe.Xf)(Ie(Ae,Xe))),le):("number"==typeof ne&&(le=ne),(0,u.e)((Ae,Xe)=>function he(Ie,ne,le,Ae,Xe,Pe,st,Ot){const Ut=[];let Ft=0,xn=0,Rt=!1;const mt=()=>{Rt&&!Ut.length&&!Ft&&ne.complete()},ot=_t=>Ft<Ae?vt(_t):Ut.push(_t),vt=_t=>{Pe&&ne.next(_t),Ft++;let je=!1;(0,oe.Xf)(le(_t,xn++)).subscribe((0,de.x)(ne,ve=>{Xe?.(ve),Pe?ot(ve):ne.next(ve)},()=>{je=!0},void 0,()=>{if(je)try{for(Ft--;Ut.length&&Ft<Ae;){const ve=Ut.shift();st?(0,we.f)(ne,st,()=>vt(ve)):vt(ve)}mt()}catch(ve){ne.error(ve)}}))};return Ie.subscribe((0,de.x)(ne,ot,()=>{Rt=!0,mt()})),()=>{Ot?.()}}(Ae,Xe,Ie,le)))}},3093:(Bt,Ge,K)=>{K.d(Ge,{Q:()=>we});var b=K(7103),oe=K(9360),u=K(8251);function we(de,he=0){return(0,oe.e)((Te,Ue)=>{Te.subscribe((0,u.x)(Ue,Ie=>(0,b.f)(Ue,de,()=>Ue.next(Ie),he),()=>(0,b.f)(Ue,de,()=>Ue.complete(),he),Ie=>(0,b.f)(Ue,de,()=>Ue.error(Ie),he)))})}},7921:(Bt,Ge,K)=>{K.d(Ge,{O:()=>we});var b=K(5211),oe=K(9940),u=K(9360);function we(...de){const he=(0,oe.yG)(de);return(0,u.e)((Te,Ue)=>{(he?(0,b.z)(de,Te,he):(0,b.z)(de,Te)).subscribe(Ue)})}},5137:(Bt,Ge,K)=>{K.d(Ge,{R:()=>oe});var b=K(9360);function oe(u,we=0){return(0,b.e)((de,he)=>{he.add(u.schedule(()=>de.subscribe(he),we))})}},4664:(Bt,Ge,K)=>{K.d(Ge,{w:()=>we});var b=K(4829),oe=K(9360),u=K(8251);function we(de,he){return(0,oe.e)((Te,Ue)=>{let Ie=null,ne=0,le=!1;const Ae=()=>le&&!Ie&&Ue.complete();Te.subscribe((0,u.x)(Ue,Xe=>{Ie?.unsubscribe();let Pe=0;const st=ne++;(0,b.Xf)(de(Xe,st)).subscribe(Ie=(0,u.x)(Ue,Ot=>Ue.next(he?he(Xe,Ot,st,Pe++):Ot),()=>{Ie=null,Ae()}))},()=>{le=!0,Ae()}))})}},8180:(Bt,Ge,K)=>{K.d(Ge,{q:()=>we});var b=K(6232),oe=K(9360),u=K(8251);function we(de){return de<=0?()=>b.E:(0,oe.e)((he,Te)=>{let Ue=0;he.subscribe((0,u.x)(Te,Ie=>{++Ue<=de&&(Te.next(Ie),de<=Ue&&Te.complete())}))})}},9773:(Bt,Ge,K)=>{K.d(Ge,{R:()=>de});var b=K(9360),oe=K(8251),u=K(4829),we=K(2420);function de(he){return(0,b.e)((Te,Ue)=>{(0,u.Xf)(he).subscribe((0,oe.x)(Ue,()=>Ue.complete(),we.Z)),!Ue.closed&&Te.subscribe(Ue)})}},9397:(Bt,Ge,K)=>{K.d(Ge,{b:()=>de});var b=K(4674),oe=K(9360),u=K(8251),we=K(2737);function de(he,Te,Ue){const Ie=(0,b.m)(he)||Te||Ue?{next:he,error:Te,complete:Ue}:he;return Ie?(0,oe.e)((ne,le)=>{var Ae;null===(Ae=Ie.subscribe)||void 0===Ae||Ae.call(Ie);let Xe=!0;ne.subscribe((0,u.x)(le,Pe=>{var st;null===(st=Ie.next)||void 0===st||st.call(Ie,Pe),le.next(Pe)},()=>{var Pe;Xe=!1,null===(Pe=Ie.complete)||void 0===Pe||Pe.call(Ie),le.complete()},Pe=>{var st;Xe=!1,null===(st=Ie.error)||void 0===st||st.call(Ie,Pe),le.error(Pe)},()=>{var Pe,st;Xe&&(null===(Pe=Ie.unsubscribe)||void 0===Pe||Pe.call(Ie)),null===(st=Ie.finalize)||void 0===st||st.call(Ie)}))}):we.y}},1954:(Bt,Ge,K)=>{K.d(Ge,{o:()=>de});var b=K(7394);class oe extends b.w0{constructor(Te,Ue){super()}schedule(Te,Ue=0){return this}}const u={setInterval(he,Te,...Ue){const{delegate:Ie}=u;return Ie?.setInterval?Ie.setInterval(he,Te,...Ue):setInterval(he,Te,...Ue)},clearInterval(he){const{delegate:Te}=u;return(Te?.clearInterval||clearInterval)(he)},delegate:void 0};var we=K(9039);class de extends oe{constructor(Te,Ue){super(Te,Ue),this.scheduler=Te,this.work=Ue,this.pending=!1}schedule(Te,Ue=0){var Ie;if(this.closed)return this;this.state=Te;const ne=this.id,le=this.scheduler;return null!=ne&&(this.id=this.recycleAsyncId(le,ne,Ue)),this.pending=!0,this.delay=Ue,this.id=null!==(Ie=this.id)&&void 0!==Ie?Ie:this.requestAsyncId(le,this.id,Ue),this}requestAsyncId(Te,Ue,Ie=0){return u.setInterval(Te.flush.bind(Te,this),Ie)}recycleAsyncId(Te,Ue,Ie=0){if(null!=Ie&&this.delay===Ie&&!1===this.pending)return Ue;null!=Ue&&u.clearInterval(Ue)}execute(Te,Ue){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ie=this._execute(Te,Ue);if(Ie)return Ie;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Te,Ue){let ne,Ie=!1;try{this.work(Te)}catch(le){Ie=!0,ne=le||new Error("Scheduled action threw falsy error")}if(Ie)return this.unsubscribe(),ne}unsubscribe(){if(!this.closed){const{id:Te,scheduler:Ue}=this,{actions:Ie}=Ue;this.work=this.state=this.scheduler=null,this.pending=!1,(0,we.P)(Ie,this),null!=Te&&(this.id=this.recycleAsyncId(Ue,Te,null)),this.delay=null,super.unsubscribe()}}}},9931:(Bt,Ge,K)=>{K.d(Ge,{v:()=>u});const b={now:()=>(b.delegate||Date).now(),delegate:void 0};class oe{constructor(de,he=oe.now){this.schedulerActionCtor=de,this.now=he}schedule(de,he=0,Te){return new this.schedulerActionCtor(this,de).schedule(Te,he)}}oe.now=b.now;class u extends oe{constructor(de,he=oe.now){super(de,he),this.actions=[],this._active=!1}flush(de){const{actions:he}=this;if(this._active)return void he.push(de);let Te;this._active=!0;do{if(Te=de.execute(de.state,de.delay))break}while(de=he.shift());if(this._active=!1,Te){for(;de=he.shift();)de.unsubscribe();throw Te}}}},6321:(Bt,Ge,K)=>{K.d(Ge,{P:()=>we,z:()=>u});var b=K(1954);const u=new(K(9931).v)(b.o),we=u},7599:(Bt,Ge,K)=>{K.d(Ge,{z:()=>b});const b={setTimeout(oe,u,...we){const{delegate:de}=b;return de?.setTimeout?de.setTimeout(oe,u,...we):setTimeout(oe,u,...we)},clearTimeout(oe){const{delegate:u}=b;return(u?.clearTimeout||clearTimeout)(oe)},delegate:void 0}},4971:(Bt,Ge,K)=>{K.d(Ge,{h:()=>oe});const oe=function b(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Bt,Ge,K)=>{K.d(Ge,{L:()=>b});const b="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(Bt,Ge,K)=>{K.d(Ge,{K:()=>oe});const oe=(0,K(2306).d)(u=>function(){u(this),this.name="EmptyError",this.message="no elements in sequence"})},9940:(Bt,Ge,K)=>{K.d(Ge,{_6:()=>he,jO:()=>we,yG:()=>de});var b=K(4674),oe=K(671);function u(Te){return Te[Te.length-1]}function we(Te){return(0,b.m)(u(Te))?Te.pop():void 0}function de(Te){return(0,oe.K)(u(Te))?Te.pop():void 0}function he(Te,Ue){return"number"==typeof u(Te)?Te.pop():Ue}},7453:(Bt,Ge,K)=>{K.d(Ge,{D:()=>de});const{isArray:b}=Array,{getPrototypeOf:oe,prototype:u,keys:we}=Object;function de(Te){if(1===Te.length){const Ue=Te[0];if(b(Ue))return{args:Ue,keys:null};if(function he(Te){return Te&&"object"==typeof Te&&oe(Te)===u}(Ue)){const Ie=we(Ue);return{args:Ie.map(ne=>Ue[ne]),keys:Ie}}}return{args:Te,keys:null}}},9039:(Bt,Ge,K)=>{function b(oe,u){if(oe){const we=oe.indexOf(u);0<=we&&oe.splice(we,1)}}K.d(Ge,{P:()=>b})},2306:(Bt,Ge,K)=>{function b(oe){const we=oe(de=>{Error.call(de),de.stack=(new Error).stack});return we.prototype=Object.create(Error.prototype),we.prototype.constructor=we,we}K.d(Ge,{d:()=>b})},2714:(Bt,Ge,K)=>{function b(oe,u){return oe.reduce((we,de,he)=>(we[de]=u[he],we),{})}K.d(Ge,{n:()=>b})},1441:(Bt,Ge,K)=>{K.d(Ge,{O:()=>we,x:()=>u});var b=K(2653);let oe=null;function u(de){if(b.config.useDeprecatedSynchronousErrorHandling){const he=!oe;if(he&&(oe={errorThrown:!1,error:null}),de(),he){const{errorThrown:Te,error:Ue}=oe;if(oe=null,Te)throw Ue}}else de()}function we(de){b.config.useDeprecatedSynchronousErrorHandling&&oe&&(oe.errorThrown=!0,oe.error=de)}},7103:(Bt,Ge,K)=>{function b(oe,u,we,de=0,he=!1){const Te=u.schedule(function(){we(),he?oe.add(this.schedule(null,de)):this.unsubscribe()},de);if(oe.add(Te),!he)return Te}K.d(Ge,{f:()=>b})},2737:(Bt,Ge,K)=>{function b(oe){return oe}K.d(Ge,{y:()=>b})},4266:(Bt,Ge,K)=>{K.d(Ge,{z:()=>b});const b=oe=>oe&&"number"==typeof oe.length&&"function"!=typeof oe},5726:(Bt,Ge,K)=>{K.d(Ge,{D:()=>oe});var b=K(4674);function oe(u){return Symbol.asyncIterator&&(0,b.m)(u?.[Symbol.asyncIterator])}},4674:(Bt,Ge,K)=>{function b(oe){return"function"==typeof oe}K.d(Ge,{m:()=>b})},8382:(Bt,Ge,K)=>{K.d(Ge,{c:()=>u});var b=K(4850),oe=K(4674);function u(we){return(0,oe.m)(we[b.L])}},3664:(Bt,Ge,K)=>{K.d(Ge,{T:()=>u});var b=K(4971),oe=K(4674);function u(we){return(0,oe.m)(we?.[b.h])}},4026:(Bt,Ge,K)=>{K.d(Ge,{t:()=>oe});var b=K(4674);function oe(u){return(0,b.m)(u?.then)}},541:(Bt,Ge,K)=>{K.d(Ge,{L:()=>we,Q:()=>u});var b=K(7582),oe=K(4674);function u(de){return(0,b.FC)(this,arguments,function*(){const Te=de.getReader();try{for(;;){const{value:Ue,done:Ie}=yield(0,b.qq)(Te.read());if(Ie)return yield(0,b.qq)(void 0);yield yield(0,b.qq)(Ue)}}finally{Te.releaseLock()}})}function we(de){return(0,oe.m)(de?.getReader)}},671:(Bt,Ge,K)=>{K.d(Ge,{K:()=>oe});var b=K(4674);function oe(u){return u&&(0,b.m)(u.schedule)}},9360:(Bt,Ge,K)=>{K.d(Ge,{A:()=>oe,e:()=>u});var b=K(4674);function oe(we){return(0,b.m)(we?.lift)}function u(we){return de=>{if(oe(de))return de.lift(function(he){try{return we(he,this)}catch(Te){this.error(Te)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(Bt,Ge,K)=>{K.d(Ge,{Z:()=>we});var b=K(7398);const{isArray:oe}=Array;function we(de){return(0,b.U)(he=>function u(de,he){return oe(he)?de(...he):de(he)}(de,he))}},2420:(Bt,Ge,K)=>{function b(){}K.d(Ge,{Z:()=>b})},8407:(Bt,Ge,K)=>{K.d(Ge,{U:()=>u,z:()=>oe});var b=K(2737);function oe(...we){return u(we)}function u(we){return 0===we.length?b.y:1===we.length?we[0]:function(he){return we.reduce((Te,Ue)=>Ue(Te),he)}}},3894:(Bt,Ge,K)=>{K.d(Ge,{h:()=>u});var b=K(2653),oe=K(7599);function u(we){oe.z.setTimeout(()=>{const{onUnhandledError:de}=b.config;if(!de)throw we;de(we)})}},9853:(Bt,Ge,K)=>{function b(oe){return new TypeError(`You provided ${null!==oe&&"object"==typeof oe?"an invalid object":`'${oe}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}K.d(Ge,{z:()=>b})},6814:(Bt,Ge,K)=>{K.d(Ge,{Do:()=>Ot,EM:()=>La,HT:()=>we,JF:()=>As,K0:()=>he,Mn:()=>Sn,Mx:()=>ho,O5:()=>fs,PM:()=>wr,S$:()=>Xe,Tn:()=>ve,UT:()=>Gn,V_:()=>Ue,Ye:()=>Ut,ax:()=>$s,b0:()=>st,bD:()=>wi,ez:()=>Nr,mk:()=>po,p6:()=>Jn,q:()=>u,sg:()=>$s,tP:()=>go,uU:()=>Qr,w_:()=>de,x:()=>je});var b=K(9468);let oe=null;function u(){return oe}function we(M){oe||(oe=M)}class de{}const he=new b.OlP("DocumentToken");let Te=(()=>{class M{historyGo(V){throw new Error("Not implemented")}static#e=this.\u0275fac=function(ee){return new(ee||M)};static#t=this.\u0275prov=b.Yz7({token:M,factory:function(){return(0,b.f3M)(Ie)},providedIn:"platform"})}return M})();const Ue=new b.OlP("Location Initialized");let Ie=(()=>{class M extends Te{constructor(){super(),this._doc=(0,b.f3M)(he),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return u().getBaseHref(this._doc)}onPopState(V){const ee=u().getGlobalEventTarget(this._doc,"window");return ee.addEventListener("popstate",V,!1),()=>ee.removeEventListener("popstate",V)}onHashChange(V){const ee=u().getGlobalEventTarget(this._doc,"window");return ee.addEventListener("hashchange",V,!1),()=>ee.removeEventListener("hashchange",V)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(V){this._location.pathname=V}pushState(V,ee,ye){this._history.pushState(V,ee,ye)}replaceState(V,ee,ye){this._history.replaceState(V,ee,ye)}forward(){this._history.forward()}back(){this._history.back()}historyGo(V=0){this._history.go(V)}getState(){return this._history.state}static#e=this.\u0275fac=function(ee){return new(ee||M)};static#t=this.\u0275prov=b.Yz7({token:M,factory:function(){return new M},providedIn:"platform"})}return M})();function ne(M,re){if(0==M.length)return re;if(0==re.length)return M;let V=0;return M.endsWith("/")&&V++,re.startsWith("/")&&V++,2==V?M+re.substring(1):1==V?M+re:M+"/"+re}function le(M){const re=M.match(/#|\?|$/),V=re&&re.index||M.length;return M.slice(0,V-("/"===M[V-1]?1:0))+M.slice(V)}function Ae(M){return M&&"?"!==M[0]?"?"+M:M}let Xe=(()=>{class M{historyGo(V){throw new Error("Not implemented")}static#e=this.\u0275fac=function(ee){return new(ee||M)};static#t=this.\u0275prov=b.Yz7({token:M,factory:function(){return(0,b.f3M)(st)},providedIn:"root"})}return M})();const Pe=new b.OlP("appBaseHref");let st=(()=>{class M extends Xe{constructor(V,ee){super(),this._platformLocation=V,this._removeListenerFns=[],this._baseHref=ee??this._platformLocation.getBaseHrefFromDOM()??(0,b.f3M)(he).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(V){this._removeListenerFns.push(this._platformLocation.onPopState(V),this._platformLocation.onHashChange(V))}getBaseHref(){return this._baseHref}prepareExternalUrl(V){return ne(this._baseHref,V)}path(V=!1){const ee=this._platformLocation.pathname+Ae(this._platformLocation.search),ye=this._platformLocation.hash;return ye&&V?`${ee}${ye}`:ee}pushState(V,ee,ye,Qe){const pt=this.prepareExternalUrl(ye+Ae(Qe));this._platformLocation.pushState(V,ee,pt)}replaceState(V,ee,ye,Qe){const pt=this.prepareExternalUrl(ye+Ae(Qe));this._platformLocation.replaceState(V,ee,pt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(V=0){this._platformLocation.historyGo?.(V)}static#e=this.\u0275fac=function(ee){return new(ee||M)(b.LFG(Te),b.LFG(Pe,8))};static#t=this.\u0275prov=b.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"})}return M})(),Ot=(()=>{class M extends Xe{constructor(V,ee){super(),this._platformLocation=V,this._baseHref="",this._removeListenerFns=[],null!=ee&&(this._baseHref=ee)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(V){this._removeListenerFns.push(this._platformLocation.onPopState(V),this._platformLocation.onHashChange(V))}getBaseHref(){return this._baseHref}path(V=!1){let ee=this._platformLocation.hash;return null==ee&&(ee="#"),ee.length>0?ee.substring(1):ee}prepareExternalUrl(V){const ee=ne(this._baseHref,V);return ee.length>0?"#"+ee:ee}pushState(V,ee,ye,Qe){let pt=this.prepareExternalUrl(ye+Ae(Qe));0==pt.length&&(pt=this._platformLocation.pathname),this._platformLocation.pushState(V,ee,pt)}replaceState(V,ee,ye,Qe){let pt=this.prepareExternalUrl(ye+Ae(Qe));0==pt.length&&(pt=this._platformLocation.pathname),this._platformLocation.replaceState(V,ee,pt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(V=0){this._platformLocation.historyGo?.(V)}static#e=this.\u0275fac=function(ee){return new(ee||M)(b.LFG(Te),b.LFG(Pe,8))};static#t=this.\u0275prov=b.Yz7({token:M,factory:M.\u0275fac})}return M})(),Ut=(()=>{class M{constructor(V){this._subject=new b.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=V;const ee=this._locationStrategy.getBaseHref();this._basePath=function mt(M){if(new RegExp("^(https?:)?//").test(M)){const[,V]=M.split(/\/\/[^\/]+/);return V}return M}(le(Rt(ee))),this._locationStrategy.onPopState(ye=>{this._subject.emit({url:this.path(!0),pop:!0,state:ye.state,type:ye.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(V=!1){return this.normalize(this._locationStrategy.path(V))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(V,ee=""){return this.path()==this.normalize(V+Ae(ee))}normalize(V){return M.stripTrailingSlash(function xn(M,re){if(!M||!re.startsWith(M))return re;const V=re.substring(M.length);return""===V||["/",";","?","#"].includes(V[0])?V:re}(this._basePath,Rt(V)))}prepareExternalUrl(V){return V&&"/"!==V[0]&&(V="/"+V),this._locationStrategy.prepareExternalUrl(V)}go(V,ee="",ye=null){this._locationStrategy.pushState(ye,"",V,ee),this._notifyUrlChangeListeners(this.prepareExternalUrl(V+Ae(ee)),ye)}replaceState(V,ee="",ye=null){this._locationStrategy.replaceState(ye,"",V,ee),this._notifyUrlChangeListeners(this.prepareExternalUrl(V+Ae(ee)),ye)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(V=0){this._locationStrategy.historyGo?.(V)}onUrlChange(V){return this._urlChangeListeners.push(V),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ee=>{this._notifyUrlChangeListeners(ee.url,ee.state)})),()=>{const ee=this._urlChangeListeners.indexOf(V);this._urlChangeListeners.splice(ee,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(V="",ee){this._urlChangeListeners.forEach(ye=>ye(V,ee))}subscribe(V,ee,ye){return this._subject.subscribe({next:V,error:ee,complete:ye})}static#e=this.normalizeQueryParams=Ae;static#t=this.joinWithSlash=ne;static#n=this.stripTrailingSlash=le;static#r=this.\u0275fac=function(ee){return new(ee||M)(b.LFG(Xe))};static#i=this.\u0275prov=b.Yz7({token:M,factory:function(){return function Ft(){return new Ut((0,b.LFG)(Xe))}()},providedIn:"root"})}return M})();function Rt(M){return M.replace(/\/index.html$/,"")}var je=function(M){return M[M.Format=0]="Format",M[M.Standalone=1]="Standalone",M}(je||{}),ve=function(M){return M[M.Narrow=0]="Narrow",M[M.Abbreviated=1]="Abbreviated",M[M.Wide=2]="Wide",M[M.Short=3]="Short",M}(ve||{}),Ke=function(M){return M[M.Short=0]="Short",M[M.Medium=1]="Medium",M[M.Long=2]="Long",M[M.Full=3]="Full",M}(Ke||{}),gt=function(M){return M[M.Decimal=0]="Decimal",M[M.Group=1]="Group",M[M.List=2]="List",M[M.PercentSign=3]="PercentSign",M[M.PlusSign=4]="PlusSign",M[M.MinusSign=5]="MinusSign",M[M.Exponential=6]="Exponential",M[M.SuperscriptingExponent=7]="SuperscriptingExponent",M[M.PerMille=8]="PerMille",M[M.Infinity=9]="Infinity",M[M.NaN=10]="NaN",M[M.TimeSeparator=11]="TimeSeparator",M[M.CurrencyDecimal=12]="CurrencyDecimal",M[M.CurrencyGroup=13]="CurrencyGroup",M}(gt||{});function Sn(M,re,V){const ee=(0,b.cg1)(M),Qe=Ce([ee[b.wAp.DaysFormat],ee[b.wAp.DaysStandalone]],re);return Ce(Qe,V)}function Gn(M,re,V){const ee=(0,b.cg1)(M),Qe=Ce([ee[b.wAp.MonthsFormat],ee[b.wAp.MonthsStandalone]],re);return Ce(Qe,V)}function $e(M,re){return Ce((0,b.cg1)(M)[b.wAp.DateFormat],re)}function Ye(M,re){return Ce((0,b.cg1)(M)[b.wAp.TimeFormat],re)}function Ve(M,re){return Ce((0,b.cg1)(M)[b.wAp.DateTimeFormat],re)}function nt(M,re){const V=(0,b.cg1)(M),ee=V[b.wAp.NumberSymbols][re];if(typeof ee>"u"){if(re===gt.CurrencyDecimal)return V[b.wAp.NumberSymbols][gt.Decimal];if(re===gt.CurrencyGroup)return V[b.wAp.NumberSymbols][gt.Group]}return ee}function Dt(M){if(!M[b.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${M[b.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ce(M,re){for(let V=re;V>-1;V--)if(typeof M[V]<"u")return M[V];throw new Error("Locale data API: locale data undefined")}function xe(M){const[re,V]=M.split(":");return{hours:+re,minutes:+V}}const At=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,vr={},An=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var sn=function(M){return M[M.Short=0]="Short",M[M.ShortGMT=1]="ShortGMT",M[M.Long=2]="Long",M[M.Extended=3]="Extended",M}(sn||{}),Kt=function(M){return M[M.FullYear=0]="FullYear",M[M.Month=1]="Month",M[M.Date=2]="Date",M[M.Hours=3]="Hours",M[M.Minutes=4]="Minutes",M[M.Seconds=5]="Seconds",M[M.FractionalSeconds=6]="FractionalSeconds",M[M.Day=7]="Day",M}(Kt||{}),En=function(M){return M[M.DayPeriods=0]="DayPeriods",M[M.Days=1]="Days",M[M.Months=2]="Months",M[M.Eras=3]="Eras",M}(En||{});function Jn(M,re,V,ee){let ye=function U(M){if(q(M))return M;if("number"==typeof M&&!isNaN(M))return new Date(M);if("string"==typeof M){if(M=M.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(M)){const[ye,Qe=1,pt=1]=M.split("-").map(_n=>+_n);return Xt(ye,Qe-1,pt)}const V=parseFloat(M);if(!isNaN(M-V))return new Date(V);let ee;if(ee=M.match(At))return function G(M){const re=new Date(0);let V=0,ee=0;const ye=M[8]?re.setUTCFullYear:re.setFullYear,Qe=M[8]?re.setUTCHours:re.setHours;M[9]&&(V=Number(M[9]+M[10]),ee=Number(M[9]+M[11])),ye.call(re,Number(M[1]),Number(M[2])-1,Number(M[3]));const pt=Number(M[4]||0)-V,_n=Number(M[5]||0)-ee,xr=Number(M[6]||0),jr=Math.floor(1e3*parseFloat("0."+(M[7]||0)));return Qe.call(re,pt,_n,xr,jr),re}(ee)}const re=new Date(M);if(!q(re))throw new Error(`Unable to convert "${M}" into a date`);return re}(M);re=Ar(V,re)||re;let _n,pt=[];for(;re;){if(_n=An.exec(re),!_n){pt.push(re);break}{pt=pt.concat(_n.slice(1));const zn=pt.pop();if(!zn)break;re=zn}}let xr=ye.getTimezoneOffset();ee&&(xr=Zt(ee,xr),ye=function Y(M,re,V){const ee=V?-1:1,ye=M.getTimezoneOffset();return function qn(M,re){return(M=new Date(M.getTime())).setMinutes(M.getMinutes()+re),M}(M,ee*(Zt(re,ye)-ye))}(ye,ee,!0));let jr="";return pt.forEach(zn=>{const Bn=function qt(M){if(It[M])return It[M];let re;switch(M){case"G":case"GG":case"GGG":re=Wn(En.Eras,ve.Abbreviated);break;case"GGGG":re=Wn(En.Eras,ve.Wide);break;case"GGGGG":re=Wn(En.Eras,ve.Narrow);break;case"y":re=Yn(Kt.FullYear,1,0,!1,!0);break;case"yy":re=Yn(Kt.FullYear,2,0,!0,!0);break;case"yyy":re=Yn(Kt.FullYear,3,0,!1,!0);break;case"yyyy":re=Yn(Kt.FullYear,4,0,!1,!0);break;case"Y":re=Ze(1);break;case"YY":re=Ze(2,!0);break;case"YYY":re=Ze(3);break;case"YYYY":re=Ze(4);break;case"M":case"L":re=Yn(Kt.Month,1,1);break;case"MM":case"LL":re=Yn(Kt.Month,2,1);break;case"MMM":re=Wn(En.Months,ve.Abbreviated);break;case"MMMM":re=Wn(En.Months,ve.Wide);break;case"MMMMM":re=Wn(En.Months,ve.Narrow);break;case"LLL":re=Wn(En.Months,ve.Abbreviated,je.Standalone);break;case"LLLL":re=Wn(En.Months,ve.Wide,je.Standalone);break;case"LLLLL":re=Wn(En.Months,ve.Narrow,je.Standalone);break;case"w":re=Se(1);break;case"ww":re=Se(2);break;case"W":re=Se(1,!0);break;case"d":re=Yn(Kt.Date,1);break;case"dd":re=Yn(Kt.Date,2);break;case"c":case"cc":re=Yn(Kt.Day,1);break;case"ccc":re=Wn(En.Days,ve.Abbreviated,je.Standalone);break;case"cccc":re=Wn(En.Days,ve.Wide,je.Standalone);break;case"ccccc":re=Wn(En.Days,ve.Narrow,je.Standalone);break;case"cccccc":re=Wn(En.Days,ve.Short,je.Standalone);break;case"E":case"EE":case"EEE":re=Wn(En.Days,ve.Abbreviated);break;case"EEEE":re=Wn(En.Days,ve.Wide);break;case"EEEEE":re=Wn(En.Days,ve.Narrow);break;case"EEEEEE":re=Wn(En.Days,ve.Short);break;case"a":case"aa":case"aaa":re=Wn(En.DayPeriods,ve.Abbreviated);break;case"aaaa":re=Wn(En.DayPeriods,ve.Wide);break;case"aaaaa":re=Wn(En.DayPeriods,ve.Narrow);break;case"b":case"bb":case"bbb":re=Wn(En.DayPeriods,ve.Abbreviated,je.Standalone,!0);break;case"bbbb":re=Wn(En.DayPeriods,ve.Wide,je.Standalone,!0);break;case"bbbbb":re=Wn(En.DayPeriods,ve.Narrow,je.Standalone,!0);break;case"B":case"BB":case"BBB":re=Wn(En.DayPeriods,ve.Abbreviated,je.Format,!0);break;case"BBBB":re=Wn(En.DayPeriods,ve.Wide,je.Format,!0);break;case"BBBBB":re=Wn(En.DayPeriods,ve.Narrow,je.Format,!0);break;case"h":re=Yn(Kt.Hours,1,-12);break;case"hh":re=Yn(Kt.Hours,2,-12);break;case"H":re=Yn(Kt.Hours,1);break;case"HH":re=Yn(Kt.Hours,2);break;case"m":re=Yn(Kt.Minutes,1);break;case"mm":re=Yn(Kt.Minutes,2);break;case"s":re=Yn(Kt.Seconds,1);break;case"ss":re=Yn(Kt.Seconds,2);break;case"S":re=Yn(Kt.FractionalSeconds,1);break;case"SS":re=Yn(Kt.FractionalSeconds,2);break;case"SSS":re=Yn(Kt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":re=Rn(sn.Short);break;case"ZZZZZ":re=Rn(sn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":re=Rn(sn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":re=Rn(sn.Long);break;default:return null}return It[M]=re,re}(zn);jr+=Bn?Bn(ye,V,xr):"''"===zn?"'":zn.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),jr}function Xt(M,re,V){const ee=new Date(0);return ee.setFullYear(M,re,V),ee.setHours(0,0,0),ee}function Ar(M,re){const V=function ut(M){return(0,b.cg1)(M)[b.wAp.LocaleId]}(M);if(vr[V]=vr[V]||{},vr[V][re])return vr[V][re];let ee="";switch(re){case"shortDate":ee=$e(M,Ke.Short);break;case"mediumDate":ee=$e(M,Ke.Medium);break;case"longDate":ee=$e(M,Ke.Long);break;case"fullDate":ee=$e(M,Ke.Full);break;case"shortTime":ee=Ye(M,Ke.Short);break;case"mediumTime":ee=Ye(M,Ke.Medium);break;case"longTime":ee=Ye(M,Ke.Long);break;case"fullTime":ee=Ye(M,Ke.Full);break;case"short":const ye=Ar(M,"shortTime"),Qe=Ar(M,"shortDate");ee=br(Ve(M,Ke.Short),[ye,Qe]);break;case"medium":const pt=Ar(M,"mediumTime"),_n=Ar(M,"mediumDate");ee=br(Ve(M,Ke.Medium),[pt,_n]);break;case"long":const xr=Ar(M,"longTime"),jr=Ar(M,"longDate");ee=br(Ve(M,Ke.Long),[xr,jr]);break;case"full":const zn=Ar(M,"fullTime"),Bn=Ar(M,"fullDate");ee=br(Ve(M,Ke.Full),[zn,Bn])}return ee&&(vr[V][re]=ee),ee}function br(M,re){return re&&(M=M.replace(/\{([^}]+)}/g,function(V,ee){return null!=re&&ee in re?re[ee]:V})),M}function mn(M,re,V="-",ee,ye){let Qe="";(M<0||ye&&M<=0)&&(ye?M=1-M:(M=-M,Qe=V));let pt=String(M);for(;pt.length<re;)pt="0"+pt;return ee&&(pt=pt.slice(pt.length-re)),Qe+pt}function Yn(M,re,V=0,ee=!1,ye=!1){return function(Qe,pt){let _n=function cr(M,re){switch(M){case Kt.FullYear:return re.getFullYear();case Kt.Month:return re.getMonth();case Kt.Date:return re.getDate();case Kt.Hours:return re.getHours();case Kt.Minutes:return re.getMinutes();case Kt.Seconds:return re.getSeconds();case Kt.FractionalSeconds:return re.getMilliseconds();case Kt.Day:return re.getDay();default:throw new Error(`Unknown DateType value "${M}".`)}}(M,Qe);if((V>0||_n>-V)&&(_n+=V),M===Kt.Hours)0===_n&&-12===V&&(_n=12);else if(M===Kt.FractionalSeconds)return function ar(M,re){return mn(M,3).substring(0,re)}(_n,re);const xr=nt(pt,gt.MinusSign);return mn(_n,re,xr,ee,ye)}}function Wn(M,re,V=je.Format,ee=!1){return function(ye,Qe){return function pi(M,re,V,ee,ye,Qe){switch(V){case En.Months:return Gn(re,ye,ee)[M.getMonth()];case En.Days:return Sn(re,ye,ee)[M.getDay()];case En.DayPeriods:const pt=M.getHours(),_n=M.getMinutes();if(Qe){const jr=function Zn(M){const re=(0,b.cg1)(M);return Dt(re),(re[b.wAp.ExtraData][2]||[]).map(ee=>"string"==typeof ee?xe(ee):[xe(ee[0]),xe(ee[1])])}(re),zn=function yr(M,re,V){const ee=(0,b.cg1)(M);Dt(ee);const Qe=Ce([ee[b.wAp.ExtraData][0],ee[b.wAp.ExtraData][1]],re)||[];return Ce(Qe,V)||[]}(re,ye,ee),Bn=jr.findIndex(Ir=>{if(Array.isArray(Ir)){const[$r,Zr]=Ir,Bi=pt>=$r.hours&&_n>=$r.minutes,Qi=pt<Zr.hours||pt===Zr.hours&&_n<Zr.minutes;if($r.hours<Zr.hours){if(Bi&&Qi)return!0}else if(Bi||Qi)return!0}else if(Ir.hours===pt&&Ir.minutes===_n)return!0;return!1});if(-1!==Bn)return zn[Bn]}return function dn(M,re,V){const ee=(0,b.cg1)(M),Qe=Ce([ee[b.wAp.DayPeriodsFormat],ee[b.wAp.DayPeriodsStandalone]],re);return Ce(Qe,V)}(re,ye,ee)[pt<12?0:1];case En.Eras:return function ir(M,re){return Ce((0,b.cg1)(M)[b.wAp.Eras],re)}(re,ee)[M.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${V}`)}}(ye,Qe,M,re,V,ee)}}function Rn(M){return function(re,V,ee){const ye=-1*ee,Qe=nt(V,gt.MinusSign),pt=ye>0?Math.floor(ye/60):Math.ceil(ye/60);switch(M){case sn.Short:return(ye>=0?"+":"")+mn(pt,2,Qe)+mn(Math.abs(ye%60),2,Qe);case sn.ShortGMT:return"GMT"+(ye>=0?"+":"")+mn(pt,1,Qe);case sn.Long:return"GMT"+(ye>=0?"+":"")+mn(pt,2,Qe)+":"+mn(Math.abs(ye%60),2,Qe);case sn.Extended:return 0===ee?"Z":(ye>=0?"+":"")+mn(pt,2,Qe)+":"+mn(Math.abs(ye%60),2,Qe);default:throw new Error(`Unknown zone width "${M}"`)}}}const Xn=0,Mr=4;function tt(M){return Xt(M.getFullYear(),M.getMonth(),M.getDate()+(Mr-M.getDay()))}function Se(M,re=!1){return function(V,ee){let ye;if(re){const Qe=new Date(V.getFullYear(),V.getMonth(),1).getDay()-1,pt=V.getDate();ye=1+Math.floor((pt+Qe)/7)}else{const Qe=tt(V),pt=function gi(M){const re=Xt(M,Xn,1).getDay();return Xt(M,0,1+(re<=Mr?Mr:Mr+7)-re)}(Qe.getFullYear()),_n=Qe.getTime()-pt.getTime();ye=1+Math.round(_n/6048e5)}return mn(ye,M,nt(ee,gt.MinusSign))}}function Ze(M,re=!1){return function(V,ee){return mn(tt(V).getFullYear(),M,nt(ee,gt.MinusSign),re)}}const It={};function Zt(M,re){M=M.replace(/:/g,"");const V=Date.parse("Jan 01, 1970 00:00:00 "+M)/6e4;return isNaN(V)?re:V}function q(M){return M instanceof Date&&!isNaN(M.valueOf())}function ho(M,re){re=encodeURIComponent(re);for(const V of M.split(";")){const ee=V.indexOf("="),[ye,Qe]=-1==ee?[V,""]:[V.slice(0,ee),V.slice(ee+1)];if(ye.trim()===re)return decodeURIComponent(Qe)}return null}const hs=/\s+/,fo=[];let po=(()=>{class M{constructor(V,ee,ye,Qe){this._iterableDiffers=V,this._keyValueDiffers=ee,this._ngEl=ye,this._renderer=Qe,this.initialClasses=fo,this.stateMap=new Map}set klass(V){this.initialClasses=null!=V?V.trim().split(hs):fo}set ngClass(V){this.rawClass="string"==typeof V?V.trim().split(hs):V}ngDoCheck(){for(const ee of this.initialClasses)this._updateState(ee,!0);const V=this.rawClass;if(Array.isArray(V)||V instanceof Set)for(const ee of V)this._updateState(ee,!0);else if(null!=V)for(const ee of Object.keys(V))this._updateState(ee,!!V[ee]);this._applyStateDiff()}_updateState(V,ee){const ye=this.stateMap.get(V);void 0!==ye?(ye.enabled!==ee&&(ye.changed=!0,ye.enabled=ee),ye.touched=!0):this.stateMap.set(V,{enabled:ee,changed:!0,touched:!0})}_applyStateDiff(){for(const V of this.stateMap){const ee=V[0],ye=V[1];ye.changed?(this._toggleClass(ee,ye.enabled),ye.changed=!1):ye.touched||(ye.enabled&&this._toggleClass(ee,!1),this.stateMap.delete(ee)),ye.touched=!1}}_toggleClass(V,ee){(V=V.trim()).length>0&&V.split(hs).forEach(ye=>{ee?this._renderer.addClass(this._ngEl.nativeElement,ye):this._renderer.removeClass(this._ngEl.nativeElement,ye)})}static#e=this.\u0275fac=function(ee){return new(ee||M)(b.Y36(b.ZZ4),b.Y36(b.aQg),b.Y36(b.SBq),b.Y36(b.Qsj))};static#t=this.\u0275dir=b.lG2({type:M,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return M})();class ai{constructor(re,V,ee,ye){this.$implicit=re,this.ngForOf=V,this.index=ee,this.count=ye}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let $s=(()=>{class M{set ngForOf(V){this._ngForOf=V,this._ngForOfDirty=!0}set ngForTrackBy(V){this._trackByFn=V}get ngForTrackBy(){return this._trackByFn}constructor(V,ee,ye){this._viewContainer=V,this._template=ee,this._differs=ye,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(V){V&&(this._template=V)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const V=this._ngForOf;!this._differ&&V&&(this._differ=this._differs.find(V).create(this.ngForTrackBy))}if(this._differ){const V=this._differ.diff(this._ngForOf);V&&this._applyChanges(V)}}_applyChanges(V){const ee=this._viewContainer;V.forEachOperation((ye,Qe,pt)=>{if(null==ye.previousIndex)ee.createEmbeddedView(this._template,new ai(ye.item,this._ngForOf,-1,-1),null===pt?void 0:pt);else if(null==pt)ee.remove(null===Qe?void 0:Qe);else if(null!==Qe){const _n=ee.get(Qe);ee.move(_n,pt),qi(_n,ye)}});for(let ye=0,Qe=ee.length;ye<Qe;ye++){const _n=ee.get(ye).context;_n.index=ye,_n.count=Qe,_n.ngForOf=this._ngForOf}V.forEachIdentityChange(ye=>{qi(ee.get(ye.currentIndex),ye)})}static ngTemplateContextGuard(V,ee){return!0}static#e=this.\u0275fac=function(ee){return new(ee||M)(b.Y36(b.s_b),b.Y36(b.Rgc),b.Y36(b.ZZ4))};static#t=this.\u0275dir=b.lG2({type:M,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return M})();function qi(M,re){M.context.$implicit=re.item}let fs=(()=>{class M{constructor(V,ee){this._viewContainer=V,this._context=new Ja,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ee}set ngIf(V){this._context.$implicit=this._context.ngIf=V,this._updateView()}set ngIfThen(V){mi("ngIfThen",V),this._thenTemplateRef=V,this._thenViewRef=null,this._updateView()}set ngIfElse(V){mi("ngIfElse",V),this._elseTemplateRef=V,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(V,ee){return!0}static#e=this.\u0275fac=function(ee){return new(ee||M)(b.Y36(b.s_b),b.Y36(b.Rgc))};static#t=this.\u0275dir=b.lG2({type:M,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return M})();class Ja{constructor(){this.$implicit=null,this.ngIf=null}}function mi(M,re){if(re&&!re.createEmbeddedView)throw new Error(`${M} must be a TemplateRef, but received '${(0,b.AaK)(re)}'.`)}let go=(()=>{class M{constructor(V){this._viewContainerRef=V,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(V){if(V.ngTemplateOutlet||V.ngTemplateOutletInjector){const ee=this._viewContainerRef;if(this._viewRef&&ee.remove(ee.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:ye,ngTemplateOutletContext:Qe,ngTemplateOutletInjector:pt}=this;this._viewRef=ee.createEmbeddedView(ye,Qe,pt?{injector:pt}:void 0)}else this._viewRef=null}else this._viewRef&&V.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(ee){return new(ee||M)(b.Y36(b.s_b))};static#t=this.\u0275dir=b.lG2({type:M,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[b.TTD]})}return M})();const pa=new b.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),ea=new b.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Qr=(()=>{class M{constructor(V,ee,ye){this.locale=V,this.defaultTimezone=ee,this.defaultOptions=ye}transform(V,ee,ye,Qe){if(null==V||""===V||V!=V)return null;try{return Jn(V,ee??this.defaultOptions?.dateFormat??"mediumDate",Qe||this.locale,ye??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(pt){throw function Zi(M,re){return new b.vHH(2100,!1)}()}}static#e=this.\u0275fac=function(ee){return new(ee||M)(b.Y36(b.soG,16),b.Y36(pa,24),b.Y36(ea,24))};static#t=this.\u0275pipe=b.Yjl({name:"date",type:M,pure:!0,standalone:!0})}return M})(),Nr=(()=>{class M{static#e=this.\u0275fac=function(ee){return new(ee||M)};static#t=this.\u0275mod=b.oAB({type:M});static#n=this.\u0275inj=b.cJS({})}return M})();const wi="browser",Ws="server";function wr(M){return M===Ws}let La=(()=>{class M{static#e=this.\u0275prov=(0,b.Yz7)({token:M,providedIn:"root",factory:()=>new is((0,b.LFG)(he),window)})}return M})();class is{constructor(re,V){this.document=re,this.window=V,this.offset=()=>[0,0]}setOffset(re){this.offset=Array.isArray(re)?()=>re:re}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(re){this.supportsScrolling()&&this.window.scrollTo(re[0],re[1])}scrollToAnchor(re){if(!this.supportsScrolling())return;const V=function Wr(M,re){const V=M.getElementById(re)||M.getElementsByName(re)[0];if(V)return V;if("function"==typeof M.createTreeWalker&&M.body&&"function"==typeof M.body.attachShadow){const ee=M.createTreeWalker(M.body,NodeFilter.SHOW_ELEMENT);let ye=ee.currentNode;for(;ye;){const Qe=ye.shadowRoot;if(Qe){const pt=Qe.getElementById(re)||Qe.querySelector(`[name="${re}"]`);if(pt)return pt}ye=ee.nextNode()}}return null}(this.document,re);V&&(this.scrollToElement(V),V.focus())}setHistoryScrollRestoration(re){this.supportsScrolling()&&(this.window.history.scrollRestoration=re)}scrollToElement(re){const V=re.getBoundingClientRect(),ee=V.left+this.window.pageXOffset,ye=V.top+this.window.pageYOffset,Qe=this.offset();this.window.scrollTo(ee-Qe[0],ye-Qe[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class As{}},9468:(Bt,Ge,K)=>{K.d(Ge,{QbO:()=>Hg,tb:()=>OI,AFp:()=>L_,ip1:()=>x1,hGG:()=>yD,z2F:()=>Uc,Ojb:()=>sT,sBO:()=>uD,Sil:()=>vI,EJc:()=>yI,ktI:()=>Di,Xts:()=>Vd,SBq:()=>Fu,lqb:()=>Mc,qLn:()=>Lu,vpe:()=>El,XFs:()=>Xt,OlP:()=>Rn,zs3:()=>oa,ZZ4:()=>Q1,aQg:()=>J1,soG:()=>R1,YKP:()=>Lm,h0i:()=>Rl,PXZ:()=>HC,R0b:()=>Zo,FiY:()=>gg,Lbi:()=>qo,g9A:()=>ro,Qsj:()=>xb,FYo:()=>Yv,JOm:()=>wv,q3G:()=>xi,tp0:()=>Wl,Rgc:()=>Yp,dDg:()=>nD,eoX:()=>ng,q4F:()=>Jv,GfV:()=>W_,s_b:()=>f1,ifc:()=>ws,gHi:()=>Kg,VuI:()=>wD,LMc:()=>xS,MMx:()=>X0,Lck:()=>oE,eFA:()=>MI,Gpc:()=>xn,f3M:()=>tr,$WT:()=>rs,_c5:()=>X1,qFp:()=>ig,rg0:()=>jr,c2e:()=>YE,zSh:()=>Bg,HDt:()=>P1,wAp:()=>Cm,vHH:()=>je,lri:()=>SI,rWj:()=>j1,JZr:()=>_t,EiD:()=>Gh,mCW:()=>Uv,qzn:()=>cp,JVY:()=>Vh,pB0:()=>Pg,eBb:()=>D_,L6k:()=>lp,LAX:()=>Bv,cg1:()=>Dw,kL8:()=>V0,dqk:()=>cr,Z0I:()=>yt,eJc:()=>Ky,QGY:()=>Ml,F4k:()=>pm,RDi:()=>Ji,AaK:()=>Ot,z3N:()=>Zl,zW0:()=>So,qOj:()=>hd,Xq5:()=>We,TTD:()=>Bi,_Bn:()=>Vw,jDz:()=>cE,xp6:()=>Xd,uIk:()=>lh,Tol:()=>Hu,ekj:()=>k0,Suo:()=>SE,Xpm:()=>Ro,lG2:()=>Qr,Yz7:()=>Ce,cJS:()=>Re,oAB:()=>mo,Yjl:()=>Po,Y36:()=>Cl,_UZ:()=>um,BQk:()=>gh,ynx:()=>ru,qZA:()=>pd,TgZ:()=>ph,EpF:()=>Vi,n5z:()=>Tu,Ikx:()=>U0,SDv:()=>nE,LFG:()=>Ln,$8M:()=>L,$Z:()=>rf,NdJ:()=>S0,CRH:()=>AE,kcU:()=>Ch,O4$:()=>$o,oxw:()=>Up,ALo:()=>o1,lcZ:()=>Zw,xi3:()=>a1,Hsn:()=>Xb,F$t:()=>A0,Q6J:()=>nu,s9C:()=>Cy,MGl:()=>Sy,VKq:()=>$w,WLB:()=>s1,kEZ:()=>_E,iGM:()=>Jp,MAs:()=>Rs,KtG:()=>Ed,Jf7:()=>l0,CHM:()=>Zu,uOi:()=>nl,LSH:()=>Ud,P3R:()=>M_,YNc:()=>la,W1O:()=>w1,_uU:()=>dw,Oqu:()=>fw,hij:()=>es,lnq:()=>vm,Gf:()=>b1});var b=K(8645),oe=K(7394),u=K(5592),we=K(3019),de=K(5619),he=K(2096),Te=K(4829),Ue=K(305),Ie=K(9360);function ne(r={}){const{connector:s=(()=>new b.x),resetOnError:a=!0,resetOnComplete:d=!0,resetOnRefCountZero:g=!0}=r;return y=>{let I,S,R,z=0,ie=!1,me=!1;const Me=()=>{S?.unsubscribe(),S=void 0},Le=()=>{Me(),I=R=void 0,ie=me=!1},ft=()=>{const Mt=I;Le(),Mt?.unsubscribe()};return(0,Ie.e)((Mt,en)=>{z++,!me&&!ie&&Me();const Tn=R=R??s();en.add(()=>{z--,0===z&&!me&&!ie&&(S=le(ft,g))}),Tn.subscribe(en),!I&&z>0&&(I=new Ue.Hp({next:wt=>Tn.next(wt),error:wt=>{me=!0,Me(),S=le(Le,a,wt),Tn.error(wt)},complete:()=>{ie=!0,Me(),S=le(Le,d),Tn.complete()}}),(0,Te.Xf)(Mt).subscribe(I))})(y)}}function le(r,s,...a){if(!0===s)return void r();if(!1===s)return;const d=new Ue.Hp({next:()=>{d.unsubscribe(),r()}});return(0,Te.Xf)(s(...a)).subscribe(d)}var Ae=K(4664),Xe=K(3997);function Pe(r){for(let s in r)if(r[s]===Pe)return s;throw Error("Could not find renamed property on target object.")}function st(r,s){for(const a in s)s.hasOwnProperty(a)&&!r.hasOwnProperty(a)&&(r[a]=s[a])}function Ot(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(Ot).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const s=r.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function Ut(r,s){return null==r||""===r?null===s?"":s:null==s||""===s?r:r+" "+s}const Ft=Pe({__forward_ref__:Pe});function xn(r){return r.__forward_ref__=xn,r.toString=function(){return Ot(this())},r}function Rt(r){return mt(r)?r():r}function mt(r){return"function"==typeof r&&r.hasOwnProperty(Ft)&&r.__forward_ref__===xn}function ot(r){return r&&!!r.\u0275providers}const _t="https://g.co/ng/security#xss";class je extends Error{constructor(s,a){super(function ve(r,s){return`NG0${Math.abs(r)}${s?": "+s:""}`}(s,a)),this.code=s}}function Ke(r){return"string"==typeof r?r:null==r?"":String(r)}function Sn(r,s){throw new je(-201,!1)}function Dt(r,s,a,d){throw new Error(`ASSERTION ERROR: ${r}`+(null==d?"":` [Expected=> ${a} ${d} ${s} <=Actual]`))}function Ce(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function Re(r){return{providers:r.providers||[],imports:r.imports||[]}}function at(r){return At(r,sn)||At(r,En)}function yt(r){return null!==at(r)}function At(r,s){return r.hasOwnProperty(s)?r[s]:null}function An(r){return r&&(r.hasOwnProperty(Kt)||r.hasOwnProperty(Jn))?r[Kt]:null}const sn=Pe({\u0275prov:Pe}),Kt=Pe({\u0275inj:Pe}),En=Pe({ngInjectableDef:Pe}),Jn=Pe({ngInjectorDef:Pe});var Xt=function(r){return r[r.Default=0]="Default",r[r.Host=1]="Host",r[r.Self=2]="Self",r[r.SkipSelf=4]="SkipSelf",r[r.Optional=8]="Optional",r}(Xt||{});let Ar;function br(){return Ar}function mn(r){const s=Ar;return Ar=r,s}function ar(r,s,a){const d=at(r);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:a&Xt.Optional?null:void 0!==s?s:void Sn(Ot(r))}const cr=globalThis;class Rn{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Ce({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const U={},G="__NG_DI_FLAG__",q="ngTempTokenPath",be=/\n/gm,Tt="__source";let rn;function On(r){const s=rn;return rn=r,s}function Wt(r,s=Xt.Default){if(void 0===rn)throw new je(-203,!1);return null===rn?ar(r,void 0,s):rn.get(r,s&Xt.Optional?null:void 0,s)}function Ln(r,s=Xt.Default){return(br()||Wt)(Rt(r),s)}function tr(r,s=Xt.Default){return Ln(r,ks(s))}function ks(r){return typeof r>"u"||"number"==typeof r?r:0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)}function ua(r){const s=[];for(let a=0;a<r.length;a++){const d=Rt(r[a]);if(Array.isArray(d)){if(0===d.length)throw new je(900,!1);let g,y=Xt.Default;for(let I=0;I<d.length;I++){const S=d[I],R=uo(S);"number"==typeof R?-1===R?g=S.token:y|=R:g=S}s.push(Ln(g,y))}else s.push(Ln(d))}return s}function ns(r,s){return r[G]=s,r.prototype[G]=s,r}function uo(r){return r[G]}function Yr(r){return{toString:r}.toString()}var da=function(r){return r[r.OnPush=0]="OnPush",r[r.Default=1]="Default",r}(da||{}),ws=function(r){return r[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",r}(ws||{});const Is={},lr=[],ho=Pe({\u0275cmp:Pe}),hs=Pe({\u0275dir:Pe}),fo=Pe({\u0275pipe:Pe}),po=Pe({\u0275mod:Pe}),Ts=Pe({\u0275fac:Pe}),js=Pe({__NG_ELEMENT_ID__:Pe}),ai=Pe({__NG_ENV_ID__:Pe});function $s(r,s,a){let d=r.length;for(;;){const g=r.indexOf(s,a);if(-1===g)return g;if(0===g||r.charCodeAt(g-1)<=32){const y=s.length;if(g+y===d||r.charCodeAt(g+y)<=32)return g}a=g+1}}function qi(r,s,a){let d=0;for(;d<a.length;){const g=a[d];if("number"==typeof g){if(0!==g)break;d++;const y=a[d++],I=a[d++],S=a[d++];r.setAttribute(s,I,S,y)}else{const y=g,I=a[++d];fs(y)?r.setProperty(s,y,I):r.setAttribute(s,y,I),d++}}return d}function Qa(r){return 3===r||4===r||6===r}function fs(r){return 64===r.charCodeAt(0)}function Ja(r,s){if(null!==s&&0!==s.length)if(null===r||0===r.length)r=s.slice();else{let a=-1;for(let d=0;d<s.length;d++){const g=s[d];"number"==typeof g?a=g:0===a||mi(r,a,g,null,-1===a||2===a?s[++d]:null)}}return r}function mi(r,s,a,d,g){let y=0,I=r.length;if(-1===s)I=-1;else for(;y<r.length;){const S=r[y++];if("number"==typeof S){if(S===s){I=-1;break}if(S>s){I=y-1;break}}}for(;y<r.length;){const S=r[y];if("number"==typeof S)break;if(S===a){if(null===d)return void(null!==g&&(r[y+1]=g));if(d===r[y+1])return void(r[y+2]=g)}y++,null!==d&&y++,null!==g&&y++}-1!==I&&(r.splice(I,0,s),y=I+1),r.splice(y++,0,a),null!==d&&r.splice(y++,0,d),null!==g&&r.splice(y++,0,g)}const Pa="ng-template";function Fs(r,s,a){let d=0,g=!0;for(;d<r.length;){let y=r[d++];if("string"==typeof y&&g){const I=r[d++];if(a&&"class"===y&&-1!==$s(I.toLowerCase(),s,0))return!0}else{if(1===y){for(;d<r.length&&"string"==typeof(y=r[d++]);)if(y.toLowerCase()===s)return!0;return!1}"number"==typeof y&&(g=!1)}}return!1}function ha(r){return 4===r.type&&r.value!==Pa}function fa(r,s,a){return s===(4!==r.type||a?r.value:Pa)}function Es(r,s,a){let d=4;const g=r.attrs||[],y=function Hc(r){for(let s=0;s<r.length;s++)if(Qa(r[s]))return s;return r.length}(g);let I=!1;for(let S=0;S<s.length;S++){const R=s[S];if("number"!=typeof R){if(!I)if(4&d){if(d=2|1&d,""!==R&&!fa(r,R,a)||""===R&&1===s.length){if(ci(d))return!1;I=!0}}else{const z=8&d?R:s[++S];if(8&d&&null!==r.attrs){if(!Fs(r.attrs,z,a)){if(ci(d))return!1;I=!0}continue}const me=Ds(8&d?"class":R,g,ha(r),a);if(-1===me){if(ci(d))return!1;I=!0;continue}if(""!==z){let Me;Me=me>y?"":g[me+1].toLowerCase();const Le=8&d?Me:null;if(Le&&-1!==$s(Le,z,0)||2&d&&z!==Me){if(ci(d))return!1;I=!0}}}}else{if(!I&&!ci(d)&&!ci(R))return!1;if(I&&ci(R))continue;I=!1,d=R|1&d}}return ci(d)||I}function ci(r){return 0==(1&r)}function Ds(r,s,a,d){if(null===s)return-1;let g=0;if(d||!a){let y=!1;for(;g<s.length;){const I=s[g];if(I===r)return g;if(3===I||6===I)y=!0;else{if(1===I||2===I){let S=s[++g];for(;"string"==typeof S;)S=s[++g];continue}if(4===I)break;if(0===I){g+=4;continue}}g+=y?1:2}return-1}return function Zi(r,s){let a=r.indexOf(4);if(a>-1)for(a++;a<r.length;){const d=r[a];if("number"==typeof d)return-1;if(d===s)return a;a++}return-1}(s,r)}function Ls(r,s,a=!1){for(let d=0;d<s.length;d++)if(Es(r,s[d],a))return!0;return!1}function ll(r,s){e:for(let a=0;a<s.length;a++){const d=s[a];if(r.length===d.length){for(let g=0;g<r.length;g++)if(r[g]!==d[g])continue e;return!0}}return!1}function li(r,s){return r?":not("+s.trim()+")":s}function Gc(r){let s=r[0],a=1,d=2,g="",y=!1;for(;a<r.length;){let I=r[a];if("string"==typeof I)if(2&d){const S=r[++a];g+="["+I+(S.length>0?'="'+S+'"':"")+"]"}else 8&d?g+="."+I:4&d&&(g+=" "+I);else""!==g&&!ci(I)&&(s+=li(y,g),g=""),d=I,y=y||!ci(d);a++}return""!==g&&(s+=li(y,g)),s}function Ro(r){return Yr(()=>{const s=Ki(r),a={...s,decls:r.decls,vars:r.vars,template:r.template,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,onPush:r.changeDetection===da.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&r.dependencies||null,getStandaloneInjector:null,signals:r.signals??!1,data:r.data||{},encapsulation:r.encapsulation||ws.Emulated,styles:r.styles||lr,_:null,schemas:r.schemas||null,tView:null,id:""};zs(a);const d=r.dependencies;return a.directiveDefs=Ci(d,!1),a.pipeDefs=Ci(d,!0),a.id=function Cs(r){let s=0;const a=[r.selectors,r.ngContentSelectors,r.hostVars,r.hostAttrs,r.consts,r.vars,r.decls,r.encapsulation,r.standalone,r.signals,r.exportAs,JSON.stringify(r.inputs),JSON.stringify(r.outputs),Object.getOwnPropertyNames(r.type.prototype),!!r.contentQueries,!!r.viewQuery].join("|");for(const g of a)s=Math.imul(31,s)+g.charCodeAt(0)<<0;return s+=2147483648,"c"+s}(a),a})}function ps(r){return hr(r)||Jr(r)}function ul(r){return null!==r}function mo(r){return Yr(()=>({type:r.type,bootstrap:r.bootstrap||lr,declarations:r.declarations||lr,imports:r.imports||lr,exports:r.exports||lr,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function ea(r,s){if(null==r)return Is;const a={};for(const d in r)if(r.hasOwnProperty(d)){let g=r[d],y=g;Array.isArray(g)&&(y=g[1],g=g[0]),a[g]=d,s&&(s[g]=y)}return a}function Qr(r){return Yr(()=>{const s=Ki(r);return zs(s),s})}function Po(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function hr(r){return r[ho]||null}function Jr(r){return r[hs]||null}function Gi(r){return r[fo]||null}function rs(r){const s=hr(r)||Jr(r)||Gi(r);return null!==s&&s.standalone}function ui(r,s){const a=r[po]||null;if(!a&&!0===s)throw new Error(`Type ${Ot(r)} does not have '\u0275mod' property.`);return a}function Ki(r){const s={};return{type:r.type,providersResolver:null,factory:null,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:s,inputTransforms:null,inputConfig:r.inputs||Is,exportAs:r.exportAs||null,standalone:!0===r.standalone,signals:!0===r.signals,selectors:r.selectors||lr,viewQuery:r.viewQuery||null,features:r.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ea(r.inputs,s),outputs:ea(r.outputs)}}function zs(r){r.features?.forEach(s=>s(r))}function Ci(r,s){if(!r)return null;const a=s?Gi:ps;return()=>("function"==typeof r?r():r).map(d=>a(d)).filter(ul)}const ur=0,Lt=1,jn=2,Nr=3,wi=4,Ws=5,ti=6,sr=7,er=8,wr=9,Ss=10,Pn=11,_o=12,La=13,is=14,Wr=15,gs=16,As=17,di=18,ko=19,jc=20,qs=21,ki=22,Zs=23,Fo=24,$n=25,Lo=1,Ii=2,Si=7,Xa=9,Fr=11;function Gr(r){return Array.isArray(r)&&"object"==typeof r[Lo]}function ji(r){return Array.isArray(r)&&!0===r[Lo]}function ta(r){return 0!=(4&r.flags)}function Ys(r){return r.componentOffset>-1}function yo(r){return 1==(1&r.flags)}function yi(r){return!!r.template}function Ai(r){return 0!=(512&r[jn])}function Ha(r,s){return r.hasOwnProperty(Ts)?r[Ts]:null}let Fi=null,ia=!1;function ss(r){const s=Fi;return Fi=r,s}const Vo={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function hi(r){if(!Li(r)||r.dirty){if(!r.producerMustRecompute(r)&&!_a(r))return void(r.dirty=!1);r.producerRecomputeValue(r),r.dirty=!1}}function wd(r){r.dirty=!0,function fl(r){if(void 0===r.liveConsumerNode)return;const s=ia;ia=!0;try{for(const a of r.liveConsumerNode)a.dirty||wd(a)}finally{ia=s}}(r),r.consumerMarkedDirty?.(r)}function bo(r){return r&&(r.nextProducerIndex=0),ss(r)}function Bs(r,s){if(ss(s),r&&void 0!==r.producerNode&&void 0!==r.producerIndexOfThis&&void 0!==r.producerLastReadVersion){if(Li(r))for(let a=r.nextProducerIndex;a<r.producerNode.length;a++)Ns(r.producerNode[a],r.producerIndexOfThis[a]);for(;r.producerNode.length>r.nextProducerIndex;)r.producerNode.pop(),r.producerLastReadVersion.pop(),r.producerIndexOfThis.pop()}}function _a(r){os(r);for(let s=0;s<r.producerNode.length;s++){const a=r.producerNode[s],d=r.producerLastReadVersion[s];if(d!==a.version||(hi(a),d!==a.version))return!0}return!1}function Ec(r){if(os(r),Li(r))for(let s=0;s<r.producerNode.length;s++)Ns(r.producerNode[s],r.producerIndexOfThis[s]);r.producerNode.length=r.producerLastReadVersion.length=r.producerIndexOfThis.length=0,r.liveConsumerNode&&(r.liveConsumerNode.length=r.liveConsumerIndexOfThis.length=0)}function Ns(r,s){if(function Ga(r){r.liveConsumerNode??=[],r.liveConsumerIndexOfThis??=[]}(r),os(r),1===r.liveConsumerNode.length)for(let d=0;d<r.producerNode.length;d++)Ns(r.producerNode[d],r.producerIndexOfThis[d]);const a=r.liveConsumerNode.length-1;if(r.liveConsumerNode[s]=r.liveConsumerNode[a],r.liveConsumerIndexOfThis[s]=r.liveConsumerIndexOfThis[a],r.liveConsumerNode.length--,r.liveConsumerIndexOfThis.length--,s<r.liveConsumerNode.length){const d=r.liveConsumerIndexOfThis[s],g=r.liveConsumerNode[s];os(g),g.producerIndexOfThis[d]=s}}function Li(r){return r.consumerIsAlwaysLive||(r?.liveConsumerNode?.length??0)>0}function os(r){r.producerNode??=[],r.producerIndexOfThis??=[],r.producerLastReadVersion??=[]}let Wc=null;function jr(r){const s=ss(null);try{return r()}finally{ss(s)}}const Bn=()=>{},Ir=(()=>({...Vo,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:r=>{r.schedule(r.ref)},hasRun:!1,cleanupFn:Bn}))();class Zr{constructor(s,a,d){this.previousValue=s,this.currentValue=a,this.firstChange=d}isFirstChange(){return this.firstChange}}function Bi(){return Qi}function Qi(r){return r.type.prototype.ngOnChanges&&(r.setInput=_s),Ni}function Ni(){const r=Js(this),s=r?.current;if(s){const a=r.previous;if(a===Is)r.previous=s;else for(let d in s)a[d]=s[d];r.current=null,this.ngOnChanges(s)}}function _s(r,s,a,d){const g=this.declaredInputs[a],y=Js(r)||function ja(r,s){return r[Ho]=s}(r,{previous:Is,current:null}),I=y.current||(y.current={}),S=y.previous,R=S[g];I[g]=new Zr(R&&R.currentValue,s,S===Is),r[d]=s}Bi.ngInherit=!0;const Ho="__ngSimpleChanges__";function Js(r){return r[Ho]||null}const Ui=function(r,s,a){},rc="svg";function ni(r){for(;Array.isArray(r);)r=r[ur];return r}function pl(r,s){return ni(s[r])}function ys(r,s){return ni(s[r.index])}function $u(r,s){return r.data[s]}function Cc(r,s){return r[s]}function fi(r,s){const a=s[r];return Gr(a)?a:a[ur]}function va(r,s){return null==s?null:r[s]}function Wu(r){r[As]=0}function Ih(r){1024&r[jn]||(r[jn]|=1024,Sc(r,1))}function ei(r){1024&r[jn]&&(r[jn]&=-1025,Sc(r,-1))}function Sc(r,s){let a=r[Nr];if(null===a)return;a[Ws]+=s;let d=a;for(a=a[Nr];null!==a&&(1===s&&1===d[Ws]||-1===s&&0===d[Ws]);)a[Ws]+=s,d=a,a=a[Nr]}function Ac(r,s){if(256==(256&r[jn]))throw new je(911,!1);null===r[qs]&&(r[qs]=[]),r[qs].push(s)}const pn={lFrame:He(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function kl(){return pn.bindingsEnabled}function ba(){return null!==pn.skipHydrationRootTNode}function dt(){return pn.lFrame.lView}function Tr(){return pn.lFrame.tView}function Zu(r){return pn.lFrame.contextLView=r,r[er]}function Ed(r){return pn.lFrame.contextLView=null,r}function cs(){let r=Ku();for(;null!==r&&64===r.type;)r=r.parent;return r}function Ku(){return pn.lFrame.currentTNode}function ml(){const r=pn.lFrame,s=r.currentTNode;return r.isParent?s:s.parent}function Io(r,s){const a=pn.lFrame;a.currentTNode=r,a.isParent=s}function uu(){return pn.lFrame.isParent}function ic(){pn.lFrame.isParent=!1}function Os(){const r=pn.lFrame;let s=r.bindingRootIndex;return-1===s&&(s=r.bindingRootIndex=r.tView.bindingStartIndex),s}function jo(){return pn.lFrame.bindingIndex++}function Ia(r){const s=pn.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+r,a}function Bl(r){pn.lFrame.inI18n=r}function Dh(r,s){const a=pn.lFrame;a.bindingIndex=a.bindingRootIndex=r,C(s)}function C(r){pn.lFrame.currentDirectiveIndex=r}function D(){return pn.lFrame.currentQueryIndex}function P(r){pn.lFrame.currentQueryIndex=r}function j(r){const s=r[Lt];return 2===s.type?s.declTNode:1===s.type?r[ti]:null}function se(r,s,a){if(a&Xt.SkipSelf){let g=s,y=r;for(;!(g=g.parent,null!==g||a&Xt.Host||(g=j(y),null===g||(y=y[is],10&g.type))););if(null===g)return!1;s=g,r=y}const d=pn.lFrame=ze();return d.currentTNode=s,d.lView=r,!0}function _e(r){const s=ze(),a=r[Lt];pn.lFrame=s,s.currentTNode=a.firstChild,s.lView=r,s.tView=a,s.contextLView=r,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function ze(){const r=pn.lFrame,s=null===r?null:r.child;return null===s?He(r):s}function He(r){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=s),s}function zt(){const r=pn.lFrame;return pn.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const Un=zt;function Or(){const r=zt();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function zr(){return pn.lFrame.selectedIndex}function sa(r){pn.lFrame.selectedIndex=r}function Rr(){const r=pn.lFrame;return $u(r.tView,r.selectedIndex)}function $o(){pn.lFrame.currentNamespace=rc}function Ch(){!function Ta(){pn.lFrame.currentNamespace=null}()}let Sh=!0;function Rf(){return Sh}function Kc(r){Sh=r}function hu(r,s){for(let a=s.directiveStart,d=s.directiveEnd;a<d;a++){const y=r.data[a].type.prototype,{ngAfterContentInit:I,ngAfterContentChecked:S,ngAfterViewInit:R,ngAfterViewChecked:z,ngOnDestroy:ie}=y;I&&(r.contentHooks??=[]).push(-a,I),S&&((r.contentHooks??=[]).push(a,S),(r.contentCheckHooks??=[]).push(a,S)),R&&(r.viewHooks??=[]).push(-a,R),z&&((r.viewHooks??=[]).push(a,z),(r.viewCheckHooks??=[]).push(a,z)),null!=ie&&(r.destroyHooks??=[]).push(a,ie)}}function Yc(r,s,a){fu(r,s,3,a)}function _l(r,s,a,d){(3&r[jn])===a&&fu(r,s,a,d)}function Cd(r,s){let a=r[jn];(3&a)===s&&(a&=8191,a+=1,r[jn]=a)}function fu(r,s,a,d){const y=d??-1,I=s.length-1;let S=0;for(let R=void 0!==d?65535&r[As]:0;R<I;R++)if("number"==typeof s[R+1]){if(S=s[R],null!=d&&S>=d)break}else s[R]<0&&(r[As]+=65536),(S<y||-1==y)&&(oc(r,a,s,R),r[As]=(4294901760&r[As])+R+2),R++}function Sd(r,s){Ui(4,r,s);const a=ss(null);try{s.call(r)}finally{ss(a),Ui(5,r,s)}}function oc(r,s,a,d){const g=a[d]<0,y=a[d+1],S=r[g?-a[d]:a[d]];g?r[jn]>>13<r[As]>>16&&(3&r[jn])===s&&(r[jn]+=8192,Sd(S,y)):Sd(S,y)}const yl=-1;class Xu{constructor(s,a,d){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=d}}function pu(r){return r!==yl}function Vl(r){return 32767&r}function Hl(r,s){let a=function Oh(r){return r>>16}(r),d=s;for(;a>0;)d=d[is],a--;return d}let gu=!0;function Qc(r){const s=gu;return gu=r,s}const mu=255,ed=5;let _u=0;const To={};function vl(r,s){const a=vu(r,s);if(-1!==a)return a;const d=s[Lt];d.firstCreatePass&&(r.injectorIndex=s.length,Jc(d.data,r),Jc(s,null),Jc(d.blueprint,null));const g=bu(r,s),y=r.injectorIndex;if(pu(g)){const I=Vl(g),S=Hl(g,s),R=S[Lt].data;for(let z=0;z<8;z++)s[y+z]=S[I+z]|R[I+z]}return s[y+8]=g,y}function Jc(r,s){r.push(0,0,0,0,0,0,0,0,s)}function vu(r,s){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===s[r.injectorIndex+8]?-1:r.injectorIndex}function bu(r,s){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let a=0,d=null,g=s;for(;null!==g;){if(d=O(g),null===d)return yl;if(a++,g=g[is],-1!==d.injectorIndex)return d.injectorIndex|a<<16}return yl}function Gl(r,s,a){!function yu(r,s,a){let d;"string"==typeof a?d=a.charCodeAt(0)||0:a.hasOwnProperty(js)&&(d=a[js]),null==d&&(d=a[js]=_u++);const g=d&mu;s.data[r+(g>>ed)]|=1<<g}(r,s,a)}function lg(r,s,a){if(a&Xt.Optional||void 0!==r)return r;Sn()}function Ff(r,s,a,d){if(a&Xt.Optional&&void 0===d&&(d=null),!(a&(Xt.Self|Xt.Host))){const g=r[wr],y=mn(void 0);try{return g?g.get(s,d,a&Xt.Optional):ar(s,d,a&Xt.Optional)}finally{mn(y)}}return lg(d,0,a)}function jl(r,s,a,d=Xt.Default,g){if(null!==r){if(2048&s[jn]&&!(d&Xt.Self)){const I=function Uf(r,s,a,d,g){let y=r,I=s;for(;null!==y&&null!==I&&2048&I[jn]&&!(512&I[jn]);){const S=Lf(y,I,a,d|Xt.Self,To);if(S!==To)return S;let R=y.parent;if(!R){const z=I[jc];if(z){const ie=z.get(a,To,d);if(ie!==To)return ie}R=O(I),I=I[is]}y=R}return g}(r,s,a,d,To);if(I!==To)return I}const y=Lf(r,s,a,d,To);if(y!==To)return y}return Ff(s,a,d,g)}function Lf(r,s,a,d,g){const y=function Od(r){if("string"==typeof r)return r.charCodeAt(0)||0;const s=r.hasOwnProperty(js)?r[js]:void 0;return"number"==typeof s?s>=0?s&mu:Bf:s}(a);if("function"==typeof y){if(!se(s,r,d))return d&Xt.Host?lg(g,0,d):Ff(s,a,d,g);try{let I;if(I=y(d),null!=I||d&Xt.Optional)return I;Sn()}finally{Un()}}else if("number"==typeof y){let I=null,S=vu(r,s),R=yl,z=d&Xt.Host?s[Wr][ti]:null;for((-1===S||d&Xt.SkipSelf)&&(R=-1===S?bu(r,s):s[S+8],R!==yl&&wu(d,!1)?(I=s[Lt],S=Vl(R),s=Hl(R,s)):S=-1);-1!==S;){const ie=s[Lt];if(Nc(y,S,ie.data)){const me=$l(S,s,a,I,d,z);if(me!==To)return me}R=s[S+8],R!==yl&&wu(d,s[Lt].data[S+8]===z)&&Nc(y,S,s)?(I=ie,S=Vl(R),s=Hl(R,s)):S=-1}}return g}function $l(r,s,a,d,g,y){const I=s[Lt],S=I.data[r+8],ie=bl(S,I,a,null==d?Ys(S)&&gu:d!=I&&0!=(3&S.type),g&Xt.Host&&y===S);return null!==ie?Xc(s,I,ie,S):To}function bl(r,s,a,d,g){const y=r.providerIndexes,I=s.data,S=1048575&y,R=r.directiveStart,ie=y>>20,Me=g?S+ie:r.directiveEnd;for(let Le=d?S:S+ie;Le<Me;Le++){const ft=I[Le];if(Le<R&&a===ft||Le>=R&&ft.type===a)return Le}if(g){const Le=I[R];if(Le&&yi(Le)&&Le.type===a)return R}return null}function Xc(r,s,a,d){let g=r[a];const y=s.data;if(function Ah(r){return r instanceof Xu}(g)){const I=g;I.resolving&&function Fn(r,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${r}`:"";throw new je(-200,`Circular dependency in DI detected for ${r}${a}`)}(function gt(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():Ke(r)}(y[a]));const S=Qc(I.canSeeViewProviders);I.resolving=!0;const z=I.injectImpl?mn(I.injectImpl):null;se(r,d,Xt.Default);try{g=r[a]=I.factory(void 0,y,r,d),s.firstCreatePass&&a>=d.directiveStart&&function og(r,s,a){const{ngOnChanges:d,ngOnInit:g,ngDoCheck:y}=s.type.prototype;if(d){const I=Qi(s);(a.preOrderHooks??=[]).push(r,I),(a.preOrderCheckHooks??=[]).push(r,I)}g&&(a.preOrderHooks??=[]).push(0-r,g),y&&((a.preOrderHooks??=[]).push(r,y),(a.preOrderCheckHooks??=[]).push(r,y))}(a,y[a],s)}finally{null!==z&&mn(z),Qc(S),I.resolving=!1,Un()}}return g}function Nc(r,s,a){return!!(a[s+(r>>ed)]&1<<r)}function wu(r,s){return!(r&Xt.Self||r&Xt.Host&&s)}class zo{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,d){return jl(this._tNode,this._lView,s,ks(d),a)}}function Bf(){return new zo(cs(),dt())}function Tu(r){return Yr(()=>{const s=r.prototype.constructor,a=s[Ts]||td(s),d=Object.prototype;let g=Object.getPrototypeOf(r.prototype).constructor;for(;g&&g!==d;){const y=g[Ts]||td(g);if(y&&y!==a)return y;g=Object.getPrototypeOf(g)}return y=>new y})}function td(r){return mt(r)?()=>{const s=td(Rt(r));return s&&s()}:Ha(r)}function O(r){const s=r[Lt],a=s.type;return 2===a?s.declTNode:1===a?r[ti]:null}function L(r){return function Nd(r,s){if("class"===s)return r.classes;if("style"===s)return r.styles;const a=r.attrs;if(a){const d=a.length;let g=0;for(;g<d;){const y=a[g];if(Qa(y))break;if(0===y)g+=2;else if("number"==typeof y)for(g++;g<d&&"string"==typeof a[g];)g++;else{if(y===s)return a[g+1];g+=2}}}return null}(cs(),r)}const fe="__parameters__";function Vt(r,s,a){return Yr(()=>{const d=function it(r){return function(...a){if(r){const d=r(...a);for(const g in d)this[g]=d[g]}}}(s);function g(...y){if(this instanceof g)return d.apply(this,y),this;const I=new g(...y);return S.annotation=I,S;function S(R,z,ie){const me=R.hasOwnProperty(fe)?R[fe]:Object.defineProperty(R,fe,{value:[]})[fe];for(;me.length<=ie;)me.push(null);return(me[ie]=me[ie]||[]).push(I),R}}return a&&(g.prototype=Object.create(a.prototype)),g.prototype.ngMetadataName=r,g.annotationCls=g,g})}function Md(r,s){r.forEach(a=>Array.isArray(a)?Md(a,s):s(a))}function xd(r,s,a){s>=r.length?r.push(a):r.splice(s,0,a)}function Ph(r,s){return s>=r.length-1?r.pop():r.splice(s,1)[0]}function Eu(r,s){const a=[];for(let d=0;d<r;d++)a.push(s);return a}function Da(r,s,a){let d=zl(r,s);return d>=0?r[1|d]=a:(d=~d,function Xm(r,s,a,d){let g=r.length;if(g==s)r.push(a,d);else if(1===g)r.push(d,r[0]),r[0]=a;else{for(g--,r.push(r[g-1],r[g]);g>s;)r[g]=r[g-2],g--;r[s]=a,r[s+1]=d}}(r,d,s,a)),d}function dg(r,s){const a=zl(r,s);if(a>=0)return r[1|a]}function zl(r,s){return function n_(r,s,a){let d=0,g=r.length>>a;for(;g!==d;){const y=d+(g-d>>1),I=r[y<<a];if(s===I)return y<<a;I>s?g=y:d=y+1}return~(g<<a)}(r,s,1)}const gg=ns(Vt("Optional"),8),Wl=ns(Vt("SkipSelf"),4);function vv(r){return 128==(128&r.flags)}var wv=function(r){return r[r.Important=1]="Important",r[r.DashCase=2]="DashCase",r}(wv||{});const CD=/^>|^->|<!--|-->|--!>|<!-$/g,KI=/(<|>)/g,ob="\u200b$1\u200b";const no=new Map;let zf=0;const u_="__ngContext__";function Ca(r,s){Gr(s)?(r[u_]=s[ko],function c_(r){no.set(r[ko],r)}(s)):r[u_]=s}let Su;function qf(r,s){return Su(r,s)}function Zf(r){const s=r[Nr];return ji(s)?s[Nr]:s}function Tg(r){return Kf(r[_o])}function Bh(r){return Kf(r[wi])}function Kf(r){for(;null!==r&&!ji(r);)r=r[wi];return r}function Au(r,s,a,d,g){if(null!=d){let y,I=!1;ji(d)?y=d:Gr(d)&&(I=!0,d=d[ur]);const S=ni(d);0===r&&null!==a?null==g?Cv(s,a,S):Nu(s,a,S,g||null,!0):1===r&&null!==a?Nu(s,a,S,g||null,!0):2===r?function b_(r,s,a){const d=kd(r,s);d&&function Av(r,s,a,d){r.removeChild(s,a,d)}(r,d,s,a)}(s,S,I):3===r&&s.destroyNode(S),null!=y&&function QI(r,s,a,d,g){const y=a[Si];y!==ni(a)&&Au(s,r,d,y,g);for(let S=Fr;S<a.length;S++){const R=a[S];Mg(R[Lt],R,r,s,d,y)}}(s,r,y,a,g)}}function Uh(r,s){return r.createText(s)}function Yf(r,s){return r.createComment(function Iv(r){return r.replace(CD,s=>s.replace(KI,ob))}(s))}function Rd(r,s,a){return r.createElement(s,a)}function Pd(r,s){const a=r[Xa],d=a.indexOf(s);ei(s),a.splice(d,1)}function Dg(r,s){if(r.length<=Fr)return;const a=Fr+s,d=r[a];if(d){const g=d[gs];null!==g&&g!==r&&Pd(g,d),s>0&&(r[a-1][wi]=d[wi]);const y=Ph(r,Fr+s);!function Ev(r,s){Mg(r,s,s[Pn],2,null,null),s[ur]=null,s[ti]=null}(d[Lt],d);const I=y[di];null!==I&&I.detachView(y[Lt]),d[Nr]=null,d[wi]=null,d[jn]&=-129}return d}function Qf(r,s){if(!(256&s[jn])){const a=s[Pn];s[Zs]&&Ec(s[Zs]),s[Fo]&&Ec(s[Fo]),a.destroyNode&&Mg(r,s,a,3,null,null),function m_(r){let s=r[_o];if(!s)return Jf(r[Lt],r);for(;s;){let a=null;if(Gr(s))a=s[_o];else{const d=s[Fr];d&&(a=d)}if(!a){for(;s&&!s[wi]&&s!==r;)Gr(s)&&Jf(s[Lt],s),s=s[Nr];null===s&&(s=r),Gr(s)&&Jf(s[Lt],s),a=s&&s[wi]}s=a}}(s)}}function Jf(r,s){if(!(256&s[jn])){s[jn]&=-129,s[jn]|=256,function y_(r,s){let a;if(null!=r&&null!=(a=r.destroyHooks))for(let d=0;d<a.length;d+=2){const g=s[a[d]];if(!(g instanceof Xu)){const y=a[d+1];if(Array.isArray(y))for(let I=0;I<y.length;I+=2){const S=g[y[I]],R=y[I+1];Ui(4,S,R);try{R.call(S)}finally{Ui(5,S,R)}}else{Ui(4,g,y);try{y.call(g)}finally{Ui(5,g,y)}}}}}(r,s),function ub(r,s){const a=r.cleanup,d=s[sr];if(null!==a)for(let y=0;y<a.length-1;y+=2)if("string"==typeof a[y]){const I=a[y+3];I>=0?d[I]():d[-I].unsubscribe(),y+=2}else a[y].call(d[a[y+1]]);null!==d&&(s[sr]=null);const g=s[qs];if(null!==g){s[qs]=null;for(let y=0;y<g.length;y++)(0,g[y])()}}(r,s),1===s[Lt].type&&s[Pn].destroy();const a=s[gs];if(null!==a&&ji(s[Nr])){a!==s[Nr]&&Pd(a,s);const d=s[di];null!==d&&d.detachView(r)}!function yg(r){no.delete(r[ko])}(s)}}function Xf(r,s,a){return Cg(r,s.parent,a)}function Cg(r,s,a){let d=s;for(;null!==d&&40&d.type;)d=(s=d).parent;if(null===d)return a[ur];{const{componentOffset:g}=d;if(g>-1){const{encapsulation:y}=r.data[d.directiveStart+g];if(y===ws.None||y===ws.Emulated)return null}return ys(d,a)}}function Nu(r,s,a,d,g){r.insertBefore(s,a,d,g)}function Cv(r,s,a){r.appendChild(s,a)}function Sv(r,s,a,d,g){null!==d?Nu(r,s,a,d,g):Cv(r,s,a)}function kd(r,s){return r.parentNode(s)}function ep(r,s,a){return tp(r,s,a)}function Ag(r,s,a){return 40&r.type?ys(r,a):null}let Ng,np,hc,ip,tp=Ag;function Nv(r,s){tp=r,Ng=s}function Og(r,s,a,d){const g=Xf(r,d,s),y=s[Pn],S=ep(d.parent||s[ti],d,s);if(null!=g)if(Array.isArray(a))for(let R=0;R<a.length;R++)Sv(y,g,a[R],S,!1);else Sv(y,g,a,S,!1);void 0!==Ng&&Ng(y,d,s,a,g)}function Ou(r,s){if(null!==s){const a=s.type;if(3&a)return ys(s,r);if(4&a)return Mv(-1,r[s.index]);if(8&a){const d=s.child;if(null!==d)return Ou(r,d);{const g=r[s.index];return ji(g)?Mv(-1,g):ni(g)}}if(32&a)return qf(s,r)()||ni(r[s.index]);{const d=Ov(r,s);return null!==d?Array.isArray(d)?d[0]:Ou(Zf(r[Wr]),d):Ou(r,s.next)}}return null}function Ov(r,s){return null!==s?r[Wr][ti].projection[s.projection]:null}function Mv(r,s){const a=Fr+r+1;if(a<s.length){const d=s[a],g=d[Lt].firstChild;if(null!==g)return Ou(d,g)}return s[Si]}function xv(r,s,a,d,g,y,I){for(;null!=a;){const S=d[a.index],R=a.type;if(I&&0===s&&(S&&Ca(ni(S),d),a.flags|=2),32!=(32&a.flags))if(8&R)xv(r,s,a.child,d,g,y,!1),Au(s,r,g,S,y);else if(32&R){const z=qf(a,d);let ie;for(;ie=z();)Au(s,r,g,ie,y);Au(s,r,g,S,y)}else 16&R?hb(r,s,d,a,g,y):Au(s,r,g,S,y);a=I?a.projectionNext:a.next}}function Mg(r,s,a,d,g,y){xv(a,d,r.firstChild,s,g,y,!1)}function hb(r,s,a,d,g,y){const I=a[Wr],R=I[ti].projection[d.projection];if(Array.isArray(R))for(let z=0;z<R.length;z++)Au(s,r,g,R[z],y);else{let z=R;const ie=I[Nr];vv(d)&&(z.flags|=128),xv(r,s,z,ie,g,y,!0)}}function I_(r,s,a){""===a?r.removeAttribute(s,"class"):r.setAttribute(s,"class",a)}function Rv(r,s,a){const{mergedAttrs:d,classes:g,styles:y}=a;null!==d&&qi(r,s,d),null!==g&&I_(r,s,g),null!==y&&function w_(r,s,a){r.setAttribute(s,"style",a)}(r,s,y)}function rp(r){return function Pv(){if(void 0===np&&(np=null,cr.trustedTypes))try{np=cr.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return np}()?.createHTML(r)||r}function Ji(r){hc=r}function Fd(){if(void 0!==hc)return hc;if(typeof document<"u")return document;throw new je(210,!1)}function T_(r){return function xg(){if(void 0===ip&&(ip=null,cr.trustedTypes))try{ip=cr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return ip}()?.createScriptURL(r)||r}class sp{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${_t})`}}class op extends sp{getTypeName(){return"HTML"}}class ap extends sp{getTypeName(){return"Style"}}class Fv extends sp{getTypeName(){return"Script"}}class Lv extends sp{getTypeName(){return"URL"}}class E_ extends sp{getTypeName(){return"ResourceURL"}}function Zl(r){return r instanceof sp?r.changingThisBreaksApplicationSecurity:r}function cp(r,s){const a=function cd(r){return r instanceof sp&&r.getTypeName()||null}(r);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see ${_t})`)}return a===s}function Vh(r){return new op(r)}function lp(r){return new ap(r)}function D_(r){return new Fv(r)}function Bv(r){return new Lv(r)}function Pg(r){return new E_(r)}function Ld(r){const s=new eT(r);return function SD(){try{return!!(new window.DOMParser).parseFromString(rp(""),"text/html")}catch{return!1}}()?new mb(s):s}class mb{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(rp(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch{return null}}}class eT{constructor(s){this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(s){const a=this.inertDocument.createElement("template");return a.innerHTML=rp(s),a}}const AD=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Uv(r){return(r=String(r)).match(AD)?r:"unsafe:"+r}function Bd(r){const s={};for(const a of r.split(","))s[a]=!0;return s}function C_(...r){const s={};for(const a of r)for(const d in a)a.hasOwnProperty(d)&&(s[d]=!0);return s}const _b=Bd("area,br,col,hr,img,wbr"),Il=Bd("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),tn=Bd("rp,rt"),Hh=C_(_b,C_(Il,Bd("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),C_(tn,Bd("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),C_(tn,Il)),Hv=Bd("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),S_=C_(Hv,Bd("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Bd("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),bb=Bd("script,style,template");class qa{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,d=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?d=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,d&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let g=this.checkClobberedElement(a,a.nextSibling);if(g){a=g;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(s){const a=s.nodeName.toLowerCase();if(!Hh.hasOwnProperty(a))return this.sanitizedSomething=!0,!bb.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const d=s.attributes;for(let g=0;g<d.length;g++){const y=d.item(g),I=y.name,S=I.toLowerCase();if(!S_.hasOwnProperty(S)){this.sanitizedSomething=!0;continue}let R=y.value;Hv[S]&&(R=Uv(R)),this.buf.push(" ",I,'="',tl(R),'"')}return this.buf.push(">"),!0}endElement(s){const a=s.nodeName.toLowerCase();Hh.hasOwnProperty(a)&&!_b.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(tl(s))}checkClobberedElement(s,a){if(a&&(s.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return a}}const up=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Do=/([^\#-~ |!])/g;function tl(r){return r.replace(/&/g,"&amp;").replace(up,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(Do,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let kg;function Gh(r,s){let a=null;try{kg=kg||Ld(r);let d=s?String(s):"";a=kg.getInertBodyElement(d);let g=5,y=d;do{if(0===g)throw new Error("Failed to sanitize html because the input is unstable");g--,d=y,y=a.innerHTML,a=kg.getInertBodyElement(d)}while(d!==y);return rp((new qa).sanitizeChildren(Fg(a)||a))}finally{if(a){const d=Fg(a)||a;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function Fg(r){return"content"in r&&function A_(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var xi=function(r){return r[r.NONE=0]="NONE",r[r.HTML=1]="HTML",r[r.STYLE=2]="STYLE",r[r.SCRIPT=3]="SCRIPT",r[r.URL=4]="URL",r[r.RESOURCE_URL=5]="RESOURCE_URL",r}(xi||{});function Ud(r){const s=hp();return s?s.sanitize(xi.URL,r)||"":cp(r,"URL")?Zl(r):Uv(Ke(r))}function nl(r){const s=hp();if(s)return T_(s.sanitize(xi.RESOURCE_URL,r)||"");if(cp(r,"ResourceURL"))return T_(Zl(r));throw new je(904,!1)}function M_(r,s,a){return function jh(r,s){return"src"===s&&("embed"===r||"frame"===r||"iframe"===r||"media"===r||"script"===r)||"href"===s&&("base"===r||"link"===r)?nl:Ud}(s,a)(r)}function hp(){const r=dt();return r&&r[Ss].sanitizer}const Vd=new Rn("ENVIRONMENT_INITIALIZER"),Lg=new Rn("INJECTOR",-1),fp=new Rn("INJECTOR_DEF_TYPES");class pp{get(s,a=U){if(a===U){const d=new Error(`NullInjectorError: No provider for ${Ot(s)}!`);throw d.name="NullInjectorError",d}return a}}function x_(...r){return{\u0275providers:Hd(0,r),\u0275fromNgModule:!0}}function Hd(r,...s){const a=[],d=new Set;let g;const y=I=>{a.push(I)};return Md(s,I=>{const S=I;Tl(S,y,[],d)&&(g||=[],g.push(S))}),void 0!==g&&Gd(g,y),a}function Gd(r,s){for(let a=0;a<r.length;a++){const{ngModule:d,providers:g}=r[a];jd(g,y=>{s(y,d)})}}function Tl(r,s,a,d){if(!(r=Rt(r)))return!1;let g=null,y=An(r);const I=!y&&hr(r);if(y||I){if(I&&!I.standalone)return!1;g=r}else{const R=r.ngModule;if(y=An(R),!y)return!1;g=R}const S=d.has(g);if(I){if(S)return!1;if(d.add(g),I.dependencies){const R="function"==typeof I.dependencies?I.dependencies():I.dependencies;for(const z of R)Tl(z,s,a,d)}}else{if(!y)return!1;{if(null!=y.imports&&!S){let z;d.add(g);try{Md(y.imports,ie=>{Tl(ie,s,a,d)&&(z||=[],z.push(ie))})}finally{}void 0!==z&&Gd(z,s)}if(!S){const z=Ha(g)||(()=>new g);s({provide:g,useFactory:z,deps:lr},g),s({provide:fp,useValue:g,multi:!0},g),s({provide:Vd,useValue:()=>Ln(g),multi:!0},g)}const R=y.providers;if(null!=R&&!S){const z=r;jd(R,ie=>{s(ie,z)})}}}return g!==r&&void 0!==r.providers}function jd(r,s){for(let a of r)ot(a)&&(a=a.\u0275providers),Array.isArray(a)?jd(a,s):s(a)}const Tb=Pe({provide:String,useValue:Pe});function R_(r){return null!==r&&"object"==typeof r&&Tb in r}function $h(r){return"function"==typeof r}const Bg=new Rn("Set Injector scope."),zh={},mp={};let Wh;function zd(){return void 0===Wh&&(Wh=new pp),Wh}class Mc{}class Mu extends Mc{get destroyed(){return this._destroyed}constructor(s,a,d,g){super(),this.parent=a,this.source=d,this.scopes=g,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Vg(s,I=>this.processProvider(I)),this.records.set(Lg,Wd(void 0,this)),g.has("environment")&&this.records.set(Mc,Wd(void 0,this));const y=this.records.get(Bg);null!=y&&"string"==typeof y.value&&this.scopes.add(y.value),this.injectorDefTypes=new Set(this.get(fp.multi,lr,Xt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();const s=this._onDestroyHooks;this._onDestroyHooks=[];for(const a of s)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(s){return this.assertNotDestroyed(),this._onDestroyHooks.push(s),()=>this.removeOnDestroy(s)}runInContext(s){this.assertNotDestroyed();const a=On(this),d=mn(void 0);try{return s()}finally{On(a),mn(d)}}get(s,a=U,d=Xt.Default){if(this.assertNotDestroyed(),s.hasOwnProperty(ai))return s[ai](this);d=ks(d);const y=On(this),I=mn(void 0);try{if(!(d&Xt.SkipSelf)){let R=this.records.get(s);if(void 0===R){const z=function iT(r){return"function"==typeof r||"object"==typeof r&&r instanceof Rn}(s)&&at(s);R=z&&this.injectableDefInScope(z)?Wd(_p(s),zh):null,this.records.set(s,R)}if(null!=R)return this.hydrate(s,R)}return(d&Xt.Self?zd():this.parent).get(s,a=d&Xt.Optional&&a===U?null:a)}catch(S){if("NullInjectorError"===S.name){if((S[q]=S[q]||[]).unshift(Ot(s)),y)throw S;return function Xo(r,s,a,d){const g=r[q];throw s[Tt]&&g.unshift(s[Tt]),r.message=function wc(r,s,a,d=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.slice(2):r;let g=Ot(s);if(Array.isArray(s))g=s.map(Ot).join(" -> ");else if("object"==typeof s){let y=[];for(let I in s)if(s.hasOwnProperty(I)){let S=s[I];y.push(I+":"+("string"==typeof S?JSON.stringify(S):Ot(S)))}g=`{${y.join(", ")}}`}return`${a}${d?"("+d+")":""}[${g}]: ${r.replace(be,"\n  ")}`}("\n"+r.message,g,a,d),r.ngTokenPath=g,r[q]=null,r}(S,s,"R3InjectorError",this.source)}throw S}finally{mn(I),On(y)}}resolveInjectorInitializers(){const s=On(this),a=mn(void 0);try{const g=this.get(Vd.multi,lr,Xt.Self);for(const y of g)y()}finally{On(s),mn(a)}}toString(){const s=[],a=this.records;for(const d of a.keys())s.push(Ot(d));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new je(205,!1)}processProvider(s){let a=$h(s=Rt(s))?s:Rt(s&&s.provide);const d=function rT(r){return R_(r)?Wd(void 0,r.useValue):Wd(Ug(r),zh)}(s);if($h(s)||!0!==s.multi)this.records.get(a);else{let g=this.records.get(a);g||(g=Wd(void 0,zh,!0),g.factory=()=>ua(g.multi),this.records.set(a,g)),a=s,g.multi.push(s)}this.records.set(a,d)}hydrate(s,a){return a.value===zh&&(a.value=mp,a.value=a.factory()),"object"==typeof a.value&&a.value&&function Db(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=Rt(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}removeOnDestroy(s){const a=this._onDestroyHooks.indexOf(s);-1!==a&&this._onDestroyHooks.splice(a,1)}}function _p(r){const s=at(r),a=null!==s?s.factory:Ha(r);if(null!==a)return a;if(r instanceof Rn)throw new je(204,!1);if(r instanceof Function)return function Eb(r){const s=r.length;if(s>0)throw Eu(s,"?"),new je(204,!1);const a=function vr(r){return r&&(r[sn]||r[En])||null}(r);return null!==a?()=>a.factory(r):()=>new r}(r);throw new je(204,!1)}function Ug(r,s,a){let d;if($h(r)){const g=Rt(r);return Ha(g)||_p(g)}if(R_(r))d=()=>Rt(r.useValue);else if(function P_(r){return!(!r||!r.useFactory)}(r))d=()=>r.useFactory(...ua(r.deps||[]));else if(function $d(r){return!(!r||!r.useExisting)}(r))d=()=>Ln(Rt(r.useExisting));else{const g=Rt(r&&(r.useClass||r.provide));if(!function F_(r){return!!r.deps}(r))return Ha(g)||_p(g);d=()=>new g(...ua(r.deps))}return d}function Wd(r,s,a=!1){return{factory:r,value:s,multi:a?[]:void 0}}function Vg(r,s){for(const a of r)Array.isArray(a)?Vg(a,s):a&&ot(a)?Vg(a.\u0275providers,s):s(a)}const L_=new Rn("AppId",{providedIn:"root",factory:()=>jv}),jv="ng",ro=new Rn("Platform Initializer"),qo=new Rn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Hg=new Rn("AnimationModuleType"),sT=new Rn("CSP nonce",{providedIn:"root",factory:()=>Fd().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let vp=(r,s,a)=>null;function Pu(r,s,a=!1){return vp(r,s,a)}class $_{}class Wv{}class qg{resolveComponentFactory(s){throw function qv(r){const s=Error(`No component factory found for ${Ot(r)}.`);return s.ngComponent=r,s}(s)}}let bp=(()=>{class r{static#e=this.NULL=new qg}return r})();function Kv(){return qd(cs(),dt())}function qd(r,s){return new Fu(ys(r,s))}let Fu=(()=>{class r{constructor(a){this.nativeElement=a}static#e=this.__NG_ELEMENT_ID__=Kv}return r})();function Zg(r){return r instanceof Fu?r.nativeElement:r}class Yv{}let xb=(()=>{class r{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Qv(){const r=dt(),a=fi(cs().index,r);return(Gr(a)?a:r)[Pn]}()}return r})(),z_=(()=>{class r{static#e=this.\u0275prov=Ce({token:r,providedIn:"root",factory:()=>null})}return r})();class W_{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Jv=new W_("16.2.12"),q_={};function Kg(r){if(!br()&&!function ln(){return rn}())throw new je(-203,!1)}function K_(r,s=null,a=null,d){const g=t0(r,s,a,d);return g.resolveInjectorInitializers(),g}function t0(r,s=null,a=null,d,g=new Set){const y=[a||lr,x_(r)];return d=d||("object"==typeof r?void 0:Ot(r)),new Mu(y,s||zd(),d||null,g)}let oa=(()=>{class r{static#e=this.THROW_IF_NOT_FOUND=U;static#t=this.NULL=new pp;static create(a,d){if(Array.isArray(a))return K_({name:""},d,a,"");{const g=a.name??"";return K_({name:g},a.parent,a.providers,g)}}static#n=this.\u0275prov=Ce({token:r,providedIn:"any",factory:()=>Ln(Lg)});static#r=this.__NG_ELEMENT_ID__=-1}return r})();function wp(r){return r.ngOriginalError}class Lu{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s);this._console.error("ERROR",s),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&wp(s);for(;a&&wp(a);)a=wp(a);return a||null}}let Di=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=Ip;static#t=this.__NG_ENV_ID__=a=>a}return r})();class Qg extends Di{constructor(s){super(),this._lView=s}onDestroy(s){return Ac(this._lView,s),()=>function as(r,s){if(null===r[qs])return;const a=r[qs].indexOf(s);-1!==a&&r[qs].splice(a,1)}(this._lView,s)}}function Ip(){return new Qg(dt())}function Q_(r){return s=>{setTimeout(r,void 0,s)}}const El=class Tp extends b.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,d){let g=s,y=a||(()=>null),I=d;if(s&&"object"==typeof s){const R=s;g=R.next?.bind(R),y=R.error?.bind(R),I=R.complete?.bind(R)}this.__isAsync&&(y=Q_(y),g&&(g=Q_(g)),I&&(I=Q_(I)));const S=super.subscribe({next:g,error:y,complete:I});return s instanceof oe.w0&&s.add(S),S}};function n0(...r){}class Zo{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new El(!1),this.onMicrotaskEmpty=new El(!1),this.onStable=new El(!1),this.onError=new El(!1),typeof Zone>"u")throw new je(908,!1);Zone.assertZonePatched();const g=this;g._nesting=0,g._outer=g._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!d&&a,g.shouldCoalesceRunChangeDetection=d,g.lastRequestAnimationFrameId=-1,g.nativeRequestAnimationFrame=function Fb(){const r="function"==typeof cr.requestAnimationFrame;let s=cr[r?"requestAnimationFrame":"setTimeout"],a=cr[r?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&s&&a){const d=s[Zone.__symbol__("OriginalDelegate")];d&&(s=d);const g=a[Zone.__symbol__("OriginalDelegate")];g&&(a=g)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function s0(r){const s=()=>{!function r0(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(cr,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,Jg(r),r.isCheckStableRunning=!0,Yl(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),Jg(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,d,g,y,I,S)=>{if(function c0(r){return!(!Array.isArray(r)||1!==r.length)&&!0===r[0].data?.__ignore_ng_zone__}(S))return a.invokeTask(g,y,I,S);try{return Yd(r),a.invokeTask(g,y,I,S)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===y.type||r.shouldCoalesceRunChangeDetection)&&s(),o0(r)}},onInvoke:(a,d,g,y,I,S,R)=>{try{return Yd(r),a.invoke(g,y,I,S,R)}finally{r.shouldCoalesceRunChangeDetection&&s(),o0(r)}},onHasTask:(a,d,g,y)=>{a.hasTask(g,y),d===g&&("microTask"==y.change?(r._hasPendingMicrotasks=y.microTask,Jg(r),Yl(r)):"macroTask"==y.change&&(r.hasPendingMacrotasks=y.macroTask))},onHandleError:(a,d,g,y)=>(a.handleError(g,y),r.runOutsideAngular(()=>r.onError.emit(y)),!1)})}(g)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Zo.isInAngularZone())throw new je(909,!1)}static assertNotInAngularZone(){if(Zo.isInAngularZone())throw new je(909,!1)}run(s,a,d){return this._inner.run(s,a,d)}runTask(s,a,d,g){const y=this._inner,I=y.scheduleEventTask("NgZoneEvent: "+g,s,Ep,n0,n0);try{return y.runTask(I,a,d)}finally{y.cancelTask(I)}}runGuarded(s,a,d){return this._inner.runGuarded(s,a,d)}runOutsideAngular(s){return this._outer.run(s)}}const Ep={};function Yl(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function Jg(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function Yd(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function o0(r){r._nesting--,Yl(r)}class Lb{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new El,this.onMicrotaskEmpty=new El,this.onStable=new El,this.onError=new El}run(s,a,d){return s.apply(a,d)}runGuarded(s,a,d){return s.apply(a,d)}runOutsideAngular(s){return s()}runTask(s,a,d,g){return s.apply(a,d)}}const J_=new Rn("",{providedIn:"root",factory:a0});function a0(){const r=tr(Zo);let s=!0;const a=new u.y(g=>{s=r.isStable&&!r.hasPendingMacrotasks&&!r.hasPendingMicrotasks,r.runOutsideAngular(()=>{g.next(s),g.complete()})}),d=new u.y(g=>{let y;r.runOutsideAngular(()=>{y=r.onStable.subscribe(()=>{Zo.assertNotInAngularZone(),queueMicrotask(()=>{!s&&!r.hasPendingMacrotasks&&!r.hasPendingMicrotasks&&(s=!0,g.next(!0))})})});const I=r.onUnstable.subscribe(()=>{Zo.assertInAngularZone(),s&&(s=!1,r.runOutsideAngular(()=>{g.next(!1)}))});return()=>{y.unsubscribe(),I.unsubscribe()}});return(0,we.T)(a,d.pipe(ne()))}function l0(r){return r.ownerDocument.defaultView}function Dl(r){return r instanceof Function?r():r}let Qd=(()=>{class r{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=Ce({token:r,providedIn:"root",factory:()=>new r})}return r})();function Ql(r){for(;r;){r[jn]|=64;const s=Zf(r);if(Ai(r)&&!s)return r;r=s}return null}const Jd=new Rn("",{providedIn:"root",factory:()=>!1});let Sa=null;function tf(r,s){return r[s]??gc()}function Sp(r,s){const a=gc();a.producerNode?.length&&(r[s]=Sa,a.lView=r,Sa=nf())}const oy={...Vo,consumerIsAlwaysLive:!0,consumerMarkedDirty:r=>{Ql(r.lView)},lView:null};function nf(){return Object.create(oy)}function gc(){return Sa??=nf(),Sa}const rr={};function Xd(r){Ap(Tr(),dt(),zr()+r,!1)}function Ap(r,s,a,d){if(!d)if(3==(3&s[jn])){const y=r.preOrderCheckHooks;null!==y&&Yc(s,y,a)}else{const y=r.preOrderHooks;null!==y&&_l(s,y,0,a)}sa(a)}function Cl(r,s=Xt.Default){const a=dt();return null===a?Ln(r,s):jl(cs(),a,Rt(r),s)}function rf(){throw new Error("invalid")}function sf(r,s,a,d,g,y,I,S,R,z,ie){const me=s.blueprint.slice();return me[ur]=g,me[jn]=140|d,(null!==z||r&&2048&r[jn])&&(me[jn]|=2048),Wu(me),me[Nr]=me[is]=r,me[er]=a,me[Ss]=I||r&&r[Ss],me[Pn]=S||r&&r[Pn],me[wr]=R||r&&r[wr]||null,me[ti]=y,me[ko]=function ab(){return zf++}(),me[ki]=ie,me[jc]=z,me[Wr]=2==s.type?r[Wr]:me,me}function aa(r,s,a,d,g){let y=r.data[s];if(null===y)y=xc(r,s,a,d,g),function Yu(){return pn.lFrame.inI18n}()&&(y.flags|=32);else if(64&y.type){y.type=a,y.value=d,y.attrs=g;const I=ml();y.injectorIndex=null===I?-1:I.injectorIndex}return Io(y,!0),y}function xc(r,s,a,d,g){const y=Ku(),I=uu(),R=r.data[s]=function Hb(r,s,a,d,g,y){let I=s?s.injectorIndex:-1,S=0;return ba()&&(S|=128),{type:a,index:d,insertBeforeIndex:null,injectorIndex:I,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:S,providerIndexes:0,value:g,attrs:y,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,I?y:y&&y.parent,a,s,d,g);return null===r.firstChild&&(r.firstChild=R),null!==y&&(I?null==y.child&&null!==R.parent&&(y.child=R):null===y.next&&(y.next=R,R.prev=y)),R}function rl(r,s,a,d){if(0===a)return-1;const g=s.length;for(let y=0;y<a;y++)s.push(d),r.blueprint.push(d),r.data.push(null);return g}function ud(r,s,a,d,g){const y=tf(s,Zs),I=zr(),S=2&d;try{sa(-1),S&&s.length>$n&&Ap(r,s,$n,!1),Ui(S?2:0,g);const z=S?y:null,ie=bo(z);try{null!==z&&(z.dirty=!1),a(d,g)}finally{Bs(z,ie)}}finally{S&&null===s[Zs]&&Sp(s,Zs),sa(I),Ui(S?3:1,g)}}function Np(r,s,a){if(ta(s)){const d=ss(null);try{const y=s.directiveEnd;for(let I=s.directiveStart;I<y;I++){const S=r.data[I];S.contentQueries&&S.contentQueries(1,a[I],I)}}finally{ss(d)}}}function af(r,s,a){kl()&&(function nm(r,s,a,d){const g=a.directiveStart,y=a.directiveEnd;Ys(a)&&function p0(r,s,a){const d=ys(s,r),g=th(a);let I=16;a.signals?I=4096:a.onPush&&(I=64);const S=om(r,sf(r,g,null,I,d,s,null,r[Ss].rendererFactory.createRenderer(d,a),null,null,null));r[s.index]=S}(s,a,r.data[g+a.componentOffset]),r.firstCreatePass||vl(a,s),Ca(d,s);const I=a.initialInputs;for(let S=g;S<y;S++){const R=r.data[S],z=Xc(s,r,S,a);Ca(z,s),null!==I&&ly(0,S-g,z,R,0,I),yi(R)&&(fi(a.index,s)[er]=Xc(s,r,S,a))}}(r,s,a,ys(a,s)),64==(64&a.flags)&&cy(r,s,a))}function eh(r,s,a=ys){const d=s.localNames;if(null!==d){let g=s.index+1;for(let y=0;y<d.length;y+=2){const I=d[y+1],S=-1===I?a(s,r):r[I];r[g++]=S}}}function th(r){const s=r.tView;return null===s||s.incompleteFirstPass?r.tView=nh(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts,r.id):s}function nh(r,s,a,d,g,y,I,S,R,z,ie){const me=$n+d,Me=me+g,Le=function rh(r,s){const a=[];for(let d=0;d<s;d++)a.push(d<r?null:rr);return a}(me,Me),ft="function"==typeof z?z():z;return Le[Lt]={type:r,blueprint:Le,template:a,queries:null,viewQuery:S,declTNode:s,data:Le.slice().fill(null,me),bindingStartIndex:me,expandoStartIndex:Me,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof y?y():y,pipeRegistry:"function"==typeof I?I():I,firstChild:null,schemas:R,consts:ft,incompleteFirstPass:!1,ssrId:ie}}let ay=r=>null;function h0(r,s,a,d){for(let g in r)if(r.hasOwnProperty(g)){a=null===a?{}:a;const y=r[g];null===d?cf(a,s,g,y):d.hasOwnProperty(g)&&cf(a,s,d[g],y)}return a}function cf(r,s,a,d){r.hasOwnProperty(a)?r[a].push(s,d):r[a]=[s,d]}function _c(r,s,a,d,g,y,I,S){const R=ys(s,a);let ie,z=s.inputs;!S&&null!=z&&(ie=z[d])?(dd(r,a,ie,d,g),Ys(s)&&function ii(r,s){const a=fi(s,r);16&a[jn]||(a[jn]|=64)}(a,s.index)):3&s.type&&(d=function Jl(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(d),g=null!=I?I(g,s.value||"",d):g,y.setProperty(R,d,g))}function il(r,s,a,d){if(kl()){const g=null===d?null:{"":-1},y=function Rc(r,s){const a=r.directiveRegistry;let d=null,g=null;if(a)for(let y=0;y<a.length;y++){const I=a[y];if(Ls(s,I.selectors,!1))if(d||(d=[]),yi(I))if(null!==I.findHostDirectiveDefs){const S=[];g=g||new Map,I.findHostDirectiveDefs(I,S,g),d.unshift(...S,I),Co(r,s,S.length)}else d.unshift(I),Co(r,s,0);else g=g||new Map,I.findHostDirectiveDefs?.(I,d,g),d.push(I)}return null===d?null:[d,g]}(r,a);let I,S;null===y?I=S=null:[I,S]=y,null!==I&&lf(r,s,a,I,g,S),g&&function rm(r,s,a){if(s){const d=r.localNames=[];for(let g=0;g<s.length;g+=2){const y=a[s[g+1]];if(null==y)throw new je(-301,!1);d.push(s[g],y)}}}(a,d,g)}a.mergedAttrs=Ja(a.mergedAttrs,a.attrs)}function lf(r,s,a,d,g,y){for(let z=0;z<d.length;z++)Gl(vl(a,s),r,d[z].type);!function Op(r,s,a){r.flags|=1,r.directiveStart=s,r.directiveEnd=s+a,r.providerIndexes=s}(a,r.data.length,d.length);for(let z=0;z<d.length;z++){const ie=d[z];ie.providersResolver&&ie.providersResolver(ie)}let I=!1,S=!1,R=rl(r,s,d.length,null);for(let z=0;z<d.length;z++){const ie=d[z];a.mergedAttrs=Ja(a.mergedAttrs,ie.hostAttrs),sm(r,a,s,R,ie),im(R,ie,g),null!==ie.contentQueries&&(a.flags|=4),(null!==ie.hostBindings||null!==ie.hostAttrs||0!==ie.hostVars)&&(a.flags|=64);const me=ie.type.prototype;!I&&(me.ngOnChanges||me.ngOnInit||me.ngDoCheck)&&((r.preOrderHooks??=[]).push(a.index),I=!0),!S&&(me.ngOnChanges||me.ngDoCheck)&&((r.preOrderCheckHooks??=[]).push(a.index),S=!0),R++}!function pT(r,s,a){const g=s.directiveEnd,y=r.data,I=s.attrs,S=[];let R=null,z=null;for(let ie=s.directiveStart;ie<g;ie++){const me=y[ie],Me=a?a.get(me):null,ft=Me?Me.outputs:null;R=h0(me.inputs,ie,R,Me?Me.inputs:null),z=h0(me.outputs,ie,z,ft);const Mt=null===R||null===I||ha(s)?null:jb(R,ie,I);S.push(Mt)}null!==R&&(R.hasOwnProperty("class")&&(s.flags|=8),R.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=S,s.inputs=R,s.outputs=z}(r,a,y)}function cy(r,s,a){const d=a.directiveStart,g=a.directiveEnd,y=a.index,I=function Qu(){return pn.lFrame.currentDirectiveIndex}();try{sa(y);for(let S=d;S<g;S++){const R=r.data[S],z=s[S];C(S),(null!==R.hostBindings||0!==R.hostVars||null!==R.hostAttrs)&&Sl(R,z)}}finally{sa(-1),C(I)}}function Sl(r,s){null!==r.hostBindings&&r.hostBindings(1,s)}function Co(r,s,a){s.componentOffset=a,(r.components??=[]).push(s.index)}function im(r,s,a){if(a){if(s.exportAs)for(let d=0;d<s.exportAs.length;d++)a[s.exportAs[d]]=r;yi(s)&&(a[""]=r)}}function sm(r,s,a,d,g){r.data[d]=g;const y=g.factory||(g.factory=Ha(g.type)),I=new Xu(y,yi(g),Cl);r.blueprint[d]=I,a[d]=I,function uf(r,s,a,d,g){const y=g.hostBindings;if(y){let I=r.hostBindingOpCodes;null===I&&(I=r.hostBindingOpCodes=[]);const S=~s.index;(function ih(r){let s=r.length;for(;s>0;){const a=r[--s];if("number"==typeof a&&a<0)return a}return 0})(I)!=S&&I.push(S),I.push(a,d,y)}}(r,s,d,rl(r,a,g.hostVars,rr),g)}function Us(r,s,a,d,g,y){const I=ys(r,s);!function Mp(r,s,a,d,g,y,I){if(null==y)r.removeAttribute(s,g,a);else{const S=null==I?Ke(y):I(y,d||"",g);r.setAttribute(s,g,S,a)}}(s[Pn],I,y,r.value,a,d,g)}function ly(r,s,a,d,g,y){const I=y[s];if(null!==I)for(let S=0;S<I.length;)sh(d,a,I[S++],I[S++],I[S++])}function sh(r,s,a,d,g){const y=ss(null);try{const I=r.inputTransforms;null!==I&&I.hasOwnProperty(d)&&(g=I[d].call(s,g)),null!==r.setInput?r.setInput(s,g,a,d):s[d]=g}finally{ss(y)}}function jb(r,s,a){let d=null,g=0;for(;g<a.length;){const y=a[g];if(0!==y)if(5!==y){if("number"==typeof y)break;if(r.hasOwnProperty(y)){null===d&&(d=[]);const I=r[y];for(let S=0;S<I.length;S+=2)if(I[S]===s){d.push(y,I[S+1],a[g+1]);break}}g+=2}else g+=2;else g+=4}return d}function g0(r,s,a,d){return[r,!0,!1,s,null,0,d,a,null,null,null]}function uy(r,s){const a=r.contentQueries;if(null!==a)for(let d=0;d<a.length;d+=2){const y=a[d+1];if(-1!==y){const I=r.data[y];P(a[d]),I.contentQueries(2,s[y],y)}}}function om(r,s){return r[_o]?r[La][wi]=s:r[_o]=s,r[La]=s,s}function df(r,s,a){P(0);const d=ss(null);try{s(r,a)}finally{ss(d)}}function _0(r){return r[sr]||(r[sr]=[])}function Xl(r){return r.cleanup||(r.cleanup=[])}function xs(r,s){const a=r[wr],d=a?a.get(Lu,null):null;d&&d.handleError(s)}function dd(r,s,a,d,g){for(let y=0;y<a.length;){const I=a[y++],S=a[y++];sh(r.data[I],s[I],d,S,g)}}function ca(r,s,a){const d=pl(s,r);!function p_(r,s,a){r.setValue(s,a)}(r[Pn],d,a)}function dy(r,s){const a=fi(s,r),d=a[Lt];!function MD(r,s){for(let a=s.length;a<r.blueprint.length;a++)s.push(r.blueprint[a])}(d,a);const g=a[ur];null!==g&&null===a[ki]&&(a[ki]=Pu(g,a[wr])),Nt(d,a,a[er])}function Nt(r,s,a){_e(s);try{const d=r.viewQuery;null!==d&&df(1,d,a);const g=r.template;null!==g&&ud(r,s,g,1,a),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&uy(r,s),r.staticViewQueries&&df(2,r.viewQuery,a);const y=r.components;null!==y&&function io(r,s){for(let a=0;a<s.length;a++)dy(r,s[a])}(s,y)}catch(d){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),d}finally{s[jn]&=-5,Or()}}let sl=(()=>{class r{constructor(){this.all=new Set,this.queue=new Map}create(a,d,g){const y=typeof Zone>"u"?null:Zone.current,I=function zn(r,s,a){const d=Object.create(Ir);a&&(d.consumerAllowSignalWrites=!0),d.fn=r,d.schedule=s;const g=I=>{d.cleanupFn=I};return d.ref={notify:()=>wd(d),run:()=>{if(d.dirty=!1,d.hasRun&&!_a(d))return;d.hasRun=!0;const I=bo(d);try{d.cleanupFn(),d.cleanupFn=Bn,d.fn(g)}finally{Bs(d,I)}},cleanup:()=>d.cleanupFn()},d.ref}(a,z=>{this.all.has(z)&&this.queue.set(z,y)},g);let S;this.all.add(I),I.notify();const R=()=>{I.cleanup(),S?.(),this.all.delete(I),this.queue.delete(I)};return S=d?.onDestroy(R),{destroy:R}}flush(){if(0!==this.queue.size)for(const[a,d]of this.queue)this.queue.delete(a),d?d.run(()=>a.run()):a.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Ce({token:r,providedIn:"root",factory:()=>new r})}return r})();function an(r,s,a){let d=a?r.styles:null,g=a?r.classes:null,y=0;if(null!==s)for(let I=0;I<s.length;I++){const S=s[I];"number"==typeof S?y=S:1==y?g=Ut(g,S):2==y&&(d=Ut(d,S+": "+s[++I]+";"))}a?r.styles=d:r.stylesWithoutHost=d,a?r.classes=g:r.classesWithoutHost=g}function wn(r,s,a,d,g=!1){for(;null!==a;){const y=s[a.index];null!==y&&d.push(ni(y)),ji(y)&&y0(y,d);const I=a.type;if(8&I)wn(r,s,a.child,d);else if(32&I){const S=qf(a,s);let R;for(;R=S();)d.push(R)}else if(16&I){const S=Ov(s,a);if(Array.isArray(S))d.push(...S);else{const R=Zf(s[Wr]);wn(R[Lt],R,S,d,!0)}}a=g?a.projectionNext:a.next}return d}function y0(r,s){for(let a=Fr;a<r.length;a++){const d=r[a],g=d[Lt].firstChild;null!==g&&wn(d[Lt],d,g,s)}r[Si]!==r[ur]&&s.push(r[Si])}function Qt(r,s,a,d=!0){const g=s[Ss],y=g.rendererFactory,I=g.afterRenderEventManager;y.begin?.(),I?.begin();try{so(r,s,r.template,a)}catch(R){throw d&&xs(s,R),R}finally{y.end?.(),g.effectManager?.flush(),I?.end()}}function so(r,s,a,d){const g=s[jn];if(256!=(256&g)){s[Ss].effectManager?.flush(),_e(s);try{Wu(s),function Ll(r){return pn.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==a&&ud(r,s,a,2,d);const I=3==(3&g);if(I){const z=r.preOrderCheckHooks;null!==z&&Yc(s,z,null)}else{const z=r.preOrderHooks;null!==z&&_l(s,z,0,null),Cd(s,0)}if(function $b(r){for(let s=Tg(r);null!==s;s=Bh(s)){if(!s[Ii])continue;const a=s[Xa];for(let d=0;d<a.length;d++){Ih(a[d])}}}(s),fy(s,2),null!==r.contentQueries&&uy(r,s),I){const z=r.contentCheckHooks;null!==z&&Yc(s,z)}else{const z=r.contentHooks;null!==z&&_l(s,z,1),Cd(s,1)}!function Ub(r,s){const a=r.hostBindingOpCodes;if(null===a)return;const d=tf(s,Fo);try{for(let g=0;g<a.length;g++){const y=a[g];if(y<0)sa(~y);else{const I=y,S=a[++g],R=a[++g];Dh(S,I),d.dirty=!1;const z=bo(d);try{R(2,s[I])}finally{Bs(d,z)}}}}finally{null===s[Fo]&&Sp(s,Fo),sa(-1)}}(r,s);const S=r.components;null!==S&&v0(s,S,0);const R=r.viewQuery;if(null!==R&&df(2,R,d),I){const z=r.viewCheckHooks;null!==z&&Yc(s,z)}else{const z=r.viewHooks;null!==z&&_l(s,z,2),Cd(s,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),s[jn]&=-73,ei(s)}finally{Or()}}}function fy(r,s){for(let a=Tg(r);null!==a;a=Bh(a))for(let d=Fr;d<a.length;d++)py(a[d],s)}function zb(r,s,a){py(fi(s,r),a)}function py(r,s){if(!function zu(r){return 128==(128&r[jn])}(r))return;const a=r[Lt],d=r[jn];if(80&d&&0===s||1024&d||2===s)so(a,r,a.template,r[er]);else if(r[Ws]>0){fy(r,1);const g=a.components;null!==g&&v0(r,g,1)}}function v0(r,s,a){for(let d=0;d<s.length;d++)zb(r,s[d],a)}class Rp{get rootNodes(){const s=this._lView,a=s[Lt];return wn(a,s,a.firstChild,[])}constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[er]}set context(s){this._lView[er]=s}get destroyed(){return 256==(256&this._lView[jn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[Nr];if(ji(s)){const a=s[8],d=a?a.indexOf(this):-1;d>-1&&(Dg(s,d),Ph(a,d))}this._attachedToViewContainer=!1}Qf(this._lView[Lt],this._lView)}onDestroy(s){Ac(this._lView,s)}markForCheck(){Ql(this._cdRefInjectingView||this._lView)}detach(){this._lView[jn]&=-129}reattach(){this._lView[jn]|=128}detectChanges(){Qt(this._lView[Lt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new je(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function g_(r,s){Mg(r,s,s[Pn],2,null,null)}(this._lView[Lt],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new je(902,!1);this._appRef=s}}class gy extends Rp{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;Qt(s[Lt],s,s[er],!1)}checkNoChanges(){}get context(){return null}}class b0 extends bp{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=hr(s);return new Qn(a,this.ngModule)}}function my(r){const s=[];for(let a in r)r.hasOwnProperty(a)&&s.push({propName:r[a],templateName:a});return s}class w0{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,d){d=ks(d);const g=this.injector.get(s,q_,d);return g!==q_||a===q_?g:this.parentInjector.get(s,a,d)}}class Qn extends Wv{get inputs(){const s=this.componentDef,a=s.inputTransforms,d=my(s.inputs);if(null!==a)for(const g of d)a.hasOwnProperty(g.propName)&&(g.transform=a[g.propName]);return d}get outputs(){return my(this.componentDef.outputs)}constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function _i(r){return r.map(Gc).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}create(s,a,d,g){let y=(g=g||this.ngModule)instanceof Mc?g:g?.injector;y&&null!==this.componentDef.getStandaloneInjector&&(y=this.componentDef.getStandaloneInjector(y)||y);const I=y?new w0(s,y):s,S=I.get(Yv,null);if(null===S)throw new je(407,!1);const me={rendererFactory:S,sanitizer:I.get(z_,null),effectManager:I.get(sl,null),afterRenderEventManager:I.get(Qd,null)},Me=S.createRenderer(null,this.componentDef),Le=this.componentDef.selectors[0][0]||"div",ft=d?function tm(r,s,a,d){const y=d.get(Jd,!1)||a===ws.ShadowDom,I=r.selectRootElement(s,y);return function Vb(r){ay(r)}(I),I}(Me,d,this.componentDef.encapsulation,I):Rd(Me,Le,function Wb(r){const s=r.toLowerCase();return"svg"===s?rc:"math"===s?"math":null}(Le)),Tn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let wt=null;null!==ft&&(wt=Pu(ft,I,!0));const fr=nh(0,null,null,1,0,null,null,null,null,null,null),Vr=sf(null,fr,null,Tn,null,null,me,Me,I,null,wt);let Hi,cl;_e(Vr);try{const bh=this.componentDef;let Ym,TD=null;bh.findHostDirectiveDefs?(Ym=[],TD=new Map,bh.findHostDirectiveDefs(bh,Ym,TD),Ym.push(bh)):Ym=[bh];const RS=function _y(r,s){const a=r[Lt],d=$n;return r[d]=s,aa(a,d,2,"#host",null)}(Vr,ft),PS=function bs(r,s,a,d,g,y,I){const S=g[Lt];!function fn(r,s,a,d){for(const g of r)s.mergedAttrs=Ja(s.mergedAttrs,g.hostAttrs);null!==s.mergedAttrs&&(an(s,s.mergedAttrs,!0),null!==a&&Rv(d,a,s))}(d,r,s,I);let R=null;null!==s&&(R=Pu(s,g[wr]));const z=y.rendererFactory.createRenderer(s,a);let ie=16;a.signals?ie=4096:a.onPush&&(ie=64);const me=sf(g,th(a),null,ie,g[r.index],r,y,z,null,null,R);return S.firstCreatePass&&Co(S,r,d.length-1),om(g,me),g[r.index]=me}(RS,ft,bh,Ym,Vr,me,Me);cl=$u(fr,$n),ft&&function Br(r,s,a,d){if(d)qi(r,a,["ng-version",Jv.full]);else{const{attrs:g,classes:y}=function xo(r){const s=[],a=[];let d=1,g=2;for(;d<r.length;){let y=r[d];if("string"==typeof y)2===g?""!==y&&s.push(y,r[++d]):8===g&&a.push(y);else{if(!ci(g))break;g=y}d++}return{attrs:s,classes:a}}(s.selectors[0]);g&&qi(r,a,g),y&&y.length>0&&I_(r,a,y.join(" "))}}(Me,bh,ft,d),void 0!==a&&function yy(r,s,a){const d=r.projection=[];for(let g=0;g<s.length;g++){const y=a[g];d.push(null!=y?Array.from(y):null)}}(cl,this.ngContentSelectors,a),Hi=function oh(r,s,a,d,g,y){const I=cs(),S=g[Lt],R=ys(I,g);lf(S,g,I,a,null,d);for(let ie=0;ie<a.length;ie++)Ca(Xc(g,S,I.directiveStart+ie,I),g);cy(S,g,I),R&&Ca(R,g);const z=Xc(g,S,I.directiveStart+I.componentOffset,I);if(r[er]=g[er]=z,null!==y)for(const ie of y)ie(z,s);return Np(S,I,r),z}(PS,bh,Ym,TD,Vr,[Vs]),Nt(fr,Vr,null)}finally{Or()}return new hf(this.componentType,Hi,qd(cl,Vr),Vr,cl)}}class hf extends $_{constructor(s,a,d,g,y){super(),this.location=d,this._rootLView=g,this._tNode=y,this.previousInputValues=null,this.instance=a,this.hostView=this.changeDetectorRef=new gy(g),this.componentType=s}setInput(s,a){const d=this._tNode.inputs;let g;if(null!==d&&(g=d[s])){if(this.previousInputValues??=new Map,this.previousInputValues.has(s)&&Object.is(this.previousInputValues.get(s),a))return;const y=this._rootLView;dd(y[Lt],y,g,s,a),this.previousInputValues.set(s,a),Ql(fi(this._tNode.index,y))}}get injector(){return new zo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function Vs(){const r=cs();hu(dt()[Lt],r)}function hd(r){let s=function Jt(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),a=!0;const d=[r];for(;s;){let g;if(yi(r))g=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new je(903,!1);g=s.\u0275dir}if(g){if(a){d.push(g);const I=r;I.inputs=eu(r.inputs),I.inputTransforms=eu(r.inputTransforms),I.declaredInputs=eu(r.declaredInputs),I.outputs=eu(r.outputs);const S=g.hostBindings;S&&I0(r,S);const R=g.viewQuery,z=g.contentQueries;if(R&&am(r,R),z&&cm(r,z),st(r.inputs,g.inputs),st(r.declaredInputs,g.declaredInputs),st(r.outputs,g.outputs),null!==g.inputTransforms&&(null===I.inputTransforms&&(I.inputTransforms={}),st(I.inputTransforms,g.inputTransforms)),yi(g)&&g.data.animation){const ie=r.data;ie.animation=(ie.animation||[]).concat(g.data.animation)}}const y=g.features;if(y)for(let I=0;I<y.length;I++){const S=y[I];S&&S.ngInherit&&S(r),S===hd&&(a=!1)}}s=Object.getPrototypeOf(s)}!function vy(r){let s=0,a=null;for(let d=r.length-1;d>=0;d--){const g=r[d];g.hostVars=s+=g.hostVars,g.hostAttrs=Ja(g.hostAttrs,a=Ja(a,g.hostAttrs))}}(d)}function eu(r){return r===Is?{}:r===lr?[]:r}function am(r,s){const a=r.viewQuery;r.viewQuery=a?(d,g)=>{s(d,g),a(d,g)}:s}function cm(r,s){const a=r.contentQueries;r.contentQueries=a?(d,g,y)=>{s(d,g,y),a(d,g,y)}:s}function I0(r,s){const a=r.hostBindings;r.hostBindings=a?(d,g)=>{s(d,g),a(d,g)}:s}function So(r){return s=>{s.findHostDirectiveDefs=lm,s.hostDirectives=(Array.isArray(r)?r:r()).map(a=>"function"==typeof a?{directive:Rt(a),inputs:Is,outputs:Is}:{directive:Rt(a.directive),inputs:wy(a.inputs),outputs:wy(a.outputs)})}}function lm(r,s,a){if(null!==r.hostDirectives)for(const d of r.hostDirectives){const g=Jr(d.directive);T0(g.declaredInputs,d.inputs),lm(g,s,a),a.set(g,d),s.push(g)}}function wy(r){if(void 0===r||0===r.length)return Is;const s={};for(let a=0;a<r.length;a+=2)s[r[a]]=r[a+1];return s}function T0(r,s){for(const a in s)s.hasOwnProperty(a)&&(r[s[a]]=r[a])}function We(r){const s=r.inputConfig,a={};for(const d in s)if(s.hasOwnProperty(d)){const g=s[d];Array.isArray(g)&&g[2]&&(a[d]=g[2])}r.inputTransforms=a}function yc(r){return!!Al(r)&&(Array.isArray(r)||!(r instanceof Map)&&Symbol.iterator in r)}function Al(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function Na(r,s,a){return r[s]=a}function Ko(r,s,a){return!Object.is(r[s],a)&&(r[s]=a,!0)}function fd(r,s,a,d){const g=Ko(r,s,a);return Ko(r,s+1,d)||g}function ch(r,s,a,d,g){const y=fd(r,s,a,d);return Ko(r,s+2,g)||y}function lh(r,s,a,d){const g=dt();return Ko(g,jo(),s)&&(Tr(),Us(Rr(),g,r,s,a,d)),lh}function uh(r,s,a,d){return Ko(r,jo(),a)?s+Ke(a)+d:rr}function gf(r,s,a,d,g,y,I,S){const z=ch(r,function Go(){return pn.lFrame.bindingIndex}(),a,g,I);return Ia(3),z?s+Ke(a)+d+Ke(g)+y+Ke(I)+S:rr}function la(r,s,a,d,g,y,I,S){const R=dt(),z=Tr(),ie=r+$n,me=z.firstCreatePass?function Wi(r,s,a,d,g,y,I,S,R){const z=s.consts,ie=aa(s,r,4,I||null,va(z,S));il(s,a,ie,va(z,R)),hu(s,ie);const me=ie.tView=nh(2,ie,d,g,y,s.directiveRegistry,s.pipeRegistry,null,s.schemas,z,null);return null!==s.queries&&(s.queries.template(s,ie),me.queries=s.queries.embeddedTView(ie)),ie}(ie,z,R,s,a,d,g,y,I):z.data[ie];Io(me,!1);const Me=Ur(z,R,me,r);Rf()&&Og(z,R,Me,me),Ca(Me,R),om(R,R[ie]=g0(Me,R,Me,me)),yo(me)&&af(z,R,me),null!=I&&eh(R,me,S)}let Ur=function Gs(r,s,a,d){return Kc(!0),s[Pn].createComment("")};function Rs(r){return Cc(function du(){return pn.lFrame.contextLView}(),$n+r)}function nu(r,s,a){const d=dt();return Ko(d,jo(),s)&&_c(Tr(),Rr(),d,r,s,d[Pn],a,!1),nu}function ol(r,s,a,d,g){const I=g?"class":"style";dd(r,a,s.inputs[I],I,d)}function ph(r,s,a,d){const g=dt(),y=Tr(),I=$n+r,S=g[Pn],R=y.firstCreatePass?function fh(r,s,a,d,g,y){const I=s.consts,R=aa(s,r,2,d,va(I,g));return il(s,a,R,va(I,y)),null!==R.attrs&&an(R,R.attrs,!1),null!==R.mergedAttrs&&an(R,R.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,R),R}(I,y,g,s,a,d):y.data[I],z=dm(y,g,R,S,s,r);g[I]=z;const ie=yo(R);return Io(R,!0),Rv(S,z,R),32!=(32&R.flags)&&Rf()&&Og(y,g,z,R),0===function qu(){return pn.lFrame.elementDepthCount}()&&Ca(z,g),function Eh(){pn.lFrame.elementDepthCount++}(),ie&&(af(y,g,R),Np(y,R,g)),null!==d&&eh(g,R),ph}function pd(){let r=cs();uu()?ic():(r=r.parent,Io(r,!1));const s=r;(function wa(r){return pn.skipHydrationRootTNode===r})(s)&&function lu(){pn.skipHydrationRootTNode=null}(),function Pl(){pn.lFrame.elementDepthCount--}();const a=Tr();return a.firstCreatePass&&(hu(a,r),ta(r)&&a.queries.elementEnd(r)),null!=s.classesWithoutHost&&function Pf(r){return 0!=(8&r.flags)}(s)&&ol(a,s,dt(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function kf(r){return 0!=(16&r.flags)}(s)&&ol(a,s,dt(),s.stylesWithoutHost,!1),pd}function um(r,s,a,d){return ph(r,s,a,d),pd(),um}let dm=(r,s,a,d,g,y)=>(Kc(!0),Rd(d,g,function Ju(){return pn.lFrame.currentNamespace}()));function ru(r,s,a){const d=dt(),g=Tr(),y=r+$n,I=g.firstCreatePass?function C0(r,s,a,d,g){const y=s.consts,I=va(y,d),S=aa(s,r,8,"ng-container",I);return null!==I&&an(S,I,!0),il(s,a,S,va(y,g)),null!==s.queries&&s.queries.elementStart(s,S),S}(y,g,d,s,a):g.data[y];Io(I,!0);const S=fm(g,d,I,r);return d[y]=S,Rf()&&Og(g,d,S,I),Ca(S,d),yo(I)&&(af(g,d,I),Np(g,I,d)),null!=a&&eh(d,I),ru}function gh(){let r=cs();const s=Tr();return uu()?ic():(r=r.parent,Io(r,!1)),s.firstCreatePass&&(hu(s,r),ta(r)&&s.queries.elementEnd(r)),gh}let fm=(r,s,a,d)=>(Kc(!0),Yf(s[Pn],""));function Vi(){return dt()}function Ml(r){return!!r&&"function"==typeof r.then}function pm(r){return!!r&&"function"==typeof r.subscribe}function S0(r,s,a,d){const g=dt(),y=Tr(),I=cs();return function Qb(r,s,a,d,g,y,I){const S=yo(d),z=r.firstCreatePass&&Xl(r),ie=s[er],me=_0(s);let Me=!0;if(3&d.type||I){const Mt=ys(d,s),en=I?I(Mt):Mt,Tn=me.length,wt=I?Vr=>I(ni(Vr[d.index])):d.index;let fr=null;if(!I&&S&&(fr=function xD(r,s,a,d){const g=r.cleanup;if(null!=g)for(let y=0;y<g.length-1;y+=2){const I=g[y];if(I===a&&g[y+1]===d){const S=s[sr],R=g[y+2];return S.length>R?S[R]:null}"string"==typeof I&&(y+=2)}return null}(r,s,g,d.index)),null!==fr)(fr.__ngLastListenerFn__||fr).__ngNextListenerFn__=y,fr.__ngLastListenerFn__=y,Me=!1;else{y=Pi(d,s,ie,y,!1);const Vr=a.listen(en,g,y);me.push(y,Vr),z&&z.push(g,wt,Tn,Tn+1)}}else y=Pi(d,s,ie,y,!1);const Le=d.outputs;let ft;if(Me&&null!==Le&&(ft=Le[g])){const Mt=ft.length;if(Mt)for(let en=0;en<Mt;en+=2){const Hi=s[ft[en]][ft[en+1]].subscribe(y),cl=me.length;me.push(y,Hi),z&&z.push(g,d.index,cl,-(cl+1))}}}(y,g,g[Pn],I,r,s,d),S0}function Kr(r,s,a,d){try{return Ui(6,s,a),!1!==a(d)}catch(g){return xs(r,g),!1}finally{Ui(7,s,a)}}function Pi(r,s,a,d,g){return function y(I){if(I===Function)return d;Ql(r.componentOffset>-1?fi(r.index,s):s);let R=Kr(s,a,d,I),z=y.__ngNextListenerFn__;for(;z;)R=Kr(s,a,z,I)&&R,z=z.__ngNextListenerFn__;return g&&!1===R&&I.preventDefault(),R}}function Up(r=1){return function gr(r){return(pn.lFrame.contextLView=function sc(r,s){for(;r>0;)s=s[is],r--;return s}(r,pn.lFrame.contextLView))[er]}(r)}function Jb(r,s){let a=null;const d=function go(r){const s=r.attrs;if(null!=s){const a=s.indexOf(5);if(!(1&a))return s[a+1]}return null}(r);for(let g=0;g<s.length;g++){const y=s[g];if("*"!==y){if(null===d?Ls(r,y,!0):ll(d,y))return g}else a=g}return a}function A0(r){const s=dt()[Wr][ti];if(!s.projection){const d=s.projection=Eu(r?r.length:1,null),g=d.slice();let y=s.child;for(;null!==y;){const I=r?Jb(y,r):0;null!==I&&(g[I]?g[I].projectionNext=y:d[I]=y,g[I]=y),y=y.next}}}function Xb(r,s=0,a){const d=dt(),g=Tr(),y=aa(g,$n+r,16,null,a||null);null===y.projection&&(y.projection=s),ic(),(!d[ki]||ba())&&32!=(32&y.flags)&&function YI(r,s,a){hb(s[Pn],0,s,a,Xf(r,a,s),ep(a.parent||s[ti],a,s))}(g,d,y)}function Cy(r,s,a){return Sy(r,"",s,"",a),Cy}function Sy(r,s,a,d,g){const y=dt(),I=uh(y,s,a,d);return I!==rr&&_c(Tr(),Rr(),y,r,I,y[Pn],g,!1),Sy}function N0(r,s){return r<<17|s<<2}function mf(r){return r>>17&32767}function mh(r){return 2|r}function Vu(r){return(131068&r)>>2}function gm(r,s){return-131069&r|s<<2}function M0(r){return 1|r}function sw(r,s,a,d,g){const y=r[a+1],I=null===s;let S=d?mf(y):Vu(y),R=!1;for(;0!==S&&(!1===R||I);){const ie=r[S+1];ow(r[S],s)&&(R=!0,r[S+1]=d?M0(ie):mh(ie)),S=d?mf(ie):Vu(ie)}R&&(r[a+1]=d?mh(y):M0(y))}function ow(r,s){return null===r||null==s||(Array.isArray(r)?r[1]:r)===s||!(!Array.isArray(r)||"string"!=typeof s)&&zl(r,s)>=0}const co={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function x0(r){return r.substring(co.key,co.keyEnd)}function R0(r,s){const a=co.textEnd;return a===s?-1:(s=co.keyEnd=function Ay(r,s,a){for(;s<a&&r.charCodeAt(s)>32;)s++;return s}(r,co.key=s,a),yf(r,s,a))}function yf(r,s,a){for(;s<a&&r.charCodeAt(s)<=32;)s++;return s}function k0(r,s){return function Lc(r,s,a,d){const g=dt(),y=Tr(),I=Ia(2);y.firstUpdatePass&&Cr(y,r,I,d),s!==rr&&Ko(g,I,s)&&bf(y,y.data[zr()],g,g[Pn],r,g[I+1]=function ST(r,s){return null==r||""===r||("string"==typeof s?r+=s:"object"==typeof r&&(r=Ot(Zl(r)))),r}(s,a),d,I)}(r,s,null,!0),k0}function Hu(r){!function ju(r,s,a,d){const g=Tr(),y=Ia(2);g.firstUpdatePass&&Cr(g,null,y,d);const I=dt();if(a!==rr&&Ko(I,y,a)){const S=g.data[zr()];if(Hp(S,d)&&!IT(g,y)){let R=d?S.classesWithoutHost:S.stylesWithoutHost;null!==R&&(a=Ut(R,a||"")),ol(g,S,I,a,d)}else!function ym(r,s,a,d,g,y,I,S){g===rr&&(g=lr);let R=0,z=0,ie=0<g.length?g[0]:null,me=0<y.length?y[0]:null;for(;null!==ie||null!==me;){const Me=R<g.length?g[R+1]:void 0,Le=z<y.length?y[z+1]:void 0;let Mt,ft=null;ie===me?(R+=2,z+=2,Me!==Le&&(ft=me,Mt=Le)):null===me||null!==ie&&ie<me?(R+=2,ft=ie):(z+=2,ft=me,Mt=Le),null!==ft&&bf(r,s,a,d,ft,Mt,I,S),ie=R<g.length?g[R]:null,me=z<y.length?y[z]:null}}(g,S,I,I[Pn],I[y+1],I[y+1]=function LD(r,s,a){if(null==a||""===a)return lr;const d=[],g=Zl(a);if(Array.isArray(g))for(let y=0;y<g.length;y++)r(d,g[y],!0);else if("object"==typeof g)for(const y in g)g.hasOwnProperty(y)&&r(d,y,g[y]);else"string"==typeof g&&s(d,g);return d}(r,s,a),d,y)}}(CT,Gu,r,!0)}function Gu(r,s){for(let a=function kc(r){return function aw(r){co.key=0,co.keyEnd=0,co.value=0,co.valueEnd=0,co.textEnd=r.length}(r),R0(r,yf(r,0,co.textEnd))}(s);a>=0;a=R0(s,a))Da(r,x0(s),!0)}function IT(r,s){return s>=r.expandoStartIndex}function Cr(r,s,a,d){const g=r.data;if(null===g[a+1]){const y=g[zr()],I=IT(r,a);Hp(y,d)&&null===s&&!I&&(s=!1),s=function FD(r,s,a,d){const g=function x(r){const s=pn.lFrame.currentDirectiveIndex;return-1===s?null:r[s]}(r);let y=d?s.residualClasses:s.residualStyles;if(null===g)0===(d?s.classBindings:s.styleBindings)&&(a=vf(a=F0(null,r,s,a,d),s.attrs,d),y=null);else{const I=s.directiveStylingLast;if(-1===I||r[I]!==g)if(a=F0(g,r,s,a,d),null===y){let R=function lw(r,s,a){const d=a?s.classBindings:s.styleBindings;if(0!==Vu(d))return r[mf(d)]}(r,s,d);void 0!==R&&Array.isArray(R)&&(R=F0(null,r,s,R[1],d),R=vf(R,s.attrs,d),function TT(r,s,a,d){r[mf(a?s.classBindings:s.styleBindings)]=d}(r,s,d,R))}else y=function ET(r,s,a){let d;const g=s.directiveEnd;for(let y=1+s.directiveStylingLast;y<g;y++)d=vf(d,r[y].hostAttrs,a);return vf(d,s.attrs,a)}(r,s,d)}return void 0!==y&&(d?s.residualClasses=y:s.residualStyles=y),a}(g,y,s,d),function vT(r,s,a,d,g,y){let I=y?s.classBindings:s.styleBindings,S=mf(I),R=Vu(I);r[d]=a;let ie,z=!1;if(Array.isArray(a)?(ie=a[1],(null===ie||zl(a,ie)>0)&&(z=!0)):ie=a,g)if(0!==R){const Me=mf(r[S+1]);r[d+1]=N0(Me,S),0!==Me&&(r[Me+1]=gm(r[Me+1],d)),r[S+1]=function iw(r,s){return 131071&r|s<<17}(r[S+1],d)}else r[d+1]=N0(S,0),0!==S&&(r[S+1]=gm(r[S+1],d)),S=d;else r[d+1]=N0(R,0),0===S?S=d:r[R+1]=gm(r[R+1],d),R=d;z&&(r[d+1]=mh(r[d+1])),sw(r,ie,d,!0),sw(r,ie,d,!1),function mm(r,s,a,d,g){const y=g?r.residualClasses:r.residualStyles;null!=y&&"string"==typeof s&&zl(y,s)>=0&&(a[d+1]=M0(a[d+1]))}(s,ie,r,d,y),I=N0(S,R),y?s.classBindings=I:s.styleBindings=I}(g,y,s,a,I,d)}}function F0(r,s,a,d,g){let y=null;const I=a.directiveEnd;let S=a.directiveStylingLast;for(-1===S?S=a.directiveStart:S++;S<I&&(y=s[S],d=vf(d,y.hostAttrs,g),y!==r);)S++;return null!==r&&(a.directiveStylingLast=S),d}function vf(r,s,a){const d=a?1:2;let g=-1;if(null!==s)for(let y=0;y<s.length;y++){const I=s[y];"number"==typeof I?g=I:g===d&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),Da(r,I,!!a||s[++y]))}return void 0===r?null:r}function CT(r,s,a){const d=String(s);""!==d&&!d.includes(" ")&&Da(r,d,a)}function bf(r,s,a,d,g,y,I,S){if(!(3&s.type))return;const R=r.data,z=R[S+1],ie=function O0(r){return 1==(1&r)}(z)?uw(R,s,a,g,Vu(z),I):void 0;md(ie)||(md(y)||function RD(r){return 2==(2&r)}(z)&&(y=uw(R,null,a,g,S,I)),function JI(r,s,a,d,g){if(s)g?r.addClass(a,d):r.removeClass(a,d);else{let y=-1===d.indexOf("-")?void 0:wv.DashCase;null==g?r.removeStyle(a,d,y):("string"==typeof g&&g.endsWith("!important")&&(g=g.slice(0,-10),y|=wv.Important),r.setStyle(a,d,g,y))}}(d,I,pl(zr(),a),g,y))}function uw(r,s,a,d,g,y){const I=null===s;let S;for(;g>0;){const R=r[g],z=Array.isArray(R),ie=z?R[1]:R,me=null===ie;let Me=a[g+1];Me===rr&&(Me=me?lr:void 0);let Le=me?dg(Me,d):ie===d?Me:void 0;if(z&&!md(Le)&&(Le=dg(R,d)),md(Le)&&(S=Le,I))return S;const ft=r[g+1];g=I?mf(ft):Vu(ft)}if(null!==s){let R=y?s.residualClasses:s.residualStyles;null!=R&&(S=dg(R,d))}return S}function md(r){return void 0!==r}function Hp(r,s){return 0!=(r.flags&(s?8:16))}function dw(r,s=""){const a=dt(),d=Tr(),g=r+$n,y=d.firstCreatePass?aa(d,g,1,s,null):d.data[g],I=hw(d,a,y,s,r);a[g]=I,Rf()&&Og(d,a,I,y),Io(y,!1)}let hw=(r,s,a,d,g)=>(Kc(!0),Uh(s[Pn],d));function fw(r){return es("",r,""),fw}function es(r,s,a){const d=dt(),g=uh(d,r,s,a);return g!==rr&&ca(d,zr(),g),es}function vm(r,s,a,d,g,y,I){const S=dt(),R=gf(S,r,s,a,d,g,y,I);return R!==rr&&ca(S,zr(),R),vm}function U0(r,s,a){const d=dt();return Ko(d,jo(),s)&&_c(Tr(),Rr(),d,r,s,d[Pn],a,!0),U0}const jp=void 0;var BT=["en",[["a","p"],["AM","PM"],jp],[["AM","PM"],jp,jp],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],jp,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],jp,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",jp,"{1} 'at' {0}",jp],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function LT(r){const a=Math.floor(Math.abs(r)),d=r.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===d?1:5}];let Dm={};function Dw(r){const s=function No(r){return r.toLowerCase().replace(/_/g,"-")}(r);let a=$p(s);if(a)return a;const d=s.split("-")[0];if(a=$p(d),a)return a;if("en"===d)return BT;throw new je(701,!1)}function V0(r){return Dw(r)[Cm.PluralCase]}function $p(r){return r in Dm||(Dm[r]=cr.ng&&cr.ng.common&&cr.ng.common.locales&&cr.ng.common.locales[r]),Dm[r]}var Cm=function(r){return r[r.LocaleId=0]="LocaleId",r[r.DayPeriodsFormat=1]="DayPeriodsFormat",r[r.DayPeriodsStandalone=2]="DayPeriodsStandalone",r[r.DaysFormat=3]="DaysFormat",r[r.DaysStandalone=4]="DaysStandalone",r[r.MonthsFormat=5]="MonthsFormat",r[r.MonthsStandalone=6]="MonthsStandalone",r[r.Eras=7]="Eras",r[r.FirstDayOfWeek=8]="FirstDayOfWeek",r[r.WeekendRange=9]="WeekendRange",r[r.DateFormat=10]="DateFormat",r[r.TimeFormat=11]="TimeFormat",r[r.DateTimeFormat=12]="DateTimeFormat",r[r.NumberSymbols=13]="NumberSymbols",r[r.NumberFormats=14]="NumberFormats",r[r.CurrencyCode=15]="CurrencyCode",r[r.CurrencySymbol=16]="CurrencySymbol",r[r.CurrencyName=17]="CurrencyName",r[r.Currencies=18]="Currencies",r[r.Directionality=19]="Directionality",r[r.PluralCase=20]="PluralCase",r[r.ExtraData=21]="ExtraData",r}(Cm||{});const _d="en-US",Sm={marker:"element"},xy={marker:"ICU"};var Ma=function(r){return r[r.SHIFT=2]="SHIFT",r[r.APPEND_EAGERLY=1]="APPEND_EAGERLY",r[r.COMMENT=2]="COMMENT",r}(Ma||{});let Sw=_d;function Aw(r){(function cn(r,s){null==r&&Dt(s,r,null,"!=")})(r,"Expected localeId to be defined"),"string"==typeof r&&(Sw=r.toLowerCase().replace(/_/g,"-"))}function VT(r,s,a){const d=s.insertBeforeIndex,g=Array.isArray(d)?d[0]:d;return null===g?Ag(r,0,a):ni(a[g])}function Am(r,s,a,d,g){const y=s.insertBeforeIndex;if(Array.isArray(y)){let I=d,S=null;if(3&s.type||(S=I,I=g),null!==I&&-1===s.componentOffset)for(let R=1;R<y.length;R++)Nu(r,I,a[y[R]],S,!1)}}function H0(r,s){if(r.push(s),r.length>1)for(let a=r.length-2;a>=0;a--){const d=r[a];HT(d)||GT(d,s)&&null===Nw(d)&&jT(d,s.index)}}function HT(r){return!(64&r.type)}function GT(r,s){return HT(s)||r.index>s.index}function Nw(r){const s=r.insertBeforeIndex;return Array.isArray(s)?s[0]:s}function jT(r,s){const a=r.insertBeforeIndex;Array.isArray(a)?a[0]=s:(Nv(VT,Am),r.insertBeforeIndex=s)}function zD(r,s,a){const d=xc(r,a,64,null,null);return H0(s,d),d}function Mw(){const r=[];let a,d,s=-1;function y(S,R){s=0;const z=function G0(r,s){const a=s[r.currentCaseLViewIndex];return null===a?a:a<0?~a:a}(S,R);d=null!==z?S.remove[z]:lr}function I(){if(s<d.length){const S=d[s++];return S>0?a[S]:(r.push(s,d),y(a[Lt].data[~S],a),I())}return 0===r.length?null:(d=r.pop(),s=r.pop(),I())}return function g(S,R){for(a=R;r.length;)r.pop();return y(S.value,R),I}}const ky=/\ufffd(\d+):?\d*\ufffd/gi,Fy=/\ufffd(\d+)\ufffd/,Tf=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Ly="\ufffd",KT=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,YD=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,QD=/\uE500/g;function vh(r,s,a,d,g,y,I){const S=rl(r,d,1,null);let R=S<<Ma.SHIFT,z=ml();s===z&&(z=null),null===z&&(R|=Ma.APPEND_EAGERLY),I&&(R|=Ma.COMMENT,function cb(r){void 0===Su&&(Su=r())}(Mw)),g.push(R,null===y?"":y);const ie=xc(r,S,I?32:1,null===y?"":y,null);H0(a,ie);const me=ie.index;return Io(ie,!1),null!==z&&s!==z&&function $D(r,s){let a=r.insertBeforeIndex;null===a?(Nv(VT,Am),a=r.insertBeforeIndex=[null,s]):(function $e(r,s,a){r!=s&&Dt(a,r,s,"==")}(Array.isArray(a),!0,"Expecting array here"),a.push(s))}(z,me),ie}function YT(r,s,a,d,g,y,I){const S=I.match(ky),R=vh(r,s,a,y,d,S?null:I,!1);S&&Mm(g,I,R.index,null,0,null)}function Mm(r,s,a,d,g,y){const I=r.length,S=I+1;r.push(null,null);const R=I+2,z=s.split(ky);let ie=0;for(let me=0;me<z.length;me++){const Me=z[me];if(1&me){const Le=g+parseInt(Me,10);r.push(-1-Le),ie|=z0(Le)}else""!==Me&&r.push(Me)}return r.push(a<<2|(d?1:0)),d&&r.push(d,y),r[I]=ie,r[S]=r.length-R,ie}function z0(r){return 1<<Math.min(r,31)}function Pw(r){let s,y,a="",d=0,g=!1;for(;null!==(s=KT.exec(r));)g?s[0]===`${Ly}/*${y}${Ly}`&&(d=s.index,g=!1):(a+=r.substring(d,s.index+s[0].length),y=s[1],g=!0);return a+=r.slice(d),a}function W0(r,s,a,d,g,y){let I=0;const S={type:g.type,currentCaseLViewIndex:rl(r,s,1,null),anchorIdx:y,cases:[],create:[],remove:[],update:[]};(function JT(r,s,a){r.push(z0(s.mainBinding),2,-1-s.mainBinding,a<<2|2)})(a,g,y),function $T(r,s,a){const d=r.data[s];null===d?r.data[s]=a:d.value=a}(r,y,S);const R=g.values;for(let z=0;z<R.length;z++){const ie=R[z],me=[];for(let Me=0;Me<ie.length;Me++){const Le=ie[Me];if("string"!=typeof Le){const ft=me.push(Le)-1;ie[Me]=`\x3c!--\ufffd${ft}\ufffd--\x3e`}}I=tC(r,S,s,a,d,g.cases[z],ie.join(""),me)|I}I&&function Uy(r,s,a){r.push(s,1,a<<2|3)}(a,I,y)}function QT(r){const s=[],a=[];let d=1,g=0;const y=xm(r=r.replace(Tf,function(I,S,R){return d="select"===R?0:1,g=parseInt(S.slice(1),10),""}));for(let I=0;I<y.length;){let S=y[I++].trim();1===d&&(S=S.replace(/\s*(?:=)?(\w+)\s*/,"$1")),S.length&&s.push(S);const R=xm(y[I++]);s.length>a.length&&a.push(R)}return{type:d,mainBinding:g,cases:s,values:a}}function xm(r){if(!r)return[];let s=0;const a=[],d=[],g=/[{}]/g;let y;for(g.lastIndex=0;y=g.exec(r);){const S=y.index;if("}"==y[0]){if(a.pop(),0==a.length){const R=r.substring(s,S);Tf.test(R)?d.push(QT(R)):d.push(R),s=S+1}}else{if(0==a.length){const R=r.substring(s,S);d.push(R),s=S+1}a.push("{")}}const I=r.substring(s);return d.push(I),d}function tC(r,s,a,d,g,y,I,S){const R=[],z=[],ie=[];s.cases.push(y),s.create.push(R),s.remove.push(z),s.update.push(ie);const Me=Ld(Fd()).getInertBodyElement(I),Le=Fg(Me)||Me;return Le?q0(r,s,a,d,R,z,ie,Le,g,S,0):0}function q0(r,s,a,d,g,y,I,S,R,z,ie){let me=0,Me=S.firstChild;for(;Me;){const Le=rl(r,a,1,null);switch(Me.nodeType){case Node.ELEMENT_NODE:const ft=Me,Mt=ft.tagName.toLowerCase();if(Hh.hasOwnProperty(Mt)){Rm(g,Sm,Mt,R,Le),r.data[Le]=Mt;const fr=ft.attributes;for(let Vr=0;Vr<fr.length;Vr++){const Hi=fr.item(Vr),cl=Hi.name.toLowerCase();Hi.value.match(ky)?S_.hasOwnProperty(cl)&&Mm(I,Hi.value,Le,Hi.name,0,Hv[cl]?Uv:null):Vy(g,Le,Hi)}me=q0(r,s,a,d,g,y,I,Me,Le,z,ie+1)|me,By(y,Le,ie)}break;case Node.TEXT_NODE:const en=Me.textContent||"",Tn=en.match(ky);Rm(g,null,Tn?"":en,R,Le),By(y,Le,ie),Tn&&(me=Mm(I,en,Le,null,0,null)|me);break;case Node.COMMENT_NODE:const wt=Fy.exec(Me.textContent||"");if(wt){const Vr=z[parseInt(wt[1],10)];Rm(g,xy,"",R,Le),W0(r,a,d,R,Vr,Le),nC(y,Le,ie)}}Me=Me.nextSibling}return me}function By(r,s,a){0===a&&r.push(s)}function nC(r,s,a){0===a&&(r.push(~s),r.push(s))}function Rm(r,s,a,d,g){null!==s&&r.push(s),r.push(a,g,function WD(r,s,a){return r|s<<17|a<<1}(0,d,g))}function Vy(r,s,a){r.push(s<<1|1,a.name,a.value)}function Lw(r,s,a=-1){const d=Tr(),g=dt(),y=$n+r,I=va(d.consts,s),S=ml();d.firstCreatePass&&function qp(r,s,a,d,g,y){const I=ml(),S=[],R=[],z=[[]];g=function kw(r,s){if(function Rw(r){return-1===r}(s))return Pw(r);{const a=r.indexOf(`:${s}${Ly}`)+2+s.toString().length,d=r.search(new RegExp(`${Ly}\\/\\*\\d+:${s}${Ly}`));return Pw(r.substring(a,d))}}(g,y);const ie=function JD(r){return r.replace(QD," ")}(g).split(YD);for(let me=0;me<ie.length;me++){let Me=ie[me];if(1&me){const Le=47===Me.charCodeAt(0),Mt=(Me.charCodeAt(Le?1:0),$n+Number.parseInt(Me.substring(Le?2:1)));if(Le)z.shift(),Io(ml(),!1);else{const en=zD(r,z[0],Mt);z.unshift([]),Io(en,!0)}}else{const Le=xm(Me);for(let ft=0;ft<Le.length;ft++){let Mt=Le[ft];if(1&ft){const en=Mt;if("object"!=typeof en)throw new Error(`Unable to parse ICU expression in "${g}" message.`);W0(r,a,R,s,en,vh(r,I,z[0],a,S,"",!0).index)}else""!==Mt&&YT(r,I,z[0],S,R,a,Mt)}}}r.data[d]={create:S,update:R}}(d,null===S?0:S.index,g,y,I,a),2===d.type?g[Wr][jn]|=32:g[jn]|=32;const R=d.data[y],ie=Cg(d,S===g[ti]?null:S,g);(function WT(r,s,a,d){const g=r[Pn];for(let y=0;y<s.length;y++){const I=s[y++],S=s[y],z=(I&Ma.APPEND_EAGERLY)===Ma.APPEND_EAGERLY,ie=I>>>Ma.SHIFT;let me=r[ie];null===me&&(me=r[ie]=(I&Ma.COMMENT)===Ma.COMMENT?g.createComment(S):Uh(g,S)),z&&null!==a&&Nu(g,a,me,d,!1)}})(g,R.create,ie,S&&8&S.type?g[S.index]:null),Bl(!0)}function nE(r,s,a){Lw(r,s,a),function Df(){Bl(!1)}()}function Uw(r,s,a,d,g){if(r=Rt(r),Array.isArray(r))for(let y=0;y<r.length;y++)Uw(r[y],s,a,d,g);else{const y=Tr(),I=dt(),S=cs();let R=$h(r)?r:Rt(r.provide);const z=Ug(r),ie=1048575&S.providerIndexes,me=S.directiveStart,Me=S.providerIndexes>>20;if($h(r)||!r.multi){const Le=new Xu(z,g,Cl),ft=Fm(R,s,g?ie:ie+Me,me);-1===ft?(Gl(vl(S,I),y,R),Y0(y,r,s.length),s.push(R),S.directiveStart++,S.directiveEnd++,g&&(S.providerIndexes+=1048576),a.push(Le),I.push(Le)):(a[ft]=Le,I[ft]=Le)}else{const Le=Fm(R,s,ie+Me,me),ft=Fm(R,s,ie,ie+Me),en=ft>=0&&a[ft];if(g&&!en||!g&&!(Le>=0&&a[Le])){Gl(vl(S,I),y,R);const Tn=function oC(r,s,a,d,g){const y=new Xu(r,a,Cl);return y.multi=[],y.index=s,y.componentProviders=0,sE(y,g,d&&!a),y}(g?sC:iC,a.length,g,d,z);!g&&en&&(a[ft].providerFactory=Tn),Y0(y,r,s.length,0),s.push(R),S.directiveStart++,S.directiveEnd++,g&&(S.providerIndexes+=1048576),a.push(Tn),I.push(Tn)}else Y0(y,r,Le>-1?Le:ft,sE(a[g?ft:Le],z,!g&&d));!g&&d&&en&&a[ft].componentProviders++}}}function Y0(r,s,a,d){const g=$h(s),y=function k_(r){return!!r.useClass}(s);if(g||y){const R=(y?Rt(s.useClass):s).prototype.ngOnDestroy;if(R){const z=r.destroyHooks||(r.destroyHooks=[]);if(!g&&s.multi){const ie=z.indexOf(a);-1===ie?z.push(a,[d,R]):z[ie+1].push(d,R)}else z.push(a,R)}}}function sE(r,s,a){return a&&r.componentProviders++,r.multi.push(s)-1}function Fm(r,s,a,d){for(let g=a;g<d;g++)if(s[g]===r)return g;return-1}function iC(r,s,a,d){return Q0(this.multi,[])}function sC(r,s,a,d){const g=this.multi;let y;if(this.providerFactory){const I=this.providerFactory.componentProviders,S=Xc(a,a[Lt],this.providerFactory.index,d);y=S.slice(0,I),Q0(g,y);for(let R=I;R<S.length;R++)y.push(S[R])}else y=[],Q0(g,y);return y}function Q0(r,s){for(let a=0;a<r.length;a++)s.push((0,r[a])());return s}function Vw(r,s=[]){return a=>{a.providersResolver=(d,g)=>function iE(r,s,a){const d=Tr();if(d.firstCreatePass){const g=yi(r);Uw(a,d.data,d.blueprint,g,!0),Uw(s,d.data,d.blueprint,g,!1)}}(d,g?g(r):r,s)}}class Rl{}class Lm{}function oE(r,s){return new Hw(r,s??null,[])}class Hw extends Rl{constructor(s,a,d){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new b0(this);const g=ui(s);this._bootstrapComponents=Dl(g.bootstrap),this._r3Injector=t0(s,a,[{provide:Rl,useValue:this},{provide:bp,useValue:this.componentFactoryResolver},...d],Ot(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class J0 extends Lm{constructor(s){super(),this.moduleType=s}create(s){return new Hw(this.moduleType,s,[])}}class aE extends Rl{constructor(s){super(),this.componentFactoryResolver=new b0(this),this.instance=null;const a=new Mu([...s.providers,{provide:Rl,useValue:this},{provide:bp,useValue:this.componentFactoryResolver}],s.parent||zd(),s.debugName,new Set(["environment"]));this.injector=a,s.runEnvironmentInitializers&&a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function X0(r,s,a=null){return new aE({providers:r,parent:s,debugName:a,runEnvironmentInitializers:!0}).injector}let xa=(()=>{class r{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a)){const d=Hd(0,a.type),g=d.length>0?X0([d],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a,g)}return this.cachedInjectors.get(a)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Ce({token:r,providedIn:"environment",factory:()=>new r(Ln(Mc))})}return r})();function cE(r){r.getStandaloneInjector=s=>s.get(xa).getOrCreateStandaloneInjector(r)}function $w(r,s,a,d){return Hy(dt(),Os(),r,s,a,d)}function s1(r,s,a,d,g){return zw(dt(),Os(),r,s,a,d,g)}function _E(r,s,a,d,g,y){return function Ww(r,s,a,d,g,y,I,S){const R=s+a;return ch(r,R,g,y,I)?Na(r,R+3,S?d.call(S,g,y,I):d(g,y,I)):Zp(r,R+3)}(dt(),Os(),r,s,a,d,g,y)}function Zp(r,s){const a=r[s];return a===rr?void 0:a}function Hy(r,s,a,d,g,y){const I=s+a;return Ko(r,I,g)?Na(r,I+1,y?d.call(y,g):d(g)):Zp(r,I+1)}function zw(r,s,a,d,g,y,I){const S=s+a;return fd(r,S,g,y)?Na(r,S+2,I?d.call(I,g,y):d(g,y)):Zp(r,S+2)}function o1(r,s){const a=Tr();let d;const g=r+$n;a.firstCreatePass?(d=function fC(r,s){if(s)for(let a=s.length-1;a>=0;a--){const d=s[a];if(r===d.name)return d}}(s,a.pipeRegistry),a.data[g]=d,d.onDestroy&&(a.destroyHooks??=[]).push(g,d.onDestroy)):d=a.data[g];const y=d.factory||(d.factory=Ha(d.type)),S=mn(Cl);try{const R=Qc(!1),z=y();return Qc(R),function Oa(r,s,a,d){a>=r.data.length&&(r.data[a]=null,r.blueprint[a]=null),s[a]=d}(a,dt(),g,z),z}finally{mn(S)}}function Zw(r,s,a){const d=r+$n,g=dt(),y=Cc(g,d);return Kp(g,d)?Hy(g,Os(),s,y.transform,a,y):y.transform(a)}function a1(r,s,a,d){const g=r+$n,y=dt(),I=Cc(y,g);return Kp(y,g)?zw(y,Os(),s,I.transform,a,d,I):I.transform(a,d)}function Kp(r,s){return r[Lt].data[s].pure}function Kw(){return this._results[Symbol.iterator]()}class jy{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new El)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=jy.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=Kw)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const d=this;d.dirty=!1;const g=function el(r){return r.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function Jm(r,s,a){if(r.length!==s.length)return!1;for(let d=0;d<r.length;d++){let g=r[d],y=s[d];if(a&&(g=a(g),y=a(y)),y!==g)return!1}return!0}(d._results,g,a))&&(d._results=g,d.length=g.length,d.last=g[this.length-1],d.first=g[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function TE(r,s,a,d=!0){const g=s[Lt];if(function Eg(r,s,a,d){const g=Fr+d,y=a.length;d>0&&(a[g-1][wi]=s),d<y-Fr?(s[wi]=a[g],xd(a,Fr+d,s)):(a.push(s),s[wi]=null),s[Nr]=a;const I=s[gs];null!==I&&a!==I&&function __(r,s){const a=r[Xa];s[Wr]!==s[Nr][Nr][Wr]&&(r[Ii]=!0),null===a?r[Xa]=[s]:a.push(s)}(I,s);const S=s[di];null!==S&&S.insertView(r),s[jn]|=128}(g,s,r,a),d){const y=Mv(a,r),I=s[Pn],S=kd(I,r[Si]);null!==S&&function Dv(r,s,a,d,g,y){d[ur]=g,d[ti]=s,Mg(r,d,a,1,g,y)}(g,r[ti],I,s,S,y)}}let Yp=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=bc}return r})();const gC=Yp,mC=class extends gC{constructor(s,a,d){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=d}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(s,a){return this.createEmbeddedViewImpl(s,a)}createEmbeddedViewImpl(s,a,d){const g=function IE(r,s,a,d){const g=s.tView,S=sf(r,g,a,4096&r[jn]?4096:16,null,s,null,null,null,d?.injector??null,d?.hydrationInfo??null);S[gs]=r[s.index];const z=r[di];return null!==z&&(S[di]=z.createEmbeddedView(g)),Nt(g,S,a),S}(this._declarationLView,this._declarationTContainer,s,{injector:a,hydrationInfo:d});return new Rp(g)}};function bc(){return u1(cs(),dt())}function u1(r,s){return 4&r.type?new mC(s,r,qd(r,s)):null}let f1=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=bC}return r})();function bC(){return Wy(cs(),dt())}const $y=f1,p1=class extends $y{constructor(s,a,d){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=d}get element(){return qd(this._hostTNode,this._hostLView)}get injector(){return new zo(this._hostTNode,this._hostLView)}get parentInjector(){const s=bu(this._hostTNode,this._hostLView);if(pu(s)){const a=Hl(s,this._hostLView),d=Vl(s);return new zo(a[Lt].data[d+8],a)}return new zo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=Qp(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-Fr}createEmbeddedView(s,a,d){let g,y;"number"==typeof d?g=d:null!=d&&(g=d.index,y=d.injector);const S=s.createEmbeddedViewImpl(a||{},y,null);return this.insertImpl(S,g,false),S}createComponent(s,a,d,g,y){const I=s&&!function Rh(r){return"function"==typeof r}(s);let S;if(I)S=a;else{const Mt=a||{};S=Mt.index,d=Mt.injector,g=Mt.projectableNodes,y=Mt.environmentInjector||Mt.ngModuleRef}const R=I?s:new Qn(hr(s)),z=d||this.parentInjector;if(!y&&null==R.ngModule){const en=(I?z:this.parentInjector).get(Mc,null);en&&(y=en)}hr(R.componentType??{});const Le=R.create(z,g,null,y);return this.insertImpl(Le.hostView,S,false),Le}insert(s,a){return this.insertImpl(s,a,!1)}insertImpl(s,a,d){const g=s._lView;if(function wh(r){return ji(r[Nr])}(g)){const R=this.indexOf(s);if(-1!==R)this.detach(R);else{const z=g[Nr],ie=new p1(z,z[ti],z[Nr]);ie.detach(ie.indexOf(s))}}const I=this._adjustIndex(a),S=this._lContainer;return TE(S,g,I,!d),s.attachToViewContainerRef(),xd(zy(S),I,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=Qp(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),d=Dg(this._lContainer,a);d&&(Ph(zy(this._lContainer),a),Qf(d[Lt],d))}detach(s){const a=this._adjustIndex(s,-1),d=Dg(this._lContainer,a);return d&&null!=Ph(zy(this._lContainer),a)?new Rp(d):null}_adjustIndex(s,a=0){return s??this.length+a}};function Qp(r){return r[8]}function zy(r){return r[8]||(r[8]=[])}function Wy(r,s){let a;const d=s[r.index];return ji(d)?a=d:(a=g0(d,s,null,r),s[r.index]=a,om(s,a)),g1(a,s,r,d),new p1(a,r,s)}let g1=function Jw(r,s,a,d){if(r[Si])return;let g;g=8&a.type?ni(d):function qy(r,s){const a=r[Pn],d=a.createComment(""),g=ys(s,r);return Nu(a,kd(a,g),d,function v_(r,s){return r.nextSibling(s)}(a,g),!1),d}(s,a),r[Si]=g};class vd{constructor(s){this.queryList=s,this.matches=null}clone(){return new vd(this.queryList)}setDirty(){this.queryList.setDirty()}}class m1{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const d=null!==s.contentQueries?s.contentQueries[0]:a.length,g=[];for(let y=0;y<d;y++){const I=a.getByIndex(y);g.push(this.queries[I.indexInDeclarationView].clone())}return new m1(g)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==ME(s,a).matches&&this.queries[a].setDirty()}}class CE{constructor(s,a,d=null){this.predicate=s,this.flags=a,this.read=d}}class Zy{constructor(s=[]){this.queries=s}elementStart(s,a){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let d=0;d<this.length;d++){const g=null!==a?a.length:0,y=this.getByIndex(d).embeddedTView(s,g);y&&(y.indexInDeclarationView=d,null!==a?a.push(y):a=[y])}return null!==a?new Zy(a):null}template(s,a){for(let d=0;d<this.queries.length;d++)this.queries[d].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class tI{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new tI(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let d=s.parent;for(;null!==d&&8&d.type&&d.index!==a;)d=d.parent;return a===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const d=this.metadata.predicate;if(Array.isArray(d))for(let g=0;g<d.length;g++){const y=d[g];this.matchTNodeWithReadOption(s,a,nI(a,y)),this.matchTNodeWithReadOption(s,a,bl(a,s,y,!1,!1))}else d===Yp?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,bl(a,s,d,!1,!1))}matchTNodeWithReadOption(s,a,d){if(null!==d){const g=this.metadata.read;if(null!==g)if(g===Fu||g===f1||g===Yp&&4&a.type)this.addMatch(a.index,-2);else{const y=bl(a,s,g,!1,!1);null!==y&&this.addMatch(a.index,y)}else this.addMatch(a.index,d)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function nI(r,s){const a=r.localNames;if(null!==a)for(let d=0;d<a.length;d+=2)if(a[d]===s)return a[d+1];return null}function rI(r,s,a,d){return-1===a?function wC(r,s){return 11&r.type?qd(r,s):4&r.type?u1(r,s):null}(s,r):-2===a?function _1(r,s,a){return a===Fu?qd(s,r):a===Yp?u1(s,r):a===f1?Wy(s,r):void 0}(r,s,d):Xc(r,r[Lt],a,s)}function y1(r,s,a,d){const g=s[di].queries[d];if(null===g.matches){const y=r.data,I=a.matches,S=[];for(let R=0;R<I.length;R+=2){const z=I[R];S.push(z<0?null:rI(s,y[z],I[R+1],a.metadata.read))}g.matches=S}return g.matches}function v1(r,s,a,d){const g=r.queries.getByIndex(a),y=g.matches;if(null!==y){const I=y1(r,s,g,a);for(let S=0;S<y.length;S+=2){const R=y[S];if(R>0)d.push(I[S/2]);else{const z=y[S+1],ie=s[-R];for(let me=Fr;me<ie.length;me++){const Me=ie[me];Me[gs]===Me[Nr]&&v1(Me[Lt],Me,z,d)}if(null!==ie[Xa]){const me=ie[Xa];for(let Me=0;Me<me.length;Me++){const Le=me[Me];v1(Le[Lt],Le,z,d)}}}}}return d}function Jp(r){const s=dt(),a=Tr(),d=D();P(d+1);const g=ME(a,d);if(r.dirty&&function gl(r){return 4==(4&r[jn])}(s)===(2==(2&g.metadata.flags))){if(null===g.matches)r.reset([]);else{const y=g.crossesNgTemplate?v1(a,s,d,[]):y1(a,s,g,d);r.reset(y,Zg),r.notifyOnChanges()}return!0}return!1}function b1(r,s,a){const d=Tr();d.firstCreatePass&&(OE(d,new CE(r,s,a),-1),2==(2&s)&&(d.staticViewQueries=!0)),iI(d,dt(),s)}function SE(r,s,a,d){const g=Tr();if(g.firstCreatePass){const y=cs();OE(g,new CE(s,a,d),y.index),function sI(r,s){const a=r.contentQueries||(r.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(r.queries.length-1,s)}(g,r),2==(2&a)&&(g.staticContentQueries=!0)}iI(g,dt(),a)}function AE(){return function NE(r,s){return r[di].queries[s].queryList}(dt(),D())}function iI(r,s,a){const d=new jy(4==(4&a));(function mc(r,s,a,d){const g=_0(s);g.push(a),r.firstCreatePass&&Xl(r).push(d,g.length-1)})(r,s,d,d.destroy),null===s[di]&&(s[di]=new m1),s[di].queries.push(new vd(d))}function OE(r,s,a){null===r.queries&&(r.queries=new Zy),r.queries.track(new tI(s,a))}function ME(r,s){return r.queries.getByIndex(s)}function w1(r,s){return u1(r,s)}function Ky(r){return!!ui(r)}const x1=new Rn("Application Initializer");let mI=(()=>{class r{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,d)=>{this.resolve=a,this.reject=d}),this.appInits=tr(x1,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const a=[];for(const g of this.appInits){const y=g();if(Ml(y))a.push(y);else if(pm(y)){const I=new Promise((S,R)=>{y.subscribe({complete:S,error:R})});a.push(I)}}const d=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{d()}).catch(g=>{this.reject(g)}),0===a.length&&d(),this.initialized=!0}static#e=this.\u0275fac=function(d){return new(d||r)};static#t=this.\u0275prov=Ce({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),YE=(()=>{class r{log(a){console.log(a)}warn(a){console.warn(a)}static#e=this.\u0275fac=function(d){return new(d||r)};static#t=this.\u0275prov=Ce({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})();const R1=new Rn("LocaleId",{providedIn:"root",factory:()=>tr(R1,Xt.Optional|Xt.SkipSelf)||function _I(){return typeof $localize<"u"&&$localize.locale||_d}()}),yI=new Rn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let P1=(()=>{class r{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new de.X(!1)}add(){this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(d){return new(d||r)};static#t=this.\u0275prov=Ce({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();class JE{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let vI=(()=>{class r{compileModuleSync(a){return new J0(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const d=this.compileModuleSync(a),y=Dl(ui(a).declarations).reduce((I,S)=>{const R=hr(S);return R&&I.push(new Qn(R)),I},[]);return new JE(d,y)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}static#e=this.\u0275fac=function(d){return new(d||r)};static#t=this.\u0275prov=Ce({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const SI=new Rn(""),j1=new Rn("");let NI,nD=(()=>{class r{constructor(a,d,g){this._ngZone=a,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,NI||(function AI(r){NI=r}(g),g.addToWindow(d)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Zo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(a)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,d,g){let y=-1;d&&d>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(I=>I.timeoutId!==y),a(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:a,timeoutId:y,updateCb:g})}whenStable(a,d,g){if(g&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,d,g),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,d,g){return[]}static#e=this.\u0275fac=function(d){return new(d||r)(Ln(Zo),Ln(ng),Ln(j1))};static#t=this.\u0275prov=Ce({token:r,factory:r.\u0275fac})}return r})(),ng=(()=>{class r{constructor(){this._applications=new Map}registerApplication(a,d){this._applications.set(a,d)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,d=!0){return NI?.findTestabilityInTree(this,a,d)??null}static#e=this.\u0275fac=function(d){return new(d||r)};static#t=this.\u0275prov=Ce({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})(),Nf=null;const rD=new Rn("AllowMultipleToken"),$1=new Rn("PlatformDestroyListeners"),OI=new Rn("appBootstrapListener");class HC{constructor(s,a){this.name=s,this.token=a}}function MI(r,s,a=[]){const d=`Platform: ${s}`,g=new Rn(d);return(y=[])=>{let I=W1();if(!I||I.injector.get(rD,!1)){const S=[...a,...y,{provide:g,useValue:!0}];r?r(S):function oD(r){if(Nf&&!Nf.get(rD,!1))throw new je(400,!1);(function sD(){!function au(r){Wc=r}(()=>{throw new je(600,!1)})})(),Nf=r;const s=r.get(xI);(function z1(r){r.get(ro,null)?.forEach(a=>a())})(r)}(function tv(r=[],s){return oa.create({name:s,providers:[{provide:Bg,useValue:"platform"},{provide:$1,useValue:new Set([()=>Nf=null])},...r]})}(S,d))}return function cD(r){const s=W1();if(!s)throw new je(401,!1);return s}()}}function W1(){return Nf?.get(xI)??null}let xI=(()=>{class r{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,d){const g=function GC(r="zone.js",s){return"noop"===r?new Lb:"zone.js"===r?new Zo(s):r}(d?.ngZone,function Wm(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:r?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:r?.runCoalescing??!1}}({eventCoalescing:d?.ngZoneEventCoalescing,runCoalescing:d?.ngZoneRunCoalescing}));return g.run(()=>{const y=function cC(r,s,a){return new Hw(r,s,a)}(a.moduleType,this.injector,function Z1(r){return[{provide:Zo,useFactory:r},{provide:Vd,multi:!0,useFactory:()=>{const s=tr(lD,{optional:!0});return()=>s.initialize()}},{provide:RI,useFactory:bS},{provide:J_,useFactory:a0}]}(()=>g)),I=y.injector.get(Lu,null);return g.runOutsideAngular(()=>{const S=g.onError.subscribe({next:R=>{I.handleError(R)}});y.onDestroy(()=>{q1(this._modules,y),S.unsubscribe()})}),function lo(r,s,a){try{const d=a();return Ml(d)?d.catch(g=>{throw s.runOutsideAngular(()=>r.handleError(g)),g}):d}catch(d){throw s.runOutsideAngular(()=>r.handleError(d)),d}}(I,g,()=>{const S=y.injector.get(mI);return S.runInitializers(),S.donePromise.then(()=>(Aw(y.injector.get(R1,_d)||_d),this._moduleDoBootstrap(y),y))})})}bootstrapModule(a,d=[]){const g=Ra({},d);return function iD(r,s,a){const d=new J0(a);return Promise.resolve(d)}(0,0,a).then(y=>this.bootstrapModuleFactory(y,g))}_moduleDoBootstrap(a){const d=a.injector.get(Uc);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(g=>d.bootstrap(g));else{if(!a.instance.ngDoBootstrap)throw new je(-403,!1);a.instance.ngDoBootstrap(d)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new je(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const a=this._injector.get($1,null);a&&(a.forEach(d=>d()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(d){return new(d||r)(Ln(oa))};static#t=this.\u0275prov=Ce({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})();function Ra(r,s){return Array.isArray(s)?s.reduce(Ra,r):{...r,...s}}let Uc=(()=>{class r{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=tr(RI),this.zoneIsStable=tr(J_),this.componentTypes=[],this.components=[],this.isStable=tr(P1).hasPendingTasks.pipe((0,Ae.w)(a=>a?(0,he.of)(!1):this.zoneIsStable),(0,Xe.x)(),ne()),this._injector=tr(Mc)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,d){const g=a instanceof Wv;if(!this._injector.get(mI).done)throw!g&&rs(a),new je(405,!1);let I;I=g?a:this._injector.get(bp).resolveComponentFactory(a),this.componentTypes.push(I.componentType);const S=function VC(r){return r.isBoundToModule}(I)?void 0:this._injector.get(Rl),z=I.create(oa.NULL,[],d||I.selector,S),ie=z.location.nativeElement,me=z.injector.get(SI,null);return me?.registerApplication(ie),z.onDestroy(()=>{this.detachView(z.hostView),q1(this.components,z),me?.unregisterApplication(ie)}),this._loadComponent(z),z}tick(){if(this._runningTick)throw new je(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1}}attachView(a){const d=a;this._views.push(d),d.attachToAppRef(this)}detachView(a){const d=a;q1(this._views,d),d.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const d=this._injector.get(OI,[]);d.push(...this._bootstrapListeners),d.forEach(g=>g(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>q1(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new je(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(d){return new(d||r)};static#t=this.\u0275prov=Ce({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function q1(r,s){const a=r.indexOf(s);a>-1&&r.splice(a,1)}const RI=new Rn("",{providedIn:"root",factory:()=>tr(Lu).handleError.bind(void 0)});function bS(){const r=tr(Zo),s=tr(Lu);return a=>r.runOutsideAngular(()=>s.handleError(a))}let lD=(()=>{class r{constructor(){this.zone=tr(Zo),this.applicationRef=tr(Uc)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(d){return new(d||r)};static#t=this.\u0275prov=Ce({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();let uD=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=TS}return r})();function TS(r){return function ES(r,s,a){if(Ys(r)&&!a){const d=fi(r.index,s);return new Rp(d,d)}return 47&r.type?new Rp(s[Wr],s):null}(cs(),dt(),16==(16&r))}class fD{constructor(){}supports(s){return yc(s)}create(s){return new LI(s)}}const Zm=(r,s)=>s;class LI{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||Zm}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,d=this._removalsHead,g=0,y=null;for(;a||d;){const I=!d||a&&a.currentIndex<gD(d,g,y)?a:d,S=gD(I,g,y),R=I.currentIndex;if(I===d)g--,d=d._nextRemoved;else if(a=a._next,null==I.previousIndex)g++;else{y||(y=[]);const z=S-g,ie=R-g;if(z!=ie){for(let Me=0;Me<z;Me++){const Le=Me<y.length?y[Me]:y[Me]=0,ft=Le+Me;ie<=ft&&ft<z&&(y[Me]=Le+1)}y[I.previousIndex]=ie-z}}S!==R&&s(I,S,R)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!yc(s))throw new je(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let g,y,I,a=this._itHead,d=!1;if(Array.isArray(s)){this.length=s.length;for(let S=0;S<this.length;S++)y=s[S],I=this._trackByFn(S,y),null!==a&&Object.is(a.trackById,I)?(d&&(a=this._verifyReinsertion(a,y,I,S)),Object.is(a.item,y)||this._addIdentityChange(a,y)):(a=this._mismatch(a,y,I,S),d=!0),a=a._next}else g=0,function kp(r,s){if(Array.isArray(r))for(let a=0;a<r.length;a++)s(r[a]);else{const a=r[Symbol.iterator]();let d;for(;!(d=a.next()).done;)s(d.value)}}(s,S=>{I=this._trackByFn(g,S),null!==a&&Object.is(a.trackById,I)?(d&&(a=this._verifyReinsertion(a,S,I,g)),Object.is(a.item,S)||this._addIdentityChange(a,S)):(a=this._mismatch(a,S,I,g),d=!0),a=a._next,g++}),this.length=g;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,d,g){let y;return null===s?y=this._itTail:(y=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,y,g)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(d,g))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,y,g)):s=this._addAfter(new iv(a,d),y,g),s}_verifyReinsertion(s,a,d,g){let y=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==y?s=this._reinsertAfter(y,s._prev,g):s.currentIndex!=g&&(s.currentIndex=g,this._addToMoves(s,g)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const g=s._prevRemoved,y=s._nextRemoved;return null===g?this._removalsHead=y:g._nextRemoved=y,null===y?this._removalsTail=g:y._prevRemoved=g,this._insertAfter(s,a,d),this._addToMoves(s,d),s}_moveAfter(s,a,d){return this._unlink(s),this._insertAfter(s,a,d),this._addToMoves(s,d),s}_addAfter(s,a,d){return this._insertAfter(s,a,d),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,d){const g=null===a?this._itHead:a._next;return s._next=g,s._prev=a,null===g?this._itTail=s:g._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new Y1),this._linkedRecords.put(s),s.currentIndex=d,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,d=s._next;return null===a?this._itHead=d:a._next=d,null===d?this._itTail=a:d._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Y1),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class iv{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class pD{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===a||a<=d.currentIndex)&&Object.is(d.trackById,s))return d;return null}remove(s){const a=s._prevDup,d=s._nextDup;return null===a?this._head=d:a._nextDup=d,null===d?this._tail=a:d._prevDup=a,null===this._head}}class Y1{constructor(){this.map=new Map}put(s){const a=s.trackById;let d=this.map.get(a);d||(d=new pD,this.map.set(a,d)),d.add(s)}get(s,a){const g=this.map.get(s);return g?g.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function gD(r,s,a){const d=r.previousIndex;if(null===d)return d;let g=0;return a&&d<a.length&&(g=a[d]),d+s+g}class mD{constructor(){}supports(s){return s instanceof Map||Al(s)}create(){return new ZC}}class ZC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||Al(s)))throw new je(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(d,g)=>{if(a&&a.key===g)this._maybeAddToChanges(a,d),this._appendAfter=a,a=a._next;else{const y=this._getOrCreateRecordForKey(g,d);a=this._insertBeforeOrAppend(a,y)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let d=a;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const d=s._prev;return a._next=s,a._prev=d,s._prev=a,d&&(d._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const g=this._records.get(s);this._maybeAddToChanges(g,a);const y=g._prev,I=g._next;return y&&(y._next=I),I&&(I._prev=y),g._next=null,g._prev=null,g}const d=new _D(s);return this._records.set(s,d),d.currentValue=a,this._addToAdditions(d),d}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(d=>a(s[d],d))}}class _D{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function BI(){return new Q1([new fD])}let Q1=(()=>{class r{static#e=this.\u0275prov=Ce({token:r,providedIn:"root",factory:BI});constructor(a){this.factories=a}static create(a,d){if(null!=d){const g=d.factories.slice();a=a.concat(g)}return new r(a)}static extend(a){return{provide:r,useFactory:d=>r.create(a,d||BI()),deps:[[r,new Wl,new gg]]}}find(a){const d=this.factories.find(g=>g.supports(a));if(null!=d)return d;throw new je(901,!1)}}return r})();function UI(){return new J1([new mD])}let J1=(()=>{class r{static#e=this.\u0275prov=Ce({token:r,providedIn:"root",factory:UI});constructor(a){this.factories=a}static create(a,d){if(d){const g=d.factories.slice();a=a.concat(g)}return new r(a)}static extend(a){return{provide:r,useFactory:d=>r.create(a,d||UI()),deps:[[r,new Wl,new gg]]}}find(a){const d=this.factories.find(g=>g.supports(a));if(d)return d;throw new je(901,!1)}}return r})();const X1=MI(null,"core",[]);let yD=(()=>{class r{constructor(a){}static#e=this.\u0275fac=function(d){return new(d||r)(Ln(Uc))};static#t=this.\u0275mod=mo({type:r});static#n=this.\u0275inj=Re({})}return r})();function wD(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}function xS(r,s){const a=hr(r),d=s.elementInjector||zd();return new Qn(a).create(d,s.projectableNodes,s.hostElement,s.environmentInjector)}function ig(r){const s=hr(r);if(!s)return null;const a=new Qn(s);return{get selector(){return a.selector},get type(){return a.componentType},get inputs(){return a.inputs},get outputs(){return a.outputs},get ngContentSelectors(){return a.ngContentSelectors},get isStandalone(){return s.standalone},get isSignal(){return s.signals}}}},7592:(Bt,Ge,K)=>{K.d(Ge,{C6:()=>xe,Jn:()=>yr,KN:()=>yt,Mq:()=>Ce,Xd:()=>Pt,ZF:()=>kr,qX:()=>jt});var b=K(5861),oe=K(6820),u=K(7879),we=K(229),de=K(1878);class he{constructor(Se){this.container=Se}getPlatformInfoString(){return this.container.getProviders().map(Ze=>{if(function Te(tt){const Se=tt.getComponent();return"VERSION"===Se?.type}(Ze)){const It=Ze.getImmediate();return`${It.library}/${It.version}`}return null}).filter(Ze=>Ze).join(" ")}}const Ue="@firebase/app",ne=new u.Yd("@firebase/app"),ke="[DEFAULT]",$e={[Ue]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ye=new Map,Ve=new Map;function nt(tt,Se){try{tt.container.addComponent(Se)}catch(Ze){ne.debug(`Component ${Se.name} failed to register with FirebaseApp ${tt.name}`,Ze)}}function Pt(tt){const Se=tt.name;if(Ve.has(Se))return ne.debug(`There were multiple attempts to register component ${Se}.`),!1;Ve.set(Se,tt);for(const Ze of Ye.values())nt(Ze,tt);return!0}function jt(tt,Se){const Ze=tt.container.getProvider("heartbeat").getImmediate({optional:!0});return Ze&&Ze.triggerHeartbeat(),tt.container.getProvider(Se)}const Dt=new we.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Zn{constructor(Se,Ze,It){this._isDeleted=!1,this._options=Object.assign({},Se),this._config=Object.assign({},Ze),this._name=Ze.name,this._automaticDataCollectionEnabled=Ze.automaticDataCollectionEnabled,this._container=It,this.container.addComponent(new oe.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Se){this.checkDestroyed(),this._automaticDataCollectionEnabled=Se}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Se){this._isDeleted=Se}checkDestroyed(){if(this.isDeleted)throw Dt.create("app-deleted",{appName:this._name})}}const yr="9.23.0";function kr(tt,Se={}){let Ze=tt;"object"!=typeof Se&&(Se={name:Se});const It=Object.assign({name:ke,automaticDataCollectionEnabled:!1},Se),qt=It.name;if("string"!=typeof qt||!qt)throw Dt.create("bad-app-name",{appName:String(qt)});if(Ze||(Ze=(0,we.aH)()),!Ze)throw Dt.create("no-options");const Zt=Ye.get(qt);if(Zt){if((0,we.vZ)(Ze,Zt.options)&&(0,we.vZ)(It,Zt.config))return Zt;throw Dt.create("duplicate-app",{appName:qt})}const qn=new oe.H0(qt);for(const U of Ve.values())qn.addComponent(U);const Y=new Zn(Ze,It,qn);return Ye.set(qt,Y),Y}function Ce(tt=ke){const Se=Ye.get(tt);if(!Se&&tt===ke&&(0,we.aH)())return kr();if(!Se)throw Dt.create("no-app",{appName:tt});return Se}function xe(){return Array.from(Ye.values())}function yt(tt,Se,Ze){var It;let qt=null!==(It=$e[tt])&&void 0!==It?It:tt;Ze&&(qt+=`-${Ze}`);const Zt=qt.match(/\s|\//),qn=Se.match(/\s|\//);if(Zt||qn){const Y=[`Unable to register library "${qt}" with version "${Se}":`];return Zt&&Y.push(`library name "${qt}" contains illegal characters (whitespace or "/")`),Zt&&qn&&Y.push("and"),qn&&Y.push(`version name "${Se}" contains illegal characters (whitespace or "/")`),void ne.warn(Y.join(" "))}Pt(new oe.wA(`${qt}-version`,()=>({library:qt,version:Se}),"VERSION"))}const An="firebase-heartbeat-database",sn=1,Kt="firebase-heartbeat-store";let En=null;function Jn(){return En||(En=(0,de.X3)(An,sn,{upgrade:(tt,Se)=>{0===Se&&tt.createObjectStore(Kt)}}).catch(tt=>{throw Dt.create("idb-open",{originalErrorMessage:tt.message})})),En}function Ar(){return(Ar=(0,b.Z)(function*(tt){try{return yield(yield Jn()).transaction(Kt).objectStore(Kt).get(ar(tt))}catch(Se){if(Se instanceof we.ZR)ne.warn(Se.message);else{const Ze=Dt.create("idb-get",{originalErrorMessage:Se?.message});ne.warn(Ze.message)}}})).apply(this,arguments)}function br(tt,Se){return mn.apply(this,arguments)}function mn(){return(mn=(0,b.Z)(function*(tt,Se){try{const It=(yield Jn()).transaction(Kt,"readwrite");yield It.objectStore(Kt).put(Se,ar(tt)),yield It.done}catch(Ze){if(Ze instanceof we.ZR)ne.warn(Ze.message);else{const It=Dt.create("idb-set",{originalErrorMessage:Ze?.message});ne.warn(It.message)}}})).apply(this,arguments)}function ar(tt){return`${tt.name}!${tt.options.appId}`}class Wn{constructor(Se){this.container=Se,this._heartbeatsCache=null;const Ze=this.container.getProvider("app").getImmediate();this._storage=new Xn(Ze),this._heartbeatsCachePromise=this._storage.read().then(It=>(this._heartbeatsCache=It,It))}triggerHeartbeat(){var Se=this;return(0,b.Z)(function*(){const It=Se.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),qt=pi();if(null===Se._heartbeatsCache&&(Se._heartbeatsCache=yield Se._heartbeatsCachePromise),Se._heartbeatsCache.lastSentHeartbeatDate!==qt&&!Se._heartbeatsCache.heartbeats.some(Zt=>Zt.date===qt))return Se._heartbeatsCache.heartbeats.push({date:qt,agent:It}),Se._heartbeatsCache.heartbeats=Se._heartbeatsCache.heartbeats.filter(Zt=>{const qn=new Date(Zt.date).valueOf();return Date.now()-qn<=2592e6}),Se._storage.overwrite(Se._heartbeatsCache)})()}getHeartbeatsHeader(){var Se=this;return(0,b.Z)(function*(){if(null===Se._heartbeatsCache&&(yield Se._heartbeatsCachePromise),null===Se._heartbeatsCache||0===Se._heartbeatsCache.heartbeats.length)return"";const Ze=pi(),{heartbeatsToSend:It,unsentEntries:qt}=function Rn(tt,Se=1024){const Ze=[];let It=tt.slice();for(const qt of tt){const Zt=Ze.find(qn=>qn.agent===qt.agent);if(Zt){if(Zt.dates.push(qt.date),Mr(Ze)>Se){Zt.dates.pop();break}}else if(Ze.push({agent:qt.agent,dates:[qt.date]}),Mr(Ze)>Se){Ze.pop();break}It=It.slice(1)}return{heartbeatsToSend:Ze,unsentEntries:It}}(Se._heartbeatsCache.heartbeats),Zt=(0,we.L)(JSON.stringify({version:2,heartbeats:It}));return Se._heartbeatsCache.lastSentHeartbeatDate=Ze,qt.length>0?(Se._heartbeatsCache.heartbeats=qt,yield Se._storage.overwrite(Se._heartbeatsCache)):(Se._heartbeatsCache.heartbeats=[],Se._storage.overwrite(Se._heartbeatsCache)),Zt})()}}function pi(){return(new Date).toISOString().substring(0,10)}class Xn{constructor(Se){this.app=Se,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,b.Z)(function*(){return!!(0,we.hl)()&&(0,we.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Se=this;return(0,b.Z)(function*(){return(yield Se._canUseIndexedDBPromise)&&(yield function Xt(tt){return Ar.apply(this,arguments)}(Se.app))||{heartbeats:[]}})()}overwrite(Se){var Ze=this;return(0,b.Z)(function*(){var It;if(yield Ze._canUseIndexedDBPromise){const Zt=yield Ze.read();return br(Ze.app,{lastSentHeartbeatDate:null!==(It=Se.lastSentHeartbeatDate)&&void 0!==It?It:Zt.lastSentHeartbeatDate,heartbeats:Se.heartbeats})}})()}add(Se){var Ze=this;return(0,b.Z)(function*(){var It;if(yield Ze._canUseIndexedDBPromise){const Zt=yield Ze.read();return br(Ze.app,{lastSentHeartbeatDate:null!==(It=Se.lastSentHeartbeatDate)&&void 0!==It?It:Zt.lastSentHeartbeatDate,heartbeats:[...Zt.heartbeats,...Se.heartbeats]})}})()}}function Mr(tt){return(0,we.L)(JSON.stringify({version:2,heartbeats:tt})).length}!function gi(tt){Pt(new oe.wA("platform-logger",Se=>new he(Se),"PRIVATE")),Pt(new oe.wA("heartbeat",Se=>new Wn(Se),"PRIVATE")),yt(Ue,"0.9.13",tt),yt(Ue,"0.9.13","esm2017"),yt("fire-js","")}("")},6820:(Bt,Ge,K)=>{K.d(Ge,{H0:()=>Ue,wA:()=>u});var b=K(5861),oe=K(229);class u{constructor(ne,le,Ae){this.name=ne,this.instanceFactory=le,this.type=Ae,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ne){return this.instantiationMode=ne,this}setMultipleInstances(ne){return this.multipleInstances=ne,this}setServiceProps(ne){return this.serviceProps=ne,this}setInstanceCreatedCallback(ne){return this.onInstanceCreated=ne,this}}const we="[DEFAULT]";class de{constructor(ne,le){this.name=ne,this.container=le,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ne){const le=this.normalizeInstanceIdentifier(ne);if(!this.instancesDeferred.has(le)){const Ae=new oe.BH;if(this.instancesDeferred.set(le,Ae),this.isInitialized(le)||this.shouldAutoInitialize())try{const Xe=this.getOrInitializeService({instanceIdentifier:le});Xe&&Ae.resolve(Xe)}catch{}}return this.instancesDeferred.get(le).promise}getImmediate(ne){var le;const Ae=this.normalizeInstanceIdentifier(ne?.identifier),Xe=null!==(le=ne?.optional)&&void 0!==le&&le;if(!this.isInitialized(Ae)&&!this.shouldAutoInitialize()){if(Xe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ae})}catch(Pe){if(Xe)return null;throw Pe}}getComponent(){return this.component}setComponent(ne){if(ne.name!==this.name)throw Error(`Mismatching Component ${ne.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ne,this.shouldAutoInitialize()){if(function Te(Ie){return"EAGER"===Ie.instantiationMode}(ne))try{this.getOrInitializeService({instanceIdentifier:we})}catch{}for(const[le,Ae]of this.instancesDeferred.entries()){const Xe=this.normalizeInstanceIdentifier(le);try{const Pe=this.getOrInitializeService({instanceIdentifier:Xe});Ae.resolve(Pe)}catch{}}}}clearInstance(ne=we){this.instancesDeferred.delete(ne),this.instancesOptions.delete(ne),this.instances.delete(ne)}delete(){var ne=this;return(0,b.Z)(function*(){const le=Array.from(ne.instances.values());yield Promise.all([...le.filter(Ae=>"INTERNAL"in Ae).map(Ae=>Ae.INTERNAL.delete()),...le.filter(Ae=>"_delete"in Ae).map(Ae=>Ae._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ne=we){return this.instances.has(ne)}getOptions(ne=we){return this.instancesOptions.get(ne)||{}}initialize(ne={}){const{options:le={}}=ne,Ae=this.normalizeInstanceIdentifier(ne.instanceIdentifier);if(this.isInitialized(Ae))throw Error(`${this.name}(${Ae}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Xe=this.getOrInitializeService({instanceIdentifier:Ae,options:le});for(const[Pe,st]of this.instancesDeferred.entries())Ae===this.normalizeInstanceIdentifier(Pe)&&st.resolve(Xe);return Xe}onInit(ne,le){var Ae;const Xe=this.normalizeInstanceIdentifier(le),Pe=null!==(Ae=this.onInitCallbacks.get(Xe))&&void 0!==Ae?Ae:new Set;Pe.add(ne),this.onInitCallbacks.set(Xe,Pe);const st=this.instances.get(Xe);return st&&ne(st,Xe),()=>{Pe.delete(ne)}}invokeOnInitCallbacks(ne,le){const Ae=this.onInitCallbacks.get(le);if(Ae)for(const Xe of Ae)try{Xe(ne,le)}catch{}}getOrInitializeService({instanceIdentifier:ne,options:le={}}){let Ae=this.instances.get(ne);if(!Ae&&this.component&&(Ae=this.component.instanceFactory(this.container,{instanceIdentifier:(Ie=ne,Ie===we?void 0:Ie),options:le}),this.instances.set(ne,Ae),this.instancesOptions.set(ne,le),this.invokeOnInitCallbacks(Ae,ne),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ne,Ae)}catch{}var Ie;return Ae||null}normalizeInstanceIdentifier(ne=we){return this.component?this.component.multipleInstances?ne:we:ne}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ue{constructor(ne){this.name=ne,this.providers=new Map}addComponent(ne){const le=this.getProvider(ne.name);if(le.isComponentSet())throw new Error(`Component ${ne.name} has already been registered with ${this.name}`);le.setComponent(ne)}addOrOverwriteComponent(ne){this.getProvider(ne.name).isComponentSet()&&this.providers.delete(ne.name),this.addComponent(ne)}getProvider(ne){if(this.providers.has(ne))return this.providers.get(ne);const le=new de(ne,this);return this.providers.set(ne,le),le}getProviders(){return Array.from(this.providers.values())}}},4097:(Bt,Ge,K)=>{K.d(Ge,{C6:()=>b.C6,KN:()=>b.KN,Mq:()=>b.Mq,ZF:()=>b.ZF});var b=K(7592);(0,b.KN)("firebase","9.23.0","app")},95:(Bt,Ge,K)=>{K.d(Ge,{Fj:()=>mt,CE:()=>Lt,qu:()=>na,NI:()=>ci,u:()=>wi,cw:()=>rn,sg:()=>Ci,x0:()=>Cs,u5:()=>ra,wO:()=>Ks,Cf:()=>_t,JU:()=>st,JJ:()=>Kt,JL:()=>En,YN:()=>wr,wV:()=>mo,UX:()=>Va,Q7:()=>$n,EJ:()=>er,kI:()=>Ke,_Y:()=>ps,Kr:()=>Wr});var b=K(9468),oe=K(6814),u=K(2459),we=K(5592),de=K(7453),he=K(4829),Te=K(9940),Ue=K(8251),Ie=K(7400),ne=K(2714),Ae=K(7398);let Xe=(()=>{class W{constructor(B,ae){this._renderer=B,this._elementRef=ae,this.onChange=Ee=>{},this.onTouched=()=>{}}setProperty(B,ae){this._renderer.setProperty(this._elementRef.nativeElement,B,ae)}registerOnTouched(B){this.onTouched=B}registerOnChange(B){this.onChange=B}setDisabledState(B){this.setProperty("disabled",B)}static#e=this.\u0275fac=function(ae){return new(ae||W)(b.Y36(b.Qsj),b.Y36(b.SBq))};static#t=this.\u0275dir=b.lG2({type:W})}return W})(),Pe=(()=>{class W extends Xe{static#e=this.\u0275fac=function(){let B;return function(Ee){return(B||(B=b.n5z(W)))(Ee||W)}}();static#t=this.\u0275dir=b.lG2({type:W,features:[b.qOj]})}return W})();const st=new b.OlP("NgValueAccessor"),Ft={provide:st,useExisting:(0,b.Gpc)(()=>mt),multi:!0},Rt=new b.OlP("CompositionEventMode");let mt=(()=>{class W extends Xe{constructor(B,ae,Ee){super(B,ae),this._compositionMode=Ee,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function xn(){const W=(0,oe.q)()?(0,oe.q)().getUserAgent():"";return/android (\d+)/.test(W.toLowerCase())}())}writeValue(B){this.setProperty("value",B??"")}_handleInput(B){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(B)}_compositionStart(){this._composing=!0}_compositionEnd(B){this._composing=!1,this._compositionMode&&this.onChange(B)}static#e=this.\u0275fac=function(ae){return new(ae||W)(b.Y36(b.Qsj),b.Y36(b.SBq),b.Y36(Rt,8))};static#t=this.\u0275dir=b.lG2({type:W,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(ae,Ee){1&ae&&b.NdJ("input",function(Hn){return Ee._handleInput(Hn.target.value)})("blur",function(){return Ee.onTouched()})("compositionstart",function(){return Ee._compositionStart()})("compositionend",function(Hn){return Ee._compositionEnd(Hn.target.value)})},features:[b._Bn([Ft]),b.qOj]})}return W})();function ot(W){return null==W||("string"==typeof W||Array.isArray(W))&&0===W.length}function vt(W){return null!=W&&"number"==typeof W.length}const _t=new b.OlP("NgValidators"),je=new b.OlP("NgAsyncValidators"),ve=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ke{static min(X){return function gt(W){return X=>{if(ot(X.value)||ot(W))return null;const B=parseFloat(X.value);return!isNaN(B)&&B<W?{min:{min:W,actual:X.value}}:null}}(X)}static max(X){return function Fn(W){return X=>{if(ot(X.value)||ot(W))return null;const B=parseFloat(X.value);return!isNaN(B)&&B>W?{max:{max:W,actual:X.value}}:null}}(X)}static required(X){return ut(X)}static requiredTrue(X){return function dn(W){return!0===W.value?null:{required:!0}}(X)}static email(X){return function Sn(W){return ot(W.value)||ve.test(W.value)?null:{email:!0}}(X)}static minLength(X){return Gn(X)}static maxLength(X){return function ir(W){return X=>vt(X.value)&&X.value.length>W?{maxlength:{requiredLength:W,actualLength:X.value.length}}:null}(X)}static pattern(X){return function _r(W){if(!W)return ke;let X,B;return"string"==typeof W?(B="","^"!==W.charAt(0)&&(B+="^"),B+=W,"$"!==W.charAt(W.length-1)&&(B+="$"),X=new RegExp(B)):(B=W.toString(),X=W),ae=>{if(ot(ae.value))return null;const Ee=ae.value;return X.test(Ee)?null:{pattern:{requiredPattern:B,actualValue:Ee}}}}(X)}static nullValidator(X){return null}static compose(X){return jt(X)}static composeAsync(X){return bn(X)}}function ut(W){return ot(W.value)?{required:!0}:null}function Gn(W){return X=>ot(X.value)||!vt(X.value)?null:X.value.length<W?{minlength:{requiredLength:W,actualLength:X.value.length}}:null}function ke(W){return null}function $e(W){return null!=W}function Ye(W){return(0,b.QGY)(W)?(0,u.D)(W):W}function Ve(W){let X={};return W.forEach(B=>{X=null!=B?{...X,...B}:X}),0===Object.keys(X).length?null:X}function nt(W,X){return X.map(B=>B(W))}function Pt(W){return W.map(X=>function bt(W){return!W.validate}(X)?X:B=>X.validate(B))}function jt(W){if(!W)return null;const X=W.filter($e);return 0==X.length?null:function(B){return Ve(nt(B,X))}}function hn(W){return null!=W?jt(Pt(W)):null}function bn(W){if(!W)return null;const X=W.filter($e);return 0==X.length?null:function(B){return function le(...W){const X=(0,Te.jO)(W),{args:B,keys:ae}=(0,de.D)(W),Ee=new we.y(Yt=>{const{length:Hn}=B;if(!Hn)return void Yt.complete();const Yi=new Array(Hn);let vo=Hn,$i=Hn;for(let Ti=0;Ti<Hn;Ti++){let $c=!1;(0,he.Xf)(B[Ti]).subscribe((0,Ue.x)(Yt,Uo=>{$c||($c=!0,$i--),Yi[Ti]=Uo},()=>vo--,void 0,()=>{(!vo||!$c)&&($i||Yt.next(ae?(0,ne.n)(ae,Yi):Yi),Yt.complete())}))}});return X?Ee.pipe((0,Ie.Z)(X)):Ee}(nt(B,X).map(Ye)).pipe((0,Ae.U)(Ve))}}function cn(W){return null!=W?bn(Pt(W)):null}function Dt(W,X){return null===W?[X]:Array.isArray(W)?[...W,X]:[W,X]}function Zn(W){return W._rawValidators}function yr(W){return W._rawAsyncValidators}function kr(W){return W?Array.isArray(W)?W:[W]:[]}function Ce(W,X){return Array.isArray(W)?W.includes(X):W===X}function xe(W,X){const B=kr(X);return kr(W).forEach(Ee=>{Ce(B,Ee)||B.push(Ee)}),B}function Re(W,X){return kr(X).filter(B=>!Ce(W,B))}class at{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(X){this._rawValidators=X||[],this._composedValidatorFn=hn(this._rawValidators)}_setAsyncValidators(X){this._rawAsyncValidators=X||[],this._composedAsyncValidatorFn=cn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(X){this._onDestroyCallbacks.push(X)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(X=>X()),this._onDestroyCallbacks=[]}reset(X=void 0){this.control&&this.control.reset(X)}hasError(X,B){return!!this.control&&this.control.hasError(X,B)}getError(X,B){return this.control?this.control.getError(X,B):null}}class yt extends at{get formDirective(){return null}get path(){return null}}class At extends at{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class vr{constructor(X){this._cd=X}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Kt=(()=>{class W extends vr{constructor(B){super(B)}static#e=this.\u0275fac=function(ae){return new(ae||W)(b.Y36(At,2))};static#t=this.\u0275dir=b.lG2({type:W,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(ae,Ee){2&ae&&b.ekj("ng-untouched",Ee.isUntouched)("ng-touched",Ee.isTouched)("ng-pristine",Ee.isPristine)("ng-dirty",Ee.isDirty)("ng-valid",Ee.isValid)("ng-invalid",Ee.isInvalid)("ng-pending",Ee.isPending)},features:[b.qOj]})}return W})(),En=(()=>{class W extends vr{constructor(B){super(B)}static#e=this.\u0275fac=function(ae){return new(ae||W)(b.Y36(yt,10))};static#t=this.\u0275dir=b.lG2({type:W,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(ae,Ee){2&ae&&b.ekj("ng-untouched",Ee.isUntouched)("ng-touched",Ee.isTouched)("ng-pristine",Ee.isPristine)("ng-dirty",Ee.isDirty)("ng-valid",Ee.isValid)("ng-invalid",Ee.isInvalid)("ng-pending",Ee.isPending)("ng-submitted",Ee.isSubmitted)},features:[b.qOj]})}return W})();const It="VALID",qt="INVALID",Zt="PENDING",qn="DISABLED";function Y(W){return($(W)?W.validators:W)||null}function G(W,X){return($(X)?X.asyncValidators:W)||null}function $(W){return null!=W&&!Array.isArray(W)&&"object"==typeof W}function be(W,X,B){const ae=W.controls;if(!(X?Object.keys(ae):ae).length)throw new b.vHH(1e3,"");if(!ae[B])throw new b.vHH(1001,"")}function qe(W,X,B){W._forEachChild((ae,Ee)=>{if(void 0===B[Ee])throw new b.vHH(1002,"")})}class Tt{constructor(X,B){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(X),this._assignAsyncValidators(B)}get validator(){return this._composedValidatorFn}set validator(X){this._rawValidators=this._composedValidatorFn=X}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(X){this._rawAsyncValidators=this._composedAsyncValidatorFn=X}get parent(){return this._parent}get valid(){return this.status===It}get invalid(){return this.status===qt}get pending(){return this.status==Zt}get disabled(){return this.status===qn}get enabled(){return this.status!==qn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(X){this._assignValidators(X)}setAsyncValidators(X){this._assignAsyncValidators(X)}addValidators(X){this.setValidators(xe(X,this._rawValidators))}addAsyncValidators(X){this.setAsyncValidators(xe(X,this._rawAsyncValidators))}removeValidators(X){this.setValidators(Re(X,this._rawValidators))}removeAsyncValidators(X){this.setAsyncValidators(Re(X,this._rawAsyncValidators))}hasValidator(X){return Ce(this._rawValidators,X)}hasAsyncValidator(X){return Ce(this._rawAsyncValidators,X)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(X={}){this.touched=!0,this._parent&&!X.onlySelf&&this._parent.markAsTouched(X)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(X=>X.markAllAsTouched())}markAsUntouched(X={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(B=>{B.markAsUntouched({onlySelf:!0})}),this._parent&&!X.onlySelf&&this._parent._updateTouched(X)}markAsDirty(X={}){this.pristine=!1,this._parent&&!X.onlySelf&&this._parent.markAsDirty(X)}markAsPristine(X={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(B=>{B.markAsPristine({onlySelf:!0})}),this._parent&&!X.onlySelf&&this._parent._updatePristine(X)}markAsPending(X={}){this.status=Zt,!1!==X.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!X.onlySelf&&this._parent.markAsPending(X)}disable(X={}){const B=this._parentMarkedDirty(X.onlySelf);this.status=qn,this.errors=null,this._forEachChild(ae=>{ae.disable({...X,onlySelf:!0})}),this._updateValue(),!1!==X.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...X,skipPristineCheck:B}),this._onDisabledChange.forEach(ae=>ae(!0))}enable(X={}){const B=this._parentMarkedDirty(X.onlySelf);this.status=It,this._forEachChild(ae=>{ae.enable({...X,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:X.emitEvent}),this._updateAncestors({...X,skipPristineCheck:B}),this._onDisabledChange.forEach(ae=>ae(!1))}_updateAncestors(X){this._parent&&!X.onlySelf&&(this._parent.updateValueAndValidity(X),X.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(X){this._parent=X}getRawValue(){return this.value}updateValueAndValidity(X={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===It||this.status===Zt)&&this._runAsyncValidator(X.emitEvent)),!1!==X.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!X.onlySelf&&this._parent.updateValueAndValidity(X)}_updateTreeValidity(X={emitEvent:!0}){this._forEachChild(B=>B._updateTreeValidity(X)),this.updateValueAndValidity({onlySelf:!0,emitEvent:X.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?qn:It}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(X){if(this.asyncValidator){this.status=Zt,this._hasOwnPendingAsyncValidator=!0;const B=Ye(this.asyncValidator(this));this._asyncValidationSubscription=B.subscribe(ae=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ae,{emitEvent:X})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(X,B={}){this.errors=X,this._updateControlsErrors(!1!==B.emitEvent)}get(X){let B=X;return null==B||(Array.isArray(B)||(B=B.split(".")),0===B.length)?null:B.reduce((ae,Ee)=>ae&&ae._find(Ee),this)}getError(X,B){const ae=B?this.get(B):this;return ae&&ae.errors?ae.errors[X]:null}hasError(X,B){return!!this.getError(X,B)}get root(){let X=this;for(;X._parent;)X=X._parent;return X}_updateControlsErrors(X){this.status=this._calculateStatus(),X&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(X)}_initObservables(){this.valueChanges=new b.vpe,this.statusChanges=new b.vpe}_calculateStatus(){return this._allControlsDisabled()?qn:this.errors?qt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Zt)?Zt:this._anyControlsHaveStatus(qt)?qt:It}_anyControlsHaveStatus(X){return this._anyControls(B=>B.status===X)}_anyControlsDirty(){return this._anyControls(X=>X.dirty)}_anyControlsTouched(){return this._anyControls(X=>X.touched)}_updatePristine(X={}){this.pristine=!this._anyControlsDirty(),this._parent&&!X.onlySelf&&this._parent._updatePristine(X)}_updateTouched(X={}){this.touched=this._anyControlsTouched(),this._parent&&!X.onlySelf&&this._parent._updateTouched(X)}_registerOnCollectionChange(X){this._onCollectionChange=X}_setUpdateStrategy(X){$(X)&&null!=X.updateOn&&(this._updateOn=X.updateOn)}_parentMarkedDirty(X){return!X&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(X){return null}_assignValidators(X){this._rawValidators=Array.isArray(X)?X.slice():X,this._composedValidatorFn=function U(W){return Array.isArray(W)?hn(W):W||null}(this._rawValidators)}_assignAsyncValidators(X){this._rawAsyncValidators=Array.isArray(X)?X.slice():X,this._composedAsyncValidatorFn=function q(W){return Array.isArray(W)?cn(W):W||null}(this._rawAsyncValidators)}}class rn extends Tt{constructor(X,B,ae){super(Y(B),G(ae,B)),this.controls=X,this._initObservables(),this._setUpdateStrategy(B),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(X,B){return this.controls[X]?this.controls[X]:(this.controls[X]=B,B.setParent(this),B._registerOnCollectionChange(this._onCollectionChange),B)}addControl(X,B,ae={}){this.registerControl(X,B),this.updateValueAndValidity({emitEvent:ae.emitEvent}),this._onCollectionChange()}removeControl(X,B={}){this.controls[X]&&this.controls[X]._registerOnCollectionChange(()=>{}),delete this.controls[X],this.updateValueAndValidity({emitEvent:B.emitEvent}),this._onCollectionChange()}setControl(X,B,ae={}){this.controls[X]&&this.controls[X]._registerOnCollectionChange(()=>{}),delete this.controls[X],B&&this.registerControl(X,B),this.updateValueAndValidity({emitEvent:ae.emitEvent}),this._onCollectionChange()}contains(X){return this.controls.hasOwnProperty(X)&&this.controls[X].enabled}setValue(X,B={}){qe(this,0,X),Object.keys(X).forEach(ae=>{be(this,!0,ae),this.controls[ae].setValue(X[ae],{onlySelf:!0,emitEvent:B.emitEvent})}),this.updateValueAndValidity(B)}patchValue(X,B={}){null!=X&&(Object.keys(X).forEach(ae=>{const Ee=this.controls[ae];Ee&&Ee.patchValue(X[ae],{onlySelf:!0,emitEvent:B.emitEvent})}),this.updateValueAndValidity(B))}reset(X={},B={}){this._forEachChild((ae,Ee)=>{ae.reset(X?X[Ee]:null,{onlySelf:!0,emitEvent:B.emitEvent})}),this._updatePristine(B),this._updateTouched(B),this.updateValueAndValidity(B)}getRawValue(){return this._reduceChildren({},(X,B,ae)=>(X[ae]=B.getRawValue(),X))}_syncPendingControls(){let X=this._reduceChildren(!1,(B,ae)=>!!ae._syncPendingControls()||B);return X&&this.updateValueAndValidity({onlySelf:!0}),X}_forEachChild(X){Object.keys(this.controls).forEach(B=>{const ae=this.controls[B];ae&&X(ae,B)})}_setUpControls(){this._forEachChild(X=>{X.setParent(this),X._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(X){for(const[B,ae]of Object.entries(this.controls))if(this.contains(B)&&X(ae))return!0;return!1}_reduceValue(){return this._reduceChildren({},(B,ae,Ee)=>((ae.enabled||this.disabled)&&(B[Ee]=ae.value),B))}_reduceChildren(X,B){let ae=X;return this._forEachChild((Ee,Yt)=>{ae=B(ae,Ee,Yt)}),ae}_allControlsDisabled(){for(const X of Object.keys(this.controls))if(this.controls[X].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(X){return this.controls.hasOwnProperty(X)?this.controls[X]:null}}class Wt extends rn{}const pr=new b.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>tr}),tr="always";function ks(W,X){return[...X.path,W]}function ua(W,X,B=tr){wc(W,X),X.valueAccessor.writeValue(W.value),(W.disabled||"always"===B)&&X.valueAccessor.setDisabledState?.(W.disabled),function da(W,X){X.valueAccessor.registerOnChange(B=>{W._pendingValue=B,W._pendingChange=!0,W._pendingDirty=!0,"change"===W.updateOn&&Is(W,X)})}(W,X),function lr(W,X){const B=(ae,Ee)=>{X.valueAccessor.writeValue(ae),Ee&&X.viewToModelUpdate(ae)};W.registerOnChange(B),X._registerOnDestroy(()=>{W._unregisterOnChange(B)})}(W,X),function ws(W,X){X.valueAccessor.registerOnTouched(()=>{W._pendingTouched=!0,"blur"===W.updateOn&&W._pendingChange&&Is(W,X),"submit"!==W.updateOn&&W.markAsTouched()})}(W,X),function Xo(W,X){if(X.valueAccessor.setDisabledState){const B=ae=>{X.valueAccessor.setDisabledState(ae)};W.registerOnDisabledChange(B),X._registerOnDestroy(()=>{W._unregisterOnDisabledChange(B)})}}(W,X)}function ns(W,X,B=!0){const ae=()=>{};X.valueAccessor&&(X.valueAccessor.registerOnChange(ae),X.valueAccessor.registerOnTouched(ae)),Yr(W,X),W&&(X._invokeOnDestroyCallbacks(),W._registerOnCollectionChange(()=>{}))}function uo(W,X){W.forEach(B=>{B.registerOnValidatorChange&&B.registerOnValidatorChange(X)})}function wc(W,X){const B=Zn(W);null!==X.validator?W.setValidators(Dt(B,X.validator)):"function"==typeof B&&W.setValidators([B]);const ae=yr(W);null!==X.asyncValidator?W.setAsyncValidators(Dt(ae,X.asyncValidator)):"function"==typeof ae&&W.setAsyncValidators([ae]);const Ee=()=>W.updateValueAndValidity();uo(X._rawValidators,Ee),uo(X._rawAsyncValidators,Ee)}function Yr(W,X){let B=!1;if(null!==W){if(null!==X.validator){const Ee=Zn(W);if(Array.isArray(Ee)&&Ee.length>0){const Yt=Ee.filter(Hn=>Hn!==X.validator);Yt.length!==Ee.length&&(B=!0,W.setValidators(Yt))}}if(null!==X.asyncValidator){const Ee=yr(W);if(Array.isArray(Ee)&&Ee.length>0){const Yt=Ee.filter(Hn=>Hn!==X.asyncValidator);Yt.length!==Ee.length&&(B=!0,W.setAsyncValidators(Yt))}}}const ae=()=>{};return uo(X._rawValidators,ae),uo(X._rawAsyncValidators,ae),B}function Is(W,X){W._pendingDirty&&W.markAsDirty(),W.setValue(W._pendingValue,{emitModelToViewChange:!1}),X.viewToModelUpdate(W._pendingValue),W._pendingChange=!1}function fa(W,X){const B=W.indexOf(X);B>-1&&W.splice(B,1)}function Es(W){return"object"==typeof W&&null!==W&&2===Object.keys(W).length&&"value"in W&&"disabled"in W}const ci=class extends Tt{constructor(X=null,B,ae){super(Y(B),G(ae,B)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(X),this._setUpdateStrategy(B),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),$(B)&&(B.nonNullable||B.initialValueIsDefault)&&(this.defaultValue=Es(X)?X.value:X)}setValue(X,B={}){this.value=this._pendingValue=X,this._onChange.length&&!1!==B.emitModelToViewChange&&this._onChange.forEach(ae=>ae(this.value,!1!==B.emitViewToModelChange)),this.updateValueAndValidity(B)}patchValue(X,B={}){this.setValue(X,B)}reset(X=this.defaultValue,B={}){this._applyFormState(X),this.markAsPristine(B),this.markAsUntouched(B),this.setValue(this.value,B),this._pendingChange=!1}_updateValue(){}_anyControls(X){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(X){this._onChange.push(X)}_unregisterOnChange(X){fa(this._onChange,X)}registerOnDisabledChange(X){this._onDisabledChange.push(X)}_unregisterOnDisabledChange(X){fa(this._onDisabledChange,X)}_forEachChild(X){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(X){Es(X)?(this.value=this._pendingValue=X.value,X.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=X}};let go=(()=>{class W extends yt{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return ks(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=function(){let B;return function(Ee){return(B||(B=b.n5z(W)))(Ee||W)}}();static#t=this.\u0275dir=b.lG2({type:W,features:[b.qOj]})}return W})(),ps=(()=>{class W{static#e=this.\u0275fac=function(ae){return new(ae||W)};static#t=this.\u0275dir=b.lG2({type:W,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return W})();const ul={provide:st,useExisting:(0,b.Gpc)(()=>mo),multi:!0};let mo=(()=>{class W extends Pe{writeValue(B){this.setProperty("value",B??"")}registerOnChange(B){this.onChange=ae=>{B(""==ae?null:parseFloat(ae))}}static#e=this.\u0275fac=function(){let B;return function(Ee){return(B||(B=b.n5z(W)))(Ee||W)}}();static#t=this.\u0275dir=b.lG2({type:W,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(ae,Ee){1&ae&&b.NdJ("input",function(Hn){return Ee.onChange(Hn.target.value)})("blur",function(){return Ee.onTouched()})},features:[b._Bn([ul]),b.qOj]})}return W})(),Qr=(()=>{class W{static#e=this.\u0275fac=function(ae){return new(ae||W)};static#t=this.\u0275mod=b.oAB({type:W});static#n=this.\u0275inj=b.cJS({})}return W})();const rs=new b.OlP("NgModelWithFormControlWarning"),zs={provide:yt,useExisting:(0,b.Gpc)(()=>Ci)};let Ci=(()=>{class W extends yt{constructor(B,ae,Ee){super(),this.callSetDisabledState=Ee,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new b.vpe,this._setValidators(B),this._setAsyncValidators(ae)}ngOnChanges(B){this._checkFormPresent(),B.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Yr(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(B){const ae=this.form.get(B.path);return ua(ae,B,this.callSetDisabledState),ae.updateValueAndValidity({emitEvent:!1}),this.directives.push(B),ae}getControl(B){return this.form.get(B.path)}removeControl(B){ns(B.control||null,B,!1),function Ja(W,X){const B=W.indexOf(X);B>-1&&W.splice(B,1)}(this.directives,B)}addFormGroup(B){this._setUpFormContainer(B)}removeFormGroup(B){this._cleanUpFormContainer(B)}getFormGroup(B){return this.form.get(B.path)}addFormArray(B){this._setUpFormContainer(B)}removeFormArray(B){this._cleanUpFormContainer(B)}getFormArray(B){return this.form.get(B.path)}updateModel(B,ae){this.form.get(B.path).setValue(ae)}onSubmit(B){return this.submitted=!0,function Qa(W,X){W._syncPendingControls(),X.forEach(B=>{const ae=B.control;"submit"===ae.updateOn&&ae._pendingChange&&(B.viewToModelUpdate(ae._pendingValue),ae._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(B),"dialog"===B?.target?.method}onReset(){this.resetForm()}resetForm(B=void 0){this.form.reset(B),this.submitted=!1}_updateDomValue(){this.directives.forEach(B=>{const ae=B.control,Ee=this.form.get(B.path);ae!==Ee&&(ns(ae||null,B),(W=>W instanceof ci)(Ee)&&(ua(Ee,B,this.callSetDisabledState),B.control=Ee))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(B){const ae=this.form.get(B.path);(function ho(W,X){wc(W,X)})(ae,B),ae.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(B){if(this.form){const ae=this.form.get(B.path);ae&&function hs(W,X){return Yr(W,X)}(ae,B)&&ae.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){wc(this.form,this),this._oldForm&&Yr(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(ae){return new(ae||W)(b.Y36(_t,10),b.Y36(je,10),b.Y36(pr,8))};static#t=this.\u0275dir=b.lG2({type:W,selectors:[["","formGroup",""]],hostBindings:function(ae,Ee){1&ae&&b.NdJ("submit",function(Hn){return Ee.onSubmit(Hn)})("reset",function(){return Ee.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[b._Bn([zs]),b.qOj,b.TTD]})}return W})();const Fa={provide:yt,useExisting:(0,b.Gpc)(()=>Cs)};let Cs=(()=>{class W extends go{constructor(B,ae,Ee){super(),this.name=null,this._parent=B,this._setValidators(ae),this._setAsyncValidators(Ee)}_checkParentType(){jn(this._parent)}static#e=this.\u0275fac=function(ae){return new(ae||W)(b.Y36(yt,13),b.Y36(_t,10),b.Y36(je,10))};static#t=this.\u0275dir=b.lG2({type:W,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[b._Bn([Fa]),b.qOj]})}return W})();const ur={provide:yt,useExisting:(0,b.Gpc)(()=>Lt)};let Lt=(()=>{class W extends yt{constructor(B,ae,Ee){super(),this.name=null,this._parent=B,this._setValidators(ae),this._setAsyncValidators(Ee)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return ks(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){jn(this._parent)}static#e=this.\u0275fac=function(ae){return new(ae||W)(b.Y36(yt,13),b.Y36(_t,10),b.Y36(je,10))};static#t=this.\u0275dir=b.lG2({type:W,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[b._Bn([ur]),b.qOj]})}return W})();function jn(W){return!(W instanceof Cs||W instanceof Ci||W instanceof Lt)}const Nr={provide:At,useExisting:(0,b.Gpc)(()=>wi)};let wi=(()=>{class W extends At{set isDisabled(B){}static#e=this._ngModelWarningSentOnce=!1;constructor(B,ae,Ee,Yt,Hn){super(),this._ngModelWarningConfig=Hn,this._added=!1,this.name=null,this.update=new b.vpe,this._ngModelWarningSent=!1,this._parent=B,this._setValidators(ae),this._setAsyncValidators(Ee),this.valueAccessor=function fs(W,X){if(!X)return null;let B,ae,Ee;return Array.isArray(X),X.forEach(Yt=>{Yt.constructor===mt?B=Yt:function qi(W){return Object.getPrototypeOf(W.constructor)===Pe}(Yt)?ae=Yt:Ee=Yt}),Ee||ae||B||null}(0,Yt)}ngOnChanges(B){this._added||this._setUpControl(),function $s(W,X){if(!W.hasOwnProperty("model"))return!1;const B=W.model;return!!B.isFirstChange()||!Object.is(X,B.currentValue)}(B,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(B){this.viewModel=B,this.update.emit(B)}get path(){return ks(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(ae){return new(ae||W)(b.Y36(yt,13),b.Y36(_t,10),b.Y36(je,10),b.Y36(st,10),b.Y36(rs,8))};static#n=this.\u0275dir=b.lG2({type:W,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[b._Bn([Nr]),b.qOj,b.TTD]})}return W})();const Ws={provide:st,useExisting:(0,b.Gpc)(()=>er),multi:!0};function ti(W,X){return null==W?`${X}`:(X&&"object"==typeof X&&(X="Object"),`${W}: ${X}`.slice(0,50))}let er=(()=>{class W extends Pe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(B){this._compareWith=B}writeValue(B){this.value=B;const Ee=ti(this._getOptionId(B),B);this.setProperty("value",Ee)}registerOnChange(B){this.onChange=ae=>{this.value=this._getOptionValue(ae),B(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(B){for(const ae of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ae),B))return ae;return null}_getOptionValue(B){const ae=function sr(W){return W.split(":")[0]}(B);return this._optionMap.has(ae)?this._optionMap.get(ae):B}static#e=this.\u0275fac=function(){let B;return function(Ee){return(B||(B=b.n5z(W)))(Ee||W)}}();static#t=this.\u0275dir=b.lG2({type:W,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(ae,Ee){1&ae&&b.NdJ("change",function(Hn){return Ee.onChange(Hn.target.value)})("blur",function(){return Ee.onTouched()})},inputs:{compareWith:"compareWith"},features:[b._Bn([Ws]),b.qOj]})}return W})(),wr=(()=>{class W{constructor(B,ae,Ee){this._element=B,this._renderer=ae,this._select=Ee,this._select&&(this.id=this._select._registerOption())}set ngValue(B){null!=this._select&&(this._select._optionMap.set(this.id,B),this._setElementValue(ti(this.id,B)),this._select.writeValue(this._select.value))}set value(B){this._setElementValue(B),this._select&&this._select.writeValue(this._select.value)}_setElementValue(B){this._renderer.setProperty(this._element.nativeElement,"value",B)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(ae){return new(ae||W)(b.Y36(b.SBq),b.Y36(b.Qsj),b.Y36(er,9))};static#t=this.\u0275dir=b.lG2({type:W,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return W})();const Ss={provide:st,useExisting:(0,b.Gpc)(()=>is),multi:!0};function Pn(W,X){return null==W?`${X}`:("string"==typeof X&&(X=`'${X}'`),X&&"object"==typeof X&&(X="Object"),`${W}: ${X}`.slice(0,50))}let is=(()=>{class W extends Pe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(B){this._compareWith=B}writeValue(B){let ae;if(this.value=B,Array.isArray(B)){const Ee=B.map(Yt=>this._getOptionId(Yt));ae=(Yt,Hn)=>{Yt._setSelected(Ee.indexOf(Hn.toString())>-1)}}else ae=(Ee,Yt)=>{Ee._setSelected(!1)};this._optionMap.forEach(ae)}registerOnChange(B){this.onChange=ae=>{const Ee=[],Yt=ae.selectedOptions;if(void 0!==Yt){const Hn=Yt;for(let Yi=0;Yi<Hn.length;Yi++){const $i=this._getOptionValue(Hn[Yi].value);Ee.push($i)}}else{const Hn=ae.options;for(let Yi=0;Yi<Hn.length;Yi++){const vo=Hn[Yi];if(vo.selected){const $i=this._getOptionValue(vo.value);Ee.push($i)}}}this.value=Ee,B(Ee)}}_registerOption(B){const ae=(this._idCounter++).toString();return this._optionMap.set(ae,B),ae}_getOptionId(B){for(const ae of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ae)._value,B))return ae;return null}_getOptionValue(B){const ae=function _o(W){return W.split(":")[0]}(B);return this._optionMap.has(ae)?this._optionMap.get(ae)._value:B}static#e=this.\u0275fac=function(){let B;return function(Ee){return(B||(B=b.n5z(W)))(Ee||W)}}();static#t=this.\u0275dir=b.lG2({type:W,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(ae,Ee){1&ae&&b.NdJ("change",function(Hn){return Ee.onChange(Hn.target)})("blur",function(){return Ee.onTouched()})},inputs:{compareWith:"compareWith"},features:[b._Bn([Ss]),b.qOj]})}return W})(),Wr=(()=>{class W{constructor(B,ae,Ee){this._element=B,this._renderer=ae,this._select=Ee,this._select&&(this.id=this._select._registerOption(this))}set ngValue(B){null!=this._select&&(this._value=B,this._setElementValue(Pn(this.id,B)),this._select.writeValue(this._select.value))}set value(B){this._select?(this._value=B,this._setElementValue(Pn(this.id,B)),this._select.writeValue(this._select.value)):this._setElementValue(B)}_setElementValue(B){this._renderer.setProperty(this._element.nativeElement,"value",B)}_setSelected(B){this._renderer.setProperty(this._element.nativeElement,"selected",B)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(ae){return new(ae||W)(b.Y36(b.SBq),b.Y36(b.Qsj),b.Y36(is,9))};static#t=this.\u0275dir=b.lG2({type:W,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return W})();let di=(()=>{class W{constructor(){this._validator=ke}ngOnChanges(B){if(this.inputName in B){const ae=this.normalizeInput(B[this.inputName].currentValue);this._enabled=this.enabled(ae),this._validator=this._enabled?this.createValidator(ae):ke,this._onChange&&this._onChange()}}validate(B){return this._validator(B)}registerOnValidatorChange(B){this._onChange=B}enabled(B){return null!=B}static#e=this.\u0275fac=function(ae){return new(ae||W)};static#t=this.\u0275dir=b.lG2({type:W,features:[b.TTD]})}return W})();const Zs={provide:_t,useExisting:(0,b.Gpc)(()=>$n),multi:!0};let $n=(()=>{class W extends di{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=b.VuI,this.createValidator=B=>ut}enabled(B){return B}static#e=this.\u0275fac=function(){let B;return function(Ee){return(B||(B=b.n5z(W)))(Ee||W)}}();static#t=this.\u0275dir=b.lG2({type:W,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(ae,Ee){2&ae&&b.uIk("required",Ee._enabled?"":null)},inputs:{required:"required"},features:[b._Bn([Zs]),b.qOj]})}return W})();const Si={provide:_t,useExisting:(0,b.Gpc)(()=>Ks),multi:!0};let Ks=(()=>{class W extends di{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=B=>function gs(W){return"number"==typeof W?W:parseInt(W,10)}(B),this.createValidator=B=>Gn(B)}static#e=this.\u0275fac=function(){let B;return function(Ee){return(B||(B=b.n5z(W)))(Ee||W)}}();static#t=this.\u0275dir=b.lG2({type:W,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(ae,Ee){2&ae&&b.uIk("minlength",Ee._enabled?Ee.minlength:null)},inputs:{minlength:"minlength"},features:[b._Bn([Si]),b.qOj]})}return W})(),Ys=(()=>{class W{static#e=this.\u0275fac=function(ae){return new(ae||W)};static#t=this.\u0275mod=b.oAB({type:W});static#n=this.\u0275inj=b.cJS({imports:[Qr]})}return W})();class yo extends Tt{constructor(X,B,ae){super(Y(B),G(ae,B)),this.controls=X,this._initObservables(),this._setUpdateStrategy(B),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(X){return this.controls[this._adjustIndex(X)]}push(X,B={}){this.controls.push(X),this._registerControl(X),this.updateValueAndValidity({emitEvent:B.emitEvent}),this._onCollectionChange()}insert(X,B,ae={}){this.controls.splice(X,0,B),this._registerControl(B),this.updateValueAndValidity({emitEvent:ae.emitEvent})}removeAt(X,B={}){let ae=this._adjustIndex(X);ae<0&&(ae=0),this.controls[ae]&&this.controls[ae]._registerOnCollectionChange(()=>{}),this.controls.splice(ae,1),this.updateValueAndValidity({emitEvent:B.emitEvent})}setControl(X,B,ae={}){let Ee=this._adjustIndex(X);Ee<0&&(Ee=0),this.controls[Ee]&&this.controls[Ee]._registerOnCollectionChange(()=>{}),this.controls.splice(Ee,1),B&&(this.controls.splice(Ee,0,B),this._registerControl(B)),this.updateValueAndValidity({emitEvent:ae.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(X,B={}){qe(this,0,X),X.forEach((ae,Ee)=>{be(this,!1,Ee),this.at(Ee).setValue(ae,{onlySelf:!0,emitEvent:B.emitEvent})}),this.updateValueAndValidity(B)}patchValue(X,B={}){null!=X&&(X.forEach((ae,Ee)=>{this.at(Ee)&&this.at(Ee).patchValue(ae,{onlySelf:!0,emitEvent:B.emitEvent})}),this.updateValueAndValidity(B))}reset(X=[],B={}){this._forEachChild((ae,Ee)=>{ae.reset(X[Ee],{onlySelf:!0,emitEvent:B.emitEvent})}),this._updatePristine(B),this._updateTouched(B),this.updateValueAndValidity(B)}getRawValue(){return this.controls.map(X=>X.getRawValue())}clear(X={}){this.controls.length<1||(this._forEachChild(B=>B._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:X.emitEvent}))}_adjustIndex(X){return X<0?X+this.length:X}_syncPendingControls(){let X=this.controls.reduce((B,ae)=>!!ae._syncPendingControls()||B,!1);return X&&this.updateValueAndValidity({onlySelf:!0}),X}_forEachChild(X){this.controls.forEach((B,ae)=>{X(B,ae)})}_updateValue(){this.value=this.controls.filter(X=>X.enabled||this.disabled).map(X=>X.value)}_anyControls(X){return this.controls.some(B=>B.enabled&&X(B))}_setUpControls(){this._forEachChild(X=>this._registerControl(X))}_allControlsDisabled(){for(const X of this.controls)if(X.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(X){X.setParent(this),X._registerOnCollectionChange(this._onCollectionChange)}_find(X){return this.at(X)??null}}function Ba(W){return!!W&&(void 0!==W.asyncValidators||void 0!==W.validators||void 0!==W.updateOn)}let na=(()=>{class W{constructor(){this.useNonNullable=!1}get nonNullable(){const B=new W;return B.useNonNullable=!0,B}group(B,ae=null){const Ee=this._reduceControls(B);let Yt={};return Ba(ae)?Yt=ae:null!==ae&&(Yt.validators=ae.validator,Yt.asyncValidators=ae.asyncValidator),new rn(Ee,Yt)}record(B,ae=null){const Ee=this._reduceControls(B);return new Wt(Ee,ae)}control(B,ae,Ee){let Yt={};return this.useNonNullable?(Ba(ae)?Yt=ae:(Yt.validators=ae,Yt.asyncValidators=Ee),new ci(B,{...Yt,nonNullable:!0})):new ci(B,ae,Ee)}array(B,ae,Ee){const Yt=B.map(Hn=>this._createControl(Hn));return new yo(Yt,ae,Ee)}_reduceControls(B){const ae={};return Object.keys(B).forEach(Ee=>{ae[Ee]=this._createControl(B[Ee])}),ae}_createControl(B){return B instanceof ci||B instanceof Tt?B:Array.isArray(B)?this.control(B[0],B.length>1?B[1]:null,B.length>2?B[2]:null):this.control(B)}static#e=this.\u0275fac=function(ae){return new(ae||W)};static#t=this.\u0275prov=b.Yz7({token:W,factory:W.\u0275fac,providedIn:"root"})}return W})(),ra=(()=>{class W{static withConfig(B){return{ngModule:W,providers:[{provide:pr,useValue:B.callSetDisabledState??tr}]}}static#e=this.\u0275fac=function(ae){return new(ae||W)};static#t=this.\u0275mod=b.oAB({type:W});static#n=this.\u0275inj=b.cJS({imports:[Ys]})}return W})(),Va=(()=>{class W{static withConfig(B){return{ngModule:W,providers:[{provide:rs,useValue:B.warnOnNgModelWithFormControl??"always"},{provide:pr,useValue:B.callSetDisabledState??tr}]}}static#e=this.\u0275fac=function(ae){return new(ae||W)};static#t=this.\u0275mod=b.oAB({type:W});static#n=this.\u0275inj=b.cJS({imports:[Ys]})}return W})()},2614:()=>{const Bt=":";const Zn=function(Ce,...xe){if(Zn.translate){const at=Zn.translate(Ce,xe);Ce=at[0],xe=at[1]}let Re=kr(Ce[0],Ce.raw[0]);for(let at=1;at<Ce.length;at++)Re+=xe[at-1]+kr(Ce[at],Ce.raw[at]);return Re},yr=":";function kr(Ce,xe){return xe.charAt(0)===yr?Ce.substring(function $e(Ce,xe){for(let Re=1,at=1;Re<Ce.length;Re++,at++)if("\\"===xe[at])at++;else if(Ce[Re]===Bt)return Re;throw new Error(`Unterminated $localize metadata block in "${xe}".`)}(Ce,xe)+1):Ce}globalThis.$localize=Zn},6593:(Bt,Ge,K)=>{K.d(Ge,{Dx:()=>At,H7:()=>Xn,b2:()=>Ce,q6:()=>Dt,se:()=>ve});var b=K(9468),oe=K(6814);class u extends oe.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class we extends u{static makeCurrent(){(0,oe.HT)(new we)}onAndCancel(G,q,$){return G.addEventListener(q,$),()=>{G.removeEventListener(q,$)}}dispatchEvent(G,q){G.dispatchEvent(q)}remove(G){G.parentNode&&G.parentNode.removeChild(G)}createElement(G,q){return(q=q||this.getDefaultDocument()).createElement(G)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(G){return G.nodeType===Node.ELEMENT_NODE}isShadowRoot(G){return G instanceof DocumentFragment}getGlobalEventTarget(G,q){return"window"===q?window:"document"===q?G:"body"===q?G.body:null}getBaseHref(G){const q=function he(){return de=de||document.querySelector("base"),de?de.getAttribute("href"):null}();return null==q?null:function Ue(U){Te=Te||document.createElement("a"),Te.setAttribute("href",U);const G=Te.pathname;return"/"===G.charAt(0)?G:`/${G}`}(q)}resetBaseElement(){de=null}getUserAgent(){return window.navigator.userAgent}getCookie(G){return(0,oe.Mx)(document.cookie,G)}}let Te,de=null,ne=(()=>{class U{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function($){return new($||U)};static#t=this.\u0275prov=b.Yz7({token:U,factory:U.\u0275fac})}return U})();const le=new b.OlP("EventManagerPlugins");let Ae=(()=>{class U{constructor(q,$){this._zone=$,this._eventNameToPlugin=new Map,q.forEach(be=>{be.manager=this}),this._plugins=q.slice().reverse()}addEventListener(q,$,be){return this._findPluginFor($).addEventListener(q,$,be)}getZone(){return this._zone}_findPluginFor(q){let $=this._eventNameToPlugin.get(q);if($)return $;if($=this._plugins.find(qe=>qe.supports(q)),!$)throw new b.vHH(5101,!1);return this._eventNameToPlugin.set(q,$),$}static#e=this.\u0275fac=function($){return new($||U)(b.LFG(le),b.LFG(b.R0b))};static#t=this.\u0275prov=b.Yz7({token:U,factory:U.\u0275fac})}return U})();class Xe{constructor(G){this._doc=G}}const Pe="ng-app-id";let st=(()=>{class U{constructor(q,$,be,qe={}){this.doc=q,this.appId=$,this.nonce=be,this.platformId=qe,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,oe.PM)(qe),this.resetHostNodes()}addStyles(q){for(const $ of q)1===this.changeUsageCount($,1)&&this.onStyleAdded($)}removeStyles(q){for(const $ of q)this.changeUsageCount($,-1)<=0&&this.onStyleRemoved($)}ngOnDestroy(){const q=this.styleNodesInDOM;q&&(q.forEach($=>$.remove()),q.clear());for(const $ of this.getAllStyles())this.onStyleRemoved($);this.resetHostNodes()}addHost(q){this.hostNodes.add(q);for(const $ of this.getAllStyles())this.addStyleToHost(q,$)}removeHost(q){this.hostNodes.delete(q)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(q){for(const $ of this.hostNodes)this.addStyleToHost($,q)}onStyleRemoved(q){const $=this.styleRef;$.get(q)?.elements?.forEach(be=>be.remove()),$.delete(q)}collectServerRenderedStyles(){const q=this.doc.head?.querySelectorAll(`style[${Pe}="${this.appId}"]`);if(q?.length){const $=new Map;return q.forEach(be=>{null!=be.textContent&&$.set(be.textContent,be)}),$}return null}changeUsageCount(q,$){const be=this.styleRef;if(be.has(q)){const qe=be.get(q);return qe.usage+=$,qe.usage}return be.set(q,{usage:$,elements:[]}),$}getStyleElement(q,$){const be=this.styleNodesInDOM,qe=be?.get($);if(qe?.parentNode===q)return be.delete($),qe.removeAttribute(Pe),qe;{const Tt=this.doc.createElement("style");return this.nonce&&Tt.setAttribute("nonce",this.nonce),Tt.textContent=$,this.platformIsServer&&Tt.setAttribute(Pe,this.appId),Tt}}addStyleToHost(q,$){const be=this.getStyleElement(q,$);q.appendChild(be);const qe=this.styleRef,Tt=qe.get($)?.elements;Tt?Tt.push(be):qe.set($,{elements:[be],usage:1})}resetHostNodes(){const q=this.hostNodes;q.clear(),q.add(this.doc.head)}static#e=this.\u0275fac=function($){return new($||U)(b.LFG(oe.K0),b.LFG(b.AFp),b.LFG(b.Ojb,8),b.LFG(b.Lbi))};static#t=this.\u0275prov=b.Yz7({token:U,factory:U.\u0275fac})}return U})();const Ot={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ut=/%COMP%/g,ot=new b.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function je(U,G){return G.map(q=>q.replace(Ut,U))}let ve=(()=>{class U{constructor(q,$,be,qe,Tt,rn,ln,On=null){this.eventManager=q,this.sharedStylesHost=$,this.appId=be,this.removeStylesOnCompDestroy=qe,this.doc=Tt,this.platformId=rn,this.ngZone=ln,this.nonce=On,this.rendererByCompId=new Map,this.platformIsServer=(0,oe.PM)(rn),this.defaultRenderer=new Ke(q,Tt,ln,this.platformIsServer)}createRenderer(q,$){if(!q||!$)return this.defaultRenderer;this.platformIsServer&&$.encapsulation===b.ifc.ShadowDom&&($={...$,encapsulation:b.ifc.Emulated});const be=this.getOrCreateRenderer(q,$);return be instanceof Gn?be.applyToHost(q):be instanceof Sn&&be.applyStyles(),be}getOrCreateRenderer(q,$){const be=this.rendererByCompId;let qe=be.get($.id);if(!qe){const Tt=this.doc,rn=this.ngZone,ln=this.eventManager,On=this.sharedStylesHost,Wt=this.removeStylesOnCompDestroy,Ln=this.platformIsServer;switch($.encapsulation){case b.ifc.Emulated:qe=new Gn(ln,On,$,this.appId,Wt,Tt,rn,Ln);break;case b.ifc.ShadowDom:return new dn(ln,On,q,$,Tt,rn,this.nonce,Ln);default:qe=new Sn(ln,On,$,Wt,Tt,rn,Ln)}be.set($.id,qe)}return qe}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function($){return new($||U)(b.LFG(Ae),b.LFG(st),b.LFG(b.AFp),b.LFG(ot),b.LFG(oe.K0),b.LFG(b.Lbi),b.LFG(b.R0b),b.LFG(b.Ojb))};static#t=this.\u0275prov=b.Yz7({token:U,factory:U.\u0275fac})}return U})();class Ke{constructor(G,q,$,be){this.eventManager=G,this.doc=q,this.ngZone=$,this.platformIsServer=be,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(G,q){return q?this.doc.createElementNS(Ot[q]||q,G):this.doc.createElement(G)}createComment(G){return this.doc.createComment(G)}createText(G){return this.doc.createTextNode(G)}appendChild(G,q){(ut(G)?G.content:G).appendChild(q)}insertBefore(G,q,$){G&&(ut(G)?G.content:G).insertBefore(q,$)}removeChild(G,q){G&&G.removeChild(q)}selectRootElement(G,q){let $="string"==typeof G?this.doc.querySelector(G):G;if(!$)throw new b.vHH(-5104,!1);return q||($.textContent=""),$}parentNode(G){return G.parentNode}nextSibling(G){return G.nextSibling}setAttribute(G,q,$,be){if(be){q=be+":"+q;const qe=Ot[be];qe?G.setAttributeNS(qe,q,$):G.setAttribute(q,$)}else G.setAttribute(q,$)}removeAttribute(G,q,$){if($){const be=Ot[$];be?G.removeAttributeNS(be,q):G.removeAttribute(`${$}:${q}`)}else G.removeAttribute(q)}addClass(G,q){G.classList.add(q)}removeClass(G,q){G.classList.remove(q)}setStyle(G,q,$,be){be&(b.JOm.DashCase|b.JOm.Important)?G.style.setProperty(q,$,be&b.JOm.Important?"important":""):G.style[q]=$}removeStyle(G,q,$){$&b.JOm.DashCase?G.style.removeProperty(q):G.style[q]=""}setProperty(G,q,$){G[q]=$}setValue(G,q){G.nodeValue=q}listen(G,q,$){if("string"==typeof G&&!(G=(0,oe.q)().getGlobalEventTarget(this.doc,G)))throw new Error(`Unsupported event target ${G} for event ${q}`);return this.eventManager.addEventListener(G,q,this.decoratePreventDefault($))}decoratePreventDefault(G){return q=>{if("__ngUnwrap__"===q)return G;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>G(q)):G(q))&&q.preventDefault()}}}function ut(U){return"TEMPLATE"===U.tagName&&void 0!==U.content}class dn extends Ke{constructor(G,q,$,be,qe,Tt,rn,ln){super(G,qe,Tt,ln),this.sharedStylesHost=q,this.hostEl=$,this.shadowRoot=$.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const On=je(be.id,be.styles);for(const Wt of On){const Ln=document.createElement("style");rn&&Ln.setAttribute("nonce",rn),Ln.textContent=Wt,this.shadowRoot.appendChild(Ln)}}nodeOrShadowRoot(G){return G===this.hostEl?this.shadowRoot:G}appendChild(G,q){return super.appendChild(this.nodeOrShadowRoot(G),q)}insertBefore(G,q,$){return super.insertBefore(this.nodeOrShadowRoot(G),q,$)}removeChild(G,q){return super.removeChild(this.nodeOrShadowRoot(G),q)}parentNode(G){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(G)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Sn extends Ke{constructor(G,q,$,be,qe,Tt,rn,ln){super(G,qe,Tt,rn),this.sharedStylesHost=q,this.removeStylesOnCompDestroy=be,this.styles=ln?je(ln,$.styles):$.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Gn extends Sn{constructor(G,q,$,be,qe,Tt,rn,ln){const On=be+"-"+$.id;super(G,q,$,qe,Tt,rn,ln,On),this.contentAttr=function vt(U){return"_ngcontent-%COMP%".replace(Ut,U)}(On),this.hostAttr=function _t(U){return"_nghost-%COMP%".replace(Ut,U)}(On)}applyToHost(G){this.applyStyles(),this.setAttribute(G,this.hostAttr,"")}createElement(G,q){const $=super.createElement(G,q);return super.setAttribute($,this.contentAttr,""),$}}let ir=(()=>{class U extends Xe{constructor(q){super(q)}supports(q){return!0}addEventListener(q,$,be){return q.addEventListener($,be,!1),()=>this.removeEventListener(q,$,be)}removeEventListener(q,$,be){return q.removeEventListener($,be)}static#e=this.\u0275fac=function($){return new($||U)(b.LFG(oe.K0))};static#t=this.\u0275prov=b.Yz7({token:U,factory:U.\u0275fac})}return U})();const _r=["alt","control","meta","shift"],ke={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$e={alt:U=>U.altKey,control:U=>U.ctrlKey,meta:U=>U.metaKey,shift:U=>U.shiftKey};let Ye=(()=>{class U extends Xe{constructor(q){super(q)}supports(q){return null!=U.parseEventName(q)}addEventListener(q,$,be){const qe=U.parseEventName($),Tt=U.eventCallback(qe.fullKey,be,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,oe.q)().onAndCancel(q,qe.domEventName,Tt))}static parseEventName(q){const $=q.toLowerCase().split("."),be=$.shift();if(0===$.length||"keydown"!==be&&"keyup"!==be)return null;const qe=U._normalizeKey($.pop());let Tt="",rn=$.indexOf("code");if(rn>-1&&($.splice(rn,1),Tt="code."),_r.forEach(On=>{const Wt=$.indexOf(On);Wt>-1&&($.splice(Wt,1),Tt+=On+".")}),Tt+=qe,0!=$.length||0===qe.length)return null;const ln={};return ln.domEventName=be,ln.fullKey=Tt,ln}static matchEventFullKeyCode(q,$){let be=ke[q.key]||q.key,qe="";return $.indexOf("code.")>-1&&(be=q.code,qe="code."),!(null==be||!be)&&(be=be.toLowerCase()," "===be?be="space":"."===be&&(be="dot"),_r.forEach(Tt=>{Tt!==be&&(0,$e[Tt])(q)&&(qe+=Tt+".")}),qe+=be,qe===$)}static eventCallback(q,$,be){return qe=>{U.matchEventFullKeyCode(qe,q)&&be.runGuarded(()=>$(qe))}}static _normalizeKey(q){return"esc"===q?"escape":q}static#e=this.\u0275fac=function($){return new($||U)(b.LFG(oe.K0))};static#t=this.\u0275prov=b.Yz7({token:U,factory:U.\u0275fac})}return U})();const Dt=(0,b.eFA)(b._c5,"browser",[{provide:b.Lbi,useValue:oe.bD},{provide:b.g9A,useValue:function jt(){we.makeCurrent()},multi:!0},{provide:oe.K0,useFactory:function bn(){return(0,b.RDi)(document),document},deps:[]}]),Zn=new b.OlP(""),yr=[{provide:b.rWj,useClass:class Ie{addToWindow(G){b.dqk.getAngularTestability=($,be=!0)=>{const qe=G.findTestabilityInTree($,be);if(null==qe)throw new b.vHH(5103,!1);return qe},b.dqk.getAllAngularTestabilities=()=>G.getAllTestabilities(),b.dqk.getAllAngularRootElements=()=>G.getAllRootElements(),b.dqk.frameworkStabilizers||(b.dqk.frameworkStabilizers=[]),b.dqk.frameworkStabilizers.push($=>{const be=b.dqk.getAllAngularTestabilities();let qe=be.length,Tt=!1;const rn=function(ln){Tt=Tt||ln,qe--,0==qe&&$(Tt)};be.forEach(ln=>{ln.whenStable(rn)})})}findTestabilityInTree(G,q,$){return null==q?null:G.getTestability(q)??($?(0,oe.q)().isShadowRoot(q)?this.findTestabilityInTree(G,q.host,!0):this.findTestabilityInTree(G,q.parentElement,!0):null)}},deps:[]},{provide:b.lri,useClass:b.dDg,deps:[b.R0b,b.eoX,b.rWj]},{provide:b.dDg,useClass:b.dDg,deps:[b.R0b,b.eoX,b.rWj]}],kr=[{provide:b.zSh,useValue:"root"},{provide:b.qLn,useFactory:function hn(){return new b.qLn},deps:[]},{provide:le,useClass:ir,multi:!0,deps:[oe.K0,b.R0b,b.Lbi]},{provide:le,useClass:Ye,multi:!0,deps:[oe.K0]},ve,st,Ae,{provide:b.FYo,useExisting:ve},{provide:oe.JF,useClass:ne,deps:[]},[]];let Ce=(()=>{class U{constructor(q){}static withServerTransition(q){return{ngModule:U,providers:[{provide:b.AFp,useValue:q.appId}]}}static#e=this.\u0275fac=function($){return new($||U)(b.LFG(Zn,12))};static#t=this.\u0275mod=b.oAB({type:U});static#n=this.\u0275inj=b.cJS({providers:[...kr,...yr],imports:[oe.ez,b.hGG]})}return U})(),At=(()=>{class U{constructor(q){this._doc=q}getTitle(){return this._doc.title}setTitle(q){this._doc.title=q||""}static#e=this.\u0275fac=function($){return new($||U)(b.LFG(oe.K0))};static#t=this.\u0275prov=b.Yz7({token:U,factory:function($){let be=null;return be=$?new $:function yt(){return new At((0,b.LFG)(oe.K0))}(),be},providedIn:"root"})}return U})();typeof window<"u"&&window;let Xn=(()=>{class U{static#e=this.\u0275fac=function($){return new($||U)};static#t=this.\u0275prov=b.Yz7({token:U,factory:function($){let be=null;return be=$?new($||U):b.LFG(gi),be},providedIn:"root"})}return U})(),gi=(()=>{class U extends Xn{constructor(q){super(),this._doc=q}sanitize(q,$){if(null==$)return null;switch(q){case b.q3G.NONE:return $;case b.q3G.HTML:return(0,b.qzn)($,"HTML")?(0,b.z3N)($):(0,b.EiD)(this._doc,String($)).toString();case b.q3G.STYLE:return(0,b.qzn)($,"Style")?(0,b.z3N)($):$;case b.q3G.SCRIPT:if((0,b.qzn)($,"Script"))return(0,b.z3N)($);throw new b.vHH(5200,!1);case b.q3G.URL:return(0,b.qzn)($,"URL")?(0,b.z3N)($):(0,b.mCW)(String($));case b.q3G.RESOURCE_URL:if((0,b.qzn)($,"ResourceURL"))return(0,b.z3N)($);throw new b.vHH(5201,!1);default:throw new b.vHH(5202,!1)}}bypassSecurityTrustHtml(q){return(0,b.JVY)(q)}bypassSecurityTrustStyle(q){return(0,b.L6k)(q)}bypassSecurityTrustScript(q){return(0,b.eBb)(q)}bypassSecurityTrustUrl(q){return(0,b.LAX)(q)}bypassSecurityTrustResourceUrl(q){return(0,b.pB0)(q)}static#e=this.\u0275fac=function($){return new($||U)(b.LFG(oe.K0))};static#t=this.\u0275prov=b.Yz7({token:U,factory:function($){let be=null;return be=$?new $:function Mr(U){return new gi(U.get(oe.K0))}(b.LFG(b.zs3)),be},providedIn:"root"})}return U})()},6024:(Bt,Ge,K)=>{K.d(Ge,{gz:()=>ur,m2:()=>Ds,F0:()=>wo,rH:()=>fi,Bz:()=>uu,lC:()=>wr});var b=K(9468),oe=K(5592),u=K(4674),de=K(2459),he=K(2096),Te=K(5619),Ue=K(7453),Ie=K(2737),ne=K(7400),le=K(9940),Ae=K(2714),Xe=K(8251),Pe=K(7103);function st(...C){const x=(0,le.yG)(C),D=(0,le.jO)(C),{args:P,keys:j}=(0,Ue.D)(C);if(0===P.length)return(0,de.D)([],x);const se=new oe.y(function Ot(C,x,D=Ie.y){return P=>{Ut(x,()=>{const{length:j}=C,se=new Array(j);let _e=j,ze=j;for(let He=0;He<j;He++)Ut(x,()=>{const zt=(0,de.D)(C[He],x);let Un=!1;zt.subscribe((0,Xe.x)(P,Or=>{se[He]=Or,Un||(Un=!0,ze--),ze||P.next(D(se.slice()))},()=>{--_e||P.complete()}))},P)},P)}}(P,x,j?_e=>(0,Ae.n)(j,_e):Ie.y));return D?se.pipe((0,ne.Z)(D)):se}function Ut(C,x,D){C?(0,Pe.f)(D,C,x):x()}var Ft=K(6973),xn=K(5211),Rt=K(4829);function mt(C){return new oe.y(x=>{(0,Rt.Xf)(C()).subscribe(x)})}var ot=K(8407);function vt(C,x){const D=(0,u.m)(C)?C:()=>C,P=j=>j.error(D());return new oe.y(x?j=>x.schedule(P,0,j):P)}var _t=K(6232),je=K(7394),ve=K(9360);function Ke(){return(0,ve.e)((C,x)=>{let D=null;C._refCount++;const P=(0,Xe.x)(x,void 0,void 0,void 0,()=>{if(!C||C._refCount<=0||0<--C._refCount)return void(D=null);const j=C._connection,se=D;D=null,j&&(!se||j===se)&&j.unsubscribe(),x.unsubscribe()});C.subscribe(P),P.closed||(D=C.connect())})}class gt extends oe.y{constructor(x,D){super(),this.source=x,this.subjectFactory=D,this._subject=null,this._refCount=0,this._connection=null,(0,ve.A)(x)&&(this.lift=x.lift)}_subscribe(x){return this.getSubject().subscribe(x)}getSubject(){const x=this._subject;return(!x||x.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:x}=this;this._subject=this._connection=null,x?.unsubscribe()}connect(){let x=this._connection;if(!x){x=this._connection=new je.w0;const D=this.getSubject();x.add(this.source.subscribe((0,Xe.x)(D,void 0,()=>{this._teardown(),D.complete()},P=>{this._teardown(),D.error(P)},()=>this._teardown()))),x.closed&&(this._connection=null,x=je.w0.EMPTY)}return x}refCount(){return Ke()(this)}}var Fn=K(8645),ut=K(6814),dn=K(7398),Sn=K(4664),Gn=K(8180),ir=K(7921),_r=K(2181),ke=K(1631);function $e(C){return(0,ve.e)((x,D)=>{let P=!1;x.subscribe((0,Xe.x)(D,j=>{P=!0,D.next(j)},()=>{P||D.next(C),D.complete()}))})}function Ye(C=Ve){return(0,ve.e)((x,D)=>{let P=!1;x.subscribe((0,Xe.x)(D,j=>{P=!0,D.next(j)},()=>P?D.complete():D.error(C())))})}function Ve(){return new Ft.K}function nt(C,x){const D=arguments.length>=2;return P=>P.pipe(C?(0,_r.h)((j,se)=>C(j,se,P)):Ie.y,(0,Gn.q)(1),D?$e(x):Ye(()=>new Ft.K))}function bt(C,x){return(0,u.m)(x)?(0,ke.z)(C,x,1):(0,ke.z)(C,1)}var Pt=K(9397);function jt(C){return(0,ve.e)((x,D)=>{let se,P=null,j=!1;P=x.subscribe((0,Xe.x)(D,void 0,void 0,_e=>{se=(0,Rt.Xf)(C(_e,jt(C)(x))),P?(P.unsubscribe(),P=null,se.subscribe(D)):j=!0})),j&&(P.unsubscribe(),P=null,se.subscribe(D))})}function cn(C){return C<=0?()=>_t.E:(0,ve.e)((x,D)=>{let P=[];x.subscribe((0,Xe.x)(D,j=>{P.push(j),C<P.length&&P.shift()},()=>{for(const j of P)D.next(j);D.complete()},void 0,()=>{P=null}))})}var Zn=K(975);function yr(C){return(0,ve.e)((x,D)=>{try{x.subscribe(D)}finally{D.add(C)}})}var kr=K(9773),Ce=K(7537),xe=K(6593);const Re="primary",at=Symbol("RouteTitle");class yt{constructor(x){this.params=x||{}}has(x){return Object.prototype.hasOwnProperty.call(this.params,x)}get(x){if(this.has(x)){const D=this.params[x];return Array.isArray(D)?D[0]:D}return null}getAll(x){if(this.has(x)){const D=this.params[x];return Array.isArray(D)?D:[D]}return[]}get keys(){return Object.keys(this.params)}}function At(C){return new yt(C)}function vr(C,x,D){const P=D.path.split("/");if(P.length>C.length||"full"===D.pathMatch&&(x.hasChildren()||P.length<C.length))return null;const j={};for(let se=0;se<P.length;se++){const _e=P[se],ze=C[se];if(_e.startsWith(":"))j[_e.substring(1)]=ze;else if(_e!==ze.path)return null}return{consumed:C.slice(0,P.length),posParams:j}}function sn(C,x){const D=C?Object.keys(C):void 0,P=x?Object.keys(x):void 0;if(!D||!P||D.length!=P.length)return!1;let j;for(let se=0;se<D.length;se++)if(j=D[se],!Kt(C[j],x[j]))return!1;return!0}function Kt(C,x){if(Array.isArray(C)&&Array.isArray(x)){if(C.length!==x.length)return!1;const D=[...C].sort(),P=[...x].sort();return D.every((j,se)=>P[se]===j)}return C===x}function En(C){return C.length>0?C[C.length-1]:null}function Jn(C){return function we(C){return!!C&&(C instanceof oe.y||(0,u.m)(C.lift)&&(0,u.m)(C.subscribe))}(C)?C:(0,b.QGY)(C)?(0,de.D)(Promise.resolve(C)):(0,he.of)(C)}const Xt={exact:function ar(C,x,D){if(!tt(C.segments,x.segments)||!pi(C.segments,x.segments,D)||C.numberOfChildren!==x.numberOfChildren)return!1;for(const P in x.children)if(!C.children[P]||!ar(C.children[P],x.children[P],D))return!1;return!0},subset:cr},Ar={exact:function mn(C,x){return sn(C,x)},subset:function Yn(C,x){return Object.keys(x).length<=Object.keys(C).length&&Object.keys(x).every(D=>Kt(C[D],x[D]))},ignored:()=>!0};function br(C,x,D){return Xt[D.paths](C.root,x.root,D.matrixParams)&&Ar[D.queryParams](C.queryParams,x.queryParams)&&!("exact"===D.fragment&&C.fragment!==x.fragment)}function cr(C,x,D){return Wn(C,x,x.segments,D)}function Wn(C,x,D,P){if(C.segments.length>D.length){const j=C.segments.slice(0,D.length);return!(!tt(j,D)||x.hasChildren()||!pi(j,D,P))}if(C.segments.length===D.length){if(!tt(C.segments,D)||!pi(C.segments,D,P))return!1;for(const j in x.children)if(!C.children[j]||!cr(C.children[j],x.children[j],P))return!1;return!0}{const j=D.slice(0,C.segments.length),se=D.slice(C.segments.length);return!!(tt(C.segments,j)&&pi(C.segments,j,P)&&C.children[Re])&&Wn(C.children[Re],x,se,P)}}function pi(C,x,D){return x.every((P,j)=>Ar[D](C[j].parameters,P.parameters))}class Rn{constructor(x=new Xn([],{}),D={},P=null){this.root=x,this.queryParams=D,this.fragment=P}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=At(this.queryParams)),this._queryParamMap}toString(){return qt.serialize(this)}}class Xn{constructor(x,D){this.segments=x,this.children=D,this.parent=null,Object.values(D).forEach(P=>P.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Zt(this)}}class Mr{constructor(x,D){this.path=x,this.parameters=D}get parameterMap(){return this._parameterMap||(this._parameterMap=At(this.parameters)),this._parameterMap}toString(){return qe(this)}}function tt(C,x){return C.length===x.length&&C.every((D,P)=>D.path===x[P].path)}let Ze=(()=>{class C{static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275prov=b.Yz7({token:C,factory:function(){return new It},providedIn:"root"})}return C})();class It{parse(x){const D=new ns(x);return new Rn(D.parseRootSegment(),D.parseQueryParams(),D.parseFragment())}serialize(x){const D=`/${qn(x.root,!0)}`,P=function rn(C){const x=Object.keys(C).map(D=>{const P=C[D];return Array.isArray(P)?P.map(j=>`${U(D)}=${U(j)}`).join("&"):`${U(D)}=${U(P)}`}).filter(D=>!!D);return x.length?`?${x.join("&")}`:""}(x.queryParams);return`${D}${P}${"string"==typeof x.fragment?`#${function G(C){return encodeURI(C)}(x.fragment)}`:""}`}}const qt=new It;function Zt(C){return C.segments.map(x=>qe(x)).join("/")}function qn(C,x){if(!C.hasChildren())return Zt(C);if(x){const D=C.children[Re]?qn(C.children[Re],!1):"",P=[];return Object.entries(C.children).forEach(([j,se])=>{j!==Re&&P.push(`${j}:${qn(se,!1)}`)}),P.length>0?`${D}(${P.join("//")})`:D}{const D=function Se(C,x){let D=[];return Object.entries(C.children).forEach(([P,j])=>{P===Re&&(D=D.concat(x(j,P)))}),Object.entries(C.children).forEach(([P,j])=>{P!==Re&&(D=D.concat(x(j,P)))}),D}(C,(P,j)=>j===Re?[qn(C.children[Re],!1)]:[`${j}:${qn(P,!1)}`]);return 1===Object.keys(C.children).length&&null!=C.children[Re]?`${Zt(C)}/${D[0]}`:`${Zt(C)}/(${D.join("//")})`}}function Y(C){return encodeURIComponent(C).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function U(C){return Y(C).replace(/%3B/gi,";")}function q(C){return Y(C).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $(C){return decodeURIComponent(C)}function be(C){return $(C.replace(/\+/g,"%20"))}function qe(C){return`${q(C.path)}${function Tt(C){return Object.keys(C).map(x=>`;${q(x)}=${q(C[x])}`).join("")}(C.parameters)}`}const ln=/^[^\/()?;#]+/;function On(C){const x=C.match(ln);return x?x[0]:""}const Wt=/^[^\/()?;=#]+/,pr=/^[^=?&#]+/,ks=/^[^&#]+/;class ns{constructor(x){this.url=x,this.remaining=x}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Xn([],{}):new Xn([],this.parseChildren())}parseQueryParams(){const x={};if(this.consumeOptional("?"))do{this.parseQueryParam(x)}while(this.consumeOptional("&"));return x}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const x=[];for(this.peekStartsWith("(")||x.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),x.push(this.parseSegment());let D={};this.peekStartsWith("/(")&&(this.capture("/"),D=this.parseParens(!0));let P={};return this.peekStartsWith("(")&&(P=this.parseParens(!1)),(x.length>0||Object.keys(D).length>0)&&(P[Re]=new Xn(x,D)),P}parseSegment(){const x=On(this.remaining);if(""===x&&this.peekStartsWith(";"))throw new b.vHH(4009,!1);return this.capture(x),new Mr($(x),this.parseMatrixParams())}parseMatrixParams(){const x={};for(;this.consumeOptional(";");)this.parseParam(x);return x}parseParam(x){const D=function Ln(C){const x=C.match(Wt);return x?x[0]:""}(this.remaining);if(!D)return;this.capture(D);let P="";if(this.consumeOptional("=")){const j=On(this.remaining);j&&(P=j,this.capture(P))}x[$(D)]=$(P)}parseQueryParam(x){const D=function tr(C){const x=C.match(pr);return x?x[0]:""}(this.remaining);if(!D)return;this.capture(D);let P="";if(this.consumeOptional("=")){const _e=function ua(C){const x=C.match(ks);return x?x[0]:""}(this.remaining);_e&&(P=_e,this.capture(P))}const j=be(D),se=be(P);if(x.hasOwnProperty(j)){let _e=x[j];Array.isArray(_e)||(_e=[_e],x[j]=_e),_e.push(se)}else x[j]=se}parseParens(x){const D={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const P=On(this.remaining),j=this.remaining[P.length];if("/"!==j&&")"!==j&&";"!==j)throw new b.vHH(4010,!1);let se;P.indexOf(":")>-1?(se=P.slice(0,P.indexOf(":")),this.capture(se),this.capture(":")):x&&(se=Re);const _e=this.parseChildren();D[se]=1===Object.keys(_e).length?_e[Re]:new Xn([],_e),this.consumeOptional("//")}return D}peekStartsWith(x){return this.remaining.startsWith(x)}consumeOptional(x){return!!this.peekStartsWith(x)&&(this.remaining=this.remaining.substring(x.length),!0)}capture(x){if(!this.consumeOptional(x))throw new b.vHH(4011,!1)}}function uo(C){return C.segments.length>0?new Xn([],{[Re]:C}):C}function Xo(C){const x={};for(const P of Object.keys(C.children)){const se=Xo(C.children[P]);if(P===Re&&0===se.segments.length&&se.hasChildren())for(const[_e,ze]of Object.entries(se.children))x[_e]=ze;else(se.segments.length>0||se.hasChildren())&&(x[P]=se)}return function wc(C){if(1===C.numberOfChildren&&C.children[Re]){const x=C.children[Re];return new Xn(C.segments.concat(x.segments),x.children)}return C}(new Xn(C.segments,x))}function Yr(C){return C instanceof Rn}function ws(C){let x;const j=uo(function D(se){const _e={};for(const He of se.children){const zt=D(He);_e[He.outlet]=zt}const ze=new Xn(se.url,_e);return se===C&&(x=ze),ze}(C.root));return x??j}function Is(C,x,D,P){let j=C;for(;j.parent;)j=j.parent;if(0===x.length)return hs(j,j,j,D,P);const se=function Ts(C){if("string"==typeof C[0]&&1===C.length&&"/"===C[0])return new po(!0,0,C);let x=0,D=!1;const P=C.reduce((j,se,_e)=>{if("object"==typeof se&&null!=se){if(se.outlets){const ze={};return Object.entries(se.outlets).forEach(([He,zt])=>{ze[He]="string"==typeof zt?zt.split("/"):zt}),[...j,{outlets:ze}]}if(se.segmentPath)return[...j,se.segmentPath]}return"string"!=typeof se?[...j,se]:0===_e?(se.split("/").forEach((ze,He)=>{0==He&&"."===ze||(0==He&&""===ze?D=!0:".."===ze?x++:""!=ze&&j.push(ze))}),j):[...j,se]},[]);return new po(D,x,P)}(x);if(se.toRoot())return hs(j,j,new Xn([],{}),D,P);const _e=function ai(C,x,D){if(C.isAbsolute)return new js(x,!0,0);if(!D)return new js(x,!1,NaN);if(null===D.parent)return new js(D,!0,0);const P=lr(C.commands[0])?0:1;return function $s(C,x,D){let P=C,j=x,se=D;for(;se>j;){if(se-=j,P=P.parent,!P)throw new b.vHH(4005,!1);j=P.segments.length}return new js(P,!1,j-se)}(D,D.segments.length-1+P,C.numberOfDoubleDots)}(se,j,C),ze=_e.processChildren?fs(_e.segmentGroup,_e.index,se.commands):Qa(_e.segmentGroup,_e.index,se.commands);return hs(j,_e.segmentGroup,ze,D,P)}function lr(C){return"object"==typeof C&&null!=C&&!C.outlets&&!C.segmentPath}function ho(C){return"object"==typeof C&&null!=C&&C.outlets}function hs(C,x,D,P,j){let _e,se={};P&&Object.entries(P).forEach(([He,zt])=>{se[He]=Array.isArray(zt)?zt.map(Un=>`${Un}`):`${zt}`}),_e=C===x?D:fo(C,x,D);const ze=uo(Xo(_e));return new Rn(ze,se,j)}function fo(C,x,D){const P={};return Object.entries(C.children).forEach(([j,se])=>{P[j]=se===x?D:fo(se,x,D)}),new Xn(C.segments,P)}class po{constructor(x,D,P){if(this.isAbsolute=x,this.numberOfDoubleDots=D,this.commands=P,x&&P.length>0&&lr(P[0]))throw new b.vHH(4003,!1);const j=P.find(ho);if(j&&j!==En(P))throw new b.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class js{constructor(x,D,P){this.segmentGroup=x,this.processChildren=D,this.index=P}}function Qa(C,x,D){if(C||(C=new Xn([],{})),0===C.segments.length&&C.hasChildren())return fs(C,x,D);const P=function Ja(C,x,D){let P=0,j=x;const se={match:!1,pathIndex:0,commandIndex:0};for(;j<C.segments.length;){if(P>=D.length)return se;const _e=C.segments[j],ze=D[P];if(ho(ze))break;const He=`${ze}`,zt=P<D.length-1?D[P+1]:null;if(j>0&&void 0===He)break;if(He&&zt&&"object"==typeof zt&&void 0===zt.outlets){if(!ha(He,zt,_e))return se;P+=2}else{if(!ha(He,{},_e))return se;P++}j++}return{match:!0,pathIndex:j,commandIndex:P}}(C,x,D),j=D.slice(P.commandIndex);if(P.match&&P.pathIndex<C.segments.length){const se=new Xn(C.segments.slice(0,P.pathIndex),{});return se.children[Re]=new Xn(C.segments.slice(P.pathIndex),C.children),fs(se,0,j)}return P.match&&0===j.length?new Xn(C.segments,{}):P.match&&!C.hasChildren()?mi(C,x,D):P.match?fs(C,0,j):mi(C,x,D)}function fs(C,x,D){if(0===D.length)return new Xn(C.segments,{});{const P=function qi(C){return ho(C[0])?C[0].outlets:{[Re]:C}}(D),j={};if(Object.keys(P).some(se=>se!==Re)&&C.children[Re]&&1===C.numberOfChildren&&0===C.children[Re].segments.length){const se=fs(C.children[Re],x,D);return new Xn(C.segments,se.children)}return Object.entries(P).forEach(([se,_e])=>{"string"==typeof _e&&(_e=[_e]),null!==_e&&(j[se]=Qa(C.children[se],x,_e))}),Object.entries(C.children).forEach(([se,_e])=>{void 0===P[se]&&(j[se]=_e)}),new Xn(C.segments,j)}}function mi(C,x,D){const P=C.segments.slice(0,x);let j=0;for(;j<D.length;){const se=D[j];if(ho(se)){const He=Pa(se.outlets);return new Xn(P,He)}if(0===j&&lr(D[0])){P.push(new Mr(C.segments[x].path,Fs(D[0]))),j++;continue}const _e=ho(se)?se.outlets[Re]:`${se}`,ze=j<D.length-1?D[j+1]:null;_e&&ze&&lr(ze)?(P.push(new Mr(_e,Fs(ze))),j+=2):(P.push(new Mr(_e,{})),j++)}return new Xn(P,{})}function Pa(C){const x={};return Object.entries(C).forEach(([D,P])=>{"string"==typeof P&&(P=[P]),null!==P&&(x[D]=mi(new Xn([],{}),0,P))}),x}function Fs(C){const x={};return Object.entries(C).forEach(([D,P])=>x[D]=`${P}`),x}function ha(C,x,D){return C==D.path&&sn(x,D.parameters)}const fa="imperative";class Es{constructor(x,D){this.id=x,this.url=D}}class ci extends Es{constructor(x,D,P="imperative",j=null){super(x,D),this.type=0,this.navigationTrigger=P,this.restoredState=j}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ds extends Es{constructor(x,D,P){super(x,D),this.urlAfterRedirects=P,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ls extends Es{constructor(x,D,P,j){super(x,D),this.reason=P,this.code=j,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class go extends Es{constructor(x,D,P,j){super(x,D),this.reason=P,this.code=j,this.type=16}}class Hc extends Es{constructor(x,D,P,j){super(x,D),this.error=P,this.target=j,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Zi extends Es{constructor(x,D,P,j){super(x,D),this.urlAfterRedirects=P,this.state=j,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ll extends Es{constructor(x,D,P,j){super(x,D),this.urlAfterRedirects=P,this.state=j,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class li extends Es{constructor(x,D,P,j,se){super(x,D),this.urlAfterRedirects=P,this.state=j,this.shouldActivate=se,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Gc extends Es{constructor(x,D,P,j){super(x,D),this.urlAfterRedirects=P,this.state=j,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _i extends Es{constructor(x,D,P,j){super(x,D),this.urlAfterRedirects=P,this.state=j,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xo{constructor(x){this.route=x,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ro{constructor(x){this.route=x,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ka{constructor(x){this.snapshot=x,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ps{constructor(x){this.snapshot=x,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ul{constructor(x){this.snapshot=x,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mo{constructor(x){this.snapshot=x,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pa{constructor(x,D,P){this.routerEvent=x,this.position=D,this.anchor=P,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ea{}class Qr{constructor(x){this.url=x}}class hr{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Jr,this.attachRef=null}}let Jr=(()=>{class C{constructor(){this.contexts=new Map}onChildOutletCreated(D,P){const j=this.getOrCreateContext(D);j.outlet=P,this.contexts.set(D,j)}onChildOutletDestroyed(D){const P=this.getContext(D);P&&(P.outlet=null,P.attachRef=null)}onOutletDeactivated(){const D=this.contexts;return this.contexts=new Map,D}onOutletReAttached(D){this.contexts=D}getOrCreateContext(D){let P=this.getContext(D);return P||(P=new hr,this.contexts.set(D,P)),P}getContext(D){return this.contexts.get(D)||null}static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275prov=b.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();class Gi{constructor(x){this._root=x}get root(){return this._root.value}parent(x){const D=this.pathFromRoot(x);return D.length>1?D[D.length-2]:null}children(x){const D=rs(x,this._root);return D?D.children.map(P=>P.value):[]}firstChild(x){const D=rs(x,this._root);return D&&D.children.length>0?D.children[0].value:null}siblings(x){const D=ui(x,this._root);return D.length<2?[]:D[D.length-2].children.map(j=>j.value).filter(j=>j!==x)}pathFromRoot(x){return ui(x,this._root).map(D=>D.value)}}function rs(C,x){if(C===x.value)return x;for(const D of x.children){const P=rs(C,D);if(P)return P}return null}function ui(C,x){if(C===x.value)return[x];for(const D of x.children){const P=ui(C,D);if(P.length)return P.unshift(x),P}return[]}class Ki{constructor(x,D){this.value=x,this.children=D}toString(){return`TreeNode(${this.value})`}}function zs(C){const x={};return C&&C.children.forEach(D=>x[D.value.outlet]=D),x}class Ci extends Gi{constructor(x,D){super(x),this.snapshot=D,Ws(this,x)}toString(){return this.snapshot.toString()}}function Fa(C,x){const D=function Cs(C,x){const _e=new Nr([],{},{},"",{},Re,x,null,{});return new wi("",new Ki(_e,[]))}(0,x),P=new Te.X([new Mr("",{})]),j=new Te.X({}),se=new Te.X({}),_e=new Te.X({}),ze=new Te.X(""),He=new ur(P,j,_e,ze,se,Re,x,D.root);return He.snapshot=D.root,new Ci(new Ki(He,[]),D)}class ur{constructor(x,D,P,j,se,_e,ze,He){this.urlSubject=x,this.paramsSubject=D,this.queryParamsSubject=P,this.fragmentSubject=j,this.dataSubject=se,this.outlet=_e,this.component=ze,this._futureSnapshot=He,this.title=this.dataSubject?.pipe((0,dn.U)(zt=>zt[at]))??(0,he.of)(void 0),this.url=x,this.params=D,this.queryParams=P,this.fragment=j,this.data=se}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,dn.U)(x=>At(x)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,dn.U)(x=>At(x)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Lt(C,x="emptyOnly"){const D=C.pathFromRoot;let P=0;if("always"!==x)for(P=D.length-1;P>=1;){const j=D[P],se=D[P-1];if(j.routeConfig&&""===j.routeConfig.path)P--;else{if(se.component)break;P--}}return function jn(C){return C.reduce((x,D)=>({params:{...x.params,...D.params},data:{...x.data,...D.data},resolve:{...D.data,...x.resolve,...D.routeConfig?.data,...D._resolvedData}}),{params:{},data:{},resolve:{}})}(D.slice(P))}class Nr{get title(){return this.data?.[at]}constructor(x,D,P,j,se,_e,ze,He,zt){this.url=x,this.params=D,this.queryParams=P,this.fragment=j,this.data=se,this.outlet=_e,this.component=ze,this.routeConfig=He,this._resolve=zt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=At(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=At(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(P=>P.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class wi extends Gi{constructor(x,D){super(D),this.url=x,Ws(this,D)}toString(){return ti(this._root)}}function Ws(C,x){x.value._routerState=C,x.children.forEach(D=>Ws(C,D))}function ti(C){const x=C.children.length>0?` { ${C.children.map(ti).join(", ")} } `:"";return`${C.value}${x}`}function sr(C){if(C.snapshot){const x=C.snapshot,D=C._futureSnapshot;C.snapshot=D,sn(x.queryParams,D.queryParams)||C.queryParamsSubject.next(D.queryParams),x.fragment!==D.fragment&&C.fragmentSubject.next(D.fragment),sn(x.params,D.params)||C.paramsSubject.next(D.params),function An(C,x){if(C.length!==x.length)return!1;for(let D=0;D<C.length;++D)if(!sn(C[D],x[D]))return!1;return!0}(x.url,D.url)||C.urlSubject.next(D.url),sn(x.data,D.data)||C.dataSubject.next(D.data)}else C.snapshot=C._futureSnapshot,C.dataSubject.next(C._futureSnapshot.data)}function er(C,x){const D=sn(C.params,x.params)&&function gi(C,x){return tt(C,x)&&C.every((D,P)=>sn(D.parameters,x[P].parameters))}(C.url,x.url);return D&&!(!C.parent!=!x.parent)&&(!C.parent||er(C.parent,x.parent))}let wr=(()=>{class C{constructor(){this.activated=null,this._activatedRoute=null,this.name=Re,this.activateEvents=new b.vpe,this.deactivateEvents=new b.vpe,this.attachEvents=new b.vpe,this.detachEvents=new b.vpe,this.parentContexts=(0,b.f3M)(Jr),this.location=(0,b.f3M)(b.s_b),this.changeDetector=(0,b.f3M)(b.sBO),this.environmentInjector=(0,b.f3M)(b.lqb),this.inputBinder=(0,b.f3M)(Pn,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(D){if(D.name){const{firstChange:P,previousValue:j}=D.name;if(P)return;this.isTrackedInParentContexts(j)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(j)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(D){return this.parentContexts.getContext(D)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const D=this.parentContexts.getContext(this.name);D?.route&&(D.attachRef?this.attach(D.attachRef,D.route):this.activateWith(D.route,D.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new b.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new b.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new b.vHH(4012,!1);this.location.detach();const D=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(D.instance),D}attach(D,P){this.activated=D,this._activatedRoute=P,this.location.insert(D.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(D.instance)}deactivate(){if(this.activated){const D=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(D)}}activateWith(D,P){if(this.isActivated)throw new b.vHH(4013,!1);this._activatedRoute=D;const j=this.location,_e=D.snapshot.component,ze=this.parentContexts.getOrCreateContext(this.name).children,He=new Ss(D,ze,j.injector);this.activated=j.createComponent(_e,{index:j.length,injector:He,environmentInjector:P??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275dir=b.lG2({type:C,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[b.TTD]})}return C})();class Ss{constructor(x,D,P){this.route=x,this.childContexts=D,this.parent=P}get(x,D){return x===ur?this.route:x===Jr?this.childContexts:this.parent.get(x,D)}}const Pn=new b.OlP("");let _o=(()=>{class C{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(D){this.unsubscribeFromRouteData(D),this.subscribeToRouteData(D)}unsubscribeFromRouteData(D){this.outletDataSubscriptions.get(D)?.unsubscribe(),this.outletDataSubscriptions.delete(D)}subscribeToRouteData(D){const{activatedRoute:P}=D,j=st([P.queryParams,P.params,P.data]).pipe((0,Sn.w)(([se,_e,ze],He)=>(ze={...se,..._e,...ze},0===He?(0,he.of)(ze):Promise.resolve(ze)))).subscribe(se=>{if(!D.isActivated||!D.activatedComponentRef||D.activatedRoute!==P||null===P.component)return void this.unsubscribeFromRouteData(D);const _e=(0,b.qFp)(P.component);if(_e)for(const{templateName:ze}of _e.inputs)D.activatedComponentRef.setInput(ze,se[ze]);else this.unsubscribeFromRouteData(D)});this.outletDataSubscriptions.set(D,j)}static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275prov=b.Yz7({token:C,factory:C.\u0275fac})}return C})();function is(C,x,D){if(D&&C.shouldReuseRoute(x.value,D.value.snapshot)){const P=D.value;P._futureSnapshot=x.value;const j=function Wr(C,x,D){return x.children.map(P=>{for(const j of D.children)if(C.shouldReuseRoute(P.value,j.value.snapshot))return is(C,P,j);return is(C,P)})}(C,x,D);return new Ki(P,j)}{if(C.shouldAttach(x.value)){const se=C.retrieve(x.value);if(null!==se){const _e=se.route;return _e.value._futureSnapshot=x.value,_e.children=x.children.map(ze=>is(C,ze)),_e}}const P=function gs(C){return new ur(new Te.X(C.url),new Te.X(C.params),new Te.X(C.queryParams),new Te.X(C.fragment),new Te.X(C.data),C.outlet,C.component,C)}(x.value),j=x.children.map(se=>is(C,se));return new Ki(P,j)}}const As="ngNavigationCancelingError";function di(C,x){const{redirectTo:D,navigationBehaviorOptions:P}=Yr(x)?{redirectTo:x,navigationBehaviorOptions:void 0}:x,j=ko(!1,0,x);return j.url=D,j.navigationBehaviorOptions=P,j}function ko(C,x,D){const P=new Error("NavigationCancelingError: "+(C||""));return P[As]=!0,P.cancellationCode=x,D&&(P.url=D),P}function qs(C){return C&&C[As]}let ki=(()=>{class C{static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275cmp=b.Xpm({type:C,selectors:[["ng-component"]],standalone:!0,features:[b.jDz],decls:1,vars:0,template:function(P,j){1&P&&b._UZ(0,"router-outlet")},dependencies:[wr],encapsulation:2})}return C})();function Bo(C){const x=C.children&&C.children.map(Bo),D=x?{...C,children:x}:{...C};return!D.component&&!D.loadComponent&&(x||D.loadChildren)&&D.outlet&&D.outlet!==Re&&(D.component=ki),D}function Fr(C){return C.outlet||Re}function Gr(C){if(!C)return null;if(C.routeConfig?._injector)return C.routeConfig._injector;for(let x=C.parent;x;x=x.parent){const D=x.routeConfig;if(D?._loadedInjector)return D._loadedInjector;if(D?._injector)return D._injector}return null}class Ys{constructor(x,D,P,j,se){this.routeReuseStrategy=x,this.futureState=D,this.currState=P,this.forwardEvent=j,this.inputBindingEnabled=se}activate(x){const D=this.futureState._root,P=this.currState?this.currState._root:null;this.deactivateChildRoutes(D,P,x),sr(this.futureState.root),this.activateChildRoutes(D,P,x)}deactivateChildRoutes(x,D,P){const j=zs(D);x.children.forEach(se=>{const _e=se.value.outlet;this.deactivateRoutes(se,j[_e],P),delete j[_e]}),Object.values(j).forEach(se=>{this.deactivateRouteAndItsChildren(se,P)})}deactivateRoutes(x,D,P){const j=x.value,se=D?D.value:null;if(j===se)if(j.component){const _e=P.getContext(j.outlet);_e&&this.deactivateChildRoutes(x,D,_e.children)}else this.deactivateChildRoutes(x,D,P);else se&&this.deactivateRouteAndItsChildren(D,P)}deactivateRouteAndItsChildren(x,D){x.value.component&&this.routeReuseStrategy.shouldDetach(x.value.snapshot)?this.detachAndStoreRouteSubtree(x,D):this.deactivateRouteAndOutlet(x,D)}detachAndStoreRouteSubtree(x,D){const P=D.getContext(x.value.outlet),j=P&&x.value.component?P.children:D,se=zs(x);for(const _e of Object.keys(se))this.deactivateRouteAndItsChildren(se[_e],j);if(P&&P.outlet){const _e=P.outlet.detach(),ze=P.children.onOutletDeactivated();this.routeReuseStrategy.store(x.value.snapshot,{componentRef:_e,route:x,contexts:ze})}}deactivateRouteAndOutlet(x,D){const P=D.getContext(x.value.outlet),j=P&&x.value.component?P.children:D,se=zs(x);for(const _e of Object.keys(se))this.deactivateRouteAndItsChildren(se[_e],j);P&&(P.outlet&&(P.outlet.deactivate(),P.children.onOutletDeactivated()),P.attachRef=null,P.route=null)}activateChildRoutes(x,D,P){const j=zs(D);x.children.forEach(se=>{this.activateRoutes(se,j[se.value.outlet],P),this.forwardEvent(new mo(se.value.snapshot))}),x.children.length&&this.forwardEvent(new ps(x.value.snapshot))}activateRoutes(x,D,P){const j=x.value,se=D?D.value:null;if(sr(j),j===se)if(j.component){const _e=P.getOrCreateContext(j.outlet);this.activateChildRoutes(x,D,_e.children)}else this.activateChildRoutes(x,D,P);else if(j.component){const _e=P.getOrCreateContext(j.outlet);if(this.routeReuseStrategy.shouldAttach(j.snapshot)){const ze=this.routeReuseStrategy.retrieve(j.snapshot);this.routeReuseStrategy.store(j.snapshot,null),_e.children.onOutletReAttached(ze.contexts),_e.attachRef=ze.componentRef,_e.route=ze.route.value,_e.outlet&&_e.outlet.attach(ze.componentRef,ze.route.value),sr(ze.route.value),this.activateChildRoutes(x,null,_e.children)}else{const ze=Gr(j.snapshot);_e.attachRef=null,_e.route=j,_e.injector=ze,_e.outlet&&_e.outlet.activateWith(j,_e.injector),this.activateChildRoutes(x,null,_e.children)}}else this.activateChildRoutes(x,null,P)}}class yo{constructor(x){this.path=x,this.route=this.path[this.path.length-1]}}class yi{constructor(x,D){this.component=x,this.route=D}}function Ai(C,x,D){const P=C._root;return ga(P,x?x._root:null,D,[P.value])}function na(C,x){const D=Symbol(),P=x.get(C,D);return P===D?"function"!=typeof C||(0,b.Z0I)(C)?x.get(C):C:P}function ga(C,x,D,P,j={canDeactivateChecks:[],canActivateChecks:[]}){const se=zs(x);return C.children.forEach(_e=>{(function Ua(C,x,D,P,j={canDeactivateChecks:[],canActivateChecks:[]}){const se=C.value,_e=x?x.value:null,ze=D?D.getContext(C.value.outlet):null;if(_e&&se.routeConfig===_e.routeConfig){const He=function Xr(C,x,D){if("function"==typeof D)return D(C,x);switch(D){case"pathParamsChange":return!tt(C.url,x.url);case"pathParamsOrQueryParamsChange":return!tt(C.url,x.url)||!sn(C.queryParams,x.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!er(C,x)||!sn(C.queryParams,x.queryParams);default:return!er(C,x)}}(_e,se,se.routeConfig.runGuardsAndResolvers);He?j.canActivateChecks.push(new yo(P)):(se.data=_e.data,se._resolvedData=_e._resolvedData),ga(C,x,se.component?ze?ze.children:null:D,P,j),He&&ze&&ze.outlet&&ze.outlet.isActivated&&j.canDeactivateChecks.push(new yi(ze.outlet.component,_e))}else _e&&ra(x,ze,j),j.canActivateChecks.push(new yo(P)),ga(C,null,se.component?ze?ze.children:null:D,P,j)})(_e,se[_e.value.outlet],D,P.concat([_e.value]),j),delete se[_e.value.outlet]}),Object.entries(se).forEach(([_e,ze])=>ra(ze,D.getContext(_e),j)),j}function ra(C,x,D){const P=zs(C),j=C.value;Object.entries(P).forEach(([se,_e])=>{ra(_e,j.component?x?x.children.getContext(se):null:x,D)}),D.canDeactivateChecks.push(new yi(j.component&&x&&x.outlet&&x.outlet.isActivated?x.outlet.component:null,j))}function Va(C){return"function"==typeof C}function vo(C){return C instanceof Ft.K||"EmptyError"===C?.name}const $i=Symbol("INITIAL_VALUE");function Ti(){return(0,Sn.w)(C=>st(C.map(x=>x.pipe((0,Gn.q)(1),(0,ir.O)($i)))).pipe((0,dn.U)(x=>{for(const D of x)if(!0!==D){if(D===$i)return $i;if(!1===D||D instanceof Rn)return D}return!0}),(0,_r.h)(x=>x!==$i),(0,Gn.q)(1)))}function ia(C){return(0,ot.z)((0,Pt.b)(x=>{if(Yr(x))throw di(0,x)}),(0,dn.U)(x=>!0===x))}class Vo{constructor(x){this.segmentGroup=x||null}}class hl{constructor(x){this.urlTree=x}}function hi(C){return vt(new Vo(C))}function fl(C){return vt(new hl(C))}class bo{constructor(x,D){this.urlSerializer=x,this.urlTree=D}noMatchError(x){return new b.vHH(4002,!1)}lineralizeSegments(x,D){let P=[],j=D.root;for(;;){if(P=P.concat(j.segments),0===j.numberOfChildren)return(0,he.of)(P);if(j.numberOfChildren>1||!j.children[Re])return vt(new b.vHH(4e3,!1));j=j.children[Re]}}applyRedirectCommands(x,D,P){return this.applyRedirectCreateUrlTree(D,this.urlSerializer.parse(D),x,P)}applyRedirectCreateUrlTree(x,D,P,j){const se=this.createSegmentGroup(x,D.root,P,j);return new Rn(se,this.createQueryParams(D.queryParams,this.urlTree.queryParams),D.fragment)}createQueryParams(x,D){const P={};return Object.entries(x).forEach(([j,se])=>{if("string"==typeof se&&se.startsWith(":")){const ze=se.substring(1);P[j]=D[ze]}else P[j]=se}),P}createSegmentGroup(x,D,P,j){const se=this.createSegments(x,D.segments,P,j);let _e={};return Object.entries(D.children).forEach(([ze,He])=>{_e[ze]=this.createSegmentGroup(x,He,P,j)}),new Xn(se,_e)}createSegments(x,D,P,j){return D.map(se=>se.path.startsWith(":")?this.findPosParam(x,se,j):this.findOrReturn(se,P))}findPosParam(x,D,P){const j=P[D.path.substring(1)];if(!j)throw new b.vHH(4001,!1);return j}findOrReturn(x,D){let P=0;for(const j of D){if(j.path===x.path)return D.splice(P),j;P++}return x}}const Bs={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function _a(C,x,D,P,j){const se=Ec(C,x,D);return se.matched?(P=function Zs(C,x){return C.providers&&!C._injector&&(C._injector=(0,b.MMx)(C.providers,x,`Route: ${C.path}`)),C._injector??x}(x,P),function ss(C,x,D,P){const j=x.canMatch;if(!j||0===j.length)return(0,he.of)(!0);const se=j.map(_e=>{const ze=na(_e,C);return Jn(function Yt(C){return C&&Va(C.canMatch)}(ze)?ze.canMatch(x,D):C.runInContext(()=>ze(x,D)))});return(0,he.of)(se).pipe(Ti(),ia())}(P,x,D).pipe((0,dn.U)(_e=>!0===_e?se:{...Bs}))):(0,he.of)(se)}function Ec(C,x,D){if(""===x.path)return"full"===x.pathMatch&&(C.hasChildren()||D.length>0)?{...Bs}:{matched:!0,consumedSegments:[],remainingSegments:D,parameters:{},positionalParamSegments:{}};const j=(x.matcher||vr)(D,C,x);if(!j)return{...Bs};const se={};Object.entries(j.posParams??{}).forEach(([ze,He])=>{se[ze]=He.path});const _e=j.consumed.length>0?{...se,...j.consumed[j.consumed.length-1].parameters}:se;return{matched:!0,consumedSegments:j.consumed,remainingSegments:D.slice(j.consumed.length),parameters:_e,positionalParamSegments:j.posParams??{}}}function Ei(C,x,D,P){return D.length>0&&function os(C,x,D){return D.some(P=>ya(C,x,P)&&Fr(P)!==Re)}(C,D,P)?{segmentGroup:new Xn(x,Li(P,new Xn(D,C.children))),slicedSegments:[]}:0===D.length&&function Ga(C,x,D){return D.some(P=>ya(C,x,P))}(C,D,P)?{segmentGroup:new Xn(C.segments,Ns(C,0,D,P,C.children)),slicedSegments:D}:{segmentGroup:new Xn(C.segments,C.children),slicedSegments:D}}function Ns(C,x,D,P,j){const se={};for(const _e of P)if(ya(C,D,_e)&&!j[Fr(_e)]){const ze=new Xn([],{});se[Fr(_e)]=ze}return{...j,...se}}function Li(C,x){const D={};D[Re]=x;for(const P of C)if(""===P.path&&Fr(P)!==Re){const j=new Xn([],{});D[Fr(P)]=j}return D}function ya(C,x,D){return(!(C.hasChildren()||x.length>0)||"full"!==D.pathMatch)&&""===D.path}class ou{constructor(x,D,P,j,se,_e,ze){this.injector=x,this.configLoader=D,this.rootComponentType=P,this.config=j,this.urlTree=se,this.paramsInheritanceStrategy=_e,this.urlSerializer=ze,this.allowRedirects=!0,this.applyRedirects=new bo(this.urlSerializer,this.urlTree)}noMatchError(x){return new b.vHH(4002,!1)}recognize(){const x=Ei(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,x,Re).pipe(jt(D=>{if(D instanceof hl)return this.allowRedirects=!1,this.urlTree=D.urlTree,this.match(D.urlTree);throw D instanceof Vo?this.noMatchError(D):D}),(0,dn.U)(D=>{const P=new Nr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Re,this.rootComponentType,null,{}),j=new Ki(P,D),se=new wi("",j),_e=function da(C,x,D=null,P=null){return Is(ws(C),x,D,P)}(P,[],this.urlTree.queryParams,this.urlTree.fragment);return _e.queryParams=this.urlTree.queryParams,se.url=this.urlSerializer.serialize(_e),this.inheritParamsAndData(se._root),{state:se,tree:_e}}))}match(x){return this.processSegmentGroup(this.injector,this.config,x.root,Re).pipe(jt(P=>{throw P instanceof Vo?this.noMatchError(P):P}))}inheritParamsAndData(x){const D=x.value,P=Lt(D,this.paramsInheritanceStrategy);D.params=Object.freeze(P.params),D.data=Object.freeze(P.data),x.children.forEach(j=>this.inheritParamsAndData(j))}processSegmentGroup(x,D,P,j){return 0===P.segments.length&&P.hasChildren()?this.processChildren(x,D,P):this.processSegment(x,D,P,P.segments,j,!0)}processChildren(x,D,P){const j=[];for(const se of Object.keys(P.children))"primary"===se?j.unshift(se):j.push(se);return(0,de.D)(j).pipe(bt(se=>{const _e=P.children[se],ze=function qr(C,x){const D=C.filter(P=>Fr(P)===x);return D.push(...C.filter(P=>Fr(P)!==x)),D}(D,se);return this.processSegmentGroup(x,ze,_e,se)}),function bn(C,x){return(0,ve.e)(function hn(C,x,D,P,j){return(se,_e)=>{let ze=D,He=x,zt=0;se.subscribe((0,Xe.x)(_e,Un=>{const Or=zt++;He=ze?C(He,Un,Or):(ze=!0,Un),P&&_e.next(He)},j&&(()=>{ze&&_e.next(He),_e.complete()})))}}(C,x,arguments.length>=2,!0))}((se,_e)=>(se.push(..._e),se)),$e(null),function Dt(C,x){const D=arguments.length>=2;return P=>P.pipe(C?(0,_r.h)((j,se)=>C(j,se,P)):Ie.y,cn(1),D?$e(x):Ye(()=>new Ft.K))}(),(0,ke.z)(se=>{if(null===se)return hi(P);const _e=Qs(se);return function Dc(C){C.sort((x,D)=>x.value.outlet===Re?-1:D.value.outlet===Re?1:x.value.outlet.localeCompare(D.value.outlet))}(_e),(0,he.of)(_e)}))}processSegment(x,D,P,j,se,_e){return(0,de.D)(D).pipe(bt(ze=>this.processSegmentAgainstRoute(ze._injector??x,D,ze,P,j,se,_e).pipe(jt(He=>{if(He instanceof Vo)return(0,he.of)(null);throw He}))),nt(ze=>!!ze),jt(ze=>{if(vo(ze))return function tc(C,x,D){return 0===x.length&&!C.children[D]}(P,j,se)?(0,he.of)([]):hi(P);throw ze}))}processSegmentAgainstRoute(x,D,P,j,se,_e,ze){return function ec(C,x,D,P){return!!(Fr(C)===P||P!==Re&&ya(x,D,C))&&("**"===C.path||Ec(x,C,D).matched)}(P,j,se,_e)?void 0===P.redirectTo?this.matchSegmentAgainstRoute(x,j,P,se,_e,ze):ze&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(x,j,D,P,se,_e):hi(j):hi(j)}expandSegmentAgainstRouteUsingRedirect(x,D,P,j,se,_e){return"**"===j.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(x,P,j,_e):this.expandRegularSegmentAgainstRouteUsingRedirect(x,D,P,j,se,_e)}expandWildCardWithParamsAgainstRouteUsingRedirect(x,D,P,j){const se=this.applyRedirects.applyRedirectCommands([],P.redirectTo,{});return P.redirectTo.startsWith("/")?fl(se):this.applyRedirects.lineralizeSegments(P,se).pipe((0,ke.z)(_e=>{const ze=new Xn(_e,{});return this.processSegment(x,D,ze,_e,j,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(x,D,P,j,se,_e){const{matched:ze,consumedSegments:He,remainingSegments:zt,positionalParamSegments:Un}=Ec(D,j,se);if(!ze)return hi(D);const Or=this.applyRedirects.applyRedirectCommands(He,j.redirectTo,Un);return j.redirectTo.startsWith("/")?fl(Or):this.applyRedirects.lineralizeSegments(j,Or).pipe((0,ke.z)(gr=>this.processSegment(x,P,D,gr.concat(zt),_e,!1)))}matchSegmentAgainstRoute(x,D,P,j,se,_e){let ze;if("**"===P.path){const He=j.length>0?En(j).parameters:{},zt=new Nr(j,He,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,M(P),Fr(P),P.component??P._loadedComponent??null,P,re(P));ze=(0,he.of)({snapshot:zt,consumedSegments:[],remainingSegments:[]}),D.children={}}else ze=_a(D,P,j,x).pipe((0,dn.U)(({matched:He,consumedSegments:zt,remainingSegments:Un,parameters:Or})=>He?{snapshot:new Nr(zt,Or,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,M(P),Fr(P),P.component??P._loadedComponent??null,P,re(P)),consumedSegments:zt,remainingSegments:Un}:null));return ze.pipe((0,Sn.w)(He=>null===He?hi(D):this.getChildConfig(x=P._injector??x,P,j).pipe((0,Sn.w)(({routes:zt})=>{const Un=P._loadedInjector??x,{snapshot:Or,consumedSegments:gr,remainingSegments:sc}=He,{segmentGroup:zr,slicedSegments:sa}=Ei(D,gr,sc,zt);if(0===sa.length&&zr.hasChildren())return this.processChildren(Un,zt,zr).pipe((0,dn.U)($o=>null===$o?null:[new Ki(Or,$o)]));if(0===zt.length&&0===sa.length)return(0,he.of)([new Ki(Or,[])]);const Rr=Fr(P)===se;return this.processSegment(Un,zt,zr,sa,Rr?Re:se,!0).pipe((0,dn.U)($o=>[new Ki(Or,$o)]))}))))}getChildConfig(x,D,P){return D.children?(0,he.of)({routes:D.children,injector:x}):D.loadChildren?void 0!==D._loadedRoutes?(0,he.of)({routes:D._loadedRoutes,injector:D._loadedInjector}):function Fi(C,x,D,P){const j=x.canLoad;if(void 0===j||0===j.length)return(0,he.of)(!0);const se=j.map(_e=>{const ze=na(_e,C);return Jn(function X(C){return C&&Va(C.canLoad)}(ze)?ze.canLoad(x,D):C.runInContext(()=>ze(x,D)))});return(0,he.of)(se).pipe(Ti(),ia())}(x,D,P).pipe((0,ke.z)(j=>j?this.configLoader.loadChildren(x,D).pipe((0,Pt.b)(se=>{D._loadedRoutes=se.routes,D._loadedInjector=se.injector})):function wd(C){return vt(ko(!1,3))}())):(0,he.of)({routes:[],injector:x})}}function Wc(C){const x=C.value.routeConfig;return x&&""===x.path}function Qs(C){const x=[],D=new Set;for(const P of C){if(!Wc(P)){x.push(P);continue}const j=x.find(se=>P.value.routeConfig===se.value.routeConfig);void 0!==j?(j.children.push(...P.children),D.add(j)):x.push(P)}for(const P of D){const j=Qs(P.children);x.push(new Ki(P.value,j))}return x.filter(P=>!D.has(P))}function M(C){return C.data||{}}function re(C){return C.resolve||{}}function xr(C){return"string"==typeof C.title||null===C.title}function jr(C){return(0,Sn.w)(x=>{const D=C(x);return D?(0,de.D)(D).pipe((0,dn.U)(()=>x)):(0,he.of)(x)})}const zn=new b.OlP("ROUTES");let Bn=(()=>{class C{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,b.f3M)(b.Sil)}loadComponent(D){if(this.componentLoaders.get(D))return this.componentLoaders.get(D);if(D._loadedComponent)return(0,he.of)(D._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(D);const P=Jn(D.loadComponent()).pipe((0,dn.U)(Zr),(0,Pt.b)(se=>{this.onLoadEndListener&&this.onLoadEndListener(D),D._loadedComponent=se}),yr(()=>{this.componentLoaders.delete(D)})),j=new gt(P,()=>new Fn.x).pipe(Ke());return this.componentLoaders.set(D,j),j}loadChildren(D,P){if(this.childrenLoaders.get(P))return this.childrenLoaders.get(P);if(P._loadedRoutes)return(0,he.of)({routes:P._loadedRoutes,injector:P._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(P);const se=function Ir(C,x,D,P){return Jn(C.loadChildren()).pipe((0,dn.U)(Zr),(0,ke.z)(j=>j instanceof b.YKP||Array.isArray(j)?(0,he.of)(j):(0,de.D)(x.compileModuleAsync(j))),(0,dn.U)(j=>{P&&P(C);let se,_e,ze=!1;return Array.isArray(j)?(_e=j,!0):(se=j.create(D).injector,_e=se.get(zn,[],{optional:!0,self:!0}).flat()),{routes:_e.map(Bo),injector:se}}))}(P,this.compiler,D,this.onLoadEndListener).pipe(yr(()=>{this.childrenLoaders.delete(P)})),_e=new gt(se,()=>new Fn.x).pipe(Ke());return this.childrenLoaders.set(P,_e),_e}static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275prov=b.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();function Zr(C){return function $r(C){return C&&"object"==typeof C&&"default"in C}(C)?C.default:C}let Bi=(()=>{class C{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Fn.x,this.transitionAbortSubject=new Fn.x,this.configLoader=(0,b.f3M)(Bn),this.environmentInjector=(0,b.f3M)(b.lqb),this.urlSerializer=(0,b.f3M)(Ze),this.rootContexts=(0,b.f3M)(Jr),this.inputBindingEnabled=null!==(0,b.f3M)(Pn,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,he.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=j=>this.events.next(new Ro(j)),this.configLoader.onLoadStartListener=j=>this.events.next(new xo(j))}complete(){this.transitions?.complete()}handleNavigationRequest(D){const P=++this.navigationId;this.transitions?.next({...this.transitions.value,...D,id:P})}setupNavigations(D,P,j){return this.transitions=new Te.X({id:0,currentUrlTree:P,currentRawUrl:P,currentBrowserUrl:P,extractedUrl:D.urlHandlingStrategy.extract(P),urlAfterRedirects:D.urlHandlingStrategy.extract(P),rawUrl:P,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:fa,restoredState:null,currentSnapshot:j.snapshot,targetSnapshot:null,currentRouterState:j,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,_r.h)(se=>0!==se.id),(0,dn.U)(se=>({...se,extractedUrl:D.urlHandlingStrategy.extract(se.rawUrl)})),(0,Sn.w)(se=>{this.currentTransition=se;let _e=!1,ze=!1;return(0,he.of)(se).pipe((0,Pt.b)(He=>{this.currentNavigation={id:He.id,initialUrl:He.rawUrl,extractedUrl:He.extractedUrl,trigger:He.source,extras:He.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Sn.w)(He=>{const zt=He.currentBrowserUrl.toString(),Un=!D.navigated||He.extractedUrl.toString()!==zt||zt!==He.currentUrlTree.toString();if(!Un&&"reload"!==(He.extras.onSameUrlNavigation??D.onSameUrlNavigation)){const gr="";return this.events.next(new go(He.id,this.urlSerializer.serialize(He.rawUrl),gr,0)),He.resolve(null),_t.E}if(D.urlHandlingStrategy.shouldProcessUrl(He.rawUrl))return(0,he.of)(He).pipe((0,Sn.w)(gr=>{const sc=this.transitions?.getValue();return this.events.next(new ci(gr.id,this.urlSerializer.serialize(gr.extractedUrl),gr.source,gr.restoredState)),sc!==this.transitions?.getValue()?_t.E:Promise.resolve(gr)}),function V(C,x,D,P,j,se){return(0,ke.z)(_e=>function su(C,x,D,P,j,se,_e="emptyOnly"){return new ou(C,x,D,P,j,_e,se).recognize()}(C,x,D,P,_e.extractedUrl,j,se).pipe((0,dn.U)(({state:ze,tree:He})=>({..._e,targetSnapshot:ze,urlAfterRedirects:He}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,D.config,this.urlSerializer,D.paramsInheritanceStrategy),(0,Pt.b)(gr=>{se.targetSnapshot=gr.targetSnapshot,se.urlAfterRedirects=gr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:gr.urlAfterRedirects};const sc=new Zi(gr.id,this.urlSerializer.serialize(gr.extractedUrl),this.urlSerializer.serialize(gr.urlAfterRedirects),gr.targetSnapshot);this.events.next(sc)}));if(Un&&D.urlHandlingStrategy.shouldProcessUrl(He.currentRawUrl)){const{id:gr,extractedUrl:sc,source:zr,restoredState:sa,extras:Rr}=He,$o=new ci(gr,this.urlSerializer.serialize(sc),zr,sa);this.events.next($o);const Dd=Fa(0,this.rootComponentType).snapshot;return this.currentTransition=se={...He,targetSnapshot:Dd,urlAfterRedirects:sc,extras:{...Rr,skipLocationChange:!1,replaceUrl:!1}},(0,he.of)(se)}{const gr="";return this.events.next(new go(He.id,this.urlSerializer.serialize(He.extractedUrl),gr,1)),He.resolve(null),_t.E}}),(0,Pt.b)(He=>{const zt=new ll(He.id,this.urlSerializer.serialize(He.extractedUrl),this.urlSerializer.serialize(He.urlAfterRedirects),He.targetSnapshot);this.events.next(zt)}),(0,dn.U)(He=>(this.currentTransition=se={...He,guards:Ai(He.targetSnapshot,He.currentSnapshot,this.rootContexts)},se)),function $c(C,x){return(0,ke.z)(D=>{const{targetSnapshot:P,currentSnapshot:j,guards:{canActivateChecks:se,canDeactivateChecks:_e}}=D;return 0===_e.length&&0===se.length?(0,he.of)({...D,guardsResult:!0}):function Uo(C,x,D,P){return(0,de.D)(C).pipe((0,ke.z)(j=>function Ic(C,x,D,P,j){const se=x&&x.routeConfig?x.routeConfig.canDeactivate:null;if(!se||0===se.length)return(0,he.of)(!0);const _e=se.map(ze=>{const He=Gr(x)??j,zt=na(ze,He);return Jn(function Ee(C){return C&&Va(C.canDeactivate)}(zt)?zt.canDeactivate(C,x,D,P):He.runInContext(()=>zt(C,x,D,P))).pipe(nt())});return(0,he.of)(_e).pipe(Ti())}(j.component,j.route,D,x,P)),nt(j=>!0!==j,!0))}(_e,P,j,C).pipe((0,ke.z)(ze=>ze&&function W(C){return"boolean"==typeof C}(ze)?function ma(C,x,D,P){return(0,de.D)(x).pipe(bt(j=>(0,xn.z)(function Ha(C,x){return null!==C&&x&&x(new ka(C)),(0,he.of)(!0)}(j.route.parent,P),function zc(C,x){return null!==C&&x&&x(new ul(C)),(0,he.of)(!0)}(j.route,P),function dl(C,x,D){const P=x[x.length-1],se=x.slice(0,x.length-1).reverse().map(_e=>function Ba(C){const x=C.routeConfig?C.routeConfig.canActivateChild:null;return x&&0!==x.length?{node:C,guards:x}:null}(_e)).filter(_e=>null!==_e).map(_e=>mt(()=>{const ze=_e.guards.map(He=>{const zt=Gr(_e.node)??D,Un=na(He,zt);return Jn(function ae(C){return C&&Va(C.canActivateChild)}(Un)?Un.canActivateChild(P,C):zt.runInContext(()=>Un(P,C))).pipe(nt())});return(0,he.of)(ze).pipe(Ti())}));return(0,he.of)(se).pipe(Ti())}(C,j.path,D),function ms(C,x,D){const P=x.routeConfig?x.routeConfig.canActivate:null;if(!P||0===P.length)return(0,he.of)(!0);const j=P.map(se=>mt(()=>{const _e=Gr(x)??D,ze=na(se,_e);return Jn(function B(C){return C&&Va(C.canActivate)}(ze)?ze.canActivate(x,C):_e.runInContext(()=>ze(x,C))).pipe(nt())}));return(0,he.of)(j).pipe(Ti())}(C,j.route,D))),nt(j=>!0!==j,!0))}(P,se,C,x):(0,he.of)(ze)),(0,dn.U)(ze=>({...D,guardsResult:ze})))})}(this.environmentInjector,He=>this.events.next(He)),(0,Pt.b)(He=>{if(se.guardsResult=He.guardsResult,Yr(He.guardsResult))throw di(0,He.guardsResult);const zt=new li(He.id,this.urlSerializer.serialize(He.extractedUrl),this.urlSerializer.serialize(He.urlAfterRedirects),He.targetSnapshot,!!He.guardsResult);this.events.next(zt)}),(0,_r.h)(He=>!!He.guardsResult||(this.cancelNavigationTransition(He,"",3),!1)),jr(He=>{if(He.guards.canActivateChecks.length)return(0,he.of)(He).pipe((0,Pt.b)(zt=>{const Un=new Gc(zt.id,this.urlSerializer.serialize(zt.extractedUrl),this.urlSerializer.serialize(zt.urlAfterRedirects),zt.targetSnapshot);this.events.next(Un)}),(0,Sn.w)(zt=>{let Un=!1;return(0,he.of)(zt).pipe(function ee(C,x){return(0,ke.z)(D=>{const{targetSnapshot:P,guards:{canActivateChecks:j}}=D;if(!j.length)return(0,he.of)(D);let se=0;return(0,de.D)(j).pipe(bt(_e=>function ye(C,x,D,P){const j=C.routeConfig,se=C._resolve;return void 0!==j?.title&&!xr(j)&&(se[at]=j.title),function Qe(C,x,D,P){const j=function pt(C){return[...Object.keys(C),...Object.getOwnPropertySymbols(C)]}(C);if(0===j.length)return(0,he.of)({});const se={};return(0,de.D)(j).pipe((0,ke.z)(_e=>function _n(C,x,D,P){const j=Gr(x)??P,se=na(C,j);return Jn(se.resolve?se.resolve(x,D):j.runInContext(()=>se(x,D)))}(C[_e],x,D,P).pipe(nt(),(0,Pt.b)(ze=>{se[_e]=ze}))),cn(1),(0,Zn.h)(se),jt(_e=>vo(_e)?_t.E:vt(_e)))}(se,C,x,P).pipe((0,dn.U)(_e=>(C._resolvedData=_e,C.data=Lt(C,D).resolve,j&&xr(j)&&(C.data[at]=j.title),null)))}(_e.route,P,C,x)),(0,Pt.b)(()=>se++),cn(1),(0,ke.z)(_e=>se===j.length?(0,he.of)(D):_t.E))})}(D.paramsInheritanceStrategy,this.environmentInjector),(0,Pt.b)({next:()=>Un=!0,complete:()=>{Un||this.cancelNavigationTransition(zt,"",2)}}))}),(0,Pt.b)(zt=>{const Un=new _i(zt.id,this.urlSerializer.serialize(zt.extractedUrl),this.urlSerializer.serialize(zt.urlAfterRedirects),zt.targetSnapshot);this.events.next(Un)}))}),jr(He=>{const zt=Un=>{const Or=[];Un.routeConfig?.loadComponent&&!Un.routeConfig._loadedComponent&&Or.push(this.configLoader.loadComponent(Un.routeConfig).pipe((0,Pt.b)(gr=>{Un.component=gr}),(0,dn.U)(()=>{})));for(const gr of Un.children)Or.push(...zt(gr));return Or};return st(zt(He.targetSnapshot.root)).pipe($e(),(0,Gn.q)(1))}),jr(()=>this.afterPreactivation()),(0,dn.U)(He=>{const zt=function La(C,x,D){const P=is(C,x._root,D?D._root:void 0);return new Ci(P,x)}(D.routeReuseStrategy,He.targetSnapshot,He.currentRouterState);return this.currentTransition=se={...He,targetRouterState:zt},se}),(0,Pt.b)(()=>{this.events.next(new ea)}),((C,x,D,P)=>(0,dn.U)(j=>(new Ys(x,j.targetRouterState,j.currentRouterState,D,P).activate(C),j)))(this.rootContexts,D.routeReuseStrategy,He=>this.events.next(He),this.inputBindingEnabled),(0,Gn.q)(1),(0,Pt.b)({next:He=>{_e=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ds(He.id,this.urlSerializer.serialize(He.extractedUrl),this.urlSerializer.serialize(He.urlAfterRedirects))),D.titleStrategy?.updateTitle(He.targetRouterState.snapshot),He.resolve(!0)},complete:()=>{_e=!0}}),(0,kr.R)(this.transitionAbortSubject.pipe((0,Pt.b)(He=>{throw He}))),yr(()=>{_e||ze||this.cancelNavigationTransition(se,"",1),this.currentNavigation?.id===se.id&&(this.currentNavigation=null)}),jt(He=>{if(ze=!0,qs(He))this.events.next(new Ls(se.id,this.urlSerializer.serialize(se.extractedUrl),He.message,He.cancellationCode)),function jc(C){return qs(C)&&Yr(C.url)}(He)?this.events.next(new Qr(He.url)):se.resolve(!1);else{this.events.next(new Hc(se.id,this.urlSerializer.serialize(se.extractedUrl),He,se.targetSnapshot??void 0));try{se.resolve(D.errorHandler(He))}catch(zt){se.reject(zt)}}return _t.E}))}))}cancelNavigationTransition(D,P,j){const se=new Ls(D.id,this.urlSerializer.serialize(D.extractedUrl),P,j);this.events.next(se),D.resolve(!1)}static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275prov=b.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();function Qi(C){return C!==fa}let Ni=(()=>{class C{buildTitle(D){let P,j=D.root;for(;void 0!==j;)P=this.getResolvedTitleForRoute(j)??P,j=j.children.find(se=>se.outlet===Re);return P}getResolvedTitleForRoute(D){return D.data[at]}static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275prov=b.Yz7({token:C,factory:function(){return(0,b.f3M)(_s)},providedIn:"root"})}return C})(),_s=(()=>{class C extends Ni{constructor(D){super(),this.title=D}updateTitle(D){const P=this.buildTitle(D);void 0!==P&&this.title.setTitle(P)}static#e=this.\u0275fac=function(P){return new(P||C)(b.LFG(xe.Dx))};static#t=this.\u0275prov=b.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})(),Ho=(()=>{class C{static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275prov=b.Yz7({token:C,factory:function(){return(0,b.f3M)(ja)},providedIn:"root"})}return C})();class Js{shouldDetach(x){return!1}store(x,D){}shouldAttach(x){return!1}retrieve(x){return null}shouldReuseRoute(x,D){return x.routeConfig===D.routeConfig}}let ja=(()=>{class C extends Js{static#e=this.\u0275fac=function(){let D;return function(j){return(D||(D=b.n5z(C)))(j||C)}}();static#t=this.\u0275prov=b.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();const nc=new b.OlP("",{providedIn:"root",factory:()=>({})});let Id=(()=>{class C{static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275prov=b.Yz7({token:C,factory:function(){return(0,b.f3M)(Ui)},providedIn:"root"})}return C})(),Ui=(()=>{class C{shouldProcessUrl(D){return!0}extract(D){return D}merge(D,P){return D}static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275prov=b.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();var rc=function(C){return C[C.COMPLETE=0]="COMPLETE",C[C.FAILED=1]="FAILED",C[C.REDIRECTING=2]="REDIRECTING",C}(rc||{});function Xs(C,x){C.events.pipe((0,_r.h)(D=>D instanceof Ds||D instanceof Ls||D instanceof Hc||D instanceof go),(0,dn.U)(D=>D instanceof Ds||D instanceof go?rc.COMPLETE:D instanceof Ls&&(0===D.code||1===D.code)?rc.REDIRECTING:rc.FAILED),(0,_r.h)(D=>D!==rc.REDIRECTING),(0,Gn.q)(1)).subscribe(()=>{x()})}function ni(C){throw C}function qc(C,x,D){return x.parse("/")}const pl={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ys={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let wo=(()=>{class C{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,b.f3M)(b.c2e),this.isNgZoneEnabled=!1,this._events=new Fn.x,this.options=(0,b.f3M)(nc,{optional:!0})||{},this.pendingTasks=(0,b.f3M)(b.HDt),this.errorHandler=this.options.errorHandler||ni,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||qc,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,b.f3M)(Id),this.routeReuseStrategy=(0,b.f3M)(Ho),this.titleStrategy=(0,b.f3M)(Ni),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,b.f3M)(zn,{optional:!0})?.flat()??[],this.navigationTransitions=(0,b.f3M)(Bi),this.urlSerializer=(0,b.f3M)(Ze),this.location=(0,b.f3M)(ut.Ye),this.componentInputBindingEnabled=!!(0,b.f3M)(Pn,{optional:!0}),this.eventsSubscription=new je.w0,this.isNgZoneEnabled=(0,b.f3M)(b.R0b)instanceof b.R0b&&b.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Rn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Fa(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(D=>{this.lastSuccessfulId=D.id,this.currentPageId=this.browserPageId},D=>{this.console.warn(`Unhandled Navigation Error: ${D}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const D=this.navigationTransitions.events.subscribe(P=>{try{const{currentTransition:j}=this.navigationTransitions;if(null===j)return void(Cc(P)&&this._events.next(P));if(P instanceof ci)Qi(j.source)&&(this.browserUrlTree=j.extractedUrl);else if(P instanceof go)this.rawUrlTree=j.rawUrl;else if(P instanceof Zi){if("eager"===this.urlUpdateStrategy){if(!j.extras.skipLocationChange){const se=this.urlHandlingStrategy.merge(j.urlAfterRedirects,j.rawUrl);this.setBrowserUrl(se,j)}this.browserUrlTree=j.urlAfterRedirects}}else if(P instanceof ea)this.currentUrlTree=j.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(j.urlAfterRedirects,j.rawUrl),this.routerState=j.targetRouterState,"deferred"===this.urlUpdateStrategy&&(j.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,j),this.browserUrlTree=j.urlAfterRedirects);else if(P instanceof Ls)0!==P.code&&1!==P.code&&(this.navigated=!0),(3===P.code||2===P.code)&&this.restoreHistory(j);else if(P instanceof Qr){const se=this.urlHandlingStrategy.merge(P.url,j.currentRawUrl),_e={skipLocationChange:j.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Qi(j.source)};this.scheduleNavigation(se,fa,null,_e,{resolve:j.resolve,reject:j.reject,promise:j.promise})}P instanceof Hc&&this.restoreHistory(j,!0),P instanceof Ds&&(this.navigated=!0),Cc(P)&&this._events.next(P)}catch(j){this.navigationTransitions.transitionAbortSubject.next(j)}});this.eventsSubscription.add(D)}resetRootComponentType(D){this.routerState.root.component=D,this.navigationTransitions.rootComponentType=D}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const D=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),fa,D)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(D=>{const P="popstate"===D.type?"popstate":"hashchange";"popstate"===P&&setTimeout(()=>{this.navigateToSyncWithBrowser(D.url,P,D.state)},0)}))}navigateToSyncWithBrowser(D,P,j){const se={replaceUrl:!0},_e=j?.navigationId?j:null;if(j){const He={...j};delete He.navigationId,delete He.\u0275routerPageId,0!==Object.keys(He).length&&(se.state=He)}const ze=this.parseUrl(D);this.scheduleNavigation(ze,P,_e,se)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(D){this.config=D.map(Bo),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(D,P={}){const{relativeTo:j,queryParams:se,fragment:_e,queryParamsHandling:ze,preserveFragment:He}=P,zt=He?this.currentUrlTree.fragment:_e;let Or,Un=null;switch(ze){case"merge":Un={...this.currentUrlTree.queryParams,...se};break;case"preserve":Un=this.currentUrlTree.queryParams;break;default:Un=se||null}null!==Un&&(Un=this.removeEmptyProps(Un));try{Or=ws(j?j.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof D[0]||!D[0].startsWith("/"))&&(D=[]),Or=this.currentUrlTree.root}return Is(Or,D,Un,zt??null)}navigateByUrl(D,P={skipLocationChange:!1}){const j=Yr(D)?D:this.parseUrl(D),se=this.urlHandlingStrategy.merge(j,this.rawUrlTree);return this.scheduleNavigation(se,fa,null,P)}navigate(D,P={skipLocationChange:!1}){return function $u(C){for(let x=0;x<C.length;x++)if(null==C[x])throw new b.vHH(4008,!1)}(D),this.navigateByUrl(this.createUrlTree(D,P),P)}serializeUrl(D){return this.urlSerializer.serialize(D)}parseUrl(D){let P;try{P=this.urlSerializer.parse(D)}catch(j){P=this.malformedUriErrorHandler(j,this.urlSerializer,D)}return P}isActive(D,P){let j;if(j=!0===P?{...pl}:!1===P?{...ys}:P,Yr(D))return br(this.currentUrlTree,D,j);const se=this.parseUrl(D);return br(this.currentUrlTree,se,j)}removeEmptyProps(D){return Object.keys(D).reduce((P,j)=>{const se=D[j];return null!=se&&(P[j]=se),P},{})}scheduleNavigation(D,P,j,se,_e){if(this.disposed)return Promise.resolve(!1);let ze,He,zt;_e?(ze=_e.resolve,He=_e.reject,zt=_e.promise):zt=new Promise((Or,gr)=>{ze=Or,He=gr});const Un=this.pendingTasks.add();return Xs(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Un))}),this.navigationTransitions.handleNavigationRequest({source:P,restoredState:j,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:D,extras:se,resolve:ze,reject:He,promise:zt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),zt.catch(Or=>Promise.reject(Or))}setBrowserUrl(D,P){const j=this.urlSerializer.serialize(D);if(this.location.isCurrentPathEqualTo(j)||P.extras.replaceUrl){const _e={...P.extras.state,...this.generateNgRouterState(P.id,this.browserPageId)};this.location.replaceState(j,"",_e)}else{const se={...P.extras.state,...this.generateNgRouterState(P.id,this.browserPageId+1)};this.location.go(j,"",se)}}restoreHistory(D,P=!1){if("computed"===this.canceledNavigationResolution){const se=this.currentPageId-this.browserPageId;0!==se?this.location.historyGo(se):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===se&&(this.resetState(D),this.browserUrlTree=D.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(P&&this.resetState(D),this.resetUrlToCurrentUrlTree())}resetState(D){this.routerState=D.currentRouterState,this.currentUrlTree=D.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,D.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(D,P){return"computed"===this.canceledNavigationResolution?{navigationId:D,\u0275routerPageId:P}:{navigationId:D}}static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275prov=b.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();function Cc(C){return!(C instanceof ea||C instanceof Qr)}let fi=(()=>{class C{constructor(D,P,j,se,_e,ze){this.router=D,this.route=P,this.tabIndexAttribute=j,this.renderer=se,this.el=_e,this.locationStrategy=ze,this.href=null,this.commands=null,this.onChanges=new Fn.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const He=_e.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===He||"area"===He,this.isAnchorElement?this.subscription=D.events.subscribe(zt=>{zt instanceof Ds&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(D){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",D)}ngOnChanges(D){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(D){null!=D?(this.commands=Array.isArray(D)?D:[D],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(D,P,j,se,_e){return!!(null===this.urlTree||this.isAnchorElement&&(0!==D||P||j||se||_e||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const D=null===this.href?null:(0,b.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",D)}applyAttributeValue(D,P){const j=this.renderer,se=this.el.nativeElement;null!==P?j.setAttribute(se,D,P):j.removeAttribute(se,D)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(P){return new(P||C)(b.Y36(wo),b.Y36(ur),b.$8M("tabindex"),b.Y36(b.Qsj),b.Y36(b.SBq),b.Y36(ut.S$))};static#t=this.\u0275dir=b.lG2({type:C,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(P,j){1&P&&b.NdJ("click",function(_e){return j.onClick(_e.button,_e.ctrlKey,_e.shiftKey,_e.altKey,_e.metaKey)}),2&P&&b.uIk("target",j.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",b.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",b.VuI],replaceUrl:["replaceUrl","replaceUrl",b.VuI],routerLink:"routerLink"},standalone:!0,features:[b.Xq5,b.TTD]})}return C})();class wh{}let Ih=(()=>{class C{constructor(D,P,j,se,_e){this.router=D,this.injector=j,this.preloadingStrategy=se,this.loader=_e}setUpPreloading(){this.subscription=this.router.events.pipe((0,_r.h)(D=>D instanceof Ds),bt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(D,P){const j=[];for(const se of P){se.providers&&!se._injector&&(se._injector=(0,b.MMx)(se.providers,D,`Route: ${se.path}`));const _e=se._injector??D,ze=se._loadedInjector??_e;(se.loadChildren&&!se._loadedRoutes&&void 0===se.canLoad||se.loadComponent&&!se._loadedComponent)&&j.push(this.preloadConfig(_e,se)),(se.children||se._loadedRoutes)&&j.push(this.processRoutes(ze,se.children??se._loadedRoutes))}return(0,de.D)(j).pipe((0,Ce.J)())}preloadConfig(D,P){return this.preloadingStrategy.preload(P,()=>{let j;j=P.loadChildren&&void 0===P.canLoad?this.loader.loadChildren(D,P):(0,he.of)(null);const se=j.pipe((0,ke.z)(_e=>null===_e?(0,he.of)(void 0):(P._loadedRoutes=_e.routes,P._loadedInjector=_e.injector,this.processRoutes(_e.injector??D,_e.routes))));if(P.loadComponent&&!P._loadedComponent){const _e=this.loader.loadComponent(P);return(0,de.D)([se,_e]).pipe((0,Ce.J)())}return se})}static#e=this.\u0275fac=function(P){return new(P||C)(b.LFG(wo),b.LFG(b.Sil),b.LFG(b.lqb),b.LFG(wh),b.LFG(Bn))};static#t=this.\u0275prov=b.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();const ei=new b.OlP("");let Sc=(()=>{class C{constructor(D,P,j,se,_e={}){this.urlSerializer=D,this.transitions=P,this.viewportScroller=j,this.zone=se,this.options=_e,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},_e.scrollPositionRestoration=_e.scrollPositionRestoration||"disabled",_e.anchorScrolling=_e.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(D=>{D instanceof ci?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=D.navigationTrigger,this.restoredId=D.restoredState?D.restoredState.navigationId:0):D instanceof Ds?(this.lastId=D.id,this.scheduleScrollEvent(D,this.urlSerializer.parse(D.urlAfterRedirects).fragment)):D instanceof go&&0===D.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(D,this.urlSerializer.parse(D.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(D=>{D instanceof pa&&(D.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(D.position):D.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(D.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(D,P){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new pa(D,"popstate"===this.lastSource?this.store[this.restoredId]:null,P))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(P){b.$Z()};static#t=this.\u0275prov=b.Yz7({token:C,factory:C.\u0275fac})}return C})();function pn(C,x){return{\u0275kind:C,\u0275providers:x}}function Pl(){const C=(0,b.f3M)(b.zs3);return x=>{const D=C.get(b.z2F);if(x!==D.components[0])return;const P=C.get(wo),j=C.get(kl);1===C.get(ba)&&P.initialNavigation(),C.get(cu,null,b.XFs.Optional)?.setUpPreloading(),C.get(ei,null,b.XFs.Optional)?.init(),P.resetRootComponentType(D.componentTypes[0]),j.closed||(j.next(),j.complete(),j.unsubscribe())}}const kl=new b.OlP("",{factory:()=>new Fn.x}),ba=new b.OlP("",{providedIn:"root",factory:()=>1}),cu=new b.OlP("");function lu(C){return pn(0,[{provide:cu,useExisting:Ih},{provide:wh,useExisting:C}])}const Ku=new b.OlP("ROUTER_FORROOT_GUARD"),ml=[ut.Ye,{provide:Ze,useClass:It},wo,Jr,{provide:ur,useFactory:function as(C){return C.routerState.root},deps:[wo]},Bn,[]];function Io(){return new b.PXZ("Router",wo)}let uu=(()=>{class C{constructor(D){}static forRoot(D,P){return{ngModule:C,providers:[ml,[],{provide:zn,multi:!0,useValue:D},{provide:Ku,useFactory:$a,deps:[[wo,new b.FiY,new b.tp0]]},{provide:nc,useValue:P||{}},P?.useHash?{provide:ut.S$,useClass:ut.Do}:{provide:ut.S$,useClass:ut.b0},{provide:ei,useFactory:()=>{const C=(0,b.f3M)(ut.EM),x=(0,b.f3M)(b.R0b),D=(0,b.f3M)(nc),P=(0,b.f3M)(Bi),j=(0,b.f3M)(Ze);return D.scrollOffset&&C.setOffset(D.scrollOffset),new Sc(j,P,C,x,D)}},P?.preloadingStrategy?lu(P.preloadingStrategy).\u0275providers:[],{provide:b.PXZ,multi:!0,useFactory:Io},P?.initialNavigation?Os(P):[],P?.bindToComponentInputs?pn(8,[_o,{provide:Pn,useExisting:_o}]).\u0275providers:[],[{provide:Go,useFactory:Pl},{provide:b.tb,multi:!0,useExisting:Go}]]}}static forChild(D){return{ngModule:C,providers:[{provide:zn,multi:!0,useValue:D}]}}static#e=this.\u0275fac=function(P){return new(P||C)(b.LFG(Ku,8))};static#t=this.\u0275mod=b.oAB({type:C});static#n=this.\u0275inj=b.cJS({})}return C})();function $a(C){return"guarded"}function Os(C){return["disabled"===C.initialNavigation?pn(3,[{provide:b.ip1,multi:!0,useFactory:()=>{const x=(0,b.f3M)(wo);return()=>{x.setUpLocationChangeListener()}}},{provide:ba,useValue:2}]).\u0275providers:[],"enabledBlocking"===C.initialNavigation?pn(2,[{provide:ba,useValue:0},{provide:b.ip1,multi:!0,deps:[b.zs3],useFactory:x=>{const D=x.get(ut.V_,Promise.resolve());return()=>D.then(()=>new Promise(P=>{const j=x.get(wo),se=x.get(kl);Xs(j,()=>{P(!0)}),x.get(Bi).afterPreactivation=()=>(P(!0),se.closed?(0,he.of)(void 0):se),j.initialNavigation()}))}}]).\u0275providers:[]]}const Go=new b.OlP("")},4303:(Bt,Ge,K)=>{K.d(Ge,{Jn:()=>yr,KN:()=>yt,Mq:()=>Ce,Xd:()=>Pt,ZF:()=>kr,qX:()=>jt});var b=K(5861),oe=K(4537),u=K(7879),we=K(9058),de=K(1878);class he{constructor(Se){this.container=Se}getPlatformInfoString(){return this.container.getProviders().map(Ze=>{if(function Te(tt){const Se=tt.getComponent();return"VERSION"===Se?.type}(Ze)){const It=Ze.getImmediate();return`${It.library}/${It.version}`}return null}).filter(Ze=>Ze).join(" ")}}const Ue="@firebase/app",ne=new u.Yd("@firebase/app"),ke="[DEFAULT]",$e={[Ue]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ye=new Map,Ve=new Map;function nt(tt,Se){try{tt.container.addComponent(Se)}catch(Ze){ne.debug(`Component ${Se.name} failed to register with FirebaseApp ${tt.name}`,Ze)}}function Pt(tt){const Se=tt.name;if(Ve.has(Se))return ne.debug(`There were multiple attempts to register component ${Se}.`),!1;Ve.set(Se,tt);for(const Ze of Ye.values())nt(Ze,tt);return!0}function jt(tt,Se){const Ze=tt.container.getProvider("heartbeat").getImmediate({optional:!0});return Ze&&Ze.triggerHeartbeat(),tt.container.getProvider(Se)}const Dt=new we.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Zn{constructor(Se,Ze,It){this._isDeleted=!1,this._options=Object.assign({},Se),this._config=Object.assign({},Ze),this._name=Ze.name,this._automaticDataCollectionEnabled=Ze.automaticDataCollectionEnabled,this._container=It,this.container.addComponent(new oe.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Se){this.checkDestroyed(),this._automaticDataCollectionEnabled=Se}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Se){this._isDeleted=Se}checkDestroyed(){if(this.isDeleted)throw Dt.create("app-deleted",{appName:this._name})}}const yr="10.9.0";function kr(tt,Se={}){let Ze=tt;"object"!=typeof Se&&(Se={name:Se});const It=Object.assign({name:ke,automaticDataCollectionEnabled:!1},Se),qt=It.name;if("string"!=typeof qt||!qt)throw Dt.create("bad-app-name",{appName:String(qt)});if(Ze||(Ze=(0,we.aH)()),!Ze)throw Dt.create("no-options");const Zt=Ye.get(qt);if(Zt){if((0,we.vZ)(Ze,Zt.options)&&(0,we.vZ)(It,Zt.config))return Zt;throw Dt.create("duplicate-app",{appName:qt})}const qn=new oe.H0(qt);for(const U of Ve.values())qn.addComponent(U);const Y=new Zn(Ze,It,qn);return Ye.set(qt,Y),Y}function Ce(tt=ke){const Se=Ye.get(tt);if(!Se&&tt===ke&&(0,we.aH)())return kr();if(!Se)throw Dt.create("no-app",{appName:tt});return Se}function yt(tt,Se,Ze){var It;let qt=null!==(It=$e[tt])&&void 0!==It?It:tt;Ze&&(qt+=`-${Ze}`);const Zt=qt.match(/\s|\//),qn=Se.match(/\s|\//);if(Zt||qn){const Y=[`Unable to register library "${qt}" with version "${Se}":`];return Zt&&Y.push(`library name "${qt}" contains illegal characters (whitespace or "/")`),Zt&&qn&&Y.push("and"),qn&&Y.push(`version name "${Se}" contains illegal characters (whitespace or "/")`),void ne.warn(Y.join(" "))}Pt(new oe.wA(`${qt}-version`,()=>({library:qt,version:Se}),"VERSION"))}const An="firebase-heartbeat-database",sn=1,Kt="firebase-heartbeat-store";let En=null;function Jn(){return En||(En=(0,de.X3)(An,sn,{upgrade:(tt,Se)=>{if(0===Se)try{tt.createObjectStore(Kt)}catch(Ze){console.warn(Ze)}}}).catch(tt=>{throw Dt.create("idb-open",{originalErrorMessage:tt.message})})),En}function Ar(){return(Ar=(0,b.Z)(function*(tt){try{const Ze=(yield Jn()).transaction(Kt),It=yield Ze.objectStore(Kt).get(ar(tt));return yield Ze.done,It}catch(Se){if(Se instanceof we.ZR)ne.warn(Se.message);else{const Ze=Dt.create("idb-get",{originalErrorMessage:Se?.message});ne.warn(Ze.message)}}})).apply(this,arguments)}function br(tt,Se){return mn.apply(this,arguments)}function mn(){return(mn=(0,b.Z)(function*(tt,Se){try{const It=(yield Jn()).transaction(Kt,"readwrite");yield It.objectStore(Kt).put(Se,ar(tt)),yield It.done}catch(Ze){if(Ze instanceof we.ZR)ne.warn(Ze.message);else{const It=Dt.create("idb-set",{originalErrorMessage:Ze?.message});ne.warn(It.message)}}})).apply(this,arguments)}function ar(tt){return`${tt.name}!${tt.options.appId}`}class Wn{constructor(Se){this.container=Se,this._heartbeatsCache=null;const Ze=this.container.getProvider("app").getImmediate();this._storage=new Xn(Ze),this._heartbeatsCachePromise=this._storage.read().then(It=>(this._heartbeatsCache=It,It))}triggerHeartbeat(){var Se=this;return(0,b.Z)(function*(){var Ze,It;const Zt=Se.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),qn=pi();if((null!=(null===(Ze=Se._heartbeatsCache)||void 0===Ze?void 0:Ze.heartbeats)||(Se._heartbeatsCache=yield Se._heartbeatsCachePromise,null!=(null===(It=Se._heartbeatsCache)||void 0===It?void 0:It.heartbeats)))&&Se._heartbeatsCache.lastSentHeartbeatDate!==qn&&!Se._heartbeatsCache.heartbeats.some(Y=>Y.date===qn))return Se._heartbeatsCache.heartbeats.push({date:qn,agent:Zt}),Se._heartbeatsCache.heartbeats=Se._heartbeatsCache.heartbeats.filter(Y=>{const U=new Date(Y.date).valueOf();return Date.now()-U<=2592e6}),Se._storage.overwrite(Se._heartbeatsCache)})()}getHeartbeatsHeader(){var Se=this;return(0,b.Z)(function*(){var Ze;if(null===Se._heartbeatsCache&&(yield Se._heartbeatsCachePromise),null==(null===(Ze=Se._heartbeatsCache)||void 0===Ze?void 0:Ze.heartbeats)||0===Se._heartbeatsCache.heartbeats.length)return"";const It=pi(),{heartbeatsToSend:qt,unsentEntries:Zt}=function Rn(tt,Se=1024){const Ze=[];let It=tt.slice();for(const qt of tt){const Zt=Ze.find(qn=>qn.agent===qt.agent);if(Zt){if(Zt.dates.push(qt.date),Mr(Ze)>Se){Zt.dates.pop();break}}else if(Ze.push({agent:qt.agent,dates:[qt.date]}),Mr(Ze)>Se){Ze.pop();break}It=It.slice(1)}return{heartbeatsToSend:Ze,unsentEntries:It}}(Se._heartbeatsCache.heartbeats),qn=(0,we.L)(JSON.stringify({version:2,heartbeats:qt}));return Se._heartbeatsCache.lastSentHeartbeatDate=It,Zt.length>0?(Se._heartbeatsCache.heartbeats=Zt,yield Se._storage.overwrite(Se._heartbeatsCache)):(Se._heartbeatsCache.heartbeats=[],Se._storage.overwrite(Se._heartbeatsCache)),qn})()}}function pi(){return(new Date).toISOString().substring(0,10)}class Xn{constructor(Se){this.app=Se,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,b.Z)(function*(){return!!(0,we.hl)()&&(0,we.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Se=this;return(0,b.Z)(function*(){if(yield Se._canUseIndexedDBPromise){const It=yield function Xt(tt){return Ar.apply(this,arguments)}(Se.app);return It?.heartbeats?It:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(Se){var Ze=this;return(0,b.Z)(function*(){var It;if(yield Ze._canUseIndexedDBPromise){const Zt=yield Ze.read();return br(Ze.app,{lastSentHeartbeatDate:null!==(It=Se.lastSentHeartbeatDate)&&void 0!==It?It:Zt.lastSentHeartbeatDate,heartbeats:Se.heartbeats})}})()}add(Se){var Ze=this;return(0,b.Z)(function*(){var It;if(yield Ze._canUseIndexedDBPromise){const Zt=yield Ze.read();return br(Ze.app,{lastSentHeartbeatDate:null!==(It=Se.lastSentHeartbeatDate)&&void 0!==It?It:Zt.lastSentHeartbeatDate,heartbeats:[...Zt.heartbeats,...Se.heartbeats]})}})()}}function Mr(tt){return(0,we.L)(JSON.stringify({version:2,heartbeats:tt})).length}!function gi(tt){Pt(new oe.wA("platform-logger",Se=>new he(Se),"PRIVATE")),Pt(new oe.wA("heartbeat",Se=>new Wn(Se),"PRIVATE")),yt(Ue,"0.9.29",tt),yt(Ue,"0.9.29","esm2017"),yt("fire-js","")}("")},4537:(Bt,Ge,K)=>{K.d(Ge,{H0:()=>Ue,wA:()=>u});var b=K(5861),oe=K(9058);class u{constructor(ne,le,Ae){this.name=ne,this.instanceFactory=le,this.type=Ae,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ne){return this.instantiationMode=ne,this}setMultipleInstances(ne){return this.multipleInstances=ne,this}setServiceProps(ne){return this.serviceProps=ne,this}setInstanceCreatedCallback(ne){return this.onInstanceCreated=ne,this}}const we="[DEFAULT]";class de{constructor(ne,le){this.name=ne,this.container=le,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ne){const le=this.normalizeInstanceIdentifier(ne);if(!this.instancesDeferred.has(le)){const Ae=new oe.BH;if(this.instancesDeferred.set(le,Ae),this.isInitialized(le)||this.shouldAutoInitialize())try{const Xe=this.getOrInitializeService({instanceIdentifier:le});Xe&&Ae.resolve(Xe)}catch{}}return this.instancesDeferred.get(le).promise}getImmediate(ne){var le;const Ae=this.normalizeInstanceIdentifier(ne?.identifier),Xe=null!==(le=ne?.optional)&&void 0!==le&&le;if(!this.isInitialized(Ae)&&!this.shouldAutoInitialize()){if(Xe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ae})}catch(Pe){if(Xe)return null;throw Pe}}getComponent(){return this.component}setComponent(ne){if(ne.name!==this.name)throw Error(`Mismatching Component ${ne.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ne,this.shouldAutoInitialize()){if(function Te(Ie){return"EAGER"===Ie.instantiationMode}(ne))try{this.getOrInitializeService({instanceIdentifier:we})}catch{}for(const[le,Ae]of this.instancesDeferred.entries()){const Xe=this.normalizeInstanceIdentifier(le);try{const Pe=this.getOrInitializeService({instanceIdentifier:Xe});Ae.resolve(Pe)}catch{}}}}clearInstance(ne=we){this.instancesDeferred.delete(ne),this.instancesOptions.delete(ne),this.instances.delete(ne)}delete(){var ne=this;return(0,b.Z)(function*(){const le=Array.from(ne.instances.values());yield Promise.all([...le.filter(Ae=>"INTERNAL"in Ae).map(Ae=>Ae.INTERNAL.delete()),...le.filter(Ae=>"_delete"in Ae).map(Ae=>Ae._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ne=we){return this.instances.has(ne)}getOptions(ne=we){return this.instancesOptions.get(ne)||{}}initialize(ne={}){const{options:le={}}=ne,Ae=this.normalizeInstanceIdentifier(ne.instanceIdentifier);if(this.isInitialized(Ae))throw Error(`${this.name}(${Ae}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Xe=this.getOrInitializeService({instanceIdentifier:Ae,options:le});for(const[Pe,st]of this.instancesDeferred.entries())Ae===this.normalizeInstanceIdentifier(Pe)&&st.resolve(Xe);return Xe}onInit(ne,le){var Ae;const Xe=this.normalizeInstanceIdentifier(le),Pe=null!==(Ae=this.onInitCallbacks.get(Xe))&&void 0!==Ae?Ae:new Set;Pe.add(ne),this.onInitCallbacks.set(Xe,Pe);const st=this.instances.get(Xe);return st&&ne(st,Xe),()=>{Pe.delete(ne)}}invokeOnInitCallbacks(ne,le){const Ae=this.onInitCallbacks.get(le);if(Ae)for(const Xe of Ae)try{Xe(ne,le)}catch{}}getOrInitializeService({instanceIdentifier:ne,options:le={}}){let Ae=this.instances.get(ne);if(!Ae&&this.component&&(Ae=this.component.instanceFactory(this.container,{instanceIdentifier:(Ie=ne,Ie===we?void 0:Ie),options:le}),this.instances.set(ne,Ae),this.instancesOptions.set(ne,le),this.invokeOnInitCallbacks(Ae,ne),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ne,Ae)}catch{}var Ie;return Ae||null}normalizeInstanceIdentifier(ne=we){return this.component?this.component.multipleInstances?ne:we:ne}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ue{constructor(ne){this.name=ne,this.providers=new Map}addComponent(ne){const le=this.getProvider(ne.name);if(le.isComponentSet())throw new Error(`Component ${ne.name} has already been registered with ${this.name}`);le.setComponent(ne)}addOrOverwriteComponent(ne){this.getProvider(ne.name).isComponentSet()&&this.providers.delete(ne.name),this.addComponent(ne)}getProvider(ne){if(this.providers.has(ne))return this.providers.get(ne);const le=new de(ne,this);return this.providers.set(ne,le),le}getProviders(){return Array.from(this.providers.values())}}},7879:(Bt,Ge,K)=>{K.d(Ge,{Yd:()=>Te,in:()=>oe});const b=[];var oe=function(ne){return ne[ne.DEBUG=0]="DEBUG",ne[ne.VERBOSE=1]="VERBOSE",ne[ne.INFO=2]="INFO",ne[ne.WARN=3]="WARN",ne[ne.ERROR=4]="ERROR",ne[ne.SILENT=5]="SILENT",ne}(oe||{});const u={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},we=oe.INFO,de={[oe.DEBUG]:"log",[oe.VERBOSE]:"log",[oe.INFO]:"info",[oe.WARN]:"warn",[oe.ERROR]:"error"},he=(ne,le,...Ae)=>{if(le<ne.logLevel)return;const Xe=(new Date).toISOString(),Pe=de[le];if(!Pe)throw new Error(`Attempted to log a message with an invalid logType (value: ${le})`);console[Pe](`[${Xe}]  ${ne.name}:`,...Ae)};class Te{constructor(le){this.name=le,this._logLevel=we,this._logHandler=he,this._userLogHandler=null,b.push(this)}get logLevel(){return this._logLevel}set logLevel(le){if(!(le in oe))throw new TypeError(`Invalid value "${le}" assigned to \`logLevel\``);this._logLevel=le}setLogLevel(le){this._logLevel="string"==typeof le?u[le]:le}get logHandler(){return this._logHandler}set logHandler(le){if("function"!=typeof le)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=le}get userLogHandler(){return this._userLogHandler}set userLogHandler(le){this._userLogHandler=le}debug(...le){this._userLogHandler&&this._userLogHandler(this,oe.DEBUG,...le),this._logHandler(this,oe.DEBUG,...le)}log(...le){this._userLogHandler&&this._userLogHandler(this,oe.VERBOSE,...le),this._logHandler(this,oe.VERBOSE,...le)}info(...le){this._userLogHandler&&this._userLogHandler(this,oe.INFO,...le),this._logHandler(this,oe.INFO,...le)}warn(...le){this._userLogHandler&&this._userLogHandler(this,oe.WARN,...le),this._logHandler(this,oe.WARN,...le)}error(...le){this._userLogHandler&&this._userLogHandler(this,oe.ERROR,...le),this._logHandler(this,oe.ERROR,...le)}}},1878:(Bt,Ge,K)=>{K.d(Ge,{X3:()=>Rt});var b=K(5861);const oe=(ve,Ke)=>Ke.some(gt=>ve instanceof gt);let u,we;const Te=new WeakMap,Ue=new WeakMap,Ie=new WeakMap,ne=new WeakMap,le=new WeakMap;let Pe={get(ve,Ke,gt){if(ve instanceof IDBTransaction){if("done"===Ke)return Ue.get(ve);if("objectStoreNames"===Ke)return ve.objectStoreNames||Ie.get(ve);if("store"===Ke)return gt.objectStoreNames[1]?void 0:gt.objectStore(gt.objectStoreNames[0])}return Ft(ve[Ke])},set:(ve,Ke,gt)=>(ve[Ke]=gt,!0),has:(ve,Ke)=>ve instanceof IDBTransaction&&("done"===Ke||"store"===Ke)||Ke in ve};function Ut(ve){return"function"==typeof ve?function Ot(ve){return ve!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function he(){return we||(we=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ve)?function(...Ke){return ve.apply(xn(this),Ke),Ft(Te.get(this))}:function(...Ke){return Ft(ve.apply(xn(this),Ke))}:function(Ke,...gt){const Fn=ve.call(xn(this),Ke,...gt);return Ie.set(Fn,Ke.sort?Ke.sort():[Ke]),Ft(Fn)}}(ve):(ve instanceof IDBTransaction&&function Xe(ve){if(Ue.has(ve))return;const Ke=new Promise((gt,Fn)=>{const ut=()=>{ve.removeEventListener("complete",dn),ve.removeEventListener("error",Sn),ve.removeEventListener("abort",Sn)},dn=()=>{gt(),ut()},Sn=()=>{Fn(ve.error||new DOMException("AbortError","AbortError")),ut()};ve.addEventListener("complete",dn),ve.addEventListener("error",Sn),ve.addEventListener("abort",Sn)});Ue.set(ve,Ke)}(ve),oe(ve,function de(){return u||(u=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ve,Pe):ve)}function Ft(ve){if(ve instanceof IDBRequest)return function Ae(ve){const Ke=new Promise((gt,Fn)=>{const ut=()=>{ve.removeEventListener("success",dn),ve.removeEventListener("error",Sn)},dn=()=>{gt(Ft(ve.result)),ut()},Sn=()=>{Fn(ve.error),ut()};ve.addEventListener("success",dn),ve.addEventListener("error",Sn)});return Ke.then(gt=>{gt instanceof IDBCursor&&Te.set(gt,ve)}).catch(()=>{}),le.set(Ke,ve),Ke}(ve);if(ne.has(ve))return ne.get(ve);const Ke=Ut(ve);return Ke!==ve&&(ne.set(ve,Ke),le.set(Ke,ve)),Ke}const xn=ve=>le.get(ve);function Rt(ve,Ke,{blocked:gt,upgrade:Fn,blocking:ut,terminated:dn}={}){const Sn=indexedDB.open(ve,Ke),Gn=Ft(Sn);return Fn&&Sn.addEventListener("upgradeneeded",ir=>{Fn(Ft(Sn.result),ir.oldVersion,ir.newVersion,Ft(Sn.transaction),ir)}),gt&&Sn.addEventListener("blocked",ir=>gt(ir.oldVersion,ir.newVersion,ir)),Gn.then(ir=>{dn&&ir.addEventListener("close",()=>dn()),ut&&ir.addEventListener("versionchange",_r=>ut(_r.oldVersion,_r.newVersion,_r))}).catch(()=>{}),Gn}const ot=["get","getKey","getAll","getAllKeys","count"],vt=["put","add","delete","clear"],_t=new Map;function je(ve,Ke){if(!(ve instanceof IDBDatabase)||Ke in ve||"string"!=typeof Ke)return;if(_t.get(Ke))return _t.get(Ke);const gt=Ke.replace(/FromIndex$/,""),Fn=Ke!==gt,ut=vt.includes(gt);if(!(gt in(Fn?IDBIndex:IDBObjectStore).prototype)||!ut&&!ot.includes(gt))return;const dn=function(){var Sn=(0,b.Z)(function*(Gn,...ir){const _r=this.transaction(Gn,ut?"readwrite":"readonly");let ke=_r.store;return Fn&&(ke=ke.index(ir.shift())),(yield Promise.all([ke[gt](...ir),ut&&_r.done]))[0]});return function(ir){return Sn.apply(this,arguments)}}();return _t.set(Ke,dn),dn}!function st(ve){Pe=ve(Pe)}(ve=>({...ve,get:(Ke,gt,Fn)=>je(Ke,gt)||ve.get(Ke,gt,Fn),has:(Ke,gt)=>!!je(Ke,gt)||ve.has(Ke,gt)}))},5861:(Bt,Ge,K)=>{function b(u,we,de,he,Te,Ue,Ie){try{var ne=u[Ue](Ie),le=ne.value}catch(Ae){return void de(Ae)}ne.done?we(le):Promise.resolve(le).then(he,Te)}function oe(u){return function(){var we=this,de=arguments;return new Promise(function(he,Te){var Ue=u.apply(we,de);function Ie(le){b(Ue,he,Te,Ie,ne,"next",le)}function ne(le){b(Ue,he,Te,Ie,ne,"throw",le)}Ie(void 0)})}}K.d(Ge,{Z:()=>oe})},7582:(Bt,Ge,K)=>{function we(ke,$e){var Ye={};for(var Ve in ke)Object.prototype.hasOwnProperty.call(ke,Ve)&&$e.indexOf(Ve)<0&&(Ye[Ve]=ke[Ve]);if(null!=ke&&"function"==typeof Object.getOwnPropertySymbols){var nt=0;for(Ve=Object.getOwnPropertySymbols(ke);nt<Ve.length;nt++)$e.indexOf(Ve[nt])<0&&Object.prototype.propertyIsEnumerable.call(ke,Ve[nt])&&(Ye[Ve[nt]]=ke[Ve[nt]])}return Ye}function Ae(ke,$e,Ye,Ve){return new(Ye||(Ye=Promise))(function(bt,Pt){function jt(cn){try{bn(Ve.next(cn))}catch(Dt){Pt(Dt)}}function hn(cn){try{bn(Ve.throw(cn))}catch(Dt){Pt(Dt)}}function bn(cn){cn.done?bt(cn.value):function nt(bt){return bt instanceof Ye?bt:new Ye(function(Pt){Pt(bt)})}(cn.value).then(jt,hn)}bn((Ve=Ve.apply(ke,$e||[])).next())})}function mt(ke){return this instanceof mt?(this.v=ke,this):new mt(ke)}function ot(ke,$e,Ye){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var nt,Ve=Ye.apply(ke,$e||[]),bt=[];return nt={},Pt("next"),Pt("throw"),Pt("return"),nt[Symbol.asyncIterator]=function(){return this},nt;function Pt(Zn){Ve[Zn]&&(nt[Zn]=function(yr){return new Promise(function(kr,Ce){bt.push([Zn,yr,kr,Ce])>1||jt(Zn,yr)})})}function jt(Zn,yr){try{!function hn(Zn){Zn.value instanceof mt?Promise.resolve(Zn.value.v).then(bn,cn):Dt(bt[0][2],Zn)}(Ve[Zn](yr))}catch(kr){Dt(bt[0][3],kr)}}function bn(Zn){jt("next",Zn)}function cn(Zn){jt("throw",Zn)}function Dt(Zn,yr){Zn(yr),bt.shift(),bt.length&&jt(bt[0][0],bt[0][1])}}function _t(ke){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ye,$e=ke[Symbol.asyncIterator];return $e?$e.call(ke):(ke=function Ot(ke){var $e="function"==typeof Symbol&&Symbol.iterator,Ye=$e&&ke[$e],Ve=0;if(Ye)return Ye.call(ke);if(ke&&"number"==typeof ke.length)return{next:function(){return ke&&Ve>=ke.length&&(ke=void 0),{value:ke&&ke[Ve++],done:!ke}}};throw new TypeError($e?"Object is not iterable.":"Symbol.iterator is not defined.")}(ke),Ye={},Ve("next"),Ve("throw"),Ve("return"),Ye[Symbol.asyncIterator]=function(){return this},Ye);function Ve(bt){Ye[bt]=ke[bt]&&function(Pt){return new Promise(function(jt,hn){!function nt(bt,Pt,jt,hn){Promise.resolve(hn).then(function(bn){bt({value:bn,done:jt})},Pt)}(jt,hn,(Pt=ke[bt](Pt)).done,Pt.value)})}}}K.d(Ge,{FC:()=>ot,KL:()=>_t,_T:()=>we,mG:()=>Ae,qq:()=>mt}),"function"==typeof SuppressedError&&SuppressedError}},Bt=>{var Ge=b=>Bt(Bt.s=b);Ge(2614),Ge(9653)}]);