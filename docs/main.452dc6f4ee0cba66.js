"use strict";(self.webpackChunkThe_Natural_Way=self.webpackChunkThe_Natural_Way||[]).push([[179],{8726:($t,We,Q)=>{Q.d(We,{Ot:()=>we,ZF:()=>Vt,hX:()=>et,z6:()=>de});var w=Q(4097),ce=Q(9468),h=Q(6106);class we{constructor(ot){return ot}}class de{constructor(){return(0,w.C6)()}}const He=new ce.OlP("angularfire2._apps"),Ee={provide:we,useFactory:function Oe(mt){return mt&&1===mt.length?mt[0]:new we((0,w.Mq)())},deps:[[new ce.FiY,He]]},re={provide:de,deps:[[new ce.FiY,He]]};function le(mt){return(ot,vt)=>{const _t=ot.runOutsideAngular(()=>mt(vt));return new we(_t)}}let Se=(()=>{class mt{constructor(vt){(0,w.KN)("angularfire",h.q4.full,"core"),(0,w.KN)("angularfire",h.q4.full,"app"),(0,w.KN)("angular",ce.q4F.full,vt.toString())}}return mt.\u0275fac=function(vt){return new(vt||mt)(ce.LFG(ce.Lbi))},mt.\u0275mod=ce.oAB({type:mt}),mt.\u0275inj=ce.cJS({providers:[Ee,re]}),mt})();function et(mt,...ot){return{ngModule:Se,providers:[{provide:He,useFactory:le(mt),multi:!0,deps:[ce.R0b,ce.zs3,h.HU,...ot]}]}}const Vt=(0,h.u3)(w.ZF,!0)},3477:($t,We,Q)=>{Q.d(We,{gg:()=>CD,ET:()=>lA,Ab:()=>uA,vr:()=>dA,hJ:()=>hA,oe:()=>fA,JU:()=>pA,QT:()=>gA,PL:()=>mA,ad:()=>_A,b9:()=>yA,Xo:()=>vA,Cm:()=>cA,IO:()=>bA,pl:()=>wA,TQ:()=>IA,r7:()=>TA,ar:()=>EA});var w=Q(6106),ce=Q(9468),h=Q(8726),we=Q(4097),de=Q(5861),fe=Q(229),Oe=Q(7592),He=Q(7582),Ee=Q(7879),re=Q(6820);const An=function Vt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},xt=new fe.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ot=new Ee.Yd("@firebase/auth");function _t(n,...e){ot.logLevel<=Ee.in.ERROR&&ot.error(`Auth (${Oe.Jn}): ${n}`,...e)}function je(n,...e){throw Rn(n,...e)}function ve(n,...e){return Rn(n,...e)}function Rn(n,...e){if("string"!=typeof n){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return xt.create(n,...e)}function dt(n,e,...t){if(!n)throw Rn(e,...t)}function un(n){const e="INTERNAL ASSERTION FAILED: "+n;throw _t(e),new Error(e)}function In(n,e){n||un(e)}function dr(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class Je{constructor(e,t){this.shortDelay=e,this.longDelay=t,In(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,fe.uI)()||(0,fe.b$)()}get(){return function ke(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function er(){return"http:"===dr()||"https:"===dr()}()||(0,fe.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class nt{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void un("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void un("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void un("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const bt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Rt=new Je(3e4,6e4);function dn(n,e,t,i){return yn.apply(this,arguments)}function yn(){return(yn=(0,de.Z)(function*(n,e,t,i,c={}){return cn(n,c,(0,de.Z)(function*(){let p={},_={};i&&("GET"===e?_=i:p={body:JSON.stringify(i)});const E=(0,fe.xO)(Object.assign({key:n.config.apiKey},_)).slice(1),F=yield n._getAdditionalHeaders();return F["Content-Type"]="application/json",n.languageCode&&(F["X-Firebase-Locale"]=n.languageCode),nt.fetch()(Fr(n,n.config.apiHost,t,E),Object.assign({method:e,headers:F,referrerPolicy:"no-referrer"},p))}))})).apply(this,arguments)}function cn(n,e,t){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,de.Z)(function*(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},bt),e);try{const c=new De(n),p=yield Promise.race([t(),c.promise]);c.clearNetworkTimeout();const _=yield p.json();if("needConfirmation"in _)throw xe(n,"account-exists-with-different-credential",_);if(p.ok&&!("errorMessage"in _))return _;{const E=p.ok?_.errorMessage:_.error.message,[F,H]=E.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===F)throw xe(n,"credential-already-in-use",_);if("EMAIL_EXISTS"===F)throw xe(n,"email-already-in-use",_);if("USER_DISABLED"===F)throw xe(n,"user-disabled",_);const te=i[F]||F.toLowerCase().replace(/[_\s]+/g,"-");if(H)throw function Qe(n,e,t){const i=Object.assign(Object.assign({},An()),{[e]:t});return new fe.LL("auth","Firebase",i).create(e,{appName:n.name})}(n,te,H);je(n,te)}}catch(c){if(c instanceof fe.ZR)throw c;je(n,"network-request-failed",{message:String(c)})}})).apply(this,arguments)}function Fr(n,e,t,i){const c=`${e}${t}?${i}`;return n.config.emulator?function Ve(n,e){In(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}(n.config,c):`${n.config.apiScheme}://${c}`}class De{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(ve(this.auth,"network-request-failed")),Rt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function xe(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const c=ve(n,e,i);return c.customData._tokenResponse=t,c}function at(){return(at=(0,de.Z)(function*(n,e){return dn(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function En(){return(En=(0,de.Z)(function*(n,e){return dn(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function on(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Zn(){return(Zn=(0,de.Z)(function*(n,e=!1){const t=(0,fe.m9)(n),i=yield t.getIdToken(e),c=Cr(i);dt(c&&c.exp&&c.auth_time&&c.iat,t.auth,"internal-error");const p="object"==typeof c.firebase?c.firebase:void 0,_=p?.sign_in_provider;return{claims:c,token:i,authTime:on(en(c.auth_time)),issuedAtTime:on(en(c.iat)),expirationTime:on(en(c.exp)),signInProvider:_||null,signInSecondFactor:p?.sign_in_second_factor||null}})).apply(this,arguments)}function en(n){return 1e3*Number(n)}function Cr(n){const[e,t,i]=n.split(".");if(void 0===e||void 0===t||void 0===i)return _t("JWT malformed, contained fewer than 3 sections"),null;try{const c=(0,fe.tV)(t);return c?JSON.parse(c):(_t("Failed to decode base64 JWT payload"),null)}catch(c){return _t("Caught error parsing JWT payload as JSON",c?.toString()),null}}function gn(n,e){return rr.apply(this,arguments)}function rr(){return(rr=(0,de.Z)(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(i){throw i instanceof fe.ZR&&function Wn({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})).apply(this,arguments)}class ir{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),i}{this.errorBackoff=3e4;const c=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,c)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout((0,de.Z)(function*(){yield t.iteration()}),i)}iteration(){var e=this;return(0,de.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class Gn{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=on(this.lastLoginAt),this.creationTime=on(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function hi(n){return Nn.apply(this,arguments)}function Nn(){return Nn=(0,de.Z)(function*(n){var e;const t=n.auth,i=yield n.getIdToken(),c=yield gn(n,function vr(n,e){return En.apply(this,arguments)}(t,{idToken:i}));dt(c?.users.length,t,"internal-error");const p=c.users[0];n._notifyReloadListener(p);const _=null!==(e=p.providerUserInfo)&&void 0!==e&&e.length?function tt(n){return n.map(e=>{var{providerId:t}=e,i=(0,He._T)(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}(p.providerUserInfo):[],E=function fi(n,e){return[...n.filter(i=>!e.some(c=>c.providerId===i.providerId)),...e]}(n.providerData,_),te=!!n.isAnonymous&&!(n.email&&p.passwordHash||E?.length),pe={uid:p.localId,displayName:p.displayName||null,photoURL:p.photoUrl||null,email:p.email||null,emailVerified:p.emailVerified||!1,phoneNumber:p.phoneNumber||null,tenantId:p.tenantId||null,providerData:E,metadata:new Gn(p.createdAt,p.lastLoginAt),isAnonymous:te};Object.assign(n,pe)}),Nn.apply(this,arguments)}function Or(){return(Or=(0,de.Z)(function*(n){const e=(0,fe.m9)(n);yield hi(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function Ze(){return(Ze=(0,de.Z)(function*(n,e){const t=yield cn(n,{},(0,de.Z)(function*(){const i=(0,fe.xO)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:c,apiKey:p}=n.config,_=Fr(n,c,"/v1/token",`key=${p}`),E=yield n._getAdditionalHeaders();return E["Content-Type"]="application/x-www-form-urlencoded",nt.fetch()(_,{method:"POST",headers:E,body:i})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class It{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){dt(e.idToken,"internal-error"),dt(typeof e.idToken<"u","internal-error"),dt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function br(n){const e=Cr(n);return dt(e,"internal-error"),dt(typeof e.exp<"u","internal-error"),dt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var i=this;return(0,de.Z)(function*(){return dt(!i.accessToken||i.refreshToken,e,"user-token-expired"),t||!i.accessToken||i.isExpired?i.refreshToken?(yield i.refresh(e,i.refreshToken),i.accessToken):null:i.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var i=this;return(0,de.Z)(function*(){const{accessToken:c,refreshToken:p,expiresIn:_}=yield function Ce(n,e){return Ze.apply(this,arguments)}(e,t);i.updateTokensAndExpiration(c,p,Number(_))})()}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(e,t){const{refreshToken:i,accessToken:c,expirationTime:p}=t,_=new It;return i&&(dt("string"==typeof i,"internal-error",{appName:e}),_.refreshToken=i),c&&(dt("string"==typeof c,"internal-error",{appName:e}),_.accessToken=c),p&&(dt("number"==typeof p,"internal-error",{appName:e}),_.expirationTime=p),_}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new It,this.toJSON())}_performRefresh(){return un("not implemented")}}function qt(n,e){dt("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class Zt{constructor(e){var{uid:t,auth:i,stsTokenManager:c}=e,p=(0,He._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ir(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=c,this.accessToken=c.accessToken,this.displayName=p.displayName||null,this.email=p.email||null,this.emailVerified=p.emailVerified||!1,this.phoneNumber=p.phoneNumber||null,this.photoURL=p.photoURL||null,this.isAnonymous=p.isAnonymous||!1,this.tenantId=p.tenantId||null,this.providerData=p.providerData?[...p.providerData]:[],this.metadata=new Gn(p.createdAt||void 0,p.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,de.Z)(function*(){const i=yield gn(t,t.stsTokenManager.getToken(t.auth,e));return dt(i,t.auth,"internal-error"),t.accessToken!==i&&(t.accessToken=i,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),i})()}getIdTokenResult(e){return function bn(n){return Zn.apply(this,arguments)}(this,e)}reload(){return function Kn(n){return Or.apply(this,arguments)}(this)}_assign(e){this!==e&&(dt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Zt(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){dt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var i=this;return(0,de.Z)(function*(){let c=!1;e.idToken&&e.idToken!==i.stsTokenManager.accessToken&&(i.stsTokenManager.updateFromServerResponse(e),c=!0),t&&(yield hi(i)),yield i.auth._persistUserIfCurrent(i),c&&i.auth._notifyListenersIfCurrent(i)})()}delete(){var e=this;return(0,de.Z)(function*(){const t=yield e.getIdToken();return yield gn(e,function Re(n,e){return at.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,c,p,_,E,F,H,te;const pe=null!==(i=t.displayName)&&void 0!==i?i:void 0,Be=null!==(c=t.email)&&void 0!==c?c:void 0,lt=null!==(p=t.phoneNumber)&&void 0!==p?p:void 0,Pt=null!==(_=t.photoURL)&&void 0!==_?_:void 0,sn=null!==(E=t.tenantId)&&void 0!==E?E:void 0,an=null!==(F=t._redirectEventId)&&void 0!==F?F:void 0,Dr=null!==(H=t.createdAt)&&void 0!==H?H:void 0,ni=null!==(te=t.lastLoginAt)&&void 0!==te?te:void 0,{uid:kr,emailVerified:Zo,isAnonymous:So,providerData:os,stsTokenManager:xc}=t;dt(kr&&xc,e,"internal-error");const gg=It.fromJSON(this.name,xc);dt("string"==typeof kr,e,"internal-error"),qt(pe,e.name),qt(Be,e.name),dt("boolean"==typeof Zo,e,"internal-error"),dt("boolean"==typeof So,e,"internal-error"),qt(lt,e.name),qt(Pt,e.name),qt(sn,e.name),qt(an,e.name),qt(Dr,e.name),qt(ni,e.name);const X1=new Zt({uid:kr,auth:e,email:Be,emailVerified:Zo,displayName:pe,isAnonymous:So,photoURL:Pt,phoneNumber:lt,tenantId:sn,stsTokenManager:gg,createdAt:Dr,lastLoginAt:ni});return os&&Array.isArray(os)&&(X1.providerData=os.map(DA=>Object.assign({},DA))),an&&(X1._redirectEventId=an),X1}static _fromIdTokenResponse(e,t,i=!1){return(0,de.Z)(function*(){const c=new It;c.updateFromServerResponse(t);const p=new Zt({uid:t.localId,auth:e,stsTokenManager:c,isAnonymous:i});return yield hi(p),p})()}}const Un=new Map;function K(n){In(n instanceof Function,"Expected a class definition");let e=Un.get(n);return e?(In(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Un.set(n,e),e)}const G=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,de.Z)(function*(){return!0})()}_set(t,i){var c=this;return(0,de.Z)(function*(){c.storage[t]=i})()}_get(t){var i=this;return(0,de.Z)(function*(){const c=i.storage[t];return void 0===c?null:c})()}_remove(t){var i=this;return(0,de.Z)(function*(){delete i.storage[t]})()}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})();function W(n,e,t){return`firebase:${n}:${e}:${t}`}class ${constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:c,name:p}=this.auth;this.fullUserKey=W(this.userKey,c.apiKey,p),this.fullPersistenceKey=W("persistence",c.apiKey,p),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,de.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Zt._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,de.Z)(function*(){if(t.persistence===e)return;const i=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,i?t.setCurrentUser(i):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return(0,de.Z)(function*(){if(!t.length)return new $(K(G),e,i);const c=(yield Promise.all(t.map(function(){var H=(0,de.Z)(function*(te){if(yield te._isAvailable())return te});return function(te){return H.apply(this,arguments)}}()))).filter(H=>H);let p=c[0]||K(G);const _=W(i,e.config.apiKey,e.name);let E=null;for(const H of t)try{const te=yield H._get(_);if(te){const pe=Zt._fromJSON(e,te);H!==p&&(E=pe),p=H;break}}catch{}const F=c.filter(H=>H._shouldAllowMigration);return p._shouldAllowMigration&&F.length?(p=F[0],E&&(yield p._set(_,E.toJSON())),yield Promise.all(t.map(function(){var H=(0,de.Z)(function*(te){if(te!==p)try{yield te._remove(_)}catch{}});return function(te){return H.apply(this,arguments)}}())),new $(p,e,i)):new $(p,e,i)})()}}function be(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function hn(n=(0,fe.z$)()){return/iemobile/i.test(n)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function Ue(n=(0,fe.z$)()){return/firefox\//i.test(n)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function zt(n=(0,fe.z$)()){return/blackberry/i.test(n)}(e))return"Blackberry";if(function xn(n=(0,fe.z$)()){return/webos/i.test(n)}(e))return"Webos";if(function Et(n=(0,fe.z$)()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function rn(n=(0,fe.z$)()){return/crios\//i.test(n)}(e))&&!e.includes("edge/"))return"Chrome";if(function Dn(n=(0,fe.z$)()){return/android/i.test(n)}(e))return"Android";{const i=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===i?.length)return i[1]}return"Other"}function Oa(n,e=[]){let t;switch(n){case"Browser":t=be((0,fe.z$)());break;case"Worker":t=`${be((0,fe.z$)())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Oe.Jn}/${i}`}function uo(n,e){return fs.apply(this,arguments)}function fs(){return(fs=(0,de.Z)(function*(n,e){return dn(n,"GET","/v2/recaptchaConfig",function jt(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}(n,e))})).apply(this,arguments)}function tr(n){return void 0!==n&&void 0!==n.enterprise}class zs{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}class qs{constructor(e){this.type="recaptcha-enterprise",this.auth=bi(e)}verify(e="verify",t=!1){var i=this;return(0,de.Z)(function*(){function p(){return p=(0,de.Z)(function*(E){if(!t){if(null==E.tenantId&&null!=E._agentRecaptchaConfig)return E._agentRecaptchaConfig.siteKey;if(null!=E.tenantId&&void 0!==E._tenantRecaptchaConfigs[E.tenantId])return E._tenantRecaptchaConfigs[E.tenantId].siteKey}return new Promise(function(){var F=(0,de.Z)(function*(H,te){uo(E,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(pe=>{if(void 0!==pe.recaptchaKey){const Be=new zs(pe);return null==E.tenantId?E._agentRecaptchaConfig=Be:E._tenantRecaptchaConfigs[E.tenantId]=Be,H(Be.siteKey)}te(new Error("recaptcha Enterprise site key undefined"))}).catch(pe=>{te(pe)})});return function(H,te){return F.apply(this,arguments)}}())}),p.apply(this,arguments)}function _(E,F,H){const te=window.grecaptcha;tr(te)?te.enterprise.ready(()=>{te.enterprise.execute(E,{action:e}).then(pe=>{F(pe)}).catch(()=>{F("NO_RECAPTCHA")})}):H(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((E,F)=>{(function c(E){return p.apply(this,arguments)})(i.auth).then(H=>{if(!t&&tr(window.grecaptcha))_(H,E,F);else{if(typeof window>"u")return void F(new Error("RecaptchaVerifier is only supported in browser"));(function No(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=c=>{const p=ve("internal-error");p.customData=c,t(p)},i.type="text/javascript",i.charset="UTF-8",function ho(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(i)})})("https://www.google.com/recaptcha/enterprise.js?render="+H).then(()=>{_(H,E,F)}).catch(te=>{F(te)})}}).catch(H=>{F(H)})})})()}}class Es{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=p=>new Promise((_,E)=>{try{_(e(p))}catch(F){E(F)}});i.onAbort=t,this.queue.push(i);const c=this.queue.length-1;return()=>{this.queue[c]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return(0,de.Z)(function*(){if(t.auth.currentUser===e)return;const i=[];try{for(const c of t.queue)yield c(e),c.onAbort&&i.push(c.onAbort)}catch(c){i.reverse();for(const p of i)try{p()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:c?.message})}})()}}class uc{constructor(e,t,i,c){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=c,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ma(this),this.idTokenSubscription=new Ma(this),this.beforeStateQueue=new Es(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=c.sdkClientVersion}_initializeWithPersistence(e,t){var i=this;return t&&(this._popupRedirectResolver=K(t)),this._initializationPromise=this.queue((0,de.Z)(function*(){var c,p;if(!i._deleted&&(i.persistenceManager=yield $.create(i,e),!i._deleted)){if(null!==(c=i._popupRedirectResolver)&&void 0!==c&&c._shouldInitProactively)try{yield i._popupRedirectResolver._initialize(i)}catch{}yield i.initializeCurrentUser(t),i.lastNotifiedUid=(null===(p=i.currentUser)||void 0===p?void 0:p.uid)||null,!i._deleted&&(i._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,de.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return(0,de.Z)(function*(){var i;const c=yield t.assertedPersistence.getCurrentUser();let p=c,_=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const E=null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId,F=p?._redirectEventId,H=yield t.tryRedirectSignIn(e);(!E||E===F)&&H?.user&&(p=H.user,_=!0)}if(!p)return t.directlySetCurrentUser(null);if(!p._redirectEventId){if(_)try{yield t.beforeStateQueue.runMiddleware(p)}catch(E){p=c,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(E))}return p?t.reloadAndSetCurrentUserOrClear(p):t.directlySetCurrentUser(null)}return dt(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===p._redirectEventId?t.directlySetCurrentUser(p):t.reloadAndSetCurrentUserOrClear(p)})()}tryRedirectSignIn(e){var t=this;return(0,de.Z)(function*(){let i=null;try{i=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return i})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,de.Z)(function*(){try{yield hi(e)}catch(i){if("auth/network-request-failed"!==i?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function $e(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return(0,de.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,de.Z)(function*(){const i=e?(0,fe.m9)(e):null;return i&&dt(i.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(i&&i._clone(t))})()}_updateCurrentUser(e,t=!1){var i=this;return(0,de.Z)(function*(){if(!i._deleted)return e&&dt(i.tenantId===e.tenantId,i,"tenant-id-mismatch"),t||(yield i.beforeStateQueue.runMiddleware(e)),i.queue((0,de.Z)(function*(){yield i.directlySetCurrentUser(e),i.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,de.Z)(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue((0,de.Z)(function*(){yield t.assertedPersistence.setPersistence(K(e))}))}initializeRecaptchaConfig(){var e=this;return(0,de.Z)(function*(){const t=yield uo(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),i=new zs(t);null==e.tenantId?e._agentRecaptchaConfig=i:e._tenantRecaptchaConfigs[e.tenantId]=i,i.emailPasswordEnabled&&new qs(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new fe.LL("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var i=this;return(0,de.Z)(function*(){const c=yield i.getOrInitRedirectPersistenceManager(t);return null===e?c.removeCurrentUser():c.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,de.Z)(function*(){if(!t.redirectPersistenceManager){const i=e&&K(e)||t._popupRedirectResolver;dt(i,t,"argument-error"),t.redirectPersistenceManager=yield $.create(t,[K(i._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,de.Z)(function*(){var i,c;return t._isInitialized&&(yield t.queue((0,de.Z)(function*(){}))),(null===(i=t._currentUser)||void 0===i?void 0:i._redirectEventId)===e?t._currentUser:(null===(c=t.redirectUser)||void 0===c?void 0:c._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,de.Z)(function*(){if(e===t.currentUser)return t.queue((0,de.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,c){if(this._deleted)return()=>{};const p="function"==typeof t?t:t.next.bind(t),_=this._isInitialized?Promise.resolve():this._initializationPromise;return dt(_,this,"internal-error"),_.then(()=>p(this.currentUser)),"function"==typeof t?e.addObserver(t,i,c):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return(0,de.Z)(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return dt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Oa(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,de.Z)(function*(){var t;const i={"X-Client-Version":e.clientVersion};e.app.options.appId&&(i["X-Firebase-gmpid"]=e.app.options.appId);const c=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();c&&(i["X-Firebase-Client"]=c);const p=yield e._getAppCheckToken();return p&&(i["X-Firebase-AppCheck"]=p),i})()}_getAppCheckToken(){var e=this;return(0,de.Z)(function*(){var t;const i=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return i?.error&&function vt(n,...e){ot.logLevel<=Ee.in.WARN&&ot.warn(`Auth (${Oe.Jn}): ${n}`,...e)}(`Error while retrieving App Check token: ${i.error}`),i?.token})()}}function bi(n){return(0,fe.m9)(n)}class Ma{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,fe.ne)(t=>this.observer=t)}get next(){return dt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function la(n){return`__${n}${Math.floor(1e6*Math.random())}`})("rcb"),new Je(3e4,6e4),new Je(2e3,1e4),new Je(3e4,6e4),new Je(5e3,15e3),encodeURIComponent("fac");var wg="@firebase/auth";class Io{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,de.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){dt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,fe.Pz)("authIdTokenMaxAge"),function ws(n){(0,Oe.Xd)(new re.wA("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),c=e.getProvider("heartbeat"),p=e.getProvider("app-check-internal"),{apiKey:_,authDomain:E}=i.options;dt(_&&!_.includes(":"),"invalid-api-key",{appName:i.name});const F={apiKey:_,authDomain:E,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Oa(n)},H=new uc(i,c,p,F);return function Ko(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(K);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}(H,t),H},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),(0,Oe.Xd)(new re.wA("auth-internal",e=>{const t=bi(e.getProvider("auth").getImmediate());return new Io(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Oe.KN)(wg,"0.23.2",function ba(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),(0,Oe.KN)(wg,"0.23.2","esm2017")}("Browser");class Tg{constructor(){return(0,w.vb)("auth")}}const Ng=new Map,Vh={activated:!1,tokenObservers:[]},ib={initialized:!1,enabled:!1};function ns(n){return Ng.get(n)||Object.assign({},Vh)}function Uh(){return ib}const Hl="https://content-firebaseappcheck.googleapis.com/v1",ud="exchangeDebugToken",T_={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class sb{constructor(e,t,i,c,p){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=c,this.upperBound=p,this.pending=null,this.nextErrorWaitInterval=c,c>p)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,de.Z)(function*(){t.stop();try{t.pending=new fe.BH,yield function Oi(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new fe.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ro=new fe.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Hh(n){if(!ns(n).activated)throw ro.create("use-before-activation",{appName:n.name})}function Jd(n,e){return Xd.apply(this,arguments)}function Xd(){return(Xd=(0,de.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},c=t.getImmediate({optional:!0});if(c){const pe=yield c.getHeartbeatsHeader();pe&&(i["X-Firebase-Client"]=pe)}const p={method:"POST",body:JSON.stringify(e),headers:i};let _,E;try{_=yield fetch(n,p)}catch(pe){throw ro.create("fetch-network-error",{originalErrorMessage:pe?.message})}if(200!==_.status)throw ro.create("fetch-status-error",{httpStatus:_.status});try{E=yield _.json()}catch(pe){throw ro.create("fetch-parse-error",{originalErrorMessage:pe?.message})}const F=E.ttl.match(/^([\d.]+)(s)$/);if(!F||!F[2]||isNaN(Number(F[1])))throw ro.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${E.ttl}`});const H=1e3*Number(F[1]),te=Date.now();return{token:E.token,expireTimeMillis:te+H,issuedAtTimeMillis:te}})).apply(this,arguments)}function Iv(n,e){const{projectId:t,appId:i,apiKey:c}=n.options;return{url:`${Hl}/projects/${t}/apps/${i}:${ud}?key=${c}`,body:{debug_token:e}}}const ab="firebase-app-check-database",D_=1,eh="firebase-app-check-store";let Gl=null;function S_(){return(S_=(0,de.Z)(function*(n,e){const i=(yield function ip(){return Gl||(Gl=new Promise((n,e)=>{try{const t=indexedDB.open(ab,D_);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var c;e(ro.create("storage-open",{originalErrorMessage:null===(c=i.target.error)||void 0===c?void 0:c.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(eh,{keyPath:"compositeKey"})}}catch(t){e(ro.create("storage-open",{originalErrorMessage:t?.message}))}}),Gl)}()).transaction(eh,"readwrite"),p=i.objectStore(eh).put({compositeKey:n,value:e});return new Promise((_,E)=>{p.onsuccess=F=>{_()},i.onerror=F=>{var H;E(ro.create("storage-set",{originalErrorMessage:null===(H=F.target.error)||void 0===H?void 0:H.message}))}})})).apply(this,arguments)}const th=new Ee.Yd("@firebase/app-check");function $h(n,e){return(0,fe.hl)()?function C_(n,e){return function Ev(n,e){return S_.apply(this,arguments)}(function Cv(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{th.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function zh(){return Uh().enabled}function Pg(){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,de.Z)(function*(){const n=Uh();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const ub={error:"UNKNOWN_ERROR"};function qI(n){return fe.US.encodeString(JSON.stringify(n),!1)}function Av(n){return op.apply(this,arguments)}function op(){return(op=(0,de.Z)(function*(n,e=!1){const t=n.app;Hh(t);const i=ns(t);let p,c=i.token;if(c&&!Du(c)&&(i.token=void 0,c=void 0),!c){const F=yield i.cachedTokenPromise;F&&(Du(F)?c=F:yield $h(t,void 0))}if(!e&&c&&Du(c))return{token:c.token};let E,_=!1;if(zh()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Jd(Iv(t,yield Pg()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),_=!0);const F=yield i.exchangeTokenPromise;return yield $h(t,F),i.token=F,{token:F.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),_=!0),c=yield ns(t).exchangeTokenPromise}catch(F){"appCheck/throttled"===F.code?th.warn(F.message):th.error(F),p=F}return c?p?E=Du(c)?{token:c.token,internalError:p}:P_(p):(E={token:c.token},i.token=c,yield $h(t,c)):E=P_(p),_&&function kg(n,e){const t=ns(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}(t,E),E})).apply(this,arguments)}function db(n){return O_.apply(this,arguments)}function O_(){return(O_=(0,de.Z)(function*(n){const e=n.app;Hh(e);const{provider:t}=ns(e);if(zh()){const i=yield Pg(),{token:c}=yield Jd(Iv(e,i),n.heartbeatServiceProvider);return{token:c}}{const{token:i}=yield t.getToken();return{token:i}}})).apply(this,arguments)}function x_(n,e){const t=ns(n),i=t.tokenObservers.filter(c=>c.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function R_(n){const{app:e}=n,t=ns(e);let i=t.tokenRefresher;i||(i=function hb(n){const{app:e}=n;return new sb((0,de.Z)(function*(){let i;if(i=ns(e).token?yield Av(n,!0):yield Av(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=ns(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},T_.RETRIAL_MIN_WAIT,T_.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function Du(n){return n.expireTimeMillis-Date.now()>0}function P_(n){return{token:qI(ub),error:n}}class Nv{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=ns(this.app);for(const t of e)x_(this.app,t.next);return Promise.resolve()}}const fp="app-check-internal";!function nh(){(0,Oe.Xd)(new re.wA("app-check",n=>function k_(n,e){return new Nv(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(fp).initialize()})),(0,Oe.Xd)(new re.wA(fp,n=>function fb(n){return{getToken:e=>Av(n,e),getLimitedUseToken:()=>db(n),addTokenListener:e=>function M_(n,e,t,i){const{app:c}=n,p=ns(c);if(p.tokenObservers=[...p.tokenObservers,{next:t,error:i,type:e}],p.token&&Du(p.token)){const E=p.token;Promise.resolve().then(()=>{t({token:E.token}),R_(n)}).catch(()=>{})}p.cachedTokenPromise.then(()=>R_(n))}(n,"INTERNAL",e),removeTokenListener:e=>x_(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Oe.KN)("@firebase/app-check","0.8.0")}();class Su{constructor(){return(0,w.vb)("app-check")}}typeof window<"u"&&window;var tn,Lv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},bl={},U_=U_||{},Xn=Lv||self;function H_(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function $l(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var G_="closure_uid_"+(1e9*Math.random()>>>0),Zh=0;function gb(n,e,t){return n.call.apply(n.bind,arguments)}function mb(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,i),n.apply(e,c)}}return function(){return n.apply(e,arguments)}}function sa(n,e,t){return(sa=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?gb:mb).apply(null,arguments)}function Ug(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Vo(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,c,p){for(var _=Array(arguments.length-2),E=2;E<arguments.length;E++)_[E-2]=arguments[E];return e.prototype[c].apply(i,_)}}function Au(){this.s=this.s,this.o=this.o}Au.prototype.s=!1,Au.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Bv(n){Object.prototype.hasOwnProperty.call(n,G_)&&n[G_]||(n[G_]=++Zh)}(this)},Au.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const j_=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function gp(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function Vv(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(H_(i)){const c=n.length||0,p=i.length||0;n.length=c+p;for(let _=0;_<p;_++)n[c+_]=i[_]}else n.push(i)}}function Ms(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Ms.prototype.h=function(){this.defaultPrevented=!0};var _b=function(){if(!Xn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Xn.addEventListener("test",()=>{},e),Xn.removeEventListener("test",()=>{},e)}catch{}return n}();function Yh(n){return/^[\s\xa0]*$/.test(n)}function Qh(){var n=Xn.navigator;return n&&(n=n.userAgent)?n:""}function Tc(n){return-1!=Qh().indexOf(n)}function $_(n){return $_[" "](n),n}$_[" "]=function(){};var Hg,n,yb=Tc("Opera"),zl=Tc("Trident")||Tc("MSIE"),hd=Tc("Edge"),mp=hd||zl,vb=Tc("Gecko")&&!(-1!=Qh().toLowerCase().indexOf("webkit")&&!Tc("Edge"))&&!(Tc("Trident")||Tc("MSIE"))&&!Tc("Edge"),_p=-1!=Qh().toLowerCase().indexOf("webkit")&&!Tc("Edge");function Jh(){var n=Xn.document;return n?n.documentMode:void 0}e:{var Xh="",Gg=(n=Qh(),vb?/rv:([^\);]+)(\)|;)/.exec(n):hd?/Edge\/([\d\.]+)/.exec(n):zl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):_p?/WebKit\/(\S+)/.exec(n):yb?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Gg&&(Xh=Gg?Gg[1]:""),zl){var z_=Jh();if(null!=z_&&z_>parseFloat(Xh)){Hg=String(z_);break e}}Hg=Xh}var q_=Xn.document&&zl&&(Jh()||parseInt(Hg,10))||void 0;function Nu(n,e){if(Ms.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(vb){e:{try{$_(e.nodeName);var c=!0;break e}catch{}c=!1}c||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:bb[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Nu.$.h.call(this)}}Vo(Nu,Ms);var bb={2:"touch",3:"pen",4:"mouse"};Nu.prototype.h=function(){Nu.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var fd="closure_listenable_"+(1e6*Math.random()|0),Hv=0;function $g(n,e,t,i,c){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=c,this.key=++Hv,this.fa=this.ia=!1}function ef(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Z_(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function K_(n){const e={};for(const t in n)e[t]=n[t];return e}const zg="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yp(n,e){let t,i;for(let c=1;c<arguments.length;c++){for(t in i=arguments[c],i)n[t]=i[t];for(let p=0;p<zg.length;p++)t=zg[p],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function Y_(n){this.src=n,this.g={},this.h=0}function Wg(n,e){var t=e.type;if(t in n.g){var p,i=n.g[t],c=j_(i,e);(p=0<=c)&&Array.prototype.splice.call(i,c,1),p&&(ef(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function vp(n,e,t,i){for(var c=0;c<n.length;++c){var p=n[c];if(!p.fa&&p.listener==e&&p.capture==!!t&&p.la==i)return c}return-1}Y_.prototype.add=function(n,e,t,i,c){var p=n.toString();(n=this.g[p])||(n=this.g[p]=[],this.h++);var _=vp(n,e,i,c);return-1<_?(e=n[_],t||(e.ia=!1)):((e=new $g(e,this.src,p,!!i,c)).ia=t,n.push(e)),e};var wl="closure_lm_"+(1e6*Math.random()|0),ih={};function bp(n,e,t,i,c){if(i&&i.once)return qg(n,e,t,i,c);if(Array.isArray(e)){for(var p=0;p<e.length;p++)bp(n,e[p],t,i,c);return null}return t=jv(t),n&&n[fd]?n.O(e,t,$l(i)?!!i.capture:!!i,c):wb(n,e,t,!1,i,c)}function wb(n,e,t,i,c,p){if(!e)throw Error("Invalid event type");var _=$l(c)?!!c.capture:!!c,E=wp(n);if(E||(n[wl]=E=new Y_(n)),(t=E.add(e,t,i,_,p)).proxy)return t;if(i=function tT(){const e=Ib;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)_b||(c=_),void 0===c&&(c=!1),n.addEventListener(e.toString(),i,c);else if(n.attachEvent)n.attachEvent(Q_(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function qg(n,e,t,i,c){if(Array.isArray(e)){for(var p=0;p<e.length;p++)qg(n,e[p],t,i,c);return null}return t=jv(t),n&&n[fd]?n.P(e,t,$l(i)?!!i.capture:!!i,c):wb(n,e,t,!0,i,c)}function nf(n,e,t,i,c){if(Array.isArray(e))for(var p=0;p<e.length;p++)nf(n,e[p],t,i,c);else i=$l(i)?!!i.capture:!!i,t=jv(t),n&&n[fd]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=vp(p=n.g[e],t,i,c))&&(ef(p[t]),Array.prototype.splice.call(p,t,1),0==p.length&&(delete n.g[e],n.h--))):n&&(n=wp(n))&&(e=n.g[e.toString()],n=-1,e&&(n=vp(e,t,i,c)),(t=-1<n?e[n]:null)&&Gv(t))}function Gv(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[fd])Wg(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(Q_(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=wp(e))?(Wg(t,n),0==t.h&&(t.src=null,e[wl]=null)):ef(n)}}}function Q_(n){return n in ih?ih[n]:ih[n]="on"+n}function Ib(n,e){if(n.fa)n=!0;else{e=new Nu(e,this);var t=n.listener,i=n.la||n.src;n.ia&&Gv(n),n=t.call(i,e)}return n}function wp(n){return(n=n[wl])instanceof Y_?n:null}var J_="__closure_events_fn_"+(1e9*Math.random()>>>0);function jv(n){return"function"==typeof n?n:(n[J_]||(n[J_]=function(e){return n.handleEvent(e)}),n[J_])}function Uo(){Au.call(this),this.i=new Y_(this),this.S=this,this.J=null}function Ho(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new Ms(e,n);else if(e instanceof Ms)e.target=e.target||n;else{var c=e;yp(e=new Ms(i,n),c)}if(c=!0,t)for(var p=t.length-1;0<=p;p--){var _=e.g=t[p];c=$v(_,i,!0,e)&&c}if(c=$v(_=e.g=n,i,!0,e)&&c,c=$v(_,i,!1,e)&&c,t)for(p=0;p<t.length;p++)c=$v(_=e.g=t[p],i,!1,e)&&c}function $v(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var c=!0,p=0;p<e.length;++p){var _=e[p];if(_&&!_.fa&&_.capture==t){var E=_.listener,F=_.la||_.src;_.ia&&Wg(n.i,_),c=!1!==E.call(F,i)&&c}}return c&&!i.defaultPrevented}Vo(Uo,Au),Uo.prototype[fd]=!0,Uo.prototype.removeEventListener=function(n,e,t,i){nf(this,n,e,t,i)},Uo.prototype.N=function(){if(Uo.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)ef(t[i]);delete n.g[e],n.h--}}this.J=null},Uo.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Uo.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var zv=Xn.JSON.stringify;function rT(){var n=Zg;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var iT=new class nT{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new X_,n=>n.reset());class X_{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function sT(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function Wv(n){Xn.setTimeout(()=>{throw n},0)}let sh,Ou=!1,Zg=new class Tb{constructor(){this.h=this.g=null}add(e,t){const i=iT.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},Kg=()=>{const n=Xn.Promise.resolve(void 0);sh=()=>{n.then(Yg)}};var Yg=()=>{for(var n;n=rT();){try{n.h.call(n.g)}catch(t){Wv(t)}var e=iT;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Ou=!1};function rf(n,e){Uo.call(this),this.h=n||1,this.g=e||Xn,this.j=sa(this.qb,this),this.l=Date.now()}function Mu(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Qg(n,e,t){if("function"==typeof n)t&&(n=sa(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=sa(n.handleEvent,n)}return 2147483647<Number(e)?-1:Xn.setTimeout(n,e||0)}function ey(n){n.g=Qg(()=>{n.g=null,n.i&&(n.i=!1,ey(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Vo(rf,Uo),(tn=rf.prototype).ga=!1,tn.T=null,tn.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ho(this,"tick"),this.ga&&(Mu(this),this.start()))}},tn.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},tn.N=function(){rf.$.N.call(this),Mu(this),delete this.g};class ty extends Au{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ey(this)}N(){super.N(),this.g&&(Xn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ny(n){Au.call(this),this.h=n,this.g={}}Vo(ny,Au);var ry=[];function oh(n,e,t,i){Array.isArray(t)||(t&&(ry[0]=t.toString()),t=ry);for(var c=0;c<t.length;c++){var p=bp(e,t[c],i||n.handleEvent,!1,n.h||n);if(!p)break;n.g[p.key]=p}}function Eb(n){Z_(n.g,function(e,t){this.g.hasOwnProperty(t)&&Gv(e)},n),n.g={}}function Jg(){this.g=!0}function xu(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function cT(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var c=i[1];if(Array.isArray(c)&&!(1>c.length)){var p=c[0];if("noop"!=p&&"stop"!=p&&"close"!=p)for(var _=1;_<c.length;_++)c[_]=""}}}return zv(t)}catch{return e}}(n,t)+(i?" "+i:"")})}ny.prototype.N=function(){ny.$.N.call(this),Eb(this)},ny.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Jg.prototype.Ea=function(){this.g=!1},Jg.prototype.info=function(){};var sf={},lT=null;function Xg(){return lT=lT||new Uo}function em(n){Ms.call(this,sf.Ta,n)}function af(n){const e=Xg();Ho(e,new em(e))}function Cb(n,e){Ms.call(this,sf.STAT_EVENT,n),this.stat=e}function $a(n){const e=Xg();Ho(e,new Cb(e,n))}function Ip(n,e){Ms.call(this,sf.Ua,n),this.size=e}function ah(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Xn.setTimeout(function(){n()},e)}sf.Ta="serverreachability",Vo(em,Ms),sf.STAT_EVENT="statevent",Vo(Cb,Ms),sf.Ua="timingevent",Vo(Ip,Ms);var iy={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},sy={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function qv(){}function uT(){}qv.prototype.h=null;var pd,tm={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Tp(){Ms.call(this,"d")}function nm(){Ms.call(this,"c")}function gd(){}function Ep(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new ny(this),this.P=Yv,this.V=new rf(n=mp?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Kv}function Kv(){this.i=null,this.g="",this.h=!1}Vo(Tp,Ms),Vo(nm,Ms),Vo(gd,qv),gd.prototype.g=function(){return new XMLHttpRequest},gd.prototype.i=function(){return{}},pd=new gd;var Yv=45e3,oy={},rm={};function im(n,e,t){n.L=1,n.v=lm(Wl(e)),n.s=t,n.S=!0,ay(n,null)}function ay(n,e){n.G=Date.now(),cf(n),n.A=Wl(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),Ap(t.i,"t",i),n.C=0,t=n.l.J,n.h=new Kv,n.g=by(n.l,t?e:null,!n.s),0<n.O&&(n.M=new ty(sa(n.Pa,n,n.g),n.O)),oh(n.U,n.g,"readystatechange",n.nb),e=n.I?K_(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),af(),function oT(n,e,t,i,c,p){n.info(function(){if(n.g)if(p)for(var _="",E=p.split("&"),F=0;F<E.length;F++){var H=E[F].split("=");if(1<H.length){var te=H[0];H=H[1];var pe=te.split("_");_=2<=pe.length&&"type"==pe[1]?_+(te+"=")+H+"&":_+(te+"=redacted&")}}else _=null;else _=p;return"XMLHTTP REQ ("+i+") [attempt "+c+"]: "+e+"\n"+t+"\n"+_})}(n.j,n.u,n.A,n.m,n.W,n.s)}function sm(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function Sb(n,e,t){let c,i=!0;for(;!n.J&&n.C<t.length;){if(c=om(n,t),c==rm){4==e&&(n.o=4,$a(14),i=!1),xu(n.j,n.m,null,"[Incomplete Response]");break}if(c==oy){n.o=4,$a(15),xu(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}xu(n.j,n.m,c,null),cm(n,c)}sm(n)&&c!=rm&&c!=oy&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,$a(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),gf(e),e.M=!0,$a(11))):(xu(n.j,n.m,t,"[Invalid Chunked Response]"),ch(n),Dp(n))}function om(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?rm:(t=Number(e.substring(t,i)),isNaN(t)?oy:(i+=1)+t>e.length?rm:(e=e.slice(i,i+t),n.C=i+t,e))}function cf(n){n.Y=Date.now()+n.P,Qv(n,n.P)}function Qv(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=ah(sa(n.lb,n),e)}function am(n){n.B&&(Xn.clearTimeout(n.B),n.B=null)}function Dp(n){0==n.l.H||n.J||o0(n.l,n)}function ch(n){am(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,Mu(n.V),Eb(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function cm(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||fy(t.i,n)))if(!n.K&&fy(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var c=i;if(0==c[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;xp(t),ff(t)}wa(t),$a(18)}}else t.Fa=c[1],0<t.Fa-t.V&&37500>c[2]&&t.G&&0==t.A&&!t.v&&(t.v=ah(sa(t.ib,t),6e3));if(1>=Np(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else mf(t,11)}else if((n.K||t.g==n)&&xp(t),!Yh(e))for(c=t.Ja.g.parse(e),e=0;e<c.length;e++){let H=c[e];if(t.V=H[0],H=H[1],2==t.H)if("c"==H[0]){t.K=H[1],t.pa=H[2];const te=H[3];null!=te&&(t.ra=te,t.l.info("VER="+t.ra));const pe=H[4];null!=pe&&(t.Ga=pe,t.l.info("SVER="+t.Ga));const Be=H[5];null!=Be&&"number"==typeof Be&&0<Be&&(t.L=i=1.5*Be,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const lt=n.g;if(lt){const Pt=lt.g?lt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pt){var p=i.i;p.g||-1==Pt.indexOf("spdy")&&-1==Pt.indexOf("quic")&&-1==Pt.indexOf("h2")||(p.j=p.l,p.g=new Set,p.h&&(Zl(p,p.h),p.h=null))}if(i.F){const sn=lt.g?lt.g.getResponseHeader("X-HTTP-Session-Id"):null;sn&&(i.Da=sn,Ti(i.I,i.F,sn))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var _=n;if((i=t).wa=Rp(i,i.J?i.pa:null,i.Y),_.K){md(i.i,_);var E=_,F=i.L;F&&E.setTimeout(F),E.B&&(am(E),cf(E)),i.g=_}else pf(i);0<t.j.length&&yd(t)}else"stop"!=H[0]&&"close"!=H[0]||mf(t,7);else 3==t.H&&("stop"==H[0]||"close"==H[0]?"stop"==H[0]?mf(t,7):hf(t):"noop"!=H[0]&&t.h&&t.h.Aa(H),t.A=0)}af()}catch{}}function Ob(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(H_(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Nb(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(H_(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function Ab(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(H_(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),c=i.length,p=0;p<c;p++)e.call(void 0,i[p],t&&t[p],n)}(tn=Ep.prototype).setTimeout=function(n){this.P=n},tn.nb=function(n){n=n.target;const e=this.M;e&&3==Ec(n)?e.l():this.Pa(n)},tn.Pa=function(n){try{if(n==this.g)e:{const te=Ec(this.g);var e=this.g.Ia();if(this.g.da(),!(3>te)&&(3!=te||mp||this.g&&(this.h.h||this.g.ja()||mm(this.g)))){this.J||4!=te||7==e||af(),am(this);var t=this.g.da();this.ca=t;t:if(sm(this)){var i=mm(this.g);n="";var c=i.length,p=4==Ec(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ch(this),Dp(this);var _="";break t}this.h.i=new Xn.TextDecoder}for(e=0;e<c;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:p&&e==c-1});i.splice(0,c),this.h.g+=n,this.C=0,_=this.h.g}else _=this.g.ja();if(this.i=200==t,function aT(n,e,t,i,c,p,_){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+c+"]: "+e+"\n"+t+"\n"+p+" "+_})}(this.j,this.u,this.A,this.m,this.W,te,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var E,F=this.g;if((E=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Yh(E)){var H=E;break t}}H=null}if(!(t=H)){this.i=!1,this.o=3,$a(12),ch(this),Dp(this);break e}xu(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cm(this,t)}this.S?(Sb(this,te,_),mp&&this.i&&3==te&&(oh(this.U,this.V,"tick",this.mb),this.V.start())):(xu(this.j,this.m,_,null),cm(this,_)),4==te&&ch(this),this.i&&!this.J&&(4==te?o0(this.l,this):(this.i=!1,cf(this)))}else(function Bu(n){const e={};n=(n.g&&2<=Ec(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(Yh(n[i]))continue;var t=sT(n[i]);const c=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const p=e[c]||[];e[c]=p,p.push(t)}!function tf(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<_.indexOf("Unknown SID")?(this.o=3,$a(12)):(this.o=0,$a(13)),ch(this),Dp(this)}}}catch{}},tn.mb=function(){if(this.g){var n=Ec(this.g),e=this.g.ja();this.C<e.length&&(am(this),Sb(this,n,e),this.i&&4!=n&&cf(this))}},tn.cancel=function(){this.J=!0,ch(this)},tn.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Db(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(af(),$a(17)),ch(this),this.o=2,Dp(this)):Qv(this,this.Y-n)};var cy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oa(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof oa){this.h=n.h,ly(this,n.j),this.s=n.s,this.g=n.g,lf(this,n.m),this.l=n.l;var e=n.i,t=new um;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Ru(this,t),this.o=n.o}else n&&(e=String(n).match(cy))?(this.h=!1,ly(this,e[1]||"",!0),this.s=Cp(e[2]||""),this.g=Cp(e[3]||"",!0),lf(this,e[4]),this.l=Cp(e[5]||"",!0),Ru(this,e[6]||"",!0),this.o=Cp(e[7]||"")):(this.h=!1,this.i=new um(null,this.h))}function Wl(n){return new oa(n)}function ly(n,e,t){n.j=t?Cp(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function lf(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Ru(n,e,t){e instanceof um?(n.i=e,function dm(n,e){e&&!n.j&&(ql(n),n.i=null,n.g.forEach(function(t,i){var c=i.toLowerCase();i!=c&&(e0(this,i),Ap(this,c,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Sp(e,dT)),n.i=new um(e,n.h))}function Ti(n,e,t){n.i.set(e,t)}function lm(n){return Ti(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Cp(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Sp(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,uy),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function uy(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}oa.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Sp(e,Il,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Sp(e,Il,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Sp(t,"/"==t.charAt(0)?Mb:Xv,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Sp(t,Go)),n.join("")};var Il=/[#\/\?@]/g,Xv=/[#\?:]/g,Mb=/[#\?]/g,dT=/[#\?@]/g,Go=/#/g;function um(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ql(n){n.g||(n.g=new Map,n.h=0,n.i&&function Jv(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),c=null;if(0<=i){var p=n[t].substring(0,i);c=n[t].substring(i+1)}else p=n[t];e(p,c?decodeURIComponent(c.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function e0(n,e){ql(n),e=ku(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function Pu(n,e){return ql(n),e=ku(n,e),n.g.has(e)}function Ap(n,e,t){e0(n,e),0<t.length&&(n.i=null,n.g.set(ku(n,e),gp(t)),n.h+=t.length)}function ku(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function za(n){this.l=n||hy,n=Xn.PerformanceNavigationTiming?0<(n=Xn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Xn.g&&Xn.g.Ka&&Xn.g.Ka()&&Xn.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(tn=um.prototype).add=function(n,e){ql(this),this.i=null,n=ku(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},tn.forEach=function(n,e){ql(this),this.g.forEach(function(t,i){t.forEach(function(c){n.call(e,c,i,this)},this)},this)},tn.ta=function(){ql(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const c=n[i];for(let p=0;p<c.length;p++)t.push(e[i])}return t},tn.Z=function(n){ql(this);let e=[];if("string"==typeof n)Pu(this,n)&&(e=e.concat(this.g.get(ku(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},tn.set=function(n,e){return ql(this),this.i=null,Pu(this,n=ku(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},tn.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},tn.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const p=encodeURIComponent(String(i)),_=this.Z(i);for(i=0;i<_.length;i++){var c=p;""!==_[i]&&(c+="="+encodeURIComponent(String(_[i]))),n.push(c)}}return this.i=n.join("&")};var hy=10;function t0(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Np(n){return n.h?1:n.g?n.g.size:0}function fy(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Zl(n,e){n.g?n.g.add(e):n.h=e}function md(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Kl(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return gp(n.i)}za.prototype.cancel=function(){if(this.i=Kl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var Op=class{stringify(n){return Xn.JSON.stringify(n,void 0)}parse(n){return Xn.JSON.parse(n,void 0)}};function xb(){this.g=new Op}function n0(n,e,t){const i=t||"";try{Ob(n,function(c,p){let _=c;$l(c)&&(_=zv(c)),e.push(i+p+"="+encodeURIComponent(_))})}catch(c){throw e.push(i+"type="+encodeURIComponent("_badmap")),c}}function hm(n,e,t,i,c){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,c(i)}catch{}}function _d(n){this.l=n.fc||null,this.j=n.ob||!1}function Yl(n,e){Uo.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=uf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Vo(_d,qv),_d.prototype.g=function(){return new Yl(this.l,this.j)},_d.prototype.i=function(n){return function(){return n}}({}),Vo(Yl,Uo);var uf=0;function fm(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function df(n){n.readyState=4,n.l=null,n.j=null,n.A=null,lh(n)}function lh(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(tn=Yl.prototype).open=function(n,e){if(this.readyState!=uf)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,lh(this)},tn.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Xn).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},tn.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,df(this)),this.readyState=uf},tn.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,lh(this)),this.g&&(this.readyState=3,lh(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Xn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;fm(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},tn.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?df(this):lh(this),3==this.readyState&&fm(this)}},tn.Za=function(n){this.g&&(this.response=this.responseText=n,df(this))},tn.Ya=function(n){this.g&&(this.response=n,df(this))},tn.ka=function(){this.g&&df(this)},tn.setRequestHeader=function(n,e){this.v.append(n,e)},tn.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},tn.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Yl.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var pm=Xn.JSON.parse;function rs(n){Uo.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Mp,this.L=this.M=!1}Vo(rs,Uo);var Mp="",gy=/^https?$/i,r0=["POST","PUT"];function my(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,gm(n),Lu(n)}function gm(n){n.F||(n.F=!0,Ho(n,"complete"),Ho(n,"error"))}function _y(n){if(n.h&&typeof U_<"u"&&(!n.C[1]||4!=Ec(n)||2!=n.da()))if(n.v&&4==Ec(n))Qg(n.La,0,n);else if(Ho(n,"readystatechange"),4==Ec(n)){n.h=!1;try{const _=n.da();e:switch(_){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===_){var c=String(n.I).match(cy)[1]||null;!c&&Xn.self&&Xn.self.location&&(c=Xn.self.location.protocol.slice(0,-1)),i=!gy.test(c?c.toLowerCase():"")}t=i}if(t)Ho(n,"complete"),Ho(n,"success");else{n.m=6;try{var p=2<Ec(n)?n.g.statusText:""}catch{p=""}n.j=p+" ["+n.da()+"]",gm(n)}}finally{Lu(n)}}}function Lu(n,e){if(n.g){s0(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Ho(n,"ready");try{t.onreadystatechange=i}catch{}}}function s0(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Xn.clearTimeout(n.A),n.A=null)}function Ec(n){return n.g?n.g.readyState:0}function mm(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case Mp:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Tl(n){let e="";return Z_(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function Ql(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=Tl(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Ti(n,e,t))}function Jl(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function ar(n){this.Ga=0,this.j=[],this.l=new Jg,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Jl("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Jl("baseRetryDelayMs",5e3,n),this.hb=Jl("retryDelaySeedMs",1e4,n),this.eb=Jl("forwardChannelMaxRetries",2,n),this.xa=Jl("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new za(n&&n.concurrentRequestLimit),this.Ja=new xb,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function hf(n){if(El(n),3==n.H){var e=n.W++,t=Wl(n.I);if(Ti(t,"SID",n.K),Ti(t,"RID",e),Ti(t,"TYPE","terminate"),Vu(n,t),(e=new Ep(n,n.l,e)).L=2,e.v=lm(Wl(t)),t=!1,Xn.navigator&&Xn.navigator.sendBeacon)try{t=Xn.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Xn.Image&&((new Image).src=e.v,t=!0),t||(e.g=by(e.l,null),e.g.ha(e.v)),e.G=Date.now(),cf(e)}Pb(n)}function ff(n){n.g&&(gf(n),n.g.cancel(),n.g=null)}function El(n){ff(n),n.u&&(Xn.clearTimeout(n.u),n.u=null),xp(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Xn.clearTimeout(n.m),n.m=null)}function yd(n){if(!t0(n.i)&&!n.m){n.m=!0;var e=n.Na;sh||Kg(),Ou||(sh(),Ou=!0),Zg.add(e,n),n.C=0}}function uh(n,e){var t;t=e?e.m:n.W++;const i=Wl(n.I);Ti(i,"SID",n.K),Ti(i,"RID",t),Ti(i,"AID",n.V),Vu(n,i),n.o&&n.s&&Ql(i,n.o,n.s),t=new Ep(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=_m(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),Zl(n.i,t),im(t,i,e)}function Vu(n,e){n.na&&Z_(n.na,function(t,i){Ti(e,i,t)}),n.h&&Ob({},function(t,i){Ti(e,i,t)})}function _m(n,e,t){t=Math.min(n.j.length,t);var i=n.h?sa(n.h.Va,n.h,n):null;e:{var c=n.j;let p=-1;for(;;){const _=["count="+t];-1==p?0<t?(p=c[0].g,_.push("ofs="+p)):p=0:_.push("ofs="+p);let E=!0;for(let F=0;F<t;F++){let H=c[F].g;const te=c[F].map;if(H-=p,0>H)p=Math.max(0,c[F].g-100),E=!1;else try{n0(te,_,"req"+H+"_")}catch{i&&i(te)}}if(E){i=_.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function pf(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;sh||Kg(),Ou||(sh(),Ou=!0),Zg.add(e,n),n.A=0}}function wa(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=ah(sa(n.Ma,n),vy(n,n.A)),n.A++,0))}function gf(n){null!=n.B&&(Xn.clearTimeout(n.B),n.B=null)}function yy(n){n.g=new Ep(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Wl(n.wa);Ti(e,"RID","rpc"),Ti(e,"SID",n.K),Ti(e,"AID",n.V),Ti(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Ti(e,"TO",n.qa),Ti(e,"TYPE","xmlhttp"),Vu(n,e),n.o&&n.s&&Ql(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=lm(Wl(e)),t.s=null,t.S=!0,ay(t,n)}function xp(n){null!=n.v&&(Xn.clearTimeout(n.v),n.v=null)}function o0(n,e){var t=null;if(n.g==e){xp(n),gf(n),n.g=null;var i=2}else{if(!fy(n.i,e))return;t=e.F,md(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var c=n.C;Ho(i=Xg(),new Ip(i,t)),yd(n)}else pf(n);else if(3==(c=e.o)||0==c&&0<e.ca||!(1==i&&function Rb(n,e){return!(Np(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=ah(sa(n.Na,n,e),vy(n,n.C)),n.C++,0)))}(n,e)||2==i&&wa(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),c){case 1:mf(n,5);break;case 4:mf(n,10);break;case 3:mf(n,6);break;default:mf(n,2)}}function vy(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function mf(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=sa(n.pb,n);t||(t=new oa("//www.google.com/images/cleardot.gif"),Xn.location&&"http"==Xn.location.protocol||ly(t,"https"),lm(t)),function py(n,e){const t=new Jg;if(Xn.Image){const i=new Image;i.onload=Ug(hm,t,i,"TestLoadImage: loaded",!0,e),i.onerror=Ug(hm,t,i,"TestLoadImage: error",!1,e),i.onabort=Ug(hm,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=Ug(hm,t,i,"TestLoadImage: timeout",!1,e),Xn.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else $a(2);n.H=0,n.h&&n.h.za(e),Pb(n),El(n)}function Pb(n){if(n.H=0,n.ma=[],n.h){const e=Kl(n.i);(0!=e.length||0!=n.j.length)&&(Vv(n.ma,e),Vv(n.ma,n.j),n.i.i.length=0,gp(n.j),n.j.length=0),n.h.ya()}}function Rp(n,e,t){var i=t instanceof oa?Wl(t):new oa(t);if(""!=i.g)e&&(i.g=e+"."+i.g),lf(i,i.m);else{var c=Xn.location;i=c.protocol,e=e?e+"."+c.hostname:c.hostname,c=+c.port;var p=new oa(null);i&&ly(p,i),e&&(p.g=e),c&&lf(p,c),t&&(p.l=t),i=p}return e=n.Da,(t=n.F)&&e&&Ti(i,t,e),Ti(i,"VER",n.ra),Vu(n,i),i}function by(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new rs(t&&n.Ha&&!n.va?new _d({ob:!0}):n.va)).Oa(n.J),e}function a0(){}function ym(){if(zl&&!(10<=Number(q_)))throw Error("Environmental error: no available transport.")}function Ia(n,e){Uo.call(this),this.g=new ar(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Yh(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Yh(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new vd(this)}function Pp(n){Tp.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function vm(){nm.call(this),this.status=1}function vd(n){this.g=n}function Dc(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Ta(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var c=0;16>c;++c)i[c]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(c=0;16>c;++c)i[c]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var p=n.g[3],_=(e=n.g[0])+(p^(t=n.g[1])&((c=n.g[2])^p))+i[0]+3614090360&4294967295;_=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=(t=(c=(p=(e=t+(_<<7&4294967295|_>>>25))+((_=p+(c^e&(t^c))+i[1]+3905402710&4294967295)<<12&4294967295|_>>>20))+((_=c+(t^p&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|_>>>15))+((_=t+(e^c&(p^e))+i[3]+3250441966&4294967295)<<22&4294967295|_>>>10))+((_=e+(p^t&(c^p))+i[4]+4118548399&4294967295)<<7&4294967295|_>>>25))+((_=p+(c^e&(t^c))+i[5]+1200080426&4294967295)<<12&4294967295|_>>>20))+((_=c+(t^p&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|_>>>15))+((_=t+(e^c&(p^e))+i[7]+4249261313&4294967295)<<22&4294967295|_>>>10))+((_=e+(p^t&(c^p))+i[8]+1770035416&4294967295)<<7&4294967295|_>>>25))+((_=p+(c^e&(t^c))+i[9]+2336552879&4294967295)<<12&4294967295|_>>>20))+((_=c+(t^p&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|_>>>15))+((_=t+(e^c&(p^e))+i[11]+2304563134&4294967295)<<22&4294967295|_>>>10))+((_=e+(p^t&(c^p))+i[12]+1804603682&4294967295)<<7&4294967295|_>>>25))+((_=p+(c^e&(t^c))+i[13]+4254626195&4294967295)<<12&4294967295|_>>>20))+((_=c+(t^p&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|_>>>15))+((_=t+(e^c&(p^e))+i[15]+1236535329&4294967295)<<22&4294967295|_>>>10))+((_=e+(c^p&(t^c))+i[1]+4129170786&4294967295)<<5&4294967295|_>>>27))+((_=p+(t^c&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|_>>>23))+((_=c+(e^t&(p^e))+i[11]+643717713&4294967295)<<14&4294967295|_>>>18))+((_=t+(p^e&(c^p))+i[0]+3921069994&4294967295)<<20&4294967295|_>>>12))+((_=e+(c^p&(t^c))+i[5]+3593408605&4294967295)<<5&4294967295|_>>>27))+((_=p+(t^c&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|_>>>23))+((_=c+(e^t&(p^e))+i[15]+3634488961&4294967295)<<14&4294967295|_>>>18))+((_=t+(p^e&(c^p))+i[4]+3889429448&4294967295)<<20&4294967295|_>>>12))+((_=e+(c^p&(t^c))+i[9]+568446438&4294967295)<<5&4294967295|_>>>27))+((_=p+(t^c&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|_>>>23))+((_=c+(e^t&(p^e))+i[3]+4107603335&4294967295)<<14&4294967295|_>>>18))+((_=t+(p^e&(c^p))+i[8]+1163531501&4294967295)<<20&4294967295|_>>>12))+((_=e+(c^p&(t^c))+i[13]+2850285829&4294967295)<<5&4294967295|_>>>27))+((_=p+(t^c&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|_>>>23))+((_=c+(e^t&(p^e))+i[7]+1735328473&4294967295)<<14&4294967295|_>>>18))+((_=t+(p^e&(c^p))+i[12]+2368359562&4294967295)<<20&4294967295|_>>>12))+((_=e+(t^c^p)+i[5]+4294588738&4294967295)<<4&4294967295|_>>>28))+((_=p+(e^t^c)+i[8]+2272392833&4294967295)<<11&4294967295|_>>>21))+((_=c+(p^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|_>>>16))+((_=t+(c^p^e)+i[14]+4259657740&4294967295)<<23&4294967295|_>>>9))+((_=e+(t^c^p)+i[1]+2763975236&4294967295)<<4&4294967295|_>>>28))+((_=p+(e^t^c)+i[4]+1272893353&4294967295)<<11&4294967295|_>>>21))+((_=c+(p^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|_>>>16))+((_=t+(c^p^e)+i[10]+3200236656&4294967295)<<23&4294967295|_>>>9))+((_=e+(t^c^p)+i[13]+681279174&4294967295)<<4&4294967295|_>>>28))+((_=p+(e^t^c)+i[0]+3936430074&4294967295)<<11&4294967295|_>>>21))+((_=c+(p^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|_>>>16))+((_=t+(c^p^e)+i[6]+76029189&4294967295)<<23&4294967295|_>>>9))+((_=e+(t^c^p)+i[9]+3654602809&4294967295)<<4&4294967295|_>>>28))+((_=p+(e^t^c)+i[12]+3873151461&4294967295)<<11&4294967295|_>>>21))+((_=c+(p^e^t)+i[15]+530742520&4294967295)<<16&4294967295|_>>>16))+((_=t+(c^p^e)+i[2]+3299628645&4294967295)<<23&4294967295|_>>>9))+((_=e+(c^(t|~p))+i[0]+4096336452&4294967295)<<6&4294967295|_>>>26))+((_=p+(t^(e|~c))+i[7]+1126891415&4294967295)<<10&4294967295|_>>>22))+((_=c+(e^(p|~t))+i[14]+2878612391&4294967295)<<15&4294967295|_>>>17))+((_=t+(p^(c|~e))+i[5]+4237533241&4294967295)<<21&4294967295|_>>>11))+((_=e+(c^(t|~p))+i[12]+1700485571&4294967295)<<6&4294967295|_>>>26))+((_=p+(t^(e|~c))+i[3]+2399980690&4294967295)<<10&4294967295|_>>>22))+((_=c+(e^(p|~t))+i[10]+4293915773&4294967295)<<15&4294967295|_>>>17))+((_=t+(p^(c|~e))+i[1]+2240044497&4294967295)<<21&4294967295|_>>>11))+((_=e+(c^(t|~p))+i[8]+1873313359&4294967295)<<6&4294967295|_>>>26))+((_=p+(t^(e|~c))+i[15]+4264355552&4294967295)<<10&4294967295|_>>>22))+((_=c+(e^(p|~t))+i[6]+2734768916&4294967295)<<15&4294967295|_>>>17))+((_=t+(p^(c|~e))+i[13]+1309151649&4294967295)<<21&4294967295|_>>>11))+((p=(e=t+((_=e+(c^(t|~p))+i[4]+4149444226&4294967295)<<6&4294967295|_>>>26))+((_=p+(t^(e|~c))+i[11]+3174756917&4294967295)<<10&4294967295|_>>>22))^((c=p+((_=c+(e^(p|~t))+i[2]+718787259&4294967295)<<15&4294967295|_>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(c+(_<<21&4294967295|_>>>11))&4294967295,n.g[2]=n.g[2]+c&4294967295,n.g[3]=n.g[3]+p&4294967295}function Ei(n,e){this.h=e;for(var t=[],i=!0,c=n.length-1;0<=c;c--){var p=0|n[c];i&&p==e||(t[c]=p,i=!1)}this.g=t}(tn=rs.prototype).Oa=function(n){this.M=n},tn.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():pd.g(),this.C=function Zv(n){return n.h||(n.h=n.i())}(this.u?this.u:pd),this.g.onreadystatechange=sa(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(p){return void my(this,p)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var c in i)t.set(c,i[c]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const p of i.keys())t.set(p,i.get(p))}i=Array.from(t.keys()).find(p=>"content-type"==p.toLowerCase()),c=Xn.FormData&&n instanceof Xn.FormData,!(0<=j_(r0,e))||i||c||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[p,_]of t)this.g.setRequestHeader(p,_);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{s0(this),0<this.B&&((this.L=function Fu(n){return zl&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=sa(this.ua,this)):this.A=Qg(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(p){my(this,p)}},tn.ua=function(){typeof U_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ho(this,"timeout"),this.abort(8))},tn.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ho(this,"complete"),Ho(this,"abort"),Lu(this))},tn.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Lu(this,!0)),rs.$.N.call(this)},tn.La=function(){this.s||(this.G||this.v||this.l?_y(this):this.kb())},tn.kb=function(){_y(this)},tn.isActive=function(){return!!this.g},tn.da=function(){try{return 2<Ec(this)?this.g.status:-1}catch{return-1}},tn.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},tn.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),pm(e)}},tn.Ia=function(){return this.m},tn.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(tn=ar.prototype).ra=8,tn.H=1,tn.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const c=new Ep(this,this.l,n);let p=this.s;if(this.U&&(p?(p=K_(p),yp(p,this.U)):p=this.U),null!==this.o||this.O||(c.I=p,p=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=_m(this,c,e),Ti(t=Wl(this.I),"RID",n),Ti(t,"CVER",22),this.F&&Ti(t,"X-HTTP-Session-Id",this.F),Vu(this,t),p&&(this.O?e="headers="+encodeURIComponent(String(Tl(p)))+"&"+e:this.o&&Ql(t,this.o,p)),Zl(this.i,c),this.bb&&Ti(t,"TYPE","init"),this.P?(Ti(t,"$req",e),Ti(t,"SID","null"),c.aa=!0,im(c,t,null)):im(c,t,e),this.H=2}}else 3==this.H&&(n?uh(this,n):0==this.j.length||t0(this.i)||uh(this))},tn.Ma=function(){if(this.u=null,yy(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=ah(sa(this.jb,this),n)}},tn.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,$a(10),ff(this),yy(this))},tn.ib=function(){null!=this.v&&(this.v=null,ff(this),wa(this),$a(19))},tn.pb=function(n){n?(this.l.info("Successfully pinged google.com"),$a(2)):(this.l.info("Failed to ping google.com"),$a(1))},tn.isActive=function(){return!!this.h&&this.h.isActive(this)},(tn=a0.prototype).Ba=function(){},tn.Aa=function(){},tn.za=function(){},tn.ya=function(){},tn.isActive=function(){return!0},tn.Va=function(){},ym.prototype.g=function(n,e){return new Ia(n,e)},Vo(Ia,Uo),Ia.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;$a(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=Rp(n,null,n.Y),yd(n)},Ia.prototype.close=function(){hf(this.g)},Ia.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=zv(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&yd(e)},Ia.prototype.N=function(){this.g.h=null,delete this.j,hf(this.g),delete this.g,Ia.$.N.call(this)},Vo(Pp,Tp),Vo(vm,nm),Vo(vd,a0),vd.prototype.Ba=function(){Ho(this.g,"a")},vd.prototype.Aa=function(n){Ho(this.g,new Pp(n))},vd.prototype.za=function(n){Ho(this.g,new vm)},vd.prototype.ya=function(){Ho(this.g,"b")},Vo(Dc,function kb(){this.blockSize=-1}),Dc.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Dc.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,c=this.h,p=0;p<e;){if(0==c)for(;p<=t;)Ta(this,n,p),p+=this.blockSize;if("string"==typeof n){for(;p<e;)if(i[c++]=n.charCodeAt(p++),c==this.blockSize){Ta(this,i),c=0;break}}else for(;p<e;)if(i[c++]=n[p++],c==this.blockSize){Ta(this,i),c=0;break}}this.h=c,this.i+=e},Dc.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var Fb={};function c0(n){return-128<=n&&128>n?function Uv(n,e){var t=Fb;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Ei([0|e],0>e?-1:0)}):new Ei([0|n],0>n?-1:0)}function Yc(n){if(isNaN(n)||!isFinite(n))return Qc;if(0>n)return Eo(Yc(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=Iy;return new Ei(e,0)}var Iy=4294967296,Qc=c0(0),kp=c0(1),Fp=c0(16777216);function Jc(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Xc(n){return-1==n.h}function Eo(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new Ei(t,~n.h).add(kp)}function bm(n,e){return n.add(Eo(e))}function wm(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Lp(n,e){this.g=n,this.h=e}function _f(n,e){if(Jc(e))throw Error("division by zero");if(Jc(n))return new Lp(Qc,Qc);if(Xc(n))return e=_f(Eo(n),e),new Lp(Eo(e.g),Eo(e.h));if(Xc(e))return e=_f(n,Eo(e)),new Lp(Eo(e.g),e.h);if(30<n.g.length){if(Xc(n)||Xc(e))throw Error("slowDivide_ only works with positive integers.");for(var t=kp,i=e;0>=i.X(n);)t=l0(t),i=l0(i);var c=jo(t,1),p=jo(i,1);for(i=jo(i,2),t=jo(t,2);!Jc(i);){var _=p.add(i);0>=_.X(n)&&(c=c.add(t),p=_),i=jo(i,1),t=jo(t,1)}return e=bm(n,c.R(e)),new Lp(c,e)}for(c=Qc;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),_=(p=Yc(t)).R(e);Xc(_)||0<_.X(n);)_=(p=Yc(t-=i)).R(e);Jc(p)&&(p=kp),c=c.add(p),n=bm(n,_)}return new Lp(c,n)}function l0(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Ei(t,n.h)}function jo(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,c=[],p=0;p<i;p++)c[p]=0<e?n.D(p+t)>>>e|n.D(p+t+1)<<32-e:n.D(p+t);return new Ei(c,n.h)}(tn=Ei.prototype).ea=function(){if(Xc(this))return-Eo(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:Iy+i)*e,e*=Iy}return n},tn.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Jc(this))return"0";if(Xc(this))return"-"+Eo(this).toString(n);for(var e=Yc(Math.pow(n,6)),t=this,i="";;){var c=_f(t,e).g,p=((0<(t=bm(t,c.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Jc(t=c))return p+i;for(;6>p.length;)p="0"+p;i=p+i}},tn.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},tn.X=function(n){return Xc(n=bm(this,n))?-1:Jc(n)?0:1},tn.abs=function(){return Xc(this)?Eo(this):this},tn.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,c=0;c<=e;c++){var p=i+(65535&this.D(c))+(65535&n.D(c)),_=(p>>>16)+(this.D(c)>>>16)+(n.D(c)>>>16);i=_>>>16,t[c]=(_&=65535)<<16|(p&=65535)}return new Ei(t,-2147483648&t[t.length-1]?-1:0)},tn.R=function(n){if(Jc(this)||Jc(n))return Qc;if(Xc(this))return Xc(n)?Eo(this).R(Eo(n)):Eo(Eo(this).R(n));if(Xc(n))return Eo(this.R(Eo(n)));if(0>this.X(Fp)&&0>n.X(Fp))return Yc(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var c=0;c<n.g.length;c++){var p=this.D(i)>>>16,_=65535&this.D(i),E=n.D(c)>>>16,F=65535&n.D(c);t[2*i+2*c]+=_*F,wm(t,2*i+2*c),t[2*i+2*c+1]+=p*F,wm(t,2*i+2*c+1),t[2*i+2*c+1]+=_*E,wm(t,2*i+2*c+1),t[2*i+2*c+2]+=p*E,wm(t,2*i+2*c+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new Ei(t,0)},tn.gb=function(n){return _f(this,n).h},tn.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new Ei(t,this.h&n.h)},tn.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new Ei(t,this.h|n.h)},tn.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new Ei(t,this.h^n.h)},ym.prototype.createWebChannel=ym.prototype.g,Ia.prototype.send=Ia.prototype.u,Ia.prototype.open=Ia.prototype.m,Ia.prototype.close=Ia.prototype.close,iy.NO_ERROR=0,iy.TIMEOUT=8,iy.HTTP_ERROR=6,sy.COMPLETE="complete",uT.EventType=tm,tm.OPEN="a",tm.CLOSE="b",tm.ERROR="c",tm.MESSAGE="d",Uo.prototype.listen=Uo.prototype.O,rs.prototype.listenOnce=rs.prototype.P,rs.prototype.getLastError=rs.prototype.Sa,rs.prototype.getLastErrorCode=rs.prototype.Ia,rs.prototype.getStatus=rs.prototype.da,rs.prototype.getResponseJson=rs.prototype.Wa,rs.prototype.getResponseText=rs.prototype.ja,rs.prototype.send=rs.prototype.ha,rs.prototype.setWithCredentials=rs.prototype.Oa,Dc.prototype.digest=Dc.prototype.l,Dc.prototype.reset=Dc.prototype.reset,Dc.prototype.update=Dc.prototype.j,Ei.prototype.add=Ei.prototype.add,Ei.prototype.multiply=Ei.prototype.R,Ei.prototype.modulo=Ei.prototype.gb,Ei.prototype.compare=Ei.prototype.X,Ei.prototype.toNumber=Ei.prototype.ea,Ei.prototype.toString=Ei.prototype.toString,Ei.prototype.getBits=Ei.prototype.D,Ei.fromNumber=Yc,Ei.fromString=function wy(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Eo(wy(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Yc(Math.pow(e,8)),i=Qc,c=0;c<n.length;c+=8){var p=Math.min(8,n.length-c),_=parseInt(n.substring(c,c+p),e);8>p?(p=Yc(Math.pow(e,p)),i=i.R(p).add(Yc(_))):i=(i=i.R(t)).add(Yc(_))}return i};var Bp=bl.createWebChannelTransport=function(){return new ym},Im=bl.getStatEventTarget=function(){return Xg()},Tm=bl.ErrorCode=iy,u0=bl.EventType=sy,d0=bl.Event=sf,h0=bl.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},yf=bl.FetchXmlHttpFactory=_d,Vp=bl.WebChannel=uT,hT=bl.XhrIo=rs,f0=bl.Md5=Dc,bd=bl.Integer=Ei;const Up="@firebase/firestore";class io{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}io.UNAUTHENTICATED=new io(null),io.GOOGLE_CREDENTIALS=new io("google-credentials-uid"),io.FIRST_PARTY=new io("first-party-uid"),io.MOCK_USER=new io("mock-user");let dh="9.23.0";const Ea=new Ee.Yd("@firebase/firestore");function Ty(){return Ea.logLevel}function Ot(n,...e){if(Ea.logLevel<=Ee.in.DEBUG){const t=e.map(Em);Ea.debug(`Firestore (${dh}): ${n}`,...t)}}function Gs(n,...e){if(Ea.logLevel<=Ee.in.ERROR){const t=e.map(Em);Ea.error(`Firestore (${dh}): ${n}`,...t)}}function el(n,...e){if(Ea.logLevel<=Ee.in.WARN){const t=e.map(Em);Ea.warn(`Firestore (${dh}): ${n}`,...t)}}function Em(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ln(n="Unexpected state"){const e=`FIRESTORE (${dh}) INTERNAL ASSERTION FAILED: `+n;throw Gs(e),new Error(e)}function wn(n,e){n||ln()}function Jt(n,e){return n}const rt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ct extends fe.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class so{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Ey{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Lb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(io.UNAUTHENTICATED))}shutdown(){}}class g0{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class m0{constructor(e){this.t=e,this.currentUser=io.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let c=this.i;const p=H=>this.i!==c?(c=this.i,t(H)):Promise.resolve();let _=new so;this.o=()=>{this.i++,this.currentUser=this.u(),_.resolve(),_=new so,e.enqueueRetryable(()=>p(this.currentUser))};const E=()=>{const H=_;e.enqueueRetryable((0,de.Z)(function*(){yield H.promise,yield p(i.currentUser)}))},F=H=>{Ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=H,this.auth.addAuthTokenListener(this.o),E()};this.t.onInit(H=>F(H)),setTimeout(()=>{if(!this.auth){const H=this.t.getImmediate({optional:!0});H?F(H):(Ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),_.resolve(),_=new so)}},0),E()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(wn("string"==typeof i.accessToken),new Ey(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return wn(null===e||"string"==typeof e),new io(e)}}class tl{constructor(e,t,i){this.h=e,this.l=t,this.m=i,this.type="FirstParty",this.user=io.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class hh{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new tl(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(io.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class vf{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Dm{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const i=p=>{null!=p.error&&Ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${p.error.message}`);const _=p.token!==this.T;return this.T=p.token,Ot("FirebaseAppCheckTokenProvider",`Received ${_?"new":"existing"} token.`),_?t(p.token):Promise.resolve()};this.o=p=>{e.enqueueRetryable(()=>i(p))};const c=p=>{Ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=p,this.appCheck.addTokenListener(this.o)};this.I.onInit(p=>c(p)),setTimeout(()=>{if(!this.appCheck){const p=this.I.getImmediate({optional:!0});p?c(p):Ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(wn("string"==typeof t.token),this.T=t.token,new vf(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Vb(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class Cm{static A(){const t=62*Math.floor(256/62);let i="";for(;i.length<20;){const c=Vb(40);for(let p=0;p<c.length;++p)i.length<20&&c[p]<t&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(c[p]%62))}return i}}function qn(n,e){return n<e?-1:n>e?1:0}function bf(n,e,t){return n.length===e.length&&n.every((i,c)=>t(i,e[c]))}class Is{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ct(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ct(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ct(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ct(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Is.fromMillis(Date.now())}static fromDate(e){return Is.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Is(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qn(this.nanoseconds,e.nanoseconds):qn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Sn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Sn(e)}static min(){return new Sn(new Is(0,0))}static max(){return new Sn(new Is(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class wf{constructor(e,t,i){void 0===t?t=0:t>e.length&&ln(),void 0===i?i=e.length-t:i>e.length-t&&ln(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===wf.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof wf?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let c=0;c<i;c++){const p=e.get(c),_=t.get(c);if(p<_)return-1;if(p>_)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class qr extends wf{construct(e,t,i){return new qr(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ct(rt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(c=>c.length>0))}return new qr(t)}static emptyPath(){return new qr([])}}const nl=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zi extends wf{construct(e,t,i){return new zi(e,t,i)}static isValidIdentifier(e){return nl.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new zi(["__name__"])}static fromServerFormat(e){const t=[];let i="",c=0;const p=()=>{if(0===i.length)throw new Ct(rt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let _=!1;for(;c<e.length;){const E=e[c];if("\\"===E){if(c+1===e.length)throw new Ct(rt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const F=e[c+1];if("\\"!==F&&"."!==F&&"`"!==F)throw new Ct(rt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=F,c+=2}else"`"===E?(_=!_,c++):"."!==E||_?(i+=E,c++):(p(),c++)}if(p(),_)throw new Ct(rt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zi(t)}static emptyPath(){return new zi([])}}class Xt{constructor(e){this.path=e}static fromPath(e){return new Xt(qr.fromString(e))}static fromName(e){return new Xt(qr.fromString(e).popFirst(5))}static empty(){return new Xt(qr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===qr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return qr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Xt(new qr(e.slice()))}}function y0(n){return new Wa(n.readTime,n.key,-1)}class Wa{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Wa(Sn.min(),Xt.empty(),-1)}static max(){return new Wa(Sn.max(),Xt.empty(),-1)}}function Nm(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Xt.comparator(n.documentKey,e.documentKey),0!==t?t:qn(n.largestBatchId,e.largestBatchId))}const Dy="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Hb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ph(n){return jp.apply(this,arguments)}function jp(){return jp=(0,de.Z)(function*(n){if(n.code!==rt.FAILED_PRECONDITION||n.message!==Dy)throw n;Ot("LocalStore","Unexpectedly lost primary lease")}),jp.apply(this,arguments)}class qe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ln(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new qe((i,c)=>{this.nextCallback=p=>{this.wrapSuccess(e,p).next(i,c)},this.catchCallback=p=>{this.wrapFailure(t,p).next(i,c)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof qe?t:qe.resolve(t)}catch(t){return qe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):qe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):qe.reject(t)}static resolve(e){return new qe((t,i)=>{t(e)})}static reject(e){return new qe((t,i)=>{i(e)})}static waitFor(e){return new qe((t,i)=>{let c=0,p=0,_=!1;e.forEach(E=>{++c,E.next(()=>{++p,_&&p===c&&t()},F=>i(F))}),_=!0,p===c&&t()})}static or(e){let t=qe.resolve(!1);for(const i of e)t=t.next(c=>c?qe.resolve(c):i());return t}static forEach(e,t){const i=[];return e.forEach((c,p)=>{i.push(t.call(this,c,p))}),this.waitFor(i)}static mapArray(e,t){return new qe((i,c)=>{const p=e.length,_=new Array(p);let E=0;for(let F=0;F<p;F++){const H=F;t(e[H]).next(te=>{_[H]=te,++E,E===p&&i(_)},te=>c(te))}})}static doWhile(e,t){return new qe((i,c)=>{const p=()=>{!0===e()?t().next(()=>{p()},c):i()};p()})}}function eu(n){return"IndexedDbTransactionError"===n.name}let is=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=c=>this.ot(c),this.ut=c=>i.writeSequenceNumber(c))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function gh(n){return null==n}function Uu(n){return 0===n&&1/n==-1/0}function ds(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Wi(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Bi(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class jr{constructor(e,t){this.comparator=e,this.root=t||kt.EMPTY}insert(e,t){return new jr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,kt.BLACK,null,null))}remove(e){return new jr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const c=this.comparator(e,i.key);if(0===c)return t+i.left.size;c<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new aa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new aa(this.root,e,this.comparator,!1)}getReverseIterator(){return new aa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new aa(this.root,e,this.comparator,!0)}}class aa{constructor(e,t,i,c){this.isReverse=c,this.nodeStack=[];let p=1;for(;!e.isEmpty();)if(p=t?i(e.key,t):1,t&&c&&(p*=-1),p<0)e=this.isReverse?e.left:e.right;else{if(0===p){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kt{constructor(e,t,i,c,p){this.key=e,this.value=t,this.color=i??kt.RED,this.left=c??kt.EMPTY,this.right=p??kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,c,p){return new kt(e??this.key,t??this.value,i??this.color,c??this.left,p??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let c=this;const p=i(e,c.key);return c=p<0?c.copy(null,null,null,c.left.insert(e,t,i),null):0===p?c.copy(null,t,null,null,null):c.copy(null,null,null,null,c.right.insert(e,t,i)),c.fixUp()}removeMin(){if(this.left.isEmpty())return kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,c=this;if(t(e,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(e,t),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===t(e,c.key)){if(c.right.isEmpty())return kt.EMPTY;i=c.right.min(),c=c.copy(i.key,i.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(e,t))}return c.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ln();const e=this.left.check();if(e!==this.right.check())throw ln();return e+(this.isRed()?0:1)}}kt.EMPTY=null,kt.RED=!0,kt.BLACK=!1,kt.EMPTY=new class{constructor(){this.size=0}get key(){throw ln()}get value(){throw ln()}get color(){throw ln()}get left(){throw ln()}get right(){throw ln()}copy(n,e,t,i,c){return this}insert(n,e,t){return new kt(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Lt{constructor(e){this.comparator=e,this.data=new jr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const c=i.getNext();if(this.comparator(c.key,e[1])>=0)return;t(c.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Mn(this.data.getIterator())}getIteratorFrom(e){return new Mn(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const c=t.getNext().key,p=i.getNext().key;if(0!==this.comparator(c,p))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Lt(this.comparator);return t.data=e,t}}class Mn{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class $r{constructor(e){this.fields=e,e.sort(zi.comparator)}static empty(){return new $r([])}unionWith(e){let t=new Lt(zi.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new $r(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return bf(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class qa extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ei{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new qa("Invalid base64 string: "+c):c}}(e);return new ei(t)}static fromUint8Array(e){const t=function(i){let c="";for(let p=0;p<i.length;++p)c+=String.fromCharCode(i[p]);return c}(e);return new ei(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ei.EMPTY_BYTE_STRING=new ei("");const ti=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function js(n){if(wn(!!n),"string"==typeof n){let e=0;const t=ti.exec(n);if(wn(!!t),t[1]){let c=t[1];c=(c+"000000000").substr(0,9),e=Number(c)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Vi(n.seconds),nanos:Vi(n.nanos)}}function Vi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Di(n){return"string"==typeof n?ei.fromBase64String(n):ei.fromUint8Array(n)}function Wo(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function $s(n){const e=n.mapValue.fields.__previous_value__;return Wo(e)?$s(e):e}function tu(n){const e=js(n.mapValue.fields.__local_write_time__.timestampValue);return new Is(e.seconds,e.nanos)}class Id{constructor(e,t,i,c,p,_,E,F,H){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=c,this.ssl=p,this.forceLongPolling=_,this.autoDetectLongPolling=E,this.longPollingOptions=F,this.useFetchStreams=H}}class mh{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new mh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof mh&&e.projectId===this.projectId&&e.database===this.database}}const Hu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Gu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Wo(n)?4:pT(n)?9007199254740991:10:ln()}function rl(n,e){if(n===e)return!0;const t=Gu(n);if(t!==Gu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return tu(n).isEqual(tu(e));case 3:return function(i,c){if("string"==typeof i.timestampValue&&"string"==typeof c.timestampValue&&i.timestampValue.length===c.timestampValue.length)return i.timestampValue===c.timestampValue;const p=js(i.timestampValue),_=js(c.timestampValue);return p.seconds===_.seconds&&p.nanos===_.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return c=e,Di(n.bytesValue).isEqual(Di(c.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,c){return Vi(i.geoPointValue.latitude)===Vi(c.geoPointValue.latitude)&&Vi(i.geoPointValue.longitude)===Vi(c.geoPointValue.longitude)}(n,e);case 2:return function(i,c){if("integerValue"in i&&"integerValue"in c)return Vi(i.integerValue)===Vi(c.integerValue);if("doubleValue"in i&&"doubleValue"in c){const p=Vi(i.doubleValue),_=Vi(c.doubleValue);return p===_?Uu(p)===Uu(_):isNaN(p)&&isNaN(_)}return!1}(n,e);case 9:return bf(n.arrayValue.values||[],e.arrayValue.values||[],rl);case 10:return function(i,c){const p=i.mapValue.fields||{},_=c.mapValue.fields||{};if(ds(p)!==ds(_))return!1;for(const E in p)if(p.hasOwnProperty(E)&&(void 0===_[E]||!rl(p[E],_[E])))return!1;return!0}(n,e);default:return ln()}var c}function Sf(n,e){return void 0!==(n.values||[]).find(t=>rl(t,e))}function Td(n,e){if(n===e)return 0;const t=Gu(n),i=Gu(e);if(t!==i)return qn(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return qn(n.booleanValue,e.booleanValue);case 2:return function(c,p){const _=Vi(c.integerValue||c.doubleValue),E=Vi(p.integerValue||p.doubleValue);return _<E?-1:_>E?1:_===E?0:isNaN(_)?isNaN(E)?0:-1:1}(n,e);case 3:return b0(n.timestampValue,e.timestampValue);case 4:return b0(tu(n),tu(e));case 5:return qn(n.stringValue,e.stringValue);case 6:return function(c,p){const _=Di(c),E=Di(p);return _.compareTo(E)}(n.bytesValue,e.bytesValue);case 7:return function(c,p){const _=c.split("/"),E=p.split("/");for(let F=0;F<_.length&&F<E.length;F++){const H=qn(_[F],E[F]);if(0!==H)return H}return qn(_.length,E.length)}(n.referenceValue,e.referenceValue);case 8:return function(c,p){const _=qn(Vi(c.latitude),Vi(p.latitude));return 0!==_?_:qn(Vi(c.longitude),Vi(p.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(c,p){const _=c.values||[],E=p.values||[];for(let F=0;F<_.length&&F<E.length;++F){const H=Td(_[F],E[F]);if(H)return H}return qn(_.length,E.length)}(n.arrayValue,e.arrayValue);case 10:return function(c,p){if(c===Hu.mapValue&&p===Hu.mapValue)return 0;if(c===Hu.mapValue)return 1;if(p===Hu.mapValue)return-1;const _=c.fields||{},E=Object.keys(_),F=p.fields||{},H=Object.keys(F);E.sort(),H.sort();for(let te=0;te<E.length&&te<H.length;++te){const pe=qn(E[te],H[te]);if(0!==pe)return pe;const Be=Td(_[E[te]],F[H[te]]);if(0!==Be)return Be}return qn(E.length,H.length)}(n.mapValue,e.mapValue);default:throw ln()}}function b0(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return qn(n,e);const t=js(n),i=js(e),c=qn(t.seconds,i.seconds);return 0!==c?c:qn(t.nanos,i.nanos)}function Cc(n){return Ed(n)}function Ed(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const c=js(i);return`time(${c.seconds},${c.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Di(n.bytesValue).toBase64():"referenceValue"in n?Xt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let c="[",p=!0;for(const _ of i.values||[])p?p=!1:c+=",",c+=Ed(_);return c+"]"}(n.arrayValue):"mapValue"in n?function(i){const c=Object.keys(i.fields||{}).sort();let p="{",_=!0;for(const E of c)_?_=!1:p+=",",p+=`${E}:${Ed(i.fields[E])}`;return p+"}"}(n.mapValue):ln();var e}function Dd(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Cd(n){return!!n&&"integerValue"in n}function ju(n){return!!n&&"arrayValue"in n}function Wp(n){return!!n&&"nullValue"in n}function Mm(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function qp(n){return!!n&&"mapValue"in n}function Cy(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Wi(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Cy(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Cy(n.arrayValue.values[t]);return e}return Object.assign({},n)}function pT(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Za{constructor(e){this.value=e}static empty(){return new Za({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!qp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cy(t)}setAll(e){let t=zi.emptyPath(),i={},c=[];e.forEach((_,E)=>{if(!t.isImmediateParentOf(E)){const F=this.getFieldsMap(t);this.applyChanges(F,i,c),i={},c=[],t=E.popLast()}_?i[E.lastSegment()]=Cy(_):c.push(E.lastSegment())});const p=this.getFieldsMap(t);this.applyChanges(p,i,c)}delete(e){const t=this.field(e.popLast());qp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return rl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let c=t.mapValue.fields[e.get(i)];qp(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=c),t=c}return t.mapValue.fields}applyChanges(e,t,i){Wi(t,(c,p)=>e[c]=p);for(const c of i)delete e[c]}clone(){return new Za(Cy(this.value))}}function gT(n){const e=[];return Wi(n.fields,(t,i)=>{const c=new zi([t]);if(qp(i)){const p=gT(i.mapValue).fields;if(0===p.length)e.push(c);else for(const _ of p)e.push(c.child(_))}else e.push(c)}),new $r(e)}class hs{constructor(e,t,i,c,p,_,E){this.key=e,this.documentType=t,this.version=i,this.readTime=c,this.createTime=p,this.data=_,this.documentState=E}static newInvalidDocument(e){return new hs(e,0,Sn.min(),Sn.min(),Sn.min(),Za.empty(),0)}static newFoundDocument(e,t,i,c){return new hs(e,1,t,Sn.min(),i,c,0)}static newNoDocument(e,t){return new hs(e,2,t,Sn.min(),Sn.min(),Za.empty(),0)}static newUnknownDocument(e,t){return new hs(e,3,t,Sn.min(),Sn.min(),Za.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Sn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Za.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Za.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Sn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof hs&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Sd{constructor(e,t){this.position=e,this.inclusive=t}}function zb(n,e,t){let i=0;for(let c=0;c<n.position.length;c++){const p=e[c],_=n.position[c];if(i=p.field.isKeyField()?Xt.comparator(Xt.fromName(_.referenceValue),t.key):Td(_,t.data.field(p.field)),"desc"===p.dir&&(i*=-1),0!==i)break}return i}function T0(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!rl(n.position[t],e.position[t]))return!1;return!0}class Zp{constructor(e,t="asc"){this.field=e,this.dir=t}}function xD(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Wb{}class Zr extends Wb{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new mT(e,t,i):"array-contains"===t?new vT(e,i):"in"===t?new Jb(e,i):"not-in"===t?new D0(e,i):"array-contains-any"===t?new Af(e,i):new Zr(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new _T(e,i):new yT(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Td(t,this.value)):null!==t&&Gu(this.value)===Gu(t)&&this.matchesComparison(Td(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ln()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Mi extends Wb{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Mi(e,t)}matches(e){return Kp(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Kp(n){return"and"===n.op}function E0(n){return function Zb(n){for(const e of n.filters)if(e instanceof Mi)return!1;return!0}(n)&&Kp(n)}function Sy(n){if(n instanceof Zr)return n.field.canonicalString()+n.op.toString()+Cc(n.value);if(E0(n))return n.filters.map(e=>Sy(e)).join(",");{const e=n.filters.map(t=>Sy(t)).join(",");return`${n.op}(${e})`}}function Ay(n,e){return n instanceof Zr?(t=n,(i=e)instanceof Zr&&t.op===i.op&&t.field.isEqual(i.field)&&rl(t.value,i.value)):n instanceof Mi?function(t,i){return i instanceof Mi&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((c,p,_)=>c&&Ay(p,i.filters[_]),!0)}(n,e):void ln();var t,i}function Yb(n){return n instanceof Zr?`${(e=n).field.canonicalString()} ${e.op} ${Cc(e.value)}`:n instanceof Mi?function(e){return e.op.toString()+" {"+e.getFilters().map(Yb).join(" ,")+"}"}(n):"Filter";var e}class mT extends Zr{constructor(e,t,i){super(e,t,i),this.key=Xt.fromName(i.referenceValue)}matches(e){const t=Xt.comparator(e.key,this.key);return this.matchesComparison(t)}}class _T extends Zr{constructor(e,t){super(e,"in",t),this.keys=Qb(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class yT extends Zr{constructor(e,t){super(e,"not-in",t),this.keys=Qb(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Qb(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>Xt.fromName(i.referenceValue))}class vT extends Zr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ju(t)&&Sf(t.arrayValue,this.value)}}class Jb extends Zr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Sf(this.value.arrayValue,t)}}class D0 extends Zr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Sf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Sf(this.value.arrayValue,t)}}class Af extends Zr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ju(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Sf(this.value.arrayValue,i))}}class RD{constructor(e,t=null,i=[],c=[],p=null,_=null,E=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=c,this.limit=p,this.startAt=_,this.endAt=E,this.dt=null}}function Xb(n,e=null,t=[],i=[],c=null,p=null,_=null){return new RD(n,e,t,i,c,p,_)}function yh(n){const e=Jt(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Sy(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(c=i).field.canonicalString()+c.dir;var c}).join(","),gh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Cc(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Cc(i)).join(",")),e.dt=t}return e.dt}function $u(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!xD(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Ay(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!T0(n.startAt,e.startAt)&&T0(n.endAt,e.endAt)}function xm(n){return Xt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Nf{constructor(e,t=null,i=[],c=[],p=null,_="F",E=null,F=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=c,this.limit=p,this.limitType=_,this.startAt=E,this.endAt=F,this.wt=null,this._t=null}}function Rm(n){return new Nf(n)}function ew(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function tw(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function ao(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function A0(n){return null!==n.collectionGroup}function Yp(n){const e=Jt(n);if(null===e.wt){e.wt=[];const t=ao(e),i=tw(e);if(null!==t&&null===i)t.isKeyField()||e.wt.push(new Zp(t)),e.wt.push(new Zp(zi.keyField(),"asc"));else{let c=!1;for(const p of e.explicitOrderBy)e.wt.push(p),p.field.isKeyField()&&(c=!0);if(!c){const p=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Zp(zi.keyField(),p))}}}return e.wt}function Sc(n){const e=Jt(n);if(!e._t)if("F"===e.limitType)e._t=Xb(e.path,e.collectionGroup,Yp(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const p of Yp(e))t.push(new Zp(p.field,"desc"===p.dir?"asc":"desc"));const i=e.endAt?new Sd(e.endAt.position,e.endAt.inclusive):null,c=e.startAt?new Sd(e.startAt.position,e.startAt.inclusive):null;e._t=Xb(e.path,e.collectionGroup,t,e.filters,e.limit,i,c)}return e._t}function N0(n,e){e.getFirstInequalityField(),ao(n);const t=n.filters.concat([e]);return new Nf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function O0(n,e,t){return new Nf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Pm(n,e){return $u(Sc(n),Sc(e))&&n.limitType===e.limitType}function nw(n){return`${yh(Sc(n))}|lt:${n.limitType}`}function Of(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>Yb(i)).join(", ")}]`),gh(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(c=i).field.canonicalString()} (${c.dir})`;var c}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Cc(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Cc(i)).join(",")),`Target(${t})`}(Sc(n))}; limitType=${n.limitType})`}function Ny(n,e){return e.isFoundDocument()&&function(t,i){const c=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(c):Xt.isDocumentKey(t.path)?t.path.isEqual(c):t.path.isImmediateParentOf(c)}(n,e)&&function(t,i){for(const c of Yp(t))if(!c.field.isKeyField()&&null===i.data.field(c.field))return!1;return!0}(n,e)&&function(t,i){for(const c of t.filters)if(!c.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(c,p,_){const E=zb(c,p,_);return c.inclusive?E<=0:E<0}(t.startAt,Yp(t),i)||t.endAt&&!function(c,p,_){const E=zb(c,p,_);return c.inclusive?E>=0:E>0}(t.endAt,Yp(t),i)));var t,i}function rw(n){return(e,t)=>{let i=!1;for(const c of Yp(n)){const p=kD(c,e,t);if(0!==p)return p;i=i||c.field.isKeyField()}return 0}}function kD(n,e,t){const i=n.field.isKeyField()?Xt.comparator(e.key,t.key):function(c,p,_){const E=p.data.field(c),F=_.data.field(c);return null!==E&&null!==F?Td(E,F):ln()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ln()}}class Ad{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[c,p]of i)if(this.equalsFn(c,e))return p}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),c=this.inner[i];if(void 0===c)return this.inner[i]=[[e,t]],void this.innerSize++;for(let p=0;p<c.length;p++)if(this.equalsFn(c[p][0],e))return void(c[p]=[e,t]);c.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let c=0;c<i.length;c++)if(this.equalsFn(i[c][0],e))return 1===i.length?delete this.inner[t]:i.splice(c,1),this.innerSize--,!0;return!1}forEach(e){Wi(this.inner,(t,i)=>{for(const[c,p]of i)e(c,p)})}isEmpty(){return Bi(this.inner)}size(){return this.innerSize}}const aS=new jr(Xt.comparator);function Ac(){return aS}const M0=new jr(Xt.comparator);function il(...n){let e=M0;for(const t of n)e=e.insert(t.key,t);return e}function IT(n){let e=M0;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function zu(){return Nc()}function Wu(){return Nc()}function Nc(){return new Ad(n=>n.toString(),(n,e)=>n.isEqual(e))}const qu=new jr(Xt.comparator),TT=new Lt(Xt.comparator);function Er(...n){let e=TT;for(const t of n)e=e.add(t);return e}const FD=new Lt(qn);function ET(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uu(e)?"-0":e}}function DT(n){return{integerValue:""+n}}function x0(n,e){return function Df(n){return"number"==typeof n&&Number.isInteger(n)&&!Uu(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?DT(e):ET(n,e)}class Mf{constructor(){this._=void 0}}function LD(n,e,t){return n instanceof km?function(i,c){const p={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return c&&Wo(c)&&(c=$s(c)),c&&(p.fields.__previous_value__=c),{mapValue:p}}(t,e):n instanceof xf?sw(n,e):n instanceof Nd?AT(n,e):function(i,c){const p=ST(i,c),_=ow(p)+ow(i.gt);return Cd(p)&&Cd(i.gt)?DT(_):ET(i.serializer,_)}(n,e)}function CT(n,e,t){return n instanceof xf?sw(n,e):n instanceof Nd?AT(n,e):t}function ST(n,e){return n instanceof Qp?Cd(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class km extends Mf{}class xf extends Mf{constructor(e){super(),this.elements=e}}function sw(n,e){const t=aw(e);for(const i of n.elements)t.some(c=>rl(c,i))||t.push(i);return{arrayValue:{values:t}}}class Nd extends Mf{constructor(e){super(),this.elements=e}}function AT(n,e){let t=aw(e);for(const i of n.elements)t=t.filter(c=>!rl(c,i));return{arrayValue:{values:t}}}class Qp extends Mf{constructor(e,t){super(),this.serializer=e,this.gt=t}}function ow(n){return Vi(n.integerValue||n.doubleValue)}function aw(n){return ju(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Oy{constructor(e,t){this.field=e,this.transform=t}}class cw{constructor(e,t){this.version=e,this.transformResults=t}}class ss{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ss}static exists(e){return new ss(void 0,e)}static updateTime(e){return new ss(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function My(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Fm{}function lw(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Bm(n.key,ss.none()):new Jp(n.key,n.data,ss.none());{const t=n.data,i=Za.empty();let c=new Lt(zi.comparator);for(let p of e.fields)if(!c.has(p)){let _=t.field(p);null===_&&p.length>1&&(p=p.popLast(),_=t.field(p)),null===_?i.delete(p):i.set(p,_),c=c.add(p)}return new vh(n.key,i,new $r(c.toArray()),ss.none())}}function NT(n,e,t){n instanceof Jp?function(i,c,p){const _=i.value.clone(),E=xT(i.fieldTransforms,c,p.transformResults);_.setAll(E),c.convertToFoundDocument(p.version,_).setHasCommittedMutations()}(n,e,t):n instanceof vh?function(i,c,p){if(!My(i.precondition,c))return void c.convertToUnknownDocument(p.version);const _=xT(i.fieldTransforms,c,p.transformResults),E=c.data;E.setAll(MT(i)),E.setAll(_),c.convertToFoundDocument(p.version,E).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Lm(n,e,t,i){return n instanceof Jp?function(c,p,_,E){if(!My(c.precondition,p))return _;const F=c.value.clone(),H=RT(c.fieldTransforms,E,p);return F.setAll(H),p.convertToFoundDocument(p.version,F).setHasLocalMutations(),null}(n,e,t,i):n instanceof vh?function(c,p,_,E){if(!My(c.precondition,p))return _;const F=RT(c.fieldTransforms,E,p),H=p.data;return H.setAll(MT(c)),H.setAll(F),p.convertToFoundDocument(p.version,H).setHasLocalMutations(),null===_?null:_.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(te=>te.field))}(n,e,t,i):(_=t,My(n.precondition,p=e)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):_);var p,_}function OT(n,e){let t=null;for(const i of n.fieldTransforms){const c=e.data.field(i.field),p=ST(i.transform,c||null);null!=p&&(null===t&&(t=Za.empty()),t.set(i.field,p))}return t||null}function uw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&bf(t,i,(c,p)=>function BD(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof xf&&i instanceof xf||t instanceof Nd&&i instanceof Nd?bf(t.elements,i.elements,rl):t instanceof Qp&&i instanceof Qp?rl(t.gt,i.gt):t instanceof km&&i instanceof km);var t,i}(c,p))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class Jp extends Fm{constructor(e,t,i,c=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=c,this.type=0}getFieldMask(){return null}}class vh extends Fm{constructor(e,t,i,c,p=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=c,this.fieldTransforms=p,this.type=1}getFieldMask(){return this.fieldMask}}function MT(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function xT(n,e,t){const i=new Map;wn(n.length===t.length);for(let c=0;c<t.length;c++){const p=n[c],_=p.transform,E=e.data.field(p.field);i.set(p.field,CT(_,E,t[c]))}return i}function RT(n,e,t){const i=new Map;for(const c of n){const p=c.transform,_=t.data.field(c.field);i.set(c.field,LD(p,_,e))}return i}class Bm extends Fm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dw extends Fm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class hw{constructor(e,t,i,c){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=c}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let c=0;c<this.mutations.length;c++){const p=this.mutations[c];p.key.isEqual(e.key)&&NT(p,e,i[c])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Lm(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Lm(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=Wu();return this.mutations.forEach(c=>{const p=e.get(c.key),_=p.overlayedDocument;let E=this.applyToLocalView(_,p.mutatedFields);E=t.has(c.key)?null:E;const F=lw(_,E);null!==F&&i.set(c.key,F),_.isValidDocument()||_.convertToNoDocument(Sn.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Er())}isEqual(e){return this.batchId===e.batchId&&bf(this.mutations,e.mutations,(t,i)=>uw(t,i))&&bf(this.baseMutations,e.baseMutations,(t,i)=>uw(t,i))}}class fw{constructor(e,t,i,c){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=c}static from(e,t,i){wn(e.mutations.length===i.length);let c=qu;const p=e.mutations;for(let _=0;_<p.length;_++)c=c.insert(p[_].key,i[_].version);return new fw(e,t,i,c)}}class pw{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class UD{constructor(e,t){this.count=e,this.unchangedNames=t}}var qo,si;function kT(n){if(void 0===n)return Gs("GRPC error has no .code"),rt.UNKNOWN;switch(n){case qo.OK:return rt.OK;case qo.CANCELLED:return rt.CANCELLED;case qo.UNKNOWN:return rt.UNKNOWN;case qo.DEADLINE_EXCEEDED:return rt.DEADLINE_EXCEEDED;case qo.RESOURCE_EXHAUSTED:return rt.RESOURCE_EXHAUSTED;case qo.INTERNAL:return rt.INTERNAL;case qo.UNAVAILABLE:return rt.UNAVAILABLE;case qo.UNAUTHENTICATED:return rt.UNAUTHENTICATED;case qo.INVALID_ARGUMENT:return rt.INVALID_ARGUMENT;case qo.NOT_FOUND:return rt.NOT_FOUND;case qo.ALREADY_EXISTS:return rt.ALREADY_EXISTS;case qo.PERMISSION_DENIED:return rt.PERMISSION_DENIED;case qo.FAILED_PRECONDITION:return rt.FAILED_PRECONDITION;case qo.ABORTED:return rt.ABORTED;case qo.OUT_OF_RANGE:return rt.OUT_OF_RANGE;case qo.UNIMPLEMENTED:return rt.UNIMPLEMENTED;case qo.DATA_LOSS:return rt.DATA_LOSS;default:return ln()}}(si=qo||(qo={}))[si.OK=0]="OK",si[si.CANCELLED=1]="CANCELLED",si[si.UNKNOWN=2]="UNKNOWN",si[si.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",si[si.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",si[si.NOT_FOUND=5]="NOT_FOUND",si[si.ALREADY_EXISTS=6]="ALREADY_EXISTS",si[si.PERMISSION_DENIED=7]="PERMISSION_DENIED",si[si.UNAUTHENTICATED=16]="UNAUTHENTICATED",si[si.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",si[si.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",si[si.ABORTED=10]="ABORTED",si[si.OUT_OF_RANGE=11]="OUT_OF_RANGE",si[si.UNIMPLEMENTED=12]="UNIMPLEMENTED",si[si.INTERNAL=13]="INTERNAL",si[si.UNAVAILABLE=14]="UNAVAILABLE",si[si.DATA_LOSS=15]="DATA_LOSS";class gw{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return R0}static getOrCreateInstance(){return null===R0&&(R0=new gw),R0}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let R0=null;const LT=new bd([4294967295,4294967295],0);function mw(n){const e=function FT(){return new TextEncoder}().encode(n),t=new f0;return t.update(e),new Uint8Array(t.digest())}function _w(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),c=e.getUint32(8,!0),p=e.getUint32(12,!0);return[new bd([t,i],0),new bd([c,p],0)]}class P0{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Vm(`Invalid padding: ${t}`);if(i<0)throw new Vm(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new Vm(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new Vm(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=bd.fromNumber(this.It)}Et(e,t,i){let c=e.add(t.multiply(bd.fromNumber(i)));return 1===c.compare(LT)&&(c=new bd([c.getBits(0),c.getBits(1)],0)),c.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=mw(e),[i,c]=_w(t);for(let p=0;p<this.hashCount;p++){const _=this.Et(i,c,p);if(!this.At(_))return!1}return!0}static create(e,t,i){const c=e%8==0?0:8-e%8,p=new Uint8Array(Math.ceil(e/8)),_=new P0(p,c,t);return i.forEach(E=>_.insert(E)),_}insert(e){if(0===this.It)return;const t=mw(e),[i,c]=_w(t);for(let p=0;p<this.hashCount;p++){const _=this.Et(i,c,p);this.Rt(_)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Vm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Um{constructor(e,t,i,c,p){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=c,this.resolvedLimboDocuments=p}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const c=new Map;return c.set(e,Hm.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Um(Sn.min(),c,new jr(qn),Ac(),Er())}}class Hm{constructor(e,t,i,c,p){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=c,this.removedDocuments=p}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Hm(i,t,Er(),Er(),Er())}}class xy{constructor(e,t,i,c){this.Pt=e,this.removedTargetIds=t,this.key=i,this.bt=c}}class yw{constructor(e,t){this.targetId=e,this.Vt=t}}class k0{constructor(e,t,i=ei.EMPTY_BYTE_STRING,c=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=c}}class vw{constructor(){this.St=0,this.Dt=VT(),this.Ct=ei.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Er(),t=Er(),i=Er();return this.Dt.forEach((c,p)=>{switch(p){case 0:e=e.add(c);break;case 2:t=t.add(c);break;case 1:i=i.add(c);break;default:ln()}}),new Hm(this.Ct,this.xt,e,t,i)}Ft(){this.Nt=!1,this.Dt=VT()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Xp{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Ac(),this.zt=BT(),this.Wt=new jr(qn)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const i=this.Zt(t);switch(e.state){case 0:this.te(t)&&i.$t(e.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(e.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(t);break;case 3:this.te(t)&&(i.Kt(),i.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),i.$t(e.resumeToken));break;default:ln()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((i,c)=>{this.te(c)&&t(c)})}ne(e){var t;const i=e.targetId,c=e.Vt.count,p=this.se(i);if(p){const _=p.target;if(xm(_))if(0===c){const E=new Xt(_.path);this.Yt(i,E,hs.newNoDocument(E,Sn.min()))}else wn(1===c);else{const E=this.ie(i);if(E!==c){const F=this.re(e,E);0!==F&&(this.ee(i),this.Wt=this.Wt.insert(i,2===F?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=gw.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(H,te,pe){var Be,lt,Pt,sn,an,Dr;const ni={localCacheCount:te,existenceFilterCount:pe.count},kr=pe.unchangedNames;return kr&&(ni.bloomFilter={applied:0===H,hashCount:null!==(Be=kr?.hashCount)&&void 0!==Be?Be:0,bitmapLength:null!==(sn=null===(Pt=null===(lt=kr?.bits)||void 0===lt?void 0:lt.bitmap)||void 0===Pt?void 0:Pt.length)&&void 0!==sn?sn:0,padding:null!==(Dr=null===(an=kr?.bits)||void 0===an?void 0:an.padding)&&void 0!==Dr?Dr:0}),ni}(F,E,e.Vt))}}}}re(e,t){const{unchangedNames:i,count:c}=e.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:p="",padding:_=0},hashCount:E=0}=i;let F,H;try{F=Di(p).toUint8Array()}catch(te){if(te instanceof qa)return el("Decoding the base64 bloom filter in existence filter failed ("+te.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw te}try{H=new P0(F,_,E)}catch(te){return el(te instanceof Vm?"BloomFilter error: ":"Applying bloom filter failed: ",te),1}return 0===H.It?1:c!==t-this.oe(e.targetId,H)?2:0}oe(e,t){const i=this.Gt.getRemoteKeysForTarget(e);let c=0;return i.forEach(p=>{const _=this.Gt.ue(),E=`projects/${_.projectId}/databases/${_.database}/documents/${p.path.canonicalString()}`;t.vt(E)||(this.Yt(e,p,null),c++)}),c}ce(e){const t=new Map;this.Qt.forEach((p,_)=>{const E=this.se(_);if(E){if(p.current&&xm(E.target)){const F=new Xt(E.target.path);null!==this.jt.get(F)||this.ae(_,F)||this.Yt(_,F,hs.newNoDocument(F,e))}p.Mt&&(t.set(_,p.Ot()),p.Ft())}});let i=Er();this.zt.forEach((p,_)=>{let E=!0;_.forEachWhile(F=>{const H=this.se(F);return!H||"TargetPurposeLimboResolution"===H.purpose||(E=!1,!1)}),E&&(i=i.add(p))}),this.jt.forEach((p,_)=>_.setReadTime(e));const c=new Um(e,t,this.Wt,this.jt,i);return this.jt=Ac(),this.zt=BT(),this.Wt=new jr(qn),c}Jt(e,t){if(!this.te(e))return;const i=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,i),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,i){if(!this.te(e))return;const c=this.Zt(e);this.ae(e,t)?c.Bt(t,1):c.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),i&&(this.jt=this.jt.insert(t,i))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new vw,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Lt(qn),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Ot("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new vw),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function BT(){return new jr(Xt.comparator)}function VT(){return new jr(Xt.comparator)}const Gm={asc:"ASCENDING",desc:"DESCENDING"},cS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bw={and:"AND",or:"OR"};class lS{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function F0(n,e){return n.useProto3Json||gh(e)?e:{value:e}}function eg(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function HD(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function jm(n,e){return eg(n,e.toTimestamp())}function Do(n){return wn(!!n),Sn.fromTimestamp(function(e){const t=js(e);return new Is(t.seconds,t.nanos)}(n))}function ww(n,e){return(t=n,new qr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function UT(n){const e=qr.fromString(n);return wn(Wm(e)),e}function Od(n,e){return ww(n.databaseId,e.path)}function Md(n,e){const t=UT(e);if(t.get(1)!==n.databaseId.projectId)throw new Ct(rt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ct(rt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Xt(GD(t))}function $m(n,e){return ww(n.databaseId,e)}function Ca(n){return new qr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function GD(n){return wn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Iw(n,e,t){return{name:Od(n,e),fields:t.value.mapValue.fields}}function jT(n,e){return{documents:[$m(n,e.path)]}}function Ew(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=$m(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=$m(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const c=function(F){if(0!==F.length)return Dw(Mi.create(F,"and"))}(e.filters);c&&(t.structuredQuery.where=c);const p=function(F){if(0!==F.length)return F.map(H=>{return{field:bh((te=H).field),direction:$D(te.dir)};var te})}(e.orderBy);p&&(t.structuredQuery.orderBy=p);const _=F0(n,e.limit);var E,F;return null!==_&&(t.structuredQuery.limit=_),e.startAt&&(t.structuredQuery.startAt={before:(E=e.startAt).inclusive,values:E.position}),e.endAt&&(t.structuredQuery.endAt={before:!(F=e.endAt).inclusive,values:F.position}),t}function $T(n){let e=function Ry(n){const e=UT(n);return 4===e.length?qr.emptyPath():GD(e)}(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let c=null;if(i>0){wn(1===i);const te=t.from[0];te.allDescendants?c=te.collectionId:e=e.child(te.collectionId)}let p=[];t.where&&(p=function(te){const pe=zT(te);return pe instanceof Mi&&E0(pe)?pe.getFilters():[pe]}(t.where));let _=[];t.orderBy&&(_=t.orderBy.map(te=>{return new Zp(tg((pe=te).field),function(Be){switch(Be){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(pe.direction));var pe}));let E=null;t.limit&&(E=function(te){let pe;return pe="object"==typeof te?te.value:te,gh(pe)?null:pe}(t.limit));let F=null;var te;t.startAt&&(F=new Sd((te=t.startAt).values||[],!!te.before));let H=null;return t.endAt&&(H=function(te){return new Sd(te.values||[],!te.before)}(t.endAt)),function bT(n,e,t,i,c,p,_,E){return new Nf(n,e,t,i,c,p,_,E)}(e,c,_,p,E,"F",F,H)}function zT(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=tg(e.unaryFilter.field);return Zr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=tg(e.unaryFilter.field);return Zr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=tg(e.unaryFilter.field);return Zr.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=tg(e.unaryFilter.field);return Zr.create(p,"!=",{nullValue:"NULL_VALUE"});default:return ln()}}(n):void 0!==n.fieldFilter?Zr.create(tg((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ln()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Mi.create(e.compositeFilter.filters.map(t=>zT(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return ln()}}(e.compositeFilter.op))}(n):ln();var e}function $D(n){return Gm[n]}function zD(n){return cS[n]}function B0(n){return bw[n]}function bh(n){return{fieldPath:n.canonicalString()}}function tg(n){return zi.fromServerFormat(n.fieldPath)}function Dw(n){return n instanceof Zr?function(e){if("=="===e.op){if(Mm(e.value))return{unaryFilter:{field:bh(e.field),op:"IS_NAN"}};if(Wp(e.value))return{unaryFilter:{field:bh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Mm(e.value))return{unaryFilter:{field:bh(e.field),op:"IS_NOT_NAN"}};if(Wp(e.value))return{unaryFilter:{field:bh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bh(e.field),op:zD(e.op),value:e.value}}}(n):n instanceof Mi?function(e){const t=e.getFilters().map(i=>Dw(i));return 1===t.length?t[0]:{compositeFilter:{op:B0(e.op),filters:t}}}(n):ln()}function WD(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Wm(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Dl{constructor(e,t,i,c,p=Sn.min(),_=Sn.min(),E=ei.EMPTY_BYTE_STRING,F=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=c,this.snapshotVersion=p,this.lastLimboFreeSnapshotVersion=_,this.resumeToken=E,this.expectedCount=F}withSequenceNumber(e){return new Dl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Dl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Dl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Dl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class WT{constructor(e){this.fe=e}}function Cw(n){const e=$T({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?O0(e,e.limit,"L"):e}class kf{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Vi(e.integerValue));else if("doubleValue"in e){const i=Vi(e.doubleValue);isNaN(i)?this.ye(t,13):(this.ye(t,15),Uu(i)?t.pe(0):t.pe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ye(t,20),"string"==typeof i?t.Ie(i):(t.Ie(`${i.seconds||""}`),t.pe(i.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Di(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?pT(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):ln()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const i=e.fields||{};this.ye(t,55);for(const c of Object.keys(i))this.Te(c,t),this.me(i[c],t)}Pe(e,t){const i=e.values||[];this.ye(t,50);for(const c of i)this.me(c,t)}ve(e,t){this.ye(t,37),Xt.fromName(e).path.forEach(i=>{this.ye(t,60),this.be(i,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}kf.Ve=new kf;class tC{constructor(){this.rn=new j0}addToCollectionParentIndex(e,t){return this.rn.add(t),qe.resolve()}getCollectionParents(e,t){return qe.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return qe.resolve()}deleteFieldIndex(e,t){return qe.resolve()}getDocumentsMatchingTarget(e,t){return qe.resolve(null)}getIndexType(e,t){return qe.resolve(0)}getFieldIndexes(e,t){return qe.resolve([])}getNextCollectionGroupToUpdate(e){return qe.resolve(null)}getMinOffset(e,t){return qe.resolve(Wa.min())}getMinOffsetFromCollectionGroup(e,t){return qe.resolve(Wa.min())}updateCollectionGroup(e,t,i){return qe.resolve()}updateIndexEntries(e,t){return qe.resolve()}}class j0{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),c=this.index[t]||new Lt(qr.comparator),p=!c.has(i);return this.index[t]=c.add(i),p}has(e){const t=e.lastSegment(),i=e.popLast(),c=this.index[t];return c&&c.has(i)}getEntries(e){return(this.index[e]||new Lt(qr.comparator)).toArray()}}new Uint8Array(0);class ac{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new ac(e,ac.DEFAULT_COLLECTION_PERCENTILE,ac.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}ac.DEFAULT_COLLECTION_PERCENTILE=10,ac.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ac.DEFAULT=new ac(41943040,ac.DEFAULT_COLLECTION_PERCENTILE,ac.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ac.DISABLED=new ac(-1,0,0);class Lf{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Lf(0)}static Mn(){return new Lf(-1)}}class iC{constructor(){this.changes=new Ad(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,hs.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?qe.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Fw{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Z0{constructor(e,t,i,c){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=c}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(c=>(i=c,this.remoteDocumentCache.getEntry(e,t))).next(c=>(null!==i&&Lm(i.mutation,c,$r.empty(),Is.now()),c))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Er()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Er()){const c=zu();return this.populateOverlays(e,c,t).next(()=>this.computeViews(e,t,c,i).next(p=>{let _=il();return p.forEach((E,F)=>{_=_.insert(E,F.overlayedDocument)}),_}))}getOverlayedDocuments(e,t){const i=zu();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Er()))}populateOverlays(e,t,i){const c=[];return i.forEach(p=>{t.has(p)||c.push(p)}),this.documentOverlayCache.getOverlays(e,c).next(p=>{p.forEach((_,E)=>{t.set(_,E)})})}computeViews(e,t,i,c){let p=Ac();const _=Nc(),E=Nc();return t.forEach((F,H)=>{const te=i.get(H.key);c.has(H.key)&&(void 0===te||te.mutation instanceof vh)?p=p.insert(H.key,H):void 0!==te?(_.set(H.key,te.mutation.getFieldMask()),Lm(te.mutation,H,te.mutation.getFieldMask(),Is.now())):_.set(H.key,$r.empty())}),this.recalculateAndSaveOverlays(e,p).next(F=>(F.forEach((H,te)=>_.set(H,te)),t.forEach((H,te)=>{var pe;return E.set(H,new Fw(te,null!==(pe=_.get(H))&&void 0!==pe?pe:null))}),E))}recalculateAndSaveOverlays(e,t){const i=Nc();let c=new jr((_,E)=>_-E),p=Er();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(_=>{for(const E of _)E.keys().forEach(F=>{const H=t.get(F);if(null===H)return;let te=i.get(F)||$r.empty();te=E.applyToLocalView(H,te),i.set(F,te);const pe=(c.get(E.batchId)||Er()).add(F);c=c.insert(E.batchId,pe)})}).next(()=>{const _=[],E=c.getReverseIterator();for(;E.hasNext();){const F=E.getNext(),H=F.key,te=F.value,pe=Wu();te.forEach(Be=>{if(!p.has(Be)){const lt=lw(t.get(Be),i.get(Be));null!==lt&&pe.set(Be,lt),p=p.add(Be)}}),_.push(this.documentOverlayCache.saveOverlays(e,H,pe))}return qe.waitFor(_)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return Xt.isDocumentKey((c=t).path)&&null===c.collectionGroup&&0===c.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):A0(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var c}getNextDocuments(e,t,i,c){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,c).next(p=>{const _=c-p.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,c-p.size):qe.resolve(zu());let E=-1,F=p;return _.next(H=>qe.forEach(H,(te,pe)=>(E<pe.largestBatchId&&(E=pe.largestBatchId),p.get(te)?qe.resolve():this.remoteDocumentCache.getEntry(e,te).next(Be=>{F=F.insert(te,Be)}))).next(()=>this.populateOverlays(e,H,p)).next(()=>this.computeViews(e,F,H,Er())).next(te=>({batchId:E,changes:IT(te)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Xt(t)).next(i=>{let c=il();return i.isFoundDocument()&&(c=c.insert(i.key,i)),c})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const c=t.collectionGroup;let p=il();return this.indexManager.getCollectionParents(e,c).next(_=>qe.forEach(_,E=>{const F=(H=t,te=E.child(c),new Nf(te,null,H.explicitOrderBy.slice(),H.filters.slice(),H.limit,H.limitType,H.startAt,H.endAt));var H,te;return this.getDocumentsMatchingCollectionQuery(e,F,i).next(H=>{H.forEach((te,pe)=>{p=p.insert(te,pe)})})}).next(()=>p))}getDocumentsMatchingCollectionQuery(e,t,i){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(p=>(c=p,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,c))).next(p=>{c.forEach((E,F)=>{const H=F.getKey();null===p.get(H)&&(p=p.insert(H,hs.newInvalidDocument(H)))});let _=il();return p.forEach((E,F)=>{const H=c.get(E);void 0!==H&&Lm(H.mutation,F,$r.empty(),Is.now()),Ny(t,F)&&(_=_.insert(E,F))}),_})}}class cC{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return qe.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var i;return this.cs.set(t.id,{id:(i=t).id,version:i.version,createTime:Do(i.createTime)}),qe.resolve()}getNamedQuery(e,t){return qe.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(i=t).name,query:Cw(i.bundledQuery),readTime:Do(i.readTime)}),qe.resolve();var i}}class cE{constructor(){this.overlays=new jr(Xt.comparator),this.ls=new Map}getOverlay(e,t){return qe.resolve(this.overlays.get(t))}getOverlays(e,t){const i=zu();return qe.forEach(t,c=>this.getOverlay(e,c).next(p=>{null!==p&&i.set(c,p)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((c,p)=>{this.we(e,t,p)}),qe.resolve()}removeOverlaysForBatchId(e,t,i){const c=this.ls.get(i);return void 0!==c&&(c.forEach(p=>this.overlays=this.overlays.remove(p)),this.ls.delete(i)),qe.resolve()}getOverlaysForCollection(e,t,i){const c=zu(),p=t.length+1,_=new Xt(t.child("")),E=this.overlays.getIteratorFrom(_);for(;E.hasNext();){const F=E.getNext().value,H=F.getKey();if(!t.isPrefixOf(H.path))break;H.path.length===p&&F.largestBatchId>i&&c.set(F.getKey(),F)}return qe.resolve(c)}getOverlaysForCollectionGroup(e,t,i,c){let p=new jr((H,te)=>H-te);const _=this.overlays.getIterator();for(;_.hasNext();){const H=_.getNext().value;if(H.getKey().getCollectionGroup()===t&&H.largestBatchId>i){let te=p.get(H.largestBatchId);null===te&&(te=zu(),p=p.insert(H.largestBatchId,te)),te.set(H.getKey(),H)}}const E=zu(),F=p.getIterator();for(;F.hasNext()&&(F.getNext().value.forEach((H,te)=>E.set(H,te)),!(E.size()>=c)););return qe.resolve(E)}we(e,t,i){const c=this.overlays.get(i.key);if(null!==c){const _=this.ls.get(c.largestBatchId).delete(i.key);this.ls.set(c.largestBatchId,_)}this.overlays=this.overlays.insert(i.key,new pw(t,i));let p=this.ls.get(t);void 0===p&&(p=Er(),this.ls.set(t,p)),this.ls.set(t,p.add(i.key))}}class K0{constructor(){this.fs=new Lt(Sa.ds),this.ws=new Lt(Sa._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const i=new Sa(e,t);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.ys(new Sa(e,t))}ps(e,t){e.forEach(i=>this.removeReference(i,t))}Is(e){const t=new Xt(new qr([])),i=new Sa(t,e),c=new Sa(t,e+1),p=[];return this.ws.forEachInRange([i,c],_=>{this.ys(_),p.push(_.key)}),p}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Xt(new qr([])),i=new Sa(t,e),c=new Sa(t,e+1);let p=Er();return this.ws.forEachInRange([i,c],_=>{p=p.add(_.key)}),p}containsKey(e){const t=new Sa(e,0),i=this.fs.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Sa{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Xt.comparator(e.key,t.key)||qn(e.As,t.As)}static _s(e,t){return qn(e.As,t.As)||Xt.comparator(e.key,t.key)}}class lE{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Lt(Sa.ds)}checkEmpty(e){return qe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,c){const p=this.vs;this.vs++;const _=new hw(p,t,i,c);this.mutationQueue.push(_);for(const E of c)this.Rs=this.Rs.add(new Sa(E.key,p)),this.indexManager.addToCollectionParentIndex(e,E.key.path.popLast());return qe.resolve(_)}lookupMutationBatch(e,t){return qe.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const c=this.bs(t+1),p=c<0?0:c;return qe.resolve(this.mutationQueue.length>p?this.mutationQueue[p]:null)}getHighestUnacknowledgedBatchId(){return qe.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return qe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Sa(t,0),c=new Sa(t,Number.POSITIVE_INFINITY),p=[];return this.Rs.forEachInRange([i,c],_=>{const E=this.Ps(_.As);p.push(E)}),qe.resolve(p)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Lt(qn);return t.forEach(c=>{const p=new Sa(c,0),_=new Sa(c,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([p,_],E=>{i=i.add(E.As)})}),qe.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,c=i.length+1;let p=i;Xt.isDocumentKey(p)||(p=p.child(""));const _=new Sa(new Xt(p),0);let E=new Lt(qn);return this.Rs.forEachWhile(F=>{const H=F.key.path;return!!i.isPrefixOf(H)&&(H.length===c&&(E=E.add(F.As)),!0)},_),qe.resolve(this.Vs(E))}Vs(e){const t=[];return e.forEach(i=>{const c=this.Ps(i);null!==c&&t.push(c)}),t}removeMutationBatch(e,t){wn(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return qe.forEach(t.mutations,c=>{const p=new Sa(c.key,t.batchId);return i=i.delete(p),this.referenceDelegate.markPotentiallyOrphaned(e,c.key)}).next(()=>{this.Rs=i})}Cn(e){}containsKey(e,t){const i=new Sa(t,0),c=this.Rs.firstAfterOrEqual(i);return qe.resolve(t.isEqual(c&&c.key))}performConsistencyCheck(e){return qe.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Lw{constructor(e){this.Ds=e,this.docs=new jr(Xt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,c=this.docs.get(i),p=c?c.size:0,_=this.Ds(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:_}),this.size+=_-p,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return qe.resolve(i?i.document.mutableCopy():hs.newInvalidDocument(t))}getEntries(e,t){let i=Ac();return t.forEach(c=>{const p=this.docs.get(c);i=i.insert(c,p?p.document.mutableCopy():hs.newInvalidDocument(c))}),qe.resolve(i)}getDocumentsMatchingQuery(e,t,i,c){let p=Ac();const _=t.path,E=new Xt(_.child("")),F=this.docs.getIteratorFrom(E);for(;F.hasNext();){const{key:H,value:{document:te}}=F.getNext();if(!_.isPrefixOf(H.path))break;H.path.length>_.length+1||Nm(y0(te),i)<=0||(c.has(te.key)||Ny(t,te))&&(p=p.insert(te.key,te.mutableCopy()))}return qe.resolve(p)}getAllFromCollectionGroup(e,t,i,c){ln()}Cs(e,t){return qe.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new uE(this)}getSize(e){return qe.resolve(this.size)}}class uE extends iC{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((i,c)=>{c.isValidDocument()?t.push(this.os.addEntry(e,c)):this.os.removeEntry(i)}),qe.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class dE{constructor(e){this.persistence=e,this.xs=new Ad(t=>yh(t),$u),this.lastRemoteSnapshotVersion=Sn.min(),this.highestTargetId=0,this.Ns=0,this.ks=new K0,this.targetCount=0,this.Ms=Lf.kn()}forEachTarget(e,t){return this.xs.forEach((i,c)=>t(c)),qe.resolve()}getLastRemoteSnapshotVersion(e){return qe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return qe.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),qe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Ns&&(this.Ns=t),qe.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Lf(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,qe.resolve()}updateTargetData(e,t){return this.Fn(t),qe.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,qe.resolve()}removeTargets(e,t,i){let c=0;const p=[];return this.xs.forEach((_,E)=>{E.sequenceNumber<=t&&null===i.get(E.targetId)&&(this.xs.delete(_),p.push(this.removeMatchingKeysForTargetId(e,E.targetId)),c++)}),qe.waitFor(p).next(()=>c)}getTargetCount(e){return qe.resolve(this.targetCount)}getTargetData(e,t){const i=this.xs.get(t)||null;return qe.resolve(i)}addMatchingKeys(e,t,i){return this.ks.gs(t,i),qe.resolve()}removeMatchingKeys(e,t,i){this.ks.ps(t,i);const c=this.persistence.referenceDelegate,p=[];return c&&t.forEach(_=>{p.push(c.markPotentiallyOrphaned(e,_))}),qe.waitFor(p)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),qe.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ks.Es(t);return qe.resolve(i)}containsKey(e,t){return qe.resolve(this.ks.containsKey(t))}}class Y0{constructor(e,t){this.$s={},this.overlays={},this.Os=new is(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new dE(this),this.indexManager=new tC,this.remoteDocumentCache=new Lw(i=>this.referenceDelegate.Ls(i)),this.serializer=new WT(t),this.qs=new cC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new cE,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.$s[e.toKey()];return i||(i=new lE(t,this.referenceDelegate),this.$s[e.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,i){Ot("MemoryPersistence","Starting transaction:",e);const c=new hE(this.Os.next());return this.referenceDelegate.Us(),i(c).next(p=>this.referenceDelegate.Ks(c).next(()=>p)).toPromise().then(p=>(c.raiseOnCommittedEvent(),p))}Gs(e,t){return qe.or(Object.values(this.$s).map(i=>()=>i.containsKey(e,t)))}}class hE extends Hb{constructor(e){super(),this.currentSequenceNumber=e}}class Q0{constructor(e){this.persistence=e,this.Qs=new K0,this.js=null}static zs(e){return new Q0(e)}get Ws(){if(this.js)return this.js;throw ln()}addReference(e,t,i){return this.Qs.addReference(i,t),this.Ws.delete(i.toString()),qe.resolve()}removeReference(e,t,i){return this.Qs.removeReference(i,t),this.Ws.add(i.toString()),qe.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),qe.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(c=>this.Ws.add(c.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(c=>{c.forEach(p=>this.Ws.add(p.toString()))}).next(()=>i.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return qe.forEach(this.Ws,i=>{const c=Xt.fromPath(i);return this.Hs(e,c).next(p=>{p||t.removeEntry(c,Sn.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(i=>{i?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return qe.or([()=>qe.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class gE{constructor(e,t,i,c){this.targetId=e,this.fromCache=t,this.Fi=i,this.Bi=c}static Li(e,t){let i=Er(),c=Er();for(const p of t.docChanges)switch(p.type){case 0:i=i.add(p.doc.key);break;case 1:c=c.add(p.doc.key)}return new gE(e,t.fromCache,i,c)}}class mE{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,i,c){return this.Ki(e,t).next(p=>p||this.Gi(e,t,c,i)).next(p=>p||this.Qi(e,t))}Ki(e,t){if(ew(t))return qe.resolve(null);let i=Sc(t);return this.indexManager.getIndexType(e,i).next(c=>0===c?null:(null!==t.limit&&1===c&&(t=O0(t,null,"F"),i=Sc(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(p=>{const _=Er(...p);return this.Ui.getDocuments(e,_).next(E=>this.indexManager.getMinOffset(e,i).next(F=>{const H=this.ji(t,E);return this.zi(t,H,_,F.readTime)?this.Ki(e,O0(t,null,"F")):this.Wi(e,H,t,F)}))})))}Gi(e,t,i,c){return ew(t)||c.isEqual(Sn.min())?this.Qi(e,t):this.Ui.getDocuments(e,i).next(p=>{const _=this.ji(t,p);return this.zi(t,_,i,c)?this.Qi(e,t):(Ty()<=Ee.in.DEBUG&&Ot("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),Of(t)),this.Wi(e,_,t,function Am(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,c=Sn.fromTimestamp(1e9===i?new Is(t+1,0):new Is(t,i));return new Wa(c,Xt.empty(),e)}(c,-1)))})}ji(e,t){let i=new Lt(rw(e));return t.forEach((c,p)=>{Ny(e,p)&&(i=i.add(p))}),i}zi(e,t,i,c){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const p="F"===e.limitType?t.last():t.first();return!!p&&(p.hasPendingWrites||p.version.compareTo(c)>0)}Qi(e,t){return Ty()<=Ee.in.DEBUG&&Ot("QueryEngine","Using full collection scan to execute query:",Of(t)),this.Ui.getDocumentsMatchingQuery(e,t,Wa.min())}Wi(e,t,i,c){return this.Ui.getDocumentsMatchingQuery(e,i,c).next(p=>(t.forEach(_=>{p=p.insert(_.key,_)}),p))}}class uC{constructor(e,t,i,c){this.persistence=e,this.Hi=t,this.serializer=c,this.Ji=new jr(qn),this.Yi=new Ad(p=>yh(p),$u),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(i)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Z0(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function Vw(n,e){return t1.apply(this,arguments)}function t1(){return t1=(0,de.Z)(function*(n,e){const t=Jt(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let c;return t.mutationQueue.getAllMutationBatches(i).next(p=>(c=p,t.tr(e),t.mutationQueue.getAllMutationBatches(i))).next(p=>{const _=[],E=[];let F=Er();for(const H of c){_.push(H.batchId);for(const te of H.mutations)F=F.add(te.key)}for(const H of p){E.push(H.batchId);for(const te of H.mutations)F=F.add(te.key)}return t.localDocuments.getDocuments(i,F).next(H=>({er:H,removedBatchIds:_,addedBatchIds:E}))})})}),t1.apply(this,arguments)}function vE(n){const e=Jt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function hC(n,e){const t=Jt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function r_(n,e,t){return ig.apply(this,arguments)}function ig(){return ig=(0,de.Z)(function*(n,e,t){const i=Jt(n),c=i.Ji.get(e),p=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",p,_=>i.persistence.referenceDelegate.removeTarget(_,c)))}catch(_){if(!eu(_))throw _;Ot("LocalStore",`Failed to update sequence numbers for target ${e}: ${_}`)}i.Ji=i.Ji.remove(e),i.Yi.delete(c.target)}),ig.apply(this,arguments)}function Gy(n,e,t){const i=Jt(n);let c=Sn.min(),p=Er();return i.persistence.runTransaction("Execute query","readonly",_=>function(E,F,H){const te=Jt(E),pe=te.Yi.get(H);return void 0!==pe?qe.resolve(te.Ji.get(pe)):te.Bs.getTargetData(F,H)}(i,_,Sc(e)).next(E=>{if(E)return c=E.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(_,E.targetId).next(F=>{p=F})}).next(()=>i.Hi.getDocumentsMatchingQuery(_,e,t?c:Sn.min(),t?p:Er())).next(E=>(function Gw(n,e,t){let i=n.Xi.get(e)||Sn.min();t.forEach((c,p)=>{p.readTime.compareTo(i)>0&&(i=p.readTime)}),n.Xi.set(e,i)}(i,function wT(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),E),{documents:E,ir:p})))}class $w{constructor(){this.activeTargetIds=function iw(){return FD}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class TE{constructor(){this.Hr=new $w,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,i){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new $w,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class dS{Yr(e){}shutdown(){}}class EE{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ot("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Ot("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let zw=null;function og(){return null===zw?zw=268435456+Math.round(2147483648*Math.random()):zw++,"0x"+zw.toString(16)}const gC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mC{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const cc="WebChannelConnection";class o1 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,i,c,p){const _=og(),E=this.To(e,t);Ot("RestConnection",`Sending RPC '${e}' ${_}:`,E,i);const F={};return this.Eo(F,c,p),this.Ao(e,E,F,i).then(H=>(Ot("RestConnection",`Received RPC '${e}' ${_}: `,H),H),H=>{throw el("RestConnection",`RPC '${e}' ${_} failed with error: `,H,"url: ",E,"request:",i),H})}vo(e,t,i,c,p,_){return this.Io(e,t,i,c,p)}Eo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+dh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((c,p)=>e[p]=c),i&&i.headers.forEach((c,p)=>e[p]=c)}To(e,t){return`${this.mo}/v1/${t}:${gC[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,i,c){const p=og();return new Promise((_,E)=>{const F=new hT;F.setWithCredentials(!0),F.listenOnce(u0.COMPLETE,()=>{try{switch(F.getLastErrorCode()){case Tm.NO_ERROR:const te=F.getResponseJson();Ot(cc,`XHR for RPC '${e}' ${p} received:`,JSON.stringify(te)),_(te);break;case Tm.TIMEOUT:Ot(cc,`RPC '${e}' ${p} timed out`),E(new Ct(rt.DEADLINE_EXCEEDED,"Request time out"));break;case Tm.HTTP_ERROR:const pe=F.getStatus();if(Ot(cc,`RPC '${e}' ${p} failed with status:`,pe,"response text:",F.getResponseText()),pe>0){let Be=F.getResponseJson();Array.isArray(Be)&&(Be=Be[0]);const lt=Be?.error;if(lt&&lt.status&&lt.message){const Pt=function(sn){const an=sn.toLowerCase().replace(/_/g,"-");return Object.values(rt).indexOf(an)>=0?an:rt.UNKNOWN}(lt.status);E(new Ct(Pt,lt.message))}else E(new Ct(rt.UNKNOWN,"Server responded with status "+F.getStatus()))}else E(new Ct(rt.UNAVAILABLE,"Connection failed."));break;default:ln()}}finally{Ot(cc,`RPC '${e}' ${p} completed.`)}});const H=JSON.stringify(c);Ot(cc,`RPC '${e}' ${p} sending request:`,c),F.send(t,"POST",H,i,15)})}Ro(e,t,i){const c=og(),p=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],_=Bp(),E=Im(),F={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},H=this.longPollingOptions.timeoutSeconds;void 0!==H&&(F.longPollingTimeout=Math.round(1e3*H)),this.useFetchStreams&&(F.xmlHttpFactory=new yf({})),this.Eo(F.initMessageHeaders,t,i),F.encodeInitMessageHeaders=!0;const te=p.join("");Ot(cc,`Creating RPC '${e}' stream ${c}: ${te}`,F);const pe=_.createWebChannel(te,F);let Be=!1,lt=!1;const Pt=new mC({ro:an=>{lt?Ot(cc,`Not sending because RPC '${e}' stream ${c} is closed:`,an):(Be||(Ot(cc,`Opening RPC '${e}' stream ${c} transport.`),pe.open(),Be=!0),Ot(cc,`RPC '${e}' stream ${c} sending:`,an),pe.send(an))},oo:()=>pe.close()}),sn=(an,Dr,ni)=>{an.listen(Dr,kr=>{try{ni(kr)}catch(Zo){setTimeout(()=>{throw Zo},0)}})};return sn(pe,Vp.EventType.OPEN,()=>{lt||Ot(cc,`RPC '${e}' stream ${c} transport opened.`)}),sn(pe,Vp.EventType.CLOSE,()=>{lt||(lt=!0,Ot(cc,`RPC '${e}' stream ${c} transport closed`),Pt.wo())}),sn(pe,Vp.EventType.ERROR,an=>{lt||(lt=!0,el(cc,`RPC '${e}' stream ${c} transport errored:`,an),Pt.wo(new Ct(rt.UNAVAILABLE,"The operation could not be completed")))}),sn(pe,Vp.EventType.MESSAGE,an=>{var Dr;if(!lt){const ni=an.data[0];wn(!!ni);const Zo=ni.error||(null===(Dr=ni[0])||void 0===Dr?void 0:Dr.error);if(Zo){Ot(cc,`RPC '${e}' stream ${c} received error:`,Zo);const So=Zo.status;let os=function(gg){const X1=qo[gg];if(void 0!==X1)return kT(X1)}(So),xc=Zo.message;void 0===os&&(os=rt.INTERNAL,xc="Unknown error status: "+So+" with message "+Zo.message),lt=!0,Pt.wo(new Ct(os,xc)),pe.close()}else Ot(cc,`RPC '${e}' stream ${c} received:`,ni),Pt._o(ni)}}),sn(E,d0.STAT_EVENT,an=>{an.stat===h0.PROXY?Ot(cc,`RPC '${e}' stream ${c} detected buffering proxy`):an.stat===h0.NOPROXY&&Ot(cc,`RPC '${e}' stream ${c} detected no buffering proxy`)}),setTimeout(()=>{Pt.fo()},0),Pt}}function a1(){return typeof document<"u"?document:null}function i_(n){return new lS(n,!0)}class s_{constructor(e,t,i=1e3,c=1.5,p=6e4){this.ii=e,this.timerId=t,this.Po=i,this.bo=c,this.Vo=p,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),c=Math.max(0,t-i);c>0&&Ot("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,c,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class DE{constructor(e,t,i,c,p,_,E,F){this.ii=e,this.$o=i,this.Oo=c,this.connection=p,this.authCredentialsProvider=_,this.appCheckCredentialsProvider=E,this.listener=F,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new s_(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,de.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,de.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var i=this;return(0,de.Z)(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==e?i.qo.reset():t&&t.code===rt.RESOURCE_EXHAUSTED?(Gs(t.toString()),Gs("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):t&&t.code===rt.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,c])=>{this.Fo===t&&this.Zo(i,c)},i=>{e(()=>{const c=new Ct(rt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(c)})})}Zo(e,t){const i=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(c=>{i(()=>this.tu(c))}),this.stream.onMessage(c=>{i(()=>this.onMessage(c))})}Go(){var e=this;this.state=5,this.qo.No((0,de.Z)(function*(){e.state=0,e.start()}))}tu(e){return Ot("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Ot("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _C extends DE{constructor(e,t,i,c,p,_){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,c,_),this.serializer=p}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function HT(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(F=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===F?1:"REMOVE"===F?2:"CURRENT"===F?3:"RESET"===F?4:ln(),c=e.targetChange.targetIds||[],p=function(F,H){return F.useProto3Json?(wn(void 0===H||"string"==typeof H),ei.fromBase64String(H||"")):(wn(void 0===H||H instanceof Uint8Array),ei.fromUint8Array(H||new Uint8Array))}(n,e.targetChange.resumeToken),_=e.targetChange.cause,E=_&&function(F){const H=void 0===F.code?rt.UNKNOWN:kT(F.code);return new Ct(H,F.message||"")}(_);t=new k0(i,c,p,E||null)}else if("documentChange"in e){const i=e.documentChange,c=Md(n,i.document.name),p=Do(i.document.updateTime),_=i.document.createTime?Do(i.document.createTime):Sn.min(),E=new Za({mapValue:{fields:i.document.fields}}),F=hs.newFoundDocument(c,p,_,E);t=new xy(i.targetIds||[],i.removedTargetIds||[],F.key,F)}else if("documentDelete"in e){const i=e.documentDelete,c=Md(n,i.document),p=i.readTime?Do(i.readTime):Sn.min(),_=hs.newNoDocument(c,p);t=new xy([],i.removedTargetIds||[],_.key,_)}else if("documentRemove"in e){const i=e.documentRemove,c=Md(n,i.document);t=new xy([],i.removedTargetIds||[],c,null)}else{if(!("filter"in e))return ln();{const i=e.filter,{count:c=0,unchangedNames:p}=i,_=new UD(c,p);t=new yw(i.targetId,_)}}var F;return t}(this.serializer,e),i=function(c){if(!("targetChange"in c))return Sn.min();const p=c.targetChange;return p.targetIds&&p.targetIds.length?Sn.min():p.readTime?Do(p.readTime):Sn.min()}(e);return this.listener.nu(t,i)}su(e){const t={};t.database=Ca(this.serializer),t.addTarget=function(c,p){let _;const E=p.target;if(_=xm(E)?{documents:jT(c,E)}:{query:Ew(c,E)},_.targetId=p.targetId,p.resumeToken.approximateByteSize()>0){_.resumeToken=HD(c,p.resumeToken);const F=F0(c,p.expectedCount);null!==F&&(_.expectedCount=F)}else if(p.snapshotVersion.compareTo(Sn.min())>0){_.readTime=eg(c,p.snapshotVersion.toTimestamp());const F=F0(c,p.expectedCount);null!==F&&(_.expectedCount=F)}return _}(this.serializer,e);const i=function Py(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ln()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Wo(t)}iu(e){const t={};t.database=Ca(this.serializer),t.removeTarget=e,this.Wo(t)}}class CE extends DE{constructor(e,t,i,c,p,_){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,c,_),this.serializer=p,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(wn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function GT(n,e){return n&&n.length>0?(wn(void 0!==e),n.map(t=>function(i,c){let p=Do(i.updateTime?i.updateTime:c);return p.isEqual(Sn.min())&&(p=Do(c)),new cw(p,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Do(e.commitTime);return this.listener.cu(i,t)}return wn(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Ca(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>function zm(n,e){let t;if(e instanceof Jp)t={update:Iw(n,e.key,e.value)};else if(e instanceof Bm)t={delete:Od(n,e.key)};else if(e instanceof vh)t={update:Iw(n,e.key,e.data),updateMask:WD(e.fieldMask)};else{if(!(e instanceof dw))return ln();t={verify:Od(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(c,p){const _=p.transform;if(_ instanceof km)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(_ instanceof xf)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:_.elements}};if(_ instanceof Nd)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:_.elements}};if(_ instanceof Qp)return{fieldPath:p.field.canonicalString(),increment:_.gt};throw ln()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(c=e.precondition).updateTime?{updateTime:jm(n,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:ln()),t;var c}(this.serializer,i))};this.Wo(t)}}class yC extends class{}{constructor(e,t,i,c){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=c,this.lu=!1}fu(){if(this.lu)throw new Ct(rt.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,p])=>this.connection.Io(e,t,i,c,p)).catch(c=>{throw"FirebaseError"===c.name?(c.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ct(rt.UNKNOWN,c.toString())})}vo(e,t,i,c){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,_])=>this.connection.vo(e,t,i,p,_,c)).catch(p=>{throw"FirebaseError"===p.name?(p.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new Ct(rt.UNKNOWN,p.toString())})}terminate(){this.lu=!0}}class l1{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Gs(t),this.mu=!1):Ot("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class bC{constructor(e,t,i,c,p){var _=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=p,this.Pu.Yr(E=>{i.enqueueAndForget((0,de.Z)(function*(){var F;xd(_)&&(Ot("RemoteStore","Restarting streams for network reachability change."),yield(F=(0,de.Z)(function*(H){const te=Jt(H);te.vu.add(4),yield ag(te),te.bu.set("Unknown"),te.vu.delete(4),yield zy(te)}),function(H){return F.apply(this,arguments)})(_))}))}),this.bu=new l1(i,c)}}function zy(n){return u1.apply(this,arguments)}function u1(){return u1=(0,de.Z)(function*(n){if(xd(n))for(const e of n.Ru)yield e(!0)}),u1.apply(this,arguments)}function ag(n){return Wy.apply(this,arguments)}function Wy(){return Wy=(0,de.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),Wy.apply(this,arguments)}function qy(n,e){const t=Jt(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),Kw(t)?Zw(t):Qy(t).Ko()&&d1(t,e))}function Zy(n,e){const t=Jt(n),i=Qy(t);t.Au.delete(e),i.Ko()&&qw(t,e),0===t.Au.size&&(i.Ko()?i.jo():xd(t)&&t.bu.set("Unknown"))}function d1(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Sn.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Qy(n).su(e)}function qw(n,e){n.Vu.qt(e),Qy(n).iu(e)}function Zw(n){n.Vu=new Xp({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),Qy(n).start(),n.bu.gu()}function Kw(n){return xd(n)&&!Qy(n).Uo()&&n.Au.size>0}function xd(n){return 0===Jt(n).vu.size}function h1(n){n.Vu=void 0}function SE(n){return Ky.apply(this,arguments)}function Ky(){return Ky=(0,de.Z)(function*(n){n.Au.forEach((e,t)=>{d1(n,e)})}),Ky.apply(this,arguments)}function Yw(n,e){return Qw.apply(this,arguments)}function Qw(){return Qw=(0,de.Z)(function*(n,e){h1(n),Kw(n)?(n.bu.Iu(e),Zw(n)):n.bu.set("Unknown")}),Qw.apply(this,arguments)}function wC(n,e,t){return Jw.apply(this,arguments)}function Jw(){return Jw=(0,de.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof k0&&2===e.state&&e.cause)try{yield(i=(0,de.Z)(function*(c,p){const _=p.cause;for(const E of p.targetIds)c.Au.has(E)&&(yield c.remoteSyncer.rejectListen(E,_),c.Au.delete(E),c.Vu.removeTarget(E))}),function(c,p){return i.apply(this,arguments)})(n,e)}catch(i){Ot("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield f1(n,i)}else if(e instanceof xy?n.Vu.Ht(e):e instanceof yw?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(Sn.min()))try{const i=yield vE(n.localStore);t.compareTo(i)>=0&&(yield function(c,p){const _=c.Vu.ce(p);return _.targetChanges.forEach((E,F)=>{if(E.resumeToken.approximateByteSize()>0){const H=c.Au.get(F);H&&c.Au.set(F,H.withResumeToken(E.resumeToken,p))}}),_.targetMismatches.forEach((E,F)=>{const H=c.Au.get(E);if(!H)return;c.Au.set(E,H.withResumeToken(ei.EMPTY_BYTE_STRING,H.snapshotVersion)),qw(c,E);const te=new Dl(H.target,E,F,H.sequenceNumber);d1(c,te)}),c.remoteSyncer.applyRemoteEvent(_)}(n,t))}catch(i){Ot("RemoteStore","Failed to raise snapshot:",i),yield f1(n,i)}var i}),Jw.apply(this,arguments)}function f1(n,e,t){return p1.apply(this,arguments)}function p1(){return p1=(0,de.Z)(function*(n,e,t){if(!eu(e))throw e;n.vu.add(1),yield ag(n),n.bu.set("Offline"),t||(t=()=>vE(n.localStore)),n.asyncQueue.enqueueRetryable((0,de.Z)(function*(){Ot("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield zy(n)}))}),p1.apply(this,arguments)}function g1(n,e){return e().catch(t=>f1(n,t,e))}function cg(n){return m1.apply(this,arguments)}function m1(){return m1=(0,de.Z)(function*(n){const e=Jt(n),t=lg(e);let i=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;AE(e);)try{const c=yield hC(e.localStore,i);if(null===c){0===e.Eu.length&&t.jo();break}i=c.batchId,NE(e,c)}catch(c){yield f1(e,c)}OE(e)&&Xw(e)}),m1.apply(this,arguments)}function AE(n){return xd(n)&&n.Eu.length<10}function NE(n,e){n.Eu.push(e);const t=lg(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function OE(n){return xd(n)&&!lg(n).Uo()&&n.Eu.length>0}function Xw(n){lg(n).start()}function ME(n){return eI.apply(this,arguments)}function eI(){return eI=(0,de.Z)(function*(n){lg(n).hu()}),eI.apply(this,arguments)}function xE(n){return _1.apply(this,arguments)}function _1(){return _1=(0,de.Z)(function*(n){const e=lg(n);for(const t of n.Eu)e.uu(t.mutations)}),_1.apply(this,arguments)}function Oc(n,e,t){return Vf.apply(this,arguments)}function Vf(){return Vf=(0,de.Z)(function*(n,e,t){const i=n.Eu.shift(),c=fw.from(i,e,t);yield g1(n,()=>n.remoteSyncer.applySuccessfulWrite(c)),yield cg(n)}),Vf.apply(this,arguments)}function IC(n,e){return tI.apply(this,arguments)}function tI(){return tI=(0,de.Z)(function*(n,e){var t;e&&lg(n).ou&&(yield(t=(0,de.Z)(function*(i,c){if(function PT(n){switch(n){default:return ln();case rt.CANCELLED:case rt.UNKNOWN:case rt.DEADLINE_EXCEEDED:case rt.RESOURCE_EXHAUSTED:case rt.INTERNAL:case rt.UNAVAILABLE:case rt.UNAUTHENTICATED:return!1;case rt.INVALID_ARGUMENT:case rt.NOT_FOUND:case rt.ALREADY_EXISTS:case rt.PERMISSION_DENIED:case rt.FAILED_PRECONDITION:case rt.ABORTED:case rt.OUT_OF_RANGE:case rt.UNIMPLEMENTED:case rt.DATA_LOSS:return!0}}(p=c.code)&&p!==rt.ABORTED){const _=i.Eu.shift();lg(i).Qo(),yield g1(i,()=>i.remoteSyncer.rejectFailedWrite(_.batchId,c)),yield cg(i)}var p}),function(i,c){return t.apply(this,arguments)})(n,e)),OE(n)&&Xw(n)}),tI.apply(this,arguments)}function TC(n,e){return RE.apply(this,arguments)}function RE(){return RE=(0,de.Z)(function*(n,e){const t=Jt(n);t.asyncQueue.verifyOperationInProgress(),Ot("RemoteStore","RemoteStore received new credentials");const i=xd(t);t.vu.add(3),yield ag(t),i&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield zy(t)}),RE.apply(this,arguments)}function Yy(){return Yy=(0,de.Z)(function*(n,e){const t=Jt(n);e?(t.vu.delete(2),yield zy(t)):e||(t.vu.add(2),yield ag(t),t.bu.set("Unknown"))}),Yy.apply(this,arguments)}function Qy(n){return n.Su||(n.Su=function(e,t,i){const c=Jt(e);return c.fu(),new _C(t,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,i)}(n.datastore,n.asyncQueue,{uo:SE.bind(null,n),ao:Yw.bind(null,n),nu:wC.bind(null,n)}),n.Ru.push(function(){var e=(0,de.Z)(function*(t){t?(n.Su.Qo(),Kw(n)?Zw(n):n.bu.set("Unknown")):(yield n.Su.stop(),h1(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function lg(n){return n.Du||(n.Du=function(e,t,i){const c=Jt(e);return c.fu(),new CE(t,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,i)}(n.datastore,n.asyncQueue,{uo:ME.bind(null,n),ao:IC.bind(null,n),au:xE.bind(null,n),cu:Oc.bind(null,n)}),n.Ru.push(function(){var e=(0,de.Z)(function*(t){t?(n.Du.Qo(),yield cg(n)):(yield n.Du.stop(),n.Eu.length>0&&(Ot("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class PE{constructor(e,t,i,c,p){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=c,this.removalCallback=p,this.deferred=new so,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(_=>{})}static createAndSchedule(e,t,i,c,p){const _=Date.now()+i,E=new PE(e,t,_,c,p);return E.start(i),E}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ct(rt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Rd(n,e){if(Gs("AsyncQueue",`${e}: ${n}`),eu(n))return new Ct(rt.UNAVAILABLE,`${e}: ${n}`);throw n}class o_{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Xt.comparator(t.key,i.key):(t,i)=>Xt.comparator(t.key,i.key),this.keyedMap=il(),this.sortedSet=new jr(this.comparator)}static emptySet(e){return new o_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof o_)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const c=t.getNext().key,p=i.getNext().key;if(!c.isEqual(p))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new o_;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class v1{constructor(){this.Cu=new jr(Xt.comparator)}track(e){const t=e.doc.key,i=this.Cu.get(t);i?0!==e.type&&3===i.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==i.type?this.Cu=this.Cu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Cu=this.Cu.remove(t):1===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):ln():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,i)=>{e.push(i)}),e}}class a_{constructor(e,t,i,c,p,_,E,F,H){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=c,this.mutatedKeys=p,this.fromCache=_,this.syncStateChanged=E,this.excludesMetadataChanges=F,this.hasCachedResults=H}static fromInitialDocuments(e,t,i,c,p){const _=[];return t.forEach(E=>{_.push({type:0,doc:E})}),new a_(e,t,o_.emptySet(t),_,i,c,!0,!1,p)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let c=0;c<t.length;c++)if(t[c].type!==i[c].type||!t[c].doc.isEqual(i[c].doc))return!1;return!0}}class kE{constructor(){this.Nu=void 0,this.listeners=[]}}class EC{constructor(){this.queries=new Ad(e=>nw(e),Pm),this.onlineState="Unknown",this.ku=new Set}}function nI(n,e){return rI.apply(this,arguments)}function rI(){return rI=(0,de.Z)(function*(n,e){const t=Jt(n),i=e.query;let c=!1,p=t.queries.get(i);if(p||(c=!0,p=new kE),c)try{p.Nu=yield t.onListen(i)}catch(_){const E=Rd(_,`Initialization of query '${Of(e.query)}' failed`);return void e.onError(E)}t.queries.set(i,p),p.listeners.push(e),e.Mu(t.onlineState),p.Nu&&e.$u(p.Nu)&&Xy(t)}),rI.apply(this,arguments)}function Jy(n,e){return b1.apply(this,arguments)}function b1(){return b1=(0,de.Z)(function*(n,e){const t=Jt(n),i=e.query;let c=!1;const p=t.queries.get(i);if(p){const _=p.listeners.indexOf(e);_>=0&&(p.listeners.splice(_,1),c=0===p.listeners.length)}if(c)return t.queries.delete(i),t.onUnlisten(i)}),b1.apply(this,arguments)}function DC(n,e){const t=Jt(n);let i=!1;for(const c of e){const _=t.queries.get(c.query);if(_){for(const E of _.listeners)E.$u(c)&&(i=!0);_.Nu=c}}i&&Xy(t)}function w1(n,e,t){const i=Jt(n),c=i.queries.get(e);if(c)for(const p of c.listeners)p.onError(t);i.queries.delete(e)}function Xy(n){n.ku.forEach(e=>{e.next()})}class FE{constructor(e,t,i){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(e){if(!this.options.includeMetadataChanges){const i=[];for(const c of e.docChanges)3!==c.type&&i.push(c);e=new a_(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=a_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class UE{constructor(e){this.key=e}}class iI{constructor(e){this.key=e}}class I1{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Er(),this.mutatedKeys=Er(),this.tc=rw(e),this.ec=new o_(this.tc)}get nc(){return this.Yu}sc(e,t){const i=t?t.ic:new v1,c=t?t.ec:this.ec;let p=t?t.mutatedKeys:this.mutatedKeys,_=c,E=!1;const F="F"===this.query.limitType&&c.size===this.query.limit?c.last():null,H="L"===this.query.limitType&&c.size===this.query.limit?c.first():null;if(e.inorderTraversal((te,pe)=>{const Be=c.get(te),lt=Ny(this.query,pe)?pe:null,Pt=!!Be&&this.mutatedKeys.has(Be.key),sn=!!lt&&(lt.hasLocalMutations||this.mutatedKeys.has(lt.key)&&lt.hasCommittedMutations);let an=!1;Be&&lt?Be.data.isEqual(lt.data)?Pt!==sn&&(i.track({type:3,doc:lt}),an=!0):this.rc(Be,lt)||(i.track({type:2,doc:lt}),an=!0,(F&&this.tc(lt,F)>0||H&&this.tc(lt,H)<0)&&(E=!0)):!Be&&lt?(i.track({type:0,doc:lt}),an=!0):Be&&!lt&&(i.track({type:1,doc:Be}),an=!0,(F||H)&&(E=!0)),an&&(lt?(_=_.add(lt),p=sn?p.add(te):p.delete(te)):(_=_.delete(te),p=p.delete(te)))}),null!==this.query.limit)for(;_.size>this.query.limit;){const te="F"===this.query.limitType?_.last():_.first();_=_.delete(te.key),p=p.delete(te.key),i.track({type:1,doc:te})}return{ec:_,ic:i,zi:E,mutatedKeys:p}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const c=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const p=e.ic.xu();p.sort((H,te)=>function(pe,Be){const lt=Pt=>{switch(Pt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ln()}};return lt(pe)-lt(Be)}(H.type,te.type)||this.tc(H.doc,te.doc)),this.oc(i);const _=t?this.uc():[],E=0===this.Zu.size&&this.current?1:0,F=E!==this.Xu;return this.Xu=E,0!==p.length||F?{snapshot:new a_(this.query,e.ec,c,p,e.mutatedKeys,0===E,F,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:_}:{cc:_}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new v1,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Er(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const t=[];return e.forEach(i=>{this.Zu.has(i)||t.push(new iI(i))}),this.Zu.forEach(i=>{e.has(i)||t.push(new UE(i))}),t}hc(e){this.Yu=e.ir,this.Zu=Er();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return a_.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class hS{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class CC{constructor(e){this.key=e,this.fc=!1}}class fS{constructor(e,t,i,c,p,_){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=c,this.currentUser=p,this.maxConcurrentLimboResolutions=_,this.dc={},this.wc=new Ad(E=>nw(E),Pm),this._c=new Map,this.mc=new Set,this.gc=new jr(Xt.comparator),this.yc=new Map,this.Ic=new K0,this.Tc={},this.Ec=new Map,this.Ac=Lf.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function SC(n,e){return sI.apply(this,arguments)}function sI(){return sI=(0,de.Z)(function*(n,e){const t=function mI(n){const e=Jt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=jE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AC.bind(null,e),e.dc.nu=DC.bind(null,e.eventManager),e.dc.Pc=w1.bind(null,e.eventManager),e}(n);let i,c;const p=t.wc.get(e);if(p)i=p.targetId,t.sharedClientState.addLocalQueryTarget(i),c=p.view.lc();else{const _=yield function n_(n,e){const t=Jt(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let c;return t.Bs.getTargetData(i,e).next(p=>p?(c=p,qe.resolve(c)):t.Bs.allocateTargetId(i).next(_=>(c=new Dl(e,_,"TargetPurposeListen",i.currentSequenceNumber),t.Bs.addTargetData(i,c).next(()=>c))))}).then(i=>{const c=t.Ji.get(i.targetId);return(null===c||i.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(i.targetId,i),t.Yi.set(e,i.targetId)),i})}(t.localStore,Sc(e)),E=t.sharedClientState.addLocalQueryTarget(_.targetId);i=_.targetId,c=yield function oI(n,e,t,i,c){return T1.apply(this,arguments)}(t,e,i,"current"===E,_.resumeToken),t.isPrimaryClient&&qy(t.remoteStore,_)}return c}),sI.apply(this,arguments)}function T1(){return T1=(0,de.Z)(function*(n,e,t,i,c){n.Rc=(pe,Be,lt)=>{return(Pt=(0,de.Z)(function*(sn,an,Dr,ni){let kr=an.view.sc(Dr);kr.zi&&(kr=yield Gy(sn.localStore,an.query,!1).then(({documents:os})=>an.view.sc(os,kr)));const Zo=ni&&ni.targetChanges.get(an.targetId),So=an.view.applyChanges(kr,sn.isPrimaryClient,Zo);return ZE(sn,an.targetId,So.cc),So.snapshot}),function(sn,an,Dr,ni){return Pt.apply(this,arguments)})(n,pe,Be,lt);var Pt};const p=yield Gy(n.localStore,e,!0),_=new I1(e,p.ir),E=_.sc(p.documents),F=Hm.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,c),H=_.applyChanges(E,n.isPrimaryClient,F);ZE(n,t,H.cc);const te=new hS(e,t,_);return n.wc.set(e,te),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),H.snapshot}),T1.apply(this,arguments)}function HE(n,e){return aI.apply(this,arguments)}function aI(){return aI=(0,de.Z)(function*(n,e){const t=Jt(n),i=t.wc.get(e),c=t._c.get(i.targetId);if(c.length>1)return t._c.set(i.targetId,c.filter(p=>!Pm(p,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield r_(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),Zy(t.remoteStore,i.targetId),ev(t,i.targetId)}).catch(ph))):(ev(t,i.targetId),yield r_(t.localStore,i.targetId,!0))}),aI.apply(this,arguments)}function E1(){return E1=(0,de.Z)(function*(n,e,t){const i=function _I(n){const e=Jt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$E.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zE.bind(null,e),e}(n);try{const c=yield function(p,_){const E=Jt(p),F=Is.now(),H=_.reduce((Be,lt)=>Be.add(lt.key),Er());let te,pe;return E.persistence.runTransaction("Locally write mutations","readwrite",Be=>{let lt=Ac(),Pt=Er();return E.Zi.getEntries(Be,H).next(sn=>{lt=sn,lt.forEach((an,Dr)=>{Dr.isValidDocument()||(Pt=Pt.add(an))})}).next(()=>E.localDocuments.getOverlayedDocuments(Be,lt)).next(sn=>{te=sn;const an=[];for(const Dr of _){const ni=OT(Dr,te.get(Dr.key).overlayedDocument);null!=ni&&an.push(new vh(Dr.key,ni,gT(ni.value.mapValue),ss.exists(!0)))}return E.mutationQueue.addMutationBatch(Be,F,an,_)}).next(sn=>{pe=sn;const an=sn.applyToLocalDocumentSet(te,Pt);return E.documentOverlayCache.saveOverlays(Be,sn.batchId,an)})}).then(()=>({batchId:pe.batchId,changes:IT(te)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(c.batchId),function(p,_,E){let F=p.Tc[p.currentUser.toKey()];F||(F=new jr(qn)),F=F.insert(_,E),p.Tc[p.currentUser.toKey()]=F}(i,c.batchId,t),yield Uf(i,c.changes),yield cg(i.remoteStore)}catch(c){const p=Rd(c,"Failed to persist write");t.reject(p)}}),E1.apply(this,arguments)}function jE(n,e){return cI.apply(this,arguments)}function cI(){return cI=(0,de.Z)(function*(n,e){const t=Jt(n);try{const i=yield function dC(n,e){const t=Jt(n),i=e.snapshotVersion;let c=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",p=>{const _=t.Zi.newChangeBuffer({trackRemovals:!0});c=t.Ji;const E=[];e.targetChanges.forEach((te,pe)=>{const Be=c.get(pe);if(!Be)return;E.push(t.Bs.removeMatchingKeys(p,te.removedDocuments,pe).next(()=>t.Bs.addMatchingKeys(p,te.addedDocuments,pe)));let lt=Be.withSequenceNumber(p.currentSequenceNumber);var Pt,sn,an;null!==e.targetMismatches.get(pe)?lt=lt.withResumeToken(ei.EMPTY_BYTE_STRING,Sn.min()).withLastLimboFreeSnapshotVersion(Sn.min()):te.resumeToken.approximateByteSize()>0&&(lt=lt.withResumeToken(te.resumeToken,i)),c=c.insert(pe,lt),sn=lt,an=te,(0===(Pt=Be).resumeToken.approximateByteSize()||sn.snapshotVersion.toMicroseconds()-Pt.snapshotVersion.toMicroseconds()>=3e8||an.addedDocuments.size+an.modifiedDocuments.size+an.removedDocuments.size>0)&&E.push(t.Bs.updateTargetData(p,lt))});let F=Ac(),H=Er();if(e.documentUpdates.forEach(te=>{e.resolvedLimboDocuments.has(te)&&E.push(t.persistence.referenceDelegate.updateLimboDocument(p,te))}),E.push(function bE(n,e,t){let i=Er(),c=Er();return t.forEach(p=>i=i.add(p)),e.getEntries(n,i).next(p=>{let _=Ac();return t.forEach((E,F)=>{const H=p.get(E);F.isFoundDocument()!==H.isFoundDocument()&&(c=c.add(E)),F.isNoDocument()&&F.version.isEqual(Sn.min())?(e.removeEntry(E,F.readTime),_=_.insert(E,F)):!H.isValidDocument()||F.version.compareTo(H.version)>0||0===F.version.compareTo(H.version)&&H.hasPendingWrites?(e.addEntry(F),_=_.insert(E,F)):Ot("LocalStore","Ignoring outdated watch update for ",E,". Current version:",H.version," Watch version:",F.version)}),{nr:_,sr:c}})}(p,_,e.documentUpdates).next(te=>{F=te.nr,H=te.sr})),!i.isEqual(Sn.min())){const te=t.Bs.getLastRemoteSnapshotVersion(p).next(pe=>t.Bs.setTargetsMetadata(p,p.currentSequenceNumber,i));E.push(te)}return qe.waitFor(E).next(()=>_.apply(p)).next(()=>t.localDocuments.getLocalViewOfDocuments(p,F,H)).next(()=>F)}).then(p=>(t.Ji=c,p))}(t.localStore,e);e.targetChanges.forEach((c,p)=>{const _=t.yc.get(p);_&&(wn(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?_.fc=!0:c.modifiedDocuments.size>0?wn(_.fc):c.removedDocuments.size>0&&(wn(_.fc),_.fc=!1))}),yield Uf(t,i,e)}catch(i){yield ph(i)}}),cI.apply(this,arguments)}function lI(n,e,t){const i=Jt(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const c=[];i.wc.forEach((p,_)=>{const E=_.view.Mu(e);E.snapshot&&c.push(E.snapshot)}),function(p,_){const E=Jt(p);E.onlineState=_;let F=!1;E.queries.forEach((H,te)=>{for(const pe of te.listeners)pe.Mu(_)&&(F=!0)}),F&&Xy(E)}(i.eventManager,e),c.length&&i.dc.nu(c),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function AC(n,e,t){return D1.apply(this,arguments)}function D1(){return D1=(0,de.Z)(function*(n,e,t){const i=Jt(n);i.sharedClientState.updateQueryState(e,"rejected",t);const c=i.yc.get(e),p=c&&c.key;if(p){let _=new jr(Xt.comparator);_=_.insert(p,hs.newNoDocument(p,Sn.min()));const E=Er().add(p),F=new Um(Sn.min(),new Map,new jr(qn),_,E);yield jE(i,F),i.gc=i.gc.remove(p),i.yc.delete(e),KE(i)}else yield r_(i.localStore,e,!1).then(()=>ev(i,e,t)).catch(ph)}),D1.apply(this,arguments)}function $E(n,e){return C1.apply(this,arguments)}function C1(){return C1=(0,de.Z)(function*(n,e){const t=Jt(n),i=e.batch.batchId;try{const c=yield function yE(n,e){const t=Jt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const c=e.batch.keys(),p=t.Zi.newChangeBuffer({trackRemovals:!0});return function(_,E,F,H){const te=F.batch,pe=te.keys();let Be=qe.resolve();return pe.forEach(lt=>{Be=Be.next(()=>H.getEntry(E,lt)).next(Pt=>{const sn=F.docVersions.get(lt);wn(null!==sn),Pt.version.compareTo(sn)<0&&(te.applyToRemoteDocument(Pt,F),Pt.isValidDocument()&&(Pt.setReadTime(F.commitVersion),H.addEntry(Pt)))})}),Be.next(()=>_.mutationQueue.removeMutationBatch(E,te))}(t,i,e,p).next(()=>p.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,c,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(_){let E=Er();for(let F=0;F<_.mutationResults.length;++F)_.mutationResults[F].transformResults.length>0&&(E=E.add(_.batch.mutations[F].key));return E}(e))).next(()=>t.localDocuments.getDocuments(i,c))})}(t.localStore,e);qE(t,i,null),S1(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Uf(t,c)}catch(c){yield ph(c)}}),C1.apply(this,arguments)}function zE(n,e,t){return uI.apply(this,arguments)}function uI(){return uI=(0,de.Z)(function*(n,e,t){const i=Jt(n);try{const c=yield function(p,_){const E=Jt(p);return E.persistence.runTransaction("Reject batch","readwrite-primary",F=>{let H;return E.mutationQueue.lookupMutationBatch(F,_).next(te=>(wn(null!==te),H=te.keys(),E.mutationQueue.removeMutationBatch(F,te))).next(()=>E.mutationQueue.performConsistencyCheck(F)).next(()=>E.documentOverlayCache.removeOverlaysForBatchId(F,H,_)).next(()=>E.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(F,H)).next(()=>E.localDocuments.getDocuments(F,H))})}(i.localStore,e);qE(i,e,t),S1(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Uf(i,c)}catch(c){yield ph(c)}}),uI.apply(this,arguments)}function S1(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function qE(n,e,t){const i=Jt(n);let c=i.Tc[i.currentUser.toKey()];if(c){const p=c.get(e);p&&(t?p.reject(t):p.resolve(),c=c.remove(e)),i.Tc[i.currentUser.toKey()]=c}}function ev(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n._c.get(e))n.wc.delete(i),t&&n.dc.Pc(i,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(i=>{n.Ic.containsKey(i)||OC(n,i)})}function OC(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(Zy(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),KE(n))}function ZE(n,e,t){for(const i of t)i instanceof UE?(n.Ic.addReference(i.key,e),pS(n,i)):i instanceof iI?(Ot("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,e),n.Ic.containsKey(i.key)||OC(n,i.key)):ln()}function pS(n,e){const t=e.key,i=t.path.canonicalString();n.gc.get(t)||n.mc.has(i)||(Ot("SyncEngine","New document in limbo: "+t),n.mc.add(i),KE(n))}function KE(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new Xt(qr.fromString(e)),i=n.Ac.next();n.yc.set(i,new CC(t)),n.gc=n.gc.insert(t,i),qy(n.remoteStore,new Dl(Sc(Rm(t.path)),i,"TargetPurposeLimboResolution",is.ct))}}function Uf(n,e,t){return YE.apply(this,arguments)}function YE(){return YE=(0,de.Z)(function*(n,e,t){const i=Jt(n),c=[],p=[],_=[];var E;i.wc.isEmpty()||(i.wc.forEach((E,F)=>{_.push(i.Rc(F,e,t).then(H=>{if((H||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(F.targetId,H?.fromCache?"not-current":"current"),H){c.push(H);const te=gE.Li(F.targetId,H);p.push(te)}}))}),yield Promise.all(_),i.dc.nu(c),yield(E=(0,de.Z)(function*(F,H){const te=Jt(F);try{yield te.persistence.runTransaction("notifyLocalViewChanges","readwrite",pe=>qe.forEach(H,Be=>qe.forEach(Be.Fi,lt=>te.persistence.referenceDelegate.addReference(pe,Be.targetId,lt)).next(()=>qe.forEach(Be.Bi,lt=>te.persistence.referenceDelegate.removeReference(pe,Be.targetId,lt)))))}catch(pe){if(!eu(pe))throw pe;Ot("LocalStore","Failed to update sequence numbers: "+pe)}for(const pe of H){const Be=pe.targetId;if(!pe.fromCache){const lt=te.Ji.get(Be),sn=lt.withLastLimboFreeSnapshotVersion(lt.snapshotVersion);te.Ji=te.Ji.insert(Be,sn)}}}),function(F,H){return E.apply(this,arguments)})(i.localStore,p))}),YE.apply(this,arguments)}function gS(n,e){return A1.apply(this,arguments)}function A1(){return A1=(0,de.Z)(function*(n,e){const t=Jt(n);if(!t.currentUser.isEqual(e)){Ot("SyncEngine","User change. New user:",e.toKey());const i=yield Vw(t.localStore,e);t.currentUser=e,(c=t).Ec.forEach(_=>{_.forEach(E=>{E.reject(new Ct(rt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.Ec.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Uf(t,i.er)}var c}),A1.apply(this,arguments)}function dI(n,e){const t=Jt(n),i=t.yc.get(e);if(i&&i.fc)return Er().add(i.key);{let c=Er();const p=t._c.get(e);if(!p)return c;for(const _ of p){const E=t.wc.get(_);c=c.unionWith(E.view.nc)}return c}}class x1{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,de.Z)(function*(){t.serializer=i_(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function _E(n,e,t,i){return new uC(n,e,t,i)}(this.persistence,new mE,e.initialUser,this.serializer)}createPersistence(e){return new Y0(Q0.zs,this.serializer)}createSharedClientState(e){return new TE}terminate(){var e=this;return(0,de.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class c_{initialize(e,t){var i=this;return(0,de.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=c=>lI(i.syncEngine,c,1),i.remoteStore.remoteSyncer.handleCredentialChange=gS.bind(null,i.syncEngine),yield function y1(n,e){return Yy.apply(this,arguments)}(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new EC}createDatastore(e){const t=i_(e.databaseInfo.databaseId),i=new o1(e.databaseInfo);return new yC(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,c=e.asyncQueue,p=E=>lI(this.syncEngine,E,0),_=EE.D()?new EE:new dS,new bC(t,i,c,p,_);var t,i,c,p,_}createSyncEngine(e,t){return function(i,c,p,_,E,F,H){const te=new fS(i,c,p,_,E,F);return H&&(te.vc=!0),te}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,de.Z)(function*(t){const i=Jt(t);Ot("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield ag(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class P1{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Gs("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class BC{constructor(e,t,i,c){var p=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=c,this.user=io.UNAUTHENTICATED,this.clientId=Cm.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var _=(0,de.Z)(function*(E){Ot("FirestoreClient","Received user=",E.uid),yield p.authCredentialListener(E),p.user=E});return function(E){return _.apply(this,arguments)}}()),this.appCheckCredentials.start(i,_=>(Ot("FirestoreClient","Received new app check token=",_),this.appCheckCredentialListener(_,this.user)))}getConfiguration(){var e=this;return(0,de.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ct(rt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new so;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,de.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const c=Rd(i,"Failed to shutdown persistence");t.reject(c)}})),t.promise}}function k1(n,e){return yI.apply(this,arguments)}function yI(){return yI=(0,de.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ot("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var c=(0,de.Z)(function*(p){i.isEqual(p)||(yield Vw(e.localStore,p),i=p)});return function(p){return c.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),yI.apply(this,arguments)}function vI(n,e){return F1.apply(this,arguments)}function F1(){return F1=(0,de.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function bI(n){return wI.apply(this,arguments)}(n);Ot("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(c=>TC(e.remoteStore,c)),n.setAppCheckTokenChangeListener((c,p)=>TC(e.remoteStore,p)),n._onlineComponents=e}),F1.apply(this,arguments)}function wI(){return wI=(0,de.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ot("FirestoreClient","Using user provided OfflineComponentProvider");try{yield k1(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function L1(n){return"FirebaseError"===n.name?n.code===rt.FAILED_PRECONDITION||n.code===rt.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;el("Error using user provided cache. Falling back to memory cache: "+t),yield k1(n,new x1)}}else Ot("FirestoreClient","Using default OfflineComponentProvider"),yield k1(n,new x1);return n._offlineComponents}),wI.apply(this,arguments)}function tv(n){return B1.apply(this,arguments)}function B1(){return B1=(0,de.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ot("FirestoreClient","Using user provided OnlineComponentProvider"),yield vI(n,n._uninitializedComponentsProvider._online)):(Ot("FirestoreClient","Using default OnlineComponentProvider"),yield vI(n,new c_))),n._onlineComponents}),B1.apply(this,arguments)}function hg(n){return TI.apply(this,arguments)}function TI(){return TI=(0,de.Z)(function*(n){const e=yield tv(n),t=e.eventManager;return t.onListen=SC.bind(null,e.syncEngine),t.onUnlisten=HE.bind(null,e.syncEngine),t}),TI.apply(this,arguments)}function aD(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const cD=new Map;function H1(n,e,t){if(!t)throw new Ct(rt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function CI(n){if(!Xt.isDocumentKey(n))throw new Ct(rt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function lD(n){if(Xt.isDocumentKey(n))throw new Ct(rt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function nv(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ln()}function oi(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ct(rt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=nv(n);throw new Ct(rt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class SI{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new Ct(rt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ct(rt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function vS(n,e,t,i){if(!0===e&&!0===i)throw new Ct(rt.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=aD(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(c){if(void 0!==c.timeoutSeconds){if(isNaN(c.timeoutSeconds))throw new Ct(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new Ct(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new Ct(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class l_{constructor(e,t,i,c){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=c,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new SI({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ct(rt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ct(rt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new SI(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Lb;switch(t.type){case"firstParty":return new hh(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ct(rt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=cD.get(e);t&&(Ot("ComponentProvider","Removing Datastore"),cD.delete(e),t.terminate())}(this),Promise.resolve()}}class co{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new co(this.firestore,e,this._key)}}class Aa{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Aa(this.firestore,e,this._query)}}class Mc extends Aa{constructor(e,t,i){super(e,t,Rm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new co(this.firestore,null,new Xt(e))}withConverter(e){return new Mc(this.firestore,e,this._path)}}function j1(n,e,...t){if(n=(0,fe.m9)(n),H1("collection","path",e),n instanceof l_){const i=qr.fromString(e,...t);return lD(i),new Mc(n,null,i)}{if(!(n instanceof co||n instanceof Mc))throw new Ct(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(qr.fromString(e,...t));return lD(i),new Mc(n.firestore,null,i)}}function AI(n,e,...t){if(n=(0,fe.m9)(n),1===arguments.length&&(e=Cm.A()),H1("doc","path",e),n instanceof l_){const i=qr.fromString(e,...t);return CI(i),new co(n,null,new Xt(i))}{if(!(n instanceof co||n instanceof Mc))throw new Ct(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(qr.fromString(e,...t));return CI(i),new co(n.firestore,n instanceof Mc?n.converter:null,new Xt(i))}}class wS{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new s_(this,"async_queue_retry"),this.Xc=()=>{const t=a1();t&&Ot("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=a1();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=a1();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new so;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,de.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!eu(t))throw t;Ot("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(i=>{throw this.Wc=i,this.Hc=!1,Gs("INTERNAL UNHANDLED ERROR: ",function(p){let _=p.message||"";return p.stack&&(_=p.stack.includes(p.message)?p.stack:p.message+"\n"+p.stack),_}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=t,t}enqueueAfterDelay(e,t,i){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const c=PE.createAndSchedule(this,e,t,i,p=>this.na(p));return this.zc.push(c),c}Zc(){this.Wc&&ln()}verifyOperationInProgress(){}sa(){var e=this;return(0,de.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class xs extends l_{constructor(e,t,i,c){super(e,t,i,c),this.type="firestore",this._queue=new wS,this._persistenceKey=c?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||dD(this),this._firestoreClient.terminate()}}function IS(n,e){const t="object"==typeof n?n:(0,Oe.Mq)(),i="string"==typeof n?n:e||"(default)",c=(0,Oe.qX)(t,"firestore").getImmediate({identifier:i});if(!c._initialized){const p=(0,fe.P0)("firestore");p&&function GC(n,e,t,i={}){var c;const p=(n=oi(n,l_))._getSettings(),_=`${e}:${t}`;if("firestore.googleapis.com"!==p.host&&p.host!==_&&el("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},p),{host:_,ssl:!1})),i.mockUserToken){let E,F;if("string"==typeof i.mockUserToken)E=i.mockUserToken,F=io.MOCK_USER;else{E=(0,fe.Sg)(i.mockUserToken,null===(c=n._app)||void 0===c?void 0:c.options.projectId);const H=i.mockUserToken.sub||i.mockUserToken.user_id;if(!H)throw new Ct(rt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");F=new io(H)}n._authCredentials=new g0(new Ey(E,F))}}(c,...p)}return c}function Co(n){return n._firestoreClient||dD(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function dD(n){var e,t,i;const c=n._freezeSettings(),p=(E=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Id(n._databaseId,E,n._persistenceKey,(H=c).host,H.ssl,H.experimentalForceLongPolling,H.experimentalAutoDetectLongPolling,aD(H.experimentalLongPollingOptions),H.useFetchStreams));var E,H;n._firestoreClient=new BC(n._authCredentials,n._appCheckCredentials,n._queue,p),null!==(t=c.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=c.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:c.cache.kind,_offline:c.cache._offlineComponentProvider,_online:c.cache._onlineComponentProvider})}class Gf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gf(ei.fromBase64String(e))}catch(t){throw new Ct(rt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Gf(ei.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class jf{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ct(rt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class rv{constructor(e){this._methodName=e}}class iv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ct(rt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ct(rt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qn(this._lat,e._lat)||qn(this._long,e._long)}}const OI=/^__.*__$/;class z1{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new vh(e,this.data,this.fieldMask,t,this.fieldTransforms):new Jp(e,this.data,t,this.fieldTransforms)}}class WC{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new vh(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function qC(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ln()}}class MI{constructor(e,t,i,c,p,_){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=c,void 0===p&&this.ua(),this.fieldTransforms=p||[],this.fieldMask=_||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new MI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),c=this.aa({path:i,la:!1});return c.fa(e),c}da(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),c=this.aa({path:i,la:!1});return c.ua(),c}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return K1(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(qC(this.ca)&&OI.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class pD{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||i_(e)}ya(e,t,i,c=!1){return new MI({ca:e,methodName:t,ga:i,path:zi.emptyPath(),la:!1,ma:c},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function d_(n){const e=n._freezeSettings(),t=i_(n._databaseId);return new pD(n._databaseId,!!e.ignoreUndefinedProperties,t)}function xI(n,e,t,i,c,p={}){const _=n.ya(p.merge||p.mergeFields?2:0,e,t,c);kI("Data must be an object, but it was:",_,i);const E=PI(i,_);let F,H;if(p.merge)F=new $r(_.fieldMask),H=_.fieldTransforms;else if(p.mergeFields){const te=[];for(const pe of p.mergeFields){const Be=ov(e,pe,t);if(!_.contains(Be))throw new Ct(rt.INVALID_ARGUMENT,`Field '${Be}' is specified in your field mask but missing from your input data.`);vD(te,Be)||te.push(Be)}F=new $r(te),H=_.fieldTransforms.filter(pe=>F.covers(pe.field))}else F=null,H=_.fieldTransforms;return new z1(new Za(E),F,H)}class sv extends rv{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof sv}}function gD(n,e,t){return new MI({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class mD extends rv{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=gD(this,e,!0),i=this.pa.map(p=>h_(p,t)),c=new xf(i);return new Oy(e.path,c)}isEqual(e){return this===e}}class _D extends rv{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=gD(this,e,!0),i=this.pa.map(p=>h_(p,t)),c=new Nd(i);return new Oy(e.path,c)}isEqual(e){return this===e}}function q1(n,e,t,i=!1){return h_(t,n.ya(i?4:3,e))}function h_(n,e){if(Z1(n=(0,fe.m9)(n)))return kI("Unsupported field value:",e,n),PI(n,e);if(n instanceof rv)return function(t,i){if(!qC(i.ca))throw i._a(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${t._methodName}() is not currently supported inside arrays`);const c=t._toFieldTransform(i);c&&i.fieldTransforms.push(c)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,i){const c=[];let p=0;for(const _ of t){let E=h_(_,i.wa(p));null==E&&(E={nullValue:"NULL_VALUE"}),c.push(E),p++}return{arrayValue:{values:c}}}(n,e)}return function(t,i){if(null===(t=(0,fe.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return x0(i.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const c=Is.fromDate(t);return{timestampValue:eg(i.serializer,c)}}if(t instanceof Is){const c=new Is(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:eg(i.serializer,c)}}if(t instanceof iv)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Gf)return{bytesValue:HD(i.serializer,t._byteString)};if(t instanceof co){const c=i.databaseId,p=t.firestore._databaseId;if(!p.isEqual(c))throw i._a(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:ww(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i._a(`Unsupported field value: ${nv(t)}`)}(n,e)}function PI(n,e){const t={};return Bi(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wi(n,(i,c)=>{const p=h_(c,e.ha(i));null!=p&&(t[i]=p)}),{mapValue:{fields:t}}}function Z1(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Is||n instanceof iv||n instanceof Gf||n instanceof co||n instanceof rv)}function kI(n,e,t){if(!Z1(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=nv(t);throw e._a("an object"===i?n+" a custom object":n+" "+i)}var i}function ov(n,e,t){if((e=(0,fe.m9)(e))instanceof jf)return e._internalPath;if("string"==typeof e)return FI(n,e);throw K1("Field path arguments must be of type string or ",n,!1,void 0,t)}const SS=new RegExp("[~\\*/\\[\\]]");function FI(n,e,t){if(e.search(SS)>=0)throw K1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new jf(...e.split("."))._internalPath}catch{throw K1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function K1(n,e,t,i,c){const p=i&&!i.isEmpty(),_=void 0!==c;let E=`Function ${e}() called with invalid data`;t&&(E+=" (via `toFirestore()`)"),E+=". ";let F="";return(p||_)&&(F+=" (found",p&&(F+=` in field ${i}`),_&&(F+=` in document ${c}`),F+=")"),new Ct(rt.INVALID_ARGUMENT,E+n+F)}function vD(n,e){return n.some(t=>t.isEqual(e))}class LI{constructor(e,t,i,c,p){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=c,this._converter=p}get id(){return this._key.path.lastSegment()}get ref(){return new co(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new KC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(av("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class KC extends LI{data(){return super.data()}}function av(n,e){return"string"==typeof e?FI(n,e):e instanceof jf?e._internalPath:e._delegate._internalPath}class VI{}class cv extends VI{}function bD(n,e,...t){let i=[];e instanceof VI&&i.push(e),i=i.concat(t),function(c){const p=c.filter(E=>E instanceof $f).length,_=c.filter(E=>E instanceof Y1).length;if(p>1||p>0&&_>0)throw new Ct(rt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const c of i)n=c._apply(n);return n}class Y1 extends cv{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Y1(e,t,i)}_apply(e){const t=this._parse(e);return rS(e._query,t),new Aa(e.firestore,e.converter,N0(e._query,t))}_parse(e){const t=d_(e.firestore);return function(c,p,_,E,F,H,te){let pe;if(F.isKeyField()){if("array-contains"===H||"array-contains-any"===H)throw new Ct(rt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${H}' queries on documentId().`);if("in"===H||"not-in"===H){ID(te,H);const Be=[];for(const lt of te)Be.push(wD(E,c,lt));pe={arrayValue:{values:Be}}}else pe=wD(E,c,te)}else"in"!==H&&"not-in"!==H&&"array-contains-any"!==H||ID(te,H),pe=q1(_,"where",te,"in"===H||"not-in"===H);return Zr.create(F,H,pe)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function YC(n,e,t){const i=e,c=av("where",n);return Y1._create(c,i,t)}class $f extends VI{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new $f(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:Mi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,c){let p=i;const _=c.getFlattenedFilters();for(const E of _)rS(p,E),p=N0(p,E)}(e._query,t),new Aa(e.firestore,e.converter,N0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class UI extends cv{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new UI(e,t)}_apply(e){const t=function(i,c,p){if(null!==i.startAt)throw new Ct(rt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Ct(rt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const _=new Zp(c,p);return function(E,F){if(null===tw(E)){const H=ao(E);null!==H&&iS(0,H,F.field)}}(i,_),_}(e._query,this._field,this._direction);return new Aa(e.firestore,e.converter,function(i,c){const p=i.explicitOrderBy.concat([c]);return new Nf(i.path,i.collectionGroup,p,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function Q1(n,e="asc"){const t=e,i=av("orderBy",n);return UI._create(i,t)}class J1 extends cv{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new J1(e,t,i)}_apply(e){return new Aa(e.firestore,e.converter,O0(e._query,this._limit,this._limitType))}}function XC(n){return function G1(n,e){if(e<=0)throw new Ct(rt.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}("limit",n),J1._create("limit",n,"F")}class lv extends cv{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new lv(e,t,i)}_apply(e){const t=function nS(n,e,t,i){if(t[0]=(0,fe.m9)(t[0]),t[0]instanceof LI)return function(c,p,_,E,F){if(!E)throw new Ct(rt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${_}().`);const H=[];for(const te of Yp(c))if(te.field.isKeyField())H.push(Dd(p,E.key));else{const pe=E.data.field(te.field);if(Wo(pe))throw new Ct(rt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+te.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===pe){const Be=te.field.canonicalString();throw new Ct(rt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Be}' (used as the orderBy) does not exist.`)}H.push(pe)}return new Sd(H,F)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const c=d_(n.firestore);return function(p,_,E,F,H,te){const pe=p.explicitOrderBy;if(H.length>pe.length)throw new Ct(rt.INVALID_ARGUMENT,`Too many arguments provided to ${F}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Be=[];for(let lt=0;lt<H.length;lt++){const Pt=H[lt];if(pe[lt].field.isKeyField()){if("string"!=typeof Pt)throw new Ct(rt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${F}(), but got a ${typeof Pt}`);if(!A0(p)&&-1!==Pt.indexOf("/"))throw new Ct(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${F}() must be a plain document ID, but '${Pt}' contains a slash.`);const sn=p.path.child(qr.fromString(Pt));if(!Xt.isDocumentKey(sn))throw new Ct(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${F}() must result in a valid document path, but '${sn}' is not because it contains an odd number of segments.`);const an=new Xt(sn);Be.push(Dd(_,an))}else{const sn=q1(E,F,Pt);Be.push(sn)}}return new Sd(Be,te)}(n._query,n.firestore._databaseId,c,e,t,i)}}(e,this.type,this._docOrFields,this._inclusive);return new Aa(e.firestore,e.converter,(c=t,new Nf((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,c,i.endAt)));var i,c}}function tS(...n){return lv._create("startAfter",n,!1)}function wD(n,e,t){if("string"==typeof(t=(0,fe.m9)(t))){if(""===t)throw new Ct(rt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!A0(e)&&-1!==t.indexOf("/"))throw new Ct(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(qr.fromString(t));if(!Xt.isDocumentKey(i))throw new Ct(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Dd(n,new Xt(i))}if(t instanceof co)return Dd(n,t._key);throw new Ct(rt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nv(t)}.`)}function ID(n,e){if(!Array.isArray(n)||0===n.length)throw new Ct(rt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function rS(n,e){if(e.isInequality()){const i=ao(n),c=e.field;if(null!==i&&!i.isEqual(c))throw new Ct(rt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${c.toString()}'`);const p=tw(n);null!==p&&iS(0,c,p)}const t=function(i,c){for(const p of i)for(const _ of p.getFlattenedFilters())if(c.indexOf(_.op)>=0)return _.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Ct(rt.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function iS(n,e,t){if(!t.isEqual(e))throw new Ct(rt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class NS{convertValue(e,t="none"){switch(Gu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Di(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ln()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Wi(e,(c,p)=>{i[c]=this.convertValue(p,t)}),i}convertGeoPoint(e){return new iv(Vi(e.latitude),Vi(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=$s(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(tu(e));default:return null}}convertTimestamp(e){const t=js(e);return new Is(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=qr.fromString(e);wn(Wm(i));const c=new mh(i.get(1),i.get(3)),p=new Xt(i.popFirst(5));return c.isEqual(t)||Gs(`Document ${p} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),p}}function TD(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class pg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class uv extends LI{constructor(e,t,i,c,p,_){super(e,t,i,c,_),this._firestore=e,this._firestoreImpl=e,this.metadata=p}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new r(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(av("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class r extends uv{data(e={}){return super.data(e)}}class s{constructor(e,t,i,c){this._firestore=e,this._userDataWriter=t,this._snapshot=c,this.metadata=new pg(c.hasPendingWrites,c.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new r(this._firestore,this._userDataWriter,i.key,i,new pg(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ct(rt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,c){if(i._snapshot.oldDocs.isEmpty()){let p=0;return i._snapshot.docChanges.map(_=>({type:"added",doc:new r(i._firestore,i._userDataWriter,_.doc.key,_.doc,new pg(i._snapshot.mutatedKeys.has(_.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:p++}))}{let p=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(_=>c||3!==_.type).map(_=>{const E=new r(i._firestore,i._userDataWriter,_.doc.key,_.doc,new pg(i._snapshot.mutatedKeys.has(_.doc.key),i._snapshot.fromCache),i.query.converter);let F=-1,H=-1;return 0!==_.type&&(F=p.indexOf(_.doc.key),p=p.delete(_.doc.key)),1!==_.type&&(p=p.add(_.doc),H=p.indexOf(_.doc.key)),{type:a(_.type),doc:E,oldIndex:F,newIndex:H}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function a(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ln()}}function g(n){n=oi(n,co);const e=oi(n.firestore,xs);return function U1(n,e,t={}){const i=new so;return n.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return function(c,p,_,E,F){const H=new P1({next:pe=>{p.enqueueAndForget(()=>Jy(c,te));const Be=pe.docs.has(_);!Be&&pe.fromCache?F.reject(new Ct(rt.UNAVAILABLE,"Failed to get document because the client is offline.")):Be&&pe.fromCache&&E&&"server"===E.source?F.reject(new Ct(rt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):F.resolve(pe)},error:pe=>F.reject(pe)}),te=new FE(Rm(_.path),H,{includeMetadataChanges:!0,Ku:!0});return nI(c,te)}(yield hg(n),n.asyncQueue,e,t,i)})),i.promise}(Co(e),n._key).then(t=>function wt(n,e,t){const i=t.docs.get(e._key),c=new y(n);return new uv(n,c,e._key,i,new pg(t.hasPendingWrites,t.fromCache),e.converter)}(e,n,t))}class y extends NS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new co(this.firestore,null,t)}}function R(n){n=oi(n,Aa);const e=oi(n.firestore,xs),t=Co(e),i=new y(e);return function BI(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ct(rt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),function sD(n,e,t={}){const i=new so;return n.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return function(c,p,_,E,F){const H=new P1({next:pe=>{p.enqueueAndForget(()=>Jy(c,te)),pe.fromCache&&"server"===E.source?F.reject(new Ct(rt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):F.resolve(pe)},error:pe=>F.reject(pe)}),te=new FE(_,H,{includeMetadataChanges:!0,Ku:!0});return nI(c,te)}(yield hg(n),n.asyncQueue,e,t,i)})),i.promise}(t,n._query).then(c=>new s(e,i,n,c))}function me(n,e,t){n=oi(n,co);const i=oi(n.firestore,xs),c=TD(n.converter,e,t);return vn(i,[xI(d_(i),"setDoc",n._key,c,null!==n.converter,t).toMutation(n._key,ss.none())])}function Me(n,e,t,...i){n=oi(n,co);const c=oi(n.firestore,xs),p=d_(c);let _;return _="string"==typeof(e=(0,fe.m9)(e))||e instanceof jf?function RI(n,e,t,i,c,p){const _=n.ya(1,e,t),E=[ov(e,i,t)],F=[c];if(p.length%2!=0)throw new Ct(rt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Be=0;Be<p.length;Be+=2)E.push(ov(e,p[Be])),F.push(p[Be+1]);const H=[],te=Za.empty();for(let Be=E.length-1;Be>=0;--Be)if(!vD(H,E[Be])){const lt=E[Be];let Pt=F[Be];Pt=(0,fe.m9)(Pt);const sn=_.da(lt);if(Pt instanceof sv)H.push(lt);else{const an=h_(Pt,sn);null!=an&&(H.push(lt),te.set(lt,an))}}const pe=new $r(H);return new WC(te,pe,_.fieldTransforms)}(p,"updateDoc",n._key,e,t,i):function yD(n,e,t,i){const c=n.ya(1,e,t);kI("Data must be an object, but it was:",c,i);const p=[],_=Za.empty();Wi(i,(F,H)=>{const te=FI(e,F,t);H=(0,fe.m9)(H);const pe=c.da(te);if(H instanceof sv)p.push(te);else{const Be=h_(H,pe);null!=Be&&(p.push(te),_.set(te,Be))}});const E=new $r(p);return new WC(_,E,c.fieldTransforms)}(p,"updateDoc",n._key,e),vn(c,[_.toMutation(n._key,ss.exists(!0))])}function Le(n){return vn(oi(n.firestore,xs),[new Bm(n._key,ss.none())])}function pt(n,e){const t=oi(n.firestore,xs),i=AI(n),c=TD(n.converter,e);return vn(t,[xI(d_(n.firestore),"addDoc",i._key,c,null!==n.converter,{}).toMutation(i._key,ss.exists(!1))]).then(()=>i)}function vn(n,e){return function(t,i){const c=new so;return t.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return function GE(n,e,t){return E1.apply(this,arguments)}(yield function V1(n){return tv(n).then(e=>e.syncEngine)}(t),i,c)})),c.promise}(Co(n),e)}function eA(...n){return new mD("arrayUnion",n)}function tA(...n){return new _D("arrayRemove",n)}!function(n,e=!0){dh=Oe.Jn,(0,Oe.Xd)(new re.wA("firestore",(t,{instanceIdentifier:i,options:c})=>{const p=t.getProvider("app").getImmediate(),_=new xs(new m0(t.getProvider("auth-internal")),new Dm(t.getProvider("app-check-internal")),function(E,F){if(!Object.prototype.hasOwnProperty.apply(E.options,["projectId"]))throw new Ct(rt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mh(E.options.projectId,F)}(p,i),p);return c=Object.assign({useFetchStreams:e},c),_._setSettings(c),_},"PUBLIC").setMultipleInstances(!0)),(0,Oe.KN)(Up,"3.13.0",n),(0,Oe.KN)(Up,"3.13.0","esm2017")}();class CD{constructor(e){return e}}const FS="firestore",oS=new ce.OlP("angularfire2.firestore-instances");function iA(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new CD(i)}}const sA={provide:class nA{constructor(){return(0,w.vb)(FS)}},deps:[[new ce.FiY,oS]]},oA={provide:CD,useFactory:function rA(n,e){const t=(0,w.JM)(FS,n,e);return t&&new CD(t)},deps:[[new ce.FiY,oS],h.Ot]};let aA=(()=>{class n{constructor(){(0,we.KN)("angularfire",w.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ce.oAB({type:n}),n.\u0275inj=ce.cJS({providers:[oA,sA]}),n})();function cA(n,...e){return{ngModule:aA,providers:[{provide:oS,useFactory:iA(n),multi:!0,deps:[ce.R0b,ce.zs3,w.HU,h.z6,[new ce.FiY,Tg],[new ce.FiY,Su],...e]}]}}const lA=(0,w.u3)(pt,!0),uA=(0,w.u3)(tA,!0),dA=(0,w.u3)(eA,!0),hA=(0,w.u3)(j1,!0),fA=(0,w.u3)(Le,!0),pA=(0,w.u3)(AI,!0),gA=(0,w.u3)(g,!0),mA=(0,w.u3)(R,!0),_A=(0,w.u3)(IS,!0),yA=(0,w.u3)(XC,!0),vA=(0,w.u3)(Q1,!0),bA=(0,w.u3)(bD,!0),wA=(0,w.u3)(me,!0),IA=(0,w.u3)(tS,!0),TA=(0,w.u3)(Me,!0),EA=(0,w.u3)(YC,!0)},6106:($t,We,Q)=>{Q.d(We,{q4:()=>gu,HU:()=>$d,vb:()=>jd,JM:()=>Bl,u3:()=>bg});var w=Q(9468),ce=Q(4097),h=Q(5861),we=Q(7592),de=Q(229),fe=Q(6820),Oe=Q(7879);const He=(M,L)=>L.some(Y=>M instanceof Y);let Ee,re;const et=new WeakMap,Pe=new WeakMap,it=new WeakMap,At=new WeakMap,Vt=new WeakMap;let xt={get(M,L,Y){if(M instanceof IDBTransaction){if("done"===L)return Pe.get(M);if("objectStoreNames"===L)return M.objectStoreNames||it.get(M);if("store"===L)return Y.objectStoreNames[1]?void 0:Y.objectStore(Y.objectStoreNames[0])}return _t(M[L])},set:(M,L,Y)=>(M[L]=Y,!0),has:(M,L)=>M instanceof IDBTransaction&&("done"===L||"store"===L)||L in M};function vt(M){return"function"==typeof M?function ot(M){return M!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Se(){return re||(re=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(M)?function(...L){return M.apply(je(this),L),_t(et.get(this))}:function(...L){return _t(M.apply(je(this),L))}:function(L,...Y){const he=M.call(je(this),L,...Y);return it.set(he,L.sort?L.sort():[L]),_t(he)}}(M):(M instanceof IDBTransaction&&function An(M){if(Pe.has(M))return;const L=new Promise((Y,he)=>{const Ae=()=>{M.removeEventListener("complete",Fe),M.removeEventListener("error",st),M.removeEventListener("abort",st)},Fe=()=>{Y(),Ae()},st=()=>{he(M.error||new DOMException("AbortError","AbortError")),Ae()};M.addEventListener("complete",Fe),M.addEventListener("error",st),M.addEventListener("abort",st)});Pe.set(M,L)}(M),He(M,function le(){return Ee||(Ee=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(M,xt):M)}function _t(M){if(M instanceof IDBRequest)return function Ft(M){const L=new Promise((Y,he)=>{const Ae=()=>{M.removeEventListener("success",Fe),M.removeEventListener("error",st)},Fe=()=>{Y(_t(M.result)),Ae()},st=()=>{he(M.error),Ae()};M.addEventListener("success",Fe),M.addEventListener("error",st)});return L.then(Y=>{Y instanceof IDBCursor&&et.set(Y,M)}).catch(()=>{}),Vt.set(L,M),L}(M);if(At.has(M))return At.get(M);const L=vt(M);return L!==M&&(At.set(M,L),Vt.set(L,M)),L}const je=M=>Vt.get(M),gt=["get","getKey","getAll","getAllKeys","count"],Rn=["put","add","delete","clear"],dt=new Map;function un(M,L){if(!(M instanceof IDBDatabase)||L in M||"string"!=typeof L)return;if(dt.get(L))return dt.get(L);const Y=L.replace(/FromIndex$/,""),he=L!==Y,Ae=Rn.includes(Y);if(!(Y in(he?IDBIndex:IDBObjectStore).prototype)||!Ae&&!gt.includes(Y))return;const Fe=function(){var st=(0,h.Z)(function*(Ht,...Gt){const _n=this.transaction(Ht,Ae?"readwrite":"readonly");let zn=_n.store;return he&&(zn=zn.index(Gt.shift())),(yield Promise.all([zn[Y](...Gt),Ae&&_n.done]))[0]});return function(Gt){return st.apply(this,arguments)}}();return dt.set(L,Fe),Fe}!function mt(M){xt=M(xt)}(M=>({...M,get:(L,Y,he)=>un(L,Y)||M.get(L,Y,he),has:(L,Y)=>!!un(L,Y)||M.has(L,Y)}));const In="@firebase/installations",Vn="0.6.4",er=1e4,dr=`w:${Vn}`,ke="FIS_v2",$e="https://firebaseinstallations.googleapis.com/v1",Je=36e5,Rt=new de.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function jt(M){return M instanceof de.ZR&&M.code.includes("request-failed")}function dn({projectId:M}){return`${$e}/projects/${M}/installations`}function yn(M){return{token:M.token,requestStatus:2,expiresIn:xe(M.expiresIn),creationTime:Date.now()}}function cn(M,L){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,h.Z)(function*(M,L){const he=(yield L.json()).error;return Rt.create("request-failed",{requestName:M,serverCode:he.code,serverMessage:he.message,serverStatus:he.status})})).apply(this,arguments)}function $n({apiKey:M}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":M})}function Fr(M){return De.apply(this,arguments)}function De(){return(De=(0,h.Z)(function*(M){const L=yield M();return L.status>=500&&L.status<600?M():L})).apply(this,arguments)}function xe(M){return Number(M.replace("s","000"))}function yt(){return(yt=(0,h.Z)(function*({appConfig:M,heartbeatServiceProvider:L},{fid:Y}){const he=dn(M),Ae=$n(M),Fe=L.getImmediate({optional:!0});if(Fe){const _n=yield Fe.getHeartbeatsHeader();_n&&Ae.append("x-firebase-client",_n)}const Ht={method:"POST",headers:Ae,body:JSON.stringify({fid:Y,authVersion:ke,appId:M.appId,sdkVersion:dr})},Gt=yield Fr(()=>fetch(he,Ht));if(Gt.ok){const _n=yield Gt.json();return{fid:_n.fid||Y,registrationStatus:2,refreshToken:_n.refreshToken,authToken:yn(_n.authToken)}}throw yield cn("Create Installation",Gt)})).apply(this,arguments)}function St(M){return new Promise(L=>{setTimeout(L,M)})}const En=/^[cdef][\w-]{21}$/,on="";function Qt(){try{const M=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(M),M[0]=112+M[0]%16;const Y=function bn(M){return function vr(M){return btoa(String.fromCharCode(...M)).replace(/\+/g,"-").replace(/\//g,"_")}(M).substr(0,22)}(M);return En.test(Y)?Y:on}catch{return on}}function Zn(M){return`${M.appName}!${M.appId}`}const en=new Map;function Cr(M,L){const Y=Zn(M);rr(Y,L),function Wn(M,L){const Y=function Gn(){return!ir&&"BroadcastChannel"in self&&(ir=new BroadcastChannel("[Firebase] FID Change"),ir.onmessage=M=>{rr(M.data.key,M.data.fid)}),ir}();Y&&Y.postMessage({key:M,fid:L}),function hi(){0===en.size&&ir&&(ir.close(),ir=null)}()}(Y,L)}function rr(M,L){const Y=en.get(M);if(Y)for(const he of Y)he(L)}let ir=null;const Nn="firebase-installations-database",Kn=1,Or="firebase-installations-store";let fi=null;function tt(){return fi||(fi=function ve(M,L,{blocked:Y,upgrade:he,blocking:Ae,terminated:Fe}={}){const st=indexedDB.open(M,L),Ht=_t(st);return he&&st.addEventListener("upgradeneeded",Gt=>{he(_t(st.result),Gt.oldVersion,Gt.newVersion,_t(st.transaction))}),Y&&st.addEventListener("blocked",()=>Y()),Ht.then(Gt=>{Fe&&Gt.addEventListener("close",()=>Fe()),Ae&&Gt.addEventListener("versionchange",()=>Ae())}).catch(()=>{}),Ht}(Nn,Kn,{upgrade:(M,L)=>{0===L&&M.createObjectStore(Or)}})),fi}function Ce(M,L){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,h.Z)(function*(M,L){const Y=Zn(M),Ae=(yield tt()).transaction(Or,"readwrite"),Fe=Ae.objectStore(Or),st=yield Fe.get(Y);return yield Fe.put(L,Y),yield Ae.done,(!st||st.fid!==L.fid)&&Cr(M,L.fid),L})).apply(this,arguments)}function It(M){return qt.apply(this,arguments)}function qt(){return(qt=(0,h.Z)(function*(M){const L=Zn(M),he=(yield tt()).transaction(Or,"readwrite");yield he.objectStore(Or).delete(L),yield he.done})).apply(this,arguments)}function Zt(M,L){return Un.apply(this,arguments)}function Un(){return(Un=(0,h.Z)(function*(M,L){const Y=Zn(M),Ae=(yield tt()).transaction(Or,"readwrite"),Fe=Ae.objectStore(Or),st=yield Fe.get(Y),Ht=L(st);return void 0===Ht?yield Fe.delete(Y):yield Fe.put(Ht,Y),yield Ae.done,Ht&&(!st||st.fid!==Ht.fid)&&Cr(M,Ht.fid),Ht})).apply(this,arguments)}function K(M){return V.apply(this,arguments)}function V(){return V=(0,h.Z)(function*(M){let L;const Y=yield Zt(M.appConfig,he=>{const Ae=function G(M){return hn(M||{fid:Qt(),registrationStatus:0})}(he),Fe=function W(M,L){if(0===L.registrationStatus){if(!navigator.onLine)return{installationEntry:L,registrationPromise:Promise.reject(Rt.create("app-offline"))};const Y={fid:L.fid,registrationStatus:1,registrationTime:Date.now()},he=function $(M,L){return be.apply(this,arguments)}(M,Y);return{installationEntry:Y,registrationPromise:he}}return 1===L.registrationStatus?{installationEntry:L,registrationPromise:Ue(M)}:{installationEntry:L}}(M,Ae);return L=Fe.registrationPromise,Fe.installationEntry});return Y.fid===on?{installationEntry:yield L}:{installationEntry:Y,registrationPromise:L}}),V.apply(this,arguments)}function be(){return be=(0,h.Z)(function*(M,L){try{const Y=yield function at(M,L){return yt.apply(this,arguments)}(M,L);return Ce(M.appConfig,Y)}catch(Y){throw jt(Y)&&409===Y.customData.serverCode?yield It(M.appConfig):yield Ce(M.appConfig,{fid:L.fid,registrationStatus:0}),Y}}),be.apply(this,arguments)}function Ue(M){return Et.apply(this,arguments)}function Et(){return(Et=(0,h.Z)(function*(M){let L=yield rn(M.appConfig);for(;1===L.registrationStatus;)yield St(100),L=yield rn(M.appConfig);if(0===L.registrationStatus){const{installationEntry:Y,registrationPromise:he}=yield K(M);return he||Y}return L})).apply(this,arguments)}function rn(M){return Zt(M,L=>{if(!L)throw Rt.create("installation-not-found");return hn(L)})}function hn(M){return function Dn(M){return 1===M.registrationStatus&&M.registrationTime+er<Date.now()}(M)?{fid:M.fid,registrationStatus:0}:M}function xn(){return(xn=(0,h.Z)(function*({appConfig:M,heartbeatServiceProvider:L},Y){const he=function Kr(M,{fid:L}){return`${dn(M)}/${L}/authTokens:generate`}(M,Y),Ae=function hr(M,{refreshToken:L}){const Y=$n(M);return Y.append("Authorization",function Re(M){return`${ke} ${M}`}(L)),Y}(M,Y),Fe=L.getImmediate({optional:!0});if(Fe){const _n=yield Fe.getHeartbeatsHeader();_n&&Ae.append("x-firebase-client",_n)}const Ht={method:"POST",headers:Ae,body:JSON.stringify({installation:{sdkVersion:dr,appId:M.appId}})},Gt=yield Fr(()=>fetch(he,Ht));if(Gt.ok)return yn(yield Gt.json());throw yield cn("Generate Auth Token",Gt)})).apply(this,arguments)}function Yn(M){return lo.apply(this,arguments)}function lo(){return lo=(0,h.Z)(function*(M,L=!1){let Y;const he=yield Zt(M.appConfig,Fe=>{if(!Yr(Fe))throw Rt.create("not-registered");const st=Fe.authToken;if(!L&&function uo(M){return 2===M.requestStatus&&!function fs(M){const L=Date.now();return L<M.creationTime||M.creationTime+M.expiresIn<L+Je}(M)}(st))return Fe;if(1===st.requestStatus)return Y=function ca(M,L){return Ts.apply(this,arguments)}(M,L),Fe;{if(!navigator.onLine)throw Rt.create("app-offline");const Ht=function ps(M){const L={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},M),{authToken:L})}(Fe);return Y=function Oa(M,L){return Ao.apply(this,arguments)}(M,Ht),Ht}});return Y?yield Y:he.authToken}),lo.apply(this,arguments)}function Ts(){return(Ts=(0,h.Z)(function*(M,L){let Y=yield Na(M.appConfig);for(;1===Y.authToken.requestStatus;)yield St(100),Y=yield Na(M.appConfig);const he=Y.authToken;return 0===he.requestStatus?Yn(M,L):he})).apply(this,arguments)}function Na(M){return Zt(M,L=>{if(!Yr(L))throw Rt.create("not-registered");return function tr(M){return 1===M.requestStatus&&M.requestTime+er<Date.now()}(L.authToken)?Object.assign(Object.assign({},L),{authToken:{requestStatus:0}}):L})}function Ao(){return Ao=(0,h.Z)(function*(M,L){try{const Y=yield function zt(M,L){return xn.apply(this,arguments)}(M,L),he=Object.assign(Object.assign({},L),{authToken:Y});return yield Ce(M.appConfig,he),Y}catch(Y){if(!jt(Y)||401!==Y.customData.serverCode&&404!==Y.customData.serverCode){const he=Object.assign(Object.assign({},L),{authToken:{requestStatus:0}});yield Ce(M.appConfig,he)}else yield It(M.appConfig);throw Y}}),Ao.apply(this,arguments)}function Yr(M){return void 0!==M&&2===M.registrationStatus}function ho(){return(ho=(0,h.Z)(function*(M){const L=M,{installationEntry:Y,registrationPromise:he}=yield K(L);return he?he.catch(console.error):Yn(L).catch(console.error),Y.fid})).apply(this,arguments)}function la(){return la=(0,h.Z)(function*(M,L=!1){const Y=M;return yield function Rs(M){return Ws.apply(this,arguments)}(Y),(yield Yn(Y,L)).token}),la.apply(this,arguments)}function Ws(){return(Ws=(0,h.Z)(function*(M){const{registrationPromise:L}=yield K(M);L&&(yield L)})).apply(this,arguments)}function Gi(M){return Rt.create("missing-app-config-values",{valueName:M})}const Ko="installations",xi=M=>{const L=M.getProvider("app").getImmediate(),Y=function Ma(M){if(!M||!M.options)throw Gi("App Configuration");if(!M.name)throw Gi("App Name");const L=["projectId","apiKey","appId"];for(const Y of L)if(!M.options[Y])throw Gi(Y);return{appName:M.name,projectId:M.options.projectId,apiKey:M.options.apiKey,appId:M.options.appId}}(L);return{app:L,appConfig:Y,heartbeatServiceProvider:(0,we.qX)(L,"heartbeat"),_delete:()=>Promise.resolve()}},li=M=>{const L=M.getProvider("app").getImmediate(),Y=(0,we.qX)(L,Ko).getImmediate();return{getId:()=>function zs(M){return ho.apply(this,arguments)}(Y),getToken:Ae=>function No(M){return la.apply(this,arguments)}(Y,Ae)}};(function Ps(){(0,we.Xd)(new fe.wA(Ko,xi,"PUBLIC")),(0,we.Xd)(new fe.wA("installations-internal",li,"PRIVATE"))})(),(0,we.KN)(In,Vn),(0,we.KN)(In,Vn,"esm2017");const Ci="@firebase/remote-config",fr=new de.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Br{constructor(L,Y,he,Ae){this.client=L,this.storage=Y,this.storageCache=he,this.logger=Ae}isCachedDataFresh(L,Y){if(!Y)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const he=Date.now()-Y,Ae=he<=L;return this.logger.debug(`Config fetch cache check. Cache age millis: ${he}. Cache max age millis (minimumFetchIntervalMillis setting): ${L}. Is cache hit: ${Ae}.`),Ae}fetch(L){var Y=this;return(0,h.Z)(function*(){const[he,Ae]=yield Promise.all([Y.storage.getLastSuccessfulFetchTimestampMillis(),Y.storage.getLastSuccessfulFetchResponse()]);if(Ae&&Y.isCachedDataFresh(L.cacheMaxAgeMillis,he))return Ae;L.eTag=Ae&&Ae.eTag;const Fe=yield Y.client.fetch(L),st=[Y.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Fe.status&&st.push(Y.storage.setLastSuccessfulFetchResponse(Fe)),yield Promise.all(st),Fe})()}}function as(M=navigator){return M.languages&&M.languages[0]||M.language}class fo{constructor(L,Y,he,Ae,Fe,st){this.firebaseInstallations=L,this.sdkVersion=Y,this.namespace=he,this.projectId=Ae,this.apiKey=Fe,this.appId=st}fetch(L){var Y=this;return(0,h.Z)(function*(){const[he,Ae]=yield Promise.all([Y.firebaseInstallations.getId(),Y.firebaseInstallations.getToken()]),st=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Y.projectId}/namespaces/${Y.namespace}:fetch?key=${Y.apiKey}`,Ht={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":L.eTag||"*"},Gt={sdk_version:Y.sdkVersion,app_instance_id:he,app_instance_id_token:Ae,app_id:Y.appId,language_code:as()},_n={method:"POST",headers:Ht,body:JSON.stringify(Gt)},zn=fetch(st,_n),Jn=new Promise((Ga,wc)=>{L.signal.addEventListener(()=>{const ts=new Error("The operation was aborted.");ts.name="AbortError",wc(ts)})});let rc;try{yield Promise.race([zn,Jn]),rc=yield zn}catch(Ga){let wc="fetch-client-network";throw"AbortError"===Ga?.name&&(wc="fetch-timeout"),fr.create(wc,{originalErrorMessage:Ga?.message})}let to=rc.status;const Wd=rc.headers.get("ETag")||void 0;let xh,Ha;if(200===rc.status){let Ga;try{Ga=yield rc.json()}catch(wc){throw fr.create("fetch-client-parse",{originalErrorMessage:wc?.message})}xh=Ga.entries,Ha=Ga.state}if("INSTANCE_STATE_UNSPECIFIED"===Ha?to=500:"NO_CHANGE"===Ha?to=304:("NO_TEMPLATE"===Ha||"EMPTY_CONFIG"===Ha)&&(xh={}),304!==to&&200!==to)throw fr.create("fetch-status",{httpStatus:to});return{status:to,eTag:Wd,config:xh}})()}}class Fn{constructor(L,Y){this.client=L,this.storage=Y}fetch(L){var Y=this;return(0,h.Z)(function*(){const he=(yield Y.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Y.attemptFetch(L,he)})()}attemptFetch(L,{throttleEndTimeMillis:Y,backoffCount:he}){var Ae=this;return(0,h.Z)(function*(){yield function sr(M,L){return new Promise((Y,he)=>{const Ae=Math.max(L-Date.now(),0),Fe=setTimeout(Y,Ae);M.addEventListener(()=>{clearTimeout(Fe),he(fr.create("fetch-throttle",{throttleEndTimeMillis:L}))})})}(L.signal,Y);try{const Fe=yield Ae.client.fetch(L);return yield Ae.storage.deleteThrottleMetadata(),Fe}catch(Fe){if(!function Bt(M){if(!(M instanceof de.ZR&&M.customData))return!1;const L=Number(M.customData.httpStatus);return 429===L||500===L||503===L||504===L}(Fe))throw Fe;const st={throttleEndTimeMillis:Date.now()+(0,de.$s)(he),backoffCount:he+1};return yield Ae.storage.setThrottleMetadata(st),Ae.attemptFetch(L,st)}})()}}class po{constructor(L,Y,he,Ae,Fe){this.app=L,this._client=Y,this._storageCache=he,this._storage=Ae,this._logger=Fe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Jr(M,L){const Y=M.target.error||void 0;return fr.create(L,{originalErrorMessage:Y&&Y?.message})}const $i="app_namespace_store";class Cn{constructor(L,Y,he,Ae=function ks(){return new Promise((M,L)=>{try{const Y=indexedDB.open("firebase_remote_config",1);Y.onerror=he=>{L(Jr(he,"storage-open"))},Y.onsuccess=he=>{M(he.target.result)},Y.onupgradeneeded=he=>{0===he.oldVersion&&he.target.result.createObjectStore($i,{keyPath:"compositeKey"})}}catch(Y){L(fr.create("storage-open",{originalErrorMessage:Y?.message}))}})}()){this.appId=L,this.appName=Y,this.namespace=he,this.openDbPromise=Ae}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(L){return this.set("last_fetch_status",L)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(L){return this.set("last_successful_fetch_timestamp_millis",L)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(L){return this.set("last_successful_fetch_response",L)}getActiveConfig(){return this.get("active_config")}setActiveConfig(L){return this.set("active_config",L)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(L){return this.set("active_config_etag",L)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(L){return this.set("throttle_metadata",L)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(L){var Y=this;return(0,h.Z)(function*(){const he=yield Y.openDbPromise;return new Promise((Ae,Fe)=>{const Ht=he.transaction([$i],"readonly").objectStore($i),Gt=Y.createCompositeKey(L);try{const _n=Ht.get(Gt);_n.onerror=zn=>{Fe(Jr(zn,"storage-get"))},_n.onsuccess=zn=>{const Jn=zn.target.result;Ae(Jn?Jn.value:void 0)}}catch(_n){Fe(fr.create("storage-get",{originalErrorMessage:_n?.message}))}})})()}set(L,Y){var he=this;return(0,h.Z)(function*(){const Ae=yield he.openDbPromise;return new Promise((Fe,st)=>{const Gt=Ae.transaction([$i],"readwrite").objectStore($i),_n=he.createCompositeKey(L);try{const zn=Gt.put({compositeKey:_n,value:Y});zn.onerror=Jn=>{st(Jr(Jn,"storage-set"))},zn.onsuccess=()=>{Fe()}}catch(zn){st(fr.create("storage-set",{originalErrorMessage:zn?.message}))}})})()}delete(L){var Y=this;return(0,h.Z)(function*(){const he=yield Y.openDbPromise;return new Promise((Ae,Fe)=>{const Ht=he.transaction([$i],"readwrite").objectStore($i),Gt=Y.createCompositeKey(L);try{const _n=Ht.delete(Gt);_n.onerror=zn=>{Fe(Jr(zn,"storage-delete"))},_n.onsuccess=()=>{Ae()}}catch(_n){Fe(fr.create("storage-delete",{originalErrorMessage:_n?.message}))}})})()}createCompositeKey(L){return[this.appId,this.appName,this.namespace,L].join()}}class go{constructor(L){this.storage=L}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var L=this;return(0,h.Z)(function*(){const Y=L.storage.getLastFetchStatus(),he=L.storage.getLastSuccessfulFetchTimestampMillis(),Ae=L.storage.getActiveConfig(),Fe=yield Y;Fe&&(L.lastFetchStatus=Fe);const st=yield he;st&&(L.lastSuccessfulFetchTimestampMillis=st);const Ht=yield Ae;Ht&&(L.activeConfig=Ht)})()}setLastFetchStatus(L){return this.lastFetchStatus=L,this.storage.setLastFetchStatus(L)}setLastSuccessfulFetchTimestampMillis(L){return this.lastSuccessfulFetchTimestampMillis=L,this.storage.setLastSuccessfulFetchTimestampMillis(L)}setActiveConfig(L){return this.activeConfig=L,this.storage.setActiveConfig(L)}}function gs(){return Si.apply(this,arguments)}function Si(){return(Si=(0,h.Z)(function*(){if(!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch{return!1}})).apply(this,arguments)}!function fc(){(0,we.Xd)(new fe.wA("remote-config",function M(L,{instanceIdentifier:Y}){const he=L.getProvider("app").getImmediate(),Ae=L.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw fr.create("registration-window");if(!(0,de.hl)())throw fr.create("indexed-db-unavailable");const{projectId:Fe,apiKey:st,appId:Ht}=he.options;if(!Fe)throw fr.create("registration-project-id");if(!st)throw fr.create("registration-api-key");if(!Ht)throw fr.create("registration-app-id");const Gt=new Cn(Ht,he.name,Y=Y||"firebase"),_n=new go(Gt),zn=new Oe.Yd(Ci);zn.logLevel=Oe.in.ERROR;const Jn=new fo(Ae,we.Jn,Y,Fe,st,Ht),rc=new Fn(Jn,Gt),to=new Br(rc,Gt,_n,zn),Wd=new po(he,to,_n,Gt,zn);return function Oo(M){const L=(0,de.m9)(M);L._initializePromise||(L._initializePromise=L._storageCache.loadFromStorage().then(()=>{L._isInitializationComplete=!0}))}(Wd),Wd},"PUBLIC").setMultipleInstances(!0)),(0,we.KN)(Ci,"0.4.4"),(0,we.KN)(Ci,"0.4.4","esm2017")}();const pi=(M,L)=>L.some(Y=>M instanceof Y);let Jo,Pc;const Vr=new WeakMap,Cs=new WeakMap,On=new WeakMap,Zu=new WeakMap,_o=new WeakMap;let _s={get(M,L,Y){if(M instanceof IDBTransaction){if("done"===L)return Cs.get(M);if("objectStoreNames"===L)return M.objectStoreNames||On.get(M);if("store"===L)return Y.objectStoreNames[1]?void 0:Y.objectStore(Y.objectStoreNames[0])}return Ys(M[L])},set:(M,L,Y)=>(M[L]=Y,!0),has:(M,L)=>M instanceof IDBTransaction&&("done"===L||"store"===L)||L in M};function Rr(M){return"function"==typeof M?function yo(M){return M!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function cs(){return Pc||(Pc=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(M)?function(...L){return M.apply(ii(this),L),Ys(Vr.get(this))}:function(...L){return Ys(M.apply(ii(this),L))}:function(L,...Y){const he=M.call(ii(this),L,...Y);return On.set(he,L.sort?L.sort():[L]),Ys(he)}}(M):(M instanceof IDBTransaction&&function gi(M){if(Cs.has(M))return;const L=new Promise((Y,he)=>{const Ae=()=>{M.removeEventListener("complete",Fe),M.removeEventListener("error",st),M.removeEventListener("abort",st)},Fe=()=>{Y(),Ae()},st=()=>{he(M.error||new DOMException("AbortError","AbortError")),Ae()};M.addEventListener("complete",Fe),M.addEventListener("error",st),M.addEventListener("abort",st)});Cs.set(M,L)}(M),pi(M,function mo(){return Jo||(Jo=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(M,_s):M)}function Ys(M){if(M instanceof IDBRequest)return function ms(M){const L=new Promise((Y,he)=>{const Ae=()=>{M.removeEventListener("success",Fe),M.removeEventListener("error",st)},Fe=()=>{Y(Ys(M.result)),Ae()},st=()=>{he(M.error),Ae()};M.addEventListener("success",Fe),M.addEventListener("error",st)});return L.then(Y=>{Y instanceof IDBCursor&&Vr.set(Y,M)}).catch(()=>{}),_o.set(L,M),L}(M);if(Zu.has(M))return Zu.get(M);const L=Rr(M);return L!==M&&(Zu.set(M,L),_o.set(L,M)),L}const ii=M=>_o.get(M);function ls(M,L,{blocked:Y,upgrade:he,blocking:Ae,terminated:Fe}={}){const st=indexedDB.open(M,L),Ht=Ys(st);return he&&st.addEventListener("upgradeneeded",Gt=>{he(Ys(st.result),Gt.oldVersion,Gt.newVersion,Ys(st.transaction))}),Y&&st.addEventListener("blocked",()=>Y()),Ht.then(Gt=>{Fe&&Gt.addEventListener("close",()=>Fe()),Ae&&Gt.addEventListener("versionchange",()=>Ae())}).catch(()=>{}),Ht}function Ls(M,{blocked:L}={}){const Y=indexedDB.deleteDatabase(M);return L&&Y.addEventListener("blocked",()=>L()),Ys(Y).then(()=>{})}const ys=["get","getKey","getAll","getAllKeys","count"],vs=["put","add","delete","clear"],mi=new Map;function Ki(M,L){if(!(M instanceof IDBDatabase)||L in M||"string"!=typeof L)return;if(mi.get(L))return mi.get(L);const Y=L.replace(/FromIndex$/,""),he=L!==Y,Ae=vs.includes(Y);if(!(Y in(he?IDBIndex:IDBObjectStore).prototype)||!Ae&&!ys.includes(Y))return;const Fe=function(){var st=(0,h.Z)(function*(Ht,...Gt){const _n=this.transaction(Ht,Ae?"readwrite":"readonly");let zn=_n.store;return he&&(zn=zn.index(Gt.shift())),(yield Promise.all([zn[Y](...Gt),Ae&&_n.done]))[0]});return function(Gt){return st.apply(this,arguments)}}();return mi.set(L,Fe),Fe}!function Ra(M){_s=M(_s)}(M=>({...M,get:(L,Y,he)=>Ki(L,Y)||M.get(L,Y,he),has:(L,Y)=>!!Ki(L,Y)||M.has(L,Y)}));const pc="/firebase-messaging-sw.js",ha="/firebase-cloud-messaging-push-scope",fa="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ya="https://fcmregistrations.googleapis.com/v1",Xr="google.c.a.c_id",Xo="google.c.a.c_l",Qa="google.c.a.ts";var B=function(M){return M.PUSH_RECEIVED="push-received",M.NOTIFICATION_CLICKED="notification-clicked",M}(B||{});function oe(M){const L=new Uint8Array(M);return btoa(String.fromCharCode(...L)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ie(M){const Y=(M+"=".repeat((4-M.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),he=atob(Y),Ae=new Uint8Array(he.length);for(let Fe=0;Fe<he.length;++Fe)Ae[Fe]=he.charCodeAt(Fe);return Ae}const Kt="fcm_token_details_db",Pn=5,Yi="fcm_token_object_Store";function Qi(){return Qi=(0,h.Z)(function*(M){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Fe=>Fe.name).includes(Kt))return null;let L=null;return(yield ls(Kt,Pn,{upgrade:(he=(0,h.Z)(function*(Ae,Fe,st,Ht){var Gt;if(Fe<2||!Ae.objectStoreNames.contains(Yi))return;const _n=Ht.objectStore(Yi),zn=yield _n.index("fcmSenderId").get(M);if(yield _n.clear(),zn)if(2===Fe){const Jn=zn;if(!Jn.auth||!Jn.p256dh||!Jn.endpoint)return;L={token:Jn.fcmToken,createTime:null!==(Gt=Jn.createTime)&&void 0!==Gt?Gt:Date.now(),subscriptionOptions:{auth:Jn.auth,p256dh:Jn.p256dh,endpoint:Jn.endpoint,swScope:Jn.swScope,vapidKey:"string"==typeof Jn.vapidKey?Jn.vapidKey:oe(Jn.vapidKey)}}}else if(3===Fe){const Jn=zn;L={token:Jn.fcmToken,createTime:Jn.createTime,subscriptionOptions:{auth:oe(Jn.auth),p256dh:oe(Jn.p256dh),endpoint:Jn.endpoint,swScope:Jn.swScope,vapidKey:oe(Jn.vapidKey)}}}else if(4===Fe){const Jn=zn;L={token:Jn.fcmToken,createTime:Jn.createTime,subscriptionOptions:{auth:oe(Jn.auth),p256dh:oe(Jn.p256dh),endpoint:Jn.endpoint,swScope:Jn.swScope,vapidKey:oe(Jn.vapidKey)}}}}),function(Fe,st,Ht,Gt){return he.apply(this,arguments)})})).close(),yield Ls(Kt),yield Ls("fcm_vapid_details_db"),yield Ls("undefined"),function ki(M){if(!M||!M.subscriptionOptions)return!1;const{subscriptionOptions:L}=M;return"number"==typeof M.createTime&&M.createTime>0&&"string"==typeof M.token&&M.token.length>0&&"string"==typeof L.auth&&L.auth.length>0&&"string"==typeof L.p256dh&&L.p256dh.length>0&&"string"==typeof L.endpoint&&L.endpoint.length>0&&"string"==typeof L.swScope&&L.swScope.length>0&&"string"==typeof L.vapidKey&&L.vapidKey.length>0}(L)?L:null;var he}),Qi.apply(this,arguments)}const kc="firebase-messaging-database",pa=1,ea="firebase-messaging-store";let Fc=null;function Pa(){return Fc||(Fc=ls(kc,pa,{upgrade:(M,L)=>{0===L&&M.createObjectStore(ea)}})),Fc}function Ss(M){return gc.apply(this,arguments)}function gc(){return gc=(0,h.Z)(function*(M){const L=wi(M),he=yield(yield Pa()).transaction(ea).objectStore(ea).get(L);if(he)return he;{const Ae=yield function Qs(M){return Qi.apply(this,arguments)}(M.appConfig.senderId);if(Ae)return yield As(M,Ae),Ae}}),gc.apply(this,arguments)}function As(M,L){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,h.Z)(function*(M,L){const Y=wi(M),Ae=(yield Pa()).transaction(ea,"readwrite");return yield Ae.objectStore(ea).put(L,Y),yield Ae.done,L})).apply(this,arguments)}function Ur(){return(Ur=(0,h.Z)(function*(M){const L=wi(M),he=(yield Pa()).transaction(ea,"readwrite");yield he.objectStore(ea).delete(L),yield he.done})).apply(this,arguments)}function wi({appConfig:M}){return M.appId}const ur=new de.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ja(M,L){return ta.apply(this,arguments)}function ta(){return(ta=(0,h.Z)(function*(M,L){const Y=yield ra(M),he=Ro(L),Ae={method:"POST",headers:Y,body:JSON.stringify(he)};let Fe;try{Fe=yield(yield fetch(ga(M.appConfig),Ae)).json()}catch(st){throw ur.create("token-subscribe-failed",{errorInfo:st?.toString()})}if(Fe.error)throw ur.create("token-subscribe-failed",{errorInfo:Fe.error.message});if(!Fe.token)throw ur.create("token-subscribe-no-token");return Fe.token})).apply(this,arguments)}function Js(){return(Js=(0,h.Z)(function*(M,L){const Y=yield ra(M),he=Ro(L.subscriptionOptions),Ae={method:"PATCH",headers:Y,body:JSON.stringify(he)};let Fe;try{Fe=yield(yield fetch(`${ga(M.appConfig)}/${L.token}`,Ae)).json()}catch(st){throw ur.create("token-update-failed",{errorInfo:st?.toString()})}if(Fe.error)throw ur.create("token-update-failed",{errorInfo:Fe.error.message});if(!Fe.token)throw ur.create("token-update-no-token");return Fe.token})).apply(this,arguments)}function Bc(M,L){return na.apply(this,arguments)}function na(){return(na=(0,h.Z)(function*(M,L){const he={method:"DELETE",headers:yield ra(M)};try{const Fe=yield(yield fetch(`${ga(M.appConfig)}/${L}`,he)).json();if(Fe.error)throw ur.create("token-unsubscribe-failed",{errorInfo:Fe.error.message})}catch(Ae){throw ur.create("token-unsubscribe-failed",{errorInfo:Ae?.toString()})}})).apply(this,arguments)}function ga({projectId:M}){return`${Ya}/projects/${M}/registrations`}function ra(M){return mc.apply(this,arguments)}function mc(){return(mc=(0,h.Z)(function*({appConfig:M,installations:L}){const Y=yield L.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":M.apiKey,"x-goog-firebase-installations-auth":`FIS ${Y}`})})).apply(this,arguments)}function Ro({p256dh:M,auth:L,endpoint:Y,vapidKey:he}){const Ae={web:{endpoint:Y,auth:L,p256dh:M}};return he!==fa&&(Ae.web.applicationPubKey=he),Ae}const Vc=6048e5;function Uc(){return Uc=(0,h.Z)(function*(M){const L=yield function vo(M,L){return Xs.apply(this,arguments)}(M.swRegistration,M.vapidKey),Y={vapidKey:M.vapidKey,swScope:M.swRegistration.scope,endpoint:L.endpoint,auth:oe(L.getKey("auth")),p256dh:oe(L.getKey("p256dh"))},he=yield Ss(M.firebaseDependencies);if(he){if(function O(M,L){return L.vapidKey===M.vapidKey&&L.endpoint===M.endpoint&&L.auth===M.auth&&L.p256dh===M.p256dh}(he.subscriptionOptions,Y))return Date.now()>=he.createTime+Vc?function ru(M,L){return Ku.apply(this,arguments)}(M,{token:he.token,createTime:Date.now(),subscriptionOptions:Y}):he.token;try{yield Bc(M.firebaseDependencies,he.token)}catch(Ae){console.warn(Ae)}return iu(M.firebaseDependencies,Y)}return iu(M.firebaseDependencies,Y)}),Uc.apply(this,arguments)}function Sl(){return Sl=(0,h.Z)(function*(M){const L=yield Ss(M.firebaseDependencies);L&&(yield Bc(M.firebaseDependencies,L.token),yield function xo(M){return Ur.apply(this,arguments)}(M.firebaseDependencies));const Y=yield M.swRegistration.pushManager.getSubscription();return!Y||Y.unsubscribe()}),Sl.apply(this,arguments)}function Ku(){return Ku=(0,h.Z)(function*(M,L){try{const Y=yield function Lc(M,L){return Js.apply(this,arguments)}(M.firebaseDependencies,L),he=Object.assign(Object.assign({},L),{token:Y,createTime:Date.now()});return yield As(M.firebaseDependencies,he),Y}catch(Y){throw yield function nu(M){return Sl.apply(this,arguments)}(M),Y}}),Ku.apply(this,arguments)}function iu(M,L){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,h.Z)(function*(M,L){const he={token:yield Ja(M,L),createTime:Date.now(),subscriptionOptions:L};return yield As(M,he),he.token})).apply(this,arguments)}function Xs(){return(Xs=(0,h.Z)(function*(M,L){return(yield M.pushManager.getSubscription())||M.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ie(L)})})).apply(this,arguments)}function ne(M){const L={from:M.from,collapseKey:M.collapse_key,messageId:M.fcmMessageId};return function U(M,L){if(!L.notification)return;M.notification={};const Y=L.notification.title;Y&&(M.notification.title=Y);const he=L.notification.body;he&&(M.notification.body=he);const Ae=L.notification.image;Ae&&(M.notification.image=Ae);const Fe=L.notification.icon;Fe&&(M.notification.icon=Fe)}(L,M),function X(M,L){L.data&&(M.data=L.data)}(L,M),function ye(M,L){var Y,he,Ae,Fe,st;if(!(L.fcmOptions||null!==(Y=L.notification)&&void 0!==Y&&Y.click_action))return;M.fcmOptions={};const Ht=null!==(Ae=null===(he=L.fcmOptions)||void 0===he?void 0:he.link)&&void 0!==Ae?Ae:null===(Fe=L.notification)||void 0===Fe?void 0:Fe.click_action;Ht&&(M.fcmOptions.link=Ht);const Gt=null===(st=L.fcmOptions)||void 0===st?void 0:st.analytics_label;Gt&&(M.fcmOptions.analyticsLabel=Gt)}(L,M),L}function ft(M,L){const Y=[];for(let he=0;he<M.length;he++)Y.push(M.charAt(he)),he<L.length&&Y.push(L.charAt(he));return Y.join("")}function Sr(M){return ur.create("missing-app-config-values",{valueName:M})}ft("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ft("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ir{constructor(L,Y,he){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ae=function fn(M){if(!M||!M.options)throw Sr("App Configuration Object");if(!M.name)throw Sr("App Name");const L=["projectId","apiKey","appId","messagingSenderId"],{options:Y}=M;for(const he of L)if(!Y[he])throw Sr(he);return{appName:M.name,projectId:Y.projectId,apiKey:Y.apiKey,appId:Y.appId,senderId:Y.messagingSenderId}}(L);this.firebaseDependencies={app:L,appConfig:Ae,installations:Y,analyticsProvider:he}}_delete(){return Promise.resolve()}}function jn(){return(jn=(0,h.Z)(function*(M){try{M.swRegistration=yield navigator.serviceWorker.register(pc,{scope:ha}),M.swRegistration.update().catch(()=>{})}catch(L){throw ur.create("failed-service-worker-registration",{browserErrorMessage:L?.message})}})).apply(this,arguments)}function pr(){return(pr=(0,h.Z)(function*(M,L){if(!L&&!M.swRegistration&&(yield function or(M){return jn.apply(this,arguments)}(M)),L||!M.swRegistration){if(!(L instanceof ServiceWorkerRegistration))throw ur.create("invalid-sw-registration");M.swRegistration=L}})).apply(this,arguments)}function yi(){return(yi=(0,h.Z)(function*(M,L){L?M.vapidKey=L:M.vapidKey||(M.vapidKey=fa)})).apply(this,arguments)}function Xi(){return Xi=(0,h.Z)(function*(M,L){if(!navigator)throw ur.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ur.create("permission-blocked");return yield function Ai(M,L){return yi.apply(this,arguments)}(M,L?.vapidKey),yield function _i(M,L){return pr.apply(this,arguments)}(M,L?.serviceWorkerRegistration),function _c(M){return Uc.apply(this,arguments)}(M)}),Xi.apply(this,arguments)}function Vs(){return(Vs=(0,h.Z)(function*(M,L,Y){const he=function ka(M){switch(M){case B.NOTIFICATION_CLICKED:return"notification_open";case B.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(L);(yield M.firebaseDependencies.analyticsProvider.get()).logEvent(he,{message_id:Y[Xr],message_name:Y[Xo],message_time:Y[Qa],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Gc(){return Gc=(0,h.Z)(function*(M,L){const Y=L.data;if(!Y.isFirebaseMessaging)return;M.onMessageHandler&&Y.messageType===B.PUSH_RECEIVED&&("function"==typeof M.onMessageHandler?M.onMessageHandler(ne(Y)):M.onMessageHandler.next(ne(Y)));const he=Y.data;(function Ke(M){return"object"==typeof M&&!!M&&Xr in M})(he)&&"1"===he["google.c.a.e"]&&(yield function Ns(M,L,Y){return Vs.apply(this,arguments)}(M,Y.messageType,he))}),Gc.apply(this,arguments)}const cl="@firebase/messaging",ma=M=>{const L=new Ir(M.getProvider("app").getImmediate(),M.getProvider("installations-internal").getImmediate(),M.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Y=>function Xa(M,L){return Gc.apply(this,arguments)}(L,Y)),L},ll=M=>{const L=M.getProvider("messaging").getImmediate();return{getToken:he=>function Ji(M,L){return Xi.apply(this,arguments)}(L,he)}};function Al(){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,h.Z)(function*(){try{yield(0,de.eu)()}catch{return!1}return typeof window<"u"&&(0,de.hl)()&&(0,de.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function di(){(0,we.Xd)(new fe.wA("messaging",ma,"PUBLIC")),(0,we.Xd)(new fe.wA("messaging-internal",ll,"PRIVATE")),(0,we.KN)(cl,"0.12.4"),(0,we.KN)(cl,"0.12.4","esm2017")}();const Fa="analytics",Qu="firebase_id",Eh="origin",Ii=6e4,La="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",jc="https://www.googletagmanager.com/gtag/js",es=new Oe.Yd("@firebase/analytics"),Os=new de.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function mg(M){if(!M.startsWith(jc)){const L=Os.create("invalid-gtag-resource",{gtagURL:M});return es.warn(L.message),""}return M}function Ju(M){return Promise.all(M.map(L=>L.catch(Y=>Y)))}function $c(){return($c=(0,h.Z)(function*(M,L,Y,he,Ae,Fe){const st=he[Ae];try{if(st)yield L[st];else{const Gt=(yield Ju(Y)).find(_n=>_n.measurementId===Ae);Gt&&(yield L[Gt.appId])}}catch(Ht){es.error(Ht)}M("config",Ae,Fe)})).apply(this,arguments)}function Xu(){return(Xu=(0,h.Z)(function*(M,L,Y,he,Ae){try{let Fe=[];if(Ae&&Ae.send_to){let st=Ae.send_to;Array.isArray(st)||(st=[st]);const Ht=yield Ju(Y);for(const Gt of st){const _n=Ht.find(Jn=>Jn.measurementId===Gt),zn=_n&&L[_n.appId];if(!zn){Fe=[];break}Fe.push(zn)}}0===Fe.length&&(Fe=Object.values(L)),yield Promise.all(Fe),M("event",he,Ae||{})}catch(Fe){es.error(Fe)}})).apply(this,arguments)}const gr=30,bs=new class Fd{constructor(L={},Y=1e3){this.throttleMetadata=L,this.intervalMillis=Y}getThrottleMetadata(L){return this.throttleMetadata[L]}setThrottleMetadata(L,Y){this.throttleMetadata[L]=Y}deleteThrottleMetadata(L){delete this.throttleMetadata[L]}};function dl(M){return new Headers({Accept:"application/json","x-goog-api-key":M})}function bo(){return(bo=(0,h.Z)(function*(M){var L;const{appId:Y,apiKey:he}=M,Ae={method:"GET",headers:dl(he)},Fe=La.replace("{app-id}",Y),st=yield fetch(Fe,Ae);if(200!==st.status&&304!==st.status){let Ht="";try{const Gt=yield st.json();null!==(L=Gt.error)&&void 0!==L&&L.message&&(Ht=Gt.error.message)}catch{}throw Os.create("config-fetch-failed",{httpStatus:st.status,responseMessage:Ht})}return st.json()})).apply(this,arguments)}function tc(){return(tc=(0,h.Z)(function*(M,L=bs,Y){const{appId:he,apiKey:Ae,measurementId:Fe}=M.options;if(!he)throw Os.create("no-app-id");if(!Ae){if(Fe)return{measurementId:Fe,appId:he};throw Os.create("no-api-key")}const st=L.getThrottleMetadata(he)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ht=new Po;return setTimeout((0,h.Z)(function*(){Ht.abort()}),void 0!==Y?Y:Ii),lu({appId:he,apiKey:Ae,measurementId:Fe},st,Ht,L)})).apply(this,arguments)}function lu(M,L,Y){return zc.apply(this,arguments)}function zc(){return zc=(0,h.Z)(function*(M,{throttleEndTimeMillis:L,backoffCount:Y},he,Ae=bs){var Fe;const{appId:st,measurementId:Ht}=M;try{yield function Ba(M,L){return new Promise((Y,he)=>{const Ae=Math.max(L-Date.now(),0),Fe=setTimeout(Y,Ae);M.addEventListener(()=>{clearTimeout(Fe),he(Os.create("fetch-throttle",{throttleEndTimeMillis:L}))})})}(he,L)}catch(Gt){if(Ht)return es.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ht} provided in the "measurementId" field in the local Firebase config. [${Gt?.message}]`),{appId:st,measurementId:Ht};throw Gt}try{const Gt=yield function hl(M){return bo.apply(this,arguments)}(M);return Ae.deleteThrottleMetadata(st),Gt}catch(Gt){const _n=Gt;if(!function Hs(M){if(!(M instanceof de.ZR&&M.customData))return!1;const L=Number(M.customData.httpStatus);return 429===L||500===L||503===L||504===L}(_n)){if(Ae.deleteThrottleMetadata(st),Ht)return es.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ht} provided in the "measurementId" field in the local Firebase config. [${_n?.message}]`),{appId:st,measurementId:Ht};throw Gt}const zn=503===Number(null===(Fe=_n?.customData)||void 0===Fe?void 0:Fe.httpStatus)?(0,de.$s)(Y,Ae.intervalMillis,gr):(0,de.$s)(Y,Ae.intervalMillis),Jn={throttleEndTimeMillis:Date.now()+zn,backoffCount:Y+1};return Ae.setThrottleMetadata(st,Jn),es.debug(`Calling attemptFetch again in ${zn} millis`),lu(M,Jn,he,Ae)}}),zc.apply(this,arguments)}class Po{constructor(){this.listeners=[]}addEventListener(L){this.listeners.push(L)}abort(){this.listeners.forEach(L=>L())}}let fl,_e;function Ua(){return(Ua=(0,h.Z)(function*(M,L,Y,he,Ae){if(Ae&&Ae.global)M("event",Y,he);else{const Fe=yield L;M("event",Y,Object.assign(Object.assign({},he),{send_to:Fe}))}})).apply(this,arguments)}function Ln(){return(Ln=(0,h.Z)(function*(){if(!(0,de.hl)())return es.warn(Os.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,de.eu)()}catch(M){return es.warn(Os.create("indexeddb-unavailable",{errorInfo:M?.toString()}).message),!1}return!0})).apply(this,arguments)}function mr(){return mr=(0,h.Z)(function*(M,L,Y,he,Ae,Fe,st){var Ht;const Gt=function cu(M){return tc.apply(this,arguments)}(M);Gt.then(to=>{Y[to.measurementId]=to.appId,M.options.measurementId&&to.measurementId!==M.options.measurementId&&es.warn(`The measurement ID in the local Firebase config (${M.options.measurementId}) does not match the measurement ID fetched from the server (${to.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(to=>es.error(to)),L.push(Gt);const _n=function Wt(){return Ln.apply(this,arguments)}().then(to=>{if(to)return he.getId()}),[zn,Jn]=yield Promise.all([Gt,_n]);(function ht(M){const L=window.document.getElementsByTagName("script");for(const Y of Object.values(L))if(Y.src&&Y.src.includes(jc)&&Y.src.includes(M))return Y;return null})(Fe)||function Ol(M,L){const Y=function Dh(M,L){let Y;return window.trustedTypes&&(Y=window.trustedTypes.createPolicy(M,L)),Y}("firebase-js-sdk-policy",{createScriptURL:mg}),he=document.createElement("script"),Ae=`${jc}?l=${M}&id=${L}`;he.src=Y?Y?.createScriptURL(Ae):Ae,he.async=!0,document.head.appendChild(he)}(Fe,zn.measurementId),_e&&(Ae("consent","default",_e),function ze(M){_e=M}(void 0)),Ae("js",new Date);const rc=null!==(Ht=st?.config)&&void 0!==Ht?Ht:{};return rc[Eh]="firebase",rc.update=!0,null!=Jn&&(rc[Qu]=Jn),Ae("config",zn.measurementId,rc),fl&&(Ae("set",fl),function Ge(M){fl=M}(void 0)),zn.measurementId}),mr.apply(this,arguments)}class yc{constructor(L){this.app=L}_delete(){return delete Wr[this.app.options.appId],Promise.resolve()}}let Wr={},ia=[];const Pr={};let Bd,ya,ko="dataLayer",uu=!1;function vc(M,L,Y){!function Ah(){const M=[];if((0,de.ru)()&&M.push("This is a browser extension environment."),(0,de.zI)()||M.push("Cookies are not available."),M.length>0){const L=M.map((he,Ae)=>`(${Ae+1}) ${he}`).join(" "),Y=Os.create("invalid-analytics-context",{errorInfo:L});es.warn(Y.message)}}();const he=M.options.appId;if(!he)throw Os.create("no-app-id");if(!M.options.apiKey){if(!M.options.measurementId)throw Os.create("no-api-key");es.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${M.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Wr[he])throw Os.create("already-exists",{id:he});if(!uu){!function Ml(M){let L=[];Array.isArray(window[M])?L=window[M]:window[M]=L}(ko);const{wrappedGtag:Fe,gtagCore:st}=function ou(M,L,Y,he,Ae){let Fe=function(...st){window[he].push(arguments)};return window[Ae]&&"function"==typeof window[Ae]&&(Fe=window[Ae]),window[Ae]=function su(M,L,Y,he){function Fe(){return Fe=(0,h.Z)(function*(st,...Ht){try{if("event"===st){const[Gt,_n]=Ht;yield function kd(M,L,Y,he,Ae){return Xu.apply(this,arguments)}(M,L,Y,Gt,_n)}else if("config"===st){const[Gt,_n]=Ht;yield function _a(M,L,Y,he,Ae,Fe){return $c.apply(this,arguments)}(M,L,Y,he,Gt,_n)}else if("consent"===st){const[Gt]=Ht;M("consent","update",Gt)}else if("get"===st){const[Gt,_n,zn]=Ht;M("get",Gt,_n,zn)}else if("set"===st){const[Gt]=Ht;M("set",Gt)}else M(st,...Ht)}catch(Gt){es.error(Gt)}}),Fe.apply(this,arguments)}return function Ae(st){return Fe.apply(this,arguments)}}(Fe,M,L,Y),{gtagCore:Fe,wrappedGtag:window[Ae]}}(Wr,ia,Pr,ko,"gtag");ya=Fe,Bd=st,uu=!0}return Wr[he]=function Ar(M,L,Y,he,Ae,Fe,st){return mr.apply(this,arguments)}(M,ia,Pr,L,Bd,ko,Y),new yc(M)}function Wc(){return pl.apply(this,arguments)}function pl(){return(pl=(0,h.Z)(function*(){if((0,de.ru)()||!(0,de.zI)()||!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch{return!1}})).apply(this,arguments)}const _g="@firebase/analytics";!function qf(){(0,we.Xd)(new fe.wA(Fa,(L,{options:Y})=>vc(L.getProvider("app").getImmediate(),L.getProvider("installations-internal").getImmediate(),Y),"PUBLIC")),(0,we.Xd)(new fe.wA("analytics-internal",function M(L){try{const Y=L.getProvider(Fa).getImmediate();return{logEvent:(he,Ae,Fe)=>function Oh(M,L,Y,he){M=(0,de.m9)(M),function Va(M,L,Y,he,Ae){return Ua.apply(this,arguments)}(ya,Wr[M.app.options.appId],L,Y,he).catch(Ae=>es.error(Ae))}(Y,he,Ae,Fe)}}catch(Y){throw Os.create("interop-component-reg-failed",{reason:Y})}},"PRIVATE")),(0,we.KN)(_g,"0.10.0"),(0,we.KN)(_g,"0.10.0","esm2017")}();var Hd=Q(1954),Pl=Q(9931);const Mh=new class kl extends Pl.v{}(class dv extends Hd.o{constructor(L,Y){super(L,Y),this.scheduler=L,this.work=Y}schedule(L,Y=0){return Y>0?super.schedule(L,Y):(this.delay=Y,this.state=L,this.scheduler.flush(this),this)}execute(L,Y){return Y>0||this.closed?super.execute(L,Y):this._execute(L,Y)}requestAsyncId(L,Y,he=0){return null!=he&&he>0||null==he&&this.delay>0?super.requestAsyncId(L,Y,he):(L.flush(this),0)}});var fu=Q(6321),qc=Q(5592),yg=Q(9397),pu=Q(5137),rd=Q(3093);const gu=new w.GfV("7.6.1"),wo="__angularfire_symbol__analyticsIsSupportedValue",id="__angularfire_symbol__analyticsIsSupported",ml="__angularfire_symbol__remoteConfigIsSupportedValue",Zc="__angularfire_symbol__remoteConfigIsSupported",mu="__angularfire_symbol__messagingIsSupportedValue",_u="__angularfire_symbol__messagingIsSupported";function Bl(M,L,Y){if(L){if(1===L.length)return L[0];const Fe=L.filter(st=>st.app===Y);if(1===Fe.length)return Fe[0]}return Y.container.getProvider(M).getImmediate({optional:!0})}globalThis[id]||(globalThis[id]=Wc().then(M=>globalThis[wo]=M).catch(()=>globalThis[wo]=!1)),globalThis[_u]||(globalThis[_u]=Al().then(M=>globalThis[mu]=M).catch(()=>globalThis[mu]=!1)),globalThis[Zc]||(globalThis[Zc]=gs().then(M=>globalThis[ml]=M).catch(()=>globalThis[ml]=!1));const jd=(M,L)=>{const Y=L?[L]:(0,ce.C6)(),he=[];return Y.forEach(Ae=>{Ae.container.getProvider(M).instances.forEach(st=>{he.includes(st)||he.push(st)})}),he};function Vl(){}class _l{constructor(L,Y=Mh){this.zone=L,this.delegate=Y}now(){return this.delegate.now()}schedule(L,Y,he){const Ae=this.zone;return this.delegate.schedule(function(st){Ae.runGuarded(()=>{L.apply(this,[st])})},Y,he)}}class Kc{constructor(L){this.zone=L,this.task=null}call(L,Y){const he=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Vl,{},Vl,Vl)),Y.pipe((0,yg.b)({next:he,complete:he,error:he})).subscribe(L).add(he)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let $d=(()=>{class M{constructor(Y){this.ngZone=Y,this.outsideAngular=Y.runOutsideAngular(()=>new _l(Zone.current)),this.insideAngular=Y.run(()=>new _l(Zone.current,fu.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return M.\u0275fac=function(Y){return new(Y||M)(w.LFG(w.R0b))},M.\u0275prov=w.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();function bc(){const M=globalThis.\u0275AngularFireScheduler;if(!M)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return M}function va(M){return bc().ngZone.run(()=>M())}function Kf(M){return bc(),function zd(M){return function(Y){return(Y=Y.lift(new Kc(M.ngZone))).pipe((0,pu.R)(M.outsideAngular),(0,rd.Q)(M.insideAngular))}}(bc())(M)}const sd=(M,L)=>function(){const he=arguments;return L&&setTimeout(()=>{"scheduled"===L.state&&L.invoke()},10),va(()=>M.apply(void 0,he))},bg=(M,L)=>function(){let Y;const he=arguments;for(let Fe=0;Fe<arguments.length;Fe++)"function"==typeof he[Fe]&&(L&&(Y||(Y=va(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Vl,{},Vl,Vl)))),he[Fe]=sd(he[Fe],Y));const Ae=function yu(M){return bc().ngZone.runOutsideAngular(()=>M())}(()=>M.apply(this,he));if(!L){if(Ae instanceof qc.y){const Fe=bc();return Ae.pipe((0,pu.R)(Fe.outsideAngular),(0,rd.Q)(Fe.insideAngular))}return va(()=>Ae)}return Ae instanceof qc.y?Ae.pipe(Kf):Ae instanceof Promise?va(()=>new Promise((Fe,st)=>Ae.then(Ht=>va(()=>Fe(Ht)),Ht=>va(()=>st(Ht))))):"function"==typeof Ae&&Y?function(){return setTimeout(()=>{Y&&"scheduled"===Y.state&&Y.invoke()},10),Ae.apply(this,arguments)}:va(()=>Ae)}},229:($t,We,Q)=>{Q.d(We,{$s:()=>It,BH:()=>vt,L:()=>Ee,LL:()=>bt,P0:()=>xt,Pz:()=>ot,Sg:()=>_t,US:()=>fe,ZR:()=>nt,aH:()=>mt,b$:()=>dt,eu:()=>$e,hl:()=>ke,m9:()=>Un,ne:()=>Zn,ru:()=>Rn,tV:()=>re,uI:()=>ve,vZ:()=>yt,xO:()=>En,z$:()=>je,zI:()=>Je});const we=function(K){const V=[];let G=0;for(let W=0;W<K.length;W++){let $=K.charCodeAt(W);$<128?V[G++]=$:$<2048?(V[G++]=$>>6|192,V[G++]=63&$|128):55296==(64512&$)&&W+1<K.length&&56320==(64512&K.charCodeAt(W+1))?($=65536+((1023&$)<<10)+(1023&K.charCodeAt(++W)),V[G++]=$>>18|240,V[G++]=$>>12&63|128,V[G++]=$>>6&63|128,V[G++]=63&$|128):(V[G++]=$>>12|224,V[G++]=$>>6&63|128,V[G++]=63&$|128)}return V},fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(K,V){if(!Array.isArray(K))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,W=[];for(let $=0;$<K.length;$+=3){const be=K[$],Ue=$+1<K.length,Et=Ue?K[$+1]:0,rn=$+2<K.length,hn=rn?K[$+2]:0;let xn=(15&Et)<<2|hn>>6,Kr=63&hn;rn||(Kr=64,Ue||(xn=64)),W.push(G[be>>2],G[(3&be)<<4|Et>>4],G[xn],G[Kr])}return W.join("")},encodeString(K,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(K):this.encodeByteArray(we(K),V)},decodeString(K,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(K):function(K){const V=[];let G=0,W=0;for(;G<K.length;){const $=K[G++];if($<128)V[W++]=String.fromCharCode($);else if($>191&&$<224){const be=K[G++];V[W++]=String.fromCharCode((31&$)<<6|63&be)}else if($>239&&$<365){const rn=((7&$)<<18|(63&K[G++])<<12|(63&K[G++])<<6|63&K[G++])-65536;V[W++]=String.fromCharCode(55296+(rn>>10)),V[W++]=String.fromCharCode(56320+(1023&rn))}else{const be=K[G++],Ue=K[G++];V[W++]=String.fromCharCode((15&$)<<12|(63&be)<<6|63&Ue)}}return V.join("")}(this.decodeStringToByteArray(K,V))},decodeStringToByteArray(K,V){this.init_();const G=V?this.charToByteMapWebSafe_:this.charToByteMap_,W=[];for(let $=0;$<K.length;){const be=G[K.charAt($++)],Et=$<K.length?G[K.charAt($)]:0;++$;const hn=$<K.length?G[K.charAt($)]:64;++$;const zt=$<K.length?G[K.charAt($)]:64;if(++$,null==be||null==Et||null==hn||null==zt)throw new Oe;W.push(be<<2|Et>>4),64!==hn&&(W.push(Et<<4&240|hn>>2),64!==zt&&W.push(hn<<6&192|zt))}return W},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let K=0;K<this.ENCODED_VALS.length;K++)this.byteToCharMap_[K]=this.ENCODED_VALS.charAt(K),this.charToByteMap_[this.byteToCharMap_[K]]=K,this.byteToCharMapWebSafe_[K]=this.ENCODED_VALS_WEBSAFE.charAt(K),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[K]]=K,K>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(K)]=K,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(K)]=K)}}};class Oe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ee=function(K){return function(K){const V=we(K);return fe.encodeByteArray(V,!0)}(K).replace(/\./g,"")},re=function(K){try{return fe.decodeString(K,!0)}catch(V){console.error("base64Decode failed: ",V)}return null},Ft=()=>{try{return function Pe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const K=process.env.__FIREBASE_DEFAULTS__;return K?JSON.parse(K):void 0})()||(()=>{if(typeof document>"u")return;let K;try{K=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const V=K&&re(K[1]);return V&&JSON.parse(V)})()}catch(K){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${K}`)}},xt=K=>{const V=(K=>{var V,G;return null===(G=null===(V=Ft())||void 0===V?void 0:V.emulatorHosts)||void 0===G?void 0:G[K]})(K);if(!V)return;const G=V.lastIndexOf(":");if(G<=0||G+1===V.length)throw new Error(`Invalid host ${V} with no separate hostname and port!`);const W=parseInt(V.substring(G+1),10);return"["===V[0]?[V.substring(1,G-1),W]:[V.substring(0,G),W]},mt=()=>{var K;return null===(K=Ft())||void 0===K?void 0:K.config},ot=K=>{var V;return null===(V=Ft())||void 0===V?void 0:V[`_${K}`]};class vt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((V,G)=>{this.resolve=V,this.reject=G})}wrapCallback(V){return(G,W)=>{G?this.reject(G):this.resolve(W),"function"==typeof V&&(this.promise.catch(()=>{}),1===V.length?V(G):V(G,W))}}}function _t(K,V){if(K.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const W=V||"demo-project",$=K.iat||0,be=K.sub||K.user_id;if(!be)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ue=Object.assign({iss:`https://securetoken.google.com/${W}`,aud:W,iat:$,exp:$+3600,auth_time:$,sub:be,user_id:be,firebase:{sign_in_provider:"custom",identities:{}}},K);return[Ee(JSON.stringify({alg:"none",type:"JWT"})),Ee(JSON.stringify(Ue)),""].join(".")}function je(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ve(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(je())}function Rn(){const K="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof K&&void 0!==K.id}function dt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ke(){try{return"object"==typeof indexedDB}catch{return!1}}function $e(){return new Promise((K,V)=>{try{let G=!0;const W="validate-browser-context-for-indexeddb-analytics-module",$=self.indexedDB.open(W);$.onsuccess=()=>{$.result.close(),G||self.indexedDB.deleteDatabase(W),K(!0)},$.onupgradeneeded=()=>{G=!1},$.onerror=()=>{var be;V((null===(be=$.error)||void 0===be?void 0:be.message)||"")}}catch(G){V(G)}})}function Je(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class nt extends Error{constructor(V,G,W){super(G),this.code=V,this.customData=W,this.name="FirebaseError",Object.setPrototypeOf(this,nt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bt.prototype.create)}}class bt{constructor(V,G,W){this.service=V,this.serviceName=G,this.errors=W}create(V,...G){const W=G[0]||{},$=`${this.service}/${V}`,be=this.errors[V],Ue=be?function Rt(K,V){return K.replace(jt,(G,W)=>{const $=V[W];return null!=$?String($):`<${W}?>`})}(be,W):"Error";return new nt($,`${this.serviceName}: ${Ue} (${$}).`,W)}}const jt=/\{\$([^}]+)}/g;function yt(K,V){if(K===V)return!0;const G=Object.keys(K),W=Object.keys(V);for(const $ of G){if(!W.includes($))return!1;const be=K[$],Ue=V[$];if(St(be)&&St(Ue)){if(!yt(be,Ue))return!1}else if(be!==Ue)return!1}for(const $ of W)if(!G.includes($))return!1;return!0}function St(K){return null!==K&&"object"==typeof K}function En(K){const V=[];for(const[G,W]of Object.entries(K))Array.isArray(W)?W.forEach($=>{V.push(encodeURIComponent(G)+"="+encodeURIComponent($))}):V.push(encodeURIComponent(G)+"="+encodeURIComponent(W));return V.length?"&"+V.join("&"):""}function Zn(K,V){const G=new en(K,V);return G.subscribe.bind(G)}class en{constructor(V,G){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(()=>{V(this)}).catch(W=>{this.error(W)})}next(V){this.forEachObserver(G=>{G.next(V)})}error(V){this.forEachObserver(G=>{G.error(V)}),this.close(V)}complete(){this.forEachObserver(V=>{V.complete()}),this.close()}subscribe(V,G,W){let $;if(void 0===V&&void 0===G&&void 0===W)throw new Error("Missing Observer.");$=function br(K,V){if("object"!=typeof K||null===K)return!1;for(const G of V)if(G in K&&"function"==typeof K[G])return!0;return!1}(V,["next","error","complete"])?V:{next:V,error:G,complete:W},void 0===$.next&&($.next=gn),void 0===$.error&&($.error=gn),void 0===$.complete&&($.complete=gn);const be=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?$.error(this.finalError):$.complete()}catch{}}),this.observers.push($),be}unsubscribeOne(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(V){if(!this.finalized)for(let G=0;G<this.observers.length;G++)this.sendOne(G,V)}sendOne(V,G){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[V])try{G(this.observers[V])}catch(W){typeof console<"u"&&console.error&&console.error(W)}})}close(V){this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gn(){}const fi=1e3,tt=2,Ce=144e5,Ze=.5;function It(K,V=fi,G=tt){const W=V*Math.pow(G,K),$=Math.round(Ze*W*(Math.random()-.5)*2);return Math.min(Ce,W+$)}function Un(K){return K&&K._delegate?K._delegate:K}},9058:($t,We,Q)=>{Q.d(We,{BH:()=>vt,L:()=>Ee,LL:()=>bt,Pz:()=>ot,ZR:()=>nt,aH:()=>mt,b$:()=>dt,eu:()=>$e,hl:()=>ke,m9:()=>Un,ne:()=>Zn,pd:()=>Qt,q4:()=>An,ru:()=>Rn,tV:()=>re,uI:()=>ve,vZ:()=>yt,w1:()=>In,xO:()=>En,xb:()=>Re,z$:()=>je,zd:()=>on});const we=function(K){const V=[];let G=0;for(let W=0;W<K.length;W++){let $=K.charCodeAt(W);$<128?V[G++]=$:$<2048?(V[G++]=$>>6|192,V[G++]=63&$|128):55296==(64512&$)&&W+1<K.length&&56320==(64512&K.charCodeAt(W+1))?($=65536+((1023&$)<<10)+(1023&K.charCodeAt(++W)),V[G++]=$>>18|240,V[G++]=$>>12&63|128,V[G++]=$>>6&63|128,V[G++]=63&$|128):(V[G++]=$>>12|224,V[G++]=$>>6&63|128,V[G++]=63&$|128)}return V},fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(K,V){if(!Array.isArray(K))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,W=[];for(let $=0;$<K.length;$+=3){const be=K[$],Ue=$+1<K.length,Et=Ue?K[$+1]:0,rn=$+2<K.length,hn=rn?K[$+2]:0;let xn=(15&Et)<<2|hn>>6,Kr=63&hn;rn||(Kr=64,Ue||(xn=64)),W.push(G[be>>2],G[(3&be)<<4|Et>>4],G[xn],G[Kr])}return W.join("")},encodeString(K,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(K):this.encodeByteArray(we(K),V)},decodeString(K,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(K):function(K){const V=[];let G=0,W=0;for(;G<K.length;){const $=K[G++];if($<128)V[W++]=String.fromCharCode($);else if($>191&&$<224){const be=K[G++];V[W++]=String.fromCharCode((31&$)<<6|63&be)}else if($>239&&$<365){const rn=((7&$)<<18|(63&K[G++])<<12|(63&K[G++])<<6|63&K[G++])-65536;V[W++]=String.fromCharCode(55296+(rn>>10)),V[W++]=String.fromCharCode(56320+(1023&rn))}else{const be=K[G++],Ue=K[G++];V[W++]=String.fromCharCode((15&$)<<12|(63&be)<<6|63&Ue)}}return V.join("")}(this.decodeStringToByteArray(K,V))},decodeStringToByteArray(K,V){this.init_();const G=V?this.charToByteMapWebSafe_:this.charToByteMap_,W=[];for(let $=0;$<K.length;){const be=G[K.charAt($++)],Et=$<K.length?G[K.charAt($)]:0;++$;const hn=$<K.length?G[K.charAt($)]:64;++$;const zt=$<K.length?G[K.charAt($)]:64;if(++$,null==be||null==Et||null==hn||null==zt)throw new Oe;W.push(be<<2|Et>>4),64!==hn&&(W.push(Et<<4&240|hn>>2),64!==zt&&W.push(hn<<6&192|zt))}return W},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let K=0;K<this.ENCODED_VALS.length;K++)this.byteToCharMap_[K]=this.ENCODED_VALS.charAt(K),this.charToByteMap_[this.byteToCharMap_[K]]=K,this.byteToCharMapWebSafe_[K]=this.ENCODED_VALS_WEBSAFE.charAt(K),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[K]]=K,K>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(K)]=K,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(K)]=K)}}};class Oe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ee=function(K){return function(K){const V=we(K);return fe.encodeByteArray(V,!0)}(K).replace(/\./g,"")},re=function(K){try{return fe.decodeString(K,!0)}catch(V){console.error("base64Decode failed: ",V)}return null},Ft=()=>{try{return function Pe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const K=process.env.__FIREBASE_DEFAULTS__;return K?JSON.parse(K):void 0})()||(()=>{if(typeof document>"u")return;let K;try{K=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const V=K&&re(K[1]);return V&&JSON.parse(V)})()}catch(K){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${K}`)}},An=K=>{var V,G;return null===(G=null===(V=Ft())||void 0===V?void 0:V.emulatorHosts)||void 0===G?void 0:G[K]},mt=()=>{var K;return null===(K=Ft())||void 0===K?void 0:K.config},ot=K=>{var V;return null===(V=Ft())||void 0===V?void 0:V[`_${K}`]};class vt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((V,G)=>{this.resolve=V,this.reject=G})}wrapCallback(V){return(G,W)=>{G?this.reject(G):this.resolve(W),"function"==typeof V&&(this.promise.catch(()=>{}),1===V.length?V(G):V(G,W))}}}function je(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ve(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(je())}function Rn(){const K="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof K&&void 0!==K.id}function dt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function In(){const K=je();return K.indexOf("MSIE ")>=0||K.indexOf("Trident/")>=0}function ke(){try{return"object"==typeof indexedDB}catch{return!1}}function $e(){return new Promise((K,V)=>{try{let G=!0;const W="validate-browser-context-for-indexeddb-analytics-module",$=self.indexedDB.open(W);$.onsuccess=()=>{$.result.close(),G||self.indexedDB.deleteDatabase(W),K(!0)},$.onupgradeneeded=()=>{G=!1},$.onerror=()=>{var be;V((null===(be=$.error)||void 0===be?void 0:be.message)||"")}}catch(G){V(G)}})}class nt extends Error{constructor(V,G,W){super(G),this.code=V,this.customData=W,this.name="FirebaseError",Object.setPrototypeOf(this,nt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bt.prototype.create)}}class bt{constructor(V,G,W){this.service=V,this.serviceName=G,this.errors=W}create(V,...G){const W=G[0]||{},$=`${this.service}/${V}`,be=this.errors[V],Ue=be?function Rt(K,V){return K.replace(jt,(G,W)=>{const $=V[W];return null!=$?String($):`<${W}?>`})}(be,W):"Error";return new nt($,`${this.serviceName}: ${Ue} (${$}).`,W)}}const jt=/\{\$([^}]+)}/g;function Re(K){for(const V in K)if(Object.prototype.hasOwnProperty.call(K,V))return!1;return!0}function yt(K,V){if(K===V)return!0;const G=Object.keys(K),W=Object.keys(V);for(const $ of G){if(!W.includes($))return!1;const be=K[$],Ue=V[$];if(St(be)&&St(Ue)){if(!yt(be,Ue))return!1}else if(be!==Ue)return!1}for(const $ of W)if(!G.includes($))return!1;return!0}function St(K){return null!==K&&"object"==typeof K}function En(K){const V=[];for(const[G,W]of Object.entries(K))Array.isArray(W)?W.forEach($=>{V.push(encodeURIComponent(G)+"="+encodeURIComponent($))}):V.push(encodeURIComponent(G)+"="+encodeURIComponent(W));return V.length?"&"+V.join("&"):""}function on(K){const V={};return K.replace(/^\?/,"").split("&").forEach(W=>{if(W){const[$,be]=W.split("=");V[decodeURIComponent($)]=decodeURIComponent(be)}}),V}function Qt(K){const V=K.indexOf("?");if(!V)return"";const G=K.indexOf("#",V);return K.substring(V,G>0?G:void 0)}function Zn(K,V){const G=new en(K,V);return G.subscribe.bind(G)}class en{constructor(V,G){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(()=>{V(this)}).catch(W=>{this.error(W)})}next(V){this.forEachObserver(G=>{G.next(V)})}error(V){this.forEachObserver(G=>{G.error(V)}),this.close(V)}complete(){this.forEachObserver(V=>{V.complete()}),this.close()}subscribe(V,G,W){let $;if(void 0===V&&void 0===G&&void 0===W)throw new Error("Missing Observer.");$=function br(K,V){if("object"!=typeof K||null===K)return!1;for(const G of V)if(G in K&&"function"==typeof K[G])return!0;return!1}(V,["next","error","complete"])?V:{next:V,error:G,complete:W},void 0===$.next&&($.next=gn),void 0===$.error&&($.error=gn),void 0===$.complete&&($.complete=gn);const be=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?$.error(this.finalError):$.complete()}catch{}}),this.observers.push($),be}unsubscribeOne(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(V){if(!this.finalized)for(let G=0;G<this.observers.length;G++)this.sendOne(G,V)}sendOne(V,G){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[V])try{G(this.observers[V])}catch(W){typeof console<"u"&&console.error&&console.error(W)}})}close(V){this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gn(){}function Un(K){return K&&K._delegate?K._delegate:K}},2732:($t,We,Q)=>{Q.d(We,{Q:()=>h});var w=Q(9468),ce=Q(6593);let h=(()=>{class we{constructor(fe){this.sanitizer=fe}transform(fe){let Oe;if(fe.startsWith("https://m."))Oe=new URLSearchParams(fe.split("?")[1]).get("v")||"";else{const Ee=fe.split("/");Oe=Ee[Ee.length-1]}return this.sanitizer.bypassSecurityTrustResourceUrl("https://www.youtube.com/embed/"+Oe)}static#e=this.\u0275fac=function(Oe){return new(Oe||we)(w.Y36(ce.H7,16))};static#t=this.\u0275pipe=w.Yjl({name:"safeUrl",type:we,pure:!0})}return we})()},2772:($t,We,Q)=>{Q.d(We,{r:()=>de});var w=Q(6814),ce=Q(6024),h=Q(95),we=Q(9468);let de=(()=>{class fe{static#e=this.\u0275fac=function(Ee){return new(Ee||fe)};static#t=this.\u0275mod=we.oAB({type:fe});static#n=this.\u0275inj=we.cJS({imports:[w.ez,ce.Bz,h.u5,h.UX]})}return fe})()},8850:($t,We,Q)=>{Q.d(We,{O:()=>de});var w=Q(5861),ce=Q(3477),h=Q(8645),we=Q(9468);let de=(()=>{class fe{constructor(He){this.firestore=He,this.commentAddedSubject=new h.x}getCommentsForRecipe(He){var Ee=this;return(0,w.Z)(function*(){try{const re=(0,ce.hJ)(Ee.firestore,"Comments"),le=(0,ce.IO)(re,(0,ce.ar)("recipeId","==",He)),Se=yield(0,ce.PL)(le),et=[];return Se.forEach(Pe=>{const it=Pe.data();et.push({create_time:it.create_time,name:it.name,recipeId:it.recipeId,text:it.text,uid:it.uid,id:Pe.id})}),et.sort((Pe,it)=>{const At=Pe.create_time.toDate();return it.create_time.toDate()-At}),et}catch(re){return console.error("Error retrieving comments:",re),[]}})()}getCommentsForUser(He){var Ee=this;return(0,w.Z)(function*(){try{const re=(0,ce.hJ)(Ee.firestore,"Comments"),le=(0,ce.IO)(re,(0,ce.ar)("uid","==",He)),Se=yield(0,ce.PL)(le),et=[];return Se.forEach(Pe=>{const it=Pe.data();et.push({create_time:it.create_time,name:it.name,recipeId:it.recipeId,text:it.text,uid:it.uid,id:Pe.id})}),et.sort((Pe,it)=>{const At=Pe.create_time.toDate();return it.create_time.toDate()-At}),et}catch(re){return console.error("Error retrieving comments:",re),[]}})()}addComment(He){var Ee=this;return(0,w.Z)(function*(){try{const re="Comments",le=yield(0,ce.ET)((0,ce.hJ)(Ee.firestore,re),He);return Ee.commentAddedSubject.next(),le.id}catch(re){return console.error("Error adding comment:",re),null}})()}deleteComment(He){var Ee=this;return(0,w.Z)(function*(){try{const le=(0,ce.JU)(Ee.firestore,"Comments",He);yield(0,ce.oe)(le),console.log("Comment deleted successfully:",He)}catch(re){console.error("Error deleting comment:",re)}})()}getCommentById(He){var Ee=this;return(0,w.Z)(function*(){const re=(0,ce.JU)(Ee.firestore,"Comments",He),le=yield(0,ce.QT)(re);if(le.exists()){const Se=le.data();return console.log(Se.recipeId),le.data()}return null})()}editComment(He,Ee){var re=this;return(0,w.Z)(function*(){try{const Se=(0,ce.JU)(re.firestore,"Comments",He);yield(0,ce.r7)(Se,Ee),console.log("Comment edited successfully:",He)}catch(le){console.error("Error editing comment:",le)}})()}getCommentAddedObservable(){return this.commentAddedSubject.asObservable()}static#e=this.\u0275fac=function(Ee){return new(Ee||fe)(we.LFG(ce.gg))};static#t=this.\u0275prov=we.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"})}return fe})()},7157:($t,We,Q)=>{Q.d(We,{j:()=>we});var w=Q(5861),ce=Q(3477),h=Q(9468);let we=(()=>{class de{constructor(Oe){this.firestore=Oe}getRecipeById(Oe){var He=this;return(0,w.Z)(function*(){const Ee=(0,ce.JU)(He.firestore,"Recipe",Oe),re=yield(0,ce.QT)(Ee);if(re.exists()){let le=re.data();return le.id||(le={...le,id:Oe}),le}return null})()}updateRecipeLikes(Oe,He,Ee){var re=this;return(0,w.Z)(function*(){const Se=(0,ce.JU)(re.firestore,"Recipe",Oe);try{Ee?(console.log("remove"),yield(0,ce.r7)(Se,{likes:(0,ce.Ab)(He)})):(console.log("add"),yield(0,ce.r7)(Se,{likes:(0,ce.vr)(He)})),console.log("Recipe likes updated successfully")}catch(et){console.error("Error updating recipe likes: ",et)}})()}deleteRecipe(Oe){var He=this;return(0,w.Z)(function*(){try{const re=(0,ce.JU)(He.firestore,"Recipe",Oe);yield(0,ce.oe)(re),console.log("Recipe deleted successfully:",Oe)}catch(Ee){console.error("Error deleting recipe:",Ee)}})()}static#e=this.\u0275fac=function(He){return new(He||de)(h.LFG(ce.gg))};static#t=this.\u0275prov=h.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})()},1753:($t,We,Q)=>{Q.d(We,{v:()=>He});var w=Q(5861),ce=Q(5619),h=Q(6973),we=Q(305),fe=Q(3477),Oe=Q(9468);let He=(()=>{class Ee{constructor(le){this.firestore=le,this.lastDocSubject=new ce.X(void 0),this.lastDoc$=this.lastDocSubject.asObservable()}getRecipeByUID(le){var Se=this;return(0,w.Z)(function*(){try{const et=(0,fe.hJ)(Se.firestore,"Recipe"),Pe=(0,fe.IO)(et,(0,fe.ar)("uid","==",le)),it=yield(0,fe.PL)(Pe),At=[];return it.forEach(Vt=>{const An={...Vt.data(),id:Vt.id};At.push(An)}),At}catch(et){return console.error("Error retrieving recipes:",et),[]}})()}getRecipesLoadMore(){var le=this;return(0,w.Z)(function*(){const et=yield function de(Ee,re){const le="object"==typeof re;return new Promise((Se,et)=>{const Pe=new we.Hp({next:it=>{Se(it),Pe.unsubscribe()},error:et,complete:()=>{le?Se(re.defaultValue):et(new h.K)}});Ee.subscribe(Pe)})}(le.lastDoc$);let it=(0,fe.IO)((0,fe.hJ)(le.firestore,"Recipe"),(0,fe.Xo)("title"));et&&(it=(0,fe.IO)(it,(0,fe.TQ)(et))),it=(0,fe.IO)(it,(0,fe.b9)(6));const At=yield(0,fe.PL)(it);let Vt=[];At.forEach(xt=>{const ot={...xt.data(),id:xt.id};Vt.push(ot)});const Ft=6===At.size;return le.lastDocSubject.next(At.docs[At.docs.length-1]),{data:Vt,hasMore:Ft}})()}getRecipes(){var le=this;return(0,w.Z)(function*(){let Pe=(0,fe.IO)((0,fe.hJ)(le.firestore,"Recipe"),(0,fe.Xo)("title"));Pe=(0,fe.IO)(Pe,(0,fe.b9)(6));const it=yield(0,fe.PL)(Pe);let At=[];return it.forEach(Ft=>{const xt={...Ft.data(),id:Ft.id};At.push(xt)}),le.lastDocSubject.next(it.docs[it.docs.length-1]),{data:At}})()}searchRecipesByTitle(le){var Se=this;return(0,w.Z)(function*(){let Pe=(0,fe.IO)((0,fe.hJ)(Se.firestore,"Recipe"),(0,fe.Xo)("title"));const it=yield(0,fe.PL)(Pe);let At=[];return it.forEach(Vt=>{const An={...Vt.data(),id:Vt.id};At.push(An)}),le&&(At=At.filter(Vt=>Vt.title.toLowerCase().includes(le.toLowerCase()))),{data:At}})()}static#e=this.\u0275fac=function(Se){return new(Se||Ee)(Oe.LFG(fe.gg))};static#t=this.\u0275prov=Oe.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}return Ee})()},6499:($t,We,Q)=>{Q.d(We,{K:()=>v_});var w=Q(5861),ce=Q(9058),h=Q(4303),we=Q(7879),de=Q(7582),fe=Q(4537);const it=function et(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},At=new ce.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ft=new we.Yd("@firebase/auth");function xt(A,...v){Ft.logLevel<=we.in.ERROR&&Ft.error(`Auth (${h.Jn}): ${A}`,...v)}function mt(A,...v){throw je(A,...v)}function ot(A,...v){return je(A,...v)}function je(A,...v){if("string"!=typeof A){const b=v[0],N=[...v.slice(1)];return N[0]&&(N[0].appName=A.name),A._errorFactory.create(b,...N)}return At.create(A,...v)}function ve(A,v,...b){if(!A)throw je(v,...b)}function Qe(A){const v="INTERNAL ASSERTION FAILED: "+A;throw xt(v),new Error(v)}function gt(A,v){A||Qe(v)}function Rn(){var A;return typeof self<"u"&&(null===(A=self.location)||void 0===A?void 0:A.href)||""}function un(){var A;return typeof self<"u"&&(null===(A=self.location)||void 0===A?void 0:A.protocol)||null}class er{constructor(v,b){this.shortDelay=v,this.longDelay=b,gt(b>v,"Short delay should be less than long delay!"),this.isMobile=(0,ce.uI)()||(0,ce.b$)()}get(){return function In(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function dt(){return"http:"===un()||"https:"===un()}()||(0,ce.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function dr(A,v){gt(A.emulator,"Emulator should always be set here");const{url:b}=A.emulator;return v?`${b}${v.startsWith("/")?v.slice(1):v}`:b}class ke{static initialize(v,b,N){this.fetchImpl=v,b&&(this.headersImpl=b),N&&(this.responseImpl=N)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Qe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Qe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Qe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const $e={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Je=new er(3e4,6e4);function Ve(A,v){return A.tenantId&&!v.tenantId?Object.assign(Object.assign({},v),{tenantId:A.tenantId}):v}function nt(A,v,b,N){return bt.apply(this,arguments)}function bt(){return(bt=(0,w.Z)(function*(A,v,b,N,Z={}){return Rt(A,Z,(0,w.Z)(function*(){let ae={},Ne={};N&&("GET"===v?Ne=N:ae={body:JSON.stringify(N)});const Ye=(0,ce.xO)(Object.assign({key:A.config.apiKey},Ne)).slice(1),Tt=yield A._getAdditionalHeaders();return Tt["Content-Type"]="application/json",A.languageCode&&(Tt["X-Firebase-Locale"]=A.languageCode),ke.fetch()(cn(A,A.config.apiHost,b,Ye),Object.assign({method:v,headers:Tt,referrerPolicy:"no-referrer"},ae))}))})).apply(this,arguments)}function Rt(A,v,b){return jt.apply(this,arguments)}function jt(){return(jt=(0,w.Z)(function*(A,v,b){A._canInitEmulator=!1;const N=Object.assign(Object.assign({},$e),v);try{const Z=new $n(A),ae=yield Promise.race([b(),Z.promise]);Z.clearNetworkTimeout();const Ne=yield ae.json();if("needConfirmation"in Ne)throw hr(A,"account-exists-with-different-credential",Ne);if(ae.ok&&!("errorMessage"in Ne))return Ne;{const Ye=ae.ok?Ne.errorMessage:Ne.error.message,[Tt,pn]=Ye.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Tt)throw hr(A,"credential-already-in-use",Ne);if("EMAIL_EXISTS"===Tt)throw hr(A,"email-already-in-use",Ne);if("USER_DISABLED"===Tt)throw hr(A,"user-disabled",Ne);const Tn=N[Tt]||Tt.toLowerCase().replace(/[_\s]+/g,"-");if(pn)throw function vt(A,v,b){const N=Object.assign(Object.assign({},it()),{[v]:b});return new ce.LL("auth","Firebase",N).create(v,{appName:A.name})}(A,Tn,pn);mt(A,Tn)}}catch(Z){if(Z instanceof ce.ZR)throw Z;mt(A,"network-request-failed",{message:String(Z)})}})).apply(this,arguments)}function dn(A,v,b,N){return yn.apply(this,arguments)}function yn(){return(yn=(0,w.Z)(function*(A,v,b,N,Z={}){const ae=yield nt(A,v,b,N,Z);return"mfaPendingCredential"in ae&&mt(A,"multi-factor-auth-required",{_serverResponse:ae}),ae})).apply(this,arguments)}function cn(A,v,b,N){const Z=`${v}${b}?${N}`;return A.config.emulator?dr(A.config,Z):`${A.config.apiScheme}://${Z}`}function Dt(A){switch(A){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class $n{constructor(v){this.auth=v,this.timer=null,this.promise=new Promise((b,N)=>{this.timer=setTimeout(()=>N(ot(this.auth,"network-request-failed")),Je.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function hr(A,v,b){const N={appName:A.name};b.email&&(N.email=b.email),b.phoneNumber&&(N.phoneNumber=b.phoneNumber);const Z=ot(A,v,N);return Z.customData._tokenResponse=b,Z}function De(A){return void 0!==A&&void 0!==A.enterprise}class xe{constructor(v){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===v.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=v.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=v.recaptchaEnforcementState}getProviderEnforcementState(v){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const b of this.recaptchaEnforcementState)if(b.provider&&b.provider===v)return Dt(b.enforcementState);return null}isProviderEnabled(v){return"ENFORCE"===this.getProviderEnforcementState(v)||"AUDIT"===this.getProviderEnforcementState(v)}}function yt(A,v){return St.apply(this,arguments)}function St(){return(St=(0,w.Z)(function*(A,v){return nt(A,"GET","/v2/recaptchaConfig",Ve(A,v))})).apply(this,arguments)}function En(){return(En=(0,w.Z)(function*(A,v){return nt(A,"POST","/v1/accounts:delete",v)})).apply(this,arguments)}function Zn(){return(Zn=(0,w.Z)(function*(A,v){return nt(A,"POST","/v1/accounts:lookup",v)})).apply(this,arguments)}function en(A){if(A)try{const v=new Date(Number(A));if(!isNaN(v.getTime()))return v.toUTCString()}catch{}}function gn(){return(gn=(0,w.Z)(function*(A,v=!1){const b=(0,ce.m9)(A),N=yield b.getIdToken(v),Z=Wn(N);ve(Z&&Z.exp&&Z.auth_time&&Z.iat,b.auth,"internal-error");const ae="object"==typeof Z.firebase?Z.firebase:void 0,Ne=ae?.sign_in_provider;return{claims:Z,token:N,authTime:en(rr(Z.auth_time)),issuedAtTime:en(rr(Z.iat)),expirationTime:en(rr(Z.exp)),signInProvider:Ne||null,signInSecondFactor:ae?.sign_in_second_factor||null}})).apply(this,arguments)}function rr(A){return 1e3*Number(A)}function Wn(A){const[v,b,N]=A.split(".");if(void 0===v||void 0===b||void 0===N)return xt("JWT malformed, contained fewer than 3 sections"),null;try{const Z=(0,ce.tV)(b);return Z?JSON.parse(Z):(xt("Failed to decode base64 JWT payload"),null)}catch(Z){return xt("Caught error parsing JWT payload as JSON",Z?.toString()),null}}function Gn(A,v){return hi.apply(this,arguments)}function hi(){return(hi=(0,w.Z)(function*(A,v,b=!1){if(b)return v;try{return yield v}catch(N){throw N instanceof ce.ZR&&function Nn({code:A}){return"auth/user-disabled"===A||"auth/user-token-expired"===A}(N)&&A.auth.currentUser===A&&(yield A.auth.signOut()),N}})).apply(this,arguments)}class Kn{constructor(v){this.user=v,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(v){var b;if(v){const N=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),N}{this.errorBackoff=3e4;const Z=(null!==(b=this.user.stsTokenManager.expirationTime)&&void 0!==b?b:0)-Date.now()-3e5;return Math.max(0,Z)}}schedule(v=!1){var b=this;if(!this.isRunning)return;const N=this.getInterval(v);this.timerId=setTimeout((0,w.Z)(function*(){yield b.iteration()}),N)}iteration(){var v=this;return(0,w.Z)(function*(){try{yield v.user.getIdToken(!0)}catch(b){return void("auth/network-request-failed"===b?.code&&v.schedule(!0))}v.schedule()})()}}class Or{constructor(v,b){this.createdAt=v,this.lastLoginAt=b,this._initializeTime()}_initializeTime(){this.lastSignInTime=en(this.lastLoginAt),this.creationTime=en(this.createdAt)}_copy(v){this.createdAt=v.createdAt,this.lastLoginAt=v.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function fi(A){return tt.apply(this,arguments)}function tt(){return tt=(0,w.Z)(function*(A){var v;const b=A.auth,N=yield A.getIdToken(),Z=yield Gn(A,function bn(A,v){return Zn.apply(this,arguments)}(b,{idToken:N}));ve(Z?.users.length,b,"internal-error");const ae=Z.users[0];A._notifyReloadListener(ae);const Ne=null!==(v=ae.providerUserInfo)&&void 0!==v&&v.length?function qt(A){return A.map(v=>{var{providerId:b}=v,N=(0,de._T)(v,["providerId"]);return{providerId:b,uid:N.rawId||"",displayName:N.displayName||null,email:N.email||null,phoneNumber:N.phoneNumber||null,photoURL:N.photoUrl||null}})}(ae.providerUserInfo):[],Ye=function It(A,v){return[...A.filter(N=>!v.some(Z=>Z.providerId===N.providerId)),...v]}(A.providerData,Ne),Tn=!!A.isAnonymous&&!(A.email&&ae.passwordHash||Ye?.length),Hr={uid:ae.localId,displayName:ae.displayName||null,photoURL:ae.photoUrl||null,email:ae.email||null,emailVerified:ae.emailVerified||!1,phoneNumber:ae.phoneNumber||null,tenantId:ae.tenantId||null,providerData:Ye,metadata:new Or(ae.createdAt,ae.lastLoginAt),isAnonymous:Tn};Object.assign(A,Hr)}),tt.apply(this,arguments)}function Ze(){return(Ze=(0,w.Z)(function*(A){const v=(0,ce.m9)(A);yield fi(v),yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)})).apply(this,arguments)}function Un(){return(Un=(0,w.Z)(function*(A,v){const b=yield Rt(A,{},(0,w.Z)(function*(){const N=(0,ce.xO)({grant_type:"refresh_token",refresh_token:v}).slice(1),{tokenApiHost:Z,apiKey:ae}=A.config,Ne=cn(A,Z,"/v1/token",`key=${ae}`),Ye=yield A._getAdditionalHeaders();return Ye["Content-Type"]="application/x-www-form-urlencoded",ke.fetch()(Ne,{method:"POST",headers:Ye,body:N})}));return{accessToken:b.access_token,expiresIn:b.expires_in,refreshToken:b.refresh_token}})).apply(this,arguments)}function V(){return(V=(0,w.Z)(function*(A,v){return nt(A,"POST","/v2/accounts:revokeToken",Ve(A,v))})).apply(this,arguments)}class G{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(v){ve(v.idToken,"internal-error"),ve(typeof v.idToken<"u","internal-error"),ve(typeof v.refreshToken<"u","internal-error");const b="expiresIn"in v&&typeof v.expiresIn<"u"?Number(v.expiresIn):function ir(A){const v=Wn(A);return ve(v,"internal-error"),ve(typeof v.exp<"u","internal-error"),ve(typeof v.iat<"u","internal-error"),Number(v.exp)-Number(v.iat)}(v.idToken);this.updateTokensAndExpiration(v.idToken,v.refreshToken,b)}getToken(v,b=!1){var N=this;return(0,w.Z)(function*(){return ve(!N.accessToken||N.refreshToken,v,"user-token-expired"),b||!N.accessToken||N.isExpired?N.refreshToken?(yield N.refresh(v,N.refreshToken),N.accessToken):null:N.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(v,b){var N=this;return(0,w.Z)(function*(){const{accessToken:Z,refreshToken:ae,expiresIn:Ne}=yield function Zt(A,v){return Un.apply(this,arguments)}(v,b);N.updateTokensAndExpiration(Z,ae,Number(Ne))})()}updateTokensAndExpiration(v,b,N){this.refreshToken=b||null,this.accessToken=v||null,this.expirationTime=Date.now()+1e3*N}static fromJSON(v,b){const{refreshToken:N,accessToken:Z,expirationTime:ae}=b,Ne=new G;return N&&(ve("string"==typeof N,"internal-error",{appName:v}),Ne.refreshToken=N),Z&&(ve("string"==typeof Z,"internal-error",{appName:v}),Ne.accessToken=Z),ae&&(ve("number"==typeof ae,"internal-error",{appName:v}),Ne.expirationTime=ae),Ne}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(v){this.accessToken=v.accessToken,this.refreshToken=v.refreshToken,this.expirationTime=v.expirationTime}_clone(){return Object.assign(new G,this.toJSON())}_performRefresh(){return Qe("not implemented")}}function W(A,v){ve("string"==typeof A||typeof A>"u","internal-error",{appName:v})}class ${constructor(v){var{uid:b,auth:N,stsTokenManager:Z}=v,ae=(0,de._T)(v,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Kn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=b,this.auth=N,this.stsTokenManager=Z,this.accessToken=Z.accessToken,this.displayName=ae.displayName||null,this.email=ae.email||null,this.emailVerified=ae.emailVerified||!1,this.phoneNumber=ae.phoneNumber||null,this.photoURL=ae.photoURL||null,this.isAnonymous=ae.isAnonymous||!1,this.tenantId=ae.tenantId||null,this.providerData=ae.providerData?[...ae.providerData]:[],this.metadata=new Or(ae.createdAt||void 0,ae.lastLoginAt||void 0)}getIdToken(v){var b=this;return(0,w.Z)(function*(){const N=yield Gn(b,b.stsTokenManager.getToken(b.auth,v));return ve(N,b.auth,"internal-error"),b.accessToken!==N&&(b.accessToken=N,yield b.auth._persistUserIfCurrent(b),b.auth._notifyListenersIfCurrent(b)),N})()}getIdTokenResult(v){return function br(A){return gn.apply(this,arguments)}(this,v)}reload(){return function Ce(A){return Ze.apply(this,arguments)}(this)}_assign(v){this!==v&&(ve(this.uid===v.uid,this.auth,"internal-error"),this.displayName=v.displayName,this.photoURL=v.photoURL,this.email=v.email,this.emailVerified=v.emailVerified,this.phoneNumber=v.phoneNumber,this.isAnonymous=v.isAnonymous,this.tenantId=v.tenantId,this.providerData=v.providerData.map(b=>Object.assign({},b)),this.metadata._copy(v.metadata),this.stsTokenManager._assign(v.stsTokenManager))}_clone(v){const b=new $(Object.assign(Object.assign({},this),{auth:v,stsTokenManager:this.stsTokenManager._clone()}));return b.metadata._copy(this.metadata),b}_onReload(v){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=v,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(v){this.reloadListener?this.reloadListener(v):this.reloadUserInfo=v}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(v,b=!1){var N=this;return(0,w.Z)(function*(){let Z=!1;v.idToken&&v.idToken!==N.stsTokenManager.accessToken&&(N.stsTokenManager.updateFromServerResponse(v),Z=!0),b&&(yield fi(N)),yield N.auth._persistUserIfCurrent(N),Z&&N.auth._notifyListenersIfCurrent(N)})()}delete(){var v=this;return(0,w.Z)(function*(){const b=yield v.getIdToken();return yield Gn(v,function vr(A,v){return En.apply(this,arguments)}(v.auth,{idToken:b})),v.stsTokenManager.clearRefreshToken(),v.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(v=>Object.assign({},v)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(v,b){var N,Z,ae,Ne,Ye,Tt,pn,Tn;const Hr=null!==(N=b.displayName)&&void 0!==N?N:void 0,ic=null!==(Z=b.email)&&void 0!==Z?Z:void 0,cd=null!==(ae=b.phoneNumber)&&void 0!==ae?ae:void 0,ld=null!==(Ne=b.photoURL)&&void 0!==Ne?Ne:void 0,b_=null!==(Ye=b.tenantId)&&void 0!==Ye?Ye:void 0,Cg=null!==(Tt=b._redirectEventId)&&void 0!==Tt?Tt:void 0,Tu=null!==(pn=b.createdAt)&&void 0!==pn?pn:void 0,tp=null!==(Tn=b.lastLoginAt)&&void 0!==Tn?Tn:void 0,{uid:gv,emailVerified:eb,isAnonymous:tb,providerData:mv,stsTokenManager:_v}=b;ve(gv&&_v,v,"internal-error");const Sg=G.fromJSON(this.name,_v);ve("string"==typeof gv,v,"internal-error"),W(Hr,v.name),W(ic,v.name),ve("boolean"==typeof eb,v,"internal-error"),ve("boolean"==typeof tb,v,"internal-error"),W(cd,v.name),W(ld,v.name),W(b_,v.name),W(Cg,v.name),W(Tu,v.name),W(tp,v.name);const Qd=new $({uid:gv,auth:v,email:ic,emailVerified:eb,displayName:Hr,isAnonymous:tb,photoURL:ld,phoneNumber:cd,tenantId:b_,stsTokenManager:Sg,createdAt:Tu,lastLoginAt:tp});return mv&&Array.isArray(mv)&&(Qd.providerData=mv.map(Ag=>Object.assign({},Ag))),Cg&&(Qd._redirectEventId=Cg),Qd}static _fromIdTokenResponse(v,b,N=!1){return(0,w.Z)(function*(){const Z=new G;Z.updateFromServerResponse(b);const ae=new $({uid:b.localId,auth:v,stsTokenManager:Z,isAnonymous:N});return yield fi(ae),ae})()}}const be=new Map;function Ue(A){gt(A instanceof Function,"Expected a class definition");let v=be.get(A);return v?(gt(v instanceof A,"Instance stored in cache mismatched with class"),v):(v=new A,be.set(A,v),v)}const rn=(()=>{class A{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,w.Z)(function*(){return!0})()}_set(b,N){var Z=this;return(0,w.Z)(function*(){Z.storage[b]=N})()}_get(b){var N=this;return(0,w.Z)(function*(){const Z=N.storage[b];return void 0===Z?null:Z})()}_remove(b){var N=this;return(0,w.Z)(function*(){delete N.storage[b]})()}_addListener(b,N){}_removeListener(b,N){}}return A.type="NONE",A})();function hn(A,v,b){return`firebase:${A}:${v}:${b}`}class Dn{constructor(v,b,N){this.persistence=v,this.auth=b,this.userKey=N;const{config:Z,name:ae}=this.auth;this.fullUserKey=hn(this.userKey,Z.apiKey,ae),this.fullPersistenceKey=hn("persistence",Z.apiKey,ae),this.boundEventHandler=b._onStorageEvent.bind(b),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(v){return this.persistence._set(this.fullUserKey,v.toJSON())}getCurrentUser(){var v=this;return(0,w.Z)(function*(){const b=yield v.persistence._get(v.fullUserKey);return b?$._fromJSON(v.auth,b):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(v){var b=this;return(0,w.Z)(function*(){if(b.persistence===v)return;const N=yield b.getCurrentUser();return yield b.removeCurrentUser(),b.persistence=v,N?b.setCurrentUser(N):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(v,b,N="authUser"){return(0,w.Z)(function*(){if(!b.length)return new Dn(Ue(rn),v,N);const Z=(yield Promise.all(b.map(function(){var pn=(0,w.Z)(function*(Tn){if(yield Tn._isAvailable())return Tn});return function(Tn){return pn.apply(this,arguments)}}()))).filter(pn=>pn);let ae=Z[0]||Ue(rn);const Ne=hn(N,v.config.apiKey,v.name);let Ye=null;for(const pn of b)try{const Tn=yield pn._get(Ne);if(Tn){const Hr=$._fromJSON(v,Tn);pn!==ae&&(Ye=Hr),ae=pn;break}}catch{}const Tt=Z.filter(pn=>pn._shouldAllowMigration);return ae._shouldAllowMigration&&Tt.length?(ae=Tt[0],Ye&&(yield ae._set(Ne,Ye.toJSON())),yield Promise.all(b.map(function(){var pn=(0,w.Z)(function*(Tn){if(Tn!==ae)try{yield Tn._remove(Ne)}catch{}});return function(Tn){return pn.apply(this,arguments)}}())),new Dn(ae,v,N)):new Dn(ae,v,N)})()}}function zt(A){const v=A.toLowerCase();if(v.includes("opera/")||v.includes("opr/")||v.includes("opios/"))return"Opera";if(lo(v))return"IEMobile";if(v.includes("msie")||v.includes("trident/"))return"IE";if(v.includes("edge/"))return"Edge";if(xn(v))return"Firefox";if(v.includes("silk/"))return"Silk";if(Ts(v))return"Blackberry";if(Na(v))return"Webos";if(Kr(v))return"Safari";if((v.includes("chrome/")||Yn(v))&&!v.includes("edge/"))return"Chrome";if(ca(v))return"Android";{const N=A.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===N?.length)return N[1]}return"Other"}function xn(A=(0,ce.z$)()){return/firefox\//i.test(A)}function Kr(A=(0,ce.z$)()){const v=A.toLowerCase();return v.includes("safari/")&&!v.includes("chrome/")&&!v.includes("crios/")&&!v.includes("android")}function Yn(A=(0,ce.z$)()){return/crios\//i.test(A)}function lo(A=(0,ce.z$)()){return/iemobile/i.test(A)}function ca(A=(0,ce.z$)()){return/android/i.test(A)}function Ts(A=(0,ce.z$)()){return/blackberry/i.test(A)}function Na(A=(0,ce.z$)()){return/webos/i.test(A)}function Oa(A=(0,ce.z$)()){return/iphone|ipad|ipod/i.test(A)||/macintosh/i.test(A)&&/mobile/i.test(A)}function fs(A=(0,ce.z$)()){return Oa(A)||ca(A)||Na(A)||Ts(A)||/windows phone/i.test(A)||lo(A)}function tr(A,v=[]){let b;switch(A){case"Browser":b=zt((0,ce.z$)());break;case"Worker":b=`${zt((0,ce.z$)())}-${A}`;break;default:b=A}const N=v.length?v.join(","):"FirebaseCore-web";return`${b}/JsCore/${h.Jn}/${N}`}class zs{constructor(v){this.auth=v,this.queue=[]}pushCallback(v,b){const N=ae=>new Promise((Ne,Ye)=>{try{Ne(v(ae))}catch(Tt){Ye(Tt)}});N.onAbort=b,this.queue.push(N);const Z=this.queue.length-1;return()=>{this.queue[Z]=()=>Promise.resolve()}}runMiddleware(v){var b=this;return(0,w.Z)(function*(){if(b.auth.currentUser===v)return;const N=[];try{for(const Z of b.queue)yield Z(v),Z.onAbort&&N.push(Z.onAbort)}catch(Z){N.reverse();for(const ae of N)try{ae()}catch{}throw b.auth._errorFactory.create("login-blocked",{originalMessage:Z?.message})}})()}}function No(){return(No=(0,w.Z)(function*(A,v={}){return nt(A,"GET","/v2/passwordPolicy",Ve(A,v))})).apply(this,arguments)}class Rs{constructor(v){var b,N,Z,ae;const Ne=v.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(b=Ne.minPasswordLength)&&void 0!==b?b:6,Ne.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Ne.maxPasswordLength),void 0!==Ne.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Ne.containsLowercaseCharacter),void 0!==Ne.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Ne.containsUppercaseCharacter),void 0!==Ne.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Ne.containsNumericCharacter),void 0!==Ne.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Ne.containsNonAlphanumericCharacter),this.enforcementState=v.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(Z=null===(N=v.allowedNonAlphanumericCharacters)||void 0===N?void 0:N.join(""))&&void 0!==Z?Z:"",this.forceUpgradeOnSignin=null!==(ae=v.forceUpgradeOnSignin)&&void 0!==ae&&ae,this.schemaVersion=v.schemaVersion}validatePassword(v){var b,N,Z,ae,Ne,Ye;const Tt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(v,Tt),this.validatePasswordCharacterOptions(v,Tt),Tt.isValid&&(Tt.isValid=null===(b=Tt.meetsMinPasswordLength)||void 0===b||b),Tt.isValid&&(Tt.isValid=null===(N=Tt.meetsMaxPasswordLength)||void 0===N||N),Tt.isValid&&(Tt.isValid=null===(Z=Tt.containsLowercaseLetter)||void 0===Z||Z),Tt.isValid&&(Tt.isValid=null===(ae=Tt.containsUppercaseLetter)||void 0===ae||ae),Tt.isValid&&(Tt.isValid=null===(Ne=Tt.containsNumericCharacter)||void 0===Ne||Ne),Tt.isValid&&(Tt.isValid=null===(Ye=Tt.containsNonAlphanumericCharacter)||void 0===Ye||Ye),Tt}validatePasswordLengthOptions(v,b){const N=this.customStrengthOptions.minPasswordLength,Z=this.customStrengthOptions.maxPasswordLength;N&&(b.meetsMinPasswordLength=v.length>=N),Z&&(b.meetsMaxPasswordLength=v.length<=Z)}validatePasswordCharacterOptions(v,b){let N;this.updatePasswordCharacterOptionsStatuses(b,!1,!1,!1,!1);for(let Z=0;Z<v.length;Z++)N=v.charAt(Z),this.updatePasswordCharacterOptionsStatuses(b,N>="a"&&N<="z",N>="A"&&N<="Z",N>="0"&&N<="9",this.allowedNonAlphanumericCharacters.includes(N))}updatePasswordCharacterOptionsStatuses(v,b,N,Z,ae){this.customStrengthOptions.containsLowercaseLetter&&(v.containsLowercaseLetter||(v.containsLowercaseLetter=b)),this.customStrengthOptions.containsUppercaseLetter&&(v.containsUppercaseLetter||(v.containsUppercaseLetter=N)),this.customStrengthOptions.containsNumericCharacter&&(v.containsNumericCharacter||(v.containsNumericCharacter=Z)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(v.containsNonAlphanumericCharacter||(v.containsNonAlphanumericCharacter=ae))}}class Ws{constructor(v,b,N,Z){this.app=v,this.heartbeatServiceProvider=b,this.appCheckServiceProvider=N,this.config=Z,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qs(this),this.idTokenSubscription=new qs(this),this.beforeStateQueue=new zs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=At,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=v.name,this.clientVersion=Z.sdkClientVersion}_initializeWithPersistence(v,b){var N=this;return b&&(this._popupRedirectResolver=Ue(b)),this._initializationPromise=this.queue((0,w.Z)(function*(){var Z,ae;if(!N._deleted&&(N.persistenceManager=yield Dn.create(N,v),!N._deleted)){if(null!==(Z=N._popupRedirectResolver)&&void 0!==Z&&Z._shouldInitProactively)try{yield N._popupRedirectResolver._initialize(N)}catch{}yield N.initializeCurrentUser(b),N.lastNotifiedUid=(null===(ae=N.currentUser)||void 0===ae?void 0:ae.uid)||null,!N._deleted&&(N._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var v=this;return(0,w.Z)(function*(){if(v._deleted)return;const b=yield v.assertedPersistence.getCurrentUser();if(v.currentUser||b){if(v.currentUser&&b&&v.currentUser.uid===b.uid)return v._currentUser._assign(b),void(yield v.currentUser.getIdToken());yield v._updateCurrentUser(b,!0)}})()}initializeCurrentUser(v){var b=this;return(0,w.Z)(function*(){var N;const Z=yield b.assertedPersistence.getCurrentUser();let ae=Z,Ne=!1;if(v&&b.config.authDomain){yield b.getOrInitRedirectPersistenceManager();const Ye=null===(N=b.redirectUser)||void 0===N?void 0:N._redirectEventId,Tt=ae?._redirectEventId,pn=yield b.tryRedirectSignIn(v);(!Ye||Ye===Tt)&&pn?.user&&(ae=pn.user,Ne=!0)}if(!ae)return b.directlySetCurrentUser(null);if(!ae._redirectEventId){if(Ne)try{yield b.beforeStateQueue.runMiddleware(ae)}catch(Ye){ae=Z,b._popupRedirectResolver._overrideRedirectResult(b,()=>Promise.reject(Ye))}return ae?b.reloadAndSetCurrentUserOrClear(ae):b.directlySetCurrentUser(null)}return ve(b._popupRedirectResolver,b,"argument-error"),yield b.getOrInitRedirectPersistenceManager(),b.redirectUser&&b.redirectUser._redirectEventId===ae._redirectEventId?b.directlySetCurrentUser(ae):b.reloadAndSetCurrentUserOrClear(ae)})()}tryRedirectSignIn(v){var b=this;return(0,w.Z)(function*(){let N=null;try{N=yield b._popupRedirectResolver._completeRedirectFn(b,v,!0)}catch{yield b._setRedirectUser(null)}return N})()}reloadAndSetCurrentUserOrClear(v){var b=this;return(0,w.Z)(function*(){try{yield fi(v)}catch(N){if("auth/network-request-failed"!==N?.code)return b.directlySetCurrentUser(null)}return b.directlySetCurrentUser(v)})()}useDeviceLanguage(){this.languageCode=function Vn(){if(typeof navigator>"u")return null;const A=navigator;return A.languages&&A.languages[0]||A.language||null}()}_delete(){var v=this;return(0,w.Z)(function*(){v._deleted=!0})()}updateCurrentUser(v){var b=this;return(0,w.Z)(function*(){const N=v?(0,ce.m9)(v):null;return N&&ve(N.auth.config.apiKey===b.config.apiKey,b,"invalid-user-token"),b._updateCurrentUser(N&&N._clone(b))})()}_updateCurrentUser(v,b=!1){var N=this;return(0,w.Z)(function*(){if(!N._deleted)return v&&ve(N.tenantId===v.tenantId,N,"tenant-id-mismatch"),b||(yield N.beforeStateQueue.runMiddleware(v)),N.queue((0,w.Z)(function*(){yield N.directlySetCurrentUser(v),N.notifyAuthListeners()}))})()}signOut(){var v=this;return(0,w.Z)(function*(){return yield v.beforeStateQueue.runMiddleware(null),(v.redirectPersistenceManager||v._popupRedirectResolver)&&(yield v._setRedirectUser(null)),v._updateCurrentUser(null,!0)})()}setPersistence(v){var b=this;return this.queue((0,w.Z)(function*(){yield b.assertedPersistence.setPersistence(Ue(v))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(v){var b=this;return(0,w.Z)(function*(){b._getPasswordPolicyInternal()||(yield b._updatePasswordPolicy());const N=b._getPasswordPolicyInternal();return N.schemaVersion!==b.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(b._errorFactory.create("unsupported-password-policy-schema-version",{})):N.validatePassword(v)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var v=this;return(0,w.Z)(function*(){const b=yield function ho(A){return No.apply(this,arguments)}(v),N=new Rs(b);null===v.tenantId?v._projectPasswordPolicy=N:v._tenantPasswordPolicies[v.tenantId]=N})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(v){this._errorFactory=new ce.LL("auth","Firebase",v())}onAuthStateChanged(v,b,N){return this.registerStateListener(this.authStateSubscription,v,b,N)}beforeAuthStateChanged(v,b){return this.beforeStateQueue.pushCallback(v,b)}onIdTokenChanged(v,b,N){return this.registerStateListener(this.idTokenSubscription,v,b,N)}authStateReady(){return new Promise((v,b)=>{if(this.currentUser)v();else{const N=this.onAuthStateChanged(()=>{N(),v()},b)}})}revokeAccessToken(v){var b=this;return(0,w.Z)(function*(){if(b.currentUser){const N=yield b.currentUser.getIdToken(),Z={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:v,idToken:N};null!=b.tenantId&&(Z.tenantId=b.tenantId),yield function K(A,v){return V.apply(this,arguments)}(b,Z)}})()}toJSON(){var v;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(v=this._currentUser)||void 0===v?void 0:v.toJSON()}}_setRedirectUser(v,b){var N=this;return(0,w.Z)(function*(){const Z=yield N.getOrInitRedirectPersistenceManager(b);return null===v?Z.removeCurrentUser():Z.setCurrentUser(v)})()}getOrInitRedirectPersistenceManager(v){var b=this;return(0,w.Z)(function*(){if(!b.redirectPersistenceManager){const N=v&&Ue(v)||b._popupRedirectResolver;ve(N,b,"argument-error"),b.redirectPersistenceManager=yield Dn.create(b,[Ue(N._redirectPersistence)],"redirectUser"),b.redirectUser=yield b.redirectPersistenceManager.getCurrentUser()}return b.redirectPersistenceManager})()}_redirectUserForId(v){var b=this;return(0,w.Z)(function*(){var N,Z;return b._isInitialized&&(yield b.queue((0,w.Z)(function*(){}))),(null===(N=b._currentUser)||void 0===N?void 0:N._redirectEventId)===v?b._currentUser:(null===(Z=b.redirectUser)||void 0===Z?void 0:Z._redirectEventId)===v?b.redirectUser:null})()}_persistUserIfCurrent(v){var b=this;return(0,w.Z)(function*(){if(v===b.currentUser)return b.queue((0,w.Z)(function*(){return b.directlySetCurrentUser(v)}))})()}_notifyListenersIfCurrent(v){v===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var v,b;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const N=null!==(b=null===(v=this.currentUser)||void 0===v?void 0:v.uid)&&void 0!==b?b:null;this.lastNotifiedUid!==N&&(this.lastNotifiedUid=N,this.authStateSubscription.next(this.currentUser))}registerStateListener(v,b,N,Z){if(this._deleted)return()=>{};const ae="function"==typeof b?b:b.next.bind(b);let Ne=!1;const Ye=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(Ye,this,"internal-error"),Ye.then(()=>{Ne||ae(this.currentUser)}),"function"==typeof b){const Tt=v.addObserver(b,N,Z);return()=>{Ne=!0,Tt()}}{const Tt=v.addObserver(b);return()=>{Ne=!0,Tt()}}}directlySetCurrentUser(v){var b=this;return(0,w.Z)(function*(){b.currentUser&&b.currentUser!==v&&b._currentUser._stopProactiveRefresh(),v&&b.isProactiveRefreshEnabled&&v._startProactiveRefresh(),b.currentUser=v,v?yield b.assertedPersistence.setCurrentUser(v):yield b.assertedPersistence.removeCurrentUser()})()}queue(v){return this.operations=this.operations.then(v,v),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(v){!v||this.frameworks.includes(v)||(this.frameworks.push(v),this.frameworks.sort(),this.clientVersion=tr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var v=this;return(0,w.Z)(function*(){var b;const N={"X-Client-Version":v.clientVersion};v.app.options.appId&&(N["X-Firebase-gmpid"]=v.app.options.appId);const Z=yield null===(b=v.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===b?void 0:b.getHeartbeatsHeader();Z&&(N["X-Firebase-Client"]=Z);const ae=yield v._getAppCheckToken();return ae&&(N["X-Firebase-AppCheck"]=ae),N})()}_getAppCheckToken(){var v=this;return(0,w.Z)(function*(){var b;const N=yield null===(b=v.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===b?void 0:b.getToken();return N?.error&&function An(A,...v){Ft.logLevel<=we.in.WARN&&Ft.warn(`Auth (${h.Jn}): ${A}`,...v)}(`Error while retrieving App Check token: ${N.error}`),N?.token})()}}function ai(A){return(0,ce.m9)(A)}class qs{constructor(v){this.auth=v,this.observer=null,this.addObserver=(0,ce.ne)(b=>this.observer=b)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Hi={loadJS:()=>(0,w.Z)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Es(A){return Hi.loadJS(A)}function Gi(A){return`__${A}${Math.floor(1e6*Math.random())}`}class xi{constructor(v){this.type="recaptcha-enterprise",this.auth=ai(v)}verify(v="verify",b=!1){var N=this;return(0,w.Z)(function*(){function ae(){return ae=(0,w.Z)(function*(Ye){if(!b){if(null==Ye.tenantId&&null!=Ye._agentRecaptchaConfig)return Ye._agentRecaptchaConfig.siteKey;if(null!=Ye.tenantId&&void 0!==Ye._tenantRecaptchaConfigs[Ye.tenantId])return Ye._tenantRecaptchaConfigs[Ye.tenantId].siteKey}return new Promise(function(){var Tt=(0,w.Z)(function*(pn,Tn){yt(Ye,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Hr=>{if(void 0!==Hr.recaptchaKey){const ic=new xe(Hr);return null==Ye.tenantId?Ye._agentRecaptchaConfig=ic:Ye._tenantRecaptchaConfigs[Ye.tenantId]=ic,pn(ic.siteKey)}Tn(new Error("recaptcha Enterprise site key undefined"))}).catch(Hr=>{Tn(Hr)})});return function(pn,Tn){return Tt.apply(this,arguments)}}())}),ae.apply(this,arguments)}function Ne(Ye,Tt,pn){const Tn=window.grecaptcha;De(Tn)?Tn.enterprise.ready(()=>{Tn.enterprise.execute(Ye,{action:v}).then(Hr=>{Tt(Hr)}).catch(()=>{Tt("NO_RECAPTCHA")})}):pn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Ye,Tt)=>{(function Z(Ye){return ae.apply(this,arguments)})(N.auth).then(pn=>{if(!b&&De(window.grecaptcha))Ne(pn,Ye,Tt);else{if(typeof window>"u")return void Tt(new Error("RecaptchaVerifier is only supported in browser"));let Tn=function bi(){return Hi.recaptchaEnterpriseScript}();0!==Tn.length&&(Tn+=pn),Es(Tn).then(()=>{Ne(pn,Ye,Tt)}).catch(Hr=>{Tt(Hr)})}}).catch(pn=>{Tt(pn)})})})()}}function li(A,v,b){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,w.Z)(function*(A,v,b,N=!1){const Z=new xi(A);let ae;try{ae=yield Z.verify(b)}catch{ae=yield Z.verify(b,!0)}const Ne=Object.assign({},v);return Object.assign(Ne,N?{captchaResp:ae}:{captchaResponse:ae}),Object.assign(Ne,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ne,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ne})).apply(this,arguments)}function Ci(A,v,b,N){return Zs.apply(this,arguments)}function Zs(){return Zs=(0,w.Z)(function*(A,v,b,N){var Z;if(null!==(Z=A._getRecaptchaConfig())&&void 0!==Z&&Z.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const ae=yield li(A,v,b,"getOobCode"===b);return N(A,ae)}return N(A,v).catch(function(){var ae=(0,w.Z)(function*(Ne){if("auth/missing-recaptcha-token"===Ne.code){console.log(`${b} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Ye=yield li(A,v,b,"getOobCode"===b);return N(A,Ye)}return Promise.reject(Ne)});return function(Ne){return ae.apply(this,arguments)}}())}),Zs.apply(this,arguments)}function xa(A){const v=A.indexOf(":");return v<0?"":A.substr(0,v+1)}function Yo(A){if(!A)return null;const v=Number(A);return isNaN(v)?null:v}class Qo{constructor(v,b){this.providerId=v,this.signInMethod=b}toJSON(){return Qe("not implemented")}_getIdTokenResponse(v){return Qe("not implemented")}_linkToIdToken(v,b){return Qe("not implemented")}_getReauthenticationResolver(v){return Qe("not implemented")}}function Ds(A,v){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,w.Z)(function*(A,v){return nt(A,"POST","/v1/accounts:signUp",v)})).apply(this,arguments)}function Ri(A,v){return qi.apply(this,arguments)}function qi(){return(qi=(0,w.Z)(function*(A,v){return dn(A,"POST","/v1/accounts:signInWithPassword",Ve(A,v))})).apply(this,arguments)}function Zi(){return(Zi=(0,w.Z)(function*(A,v){return nt(A,"POST","/v1/accounts:sendOobCode",Ve(A,v))})).apply(this,arguments)}function as(A,v){return fo.apply(this,arguments)}function fo(){return(fo=(0,w.Z)(function*(A,v){return function ri(A,v){return Zi.apply(this,arguments)}(A,v)})).apply(this,arguments)}function po(){return(po=(0,w.Z)(function*(A,v){return dn(A,"POST","/v1/accounts:signInWithEmailLink",Ve(A,v))})).apply(this,arguments)}function $i(){return($i=(0,w.Z)(function*(A,v){return dn(A,"POST","/v1/accounts:signInWithEmailLink",Ve(A,v))})).apply(this,arguments)}class xr extends Qo{constructor(v,b,N,Z=null){super("password",N),this._email=v,this._password=b,this._tenantId=Z}static _fromEmailAndPassword(v,b){return new xr(v,b,"password")}static _fromEmailAndCode(v,b,N=null){return new xr(v,b,"emailLink",N)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(v){const b="string"==typeof v?JSON.parse(v):v;if(b?.email&&b?.password){if("password"===b.signInMethod)return this._fromEmailAndPassword(b.email,b.password);if("emailLink"===b.signInMethod)return this._fromEmailAndCode(b.email,b.password,b.tenantId)}return null}_getIdTokenResponse(v){var b=this;return(0,w.Z)(function*(){switch(b.signInMethod){case"password":return Ci(v,{returnSecureToken:!0,email:b._email,password:b._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ri);case"emailLink":return function Pi(A,v){return po.apply(this,arguments)}(v,{email:b._email,oobCode:b._password});default:mt(v,"internal-error")}})()}_linkToIdToken(v,b){var N=this;return(0,w.Z)(function*(){switch(N.signInMethod){case"password":return Ci(v,{idToken:b,returnSecureToken:!0,email:N._email,password:N._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ds);case"emailLink":return function Jr(A,v){return $i.apply(this,arguments)}(v,{idToken:b,email:N._email,oobCode:N._password});default:mt(v,"internal-error")}})()}_getReauthenticationResolver(v){return this._getIdTokenResponse(v)}}function ui(A,v){return ks.apply(this,arguments)}function ks(){return(ks=(0,w.Z)(function*(A,v){return dn(A,"POST","/v1/accounts:signInWithIdp",Ve(A,v))})).apply(this,arguments)}class On{constructor(v){var b,N,Z,ae,Ne,Ye;const Tt=(0,ce.zd)((0,ce.pd)(v)),pn=null!==(b=Tt.apiKey)&&void 0!==b?b:null,Tn=null!==(N=Tt.oobCode)&&void 0!==N?N:null,Hr=function Vr(A){switch(A){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Z=Tt.mode)&&void 0!==Z?Z:null);ve(pn&&Tn&&Hr,"argument-error"),this.apiKey=pn,this.operation=Hr,this.code=Tn,this.continueUrl=null!==(ae=Tt.continueUrl)&&void 0!==ae?ae:null,this.languageCode=null!==(Ne=Tt.languageCode)&&void 0!==Ne?Ne:null,this.tenantId=null!==(Ye=Tt.tenantId)&&void 0!==Ye?Ye:null}static parseLink(v){const b=function Cs(A){const v=(0,ce.zd)((0,ce.pd)(A)).link,b=v?(0,ce.zd)((0,ce.pd)(v)).deep_link_id:null,N=(0,ce.zd)((0,ce.pd)(A)).deep_link_id;return(N?(0,ce.zd)((0,ce.pd)(N)).link:null)||N||b||v||A}(v);try{return new On(b)}catch{return null}}}let _o=(()=>{class A{constructor(){this.providerId=A.PROVIDER_ID}static credential(b,N){return xr._fromEmailAndPassword(b,N)}static credentialWithLink(b,N){const Z=On.parseLink(N);return ve(Z,"argument-error"),xr._fromEmailAndCode(b,Z.code,Z.tenantId)}}return A.PROVIDER_ID="password",A.EMAIL_PASSWORD_SIGN_IN_METHOD="password",A.EMAIL_LINK_SIGN_IN_METHOD="emailLink",A})();class ms{constructor(v){this.providerId=v,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(v){this.defaultLanguageCode=v}setCustomParameters(v){return this.customParameters=v,this}getCustomParameters(){return this.customParameters}}class gi extends ms{constructor(){super(...arguments),this.scopes=[]}addScope(v){return this.scopes.includes(v)||this.scopes.push(v),this}getScopes(){return[...this.scopes]}}function vs(A,v){return mi.apply(this,arguments)}function mi(){return(mi=(0,w.Z)(function*(A,v){return dn(A,"POST","/v1/accounts:signUp",Ve(A,v))})).apply(this,arguments)}class Ki{constructor(v){this.user=v.user,this.providerId=v.providerId,this._tokenResponse=v._tokenResponse,this.operationType=v.operationType}static _fromIdTokenResponse(v,b,N,Z=!1){return(0,w.Z)(function*(){const ae=yield $._fromIdTokenResponse(v,N,Z),Ne=pc(N);return new Ki({user:ae,providerId:Ne,_tokenResponse:N,operationType:b})})()}static _forOperation(v,b,N){return(0,w.Z)(function*(){yield v._updateTokensIfNecessary(N,!0);const Z=pc(N);return new Ki({user:v,providerId:Z,_tokenResponse:N,operationType:b})})()}}function pc(A){return A.providerId?A.providerId:"phoneNumber"in A?"phone":null}class Ya extends ce.ZR{constructor(v,b,N,Z){var ae;super(b.code,b.message),this.operationType=N,this.user=Z,Object.setPrototypeOf(this,Ya.prototype),this.customData={appName:v.name,tenantId:null!==(ae=v.tenantId)&&void 0!==ae?ae:void 0,_serverResponse:b.customData._serverResponse,operationType:N}}static _fromErrorAndOperation(v,b,N,Z){return new Ya(v,b,N,Z)}}function Xr(A,v,b,N){return("reauthenticate"===v?b._getReauthenticationResolver(A):b._getIdTokenResponse(A)).catch(ae=>{throw"auth/multi-factor-auth-required"===ae.code?Ya._fromErrorAndOperation(A,ae,v,N):ae})}function B(){return(B=(0,w.Z)(function*(A,v,b=!1){const N=yield Gn(A,v._linkToIdToken(A.auth,yield A.getIdToken()),b);return Ki._forOperation(A,"link",N)})).apply(this,arguments)}function Pn(){return(Pn=(0,w.Z)(function*(A,v,b=!1){const{auth:N}=A,Z="reauthenticate";try{const ae=yield Gn(A,Xr(N,Z,v,A),b);ve(ae.idToken,N,"internal-error");const Ne=Wn(ae.idToken);ve(Ne,N,"internal-error");const{sub:Ye}=Ne;return ve(A.uid===Ye,N,"user-mismatch"),Ki._forOperation(A,Z,ae)}catch(ae){throw"auth/user-not-found"===ae?.code&&mt(N,"user-mismatch"),ae}})).apply(this,arguments)}function Yi(A,v){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,w.Z)(function*(A,v,b=!1){const N="signIn",Z=yield Xr(A,N,v),ae=yield Ki._fromIdTokenResponse(A,N,Z);return b||(yield A._updateCurrentUser(ae.user)),ae})).apply(this,arguments)}function Qi(A,v){return ki.apply(this,arguments)}function ki(){return(ki=(0,w.Z)(function*(A,v){return Yi(ai(A),v)})).apply(this,arguments)}function Bs(A){return ur.apply(this,arguments)}function ur(){return(ur=(0,w.Z)(function*(A){const v=ai(A);v._getPasswordPolicyInternal()&&(yield v._updatePasswordPolicy())})).apply(this,arguments)}function ta(){return(ta=(0,w.Z)(function*(A,v,b){const N=ai(A),Z={requestType:"PASSWORD_RESET",email:v,clientType:"CLIENT_TYPE_WEB"};b&&function wi(A,v,b){var N;ve((null===(N=b.url)||void 0===N?void 0:N.length)>0,A,"invalid-continue-uri"),ve(typeof b.dynamicLinkDomain>"u"||b.dynamicLinkDomain.length>0,A,"invalid-dynamic-link-domain"),v.continueUrl=b.url,v.dynamicLinkDomain=b.dynamicLinkDomain,v.canHandleCodeInApp=b.handleCodeInApp,b.iOS&&(ve(b.iOS.bundleId.length>0,A,"missing-ios-bundle-id"),v.iOSBundleId=b.iOS.bundleId),b.android&&(ve(b.android.packageName.length>0,A,"missing-android-pkg-name"),v.androidInstallApp=b.android.installApp,v.androidMinimumVersionCode=b.android.minimumVersion,v.androidPackageName=b.android.packageName)}(N,Z,b),yield Ci(N,Z,"getOobCode",as)})).apply(this,arguments)}function _c(){return(_c=(0,w.Z)(function*(A,v,b){const N=ai(A),Ne=yield Ci(N,{returnSecureToken:!0,email:v,password:b,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",vs).catch(Tt=>{throw"auth/password-does-not-meet-requirements"===Tt.code&&Bs(A),Tt}),Ye=yield Ki._fromIdTokenResponse(N,"signIn",Ne);return yield N._updateCurrentUser(Ye.user),Ye})).apply(this,arguments)}const mn="__sak";class Os{constructor(v,b){this.storageRetriever=v,this.type=b}_isAvailable(){try{return this.storage?(this.storage.setItem(mn,"1"),this.storage.removeItem(mn),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(v,b){return this.storage.setItem(v,JSON.stringify(b)),Promise.resolve()}_get(v){const b=this.storage.getItem(v);return Promise.resolve(b?JSON.parse(b):null)}_remove(v){return this.storage.removeItem(v),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ml=(()=>{class A extends Os{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(b,N)=>this.onStorageEvent(b,N),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function mg(){const A=(0,ce.z$)();return Kr(A)||Oa(A)}()&&function ps(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=fs(),this._shouldAllowMigration=!0}forAllChangedKeys(b){for(const N of Object.keys(this.listeners)){const Z=this.storage.getItem(N),ae=this.localCache[N];Z!==ae&&b(N,ae,Z)}}onStorageEvent(b,N=!1){if(!b.key)return void this.forAllChangedKeys((Ye,Tt,pn)=>{this.notifyListeners(Ye,pn)});const Z=b.key;if(N?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ye=this.storage.getItem(Z);if(b.newValue!==Ye)null!==b.newValue?this.storage.setItem(Z,b.newValue):this.storage.removeItem(Z);else if(this.localCache[Z]===b.newValue&&!N)return}const ae=()=>{const Ye=this.storage.getItem(Z);!N&&this.localCache[Z]===Ye||this.notifyListeners(Z,Ye)},Ne=this.storage.getItem(Z);!function uo(){return(0,ce.w1)()&&10===document.documentMode}()||Ne===b.newValue||b.newValue===b.oldValue?ae():setTimeout(ae,10)}notifyListeners(b,N){this.localCache[b]=N;const Z=this.listeners[b];if(Z)for(const ae of Array.from(Z))ae(N&&JSON.parse(N))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((b,N,Z)=>{this.onStorageEvent(new StorageEvent("storage",{key:b,oldValue:N,newValue:Z}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(b,N){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[b]||(this.listeners[b]=new Set,this.localCache[b]=this.storage.getItem(b)),this.listeners[b].add(N)}_removeListener(b,N){this.listeners[b]&&(this.listeners[b].delete(N),0===this.listeners[b].size&&delete this.listeners[b]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(b,N){var Z=()=>super._set,ae=this;return(0,w.Z)(function*(){yield Z().call(ae,b,N),ae.localCache[b]=JSON.stringify(N)})()}_get(b){var N=()=>super._get,Z=this;return(0,w.Z)(function*(){const ae=yield N().call(Z,b);return Z.localCache[b]=JSON.stringify(ae),ae})()}_remove(b){var N=()=>super._remove,Z=this;return(0,w.Z)(function*(){yield N().call(Z,b),delete Z.localCache[b]})()}}return A.type="LOCAL",A})(),$c=(()=>{class A extends Os{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(b,N){}_removeListener(b,N){}}return A.type="SESSION",A})();let Xu=(()=>{class A{constructor(b){this.eventTarget=b,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(b){const N=this.receivers.find(ae=>ae.isListeningto(b));if(N)return N;const Z=new A(b);return this.receivers.push(Z),Z}isListeningto(b){return this.eventTarget===b}handleEvent(b){var N=this;return(0,w.Z)(function*(){const Z=b,{eventId:ae,eventType:Ne,data:Ye}=Z.data,Tt=N.handlersMap[Ne];if(!Tt?.size)return;Z.ports[0].postMessage({status:"ack",eventId:ae,eventType:Ne});const pn=Array.from(Tt).map(function(){var Hr=(0,w.Z)(function*(ic){return ic(Z.origin,Ye)});return function(ic){return Hr.apply(this,arguments)}}()),Tn=yield function kd(A){return Promise.all(A.map(function(){var v=(0,w.Z)(function*(b){try{return{fulfilled:!0,value:yield b}}catch(N){return{fulfilled:!1,reason:N}}});return function(b){return v.apply(this,arguments)}}()))}(pn);Z.ports[0].postMessage({status:"done",eventId:ae,eventType:Ne,response:Tn})})()}_subscribe(b,N){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[b]||(this.handlersMap[b]=new Set),this.handlersMap[b].add(N)}_unsubscribe(b,N){this.handlersMap[b]&&N&&this.handlersMap[b].delete(N),(!N||0===this.handlersMap[b].size)&&delete this.handlersMap[b],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return A.receivers=[],A})();function su(A="",v=10){let b="";for(let N=0;N<v;N++)b+=Math.floor(10*Math.random());return A+b}class ou{constructor(v){this.target=v,this.handlers=new Set}removeMessageHandler(v){v.messageChannel&&(v.messageChannel.port1.removeEventListener("message",v.onMessage),v.messageChannel.port1.close()),this.handlers.delete(v)}_send(v,b,N=50){var Z=this;return(0,w.Z)(function*(){const ae=typeof MessageChannel<"u"?new MessageChannel:null;if(!ae)throw new Error("connection_unavailable");let Ne,Ye;return new Promise((Tt,pn)=>{const Tn=su("",20);ae.port1.start();const Hr=setTimeout(()=>{pn(new Error("unsupported_event"))},N);Ye={messageChannel:ae,onMessage(ic){const cd=ic;if(cd.data.eventId===Tn)switch(cd.data.status){case"ack":clearTimeout(Hr),Ne=setTimeout(()=>{pn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ne),Tt(cd.data.response);break;default:clearTimeout(Hr),clearTimeout(Ne),pn(new Error("invalid_response"))}}},Z.handlers.add(Ye),ae.port1.addEventListener("message",Ye.onMessage),Z.target.postMessage({eventType:v,eventId:Tn,data:b},[ae.port2])}).finally(()=>{Ye&&Z.removeMessageHandler(Ye)})})()}}function ht(){return window}function au(){return typeof ht().WorkerGlobalScope<"u"&&"function"==typeof ht().importScripts}function bs(){return(bs=(0,w.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const bo="firebaseLocalStorageDb",tc="firebaseLocalStorage",lu="fbase_key";class zc{constructor(v){this.request=v}toPromise(){return new Promise((v,b)=>{this.request.addEventListener("success",()=>{v(this.request.result)}),this.request.addEventListener("error",()=>{b(this.request.error)})})}}function Ba(A,v){return A.transaction([tc],v?"readwrite":"readonly").objectStore(tc)}function Po(){const A=indexedDB.open(bo,1);return new Promise((v,b)=>{A.addEventListener("error",()=>{b(A.error)}),A.addEventListener("upgradeneeded",()=>{const N=A.result;try{N.createObjectStore(tc,{keyPath:lu})}catch(Z){b(Z)}}),A.addEventListener("success",(0,w.Z)(function*(){const N=A.result;N.objectStoreNames.contains(tc)?v(N):(N.close(),yield function Hs(){const A=indexedDB.deleteDatabase(bo);return new zc(A).toPromise()}(),v(yield Po()))}))})}function fl(A,v,b){return Va.apply(this,arguments)}function Va(){return(Va=(0,w.Z)(function*(A,v,b){const N=Ba(A,!0).put({[lu]:v,value:b});return new zc(N).toPromise()})).apply(this,arguments)}function ed(){return(ed=(0,w.Z)(function*(A,v){const b=Ba(A,!1).get(v),N=yield new zc(b).toPromise();return void 0===N?null:N.value})).apply(this,arguments)}function xl(A,v){const b=Ba(A,!0).delete(v);return new zc(b).toPromise()}const x=(()=>{class A{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var b=this;return(0,w.Z)(function*(){return b.db||(b.db=yield Po()),b.db})()}_withRetries(b){var N=this;return(0,w.Z)(function*(){let Z=0;for(;;)try{const ae=yield N._openDb();return yield b(ae)}catch(ae){if(Z++>3)throw ae;N.db&&(N.db.close(),N.db=void 0)}})()}initializeServiceWorkerMessaging(){var b=this;return(0,w.Z)(function*(){return au()?b.initializeReceiver():b.initializeSender()})()}initializeReceiver(){var b=this;return(0,w.Z)(function*(){b.receiver=Xu._getInstance(function hl(){return au()?self:null}()),b.receiver._subscribe("keyChanged",function(){var N=(0,w.Z)(function*(Z,ae){return{keyProcessed:(yield b._poll()).includes(ae.key)}});return function(Z,ae){return N.apply(this,arguments)}}()),b.receiver._subscribe("ping",function(){var N=(0,w.Z)(function*(Z,ae){return["keyChanged"]});return function(Z,ae){return N.apply(this,arguments)}}())})()}initializeSender(){var b=this;return(0,w.Z)(function*(){var N,Z;if(b.activeServiceWorker=yield function Fd(){return bs.apply(this,arguments)}(),!b.activeServiceWorker)return;b.sender=new ou(b.activeServiceWorker);const ae=yield b.sender._send("ping",{},800);ae&&null!==(N=ae[0])&&void 0!==N&&N.fulfilled&&null!==(Z=ae[0])&&void 0!==Z&&Z.value.includes("keyChanged")&&(b.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(b){var N=this;return(0,w.Z)(function*(){if(N.sender&&N.activeServiceWorker&&function dl(){var A;return(null===(A=navigator?.serviceWorker)||void 0===A?void 0:A.controller)||null}()===N.activeServiceWorker)try{yield N.sender._send("keyChanged",{key:b},N.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,w.Z)(function*(){try{if(!indexedDB)return!1;const b=yield Po();return yield fl(b,mn,"1"),yield xl(b,mn),!0}catch{}return!1})()}_withPendingWrite(b){var N=this;return(0,w.Z)(function*(){N.pendingWrites++;try{yield b()}finally{N.pendingWrites--}})()}_set(b,N){var Z=this;return(0,w.Z)(function*(){return Z._withPendingWrite((0,w.Z)(function*(){return yield Z._withRetries(ae=>fl(ae,b,N)),Z.localCache[b]=N,Z.notifyServiceWorker(b)}))})()}_get(b){var N=this;return(0,w.Z)(function*(){const Z=yield N._withRetries(ae=>function Ua(A,v){return ed.apply(this,arguments)}(ae,b));return N.localCache[b]=Z,Z})()}_remove(b){var N=this;return(0,w.Z)(function*(){return N._withPendingWrite((0,w.Z)(function*(){return yield N._withRetries(Z=>xl(Z,b)),delete N.localCache[b],N.notifyServiceWorker(b)}))})()}_poll(){var b=this;return(0,w.Z)(function*(){const N=yield b._withRetries(Ne=>{const Ye=Ba(Ne,!1).getAll();return new zc(Ye).toPromise()});if(!N)return[];if(0!==b.pendingWrites)return[];const Z=[],ae=new Set;if(0!==N.length)for(const{fbase_key:Ne,value:Ye}of N)ae.add(Ne),JSON.stringify(b.localCache[Ne])!==JSON.stringify(Ye)&&(b.notifyListeners(Ne,Ye),Z.push(Ne));for(const Ne of Object.keys(b.localCache))b.localCache[Ne]&&!ae.has(Ne)&&(b.notifyListeners(Ne,null),Z.push(Ne));return Z})()}notifyListeners(b,N){this.localCache[b]=N;const Z=this.listeners[b];if(Z)for(const ae of Array.from(Z))ae(N)}startPolling(){var b=this;this.stopPolling(),this.pollTimer=setInterval((0,w.Z)(function*(){return b._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(b,N){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[b]||(this.listeners[b]=new Set,this._get(b)),this.listeners[b].add(N)}_removeListener(b,N){this.listeners[b]&&(this.listeners[b].delete(N),0===this.listeners[b].size&&delete this.listeners[b]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return A.type="LOCAL",A})();Gi("rcb"),new er(3e4,6e4);class gl extends Qo{constructor(v){super("custom","custom"),this.params=v}_getIdTokenResponse(v){return ui(v,this._buildIdpRequest())}_linkToIdToken(v,b){return ui(v,this._buildIdpRequest(b))}_getReauthenticationResolver(v){return ui(v,this._buildIdpRequest())}_buildIdpRequest(v){const b={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return v&&(b.idToken=v),b}}function nd(A){return Yi(A.auth,new gl(A),A.bypassAuthState)}function Nh(A){const{auth:v,user:b}=A;return ve(b,v,"internal-error"),function Kt(A,v){return Pn.apply(this,arguments)}(b,new gl(A),A.bypassAuthState)}function Oh(A){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,w.Z)(function*(A){const{auth:v,user:b}=A;return ve(b,v,"internal-error"),function ee(A,v){return B.apply(this,arguments)}(b,new gl(A),A.bypassAuthState)})).apply(this,arguments)}class _g{constructor(v,b,N,Z,ae=!1){this.auth=v,this.resolver=N,this.user=Z,this.bypassAuthState=ae,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(b)?b:[b]}execute(){var v=this;return new Promise(function(){var b=(0,w.Z)(function*(N,Z){v.pendingPromise={resolve:N,reject:Z};try{v.eventManager=yield v.resolver._initialize(v.auth),yield v.onExecution(),v.eventManager.registerConsumer(v)}catch(ae){v.reject(ae)}});return function(N,Z){return b.apply(this,arguments)}}())}onAuthEvent(v){var b=this;return(0,w.Z)(function*(){const{urlResponse:N,sessionId:Z,postBody:ae,tenantId:Ne,error:Ye,type:Tt}=v;if(Ye)return void b.reject(Ye);const pn={auth:b.auth,requestUri:N,sessionId:Z,tenantId:Ne||void 0,postBody:ae||void 0,user:b.user,bypassAuthState:b.bypassAuthState};try{b.resolve(yield b.getIdpTask(Tt)(pn))}catch(Tn){b.reject(Tn)}})()}onError(v){this.reject(v)}getIdpTask(v){switch(v){case"signInViaPopup":case"signInViaRedirect":return nd;case"linkViaPopup":case"linkViaRedirect":return Oh;case"reauthViaPopup":case"reauthViaRedirect":return Nh;default:mt(this.auth,"internal-error")}}resolve(v){gt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(v),this.unregisterAndCleanUp()}reject(v){gt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(v),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new er(2e3,1e4);const fu="pendingRedirect",qc=new Map;class yg extends _g{constructor(v,b,N=!1){super(v,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],b,void 0,N),this.eventId=null}execute(){var v=()=>super.execute,b=this;return(0,w.Z)(function*(){let N=qc.get(b.auth._key());if(!N){try{const ae=(yield function pu(A,v){return rd.apply(this,arguments)}(b.resolver,b.auth))?yield v().call(b):null;N=()=>Promise.resolve(ae)}catch(Z){N=()=>Promise.reject(Z)}qc.set(b.auth._key(),N)}return b.bypassAuthState||qc.set(b.auth._key(),()=>Promise.resolve(null)),N()})()}onAuthEvent(v){var b=()=>super.onAuthEvent,N=this;return(0,w.Z)(function*(){if("signInViaRedirect"===v.type)return b().call(N,v);if("unknown"!==v.type){if(v.eventId){const Z=yield N.auth._redirectUserForId(v.eventId);if(Z)return N.user=Z,b().call(N,v);N.resolve(null)}}else N.resolve(null)})()}onExecution(){return(0,w.Z)(function*(){})()}cleanUp(){}}function rd(){return(rd=(0,w.Z)(function*(A,v){const b=function mu(A){return hn(fu,A.config.apiKey,A.name)}(v),N=function Zc(A){return Ue(A._redirectPersistence)}(A);if(!(yield N._isAvailable()))return!1;const Z="true"===(yield N._get(b));return yield N._remove(b),Z})).apply(this,arguments)}function ml(A,v){qc.set(A._key(),v)}function bc(A,v){return yu.apply(this,arguments)}function yu(){return(yu=(0,w.Z)(function*(A,v,b=!1){const N=ai(A),Z=function nc(A,v){return v?Ue(v):(ve(A._popupRedirectResolver,A,"argument-error"),A._popupRedirectResolver)}(N,v),Ne=yield new yg(N,Z,b).execute();return Ne&&!b&&(delete Ne.user._redirectEventId,yield N._persistUserIfCurrent(Ne.user),yield N._setRedirectUser(null,v)),Ne})).apply(this,arguments)}class Kf{constructor(v){this.auth=v,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(v){this.consumers.add(v),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,v)&&(this.sendToConsumer(this.queuedRedirectEvent,v),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(v){this.consumers.delete(v)}onEvent(v){if(this.hasEventBeenHandled(v))return!1;let b=!1;return this.consumers.forEach(N=>{this.isEventForConsumer(v,N)&&(b=!0,this.sendToConsumer(v,N),this.saveEventToCache(v))}),this.hasHandledPotentialRedirect||!function bg(A){switch(A.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sd(A);default:return!1}}(v)||(this.hasHandledPotentialRedirect=!0,b||(this.queuedRedirectEvent=v,b=!0)),b}sendToConsumer(v,b){var N;if(v.error&&!sd(v)){const Z=(null===(N=v.error.code)||void 0===N?void 0:N.split("auth/")[1])||"internal-error";b.onError(ot(this.auth,Z))}else b.onAuthEvent(v)}isEventForConsumer(v,b){const N=null===b.eventId||!!v.eventId&&v.eventId===b.eventId;return b.filter.includes(v.type)&&N}hasEventBeenHandled(v){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(zd(v))}saveEventToCache(v){this.cachedEventUids.add(zd(v)),this.lastProcessedEventTime=Date.now()}}function zd(A){return[A.type,A.eventId,A.sessionId,A.tenantId].filter(v=>v).join("-")}function sd({type:A,error:v}){return"unknown"===A&&"auth/no-auth-event"===v?.code}function L(){return(L=(0,w.Z)(function*(A,v={}){return nt(A,"GET","/v1/projects",v)})).apply(this,arguments)}const Y=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,he=/^https?/;function Fe(){return Fe=(0,w.Z)(function*(A){if(A.config.emulator)return;const{authorizedDomains:v}=yield function M(A){return L.apply(this,arguments)}(A);for(const b of v)try{if(st(b))return}catch{}mt(A,"unauthorized-domain")}),Fe.apply(this,arguments)}function st(A){const v=Rn(),{protocol:b,hostname:N}=new URL(v);if(A.startsWith("chrome-extension://")){const Ne=new URL(A);return""===Ne.hostname&&""===N?"chrome-extension:"===b&&A.replace("chrome-extension://","")===v.replace("chrome-extension://",""):"chrome-extension:"===b&&Ne.hostname===N}if(!he.test(b))return!1;if(Y.test(A))return N===A;const Z=A.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Z+"|"+Z+")$","i").test(N)}const Ht=new er(3e4,6e4);function Gt(){const A=ht().___jsl;if(A?.H)for(const v of Object.keys(A.H))if(A.H[v].r=A.H[v].r||[],A.H[v].L=A.H[v].L||[],A.H[v].r=[...A.H[v].L],A.CP)for(let b=0;b<A.CP.length;b++)A.CP[b]=null}let zn=null;const rc=new er(5e3,15e3),to="__/auth/iframe",Wd="emulator/auth/iframe",xh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ha=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ga(A){const v=A.config;ve(v.authDomain,A,"auth-domain-config-required");const b=v.emulator?dr(v,Wd):`https://${A.config.authDomain}/${to}`,N={apiKey:v.apiKey,appName:A.name,v:h.Jn},Z=Ha.get(A.config.apiHost);Z&&(N.eid=Z);const ae=A._getFrameworks();return ae.length&&(N.fw=ae.join(",")),`${b}?${(0,ce.xO)(N).slice(1)}`}function ts(){return ts=(0,w.Z)(function*(A){const v=yield function Jn(A){return zn=zn||function _n(A){return new Promise((v,b)=>{var N,Z,ae;function Ne(){Gt(),gapi.load("gapi.iframes",{callback:()=>{v(gapi.iframes.getContext())},ontimeout:()=>{Gt(),b(ot(A,"network-request-failed"))},timeout:Ht.get()})}if(null!==(Z=null===(N=ht().gapi)||void 0===N?void 0:N.iframes)&&void 0!==Z&&Z.Iframe)v(gapi.iframes.getContext());else{if(null===(ae=ht().gapi)||void 0===ae||!ae.load){const Ye=Gi("iframefcb");return ht()[Ye]=()=>{gapi.load?Ne():b(ot(A,"network-request-failed"))},Es(`${function Ma(){return Hi.gapiScript}()}?onload=${Ye}`).catch(Tt=>b(Tt))}Ne()}}).catch(v=>{throw zn=null,v})}(A),zn}(A),b=ht().gapi;return ve(b,A,"internal-error"),v.open({where:document.body,url:Ga(A),messageHandlersFilter:b.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xh,dontclear:!0},N=>new Promise(function(){var Z=(0,w.Z)(function*(ae,Ne){yield N.restyle({setHideOnLeave:!1});const Ye=ot(A,"network-request-failed"),Tt=ht().setTimeout(()=>{Ne(Ye)},rc.get());function pn(){ht().clearTimeout(Tt),ae(N)}N.ping(pn).then(pn,()=>{Ne(Ye)})});return function(ae,Ne){return Z.apply(this,arguments)}}()))}),ts.apply(this,arguments)}const p_={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Rh{constructor(v){this.window=v,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const wg="__/auth/handler",wu="emulator/auth/handler",Io=encodeURIComponent("fac");function ba(A,v,b,N,Z,ae){return ws.apply(this,arguments)}function ws(){return(ws=(0,w.Z)(function*(A,v,b,N,Z,ae){ve(A.config.authDomain,A,"auth-domain-config-required"),ve(A.config.apiKey,A,"invalid-api-key");const Ne={apiKey:A.config.apiKey,appName:A.name,authType:b,redirectUrl:N,v:h.Jn,eventId:Z};if(v instanceof ms){v.setDefaultLanguage(A.languageCode),Ne.providerId=v.providerId||"",(0,ce.xb)(v.getCustomParameters())||(Ne.customParameters=JSON.stringify(v.getCustomParameters()));for(const[Tn,Hr]of Object.entries(ae||{}))Ne[Tn]=Hr}if(v instanceof gi){const Tn=v.getScopes().filter(Hr=>""!==Hr);Tn.length>0&&(Ne.scopes=Tn.join(","))}A.tenantId&&(Ne.tid=A.tenantId);const Ye=Ne;for(const Tn of Object.keys(Ye))void 0===Ye[Tn]&&delete Ye[Tn];const Tt=yield A._getAppCheckToken(),pn=Tt?`#${Io}=${encodeURIComponent(Tt)}`:"";return`${function Ph({config:A}){return A.emulator?dr(A,wu):`https://${A.authDomain}/${wg}`}(A)}?${(0,ce.xO)(Ye).slice(1)}${pn}`})).apply(this,arguments)}const yl="webStorageSupport",Ig=class hv{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$c,this._completeRedirectFn=bc,this._overrideRedirectResult=ml}_openPopup(v,b,N,Z){var ae=this;return(0,w.Z)(function*(){var Ne;gt(null===(Ne=ae.eventManagers[v._key()])||void 0===Ne?void 0:Ne.manager,"_initialize() not called before _openPopup()");const Ye=yield ba(v,b,N,Rn(),Z);return function no(A,v,b,N=500,Z=600){const ae=Math.max((window.screen.availHeight-Z)/2,0).toString(),Ne=Math.max((window.screen.availWidth-N)/2,0).toString();let Ye="";const Tt=Object.assign(Object.assign({},p_),{width:N.toString(),height:Z.toString(),top:ae,left:Ne}),pn=(0,ce.z$)().toLowerCase();b&&(Ye=Yn(pn)?"_blank":b),xn(pn)&&(v=v||"http://localhost",Tt.scrollbars="yes");const Tn=Object.entries(Tt).reduce((ic,[cd,ld])=>`${ic}${cd}=${ld},`,"");if(function Yr(A=(0,ce.z$)()){var v;return Oa(A)&&!(null===(v=window.navigator)||void 0===v||!v.standalone)}(pn)&&"_self"!==Ye)return function bu(A,v){const b=document.createElement("a");b.href=A,b.target=v;const N=document.createEvent("MouseEvent");N.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),b.dispatchEvent(N)}(v||"",Ye),new Rh(null);const Hr=window.open(v||"",Ye,Tn);ve(Hr,A,"popup-blocked");try{Hr.focus()}catch{}return new Rh(Hr)}(v,Ye,su())})()}_openRedirect(v,b,N,Z){var ae=this;return(0,w.Z)(function*(){return yield ae._originValidation(v),function gr(A){ht().location.href=A}(yield ba(v,b,N,Rn(),Z)),new Promise(()=>{})})()}_initialize(v){const b=v._key();if(this.eventManagers[b]){const{manager:Z,promise:ae}=this.eventManagers[b];return Z?Promise.resolve(Z):(gt(ae,"If manager is not set, promise should be"),ae)}const N=this.initAndGetManager(v);return this.eventManagers[b]={promise:N},N.catch(()=>{delete this.eventManagers[b]}),N}initAndGetManager(v){var b=this;return(0,w.Z)(function*(){const N=yield function wc(A){return ts.apply(this,arguments)}(v),Z=new Kf(v);return N.register("authEvent",ae=>(ve(ae?.authEvent,v,"invalid-auth-event"),{status:Z.onEvent(ae.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),b.eventManagers[v._key()]={manager:Z},b.iframes[v._key()]=N,Z})()}_isIframeWebStorageSupported(v,b){this.iframes[v._key()].send(yl,{type:yl},Z=>{var ae;const Ne=null===(ae=Z?.[0])||void 0===ae?void 0:ae[yl];void 0!==Ne&&b(!!Ne),mt(v,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(v){const b=v._key();return this.originValidationPromises[b]||(this.originValidationPromises[b]=function Ae(A){return Fe.apply(this,arguments)}(v)),this.originValidationPromises[b]}get _shouldInitProactively(){return fs()||Kr()||Oa()}};var Kd="@firebase/auth";class Lo{constructor(v){this.auth=v,this.internalListeners=new Map}getUid(){var v;return this.assertAuthConfigured(),(null===(v=this.auth.currentUser)||void 0===v?void 0:v.uid)||null}getToken(v){var b=this;return(0,w.Z)(function*(){return b.assertAuthConfigured(),yield b.auth._initializationPromise,b.auth.currentUser?{accessToken:yield b.auth.currentUser.getIdToken(v)}:null})()}addAuthTokenListener(v){if(this.assertAuthConfigured(),this.internalListeners.has(v))return;const b=this.auth.onIdTokenChanged(N=>{v(N?.stsTokenManager.accessToken||null)});this.internalListeners.set(v,b),this.updateProactiveRefresh()}removeAuthTokenListener(v){this.assertAuthConfigured();const b=this.internalListeners.get(v);b&&(this.internalListeners.delete(v),b(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Fh=(0,ce.Pz)("authIdTokenMaxAge")||300;let Lh=null;const Xf=A=>function(){var v=(0,w.Z)(function*(b){const N=b&&(yield b.getIdTokenResult()),Z=N&&((new Date).getTime()-Date.parse(N.issuedAtTime))/1e3;if(Z&&Z>Fh)return;const ae=N?.token;Lh!==ae&&(Lh=ae,yield fetch(A,{method:ae?"POST":"DELETE",headers:ae?{Authorization:`Bearer ${ae}`}:{}}))});return function(b){return v.apply(this,arguments)}}();function ad(A=(0,h.Mq)()){const v=(0,h.qX)(A,"auth");if(v.isInitialized())return v.getImmediate();const b=function ol(A,v){const b=(0,h.qX)(A,"auth");if(b.isInitialized()){const Z=b.getImmediate(),ae=b.getOptions();if((0,ce.vZ)(ae,v??{}))return Z;mt(Z,"already-initialized")}return b.initialize({options:v})}(A,{popupRedirectResolver:Ig,persistence:[x,Ml,$c]}),N=(0,ce.Pz)("authTokenSyncURL");if(N&&N.match(/^\/[^\/].*/)){const ae=Xf(N);(function ll(A,v,b){(0,ce.m9)(A).beforeAuthStateChanged(v,b)})(b,ae,()=>ae(b.currentUser)),function ma(A,v,b,N){(0,ce.m9)(A).onIdTokenChanged(v,b,N)}(b,Ne=>ae(Ne))}const Z=(0,ce.q4)("auth");return Z&&function Rc(A,v,b){const N=ai(A);ve(N._canInitEmulator,N,"emulator-config-failed"),ve(/^https?:\/\//.test(v),N,"invalid-emulator-scheme");const Z=!!b?.disableWarnings,ae=xa(v),{host:Ne,port:Ye}=function hc(A){const v=xa(A),b=/(\/\/)?([^?#/]+)/.exec(A.substr(v.length));if(!b)return{host:"",port:null};const N=b[2].split("@").pop()||"",Z=/^(\[[^\]]+\])(:|$)/.exec(N);if(Z){const ae=Z[1];return{host:ae,port:Yo(N.substr(ae.length+1))}}{const[ae,Ne]=N.split(":");return{host:ae,port:Yo(Ne)}}}(v);N.config.emulator={url:`${ae}//${Ne}${null===Ye?"":`:${Ye}`}/`},N.settings.appVerificationDisabledForTesting=!0,N.emulatorConfig=Object.freeze({host:Ne,port:Ye,protocol:ae.replace(":",""),options:Object.freeze({disableWarnings:Z})}),Z||function ua(){function A(){const v=document.createElement("p"),b=v.style;v.innerText="Running in emulator mode. Do not use with production credentials.",b.position="fixed",b.width="100%",b.backgroundColor="#ffffff",b.border=".1em solid #000000",b.color="#b50000",b.bottom="0px",b.left="0px",b.margin="0px",b.zIndex="10000",b.textAlign="center",v.classList.add("firebase-emulator-warning"),document.body.appendChild(v)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",A):A())}()}(b,`http://${Z}`),b}(function lc(A){Hi=A})({loadJS:A=>new Promise((v,b)=>{const N=document.createElement("script");N.setAttribute("src",A),N.onload=v,N.onerror=Z=>{const ae=ot("internal-error");ae.customData=Z,b(ae)},N.type="text/javascript",N.charset="UTF-8",function __(){var A,v;return null!==(v=null===(A=document.getElementsByTagName("head"))||void 0===A?void 0:A[0])&&void 0!==v?v:document}().appendChild(N)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Jf(A){(0,h.Xd)(new fe.wA("auth",(v,{options:b})=>{const N=v.getProvider("app").getImmediate(),Z=v.getProvider("heartbeat"),ae=v.getProvider("app-check-internal"),{apiKey:Ne,authDomain:Ye}=N.options;ve(Ne&&!Ne.includes(":"),"invalid-api-key",{appName:N.name});const Tt={apiKey:Ne,authDomain:Ye,clientPlatform:A,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tr(A)},pn=new Ws(N,Z,ae,Tt);return function fr(A,v){const b=v?.persistence||[],N=(Array.isArray(b)?b:[b]).map(Ue);v?.errorMap&&A._updateErrorMap(v.errorMap),A._initializeWithPersistence(N,v?.popupRedirectResolver)}(pn,b),pn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((v,b,N)=>{v.getProvider("auth-internal").initialize()})),(0,h.Xd)(new fe.wA("auth-internal",v=>{const b=ai(v.getProvider("auth").getImmediate());return new Lo(b)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,h.KN)(Kd,"1.6.2",function fv(A){switch(A){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(A)),(0,h.KN)(Kd,"1.6.2","esm2017")}("Browser");var y_=Q(5619),Iu=Q(8180),ja=Q(3477),ep=Q(9468),pv=Q(6024);let v_=(()=>{class A{constructor(b,N){this.firestore=b,this.router=N,this.userDataSubject=new y_.X(null),this.userData$=this.userDataSubject.asObservable();const Z=localStorage.getItem("user");if(Z){const ae=JSON.parse(Z);this.userDataSubject.next(ae)}}registerUser(b,N,Z){var ae=this;return(0,w.Z)(function*(){try{const Ne=yield ae.createUserWithEmailAndPassword(b,N),Ye=Ne.user.uid;yield ae.addAdditionalAuthData(Ye,Z),yield ae.saveUserData(Ne.user,Z),ae.router.navigate(["recipes-list"])}catch(Ne){ae.handleError(Ne)}})()}loginUser(b,N){var Z=this;return(0,w.Z)(function*(){try{const ae=yield Z.signInWithEmailAndPassword(b,N),Ne=ae.user.uid,Ye=yield Z.getAdditionalAuthDataById(Ne);yield Z.saveUserData(ae.user,Ye),Z.router.navigate(["recipes-list"])}catch(ae){Z.handleError(ae)}})()}logoutUser(){var b=this;return(0,w.Z)(function*(){try{yield b.signOutAuth(),yield b.clearUserData(),b.router.navigate(["login"])}catch(N){b.handleError(N)}})()}forgotPassword(b){var N=this;return(0,w.Z)(function*(){try{yield N.sendPasswordResetEmail(b),window.alert("Password reset email sent, check your inbox."),N.router.navigate(["login"])}catch(Z){N.handleError(Z),window.alert(Z)}})()}updateFavoriteRecipes(b,N,Z){var ae=this;return(0,w.Z)(function*(){const Ye=(0,ja.JU)(ae.firestore,"Auth",N);try{Z?(console.log("remove"),yield(0,ja.r7)(Ye,{favoriteRecipes:(0,ja.Ab)(b)})):(console.log("add"),yield(0,ja.r7)(Ye,{favoriteRecipes:(0,ja.vr)(b)})),console.log("Favorite recipes updated successfully");const Tt=yield ae.getAdditionalAuthDataById(N);ae.userData$.pipe((0,Iu.q)(1)).subscribe(pn=>{pn?ae.saveUserData(pn,Tt).then(()=>console.log("User data saved successfully")).catch(()=>console.error("Failed to save user data")):console.error("User is null")})}catch(Tt){console.error("Error updating favorite recipes: ",Tt)}})()}sendPasswordResetEmail(b){return function Ja(A,v,b){return ta.apply(this,arguments)}(ad(),b)}createUserWithEmailAndPassword(b,N){return function Vc(A,v,b){return _c.apply(this,arguments)}(ad(),b,N)}signInWithEmailAndPassword(b,N){return function Uc(A,v,b){return Qi((0,ce.m9)(A),_o.credential(v,b)).catch(function(){var N=(0,w.Z)(function*(Z){throw"auth/password-does-not-meet-requirements"===Z.code&&Bs(A),Z});return function(Z){return N.apply(this,arguments)}}())}(ad(),b,N)}signOutAuth(){return function us(A){return(0,ce.m9)(A).signOut()}(ad())}addAdditionalAuthData(b,N){return(0,ja.pl)((0,ja.JU)(this.firestore,"Auth",b),N)}getAdditionalAuthDataById(b){var N=this;return(0,w.Z)(function*(){const Z=(0,ja.JU)(N.firestore,"Auth",b),ae=yield(0,ja.QT)(Z);return ae.exists()?ae.data():null})()}saveUserData(b,N){return new Promise((Z,ae)=>{if(b&&N){const Ne={...b,...N};localStorage.setItem("user",JSON.stringify(Ne)),this.userDataSubject.next(Ne),Z()}else localStorage.setItem("user","null"),this.userDataSubject.next(null),ae()})}clearUserData(){return new Promise((b,N)=>{localStorage.removeItem("user"),this.userDataSubject.next(null),b()})}handleError(b){if(b instanceof Error){const Z=b.message;console.error(`Error (${b.name}): ${Z}`),alert(Z)}else console.error("Unknown error:",b),alert(b)}static#e=this.\u0275fac=function(N){return new(N||A)(ep.LFG(ja.gg),ep.LFG(pv.F0))};static#t=this.\u0275prov=ep.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})()},9286:($t,We,Q)=>{Q.d(We,{N:()=>we});var w=Q(4303);(0,w.KN)("firebase","10.9.0","app");const we={firebaseConfig:{apiKey:"AIzaSyCVbXDjBGUwaOrn1CZYGIwce1dYPKpR7PA",authDomain:"the-natural-way.firebaseapp.com",projectId:"the-natural-way",storageBucket:"the-natural-way.appspot.com",messagingSenderId:"778711637280",appId:"1:778711637280:web:30b52ea2a4e159578fcb45"},cloudinaryConfig:{cloudName:"dsla98vyk",apiKey:"587566495847865",apiSecret:"sJLzQzouizKo51b9Mv0bI8a5pCI",uploadPreset:"the_natural_way"}};(0,w.ZF)(we.firebaseConfig)},7845:($t,We,Q)=>{var w=Q(6593),ce=Q(6024),h=Q(9468),we=Q(4664),de=Q(7398),fe=Q(2096),Oe=Q(6499),Ee=Q(5861),re=Q(95),le=Q(6814);function Se(l,f){1&l&&(h.TgZ(0,"div",21),h._uU(1," Email is required! "),h.qZA())}function et(l,f){1&l&&(h.TgZ(0,"div",21),h._uU(1," Please enter a valid email address! "),h.qZA())}function Pe(l,f){if(1&l&&(h.TgZ(0,"div"),h.YNc(1,Se,2,0,"div",20),h.YNc(2,et,2,0,"div",20),h.qZA()),2&l){const o=h.oxw();let d,m;h.xp6(1),h.Q6J("ngIf",null==(d=o.registerForm.get("email"))||null==d.errors?null:d.errors.required),h.xp6(1),h.Q6J("ngIf",null==(m=o.registerForm.get("email"))||null==m.errors?null:m.errors.email)}}function it(l,f){1&l&&(h.TgZ(0,"div",21),h._uU(1," Password is required! "),h.qZA())}function At(l,f){1&l&&(h.TgZ(0,"div",21),h._uU(1," Password must be at least 6 characters long! "),h.qZA())}function Vt(l,f){if(1&l&&(h.TgZ(0,"div"),h.YNc(1,it,2,0,"div",20),h.YNc(2,At,2,0,"div",20),h.qZA()),2&l){const o=h.oxw();let d,m;h.xp6(1),h.Q6J("ngIf",null==(d=o.registerForm.get("password"))||null==d.errors?null:d.errors.required),h.xp6(1),h.Q6J("ngIf",null==(m=o.registerForm.get("password"))||null==m.errors?null:m.errors.minlength)}}function Ft(l,f){1&l&&(h.TgZ(0,"div",21),h._uU(1," Repeat password is required! "),h.qZA())}function An(l,f){1&l&&(h.TgZ(0,"div",21),h._uU(1," Repeat password must be at least 6 characters long! "),h.qZA())}function xt(l,f){if(1&l&&(h.TgZ(0,"div"),h.YNc(1,Ft,2,0,"div",20),h.YNc(2,An,2,0,"div",20),h.qZA()),2&l){const o=h.oxw();let d,m;h.xp6(1),h.Q6J("ngIf",null==(d=o.registerForm.get("repeatPassword"))||null==d.errors?null:d.errors.required),h.xp6(1),h.Q6J("ngIf",null==(m=o.registerForm.get("repeatPassword"))||null==m.errors?null:m.errors.minlength)}}function mt(l,f){1&l&&(h.TgZ(0,"div",21),h._uU(1," First name is required! "),h.qZA())}function ot(l,f){if(1&l&&(h.TgZ(0,"div"),h.YNc(1,mt,2,0,"div",20),h.qZA()),2&l){const o=h.oxw();let d;h.xp6(1),h.Q6J("ngIf",null==(d=o.registerForm.get("firstName"))||null==d.errors?null:d.errors.required)}}function vt(l,f){1&l&&(h.TgZ(0,"div",21),h._uU(1," Last name is required! "),h.qZA())}function _t(l,f){if(1&l&&(h.TgZ(0,"div"),h.YNc(1,vt,2,0,"div",20),h.qZA()),2&l){const o=h.oxw();let d;h.xp6(1),h.Q6J("ngIf",null==(d=o.registerForm.get("lastName"))||null==d.errors?null:d.errors.required)}}let je=(()=>{class l{constructor(o,d,m){this.userService=o,this.fb=d,this.router=m,this.registerForm=this.fb.group({email:["",[re.kI.required,re.kI.email]],password:["",[re.kI.required,re.kI.minLength(6)]],repeatPassword:["",re.kI.required],firstName:["",re.kI.required],lastName:["",re.kI.required],isActive:[!0,re.kI.required],isAdmin:[!1,re.kI.required],favoriteRecipes:this.fb.array([])})}submitRegisterForm(){var o=this;return(0,Ee.Z)(function*(){if(o.registerForm.valid){const{email:d,password:m,repeatPassword:T,...k}=o.registerForm.value;if(m!==T)return void alert("Password do not match!");try{yield o.userService.registerUser(d,m,k)}catch(J){alert(J)}}})()}static#e=this.\u0275fac=function(d){return new(d||l)(h.Y36(Oe.K),h.Y36(re.qu),h.Y36(ce.F0))};static#t=this.\u0275cmp=h.Xpm({type:l,selectors:[["app-register"]],decls:33,vars:6,consts:[[1,"main-short"],[1,"headerImage"],[1,"wrapper"],[3,"formGroup","ngSubmit"],[1,"title-wrapper"],[1,"title-form"],["for","email"],["type","email","id","email","formControlName","email","autocomplete","email"],[4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password","autocomplete","new-password"],["for","repeatPassword"],["type","password","id","repeatPassword","formControlName","repeatPassword","autocomplete","new-password"],["for","firstName"],["type","text","id","firstName","formControlName","firstName"],["for","lastName"],["type","text","id","lastName","formControlName","lastName"],["type","submit",1,"button",2,"width","100%","margin-top","20px"],["href","#","routerLink","/login"],[1,"hint"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(d,m){if(1&d&&(h.TgZ(0,"div",0),h._UZ(1,"div",1),h.TgZ(2,"div",2)(3,"form",3),h.NdJ("ngSubmit",function(){return m.submitRegisterForm()}),h.TgZ(4,"div",4)(5,"h1",5),h._uU(6,"Registration"),h.qZA()(),h.TgZ(7,"label",6),h._uU(8,"Email:"),h.qZA(),h._UZ(9,"input",7),h.YNc(10,Pe,3,2,"div",8),h.TgZ(11,"label",9),h._uU(12,"Password:"),h.qZA(),h._UZ(13,"input",10),h.YNc(14,Vt,3,2,"div",8),h.TgZ(15,"label",11),h._uU(16,"Repeat password:"),h.qZA(),h._UZ(17,"input",12),h.YNc(18,xt,3,2,"div",8),h.TgZ(19,"label",13),h._uU(20,"First name:"),h.qZA(),h._UZ(21,"input",14),h.YNc(22,ot,2,1,"div",8),h.TgZ(23,"label",15),h._uU(24,"Last Name:"),h.qZA(),h._UZ(25,"input",16),h.YNc(26,_t,2,1,"div",8),h.TgZ(27,"button",17),h._uU(28," Submit "),h.qZA(),h._UZ(29,"hr"),h.TgZ(30,"a",18)(31,"div",19),h._uU(32,"Already registered?"),h.qZA()()()()()),2&d){let T,k,J,ue,ge;h.xp6(3),h.Q6J("formGroup",m.registerForm),h.xp6(7),h.Q6J("ngIf",(null==(T=m.registerForm.get("email"))?null:T.invalid)&&(null==(T=m.registerForm.get("email"))?null:T.touched)),h.xp6(4),h.Q6J("ngIf",(null==(k=m.registerForm.get("password"))?null:k.invalid)&&(null==(k=m.registerForm.get("password"))?null:k.touched)),h.xp6(4),h.Q6J("ngIf",(null==(J=m.registerForm.get("repeatPassword"))?null:J.invalid)&&(null==(J=m.registerForm.get("repeatPassword"))?null:J.touched)),h.xp6(4),h.Q6J("ngIf",(null==(ue=m.registerForm.get("firstName"))?null:ue.invalid)&&(null==(ue=m.registerForm.get("firstName"))?null:ue.touched)),h.xp6(4),h.Q6J("ngIf",(null==(ge=m.registerForm.get("lastName"))?null:ge.invalid)&&(null==(ge=m.registerForm.get("lastName"))?null:ge.touched))}},dependencies:[le.O5,ce.rH,re._Y,re.Fj,re.JJ,re.JL,re.sg,re.u],styles:[".checkbox-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center}form[_ngcontent-%COMP%]{max-width:600px;margin:-50px auto 50px;padding:32px;background-color:var(--backgroundColor);border-radius:unset;box-shadow:0 1px 3px #0000004d}@media (max-width: 460px){form[_ngcontent-%COMP%]{background-color:var(--backgroundColor);border:none}}"]})}return l})();function ve(l,f){1&l&&(h.TgZ(0,"div",16),h._uU(1," Email is required! "),h.qZA())}function Qe(l,f){1&l&&(h.TgZ(0,"div",16),h._uU(1," Invalid email! "),h.qZA())}function gt(l,f){if(1&l&&(h.TgZ(0,"div"),h.YNc(1,ve,2,0,"div",17),h.YNc(2,Qe,2,0,"div",17),h.qZA()),2&l){const o=h.oxw();let d,m;h.xp6(1),h.Q6J("ngIf",null==(d=o.logInForm.get("email"))||null==d.errors?null:d.errors.required),h.xp6(1),h.Q6J("ngIf",null==(m=o.logInForm.get("email"))||null==m.errors?null:m.errors.email)}}function Rn(l,f){1&l&&(h.TgZ(0,"div",16),h._uU(1," Password is required! "),h.qZA())}function dt(l,f){1&l&&(h.TgZ(0,"div",16),h._uU(1," Password must be at least 6 characters long! "),h.qZA())}function un(l,f){if(1&l&&(h.TgZ(0,"div"),h.YNc(1,Rn,2,0,"div",17),h.YNc(2,dt,2,0,"div",17),h.qZA()),2&l){const o=h.oxw();let d,m;h.xp6(1),h.Q6J("ngIf",null==(d=o.logInForm.get("password"))||null==d.errors?null:d.errors.required),h.xp6(1),h.Q6J("ngIf",null==(m=o.logInForm.get("password"))||null==m.errors?null:m.errors.minlength)}}function In(l,f){if(1&l&&(h.TgZ(0,"div"),h._uU(1),h.qZA()),2&l){const o=h.oxw();h.xp6(1),h.Oqu(o.loginError)}}let Vn=(()=>{class l{constructor(o,d,m,T){this.userService=o,this.fb=d,this.route=m,this.router=T,this.loginError=null,this.returnUrl=null,this.logInForm=this.fb.group({email:["",[re.kI.required,re.kI.email]],password:["",[re.kI.required,re.kI.minLength(6)]]})}ngOnInit(){this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/"}submitLogInForm(){var o=this;return(0,Ee.Z)(function*(){if(o.logInForm.valid){const{email:d,password:m}=o.logInForm.value;try{yield o.userService.loginUser(d,m);const T=o.returnUrl||"/category";yield o.router.navigateByUrl(T)}catch(T){console.log(T)}}})()}static#e=this.\u0275fac=function(d){return new(d||l)(h.Y36(Oe.K),h.Y36(re.qu),h.Y36(ce.gz),h.Y36(ce.F0))};static#t=this.\u0275cmp=h.Xpm({type:l,selectors:[["app-login"]],decls:30,vars:4,consts:[[1,"main-short"],[1,"headerImage"],[1,"wrapper"],[3,"formGroup","ngSubmit"],[1,"title-wrapper"],[1,"title-form"],[1,"formGroup"],["for","email"],["type","text","id","email","formControlName","email","autocomplete","email"],[4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password","autocomplete","current-password"],["type","submit",1,"button",2,"width","100%"],["href","#","routerLink","/register"],[1,"hint"],["href","#","routerLink","/dashboard/forgot-password"],[1,"errors"],["class","errors",4,"ngIf"]],template:function(d,m){if(1&d&&(h.TgZ(0,"div",0),h._UZ(1,"div",1),h.TgZ(2,"div",2)(3,"form",3),h.NdJ("ngSubmit",function(){return m.submitLogInForm()}),h.TgZ(4,"div",4)(5,"h1",5),h._uU(6,"Login"),h.qZA()(),h.TgZ(7,"div",6)(8,"label",7),h._uU(9,"Email"),h.qZA(),h._UZ(10,"input",8),h.YNc(11,gt,3,2,"div",9),h.qZA(),h.TgZ(12,"div",6)(13,"label",10),h._uU(14,"Password"),h.qZA(),h._UZ(15,"input",11),h.YNc(16,un,3,2,"div",9),h.qZA(),h._UZ(17,"br"),h.TgZ(18,"div",6)(19,"button",12),h._uU(20,"Submit"),h.qZA()(),h.YNc(21,In,2,1,"div",9),h._UZ(22,"hr"),h.TgZ(23,"div")(24,"a",13)(25,"div",14),h._uU(26,"Don't have a Registration yet?"),h.qZA()(),h.TgZ(27,"a",15)(28,"div",16),h._uU(29,"Forgot your password?"),h.qZA()()()()()()),2&d){let T,k;h.xp6(3),h.Q6J("formGroup",m.logInForm),h.xp6(8),h.Q6J("ngIf",(null==(T=m.logInForm.get("email"))?null:T.invalid)&&(null==(T=m.logInForm.get("email"))?null:T.touched)),h.xp6(5),h.Q6J("ngIf",(null==(k=m.logInForm.get("password"))?null:k.invalid)&&(null==(k=m.logInForm.get("password"))?null:k.touched)),h.xp6(5),h.Q6J("ngIf",m.loginError)}},dependencies:[le.O5,ce.rH,re._Y,re.Fj,re.JJ,re.JL,re.sg,re.u],styles:["form[_ngcontent-%COMP%]{max-width:600px;margin:-50px auto 50px;padding:32px;background-color:var(--backgroundColor);border-radius:unset;box-shadow:0 1px 3px #0000004d}@media (max-width: 460px){form[_ngcontent-%COMP%]{background-color:var(--backgroundColor);border:none}}"]})}return l})();var er=Q(1753);const dr=function(l){return["/recipe",l]};function ke(l,f){if(1&l&&(h.TgZ(0,"div")(1,"a",8)(2,"div",9)(3,"div",10),h._UZ(4,"img",11),h.qZA(),h.TgZ(5,"p",12),h._uU(6),h.qZA()()()()),2&l){const o=f.$implicit;h.xp6(1),h.Q6J("routerLink",h.VKq(4,dr,o.id)),h.xp6(3),h.s9C("alt",o.title),h.Q6J("src",o.image_recipe[0].image_recipe,h.LSH),h.xp6(2),h.Oqu(o.title)}}function $e(l,f){if(1&l){const o=h.EpF();h.TgZ(0,"button",13),h.NdJ("click",function(){h.CHM(o);const m=h.oxw();return h.KtG(m.getRecipesLoadMore())}),h._uU(1," Load More "),h.qZA()}}let Je=(()=>{class l{constructor(o){this.recipeService=o,this.recipes=[],this.showLoadMoreButton=!0}ngOnInit(){this.getRecipes(),this.showLoadMoreButton=!0}getRecipesLoadMore(){var o=this;return(0,Ee.Z)(function*(){const{data:d,hasMore:m}=yield o.recipeService.getRecipesLoadMore();console.log(m),o.showLoadMoreButton=m,o.recipes.push(...d)})()}getRecipes(){var o=this;return(0,Ee.Z)(function*(){const{data:d}=yield o.recipeService.getRecipes();o.recipes.push(...d)})()}static#e=this.\u0275fac=function(d){return new(d||l)(h.Y36(er.v))};static#t=this.\u0275cmp=h.Xpm({type:l,selectors:[["app-recipes-list"]],decls:9,vars:2,consts:[[1,"main-long"],[1,"headerImage"],[1,"wrapper-list"],[1,"title-wrapper"],[1,"title"],[1,"recipe-list"],[4,"ngFor","ngForOf"],["class","button",3,"click",4,"ngIf"],[3,"routerLink"],[1,"recipe-item"],[1,"recipe-image"],[3,"src","alt"],[1,"recipe-title"],[1,"button",3,"click"]],template:function(d,m){1&d&&(h.TgZ(0,"main",0),h._UZ(1,"div",1),h.TgZ(2,"div",2)(3,"div",3)(4,"h1",4),h._uU(5,"Recipes"),h.qZA()(),h.TgZ(6,"div",5),h.YNc(7,ke,7,6,"div",6),h.qZA(),h.YNc(8,$e,2,0,"button",7),h.qZA()()),2&d&&(h.xp6(7),h.Q6J("ngForOf",m.recipes),h.xp6(1),h.Q6J("ngIf",m.showLoadMoreButton))},dependencies:[le.sg,le.O5,ce.rH],styles:[".wrapper-list[_ngcontent-%COMP%]{margin:-50px auto 50px;max-width:1200px;background-color:var(--backgroundColor);box-shadow:0 1px 3px #0000004d;padding:32px}.title-wrapper[_ngcontent-%COMP%]{margin-left:10px}.recipe-list[_ngcontent-%COMP%]{position:relative;display:grid;grid-template-columns:repeat(4,1fr);row-gap:20px;margin-bottom:100px}.recipe-item[_ngcontent-%COMP%]{margin:5px;position:relative}.recipe-image[_ngcontent-%COMP%]{padding:5px;position:relative;transition:transform 1s ease-in-out}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;width:100%;object-fit:fill}.recipe-item[_ngcontent-%COMP%]:hover   .recipe-image[_ngcontent-%COMP%]{transform:translateY(12%)}@media only screen and (max-width: 460px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 20px 50px;padding:16px}.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 461px) and (max-width: 767px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 768px) and (max-width: 1023px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);column-gap:10px;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}@media (min-width: 1024px) and (max-width: 1440px){.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);column-gap:10px;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}"]})}return l})();var Ve=Q(7157),nt=Q(8850),bt=Q(3477);function Rt(l,f){1&l&&(h.TgZ(0,"div",9),h._uU(1," Please write your comment here! "),h.qZA())}function jt(l,f){if(1&l&&(h.TgZ(0,"div"),h.YNc(1,Rt,2,0,"div",8),h.qZA()),2&l){const o=h.oxw();let d;h.xp6(1),h.Q6J("ngIf",null==(d=o.commentForm.get("text"))||null==d.errors?null:d.errors.required)}}let dn=(()=>{class l{constructor(o,d,m,T){this.fb=o,this.commentService=m,this.userService=T,this.timestamp=new Date,this.fullName="",this.firestore=d}ngOnInit(){this.commentForm=this.fb.group({name:[""],text:["",re.kI.required],recipeId:[this.recipeId],create_time:[this.timestamp],uid:[""]}),this.userService.userData$.subscribe({next:o=>{o?(this.userData=o,this.fullName=this.userData.firstName+" "+this.userData.lastName):this.fullName="Anonymous"},error:o=>{console.log(o)}})}onSubmit(){var o=this;return(0,Ee.Z)(function*(){if(o.timestamp=new Date,o.commentForm.valid){o.commentForm.patchValue({name:o.fullName}),o.commentForm.patchValue({recipeId:o.recipeId}),o.commentForm.patchValue({create_time:o.timestamp}),o.userData&&o.commentForm.patchValue({uid:o.userData.uid});try{(yield o.commentService.addComment(o.commentForm.value))?(alert("You have successfully added your comment"),o.commentForm.reset()):console.error("Error adding comment.")}catch(d){console.error("An error occurred while submitting the comment:",d)}}})()}static#e=this.\u0275fac=function(d){return new(d||l)(h.Y36(re.qu),h.Y36(bt.gg),h.Y36(nt.O),h.Y36(Oe.K))};static#t=this.\u0275cmp=h.Xpm({type:l,selectors:[["app-comment-form"]],inputs:{recipeId:"recipeId"},decls:15,vars:2,consts:[[1,"commentWrapper"],["id","commentForm",3,"formGroup","ngSubmit"],[1,"divider"],[1,"form-group"],["for","text"],["placeholder","Please write your comment here!","id","text","formControlName","text","rows","5","cols","30",1,"form-control"],[4,"ngIf"],["type","submit",1,"button",2,"width","100%"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(d,m){if(1&d&&(h.TgZ(0,"div",0)(1,"form",1),h.NdJ("ngSubmit",function(){return m.onSubmit()}),h.TgZ(2,"div",2),h._UZ(3,"hr"),h.TgZ(4,"p"),h._uU(5,"\xa0\xa0Comment\xa0\xa0"),h.qZA(),h._UZ(6,"hr"),h.qZA(),h.TgZ(7,"div",3)(8,"label",4),h._uU(9,"Comment (required)"),h.qZA(),h._UZ(10,"textarea",5),h.qZA(),h.YNc(11,jt,2,1,"div",6),h._UZ(12,"br"),h.TgZ(13,"button",7),h._uU(14,"Submit"),h.qZA()()()),2&d){let T;h.xp6(1),h.Q6J("formGroup",m.commentForm),h.xp6(10),h.Q6J("ngIf",null==(T=m.commentForm.get("text"))?null:T.touched)}},dependencies:[le.O5,re._Y,re.Fj,re.JJ,re.JL,re.sg,re.u],styles:["form#commentForm[_ngcontent-%COMP%]{background-color:var(--backgroundColor);max-width:100%;border:unset}"]})}return l})();var yn=Q(2732);function cn(l,f){if(1&l&&(h.TgZ(0,"div",19),h._uU(1),h.qZA()),2&l){const o=h.oxw();h.xp6(1),h.hij(" ",null==o.recipe?null:o.recipe.summary," ")}}function Dt(l,f){1&l&&(h.TgZ(0,"div"),h._UZ(1,"br"),h.qZA())}function $n(l,f){if(1&l&&(h.TgZ(0,"li"),h._UZ(1,"img",22),h.qZA()),2&l){const o=f.$implicit;h.xp6(1),h.Q6J("src",o.image_recipe,h.LSH)}}function hr(l,f){if(1&l&&(h.TgZ(0,"ul",20),h.YNc(1,$n,2,1,"li",21),h.qZA()),2&l){const o=h.oxw();h.xp6(1),h.Q6J("ngForOf",null==o.recipe?null:o.recipe.image_recipe)}}function Fr(l,f){1&l&&(h.ynx(0),h._UZ(1,"i",28),h.BQk())}function De(l,f){1&l&&h._UZ(0,"i",29)}function xe(l,f){if(1&l){const o=h.EpF();h.TgZ(0,"button",25),h.NdJ("click",function(){h.CHM(o);const m=h.oxw(2);return h.KtG(m.updateRecipeLikes())}),h.YNc(1,Fr,2,0,"ng-container",26),h.YNc(2,De,1,0,"ng-template",null,27,h.W1O),h.qZA()}if(2&l){const o=h.MAs(3),d=h.oxw(2);h.xp6(1),h.Q6J("ngIf",d.userData&&d.recipe&&d.recipe.likes&&(null==d.userData?null:d.userData.uid)&&d.recipe.likes.includes(d.userData.uid))("ngIfElse",o)}}function Re(l,f){if(1&l&&(h.TgZ(0,"div")(1,"span"),h._uU(2),h.qZA()()),2&l){const o=h.oxw(2);h.xp6(2),h.hij("Like: ",null==o.recipe||null==o.recipe.likes?null:o.recipe.likes.length,"")}}function at(l,f){1&l&&(h.ynx(0),h._uU(1," Save it! "),h.BQk())}function yt(l,f){1&l&&h._uU(0,"Save Recipe")}function St(l,f){if(1&l){const o=h.EpF();h.TgZ(0,"button",25),h.NdJ("click",function(){h.CHM(o);const m=h.oxw(2);return h.KtG(m.updateFavoriteRecipes())}),h.YNc(1,at,2,0,"ng-container",26),h.YNc(2,yt,1,0,"ng-template",null,27,h.W1O),h.qZA()}if(2&l){const o=h.MAs(3),d=h.oxw(2);h.xp6(1),h.Q6J("ngIf",d.recipe&&d.userData&&d.userData.favoriteRecipes&&d.userData.favoriteRecipes.includes(d.recipeId||""))("ngIfElse",o)}}function vr(l,f){if(1&l&&(h.TgZ(0,"div",23),h.YNc(1,xe,4,2,"button",24),h.YNc(2,Re,3,1,"div",8),h.YNc(3,St,4,2,"button",24),h.qZA()),2&l){const o=h.oxw();h.xp6(1),h.Q6J("ngIf",o.userData),h.xp6(1),h.Q6J("ngIf",(null==o.recipe||null==o.recipe.likes?null:o.recipe.likes.length)>0),h.xp6(1),h.Q6J("ngIf",o.userData)}}function En(l,f){1&l&&(h.TgZ(0,"div",12),h._UZ(1,"hr"),h.TgZ(2,"p"),h._uU(3,"\xa0\xa0Ingredients\xa0\xa0"),h.qZA(),h._UZ(4,"hr"),h.qZA())}function on(l,f){if(1&l&&(h.TgZ(0,"li"),h._uU(1),h.qZA()),2&l){const o=h.oxw().$implicit;h.xp6(1),h.lnq(" ",o.name," - ",o.amount," ",o.unit," ")}}function Qt(l,f){if(1&l&&(h.TgZ(0,"ul",30),h.YNc(1,on,2,3,"li",8),h.qZA()),2&l){const o=h.oxw();h.xp6(1),h.Q6J("ngIf",null==o.recipe?null:o.recipe.ingredients)}}function bn(l,f){if(1&l&&(h.TgZ(0,"li"),h._UZ(1,"iframe",32),h.ALo(2,"safeUrl"),h.qZA()),2&l){const o=f.$implicit;h.xp6(1),h.Q6J("src",h.lcZ(2,1,o.video_recipe),h.uOi)}}function Zn(l,f){if(1&l&&(h.TgZ(0,"div",31)(1,"div",12),h._UZ(2,"hr"),h.TgZ(3,"p"),h._uU(4,"\xa0\xa0Video\xa0\xa0"),h.qZA(),h._UZ(5,"hr"),h.qZA(),h._UZ(6,"br"),h.TgZ(7,"ul"),h.YNc(8,bn,3,3,"li",21),h.qZA()()),2&l){const o=h.oxw();h.xp6(8),h.Q6J("ngForOf",null==o.recipe?null:o.recipe.video_recipe)}}function en(l,f){1&l&&(h.TgZ(0,"div",12),h._UZ(1,"hr"),h.TgZ(2,"p"),h._uU(3,"\xa0\xa0Buttons\xa0\xa0"),h.qZA(),h._UZ(4,"hr"),h.qZA())}function Cr(l,f){if(1&l){const o=h.EpF();h.TgZ(0,"button",35),h.NdJ("click",function(){h.CHM(o);const m=h.oxw(2);return h.KtG(m.toggleCommentForm())}),h._uU(1," Comment? "),h.qZA()}}function br(l,f){if(1&l){const o=h.EpF();h.TgZ(0,"button",35),h.NdJ("click",function(){h.CHM(o);const m=h.oxw(2);return h.KtG(m.toggleCommentForm())}),h._uU(1," Hide Form "),h.qZA()}}function gn(l,f){if(1&l){const o=h.EpF();h.TgZ(0,"button",35),h.NdJ("click",function(){h.CHM(o);const m=h.oxw(2);return h.KtG(m.navigateToRecipeEdit())}),h._uU(1," Edit Recipe "),h.qZA()}}function rr(l,f){if(1&l){const o=h.EpF();h.TgZ(0,"button",35),h.NdJ("click",function(){h.CHM(o);const m=h.oxw(2);return h.KtG(m.navigateToRecipeDelete())}),h._uU(1," Delete Recipe "),h.qZA()}}function Wn(l,f){if(1&l&&(h.TgZ(0,"div",33),h.YNc(1,Cr,2,0,"button",34),h.YNc(2,br,2,0,"button",34),h.YNc(3,gn,2,0,"button",34),h.YNc(4,rr,2,0,"button",34),h.qZA()),2&l){const o=h.oxw();h.xp6(1),h.Q6J("ngIf",!o.showCommentForm),h.xp6(1),h.Q6J("ngIf",o.showCommentForm),h.xp6(1),h.Q6J("ngIf",o.userData&&o.userData.uid==(null==o.recipe?null:o.recipe.uid)),h.xp6(1),h.Q6J("ngIf",o.userData&&o.userData.uid==(null==o.recipe?null:o.recipe.uid))}}function ir(l,f){if(1&l&&(h.TgZ(0,"div"),h._UZ(1,"app-comment-form",36),h.qZA()),2&l){const o=h.oxw();h.xp6(1),h.Q6J("recipeId",o.recipeId)}}function Gn(l,f){1&l&&(h.TgZ(0,"div",12),h._UZ(1,"hr"),h.TgZ(2,"p"),h._uU(3,"\xa0\xa0Comments\xa0\xa0"),h.qZA(),h._UZ(4,"hr"),h.qZA())}function hi(l,f){if(1&l){const o=h.EpF();h.TgZ(0,"span",41),h.NdJ("click",function(){h.CHM(o);const m=h.oxw().$implicit,T=h.oxw(2);return h.KtG(T.deleteComment(m.id))}),h._UZ(1,"i",42),h.qZA()}}function Nn(l,f){if(1&l){const o=h.EpF();h.TgZ(0,"span",41),h.NdJ("click",function(){h.CHM(o);const m=h.oxw().$implicit,T=h.oxw(2);return h.KtG(T.navigateToCommentEdit(m.id))}),h._UZ(1,"i",43),h.qZA()}}function Kn(l,f){if(1&l&&(h.TgZ(0,"ul")(1,"li"),h._uU(2),h.qZA(),h.TgZ(3,"li"),h._uU(4),h.qZA(),h.TgZ(5,"li",38)(6,"p"),h._uU(7),h.ALo(8,"date"),h.qZA(),h.TgZ(9,"div",39),h.YNc(10,hi,2,0,"span",40),h.YNc(11,Nn,2,0,"span",40),h.qZA()(),h._UZ(12,"hr"),h.qZA()),2&l){const o=f.$implicit,d=h.oxw(2);h.xp6(2),h.Oqu(o.name),h.xp6(2),h.Oqu(o.text),h.xp6(3),h.hij(" ",h.xi3(8,5,o.create_time.toDate(),"dd/MM/yyyy HH:mm:ss")," "),h.xp6(3),h.Q6J("ngIf",d.userData&&o.uid==d.userData.uid),h.xp6(1),h.Q6J("ngIf",d.userData&&o.uid==d.userData.uid)}}function Or(l,f){if(1&l&&(h.TgZ(0,"section",37),h.YNc(1,Kn,13,8,"ul",21),h.qZA()),2&l){const o=h.oxw();h.xp6(1),h.Q6J("ngForOf",o.comments)}}let fi=(()=>{class l{constructor(o,d,m,T,k){var J=this;this.route=o,this.recipeService=d,this.commentService=m,this.userService=T,this.router=k,this.recipe=null,this.recipeId="",this.comments=[],this.showCommentForm=!1,this.route.paramMap.subscribe(function(){var ue=(0,Ee.Z)(function*(ge){J.recipeId=ge.get("id")});return function(ge){return ue.apply(this,arguments)}}()),m.getCommentAddedObservable().subscribe((0,Ee.Z)(function*(){console.log("Comment successfully added."),yield J.loadCommentsForRecipe()}))}loadRecipeData(){var o=this;return(0,Ee.Z)(function*(){if(o.recipeId)try{o.recipe=yield o.recipeService.getRecipeById(o.recipeId),o.comments=yield o.commentService.getCommentsForRecipe(o.recipeId),console.log("Recipe data loaded successfully.")}catch(d){console.error("An error occurred while loading recipe data:",d)}})()}navigateToRecipeEdit(){var o=this;return(0,Ee.Z)(function*(){yield o.router.navigate(["/dashboard/recipe-edit",o.recipeId])})()}navigateToRecipeDelete(){var o=this;return(0,Ee.Z)(function*(){yield o.router.navigate(["/dashboard/recipe-delete",o.recipeId])})()}ngOnInit(){var o=this;return(0,Ee.Z)(function*(){yield o.loadRecipeData(),o.userService.userData$.subscribe(d=>{d&&(o.userData=d)})})()}toggleCommentForm(){this.showCommentForm=!this.showCommentForm}navigateToCommentEdit(o){var d=this;return(0,Ee.Z)(function*(){yield d.router.navigate(["/dashboard/comment-edit",o])})()}deleteComment(o){var d=this;return(0,Ee.Z)(function*(){yield d.commentService.deleteComment(o),yield d.loadCommentsForRecipe()})()}updateRecipeLikes(){var o=this;return(0,Ee.Z)(function*(){if(o.recipe)if(o.userData){if(o.userData){let d=o.recipe.likes.includes(o.userData.uid);yield o.recipeService.updateRecipeLikes(o.recipeId,o.userData.uid,d)}yield o.loadRecipeData()}else console.error("User is not logged in.");else console.error("Recipe data is missing.")})()}updateFavoriteRecipes(){var o=this;return(0,Ee.Z)(function*(){if(o.recipe){if(o.userData&&o.recipeId){let d=o.userData.favoriteRecipes.includes(o.recipeId);yield o.userService.updateFavoriteRecipes(o.recipeId,o.userData.uid,d),yield o.loadRecipeData()}}else console.error("Recipe data is missing.")})()}loadCommentsForRecipe(){var o=this;return(0,Ee.Z)(function*(){o.recipeId&&(o.comments=yield o.commentService.getCommentsForRecipe(o.recipeId))})()}static#e=this.\u0275fac=function(d){return new(d||l)(h.Y36(ce.gz),h.Y36(Ve.j),h.Y36(nt.O),h.Y36(Oe.K),h.Y36(ce.F0))};static#t=this.\u0275cmp=h.Xpm({type:l,selectors:[["app-recipe"]],decls:33,vars:15,consts:[[1,"mainLong"],[1,"headerImage"],[1,"wrapper-list"],[1,"recipe-container"],[1,"title-wrapper"],[1,"title"],[1,"recipe-subtitle"],["class","recipe-summary",4,"ngIf"],[4,"ngIf"],[1,"recipe-hero"],["class","recipe-image",4,"ngIf"],["class","buttons",4,"ngIf"],[1,"divider"],[1,"recipe-description-text","description"],["class","divider",4,"ngIf"],["class","recipe-ingredients",4,"ngFor","ngForOf"],["class","recipe-videos",4,"ngIf"],["class","buttons buttons-img",4,"ngIf"],["class","comments",4,"ngIf"],[1,"recipe-summary"],[1,"recipe-image"],[4,"ngFor","ngForOf"],["alt","Image of a recipe",3,"src"],[1,"buttons"],["class","button",3,"click",4,"ngIf"],[1,"button",3,"click"],[4,"ngIf","ngIfElse"],["notLiked",""],[1,"fa-solid","fa-heart","fa-beat-fade"],[1,"fa-regular","fa-heart","fa-beat-fade"],[1,"recipe-ingredients"],[1,"recipe-videos"],["width","560","height","315","allowfullscreen","",3,"src"],[1,"buttons","buttons-img"],["class","button-img",3,"click",4,"ngIf"],[1,"button-img",3,"click"],[3,"recipeId"],[1,"comments"],[1,"comments-last"],[1,"commentBtnWrapper"],[3,"click",4,"ngIf"],[3,"click"],[1,"fa-solid","fa-trash","fa-shake"],[1,"fa-regular","fa-pen-to-square","fa-flip"]],template:function(d,m){1&d&&(h.TgZ(0,"div",0),h._UZ(1,"div",1),h.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),h._uU(6),h.qZA()(),h.TgZ(7,"h3",6),h._uU(8),h.qZA(),h.YNc(9,cn,2,1,"div",7),h.YNc(10,Dt,2,0,"div",8),h.TgZ(11,"div",9),h.YNc(12,hr,2,1,"ul",10),h.YNc(13,vr,4,3,"div",11),h.TgZ(14,"div",12),h._UZ(15,"hr"),h.TgZ(16,"p"),h._uU(17,"\xa0\xa0Preparation\xa0\xa0"),h.qZA(),h._UZ(18,"hr"),h.qZA(),h._UZ(19,"br"),h.TgZ(20,"p",13),h._uU(21),h.qZA(),h._UZ(22,"br"),h.YNc(23,En,5,0,"div",14),h._UZ(24,"br"),h.YNc(25,Qt,2,1,"ul",15),h.YNc(26,Zn,9,1,"div",16),h.YNc(27,en,5,0,"div",14),h._UZ(28,"br"),h.YNc(29,Wn,5,4,"div",17),h.YNc(30,ir,2,1,"div",8),h.YNc(31,Gn,5,0,"div",14),h.YNc(32,Or,2,1,"section",18),h.qZA()()()()),2&d&&(h.xp6(6),h.Oqu(null==m.recipe?null:m.recipe.title),h.xp6(2),h.Oqu(null==m.recipe?null:m.recipe.subtitle),h.xp6(1),h.Q6J("ngIf",null==m.recipe?null:m.recipe.summary),h.xp6(1),h.Q6J("ngIf",!(null!=m.recipe&&m.recipe.summary)),h.xp6(2),h.Q6J("ngIf",(null==m.recipe?null:m.recipe.image_recipe)&&(null==m.recipe||null==m.recipe.image_recipe?null:m.recipe.image_recipe.length)>0),h.xp6(1),h.Q6J("ngIf",m.userData),h.xp6(8),h.hij(" ",null==m.recipe?null:m.recipe.description," "),h.xp6(2),h.Q6J("ngIf",null==m.recipe?null:m.recipe.ingredients),h.xp6(2),h.Q6J("ngForOf",null==m.recipe?null:m.recipe.ingredients),h.xp6(1),h.Q6J("ngIf",(null==m.recipe?null:m.recipe.video_recipe)&&(null==m.recipe||null==m.recipe.video_recipe?null:m.recipe.video_recipe.length)>0),h.xp6(1),h.Q6J("ngIf",m.userData),h.xp6(2),h.Q6J("ngIf",m.userData),h.xp6(1),h.Q6J("ngIf",m.showCommentForm),h.xp6(1),h.Q6J("ngIf",m.comments.length>0),h.xp6(1),h.Q6J("ngIf",m.comments.length>0))},dependencies:[le.sg,le.O5,dn,le.uU,yn.Q],styles:[".recipe-container[_ngcontent-%COMP%]{background-color:var(--backgroundColor);max-width:800px;margin:-50px auto 50px;padding:32px;box-shadow:0 1px 3px #0000004d}.title[_ngcontent-%COMP%]{font-size:28px}.recipe-subtitle[_ngcontent-%COMP%]{font-size:14px;margin-top:-10px;color:var(--mainGreyColor);font-style:italic;white-space:pre-wrap}.recipe-summary[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;text-align:center;font-style:italic;white-space:pre-wrap}.recipe-hero[_ngcontent-%COMP%]{grid-template-columns:70% 30%;gap:20px}ul.recipe-image[_ngcontent-%COMP%]{padding-left:unset}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;margin-bottom:10px}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:5px}.recipe-description-text[_ngcontent-%COMP%]{font-size:16px;white-space:pre-wrap}.recipe-ingredients[_ngcontent-%COMP%]{padding:0 16px}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;list-style-type:disc}.recipe-videos[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-top:20px}.recipe-videos[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;max-width:800px;height:450px}.buttons[_ngcontent-%COMP%]{padding:0 32px;display:flex;justify-content:space-between}.comments[_ngcontent-%COMP%]{border:1px solid var(--mainMagnoliaColor);margin:30px 0;padding:20px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:10px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px;padding-left:5px}.comments[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--mainGreyColor)}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(odd){background-color:var(--backgroundColor);padding-left:5px;border-radius:5px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(2n){background-color:var(--mainMagnoliaColor);font-style:italic;border-radius:5px}.commentBtnWrapper[_ngcontent-%COMP%]{display:flex;gap:10px}.comments-last[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.fa-solid.fa-trash.fa-shake[_ngcontent-%COMP%], .fa-regular.fa-pen-to-square.fa-flip[_ngcontent-%COMP%]{cursor:pointer;color:var(--mainRGBAColor);background-color:var(--backgroundColor);padding:8px 10px;border:3px solid var(--mainRGBAColor);border-radius:50%;transition:1s ease-in-out}.fa-solid.fa-trash.fa-shake[_ngcontent-%COMP%]:hover, .fa-regular.fa-pen-to-square.fa-flip[_ngcontent-%COMP%]:hover{color:var(--backgroundColor);background-color:var(--mainRGBAColor);padding:8px 10px;border:3px solid var(--mainRGBAColor);border-radius:50%}@media (max-width: 640px){.buttons-img[_ngcontent-%COMP%]{flex-direction:column-reverse}}"]})}return l})();function tt(l,f){1&l&&(h.TgZ(0,"div")(1,"main",2),h._UZ(2,"div",3),h.TgZ(3,"div",4)(4,"div",5)(5,"div",6)(6,"h1",7),h._uU(7," We're sorry, but we couldn't find the result you're looking for! "),h.TgZ(8,"main",8),h.O4$(),h.TgZ(9,"svg",9),h._UZ(10,"rect",10),h.TgZ(11,"g",11)(12,"svg",12)(13,"g")(14,"svg",13)(15,"g",14)(16,"svg",15)(17,"g",16)(18,"svg",17)(19,"g")(20,"svg",15)(21,"g",18)(22,"svg",19),h._UZ(23,"path",20),h.qZA()()()()()()()(),h.TgZ(24,"g",21)(25,"svg",22)(26,"g"),h._UZ(27,"svg"),h.qZA(),h.TgZ(28,"g",23)(29,"svg",22)(30,"g"),h._UZ(31,"path",24)(32,"ellipse",25),h.qZA(),h.TgZ(33,"g",26)(34,"svg",27)(35,"g")(36,"svg",28),h._UZ(37,"path",29),h.qZA()()()()()()()(),h._UZ(38,"g"),h.qZA()(),h._UZ(39,"defs"),h.qZA(),h._UZ(40,"rect",30),h.qZA()()()()()()()()())}const Ce=function(l){return["/recipe",l]};function Ze(l,f){if(1&l&&(h.TgZ(0,"div")(1,"a",35)(2,"div",36)(3,"div",37),h._UZ(4,"img",38),h.qZA(),h.TgZ(5,"p",39),h._uU(6),h.qZA()()()()),2&l){const o=f.$implicit;h.xp6(1),h.Q6J("routerLink",h.VKq(4,Ce,o.id)),h.xp6(3),h.s9C("alt",o.title),h.Q6J("src",o.image_recipe[0].image_recipe,h.LSH),h.xp6(2),h.Oqu(o.title)}}function It(l,f){if(1&l&&(h.TgZ(0,"main",31),h._UZ(1,"div",3),h.TgZ(2,"div",32)(3,"div",6)(4,"h1",7),h._uU(5,"Result"),h.qZA()(),h.TgZ(6,"div",33),h.YNc(7,Ze,7,6,"div",34),h.qZA()()()),2&l){const o=h.oxw();h.xp6(7),h.Q6J("ngForOf",o.recipes)}}let qt=(()=>{class l{constructor(o,d){this.recipeService=o,this.route=d,this.recipes=[],this.result=!1}ngOnInit(){this.route.queryParams.subscribe(o=>{const d=o.search;d&&this.getRecipes(d)})}getRecipes(o){var d=this;return(0,Ee.Z)(function*(){const{data:m}=yield d.recipeService.searchRecipesByTitle(o);console.log(m),m.length>0?(d.recipes.push(...m),d.result=!0):d.result=!1})()}static#e=this.\u0275fac=function(d){return new(d||l)(h.Y36(er.v),h.Y36(ce.gz))};static#t=this.\u0275cmp=h.Xpm({type:l,selectors:[["app-recipe-search"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["recipesList",""],[1,"main-short"],[1,"headerImage"],[1,"wrapper"],[2,"max-width","600px","margin","-50px auto 50px auto","padding","32px","background-color","var(--backgroundColor)","border-radius","unset","box-shadow","0 1px 3px 0 rgba(0, 0, 0, 0.3)","display","flex","flex-direction","column","align-items","center"],[1,"title-wrapper"],[1,"title"],[1,"logo-svg"],["viewBox","0 0 640 400","data-background-color","var(--mainWhiteColor)","preserveAspectRatio","xMidYMid meet","height","400","width","640","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink"],["width","640","height","400","x","0","y","0","opacity","1","fill","var(--mainRGBAColor)","data-fill-palette-color","background","id","background"],["id","tight-bounds","transform","matrix(1,0,0,1,168.6873741251188,76.4)"],["viewBox","0 0 302.6252517497624 247.2","height","247.2","width","302.6252517497624"],["viewBox","0 0 395.52 323.08124796157813","height","247.2","width","302.6252517497624"],["transform","matrix(1,0,0,1,0,240.1001478205344)"],["viewBox","0 0 395.52 82.98110014104373","height","82.98110014104373","width","395.52"],["id","textblocktransform"],["viewBox","0 0 395.52 82.98110014104373","height","82.98110014104373","width","395.52","id","textblock"],["transform","matrix(1,0,0,1,0,0)"],["width","395.52","viewBox","0.15000000596046448 -37.939998626708984 276.9100036621094 58.11000061035156","height","82.98110014104373","data-palette-color","var(--mainWhiteColor)"],["d","M8.3-27.15L0.15-26.51 0.93-29.05Q0.98-29.1 1.68-29.17 2.39-29.25 3.56-29.37 4.74-29.49 6.2-29.64 7.67-29.79 9.2-29.93 10.74-30.08 12.23-30.22 13.72-30.37 14.99-30.52L14.99-30.52Q14.99-30.52 15.43-30.52 15.87-30.52 16.41-30.52 16.94-30.52 17.43-30.52 17.92-30.52 18.07-30.52L18.07-30.52Q19.24-30.52 19.68-30.08 20.12-29.64 20.12-28.17L20.12-28.17 11.23-27.15Q11.13-24.07 11.33-20.7 11.52-17.33 11.82-13.89 12.11-10.45 12.38-7.08 12.65-3.71 12.65-0.63L12.65-0.63Q12.65-0.2 12.38-0.02 12.11 0.15 11.74 0.2 11.38 0.24 10.99 0.17 10.6 0.1 10.3 0L10.3 0Q10.16-0.63 10.01-2.2 9.86-3.76 9.72-5.86 9.57-7.96 9.42-10.4 9.28-12.84 9.13-15.28 8.98-17.72 8.84-19.95 8.69-22.17 8.59-23.85 8.5-25.54 8.42-26.46 8.35-27.39 8.3-27.15L8.3-27.15ZM20.07-33.74L21.68-33.5 22.95-17.48Q23.29-17.77 23.83-18.36 24.36-18.95 25.1-19.46 25.83-19.97 26.71-20.34 27.59-20.7 28.61-20.65L28.61-20.65Q30.61-20.46 31.81-19.04 33.01-17.63 33.62-15.58 34.23-13.53 34.42-11.11 34.62-8.69 34.54-6.49 34.47-4.3 34.3-2.59 34.13-0.88 34.03-0.24L34.03-0.24 32.27-0.49Q32.27-0.93 32.3-1.88 32.32-2.83 32.37-4.13 32.42-5.42 32.42-6.84 32.42-8.25 32.44-9.5 32.47-10.74 32.44-11.72 32.42-12.7 32.37-13.09L32.37-13.09Q32.42-14.45 31.83-15.72 31.25-16.99 30.27-17.65 29.29-18.31 27.93-18.09 26.56-17.87 25-16.16L25-16.16Q23.63-14.11 23-12.13 22.36-10.16 22.17-8.23 21.97-6.3 22.02-4.27 22.07-2.25 22.02 0L22.02 0 20.11-0.29Q20.26-0.83 20.33-2.27 20.41-3.71 20.46-5.74 20.51-7.76 20.53-10.25 20.55-12.74 20.53-15.41 20.51-18.07 20.46-20.75 20.41-23.44 20.33-25.88 20.26-28.32 20.19-30.37 20.11-32.42 20.07-33.74L20.07-33.74ZM36.86-11.47L36.86-11.47Q36.86-12.94 37.5-14.72 38.13-16.5 39.23-18.04 40.33-19.58 41.72-20.63 43.11-21.68 44.62-21.68L44.62-21.68Q45.45-21.68 46.26-21.34 47.07-21 47.82-20.43 48.58-19.87 49.19-19.17 49.8-18.46 50.14-17.68 50.48-16.89 50.51-16.16 50.53-15.43 50.09-14.89L50.09-14.89 39.79-12.99Q39.59-12.94 39.45-12.52 39.3-12.11 39.2-11.47 39.11-10.84 39.03-10.08 38.96-9.33 38.91-8.62 38.86-7.91 38.86-7.35 38.86-6.79 38.86-6.49L38.86-6.49Q38.86-5.13 39.52-4.27 40.18-3.42 41.21-2.98 42.23-2.54 43.53-2.39 44.82-2.25 46.09-2.25 47.36-2.25 48.48-2.34 49.6-2.44 50.34-2.44L50.34-2.44Q50.34-2.25 50.19-2 50.04-1.76 49.85-1.54 49.65-1.32 49.46-1.15 49.26-0.98 49.21-0.93L49.21-0.93Q48.82-0.83 48.02-0.66 47.21-0.49 46.31-0.34 45.41-0.2 44.62-0.1 43.84 0 43.55 0L43.55 0Q42.04 0.29 40.91-0.05 39.79-0.39 39.01-1.22 38.23-2.05 37.74-3.25 37.25-4.44 37.01-5.81 36.76-7.18 36.74-8.64 36.71-10.11 36.86-11.47ZM43.94-19.82L43.94-19.82Q43.5-19.82 42.79-19.36 42.08-18.9 41.47-18.19 40.86-17.48 40.45-16.67 40.03-15.87 40.18-15.28L40.18-15.28Q41.45-15.14 42.82-15.33 44.18-15.53 45.31-15.94 46.43-16.36 47.16-16.92 47.9-17.48 47.87-18.07 47.85-18.65 46.94-19.12 46.04-19.58 43.94-19.82ZM93.06 0L74.31-29.05Q74.31-28.91 74.28-28.42 74.26-27.93 74.26-27.42 74.26-26.9 74.26-26.44 74.26-25.98 74.26-25.83L74.26-25.83Q74.26-22.66 74.4-19.48 74.55-16.31 74.75-13.11 74.94-9.91 75.09-6.69 75.23-3.47 75.23-0.24L75.23-0.24 73.48-0.34Q73.43-1.27 73.31-2.93 73.18-4.59 73.01-6.76 72.84-8.94 72.65-11.43 72.45-13.92 72.23-16.48 72.01-19.04 71.87-21.53 71.72-24.02 71.6-26.15 71.47-28.27 71.43-29.91 71.38-31.54 71.43-32.42L71.43-32.42Q71.43-33.01 71.87-33.4 72.3-33.79 72.89-33.79L72.89-33.79Q73.48-33.79 74.23-33.52 74.99-33.25 75.23-32.81L75.23-32.81 92.81-4.44Q92.81-6.69 92.69-9.28 92.57-11.87 92.47-14.6 92.37-17.33 92.35-20.09 92.32-22.85 92.45-25.46 92.57-28.08 92.93-30.42 93.3-32.76 93.98-34.67L93.98-34.67Q94.67-34.91 95.06-34.94 95.45-34.96 95.64-34.91 95.84-34.86 95.86-34.67 95.89-34.47 95.89-34.28L95.89-34.28Q95.89-34.18 95.89-33.98 95.89-33.79 95.89-33.74L95.89-33.74Q95.79-33.45 95.67-32.67 95.55-31.88 95.35-30.35 95.16-28.81 95.01-26.37 94.86-23.93 94.72-20.31 94.57-16.7 94.5-11.72 94.42-6.74 94.47-0.1L94.47-0.1 93.06 0ZM97.74-4.2L97.74-4.2Q97.74-6.98 99.28-8.25 100.82-9.52 103.31-9.52L103.31-9.52Q104.28-9.52 105.14-9.47 105.99-9.42 106.77-9.23 107.56-9.03 108.31-8.64 109.07-8.25 109.9-7.52L109.9-7.52Q109.9-7.67 109.92-8.13 109.95-8.59 109.95-9.13 109.95-9.67 109.95-10.13 109.95-10.6 109.95-10.79L109.95-10.79Q109.9-11.67 109.9-13.06 109.9-14.45 109.68-15.92 109.46-17.38 108.8-18.7 108.14-20.02 106.68-20.7L106.68-20.7Q105.65-20.7 104.77-20.36 103.89-20.02 103.01-19.63 102.14-19.24 101.26-18.92 100.38-18.6 99.35-18.6L99.35-18.6Q99.35-19.82 100.11-20.63 100.87-21.44 101.94-21.88 103.01-22.31 104.19-22.46 105.36-22.61 106.24-22.61L106.24-22.61Q107.12-22.46 107.87-22.27 108.63-22.07 109.29-21.48 109.95-20.9 110.51-19.7 111.07-18.51 111.49-16.36 111.9-14.21 112.22-10.91 112.54-7.62 112.73-2.83L112.73-2.83Q112.83-2.2 112.32-1.73 111.8-1.27 110.93-0.95 110.05-0.63 108.95-0.42 107.85-0.2 106.73-0.1 105.6 0 104.58 0.05 103.55 0.1 102.87 0.1L102.87 0.1Q101.99 0.1 101.09-0.2 100.18-0.49 99.43-1.05 98.67-1.61 98.21-2.42 97.74-3.22 97.74-4.2ZM104.09-7.62L104.09-7.62Q101.65-6.93 100.67-5.98 99.69-5.03 99.82-4.15 99.94-3.27 100.96-2.56 101.99-1.86 103.45-1.64 104.92-1.42 106.63-1.88 108.34-2.34 109.9-3.71L109.9-3.71Q109.31-5.13 108.73-5.88 108.14-6.64 107.46-7.03 106.77-7.42 105.94-7.52 105.11-7.62 104.09-7.62ZM120.64-17.72L120.64-17.72Q120.2-17.87 119.44-17.85 118.69-17.82 117.83-17.75 116.98-17.68 116.2-17.58 115.41-17.48 114.88-17.48L114.88-17.48Q114.63-17.48 114.56-18.19 114.49-18.9 114.34-20.12L114.34-20.12 121.23-20.61Q121.37-22.31 121.42-23.05 121.47-23.78 121.44-24.29 121.42-24.8 121.4-25.46 121.37-26.12 121.37-27.54L121.37-27.54Q122.64-27.73 123.3-27.66 123.96-27.59 124.2-27.29 124.45-27 124.42-26.44 124.4-25.88 124.28-25.05 124.15-24.22 124.08-23.05 124.01-21.88 124.15-20.41L124.15-20.41 130.01-20.61 130.01-18.21Q129.62-18.21 128.79-18.16 127.96-18.12 127.01-18.07 126.06-18.02 125.25-17.97 124.45-17.92 124.06-17.77L124.06-17.77Q123.67-16.02 123.23-14.01 122.79-12.01 122.64-10.06 122.49-8.11 122.74-6.42 122.98-4.74 123.96-3.64 124.94-2.54 126.74-2.12 128.55-1.71 131.53-2.39L131.53-2.39Q131.43-1.66 130.97-1.2 130.5-0.73 129.89-0.46 129.28-0.2 128.6-0.07 127.91 0.05 127.38 0.05L127.38 0.05Q124.89 0.05 123.42-0.85 121.96-1.76 121.23-3.22 120.49-4.69 120.3-6.57 120.1-8.45 120.18-10.4 120.25-12.35 120.44-14.26 120.64-16.16 120.64-17.72ZM133.19-18.95L133.19-18.95Q133.19-19.19 133.5-19.43 133.82-19.68 134.28-19.82 134.75-19.97 135.19-20.02 135.63-20.07 135.82-19.87L135.82-19.87Q136.12-13.82 136.97-10.23 137.82-6.64 138.92-4.98 140.02-3.32 141.29-3.3 142.56-3.27 143.78-4.37 145-5.47 146.05-7.37 147.1-9.28 147.76-11.47 148.42-13.67 148.57-15.87 148.71-18.07 148.18-19.78L148.18-19.78 151.11-20.12Q151.15-19.38 151.37-17.7 151.59-16.02 151.86-13.89 152.13-11.77 152.47-9.47 152.81-7.18 153.06-5.2 153.3-3.22 153.5-1.83 153.69-0.44 153.69-0.1L153.69-0.1 151.59-0.1 149.3-8.54Q148.62-6.84 147.64-5.27 146.66-3.71 145.51-2.54 144.37-1.37 143.1-0.71 141.83-0.05 140.58-0.17 139.34-0.29 138.17-1.32 136.99-2.34 135.99-4.57 134.99-6.79 134.26-10.3 133.53-13.82 133.19-18.95ZM155.25-19.04L155.25-19.04Q155.84-19.29 156.28-19.14 156.72-18.99 157.01-18.6 157.3-18.21 157.45-17.7 157.6-17.19 157.69-16.7L157.69-16.7Q158.33-17.77 159.53-18.43 160.72-19.09 162.09-19.31 163.46-19.53 164.82-19.41 166.19-19.29 167.14-18.82 168.1-18.36 168.49-17.55 168.88-16.75 168.29-15.67L168.29-15.67Q167.02-16.41 165.63-16.85 164.24-17.29 162.92-17.14 161.6-16.99 160.48-16.14 159.36-15.28 158.62-13.43 157.89-11.57 157.72-8.52 157.55-5.47 158.13-0.93L158.13-0.93 156.28-0.93Q156.28-0.93 156.21-1.73 156.13-2.54 156.06-3.86 155.99-5.18 155.86-6.79 155.74-8.4 155.64-10.06 155.55-11.72 155.47-13.26 155.4-14.79 155.3-15.92L155.3-15.92Q155.3-16.06 155.28-16.5 155.25-16.94 155.25-17.46 155.25-17.97 155.25-18.41 155.25-18.85 155.25-19.04ZM170.49-4.2L170.49-4.2Q170.49-6.98 172.02-8.25 173.56-9.52 176.05-9.52L176.05-9.52Q177.03-9.52 177.88-9.47 178.74-9.42 179.52-9.23 180.3-9.03 181.06-8.64 181.81-8.25 182.64-7.52L182.64-7.52Q182.64-7.67 182.67-8.13 182.69-8.59 182.69-9.13 182.69-9.67 182.69-10.13 182.69-10.6 182.69-10.79L182.69-10.79Q182.64-11.67 182.64-13.06 182.64-14.45 182.42-15.92 182.2-17.38 181.54-18.7 180.89-20.02 179.42-20.7L179.42-20.7Q178.4-20.7 177.52-20.36 176.64-20.02 175.76-19.63 174.88-19.24 174-18.92 173.12-18.6 172.1-18.6L172.1-18.6Q172.1-19.82 172.85-20.63 173.61-21.44 174.68-21.88 175.76-22.31 176.93-22.46 178.1-22.61 178.98-22.61L178.98-22.61Q179.86-22.46 180.62-22.27 181.37-22.07 182.03-21.48 182.69-20.9 183.25-19.7 183.82-18.51 184.23-16.36 184.65-14.21 184.96-10.91 185.28-7.62 185.48-2.83L185.48-2.83Q185.57-2.2 185.06-1.73 184.55-1.27 183.67-0.95 182.79-0.63 181.69-0.42 180.59-0.2 179.47-0.1 178.35 0 177.32 0.05 176.3 0.1 175.61 0.1L175.61 0.1Q174.73 0.1 173.83-0.2 172.93-0.49 172.17-1.05 171.41-1.61 170.95-2.42 170.49-3.22 170.49-4.2ZM176.83-7.62L176.83-7.62Q174.39-6.93 173.42-5.98 172.44-5.03 172.56-4.15 172.68-3.27 173.71-2.56 174.73-1.86 176.2-1.64 177.66-1.42 179.37-1.88 181.08-2.34 182.64-3.71L182.64-3.71Q182.06-5.13 181.47-5.88 180.89-6.64 180.2-7.03 179.52-7.42 178.69-7.52 177.86-7.62 176.83-7.62ZM188.6-37.94L188.6-37.94Q189.28-37.84 189.79-37.57 190.31-37.3 190.6-36.62L190.6-36.62Q190.6-35.69 190.67-34.06 190.75-32.42 190.82-30.27 190.89-28.13 190.99-25.63 191.09-23.14 191.19-20.61 191.28-18.07 191.36-15.58 191.43-13.09 191.5-10.94 191.58-8.79 191.63-7.13 191.67-5.47 191.72-4.59L191.72-4.59Q191.72-4.49 191.7-4.25 191.67-4 191.65-3.66 191.63-3.32 191.6-3 191.58-2.69 191.58-2.54L191.58-2.54Q191.53-2.25 191.53-1.83 191.53-1.42 191.43-1.03 191.33-0.63 191.11-0.32 190.89 0 190.4 0.05L190.4 0.05 189.57-0.98Q189.53-1.03 189.45-2.81 189.38-4.59 189.26-7.45 189.14-10.3 189.04-13.89 188.94-17.48 188.82-21.14 188.7-24.8 188.6-28.17 188.5-31.54 188.45-33.98L188.45-33.98Q188.45-34.18 188.48-34.77 188.5-35.35 188.52-35.96 188.55-36.57 188.57-37.13 188.6-37.7 188.6-37.94ZM226.58-17.58L226.58-17.58Q226.43-17.04 226.12-15.87 225.8-14.7 225.39-13.23 224.97-11.77 224.51-10.16 224.04-8.54 223.6-7.08 223.16-5.62 222.82-4.47 222.48-3.32 222.33-2.83L222.33-2.83Q222.24-2.34 222.04-1.78 221.85-1.22 221.6-0.93 221.36-0.63 221.06-0.78 220.77-0.93 220.48-1.86L220.48-1.86 212.96-35.64Q213.1-35.64 213.45-35.72 213.79-35.79 213.93-35.79L213.93-35.79Q214.91-35.79 215.23-35.38 215.55-34.96 215.79-33.74L215.79-33.74 221.41-8.4 225.17-20.61Q225.36-21.19 225.73-21.39 226.09-21.58 226.58-21.58L226.58-21.58Q226.97-21.19 227.7-20.14 228.44-19.09 229.29-17.7 230.15-16.31 231.07-14.72 232-13.13 232.86-11.72 233.71-10.3 234.39-9.16 235.08-8.01 235.47-7.52L235.47-7.52Q235.61-7.28 235.98-6.86 236.35-6.45 236.79-6.01 237.23-5.57 237.67-5.18 238.1-4.79 238.3-4.69L238.3-4.69Q238.25-6.3 238.15-8.52 238.06-10.74 237.96-13.33 237.86-15.92 237.84-18.73 237.81-21.53 237.93-24.29 238.06-27.05 238.35-29.61 238.64-32.18 239.13-34.33L239.13-34.33Q239.23-34.67 239.4-34.84 239.57-35.01 239.79-35.06 240.01-35.11 240.38-35.08 240.74-35.06 241.18-35.06L241.18-35.06Q241.18-34.52 241.13-33.76 241.08-33.01 240.99-31.62 240.89-30.22 240.79-27.88 240.69-25.54 240.57-21.83 240.45-18.12 240.35-12.77 240.25-7.42 240.16 0L240.16 0Q238.06-1.66 236.25-3.71 234.44-5.76 232.83-8.08 231.22-10.4 229.68-12.82 228.14-15.23 226.58-17.58ZM243.18-4.2L243.18-4.2Q243.18-6.98 244.72-8.25 246.26-9.52 248.75-9.52L248.75-9.52Q249.72-9.52 250.58-9.47 251.43-9.42 252.21-9.23 252.99-9.03 253.75-8.64 254.51-8.25 255.34-7.52L255.34-7.52Q255.34-7.67 255.36-8.13 255.39-8.59 255.39-9.13 255.39-9.67 255.39-10.13 255.39-10.6 255.39-10.79L255.39-10.79Q255.34-11.67 255.34-13.06 255.34-14.45 255.12-15.92 254.9-17.38 254.24-18.7 253.58-20.02 252.12-20.7L252.12-20.7Q251.09-20.7 250.21-20.36 249.33-20.02 248.45-19.63 247.57-19.24 246.7-18.92 245.82-18.6 244.79-18.6L244.79-18.6Q244.79-19.82 245.55-20.63 246.31-21.44 247.38-21.88 248.45-22.31 249.63-22.46 250.8-22.61 251.68-22.61L251.68-22.61Q252.56-22.46 253.31-22.27 254.07-22.07 254.73-21.48 255.39-20.9 255.95-19.7 256.51-18.51 256.93-16.36 257.34-14.21 257.66-10.91 257.98-7.62 258.17-2.83L258.17-2.83Q258.27-2.2 257.76-1.73 257.24-1.27 256.36-0.95 255.49-0.63 254.39-0.42 253.29-0.2 252.16-0.1 251.04 0 250.02 0.05 248.99 0.1 248.31 0.1L248.31 0.1Q247.43 0.1 246.53-0.2 245.62-0.49 244.86-1.05 244.11-1.61 243.64-2.42 243.18-3.22 243.18-4.2ZM249.53-7.62L249.53-7.62Q247.09-6.93 246.11-5.98 245.13-5.03 245.26-4.15 245.38-3.27 246.4-2.56 247.43-1.86 248.89-1.64 250.36-1.42 252.07-1.88 253.78-2.34 255.34-3.71L255.34-3.71Q254.75-5.13 254.17-5.88 253.58-6.64 252.9-7.03 252.21-7.42 251.38-7.52 250.55-7.62 249.53-7.62ZM271.79 20.17L269.59 20.02Q269.59 17.58 270.03 14.99 270.47 12.4 270.94 9.81 271.4 7.23 271.72 4.64 272.04 2.05 271.79-0.44L271.79-0.44 259.63-21.04Q260.71-22.02 261.34-22.14 261.98-22.27 262.07-22.17L262.07-22.17Q262.42-21.68 263.22-20.36 264.03-19.04 265.08-17.29 266.13-15.53 267.3-13.57 268.47-11.62 269.52-9.86 270.57-8.11 271.33-6.74 272.08-5.37 272.38-4.83L272.38-4.83 274.62-22.95 277.06-21.73 271.79 20.17Z","opacity","1","transform","matrix(1,0,0,1,0,0)","fill","var(--mainWhiteColor)","data-fill-palette-color","primary","id","text-0",1,"wordmark-text-0"],["transform","matrix(1,0,0,1,97.29977228662983,0)"],["viewBox","0 0 200.92045542674032 200.92045542674032","height","200.92045542674032","width","200.92045542674032"],["id","icon-0"],["d","M0 100.46c0-55.483 44.978-100.46 100.46-100.46 55.483 0 100.46 44.978 100.46 100.46 0 55.483-44.978 100.46-100.46 100.46-55.483 0-100.46-44.978-100.46-100.46zM100.46 193.437c51.35 0 92.977-41.627 92.977-92.977 0-51.35-41.627-92.977-92.977-92.977-51.35 0-92.977 41.627-92.977 92.977 0 51.35 41.627 92.977 92.977 92.977z","data-fill-palette-color","accent","fill","var(--mainWhiteColor)","stroke","transparent"],["rx","99.45562543623646","ry","99.45562543623646","cx","100.46022771337016","cy","100.46022771337016","fill","var(--mainWhiteColor)","stroke","transparent","stroke-width","0","fill-opacity","1","data-fill-palette-color","accent"],["transform","matrix(1,0,0,1,43.57436241056036,43.35758026693677)"],["viewBox","0 0 113.7717306056196 114.20529489286677","height","114.20529489286677","width","113.7717306056196"],["xmlns","http://www.w3.org/2000/svg","data-name","Layer 1","viewBox","1.190000057220459 1.002901315689087 97.62506866455078 97.99710083007812","x","0","y","0","height","114.20529489286677","width","113.7717306056196","data-fill-palette-color","quaternary","id","b-0",1,"icon-b-0"],["d","M79.28 26.63a0.3 0.3 0 0 0 0-0.07 0.28 0.28 0 0 0-0.48-0.19l-7 7a20.24 20.24 0 0 0-6 13v1.87a37.5 37.5 0 0 1 1.67 5.15H54.79a32.9 32.9 0 0 0-5.43-15.13 26.9 26.9 0 0 1-7.74 5.77 22.2 22.2 0 0 1-6.34 2.06c-9.9 1.51-22.3-5-28.35-41.61a1.86 1.86 0 0 1 1.55-2.05c47.44-6.69 50.2 11.7 47.85 22.85a51.5 51.5 0 0 0-19.69-6.14h-0.11a0.43 0.43 0 0 0-0.18 0.76l11.58 8.5 5.84 4.31a37.3 37.3 0 0 1 6.08 5.85 24.8 24.8 0 0 1 5-6.15 17.7 17.7 0 0 1-2.54-5 14.8 14.8 0 0 1-0.65-4.41c0-6.65 5.53-14.14 30.18-14.44a1.23 1.23 0 0 1 1.24 1.23c-0.38 31.82-12.74 31.78-19.82 29.12a34.2 34.2 0 0 0 6.02-12.28M28.65 93h34.63a16.16 16.16 0 0 0 12.18-5.54l21.68-24.79a6.79 6.79 0 0 0-0.79-9.7 6.55 6.55 0 0 0-4.2-1.49 7.24 7.24 0 0 0-5.38 2.43l-10.2 11.35v0.16a11.85 11.85 0 0 1-11.89 11.26H52.21a2.54 2.54 0 1 1 0-5.08h12.47a6.72 6.72 0 0 0 6.81-6.34A6.54 6.54 0 0 0 65 58.52H44.19l-3.37-1.18a23.42 23.42 0 0 0-24.26 5.49L1.19 78.1 22.64 99Z","fill","var(--textColor)","data-fill-palette-color","quaternary"],["width","302.6252517497624","height","247.2","fill","none","stroke","none","visibility","hidden"],[1,"main-long"],[1,"wrapper-list"],[1,"recipe-list"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"recipe-item"],[1,"recipe-image"],[3,"src","alt"],[1,"recipe-title"]],template:function(d,m){if(1&d&&(h.YNc(0,tt,41,0,"div",0),h.YNc(1,It,8,1,"ng-template",null,1,h.W1O)),2&d){const T=h.MAs(2);h.Q6J("ngIf",!m.result)("ngIfElse",T)}},dependencies:[le.sg,le.O5,ce.rH],styles:[".wrapper-list[_ngcontent-%COMP%]{margin:-50px auto 50px;max-width:1200px;background-color:var(--backgroundColor);box-shadow:0 1px 3px #0000004d;padding:32px}.title-wrapper[_ngcontent-%COMP%]{margin-left:10px}.recipe-list[_ngcontent-%COMP%]{position:relative;display:grid;grid-template-columns:repeat(4,1fr);row-gap:20px;margin-bottom:100px}.recipe-item[_ngcontent-%COMP%]{margin:5px;position:relative}.recipe-image[_ngcontent-%COMP%]{padding:5px;position:relative;transition:transform 1s ease-in-out}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;width:100%;object-fit:fill}.recipe-item[_ngcontent-%COMP%]:hover   .recipe-image[_ngcontent-%COMP%]{transform:translateY(12%)}@media only screen and (max-width: 460px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 20px 50px;padding:16px}.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 461px) and (max-width: 767px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 768px) and (max-width: 1023px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);column-gap:10px;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}@media (min-width: 1024px) and (max-width: 1440px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);column-gap:10px;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}"]})}return l})();const Un=(l,f)=>(0,h.f3M)(Oe.K).userData$.pipe((0,we.w)(d=>(0,fe.of)(!d)),(0,de.U)(d=>!!d||(window.alert("You are already logged in. Please log out to access this functionality."),!1))),K=[{path:"",pathMatch:"full",component:(()=>{class l{static#e=this.\u0275fac=function(d){return new(d||l)};static#t=this.\u0275cmp=h.Xpm({type:l,selectors:[["app-carousel"]],decls:24,vars:0,consts:[["id","carouselExampleAutoplaying","data-bs-ride","carousel",1,"carousel","slide"],[1,"overlay"],[1,"info"],[1,"carousel-title"],[1,"subtitle"],["routerLink","/recipes-list",1,"infoBtn"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","https://www.aveeno.com/sites/aveeno_us_2/files/healingherbswithmortaran_687349.jpg","alt","...",1,"carousel-img","d-block","w-100"],[1,"carousel-item"],["src","https://imgix-prod.sgs.com/-/media/sgscorp/images/connectivity-and-products/aromatics-pexels.cdn.en-MU.1.jpg","alt","...",1,"carousel-img","d-block","w-100"],["src","https://images.pexels.com/photos/1793035/pexels-photo-1793035.jpeg","alt","...",1,"carousel-img","d-block","w-100"],["type","button","data-bs-target","#carouselExampleAutoplaying","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleAutoplaying","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(d,m){1&d&&(h.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),h._uU(4,"Welcome to our Healing Herbal Recipe Community!"),h.qZA(),h.TgZ(5,"div",4),h._uU(6," Explore a wealth of new herbal recipes designed for healing right here. Upon registration, you'll gain access to not only adding your favorite healing recipes but also rating and commenting on the ones that resonate with you. Join us in nurturing wellness through the power of herbal remedies! "),h.qZA(),h.TgZ(7,"a",5),h._uU(8,"READ MORE"),h.qZA()()(),h.TgZ(9,"div",6)(10,"div",7),h._UZ(11,"img",8),h.qZA(),h.TgZ(12,"div",9),h._UZ(13,"img",10),h.qZA(),h.TgZ(14,"div",9),h._UZ(15,"img",11),h.qZA()(),h.TgZ(16,"button",12),h._UZ(17,"span",13),h.TgZ(18,"span",14),h._uU(19,"Previous"),h.qZA()(),h.TgZ(20,"button",15),h._UZ(21,"span",16),h.TgZ(22,"span",14),h._uU(23,"Next"),h.qZA()()())},dependencies:[ce.rH],styles:[".carousel[_ngcontent-%COMP%]{max-height:93vh;overflow:hidden}.carousel-img[_ngcontent-%COMP%]{height:100vh;object-fit:cover}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{z-index:9}.overlay[_ngcontent-%COMP%]{position:absolute;inset:0 50% 0 0;background-color:#a7575ee6;background-color:var(--mainRGBAColor);z-index:9}.info[_ngcontent-%COMP%]{position:absolute;left:47%;right:10%;top:40%;transform:translate(2%,-27%);color:var(--mainWhiteColor);text-align:left}.carousel-title[_ngcontent-%COMP%]{font-size:32px;padding-bottom:20px;font-weight:900;line-height:35px;color:var(--backgroundColor);text-align:left;box-shadow:unset}.subtitle[_ngcontent-%COMP%]{font-style:italic;color:var(--backgroundColor)}.infoBtn[_ngcontent-%COMP%]{background-color:var(--backgroundColor);color:var(--textColor);padding:13px 35px;font-size:14px;margin-top:40px;display:inline-block;font-weight:700;font-family:Roboto,sans-serif;border:1px solid transparent}.infoBtn[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:transparent;border:1px solid var(--backgroundColor);color:var(--mainWhiteColor)}@media (max-width: 460px){.overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#a7575e99;background-color:var(--mainRGBAColor);z-index:9}.info[_ngcontent-%COMP%]{position:absolute;left:10%;right:10%;top:30%;color:var(--mainWhiteColor);text-align:center}.infoBtn[_ngcontent-%COMP%]{margin-top:10px}.carousel-title[_ngcontent-%COMP%]{font-size:26px;padding-bottom:10px;font-weight:900;text-align:center}}@media (min-width: 461px) and (max-width: 767px){.overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#a7575e99;background-color:var(--mainRGBAColor);z-index:9}.info[_ngcontent-%COMP%]{position:absolute;left:10%;right:10%;top:30%;color:var(--mainWhiteColor);text-align:center}.infoBtn[_ngcontent-%COMP%]{margin-top:10px}.carousel-title[_ngcontent-%COMP%]{font-size:26px;padding-bottom:10px;font-weight:900}}@media (min-width: 768px) and (max-width: 1023px){.info[_ngcontent-%COMP%]{position:absolute;left:10%;right:10%;top:30%;color:var(--mainWhiteColor)}}"]})}return l})()},{path:"register",component:je,canActivate:[Un]},{path:"login",component:Vn,canActivate:[Un]},{path:"recipes-list",component:Je},{path:"recipe-search",component:qt},{path:"recipe/:id",component:fi},{path:"dashboard",loadChildren:()=>Q.e(155).then(Q.bind(Q,3155)).then(l=>l.PrivateModule),canActivate:[(l,f)=>{const o=(0,h.f3M)(Oe.K),d=(0,h.f3M)(ce.F0);return o.userData$.pipe((0,we.w)(m=>(0,fe.of)(!!m&&m.isActive)),(0,de.U)(m=>!!m||(alert("Not authorized"),console.log("Not authorized"),d.createUrlTree(["/login"],{queryParams:{returnUrl:f.url}}))))}]}];let V=(()=>{class l{static#e=this.\u0275fac=function(d){return new(d||l)};static#t=this.\u0275mod=h.oAB({type:l});static#n=this.\u0275inj=h.cJS({imports:[ce.Bz.forRoot(K,{useHash:!0}),ce.Bz]})}return l})(),G=(()=>{class l{static#e=this.\u0275fac=function(d){return new(d||l)};static#t=this.\u0275cmp=h.Xpm({type:l,selectors:[["app-footer"]],decls:25,vars:0,consts:[[1,"footer"],[1,"footer-links"],["href","/about"],["href","/contact"],["href","/terms"],["href","/privacy"],[1,"social-icons"],["href","https://www.facebook.com"],[1,"fa-brands","fa-facebook","fa-flip"],["href","https://www.twitter.com"],[1,"fa-brands","fa-x-twitter","fa-flip"],["href","https://www.instagram.com"],[1,"fa-brands","fa-instagram","fa-flip"],[1,"copyright"],[1,"projectInfo"]],template:function(d,m){1&d&&(h.TgZ(0,"footer",0)(1,"div",1)(2,"a",2),h._uU(3,"About Us"),h.qZA(),h._uU(4," | "),h.TgZ(5,"a",3),h._uU(6,"Contact Us"),h.qZA(),h._uU(7," | "),h.TgZ(8,"a",4),h._uU(9,"Terms of Service"),h.qZA(),h._uU(10," | "),h.TgZ(11,"a",5),h._uU(12,"Privacy Policy"),h.qZA()(),h.TgZ(13,"div",6)(14,"a",7),h._UZ(15,"i",8),h.qZA(),h.TgZ(16,"a",9),h._UZ(17,"i",10),h.qZA(),h.TgZ(18,"a",11),h._UZ(19,"i",12),h.qZA()(),h.TgZ(20,"div",13)(21,"div",14),h._uU(22," This project was developed to meet the requirements of the Angular Project Assignment within the 'Angular - February 2024' course at SoftUni. "),h.qZA(),h.TgZ(23,"span"),h._uU(24," \xa9 2024 The Natural Way. All Rights Reserved. "),h.qZA()()())},styles:[".footer[_ngcontent-%COMP%]{background-color:var(--aliceBlueColor);padding:20px;color:#333;font-size:14px;text-align:center}.footer-links[_ngcontent-%COMP%]{padding:20px 0}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#666;text-decoration:none;margin:0 10px}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--mainBlackColor)}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#666;text-decoration:none;margin:0 10px}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#3b5998}.copyright[_ngcontent-%COMP%]{margin-top:20px;font-size:12px;color:#999}.projectInfo[_ngcontent-%COMP%]{margin-bottom:10px}"]})}return l})();var W=Q(5619);class ${}class be{}const Ue="*";function Et(l,f){return{type:7,name:l,definitions:f,options:{}}}function rn(l,f=null){return{type:4,styles:f,timings:l}}function Dn(l,f=null){return{type:2,steps:l,options:f}}function zt(l){return{type:6,styles:l,offset:null}}function xn(l,f,o){return{type:0,name:l,styles:f,options:o}}function Yn(l,f,o=null){return{type:1,expr:l,animation:f,options:o}}class Ao{constructor(f=0,o=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=f+o}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(f=>f()),this._onDoneFns=[])}onStart(f){this._originalOnStartFns.push(f),this._onStartFns.push(f)}onDone(f){this._originalOnDoneFns.push(f),this._onDoneFns.push(f)}onDestroy(f){this._onDestroyFns.push(f)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(f=>f()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(f=>f()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(f){this._position=this.totalTime?f*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(f){const o="start"==f?this._onStartFns:this._onDoneFns;o.forEach(d=>d()),o.length=0}}class Yr{constructor(f){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=f;let o=0,d=0,m=0;const T=this.players.length;0==T?queueMicrotask(()=>this._onFinish()):this.players.forEach(k=>{k.onDone(()=>{++o==T&&this._onFinish()}),k.onDestroy(()=>{++d==T&&this._onDestroy()}),k.onStart(()=>{++m==T&&this._onStart()})}),this.totalTime=this.players.reduce((k,J)=>Math.max(k,J.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(f=>f()),this._onDoneFns=[])}init(){this.players.forEach(f=>f.init())}onStart(f){this._onStartFns.push(f)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(f=>f()),this._onStartFns=[])}onDone(f){this._onDoneFns.push(f)}onDestroy(f){this._onDestroyFns.push(f)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(f=>f.play())}pause(){this.players.forEach(f=>f.pause())}restart(){this.players.forEach(f=>f.restart())}finish(){this._onFinish(),this.players.forEach(f=>f.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(f=>f.destroy()),this._onDestroyFns.forEach(f=>f()),this._onDestroyFns=[])}reset(){this.players.forEach(f=>f.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(f){const o=f*this.totalTime;this.players.forEach(d=>{const m=d.totalTime?Math.min(1,o/d.totalTime):1;d.setPosition(m)})}getPosition(){const f=this.players.reduce((o,d)=>null===o||d.totalTime>o.totalTime?d:o,null);return null!=f?f.getPosition():0}beforeDestroy(){this.players.forEach(f=>{f.beforeDestroy&&f.beforeDestroy()})}triggerCallback(f){const o="start"==f?this._onStartFns:this._onDoneFns;o.forEach(d=>d()),o.length=0}}let fs=(()=>{class l{constructor(o,d){this.el=o,this.renderer=d}ngOnInit(){this.checkWidth()}onResize(){this.checkWidth()}checkWidth(){window.innerWidth<992?(this.renderer.addClass(this.el.nativeElement,"button"),this.renderer.addClass(this.el.nativeElement,"nav-btn"),this.renderer.addClass(this.el.nativeElement,"nav-link"),this.renderer.removeClass(this.el.nativeElement,"navigation")):(this.renderer.removeClass(this.el.nativeElement,"button"),this.renderer.removeClass(this.el.nativeElement,"nav-link"),this.renderer.removeClass(this.el.nativeElement,"nav-btn"),this.renderer.addClass(this.el.nativeElement,"navigation"))}static#e=this.\u0275fac=function(d){return new(d||l)(h.Y36(h.SBq),h.Y36(h.Qsj))};static#t=this.\u0275dir=h.lG2({type:l,selectors:[["","appResponsiveClass",""]],hostBindings:function(d,m){1&d&&h.NdJ("resize",function(){return m.onResize()},!1,h.Jf7)}})}return l})();function ps(l,f){1&l&&(h.TgZ(0,"li",19)(1,"a",20),h._UZ(2,"i",27),h.qZA(),h.TgZ(3,"ul",28)(4,"li")(5,"a",29),h._uU(6,"Register"),h.qZA()(),h.TgZ(7,"li")(8,"a",30),h._uU(9,"Login"),h.qZA()()()())}function tr(l,f){if(1&l){const o=h.EpF();h.TgZ(0,"li",19)(1,"a",20)(2,"span"),h._uU(3),h.qZA()(),h.TgZ(4,"ul",28)(5,"li")(6,"a",31),h._uU(7,"My recipes"),h.qZA()(),h.TgZ(8,"li")(9,"a",32),h._uU(10,"Create recipe"),h.qZA()(),h.TgZ(11,"li")(12,"a",33),h._uU(13,"Favorite recipes"),h.qZA()(),h.TgZ(14,"li")(15,"a",34),h._uU(16,"My comments"),h.qZA()(),h.TgZ(17,"li")(18,"a",35),h._uU(19,"Profile"),h.qZA()(),h.TgZ(20,"li")(21,"a",36),h.NdJ("click",function(){h.CHM(o);const m=h.oxw();return h.KtG(m.logout())}),h._uU(22,"Logout"),h.qZA()()()()}if(2&l){const o=h.oxw();h.xp6(3),h.Oqu(o.getUserDisplayName())}}function zs(l,f){1&l&&(h.TgZ(0,"div",38),h._uU(1," What are you searching for? "),h.qZA())}function ho(l,f){1&l&&(h.TgZ(0,"div",38),h._uU(1," Min length is a 3 char! "),h.qZA())}function No(l,f){if(1&l&&(h.TgZ(0,"div"),h.YNc(1,zs,2,0,"div",37),h.YNc(2,ho,2,0,"div",37),h.qZA()),2&l){const o=h.oxw();let d,m;h.xp6(1),h.Q6J("ngIf",null==(d=o.searchForm.get("search"))||null==d.errors?null:d.errors.required),h.xp6(1),h.Q6J("ngIf",null==(m=o.searchForm.get("search"))||null==m.errors?null:m.errors.minlength)}}let la=(()=>{class l{constructor(o,d,m,T){this.userService=o,this.router=d,this.fb=m,this.elementRef=T,this.state="normal",this.searchForm=this.fb.group({search:[""]}),this.isMenuOpen=!1,this.userDataSubject=new W.X(null),this.userDataSubscription=this.userDataSubject.subscribe(k=>{this.userData=k,console.log(this.userData)})}onMouseOver(){this.state="hovered"}onMouseOut(){this.state="normal"}ngOnInit(){this.userService.userData$.subscribe({next:o=>{o?(this.userDataSubject.next(o),console.log("You have a user:",o)):(this.userDataSubject.next(null),console.log("You have no user."))},error:o=>{console.log(o)}}),this.router.events.subscribe(o=>{if(o instanceof ce.m2){const d=this.elementRef.nativeElement.querySelector("#navbarScroll");d&&d.classList.remove("show")}})}onSubmit(){var o=this;return(0,Ee.Z)(function*(){if(o.searchForm.valid){let d=o.searchForm.value;d&&d.search?(yield o.router.navigate(["/recipe-search"],{queryParams:{search:d.search.trim()}}),o.searchForm.reset()):console.error("Query search value is null or undefined.")}else alert("Try again!")})()}ngOnDestroy(){this.userDataSubscription.unsubscribe()}logout(){var o=this;return(0,Ee.Z)(function*(){yield o.userService.logoutUser()})()}getUserDisplayName(){return this.userData?this.userData.lastName:"Anonymous"}static#e=this.\u0275fac=function(d){return new(d||l)(h.Y36(Oe.K),h.Y36(ce.F0),h.Y36(re.qu),h.Y36(h.SBq))};static#t=this.\u0275cmp=h.Xpm({type:l,selectors:[["app-header"]],decls:34,vars:5,consts:[[1,"navbar","navbar-dark","navbar-expand-lg"],[1,"container-fluid"],[1,"header-wrapper"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarScroll","aria-controls","navbarScroll","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","hamburger",3,"mouseover","mouseout"],[1,"fa-solid","fa-bars","fa-beat-fade"],["href","#",1,"navbar-brand"],["viewBox","0 0 200.92045542674032 200.92045542674032","height","50","width","50",1,"svg-logo"],["d","M0 100.46c0-55.483 44.978-100.46 100.46-100.46 55.483 0 100.46 44.978 100.46 100.46 0 55.483-44.978 100.46-100.46 100.46-55.483 0-100.46-44.978-100.46-100.46zM100.46 193.437c51.35 0 92.977-41.627 92.977-92.977 0-51.35-41.627-92.977-92.977-92.977-51.35 0-92.977 41.627-92.977 92.977 0 51.35 41.627 92.977 92.977 92.977z","data-fill-palette-color","accent","fill","var(--aliceBlueColor)","stroke","transparent"],["rx","99.45562543623646","ry","99.45562543623646","cx","100.46022771337016","cy","100.46022771337016","fill","var(--mainRGBAColor)","stroke","transparent","stroke-width","0","fill-opacity","1","data-fill-palette-color","accent"],["transform","matrix(1,0,0,1,43.57436241056036,43.35758026693677)"],["viewBox","0 0 113.7717306056196 114.20529489286677","height","114.20529489286677","width","113.7717306056196"],["xmlns","http://www.w3.org/2000/svg","data-name","Layer 1","viewBox","1.190000057220459 1.002901315689087 97.62506866455078 97.99710083007812","x","0","y","0","height","114.20529489286677","width","113.7717306056196","data-fill-palette-color","quaternary","id","b-0",1,"icon-b-0"],["d","M79.28 26.63a0.3 0.3 0 0 0 0-0.07 0.28 0.28 0 0 0-0.48-0.19l-7 7a20.24 20.24 0 0 0-6 13v1.87a37.5 37.5 0 0 1 1.67 5.15H54.79a32.9 32.9 0 0 0-5.43-15.13 26.9 26.9 0 0 1-7.74 5.77 22.2 22.2 0 0 1-6.34 2.06c-9.9 1.51-22.3-5-28.35-41.61a1.86 1.86 0 0 1 1.55-2.05c47.44-6.69 50.2 11.7 47.85 22.85a51.5 51.5 0 0 0-19.69-6.14h-0.11a0.43 0.43 0 0 0-0.18 0.76l11.58 8.5 5.84 4.31a37.3 37.3 0 0 1 6.08 5.85 24.8 24.8 0 0 1 5-6.15 17.7 17.7 0 0 1-2.54-5 14.8 14.8 0 0 1-0.65-4.41c0-6.65 5.53-14.14 30.18-14.44a1.23 1.23 0 0 1 1.24 1.23c-0.38 31.82-12.74 31.78-19.82 29.12a34.2 34.2 0 0 0 6.02-12.28M28.65 93h34.63a16.16 16.16 0 0 0 12.18-5.54l21.68-24.79a6.79 6.79 0 0 0-0.79-9.7 6.55 6.55 0 0 0-4.2-1.49 7.24 7.24 0 0 0-5.38 2.43l-10.2 11.35v0.16a11.85 11.85 0 0 1-11.89 11.26H52.21a2.54 2.54 0 1 1 0-5.08h12.47a6.72 6.72 0 0 0 6.81-6.34A6.54 6.54 0 0 0 65 58.52H44.19l-3.37-1.18a23.42 23.42 0 0 0-24.26 5.49L1.19 78.1 22.64 99Z","fill","var(--aliceBlueColor)","data-fill-palette-color","quaternary"],[1,"logoText"],["id","navbarScroll",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","my-2","my-lg-0","navbar-nav-scroll"],[1,"nav-item"],["appResponsiveClass","","routerLink","/recipes-list","href","#","role","button","aria-expanded","false",1,"navigation"],["class","nav-item dropdown",4,"ngIf"],[1,"nav-item","dropdown"],["appResponsiveClass","","href","#","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"dropdown-toggle"],[1,"fa-solid","fa-magnifying-glass"],[1,"dropdown-menu","search"],["role","search",1,"d-flex","w-100",3,"formGroup","ngSubmit"],["type","search","aria-label","Search","formControlName","search","required","","minlength","3",1,"form-control","me-2"],[4,"ngIf"],["type","submit",1,"search","button"],[1,"fa-solid","fa-user"],[1,"dropdown-menu"],["routerLink","/register",1,"dropdown-item"],["routerLink","/login",1,"dropdown-item"],["routerLink","/dashboard/user-recipes","href","#",1,"dropdown-item"],["routerLink","/dashboard/recipe-create",1,"dropdown-item"],["routerLink","/dashboard/user-favorite-recipes","href","#",1,"dropdown-item"],["routerLink","/dashboard/user-comments","href","#",1,"dropdown-item"],["routerLink","/dashboard/user-info",1,"dropdown-item"],[1,"dropdown-item",3,"click"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(d,m){if(1&d&&(h.TgZ(0,"nav",0)(1,"div",1)(2,"div",2)(3,"button",3),h.NdJ("mouseover",function(){return m.onMouseOver()})("mouseout",function(){return m.onMouseOut()}),h.TgZ(4,"span"),h._UZ(5,"i",4),h.qZA()(),h.TgZ(6,"a",5),h.O4$(),h.TgZ(7,"svg",6)(8,"g"),h._UZ(9,"path",7)(10,"ellipse",8),h.qZA(),h.TgZ(11,"g",9)(12,"svg",10)(13,"g")(14,"svg",11),h._UZ(15,"path",12),h.qZA()()()()(),h.kcU(),h.TgZ(16,"span",13),h._uU(17," The Natural Way "),h.qZA()()(),h.TgZ(18,"div",14)(19,"ul",15)(20,"li",16)(21,"a",17),h._uU(22," Recipes "),h.qZA()(),h.YNc(23,ps,10,0,"li",18),h.YNc(24,tr,23,1,"li",18),h.TgZ(25,"li",19)(26,"a",20),h._UZ(27,"i",21),h.qZA(),h.TgZ(28,"ul",22)(29,"form",23),h.NdJ("ngSubmit",function(){return m.onSubmit()}),h._UZ(30,"input",24),h.YNc(31,No,3,2,"div",25),h.TgZ(32,"button",26),h._uU(33,"Search"),h.qZA()()()()()()()()),2&d){let T;h.xp6(3),h.Q6J("@rotate",m.state),h.xp6(20),h.Q6J("ngIf",!m.userData),h.xp6(1),h.Q6J("ngIf",m.userData),h.xp6(5),h.Q6J("formGroup",m.searchForm),h.xp6(2),h.Q6J("ngIf",null==(T=m.searchForm.get("search"))?null:T.touched)}},dependencies:[le.O5,ce.rH,re._Y,re.Fj,re.JJ,re.JL,re.Q7,re.wO,re.sg,re.u,fs],styles:["nav.navbar[_ngcontent-%COMP%]{min-height:7vh;background-color:var(--aliceBlueColor);box-shadow:1px 5px 15px 0 var(--mainRGBAColor)}.container-fluid[_ngcontent-%COMP%]{max-width:1024px}a.navbar-brand[_ngcontent-%COMP%]{display:flex;gap:10px;font-family:Caveat,cursive;font-weight:400;font-size:32px;color:var(--textColor)}.header-wrapper[_ngcontent-%COMP%]{display:flex;gap:20px;align-items:center}.hamburger[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding:4px 2px}.hamburger[_ngcontent-%COMP%]:hover{box-shadow:1px 1px 15px 0 var(--textColor)}button.navbar-toggler[_ngcontent-%COMP%]{background-color:var(--textColor);border:1px solid var(--backgroundColor)}ul.navbar-nav[_ngcontent-%COMP%]{position:relative;display:flex;gap:18px;width:100%;justify-content:flex-end}.navigation[_ngcontent-%COMP%]{color:var(--textColor)}ul.navbar-nav[_ngcontent-%COMP%]   ul.dropdown-menu[_ngcontent-%COMP%]{background-color:var(--backgroundColor);margin-top:18px}a.dropdown-item[_ngcontent-%COMP%]{color:var(--textColor)}.dropdown-item.active[_ngcontent-%COMP%], .dropdown-item[_ngcontent-%COMP%]:hover, .dropdown-item[_ngcontent-%COMP%]:focus{background-color:var(--textColor);color:var(--backgroundColor)}form[_ngcontent-%COMP%]{max-width:unset}.form-control[_ngcontent-%COMP%]{border:1px solid var(--textColor);border-radius:8px;background-color:var(--backgroundColor)}.form-control[_ngcontent-%COMP%]:focus{box-shadow:unset;background-color:var(--mainMagnoliaColor)}@media (max-width: 991px){.container-fluid[_ngcontent-%COMP%]{justify-content:space-evenly}.svg-logo[_ngcontent-%COMP%]{display:none}.navbar-nav.me-auto.my-2.my-lg-0.navbar-nav-scroll[_ngcontent-%COMP%]{background-color:var(--backgroundColor);padding:20px;border-radius:8px}.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu.search[_ngcontent-%COMP%]{border:unset;width:100%}form.d-flex[_ngcontent-%COMP%]{flex-direction:column;gap:15px}}@media (min-width: 992px) and (max-width: 1440px){.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu.search[_ngcontent-%COMP%]{left:unset;right:0;width:900px;padding:10px;margin-top:30px;border:unset}form[_ngcontent-%COMP%]{max-width:unset}.container-fluid[_ngcontent-%COMP%]{max-width:1200px;padding:0 3%;color:var(--textColor)}}@media (min-width: 1441px){.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu.search[_ngcontent-%COMP%]{left:unset;right:0;width:1000px;padding:10px;margin-top:30px;border:unset}form[_ngcontent-%COMP%]{max-width:unset}.container-fluid[_ngcontent-%COMP%]{padding:unset;max-width:1200px;color:var(--textColor)}}"],data:{animation:[Et("rotate",[xn("normal",zt({transform:"rotate(0deg)"})),xn("hovered",zt({transform:"rotate(180deg)"})),Yn("normal => hovered",rn("0.5s ease-in-out")),Yn("hovered => normal",rn("0.5s ease-in-out"))])]}})}return l})();function Rs(l,f){if(1&l){const o=h.EpF();h.TgZ(0,"div",1)(1,"button",2),h.NdJ("click",function(){h.CHM(o);const m=h.oxw();return h.KtG(m.scrollToTop())}),h._UZ(2,"i",3),h.qZA(),h.TgZ(3,"a",4)(4,"div",5)(5,"span",6),h.O4$(),h.TgZ(6,"svg",7),h._UZ(7,"path",8),h.qZA()(),h.kcU(),h.TgZ(8,"span",6),h.O4$(),h.TgZ(9,"svg",9),h._UZ(10,"path",8),h.qZA()()()()()}}let Ws=(()=>{class l{constructor(){this.showScrollButton=!1}onWindowScroll(){this.showScrollButton=window.pageYOffset>300}scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}static#e=this.\u0275fac=function(d){return new(d||l)};static#t=this.\u0275cmp=h.Xpm({type:l,selectors:[["app-scroll-to-top"]],hostBindings:function(d,m){1&d&&h.NdJ("scroll",function(){return m.onWindowScroll()},!1,h.Jf7)},decls:1,vars:1,consts:[["class","buttons",4,"ngIf"],[1,"buttons"],[1,"to-top",3,"click"],[1,"fa-solid","fa-chevron-up","fa-beat-fade"],["href","javascript:history.back()",1,"back-button"],[1,"button-box"],[1,"button-elem"],["viewBox","0 0 46 40","xmlns","http://www.w3.org/2000/svg"],["d","M46 20.038c0-.7-.3-1.5-.8-2.1l-16-17c-1.1-1-3.2-1.4-4.4-.3-1.2 1.1-1.2 3.3 0 4.4l11.3 11.9H3c-1.7 0-3 1.3-3 3s1.3 3 3 3h33.1l-11.3 11.9c-1 1-1.2 3.3 0 4.4 1.2 1.1 3.3.8 4.4-.3l16-17c.5-.5.8-1.1.8-1.9z"],["viewBox","0 0 46 40"]],template:function(d,m){1&d&&h.YNc(0,Rs,11,0,"div",0),2&d&&h.Q6J("ngIf",m.showScrollButton)},dependencies:[le.O5],styles:[".buttons[_ngcontent-%COMP%]{display:flex;gap:10px;position:fixed;bottom:120px;right:10px;flex-direction:column;align-items:center;z-index:10}.to-top[_ngcontent-%COMP%]{background-color:var(--mainRGBAColor);color:var(--backgroundColor);border:3px solid var(--backgroundColor);border-radius:50%;width:60px;height:60px;font-size:16px;cursor:pointer;transition:background-color .3s ease}button[_ngcontent-%COMP%]:hover{color:var(--textColor);background-color:var(--backgroundColor);box-shadow:0 0 15px 0 var(--textColor)}button[_ngcontent-%COMP%]:focus{outline:none}button.ng-hidden[_ngcontent-%COMP%]{display:none}"]})}return l})(),ai=(()=>{class l{constructor(){this.title="The-Natural-Way"}static#e=this.\u0275fac=function(d){return new(d||l)};static#t=this.\u0275cmp=h.Xpm({type:l,selectors:[["app-root"]],decls:4,vars:0,template:function(d,m){1&d&&h._UZ(0,"app-header")(1,"app-scroll-to-top")(2,"router-outlet")(3,"app-footer")},dependencies:[ce.lC,G,la,Ws]})}return l})();var qs=Q(9286),Hi=Q(8726);let Ma=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=h.oAB({type:l}),l.\u0275inj=h.cJS({imports:[[]]}),l})();var Gi=Q(5592),Ko=Q(6232),ci=Q(8645),xi=Q(4829),li=Q(1631),Ps=Q(4266),Ci=Q(4674),Zs=Q(7400);const dc=["addListener","removeListener"],ji=["addEventListener","removeEventListener"],ol=["on","off"];function fr(l,f,o,d){if((0,Ci.m)(o)&&(d=o,o=void 0),d)return fr(l,f,o).pipe((0,Zs.Z)(d));const[m,T]=function Yo(l){return(0,Ci.m)(l.addEventListener)&&(0,Ci.m)(l.removeEventListener)}(l)?ji.map(k=>J=>l[k](f,J,o)):function xa(l){return(0,Ci.m)(l.addListener)&&(0,Ci.m)(l.removeListener)}(l)?dc.map(Rc(l,f)):function hc(l){return(0,Ci.m)(l.on)&&(0,Ci.m)(l.off)}(l)?ol.map(Rc(l,f)):[];if(!m&&(0,Ps.z)(l))return(0,li.z)(k=>fr(k,f,o))((0,xi.Xf)(l));if(!m)throw new TypeError("Invalid event target");return new Gi.y(k=>{const J=(...ue)=>k.next(1<ue.length?ue:ue[0]);return m(J),()=>T(J)})}function Rc(l,f){return o=>d=>l[o](f,d)}var ua=Q(6321),Qo=Q(671);const{isArray:da}=Array;function Oo(l){return 1===l.length&&da(l[0])?l[0]:l}var Ds=Q(8251);Q(3019);var Ri=Q(9940);function qi(...l){const f=(0,Ri.jO)(l),o=Oo(l);return o.length?new Gi.y(d=>{let m=o.map(()=>[]),T=o.map(()=>!1);d.add(()=>{m=T=null});for(let k=0;!d.closed&&k<o.length;k++)(0,xi.Xf)(o[k]).subscribe((0,Ds.x)(d,J=>{if(m[k].push(J),m.every(ue=>ue.length)){const ue=m.map(ge=>ge.shift());d.next(f?f(...ue):ue),m.some((ge,Te)=>!ge.length&&T[Te])&&d.complete()}},()=>{T[k]=!0,!m[k].length&&d.complete()}));return()=>{m=T=null}}):Ko.E}var ri=Q(5211),Mr=Q(9773),Br=Q(2181),as=Q(8180),fo=Q(9397),sr=Q(9360),Bt=Q(2737),Fn=Q(2420);function wr(...l){const f=(0,Ri.jO)(l);return(0,sr.e)((o,d)=>{const m=l.length,T=new Array(m);let k=l.map(()=>!1),J=!1;for(let ue=0;ue<m;ue++)(0,xi.Xf)(l[ue]).subscribe((0,Ds.x)(d,ge=>{T[ue]=ge,!J&&!k[ue]&&(k[ue]=!0,(J=k.every(Bt.y))&&(k=null))},Fn.Z));o.subscribe((0,Ds.x)(d,ue=>{if(J){const ge=[ue,...T];d.next(f?f(...ge):ge)}}))})}Q(975),Q(7921),Q(3997),Math,Math,Math;const Wt=["*"],kl=["dialog"];function wu(l){return"string"==typeof l}function ws(l){return null!=l}function kh(l){return(l||document.body).getBoundingClientRect()}const Zd={animation:!0,transitionTimerDelayMs:5},od=()=>{},{transitionTimerDelayMs:Kd}=Zd,Yd=new Map,Lo=(l,f,o,d)=>{let m=d.context||{};const T=Yd.get(f);if(T)switch(d.runningTransition){case"continue":return Ko.E;case"stop":l.run(()=>T.transition$.complete()),m=Object.assign(T.context,m),Yd.delete(f)}const k=o(f,d.animation,m)||od;if(!d.animation||"none"===window.getComputedStyle(f).transitionProperty)return l.run(()=>k()),(0,fe.of)(void 0).pipe(function Qf(l){return f=>new Gi.y(o=>f.subscribe({next:k=>l.run(()=>o.next(k)),error:k=>l.run(()=>o.error(k)),complete:()=>l.run(()=>o.complete())}))}(l));const J=new ci.x,ue=new ci.x,ge=J.pipe(function Zi(...l){return f=>(0,ri.z)(f,(0,fe.of)(...l))}(!0));Yd.set(f,{transition$:J,complete:()=>{ue.next(),ue.complete()},context:m});const Te=function Eg(l){const{transitionDelay:f,transitionDuration:o}=window.getComputedStyle(l);return 1e3*(parseFloat(f)+parseFloat(o))}(f);return l.runOutsideAngular(()=>{const Xe=fr(f,"transitionend").pipe((0,Mr.R)(ge),(0,Br.h)(({target:ut})=>ut===f));(function Mo(...l){return 1===(l=Oo(l)).length?(0,xi.Xf)(l[0]):new Gi.y(function cr(l){return f=>{let o=[];for(let d=0;o&&!f.closed&&d<l.length;d++)o.push((0,xi.Xf)(l[d]).subscribe((0,Ds.x)(f,m=>{if(o){for(let T=0;T<o.length;T++)T!==d&&o[T].unsubscribe();o=null}f.next(m)})))}}(l))})(function Ks(l=0,f,o=ua.P){let d=-1;return null!=f&&((0,Qo.K)(f)?o=f:d=f),new Gi.y(m=>{let T=function al(l){return l instanceof Date&&!isNaN(l)}(l)?+l-o.now():l;T<0&&(T=0);let k=0;return o.schedule(function(){m.closed||(m.next(k++),0<=d?this.schedule(void 0,d):m.complete())},T)})}(Te+Kd).pipe((0,Mr.R)(ge)),Xe,ue).pipe((0,Mr.R)(ge)).subscribe(()=>{Yd.delete(f),l.run(()=>{k(),J.next(),J.complete()})})}),J.asObservable()};let Fh=(()=>{class l{constructor(){this.animation=Zd.animation}static#e=this.\u0275fac=function(d){return new(d||l)};static#t=this.\u0275prov=h.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})(),Tn=(()=>{class l{static#e=this.\u0275fac=function(d){return new(d||l)};static#t=this.\u0275mod=h.oAB({type:l});static#n=this.\u0275inj=h.cJS({})}return l})(),ld=(()=>{class l{static#e=this.\u0275fac=function(d){return new(d||l)};static#t=this.\u0275mod=h.oAB({type:l});static#n=this.\u0275inj=h.cJS({})}return l})(),Ag=(()=>{class l{static#e=this.\u0275fac=function(d){return new(d||l)};static#t=this.\u0275mod=h.oAB({type:l});static#n=this.\u0275inj=h.cJS({})}return l})(),yv=(()=>{class l{static#e=this.\u0275fac=function(d){return new(d||l)};static#t=this.\u0275mod=h.oAB({type:l});static#n=this.\u0275inj=h.cJS({})}return l})();var Oi=function(l){return l[l.Tab=9]="Tab",l[l.Enter=13]="Enter",l[l.Escape=27]="Escape",l[l.Space=32]="Space",l[l.PageUp=33]="PageUp",l[l.PageDown=34]="PageDown",l[l.End=35]="End",l[l.Home=36]="Home",l[l.ArrowLeft=37]="ArrowLeft",l[l.ArrowUp=38]="ArrowUp",l[l.ArrowRight=39]="ArrowRight",l[l.ArrowDown=40]="ArrowDown",l}(Oi||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const eh=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function xg(l){const f=Array.from(l.querySelectorAll(eh)).filter(o=>-1!==o.tabIndex);return[f[0],f[f.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let pp=(()=>{class l{static#e=this.\u0275fac=function(d){return new(d||l)};static#t=this.\u0275mod=h.oAB({type:l});static#n=this.\u0275inj=h.cJS({})}return l})(),G_=(()=>{class l{static#e=this.\u0275fac=function(d){return new(d||l)};static#t=this.\u0275mod=h.oAB({type:l});static#n=this.\u0275inj=h.cJS({})}return l})();class Zh{constructor(f,o,d){this.nodes=f,this.viewRef=o,this.componentRef=d}}let mb=(()=>{class l{constructor(o,d){this._el=o,this._zone=d}ngOnInit(){this._zone.onStable.asObservable().pipe((0,as.q)(1)).subscribe(()=>{Lo(this._zone,this._el.nativeElement,(o,d)=>{d&&kh(o),o.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Lo(this._zone,this._el.nativeElement,({classList:o})=>o.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(d){return new(d||l)(h.Y36(h.SBq),h.Y36(h.R0b))};static#t=this.\u0275cmp=h.Xpm({type:l,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(d,m){2&d&&(h.Tol("modal-backdrop"+(m.backdropClass?" "+m.backdropClass:"")),h.ekj("show",!m.animation)("fade",m.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[h.jDz],decls:0,vars:0,template:function(d,m){},encapsulation:2})}return l})();class sa{update(f){}close(f){}dismiss(f){}}const Ug=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],Vo=["animation","backdropClass"];class Au{_applyWindowOptions(f,o){Ug.forEach(d=>{ws(o[d])&&(f[d]=o[d])})}_applyBackdropOptions(f,o){Vo.forEach(d=>{ws(o[d])&&(f[d]=o[d])})}update(f){this._applyWindowOptions(this._windowCmptRef.instance,f),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,f)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,Mr.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,Mr.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(f,o,d,m){this._windowCmptRef=f,this._contentRef=o,this._backdropCmptRef=d,this._beforeDismiss=m,this._closed=new ci.x,this._dismissed=new ci.x,this._hidden=new ci.x,f.instance.dismissEvent.subscribe(T=>{this.dismiss(T)}),this.result=new Promise((T,k)=>{this._resolve=T,this._reject=k}),this.result.then(null,()=>{})}close(f){this._windowCmptRef&&(this._closed.next(f),this._resolve(f),this._removeModalElements())}_dismiss(f){this._dismissed.next(f),this._reject(f),this._removeModalElements()}dismiss(f){if(this._windowCmptRef)if(this._beforeDismiss){const o=this._beforeDismiss();!function Ph(l){return l&&l.then}(o)?!1!==o&&this._dismiss(f):o.then(d=>{!1!==d&&this._dismiss(f)},()=>{})}else this._dismiss(f)}_removeModalElements(){const f=this._windowCmptRef.instance.hide(),o=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,fe.of)(void 0);f.subscribe(()=>{const{nativeElement:d}=this._windowCmptRef.location;d.parentNode.removeChild(d),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),o.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:d}=this._backdropCmptRef.location;d.parentNode.removeChild(d),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),qi(f,o).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Kh=function(l){return l[l.BACKDROP_CLICK=0]="BACKDROP_CLICK",l[l.ESC=1]="ESC",l}(Kh||{});let j_=(()=>{class l{constructor(o,d,m){this._document=o,this._elRef=d,this._zone=m,this._closed$=new ci.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new h.vpe,this.shown=new ci.x,this.hidden=new ci.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":wu(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(o){this.dismissEvent.emit(o)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,as.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:o}=this._elRef,d={animation:this.animation,runningTransition:"stop"},k=qi(Lo(this._zone,o,()=>o.classList.remove("show"),d),Lo(this._zone,this._dialogEl.nativeElement,()=>{},d));return k.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),k}_show(){const o={animation:this.animation,runningTransition:"continue"};qi(Lo(this._zone,this._elRef.nativeElement,(T,k)=>{k&&kh(T),T.classList.add("show")},o),Lo(this._zone,this._dialogEl.nativeElement,()=>{},o)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:o}=this._elRef;this._zone.runOutsideAngular(()=>{fr(o,"keydown").pipe((0,Mr.R)(this._closed$),(0,Br.h)(m=>m.which===Oi.Escape)).subscribe(m=>{this.keyboard?requestAnimationFrame(()=>{m.defaultPrevented||this._zone.run(()=>this.dismiss(Kh.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let d=!1;fr(this._dialogEl.nativeElement,"mousedown").pipe((0,Mr.R)(this._closed$),(0,fo.b)(()=>d=!1),(0,we.w)(()=>fr(o,"mouseup").pipe((0,Mr.R)(this._closed$),(0,as.q)(1))),(0,Br.h)(({target:m})=>o===m)).subscribe(()=>{d=!0}),fr(o,"click").pipe((0,Mr.R)(this._closed$)).subscribe(({target:m})=>{o===m&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!d&&this._zone.run(()=>this.dismiss(Kh.BACKDROP_CLICK))),d=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:o}=this._elRef;if(!o.contains(document.activeElement)){const d=o.querySelector("[ngbAutofocus]"),m=xg(o)[0];(d||m||o).focus()}}_restoreFocus(){const o=this._document.body,d=this._elWithFocus;let m;m=d&&d.focus&&o.contains(d)?d:o,this._zone.runOutsideAngular(()=>{setTimeout(()=>m.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Lo(this._zone,this._elRef.nativeElement,({classList:o})=>(o.add("modal-static"),()=>o.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(d){return new(d||l)(h.Y36(le.K0),h.Y36(h.SBq),h.Y36(h.R0b))};static#t=this.\u0275cmp=h.Xpm({type:l,selectors:[["ngb-modal-window"]],viewQuery:function(d,m){if(1&d&&h.Gf(kl,7),2&d){let T;h.iGM(T=h.CRH())&&(m._dialogEl=T.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(d,m){2&d&&(h.uIk("aria-modal",!0)("aria-labelledby",m.ariaLabelledBy)("aria-describedby",m.ariaDescribedBy),h.Tol("modal d-block"+(m.windowClass?" "+m.windowClass:"")),h.ekj("fade",m.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[h.jDz],ngContentSelectors:Wt,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(d,m){1&d&&(h.F$t(),h.TgZ(0,"div",0,1)(2,"div",2),h.Hsn(3),h.qZA()()),2&d&&h.Tol("modal-dialog"+(m.size?" modal-"+m.size:"")+(m.centered?" modal-dialog-centered":"")+m.fullscreenClass+(m.scrollable?" modal-dialog-scrollable":"")+(m.modalDialogClass?" "+m.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return l})(),gp=(()=>{class l{constructor(o){this._document=o}hide(){const o=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),d=this._document.body,m=d.style,{overflow:T,paddingRight:k}=m;if(o>0){const J=parseFloat(window.getComputedStyle(d).paddingRight);m.paddingRight=`${J+o}px`}return m.overflow="hidden",()=>{o>0&&(m.paddingRight=k),m.overflow=T}}static#e=this.\u0275fac=function(d){return new(d||l)(h.LFG(le.K0))};static#t=this.\u0275prov=h.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})(),Vv=(()=>{class l{constructor(o,d,m,T,k,J,ue){this._applicationRef=o,this._injector=d,this._environmentInjector=m,this._document=T,this._scrollBar=k,this._rendererFactory=J,this._ngZone=ue,this._activeWindowCmptHasChanged=new ci.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new h.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const ge=this._windowCmpts[this._windowCmpts.length-1];((l,f,o,d=!1)=>{l.runOutsideAngular(()=>{const m=fr(f,"focusin").pipe((0,Mr.R)(o),(0,de.U)(T=>T.target));fr(f,"keydown").pipe((0,Mr.R)(o),(0,Br.h)(T=>T.which===Oi.Tab),wr(m)).subscribe(([T,k])=>{const[J,ue]=xg(f);(k===J||k===f)&&T.shiftKey&&(ue.focus(),T.preventDefault()),k===ue&&!T.shiftKey&&(J.focus(),T.preventDefault())}),d&&fr(f,"click").pipe((0,Mr.R)(o),wr(m),(0,de.U)(T=>T[1])).subscribe(T=>T.focus())})})(this._ngZone,ge.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(ge.location.nativeElement)}})}_restoreScrollBar(){const o=this._scrollBarRestoreFn;o&&(this._scrollBarRestoreFn=null,o())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(o,d,m){const T=m.container instanceof HTMLElement?m.container:ws(m.container)?this._document.querySelector(m.container):this._document.body,k=this._rendererFactory.createRenderer(null,null);if(!T)throw new Error(`The specified modal container "${m.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const J=new sa,ue=(o=m.injector||o).get(h.lqb,null)||this._environmentInjector,ge=this._getContentRef(o,ue,d,J,m);let Te=!1!==m.backdrop?this._attachBackdrop(T):void 0,Xe=this._attachWindowComponent(T,ge.nodes),ct=new Au(Xe,ge,Te,m.beforeDismiss);return this._registerModalRef(ct),this._registerWindowCmpt(Xe),ct.hidden.pipe((0,as.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(k.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),J.close=ut=>{ct.close(ut)},J.dismiss=ut=>{ct.dismiss(ut)},J.update=ut=>{ct.update(ut)},ct.update(m),1===this._modalRefs.length&&k.addClass(this._document.body,"modal-open"),Te&&Te.instance&&Te.changeDetectorRef.detectChanges(),Xe.changeDetectorRef.detectChanges(),ct}get activeInstances(){return this._activeInstances}dismissAll(o){this._modalRefs.forEach(d=>d.dismiss(o))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(o){let d=(0,h.LMc)(mb,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(d.hostView),o.appendChild(d.location.nativeElement),d}_attachWindowComponent(o,d){let m=(0,h.LMc)(j_,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:d});return this._applicationRef.attachView(m.hostView),o.appendChild(m.location.nativeElement),m}_getContentRef(o,d,m,T,k){return m?m instanceof h.Rgc?this._createFromTemplateRef(m,T):wu(m)?this._createFromString(m):this._createFromComponent(o,d,m,T,k):new Zh([])}_createFromTemplateRef(o,d){const T=o.createEmbeddedView({$implicit:d,close(k){d.close(k)},dismiss(k){d.dismiss(k)}});return this._applicationRef.attachView(T),new Zh([T.rootNodes],T)}_createFromString(o){const d=this._document.createTextNode(`${o}`);return new Zh([[d]])}_createFromComponent(o,d,m,T,k){const J=h.zs3.create({providers:[{provide:sa,useValue:T}],parent:o}),ue=(0,h.LMc)(m,{environmentInjector:d,elementInjector:J}),ge=ue.location.nativeElement;return k.scrollable&&ge.classList.add("component-host-scrollable"),this._applicationRef.attachView(ue.hostView),new Zh([[ge]],ue.hostView,ue)}_setAriaHidden(o){const d=o.parentElement;d&&o!==this._document.body&&(Array.from(d.children).forEach(m=>{m!==o&&"SCRIPT"!==m.nodeName&&(this._ariaHiddenValues.set(m,m.getAttribute("aria-hidden")),m.setAttribute("aria-hidden","true"))}),this._setAriaHidden(d))}_revertAriaHidden(){this._ariaHiddenValues.forEach((o,d)=>{o?d.setAttribute("aria-hidden",o):d.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(o){const d=()=>{const m=this._modalRefs.indexOf(o);m>-1&&(this._modalRefs.splice(m,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(o),this._activeInstances.emit(this._modalRefs),o.result.then(d,d)}_registerWindowCmpt(o){this._windowCmpts.push(o),this._activeWindowCmptHasChanged.next(),o.onDestroy(()=>{const d=this._windowCmpts.indexOf(o);d>-1&&(this._windowCmpts.splice(d,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(d){return new(d||l)(h.LFG(h.z2F),h.LFG(h.zs3),h.LFG(h.lqb),h.LFG(le.K0),h.LFG(gp),h.LFG(h.FYo),h.LFG(h.R0b))};static#t=this.\u0275prov=h.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})(),Ms=(()=>{class l{constructor(o){this._ngbConfig=o,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(o){this._animation=o}static#e=this.\u0275fac=function(d){return new(d||l)(h.LFG(Fh))};static#t=this.\u0275prov=h.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})(),_b=(()=>{class l{constructor(o,d,m){this._injector=o,this._modalStack=d,this._config=m}open(o,d={}){const m={...this._config,animation:this._config.animation,...d};return this._modalStack.open(this._injector,o,m)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(o){this._modalStack.dismissAll(o)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(d){return new(d||l)(h.LFG(h.zs3),h.LFG(Vv),h.LFG(Ms))};static#t=this.\u0275prov=h.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})(),Yh=(()=>{class l{static#e=this.\u0275fac=function(d){return new(d||l)};static#t=this.\u0275mod=h.oAB({type:l});static#n=this.\u0275inj=h.cJS({providers:[_b]})}return l})(),jg=(()=>{class l{static#e=this.\u0275fac=function(d){return new(d||l)};static#t=this.\u0275mod=h.oAB({type:l});static#n=this.\u0275inj=h.cJS({})}return l})(),K_=(()=>{class l{static#e=this.\u0275fac=function(d){return new(d||l)};static#t=this.\u0275mod=h.oAB({type:l});static#n=this.\u0275inj=h.cJS({})}return l})(),bp=(()=>{class l{static#e=this.\u0275fac=function(d){return new(d||l)};static#t=this.\u0275mod=h.oAB({type:l});static#n=this.\u0275inj=h.cJS({})}return l})(),qg=(()=>{class l{static#e=this.\u0275fac=function(d){return new(d||l)};static#t=this.\u0275mod=h.oAB({type:l});static#n=this.\u0275inj=h.cJS({})}return l})(),Q_=(()=>{class l{static#e=this.\u0275fac=function(d){return new(d||l)};static#t=this.\u0275mod=h.oAB({type:l});static#n=this.\u0275inj=h.cJS({})}return l})(),Tb=(()=>{class l{static#e=this.\u0275fac=function(d){return new(d||l)};static#t=this.\u0275mod=h.oAB({type:l});static#n=this.\u0275inj=h.cJS({})}return l})(),Mu=(()=>{class l{static#e=this.\u0275fac=function(d){return new(d||l)};static#t=this.\u0275mod=h.oAB({type:l});static#n=this.\u0275inj=h.cJS({})}return l})(),oh=(()=>{class l{static#e=this.\u0275fac=function(d){return new(d||l)};static#t=this.\u0275mod=h.oAB({type:l});static#n=this.\u0275inj=h.cJS({})}return l})(),xu=(()=>{class l{static#e=this.\u0275fac=function(d){return new(d||l)};static#t=this.\u0275mod=h.oAB({type:l});static#n=this.\u0275inj=h.cJS({})}return l})();new h.OlP("live announcer delay",{providedIn:"root",factory:function Xg(){return 100}});let Ip=(()=>{class l{static#e=this.\u0275fac=function(d){return new(d||l)};static#t=this.\u0275mod=h.oAB({type:l});static#n=this.\u0275inj=h.cJS({})}return l})(),nm=(()=>{class l{static#e=this.\u0275fac=function(d){return new(d||l)};static#t=this.\u0275mod=h.oAB({type:l});static#n=this.\u0275inj=h.cJS({})}return l})();const pd=[Tn,ld,Ag,yv,pp,G_,Yh,jg,nm,K_,bp,qg,Q_,Tb,Mu,oh,xu,Ip];let gd=(()=>{class l{static#e=this.\u0275fac=function(d){return new(d||l)};static#t=this.\u0275mod=h.oAB({type:l});static#n=this.\u0275inj=h.cJS({imports:[pd,Tn,ld,Ag,yv,pp,G_,Yh,jg,nm,K_,bp,qg,Q_,Tb,Mu,oh,xu,Ip]})}return l})();var Ep=Q(2772);function Yv(l){return new h.vHH(3e3,!1)}function Pu(l){switch(l.length){case 0:return new Ao;case 1:return l[0];default:return new Yr(l)}}function Ap(l,f,o=new Map,d=new Map){const m=[],T=[];let k=-1,J=null;if(f.forEach(ue=>{const ge=ue.get("offset"),Te=ge==k,Xe=Te&&J||new Map;ue.forEach((ct,ut)=>{let Mt=ut,Ut=ct;if("offset"!==ut)switch(Mt=l.normalizePropertyName(Mt,m),Ut){case"!":Ut=o.get(ut);break;case Ue:Ut=d.get(ut);break;default:Ut=l.normalizeStyleValue(ut,Mt,Ut,m)}Xe.set(Mt,Ut)}),Te||T.push(Xe),J=Xe,k=ge}),m.length)throw function Ti(l){return new h.vHH(3502,!1)}();return T}function ku(l,f,o,d){switch(f){case"start":l.onStart(()=>d(o&&dm(o,"start",l)));break;case"done":l.onDone(()=>d(o&&dm(o,"done",l)));break;case"destroy":l.onDestroy(()=>d(o&&dm(o,"destroy",l)))}}function dm(l,f,o){const T=dy(l.element,l.triggerName,l.fromState,l.toState,f||l.phaseName,o.totalTime??l.totalTime,!!o.disabled),k=l._data;return null!=k&&(T._data=k),T}function dy(l,f,o,d,m="",T=0,k){return{element:l,triggerName:f,fromState:o,toState:d,phaseName:m,totalTime:T,disabled:!!k}}function za(l,f,o){let d=l.get(f);return d||l.set(f,d=o),d}function hy(l){const f=l.indexOf(":");return[l.substring(1,f),l.slice(f+1)]}const t0=(()=>typeof document>"u"?null:document.documentElement)();function Np(l){const f=l.parentNode||l.host||null;return f===t0?null:f}let Zl=null,md=!1;function n0(l,f){for(;f;){if(f===l)return!0;f=Np(f)}return!1}function py(l,f,o){if(o)return Array.from(l.querySelectorAll(f));const d=l.querySelector(f);return d?[d]:[]}let _d=(()=>{class l{validateStyleProperty(o){return function Kl(l){Zl||(Zl=function xb(){return typeof document<"u"?document.body:null}()||{},md=!!Zl.style&&"WebkitAppearance"in Zl.style);let f=!0;return Zl.style&&!function fy(l){return"ebkit"==l.substring(1,6)}(l)&&(f=l in Zl.style,!f&&md&&(f="Webkit"+l.charAt(0).toUpperCase()+l.slice(1)in Zl.style)),f}(o)}matchesElement(o,d){return!1}containsElement(o,d){return n0(o,d)}getParentElement(o){return Np(o)}query(o,d,m){return py(o,d,m)}computeStyle(o,d,m){return m||""}animate(o,d,m,T,k,J=[],ue){return new Ao(m,T)}static#e=this.\u0275fac=function(d){return new(d||l)};static#t=this.\u0275prov=h.Yz7({token:l,factory:l.\u0275fac})}return l})(),Yl=(()=>{class l{static#e=this.NOOP=new _d}return l})();const uf=1e3,lh="ng-enter",pm="ng-leave",rs="ng-trigger",Mp=".ng-trigger",gy="ng-animating",r0=".ng-animating";function Fu(l){if("number"==typeof l)return l;const f=l.match(/^(-?[\.\d]+)(m?s)/);return!f||f.length<2?0:my(parseFloat(f[1]),f[2])}function my(l,f){return"s"===f?l*uf:l}function gm(l,f,o){return l.hasOwnProperty("duration")?l:function _y(l,f,o){let m,T=0,k="";if("string"==typeof l){const J=l.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===J)return f.push(Yv()),{duration:0,delay:0,easing:""};m=my(parseFloat(J[1]),J[2]);const ue=J[3];null!=ue&&(T=my(parseFloat(ue),J[4]));const ge=J[5];ge&&(k=ge)}else m=l;if(!o){let J=!1,ue=f.length;m<0&&(f.push(function oy(){return new h.vHH(3100,!1)}()),J=!0),T<0&&(f.push(function rm(){return new h.vHH(3101,!1)}()),J=!0),J&&f.splice(ue,0,Yv())}return{duration:m,delay:T,easing:k}}(l,f,o)}function Lu(l,f={}){return Object.keys(l).forEach(o=>{f[o]=l[o]}),f}function s0(l){const f=new Map;return Object.keys(l).forEach(o=>{f.set(o,l[o])}),f}function Bu(l,f=new Map,o){if(o)for(let[d,m]of o)f.set(d,m);for(let[d,m]of l)f.set(d,m);return f}function Tl(l,f,o){f.forEach((d,m)=>{const T=uh(m);o&&!o.has(m)&&o.set(m,l.style[T]),l.style[T]=d})}function Ql(l,f){f.forEach((o,d)=>{const m=uh(d);l.style[m]=""})}function Jl(l){return Array.isArray(l)?1==l.length?l[0]:Dn(l):l}const hf=new RegExp("{{\\s*(.+?)\\s*}}","g");function ff(l){let f=[];if("string"==typeof l){let o;for(;o=hf.exec(l);)f.push(o[1]);hf.lastIndex=0}return f}function El(l,f,o){const d=l.toString(),m=d.replace(hf,(T,k)=>{let J=f[k];return null==J&&(o.push(function ay(l){return new h.vHH(3003,!1)}()),J=""),J.toString()});return m==d?l:m}function yd(l){const f=[];let o=l.next();for(;!o.done;)f.push(o.value),o=l.next();return f}const Rb=/-+([a-z0-9])/g;function uh(l){return l.replace(Rb,(...f)=>f[1].toUpperCase())}function wa(l,f,o){switch(f.type){case 7:return l.visitTrigger(f,o);case 0:return l.visitState(f,o);case 1:return l.visitTransition(f,o);case 2:return l.visitSequence(f,o);case 3:return l.visitGroup(f,o);case 4:return l.visitAnimate(f,o);case 5:return l.visitKeyframes(f,o);case 6:return l.visitStyle(f,o);case 8:return l.visitReference(f,o);case 9:return l.visitAnimateChild(f,o);case 10:return l.visitAnimateRef(f,o);case 11:return l.visitQuery(f,o);case 12:return l.visitStagger(f,o);default:throw function sm(l){return new h.vHH(3004,!1)}()}}function gf(l,f){return window.getComputedStyle(l)[f]}const Rp="*";function by(l,f){const o=[];return"string"==typeof l?l.split(/\s*,\s*/).forEach(d=>function a0(l,f,o){if(":"==l[0]){const ue=function ym(l,f){switch(l){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(o,d)=>parseFloat(d)>parseFloat(o);case":decrement":return(o,d)=>parseFloat(d)<parseFloat(o);default:return f.push(function Wl(l){return new h.vHH(3016,!1)}()),"* => *"}}(l,o);if("function"==typeof ue)return void f.push(ue);l=ue}const d=l.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==d||d.length<4)return o.push(function oa(l){return new h.vHH(3015,!1)}()),f;const m=d[1],T=d[2],k=d[3];f.push(vm(m,k));"<"==T[0]&&!(m==Rp&&k==Rp)&&f.push(vm(k,m))}(d,o,f)):o.push(l),o}const Ia=new Set(["true","1"]),Pp=new Set(["false","0"]);function vm(l,f){const o=Ia.has(l)||Pp.has(l),d=Ia.has(f)||Pp.has(f);return(m,T)=>{let k=l==Rp||l==m,J=f==Rp||f==T;return!k&&o&&"boolean"==typeof m&&(k=m?Ia.has(l):Pp.has(l)),!J&&d&&"boolean"==typeof T&&(J=T?Ia.has(f):Pp.has(f)),k&&J}}const kb=new RegExp("s*:selfs*,?","g");function Dc(l,f,o,d){return new Ei(l).build(f,o,d)}class Ei{constructor(f){this._driver=f}build(f,o,d){const m=new Yc(o);return this._resetContextStyleTimingState(m),wa(this,Jl(f),m)}_resetContextStyleTimingState(f){f.currentQuerySelector="",f.collectedStyles=new Map,f.collectedStyles.set("",new Map),f.currentTime=0}visitTrigger(f,o){let d=o.queryCount=0,m=o.depCount=0;const T=[],k=[];return"@"==f.name.charAt(0)&&o.errors.push(function om(){return new h.vHH(3006,!1)}()),f.definitions.forEach(J=>{if(this._resetContextStyleTimingState(o),0==J.type){const ue=J,ge=ue.name;ge.toString().split(/\s*,\s*/).forEach(Te=>{ue.name=Te,T.push(this.visitState(ue,o))}),ue.name=ge}else if(1==J.type){const ue=this.visitTransition(J,o);d+=ue.queryCount,m+=ue.depCount,k.push(ue)}else o.errors.push(function cf(){return new h.vHH(3007,!1)}())}),{type:7,name:f.name,states:T,transitions:k,queryCount:d,depCount:m,options:null}}visitState(f,o){const d=this.visitStyle(f.styles,o),m=f.options&&f.options.params||null;if(d.containsDynamicStyles){const T=new Set,k=m||{};d.styles.forEach(J=>{J instanceof Map&&J.forEach(ue=>{ff(ue).forEach(ge=>{k.hasOwnProperty(ge)||T.add(ge)})})}),T.size&&(yd(T.values()),o.errors.push(function Qv(l,f){return new h.vHH(3008,!1)}()))}return{type:0,name:f.name,style:d,options:m?{params:m}:null}}visitTransition(f,o){o.queryCount=0,o.depCount=0;const d=wa(this,Jl(f.animation),o);return{type:1,matchers:by(f.expr,o.errors),animation:d,queryCount:o.queryCount,depCount:o.depCount,options:Qc(f.options)}}visitSequence(f,o){return{type:2,steps:f.steps.map(d=>wa(this,d,o)),options:Qc(f.options)}}visitGroup(f,o){const d=o.currentTime;let m=0;const T=f.steps.map(k=>{o.currentTime=d;const J=wa(this,k,o);return m=Math.max(m,o.currentTime),J});return o.currentTime=m,{type:3,steps:T,options:Qc(f.options)}}visitAnimate(f,o){const d=function Iy(l,f){if(l.hasOwnProperty("duration"))return l;if("number"==typeof l)return kp(gm(l,f).duration,0,"");const o=l;if(o.split(/\s+/).some(T=>"{"==T.charAt(0)&&"{"==T.charAt(1))){const T=kp(0,0,"");return T.dynamic=!0,T.strValue=o,T}const m=gm(o,f);return kp(m.duration,m.delay,m.easing)}(f.timings,o.errors);o.currentAnimateTimings=d;let m,T=f.styles?f.styles:zt({});if(5==T.type)m=this.visitKeyframes(T,o);else{let k=f.styles,J=!1;if(!k){J=!0;const ge={};d.easing&&(ge.easing=d.easing),k=zt(ge)}o.currentTime+=d.duration+d.delay;const ue=this.visitStyle(k,o);ue.isEmptyStep=J,m=ue}return o.currentAnimateTimings=null,{type:4,timings:d,style:m,options:null}}visitStyle(f,o){const d=this._makeStyleAst(f,o);return this._validateStyleAst(d,o),d}_makeStyleAst(f,o){const d=[],m=Array.isArray(f.styles)?f.styles:[f.styles];for(let J of m)"string"==typeof J?J===Ue?d.push(J):o.errors.push(new h.vHH(3002,!1)):d.push(s0(J));let T=!1,k=null;return d.forEach(J=>{if(J instanceof Map&&(J.has("easing")&&(k=J.get("easing"),J.delete("easing")),!T))for(let ue of J.values())if(ue.toString().indexOf("{{")>=0){T=!0;break}}),{type:6,styles:d,easing:k,offset:f.offset,containsDynamicStyles:T,options:null}}_validateStyleAst(f,o){const d=o.currentAnimateTimings;let m=o.currentTime,T=o.currentTime;d&&T>0&&(T-=d.duration+d.delay),f.styles.forEach(k=>{"string"!=typeof k&&k.forEach((J,ue)=>{const ge=o.collectedStyles.get(o.currentQuerySelector),Te=ge.get(ue);let Xe=!0;Te&&(T!=m&&T>=Te.startTime&&m<=Te.endTime&&(o.errors.push(function ch(l,f,o,d,m){return new h.vHH(3010,!1)}()),Xe=!1),T=Te.startTime),Xe&&ge.set(ue,{startTime:T,endTime:m}),o.options&&function ar(l,f,o){const d=f.params||{},m=ff(l);m.length&&m.forEach(T=>{d.hasOwnProperty(T)||o.push(function im(l){return new h.vHH(3001,!1)}())})}(J,o.options,o.errors)})})}visitKeyframes(f,o){const d={type:5,styles:[],options:null};if(!o.currentAnimateTimings)return o.errors.push(function cm(){return new h.vHH(3011,!1)}()),d;let T=0;const k=[];let J=!1,ue=!1,ge=0;const Te=f.steps.map(Hn=>{const Bn=this._makeStyleAst(Hn,o);let Tr=null!=Bn.offset?Bn.offset:function wy(l){if("string"==typeof l)return null;let f=null;if(Array.isArray(l))l.forEach(o=>{if(o instanceof Map&&o.has("offset")){const d=o;f=parseFloat(d.get("offset")),d.delete("offset")}});else if(l instanceof Map&&l.has("offset")){const o=l;f=parseFloat(o.get("offset")),o.delete("offset")}return f}(Bn.styles),kn=0;return null!=Tr&&(T++,kn=Bn.offset=Tr),ue=ue||kn<0||kn>1,J=J||kn<ge,ge=kn,k.push(kn),Bn});ue&&o.errors.push(function Ab(){return new h.vHH(3012,!1)}()),J&&o.errors.push(function Nb(){return new h.vHH(3200,!1)}());const Xe=f.steps.length;let ct=0;T>0&&T<Xe?o.errors.push(function Ob(){return new h.vHH(3202,!1)}()):0==T&&(ct=1/(Xe-1));const ut=Xe-1,Mt=o.currentTime,Ut=o.currentAnimateTimings,Yt=Ut.duration;return Te.forEach((Hn,Bn)=>{const Tr=ct>0?Bn==ut?1:ct*Bn:k[Bn],kn=Tr*Yt;o.currentTime=Mt+Ut.delay+kn,Ut.duration=kn,this._validateStyleAst(Hn,o),Hn.offset=Tr,d.styles.push(Hn)}),d}visitReference(f,o){return{type:8,animation:wa(this,Jl(f.animation),o),options:Qc(f.options)}}visitAnimateChild(f,o){return o.depCount++,{type:9,options:Qc(f.options)}}visitAnimateRef(f,o){return{type:10,animation:this.visitReference(f.animation,o),options:Qc(f.options)}}visitQuery(f,o){const d=o.currentQuerySelector,m=f.options||{};o.queryCount++,o.currentQuery=f;const[T,k]=function Fb(l){const f=!!l.split(/\s*,\s*/).find(o=>":self"==o);return f&&(l=l.replace(kb,"")),l=l.replace(/@\*/g,Mp).replace(/@\w+/g,o=>Mp+"-"+o.slice(1)).replace(/:animating/g,r0),[l,f]}(f.selector);o.currentQuerySelector=d.length?d+" "+T:T,za(o.collectedStyles,o.currentQuerySelector,new Map);const J=wa(this,Jl(f.animation),o);return o.currentQuery=null,o.currentQuerySelector=d,{type:11,selector:T,limit:m.limit||0,optional:!!m.optional,includeSelf:k,animation:J,originalSelector:f.selector,options:Qc(f.options)}}visitStagger(f,o){o.currentQuery||o.errors.push(function cy(){return new h.vHH(3013,!1)}());const d="full"===f.timings?{duration:0,delay:0,easing:"full"}:gm(f.timings,o.errors,!0);return{type:12,animation:wa(this,Jl(f.animation),o),timings:d,options:null}}}class Yc{constructor(f){this.errors=f,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Qc(l){return l?(l=Lu(l)).params&&(l.params=function c0(l){return l?Lu(l):null}(l.params)):l={},l}function kp(l,f,o){return{duration:l,delay:f,easing:o}}function Fp(l,f,o,d,m,T,k=null,J=!1){return{type:1,element:l,keyframes:f,preStyleProps:o,postStyleProps:d,duration:m,delay:T,totalTime:m+T,easing:k,subTimeline:J}}class Jc{constructor(){this._map=new Map}get(f){return this._map.get(f)||[]}append(f,o){let d=this._map.get(f);d||this._map.set(f,d=[]),d.push(...o)}has(f){return this._map.has(f)}clear(){this._map.clear()}}const bm=new RegExp(":enter","g"),Lp=new RegExp(":leave","g");function _f(l,f,o,d,m,T=new Map,k=new Map,J,ue,ge=[]){return(new l0).buildKeyframes(l,f,o,d,m,T,k,J,ue,ge)}class l0{buildKeyframes(f,o,d,m,T,k,J,ue,ge,Te=[]){ge=ge||new Jc;const Xe=new Bp(f,o,ge,m,T,Te,[]);Xe.options=ue;const ct=ue.delay?Fu(ue.delay):0;Xe.currentTimeline.delayNextStep(ct),Xe.currentTimeline.setStyles([k],null,Xe.errors,ue),wa(this,d,Xe);const ut=Xe.timelines.filter(Mt=>Mt.containsAnimation());if(ut.length&&J.size){let Mt;for(let Ut=ut.length-1;Ut>=0;Ut--){const Yt=ut[Ut];if(Yt.element===o){Mt=Yt;break}}Mt&&!Mt.allowOnlyTimelineStyles()&&Mt.setStyles([J],null,Xe.errors,ue)}return ut.length?ut.map(Mt=>Mt.buildKeyframes()):[Fp(o,[],[],[],0,ct,"",!1)]}visitTrigger(f,o){}visitState(f,o){}visitTransition(f,o){}visitAnimateChild(f,o){const d=o.subInstructions.get(o.element);if(d){const m=o.createSubContext(f.options),T=o.currentTimeline.currentTime,k=this._visitSubInstructions(d,m,m.options);T!=k&&o.transformIntoNewTimeline(k)}o.previousNode=f}visitAnimateRef(f,o){const d=o.createSubContext(f.options);d.transformIntoNewTimeline(),this._applyAnimationRefDelays([f.options,f.animation.options],o,d),this.visitReference(f.animation,d),o.transformIntoNewTimeline(d.currentTimeline.currentTime),o.previousNode=f}_applyAnimationRefDelays(f,o,d){for(const m of f){const T=m?.delay;if(T){const k="number"==typeof T?T:Fu(El(T,m?.params??{},o.errors));d.delayNextStep(k)}}}_visitSubInstructions(f,o,d){let T=o.currentTimeline.currentTime;const k=null!=d.duration?Fu(d.duration):null,J=null!=d.delay?Fu(d.delay):null;return 0!==k&&f.forEach(ue=>{const ge=o.appendInstructionToTimeline(ue,k,J);T=Math.max(T,ge.duration+ge.delay)}),T}visitReference(f,o){o.updateOptions(f.options,!0),wa(this,f.animation,o),o.previousNode=f}visitSequence(f,o){const d=o.subContextCount;let m=o;const T=f.options;if(T&&(T.params||T.delay)&&(m=o.createSubContext(T),m.transformIntoNewTimeline(),null!=T.delay)){6==m.previousNode.type&&(m.currentTimeline.snapshotCurrentStyles(),m.previousNode=jo);const k=Fu(T.delay);m.delayNextStep(k)}f.steps.length&&(f.steps.forEach(k=>wa(this,k,m)),m.currentTimeline.applyStylesToKeyframe(),m.subContextCount>d&&m.transformIntoNewTimeline()),o.previousNode=f}visitGroup(f,o){const d=[];let m=o.currentTimeline.currentTime;const T=f.options&&f.options.delay?Fu(f.options.delay):0;f.steps.forEach(k=>{const J=o.createSubContext(f.options);T&&J.delayNextStep(T),wa(this,k,J),m=Math.max(m,J.currentTimeline.currentTime),d.push(J.currentTimeline)}),d.forEach(k=>o.currentTimeline.mergeTimelineCollectedStyles(k)),o.transformIntoNewTimeline(m),o.previousNode=f}_visitTiming(f,o){if(f.dynamic){const d=f.strValue;return gm(o.params?El(d,o.params,o.errors):d,o.errors)}return{duration:f.duration,delay:f.delay,easing:f.easing}}visitAnimate(f,o){const d=o.currentAnimateTimings=this._visitTiming(f.timings,o),m=o.currentTimeline;d.delay&&(o.incrementTime(d.delay),m.snapshotCurrentStyles());const T=f.style;5==T.type?this.visitKeyframes(T,o):(o.incrementTime(d.duration),this.visitStyle(T,o),m.applyStylesToKeyframe()),o.currentAnimateTimings=null,o.previousNode=f}visitStyle(f,o){const d=o.currentTimeline,m=o.currentAnimateTimings;!m&&d.hasCurrentStyleProperties()&&d.forwardFrame();const T=m&&m.easing||f.easing;f.isEmptyStep?d.applyEmptyStep(T):d.setStyles(f.styles,T,o.errors,o.options),o.previousNode=f}visitKeyframes(f,o){const d=o.currentAnimateTimings,m=o.currentTimeline.duration,T=d.duration,J=o.createSubContext().currentTimeline;J.easing=d.easing,f.styles.forEach(ue=>{J.forwardTime((ue.offset||0)*T),J.setStyles(ue.styles,ue.easing,o.errors,o.options),J.applyStylesToKeyframe()}),o.currentTimeline.mergeTimelineCollectedStyles(J),o.transformIntoNewTimeline(m+T),o.previousNode=f}visitQuery(f,o){const d=o.currentTimeline.currentTime,m=f.options||{},T=m.delay?Fu(m.delay):0;T&&(6===o.previousNode.type||0==d&&o.currentTimeline.hasCurrentStyleProperties())&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=jo);let k=d;const J=o.invokeQuery(f.selector,f.originalSelector,f.limit,f.includeSelf,!!m.optional,o.errors);o.currentQueryTotal=J.length;let ue=null;J.forEach((ge,Te)=>{o.currentQueryIndex=Te;const Xe=o.createSubContext(f.options,ge);T&&Xe.delayNextStep(T),ge===o.element&&(ue=Xe.currentTimeline),wa(this,f.animation,Xe),Xe.currentTimeline.applyStylesToKeyframe(),k=Math.max(k,Xe.currentTimeline.currentTime)}),o.currentQueryIndex=0,o.currentQueryTotal=0,o.transformIntoNewTimeline(k),ue&&(o.currentTimeline.mergeTimelineCollectedStyles(ue),o.currentTimeline.snapshotCurrentStyles()),o.previousNode=f}visitStagger(f,o){const d=o.parentContext,m=o.currentTimeline,T=f.timings,k=Math.abs(T.duration),J=k*(o.currentQueryTotal-1);let ue=k*o.currentQueryIndex;switch(T.duration<0?"reverse":T.easing){case"reverse":ue=J-ue;break;case"full":ue=d.currentStaggerTime}const Te=o.currentTimeline;ue&&Te.delayNextStep(ue);const Xe=Te.currentTime;wa(this,f.animation,o),o.previousNode=f,d.currentStaggerTime=m.currentTime-Xe+(m.startTime-d.currentTimeline.startTime)}}const jo={};class Bp{constructor(f,o,d,m,T,k,J,ue){this._driver=f,this.element=o,this.subInstructions=d,this._enterClassName=m,this._leaveClassName=T,this.errors=k,this.timelines=J,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=jo,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=ue||new Im(this._driver,o,0),J.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(f,o){if(!f)return;const d=f;let m=this.options;null!=d.duration&&(m.duration=Fu(d.duration)),null!=d.delay&&(m.delay=Fu(d.delay));const T=d.params;if(T){let k=m.params;k||(k=this.options.params={}),Object.keys(T).forEach(J=>{(!o||!k.hasOwnProperty(J))&&(k[J]=El(T[J],k,this.errors))})}}_copyOptions(){const f={};if(this.options){const o=this.options.params;if(o){const d=f.params={};Object.keys(o).forEach(m=>{d[m]=o[m]})}}return f}createSubContext(f=null,o,d){const m=o||this.element,T=new Bp(this._driver,m,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(m,d||0));return T.previousNode=this.previousNode,T.currentAnimateTimings=this.currentAnimateTimings,T.options=this._copyOptions(),T.updateOptions(f),T.currentQueryIndex=this.currentQueryIndex,T.currentQueryTotal=this.currentQueryTotal,T.parentContext=this,this.subContextCount++,T}transformIntoNewTimeline(f){return this.previousNode=jo,this.currentTimeline=this.currentTimeline.fork(this.element,f),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(f,o,d){const m={duration:o??f.duration,delay:this.currentTimeline.currentTime+(d??0)+f.delay,easing:""},T=new Tm(this._driver,f.element,f.keyframes,f.preStyleProps,f.postStyleProps,m,f.stretchStartingKeyframe);return this.timelines.push(T),m}incrementTime(f){this.currentTimeline.forwardTime(this.currentTimeline.duration+f)}delayNextStep(f){f>0&&this.currentTimeline.delayNextStep(f)}invokeQuery(f,o,d,m,T,k){let J=[];if(m&&J.push(this.element),f.length>0){f=(f=f.replace(bm,"."+this._enterClassName)).replace(Lp,"."+this._leaveClassName);let ge=this._driver.query(this.element,f,1!=d);0!==d&&(ge=d<0?ge.slice(ge.length+d,ge.length):ge.slice(0,d)),J.push(...ge)}return!T&&0==J.length&&k.push(function Jv(l){return new h.vHH(3014,!1)}()),J}}class Im{constructor(f,o,d,m){this._driver=f,this.element=o,this.startTime=d,this._elementTimelineStylesLookup=m,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(o),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(o,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(f){const o=1===this._keyframes.size&&this._pendingStyles.size;this.duration||o?(this.forwardTime(this.currentTime+f),o&&this.snapshotCurrentStyles()):this.startTime+=f}fork(f,o){return this.applyStylesToKeyframe(),new Im(this._driver,f,o||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(f){this.applyStylesToKeyframe(),this.duration=f,this._loadKeyframe()}_updateStyle(f,o){this._localTimelineStyles.set(f,o),this._globalTimelineStyles.set(f,o),this._styleSummary.set(f,{time:this.currentTime,value:o})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(f){f&&this._previousKeyframe.set("easing",f);for(let[o,d]of this._globalTimelineStyles)this._backFill.set(o,d||Ue),this._currentKeyframe.set(o,Ue);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(f,o,d,m){o&&this._previousKeyframe.set("easing",o);const T=m&&m.params||{},k=function d0(l,f){const o=new Map;let d;return l.forEach(m=>{if("*"===m){d=d||f.keys();for(let T of d)o.set(T,Ue)}else Bu(m,o)}),o}(f,this._globalTimelineStyles);for(let[J,ue]of k){const ge=El(ue,T,d);this._pendingStyles.set(J,ge),this._localTimelineStyles.has(J)||this._backFill.set(J,this._globalTimelineStyles.get(J)??Ue),this._updateStyle(J,ge)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((f,o)=>{this._currentKeyframe.set(o,f)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((f,o)=>{this._currentKeyframe.has(o)||this._currentKeyframe.set(o,f)}))}snapshotCurrentStyles(){for(let[f,o]of this._localTimelineStyles)this._pendingStyles.set(f,o),this._updateStyle(f,o)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const f=[];for(let o in this._currentKeyframe)f.push(o);return f}mergeTimelineCollectedStyles(f){f._styleSummary.forEach((o,d)=>{const m=this._styleSummary.get(d);(!m||o.time>m.time)&&this._updateStyle(d,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();const f=new Set,o=new Set,d=1===this._keyframes.size&&0===this.duration;let m=[];this._keyframes.forEach((J,ue)=>{const ge=Bu(J,new Map,this._backFill);ge.forEach((Te,Xe)=>{"!"===Te?f.add(Xe):Te===Ue&&o.add(Xe)}),d||ge.set("offset",ue/this.duration),m.push(ge)});const T=f.size?yd(f.values()):[],k=o.size?yd(o.values()):[];if(d){const J=m[0],ue=new Map(J);J.set("offset",0),ue.set("offset",1),m=[J,ue]}return Fp(this.element,m,T,k,this.duration,this.startTime,this.easing,!1)}}class Tm extends Im{constructor(f,o,d,m,T,k,J=!1){super(f,o,k.delay),this.keyframes=d,this.preStyleProps=m,this.postStyleProps=T,this._stretchStartingKeyframe=J,this.timings={duration:k.duration,delay:k.delay,easing:k.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let f=this.keyframes,{delay:o,duration:d,easing:m}=this.timings;if(this._stretchStartingKeyframe&&o){const T=[],k=d+o,J=o/k,ue=Bu(f[0]);ue.set("offset",0),T.push(ue);const ge=Bu(f[0]);ge.set("offset",u0(J)),T.push(ge);const Te=f.length-1;for(let Xe=1;Xe<=Te;Xe++){let ct=Bu(f[Xe]);const ut=ct.get("offset");ct.set("offset",u0((o+ut*d)/k)),T.push(ct)}d=k,o=0,m="",f=T}return Fp(this.element,f,this.preStyleProps,this.postStyleProps,d,o,m,!0)}}function u0(l,f=3){const o=Math.pow(10,f-1);return Math.round(l*o)/o}class yf{}const hT=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class f0 extends yf{normalizePropertyName(f,o){return uh(f)}normalizeStyleValue(f,o,d,m){let T="";const k=d.toString().trim();if(hT.has(o)&&0!==d&&"0"!==d)if("number"==typeof d)T="px";else{const J=d.match(/^[+-]?[\d\.]+([a-z]*)$/);J&&0==J[1].length&&m.push(function Sb(l,f){return new h.vHH(3005,!1)}())}return k+T}}function bd(l,f,o,d,m,T,k,J,ue,ge,Te,Xe,ct){return{type:0,element:l,triggerName:f,isRemovalTransition:m,fromState:o,fromStyles:T,toState:d,toStyles:k,timelines:J,queriedElements:ue,preStyleProps:ge,postStyleProps:Te,totalTime:Xe,errors:ct}}const Up={};class io{constructor(f,o,d){this._triggerName=f,this.ast=o,this._stateStyles=d}match(f,o,d,m){return function Ea(l,f,o,d,m){return l.some(T=>T(f,o,d,m))}(this.ast.matchers,f,o,d,m)}buildStyles(f,o,d){let m=this._stateStyles.get("*");return void 0!==f&&(m=this._stateStyles.get(f?.toString())||m),m?m.buildStyles(o,d):new Map}build(f,o,d,m,T,k,J,ue,ge,Te){const Xe=[],ct=this.ast.options&&this.ast.options.params||Up,Mt=this.buildStyles(d,J&&J.params||Up,Xe),Ut=ue&&ue.params||Up,Yt=this.buildStyles(m,Ut,Xe),Hn=new Set,Bn=new Map,Tr=new Map,kn="void"===m,Nr={params:Ty(Ut,ct),delay:this.ast.options?.delay},_r=Te?[]:_f(f,o,this.ast.animation,T,k,Mt,Yt,Nr,ge,Xe);let yr=0;if(_r.forEach(vi=>{yr=Math.max(vi.duration+vi.delay,yr)}),Xe.length)return bd(o,this._triggerName,d,m,kn,Mt,Yt,[],[],Bn,Tr,yr,Xe);_r.forEach(vi=>{const Qn=vi.element,ds=za(Bn,Qn,new Set);vi.preStyleProps.forEach(Bi=>ds.add(Bi));const Wi=za(Tr,Qn,new Set);vi.postStyleProps.forEach(Bi=>Wi.add(Bi)),Qn!==o&&Hn.add(Qn)});const Gr=yd(Hn.values());return bd(o,this._triggerName,d,m,kn,Mt,Yt,_r,Gr,Bn,Tr,yr)}}function Ty(l,f){const o=Lu(f);for(const d in l)l.hasOwnProperty(d)&&null!=l[d]&&(o[d]=l[d]);return o}class fT{constructor(f,o,d){this.styles=f,this.defaultParams=o,this.normalizer=d}buildStyles(f,o){const d=new Map,m=Lu(this.defaultParams);return Object.keys(f).forEach(T=>{const k=f[T];null!==k&&(m[T]=k)}),this.styles.styles.forEach(T=>{"string"!=typeof T&&T.forEach((k,J)=>{k&&(k=El(k,m,o));const ue=this.normalizer.normalizePropertyName(J,o);k=this.normalizer.normalizeStyleValue(J,ue,k,o),d.set(J,k)})}),d}}class Gs{constructor(f,o,d){this.name=f,this.ast=o,this._normalizer=d,this.transitionFactories=[],this.states=new Map,o.states.forEach(m=>{this.states.set(m.name,new fT(m.style,m.options&&m.options.params||{},d))}),Em(this.states,"true","1"),Em(this.states,"false","0"),o.transitions.forEach(m=>{this.transitionFactories.push(new io(f,m,this.states))}),this.fallbackTransition=function el(l,f,o){return new io(l,{type:1,animation:{type:2,steps:[],options:null},matchers:[(k,J)=>!0],options:null,queryCount:0,depCount:0},f)}(f,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(f,o,d,m){return this.transitionFactories.find(k=>k.match(f,o,d,m))||null}matchStyles(f,o,d){return this.fallbackTransition.buildStyles(f,o,d)}}function Em(l,f,o){l.has(f)?l.has(o)||l.set(o,l.get(f)):l.has(o)&&l.set(f,l.get(o))}const ln=new Jc;class wn{constructor(f,o,d){this.bodyNode=f,this._driver=o,this._normalizer=d,this._animations=new Map,this._playersById=new Map,this.players=[]}register(f,o){const d=[],T=Dc(this._driver,o,d,[]);if(d.length)throw function lm(l){return new h.vHH(3503,!1)}();this._animations.set(f,T)}_buildPlayer(f,o,d){const m=f.element,T=Ap(this._normalizer,f.keyframes,o,d);return this._driver.animate(m,T,f.duration,f.delay,f.easing,[],!0)}create(f,o,d={}){const m=[],T=this._animations.get(f);let k;const J=new Map;if(T?(k=_f(this._driver,o,T,lh,pm,new Map,new Map,d,ln,m),k.forEach(Te=>{const Xe=za(J,Te.element,new Map);Te.postStyleProps.forEach(ct=>Xe.set(ct,null))})):(m.push(function Cp(){return new h.vHH(3300,!1)}()),k=[]),m.length)throw function Sp(l){return new h.vHH(3504,!1)}();J.forEach((Te,Xe)=>{Te.forEach((ct,ut)=>{Te.set(ut,this._driver.computeStyle(Xe,ut,Ue))})});const ge=Pu(k.map(Te=>{const Xe=J.get(Te.element);return this._buildPlayer(Te,new Map,Xe)}));return this._playersById.set(f,ge),ge.onDestroy(()=>this.destroy(f)),this.players.push(ge),ge}destroy(f){const o=this._getPlayer(f);o.destroy(),this._playersById.delete(f);const d=this.players.indexOf(o);d>=0&&this.players.splice(d,1)}_getPlayer(f){const o=this._playersById.get(f);if(!o)throw function uy(l){return new h.vHH(3301,!1)}();return o}listen(f,o,d,m){const T=dy(o,"","","");return ku(this._getPlayer(f),d,T,m),()=>{}}command(f,o,d,m){if("register"==d)return void this.register(f,m[0]);if("create"==d)return void this.create(f,o,m[0]||{});const T=this._getPlayer(f);switch(d){case"play":T.play();break;case"pause":T.pause();break;case"reset":T.reset();break;case"restart":T.restart();break;case"finish":T.finish();break;case"init":T.init();break;case"setPosition":T.setPosition(parseFloat(m[0]));break;case"destroy":this.destroy(f)}}}const p0="ng-animate-queued",rt="ng-animate-disabled",Lb=[],g0={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},m0={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},tl="__ng_removed";class hh{get params(){return this.options.params}constructor(f,o=""){this.namespaceId=o;const d=f&&f.hasOwnProperty("value");if(this.value=function bf(l){return l??null}(d?f.value:f),d){const T=Lu(f);delete T.value,this.options=T}else this.options={};this.options.params||(this.options.params={})}absorbOptions(f){const o=f.params;if(o){const d=this.options.params;Object.keys(o).forEach(m=>{null==d[m]&&(d[m]=o[m])})}}}const vf="void",Dm=new hh(vf);class Bb{constructor(f,o,d){this.id=f,this.hostElement=o,this._engine=d,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+f,nl(o,this._hostClassName)}listen(f,o,d,m){if(!this._triggers.has(o))throw function Il(l,f){return new h.vHH(3302,!1)}();if(null==d||0==d.length)throw function Xv(l){return new h.vHH(3303,!1)}();if(!function Is(l){return"start"==l||"done"==l}(d))throw function Mb(l,f){return new h.vHH(3400,!1)}();const T=za(this._elementListeners,f,[]),k={name:o,phase:d,callback:m};T.push(k);const J=za(this._engine.statesByElement,f,new Map);return J.has(o)||(nl(f,rs),nl(f,rs+"-"+o),J.set(o,Dm)),()=>{this._engine.afterFlush(()=>{const ue=T.indexOf(k);ue>=0&&T.splice(ue,1),this._triggers.has(o)||J.delete(o)})}}register(f,o){return!this._triggers.has(f)&&(this._triggers.set(f,o),!0)}_getTrigger(f){const o=this._triggers.get(f);if(!o)throw function dT(l){return new h.vHH(3401,!1)}();return o}trigger(f,o,d,m=!0){const T=this._getTrigger(o),k=new Cm(this.id,o,f);let J=this._engine.statesByElement.get(f);J||(nl(f,rs),nl(f,rs+"-"+o),this._engine.statesByElement.set(f,J=new Map));let ue=J.get(o);const ge=new hh(d,this.id);if(!(d&&d.hasOwnProperty("value"))&&ue&&ge.absorbOptions(ue.options),J.set(o,ge),ue||(ue=Dm),ge.value!==vf&&ue.value===ge.value){if(!function Xl(l,f){const o=Object.keys(l),d=Object.keys(f);if(o.length!=d.length)return!1;for(let m=0;m<o.length;m++){const T=o[m];if(!f.hasOwnProperty(T)||l[T]!==f[T])return!1}return!0}(ue.params,ge.params)){const Ut=[],Yt=T.matchStyles(ue.value,ue.params,Ut),Hn=T.matchStyles(ge.value,ge.params,Ut);Ut.length?this._engine.reportError(Ut):this._engine.afterFlush(()=>{Ql(f,Yt),Tl(f,Hn)})}return}const ct=za(this._engine.playersByElement,f,[]);ct.forEach(Ut=>{Ut.namespaceId==this.id&&Ut.triggerName==o&&Ut.queued&&Ut.destroy()});let ut=T.matchTransition(ue.value,ge.value,f,ge.params),Mt=!1;if(!ut){if(!m)return;ut=T.fallbackTransition,Mt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:f,triggerName:o,transition:ut,fromState:ue,toState:ge,player:k,isFallbackTransition:Mt}),Mt||(nl(f,p0),k.onStart(()=>{zi(f,p0)})),k.onDone(()=>{let Ut=this.players.indexOf(k);Ut>=0&&this.players.splice(Ut,1);const Yt=this._engine.playersByElement.get(f);if(Yt){let Hn=Yt.indexOf(k);Hn>=0&&Yt.splice(Hn,1)}}),this.players.push(k),ct.push(k),k}deregister(f){this._triggers.delete(f),this._engine.statesByElement.forEach(o=>o.delete(f)),this._elementListeners.forEach((o,d)=>{this._elementListeners.set(d,o.filter(m=>m.name!=f))})}clearElementCache(f){this._engine.statesByElement.delete(f),this._elementListeners.delete(f);const o=this._engine.playersByElement.get(f);o&&(o.forEach(d=>d.destroy()),this._engine.playersByElement.delete(f))}_signalRemovalForInnerTriggers(f,o){const d=this._engine.driver.query(f,Mp,!0);d.forEach(m=>{if(m[tl])return;const T=this._engine.fetchNamespacesByElement(m);T.size?T.forEach(k=>k.triggerLeaveAnimation(m,o,!1,!0)):this.clearElementCache(m)}),this._engine.afterFlushAnimationsDone(()=>d.forEach(m=>this.clearElementCache(m)))}triggerLeaveAnimation(f,o,d,m){const T=this._engine.statesByElement.get(f),k=new Map;if(T){const J=[];if(T.forEach((ue,ge)=>{if(k.set(ge,ue.value),this._triggers.has(ge)){const Te=this.trigger(f,ge,vf,m);Te&&J.push(Te)}}),J.length)return this._engine.markElementAsRemoved(this.id,f,!0,o,k),d&&Pu(J).onDone(()=>this._engine.processLeaveNode(f)),!0}return!1}prepareLeaveAnimationListeners(f){const o=this._elementListeners.get(f),d=this._engine.statesByElement.get(f);if(o&&d){const m=new Set;o.forEach(T=>{const k=T.name;if(m.has(k))return;m.add(k);const ue=this._triggers.get(k).fallbackTransition,ge=d.get(k)||Dm,Te=new hh(vf),Xe=new Cm(this.id,k,f);this._engine.totalQueuedPlayers++,this._queue.push({element:f,triggerName:k,transition:ue,fromState:ge,toState:Te,player:Xe,isFallbackTransition:!0})})}}removeNode(f,o){const d=this._engine;if(f.childElementCount&&this._signalRemovalForInnerTriggers(f,o),this.triggerLeaveAnimation(f,o,!0))return;let m=!1;if(d.totalAnimations){const T=d.players.length?d.playersByQueriedElement.get(f):[];if(T&&T.length)m=!0;else{let k=f;for(;k=k.parentNode;)if(d.statesByElement.get(k)){m=!0;break}}}if(this.prepareLeaveAnimationListeners(f),m)d.markElementAsRemoved(this.id,f,!1,o);else{const T=f[tl];(!T||T===g0)&&(d.afterFlush(()=>this.clearElementCache(f)),d.destroyInnerAnimations(f),d._onRemovalComplete(f,o))}}insertNode(f,o){nl(f,this._hostClassName)}drainQueuedTransitions(f){const o=[];return this._queue.forEach(d=>{const m=d.player;if(m.destroyed)return;const T=d.element,k=this._elementListeners.get(T);k&&k.forEach(J=>{if(J.name==d.triggerName){const ue=dy(T,d.triggerName,d.fromState.value,d.toState.value);ue._data=f,ku(d.player,J.phase,ue,J.callback)}}),m.markedForDestroy?this._engine.afterFlush(()=>{m.destroy()}):o.push(d)}),this._queue=[],o.sort((d,m)=>{const T=d.transition.ast.depCount,k=m.transition.ast.depCount;return 0==T||0==k?T-k:this._engine.driver.containsElement(d.element,m.element)?1:-1})}destroy(f){this.players.forEach(o=>o.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,f)}}class Vb{_onRemovalComplete(f,o){this.onRemovalComplete(f,o)}constructor(f,o,d){this.bodyNode=f,this.driver=o,this._normalizer=d,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(m,T)=>{}}get queuedPlayers(){const f=[];return this._namespaceList.forEach(o=>{o.players.forEach(d=>{d.queued&&f.push(d)})}),f}createNamespace(f,o){const d=new Bb(f,o,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,o)?this._balanceNamespaceList(d,o):(this.newHostElements.set(o,d),this.collectEnterElement(o)),this._namespaceLookup[f]=d}_balanceNamespaceList(f,o){const d=this._namespaceList,m=this.namespacesByHostElement;if(d.length-1>=0){let k=!1,J=this.driver.getParentElement(o);for(;J;){const ue=m.get(J);if(ue){const ge=d.indexOf(ue);d.splice(ge+1,0,f),k=!0;break}J=this.driver.getParentElement(J)}k||d.unshift(f)}else d.push(f);return m.set(o,f),f}register(f,o){let d=this._namespaceLookup[f];return d||(d=this.createNamespace(f,o)),d}registerTrigger(f,o,d){let m=this._namespaceLookup[f];m&&m.register(o,d)&&this.totalAnimations++}destroy(f,o){f&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const d=this._fetchNamespace(f);this.namespacesByHostElement.delete(d.hostElement);const m=this._namespaceList.indexOf(d);m>=0&&this._namespaceList.splice(m,1),d.destroy(o),delete this._namespaceLookup[f]}))}_fetchNamespace(f){return this._namespaceLookup[f]}fetchNamespacesByElement(f){const o=new Set,d=this.statesByElement.get(f);if(d)for(let m of d.values())if(m.namespaceId){const T=this._fetchNamespace(m.namespaceId);T&&o.add(T)}return o}trigger(f,o,d,m){if(Hp(o)){const T=this._fetchNamespace(f);if(T)return T.trigger(o,d,m),!0}return!1}insertNode(f,o,d,m){if(!Hp(o))return;const T=o[tl];if(T&&T.setForRemoval){T.setForRemoval=!1,T.setForMove=!0;const k=this.collectedLeaveElements.indexOf(o);k>=0&&this.collectedLeaveElements.splice(k,1)}if(f){const k=this._fetchNamespace(f);k&&k.insertNode(o,d)}m&&this.collectEnterElement(o)}collectEnterElement(f){this.collectedEnterElements.push(f)}markElementAsDisabled(f,o){o?this.disabledNodes.has(f)||(this.disabledNodes.add(f),nl(f,rt)):this.disabledNodes.has(f)&&(this.disabledNodes.delete(f),zi(f,rt))}removeNode(f,o,d){if(Hp(o)){const m=f?this._fetchNamespace(f):null;m?m.removeNode(o,d):this.markElementAsRemoved(f,o,!1,d);const T=this.namespacesByHostElement.get(o);T&&T.id!==f&&T.removeNode(o,d)}else this._onRemovalComplete(o,d)}markElementAsRemoved(f,o,d,m,T){this.collectedLeaveElements.push(o),o[tl]={namespaceId:f,setForRemoval:m,hasAnimation:d,removedBeforeQueried:!1,previousTriggersValues:T}}listen(f,o,d,m,T){return Hp(o)?this._fetchNamespace(f).listen(o,d,m,T):()=>{}}_buildInstruction(f,o,d,m,T){return f.transition.build(this.driver,f.element,f.fromState.value,f.toState.value,d,m,f.fromState.options,f.toState.options,o,T)}destroyInnerAnimations(f){let o=this.driver.query(f,Mp,!0);o.forEach(d=>this.destroyActiveAnimationsForElement(d)),0!=this.playersByQueriedElement.size&&(o=this.driver.query(f,r0,!0),o.forEach(d=>this.finishActiveQueriedAnimationOnElement(d)))}destroyActiveAnimationsForElement(f){const o=this.playersByElement.get(f);o&&o.forEach(d=>{d.queued?d.markedForDestroy=!0:d.destroy()})}finishActiveQueriedAnimationOnElement(f){const o=this.playersByQueriedElement.get(f);o&&o.forEach(d=>d.finish())}whenRenderingDone(){return new Promise(f=>{if(this.players.length)return Pu(this.players).onDone(()=>f());f()})}processLeaveNode(f){const o=f[tl];if(o&&o.setForRemoval){if(f[tl]=g0,o.namespaceId){this.destroyInnerAnimations(f);const d=this._fetchNamespace(o.namespaceId);d&&d.clearElementCache(f)}this._onRemovalComplete(f,o.setForRemoval)}f.classList?.contains(rt)&&this.markElementAsDisabled(f,!1),this.driver.query(f,".ng-animate-disabled",!0).forEach(d=>{this.markElementAsDisabled(d,!1)})}flush(f=-1){let o=[];if(this.newHostElements.size&&(this.newHostElements.forEach((d,m)=>this._balanceNamespaceList(d,m)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let d=0;d<this.collectedEnterElements.length;d++)nl(this.collectedEnterElements[d],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const d=[];try{o=this._flushAnimations(d,f)}finally{for(let m=0;m<d.length;m++)d[m]()}}else for(let d=0;d<this.collectedLeaveElements.length;d++)this.processLeaveNode(this.collectedLeaveElements[d]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(d=>d()),this._flushFns=[],this._whenQuietFns.length){const d=this._whenQuietFns;this._whenQuietFns=[],o.length?Pu(o).onDone(()=>{d.forEach(m=>m())}):d.forEach(m=>m())}}reportError(f){throw function Go(l){return new h.vHH(3402,!1)}()}_flushAnimations(f,o){const d=new Jc,m=[],T=new Map,k=[],J=new Map,ue=new Map,ge=new Map,Te=new Set;this.disabledNodes.forEach(kt=>{Te.add(kt);const Lt=this.driver.query(kt,".ng-animate-queued",!0);for(let Mn=0;Mn<Lt.length;Mn++)Te.add(Lt[Mn])});const Xe=this.bodyNode,ct=Array.from(this.statesByElement.keys()),ut=qr(ct,this.collectedEnterElements),Mt=new Map;let Ut=0;ut.forEach((kt,Lt)=>{const Mn=lh+Ut++;Mt.set(Lt,Mn),kt.forEach(nr=>nl(nr,Mn))});const Yt=[],Hn=new Set,Bn=new Set;for(let kt=0;kt<this.collectedLeaveElements.length;kt++){const Lt=this.collectedLeaveElements[kt],Mn=Lt[tl];Mn&&Mn.setForRemoval&&(Yt.push(Lt),Hn.add(Lt),Mn.hasAnimation?this.driver.query(Lt,".ng-star-inserted",!0).forEach(nr=>Hn.add(nr)):Bn.add(Lt))}const Tr=new Map,kn=qr(ct,Array.from(Hn));kn.forEach((kt,Lt)=>{const Mn=pm+Ut++;Tr.set(Lt,Mn),kt.forEach(nr=>nl(nr,Mn))}),f.push(()=>{ut.forEach((kt,Lt)=>{const Mn=Mt.get(Lt);kt.forEach(nr=>zi(nr,Mn))}),kn.forEach((kt,Lt)=>{const Mn=Tr.get(Lt);kt.forEach(nr=>zi(nr,Mn))}),Yt.forEach(kt=>{this.processLeaveNode(kt)})});const Nr=[],_r=[];for(let kt=this._namespaceList.length-1;kt>=0;kt--)this._namespaceList[kt].drainQueuedTransitions(o).forEach(Mn=>{const nr=Mn.player,$r=Mn.element;if(Nr.push(nr),this.collectedEnterElements.length){const Di=$r[tl];if(Di&&Di.setForMove){if(Di.previousTriggersValues&&Di.previousTriggersValues.has(Mn.triggerName)){const Wo=Di.previousTriggersValues.get(Mn.triggerName),$s=this.statesByElement.get(Mn.element);if($s&&$s.has(Mn.triggerName)){const tu=$s.get(Mn.triggerName);tu.value=Wo,$s.set(Mn.triggerName,tu)}}return void nr.destroy()}}const qa=!Xe||!this.driver.containsElement(Xe,$r),zo=Tr.get($r),ei=Mt.get($r),ti=this._buildInstruction(Mn,d,ei,zo,qa);if(ti.errors&&ti.errors.length)return void _r.push(ti);if(qa)return nr.onStart(()=>Ql($r,ti.fromStyles)),nr.onDestroy(()=>Tl($r,ti.toStyles)),void m.push(nr);if(Mn.isFallbackTransition)return nr.onStart(()=>Ql($r,ti.fromStyles)),nr.onDestroy(()=>Tl($r,ti.toStyles)),void m.push(nr);const js=[];ti.timelines.forEach(Di=>{Di.stretchStartingKeyframe=!0,this.disabledNodes.has(Di.element)||js.push(Di)}),ti.timelines=js,d.append($r,ti.timelines),k.push({instruction:ti,player:nr,element:$r}),ti.queriedElements.forEach(Di=>za(J,Di,[]).push(nr)),ti.preStyleProps.forEach((Di,Wo)=>{if(Di.size){let $s=ue.get(Wo);$s||ue.set(Wo,$s=new Set),Di.forEach((tu,Id)=>$s.add(Id))}}),ti.postStyleProps.forEach((Di,Wo)=>{let $s=ge.get(Wo);$s||ge.set(Wo,$s=new Set),Di.forEach((tu,Id)=>$s.add(Id))})});if(_r.length){const kt=[];_r.forEach(Lt=>{kt.push(function ql(l,f){return new h.vHH(3505,!1)}())}),Nr.forEach(Lt=>Lt.destroy()),this.reportError(kt)}const yr=new Map,Gr=new Map;k.forEach(kt=>{const Lt=kt.element;d.has(Lt)&&(Gr.set(Lt,Lt),this._beforeAnimationBuild(kt.player.namespaceId,kt.instruction,yr))}),m.forEach(kt=>{const Lt=kt.element;this._getPreviousPlayers(Lt,!1,kt.namespaceId,kt.triggerName,null).forEach(nr=>{za(yr,Lt,[]).push(nr),nr.destroy()})});const vi=Yt.filter(kt=>_0(kt,ue,ge)),Qn=new Map;wf(Qn,this.driver,Bn,ge,Ue).forEach(kt=>{_0(kt,ue,ge)&&vi.push(kt)});const Wi=new Map;ut.forEach((kt,Lt)=>{wf(Wi,this.driver,new Set(kt),ue,"!")}),vi.forEach(kt=>{const Lt=Qn.get(kt),Mn=Wi.get(kt);Qn.set(kt,new Map([...Lt?.entries()??[],...Mn?.entries()??[]]))});const Bi=[],jr=[],aa={};k.forEach(kt=>{const{element:Lt,player:Mn,instruction:nr}=kt;if(d.has(Lt)){if(Te.has(Lt))return Mn.onDestroy(()=>Tl(Lt,nr.toStyles)),Mn.disabled=!0,Mn.overrideTotalTime(nr.totalTime),void m.push(Mn);let $r=aa;if(Gr.size>1){let zo=Lt;const ei=[];for(;zo=zo.parentNode;){const ti=Gr.get(zo);if(ti){$r=ti;break}ei.push(zo)}ei.forEach(ti=>Gr.set(ti,$r))}const qa=this._buildAnimation(Mn.namespaceId,nr,yr,T,Wi,Qn);if(Mn.setRealPlayer(qa),$r===aa)Bi.push(Mn);else{const zo=this.playersByElement.get($r);zo&&zo.length&&(Mn.parentPlayer=Pu(zo)),m.push(Mn)}}else Ql(Lt,nr.fromStyles),Mn.onDestroy(()=>Tl(Lt,nr.toStyles)),jr.push(Mn),Te.has(Lt)&&m.push(Mn)}),jr.forEach(kt=>{const Lt=T.get(kt.element);if(Lt&&Lt.length){const Mn=Pu(Lt);kt.setRealPlayer(Mn)}}),m.forEach(kt=>{kt.parentPlayer?kt.syncPlayerEvents(kt.parentPlayer):kt.destroy()});for(let kt=0;kt<Yt.length;kt++){const Lt=Yt[kt],Mn=Lt[tl];if(zi(Lt,pm),Mn&&Mn.hasAnimation)continue;let nr=[];if(J.size){let qa=J.get(Lt);qa&&qa.length&&nr.push(...qa);let zo=this.driver.query(Lt,r0,!0);for(let ei=0;ei<zo.length;ei++){let ti=J.get(zo[ei]);ti&&ti.length&&nr.push(...ti)}}const $r=nr.filter(qa=>!qa.destroyed);$r.length?Xt(this,Lt,$r):this.processLeaveNode(Lt)}return Yt.length=0,Bi.forEach(kt=>{this.players.push(kt),kt.onDone(()=>{kt.destroy();const Lt=this.players.indexOf(kt);this.players.splice(Lt,1)}),kt.play()}),Bi}afterFlush(f){this._flushFns.push(f)}afterFlushAnimationsDone(f){this._whenQuietFns.push(f)}_getPreviousPlayers(f,o,d,m,T){let k=[];if(o){const J=this.playersByQueriedElement.get(f);J&&(k=J)}else{const J=this.playersByElement.get(f);if(J){const ue=!T||T==vf;J.forEach(ge=>{ge.queued||!ue&&ge.triggerName!=m||k.push(ge)})}}return(d||m)&&(k=k.filter(J=>!(d&&d!=J.namespaceId||m&&m!=J.triggerName))),k}_beforeAnimationBuild(f,o,d){const T=o.element,k=o.isRemovalTransition?void 0:f,J=o.isRemovalTransition?void 0:o.triggerName;for(const ue of o.timelines){const ge=ue.element,Te=ge!==T,Xe=za(d,ge,[]);this._getPreviousPlayers(ge,Te,k,J,o.toState).forEach(ut=>{const Mt=ut.getRealPlayer();Mt.beforeDestroy&&Mt.beforeDestroy(),ut.destroy(),Xe.push(ut)})}Ql(T,o.fromStyles)}_buildAnimation(f,o,d,m,T,k){const J=o.triggerName,ue=o.element,ge=[],Te=new Set,Xe=new Set,ct=o.timelines.map(Mt=>{const Ut=Mt.element;Te.add(Ut);const Yt=Ut[tl];if(Yt&&Yt.removedBeforeQueried)return new Ao(Mt.duration,Mt.delay);const Hn=Ut!==ue,Bn=function If(l){const f=[];return Sm(l,f),f}((d.get(Ut)||Lb).map(yr=>yr.getRealPlayer())).filter(yr=>!!yr.element&&yr.element===Ut),Tr=T.get(Ut),kn=k.get(Ut),Nr=Ap(this._normalizer,Mt.keyframes,Tr,kn),_r=this._buildPlayer(Mt,Nr,Bn);if(Mt.subTimeline&&m&&Xe.add(Ut),Hn){const yr=new Cm(f,J,Ut);yr.setRealPlayer(_r),ge.push(yr)}return _r});ge.forEach(Mt=>{za(this.playersByQueriedElement,Mt.element,[]).push(Mt),Mt.onDone(()=>function qn(l,f,o){let d=l.get(f);if(d){if(d.length){const m=d.indexOf(o);d.splice(m,1)}0==d.length&&l.delete(f)}return d}(this.playersByQueriedElement,Mt.element,Mt))}),Te.forEach(Mt=>nl(Mt,gy));const ut=Pu(ct);return ut.onDestroy(()=>{Te.forEach(Mt=>zi(Mt,gy)),Tl(ue,o.toStyles)}),Xe.forEach(Mt=>{za(m,Mt,[]).push(ut)}),ut}_buildPlayer(f,o,d){return o.length>0?this.driver.animate(f.element,o,f.duration,f.delay,f.easing,d):new Ao(f.duration,f.delay)}}class Cm{constructor(f,o,d){this.namespaceId=f,this.triggerName=o,this.element=d,this._player=new Ao,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(f){this._containsRealPlayer||(this._player=f,this._queuedCallbacks.forEach((o,d)=>{o.forEach(m=>ku(f,d,void 0,m))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(f.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(f){this.totalTime=f}syncPlayerEvents(f){const o=this._player;o.triggerCallback&&f.onStart(()=>o.triggerCallback("start")),f.onDone(()=>this.finish()),f.onDestroy(()=>this.destroy())}_queueEvent(f,o){za(this._queuedCallbacks,f,[]).push(o)}onDone(f){this.queued&&this._queueEvent("done",f),this._player.onDone(f)}onStart(f){this.queued&&this._queueEvent("start",f),this._player.onStart(f)}onDestroy(f){this.queued&&this._queueEvent("destroy",f),this._player.onDestroy(f)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(f){this.queued||this._player.setPosition(f)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(f){const o=this._player;o.triggerCallback&&o.triggerCallback(f)}}function Hp(l){return l&&1===l.nodeType}function Sn(l,f){const o=l.style.display;return l.style.display=f??"none",o}function wf(l,f,o,d,m){const T=[];o.forEach(ue=>T.push(Sn(ue)));const k=[];d.forEach((ue,ge)=>{const Te=new Map;ue.forEach(Xe=>{const ct=f.computeStyle(ge,Xe,m);Te.set(Xe,ct),(!ct||0==ct.length)&&(ge[tl]=m0,k.push(ge))}),l.set(ge,Te)});let J=0;return o.forEach(ue=>Sn(ue,T[J++])),k}function qr(l,f){const o=new Map;if(l.forEach(J=>o.set(J,[])),0==f.length)return o;const m=new Set(f),T=new Map;function k(J){if(!J)return 1;let ue=T.get(J);if(ue)return ue;const ge=J.parentNode;return ue=o.has(ge)?ge:m.has(ge)?1:k(ge),T.set(J,ue),ue}return f.forEach(J=>{const ue=k(J);1!==ue&&o.get(ue).push(J)}),o}function nl(l,f){l.classList?.add(f)}function zi(l,f){l.classList?.remove(f)}function Xt(l,f,o){Pu(o).onDone(()=>l.processLeaveNode(f))}function Sm(l,f){for(let o=0;o<l.length;o++){const d=l[o];d instanceof Yr?Sm(d.players,f):f.push(d)}}function _0(l,f,o){const d=o.get(l);if(!d)return!1;let m=f.get(l);return m?d.forEach(T=>m.add(T)):f.set(l,d),o.delete(l),!0}class fh{constructor(f,o,d){this.bodyNode=f,this._driver=o,this._normalizer=d,this._triggerCache={},this.onRemovalComplete=(m,T)=>{},this._transitionEngine=new Vb(f,o,d),this._timelineEngine=new wn(f,o,d),this._transitionEngine.onRemovalComplete=(m,T)=>this.onRemovalComplete(m,T)}registerTrigger(f,o,d,m,T){const k=f+"-"+m;let J=this._triggerCache[k];if(!J){const ue=[],Te=Dc(this._driver,T,ue,[]);if(ue.length)throw function Ru(l,f){return new h.vHH(3404,!1)}();J=function Ot(l,f,o){return new Gs(l,f,o)}(m,Te,this._normalizer),this._triggerCache[k]=J}this._transitionEngine.registerTrigger(o,m,J)}register(f,o){this._transitionEngine.register(f,o)}destroy(f,o){this._transitionEngine.destroy(f,o)}onInsert(f,o,d,m){this._transitionEngine.insertNode(f,o,d,m)}onRemove(f,o,d){this._transitionEngine.removeNode(f,o,d)}disableAnimations(f,o){this._transitionEngine.markElementAsDisabled(f,o)}process(f,o,d,m){if("@"==d.charAt(0)){const[T,k]=hy(d);this._timelineEngine.command(T,o,k,m)}else this._transitionEngine.trigger(f,o,d,m)}listen(f,o,d,m,T){if("@"==d.charAt(0)){const[k,J]=hy(d);return this._timelineEngine.listen(k,o,J,T)}return this._transitionEngine.listen(f,o,d,m,T)}flush(f=-1){this._transitionEngine.flush(f)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(f){this._transitionEngine.afterFlushAnimationsDone(f)}}let Gp=(()=>{class l{static#e=this.initialStylesByElement=new WeakMap;constructor(o,d,m){this._element=o,this._startStyles=d,this._endStyles=m,this._state=0;let T=l.initialStylesByElement.get(o);T||l.initialStylesByElement.set(o,T=new Map),this._initialStyles=T}start(){this._state<1&&(this._startStyles&&Tl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Tl(this._element,this._initialStyles),this._endStyles&&(Tl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(l.initialStylesByElement.delete(this._element),this._startStyles&&(Ql(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ql(this._element,this._endStyles),this._endStyles=null),Tl(this._element,this._initialStyles),this._state=3)}}return l})();function Am(l){let f=null;return l.forEach((o,d)=>{(function y0(l){return"display"===l||"position"===l})(d)&&(f=f||new Map,f.set(d,o))}),f}class Wa{constructor(f,o,d,m){this.element=f,this.keyframes=o,this.options=d,this._specialStyles=m,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=d.duration,this._delay=d.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(f=>f()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const f=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,f,this.options),this._finalKeyframe=f.length?f[f.length-1]:new Map;const o=()=>this._onFinish();this.domPlayer.addEventListener("finish",o),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",o)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(f){const o=[];return f.forEach(d=>{o.push(Object.fromEntries(d))}),o}_triggerWebAnimation(f,o,d){return f.animate(this._convertKeyframesToObject(o),d)}onStart(f){this._originalOnStartFns.push(f),this._onStartFns.push(f)}onDone(f){this._originalOnDoneFns.push(f),this._onDoneFns.push(f)}onDestroy(f){this._onDestroyFns.push(f)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(f=>f()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(f=>f()),this._onDestroyFns=[])}setPosition(f){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=f*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const f=new Map;this.hasStarted()&&this._finalKeyframe.forEach((d,m)=>{"offset"!==m&&f.set(m,this._finished?d:gf(this.element,m))}),this.currentSnapshot=f}triggerCallback(f){const o="start"===f?this._onStartFns:this._onDoneFns;o.forEach(d=>d()),o.length=0}}class Nm{validateStyleProperty(f){return!0}validateAnimatableStyleProperty(f){return!0}matchesElement(f,o){return!1}containsElement(f,o){return n0(f,o)}getParentElement(f){return Np(f)}query(f,o,d){return py(f,o,d)}computeStyle(f,o,d){return window.getComputedStyle(f)[o]}animate(f,o,d,m,T,k=[]){const ue={duration:d,delay:m,fill:0==m?"both":"forwards"};T&&(ue.easing=T);const ge=new Map,Te=k.filter(ut=>ut instanceof Wa);(function _m(l,f){return 0===l||0===f})(d,m)&&Te.forEach(ut=>{ut.currentSnapshot.forEach((Mt,Ut)=>ge.set(Ut,Mt))});let Xe=function Ec(l){return l.length?l[0]instanceof Map?l:l.map(f=>s0(f)):[]}(o).map(ut=>Bu(ut));Xe=function pf(l,f,o){if(o.size&&f.length){let d=f[0],m=[];if(o.forEach((T,k)=>{d.has(k)||m.push(k),d.set(k,T)}),m.length)for(let T=1;T<f.length;T++){let k=f[T];m.forEach(J=>k.set(J,gf(l,J)))}}return f}(f,Xe,ge);const ct=function Ub(l,f){let o=null,d=null;return Array.isArray(f)&&f.length?(o=Am(f[0]),f.length>1&&(d=Am(f[f.length-1]))):f instanceof Map&&(o=Am(f)),o||d?new Gp(l,o,d):null}(f,Xe);return new Wa(f,Xe,ue,ct)}}let Dy=(()=>{class l extends ${constructor(o,d){super(),this._nextAnimationId=0,this._renderer=o.createRenderer(d.body,{id:"0",encapsulation:h.ifc.None,styles:[],data:{animation:[]}})}build(o){const d=this._nextAnimationId.toString();this._nextAnimationId++;const m=Array.isArray(o)?Dn(o):o;return jp(this._renderer,null,d,"register",[m]),new Hb(d,this._renderer)}static#e=this.\u0275fac=function(d){return new(d||l)(h.LFG(h.FYo),h.LFG(le.K0))};static#t=this.\u0275prov=h.Yz7({token:l,factory:l.\u0275fac})}return l})();class Hb extends be{constructor(f,o){super(),this._id=f,this._renderer=o}create(f,o){return new ph(this._id,f,o||{},this._renderer)}}class ph{constructor(f,o,d,m){this.id=f,this.element=o,this._renderer=m,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",d)}_listen(f,o){return this._renderer.listen(this.element,`@@${this.id}:${f}`,o)}_command(f,...o){return jp(this._renderer,this.element,this.id,f,o)}onDone(f){this._listen("done",f)}onStart(f){this._listen("start",f)}onDestroy(f){this._listen("destroy",f)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(f){this._command("setPosition",f)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function jp(l,f,o,d,m){return l.setProperty(f,`@@${o}:${d}`,m)}const Om="@.disabled";let oc=(()=>{class l{constructor(o,d,m){this.delegate=o,this.engine=d,this._zone=m,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,d.onRemovalComplete=(T,k)=>{const J=k?.parentNode(T);J&&k.removeChild(J,T)}}createRenderer(o,d){const T=this.delegate.createRenderer(o,d);if(!(o&&d&&d.data&&d.data.animation)){let Te=this._rendererCache.get(T);return Te||(Te=new v0("",T,this.engine,()=>this._rendererCache.delete(T)),this._rendererCache.set(T,Te)),Te}const k=d.id,J=d.id+"-"+this._currentId;this._currentId++,this.engine.register(J,o);const ue=Te=>{Array.isArray(Te)?Te.forEach(ue):this.engine.registerTrigger(k,J,o,Te.name,Te)};return d.data.animation.forEach(ue),new $p(this,J,T,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(o,d,m){o>=0&&o<this._microtaskId?this._zone.run(()=>d(m)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(T=>{const[k,J]=T;k(J)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([d,m]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(d){return new(d||l)(h.LFG(h.FYo),h.LFG(fh),h.LFG(h.R0b))};static#t=this.\u0275prov=h.Yz7({token:l,factory:l.\u0275fac})}return l})();class v0{constructor(f,o,d,m){this.namespaceId=f,this.delegate=o,this.engine=d,this._onDestroy=m}get data(){return this.delegate.data}destroyNode(f){this.delegate.destroyNode?.(f)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(f,o){return this.delegate.createElement(f,o)}createComment(f){return this.delegate.createComment(f)}createText(f){return this.delegate.createText(f)}appendChild(f,o){this.delegate.appendChild(f,o),this.engine.onInsert(this.namespaceId,o,f,!1)}insertBefore(f,o,d,m=!0){this.delegate.insertBefore(f,o,d),this.engine.onInsert(this.namespaceId,o,f,m)}removeChild(f,o,d){this.engine.onRemove(this.namespaceId,o,this.delegate)}selectRootElement(f,o){return this.delegate.selectRootElement(f,o)}parentNode(f){return this.delegate.parentNode(f)}nextSibling(f){return this.delegate.nextSibling(f)}setAttribute(f,o,d,m){this.delegate.setAttribute(f,o,d,m)}removeAttribute(f,o,d){this.delegate.removeAttribute(f,o,d)}addClass(f,o){this.delegate.addClass(f,o)}removeClass(f,o){this.delegate.removeClass(f,o)}setStyle(f,o,d,m){this.delegate.setStyle(f,o,d,m)}removeStyle(f,o,d){this.delegate.removeStyle(f,o,d)}setProperty(f,o,d){"@"==o.charAt(0)&&o==Om?this.disableAnimations(f,!!d):this.delegate.setProperty(f,o,d)}setValue(f,o){this.delegate.setValue(f,o)}listen(f,o,d){return this.delegate.listen(f,o,d)}disableAnimations(f,o){this.engine.disableAnimations(f,o)}}class $p extends v0{constructor(f,o,d,m,T){super(o,d,m,T),this.factory=f,this.namespaceId=o}setProperty(f,o,d){"@"==o.charAt(0)?"."==o.charAt(1)&&o==Om?this.disableAnimations(f,d=void 0===d||!!d):this.engine.process(this.namespaceId,f,o.slice(1),d):this.delegate.setProperty(f,o,d)}listen(f,o,d){if("@"==o.charAt(0)){const m=function eu(l){switch(l){case"body":return document.body;case"document":return document;case"window":return window;default:return l}}(f);let T=o.slice(1),k="";return"@"!=T.charAt(0)&&([T,k]=function Gb(l){const f=l.indexOf(".");return[l.substring(0,f),l.slice(f+1)]}(T)),this.engine.listen(this.namespaceId,m,T,k,J=>{this.factory.scheduleListenerCallback(J._data||-1,d,J)})}return this.delegate.listen(f,o,d)}}const wd=[{provide:$,useClass:Dy},{provide:yf,useFactory:function Tf(){return new f0}},{provide:fh,useClass:(()=>{class l extends fh{constructor(o,d,m,T){super(o.body,d,m)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(d){return new(d||l)(h.LFG(le.K0),h.LFG(Yl),h.LFG(yf),h.LFG(h.z2F))};static#t=this.\u0275prov=h.Yz7({token:l,factory:l.\u0275fac})}return l})()},{provide:h.FYo,useFactory:function $o(l,f,o){return new oc(l,f,o)},deps:[w.se,fh,h.R0b]}],Ef=[{provide:Yl,useFactory:()=>new Nm},{provide:h.QbO,useValue:"BrowserAnimations"},...wd],is=[{provide:Yl,useClass:_d},{provide:h.QbO,useValue:"NoopAnimations"},...wd];let gh=(()=>{class l{static withConfig(o){return{ngModule:l,providers:o.disableAnimations?is:Ef}}static#e=this.\u0275fac=function(d){return new(d||l)};static#t=this.\u0275mod=h.oAB({type:l});static#n=this.\u0275inj=h.cJS({providers:Ef,imports:[w.b2]})}return l})(),Cf=(()=>{class l{static#e=this.\u0275fac=function(d){return new(d||l)};static#t=this.\u0275mod=h.oAB({type:l,bootstrap:[ai]});static#n=this.\u0275inj=h.cJS({imports:[w.b2,V,Ep.r,gh,(0,Hi.hX)(()=>(0,Hi.ZF)(qs.N.firebaseConfig)),(0,bt.Cm)(()=>(0,bt.ad)()),Ma,gd]})}return l})();w.q6().bootstrapModule(Cf).catch(l=>console.error(l))},5619:($t,We,Q)=>{Q.d(We,{X:()=>ce});var w=Q(8645);class ce extends w.x{constructor(we){super(),this._value=we}get value(){return this.getValue()}_subscribe(we){const de=super._subscribe(we);return!de.closed&&we.next(this._value),de}getValue(){const{hasError:we,thrownError:de,_value:fe}=this;if(we)throw de;return this._throwIfClosed(),fe}next(we){super.next(this._value=we)}}},5592:($t,We,Q)=>{Q.d(We,{y:()=>He});var w=Q(305),ce=Q(7394),h=Q(4850),we=Q(8407),de=Q(2653),fe=Q(4674),Oe=Q(1441);let He=(()=>{class Se{constructor(Pe){Pe&&(this._subscribe=Pe)}lift(Pe){const it=new Se;return it.source=this,it.operator=Pe,it}subscribe(Pe,it,At){const Vt=function le(Se){return Se&&Se instanceof w.Lv||function re(Se){return Se&&(0,fe.m)(Se.next)&&(0,fe.m)(Se.error)&&(0,fe.m)(Se.complete)}(Se)&&(0,ce.Nn)(Se)}(Pe)?Pe:new w.Hp(Pe,it,At);return(0,Oe.x)(()=>{const{operator:Ft,source:An}=this;Vt.add(Ft?Ft.call(Vt,An):An?this._subscribe(Vt):this._trySubscribe(Vt))}),Vt}_trySubscribe(Pe){try{return this._subscribe(Pe)}catch(it){Pe.error(it)}}forEach(Pe,it){return new(it=Ee(it))((At,Vt)=>{const Ft=new w.Hp({next:An=>{try{Pe(An)}catch(xt){Vt(xt),Ft.unsubscribe()}},error:Vt,complete:At});this.subscribe(Ft)})}_subscribe(Pe){var it;return null===(it=this.source)||void 0===it?void 0:it.subscribe(Pe)}[h.L](){return this}pipe(...Pe){return(0,we.U)(Pe)(this)}toPromise(Pe){return new(Pe=Ee(Pe))((it,At)=>{let Vt;this.subscribe(Ft=>Vt=Ft,Ft=>At(Ft),()=>it(Vt))})}}return Se.create=et=>new Se(et),Se})();function Ee(Se){var et;return null!==(et=Se??de.config.Promise)&&void 0!==et?et:Promise}},8645:($t,We,Q)=>{Q.d(We,{x:()=>Oe});var w=Q(5592),ce=Q(7394);const we=(0,Q(2306).d)(Ee=>function(){Ee(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var de=Q(9039),fe=Q(1441);let Oe=(()=>{class Ee extends w.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(le){const Se=new He(this,this);return Se.operator=le,Se}_throwIfClosed(){if(this.closed)throw new we}next(le){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Se of this.currentObservers)Se.next(le)}})}error(le){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=le;const{observers:Se}=this;for(;Se.length;)Se.shift().error(le)}})}complete(){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:le}=this;for(;le.length;)le.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var le;return(null===(le=this.observers)||void 0===le?void 0:le.length)>0}_trySubscribe(le){return this._throwIfClosed(),super._trySubscribe(le)}_subscribe(le){return this._throwIfClosed(),this._checkFinalizedStatuses(le),this._innerSubscribe(le)}_innerSubscribe(le){const{hasError:Se,isStopped:et,observers:Pe}=this;return Se||et?ce.Lc:(this.currentObservers=null,Pe.push(le),new ce.w0(()=>{this.currentObservers=null,(0,de.P)(Pe,le)}))}_checkFinalizedStatuses(le){const{hasError:Se,thrownError:et,isStopped:Pe}=this;Se?le.error(et):Pe&&le.complete()}asObservable(){const le=new w.y;return le.source=this,le}}return Ee.create=(re,le)=>new He(re,le),Ee})();class He extends Oe{constructor(re,le){super(),this.destination=re,this.source=le}next(re){var le,Se;null===(Se=null===(le=this.destination)||void 0===le?void 0:le.next)||void 0===Se||Se.call(le,re)}error(re){var le,Se;null===(Se=null===(le=this.destination)||void 0===le?void 0:le.error)||void 0===Se||Se.call(le,re)}complete(){var re,le;null===(le=null===(re=this.destination)||void 0===re?void 0:re.complete)||void 0===le||le.call(re)}_subscribe(re){var le,Se;return null!==(Se=null===(le=this.source)||void 0===le?void 0:le.subscribe(re))&&void 0!==Se?Se:ce.Lc}}},305:($t,We,Q)=>{Q.d(We,{Hp:()=>At,Lv:()=>Se});var w=Q(4674),ce=Q(7394),h=Q(2653),we=Q(3894),de=Q(2420);const fe=Ee("C",void 0,void 0);function Ee(mt,ot,vt){return{kind:mt,value:ot,error:vt}}var re=Q(7599),le=Q(1441);class Se extends ce.w0{constructor(ot){super(),this.isStopped=!1,ot?(this.destination=ot,(0,ce.Nn)(ot)&&ot.add(this)):this.destination=xt}static create(ot,vt,_t){return new At(ot,vt,_t)}next(ot){this.isStopped?An(function He(mt){return Ee("N",mt,void 0)}(ot),this):this._next(ot)}error(ot){this.isStopped?An(function Oe(mt){return Ee("E",void 0,mt)}(ot),this):(this.isStopped=!0,this._error(ot))}complete(){this.isStopped?An(fe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ot){this.destination.next(ot)}_error(ot){try{this.destination.error(ot)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const et=Function.prototype.bind;function Pe(mt,ot){return et.call(mt,ot)}class it{constructor(ot){this.partialObserver=ot}next(ot){const{partialObserver:vt}=this;if(vt.next)try{vt.next(ot)}catch(_t){Vt(_t)}}error(ot){const{partialObserver:vt}=this;if(vt.error)try{vt.error(ot)}catch(_t){Vt(_t)}else Vt(ot)}complete(){const{partialObserver:ot}=this;if(ot.complete)try{ot.complete()}catch(vt){Vt(vt)}}}class At extends Se{constructor(ot,vt,_t){let je;if(super(),(0,w.m)(ot)||!ot)je={next:ot??void 0,error:vt??void 0,complete:_t??void 0};else{let ve;this&&h.config.useDeprecatedNextContext?(ve=Object.create(ot),ve.unsubscribe=()=>this.unsubscribe(),je={next:ot.next&&Pe(ot.next,ve),error:ot.error&&Pe(ot.error,ve),complete:ot.complete&&Pe(ot.complete,ve)}):je=ot}this.destination=new it(je)}}function Vt(mt){h.config.useDeprecatedSynchronousErrorHandling?(0,le.O)(mt):(0,we.h)(mt)}function An(mt,ot){const{onStoppedNotification:vt}=h.config;vt&&re.z.setTimeout(()=>vt(mt,ot))}const xt={closed:!0,next:de.Z,error:function Ft(mt){throw mt},complete:de.Z}},7394:($t,We,Q)=>{Q.d(We,{Lc:()=>fe,w0:()=>de,Nn:()=>Oe});var w=Q(4674);const h=(0,Q(2306).d)(Ee=>function(le){Ee(this),this.message=le?`${le.length} errors occurred during unsubscription:\n${le.map((Se,et)=>`${et+1}) ${Se.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=le});var we=Q(9039);class de{constructor(re){this.initialTeardown=re,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let re;if(!this.closed){this.closed=!0;const{_parentage:le}=this;if(le)if(this._parentage=null,Array.isArray(le))for(const Pe of le)Pe.remove(this);else le.remove(this);const{initialTeardown:Se}=this;if((0,w.m)(Se))try{Se()}catch(Pe){re=Pe instanceof h?Pe.errors:[Pe]}const{_finalizers:et}=this;if(et){this._finalizers=null;for(const Pe of et)try{He(Pe)}catch(it){re=re??[],it instanceof h?re=[...re,...it.errors]:re.push(it)}}if(re)throw new h(re)}}add(re){var le;if(re&&re!==this)if(this.closed)He(re);else{if(re instanceof de){if(re.closed||re._hasParent(this))return;re._addParent(this)}(this._finalizers=null!==(le=this._finalizers)&&void 0!==le?le:[]).push(re)}}_hasParent(re){const{_parentage:le}=this;return le===re||Array.isArray(le)&&le.includes(re)}_addParent(re){const{_parentage:le}=this;this._parentage=Array.isArray(le)?(le.push(re),le):le?[le,re]:re}_removeParent(re){const{_parentage:le}=this;le===re?this._parentage=null:Array.isArray(le)&&(0,we.P)(le,re)}remove(re){const{_finalizers:le}=this;le&&(0,we.P)(le,re),re instanceof de&&re._removeParent(this)}}de.EMPTY=(()=>{const Ee=new de;return Ee.closed=!0,Ee})();const fe=de.EMPTY;function Oe(Ee){return Ee instanceof de||Ee&&"closed"in Ee&&(0,w.m)(Ee.remove)&&(0,w.m)(Ee.add)&&(0,w.m)(Ee.unsubscribe)}function He(Ee){(0,w.m)(Ee)?Ee():Ee.unsubscribe()}},2653:($t,We,Q)=>{Q.d(We,{config:()=>w});const w={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},5211:($t,We,Q)=>{Q.d(We,{z:()=>de});var w=Q(7537),h=Q(9940),we=Q(2459);function de(...fe){return function ce(){return(0,w.J)(1)}()((0,we.D)(fe,(0,h.yG)(fe)))}},6232:($t,We,Q)=>{Q.d(We,{E:()=>ce});const ce=new(Q(5592).y)(de=>de.complete())},2459:($t,We,Q)=>{Q.d(We,{D:()=>ot});var w=Q(4829),ce=Q(3093),h=Q(5137),fe=Q(5592),He=Q(4971),Ee=Q(4674),re=Q(7103);function Se(vt,_t){if(!vt)throw new Error("Iterable cannot be null");return new fe.y(je=>{(0,re.f)(je,_t,()=>{const ve=vt[Symbol.asyncIterator]();(0,re.f)(je,_t,()=>{ve.next().then(Qe=>{Qe.done?je.complete():je.next(Qe.value)})},0,!0)})})}var et=Q(8382),Pe=Q(4026),it=Q(4266),At=Q(3664),Vt=Q(5726),Ft=Q(9853),An=Q(541);function ot(vt,_t){return _t?function mt(vt,_t){if(null!=vt){if((0,et.c)(vt))return function we(vt,_t){return(0,w.Xf)(vt).pipe((0,h.R)(_t),(0,ce.Q)(_t))}(vt,_t);if((0,it.z)(vt))return function Oe(vt,_t){return new fe.y(je=>{let ve=0;return _t.schedule(function(){ve===vt.length?je.complete():(je.next(vt[ve++]),je.closed||this.schedule())})})}(vt,_t);if((0,Pe.t)(vt))return function de(vt,_t){return(0,w.Xf)(vt).pipe((0,h.R)(_t),(0,ce.Q)(_t))}(vt,_t);if((0,Vt.D)(vt))return Se(vt,_t);if((0,At.T)(vt))return function le(vt,_t){return new fe.y(je=>{let ve;return(0,re.f)(je,_t,()=>{ve=vt[He.h](),(0,re.f)(je,_t,()=>{let Qe,gt;try{({value:Qe,done:gt}=ve.next())}catch(Rn){return void je.error(Rn)}gt?je.complete():je.next(Qe)},0,!0)}),()=>(0,Ee.m)(ve?.return)&&ve.return()})}(vt,_t);if((0,An.L)(vt))return function xt(vt,_t){return Se((0,An.Q)(vt),_t)}(vt,_t)}throw(0,Ft.z)(vt)}(vt,_t):(0,w.Xf)(vt)}},4829:($t,We,Q)=>{Q.d(We,{Xf:()=>et});var w=Q(7582),ce=Q(4266),h=Q(4026),we=Q(5592),de=Q(8382),fe=Q(5726),Oe=Q(9853),He=Q(3664),Ee=Q(541),re=Q(4674),le=Q(3894),Se=Q(4850);function et(mt){if(mt instanceof we.y)return mt;if(null!=mt){if((0,de.c)(mt))return function Pe(mt){return new we.y(ot=>{const vt=mt[Se.L]();if((0,re.m)(vt.subscribe))return vt.subscribe(ot);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(mt);if((0,ce.z)(mt))return function it(mt){return new we.y(ot=>{for(let vt=0;vt<mt.length&&!ot.closed;vt++)ot.next(mt[vt]);ot.complete()})}(mt);if((0,h.t)(mt))return function At(mt){return new we.y(ot=>{mt.then(vt=>{ot.closed||(ot.next(vt),ot.complete())},vt=>ot.error(vt)).then(null,le.h)})}(mt);if((0,fe.D)(mt))return Ft(mt);if((0,He.T)(mt))return function Vt(mt){return new we.y(ot=>{for(const vt of mt)if(ot.next(vt),ot.closed)return;ot.complete()})}(mt);if((0,Ee.L)(mt))return function An(mt){return Ft((0,Ee.Q)(mt))}(mt)}throw(0,Oe.z)(mt)}function Ft(mt){return new we.y(ot=>{(function xt(mt,ot){var vt,_t,je,ve;return(0,w.mG)(this,void 0,void 0,function*(){try{for(vt=(0,w.KL)(mt);!(_t=yield vt.next()).done;)if(ot.next(_t.value),ot.closed)return}catch(Qe){je={error:Qe}}finally{try{_t&&!_t.done&&(ve=vt.return)&&(yield ve.call(vt))}finally{if(je)throw je.error}}ot.complete()})})(mt,ot).catch(vt=>ot.error(vt))})}},3019:($t,We,Q)=>{Q.d(We,{T:()=>fe});var w=Q(7537),ce=Q(4829),h=Q(6232),we=Q(9940),de=Q(2459);function fe(...Oe){const He=(0,we.yG)(Oe),Ee=(0,we._6)(Oe,1/0),re=Oe;return re.length?1===re.length?(0,ce.Xf)(re[0]):(0,w.J)(Ee)((0,de.D)(re,He)):h.E}},2096:($t,We,Q)=>{Q.d(We,{of:()=>h});var w=Q(9940),ce=Q(2459);function h(...we){const de=(0,w.yG)(we);return(0,ce.D)(we,de)}},8251:($t,We,Q)=>{Q.d(We,{x:()=>ce});var w=Q(305);function ce(we,de,fe,Oe,He){return new h(we,de,fe,Oe,He)}class h extends w.Lv{constructor(de,fe,Oe,He,Ee,re){super(de),this.onFinalize=Ee,this.shouldUnsubscribe=re,this._next=fe?function(le){try{fe(le)}catch(Se){de.error(Se)}}:super._next,this._error=He?function(le){try{He(le)}catch(Se){de.error(Se)}finally{this.unsubscribe()}}:super._error,this._complete=Oe?function(){try{Oe()}catch(le){de.error(le)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var de;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:fe}=this;super.unsubscribe(),!fe&&(null===(de=this.onFinalize)||void 0===de||de.call(this))}}}},3997:($t,We,Q)=>{Q.d(We,{x:()=>we});var w=Q(2737),ce=Q(9360),h=Q(8251);function we(fe,Oe=w.y){return fe=fe??de,(0,ce.e)((He,Ee)=>{let re,le=!0;He.subscribe((0,h.x)(Ee,Se=>{const et=Oe(Se);(le||!fe(re,et))&&(le=!1,re=et,Ee.next(Se))}))})}function de(fe,Oe){return fe===Oe}},2181:($t,We,Q)=>{Q.d(We,{h:()=>h});var w=Q(9360),ce=Q(8251);function h(we,de){return(0,w.e)((fe,Oe)=>{let He=0;fe.subscribe((0,ce.x)(Oe,Ee=>we.call(de,Ee,He++)&&Oe.next(Ee)))})}},7398:($t,We,Q)=>{Q.d(We,{U:()=>h});var w=Q(9360),ce=Q(8251);function h(we,de){return(0,w.e)((fe,Oe)=>{let He=0;fe.subscribe((0,ce.x)(Oe,Ee=>{Oe.next(we.call(de,Ee,He++))}))})}},975:($t,We,Q)=>{Q.d(We,{h:()=>ce});var w=Q(7398);function ce(h){return(0,w.U)(()=>h)}},7537:($t,We,Q)=>{Q.d(We,{J:()=>h});var w=Q(1631),ce=Q(2737);function h(we=1/0){return(0,w.z)(ce.y,we)}},1631:($t,We,Q)=>{Q.d(We,{z:()=>He});var w=Q(7398),ce=Q(4829),h=Q(9360),we=Q(7103),de=Q(8251),Oe=Q(4674);function He(Ee,re,le=1/0){return(0,Oe.m)(re)?He((Se,et)=>(0,w.U)((Pe,it)=>re(Se,Pe,et,it))((0,ce.Xf)(Ee(Se,et))),le):("number"==typeof re&&(le=re),(0,h.e)((Se,et)=>function fe(Ee,re,le,Se,et,Pe,it,At){const Vt=[];let Ft=0,An=0,xt=!1;const mt=()=>{xt&&!Vt.length&&!Ft&&re.complete()},ot=_t=>Ft<Se?vt(_t):Vt.push(_t),vt=_t=>{Pe&&re.next(_t),Ft++;let je=!1;(0,ce.Xf)(le(_t,An++)).subscribe((0,de.x)(re,ve=>{et?.(ve),Pe?ot(ve):re.next(ve)},()=>{je=!0},void 0,()=>{if(je)try{for(Ft--;Vt.length&&Ft<Se;){const ve=Vt.shift();it?(0,we.f)(re,it,()=>vt(ve)):vt(ve)}mt()}catch(ve){re.error(ve)}}))};return Ee.subscribe((0,de.x)(re,ot,()=>{xt=!0,mt()})),()=>{At?.()}}(Se,et,Ee,le)))}},3093:($t,We,Q)=>{Q.d(We,{Q:()=>we});var w=Q(7103),ce=Q(9360),h=Q(8251);function we(de,fe=0){return(0,ce.e)((Oe,He)=>{Oe.subscribe((0,h.x)(He,Ee=>(0,w.f)(He,de,()=>He.next(Ee),fe),()=>(0,w.f)(He,de,()=>He.complete(),fe),Ee=>(0,w.f)(He,de,()=>He.error(Ee),fe)))})}},7921:($t,We,Q)=>{Q.d(We,{O:()=>we});var w=Q(5211),ce=Q(9940),h=Q(9360);function we(...de){const fe=(0,ce.yG)(de);return(0,h.e)((Oe,He)=>{(fe?(0,w.z)(de,Oe,fe):(0,w.z)(de,Oe)).subscribe(He)})}},5137:($t,We,Q)=>{Q.d(We,{R:()=>ce});var w=Q(9360);function ce(h,we=0){return(0,w.e)((de,fe)=>{fe.add(h.schedule(()=>de.subscribe(fe),we))})}},4664:($t,We,Q)=>{Q.d(We,{w:()=>we});var w=Q(4829),ce=Q(9360),h=Q(8251);function we(de,fe){return(0,ce.e)((Oe,He)=>{let Ee=null,re=0,le=!1;const Se=()=>le&&!Ee&&He.complete();Oe.subscribe((0,h.x)(He,et=>{Ee?.unsubscribe();let Pe=0;const it=re++;(0,w.Xf)(de(et,it)).subscribe(Ee=(0,h.x)(He,At=>He.next(fe?fe(et,At,it,Pe++):At),()=>{Ee=null,Se()}))},()=>{le=!0,Se()}))})}},8180:($t,We,Q)=>{Q.d(We,{q:()=>we});var w=Q(6232),ce=Q(9360),h=Q(8251);function we(de){return de<=0?()=>w.E:(0,ce.e)((fe,Oe)=>{let He=0;fe.subscribe((0,h.x)(Oe,Ee=>{++He<=de&&(Oe.next(Ee),de<=He&&Oe.complete())}))})}},9773:($t,We,Q)=>{Q.d(We,{R:()=>de});var w=Q(9360),ce=Q(8251),h=Q(4829),we=Q(2420);function de(fe){return(0,w.e)((Oe,He)=>{(0,h.Xf)(fe).subscribe((0,ce.x)(He,()=>He.complete(),we.Z)),!He.closed&&Oe.subscribe(He)})}},9397:($t,We,Q)=>{Q.d(We,{b:()=>de});var w=Q(4674),ce=Q(9360),h=Q(8251),we=Q(2737);function de(fe,Oe,He){const Ee=(0,w.m)(fe)||Oe||He?{next:fe,error:Oe,complete:He}:fe;return Ee?(0,ce.e)((re,le)=>{var Se;null===(Se=Ee.subscribe)||void 0===Se||Se.call(Ee);let et=!0;re.subscribe((0,h.x)(le,Pe=>{var it;null===(it=Ee.next)||void 0===it||it.call(Ee,Pe),le.next(Pe)},()=>{var Pe;et=!1,null===(Pe=Ee.complete)||void 0===Pe||Pe.call(Ee),le.complete()},Pe=>{var it;et=!1,null===(it=Ee.error)||void 0===it||it.call(Ee,Pe),le.error(Pe)},()=>{var Pe,it;et&&(null===(Pe=Ee.unsubscribe)||void 0===Pe||Pe.call(Ee)),null===(it=Ee.finalize)||void 0===it||it.call(Ee)}))}):we.y}},1954:($t,We,Q)=>{Q.d(We,{o:()=>de});var w=Q(7394);class ce extends w.w0{constructor(Oe,He){super()}schedule(Oe,He=0){return this}}const h={setInterval(fe,Oe,...He){const{delegate:Ee}=h;return Ee?.setInterval?Ee.setInterval(fe,Oe,...He):setInterval(fe,Oe,...He)},clearInterval(fe){const{delegate:Oe}=h;return(Oe?.clearInterval||clearInterval)(fe)},delegate:void 0};var we=Q(9039);class de extends ce{constructor(Oe,He){super(Oe,He),this.scheduler=Oe,this.work=He,this.pending=!1}schedule(Oe,He=0){var Ee;if(this.closed)return this;this.state=Oe;const re=this.id,le=this.scheduler;return null!=re&&(this.id=this.recycleAsyncId(le,re,He)),this.pending=!0,this.delay=He,this.id=null!==(Ee=this.id)&&void 0!==Ee?Ee:this.requestAsyncId(le,this.id,He),this}requestAsyncId(Oe,He,Ee=0){return h.setInterval(Oe.flush.bind(Oe,this),Ee)}recycleAsyncId(Oe,He,Ee=0){if(null!=Ee&&this.delay===Ee&&!1===this.pending)return He;null!=He&&h.clearInterval(He)}execute(Oe,He){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ee=this._execute(Oe,He);if(Ee)return Ee;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Oe,He){let re,Ee=!1;try{this.work(Oe)}catch(le){Ee=!0,re=le||new Error("Scheduled action threw falsy error")}if(Ee)return this.unsubscribe(),re}unsubscribe(){if(!this.closed){const{id:Oe,scheduler:He}=this,{actions:Ee}=He;this.work=this.state=this.scheduler=null,this.pending=!1,(0,we.P)(Ee,this),null!=Oe&&(this.id=this.recycleAsyncId(He,Oe,null)),this.delay=null,super.unsubscribe()}}}},9931:($t,We,Q)=>{Q.d(We,{v:()=>h});const w={now:()=>(w.delegate||Date).now(),delegate:void 0};class ce{constructor(de,fe=ce.now){this.schedulerActionCtor=de,this.now=fe}schedule(de,fe=0,Oe){return new this.schedulerActionCtor(this,de).schedule(Oe,fe)}}ce.now=w.now;class h extends ce{constructor(de,fe=ce.now){super(de,fe),this.actions=[],this._active=!1}flush(de){const{actions:fe}=this;if(this._active)return void fe.push(de);let Oe;this._active=!0;do{if(Oe=de.execute(de.state,de.delay))break}while(de=fe.shift());if(this._active=!1,Oe){for(;de=fe.shift();)de.unsubscribe();throw Oe}}}},6321:($t,We,Q)=>{Q.d(We,{P:()=>we,z:()=>h});var w=Q(1954);const h=new(Q(9931).v)(w.o),we=h},7599:($t,We,Q)=>{Q.d(We,{z:()=>w});const w={setTimeout(ce,h,...we){const{delegate:de}=w;return de?.setTimeout?de.setTimeout(ce,h,...we):setTimeout(ce,h,...we)},clearTimeout(ce){const{delegate:h}=w;return(h?.clearTimeout||clearTimeout)(ce)},delegate:void 0}},4971:($t,We,Q)=>{Q.d(We,{h:()=>ce});const ce=function w(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:($t,We,Q)=>{Q.d(We,{L:()=>w});const w="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:($t,We,Q)=>{Q.d(We,{K:()=>ce});const ce=(0,Q(2306).d)(h=>function(){h(this),this.name="EmptyError",this.message="no elements in sequence"})},9940:($t,We,Q)=>{Q.d(We,{_6:()=>fe,jO:()=>we,yG:()=>de});var w=Q(4674),ce=Q(671);function h(Oe){return Oe[Oe.length-1]}function we(Oe){return(0,w.m)(h(Oe))?Oe.pop():void 0}function de(Oe){return(0,ce.K)(h(Oe))?Oe.pop():void 0}function fe(Oe,He){return"number"==typeof h(Oe)?Oe.pop():He}},7453:($t,We,Q)=>{Q.d(We,{D:()=>de});const{isArray:w}=Array,{getPrototypeOf:ce,prototype:h,keys:we}=Object;function de(Oe){if(1===Oe.length){const He=Oe[0];if(w(He))return{args:He,keys:null};if(function fe(Oe){return Oe&&"object"==typeof Oe&&ce(Oe)===h}(He)){const Ee=we(He);return{args:Ee.map(re=>He[re]),keys:Ee}}}return{args:Oe,keys:null}}},9039:($t,We,Q)=>{function w(ce,h){if(ce){const we=ce.indexOf(h);0<=we&&ce.splice(we,1)}}Q.d(We,{P:()=>w})},2306:($t,We,Q)=>{function w(ce){const we=ce(de=>{Error.call(de),de.stack=(new Error).stack});return we.prototype=Object.create(Error.prototype),we.prototype.constructor=we,we}Q.d(We,{d:()=>w})},2714:($t,We,Q)=>{function w(ce,h){return ce.reduce((we,de,fe)=>(we[de]=h[fe],we),{})}Q.d(We,{n:()=>w})},1441:($t,We,Q)=>{Q.d(We,{O:()=>we,x:()=>h});var w=Q(2653);let ce=null;function h(de){if(w.config.useDeprecatedSynchronousErrorHandling){const fe=!ce;if(fe&&(ce={errorThrown:!1,error:null}),de(),fe){const{errorThrown:Oe,error:He}=ce;if(ce=null,Oe)throw He}}else de()}function we(de){w.config.useDeprecatedSynchronousErrorHandling&&ce&&(ce.errorThrown=!0,ce.error=de)}},7103:($t,We,Q)=>{function w(ce,h,we,de=0,fe=!1){const Oe=h.schedule(function(){we(),fe?ce.add(this.schedule(null,de)):this.unsubscribe()},de);if(ce.add(Oe),!fe)return Oe}Q.d(We,{f:()=>w})},2737:($t,We,Q)=>{function w(ce){return ce}Q.d(We,{y:()=>w})},4266:($t,We,Q)=>{Q.d(We,{z:()=>w});const w=ce=>ce&&"number"==typeof ce.length&&"function"!=typeof ce},5726:($t,We,Q)=>{Q.d(We,{D:()=>ce});var w=Q(4674);function ce(h){return Symbol.asyncIterator&&(0,w.m)(h?.[Symbol.asyncIterator])}},4674:($t,We,Q)=>{function w(ce){return"function"==typeof ce}Q.d(We,{m:()=>w})},8382:($t,We,Q)=>{Q.d(We,{c:()=>h});var w=Q(4850),ce=Q(4674);function h(we){return(0,ce.m)(we[w.L])}},3664:($t,We,Q)=>{Q.d(We,{T:()=>h});var w=Q(4971),ce=Q(4674);function h(we){return(0,ce.m)(we?.[w.h])}},4026:($t,We,Q)=>{Q.d(We,{t:()=>ce});var w=Q(4674);function ce(h){return(0,w.m)(h?.then)}},541:($t,We,Q)=>{Q.d(We,{L:()=>we,Q:()=>h});var w=Q(7582),ce=Q(4674);function h(de){return(0,w.FC)(this,arguments,function*(){const Oe=de.getReader();try{for(;;){const{value:He,done:Ee}=yield(0,w.qq)(Oe.read());if(Ee)return yield(0,w.qq)(void 0);yield yield(0,w.qq)(He)}}finally{Oe.releaseLock()}})}function we(de){return(0,ce.m)(de?.getReader)}},671:($t,We,Q)=>{Q.d(We,{K:()=>ce});var w=Q(4674);function ce(h){return h&&(0,w.m)(h.schedule)}},9360:($t,We,Q)=>{Q.d(We,{A:()=>ce,e:()=>h});var w=Q(4674);function ce(we){return(0,w.m)(we?.lift)}function h(we){return de=>{if(ce(de))return de.lift(function(fe){try{return we(fe,this)}catch(Oe){this.error(Oe)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:($t,We,Q)=>{Q.d(We,{Z:()=>we});var w=Q(7398);const{isArray:ce}=Array;function we(de){return(0,w.U)(fe=>function h(de,fe){return ce(fe)?de(...fe):de(fe)}(de,fe))}},2420:($t,We,Q)=>{function w(){}Q.d(We,{Z:()=>w})},8407:($t,We,Q)=>{Q.d(We,{U:()=>h,z:()=>ce});var w=Q(2737);function ce(...we){return h(we)}function h(we){return 0===we.length?w.y:1===we.length?we[0]:function(fe){return we.reduce((Oe,He)=>He(Oe),fe)}}},3894:($t,We,Q)=>{Q.d(We,{h:()=>h});var w=Q(2653),ce=Q(7599);function h(we){ce.z.setTimeout(()=>{const{onUnhandledError:de}=w.config;if(!de)throw we;de(we)})}},9853:($t,We,Q)=>{function w(ce){return new TypeError(`You provided ${null!==ce&&"object"==typeof ce?"an invalid object":`'${ce}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}Q.d(We,{z:()=>w})},6814:($t,We,Q)=>{Q.d(We,{Do:()=>At,EM:()=>fc,HT:()=>we,JF:()=>Si,K0:()=>fe,Mn:()=>In,Mx:()=>zs,O5:()=>Es,PM:()=>ui,S$:()=>et,Tn:()=>ve,UT:()=>Vn,V_:()=>He,Ye:()=>Vt,ax:()=>qs,b0:()=>it,bD:()=>Pi,ez:()=>wr,p6:()=>Zn,q:()=>h,sg:()=>qs,tP:()=>Zs,uU:()=>Ds,w_:()=>de,x:()=>je});var w=Q(9468);let ce=null;function h(){return ce}function we(O){ce||(ce=O)}class de{}const fe=new w.OlP("DocumentToken");let Oe=(()=>{class O{historyGo(U){throw new Error("Not implemented")}static#e=this.\u0275fac=function(X){return new(X||O)};static#t=this.\u0275prov=w.Yz7({token:O,factory:function(){return(0,w.f3M)(Ee)},providedIn:"platform"})}return O})();const He=new w.OlP("Location Initialized");let Ee=(()=>{class O extends Oe{constructor(){super(),this._doc=(0,w.f3M)(fe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return h().getBaseHref(this._doc)}onPopState(U){const X=h().getGlobalEventTarget(this._doc,"window");return X.addEventListener("popstate",U,!1),()=>X.removeEventListener("popstate",U)}onHashChange(U){const X=h().getGlobalEventTarget(this._doc,"window");return X.addEventListener("hashchange",U,!1),()=>X.removeEventListener("hashchange",U)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(U){this._location.pathname=U}pushState(U,X,ye){this._history.pushState(U,X,ye)}replaceState(U,X,ye){this._history.replaceState(U,X,ye)}forward(){this._history.forward()}back(){this._history.back()}historyGo(U=0){this._history.go(U)}getState(){return this._history.state}static#e=this.\u0275fac=function(X){return new(X||O)};static#t=this.\u0275prov=w.Yz7({token:O,factory:function(){return new O},providedIn:"platform"})}return O})();function re(O,ne){if(0==O.length)return ne;if(0==ne.length)return O;let U=0;return O.endsWith("/")&&U++,ne.startsWith("/")&&U++,2==U?O+ne.substring(1):1==U?O+ne:O+"/"+ne}function le(O){const ne=O.match(/#|\?|$/),U=ne&&ne.index||O.length;return O.slice(0,U-("/"===O[U-1]?1:0))+O.slice(U)}function Se(O){return O&&"?"!==O[0]?"?"+O:O}let et=(()=>{class O{historyGo(U){throw new Error("Not implemented")}static#e=this.\u0275fac=function(X){return new(X||O)};static#t=this.\u0275prov=w.Yz7({token:O,factory:function(){return(0,w.f3M)(it)},providedIn:"root"})}return O})();const Pe=new w.OlP("appBaseHref");let it=(()=>{class O extends et{constructor(U,X){super(),this._platformLocation=U,this._removeListenerFns=[],this._baseHref=X??this._platformLocation.getBaseHrefFromDOM()??(0,w.f3M)(fe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(U){this._removeListenerFns.push(this._platformLocation.onPopState(U),this._platformLocation.onHashChange(U))}getBaseHref(){return this._baseHref}prepareExternalUrl(U){return re(this._baseHref,U)}path(U=!1){const X=this._platformLocation.pathname+Se(this._platformLocation.search),ye=this._platformLocation.hash;return ye&&U?`${X}${ye}`:X}pushState(U,X,ye,Ke){const ft=this.prepareExternalUrl(ye+Se(Ke));this._platformLocation.pushState(U,X,ft)}replaceState(U,X,ye,Ke){const ft=this.prepareExternalUrl(ye+Se(Ke));this._platformLocation.replaceState(U,X,ft)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(U=0){this._platformLocation.historyGo?.(U)}static#e=this.\u0275fac=function(X){return new(X||O)(w.LFG(Oe),w.LFG(Pe,8))};static#t=this.\u0275prov=w.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"})}return O})(),At=(()=>{class O extends et{constructor(U,X){super(),this._platformLocation=U,this._baseHref="",this._removeListenerFns=[],null!=X&&(this._baseHref=X)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(U){this._removeListenerFns.push(this._platformLocation.onPopState(U),this._platformLocation.onHashChange(U))}getBaseHref(){return this._baseHref}path(U=!1){let X=this._platformLocation.hash;return null==X&&(X="#"),X.length>0?X.substring(1):X}prepareExternalUrl(U){const X=re(this._baseHref,U);return X.length>0?"#"+X:X}pushState(U,X,ye,Ke){let ft=this.prepareExternalUrl(ye+Se(Ke));0==ft.length&&(ft=this._platformLocation.pathname),this._platformLocation.pushState(U,X,ft)}replaceState(U,X,ye,Ke){let ft=this.prepareExternalUrl(ye+Se(Ke));0==ft.length&&(ft=this._platformLocation.pathname),this._platformLocation.replaceState(U,X,ft)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(U=0){this._platformLocation.historyGo?.(U)}static#e=this.\u0275fac=function(X){return new(X||O)(w.LFG(Oe),w.LFG(Pe,8))};static#t=this.\u0275prov=w.Yz7({token:O,factory:O.\u0275fac})}return O})(),Vt=(()=>{class O{constructor(U){this._subject=new w.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=U;const X=this._locationStrategy.getBaseHref();this._basePath=function mt(O){if(new RegExp("^(https?:)?//").test(O)){const[,U]=O.split(/\/\/[^\/]+/);return U}return O}(le(xt(X))),this._locationStrategy.onPopState(ye=>{this._subject.emit({url:this.path(!0),pop:!0,state:ye.state,type:ye.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(U=!1){return this.normalize(this._locationStrategy.path(U))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(U,X=""){return this.path()==this.normalize(U+Se(X))}normalize(U){return O.stripTrailingSlash(function An(O,ne){if(!O||!ne.startsWith(O))return ne;const U=ne.substring(O.length);return""===U||["/",";","?","#"].includes(U[0])?U:ne}(this._basePath,xt(U)))}prepareExternalUrl(U){return U&&"/"!==U[0]&&(U="/"+U),this._locationStrategy.prepareExternalUrl(U)}go(U,X="",ye=null){this._locationStrategy.pushState(ye,"",U,X),this._notifyUrlChangeListeners(this.prepareExternalUrl(U+Se(X)),ye)}replaceState(U,X="",ye=null){this._locationStrategy.replaceState(ye,"",U,X),this._notifyUrlChangeListeners(this.prepareExternalUrl(U+Se(X)),ye)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(U=0){this._locationStrategy.historyGo?.(U)}onUrlChange(U){return this._urlChangeListeners.push(U),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(X=>{this._notifyUrlChangeListeners(X.url,X.state)})),()=>{const X=this._urlChangeListeners.indexOf(U);this._urlChangeListeners.splice(X,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(U="",X){this._urlChangeListeners.forEach(ye=>ye(U,X))}subscribe(U,X,ye){return this._subject.subscribe({next:U,error:X,complete:ye})}static#e=this.normalizeQueryParams=Se;static#t=this.joinWithSlash=re;static#n=this.stripTrailingSlash=le;static#r=this.\u0275fac=function(X){return new(X||O)(w.LFG(et))};static#i=this.\u0275prov=w.Yz7({token:O,factory:function(){return function Ft(){return new Vt((0,w.LFG)(et))}()},providedIn:"root"})}return O})();function xt(O){return O.replace(/\/index.html$/,"")}var je=function(O){return O[O.Format=0]="Format",O[O.Standalone=1]="Standalone",O}(je||{}),ve=function(O){return O[O.Narrow=0]="Narrow",O[O.Abbreviated=1]="Abbreviated",O[O.Wide=2]="Wide",O[O.Short=3]="Short",O}(ve||{}),Qe=function(O){return O[O.Short=0]="Short",O[O.Medium=1]="Medium",O[O.Long=2]="Long",O[O.Full=3]="Full",O}(Qe||{}),gt=function(O){return O[O.Decimal=0]="Decimal",O[O.Group=1]="Group",O[O.List=2]="List",O[O.PercentSign=3]="PercentSign",O[O.PlusSign=4]="PlusSign",O[O.MinusSign=5]="MinusSign",O[O.Exponential=6]="Exponential",O[O.SuperscriptingExponent=7]="SuperscriptingExponent",O[O.PerMille=8]="PerMille",O[O.Infinity=9]="Infinity",O[O.NaN=10]="NaN",O[O.TimeSeparator=11]="TimeSeparator",O[O.CurrencyDecimal=12]="CurrencyDecimal",O[O.CurrencyGroup=13]="CurrencyGroup",O}(gt||{});function In(O,ne,U){const X=(0,w.cg1)(O),Ke=De([X[w.wAp.DaysFormat],X[w.wAp.DaysStandalone]],ne);return De(Ke,U)}function Vn(O,ne,U){const X=(0,w.cg1)(O),Ke=De([X[w.wAp.MonthsFormat],X[w.wAp.MonthsStandalone]],ne);return De(Ke,U)}function $e(O,ne){return De((0,w.cg1)(O)[w.wAp.DateFormat],ne)}function Je(O,ne){return De((0,w.cg1)(O)[w.wAp.TimeFormat],ne)}function Ve(O,ne){return De((0,w.cg1)(O)[w.wAp.DateTimeFormat],ne)}function nt(O,ne){const U=(0,w.cg1)(O),X=U[w.wAp.NumberSymbols][ne];if(typeof X>"u"){if(ne===gt.CurrencyDecimal)return U[w.wAp.NumberSymbols][gt.Decimal];if(ne===gt.CurrencyGroup)return U[w.wAp.NumberSymbols][gt.Group]}return X}function Dt(O){if(!O[w.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${O[w.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function De(O,ne){for(let U=ne;U>-1;U--)if(typeof O[U]<"u")return O[U];throw new Error("Locale data API: locale data undefined")}function xe(O){const[ne,U]=O.split(":");return{hours:+ne,minutes:+U}}const St=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,vr={},En=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var on=function(O){return O[O.Short=0]="Short",O[O.ShortGMT=1]="ShortGMT",O[O.Long=2]="Long",O[O.Extended=3]="Extended",O}(on||{}),Qt=function(O){return O[O.FullYear=0]="FullYear",O[O.Month=1]="Month",O[O.Date=2]="Date",O[O.Hours=3]="Hours",O[O.Minutes=4]="Minutes",O[O.Seconds=5]="Seconds",O[O.FractionalSeconds=6]="FractionalSeconds",O[O.Day=7]="Day",O}(Qt||{}),bn=function(O){return O[O.DayPeriods=0]="DayPeriods",O[O.Days=1]="Days",O[O.Months=2]="Months",O[O.Eras=3]="Eras",O}(bn||{});function Zn(O,ne,U,X){let ye=function V(O){if(W(O))return O;if("number"==typeof O&&!isNaN(O))return new Date(O);if("string"==typeof O){if(O=O.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(O)){const[ye,Ke=1,ft=1]=O.split("-").map(fn=>+fn);return en(ye,Ke-1,ft)}const U=parseFloat(O);if(!isNaN(O-U))return new Date(U);let X;if(X=O.match(St))return function G(O){const ne=new Date(0);let U=0,X=0;const ye=O[8]?ne.setUTCFullYear:ne.setFullYear,Ke=O[8]?ne.setUTCHours:ne.setHours;O[9]&&(U=Number(O[9]+O[10]),X=Number(O[9]+O[11])),ye.call(ne,Number(O[1]),Number(O[2])-1,Number(O[3]));const ft=Number(O[4]||0)-U,fn=Number(O[5]||0)-X,Sr=Number(O[6]||0),Ir=Math.floor(1e3*parseFloat("0."+(O[7]||0)));return Ke.call(ne,ft,fn,Sr,Ir),ne}(X)}const ne=new Date(O);if(!W(ne))throw new Error(`Unable to convert "${O}" into a date`);return ne}(O);ne=Cr(U,ne)||ne;let fn,ft=[];for(;ne;){if(fn=En.exec(ne),!fn){ft.push(ne);break}{ft=ft.concat(fn.slice(1));const or=ft.pop();if(!or)break;ne=or}}let Sr=ye.getTimezoneOffset();X&&(Sr=Zt(X,Sr),ye=function K(O,ne,U){const X=U?-1:1,ye=O.getTimezoneOffset();return function Un(O,ne){return(O=new Date(O.getTime())).setMinutes(O.getMinutes()+ne),O}(O,X*(Zt(ne,ye)-ye))}(ye,X,!0));let Ir="";return ft.forEach(or=>{const jn=function qt(O){if(It[O])return It[O];let ne;switch(O){case"G":case"GG":case"GGG":ne=Gn(bn.Eras,ve.Abbreviated);break;case"GGGG":ne=Gn(bn.Eras,ve.Wide);break;case"GGGGG":ne=Gn(bn.Eras,ve.Narrow);break;case"y":ne=Wn(Qt.FullYear,1,0,!1,!0);break;case"yy":ne=Wn(Qt.FullYear,2,0,!0,!0);break;case"yyy":ne=Wn(Qt.FullYear,3,0,!1,!0);break;case"yyyy":ne=Wn(Qt.FullYear,4,0,!1,!0);break;case"Y":ne=Ze(1);break;case"YY":ne=Ze(2,!0);break;case"YYY":ne=Ze(3);break;case"YYYY":ne=Ze(4);break;case"M":case"L":ne=Wn(Qt.Month,1,1);break;case"MM":case"LL":ne=Wn(Qt.Month,2,1);break;case"MMM":ne=Gn(bn.Months,ve.Abbreviated);break;case"MMMM":ne=Gn(bn.Months,ve.Wide);break;case"MMMMM":ne=Gn(bn.Months,ve.Narrow);break;case"LLL":ne=Gn(bn.Months,ve.Abbreviated,je.Standalone);break;case"LLLL":ne=Gn(bn.Months,ve.Wide,je.Standalone);break;case"LLLLL":ne=Gn(bn.Months,ve.Narrow,je.Standalone);break;case"w":ne=Ce(1);break;case"ww":ne=Ce(2);break;case"W":ne=Ce(1,!0);break;case"d":ne=Wn(Qt.Date,1);break;case"dd":ne=Wn(Qt.Date,2);break;case"c":case"cc":ne=Wn(Qt.Day,1);break;case"ccc":ne=Gn(bn.Days,ve.Abbreviated,je.Standalone);break;case"cccc":ne=Gn(bn.Days,ve.Wide,je.Standalone);break;case"ccccc":ne=Gn(bn.Days,ve.Narrow,je.Standalone);break;case"cccccc":ne=Gn(bn.Days,ve.Short,je.Standalone);break;case"E":case"EE":case"EEE":ne=Gn(bn.Days,ve.Abbreviated);break;case"EEEE":ne=Gn(bn.Days,ve.Wide);break;case"EEEEE":ne=Gn(bn.Days,ve.Narrow);break;case"EEEEEE":ne=Gn(bn.Days,ve.Short);break;case"a":case"aa":case"aaa":ne=Gn(bn.DayPeriods,ve.Abbreviated);break;case"aaaa":ne=Gn(bn.DayPeriods,ve.Wide);break;case"aaaaa":ne=Gn(bn.DayPeriods,ve.Narrow);break;case"b":case"bb":case"bbb":ne=Gn(bn.DayPeriods,ve.Abbreviated,je.Standalone,!0);break;case"bbbb":ne=Gn(bn.DayPeriods,ve.Wide,je.Standalone,!0);break;case"bbbbb":ne=Gn(bn.DayPeriods,ve.Narrow,je.Standalone,!0);break;case"B":case"BB":case"BBB":ne=Gn(bn.DayPeriods,ve.Abbreviated,je.Format,!0);break;case"BBBB":ne=Gn(bn.DayPeriods,ve.Wide,je.Format,!0);break;case"BBBBB":ne=Gn(bn.DayPeriods,ve.Narrow,je.Format,!0);break;case"h":ne=Wn(Qt.Hours,1,-12);break;case"hh":ne=Wn(Qt.Hours,2,-12);break;case"H":ne=Wn(Qt.Hours,1);break;case"HH":ne=Wn(Qt.Hours,2);break;case"m":ne=Wn(Qt.Minutes,1);break;case"mm":ne=Wn(Qt.Minutes,2);break;case"s":ne=Wn(Qt.Seconds,1);break;case"ss":ne=Wn(Qt.Seconds,2);break;case"S":ne=Wn(Qt.FractionalSeconds,1);break;case"SS":ne=Wn(Qt.FractionalSeconds,2);break;case"SSS":ne=Wn(Qt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":ne=Nn(on.Short);break;case"ZZZZZ":ne=Nn(on.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":ne=Nn(on.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":ne=Nn(on.Long);break;default:return null}return It[O]=ne,ne}(or);Ir+=jn?jn(ye,U,Sr):"''"===or?"'":or.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Ir}function en(O,ne,U){const X=new Date(0);return X.setFullYear(O,ne,U),X.setHours(0,0,0),X}function Cr(O,ne){const U=function dt(O){return(0,w.cg1)(O)[w.wAp.LocaleId]}(O);if(vr[U]=vr[U]||{},vr[U][ne])return vr[U][ne];let X="";switch(ne){case"shortDate":X=$e(O,Qe.Short);break;case"mediumDate":X=$e(O,Qe.Medium);break;case"longDate":X=$e(O,Qe.Long);break;case"fullDate":X=$e(O,Qe.Full);break;case"shortTime":X=Je(O,Qe.Short);break;case"mediumTime":X=Je(O,Qe.Medium);break;case"longTime":X=Je(O,Qe.Long);break;case"fullTime":X=Je(O,Qe.Full);break;case"short":const ye=Cr(O,"shortTime"),Ke=Cr(O,"shortDate");X=br(Ve(O,Qe.Short),[ye,Ke]);break;case"medium":const ft=Cr(O,"mediumTime"),fn=Cr(O,"mediumDate");X=br(Ve(O,Qe.Medium),[ft,fn]);break;case"long":const Sr=Cr(O,"longTime"),Ir=Cr(O,"longDate");X=br(Ve(O,Qe.Long),[Sr,Ir]);break;case"full":const or=Cr(O,"fullTime"),jn=Cr(O,"fullDate");X=br(Ve(O,Qe.Full),[or,jn])}return X&&(vr[U][ne]=X),X}function br(O,ne){return ne&&(O=O.replace(/\{([^}]+)}/g,function(U,X){return null!=ne&&X in ne?ne[X]:U})),O}function gn(O,ne,U="-",X,ye){let Ke="";(O<0||ye&&O<=0)&&(ye?O=1-O:(O=-O,Ke=U));let ft=String(O);for(;ft.length<ne;)ft="0"+ft;return X&&(ft=ft.slice(ft.length-ne)),Ke+ft}function Wn(O,ne,U=0,X=!1,ye=!1){return function(Ke,ft){let fn=function ir(O,ne){switch(O){case Qt.FullYear:return ne.getFullYear();case Qt.Month:return ne.getMonth();case Qt.Date:return ne.getDate();case Qt.Hours:return ne.getHours();case Qt.Minutes:return ne.getMinutes();case Qt.Seconds:return ne.getSeconds();case Qt.FractionalSeconds:return ne.getMilliseconds();case Qt.Day:return ne.getDay();default:throw new Error(`Unknown DateType value "${O}".`)}}(O,Ke);if((U>0||fn>-U)&&(fn+=U),O===Qt.Hours)0===fn&&-12===U&&(fn=12);else if(O===Qt.FractionalSeconds)return function rr(O,ne){return gn(O,3).substring(0,ne)}(fn,ne);const Sr=nt(ft,gt.MinusSign);return gn(fn,ne,Sr,X,ye)}}function Gn(O,ne,U=je.Format,X=!1){return function(ye,Ke){return function hi(O,ne,U,X,ye,Ke){switch(U){case bn.Months:return Vn(ne,ye,X)[O.getMonth()];case bn.Days:return In(ne,ye,X)[O.getDay()];case bn.DayPeriods:const ft=O.getHours(),fn=O.getMinutes();if(Ke){const Ir=function $n(O){const ne=(0,w.cg1)(O);return Dt(ne),(ne[w.wAp.ExtraData][2]||[]).map(X=>"string"==typeof X?xe(X):[xe(X[0]),xe(X[1])])}(ne),or=function hr(O,ne,U){const X=(0,w.cg1)(O);Dt(X);const Ke=De([X[w.wAp.ExtraData][0],X[w.wAp.ExtraData][1]],ne)||[];return De(Ke,U)||[]}(ne,ye,X),jn=Ir.findIndex(_i=>{if(Array.isArray(_i)){const[pr,Ai]=_i,yi=ft>=pr.hours&&fn>=pr.minutes,Ji=ft<Ai.hours||ft===Ai.hours&&fn<Ai.minutes;if(pr.hours<Ai.hours){if(yi&&Ji)return!0}else if(yi||Ji)return!0}else if(_i.hours===ft&&_i.minutes===fn)return!0;return!1});if(-1!==jn)return or[jn]}return function un(O,ne,U){const X=(0,w.cg1)(O),Ke=De([X[w.wAp.DayPeriodsFormat],X[w.wAp.DayPeriodsStandalone]],ne);return De(Ke,U)}(ne,ye,X)[ft<12?0:1];case bn.Eras:return function er(O,ne){return De((0,w.cg1)(O)[w.wAp.Eras],ne)}(ne,X)[O.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${U}`)}}(ye,Ke,O,ne,U,X)}}function Nn(O){return function(ne,U,X){const ye=-1*X,Ke=nt(U,gt.MinusSign),ft=ye>0?Math.floor(ye/60):Math.ceil(ye/60);switch(O){case on.Short:return(ye>=0?"+":"")+gn(ft,2,Ke)+gn(Math.abs(ye%60),2,Ke);case on.ShortGMT:return"GMT"+(ye>=0?"+":"")+gn(ft,1,Ke);case on.Long:return"GMT"+(ye>=0?"+":"")+gn(ft,2,Ke)+":"+gn(Math.abs(ye%60),2,Ke);case on.Extended:return 0===X?"Z":(ye>=0?"+":"")+gn(ft,2,Ke)+":"+gn(Math.abs(ye%60),2,Ke);default:throw new Error(`Unknown zone width "${O}"`)}}}const Kn=0,Or=4;function tt(O){return en(O.getFullYear(),O.getMonth(),O.getDate()+(Or-O.getDay()))}function Ce(O,ne=!1){return function(U,X){let ye;if(ne){const Ke=new Date(U.getFullYear(),U.getMonth(),1).getDay()-1,ft=U.getDate();ye=1+Math.floor((ft+Ke)/7)}else{const Ke=tt(U),ft=function fi(O){const ne=en(O,Kn,1).getDay();return en(O,0,1+(ne<=Or?Or:Or+7)-ne)}(Ke.getFullYear()),fn=Ke.getTime()-ft.getTime();ye=1+Math.round(fn/6048e5)}return gn(ye,O,nt(X,gt.MinusSign))}}function Ze(O,ne=!1){return function(U,X){return gn(tt(U).getFullYear(),O,nt(X,gt.MinusSign),ne)}}const It={};function Zt(O,ne){O=O.replace(/:/g,"");const U=Date.parse("Jan 01, 1970 00:00:00 "+O)/6e4;return isNaN(U)?ne:U}function W(O){return O instanceof Date&&!isNaN(O.valueOf())}function zs(O,ne){ne=encodeURIComponent(ne);for(const U of O.split(";")){const X=U.indexOf("="),[ye,Ke]=-1==X?[U,""]:[U.slice(0,X),U.slice(X+1)];if(ye.trim()===ne)return decodeURIComponent(Ke)}return null}class ai{constructor(ne,U,X,ye){this.$implicit=ne,this.ngForOf=U,this.index=X,this.count=ye}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let qs=(()=>{class O{set ngForOf(U){this._ngForOf=U,this._ngForOfDirty=!0}set ngForTrackBy(U){this._trackByFn=U}get ngForTrackBy(){return this._trackByFn}constructor(U,X,ye){this._viewContainer=U,this._template=X,this._differs=ye,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(U){U&&(this._template=U)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const U=this._ngForOf;!this._differ&&U&&(this._differ=this._differs.find(U).create(this.ngForTrackBy))}if(this._differ){const U=this._differ.diff(this._ngForOf);U&&this._applyChanges(U)}}_applyChanges(U){const X=this._viewContainer;U.forEachOperation((ye,Ke,ft)=>{if(null==ye.previousIndex)X.createEmbeddedView(this._template,new ai(ye.item,this._ngForOf,-1,-1),null===ft?void 0:ft);else if(null==ft)X.remove(null===Ke?void 0:Ke);else if(null!==Ke){const fn=X.get(Ke);X.move(fn,ft),Hi(fn,ye)}});for(let ye=0,Ke=X.length;ye<Ke;ye++){const fn=X.get(ye).context;fn.index=ye,fn.count=Ke,fn.ngForOf=this._ngForOf}U.forEachIdentityChange(ye=>{Hi(X.get(ye.currentIndex),ye)})}static ngTemplateContextGuard(U,X){return!0}static#e=this.\u0275fac=function(X){return new(X||O)(w.Y36(w.s_b),w.Y36(w.Rgc),w.Y36(w.ZZ4))};static#t=this.\u0275dir=w.lG2({type:O,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return O})();function Hi(O,ne){O.context.$implicit=ne.item}let Es=(()=>{class O{constructor(U,X){this._viewContainer=U,this._context=new uc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=X}set ngIf(U){this._context.$implicit=this._context.ngIf=U,this._updateView()}set ngIfThen(U){bi("ngIfThen",U),this._thenTemplateRef=U,this._thenViewRef=null,this._updateView()}set ngIfElse(U){bi("ngIfElse",U),this._elseTemplateRef=U,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(U,X){return!0}static#e=this.\u0275fac=function(X){return new(X||O)(w.Y36(w.s_b),w.Y36(w.Rgc))};static#t=this.\u0275dir=w.lG2({type:O,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return O})();class uc{constructor(){this.$implicit=null,this.ngIf=null}}function bi(O,ne){if(ne&&!ne.createEmbeddedView)throw new Error(`${O} must be a TemplateRef, but received '${(0,w.AaK)(ne)}'.`)}let Zs=(()=>{class O{constructor(U){this._viewContainerRef=U,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(U){if(U.ngTemplateOutlet||U.ngTemplateOutletInjector){const X=this._viewContainerRef;if(this._viewRef&&X.remove(X.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:ye,ngTemplateOutletContext:Ke,ngTemplateOutletInjector:ft}=this;this._viewRef=X.createEmbeddedView(ye,Ke,ft?{injector:ft}:void 0)}else this._viewRef=null}else this._viewRef&&U.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(X){return new(X||O)(w.Y36(w.s_b))};static#t=this.\u0275dir=w.lG2({type:O,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[w.TTD]})}return O})();const da=new w.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Oo=new w.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Ds=(()=>{class O{constructor(U,X,ye){this.locale=U,this.defaultTimezone=X,this.defaultOptions=ye}transform(U,X,ye,Ke){if(null==U||""===U||U!=U)return null;try{return Zn(U,X??this.defaultOptions?.dateFormat??"mediumDate",Ke||this.locale,ye??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(ft){throw function ji(O,ne){return new w.vHH(2100,!1)}()}}static#e=this.\u0275fac=function(X){return new(X||O)(w.Y36(w.soG,16),w.Y36(da,24),w.Y36(Oo,24))};static#t=this.\u0275pipe=w.Yjl({name:"date",type:O,pure:!0,standalone:!0})}return O})(),wr=(()=>{class O{static#e=this.\u0275fac=function(X){return new(X||O)};static#t=this.\u0275mod=w.oAB({type:O});static#n=this.\u0275inj=w.cJS({})}return O})();const Pi="browser",po="server";function ui(O){return O===po}let fc=(()=>{class O{static#e=this.\u0275prov=(0,w.Yz7)({token:O,providedIn:"root",factory:()=>new Fs((0,w.LFG)(fe),window)})}return O})();class Fs{constructor(ne,U){this.document=ne,this.window=U,this.offset=()=>[0,0]}setOffset(ne){this.offset=Array.isArray(ne)?()=>ne:ne}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ne){this.supportsScrolling()&&this.window.scrollTo(ne[0],ne[1])}scrollToAnchor(ne){if(!this.supportsScrolling())return;const U=function zr(O,ne){const U=O.getElementById(ne)||O.getElementsByName(ne)[0];if(U)return U;if("function"==typeof O.createTreeWalker&&O.body&&"function"==typeof O.body.attachShadow){const X=O.createTreeWalker(O.body,NodeFilter.SHOW_ELEMENT);let ye=X.currentNode;for(;ye;){const Ke=ye.shadowRoot;if(Ke){const ft=Ke.getElementById(ne)||Ke.querySelector(`[name="${ne}"]`);if(ft)return ft}ye=X.nextNode()}}return null}(this.document,ne);U&&(this.scrollToElement(U),U.focus())}setHistoryScrollRestoration(ne){this.supportsScrolling()&&(this.window.history.scrollRestoration=ne)}scrollToElement(ne){const U=ne.getBoundingClientRect(),X=U.left+this.window.pageXOffset,ye=U.top+this.window.pageYOffset,Ke=this.offset();this.window.scrollTo(X-Ke[0],ye-Ke[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Si{}},9468:($t,We,Q)=>{Q.d(We,{QbO:()=>zv,tb:()=>DI,AFp:()=>J_,ip1:()=>A1,hGG:()=>vD,z2F:()=>Mc,Ojb:()=>nT,sBO:()=>dD,Sil:()=>pI,EJc:()=>fI,ktI:()=>Ti,Xts:()=>Jh,SBq:()=>gd,lqb:()=>wl,qLn:()=>Ru,vpe:()=>Il,XFs:()=>en,OlP:()=>Nn,zs3:()=>oa,ZZ4:()=>q1,aQg:()=>Z1,soG:()=>N1,YKP:()=>e_,h0i:()=>Cl,PXZ:()=>HC,R0b:()=>Go,FiY:()=>Lo,Lbi:()=>Ho,g9A:()=>Uo,Qsj:()=>Yv,FYo:()=>Kv,JOm:()=>np,q3G:()=>Ms,tp0:()=>Jf,Rgc:()=>og,dDg:()=>rD,eoX:()=>hg,q4F:()=>ay,GfV:()=>im,s_b:()=>l1,ifc:()=>fs,gHi:()=>om,VuI:()=>ID,LMc:()=>xS,MMx:()=>K0,Lck:()=>aE,eFA:()=>CI,Gpc:()=>An,f3M:()=>Yn,$WT:()=>qi,_c5:()=>K1,qFp:()=>pg,rg0:()=>Ir,c2e:()=>QE,zSh:()=>zg,HDt:()=>O1,wAp:()=>jm,vHH:()=>je,lri:()=>II,rWj:()=>V1,JZr:()=>_t,EiD:()=>j_,mCW:()=>Fv,qzn:()=>Vg,JVY:()=>SD,pB0:()=>JI,eBb:()=>AD,L6k:()=>YI,LAX:()=>QI,cg1:()=>bw,kL8:()=>F0,dqk:()=>ir,Z0I:()=>yt,eJc:()=>Yy,QGY:()=>Sd,F4k:()=>zb,RDi:()=>Mv,AaK:()=>At,z3N:()=>Su,zW0:()=>Wa,qOj:()=>If,Xq5:()=>qe,TTD:()=>yi,_Bn:()=>kw,jDz:()=>lE,xp6:()=>hf,uIk:()=>gh,Tol:()=>zu,ekj:()=>M0,Suo:()=>AE,Xpm:()=>Yo,lG2:()=>Ds,Yz7:()=>De,cJS:()=>Re,oAB:()=>Ks,Yjl:()=>Mo,Y36:()=>El,_UZ:()=>Wp,BQk:()=>I0,ynx:()=>w0,qZA:()=>ju,TgZ:()=>Cd,EpF:()=>hs,n5z:()=>zd,Ikx:()=>k0,SDv:()=>rE,LFG:()=>xn,$8M:()=>L,$Z:()=>yd,NdJ:()=>T0,CRH:()=>NE,kcU:()=>Bd,O4$:()=>ko,oxw:()=>Kp,ALo:()=>n1,lcZ:()=>jw,xi3:()=>r1,Hsn:()=>Zb,F$t:()=>E0,Q6J:()=>Ed,s9C:()=>Sy,MGl:()=>Ay,VKq:()=>Vw,WLB:()=>t1,kEZ:()=>yE,iGM:()=>cg,MAs:()=>Cc,KtG:()=>Fd,Jf7:()=>Np,CHM:()=>au,uOi:()=>Tc,LSH:()=>Qh,P3R:()=>hd,YNc:()=>zp,W1O:()=>_1,_uU:()=>ow,Oqu:()=>cw,hij:()=>ss,lnq:()=>Fm,Gf:()=>m1});var w=Q(8645),ce=Q(7394),h=Q(5592),we=Q(3019),de=Q(5619),fe=Q(2096),Oe=Q(4829),He=Q(305),Ee=Q(9360);function re(r={}){const{connector:s=(()=>new w.x),resetOnError:a=!0,resetOnComplete:u=!0,resetOnRefCountZero:g=!0}=r;return y=>{let I,S,R,z=0,ie=!1,me=!1;const Me=()=>{S?.unsubscribe(),S=void 0},Le=()=>{Me(),I=R=void 0,ie=me=!1},pt=()=>{const Nt=I;Le(),Nt?.unsubscribe()};return(0,Ee.e)((Nt,nn)=>{z++,!me&&!ie&&Me();const vn=R=R??s();nn.add(()=>{z--,0===z&&!me&&!ie&&(S=le(pt,g))}),vn.subscribe(nn),!I&&z>0&&(I=new He.Hp({next:wt=>vn.next(wt),error:wt=>{me=!0,Me(),S=le(Le,a,wt),vn.error(wt)},complete:()=>{ie=!0,Me(),S=le(Le,u),vn.complete()}}),(0,Oe.Xf)(Nt).subscribe(I))})(y)}}function le(r,s,...a){if(!0===s)return void r();if(!1===s)return;const u=new He.Hp({next:()=>{u.unsubscribe(),r()}});return(0,Oe.Xf)(s(...a)).subscribe(u)}var Se=Q(4664),et=Q(3997);function Pe(r){for(let s in r)if(r[s]===Pe)return s;throw Error("Could not find renamed property on target object.")}function it(r,s){for(const a in s)s.hasOwnProperty(a)&&!r.hasOwnProperty(a)&&(r[a]=s[a])}function At(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(At).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const s=r.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function Vt(r,s){return null==r||""===r?null===s?"":s:null==s||""===s?r:r+" "+s}const Ft=Pe({__forward_ref__:Pe});function An(r){return r.__forward_ref__=An,r.toString=function(){return At(this())},r}function xt(r){return mt(r)?r():r}function mt(r){return"function"==typeof r&&r.hasOwnProperty(Ft)&&r.__forward_ref__===An}function ot(r){return r&&!!r.\u0275providers}const _t="https://g.co/ng/security#xss";class je extends Error{constructor(s,a){super(function ve(r,s){return`NG0${Math.abs(r)}${s?": "+s:""}`}(s,a)),this.code=s}}function Qe(r){return"string"==typeof r?r:null==r?"":String(r)}function In(r,s){throw new je(-201,!1)}function Dt(r,s,a,u){throw new Error(`ASSERTION ERROR: ${r}`+(null==u?"":` [Expected=> ${a} ${u} ${s} <=Actual]`))}function De(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function Re(r){return{providers:r.providers||[],imports:r.imports||[]}}function at(r){return St(r,on)||St(r,bn)}function yt(r){return null!==at(r)}function St(r,s){return r.hasOwnProperty(s)?r[s]:null}function En(r){return r&&(r.hasOwnProperty(Qt)||r.hasOwnProperty(Zn))?r[Qt]:null}const on=Pe({\u0275prov:Pe}),Qt=Pe({\u0275inj:Pe}),bn=Pe({ngInjectableDef:Pe}),Zn=Pe({ngInjectorDef:Pe});var en=function(r){return r[r.Default=0]="Default",r[r.Host=1]="Host",r[r.Self=2]="Self",r[r.SkipSelf=4]="SkipSelf",r[r.Optional=8]="Optional",r}(en||{});let Cr;function br(){return Cr}function gn(r){const s=Cr;return Cr=r,s}function rr(r,s,a){const u=at(r);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:a&en.Optional?null:void 0!==s?s:void In(At(r))}const ir=globalThis;class Nn{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=De({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const V={},G="__NG_DI_FLAG__",W="ngTempTokenPath",be=/\n/gm,Et="__source";let rn;function Dn(r){const s=rn;return rn=r,s}function zt(r,s=en.Default){if(void 0===rn)throw new je(-203,!1);return null===rn?rr(r,void 0,s):rn.get(r,s&en.Optional?null:void 0,s)}function xn(r,s=en.Default){return(br()||zt)(xt(r),s)}function Yn(r,s=en.Default){return xn(r,lo(s))}function lo(r){return typeof r>"u"||"number"==typeof r?r:0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)}function ca(r){const s=[];for(let a=0;a<r.length;a++){const u=xt(r[a]);if(Array.isArray(u)){if(0===u.length)throw new je(900,!1);let g,y=en.Default;for(let I=0;I<u.length;I++){const S=u[I],R=Na(S);"number"==typeof R?-1===R?g=S.token:y|=R:g=S}s.push(xn(g,y))}else s.push(xn(u))}return s}function Ts(r,s){return r[G]=s,r.prototype[G]=s,r}function Na(r){return r[G]}function Yr(r){return{toString:r}.toString()}var uo=function(r){return r[r.OnPush=0]="OnPush",r[r.Default=1]="Default",r}(uo||{}),fs=function(r){return r[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",r}(fs||{});const ps={},tr=[],zs=Pe({\u0275cmp:Pe}),ho=Pe({\u0275dir:Pe}),No=Pe({\u0275pipe:Pe}),la=Pe({\u0275mod:Pe}),Rs=Pe({\u0275fac:Pe}),Ws=Pe({__NG_ELEMENT_ID__:Pe}),ai=Pe({__NG_ENV_ID__:Pe});function qs(r,s,a){let u=r.length;for(;;){const g=r.indexOf(s,a);if(-1===g)return g;if(0===g||r.charCodeAt(g-1)<=32){const y=s.length;if(g+y===u||r.charCodeAt(g+y)<=32)return g}a=g+1}}function Hi(r,s,a){let u=0;for(;u<a.length;){const g=a[u];if("number"==typeof g){if(0!==g)break;u++;const y=a[u++],I=a[u++],S=a[u++];r.setAttribute(s,I,S,y)}else{const y=g,I=a[++u];Es(y)?r.setProperty(s,y,I):r.setAttribute(s,y,I),u++}}return u}function lc(r){return 3===r||4===r||6===r}function Es(r){return 64===r.charCodeAt(0)}function uc(r,s){if(null!==s&&0!==s.length)if(null===r||0===r.length)r=s.slice();else{let a=-1;for(let u=0;u<s.length;u++){const g=s[u];"number"==typeof g?a=g:0===a||bi(r,a,g,null,-1===a||2===a?s[++u]:null)}}return r}function bi(r,s,a,u,g){let y=0,I=r.length;if(-1===s)I=-1;else for(;y<r.length;){const S=r[y++];if("number"==typeof S){if(S===s){I=-1;break}if(S>s){I=y-1;break}}}for(;y<r.length;){const S=r[y];if("number"==typeof S)break;if(S===a){if(null===u)return void(null!==g&&(r[y+1]=g));if(u===r[y+1])return void(r[y+2]=g)}y++,null!==u&&y++,null!==g&&y++}-1!==I&&(r.splice(I,0,s),y=I+1),r.splice(y++,0,a),null!==u&&r.splice(y++,0,u),null!==g&&r.splice(y++,0,g)}const Ma="ng-template";function Gi(r,s,a){let u=0,g=!0;for(;u<r.length;){let y=r[u++];if("string"==typeof y&&g){const I=r[u++];if(a&&"class"===y&&-1!==qs(I.toLowerCase(),s,0))return!0}else{if(1===y){for(;u<r.length&&"string"==typeof(y=r[u++]);)if(y.toLowerCase()===s)return!0;return!1}"number"==typeof y&&(g=!1)}}return!1}function Ko(r){return 4===r.type&&r.value!==Ma}function ci(r,s,a){return s===(4!==r.type||a?r.value:Ma)}function xi(r,s,a){let u=4;const g=r.attrs||[],y=function dc(r){for(let s=0;s<r.length;s++)if(lc(r[s]))return s;return r.length}(g);let I=!1;for(let S=0;S<s.length;S++){const R=s[S];if("number"!=typeof R){if(!I)if(4&u){if(u=2|1&u,""!==R&&!ci(r,R,a)||""===R&&1===s.length){if(li(u))return!1;I=!0}}else{const z=8&u?R:s[++S];if(8&u&&null!==r.attrs){if(!Gi(r.attrs,z,a)){if(li(u))return!1;I=!0}continue}const me=Ps(8&u?"class":R,g,Ko(r),a);if(-1===me){if(li(u))return!1;I=!0;continue}if(""!==z){let Me;Me=me>y?"":g[me+1].toLowerCase();const Le=8&u?Me:null;if(Le&&-1!==qs(Le,z,0)||2&u&&z!==Me){if(li(u))return!1;I=!0}}}}else{if(!I&&!li(u)&&!li(R))return!1;if(I&&li(R))continue;I=!1,u=R|1&u}}return li(u)||I}function li(r){return 0==(1&r)}function Ps(r,s,a,u){if(null===s)return-1;let g=0;if(u||!a){let y=!1;for(;g<s.length;){const I=s[g];if(I===r)return g;if(3===I||6===I)y=!0;else{if(1===I||2===I){let S=s[++g];for(;"string"==typeof S;)S=s[++g];continue}if(4===I)break;if(0===I){g+=4;continue}}g+=y?1:2}return-1}return function ji(r,s){let a=r.indexOf(4);if(a>-1)for(a++;a<r.length;){const u=r[a];if("number"==typeof u)return-1;if(u===s)return a;a++}return-1}(s,r)}function Ci(r,s,a=!1){for(let u=0;u<s.length;u++)if(xi(r,s[u],a))return!0;return!1}function ol(r,s){e:for(let a=0;a<s.length;a++){const u=s[a];if(r.length===u.length){for(let g=0;g<r.length;g++)if(r[g]!==u[g])continue e;return!0}}return!1}function fr(r,s){return r?":not("+s.trim()+")":s}function Rc(r){let s=r[0],a=1,u=2,g="",y=!1;for(;a<r.length;){let I=r[a];if("string"==typeof I)if(2&u){const S=r[++a];g+="["+I+(S.length>0?'="'+S+'"':"")+"]"}else 8&u?g+="."+I:4&u&&(g+=" "+I);else""!==g&&!li(I)&&(s+=fr(y,g),g=""),u=I,y=y||!li(u);a++}return""!==g&&(s+=fr(y,g)),s}function Yo(r){return Yr(()=>{const s=Zi(r),a={...s,decls:r.decls,vars:r.vars,template:r.template,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,onPush:r.changeDetection===uo.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&r.dependencies||null,getStandaloneInjector:null,signals:r.signals??!1,data:r.data||{},encapsulation:r.encapsulation||fs.Emulated,styles:r.styles||tr,_:null,schemas:r.schemas||null,tView:null,id:""};Mr(a);const u=r.dependencies;return a.directiveDefs=Br(u,!1),a.pipeDefs=Br(u,!0),a.id=function fo(r){let s=0;const a=[r.selectors,r.ngContentSelectors,r.hostVars,r.hostAttrs,r.consts,r.vars,r.decls,r.encapsulation,r.standalone,r.signals,r.exportAs,JSON.stringify(r.inputs),JSON.stringify(r.outputs),Object.getOwnPropertyNames(r.type.prototype),!!r.contentQueries,!!r.viewQuery].join("|");for(const g of a)s=Math.imul(31,s)+g.charCodeAt(0)<<0;return s+=2147483648,"c"+s}(a),a})}function Qo(r){return cr(r)||Qr(r)}function al(r){return null!==r}function Ks(r){return Yr(()=>({type:r.type,bootstrap:r.bootstrap||tr,declarations:r.declarations||tr,imports:r.imports||tr,exports:r.exports||tr,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function Oo(r,s){if(null==r)return ps;const a={};for(const u in r)if(r.hasOwnProperty(u)){let g=r[u],y=g;Array.isArray(g)&&(y=g[1],g=g[0]),a[g]=u,s&&(s[g]=y)}return a}function Ds(r){return Yr(()=>{const s=Zi(r);return Mr(s),s})}function Mo(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function cr(r){return r[zs]||null}function Qr(r){return r[ho]||null}function Ri(r){return r[No]||null}function qi(r){const s=cr(r)||Qr(r)||Ri(r);return null!==s&&s.standalone}function ri(r,s){const a=r[la]||null;if(!a&&!0===s)throw new Error(`Type ${At(r)} does not have '\u0275mod' property.`);return a}function Zi(r){const s={};return{type:r.type,providersResolver:null,factory:null,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:s,inputTransforms:null,inputConfig:r.inputs||ps,exportAs:r.exportAs||null,standalone:!0===r.standalone,signals:!0===r.signals,selectors:r.selectors||tr,viewQuery:r.viewQuery||null,features:r.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Oo(r.inputs,s),outputs:Oo(r.outputs)}}function Mr(r){r.features?.forEach(s=>s(r))}function Br(r,s){if(!r)return null;const a=s?Ri:Qo;return()=>("function"==typeof r?r():r).map(u=>a(u)).filter(al)}const sr=0,Bt=1,Fn=2,wr=3,Pi=4,po=5,Jr=6,$i=7,xr=8,ui=9,ks=10,Cn=11,go=12,fc=13,Fs=14,zr=15,gs=16,Si=17,pi=18,Jo=19,Pc=20,mo=21,cs=22,Vr=23,Cs=24,On=25,_o=1,ms=2,gi=7,Ra=9,Rr=11;function ii(r){return Array.isArray(r)&&"object"==typeof r[_o]}function ls(r){return Array.isArray(r)&&!0===r[_o]}function Ls(r){return 0!=(4&r.flags)}function ys(r){return r.componentOffset>-1}function vs(r){return 1==(1&r.flags)}function mi(r){return!!r.template}function Ki(r){return 0!=(512&r[Fn])}function Pa(r,s){return r.hasOwnProperty(Rs)?r[Rs]:null}let Fi=null,xo=!1;function Ur(r){const s=Fi;return Fi=r,s}const wi={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function ur(r){if(!Ro(r)||r.dirty){if(!r.producerMustRecompute(r)&&!na(r))return void(r.dirty=!1);r.producerRecomputeValue(r),r.dirty=!1}}function Lc(r){r.dirty=!0,function Ja(r){if(void 0===r.liveConsumerNode)return;const s=xo;xo=!0;try{for(const a of r.liveConsumerNode)a.dirty||Lc(a)}finally{xo=s}}(r),r.consumerMarkedDirty?.(r)}function Js(r){return r&&(r.nextProducerIndex=0),Ur(r)}function Bc(r,s){if(Ur(s),r&&void 0!==r.producerNode&&void 0!==r.producerIndexOfThis&&void 0!==r.producerLastReadVersion){if(Ro(r))for(let a=r.nextProducerIndex;a<r.producerNode.length;a++)mc(r.producerNode[a],r.producerIndexOfThis[a]);for(;r.producerNode.length>r.nextProducerIndex;)r.producerNode.pop(),r.producerLastReadVersion.pop(),r.producerIndexOfThis.pop()}}function na(r){Vc(r);for(let s=0;s<r.producerNode.length;s++){const a=r.producerNode[s],u=r.producerLastReadVersion[s];if(u!==a.version||(ur(a),u!==a.version))return!0}return!1}function ga(r){if(Vc(r),Ro(r))for(let s=0;s<r.producerNode.length;s++)mc(r.producerNode[s],r.producerIndexOfThis[s]);r.producerNode.length=r.producerLastReadVersion.length=r.producerIndexOfThis.length=0,r.liveConsumerNode&&(r.liveConsumerNode.length=r.liveConsumerIndexOfThis.length=0)}function mc(r,s){if(function _c(r){r.liveConsumerNode??=[],r.liveConsumerIndexOfThis??=[]}(r),Vc(r),1===r.liveConsumerNode.length)for(let u=0;u<r.producerNode.length;u++)mc(r.producerNode[u],r.producerIndexOfThis[u]);const a=r.liveConsumerNode.length-1;if(r.liveConsumerNode[s]=r.liveConsumerNode[a],r.liveConsumerIndexOfThis[s]=r.liveConsumerIndexOfThis[a],r.liveConsumerNode.length--,r.liveConsumerIndexOfThis.length--,s<r.liveConsumerNode.length){const u=r.liveConsumerIndexOfThis[s],g=r.liveConsumerNode[s];Vc(g),g.producerIndexOfThis[u]=s}}function Ro(r){return r.consumerIsAlwaysLive||(r?.liveConsumerNode?.length??0)>0}function Vc(r){r.producerNode??=[],r.producerIndexOfThis??=[],r.producerLastReadVersion??=[]}let Hc=null;function Ir(r){const s=Ur(null);try{return r()}finally{Ur(s)}}const jn=()=>{},_i=(()=>({...wi,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:r=>{r.schedule(r.ref)},hasRun:!1,cleanupFn:jn}))();class Ai{constructor(s,a,u){this.previousValue=s,this.currentValue=a,this.firstChange=u}isFirstChange(){return this.firstChange}}function yi(){return Ji}function Ji(r){return r.type.prototype.ngOnChanges&&(r.setInput=Ns),Xi}function Xi(){const r=ka(this),s=r?.current;if(s){const a=r.previous;if(a===ps)r.previous=s;else for(let u in s)a[u]=s[u];r.current=null,this.ngOnChanges(s)}}function Ns(r,s,a,u){const g=this.declaredInputs[a],y=ka(r)||function Xa(r,s){return r[Vs]=s}(r,{previous:ps,current:null}),I=y.current||(y.current={}),S=y.previous,R=S[g];I[g]=new Ai(R&&R.currentValue,s,S===ps),r[u]=s}yi.ngInherit=!0;const Vs="__ngSimpleChanges__";function ka(r){return r[Vs]||null}const eo=function(r,s,a){},ma="svg";function di(r){for(;Array.isArray(r);)r=r[sr];return r}function Nl(r,s){return di(s[r])}function us(r,s){return di(s[r.index])}function Pd(r,s){return r.data[s]}function ec(r,s){return r[s]}function Ni(r,s){const a=s[r];return ii(a)?a:a[sr]}function Fa(r,s){return null==s?null:r[s]}function Qu(r){r[Si]=0}function Eh(r){1024&r[Fn]||(r[Fn]|=1024,La(r,1))}function Ii(r){1024&r[Fn]&&(r[Fn]&=-1025,La(r,-1))}function La(r,s){let a=r[wr];if(null===a)return;a[po]+=s;let u=a;for(a=a[wr];null!==a&&(1===s&&1===u[po]||-1===s&&0===u[po]);)a[po]+=s,u=a,a=a[wr]}function jc(r,s){if(256==(256&r[Fn]))throw new je(911,!1);null===r[mo]&&(r[mo]=[]),r[mo].push(s)}const mn={lFrame:Ge(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Ml(){return mn.bindingsEnabled}function _a(){return null!==mn.skipHydrationRootTNode}function ht(){return mn.lFrame.lView}function gr(){return mn.lFrame.tView}function au(r){return mn.lFrame.contextLView=r,r[xr]}function Fd(r){return mn.lFrame.contextLView=null,r}function bs(){let r=dl();for(;null!==r&&64===r.type;)r=r.parent;return r}function dl(){return mn.lFrame.currentTNode}function hl(){const r=mn.lFrame,s=r.currentTNode;return r.isParent?s:s.parent}function bo(r,s){const a=mn.lFrame;a.currentTNode=r,a.isParent=s}function cu(){return mn.lFrame.isParent}function tc(){mn.lFrame.isParent=!1}function Hs(){const r=mn.lFrame;let s=r.bindingRootIndex;return-1===s&&(s=r.bindingRootIndex=r.tView.bindingStartIndex),s}function Va(){return mn.lFrame.bindingIndex++}function Ua(r){const s=mn.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+r,a}function xl(r){mn.lFrame.inI18n=r}function Ch(r,s){const a=mn.lFrame;a.bindingIndex=a.bindingRootIndex=r,C(s)}function C(r){mn.lFrame.currentDirectiveIndex=r}function D(){return mn.lFrame.currentQueryIndex}function P(r){mn.lFrame.currentQueryIndex=r}function j(r){const s=r[Bt];return 2===s.type?s.declTNode:1===s.type?r[Jr]:null}function se(r,s,a){if(a&en.SkipSelf){let g=s,y=r;for(;!(g=g.parent,null!==g||a&en.Host||(g=j(y),null===g||(y=y[Fs],10&g.type))););if(null===g)return!1;s=g,r=y}const u=mn.lFrame=ze();return u.currentTNode=s,u.lView=r,!0}function _e(r){const s=ze(),a=r[Bt];mn.lFrame=s,s.currentTNode=a.firstChild,s.lView=r,s.tView=a,s.contextLView=r,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function ze(){const r=mn.lFrame,s=null===r?null:r.child;return null===s?Ge(r):s}function Ge(r){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=s),s}function Wt(){const r=mn.lFrame;return mn.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const Ln=Wt;function Ar(){const r=Wt();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function Wr(){return mn.lFrame.selectedIndex}function ia(r){mn.lFrame.selectedIndex=r}function Pr(){const r=mn.lFrame;return Pd(r.tView,r.selectedIndex)}function ko(){mn.lFrame.currentNamespace=ma}function Bd(){!function ya(){mn.lFrame.currentNamespace=null}()}let Sh=!0;function Ah(){return Sh}function vc(r){Sh=r}function du(r,s){for(let a=s.directiveStart,u=s.directiveEnd;a<u;a++){const y=r.data[a].type.prototype,{ngAfterContentInit:I,ngAfterContentChecked:S,ngAfterViewInit:R,ngAfterViewChecked:z,ngOnDestroy:ie}=y;I&&(r.contentHooks??=[]).push(-a,I),S&&((r.contentHooks??=[]).push(a,S),(r.contentCheckHooks??=[]).push(a,S)),R&&(r.viewHooks??=[]).push(-a,R),z&&((r.viewHooks??=[]).push(a,z),(r.viewCheckHooks??=[]).push(a,z)),null!=ie&&(r.destroyHooks??=[]).push(a,ie)}}function Wc(r,s,a){hu(r,s,3,a)}function pl(r,s,a,u){(3&r[Fn])===a&&hu(r,s,a,u)}function Vd(r,s){let a=r[Fn];(3&a)===s&&(a&=8191,a+=1,r[Fn]=a)}function hu(r,s,a,u){const y=u??-1,I=s.length-1;let S=0;for(let R=void 0!==u?65535&r[Si]:0;R<I;R++)if("number"==typeof s[R+1]){if(S=s[R],null!=u&&S>=u)break}else s[R]<0&&(r[Si]+=65536),(S<y||-1==y)&&(nc(r,a,s,R),r[Si]=(4294901760&r[Si])+R+2),R++}function Ud(r,s){eo(4,r,s);const a=Ur(null);try{s.call(r)}finally{Ur(a),eo(5,r,s)}}function nc(r,s,a,u){const g=a[u]<0,y=a[u+1],S=r[g?-a[u]:a[u]];g?r[Fn]>>13<r[Si]>>16&&(3&r[Fn])===s&&(r[Fn]+=8192,Ud(S,y)):Ud(S,y)}const gl=-1;class nd{constructor(s,a,u){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=u}}function Pl(r){return r!==gl}function kl(r){return 32767&r}function Fl(r,s){let a=function Mh(r){return r>>16}(r),u=s;for(;a>0;)u=u[Fs],a--;return u}let fu=!0;function qc(r){const s=fu;return fu=r,s}const pu=255,rd=5;let gu=0;const wo={};function ml(r,s){const a=mu(r,s);if(-1!==a)return a;const u=s[Bt];u.firstCreatePass&&(r.injectorIndex=s.length,Zc(u.data,r),Zc(s,null),Zc(u.blueprint,null));const g=_u(r,s),y=r.injectorIndex;if(Pl(g)){const I=kl(g),S=Fl(g,s),R=S[Bt].data;for(let z=0;z<8;z++)s[y+z]=S[I+z]|R[I+z]}return s[y+8]=g,y}function Zc(r,s){r.push(0,0,0,0,0,0,0,0,s)}function mu(r,s){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===s[r.injectorIndex+8]?-1:r.injectorIndex}function _u(r,s){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let a=0,u=null,g=s;for(;null!==g;){if(u=M(g),null===u)return gl;if(a++,g=g[Fs],-1!==u.injectorIndex)return u.injectorIndex|a<<16}return gl}function Ll(r,s,a){!function id(r,s,a){let u;"string"==typeof a?u=a.charCodeAt(0)||0:a.hasOwnProperty(Ws)&&(u=a[Ws]),null==u&&(u=a[Ws]=gu++);const g=u&pu;s.data[r+(g>>rd)]|=1<<g}(r,s,a)}function vg(r,s,a){if(a&en.Optional||void 0!==r)return r;In()}function Zf(r,s,a,u){if(a&en.Optional&&void 0===u&&(u=null),!(a&(en.Self|en.Host))){const g=r[ui],y=gn(void 0);try{return g?g.get(s,u,a&en.Optional):rr(s,u,a&en.Optional)}finally{gn(y)}}return vg(u,0,a)}function Bl(r,s,a,u=en.Default,g){if(null!==r){if(2048&s[Fn]&&!(u&en.Self)){const I=function bg(r,s,a,u,g){let y=r,I=s;for(;null!==y&&null!==I&&2048&I[Fn]&&!(512&I[Fn]);){const S=jd(y,I,a,u|en.Self,wo);if(S!==wo)return S;let R=y.parent;if(!R){const z=I[Pc];if(z){const ie=z.get(a,wo,u);if(ie!==wo)return ie}R=M(I),I=I[Fs]}y=R}return g}(r,s,a,u,wo);if(I!==wo)return I}const y=jd(r,s,a,u,wo);if(y!==wo)return y}return Zf(s,a,u,g)}function jd(r,s,a,u,g){const y=function $d(r){if("string"==typeof r)return r.charCodeAt(0)||0;const s=r.hasOwnProperty(Ws)?r[Ws]:void 0;return"number"==typeof s?s>=0?s&pu:Kf:s}(a);if("function"==typeof y){if(!se(s,r,u))return u&en.Host?vg(g,0,u):Zf(s,a,u,g);try{let I;if(I=y(u),null!=I||u&en.Optional)return I;In()}finally{Ln()}}else if("number"==typeof y){let I=null,S=mu(r,s),R=gl,z=u&en.Host?s[zr][Jr]:null;for((-1===S||u&en.SkipSelf)&&(R=-1===S?_u(r,s):s[S+8],R!==gl&&yu(u,!1)?(I=s[Bt],S=kl(R),s=Fl(R,s)):S=-1);-1!==S;){const ie=s[Bt];if(bc(y,S,ie.data)){const me=Vl(S,s,a,I,u,z);if(me!==wo)return me}R=s[S+8],R!==gl&&yu(u,s[Bt].data[S+8]===z)&&bc(y,S,s)?(I=ie,S=kl(R),s=Fl(R,s)):S=-1}}return g}function Vl(r,s,a,u,g,y){const I=s[Bt],S=I.data[r+8],ie=_l(S,I,a,null==u?ys(S)&&fu:u!=I&&0!=(3&S.type),g&en.Host&&y===S);return null!==ie?Kc(s,I,ie,S):wo}function _l(r,s,a,u,g){const y=r.providerIndexes,I=s.data,S=1048575&y,R=r.directiveStart,ie=y>>20,Me=g?S+ie:r.directiveEnd;for(let Le=u?S:S+ie;Le<Me;Le++){const pt=I[Le];if(Le<R&&a===pt||Le>=R&&pt.type===a)return Le}if(g){const Le=I[R];if(Le&&mi(Le)&&Le.type===a)return R}return null}function Kc(r,s,a,u){let g=r[a];const y=s.data;if(function Nh(r){return r instanceof nd}(g)){const I=g;I.resolving&&function Rn(r,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${r}`:"";throw new je(-200,`Circular dependency in DI detected for ${r}${a}`)}(function gt(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():Qe(r)}(y[a]));const S=qc(I.canSeeViewProviders);I.resolving=!0;const z=I.injectImpl?gn(I.injectImpl):null;se(r,u,en.Default);try{g=r[a]=I.factory(void 0,y,r,u),s.firstCreatePass&&a>=u.directiveStart&&function zf(r,s,a){const{ngOnChanges:u,ngOnInit:g,ngDoCheck:y}=s.type.prototype;if(u){const I=Ji(s);(a.preOrderHooks??=[]).push(r,I),(a.preOrderCheckHooks??=[]).push(r,I)}g&&(a.preOrderHooks??=[]).push(0-r,g),y&&((a.preOrderHooks??=[]).push(r,y),(a.preOrderCheckHooks??=[]).push(r,y))}(a,y[a],s)}finally{null!==z&&gn(z),qc(S),I.resolving=!1,Ln()}}return g}function bc(r,s,a){return!!(a[s+(r>>rd)]&1<<r)}function yu(r,s){return!(r&en.Self||r&en.Host&&s)}class Fo{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,u){return Bl(this._tNode,this._lView,s,lo(u),a)}}function Kf(){return new Fo(bs(),ht())}function zd(r){return Yr(()=>{const s=r.prototype.constructor,a=s[Rs]||sd(s),u=Object.prototype;let g=Object.getPrototypeOf(r.prototype).constructor;for(;g&&g!==u;){const y=g[Rs]||sd(g);if(y&&y!==a)return y;g=Object.getPrototypeOf(g)}return y=>new y})}function sd(r){return mt(r)?()=>{const s=sd(xt(r));return s&&s()}:Pa(r)}function M(r){const s=r[Bt],a=s.type;return 2===a?s.declTNode:1===a?r[Jr]:null}function L(r){return function Gd(r,s){if("class"===s)return r.classes;if("style"===s)return r.styles;const a=r.attrs;if(a){const u=a.length;let g=0;for(;g<u;){const y=a[g];if(lc(y))break;if(0===y)g+=2;else if("number"==typeof y)for(g++;g<u&&"string"==typeof a[g];)g++;else{if(y===s)return a[g+1];g+=2}}}return null}(bs(),r)}const he="__parameters__";function Ht(r,s,a){return Yr(()=>{const u=function st(r){return function(...a){if(r){const u=r(...a);for(const g in u)this[g]=u[g]}}}(s);function g(...y){if(this instanceof g)return u.apply(this,y),this;const I=new g(...y);return S.annotation=I,S;function S(R,z,ie){const me=R.hasOwnProperty(he)?R[he]:Object.defineProperty(R,he,{value:[]})[he];for(;me.length<=ie;)me.push(null);return(me[ie]=me[ie]||[]).push(I),R}}return a&&(g.prototype=Object.create(a.prototype)),g.prototype.ngMetadataName=r,g.annotationCls=g,g})}function qd(r,s){r.forEach(a=>Array.isArray(a)?qd(a,s):s(a))}function Rh(r,s,a){s>=r.length?r.push(a):r.splice(s,0,a)}function no(r,s){return s>=r.length-1?r.pop():r.splice(s,1)[0]}function bu(r,s){const a=[];for(let u=0;u<r;u++)a.push(s);return a}function ws(r,s,a){let u=yl(r,s);return u>=0?r[1|u]=a:(u=~u,function Io(r,s,a,u){let g=r.length;if(g==s)r.push(a,u);else if(1===g)r.push(u,r[0]),r[0]=a;else{for(g--,r.push(r[g-1],r[g]);g>s;)r[g]=r[g-2],g--;r[s]=a,r[s+1]=u}}(r,u,s,a)),u}function Ph(r,s){const a=yl(r,s);if(a>=0)return r[1|a]}function yl(r,s){return function Ig(r,s,a){let u=0,g=r.length>>a;for(;g!==u;){const y=u+(g-u>>1),I=r[y<<a];if(s===I)return y<<a;I>s?g=y:u=y+1}return~(g<<a)}(r,s,1)}const Lo=Ts(Ht("Optional"),8),Jf=Ts(Ht("SkipSelf"),4);function w_(r){return 128==(128&r.flags)}var np=function(r){return r[r.Important=1]="Important",r[r.DashCase=2]="DashCase",r}(np||{});const GI=/^>|^->|<!--|-->|--!>|<!-$/g,jI=/(<|>)/g,$I="\u200b$1\u200b";const bv=new Map;let zI=0;const I_="__ngContext__";function Bo(r,s){ii(s)?(r[I_]=s[Jo],function Ng(r){bv.set(r[Jo],r)}(s)):r[I_]=s}let Jd;function Xd(r,s){return Jd(r,s)}function Gh(r){const s=r[wr];return ls(s)?s[wr]:s}function D_(r){return xg(r[go])}function eh(r){return xg(r[Pi])}function xg(r){for(;null!==r&&!ls(r);)r=r[Pi];return r}function Gl(r,s,a,u,g){if(null!=u){let y,I=!1;ls(u)?y=u:ii(u)&&(I=!0,u=u[sr]);const S=di(u);0===r&&null!==a?null==g?lb(s,a,S):Eu(s,a,S,g||null,!0):1===r&&null!==a?Eu(s,a,S,g||null,!0):2===r?function k_(r,s,a){const u=op(r,s);u&&function qI(r,s,a,u){r.removeChild(s,a,u)}(r,u,s,a)}(s,S,I):3===r&&s.destroyNode(S),null!=y&&function KI(r,s,a,u,g){const y=a[gi];y!==di(a)&&Gl(s,r,u,y,g);for(let S=Rr;S<a.length;S++){const R=a[S];Fg(R[Bt],R,r,s,u,y)}}(s,r,y,a,g)}}function ip(r,s){return r.createText(s)}function C_(r,s){return r.createComment(function rb(r){return r.replace(GI,s=>s.replace(jI,$I))}(s))}function Rg(r,s,a){return r.createElement(s,a)}function th(r,s){const a=r[Ra],u=a.indexOf(s);Ii(s),a.splice(u,1)}function sp(r,s){if(r.length<=Rr)return;const a=Rr+s,u=r[a];if(u){const g=u[gs];null!==g&&g!==r&&th(g,u),s>0&&(r[a-1][Pi]=u[Pi]);const y=no(r,Rr+s);!function cb(r,s){Fg(r,s,s[Cn],2,null,null),s[sr]=null,s[Jr]=null}(u[Bt],u);const I=y[pi];null!==I&&I.detachView(y[Bt]),u[wr]=null,u[Pi]=null,u[Fn]&=-129}return u}function jh(r,s){if(!(256&s[Fn])){const a=s[Cn];s[Vr]&&ga(s[Vr]),s[Cs]&&ga(s[Cs]),a.destroyNode&&Fg(r,s,a,3,null,null),function Dv(r){let s=r[go];if(!s)return $h(r[Bt],r);for(;s;){let a=null;if(ii(s))a=s[go];else{const u=s[Rr];u&&(a=u)}if(!a){for(;s&&!s[Pi]&&s!==r;)ii(s)&&$h(s[Bt],s),s=s[wr];null===s&&(s=r),ii(s)&&$h(s[Bt],s),a=s&&s[Pi]}s=a}}(s)}}function $h(r,s){if(!(256&s[Fn])){s[Fn]&=-129,s[Fn]|=256,function N_(r,s){let a;if(null!=r&&null!=(a=r.destroyHooks))for(let u=0;u<a.length;u+=2){const g=s[a[u]];if(!(g instanceof nd)){const y=a[u+1];if(Array.isArray(y))for(let I=0;I<y.length;I+=2){const S=g[y[I]],R=y[I+1];eo(4,S,R);try{R.call(S)}finally{eo(5,S,R)}}else{eo(4,g,y);try{y.call(g)}finally{eo(5,g,y)}}}}}(r,s),function Sv(r,s){const a=r.cleanup,u=s[$i];if(null!==a)for(let y=0;y<a.length-1;y+=2)if("string"==typeof a[y]){const I=a[y+3];I>=0?u[I]():u[-I].unsubscribe(),y+=2}else a[y].call(u[a[y+1]]);null!==u&&(s[$i]=null);const g=s[mo];if(null!==g){s[mo]=null;for(let y=0;y<g.length;y++)(0,g[y])()}}(r,s),1===s[Bt].type&&s[Cn].destroy();const a=s[gs];if(null!==a&&ls(s[wr])){a!==s[wr]&&th(a,s);const u=s[pi];null!==u&&u.detachView(r)}!function ib(r){bv.delete(r[Jo])}(s)}}function zh(r,s,a){return Pg(r,s.parent,a)}function Pg(r,s,a){let u=s;for(;null!==u&&40&u.type;)u=(s=u).parent;if(null===u)return a[sr];{const{componentOffset:g}=u;if(g>-1){const{encapsulation:y}=r.data[u.directiveStart+g];if(y===fs.None||y===fs.Emulated)return null}return us(u,a)}}function Eu(r,s,a,u,g){r.insertBefore(s,a,u,g)}function lb(r,s,a){r.appendChild(s,a)}function ub(r,s,a,u,g){null!==u?Eu(r,s,a,u,g):lb(r,s,a)}function op(r,s){return r.parentNode(s)}function O_(r,s,a){return x_(r,s,a)}function M_(r,s,a){return 40&r.type?us(r,a):null}let R_,dd,up,Bg,x_=M_;function hb(r,s){x_=r,R_=s}function kg(r,s,a,u){const g=zh(r,u,s),y=s[Cn],S=O_(u.parent||s[Jr],u,s);if(null!=g)if(Array.isArray(a))for(let R=0;R<a.length;R++)ub(y,g,a[R],S,!1);else ub(y,g,a,S,!1);void 0!==R_&&R_(y,u,s,a,g)}function Du(r,s){if(null!==s){const a=s.type;if(3&a)return us(s,r);if(4&a)return Nv(-1,r[s.index]);if(8&a){const u=s.child;if(null!==u)return Du(r,u);{const g=r[s.index];return ls(g)?Nv(-1,g):di(g)}}if(32&a)return Xd(s,r)()||di(r[s.index]);{const u=P_(r,s);return null!==u?Array.isArray(u)?u[0]:Du(Gh(r[zr]),u):Du(r,s.next)}}return null}function P_(r,s){return null!==s?r[zr][Jr].projection[s.projection]:null}function Nv(r,s){const a=Rr+r+1;if(a<s.length){const u=s[a],g=u[Bt].firstChild;if(null!==g)return Du(u,g)}return s[gi]}function Ov(r,s,a,u,g,y,I){for(;null!=a;){const S=u[a.index],R=a.type;if(I&&0===s&&(S&&Bo(di(S),u),a.flags|=2),32!=(32&a.flags))if(8&R)Ov(r,s,a.child,u,g,y,!1),Gl(s,r,g,S,y);else if(32&R){const z=Xd(a,u);let ie;for(;ie=z();)Gl(s,r,g,ie,y);Gl(s,r,g,S,y)}else 16&R?F_(r,s,u,a,g,y):Gl(s,r,g,S,y);a=I?a.projectionNext:a.next}}function Fg(r,s,a,u,g,y){Ov(a,u,r.firstChild,s,g,y,!1)}function F_(r,s,a,u,g,y){const I=a[zr],R=I[Jr].projection[u.projection];if(Array.isArray(R))for(let z=0;z<R.length;z++)Gl(s,r,g,R[z],y);else{let z=R;const ie=I[wr];w_(u)&&(z.flags|=128),Ov(r,s,z,ie,g,y,!0)}}function ap(r,s,a){""===a?r.removeAttribute(s,"class"):r.setAttribute(s,"class",a)}function Lg(r,s,a){const{mergedAttrs:u,classes:g,styles:y}=a;null!==u&&Hi(r,s,u),null!==g&&ap(r,s,g),null!==y&&function Li(r,s,a){r.setAttribute(s,"style",a)}(r,s,y)}function Wh(r){return function L_(){if(void 0===dd&&(dd=null,ir.trustedTypes))try{dd=ir.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return dd}()?.createHTML(r)||r}function Mv(r){up=r}function dp(){if(void 0!==up)return up;if(typeof document<"u")return document;throw new je(210,!1)}function hp(r){return function xv(){if(void 0===Bg&&(Bg=null,ir.trustedTypes))try{Bg=ir.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return Bg}()?.createScriptURL(r)||r}class Cu{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${_t})`}}class Rv extends Cu{getTypeName(){return"HTML"}}class fp extends Cu{getTypeName(){return"Style"}}class nh extends Cu{getTypeName(){return"Script"}}class V_ extends Cu{getTypeName(){return"URL"}}class Pv extends Cu{getTypeName(){return"ResourceURL"}}function Su(r){return r instanceof Cu?r.changingThisBreaksApplicationSecurity:r}function Vg(r,s){const a=function kv(r){return r instanceof Cu&&r.getTypeName()||null}(r);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see ${_t})`)}return a===s}function SD(r){return new Rv(r)}function YI(r){return new fp(r)}function AD(r){return new nh(r)}function QI(r){return new V_(r)}function JI(r){return new Pv(r)}function XI(r){const s=new eT(r);return function OD(){try{return!!(new window.DOMParser).parseFromString(Wh(""),"text/html")}catch{return!1}}()?new ND(s):s}class ND{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(Wh(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch{return null}}}class eT{constructor(s){this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(s){const a=this.inertDocument.createElement("template");return a.innerHTML=Wh(s),a}}const MD=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Fv(r){return(r=String(r)).match(MD)?r:"unsafe:"+r}function rh(r){const s={};for(const a of r.split(","))s[a]=!0;return s}function pp(...r){const s={};for(const a of r)for(const u in a)a.hasOwnProperty(u)&&(s[u]=!0);return s}const Lv=rh("area,br,col,hr,img,wbr"),bl=rh("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),tn=rh("rp,rt"),$l=pp(Lv,pp(bl,rh("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),pp(tn,rh("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),pp(tn,bl)),Bv=rh("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),gb=pp(Bv,rh("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),rh("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),mb=rh("script,style,template");class sa{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,u=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?u=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,u&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let g=this.checkClobberedElement(a,a.nextSibling);if(g){a=g;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(s){const a=s.nodeName.toLowerCase();if(!$l.hasOwnProperty(a))return this.sanitizedSomething=!0,!mb.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const u=s.attributes;for(let g=0;g<u.length;g++){const y=u.item(g),I=y.name,S=I.toLowerCase();if(!gb.hasOwnProperty(S)){this.sanitizedSomething=!0;continue}let R=y.value;Bv[S]&&(R=Fv(R)),this.buf.push(" ",I,'="',Au(R),'"')}return this.buf.push(">"),!0}endElement(s){const a=s.nodeName.toLowerCase();$l.hasOwnProperty(a)&&!Lv.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(Au(s))}checkClobberedElement(s,a){if(a&&(s.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return a}}const Ug=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Vo=/([^\#-~ |!])/g;function Au(r){return r.replace(/&/g,"&amp;").replace(Ug,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(Vo,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Kh;function j_(r,s){let a=null;try{Kh=Kh||XI(r);let u=s?String(s):"";a=Kh.getInertBodyElement(u);let g=5,y=u;do{if(0===g)throw new Error("Failed to sanitize html because the input is unstable");g--,u=y,y=a.innerHTML,a=Kh.getInertBodyElement(u)}while(u!==y);return Wh((new sa).sanitizeChildren(gp(a)||a))}finally{if(a){const u=gp(a)||a;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function gp(r){return"content"in r&&function Vv(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var Ms=function(r){return r[r.NONE=0]="NONE",r[r.HTML=1]="HTML",r[r.STYLE=2]="STYLE",r[r.SCRIPT=3]="SCRIPT",r[r.URL=4]="URL",r[r.RESOURCE_URL=5]="RESOURCE_URL",r}(Ms||{});function Qh(r){const s=_p();return s?s.sanitize(Ms.URL,r)||"":Vg(r,"URL")?Su(r):Fv(Qe(r))}function Tc(r){const s=_p();if(s)return hp(s.sanitize(Ms.RESOURCE_URL,r)||"");if(Vg(r,"ResourceURL"))return hp(Su(r));throw new je(904,!1)}function hd(r,s,a){return function zl(r,s){return"src"===s&&("embed"===r||"frame"===r||"iframe"===r||"media"===r||"script"===r)||"href"===s&&("base"===r||"link"===r)?Tc:Qh}(s,a)(r)}function _p(){const r=ht();return r&&r[ks].sanitizer}const Jh=new Nn("ENVIRONMENT_INITIALIZER"),Hg=new Nn("INJECTOR",-1),Xh=new Nn("INJECTOR_DEF_TYPES");class Gg{get(s,a=V){if(a===V){const u=new Error(`NullInjectorError: No provider for ${At(s)}!`);throw u.name="NullInjectorError",u}return a}}function jg(...r){return{\u0275providers:W_(0,r),\u0275fromNgModule:!0}}function W_(r,...s){const a=[],u=new Set;let g;const y=I=>{a.push(I)};return qd(s,I=>{const S=I;Nu(S,y,[],u)&&(g||=[],g.push(S))}),void 0!==g&&q_(g,y),a}function q_(r,s){for(let a=0;a<r.length;a++){const{ngModule:u,providers:g}=r[a];fd(g,y=>{s(y,u)})}}function Nu(r,s,a,u){if(!(r=xt(r)))return!1;let g=null,y=En(r);const I=!y&&cr(r);if(y||I){if(I&&!I.standalone)return!1;g=r}else{const R=r.ngModule;if(y=En(R),!y)return!1;g=R}const S=u.has(g);if(I){if(S)return!1;if(u.add(g),I.dependencies){const R="function"==typeof I.dependencies?I.dependencies():I.dependencies;for(const z of R)Nu(z,s,a,u)}}else{if(!y)return!1;{if(null!=y.imports&&!S){let z;u.add(g);try{qd(y.imports,ie=>{Nu(ie,s,a,u)&&(z||=[],z.push(ie))})}finally{}void 0!==z&&q_(z,s)}if(!S){const z=Pa(g)||(()=>new g);s({provide:g,useFactory:z,deps:tr},g),s({provide:Xh,useValue:g,multi:!0},g),s({provide:Jh,useValue:()=>xn(g),multi:!0},g)}const R=y.providers;if(null!=R&&!S){const z=r;fd(R,ie=>{s(ie,z)})}}}return g!==r&&void 0!==r.providers}function fd(r,s){for(let a of r)ot(a)&&(a=a.\u0275providers),Array.isArray(a)?fd(a,s):s(a)}const Hv=Pe({provide:String,useValue:Pe});function $g(r){return null!==r&&"object"==typeof r&&Hv in r}function tf(r){return"function"==typeof r}const zg=new Nn("Set Injector scope."),yp={},Y_={};let Wg;function vp(){return void 0===Wg&&(Wg=new Gg),Wg}class wl{}class ih extends wl{get destroyed(){return this._destroyed}constructor(s,a,u,g){super(),this.parent=a,this.source=u,this.scopes=g,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,wp(s,I=>this.processProvider(I)),this.records.set(Hg,nf(void 0,this)),g.has("environment")&&this.records.set(wl,nf(void 0,this));const y=this.records.get(zg);null!=y&&"string"==typeof y.value&&this.scopes.add(y.value),this.injectorDefTypes=new Set(this.get(Xh.multi,tr,en.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();const s=this._onDestroyHooks;this._onDestroyHooks=[];for(const a of s)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(s){return this.assertNotDestroyed(),this._onDestroyHooks.push(s),()=>this.removeOnDestroy(s)}runInContext(s){this.assertNotDestroyed();const a=Dn(this),u=gn(void 0);try{return s()}finally{Dn(a),gn(u)}}get(s,a=V,u=en.Default){if(this.assertNotDestroyed(),s.hasOwnProperty(ai))return s[ai](this);u=lo(u);const y=Dn(this),I=gn(void 0);try{if(!(u&en.SkipSelf)){let R=this.records.get(s);if(void 0===R){const z=function Ib(r){return"function"==typeof r||"object"==typeof r&&r instanceof Nn}(s)&&at(s);R=z&&this.injectableDefInScope(z)?nf(bp(s),yp):null,this.records.set(s,R)}if(null!=R)return this.hydrate(s,R)}return(u&en.Self?vp():this.parent).get(s,a=u&en.Optional&&a===V?null:a)}catch(S){if("NullInjectorError"===S.name){if((S[W]=S[W]||[]).unshift(At(s)),y)throw S;return function Oa(r,s,a,u){const g=r[W];throw s[Et]&&g.unshift(s[Et]),r.message=function Ao(r,s,a,u=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.slice(2):r;let g=At(s);if(Array.isArray(s))g=s.map(At).join(" -> ");else if("object"==typeof s){let y=[];for(let I in s)if(s.hasOwnProperty(I)){let S=s[I];y.push(I+":"+("string"==typeof S?JSON.stringify(S):At(S)))}g=`{${y.join(", ")}}`}return`${a}${u?"("+u+")":""}[${g}]: ${r.replace(be,"\n  ")}`}("\n"+r.message,g,a,u),r.ngTokenPath=g,r[W]=null,r}(S,s,"R3InjectorError",this.source)}throw S}finally{gn(I),Dn(y)}}resolveInjectorInitializers(){const s=Dn(this),a=gn(void 0);try{const g=this.get(Jh.multi,tr,en.Self);for(const y of g)y()}finally{Dn(s),gn(a)}}toString(){const s=[],a=this.records;for(const u of a.keys())s.push(At(u));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new je(205,!1)}processProvider(s){let a=tf(s=xt(s))?s:xt(s&&s.provide);const u=function tT(r){return $g(r)?nf(void 0,r.useValue):nf(qg(r),yp)}(s);if(tf(s)||!0!==s.multi)this.records.get(a);else{let g=this.records.get(a);g||(g=nf(void 0,yp,!0),g.factory=()=>ca(g.multi),this.records.set(a,g)),a=s,g.multi.push(s)}this.records.set(a,u)}hydrate(s,a){return a.value===yp&&(a.value=Y_,a.value=a.factory()),"object"==typeof a.value&&a.value&&function Q_(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=xt(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}removeOnDestroy(s){const a=this._onDestroyHooks.indexOf(s);-1!==a&&this._onDestroyHooks.splice(a,1)}}function bp(r){const s=at(r),a=null!==s?s.factory:Pa(r);if(null!==a)return a;if(r instanceof Nn)throw new je(204,!1);if(r instanceof Function)return function wb(r){const s=r.length;if(s>0)throw bu(s,"?"),new je(204,!1);const a=function vr(r){return r&&(r[on]||r[bn])||null}(r);return null!==a?()=>a.factory(r):()=>new r}(r);throw new je(204,!1)}function qg(r,s,a){let u;if(tf(r)){const g=xt(r);return Pa(g)||bp(g)}if($g(r))u=()=>xt(r.useValue);else if(function Z_(r){return!(!r||!r.useFactory)}(r))u=()=>r.useFactory(...ca(r.deps||[]));else if(function ef(r){return!(!r||!r.useExisting)}(r))u=()=>xn(xt(r.useExisting));else{const g=xt(r&&(r.useClass||r.provide));if(!function Gv(r){return!!r.deps}(r))return Pa(g)||bp(g);u=()=>new g(...ca(r.deps))}return u}function nf(r,s,a=!1){return{factory:r,value:s,multi:a?[]:void 0}}function wp(r,s){for(const a of r)Array.isArray(a)?wp(a,s):a&&ot(a)?wp(a.\u0275providers,s):s(a)}const J_=new Nn("AppId",{providedIn:"root",factory:()=>jv}),jv="ng",Uo=new Nn("Platform Initializer"),Ho=new Nn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),zv=new Nn("AnimationModuleType"),nT=new Nn("CSP nonce",{providedIn:"root",factory:()=>dp().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Jg=(r,s,a)=>null;function xu(r,s,a=!1){return Jg(r,s,a)}class iy{}class sy{}class tm{resolveComponentFactory(s){throw function qv(r){const s=Error(`No component factory found for ${At(r)}.`);return s.ngComponent=r,s}(s)}}let Tp=(()=>{class r{static#e=this.NULL=new tm}return r})();function nm(){return pd(bs(),ht())}function pd(r,s){return new gd(us(r,s))}let gd=(()=>{class r{constructor(a){this.nativeElement=a}static#e=this.__NG_ELEMENT_ID__=nm}return r})();function Ep(r){return r instanceof gd?r.nativeElement:r}class Kv{}let Yv=(()=>{class r{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function oy(){const r=ht(),a=Ni(bs().index,r);return(ii(a)?a:r)[Cn]}()}return r})(),rm=(()=>{class r{static#e=this.\u0275prov=De({token:r,providedIn:"root",factory:()=>null})}return r})();class im{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const ay=new im("16.2.12"),sm={};function om(r){if(!br()&&!function hn(){return rn}())throw new je(-203,!1)}function cy(r,s=null,a=null,u){const g=Jv(r,s,a,u);return g.resolveInjectorInitializers(),g}function Jv(r,s=null,a=null,u,g=new Set){const y=[a||tr,jg(r)];return u=u||("object"==typeof r?void 0:At(r)),new ih(y,s||vp(),u||null,g)}let oa=(()=>{class r{static#e=this.THROW_IF_NOT_FOUND=V;static#t=this.NULL=new Gg;static create(a,u){if(Array.isArray(a))return cy({name:""},u,a,"");{const g=a.name??"";return cy({name:g},a.parent,a.providers,g)}}static#n=this.\u0275prov=De({token:r,providedIn:"any",factory:()=>xn(Hg)});static#r=this.__NG_ELEMENT_ID__=-1}return r})();function lf(r){return r.ngOriginalError}class Ru{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s);this._console.error("ERROR",s),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&lf(s);for(;a&&lf(a);)a=lf(a);return a||null}}let Ti=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=Cp;static#t=this.__NG_ENV_ID__=a=>a}return r})();class lm extends Ti{constructor(s){super(),this._lView=s}onDestroy(s){return jc(this._lView,s),()=>function es(r,s){if(null===r[mo])return;const a=r[mo].indexOf(s);-1!==a&&r[mo].splice(a,1)}(this._lView,s)}}function Cp(){return new lm(ht())}function uy(r){return s=>{setTimeout(r,void 0,s)}}const Il=class Sp extends w.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,u){let g=s,y=a||(()=>null),I=u;if(s&&"object"==typeof s){const R=s;g=R.next?.bind(R),y=R.error?.bind(R),I=R.complete?.bind(R)}this.__isAsync&&(y=uy(y),g&&(g=uy(g)),I&&(I=uy(I)));const S=super.subscribe({next:g,error:y,complete:I});return s instanceof ce.w0&&s.add(S),S}};function Xv(...r){}class Go{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Il(!1),this.onMicrotaskEmpty=new Il(!1),this.onStable=new Il(!1),this.onError=new Il(!1),typeof Zone>"u")throw new je(908,!1);Zone.assertZonePatched();const g=this;g._nesting=0,g._outer=g._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!u&&a,g.shouldCoalesceRunChangeDetection=u,g.lastRequestAnimationFrameId=-1,g.nativeRequestAnimationFrame=function Mb(){const r="function"==typeof ir.requestAnimationFrame;let s=ir[r?"requestAnimationFrame":"setTimeout"],a=ir[r?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&s&&a){const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u);const g=a[Zone.__symbol__("OriginalDelegate")];g&&(a=g)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function Pu(r){const s=()=>{!function e0(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(ir,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,Ap(r),r.isCheckStableRunning=!0,ql(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),Ap(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,u,g,y,I,S)=>{if(function t0(r){return!(!Array.isArray(r)||1!==r.length)&&!0===r[0].data?.__ignore_ng_zone__}(S))return a.invokeTask(g,y,I,S);try{return ku(r),a.invokeTask(g,y,I,S)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===y.type||r.shouldCoalesceRunChangeDetection)&&s(),dm(r)}},onInvoke:(a,u,g,y,I,S,R)=>{try{return ku(r),a.invoke(g,y,I,S,R)}finally{r.shouldCoalesceRunChangeDetection&&s(),dm(r)}},onHasTask:(a,u,g,y)=>{a.hasTask(g,y),u===g&&("microTask"==y.change?(r._hasPendingMicrotasks=y.microTask,Ap(r),ql(r)):"macroTask"==y.change&&(r.hasPendingMacrotasks=y.macroTask))},onHandleError:(a,u,g,y)=>(a.handleError(g,y),r.runOutsideAngular(()=>r.onError.emit(y)),!1)})}(g)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Go.isInAngularZone())throw new je(909,!1)}static assertNotInAngularZone(){if(Go.isInAngularZone())throw new je(909,!1)}run(s,a,u){return this._inner.run(s,a,u)}runTask(s,a,u,g){const y=this._inner,I=y.scheduleEventTask("NgZoneEvent: "+g,s,um,Xv,Xv);try{return y.runTask(I,a,u)}finally{y.cancelTask(I)}}runGuarded(s,a,u){return this._inner.runGuarded(s,a,u)}runOutsideAngular(s){return this._outer.run(s)}}const um={};function ql(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function Ap(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function ku(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function dm(r){r._nesting--,ql(r)}class dy{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Il,this.onMicrotaskEmpty=new Il,this.onStable=new Il,this.onError=new Il}run(s,a,u){return s.apply(a,u)}runGuarded(s,a,u){return s.apply(a,u)}runOutsideAngular(s){return s()}runTask(s,a,u,g){return s.apply(a,u)}}const za=new Nn("",{providedIn:"root",factory:hy});function hy(){const r=Yn(Go);let s=!0;const a=new h.y(g=>{s=r.isStable&&!r.hasPendingMacrotasks&&!r.hasPendingMicrotasks,r.runOutsideAngular(()=>{g.next(s),g.complete()})}),u=new h.y(g=>{let y;r.runOutsideAngular(()=>{y=r.onStable.subscribe(()=>{Go.assertNotInAngularZone(),queueMicrotask(()=>{!s&&!r.hasPendingMacrotasks&&!r.hasPendingMicrotasks&&(s=!0,g.next(!0))})})});const I=r.onUnstable.subscribe(()=>{Go.assertInAngularZone(),s&&(s=!1,r.runOutsideAngular(()=>{g.next(!1)}))});return()=>{y.unsubscribe(),I.unsubscribe()}});return(0,we.T)(a,u.pipe(re()))}function Np(r){return r.ownerDocument.defaultView}function Kl(r){return r instanceof Function?r():r}let _d=(()=>{class r{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=De({token:r,providedIn:"root",factory:()=>new r})}return r})();function Yl(r){for(;r;){r[Fn]|=64;const s=Gh(r);if(Ki(r)&&!s)return r;r=s}return null}const df=new Nn("",{providedIn:"root",factory:()=>!1});let Ec=null;function mm(r,s){return r[s]??Jl()}function Bu(r,s){const a=Jl();a.producerNode?.length&&(r[s]=Ec,a.lView=r,Ec=Ql())}const Tl={...wi,consumerIsAlwaysLive:!0,consumerMarkedDirty:r=>{Yl(r.lView)},lView:null};function Ql(){return Object.create(Tl)}function Jl(){return Ec??=Ql(),Ec}const ar={};function hf(r){ff(gr(),ht(),Wr()+r,!1)}function ff(r,s,a,u){if(!u)if(3==(3&s[Fn])){const y=r.preOrderCheckHooks;null!==y&&Wc(s,y,a)}else{const y=r.preOrderHooks;null!==y&&pl(s,y,0,a)}ia(a)}function El(r,s=en.Default){const a=ht();return null===a?xn(r,s):Bl(bs(),a,xt(r),s)}function yd(){throw new Error("invalid")}function uh(r,s,a,u,g,y,I,S,R,z,ie){const me=s.blueprint.slice();return me[sr]=g,me[Fn]=140|u,(null!==z||r&&2048&r[Fn])&&(me[Fn]|=2048),Qu(me),me[wr]=me[Fs]=r,me[xr]=a,me[ks]=I||r&&r[ks],me[Cn]=S||r&&r[Cn],me[ui]=R||r&&r[ui]||null,me[Jr]=y,me[Jo]=function WI(){return zI++}(),me[cs]=ie,me[Pc]=z,me[zr]=2==s.type?r[zr]:me,me}function Vu(r,s,a,u,g){let y=r.data[s];if(null===y)y=_m(r,s,a,u,g),function ed(){return mn.lFrame.inI18n}()&&(y.flags|=32);else if(64&y.type){y.type=a,y.value=u,y.attrs=g;const I=hl();y.injectorIndex=null===I?-1:I.injectorIndex}return bo(y,!0),y}function _m(r,s,a,u,g){const y=dl(),I=cu(),R=r.data[s]=function Pp(r,s,a,u,g,y){let I=s?s.injectorIndex:-1,S=0;return _a()&&(S|=128),{type:a,index:u,insertBeforeIndex:null,injectorIndex:I,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:S,providerIndexes:0,value:g,attrs:y,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,I?y:y&&y.parent,a,s,u,g);return null===r.firstChild&&(r.firstChild=R),null!==y&&(I?null==y.child&&null!==R.parent&&(y.child=R):null===y.next&&(y.next=R,R.prev=y)),R}function pf(r,s,a,u){if(0===a)return-1;const g=s.length;for(let y=0;y<a;y++)s.push(u),r.blueprint.push(u),r.data.push(null);return g}function wa(r,s,a,u,g){const y=mm(s,Vr),I=Wr(),S=2&u;try{ia(-1),S&&s.length>On&&ff(r,s,On,!1),eo(S?2:0,g);const z=S?y:null,ie=Js(z);try{null!==z&&(z.dirty=!1),a(u,g)}finally{Bc(z,ie)}}finally{S&&null===s[Vr]&&Bu(s,Vr),ia(I),eo(S?3:1,g)}}function gf(r,s,a){if(Ls(s)){const u=Ur(null);try{const y=s.directiveEnd;for(let I=s.directiveStart;I<y;I++){const S=r.data[I];S.contentQueries&&S.contentQueries(1,a[I],I)}}finally{Ur(u)}}}function yy(r,s,a){Ml()&&(function kp(r,s,a,u){const g=a.directiveStart,y=a.directiveEnd;ys(a)&&function l0(r,s,a){const u=us(s,r),g=o0(a);let I=16;a.signals?I=4096:a.onPush&&(I=64);const S=yf(r,uh(r,g,null,I,u,s,null,r[ks].rendererFactory.createRenderer(u,a),null,null,null));r[s.index]=S}(s,a,r.data[g+a.componentOffset]),r.firstCreatePass||ml(a,s),Bo(u,s);const I=a.initialInputs;for(let S=g;S<y;S++){const R=r.data[S],z=Kc(s,r,S,a);Bo(z,s),null!==I&&Im(0,S-g,z,R,0,I),mi(R)&&(Ni(a.index,s)[xr]=Kc(s,r,S,a))}}(r,s,a,us(a,s)),64==(64&a.flags)&&Fp(r,s,a))}function xp(r,s,a=us){const u=s.localNames;if(null!==u){let g=s.index+1;for(let y=0;y<u.length;y+=2){const I=u[y+1],S=-1===I?a(s,r):r[I];r[g++]=S}}}function o0(r){const s=r.tView;return null===s||s.incompleteFirstPass?r.tView=vy(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts,r.id):s}function vy(r,s,a,u,g,y,I,S,R,z,ie){const me=On+u,Me=me+g,Le=function mf(r,s){const a=[];for(let u=0;u<s;u++)a.push(u<r?null:ar);return a}(me,Me),pt="function"==typeof z?z():z;return Le[Bt]={type:r,blueprint:Le,template:a,queries:null,viewQuery:S,declTNode:s,data:Le.slice().fill(null,me),bindingStartIndex:me,expandoStartIndex:Me,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof y?y():y,pipeRegistry:"function"==typeof I?I():I,firstChild:null,schemas:R,consts:pt,incompleteFirstPass:!1,ssrId:ie}}let by=r=>null;function vm(r,s,a,u){for(let g in r)if(r.hasOwnProperty(g)){a=null===a?{}:a;const y=r[g];null===u?vd(a,s,g,y):u.hasOwnProperty(g)&&vd(a,s,u[g],y)}return a}function vd(r,s,a,u){r.hasOwnProperty(a)?r[a].push(s,u):r[a]=[s,u]}function Ta(r,s,a,u,g,y,I,S){const R=us(s,a);let ie,z=s.inputs;!S&&null!=z&&(ie=z[u])?(dh(r,a,ie,u,g),ys(s)&&function Ei(r,s){const a=Ni(s,r);16&a[Fn]||(a[Fn]|=64)}(a,s.index)):3&s.type&&(u=function Dc(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(u),g=null!=I?I(g,s.value||"",u):g,y.setProperty(R,u,g))}function Yc(r,s,a,u){if(Ml()){const g=null===u?null:{"":-1},y=function Xc(r,s){const a=r.directiveRegistry;let u=null,g=null;if(a)for(let y=0;y<a.length;y++){const I=a[y];if(Ci(s,I.selectors,!1))if(u||(u=[]),mi(I))if(null!==I.findHostDirectiveDefs){const S=[];g=g||new Map,I.findHostDirectiveDefs(I,S,g),u.unshift(...S,I),Eo(r,s,S.length)}else u.unshift(I),Eo(r,s,0);else g=g||new Map,I.findHostDirectiveDefs?.(I,u,g),u.push(I)}return null===u?null:[u,g]}(r,a);let I,S;null===y?I=S=null:[I,S]=y,null!==I&&wy(r,s,a,I,g,S),g&&function bm(r,s,a){if(s){const u=r.localNames=[];for(let g=0;g<s.length;g+=2){const y=a[s[g+1]];if(null==y)throw new je(-301,!1);u.push(s[g],y)}}}(a,u,g)}a.mergedAttrs=uc(a.mergedAttrs,a.attrs)}function wy(r,s,a,u,g,y){for(let z=0;z<u.length;z++)Ll(ml(a,s),r,u[z].type);!function Lp(r,s,a){r.flags|=1,r.directiveStart=s,r.directiveEnd=s+a,r.providerIndexes=s}(a,r.data.length,u.length);for(let z=0;z<u.length;z++){const ie=u[z];ie.providersResolver&&ie.providersResolver(ie)}let I=!1,S=!1,R=pf(r,s,u.length,null);for(let z=0;z<u.length;z++){const ie=u[z];a.mergedAttrs=uc(a.mergedAttrs,ie.hostAttrs),_f(r,a,s,R,ie),wm(R,ie,g),null!==ie.contentQueries&&(a.flags|=4),(null!==ie.hostBindings||null!==ie.hostAttrs||0!==ie.hostVars)&&(a.flags|=64);const me=ie.type.prototype;!I&&(me.ngOnChanges||me.ngOnInit||me.ngDoCheck)&&((r.preOrderHooks??=[]).push(a.index),I=!0),!S&&(me.ngOnChanges||me.ngDoCheck)&&((r.preOrderCheckHooks??=[]).push(a.index),S=!0),R++}!function kb(r,s,a){const g=s.directiveEnd,y=r.data,I=s.attrs,S=[];let R=null,z=null;for(let ie=s.directiveStart;ie<g;ie++){const me=y[ie],Me=a?a.get(me):null,pt=Me?Me.outputs:null;R=vm(me.inputs,ie,R,Me?Me.inputs:null),z=vm(me.outputs,ie,z,pt);const Nt=null===R||null===I||Ko(s)?null:u0(R,ie,I);S.push(Nt)}null!==R&&(R.hasOwnProperty("class")&&(s.flags|=8),R.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=S,s.inputs=R,s.outputs=z}(r,a,y)}function Fp(r,s,a){const u=a.directiveStart,g=a.directiveEnd,y=a.index,I=function td(){return mn.lFrame.currentDirectiveIndex}();try{ia(y);for(let S=u;S<g;S++){const R=r.data[S],z=s[S];C(S),(null!==R.hostBindings||0!==R.hostVars||null!==R.hostAttrs)&&Jc(R,z)}}finally{ia(-1),C(I)}}function Jc(r,s){null!==r.hostBindings&&r.hostBindings(1,s)}function Eo(r,s,a){s.componentOffset=a,(r.components??=[]).push(s.index)}function wm(r,s,a){if(a){if(s.exportAs)for(let u=0;u<s.exportAs.length;u++)a[s.exportAs[u]]=r;mi(s)&&(a[""]=r)}}function _f(r,s,a,u,g){r.data[u]=g;const y=g.factory||(g.factory=Pa(g.type)),I=new nd(y,mi(g),El);r.blueprint[u]=I,a[u]=I,function Iy(r,s,a,u,g){const y=g.hostBindings;if(y){let I=r.hostBindingOpCodes;null===I&&(I=r.hostBindingOpCodes=[]);const S=~s.index;(function Qc(r){let s=r.length;for(;s>0;){const a=r[--s];if("number"==typeof a&&a<0)return a}return 0})(I)!=S&&I.push(S),I.push(a,u,y)}}(r,s,u,pf(r,a,g.hostVars,ar),g)}function jo(r,s,a,u,g,y){const I=us(r,s);!function Bp(r,s,a,u,g,y,I){if(null==y)r.removeAttribute(s,g,a);else{const S=null==I?Qe(y):I(y,u||"",g);r.setAttribute(s,g,S,a)}}(s[Cn],I,y,r.value,a,u,g)}function Im(r,s,a,u,g,y){const I=y[s];if(null!==I)for(let S=0;S<I.length;)Tm(u,a,I[S++],I[S++],I[S++])}function Tm(r,s,a,u,g){const y=Ur(null);try{const I=r.inputTransforms;null!==I&&I.hasOwnProperty(u)&&(g=I[u].call(s,g)),null!==r.setInput?r.setInput(s,g,a,u):s[u]=g}finally{Ur(y)}}function u0(r,s,a){let u=null,g=0;for(;g<a.length;){const y=a[g];if(0!==y)if(5!==y){if("number"==typeof y)break;if(r.hasOwnProperty(y)){null===u&&(u=[]);const I=r[y];for(let S=0;S<I.length;S+=2)if(I[S]===s){u.push(y,I[S+1],a[g+1]);break}}g+=2}else g+=2;else g+=4}return u}function d0(r,s,a,u){return[r,!0,!1,s,null,0,u,a,null,null,null]}function h0(r,s){const a=r.contentQueries;if(null!==a)for(let u=0;u<a.length;u+=2){const y=a[u+1];if(-1!==y){const I=r.data[y];P(a[u]),I.contentQueries(2,s[y],y)}}}function yf(r,s){return r[go]?r[fc][Pi]=s:r[go]=s,r[fc]=s,s}function Vp(r,s,a){P(0);const u=Ur(null);try{s(r,a)}finally{Ur(u)}}function f0(r){return r[$i]||(r[$i]=[])}function bd(r){return r.cleanup||(r.cleanup=[])}function io(r,s){const a=r[ui],u=a?a.get(Ru,null):null;u&&u.handleError(s)}function dh(r,s,a,u,g){for(let y=0;y<a.length;){const I=a[y++],S=a[y++];Tm(r.data[I],s[I],u,S,g)}}function Ea(r,s,a){const u=Nl(s,r);!function Tv(r,s,a){r.setValue(s,a)}(r[Cn],u,a)}function Ty(r,s){const a=Ni(s,r),u=a[Bt];!function fT(r,s){for(let a=s.length;a<r.blueprint.length;a++)s.push(r.blueprint[a])}(u,a);const g=a[sr];null!==g&&null===a[cs]&&(a[cs]=xu(g,a[ui])),Ot(u,a,a[xr])}function Ot(r,s,a){_e(s);try{const u=r.viewQuery;null!==u&&Vp(1,u,a);const g=r.template;null!==g&&wa(r,s,g,1,a),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&h0(r,s),r.staticViewQueries&&Vp(2,r.viewQuery,a);const y=r.components;null!==y&&function Gs(r,s){for(let a=0;a<s.length;a++)Ty(r,s[a])}(s,y)}catch(u){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),u}finally{s[Fn]&=-5,Ar()}}let el=(()=>{class r{constructor(){this.all=new Set,this.queue=new Map}create(a,u,g){const y=typeof Zone>"u"?null:Zone.current,I=function or(r,s,a){const u=Object.create(_i);a&&(u.consumerAllowSignalWrites=!0),u.fn=r,u.schedule=s;const g=I=>{u.cleanupFn=I};return u.ref={notify:()=>Lc(u),run:()=>{if(u.dirty=!1,u.hasRun&&!na(u))return;u.hasRun=!0;const I=Js(u);try{u.cleanupFn(),u.cleanupFn=jn,u.fn(g)}finally{Bc(u,I)}},cleanup:()=>u.cleanupFn()},u.ref}(a,z=>{this.all.has(z)&&this.queue.set(z,y)},g);let S;this.all.add(I),I.notify();const R=()=>{I.cleanup(),S?.(),this.all.delete(I),this.queue.delete(I)};return S=u?.onDestroy(R),{destroy:R}}flush(){if(0!==this.queue.size)for(const[a,u]of this.queue)this.queue.delete(a),u?u.run(()=>a.run()):a.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=De({token:r,providedIn:"root",factory:()=>new r})}return r})();function ln(r,s,a){let u=a?r.styles:null,g=a?r.classes:null,y=0;if(null!==s)for(let I=0;I<s.length;I++){const S=s[I];"number"==typeof S?y=S:1==y?g=Vt(g,S):2==y&&(u=Vt(u,S+": "+s[++I]+";"))}a?r.styles=u:r.stylesWithoutHost=u,a?r.classes=g:r.classesWithoutHost=g}function wn(r,s,a,u,g=!1){for(;null!==a;){const y=s[a.index];null!==y&&u.push(di(y)),ls(y)&&p0(y,u);const I=a.type;if(8&I)wn(r,s,a.child,u);else if(32&I){const S=Xd(a,s);let R;for(;R=S();)u.push(R)}else if(16&I){const S=P_(s,a);if(Array.isArray(S))u.push(...S);else{const R=Gh(s[zr]);wn(R[Bt],R,S,u,!0)}}a=g?a.projectionNext:a.next}return u}function p0(r,s){for(let a=Rr;a<r.length;a++){const u=r[a],g=u[Bt].firstChild;null!==g&&wn(u[Bt],u,g,s)}r[gi]!==r[sr]&&s.push(r[gi])}function Jt(r,s,a,u=!0){const g=s[ks],y=g.rendererFactory,I=g.afterRenderEventManager;y.begin?.(),I?.begin();try{so(r,s,r.template,a)}catch(R){throw u&&io(s,R),R}finally{y.end?.(),g.effectManager?.flush(),I?.end()}}function so(r,s,a,u){const g=s[Fn];if(256!=(256&g)){s[ks].effectManager?.flush(),_e(s);try{Qu(s),function fl(r){return mn.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==a&&wa(r,s,a,2,u);const I=3==(3&g);if(I){const z=r.preOrderCheckHooks;null!==z&&Wc(s,z,null)}else{const z=r.preOrderHooks;null!==z&&pl(s,z,0,null),Vd(s,0)}if(function Lb(r){for(let s=D_(r);null!==s;s=eh(s)){if(!s[ms])continue;const a=s[Ra];for(let u=0;u<a.length;u++){Eh(a[u])}}}(s),Ey(s,2),null!==r.contentQueries&&h0(r,s),I){const z=r.contentCheckHooks;null!==z&&Wc(s,z)}else{const z=r.contentHooks;null!==z&&pl(s,z,1),Vd(s,1)}!function Rb(r,s){const a=r.hostBindingOpCodes;if(null===a)return;const u=mm(s,Cs);try{for(let g=0;g<a.length;g++){const y=a[g];if(y<0)ia(~y);else{const I=y,S=a[++g],R=a[++g];Ch(S,I),u.dirty=!1;const z=Js(u);try{R(2,s[I])}finally{Bc(u,z)}}}}finally{null===s[Cs]&&Bu(s,Cs),ia(-1)}}(r,s);const S=r.components;null!==S&&tl(s,S,0);const R=r.viewQuery;if(null!==R&&Vp(2,R,u),I){const z=r.viewCheckHooks;null!==z&&Wc(s,z)}else{const z=r.viewHooks;null!==z&&pl(s,z,2),Vd(s,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),s[Fn]&=-73,Ii(s)}finally{Ar()}}}function Ey(r,s){for(let a=D_(r);null!==a;a=eh(a))for(let u=Rr;u<a.length;u++)m0(a[u],s)}function g0(r,s,a){m0(Ni(s,r),a)}function m0(r,s){if(!function Yu(r){return 128==(128&r[Fn])}(r))return;const a=r[Bt],u=r[Fn];if(80&u&&0===s||1024&u||2===s)so(a,r,a.template,r[xr]);else if(r[po]>0){Ey(r,1);const g=a.components;null!==g&&tl(r,g,1)}}function tl(r,s,a){for(let u=0;u<s.length;u++)g0(r,s[u],a)}class hh{get rootNodes(){const s=this._lView,a=s[Bt];return wn(a,s,a.firstChild,[])}constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[xr]}set context(s){this._lView[xr]=s}get destroyed(){return 256==(256&this._lView[Fn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[wr];if(ls(s)){const a=s[8],u=a?a.indexOf(this):-1;u>-1&&(sp(s,u),no(a,u))}this._attachedToViewContainer=!1}jh(this._lView[Bt],this._lView)}onDestroy(s){jc(this._lView,s)}markForCheck(){Yl(this._cdRefInjectingView||this._lView)}detach(){this._lView[Fn]&=-129}reattach(){this._lView[Fn]|=128}detectChanges(){Jt(this._lView[Bt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new je(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function S_(r,s){Fg(r,s,s[Cn],2,null,null)}(this._lView[Bt],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new je(902,!1);this._appRef=s}}class vf extends hh{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;Jt(s[Bt],s,s[xr],!1)}checkNoChanges(){}get context(){return null}}class Dm extends Tp{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=cr(s);return new qn(a,this.ngModule)}}function Bb(r){const s=[];for(let a in r)r.hasOwnProperty(a)&&s.push({propName:r[a],templateName:a});return s}class Cm{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,u){u=lo(u);const g=this.injector.get(s,sm,u);return g!==sm||a===sm?g:this.parentInjector.get(s,a,u)}}class qn extends sy{get inputs(){const s=this.componentDef,a=s.inputTransforms,u=Bb(s.inputs);if(null!==a)for(const g of u)a.hasOwnProperty(g.propName)&&(g.transform=a[g.propName]);return u}get outputs(){return Bb(this.componentDef.outputs)}constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function xa(r){return r.map(Rc).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}create(s,a,u,g){let y=(g=g||this.ngModule)instanceof wl?g:g?.injector;y&&null!==this.componentDef.getStandaloneInjector&&(y=this.componentDef.getStandaloneInjector(y)||y);const I=y?new Cm(s,y):s,S=I.get(Kv,null);if(null===S)throw new je(407,!1);const me={rendererFactory:S,sanitizer:I.get(rm,null),effectManager:I.get(el,null),afterRenderEventManager:I.get(_d,null)},Me=S.createRenderer(null,this.componentDef),Le=this.componentDef.selectors[0][0]||"div",pt=u?function Pb(r,s,a,u){const y=u.get(df,!1)||a===fs.ShadowDom,I=r.selectRootElement(s,y);return function Rp(r){by(r)}(I),I}(Me,u,this.componentDef.encapsulation,I):Rg(Me,Le,function Vb(r){const s=r.toLowerCase();return"svg"===s?ma:"math"===s?"math":null}(Le)),vn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let wt=null;null!==pt&&(wt=xu(pt,I,!0));const lr=vy(0,null,null,1,0,null,null,null,null,null,null),Lr=uh(null,lr,null,vn,null,null,me,Me,I,null,wt);let Ui,sl;_e(Lr);try{const Ih=this.componentDef;let f_,ED=null;Ih.findHostDirectiveDefs?(f_=[],ED=new Map,Ih.findHostDirectiveDefs(Ih,f_,ED),f_.push(Ih)):f_=[Ih];const RS=function Hp(r,s){const a=r[Bt],u=On;return r[u]=s,Vu(a,u,2,"#host",null)}(Lr,pt),PS=function Is(r,s,a,u,g,y,I){const S=g[Bt];!function Sn(r,s,a,u){for(const g of r)s.mergedAttrs=uc(s.mergedAttrs,g.hostAttrs);null!==s.mergedAttrs&&(ln(s,s.mergedAttrs,!0),null!==a&&Lg(u,a,s))}(u,r,s,I);let R=null;null!==s&&(R=xu(s,g[ui]));const z=y.rendererFactory.createRenderer(s,a);let ie=16;a.signals?ie=4096:a.onPush&&(ie=64);const me=uh(g,o0(a),null,ie,g[r.index],r,y,z,null,null,R);return S.firstCreatePass&&Eo(S,r,u.length-1),yf(g,me),g[r.index]=me}(RS,pt,Ih,f_,Lr,me,Me);sl=Pd(lr,On),pt&&function qr(r,s,a,u){if(u)Hi(r,a,["ng-version",ay.full]);else{const{attrs:g,classes:y}=function hc(r){const s=[],a=[];let u=1,g=2;for(;u<r.length;){let y=r[u];if("string"==typeof y)2===g?""!==y&&s.push(y,r[++u]):8===g&&a.push(y);else{if(!li(g))break;g=y}u++}return{attrs:s,classes:a}}(s.selectors[0]);g&&Hi(r,a,g),y&&y.length>0&&ap(r,a,y.join(" "))}}(Me,Ih,pt,u),void 0!==a&&function nl(r,s,a){const u=r.projection=[];for(let g=0;g<s.length;g++){const y=a[g];u.push(null!=y?Array.from(y):null)}}(sl,this.ngContentSelectors,a),Ui=function wf(r,s,a,u,g,y){const I=bs(),S=g[Bt],R=us(I,g);wy(S,g,I,a,null,u);for(let ie=0;ie<a.length;ie++)Bo(Kc(g,S,I.directiveStart+ie,I),g);Fp(S,g,I),R&&Bo(R,g);const z=Kc(g,S,I.directiveStart+I.componentOffset,I);if(r[xr]=g[xr]=z,null!==y)for(const ie of y)ie(z,s);return gf(S,I,r),z}(PS,Ih,f_,ED,Lr,[zi]),Ot(lr,Lr,null)}finally{Ar()}return new bf(this.componentType,Ui,pd(sl,Lr),Lr,sl)}}class bf extends iy{constructor(s,a,u,g,y){super(),this.location=u,this._rootLView=g,this._tNode=y,this.previousInputValues=null,this.instance=a,this.hostView=this.changeDetectorRef=new vf(g),this.componentType=s}setInput(s,a){const u=this._tNode.inputs;let g;if(null!==u&&(g=u[s])){if(this.previousInputValues??=new Map,this.previousInputValues.has(s)&&Object.is(this.previousInputValues.get(s),a))return;const y=this._rootLView;dh(y[Bt],y,g,s,a),this.previousInputValues.set(s,a),Yl(Ni(this._tNode.index,y))}}get injector(){return new Fo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function zi(){const r=bs();du(ht()[Bt],r)}function If(r){let s=function Xt(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),a=!0;const u=[r];for(;s;){let g;if(mi(r))g=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new je(903,!1);g=s.\u0275dir}if(g){if(a){u.push(g);const I=r;I.inputs=Xl(r.inputs),I.inputTransforms=Xl(r.inputTransforms),I.declaredInputs=Xl(r.declaredInputs),I.outputs=Xl(r.outputs);const S=g.hostBindings;S&&Ub(r,S);const R=g.viewQuery,z=g.contentQueries;if(R&&_0(r,R),z&&fh(r,z),it(r.inputs,g.inputs),it(r.declaredInputs,g.declaredInputs),it(r.outputs,g.outputs),null!==g.inputTransforms&&(null===I.inputTransforms&&(I.inputTransforms={}),it(I.inputTransforms,g.inputTransforms)),mi(g)&&g.data.animation){const ie=r.data;ie.animation=(ie.animation||[]).concat(g.data.animation)}}const y=g.features;if(y)for(let I=0;I<y.length;I++){const S=y[I];S&&S.ngInherit&&S(r),S===If&&(a=!1)}}s=Object.getPrototypeOf(s)}!function Sm(r){let s=0,a=null;for(let u=r.length-1;u>=0;u--){const g=r[u];g.hostVars=s+=g.hostVars,g.hostAttrs=uc(g.hostAttrs,a=uc(a,g.hostAttrs))}}(u)}function Xl(r){return r===ps?{}:r===tr?[]:r}function _0(r,s){const a=r.viewQuery;r.viewQuery=a?(u,g)=>{s(u,g),a(u,g)}:s}function fh(r,s){const a=r.contentQueries;r.contentQueries=a?(u,g,y)=>{s(u,g,y),a(u,g,y)}:s}function Ub(r,s){const a=r.hostBindings;r.hostBindings=a?(u,g)=>{s(u,g),a(u,g)}:s}function Wa(r){return s=>{s.findHostDirectiveDefs=Nm,s.hostDirectives=(Array.isArray(r)?r:r()).map(a=>"function"==typeof a?{directive:xt(a),inputs:ps,outputs:ps}:{directive:xt(a.directive),inputs:Dy(a.inputs),outputs:Dy(a.outputs)})}}function Nm(r,s,a){if(null!==r.hostDirectives)for(const u of r.hostDirectives){const g=Qr(u.directive);Hb(g.declaredInputs,u.inputs),Nm(g,s,a),a.set(g,u),s.push(g)}}function Dy(r){if(void 0===r||0===r.length)return ps;const s={};for(let a=0;a<r.length;a+=2)s[r[a]]=r[a+1];return s}function Hb(r,s){for(const a in s)s.hasOwnProperty(a)&&(r[s[a]]=r[a])}function qe(r){const s=r.inputConfig,a={};for(const u in s)if(s.hasOwnProperty(u)){const g=s[u];Array.isArray(g)&&g[2]&&(a[u]=g[2])}r.inputTransforms=a}function oc(r){return!!eu(r)&&(Array.isArray(r)||!(r instanceof Map)&&Symbol.iterator in r)}function eu(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function Da(r,s,a){return r[s]=a}function $o(r,s,a){return!Object.is(r[s],a)&&(r[s]=a,!0)}function wd(r,s,a,u){const g=$o(r,s,a);return $o(r,s+1,u)||g}function Ef(r,s,a,u,g){const y=wd(r,s,a,u);return $o(r,s+2,g)||y}function gh(r,s,a,u){const g=ht();return $o(g,Va(),s)&&(gr(),jo(Pr(),g,r,s,a,u)),gh}function Df(r,s,a,u){return $o(r,Va(),a)?s+Qe(a)+u:ar}function Cf(r,s,a,u,g,y,I,S){const z=Ef(r,function Po(){return mn.lFrame.bindingIndex}(),a,g,I);return Ua(3),z?s+Qe(a)+u+Qe(g)+y+Qe(I)+S:ar}function zp(r,s,a,u,g,y,I,S){const R=ht(),z=gr(),ie=r+On,me=z.firstCreatePass?function Hu(r,s,a,u,g,y,I,S,R){const z=s.consts,ie=Vu(s,r,4,I||null,Fa(z,S));Yc(s,a,ie,Fa(z,R)),du(s,ie);const me=ie.tView=vy(2,ie,u,g,y,s.directiveRegistry,s.pipeRegistry,null,s.schemas,z,null);return null!==s.queries&&(s.queries.template(s,ie),me.queries=s.queries.embeddedTView(ie)),ie}(ie,z,R,s,a,u,g,y,I):z.data[ie];bo(me,!1);const Me=Gu(z,R,me,r);Ah()&&kg(z,R,Me,me),Bo(Me,R),yf(R,R[ie]=d0(Me,R,Me,me)),vs(me)&&yy(z,R,me),null!=I&&xp(R,me,S)}let Gu=function rl(r,s,a,u){return vc(!0),s[Cn].createComment("")};function Cc(r){return ec(function lu(){return mn.lFrame.contextLView}(),On+r)}function Ed(r,s,a){const u=ht();return $o(u,Va(),s)&&Ta(gr(),Pr(),u,r,s,u[Cn],a,!1),Ed}function _h(r,s,a,u,g){const I=g?"class":"style";dh(r,a,s.inputs[I],I,u)}function Cd(r,s,a,u){const g=ht(),y=gr(),I=On+r,S=g[Cn],R=y.firstCreatePass?function Dd(r,s,a,u,g,y){const I=s.consts,R=Vu(s,r,2,u,Fa(I,g));return Yc(s,a,R,Fa(I,y)),null!==R.attrs&&ln(R,R.attrs,!1),null!==R.mergedAttrs&&ln(R,R.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,R),R}(I,y,g,s,a,u):y.data[I],z=Mm(y,g,R,S,s,r);g[I]=z;const ie=vs(R);return bo(R,!0),Lg(S,z,R),32!=(32&R.flags)&&Ah()&&kg(y,g,z,R),0===function Ju(){return mn.lFrame.elementDepthCount}()&&Bo(z,g),function Dh(){mn.lFrame.elementDepthCount++}(),ie&&(yy(y,g,R),gf(y,R,g)),null!==u&&xp(g,R),Cd}function ju(){let r=bs();cu()?tc():(r=r.parent,bo(r,!1));const s=r;(function $c(r){return mn.skipHydrationRootTNode===r})(s)&&function ou(){mn.skipHydrationRootTNode=null}(),function Ol(){mn.lFrame.elementDepthCount--}();const a=gr();return a.firstCreatePass&&(du(a,r),Ls(r)&&a.queries.elementEnd(r)),null!=s.classesWithoutHost&&function Wf(r){return 0!=(8&r.flags)}(s)&&_h(a,s,ht(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function qf(r){return 0!=(16&r.flags)}(s)&&_h(a,s,ht(),s.stylesWithoutHost,!1),ju}function Wp(r,s,a,u){return Cd(r,s,a,u),ju(),Wp}let Mm=(r,s,a,u,g,y)=>(vc(!0),Rg(u,g,function uu(){return mn.lFrame.currentNamespace}()));function w0(r,s,a){const u=ht(),g=gr(),y=r+On,I=g.firstCreatePass?function pT(r,s,a,u,g){const y=s.consts,I=Fa(y,u),S=Vu(s,r,8,"ng-container",I);return null!==I&&ln(S,I,!0),Yc(s,a,S,Fa(y,g)),null!==s.queries&&s.queries.elementStart(s,S),S}(y,g,u,s,a):g.data[y];bo(I,!0);const S=$b(g,u,I,r);return u[y]=S,Ah()&&kg(g,u,S,I),Bo(S,u),vs(I)&&(yy(g,u,I),gf(g,I,u)),null!=a&&xp(u,I),w0}function I0(){let r=bs();const s=gr();return cu()?tc():(r=r.parent,bo(r,!1)),s.firstCreatePass&&(du(s,r),Ls(r)&&s.queries.elementEnd(r)),I0}let $b=(r,s,a,u)=>(vc(!0),C_(s[Cn],""));function hs(){return ht()}function Sd(r){return!!r&&"function"==typeof r.then}function zb(r){return!!r&&"function"==typeof r.subscribe}function T0(r,s,a,u){const g=ht(),y=gr(),I=bs();return function Wb(r,s,a,u,g,y,I){const S=vs(u),z=r.firstCreatePass&&bd(r),ie=s[xr],me=f0(s);let Me=!0;if(3&u.type||I){const Nt=us(u,s),nn=I?I(Nt):Nt,vn=me.length,wt=I?Lr=>I(di(Lr[u.index])):u.index;let lr=null;if(!I&&S&&(lr=function xD(r,s,a,u){const g=r.cleanup;if(null!=g)for(let y=0;y<g.length-1;y+=2){const I=g[y];if(I===a&&g[y+1]===u){const S=s[$i],R=g[y+2];return S.length>R?S[R]:null}"string"==typeof I&&(y+=2)}return null}(r,s,g,u.index)),null!==lr)(lr.__ngLastListenerFn__||lr).__ngNextListenerFn__=y,lr.__ngLastListenerFn__=y,Me=!1;else{y=Mi(u,s,ie,y,!1);const Lr=a.listen(nn,g,y);me.push(y,Lr),z&&z.push(g,wt,vn,vn+1)}}else y=Mi(u,s,ie,y,!1);const Le=u.outputs;let pt;if(Me&&null!==Le&&(pt=Le[g])){const Nt=pt.length;if(Nt)for(let nn=0;nn<Nt;nn+=2){const Ui=s[pt[nn]][pt[nn+1]].subscribe(y),sl=me.length;me.push(y,Ui),z&&z.push(g,u.index,sl,-(sl+1))}}}(y,g,g[Cn],I,r,s,u),T0}function Zr(r,s,a,u){try{return eo(6,s,a),!1!==a(u)}catch(g){return io(r,g),!1}finally{eo(7,s,a)}}function Mi(r,s,a,u,g){return function y(I){if(I===Function)return u;Yl(r.componentOffset>-1?Ni(r.index,s):s);let R=Zr(s,a,u,I),z=y.__ngNextListenerFn__;for(;z;)R=Zr(s,a,z,I)&&R,z=z.__ngNextListenerFn__;return g&&!1===R&&I.preventDefault(),R}}function Kp(r=1){return function mr(r){return(mn.lFrame.contextLView=function yc(r,s){for(;r>0;)s=s[Fs],r--;return s}(r,mn.lFrame.contextLView))[xr]}(r)}function qb(r,s){let a=null;const u=function Zs(r){const s=r.attrs;if(null!=s){const a=s.indexOf(5);if(!(1&a))return s[a+1]}return null}(r);for(let g=0;g<s.length;g++){const y=s[g];if("*"!==y){if(null===u?Ci(r,y,!0):ol(u,y))return g}else a=g}return a}function E0(r){const s=ht()[zr][Jr];if(!s.projection){const u=s.projection=bu(r?r.length:1,null),g=u.slice();let y=s.child;for(;null!==y;){const I=r?qb(y,r):0;null!==I&&(g[I]?g[I].projectionNext=y:u[I]=y,g[I]=y),y=y.next}}}function Zb(r,s=0,a){const u=ht(),g=gr(),y=Vu(g,On+r,16,null,a||null);null===y.projection&&(y.projection=s),tc(),(!u[cs]||_a())&&32!=(32&y.flags)&&function ZI(r,s,a){F_(s[Cn],0,s,a,zh(r,a,s),O_(a.parent||s[Jr],a,s))}(g,u,y)}function Sy(r,s,a){return Ay(r,"",s,"",a),Sy}function Ay(r,s,a,u,g){const y=ht(),I=Df(y,s,a,u);return I!==ar&&Ta(gr(),Pr(),y,r,I,y[Cn],g,!1),Ay}function D0(r,s){return r<<17|s<<2}function Af(r){return r>>17&32767}function yh(r){return 2|r}function $u(r){return(131068&r)>>2}function xm(r,s){return-131069&r|s<<2}function S0(r){return 1|r}function ew(r,s,a,u,g){const y=r[a+1],I=null===s;let S=u?Af(y):$u(y),R=!1;for(;0!==S&&(!1===R||I);){const ie=r[S+1];tw(r[S],s)&&(R=!0,r[S+1]=u?S0(ie):yh(ie)),S=u?Af(ie):$u(ie)}R&&(r[a+1]=u?yh(y):S0(y))}function tw(r,s){return null===r||null==s||(Array.isArray(r)?r[1]:r)===s||!(!Array.isArray(r)||"string"!=typeof s)&&yl(r,s)>=0}const ao={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function A0(r){return r.substring(ao.key,ao.keyEnd)}function N0(r,s){const a=ao.textEnd;return a===s?-1:(s=ao.keyEnd=function Ny(r,s,a){for(;s<a&&r.charCodeAt(s)>32;)s++;return s}(r,ao.key=s,a),Of(r,s,a))}function Of(r,s,a){for(;s<a&&r.charCodeAt(s)<=32;)s++;return s}function M0(r,s){return function Nc(r,s,a,u){const g=ht(),y=gr(),I=Ua(2);y.firstUpdatePass&&Er(y,r,I,u),s!==ar&&$o(g,I,s)&&xf(y,y.data[Wr()],g,g[Cn],r,g[I+1]=function AT(r,s){return null==r||""===r||("string"==typeof s?r+=s:"object"==typeof r&&(r=At(Su(r)))),r}(s,a),u,I)}(r,s,null,!0),M0}function zu(r){!function qu(r,s,a,u){const g=gr(),y=Ua(2);g.firstUpdatePass&&Er(g,null,y,u);const I=ht();if(a!==ar&&$o(I,y,a)){const S=g.data[Wr()];if(Qp(S,u)&&!TT(g,y)){let R=u?S.classesWithoutHost:S.stylesWithoutHost;null!==R&&(a=Vt(R,a||"")),_h(g,S,I,a,u)}else!function km(r,s,a,u,g,y,I,S){g===ar&&(g=tr);let R=0,z=0,ie=0<g.length?g[0]:null,me=0<y.length?y[0]:null;for(;null!==ie||null!==me;){const Me=R<g.length?g[R+1]:void 0,Le=z<y.length?y[z+1]:void 0;let Nt,pt=null;ie===me?(R+=2,z+=2,Me!==Le&&(pt=me,Nt=Le)):null===me||null!==ie&&ie<me?(R+=2,pt=ie):(z+=2,pt=me,Nt=Le),null!==pt&&xf(r,s,a,u,pt,Nt,I,S),ie=R<g.length?g[R]:null,me=z<y.length?y[z]:null}}(g,S,I,I[Cn],I[y+1],I[y+1]=function LD(r,s,a){if(null==a||""===a)return tr;const u=[],g=Su(a);if(Array.isArray(g))for(let y=0;y<g.length;y++)r(u,g[y],!0);else if("object"==typeof g)for(const y in g)g.hasOwnProperty(y)&&r(u,y,g[y]);else"string"==typeof g&&s(u,g);return u}(r,s,a),u,y)}}(ST,Wu,r,!0)}function Wu(r,s){for(let a=function Sc(r){return function nw(r){ao.key=0,ao.keyEnd=0,ao.value=0,ao.valueEnd=0,ao.textEnd=r.length}(r),N0(r,Of(r,0,ao.textEnd))}(s);a>=0;a=N0(s,a))ws(r,A0(s),!0)}function TT(r,s){return s>=r.expandoStartIndex}function Er(r,s,a,u){const g=r.data;if(null===g[a+1]){const y=g[Wr()],I=TT(r,a);Qp(y,u)&&null===s&&!I&&(s=!1),s=function FD(r,s,a,u){const g=function x(r){const s=mn.lFrame.currentDirectiveIndex;return-1===s?null:r[s]}(r);let y=u?s.residualClasses:s.residualStyles;if(null===g)0===(u?s.classBindings:s.styleBindings)&&(a=Mf(a=x0(null,r,s,a,u),s.attrs,u),y=null);else{const I=s.directiveStylingLast;if(-1===I||r[I]!==g)if(a=x0(g,r,s,a,u),null===y){let R=function iw(r,s,a){const u=a?s.classBindings:s.styleBindings;if(0!==$u(u))return r[Af(u)]}(r,s,u);void 0!==R&&Array.isArray(R)&&(R=x0(null,r,s,R[1],u),R=Mf(R,s.attrs,u),function ET(r,s,a,u){r[Af(a?s.classBindings:s.styleBindings)]=u}(r,s,u,R))}else y=function DT(r,s,a){let u;const g=s.directiveEnd;for(let y=1+s.directiveStylingLast;y<g;y++)u=Mf(u,r[y].hostAttrs,a);return Mf(u,s.attrs,a)}(r,s,u)}return void 0!==y&&(u?s.residualClasses=y:s.residualStyles=y),a}(g,y,s,u),function bT(r,s,a,u,g,y){let I=y?s.classBindings:s.styleBindings,S=Af(I),R=$u(I);r[u]=a;let ie,z=!1;if(Array.isArray(a)?(ie=a[1],(null===ie||yl(a,ie)>0)&&(z=!0)):ie=a,g)if(0!==R){const Me=Af(r[S+1]);r[u+1]=D0(Me,S),0!==Me&&(r[Me+1]=xm(r[Me+1],u)),r[S+1]=function Xb(r,s){return 131071&r|s<<17}(r[S+1],u)}else r[u+1]=D0(S,0),0!==S&&(r[S+1]=xm(r[S+1],u)),S=u;else r[u+1]=D0(R,0),0===S?S=u:r[R+1]=xm(r[R+1],u),R=u;z&&(r[u+1]=yh(r[u+1])),ew(r,ie,u,!0),ew(r,ie,u,!1),function Rm(r,s,a,u,g){const y=g?r.residualClasses:r.residualStyles;null!=y&&"string"==typeof s&&yl(y,s)>=0&&(a[u+1]=S0(a[u+1]))}(s,ie,r,u,y),I=D0(S,R),y?s.classBindings=I:s.styleBindings=I}(g,y,s,a,I,u)}}function x0(r,s,a,u,g){let y=null;const I=a.directiveEnd;let S=a.directiveStylingLast;for(-1===S?S=a.directiveStart:S++;S<I&&(y=s[S],u=Mf(u,y.hostAttrs,g),y!==r);)S++;return null!==r&&(a.directiveStylingLast=S),u}function Mf(r,s,a){const u=a?1:2;let g=-1;if(null!==s)for(let y=0;y<s.length;y++){const I=s[y];"number"==typeof I?g=I:g===u&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),ws(r,I,!!a||s[++y]))}return void 0===r?null:r}function ST(r,s,a){const u=String(s);""!==u&&!u.includes(" ")&&ws(r,u,a)}function xf(r,s,a,u,g,y,I,S){if(!(3&s.type))return;const R=r.data,z=R[S+1],ie=function C0(r){return 1==(1&r)}(z)?sw(R,s,a,g,$u(z),I):void 0;Nd(ie)||(Nd(y)||function RD(r){return 2==(2&r)}(z)&&(y=sw(R,null,a,g,S,I)),function vl(r,s,a,u,g){if(s)g?r.addClass(a,u):r.removeClass(a,u);else{let y=-1===u.indexOf("-")?void 0:np.DashCase;null==g?r.removeStyle(a,u,y):("string"==typeof g&&g.endsWith("!important")&&(g=g.slice(0,-10),y|=np.Important),r.setStyle(a,u,g,y))}}(u,I,Nl(Wr(),a),g,y))}function sw(r,s,a,u,g,y){const I=null===s;let S;for(;g>0;){const R=r[g],z=Array.isArray(R),ie=z?R[1]:R,me=null===ie;let Me=a[g+1];Me===ar&&(Me=me?tr:void 0);let Le=me?Ph(Me,u):ie===u?Me:void 0;if(z&&!Nd(Le)&&(Le=Ph(R,u)),Nd(Le)&&(S=Le,I))return S;const pt=r[g+1];g=I?Af(pt):$u(pt)}if(null!==s){let R=y?s.residualClasses:s.residualStyles;null!=R&&(S=Ph(R,u))}return S}function Nd(r){return void 0!==r}function Qp(r,s){return 0!=(r.flags&(s?8:16))}function ow(r,s=""){const a=ht(),u=gr(),g=r+On,y=u.firstCreatePass?Vu(u,g,1,s,null):u.data[g],I=aw(u,a,y,s,r);a[g]=I,Ah()&&kg(u,a,I,y),bo(y,!1)}let aw=(r,s,a,u,g)=>(vc(!0),ip(s[Cn],u));function cw(r){return ss("",r,""),cw}function ss(r,s,a){const u=ht(),g=Df(u,r,s,a);return g!==ar&&Ea(u,Wr(),g),ss}function Fm(r,s,a,u,g,y,I){const S=ht(),R=Cf(S,r,s,a,u,g,y,I);return R!==ar&&Ea(S,Wr(),R),Fm}function k0(r,s,a){const u=ht();return $o(u,Va(),s)&&Ta(gr(),Pr(),u,r,s,u[Cn],a,!0),k0}const Xp=void 0;var VT=["en",[["a","p"],["AM","PM"],Xp],[["AM","PM"],Xp,Xp],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Xp,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Xp,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Xp,"{1} 'at' {0}",Xp],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function BT(r){const a=Math.floor(Math.abs(r)),u=r.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===u?1:5}];let Gm={};function bw(r){const s=function Do(r){return r.toLowerCase().replace(/_/g,"-")}(r);let a=eg(s);if(a)return a;const u=s.split("-")[0];if(a=eg(u),a)return a;if("en"===u)return VT;throw new je(701,!1)}function F0(r){return bw(r)[jm.PluralCase]}function eg(r){return r in Gm||(Gm[r]=ir.ng&&ir.ng.common&&ir.ng.common.locales&&ir.ng.common.locales[r]),Gm[r]}var jm=function(r){return r[r.LocaleId=0]="LocaleId",r[r.DayPeriodsFormat=1]="DayPeriodsFormat",r[r.DayPeriodsStandalone=2]="DayPeriodsStandalone",r[r.DaysFormat=3]="DaysFormat",r[r.DaysStandalone=4]="DaysStandalone",r[r.MonthsFormat=5]="MonthsFormat",r[r.MonthsStandalone=6]="MonthsStandalone",r[r.Eras=7]="Eras",r[r.FirstDayOfWeek=8]="FirstDayOfWeek",r[r.WeekendRange=9]="WeekendRange",r[r.DateFormat=10]="DateFormat",r[r.TimeFormat=11]="TimeFormat",r[r.DateTimeFormat=12]="DateTimeFormat",r[r.NumberSymbols=13]="NumberSymbols",r[r.NumberFormats=14]="NumberFormats",r[r.CurrencyCode=15]="CurrencyCode",r[r.CurrencySymbol=16]="CurrencySymbol",r[r.CurrencyName=17]="CurrencyName",r[r.Currencies=18]="Currencies",r[r.Directionality=19]="Directionality",r[r.PluralCase=20]="PluralCase",r[r.ExtraData=21]="ExtraData",r}(jm||{});const Od="en-US",$m={marker:"element"},Ry={marker:"ICU"};var Ca=function(r){return r[r.SHIFT=2]="SHIFT",r[r.APPEND_EAGERLY=1]="APPEND_EAGERLY",r[r.COMMENT=2]="COMMENT",r}(Ca||{});let Iw=Od;function Tw(r){(function cn(r,s){null==r&&Dt(s,r,null,"!=")})(r,"Expected localeId to be defined"),"string"==typeof r&&(Iw=r.toLowerCase().replace(/_/g,"-"))}function HT(r,s,a){const u=s.insertBeforeIndex,g=Array.isArray(u)?u[0]:u;return null===g?M_(r,0,a):di(a[g])}function zm(r,s,a,u,g){const y=s.insertBeforeIndex;if(Array.isArray(y)){let I=u,S=null;if(3&s.type||(S=I,I=g),null!==I&&-1===s.componentOffset)for(let R=1;R<y.length;R++)Eu(r,I,a[y[R]],S,!1)}}function L0(r,s){if(r.push(s),r.length>1)for(let a=r.length-2;a>=0;a--){const u=r[a];GT(u)||jT(u,s)&&null===Ew(u)&&$T(u,s.index)}}function GT(r){return!(64&r.type)}function jT(r,s){return GT(s)||r.index>s.index}function Ew(r){const s=r.insertBeforeIndex;return Array.isArray(s)?s[0]:s}function $T(r,s){const a=r.insertBeforeIndex;Array.isArray(a)?a[0]=s:(hb(HT,zm),r.insertBeforeIndex=s)}function zD(r,s,a){const u=_m(r,a,64,null,null);return L0(s,u),u}function Cw(){const r=[];let a,u,s=-1;function y(S,R){s=0;const z=function B0(r,s){const a=s[r.currentCaseLViewIndex];return null===a?a:a<0?~a:a}(S,R);u=null!==z?S.remove[z]:tr}function I(){if(s<u.length){const S=u[s++];return S>0?a[S]:(r.push(s,u),y(a[Bt].data[~S],a),I())}return 0===r.length?null:(u=r.pop(),s=r.pop(),I())}return function g(S,R){for(a=R;r.length;)r.pop();return y(S.value,R),I}}const Fy=/\ufffd(\d+):?\d*\ufffd/gi,Ly=/\ufffd(\d+)\ufffd/,kf=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,By="\ufffd",YT=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,YD=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,QD=/\uE500/g;function wh(r,s,a,u,g,y,I){const S=pf(r,u,1,null);let R=S<<Ca.SHIFT,z=hl();s===z&&(z=null),null===z&&(R|=Ca.APPEND_EAGERLY),I&&(R|=Ca.COMMENT,function Mg(r){void 0===Jd&&(Jd=r())}(Cw)),g.push(R,null===y?"":y);const ie=_m(r,S,I?32:1,null===y?"":y,null);L0(a,ie);const me=ie.index;return bo(ie,!1),null!==z&&s!==z&&function $D(r,s){let a=r.insertBeforeIndex;null===a?(hb(HT,zm),a=r.insertBeforeIndex=[null,s]):(function $e(r,s,a){r!=s&&Dt(a,r,s,"==")}(Array.isArray(a),!0,"Expecting array here"),a.push(s))}(z,me),ie}function QT(r,s,a,u,g,y,I){const S=I.match(Fy),R=wh(r,s,a,y,u,S?null:I,!1);S&&Zm(g,I,R.index,null,0,null)}function Zm(r,s,a,u,g,y){const I=r.length,S=I+1;r.push(null,null);const R=I+2,z=s.split(Fy);let ie=0;for(let me=0;me<z.length;me++){const Me=z[me];if(1&me){const Le=g+parseInt(Me,10);r.push(-1-Le),ie|=H0(Le)}else""!==Me&&r.push(Me)}return r.push(a<<2|(u?1:0)),u&&r.push(u,y),r[I]=ie,r[S]=r.length-R,ie}function H0(r){return 1<<Math.min(r,31)}function Nw(r){let s,y,a="",u=0,g=!1;for(;null!==(s=YT.exec(r));)g?s[0]===`${By}/*${y}${By}`&&(u=s.index,g=!1):(a+=r.substring(u,s.index+s[0].length),y=s[1],g=!0);return a+=r.slice(u),a}function G0(r,s,a,u,g,y){let I=0;const S={type:g.type,currentCaseLViewIndex:pf(r,s,1,null),anchorIdx:y,cases:[],create:[],remove:[],update:[]};(function XT(r,s,a){r.push(H0(s.mainBinding),2,-1-s.mainBinding,a<<2|2)})(a,g,y),function zT(r,s,a){const u=r.data[s];null===u?r.data[s]=a:u.value=a}(r,y,S);const R=g.values;for(let z=0;z<R.length;z++){const ie=R[z],me=[];for(let Me=0;Me<ie.length;Me++){const Le=ie[Me];if("string"!=typeof Le){const pt=me.push(Le)-1;ie[Me]=`\x3c!--\ufffd${pt}\ufffd--\x3e`}}I=tC(r,S,s,a,u,g.cases[z],ie.join(""),me)|I}I&&function Uy(r,s,a){r.push(s,1,a<<2|3)}(a,I,y)}function JT(r){const s=[],a=[];let u=1,g=0;const y=Km(r=r.replace(kf,function(I,S,R){return u="select"===R?0:1,g=parseInt(S.slice(1),10),""}));for(let I=0;I<y.length;){let S=y[I++].trim();1===u&&(S=S.replace(/\s*(?:=)?(\w+)\s*/,"$1")),S.length&&s.push(S);const R=Km(y[I++]);s.length>a.length&&a.push(R)}return{type:u,mainBinding:g,cases:s,values:a}}function Km(r){if(!r)return[];let s=0;const a=[],u=[],g=/[{}]/g;let y;for(g.lastIndex=0;y=g.exec(r);){const S=y.index;if("}"==y[0]){if(a.pop(),0==a.length){const R=r.substring(s,S);kf.test(R)?u.push(JT(R)):u.push(R),s=S+1}}else{if(0==a.length){const R=r.substring(s,S);u.push(R),s=S+1}a.push("{")}}const I=r.substring(s);return u.push(I),u}function tC(r,s,a,u,g,y,I,S){const R=[],z=[],ie=[];s.cases.push(y),s.create.push(R),s.remove.push(z),s.update.push(ie);const Me=XI(dp()).getInertBodyElement(I),Le=gp(Me)||Me;return Le?j0(r,s,a,u,R,z,ie,Le,g,S,0):0}function j0(r,s,a,u,g,y,I,S,R,z,ie){let me=0,Me=S.firstChild;for(;Me;){const Le=pf(r,a,1,null);switch(Me.nodeType){case Node.ELEMENT_NODE:const pt=Me,Nt=pt.tagName.toLowerCase();if($l.hasOwnProperty(Nt)){Ym(g,$m,Nt,R,Le),r.data[Le]=Nt;const lr=pt.attributes;for(let Lr=0;Lr<lr.length;Lr++){const Ui=lr.item(Lr),sl=Ui.name.toLowerCase();Ui.value.match(Fy)?gb.hasOwnProperty(sl)&&Zm(I,Ui.value,Le,Ui.name,0,Bv[sl]?Fv:null):Hy(g,Le,Ui)}me=j0(r,s,a,u,g,y,I,Me,Le,z,ie+1)|me,Vy(y,Le,ie)}break;case Node.TEXT_NODE:const nn=Me.textContent||"",vn=nn.match(Fy);Ym(g,null,vn?"":nn,R,Le),Vy(y,Le,ie),vn&&(me=Zm(I,nn,Le,null,0,null)|me);break;case Node.COMMENT_NODE:const wt=Ly.exec(Me.textContent||"");if(wt){const Lr=z[parseInt(wt[1],10)];Ym(g,Ry,"",R,Le),G0(r,a,u,R,Lr,Le),nC(y,Le,ie)}}Me=Me.nextSibling}return me}function Vy(r,s,a){0===a&&r.push(s)}function nC(r,s,a){0===a&&(r.push(~s),r.push(s))}function Ym(r,s,a,u,g){null!==s&&r.push(s),r.push(a,g,function WD(r,s,a){return r|s<<17|a<<1}(0,u,g))}function Hy(r,s,a){r.push(s<<1|1,a.name,a.value)}function xw(r,s,a=-1){const u=gr(),g=ht(),y=On+r,I=Fa(u.consts,s),S=hl();u.firstCreatePass&&function rg(r,s,a,u,g,y){const I=hl(),S=[],R=[],z=[[]];g=function Ow(r,s){if(function Aw(r){return-1===r}(s))return Nw(r);{const a=r.indexOf(`:${s}${By}`)+2+s.toString().length,u=r.search(new RegExp(`${By}\\/\\*\\d+:${s}${By}`));return Nw(r.substring(a,u))}}(g,y);const ie=function JD(r){return r.replace(QD," ")}(g).split(YD);for(let me=0;me<ie.length;me++){let Me=ie[me];if(1&me){const Le=47===Me.charCodeAt(0),Nt=(Me.charCodeAt(Le?1:0),On+Number.parseInt(Me.substring(Le?2:1)));if(Le)z.shift(),bo(hl(),!1);else{const nn=zD(r,z[0],Nt);z.unshift([]),bo(nn,!0)}}else{const Le=Km(Me);for(let pt=0;pt<Le.length;pt++){let Nt=Le[pt];if(1&pt){const nn=Nt;if("object"!=typeof nn)throw new Error(`Unable to parse ICU expression in "${g}" message.`);G0(r,a,R,s,nn,wh(r,I,z[0],a,S,"",!0).index)}else""!==Nt&&QT(r,I,z[0],S,R,a,Nt)}}}r.data[u]={create:S,update:R}}(u,null===S?0:S.index,g,y,I,a),2===u.type?g[zr][Fn]|=32:g[Fn]|=32;const R=u.data[y],ie=Pg(u,S===g[Jr]?null:S,g);(function qT(r,s,a,u){const g=r[Cn];for(let y=0;y<s.length;y++){const I=s[y++],S=s[y],z=(I&Ca.APPEND_EAGERLY)===Ca.APPEND_EAGERLY,ie=I>>>Ca.SHIFT;let me=r[ie];null===me&&(me=r[ie]=(I&Ca.COMMENT)===Ca.COMMENT?g.createComment(S):ip(g,S)),z&&null!==a&&Eu(g,a,me,u,!1)}})(g,R.create,ie,S&&8&S.type?g[S.index]:null),xl(!0)}function rE(r,s,a){xw(r,s,a),function Lf(){xl(!1)}()}function Pw(r,s,a,u,g){if(r=xt(r),Array.isArray(r))for(let y=0;y<r.length;y++)Pw(r[y],s,a,u,g);else{const y=gr(),I=ht(),S=bs();let R=tf(r)?r:xt(r.provide);const z=qg(r),ie=1048575&S.providerIndexes,me=S.directiveStart,Me=S.providerIndexes>>20;if(tf(r)||!r.multi){const Le=new nd(z,g,El),pt=Xm(R,s,g?ie:ie+Me,me);-1===pt?(Ll(ml(S,I),y,R),W0(y,r,s.length),s.push(R),S.directiveStart++,S.directiveEnd++,g&&(S.providerIndexes+=1048576),a.push(Le),I.push(Le)):(a[pt]=Le,I[pt]=Le)}else{const Le=Xm(R,s,ie+Me,me),pt=Xm(R,s,ie,ie+Me),nn=pt>=0&&a[pt];if(g&&!nn||!g&&!(Le>=0&&a[Le])){Ll(ml(S,I),y,R);const vn=function oC(r,s,a,u,g){const y=new nd(r,a,El);return y.multi=[],y.index=s,y.componentProviders=0,oE(y,g,u&&!a),y}(g?sC:iC,a.length,g,u,z);!g&&nn&&(a[pt].providerFactory=vn),W0(y,r,s.length,0),s.push(R),S.directiveStart++,S.directiveEnd++,g&&(S.providerIndexes+=1048576),a.push(vn),I.push(vn)}else W0(y,r,Le>-1?Le:pt,oE(a[g?pt:Le],z,!g&&u));!g&&u&&nn&&a[pt].componentProviders++}}}function W0(r,s,a,u){const g=tf(s),y=function K_(r){return!!r.useClass}(s);if(g||y){const R=(y?xt(s.useClass):s).prototype.ngOnDestroy;if(R){const z=r.destroyHooks||(r.destroyHooks=[]);if(!g&&s.multi){const ie=z.indexOf(a);-1===ie?z.push(a,[u,R]):z[ie+1].push(u,R)}else z.push(a,R)}}}function oE(r,s,a){return a&&r.componentProviders++,r.multi.push(s)-1}function Xm(r,s,a,u){for(let g=a;g<u;g++)if(s[g]===r)return g;return-1}function iC(r,s,a,u){return q0(this.multi,[])}function sC(r,s,a,u){const g=this.multi;let y;if(this.providerFactory){const I=this.providerFactory.componentProviders,S=Kc(a,a[Bt],this.providerFactory.index,u);y=S.slice(0,I),q0(g,y);for(let R=I;R<S.length;R++)y.push(S[R])}else y=[],q0(g,y);return y}function q0(r,s){for(let a=0;a<r.length;a++)s.push((0,r[a])());return s}function kw(r,s=[]){return a=>{a.providersResolver=(u,g)=>function sE(r,s,a){const u=gr();if(u.firstCreatePass){const g=mi(r);Pw(a,u.data,u.blueprint,g,!0),Pw(s,u.data,u.blueprint,g,!1)}}(u,g?g(r):r,s)}}class Cl{}class e_{}function aE(r,s){return new Fw(r,s??null,[])}class Fw extends Cl{constructor(s,a,u){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Dm(this);const g=ri(s);this._bootstrapComponents=Kl(g.bootstrap),this._r3Injector=Jv(s,a,[{provide:Cl,useValue:this},{provide:Tp,useValue:this.componentFactoryResolver},...u],At(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Z0 extends e_{constructor(s){super(),this.moduleType=s}create(s){return new Fw(this.moduleType,s,[])}}class cE extends Cl{constructor(s){super(),this.componentFactoryResolver=new Dm(this),this.instance=null;const a=new ih([...s.providers,{provide:Cl,useValue:this},{provide:Tp,useValue:this.componentFactoryResolver}],s.parent||vp(),s.debugName,new Set(["environment"]));this.injector=a,s.runEnvironmentInitializers&&a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function K0(r,s,a=null){return new cE({providers:r,parent:s,debugName:a,runEnvironmentInitializers:!0}).injector}let Sa=(()=>{class r{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a)){const u=W_(0,a.type),g=u.length>0?K0([u],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a,g)}return this.cachedInjectors.get(a)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=De({token:r,providedIn:"environment",factory:()=>new r(xn(wl))})}return r})();function lE(r){r.getStandaloneInjector=s=>s.get(Sa).getOrCreateStandaloneInjector(r)}function Vw(r,s,a,u){return Gy(ht(),Hs(),r,s,a,u)}function t1(r,s,a,u,g){return Uw(ht(),Hs(),r,s,a,u,g)}function yE(r,s,a,u,g,y){return function Hw(r,s,a,u,g,y,I,S){const R=s+a;return Ef(r,R,g,y,I)?Da(r,R+3,S?u.call(S,g,y,I):u(g,y,I)):ig(r,R+3)}(ht(),Hs(),r,s,a,u,g,y)}function ig(r,s){const a=r[s];return a===ar?void 0:a}function Gy(r,s,a,u,g,y){const I=s+a;return $o(r,I,g)?Da(r,I+1,y?u.call(y,g):u(g)):ig(r,I+1)}function Uw(r,s,a,u,g,y,I){const S=s+a;return wd(r,S,g,y)?Da(r,S+2,I?u.call(I,g,y):u(g,y)):ig(r,S+2)}function n1(r,s){const a=gr();let u;const g=r+On;a.firstCreatePass?(u=function fC(r,s){if(s)for(let a=s.length-1;a>=0;a--){const u=s[a];if(r===u.name)return u}}(s,a.pipeRegistry),a.data[g]=u,u.onDestroy&&(a.destroyHooks??=[]).push(g,u.onDestroy)):u=a.data[g];const y=u.factory||(u.factory=Pa(u.type)),S=gn(El);try{const R=qc(!1),z=y();return qc(R),function b0(r,s,a,u){a>=r.data.length&&(r.data[a]=null,r.blueprint[a]=null),s[a]=u}(a,ht(),g,z),z}finally{gn(S)}}function jw(r,s,a){const u=r+On,g=ht(),y=ec(g,u);return sg(g,u)?Gy(g,Hs(),s,y.transform,a,y):y.transform(a)}function r1(r,s,a,u){const g=r+On,y=ht(),I=ec(y,g);return sg(y,g)?Uw(y,Hs(),s,I.transform,a,u,I):I.transform(a,u)}function sg(r,s){return r[Bt].data[s].pure}function $w(){return this._results[Symbol.iterator]()}class $y{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Il)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=$y.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=$w)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const u=this;u.dirty=!1;const g=function Ic(r){return r.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function g_(r,s,a){if(r.length!==s.length)return!1;for(let u=0;u<r.length;u++){let g=r[u],y=s[u];if(a&&(g=a(g),y=a(y)),y!==g)return!1}return!0}(u._results,g,a))&&(u._results=g,u.length=g.length,u.last=g[this.length-1],u.first=g[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function EE(r,s,a,u=!0){const g=s[Bt];if(function A_(r,s,a,u){const g=Rr+u,y=a.length;u>0&&(a[g-1][Pi]=s),u<y-Rr?(s[Pi]=a[g],Rh(a,Rr+u,s)):(a.push(s),s[Pi]=null),s[wr]=a;const I=s[gs];null!==I&&a!==I&&function Cv(r,s){const a=r[Ra];s[zr]!==s[wr][wr][zr]&&(r[ms]=!0),null===a?r[Ra]=[s]:a.push(s)}(I,s);const S=s[pi];null!==S&&S.insertView(r),s[Fn]|=128}(g,s,r,a),u){const y=Nv(a,r),I=s[Cn],S=op(I,r[gi]);null!==S&&function Ev(r,s,a,u,g,y){u[sr]=g,u[Jr]=s,Fg(r,u,a,1,g,y)}(g,r[Jr],I,s,S,y)}}let og=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=cc}return r})();const gC=og,mC=class extends gC{constructor(s,a,u){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=u}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(s,a){return this.createEmbeddedViewImpl(s,a)}createEmbeddedViewImpl(s,a,u){const g=function TE(r,s,a,u){const g=s.tView,S=uh(r,g,a,4096&r[Fn]?4096:16,null,s,null,null,null,u?.injector??null,u?.hydrationInfo??null);S[gs]=r[s.index];const z=r[pi];return null!==z&&(S[pi]=z.createEmbeddedView(g)),Ot(g,S,a),S}(this._declarationLView,this._declarationTContainer,s,{injector:a,hydrationInfo:u});return new hh(g)}};function cc(){return o1(bs(),ht())}function o1(r,s){return 4&r.type?new mC(s,r,pd(r,s)):null}let l1=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=bC}return r})();function bC(){return qy(bs(),ht())}const zy=l1,u1=class extends zy{constructor(s,a,u){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=u}get element(){return pd(this._hostTNode,this._hostLView)}get injector(){return new Fo(this._hostTNode,this._hostLView)}get parentInjector(){const s=_u(this._hostTNode,this._hostLView);if(Pl(s)){const a=Fl(s,this._hostLView),u=kl(s);return new Fo(a[Bt].data[u+8],a)}return new Fo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=ag(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-Rr}createEmbeddedView(s,a,u){let g,y;"number"==typeof u?g=u:null!=u&&(g=u.index,y=u.injector);const S=s.createEmbeddedViewImpl(a||{},y,null);return this.insertImpl(S,g,false),S}createComponent(s,a,u,g,y){const I=s&&!function Yf(r){return"function"==typeof r}(s);let S;if(I)S=a;else{const Nt=a||{};S=Nt.index,u=Nt.injector,g=Nt.projectableNodes,y=Nt.environmentInjector||Nt.ngModuleRef}const R=I?s:new qn(cr(s)),z=u||this.parentInjector;if(!y&&null==R.ngModule){const nn=(I?z:this.parentInjector).get(wl,null);nn&&(y=nn)}cr(R.componentType??{});const Le=R.create(z,g,null,y);return this.insertImpl(Le.hostView,S,false),Le}insert(s,a){return this.insertImpl(s,a,!1)}insertImpl(s,a,u){const g=s._lView;if(function Th(r){return ls(r[wr])}(g)){const R=this.indexOf(s);if(-1!==R)this.detach(R);else{const z=g[wr],ie=new u1(z,z[Jr],z[wr]);ie.detach(ie.indexOf(s))}}const I=this._adjustIndex(a),S=this._lContainer;return EE(S,g,I,!u),s.attachToViewContainerRef(),Rh(Wy(S),I,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=ag(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),u=sp(this._lContainer,a);u&&(no(Wy(this._lContainer),a),jh(u[Bt],u))}detach(s){const a=this._adjustIndex(s,-1),u=sp(this._lContainer,a);return u&&null!=no(Wy(this._lContainer),a)?new hh(u):null}_adjustIndex(s,a=0){return s??this.length+a}};function ag(r){return r[8]}function Wy(r){return r[8]||(r[8]=[])}function qy(r,s){let a;const u=s[r.index];return ls(u)?a=u:(a=d0(u,s,null,r),s[r.index]=a,yf(s,a)),d1(a,s,r,u),new u1(a,r,s)}let d1=function qw(r,s,a,u){if(r[gi])return;let g;g=8&a.type?di(u):function Zy(r,s){const a=r[Cn],u=a.createComment(""),g=us(s,r);return Eu(a,op(a,g),u,function db(r,s){return r.nextSibling(s)}(a,g),!1),u}(s,a),r[gi]=g};class xd{constructor(s){this.queryList=s,this.matches=null}clone(){return new xd(this.queryList)}setDirty(){this.queryList.setDirty()}}class h1{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const u=null!==s.contentQueries?s.contentQueries[0]:a.length,g=[];for(let y=0;y<u;y++){const I=a.getByIndex(y);g.push(this.queries[I.indexInDeclarationView].clone())}return new h1(g)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==xE(s,a).matches&&this.queries[a].setDirty()}}class SE{constructor(s,a,u=null){this.predicate=s,this.flags=a,this.read=u}}class Ky{constructor(s=[]){this.queries=s}elementStart(s,a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let u=0;u<this.length;u++){const g=null!==a?a.length:0,y=this.getByIndex(u).embeddedTView(s,g);y&&(y.indexInDeclarationView=u,null!==a?a.push(y):a=[y])}return null!==a?new Ky(a):null}template(s,a){for(let u=0;u<this.queries.length;u++)this.queries[u].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Yw{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new Yw(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let u=s.parent;for(;null!==u&&8&u.type&&u.index!==a;)u=u.parent;return a===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const u=this.metadata.predicate;if(Array.isArray(u))for(let g=0;g<u.length;g++){const y=u[g];this.matchTNodeWithReadOption(s,a,Qw(a,y)),this.matchTNodeWithReadOption(s,a,_l(a,s,y,!1,!1))}else u===og?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,_l(a,s,u,!1,!1))}matchTNodeWithReadOption(s,a,u){if(null!==u){const g=this.metadata.read;if(null!==g)if(g===gd||g===l1||g===og&&4&a.type)this.addMatch(a.index,-2);else{const y=_l(a,s,g,!1,!1);null!==y&&this.addMatch(a.index,y)}else this.addMatch(a.index,u)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function Qw(r,s){const a=r.localNames;if(null!==a)for(let u=0;u<a.length;u+=2)if(a[u]===s)return a[u+1];return null}function Jw(r,s,a,u){return-1===a?function wC(r,s){return 11&r.type?pd(r,s):4&r.type?o1(r,s):null}(s,r):-2===a?function f1(r,s,a){return a===gd?pd(s,r):a===og?o1(s,r):a===l1?qy(s,r):void 0}(r,s,u):Kc(r,r[Bt],a,s)}function p1(r,s,a,u){const g=s[pi].queries[u];if(null===g.matches){const y=r.data,I=a.matches,S=[];for(let R=0;R<I.length;R+=2){const z=I[R];S.push(z<0?null:Jw(s,y[z],I[R+1],a.metadata.read))}g.matches=S}return g.matches}function g1(r,s,a,u){const g=r.queries.getByIndex(a),y=g.matches;if(null!==y){const I=p1(r,s,g,a);for(let S=0;S<y.length;S+=2){const R=y[S];if(R>0)u.push(I[S/2]);else{const z=y[S+1],ie=s[-R];for(let me=Rr;me<ie.length;me++){const Me=ie[me];Me[gs]===Me[wr]&&g1(Me[Bt],Me,z,u)}if(null!==ie[Ra]){const me=ie[Ra];for(let Me=0;Me<me.length;Me++){const Le=me[Me];g1(Le[Bt],Le,z,u)}}}}}return u}function cg(r){const s=ht(),a=gr(),u=D();P(u+1);const g=xE(a,u);if(r.dirty&&function ul(r){return 4==(4&r[Fn])}(s)===(2==(2&g.metadata.flags))){if(null===g.matches)r.reset([]);else{const y=g.crossesNgTemplate?g1(a,s,u,[]):p1(a,s,g,u);r.reset(y,Ep),r.notifyOnChanges()}return!0}return!1}function m1(r,s,a){const u=gr();u.firstCreatePass&&(ME(u,new SE(r,s,a),-1),2==(2&s)&&(u.staticViewQueries=!0)),Xw(u,ht(),s)}function AE(r,s,a,u){const g=gr();if(g.firstCreatePass){const y=bs();ME(g,new SE(s,a,u),y.index),function eI(r,s){const a=r.contentQueries||(r.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(r.queries.length-1,s)}(g,r),2==(2&a)&&(g.staticContentQueries=!0)}Xw(g,ht(),a)}function NE(){return function OE(r,s){return r[pi].queries[s].queryList}(ht(),D())}function Xw(r,s,a){const u=new $y(4==(4&a));(function Ia(r,s,a,u){const g=f0(s);g.push(a),r.firstCreatePass&&bd(r).push(u,g.length-1)})(r,s,u,u.destroy),null===s[pi]&&(s[pi]=new h1),s[pi].queries.push(new xd(u))}function ME(r,s,a){null===r.queries&&(r.queries=new Ky),r.queries.track(new Yw(s,a))}function xE(r,s){return r.queries.getByIndex(s)}function _1(r,s){return o1(r,s)}function Yy(r){return!!ri(r)}const A1=new Nn("Application Initializer");let dI=(()=>{class r{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,u)=>{this.resolve=a,this.reject=u}),this.appInits=Yn(A1,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const a=[];for(const g of this.appInits){const y=g();if(Sd(y))a.push(y);else if(zb(y)){const I=new Promise((S,R)=>{y.subscribe({complete:S,error:R})});a.push(I)}}const u=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{u()}).catch(g=>{this.reject(g)}),0===a.length&&u(),this.initialized=!0}static#e=this.\u0275fac=function(u){return new(u||r)};static#t=this.\u0275prov=De({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),QE=(()=>{class r{log(a){console.log(a)}warn(a){console.warn(a)}static#e=this.\u0275fac=function(u){return new(u||r)};static#t=this.\u0275prov=De({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})();const N1=new Nn("LocaleId",{providedIn:"root",factory:()=>Yn(N1,en.Optional|en.SkipSelf)||function hI(){return typeof $localize<"u"&&$localize.locale||Od}()}),fI=new Nn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let O1=(()=>{class r{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new de.X(!1)}add(){this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(u){return new(u||r)};static#t=this.\u0275prov=De({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();class XE{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let pI=(()=>{class r{compileModuleSync(a){return new Z0(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const u=this.compileModuleSync(a),y=Kl(ri(a).declarations).reduce((I,S)=>{const R=cr(S);return R&&I.push(new qn(R)),I},[]);return new XE(u,y)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}static#e=this.\u0275fac=function(u){return new(u||r)};static#t=this.\u0275prov=De({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const II=new Nn(""),V1=new Nn("");let EI,rD=(()=>{class r{constructor(a,u,g){this._ngZone=a,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,EI||(function TI(r){EI=r}(g),g.addToWindow(u)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Go.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(a)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,u,g){let y=-1;u&&u>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(I=>I.timeoutId!==y),a(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:a,timeoutId:y,updateCb:g})}whenStable(a,u,g){if(g&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,u,g),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,u,g){return[]}static#e=this.\u0275fac=function(u){return new(u||r)(xn(Go),xn(hg),xn(V1))};static#t=this.\u0275prov=De({token:r,factory:r.\u0275fac})}return r})(),hg=(()=>{class r{constructor(){this._applications=new Map}registerApplication(a,u){this._applications.set(a,u)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,u=!0){return EI?.findTestabilityInTree(this,a,u)??null}static#e=this.\u0275fac=function(u){return new(u||r)};static#t=this.\u0275prov=De({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})(),Hf=null;const iD=new Nn("AllowMultipleToken"),U1=new Nn("PlatformDestroyListeners"),DI=new Nn("appBootstrapListener");class HC{constructor(s,a){this.name=s,this.token=a}}function CI(r,s,a=[]){const u=`Platform: ${s}`,g=new Nn(u);return(y=[])=>{let I=G1();if(!I||I.injector.get(iD,!1)){const S=[...a,...y,{provide:g,useValue:!0}];r?r(S):function aD(r){if(Hf&&!Hf.get(iD,!1))throw new je(400,!1);(function oD(){!function Xs(r){Hc=r}(()=>{throw new je(600,!1)})})(),Hf=r;const s=r.get(SI);(function H1(r){r.get(Uo,null)?.forEach(a=>a())})(r)}(function nv(r=[],s){return oa.create({name:s,providers:[{provide:zg,useValue:"platform"},{provide:U1,useValue:new Set([()=>Hf=null])},...r]})}(S,u))}return function lD(r){const s=G1();if(!s)throw new je(401,!1);return s}()}}function G1(){return Hf?.get(SI)??null}let SI=(()=>{class r{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,u){const g=function GC(r="zone.js",s){return"noop"===r?new dy:"zone.js"===r?new Go(s):r}(u?.ngZone,function l_(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:r?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:r?.runCoalescing??!1}}({eventCoalescing:u?.ngZoneEventCoalescing,runCoalescing:u?.ngZoneRunCoalescing}));return g.run(()=>{const y=function cC(r,s,a){return new Fw(r,s,a)}(a.moduleType,this.injector,function $1(r){return[{provide:Go,useFactory:r},{provide:Jh,multi:!0,useFactory:()=>{const s=Yn(uD,{optional:!0});return()=>s.initialize()}},{provide:AI,useFactory:bS},{provide:za,useFactory:hy}]}(()=>g)),I=y.injector.get(Ru,null);return g.runOutsideAngular(()=>{const S=g.onError.subscribe({next:R=>{I.handleError(R)}});y.onDestroy(()=>{j1(this._modules,y),S.unsubscribe()})}),function co(r,s,a){try{const u=a();return Sd(u)?u.catch(g=>{throw s.runOutsideAngular(()=>r.handleError(g)),g}):u}catch(u){throw s.runOutsideAngular(()=>r.handleError(u)),u}}(I,g,()=>{const S=y.injector.get(dI);return S.runInitializers(),S.donePromise.then(()=>(Tw(y.injector.get(N1,Od)||Od),this._moduleDoBootstrap(y),y))})})}bootstrapModule(a,u=[]){const g=Aa({},u);return function sD(r,s,a){const u=new Z0(a);return Promise.resolve(u)}(0,0,a).then(y=>this.bootstrapModuleFactory(y,g))}_moduleDoBootstrap(a){const u=a.injector.get(Mc);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(g=>u.bootstrap(g));else{if(!a.instance.ngDoBootstrap)throw new je(-403,!1);a.instance.ngDoBootstrap(u)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new je(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const a=this._injector.get(U1,null);a&&(a.forEach(u=>u()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(u){return new(u||r)(xn(oa))};static#t=this.\u0275prov=De({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})();function Aa(r,s){return Array.isArray(s)?s.reduce(Aa,r):{...r,...s}}let Mc=(()=>{class r{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Yn(AI),this.zoneIsStable=Yn(za),this.componentTypes=[],this.components=[],this.isStable=Yn(O1).hasPendingTasks.pipe((0,Se.w)(a=>a?(0,fe.of)(!1):this.zoneIsStable),(0,et.x)(),re()),this._injector=Yn(wl)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,u){const g=a instanceof sy;if(!this._injector.get(dI).done)throw!g&&qi(a),new je(405,!1);let I;I=g?a:this._injector.get(Tp).resolveComponentFactory(a),this.componentTypes.push(I.componentType);const S=function UC(r){return r.isBoundToModule}(I)?void 0:this._injector.get(Cl),z=I.create(oa.NULL,[],u||I.selector,S),ie=z.location.nativeElement,me=z.injector.get(II,null);return me?.registerApplication(ie),z.onDestroy(()=>{this.detachView(z.hostView),j1(this.components,z),me?.unregisterApplication(ie)}),this._loadComponent(z),z}tick(){if(this._runningTick)throw new je(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1}}attachView(a){const u=a;this._views.push(u),u.attachToAppRef(this)}detachView(a){const u=a;j1(this._views,u),u.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const u=this._injector.get(DI,[]);u.push(...this._bootstrapListeners),u.forEach(g=>g(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>j1(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new je(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(u){return new(u||r)};static#t=this.\u0275prov=De({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function j1(r,s){const a=r.indexOf(s);a>-1&&r.splice(a,1)}const AI=new Nn("",{providedIn:"root",factory:()=>Yn(Ru).handleError.bind(void 0)});function bS(){const r=Yn(Go),s=Yn(Ru);return a=>r.runOutsideAngular(()=>s.handleError(a))}let uD=(()=>{class r{constructor(){this.zone=Yn(Go),this.applicationRef=Yn(Mc)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(u){return new(u||r)};static#t=this.\u0275prov=De({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();let dD=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=TS}return r})();function TS(r){return function ES(r,s,a){if(ys(r)&&!a){const u=Ni(r.index,s);return new hh(u,u)}return 47&r.type?new hh(s[zr],s):null}(bs(),ht(),16==(16&r))}class pD{constructor(){}supports(s){return oc(s)}create(s){return new xI(s)}}const d_=(r,s)=>s;class xI{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||d_}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,u=this._removalsHead,g=0,y=null;for(;a||u;){const I=!u||a&&a.currentIndex<mD(u,g,y)?a:u,S=mD(I,g,y),R=I.currentIndex;if(I===u)g--,u=u._nextRemoved;else if(a=a._next,null==I.previousIndex)g++;else{y||(y=[]);const z=S-g,ie=R-g;if(z!=ie){for(let Me=0;Me<z;Me++){const Le=Me<y.length?y[Me]:y[Me]=0,pt=Le+Me;ie<=pt&&pt<z&&(y[Me]=Le+1)}y[I.previousIndex]=ie-z}}S!==R&&s(I,S,R)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!oc(s))throw new je(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let g,y,I,a=this._itHead,u=!1;if(Array.isArray(s)){this.length=s.length;for(let S=0;S<this.length;S++)y=s[S],I=this._trackByFn(S,y),null!==a&&Object.is(a.trackById,I)?(u&&(a=this._verifyReinsertion(a,y,I,S)),Object.is(a.item,y)||this._addIdentityChange(a,y)):(a=this._mismatch(a,y,I,S),u=!0),a=a._next}else g=0,function $p(r,s){if(Array.isArray(r))for(let a=0;a<r.length;a++)s(r[a]);else{const a=r[Symbol.iterator]();let u;for(;!(u=a.next()).done;)s(u.value)}}(s,S=>{I=this._trackByFn(g,S),null!==a&&Object.is(a.trackById,I)?(u&&(a=this._verifyReinsertion(a,S,I,g)),Object.is(a.item,S)||this._addIdentityChange(a,S)):(a=this._mismatch(a,S,I,g),u=!0),a=a._next,g++}),this.length=g;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,u,g){let y;return null===s?y=this._itTail:(y=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,y,g)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(u,g))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,y,g)):s=this._addAfter(new sv(a,u),y,g),s}_verifyReinsertion(s,a,u,g){let y=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==y?s=this._reinsertAfter(y,s._prev,g):s.currentIndex!=g&&(s.currentIndex=g,this._addToMoves(s,g)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const g=s._prevRemoved,y=s._nextRemoved;return null===g?this._removalsHead=y:g._nextRemoved=y,null===y?this._removalsTail=g:y._prevRemoved=g,this._insertAfter(s,a,u),this._addToMoves(s,u),s}_moveAfter(s,a,u){return this._unlink(s),this._insertAfter(s,a,u),this._addToMoves(s,u),s}_addAfter(s,a,u){return this._insertAfter(s,a,u),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,u){const g=null===a?this._itHead:a._next;return s._next=g,s._prev=a,null===g?this._itTail=s:g._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new W1),this._linkedRecords.put(s),s.currentIndex=u,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,u=s._next;return null===a?this._itHead=u:a._next=u,null===u?this._itTail=a:u._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new W1),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class sv{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class gD{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===a||a<=u.currentIndex)&&Object.is(u.trackById,s))return u;return null}remove(s){const a=s._prevDup,u=s._nextDup;return null===a?this._head=u:a._nextDup=u,null===u?this._tail=a:u._prevDup=a,null===this._head}}class W1{constructor(){this.map=new Map}put(s){const a=s.trackById;let u=this.map.get(a);u||(u=new gD,this.map.set(a,u)),u.add(s)}get(s,a){const g=this.map.get(s);return g?g.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function mD(r,s,a){const u=r.previousIndex;if(null===u)return u;let g=0;return a&&u<a.length&&(g=a[u]),u+s+g}class _D{constructor(){}supports(s){return s instanceof Map||eu(s)}create(){return new ZC}}class ZC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||eu(s)))throw new je(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(u,g)=>{if(a&&a.key===g)this._maybeAddToChanges(a,u),this._appendAfter=a,a=a._next;else{const y=this._getOrCreateRecordForKey(g,u);a=this._insertBeforeOrAppend(a,y)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let u=a;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const u=s._prev;return a._next=s,a._prev=u,s._prev=a,u&&(u._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const g=this._records.get(s);this._maybeAddToChanges(g,a);const y=g._prev,I=g._next;return y&&(y._next=I),I&&(I._prev=y),g._next=null,g._prev=null,g}const u=new yD(s);return this._records.set(s,u),u.currentValue=a,this._addToAdditions(u),u}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(u=>a(s[u],u))}}class yD{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function RI(){return new q1([new pD])}let q1=(()=>{class r{static#e=this.\u0275prov=De({token:r,providedIn:"root",factory:RI});constructor(a){this.factories=a}static create(a,u){if(null!=u){const g=u.factories.slice();a=a.concat(g)}return new r(a)}static extend(a){return{provide:r,useFactory:u=>r.create(a,u||RI()),deps:[[r,new Jf,new Lo]]}}find(a){const u=this.factories.find(g=>g.supports(a));if(null!=u)return u;throw new je(901,!1)}}return r})();function PI(){return new Z1([new _D])}let Z1=(()=>{class r{static#e=this.\u0275prov=De({token:r,providedIn:"root",factory:PI});constructor(a){this.factories=a}static create(a,u){if(u){const g=u.factories.slice();a=a.concat(g)}return new r(a)}static extend(a){return{provide:r,useFactory:u=>r.create(a,u||PI()),deps:[[r,new Jf,new Lo]]}}find(a){const u=this.factories.find(g=>g.supports(a));if(u)return u;throw new je(901,!1)}}return r})();const K1=CI(null,"core",[]);let vD=(()=>{class r{constructor(a){}static#e=this.\u0275fac=function(u){return new(u||r)(xn(Mc))};static#t=this.\u0275mod=Ks({type:r});static#n=this.\u0275inj=Re({})}return r})();function ID(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}function xS(r,s){const a=cr(r),u=s.elementInjector||vp();return new qn(a).create(u,s.projectableNodes,s.hostElement,s.environmentInjector)}function pg(r){const s=cr(r);if(!s)return null;const a=new qn(s);return{get selector(){return a.selector},get type(){return a.componentType},get inputs(){return a.inputs},get outputs(){return a.outputs},get ngContentSelectors(){return a.ngContentSelectors},get isStandalone(){return s.standalone},get isSignal(){return s.signals}}}},7592:($t,We,Q)=>{Q.d(We,{C6:()=>xe,Jn:()=>hr,KN:()=>yt,Mq:()=>De,Xd:()=>Rt,ZF:()=>Fr,qX:()=>jt});var w=Q(5861),ce=Q(6820),h=Q(7879),we=Q(229),de=Q(1878);class fe{constructor(Ce){this.container=Ce}getPlatformInfoString(){return this.container.getProviders().map(Ze=>{if(function Oe(tt){const Ce=tt.getComponent();return"VERSION"===Ce?.type}(Ze)){const It=Ze.getImmediate();return`${It.library}/${It.version}`}return null}).filter(Ze=>Ze).join(" ")}}const He="@firebase/app",re=new h.Yd("@firebase/app"),ke="[DEFAULT]",$e={[He]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Je=new Map,Ve=new Map;function nt(tt,Ce){try{tt.container.addComponent(Ce)}catch(Ze){re.debug(`Component ${Ce.name} failed to register with FirebaseApp ${tt.name}`,Ze)}}function Rt(tt){const Ce=tt.name;if(Ve.has(Ce))return re.debug(`There were multiple attempts to register component ${Ce}.`),!1;Ve.set(Ce,tt);for(const Ze of Je.values())nt(Ze,tt);return!0}function jt(tt,Ce){const Ze=tt.container.getProvider("heartbeat").getImmediate({optional:!0});return Ze&&Ze.triggerHeartbeat(),tt.container.getProvider(Ce)}const Dt=new we.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class $n{constructor(Ce,Ze,It){this._isDeleted=!1,this._options=Object.assign({},Ce),this._config=Object.assign({},Ze),this._name=Ze.name,this._automaticDataCollectionEnabled=Ze.automaticDataCollectionEnabled,this._container=It,this.container.addComponent(new ce.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ce){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ce}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ce){this._isDeleted=Ce}checkDestroyed(){if(this.isDeleted)throw Dt.create("app-deleted",{appName:this._name})}}const hr="9.23.0";function Fr(tt,Ce={}){let Ze=tt;"object"!=typeof Ce&&(Ce={name:Ce});const It=Object.assign({name:ke,automaticDataCollectionEnabled:!1},Ce),qt=It.name;if("string"!=typeof qt||!qt)throw Dt.create("bad-app-name",{appName:String(qt)});if(Ze||(Ze=(0,we.aH)()),!Ze)throw Dt.create("no-options");const Zt=Je.get(qt);if(Zt){if((0,we.vZ)(Ze,Zt.options)&&(0,we.vZ)(It,Zt.config))return Zt;throw Dt.create("duplicate-app",{appName:qt})}const Un=new ce.H0(qt);for(const V of Ve.values())Un.addComponent(V);const K=new $n(Ze,It,Un);return Je.set(qt,K),K}function De(tt=ke){const Ce=Je.get(tt);if(!Ce&&tt===ke&&(0,we.aH)())return Fr();if(!Ce)throw Dt.create("no-app",{appName:tt});return Ce}function xe(){return Array.from(Je.values())}function yt(tt,Ce,Ze){var It;let qt=null!==(It=$e[tt])&&void 0!==It?It:tt;Ze&&(qt+=`-${Ze}`);const Zt=qt.match(/\s|\//),Un=Ce.match(/\s|\//);if(Zt||Un){const K=[`Unable to register library "${qt}" with version "${Ce}":`];return Zt&&K.push(`library name "${qt}" contains illegal characters (whitespace or "/")`),Zt&&Un&&K.push("and"),Un&&K.push(`version name "${Ce}" contains illegal characters (whitespace or "/")`),void re.warn(K.join(" "))}Rt(new ce.wA(`${qt}-version`,()=>({library:qt,version:Ce}),"VERSION"))}const En="firebase-heartbeat-database",on=1,Qt="firebase-heartbeat-store";let bn=null;function Zn(){return bn||(bn=(0,de.X3)(En,on,{upgrade:(tt,Ce)=>{0===Ce&&tt.createObjectStore(Qt)}}).catch(tt=>{throw Dt.create("idb-open",{originalErrorMessage:tt.message})})),bn}function Cr(){return(Cr=(0,w.Z)(function*(tt){try{return yield(yield Zn()).transaction(Qt).objectStore(Qt).get(rr(tt))}catch(Ce){if(Ce instanceof we.ZR)re.warn(Ce.message);else{const Ze=Dt.create("idb-get",{originalErrorMessage:Ce?.message});re.warn(Ze.message)}}})).apply(this,arguments)}function br(tt,Ce){return gn.apply(this,arguments)}function gn(){return(gn=(0,w.Z)(function*(tt,Ce){try{const It=(yield Zn()).transaction(Qt,"readwrite");yield It.objectStore(Qt).put(Ce,rr(tt)),yield It.done}catch(Ze){if(Ze instanceof we.ZR)re.warn(Ze.message);else{const It=Dt.create("idb-set",{originalErrorMessage:Ze?.message});re.warn(It.message)}}})).apply(this,arguments)}function rr(tt){return`${tt.name}!${tt.options.appId}`}class Gn{constructor(Ce){this.container=Ce,this._heartbeatsCache=null;const Ze=this.container.getProvider("app").getImmediate();this._storage=new Kn(Ze),this._heartbeatsCachePromise=this._storage.read().then(It=>(this._heartbeatsCache=It,It))}triggerHeartbeat(){var Ce=this;return(0,w.Z)(function*(){const It=Ce.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),qt=hi();if(null===Ce._heartbeatsCache&&(Ce._heartbeatsCache=yield Ce._heartbeatsCachePromise),Ce._heartbeatsCache.lastSentHeartbeatDate!==qt&&!Ce._heartbeatsCache.heartbeats.some(Zt=>Zt.date===qt))return Ce._heartbeatsCache.heartbeats.push({date:qt,agent:It}),Ce._heartbeatsCache.heartbeats=Ce._heartbeatsCache.heartbeats.filter(Zt=>{const Un=new Date(Zt.date).valueOf();return Date.now()-Un<=2592e6}),Ce._storage.overwrite(Ce._heartbeatsCache)})()}getHeartbeatsHeader(){var Ce=this;return(0,w.Z)(function*(){if(null===Ce._heartbeatsCache&&(yield Ce._heartbeatsCachePromise),null===Ce._heartbeatsCache||0===Ce._heartbeatsCache.heartbeats.length)return"";const Ze=hi(),{heartbeatsToSend:It,unsentEntries:qt}=function Nn(tt,Ce=1024){const Ze=[];let It=tt.slice();for(const qt of tt){const Zt=Ze.find(Un=>Un.agent===qt.agent);if(Zt){if(Zt.dates.push(qt.date),Or(Ze)>Ce){Zt.dates.pop();break}}else if(Ze.push({agent:qt.agent,dates:[qt.date]}),Or(Ze)>Ce){Ze.pop();break}It=It.slice(1)}return{heartbeatsToSend:Ze,unsentEntries:It}}(Ce._heartbeatsCache.heartbeats),Zt=(0,we.L)(JSON.stringify({version:2,heartbeats:It}));return Ce._heartbeatsCache.lastSentHeartbeatDate=Ze,qt.length>0?(Ce._heartbeatsCache.heartbeats=qt,yield Ce._storage.overwrite(Ce._heartbeatsCache)):(Ce._heartbeatsCache.heartbeats=[],Ce._storage.overwrite(Ce._heartbeatsCache)),Zt})()}}function hi(){return(new Date).toISOString().substring(0,10)}class Kn{constructor(Ce){this.app=Ce,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,w.Z)(function*(){return!!(0,we.hl)()&&(0,we.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ce=this;return(0,w.Z)(function*(){return(yield Ce._canUseIndexedDBPromise)&&(yield function en(tt){return Cr.apply(this,arguments)}(Ce.app))||{heartbeats:[]}})()}overwrite(Ce){var Ze=this;return(0,w.Z)(function*(){var It;if(yield Ze._canUseIndexedDBPromise){const Zt=yield Ze.read();return br(Ze.app,{lastSentHeartbeatDate:null!==(It=Ce.lastSentHeartbeatDate)&&void 0!==It?It:Zt.lastSentHeartbeatDate,heartbeats:Ce.heartbeats})}})()}add(Ce){var Ze=this;return(0,w.Z)(function*(){var It;if(yield Ze._canUseIndexedDBPromise){const Zt=yield Ze.read();return br(Ze.app,{lastSentHeartbeatDate:null!==(It=Ce.lastSentHeartbeatDate)&&void 0!==It?It:Zt.lastSentHeartbeatDate,heartbeats:[...Zt.heartbeats,...Ce.heartbeats]})}})()}}function Or(tt){return(0,we.L)(JSON.stringify({version:2,heartbeats:tt})).length}!function fi(tt){Rt(new ce.wA("platform-logger",Ce=>new fe(Ce),"PRIVATE")),Rt(new ce.wA("heartbeat",Ce=>new Gn(Ce),"PRIVATE")),yt(He,"0.9.13",tt),yt(He,"0.9.13","esm2017"),yt("fire-js","")}("")},6820:($t,We,Q)=>{Q.d(We,{H0:()=>He,wA:()=>h});var w=Q(5861),ce=Q(229);class h{constructor(re,le,Se){this.name=re,this.instanceFactory=le,this.type=Se,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(re){return this.instantiationMode=re,this}setMultipleInstances(re){return this.multipleInstances=re,this}setServiceProps(re){return this.serviceProps=re,this}setInstanceCreatedCallback(re){return this.onInstanceCreated=re,this}}const we="[DEFAULT]";class de{constructor(re,le){this.name=re,this.container=le,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(re){const le=this.normalizeInstanceIdentifier(re);if(!this.instancesDeferred.has(le)){const Se=new ce.BH;if(this.instancesDeferred.set(le,Se),this.isInitialized(le)||this.shouldAutoInitialize())try{const et=this.getOrInitializeService({instanceIdentifier:le});et&&Se.resolve(et)}catch{}}return this.instancesDeferred.get(le).promise}getImmediate(re){var le;const Se=this.normalizeInstanceIdentifier(re?.identifier),et=null!==(le=re?.optional)&&void 0!==le&&le;if(!this.isInitialized(Se)&&!this.shouldAutoInitialize()){if(et)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Se})}catch(Pe){if(et)return null;throw Pe}}getComponent(){return this.component}setComponent(re){if(re.name!==this.name)throw Error(`Mismatching Component ${re.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=re,this.shouldAutoInitialize()){if(function Oe(Ee){return"EAGER"===Ee.instantiationMode}(re))try{this.getOrInitializeService({instanceIdentifier:we})}catch{}for(const[le,Se]of this.instancesDeferred.entries()){const et=this.normalizeInstanceIdentifier(le);try{const Pe=this.getOrInitializeService({instanceIdentifier:et});Se.resolve(Pe)}catch{}}}}clearInstance(re=we){this.instancesDeferred.delete(re),this.instancesOptions.delete(re),this.instances.delete(re)}delete(){var re=this;return(0,w.Z)(function*(){const le=Array.from(re.instances.values());yield Promise.all([...le.filter(Se=>"INTERNAL"in Se).map(Se=>Se.INTERNAL.delete()),...le.filter(Se=>"_delete"in Se).map(Se=>Se._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(re=we){return this.instances.has(re)}getOptions(re=we){return this.instancesOptions.get(re)||{}}initialize(re={}){const{options:le={}}=re,Se=this.normalizeInstanceIdentifier(re.instanceIdentifier);if(this.isInitialized(Se))throw Error(`${this.name}(${Se}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const et=this.getOrInitializeService({instanceIdentifier:Se,options:le});for(const[Pe,it]of this.instancesDeferred.entries())Se===this.normalizeInstanceIdentifier(Pe)&&it.resolve(et);return et}onInit(re,le){var Se;const et=this.normalizeInstanceIdentifier(le),Pe=null!==(Se=this.onInitCallbacks.get(et))&&void 0!==Se?Se:new Set;Pe.add(re),this.onInitCallbacks.set(et,Pe);const it=this.instances.get(et);return it&&re(it,et),()=>{Pe.delete(re)}}invokeOnInitCallbacks(re,le){const Se=this.onInitCallbacks.get(le);if(Se)for(const et of Se)try{et(re,le)}catch{}}getOrInitializeService({instanceIdentifier:re,options:le={}}){let Se=this.instances.get(re);if(!Se&&this.component&&(Se=this.component.instanceFactory(this.container,{instanceIdentifier:(Ee=re,Ee===we?void 0:Ee),options:le}),this.instances.set(re,Se),this.instancesOptions.set(re,le),this.invokeOnInitCallbacks(Se,re),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,re,Se)}catch{}var Ee;return Se||null}normalizeInstanceIdentifier(re=we){return this.component?this.component.multipleInstances?re:we:re}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class He{constructor(re){this.name=re,this.providers=new Map}addComponent(re){const le=this.getProvider(re.name);if(le.isComponentSet())throw new Error(`Component ${re.name} has already been registered with ${this.name}`);le.setComponent(re)}addOrOverwriteComponent(re){this.getProvider(re.name).isComponentSet()&&this.providers.delete(re.name),this.addComponent(re)}getProvider(re){if(this.providers.has(re))return this.providers.get(re);const le=new de(re,this);return this.providers.set(re,le),le}getProviders(){return Array.from(this.providers.values())}}},4097:($t,We,Q)=>{Q.d(We,{C6:()=>w.C6,KN:()=>w.KN,Mq:()=>w.Mq,ZF:()=>w.ZF});var w=Q(7592);(0,w.KN)("firebase","9.23.0","app")},95:($t,We,Q)=>{Q.d(We,{Fj:()=>mt,CE:()=>Bt,qu:()=>ha,u:()=>Pi,cw:()=>rn,sg:()=>Br,x0:()=>fo,u5:()=>Xo,wO:()=>_s,Cf:()=>_t,JU:()=>it,JJ:()=>Qt,JL:()=>bn,YN:()=>ui,wV:()=>Ks,UX:()=>Qa,Q7:()=>On,EJ:()=>xr,kI:()=>Qe,_Y:()=>Qo,Kr:()=>zr});var w=Q(9468),ce=Q(6814),h=Q(2459),we=Q(5592),de=Q(7453),fe=Q(4829),Oe=Q(9940),He=Q(8251),Ee=Q(7400),re=Q(2714),Se=Q(7398);let et=(()=>{class q{constructor(B,oe){this._renderer=B,this._elementRef=oe,this.onChange=Ie=>{},this.onTouched=()=>{}}setProperty(B,oe){this._renderer.setProperty(this._elementRef.nativeElement,B,oe)}registerOnTouched(B){this.onTouched=B}registerOnChange(B){this.onChange=B}setDisabledState(B){this.setProperty("disabled",B)}static#e=this.\u0275fac=function(oe){return new(oe||q)(w.Y36(w.Qsj),w.Y36(w.SBq))};static#t=this.\u0275dir=w.lG2({type:q})}return q})(),Pe=(()=>{class q extends et{static#e=this.\u0275fac=function(){let B;return function(Ie){return(B||(B=w.n5z(q)))(Ie||q)}}();static#t=this.\u0275dir=w.lG2({type:q,features:[w.qOj]})}return q})();const it=new w.OlP("NgValueAccessor"),Ft={provide:it,useExisting:(0,w.Gpc)(()=>mt),multi:!0},xt=new w.OlP("CompositionEventMode");let mt=(()=>{class q extends et{constructor(B,oe,Ie){super(B,oe),this._compositionMode=Ie,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function An(){const q=(0,ce.q)()?(0,ce.q)().getUserAgent():"";return/android (\d+)/.test(q.toLowerCase())}())}writeValue(B){this.setProperty("value",B??"")}_handleInput(B){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(B)}_compositionStart(){this._composing=!0}_compositionEnd(B){this._composing=!1,this._compositionMode&&this.onChange(B)}static#e=this.\u0275fac=function(oe){return new(oe||q)(w.Y36(w.Qsj),w.Y36(w.SBq),w.Y36(xt,8))};static#t=this.\u0275dir=w.lG2({type:q,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(oe,Ie){1&oe&&w.NdJ("input",function(Pn){return Ie._handleInput(Pn.target.value)})("blur",function(){return Ie.onTouched()})("compositionstart",function(){return Ie._compositionStart()})("compositionend",function(Pn){return Ie._compositionEnd(Pn.target.value)})},features:[w._Bn([Ft]),w.qOj]})}return q})();function ot(q){return null==q||("string"==typeof q||Array.isArray(q))&&0===q.length}function vt(q){return null!=q&&"number"==typeof q.length}const _t=new w.OlP("NgValidators"),je=new w.OlP("NgAsyncValidators"),ve=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Qe{static min(ee){return function gt(q){return ee=>{if(ot(ee.value)||ot(q))return null;const B=parseFloat(ee.value);return!isNaN(B)&&B<q?{min:{min:q,actual:ee.value}}:null}}(ee)}static max(ee){return function Rn(q){return ee=>{if(ot(ee.value)||ot(q))return null;const B=parseFloat(ee.value);return!isNaN(B)&&B>q?{max:{max:q,actual:ee.value}}:null}}(ee)}static required(ee){return dt(ee)}static requiredTrue(ee){return function un(q){return!0===q.value?null:{required:!0}}(ee)}static email(ee){return function In(q){return ot(q.value)||ve.test(q.value)?null:{email:!0}}(ee)}static minLength(ee){return Vn(ee)}static maxLength(ee){return function er(q){return ee=>vt(ee.value)&&ee.value.length>q?{maxlength:{requiredLength:q,actualLength:ee.value.length}}:null}(ee)}static pattern(ee){return function dr(q){if(!q)return ke;let ee,B;return"string"==typeof q?(B="","^"!==q.charAt(0)&&(B+="^"),B+=q,"$"!==q.charAt(q.length-1)&&(B+="$"),ee=new RegExp(B)):(B=q.toString(),ee=q),oe=>{if(ot(oe.value))return null;const Ie=oe.value;return ee.test(Ie)?null:{pattern:{requiredPattern:B,actualValue:Ie}}}}(ee)}static nullValidator(ee){return null}static compose(ee){return jt(ee)}static composeAsync(ee){return yn(ee)}}function dt(q){return ot(q.value)?{required:!0}:null}function Vn(q){return ee=>ot(ee.value)||!vt(ee.value)?null:ee.value.length<q?{minlength:{requiredLength:q,actualLength:ee.value.length}}:null}function ke(q){return null}function $e(q){return null!=q}function Je(q){return(0,w.QGY)(q)?(0,h.D)(q):q}function Ve(q){let ee={};return q.forEach(B=>{ee=null!=B?{...ee,...B}:ee}),0===Object.keys(ee).length?null:ee}function nt(q,ee){return ee.map(B=>B(q))}function Rt(q){return q.map(ee=>function bt(q){return!q.validate}(ee)?ee:B=>ee.validate(B))}function jt(q){if(!q)return null;const ee=q.filter($e);return 0==ee.length?null:function(B){return Ve(nt(B,ee))}}function dn(q){return null!=q?jt(Rt(q)):null}function yn(q){if(!q)return null;const ee=q.filter($e);return 0==ee.length?null:function(B){return function le(...q){const ee=(0,Oe.jO)(q),{args:B,keys:oe}=(0,de.D)(q),Ie=new we.y(Kt=>{const{length:Pn}=B;if(!Pn)return void Kt.complete();const Yi=new Array(Pn);let Qs=Pn,Qi=Pn;for(let ki=0;ki<Pn;ki++){let kc=!1;(0,fe.Xf)(B[ki]).subscribe((0,He.x)(Kt,pa=>{kc||(kc=!0,Qi--),Yi[ki]=pa},()=>Qs--,void 0,()=>{(!Qs||!kc)&&(Qi||Kt.next(oe?(0,re.n)(oe,Yi):Yi),Kt.complete())}))}});return ee?Ie.pipe((0,Ee.Z)(ee)):Ie}(nt(B,ee).map(Je)).pipe((0,Se.U)(Ve))}}function cn(q){return null!=q?yn(Rt(q)):null}function Dt(q,ee){return null===q?[ee]:Array.isArray(q)?[...q,ee]:[q,ee]}function $n(q){return q._rawValidators}function hr(q){return q._rawAsyncValidators}function Fr(q){return q?Array.isArray(q)?q:[q]:[]}function De(q,ee){return Array.isArray(q)?q.includes(ee):q===ee}function xe(q,ee){const B=Fr(ee);return Fr(q).forEach(Ie=>{De(B,Ie)||B.push(Ie)}),B}function Re(q,ee){return Fr(ee).filter(B=>!De(q,B))}class at{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(ee){this._rawValidators=ee||[],this._composedValidatorFn=dn(this._rawValidators)}_setAsyncValidators(ee){this._rawAsyncValidators=ee||[],this._composedAsyncValidatorFn=cn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(ee){this._onDestroyCallbacks.push(ee)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(ee=>ee()),this._onDestroyCallbacks=[]}reset(ee=void 0){this.control&&this.control.reset(ee)}hasError(ee,B){return!!this.control&&this.control.hasError(ee,B)}getError(ee,B){return this.control?this.control.getError(ee,B):null}}class yt extends at{get formDirective(){return null}get path(){return null}}class St extends at{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class vr{constructor(ee){this._cd=ee}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Qt=(()=>{class q extends vr{constructor(B){super(B)}static#e=this.\u0275fac=function(oe){return new(oe||q)(w.Y36(St,2))};static#t=this.\u0275dir=w.lG2({type:q,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(oe,Ie){2&oe&&w.ekj("ng-untouched",Ie.isUntouched)("ng-touched",Ie.isTouched)("ng-pristine",Ie.isPristine)("ng-dirty",Ie.isDirty)("ng-valid",Ie.isValid)("ng-invalid",Ie.isInvalid)("ng-pending",Ie.isPending)},features:[w.qOj]})}return q})(),bn=(()=>{class q extends vr{constructor(B){super(B)}static#e=this.\u0275fac=function(oe){return new(oe||q)(w.Y36(yt,10))};static#t=this.\u0275dir=w.lG2({type:q,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(oe,Ie){2&oe&&w.ekj("ng-untouched",Ie.isUntouched)("ng-touched",Ie.isTouched)("ng-pristine",Ie.isPristine)("ng-dirty",Ie.isDirty)("ng-valid",Ie.isValid)("ng-invalid",Ie.isInvalid)("ng-pending",Ie.isPending)("ng-submitted",Ie.isSubmitted)},features:[w.qOj]})}return q})();const It="VALID",qt="INVALID",Zt="PENDING",Un="DISABLED";function K(q){return($(q)?q.validators:q)||null}function G(q,ee){return($(ee)?ee.asyncValidators:q)||null}function $(q){return null!=q&&!Array.isArray(q)&&"object"==typeof q}function be(q,ee,B){const oe=q.controls;if(!(ee?Object.keys(oe):oe).length)throw new w.vHH(1e3,"");if(!oe[B])throw new w.vHH(1001,"")}function Ue(q,ee,B){q._forEachChild((oe,Ie)=>{if(void 0===B[Ie])throw new w.vHH(1002,"")})}class Et{constructor(ee,B){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(ee),this._assignAsyncValidators(B)}get validator(){return this._composedValidatorFn}set validator(ee){this._rawValidators=this._composedValidatorFn=ee}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(ee){this._rawAsyncValidators=this._composedAsyncValidatorFn=ee}get parent(){return this._parent}get valid(){return this.status===It}get invalid(){return this.status===qt}get pending(){return this.status==Zt}get disabled(){return this.status===Un}get enabled(){return this.status!==Un}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(ee){this._assignValidators(ee)}setAsyncValidators(ee){this._assignAsyncValidators(ee)}addValidators(ee){this.setValidators(xe(ee,this._rawValidators))}addAsyncValidators(ee){this.setAsyncValidators(xe(ee,this._rawAsyncValidators))}removeValidators(ee){this.setValidators(Re(ee,this._rawValidators))}removeAsyncValidators(ee){this.setAsyncValidators(Re(ee,this._rawAsyncValidators))}hasValidator(ee){return De(this._rawValidators,ee)}hasAsyncValidator(ee){return De(this._rawAsyncValidators,ee)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(ee={}){this.touched=!0,this._parent&&!ee.onlySelf&&this._parent.markAsTouched(ee)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(ee=>ee.markAllAsTouched())}markAsUntouched(ee={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(B=>{B.markAsUntouched({onlySelf:!0})}),this._parent&&!ee.onlySelf&&this._parent._updateTouched(ee)}markAsDirty(ee={}){this.pristine=!1,this._parent&&!ee.onlySelf&&this._parent.markAsDirty(ee)}markAsPristine(ee={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(B=>{B.markAsPristine({onlySelf:!0})}),this._parent&&!ee.onlySelf&&this._parent._updatePristine(ee)}markAsPending(ee={}){this.status=Zt,!1!==ee.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!ee.onlySelf&&this._parent.markAsPending(ee)}disable(ee={}){const B=this._parentMarkedDirty(ee.onlySelf);this.status=Un,this.errors=null,this._forEachChild(oe=>{oe.disable({...ee,onlySelf:!0})}),this._updateValue(),!1!==ee.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...ee,skipPristineCheck:B}),this._onDisabledChange.forEach(oe=>oe(!0))}enable(ee={}){const B=this._parentMarkedDirty(ee.onlySelf);this.status=It,this._forEachChild(oe=>{oe.enable({...ee,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:ee.emitEvent}),this._updateAncestors({...ee,skipPristineCheck:B}),this._onDisabledChange.forEach(oe=>oe(!1))}_updateAncestors(ee){this._parent&&!ee.onlySelf&&(this._parent.updateValueAndValidity(ee),ee.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(ee){this._parent=ee}getRawValue(){return this.value}updateValueAndValidity(ee={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===It||this.status===Zt)&&this._runAsyncValidator(ee.emitEvent)),!1!==ee.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!ee.onlySelf&&this._parent.updateValueAndValidity(ee)}_updateTreeValidity(ee={emitEvent:!0}){this._forEachChild(B=>B._updateTreeValidity(ee)),this.updateValueAndValidity({onlySelf:!0,emitEvent:ee.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Un:It}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(ee){if(this.asyncValidator){this.status=Zt,this._hasOwnPendingAsyncValidator=!0;const B=Je(this.asyncValidator(this));this._asyncValidationSubscription=B.subscribe(oe=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(oe,{emitEvent:ee})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(ee,B={}){this.errors=ee,this._updateControlsErrors(!1!==B.emitEvent)}get(ee){let B=ee;return null==B||(Array.isArray(B)||(B=B.split(".")),0===B.length)?null:B.reduce((oe,Ie)=>oe&&oe._find(Ie),this)}getError(ee,B){const oe=B?this.get(B):this;return oe&&oe.errors?oe.errors[ee]:null}hasError(ee,B){return!!this.getError(ee,B)}get root(){let ee=this;for(;ee._parent;)ee=ee._parent;return ee}_updateControlsErrors(ee){this.status=this._calculateStatus(),ee&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(ee)}_initObservables(){this.valueChanges=new w.vpe,this.statusChanges=new w.vpe}_calculateStatus(){return this._allControlsDisabled()?Un:this.errors?qt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Zt)?Zt:this._anyControlsHaveStatus(qt)?qt:It}_anyControlsHaveStatus(ee){return this._anyControls(B=>B.status===ee)}_anyControlsDirty(){return this._anyControls(ee=>ee.dirty)}_anyControlsTouched(){return this._anyControls(ee=>ee.touched)}_updatePristine(ee={}){this.pristine=!this._anyControlsDirty(),this._parent&&!ee.onlySelf&&this._parent._updatePristine(ee)}_updateTouched(ee={}){this.touched=this._anyControlsTouched(),this._parent&&!ee.onlySelf&&this._parent._updateTouched(ee)}_registerOnCollectionChange(ee){this._onCollectionChange=ee}_setUpdateStrategy(ee){$(ee)&&null!=ee.updateOn&&(this._updateOn=ee.updateOn)}_parentMarkedDirty(ee){return!ee&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(ee){return null}_assignValidators(ee){this._rawValidators=Array.isArray(ee)?ee.slice():ee,this._composedValidatorFn=function V(q){return Array.isArray(q)?dn(q):q||null}(this._rawValidators)}_assignAsyncValidators(ee){this._rawAsyncValidators=Array.isArray(ee)?ee.slice():ee,this._composedAsyncValidatorFn=function W(q){return Array.isArray(q)?cn(q):q||null}(this._rawAsyncValidators)}}class rn extends Et{constructor(ee,B,oe){super(K(B),G(oe,B)),this.controls=ee,this._initObservables(),this._setUpdateStrategy(B),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(ee,B){return this.controls[ee]?this.controls[ee]:(this.controls[ee]=B,B.setParent(this),B._registerOnCollectionChange(this._onCollectionChange),B)}addControl(ee,B,oe={}){this.registerControl(ee,B),this.updateValueAndValidity({emitEvent:oe.emitEvent}),this._onCollectionChange()}removeControl(ee,B={}){this.controls[ee]&&this.controls[ee]._registerOnCollectionChange(()=>{}),delete this.controls[ee],this.updateValueAndValidity({emitEvent:B.emitEvent}),this._onCollectionChange()}setControl(ee,B,oe={}){this.controls[ee]&&this.controls[ee]._registerOnCollectionChange(()=>{}),delete this.controls[ee],B&&this.registerControl(ee,B),this.updateValueAndValidity({emitEvent:oe.emitEvent}),this._onCollectionChange()}contains(ee){return this.controls.hasOwnProperty(ee)&&this.controls[ee].enabled}setValue(ee,B={}){Ue(this,0,ee),Object.keys(ee).forEach(oe=>{be(this,!0,oe),this.controls[oe].setValue(ee[oe],{onlySelf:!0,emitEvent:B.emitEvent})}),this.updateValueAndValidity(B)}patchValue(ee,B={}){null!=ee&&(Object.keys(ee).forEach(oe=>{const Ie=this.controls[oe];Ie&&Ie.patchValue(ee[oe],{onlySelf:!0,emitEvent:B.emitEvent})}),this.updateValueAndValidity(B))}reset(ee={},B={}){this._forEachChild((oe,Ie)=>{oe.reset(ee?ee[Ie]:null,{onlySelf:!0,emitEvent:B.emitEvent})}),this._updatePristine(B),this._updateTouched(B),this.updateValueAndValidity(B)}getRawValue(){return this._reduceChildren({},(ee,B,oe)=>(ee[oe]=B.getRawValue(),ee))}_syncPendingControls(){let ee=this._reduceChildren(!1,(B,oe)=>!!oe._syncPendingControls()||B);return ee&&this.updateValueAndValidity({onlySelf:!0}),ee}_forEachChild(ee){Object.keys(this.controls).forEach(B=>{const oe=this.controls[B];oe&&ee(oe,B)})}_setUpControls(){this._forEachChild(ee=>{ee.setParent(this),ee._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(ee){for(const[B,oe]of Object.entries(this.controls))if(this.contains(B)&&ee(oe))return!0;return!1}_reduceValue(){return this._reduceChildren({},(B,oe,Ie)=>((oe.enabled||this.disabled)&&(B[Ie]=oe.value),B))}_reduceChildren(ee,B){let oe=ee;return this._forEachChild((Ie,Kt)=>{oe=B(oe,Ie,Kt)}),oe}_allControlsDisabled(){for(const ee of Object.keys(this.controls))if(this.controls[ee].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(ee){return this.controls.hasOwnProperty(ee)?this.controls[ee]:null}}class zt extends rn{}const Kr=new w.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Yn}),Yn="always";function lo(q,ee){return[...ee.path,q]}function ca(q,ee,B=Yn){Ao(q,ee),ee.valueAccessor.writeValue(q.value),(q.disabled||"always"===B)&&ee.valueAccessor.setDisabledState?.(q.disabled),function uo(q,ee){ee.valueAccessor.registerOnChange(B=>{q._pendingValue=B,q._pendingChange=!0,q._pendingDirty=!0,"change"===q.updateOn&&ps(q,ee)})}(q,ee),function tr(q,ee){const B=(oe,Ie)=>{ee.valueAccessor.writeValue(oe),Ie&&ee.viewToModelUpdate(oe)};q.registerOnChange(B),ee._registerOnDestroy(()=>{q._unregisterOnChange(B)})}(q,ee),function fs(q,ee){ee.valueAccessor.registerOnTouched(()=>{q._pendingTouched=!0,"blur"===q.updateOn&&q._pendingChange&&ps(q,ee),"submit"!==q.updateOn&&q.markAsTouched()})}(q,ee),function Oa(q,ee){if(ee.valueAccessor.setDisabledState){const B=oe=>{ee.valueAccessor.setDisabledState(oe)};q.registerOnDisabledChange(B),ee._registerOnDestroy(()=>{q._unregisterOnDisabledChange(B)})}}(q,ee)}function Ts(q,ee,B=!0){const oe=()=>{};ee.valueAccessor&&(ee.valueAccessor.registerOnChange(oe),ee.valueAccessor.registerOnTouched(oe)),Yr(q,ee),q&&(ee._invokeOnDestroyCallbacks(),q._registerOnCollectionChange(()=>{}))}function Na(q,ee){q.forEach(B=>{B.registerOnValidatorChange&&B.registerOnValidatorChange(ee)})}function Ao(q,ee){const B=$n(q);null!==ee.validator?q.setValidators(Dt(B,ee.validator)):"function"==typeof B&&q.setValidators([B]);const oe=hr(q);null!==ee.asyncValidator?q.setAsyncValidators(Dt(oe,ee.asyncValidator)):"function"==typeof oe&&q.setAsyncValidators([oe]);const Ie=()=>q.updateValueAndValidity();Na(ee._rawValidators,Ie),Na(ee._rawAsyncValidators,Ie)}function Yr(q,ee){let B=!1;if(null!==q){if(null!==ee.validator){const Ie=$n(q);if(Array.isArray(Ie)&&Ie.length>0){const Kt=Ie.filter(Pn=>Pn!==ee.validator);Kt.length!==Ie.length&&(B=!0,q.setValidators(Kt))}}if(null!==ee.asyncValidator){const Ie=hr(q);if(Array.isArray(Ie)&&Ie.length>0){const Kt=Ie.filter(Pn=>Pn!==ee.asyncValidator);Kt.length!==Ie.length&&(B=!0,q.setAsyncValidators(Kt))}}}const oe=()=>{};return Na(ee._rawValidators,oe),Na(ee._rawAsyncValidators,oe),B}function ps(q,ee){q._pendingDirty&&q.markAsDirty(),q.setValue(q._pendingValue,{emitModelToViewChange:!1}),ee.viewToModelUpdate(q._pendingValue),q._pendingChange=!1}function ci(q,ee){const B=q.indexOf(ee);B>-1&&q.splice(B,1)}function xi(q){return"object"==typeof q&&null!==q&&2===Object.keys(q).length&&"value"in q&&"disabled"in q}const li=class extends Et{constructor(ee=null,B,oe){super(K(B),G(oe,B)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(ee),this._setUpdateStrategy(B),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),$(B)&&(B.nonNullable||B.initialValueIsDefault)&&(this.defaultValue=xi(ee)?ee.value:ee)}setValue(ee,B={}){this.value=this._pendingValue=ee,this._onChange.length&&!1!==B.emitModelToViewChange&&this._onChange.forEach(oe=>oe(this.value,!1!==B.emitViewToModelChange)),this.updateValueAndValidity(B)}patchValue(ee,B={}){this.setValue(ee,B)}reset(ee=this.defaultValue,B={}){this._applyFormState(ee),this.markAsPristine(B),this.markAsUntouched(B),this.setValue(this.value,B),this._pendingChange=!1}_updateValue(){}_anyControls(ee){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(ee){this._onChange.push(ee)}_unregisterOnChange(ee){ci(this._onChange,ee)}registerOnDisabledChange(ee){this._onDisabledChange.push(ee)}_unregisterOnDisabledChange(ee){ci(this._onDisabledChange,ee)}_forEachChild(ee){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(ee){xi(ee)?(this.value=this._pendingValue=ee.value,ee.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=ee}};let Zs=(()=>{class q extends yt{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return lo(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=function(){let B;return function(Ie){return(B||(B=w.n5z(q)))(Ie||q)}}();static#t=this.\u0275dir=w.lG2({type:q,features:[w.qOj]})}return q})(),Qo=(()=>{class q{static#e=this.\u0275fac=function(oe){return new(oe||q)};static#t=this.\u0275dir=w.lG2({type:q,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return q})();const al={provide:it,useExisting:(0,w.Gpc)(()=>Ks),multi:!0};let Ks=(()=>{class q extends Pe{writeValue(B){this.setProperty("value",B??"")}registerOnChange(B){this.onChange=oe=>{B(""==oe?null:parseFloat(oe))}}static#e=this.\u0275fac=function(){let B;return function(Ie){return(B||(B=w.n5z(q)))(Ie||q)}}();static#t=this.\u0275dir=w.lG2({type:q,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(oe,Ie){1&oe&&w.NdJ("input",function(Pn){return Ie.onChange(Pn.target.value)})("blur",function(){return Ie.onTouched()})},features:[w._Bn([al]),w.qOj]})}return q})(),Ds=(()=>{class q{static#e=this.\u0275fac=function(oe){return new(oe||q)};static#t=this.\u0275mod=w.oAB({type:q});static#n=this.\u0275inj=w.cJS({})}return q})();const qi=new w.OlP("NgModelWithFormControlWarning"),Mr={provide:yt,useExisting:(0,w.Gpc)(()=>Br)};let Br=(()=>{class q extends yt{constructor(B,oe,Ie){super(),this.callSetDisabledState=Ie,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new w.vpe,this._setValidators(B),this._setAsyncValidators(oe)}ngOnChanges(B){this._checkFormPresent(),B.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Yr(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(B){const oe=this.form.get(B.path);return ca(oe,B,this.callSetDisabledState),oe.updateValueAndValidity({emitEvent:!1}),this.directives.push(B),oe}getControl(B){return this.form.get(B.path)}removeControl(B){Ts(B.control||null,B,!1),function uc(q,ee){const B=q.indexOf(ee);B>-1&&q.splice(B,1)}(this.directives,B)}addFormGroup(B){this._setUpFormContainer(B)}removeFormGroup(B){this._cleanUpFormContainer(B)}getFormGroup(B){return this.form.get(B.path)}addFormArray(B){this._setUpFormContainer(B)}removeFormArray(B){this._cleanUpFormContainer(B)}getFormArray(B){return this.form.get(B.path)}updateModel(B,oe){this.form.get(B.path).setValue(oe)}onSubmit(B){return this.submitted=!0,function lc(q,ee){q._syncPendingControls(),ee.forEach(B=>{const oe=B.control;"submit"===oe.updateOn&&oe._pendingChange&&(B.viewToModelUpdate(oe._pendingValue),oe._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(B),"dialog"===B?.target?.method}onReset(){this.resetForm()}resetForm(B=void 0){this.form.reset(B),this.submitted=!1}_updateDomValue(){this.directives.forEach(B=>{const oe=B.control,Ie=this.form.get(B.path);oe!==Ie&&(Ts(oe||null,B),(q=>q instanceof li)(Ie)&&(ca(Ie,B,this.callSetDisabledState),B.control=Ie))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(B){const oe=this.form.get(B.path);(function zs(q,ee){Ao(q,ee)})(oe,B),oe.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(B){if(this.form){const oe=this.form.get(B.path);oe&&function ho(q,ee){return Yr(q,ee)}(oe,B)&&oe.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ao(this.form,this),this._oldForm&&Yr(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(oe){return new(oe||q)(w.Y36(_t,10),w.Y36(je,10),w.Y36(Kr,8))};static#t=this.\u0275dir=w.lG2({type:q,selectors:[["","formGroup",""]],hostBindings:function(oe,Ie){1&oe&&w.NdJ("submit",function(Pn){return Ie.onSubmit(Pn)})("reset",function(){return Ie.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[w._Bn([Mr]),w.qOj,w.TTD]})}return q})();const as={provide:yt,useExisting:(0,w.Gpc)(()=>fo)};let fo=(()=>{class q extends Zs{constructor(B,oe,Ie){super(),this.name=null,this._parent=B,this._setValidators(oe),this._setAsyncValidators(Ie)}_checkParentType(){Fn(this._parent)}static#e=this.\u0275fac=function(oe){return new(oe||q)(w.Y36(yt,13),w.Y36(_t,10),w.Y36(je,10))};static#t=this.\u0275dir=w.lG2({type:q,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[w._Bn([as]),w.qOj]})}return q})();const sr={provide:yt,useExisting:(0,w.Gpc)(()=>Bt)};let Bt=(()=>{class q extends yt{constructor(B,oe,Ie){super(),this.name=null,this._parent=B,this._setValidators(oe),this._setAsyncValidators(Ie)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return lo(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Fn(this._parent)}static#e=this.\u0275fac=function(oe){return new(oe||q)(w.Y36(yt,13),w.Y36(_t,10),w.Y36(je,10))};static#t=this.\u0275dir=w.lG2({type:q,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[w._Bn([sr]),w.qOj]})}return q})();function Fn(q){return!(q instanceof fo||q instanceof Br||q instanceof Bt)}const wr={provide:St,useExisting:(0,w.Gpc)(()=>Pi)};let Pi=(()=>{class q extends St{set isDisabled(B){}static#e=this._ngModelWarningSentOnce=!1;constructor(B,oe,Ie,Kt,Pn){super(),this._ngModelWarningConfig=Pn,this._added=!1,this.name=null,this.update=new w.vpe,this._ngModelWarningSent=!1,this._parent=B,this._setValidators(oe),this._setAsyncValidators(Ie),this.valueAccessor=function Es(q,ee){if(!ee)return null;let B,oe,Ie;return Array.isArray(ee),ee.forEach(Kt=>{Kt.constructor===mt?B=Kt:function Hi(q){return Object.getPrototypeOf(q.constructor)===Pe}(Kt)?oe=Kt:Ie=Kt}),Ie||oe||B||null}(0,Kt)}ngOnChanges(B){this._added||this._setUpControl(),function qs(q,ee){if(!q.hasOwnProperty("model"))return!1;const B=q.model;return!!B.isFirstChange()||!Object.is(ee,B.currentValue)}(B,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(B){this.viewModel=B,this.update.emit(B)}get path(){return lo(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(oe){return new(oe||q)(w.Y36(yt,13),w.Y36(_t,10),w.Y36(je,10),w.Y36(it,10),w.Y36(qi,8))};static#n=this.\u0275dir=w.lG2({type:q,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[w._Bn([wr]),w.qOj,w.TTD]})}return q})();const po={provide:it,useExisting:(0,w.Gpc)(()=>xr),multi:!0};function Jr(q,ee){return null==q?`${ee}`:(ee&&"object"==typeof ee&&(ee="Object"),`${q}: ${ee}`.slice(0,50))}let xr=(()=>{class q extends Pe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(B){this._compareWith=B}writeValue(B){this.value=B;const Ie=Jr(this._getOptionId(B),B);this.setProperty("value",Ie)}registerOnChange(B){this.onChange=oe=>{this.value=this._getOptionValue(oe),B(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(B){for(const oe of this._optionMap.keys())if(this._compareWith(this._optionMap.get(oe),B))return oe;return null}_getOptionValue(B){const oe=function $i(q){return q.split(":")[0]}(B);return this._optionMap.has(oe)?this._optionMap.get(oe):B}static#e=this.\u0275fac=function(){let B;return function(Ie){return(B||(B=w.n5z(q)))(Ie||q)}}();static#t=this.\u0275dir=w.lG2({type:q,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(oe,Ie){1&oe&&w.NdJ("change",function(Pn){return Ie.onChange(Pn.target.value)})("blur",function(){return Ie.onTouched()})},inputs:{compareWith:"compareWith"},features:[w._Bn([po]),w.qOj]})}return q})(),ui=(()=>{class q{constructor(B,oe,Ie){this._element=B,this._renderer=oe,this._select=Ie,this._select&&(this.id=this._select._registerOption())}set ngValue(B){null!=this._select&&(this._select._optionMap.set(this.id,B),this._setElementValue(Jr(this.id,B)),this._select.writeValue(this._select.value))}set value(B){this._setElementValue(B),this._select&&this._select.writeValue(this._select.value)}_setElementValue(B){this._renderer.setProperty(this._element.nativeElement,"value",B)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(oe){return new(oe||q)(w.Y36(w.SBq),w.Y36(w.Qsj),w.Y36(xr,9))};static#t=this.\u0275dir=w.lG2({type:q,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return q})();const ks={provide:it,useExisting:(0,w.Gpc)(()=>Fs),multi:!0};function Cn(q,ee){return null==q?`${ee}`:("string"==typeof ee&&(ee=`'${ee}'`),ee&&"object"==typeof ee&&(ee="Object"),`${q}: ${ee}`.slice(0,50))}let Fs=(()=>{class q extends Pe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(B){this._compareWith=B}writeValue(B){let oe;if(this.value=B,Array.isArray(B)){const Ie=B.map(Kt=>this._getOptionId(Kt));oe=(Kt,Pn)=>{Kt._setSelected(Ie.indexOf(Pn.toString())>-1)}}else oe=(Ie,Kt)=>{Ie._setSelected(!1)};this._optionMap.forEach(oe)}registerOnChange(B){this.onChange=oe=>{const Ie=[],Kt=oe.selectedOptions;if(void 0!==Kt){const Pn=Kt;for(let Yi=0;Yi<Pn.length;Yi++){const Qi=this._getOptionValue(Pn[Yi].value);Ie.push(Qi)}}else{const Pn=oe.options;for(let Yi=0;Yi<Pn.length;Yi++){const Qs=Pn[Yi];if(Qs.selected){const Qi=this._getOptionValue(Qs.value);Ie.push(Qi)}}}this.value=Ie,B(Ie)}}_registerOption(B){const oe=(this._idCounter++).toString();return this._optionMap.set(oe,B),oe}_getOptionId(B){for(const oe of this._optionMap.keys())if(this._compareWith(this._optionMap.get(oe)._value,B))return oe;return null}_getOptionValue(B){const oe=function go(q){return q.split(":")[0]}(B);return this._optionMap.has(oe)?this._optionMap.get(oe)._value:B}static#e=this.\u0275fac=function(){let B;return function(Ie){return(B||(B=w.n5z(q)))(Ie||q)}}();static#t=this.\u0275dir=w.lG2({type:q,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(oe,Ie){1&oe&&w.NdJ("change",function(Pn){return Ie.onChange(Pn.target)})("blur",function(){return Ie.onTouched()})},inputs:{compareWith:"compareWith"},features:[w._Bn([ks]),w.qOj]})}return q})(),zr=(()=>{class q{constructor(B,oe,Ie){this._element=B,this._renderer=oe,this._select=Ie,this._select&&(this.id=this._select._registerOption(this))}set ngValue(B){null!=this._select&&(this._value=B,this._setElementValue(Cn(this.id,B)),this._select.writeValue(this._select.value))}set value(B){this._select?(this._value=B,this._setElementValue(Cn(this.id,B)),this._select.writeValue(this._select.value)):this._setElementValue(B)}_setElementValue(B){this._renderer.setProperty(this._element.nativeElement,"value",B)}_setSelected(B){this._renderer.setProperty(this._element.nativeElement,"selected",B)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(oe){return new(oe||q)(w.Y36(w.SBq),w.Y36(w.Qsj),w.Y36(Fs,9))};static#t=this.\u0275dir=w.lG2({type:q,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return q})();let pi=(()=>{class q{constructor(){this._validator=ke}ngOnChanges(B){if(this.inputName in B){const oe=this.normalizeInput(B[this.inputName].currentValue);this._enabled=this.enabled(oe),this._validator=this._enabled?this.createValidator(oe):ke,this._onChange&&this._onChange()}}validate(B){return this._validator(B)}registerOnValidatorChange(B){this._onChange=B}enabled(B){return null!=B}static#e=this.\u0275fac=function(oe){return new(oe||q)};static#t=this.\u0275dir=w.lG2({type:q,features:[w.TTD]})}return q})();const Vr={provide:_t,useExisting:(0,w.Gpc)(()=>On),multi:!0};let On=(()=>{class q extends pi{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=w.VuI,this.createValidator=B=>dt}enabled(B){return B}static#e=this.\u0275fac=function(){let B;return function(Ie){return(B||(B=w.n5z(q)))(Ie||q)}}();static#t=this.\u0275dir=w.lG2({type:q,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(oe,Ie){2&oe&&w.uIk("required",Ie._enabled?"":null)},inputs:{required:"required"},features:[w._Bn([Vr]),w.qOj]})}return q})();const gi={provide:_t,useExisting:(0,w.Gpc)(()=>_s),multi:!0};let _s=(()=>{class q extends pi{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=B=>function gs(q){return"number"==typeof q?q:parseInt(q,10)}(B),this.createValidator=B=>Vn(B)}static#e=this.\u0275fac=function(){let B;return function(Ie){return(B||(B=w.n5z(q)))(Ie||q)}}();static#t=this.\u0275dir=w.lG2({type:q,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(oe,Ie){2&oe&&w.uIk("minlength",Ie._enabled?Ie.minlength:null)},inputs:{minlength:"minlength"},features:[w._Bn([gi]),w.qOj]})}return q})(),ys=(()=>{class q{static#e=this.\u0275fac=function(oe){return new(oe||q)};static#t=this.\u0275mod=w.oAB({type:q});static#n=this.\u0275inj=w.cJS({imports:[Ds]})}return q})();class vs extends Et{constructor(ee,B,oe){super(K(B),G(oe,B)),this.controls=ee,this._initObservables(),this._setUpdateStrategy(B),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(ee){return this.controls[this._adjustIndex(ee)]}push(ee,B={}){this.controls.push(ee),this._registerControl(ee),this.updateValueAndValidity({emitEvent:B.emitEvent}),this._onCollectionChange()}insert(ee,B,oe={}){this.controls.splice(ee,0,B),this._registerControl(B),this.updateValueAndValidity({emitEvent:oe.emitEvent})}removeAt(ee,B={}){let oe=this._adjustIndex(ee);oe<0&&(oe=0),this.controls[oe]&&this.controls[oe]._registerOnCollectionChange(()=>{}),this.controls.splice(oe,1),this.updateValueAndValidity({emitEvent:B.emitEvent})}setControl(ee,B,oe={}){let Ie=this._adjustIndex(ee);Ie<0&&(Ie=0),this.controls[Ie]&&this.controls[Ie]._registerOnCollectionChange(()=>{}),this.controls.splice(Ie,1),B&&(this.controls.splice(Ie,0,B),this._registerControl(B)),this.updateValueAndValidity({emitEvent:oe.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(ee,B={}){Ue(this,0,ee),ee.forEach((oe,Ie)=>{be(this,!1,Ie),this.at(Ie).setValue(oe,{onlySelf:!0,emitEvent:B.emitEvent})}),this.updateValueAndValidity(B)}patchValue(ee,B={}){null!=ee&&(ee.forEach((oe,Ie)=>{this.at(Ie)&&this.at(Ie).patchValue(oe,{onlySelf:!0,emitEvent:B.emitEvent})}),this.updateValueAndValidity(B))}reset(ee=[],B={}){this._forEachChild((oe,Ie)=>{oe.reset(ee[Ie],{onlySelf:!0,emitEvent:B.emitEvent})}),this._updatePristine(B),this._updateTouched(B),this.updateValueAndValidity(B)}getRawValue(){return this.controls.map(ee=>ee.getRawValue())}clear(ee={}){this.controls.length<1||(this._forEachChild(B=>B._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:ee.emitEvent}))}_adjustIndex(ee){return ee<0?ee+this.length:ee}_syncPendingControls(){let ee=this.controls.reduce((B,oe)=>!!oe._syncPendingControls()||B,!1);return ee&&this.updateValueAndValidity({onlySelf:!0}),ee}_forEachChild(ee){this.controls.forEach((B,oe)=>{ee(B,oe)})}_updateValue(){this.value=this.controls.filter(ee=>ee.enabled||this.disabled).map(ee=>ee.value)}_anyControls(ee){return this.controls.some(B=>B.enabled&&ee(B))}_setUpControls(){this._forEachChild(ee=>this._registerControl(ee))}_allControlsDisabled(){for(const ee of this.controls)if(ee.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(ee){ee.setParent(this),ee._registerOnCollectionChange(this._onCollectionChange)}_find(ee){return this.at(ee)??null}}function pc(q){return!!q&&(void 0!==q.asyncValidators||void 0!==q.validators||void 0!==q.updateOn)}let ha=(()=>{class q{constructor(){this.useNonNullable=!1}get nonNullable(){const B=new q;return B.useNonNullable=!0,B}group(B,oe=null){const Ie=this._reduceControls(B);let Kt={};return pc(oe)?Kt=oe:null!==oe&&(Kt.validators=oe.validator,Kt.asyncValidators=oe.asyncValidator),new rn(Ie,Kt)}record(B,oe=null){const Ie=this._reduceControls(B);return new zt(Ie,oe)}control(B,oe,Ie){let Kt={};return this.useNonNullable?(pc(oe)?Kt=oe:(Kt.validators=oe,Kt.asyncValidators=Ie),new li(B,{...Kt,nonNullable:!0})):new li(B,oe,Ie)}array(B,oe,Ie){const Kt=B.map(Pn=>this._createControl(Pn));return new vs(Kt,oe,Ie)}_reduceControls(B){const oe={};return Object.keys(B).forEach(Ie=>{oe[Ie]=this._createControl(B[Ie])}),oe}_createControl(B){return B instanceof li||B instanceof Et?B:Array.isArray(B)?this.control(B[0],B.length>1?B[1]:null,B.length>2?B[2]:null):this.control(B)}static#e=this.\u0275fac=function(oe){return new(oe||q)};static#t=this.\u0275prov=w.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"})}return q})(),Xo=(()=>{class q{static withConfig(B){return{ngModule:q,providers:[{provide:Kr,useValue:B.callSetDisabledState??Yn}]}}static#e=this.\u0275fac=function(oe){return new(oe||q)};static#t=this.\u0275mod=w.oAB({type:q});static#n=this.\u0275inj=w.cJS({imports:[ys]})}return q})(),Qa=(()=>{class q{static withConfig(B){return{ngModule:q,providers:[{provide:qi,useValue:B.warnOnNgModelWithFormControl??"always"},{provide:Kr,useValue:B.callSetDisabledState??Yn}]}}static#e=this.\u0275fac=function(oe){return new(oe||q)};static#t=this.\u0275mod=w.oAB({type:q});static#n=this.\u0275inj=w.cJS({imports:[ys]})}return q})()},2614:()=>{const $t=":";const $n=function(De,...xe){if($n.translate){const at=$n.translate(De,xe);De=at[0],xe=at[1]}let Re=Fr(De[0],De.raw[0]);for(let at=1;at<De.length;at++)Re+=xe[at-1]+Fr(De[at],De.raw[at]);return Re},hr=":";function Fr(De,xe){return xe.charAt(0)===hr?De.substring(function $e(De,xe){for(let Re=1,at=1;Re<De.length;Re++,at++)if("\\"===xe[at])at++;else if(De[Re]===$t)return Re;throw new Error(`Unterminated $localize metadata block in "${xe}".`)}(De,xe)+1):De}globalThis.$localize=$n},6593:($t,We,Q)=>{Q.d(We,{Dx:()=>St,H7:()=>Kn,b2:()=>De,q6:()=>Dt,se:()=>ve});var w=Q(9468),ce=Q(6814);class h extends ce.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class we extends h{static makeCurrent(){(0,ce.HT)(new we)}onAndCancel(G,W,$){return G.addEventListener(W,$),()=>{G.removeEventListener(W,$)}}dispatchEvent(G,W){G.dispatchEvent(W)}remove(G){G.parentNode&&G.parentNode.removeChild(G)}createElement(G,W){return(W=W||this.getDefaultDocument()).createElement(G)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(G){return G.nodeType===Node.ELEMENT_NODE}isShadowRoot(G){return G instanceof DocumentFragment}getGlobalEventTarget(G,W){return"window"===W?window:"document"===W?G:"body"===W?G.body:null}getBaseHref(G){const W=function fe(){return de=de||document.querySelector("base"),de?de.getAttribute("href"):null}();return null==W?null:function He(V){Oe=Oe||document.createElement("a"),Oe.setAttribute("href",V);const G=Oe.pathname;return"/"===G.charAt(0)?G:`/${G}`}(W)}resetBaseElement(){de=null}getUserAgent(){return window.navigator.userAgent}getCookie(G){return(0,ce.Mx)(document.cookie,G)}}let Oe,de=null,re=(()=>{class V{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function($){return new($||V)};static#t=this.\u0275prov=w.Yz7({token:V,factory:V.\u0275fac})}return V})();const le=new w.OlP("EventManagerPlugins");let Se=(()=>{class V{constructor(W,$){this._zone=$,this._eventNameToPlugin=new Map,W.forEach(be=>{be.manager=this}),this._plugins=W.slice().reverse()}addEventListener(W,$,be){return this._findPluginFor($).addEventListener(W,$,be)}getZone(){return this._zone}_findPluginFor(W){let $=this._eventNameToPlugin.get(W);if($)return $;if($=this._plugins.find(Ue=>Ue.supports(W)),!$)throw new w.vHH(5101,!1);return this._eventNameToPlugin.set(W,$),$}static#e=this.\u0275fac=function($){return new($||V)(w.LFG(le),w.LFG(w.R0b))};static#t=this.\u0275prov=w.Yz7({token:V,factory:V.\u0275fac})}return V})();class et{constructor(G){this._doc=G}}const Pe="ng-app-id";let it=(()=>{class V{constructor(W,$,be,Ue={}){this.doc=W,this.appId=$,this.nonce=be,this.platformId=Ue,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,ce.PM)(Ue),this.resetHostNodes()}addStyles(W){for(const $ of W)1===this.changeUsageCount($,1)&&this.onStyleAdded($)}removeStyles(W){for(const $ of W)this.changeUsageCount($,-1)<=0&&this.onStyleRemoved($)}ngOnDestroy(){const W=this.styleNodesInDOM;W&&(W.forEach($=>$.remove()),W.clear());for(const $ of this.getAllStyles())this.onStyleRemoved($);this.resetHostNodes()}addHost(W){this.hostNodes.add(W);for(const $ of this.getAllStyles())this.addStyleToHost(W,$)}removeHost(W){this.hostNodes.delete(W)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(W){for(const $ of this.hostNodes)this.addStyleToHost($,W)}onStyleRemoved(W){const $=this.styleRef;$.get(W)?.elements?.forEach(be=>be.remove()),$.delete(W)}collectServerRenderedStyles(){const W=this.doc.head?.querySelectorAll(`style[${Pe}="${this.appId}"]`);if(W?.length){const $=new Map;return W.forEach(be=>{null!=be.textContent&&$.set(be.textContent,be)}),$}return null}changeUsageCount(W,$){const be=this.styleRef;if(be.has(W)){const Ue=be.get(W);return Ue.usage+=$,Ue.usage}return be.set(W,{usage:$,elements:[]}),$}getStyleElement(W,$){const be=this.styleNodesInDOM,Ue=be?.get($);if(Ue?.parentNode===W)return be.delete($),Ue.removeAttribute(Pe),Ue;{const Et=this.doc.createElement("style");return this.nonce&&Et.setAttribute("nonce",this.nonce),Et.textContent=$,this.platformIsServer&&Et.setAttribute(Pe,this.appId),Et}}addStyleToHost(W,$){const be=this.getStyleElement(W,$);W.appendChild(be);const Ue=this.styleRef,Et=Ue.get($)?.elements;Et?Et.push(be):Ue.set($,{elements:[be],usage:1})}resetHostNodes(){const W=this.hostNodes;W.clear(),W.add(this.doc.head)}static#e=this.\u0275fac=function($){return new($||V)(w.LFG(ce.K0),w.LFG(w.AFp),w.LFG(w.Ojb,8),w.LFG(w.Lbi))};static#t=this.\u0275prov=w.Yz7({token:V,factory:V.\u0275fac})}return V})();const At={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Vt=/%COMP%/g,ot=new w.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function je(V,G){return G.map(W=>W.replace(Vt,V))}let ve=(()=>{class V{constructor(W,$,be,Ue,Et,rn,hn,Dn=null){this.eventManager=W,this.sharedStylesHost=$,this.appId=be,this.removeStylesOnCompDestroy=Ue,this.doc=Et,this.platformId=rn,this.ngZone=hn,this.nonce=Dn,this.rendererByCompId=new Map,this.platformIsServer=(0,ce.PM)(rn),this.defaultRenderer=new Qe(W,Et,hn,this.platformIsServer)}createRenderer(W,$){if(!W||!$)return this.defaultRenderer;this.platformIsServer&&$.encapsulation===w.ifc.ShadowDom&&($={...$,encapsulation:w.ifc.Emulated});const be=this.getOrCreateRenderer(W,$);return be instanceof Vn?be.applyToHost(W):be instanceof In&&be.applyStyles(),be}getOrCreateRenderer(W,$){const be=this.rendererByCompId;let Ue=be.get($.id);if(!Ue){const Et=this.doc,rn=this.ngZone,hn=this.eventManager,Dn=this.sharedStylesHost,zt=this.removeStylesOnCompDestroy,xn=this.platformIsServer;switch($.encapsulation){case w.ifc.Emulated:Ue=new Vn(hn,Dn,$,this.appId,zt,Et,rn,xn);break;case w.ifc.ShadowDom:return new un(hn,Dn,W,$,Et,rn,this.nonce,xn);default:Ue=new In(hn,Dn,$,zt,Et,rn,xn)}be.set($.id,Ue)}return Ue}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function($){return new($||V)(w.LFG(Se),w.LFG(it),w.LFG(w.AFp),w.LFG(ot),w.LFG(ce.K0),w.LFG(w.Lbi),w.LFG(w.R0b),w.LFG(w.Ojb))};static#t=this.\u0275prov=w.Yz7({token:V,factory:V.\u0275fac})}return V})();class Qe{constructor(G,W,$,be){this.eventManager=G,this.doc=W,this.ngZone=$,this.platformIsServer=be,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(G,W){return W?this.doc.createElementNS(At[W]||W,G):this.doc.createElement(G)}createComment(G){return this.doc.createComment(G)}createText(G){return this.doc.createTextNode(G)}appendChild(G,W){(dt(G)?G.content:G).appendChild(W)}insertBefore(G,W,$){G&&(dt(G)?G.content:G).insertBefore(W,$)}removeChild(G,W){G&&G.removeChild(W)}selectRootElement(G,W){let $="string"==typeof G?this.doc.querySelector(G):G;if(!$)throw new w.vHH(-5104,!1);return W||($.textContent=""),$}parentNode(G){return G.parentNode}nextSibling(G){return G.nextSibling}setAttribute(G,W,$,be){if(be){W=be+":"+W;const Ue=At[be];Ue?G.setAttributeNS(Ue,W,$):G.setAttribute(W,$)}else G.setAttribute(W,$)}removeAttribute(G,W,$){if($){const be=At[$];be?G.removeAttributeNS(be,W):G.removeAttribute(`${$}:${W}`)}else G.removeAttribute(W)}addClass(G,W){G.classList.add(W)}removeClass(G,W){G.classList.remove(W)}setStyle(G,W,$,be){be&(w.JOm.DashCase|w.JOm.Important)?G.style.setProperty(W,$,be&w.JOm.Important?"important":""):G.style[W]=$}removeStyle(G,W,$){$&w.JOm.DashCase?G.style.removeProperty(W):G.style[W]=""}setProperty(G,W,$){G[W]=$}setValue(G,W){G.nodeValue=W}listen(G,W,$){if("string"==typeof G&&!(G=(0,ce.q)().getGlobalEventTarget(this.doc,G)))throw new Error(`Unsupported event target ${G} for event ${W}`);return this.eventManager.addEventListener(G,W,this.decoratePreventDefault($))}decoratePreventDefault(G){return W=>{if("__ngUnwrap__"===W)return G;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>G(W)):G(W))&&W.preventDefault()}}}function dt(V){return"TEMPLATE"===V.tagName&&void 0!==V.content}class un extends Qe{constructor(G,W,$,be,Ue,Et,rn,hn){super(G,Ue,Et,hn),this.sharedStylesHost=W,this.hostEl=$,this.shadowRoot=$.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Dn=je(be.id,be.styles);for(const zt of Dn){const xn=document.createElement("style");rn&&xn.setAttribute("nonce",rn),xn.textContent=zt,this.shadowRoot.appendChild(xn)}}nodeOrShadowRoot(G){return G===this.hostEl?this.shadowRoot:G}appendChild(G,W){return super.appendChild(this.nodeOrShadowRoot(G),W)}insertBefore(G,W,$){return super.insertBefore(this.nodeOrShadowRoot(G),W,$)}removeChild(G,W){return super.removeChild(this.nodeOrShadowRoot(G),W)}parentNode(G){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(G)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class In extends Qe{constructor(G,W,$,be,Ue,Et,rn,hn){super(G,Ue,Et,rn),this.sharedStylesHost=W,this.removeStylesOnCompDestroy=be,this.styles=hn?je(hn,$.styles):$.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Vn extends In{constructor(G,W,$,be,Ue,Et,rn,hn){const Dn=be+"-"+$.id;super(G,W,$,Ue,Et,rn,hn,Dn),this.contentAttr=function vt(V){return"_ngcontent-%COMP%".replace(Vt,V)}(Dn),this.hostAttr=function _t(V){return"_nghost-%COMP%".replace(Vt,V)}(Dn)}applyToHost(G){this.applyStyles(),this.setAttribute(G,this.hostAttr,"")}createElement(G,W){const $=super.createElement(G,W);return super.setAttribute($,this.contentAttr,""),$}}let er=(()=>{class V extends et{constructor(W){super(W)}supports(W){return!0}addEventListener(W,$,be){return W.addEventListener($,be,!1),()=>this.removeEventListener(W,$,be)}removeEventListener(W,$,be){return W.removeEventListener($,be)}static#e=this.\u0275fac=function($){return new($||V)(w.LFG(ce.K0))};static#t=this.\u0275prov=w.Yz7({token:V,factory:V.\u0275fac})}return V})();const dr=["alt","control","meta","shift"],ke={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$e={alt:V=>V.altKey,control:V=>V.ctrlKey,meta:V=>V.metaKey,shift:V=>V.shiftKey};let Je=(()=>{class V extends et{constructor(W){super(W)}supports(W){return null!=V.parseEventName(W)}addEventListener(W,$,be){const Ue=V.parseEventName($),Et=V.eventCallback(Ue.fullKey,be,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,ce.q)().onAndCancel(W,Ue.domEventName,Et))}static parseEventName(W){const $=W.toLowerCase().split("."),be=$.shift();if(0===$.length||"keydown"!==be&&"keyup"!==be)return null;const Ue=V._normalizeKey($.pop());let Et="",rn=$.indexOf("code");if(rn>-1&&($.splice(rn,1),Et="code."),dr.forEach(Dn=>{const zt=$.indexOf(Dn);zt>-1&&($.splice(zt,1),Et+=Dn+".")}),Et+=Ue,0!=$.length||0===Ue.length)return null;const hn={};return hn.domEventName=be,hn.fullKey=Et,hn}static matchEventFullKeyCode(W,$){let be=ke[W.key]||W.key,Ue="";return $.indexOf("code.")>-1&&(be=W.code,Ue="code."),!(null==be||!be)&&(be=be.toLowerCase()," "===be?be="space":"."===be&&(be="dot"),dr.forEach(Et=>{Et!==be&&(0,$e[Et])(W)&&(Ue+=Et+".")}),Ue+=be,Ue===$)}static eventCallback(W,$,be){return Ue=>{V.matchEventFullKeyCode(Ue,W)&&be.runGuarded(()=>$(Ue))}}static _normalizeKey(W){return"esc"===W?"escape":W}static#e=this.\u0275fac=function($){return new($||V)(w.LFG(ce.K0))};static#t=this.\u0275prov=w.Yz7({token:V,factory:V.\u0275fac})}return V})();const Dt=(0,w.eFA)(w._c5,"browser",[{provide:w.Lbi,useValue:ce.bD},{provide:w.g9A,useValue:function jt(){we.makeCurrent()},multi:!0},{provide:ce.K0,useFactory:function yn(){return(0,w.RDi)(document),document},deps:[]}]),$n=new w.OlP(""),hr=[{provide:w.rWj,useClass:class Ee{addToWindow(G){w.dqk.getAngularTestability=($,be=!0)=>{const Ue=G.findTestabilityInTree($,be);if(null==Ue)throw new w.vHH(5103,!1);return Ue},w.dqk.getAllAngularTestabilities=()=>G.getAllTestabilities(),w.dqk.getAllAngularRootElements=()=>G.getAllRootElements(),w.dqk.frameworkStabilizers||(w.dqk.frameworkStabilizers=[]),w.dqk.frameworkStabilizers.push($=>{const be=w.dqk.getAllAngularTestabilities();let Ue=be.length,Et=!1;const rn=function(hn){Et=Et||hn,Ue--,0==Ue&&$(Et)};be.forEach(hn=>{hn.whenStable(rn)})})}findTestabilityInTree(G,W,$){return null==W?null:G.getTestability(W)??($?(0,ce.q)().isShadowRoot(W)?this.findTestabilityInTree(G,W.host,!0):this.findTestabilityInTree(G,W.parentElement,!0):null)}},deps:[]},{provide:w.lri,useClass:w.dDg,deps:[w.R0b,w.eoX,w.rWj]},{provide:w.dDg,useClass:w.dDg,deps:[w.R0b,w.eoX,w.rWj]}],Fr=[{provide:w.zSh,useValue:"root"},{provide:w.qLn,useFactory:function dn(){return new w.qLn},deps:[]},{provide:le,useClass:er,multi:!0,deps:[ce.K0,w.R0b,w.Lbi]},{provide:le,useClass:Je,multi:!0,deps:[ce.K0]},ve,it,Se,{provide:w.FYo,useExisting:ve},{provide:ce.JF,useClass:re,deps:[]},[]];let De=(()=>{class V{constructor(W){}static withServerTransition(W){return{ngModule:V,providers:[{provide:w.AFp,useValue:W.appId}]}}static#e=this.\u0275fac=function($){return new($||V)(w.LFG($n,12))};static#t=this.\u0275mod=w.oAB({type:V});static#n=this.\u0275inj=w.cJS({providers:[...Fr,...hr],imports:[ce.ez,w.hGG]})}return V})(),St=(()=>{class V{constructor(W){this._doc=W}getTitle(){return this._doc.title}setTitle(W){this._doc.title=W||""}static#e=this.\u0275fac=function($){return new($||V)(w.LFG(ce.K0))};static#t=this.\u0275prov=w.Yz7({token:V,factory:function($){let be=null;return be=$?new $:function yt(){return new St((0,w.LFG)(ce.K0))}(),be},providedIn:"root"})}return V})();typeof window<"u"&&window;let Kn=(()=>{class V{static#e=this.\u0275fac=function($){return new($||V)};static#t=this.\u0275prov=w.Yz7({token:V,factory:function($){let be=null;return be=$?new($||V):w.LFG(fi),be},providedIn:"root"})}return V})(),fi=(()=>{class V extends Kn{constructor(W){super(),this._doc=W}sanitize(W,$){if(null==$)return null;switch(W){case w.q3G.NONE:return $;case w.q3G.HTML:return(0,w.qzn)($,"HTML")?(0,w.z3N)($):(0,w.EiD)(this._doc,String($)).toString();case w.q3G.STYLE:return(0,w.qzn)($,"Style")?(0,w.z3N)($):$;case w.q3G.SCRIPT:if((0,w.qzn)($,"Script"))return(0,w.z3N)($);throw new w.vHH(5200,!1);case w.q3G.URL:return(0,w.qzn)($,"URL")?(0,w.z3N)($):(0,w.mCW)(String($));case w.q3G.RESOURCE_URL:if((0,w.qzn)($,"ResourceURL"))return(0,w.z3N)($);throw new w.vHH(5201,!1);default:throw new w.vHH(5202,!1)}}bypassSecurityTrustHtml(W){return(0,w.JVY)(W)}bypassSecurityTrustStyle(W){return(0,w.L6k)(W)}bypassSecurityTrustScript(W){return(0,w.eBb)(W)}bypassSecurityTrustUrl(W){return(0,w.LAX)(W)}bypassSecurityTrustResourceUrl(W){return(0,w.pB0)(W)}static#e=this.\u0275fac=function($){return new($||V)(w.LFG(ce.K0))};static#t=this.\u0275prov=w.Yz7({token:V,factory:function($){let be=null;return be=$?new $:function Or(V){return new fi(V.get(ce.K0))}(w.LFG(w.zs3)),be},providedIn:"root"})}return V})()},6024:($t,We,Q)=>{Q.d(We,{gz:()=>sr,m2:()=>Ps,F0:()=>Us,rH:()=>Ni,Bz:()=>cu,lC:()=>ui});var w=Q(9468),ce=Q(5592),h=Q(4674),de=Q(2459),fe=Q(2096),Oe=Q(5619),He=Q(7453),Ee=Q(2737),re=Q(7400),le=Q(9940),Se=Q(2714),et=Q(8251),Pe=Q(7103);function it(...C){const x=(0,le.yG)(C),D=(0,le.jO)(C),{args:P,keys:j}=(0,He.D)(C);if(0===P.length)return(0,de.D)([],x);const se=new ce.y(function At(C,x,D=Ee.y){return P=>{Vt(x,()=>{const{length:j}=C,se=new Array(j);let _e=j,ze=j;for(let Ge=0;Ge<j;Ge++)Vt(x,()=>{const Wt=(0,de.D)(C[Ge],x);let Ln=!1;Wt.subscribe((0,et.x)(P,Ar=>{se[Ge]=Ar,Ln||(Ln=!0,ze--),ze||P.next(D(se.slice()))},()=>{--_e||P.complete()}))},P)},P)}}(P,x,j?_e=>(0,Se.n)(j,_e):Ee.y));return D?se.pipe((0,re.Z)(D)):se}function Vt(C,x,D){C?(0,Pe.f)(D,C,x):x()}var Ft=Q(6973),An=Q(5211),xt=Q(4829);function mt(C){return new ce.y(x=>{(0,xt.Xf)(C()).subscribe(x)})}var ot=Q(8407);function vt(C,x){const D=(0,h.m)(C)?C:()=>C,P=j=>j.error(D());return new ce.y(x?j=>x.schedule(P,0,j):P)}var _t=Q(6232),je=Q(7394),ve=Q(9360);function Qe(){return(0,ve.e)((C,x)=>{let D=null;C._refCount++;const P=(0,et.x)(x,void 0,void 0,void 0,()=>{if(!C||C._refCount<=0||0<--C._refCount)return void(D=null);const j=C._connection,se=D;D=null,j&&(!se||j===se)&&j.unsubscribe(),x.unsubscribe()});C.subscribe(P),P.closed||(D=C.connect())})}class gt extends ce.y{constructor(x,D){super(),this.source=x,this.subjectFactory=D,this._subject=null,this._refCount=0,this._connection=null,(0,ve.A)(x)&&(this.lift=x.lift)}_subscribe(x){return this.getSubject().subscribe(x)}getSubject(){const x=this._subject;return(!x||x.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:x}=this;this._subject=this._connection=null,x?.unsubscribe()}connect(){let x=this._connection;if(!x){x=this._connection=new je.w0;const D=this.getSubject();x.add(this.source.subscribe((0,et.x)(D,void 0,()=>{this._teardown(),D.complete()},P=>{this._teardown(),D.error(P)},()=>this._teardown()))),x.closed&&(this._connection=null,x=je.w0.EMPTY)}return x}refCount(){return Qe()(this)}}var Rn=Q(8645),dt=Q(6814),un=Q(7398),In=Q(4664),Vn=Q(8180),er=Q(7921),dr=Q(2181),ke=Q(1631);function $e(C){return(0,ve.e)((x,D)=>{let P=!1;x.subscribe((0,et.x)(D,j=>{P=!0,D.next(j)},()=>{P||D.next(C),D.complete()}))})}function Je(C=Ve){return(0,ve.e)((x,D)=>{let P=!1;x.subscribe((0,et.x)(D,j=>{P=!0,D.next(j)},()=>P?D.complete():D.error(C())))})}function Ve(){return new Ft.K}function nt(C,x){const D=arguments.length>=2;return P=>P.pipe(C?(0,dr.h)((j,se)=>C(j,se,P)):Ee.y,(0,Vn.q)(1),D?$e(x):Je(()=>new Ft.K))}function bt(C,x){return(0,h.m)(x)?(0,ke.z)(C,x,1):(0,ke.z)(C,1)}var Rt=Q(9397);function jt(C){return(0,ve.e)((x,D)=>{let se,P=null,j=!1;P=x.subscribe((0,et.x)(D,void 0,void 0,_e=>{se=(0,xt.Xf)(C(_e,jt(C)(x))),P?(P.unsubscribe(),P=null,se.subscribe(D)):j=!0})),j&&(P.unsubscribe(),P=null,se.subscribe(D))})}function cn(C){return C<=0?()=>_t.E:(0,ve.e)((x,D)=>{let P=[];x.subscribe((0,et.x)(D,j=>{P.push(j),C<P.length&&P.shift()},()=>{for(const j of P)D.next(j);D.complete()},void 0,()=>{P=null}))})}var $n=Q(975);function hr(C){return(0,ve.e)((x,D)=>{try{x.subscribe(D)}finally{D.add(C)}})}var Fr=Q(9773),De=Q(7537),xe=Q(6593);const Re="primary",at=Symbol("RouteTitle");class yt{constructor(x){this.params=x||{}}has(x){return Object.prototype.hasOwnProperty.call(this.params,x)}get(x){if(this.has(x)){const D=this.params[x];return Array.isArray(D)?D[0]:D}return null}getAll(x){if(this.has(x)){const D=this.params[x];return Array.isArray(D)?D:[D]}return[]}get keys(){return Object.keys(this.params)}}function St(C){return new yt(C)}function vr(C,x,D){const P=D.path.split("/");if(P.length>C.length||"full"===D.pathMatch&&(x.hasChildren()||P.length<C.length))return null;const j={};for(let se=0;se<P.length;se++){const _e=P[se],ze=C[se];if(_e.startsWith(":"))j[_e.substring(1)]=ze;else if(_e!==ze.path)return null}return{consumed:C.slice(0,P.length),posParams:j}}function on(C,x){const D=C?Object.keys(C):void 0,P=x?Object.keys(x):void 0;if(!D||!P||D.length!=P.length)return!1;let j;for(let se=0;se<D.length;se++)if(j=D[se],!Qt(C[j],x[j]))return!1;return!0}function Qt(C,x){if(Array.isArray(C)&&Array.isArray(x)){if(C.length!==x.length)return!1;const D=[...C].sort(),P=[...x].sort();return D.every((j,se)=>P[se]===j)}return C===x}function bn(C){return C.length>0?C[C.length-1]:null}function Zn(C){return function we(C){return!!C&&(C instanceof ce.y||(0,h.m)(C.lift)&&(0,h.m)(C.subscribe))}(C)?C:(0,w.QGY)(C)?(0,de.D)(Promise.resolve(C)):(0,fe.of)(C)}const en={exact:function rr(C,x,D){if(!tt(C.segments,x.segments)||!hi(C.segments,x.segments,D)||C.numberOfChildren!==x.numberOfChildren)return!1;for(const P in x.children)if(!C.children[P]||!rr(C.children[P],x.children[P],D))return!1;return!0},subset:ir},Cr={exact:function gn(C,x){return on(C,x)},subset:function Wn(C,x){return Object.keys(x).length<=Object.keys(C).length&&Object.keys(x).every(D=>Qt(C[D],x[D]))},ignored:()=>!0};function br(C,x,D){return en[D.paths](C.root,x.root,D.matrixParams)&&Cr[D.queryParams](C.queryParams,x.queryParams)&&!("exact"===D.fragment&&C.fragment!==x.fragment)}function ir(C,x,D){return Gn(C,x,x.segments,D)}function Gn(C,x,D,P){if(C.segments.length>D.length){const j=C.segments.slice(0,D.length);return!(!tt(j,D)||x.hasChildren()||!hi(j,D,P))}if(C.segments.length===D.length){if(!tt(C.segments,D)||!hi(C.segments,D,P))return!1;for(const j in x.children)if(!C.children[j]||!ir(C.children[j],x.children[j],P))return!1;return!0}{const j=D.slice(0,C.segments.length),se=D.slice(C.segments.length);return!!(tt(C.segments,j)&&hi(C.segments,j,P)&&C.children[Re])&&Gn(C.children[Re],x,se,P)}}function hi(C,x,D){return x.every((P,j)=>Cr[D](C[j].parameters,P.parameters))}class Nn{constructor(x=new Kn([],{}),D={},P=null){this.root=x,this.queryParams=D,this.fragment=P}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=St(this.queryParams)),this._queryParamMap}toString(){return qt.serialize(this)}}class Kn{constructor(x,D){this.segments=x,this.children=D,this.parent=null,Object.values(D).forEach(P=>P.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Zt(this)}}class Or{constructor(x,D){this.path=x,this.parameters=D}get parameterMap(){return this._parameterMap||(this._parameterMap=St(this.parameters)),this._parameterMap}toString(){return Ue(this)}}function tt(C,x){return C.length===x.length&&C.every((D,P)=>D.path===x[P].path)}let Ze=(()=>{class C{static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275prov=w.Yz7({token:C,factory:function(){return new It},providedIn:"root"})}return C})();class It{parse(x){const D=new Ts(x);return new Nn(D.parseRootSegment(),D.parseQueryParams(),D.parseFragment())}serialize(x){const D=`/${Un(x.root,!0)}`,P=function rn(C){const x=Object.keys(C).map(D=>{const P=C[D];return Array.isArray(P)?P.map(j=>`${V(D)}=${V(j)}`).join("&"):`${V(D)}=${V(P)}`}).filter(D=>!!D);return x.length?`?${x.join("&")}`:""}(x.queryParams);return`${D}${P}${"string"==typeof x.fragment?`#${function G(C){return encodeURI(C)}(x.fragment)}`:""}`}}const qt=new It;function Zt(C){return C.segments.map(x=>Ue(x)).join("/")}function Un(C,x){if(!C.hasChildren())return Zt(C);if(x){const D=C.children[Re]?Un(C.children[Re],!1):"",P=[];return Object.entries(C.children).forEach(([j,se])=>{j!==Re&&P.push(`${j}:${Un(se,!1)}`)}),P.length>0?`${D}(${P.join("//")})`:D}{const D=function Ce(C,x){let D=[];return Object.entries(C.children).forEach(([P,j])=>{P===Re&&(D=D.concat(x(j,P)))}),Object.entries(C.children).forEach(([P,j])=>{P!==Re&&(D=D.concat(x(j,P)))}),D}(C,(P,j)=>j===Re?[Un(C.children[Re],!1)]:[`${j}:${Un(P,!1)}`]);return 1===Object.keys(C.children).length&&null!=C.children[Re]?`${Zt(C)}/${D[0]}`:`${Zt(C)}/(${D.join("//")})`}}function K(C){return encodeURIComponent(C).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function V(C){return K(C).replace(/%3B/gi,";")}function W(C){return K(C).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $(C){return decodeURIComponent(C)}function be(C){return $(C.replace(/\+/g,"%20"))}function Ue(C){return`${W(C.path)}${function Et(C){return Object.keys(C).map(x=>`;${W(x)}=${W(C[x])}`).join("")}(C.parameters)}`}const hn=/^[^\/()?;#]+/;function Dn(C){const x=C.match(hn);return x?x[0]:""}const zt=/^[^\/()?;=#]+/,Kr=/^[^=?&#]+/,lo=/^[^&#]+/;class Ts{constructor(x){this.url=x,this.remaining=x}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Kn([],{}):new Kn([],this.parseChildren())}parseQueryParams(){const x={};if(this.consumeOptional("?"))do{this.parseQueryParam(x)}while(this.consumeOptional("&"));return x}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const x=[];for(this.peekStartsWith("(")||x.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),x.push(this.parseSegment());let D={};this.peekStartsWith("/(")&&(this.capture("/"),D=this.parseParens(!0));let P={};return this.peekStartsWith("(")&&(P=this.parseParens(!1)),(x.length>0||Object.keys(D).length>0)&&(P[Re]=new Kn(x,D)),P}parseSegment(){const x=Dn(this.remaining);if(""===x&&this.peekStartsWith(";"))throw new w.vHH(4009,!1);return this.capture(x),new Or($(x),this.parseMatrixParams())}parseMatrixParams(){const x={};for(;this.consumeOptional(";");)this.parseParam(x);return x}parseParam(x){const D=function xn(C){const x=C.match(zt);return x?x[0]:""}(this.remaining);if(!D)return;this.capture(D);let P="";if(this.consumeOptional("=")){const j=Dn(this.remaining);j&&(P=j,this.capture(P))}x[$(D)]=$(P)}parseQueryParam(x){const D=function Yn(C){const x=C.match(Kr);return x?x[0]:""}(this.remaining);if(!D)return;this.capture(D);let P="";if(this.consumeOptional("=")){const _e=function ca(C){const x=C.match(lo);return x?x[0]:""}(this.remaining);_e&&(P=_e,this.capture(P))}const j=be(D),se=be(P);if(x.hasOwnProperty(j)){let _e=x[j];Array.isArray(_e)||(_e=[_e],x[j]=_e),_e.push(se)}else x[j]=se}parseParens(x){const D={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const P=Dn(this.remaining),j=this.remaining[P.length];if("/"!==j&&")"!==j&&";"!==j)throw new w.vHH(4010,!1);let se;P.indexOf(":")>-1?(se=P.slice(0,P.indexOf(":")),this.capture(se),this.capture(":")):x&&(se=Re);const _e=this.parseChildren();D[se]=1===Object.keys(_e).length?_e[Re]:new Kn([],_e),this.consumeOptional("//")}return D}peekStartsWith(x){return this.remaining.startsWith(x)}consumeOptional(x){return!!this.peekStartsWith(x)&&(this.remaining=this.remaining.substring(x.length),!0)}capture(x){if(!this.consumeOptional(x))throw new w.vHH(4011,!1)}}function Na(C){return C.segments.length>0?new Kn([],{[Re]:C}):C}function Oa(C){const x={};for(const P of Object.keys(C.children)){const se=Oa(C.children[P]);if(P===Re&&0===se.segments.length&&se.hasChildren())for(const[_e,ze]of Object.entries(se.children))x[_e]=ze;else(se.segments.length>0||se.hasChildren())&&(x[P]=se)}return function Ao(C){if(1===C.numberOfChildren&&C.children[Re]){const x=C.children[Re];return new Kn(C.segments.concat(x.segments),x.children)}return C}(new Kn(C.segments,x))}function Yr(C){return C instanceof Nn}function fs(C){let x;const j=Na(function D(se){const _e={};for(const Ge of se.children){const Wt=D(Ge);_e[Ge.outlet]=Wt}const ze=new Kn(se.url,_e);return se===C&&(x=ze),ze}(C.root));return x??j}function ps(C,x,D,P){let j=C;for(;j.parent;)j=j.parent;if(0===x.length)return ho(j,j,j,D,P);const se=function Rs(C){if("string"==typeof C[0]&&1===C.length&&"/"===C[0])return new la(!0,0,C);let x=0,D=!1;const P=C.reduce((j,se,_e)=>{if("object"==typeof se&&null!=se){if(se.outlets){const ze={};return Object.entries(se.outlets).forEach(([Ge,Wt])=>{ze[Ge]="string"==typeof Wt?Wt.split("/"):Wt}),[...j,{outlets:ze}]}if(se.segmentPath)return[...j,se.segmentPath]}return"string"!=typeof se?[...j,se]:0===_e?(se.split("/").forEach((ze,Ge)=>{0==Ge&&"."===ze||(0==Ge&&""===ze?D=!0:".."===ze?x++:""!=ze&&j.push(ze))}),j):[...j,se]},[]);return new la(D,x,P)}(x);if(se.toRoot())return ho(j,j,new Kn([],{}),D,P);const _e=function ai(C,x,D){if(C.isAbsolute)return new Ws(x,!0,0);if(!D)return new Ws(x,!1,NaN);if(null===D.parent)return new Ws(D,!0,0);const P=tr(C.commands[0])?0:1;return function qs(C,x,D){let P=C,j=x,se=D;for(;se>j;){if(se-=j,P=P.parent,!P)throw new w.vHH(4005,!1);j=P.segments.length}return new Ws(P,!1,j-se)}(D,D.segments.length-1+P,C.numberOfDoubleDots)}(se,j,C),ze=_e.processChildren?Es(_e.segmentGroup,_e.index,se.commands):lc(_e.segmentGroup,_e.index,se.commands);return ho(j,_e.segmentGroup,ze,D,P)}function tr(C){return"object"==typeof C&&null!=C&&!C.outlets&&!C.segmentPath}function zs(C){return"object"==typeof C&&null!=C&&C.outlets}function ho(C,x,D,P,j){let _e,se={};P&&Object.entries(P).forEach(([Ge,Wt])=>{se[Ge]=Array.isArray(Wt)?Wt.map(Ln=>`${Ln}`):`${Wt}`}),_e=C===x?D:No(C,x,D);const ze=Na(Oa(_e));return new Nn(ze,se,j)}function No(C,x,D){const P={};return Object.entries(C.children).forEach(([j,se])=>{P[j]=se===x?D:No(se,x,D)}),new Kn(C.segments,P)}class la{constructor(x,D,P){if(this.isAbsolute=x,this.numberOfDoubleDots=D,this.commands=P,x&&P.length>0&&tr(P[0]))throw new w.vHH(4003,!1);const j=P.find(zs);if(j&&j!==bn(P))throw new w.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ws{constructor(x,D,P){this.segmentGroup=x,this.processChildren=D,this.index=P}}function lc(C,x,D){if(C||(C=new Kn([],{})),0===C.segments.length&&C.hasChildren())return Es(C,x,D);const P=function uc(C,x,D){let P=0,j=x;const se={match:!1,pathIndex:0,commandIndex:0};for(;j<C.segments.length;){if(P>=D.length)return se;const _e=C.segments[j],ze=D[P];if(zs(ze))break;const Ge=`${ze}`,Wt=P<D.length-1?D[P+1]:null;if(j>0&&void 0===Ge)break;if(Ge&&Wt&&"object"==typeof Wt&&void 0===Wt.outlets){if(!Ko(Ge,Wt,_e))return se;P+=2}else{if(!Ko(Ge,{},_e))return se;P++}j++}return{match:!0,pathIndex:j,commandIndex:P}}(C,x,D),j=D.slice(P.commandIndex);if(P.match&&P.pathIndex<C.segments.length){const se=new Kn(C.segments.slice(0,P.pathIndex),{});return se.children[Re]=new Kn(C.segments.slice(P.pathIndex),C.children),Es(se,0,j)}return P.match&&0===j.length?new Kn(C.segments,{}):P.match&&!C.hasChildren()?bi(C,x,D):P.match?Es(C,0,j):bi(C,x,D)}function Es(C,x,D){if(0===D.length)return new Kn(C.segments,{});{const P=function Hi(C){return zs(C[0])?C[0].outlets:{[Re]:C}}(D),j={};if(Object.keys(P).some(se=>se!==Re)&&C.children[Re]&&1===C.numberOfChildren&&0===C.children[Re].segments.length){const se=Es(C.children[Re],x,D);return new Kn(C.segments,se.children)}return Object.entries(P).forEach(([se,_e])=>{"string"==typeof _e&&(_e=[_e]),null!==_e&&(j[se]=lc(C.children[se],x,_e))}),Object.entries(C.children).forEach(([se,_e])=>{void 0===P[se]&&(j[se]=_e)}),new Kn(C.segments,j)}}function bi(C,x,D){const P=C.segments.slice(0,x);let j=0;for(;j<D.length;){const se=D[j];if(zs(se)){const Ge=Ma(se.outlets);return new Kn(P,Ge)}if(0===j&&tr(D[0])){P.push(new Or(C.segments[x].path,Gi(D[0]))),j++;continue}const _e=zs(se)?se.outlets[Re]:`${se}`,ze=j<D.length-1?D[j+1]:null;_e&&ze&&tr(ze)?(P.push(new Or(_e,Gi(ze))),j+=2):(P.push(new Or(_e,{})),j++)}return new Kn(P,{})}function Ma(C){const x={};return Object.entries(C).forEach(([D,P])=>{"string"==typeof P&&(P=[P]),null!==P&&(x[D]=bi(new Kn([],{}),0,P))}),x}function Gi(C){const x={};return Object.entries(C).forEach(([D,P])=>x[D]=`${P}`),x}function Ko(C,x,D){return C==D.path&&on(x,D.parameters)}const ci="imperative";class xi{constructor(x,D){this.id=x,this.url=D}}class li extends xi{constructor(x,D,P="imperative",j=null){super(x,D),this.type=0,this.navigationTrigger=P,this.restoredState=j}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ps extends xi{constructor(x,D,P){super(x,D),this.urlAfterRedirects=P,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ci extends xi{constructor(x,D,P,j){super(x,D),this.reason=P,this.code=j,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Zs extends xi{constructor(x,D,P,j){super(x,D),this.reason=P,this.code=j,this.type=16}}class dc extends xi{constructor(x,D,P,j){super(x,D),this.error=P,this.target=j,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ji extends xi{constructor(x,D,P,j){super(x,D),this.urlAfterRedirects=P,this.state=j,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ol extends xi{constructor(x,D,P,j){super(x,D),this.urlAfterRedirects=P,this.state=j,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fr extends xi{constructor(x,D,P,j,se){super(x,D),this.urlAfterRedirects=P,this.state=j,this.shouldActivate=se,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Rc extends xi{constructor(x,D,P,j){super(x,D),this.urlAfterRedirects=P,this.state=j,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xa extends xi{constructor(x,D,P,j){super(x,D),this.urlAfterRedirects=P,this.state=j,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hc{constructor(x){this.route=x,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Yo{constructor(x){this.route=x,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ua{constructor(x){this.snapshot=x,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qo{constructor(x){this.snapshot=x,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class al{constructor(x){this.snapshot=x,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ks{constructor(x){this.snapshot=x,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class da{constructor(x,D,P){this.routerEvent=x,this.position=D,this.anchor=P,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Oo{}class Ds{constructor(x){this.url=x}}class cr{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Qr,this.attachRef=null}}let Qr=(()=>{class C{constructor(){this.contexts=new Map}onChildOutletCreated(D,P){const j=this.getOrCreateContext(D);j.outlet=P,this.contexts.set(D,j)}onChildOutletDestroyed(D){const P=this.getContext(D);P&&(P.outlet=null,P.attachRef=null)}onOutletDeactivated(){const D=this.contexts;return this.contexts=new Map,D}onOutletReAttached(D){this.contexts=D}getOrCreateContext(D){let P=this.getContext(D);return P||(P=new cr,this.contexts.set(D,P)),P}getContext(D){return this.contexts.get(D)||null}static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275prov=w.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();class Ri{constructor(x){this._root=x}get root(){return this._root.value}parent(x){const D=this.pathFromRoot(x);return D.length>1?D[D.length-2]:null}children(x){const D=qi(x,this._root);return D?D.children.map(P=>P.value):[]}firstChild(x){const D=qi(x,this._root);return D&&D.children.length>0?D.children[0].value:null}siblings(x){const D=ri(x,this._root);return D.length<2?[]:D[D.length-2].children.map(j=>j.value).filter(j=>j!==x)}pathFromRoot(x){return ri(x,this._root).map(D=>D.value)}}function qi(C,x){if(C===x.value)return x;for(const D of x.children){const P=qi(C,D);if(P)return P}return null}function ri(C,x){if(C===x.value)return[x];for(const D of x.children){const P=ri(C,D);if(P.length)return P.unshift(x),P}return[]}class Zi{constructor(x,D){this.value=x,this.children=D}toString(){return`TreeNode(${this.value})`}}function Mr(C){const x={};return C&&C.children.forEach(D=>x[D.value.outlet]=D),x}class Br extends Ri{constructor(x,D){super(x),this.snapshot=D,po(this,x)}toString(){return this.snapshot.toString()}}function as(C,x){const D=function fo(C,x){const _e=new wr([],{},{},"",{},Re,x,null,{});return new Pi("",new Zi(_e,[]))}(0,x),P=new Oe.X([new Or("",{})]),j=new Oe.X({}),se=new Oe.X({}),_e=new Oe.X({}),ze=new Oe.X(""),Ge=new sr(P,j,_e,ze,se,Re,x,D.root);return Ge.snapshot=D.root,new Br(new Zi(Ge,[]),D)}class sr{constructor(x,D,P,j,se,_e,ze,Ge){this.urlSubject=x,this.paramsSubject=D,this.queryParamsSubject=P,this.fragmentSubject=j,this.dataSubject=se,this.outlet=_e,this.component=ze,this._futureSnapshot=Ge,this.title=this.dataSubject?.pipe((0,un.U)(Wt=>Wt[at]))??(0,fe.of)(void 0),this.url=x,this.params=D,this.queryParams=P,this.fragment=j,this.data=se}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,un.U)(x=>St(x)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,un.U)(x=>St(x)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Bt(C,x="emptyOnly"){const D=C.pathFromRoot;let P=0;if("always"!==x)for(P=D.length-1;P>=1;){const j=D[P],se=D[P-1];if(j.routeConfig&&""===j.routeConfig.path)P--;else{if(se.component)break;P--}}return function Fn(C){return C.reduce((x,D)=>({params:{...x.params,...D.params},data:{...x.data,...D.data},resolve:{...D.data,...x.resolve,...D.routeConfig?.data,...D._resolvedData}}),{params:{},data:{},resolve:{}})}(D.slice(P))}class wr{get title(){return this.data?.[at]}constructor(x,D,P,j,se,_e,ze,Ge,Wt){this.url=x,this.params=D,this.queryParams=P,this.fragment=j,this.data=se,this.outlet=_e,this.component=ze,this.routeConfig=Ge,this._resolve=Wt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=St(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=St(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(P=>P.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Pi extends Ri{constructor(x,D){super(D),this.url=x,po(this,D)}toString(){return Jr(this._root)}}function po(C,x){x.value._routerState=C,x.children.forEach(D=>po(C,D))}function Jr(C){const x=C.children.length>0?` { ${C.children.map(Jr).join(", ")} } `:"";return`${C.value}${x}`}function $i(C){if(C.snapshot){const x=C.snapshot,D=C._futureSnapshot;C.snapshot=D,on(x.queryParams,D.queryParams)||C.queryParamsSubject.next(D.queryParams),x.fragment!==D.fragment&&C.fragmentSubject.next(D.fragment),on(x.params,D.params)||C.paramsSubject.next(D.params),function En(C,x){if(C.length!==x.length)return!1;for(let D=0;D<C.length;++D)if(!on(C[D],x[D]))return!1;return!0}(x.url,D.url)||C.urlSubject.next(D.url),on(x.data,D.data)||C.dataSubject.next(D.data)}else C.snapshot=C._futureSnapshot,C.dataSubject.next(C._futureSnapshot.data)}function xr(C,x){const D=on(C.params,x.params)&&function fi(C,x){return tt(C,x)&&C.every((D,P)=>on(D.parameters,x[P].parameters))}(C.url,x.url);return D&&!(!C.parent!=!x.parent)&&(!C.parent||xr(C.parent,x.parent))}let ui=(()=>{class C{constructor(){this.activated=null,this._activatedRoute=null,this.name=Re,this.activateEvents=new w.vpe,this.deactivateEvents=new w.vpe,this.attachEvents=new w.vpe,this.detachEvents=new w.vpe,this.parentContexts=(0,w.f3M)(Qr),this.location=(0,w.f3M)(w.s_b),this.changeDetector=(0,w.f3M)(w.sBO),this.environmentInjector=(0,w.f3M)(w.lqb),this.inputBinder=(0,w.f3M)(Cn,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(D){if(D.name){const{firstChange:P,previousValue:j}=D.name;if(P)return;this.isTrackedInParentContexts(j)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(j)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(D){return this.parentContexts.getContext(D)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const D=this.parentContexts.getContext(this.name);D?.route&&(D.attachRef?this.attach(D.attachRef,D.route):this.activateWith(D.route,D.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new w.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new w.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new w.vHH(4012,!1);this.location.detach();const D=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(D.instance),D}attach(D,P){this.activated=D,this._activatedRoute=P,this.location.insert(D.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(D.instance)}deactivate(){if(this.activated){const D=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(D)}}activateWith(D,P){if(this.isActivated)throw new w.vHH(4013,!1);this._activatedRoute=D;const j=this.location,_e=D.snapshot.component,ze=this.parentContexts.getOrCreateContext(this.name).children,Ge=new ks(D,ze,j.injector);this.activated=j.createComponent(_e,{index:j.length,injector:Ge,environmentInjector:P??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275dir=w.lG2({type:C,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[w.TTD]})}return C})();class ks{constructor(x,D,P){this.route=x,this.childContexts=D,this.parent=P}get(x,D){return x===sr?this.route:x===Qr?this.childContexts:this.parent.get(x,D)}}const Cn=new w.OlP("");let go=(()=>{class C{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(D){this.unsubscribeFromRouteData(D),this.subscribeToRouteData(D)}unsubscribeFromRouteData(D){this.outletDataSubscriptions.get(D)?.unsubscribe(),this.outletDataSubscriptions.delete(D)}subscribeToRouteData(D){const{activatedRoute:P}=D,j=it([P.queryParams,P.params,P.data]).pipe((0,In.w)(([se,_e,ze],Ge)=>(ze={...se,..._e,...ze},0===Ge?(0,fe.of)(ze):Promise.resolve(ze)))).subscribe(se=>{if(!D.isActivated||!D.activatedComponentRef||D.activatedRoute!==P||null===P.component)return void this.unsubscribeFromRouteData(D);const _e=(0,w.qFp)(P.component);if(_e)for(const{templateName:ze}of _e.inputs)D.activatedComponentRef.setInput(ze,se[ze]);else this.unsubscribeFromRouteData(D)});this.outletDataSubscriptions.set(D,j)}static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275prov=w.Yz7({token:C,factory:C.\u0275fac})}return C})();function Fs(C,x,D){if(D&&C.shouldReuseRoute(x.value,D.value.snapshot)){const P=D.value;P._futureSnapshot=x.value;const j=function zr(C,x,D){return x.children.map(P=>{for(const j of D.children)if(C.shouldReuseRoute(P.value,j.value.snapshot))return Fs(C,P,j);return Fs(C,P)})}(C,x,D);return new Zi(P,j)}{if(C.shouldAttach(x.value)){const se=C.retrieve(x.value);if(null!==se){const _e=se.route;return _e.value._futureSnapshot=x.value,_e.children=x.children.map(ze=>Fs(C,ze)),_e}}const P=function gs(C){return new sr(new Oe.X(C.url),new Oe.X(C.params),new Oe.X(C.queryParams),new Oe.X(C.fragment),new Oe.X(C.data),C.outlet,C.component,C)}(x.value),j=x.children.map(se=>Fs(C,se));return new Zi(P,j)}}const Si="ngNavigationCancelingError";function pi(C,x){const{redirectTo:D,navigationBehaviorOptions:P}=Yr(x)?{redirectTo:x,navigationBehaviorOptions:void 0}:x,j=Jo(!1,0,x);return j.url=D,j.navigationBehaviorOptions=P,j}function Jo(C,x,D){const P=new Error("NavigationCancelingError: "+(C||""));return P[Si]=!0,P.cancellationCode=x,D&&(P.url=D),P}function mo(C){return C&&C[Si]}let cs=(()=>{class C{static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275cmp=w.Xpm({type:C,selectors:[["ng-component"]],standalone:!0,features:[w.jDz],decls:1,vars:0,template:function(P,j){1&P&&w._UZ(0,"router-outlet")},dependencies:[ui],encapsulation:2})}return C})();function yo(C){const x=C.children&&C.children.map(yo),D=x?{...C,children:x}:{...C};return!D.component&&!D.loadComponent&&(x||D.loadChildren)&&D.outlet&&D.outlet!==Re&&(D.component=cs),D}function Rr(C){return C.outlet||Re}function ii(C){if(!C)return null;if(C.routeConfig?._injector)return C.routeConfig._injector;for(let x=C.parent;x;x=x.parent){const D=x.routeConfig;if(D?._loadedInjector)return D._loadedInjector;if(D?._injector)return D._injector}return null}class ys{constructor(x,D,P,j,se){this.routeReuseStrategy=x,this.futureState=D,this.currState=P,this.forwardEvent=j,this.inputBindingEnabled=se}activate(x){const D=this.futureState._root,P=this.currState?this.currState._root:null;this.deactivateChildRoutes(D,P,x),$i(this.futureState.root),this.activateChildRoutes(D,P,x)}deactivateChildRoutes(x,D,P){const j=Mr(D);x.children.forEach(se=>{const _e=se.value.outlet;this.deactivateRoutes(se,j[_e],P),delete j[_e]}),Object.values(j).forEach(se=>{this.deactivateRouteAndItsChildren(se,P)})}deactivateRoutes(x,D,P){const j=x.value,se=D?D.value:null;if(j===se)if(j.component){const _e=P.getContext(j.outlet);_e&&this.deactivateChildRoutes(x,D,_e.children)}else this.deactivateChildRoutes(x,D,P);else se&&this.deactivateRouteAndItsChildren(D,P)}deactivateRouteAndItsChildren(x,D){x.value.component&&this.routeReuseStrategy.shouldDetach(x.value.snapshot)?this.detachAndStoreRouteSubtree(x,D):this.deactivateRouteAndOutlet(x,D)}detachAndStoreRouteSubtree(x,D){const P=D.getContext(x.value.outlet),j=P&&x.value.component?P.children:D,se=Mr(x);for(const _e of Object.keys(se))this.deactivateRouteAndItsChildren(se[_e],j);if(P&&P.outlet){const _e=P.outlet.detach(),ze=P.children.onOutletDeactivated();this.routeReuseStrategy.store(x.value.snapshot,{componentRef:_e,route:x,contexts:ze})}}deactivateRouteAndOutlet(x,D){const P=D.getContext(x.value.outlet),j=P&&x.value.component?P.children:D,se=Mr(x);for(const _e of Object.keys(se))this.deactivateRouteAndItsChildren(se[_e],j);P&&(P.outlet&&(P.outlet.deactivate(),P.children.onOutletDeactivated()),P.attachRef=null,P.route=null)}activateChildRoutes(x,D,P){const j=Mr(D);x.children.forEach(se=>{this.activateRoutes(se,j[se.value.outlet],P),this.forwardEvent(new Ks(se.value.snapshot))}),x.children.length&&this.forwardEvent(new Qo(x.value.snapshot))}activateRoutes(x,D,P){const j=x.value,se=D?D.value:null;if($i(j),j===se)if(j.component){const _e=P.getOrCreateContext(j.outlet);this.activateChildRoutes(x,D,_e.children)}else this.activateChildRoutes(x,D,P);else if(j.component){const _e=P.getOrCreateContext(j.outlet);if(this.routeReuseStrategy.shouldAttach(j.snapshot)){const ze=this.routeReuseStrategy.retrieve(j.snapshot);this.routeReuseStrategy.store(j.snapshot,null),_e.children.onOutletReAttached(ze.contexts),_e.attachRef=ze.componentRef,_e.route=ze.route.value,_e.outlet&&_e.outlet.attach(ze.componentRef,ze.route.value),$i(ze.route.value),this.activateChildRoutes(x,null,_e.children)}else{const ze=ii(j.snapshot);_e.attachRef=null,_e.route=j,_e.injector=ze,_e.outlet&&_e.outlet.activateWith(j,_e.injector),this.activateChildRoutes(x,null,_e.children)}}else this.activateChildRoutes(x,null,P)}}class vs{constructor(x){this.path=x,this.route=this.path[this.path.length-1]}}class mi{constructor(x,D){this.component=x,this.route=D}}function Ki(C,x,D){const P=C._root;return fa(P,x?x._root:null,D,[P.value])}function ha(C,x){const D=Symbol(),P=x.get(C,D);return P===D?"function"!=typeof C||(0,w.Z0I)(C)?x.get(C):C:P}function fa(C,x,D,P,j={canDeactivateChecks:[],canActivateChecks:[]}){const se=Mr(x);return C.children.forEach(_e=>{(function Ya(C,x,D,P,j={canDeactivateChecks:[],canActivateChecks:[]}){const se=C.value,_e=x?x.value:null,ze=D?D.getContext(C.value.outlet):null;if(_e&&se.routeConfig===_e.routeConfig){const Ge=function Xr(C,x,D){if("function"==typeof D)return D(C,x);switch(D){case"pathParamsChange":return!tt(C.url,x.url);case"pathParamsOrQueryParamsChange":return!tt(C.url,x.url)||!on(C.queryParams,x.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!xr(C,x)||!on(C.queryParams,x.queryParams);default:return!xr(C,x)}}(_e,se,se.routeConfig.runGuardsAndResolvers);Ge?j.canActivateChecks.push(new vs(P)):(se.data=_e.data,se._resolvedData=_e._resolvedData),fa(C,x,se.component?ze?ze.children:null:D,P,j),Ge&&ze&&ze.outlet&&ze.outlet.isActivated&&j.canDeactivateChecks.push(new mi(ze.outlet.component,_e))}else _e&&Xo(x,ze,j),j.canActivateChecks.push(new vs(P)),fa(C,null,se.component?ze?ze.children:null:D,P,j)})(_e,se[_e.value.outlet],D,P.concat([_e.value]),j),delete se[_e.value.outlet]}),Object.entries(se).forEach(([_e,ze])=>Xo(ze,D.getContext(_e),j)),j}function Xo(C,x,D){const P=Mr(C),j=C.value;Object.entries(P).forEach(([se,_e])=>{Xo(_e,j.component?x?x.children.getContext(se):null:x,D)}),D.canDeactivateChecks.push(new mi(j.component&&x&&x.outlet&&x.outlet.isActivated?x.outlet.component:null,j))}function Qa(C){return"function"==typeof C}function Qs(C){return C instanceof Ft.K||"EmptyError"===C?.name}const Qi=Symbol("INITIAL_VALUE");function ki(){return(0,In.w)(C=>it(C.map(x=>x.pipe((0,Vn.q)(1),(0,er.O)(Qi)))).pipe((0,un.U)(x=>{for(const D of x)if(!0!==D){if(D===Qi)return Qi;if(!1===D||D instanceof Nn)return D}return!0}),(0,dr.h)(x=>x!==Qi),(0,Vn.q)(1)))}function xo(C){return(0,ot.z)((0,Rt.b)(x=>{if(Yr(x))throw pi(0,x)}),(0,un.U)(x=>!0===x))}class wi{constructor(x){this.segmentGroup=x||null}}class Bs{constructor(x){this.urlTree=x}}function ur(C){return vt(new wi(C))}function Ja(C){return vt(new Bs(C))}class Js{constructor(x,D){this.urlSerializer=x,this.urlTree=D}noMatchError(x){return new w.vHH(4002,!1)}lineralizeSegments(x,D){let P=[],j=D.root;for(;;){if(P=P.concat(j.segments),0===j.numberOfChildren)return(0,fe.of)(P);if(j.numberOfChildren>1||!j.children[Re])return vt(new w.vHH(4e3,!1));j=j.children[Re]}}applyRedirectCommands(x,D,P){return this.applyRedirectCreateUrlTree(D,this.urlSerializer.parse(D),x,P)}applyRedirectCreateUrlTree(x,D,P,j){const se=this.createSegmentGroup(x,D.root,P,j);return new Nn(se,this.createQueryParams(D.queryParams,this.urlTree.queryParams),D.fragment)}createQueryParams(x,D){const P={};return Object.entries(x).forEach(([j,se])=>{if("string"==typeof se&&se.startsWith(":")){const ze=se.substring(1);P[j]=D[ze]}else P[j]=se}),P}createSegmentGroup(x,D,P,j){const se=this.createSegments(x,D.segments,P,j);let _e={};return Object.entries(D.children).forEach(([ze,Ge])=>{_e[ze]=this.createSegmentGroup(x,Ge,P,j)}),new Kn(se,_e)}createSegments(x,D,P,j){return D.map(se=>se.path.startsWith(":")?this.findPosParam(x,se,j):this.findOrReturn(se,P))}findPosParam(x,D,P){const j=P[D.path.substring(1)];if(!j)throw new w.vHH(4001,!1);return j}findOrReturn(x,D){let P=0;for(const j of D){if(j.path===x.path)return D.splice(P),j;P++}return x}}const Bc={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function na(C,x,D,P,j){const se=ga(C,x,D);return se.matched?(P=function Vr(C,x){return C.providers&&!C._injector&&(C._injector=(0,w.MMx)(C.providers,x,`Route: ${C.path}`)),C._injector??x}(x,P),function Ur(C,x,D,P){const j=x.canMatch;if(!j||0===j.length)return(0,fe.of)(!0);const se=j.map(_e=>{const ze=ha(_e,C);return Zn(function Kt(C){return C&&Qa(C.canMatch)}(ze)?ze.canMatch(x,D):C.runInContext(()=>ze(x,D)))});return(0,fe.of)(se).pipe(ki(),xo())}(P,x,D).pipe((0,un.U)(_e=>!0===_e?se:{...Bc}))):(0,fe.of)(se)}function ga(C,x,D){if(""===x.path)return"full"===x.pathMatch&&(C.hasChildren()||D.length>0)?{...Bc}:{matched:!0,consumedSegments:[],remainingSegments:D,parameters:{},positionalParamSegments:{}};const j=(x.matcher||vr)(D,C,x);if(!j)return{...Bc};const se={};Object.entries(j.posParams??{}).forEach(([ze,Ge])=>{se[ze]=Ge.path});const _e=j.consumed.length>0?{...se,...j.consumed[j.consumed.length-1].parameters}:se;return{matched:!0,consumedSegments:j.consumed,remainingSegments:D.slice(j.consumed.length),parameters:_e,positionalParamSegments:j.posParams??{}}}function ra(C,x,D,P){return D.length>0&&function Vc(C,x,D){return D.some(P=>Uc(C,x,P)&&Rr(P)!==Re)}(C,D,P)?{segmentGroup:new Kn(x,Ro(P,new Kn(D,C.children))),slicedSegments:[]}:0===D.length&&function _c(C,x,D){return D.some(P=>Uc(C,x,P))}(C,D,P)?{segmentGroup:new Kn(C.segments,mc(C,0,D,P,C.children)),slicedSegments:D}:{segmentGroup:new Kn(C.segments,C.children),slicedSegments:D}}function mc(C,x,D,P,j){const se={};for(const _e of P)if(Uc(C,D,_e)&&!j[Rr(_e)]){const ze=new Kn([],{});se[Rr(_e)]=ze}return{...j,...se}}function Ro(C,x){const D={};D[Re]=x;for(const P of C)if(""===P.path&&Rr(P)!==Re){const j=new Kn([],{});D[Rr(P)]=j}return D}function Uc(C,x,D){return(!(C.hasChildren()||x.length>0)||"full"!==D.pathMatch)&&""===D.path}class Ku{constructor(x,D,P,j,se,_e,ze){this.injector=x,this.configLoader=D,this.rootComponentType=P,this.config=j,this.urlTree=se,this.paramsInheritanceStrategy=_e,this.urlSerializer=ze,this.allowRedirects=!0,this.applyRedirects=new Js(this.urlSerializer,this.urlTree)}noMatchError(x){return new w.vHH(4002,!1)}recognize(){const x=ra(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,x,Re).pipe(jt(D=>{if(D instanceof Bs)return this.allowRedirects=!1,this.urlTree=D.urlTree,this.match(D.urlTree);throw D instanceof wi?this.noMatchError(D):D}),(0,un.U)(D=>{const P=new wr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Re,this.rootComponentType,null,{}),j=new Zi(P,D),se=new Pi("",j),_e=function uo(C,x,D=null,P=null){return ps(fs(C),x,D,P)}(P,[],this.urlTree.queryParams,this.urlTree.fragment);return _e.queryParams=this.urlTree.queryParams,se.url=this.urlSerializer.serialize(_e),this.inheritParamsAndData(se._root),{state:se,tree:_e}}))}match(x){return this.processSegmentGroup(this.injector,this.config,x.root,Re).pipe(jt(P=>{throw P instanceof wi?this.noMatchError(P):P}))}inheritParamsAndData(x){const D=x.value,P=Bt(D,this.paramsInheritanceStrategy);D.params=Object.freeze(P.params),D.data=Object.freeze(P.data),x.children.forEach(j=>this.inheritParamsAndData(j))}processSegmentGroup(x,D,P,j){return 0===P.segments.length&&P.hasChildren()?this.processChildren(x,D,P):this.processSegment(x,D,P,P.segments,j,!0)}processChildren(x,D,P){const j=[];for(const se of Object.keys(P.children))"primary"===se?j.unshift(se):j.push(se);return(0,de.D)(j).pipe(bt(se=>{const _e=P.children[se],ze=function Ys(C,x){const D=C.filter(P=>Rr(P)===x);return D.push(...C.filter(P=>Rr(P)!==x)),D}(D,se);return this.processSegmentGroup(x,ze,_e,se)}),function yn(C,x){return(0,ve.e)(function dn(C,x,D,P,j){return(se,_e)=>{let ze=D,Ge=x,Wt=0;se.subscribe((0,et.x)(_e,Ln=>{const Ar=Wt++;Ge=ze?C(Ge,Ln,Ar):(ze=!0,Ln),P&&_e.next(Ge)},j&&(()=>{ze&&_e.next(Ge),_e.complete()})))}}(C,x,arguments.length>=2,!0))}((se,_e)=>(se.push(..._e),se)),$e(null),function Dt(C,x){const D=arguments.length>=2;return P=>P.pipe(C?(0,dr.h)((j,se)=>C(j,se,P)):Ee.y,cn(1),D?$e(x):Je(()=>new Ft.K))}(),(0,ke.z)(se=>{if(null===se)return ur(P);const _e=vo(se);return function iu(C){C.sort((x,D)=>x.value.outlet===Re?-1:D.value.outlet===Re?1:x.value.outlet.localeCompare(D.value.outlet))}(_e),(0,fe.of)(_e)}))}processSegment(x,D,P,j,se,_e){return(0,de.D)(D).pipe(bt(ze=>this.processSegmentAgainstRoute(ze._injector??x,D,ze,P,j,se,_e).pipe(jt(Ge=>{if(Ge instanceof wi)return(0,fe.of)(null);throw Ge}))),nt(ze=>!!ze),jt(ze=>{if(Qs(ze))return function Sl(C,x,D){return 0===x.length&&!C.children[D]}(P,j,se)?(0,fe.of)([]):ur(P);throw ze}))}processSegmentAgainstRoute(x,D,P,j,se,_e,ze){return function nu(C,x,D,P){return!!(Rr(C)===P||P!==Re&&Uc(x,D,C))&&("**"===C.path||ga(x,C,D).matched)}(P,j,se,_e)?void 0===P.redirectTo?this.matchSegmentAgainstRoute(x,j,P,se,_e,ze):ze&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(x,j,D,P,se,_e):ur(j):ur(j)}expandSegmentAgainstRouteUsingRedirect(x,D,P,j,se,_e){return"**"===j.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(x,P,j,_e):this.expandRegularSegmentAgainstRouteUsingRedirect(x,D,P,j,se,_e)}expandWildCardWithParamsAgainstRouteUsingRedirect(x,D,P,j){const se=this.applyRedirects.applyRedirectCommands([],P.redirectTo,{});return P.redirectTo.startsWith("/")?Ja(se):this.applyRedirects.lineralizeSegments(P,se).pipe((0,ke.z)(_e=>{const ze=new Kn(_e,{});return this.processSegment(x,D,ze,_e,j,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(x,D,P,j,se,_e){const{matched:ze,consumedSegments:Ge,remainingSegments:Wt,positionalParamSegments:Ln}=ga(D,j,se);if(!ze)return ur(D);const Ar=this.applyRedirects.applyRedirectCommands(Ge,j.redirectTo,Ln);return j.redirectTo.startsWith("/")?Ja(Ar):this.applyRedirects.lineralizeSegments(j,Ar).pipe((0,ke.z)(mr=>this.processSegment(x,P,D,mr.concat(Wt),_e,!1)))}matchSegmentAgainstRoute(x,D,P,j,se,_e){let ze;if("**"===P.path){const Ge=j.length>0?bn(j).parameters:{},Wt=new wr(j,Ge,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,O(P),Rr(P),P.component??P._loadedComponent??null,P,ne(P));ze=(0,fe.of)({snapshot:Wt,consumedSegments:[],remainingSegments:[]}),D.children={}}else ze=na(D,P,j,x).pipe((0,un.U)(({matched:Ge,consumedSegments:Wt,remainingSegments:Ln,parameters:Ar})=>Ge?{snapshot:new wr(Wt,Ar,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,O(P),Rr(P),P.component??P._loadedComponent??null,P,ne(P)),consumedSegments:Wt,remainingSegments:Ln}:null));return ze.pipe((0,In.w)(Ge=>null===Ge?ur(D):this.getChildConfig(x=P._injector??x,P,j).pipe((0,In.w)(({routes:Wt})=>{const Ln=P._loadedInjector??x,{snapshot:Ar,consumedSegments:mr,remainingSegments:yc}=Ge,{segmentGroup:Wr,slicedSegments:ia}=ra(D,mr,yc,Wt);if(0===ia.length&&Wr.hasChildren())return this.processChildren(Ln,Wt,Wr).pipe((0,un.U)(ko=>null===ko?null:[new Zi(Ar,ko)]));if(0===Wt.length&&0===ia.length)return(0,fe.of)([new Zi(Ar,[])]);const Pr=Rr(P)===se;return this.processSegment(Ln,Wt,Wr,ia,Pr?Re:se,!0).pipe((0,un.U)(ko=>[new Zi(Ar,ko)]))}))))}getChildConfig(x,D,P){return D.children?(0,fe.of)({routes:D.children,injector:x}):D.loadChildren?void 0!==D._loadedRoutes?(0,fe.of)({routes:D._loadedRoutes,injector:D._loadedInjector}):function Fi(C,x,D,P){const j=x.canLoad;if(void 0===j||0===j.length)return(0,fe.of)(!0);const se=j.map(_e=>{const ze=ha(_e,C);return Zn(function ee(C){return C&&Qa(C.canLoad)}(ze)?ze.canLoad(x,D):C.runInContext(()=>ze(x,D)))});return(0,fe.of)(se).pipe(ki(),xo())}(x,D,P).pipe((0,ke.z)(j=>j?this.configLoader.loadChildren(x,D).pipe((0,Rt.b)(se=>{D._loadedRoutes=se.routes,D._loadedInjector=se.injector})):function Lc(C){return vt(Jo(!1,3))}())):(0,fe.of)({routes:[],injector:x})}}function Hc(C){const x=C.value.routeConfig;return x&&""===x.path}function vo(C){const x=[],D=new Set;for(const P of C){if(!Hc(P)){x.push(P);continue}const j=x.find(se=>P.value.routeConfig===se.value.routeConfig);void 0!==j?(j.children.push(...P.children),D.add(j)):x.push(P)}for(const P of D){const j=vo(P.children);x.push(new Zi(P.value,j))}return x.filter(P=>!D.has(P))}function O(C){return C.data||{}}function ne(C){return C.resolve||{}}function Sr(C){return"string"==typeof C.title||null===C.title}function Ir(C){return(0,In.w)(x=>{const D=C(x);return D?(0,de.D)(D).pipe((0,un.U)(()=>x)):(0,fe.of)(x)})}const or=new w.OlP("ROUTES");let jn=(()=>{class C{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,w.f3M)(w.Sil)}loadComponent(D){if(this.componentLoaders.get(D))return this.componentLoaders.get(D);if(D._loadedComponent)return(0,fe.of)(D._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(D);const P=Zn(D.loadComponent()).pipe((0,un.U)(Ai),(0,Rt.b)(se=>{this.onLoadEndListener&&this.onLoadEndListener(D),D._loadedComponent=se}),hr(()=>{this.componentLoaders.delete(D)})),j=new gt(P,()=>new Rn.x).pipe(Qe());return this.componentLoaders.set(D,j),j}loadChildren(D,P){if(this.childrenLoaders.get(P))return this.childrenLoaders.get(P);if(P._loadedRoutes)return(0,fe.of)({routes:P._loadedRoutes,injector:P._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(P);const se=function _i(C,x,D,P){return Zn(C.loadChildren()).pipe((0,un.U)(Ai),(0,ke.z)(j=>j instanceof w.YKP||Array.isArray(j)?(0,fe.of)(j):(0,de.D)(x.compileModuleAsync(j))),(0,un.U)(j=>{P&&P(C);let se,_e,ze=!1;return Array.isArray(j)?(_e=j,!0):(se=j.create(D).injector,_e=se.get(or,[],{optional:!0,self:!0}).flat()),{routes:_e.map(yo),injector:se}}))}(P,this.compiler,D,this.onLoadEndListener).pipe(hr(()=>{this.childrenLoaders.delete(P)})),_e=new gt(se,()=>new Rn.x).pipe(Qe());return this.childrenLoaders.set(P,_e),_e}static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275prov=w.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();function Ai(C){return function pr(C){return C&&"object"==typeof C&&"default"in C}(C)?C.default:C}let yi=(()=>{class C{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Rn.x,this.transitionAbortSubject=new Rn.x,this.configLoader=(0,w.f3M)(jn),this.environmentInjector=(0,w.f3M)(w.lqb),this.urlSerializer=(0,w.f3M)(Ze),this.rootContexts=(0,w.f3M)(Qr),this.inputBindingEnabled=null!==(0,w.f3M)(Cn,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,fe.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=j=>this.events.next(new Yo(j)),this.configLoader.onLoadStartListener=j=>this.events.next(new hc(j))}complete(){this.transitions?.complete()}handleNavigationRequest(D){const P=++this.navigationId;this.transitions?.next({...this.transitions.value,...D,id:P})}setupNavigations(D,P,j){return this.transitions=new Oe.X({id:0,currentUrlTree:P,currentRawUrl:P,currentBrowserUrl:P,extractedUrl:D.urlHandlingStrategy.extract(P),urlAfterRedirects:D.urlHandlingStrategy.extract(P),rawUrl:P,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ci,restoredState:null,currentSnapshot:j.snapshot,targetSnapshot:null,currentRouterState:j,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,dr.h)(se=>0!==se.id),(0,un.U)(se=>({...se,extractedUrl:D.urlHandlingStrategy.extract(se.rawUrl)})),(0,In.w)(se=>{this.currentTransition=se;let _e=!1,ze=!1;return(0,fe.of)(se).pipe((0,Rt.b)(Ge=>{this.currentNavigation={id:Ge.id,initialUrl:Ge.rawUrl,extractedUrl:Ge.extractedUrl,trigger:Ge.source,extras:Ge.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,In.w)(Ge=>{const Wt=Ge.currentBrowserUrl.toString(),Ln=!D.navigated||Ge.extractedUrl.toString()!==Wt||Wt!==Ge.currentUrlTree.toString();if(!Ln&&"reload"!==(Ge.extras.onSameUrlNavigation??D.onSameUrlNavigation)){const mr="";return this.events.next(new Zs(Ge.id,this.urlSerializer.serialize(Ge.rawUrl),mr,0)),Ge.resolve(null),_t.E}if(D.urlHandlingStrategy.shouldProcessUrl(Ge.rawUrl))return(0,fe.of)(Ge).pipe((0,In.w)(mr=>{const yc=this.transitions?.getValue();return this.events.next(new li(mr.id,this.urlSerializer.serialize(mr.extractedUrl),mr.source,mr.restoredState)),yc!==this.transitions?.getValue()?_t.E:Promise.resolve(mr)}),function U(C,x,D,P,j,se){return(0,ke.z)(_e=>function ru(C,x,D,P,j,se,_e="emptyOnly"){return new Ku(C,x,D,P,j,_e,se).recognize()}(C,x,D,P,_e.extractedUrl,j,se).pipe((0,un.U)(({state:ze,tree:Ge})=>({..._e,targetSnapshot:ze,urlAfterRedirects:Ge}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,D.config,this.urlSerializer,D.paramsInheritanceStrategy),(0,Rt.b)(mr=>{se.targetSnapshot=mr.targetSnapshot,se.urlAfterRedirects=mr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:mr.urlAfterRedirects};const yc=new ji(mr.id,this.urlSerializer.serialize(mr.extractedUrl),this.urlSerializer.serialize(mr.urlAfterRedirects),mr.targetSnapshot);this.events.next(yc)}));if(Ln&&D.urlHandlingStrategy.shouldProcessUrl(Ge.currentRawUrl)){const{id:mr,extractedUrl:yc,source:Wr,restoredState:ia,extras:Pr}=Ge,ko=new li(mr,this.urlSerializer.serialize(yc),Wr,ia);this.events.next(ko);const Ld=as(0,this.rootComponentType).snapshot;return this.currentTransition=se={...Ge,targetSnapshot:Ld,urlAfterRedirects:yc,extras:{...Pr,skipLocationChange:!1,replaceUrl:!1}},(0,fe.of)(se)}{const mr="";return this.events.next(new Zs(Ge.id,this.urlSerializer.serialize(Ge.extractedUrl),mr,1)),Ge.resolve(null),_t.E}}),(0,Rt.b)(Ge=>{const Wt=new ol(Ge.id,this.urlSerializer.serialize(Ge.extractedUrl),this.urlSerializer.serialize(Ge.urlAfterRedirects),Ge.targetSnapshot);this.events.next(Wt)}),(0,un.U)(Ge=>(this.currentTransition=se={...Ge,guards:Ki(Ge.targetSnapshot,Ge.currentSnapshot,this.rootContexts)},se)),function kc(C,x){return(0,ke.z)(D=>{const{targetSnapshot:P,currentSnapshot:j,guards:{canActivateChecks:se,canDeactivateChecks:_e}}=D;return 0===_e.length&&0===se.length?(0,fe.of)({...D,guardsResult:!0}):function pa(C,x,D,P){return(0,de.D)(C).pipe((0,ke.z)(j=>function As(C,x,D,P,j){const se=x&&x.routeConfig?x.routeConfig.canDeactivate:null;if(!se||0===se.length)return(0,fe.of)(!0);const _e=se.map(ze=>{const Ge=ii(x)??j,Wt=ha(ze,Ge);return Zn(function Ie(C){return C&&Qa(C.canDeactivate)}(Wt)?Wt.canDeactivate(C,x,D,P):Ge.runInContext(()=>Wt(C,x,D,P))).pipe(nt())});return(0,fe.of)(_e).pipe(ki())}(j.component,j.route,D,x,P)),nt(j=>!0!==j,!0))}(_e,P,j,C).pipe((0,ke.z)(ze=>ze&&function q(C){return"boolean"==typeof C}(ze)?function ea(C,x,D,P){return(0,de.D)(x).pipe(bt(j=>(0,An.z)(function Pa(C,x){return null!==C&&x&&x(new ua(C)),(0,fe.of)(!0)}(j.route.parent,P),function Fc(C,x){return null!==C&&x&&x(new al(C)),(0,fe.of)(!0)}(j.route,P),function gc(C,x,D){const P=x[x.length-1],se=x.slice(0,x.length-1).reverse().map(_e=>function pc(C){const x=C.routeConfig?C.routeConfig.canActivateChild:null;return x&&0!==x.length?{node:C,guards:x}:null}(_e)).filter(_e=>null!==_e).map(_e=>mt(()=>{const ze=_e.guards.map(Ge=>{const Wt=ii(_e.node)??D,Ln=ha(Ge,Wt);return Zn(function oe(C){return C&&Qa(C.canActivateChild)}(Ln)?Ln.canActivateChild(P,C):Wt.runInContext(()=>Ln(P,C))).pipe(nt())});return(0,fe.of)(ze).pipe(ki())}));return(0,fe.of)(se).pipe(ki())}(C,j.path,D),function Ss(C,x,D){const P=x.routeConfig?x.routeConfig.canActivate:null;if(!P||0===P.length)return(0,fe.of)(!0);const j=P.map(se=>mt(()=>{const _e=ii(x)??D,ze=ha(se,_e);return Zn(function B(C){return C&&Qa(C.canActivate)}(ze)?ze.canActivate(x,C):_e.runInContext(()=>ze(x,C))).pipe(nt())}));return(0,fe.of)(j).pipe(ki())}(C,j.route,D))),nt(j=>!0!==j,!0))}(P,se,C,x):(0,fe.of)(ze)),(0,un.U)(ze=>({...D,guardsResult:ze})))})}(this.environmentInjector,Ge=>this.events.next(Ge)),(0,Rt.b)(Ge=>{if(se.guardsResult=Ge.guardsResult,Yr(Ge.guardsResult))throw pi(0,Ge.guardsResult);const Wt=new fr(Ge.id,this.urlSerializer.serialize(Ge.extractedUrl),this.urlSerializer.serialize(Ge.urlAfterRedirects),Ge.targetSnapshot,!!Ge.guardsResult);this.events.next(Wt)}),(0,dr.h)(Ge=>!!Ge.guardsResult||(this.cancelNavigationTransition(Ge,"",3),!1)),Ir(Ge=>{if(Ge.guards.canActivateChecks.length)return(0,fe.of)(Ge).pipe((0,Rt.b)(Wt=>{const Ln=new Rc(Wt.id,this.urlSerializer.serialize(Wt.extractedUrl),this.urlSerializer.serialize(Wt.urlAfterRedirects),Wt.targetSnapshot);this.events.next(Ln)}),(0,In.w)(Wt=>{let Ln=!1;return(0,fe.of)(Wt).pipe(function X(C,x){return(0,ke.z)(D=>{const{targetSnapshot:P,guards:{canActivateChecks:j}}=D;if(!j.length)return(0,fe.of)(D);let se=0;return(0,de.D)(j).pipe(bt(_e=>function ye(C,x,D,P){const j=C.routeConfig,se=C._resolve;return void 0!==j?.title&&!Sr(j)&&(se[at]=j.title),function Ke(C,x,D,P){const j=function ft(C){return[...Object.keys(C),...Object.getOwnPropertySymbols(C)]}(C);if(0===j.length)return(0,fe.of)({});const se={};return(0,de.D)(j).pipe((0,ke.z)(_e=>function fn(C,x,D,P){const j=ii(x)??P,se=ha(C,j);return Zn(se.resolve?se.resolve(x,D):j.runInContext(()=>se(x,D)))}(C[_e],x,D,P).pipe(nt(),(0,Rt.b)(ze=>{se[_e]=ze}))),cn(1),(0,$n.h)(se),jt(_e=>Qs(_e)?_t.E:vt(_e)))}(se,C,x,P).pipe((0,un.U)(_e=>(C._resolvedData=_e,C.data=Bt(C,D).resolve,j&&Sr(j)&&(C.data[at]=j.title),null)))}(_e.route,P,C,x)),(0,Rt.b)(()=>se++),cn(1),(0,ke.z)(_e=>se===j.length?(0,fe.of)(D):_t.E))})}(D.paramsInheritanceStrategy,this.environmentInjector),(0,Rt.b)({next:()=>Ln=!0,complete:()=>{Ln||this.cancelNavigationTransition(Wt,"",2)}}))}),(0,Rt.b)(Wt=>{const Ln=new xa(Wt.id,this.urlSerializer.serialize(Wt.extractedUrl),this.urlSerializer.serialize(Wt.urlAfterRedirects),Wt.targetSnapshot);this.events.next(Ln)}))}),Ir(Ge=>{const Wt=Ln=>{const Ar=[];Ln.routeConfig?.loadComponent&&!Ln.routeConfig._loadedComponent&&Ar.push(this.configLoader.loadComponent(Ln.routeConfig).pipe((0,Rt.b)(mr=>{Ln.component=mr}),(0,un.U)(()=>{})));for(const mr of Ln.children)Ar.push(...Wt(mr));return Ar};return it(Wt(Ge.targetSnapshot.root)).pipe($e(),(0,Vn.q)(1))}),Ir(()=>this.afterPreactivation()),(0,un.U)(Ge=>{const Wt=function fc(C,x,D){const P=Fs(C,x._root,D?D._root:void 0);return new Br(P,x)}(D.routeReuseStrategy,Ge.targetSnapshot,Ge.currentRouterState);return this.currentTransition=se={...Ge,targetRouterState:Wt},se}),(0,Rt.b)(()=>{this.events.next(new Oo)}),((C,x,D,P)=>(0,un.U)(j=>(new ys(x,j.targetRouterState,j.currentRouterState,D,P).activate(C),j)))(this.rootContexts,D.routeReuseStrategy,Ge=>this.events.next(Ge),this.inputBindingEnabled),(0,Vn.q)(1),(0,Rt.b)({next:Ge=>{_e=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ps(Ge.id,this.urlSerializer.serialize(Ge.extractedUrl),this.urlSerializer.serialize(Ge.urlAfterRedirects))),D.titleStrategy?.updateTitle(Ge.targetRouterState.snapshot),Ge.resolve(!0)},complete:()=>{_e=!0}}),(0,Fr.R)(this.transitionAbortSubject.pipe((0,Rt.b)(Ge=>{throw Ge}))),hr(()=>{_e||ze||this.cancelNavigationTransition(se,"",1),this.currentNavigation?.id===se.id&&(this.currentNavigation=null)}),jt(Ge=>{if(ze=!0,mo(Ge))this.events.next(new Ci(se.id,this.urlSerializer.serialize(se.extractedUrl),Ge.message,Ge.cancellationCode)),function Pc(C){return mo(C)&&Yr(C.url)}(Ge)?this.events.next(new Ds(Ge.url)):se.resolve(!1);else{this.events.next(new dc(se.id,this.urlSerializer.serialize(se.extractedUrl),Ge,se.targetSnapshot??void 0));try{se.resolve(D.errorHandler(Ge))}catch(Wt){se.reject(Wt)}}return _t.E}))}))}cancelNavigationTransition(D,P,j){const se=new Ci(D.id,this.urlSerializer.serialize(D.extractedUrl),P,j);this.events.next(se),D.resolve(!1)}static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275prov=w.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();function Ji(C){return C!==ci}let Xi=(()=>{class C{buildTitle(D){let P,j=D.root;for(;void 0!==j;)P=this.getResolvedTitleForRoute(j)??P,j=j.children.find(se=>se.outlet===Re);return P}getResolvedTitleForRoute(D){return D.data[at]}static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275prov=w.Yz7({token:C,factory:function(){return(0,w.f3M)(Ns)},providedIn:"root"})}return C})(),Ns=(()=>{class C extends Xi{constructor(D){super(),this.title=D}updateTitle(D){const P=this.buildTitle(D);void 0!==P&&this.title.setTitle(P)}static#e=this.\u0275fac=function(P){return new(P||C)(w.LFG(xe.Dx))};static#t=this.\u0275prov=w.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})(),Vs=(()=>{class C{static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275prov=w.Yz7({token:C,factory:function(){return(0,w.f3M)(Xa)},providedIn:"root"})}return C})();class ka{shouldDetach(x){return!1}store(x,D){}shouldAttach(x){return!1}retrieve(x){return null}shouldReuseRoute(x,D){return x.routeConfig===D.routeConfig}}let Xa=(()=>{class C extends ka{static#e=this.\u0275fac=function(){let D;return function(j){return(D||(D=w.n5z(C)))(j||C)}}();static#t=this.\u0275prov=w.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();const Gc=new w.OlP("",{providedIn:"root",factory:()=>({})});let cl=(()=>{class C{static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275prov=w.Yz7({token:C,factory:function(){return(0,w.f3M)(eo)},providedIn:"root"})}return C})(),eo=(()=>{class C{shouldProcessUrl(D){return!0}extract(D){return D}merge(D,P){return D}static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275prov=w.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();var ma=function(C){return C[C.COMPLETE=0]="COMPLETE",C[C.FAILED=1]="FAILED",C[C.REDIRECTING=2]="REDIRECTING",C}(ma||{});function ll(C,x){C.events.pipe((0,dr.h)(D=>D instanceof Ps||D instanceof Ci||D instanceof dc||D instanceof Zs),(0,un.U)(D=>D instanceof Ps||D instanceof Zs?ma.COMPLETE:D instanceof Ci&&(0===D.code||1===D.code)?ma.REDIRECTING:ma.FAILED),(0,dr.h)(D=>D!==ma.REDIRECTING),(0,Vn.q)(1)).subscribe(()=>{x()})}function di(C){throw C}function Al(C,x,D){return x.parse("/")}const Nl={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},us={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Us=(()=>{class C{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,w.f3M)(w.c2e),this.isNgZoneEnabled=!1,this._events=new Rn.x,this.options=(0,w.f3M)(Gc,{optional:!0})||{},this.pendingTasks=(0,w.f3M)(w.HDt),this.errorHandler=this.options.errorHandler||di,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Al,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,w.f3M)(cl),this.routeReuseStrategy=(0,w.f3M)(Vs),this.titleStrategy=(0,w.f3M)(Xi),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,w.f3M)(or,{optional:!0})?.flat()??[],this.navigationTransitions=(0,w.f3M)(yi),this.urlSerializer=(0,w.f3M)(Ze),this.location=(0,w.f3M)(dt.Ye),this.componentInputBindingEnabled=!!(0,w.f3M)(Cn,{optional:!0}),this.eventsSubscription=new je.w0,this.isNgZoneEnabled=(0,w.f3M)(w.R0b)instanceof w.R0b&&w.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Nn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=as(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(D=>{this.lastSuccessfulId=D.id,this.currentPageId=this.browserPageId},D=>{this.console.warn(`Unhandled Navigation Error: ${D}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const D=this.navigationTransitions.events.subscribe(P=>{try{const{currentTransition:j}=this.navigationTransitions;if(null===j)return void(ec(P)&&this._events.next(P));if(P instanceof li)Ji(j.source)&&(this.browserUrlTree=j.extractedUrl);else if(P instanceof Zs)this.rawUrlTree=j.rawUrl;else if(P instanceof ji){if("eager"===this.urlUpdateStrategy){if(!j.extras.skipLocationChange){const se=this.urlHandlingStrategy.merge(j.urlAfterRedirects,j.rawUrl);this.setBrowserUrl(se,j)}this.browserUrlTree=j.urlAfterRedirects}}else if(P instanceof Oo)this.currentUrlTree=j.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(j.urlAfterRedirects,j.rawUrl),this.routerState=j.targetRouterState,"deferred"===this.urlUpdateStrategy&&(j.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,j),this.browserUrlTree=j.urlAfterRedirects);else if(P instanceof Ci)0!==P.code&&1!==P.code&&(this.navigated=!0),(3===P.code||2===P.code)&&this.restoreHistory(j);else if(P instanceof Ds){const se=this.urlHandlingStrategy.merge(P.url,j.currentRawUrl),_e={skipLocationChange:j.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ji(j.source)};this.scheduleNavigation(se,ci,null,_e,{resolve:j.resolve,reject:j.reject,promise:j.promise})}P instanceof dc&&this.restoreHistory(j,!0),P instanceof Ps&&(this.navigated=!0),ec(P)&&this._events.next(P)}catch(j){this.navigationTransitions.transitionAbortSubject.next(j)}});this.eventsSubscription.add(D)}resetRootComponentType(D){this.routerState.root.component=D,this.navigationTransitions.rootComponentType=D}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const D=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ci,D)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(D=>{const P="popstate"===D.type?"popstate":"hashchange";"popstate"===P&&setTimeout(()=>{this.navigateToSyncWithBrowser(D.url,P,D.state)},0)}))}navigateToSyncWithBrowser(D,P,j){const se={replaceUrl:!0},_e=j?.navigationId?j:null;if(j){const Ge={...j};delete Ge.navigationId,delete Ge.\u0275routerPageId,0!==Object.keys(Ge).length&&(se.state=Ge)}const ze=this.parseUrl(D);this.scheduleNavigation(ze,P,_e,se)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(D){this.config=D.map(yo),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(D,P={}){const{relativeTo:j,queryParams:se,fragment:_e,queryParamsHandling:ze,preserveFragment:Ge}=P,Wt=Ge?this.currentUrlTree.fragment:_e;let Ar,Ln=null;switch(ze){case"merge":Ln={...this.currentUrlTree.queryParams,...se};break;case"preserve":Ln=this.currentUrlTree.queryParams;break;default:Ln=se||null}null!==Ln&&(Ln=this.removeEmptyProps(Ln));try{Ar=fs(j?j.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof D[0]||!D[0].startsWith("/"))&&(D=[]),Ar=this.currentUrlTree.root}return ps(Ar,D,Ln,Wt??null)}navigateByUrl(D,P={skipLocationChange:!1}){const j=Yr(D)?D:this.parseUrl(D),se=this.urlHandlingStrategy.merge(j,this.rawUrlTree);return this.scheduleNavigation(se,ci,null,P)}navigate(D,P={skipLocationChange:!1}){return function Pd(C){for(let x=0;x<C.length;x++)if(null==C[x])throw new w.vHH(4008,!1)}(D),this.navigateByUrl(this.createUrlTree(D,P),P)}serializeUrl(D){return this.urlSerializer.serialize(D)}parseUrl(D){let P;try{P=this.urlSerializer.parse(D)}catch(j){P=this.malformedUriErrorHandler(j,this.urlSerializer,D)}return P}isActive(D,P){let j;if(j=!0===P?{...Nl}:!1===P?{...us}:P,Yr(D))return br(this.currentUrlTree,D,j);const se=this.parseUrl(D);return br(this.currentUrlTree,se,j)}removeEmptyProps(D){return Object.keys(D).reduce((P,j)=>{const se=D[j];return null!=se&&(P[j]=se),P},{})}scheduleNavigation(D,P,j,se,_e){if(this.disposed)return Promise.resolve(!1);let ze,Ge,Wt;_e?(ze=_e.resolve,Ge=_e.reject,Wt=_e.promise):Wt=new Promise((Ar,mr)=>{ze=Ar,Ge=mr});const Ln=this.pendingTasks.add();return ll(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Ln))}),this.navigationTransitions.handleNavigationRequest({source:P,restoredState:j,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:D,extras:se,resolve:ze,reject:Ge,promise:Wt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Wt.catch(Ar=>Promise.reject(Ar))}setBrowserUrl(D,P){const j=this.urlSerializer.serialize(D);if(this.location.isCurrentPathEqualTo(j)||P.extras.replaceUrl){const _e={...P.extras.state,...this.generateNgRouterState(P.id,this.browserPageId)};this.location.replaceState(j,"",_e)}else{const se={...P.extras.state,...this.generateNgRouterState(P.id,this.browserPageId+1)};this.location.go(j,"",se)}}restoreHistory(D,P=!1){if("computed"===this.canceledNavigationResolution){const se=this.currentPageId-this.browserPageId;0!==se?this.location.historyGo(se):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===se&&(this.resetState(D),this.browserUrlTree=D.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(P&&this.resetState(D),this.resetUrlToCurrentUrlTree())}resetState(D){this.routerState=D.currentRouterState,this.currentUrlTree=D.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,D.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(D,P){return"computed"===this.canceledNavigationResolution?{navigationId:D,\u0275routerPageId:P}:{navigationId:D}}static#e=this.\u0275fac=function(P){return new(P||C)};static#t=this.\u0275prov=w.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();function ec(C){return!(C instanceof Oo||C instanceof Ds)}let Ni=(()=>{class C{constructor(D,P,j,se,_e,ze){this.router=D,this.route=P,this.tabIndexAttribute=j,this.renderer=se,this.el=_e,this.locationStrategy=ze,this.href=null,this.commands=null,this.onChanges=new Rn.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Ge=_e.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Ge||"area"===Ge,this.isAnchorElement?this.subscription=D.events.subscribe(Wt=>{Wt instanceof Ps&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(D){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",D)}ngOnChanges(D){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(D){null!=D?(this.commands=Array.isArray(D)?D:[D],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(D,P,j,se,_e){return!!(null===this.urlTree||this.isAnchorElement&&(0!==D||P||j||se||_e||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const D=null===this.href?null:(0,w.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",D)}applyAttributeValue(D,P){const j=this.renderer,se=this.el.nativeElement;null!==P?j.setAttribute(se,D,P):j.removeAttribute(se,D)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(P){return new(P||C)(w.Y36(Us),w.Y36(sr),w.$8M("tabindex"),w.Y36(w.Qsj),w.Y36(w.SBq),w.Y36(dt.S$))};static#t=this.\u0275dir=w.lG2({type:C,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(P,j){1&P&&w.NdJ("click",function(_e){return j.onClick(_e.button,_e.ctrlKey,_e.shiftKey,_e.altKey,_e.metaKey)}),2&P&&w.uIk("target",j.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",w.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",w.VuI],replaceUrl:["replaceUrl","replaceUrl",w.VuI],routerLink:"routerLink"},standalone:!0,features:[w.Xq5,w.TTD]})}return C})();class Th{}let Eh=(()=>{class C{constructor(D,P,j,se,_e){this.router=D,this.injector=j,this.preloadingStrategy=se,this.loader=_e}setUpPreloading(){this.subscription=this.router.events.pipe((0,dr.h)(D=>D instanceof Ps),bt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(D,P){const j=[];for(const se of P){se.providers&&!se._injector&&(se._injector=(0,w.MMx)(se.providers,D,`Route: ${se.path}`));const _e=se._injector??D,ze=se._loadedInjector??_e;(se.loadChildren&&!se._loadedRoutes&&void 0===se.canLoad||se.loadComponent&&!se._loadedComponent)&&j.push(this.preloadConfig(_e,se)),(se.children||se._loadedRoutes)&&j.push(this.processRoutes(ze,se.children??se._loadedRoutes))}return(0,de.D)(j).pipe((0,De.J)())}preloadConfig(D,P){return this.preloadingStrategy.preload(P,()=>{let j;j=P.loadChildren&&void 0===P.canLoad?this.loader.loadChildren(D,P):(0,fe.of)(null);const se=j.pipe((0,ke.z)(_e=>null===_e?(0,fe.of)(void 0):(P._loadedRoutes=_e.routes,P._loadedInjector=_e.injector,this.processRoutes(_e.injector??D,_e.routes))));if(P.loadComponent&&!P._loadedComponent){const _e=this.loader.loadComponent(P);return(0,de.D)([se,_e]).pipe((0,De.J)())}return se})}static#e=this.\u0275fac=function(P){return new(P||C)(w.LFG(Us),w.LFG(w.Sil),w.LFG(w.lqb),w.LFG(Th),w.LFG(jn))};static#t=this.\u0275prov=w.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();const Ii=new w.OlP("");let La=(()=>{class C{constructor(D,P,j,se,_e={}){this.urlSerializer=D,this.transitions=P,this.viewportScroller=j,this.zone=se,this.options=_e,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},_e.scrollPositionRestoration=_e.scrollPositionRestoration||"disabled",_e.anchorScrolling=_e.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(D=>{D instanceof li?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=D.navigationTrigger,this.restoredId=D.restoredState?D.restoredState.navigationId:0):D instanceof Ps?(this.lastId=D.id,this.scheduleScrollEvent(D,this.urlSerializer.parse(D.urlAfterRedirects).fragment)):D instanceof Zs&&0===D.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(D,this.urlSerializer.parse(D.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(D=>{D instanceof da&&(D.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(D.position):D.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(D.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(D,P){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new da(D,"popstate"===this.lastSource?this.store[this.restoredId]:null,P))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(P){w.$Z()};static#t=this.\u0275prov=w.Yz7({token:C,factory:C.\u0275fac})}return C})();function mn(C,x){return{\u0275kind:C,\u0275providers:x}}function Ol(){const C=(0,w.f3M)(w.zs3);return x=>{const D=C.get(w.z2F);if(x!==D.components[0])return;const P=C.get(Us),j=C.get(Ml);1===C.get(_a)&&P.initialNavigation(),C.get(su,null,w.XFs.Optional)?.setUpPreloading(),C.get(Ii,null,w.XFs.Optional)?.init(),P.resetRootComponentType(D.componentTypes[0]),j.closed||(j.next(),j.complete(),j.unsubscribe())}}const Ml=new w.OlP("",{factory:()=>new Rn.x}),_a=new w.OlP("",{providedIn:"root",factory:()=>1}),su=new w.OlP("");function ou(C){return mn(0,[{provide:su,useExisting:Eh},{provide:Th,useExisting:C}])}const dl=new w.OlP("ROUTER_FORROOT_GUARD"),hl=[dt.Ye,{provide:Ze,useClass:It},Us,Qr,{provide:sr,useFactory:function es(C){return C.routerState.root},deps:[Us]},jn,[]];function bo(){return new w.PXZ("Router",Us)}let cu=(()=>{class C{constructor(D){}static forRoot(D,P){return{ngModule:C,providers:[hl,[],{provide:or,multi:!0,useValue:D},{provide:dl,useFactory:Ba,deps:[[Us,new w.FiY,new w.tp0]]},{provide:Gc,useValue:P||{}},P?.useHash?{provide:dt.S$,useClass:dt.Do}:{provide:dt.S$,useClass:dt.b0},{provide:Ii,useFactory:()=>{const C=(0,w.f3M)(dt.EM),x=(0,w.f3M)(w.R0b),D=(0,w.f3M)(Gc),P=(0,w.f3M)(yi),j=(0,w.f3M)(Ze);return D.scrollOffset&&C.setOffset(D.scrollOffset),new La(j,P,C,x,D)}},P?.preloadingStrategy?ou(P.preloadingStrategy).\u0275providers:[],{provide:w.PXZ,multi:!0,useFactory:bo},P?.initialNavigation?Hs(P):[],P?.bindToComponentInputs?mn(8,[go,{provide:Cn,useExisting:go}]).\u0275providers:[],[{provide:Po,useFactory:Ol},{provide:w.tb,multi:!0,useExisting:Po}]]}}static forChild(D){return{ngModule:C,providers:[{provide:or,multi:!0,useValue:D}]}}static#e=this.\u0275fac=function(P){return new(P||C)(w.LFG(dl,8))};static#t=this.\u0275mod=w.oAB({type:C});static#n=this.\u0275inj=w.cJS({})}return C})();function Ba(C){return"guarded"}function Hs(C){return["disabled"===C.initialNavigation?mn(3,[{provide:w.ip1,multi:!0,useFactory:()=>{const x=(0,w.f3M)(Us);return()=>{x.setUpLocationChangeListener()}}},{provide:_a,useValue:2}]).\u0275providers:[],"enabledBlocking"===C.initialNavigation?mn(2,[{provide:_a,useValue:0},{provide:w.ip1,multi:!0,deps:[w.zs3],useFactory:x=>{const D=x.get(dt.V_,Promise.resolve());return()=>D.then(()=>new Promise(P=>{const j=x.get(Us),se=x.get(Ml);ll(j,()=>{P(!0)}),x.get(yi).afterPreactivation=()=>(P(!0),se.closed?(0,fe.of)(void 0):se),j.initialNavigation()}))}}]).\u0275providers:[]]}const Po=new w.OlP("")},4303:($t,We,Q)=>{Q.d(We,{Jn:()=>hr,KN:()=>yt,Mq:()=>De,Xd:()=>Rt,ZF:()=>Fr,qX:()=>jt});var w=Q(5861),ce=Q(4537),h=Q(7879),we=Q(9058),de=Q(1878);class fe{constructor(Ce){this.container=Ce}getPlatformInfoString(){return this.container.getProviders().map(Ze=>{if(function Oe(tt){const Ce=tt.getComponent();return"VERSION"===Ce?.type}(Ze)){const It=Ze.getImmediate();return`${It.library}/${It.version}`}return null}).filter(Ze=>Ze).join(" ")}}const He="@firebase/app",re=new h.Yd("@firebase/app"),ke="[DEFAULT]",$e={[He]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Je=new Map,Ve=new Map;function nt(tt,Ce){try{tt.container.addComponent(Ce)}catch(Ze){re.debug(`Component ${Ce.name} failed to register with FirebaseApp ${tt.name}`,Ze)}}function Rt(tt){const Ce=tt.name;if(Ve.has(Ce))return re.debug(`There were multiple attempts to register component ${Ce}.`),!1;Ve.set(Ce,tt);for(const Ze of Je.values())nt(Ze,tt);return!0}function jt(tt,Ce){const Ze=tt.container.getProvider("heartbeat").getImmediate({optional:!0});return Ze&&Ze.triggerHeartbeat(),tt.container.getProvider(Ce)}const Dt=new we.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class $n{constructor(Ce,Ze,It){this._isDeleted=!1,this._options=Object.assign({},Ce),this._config=Object.assign({},Ze),this._name=Ze.name,this._automaticDataCollectionEnabled=Ze.automaticDataCollectionEnabled,this._container=It,this.container.addComponent(new ce.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ce){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ce}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ce){this._isDeleted=Ce}checkDestroyed(){if(this.isDeleted)throw Dt.create("app-deleted",{appName:this._name})}}const hr="10.9.0";function Fr(tt,Ce={}){let Ze=tt;"object"!=typeof Ce&&(Ce={name:Ce});const It=Object.assign({name:ke,automaticDataCollectionEnabled:!1},Ce),qt=It.name;if("string"!=typeof qt||!qt)throw Dt.create("bad-app-name",{appName:String(qt)});if(Ze||(Ze=(0,we.aH)()),!Ze)throw Dt.create("no-options");const Zt=Je.get(qt);if(Zt){if((0,we.vZ)(Ze,Zt.options)&&(0,we.vZ)(It,Zt.config))return Zt;throw Dt.create("duplicate-app",{appName:qt})}const Un=new ce.H0(qt);for(const V of Ve.values())Un.addComponent(V);const K=new $n(Ze,It,Un);return Je.set(qt,K),K}function De(tt=ke){const Ce=Je.get(tt);if(!Ce&&tt===ke&&(0,we.aH)())return Fr();if(!Ce)throw Dt.create("no-app",{appName:tt});return Ce}function yt(tt,Ce,Ze){var It;let qt=null!==(It=$e[tt])&&void 0!==It?It:tt;Ze&&(qt+=`-${Ze}`);const Zt=qt.match(/\s|\//),Un=Ce.match(/\s|\//);if(Zt||Un){const K=[`Unable to register library "${qt}" with version "${Ce}":`];return Zt&&K.push(`library name "${qt}" contains illegal characters (whitespace or "/")`),Zt&&Un&&K.push("and"),Un&&K.push(`version name "${Ce}" contains illegal characters (whitespace or "/")`),void re.warn(K.join(" "))}Rt(new ce.wA(`${qt}-version`,()=>({library:qt,version:Ce}),"VERSION"))}const En="firebase-heartbeat-database",on=1,Qt="firebase-heartbeat-store";let bn=null;function Zn(){return bn||(bn=(0,de.X3)(En,on,{upgrade:(tt,Ce)=>{if(0===Ce)try{tt.createObjectStore(Qt)}catch(Ze){console.warn(Ze)}}}).catch(tt=>{throw Dt.create("idb-open",{originalErrorMessage:tt.message})})),bn}function Cr(){return(Cr=(0,w.Z)(function*(tt){try{const Ze=(yield Zn()).transaction(Qt),It=yield Ze.objectStore(Qt).get(rr(tt));return yield Ze.done,It}catch(Ce){if(Ce instanceof we.ZR)re.warn(Ce.message);else{const Ze=Dt.create("idb-get",{originalErrorMessage:Ce?.message});re.warn(Ze.message)}}})).apply(this,arguments)}function br(tt,Ce){return gn.apply(this,arguments)}function gn(){return(gn=(0,w.Z)(function*(tt,Ce){try{const It=(yield Zn()).transaction(Qt,"readwrite");yield It.objectStore(Qt).put(Ce,rr(tt)),yield It.done}catch(Ze){if(Ze instanceof we.ZR)re.warn(Ze.message);else{const It=Dt.create("idb-set",{originalErrorMessage:Ze?.message});re.warn(It.message)}}})).apply(this,arguments)}function rr(tt){return`${tt.name}!${tt.options.appId}`}class Gn{constructor(Ce){this.container=Ce,this._heartbeatsCache=null;const Ze=this.container.getProvider("app").getImmediate();this._storage=new Kn(Ze),this._heartbeatsCachePromise=this._storage.read().then(It=>(this._heartbeatsCache=It,It))}triggerHeartbeat(){var Ce=this;return(0,w.Z)(function*(){var Ze,It;const Zt=Ce.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Un=hi();if((null!=(null===(Ze=Ce._heartbeatsCache)||void 0===Ze?void 0:Ze.heartbeats)||(Ce._heartbeatsCache=yield Ce._heartbeatsCachePromise,null!=(null===(It=Ce._heartbeatsCache)||void 0===It?void 0:It.heartbeats)))&&Ce._heartbeatsCache.lastSentHeartbeatDate!==Un&&!Ce._heartbeatsCache.heartbeats.some(K=>K.date===Un))return Ce._heartbeatsCache.heartbeats.push({date:Un,agent:Zt}),Ce._heartbeatsCache.heartbeats=Ce._heartbeatsCache.heartbeats.filter(K=>{const V=new Date(K.date).valueOf();return Date.now()-V<=2592e6}),Ce._storage.overwrite(Ce._heartbeatsCache)})()}getHeartbeatsHeader(){var Ce=this;return(0,w.Z)(function*(){var Ze;if(null===Ce._heartbeatsCache&&(yield Ce._heartbeatsCachePromise),null==(null===(Ze=Ce._heartbeatsCache)||void 0===Ze?void 0:Ze.heartbeats)||0===Ce._heartbeatsCache.heartbeats.length)return"";const It=hi(),{heartbeatsToSend:qt,unsentEntries:Zt}=function Nn(tt,Ce=1024){const Ze=[];let It=tt.slice();for(const qt of tt){const Zt=Ze.find(Un=>Un.agent===qt.agent);if(Zt){if(Zt.dates.push(qt.date),Or(Ze)>Ce){Zt.dates.pop();break}}else if(Ze.push({agent:qt.agent,dates:[qt.date]}),Or(Ze)>Ce){Ze.pop();break}It=It.slice(1)}return{heartbeatsToSend:Ze,unsentEntries:It}}(Ce._heartbeatsCache.heartbeats),Un=(0,we.L)(JSON.stringify({version:2,heartbeats:qt}));return Ce._heartbeatsCache.lastSentHeartbeatDate=It,Zt.length>0?(Ce._heartbeatsCache.heartbeats=Zt,yield Ce._storage.overwrite(Ce._heartbeatsCache)):(Ce._heartbeatsCache.heartbeats=[],Ce._storage.overwrite(Ce._heartbeatsCache)),Un})()}}function hi(){return(new Date).toISOString().substring(0,10)}class Kn{constructor(Ce){this.app=Ce,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,w.Z)(function*(){return!!(0,we.hl)()&&(0,we.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ce=this;return(0,w.Z)(function*(){if(yield Ce._canUseIndexedDBPromise){const It=yield function en(tt){return Cr.apply(this,arguments)}(Ce.app);return It?.heartbeats?It:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(Ce){var Ze=this;return(0,w.Z)(function*(){var It;if(yield Ze._canUseIndexedDBPromise){const Zt=yield Ze.read();return br(Ze.app,{lastSentHeartbeatDate:null!==(It=Ce.lastSentHeartbeatDate)&&void 0!==It?It:Zt.lastSentHeartbeatDate,heartbeats:Ce.heartbeats})}})()}add(Ce){var Ze=this;return(0,w.Z)(function*(){var It;if(yield Ze._canUseIndexedDBPromise){const Zt=yield Ze.read();return br(Ze.app,{lastSentHeartbeatDate:null!==(It=Ce.lastSentHeartbeatDate)&&void 0!==It?It:Zt.lastSentHeartbeatDate,heartbeats:[...Zt.heartbeats,...Ce.heartbeats]})}})()}}function Or(tt){return(0,we.L)(JSON.stringify({version:2,heartbeats:tt})).length}!function fi(tt){Rt(new ce.wA("platform-logger",Ce=>new fe(Ce),"PRIVATE")),Rt(new ce.wA("heartbeat",Ce=>new Gn(Ce),"PRIVATE")),yt(He,"0.9.29",tt),yt(He,"0.9.29","esm2017"),yt("fire-js","")}("")},4537:($t,We,Q)=>{Q.d(We,{H0:()=>He,wA:()=>h});var w=Q(5861),ce=Q(9058);class h{constructor(re,le,Se){this.name=re,this.instanceFactory=le,this.type=Se,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(re){return this.instantiationMode=re,this}setMultipleInstances(re){return this.multipleInstances=re,this}setServiceProps(re){return this.serviceProps=re,this}setInstanceCreatedCallback(re){return this.onInstanceCreated=re,this}}const we="[DEFAULT]";class de{constructor(re,le){this.name=re,this.container=le,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(re){const le=this.normalizeInstanceIdentifier(re);if(!this.instancesDeferred.has(le)){const Se=new ce.BH;if(this.instancesDeferred.set(le,Se),this.isInitialized(le)||this.shouldAutoInitialize())try{const et=this.getOrInitializeService({instanceIdentifier:le});et&&Se.resolve(et)}catch{}}return this.instancesDeferred.get(le).promise}getImmediate(re){var le;const Se=this.normalizeInstanceIdentifier(re?.identifier),et=null!==(le=re?.optional)&&void 0!==le&&le;if(!this.isInitialized(Se)&&!this.shouldAutoInitialize()){if(et)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Se})}catch(Pe){if(et)return null;throw Pe}}getComponent(){return this.component}setComponent(re){if(re.name!==this.name)throw Error(`Mismatching Component ${re.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=re,this.shouldAutoInitialize()){if(function Oe(Ee){return"EAGER"===Ee.instantiationMode}(re))try{this.getOrInitializeService({instanceIdentifier:we})}catch{}for(const[le,Se]of this.instancesDeferred.entries()){const et=this.normalizeInstanceIdentifier(le);try{const Pe=this.getOrInitializeService({instanceIdentifier:et});Se.resolve(Pe)}catch{}}}}clearInstance(re=we){this.instancesDeferred.delete(re),this.instancesOptions.delete(re),this.instances.delete(re)}delete(){var re=this;return(0,w.Z)(function*(){const le=Array.from(re.instances.values());yield Promise.all([...le.filter(Se=>"INTERNAL"in Se).map(Se=>Se.INTERNAL.delete()),...le.filter(Se=>"_delete"in Se).map(Se=>Se._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(re=we){return this.instances.has(re)}getOptions(re=we){return this.instancesOptions.get(re)||{}}initialize(re={}){const{options:le={}}=re,Se=this.normalizeInstanceIdentifier(re.instanceIdentifier);if(this.isInitialized(Se))throw Error(`${this.name}(${Se}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const et=this.getOrInitializeService({instanceIdentifier:Se,options:le});for(const[Pe,it]of this.instancesDeferred.entries())Se===this.normalizeInstanceIdentifier(Pe)&&it.resolve(et);return et}onInit(re,le){var Se;const et=this.normalizeInstanceIdentifier(le),Pe=null!==(Se=this.onInitCallbacks.get(et))&&void 0!==Se?Se:new Set;Pe.add(re),this.onInitCallbacks.set(et,Pe);const it=this.instances.get(et);return it&&re(it,et),()=>{Pe.delete(re)}}invokeOnInitCallbacks(re,le){const Se=this.onInitCallbacks.get(le);if(Se)for(const et of Se)try{et(re,le)}catch{}}getOrInitializeService({instanceIdentifier:re,options:le={}}){let Se=this.instances.get(re);if(!Se&&this.component&&(Se=this.component.instanceFactory(this.container,{instanceIdentifier:(Ee=re,Ee===we?void 0:Ee),options:le}),this.instances.set(re,Se),this.instancesOptions.set(re,le),this.invokeOnInitCallbacks(Se,re),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,re,Se)}catch{}var Ee;return Se||null}normalizeInstanceIdentifier(re=we){return this.component?this.component.multipleInstances?re:we:re}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class He{constructor(re){this.name=re,this.providers=new Map}addComponent(re){const le=this.getProvider(re.name);if(le.isComponentSet())throw new Error(`Component ${re.name} has already been registered with ${this.name}`);le.setComponent(re)}addOrOverwriteComponent(re){this.getProvider(re.name).isComponentSet()&&this.providers.delete(re.name),this.addComponent(re)}getProvider(re){if(this.providers.has(re))return this.providers.get(re);const le=new de(re,this);return this.providers.set(re,le),le}getProviders(){return Array.from(this.providers.values())}}},7879:($t,We,Q)=>{Q.d(We,{Yd:()=>Oe,in:()=>ce});const w=[];var ce=function(re){return re[re.DEBUG=0]="DEBUG",re[re.VERBOSE=1]="VERBOSE",re[re.INFO=2]="INFO",re[re.WARN=3]="WARN",re[re.ERROR=4]="ERROR",re[re.SILENT=5]="SILENT",re}(ce||{});const h={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},we=ce.INFO,de={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},fe=(re,le,...Se)=>{if(le<re.logLevel)return;const et=(new Date).toISOString(),Pe=de[le];if(!Pe)throw new Error(`Attempted to log a message with an invalid logType (value: ${le})`);console[Pe](`[${et}]  ${re.name}:`,...Se)};class Oe{constructor(le){this.name=le,this._logLevel=we,this._logHandler=fe,this._userLogHandler=null,w.push(this)}get logLevel(){return this._logLevel}set logLevel(le){if(!(le in ce))throw new TypeError(`Invalid value "${le}" assigned to \`logLevel\``);this._logLevel=le}setLogLevel(le){this._logLevel="string"==typeof le?h[le]:le}get logHandler(){return this._logHandler}set logHandler(le){if("function"!=typeof le)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=le}get userLogHandler(){return this._userLogHandler}set userLogHandler(le){this._userLogHandler=le}debug(...le){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...le),this._logHandler(this,ce.DEBUG,...le)}log(...le){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...le),this._logHandler(this,ce.VERBOSE,...le)}info(...le){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...le),this._logHandler(this,ce.INFO,...le)}warn(...le){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...le),this._logHandler(this,ce.WARN,...le)}error(...le){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...le),this._logHandler(this,ce.ERROR,...le)}}},1878:($t,We,Q)=>{Q.d(We,{X3:()=>xt});var w=Q(5861);const ce=(ve,Qe)=>Qe.some(gt=>ve instanceof gt);let h,we;const Oe=new WeakMap,He=new WeakMap,Ee=new WeakMap,re=new WeakMap,le=new WeakMap;let Pe={get(ve,Qe,gt){if(ve instanceof IDBTransaction){if("done"===Qe)return He.get(ve);if("objectStoreNames"===Qe)return ve.objectStoreNames||Ee.get(ve);if("store"===Qe)return gt.objectStoreNames[1]?void 0:gt.objectStore(gt.objectStoreNames[0])}return Ft(ve[Qe])},set:(ve,Qe,gt)=>(ve[Qe]=gt,!0),has:(ve,Qe)=>ve instanceof IDBTransaction&&("done"===Qe||"store"===Qe)||Qe in ve};function Vt(ve){return"function"==typeof ve?function At(ve){return ve!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function fe(){return we||(we=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ve)?function(...Qe){return ve.apply(An(this),Qe),Ft(Oe.get(this))}:function(...Qe){return Ft(ve.apply(An(this),Qe))}:function(Qe,...gt){const Rn=ve.call(An(this),Qe,...gt);return Ee.set(Rn,Qe.sort?Qe.sort():[Qe]),Ft(Rn)}}(ve):(ve instanceof IDBTransaction&&function et(ve){if(He.has(ve))return;const Qe=new Promise((gt,Rn)=>{const dt=()=>{ve.removeEventListener("complete",un),ve.removeEventListener("error",In),ve.removeEventListener("abort",In)},un=()=>{gt(),dt()},In=()=>{Rn(ve.error||new DOMException("AbortError","AbortError")),dt()};ve.addEventListener("complete",un),ve.addEventListener("error",In),ve.addEventListener("abort",In)});He.set(ve,Qe)}(ve),ce(ve,function de(){return h||(h=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ve,Pe):ve)}function Ft(ve){if(ve instanceof IDBRequest)return function Se(ve){const Qe=new Promise((gt,Rn)=>{const dt=()=>{ve.removeEventListener("success",un),ve.removeEventListener("error",In)},un=()=>{gt(Ft(ve.result)),dt()},In=()=>{Rn(ve.error),dt()};ve.addEventListener("success",un),ve.addEventListener("error",In)});return Qe.then(gt=>{gt instanceof IDBCursor&&Oe.set(gt,ve)}).catch(()=>{}),le.set(Qe,ve),Qe}(ve);if(re.has(ve))return re.get(ve);const Qe=Vt(ve);return Qe!==ve&&(re.set(ve,Qe),le.set(Qe,ve)),Qe}const An=ve=>le.get(ve);function xt(ve,Qe,{blocked:gt,upgrade:Rn,blocking:dt,terminated:un}={}){const In=indexedDB.open(ve,Qe),Vn=Ft(In);return Rn&&In.addEventListener("upgradeneeded",er=>{Rn(Ft(In.result),er.oldVersion,er.newVersion,Ft(In.transaction),er)}),gt&&In.addEventListener("blocked",er=>gt(er.oldVersion,er.newVersion,er)),Vn.then(er=>{un&&er.addEventListener("close",()=>un()),dt&&er.addEventListener("versionchange",dr=>dt(dr.oldVersion,dr.newVersion,dr))}).catch(()=>{}),Vn}const ot=["get","getKey","getAll","getAllKeys","count"],vt=["put","add","delete","clear"],_t=new Map;function je(ve,Qe){if(!(ve instanceof IDBDatabase)||Qe in ve||"string"!=typeof Qe)return;if(_t.get(Qe))return _t.get(Qe);const gt=Qe.replace(/FromIndex$/,""),Rn=Qe!==gt,dt=vt.includes(gt);if(!(gt in(Rn?IDBIndex:IDBObjectStore).prototype)||!dt&&!ot.includes(gt))return;const un=function(){var In=(0,w.Z)(function*(Vn,...er){const dr=this.transaction(Vn,dt?"readwrite":"readonly");let ke=dr.store;return Rn&&(ke=ke.index(er.shift())),(yield Promise.all([ke[gt](...er),dt&&dr.done]))[0]});return function(er){return In.apply(this,arguments)}}();return _t.set(Qe,un),un}!function it(ve){Pe=ve(Pe)}(ve=>({...ve,get:(Qe,gt,Rn)=>je(Qe,gt)||ve.get(Qe,gt,Rn),has:(Qe,gt)=>!!je(Qe,gt)||ve.has(Qe,gt)}))},5861:($t,We,Q)=>{function w(h,we,de,fe,Oe,He,Ee){try{var re=h[He](Ee),le=re.value}catch(Se){return void de(Se)}re.done?we(le):Promise.resolve(le).then(fe,Oe)}function ce(h){return function(){var we=this,de=arguments;return new Promise(function(fe,Oe){var He=h.apply(we,de);function Ee(le){w(He,fe,Oe,Ee,re,"next",le)}function re(le){w(He,fe,Oe,Ee,re,"throw",le)}Ee(void 0)})}}Q.d(We,{Z:()=>ce})},7582:($t,We,Q)=>{function we(ke,$e){var Je={};for(var Ve in ke)Object.prototype.hasOwnProperty.call(ke,Ve)&&$e.indexOf(Ve)<0&&(Je[Ve]=ke[Ve]);if(null!=ke&&"function"==typeof Object.getOwnPropertySymbols){var nt=0;for(Ve=Object.getOwnPropertySymbols(ke);nt<Ve.length;nt++)$e.indexOf(Ve[nt])<0&&Object.prototype.propertyIsEnumerable.call(ke,Ve[nt])&&(Je[Ve[nt]]=ke[Ve[nt]])}return Je}function Se(ke,$e,Je,Ve){return new(Je||(Je=Promise))(function(bt,Rt){function jt(cn){try{yn(Ve.next(cn))}catch(Dt){Rt(Dt)}}function dn(cn){try{yn(Ve.throw(cn))}catch(Dt){Rt(Dt)}}function yn(cn){cn.done?bt(cn.value):function nt(bt){return bt instanceof Je?bt:new Je(function(Rt){Rt(bt)})}(cn.value).then(jt,dn)}yn((Ve=Ve.apply(ke,$e||[])).next())})}function mt(ke){return this instanceof mt?(this.v=ke,this):new mt(ke)}function ot(ke,$e,Je){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var nt,Ve=Je.apply(ke,$e||[]),bt=[];return nt={},Rt("next"),Rt("throw"),Rt("return"),nt[Symbol.asyncIterator]=function(){return this},nt;function Rt($n){Ve[$n]&&(nt[$n]=function(hr){return new Promise(function(Fr,De){bt.push([$n,hr,Fr,De])>1||jt($n,hr)})})}function jt($n,hr){try{!function dn($n){$n.value instanceof mt?Promise.resolve($n.value.v).then(yn,cn):Dt(bt[0][2],$n)}(Ve[$n](hr))}catch(Fr){Dt(bt[0][3],Fr)}}function yn($n){jt("next",$n)}function cn($n){jt("throw",$n)}function Dt($n,hr){$n(hr),bt.shift(),bt.length&&jt(bt[0][0],bt[0][1])}}function _t(ke){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Je,$e=ke[Symbol.asyncIterator];return $e?$e.call(ke):(ke=function At(ke){var $e="function"==typeof Symbol&&Symbol.iterator,Je=$e&&ke[$e],Ve=0;if(Je)return Je.call(ke);if(ke&&"number"==typeof ke.length)return{next:function(){return ke&&Ve>=ke.length&&(ke=void 0),{value:ke&&ke[Ve++],done:!ke}}};throw new TypeError($e?"Object is not iterable.":"Symbol.iterator is not defined.")}(ke),Je={},Ve("next"),Ve("throw"),Ve("return"),Je[Symbol.asyncIterator]=function(){return this},Je);function Ve(bt){Je[bt]=ke[bt]&&function(Rt){return new Promise(function(jt,dn){!function nt(bt,Rt,jt,dn){Promise.resolve(dn).then(function(yn){bt({value:yn,done:jt})},Rt)}(jt,dn,(Rt=ke[bt](Rt)).done,Rt.value)})}}}Q.d(We,{FC:()=>ot,KL:()=>_t,_T:()=>we,mG:()=>Se,qq:()=>mt}),"function"==typeof SuppressedError&&SuppressedError}},$t=>{var We=w=>$t($t.s=w);We(2614),We(7845)}]);