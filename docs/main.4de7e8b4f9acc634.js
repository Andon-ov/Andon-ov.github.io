"use strict";(self.webpackChunkThe_Natural_Way=self.webpackChunkThe_Natural_Way||[]).push([[179],{8726:(Ut,$e,Q)=>{Q.d($e,{Ot:()=>ye,ZF:()=>kt,hX:()=>Xe,z6:()=>ue});var b=Q(4097),ae=Q(9468),l=Q(6106);class ye{constructor(ot){return ot}}class ue{constructor(){return(0,b.C6)()}}const Ue=new ae.OlP("angularfire2._apps"),Ie={provide:ye,useFactory:function Ae(ft){return ft&&1===ft.length?ft[0]:new ye((0,b.Mq)())},deps:[[new ae.FiY,Ue]]},ne={provide:ue,deps:[[new ae.FiY,Ue]]};function ce(ft){return(ot,mt)=>{const pt=ot.runOutsideAngular(()=>ft(mt));return new ye(pt)}}let Ee=(()=>{class ft{constructor(mt){(0,b.KN)("angularfire",l.q4.full,"core"),(0,b.KN)("angularfire",l.q4.full,"app"),(0,b.KN)("angular",ae.q4F.full,mt.toString())}}return ft.\u0275fac=function(mt){return new(mt||ft)(ae.LFG(ae.Lbi))},ft.\u0275mod=ae.oAB({type:ft}),ft.\u0275inj=ae.cJS({providers:[Ie,ne]}),ft})();function Xe(ft,...ot){return{ngModule:Ee,providers:[{provide:Ue,useFactory:ce(ft),multi:!0,deps:[ae.R0b,ae.zs3,l.HU,...ot]}]}}const kt=(0,l.u3)(b.ZF,!0)},3477:(Ut,$e,Q)=>{Q.d($e,{gg:()=>qE,ET:()=>uA,Ab:()=>lA,vr:()=>dA,hJ:()=>hA,oe:()=>fA,JU:()=>pA,QT:()=>gA,PL:()=>mA,ad:()=>_A,b9:()=>vA,Xo:()=>yA,Cm:()=>cA,IO:()=>bA,pl:()=>IA,TQ:()=>wA,r7:()=>TA,ar:()=>EA});var b=Q(6106),ae=Q(9468),l=Q(8726),ye=Q(4097),ue=Q(5861),de=Q(229),Ae=Q(7592),Ue=Q(7582),Ie=Q(7879),ne=Q(6820);const En=function kt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Nt=new de.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ot=new Ie.Yd("@firebase/auth");function pt(n,...e){ot.logLevel<=Ie.in.ERROR&&ot.error(`Auth (${Ae.Jn}): ${n}`,...e)}function He(n,...e){throw An(n,...e)}function me(n,...e){return An(n,...e)}function An(n,...e){if("string"!=typeof n){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return Nt.create(n,...e)}function ct(n,e,...t){if(!n)throw An(e,...t)}function cn(n){const e="INTERNAL ASSERTION FAILED: "+n;throw pt(e),new Error(e)}function vn(n,e){n||cn(e)}function ur(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class Qe{constructor(e,t){this.shortDelay=e,this.longDelay=t,vn(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,de.uI)()||(0,de.b$)()}get(){return function Pe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Wn(){return"http:"===ur()||"https:"===ur()}()||(0,de.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class tt{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void cn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void cn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void cn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const _t={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ot=new Qe(3e4,6e4);function un(n,e,t,i){return pn.apply(this,arguments)}function pn(){return(pn=(0,ue.Z)(function*(n,e,t,i,a={}){return on(n,a,(0,ue.Z)(function*(){let h={},g={};i&&("GET"===e?g=i:h={body:JSON.stringify(i)});const T=(0,de.xO)(Object.assign({key:n.config.apiKey},g)).slice(1),P=yield n._getAdditionalHeaders();return P["Content-Type"]="application/json",n.languageCode&&(P["X-Firebase-Locale"]=n.languageCode),tt.fetch()(Sr(n,n.config.apiHost,t,T),Object.assign({method:e,headers:P,referrerPolicy:"no-referrer"},h))}))})).apply(this,arguments)}function on(n,e,t){return wt.apply(this,arguments)}function wt(){return(wt=(0,ue.Z)(function*(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},_t),e);try{const a=new we(n),h=yield Promise.race([t(),a.promise]);a.clearNetworkTimeout();const g=yield h.json();if("needConfirmation"in g)throw Oe(n,"account-exists-with-different-credential",g);if(h.ok&&!("errorMessage"in g))return g;{const T=h.ok?g.errorMessage:g.error.message,[P,U]=T.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===P)throw Oe(n,"credential-already-in-use",g);if("EMAIL_EXISTS"===P)throw Oe(n,"email-already-in-use",g);if("USER_DISABLED"===P)throw Oe(n,"user-disabled",g);const ee=i[P]||P.toLowerCase().replace(/[_\s]+/g,"-");if(U)throw function Ye(n,e,t){const i=Object.assign(Object.assign({},En()),{[e]:t});return new de.LL("auth","Firebase",i).create(e,{appName:n.name})}(n,ee,U);He(n,ee)}}catch(a){if(a instanceof de.ZR)throw a;He(n,"network-request-failed",{message:String(a)})}})).apply(this,arguments)}function Sr(n,e,t,i){const a=`${e}${t}?${i}`;return n.config.emulator?function Le(n,e){vn(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}(n.config,a):`${n.config.apiScheme}://${a}`}class we{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(me(this.auth,"network-request-failed")),Ot.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Oe(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=me(n,e,i);return a.customData._tokenResponse=t,a}function st(){return(st=(0,ue.Z)(function*(n,e){return un(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function bn(){return(bn=(0,ue.Z)(function*(n,e){return un(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function tn(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Hn(){return(Hn=(0,ue.Z)(function*(n,e=!1){const t=(0,de.m9)(n),i=yield t.getIdToken(e),a=yr(i);ct(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const h="object"==typeof a.firebase?a.firebase:void 0,g=h?.sign_in_provider;return{claims:a,token:i,authTime:tn(Kt(a.auth_time)),issuedAtTime:tn(Kt(a.iat)),expirationTime:tn(Kt(a.exp)),signInProvider:g||null,signInSecondFactor:h?.sign_in_second_factor||null}})).apply(this,arguments)}function Kt(n){return 1e3*Number(n)}function yr(n){const[e,t,i]=n.split(".");if(void 0===e||void 0===t||void 0===i)return pt("JWT malformed, contained fewer than 3 sections"),null;try{const a=(0,de.tV)(t);return a?JSON.parse(a):(pt("Failed to decode base64 JWT payload"),null)}catch(a){return pt("Caught error parsing JWT payload as JSON",a?.toString()),null}}function dn(n,e){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,ue.Z)(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(i){throw i instanceof de.ZR&&function Un({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})).apply(this,arguments)}class Jn{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),i}{this.errorBackoff=3e4;const a=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout((0,ue.Z)(function*(){yield t.iteration()}),i)}iteration(){var e=this;return(0,ue.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class Pn{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=tn(this.lastLoginAt),this.creationTime=tn(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ti(n){return Dn.apply(this,arguments)}function Dn(){return Dn=(0,ue.Z)(function*(n){var e;const t=n.auth,i=yield n.getIdToken(),a=yield dn(n,function hr(n,e){return bn.apply(this,arguments)}(t,{idToken:i}));ct(a?.users.length,t,"internal-error");const h=a.users[0];n._notifyReloadListener(h);const g=null!==(e=h.providerUserInfo)&&void 0!==e&&e.length?function et(n){return n.map(e=>{var{providerId:t}=e,i=(0,Ue._T)(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}(h.providerUserInfo):[],T=function ni(n,e){return[...n.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}(n.providerData,g),ee=!!n.isAnonymous&&!(n.email&&h.passwordHash||T?.length),he={uid:h.localId,displayName:h.displayName||null,photoURL:h.photoUrl||null,email:h.email||null,emailVerified:h.emailVerified||!1,phoneNumber:h.phoneNumber||null,tenantId:h.tenantId||null,providerData:T,metadata:new Pn(h.createdAt,h.lastLoginAt),isAnonymous:ee};Object.assign(n,he)}),Dn.apply(this,arguments)}function Tr(){return(Tr=(0,ue.Z)(function*(n){const e=(0,de.m9)(n);yield ti(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function qe(){return(qe=(0,ue.Z)(function*(n,e){const t=yield on(n,{},(0,ue.Z)(function*(){const i=(0,de.xO)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:h}=n.config,g=Sr(n,a,"/v1/token",`key=${h}`),T=yield n._getAdditionalHeaders();return T["Content-Type"]="application/x-www-form-urlencoded",tt.fetch()(g,{method:"POST",headers:T,body:i})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class bt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ct(e.idToken,"internal-error"),ct(typeof e.idToken<"u","internal-error"),ct(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function fr(n){const e=yr(n);return ct(e,"internal-error"),ct(typeof e.exp<"u","internal-error"),ct(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var i=this;return(0,ue.Z)(function*(){return ct(!i.accessToken||i.refreshToken,e,"user-token-expired"),t||!i.accessToken||i.isExpired?i.refreshToken?(yield i.refresh(e,i.refreshToken),i.accessToken):null:i.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var i=this;return(0,ue.Z)(function*(){const{accessToken:a,refreshToken:h,expiresIn:g}=yield function Te(n,e){return qe.apply(this,arguments)}(e,t);i.updateTokensAndExpiration(a,h,Number(g))})()}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:h}=t,g=new bt;return i&&(ct("string"==typeof i,"internal-error",{appName:e}),g.refreshToken=i),a&&(ct("string"==typeof a,"internal-error",{appName:e}),g.accessToken=a),h&&(ct("number"==typeof h,"internal-error",{appName:e}),g.expirationTime=h),g}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bt,this.toJSON())}_performRefresh(){return cn("not implemented")}}function Wt(n,e){ct("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class qt{constructor(e){var{uid:t,auth:i,stsTokenManager:a}=e,h=(0,Ue._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Jn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=h.displayName||null,this.email=h.email||null,this.emailVerified=h.emailVerified||!1,this.phoneNumber=h.phoneNumber||null,this.photoURL=h.photoURL||null,this.isAnonymous=h.isAnonymous||!1,this.tenantId=h.tenantId||null,this.providerData=h.providerData?[...h.providerData]:[],this.metadata=new Pn(h.createdAt||void 0,h.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,ue.Z)(function*(){const i=yield dn(t,t.stsTokenManager.getToken(t.auth,e));return ct(i,t.auth,"internal-error"),t.accessToken!==i&&(t.accessToken=i,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),i})()}getIdTokenResult(e){return function mn(n){return Hn.apply(this,arguments)}(this,e)}reload(){return function Gn(n){return Tr.apply(this,arguments)}(this)}_assign(e){this!==e&&(ct(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new qt(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ct(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var i=this;return(0,ue.Z)(function*(){let a=!1;e.idToken&&e.idToken!==i.stsTokenManager.accessToken&&(i.stsTokenManager.updateFromServerResponse(e),a=!0),t&&(yield ti(i)),yield i.auth._persistUserIfCurrent(i),a&&i.auth._notifyListenersIfCurrent(i)})()}delete(){var e=this;return(0,ue.Z)(function*(){const t=yield e.getIdToken();return yield dn(e,function xe(n,e){return st.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,a,h,g,T,P,U,ee;const he=null!==(i=t.displayName)&&void 0!==i?i:void 0,Fe=null!==(a=t.email)&&void 0!==a?a:void 0,at=null!==(h=t.phoneNumber)&&void 0!==h?h:void 0,Mt=null!==(g=t.photoURL)&&void 0!==g?g:void 0,Xt=null!==(T=t.tenantId)&&void 0!==T?T:void 0,nn=null!==(P=t._redirectEventId)&&void 0!==P?P:void 0,vr=null!==(U=t.createdAt)&&void 0!==U?U:void 0,$r=null!==(ee=t.lastLoginAt)&&void 0!==ee?ee:void 0,{uid:Cr,emailVerified:Rs,isAnonymous:hs,providerData:xi,stsTokenManager:bc}=t;ct(Cr&&bc,e,"internal-error");const Zf=bt.fromJSON(this.name,bc);ct("string"==typeof Cr,e,"internal-error"),Wt(he,e.name),Wt(Fe,e.name),ct("boolean"==typeof Rs,e,"internal-error"),ct("boolean"==typeof hs,e,"internal-error"),Wt(at,e.name),Wt(Mt,e.name),Wt(Xt,e.name),Wt(nn,e.name),Wt(vr,e.name),Wt($r,e.name);const R0=new qt({uid:Cr,auth:e,email:Fe,emailVerified:Rs,displayName:he,isAnonymous:hs,photoURL:Mt,phoneNumber:at,tenantId:Xt,stsTokenManager:Zf,createdAt:vr,lastLoginAt:$r});return xi&&Array.isArray(xi)&&(R0.providerData=xi.map(DA=>Object.assign({},DA))),nn&&(R0._redirectEventId=nn),R0}static _fromIdTokenResponse(e,t,i=!1){return(0,ue.Z)(function*(){const a=new bt;a.updateFromServerResponse(t);const h=new qt({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return yield ti(h),h})()}}const kn=new Map;function K(n){vn(n instanceof Function,"Expected a class definition");let e=kn.get(n);return e?(vn(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,kn.set(n,e),e)}const H=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,ue.Z)(function*(){return!0})()}_set(t,i){var a=this;return(0,ue.Z)(function*(){a.storage[t]=i})()}_get(t){var i=this;return(0,ue.Z)(function*(){const a=i.storage[t];return void 0===a?null:a})()}_remove(t){var i=this;return(0,ue.Z)(function*(){delete i.storage[t]})()}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})();function W(n,e,t){return`firebase:${n}:${e}:${t}`}class j{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:h}=this.auth;this.fullUserKey=W(this.userKey,a.apiKey,h),this.fullPersistenceKey=W("persistence",a.apiKey,h),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,ue.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?qt._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,ue.Z)(function*(){if(t.persistence===e)return;const i=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,i?t.setCurrentUser(i):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return(0,ue.Z)(function*(){if(!t.length)return new j(K(H),e,i);const a=(yield Promise.all(t.map(function(){var U=(0,ue.Z)(function*(ee){if(yield ee._isAvailable())return ee});return function(ee){return U.apply(this,arguments)}}()))).filter(U=>U);let h=a[0]||K(H);const g=W(i,e.config.apiKey,e.name);let T=null;for(const U of t)try{const ee=yield U._get(g);if(ee){const he=qt._fromJSON(e,ee);U!==h&&(T=he),h=U;break}}catch{}const P=a.filter(U=>U._shouldAllowMigration);return h._shouldAllowMigration&&P.length?(h=P[0],T&&(yield h._set(g,T.toJSON())),yield Promise.all(t.map(function(){var U=(0,ue.Z)(function*(ee){if(ee!==h)try{yield ee._remove(g)}catch{}});return function(ee){return U.apply(this,arguments)}}())),new j(h,e,i)):new j(h,e,i)})()}}function _e(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function sn(n=(0,de.z$)()){return/iemobile/i.test(n)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function ze(n=(0,de.z$)()){return/firefox\//i.test(n)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function $t(n=(0,de.z$)()){return/blackberry/i.test(n)}(e))return"Blackberry";if(function Nn(n=(0,de.z$)()){return/webos/i.test(n)}(e))return"Webos";if(function It(n=(0,de.z$)()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function en(n=(0,de.z$)()){return/crios\//i.test(n)}(e))&&!e.includes("edge/"))return"Chrome";if(function Tn(n=(0,de.z$)()){return/android/i.test(n)}(e))return"Android";{const i=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===i?.length)return i[1]}return"Other"}function po(n,e=[]){let t;switch(n){case"Browser":t=_e((0,de.z$)());break;case"Worker":t=`${_e((0,de.z$)())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ae.Jn}/${i}`}function Ji(n,e){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,ue.Z)(function*(n,e){return un(n,"GET","/v2/recaptchaConfig",function Bt(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}(n,e))})).apply(this,arguments)}function Vn(n){return void 0!==n&&void 0!==n.enterprise}class To{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}class Eo{constructor(e){this.type="recaptcha-enterprise",this.auth=Kr(e)}verify(e="verify",t=!1){var i=this;return(0,ue.Z)(function*(){function h(){return h=(0,ue.Z)(function*(T){if(!t){if(null==T.tenantId&&null!=T._agentRecaptchaConfig)return T._agentRecaptchaConfig.siteKey;if(null!=T.tenantId&&void 0!==T._tenantRecaptchaConfigs[T.tenantId])return T._tenantRecaptchaConfigs[T.tenantId].siteKey}return new Promise(function(){var P=(0,ue.Z)(function*(U,ee){Ji(T,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(he=>{if(void 0!==he.recaptchaKey){const Fe=new To(he);return null==T.tenantId?T._agentRecaptchaConfig=Fe:T._tenantRecaptchaConfigs[T.tenantId]=Fe,U(Fe.siteKey)}ee(new Error("recaptcha Enterprise site key undefined"))}).catch(he=>{ee(he)})});return function(U,ee){return P.apply(this,arguments)}}())}),h.apply(this,arguments)}function g(T,P,U){const ee=window.grecaptcha;Vn(ee)?ee.enterprise.ready(()=>{ee.enterprise.execute(T,{action:e}).then(he=>{P(he)}).catch(()=>{P("NO_RECAPTCHA")})}):U(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((T,P)=>{(function a(T){return h.apply(this,arguments)})(i.auth).then(U=>{if(!t&&Vn(window.grecaptcha))g(U,T,P);else{if(typeof window>"u")return void P(new Error("RecaptchaVerifier is only supported in browser"));(function fs(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=a=>{const h=me("internal-error");h.customData=a,t(h)},i.type="text/javascript",i.charset="UTF-8",function Go(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(i)})})("https://www.google.com/recaptcha/enterprise.js?render="+U).then(()=>{g(U,T,P)}).catch(ee=>{P(ee)})}}).catch(U=>{P(U)})})})()}}class Gi{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=h=>new Promise((g,T)=>{try{g(e(h))}catch(P){T(P)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return(0,ue.Z)(function*(){if(t.auth.currentUser===e)return;const i=[];try{for(const a of t.queue)yield a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const h of i)try{h()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}})()}}class ka{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Da(this),this.idTokenSubscription=new Da(this),this.beforeStateQueue=new Gi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Nt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(e,t){var i=this;return t&&(this._popupRedirectResolver=K(t)),this._initializationPromise=this.queue((0,ue.Z)(function*(){var a,h;if(!i._deleted&&(i.persistenceManager=yield j.create(i,e),!i._deleted)){if(null!==(a=i._popupRedirectResolver)&&void 0!==a&&a._shouldInitProactively)try{yield i._popupRedirectResolver._initialize(i)}catch{}yield i.initializeCurrentUser(t),i.lastNotifiedUid=(null===(h=i.currentUser)||void 0===h?void 0:h.uid)||null,!i._deleted&&(i._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,ue.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return(0,ue.Z)(function*(){var i;const a=yield t.assertedPersistence.getCurrentUser();let h=a,g=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const T=null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId,P=h?._redirectEventId,U=yield t.tryRedirectSignIn(e);(!T||T===P)&&U?.user&&(h=U.user,g=!0)}if(!h)return t.directlySetCurrentUser(null);if(!h._redirectEventId){if(g)try{yield t.beforeStateQueue.runMiddleware(h)}catch(T){h=a,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(T))}return h?t.reloadAndSetCurrentUserOrClear(h):t.directlySetCurrentUser(null)}return ct(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===h._redirectEventId?t.directlySetCurrentUser(h):t.reloadAndSetCurrentUserOrClear(h)})()}tryRedirectSignIn(e){var t=this;return(0,ue.Z)(function*(){let i=null;try{i=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return i})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,ue.Z)(function*(){try{yield ti(e)}catch(i){if("auth/network-request-failed"!==i?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Ge(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return(0,ue.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,ue.Z)(function*(){const i=e?(0,de.m9)(e):null;return i&&ct(i.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(i&&i._clone(t))})()}_updateCurrentUser(e,t=!1){var i=this;return(0,ue.Z)(function*(){if(!i._deleted)return e&&ct(i.tenantId===e.tenantId,i,"tenant-id-mismatch"),t||(yield i.beforeStateQueue.runMiddleware(e)),i.queue((0,ue.Z)(function*(){yield i.directlySetCurrentUser(e),i.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,ue.Z)(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue((0,ue.Z)(function*(){yield t.assertedPersistence.setPersistence(K(e))}))}initializeRecaptchaConfig(){var e=this;return(0,ue.Z)(function*(){const t=yield Ji(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),i=new To(t);null==e.tenantId?e._agentRecaptchaConfig=i:e._tenantRecaptchaConfigs[e.tenantId]=i,i.emailPasswordEnabled&&new Eo(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new de.LL("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var i=this;return(0,ue.Z)(function*(){const a=yield i.getOrInitRedirectPersistenceManager(t);return null===e?a.removeCurrentUser():a.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,ue.Z)(function*(){if(!t.redirectPersistenceManager){const i=e&&K(e)||t._popupRedirectResolver;ct(i,t,"argument-error"),t.redirectPersistenceManager=yield j.create(t,[K(i._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,ue.Z)(function*(){var i,a;return t._isInitialized&&(yield t.queue((0,ue.Z)(function*(){}))),(null===(i=t._currentUser)||void 0===i?void 0:i._redirectEventId)===e?t._currentUser:(null===(a=t.redirectUser)||void 0===a?void 0:a._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,ue.Z)(function*(){if(e===t.currentUser)return t.queue((0,ue.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const h="function"==typeof t?t:t.next.bind(t),g=this._isInitialized?Promise.resolve():this._initializationPromise;return ct(g,this,"internal-error"),g.then(()=>h(this.currentUser)),"function"==typeof t?e.addObserver(t,i,a):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return(0,ue.Z)(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ct(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=po(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,ue.Z)(function*(){var t;const i={"X-Client-Version":e.clientVersion};e.app.options.appId&&(i["X-Firebase-gmpid"]=e.app.options.appId);const a=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();a&&(i["X-Firebase-Client"]=a);const h=yield e._getAppCheckToken();return h&&(i["X-Firebase-AppCheck"]=h),i})()}_getAppCheckToken(){var e=this;return(0,ue.Z)(function*(){var t;const i=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return i?.error&&function mt(n,...e){ot.logLevel<=Ie.in.WARN&&ot.warn(`Auth (${Ae.Jn}): ${n}`,...e)}(`Error while retrieving App Check token: ${i.error}`),i?.token})()}}function Kr(n){return(0,de.m9)(n)}class Da{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,de.ne)(t=>this.observer=t)}get next(){return ct(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function ia(n){return`__${n}${Math.floor(1e6*Math.random())}`})("rcb"),new Qe(3e4,6e4),new Qe(2e3,1e4),new Qe(3e4,6e4),new Qe(5e3,15e3),encodeURIComponent("fac");var qd="@firebase/auth";class tp{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,ue.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ct(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,de.Pz)("authIdTokenMaxAge"),function rs(n){(0,Ae.Xd)(new ne.wA("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),h=e.getProvider("app-check-internal"),{apiKey:g,authDomain:T}=i.options;ct(g&&!g.includes(":"),"invalid-api-key",{appName:i.name});const P={apiKey:g,authDomain:T,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:po(n)},U=new ka(i,a,h,P);return function Do(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(K);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}(U,t),U},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),(0,Ae.Xd)(new ne.wA("auth-internal",e=>{const t=Kr(e.getProvider("auth").getImmediate());return new tp(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ae.KN)(qd,"0.23.2",function qg(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),(0,Ae.KN)(qd,"0.23.2","esm2017")}("Browser");class ip{constructor(){return(0,b.vb)("auth")}}const $h=new Map,Xd={activated:!1,tokenObservers:[]},K_={initialized:!1,enabled:!1};function co(n){return $h.get(n)||Object.assign({},Xd)}function id(){return K_}const zh="https://content-firebaseappcheck.googleapis.com/v1",Wh="exchangeDebugToken",om={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class B0{constructor(e,t,i,a,h){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=a,this.upperBound=h,this.pending=null,this.nextErrorWaitInterval=a,a>h)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ue.Z)(function*(){t.stop();try{t.pending=new de.BH,yield function Q_(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new de.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Ds=new de.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function hp(n){if(!co(n).activated)throw Ds.create("use-before-activation",{appName:n.name})}function od(n,e){return eh.apply(this,arguments)}function eh(){return(eh=(0,ue.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},a=t.getImmediate({optional:!0});if(a){const he=yield a.getHeartbeatsHeader();he&&(i["X-Firebase-Client"]=he)}const h={method:"POST",body:JSON.stringify(e),headers:i};let g,T;try{g=yield fetch(n,h)}catch(he){throw Ds.create("fetch-network-error",{originalErrorMessage:he?.message})}if(200!==g.status)throw Ds.create("fetch-status-error",{httpStatus:g.status});try{T=yield g.json()}catch(he){throw Ds.create("fetch-parse-error",{originalErrorMessage:he?.message})}const P=T.ttl.match(/^([\d.]+)(s)$/);if(!P||!P[2]||isNaN(Number(P[1])))throw Ds.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${T.ttl}`});const U=1e3*Number(P[1]),ee=Date.now();return{token:T.token,expireTimeMillis:ee+U,issuedAtTimeMillis:ee}})).apply(this,arguments)}function X_(n,e){const{projectId:t,appId:i,apiKey:a}=n.options;return{url:`${zh}/projects/${t}/apps/${i}:${Wh}?key=${a}`,body:{debug_token:e}}}const ev="firebase-app-check-database",tv=1,nh="firebase-app-check-store";let Il=null;function iv(){return(iv=(0,ue.Z)(function*(n,e){const i=(yield function fp(){return Il||(Il=new Promise((n,e)=>{try{const t=indexedDB.open(ev,tv);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var a;e(Ds.create("storage-open",{originalErrorMessage:null===(a=i.target.error)||void 0===a?void 0:a.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(nh,{keyPath:"compositeKey"})}}catch(t){e(Ds.create("storage-open",{originalErrorMessage:t?.message}))}}),Il)}()).transaction(nh,"readwrite"),h=i.objectStore(nh).put({compositeKey:n,value:e});return new Promise((g,T)=>{h.onsuccess=P=>{g()},i.onerror=P=>{var U;T(Ds.create("storage-set",{originalErrorMessage:null===(U=P.target.error)||void 0===U?void 0:U.message}))}})})).apply(this,arguments)}const Zh=new Ie.Yd("@firebase/app-check");function mp(n,e){return(0,de.hl)()?function rv(n,e){return function G0(n,e){return iv.apply(this,arguments)}(function $0(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Zh.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function _p(){return id().enabled}function cm(){return wu.apply(this,arguments)}function wu(){return(wu=(0,ue.Z)(function*(){const n=id();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Oc={error:"UNKNOWN_ERROR"};function Bi(n){return de.US.encodeString(JSON.stringify(n),!1)}function Kh(n){return sd.apply(this,arguments)}function sd(){return(sd=(0,ue.Z)(function*(n,e=!1){const t=n.app;hp(t);const i=co(t);let h,a=i.token;if(a&&!Xc(a)&&(i.token=void 0,a=void 0),!a){const P=yield i.cachedTokenPromise;P&&(Xc(P)?a=P:yield mp(t,void 0))}if(!e&&a&&Xc(a))return{token:a.token};let T,g=!1;if(_p()){i.exchangeTokenPromise||(i.exchangeTokenPromise=od(X_(t,yield cm()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),g=!0);const P=yield i.exchangeTokenPromise;return yield mp(t,P),i.token=P,{token:P.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),g=!0),a=yield co(t).exchangeTokenPromise}catch(P){"appCheck/throttled"===P.code?Zh.warn(P.message):Zh.error(P),h=P}return a?h?T=Xc(a)?{token:a.token,internalError:h}:lm(h):(T={token:a.token},i.token=a,yield mp(t,a)):T=lm(h),g&&function wl(n,e){const t=co(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}(t,T),T})).apply(this,arguments)}function vp(n){return yp.apply(this,arguments)}function yp(){return(yp=(0,ue.Z)(function*(n){const e=n.app;hp(e);const{provider:t}=co(e);if(_p()){const i=yield cm(),{token:a}=yield od(X_(e,i),n.heartbeatServiceProvider);return{token:a}}{const{token:i}=yield t.getToken();return{token:i}}})).apply(this,arguments)}function rh(n,e){const t=co(n),i=t.tokenObservers.filter(a=>a.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function um(n){const{app:e}=n,t=co(e);let i=t.tokenRefresher;i||(i=function ih(n){const{app:e}=n;return new B0((0,ue.Z)(function*(){let i;if(i=co(e).token?yield Kh(n,!0):yield Kh(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=co(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},om.RETRIAL_MIN_WAIT,om.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function Xc(n){return n.expireTimeMillis-Date.now()>0}function lm(n){return{token:Bi(Oc),error:n}}class dm{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=co(this.app);for(const t of e)rh(this.app,t.next);return Promise.resolve()}}const Q0="app-check-internal";!function dv(){(0,Ae.Xd)(new ne.wA("app-check",n=>function Ip(n,e){return new dm(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Q0).initialize()})),(0,Ae.Xd)(new ne.wA(Q0,n=>function av(n){return{getToken:e=>Kh(n,e),getLimitedUseToken:()=>vp(n),addTokenListener:e=>function bp(n,e,t,i){const{app:a}=n,h=co(a);if(h.tokenObservers=[...h.tokenObservers,{next:t,error:i,type:e}],h.token&&Xc(h.token)){const T=h.token;Promise.resolve().then(()=>{t({token:T.token}),um(n)}).catch(()=>{})}h.cachedTokenPromise.then(()=>um(n))}(n,"INTERNAL",e),removeTokenListener:e=>rh(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ae.KN)("@firebase/app-check","0.8.0")}();class Eu{constructor(){return(0,b.vb)("app-check")}}typeof window<"u"&&window;var Jt,gv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},lc={},_m=_m||{},tr=gv||self;function Cp(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function ud(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var dd="closure_uid_"+(1e9*Math.random()>>>0),vm=0;function mv(n,e,t){return n.call.apply(n.bind,arguments)}function n1(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,i),n.apply(e,a)}}return function(){return n.apply(e,arguments)}}function ga(n,e,t){return(ga=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?mv:n1).apply(null,arguments)}function Sp(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function ko(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,a,h){for(var g=Array(arguments.length-2),T=2;T<arguments.length;T++)g[T-2]=arguments[T];return e.prototype[a].apply(i,g)}}function Cl(){this.s=this.s,this.o=this.o}Cl.prototype.s=!1,Cl.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function ld(n){Object.prototype.hasOwnProperty.call(n,dd)&&n[dd]||(n[dd]=++vm)}(this)},Cl.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ap=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function ef(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function bm(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(Cp(i)){const a=n.length||0,h=i.length||0;n.length=a+h;for(let g=0;g<h;g++)n[a+g]=i[g]}else n.push(i)}}function Ki(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Ki.prototype.h=function(){this.defaultPrevented=!0};var _v=function(){if(!tr.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{tr.addEventListener("test",()=>{},e),tr.removeEventListener("test",()=>{},e)}catch{}return n}();function sh(n){return/^[\s\xa0]*$/.test(n)}function hd(){var n=tr.navigator;return n&&(n=n.userAgent)?n:""}function dc(n){return-1!=hd().indexOf(n)}function Np(n){return Np[" "](n),n}Np[" "]=function(){};var wm,n,ZI=dc("Opera"),fd=dc("Trident")||dc("MSIE"),Im=dc("Edge"),vv=Im||fd,KI=dc("Gecko")&&!(-1!=hd().toLowerCase().indexOf("webkit")&&!dc("Edge"))&&!(dc("Trident")||dc("MSIE"))&&!dc("Edge"),Op=-1!=hd().toLowerCase().indexOf("webkit")&&!dc("Edge");function tf(){var n=tr.document;return n?n.documentMode:void 0}e:{var Tm="",ah=(n=hd(),KI?/rv:([^\);]+)(\)|;)/.exec(n):Im?/Edge\/([\d\.]+)/.exec(n):fd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Op?/WebKit\/(\S+)/.exec(n):ZI?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(ah&&(Tm=ah?ah[1]:""),fd){var Em=tf();if(null!=Em&&Em>parseFloat(Tm)){wm=String(Em);break e}}wm=Tm}var r1=tr.document&&fd&&(tf()||parseInt(wm,10))||void 0;function pd(n,e){if(Ki.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(KI){e:{try{Np(e.nodeName);var a=!0;break e}catch{}a=!1}a||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:i1[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&pd.$.h.call(this)}}ko(pd,Ki);var i1={2:"touch",3:"pen",4:"mouse"};pd.prototype.h=function(){pd.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var gd="closure_listenable_"+(1e6*Math.random()|0),o1=0;function bv(n,e,t,i,a){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=a,this.key=++o1,this.fa=this.ia=!1}function xp(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Dm(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function s1(n){const e={};for(const t in n)e[t]=n[t];return e}const Cm="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Rp(n,e){let t,i;for(let a=1;a<arguments.length;a++){for(t in i=arguments[a],i)n[t]=i[t];for(let h=0;h<Cm.length;h++)t=Cm[h],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function Sm(n){this.src=n,this.g={},this.h=0}function uh(n,e){var t=e.type;if(t in n.g){var h,i=n.g[t],a=Ap(i,e);(h=0<=a)&&Array.prototype.splice.call(i,a,1),h&&(xp(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function nf(n,e,t,i){for(var a=0;a<n.length;++a){var h=n[a];if(!h.fa&&h.listener==e&&h.capture==!!t&&h.la==i)return a}return-1}Sm.prototype.add=function(n,e,t,i,a){var h=n.toString();(n=this.g[h])||(n=this.g[h]=[],this.h++);var g=nf(n,e,i,a);return-1<g?(e=n[g],t||(e.ia=!1)):((e=new bv(e,this.src,h,!!i,a)).ia=t,n.push(e)),e};var tu="closure_lm_"+(1e6*Math.random()|0),md={};function Am(n,e,t,i,a){if(i&&i.once)return wv(n,e,t,i,a);if(Array.isArray(e)){for(var h=0;h<e.length;h++)Am(n,e[h],t,i,a);return null}return t=Dv(t),n&&n[gd]?n.O(e,t,ud(i)?!!i.capture:!!i,a):Iv(n,e,t,!1,i,a)}function Iv(n,e,t,i,a,h){if(!e)throw Error("Invalid event type");var g=ud(a)?!!a.capture:!!a,T=Pp(n);if(T||(n[tu]=T=new Sm(n)),(t=T.add(e,t,i,g,h)).proxy)return t;if(i=function YI(){const e=Ev;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)_v||(a=g),void 0===a&&(a=!1),n.addEventListener(e.toString(),i,a);else if(n.attachEvent)n.attachEvent(a1(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function wv(n,e,t,i,a){if(Array.isArray(e)){for(var h=0;h<e.length;h++)wv(n,e[h],t,i,a);return null}return t=Dv(t),n&&n[gd]?n.P(e,t,ud(i)?!!i.capture:!!i,a):Iv(n,e,t,!0,i,a)}function _d(n,e,t,i,a){if(Array.isArray(e))for(var h=0;h<e.length;h++)_d(n,e[h],t,i,a);else i=ud(i)?!!i.capture:!!i,t=Dv(t),n&&n[gd]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=nf(h=n.g[e],t,i,a))&&(xp(h[t]),Array.prototype.splice.call(h,t,1),0==h.length&&(delete n.g[e],n.h--))):n&&(n=Pp(n))&&(e=n.g[e.toString()],n=-1,e&&(n=nf(e,t,i,a)),(t=-1<n?e[n]:null)&&Tv(t))}function Tv(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[gd])uh(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(a1(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=Pp(e))?(uh(t,n),0==t.h&&(t.src=null,e[tu]=null)):xp(n)}}}function a1(n){return n in md?md[n]:md[n]="on"+n}function Ev(n,e){if(n.fa)n=!0;else{e=new pd(e,this);var t=n.listener,i=n.la||n.src;n.ia&&Tv(n),n=t.call(i,e)}return n}function Pp(n){return(n=n[tu])instanceof Sm?n:null}var Nm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Dv(n){return"function"==typeof n?n:(n[Nm]||(n[Nm]=function(e){return n.handleEvent(e)}),n[Nm])}function Cs(){Cl.call(this),this.i=new Sm(this),this.S=this,this.J=null}function Ss(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new Ki(e,n);else if(e instanceof Ki)e.target=e.target||n;else{var a=e;Rp(e=new Ki(i,n),a)}if(a=!0,t)for(var h=t.length-1;0<=h;h--){var g=e.g=t[h];a=kp(g,i,!0,e)&&a}if(a=kp(g=e.g=n,i,!0,e)&&a,a=kp(g,i,!1,e)&&a,t)for(h=0;h<t.length;h++)a=kp(g=e.g=t[h],i,!1,e)&&a}function kp(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,h=0;h<e.length;++h){var g=e[h];if(g&&!g.fa&&g.capture==t){var T=g.listener,P=g.la||g.src;g.ia&&uh(n.i,g),a=!1!==T.call(P,i)&&a}}return a&&!i.defaultPrevented}ko(Cs,Cl),Cs.prototype[gd]=!0,Cs.prototype.removeEventListener=function(n,e,t,i){_d(this,n,e,t,i)},Cs.prototype.N=function(){if(Cs.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)xp(t[i]);delete n.g[e],n.h--}}this.J=null},Cs.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Cs.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var c1=tr.JSON.stringify;function JI(){var n=Fp;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Cv=new class QI{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Om,n=>n.reset());class Om{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function XI(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function Sv(n){tr.setTimeout(()=>{throw n},0)}let lh,Du=!1,Fp=new class KE{constructor(){this.h=this.g=null}add(e,t){const i=Cv.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},Mm=()=>{const n=tr.Promise.resolve(void 0);lh=()=>{n.then(Lp)}};var Lp=()=>{for(var n;n=JI();){try{n.h.call(n.g)}catch(t){Sv(t)}var e=Cv;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Du=!1};function dh(n,e){Cs.call(this),this.h=n||1,this.g=e||tr,this.j=ga(this.qb,this),this.l=Date.now()}function Zu(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Vp(n,e,t){if("function"==typeof n)t&&(n=ga(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ga(n.handleEvent,n)}return 2147483647<Number(e)?-1:tr.setTimeout(n,e||0)}function xm(n){n.g=Vp(()=>{n.g=null,n.i&&(n.i=!1,xm(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}ko(dh,Cs),(Jt=dh.prototype).ga=!1,Jt.T=null,Jt.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ss(this,"tick"),this.ga&&(Zu(this),this.start()))}},Jt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Jt.N=function(){dh.$.N.call(this),Zu(this),delete this.g};class Bp extends Cl{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:xm(this)}N(){super.N(),this.g&&(tr.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rm(n){Cl.call(this),this.h=n,this.g={}}ko(Rm,Cl);var Pm=[];function rf(n,e,t,i){Array.isArray(t)||(t&&(Pm[0]=t.toString()),t=Pm);for(var a=0;a<t.length;a++){var h=Am(e,t[a],i||n.handleEvent,!1,n.h||n);if(!h)break;n.g[h.key]=h}}function u1(n){Dm(n.g,function(e,t){this.g.hasOwnProperty(t)&&Tv(e)},n),n.g={}}function Up(){this.g=!0}function Sl(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function d1(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var a=i[1];if(Array.isArray(a)&&!(1>a.length)){var h=a[0];if("noop"!=h&&"stop"!=h&&"close"!=h)for(var g=1;g<a.length;g++)a[g]=""}}}return c1(t)}catch{return e}}(n,t)+(i?" "+i:"")})}Rm.prototype.N=function(){Rm.$.N.call(this),u1(this)},Rm.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Up.prototype.Ea=function(){this.g=!1},Up.prototype.info=function(){};var d={},w=null;function u(){return w=w||new Cs}function p(n){Ki.call(this,d.Ta,n)}function v(n){const e=u();Ss(e,new p(e))}function V(n,e){Ki.call(this,d.STAT_EVENT,n),this.stat=e}function Z(n){const e=u();Ss(e,new V(e,n))}function ve(n,e){Ki.call(this,d.Ua,n),this.size=e}function Se(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return tr.setTimeout(function(){n()},e)}d.Ta="serverreachability",ko(p,Ki),d.STAT_EVENT="statevent",ko(V,Ki),d.Ua="timingevent",ko(ve,Ki);var We={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Ze={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Vt(){}function Pt(){}Vt.prototype.h=null;var ar,jn={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Yn(){Ki.call(this,"d")}function Cn(){Ki.call(this,"c")}function nr(){}function li(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new Rm(this),this.P=Gr,this.V=new dh(n=vv?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new mr}function mr(){this.i=null,this.g="",this.h=!1}ko(Yn,Ki),ko(Cn,Ki),ko(nr,Vt),nr.prototype.g=function(){return new XMLHttpRequest},nr.prototype.i=function(){return{}},ar=new nr;var Gr=45e3,jr={},fi={};function di(n,e,t){n.L=1,n.v=Gp(Xs(e)),n.s=t,n.S=!0,Fo(n,null)}function Fo(n,e){n.G=Date.now(),Lo(n),n.A=Xs(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),lf(t.i,"t",i),n.C=0,t=n.l.J,n.h=new mr,n.g=y1(n.l,t?e:null,!n.s),0<n.O&&(n.M=new Bp(ga(n.Pa,n,n.g),n.O)),rf(n.U,n.g,"readystatechange",n.nb),e=n.I?s1(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),v(),function Av(n,e,t,i,a,h){n.info(function(){if(n.g)if(h)for(var g="",T=h.split("&"),P=0;P<T.length;P++){var U=T[P].split("=");if(1<U.length){var ee=U[0];U=U[1];var he=ee.split("_");g=2<=he.length&&"type"==he[1]?g+(ee+"=")+U+"&":g+(ee+"=redacted&")}}else g=null;else g=h;return"XMLHTTP REQ ("+i+") [attempt "+a+"]: "+e+"\n"+t+"\n"+g})}(n.j,n.u,n.A,n.m,n.W,n.s)}function uo(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function ma(n,e,t){let a,i=!0;for(;!n.J&&n.C<t.length;){if(a=ja(n,t),a==fi){4==e&&(n.o=4,Z(14),i=!1),Sl(n.j,n.m,null,"[Incomplete Response]");break}if(a==jr){n.o=4,Z(15),Sl(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Sl(n.j,n.m,a,null),vd(n,a)}uo(n)&&a!=fi&&a!=jr&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Z(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),zm(e),e.M=!0,Z(11))):(Sl(n.j,n.m,t,"[Invalid Chunked Response]"),Js(n),As(n))}function ja(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?fi:(t=Number(e.substring(t,i)),isNaN(t)?jr:(i+=1)+t>e.length?fi:(e=e.slice(i,i+t),n.C=i+t,e))}function Lo(n){n.Y=Date.now()+n.P,Al(n,n.P)}function Al(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Se(ga(n.lb,n),e)}function Cu(n){n.B&&(tr.clearTimeout(n.B),n.B=null)}function As(n){0==n.l.H||n.J||v1(n.l,n)}function Js(n){Cu(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,Zu(n.V),u1(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function vd(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||p1(t.i,n)))if(!n.K&&p1(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var a=i;if(0==a[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Yp(t),Gm(t)}Lv(t),Z(18)}}else t.Fa=a[1],0<t.Fa-t.V&&37500>a[2]&&t.G&&0==t.A&&!t.v&&(t.v=Se(ga(t.ib,t),6e3));if(1>=f1(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else pf(t,11)}else if((n.K||t.g==n)&&Yp(t),!sh(e))for(a=t.Ja.g.parse(e),e=0;e<a.length;e++){let U=a[e];if(t.V=U[0],U=U[1],2==t.H)if("c"==U[0]){t.K=U[1],t.pa=U[2];const ee=U[3];null!=ee&&(t.ra=ee,t.l.info("VER="+t.ra));const he=U[4];null!=he&&(t.Ga=he,t.l.info("SVER="+t.Ga));const Fe=U[5];null!=Fe&&"number"==typeof Fe&&0<Fe&&(t.L=i=1.5*Fe,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const at=n.g;if(at){const Mt=at.g?at.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mt){var h=i.i;h.g||-1==Mt.indexOf("spdy")&&-1==Mt.indexOf("quic")&&-1==Mt.indexOf("h2")||(h.j=h.l,h.g=new Set,h.h&&(Rv(h,h.h),h.h=null))}if(i.F){const Xt=at.g?at.g.getResponseHeader("X-HTTP-Session-Id"):null;Xt&&(i.Da=Xt,ei(i.I,i.F,Xt))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var g=n;if((i=t).wa=aw(i,i.J?i.pa:null,i.Y),g.K){df(i.i,g);var T=g,P=i.L;P&&T.setTimeout(P),T.B&&(Cu(T),Lo(T)),i.g=g}else Kp(i);0<t.j.length&&jm(t)}else"stop"!=U[0]&&"close"!=U[0]||pf(t,7);else 3==t.H&&("stop"==U[0]||"close"==U[0]?"stop"==U[0]?pf(t,7):kv(t):"noop"!=U[0]&&t.h&&t.h.Aa(U),t.A=0)}v()}catch{}}function km(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Cp(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Hp(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Cp(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function yd(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Cp(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),a=i.length,h=0;h<a;h++)e.call(void 0,i[h],t&&t[h],n)}(Jt=li.prototype).setTimeout=function(n){this.P=n},Jt.nb=function(n){n=n.target;const e=this.M;e&&3==ru(n)?e.l():this.Pa(n)},Jt.Pa=function(n){try{if(n==this.g)e:{const ee=ru(this.g);var e=this.g.Ia();if(this.g.da(),!(3>ee)&&(3!=ee||vv||this.g&&(this.h.h||this.g.ja()||_1(this.g)))){this.J||4!=ee||7==e||v(),Cu(this);var t=this.g.da();this.ca=t;t:if(uo(this)){var i=_1(this.g);n="";var a=i.length,h=4==ru(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Js(this),As(this);var g="";break t}this.h.i=new tr.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:h&&e==a-1});i.splice(0,a),this.h.g+=n,this.C=0,g=this.h.g}else g=this.g.ja();if(this.i=200==t,function l1(n,e,t,i,a,h,g){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+h+" "+g})}(this.j,this.u,this.A,this.m,this.W,ee,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var T,P=this.g;if((T=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!sh(T)){var U=T;break t}}U=null}if(!(t=U)){this.i=!1,this.o=3,Z(12),Js(this),As(this);break e}Sl(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vd(this,t)}this.S?(ma(this,ee,g),vv&&this.i&&3==ee&&(rf(this.U,this.V,"tick",this.mb),this.V.start())):(Sl(this.j,this.m,g,null),vd(this,g)),4==ee&&Js(this),this.i&&!this.J&&(4==ee?v1(this.l,this):(this.i=!1,Lo(this)))}else(function iw(n){const e={};n=(n.g&&2<=ru(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(sh(n[i]))continue;var t=XI(n[i]);const a=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const h=e[a]||[];e[a]=h,h.push(t)}!function ch(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<g.indexOf("Unknown SID")?(this.o=3,Z(12)):(this.o=0,Z(13)),Js(this),As(this)}}}catch{}},Jt.mb=function(){if(this.g){var n=ru(this.g),e=this.g.ja();this.C<e.length&&(Cu(this),ma(this,n,e),this.i&&4!=n&&Lo(this))}},Jt.cancel=function(){this.J=!0,Js(this)},Jt.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Nv(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(v(),Z(17)),Js(this),this.o=2,As(this)):Al(this,this.Y-n)};var bd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lo(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof lo){this.h=n.h,Id(this,n.j),this.s=n.s,this.g=n.g,Ku(this,n.m),this.l=n.l;var e=n.i,t=new cf;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),xa(this,t),this.o=n.o}else n&&(e=String(n).match(bd))?(this.h=!1,Id(this,e[1]||"",!0),this.s=wd(e[2]||""),this.g=wd(e[3]||"",!0),Ku(this,e[4]),this.l=wd(e[5]||"",!0),xa(this,e[6]||"",!0),this.o=wd(e[7]||"")):(this.h=!1,this.i=new cf(null,this.h))}function Xs(n){return new lo(n)}function Id(n,e,t){n.j=t?wd(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Ku(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function xa(n,e,t){e instanceof cf?(n.i=e,function Lm(n,e){e&&!n.j&&(_a(n),n.i=null,n.g.forEach(function(t,i){var a=i.toLowerCase();i!=a&&(uf(this,i),lf(this,a,t))},n)),n.j=e}(n.i,n.h)):(t||(e=af(e,h1)),n.i=new cf(e,n.h))}function ei(n,e,t){n.i.set(e,t)}function Gp(n){return ei(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function wd(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function af(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,jp),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function jp(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}lo.prototype.toString=function(){var n=[],e=this.j;e&&n.push(af(e,nu,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(af(e,nu,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(af(t,"/"==t.charAt(0)?Mv:Ov,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",af(t,Ns)),n.join("")};var nu=/[#\/\?@]/g,Ov=/[#\?:]/g,Mv=/[#\?]/g,h1=/[#\?@]/g,Ns=/#/g;function cf(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function _a(n){n.g||(n.g=new Map,n.h=0,n.i&&function sf(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),a=null;if(0<=i){var h=n[t].substring(0,i);a=n[t].substring(i+1)}else h=n[t];e(h,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function uf(n,e){_a(n),e=Yu(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function Fm(n,e){return _a(n),e=Yu(n,e),n.g.has(e)}function lf(n,e,t){uf(n,e),0<t.length&&(n.i=null,n.g.set(Yu(n,e),ef(t)),n.h+=t.length)}function Yu(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function $p(n){this.l=n||Vm,n=tr.PerformanceNavigationTiming?0<(n=tr.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(tr.g&&tr.g.Ka&&tr.g.Ka()&&tr.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Jt=cf.prototype).add=function(n,e){_a(this),this.i=null,n=Yu(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Jt.forEach=function(n,e){_a(this),this.g.forEach(function(t,i){t.forEach(function(a){n.call(e,a,i,this)},this)},this)},Jt.ta=function(){_a(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const a=n[i];for(let h=0;h<a.length;h++)t.push(e[i])}return t},Jt.Z=function(n){_a(this);let e=[];if("string"==typeof n)Fm(this,n)&&(e=e.concat(this.g.get(Yu(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Jt.set=function(n,e){return _a(this),this.i=null,Fm(this,n=Yu(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Jt.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},Jt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const h=encodeURIComponent(String(i)),g=this.Z(i);for(i=0;i<g.length;i++){var a=h;""!==g[i]&&(a+="="+encodeURIComponent(String(g[i]))),n.push(a)}}return this.i=n.join("&")};var Vm=10;function ew(n){return!!n.h||!!n.g&&n.g.size>=n.j}function f1(n){return n.h?1:n.g?n.g.size:0}function p1(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Rv(n,e){n.g?n.g.add(e):n.h=e}function df(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Nl(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return ef(n.i)}$p.prototype.cancel=function(){if(this.i=Nl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var zp=class{stringify(n){return tr.JSON.stringify(n,void 0)}parse(n){return tr.JSON.parse(n,void 0)}};function YE(){this.g=new zp}function QE(n,e,t){const i=t||"";try{km(n,function(a,h){let g=a;ud(a)&&(g=c1(a)),e.push(i+h+"="+encodeURIComponent(g))})}catch(a){throw e.push(i+"type="+encodeURIComponent("_badmap")),a}}function Bm(n,e,t,i,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(i)}catch{}}function hf(n){this.l=n.fc||null,this.j=n.ob||!1}function hh(n,e){Cs.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=Wp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ko(hf,Vt),hf.prototype.g=function(){return new hh(this.l,this.j)},hf.prototype.i=function(n){return function(){return n}}({}),ko(hh,Cs);var Wp=0;function g1(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function qp(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Um(n)}function Um(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Jt=hh.prototype).open=function(n,e){if(this.readyState!=Wp)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Um(this)},Jt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||tr).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Jt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,qp(this)),this.readyState=Wp},Jt.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Um(this)),this.g&&(this.readyState=3,Um(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof tr.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;g1(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Jt.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?qp(this):Um(this),3==this.readyState&&g1(this)}},Jt.Za=function(n){this.g&&(this.response=this.responseText=n,qp(this))},Jt.Ya=function(n){this.g&&(this.response=n,qp(this))},Jt.ka=function(){this.g&&qp(this)},Jt.setRequestHeader=function(n,e){this.v.append(n,e)},Jt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Jt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(hh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var JE=tr.JSON.parse;function Vo(n){Cs.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=nw,this.L=this.M=!1}ko(Vo,Cs);var nw="",rw=/^https?$/i,tS=["POST","PUT"];function eD(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,tD(n),Hm(n)}function tD(n){n.F||(n.F=!0,Ss(n,"complete"),Ss(n,"error"))}function m1(n){if(n.h&&typeof _m<"u"&&(!n.C[1]||4!=ru(n)||2!=n.da()))if(n.v&&4==ru(n))Vp(n.La,0,n);else if(Ss(n,"readystatechange"),4==ru(n)){n.h=!1;try{const g=n.da();e:switch(g){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===g){var a=String(n.I).match(bd)[1]||null;!a&&tr.self&&tr.self.location&&(a=tr.self.location.protocol.slice(0,-1)),i=!rw.test(a?a.toLowerCase():"")}t=i}if(t)Ss(n,"complete"),Ss(n,"success");else{n.m=6;try{var h=2<ru(n)?n.g.statusText:""}catch{h=""}n.j=h+" ["+n.da()+"]",tD(n)}}finally{Hm(n)}}}function Hm(n,e){if(n.g){nD(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Ss(n,"ready");try{t.onreadystatechange=i}catch{}}}function nD(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(tr.clearTimeout(n.A),n.A=null)}function ru(n){return n.g?n.g.readyState:0}function _1(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case nw:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function ow(n){let e="";return Dm(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function Pv(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=ow(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):ei(n,e,t))}function Zp(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function cr(n){this.Ga=0,this.j=[],this.l=new Up,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Zp("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Zp("baseRetryDelayMs",5e3,n),this.hb=Zp("retryDelaySeedMs",1e4,n),this.eb=Zp("forwardChannelMaxRetries",2,n),this.xa=Zp("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new $p(n&&n.concurrentRequestLimit),this.Ja=new YE,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function kv(n){if(ff(n),3==n.H){var e=n.W++,t=Xs(n.I);if(ei(t,"SID",n.K),ei(t,"RID",e),ei(t,"TYPE","terminate"),Ol(n,t),(e=new li(n,n.l,e)).L=2,e.v=Gp(Xs(t)),t=!1,tr.navigator&&tr.navigator.sendBeacon)try{t=tr.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&tr.Image&&((new Image).src=e.v,t=!0),t||(e.g=y1(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Lo(e)}sw(n)}function Gm(n){n.g&&(zm(n),n.g.cancel(),n.g=null)}function ff(n){Gm(n),n.u&&(tr.clearTimeout(n.u),n.u=null),Yp(n),n.i.cancel(),n.m&&("number"==typeof n.m&&tr.clearTimeout(n.m),n.m=null)}function jm(n){if(!ew(n.i)&&!n.m){n.m=!0;var e=n.Na;lh||Mm(),Du||(lh(),Du=!0),Fp.add(e,n),n.C=0}}function $m(n,e){var t;t=e?e.m:n.W++;const i=Xs(n.I);ei(i,"SID",n.K),ei(i,"RID",t),ei(i,"AID",n.V),Ol(n,i),n.o&&n.s&&Pv(i,n.o,n.s),t=new li(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=Fv(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),Rv(n.i,t),di(t,i,e)}function Ol(n,e){n.na&&Dm(n.na,function(t,i){ei(e,i,t)}),n.h&&km({},function(t,i){ei(e,i,t)})}function Fv(n,e,t){t=Math.min(n.j.length,t);var i=n.h?ga(n.h.Va,n.h,n):null;e:{var a=n.j;let h=-1;for(;;){const g=["count="+t];-1==h?0<t?(h=a[0].g,g.push("ofs="+h)):h=0:g.push("ofs="+h);let T=!0;for(let P=0;P<t;P++){let U=a[P].g;const ee=a[P].map;if(U-=h,0>U)h=Math.max(0,a[P].g-100),T=!1;else try{QE(ee,g,"req"+U+"_")}catch{i&&i(ee)}}if(T){i=g.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function Kp(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;lh||Mm(),Du||(lh(),Du=!0),Fp.add(e,n),n.A=0}}function Lv(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Se(ga(n.Ma,n),Bv(n,n.A)),n.A++,0))}function zm(n){null!=n.B&&(tr.clearTimeout(n.B),n.B=null)}function Vv(n){n.g=new li(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Xs(n.wa);ei(e,"RID","rpc"),ei(e,"SID",n.K),ei(e,"AID",n.V),ei(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&ei(e,"TO",n.qa),ei(e,"TYPE","xmlhttp"),Ol(n,e),n.o&&n.s&&Pv(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Gp(Xs(e)),t.s=null,t.S=!0,Fo(t,n)}function Yp(n){null!=n.v&&(tr.clearTimeout(n.v),n.v=null)}function v1(n,e){var t=null;if(n.g==e){Yp(n),zm(n),n.g=null;var i=2}else{if(!p1(n.i,e))return;t=e.F,df(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var a=n.C;Ss(i=u(),new ve(i,t)),jm(n)}else Kp(n);else if(3==(a=e.o)||0==a&&0<e.ca||!(1==i&&function rD(n,e){return!(f1(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Se(ga(n.Na,n,e),Bv(n,n.C)),n.C++,0)))}(n,e)||2==i&&Lv(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),a){case 1:pf(n,5);break;case 4:pf(n,10);break;case 3:pf(n,6);break;default:pf(n,2)}}function Bv(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function pf(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=ga(n.pb,n);t||(t=new lo("//www.google.com/images/cleardot.gif"),tr.location&&"http"==tr.location.protocol||Id(t,"https"),Gp(t)),function tw(n,e){const t=new Up;if(tr.Image){const i=new Image;i.onload=Sp(Bm,t,i,"TestLoadImage: loaded",!0,e),i.onerror=Sp(Bm,t,i,"TestLoadImage: error",!1,e),i.onabort=Sp(Bm,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=Sp(Bm,t,i,"TestLoadImage: timeout",!1,e),tr.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Z(2);n.H=0,n.h&&n.h.za(e),sw(n),ff(n)}function sw(n){if(n.H=0,n.ma=[],n.h){const e=Nl(n.i);(0!=e.length||0!=n.j.length)&&(bm(n.ma,e),bm(n.ma,n.j),n.i.i.length=0,ef(n.j),n.j.length=0),n.h.ya()}}function aw(n,e,t){var i=t instanceof lo?Xs(t):new lo(t);if(""!=i.g)e&&(i.g=e+"."+i.g),Ku(i,i.m);else{var a=tr.location;i=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var h=new lo(null);i&&Id(h,i),e&&(h.g=e),a&&Ku(h,a),t&&(h.l=t),i=h}return e=n.Da,(t=n.F)&&e&&ei(i,t,e),ei(i,"VER",n.ra),Ol(n,i),i}function y1(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Vo(t&&n.Ha&&!n.va?new hf({ob:!0}):n.va)).Oa(n.J),e}function cw(){}function Uv(){if(fd&&!(10<=Number(r1)))throw Error("Environmental error: no available transport.")}function iu(n,e){Cs.call(this),this.g=new cr(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!sh(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!sh(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new gf(this)}function uw(n){Yn.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function b1(){Cn.call(this),this.status=1}function gf(n){this.g=n}function Qu(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function hc(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var a=0;16>a;++a)i[a]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(a=0;16>a;++a)i[a]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var h=n.g[3],g=(e=n.g[0])+(h^(t=n.g[1])&((a=n.g[2])^h))+i[0]+3614090360&4294967295;g=(t=(a=(h=(e=(t=(a=(h=(e=(t=(a=(h=(e=(t=(a=(h=(e=(t=(a=(h=(e=(t=(a=(h=(e=(t=(a=(h=(e=(t=(a=(h=(e=(t=(a=(h=(e=(t=(a=(h=(e=(t=(a=(h=(e=(t=(a=(h=(e=(t=(a=(h=(e=(t=(a=(h=(e=(t=(a=(h=(e=t+(g<<7&4294967295|g>>>25))+((g=h+(a^e&(t^a))+i[1]+3905402710&4294967295)<<12&4294967295|g>>>20))+((g=a+(t^h&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|g>>>15))+((g=t+(e^a&(h^e))+i[3]+3250441966&4294967295)<<22&4294967295|g>>>10))+((g=e+(h^t&(a^h))+i[4]+4118548399&4294967295)<<7&4294967295|g>>>25))+((g=h+(a^e&(t^a))+i[5]+1200080426&4294967295)<<12&4294967295|g>>>20))+((g=a+(t^h&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|g>>>15))+((g=t+(e^a&(h^e))+i[7]+4249261313&4294967295)<<22&4294967295|g>>>10))+((g=e+(h^t&(a^h))+i[8]+1770035416&4294967295)<<7&4294967295|g>>>25))+((g=h+(a^e&(t^a))+i[9]+2336552879&4294967295)<<12&4294967295|g>>>20))+((g=a+(t^h&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|g>>>15))+((g=t+(e^a&(h^e))+i[11]+2304563134&4294967295)<<22&4294967295|g>>>10))+((g=e+(h^t&(a^h))+i[12]+1804603682&4294967295)<<7&4294967295|g>>>25))+((g=h+(a^e&(t^a))+i[13]+4254626195&4294967295)<<12&4294967295|g>>>20))+((g=a+(t^h&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|g>>>15))+((g=t+(e^a&(h^e))+i[15]+1236535329&4294967295)<<22&4294967295|g>>>10))+((g=e+(a^h&(t^a))+i[1]+4129170786&4294967295)<<5&4294967295|g>>>27))+((g=h+(t^a&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|g>>>23))+((g=a+(e^t&(h^e))+i[11]+643717713&4294967295)<<14&4294967295|g>>>18))+((g=t+(h^e&(a^h))+i[0]+3921069994&4294967295)<<20&4294967295|g>>>12))+((g=e+(a^h&(t^a))+i[5]+3593408605&4294967295)<<5&4294967295|g>>>27))+((g=h+(t^a&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|g>>>23))+((g=a+(e^t&(h^e))+i[15]+3634488961&4294967295)<<14&4294967295|g>>>18))+((g=t+(h^e&(a^h))+i[4]+3889429448&4294967295)<<20&4294967295|g>>>12))+((g=e+(a^h&(t^a))+i[9]+568446438&4294967295)<<5&4294967295|g>>>27))+((g=h+(t^a&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|g>>>23))+((g=a+(e^t&(h^e))+i[3]+4107603335&4294967295)<<14&4294967295|g>>>18))+((g=t+(h^e&(a^h))+i[8]+1163531501&4294967295)<<20&4294967295|g>>>12))+((g=e+(a^h&(t^a))+i[13]+2850285829&4294967295)<<5&4294967295|g>>>27))+((g=h+(t^a&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|g>>>23))+((g=a+(e^t&(h^e))+i[7]+1735328473&4294967295)<<14&4294967295|g>>>18))+((g=t+(h^e&(a^h))+i[12]+2368359562&4294967295)<<20&4294967295|g>>>12))+((g=e+(t^a^h)+i[5]+4294588738&4294967295)<<4&4294967295|g>>>28))+((g=h+(e^t^a)+i[8]+2272392833&4294967295)<<11&4294967295|g>>>21))+((g=a+(h^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|g>>>16))+((g=t+(a^h^e)+i[14]+4259657740&4294967295)<<23&4294967295|g>>>9))+((g=e+(t^a^h)+i[1]+2763975236&4294967295)<<4&4294967295|g>>>28))+((g=h+(e^t^a)+i[4]+1272893353&4294967295)<<11&4294967295|g>>>21))+((g=a+(h^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|g>>>16))+((g=t+(a^h^e)+i[10]+3200236656&4294967295)<<23&4294967295|g>>>9))+((g=e+(t^a^h)+i[13]+681279174&4294967295)<<4&4294967295|g>>>28))+((g=h+(e^t^a)+i[0]+3936430074&4294967295)<<11&4294967295|g>>>21))+((g=a+(h^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|g>>>16))+((g=t+(a^h^e)+i[6]+76029189&4294967295)<<23&4294967295|g>>>9))+((g=e+(t^a^h)+i[9]+3654602809&4294967295)<<4&4294967295|g>>>28))+((g=h+(e^t^a)+i[12]+3873151461&4294967295)<<11&4294967295|g>>>21))+((g=a+(h^e^t)+i[15]+530742520&4294967295)<<16&4294967295|g>>>16))+((g=t+(a^h^e)+i[2]+3299628645&4294967295)<<23&4294967295|g>>>9))+((g=e+(a^(t|~h))+i[0]+4096336452&4294967295)<<6&4294967295|g>>>26))+((g=h+(t^(e|~a))+i[7]+1126891415&4294967295)<<10&4294967295|g>>>22))+((g=a+(e^(h|~t))+i[14]+2878612391&4294967295)<<15&4294967295|g>>>17))+((g=t+(h^(a|~e))+i[5]+4237533241&4294967295)<<21&4294967295|g>>>11))+((g=e+(a^(t|~h))+i[12]+1700485571&4294967295)<<6&4294967295|g>>>26))+((g=h+(t^(e|~a))+i[3]+2399980690&4294967295)<<10&4294967295|g>>>22))+((g=a+(e^(h|~t))+i[10]+4293915773&4294967295)<<15&4294967295|g>>>17))+((g=t+(h^(a|~e))+i[1]+2240044497&4294967295)<<21&4294967295|g>>>11))+((g=e+(a^(t|~h))+i[8]+1873313359&4294967295)<<6&4294967295|g>>>26))+((g=h+(t^(e|~a))+i[15]+4264355552&4294967295)<<10&4294967295|g>>>22))+((g=a+(e^(h|~t))+i[6]+2734768916&4294967295)<<15&4294967295|g>>>17))+((g=t+(h^(a|~e))+i[13]+1309151649&4294967295)<<21&4294967295|g>>>11))+((h=(e=t+((g=e+(a^(t|~h))+i[4]+4149444226&4294967295)<<6&4294967295|g>>>26))+((g=h+(t^(e|~a))+i[11]+3174756917&4294967295)<<10&4294967295|g>>>22))^((a=h+((g=a+(e^(h|~t))+i[2]+718787259&4294967295)<<15&4294967295|g>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(a+(g<<21&4294967295|g>>>11))&4294967295,n.g[2]=n.g[2]+a&4294967295,n.g[3]=n.g[3]+h&4294967295}function yi(n,e){this.h=e;for(var t=[],i=!0,a=n.length-1;0<=a;a--){var h=0|n[a];i&&h==e||(t[a]=h,i=!1)}this.g=t}(Jt=Vo.prototype).Oa=function(n){this.M=n},Jt.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ar.g(),this.C=function St(n){return n.h||(n.h=n.i())}(this.u?this.u:ar),this.g.onreadystatechange=ga(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(h){return void eD(this,h)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var a in i)t.set(a,i[a]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const h of i.keys())t.set(h,i.get(h))}i=Array.from(t.keys()).find(h=>"content-type"==h.toLowerCase()),a=tr.FormData&&n instanceof tr.FormData,!(0<=Ap(tS,e))||i||a||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[h,g]of t)this.g.setRequestHeader(h,g);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{nD(this),0<this.B&&((this.L=function XE(n){return fd&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ga(this.ua,this)):this.A=Vp(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(h){eD(this,h)}},Jt.ua=function(){typeof _m<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ss(this,"timeout"),this.abort(8))},Jt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ss(this,"complete"),Ss(this,"abort"),Hm(this))},Jt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Hm(this,!0)),Vo.$.N.call(this)},Jt.La=function(){this.s||(this.G||this.v||this.l?m1(this):this.kb())},Jt.kb=function(){m1(this)},Jt.isActive=function(){return!!this.g},Jt.da=function(){try{return 2<ru(this)?this.g.status:-1}catch{return-1}},Jt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Jt.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),JE(e)}},Jt.Ia=function(){return this.m},Jt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Jt=cr.prototype).ra=8,Jt.H=1,Jt.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const a=new li(this,this.l,n);let h=this.s;if(this.U&&(h?(h=s1(h),Rp(h,this.U)):h=this.U),null!==this.o||this.O||(a.I=h,h=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Fv(this,a,e),ei(t=Xs(this.I),"RID",n),ei(t,"CVER",22),this.F&&ei(t,"X-HTTP-Session-Id",this.F),Ol(this,t),h&&(this.O?e="headers="+encodeURIComponent(String(ow(h)))+"&"+e:this.o&&Pv(t,this.o,h)),Rv(this.i,a),this.bb&&ei(t,"TYPE","init"),this.P?(ei(t,"$req",e),ei(t,"SID","null"),a.aa=!0,di(a,t,null)):di(a,t,e),this.H=2}}else 3==this.H&&(n?$m(this,n):0==this.j.length||ew(this.i)||$m(this))},Jt.Ma=function(){if(this.u=null,Vv(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Se(ga(this.jb,this),n)}},Jt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Z(10),Gm(this),Vv(this))},Jt.ib=function(){null!=this.v&&(this.v=null,Gm(this),Lv(this),Z(19))},Jt.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Z(2)):(this.l.info("Failed to ping google.com"),Z(1))},Jt.isActive=function(){return!!this.h&&this.h.isActive(this)},(Jt=cw.prototype).Ba=function(){},Jt.Aa=function(){},Jt.za=function(){},Jt.ya=function(){},Jt.isActive=function(){return!0},Jt.Va=function(){},Uv.prototype.g=function(n,e){return new iu(n,e)},ko(iu,Cs),iu.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Z(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=aw(n,null,n.Y),jm(n)},iu.prototype.close=function(){kv(this.g)},iu.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=c1(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&jm(e)},iu.prototype.N=function(){this.g.h=null,delete this.j,kv(this.g),delete this.g,iu.$.N.call(this)},ko(uw,Yn),ko(b1,Cn),ko(gf,cw),gf.prototype.Ba=function(){Ss(this.g,"a")},gf.prototype.Aa=function(n){Ss(this.g,new uw(n))},gf.prototype.za=function(n){Ss(this.g,new b1)},gf.prototype.ya=function(){Ss(this.g,"b")},ko(Qu,function iD(){this.blockSize=-1}),Qu.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Qu.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,a=this.h,h=0;h<e;){if(0==a)for(;h<=t;)hc(this,n,h),h+=this.blockSize;if("string"==typeof n){for(;h<e;)if(i[a++]=n.charCodeAt(h++),a==this.blockSize){hc(this,i),a=0;break}}else for(;h<e;)if(i[a++]=n[h++],a==this.blockSize){hc(this,i),a=0;break}}this.h=a,this.i+=e},Qu.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var oD={};function lw(n){return-128<=n&&128>n?function qI(n,e){var t=oD;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new yi([0|e],0>e?-1:0)}):new yi([0|n],0>n?-1:0)}function Su(n){if(isNaN(n)||!isFinite(n))return Qp;if(0>n)return ea(Su(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=w1;return new yi(e,0)}var w1=4294967296,Qp=lw(0),T1=lw(1),E1=lw(16777216);function Td(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Au(n){return-1==n.h}function ea(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new yi(t,~n.h).add(T1)}function Hv(n,e){return n.add(ea(e))}function Gv(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Wm(n,e){this.g=n,this.h=e}function jv(n,e){if(Td(e))throw Error("division by zero");if(Td(n))return new Wm(Qp,Qp);if(Au(n))return e=jv(ea(n),e),new Wm(ea(e.g),ea(e.h));if(Au(e))return e=jv(n,ea(e)),new Wm(ea(e.g),e.h);if(30<n.g.length){if(Au(n)||Au(e))throw Error("slowDivide_ only works with positive integers.");for(var t=T1,i=e;0>=i.X(n);)t=dw(t),i=dw(i);var a=fc(t,1),h=fc(i,1);for(i=fc(i,2),t=fc(t,2);!Td(i);){var g=h.add(i);0>=g.X(n)&&(a=a.add(t),h=g),i=fc(i,1),t=fc(t,1)}return e=Hv(n,a.R(e)),new Wm(a,e)}for(a=Qp;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),g=(h=Su(t)).R(e);Au(g)||0<g.X(n);)g=(h=Su(t-=i)).R(e);Td(h)&&(h=T1),a=a.add(h),n=Hv(n,g)}return new Wm(a,n)}function dw(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new yi(t,n.h)}function fc(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,a=[],h=0;h<i;h++)a[h]=0<e?n.D(h+t)>>>e|n.D(h+t+1)<<32-e:n.D(h+t);return new yi(a,n.h)}(Jt=yi.prototype).ea=function(){if(Au(this))return-ea(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:w1+i)*e,e*=w1}return n},Jt.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Td(this))return"0";if(Au(this))return"-"+ea(this).toString(n);for(var e=Su(Math.pow(n,6)),t=this,i="";;){var a=jv(t,e).g,h=((0<(t=Hv(t,a.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Td(t=a))return h+i;for(;6>h.length;)h="0"+h;i=h+i}},Jt.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Jt.X=function(n){return Au(n=Hv(this,n))?-1:Td(n)?0:1},Jt.abs=function(){return Au(this)?ea(this):this},Jt.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,a=0;a<=e;a++){var h=i+(65535&this.D(a))+(65535&n.D(a)),g=(h>>>16)+(this.D(a)>>>16)+(n.D(a)>>>16);i=g>>>16,t[a]=(g&=65535)<<16|(h&=65535)}return new yi(t,-2147483648&t[t.length-1]?-1:0)},Jt.R=function(n){if(Td(this)||Td(n))return Qp;if(Au(this))return Au(n)?ea(this).R(ea(n)):ea(ea(this).R(n));if(Au(n))return ea(this.R(ea(n)));if(0>this.X(E1)&&0>n.X(E1))return Su(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var a=0;a<n.g.length;a++){var h=this.D(i)>>>16,g=65535&this.D(i),T=n.D(a)>>>16,P=65535&n.D(a);t[2*i+2*a]+=g*P,Gv(t,2*i+2*a),t[2*i+2*a+1]+=h*P,Gv(t,2*i+2*a+1),t[2*i+2*a+1]+=g*T,Gv(t,2*i+2*a+1),t[2*i+2*a+2]+=h*T,Gv(t,2*i+2*a+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new yi(t,0)},Jt.gb=function(n){return jv(this,n).h},Jt.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new yi(t,this.h&n.h)},Jt.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new yi(t,this.h|n.h)},Jt.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new yi(t,this.h^n.h)},Uv.prototype.createWebChannel=Uv.prototype.g,iu.prototype.send=iu.prototype.u,iu.prototype.open=iu.prototype.m,iu.prototype.close=iu.prototype.close,We.NO_ERROR=0,We.TIMEOUT=8,We.HTTP_ERROR=6,Ze.COMPLETE="complete",Pt.EventType=jn,jn.OPEN="a",jn.CLOSE="b",jn.ERROR="c",jn.MESSAGE="d",Cs.prototype.listen=Cs.prototype.O,Vo.prototype.listenOnce=Vo.prototype.P,Vo.prototype.getLastError=Vo.prototype.Sa,Vo.prototype.getLastErrorCode=Vo.prototype.Ia,Vo.prototype.getStatus=Vo.prototype.da,Vo.prototype.getResponseJson=Vo.prototype.Wa,Vo.prototype.getResponseText=Vo.prototype.ja,Vo.prototype.send=Vo.prototype.ha,Vo.prototype.setWithCredentials=Vo.prototype.Oa,Qu.prototype.digest=Qu.prototype.l,Qu.prototype.reset=Qu.prototype.reset,Qu.prototype.update=Qu.prototype.j,yi.prototype.add=yi.prototype.add,yi.prototype.multiply=yi.prototype.R,yi.prototype.modulo=yi.prototype.gb,yi.prototype.compare=yi.prototype.X,yi.prototype.toNumber=yi.prototype.ea,yi.prototype.toString=yi.prototype.toString,yi.prototype.getBits=yi.prototype.D,yi.fromNumber=Su,yi.fromString=function I1(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return ea(I1(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Su(Math.pow(e,8)),i=Qp,a=0;a<n.length;a+=8){var h=Math.min(8,n.length-a),g=parseInt(n.substring(a,a+h),e);8>h?(h=Su(Math.pow(e,h)),i=i.R(h).add(Su(g))):i=(i=i.R(t)).add(Su(g))}return i};var D1=lc.createWebChannelTransport=function(){return new Uv},sD=lc.getStatEventTarget=function(){return u()},$v=lc.ErrorCode=We,aD=lc.EventType=Ze,hw=lc.Event=d,C1=lc.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},zv=lc.FetchXmlHttpFactory=hf,Jp=lc.WebChannel=Pt,nS=lc.XhrIo=Vo,fw=lc.Md5=Qu,mf=lc.Integer=yi;const S1="@firebase/firestore";class ta{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ta.UNAUTHENTICATED=new ta(null),ta.GOOGLE_CREDENTIALS=new ta("google-credentials-uid"),ta.FIRST_PARTY=new ta("first-party-uid"),ta.MOCK_USER=new ta("mock-user");let fh="9.23.0";const $a=new Ie.Yd("@firebase/firestore");function A1(){return $a.logLevel}function At(n,...e){if($a.logLevel<=Ie.in.DEBUG){const t=e.map(N1);$a.debug(`Firestore (${fh}): ${n}`,...t)}}function os(n,...e){if($a.logLevel<=Ie.in.ERROR){const t=e.map(N1);$a.error(`Firestore (${fh}): ${n}`,...t)}}function Nu(n,...e){if($a.logLevel<=Ie.in.WARN){const t=e.map(N1);$a.warn(`Firestore (${fh}): ${n}`,...t)}}function N1(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ln(n="Unexpected state"){const e=`FIRESTORE (${fh}) INTERNAL ASSERTION FAILED: `+n;throw os(e),new Error(e)}function yn(n,e){n||ln()}function Zt(n,e){return n}const nt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Et extends de.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Os{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class O1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ta.UNAUTHENTICATED))}shutdown(){}}class lD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class pw{constructor(e){this.t=e,this.currentUser=ta.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let a=this.i;const h=U=>this.i!==a?(a=this.i,t(U)):Promise.resolve();let g=new Os;this.o=()=>{this.i++,this.currentUser=this.u(),g.resolve(),g=new Os,e.enqueueRetryable(()=>h(this.currentUser))};const T=()=>{const U=g;e.enqueueRetryable((0,ue.Z)(function*(){yield U.promise,yield h(i.currentUser)}))},P=U=>{At("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=U,this.auth.addAuthTokenListener(this.o),T()};this.t.onInit(U=>P(U)),setTimeout(()=>{if(!this.auth){const U=this.t.getImmediate({optional:!0});U?P(U):(At("FirebaseAuthCredentialsProvider","Auth not yet detected"),g.resolve(),g=new Os)}},0),T()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(At("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(yn("string"==typeof i.accessToken),new O1(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return yn(null===e||"string"==typeof e),new ta(e)}}class gw{constructor(e,t,i){this.h=e,this.l=t,this.m=i,this.type="FirstParty",this.user=ta.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class qm{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new gw(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ta.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _w{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const i=h=>{null!=h.error&&At("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const g=h.token!==this.T;return this.T=h.token,At("FirebaseAppCheckTokenProvider",`Received ${g?"new":"existing"} token.`),g?t(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>i(h))};const a=h=>{At("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.appCheck.addTokenListener(this.o)};this.I.onInit(h=>a(h)),setTimeout(()=>{if(!this.appCheck){const h=this.I.getImmediate({optional:!0});h?a(h):At("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(yn("string"==typeof t.token),this.T=t.token,new mw(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function hD(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class vw{static A(){const t=62*Math.floor(256/62);let i="";for(;i.length<20;){const a=hD(40);for(let h=0;h<a.length;++h)i.length<20&&a[h]<t&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(a[h]%62))}return i}}function zn(n,e){return n<e?-1:n>e?1:0}function Xp(n,e,t){return n.length===e.length&&n.every((i,a)=>t(i,e[a]))}class wo{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Et(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Et(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Et(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Et(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return wo.fromMillis(Date.now())}static fromDate(e){return wo.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new wo(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?zn(this.nanoseconds,e.nanoseconds):zn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Mn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Mn(e)}static min(){return new Mn(new wo(0,0))}static max(){return new Mn(new wo(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Zm{constructor(e,t,i){void 0===t?t=0:t>e.length&&ln(),void 0===i?i=e.length-t:i>e.length-t&&ln(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Zm.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Zm?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const h=e.get(a),g=t.get(a);if(h<g)return-1;if(h>g)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class zr extends Zm{construct(e,t,i){return new zr(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Et(nt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(a=>a.length>0))}return new zr(t)}static emptyPath(){return new zr([])}}const fD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ss extends Zm{construct(e,t,i){return new ss(e,t,i)}static isValidIdentifier(e){return fD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ss.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ss(["__name__"])}static fromServerFormat(e){const t=[];let i="",a=0;const h=()=>{if(0===i.length)throw new Et(nt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let g=!1;for(;a<e.length;){const T=e[a];if("\\"===T){if(a+1===e.length)throw new Et(nt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const P=e[a+1];if("\\"!==P&&"."!==P&&"`"!==P)throw new Et(nt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=P,a+=2}else"`"===T?(g=!g,a++):"."!==T||g?(i+=T,a++):(h(),a++)}if(h(),g)throw new Et(nt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ss(t)}static emptyPath(){return new ss([])}}class Yt{constructor(e){this.path=e}static fromPath(e){return new Yt(zr.fromString(e))}static fromName(e){return new Yt(zr.fromString(e).popFirst(5))}static empty(){return new Yt(zr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===zr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return zr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Yt(new zr(e.slice()))}}function Iw(n){return new Mc(n.readTime,n.key,-1)}class Mc{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Mc(Mn.min(),Yt.empty(),-1)}static max(){return new Mc(Mn.max(),Yt.empty(),-1)}}function qv(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Yt.comparator(n.documentKey,e.documentKey),0!==t?t:zn(n.largestBatchId,e.largestBatchId))}const x1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function _f(n){return Zv.apply(this,arguments)}function Zv(){return Zv=(0,ue.Z)(function*(n){if(n.code!==nt.FAILED_PRECONDITION||n.message!==x1)throw n;At("LocalStore","Unexpectedly lost primary lease")}),Zv.apply(this,arguments)}class Ke{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ln(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ke((i,a)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(i,a)},this.catchCallback=h=>{this.wrapFailure(t,h).next(i,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ke?t:Ke.resolve(t)}catch(t){return Ke.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ke.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ke.reject(t)}static resolve(e){return new Ke((t,i)=>{t(e)})}static reject(e){return new Ke((t,i)=>{i(e)})}static waitFor(e){return new Ke((t,i)=>{let a=0,h=0,g=!1;e.forEach(T=>{++a,T.next(()=>{++h,g&&h===a&&t()},P=>i(P))}),g=!0,h===a&&t()})}static or(e){let t=Ke.resolve(!1);for(const i of e)t=t.next(a=>a?Ke.resolve(a):i());return t}static forEach(e,t){const i=[];return e.forEach((a,h)=>{i.push(t.call(this,a,h))}),this.waitFor(i)}static mapArray(e,t){return new Ke((i,a)=>{const h=e.length,g=new Array(h);let T=0;for(let P=0;P<h;P++){const U=P;t(e[U]).next(ee=>{g[U]=ee,++T,T===h&&i(g)},ee=>a(ee))}})}static doWhile(e,t){return new Ke((i,a)=>{const h=()=>{!0===e()?t().next(()=>{h()},a):i()};h()})}}function xl(n){return"IndexedDbTransactionError"===n.name}let ho=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ot(a),this.ut=a=>i.writeSequenceNumber(a))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function yf(n){return null==n}function Rl(n){return 0===n&&1/n==-1/0}function rg(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Pl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Qm(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Oi{constructor(e,t){this.comparator=e,this.root=t||ya.EMPTY}insert(e,t){return new Oi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ya.BLACK,null,null))}remove(e){return new Oi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ya.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(0===a)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ph(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ph(this.root,e,this.comparator,!1)}getReverseIterator(){return new ph(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ph(this.root,e,this.comparator,!0)}}class ph{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=t?i(e.key,t):1,t&&a&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(0===h){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ya{constructor(e,t,i,a,h){this.key=e,this.value=t,this.color=i??ya.RED,this.left=a??ya.EMPTY,this.right=h??ya.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,h){return new ya(e??this.key,t??this.value,i??this.color,a??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const h=i(e,a.key);return a=h<0?a.copy(null,null,null,a.left.insert(e,t,i),null):0===h?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return ya.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return ya.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ya.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ya.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ln();const e=this.left.check();if(e!==this.right.check())throw ln();return e+(this.isRed()?0:1)}}ya.EMPTY=null,ya.RED=!0,ya.BLACK=!1,ya.EMPTY=new class{constructor(){this.size=0}get key(){throw ln()}get value(){throw ln()}get color(){throw ln()}get left(){throw ln()}get right(){throw ln()}copy(n,e,t,i,a){return this}insert(n,e,t){return new ya(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Yi{constructor(e){this.comparator=e,this.data=new Oi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ig(this.data.getIterator())}getIteratorFrom(e){return new ig(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Yi)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,h=i.getNext().key;if(0!==this.comparator(a,h))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Yi(this.comparator);return t.data=e,t}}class ig{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Rc{constructor(e){this.fields=e,e.sort(ss.comparator)}static empty(){return new Rc([])}unionWith(e){let t=new Yi(ss.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Rc(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Xp(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class xw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class cs{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new xw("Invalid base64 string: "+a):a}}(e);return new cs(t)}static fromUint8Array(e){const t=function(i){let a="";for(let h=0;h<i.length;++h)a+=String.fromCharCode(i[h]);return a}(e);return new cs(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return zn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cs.EMPTY_BYTE_STRING=new cs("");const Yv=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ju(n){if(yn(!!n),"string"==typeof n){let e=0;const t=Yv.exec(n);if(yn(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:us(n.seconds),nanos:us(n.nanos)}}function us(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Dd(n){return"string"==typeof n?cs.fromBase64String(n):cs.fromUint8Array(n)}function Qv(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function sg(n){const e=n.mapValue.fields.__previous_value__;return Qv(e)?sg(e):e}function Jm(n){const e=Ju(n.mapValue.fields.__local_write_time__.timestampValue);return new wo(e.seconds,e.nanos)}class Rw{constructor(e,t,i,a,h,g,T,P,U){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=h,this.forceLongPolling=g,this.autoDetectLongPolling=T,this.longPollingOptions=P,this.useFetchStreams=U}}class Ef{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ef("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ef&&e.projectId===this.projectId&&e.database===this.database}}const gh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Cd(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Qv(n)?4:kw(n)?9007199254740991:10:ln()}function Xu(n,e){if(n===e)return!0;const t=Cd(n);if(t!==Cd(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Jm(n).isEqual(Jm(e));case 3:return function(i,a){if("string"==typeof i.timestampValue&&"string"==typeof a.timestampValue&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const h=Ju(i.timestampValue),g=Ju(a.timestampValue);return h.seconds===g.seconds&&h.nanos===g.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return a=e,Dd(n.bytesValue).isEqual(Dd(a.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,a){return us(i.geoPointValue.latitude)===us(a.geoPointValue.latitude)&&us(i.geoPointValue.longitude)===us(a.geoPointValue.longitude)}(n,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return us(i.integerValue)===us(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const h=us(i.doubleValue),g=us(a.doubleValue);return h===g?Rl(h)===Rl(g):isNaN(h)&&isNaN(g)}return!1}(n,e);case 9:return Xp(n.arrayValue.values||[],e.arrayValue.values||[],Xu);case 10:return function(i,a){const h=i.mapValue.fields||{},g=a.mapValue.fields||{};if(rg(h)!==rg(g))return!1;for(const T in h)if(h.hasOwnProperty(T)&&(void 0===g[T]||!Xu(h[T],g[T])))return!1;return!0}(n,e);default:return ln()}var a}function e_(n,e){return void 0!==(n.values||[]).find(t=>Xu(t,e))}function mh(n,e){if(n===e)return 0;const t=Cd(n),i=Cd(e);if(t!==i)return zn(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return zn(n.booleanValue,e.booleanValue);case 2:return function(a,h){const g=us(a.integerValue||a.doubleValue),T=us(h.integerValue||h.doubleValue);return g<T?-1:g>T?1:g===T?0:isNaN(g)?isNaN(T)?0:-1:1}(n,e);case 3:return Pw(n.timestampValue,e.timestampValue);case 4:return Pw(Jm(n),Jm(e));case 5:return zn(n.stringValue,e.stringValue);case 6:return function(a,h){const g=Dd(a),T=Dd(h);return g.compareTo(T)}(n.bytesValue,e.bytesValue);case 7:return function(a,h){const g=a.split("/"),T=h.split("/");for(let P=0;P<g.length&&P<T.length;P++){const U=zn(g[P],T[P]);if(0!==U)return U}return zn(g.length,T.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,h){const g=zn(us(a.latitude),us(h.latitude));return 0!==g?g:zn(us(a.longitude),us(h.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(a,h){const g=a.values||[],T=h.values||[];for(let P=0;P<g.length&&P<T.length;++P){const U=mh(g[P],T[P]);if(U)return U}return zn(g.length,T.length)}(n.arrayValue,e.arrayValue);case 10:return function(a,h){if(a===gh.mapValue&&h===gh.mapValue)return 0;if(a===gh.mapValue)return 1;if(h===gh.mapValue)return-1;const g=a.fields||{},T=Object.keys(g),P=h.fields||{},U=Object.keys(P);T.sort(),U.sort();for(let ee=0;ee<T.length&&ee<U.length;++ee){const he=zn(T[ee],U[ee]);if(0!==he)return he;const Fe=mh(g[T[ee]],P[U[ee]]);if(0!==Fe)return Fe}return zn(T.length,U.length)}(n.mapValue,e.mapValue);default:throw ln()}}function Pw(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return zn(n,e);const t=Ju(n),i=Ju(e),a=zn(t.seconds,i.seconds);return 0!==a?a:zn(t.nanos,i.nanos)}function Df(n){return t_(n)}function t_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const a=Ju(i);return`time(${a.seconds},${a.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Dd(n.bytesValue).toBase64():"referenceValue"in n?Yt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let a="[",h=!0;for(const g of i.values||[])h?h=!1:a+=",",a+=t_(g);return a+"]"}(n.arrayValue):"mapValue"in n?function(i){const a=Object.keys(i.fields||{}).sort();let h="{",g=!0;for(const T of a)g?g=!1:h+=",",h+=`${T}:${t_(i.fields[T])}`;return h+"}"}(n.mapValue):ln();var e}function Cf(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function cg(n){return!!n&&"integerValue"in n}function _h(n){return!!n&&"arrayValue"in n}function Jv(n){return!!n&&"nullValue"in n}function F1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Xv(n){return!!n&&"mapValue"in n}function n_(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Pl(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=n_(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=n_(n.arrayValue.values[t]);return e}return Object.assign({},n)}function kw(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Ra{constructor(e){this.value=e}static empty(){return new Ra({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Xv(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=n_(t)}setAll(e){let t=ss.emptyPath(),i={},a=[];e.forEach((g,T)=>{if(!t.isImmediateParentOf(T)){const P=this.getFieldsMap(t);this.applyChanges(P,i,a),i={},a=[],t=T.popLast()}g?i[T.lastSegment()]=n_(g):a.push(T.lastSegment())});const h=this.getFieldsMap(t);this.applyChanges(h,i,a)}delete(e){const t=this.field(e.popLast());Xv(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Xu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];Xv(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){Pl(t,(a,h)=>e[a]=h);for(const a of i)delete e[a]}clone(){return new Ra(n_(this.value))}}function Fw(n){const e=[];return Pl(n.fields,(t,i)=>{const a=new ss([t]);if(Xv(i)){const h=Fw(i.mapValue).fields;if(0===h.length)e.push(a);else for(const g of h)e.push(a.child(g))}else e.push(a)}),new Rc(e)}class Ui{constructor(e,t,i,a,h,g,T){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=h,this.data=g,this.documentState=T}static newInvalidDocument(e){return new Ui(e,0,Mn.min(),Mn.min(),Mn.min(),Ra.empty(),0)}static newFoundDocument(e,t,i,a){return new Ui(e,1,t,Mn.min(),i,a,0)}static newNoDocument(e,t){return new Ui(e,2,t,Mn.min(),Mn.min(),Ra.empty(),0)}static newUnknownDocument(e,t){return new Ui(e,3,t,Mn.min(),Mn.min(),Ra.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Mn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ra.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ra.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Mn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ui&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ui(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class kl{constructor(e,t){this.position=e,this.inclusive=t}}function B1(n,e,t){let i=0;for(let a=0;a<n.position.length;a++){const h=e[a],g=n.position[a];if(i=h.field.isKeyField()?Yt.comparator(Yt.fromName(g.referenceValue),t.key):mh(g,t.data.field(h.field)),"desc"===h.dir&&(i*=-1),0!==i)break}return i}function ny(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Xu(n.position[t],e.position[t]))return!1;return!0}class Sf{constructor(e,t="asc"){this.field=e,this.dir=t}}function CD(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class U1{}class Lr extends U1{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new Lw(e,t,i):"array-contains"===t?new Uw(e,i):"in"===t?new W1(e,i):"not-in"===t?new iy(e,i):"array-contains-any"===t?new vh(e,i):new Lr(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new Vw(e,i):new Bw(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(mh(t,this.value)):null!==t&&Cd(this.value)===Cd(t)&&this.matchesComparison(mh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ln()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class pi extends U1{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new pi(e,t)}matches(e){return Af(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Af(n){return"and"===n.op}function ry(n){return function G1(n){for(const e of n.filters)if(e instanceof pi)return!1;return!0}(n)&&Af(n)}function r_(n){if(n instanceof Lr)return n.field.canonicalString()+n.op.toString()+Df(n.value);if(ry(n))return n.filters.map(e=>r_(e)).join(",");{const e=n.filters.map(t=>r_(t)).join(",");return`${n.op}(${e})`}}function i_(n,e){return n instanceof Lr?(t=n,(i=e)instanceof Lr&&t.op===i.op&&t.field.isEqual(i.field)&&Xu(t.value,i.value)):n instanceof pi?function(t,i){return i instanceof pi&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((a,h,g)=>a&&i_(h,i.filters[g]),!0)}(n,e):void ln();var t,i}function $1(n){return n instanceof Lr?`${(e=n).field.canonicalString()} ${e.op} ${Df(e.value)}`:n instanceof pi?function(e){return e.op.toString()+" {"+e.getFilters().map($1).join(" ,")+"}"}(n):"Filter";var e}class Lw extends Lr{constructor(e,t,i){super(e,t,i),this.key=Yt.fromName(i.referenceValue)}matches(e){const t=Yt.comparator(e.key,this.key);return this.matchesComparison(t)}}class Vw extends Lr{constructor(e,t){super(e,"in",t),this.keys=z1(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Bw extends Lr{constructor(e,t){super(e,"not-in",t),this.keys=z1(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function z1(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>Yt.fromName(i.referenceValue))}class Uw extends Lr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return _h(t)&&e_(t.arrayValue,this.value)}}class W1 extends Lr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&e_(this.value.arrayValue,t)}}class iy extends Lr{constructor(e,t){super(e,"not-in",t)}matches(e){if(e_(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!e_(this.value.arrayValue,t)}}class vh extends Lr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!_h(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>e_(this.value.arrayValue,i))}}class SD{constructor(e,t=null,i=[],a=[],h=null,g=null,T=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=h,this.startAt=g,this.endAt=T,this.dt=null}}function q1(n,e=null,t=[],i=[],a=null,h=null,g=null){return new SD(n,e,t,i,a,h,g)}function Sd(n){const e=Zt(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>r_(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(a=i).field.canonicalString()+a.dir;var a}).join(","),yf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Df(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Df(i)).join(",")),e.dt=t}return e.dt}function el(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!CD(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!i_(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!ny(n.startAt,e.startAt)&&ny(n.endAt,e.endAt)}function ug(n){return Yt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class yh{constructor(e,t=null,i=[],a=[],h=null,g="F",T=null,P=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=h,this.limitType=g,this.startAt=T,this.endAt=P,this.wt=null,this._t=null}}function lg(n){return new yh(n)}function Z1(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function K1(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Bo(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function ay(n){return null!==n.collectionGroup}function Nf(n){const e=Zt(n);if(null===e.wt){e.wt=[];const t=Bo(e),i=K1(e);if(null!==t&&null===i)t.isKeyField()||e.wt.push(new Sf(t)),e.wt.push(new Sf(ss.keyField(),"asc"));else{let a=!1;for(const h of e.explicitOrderBy)e.wt.push(h),h.field.isKeyField()&&(a=!0);if(!a){const h=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Sf(ss.keyField(),h))}}}return e.wt}function gc(n){const e=Zt(n);if(!e._t)if("F"===e.limitType)e._t=q1(e.path,e.collectionGroup,Nf(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const h of Nf(e))t.push(new Sf(h.field,"desc"===h.dir?"asc":"desc"));const i=e.endAt?new kl(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new kl(e.startAt.position,e.startAt.inclusive):null;e._t=q1(e.path,e.collectionGroup,t,e.filters,e.limit,i,a)}return e._t}function cy(n,e){e.getFirstInequalityField(),Bo(n);const t=n.filters.concat([e]);return new yh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function uy(n,e,t){return new yh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function dg(n,e){return el(gc(n),gc(e))&&n.limitType===e.limitType}function Y1(n){return`${Sd(gc(n))}|lt:${n.limitType}`}function bh(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>$1(i)).join(", ")}]`),yf(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(a=i).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Df(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Df(i)).join(",")),`Target(${t})`}(gc(n))}; limitType=${n.limitType})`}function o_(n,e){return e.isFoundDocument()&&function(t,i){const a=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):Yt.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(n,e)&&function(t,i){for(const a of Nf(t))if(!a.field.isKeyField()&&null===i.data.field(a.field))return!1;return!0}(n,e)&&function(t,i){for(const a of t.filters)if(!a.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(a,h,g){const T=B1(a,h,g);return a.inclusive?T<=0:T<0}(t.startAt,Nf(t),i)||t.endAt&&!function(a,h,g){const T=B1(a,h,g);return a.inclusive?T>=0:T>0}(t.endAt,Nf(t),i)));var t,i}function Q1(n){return(e,t)=>{let i=!1;for(const a of Nf(n)){const h=ND(a,e,t);if(0!==h)return h;i=i||a.field.isKeyField()}return 0}}function ND(n,e,t){const i=n.field.isKeyField()?Yt.comparator(e.key,t.key):function(a,h,g){const T=h.data.field(a),P=g.data.field(a);return null!==T&&null!==P?mh(T,P):ln()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ln()}}class Fl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[a,h]of i)if(this.equalsFn(a,e))return h}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(void 0===a)return this.inner[i]=[[e,t]],void this.innerSize++;for(let h=0;h<a.length;h++)if(this.equalsFn(a[h][0],e))return void(a[h]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return 1===i.length?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Pl(this.inner,(t,i)=>{for(const[a,h]of i)e(a,h)})}isEmpty(){return Qm(this.inner)}size(){return this.innerSize}}const aS=new Oi(Yt.comparator);function mc(){return aS}const ly=new Oi(Yt.comparator);function Pc(...n){let e=ly;for(const t of n)e=e.insert(t.key,t);return e}function jw(n){let e=ly;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function tl(){return _c()}function nl(){return _c()}function _c(){return new Fl(n=>n.toString(),(n,e)=>n.isEqual(e))}const rl=new Oi(Yt.comparator),$w=new Yi(Yt.comparator);function _r(...n){let e=$w;for(const t of n)e=e.add(t);return e}const OD=new Yi(zn);function zw(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rl(e)?"-0":e}}function Ww(n){return{integerValue:""+n}}function dy(n,e){return function bf(n){return"number"==typeof n&&Number.isInteger(n)&&!Rl(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?Ww(e):zw(n,e)}class Ih{constructor(){this._=void 0}}function MD(n,e,t){return n instanceof hg?function(i,a){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Qv(a)&&(a=sg(a)),a&&(h.fields.__previous_value__=a),{mapValue:h}}(t,e):n instanceof wh?X1(n,e):n instanceof Ll?Kw(n,e):function(i,a){const h=Zw(i,a),g=eb(h)+eb(i.gt);return cg(h)&&cg(i.gt)?Ww(g):zw(i.serializer,g)}(n,e)}function qw(n,e,t){return n instanceof wh?X1(n,e):n instanceof Ll?Kw(n,e):t}function Zw(n,e){return n instanceof Of?cg(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class hg extends Ih{}class wh extends Ih{constructor(e){super(),this.elements=e}}function X1(n,e){const t=tb(e);for(const i of n.elements)t.some(a=>Xu(a,i))||t.push(i);return{arrayValue:{values:t}}}class Ll extends Ih{constructor(e){super(),this.elements=e}}function Kw(n,e){let t=tb(e);for(const i of n.elements)t=t.filter(a=>!Xu(a,i));return{arrayValue:{values:t}}}class Of extends Ih{constructor(e,t){super(),this.serializer=e,this.gt=t}}function eb(n){return us(n.integerValue||n.doubleValue)}function tb(n){return _h(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class s_{constructor(e,t){this.field=e,this.transform=t}}class nb{constructor(e,t){this.version=e,this.transformResults=t}}class Mi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Mi}static exists(e){return new Mi(void 0,e)}static updateTime(e){return new Mi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function a_(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class fg{}function rb(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new gg(n.key,Mi.none()):new Mf(n.key,n.data,Mi.none());{const t=n.data,i=Ra.empty();let a=new Yi(ss.comparator);for(let h of e.fields)if(!a.has(h)){let g=t.field(h);null===g&&h.length>1&&(h=h.popLast(),g=t.field(h)),null===g?i.delete(h):i.set(h,g),a=a.add(h)}return new Ad(n.key,i,new Rc(a.toArray()),Mi.none())}}function Yw(n,e,t){n instanceof Mf?function(i,a,h){const g=i.value.clone(),T=Xw(i.fieldTransforms,a,h.transformResults);g.setAll(T),a.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(n,e,t):n instanceof Ad?function(i,a,h){if(!a_(i.precondition,a))return void a.convertToUnknownDocument(h.version);const g=Xw(i.fieldTransforms,a,h.transformResults),T=a.data;T.setAll(Jw(i)),T.setAll(g),a.convertToFoundDocument(h.version,T).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function pg(n,e,t,i){return n instanceof Mf?function(a,h,g,T){if(!a_(a.precondition,h))return g;const P=a.value.clone(),U=eT(a.fieldTransforms,T,h);return P.setAll(U),h.convertToFoundDocument(h.version,P).setHasLocalMutations(),null}(n,e,t,i):n instanceof Ad?function(a,h,g,T){if(!a_(a.precondition,h))return g;const P=eT(a.fieldTransforms,T,h),U=h.data;return U.setAll(Jw(a)),U.setAll(P),h.convertToFoundDocument(h.version,U).setHasLocalMutations(),null===g?null:g.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(ee=>ee.field))}(n,e,t,i):(g=t,a_(n.precondition,h=e)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):g);var h,g}function Qw(n,e){let t=null;for(const i of n.fieldTransforms){const a=e.data.field(i.field),h=Zw(i.transform,a||null);null!=h&&(null===t&&(t=Ra.empty()),t.set(i.field,h))}return t||null}function ib(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&Xp(t,i,(a,h)=>function xD(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof wh&&i instanceof wh||t instanceof Ll&&i instanceof Ll?Xp(t.elements,i.elements,Xu):t instanceof Of&&i instanceof Of?Xu(t.gt,i.gt):t instanceof hg&&i instanceof hg);var t,i}(a,h))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class Mf extends fg{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ad extends fg{constructor(e,t,i,a,h=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Jw(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Xw(n,e,t){const i=new Map;yn(n.length===t.length);for(let a=0;a<t.length;a++){const h=n[a],g=h.transform,T=e.data.field(h.field);i.set(h.field,qw(g,T,t[a]))}return i}function eT(n,e,t){const i=new Map;for(const a of n){const h=a.transform,g=t.data.field(a.field);i.set(a.field,MD(h,g,e))}return i}class gg extends fg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ob extends fg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class sb{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const h=this.mutations[a];h.key.isEqual(e.key)&&Yw(h,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=pg(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=pg(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=nl();return this.mutations.forEach(a=>{const h=e.get(a.key),g=h.overlayedDocument;let T=this.applyToLocalView(g,h.mutatedFields);T=t.has(a.key)?null:T;const P=rb(g,T);null!==P&&i.set(a.key,P),g.isValidDocument()||g.convertToNoDocument(Mn.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),_r())}isEqual(e){return this.batchId===e.batchId&&Xp(this.mutations,e.mutations,(t,i)=>ib(t,i))&&Xp(this.baseMutations,e.baseMutations,(t,i)=>ib(t,i))}}class ab{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){yn(e.mutations.length===i.length);let a=rl;const h=e.mutations;for(let g=0;g<h.length;g++)a=a.insert(h[g].key,i[g].version);return new ab(e,t,i,a)}}class cb{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class PD{constructor(e,t){this.count=e,this.unchangedNames=t}}var xs,Wr;function nT(n){if(void 0===n)return os("GRPC error has no .code"),nt.UNKNOWN;switch(n){case xs.OK:return nt.OK;case xs.CANCELLED:return nt.CANCELLED;case xs.UNKNOWN:return nt.UNKNOWN;case xs.DEADLINE_EXCEEDED:return nt.DEADLINE_EXCEEDED;case xs.RESOURCE_EXHAUSTED:return nt.RESOURCE_EXHAUSTED;case xs.INTERNAL:return nt.INTERNAL;case xs.UNAVAILABLE:return nt.UNAVAILABLE;case xs.UNAUTHENTICATED:return nt.UNAUTHENTICATED;case xs.INVALID_ARGUMENT:return nt.INVALID_ARGUMENT;case xs.NOT_FOUND:return nt.NOT_FOUND;case xs.ALREADY_EXISTS:return nt.ALREADY_EXISTS;case xs.PERMISSION_DENIED:return nt.PERMISSION_DENIED;case xs.FAILED_PRECONDITION:return nt.FAILED_PRECONDITION;case xs.ABORTED:return nt.ABORTED;case xs.OUT_OF_RANGE:return nt.OUT_OF_RANGE;case xs.UNIMPLEMENTED:return nt.UNIMPLEMENTED;case xs.DATA_LOSS:return nt.DATA_LOSS;default:return ln()}}(Wr=xs||(xs={}))[Wr.OK=0]="OK",Wr[Wr.CANCELLED=1]="CANCELLED",Wr[Wr.UNKNOWN=2]="UNKNOWN",Wr[Wr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Wr[Wr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Wr[Wr.NOT_FOUND=5]="NOT_FOUND",Wr[Wr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Wr[Wr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Wr[Wr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Wr[Wr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Wr[Wr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Wr[Wr.ABORTED=10]="ABORTED",Wr[Wr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Wr[Wr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Wr[Wr.INTERNAL=13]="INTERNAL",Wr[Wr.UNAVAILABLE=14]="UNAVAILABLE",Wr[Wr.DATA_LOSS=15]="DATA_LOSS";class ub{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return hy}static getOrCreateInstance(){return null===hy&&(hy=new ub),hy}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let hy=null;const iT=new mf([4294967295,4294967295],0);function lb(n){const e=function rT(){return new TextEncoder}().encode(n),t=new fw;return t.update(e),new Uint8Array(t.digest())}function db(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new mf([t,i],0),new mf([a,h],0)]}class fy{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new mg(`Invalid padding: ${t}`);if(i<0)throw new mg(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new mg(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new mg(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=mf.fromNumber(this.It)}Et(e,t,i){let a=e.add(t.multiply(mf.fromNumber(i)));return 1===a.compare(iT)&&(a=new mf([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=lb(e),[i,a]=db(t);for(let h=0;h<this.hashCount;h++){const g=this.Et(i,a,h);if(!this.At(g))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),g=new fy(h,a,t);return i.forEach(T=>g.insert(T)),g}insert(e){if(0===this.It)return;const t=lb(e),[i,a]=db(t);for(let h=0;h<this.hashCount;h++){const g=this.Et(i,a,h);this.Rt(g)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class mg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class _g{constructor(e,t,i,a,h){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,vg.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new _g(Mn.min(),a,new Oi(zn),mc(),_r())}}class vg{constructor(e,t,i,a,h){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new vg(i,t,_r(),_r(),_r())}}class c_{constructor(e,t,i,a){this.Pt=e,this.removedTargetIds=t,this.key=i,this.bt=a}}class hb{constructor(e,t){this.targetId=e,this.Vt=t}}class py{constructor(e,t,i=cs.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class fb{constructor(){this.St=0,this.Dt=sT(),this.Ct=cs.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=_r(),t=_r(),i=_r();return this.Dt.forEach((a,h)=>{switch(h){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:ln()}}),new vg(this.Ct,this.xt,e,t,i)}Ft(){this.Nt=!1,this.Dt=sT()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class xf{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=mc(),this.zt=oT(),this.Wt=new Oi(zn)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const i=this.Zt(t);switch(e.state){case 0:this.te(t)&&i.$t(e.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(e.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(t);break;case 3:this.te(t)&&(i.Kt(),i.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),i.$t(e.resumeToken));break;default:ln()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((i,a)=>{this.te(a)&&t(a)})}ne(e){var t;const i=e.targetId,a=e.Vt.count,h=this.se(i);if(h){const g=h.target;if(ug(g))if(0===a){const T=new Yt(g.path);this.Yt(i,T,Ui.newNoDocument(T,Mn.min()))}else yn(1===a);else{const T=this.ie(i);if(T!==a){const P=this.re(e,T);0!==P&&(this.ee(i),this.Wt=this.Wt.insert(i,2===P?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=ub.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(U,ee,he){var Fe,at,Mt,Xt,nn,vr;const $r={localCacheCount:ee,existenceFilterCount:he.count},Cr=he.unchangedNames;return Cr&&($r.bloomFilter={applied:0===U,hashCount:null!==(Fe=Cr?.hashCount)&&void 0!==Fe?Fe:0,bitmapLength:null!==(Xt=null===(Mt=null===(at=Cr?.bits)||void 0===at?void 0:at.bitmap)||void 0===Mt?void 0:Mt.length)&&void 0!==Xt?Xt:0,padding:null!==(vr=null===(nn=Cr?.bits)||void 0===nn?void 0:nn.padding)&&void 0!==vr?vr:0}),$r}(P,T,e.Vt))}}}}re(e,t){const{unchangedNames:i,count:a}=e.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:h="",padding:g=0},hashCount:T=0}=i;let P,U;try{P=Dd(h).toUint8Array()}catch(ee){if(ee instanceof xw)return Nu("Decoding the base64 bloom filter in existence filter failed ("+ee.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw ee}try{U=new fy(P,g,T)}catch(ee){return Nu(ee instanceof mg?"BloomFilter error: ":"Applying bloom filter failed: ",ee),1}return 0===U.It?1:a!==t-this.oe(e.targetId,U)?2:0}oe(e,t){const i=this.Gt.getRemoteKeysForTarget(e);let a=0;return i.forEach(h=>{const g=this.Gt.ue(),T=`projects/${g.projectId}/databases/${g.database}/documents/${h.path.canonicalString()}`;t.vt(T)||(this.Yt(e,h,null),a++)}),a}ce(e){const t=new Map;this.Qt.forEach((h,g)=>{const T=this.se(g);if(T){if(h.current&&ug(T.target)){const P=new Yt(T.target.path);null!==this.jt.get(P)||this.ae(g,P)||this.Yt(g,P,Ui.newNoDocument(P,e))}h.Mt&&(t.set(g,h.Ot()),h.Ft())}});let i=_r();this.zt.forEach((h,g)=>{let T=!0;g.forEachWhile(P=>{const U=this.se(P);return!U||"TargetPurposeLimboResolution"===U.purpose||(T=!1,!1)}),T&&(i=i.add(h))}),this.jt.forEach((h,g)=>g.setReadTime(e));const a=new _g(e,t,this.Wt,this.jt,i);return this.jt=mc(),this.zt=oT(),this.Wt=new Oi(zn),a}Jt(e,t){if(!this.te(e))return;const i=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,i),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,i){if(!this.te(e))return;const a=this.Zt(e);this.ae(e,t)?a.Bt(t,1):a.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),i&&(this.jt=this.jt.insert(t,i))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new fb,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Yi(zn),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||At("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new fb),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function oT(){return new Oi(Yt.comparator)}function sT(){return new Oi(Yt.comparator)}const yg={asc:"ASCENDING",desc:"DESCENDING"},cS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pb={and:"AND",or:"OR"};class uS{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function gy(n,e){return n.useProto3Json||yf(e)?e:{value:e}}function Rf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kD(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function bg(n,e){return Rf(n,e.toTimestamp())}function ls(n){return yn(!!n),Mn.fromTimestamp(function(e){const t=Ju(e);return new wo(t.seconds,t.nanos)}(n))}function gb(n,e){return(t=n,new zr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function aT(n){const e=zr.fromString(n);return yn(Tg(e)),e}function Vl(n,e){return gb(n.databaseId,e.path)}function Bl(n,e){const t=aT(e);if(t.get(1)!==n.databaseId.projectId)throw new Et(nt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Et(nt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Yt(FD(t))}function Ig(n,e){return gb(n.databaseId,e)}function ba(n){return new zr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function FD(n){return yn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function mb(n,e,t){return{name:Vl(n,e),fields:t.value.mapValue.fields}}function lT(n,e){return{documents:[Ig(n,e.path)]}}function vb(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=Ig(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Ig(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const a=function(P){if(0!==P.length)return yb(pi.create(P,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const h=function(P){if(0!==P.length)return P.map(U=>{return{field:Nd((ee=U).field),direction:VD(ee.dir)};var ee})}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const g=gy(n,e.limit);var T,P;return null!==g&&(t.structuredQuery.limit=g),e.startAt&&(t.structuredQuery.startAt={before:(T=e.startAt).inclusive,values:T.position}),e.endAt&&(t.structuredQuery.endAt={before:!(P=e.endAt).inclusive,values:P.position}),t}function dT(n){let e=function u_(n){const e=aT(n);return 4===e.length?zr.emptyPath():FD(e)}(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){yn(1===i);const ee=t.from[0];ee.allDescendants?a=ee.collectionId:e=e.child(ee.collectionId)}let h=[];t.where&&(h=function(ee){const he=hT(ee);return he instanceof pi&&ry(he)?he.getFilters():[he]}(t.where));let g=[];t.orderBy&&(g=t.orderBy.map(ee=>{return new Sf(Pf((he=ee).field),function(Fe){switch(Fe){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(he.direction));var he}));let T=null;t.limit&&(T=function(ee){let he;return he="object"==typeof ee?ee.value:ee,yf(he)?null:he}(t.limit));let P=null;var ee;t.startAt&&(P=new kl((ee=t.startAt).values||[],!!ee.before));let U=null;return t.endAt&&(U=function(ee){return new kl(ee.values||[],!ee.before)}(t.endAt)),function Hw(n,e,t,i,a,h,g,T){return new yh(n,e,t,i,a,h,g,T)}(e,a,g,h,T,"F",P,U)}function hT(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Pf(e.unaryFilter.field);return Lr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=Pf(e.unaryFilter.field);return Lr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Pf(e.unaryFilter.field);return Lr.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Pf(e.unaryFilter.field);return Lr.create(h,"!=",{nullValue:"NULL_VALUE"});default:return ln()}}(n):void 0!==n.fieldFilter?Lr.create(Pf((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ln()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return pi.create(e.compositeFilter.filters.map(t=>hT(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return ln()}}(e.compositeFilter.op))}(n):ln();var e}function VD(n){return yg[n]}function BD(n){return cS[n]}function _y(n){return pb[n]}function Nd(n){return{fieldPath:n.canonicalString()}}function Pf(n){return ss.fromServerFormat(n.fieldPath)}function yb(n){return n instanceof Lr?function(e){if("=="===e.op){if(F1(e.value))return{unaryFilter:{field:Nd(e.field),op:"IS_NAN"}};if(Jv(e.value))return{unaryFilter:{field:Nd(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(F1(e.value))return{unaryFilter:{field:Nd(e.field),op:"IS_NOT_NAN"}};if(Jv(e.value))return{unaryFilter:{field:Nd(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Nd(e.field),op:BD(e.op),value:e.value}}}(n):n instanceof pi?function(e){const t=e.getFilters().map(i=>yb(i));return 1===t.length?t[0]:{compositeFilter:{op:_y(e.op),filters:t}}}(n):ln()}function UD(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Tg(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class ou{constructor(e,t,i,a,h=Mn.min(),g=Mn.min(),T=cs.EMPTY_BYTE_STRING,P=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=g,this.resumeToken=T,this.expectedCount=P}withSequenceNumber(e){return new ou(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ou(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ou(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ou(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class fT{constructor(e){this.fe=e}}function bb(n){const e=dT({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?uy(e,e.limit,"L"):e}class Dh{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(us(e.integerValue));else if("doubleValue"in e){const i=us(e.doubleValue);isNaN(i)?this.ye(t,13):(this.ye(t,15),Rl(i)?t.pe(0):t.pe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ye(t,20),"string"==typeof i?t.Ie(i):(t.Ie(`${i.seconds||""}`),t.pe(i.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Dd(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?kw(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):ln()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const i=e.fields||{};this.ye(t,55);for(const a of Object.keys(i))this.Te(a,t),this.me(i[a],t)}Pe(e,t){const i=e.values||[];this.ye(t,50);for(const a of i)this.me(a,t)}ve(e,t){this.ye(t,37),Yt.fromName(e).path.forEach(i=>{this.ye(t,60),this.be(i,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}Dh.Ve=new Dh;class KD{constructor(){this.rn=new wy}addToCollectionParentIndex(e,t){return this.rn.add(t),Ke.resolve()}getCollectionParents(e,t){return Ke.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Ke.resolve()}deleteFieldIndex(e,t){return Ke.resolve()}getDocumentsMatchingTarget(e,t){return Ke.resolve(null)}getIndexType(e,t){return Ke.resolve(0)}getFieldIndexes(e,t){return Ke.resolve([])}getNextCollectionGroupToUpdate(e){return Ke.resolve(null)}getMinOffset(e,t){return Ke.resolve(Mc.min())}getMinOffsetFromCollectionGroup(e,t){return Ke.resolve(Mc.min())}updateCollectionGroup(e,t,i){return Ke.resolve()}updateIndexEntries(e,t){return Ke.resolve()}}class wy{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new Yi(zr.comparator),h=!a.has(i);return this.index[t]=a.add(i),h}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Yi(zr.comparator)).toArray()}}new Uint8Array(0);class Wa{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Wa(e,Wa.DEFAULT_COLLECTION_PERCENTILE,Wa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Wa.DEFAULT_COLLECTION_PERCENTILE=10,Wa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wa.DEFAULT=new Wa(41943040,Wa.DEFAULT_COLLECTION_PERCENTILE,Wa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wa.DISABLED=new Wa(-1,0,0);class Sh{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Sh(0)}static Mn(){return new Sh(-1)}}class JD{constructor(){this.changes=new Fl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ui.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?Ke.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ob{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Sy{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(null!==i&&pg(i.mutation,a,Rc.empty(),wo.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,_r()).next(()=>i))}getLocalViewOfDocuments(e,t,i=_r()){const a=tl();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,i).next(h=>{let g=Pc();return h.forEach((T,P)=>{g=g.insert(T,P.overlayedDocument)}),g}))}getOverlayedDocuments(e,t){const i=tl();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,_r()))}populateOverlays(e,t,i){const a=[];return i.forEach(h=>{t.has(h)||a.push(h)}),this.documentOverlayCache.getOverlays(e,a).next(h=>{h.forEach((g,T)=>{t.set(g,T)})})}computeViews(e,t,i,a){let h=mc();const g=_c(),T=_c();return t.forEach((P,U)=>{const ee=i.get(U.key);a.has(U.key)&&(void 0===ee||ee.mutation instanceof Ad)?h=h.insert(U.key,U):void 0!==ee?(g.set(U.key,ee.mutation.getFieldMask()),pg(ee.mutation,U,ee.mutation.getFieldMask(),wo.now())):g.set(U.key,Rc.empty())}),this.recalculateAndSaveOverlays(e,h).next(P=>(P.forEach((U,ee)=>g.set(U,ee)),t.forEach((U,ee)=>{var he;return T.set(U,new Ob(ee,null!==(he=g.get(U))&&void 0!==he?he:null))}),T))}recalculateAndSaveOverlays(e,t){const i=_c();let a=new Oi((g,T)=>g-T),h=_r();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(g=>{for(const T of g)T.keys().forEach(P=>{const U=t.get(P);if(null===U)return;let ee=i.get(P)||Rc.empty();ee=T.applyToLocalView(U,ee),i.set(P,ee);const he=(a.get(T.batchId)||_r()).add(P);a=a.insert(T.batchId,he)})}).next(()=>{const g=[],T=a.getReverseIterator();for(;T.hasNext();){const P=T.getNext(),U=P.key,ee=P.value,he=nl();ee.forEach(Fe=>{if(!h.has(Fe)){const at=rb(t.get(Fe),i.get(Fe));null!==at&&he.set(Fe,at),h=h.add(Fe)}}),g.push(this.documentOverlayCache.saveOverlays(e,U,he))}return Ke.waitFor(g)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return Yt.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):ay(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var a}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next(h=>{const g=a-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-h.size):Ke.resolve(tl());let T=-1,P=h;return g.next(U=>Ke.forEach(U,(ee,he)=>(T<he.largestBatchId&&(T=he.largestBatchId),h.get(ee)?Ke.resolve():this.remoteDocumentCache.getEntry(e,ee).next(Fe=>{P=P.insert(ee,Fe)}))).next(()=>this.populateOverlays(e,U,h)).next(()=>this.computeViews(e,P,U,_r())).next(ee=>({batchId:T,changes:jw(ee)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Yt(t)).next(i=>{let a=Pc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const a=t.collectionGroup;let h=Pc();return this.indexManager.getCollectionParents(e,a).next(g=>Ke.forEach(g,T=>{const P=(U=t,ee=T.child(a),new yh(ee,null,U.explicitOrderBy.slice(),U.filters.slice(),U.limit,U.limitType,U.startAt,U.endAt));var U,ee;return this.getDocumentsMatchingCollectionQuery(e,P,i).next(U=>{U.forEach((ee,he)=>{h=h.insert(ee,he)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(h=>(a=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a))).next(h=>{a.forEach((T,P)=>{const U=P.getKey();null===h.get(U)&&(h=h.insert(U,Ui.newInvalidDocument(U)))});let g=Pc();return h.forEach((T,P)=>{const U=a.get(T);void 0!==U&&pg(U.mutation,P,Rc.empty(),wo.now()),o_(t,P)&&(g=g.insert(T,P))}),g})}}class nC{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Ke.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var i;return this.cs.set(t.id,{id:(i=t).id,version:i.version,createTime:ls(i.createTime)}),Ke.resolve()}getNamedQuery(e,t){return Ke.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(i=t).name,query:bb(i.bundledQuery),readTime:ls(i.readTime)}),Ke.resolve();var i}}class NT{constructor(){this.overlays=new Oi(Yt.comparator),this.ls=new Map}getOverlay(e,t){return Ke.resolve(this.overlays.get(t))}getOverlays(e,t){const i=tl();return Ke.forEach(t,a=>this.getOverlay(e,a).next(h=>{null!==h&&i.set(a,h)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((a,h)=>{this.we(e,t,h)}),Ke.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.ls.get(i);return void 0!==a&&(a.forEach(h=>this.overlays=this.overlays.remove(h)),this.ls.delete(i)),Ke.resolve()}getOverlaysForCollection(e,t,i){const a=tl(),h=t.length+1,g=new Yt(t.child("")),T=this.overlays.getIteratorFrom(g);for(;T.hasNext();){const P=T.getNext().value,U=P.getKey();if(!t.isPrefixOf(U.path))break;U.path.length===h&&P.largestBatchId>i&&a.set(P.getKey(),P)}return Ke.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let h=new Oi((U,ee)=>U-ee);const g=this.overlays.getIterator();for(;g.hasNext();){const U=g.getNext().value;if(U.getKey().getCollectionGroup()===t&&U.largestBatchId>i){let ee=h.get(U.largestBatchId);null===ee&&(ee=tl(),h=h.insert(U.largestBatchId,ee)),ee.set(U.getKey(),U)}}const T=tl(),P=h.getIterator();for(;P.hasNext()&&(P.getNext().value.forEach((U,ee)=>T.set(U,ee)),!(T.size()>=a)););return Ke.resolve(T)}we(e,t,i){const a=this.overlays.get(i.key);if(null!==a){const g=this.ls.get(a.largestBatchId).delete(i.key);this.ls.set(a.largestBatchId,g)}this.overlays=this.overlays.insert(i.key,new cb(t,i));let h=this.ls.get(t);void 0===h&&(h=_r(),this.ls.set(t,h)),this.ls.set(t,h.add(i.key))}}class Ay{constructor(){this.fs=new Yi(Ia.ds),this.ws=new Yi(Ia._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const i=new Ia(e,t);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.ys(new Ia(e,t))}ps(e,t){e.forEach(i=>this.removeReference(i,t))}Is(e){const t=new Yt(new zr([])),i=new Ia(t,e),a=new Ia(t,e+1),h=[];return this.ws.forEachInRange([i,a],g=>{this.ys(g),h.push(g.key)}),h}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Yt(new zr([])),i=new Ia(t,e),a=new Ia(t,e+1);let h=_r();return this.ws.forEachInRange([i,a],g=>{h=h.add(g.key)}),h}containsKey(e){const t=new Ia(e,0),i=this.fs.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Ia{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Yt.comparator(e.key,t.key)||zn(e.As,t.As)}static _s(e,t){return zn(e.As,t.As)||Yt.comparator(e.key,t.key)}}class OT{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Yi(Ia.ds)}checkEmpty(e){return Ke.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,a){const h=this.vs;this.vs++;const g=new sb(h,t,i,a);this.mutationQueue.push(g);for(const T of a)this.Rs=this.Rs.add(new Ia(T.key,h)),this.indexManager.addToCollectionParentIndex(e,T.key.path.popLast());return Ke.resolve(g)}lookupMutationBatch(e,t){return Ke.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.bs(t+1),h=a<0?0:a;return Ke.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Ke.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Ke.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Ia(t,0),a=new Ia(t,Number.POSITIVE_INFINITY),h=[];return this.Rs.forEachInRange([i,a],g=>{const T=this.Ps(g.As);h.push(T)}),Ke.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Yi(zn);return t.forEach(a=>{const h=new Ia(a,0),g=new Ia(a,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([h,g],T=>{i=i.add(T.As)})}),Ke.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let h=i;Yt.isDocumentKey(h)||(h=h.child(""));const g=new Ia(new Yt(h),0);let T=new Yi(zn);return this.Rs.forEachWhile(P=>{const U=P.key.path;return!!i.isPrefixOf(U)&&(U.length===a&&(T=T.add(P.As)),!0)},g),Ke.resolve(this.Vs(T))}Vs(e){const t=[];return e.forEach(i=>{const a=this.Ps(i);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){yn(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return Ke.forEach(t.mutations,a=>{const h=new Ia(a.key,t.batchId);return i=i.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Rs=i})}Cn(e){}containsKey(e,t){const i=new Ia(t,0),a=this.Rs.firstAfterOrEqual(i);return Ke.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return Ke.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Mb{constructor(e){this.Ds=e,this.docs=new Oi(Yt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),h=a?a.size:0,g=this.Ds(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:g}),this.size+=g-h,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Ke.resolve(i?i.document.mutableCopy():Ui.newInvalidDocument(t))}getEntries(e,t){let i=mc();return t.forEach(a=>{const h=this.docs.get(a);i=i.insert(a,h?h.document.mutableCopy():Ui.newInvalidDocument(a))}),Ke.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let h=mc();const g=t.path,T=new Yt(g.child("")),P=this.docs.getIteratorFrom(T);for(;P.hasNext();){const{key:U,value:{document:ee}}=P.getNext();if(!g.isPrefixOf(U.path))break;U.path.length>g.length+1||qv(Iw(ee),i)<=0||(a.has(ee.key)||o_(t,ee))&&(h=h.insert(ee.key,ee.mutableCopy()))}return Ke.resolve(h)}getAllFromCollectionGroup(e,t,i,a){ln()}Cs(e,t){return Ke.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new MT(this)}getSize(e){return Ke.resolve(this.size)}}class MT extends JD{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?t.push(this.os.addEntry(e,a)):this.os.removeEntry(i)}),Ke.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class xT{constructor(e){this.persistence=e,this.xs=new Fl(t=>Sd(t),el),this.lastRemoteSnapshotVersion=Mn.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Ay,this.targetCount=0,this.Ms=Sh.kn()}forEachTarget(e,t){return this.xs.forEach((i,a)=>t(a)),Ke.resolve()}getLastRemoteSnapshotVersion(e){return Ke.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ke.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Ke.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Ns&&(this.Ns=t),Ke.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Sh(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Ke.resolve()}updateTargetData(e,t){return this.Fn(t),Ke.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Ke.resolve()}removeTargets(e,t,i){let a=0;const h=[];return this.xs.forEach((g,T)=>{T.sequenceNumber<=t&&null===i.get(T.targetId)&&(this.xs.delete(g),h.push(this.removeMatchingKeysForTargetId(e,T.targetId)),a++)}),Ke.waitFor(h).next(()=>a)}getTargetCount(e){return Ke.resolve(this.targetCount)}getTargetData(e,t){const i=this.xs.get(t)||null;return Ke.resolve(i)}addMatchingKeys(e,t,i){return this.ks.gs(t,i),Ke.resolve()}removeMatchingKeys(e,t,i){this.ks.ps(t,i);const a=this.persistence.referenceDelegate,h=[];return a&&t.forEach(g=>{h.push(a.markPotentiallyOrphaned(e,g))}),Ke.waitFor(h)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Ke.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ks.Es(t);return Ke.resolve(i)}containsKey(e,t){return Ke.resolve(this.ks.containsKey(t))}}class Ny{constructor(e,t){this.$s={},this.overlays={},this.Os=new ho(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new xT(this),this.indexManager=new KD,this.remoteDocumentCache=new Mb(i=>this.referenceDelegate.Ls(i)),this.serializer=new fT(t),this.qs=new nC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new NT,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.$s[e.toKey()];return i||(i=new OT(t,this.referenceDelegate),this.$s[e.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,i){At("MemoryPersistence","Starting transaction:",e);const a=new RT(this.Os.next());return this.referenceDelegate.Us(),i(a).next(h=>this.referenceDelegate.Ks(a).next(()=>h)).toPromise().then(h=>(a.raiseOnCommittedEvent(),h))}Gs(e,t){return Ke.or(Object.values(this.$s).map(i=>()=>i.containsKey(e,t)))}}class RT extends mD{constructor(e){super(),this.currentSequenceNumber=e}}class Oy{constructor(e){this.persistence=e,this.Qs=new Ay,this.js=null}static zs(e){return new Oy(e)}get Ws(){if(this.js)return this.js;throw ln()}addReference(e,t,i){return this.Qs.addReference(i,t),this.Ws.delete(i.toString()),Ke.resolve()}removeReference(e,t,i){return this.Qs.removeReference(i,t),this.Ws.add(i.toString()),Ke.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Ke.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(a=>this.Ws.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(h=>this.Ws.add(h.toString()))}).next(()=>i.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ke.forEach(this.Ws,i=>{const a=Yt.fromPath(i);return this.Hs(e,a).next(h=>{h||t.removeEntry(a,Mn.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(i=>{i?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return Ke.or([()=>Ke.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class FT{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.Fi=i,this.Bi=a}static Li(e,t){let i=_r(),a=_r();for(const h of t.docChanges)switch(h.type){case 0:i=i.add(h.doc.key);break;case 1:a=a.add(h.doc.key)}return new FT(e,t.fromCache,i,a)}}class LT{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,i,a){return this.Ki(e,t).next(h=>h||this.Gi(e,t,a,i)).next(h=>h||this.Qi(e,t))}Ki(e,t){if(Z1(t))return Ke.resolve(null);let i=gc(t);return this.indexManager.getIndexType(e,i).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=uy(t,null,"F"),i=gc(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(h=>{const g=_r(...h);return this.Ui.getDocuments(e,g).next(T=>this.indexManager.getMinOffset(e,i).next(P=>{const U=this.ji(t,T);return this.zi(t,U,g,P.readTime)?this.Ki(e,uy(t,null,"F")):this.Wi(e,U,t,P)}))})))}Gi(e,t,i,a){return Z1(t)||a.isEqual(Mn.min())?this.Qi(e,t):this.Ui.getDocuments(e,i).next(h=>{const g=this.ji(t,h);return this.zi(t,g,i,a)?this.Qi(e,t):(A1()<=Ie.in.DEBUG&&At("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),bh(t)),this.Wi(e,g,t,function bw(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=Mn.fromTimestamp(1e9===i?new wo(t+1,0):new wo(t,i));return new Mc(a,Yt.empty(),e)}(a,-1)))})}ji(e,t){let i=new Yi(Q1(e));return t.forEach((a,h)=>{o_(e,h)&&(i=i.add(h))}),i}zi(e,t,i,a){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const h="F"===e.limitType?t.last():t.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(a)>0)}Qi(e,t){return A1()<=Ie.in.DEBUG&&At("QueryEngine","Using full collection scan to execute query:",bh(t)),this.Ui.getDocumentsMatchingQuery(e,t,Mc.min())}Wi(e,t,i,a){return this.Ui.getDocumentsMatchingQuery(e,i,a).next(h=>(t.forEach(g=>{h=h.insert(g.key,g)}),h))}}class iC{constructor(e,t,i,a){this.persistence=e,this.Hi=t,this.serializer=a,this.Ji=new Oi(zn),this.Yi=new Fl(h=>Sd(h),el),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(i)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Sy(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function Rb(n,e){return Py.apply(this,arguments)}function Py(){return Py=(0,ue.Z)(function*(n,e){const t=Zt(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next(h=>(a=h,t.tr(e),t.mutationQueue.getAllMutationBatches(i))).next(h=>{const g=[],T=[];let P=_r();for(const U of a){g.push(U.batchId);for(const ee of U.mutations)P=P.add(ee.key)}for(const U of h){T.push(U.batchId);for(const ee of U.mutations)P=P.add(ee.key)}return t.localDocuments.getDocuments(i,P).next(U=>({er:U,removedBatchIds:g,addedBatchIds:T}))})})}),Py.apply(this,arguments)}function UT(n){const e=Zt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function sC(n,e){const t=Zt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Pg(n,e,t){return Lf.apply(this,arguments)}function Lf(){return Lf=(0,ue.Z)(function*(n,e,t){const i=Zt(n),a=i.Ji.get(e),h=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",h,g=>i.persistence.referenceDelegate.removeTarget(g,a)))}catch(g){if(!xl(g))throw g;At("LocalStore",`Failed to update sequence numbers for target ${e}: ${g}`)}i.Ji=i.Ji.remove(e),i.Yi.delete(a.target)}),Lf.apply(this,arguments)}function v_(n,e,t){const i=Zt(n);let a=Mn.min(),h=_r();return i.persistence.runTransaction("Execute query","readonly",g=>function(T,P,U){const ee=Zt(T),he=ee.Yi.get(U);return void 0!==he?Ke.resolve(ee.Ji.get(he)):ee.Bs.getTargetData(P,U)}(i,g,gc(e)).next(T=>{if(T)return a=T.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(g,T.targetId).next(P=>{h=P})}).next(()=>i.Hi.getDocumentsMatchingQuery(g,e,t?a:Mn.min(),t?h:_r())).next(T=>(function Fb(n,e,t){let i=n.Xi.get(e)||Mn.min();t.forEach((a,h)=>{h.readTime.compareTo(i)>0&&(i=h.readTime)}),n.Xi.set(e,i)}(i,function Gw(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),T),{documents:T,ir:h})))}class Vb{constructor(){this.activeTargetIds=function J1(){return OD}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $T{constructor(){this.Hr=new Vb,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,i){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Vb,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class dS{Yr(e){}shutdown(){}}class zT{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){At("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){At("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Bb=null;function Bf(){return null===Bb?Bb=268435456+Math.round(2147483648*Math.random()):Bb++,"0x"+Bb.toString(16)}const uC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class lC{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const qa="WebChannelConnection";class By extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,i,a,h){const g=Bf(),T=this.To(e,t);At("RestConnection",`Sending RPC '${e}' ${g}:`,T,i);const P={};return this.Eo(P,a,h),this.Ao(e,T,P,i).then(U=>(At("RestConnection",`Received RPC '${e}' ${g}: `,U),U),U=>{throw Nu("RestConnection",`RPC '${e}' ${g} failed with error: `,U,"url: ",T,"request:",i),U})}vo(e,t,i,a,h,g){return this.Io(e,t,i,a,h)}Eo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+fh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,h)=>e[h]=a),i&&i.headers.forEach((a,h)=>e[h]=a)}To(e,t){return`${this.mo}/v1/${t}:${uC[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,i,a){const h=Bf();return new Promise((g,T)=>{const P=new nS;P.setWithCredentials(!0),P.listenOnce(aD.COMPLETE,()=>{try{switch(P.getLastErrorCode()){case $v.NO_ERROR:const ee=P.getResponseJson();At(qa,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(ee)),g(ee);break;case $v.TIMEOUT:At(qa,`RPC '${e}' ${h} timed out`),T(new Et(nt.DEADLINE_EXCEEDED,"Request time out"));break;case $v.HTTP_ERROR:const he=P.getStatus();if(At(qa,`RPC '${e}' ${h} failed with status:`,he,"response text:",P.getResponseText()),he>0){let Fe=P.getResponseJson();Array.isArray(Fe)&&(Fe=Fe[0]);const at=Fe?.error;if(at&&at.status&&at.message){const Mt=function(Xt){const nn=Xt.toLowerCase().replace(/_/g,"-");return Object.values(nt).indexOf(nn)>=0?nn:nt.UNKNOWN}(at.status);T(new Et(Mt,at.message))}else T(new Et(nt.UNKNOWN,"Server responded with status "+P.getStatus()))}else T(new Et(nt.UNAVAILABLE,"Connection failed."));break;default:ln()}}finally{At(qa,`RPC '${e}' ${h} completed.`)}});const U=JSON.stringify(a);At(qa,`RPC '${e}' ${h} sending request:`,a),P.send(t,"POST",U,i,15)})}Ro(e,t,i){const a=Bf(),h=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],g=D1(),T=sD(),P={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},U=this.longPollingOptions.timeoutSeconds;void 0!==U&&(P.longPollingTimeout=Math.round(1e3*U)),this.useFetchStreams&&(P.xmlHttpFactory=new zv({})),this.Eo(P.initMessageHeaders,t,i),P.encodeInitMessageHeaders=!0;const ee=h.join("");At(qa,`Creating RPC '${e}' stream ${a}: ${ee}`,P);const he=g.createWebChannel(ee,P);let Fe=!1,at=!1;const Mt=new lC({ro:nn=>{at?At(qa,`Not sending because RPC '${e}' stream ${a} is closed:`,nn):(Fe||(At(qa,`Opening RPC '${e}' stream ${a} transport.`),he.open(),Fe=!0),At(qa,`RPC '${e}' stream ${a} sending:`,nn),he.send(nn))},oo:()=>he.close()}),Xt=(nn,vr,$r)=>{nn.listen(vr,Cr=>{try{$r(Cr)}catch(Rs){setTimeout(()=>{throw Rs},0)}})};return Xt(he,Jp.EventType.OPEN,()=>{at||At(qa,`RPC '${e}' stream ${a} transport opened.`)}),Xt(he,Jp.EventType.CLOSE,()=>{at||(at=!0,At(qa,`RPC '${e}' stream ${a} transport closed`),Mt.wo())}),Xt(he,Jp.EventType.ERROR,nn=>{at||(at=!0,Nu(qa,`RPC '${e}' stream ${a} transport errored:`,nn),Mt.wo(new Et(nt.UNAVAILABLE,"The operation could not be completed")))}),Xt(he,Jp.EventType.MESSAGE,nn=>{var vr;if(!at){const $r=nn.data[0];yn(!!$r);const Rs=$r.error||(null===(vr=$r[0])||void 0===vr?void 0:vr.error);if(Rs){At(qa,`RPC '${e}' stream ${a} received error:`,Rs);const hs=Rs.status;let xi=function(Zf){const R0=xs[Zf];if(void 0!==R0)return nT(R0)}(hs),bc=Rs.message;void 0===xi&&(xi=nt.INTERNAL,bc="Unknown error status: "+hs+" with message "+Rs.message),at=!0,Mt.wo(new Et(xi,bc)),he.close()}else At(qa,`RPC '${e}' stream ${a} received:`,$r),Mt._o($r)}}),Xt(T,hw.STAT_EVENT,nn=>{nn.stat===C1.PROXY?At(qa,`RPC '${e}' stream ${a} detected buffering proxy`):nn.stat===C1.NOPROXY&&At(qa,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{Mt.fo()},0),Mt}}function Uy(){return typeof document<"u"?document:null}function kg(n){return new uS(n,!0)}class Fg{constructor(e,t,i=1e3,a=1.5,h=6e4){this.ii=e,this.timerId=t,this.Po=i,this.bo=a,this.Vo=h,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),a=Math.max(0,t-i);a>0&&At("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,a,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class WT{constructor(e,t,i,a,h,g,T,P){this.ii=e,this.$o=i,this.Oo=a,this.connection=h,this.authCredentialsProvider=g,this.appCheckCredentialsProvider=T,this.listener=P,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Fg(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,ue.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,ue.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var i=this;return(0,ue.Z)(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==e?i.qo.reset():t&&t.code===nt.RESOURCE_EXHAUSTED?(os(t.toString()),os("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):t&&t.code===nt.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.Fo===t&&this.Zo(i,a)},i=>{e(()=>{const a=new Et(nt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(a)})})}Zo(e,t){const i=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(a=>{i(()=>this.tu(a))}),this.stream.onMessage(a=>{i(()=>this.onMessage(a))})}Go(){var e=this;this.state=5,this.qo.No((0,ue.Z)(function*(){e.state=0,e.start()}))}tu(e){return At("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(At("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class dC extends WT{constructor(e,t,i,a,h,g){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,g),this.serializer=h}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function cT(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(P=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===P?1:"REMOVE"===P?2:"CURRENT"===P?3:"RESET"===P?4:ln(),a=e.targetChange.targetIds||[],h=function(P,U){return P.useProto3Json?(yn(void 0===U||"string"==typeof U),cs.fromBase64String(U||"")):(yn(void 0===U||U instanceof Uint8Array),cs.fromUint8Array(U||new Uint8Array))}(n,e.targetChange.resumeToken),g=e.targetChange.cause,T=g&&function(P){const U=void 0===P.code?nt.UNKNOWN:nT(P.code);return new Et(U,P.message||"")}(g);t=new py(i,a,h,T||null)}else if("documentChange"in e){const i=e.documentChange,a=Bl(n,i.document.name),h=ls(i.document.updateTime),g=i.document.createTime?ls(i.document.createTime):Mn.min(),T=new Ra({mapValue:{fields:i.document.fields}}),P=Ui.newFoundDocument(a,h,g,T);t=new c_(i.targetIds||[],i.removedTargetIds||[],P.key,P)}else if("documentDelete"in e){const i=e.documentDelete,a=Bl(n,i.document),h=i.readTime?ls(i.readTime):Mn.min(),g=Ui.newNoDocument(a,h);t=new c_([],i.removedTargetIds||[],g.key,g)}else if("documentRemove"in e){const i=e.documentRemove,a=Bl(n,i.document);t=new c_([],i.removedTargetIds||[],a,null)}else{if(!("filter"in e))return ln();{const i=e.filter,{count:a=0,unchangedNames:h}=i,g=new PD(a,h);t=new hb(i.targetId,g)}}var P;return t}(this.serializer,e),i=function(a){if(!("targetChange"in a))return Mn.min();const h=a.targetChange;return h.targetIds&&h.targetIds.length?Mn.min():h.readTime?ls(h.readTime):Mn.min()}(e);return this.listener.nu(t,i)}su(e){const t={};t.database=ba(this.serializer),t.addTarget=function(a,h){let g;const T=h.target;if(g=ug(T)?{documents:lT(a,T)}:{query:vb(a,T)},g.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){g.resumeToken=kD(a,h.resumeToken);const P=gy(a,h.expectedCount);null!==P&&(g.expectedCount=P)}else if(h.snapshotVersion.compareTo(Mn.min())>0){g.readTime=Rf(a,h.snapshotVersion.toTimestamp());const P=gy(a,h.expectedCount);null!==P&&(g.expectedCount=P)}return g}(this.serializer,e);const i=function l_(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ln()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Wo(t)}iu(e){const t={};t.database=ba(this.serializer),t.removeTarget=e,this.Wo(t)}}class qT extends WT{constructor(e,t,i,a,h,g){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,g),this.serializer=h,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(yn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function uT(n,e){return n&&n.length>0?(yn(void 0!==e),n.map(t=>function(i,a){let h=ls(i.updateTime?i.updateTime:a);return h.isEqual(Mn.min())&&(h=ls(a)),new nb(h,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=ls(e.commitTime);return this.listener.cu(i,t)}return yn(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=ba(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>function wg(n,e){let t;if(e instanceof Mf)t={update:mb(n,e.key,e.value)};else if(e instanceof gg)t={delete:Vl(n,e.key)};else if(e instanceof Ad)t={update:mb(n,e.key,e.data),updateMask:UD(e.fieldMask)};else{if(!(e instanceof ob))return ln();t={verify:Vl(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(a,h){const g=h.transform;if(g instanceof hg)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof wh)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Ll)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Of)return{fieldPath:h.field.canonicalString(),increment:g.gt};throw ln()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:bg(n,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:ln()),t;var a}(this.serializer,i))};this.Wo(t)}}class hC extends class{}{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.lu=!1}fu(){if(this.lu)throw new Et(nt.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,h])=>this.connection.Io(e,t,i,a,h)).catch(a=>{throw"FirebaseError"===a.name?(a.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Et(nt.UNKNOWN,a.toString())})}vo(e,t,i,a){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,g])=>this.connection.vo(e,t,i,h,g,a)).catch(h=>{throw"FirebaseError"===h.name?(h.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Et(nt.UNKNOWN,h.toString())})}terminate(){this.lu=!0}}class Gy{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(os(t),this.mu=!1):At("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class pC{constructor(e,t,i,a,h){var g=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=h,this.Pu.Yr(T=>{i.enqueueAndForget((0,ue.Z)(function*(){var P;Ul(g)&&(At("RemoteStore","Restarting streams for network reachability change."),yield(P=(0,ue.Z)(function*(U){const ee=Zt(U);ee.vu.add(4),yield Uf(ee),ee.bu.set("Unknown"),ee.vu.delete(4),yield I_(ee)}),function(U){return P.apply(this,arguments)})(g))}))}),this.bu=new Gy(i,a)}}function I_(n){return jy.apply(this,arguments)}function jy(){return jy=(0,ue.Z)(function*(n){if(Ul(n))for(const e of n.Ru)yield e(!0)}),jy.apply(this,arguments)}function Uf(n){return w_.apply(this,arguments)}function w_(){return w_=(0,ue.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),w_.apply(this,arguments)}function T_(n,e){const t=Zt(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),jb(t)?Gb(t):S_(t).Ko()&&$y(t,e))}function E_(n,e){const t=Zt(n),i=S_(t);t.Au.delete(e),i.Ko()&&Hb(t,e),0===t.Au.size&&(i.Ko()?i.jo():Ul(t)&&t.bu.set("Unknown"))}function $y(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Mn.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}S_(n).su(e)}function Hb(n,e){n.Vu.qt(e),S_(n).iu(e)}function Gb(n){n.Vu=new xf({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),S_(n).start(),n.bu.gu()}function jb(n){return Ul(n)&&!S_(n).Uo()&&n.Au.size>0}function Ul(n){return 0===Zt(n).vu.size}function zy(n){n.Vu=void 0}function ZT(n){return D_.apply(this,arguments)}function D_(){return D_=(0,ue.Z)(function*(n){n.Au.forEach((e,t)=>{$y(n,e)})}),D_.apply(this,arguments)}function $b(n,e){return zb.apply(this,arguments)}function zb(){return zb=(0,ue.Z)(function*(n,e){zy(n),jb(n)?(n.bu.Iu(e),Gb(n)):n.bu.set("Unknown")}),zb.apply(this,arguments)}function gC(n,e,t){return Wb.apply(this,arguments)}function Wb(){return Wb=(0,ue.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof py&&2===e.state&&e.cause)try{yield(i=(0,ue.Z)(function*(a,h){const g=h.cause;for(const T of h.targetIds)a.Au.has(T)&&(yield a.remoteSyncer.rejectListen(T,g),a.Au.delete(T),a.Vu.removeTarget(T))}),function(a,h){return i.apply(this,arguments)})(n,e)}catch(i){At("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield Wy(n,i)}else if(e instanceof c_?n.Vu.Ht(e):e instanceof hb?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(Mn.min()))try{const i=yield UT(n.localStore);t.compareTo(i)>=0&&(yield function(a,h){const g=a.Vu.ce(h);return g.targetChanges.forEach((T,P)=>{if(T.resumeToken.approximateByteSize()>0){const U=a.Au.get(P);U&&a.Au.set(P,U.withResumeToken(T.resumeToken,h))}}),g.targetMismatches.forEach((T,P)=>{const U=a.Au.get(T);if(!U)return;a.Au.set(T,U.withResumeToken(cs.EMPTY_BYTE_STRING,U.snapshotVersion)),Hb(a,T);const ee=new ou(U.target,T,P,U.sequenceNumber);$y(a,ee)}),a.remoteSyncer.applyRemoteEvent(g)}(n,t))}catch(i){At("RemoteStore","Failed to raise snapshot:",i),yield Wy(n,i)}var i}),Wb.apply(this,arguments)}function Wy(n,e,t){return qy.apply(this,arguments)}function qy(){return qy=(0,ue.Z)(function*(n,e,t){if(!xl(e))throw e;n.vu.add(1),yield Uf(n),n.bu.set("Offline"),t||(t=()=>UT(n.localStore)),n.asyncQueue.enqueueRetryable((0,ue.Z)(function*(){At("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield I_(n)}))}),qy.apply(this,arguments)}function Zy(n,e){return e().catch(t=>Wy(n,t,e))}function Hf(n){return Ky.apply(this,arguments)}function Ky(){return Ky=(0,ue.Z)(function*(n){const e=Zt(n),t=Gf(e);let i=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;KT(e);)try{const a=yield sC(e.localStore,i);if(null===a){0===e.Eu.length&&t.jo();break}i=a.batchId,YT(e,a)}catch(a){yield Wy(e,a)}QT(e)&&qb(e)}),Ky.apply(this,arguments)}function KT(n){return Ul(n)&&n.Eu.length<10}function YT(n,e){n.Eu.push(e);const t=Gf(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function QT(n){return Ul(n)&&!Gf(n).Uo()&&n.Eu.length>0}function qb(n){Gf(n).start()}function JT(n){return Zb.apply(this,arguments)}function Zb(){return Zb=(0,ue.Z)(function*(n){Gf(n).hu()}),Zb.apply(this,arguments)}function XT(n){return Yy.apply(this,arguments)}function Yy(){return Yy=(0,ue.Z)(function*(n){const e=Gf(n);for(const t of n.Eu)e.uu(t.mutations)}),Yy.apply(this,arguments)}function vc(n,e,t){return Nh.apply(this,arguments)}function Nh(){return Nh=(0,ue.Z)(function*(n,e,t){const i=n.Eu.shift(),a=ab.from(i,e,t);yield Zy(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),yield Hf(n)}),Nh.apply(this,arguments)}function mC(n,e){return Kb.apply(this,arguments)}function Kb(){return Kb=(0,ue.Z)(function*(n,e){var t;e&&Gf(n).ou&&(yield(t=(0,ue.Z)(function*(i,a){if(function tT(n){switch(n){default:return ln();case nt.CANCELLED:case nt.UNKNOWN:case nt.DEADLINE_EXCEEDED:case nt.RESOURCE_EXHAUSTED:case nt.INTERNAL:case nt.UNAVAILABLE:case nt.UNAUTHENTICATED:return!1;case nt.INVALID_ARGUMENT:case nt.NOT_FOUND:case nt.ALREADY_EXISTS:case nt.PERMISSION_DENIED:case nt.FAILED_PRECONDITION:case nt.ABORTED:case nt.OUT_OF_RANGE:case nt.UNIMPLEMENTED:case nt.DATA_LOSS:return!0}}(h=a.code)&&h!==nt.ABORTED){const g=i.Eu.shift();Gf(i).Qo(),yield Zy(i,()=>i.remoteSyncer.rejectFailedWrite(g.batchId,a)),yield Hf(i)}var h}),function(i,a){return t.apply(this,arguments)})(n,e)),QT(n)&&qb(n)}),Kb.apply(this,arguments)}function _C(n,e){return eE.apply(this,arguments)}function eE(){return eE=(0,ue.Z)(function*(n,e){const t=Zt(n);t.asyncQueue.verifyOperationInProgress(),At("RemoteStore","RemoteStore received new credentials");const i=Ul(t);t.vu.add(3),yield Uf(t),i&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield I_(t)}),eE.apply(this,arguments)}function C_(){return C_=(0,ue.Z)(function*(n,e){const t=Zt(n);e?(t.vu.delete(2),yield I_(t)):e||(t.vu.add(2),yield Uf(t),t.bu.set("Unknown"))}),C_.apply(this,arguments)}function S_(n){return n.Su||(n.Su=function(e,t,i){const a=Zt(e);return a.fu(),new dC(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{uo:ZT.bind(null,n),ao:$b.bind(null,n),nu:gC.bind(null,n)}),n.Ru.push(function(){var e=(0,ue.Z)(function*(t){t?(n.Su.Qo(),jb(n)?Gb(n):n.bu.set("Unknown")):(yield n.Su.stop(),zy(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function Gf(n){return n.Du||(n.Du=function(e,t,i){const a=Zt(e);return a.fu(),new qT(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{uo:JT.bind(null,n),ao:mC.bind(null,n),au:XT.bind(null,n),cu:vc.bind(null,n)}),n.Ru.push(function(){var e=(0,ue.Z)(function*(t){t?(n.Du.Qo(),yield Hf(n)):(yield n.Du.stop(),n.Eu.length>0&&(At("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class tE{constructor(e,t,i,a,h){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=h,this.deferred=new Os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(g=>{})}static createAndSchedule(e,t,i,a,h){const g=Date.now()+i,T=new tE(e,t,g,a,h);return T.start(i),T}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Et(nt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hl(n,e){if(os("AsyncQueue",`${e}: ${n}`),xl(n))return new Et(nt.UNAVAILABLE,`${e}: ${n}`);throw n}class Lg{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Yt.comparator(t.key,i.key):(t,i)=>Yt.comparator(t.key,i.key),this.keyedMap=Pc(),this.sortedSet=new Oi(this.comparator)}static emptySet(e){return new Lg(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Lg)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,h=i.getNext().key;if(!a.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new Lg;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class Jy{constructor(){this.Cu=new Oi(Yt.comparator)}track(e){const t=e.doc.key,i=this.Cu.get(t);i?0!==e.type&&3===i.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==i.type?this.Cu=this.Cu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Cu=this.Cu.remove(t):1===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):ln():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,i)=>{e.push(i)}),e}}class Vg{constructor(e,t,i,a,h,g,T,P,U){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=h,this.fromCache=g,this.syncStateChanged=T,this.excludesMetadataChanges=P,this.hasCachedResults=U}static fromInitialDocuments(e,t,i,a,h){const g=[];return t.forEach(T=>{g.push({type:0,doc:T})}),new Vg(e,t,Lg.emptySet(t),g,i,a,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}class nE{constructor(){this.Nu=void 0,this.listeners=[]}}class vC{constructor(){this.queries=new Fl(e=>Y1(e),dg),this.onlineState="Unknown",this.ku=new Set}}function Yb(n,e){return Qb.apply(this,arguments)}function Qb(){return Qb=(0,ue.Z)(function*(n,e){const t=Zt(n),i=e.query;let a=!1,h=t.queries.get(i);if(h||(a=!0,h=new nE),a)try{h.Nu=yield t.onListen(i)}catch(g){const T=Hl(g,`Initialization of query '${bh(e.query)}' failed`);return void e.onError(T)}t.queries.set(i,h),h.listeners.push(e),e.Mu(t.onlineState),h.Nu&&e.$u(h.Nu)&&N_(t)}),Qb.apply(this,arguments)}function A_(n,e){return Xy.apply(this,arguments)}function Xy(){return Xy=(0,ue.Z)(function*(n,e){const t=Zt(n),i=e.query;let a=!1;const h=t.queries.get(i);if(h){const g=h.listeners.indexOf(e);g>=0&&(h.listeners.splice(g,1),a=0===h.listeners.length)}if(a)return t.queries.delete(i),t.onUnlisten(i)}),Xy.apply(this,arguments)}function yC(n,e){const t=Zt(n);let i=!1;for(const a of e){const g=t.queries.get(a.query);if(g){for(const T of g.listeners)T.$u(a)&&(i=!0);g.Nu=a}}i&&N_(t)}function e0(n,e,t){const i=Zt(n),a=i.queries.get(e);if(a)for(const h of a.listeners)h.onError(t);i.queries.delete(e)}function N_(n){n.ku.forEach(e=>{e.next()})}class rE{constructor(e,t,i){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)3!==a.type&&i.push(a);e=new Vg(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Vg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class aE{constructor(e){this.key=e}}class Jb{constructor(e){this.key=e}}class t0{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=_r(),this.mutatedKeys=_r(),this.tc=Q1(e),this.ec=new Lg(this.tc)}get nc(){return this.Yu}sc(e,t){const i=t?t.ic:new Jy,a=t?t.ec:this.ec;let h=t?t.mutatedKeys:this.mutatedKeys,g=a,T=!1;const P="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,U="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((ee,he)=>{const Fe=a.get(ee),at=o_(this.query,he)?he:null,Mt=!!Fe&&this.mutatedKeys.has(Fe.key),Xt=!!at&&(at.hasLocalMutations||this.mutatedKeys.has(at.key)&&at.hasCommittedMutations);let nn=!1;Fe&&at?Fe.data.isEqual(at.data)?Mt!==Xt&&(i.track({type:3,doc:at}),nn=!0):this.rc(Fe,at)||(i.track({type:2,doc:at}),nn=!0,(P&&this.tc(at,P)>0||U&&this.tc(at,U)<0)&&(T=!0)):!Fe&&at?(i.track({type:0,doc:at}),nn=!0):Fe&&!at&&(i.track({type:1,doc:Fe}),nn=!0,(P||U)&&(T=!0)),nn&&(at?(g=g.add(at),h=Xt?h.add(ee):h.delete(ee)):(g=g.delete(ee),h=h.delete(ee)))}),null!==this.query.limit)for(;g.size>this.query.limit;){const ee="F"===this.query.limitType?g.last():g.first();g=g.delete(ee.key),h=h.delete(ee.key),i.track({type:1,doc:ee})}return{ec:g,ic:i,zi:T,mutatedKeys:h}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const a=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const h=e.ic.xu();h.sort((U,ee)=>function(he,Fe){const at=Mt=>{switch(Mt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ln()}};return at(he)-at(Fe)}(U.type,ee.type)||this.tc(U.doc,ee.doc)),this.oc(i);const g=t?this.uc():[],T=0===this.Zu.size&&this.current?1:0,P=T!==this.Xu;return this.Xu=T,0!==h.length||P?{snapshot:new Vg(this.query,e.ec,a,h,e.mutatedKeys,0===T,P,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:g}:{cc:g}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Jy,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=_r(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const t=[];return e.forEach(i=>{this.Zu.has(i)||t.push(new Jb(i))}),this.Zu.forEach(i=>{e.has(i)||t.push(new aE(i))}),t}hc(e){this.Yu=e.ir,this.Zu=_r();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Vg.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class hS{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class bC{constructor(e){this.key=e,this.fc=!1}}class fS{constructor(e,t,i,a,h,g){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=h,this.maxConcurrentLimboResolutions=g,this.dc={},this.wc=new Fl(T=>Y1(T),dg),this._c=new Map,this.mc=new Set,this.gc=new Oi(Yt.comparator),this.yc=new Map,this.Ic=new Ay,this.Tc={},this.Ec=new Map,this.Ac=Sh.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function IC(n,e){return Xb.apply(this,arguments)}function Xb(){return Xb=(0,ue.Z)(function*(n,e){const t=function lI(n){const e=Zt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=lE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=oI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=wC.bind(null,e),e.dc.nu=yC.bind(null,e.eventManager),e.dc.Pc=e0.bind(null,e.eventManager),e}(n);let i,a;const h=t.wc.get(e);if(h)i=h.targetId,t.sharedClientState.addLocalQueryTarget(i),a=h.view.lc();else{const g=yield function Rg(n,e){const t=Zt(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return t.Bs.getTargetData(i,e).next(h=>h?(a=h,Ke.resolve(a)):t.Bs.allocateTargetId(i).next(g=>(a=new ou(e,g,"TargetPurposeListen",i.currentSequenceNumber),t.Bs.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=t.Ji.get(i.targetId);return(null===a||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(i.targetId,i),t.Yi.set(e,i.targetId)),i})}(t.localStore,gc(e)),T=t.sharedClientState.addLocalQueryTarget(g.targetId);i=g.targetId,a=yield function eI(n,e,t,i,a){return n0.apply(this,arguments)}(t,e,i,"current"===T,g.resumeToken),t.isPrimaryClient&&T_(t.remoteStore,g)}return a}),Xb.apply(this,arguments)}function n0(){return n0=(0,ue.Z)(function*(n,e,t,i,a){n.Rc=(he,Fe,at)=>{return(Mt=(0,ue.Z)(function*(Xt,nn,vr,$r){let Cr=nn.view.sc(vr);Cr.zi&&(Cr=yield v_(Xt.localStore,nn.query,!1).then(({documents:xi})=>nn.view.sc(xi,Cr)));const Rs=$r&&$r.targetChanges.get(nn.targetId),hs=nn.view.applyChanges(Cr,Xt.isPrimaryClient,Rs);return gE(Xt,nn.targetId,hs.cc),hs.snapshot}),function(Xt,nn,vr,$r){return Mt.apply(this,arguments)})(n,he,Fe,at);var Mt};const h=yield v_(n.localStore,e,!0),g=new t0(e,h.ir),T=g.sc(h.documents),P=vg.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,a),U=g.applyChanges(T,n.isPrimaryClient,P);gE(n,t,U.cc);const ee=new hS(e,t,g);return n.wc.set(e,ee),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),U.snapshot}),n0.apply(this,arguments)}function cE(n,e){return tI.apply(this,arguments)}function tI(){return tI=(0,ue.Z)(function*(n,e){const t=Zt(n),i=t.wc.get(e),a=t._c.get(i.targetId);if(a.length>1)return t._c.set(i.targetId,a.filter(h=>!dg(h,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Pg(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),E_(t.remoteStore,i.targetId),O_(t,i.targetId)}).catch(_f))):(O_(t,i.targetId),yield Pg(t.localStore,i.targetId,!0))}),tI.apply(this,arguments)}function r0(){return r0=(0,ue.Z)(function*(n,e,t){const i=function dI(n){const e=Zt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dE.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hE.bind(null,e),e}(n);try{const a=yield function(h,g){const T=Zt(h),P=wo.now(),U=g.reduce((Fe,at)=>Fe.add(at.key),_r());let ee,he;return T.persistence.runTransaction("Locally write mutations","readwrite",Fe=>{let at=mc(),Mt=_r();return T.Zi.getEntries(Fe,U).next(Xt=>{at=Xt,at.forEach((nn,vr)=>{vr.isValidDocument()||(Mt=Mt.add(nn))})}).next(()=>T.localDocuments.getOverlayedDocuments(Fe,at)).next(Xt=>{ee=Xt;const nn=[];for(const vr of g){const $r=Qw(vr,ee.get(vr.key).overlayedDocument);null!=$r&&nn.push(new Ad(vr.key,$r,Fw($r.value.mapValue),Mi.exists(!0)))}return T.mutationQueue.addMutationBatch(Fe,P,nn,g)}).next(Xt=>{he=Xt;const nn=Xt.applyToLocalDocumentSet(ee,Mt);return T.documentOverlayCache.saveOverlays(Fe,Xt.batchId,nn)})}).then(()=>({batchId:he.batchId,changes:jw(ee)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(h,g,T){let P=h.Tc[h.currentUser.toKey()];P||(P=new Oi(zn)),P=P.insert(g,T),h.Tc[h.currentUser.toKey()]=P}(i,a.batchId,t),yield Oh(i,a.changes),yield Hf(i.remoteStore)}catch(a){const h=Hl(a,"Failed to persist write");t.reject(h)}}),r0.apply(this,arguments)}function lE(n,e){return nI.apply(this,arguments)}function nI(){return nI=(0,ue.Z)(function*(n,e){const t=Zt(n);try{const i=yield function oC(n,e){const t=Zt(n),i=e.snapshotVersion;let a=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const g=t.Zi.newChangeBuffer({trackRemovals:!0});a=t.Ji;const T=[];e.targetChanges.forEach((ee,he)=>{const Fe=a.get(he);if(!Fe)return;T.push(t.Bs.removeMatchingKeys(h,ee.removedDocuments,he).next(()=>t.Bs.addMatchingKeys(h,ee.addedDocuments,he)));let at=Fe.withSequenceNumber(h.currentSequenceNumber);var Mt,Xt,nn;null!==e.targetMismatches.get(he)?at=at.withResumeToken(cs.EMPTY_BYTE_STRING,Mn.min()).withLastLimboFreeSnapshotVersion(Mn.min()):ee.resumeToken.approximateByteSize()>0&&(at=at.withResumeToken(ee.resumeToken,i)),a=a.insert(he,at),Xt=at,nn=ee,(0===(Mt=Fe).resumeToken.approximateByteSize()||Xt.snapshotVersion.toMicroseconds()-Mt.snapshotVersion.toMicroseconds()>=3e8||nn.addedDocuments.size+nn.modifiedDocuments.size+nn.removedDocuments.size>0)&&T.push(t.Bs.updateTargetData(h,at))});let P=mc(),U=_r();if(e.documentUpdates.forEach(ee=>{e.resolvedLimboDocuments.has(ee)&&T.push(t.persistence.referenceDelegate.updateLimboDocument(h,ee))}),T.push(function HT(n,e,t){let i=_r(),a=_r();return t.forEach(h=>i=i.add(h)),e.getEntries(n,i).next(h=>{let g=mc();return t.forEach((T,P)=>{const U=h.get(T);P.isFoundDocument()!==U.isFoundDocument()&&(a=a.add(T)),P.isNoDocument()&&P.version.isEqual(Mn.min())?(e.removeEntry(T,P.readTime),g=g.insert(T,P)):!U.isValidDocument()||P.version.compareTo(U.version)>0||0===P.version.compareTo(U.version)&&U.hasPendingWrites?(e.addEntry(P),g=g.insert(T,P)):At("LocalStore","Ignoring outdated watch update for ",T,". Current version:",U.version," Watch version:",P.version)}),{nr:g,sr:a}})}(h,g,e.documentUpdates).next(ee=>{P=ee.nr,U=ee.sr})),!i.isEqual(Mn.min())){const ee=t.Bs.getLastRemoteSnapshotVersion(h).next(he=>t.Bs.setTargetsMetadata(h,h.currentSequenceNumber,i));T.push(ee)}return Ke.waitFor(T).next(()=>g.apply(h)).next(()=>t.localDocuments.getLocalViewOfDocuments(h,P,U)).next(()=>P)}).then(h=>(t.Ji=a,h))}(t.localStore,e);e.targetChanges.forEach((a,h)=>{const g=t.yc.get(h);g&&(yn(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?g.fc=!0:a.modifiedDocuments.size>0?yn(g.fc):a.removedDocuments.size>0&&(yn(g.fc),g.fc=!1))}),yield Oh(t,i,e)}catch(i){yield _f(i)}}),nI.apply(this,arguments)}function rI(n,e,t){const i=Zt(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const a=[];i.wc.forEach((h,g)=>{const T=g.view.Mu(e);T.snapshot&&a.push(T.snapshot)}),function(h,g){const T=Zt(h);T.onlineState=g;let P=!1;T.queries.forEach((U,ee)=>{for(const he of ee.listeners)he.Mu(g)&&(P=!0)}),P&&N_(T)}(i.eventManager,e),a.length&&i.dc.nu(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function wC(n,e,t){return o0.apply(this,arguments)}function o0(){return o0=(0,ue.Z)(function*(n,e,t){const i=Zt(n);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.yc.get(e),h=a&&a.key;if(h){let g=new Oi(Yt.comparator);g=g.insert(h,Ui.newNoDocument(h,Mn.min()));const T=_r().add(h),P=new _g(Mn.min(),new Map,new Oi(zn),g,T);yield lE(i,P),i.gc=i.gc.remove(h),i.yc.delete(e),mE(i)}else yield Pg(i.localStore,e,!1).then(()=>O_(i,e,t)).catch(_f)}),o0.apply(this,arguments)}function dE(n,e){return s0.apply(this,arguments)}function s0(){return s0=(0,ue.Z)(function*(n,e){const t=Zt(n),i=e.batch.batchId;try{const a=yield function BT(n,e){const t=Zt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),h=t.Zi.newChangeBuffer({trackRemovals:!0});return function(g,T,P,U){const ee=P.batch,he=ee.keys();let Fe=Ke.resolve();return he.forEach(at=>{Fe=Fe.next(()=>U.getEntry(T,at)).next(Mt=>{const Xt=P.docVersions.get(at);yn(null!==Xt),Mt.version.compareTo(Xt)<0&&(ee.applyToRemoteDocument(Mt,P),Mt.isValidDocument()&&(Mt.setReadTime(P.commitVersion),U.addEntry(Mt)))})}),Fe.next(()=>g.mutationQueue.removeMutationBatch(T,ee))}(t,i,e,h).next(()=>h.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(g){let T=_r();for(let P=0;P<g.mutationResults.length;++P)g.mutationResults[P].transformResults.length>0&&(T=T.add(g.batch.mutations[P].key));return T}(e))).next(()=>t.localDocuments.getDocuments(i,a))})}(t.localStore,e);pE(t,i,null),a0(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Oh(t,a)}catch(a){yield _f(a)}}),s0.apply(this,arguments)}function hE(n,e,t){return iI.apply(this,arguments)}function iI(){return iI=(0,ue.Z)(function*(n,e,t){const i=Zt(n);try{const a=yield function(h,g){const T=Zt(h);return T.persistence.runTransaction("Reject batch","readwrite-primary",P=>{let U;return T.mutationQueue.lookupMutationBatch(P,g).next(ee=>(yn(null!==ee),U=ee.keys(),T.mutationQueue.removeMutationBatch(P,ee))).next(()=>T.mutationQueue.performConsistencyCheck(P)).next(()=>T.documentOverlayCache.removeOverlaysForBatchId(P,U,g)).next(()=>T.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(P,U)).next(()=>T.localDocuments.getDocuments(P,U))})}(i.localStore,e);pE(i,e,t),a0(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Oh(i,a)}catch(a){yield _f(a)}}),iI.apply(this,arguments)}function a0(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function pE(n,e,t){const i=Zt(n);let a=i.Tc[i.currentUser.toKey()];if(a){const h=a.get(e);h&&(t?h.reject(t):h.resolve(),a=a.remove(e)),i.Tc[i.currentUser.toKey()]=a}}function O_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n._c.get(e))n.wc.delete(i),t&&n.dc.Pc(i,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(i=>{n.Ic.containsKey(i)||EC(n,i)})}function EC(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(E_(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),mE(n))}function gE(n,e,t){for(const i of t)i instanceof aE?(n.Ic.addReference(i.key,e),pS(n,i)):i instanceof Jb?(At("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,e),n.Ic.containsKey(i.key)||EC(n,i.key)):ln()}function pS(n,e){const t=e.key,i=t.path.canonicalString();n.gc.get(t)||n.mc.has(i)||(At("SyncEngine","New document in limbo: "+t),n.mc.add(i),mE(n))}function mE(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new Yt(zr.fromString(e)),i=n.Ac.next();n.yc.set(i,new bC(t)),n.gc=n.gc.insert(t,i),T_(n.remoteStore,new ou(gc(lg(t.path)),i,"TargetPurposeLimboResolution",ho.ct))}}function Oh(n,e,t){return _E.apply(this,arguments)}function _E(){return _E=(0,ue.Z)(function*(n,e,t){const i=Zt(n),a=[],h=[],g=[];var T;i.wc.isEmpty()||(i.wc.forEach((T,P)=>{g.push(i.Rc(P,e,t).then(U=>{if((U||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(P.targetId,U?.fromCache?"not-current":"current"),U){a.push(U);const ee=FT.Li(P.targetId,U);h.push(ee)}}))}),yield Promise.all(g),i.dc.nu(a),yield(T=(0,ue.Z)(function*(P,U){const ee=Zt(P);try{yield ee.persistence.runTransaction("notifyLocalViewChanges","readwrite",he=>Ke.forEach(U,Fe=>Ke.forEach(Fe.Fi,at=>ee.persistence.referenceDelegate.addReference(he,Fe.targetId,at)).next(()=>Ke.forEach(Fe.Bi,at=>ee.persistence.referenceDelegate.removeReference(he,Fe.targetId,at)))))}catch(he){if(!xl(he))throw he;At("LocalStore","Failed to update sequence numbers: "+he)}for(const he of U){const Fe=he.targetId;if(!he.fromCache){const at=ee.Ji.get(Fe),Xt=at.withLastLimboFreeSnapshotVersion(at.snapshotVersion);ee.Ji=ee.Ji.insert(Fe,Xt)}}}),function(P,U){return T.apply(this,arguments)})(i.localStore,h))}),_E.apply(this,arguments)}function gS(n,e){return c0.apply(this,arguments)}function c0(){return c0=(0,ue.Z)(function*(n,e){const t=Zt(n);if(!t.currentUser.isEqual(e)){At("SyncEngine","User change. New user:",e.toKey());const i=yield Rb(t.localStore,e);t.currentUser=e,(a=t).Ec.forEach(g=>{g.forEach(T=>{T.reject(new Et(nt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Ec.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Oh(t,i.er)}var a}),c0.apply(this,arguments)}function oI(n,e){const t=Zt(n),i=t.yc.get(e);if(i&&i.fc)return _r().add(i.key);{let a=_r();const h=t._c.get(e);if(!h)return a;for(const g of h){const T=t.wc.get(g);a=a.unionWith(T.view.nc)}return a}}class h0{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ue.Z)(function*(){t.serializer=kg(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function VT(n,e,t,i){return new iC(n,e,t,i)}(this.persistence,new LT,e.initialUser,this.serializer)}createPersistence(e){return new Ny(Oy.zs,this.serializer)}createSharedClientState(e){return new $T}terminate(){var e=this;return(0,ue.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Bg{initialize(e,t){var i=this;return(0,ue.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=a=>rI(i.syncEngine,a,1),i.remoteStore.remoteSyncer.handleCredentialChange=gS.bind(null,i.syncEngine),yield function Qy(n,e){return C_.apply(this,arguments)}(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new vC}createDatastore(e){const t=kg(e.databaseInfo.databaseId),i=new By(e.databaseInfo);return new hC(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,a=e.asyncQueue,h=T=>rI(this.syncEngine,T,0),g=zT.D()?new zT:new dS,new pC(t,i,a,h,g);var t,i,a,h,g}createSyncEngine(e,t){return function(i,a,h,g,T,P,U){const ee=new fS(i,a,h,g,T,P);return U&&(ee.vc=!0),ee}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ue.Z)(function*(t){const i=Zt(t);At("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield Uf(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class p0{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):os("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class xC{constructor(e,t,i,a){var h=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=ta.UNAUTHENTICATED,this.clientId=vw.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var g=(0,ue.Z)(function*(T){At("FirestoreClient","Received user=",T.uid),yield h.authCredentialListener(T),h.user=T});return function(T){return g.apply(this,arguments)}}()),this.appCheckCredentials.start(i,g=>(At("FirestoreClient","Received new app check token=",g),this.appCheckCredentialListener(g,this.user)))}getConfiguration(){var e=this;return(0,ue.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Et(nt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ue.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Hl(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function g0(n,e){return hI.apply(this,arguments)}function hI(){return hI=(0,ue.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),At("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var a=(0,ue.Z)(function*(h){i.isEqual(h)||(yield Rb(e.localStore,h),i=h)});return function(h){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),hI.apply(this,arguments)}function fI(n,e){return m0.apply(this,arguments)}function m0(){return m0=(0,ue.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function pI(n){return gI.apply(this,arguments)}(n);At("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(a=>_C(e.remoteStore,a)),n.setAppCheckTokenChangeListener((a,h)=>_C(e.remoteStore,h)),n._onlineComponents=e}),m0.apply(this,arguments)}function gI(){return gI=(0,ue.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){At("FirestoreClient","Using user provided OfflineComponentProvider");try{yield g0(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function _0(n){return"FirebaseError"===n.name?n.code===nt.FAILED_PRECONDITION||n.code===nt.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;Nu("Error using user provided cache. Falling back to memory cache: "+t),yield g0(n,new h0)}}else At("FirestoreClient","Using default OfflineComponentProvider"),yield g0(n,new h0);return n._offlineComponents}),gI.apply(this,arguments)}function M_(n){return v0.apply(this,arguments)}function v0(){return v0=(0,ue.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(At("FirestoreClient","Using user provided OnlineComponentProvider"),yield fI(n,n._uninitializedComponentsProvider._online)):(At("FirestoreClient","Using default OnlineComponentProvider"),yield fI(n,new Bg))),n._onlineComponents}),v0.apply(this,arguments)}function zf(n){return _I.apply(this,arguments)}function _I(){return _I=(0,ue.Z)(function*(n){const e=yield M_(n),t=e.eventManager;return t.onListen=IC.bind(null,e.syncEngine),t.onUnlisten=cE.bind(null,e.syncEngine),t}),_I.apply(this,arguments)}function AE(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const NE=new Map;function I0(n,e,t){if(!t)throw new Et(nt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function bI(n){if(!Yt.isDocumentKey(n))throw new Et(nt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function OE(n){if(Yt.isDocumentKey(n))throw new Et(nt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function x_(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ln()}function qr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Et(nt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=x_(n);throw new Et(nt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class II{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new Et(nt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Et(nt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function yS(n,e,t,i){if(!0===e&&!0===i)throw new Et(nt.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=AE(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(a){if(void 0!==a.timeoutSeconds){if(isNaN(a.timeoutSeconds))throw new Et(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Et(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Et(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ug{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new II({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Et(nt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Et(nt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new II(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new uD;switch(t.type){case"firstParty":return new qm(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Et(nt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=NE.get(e);t&&(At("ComponentProvider","Removing Datastore"),NE.delete(e),t.terminate())}(this),Promise.resolve()}}class Uo{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Uo(this.firestore,e,this._key)}}class wa{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new wa(this.firestore,e,this._query)}}class yc extends wa{constructor(e,t,i){super(e,t,lg(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Uo(this.firestore,null,new Yt(e))}withConverter(e){return new yc(this.firestore,e,this._path)}}function T0(n,e,...t){if(n=(0,de.m9)(n),I0("collection","path",e),n instanceof Ug){const i=zr.fromString(e,...t);return OE(i),new yc(n,null,i)}{if(!(n instanceof Uo||n instanceof yc))throw new Et(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(zr.fromString(e,...t));return OE(i),new yc(n.firestore,null,i)}}function wI(n,e,...t){if(n=(0,de.m9)(n),1===arguments.length&&(e=vw.A()),I0("doc","path",e),n instanceof Ug){const i=zr.fromString(e,...t);return bI(i),new Uo(n,null,new Yt(i))}{if(!(n instanceof Uo||n instanceof yc))throw new Et(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(zr.fromString(e,...t));return bI(i),new Uo(n.firestore,n instanceof yc?n.converter:null,new Yt(i))}}class IS{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Fg(this,"async_queue_retry"),this.Xc=()=>{const t=Uy();t&&At("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=Uy();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Uy();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Os;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,ue.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!xl(t))throw t;At("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(i=>{throw this.Wc=i,this.Hc=!1,os("INTERNAL UNHANDLED ERROR: ",function(h){let g=h.message||"";return h.stack&&(g=h.stack.includes(h.message)?h.stack:h.message+"\n"+h.stack),g}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=t,t}enqueueAfterDelay(e,t,i){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const a=tE.createAndSchedule(this,e,t,i,h=>this.na(h));return this.zc.push(a),a}Zc(){this.Wc&&ln()}verifyOperationInProgress(){}sa(){var e=this;return(0,ue.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class fo extends Ug{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new IS,this._persistenceKey=a?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||xE(this),this._firestoreClient.terminate()}}function wS(n,e){const t="object"==typeof n?n:(0,Ae.Mq)(),i="string"==typeof n?n:e||"(default)",a=(0,Ae.qX)(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const h=(0,de.P0)("firestore");h&&function FC(n,e,t,i={}){var a;const h=(n=qr(n,Ug))._getSettings(),g=`${e}:${t}`;if("firestore.googleapis.com"!==h.host&&h.host!==g&&Nu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},h),{host:g,ssl:!1})),i.mockUserToken){let T,P;if("string"==typeof i.mockUserToken)T=i.mockUserToken,P=ta.MOCK_USER;else{T=(0,de.Sg)(i.mockUserToken,null===(a=n._app)||void 0===a?void 0:a.options.projectId);const U=i.mockUserToken.sub||i.mockUserToken.user_id;if(!U)throw new Et(nt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");P=new ta(U)}n._authCredentials=new lD(new O1(T,P))}}(a,...h)}return a}function ds(n){return n._firestoreClient||xE(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function xE(n){var e,t,i;const a=n._freezeSettings(),h=(T=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Rw(n._databaseId,T,n._persistenceKey,(U=a).host,U.ssl,U.experimentalForceLongPolling,U.experimentalAutoDetectLongPolling,AE(U.experimentalLongPollingOptions),U.useFetchStreams));var T,U;n._firestoreClient=new xC(n._authCredentials,n._appCheckCredentials,n._queue,h),null!==(t=a.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=a.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.cache.kind,_offline:a.cache._offlineComponentProvider,_online:a.cache._onlineComponentProvider})}class xh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xh(cs.fromBase64String(e))}catch(t){throw new Et(nt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new xh(cs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Rh{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Et(nt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ss(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class R_{constructor(e){this._methodName=e}}class P_{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Et(nt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Et(nt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return zn(this._lat,e._lat)||zn(this._long,e._long)}}const EI=/^__.*__$/;class D0{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Ad(e,this.data,this.fieldMask,t,this.fieldTransforms):new Mf(e,this.data,t,this.fieldTransforms)}}class UC{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Ad(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function HC(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ln()}}class DI{constructor(e,t,i,a,h,g){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,void 0===h&&this.ua(),this.fieldTransforms=h||[],this.fieldMask=g||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new DI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:i,la:!1});return a.fa(e),a}da(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:i,la:!1});return a.ua(),a}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return N0(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(HC(this.ca)&&EI.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class kE{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||kg(e)}ya(e,t,i,a=!1){return new DI({ca:e,methodName:t,ga:i,path:ss.emptyPath(),la:!1,ma:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gg(n){const e=n._freezeSettings(),t=kg(n._databaseId);return new kE(n._databaseId,!!e.ignoreUndefinedProperties,t)}function CI(n,e,t,i,a,h={}){const g=n.ya(h.merge||h.mergeFields?2:0,e,t,a);NI("Data must be an object, but it was:",g,i);const T=AI(i,g);let P,U;if(h.merge)P=new Rc(g.fieldMask),U=g.fieldTransforms;else if(h.mergeFields){const ee=[];for(const he of h.mergeFields){const Fe=F_(e,he,t);if(!g.contains(Fe))throw new Et(nt.INVALID_ARGUMENT,`Field '${Fe}' is specified in your field mask but missing from your input data.`);UE(ee,Fe)||ee.push(Fe)}P=new Rc(ee),U=g.fieldTransforms.filter(he=>P.covers(he.field))}else P=null,U=g.fieldTransforms;return new D0(new Ra(T),P,U)}class k_ extends R_{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof k_}}function FE(n,e,t){return new DI({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class LE extends R_{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=FE(this,e,!0),i=this.pa.map(h=>jg(h,t)),a=new wh(i);return new s_(e.path,a)}isEqual(e){return this===e}}class VE extends R_{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=FE(this,e,!0),i=this.pa.map(h=>jg(h,t)),a=new Ll(i);return new s_(e.path,a)}isEqual(e){return this===e}}function S0(n,e,t,i=!1){return jg(t,n.ya(i?4:3,e))}function jg(n,e){if(A0(n=(0,de.m9)(n)))return NI("Unsupported field value:",e,n),AI(n,e);if(n instanceof R_)return function(t,i){if(!HC(i.ca))throw i._a(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,i){const a=[];let h=0;for(const g of t){let T=jg(g,i.wa(h));null==T&&(T={nullValue:"NULL_VALUE"}),a.push(T),h++}return{arrayValue:{values:a}}}(n,e)}return function(t,i){if(null===(t=(0,de.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return dy(i.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=wo.fromDate(t);return{timestampValue:Rf(i.serializer,a)}}if(t instanceof wo){const a=new wo(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Rf(i.serializer,a)}}if(t instanceof P_)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof xh)return{bytesValue:kD(i.serializer,t._byteString)};if(t instanceof Uo){const a=i.databaseId,h=t.firestore._databaseId;if(!h.isEqual(a))throw i._a(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:gb(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i._a(`Unsupported field value: ${x_(t)}`)}(n,e)}function AI(n,e){const t={};return Qm(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Pl(n,(i,a)=>{const h=jg(a,e.ha(i));null!=h&&(t[i]=h)}),{mapValue:{fields:t}}}function A0(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof wo||n instanceof P_||n instanceof xh||n instanceof Uo||n instanceof R_)}function NI(n,e,t){if(!A0(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=x_(t);throw e._a("an object"===i?n+" a custom object":n+" "+i)}var i}function F_(n,e,t){if((e=(0,de.m9)(e))instanceof Rh)return e._internalPath;if("string"==typeof e)return OI(n,e);throw N0("Field path arguments must be of type string or ",n,!1,void 0,t)}const SS=new RegExp("[~\\*/\\[\\]]");function OI(n,e,t){if(e.search(SS)>=0)throw N0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Rh(...e.split("."))._internalPath}catch{throw N0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function N0(n,e,t,i,a){const h=i&&!i.isEmpty(),g=void 0!==a;let T=`Function ${e}() called with invalid data`;t&&(T+=" (via `toFirestore()`)"),T+=". ";let P="";return(h||g)&&(P+=" (found",h&&(P+=` in field ${i}`),g&&(P+=` in document ${a}`),P+=")"),new Et(nt.INVALID_ARGUMENT,T+n+P)}function UE(n,e){return n.some(t=>t.isEqual(e))}class MI{constructor(e,t,i,a,h){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Uo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new jC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(L_("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class jC extends MI{data(){return super.data()}}function L_(n,e){return"string"==typeof e?OI(n,e):e instanceof Rh?e._internalPath:e._delegate._internalPath}class RI{}class V_ extends RI{}function HE(n,e,...t){let i=[];e instanceof RI&&i.push(e),i=i.concat(t),function(a){const h=a.filter(T=>T instanceof Ph).length,g=a.filter(T=>T instanceof O0).length;if(h>1||h>0&&g>0)throw new Et(nt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const a of i)n=a._apply(n);return n}class O0 extends V_{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new O0(e,t,i)}_apply(e){const t=this._parse(e);return QC(e._query,t),new wa(e.firestore,e.converter,cy(e._query,t))}_parse(e){const t=Gg(e.firestore);return function(a,h,g,T,P,U,ee){let he;if(P.isKeyField()){if("array-contains"===U||"array-contains-any"===U)throw new Et(nt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${U}' queries on documentId().`);if("in"===U||"not-in"===U){jE(ee,U);const Fe=[];for(const at of ee)Fe.push(GE(T,a,at));he={arrayValue:{values:Fe}}}else he=GE(T,a,ee)}else"in"!==U&&"not-in"!==U&&"array-contains-any"!==U||jE(ee,U),he=S0(g,"where",ee,"in"===U||"not-in"===U);return Lr.create(P,U,he)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function $C(n,e,t){const i=e,a=L_("where",n);return O0._create(a,i,t)}class Ph extends RI{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ph(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:pi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,a){let h=i;const g=a.getFlattenedFilters();for(const T of g)QC(h,T),h=cy(h,T)}(e._query,t),new wa(e.firestore,e.converter,cy(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class PI extends V_{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new PI(e,t)}_apply(e){const t=function(i,a,h){if(null!==i.startAt)throw new Et(nt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Et(nt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const g=new Sf(a,h);return function(T,P){if(null===K1(T)){const U=Bo(T);null!==U&&JC(0,U,P.field)}}(i,g),g}(e._query,this._field,this._direction);return new wa(e.firestore,e.converter,function(i,a){const h=i.explicitOrderBy.concat([a]);return new yh(i.path,i.collectionGroup,h,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function M0(n,e="asc"){const t=e,i=L_("orderBy",n);return PI._create(i,t)}class x0 extends V_{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new x0(e,t,i)}_apply(e){return new wa(e.firestore,e.converter,uy(e._query,this._limit,this._limitType))}}function qC(n){return function w0(n,e){if(e<=0)throw new Et(nt.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}("limit",n),x0._create("limit",n,"F")}class B_ extends V_{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new B_(e,t,i)}_apply(e){const t=function YC(n,e,t,i){if(t[0]=(0,de.m9)(t[0]),t[0]instanceof MI)return function(a,h,g,T,P){if(!T)throw new Et(nt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${g}().`);const U=[];for(const ee of Nf(a))if(ee.field.isKeyField())U.push(Cf(h,T.key));else{const he=T.data.field(ee.field);if(Qv(he))throw new Et(nt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ee.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===he){const Fe=ee.field.canonicalString();throw new Et(nt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Fe}' (used as the orderBy) does not exist.`)}U.push(he)}return new kl(U,P)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const a=Gg(n.firestore);return function(h,g,T,P,U,ee){const he=h.explicitOrderBy;if(U.length>he.length)throw new Et(nt.INVALID_ARGUMENT,`Too many arguments provided to ${P}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Fe=[];for(let at=0;at<U.length;at++){const Mt=U[at];if(he[at].field.isKeyField()){if("string"!=typeof Mt)throw new Et(nt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${P}(), but got a ${typeof Mt}`);if(!ay(h)&&-1!==Mt.indexOf("/"))throw new Et(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${P}() must be a plain document ID, but '${Mt}' contains a slash.`);const Xt=h.path.child(zr.fromString(Mt));if(!Yt.isDocumentKey(Xt))throw new Et(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${P}() must result in a valid document path, but '${Xt}' is not because it contains an odd number of segments.`);const nn=new Yt(Xt);Fe.push(Cf(g,nn))}else{const Xt=S0(T,P,Mt);Fe.push(Xt)}}return new kl(Fe,ee)}(n._query,n.firestore._databaseId,a,e,t,i)}}(e,this.type,this._docOrFields,this._inclusive);return new wa(e.firestore,e.converter,(a=t,new yh((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,a,i.endAt)));var i,a}}function KC(...n){return B_._create("startAfter",n,!1)}function GE(n,e,t){if("string"==typeof(t=(0,de.m9)(t))){if(""===t)throw new Et(nt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ay(e)&&-1!==t.indexOf("/"))throw new Et(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(zr.fromString(t));if(!Yt.isDocumentKey(i))throw new Et(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Cf(n,new Yt(i))}if(t instanceof Uo)return Cf(n,t._key);throw new Et(nt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${x_(t)}.`)}function jE(n,e){if(!Array.isArray(n)||0===n.length)throw new Et(nt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function QC(n,e){if(e.isInequality()){const i=Bo(n),a=e.field;if(null!==i&&!i.isEqual(a))throw new Et(nt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${a.toString()}'`);const h=K1(n);null!==h&&JC(0,a,h)}const t=function(i,a){for(const h of i)for(const g of h.getFlattenedFilters())if(a.indexOf(g.op)>=0)return g.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Et(nt.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function JC(n,e,t){if(!t.isEqual(e))throw new Et(nt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class NS{convertValue(e,t="none"){switch(Cd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return us(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Dd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ln()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Pl(e,(a,h)=>{i[a]=this.convertValue(h,t)}),i}convertGeoPoint(e){return new P_(us(e.latitude),us(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=sg(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Jm(e));default:return null}}convertTimestamp(e){const t=Ju(e);return new wo(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=zr.fromString(e);yn(Tg(i));const a=new Ef(i.get(1),i.get(3)),h=new Yt(i.popFirst(5));return a.isEqual(t)||os(`Document ${h} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),h}}function $E(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class qf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class U_ extends MI{constructor(e,t,i,a,h,g){super(e,t,i,a,g),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new r(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(L_("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class r extends U_{data(e={}){return super.data(e)}}class o{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new qf(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new r(this._firestore,this._userDataWriter,i.key,i,new qf(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Et(nt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let h=0;return i._snapshot.docChanges.map(g=>({type:"added",doc:new r(i._firestore,i._userDataWriter,g.doc.key,g.doc,new qf(i._snapshot.mutatedKeys.has(g.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:h++}))}{let h=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(g=>a||3!==g.type).map(g=>{const T=new r(i._firestore,i._userDataWriter,g.doc.key,g.doc,new qf(i._snapshot.mutatedKeys.has(g.doc.key),i._snapshot.fromCache),i.query.converter);let P=-1,U=-1;return 0!==g.type&&(P=h.indexOf(g.doc.key),h=h.delete(g.doc.key)),1!==g.type&&(h=h.add(g.doc),U=h.indexOf(g.doc.key)),{type:s(g.type),doc:T,oldIndex:P,newIndex:U}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function s(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ln()}}function f(n){n=qr(n,Uo);const e=qr(n.firestore,fo);return function b0(n,e,t={}){const i=new Os;return n.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return function(a,h,g,T,P){const U=new p0({next:he=>{h.enqueueAndForget(()=>A_(a,ee));const Fe=he.docs.has(g);!Fe&&he.fromCache?P.reject(new Et(nt.UNAVAILABLE,"Failed to get document because the client is offline.")):Fe&&he.fromCache&&T&&"server"===T.source?P.reject(new Et(nt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):P.resolve(he)},error:he=>P.reject(he)}),ee=new rE(lg(g.path),U,{includeMetadataChanges:!0,Ku:!0});return Yb(a,ee)}(yield zf(n),n.asyncQueue,e,t,i)})),i.promise}(ds(e),n._key).then(t=>function vt(n,e,t){const i=t.docs.get(e._key),a=new m(n);return new U_(n,a,e._key,i,new qf(t.hasPendingWrites,t.fromCache),e.converter)}(e,n,t))}class m extends NS{constructor(e){super(),this.firestore=e}convertBytes(e){return new xh(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Uo(this.firestore,null,t)}}function x(n){n=qr(n,wa);const e=qr(n.firestore,fo),t=ds(e),i=new m(e);return function xI(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Et(nt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),function CE(n,e,t={}){const i=new Os;return n.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return function(a,h,g,T,P){const U=new p0({next:he=>{h.enqueueAndForget(()=>A_(a,ee)),he.fromCache&&"server"===T.source?P.reject(new Et(nt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):P.resolve(he)},error:he=>P.reject(he)}),ee=new rE(g,U,{includeMetadataChanges:!0,Ku:!0});return Yb(a,ee)}(yield zf(n),n.asyncQueue,e,t,i)})),i.promise}(t,n._query).then(a=>new o(e,i,n,a))}function fe(n,e,t){n=qr(n,Uo);const i=qr(n.firestore,fo),a=$E(n.converter,e,t);return gn(i,[CI(Gg(i),"setDoc",n._key,a,null!==n.converter,t).toMutation(n._key,Mi.none())])}function Ne(n,e,t,...i){n=qr(n,Uo);const a=qr(n.firestore,fo),h=Gg(a);let g;return g="string"==typeof(e=(0,de.m9)(e))||e instanceof Rh?function SI(n,e,t,i,a,h){const g=n.ya(1,e,t),T=[F_(e,i,t)],P=[a];if(h.length%2!=0)throw new Et(nt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Fe=0;Fe<h.length;Fe+=2)T.push(F_(e,h[Fe])),P.push(h[Fe+1]);const U=[],ee=Ra.empty();for(let Fe=T.length-1;Fe>=0;--Fe)if(!UE(U,T[Fe])){const at=T[Fe];let Mt=P[Fe];Mt=(0,de.m9)(Mt);const Xt=g.da(at);if(Mt instanceof k_)U.push(at);else{const nn=jg(Mt,Xt);null!=nn&&(U.push(at),ee.set(at,nn))}}const he=new Rc(U);return new UC(ee,he,g.fieldTransforms)}(h,"updateDoc",n._key,e,t,i):function BE(n,e,t,i){const a=n.ya(1,e,t);NI("Data must be an object, but it was:",a,i);const h=[],g=Ra.empty();Pl(i,(P,U)=>{const ee=OI(e,P,t);U=(0,de.m9)(U);const he=a.da(ee);if(U instanceof k_)h.push(ee);else{const Fe=jg(U,he);null!=Fe&&(h.push(ee),g.set(ee,Fe))}});const T=new Rc(h);return new UC(g,T,a.fieldTransforms)}(h,"updateDoc",n._key,e),gn(a,[g.toMutation(n._key,Mi.exists(!0))])}function ke(n){return gn(qr(n.firestore,fo),[new gg(n._key,Mi.none())])}function lt(n,e){const t=qr(n.firestore,fo),i=wI(n),a=$E(n.converter,e);return gn(t,[CI(Gg(n.firestore),"addDoc",i._key,a,null!==n.converter,{}).toMutation(i._key,Mi.exists(!1))]).then(()=>i)}function gn(n,e){return function(t,i){const a=new Os;return t.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return function uE(n,e,t){return r0.apply(this,arguments)}(yield function y0(n){return M_(n).then(e=>e.syncEngine)}(t),i,a)})),a.promise}(ds(n),e)}function eA(...n){return new LE("arrayUnion",n)}function tA(...n){return new VE("arrayRemove",n)}!function(n,e=!0){fh=Ae.Jn,(0,Ae.Xd)(new ne.wA("firestore",(t,{instanceIdentifier:i,options:a})=>{const h=t.getProvider("app").getImmediate(),g=new fo(new pw(t.getProvider("auth-internal")),new _w(t.getProvider("app-check-internal")),function(T,P){if(!Object.prototype.hasOwnProperty.apply(T.options,["projectId"]))throw new Et(nt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ef(T.options.projectId,P)}(h,i),h);return a=Object.assign({useFetchStreams:e},a),g._setSettings(a),g},"PUBLIC").setMultipleInstances(!0)),(0,Ae.KN)(S1,"3.13.0",n),(0,Ae.KN)(S1,"3.13.0","esm2017")}();class qE{constructor(e){return e}}const FS="firestore",eS=new ae.OlP("angularfire2.firestore-instances");function iA(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new qE(i)}}const oA={provide:class nA{constructor(){return(0,b.vb)(FS)}},deps:[[new ae.FiY,eS]]},sA={provide:qE,useFactory:function rA(n,e){const t=(0,b.JM)(FS,n,e);return t&&new qE(t)},deps:[[new ae.FiY,eS],l.Ot]};let aA=(()=>{class n{constructor(){(0,ye.KN)("angularfire",b.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ae.oAB({type:n}),n.\u0275inj=ae.cJS({providers:[sA,oA]}),n})();function cA(n,...e){return{ngModule:aA,providers:[{provide:eS,useFactory:iA(n),multi:!0,deps:[ae.R0b,ae.zs3,b.HU,l.z6,[new ae.FiY,ip],[new ae.FiY,Eu],...e]}]}}const uA=(0,b.u3)(lt,!0),lA=(0,b.u3)(tA,!0),dA=(0,b.u3)(eA,!0),hA=(0,b.u3)(T0,!0),fA=(0,b.u3)(ke,!0),pA=(0,b.u3)(wI,!0),gA=(0,b.u3)(f,!0),mA=(0,b.u3)(x,!0),_A=(0,b.u3)(wS,!0),vA=(0,b.u3)(qC,!0),yA=(0,b.u3)(M0,!0),bA=(0,b.u3)(HE,!0),IA=(0,b.u3)(fe,!0),wA=(0,b.u3)(KC,!0),TA=(0,b.u3)(Ne,!0),EA=(0,b.u3)($C,!0)},6106:(Ut,$e,Q)=>{Q.d($e,{q4:()=>Gu,HU:()=>jd,vb:()=>Xf,JM:()=>ju,u3:()=>Bh});var b=Q(9468),ae=Q(4097),l=Q(5861),ye=Q(7592),ue=Q(229),de=Q(6820),Ae=Q(7879);const Ue=(N,k)=>k.some(Y=>N instanceof Y);let Ie,ne;const Xe=new WeakMap,Re=new WeakMap,rt=new WeakMap,Dt=new WeakMap,kt=new WeakMap;let Nt={get(N,k,Y){if(N instanceof IDBTransaction){if("done"===k)return Re.get(N);if("objectStoreNames"===k)return N.objectStoreNames||rt.get(N);if("store"===k)return Y.objectStoreNames[1]?void 0:Y.objectStore(Y.objectStoreNames[0])}return pt(N[k])},set:(N,k,Y)=>(N[k]=Y,!0),has:(N,k)=>N instanceof IDBTransaction&&("done"===k||"store"===k)||k in N};function mt(N){return"function"==typeof N?function ot(N){return N!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ee(){return ne||(ne=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(N)?function(...k){return N.apply(He(this),k),pt(Xe.get(this))}:function(...k){return pt(N.apply(He(this),k))}:function(k,...Y){const le=N.call(He(this),k,...Y);return rt.set(le,k.sort?k.sort():[k]),pt(le)}}(N):(N instanceof IDBTransaction&&function En(N){if(Re.has(N))return;const k=new Promise((Y,le)=>{const De=()=>{N.removeEventListener("complete",Me),N.removeEventListener("error",it),N.removeEventListener("abort",it)},Me=()=>{Y(),De()},it=()=>{le(N.error||new DOMException("AbortError","AbortError")),De()};N.addEventListener("complete",Me),N.addEventListener("error",it),N.addEventListener("abort",it)});Re.set(N,k)}(N),Ue(N,function ce(){return Ie||(Ie=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(N,Nt):N)}function pt(N){if(N instanceof IDBRequest)return function Rt(N){const k=new Promise((Y,le)=>{const De=()=>{N.removeEventListener("success",Me),N.removeEventListener("error",it)},Me=()=>{Y(pt(N.result)),De()},it=()=>{le(N.error),De()};N.addEventListener("success",Me),N.addEventListener("error",it)});return k.then(Y=>{Y instanceof IDBCursor&&Xe.set(Y,N)}).catch(()=>{}),kt.set(k,N),k}(N);if(Dt.has(N))return Dt.get(N);const k=mt(N);return k!==N&&(Dt.set(N,k),kt.set(k,N)),k}const He=N=>kt.get(N),ht=["get","getKey","getAll","getAllKeys","count"],An=["put","add","delete","clear"],ct=new Map;function cn(N,k){if(!(N instanceof IDBDatabase)||k in N||"string"!=typeof k)return;if(ct.get(k))return ct.get(k);const Y=k.replace(/FromIndex$/,""),le=k!==Y,De=An.includes(Y);if(!(Y in(le?IDBIndex:IDBObjectStore).prototype)||!De&&!ht.includes(Y))return;const Me=function(){var it=(0,l.Z)(function*(Lt,...xt){const jt=this.transaction(Lt,De?"readwrite":"readonly");let _n=jt.store;return le&&(_n=_n.index(xt.shift())),(yield Promise.all([_n[Y](...xt),De&&jt.done]))[0]});return function(xt){return it.apply(this,arguments)}}();return ct.set(k,Me),Me}!function ft(N){Nt=N(Nt)}(N=>({...N,get:(k,Y,le)=>cn(k,Y)||N.get(k,Y,le),has:(k,Y)=>!!cn(k,Y)||N.has(k,Y)}));const vn="@firebase/installations",xn="0.6.4",Wn=1e4,ur=`w:${xn}`,Pe="FIS_v2",Ge="https://firebaseinstallations.googleapis.com/v1",Qe=36e5,Ot=new ue.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Bt(N){return N instanceof ue.ZR&&N.code.includes("request-failed")}function un({projectId:N}){return`${Ge}/projects/${N}/installations`}function pn(N){return{token:N.token,requestStatus:2,expiresIn:Oe(N.expiresIn),creationTime:Date.now()}}function on(N,k){return wt.apply(this,arguments)}function wt(){return(wt=(0,l.Z)(function*(N,k){const le=(yield k.json()).error;return Ot.create("request-failed",{requestName:N,serverCode:le.code,serverMessage:le.message,serverStatus:le.status})})).apply(this,arguments)}function Ln({apiKey:N}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":N})}function Sr(N){return we.apply(this,arguments)}function we(){return(we=(0,l.Z)(function*(N){const k=yield N();return k.status>=500&&k.status<600?N():k})).apply(this,arguments)}function Oe(N){return Number(N.replace("s","000"))}function gt(){return(gt=(0,l.Z)(function*({appConfig:N,heartbeatServiceProvider:k},{fid:Y}){const le=un(N),De=Ln(N),Me=k.getImmediate({optional:!0});if(Me){const jt=yield Me.getHeartbeatsHeader();jt&&De.append("x-firebase-client",jt)}const Lt={method:"POST",headers:De,body:JSON.stringify({fid:Y,authVersion:Pe,appId:N.appId,sdkVersion:ur})},xt=yield Sr(()=>fetch(le,Lt));if(xt.ok){const jt=yield xt.json();return{fid:jt.fid||Y,registrationStatus:2,refreshToken:jt.refreshToken,authToken:pn(jt.authToken)}}throw yield on("Create Installation",xt)})).apply(this,arguments)}function Tt(N){return new Promise(k=>{setTimeout(k,N)})}const bn=/^[cdef][\w-]{21}$/,tn="";function zt(){try{const N=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(N),N[0]=112+N[0]%16;const Y=function mn(N){return function hr(N){return btoa(String.fromCharCode(...N)).replace(/\+/g,"-").replace(/\//g,"_")}(N).substr(0,22)}(N);return bn.test(Y)?Y:tn}catch{return tn}}function Hn(N){return`${N.appName}!${N.appId}`}const Kt=new Map;function yr(N,k){const Y=Hn(N);Qn(Y,k),function Un(N,k){const Y=function Pn(){return!Jn&&"BroadcastChannel"in self&&(Jn=new BroadcastChannel("[Firebase] FID Change"),Jn.onmessage=N=>{Qn(N.data.key,N.data.fid)}),Jn}();Y&&Y.postMessage({key:N,fid:k}),function ti(){0===Kt.size&&Jn&&(Jn.close(),Jn=null)}()}(Y,k)}function Qn(N,k){const Y=Kt.get(N);if(Y)for(const le of Y)le(k)}let Jn=null;const Dn="firebase-installations-database",Gn=1,Tr="firebase-installations-store";let ni=null;function et(){return ni||(ni=function me(N,k,{blocked:Y,upgrade:le,blocking:De,terminated:Me}={}){const it=indexedDB.open(N,k),Lt=pt(it);return le&&it.addEventListener("upgradeneeded",xt=>{le(pt(it.result),xt.oldVersion,xt.newVersion,pt(it.transaction))}),Y&&it.addEventListener("blocked",()=>Y()),Lt.then(xt=>{Me&&xt.addEventListener("close",()=>Me()),De&&xt.addEventListener("versionchange",()=>De())}).catch(()=>{}),Lt}(Dn,Gn,{upgrade:(N,k)=>{0===k&&N.createObjectStore(Tr)}})),ni}function Te(N,k){return qe.apply(this,arguments)}function qe(){return(qe=(0,l.Z)(function*(N,k){const Y=Hn(N),De=(yield et()).transaction(Tr,"readwrite"),Me=De.objectStore(Tr),it=yield Me.get(Y);return yield Me.put(k,Y),yield De.done,(!it||it.fid!==k.fid)&&yr(N,k.fid),k})).apply(this,arguments)}function bt(N){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,l.Z)(function*(N){const k=Hn(N),le=(yield et()).transaction(Tr,"readwrite");yield le.objectStore(Tr).delete(k),yield le.done})).apply(this,arguments)}function qt(N,k){return kn.apply(this,arguments)}function kn(){return(kn=(0,l.Z)(function*(N,k){const Y=Hn(N),De=(yield et()).transaction(Tr,"readwrite"),Me=De.objectStore(Tr),it=yield Me.get(Y),Lt=k(it);return void 0===Lt?yield Me.delete(Y):yield Me.put(Lt,Y),yield De.done,Lt&&(!it||it.fid!==Lt.fid)&&yr(N,Lt.fid),Lt})).apply(this,arguments)}function K(N){return L.apply(this,arguments)}function L(){return L=(0,l.Z)(function*(N){let k;const Y=yield qt(N.appConfig,le=>{const De=function H(N){return sn(N||{fid:zt(),registrationStatus:0})}(le),Me=function W(N,k){if(0===k.registrationStatus){if(!navigator.onLine)return{installationEntry:k,registrationPromise:Promise.reject(Ot.create("app-offline"))};const Y={fid:k.fid,registrationStatus:1,registrationTime:Date.now()},le=function j(N,k){return _e.apply(this,arguments)}(N,Y);return{installationEntry:Y,registrationPromise:le}}return 1===k.registrationStatus?{installationEntry:k,registrationPromise:ze(N)}:{installationEntry:k}}(N,De);return k=Me.registrationPromise,Me.installationEntry});return Y.fid===tn?{installationEntry:yield k}:{installationEntry:Y,registrationPromise:k}}),L.apply(this,arguments)}function _e(){return _e=(0,l.Z)(function*(N,k){try{const Y=yield function st(N,k){return gt.apply(this,arguments)}(N,k);return Te(N.appConfig,Y)}catch(Y){throw Bt(Y)&&409===Y.customData.serverCode?yield bt(N.appConfig):yield Te(N.appConfig,{fid:k.fid,registrationStatus:0}),Y}}),_e.apply(this,arguments)}function ze(N){return It.apply(this,arguments)}function It(){return(It=(0,l.Z)(function*(N){let k=yield en(N.appConfig);for(;1===k.registrationStatus;)yield Tt(100),k=yield en(N.appConfig);if(0===k.registrationStatus){const{installationEntry:Y,registrationPromise:le}=yield K(N);return le||Y}return k})).apply(this,arguments)}function en(N){return qt(N,k=>{if(!k)throw Ot.create("installation-not-found");return sn(k)})}function sn(N){return function Tn(N){return 1===N.registrationStatus&&N.registrationTime+Wn<Date.now()}(N)?{fid:N.fid,registrationStatus:0}:N}function Nn(){return(Nn=(0,l.Z)(function*({appConfig:N,heartbeatServiceProvider:k},Y){const le=function Mr(N,{fid:k}){return`${un(N)}/${k}/authTokens:generate`}(N,Y),De=function lr(N,{refreshToken:k}){const Y=Ln(N);return Y.append("Authorization",function xe(N){return`${Pe} ${N}`}(k)),Y}(N,Y),Me=k.getImmediate({optional:!0});if(Me){const jt=yield Me.getHeartbeatsHeader();jt&&De.append("x-firebase-client",jt)}const Lt={method:"POST",headers:De,body:JSON.stringify({installation:{sdkVersion:ur,appId:N.appId}})},xt=yield Sr(()=>fetch(le,Lt));if(xt.ok)return pn(yield xt.json());throw yield on("Generate Auth Token",xt)})).apply(this,arguments)}function qn(N){return Ho.apply(this,arguments)}function Ho(){return Ho=(0,l.Z)(function*(N,k=!1){let Y;const le=yield qt(N.appConfig,Me=>{if(!$n(Me))throw Ot.create("not-registered");const it=Me.authToken;if(!k&&function Ji(N){return 2===N.requestStatus&&!function Ri(N){const k=Date.now();return k<N.creationTime||N.creationTime+N.expiresIn<k+Qe}(N)}(it))return Me;if(1===it.requestStatus)return Y=function na(N,k){return Qi.apply(this,arguments)}(N,k),Me;{if(!navigator.onLine)throw Ot.create("app-offline");const Lt=function Hi(N){const k={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},N),{authToken:k})}(Me);return Y=function po(N,k){return Ta.apply(this,arguments)}(N,Lt),Lt}});return Y?yield Y:le.authToken}),Ho.apply(this,arguments)}function Qi(){return(Qi=(0,l.Z)(function*(N,k){let Y=yield ra(N.appConfig);for(;1===Y.authToken.requestStatus;)yield Tt(100),Y=yield ra(N.appConfig);const le=Y.authToken;return 0===le.requestStatus?qn(N,k):le})).apply(this,arguments)}function ra(N){return qt(N,k=>{if(!$n(k))throw Ot.create("not-registered");return function Vn(N){return 1===N.requestStatus&&N.requestTime+Wn<Date.now()}(k.authToken)?Object.assign(Object.assign({},k),{authToken:{requestStatus:0}}):k})}function Ta(){return Ta=(0,l.Z)(function*(N,k){try{const Y=yield function $t(N,k){return Nn.apply(this,arguments)}(N,k),le=Object.assign(Object.assign({},k),{authToken:Y});return yield Te(N.appConfig,le),Y}catch(Y){if(!Bt(Y)||401!==Y.customData.serverCode&&404!==Y.customData.serverCode){const le=Object.assign(Object.assign({},k),{authToken:{requestStatus:0}});yield Te(N.appConfig,le)}else yield bt(N.appConfig);throw Y}}),Ta.apply(this,arguments)}function $n(N){return void 0!==N&&2===N.registrationStatus}function Go(){return(Go=(0,l.Z)(function*(N){const k=N,{installationEntry:Y,registrationPromise:le}=yield K(k);return le?le.catch(console.error):qn(k).catch(console.error),Y.fid})).apply(this,arguments)}function ia(){return ia=(0,l.Z)(function*(N,k=!1){const Y=N;return yield function Nr(N){return go.apply(this,arguments)}(Y),(yield qn(Y,k)).token}),ia.apply(this,arguments)}function go(){return(go=(0,l.Z)(function*(N){const{registrationPromise:k}=yield K(N);k&&(yield k)})).apply(this,arguments)}function Xi(N){return Ot.create("missing-app-config-values",{valueName:N})}const Do="installations",eo=N=>{const k=N.getProvider("app").getImmediate(),Y=function Da(N){if(!N||!N.options)throw Xi("App Configuration");if(!N.name)throw Xi("App Name");const k=["projectId","apiKey","appId"];for(const Y of k)if(!N.options[Y])throw Xi(Y);return{appName:N.name,projectId:N.options.projectId,apiKey:N.options.apiKey,appId:N.options.appId}}(k);return{app:k,appConfig:Y,heartbeatServiceProvider:(0,ye.qX)(k,"heartbeat"),_delete:()=>Promise.resolve()}},ri=N=>{const k=N.getProvider("app").getImmediate(),Y=(0,ye.qX)(k,Do).getImmediate();return{getId:()=>function To(N){return Go.apply(this,arguments)}(Y),getToken:De=>function fs(N){return ia.apply(this,arguments)}(Y,De)}};(function to(){(0,ye.Xd)(new de.wA(Do,eo,"PUBLIC")),(0,ye.Xd)(new de.wA("installations-internal",ri,"PRIVATE"))})(),(0,ye.KN)(vn,xn),(0,ye.KN)(vn,xn,"esm2017");const Pi="@firebase/remote-config",xr=new ue.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class gi{constructor(k,Y,le,De){this.client=k,this.storage=Y,this.storageCache=le,this.logger=De}isCachedDataFresh(k,Y){if(!Y)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const le=Date.now()-Y,De=le<=k;return this.logger.debug(`Config fetch cache check. Cache age millis: ${le}. Cache max age millis (minimumFetchIntervalMillis setting): ${k}. Is cache hit: ${De}.`),De}fetch(k){var Y=this;return(0,l.Z)(function*(){const[le,De]=yield Promise.all([Y.storage.getLastSuccessfulFetchTimestampMillis(),Y.storage.getLastSuccessfulFetchResponse()]);if(De&&Y.isCachedDataFresh(k.cacheMaxAgeMillis,le))return De;k.eTag=De&&De.eTag;const Me=yield Y.client.fetch(k),it=[Y.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Me.status&&it.push(Y.storage.setLastSuccessfulFetchResponse(Me)),yield Promise.all(it),Me})()}}function Ya(N=navigator){return N.languages&&N.languages[0]||N.language}class ms{constructor(k,Y,le,De,Me,it){this.firebaseInstallations=k,this.sdkVersion=Y,this.namespace=le,this.projectId=De,this.apiKey=Me,this.appId=it}fetch(k){var Y=this;return(0,l.Z)(function*(){const[le,De]=yield Promise.all([Y.firebaseInstallations.getId(),Y.firebaseInstallations.getToken()]),it=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Y.projectId}/namespaces/${Y.namespace}:fetch?key=${Y.apiKey}`,Lt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":k.eTag||"*"},xt={sdk_version:Y.sdkVersion,app_instance_id:le,app_instance_id_token:De,app_id:Y.appId,language_code:Ya()},jt={method:"POST",headers:Lt,body:JSON.stringify(xt)},_n=fetch(it,jt),Fn=new Promise((Ma,cc)=>{k.signal.addEventListener(()=>{const Di=new Error("The operation was aborted.");Di.name="AbortError",cc(Di)})});let pa;try{yield Promise.race([_n,Fn]),pa=yield _n}catch(Ma){let cc="fetch-client-network";throw"AbortError"===Ma?.name&&(cc="fetch-timeout"),xr.create(cc,{originalErrorMessage:Ma?.message})}let bo=pa.status;const zd=pa.headers.get("ETag")||void 0;let Yl,Io;if(200===pa.status){let Ma;try{Ma=yield pa.json()}catch(cc){throw xr.create("fetch-client-parse",{originalErrorMessage:cc?.message})}Yl=Ma.entries,Io=Ma.state}if("INSTANCE_STATE_UNSPECIFIED"===Io?bo=500:"NO_CHANGE"===Io?bo=304:("NO_TEMPLATE"===Io||"EMPTY_CONFIG"===Io)&&(Yl={}),304!==bo&&200!==bo)throw xr.create("fetch-status",{httpStatus:bo});return{status:bo,eTag:zd,config:Yl}})()}}class rn{constructor(k,Y){this.client=k,this.storage=Y}fetch(k){var Y=this;return(0,l.Z)(function*(){const le=(yield Y.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Y.attemptFetch(k,le)})()}attemptFetch(k,{throttleEndTimeMillis:Y,backoffCount:le}){var De=this;return(0,l.Z)(function*(){yield function ir(N,k){return new Promise((Y,le)=>{const De=Math.max(k-Date.now(),0),Me=setTimeout(Y,De);N.addEventListener(()=>{clearTimeout(Me),le(xr.create("fetch-throttle",{throttleEndTimeMillis:k}))})})}(k.signal,Y);try{const Me=yield De.client.fetch(k);return yield De.storage.deleteThrottleMetadata(),Me}catch(Me){if(!function Ft(N){if(!(N instanceof ue.ZR&&N.customData))return!1;const k=Number(N.customData.httpStatus);return 429===k||500===k||503===k||504===k}(Me))throw Me;const it={throttleEndTimeMillis:Date.now()+(0,ue.$s)(le),backoffCount:le+1};return yield De.storage.setThrottleMetadata(it),De.attemptFetch(k,it)}})()}}class _s{constructor(k,Y,le,De,Me){this.app=k,this._client=Y,this._storageCache=le,this._storage=De,this._logger=Me,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Br(N,k){const Y=N.target.error||void 0;return xr.create(k,{originalErrorMessage:Y&&Y?.message})}const mi="app_namespace_store";class Sn{constructor(k,Y,le,De=function ro(){return new Promise((N,k)=>{try{const Y=indexedDB.open("firebase_remote_config",1);Y.onerror=le=>{k(Br(le,"storage-open"))},Y.onsuccess=le=>{N(le.target.result)},Y.onupgradeneeded=le=>{0===le.oldVersion&&le.target.result.createObjectStore(mi,{keyPath:"compositeKey"})}}catch(Y){k(xr.create("storage-open",{originalErrorMessage:Y?.message}))}})}()){this.appId=k,this.appName=Y,this.namespace=le,this.openDbPromise=De}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(k){return this.set("last_fetch_status",k)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(k){return this.set("last_successful_fetch_timestamp_millis",k)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(k){return this.set("last_successful_fetch_response",k)}getActiveConfig(){return this.get("active_config")}setActiveConfig(k){return this.set("active_config",k)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(k){return this.set("active_config_etag",k)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(k){return this.set("throttle_metadata",k)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(k){var Y=this;return(0,l.Z)(function*(){const le=yield Y.openDbPromise;return new Promise((De,Me)=>{const Lt=le.transaction([mi],"readonly").objectStore(mi),xt=Y.createCompositeKey(k);try{const jt=Lt.get(xt);jt.onerror=_n=>{Me(Br(_n,"storage-get"))},jt.onsuccess=_n=>{const Fn=_n.target.result;De(Fn?Fn.value:void 0)}}catch(jt){Me(xr.create("storage-get",{originalErrorMessage:jt?.message}))}})})()}set(k,Y){var le=this;return(0,l.Z)(function*(){const De=yield le.openDbPromise;return new Promise((Me,it)=>{const xt=De.transaction([mi],"readwrite").objectStore(mi),jt=le.createCompositeKey(k);try{const _n=xt.put({compositeKey:jt,value:Y});_n.onerror=Fn=>{it(Br(Fn,"storage-set"))},_n.onsuccess=()=>{Me()}}catch(_n){it(xr.create("storage-set",{originalErrorMessage:_n?.message}))}})})()}delete(k){var Y=this;return(0,l.Z)(function*(){const le=yield Y.openDbPromise;return new Promise((De,Me)=>{const Lt=le.transaction([mi],"readwrite").objectStore(mi),xt=Y.createCompositeKey(k);try{const jt=Lt.delete(xt);jt.onerror=_n=>{Me(Br(_n,"storage-delete"))},jt.onsuccess=()=>{De()}}catch(jt){Me(xr.create("storage-delete",{originalErrorMessage:jt?.message}))}})})()}createCompositeKey(k){return[this.appId,this.appName,this.namespace,k].join()}}class jo{constructor(k){this.storage=k}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var k=this;return(0,l.Z)(function*(){const Y=k.storage.getLastFetchStatus(),le=k.storage.getLastSuccessfulFetchTimestampMillis(),De=k.storage.getActiveConfig(),Me=yield Y;Me&&(k.lastFetchStatus=Me);const it=yield le;it&&(k.lastSuccessfulFetchTimestampMillis=it);const Lt=yield De;Lt&&(k.activeConfig=Lt)})()}setLastFetchStatus(k){return this.lastFetchStatus=k,this.storage.setLastFetchStatus(k)}setLastSuccessfulFetchTimestampMillis(k){return this.lastSuccessfulFetchTimestampMillis=k,this.storage.setLastSuccessfulFetchTimestampMillis(k)}setActiveConfig(k){return this.activeConfig=k,this.storage.setActiveConfig(k)}}function wi(){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,l.Z)(function*(){if(!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch{return!1}})).apply(this,arguments)}!function Ca(){(0,ye.Xd)(new de.wA("remote-config",function N(k,{instanceIdentifier:Y}){const le=k.getProvider("app").getImmediate(),De=k.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw xr.create("registration-window");if(!(0,ue.hl)())throw xr.create("indexed-db-unavailable");const{projectId:Me,apiKey:it,appId:Lt}=le.options;if(!Me)throw xr.create("registration-project-id");if(!it)throw xr.create("registration-api-key");if(!Lt)throw xr.create("registration-app-id");const xt=new Sn(Lt,le.name,Y=Y||"firebase"),jt=new jo(xt),_n=new Ae.Yd(Pi);_n.logLevel=Ae.in.ERROR;const Fn=new ms(De,ye.Jn,Y,Me,it,Lt),pa=new rn(Fn,xt),bo=new gi(pa,xt,jt,_n),zd=new _s(le,bo,jt,xt,_n);return function Ls(N){const k=(0,ue.m9)(N);k._initializePromise||(k._initializePromise=k._storageCache.loadFromStorage().then(()=>{k._isInitializationComplete=!0}))}(zd),zd},"PUBLIC").setMultipleInstances(!0)),(0,ye.KN)(Pi,"0.4.4"),(0,ye.KN)(Pi,"0.4.4","esm2017")}();const Pr=(N,k)=>k.some(Y=>N instanceof Y);let $o,Lc;const Ao=new WeakMap,Wo=new WeakMap,Rn=new WeakMap,au=new WeakMap,No=new WeakMap;let Oo={get(N,k,Y){if(N instanceof IDBTransaction){if("done"===k)return Wo.get(N);if("objectStoreNames"===k)return N.objectStoreNames||Rn.get(N);if("store"===k)return Y.objectStoreNames[1]?void 0:Y.objectStore(Y.objectStoreNames[0])}return Mo(N[k])},set:(N,k,Y)=>(N[k]=Y,!0),has:(N,k)=>N instanceof IDBTransaction&&("done"===k||"store"===k)||k in N};function Ir(N){return"function"==typeof N?function qo(N){return N!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ki(){return Lc||(Lc=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(N)?function(...k){return N.apply(Hr(this),k),Mo(Ao.get(this))}:function(...k){return Mo(N.apply(Hr(this),k))}:function(k,...Y){const le=N.call(Hr(this),k,...Y);return Rn.set(le,k.sort?k.sort():[k]),Mo(le)}}(N):(N instanceof IDBTransaction&&function Qr(N){if(Wo.has(N))return;const k=new Promise((Y,le)=>{const De=()=>{N.removeEventListener("complete",Me),N.removeEventListener("error",it),N.removeEventListener("abort",it)},Me=()=>{Y(),De()},it=()=>{le(N.error||new DOMException("AbortError","AbortError")),De()};N.addEventListener("complete",Me),N.addEventListener("error",it),N.addEventListener("abort",it)});Wo.set(N,k)}(N),Pr(N,function zo(){return $o||($o=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(N,Oo):N)}function Mo(N){if(N instanceof IDBRequest)return function vo(N){const k=new Promise((Y,le)=>{const De=()=>{N.removeEventListener("success",Me),N.removeEventListener("error",it)},Me=()=>{Y(Mo(N.result)),De()},it=()=>{le(N.error),De()};N.addEventListener("success",Me),N.addEventListener("error",it)});return k.then(Y=>{Y instanceof IDBCursor&&Ao.set(Y,N)}).catch(()=>{}),No.set(k,N),k}(N);if(au.has(N))return au.get(N);const k=Ir(N);return k!==N&&(au.set(N,k),No.set(k,N)),k}const Hr=N=>No.get(N);function ji(N,k,{blocked:Y,upgrade:le,blocking:De,terminated:Me}={}){const it=indexedDB.open(N,k),Lt=Mo(it);return le&&it.addEventListener("upgradeneeded",xt=>{le(Mo(it.result),xt.oldVersion,xt.newVersion,Mo(it.transaction))}),Y&&it.addEventListener("blocked",()=>Y()),Lt.then(xt=>{Me&&xt.addEventListener("close",()=>Me()),De&&xt.addEventListener("versionchange",()=>De())}).catch(()=>{}),Lt}function vs(N,{blocked:k}={}){const Y=indexedDB.deleteDatabase(N);return k&&Y.addEventListener("blocked",()=>k()),Mo(Y).then(()=>{})}const Zo=["get","getKey","getAll","getAllKeys","count"],Bs=["put","add","delete","clear"],si=new Map;function Ti(N,k){if(!(N instanceof IDBDatabase)||k in N||"string"!=typeof k)return;if(si.get(k))return si.get(k);const Y=k.replace(/FromIndex$/,""),le=k!==Y,De=Bs.includes(Y);if(!(Y in(le?IDBIndex:IDBObjectStore).prototype)||!De&&!Zo.includes(Y))return;const Me=function(){var it=(0,l.Z)(function*(Lt,...xt){const jt=this.transaction(Lt,De?"readwrite":"readonly");let _n=jt.store;return le&&(_n=_n.index(xt.shift())),(yield Promise.all([_n[Y](...xt),De&&jt.done]))[0]});return function(xt){return it.apply(this,arguments)}}();return si.set(k,Me),Me}!function Qa(N){Oo=N(Oo)}(N=>({...N,get:(k,Y,le)=>Ti(k,Y)||N.get(k,Y,le),has:(k,Y)=>!!Ti(k,Y)||N.has(k,Y)}));const Ja="/firebase-messaging-sw.js",Us="/firebase-cloud-messaging-push-scope",aa="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Hs="https://fcmregistrations.googleapis.com/v1",er="google.c.a.c_id",ca="google.c.a.c_l",Xa="google.c.a.ts";var F=function(N){return N.PUSH_RECEIVED="push-received",N.NOTIFICATION_CLICKED="notification-clicked",N}(F||{});function ie(N){const k=new Uint8Array(N);return btoa(String.fromCharCode(...k)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function be(N){const Y=(N+"=".repeat((4-N.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),le=atob(Y),De=new Uint8Array(le.length);for(let Me=0;Me<le.length;++Me)De[Me]=le.charCodeAt(Me);return De}const Ht="fcm_token_details_db",In=5,ai="fcm_token_object_Store";function Ei(){return Ei=(0,l.Z)(function*(N){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Me=>Me.name).includes(Ht))return null;let k=null;return(yield ji(Ht,In,{upgrade:(le=(0,l.Z)(function*(De,Me,it,Lt){var xt;if(Me<2||!De.objectStoreNames.contains(ai))return;const jt=Lt.objectStore(ai),_n=yield jt.index("fcmSenderId").get(N);if(yield jt.clear(),_n)if(2===Me){const Fn=_n;if(!Fn.auth||!Fn.p256dh||!Fn.endpoint)return;k={token:Fn.fcmToken,createTime:null!==(xt=Fn.createTime)&&void 0!==xt?xt:Date.now(),subscriptionOptions:{auth:Fn.auth,p256dh:Fn.p256dh,endpoint:Fn.endpoint,swScope:Fn.swScope,vapidKey:"string"==typeof Fn.vapidKey?Fn.vapidKey:ie(Fn.vapidKey)}}}else if(3===Me){const Fn=_n;k={token:Fn.fcmToken,createTime:Fn.createTime,subscriptionOptions:{auth:ie(Fn.auth),p256dh:ie(Fn.p256dh),endpoint:Fn.endpoint,swScope:Fn.swScope,vapidKey:ie(Fn.vapidKey)}}}else if(4===Me){const Fn=_n;k={token:Fn.fcmToken,createTime:Fn.createTime,subscriptionOptions:{auth:ie(Fn.auth),p256dh:ie(Fn.p256dh),endpoint:Fn.endpoint,swScope:Fn.swScope,vapidKey:ie(Fn.vapidKey)}}}}),function(Me,it,Lt,xt){return le.apply(this,arguments)})})).close(),yield vs(Ht),yield vs("fcm_vapid_details_db"),yield vs("undefined"),function Jr(N){if(!N||!N.subscriptionOptions)return!1;const{subscriptionOptions:k}=N;return"number"==typeof N.createTime&&N.createTime>0&&"string"==typeof N.token&&N.token.length>0&&"string"==typeof k.auth&&k.auth.length>0&&"string"==typeof k.p256dh&&k.p256dh.length>0&&"string"==typeof k.endpoint&&k.endpoint.length>0&&"string"==typeof k.swScope&&k.swScope.length>0&&"string"==typeof k.vapidKey&&k.vapidKey.length>0}(k)?k:null;var le}),Ei.apply(this,arguments)}const ec="firebase-messaging-database",Gs=1,ys="firebase-messaging-store";let tc=null;function Sa(){return tc||(tc=ji(ec,Gs,{upgrade:(N,k)=>{0===k&&N.createObjectStore(ys)}})),tc}function io(N){return cu.apply(this,arguments)}function cu(){return cu=(0,l.Z)(function*(N){const k=Ko(N),le=yield(yield Sa()).transaction(ys).objectStore(ys).get(k);if(le)return le;{const De=yield function xo(N){return Ei.apply(this,arguments)}(N.appConfig.senderId);if(De)return yield nc(N,De),De}}),cu.apply(this,arguments)}function nc(N,k){return _i.apply(this,arguments)}function _i(){return(_i=(0,l.Z)(function*(N,k){const Y=Ko(N),De=(yield Sa()).transaction(ys,"readwrite");return yield De.objectStore(ys).put(k,Y),yield De.done,k})).apply(this,arguments)}function Fi(){return(Fi=(0,l.Z)(function*(N){const k=Ko(N),le=(yield Sa()).transaction(ys,"readwrite");yield le.objectStore(ys).delete(k),yield le.done})).apply(this,arguments)}function Ko({appConfig:N}){return N.appId}const or=new ue.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function bs(N,k){return Li.apply(this,arguments)}function Li(){return(Li=(0,l.Z)(function*(N,k){const Y=yield Qo(N),le=oo(k),De={method:"POST",headers:Y,body:JSON.stringify(le)};let Me;try{Me=yield(yield fetch($s(N.appConfig),De)).json()}catch(it){throw or.create("token-subscribe-failed",{errorInfo:it?.toString()})}if(Me.error)throw or.create("token-subscribe-failed",{errorInfo:Me.error.message});if(!Me.token)throw or.create("token-subscribe-no-token");return Me.token})).apply(this,arguments)}function $i(){return($i=(0,l.Z)(function*(N,k){const Y=yield Qo(N),le=oo(k.subscriptionOptions),De={method:"PATCH",headers:Y,body:JSON.stringify(le)};let Me;try{Me=yield(yield fetch(`${$s(N.appConfig)}/${k.token}`,De)).json()}catch(it){throw or.create("token-update-failed",{errorInfo:it?.toString()})}if(Me.error)throw or.create("token-update-failed",{errorInfo:Me.error.message});if(!Me.token)throw or.create("token-update-no-token");return Me.token})).apply(this,arguments)}function Is(N,k){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,l.Z)(function*(N,k){const le={method:"DELETE",headers:yield Qo(N)};try{const Me=yield(yield fetch(`${$s(N.appConfig)}/${k}`,le)).json();if(Me.error)throw or.create("token-unsubscribe-failed",{errorInfo:Me.error.message})}catch(De){throw or.create("token-unsubscribe-failed",{errorInfo:De?.toString()})}})).apply(this,arguments)}function $s({projectId:N}){return`${Hs}/projects/${N}/registrations`}function Qo(N){return rc.apply(this,arguments)}function rc(){return(rc=(0,l.Z)(function*({appConfig:N,installations:k}){const Y=yield k.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":N.apiKey,"x-goog-firebase-installations-auth":`FIS ${Y}`})})).apply(this,arguments)}function oo({p256dh:N,auth:k,endpoint:Y,vapidKey:le}){const De={web:{endpoint:Y,auth:k,p256dh:N}};return le!==aa&&(De.web.applicationPubKey=le),De}const Fa=6048e5;function wc(){return wc=(0,l.Z)(function*(N){const k=yield function zi(N,k){return il.apply(this,arguments)}(N.swRegistration,N.vapidKey),Y={vapidKey:N.vapidKey,swScope:N.swRegistration.scope,endpoint:k.endpoint,auth:ie(k.getKey("auth")),p256dh:ie(k.getKey("p256dh"))},le=yield io(N.firebaseDependencies);if(le){if(function O(N,k){return k.vapidKey===N.vapidKey&&k.endpoint===N.endpoint&&k.auth===N.auth&&k.p256dh===N.p256dh}(le.subscriptionOptions,Y))return Date.now()>=le.createTime+Fa?function ws(N,k){return Bc.apply(this,arguments)}(N,{token:le.token,createTime:Date.now(),subscriptionOptions:Y}):le.token;try{yield Is(N.firebaseDependencies,le.token)}catch(De){console.warn(De)}return Uc(N.firebaseDependencies,Y)}return Uc(N.firebaseDependencies,Y)}),wc.apply(this,arguments)}function uu(){return uu=(0,l.Z)(function*(N){const k=yield io(N.firebaseDependencies);k&&(yield Is(N.firebaseDependencies,k.token),yield function js(N){return Fi.apply(this,arguments)}(N.firebaseDependencies));const Y=yield N.swRegistration.pushManager.getSubscription();return!Y||Y.unsubscribe()}),uu.apply(this,arguments)}function Bc(){return Bc=(0,l.Z)(function*(N,k){try{const Y=yield function Ou(N,k){return $i.apply(this,arguments)}(N.firebaseDependencies,k),le=Object.assign(Object.assign({},k),{token:Y,createTime:Date.now()});return yield nc(N.firebaseDependencies,le),Y}catch(Y){throw yield function zs(N){return uu.apply(this,arguments)}(N),Y}}),Bc.apply(this,arguments)}function Uc(N,k){return ic.apply(this,arguments)}function ic(){return(ic=(0,l.Z)(function*(N,k){const le={token:yield bs(N,k),createTime:Date.now(),subscriptionOptions:k};return yield nc(N,le),le.token})).apply(this,arguments)}function il(){return(il=(0,l.Z)(function*(N,k){return(yield N.pushManager.getSubscription())||N.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:be(k)})})).apply(this,arguments)}function te(N){const k={from:N.from,collapseKey:N.collapse_key,messageId:N.fcmMessageId};return function B(N,k){if(!k.notification)return;N.notification={};const Y=k.notification.title;Y&&(N.notification.title=Y);const le=k.notification.body;le&&(N.notification.body=le);const De=k.notification.image;De&&(N.notification.image=De);const Me=k.notification.icon;Me&&(N.notification.icon=Me)}(k,N),function X(N,k){k.data&&(N.data=k.data)}(k,N),function ge(N,k){var Y,le,De,Me,it;if(!(k.fcmOptions||null!==(Y=k.notification)&&void 0!==Y&&Y.click_action))return;N.fcmOptions={};const Lt=null!==(De=null===(le=k.fcmOptions)||void 0===le?void 0:le.link)&&void 0!==De?De:null===(Me=k.notification)||void 0===Me?void 0:Me.click_action;Lt&&(N.fcmOptions.link=Lt);const xt=null===(it=k.fcmOptions)||void 0===it?void 0:it.analytics_label;xt&&(N.fcmOptions.analyticsLabel=xt)}(k,N),k}function dt(N,k){const Y=[];for(let le=0;le<N.length;le++)Y.push(N.charAt(le)),le<k.length&&Y.push(k.charAt(le));return Y.join("")}function Er(N){return or.create("missing-app-config-values",{valueName:N})}dt("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),dt("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class pr{constructor(k,Y,le){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const De=function hn(N){if(!N||!N.options)throw Er("App Configuration Object");if(!N.name)throw Er("App Name");const k=["projectId","apiKey","appId","messagingSenderId"],{options:Y}=N;for(const le of k)if(!Y[le])throw Er(le);return{appName:N.name,projectId:Y.projectId,apiKey:Y.apiKey,appId:Y.appId,senderId:Y.messagingSenderId}}(k);this.firebaseDependencies={app:k,appConfig:De,installations:Y,analyticsProvider:le}}_delete(){return Promise.resolve()}}function Bn(){return(Bn=(0,l.Z)(function*(N){try{N.swRegistration=yield navigator.serviceWorker.register(Ja,{scope:Us}),N.swRegistration.update().catch(()=>{})}catch(k){throw or.create("failed-service-worker-registration",{browserErrorMessage:k?.message})}})).apply(this,arguments)}function Fr(){return(Fr=(0,l.Z)(function*(N,k){if(!k&&!N.swRegistration&&(yield function Xn(N){return Bn.apply(this,arguments)}(N)),k||!N.swRegistration){if(!(k instanceof ServiceWorkerRegistration))throw or.create("invalid-sw-registration");N.swRegistration=k}})).apply(this,arguments)}function Wi(){return(Wi=(0,l.Z)(function*(N,k){k?N.vapidKey=k:N.vapidKey||(N.vapidKey=aa)})).apply(this,arguments)}function qi(){return qi=(0,l.Z)(function*(N,k){if(!navigator)throw or.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw or.create("permission-blocked");return yield function ci(N,k){return Wi.apply(this,arguments)}(N,k?.vapidKey),yield function Xr(N,k){return Fr.apply(this,arguments)}(N,k?.serviceWorkerRegistration),function Aa(N){return wc.apply(this,arguments)}(N)}),qi.apply(this,arguments)}function Ws(){return(Ws=(0,l.Z)(function*(N,k,Y){const le=function Na(N){switch(N){case F.NOTIFICATION_CLICKED:return"notification_open";case F.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(k);(yield N.firebaseDependencies.analyticsProvider.get()).logEvent(le,{message_id:Y[er],message_name:Y[ca],message_time:Y[Xa],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Tc(){return Tc=(0,l.Z)(function*(N,k){const Y=k.data;if(!Y.isFirebaseMessaging)return;N.onMessageHandler&&Y.messageType===F.PUSH_RECEIVED&&("function"==typeof N.onMessageHandler?N.onMessageHandler(te(Y)):N.onMessageHandler.next(te(Y)));const le=Y.data;(function Je(N){return"object"==typeof N&&!!N&&er in N})(le)&&"1"===le["google.c.a.e"]&&(yield function yo(N,k,Y){return Ws.apply(this,arguments)}(N,Y.messageType,le))}),Tc.apply(this,arguments)}const Mu="@firebase/messaging",La=N=>{const k=new pr(N.getProvider("app").getImmediate(),N.getProvider("installations-internal").getImmediate(),N.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Y=>function qs(N,k){return Tc.apply(this,arguments)}(k,Y)),k},Hc=N=>{const k=N.getProvider("messaging").getImmediate();return{getToken:le=>function so(N,k){return qi.apply(this,arguments)}(k,le)}};function lu(){return du.apply(this,arguments)}function du(){return(du=(0,l.Z)(function*(){try{yield(0,ue.eu)()}catch{return!1}return typeof window<"u"&&(0,ue.hl)()&&(0,ue.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function oi(){(0,ye.Xd)(new de.wA("messaging",La,"PUBLIC")),(0,ye.Xd)(new de.wA("messaging-internal",Hc,"PRIVATE")),(0,ye.KN)(Mu,"0.12.4"),(0,ye.KN)(Mu,"0.12.4","esm2017")}();const ua="analytics",xu="firebase_id",kd="origin",hi=6e4,Va="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ec="https://www.googletagmanager.com/gtag/js",Zi=new Ae.Yd("@firebase/analytics"),ao=new ue.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Kf(N){if(!N.startsWith(Ec)){const k=ao.create("invalid-gtag-resource",{gtagURL:N});return Zi.warn(k.message),""}return N}function ol(N){return Promise.all(N.map(k=>k.catch(Y=>Y)))}function Dc(){return(Dc=(0,l.Z)(function*(N,k,Y,le,De,Me){const it=le[De];try{if(it)yield k[it];else{const xt=(yield ol(Y)).find(jt=>jt.measurementId===De);xt&&(yield k[xt.appId])}}catch(Lt){Zi.error(Lt)}N("config",De,Me)})).apply(this,arguments)}function sl(){return(sl=(0,l.Z)(function*(N,k,Y,le,De){try{let Me=[];if(De&&De.send_to){let it=De.send_to;Array.isArray(it)||(it=[it]);const Lt=yield ol(Y);for(const xt of it){const jt=Lt.find(Fn=>Fn.measurementId===xt),_n=jt&&k[jt.appId];if(!_n){Me=[];break}Me.push(_n)}}0===Me.length&&(Me=Object.values(k)),yield Promise.all(Me),N("event",le,De||{})}catch(Me){Zi.error(Me)}})).apply(this,arguments)}const gr=30,Vi=new class jl{constructor(k={},Y=1e3){this.throttleMetadata=k,this.intervalMillis=Y}getThrottleMetadata(k){return this.throttleMetadata[k]}setThrottleMetadata(k,Y){this.throttleMetadata[k]=Y}deleteThrottleMetadata(k){delete this.throttleMetadata[k]}};function cl(N){return new Headers({Accept:"application/json","x-goog-api-key":N})}function ts(){return(ts=(0,l.Z)(function*(N){var k;const{appId:Y,apiKey:le}=N,De={method:"GET",headers:cl(le)},Me=Va.replace("{app-id}",Y),it=yield fetch(Me,De);if(200!==it.status&&304!==it.status){let Lt="";try{const xt=yield it.json();null!==(k=xt.error)&&void 0!==k&&k.message&&(Lt=xt.error.message)}catch{}throw ao.create("config-fetch-failed",{httpStatus:it.status,responseMessage:Lt})}return it.json()})).apply(this,arguments)}function sc(){return(sc=(0,l.Z)(function*(N,k=Vi,Y){const{appId:le,apiKey:De,measurementId:Me}=N.options;if(!le)throw ao.create("no-app-id");if(!De){if(Me)return{measurementId:Me,appId:le};throw ao.create("no-api-key")}const it=k.getThrottleMetadata(le)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Lt=new Zs;return setTimeout((0,l.Z)(function*(){Lt.abort()}),void 0!==Y?Y:hi),Fu({appId:le,apiKey:De,measurementId:Me},it,Lt,k)})).apply(this,arguments)}function Fu(N,k,Y){return jc.apply(this,arguments)}function jc(){return jc=(0,l.Z)(function*(N,{throttleEndTimeMillis:k,backoffCount:Y},le,De=Vi){var Me;const{appId:it,measurementId:Lt}=N;try{yield function Ba(N,k){return new Promise((Y,le)=>{const De=Math.max(k-Date.now(),0),Me=setTimeout(Y,De);N.addEventListener(()=>{clearTimeout(Me),le(ao.create("fetch-throttle",{throttleEndTimeMillis:k}))})})}(le,k)}catch(xt){if(Lt)return Zi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Lt} provided in the "measurementId" field in the local Firebase config. [${xt?.message}]`),{appId:it,measurementId:Lt};throw xt}try{const xt=yield function Gc(N){return ts.apply(this,arguments)}(N);return De.deleteThrottleMetadata(it),xt}catch(xt){const jt=xt;if(!function Ro(N){if(!(N instanceof ue.ZR&&N.customData))return!1;const k=Number(N.customData.httpStatus);return 429===k||500===k||503===k||504===k}(jt)){if(De.deleteThrottleMetadata(it),Lt)return Zi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Lt} provided in the "measurementId" field in the local Firebase config. [${jt?.message}]`),{appId:it,measurementId:Lt};throw xt}const _n=503===Number(null===(Me=jt?.customData)||void 0===Me?void 0:Me.httpStatus)?(0,ue.$s)(Y,De.intervalMillis,gr):(0,ue.$s)(Y,De.intervalMillis),Fn={throttleEndTimeMillis:Date.now()+_n,backoffCount:Y+1};return De.setThrottleMetadata(it,Fn),Zi.debug(`Calling attemptFetch again in ${_n} millis`),Fu(N,Fn,le,De)}}),jc.apply(this,arguments)}class Zs{constructor(){this.listeners=[]}addEventListener(k){this.listeners.push(k)}abort(){this.listeners.forEach(k=>k())}}let gu,pe;function da(){return(da=(0,l.Z)(function*(N,k,Y,le,De){if(De&&De.global)N("event",Y,le);else{const Me=yield k;N("event",Y,Object.assign(Object.assign({},le),{send_to:Me}))}})).apply(this,arguments)}function On(){return(On=(0,l.Z)(function*(){if(!(0,ue.hl)())return Zi.warn(ao.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ue.eu)()}catch(N){return Zi.warn(ao.create("indexeddb-unavailable",{errorInfo:N?.toString()}).message),!1}return!0})).apply(this,arguments)}function sr(){return sr=(0,l.Z)(function*(N,k,Y,le,De,Me,it){var Lt;const xt=function ku(N){return sc.apply(this,arguments)}(N);xt.then(bo=>{Y[bo.measurementId]=bo.appId,N.options.measurementId&&bo.measurementId!==N.options.measurementId&&Zi.warn(`The measurement ID in the local Firebase config (${N.options.measurementId}) does not match the measurement ID fetched from the server (${bo.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(bo=>Zi.error(bo)),k.push(xt);const jt=function Gt(){return On.apply(this,arguments)}().then(bo=>{if(bo)return le.getId()}),[_n,Fn]=yield Promise.all([xt,jt]);(function ut(N){const k=window.document.getElementsByTagName("script");for(const Y of Object.values(k))if(Y.src&&Y.src.includes(Ec)&&Y.src.includes(N))return Y;return null})(Me)||function fu(N,k){const Y=function Gl(N,k){let Y;return window.trustedTypes&&(Y=window.trustedTypes.createPolicy(N,k)),Y}("firebase-js-sdk-policy",{createScriptURL:Kf}),le=document.createElement("script"),De=`${Ec}?l=${N}&id=${k}`;le.src=Y?Y?.createScriptURL(De):De,le.async=!0,document.head.appendChild(le)}(Me,_n.measurementId),pe&&(De("consent","default",pe),function je(N){pe=N}(void 0)),De("js",new Date);const pa=null!==(Lt=it?.config)&&void 0!==Lt?Lt:{};return pa[kd]="firebase",pa.update=!0,null!=Fn&&(pa[xu]=Fn),De("config",_n.measurementId,pa),gu&&(De("set",gu),function Ve(N){gu=N}(void 0)),_n.measurementId}),sr.apply(this,arguments)}class Ua{constructor(k){this.app=k}_delete(){return delete kr[this.app.options.appId],Promise.resolve()}}let kr={},Ks=[];const Dr={};let zl,ha,Ts="dataLayer",Lu=!1;function ac(N,k,Y){!function Vd(){const N=[];if((0,ue.ru)()&&N.push("This is a browser extension environment."),(0,ue.zI)()||N.push("Cookies are not available."),N.length>0){const k=N.map((le,De)=>`(${De+1}) ${le}`).join(" "),Y=ao.create("invalid-analytics-context",{errorInfo:k});Zi.warn(Y.message)}}();const le=N.options.appId;if(!le)throw ao.create("no-app-id");if(!N.options.apiKey){if(!N.options.measurementId)throw ao.create("no-api-key");Zi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${N.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=kr[le])throw ao.create("already-exists",{id:le});if(!Lu){!function pu(N){let k=[];Array.isArray(window[N])?k=window[N]:window[N]=k}(Ts);const{wrappedGtag:Me,gtagCore:it}=function Pu(N,k,Y,le,De){let Me=function(...it){window[le].push(arguments)};return window[De]&&"function"==typeof window[De]&&(Me=window[De]),window[De]=function Ru(N,k,Y,le){function Me(){return Me=(0,l.Z)(function*(it,...Lt){try{if("event"===it){const[xt,jt]=Lt;yield function Fd(N,k,Y,le,De){return sl.apply(this,arguments)}(N,k,Y,xt,jt)}else if("config"===it){const[xt,jt]=Lt;yield function la(N,k,Y,le,De,Me){return Dc.apply(this,arguments)}(N,k,Y,le,xt,jt)}else if("consent"===it){const[xt]=Lt;N("consent","update",xt)}else if("get"===it){const[xt,jt,_n]=Lt;N("get",xt,jt,_n)}else if("set"===it){const[xt]=Lt;N("set",xt)}else N(it,...Lt)}catch(xt){Zi.error(xt)}}),Me.apply(this,arguments)}return function De(it){return Me.apply(this,arguments)}}(Me,N,k,Y),{gtagCore:Me,wrappedGtag:window[De]}}(kr,Ks,Dr,Ts,"gtag");ha=Me,zl=it,Lu=!0}return kr[le]=function wr(N,k,Y,le,De,Me,it){return sr.apply(this,arguments)}(N,Ks,Dr,k,zl,Ts,Y),new Ua(N)}function Cc(){return $c.apply(this,arguments)}function $c(){return($c=(0,l.Z)(function*(){if((0,ue.ru)()||!(0,ue.zI)()||!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch{return!1}})).apply(this,arguments)}const Yf="@firebase/analytics";!function Lh(){(0,ye.Xd)(new de.wA(ua,(k,{options:Y})=>ac(k.getProvider("app").getImmediate(),k.getProvider("installations-internal").getImmediate(),Y),"PUBLIC")),(0,ye.Xd)(new de.wA("analytics-internal",function N(k){try{const Y=k.getProvider(ua).getImmediate();return{logEvent:(le,De,Me)=>function Ud(N,k,Y,le){N=(0,ue.m9)(N),function Oa(N,k,Y,le,De){return da.apply(this,arguments)}(ha,kr[N.app.options.appId],k,Y,le).catch(De=>Zi.error(De))}(Y,le,De,Me)}}catch(Y){throw ao.create("interop-component-reg-failed",{reason:Y})}},"PRIVATE")),(0,ye.KN)(Yf,"0.10.0"),(0,ye.KN)(Yf,"0.10.0","esm2017")}();var Kl=Q(1954),Wc=Q(9931);const Hd=new class vu extends Wc.v{}(class H_ extends Kl.o{constructor(k,Y){super(k,Y),this.scheduler=k,this.work=Y}schedule(k,Y=0){return Y>0?super.schedule(k,Y):(this.delay=Y,this.state=k,this.scheduler.flush(this),this)}execute(k,Y){return Y>0||this.closed?super.execute(k,Y):this._execute(k,Y)}requestAsyncId(k,Y,le=0){return null!=le&&le>0||null==le&&this.delay>0?super.requestAsyncId(k,Y,le):(k.flush(this),0)}});var Uu=Q(6321),Sc=Q(5592),Qf=Q(9397),Hu=Q(5137),hl=Q(3093);const Gu=new b.GfV("7.6.1"),ns="__angularfire_symbol__analyticsIsSupportedValue",fl="__angularfire_symbol__analyticsIsSupported",qc="__angularfire_symbol__remoteConfigIsSupportedValue",Zc="__angularfire_symbol__remoteConfigIsSupported",pl="__angularfire_symbol__messagingIsSupportedValue",gl="__angularfire_symbol__messagingIsSupported";function ju(N,k,Y){if(k){if(1===k.length)return k[0];const Me=k.filter(it=>it.app===Y);if(1===Me.length)return Me[0]}return Y.container.getProvider(N).getImmediate({optional:!0})}globalThis[fl]||(globalThis[fl]=Cc().then(N=>globalThis[ns]=N).catch(()=>globalThis[ns]=!1)),globalThis[gl]||(globalThis[gl]=lu().then(N=>globalThis[pl]=N).catch(()=>globalThis[pl]=!1)),globalThis[Zc]||(globalThis[Zc]=wi().then(N=>globalThis[qc]=N).catch(()=>globalThis[qc]=!1));const Xf=(N,k)=>{const Y=k?[k]:(0,ae.C6)(),le=[];return Y.forEach(De=>{De.container.getProvider(N).instances.forEach(it=>{le.includes(it)||le.push(it)})}),le};function $u(){}class Kc{constructor(k,Y=Hd){this.zone=k,this.delegate=Y}now(){return this.delegate.now()}schedule(k,Y,le){const De=this.zone;return this.delegate.schedule(function(it){De.runGuarded(()=>{k.apply(this,[it])})},Y,le)}}class Ac{constructor(k){this.zone=k,this.task=null}call(k,Y){const le=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$u,{},$u,$u)),Y.pipe((0,Qf.b)({next:le,complete:le,error:le})).subscribe(k).add(le)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let jd=(()=>{class N{constructor(Y){this.ngZone=Y,this.outsideAngular=Y.runOutsideAngular(()=>new Kc(Zone.current)),this.insideAngular=Y.run(()=>new Kc(Zone.current,Uu.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return N.\u0275fac=function(Y){return new(Y||N)(b.LFG(b.R0b))},N.\u0275prov=b.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})();function Nc(){const N=globalThis.\u0275AngularFireScheduler;if(!N)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return N}function fa(N){return Nc().ngZone.run(()=>N())}function Vh(N){return Nc(),function $d(N){return function(Y){return(Y=Y.lift(new Ac(N.ngZone))).pipe((0,Hu.R)(N.outsideAngular),(0,hl.Q)(N.insideAngular))}}(Nc())(N)}const _l=(N,k)=>function(){const le=arguments;return k&&setTimeout(()=>{"scheduled"===k.state&&k.invoke()},10),fa(()=>N.apply(void 0,le))},Bh=(N,k)=>function(){let Y;const le=arguments;for(let Me=0;Me<arguments.length;Me++)"function"==typeof le[Me]&&(k&&(Y||(Y=fa(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$u,{},$u,$u)))),le[Me]=_l(le[Me],Y));const De=function zu(N){return Nc().ngZone.runOutsideAngular(()=>N())}(()=>N.apply(this,le));if(!k){if(De instanceof Sc.y){const Me=Nc();return De.pipe((0,Hu.R)(Me.outsideAngular),(0,hl.Q)(Me.insideAngular))}return fa(()=>De)}return De instanceof Sc.y?De.pipe(Vh):De instanceof Promise?fa(()=>new Promise((Me,it)=>De.then(Lt=>fa(()=>Me(Lt)),Lt=>fa(()=>it(Lt))))):"function"==typeof De&&Y?function(){return setTimeout(()=>{Y&&"scheduled"===Y.state&&Y.invoke()},10),De.apply(this,arguments)}:fa(()=>De)}},229:(Ut,$e,Q)=>{Q.d($e,{$s:()=>bt,BH:()=>mt,L:()=>Ie,LL:()=>_t,P0:()=>Nt,Pz:()=>ot,Sg:()=>pt,US:()=>de,ZR:()=>tt,aH:()=>ft,b$:()=>ct,eu:()=>Ge,hl:()=>Pe,m9:()=>kn,ne:()=>Hn,ru:()=>An,tV:()=>ne,uI:()=>me,vZ:()=>gt,xO:()=>bn,z$:()=>He,zI:()=>Qe});const ye=function(K){const L=[];let H=0;for(let W=0;W<K.length;W++){let j=K.charCodeAt(W);j<128?L[H++]=j:j<2048?(L[H++]=j>>6|192,L[H++]=63&j|128):55296==(64512&j)&&W+1<K.length&&56320==(64512&K.charCodeAt(W+1))?(j=65536+((1023&j)<<10)+(1023&K.charCodeAt(++W)),L[H++]=j>>18|240,L[H++]=j>>12&63|128,L[H++]=j>>6&63|128,L[H++]=63&j|128):(L[H++]=j>>12|224,L[H++]=j>>6&63|128,L[H++]=63&j|128)}return L},de={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(K,L){if(!Array.isArray(K))throw Error("encodeByteArray takes an array as a parameter");this.init_();const H=L?this.byteToCharMapWebSafe_:this.byteToCharMap_,W=[];for(let j=0;j<K.length;j+=3){const _e=K[j],ze=j+1<K.length,It=ze?K[j+1]:0,en=j+2<K.length,sn=en?K[j+2]:0;let Nn=(15&It)<<2|sn>>6,Mr=63&sn;en||(Mr=64,ze||(Nn=64)),W.push(H[_e>>2],H[(3&_e)<<4|It>>4],H[Nn],H[Mr])}return W.join("")},encodeString(K,L){return this.HAS_NATIVE_SUPPORT&&!L?btoa(K):this.encodeByteArray(ye(K),L)},decodeString(K,L){return this.HAS_NATIVE_SUPPORT&&!L?atob(K):function(K){const L=[];let H=0,W=0;for(;H<K.length;){const j=K[H++];if(j<128)L[W++]=String.fromCharCode(j);else if(j>191&&j<224){const _e=K[H++];L[W++]=String.fromCharCode((31&j)<<6|63&_e)}else if(j>239&&j<365){const en=((7&j)<<18|(63&K[H++])<<12|(63&K[H++])<<6|63&K[H++])-65536;L[W++]=String.fromCharCode(55296+(en>>10)),L[W++]=String.fromCharCode(56320+(1023&en))}else{const _e=K[H++],ze=K[H++];L[W++]=String.fromCharCode((15&j)<<12|(63&_e)<<6|63&ze)}}return L.join("")}(this.decodeStringToByteArray(K,L))},decodeStringToByteArray(K,L){this.init_();const H=L?this.charToByteMapWebSafe_:this.charToByteMap_,W=[];for(let j=0;j<K.length;){const _e=H[K.charAt(j++)],It=j<K.length?H[K.charAt(j)]:0;++j;const sn=j<K.length?H[K.charAt(j)]:64;++j;const $t=j<K.length?H[K.charAt(j)]:64;if(++j,null==_e||null==It||null==sn||null==$t)throw new Ae;W.push(_e<<2|It>>4),64!==sn&&(W.push(It<<4&240|sn>>2),64!==$t&&W.push(sn<<6&192|$t))}return W},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let K=0;K<this.ENCODED_VALS.length;K++)this.byteToCharMap_[K]=this.ENCODED_VALS.charAt(K),this.charToByteMap_[this.byteToCharMap_[K]]=K,this.byteToCharMapWebSafe_[K]=this.ENCODED_VALS_WEBSAFE.charAt(K),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[K]]=K,K>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(K)]=K,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(K)]=K)}}};class Ae extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ie=function(K){return function(K){const L=ye(K);return de.encodeByteArray(L,!0)}(K).replace(/\./g,"")},ne=function(K){try{return de.decodeString(K,!0)}catch(L){console.error("base64Decode failed: ",L)}return null},Rt=()=>{try{return function Re(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const K=process.env.__FIREBASE_DEFAULTS__;return K?JSON.parse(K):void 0})()||(()=>{if(typeof document>"u")return;let K;try{K=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const L=K&&ne(K[1]);return L&&JSON.parse(L)})()}catch(K){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${K}`)}},Nt=K=>{const L=(K=>{var L,H;return null===(H=null===(L=Rt())||void 0===L?void 0:L.emulatorHosts)||void 0===H?void 0:H[K]})(K);if(!L)return;const H=L.lastIndexOf(":");if(H<=0||H+1===L.length)throw new Error(`Invalid host ${L} with no separate hostname and port!`);const W=parseInt(L.substring(H+1),10);return"["===L[0]?[L.substring(1,H-1),W]:[L.substring(0,H),W]},ft=()=>{var K;return null===(K=Rt())||void 0===K?void 0:K.config},ot=K=>{var L;return null===(L=Rt())||void 0===L?void 0:L[`_${K}`]};class mt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((L,H)=>{this.resolve=L,this.reject=H})}wrapCallback(L){return(H,W)=>{H?this.reject(H):this.resolve(W),"function"==typeof L&&(this.promise.catch(()=>{}),1===L.length?L(H):L(H,W))}}}function pt(K,L){if(K.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const W=L||"demo-project",j=K.iat||0,_e=K.sub||K.user_id;if(!_e)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ze=Object.assign({iss:`https://securetoken.google.com/${W}`,aud:W,iat:j,exp:j+3600,auth_time:j,sub:_e,user_id:_e,firebase:{sign_in_provider:"custom",identities:{}}},K);return[Ie(JSON.stringify({alg:"none",type:"JWT"})),Ie(JSON.stringify(ze)),""].join(".")}function He(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function me(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(He())}function An(){const K="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof K&&void 0!==K.id}function ct(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Pe(){try{return"object"==typeof indexedDB}catch{return!1}}function Ge(){return new Promise((K,L)=>{try{let H=!0;const W="validate-browser-context-for-indexeddb-analytics-module",j=self.indexedDB.open(W);j.onsuccess=()=>{j.result.close(),H||self.indexedDB.deleteDatabase(W),K(!0)},j.onupgradeneeded=()=>{H=!1},j.onerror=()=>{var _e;L((null===(_e=j.error)||void 0===_e?void 0:_e.message)||"")}}catch(H){L(H)}})}function Qe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class tt extends Error{constructor(L,H,W){super(H),this.code=L,this.customData=W,this.name="FirebaseError",Object.setPrototypeOf(this,tt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_t.prototype.create)}}class _t{constructor(L,H,W){this.service=L,this.serviceName=H,this.errors=W}create(L,...H){const W=H[0]||{},j=`${this.service}/${L}`,_e=this.errors[L],ze=_e?function Ot(K,L){return K.replace(Bt,(H,W)=>{const j=L[W];return null!=j?String(j):`<${W}?>`})}(_e,W):"Error";return new tt(j,`${this.serviceName}: ${ze} (${j}).`,W)}}const Bt=/\{\$([^}]+)}/g;function gt(K,L){if(K===L)return!0;const H=Object.keys(K),W=Object.keys(L);for(const j of H){if(!W.includes(j))return!1;const _e=K[j],ze=L[j];if(Tt(_e)&&Tt(ze)){if(!gt(_e,ze))return!1}else if(_e!==ze)return!1}for(const j of W)if(!H.includes(j))return!1;return!0}function Tt(K){return null!==K&&"object"==typeof K}function bn(K){const L=[];for(const[H,W]of Object.entries(K))Array.isArray(W)?W.forEach(j=>{L.push(encodeURIComponent(H)+"="+encodeURIComponent(j))}):L.push(encodeURIComponent(H)+"="+encodeURIComponent(W));return L.length?"&"+L.join("&"):""}function Hn(K,L){const H=new Kt(K,L);return H.subscribe.bind(H)}class Kt{constructor(L,H){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=H,this.task.then(()=>{L(this)}).catch(W=>{this.error(W)})}next(L){this.forEachObserver(H=>{H.next(L)})}error(L){this.forEachObserver(H=>{H.error(L)}),this.close(L)}complete(){this.forEachObserver(L=>{L.complete()}),this.close()}subscribe(L,H,W){let j;if(void 0===L&&void 0===H&&void 0===W)throw new Error("Missing Observer.");j=function fr(K,L){if("object"!=typeof K||null===K)return!1;for(const H of L)if(H in K&&"function"==typeof K[H])return!0;return!1}(L,["next","error","complete"])?L:{next:L,error:H,complete:W},void 0===j.next&&(j.next=dn),void 0===j.error&&(j.error=dn),void 0===j.complete&&(j.complete=dn);const _e=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?j.error(this.finalError):j.complete()}catch{}}),this.observers.push(j),_e}unsubscribeOne(L){void 0===this.observers||void 0===this.observers[L]||(delete this.observers[L],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(L){if(!this.finalized)for(let H=0;H<this.observers.length;H++)this.sendOne(H,L)}sendOne(L,H){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[L])try{H(this.observers[L])}catch(W){typeof console<"u"&&console.error&&console.error(W)}})}close(L){this.finalized||(this.finalized=!0,void 0!==L&&(this.finalError=L),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dn(){}const ni=1e3,et=2,Te=144e5,qe=.5;function bt(K,L=ni,H=et){const W=L*Math.pow(H,K),j=Math.round(qe*W*(Math.random()-.5)*2);return Math.min(Te,W+j)}function kn(K){return K&&K._delegate?K._delegate:K}},9058:(Ut,$e,Q)=>{Q.d($e,{BH:()=>mt,L:()=>Ie,LL:()=>_t,Pz:()=>ot,ZR:()=>tt,aH:()=>ft,b$:()=>ct,eu:()=>Ge,hl:()=>Pe,m9:()=>kn,ne:()=>Hn,pd:()=>zt,q4:()=>En,ru:()=>An,tV:()=>ne,uI:()=>me,vZ:()=>gt,w1:()=>vn,xO:()=>bn,xb:()=>xe,z$:()=>He,zd:()=>tn});const ye=function(K){const L=[];let H=0;for(let W=0;W<K.length;W++){let j=K.charCodeAt(W);j<128?L[H++]=j:j<2048?(L[H++]=j>>6|192,L[H++]=63&j|128):55296==(64512&j)&&W+1<K.length&&56320==(64512&K.charCodeAt(W+1))?(j=65536+((1023&j)<<10)+(1023&K.charCodeAt(++W)),L[H++]=j>>18|240,L[H++]=j>>12&63|128,L[H++]=j>>6&63|128,L[H++]=63&j|128):(L[H++]=j>>12|224,L[H++]=j>>6&63|128,L[H++]=63&j|128)}return L},de={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(K,L){if(!Array.isArray(K))throw Error("encodeByteArray takes an array as a parameter");this.init_();const H=L?this.byteToCharMapWebSafe_:this.byteToCharMap_,W=[];for(let j=0;j<K.length;j+=3){const _e=K[j],ze=j+1<K.length,It=ze?K[j+1]:0,en=j+2<K.length,sn=en?K[j+2]:0;let Nn=(15&It)<<2|sn>>6,Mr=63&sn;en||(Mr=64,ze||(Nn=64)),W.push(H[_e>>2],H[(3&_e)<<4|It>>4],H[Nn],H[Mr])}return W.join("")},encodeString(K,L){return this.HAS_NATIVE_SUPPORT&&!L?btoa(K):this.encodeByteArray(ye(K),L)},decodeString(K,L){return this.HAS_NATIVE_SUPPORT&&!L?atob(K):function(K){const L=[];let H=0,W=0;for(;H<K.length;){const j=K[H++];if(j<128)L[W++]=String.fromCharCode(j);else if(j>191&&j<224){const _e=K[H++];L[W++]=String.fromCharCode((31&j)<<6|63&_e)}else if(j>239&&j<365){const en=((7&j)<<18|(63&K[H++])<<12|(63&K[H++])<<6|63&K[H++])-65536;L[W++]=String.fromCharCode(55296+(en>>10)),L[W++]=String.fromCharCode(56320+(1023&en))}else{const _e=K[H++],ze=K[H++];L[W++]=String.fromCharCode((15&j)<<12|(63&_e)<<6|63&ze)}}return L.join("")}(this.decodeStringToByteArray(K,L))},decodeStringToByteArray(K,L){this.init_();const H=L?this.charToByteMapWebSafe_:this.charToByteMap_,W=[];for(let j=0;j<K.length;){const _e=H[K.charAt(j++)],It=j<K.length?H[K.charAt(j)]:0;++j;const sn=j<K.length?H[K.charAt(j)]:64;++j;const $t=j<K.length?H[K.charAt(j)]:64;if(++j,null==_e||null==It||null==sn||null==$t)throw new Ae;W.push(_e<<2|It>>4),64!==sn&&(W.push(It<<4&240|sn>>2),64!==$t&&W.push(sn<<6&192|$t))}return W},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let K=0;K<this.ENCODED_VALS.length;K++)this.byteToCharMap_[K]=this.ENCODED_VALS.charAt(K),this.charToByteMap_[this.byteToCharMap_[K]]=K,this.byteToCharMapWebSafe_[K]=this.ENCODED_VALS_WEBSAFE.charAt(K),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[K]]=K,K>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(K)]=K,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(K)]=K)}}};class Ae extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ie=function(K){return function(K){const L=ye(K);return de.encodeByteArray(L,!0)}(K).replace(/\./g,"")},ne=function(K){try{return de.decodeString(K,!0)}catch(L){console.error("base64Decode failed: ",L)}return null},Rt=()=>{try{return function Re(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const K=process.env.__FIREBASE_DEFAULTS__;return K?JSON.parse(K):void 0})()||(()=>{if(typeof document>"u")return;let K;try{K=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const L=K&&ne(K[1]);return L&&JSON.parse(L)})()}catch(K){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${K}`)}},En=K=>{var L,H;return null===(H=null===(L=Rt())||void 0===L?void 0:L.emulatorHosts)||void 0===H?void 0:H[K]},ft=()=>{var K;return null===(K=Rt())||void 0===K?void 0:K.config},ot=K=>{var L;return null===(L=Rt())||void 0===L?void 0:L[`_${K}`]};class mt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((L,H)=>{this.resolve=L,this.reject=H})}wrapCallback(L){return(H,W)=>{H?this.reject(H):this.resolve(W),"function"==typeof L&&(this.promise.catch(()=>{}),1===L.length?L(H):L(H,W))}}}function He(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function me(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(He())}function An(){const K="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof K&&void 0!==K.id}function ct(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function vn(){const K=He();return K.indexOf("MSIE ")>=0||K.indexOf("Trident/")>=0}function Pe(){try{return"object"==typeof indexedDB}catch{return!1}}function Ge(){return new Promise((K,L)=>{try{let H=!0;const W="validate-browser-context-for-indexeddb-analytics-module",j=self.indexedDB.open(W);j.onsuccess=()=>{j.result.close(),H||self.indexedDB.deleteDatabase(W),K(!0)},j.onupgradeneeded=()=>{H=!1},j.onerror=()=>{var _e;L((null===(_e=j.error)||void 0===_e?void 0:_e.message)||"")}}catch(H){L(H)}})}class tt extends Error{constructor(L,H,W){super(H),this.code=L,this.customData=W,this.name="FirebaseError",Object.setPrototypeOf(this,tt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_t.prototype.create)}}class _t{constructor(L,H,W){this.service=L,this.serviceName=H,this.errors=W}create(L,...H){const W=H[0]||{},j=`${this.service}/${L}`,_e=this.errors[L],ze=_e?function Ot(K,L){return K.replace(Bt,(H,W)=>{const j=L[W];return null!=j?String(j):`<${W}?>`})}(_e,W):"Error";return new tt(j,`${this.serviceName}: ${ze} (${j}).`,W)}}const Bt=/\{\$([^}]+)}/g;function xe(K){for(const L in K)if(Object.prototype.hasOwnProperty.call(K,L))return!1;return!0}function gt(K,L){if(K===L)return!0;const H=Object.keys(K),W=Object.keys(L);for(const j of H){if(!W.includes(j))return!1;const _e=K[j],ze=L[j];if(Tt(_e)&&Tt(ze)){if(!gt(_e,ze))return!1}else if(_e!==ze)return!1}for(const j of W)if(!H.includes(j))return!1;return!0}function Tt(K){return null!==K&&"object"==typeof K}function bn(K){const L=[];for(const[H,W]of Object.entries(K))Array.isArray(W)?W.forEach(j=>{L.push(encodeURIComponent(H)+"="+encodeURIComponent(j))}):L.push(encodeURIComponent(H)+"="+encodeURIComponent(W));return L.length?"&"+L.join("&"):""}function tn(K){const L={};return K.replace(/^\?/,"").split("&").forEach(W=>{if(W){const[j,_e]=W.split("=");L[decodeURIComponent(j)]=decodeURIComponent(_e)}}),L}function zt(K){const L=K.indexOf("?");if(!L)return"";const H=K.indexOf("#",L);return K.substring(L,H>0?H:void 0)}function Hn(K,L){const H=new Kt(K,L);return H.subscribe.bind(H)}class Kt{constructor(L,H){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=H,this.task.then(()=>{L(this)}).catch(W=>{this.error(W)})}next(L){this.forEachObserver(H=>{H.next(L)})}error(L){this.forEachObserver(H=>{H.error(L)}),this.close(L)}complete(){this.forEachObserver(L=>{L.complete()}),this.close()}subscribe(L,H,W){let j;if(void 0===L&&void 0===H&&void 0===W)throw new Error("Missing Observer.");j=function fr(K,L){if("object"!=typeof K||null===K)return!1;for(const H of L)if(H in K&&"function"==typeof K[H])return!0;return!1}(L,["next","error","complete"])?L:{next:L,error:H,complete:W},void 0===j.next&&(j.next=dn),void 0===j.error&&(j.error=dn),void 0===j.complete&&(j.complete=dn);const _e=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?j.error(this.finalError):j.complete()}catch{}}),this.observers.push(j),_e}unsubscribeOne(L){void 0===this.observers||void 0===this.observers[L]||(delete this.observers[L],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(L){if(!this.finalized)for(let H=0;H<this.observers.length;H++)this.sendOne(H,L)}sendOne(L,H){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[L])try{H(this.observers[L])}catch(W){typeof console<"u"&&console.error&&console.error(W)}})}close(L){this.finalized||(this.finalized=!0,void 0!==L&&(this.finalError=L),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dn(){}function kn(K){return K&&K._delegate?K._delegate:K}},2732:(Ut,$e,Q)=>{Q.d($e,{Q:()=>l});var b=Q(9468),ae=Q(6593);let l=(()=>{class ye{constructor(de){this.sanitizer=de}transform(de){let Ae;if(de.startsWith("https://m."))Ae=new URLSearchParams(de.split("?")[1]).get("v")||"";else{const Ie=de.split("/");Ae=Ie[Ie.length-1]}return this.sanitizer.bypassSecurityTrustResourceUrl("https://www.youtube.com/embed/"+Ae)}static#e=this.\u0275fac=function(Ae){return new(Ae||ye)(b.Y36(ae.H7,16))};static#t=this.\u0275pipe=b.Yjl({name:"safeUrl",type:ye,pure:!0})}return ye})()},2772:(Ut,$e,Q)=>{Q.d($e,{r:()=>ue});var b=Q(6814),ae=Q(6024),l=Q(95),ye=Q(9468);let ue=(()=>{class de{static#e=this.\u0275fac=function(Ie){return new(Ie||de)};static#t=this.\u0275mod=ye.oAB({type:de});static#n=this.\u0275inj=ye.cJS({imports:[b.ez,ae.Bz,l.u5,l.UX]})}return de})()},8850:(Ut,$e,Q)=>{Q.d($e,{O:()=>ue});var b=Q(5861),ae=Q(3477),l=Q(8645),ye=Q(9468);let ue=(()=>{class de{constructor(Ue){this.firestore=Ue,this.commentAddedSubject=new l.x}getCommentsForRecipe(Ue){var Ie=this;return(0,b.Z)(function*(){try{const ne=(0,ae.hJ)(Ie.firestore,"Comments"),ce=(0,ae.IO)(ne,(0,ae.ar)("recipeId","==",Ue)),Ee=yield(0,ae.PL)(ce),Xe=[];return Ee.forEach(Re=>{const rt=Re.data();Xe.push({create_time:rt.create_time,name:rt.name,recipeId:rt.recipeId,text:rt.text,uid:rt.uid,id:Re.id})}),Xe.sort((Re,rt)=>{const Dt=Re.create_time.toDate();return rt.create_time.toDate()-Dt}),Xe}catch(ne){return console.error("Error retrieving comments:",ne),[]}})()}getCommentsForUser(Ue){var Ie=this;return(0,b.Z)(function*(){try{const ne=(0,ae.hJ)(Ie.firestore,"Comments"),ce=(0,ae.IO)(ne,(0,ae.ar)("uid","==",Ue)),Ee=yield(0,ae.PL)(ce),Xe=[];return Ee.forEach(Re=>{const rt=Re.data();Xe.push({create_time:rt.create_time,name:rt.name,recipeId:rt.recipeId,text:rt.text,uid:rt.uid,id:Re.id})}),Xe.sort((Re,rt)=>{const Dt=Re.create_time.toDate();return rt.create_time.toDate()-Dt}),Xe}catch(ne){return console.error("Error retrieving comments:",ne),[]}})()}addComment(Ue){var Ie=this;return(0,b.Z)(function*(){try{const ne="Comments",ce=yield(0,ae.ET)((0,ae.hJ)(Ie.firestore,ne),Ue);return Ie.commentAddedSubject.next(),ce.id}catch(ne){return console.error("Error adding comment:",ne),null}})()}deleteComment(Ue){var Ie=this;return(0,b.Z)(function*(){try{const ce=(0,ae.JU)(Ie.firestore,"Comments",Ue);yield(0,ae.oe)(ce),console.log("Comment deleted successfully:",Ue)}catch(ne){console.error("Error deleting comment:",ne)}})()}getCommentById(Ue){var Ie=this;return(0,b.Z)(function*(){const ne=(0,ae.JU)(Ie.firestore,"Comments",Ue),ce=yield(0,ae.QT)(ne);if(ce.exists()){const Ee=ce.data();return console.log(Ee.recipeId),ce.data()}return null})()}editComment(Ue,Ie){var ne=this;return(0,b.Z)(function*(){try{const Ee=(0,ae.JU)(ne.firestore,"Comments",Ue);yield(0,ae.r7)(Ee,Ie),console.log("Comment edited successfully:",Ue)}catch(ce){console.error("Error editing comment:",ce)}})()}getCommentAddedObservable(){return this.commentAddedSubject.asObservable()}static#e=this.\u0275fac=function(Ie){return new(Ie||de)(ye.LFG(ae.gg))};static#t=this.\u0275prov=ye.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})()},7157:(Ut,$e,Q)=>{Q.d($e,{j:()=>ye});var b=Q(5861),ae=Q(3477),l=Q(9468);let ye=(()=>{class ue{constructor(Ae){this.firestore=Ae}getRecipeById(Ae){var Ue=this;return(0,b.Z)(function*(){const Ie=(0,ae.JU)(Ue.firestore,"Recipe",Ae),ne=yield(0,ae.QT)(Ie);if(ne.exists()){let ce=ne.data();return ce.id||(ce={...ce,id:Ae}),ce}return null})()}updateRecipeLikes(Ae,Ue,Ie){var ne=this;return(0,b.Z)(function*(){const Ee=(0,ae.JU)(ne.firestore,"Recipe",Ae);try{Ie?(console.log("remove"),yield(0,ae.r7)(Ee,{likes:(0,ae.Ab)(Ue)})):(console.log("add"),yield(0,ae.r7)(Ee,{likes:(0,ae.vr)(Ue)})),console.log("Recipe likes updated successfully")}catch(Xe){console.error("Error updating recipe likes: ",Xe)}})()}deleteRecipe(Ae){var Ue=this;return(0,b.Z)(function*(){try{const ne=(0,ae.JU)(Ue.firestore,"Recipe",Ae);yield(0,ae.oe)(ne),console.log("Recipe deleted successfully:",Ae)}catch(Ie){console.error("Error deleting recipe:",Ie)}})()}static#e=this.\u0275fac=function(Ue){return new(Ue||ue)(l.LFG(ae.gg))};static#t=this.\u0275prov=l.Yz7({token:ue,factory:ue.\u0275fac,providedIn:"root"})}return ue})()},1753:(Ut,$e,Q)=>{Q.d($e,{v:()=>Ue});var b=Q(5861),ae=Q(5619),l=Q(6973),ye=Q(305),de=Q(3477),Ae=Q(9468);let Ue=(()=>{class Ie{constructor(ce){this.firestore=ce,this.lastDocSubject=new ae.X(void 0),this.lastDoc$=this.lastDocSubject.asObservable()}getRecipeByUID(ce){var Ee=this;return(0,b.Z)(function*(){try{const Xe=(0,de.hJ)(Ee.firestore,"Recipe"),Re=(0,de.IO)(Xe,(0,de.ar)("uid","==",ce)),rt=yield(0,de.PL)(Re),Dt=[];return rt.forEach(kt=>{const En={...kt.data(),id:kt.id};Dt.push(En)}),Dt}catch(Xe){return console.error("Error retrieving recipes:",Xe),[]}})()}getRecipesLoadMore(){var ce=this;return(0,b.Z)(function*(){const Xe=yield function ue(Ie,ne){const ce="object"==typeof ne;return new Promise((Ee,Xe)=>{const Re=new ye.Hp({next:rt=>{Ee(rt),Re.unsubscribe()},error:Xe,complete:()=>{ce?Ee(ne.defaultValue):Xe(new l.K)}});Ie.subscribe(Re)})}(ce.lastDoc$);let rt=(0,de.IO)((0,de.hJ)(ce.firestore,"Recipe"),(0,de.Xo)("title"));Xe&&(rt=(0,de.IO)(rt,(0,de.TQ)(Xe))),rt=(0,de.IO)(rt,(0,de.b9)(6));const Dt=yield(0,de.PL)(rt);let kt=[];Dt.forEach(Nt=>{const ot={...Nt.data(),id:Nt.id};kt.push(ot)});const Rt=6===Dt.size;return ce.lastDocSubject.next(Dt.docs[Dt.docs.length-1]),{data:kt,hasMore:Rt}})()}getRecipes(){var ce=this;return(0,b.Z)(function*(){let Re=(0,de.IO)((0,de.hJ)(ce.firestore,"Recipe"),(0,de.Xo)("title"));Re=(0,de.IO)(Re,(0,de.b9)(6));const rt=yield(0,de.PL)(Re);let Dt=[];return rt.forEach(Rt=>{const Nt={...Rt.data(),id:Rt.id};Dt.push(Nt)}),ce.lastDocSubject.next(rt.docs[rt.docs.length-1]),{data:Dt}})()}searchRecipesByTitle(ce){var Ee=this;return(0,b.Z)(function*(){let Re=(0,de.IO)((0,de.hJ)(Ee.firestore,"Recipe"),(0,de.Xo)("title"));const rt=yield(0,de.PL)(Re);let Dt=[];return rt.forEach(kt=>{const En={...kt.data(),id:kt.id};Dt.push(En)}),ce&&(Dt=Dt.filter(kt=>kt.title.toLowerCase().includes(ce.toLowerCase()))),{data:Dt}})()}static#e=this.\u0275fac=function(Ee){return new(Ee||Ie)(Ae.LFG(de.gg))};static#t=this.\u0275prov=Ae.Yz7({token:Ie,factory:Ie.\u0275fac,providedIn:"root"})}return Ie})()},6499:(Ut,$e,Q)=>{Q.d($e,{K:()=>j_});var b=Q(5861),ae=Q(9058),l=Q(4303),ye=Q(7879),ue=Q(7582),de=Q(4537);const rt=function Xe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Dt=new ae.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Rt=new ye.Yd("@firebase/auth");function Nt(S,..._){Rt.logLevel<=ye.in.ERROR&&Rt.error(`Auth (${l.Jn}): ${S}`,..._)}function ft(S,..._){throw He(S,..._)}function ot(S,..._){return He(S,..._)}function He(S,..._){if("string"!=typeof S){const y=_[0],A=[..._.slice(1)];return A[0]&&(A[0].appName=S.name),S._errorFactory.create(y,...A)}return Dt.create(S,..._)}function me(S,_,...y){if(!S)throw He(_,...y)}function Ye(S){const _="INTERNAL ASSERTION FAILED: "+S;throw Nt(_),new Error(_)}function ht(S,_){S||Ye(_)}function An(){var S;return typeof self<"u"&&(null===(S=self.location)||void 0===S?void 0:S.href)||""}function cn(){var S;return typeof self<"u"&&(null===(S=self.location)||void 0===S?void 0:S.protocol)||null}class Wn{constructor(_,y){this.shortDelay=_,this.longDelay=y,ht(y>_,"Short delay should be less than long delay!"),this.isMobile=(0,ae.uI)()||(0,ae.b$)()}get(){return function vn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function ct(){return"http:"===cn()||"https:"===cn()}()||(0,ae.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ur(S,_){ht(S.emulator,"Emulator should always be set here");const{url:y}=S.emulator;return _?`${y}${_.startsWith("/")?_.slice(1):_}`:y}class Pe{static initialize(_,y,A){this.fetchImpl=_,y&&(this.headersImpl=y),A&&(this.responseImpl=A)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Ye("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Ye("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Ye("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ge={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Qe=new Wn(3e4,6e4);function Le(S,_){return S.tenantId&&!_.tenantId?Object.assign(Object.assign({},_),{tenantId:S.tenantId}):_}function tt(S,_,y,A){return _t.apply(this,arguments)}function _t(){return(_t=(0,b.Z)(function*(S,_,y,A,q={}){return Ot(S,q,(0,b.Z)(function*(){let se={},Ce={};A&&("GET"===_?Ce=A:se={body:JSON.stringify(A)});const Be=(0,ae.xO)(Object.assign({key:S.config.apiKey},Ce)).slice(1),yt=yield S._getAdditionalHeaders();return yt["Content-Type"]="application/json",S.languageCode&&(yt["X-Firebase-Locale"]=S.languageCode),Pe.fetch()(on(S,S.config.apiHost,y,Be),Object.assign({method:_,headers:yt,referrerPolicy:"no-referrer"},se))}))})).apply(this,arguments)}function Ot(S,_,y){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,b.Z)(function*(S,_,y){S._canInitEmulator=!1;const A=Object.assign(Object.assign({},Ge),_);try{const q=new Ln(S),se=yield Promise.race([y(),q.promise]);q.clearNetworkTimeout();const Ce=yield se.json();if("needConfirmation"in Ce)throw lr(S,"account-exists-with-different-credential",Ce);if(se.ok&&!("errorMessage"in Ce))return Ce;{const Be=se.ok?Ce.errorMessage:Ce.error.message,[yt,an]=Be.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===yt)throw lr(S,"credential-already-in-use",Ce);if("EMAIL_EXISTS"===yt)throw lr(S,"email-already-in-use",Ce);if("USER_DISABLED"===yt)throw lr(S,"user-disabled",Ce);const wn=A[yt]||yt.toLowerCase().replace(/[_\s]+/g,"-");if(an)throw function mt(S,_,y){const A=Object.assign(Object.assign({},rt()),{[_]:y});return new ae.LL("auth","Firebase",A).create(_,{appName:S.name})}(S,wn,an);ft(S,wn)}}catch(q){if(q instanceof ae.ZR)throw q;ft(S,"network-request-failed",{message:String(q)})}})).apply(this,arguments)}function un(S,_,y,A){return pn.apply(this,arguments)}function pn(){return(pn=(0,b.Z)(function*(S,_,y,A,q={}){const se=yield tt(S,_,y,A,q);return"mfaPendingCredential"in se&&ft(S,"multi-factor-auth-required",{_serverResponse:se}),se})).apply(this,arguments)}function on(S,_,y,A){const q=`${_}${y}?${A}`;return S.config.emulator?ur(S.config,q):`${S.config.apiScheme}://${q}`}function wt(S){switch(S){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ln{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((y,A)=>{this.timer=setTimeout(()=>A(ot(this.auth,"network-request-failed")),Qe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function lr(S,_,y){const A={appName:S.name};y.email&&(A.email=y.email),y.phoneNumber&&(A.phoneNumber=y.phoneNumber);const q=ot(S,_,A);return q.customData._tokenResponse=y,q}function we(S){return void 0!==S&&void 0!==S.enterprise}class Oe{constructor(_){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===_.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=_.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=_.recaptchaEnforcementState}getProviderEnforcementState(_){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const y of this.recaptchaEnforcementState)if(y.provider&&y.provider===_)return wt(y.enforcementState);return null}isProviderEnabled(_){return"ENFORCE"===this.getProviderEnforcementState(_)||"AUDIT"===this.getProviderEnforcementState(_)}}function gt(S,_){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,b.Z)(function*(S,_){return tt(S,"GET","/v2/recaptchaConfig",Le(S,_))})).apply(this,arguments)}function bn(){return(bn=(0,b.Z)(function*(S,_){return tt(S,"POST","/v1/accounts:delete",_)})).apply(this,arguments)}function Hn(){return(Hn=(0,b.Z)(function*(S,_){return tt(S,"POST","/v1/accounts:lookup",_)})).apply(this,arguments)}function Kt(S){if(S)try{const _=new Date(Number(S));if(!isNaN(_.getTime()))return _.toUTCString()}catch{}}function dn(){return(dn=(0,b.Z)(function*(S,_=!1){const y=(0,ae.m9)(S),A=yield y.getIdToken(_),q=Un(A);me(q&&q.exp&&q.auth_time&&q.iat,y.auth,"internal-error");const se="object"==typeof q.firebase?q.firebase:void 0,Ce=se?.sign_in_provider;return{claims:q,token:A,authTime:Kt(Qn(q.auth_time)),issuedAtTime:Kt(Qn(q.iat)),expirationTime:Kt(Qn(q.exp)),signInProvider:Ce||null,signInSecondFactor:se?.sign_in_second_factor||null}})).apply(this,arguments)}function Qn(S){return 1e3*Number(S)}function Un(S){const[_,y,A]=S.split(".");if(void 0===_||void 0===y||void 0===A)return Nt("JWT malformed, contained fewer than 3 sections"),null;try{const q=(0,ae.tV)(y);return q?JSON.parse(q):(Nt("Failed to decode base64 JWT payload"),null)}catch(q){return Nt("Caught error parsing JWT payload as JSON",q?.toString()),null}}function Pn(S,_){return ti.apply(this,arguments)}function ti(){return(ti=(0,b.Z)(function*(S,_,y=!1){if(y)return _;try{return yield _}catch(A){throw A instanceof ae.ZR&&function Dn({code:S}){return"auth/user-disabled"===S||"auth/user-token-expired"===S}(A)&&S.auth.currentUser===S&&(yield S.auth.signOut()),A}})).apply(this,arguments)}class Gn{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(_){var y;if(_){const A=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),A}{this.errorBackoff=3e4;const q=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,q)}}schedule(_=!1){var y=this;if(!this.isRunning)return;const A=this.getInterval(_);this.timerId=setTimeout((0,b.Z)(function*(){yield y.iteration()}),A)}iteration(){var _=this;return(0,b.Z)(function*(){try{yield _.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===y?.code&&_.schedule(!0))}_.schedule()})()}}class Tr{constructor(_,y){this.createdAt=_,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kt(this.lastLoginAt),this.creationTime=Kt(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ni(S){return et.apply(this,arguments)}function et(){return et=(0,b.Z)(function*(S){var _;const y=S.auth,A=yield S.getIdToken(),q=yield Pn(S,function mn(S,_){return Hn.apply(this,arguments)}(y,{idToken:A}));me(q?.users.length,y,"internal-error");const se=q.users[0];S._notifyReloadListener(se);const Ce=null!==(_=se.providerUserInfo)&&void 0!==_&&_.length?function Wt(S){return S.map(_=>{var{providerId:y}=_,A=(0,ue._T)(_,["providerId"]);return{providerId:y,uid:A.rawId||"",displayName:A.displayName||null,email:A.email||null,phoneNumber:A.phoneNumber||null,photoURL:A.photoUrl||null}})}(se.providerUserInfo):[],Be=function bt(S,_){return[...S.filter(A=>!_.some(q=>q.providerId===A.providerId)),..._]}(S.providerData,Ce),wn=!!S.isAnonymous&&!(S.email&&se.passwordHash||Be?.length),Or={uid:se.localId,displayName:se.displayName||null,photoURL:se.photoUrl||null,email:se.email||null,emailVerified:se.emailVerified||!1,phoneNumber:se.phoneNumber||null,tenantId:se.tenantId||null,providerData:Be,metadata:new Tr(se.createdAt,se.lastLoginAt),isAnonymous:wn};Object.assign(S,Or)}),et.apply(this,arguments)}function qe(){return(qe=(0,b.Z)(function*(S){const _=(0,ae.m9)(S);yield ni(_),yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)})).apply(this,arguments)}function kn(){return(kn=(0,b.Z)(function*(S,_){const y=yield Ot(S,{},(0,b.Z)(function*(){const A=(0,ae.xO)({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:q,apiKey:se}=S.config,Ce=on(S,q,"/v1/token",`key=${se}`),Be=yield S._getAdditionalHeaders();return Be["Content-Type"]="application/x-www-form-urlencoded",Pe.fetch()(Ce,{method:"POST",headers:Be,body:A})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}function L(){return(L=(0,b.Z)(function*(S,_){return tt(S,"POST","/v2/accounts:revokeToken",Le(S,_))})).apply(this,arguments)}class H{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){me(_.idToken,"internal-error"),me(typeof _.idToken<"u","internal-error"),me(typeof _.refreshToken<"u","internal-error");const y="expiresIn"in _&&typeof _.expiresIn<"u"?Number(_.expiresIn):function Jn(S){const _=Un(S);return me(_,"internal-error"),me(typeof _.exp<"u","internal-error"),me(typeof _.iat<"u","internal-error"),Number(_.exp)-Number(_.iat)}(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,y)}getToken(_,y=!1){var A=this;return(0,b.Z)(function*(){return me(!A.accessToken||A.refreshToken,_,"user-token-expired"),y||!A.accessToken||A.isExpired?A.refreshToken?(yield A.refresh(_,A.refreshToken),A.accessToken):null:A.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(_,y){var A=this;return(0,b.Z)(function*(){const{accessToken:q,refreshToken:se,expiresIn:Ce}=yield function qt(S,_){return kn.apply(this,arguments)}(_,y);A.updateTokensAndExpiration(q,se,Number(Ce))})()}updateTokensAndExpiration(_,y,A){this.refreshToken=y||null,this.accessToken=_||null,this.expirationTime=Date.now()+1e3*A}static fromJSON(_,y){const{refreshToken:A,accessToken:q,expirationTime:se}=y,Ce=new H;return A&&(me("string"==typeof A,"internal-error",{appName:_}),Ce.refreshToken=A),q&&(me("string"==typeof q,"internal-error",{appName:_}),Ce.accessToken=q),se&&(me("number"==typeof se,"internal-error",{appName:_}),Ce.expirationTime=se),Ce}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new H,this.toJSON())}_performRefresh(){return Ye("not implemented")}}function W(S,_){me("string"==typeof S||typeof S>"u","internal-error",{appName:_})}class j{constructor(_){var{uid:y,auth:A,stsTokenManager:q}=_,se=(0,ue._T)(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Gn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=A,this.stsTokenManager=q,this.accessToken=q.accessToken,this.displayName=se.displayName||null,this.email=se.email||null,this.emailVerified=se.emailVerified||!1,this.phoneNumber=se.phoneNumber||null,this.photoURL=se.photoURL||null,this.isAnonymous=se.isAnonymous||!1,this.tenantId=se.tenantId||null,this.providerData=se.providerData?[...se.providerData]:[],this.metadata=new Tr(se.createdAt||void 0,se.lastLoginAt||void 0)}getIdToken(_){var y=this;return(0,b.Z)(function*(){const A=yield Pn(y,y.stsTokenManager.getToken(y.auth,_));return me(A,y.auth,"internal-error"),y.accessToken!==A&&(y.accessToken=A,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),A})()}getIdTokenResult(_){return function fr(S){return dn.apply(this,arguments)}(this,_)}reload(){return function Te(S){return qe.apply(this,arguments)}(this)}_assign(_){this!==_&&(me(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(y=>Object.assign({},y)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){const y=new j(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}));return y.metadata._copy(this.metadata),y}_onReload(_){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(_,y=!1){var A=this;return(0,b.Z)(function*(){let q=!1;_.idToken&&_.idToken!==A.stsTokenManager.accessToken&&(A.stsTokenManager.updateFromServerResponse(_),q=!0),y&&(yield ni(A)),yield A.auth._persistUserIfCurrent(A),q&&A.auth._notifyListenersIfCurrent(A)})()}delete(){var _=this;return(0,b.Z)(function*(){const y=yield _.getIdToken();return yield Pn(_,function hr(S,_){return bn.apply(this,arguments)}(_.auth,{idToken:y})),_.stsTokenManager.clearRefreshToken(),_.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,y){var A,q,se,Ce,Be,yt,an,wn;const Or=null!==(A=y.displayName)&&void 0!==A?A:void 0,Es=null!==(q=y.email)&&void 0!==q?q:void 0,Jc=null!==(se=y.phoneNumber)&&void 0!==se?se:void 0,ed=null!==(Ce=y.photoURL)&&void 0!==Ce?Ce:void 0,$_=null!==(Be=y.tenantId)&&void 0!==Be?Be:void 0,Qg=null!==(yt=y._redirectEventId)&&void 0!==yt?yt:void 0,jh=null!==(an=y.createdAt)&&void 0!==an?an:void 0,z_=null!==(wn=y.lastLoginAt)&&void 0!==wn?wn:void 0,{uid:Jg,emailVerified:W_,isAnonymous:Xg,providerData:Jd,stsTokenManager:em}=y;me(Jg&&em,_,"internal-error");const bl=H.fromJSON(this.name,em);me("string"==typeof Jg,_,"internal-error"),W(Or,_.name),W(Es,_.name),me("boolean"==typeof W_,_,"internal-error"),me("boolean"==typeof Xg,_,"internal-error"),W(Jc,_.name),W(ed,_.name),W($_,_.name),W(Qg,_.name),W(jh,_.name),W(z_,_.name);const td=new j({uid:Jg,auth:_,email:Es,emailVerified:W_,displayName:Or,isAnonymous:Xg,photoURL:ed,phoneNumber:Jc,tenantId:$_,stsTokenManager:bl,createdAt:jh,lastLoginAt:z_});return Jd&&Array.isArray(Jd)&&(td.providerData=Jd.map(tm=>Object.assign({},tm))),Qg&&(td._redirectEventId=Qg),td}static _fromIdTokenResponse(_,y,A=!1){return(0,b.Z)(function*(){const q=new H;q.updateFromServerResponse(y);const se=new j({uid:y.localId,auth:_,stsTokenManager:q,isAnonymous:A});return yield ni(se),se})()}}const _e=new Map;function ze(S){ht(S instanceof Function,"Expected a class definition");let _=_e.get(S);return _?(ht(_ instanceof S,"Instance stored in cache mismatched with class"),_):(_=new S,_e.set(S,_),_)}const en=(()=>{class S{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,b.Z)(function*(){return!0})()}_set(y,A){var q=this;return(0,b.Z)(function*(){q.storage[y]=A})()}_get(y){var A=this;return(0,b.Z)(function*(){const q=A.storage[y];return void 0===q?null:q})()}_remove(y){var A=this;return(0,b.Z)(function*(){delete A.storage[y]})()}_addListener(y,A){}_removeListener(y,A){}}return S.type="NONE",S})();function sn(S,_,y){return`firebase:${S}:${_}:${y}`}class Tn{constructor(_,y,A){this.persistence=_,this.auth=y,this.userKey=A;const{config:q,name:se}=this.auth;this.fullUserKey=sn(this.userKey,q.apiKey,se),this.fullPersistenceKey=sn("persistence",q.apiKey,se),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}getCurrentUser(){var _=this;return(0,b.Z)(function*(){const y=yield _.persistence._get(_.fullUserKey);return y?j._fromJSON(_.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(_){var y=this;return(0,b.Z)(function*(){if(y.persistence===_)return;const A=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=_,A?y.setCurrentUser(A):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(_,y,A="authUser"){return(0,b.Z)(function*(){if(!y.length)return new Tn(ze(en),_,A);const q=(yield Promise.all(y.map(function(){var an=(0,b.Z)(function*(wn){if(yield wn._isAvailable())return wn});return function(wn){return an.apply(this,arguments)}}()))).filter(an=>an);let se=q[0]||ze(en);const Ce=sn(A,_.config.apiKey,_.name);let Be=null;for(const an of y)try{const wn=yield an._get(Ce);if(wn){const Or=j._fromJSON(_,wn);an!==se&&(Be=Or),se=an;break}}catch{}const yt=q.filter(an=>an._shouldAllowMigration);return se._shouldAllowMigration&&yt.length?(se=yt[0],Be&&(yield se._set(Ce,Be.toJSON())),yield Promise.all(y.map(function(){var an=(0,b.Z)(function*(wn){if(wn!==se)try{yield wn._remove(Ce)}catch{}});return function(wn){return an.apply(this,arguments)}}())),new Tn(se,_,A)):new Tn(se,_,A)})()}}function $t(S){const _=S.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if(Ho(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if(Nn(_))return"Firefox";if(_.includes("silk/"))return"Silk";if(Qi(_))return"Blackberry";if(ra(_))return"Webos";if(Mr(_))return"Safari";if((_.includes("chrome/")||qn(_))&&!_.includes("edge/"))return"Chrome";if(na(_))return"Android";{const A=S.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===A?.length)return A[1]}return"Other"}function Nn(S=(0,ae.z$)()){return/firefox\//i.test(S)}function Mr(S=(0,ae.z$)()){const _=S.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}function qn(S=(0,ae.z$)()){return/crios\//i.test(S)}function Ho(S=(0,ae.z$)()){return/iemobile/i.test(S)}function na(S=(0,ae.z$)()){return/android/i.test(S)}function Qi(S=(0,ae.z$)()){return/blackberry/i.test(S)}function ra(S=(0,ae.z$)()){return/webos/i.test(S)}function po(S=(0,ae.z$)()){return/iphone|ipad|ipod/i.test(S)||/macintosh/i.test(S)&&/mobile/i.test(S)}function Ri(S=(0,ae.z$)()){return po(S)||na(S)||ra(S)||Qi(S)||/windows phone/i.test(S)||Ho(S)}function Vn(S,_=[]){let y;switch(S){case"Browser":y=$t((0,ae.z$)());break;case"Worker":y=`${$t((0,ae.z$)())}-${S}`;break;default:y=S}const A=_.length?_.join(","):"FirebaseCore-web";return`${y}/JsCore/${l.Jn}/${A}`}class To{constructor(_){this.auth=_,this.queue=[]}pushCallback(_,y){const A=se=>new Promise((Ce,Be)=>{try{Ce(_(se))}catch(yt){Be(yt)}});A.onAbort=y,this.queue.push(A);const q=this.queue.length-1;return()=>{this.queue[q]=()=>Promise.resolve()}}runMiddleware(_){var y=this;return(0,b.Z)(function*(){if(y.auth.currentUser===_)return;const A=[];try{for(const q of y.queue)yield q(_),q.onAbort&&A.push(q.onAbort)}catch(q){A.reverse();for(const se of A)try{se()}catch{}throw y.auth._errorFactory.create("login-blocked",{originalMessage:q?.message})}})()}}function fs(){return(fs=(0,b.Z)(function*(S,_={}){return tt(S,"GET","/v2/passwordPolicy",Le(S,_))})).apply(this,arguments)}class Nr{constructor(_){var y,A,q,se;const Ce=_.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(y=Ce.minPasswordLength)&&void 0!==y?y:6,Ce.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Ce.maxPasswordLength),void 0!==Ce.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Ce.containsLowercaseCharacter),void 0!==Ce.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Ce.containsUppercaseCharacter),void 0!==Ce.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Ce.containsNumericCharacter),void 0!==Ce.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Ce.containsNonAlphanumericCharacter),this.enforcementState=_.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(q=null===(A=_.allowedNonAlphanumericCharacters)||void 0===A?void 0:A.join(""))&&void 0!==q?q:"",this.forceUpgradeOnSignin=null!==(se=_.forceUpgradeOnSignin)&&void 0!==se&&se,this.schemaVersion=_.schemaVersion}validatePassword(_){var y,A,q,se,Ce,Be;const yt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(_,yt),this.validatePasswordCharacterOptions(_,yt),yt.isValid&&(yt.isValid=null===(y=yt.meetsMinPasswordLength)||void 0===y||y),yt.isValid&&(yt.isValid=null===(A=yt.meetsMaxPasswordLength)||void 0===A||A),yt.isValid&&(yt.isValid=null===(q=yt.containsLowercaseLetter)||void 0===q||q),yt.isValid&&(yt.isValid=null===(se=yt.containsUppercaseLetter)||void 0===se||se),yt.isValid&&(yt.isValid=null===(Ce=yt.containsNumericCharacter)||void 0===Ce||Ce),yt.isValid&&(yt.isValid=null===(Be=yt.containsNonAlphanumericCharacter)||void 0===Be||Be),yt}validatePasswordLengthOptions(_,y){const A=this.customStrengthOptions.minPasswordLength,q=this.customStrengthOptions.maxPasswordLength;A&&(y.meetsMinPasswordLength=_.length>=A),q&&(y.meetsMaxPasswordLength=_.length<=q)}validatePasswordCharacterOptions(_,y){let A;this.updatePasswordCharacterOptionsStatuses(y,!1,!1,!1,!1);for(let q=0;q<_.length;q++)A=_.charAt(q),this.updatePasswordCharacterOptionsStatuses(y,A>="a"&&A<="z",A>="A"&&A<="Z",A>="0"&&A<="9",this.allowedNonAlphanumericCharacters.includes(A))}updatePasswordCharacterOptionsStatuses(_,y,A,q,se){this.customStrengthOptions.containsLowercaseLetter&&(_.containsLowercaseLetter||(_.containsLowercaseLetter=y)),this.customStrengthOptions.containsUppercaseLetter&&(_.containsUppercaseLetter||(_.containsUppercaseLetter=A)),this.customStrengthOptions.containsNumericCharacter&&(_.containsNumericCharacter||(_.containsNumericCharacter=q)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(_.containsNonAlphanumericCharacter||(_.containsNonAlphanumericCharacter=se))}}class go{constructor(_,y,A,q){this.app=_,this.heartbeatServiceProvider=y,this.appCheckServiceProvider=A,this.config=q,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Eo(this),this.idTokenSubscription=new Eo(this),this.beforeStateQueue=new To(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Dt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=q.sdkClientVersion}_initializeWithPersistence(_,y){var A=this;return y&&(this._popupRedirectResolver=ze(y)),this._initializationPromise=this.queue((0,b.Z)(function*(){var q,se;if(!A._deleted&&(A.persistenceManager=yield Tn.create(A,_),!A._deleted)){if(null!==(q=A._popupRedirectResolver)&&void 0!==q&&q._shouldInitProactively)try{yield A._popupRedirectResolver._initialize(A)}catch{}yield A.initializeCurrentUser(y),A.lastNotifiedUid=(null===(se=A.currentUser)||void 0===se?void 0:se.uid)||null,!A._deleted&&(A._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var _=this;return(0,b.Z)(function*(){if(_._deleted)return;const y=yield _.assertedPersistence.getCurrentUser();if(_.currentUser||y){if(_.currentUser&&y&&_.currentUser.uid===y.uid)return _._currentUser._assign(y),void(yield _.currentUser.getIdToken());yield _._updateCurrentUser(y,!0)}})()}initializeCurrentUser(_){var y=this;return(0,b.Z)(function*(){var A;const q=yield y.assertedPersistence.getCurrentUser();let se=q,Ce=!1;if(_&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const Be=null===(A=y.redirectUser)||void 0===A?void 0:A._redirectEventId,yt=se?._redirectEventId,an=yield y.tryRedirectSignIn(_);(!Be||Be===yt)&&an?.user&&(se=an.user,Ce=!0)}if(!se)return y.directlySetCurrentUser(null);if(!se._redirectEventId){if(Ce)try{yield y.beforeStateQueue.runMiddleware(se)}catch(Be){se=q,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(Be))}return se?y.reloadAndSetCurrentUserOrClear(se):y.directlySetCurrentUser(null)}return me(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===se._redirectEventId?y.directlySetCurrentUser(se):y.reloadAndSetCurrentUserOrClear(se)})()}tryRedirectSignIn(_){var y=this;return(0,b.Z)(function*(){let A=null;try{A=yield y._popupRedirectResolver._completeRedirectFn(y,_,!0)}catch{yield y._setRedirectUser(null)}return A})()}reloadAndSetCurrentUserOrClear(_){var y=this;return(0,b.Z)(function*(){try{yield ni(_)}catch(A){if("auth/network-request-failed"!==A?.code)return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(_)})()}useDeviceLanguage(){this.languageCode=function xn(){if(typeof navigator>"u")return null;const S=navigator;return S.languages&&S.languages[0]||S.language||null}()}_delete(){var _=this;return(0,b.Z)(function*(){_._deleted=!0})()}updateCurrentUser(_){var y=this;return(0,b.Z)(function*(){const A=_?(0,ae.m9)(_):null;return A&&me(A.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(A&&A._clone(y))})()}_updateCurrentUser(_,y=!1){var A=this;return(0,b.Z)(function*(){if(!A._deleted)return _&&me(A.tenantId===_.tenantId,A,"tenant-id-mismatch"),y||(yield A.beforeStateQueue.runMiddleware(_)),A.queue((0,b.Z)(function*(){yield A.directlySetCurrentUser(_),A.notifyAuthListeners()}))})()}signOut(){var _=this;return(0,b.Z)(function*(){return yield _.beforeStateQueue.runMiddleware(null),(_.redirectPersistenceManager||_._popupRedirectResolver)&&(yield _._setRedirectUser(null)),_._updateCurrentUser(null,!0)})()}setPersistence(_){var y=this;return this.queue((0,b.Z)(function*(){yield y.assertedPersistence.setPersistence(ze(_))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(_){var y=this;return(0,b.Z)(function*(){y._getPasswordPolicyInternal()||(yield y._updatePasswordPolicy());const A=y._getPasswordPolicyInternal();return A.schemaVersion!==y.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(y._errorFactory.create("unsupported-password-policy-schema-version",{})):A.validatePassword(_)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var _=this;return(0,b.Z)(function*(){const y=yield function Go(S){return fs.apply(this,arguments)}(_),A=new Nr(y);null===_.tenantId?_._projectPasswordPolicy=A:_._tenantPasswordPolicies[_.tenantId]=A})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new ae.LL("auth","Firebase",_())}onAuthStateChanged(_,y,A){return this.registerStateListener(this.authStateSubscription,_,y,A)}beforeAuthStateChanged(_,y){return this.beforeStateQueue.pushCallback(_,y)}onIdTokenChanged(_,y,A){return this.registerStateListener(this.idTokenSubscription,_,y,A)}authStateReady(){return new Promise((_,y)=>{if(this.currentUser)_();else{const A=this.onAuthStateChanged(()=>{A(),_()},y)}})}revokeAccessToken(_){var y=this;return(0,b.Z)(function*(){if(y.currentUser){const A=yield y.currentUser.getIdToken(),q={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:_,idToken:A};null!=y.tenantId&&(q.tenantId=y.tenantId),yield function K(S,_){return L.apply(this,arguments)}(y,q)}})()}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_=this._currentUser)||void 0===_?void 0:_.toJSON()}}_setRedirectUser(_,y){var A=this;return(0,b.Z)(function*(){const q=yield A.getOrInitRedirectPersistenceManager(y);return null===_?q.removeCurrentUser():q.setCurrentUser(_)})()}getOrInitRedirectPersistenceManager(_){var y=this;return(0,b.Z)(function*(){if(!y.redirectPersistenceManager){const A=_&&ze(_)||y._popupRedirectResolver;me(A,y,"argument-error"),y.redirectPersistenceManager=yield Tn.create(y,[ze(A._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(_){var y=this;return(0,b.Z)(function*(){var A,q;return y._isInitialized&&(yield y.queue((0,b.Z)(function*(){}))),(null===(A=y._currentUser)||void 0===A?void 0:A._redirectEventId)===_?y._currentUser:(null===(q=y.redirectUser)||void 0===q?void 0:q._redirectEventId)===_?y.redirectUser:null})()}_persistUserIfCurrent(_){var y=this;return(0,b.Z)(function*(){if(_===y.currentUser)return y.queue((0,b.Z)(function*(){return y.directlySetCurrentUser(_)}))})()}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const A=null!==(y=null===(_=this.currentUser)||void 0===_?void 0:_.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==A&&(this.lastNotifiedUid=A,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,y,A,q){if(this._deleted)return()=>{};const se="function"==typeof y?y:y.next.bind(y);let Ce=!1;const Be=this._isInitialized?Promise.resolve():this._initializationPromise;if(me(Be,this,"internal-error"),Be.then(()=>{Ce||se(this.currentUser)}),"function"==typeof y){const yt=_.addObserver(y,A,q);return()=>{Ce=!0,yt()}}{const yt=_.addObserver(y);return()=>{Ce=!0,yt()}}}directlySetCurrentUser(_){var y=this;return(0,b.Z)(function*(){y.currentUser&&y.currentUser!==_&&y._currentUser._stopProactiveRefresh(),_&&y.isProactiveRefreshEnabled&&_._startProactiveRefresh(),y.currentUser=_,_?yield y.assertedPersistence.setCurrentUser(_):yield y.assertedPersistence.removeCurrentUser()})()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=Vn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var _=this;return(0,b.Z)(function*(){var y;const A={"X-Client-Version":_.clientVersion};_.app.options.appId&&(A["X-Firebase-gmpid"]=_.app.options.appId);const q=yield null===(y=_.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();q&&(A["X-Firebase-Client"]=q);const se=yield _._getAppCheckToken();return se&&(A["X-Firebase-AppCheck"]=se),A})()}_getAppCheckToken(){var _=this;return(0,b.Z)(function*(){var y;const A=yield null===(y=_.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getToken();return A?.error&&function En(S,..._){Rt.logLevel<=ye.in.WARN&&Rt.warn(`Auth (${l.Jn}): ${S}`,..._)}(`Error while retrieving App Check token: ${A.error}`),A?.token})()}}function Zr(S){return(0,ae.m9)(S)}class Eo{constructor(_){this.auth=_,this.observer=null,this.addObserver=(0,ae.ne)(y=>this.observer=y)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ci={loadJS:()=>(0,b.Z)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Gi(S){return Ci.loadJS(S)}function Xi(S){return`__${S}${Math.floor(1e6*Math.random())}`}class eo{constructor(_){this.type="recaptcha-enterprise",this.auth=Zr(_)}verify(_="verify",y=!1){var A=this;return(0,b.Z)(function*(){function se(){return se=(0,b.Z)(function*(Be){if(!y){if(null==Be.tenantId&&null!=Be._agentRecaptchaConfig)return Be._agentRecaptchaConfig.siteKey;if(null!=Be.tenantId&&void 0!==Be._tenantRecaptchaConfigs[Be.tenantId])return Be._tenantRecaptchaConfigs[Be.tenantId].siteKey}return new Promise(function(){var yt=(0,b.Z)(function*(an,wn){gt(Be,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Or=>{if(void 0!==Or.recaptchaKey){const Es=new Oe(Or);return null==Be.tenantId?Be._agentRecaptchaConfig=Es:Be._tenantRecaptchaConfigs[Be.tenantId]=Es,an(Es.siteKey)}wn(new Error("recaptcha Enterprise site key undefined"))}).catch(Or=>{wn(Or)})});return function(an,wn){return yt.apply(this,arguments)}}())}),se.apply(this,arguments)}function Ce(Be,yt,an){const wn=window.grecaptcha;we(wn)?wn.enterprise.ready(()=>{wn.enterprise.execute(Be,{action:_}).then(Or=>{yt(Or)}).catch(()=>{yt("NO_RECAPTCHA")})}):an(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Be,yt)=>{(function q(Be){return se.apply(this,arguments)})(A.auth).then(an=>{if(!y&&we(window.grecaptcha))Ce(an,Be,yt);else{if(typeof window>"u")return void yt(new Error("RecaptchaVerifier is only supported in browser"));let wn=function Kr(){return Ci.recaptchaEnterpriseScript}();0!==wn.length&&(wn+=an),Gi(wn).then(()=>{Ce(an,Be,yt)}).catch(Or=>{yt(Or)})}}).catch(an=>{yt(an)})})})()}}function ri(S,_,y){return to.apply(this,arguments)}function to(){return(to=(0,b.Z)(function*(S,_,y,A=!1){const q=new eo(S);let se;try{se=yield q.verify(y)}catch{se=yield q.verify(y,!0)}const Ce=Object.assign({},_);return Object.assign(Ce,A?{captchaResp:se}:{captchaResponse:se}),Object.assign(Ce,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ce,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ce})).apply(this,arguments)}function Pi(S,_,y,A){return mo.apply(this,arguments)}function mo(){return mo=(0,b.Z)(function*(S,_,y,A){var q;if(null!==(q=S._getRecaptchaConfig())&&void 0!==q&&q.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const se=yield ri(S,_,y,"getOobCode"===y);return A(S,se)}return A(S,_).catch(function(){var se=(0,b.Z)(function*(Ce){if("auth/missing-recaptcha-token"===Ce.code){console.log(`${y} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Be=yield ri(S,_,y,"getOobCode"===y);return A(S,Be)}return Promise.reject(Ce)});return function(Ce){return se.apply(this,arguments)}}())}),mo.apply(this,arguments)}function oa(S){const _=S.indexOf(":");return _<0?"":S.substr(0,_+1)}function ps(S){if(!S)return null;const _=Number(S);return isNaN(_)?null:_}class Fs{constructor(_,y){this.providerId=_,this.signInMethod=y}toJSON(){return Ye("not implemented")}_getIdTokenResponse(_){return Ye("not implemented")}_linkToIdToken(_,y){return Ye("not implemented")}_getReauthenticationResolver(_){return Ye("not implemented")}}function gs(S,_){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,b.Z)(function*(S,_){return tt(S,"POST","/v1/accounts:signUp",_)})).apply(this,arguments)}function Si(S,_){return no.apply(this,arguments)}function no(){return(no=(0,b.Z)(function*(S,_){return un(S,"POST","/v1/accounts:signInWithPassword",Le(S,_))})).apply(this,arguments)}function Ai(){return(Ai=(0,b.Z)(function*(S,_){return tt(S,"POST","/v1/accounts:sendOobCode",Le(S,_))})).apply(this,arguments)}function Ya(S,_){return ms.apply(this,arguments)}function ms(){return(ms=(0,b.Z)(function*(S,_){return function Yr(S,_){return Ai.apply(this,arguments)}(S,_)})).apply(this,arguments)}function _s(){return(_s=(0,b.Z)(function*(S,_){return un(S,"POST","/v1/accounts:signInWithEmailLink",Le(S,_))})).apply(this,arguments)}function mi(){return(mi=(0,b.Z)(function*(S,_){return un(S,"POST","/v1/accounts:signInWithEmailLink",Le(S,_))})).apply(this,arguments)}class br extends Fs{constructor(_,y,A,q=null){super("password",A),this._email=_,this._password=y,this._tenantId=q}static _fromEmailAndPassword(_,y){return new br(_,y,"password")}static _fromEmailAndCode(_,y,A=null){return new br(_,y,"emailLink",A)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(_){const y="string"==typeof _?JSON.parse(_):_;if(y?.email&&y?.password){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(_){var y=this;return(0,b.Z)(function*(){switch(y.signInMethod){case"password":return Pi(_,{returnSecureToken:!0,email:y._email,password:y._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Si);case"emailLink":return function ii(S,_){return _s.apply(this,arguments)}(_,{email:y._email,oobCode:y._password});default:ft(_,"internal-error")}})()}_linkToIdToken(_,y){var A=this;return(0,b.Z)(function*(){switch(A.signInMethod){case"password":return Pi(_,{idToken:y,returnSecureToken:!0,email:A._email,password:A._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",gs);case"emailLink":return function Br(S,_){return mi.apply(this,arguments)}(_,{idToken:y,email:A._email,oobCode:A._password});default:ft(_,"internal-error")}})()}_getReauthenticationResolver(_){return this._getIdTokenResponse(_)}}function Ur(S,_){return ro.apply(this,arguments)}function ro(){return(ro=(0,b.Z)(function*(S,_){return un(S,"POST","/v1/accounts:signInWithIdp",Le(S,_))})).apply(this,arguments)}class Rn{constructor(_){var y,A,q,se,Ce,Be;const yt=(0,ae.zd)((0,ae.pd)(_)),an=null!==(y=yt.apiKey)&&void 0!==y?y:null,wn=null!==(A=yt.oobCode)&&void 0!==A?A:null,Or=function Ao(S){switch(S){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(q=yt.mode)&&void 0!==q?q:null);me(an&&wn&&Or,"argument-error"),this.apiKey=an,this.operation=Or,this.code=wn,this.continueUrl=null!==(se=yt.continueUrl)&&void 0!==se?se:null,this.languageCode=null!==(Ce=yt.languageCode)&&void 0!==Ce?Ce:null,this.tenantId=null!==(Be=yt.tenantId)&&void 0!==Be?Be:null}static parseLink(_){const y=function Wo(S){const _=(0,ae.zd)((0,ae.pd)(S)).link,y=_?(0,ae.zd)((0,ae.pd)(_)).deep_link_id:null,A=(0,ae.zd)((0,ae.pd)(S)).deep_link_id;return(A?(0,ae.zd)((0,ae.pd)(A)).link:null)||A||y||_||S}(_);try{return new Rn(y)}catch{return null}}}let No=(()=>{class S{constructor(){this.providerId=S.PROVIDER_ID}static credential(y,A){return br._fromEmailAndPassword(y,A)}static credentialWithLink(y,A){const q=Rn.parseLink(A);return me(q,"argument-error"),br._fromEmailAndCode(y,q.code,q.tenantId)}}return S.PROVIDER_ID="password",S.EMAIL_PASSWORD_SIGN_IN_METHOD="password",S.EMAIL_LINK_SIGN_IN_METHOD="emailLink",S})();class vo{constructor(_){this.providerId=_,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_){this.defaultLanguageCode=_}setCustomParameters(_){return this.customParameters=_,this}getCustomParameters(){return this.customParameters}}class Qr extends vo{constructor(){super(...arguments),this.scopes=[]}addScope(_){return this.scopes.includes(_)||this.scopes.push(_),this}getScopes(){return[...this.scopes]}}function Bs(S,_){return si.apply(this,arguments)}function si(){return(si=(0,b.Z)(function*(S,_){return un(S,"POST","/v1/accounts:signUp",Le(S,_))})).apply(this,arguments)}class Ti{constructor(_){this.user=_.user,this.providerId=_.providerId,this._tokenResponse=_._tokenResponse,this.operationType=_.operationType}static _fromIdTokenResponse(_,y,A,q=!1){return(0,b.Z)(function*(){const se=yield j._fromIdTokenResponse(_,A,q),Ce=Ja(A);return new Ti({user:se,providerId:Ce,_tokenResponse:A,operationType:y})})()}static _forOperation(_,y,A){return(0,b.Z)(function*(){yield _._updateTokensIfNecessary(A,!0);const q=Ja(A);return new Ti({user:_,providerId:q,_tokenResponse:A,operationType:y})})()}}function Ja(S){return S.providerId?S.providerId:"phoneNumber"in S?"phone":null}class Hs extends ae.ZR{constructor(_,y,A,q){var se;super(y.code,y.message),this.operationType=A,this.user=q,Object.setPrototypeOf(this,Hs.prototype),this.customData={appName:_.name,tenantId:null!==(se=_.tenantId)&&void 0!==se?se:void 0,_serverResponse:y.customData._serverResponse,operationType:A}}static _fromErrorAndOperation(_,y,A,q){return new Hs(_,y,A,q)}}function er(S,_,y,A){return("reauthenticate"===_?y._getReauthenticationResolver(S):y._getIdTokenResponse(S)).catch(se=>{throw"auth/multi-factor-auth-required"===se.code?Hs._fromErrorAndOperation(S,se,_,A):se})}function F(){return(F=(0,b.Z)(function*(S,_,y=!1){const A=yield Pn(S,_._linkToIdToken(S.auth,yield S.getIdToken()),y);return Ti._forOperation(S,"link",A)})).apply(this,arguments)}function In(){return(In=(0,b.Z)(function*(S,_,y=!1){const{auth:A}=S,q="reauthenticate";try{const se=yield Pn(S,er(A,q,_,S),y);me(se.idToken,A,"internal-error");const Ce=Un(se.idToken);me(Ce,A,"internal-error");const{sub:Be}=Ce;return me(S.uid===Be,A,"user-mismatch"),Ti._forOperation(S,q,se)}catch(se){throw"auth/user-not-found"===se?.code&&ft(A,"user-mismatch"),se}})).apply(this,arguments)}function ai(S,_){return xo.apply(this,arguments)}function xo(){return(xo=(0,b.Z)(function*(S,_,y=!1){const A="signIn",q=yield er(S,A,_),se=yield Ti._fromIdTokenResponse(S,A,q);return y||(yield S._updateCurrentUser(se.user)),se})).apply(this,arguments)}function Ei(S,_){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,b.Z)(function*(S,_){return ai(Zr(S),_)})).apply(this,arguments)}function Vc(S){return or.apply(this,arguments)}function or(){return(or=(0,b.Z)(function*(S){const _=Zr(S);_._getPasswordPolicyInternal()&&(yield _._updatePasswordPolicy())})).apply(this,arguments)}function Li(){return(Li=(0,b.Z)(function*(S,_,y){const A=Zr(S),q={requestType:"PASSWORD_RESET",email:_,clientType:"CLIENT_TYPE_WEB"};y&&function Ko(S,_,y){var A;me((null===(A=y.url)||void 0===A?void 0:A.length)>0,S,"invalid-continue-uri"),me(typeof y.dynamicLinkDomain>"u"||y.dynamicLinkDomain.length>0,S,"invalid-dynamic-link-domain"),_.continueUrl=y.url,_.dynamicLinkDomain=y.dynamicLinkDomain,_.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(me(y.iOS.bundleId.length>0,S,"missing-ios-bundle-id"),_.iOSBundleId=y.iOS.bundleId),y.android&&(me(y.android.packageName.length>0,S,"missing-android-pkg-name"),_.androidInstallApp=y.android.installApp,_.androidMinimumVersionCode=y.android.minimumVersion,_.androidPackageName=y.android.packageName)}(A,q,y),yield Pi(A,q,"getOobCode",Ya)})).apply(this,arguments)}function Aa(){return(Aa=(0,b.Z)(function*(S,_,y){const A=Zr(S),Ce=yield Pi(A,{returnSecureToken:!0,email:_,password:y,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Bs).catch(yt=>{throw"auth/password-does-not-meet-requirements"===yt.code&&Vc(S),yt}),Be=yield Ti._fromIdTokenResponse(A,"signIn",Ce);return yield A._updateCurrentUser(Be.user),Be})).apply(this,arguments)}const fn="__sak";class ao{constructor(_,y){this.storageRetriever=_,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(fn,"1"),this.storage.removeItem(fn),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(_,y){return this.storage.setItem(_,JSON.stringify(y)),Promise.resolve()}_get(_){const y=this.storage.getItem(_);return Promise.resolve(y?JSON.parse(y):null)}_remove(_){return this.storage.removeItem(_),Promise.resolve()}get storage(){return this.storageRetriever()}}const pu=(()=>{class S extends ao{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,A)=>this.onStorageEvent(y,A),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Kf(){const S=(0,ae.z$)();return Mr(S)||po(S)}()&&function Hi(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ri(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const A of Object.keys(this.listeners)){const q=this.storage.getItem(A),se=this.localCache[A];q!==se&&y(A,se,q)}}onStorageEvent(y,A=!1){if(!y.key)return void this.forAllChangedKeys((Be,yt,an)=>{this.notifyListeners(Be,an)});const q=y.key;if(A?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Be=this.storage.getItem(q);if(y.newValue!==Be)null!==y.newValue?this.storage.setItem(q,y.newValue):this.storage.removeItem(q);else if(this.localCache[q]===y.newValue&&!A)return}const se=()=>{const Be=this.storage.getItem(q);!A&&this.localCache[q]===Be||this.notifyListeners(q,Be)},Ce=this.storage.getItem(q);!function Ji(){return(0,ae.w1)()&&10===document.documentMode}()||Ce===y.newValue||y.newValue===y.oldValue?se():setTimeout(se,10)}notifyListeners(y,A){this.localCache[y]=A;const q=this.listeners[y];if(q)for(const se of Array.from(q))se(A&&JSON.parse(A))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,A,q)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:A,newValue:q}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,A){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(A)}_removeListener(y,A){this.listeners[y]&&(this.listeners[y].delete(A),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,A){var q=()=>super._set,se=this;return(0,b.Z)(function*(){yield q().call(se,y,A),se.localCache[y]=JSON.stringify(A)})()}_get(y){var A=()=>super._get,q=this;return(0,b.Z)(function*(){const se=yield A().call(q,y);return q.localCache[y]=JSON.stringify(se),se})()}_remove(y){var A=()=>super._remove,q=this;return(0,b.Z)(function*(){yield A().call(q,y),delete q.localCache[y]})()}}return S.type="LOCAL",S})(),Dc=(()=>{class S extends ao{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,A){}_removeListener(y,A){}}return S.type="SESSION",S})();let sl=(()=>{class S{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const A=this.receivers.find(se=>se.isListeningto(y));if(A)return A;const q=new S(y);return this.receivers.push(q),q}isListeningto(y){return this.eventTarget===y}handleEvent(y){var A=this;return(0,b.Z)(function*(){const q=y,{eventId:se,eventType:Ce,data:Be}=q.data,yt=A.handlersMap[Ce];if(!yt?.size)return;q.ports[0].postMessage({status:"ack",eventId:se,eventType:Ce});const an=Array.from(yt).map(function(){var Or=(0,b.Z)(function*(Es){return Es(q.origin,Be)});return function(Es){return Or.apply(this,arguments)}}()),wn=yield function Fd(S){return Promise.all(S.map(function(){var _=(0,b.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(A){return{fulfilled:!1,reason:A}}});return function(y){return _.apply(this,arguments)}}()))}(an);q.ports[0].postMessage({status:"done",eventId:se,eventType:Ce,response:wn})})()}_subscribe(y,A){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(A)}_unsubscribe(y,A){this.handlersMap[y]&&A&&this.handlersMap[y].delete(A),(!A||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return S.receivers=[],S})();function Ru(S="",_=10){let y="";for(let A=0;A<_;A++)y+=Math.floor(10*Math.random());return S+y}class Pu{constructor(_){this.target=_,this.handlers=new Set}removeMessageHandler(_){_.messageChannel&&(_.messageChannel.port1.removeEventListener("message",_.onMessage),_.messageChannel.port1.close()),this.handlers.delete(_)}_send(_,y,A=50){var q=this;return(0,b.Z)(function*(){const se=typeof MessageChannel<"u"?new MessageChannel:null;if(!se)throw new Error("connection_unavailable");let Ce,Be;return new Promise((yt,an)=>{const wn=Ru("",20);se.port1.start();const Or=setTimeout(()=>{an(new Error("unsupported_event"))},A);Be={messageChannel:se,onMessage(Es){const Jc=Es;if(Jc.data.eventId===wn)switch(Jc.data.status){case"ack":clearTimeout(Or),Ce=setTimeout(()=>{an(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ce),yt(Jc.data.response);break;default:clearTimeout(Or),clearTimeout(Ce),an(new Error("invalid_response"))}}},q.handlers.add(Be),se.port1.addEventListener("message",Be.onMessage),q.target.postMessage({eventType:_,eventId:wn,data:y},[se.port2])}).finally(()=>{Be&&q.removeMessageHandler(Be)})})()}}function ut(){return window}function al(){return typeof ut().WorkerGlobalScope<"u"&&"function"==typeof ut().importScripts}function Vi(){return(Vi=(0,b.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ts="firebaseLocalStorageDb",sc="firebaseLocalStorage",Fu="fbase_key";class jc{constructor(_){this.request=_}toPromise(){return new Promise((_,y)=>{this.request.addEventListener("success",()=>{_(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function Ba(S,_){return S.transaction([sc],_?"readwrite":"readonly").objectStore(sc)}function Zs(){const S=indexedDB.open(ts,1);return new Promise((_,y)=>{S.addEventListener("error",()=>{y(S.error)}),S.addEventListener("upgradeneeded",()=>{const A=S.result;try{A.createObjectStore(sc,{keyPath:Fu})}catch(q){y(q)}}),S.addEventListener("success",(0,b.Z)(function*(){const A=S.result;A.objectStoreNames.contains(sc)?_(A):(A.close(),yield function Ro(){const S=indexedDB.deleteDatabase(ts);return new jc(S).toPromise()}(),_(yield Zs()))}))})}function gu(S,_,y){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,b.Z)(function*(S,_,y){const A=Ba(S,!0).put({[Fu]:_,value:y});return new jc(A).toPromise()})).apply(this,arguments)}function ul(){return(ul=(0,b.Z)(function*(S,_){const y=Ba(S,!1).get(_),A=yield new jc(y).toPromise();return void 0===A?null:A.value})).apply(this,arguments)}function mu(S,_){const y=Ba(S,!0).delete(_);return new jc(y).toPromise()}const M=(()=>{class S{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,b.Z)(function*(){return y.db||(y.db=yield Zs()),y.db})()}_withRetries(y){var A=this;return(0,b.Z)(function*(){let q=0;for(;;)try{const se=yield A._openDb();return yield y(se)}catch(se){if(q++>3)throw se;A.db&&(A.db.close(),A.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,b.Z)(function*(){return al()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,b.Z)(function*(){y.receiver=sl._getInstance(function Gc(){return al()?self:null}()),y.receiver._subscribe("keyChanged",function(){var A=(0,b.Z)(function*(q,se){return{keyProcessed:(yield y._poll()).includes(se.key)}});return function(q,se){return A.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var A=(0,b.Z)(function*(q,se){return["keyChanged"]});return function(q,se){return A.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,b.Z)(function*(){var A,q;if(y.activeServiceWorker=yield function jl(){return Vi.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new Pu(y.activeServiceWorker);const se=yield y.sender._send("ping",{},800);se&&null!==(A=se[0])&&void 0!==A&&A.fulfilled&&null!==(q=se[0])&&void 0!==q&&q.value.includes("keyChanged")&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var A=this;return(0,b.Z)(function*(){if(A.sender&&A.activeServiceWorker&&function cl(){var S;return(null===(S=navigator?.serviceWorker)||void 0===S?void 0:S.controller)||null}()===A.activeServiceWorker)try{yield A.sender._send("keyChanged",{key:y},A.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,b.Z)(function*(){try{if(!indexedDB)return!1;const y=yield Zs();return yield gu(y,fn,"1"),yield mu(y,fn),!0}catch{}return!1})()}_withPendingWrite(y){var A=this;return(0,b.Z)(function*(){A.pendingWrites++;try{yield y()}finally{A.pendingWrites--}})()}_set(y,A){var q=this;return(0,b.Z)(function*(){return q._withPendingWrite((0,b.Z)(function*(){return yield q._withRetries(se=>gu(se,y,A)),q.localCache[y]=A,q.notifyServiceWorker(y)}))})()}_get(y){var A=this;return(0,b.Z)(function*(){const q=yield A._withRetries(se=>function da(S,_){return ul.apply(this,arguments)}(se,y));return A.localCache[y]=q,q})()}_remove(y){var A=this;return(0,b.Z)(function*(){return A._withPendingWrite((0,b.Z)(function*(){return yield A._withRetries(q=>mu(q,y)),delete A.localCache[y],A.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,b.Z)(function*(){const A=yield y._withRetries(Ce=>{const Be=Ba(Ce,!1).getAll();return new jc(Be).toPromise()});if(!A)return[];if(0!==y.pendingWrites)return[];const q=[],se=new Set;if(0!==A.length)for(const{fbase_key:Ce,value:Be}of A)se.add(Ce),JSON.stringify(y.localCache[Ce])!==JSON.stringify(Be)&&(y.notifyListeners(Ce,Be),q.push(Ce));for(const Ce of Object.keys(y.localCache))y.localCache[Ce]&&!se.has(Ce)&&(y.notifyListeners(Ce,null),q.push(Ce));return q})()}notifyListeners(y,A){this.localCache[y]=A;const q=this.listeners[y];if(q)for(const se of Array.from(q))se(A)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,b.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,A){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(A)}_removeListener(y,A){this.listeners[y]&&(this.listeners[y].delete(A),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return S.type="LOCAL",S})();Xi("rcb"),new Wn(3e4,6e4);class zc extends Fs{constructor(_){super("custom","custom"),this.params=_}_getIdTokenResponse(_){return Ur(_,this._buildIdpRequest())}_linkToIdToken(_,y){return Ur(_,this._buildIdpRequest(y))}_getReauthenticationResolver(_){return Ur(_,this._buildIdpRequest())}_buildIdpRequest(_){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _&&(y.idToken=_),y}}function dl(S){return ai(S.auth,new zc(S),S.bypassAuthState)}function Bd(S){const{auth:_,user:y}=S;return me(y,_,"internal-error"),function Ht(S,_){return In.apply(this,arguments)}(y,new zc(S),S.bypassAuthState)}function Ud(S){return _u.apply(this,arguments)}function _u(){return(_u=(0,b.Z)(function*(S){const{auth:_,user:y}=S;return me(y,_,"internal-error"),function J(S,_){return F.apply(this,arguments)}(y,new zc(S),S.bypassAuthState)})).apply(this,arguments)}class Yf{constructor(_,y,A,q,se=!1){this.auth=_,this.resolver=A,this.user=q,this.bypassAuthState=se,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var _=this;return new Promise(function(){var y=(0,b.Z)(function*(A,q){_.pendingPromise={resolve:A,reject:q};try{_.eventManager=yield _.resolver._initialize(_.auth),yield _.onExecution(),_.eventManager.registerConsumer(_)}catch(se){_.reject(se)}});return function(A,q){return y.apply(this,arguments)}}())}onAuthEvent(_){var y=this;return(0,b.Z)(function*(){const{urlResponse:A,sessionId:q,postBody:se,tenantId:Ce,error:Be,type:yt}=_;if(Be)return void y.reject(Be);const an={auth:y.auth,requestUri:A,sessionId:q,tenantId:Ce||void 0,postBody:se||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(yt)(an))}catch(wn){y.reject(wn)}})()}onError(_){this.reject(_)}getIdpTask(_){switch(_){case"signInViaPopup":case"signInViaRedirect":return dl;case"linkViaPopup":case"linkViaRedirect":return Ud;case"reauthViaPopup":case"reauthViaRedirect":return Bd;default:ft(this.auth,"internal-error")}}resolve(_){ht(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_),this.unregisterAndCleanUp()}reject(_){ht(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Wn(2e3,1e4);const Uu="pendingRedirect",Sc=new Map;class Qf extends Yf{constructor(_,y,A=!1){super(_,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,A),this.eventId=null}execute(){var _=()=>super.execute,y=this;return(0,b.Z)(function*(){let A=Sc.get(y.auth._key());if(!A){try{const se=(yield function Hu(S,_){return hl.apply(this,arguments)}(y.resolver,y.auth))?yield _().call(y):null;A=()=>Promise.resolve(se)}catch(q){A=()=>Promise.reject(q)}Sc.set(y.auth._key(),A)}return y.bypassAuthState||Sc.set(y.auth._key(),()=>Promise.resolve(null)),A()})()}onAuthEvent(_){var y=()=>super.onAuthEvent,A=this;return(0,b.Z)(function*(){if("signInViaRedirect"===_.type)return y().call(A,_);if("unknown"!==_.type){if(_.eventId){const q=yield A.auth._redirectUserForId(_.eventId);if(q)return A.user=q,y().call(A,_);A.resolve(null)}}else A.resolve(null)})()}onExecution(){return(0,b.Z)(function*(){})()}cleanUp(){}}function hl(){return(hl=(0,b.Z)(function*(S,_){const y=function pl(S){return sn(Uu,S.config.apiKey,S.name)}(_),A=function Zc(S){return ze(S._redirectPersistence)}(S);if(!(yield A._isAvailable()))return!1;const q="true"===(yield A._get(y));return yield A._remove(y),q})).apply(this,arguments)}function qc(S,_){Sc.set(S._key(),_)}function Nc(S,_){return zu.apply(this,arguments)}function zu(){return(zu=(0,b.Z)(function*(S,_,y=!1){const A=Zr(S),q=function Ha(S,_){return _?ze(_):(me(S._popupRedirectResolver,S,"argument-error"),S._popupRedirectResolver)}(A,_),Ce=yield new Qf(A,q,y).execute();return Ce&&!y&&(delete Ce.user._redirectEventId,yield A._persistUserIfCurrent(Ce.user),yield A._setRedirectUser(null,_)),Ce})).apply(this,arguments)}class Vh{constructor(_){this.auth=_,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_){this.consumers.add(_),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_)&&(this.sendToConsumer(this.queuedRedirectEvent,_),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_){this.consumers.delete(_)}onEvent(_){if(this.hasEventBeenHandled(_))return!1;let y=!1;return this.consumers.forEach(A=>{this.isEventForConsumer(_,A)&&(y=!0,this.sendToConsumer(_,A),this.saveEventToCache(_))}),this.hasHandledPotentialRedirect||!function Bh(S){switch(S.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _l(S);default:return!1}}(_)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=_,y=!0)),y}sendToConsumer(_,y){var A;if(_.error&&!_l(_)){const q=(null===(A=_.error.code)||void 0===A?void 0:A.split("auth/")[1])||"internal-error";y.onError(ot(this.auth,q))}else y.onAuthEvent(_)}isEventForConsumer(_,y){const A=null===y.eventId||!!_.eventId&&_.eventId===y.eventId;return y.filter.includes(_.type)&&A}hasEventBeenHandled(_){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has($d(_))}saveEventToCache(_){this.cachedEventUids.add($d(_)),this.lastProcessedEventTime=Date.now()}}function $d(S){return[S.type,S.eventId,S.sessionId,S.tenantId].filter(_=>_).join("-")}function _l({type:S,error:_}){return"unknown"===S&&"auth/no-auth-event"===_?.code}function k(){return(k=(0,b.Z)(function*(S,_={}){return tt(S,"GET","/v1/projects",_)})).apply(this,arguments)}const Y=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,le=/^https?/;function Me(){return Me=(0,b.Z)(function*(S){if(S.config.emulator)return;const{authorizedDomains:_}=yield function N(S){return k.apply(this,arguments)}(S);for(const y of _)try{if(it(y))return}catch{}ft(S,"unauthorized-domain")}),Me.apply(this,arguments)}function it(S){const _=An(),{protocol:y,hostname:A}=new URL(_);if(S.startsWith("chrome-extension://")){const Ce=new URL(S);return""===Ce.hostname&&""===A?"chrome-extension:"===y&&S.replace("chrome-extension://","")===_.replace("chrome-extension://",""):"chrome-extension:"===y&&Ce.hostname===A}if(!le.test(y))return!1;if(Y.test(S))return A===S;const q=S.replace(/\./g,"\\.");return new RegExp("^(.+\\."+q+"|"+q+")$","i").test(A)}const Lt=new Wn(3e4,6e4);function xt(){const S=ut().___jsl;if(S?.H)for(const _ of Object.keys(S.H))if(S.H[_].r=S.H[_].r||[],S.H[_].L=S.H[_].L||[],S.H[_].r=[...S.H[_].L],S.CP)for(let y=0;y<S.CP.length;y++)S.CP[y]=null}let _n=null;const pa=new Wn(5e3,15e3),bo="__/auth/iframe",zd="emulator/auth/iframe",Yl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Io=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ma(S){const _=S.config;me(_.authDomain,S,"auth-domain-config-required");const y=_.emulator?ur(_,zd):`https://${S.config.authDomain}/${bo}`,A={apiKey:_.apiKey,appName:S.name,v:l.Jn},q=Io.get(S.config.apiHost);q&&(A.eid=q);const se=S._getFrameworks();return se.length&&(A.fw=se.join(",")),`${y}?${(0,ae.xO)(A).slice(1)}`}function Di(){return Di=(0,b.Z)(function*(S){const _=yield function Fn(S){return _n=_n||function jt(S){return new Promise((_,y)=>{var A,q,se;function Ce(){xt(),gapi.load("gapi.iframes",{callback:()=>{_(gapi.iframes.getContext())},ontimeout:()=>{xt(),y(ot(S,"network-request-failed"))},timeout:Lt.get()})}if(null!==(q=null===(A=ut().gapi)||void 0===A?void 0:A.iframes)&&void 0!==q&&q.Iframe)_(gapi.iframes.getContext());else{if(null===(se=ut().gapi)||void 0===se||!se.load){const Be=Xi("iframefcb");return ut()[Be]=()=>{gapi.load?Ce():y(ot(S,"network-request-failed"))},Gi(`${function Da(){return Ci.gapiScript}()}?onload=${Be}`).catch(yt=>y(yt))}Ce()}}).catch(_=>{throw _n=null,_})}(S),_n}(S),y=ut().gapi;return me(y,S,"internal-error"),_.open({where:document.body,url:Ma(S),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Yl,dontclear:!0},A=>new Promise(function(){var q=(0,b.Z)(function*(se,Ce){yield A.restyle({setHideOnLeave:!1});const Be=ot(S,"network-request-failed"),yt=ut().setTimeout(()=>{Ce(Be)},pa.get());function an(){ut().clearTimeout(yt),se(A)}A.ping(an).then(an,()=>{Ce(Be)})});return function(se,Ce){return q.apply(this,arguments)}}()))}),Di.apply(this,arguments)}const Wg={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Po{constructor(_){this.window=_,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const qd="__/auth/handler",Zd="emulator/auth/handler",tp=encodeURIComponent("fac");function qg(S,_,y,A,q,se){return rs.apply(this,arguments)}function rs(){return(rs=(0,b.Z)(function*(S,_,y,A,q,se){me(S.config.authDomain,S,"auth-domain-config-required"),me(S.config.apiKey,S,"invalid-api-key");const Ce={apiKey:S.config.apiKey,appName:S.name,authType:y,redirectUrl:A,v:l.Jn,eventId:q};if(_ instanceof vo){_.setDefaultLanguage(S.languageCode),Ce.providerId=_.providerId||"",(0,ae.xb)(_.getCustomParameters())||(Ce.customParameters=JSON.stringify(_.getCustomParameters()));for(const[wn,Or]of Object.entries(se||{}))Ce[wn]=Or}if(_ instanceof Qr){const wn=_.getScopes().filter(Or=>""!==Or);wn.length>0&&(Ce.scopes=wn.join(","))}S.tenantId&&(Ce.tid=S.tenantId);const Be=Ce;for(const wn of Object.keys(Be))void 0===Be[wn]&&delete Be[wn];const yt=yield S._getAppCheckToken(),an=yt?`#${tp}=${encodeURIComponent(yt)}`:"";return`${function Kd({config:S}){return S.emulator?ur(S,Zd):`https://${S.authDomain}/${qd}`}(S)}?${(0,ae.xO)(Be).slice(1)}${an}`})).apply(this,arguments)}const Qc="webStorageSupport",np=class Uh{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Dc,this._completeRedirectFn=Nc,this._overrideRedirectResult=qc}_openPopup(_,y,A,q){var se=this;return(0,b.Z)(function*(){var Ce;ht(null===(Ce=se.eventManagers[_._key()])||void 0===Ce?void 0:Ce.manager,"_initialize() not called before _openPopup()");const Be=yield qg(_,y,A,An(),q);return function Wd(S,_,y,A=500,q=600){const se=Math.max((window.screen.availHeight-q)/2,0).toString(),Ce=Math.max((window.screen.availWidth-A)/2,0).toString();let Be="";const yt=Object.assign(Object.assign({},Wg),{width:A.toString(),height:q.toString(),top:se,left:Ce}),an=(0,ae.z$)().toLowerCase();y&&(Be=qn(an)?"_blank":y),Nn(an)&&(_=_||"http://localhost",yt.scrollbars="yes");const wn=Object.entries(yt).reduce((Es,[Jc,ed])=>`${Es}${Jc}=${ed},`,"");if(function $n(S=(0,ae.z$)()){var _;return po(S)&&!(null===(_=window.navigator)||void 0===_||!_.standalone)}(an)&&"_self"!==Be)return function Iu(S,_){const y=document.createElement("a");y.href=S,y.target=_;const A=document.createEvent("MouseEvent");A.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(A)}(_||"",Be),new Po(null);const Or=window.open(_||"",Be,wn);me(Or,S,"popup-blocked");try{Or.focus()}catch{}return new Po(Or)}(_,Be,Ru())})()}_openRedirect(_,y,A,q){var se=this;return(0,b.Z)(function*(){return yield se._originValidation(_),function gr(S){ut().location.href=S}(yield qg(_,y,A,An(),q)),new Promise(()=>{})})()}_initialize(_){const y=_._key();if(this.eventManagers[y]){const{manager:q,promise:se}=this.eventManagers[y];return q?Promise.resolve(q):(ht(se,"If manager is not set, promise should be"),se)}const A=this.initAndGetManager(_);return this.eventManagers[y]={promise:A},A.catch(()=>{delete this.eventManagers[y]}),A}initAndGetManager(_){var y=this;return(0,b.Z)(function*(){const A=yield function cc(S){return Di.apply(this,arguments)}(_),q=new Vh(_);return A.register("authEvent",se=>(me(se?.authEvent,_,"invalid-auth-event"),{status:q.onEvent(se.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[_._key()]={manager:q},y.iframes[_._key()]=A,q})()}_isIframeWebStorageSupported(_,y){this.iframes[_._key()].send(Qc,{type:Qc},q=>{var se;const Ce=null===(se=q?.[0])||void 0===se?void 0:se[Qc];void 0!==Ce&&y(!!Ce),ft(_,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_){const y=_._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function De(S){return Me.apply(this,arguments)}(_)),this.originValidationPromises[y]}get _shouldInitProactively(){return Ri()||Mr()||po()}};var vl="@firebase/auth";class Hh{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),(null===(_=this.auth.currentUser)||void 0===_?void 0:_.uid)||null}getToken(_){var y=this;return(0,b.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(_)}:null})()}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const y=this.auth.onIdTokenChanged(A=>{_(A?.stsTokenManager.accessToken||null)});this.internalListeners.set(_,y),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const y=this.internalListeners.get(_);y&&(this.internalListeners.delete(_),y(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const sp=(0,ae.Pz)("authIdTokenMaxAge")||300;let ap=null;const cp=S=>function(){var _=(0,b.Z)(function*(y){const A=y&&(yield y.getIdTokenResult()),q=A&&((new Date).getTime()-Date.parse(A.issuedAtTime))/1e3;if(q&&q>sp)return;const se=A?.token;ap!==se&&(ap=se,yield fetch(S,{method:se?"POST":"DELETE",headers:se?{Authorization:`Bearer ${se}`}:{}}))});return function(y){return _.apply(this,arguments)}}();function Gh(S=(0,l.Mq)()){const _=(0,l.qX)(S,"auth");if(_.isInitialized())return _.getImmediate();const y=function Co(S,_){const y=(0,l.qX)(S,"auth");if(y.isInitialized()){const q=y.getImmediate(),se=y.getOptions();if((0,ae.vZ)(se,_??{}))return q;ft(q,"already-initialized")}return y.initialize({options:_})}(S,{popupRedirectResolver:np,persistence:[M,pu,Dc]}),A=(0,ae.Pz)("authTokenSyncURL");if(A&&A.match(/^\/[^\/].*/)){const se=cp(A);(function Hc(S,_,y){(0,ae.m9)(S).beforeAuthStateChanged(_,y)})(y,se,()=>se(y.currentUser)),function La(S,_,y,A){(0,ae.m9)(S).onIdTokenChanged(_,y,A)}(y,Ce=>se(Ce))}const q=(0,ae.q4)("auth");return q&&function Ic(S,_,y){const A=Zr(S);me(A._canInitEmulator,A,"emulator-config-failed"),me(/^https?:\/\//.test(_),A,"invalid-emulator-scheme");const q=!!y?.disableWarnings,se=oa(_),{host:Ce,port:Be}=function Ka(S){const _=oa(S),y=/(\/\/)?([^?#/]+)/.exec(S.substr(_.length));if(!y)return{host:"",port:null};const A=y[2].split("@").pop()||"",q=/^(\[[^\]]+\])(:|$)/.exec(A);if(q){const se=q[1];return{host:se,port:ps(A.substr(se.length+1))}}{const[se,Ce]=A.split(":");return{host:se,port:ps(Ce)}}}(_);A.config.emulator={url:`${se}//${Ce}${null===Be?"":`:${Be}`}/`},A.settings.appVerificationDisabledForTesting=!0,A.emulatorConfig=Object.freeze({host:Ce,port:Be,protocol:se.replace(":",""),options:Object.freeze({disableWarnings:q})}),q||function ks(){function S(){const _=document.createElement("p"),y=_.style;_.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",_.classList.add("firebase-emulator-warning"),document.body.appendChild(_)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",S):S())}()}(y,`http://${q}`),y}(function Ea(S){Ci=S})({loadJS:S=>new Promise((_,y)=>{const A=document.createElement("script");A.setAttribute("src",S),A.onload=_,A.onerror=q=>{const se=ot("internal-error");se.customData=q,y(se)},A.type="text/javascript",A.charset="UTF-8",function Kg(){var S,_;return null!==(_=null===(S=document.getElementsByTagName("head"))||void 0===S?void 0:S[0])&&void 0!==_?_:document}().appendChild(A)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Jl(S){(0,l.Xd)(new de.wA("auth",(_,{options:y})=>{const A=_.getProvider("app").getImmediate(),q=_.getProvider("heartbeat"),se=_.getProvider("app-check-internal"),{apiKey:Ce,authDomain:Be}=A.options;me(Ce&&!Ce.includes(":"),"invalid-api-key",{appName:A.name});const yt={apiKey:Ce,authDomain:Be,clientPlatform:S,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Vn(S)},an=new go(A,q,se,yt);return function xr(S,_){const y=_?.persistence||[],A=(Array.isArray(y)?y:[y]).map(ze);_?.errorMap&&S._updateErrorMap(_.errorMap),S._initializeWithPersistence(A,_?.popupRedirectResolver)}(an,y),an},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,y,A)=>{_.getProvider("auth-internal").initialize()})),(0,l.Xd)(new de.wA("auth-internal",_=>{const y=Zr(_.getProvider("auth").getImmediate());return new Hh(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,l.KN)(vl,"1.6.2",function qu(S){switch(S){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(S)),(0,l.KN)(vl,"1.6.2","esm2017")}("Browser");var Yg=Q(5619),yl=Q(8180),is=Q(3477),Xl=Q(9468),FI=Q(6024);let j_=(()=>{class S{constructor(y,A){this.firestore=y,this.router=A,this.userDataSubject=new Yg.X(null),this.userData$=this.userDataSubject.asObservable();const q=localStorage.getItem("user");if(q){const se=JSON.parse(q);this.userDataSubject.next(se)}}registerUser(y,A,q){var se=this;return(0,b.Z)(function*(){try{const Ce=yield se.createUserWithEmailAndPassword(y,A),Be=Ce.user.uid;yield se.addAdditionalAuthData(Be,q),yield se.saveUserData(Ce.user,q),se.router.navigate(["recipes-list"])}catch(Ce){se.handleError(Ce)}})()}loginUser(y,A){var q=this;return(0,b.Z)(function*(){try{const se=yield q.signInWithEmailAndPassword(y,A),Ce=se.user.uid,Be=yield q.getAdditionalAuthDataById(Ce);yield q.saveUserData(se.user,Be),q.router.navigate(["recipes-list"])}catch(se){q.handleError(se)}})()}logoutUser(){var y=this;return(0,b.Z)(function*(){try{yield y.signOutAuth(),yield y.clearUserData(),y.router.navigate(["login"])}catch(A){y.handleError(A)}})()}forgotPassword(y){var A=this;return(0,b.Z)(function*(){try{yield A.sendPasswordResetEmail(y),window.alert("Password reset email sent, check your inbox."),A.router.navigate(["login"])}catch(q){A.handleError(q),window.alert(q)}})()}updateFavoriteRecipes(y,A,q){var se=this;return(0,b.Z)(function*(){const Be=(0,is.JU)(se.firestore,"Auth",A);try{q?(console.log("remove"),yield(0,is.r7)(Be,{favoriteRecipes:(0,is.Ab)(y)})):(console.log("add"),yield(0,is.r7)(Be,{favoriteRecipes:(0,is.vr)(y)})),console.log("Favorite recipes updated successfully");const yt=yield se.getAdditionalAuthDataById(A);se.userData$.pipe((0,yl.q)(1)).subscribe(an=>{an?se.saveUserData(an,yt).then(()=>console.log("User data saved successfully")).catch(()=>console.error("Failed to save user data")):console.error("User is null")})}catch(yt){console.error("Error updating favorite recipes: ",yt)}})()}sendPasswordResetEmail(y){return function bs(S,_,y){return Li.apply(this,arguments)}(Gh(),y)}createUserWithEmailAndPassword(y,A){return function Fa(S,_,y){return Aa.apply(this,arguments)}(Gh(),y,A)}signInWithEmailAndPassword(y,A){return function wc(S,_,y){return Ei((0,ae.m9)(S),No.credential(_,y)).catch(function(){var A=(0,b.Z)(function*(q){throw"auth/password-does-not-meet-requirements"===q.code&&Vc(S),q});return function(q){return A.apply(this,arguments)}}())}(Gh(),y,A)}signOutAuth(){return function Xo(S){return(0,ae.m9)(S).signOut()}(Gh())}addAdditionalAuthData(y,A){return(0,is.pl)((0,is.JU)(this.firestore,"Auth",y),A)}getAdditionalAuthDataById(y){var A=this;return(0,b.Z)(function*(){const q=(0,is.JU)(A.firestore,"Auth",y),se=yield(0,is.QT)(q);return se.exists()?se.data():null})()}saveUserData(y,A){return new Promise((q,se)=>{if(y&&A){const Ce={...y,...A};localStorage.setItem("user",JSON.stringify(Ce)),this.userDataSubject.next(Ce),q()}else localStorage.setItem("user","null"),this.userDataSubject.next(null),se()})}clearUserData(){return new Promise((y,A)=>{localStorage.removeItem("user"),this.userDataSubject.next(null),y()})}handleError(y){if(y instanceof Error){const q=y.message;console.error(`Error (${y.name}): ${q}`),alert(q)}else console.error("Unknown error:",y),alert(y)}static#e=this.\u0275fac=function(A){return new(A||S)(Xl.LFG(is.gg),Xl.LFG(FI.F0))};static#t=this.\u0275prov=Xl.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})()},9286:(Ut,$e,Q)=>{Q.d($e,{N:()=>ye});var b=Q(4303);(0,b.KN)("firebase","10.9.0","app");const ye={firebaseConfig:{apiKey:"AIzaSyCVbXDjBGUwaOrn1CZYGIwce1dYPKpR7PA",authDomain:"the-natural-way.firebaseapp.com",projectId:"the-natural-way",storageBucket:"the-natural-way.appspot.com",messagingSenderId:"778711637280",appId:"1:778711637280:web:30b52ea2a4e159578fcb45"},cloudinaryConfig:{cloudName:"dsla98vyk",apiKey:"587566495847865",apiSecret:"sJLzQzouizKo51b9Mv0bI8a5pCI",uploadPreset:"the_natural_way"}};(0,b.ZF)(ye.firebaseConfig)},5440:(Ut,$e,Q)=>{var b=Q(6593),ae=Q(6024),l=Q(9468),ye=Q(4664),ue=Q(7398),de=Q(2096),Ae=Q(6499),Ie=Q(5861),ne=Q(95),ce=Q(6814);function Ee(d,w){1&d&&(l.TgZ(0,"div",21),l._uU(1," Email is required! "),l.qZA())}function Xe(d,w){1&d&&(l.TgZ(0,"div",21),l._uU(1," Please enter a valid email address! "),l.qZA())}function Re(d,w){if(1&d&&(l.TgZ(0,"div"),l.YNc(1,Ee,2,0,"div",20),l.YNc(2,Xe,2,0,"div",20),l.qZA()),2&d){const u=l.oxw();let p,v;l.xp6(1),l.Q6J("ngIf",null==(p=u.registerForm.get("email"))||null==p.errors?null:p.errors.required),l.xp6(1),l.Q6J("ngIf",null==(v=u.registerForm.get("email"))||null==v.errors?null:v.errors.email)}}function rt(d,w){1&d&&(l.TgZ(0,"div",21),l._uU(1," Password is required! "),l.qZA())}function Dt(d,w){1&d&&(l.TgZ(0,"div",21),l._uU(1," Password must be at least 6 characters long! "),l.qZA())}function kt(d,w){if(1&d&&(l.TgZ(0,"div"),l.YNc(1,rt,2,0,"div",20),l.YNc(2,Dt,2,0,"div",20),l.qZA()),2&d){const u=l.oxw();let p,v;l.xp6(1),l.Q6J("ngIf",null==(p=u.registerForm.get("password"))||null==p.errors?null:p.errors.required),l.xp6(1),l.Q6J("ngIf",null==(v=u.registerForm.get("password"))||null==v.errors?null:v.errors.minlength)}}function Rt(d,w){1&d&&(l.TgZ(0,"div",21),l._uU(1," Repeat password is required! "),l.qZA())}function En(d,w){1&d&&(l.TgZ(0,"div",21),l._uU(1," Repeat password must be at least 6 characters long! "),l.qZA())}function Nt(d,w){if(1&d&&(l.TgZ(0,"div"),l.YNc(1,Rt,2,0,"div",20),l.YNc(2,En,2,0,"div",20),l.qZA()),2&d){const u=l.oxw();let p,v;l.xp6(1),l.Q6J("ngIf",null==(p=u.registerForm.get("repeatPassword"))||null==p.errors?null:p.errors.required),l.xp6(1),l.Q6J("ngIf",null==(v=u.registerForm.get("repeatPassword"))||null==v.errors?null:v.errors.minlength)}}function ft(d,w){1&d&&(l.TgZ(0,"div",21),l._uU(1," First name is required! "),l.qZA())}function ot(d,w){if(1&d&&(l.TgZ(0,"div"),l.YNc(1,ft,2,0,"div",20),l.qZA()),2&d){const u=l.oxw();let p;l.xp6(1),l.Q6J("ngIf",null==(p=u.registerForm.get("firstName"))||null==p.errors?null:p.errors.required)}}function mt(d,w){1&d&&(l.TgZ(0,"div",21),l._uU(1," Last name is required! "),l.qZA())}function pt(d,w){if(1&d&&(l.TgZ(0,"div"),l.YNc(1,mt,2,0,"div",20),l.qZA()),2&d){const u=l.oxw();let p;l.xp6(1),l.Q6J("ngIf",null==(p=u.registerForm.get("lastName"))||null==p.errors?null:p.errors.required)}}let He=(()=>{class d{constructor(u,p,v){this.userService=u,this.fb=p,this.router=v,this.registerForm=this.fb.group({email:["",[ne.kI.required,ne.kI.email]],password:["",[ne.kI.required,ne.kI.minLength(6)]],repeatPassword:["",ne.kI.required],firstName:["",ne.kI.required],lastName:["",ne.kI.required],isActive:[!0,ne.kI.required],isAdmin:[!1,ne.kI.required],favoriteRecipes:this.fb.array([])})}submitRegisterForm(){var u=this;return(0,Ie.Z)(function*(){if(u.registerForm.valid){const{email:p,password:v,repeatPassword:V,...Z}=u.registerForm.value;if(v!==V)return void alert("Password do not match!");try{yield u.userService.registerUser(p,v,Z)}catch(ve){alert(ve)}}})()}static#e=this.\u0275fac=function(p){return new(p||d)(l.Y36(Ae.K),l.Y36(ne.qu),l.Y36(ae.F0))};static#t=this.\u0275cmp=l.Xpm({type:d,selectors:[["app-register"]],decls:33,vars:6,consts:[[1,"main-short"],[1,"headerImage"],[1,"wrapper"],[3,"formGroup","ngSubmit"],[1,"title-wrapper"],[1,"title-form"],["for","email"],["type","email","id","email","formControlName","email","autocomplete","email"],[4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password","autocomplete","new-password"],["for","repeatPassword"],["type","password","id","repeatPassword","formControlName","repeatPassword","autocomplete","new-password"],["for","firstName"],["type","text","id","firstName","formControlName","firstName"],["for","lastName"],["type","text","id","lastName","formControlName","lastName"],["type","submit",1,"button",2,"width","100%","margin-top","20px"],["href","#","routerLink","/login"],[1,"hint"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(p,v){if(1&p&&(l.TgZ(0,"div",0),l._UZ(1,"div",1),l.TgZ(2,"div",2)(3,"form",3),l.NdJ("ngSubmit",function(){return v.submitRegisterForm()}),l.TgZ(4,"div",4)(5,"h1",5),l._uU(6,"Registration"),l.qZA()(),l.TgZ(7,"label",6),l._uU(8,"Email:"),l.qZA(),l._UZ(9,"input",7),l.YNc(10,Re,3,2,"div",8),l.TgZ(11,"label",9),l._uU(12,"Password:"),l.qZA(),l._UZ(13,"input",10),l.YNc(14,kt,3,2,"div",8),l.TgZ(15,"label",11),l._uU(16,"Repeat password:"),l.qZA(),l._UZ(17,"input",12),l.YNc(18,Nt,3,2,"div",8),l.TgZ(19,"label",13),l._uU(20,"First name:"),l.qZA(),l._UZ(21,"input",14),l.YNc(22,ot,2,1,"div",8),l.TgZ(23,"label",15),l._uU(24,"Last Name:"),l.qZA(),l._UZ(25,"input",16),l.YNc(26,pt,2,1,"div",8),l.TgZ(27,"button",17),l._uU(28," Submit "),l.qZA(),l._UZ(29,"hr"),l.TgZ(30,"a",18)(31,"div",19),l._uU(32,"Already registered?"),l.qZA()()()()()),2&p){let V,Z,ve,Se,We;l.xp6(3),l.Q6J("formGroup",v.registerForm),l.xp6(7),l.Q6J("ngIf",(null==(V=v.registerForm.get("email"))?null:V.invalid)&&(null==(V=v.registerForm.get("email"))?null:V.touched)),l.xp6(4),l.Q6J("ngIf",(null==(Z=v.registerForm.get("password"))?null:Z.invalid)&&(null==(Z=v.registerForm.get("password"))?null:Z.touched)),l.xp6(4),l.Q6J("ngIf",(null==(ve=v.registerForm.get("repeatPassword"))?null:ve.invalid)&&(null==(ve=v.registerForm.get("repeatPassword"))?null:ve.touched)),l.xp6(4),l.Q6J("ngIf",(null==(Se=v.registerForm.get("firstName"))?null:Se.invalid)&&(null==(Se=v.registerForm.get("firstName"))?null:Se.touched)),l.xp6(4),l.Q6J("ngIf",(null==(We=v.registerForm.get("lastName"))?null:We.invalid)&&(null==(We=v.registerForm.get("lastName"))?null:We.touched))}},dependencies:[ce.O5,ae.rH,ne._Y,ne.Fj,ne.JJ,ne.JL,ne.sg,ne.u],styles:[".checkbox-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center}form[_ngcontent-%COMP%]{max-width:600px;margin:-50px auto 50px;padding:32px;background-color:var(--backgroundColor);border-radius:unset;box-shadow:0 1px 3px #0000004d}@media (max-width: 460px){form[_ngcontent-%COMP%]{background-color:var(--backgroundColor);border:none}}"]})}return d})();function me(d,w){1&d&&(l.TgZ(0,"div",16),l._uU(1," Email is required! "),l.qZA())}function Ye(d,w){1&d&&(l.TgZ(0,"div",16),l._uU(1," Invalid email! "),l.qZA())}function ht(d,w){if(1&d&&(l.TgZ(0,"div"),l.YNc(1,me,2,0,"div",17),l.YNc(2,Ye,2,0,"div",17),l.qZA()),2&d){const u=l.oxw();let p,v;l.xp6(1),l.Q6J("ngIf",null==(p=u.logInForm.get("email"))||null==p.errors?null:p.errors.required),l.xp6(1),l.Q6J("ngIf",null==(v=u.logInForm.get("email"))||null==v.errors?null:v.errors.email)}}function An(d,w){1&d&&(l.TgZ(0,"div",16),l._uU(1," Password is required! "),l.qZA())}function ct(d,w){1&d&&(l.TgZ(0,"div",16),l._uU(1," Password must be at least 6 characters long! "),l.qZA())}function cn(d,w){if(1&d&&(l.TgZ(0,"div"),l.YNc(1,An,2,0,"div",17),l.YNc(2,ct,2,0,"div",17),l.qZA()),2&d){const u=l.oxw();let p,v;l.xp6(1),l.Q6J("ngIf",null==(p=u.logInForm.get("password"))||null==p.errors?null:p.errors.required),l.xp6(1),l.Q6J("ngIf",null==(v=u.logInForm.get("password"))||null==v.errors?null:v.errors.minlength)}}function vn(d,w){if(1&d&&(l.TgZ(0,"div"),l._uU(1),l.qZA()),2&d){const u=l.oxw();l.xp6(1),l.Oqu(u.loginError)}}let xn=(()=>{class d{constructor(u,p,v,V){this.userService=u,this.fb=p,this.route=v,this.router=V,this.loginError=null,this.returnUrl=null,this.logInForm=this.fb.group({email:["",[ne.kI.required,ne.kI.email]],password:["",[ne.kI.required,ne.kI.minLength(6)]]})}ngOnInit(){this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/"}submitLogInForm(){var u=this;return(0,Ie.Z)(function*(){if(u.logInForm.valid){const{email:p,password:v}=u.logInForm.value;try{yield u.userService.loginUser(p,v);const V=u.returnUrl||"/category";yield u.router.navigateByUrl(V)}catch(V){console.log(V)}}})()}static#e=this.\u0275fac=function(p){return new(p||d)(l.Y36(Ae.K),l.Y36(ne.qu),l.Y36(ae.gz),l.Y36(ae.F0))};static#t=this.\u0275cmp=l.Xpm({type:d,selectors:[["app-login"]],decls:30,vars:4,consts:[[1,"main-short"],[1,"headerImage"],[1,"wrapper"],[3,"formGroup","ngSubmit"],[1,"title-wrapper"],[1,"title-form"],[1,"formGroup"],["for","email"],["type","text","id","email","formControlName","email","autocomplete","email"],[4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password","autocomplete","current-password"],["type","submit",1,"button",2,"width","100%"],["href","#","routerLink","/register"],[1,"hint"],["href","#","routerLink","/forgot-password"],[1,"errors"],["class","errors",4,"ngIf"]],template:function(p,v){if(1&p&&(l.TgZ(0,"div",0),l._UZ(1,"div",1),l.TgZ(2,"div",2)(3,"form",3),l.NdJ("ngSubmit",function(){return v.submitLogInForm()}),l.TgZ(4,"div",4)(5,"h1",5),l._uU(6,"Login"),l.qZA()(),l.TgZ(7,"div",6)(8,"label",7),l._uU(9,"Email"),l.qZA(),l._UZ(10,"input",8),l.YNc(11,ht,3,2,"div",9),l.qZA(),l.TgZ(12,"div",6)(13,"label",10),l._uU(14,"Password"),l.qZA(),l._UZ(15,"input",11),l.YNc(16,cn,3,2,"div",9),l.qZA(),l._UZ(17,"br"),l.TgZ(18,"div",6)(19,"button",12),l._uU(20,"Submit"),l.qZA()(),l.YNc(21,vn,2,1,"div",9),l._UZ(22,"hr"),l.TgZ(23,"div")(24,"a",13)(25,"div",14),l._uU(26,"Don't have a Registration yet?"),l.qZA()(),l.TgZ(27,"a",15)(28,"div",16),l._uU(29,"Forgot your password?"),l.qZA()()()()()()),2&p){let V,Z;l.xp6(3),l.Q6J("formGroup",v.logInForm),l.xp6(8),l.Q6J("ngIf",(null==(V=v.logInForm.get("email"))?null:V.invalid)&&(null==(V=v.logInForm.get("email"))?null:V.touched)),l.xp6(5),l.Q6J("ngIf",(null==(Z=v.logInForm.get("password"))?null:Z.invalid)&&(null==(Z=v.logInForm.get("password"))?null:Z.touched)),l.xp6(5),l.Q6J("ngIf",v.loginError)}},dependencies:[ce.O5,ae.rH,ne._Y,ne.Fj,ne.JJ,ne.JL,ne.sg,ne.u],styles:["form[_ngcontent-%COMP%]{max-width:600px;margin:-50px auto 50px;padding:32px;background-color:var(--backgroundColor);border-radius:unset;box-shadow:0 1px 3px #0000004d}@media (max-width: 460px){form[_ngcontent-%COMP%]{background-color:var(--backgroundColor);border:none}}"]})}return d})();var Wn=Q(1753);const ur=function(d){return["/recipe",d]};function Pe(d,w){if(1&d&&(l.TgZ(0,"div")(1,"a",8)(2,"div",9)(3,"div",10),l._UZ(4,"img",11),l.qZA(),l.TgZ(5,"p",12),l._uU(6),l.qZA()()()()),2&d){const u=w.$implicit;l.xp6(1),l.Q6J("routerLink",l.VKq(4,ur,u.id)),l.xp6(3),l.s9C("alt",u.title),l.Q6J("src",u.image_recipe[0].image_recipe,l.LSH),l.xp6(2),l.Oqu(u.title)}}function Ge(d,w){if(1&d){const u=l.EpF();l.TgZ(0,"button",13),l.NdJ("click",function(){l.CHM(u);const v=l.oxw();return l.KtG(v.getRecipesLoadMore())}),l._uU(1," Load More "),l.qZA()}}let Qe=(()=>{class d{constructor(u){this.recipeService=u,this.recipes=[],this.showLoadMoreButton=!0}ngOnInit(){this.getRecipes(),this.showLoadMoreButton=!0}getRecipesLoadMore(){var u=this;return(0,Ie.Z)(function*(){const{data:p,hasMore:v}=yield u.recipeService.getRecipesLoadMore();console.log(v),u.showLoadMoreButton=v,u.recipes.push(...p)})()}getRecipes(){var u=this;return(0,Ie.Z)(function*(){const{data:p}=yield u.recipeService.getRecipes();u.recipes.push(...p)})()}static#e=this.\u0275fac=function(p){return new(p||d)(l.Y36(Wn.v))};static#t=this.\u0275cmp=l.Xpm({type:d,selectors:[["app-recipes-list"]],decls:9,vars:2,consts:[[1,"main-long"],[1,"headerImage"],[1,"wrapper-list"],[1,"title-wrapper"],[1,"title"],[1,"recipe-list"],[4,"ngFor","ngForOf"],["class","button",3,"click",4,"ngIf"],[3,"routerLink"],[1,"recipe-item"],[1,"recipe-image"],[3,"src","alt"],[1,"recipe-title"],[1,"button",3,"click"]],template:function(p,v){1&p&&(l.TgZ(0,"main",0),l._UZ(1,"div",1),l.TgZ(2,"div",2)(3,"div",3)(4,"h1",4),l._uU(5,"Recipes"),l.qZA()(),l.TgZ(6,"div",5),l.YNc(7,Pe,7,6,"div",6),l.qZA(),l.YNc(8,Ge,2,0,"button",7),l.qZA()()),2&p&&(l.xp6(7),l.Q6J("ngForOf",v.recipes),l.xp6(1),l.Q6J("ngIf",v.showLoadMoreButton))},dependencies:[ce.sg,ce.O5,ae.rH],styles:[".wrapper-list[_ngcontent-%COMP%]{margin:-50px auto 50px;max-width:1200px;background-color:var(--backgroundColor);box-shadow:0 1px 3px #0000004d;padding:32px}.title-wrapper[_ngcontent-%COMP%]{margin-left:10px}.recipe-list[_ngcontent-%COMP%]{position:relative;display:grid;grid-template-columns:repeat(4,1fr);row-gap:20px;margin-bottom:100px}.recipe-item[_ngcontent-%COMP%]{margin:5px;position:relative}.recipe-image[_ngcontent-%COMP%]{padding:5px;position:relative;transition:transform 1s ease-in-out}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;width:100%;object-fit:fill}.recipe-item[_ngcontent-%COMP%]:hover   .recipe-image[_ngcontent-%COMP%]{transform:translateY(12%)}@media only screen and (max-width: 460px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 20px 50px;padding:16px}.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 461px) and (max-width: 767px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 768px) and (max-width: 1023px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);column-gap:10px;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}@media (min-width: 1024px) and (max-width: 1440px){.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);column-gap:10px;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}"]})}return d})();var Le=Q(7157),tt=Q(8850),_t=Q(3477);function Ot(d,w){1&d&&(l.TgZ(0,"div",9),l._uU(1," Please write your comment here! "),l.qZA())}function Bt(d,w){if(1&d&&(l.TgZ(0,"div"),l.YNc(1,Ot,2,0,"div",8),l.qZA()),2&d){const u=l.oxw();let p;l.xp6(1),l.Q6J("ngIf",null==(p=u.commentForm.get("text"))||null==p.errors?null:p.errors.required)}}let un=(()=>{class d{constructor(u,p,v,V){this.fb=u,this.commentService=v,this.userService=V,this.timestamp=new Date,this.fullName="",this.firestore=p}ngOnInit(){this.commentForm=this.fb.group({name:[""],text:["",ne.kI.required],recipeId:[this.recipeId],create_time:[this.timestamp],uid:[""]}),this.userService.userData$.subscribe({next:u=>{u?(this.userData=u,this.fullName=this.userData.firstName+" "+this.userData.lastName):this.fullName="Anonymous"},error:u=>{console.log(u)}})}onSubmit(){var u=this;return(0,Ie.Z)(function*(){if(u.timestamp=new Date,u.commentForm.valid){u.commentForm.patchValue({name:u.fullName}),u.commentForm.patchValue({recipeId:u.recipeId}),u.commentForm.patchValue({create_time:u.timestamp}),u.userData&&u.commentForm.patchValue({uid:u.userData.uid});try{(yield u.commentService.addComment(u.commentForm.value))?(alert("You have successfully added your comment"),u.commentForm.reset()):console.error("Error adding comment.")}catch(p){console.error("An error occurred while submitting the comment:",p)}}})()}static#e=this.\u0275fac=function(p){return new(p||d)(l.Y36(ne.qu),l.Y36(_t.gg),l.Y36(tt.O),l.Y36(Ae.K))};static#t=this.\u0275cmp=l.Xpm({type:d,selectors:[["app-comment-form"]],inputs:{recipeId:"recipeId"},decls:15,vars:2,consts:[[1,"commentWrapper"],["id","commentForm",3,"formGroup","ngSubmit"],[1,"divider"],[1,"form-group"],["for","text"],["placeholder","Please write your comment here!","id","text","formControlName","text","rows","5","cols","30",1,"form-control"],[4,"ngIf"],["type","submit",1,"button",2,"width","100%"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(p,v){if(1&p&&(l.TgZ(0,"div",0)(1,"form",1),l.NdJ("ngSubmit",function(){return v.onSubmit()}),l.TgZ(2,"div",2),l._UZ(3,"hr"),l.TgZ(4,"p"),l._uU(5,"\xa0\xa0Comment\xa0\xa0"),l.qZA(),l._UZ(6,"hr"),l.qZA(),l.TgZ(7,"div",3)(8,"label",4),l._uU(9,"Comment (required)"),l.qZA(),l._UZ(10,"textarea",5),l.qZA(),l.YNc(11,Bt,2,1,"div",6),l._UZ(12,"br"),l.TgZ(13,"button",7),l._uU(14,"Submit"),l.qZA()()()),2&p){let V;l.xp6(1),l.Q6J("formGroup",v.commentForm),l.xp6(10),l.Q6J("ngIf",null==(V=v.commentForm.get("text"))?null:V.touched)}},dependencies:[ce.O5,ne._Y,ne.Fj,ne.JJ,ne.JL,ne.sg,ne.u],styles:["form#commentForm[_ngcontent-%COMP%]{background-color:var(--backgroundColor);max-width:100%;border:unset}"]})}return d})();var pn=Q(2732);function on(d,w){if(1&d&&(l.TgZ(0,"div",19),l._uU(1),l.qZA()),2&d){const u=l.oxw();l.xp6(1),l.hij(" ",null==u.recipe?null:u.recipe.summary," ")}}function wt(d,w){1&d&&(l.TgZ(0,"div"),l._UZ(1,"br"),l.qZA())}function Ln(d,w){if(1&d&&(l.TgZ(0,"li"),l._UZ(1,"img",22),l.qZA()),2&d){const u=w.$implicit;l.xp6(1),l.Q6J("src",u.image_recipe,l.LSH)}}function lr(d,w){if(1&d&&(l.TgZ(0,"ul",20),l.YNc(1,Ln,2,1,"li",21),l.qZA()),2&d){const u=l.oxw();l.xp6(1),l.Q6J("ngForOf",null==u.recipe?null:u.recipe.image_recipe)}}function Sr(d,w){1&d&&(l.ynx(0),l._UZ(1,"i",28),l.BQk())}function we(d,w){1&d&&l._UZ(0,"i",29)}function Oe(d,w){if(1&d){const u=l.EpF();l.TgZ(0,"button",25),l.NdJ("click",function(){l.CHM(u);const v=l.oxw(2);return l.KtG(v.updateRecipeLikes())}),l.YNc(1,Sr,2,0,"ng-container",26),l.YNc(2,we,1,0,"ng-template",null,27,l.W1O),l.qZA()}if(2&d){const u=l.MAs(3),p=l.oxw(2);l.xp6(1),l.Q6J("ngIf",p.userData&&p.recipe&&p.recipe.likes&&(null==p.userData?null:p.userData.uid)&&p.recipe.likes.includes(p.userData.uid))("ngIfElse",u)}}function xe(d,w){if(1&d&&(l.TgZ(0,"div")(1,"span"),l._uU(2),l.qZA()()),2&d){const u=l.oxw(2);l.xp6(2),l.hij("Like: ",null==u.recipe||null==u.recipe.likes?null:u.recipe.likes.length,"")}}function st(d,w){1&d&&(l.ynx(0),l._uU(1," Save it! "),l.BQk())}function gt(d,w){1&d&&l._uU(0,"Save Recipe")}function Tt(d,w){if(1&d){const u=l.EpF();l.TgZ(0,"button",25),l.NdJ("click",function(){l.CHM(u);const v=l.oxw(2);return l.KtG(v.updateFavoriteRecipes())}),l.YNc(1,st,2,0,"ng-container",26),l.YNc(2,gt,1,0,"ng-template",null,27,l.W1O),l.qZA()}if(2&d){const u=l.MAs(3),p=l.oxw(2);l.xp6(1),l.Q6J("ngIf",p.recipe&&p.userData&&p.userData.favoriteRecipes&&p.userData.favoriteRecipes.includes(p.recipeId||""))("ngIfElse",u)}}function hr(d,w){if(1&d&&(l.TgZ(0,"div",23),l.YNc(1,Oe,4,2,"button",24),l.YNc(2,xe,3,1,"div",8),l.YNc(3,Tt,4,2,"button",24),l.qZA()),2&d){const u=l.oxw();l.xp6(1),l.Q6J("ngIf",u.userData),l.xp6(1),l.Q6J("ngIf",(null==u.recipe||null==u.recipe.likes?null:u.recipe.likes.length)>0),l.xp6(1),l.Q6J("ngIf",u.userData)}}function bn(d,w){1&d&&(l.TgZ(0,"div",12),l._UZ(1,"hr"),l.TgZ(2,"p"),l._uU(3,"\xa0\xa0Ingredients\xa0\xa0"),l.qZA(),l._UZ(4,"hr"),l.qZA())}function tn(d,w){if(1&d&&(l.TgZ(0,"li"),l._uU(1),l.qZA()),2&d){const u=l.oxw().$implicit;l.xp6(1),l.lnq(" ",u.name," - ",u.amount," ",u.unit," ")}}function zt(d,w){if(1&d&&(l.TgZ(0,"ul",30),l.YNc(1,tn,2,3,"li",8),l.qZA()),2&d){const u=l.oxw();l.xp6(1),l.Q6J("ngIf",null==u.recipe?null:u.recipe.ingredients)}}function mn(d,w){if(1&d&&(l.TgZ(0,"li"),l._UZ(1,"iframe",32),l.ALo(2,"safeUrl"),l.qZA()),2&d){const u=w.$implicit;l.xp6(1),l.Q6J("src",l.lcZ(2,1,u.video_recipe),l.uOi)}}function Hn(d,w){if(1&d&&(l.TgZ(0,"div",31)(1,"div",12),l._UZ(2,"hr"),l.TgZ(3,"p"),l._uU(4,"\xa0\xa0Video\xa0\xa0"),l.qZA(),l._UZ(5,"hr"),l.qZA(),l._UZ(6,"br"),l.TgZ(7,"ul"),l.YNc(8,mn,3,3,"li",21),l.qZA()()),2&d){const u=l.oxw();l.xp6(8),l.Q6J("ngForOf",null==u.recipe?null:u.recipe.video_recipe)}}function Kt(d,w){1&d&&(l.TgZ(0,"div",12),l._UZ(1,"hr"),l.TgZ(2,"p"),l._uU(3,"\xa0\xa0Buttons\xa0\xa0"),l.qZA(),l._UZ(4,"hr"),l.qZA())}function yr(d,w){if(1&d){const u=l.EpF();l.TgZ(0,"button",35),l.NdJ("click",function(){l.CHM(u);const v=l.oxw(2);return l.KtG(v.toggleCommentForm())}),l._uU(1," Comment? "),l.qZA()}}function fr(d,w){if(1&d){const u=l.EpF();l.TgZ(0,"button",35),l.NdJ("click",function(){l.CHM(u);const v=l.oxw(2);return l.KtG(v.toggleCommentForm())}),l._uU(1," Hide Form "),l.qZA()}}function dn(d,w){if(1&d){const u=l.EpF();l.TgZ(0,"button",35),l.NdJ("click",function(){l.CHM(u);const v=l.oxw(2);return l.KtG(v.navigateToRecipeEdit())}),l._uU(1," Edit Recipe "),l.qZA()}}function Qn(d,w){if(1&d){const u=l.EpF();l.TgZ(0,"button",35),l.NdJ("click",function(){l.CHM(u);const v=l.oxw(2);return l.KtG(v.navigateToRecipeDelete())}),l._uU(1," Delete Recipe "),l.qZA()}}function Un(d,w){if(1&d&&(l.TgZ(0,"div",33),l.YNc(1,yr,2,0,"button",34),l.YNc(2,fr,2,0,"button",34),l.YNc(3,dn,2,0,"button",34),l.YNc(4,Qn,2,0,"button",34),l.qZA()),2&d){const u=l.oxw();l.xp6(1),l.Q6J("ngIf",!u.showCommentForm),l.xp6(1),l.Q6J("ngIf",u.showCommentForm),l.xp6(1),l.Q6J("ngIf",u.userData&&u.userData.uid==(null==u.recipe?null:u.recipe.uid)),l.xp6(1),l.Q6J("ngIf",u.userData&&u.userData.uid==(null==u.recipe?null:u.recipe.uid))}}function Jn(d,w){if(1&d&&(l.TgZ(0,"div"),l._UZ(1,"app-comment-form",36),l.qZA()),2&d){const u=l.oxw();l.xp6(1),l.Q6J("recipeId",u.recipeId)}}function Pn(d,w){1&d&&(l.TgZ(0,"div",12),l._UZ(1,"hr"),l.TgZ(2,"p"),l._uU(3,"\xa0\xa0Comments\xa0\xa0"),l.qZA(),l._UZ(4,"hr"),l.qZA())}function ti(d,w){if(1&d){const u=l.EpF();l.TgZ(0,"span",41),l.NdJ("click",function(){l.CHM(u);const v=l.oxw().$implicit,V=l.oxw(2);return l.KtG(V.deleteComment(v.id))}),l._UZ(1,"i",42),l.qZA()}}function Dn(d,w){if(1&d){const u=l.EpF();l.TgZ(0,"span",41),l.NdJ("click",function(){l.CHM(u);const v=l.oxw().$implicit,V=l.oxw(2);return l.KtG(V.navigateToCommentEdit(v.id))}),l._UZ(1,"i",43),l.qZA()}}function Gn(d,w){if(1&d&&(l.TgZ(0,"ul")(1,"li"),l._uU(2),l.qZA(),l.TgZ(3,"li"),l._uU(4),l.qZA(),l.TgZ(5,"li",38)(6,"p"),l._uU(7),l.ALo(8,"date"),l.qZA(),l.TgZ(9,"div",39),l.YNc(10,ti,2,0,"span",40),l.YNc(11,Dn,2,0,"span",40),l.qZA()(),l._UZ(12,"hr"),l.qZA()),2&d){const u=w.$implicit,p=l.oxw(2);l.xp6(2),l.Oqu(u.name),l.xp6(2),l.Oqu(u.text),l.xp6(3),l.hij(" ",l.xi3(8,5,u.create_time.toDate(),"dd/MM/yyyy HH:mm:ss")," "),l.xp6(3),l.Q6J("ngIf",p.userData&&u.uid==p.userData.uid),l.xp6(1),l.Q6J("ngIf",p.userData&&u.uid==p.userData.uid)}}function Tr(d,w){if(1&d&&(l.TgZ(0,"section",37),l.YNc(1,Gn,13,8,"ul",21),l.qZA()),2&d){const u=l.oxw();l.xp6(1),l.Q6J("ngForOf",u.comments)}}let ni=(()=>{class d{constructor(u,p,v,V,Z){var ve=this;this.route=u,this.recipeService=p,this.commentService=v,this.userService=V,this.router=Z,this.recipe=null,this.recipeId="",this.comments=[],this.showCommentForm=!1,this.route.paramMap.subscribe(function(){var Se=(0,Ie.Z)(function*(We){ve.recipeId=We.get("id")});return function(We){return Se.apply(this,arguments)}}()),v.getCommentAddedObservable().subscribe((0,Ie.Z)(function*(){console.log("Comment successfully added."),yield ve.loadCommentsForRecipe()}))}loadRecipeData(){var u=this;return(0,Ie.Z)(function*(){if(u.recipeId)try{u.recipe=yield u.recipeService.getRecipeById(u.recipeId),u.comments=yield u.commentService.getCommentsForRecipe(u.recipeId),console.log("Recipe data loaded successfully.")}catch(p){console.error("An error occurred while loading recipe data:",p)}})()}navigateToRecipeEdit(){var u=this;return(0,Ie.Z)(function*(){yield u.router.navigate(["/dashboard/recipe-edit",u.recipeId])})()}navigateToRecipeDelete(){var u=this;return(0,Ie.Z)(function*(){yield u.router.navigate(["/dashboard/recipe-delete",u.recipeId])})()}ngOnInit(){var u=this;return(0,Ie.Z)(function*(){yield u.loadRecipeData(),u.userService.userData$.subscribe(p=>{p&&(u.userData=p)})})()}toggleCommentForm(){this.showCommentForm=!this.showCommentForm}navigateToCommentEdit(u){var p=this;return(0,Ie.Z)(function*(){yield p.router.navigate(["/comment-edit",u])})()}deleteComment(u){var p=this;return(0,Ie.Z)(function*(){yield p.commentService.deleteComment(u),yield p.loadCommentsForRecipe()})()}updateRecipeLikes(){var u=this;return(0,Ie.Z)(function*(){if(u.recipe)if(u.userData){if(u.userData){let p=u.recipe.likes.includes(u.userData.uid);yield u.recipeService.updateRecipeLikes(u.recipeId,u.userData.uid,p)}yield u.loadRecipeData()}else console.error("User is not logged in.");else console.error("Recipe data is missing.")})()}updateFavoriteRecipes(){var u=this;return(0,Ie.Z)(function*(){if(u.recipe){if(u.userData&&u.recipeId){let p=u.userData.favoriteRecipes.includes(u.recipeId);yield u.userService.updateFavoriteRecipes(u.recipeId,u.userData.uid,p),yield u.loadRecipeData()}}else console.error("Recipe data is missing.")})()}loadCommentsForRecipe(){var u=this;return(0,Ie.Z)(function*(){u.recipeId&&(u.comments=yield u.commentService.getCommentsForRecipe(u.recipeId))})()}static#e=this.\u0275fac=function(p){return new(p||d)(l.Y36(ae.gz),l.Y36(Le.j),l.Y36(tt.O),l.Y36(Ae.K),l.Y36(ae.F0))};static#t=this.\u0275cmp=l.Xpm({type:d,selectors:[["app-recipe"]],decls:33,vars:15,consts:[[1,"mainLong"],[1,"headerImage"],[1,"wrapper-list"],[1,"recipe-container"],[1,"title-wrapper"],[1,"title"],[1,"recipe-subtitle"],["class","recipe-summary",4,"ngIf"],[4,"ngIf"],[1,"recipe-hero"],["class","recipe-image",4,"ngIf"],["class","buttons",4,"ngIf"],[1,"divider"],[1,"recipe-description-text","description"],["class","divider",4,"ngIf"],["class","recipe-ingredients",4,"ngFor","ngForOf"],["class","recipe-videos",4,"ngIf"],["class","buttons buttons-img",4,"ngIf"],["class","comments",4,"ngIf"],[1,"recipe-summary"],[1,"recipe-image"],[4,"ngFor","ngForOf"],["alt","Image of a recipe",3,"src"],[1,"buttons"],["class","button",3,"click",4,"ngIf"],[1,"button",3,"click"],[4,"ngIf","ngIfElse"],["notLiked",""],[1,"fa-solid","fa-heart","fa-beat-fade"],[1,"fa-regular","fa-heart","fa-beat-fade"],[1,"recipe-ingredients"],[1,"recipe-videos"],["width","560","height","315","allowfullscreen","",3,"src"],[1,"buttons","buttons-img"],["class","button-img",3,"click",4,"ngIf"],[1,"button-img",3,"click"],[3,"recipeId"],[1,"comments"],[1,"comments-last"],[1,"commentBtnWrapper"],[3,"click",4,"ngIf"],[3,"click"],[1,"fa-solid","fa-trash","fa-shake"],[1,"fa-regular","fa-pen-to-square","fa-flip"]],template:function(p,v){1&p&&(l.TgZ(0,"div",0),l._UZ(1,"div",1),l.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),l._uU(6),l.qZA()(),l.TgZ(7,"h3",6),l._uU(8),l.qZA(),l.YNc(9,on,2,1,"div",7),l.YNc(10,wt,2,0,"div",8),l.TgZ(11,"div",9),l.YNc(12,lr,2,1,"ul",10),l.YNc(13,hr,4,3,"div",11),l.TgZ(14,"div",12),l._UZ(15,"hr"),l.TgZ(16,"p"),l._uU(17,"\xa0\xa0Preparation\xa0\xa0"),l.qZA(),l._UZ(18,"hr"),l.qZA(),l._UZ(19,"br"),l.TgZ(20,"p",13),l._uU(21),l.qZA(),l._UZ(22,"br"),l.YNc(23,bn,5,0,"div",14),l._UZ(24,"br"),l.YNc(25,zt,2,1,"ul",15),l.YNc(26,Hn,9,1,"div",16),l.YNc(27,Kt,5,0,"div",14),l._UZ(28,"br"),l.YNc(29,Un,5,4,"div",17),l.YNc(30,Jn,2,1,"div",8),l.YNc(31,Pn,5,0,"div",14),l.YNc(32,Tr,2,1,"section",18),l.qZA()()()()),2&p&&(l.xp6(6),l.Oqu(null==v.recipe?null:v.recipe.title),l.xp6(2),l.Oqu(null==v.recipe?null:v.recipe.subtitle),l.xp6(1),l.Q6J("ngIf",null==v.recipe?null:v.recipe.summary),l.xp6(1),l.Q6J("ngIf",!(null!=v.recipe&&v.recipe.summary)),l.xp6(2),l.Q6J("ngIf",(null==v.recipe?null:v.recipe.image_recipe)&&(null==v.recipe||null==v.recipe.image_recipe?null:v.recipe.image_recipe.length)>0),l.xp6(1),l.Q6J("ngIf",v.userData),l.xp6(8),l.hij(" ",null==v.recipe?null:v.recipe.description," "),l.xp6(2),l.Q6J("ngIf",null==v.recipe?null:v.recipe.ingredients),l.xp6(2),l.Q6J("ngForOf",null==v.recipe?null:v.recipe.ingredients),l.xp6(1),l.Q6J("ngIf",(null==v.recipe?null:v.recipe.video_recipe)&&(null==v.recipe||null==v.recipe.video_recipe?null:v.recipe.video_recipe.length)>0),l.xp6(1),l.Q6J("ngIf",v.userData),l.xp6(2),l.Q6J("ngIf",v.userData),l.xp6(1),l.Q6J("ngIf",v.showCommentForm),l.xp6(1),l.Q6J("ngIf",v.comments.length>0),l.xp6(1),l.Q6J("ngIf",v.comments.length>0))},dependencies:[ce.sg,ce.O5,un,ce.uU,pn.Q],styles:[".recipe-container[_ngcontent-%COMP%]{background-color:var(--backgroundColor);max-width:800px;margin:-50px auto 50px;padding:32px;box-shadow:0 1px 3px #0000004d}.title[_ngcontent-%COMP%]{font-size:28px}.recipe-subtitle[_ngcontent-%COMP%]{font-size:14px;margin-top:-10px;color:var(--mainGreyColor);font-style:italic;white-space:pre-wrap}.recipe-summary[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;text-align:center;font-style:italic;white-space:pre-wrap}.recipe-hero[_ngcontent-%COMP%]{grid-template-columns:70% 30%;gap:20px}ul.recipe-image[_ngcontent-%COMP%]{padding-left:unset}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;margin-bottom:10px}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:5px}.recipe-description-text[_ngcontent-%COMP%]{font-size:16px;white-space:pre-wrap}.recipe-ingredients[_ngcontent-%COMP%]{padding:0 16px}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;list-style-type:disc}.recipe-videos[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-top:20px}.recipe-videos[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;max-width:800px;height:450px}.buttons[_ngcontent-%COMP%]{padding:0 32px;display:flex;justify-content:space-between}.comments[_ngcontent-%COMP%]{border:1px solid var(--mainMagnoliaColor);margin:30px 0;padding:20px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:10px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px;padding-left:5px}.comments[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--mainGreyColor)}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(odd){background-color:var(--backgroundColor);padding-left:5px;border-radius:5px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(2n){background-color:var(--mainMagnoliaColor);font-style:italic;border-radius:5px}.commentBtnWrapper[_ngcontent-%COMP%]{display:flex;gap:10px}.comments-last[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.fa-solid.fa-trash.fa-shake[_ngcontent-%COMP%], .fa-regular.fa-pen-to-square.fa-flip[_ngcontent-%COMP%]{cursor:pointer;color:var(--mainRGBAColor);background-color:var(--backgroundColor);padding:8px 10px;border:3px solid var(--mainRGBAColor);border-radius:50%;transition:1s ease-in-out}.fa-solid.fa-trash.fa-shake[_ngcontent-%COMP%]:hover, .fa-regular.fa-pen-to-square.fa-flip[_ngcontent-%COMP%]:hover{color:var(--backgroundColor);background-color:var(--mainRGBAColor);padding:8px 10px;border:3px solid var(--mainRGBAColor);border-radius:50%}@media (max-width: 640px){.buttons-img[_ngcontent-%COMP%]{flex-direction:column-reverse}}"]})}return d})();function et(d,w){1&d&&(l.TgZ(0,"div")(1,"main",2),l._UZ(2,"div",3),l.TgZ(3,"div",4)(4,"div",5)(5,"div",6)(6,"h1",7),l._uU(7," We're sorry, but we couldn't find the result you're looking for! "),l.TgZ(8,"main",8),l.O4$(),l.TgZ(9,"svg",9),l._UZ(10,"rect",10),l.TgZ(11,"g",11)(12,"svg",12)(13,"g")(14,"svg",13)(15,"g",14)(16,"svg",15)(17,"g",16)(18,"svg",17)(19,"g")(20,"svg",15)(21,"g",18)(22,"svg",19),l._UZ(23,"path",20),l.qZA()()()()()()()(),l.TgZ(24,"g",21)(25,"svg",22)(26,"g"),l._UZ(27,"svg"),l.qZA(),l.TgZ(28,"g",23)(29,"svg",22)(30,"g"),l._UZ(31,"path",24)(32,"ellipse",25),l.qZA(),l.TgZ(33,"g",26)(34,"svg",27)(35,"g")(36,"svg",28),l._UZ(37,"path",29),l.qZA()()()()()()()(),l._UZ(38,"g"),l.qZA()(),l._UZ(39,"defs"),l.qZA(),l._UZ(40,"rect",30),l.qZA()()()()()()()()())}const Te=function(d){return["/recipe",d]};function qe(d,w){if(1&d&&(l.TgZ(0,"div")(1,"a",35)(2,"div",36)(3,"div",37),l._UZ(4,"img",38),l.qZA(),l.TgZ(5,"p",39),l._uU(6),l.qZA()()()()),2&d){const u=w.$implicit;l.xp6(1),l.Q6J("routerLink",l.VKq(4,Te,u.id)),l.xp6(3),l.s9C("alt",u.title),l.Q6J("src",u.image_recipe[0].image_recipe,l.LSH),l.xp6(2),l.Oqu(u.title)}}function bt(d,w){if(1&d&&(l.TgZ(0,"main",31),l._UZ(1,"div",3),l.TgZ(2,"div",32)(3,"div",6)(4,"h1",7),l._uU(5,"Result"),l.qZA()(),l.TgZ(6,"div",33),l.YNc(7,qe,7,6,"div",34),l.qZA()()()),2&d){const u=l.oxw();l.xp6(7),l.Q6J("ngForOf",u.recipes)}}const kn=[{path:"",pathMatch:"full",component:(()=>{class d{static#e=this.\u0275fac=function(p){return new(p||d)};static#t=this.\u0275cmp=l.Xpm({type:d,selectors:[["app-carousel"]],decls:24,vars:0,consts:[["id","carouselExampleAutoplaying","data-bs-ride","carousel",1,"carousel","slide"],[1,"overlay"],[1,"info"],[1,"carousel-title"],[1,"subtitle"],["routerLink","/recipes-list",1,"infoBtn"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","https://www.aveeno.com/sites/aveeno_us_2/files/healingherbswithmortaran_687349.jpg","alt","...",1,"carousel-img","d-block","w-100"],[1,"carousel-item"],["src","https://imgix-prod.sgs.com/-/media/sgscorp/images/connectivity-and-products/aromatics-pexels.cdn.en-MU.1.jpg","alt","...",1,"carousel-img","d-block","w-100"],["src","https://images.pexels.com/photos/1793035/pexels-photo-1793035.jpeg","alt","...",1,"carousel-img","d-block","w-100"],["type","button","data-bs-target","#carouselExampleAutoplaying","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleAutoplaying","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(p,v){1&p&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),l._uU(4,"Welcome to our Healing Herbal Recipe Community!"),l.qZA(),l.TgZ(5,"div",4),l._uU(6," Explore a wealth of new herbal recipes designed for healing right here. Upon registration, you'll gain access to not only adding your favorite healing recipes but also rating and commenting on the ones that resonate with you. Join us in nurturing wellness through the power of herbal remedies! "),l.qZA(),l.TgZ(7,"a",5),l._uU(8,"READ MORE"),l.qZA()()(),l.TgZ(9,"div",6)(10,"div",7),l._UZ(11,"img",8),l.qZA(),l.TgZ(12,"div",9),l._UZ(13,"img",10),l.qZA(),l.TgZ(14,"div",9),l._UZ(15,"img",11),l.qZA()(),l.TgZ(16,"button",12),l._UZ(17,"span",13),l.TgZ(18,"span",14),l._uU(19,"Previous"),l.qZA()(),l.TgZ(20,"button",15),l._UZ(21,"span",16),l.TgZ(22,"span",14),l._uU(23,"Next"),l.qZA()()())},dependencies:[ae.rH],styles:[".carousel[_ngcontent-%COMP%]{max-height:93vh;overflow:hidden}.carousel-img[_ngcontent-%COMP%]{height:100vh;object-fit:cover}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{z-index:9}.overlay[_ngcontent-%COMP%]{position:absolute;inset:0 50% 0 0;background-color:#a7575ee6;background-color:var(--mainRGBAColor);z-index:9}.info[_ngcontent-%COMP%]{position:absolute;left:47%;right:10%;top:40%;transform:translate(2%,-27%);color:var(--mainWhiteColor);text-align:left}.carousel-title[_ngcontent-%COMP%]{font-size:32px;padding-bottom:20px;font-weight:900;line-height:35px;color:var(--backgroundColor);text-align:left;box-shadow:unset}.subtitle[_ngcontent-%COMP%]{font-style:italic;color:var(--backgroundColor)}.infoBtn[_ngcontent-%COMP%]{background-color:var(--backgroundColor);color:var(--textColor);padding:13px 35px;font-size:14px;margin-top:40px;display:inline-block;font-weight:700;font-family:Roboto,sans-serif;border:1px solid transparent}.infoBtn[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:transparent;border:1px solid var(--backgroundColor);color:var(--mainWhiteColor)}@media (max-width: 460px){.overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#a7575e99;background-color:var(--mainRGBAColor);z-index:9}.info[_ngcontent-%COMP%]{position:absolute;left:10%;right:10%;top:30%;color:var(--mainWhiteColor);text-align:center}.infoBtn[_ngcontent-%COMP%]{margin-top:10px}.carousel-title[_ngcontent-%COMP%]{font-size:26px;padding-bottom:10px;font-weight:900;text-align:center}}@media (min-width: 461px) and (max-width: 767px){.overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#a7575e99;background-color:var(--mainRGBAColor);z-index:9}.info[_ngcontent-%COMP%]{position:absolute;left:10%;right:10%;top:30%;color:var(--mainWhiteColor);text-align:center}.infoBtn[_ngcontent-%COMP%]{margin-top:10px}.carousel-title[_ngcontent-%COMP%]{font-size:26px;padding-bottom:10px;font-weight:900}}@media (min-width: 768px) and (max-width: 1023px){.info[_ngcontent-%COMP%]{position:absolute;left:10%;right:10%;top:30%;color:var(--mainWhiteColor)}}"]})}return d})()},{path:"register",component:He},{path:"login",component:xn},{path:"recipes-list",component:Qe},{path:"recipe-search",component:(()=>{class d{constructor(u,p){this.recipeService=u,this.route=p,this.recipes=[],this.result=!1}ngOnInit(){this.route.queryParams.subscribe(u=>{const p=u.search;p&&this.getRecipes(p)})}getRecipes(u){var p=this;return(0,Ie.Z)(function*(){const{data:v}=yield p.recipeService.searchRecipesByTitle(u);console.log(v),v.length>0?(p.recipes.push(...v),p.result=!0):p.result=!1})()}static#e=this.\u0275fac=function(p){return new(p||d)(l.Y36(Wn.v),l.Y36(ae.gz))};static#t=this.\u0275cmp=l.Xpm({type:d,selectors:[["app-recipe-search"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["recipesList",""],[1,"main-short"],[1,"headerImage"],[1,"wrapper"],[2,"max-width","600px","margin","-50px auto 50px auto","padding","32px","background-color","var(--backgroundColor)","border-radius","unset","box-shadow","0 1px 3px 0 rgba(0, 0, 0, 0.3)","display","flex","flex-direction","column","align-items","center"],[1,"title-wrapper"],[1,"title"],[1,"logo-svg"],["viewBox","0 0 640 400","data-background-color","var(--mainWhiteColor)","preserveAspectRatio","xMidYMid meet","height","400","width","640","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink"],["width","640","height","400","x","0","y","0","opacity","1","fill","var(--mainRGBAColor)","data-fill-palette-color","background","id","background"],["id","tight-bounds","transform","matrix(1,0,0,1,168.6873741251188,76.4)"],["viewBox","0 0 302.6252517497624 247.2","height","247.2","width","302.6252517497624"],["viewBox","0 0 395.52 323.08124796157813","height","247.2","width","302.6252517497624"],["transform","matrix(1,0,0,1,0,240.1001478205344)"],["viewBox","0 0 395.52 82.98110014104373","height","82.98110014104373","width","395.52"],["id","textblocktransform"],["viewBox","0 0 395.52 82.98110014104373","height","82.98110014104373","width","395.52","id","textblock"],["transform","matrix(1,0,0,1,0,0)"],["width","395.52","viewBox","0.15000000596046448 -37.939998626708984 276.9100036621094 58.11000061035156","height","82.98110014104373","data-palette-color","var(--mainWhiteColor)"],["d","M8.3-27.15L0.15-26.51 0.93-29.05Q0.98-29.1 1.68-29.17 2.39-29.25 3.56-29.37 4.74-29.49 6.2-29.64 7.67-29.79 9.2-29.93 10.74-30.08 12.23-30.22 13.72-30.37 14.99-30.52L14.99-30.52Q14.99-30.52 15.43-30.52 15.87-30.52 16.41-30.52 16.94-30.52 17.43-30.52 17.92-30.52 18.07-30.52L18.07-30.52Q19.24-30.52 19.68-30.08 20.12-29.64 20.12-28.17L20.12-28.17 11.23-27.15Q11.13-24.07 11.33-20.7 11.52-17.33 11.82-13.89 12.11-10.45 12.38-7.08 12.65-3.71 12.65-0.63L12.65-0.63Q12.65-0.2 12.38-0.02 12.11 0.15 11.74 0.2 11.38 0.24 10.99 0.17 10.6 0.1 10.3 0L10.3 0Q10.16-0.63 10.01-2.2 9.86-3.76 9.72-5.86 9.57-7.96 9.42-10.4 9.28-12.84 9.13-15.28 8.98-17.72 8.84-19.95 8.69-22.17 8.59-23.85 8.5-25.54 8.42-26.46 8.35-27.39 8.3-27.15L8.3-27.15ZM20.07-33.74L21.68-33.5 22.95-17.48Q23.29-17.77 23.83-18.36 24.36-18.95 25.1-19.46 25.83-19.97 26.71-20.34 27.59-20.7 28.61-20.65L28.61-20.65Q30.61-20.46 31.81-19.04 33.01-17.63 33.62-15.58 34.23-13.53 34.42-11.11 34.62-8.69 34.54-6.49 34.47-4.3 34.3-2.59 34.13-0.88 34.03-0.24L34.03-0.24 32.27-0.49Q32.27-0.93 32.3-1.88 32.32-2.83 32.37-4.13 32.42-5.42 32.42-6.84 32.42-8.25 32.44-9.5 32.47-10.74 32.44-11.72 32.42-12.7 32.37-13.09L32.37-13.09Q32.42-14.45 31.83-15.72 31.25-16.99 30.27-17.65 29.29-18.31 27.93-18.09 26.56-17.87 25-16.16L25-16.16Q23.63-14.11 23-12.13 22.36-10.16 22.17-8.23 21.97-6.3 22.02-4.27 22.07-2.25 22.02 0L22.02 0 20.11-0.29Q20.26-0.83 20.33-2.27 20.41-3.71 20.46-5.74 20.51-7.76 20.53-10.25 20.55-12.74 20.53-15.41 20.51-18.07 20.46-20.75 20.41-23.44 20.33-25.88 20.26-28.32 20.19-30.37 20.11-32.42 20.07-33.74L20.07-33.74ZM36.86-11.47L36.86-11.47Q36.86-12.94 37.5-14.72 38.13-16.5 39.23-18.04 40.33-19.58 41.72-20.63 43.11-21.68 44.62-21.68L44.62-21.68Q45.45-21.68 46.26-21.34 47.07-21 47.82-20.43 48.58-19.87 49.19-19.17 49.8-18.46 50.14-17.68 50.48-16.89 50.51-16.16 50.53-15.43 50.09-14.89L50.09-14.89 39.79-12.99Q39.59-12.94 39.45-12.52 39.3-12.11 39.2-11.47 39.11-10.84 39.03-10.08 38.96-9.33 38.91-8.62 38.86-7.91 38.86-7.35 38.86-6.79 38.86-6.49L38.86-6.49Q38.86-5.13 39.52-4.27 40.18-3.42 41.21-2.98 42.23-2.54 43.53-2.39 44.82-2.25 46.09-2.25 47.36-2.25 48.48-2.34 49.6-2.44 50.34-2.44L50.34-2.44Q50.34-2.25 50.19-2 50.04-1.76 49.85-1.54 49.65-1.32 49.46-1.15 49.26-0.98 49.21-0.93L49.21-0.93Q48.82-0.83 48.02-0.66 47.21-0.49 46.31-0.34 45.41-0.2 44.62-0.1 43.84 0 43.55 0L43.55 0Q42.04 0.29 40.91-0.05 39.79-0.39 39.01-1.22 38.23-2.05 37.74-3.25 37.25-4.44 37.01-5.81 36.76-7.18 36.74-8.64 36.71-10.11 36.86-11.47ZM43.94-19.82L43.94-19.82Q43.5-19.82 42.79-19.36 42.08-18.9 41.47-18.19 40.86-17.48 40.45-16.67 40.03-15.87 40.18-15.28L40.18-15.28Q41.45-15.14 42.82-15.33 44.18-15.53 45.31-15.94 46.43-16.36 47.16-16.92 47.9-17.48 47.87-18.07 47.85-18.65 46.94-19.12 46.04-19.58 43.94-19.82ZM93.06 0L74.31-29.05Q74.31-28.91 74.28-28.42 74.26-27.93 74.26-27.42 74.26-26.9 74.26-26.44 74.26-25.98 74.26-25.83L74.26-25.83Q74.26-22.66 74.4-19.48 74.55-16.31 74.75-13.11 74.94-9.91 75.09-6.69 75.23-3.47 75.23-0.24L75.23-0.24 73.48-0.34Q73.43-1.27 73.31-2.93 73.18-4.59 73.01-6.76 72.84-8.94 72.65-11.43 72.45-13.92 72.23-16.48 72.01-19.04 71.87-21.53 71.72-24.02 71.6-26.15 71.47-28.27 71.43-29.91 71.38-31.54 71.43-32.42L71.43-32.42Q71.43-33.01 71.87-33.4 72.3-33.79 72.89-33.79L72.89-33.79Q73.48-33.79 74.23-33.52 74.99-33.25 75.23-32.81L75.23-32.81 92.81-4.44Q92.81-6.69 92.69-9.28 92.57-11.87 92.47-14.6 92.37-17.33 92.35-20.09 92.32-22.85 92.45-25.46 92.57-28.08 92.93-30.42 93.3-32.76 93.98-34.67L93.98-34.67Q94.67-34.91 95.06-34.94 95.45-34.96 95.64-34.91 95.84-34.86 95.86-34.67 95.89-34.47 95.89-34.28L95.89-34.28Q95.89-34.18 95.89-33.98 95.89-33.79 95.89-33.74L95.89-33.74Q95.79-33.45 95.67-32.67 95.55-31.88 95.35-30.35 95.16-28.81 95.01-26.37 94.86-23.93 94.72-20.31 94.57-16.7 94.5-11.72 94.42-6.74 94.47-0.1L94.47-0.1 93.06 0ZM97.74-4.2L97.74-4.2Q97.74-6.98 99.28-8.25 100.82-9.52 103.31-9.52L103.31-9.52Q104.28-9.52 105.14-9.47 105.99-9.42 106.77-9.23 107.56-9.03 108.31-8.64 109.07-8.25 109.9-7.52L109.9-7.52Q109.9-7.67 109.92-8.13 109.95-8.59 109.95-9.13 109.95-9.67 109.95-10.13 109.95-10.6 109.95-10.79L109.95-10.79Q109.9-11.67 109.9-13.06 109.9-14.45 109.68-15.92 109.46-17.38 108.8-18.7 108.14-20.02 106.68-20.7L106.68-20.7Q105.65-20.7 104.77-20.36 103.89-20.02 103.01-19.63 102.14-19.24 101.26-18.92 100.38-18.6 99.35-18.6L99.35-18.6Q99.35-19.82 100.11-20.63 100.87-21.44 101.94-21.88 103.01-22.31 104.19-22.46 105.36-22.61 106.24-22.61L106.24-22.61Q107.12-22.46 107.87-22.27 108.63-22.07 109.29-21.48 109.95-20.9 110.51-19.7 111.07-18.51 111.49-16.36 111.9-14.21 112.22-10.91 112.54-7.62 112.73-2.83L112.73-2.83Q112.83-2.2 112.32-1.73 111.8-1.27 110.93-0.95 110.05-0.63 108.95-0.42 107.85-0.2 106.73-0.1 105.6 0 104.58 0.05 103.55 0.1 102.87 0.1L102.87 0.1Q101.99 0.1 101.09-0.2 100.18-0.49 99.43-1.05 98.67-1.61 98.21-2.42 97.74-3.22 97.74-4.2ZM104.09-7.62L104.09-7.62Q101.65-6.93 100.67-5.98 99.69-5.03 99.82-4.15 99.94-3.27 100.96-2.56 101.99-1.86 103.45-1.64 104.92-1.42 106.63-1.88 108.34-2.34 109.9-3.71L109.9-3.71Q109.31-5.13 108.73-5.88 108.14-6.64 107.46-7.03 106.77-7.42 105.94-7.52 105.11-7.62 104.09-7.62ZM120.64-17.72L120.64-17.72Q120.2-17.87 119.44-17.85 118.69-17.82 117.83-17.75 116.98-17.68 116.2-17.58 115.41-17.48 114.88-17.48L114.88-17.48Q114.63-17.48 114.56-18.19 114.49-18.9 114.34-20.12L114.34-20.12 121.23-20.61Q121.37-22.31 121.42-23.05 121.47-23.78 121.44-24.29 121.42-24.8 121.4-25.46 121.37-26.12 121.37-27.54L121.37-27.54Q122.64-27.73 123.3-27.66 123.96-27.59 124.2-27.29 124.45-27 124.42-26.44 124.4-25.88 124.28-25.05 124.15-24.22 124.08-23.05 124.01-21.88 124.15-20.41L124.15-20.41 130.01-20.61 130.01-18.21Q129.62-18.21 128.79-18.16 127.96-18.12 127.01-18.07 126.06-18.02 125.25-17.97 124.45-17.92 124.06-17.77L124.06-17.77Q123.67-16.02 123.23-14.01 122.79-12.01 122.64-10.06 122.49-8.11 122.74-6.42 122.98-4.74 123.96-3.64 124.94-2.54 126.74-2.12 128.55-1.71 131.53-2.39L131.53-2.39Q131.43-1.66 130.97-1.2 130.5-0.73 129.89-0.46 129.28-0.2 128.6-0.07 127.91 0.05 127.38 0.05L127.38 0.05Q124.89 0.05 123.42-0.85 121.96-1.76 121.23-3.22 120.49-4.69 120.3-6.57 120.1-8.45 120.18-10.4 120.25-12.35 120.44-14.26 120.64-16.16 120.64-17.72ZM133.19-18.95L133.19-18.95Q133.19-19.19 133.5-19.43 133.82-19.68 134.28-19.82 134.75-19.97 135.19-20.02 135.63-20.07 135.82-19.87L135.82-19.87Q136.12-13.82 136.97-10.23 137.82-6.64 138.92-4.98 140.02-3.32 141.29-3.3 142.56-3.27 143.78-4.37 145-5.47 146.05-7.37 147.1-9.28 147.76-11.47 148.42-13.67 148.57-15.87 148.71-18.07 148.18-19.78L148.18-19.78 151.11-20.12Q151.15-19.38 151.37-17.7 151.59-16.02 151.86-13.89 152.13-11.77 152.47-9.47 152.81-7.18 153.06-5.2 153.3-3.22 153.5-1.83 153.69-0.44 153.69-0.1L153.69-0.1 151.59-0.1 149.3-8.54Q148.62-6.84 147.64-5.27 146.66-3.71 145.51-2.54 144.37-1.37 143.1-0.71 141.83-0.05 140.58-0.17 139.34-0.29 138.17-1.32 136.99-2.34 135.99-4.57 134.99-6.79 134.26-10.3 133.53-13.82 133.19-18.95ZM155.25-19.04L155.25-19.04Q155.84-19.29 156.28-19.14 156.72-18.99 157.01-18.6 157.3-18.21 157.45-17.7 157.6-17.19 157.69-16.7L157.69-16.7Q158.33-17.77 159.53-18.43 160.72-19.09 162.09-19.31 163.46-19.53 164.82-19.41 166.19-19.29 167.14-18.82 168.1-18.36 168.49-17.55 168.88-16.75 168.29-15.67L168.29-15.67Q167.02-16.41 165.63-16.85 164.24-17.29 162.92-17.14 161.6-16.99 160.48-16.14 159.36-15.28 158.62-13.43 157.89-11.57 157.72-8.52 157.55-5.47 158.13-0.93L158.13-0.93 156.28-0.93Q156.28-0.93 156.21-1.73 156.13-2.54 156.06-3.86 155.99-5.18 155.86-6.79 155.74-8.4 155.64-10.06 155.55-11.72 155.47-13.26 155.4-14.79 155.3-15.92L155.3-15.92Q155.3-16.06 155.28-16.5 155.25-16.94 155.25-17.46 155.25-17.97 155.25-18.41 155.25-18.85 155.25-19.04ZM170.49-4.2L170.49-4.2Q170.49-6.98 172.02-8.25 173.56-9.52 176.05-9.52L176.05-9.52Q177.03-9.52 177.88-9.47 178.74-9.42 179.52-9.23 180.3-9.03 181.06-8.64 181.81-8.25 182.64-7.52L182.64-7.52Q182.64-7.67 182.67-8.13 182.69-8.59 182.69-9.13 182.69-9.67 182.69-10.13 182.69-10.6 182.69-10.79L182.69-10.79Q182.64-11.67 182.64-13.06 182.64-14.45 182.42-15.92 182.2-17.38 181.54-18.7 180.89-20.02 179.42-20.7L179.42-20.7Q178.4-20.7 177.52-20.36 176.64-20.02 175.76-19.63 174.88-19.24 174-18.92 173.12-18.6 172.1-18.6L172.1-18.6Q172.1-19.82 172.85-20.63 173.61-21.44 174.68-21.88 175.76-22.31 176.93-22.46 178.1-22.61 178.98-22.61L178.98-22.61Q179.86-22.46 180.62-22.27 181.37-22.07 182.03-21.48 182.69-20.9 183.25-19.7 183.82-18.51 184.23-16.36 184.65-14.21 184.96-10.91 185.28-7.62 185.48-2.83L185.48-2.83Q185.57-2.2 185.06-1.73 184.55-1.27 183.67-0.95 182.79-0.63 181.69-0.42 180.59-0.2 179.47-0.1 178.35 0 177.32 0.05 176.3 0.1 175.61 0.1L175.61 0.1Q174.73 0.1 173.83-0.2 172.93-0.49 172.17-1.05 171.41-1.61 170.95-2.42 170.49-3.22 170.49-4.2ZM176.83-7.62L176.83-7.62Q174.39-6.93 173.42-5.98 172.44-5.03 172.56-4.15 172.68-3.27 173.71-2.56 174.73-1.86 176.2-1.64 177.66-1.42 179.37-1.88 181.08-2.34 182.64-3.71L182.64-3.71Q182.06-5.13 181.47-5.88 180.89-6.64 180.2-7.03 179.52-7.42 178.69-7.52 177.86-7.62 176.83-7.62ZM188.6-37.94L188.6-37.94Q189.28-37.84 189.79-37.57 190.31-37.3 190.6-36.62L190.6-36.62Q190.6-35.69 190.67-34.06 190.75-32.42 190.82-30.27 190.89-28.13 190.99-25.63 191.09-23.14 191.19-20.61 191.28-18.07 191.36-15.58 191.43-13.09 191.5-10.94 191.58-8.79 191.63-7.13 191.67-5.47 191.72-4.59L191.72-4.59Q191.72-4.49 191.7-4.25 191.67-4 191.65-3.66 191.63-3.32 191.6-3 191.58-2.69 191.58-2.54L191.58-2.54Q191.53-2.25 191.53-1.83 191.53-1.42 191.43-1.03 191.33-0.63 191.11-0.32 190.89 0 190.4 0.05L190.4 0.05 189.57-0.98Q189.53-1.03 189.45-2.81 189.38-4.59 189.26-7.45 189.14-10.3 189.04-13.89 188.94-17.48 188.82-21.14 188.7-24.8 188.6-28.17 188.5-31.54 188.45-33.98L188.45-33.98Q188.45-34.18 188.48-34.77 188.5-35.35 188.52-35.96 188.55-36.57 188.57-37.13 188.6-37.7 188.6-37.94ZM226.58-17.58L226.58-17.58Q226.43-17.04 226.12-15.87 225.8-14.7 225.39-13.23 224.97-11.77 224.51-10.16 224.04-8.54 223.6-7.08 223.16-5.62 222.82-4.47 222.48-3.32 222.33-2.83L222.33-2.83Q222.24-2.34 222.04-1.78 221.85-1.22 221.6-0.93 221.36-0.63 221.06-0.78 220.77-0.93 220.48-1.86L220.48-1.86 212.96-35.64Q213.1-35.64 213.45-35.72 213.79-35.79 213.93-35.79L213.93-35.79Q214.91-35.79 215.23-35.38 215.55-34.96 215.79-33.74L215.79-33.74 221.41-8.4 225.17-20.61Q225.36-21.19 225.73-21.39 226.09-21.58 226.58-21.58L226.58-21.58Q226.97-21.19 227.7-20.14 228.44-19.09 229.29-17.7 230.15-16.31 231.07-14.72 232-13.13 232.86-11.72 233.71-10.3 234.39-9.16 235.08-8.01 235.47-7.52L235.47-7.52Q235.61-7.28 235.98-6.86 236.35-6.45 236.79-6.01 237.23-5.57 237.67-5.18 238.1-4.79 238.3-4.69L238.3-4.69Q238.25-6.3 238.15-8.52 238.06-10.74 237.96-13.33 237.86-15.92 237.84-18.73 237.81-21.53 237.93-24.29 238.06-27.05 238.35-29.61 238.64-32.18 239.13-34.33L239.13-34.33Q239.23-34.67 239.4-34.84 239.57-35.01 239.79-35.06 240.01-35.11 240.38-35.08 240.74-35.06 241.18-35.06L241.18-35.06Q241.18-34.52 241.13-33.76 241.08-33.01 240.99-31.62 240.89-30.22 240.79-27.88 240.69-25.54 240.57-21.83 240.45-18.12 240.35-12.77 240.25-7.42 240.16 0L240.16 0Q238.06-1.66 236.25-3.71 234.44-5.76 232.83-8.08 231.22-10.4 229.68-12.82 228.14-15.23 226.58-17.58ZM243.18-4.2L243.18-4.2Q243.18-6.98 244.72-8.25 246.26-9.52 248.75-9.52L248.75-9.52Q249.72-9.52 250.58-9.47 251.43-9.42 252.21-9.23 252.99-9.03 253.75-8.64 254.51-8.25 255.34-7.52L255.34-7.52Q255.34-7.67 255.36-8.13 255.39-8.59 255.39-9.13 255.39-9.67 255.39-10.13 255.39-10.6 255.39-10.79L255.39-10.79Q255.34-11.67 255.34-13.06 255.34-14.45 255.12-15.92 254.9-17.38 254.24-18.7 253.58-20.02 252.12-20.7L252.12-20.7Q251.09-20.7 250.21-20.36 249.33-20.02 248.45-19.63 247.57-19.24 246.7-18.92 245.82-18.6 244.79-18.6L244.79-18.6Q244.79-19.82 245.55-20.63 246.31-21.44 247.38-21.88 248.45-22.31 249.63-22.46 250.8-22.61 251.68-22.61L251.68-22.61Q252.56-22.46 253.31-22.27 254.07-22.07 254.73-21.48 255.39-20.9 255.95-19.7 256.51-18.51 256.93-16.36 257.34-14.21 257.66-10.91 257.98-7.62 258.17-2.83L258.17-2.83Q258.27-2.2 257.76-1.73 257.24-1.27 256.36-0.95 255.49-0.63 254.39-0.42 253.29-0.2 252.16-0.1 251.04 0 250.02 0.05 248.99 0.1 248.31 0.1L248.31 0.1Q247.43 0.1 246.53-0.2 245.62-0.49 244.86-1.05 244.11-1.61 243.64-2.42 243.18-3.22 243.18-4.2ZM249.53-7.62L249.53-7.62Q247.09-6.93 246.11-5.98 245.13-5.03 245.26-4.15 245.38-3.27 246.4-2.56 247.43-1.86 248.89-1.64 250.36-1.42 252.07-1.88 253.78-2.34 255.34-3.71L255.34-3.71Q254.75-5.13 254.17-5.88 253.58-6.64 252.9-7.03 252.21-7.42 251.38-7.52 250.55-7.62 249.53-7.62ZM271.79 20.17L269.59 20.02Q269.59 17.58 270.03 14.99 270.47 12.4 270.94 9.81 271.4 7.23 271.72 4.64 272.04 2.05 271.79-0.44L271.79-0.44 259.63-21.04Q260.71-22.02 261.34-22.14 261.98-22.27 262.07-22.17L262.07-22.17Q262.42-21.68 263.22-20.36 264.03-19.04 265.08-17.29 266.13-15.53 267.3-13.57 268.47-11.62 269.52-9.86 270.57-8.11 271.33-6.74 272.08-5.37 272.38-4.83L272.38-4.83 274.62-22.95 277.06-21.73 271.79 20.17Z","opacity","1","transform","matrix(1,0,0,1,0,0)","fill","var(--mainWhiteColor)","data-fill-palette-color","primary","id","text-0",1,"wordmark-text-0"],["transform","matrix(1,0,0,1,97.29977228662983,0)"],["viewBox","0 0 200.92045542674032 200.92045542674032","height","200.92045542674032","width","200.92045542674032"],["id","icon-0"],["d","M0 100.46c0-55.483 44.978-100.46 100.46-100.46 55.483 0 100.46 44.978 100.46 100.46 0 55.483-44.978 100.46-100.46 100.46-55.483 0-100.46-44.978-100.46-100.46zM100.46 193.437c51.35 0 92.977-41.627 92.977-92.977 0-51.35-41.627-92.977-92.977-92.977-51.35 0-92.977 41.627-92.977 92.977 0 51.35 41.627 92.977 92.977 92.977z","data-fill-palette-color","accent","fill","var(--mainWhiteColor)","stroke","transparent"],["rx","99.45562543623646","ry","99.45562543623646","cx","100.46022771337016","cy","100.46022771337016","fill","var(--mainWhiteColor)","stroke","transparent","stroke-width","0","fill-opacity","1","data-fill-palette-color","accent"],["transform","matrix(1,0,0,1,43.57436241056036,43.35758026693677)"],["viewBox","0 0 113.7717306056196 114.20529489286677","height","114.20529489286677","width","113.7717306056196"],["xmlns","http://www.w3.org/2000/svg","data-name","Layer 1","viewBox","1.190000057220459 1.002901315689087 97.62506866455078 97.99710083007812","x","0","y","0","height","114.20529489286677","width","113.7717306056196","data-fill-palette-color","quaternary","id","b-0",1,"icon-b-0"],["d","M79.28 26.63a0.3 0.3 0 0 0 0-0.07 0.28 0.28 0 0 0-0.48-0.19l-7 7a20.24 20.24 0 0 0-6 13v1.87a37.5 37.5 0 0 1 1.67 5.15H54.79a32.9 32.9 0 0 0-5.43-15.13 26.9 26.9 0 0 1-7.74 5.77 22.2 22.2 0 0 1-6.34 2.06c-9.9 1.51-22.3-5-28.35-41.61a1.86 1.86 0 0 1 1.55-2.05c47.44-6.69 50.2 11.7 47.85 22.85a51.5 51.5 0 0 0-19.69-6.14h-0.11a0.43 0.43 0 0 0-0.18 0.76l11.58 8.5 5.84 4.31a37.3 37.3 0 0 1 6.08 5.85 24.8 24.8 0 0 1 5-6.15 17.7 17.7 0 0 1-2.54-5 14.8 14.8 0 0 1-0.65-4.41c0-6.65 5.53-14.14 30.18-14.44a1.23 1.23 0 0 1 1.24 1.23c-0.38 31.82-12.74 31.78-19.82 29.12a34.2 34.2 0 0 0 6.02-12.28M28.65 93h34.63a16.16 16.16 0 0 0 12.18-5.54l21.68-24.79a6.79 6.79 0 0 0-0.79-9.7 6.55 6.55 0 0 0-4.2-1.49 7.24 7.24 0 0 0-5.38 2.43l-10.2 11.35v0.16a11.85 11.85 0 0 1-11.89 11.26H52.21a2.54 2.54 0 1 1 0-5.08h12.47a6.72 6.72 0 0 0 6.81-6.34A6.54 6.54 0 0 0 65 58.52H44.19l-3.37-1.18a23.42 23.42 0 0 0-24.26 5.49L1.19 78.1 22.64 99Z","fill","var(--textColor)","data-fill-palette-color","quaternary"],["width","302.6252517497624","height","247.2","fill","none","stroke","none","visibility","hidden"],[1,"main-long"],[1,"wrapper-list"],[1,"recipe-list"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"recipe-item"],[1,"recipe-image"],[3,"src","alt"],[1,"recipe-title"]],template:function(p,v){if(1&p&&(l.YNc(0,et,41,0,"div",0),l.YNc(1,bt,8,1,"ng-template",null,1,l.W1O)),2&p){const V=l.MAs(2);l.Q6J("ngIf",!v.result)("ngIfElse",V)}},dependencies:[ce.sg,ce.O5,ae.rH],styles:[".wrapper-list[_ngcontent-%COMP%]{margin:-50px auto 50px;max-width:1200px;background-color:var(--backgroundColor);box-shadow:0 1px 3px #0000004d;padding:32px}.title-wrapper[_ngcontent-%COMP%]{margin-left:10px}.recipe-list[_ngcontent-%COMP%]{position:relative;display:grid;grid-template-columns:repeat(4,1fr);row-gap:20px;margin-bottom:100px}.recipe-item[_ngcontent-%COMP%]{margin:5px;position:relative}.recipe-image[_ngcontent-%COMP%]{padding:5px;position:relative;transition:transform 1s ease-in-out}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;width:100%;object-fit:fill}.recipe-item[_ngcontent-%COMP%]:hover   .recipe-image[_ngcontent-%COMP%]{transform:translateY(12%)}@media only screen and (max-width: 460px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 20px 50px;padding:16px}.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 461px) and (max-width: 767px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 768px) and (max-width: 1023px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);column-gap:10px;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}@media (min-width: 1024px) and (max-width: 1440px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);column-gap:10px;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}"]})}return d})()},{path:"recipe/:id",component:ni},{path:"private",loadChildren:()=>Q.e(155).then(Q.bind(Q,3155)).then(d=>d.PrivateModule),canActivate:[(d,w)=>{const u=(0,l.f3M)(Ae.K),p=(0,l.f3M)(ae.F0);return u.userData$.pipe((0,ye.w)(v=>(0,de.of)(!!v&&v.isActive)),(0,ue.U)(v=>!!v||(alert("Not authorized"),console.log("Not authorized"),p.createUrlTree(["/login"],{queryParams:{returnUrl:w.url}}))))}]}];let K=(()=>{class d{static#e=this.\u0275fac=function(p){return new(p||d)};static#t=this.\u0275mod=l.oAB({type:d});static#n=this.\u0275inj=l.cJS({imports:[ae.Bz.forRoot(kn,{useHash:!0}),ae.Bz]})}return d})(),L=(()=>{class d{static#e=this.\u0275fac=function(p){return new(p||d)};static#t=this.\u0275cmp=l.Xpm({type:d,selectors:[["app-footer"]],decls:25,vars:0,consts:[[1,"footer"],[1,"footer-links"],["href","/about"],["href","/contact"],["href","/terms"],["href","/privacy"],[1,"social-icons"],["href","https://www.facebook.com"],[1,"fa-brands","fa-facebook","fa-flip"],["href","https://www.twitter.com"],[1,"fa-brands","fa-x-twitter","fa-flip"],["href","https://www.instagram.com"],[1,"fa-brands","fa-instagram","fa-flip"],[1,"copyright"],[1,"projectInfo"]],template:function(p,v){1&p&&(l.TgZ(0,"footer",0)(1,"div",1)(2,"a",2),l._uU(3,"About Us"),l.qZA(),l._uU(4," | "),l.TgZ(5,"a",3),l._uU(6,"Contact Us"),l.qZA(),l._uU(7," | "),l.TgZ(8,"a",4),l._uU(9,"Terms of Service"),l.qZA(),l._uU(10," | "),l.TgZ(11,"a",5),l._uU(12,"Privacy Policy"),l.qZA()(),l.TgZ(13,"div",6)(14,"a",7),l._UZ(15,"i",8),l.qZA(),l.TgZ(16,"a",9),l._UZ(17,"i",10),l.qZA(),l.TgZ(18,"a",11),l._UZ(19,"i",12),l.qZA()(),l.TgZ(20,"div",13)(21,"div",14),l._uU(22," This project was developed to meet the requirements of the Angular Project Assignment within the 'Angular - February 2024' course at SoftUni. "),l.qZA(),l.TgZ(23,"span"),l._uU(24," \xa9 2024 The Natural Way. All Rights Reserved. "),l.qZA()()())},styles:[".footer[_ngcontent-%COMP%]{background-color:var(--aliceBlueColor);padding:20px;color:#333;font-size:14px;text-align:center}.footer-links[_ngcontent-%COMP%]{padding:20px 0}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#666;text-decoration:none;margin:0 10px}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--mainBlackColor)}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#666;text-decoration:none;margin:0 10px}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#3b5998}.copyright[_ngcontent-%COMP%]{margin-top:20px;font-size:12px;color:#999}.projectInfo[_ngcontent-%COMP%]{margin-bottom:10px}"]})}return d})();var H=Q(5619);function W(d,w){1&d&&(l.TgZ(0,"li",19)(1,"a",20),l._UZ(2,"i",27),l.qZA(),l.TgZ(3,"ul",28)(4,"li")(5,"a",29),l._uU(6,"Register"),l.qZA()(),l.TgZ(7,"li")(8,"a",30),l._uU(9,"Login"),l.qZA()(),l.TgZ(10,"li"),l._UZ(11,"hr",31),l.qZA(),l.TgZ(12,"li")(13,"a",32),l._uU(14,"Something else here"),l.qZA()()()())}function j(d,w){if(1&d){const u=l.EpF();l.TgZ(0,"li",19)(1,"a",20)(2,"span"),l._uU(3),l.qZA()(),l.TgZ(4,"ul",28)(5,"li")(6,"a",33),l._uU(7,"My recipes"),l.qZA()(),l.TgZ(8,"li")(9,"a",34),l._uU(10,"Create recipe"),l.qZA()(),l.TgZ(11,"li")(12,"a",35),l._uU(13,"Favorite recipes"),l.qZA()(),l.TgZ(14,"li")(15,"a",36),l._uU(16,"My comments"),l.qZA()(),l.TgZ(17,"li")(18,"a",37),l._uU(19,"Profile"),l.qZA()(),l.TgZ(20,"li")(21,"a",38),l.NdJ("click",function(){l.CHM(u);const v=l.oxw();return l.KtG(v.logout())}),l._uU(22,"Logout"),l.qZA()()()()}if(2&d){const u=l.oxw();l.xp6(3),l.Oqu(u.getUserDisplayName())}}function _e(d,w){1&d&&(l.TgZ(0,"div",40),l._uU(1," What are you searching for? "),l.qZA())}function ze(d,w){1&d&&(l.TgZ(0,"div",40),l._uU(1," Min length is a 3 char! "),l.qZA())}function It(d,w){if(1&d&&(l.TgZ(0,"div"),l.YNc(1,_e,2,0,"div",39),l.YNc(2,ze,2,0,"div",39),l.qZA()),2&d){const u=l.oxw();let p,v;l.xp6(1),l.Q6J("ngIf",null==(p=u.searchForm.get("search"))||null==p.errors?null:p.errors.required),l.xp6(1),l.Q6J("ngIf",null==(v=u.searchForm.get("search"))||null==v.errors?null:v.errors.minlength)}}let en=(()=>{class d{constructor(u,p,v,V){this.userService=u,this.router=p,this.fb=v,this.elementRef=V,this.searchForm=this.fb.group({search:[""]}),this.isMenuOpen=!1,this.userDataSubject=new H.X(null),this.userDataSubscription=this.userDataSubject.subscribe(Z=>{this.userData=Z,console.log(this.userData)})}ngOnInit(){this.userService.userData$.subscribe({next:u=>{u?(this.userDataSubject.next(u),console.log("You have a user:",u)):(this.userDataSubject.next(null),console.log("You have no user."))},error:u=>{console.log(u)}}),this.router.events.subscribe(u=>{if(u instanceof ae.m2){const p=this.elementRef.nativeElement.querySelector("#navbarScroll");p&&p.classList.remove("show")}})}onSubmit(){var u=this;return(0,Ie.Z)(function*(){if(u.searchForm.valid){let p=u.searchForm.value;p&&p.search?(yield u.router.navigate(["/recipe-search"],{queryParams:{search:p.search.trim()}}),u.searchForm.reset()):console.error("Query search value is null or undefined.")}else alert("Try again!")})()}ngOnDestroy(){this.userDataSubscription.unsubscribe()}logout(){var u=this;return(0,Ie.Z)(function*(){yield u.userService.logoutUser()})()}getUserDisplayName(){return this.userData?this.userData.lastName:"Anonymous"}static#e=this.\u0275fac=function(p){return new(p||d)(l.Y36(Ae.K),l.Y36(ae.F0),l.Y36(ne.qu),l.Y36(l.SBq))};static#t=this.\u0275cmp=l.Xpm({type:d,selectors:[["app-header"]],decls:34,vars:4,consts:[[1,"navbar","navbar-dark","navbar-expand-lg"],[1,"container-fluid"],[1,"header-wrapper"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarScroll","aria-controls","navbarScroll","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","hamburger"],[1,"fa-solid","fa-bars","fa-beat-fade"],["href","#",1,"navbar-brand"],["viewBox","0 0 200.92045542674032 200.92045542674032","height","50","width","50",1,"svg-logo"],["d","M0 100.46c0-55.483 44.978-100.46 100.46-100.46 55.483 0 100.46 44.978 100.46 100.46 0 55.483-44.978 100.46-100.46 100.46-55.483 0-100.46-44.978-100.46-100.46zM100.46 193.437c51.35 0 92.977-41.627 92.977-92.977 0-51.35-41.627-92.977-92.977-92.977-51.35 0-92.977 41.627-92.977 92.977 0 51.35 41.627 92.977 92.977 92.977z","data-fill-palette-color","accent","fill","var(--aliceBlueColor)","stroke","transparent"],["rx","99.45562543623646","ry","99.45562543623646","cx","100.46022771337016","cy","100.46022771337016","fill","var(--mainRGBAColor)","stroke","transparent","stroke-width","0","fill-opacity","1","data-fill-palette-color","accent"],["transform","matrix(1,0,0,1,43.57436241056036,43.35758026693677)"],["viewBox","0 0 113.7717306056196 114.20529489286677","height","114.20529489286677","width","113.7717306056196"],["xmlns","http://www.w3.org/2000/svg","data-name","Layer 1","viewBox","1.190000057220459 1.002901315689087 97.62506866455078 97.99710083007812","x","0","y","0","height","114.20529489286677","width","113.7717306056196","data-fill-palette-color","quaternary","id","b-0",1,"icon-b-0"],["d","M79.28 26.63a0.3 0.3 0 0 0 0-0.07 0.28 0.28 0 0 0-0.48-0.19l-7 7a20.24 20.24 0 0 0-6 13v1.87a37.5 37.5 0 0 1 1.67 5.15H54.79a32.9 32.9 0 0 0-5.43-15.13 26.9 26.9 0 0 1-7.74 5.77 22.2 22.2 0 0 1-6.34 2.06c-9.9 1.51-22.3-5-28.35-41.61a1.86 1.86 0 0 1 1.55-2.05c47.44-6.69 50.2 11.7 47.85 22.85a51.5 51.5 0 0 0-19.69-6.14h-0.11a0.43 0.43 0 0 0-0.18 0.76l11.58 8.5 5.84 4.31a37.3 37.3 0 0 1 6.08 5.85 24.8 24.8 0 0 1 5-6.15 17.7 17.7 0 0 1-2.54-5 14.8 14.8 0 0 1-0.65-4.41c0-6.65 5.53-14.14 30.18-14.44a1.23 1.23 0 0 1 1.24 1.23c-0.38 31.82-12.74 31.78-19.82 29.12a34.2 34.2 0 0 0 6.02-12.28M28.65 93h34.63a16.16 16.16 0 0 0 12.18-5.54l21.68-24.79a6.79 6.79 0 0 0-0.79-9.7 6.55 6.55 0 0 0-4.2-1.49 7.24 7.24 0 0 0-5.38 2.43l-10.2 11.35v0.16a11.85 11.85 0 0 1-11.89 11.26H52.21a2.54 2.54 0 1 1 0-5.08h12.47a6.72 6.72 0 0 0 6.81-6.34A6.54 6.54 0 0 0 65 58.52H44.19l-3.37-1.18a23.42 23.42 0 0 0-24.26 5.49L1.19 78.1 22.64 99Z","fill","var(--aliceBlueColor)","data-fill-palette-color","quaternary"],[1,"logoText"],["id","navbarScroll",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","my-2","my-lg-0","navbar-nav-scroll"],[1,"nav-item"],["routerLink","/recipes-list","href","#","role","button","aria-expanded","false",1,"nav-btn","nav-link","button"],["class","nav-item dropdown",4,"ngIf"],[1,"nav-item","dropdown"],["href","#","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-btn","nav-link","dropdown-toggle","button"],[1,"fa-solid","fa-magnifying-glass"],[1,"dropdown-menu","search"],["role","search",1,"d-flex","w-100",3,"formGroup","ngSubmit"],["type","search","aria-label","Search","formControlName","search","required","","minlength","3",1,"form-control","me-2"],[4,"ngIf"],["type","submit",1,"search","button"],[1,"fa-solid","fa-user"],[1,"dropdown-menu"],["routerLink","/register",1,"dropdown-item"],["routerLink","/login",1,"dropdown-item"],[1,"dropdown-divider"],["href","#",1,"dropdown-item"],["routerLink","/dashboard/user-recipes","href","#",1,"dropdown-item"],["routerLink","/dashboard/recipe-create",1,"dropdown-item"],["routerLink","/dashboard/user-favorite-recipes","href","#",1,"dropdown-item"],["routerLink","/dashboard/user-comments","href","#",1,"dropdown-item"],["routerLink","/dashboard/user-info",1,"dropdown-item"],[1,"dropdown-item",3,"click"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(p,v){if(1&p&&(l.TgZ(0,"nav",0)(1,"div",1)(2,"div",2)(3,"button",3)(4,"span"),l._UZ(5,"i",4),l.qZA()(),l.TgZ(6,"a",5),l.O4$(),l.TgZ(7,"svg",6)(8,"g"),l._UZ(9,"path",7)(10,"ellipse",8),l.qZA(),l.TgZ(11,"g",9)(12,"svg",10)(13,"g")(14,"svg",11),l._UZ(15,"path",12),l.qZA()()()()(),l.kcU(),l.TgZ(16,"span",13),l._uU(17," The Natural Way "),l.qZA()()(),l.TgZ(18,"div",14)(19,"ul",15)(20,"li",16)(21,"a",17),l._uU(22," Recipes "),l.qZA()(),l.YNc(23,W,15,0,"li",18),l.YNc(24,j,23,1,"li",18),l.TgZ(25,"li",19)(26,"a",20),l._UZ(27,"i",21),l.qZA(),l.TgZ(28,"ul",22)(29,"form",23),l.NdJ("ngSubmit",function(){return v.onSubmit()}),l._UZ(30,"input",24),l.YNc(31,It,3,2,"div",25),l.TgZ(32,"button",26),l._uU(33,"Search"),l.qZA()()()()()()()()),2&p){let V;l.xp6(23),l.Q6J("ngIf",!v.userData),l.xp6(1),l.Q6J("ngIf",v.userData),l.xp6(5),l.Q6J("formGroup",v.searchForm),l.xp6(2),l.Q6J("ngIf",null==(V=v.searchForm.get("search"))?null:V.touched)}},dependencies:[ce.O5,ae.rH,ne._Y,ne.Fj,ne.JJ,ne.JL,ne.Q7,ne.wO,ne.sg,ne.u],styles:["nav.navbar[_ngcontent-%COMP%]{min-height:7vh;background-color:var(--aliceBlueColor);box-shadow:1px 5px 15px 0 var(--mainRGBAColor)}.container-fluid[_ngcontent-%COMP%]{max-width:1024px}a.navbar-brand[_ngcontent-%COMP%]{display:flex;gap:10px;font-family:Caveat,cursive;font-weight:400;font-size:32px;color:var(--textColor)}.header-wrapper[_ngcontent-%COMP%]{display:flex;gap:20px;align-items:center}.hamburger[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding:4px 2px}.hamburger[_ngcontent-%COMP%]:hover{transform:rotate(180deg);transition:.5s ease-in-out;box-shadow:1px 1px 15px 0 var(--textColor)}button.navbar-toggler[_ngcontent-%COMP%]{background-color:var(--textColor);border:1px solid var(--backgroundColor)}ul.navbar-nav[_ngcontent-%COMP%]{position:relative;display:flex;gap:18px;width:100%;justify-content:flex-end}.navigation[_ngcontent-%COMP%]{color:var(--textColor)}ul.navbar-nav[_ngcontent-%COMP%]   ul.dropdown-menu[_ngcontent-%COMP%]{background-color:var(--backgroundColor);margin-top:18px}a.dropdown-item[_ngcontent-%COMP%]{color:var(--textColor)}.dropdown-item.active[_ngcontent-%COMP%], .dropdown-item[_ngcontent-%COMP%]:hover, .dropdown-item[_ngcontent-%COMP%]:focus{background-color:var(--textColor);color:var(--backgroundColor)}form[_ngcontent-%COMP%]{max-width:unset}.form-control[_ngcontent-%COMP%]{border:1px solid var(--textColor);border-radius:8px;background-color:var(--backgroundColor)}.form-control[_ngcontent-%COMP%]:focus{box-shadow:unset;background-color:var(--mainMagnoliaColor)}@media (max-width: 991px){.container-fluid[_ngcontent-%COMP%]{justify-content:space-evenly}.svg-logo[_ngcontent-%COMP%]{display:none}.navbar-nav.me-auto.my-2.my-lg-0.navbar-nav-scroll[_ngcontent-%COMP%]{background-color:var(--backgroundColor);padding:20px;border-radius:8px}.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu.search[_ngcontent-%COMP%]{border:unset;width:100%}form.d-flex[_ngcontent-%COMP%]{flex-direction:column;gap:15px}}@media (min-width: 992px) and (max-width: 1440px){.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu.search[_ngcontent-%COMP%]{left:unset;right:0;width:900px;padding:10px;margin-top:30px;border:unset}form[_ngcontent-%COMP%]{max-width:unset}.container-fluid[_ngcontent-%COMP%]{max-width:1200px;padding:0 3%;color:var(--textColor)}}@media (min-width: 1441px){.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu.search[_ngcontent-%COMP%]{left:unset;right:0;width:1000px;padding:10px;margin-top:30px;border:unset}form[_ngcontent-%COMP%]{max-width:unset}.container-fluid[_ngcontent-%COMP%]{padding:unset;max-width:1200px;color:var(--textColor)}}"]})}return d})();function sn(d,w){if(1&d){const u=l.EpF();l.TgZ(0,"div",1)(1,"button",2),l.NdJ("click",function(){l.CHM(u);const v=l.oxw();return l.KtG(v.scrollToTop())}),l._UZ(2,"i",3),l.qZA(),l.TgZ(3,"a",4)(4,"div",5)(5,"span",6),l.O4$(),l.TgZ(6,"svg",7),l._UZ(7,"path",8),l.qZA()(),l.kcU(),l.TgZ(8,"span",6),l.O4$(),l.TgZ(9,"svg",9),l._UZ(10,"path",8),l.qZA()()()()()}}let Tn=(()=>{class d{constructor(){this.showScrollButton=!1}onWindowScroll(){this.showScrollButton=window.pageYOffset>300}scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}static#e=this.\u0275fac=function(p){return new(p||d)};static#t=this.\u0275cmp=l.Xpm({type:d,selectors:[["app-scroll-to-top"]],hostBindings:function(p,v){1&p&&l.NdJ("scroll",function(){return v.onWindowScroll()},!1,l.Jf7)},decls:1,vars:1,consts:[["class","buttons",4,"ngIf"],[1,"buttons"],[1,"to-top",3,"click"],[1,"fa-solid","fa-chevron-up","fa-beat-fade"],["href","javascript:history.back()",1,"back-button"],[1,"button-box"],[1,"button-elem"],["viewBox","0 0 46 40","xmlns","http://www.w3.org/2000/svg"],["d","M46 20.038c0-.7-.3-1.5-.8-2.1l-16-17c-1.1-1-3.2-1.4-4.4-.3-1.2 1.1-1.2 3.3 0 4.4l11.3 11.9H3c-1.7 0-3 1.3-3 3s1.3 3 3 3h33.1l-11.3 11.9c-1 1-1.2 3.3 0 4.4 1.2 1.1 3.3.8 4.4-.3l16-17c.5-.5.8-1.1.8-1.9z"],["viewBox","0 0 46 40"]],template:function(p,v){1&p&&l.YNc(0,sn,11,0,"div",0),2&p&&l.Q6J("ngIf",v.showScrollButton)},dependencies:[ce.O5],styles:[".buttons[_ngcontent-%COMP%]{display:flex;gap:10px;position:fixed;bottom:120px;right:10px;flex-direction:column;align-items:center;z-index:10}.to-top[_ngcontent-%COMP%]{background-color:var(--mainRGBAColor);color:var(--backgroundColor);border:3px solid var(--backgroundColor);border-radius:50%;width:60px;height:60px;font-size:16px;cursor:pointer;transition:background-color .3s ease}button[_ngcontent-%COMP%]:hover{color:var(--textColor);background-color:var(--backgroundColor);box-shadow:0 0 15px 0 var(--textColor)}button[_ngcontent-%COMP%]:focus{outline:none}button.ng-hidden[_ngcontent-%COMP%]{display:none}"]})}return d})(),$t=(()=>{class d{constructor(){this.title="The-Natural-Way"}static#e=this.\u0275fac=function(p){return new(p||d)};static#t=this.\u0275cmp=l.Xpm({type:d,selectors:[["app-root"]],decls:4,vars:0,template:function(p,v){1&p&&l._UZ(0,"app-header")(1,"app-scroll-to-top")(2,"router-outlet")(3,"app-footer")},dependencies:[ae.lC,L,en,Tn]})}return d})();var Nn=Q(9286),Mr=Q(8726);let ra=(()=>{class d{}return d.\u0275fac=function(u){return new(u||d)},d.\u0275mod=l.oAB({type:d}),d.\u0275inj=l.cJS({imports:[[]]}),d})();var po=Q(5592),Ta=Q(6232),$n=Q(8645),Ji=Q(4829),Ri=Q(1631),Hi=Q(4266),Vn=Q(4674),To=Q(7400);const Go=["addListener","removeListener"],fs=["addEventListener","removeEventListener"],ia=["on","off"];function Nr(d,w,u,p){if((0,Vn.m)(u)&&(p=u,u=void 0),p)return Nr(d,w,u).pipe((0,To.Z)(p));const[v,V]=function Ci(d){return(0,Vn.m)(d.addEventListener)&&(0,Vn.m)(d.removeEventListener)}(d)?fs.map(Z=>ve=>d[Z](w,ve,u)):function Zr(d){return(0,Vn.m)(d.addListener)&&(0,Vn.m)(d.removeListener)}(d)?Go.map(go(d,w)):function Eo(d){return(0,Vn.m)(d.on)&&(0,Vn.m)(d.off)}(d)?ia.map(go(d,w)):[];if(!v&&(0,Hi.z)(d))return(0,Ri.z)(Z=>Nr(Z,w,u))((0,Ji.Xf)(d));if(!v)throw new TypeError("Invalid event target");return new po.y(Z=>{const ve=(...Se)=>Z.next(1<Se.length?Se:Se[0]);return v(ve),()=>V(ve)})}function go(d,w){return u=>p=>d[u](w,p)}var Ea=Q(6321),Gi=Q(671);const{isArray:Da}=Array;function Xi(d){return 1===d.length&&Da(d[0])?d[0]:d}var Do=Q(8251);Q(3019);var to=Q(9940);function Pi(...d){const w=(0,to.jO)(d),u=Xi(d);return u.length?new po.y(p=>{let v=u.map(()=>[]),V=u.map(()=>!1);p.add(()=>{v=V=null});for(let Z=0;!p.closed&&Z<u.length;Z++)(0,Ji.Xf)(u[Z]).subscribe((0,Do.x)(p,ve=>{if(v[Z].push(ve),v.every(Se=>Se.length)){const Se=v.map(We=>We.shift());p.next(w?w(...Se):Se),v.some((We,Ze)=>!We.length&&V[Ze])&&p.complete()}},()=>{V[Z]=!0,!v[Z].length&&p.complete()}));return()=>{v=V=null}}):Ta.E}var mo=Q(5211),Zn=Q(9773),Co=Q(2181),xr=Q(8180),Ic=Q(9397),oa=Q(9360),Ka=Q(2737),ps=Q(2420);function ks(...d){const w=(0,to.jO)(d);return(0,oa.e)((u,p)=>{const v=d.length,V=new Array(v);let Z=d.map(()=>!1),ve=!1;for(let Se=0;Se<v;Se++)(0,Ji.Xf)(d[Se]).subscribe((0,Do.x)(p,We=>{V[Se]=We,!ve&&!Z[Se]&&(Z[Se]=!0,(ve=Z.every(Ka.y))&&(Z=null))},ps.Z));u.subscribe((0,Do.x)(p,Se=>{if(ve){const We=[Se,...V];p.next(w?w(...We):We)}}))})}Q(975),Q(7921),Q(3997),Math,Math,Math;const Fu=["*"],Vd=["dialog"];function xt(d){return"string"==typeof d}function Fn(d){return null!=d}function Io(d){return(d||document.body).getBoundingClientRect()}const Ql={animation:!0,transitionTimerDelayMs:5},ep=()=>{},{transitionTimerDelayMs:uc}=Ql,Yc=new Map,Po=(d,w,u,p)=>{let v=p.context||{};const V=Yc.get(w);if(V)switch(p.runningTransition){case"continue":return Ta.E;case"stop":d.run(()=>V.transition$.complete()),v=Object.assign(V.context,v),Yc.delete(w)}const Z=u(w,p.animation,v)||ep;if(!p.animation||"none"===window.getComputedStyle(w).transitionProperty)return d.run(()=>Z()),(0,de.of)(void 0).pipe(function Ma(d){return w=>new po.y(u=>w.subscribe({next:Z=>d.run(()=>u.next(Z)),error:Z=>d.run(()=>u.error(Z)),complete:()=>d.run(()=>u.complete())}))}(d));const ve=new $n.x,Se=new $n.x,We=ve.pipe(function Za(...d){return w=>(0,mo.z)(w,(0,de.of)(...d))}(!0));Yc.set(w,{transition$:ve,complete:()=>{Se.next(),Se.complete()},context:v});const Ze=function Wg(d){const{transitionDelay:w,transitionDuration:u}=window.getComputedStyle(d);return 1e3*(parseFloat(w)+parseFloat(u))}(w);return d.runOutsideAngular(()=>{const Vt=Nr(w,"transitionend").pipe((0,Zn.R)(We),(0,Co.h)(({target:Pt})=>Pt===w));(function Ps(...d){return 1===(d=Xi(d)).length?(0,Ji.Xf)(d[0]):new po.y(function eo(d){return w=>{let u=[];for(let p=0;u&&!w.closed&&p<d.length;p++)u.push((0,Ji.Xf)(d[p]).subscribe((0,Do.x)(w,v=>{if(u){for(let V=0;V<u.length;V++)V!==p&&u[V].unsubscribe();u=null}w.next(v)})))}}(d))})(function Kr(d=0,w,u=Ea.P){let p=-1;return null!=w&&((0,Gi.K)(w)?u=w:p=w),new po.y(v=>{let V=function ka(d){return d instanceof Date&&!isNaN(d)}(d)?+d-u.now():d;V<0&&(V=0);let Z=0;return u.schedule(function(){v.closed||(v.next(Z++),0<=p?this.schedule(void 0,p):v.complete())},V)})}(Ze+uc).pipe((0,Zn.R)(We)),Vt,Se).pipe((0,Zn.R)(We)).subscribe(()=>{Yc.delete(w),d.run(()=>{Z(),ve.next(),ve.complete()})})}),ve.asObservable()};let Zd=(()=>{class d{constructor(){this.animation=Ql.animation}static#e=this.\u0275fac=function(p){return new(p||d)};static#t=this.\u0275prov=l.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})(),sp=(()=>{class d{static#e=this.\u0275fac=function(p){return new(p||d)};static#t=this.\u0275mod=l.oAB({type:d});static#n=this.\u0275inj=l.cJS({})}return d})(),Kg=(()=>{class d{static#e=this.\u0275fac=function(p){return new(p||d)};static#t=this.\u0275mod=l.oAB({type:d});static#n=this.\u0275inj=l.cJS({})}return d})(),se=(()=>{class d{static#e=this.\u0275fac=function(p){return new(p||d)};static#t=this.\u0275mod=l.oAB({type:d});static#n=this.\u0275inj=l.cJS({})}return d})(),Ce=(()=>{class d{static#e=this.\u0275fac=function(p){return new(p||d)};static#t=this.\u0275mod=l.oAB({type:d});static#n=this.\u0275inj=l.cJS({})}return d})();var ui=function(d){return d[d.Tab=9]="Tab",d[d.Enter=13]="Enter",d[d.Escape=27]="Escape",d[d.Space=32]="Space",d[d.PageUp=33]="PageUp",d[d.PageDown=34]="PageDown",d[d.End=35]="End",d[d.Home=36]="Home",d[d.ArrowLeft=37]="ArrowLeft",d[d.ArrowUp=38]="ArrowUp",d[d.ArrowRight=39]="ArrowRight",d[d.ArrowDown=40]="ArrowDown",d}(ui||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const zh=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function lp(d){const w=Array.from(d.querySelectorAll(zh)).filter(u=>-1!==u.tabIndex);return[w[0],w[w.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let ad=(()=>{class d{static#e=this.\u0275fac=function(p){return new(p||d)};static#t=this.\u0275mod=l.oAB({type:d});static#n=this.\u0275inj=l.cJS({})}return d})(),J0=(()=>{class d{static#e=this.\u0275fac=function(p){return new(p||d)};static#t=this.\u0275mod=l.oAB({type:d});static#n=this.\u0275inj=l.cJS({})}return d})();class cd{constructor(w,u,p){this.nodes=w,this.viewRef=u,this.componentRef=p}}let X0=(()=>{class d{constructor(u,p){this._el=u,this._zone=p}ngOnInit(){this._zone.onStable.asObservable().pipe((0,xr.q)(1)).subscribe(()=>{Po(this._zone,this._el.nativeElement,(u,p)=>{p&&Io(u),u.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Po(this._zone,this._el.nativeElement,({classList:u})=>u.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(p){return new(p||d)(l.Y36(l.SBq),l.Y36(l.R0b))};static#t=this.\u0275cmp=l.Xpm({type:d,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(p,v){2&p&&(l.Tol("modal-backdrop"+(v.backdropClass?" "+v.backdropClass:"")),l.ekj("show",!v.animation)("fade",v.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[l.jDz],decls:0,vars:0,template:function(p,v){},encapsulation:2})}return d})();class fv{update(w){}close(w){}dismiss(w){}}const e1=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],zI=["animation","backdropClass"];class t1{_applyWindowOptions(w,u){e1.forEach(p=>{Fn(u[p])&&(w[p]=u[p])})}_applyBackdropOptions(w,u){zI.forEach(p=>{Fn(u[p])&&(w[p]=u[p])})}update(w){this._applyWindowOptions(this._windowCmptRef.instance,w),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,w)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,Zn.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,Zn.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(w,u,p,v){this._windowCmptRef=w,this._contentRef=u,this._backdropCmptRef=p,this._beforeDismiss=v,this._closed=new $n.x,this._dismissed=new $n.x,this._hidden=new $n.x,w.instance.dismissEvent.subscribe(V=>{this.dismiss(V)}),this.result=new Promise((V,Z)=>{this._resolve=V,this._reject=Z}),this.result.then(null,()=>{})}close(w){this._windowCmptRef&&(this._closed.next(w),this._resolve(w),this._removeModalElements())}_dismiss(w){this._dismissed.next(w),this._reject(w),this._removeModalElements()}dismiss(w){if(this._windowCmptRef)if(this._beforeDismiss){const u=this._beforeDismiss();!function pa(d){return d&&d.then}(u)?!1!==u&&this._dismiss(w):u.then(p=>{!1!==p&&this._dismiss(w)},()=>{})}else this._dismiss(w)}_removeModalElements(){const w=this._windowCmptRef.instance.hide(),u=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,de.of)(void 0);w.subscribe(()=>{const{nativeElement:p}=this._windowCmptRef.location;p.parentNode.removeChild(p),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),u.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:p}=this._backdropCmptRef.location;p.parentNode.removeChild(p),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Pi(w,u).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var pv=function(d){return d[d.BACKDROP_CLICK=0]="BACKDROP_CLICK",d[d.ESC=1]="ESC",d}(pv||{});let WI=(()=>{class d{constructor(u,p,v){this._document=u,this._elRef=p,this._zone=v,this._closed$=new $n.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new l.vpe,this.shown=new $n.x,this.hidden=new $n.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":xt(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(u){this.dismissEvent.emit(u)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,xr.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:u}=this._elRef,p={animation:this.animation,runningTransition:"stop"},Z=Pi(Po(this._zone,u,()=>u.classList.remove("show"),p),Po(this._zone,this._dialogEl.nativeElement,()=>{},p));return Z.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),Z}_show(){const u={animation:this.animation,runningTransition:"continue"};Pi(Po(this._zone,this._elRef.nativeElement,(V,Z)=>{Z&&Io(V),V.classList.add("show")},u),Po(this._zone,this._dialogEl.nativeElement,()=>{},u)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:u}=this._elRef;this._zone.runOutsideAngular(()=>{Nr(u,"keydown").pipe((0,Zn.R)(this._closed$),(0,Co.h)(v=>v.which===ui.Escape)).subscribe(v=>{this.keyboard?requestAnimationFrame(()=>{v.defaultPrevented||this._zone.run(()=>this.dismiss(pv.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let p=!1;Nr(this._dialogEl.nativeElement,"mousedown").pipe((0,Zn.R)(this._closed$),(0,Ic.b)(()=>p=!1),(0,ye.w)(()=>Nr(u,"mouseup").pipe((0,Zn.R)(this._closed$),(0,xr.q)(1))),(0,Co.h)(({target:v})=>u===v)).subscribe(()=>{p=!0}),Nr(u,"click").pipe((0,Zn.R)(this._closed$)).subscribe(({target:v})=>{u===v&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!p&&this._zone.run(()=>this.dismiss(pv.BACKDROP_CLICK))),p=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:u}=this._elRef;if(!u.contains(document.activeElement)){const p=u.querySelector("[ngbAutofocus]"),v=lp(u)[0];(p||v||u).focus()}}_restoreFocus(){const u=this._document.body,p=this._elWithFocus;let v;v=p&&p.focus&&u.contains(p)?p:u,this._zone.runOutsideAngular(()=>{setTimeout(()=>v.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Po(this._zone,this._elRef.nativeElement,({classList:u})=>(u.add("modal-static"),()=>u.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(p){return new(p||d)(l.Y36(ce.K0),l.Y36(l.SBq),l.Y36(l.R0b))};static#t=this.\u0275cmp=l.Xpm({type:d,selectors:[["ngb-modal-window"]],viewQuery:function(p,v){if(1&p&&l.Gf(Vd,7),2&p){let V;l.iGM(V=l.CRH())&&(v._dialogEl=V.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(p,v){2&p&&(l.uIk("aria-modal",!0)("aria-labelledby",v.ariaLabelledBy)("aria-describedby",v.ariaDescribedBy),l.Tol("modal d-block"+(v.windowClass?" "+v.windowClass:"")),l.ekj("fade",v.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[l.jDz],ngContentSelectors:Fu,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(p,v){1&p&&(l.F$t(),l.TgZ(0,"div",0,1)(2,"div",2),l.Hsn(3),l.qZA()()),2&p&&l.Tol("modal-dialog"+(v.size?" modal-"+v.size:"")+(v.centered?" modal-dialog-centered":"")+v.fullscreenClass+(v.scrollable?" modal-dialog-scrollable":"")+(v.modalDialogClass?" "+v.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return d})(),mm=(()=>{class d{constructor(u){this._document=u}hide(){const u=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),p=this._document.body,v=p.style,{overflow:V,paddingRight:Z}=v;if(u>0){const ve=parseFloat(window.getComputedStyle(p).paddingRight);v.paddingRight=`${ve+u}px`}return v.overflow="hidden",()=>{u>0&&(v.paddingRight=Z),v.overflow=V}}static#e=this.\u0275fac=function(p){return new(p||d)(l.LFG(ce.K0))};static#t=this.\u0275prov=l.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})(),Dl=(()=>{class d{constructor(u,p,v,V,Z,ve,Se){this._applicationRef=u,this._injector=p,this._environmentInjector=v,this._document=V,this._scrollBar=Z,this._rendererFactory=ve,this._ngZone=Se,this._activeWindowCmptHasChanged=new $n.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new l.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const We=this._windowCmpts[this._windowCmpts.length-1];((d,w,u,p=!1)=>{d.runOutsideAngular(()=>{const v=Nr(w,"focusin").pipe((0,Zn.R)(u),(0,ue.U)(V=>V.target));Nr(w,"keydown").pipe((0,Zn.R)(u),(0,Co.h)(V=>V.which===ui.Tab),ks(v)).subscribe(([V,Z])=>{const[ve,Se]=lp(w);(Z===ve||Z===w)&&V.shiftKey&&(Se.focus(),V.preventDefault()),Z===Se&&!V.shiftKey&&(ve.focus(),V.preventDefault())}),p&&Nr(w,"click").pipe((0,Zn.R)(u),ks(v),(0,ue.U)(V=>V[1])).subscribe(V=>V.focus())})})(this._ngZone,We.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(We.location.nativeElement)}})}_restoreScrollBar(){const u=this._scrollBarRestoreFn;u&&(this._scrollBarRestoreFn=null,u())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(u,p,v){const V=v.container instanceof HTMLElement?v.container:Fn(v.container)?this._document.querySelector(v.container):this._document.body,Z=this._rendererFactory.createRenderer(null,null);if(!V)throw new Error(`The specified modal container "${v.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const ve=new fv,Se=(u=v.injector||u).get(l.lqb,null)||this._environmentInjector,We=this._getContentRef(u,Se,p,ve,v);let Ze=!1!==v.backdrop?this._attachBackdrop(V):void 0,Vt=this._attachWindowComponent(V,We.nodes),St=new t1(Vt,We,Ze,v.beforeDismiss);return this._registerModalRef(St),this._registerWindowCmpt(Vt),St.hidden.pipe((0,xr.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(Z.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),ve.close=Pt=>{St.close(Pt)},ve.dismiss=Pt=>{St.dismiss(Pt)},ve.update=Pt=>{St.update(Pt)},St.update(v),1===this._modalRefs.length&&Z.addClass(this._document.body,"modal-open"),Ze&&Ze.instance&&Ze.changeDetectorRef.detectChanges(),Vt.changeDetectorRef.detectChanges(),St}get activeInstances(){return this._activeInstances}dismissAll(u){this._modalRefs.forEach(p=>p.dismiss(u))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(u){let p=(0,l.LMc)(X0,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(p.hostView),u.appendChild(p.location.nativeElement),p}_attachWindowComponent(u,p){let v=(0,l.LMc)(WI,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:p});return this._applicationRef.attachView(v.hostView),u.appendChild(v.location.nativeElement),v}_getContentRef(u,p,v,V,Z){return v?v instanceof l.Rgc?this._createFromTemplateRef(v,V):xt(v)?this._createFromString(v):this._createFromComponent(u,p,v,V,Z):new cd([])}_createFromTemplateRef(u,p){const V=u.createEmbeddedView({$implicit:p,close(Z){p.close(Z)},dismiss(Z){p.dismiss(Z)}});return this._applicationRef.attachView(V),new cd([V.rootNodes],V)}_createFromString(u){const p=this._document.createTextNode(`${u}`);return new cd([[p]])}_createFromComponent(u,p,v,V,Z){const ve=l.zs3.create({providers:[{provide:fv,useValue:V}],parent:u}),Se=(0,l.LMc)(v,{environmentInjector:p,elementInjector:ve}),We=Se.location.nativeElement;return Z.scrollable&&We.classList.add("component-host-scrollable"),this._applicationRef.attachView(Se.hostView),new cd([[We]],Se.hostView,Se)}_setAriaHidden(u){const p=u.parentElement;p&&u!==this._document.body&&(Array.from(p.children).forEach(v=>{v!==u&&"SCRIPT"!==v.nodeName&&(this._ariaHiddenValues.set(v,v.getAttribute("aria-hidden")),v.setAttribute("aria-hidden","true"))}),this._setAriaHidden(p))}_revertAriaHidden(){this._ariaHiddenValues.forEach((u,p)=>{u?p.setAttribute("aria-hidden",u):p.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(u){const p=()=>{const v=this._modalRefs.indexOf(u);v>-1&&(this._modalRefs.splice(v,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(u),this._activeInstances.emit(this._modalRefs),u.result.then(p,p)}_registerWindowCmpt(u){this._windowCmpts.push(u),this._activeWindowCmptHasChanged.next(),u.onDestroy(()=>{const p=this._windowCmpts.indexOf(u);p>-1&&(this._windowCmpts.splice(p,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(p){return new(p||d)(l.LFG(l.z2F),l.LFG(l.zs3),l.LFG(l.lqb),l.LFG(ce.K0),l.LFG(mm),l.LFG(l.FYo),l.LFG(l.R0b))};static#t=this.\u0275prov=l.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})(),Dp=(()=>{class d{constructor(u){this._ngbConfig=u,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(u){this._animation=u}static#e=this.\u0275fac=function(p){return new(p||d)(l.LFG(Zd))};static#t=this.\u0275prov=l.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})(),gv=(()=>{class d{constructor(u,p,v){this._injector=u,this._modalStack=p,this._config=v}open(u,p={}){const v={...this._config,animation:this._config.animation,...p};return this._modalStack.open(this._injector,u,v)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(u){this._modalStack.dismissAll(u)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(p){return new(p||d)(l.LFG(l.zs3),l.LFG(Dl),l.LFG(Dp))};static#t=this.\u0275prov=l.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})(),lc=(()=>{class d{static#e=this.\u0275fac=function(p){return new(p||d)};static#t=this.\u0275mod=l.oAB({type:d});static#n=this.\u0275inj=l.cJS({providers:[gv]})}return d})(),Ap=(()=>{class d{static#e=this.\u0275fac=function(p){return new(p||d)};static#t=this.\u0275mod=l.oAB({type:d});static#n=this.\u0275inj=l.cJS({})}return d})(),fd=(()=>{class d{static#e=this.\u0275fac=function(p){return new(p||d)};static#t=this.\u0275mod=l.oAB({type:d});static#n=this.\u0275inj=l.cJS({})}return d})(),ah=(()=>{class d{static#e=this.\u0275fac=function(p){return new(p||d)};static#t=this.\u0275mod=l.oAB({type:d});static#n=this.\u0275inj=l.cJS({})}return d})(),Mp=(()=>{class d{static#e=this.\u0275fac=function(p){return new(p||d)};static#t=this.\u0275mod=l.oAB({type:d});static#n=this.\u0275inj=l.cJS({})}return d})(),i1=(()=>{class d{static#e=this.\u0275fac=function(p){return new(p||d)};static#t=this.\u0275mod=l.oAB({type:d});static#n=this.\u0275inj=l.cJS({})}return d})(),uh=(()=>{class d{static#e=this.\u0275fac=function(p){return new(p||d)};static#t=this.\u0275mod=l.oAB({type:d});static#n=this.\u0275inj=l.cJS({})}return d})(),Ev=(()=>{class d{static#e=this.\u0275fac=function(p){return new(p||d)};static#t=this.\u0275mod=l.oAB({type:d});static#n=this.\u0275inj=l.cJS({})}return d})(),kp=(()=>{class d{static#e=this.\u0275fac=function(p){return new(p||d)};static#t=this.\u0275mod=l.oAB({type:d});static#n=this.\u0275inj=l.cJS({})}return d})(),Cv=(()=>{class d{static#e=this.\u0275fac=function(p){return new(p||d)};static#t=this.\u0275mod=l.oAB({type:d});static#n=this.\u0275inj=l.cJS({})}return d})();new l.OlP("live announcer delay",{providedIn:"root",factory:function Du(){return 100}});let Zu=(()=>{class d{static#e=this.\u0275fac=function(p){return new(p||d)};static#t=this.\u0275mod=l.oAB({type:d});static#n=this.\u0275inj=l.cJS({})}return d})(),Av=(()=>{class d{static#e=this.\u0275fac=function(p){return new(p||d)};static#t=this.\u0275mod=l.oAB({type:d});static#n=this.\u0275inj=l.cJS({})}return d})();const l1=[sp,Kg,se,Ce,ad,J0,lc,Ap,Av,fd,ah,Mp,i1,uh,Ev,kp,Cv,Zu];let Sl=(()=>{class d{static#e=this.\u0275fac=function(p){return new(p||d)};static#t=this.\u0275mod=l.oAB({type:d});static#n=this.\u0275inj=l.cJS({imports:[l1,sp,Kg,se,Ce,ad,J0,lc,Ap,Av,fd,ah,Mp,i1,uh,Ev,kp,Cv,Zu]})}return d})();var Nv=Q(2772);let d1=(()=>{class d{static#e=this.\u0275fac=function(p){return new(p||d)};static#t=this.\u0275mod=l.oAB({type:d,bootstrap:[$t]});static#n=this.\u0275inj=l.cJS({imports:[b.b2,K,Nv.r,(0,Mr.hX)(()=>(0,Mr.ZF)(Nn.N.firebaseConfig)),(0,_t.Cm)(()=>(0,_t.ad)()),ra,Sl]})}return d})();b.q6().bootstrapModule(d1).catch(d=>console.error(d))},5619:(Ut,$e,Q)=>{Q.d($e,{X:()=>ae});var b=Q(8645);class ae extends b.x{constructor(ye){super(),this._value=ye}get value(){return this.getValue()}_subscribe(ye){const ue=super._subscribe(ye);return!ue.closed&&ye.next(this._value),ue}getValue(){const{hasError:ye,thrownError:ue,_value:de}=this;if(ye)throw ue;return this._throwIfClosed(),de}next(ye){super.next(this._value=ye)}}},5592:(Ut,$e,Q)=>{Q.d($e,{y:()=>Ue});var b=Q(305),ae=Q(7394),l=Q(4850),ye=Q(8407),ue=Q(2653),de=Q(4674),Ae=Q(1441);let Ue=(()=>{class Ee{constructor(Re){Re&&(this._subscribe=Re)}lift(Re){const rt=new Ee;return rt.source=this,rt.operator=Re,rt}subscribe(Re,rt,Dt){const kt=function ce(Ee){return Ee&&Ee instanceof b.Lv||function ne(Ee){return Ee&&(0,de.m)(Ee.next)&&(0,de.m)(Ee.error)&&(0,de.m)(Ee.complete)}(Ee)&&(0,ae.Nn)(Ee)}(Re)?Re:new b.Hp(Re,rt,Dt);return(0,Ae.x)(()=>{const{operator:Rt,source:En}=this;kt.add(Rt?Rt.call(kt,En):En?this._subscribe(kt):this._trySubscribe(kt))}),kt}_trySubscribe(Re){try{return this._subscribe(Re)}catch(rt){Re.error(rt)}}forEach(Re,rt){return new(rt=Ie(rt))((Dt,kt)=>{const Rt=new b.Hp({next:En=>{try{Re(En)}catch(Nt){kt(Nt),Rt.unsubscribe()}},error:kt,complete:Dt});this.subscribe(Rt)})}_subscribe(Re){var rt;return null===(rt=this.source)||void 0===rt?void 0:rt.subscribe(Re)}[l.L](){return this}pipe(...Re){return(0,ye.U)(Re)(this)}toPromise(Re){return new(Re=Ie(Re))((rt,Dt)=>{let kt;this.subscribe(Rt=>kt=Rt,Rt=>Dt(Rt),()=>rt(kt))})}}return Ee.create=Xe=>new Ee(Xe),Ee})();function Ie(Ee){var Xe;return null!==(Xe=Ee??ue.config.Promise)&&void 0!==Xe?Xe:Promise}},8645:(Ut,$e,Q)=>{Q.d($e,{x:()=>Ae});var b=Q(5592),ae=Q(7394);const ye=(0,Q(2306).d)(Ie=>function(){Ie(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ue=Q(9039),de=Q(1441);let Ae=(()=>{class Ie extends b.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ce){const Ee=new Ue(this,this);return Ee.operator=ce,Ee}_throwIfClosed(){if(this.closed)throw new ye}next(ce){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ee of this.currentObservers)Ee.next(ce)}})}error(ce){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ce;const{observers:Ee}=this;for(;Ee.length;)Ee.shift().error(ce)}})}complete(){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ce}=this;for(;ce.length;)ce.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ce;return(null===(ce=this.observers)||void 0===ce?void 0:ce.length)>0}_trySubscribe(ce){return this._throwIfClosed(),super._trySubscribe(ce)}_subscribe(ce){return this._throwIfClosed(),this._checkFinalizedStatuses(ce),this._innerSubscribe(ce)}_innerSubscribe(ce){const{hasError:Ee,isStopped:Xe,observers:Re}=this;return Ee||Xe?ae.Lc:(this.currentObservers=null,Re.push(ce),new ae.w0(()=>{this.currentObservers=null,(0,ue.P)(Re,ce)}))}_checkFinalizedStatuses(ce){const{hasError:Ee,thrownError:Xe,isStopped:Re}=this;Ee?ce.error(Xe):Re&&ce.complete()}asObservable(){const ce=new b.y;return ce.source=this,ce}}return Ie.create=(ne,ce)=>new Ue(ne,ce),Ie})();class Ue extends Ae{constructor(ne,ce){super(),this.destination=ne,this.source=ce}next(ne){var ce,Ee;null===(Ee=null===(ce=this.destination)||void 0===ce?void 0:ce.next)||void 0===Ee||Ee.call(ce,ne)}error(ne){var ce,Ee;null===(Ee=null===(ce=this.destination)||void 0===ce?void 0:ce.error)||void 0===Ee||Ee.call(ce,ne)}complete(){var ne,ce;null===(ce=null===(ne=this.destination)||void 0===ne?void 0:ne.complete)||void 0===ce||ce.call(ne)}_subscribe(ne){var ce,Ee;return null!==(Ee=null===(ce=this.source)||void 0===ce?void 0:ce.subscribe(ne))&&void 0!==Ee?Ee:ae.Lc}}},305:(Ut,$e,Q)=>{Q.d($e,{Hp:()=>Dt,Lv:()=>Ee});var b=Q(4674),ae=Q(7394),l=Q(2653),ye=Q(3894),ue=Q(2420);const de=Ie("C",void 0,void 0);function Ie(ft,ot,mt){return{kind:ft,value:ot,error:mt}}var ne=Q(7599),ce=Q(1441);class Ee extends ae.w0{constructor(ot){super(),this.isStopped=!1,ot?(this.destination=ot,(0,ae.Nn)(ot)&&ot.add(this)):this.destination=Nt}static create(ot,mt,pt){return new Dt(ot,mt,pt)}next(ot){this.isStopped?En(function Ue(ft){return Ie("N",ft,void 0)}(ot),this):this._next(ot)}error(ot){this.isStopped?En(function Ae(ft){return Ie("E",void 0,ft)}(ot),this):(this.isStopped=!0,this._error(ot))}complete(){this.isStopped?En(de,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ot){this.destination.next(ot)}_error(ot){try{this.destination.error(ot)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Xe=Function.prototype.bind;function Re(ft,ot){return Xe.call(ft,ot)}class rt{constructor(ot){this.partialObserver=ot}next(ot){const{partialObserver:mt}=this;if(mt.next)try{mt.next(ot)}catch(pt){kt(pt)}}error(ot){const{partialObserver:mt}=this;if(mt.error)try{mt.error(ot)}catch(pt){kt(pt)}else kt(ot)}complete(){const{partialObserver:ot}=this;if(ot.complete)try{ot.complete()}catch(mt){kt(mt)}}}class Dt extends Ee{constructor(ot,mt,pt){let He;if(super(),(0,b.m)(ot)||!ot)He={next:ot??void 0,error:mt??void 0,complete:pt??void 0};else{let me;this&&l.config.useDeprecatedNextContext?(me=Object.create(ot),me.unsubscribe=()=>this.unsubscribe(),He={next:ot.next&&Re(ot.next,me),error:ot.error&&Re(ot.error,me),complete:ot.complete&&Re(ot.complete,me)}):He=ot}this.destination=new rt(He)}}function kt(ft){l.config.useDeprecatedSynchronousErrorHandling?(0,ce.O)(ft):(0,ye.h)(ft)}function En(ft,ot){const{onStoppedNotification:mt}=l.config;mt&&ne.z.setTimeout(()=>mt(ft,ot))}const Nt={closed:!0,next:ue.Z,error:function Rt(ft){throw ft},complete:ue.Z}},7394:(Ut,$e,Q)=>{Q.d($e,{Lc:()=>de,w0:()=>ue,Nn:()=>Ae});var b=Q(4674);const l=(0,Q(2306).d)(Ie=>function(ce){Ie(this),this.message=ce?`${ce.length} errors occurred during unsubscription:\n${ce.map((Ee,Xe)=>`${Xe+1}) ${Ee.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ce});var ye=Q(9039);class ue{constructor(ne){this.initialTeardown=ne,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ne;if(!this.closed){this.closed=!0;const{_parentage:ce}=this;if(ce)if(this._parentage=null,Array.isArray(ce))for(const Re of ce)Re.remove(this);else ce.remove(this);const{initialTeardown:Ee}=this;if((0,b.m)(Ee))try{Ee()}catch(Re){ne=Re instanceof l?Re.errors:[Re]}const{_finalizers:Xe}=this;if(Xe){this._finalizers=null;for(const Re of Xe)try{Ue(Re)}catch(rt){ne=ne??[],rt instanceof l?ne=[...ne,...rt.errors]:ne.push(rt)}}if(ne)throw new l(ne)}}add(ne){var ce;if(ne&&ne!==this)if(this.closed)Ue(ne);else{if(ne instanceof ue){if(ne.closed||ne._hasParent(this))return;ne._addParent(this)}(this._finalizers=null!==(ce=this._finalizers)&&void 0!==ce?ce:[]).push(ne)}}_hasParent(ne){const{_parentage:ce}=this;return ce===ne||Array.isArray(ce)&&ce.includes(ne)}_addParent(ne){const{_parentage:ce}=this;this._parentage=Array.isArray(ce)?(ce.push(ne),ce):ce?[ce,ne]:ne}_removeParent(ne){const{_parentage:ce}=this;ce===ne?this._parentage=null:Array.isArray(ce)&&(0,ye.P)(ce,ne)}remove(ne){const{_finalizers:ce}=this;ce&&(0,ye.P)(ce,ne),ne instanceof ue&&ne._removeParent(this)}}ue.EMPTY=(()=>{const Ie=new ue;return Ie.closed=!0,Ie})();const de=ue.EMPTY;function Ae(Ie){return Ie instanceof ue||Ie&&"closed"in Ie&&(0,b.m)(Ie.remove)&&(0,b.m)(Ie.add)&&(0,b.m)(Ie.unsubscribe)}function Ue(Ie){(0,b.m)(Ie)?Ie():Ie.unsubscribe()}},2653:(Ut,$e,Q)=>{Q.d($e,{config:()=>b});const b={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},5211:(Ut,$e,Q)=>{Q.d($e,{z:()=>ue});var b=Q(7537),l=Q(9940),ye=Q(2459);function ue(...de){return function ae(){return(0,b.J)(1)}()((0,ye.D)(de,(0,l.yG)(de)))}},6232:(Ut,$e,Q)=>{Q.d($e,{E:()=>ae});const ae=new(Q(5592).y)(ue=>ue.complete())},2459:(Ut,$e,Q)=>{Q.d($e,{D:()=>ot});var b=Q(4829),ae=Q(3093),l=Q(5137),de=Q(5592),Ue=Q(4971),Ie=Q(4674),ne=Q(7103);function Ee(mt,pt){if(!mt)throw new Error("Iterable cannot be null");return new de.y(He=>{(0,ne.f)(He,pt,()=>{const me=mt[Symbol.asyncIterator]();(0,ne.f)(He,pt,()=>{me.next().then(Ye=>{Ye.done?He.complete():He.next(Ye.value)})},0,!0)})})}var Xe=Q(8382),Re=Q(4026),rt=Q(4266),Dt=Q(3664),kt=Q(5726),Rt=Q(9853),En=Q(541);function ot(mt,pt){return pt?function ft(mt,pt){if(null!=mt){if((0,Xe.c)(mt))return function ye(mt,pt){return(0,b.Xf)(mt).pipe((0,l.R)(pt),(0,ae.Q)(pt))}(mt,pt);if((0,rt.z)(mt))return function Ae(mt,pt){return new de.y(He=>{let me=0;return pt.schedule(function(){me===mt.length?He.complete():(He.next(mt[me++]),He.closed||this.schedule())})})}(mt,pt);if((0,Re.t)(mt))return function ue(mt,pt){return(0,b.Xf)(mt).pipe((0,l.R)(pt),(0,ae.Q)(pt))}(mt,pt);if((0,kt.D)(mt))return Ee(mt,pt);if((0,Dt.T)(mt))return function ce(mt,pt){return new de.y(He=>{let me;return(0,ne.f)(He,pt,()=>{me=mt[Ue.h](),(0,ne.f)(He,pt,()=>{let Ye,ht;try{({value:Ye,done:ht}=me.next())}catch(An){return void He.error(An)}ht?He.complete():He.next(Ye)},0,!0)}),()=>(0,Ie.m)(me?.return)&&me.return()})}(mt,pt);if((0,En.L)(mt))return function Nt(mt,pt){return Ee((0,En.Q)(mt),pt)}(mt,pt)}throw(0,Rt.z)(mt)}(mt,pt):(0,b.Xf)(mt)}},4829:(Ut,$e,Q)=>{Q.d($e,{Xf:()=>Xe});var b=Q(7582),ae=Q(4266),l=Q(4026),ye=Q(5592),ue=Q(8382),de=Q(5726),Ae=Q(9853),Ue=Q(3664),Ie=Q(541),ne=Q(4674),ce=Q(3894),Ee=Q(4850);function Xe(ft){if(ft instanceof ye.y)return ft;if(null!=ft){if((0,ue.c)(ft))return function Re(ft){return new ye.y(ot=>{const mt=ft[Ee.L]();if((0,ne.m)(mt.subscribe))return mt.subscribe(ot);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ft);if((0,ae.z)(ft))return function rt(ft){return new ye.y(ot=>{for(let mt=0;mt<ft.length&&!ot.closed;mt++)ot.next(ft[mt]);ot.complete()})}(ft);if((0,l.t)(ft))return function Dt(ft){return new ye.y(ot=>{ft.then(mt=>{ot.closed||(ot.next(mt),ot.complete())},mt=>ot.error(mt)).then(null,ce.h)})}(ft);if((0,de.D)(ft))return Rt(ft);if((0,Ue.T)(ft))return function kt(ft){return new ye.y(ot=>{for(const mt of ft)if(ot.next(mt),ot.closed)return;ot.complete()})}(ft);if((0,Ie.L)(ft))return function En(ft){return Rt((0,Ie.Q)(ft))}(ft)}throw(0,Ae.z)(ft)}function Rt(ft){return new ye.y(ot=>{(function Nt(ft,ot){var mt,pt,He,me;return(0,b.mG)(this,void 0,void 0,function*(){try{for(mt=(0,b.KL)(ft);!(pt=yield mt.next()).done;)if(ot.next(pt.value),ot.closed)return}catch(Ye){He={error:Ye}}finally{try{pt&&!pt.done&&(me=mt.return)&&(yield me.call(mt))}finally{if(He)throw He.error}}ot.complete()})})(ft,ot).catch(mt=>ot.error(mt))})}},3019:(Ut,$e,Q)=>{Q.d($e,{T:()=>de});var b=Q(7537),ae=Q(4829),l=Q(6232),ye=Q(9940),ue=Q(2459);function de(...Ae){const Ue=(0,ye.yG)(Ae),Ie=(0,ye._6)(Ae,1/0),ne=Ae;return ne.length?1===ne.length?(0,ae.Xf)(ne[0]):(0,b.J)(Ie)((0,ue.D)(ne,Ue)):l.E}},2096:(Ut,$e,Q)=>{Q.d($e,{of:()=>l});var b=Q(9940),ae=Q(2459);function l(...ye){const ue=(0,b.yG)(ye);return(0,ae.D)(ye,ue)}},8251:(Ut,$e,Q)=>{Q.d($e,{x:()=>ae});var b=Q(305);function ae(ye,ue,de,Ae,Ue){return new l(ye,ue,de,Ae,Ue)}class l extends b.Lv{constructor(ue,de,Ae,Ue,Ie,ne){super(ue),this.onFinalize=Ie,this.shouldUnsubscribe=ne,this._next=de?function(ce){try{de(ce)}catch(Ee){ue.error(Ee)}}:super._next,this._error=Ue?function(ce){try{Ue(ce)}catch(Ee){ue.error(Ee)}finally{this.unsubscribe()}}:super._error,this._complete=Ae?function(){try{Ae()}catch(ce){ue.error(ce)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ue;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:de}=this;super.unsubscribe(),!de&&(null===(ue=this.onFinalize)||void 0===ue||ue.call(this))}}}},3997:(Ut,$e,Q)=>{Q.d($e,{x:()=>ye});var b=Q(2737),ae=Q(9360),l=Q(8251);function ye(de,Ae=b.y){return de=de??ue,(0,ae.e)((Ue,Ie)=>{let ne,ce=!0;Ue.subscribe((0,l.x)(Ie,Ee=>{const Xe=Ae(Ee);(ce||!de(ne,Xe))&&(ce=!1,ne=Xe,Ie.next(Ee))}))})}function ue(de,Ae){return de===Ae}},2181:(Ut,$e,Q)=>{Q.d($e,{h:()=>l});var b=Q(9360),ae=Q(8251);function l(ye,ue){return(0,b.e)((de,Ae)=>{let Ue=0;de.subscribe((0,ae.x)(Ae,Ie=>ye.call(ue,Ie,Ue++)&&Ae.next(Ie)))})}},7398:(Ut,$e,Q)=>{Q.d($e,{U:()=>l});var b=Q(9360),ae=Q(8251);function l(ye,ue){return(0,b.e)((de,Ae)=>{let Ue=0;de.subscribe((0,ae.x)(Ae,Ie=>{Ae.next(ye.call(ue,Ie,Ue++))}))})}},975:(Ut,$e,Q)=>{Q.d($e,{h:()=>ae});var b=Q(7398);function ae(l){return(0,b.U)(()=>l)}},7537:(Ut,$e,Q)=>{Q.d($e,{J:()=>l});var b=Q(1631),ae=Q(2737);function l(ye=1/0){return(0,b.z)(ae.y,ye)}},1631:(Ut,$e,Q)=>{Q.d($e,{z:()=>Ue});var b=Q(7398),ae=Q(4829),l=Q(9360),ye=Q(7103),ue=Q(8251),Ae=Q(4674);function Ue(Ie,ne,ce=1/0){return(0,Ae.m)(ne)?Ue((Ee,Xe)=>(0,b.U)((Re,rt)=>ne(Ee,Re,Xe,rt))((0,ae.Xf)(Ie(Ee,Xe))),ce):("number"==typeof ne&&(ce=ne),(0,l.e)((Ee,Xe)=>function de(Ie,ne,ce,Ee,Xe,Re,rt,Dt){const kt=[];let Rt=0,En=0,Nt=!1;const ft=()=>{Nt&&!kt.length&&!Rt&&ne.complete()},ot=pt=>Rt<Ee?mt(pt):kt.push(pt),mt=pt=>{Re&&ne.next(pt),Rt++;let He=!1;(0,ae.Xf)(ce(pt,En++)).subscribe((0,ue.x)(ne,me=>{Xe?.(me),Re?ot(me):ne.next(me)},()=>{He=!0},void 0,()=>{if(He)try{for(Rt--;kt.length&&Rt<Ee;){const me=kt.shift();rt?(0,ye.f)(ne,rt,()=>mt(me)):mt(me)}ft()}catch(me){ne.error(me)}}))};return Ie.subscribe((0,ue.x)(ne,ot,()=>{Nt=!0,ft()})),()=>{Dt?.()}}(Ee,Xe,Ie,ce)))}},3093:(Ut,$e,Q)=>{Q.d($e,{Q:()=>ye});var b=Q(7103),ae=Q(9360),l=Q(8251);function ye(ue,de=0){return(0,ae.e)((Ae,Ue)=>{Ae.subscribe((0,l.x)(Ue,Ie=>(0,b.f)(Ue,ue,()=>Ue.next(Ie),de),()=>(0,b.f)(Ue,ue,()=>Ue.complete(),de),Ie=>(0,b.f)(Ue,ue,()=>Ue.error(Ie),de)))})}},7921:(Ut,$e,Q)=>{Q.d($e,{O:()=>ye});var b=Q(5211),ae=Q(9940),l=Q(9360);function ye(...ue){const de=(0,ae.yG)(ue);return(0,l.e)((Ae,Ue)=>{(de?(0,b.z)(ue,Ae,de):(0,b.z)(ue,Ae)).subscribe(Ue)})}},5137:(Ut,$e,Q)=>{Q.d($e,{R:()=>ae});var b=Q(9360);function ae(l,ye=0){return(0,b.e)((ue,de)=>{de.add(l.schedule(()=>ue.subscribe(de),ye))})}},4664:(Ut,$e,Q)=>{Q.d($e,{w:()=>ye});var b=Q(4829),ae=Q(9360),l=Q(8251);function ye(ue,de){return(0,ae.e)((Ae,Ue)=>{let Ie=null,ne=0,ce=!1;const Ee=()=>ce&&!Ie&&Ue.complete();Ae.subscribe((0,l.x)(Ue,Xe=>{Ie?.unsubscribe();let Re=0;const rt=ne++;(0,b.Xf)(ue(Xe,rt)).subscribe(Ie=(0,l.x)(Ue,Dt=>Ue.next(de?de(Xe,Dt,rt,Re++):Dt),()=>{Ie=null,Ee()}))},()=>{ce=!0,Ee()}))})}},8180:(Ut,$e,Q)=>{Q.d($e,{q:()=>ye});var b=Q(6232),ae=Q(9360),l=Q(8251);function ye(ue){return ue<=0?()=>b.E:(0,ae.e)((de,Ae)=>{let Ue=0;de.subscribe((0,l.x)(Ae,Ie=>{++Ue<=ue&&(Ae.next(Ie),ue<=Ue&&Ae.complete())}))})}},9773:(Ut,$e,Q)=>{Q.d($e,{R:()=>ue});var b=Q(9360),ae=Q(8251),l=Q(4829),ye=Q(2420);function ue(de){return(0,b.e)((Ae,Ue)=>{(0,l.Xf)(de).subscribe((0,ae.x)(Ue,()=>Ue.complete(),ye.Z)),!Ue.closed&&Ae.subscribe(Ue)})}},9397:(Ut,$e,Q)=>{Q.d($e,{b:()=>ue});var b=Q(4674),ae=Q(9360),l=Q(8251),ye=Q(2737);function ue(de,Ae,Ue){const Ie=(0,b.m)(de)||Ae||Ue?{next:de,error:Ae,complete:Ue}:de;return Ie?(0,ae.e)((ne,ce)=>{var Ee;null===(Ee=Ie.subscribe)||void 0===Ee||Ee.call(Ie);let Xe=!0;ne.subscribe((0,l.x)(ce,Re=>{var rt;null===(rt=Ie.next)||void 0===rt||rt.call(Ie,Re),ce.next(Re)},()=>{var Re;Xe=!1,null===(Re=Ie.complete)||void 0===Re||Re.call(Ie),ce.complete()},Re=>{var rt;Xe=!1,null===(rt=Ie.error)||void 0===rt||rt.call(Ie,Re),ce.error(Re)},()=>{var Re,rt;Xe&&(null===(Re=Ie.unsubscribe)||void 0===Re||Re.call(Ie)),null===(rt=Ie.finalize)||void 0===rt||rt.call(Ie)}))}):ye.y}},1954:(Ut,$e,Q)=>{Q.d($e,{o:()=>ue});var b=Q(7394);class ae extends b.w0{constructor(Ae,Ue){super()}schedule(Ae,Ue=0){return this}}const l={setInterval(de,Ae,...Ue){const{delegate:Ie}=l;return Ie?.setInterval?Ie.setInterval(de,Ae,...Ue):setInterval(de,Ae,...Ue)},clearInterval(de){const{delegate:Ae}=l;return(Ae?.clearInterval||clearInterval)(de)},delegate:void 0};var ye=Q(9039);class ue extends ae{constructor(Ae,Ue){super(Ae,Ue),this.scheduler=Ae,this.work=Ue,this.pending=!1}schedule(Ae,Ue=0){var Ie;if(this.closed)return this;this.state=Ae;const ne=this.id,ce=this.scheduler;return null!=ne&&(this.id=this.recycleAsyncId(ce,ne,Ue)),this.pending=!0,this.delay=Ue,this.id=null!==(Ie=this.id)&&void 0!==Ie?Ie:this.requestAsyncId(ce,this.id,Ue),this}requestAsyncId(Ae,Ue,Ie=0){return l.setInterval(Ae.flush.bind(Ae,this),Ie)}recycleAsyncId(Ae,Ue,Ie=0){if(null!=Ie&&this.delay===Ie&&!1===this.pending)return Ue;null!=Ue&&l.clearInterval(Ue)}execute(Ae,Ue){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ie=this._execute(Ae,Ue);if(Ie)return Ie;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ae,Ue){let ne,Ie=!1;try{this.work(Ae)}catch(ce){Ie=!0,ne=ce||new Error("Scheduled action threw falsy error")}if(Ie)return this.unsubscribe(),ne}unsubscribe(){if(!this.closed){const{id:Ae,scheduler:Ue}=this,{actions:Ie}=Ue;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ye.P)(Ie,this),null!=Ae&&(this.id=this.recycleAsyncId(Ue,Ae,null)),this.delay=null,super.unsubscribe()}}}},9931:(Ut,$e,Q)=>{Q.d($e,{v:()=>l});const b={now:()=>(b.delegate||Date).now(),delegate:void 0};class ae{constructor(ue,de=ae.now){this.schedulerActionCtor=ue,this.now=de}schedule(ue,de=0,Ae){return new this.schedulerActionCtor(this,ue).schedule(Ae,de)}}ae.now=b.now;class l extends ae{constructor(ue,de=ae.now){super(ue,de),this.actions=[],this._active=!1}flush(ue){const{actions:de}=this;if(this._active)return void de.push(ue);let Ae;this._active=!0;do{if(Ae=ue.execute(ue.state,ue.delay))break}while(ue=de.shift());if(this._active=!1,Ae){for(;ue=de.shift();)ue.unsubscribe();throw Ae}}}},6321:(Ut,$e,Q)=>{Q.d($e,{P:()=>ye,z:()=>l});var b=Q(1954);const l=new(Q(9931).v)(b.o),ye=l},7599:(Ut,$e,Q)=>{Q.d($e,{z:()=>b});const b={setTimeout(ae,l,...ye){const{delegate:ue}=b;return ue?.setTimeout?ue.setTimeout(ae,l,...ye):setTimeout(ae,l,...ye)},clearTimeout(ae){const{delegate:l}=b;return(l?.clearTimeout||clearTimeout)(ae)},delegate:void 0}},4971:(Ut,$e,Q)=>{Q.d($e,{h:()=>ae});const ae=function b(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Ut,$e,Q)=>{Q.d($e,{L:()=>b});const b="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(Ut,$e,Q)=>{Q.d($e,{K:()=>ae});const ae=(0,Q(2306).d)(l=>function(){l(this),this.name="EmptyError",this.message="no elements in sequence"})},9940:(Ut,$e,Q)=>{Q.d($e,{_6:()=>de,jO:()=>ye,yG:()=>ue});var b=Q(4674),ae=Q(671);function l(Ae){return Ae[Ae.length-1]}function ye(Ae){return(0,b.m)(l(Ae))?Ae.pop():void 0}function ue(Ae){return(0,ae.K)(l(Ae))?Ae.pop():void 0}function de(Ae,Ue){return"number"==typeof l(Ae)?Ae.pop():Ue}},7453:(Ut,$e,Q)=>{Q.d($e,{D:()=>ue});const{isArray:b}=Array,{getPrototypeOf:ae,prototype:l,keys:ye}=Object;function ue(Ae){if(1===Ae.length){const Ue=Ae[0];if(b(Ue))return{args:Ue,keys:null};if(function de(Ae){return Ae&&"object"==typeof Ae&&ae(Ae)===l}(Ue)){const Ie=ye(Ue);return{args:Ie.map(ne=>Ue[ne]),keys:Ie}}}return{args:Ae,keys:null}}},9039:(Ut,$e,Q)=>{function b(ae,l){if(ae){const ye=ae.indexOf(l);0<=ye&&ae.splice(ye,1)}}Q.d($e,{P:()=>b})},2306:(Ut,$e,Q)=>{function b(ae){const ye=ae(ue=>{Error.call(ue),ue.stack=(new Error).stack});return ye.prototype=Object.create(Error.prototype),ye.prototype.constructor=ye,ye}Q.d($e,{d:()=>b})},2714:(Ut,$e,Q)=>{function b(ae,l){return ae.reduce((ye,ue,de)=>(ye[ue]=l[de],ye),{})}Q.d($e,{n:()=>b})},1441:(Ut,$e,Q)=>{Q.d($e,{O:()=>ye,x:()=>l});var b=Q(2653);let ae=null;function l(ue){if(b.config.useDeprecatedSynchronousErrorHandling){const de=!ae;if(de&&(ae={errorThrown:!1,error:null}),ue(),de){const{errorThrown:Ae,error:Ue}=ae;if(ae=null,Ae)throw Ue}}else ue()}function ye(ue){b.config.useDeprecatedSynchronousErrorHandling&&ae&&(ae.errorThrown=!0,ae.error=ue)}},7103:(Ut,$e,Q)=>{function b(ae,l,ye,ue=0,de=!1){const Ae=l.schedule(function(){ye(),de?ae.add(this.schedule(null,ue)):this.unsubscribe()},ue);if(ae.add(Ae),!de)return Ae}Q.d($e,{f:()=>b})},2737:(Ut,$e,Q)=>{function b(ae){return ae}Q.d($e,{y:()=>b})},4266:(Ut,$e,Q)=>{Q.d($e,{z:()=>b});const b=ae=>ae&&"number"==typeof ae.length&&"function"!=typeof ae},5726:(Ut,$e,Q)=>{Q.d($e,{D:()=>ae});var b=Q(4674);function ae(l){return Symbol.asyncIterator&&(0,b.m)(l?.[Symbol.asyncIterator])}},4674:(Ut,$e,Q)=>{function b(ae){return"function"==typeof ae}Q.d($e,{m:()=>b})},8382:(Ut,$e,Q)=>{Q.d($e,{c:()=>l});var b=Q(4850),ae=Q(4674);function l(ye){return(0,ae.m)(ye[b.L])}},3664:(Ut,$e,Q)=>{Q.d($e,{T:()=>l});var b=Q(4971),ae=Q(4674);function l(ye){return(0,ae.m)(ye?.[b.h])}},4026:(Ut,$e,Q)=>{Q.d($e,{t:()=>ae});var b=Q(4674);function ae(l){return(0,b.m)(l?.then)}},541:(Ut,$e,Q)=>{Q.d($e,{L:()=>ye,Q:()=>l});var b=Q(7582),ae=Q(4674);function l(ue){return(0,b.FC)(this,arguments,function*(){const Ae=ue.getReader();try{for(;;){const{value:Ue,done:Ie}=yield(0,b.qq)(Ae.read());if(Ie)return yield(0,b.qq)(void 0);yield yield(0,b.qq)(Ue)}}finally{Ae.releaseLock()}})}function ye(ue){return(0,ae.m)(ue?.getReader)}},671:(Ut,$e,Q)=>{Q.d($e,{K:()=>ae});var b=Q(4674);function ae(l){return l&&(0,b.m)(l.schedule)}},9360:(Ut,$e,Q)=>{Q.d($e,{A:()=>ae,e:()=>l});var b=Q(4674);function ae(ye){return(0,b.m)(ye?.lift)}function l(ye){return ue=>{if(ae(ue))return ue.lift(function(de){try{return ye(de,this)}catch(Ae){this.error(Ae)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(Ut,$e,Q)=>{Q.d($e,{Z:()=>ye});var b=Q(7398);const{isArray:ae}=Array;function ye(ue){return(0,b.U)(de=>function l(ue,de){return ae(de)?ue(...de):ue(de)}(ue,de))}},2420:(Ut,$e,Q)=>{function b(){}Q.d($e,{Z:()=>b})},8407:(Ut,$e,Q)=>{Q.d($e,{U:()=>l,z:()=>ae});var b=Q(2737);function ae(...ye){return l(ye)}function l(ye){return 0===ye.length?b.y:1===ye.length?ye[0]:function(de){return ye.reduce((Ae,Ue)=>Ue(Ae),de)}}},3894:(Ut,$e,Q)=>{Q.d($e,{h:()=>l});var b=Q(2653),ae=Q(7599);function l(ye){ae.z.setTimeout(()=>{const{onUnhandledError:ue}=b.config;if(!ue)throw ye;ue(ye)})}},9853:(Ut,$e,Q)=>{function b(ae){return new TypeError(`You provided ${null!==ae&&"object"==typeof ae?"an invalid object":`'${ae}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}Q.d($e,{z:()=>b})},6814:(Ut,$e,Q)=>{Q.d($e,{Do:()=>Dt,EM:()=>Ca,HT:()=>ye,JF:()=>Ni,K0:()=>de,Mn:()=>vn,Mx:()=>To,O5:()=>Gi,PM:()=>Ur,S$:()=>Xe,Tn:()=>me,UT:()=>xn,V_:()=>Ue,Ye:()=>kt,ax:()=>Eo,b0:()=>rt,bD:()=>ii,ez:()=>dr,p6:()=>Hn,q:()=>l,sg:()=>Eo,tP:()=>mo,uU:()=>gs,w_:()=>ue,x:()=>He});var b=Q(9468);let ae=null;function l(){return ae}function ye(O){ae||(ae=O)}class ue{}const de=new b.OlP("DocumentToken");let Ae=(()=>{class O{historyGo(B){throw new Error("Not implemented")}static#e=this.\u0275fac=function(X){return new(X||O)};static#t=this.\u0275prov=b.Yz7({token:O,factory:function(){return(0,b.f3M)(Ie)},providedIn:"platform"})}return O})();const Ue=new b.OlP("Location Initialized");let Ie=(()=>{class O extends Ae{constructor(){super(),this._doc=(0,b.f3M)(de),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return l().getBaseHref(this._doc)}onPopState(B){const X=l().getGlobalEventTarget(this._doc,"window");return X.addEventListener("popstate",B,!1),()=>X.removeEventListener("popstate",B)}onHashChange(B){const X=l().getGlobalEventTarget(this._doc,"window");return X.addEventListener("hashchange",B,!1),()=>X.removeEventListener("hashchange",B)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(B){this._location.pathname=B}pushState(B,X,ge){this._history.pushState(B,X,ge)}replaceState(B,X,ge){this._history.replaceState(B,X,ge)}forward(){this._history.forward()}back(){this._history.back()}historyGo(B=0){this._history.go(B)}getState(){return this._history.state}static#e=this.\u0275fac=function(X){return new(X||O)};static#t=this.\u0275prov=b.Yz7({token:O,factory:function(){return new O},providedIn:"platform"})}return O})();function ne(O,te){if(0==O.length)return te;if(0==te.length)return O;let B=0;return O.endsWith("/")&&B++,te.startsWith("/")&&B++,2==B?O+te.substring(1):1==B?O+te:O+"/"+te}function ce(O){const te=O.match(/#|\?|$/),B=te&&te.index||O.length;return O.slice(0,B-("/"===O[B-1]?1:0))+O.slice(B)}function Ee(O){return O&&"?"!==O[0]?"?"+O:O}let Xe=(()=>{class O{historyGo(B){throw new Error("Not implemented")}static#e=this.\u0275fac=function(X){return new(X||O)};static#t=this.\u0275prov=b.Yz7({token:O,factory:function(){return(0,b.f3M)(rt)},providedIn:"root"})}return O})();const Re=new b.OlP("appBaseHref");let rt=(()=>{class O extends Xe{constructor(B,X){super(),this._platformLocation=B,this._removeListenerFns=[],this._baseHref=X??this._platformLocation.getBaseHrefFromDOM()??(0,b.f3M)(de).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}prepareExternalUrl(B){return ne(this._baseHref,B)}path(B=!1){const X=this._platformLocation.pathname+Ee(this._platformLocation.search),ge=this._platformLocation.hash;return ge&&B?`${X}${ge}`:X}pushState(B,X,ge,Je){const dt=this.prepareExternalUrl(ge+Ee(Je));this._platformLocation.pushState(B,X,dt)}replaceState(B,X,ge,Je){const dt=this.prepareExternalUrl(ge+Ee(Je));this._platformLocation.replaceState(B,X,dt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){this._platformLocation.historyGo?.(B)}static#e=this.\u0275fac=function(X){return new(X||O)(b.LFG(Ae),b.LFG(Re,8))};static#t=this.\u0275prov=b.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"})}return O})(),Dt=(()=>{class O extends Xe{constructor(B,X){super(),this._platformLocation=B,this._baseHref="",this._removeListenerFns=[],null!=X&&(this._baseHref=X)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}path(B=!1){let X=this._platformLocation.hash;return null==X&&(X="#"),X.length>0?X.substring(1):X}prepareExternalUrl(B){const X=ne(this._baseHref,B);return X.length>0?"#"+X:X}pushState(B,X,ge,Je){let dt=this.prepareExternalUrl(ge+Ee(Je));0==dt.length&&(dt=this._platformLocation.pathname),this._platformLocation.pushState(B,X,dt)}replaceState(B,X,ge,Je){let dt=this.prepareExternalUrl(ge+Ee(Je));0==dt.length&&(dt=this._platformLocation.pathname),this._platformLocation.replaceState(B,X,dt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){this._platformLocation.historyGo?.(B)}static#e=this.\u0275fac=function(X){return new(X||O)(b.LFG(Ae),b.LFG(Re,8))};static#t=this.\u0275prov=b.Yz7({token:O,factory:O.\u0275fac})}return O})(),kt=(()=>{class O{constructor(B){this._subject=new b.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=B;const X=this._locationStrategy.getBaseHref();this._basePath=function ft(O){if(new RegExp("^(https?:)?//").test(O)){const[,B]=O.split(/\/\/[^\/]+/);return B}return O}(ce(Nt(X))),this._locationStrategy.onPopState(ge=>{this._subject.emit({url:this.path(!0),pop:!0,state:ge.state,type:ge.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(B=!1){return this.normalize(this._locationStrategy.path(B))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(B,X=""){return this.path()==this.normalize(B+Ee(X))}normalize(B){return O.stripTrailingSlash(function En(O,te){if(!O||!te.startsWith(O))return te;const B=te.substring(O.length);return""===B||["/",";","?","#"].includes(B[0])?B:te}(this._basePath,Nt(B)))}prepareExternalUrl(B){return B&&"/"!==B[0]&&(B="/"+B),this._locationStrategy.prepareExternalUrl(B)}go(B,X="",ge=null){this._locationStrategy.pushState(ge,"",B,X),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+Ee(X)),ge)}replaceState(B,X="",ge=null){this._locationStrategy.replaceState(ge,"",B,X),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+Ee(X)),ge)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(B=0){this._locationStrategy.historyGo?.(B)}onUrlChange(B){return this._urlChangeListeners.push(B),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(X=>{this._notifyUrlChangeListeners(X.url,X.state)})),()=>{const X=this._urlChangeListeners.indexOf(B);this._urlChangeListeners.splice(X,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(B="",X){this._urlChangeListeners.forEach(ge=>ge(B,X))}subscribe(B,X,ge){return this._subject.subscribe({next:B,error:X,complete:ge})}static#e=this.normalizeQueryParams=Ee;static#t=this.joinWithSlash=ne;static#n=this.stripTrailingSlash=ce;static#r=this.\u0275fac=function(X){return new(X||O)(b.LFG(Xe))};static#i=this.\u0275prov=b.Yz7({token:O,factory:function(){return function Rt(){return new kt((0,b.LFG)(Xe))}()},providedIn:"root"})}return O})();function Nt(O){return O.replace(/\/index.html$/,"")}var He=function(O){return O[O.Format=0]="Format",O[O.Standalone=1]="Standalone",O}(He||{}),me=function(O){return O[O.Narrow=0]="Narrow",O[O.Abbreviated=1]="Abbreviated",O[O.Wide=2]="Wide",O[O.Short=3]="Short",O}(me||{}),Ye=function(O){return O[O.Short=0]="Short",O[O.Medium=1]="Medium",O[O.Long=2]="Long",O[O.Full=3]="Full",O}(Ye||{}),ht=function(O){return O[O.Decimal=0]="Decimal",O[O.Group=1]="Group",O[O.List=2]="List",O[O.PercentSign=3]="PercentSign",O[O.PlusSign=4]="PlusSign",O[O.MinusSign=5]="MinusSign",O[O.Exponential=6]="Exponential",O[O.SuperscriptingExponent=7]="SuperscriptingExponent",O[O.PerMille=8]="PerMille",O[O.Infinity=9]="Infinity",O[O.NaN=10]="NaN",O[O.TimeSeparator=11]="TimeSeparator",O[O.CurrencyDecimal=12]="CurrencyDecimal",O[O.CurrencyGroup=13]="CurrencyGroup",O}(ht||{});function vn(O,te,B){const X=(0,b.cg1)(O),Je=we([X[b.wAp.DaysFormat],X[b.wAp.DaysStandalone]],te);return we(Je,B)}function xn(O,te,B){const X=(0,b.cg1)(O),Je=we([X[b.wAp.MonthsFormat],X[b.wAp.MonthsStandalone]],te);return we(Je,B)}function Ge(O,te){return we((0,b.cg1)(O)[b.wAp.DateFormat],te)}function Qe(O,te){return we((0,b.cg1)(O)[b.wAp.TimeFormat],te)}function Le(O,te){return we((0,b.cg1)(O)[b.wAp.DateTimeFormat],te)}function tt(O,te){const B=(0,b.cg1)(O),X=B[b.wAp.NumberSymbols][te];if(typeof X>"u"){if(te===ht.CurrencyDecimal)return B[b.wAp.NumberSymbols][ht.Decimal];if(te===ht.CurrencyGroup)return B[b.wAp.NumberSymbols][ht.Group]}return X}function wt(O){if(!O[b.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${O[b.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function we(O,te){for(let B=te;B>-1;B--)if(typeof O[B]<"u")return O[B];throw new Error("Locale data API: locale data undefined")}function Oe(O){const[te,B]=O.split(":");return{hours:+te,minutes:+B}}const Tt=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,hr={},bn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var tn=function(O){return O[O.Short=0]="Short",O[O.ShortGMT=1]="ShortGMT",O[O.Long=2]="Long",O[O.Extended=3]="Extended",O}(tn||{}),zt=function(O){return O[O.FullYear=0]="FullYear",O[O.Month=1]="Month",O[O.Date=2]="Date",O[O.Hours=3]="Hours",O[O.Minutes=4]="Minutes",O[O.Seconds=5]="Seconds",O[O.FractionalSeconds=6]="FractionalSeconds",O[O.Day=7]="Day",O}(zt||{}),mn=function(O){return O[O.DayPeriods=0]="DayPeriods",O[O.Days=1]="Days",O[O.Months=2]="Months",O[O.Eras=3]="Eras",O}(mn||{});function Hn(O,te,B,X){let ge=function L(O){if(W(O))return O;if("number"==typeof O&&!isNaN(O))return new Date(O);if("string"==typeof O){if(O=O.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(O)){const[ge,Je=1,dt=1]=O.split("-").map(hn=>+hn);return Kt(ge,Je-1,dt)}const B=parseFloat(O);if(!isNaN(O-B))return new Date(B);let X;if(X=O.match(Tt))return function H(O){const te=new Date(0);let B=0,X=0;const ge=O[8]?te.setUTCFullYear:te.setFullYear,Je=O[8]?te.setUTCHours:te.setHours;O[9]&&(B=Number(O[9]+O[10]),X=Number(O[9]+O[11])),ge.call(te,Number(O[1]),Number(O[2])-1,Number(O[3]));const dt=Number(O[4]||0)-B,hn=Number(O[5]||0)-X,Er=Number(O[6]||0),pr=Math.floor(1e3*parseFloat("0."+(O[7]||0)));return Je.call(te,dt,hn,Er,pr),te}(X)}const te=new Date(O);if(!W(te))throw new Error(`Unable to convert "${O}" into a date`);return te}(O);te=yr(B,te)||te;let hn,dt=[];for(;te;){if(hn=bn.exec(te),!hn){dt.push(te);break}{dt=dt.concat(hn.slice(1));const Xn=dt.pop();if(!Xn)break;te=Xn}}let Er=ge.getTimezoneOffset();X&&(Er=qt(X,Er),ge=function K(O,te,B){const X=B?-1:1,ge=O.getTimezoneOffset();return function kn(O,te){return(O=new Date(O.getTime())).setMinutes(O.getMinutes()+te),O}(O,X*(qt(te,ge)-ge))}(ge,X,!0));let pr="";return dt.forEach(Xn=>{const Bn=function Wt(O){if(bt[O])return bt[O];let te;switch(O){case"G":case"GG":case"GGG":te=Pn(mn.Eras,me.Abbreviated);break;case"GGGG":te=Pn(mn.Eras,me.Wide);break;case"GGGGG":te=Pn(mn.Eras,me.Narrow);break;case"y":te=Un(zt.FullYear,1,0,!1,!0);break;case"yy":te=Un(zt.FullYear,2,0,!0,!0);break;case"yyy":te=Un(zt.FullYear,3,0,!1,!0);break;case"yyyy":te=Un(zt.FullYear,4,0,!1,!0);break;case"Y":te=qe(1);break;case"YY":te=qe(2,!0);break;case"YYY":te=qe(3);break;case"YYYY":te=qe(4);break;case"M":case"L":te=Un(zt.Month,1,1);break;case"MM":case"LL":te=Un(zt.Month,2,1);break;case"MMM":te=Pn(mn.Months,me.Abbreviated);break;case"MMMM":te=Pn(mn.Months,me.Wide);break;case"MMMMM":te=Pn(mn.Months,me.Narrow);break;case"LLL":te=Pn(mn.Months,me.Abbreviated,He.Standalone);break;case"LLLL":te=Pn(mn.Months,me.Wide,He.Standalone);break;case"LLLLL":te=Pn(mn.Months,me.Narrow,He.Standalone);break;case"w":te=Te(1);break;case"ww":te=Te(2);break;case"W":te=Te(1,!0);break;case"d":te=Un(zt.Date,1);break;case"dd":te=Un(zt.Date,2);break;case"c":case"cc":te=Un(zt.Day,1);break;case"ccc":te=Pn(mn.Days,me.Abbreviated,He.Standalone);break;case"cccc":te=Pn(mn.Days,me.Wide,He.Standalone);break;case"ccccc":te=Pn(mn.Days,me.Narrow,He.Standalone);break;case"cccccc":te=Pn(mn.Days,me.Short,He.Standalone);break;case"E":case"EE":case"EEE":te=Pn(mn.Days,me.Abbreviated);break;case"EEEE":te=Pn(mn.Days,me.Wide);break;case"EEEEE":te=Pn(mn.Days,me.Narrow);break;case"EEEEEE":te=Pn(mn.Days,me.Short);break;case"a":case"aa":case"aaa":te=Pn(mn.DayPeriods,me.Abbreviated);break;case"aaaa":te=Pn(mn.DayPeriods,me.Wide);break;case"aaaaa":te=Pn(mn.DayPeriods,me.Narrow);break;case"b":case"bb":case"bbb":te=Pn(mn.DayPeriods,me.Abbreviated,He.Standalone,!0);break;case"bbbb":te=Pn(mn.DayPeriods,me.Wide,He.Standalone,!0);break;case"bbbbb":te=Pn(mn.DayPeriods,me.Narrow,He.Standalone,!0);break;case"B":case"BB":case"BBB":te=Pn(mn.DayPeriods,me.Abbreviated,He.Format,!0);break;case"BBBB":te=Pn(mn.DayPeriods,me.Wide,He.Format,!0);break;case"BBBBB":te=Pn(mn.DayPeriods,me.Narrow,He.Format,!0);break;case"h":te=Un(zt.Hours,1,-12);break;case"hh":te=Un(zt.Hours,2,-12);break;case"H":te=Un(zt.Hours,1);break;case"HH":te=Un(zt.Hours,2);break;case"m":te=Un(zt.Minutes,1);break;case"mm":te=Un(zt.Minutes,2);break;case"s":te=Un(zt.Seconds,1);break;case"ss":te=Un(zt.Seconds,2);break;case"S":te=Un(zt.FractionalSeconds,1);break;case"SS":te=Un(zt.FractionalSeconds,2);break;case"SSS":te=Un(zt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":te=Dn(tn.Short);break;case"ZZZZZ":te=Dn(tn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":te=Dn(tn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":te=Dn(tn.Long);break;default:return null}return bt[O]=te,te}(Xn);pr+=Bn?Bn(ge,B,Er):"''"===Xn?"'":Xn.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),pr}function Kt(O,te,B){const X=new Date(0);return X.setFullYear(O,te,B),X.setHours(0,0,0),X}function yr(O,te){const B=function ct(O){return(0,b.cg1)(O)[b.wAp.LocaleId]}(O);if(hr[B]=hr[B]||{},hr[B][te])return hr[B][te];let X="";switch(te){case"shortDate":X=Ge(O,Ye.Short);break;case"mediumDate":X=Ge(O,Ye.Medium);break;case"longDate":X=Ge(O,Ye.Long);break;case"fullDate":X=Ge(O,Ye.Full);break;case"shortTime":X=Qe(O,Ye.Short);break;case"mediumTime":X=Qe(O,Ye.Medium);break;case"longTime":X=Qe(O,Ye.Long);break;case"fullTime":X=Qe(O,Ye.Full);break;case"short":const ge=yr(O,"shortTime"),Je=yr(O,"shortDate");X=fr(Le(O,Ye.Short),[ge,Je]);break;case"medium":const dt=yr(O,"mediumTime"),hn=yr(O,"mediumDate");X=fr(Le(O,Ye.Medium),[dt,hn]);break;case"long":const Er=yr(O,"longTime"),pr=yr(O,"longDate");X=fr(Le(O,Ye.Long),[Er,pr]);break;case"full":const Xn=yr(O,"fullTime"),Bn=yr(O,"fullDate");X=fr(Le(O,Ye.Full),[Xn,Bn])}return X&&(hr[B][te]=X),X}function fr(O,te){return te&&(O=O.replace(/\{([^}]+)}/g,function(B,X){return null!=te&&X in te?te[X]:B})),O}function dn(O,te,B="-",X,ge){let Je="";(O<0||ge&&O<=0)&&(ge?O=1-O:(O=-O,Je=B));let dt=String(O);for(;dt.length<te;)dt="0"+dt;return X&&(dt=dt.slice(dt.length-te)),Je+dt}function Un(O,te,B=0,X=!1,ge=!1){return function(Je,dt){let hn=function Jn(O,te){switch(O){case zt.FullYear:return te.getFullYear();case zt.Month:return te.getMonth();case zt.Date:return te.getDate();case zt.Hours:return te.getHours();case zt.Minutes:return te.getMinutes();case zt.Seconds:return te.getSeconds();case zt.FractionalSeconds:return te.getMilliseconds();case zt.Day:return te.getDay();default:throw new Error(`Unknown DateType value "${O}".`)}}(O,Je);if((B>0||hn>-B)&&(hn+=B),O===zt.Hours)0===hn&&-12===B&&(hn=12);else if(O===zt.FractionalSeconds)return function Qn(O,te){return dn(O,3).substring(0,te)}(hn,te);const Er=tt(dt,ht.MinusSign);return dn(hn,te,Er,X,ge)}}function Pn(O,te,B=He.Format,X=!1){return function(ge,Je){return function ti(O,te,B,X,ge,Je){switch(B){case mn.Months:return xn(te,ge,X)[O.getMonth()];case mn.Days:return vn(te,ge,X)[O.getDay()];case mn.DayPeriods:const dt=O.getHours(),hn=O.getMinutes();if(Je){const pr=function Ln(O){const te=(0,b.cg1)(O);return wt(te),(te[b.wAp.ExtraData][2]||[]).map(X=>"string"==typeof X?Oe(X):[Oe(X[0]),Oe(X[1])])}(te),Xn=function lr(O,te,B){const X=(0,b.cg1)(O);wt(X);const Je=we([X[b.wAp.ExtraData][0],X[b.wAp.ExtraData][1]],te)||[];return we(Je,B)||[]}(te,ge,X),Bn=pr.findIndex(Xr=>{if(Array.isArray(Xr)){const[Fr,ci]=Xr,Wi=dt>=Fr.hours&&hn>=Fr.minutes,so=dt<ci.hours||dt===ci.hours&&hn<ci.minutes;if(Fr.hours<ci.hours){if(Wi&&so)return!0}else if(Wi||so)return!0}else if(Xr.hours===dt&&Xr.minutes===hn)return!0;return!1});if(-1!==Bn)return Xn[Bn]}return function cn(O,te,B){const X=(0,b.cg1)(O),Je=we([X[b.wAp.DayPeriodsFormat],X[b.wAp.DayPeriodsStandalone]],te);return we(Je,B)}(te,ge,X)[dt<12?0:1];case mn.Eras:return function Wn(O,te){return we((0,b.cg1)(O)[b.wAp.Eras],te)}(te,X)[O.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${B}`)}}(ge,Je,O,te,B,X)}}function Dn(O){return function(te,B,X){const ge=-1*X,Je=tt(B,ht.MinusSign),dt=ge>0?Math.floor(ge/60):Math.ceil(ge/60);switch(O){case tn.Short:return(ge>=0?"+":"")+dn(dt,2,Je)+dn(Math.abs(ge%60),2,Je);case tn.ShortGMT:return"GMT"+(ge>=0?"+":"")+dn(dt,1,Je);case tn.Long:return"GMT"+(ge>=0?"+":"")+dn(dt,2,Je)+":"+dn(Math.abs(ge%60),2,Je);case tn.Extended:return 0===X?"Z":(ge>=0?"+":"")+dn(dt,2,Je)+":"+dn(Math.abs(ge%60),2,Je);default:throw new Error(`Unknown zone width "${O}"`)}}}const Gn=0,Tr=4;function et(O){return Kt(O.getFullYear(),O.getMonth(),O.getDate()+(Tr-O.getDay()))}function Te(O,te=!1){return function(B,X){let ge;if(te){const Je=new Date(B.getFullYear(),B.getMonth(),1).getDay()-1,dt=B.getDate();ge=1+Math.floor((dt+Je)/7)}else{const Je=et(B),dt=function ni(O){const te=Kt(O,Gn,1).getDay();return Kt(O,0,1+(te<=Tr?Tr:Tr+7)-te)}(Je.getFullYear()),hn=Je.getTime()-dt.getTime();ge=1+Math.round(hn/6048e5)}return dn(ge,O,tt(X,ht.MinusSign))}}function qe(O,te=!1){return function(B,X){return dn(et(B).getFullYear(),O,tt(X,ht.MinusSign),te)}}const bt={};function qt(O,te){O=O.replace(/:/g,"");const B=Date.parse("Jan 01, 1970 00:00:00 "+O)/6e4;return isNaN(B)?te:B}function W(O){return O instanceof Date&&!isNaN(O.valueOf())}function To(O,te){te=encodeURIComponent(te);for(const B of O.split(";")){const X=B.indexOf("="),[ge,Je]=-1==X?[B,""]:[B.slice(0,X),B.slice(X+1)];if(ge.trim()===te)return decodeURIComponent(Je)}return null}class Zr{constructor(te,B,X,ge){this.$implicit=te,this.ngForOf=B,this.index=X,this.count=ge}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Eo=(()=>{class O{set ngForOf(B){this._ngForOf=B,this._ngForOfDirty=!0}set ngForTrackBy(B){this._trackByFn=B}get ngForTrackBy(){return this._trackByFn}constructor(B,X,ge){this._viewContainer=B,this._template=X,this._differs=ge,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(B){B&&(this._template=B)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const B=this._ngForOf;!this._differ&&B&&(this._differ=this._differs.find(B).create(this.ngForTrackBy))}if(this._differ){const B=this._differ.diff(this._ngForOf);B&&this._applyChanges(B)}}_applyChanges(B){const X=this._viewContainer;B.forEachOperation((ge,Je,dt)=>{if(null==ge.previousIndex)X.createEmbeddedView(this._template,new Zr(ge.item,this._ngForOf,-1,-1),null===dt?void 0:dt);else if(null==dt)X.remove(null===Je?void 0:Je);else if(null!==Je){const hn=X.get(Je);X.move(hn,dt),Ci(hn,ge)}});for(let ge=0,Je=X.length;ge<Je;ge++){const hn=X.get(ge).context;hn.index=ge,hn.count=Je,hn.ngForOf=this._ngForOf}B.forEachIdentityChange(ge=>{Ci(X.get(ge.currentIndex),ge)})}static ngTemplateContextGuard(B,X){return!0}static#e=this.\u0275fac=function(X){return new(X||O)(b.Y36(b.s_b),b.Y36(b.Rgc),b.Y36(b.ZZ4))};static#t=this.\u0275dir=b.lG2({type:O,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return O})();function Ci(O,te){O.context.$implicit=te.item}let Gi=(()=>{class O{constructor(B,X){this._viewContainer=B,this._context=new ka,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=X}set ngIf(B){this._context.$implicit=this._context.ngIf=B,this._updateView()}set ngIfThen(B){Kr("ngIfThen",B),this._thenTemplateRef=B,this._thenViewRef=null,this._updateView()}set ngIfElse(B){Kr("ngIfElse",B),this._elseTemplateRef=B,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(B,X){return!0}static#e=this.\u0275fac=function(X){return new(X||O)(b.Y36(b.s_b),b.Y36(b.Rgc))};static#t=this.\u0275dir=b.lG2({type:O,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return O})();class ka{constructor(){this.$implicit=null,this.ngIf=null}}function Kr(O,te){if(te&&!te.createEmbeddedView)throw new Error(`${O} must be a TemplateRef, but received '${(0,b.AaK)(te)}'.`)}let mo=(()=>{class O{constructor(B){this._viewContainerRef=B,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(B){if(B.ngTemplateOutlet||B.ngTemplateOutletInjector){const X=this._viewContainerRef;if(this._viewRef&&X.remove(X.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:ge,ngTemplateOutletContext:Je,ngTemplateOutletInjector:dt}=this;this._viewRef=X.createEmbeddedView(ge,Je,dt?{injector:dt}:void 0)}else this._viewRef=null}else this._viewRef&&B.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(X){return new(X||O)(b.Y36(b.s_b))};static#t=this.\u0275dir=b.lG2({type:O,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[b.TTD]})}return O})();const sa=new b.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Ls=new b.OlP("DATE_PIPE_DEFAULT_OPTIONS");let gs=(()=>{class O{constructor(B,X,ge){this.locale=B,this.defaultTimezone=X,this.defaultOptions=ge}transform(B,X,ge,Je){if(null==B||""===B||B!=B)return null;try{return Hn(B,X??this.defaultOptions?.dateFormat??"mediumDate",Je||this.locale,ge??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(dt){throw function Zn(O,te){return new b.vHH(2100,!1)}()}}static#e=this.\u0275fac=function(X){return new(X||O)(b.Y36(b.soG,16),b.Y36(sa,24),b.Y36(Ls,24))};static#t=this.\u0275pipe=b.Yjl({name:"date",type:O,pure:!0,standalone:!0})}return O})(),dr=(()=>{class O{static#e=this.\u0275fac=function(X){return new(X||O)};static#t=this.\u0275mod=b.oAB({type:O});static#n=this.\u0275inj=b.cJS({})}return O})();const ii="browser",_s="server";function Ur(O){return O===_s}let Ca=(()=>{class O{static#e=this.\u0275prov=(0,b.Yz7)({token:O,providedIn:"root",factory:()=>new _o((0,b.LFG)(de),window)})}return O})();class _o{constructor(te,B){this.document=te,this.window=B,this.offset=()=>[0,0]}setOffset(te){this.offset=Array.isArray(te)?()=>te:te}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(te){this.supportsScrolling()&&this.window.scrollTo(te[0],te[1])}scrollToAnchor(te){if(!this.supportsScrolling())return;const B=function Rr(O,te){const B=O.getElementById(te)||O.getElementsByName(te)[0];if(B)return B;if("function"==typeof O.createTreeWalker&&O.body&&"function"==typeof O.body.attachShadow){const X=O.createTreeWalker(O.body,NodeFilter.SHOW_ELEMENT);let ge=X.currentNode;for(;ge;){const Je=ge.shadowRoot;if(Je){const dt=Je.getElementById(te)||Je.querySelector(`[name="${te}"]`);if(dt)return dt}ge=X.nextNode()}}return null}(this.document,te);B&&(this.scrollToElement(B),B.focus())}setHistoryScrollRestoration(te){this.supportsScrolling()&&(this.window.history.scrollRestoration=te)}scrollToElement(te){const B=te.getBoundingClientRect(),X=B.left+this.window.pageXOffset,ge=B.top+this.window.pageYOffset,Je=this.offset();this.window.scrollTo(X-Je[0],ge-Je[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Ni{}},9468:(Ut,$e,Q)=>{Q.d($e,{tb:()=>yI,AFp:()=>Nm,ip1:()=>c0,hGG:()=>UE,z2F:()=>yc,Ojb:()=>QI,sBO:()=>xE,Sil:()=>cI,EJc:()=>aI,ktI:()=>ei,Xts:()=>tf,SBq:()=>nr,lqb:()=>tu,qLn:()=>xa,vpe:()=>nu,XFs:()=>Kt,OlP:()=>Dn,zs3:()=>lo,ZZ4:()=>S0,aQg:()=>A0,soG:()=>u0,YKP:()=>Mg,h0i:()=>su,PXZ:()=>kC,R0b:()=>Ns,FiY:()=>Hh,Lbi:()=>Ss,g9A:()=>Cs,Qsj:()=>Gr,FYo:()=>mr,JOm:()=>ui,q3G:()=>Ki,tp0:()=>Jl,Rgc:()=>Bf,dDg:()=>EE,eoX:()=>zf,q4F:()=>Fo,GfV:()=>di,s_b:()=>Gy,ifc:()=>Ri,gHi:()=>ja,VuI:()=>jE,LMc:()=>xS,MMx:()=>Ay,Lck:()=>AT,eFA:()=>bI,Gpc:()=>En,f3M:()=>qn,$WT:()=>no,_c5:()=>N0,qFp:()=>qf,rg0:()=>pr,c2e:()=>vE,zSh:()=>Cm,HDt:()=>l0,wAp:()=>bg,vHH:()=>He,lri:()=>mI,rWj:()=>y0,JZr:()=>pt,EiD:()=>Ap,mCW:()=>mm,qzn:()=>El,JVY:()=>J0,pB0:()=>fv,eBb:()=>ZE,L6k:()=>cd,LAX:()=>X0,cg1:()=>pb,kL8:()=>gy,dqk:()=>Jn,Z0I:()=>gt,eJc:()=>C_,QGY:()=>kl,F4k:()=>B1,RDi:()=>Z0,AaK:()=>Dt,z3N:()=>Eu,zW0:()=>Mc,qOj:()=>eg,Xq5:()=>Ke,TTD:()=>Wi,_Bn:()=>Nb,jDz:()=>OT,xp6:()=>kv,uIk:()=>yf,Tol:()=>tl,ekj:()=>ly,Suo:()=>KT,Xpm:()=>ps,lG2:()=>gs,Yz7:()=>we,cJS:()=>xe,oAB:()=>So,Yjl:()=>Vs,Y36:()=>ff,_UZ:()=>Jv,BQk:()=>ty,ynx:()=>ey,qZA:()=>_h,TgZ:()=>cg,EpF:()=>Ui,n5z:()=>$d,Ikx:()=>py,SDv:()=>ET,LFG:()=>Nn,$8M:()=>k,$Z:()=>jm,NdJ:()=>ny,CRH:()=>YT,kcU:()=>zl,O4$:()=>Ts,oxw:()=>Af,ALo:()=>ky,lcZ:()=>Lb,xi3:()=>Fy,Hsn:()=>G1,F$t:()=>ry,Q6J:()=>t_,s9C:()=>r_,MGl:()=>i_,VKq:()=>Rb,WLB:()=>Py,kEZ:()=>BT,iGM:()=>Hf,MAs:()=>Df,KtG:()=>jl,Jf7:()=>f1,CHM:()=>al,uOi:()=>dc,LSH:()=>hd,P3R:()=>Im,YNc:()=>Xm,W1O:()=>Yy,_uU:()=>eb,Oqu:()=>nb,hij:()=>Mi,lnq:()=>fg,Gf:()=>Ky});var b=Q(8645),ae=Q(7394),l=Q(5592),ye=Q(3019),ue=Q(5619),de=Q(2096),Ae=Q(4829),Ue=Q(305),Ie=Q(9360);function ne(r={}){const{connector:o=(()=>new b.x),resetOnError:s=!0,resetOnComplete:c=!0,resetOnRefCountZero:f=!0}=r;return m=>{let I,C,x,$=0,re=!1,fe=!1;const Ne=()=>{C?.unsubscribe(),C=void 0},ke=()=>{Ne(),I=x=void 0,re=fe=!1},lt=()=>{const Ct=I;ke(),Ct?.unsubscribe()};return(0,Ie.e)((Ct,Qt)=>{$++,!fe&&!re&&Ne();const gn=x=x??o();Qt.add(()=>{$--,0===$&&!fe&&!re&&(C=ce(lt,f))}),gn.subscribe(Qt),!I&&$>0&&(I=new Ue.Hp({next:vt=>gn.next(vt),error:vt=>{fe=!0,Ne(),C=ce(ke,s,vt),gn.error(vt)},complete:()=>{re=!0,Ne(),C=ce(ke,c),gn.complete()}}),(0,Ae.Xf)(Ct).subscribe(I))})(m)}}function ce(r,o,...s){if(!0===o)return void r();if(!1===o)return;const c=new Ue.Hp({next:()=>{c.unsubscribe(),r()}});return(0,Ae.Xf)(o(...s)).subscribe(c)}var Ee=Q(4664),Xe=Q(3997);function Re(r){for(let o in r)if(r[o]===Re)return o;throw Error("Could not find renamed property on target object.")}function rt(r,o){for(const s in o)o.hasOwnProperty(s)&&!r.hasOwnProperty(s)&&(r[s]=o[s])}function Dt(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(Dt).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const o=r.toString();if(null==o)return""+o;const s=o.indexOf("\n");return-1===s?o:o.substring(0,s)}function kt(r,o){return null==r||""===r?null===o?"":o:null==o||""===o?r:r+" "+o}const Rt=Re({__forward_ref__:Re});function En(r){return r.__forward_ref__=En,r.toString=function(){return Dt(this())},r}function Nt(r){return ft(r)?r():r}function ft(r){return"function"==typeof r&&r.hasOwnProperty(Rt)&&r.__forward_ref__===En}function ot(r){return r&&!!r.\u0275providers}const pt="https://g.co/ng/security#xss";class He extends Error{constructor(o,s){super(function me(r,o){return`NG0${Math.abs(r)}${o?": "+o:""}`}(o,s)),this.code=o}}function Ye(r){return"string"==typeof r?r:null==r?"":String(r)}function vn(r,o){throw new He(-201,!1)}function wt(r,o,s,c){throw new Error(`ASSERTION ERROR: ${r}`+(null==c?"":` [Expected=> ${s} ${c} ${o} <=Actual]`))}function we(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function xe(r){return{providers:r.providers||[],imports:r.imports||[]}}function st(r){return Tt(r,tn)||Tt(r,mn)}function gt(r){return null!==st(r)}function Tt(r,o){return r.hasOwnProperty(o)?r[o]:null}function bn(r){return r&&(r.hasOwnProperty(zt)||r.hasOwnProperty(Hn))?r[zt]:null}const tn=Re({\u0275prov:Re}),zt=Re({\u0275inj:Re}),mn=Re({ngInjectableDef:Re}),Hn=Re({ngInjectorDef:Re});var Kt=function(r){return r[r.Default=0]="Default",r[r.Host=1]="Host",r[r.Self=2]="Self",r[r.SkipSelf=4]="SkipSelf",r[r.Optional=8]="Optional",r}(Kt||{});let yr;function fr(){return yr}function dn(r){const o=yr;return yr=r,o}function Qn(r,o,s){const c=st(r);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:s&Kt.Optional?null:void 0!==o?o:void vn(Dt(r))}const Jn=globalThis;class Dn{constructor(o,s){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=we({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const L={},H="__NG_DI_FLAG__",W="ngTempTokenPath",_e=/\n/gm,It="__source";let en;function Tn(r){const o=en;return en=r,o}function $t(r,o=Kt.Default){if(void 0===en)throw new He(-203,!1);return null===en?Qn(r,void 0,o):en.get(r,o&Kt.Optional?null:void 0,o)}function Nn(r,o=Kt.Default){return(fr()||$t)(Nt(r),o)}function qn(r,o=Kt.Default){return Nn(r,Ho(o))}function Ho(r){return typeof r>"u"||"number"==typeof r?r:0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)}function na(r){const o=[];for(let s=0;s<r.length;s++){const c=Nt(r[s]);if(Array.isArray(c)){if(0===c.length)throw new He(900,!1);let f,m=Kt.Default;for(let I=0;I<c.length;I++){const C=c[I],x=ra(C);"number"==typeof x?-1===x?f=C.token:m|=x:f=C}o.push(Nn(f,m))}else o.push(Nn(c))}return o}function Qi(r,o){return r[H]=o,r.prototype[H]=o,r}function ra(r){return r[H]}function $n(r){return{toString:r}.toString()}var Ji=function(r){return r[r.OnPush=0]="OnPush",r[r.Default=1]="Default",r}(Ji||{}),Ri=function(r){return r[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",r}(Ri||{});const Hi={},Vn=[],To=Re({\u0275cmp:Re}),Go=Re({\u0275dir:Re}),fs=Re({\u0275pipe:Re}),ia=Re({\u0275mod:Re}),Nr=Re({\u0275fac:Re}),go=Re({__NG_ELEMENT_ID__:Re}),Zr=Re({__NG_ENV_ID__:Re});function Eo(r,o,s){let c=r.length;for(;;){const f=r.indexOf(o,s);if(-1===f)return f;if(0===f||r.charCodeAt(f-1)<=32){const m=o.length;if(f+m===c||r.charCodeAt(f+m)<=32)return f}s=f+1}}function Ci(r,o,s){let c=0;for(;c<s.length;){const f=s[c];if("number"==typeof f){if(0!==f)break;c++;const m=s[c++],I=s[c++],C=s[c++];r.setAttribute(o,I,C,m)}else{const m=f,I=s[++c];Gi(m)?r.setProperty(o,m,I):r.setAttribute(o,m,I),c++}}return c}function Ea(r){return 3===r||4===r||6===r}function Gi(r){return 64===r.charCodeAt(0)}function ka(r,o){if(null!==o&&0!==o.length)if(null===r||0===r.length)r=o.slice();else{let s=-1;for(let c=0;c<o.length;c++){const f=o[c];"number"==typeof f?s=f:0===s||Kr(r,s,f,null,-1===s||2===s?o[++c]:null)}}return r}function Kr(r,o,s,c,f){let m=0,I=r.length;if(-1===o)I=-1;else for(;m<r.length;){const C=r[m++];if("number"==typeof C){if(C===o){I=-1;break}if(C>o){I=m-1;break}}}for(;m<r.length;){const C=r[m];if("number"==typeof C)break;if(C===s){if(null===c)return void(null!==f&&(r[m+1]=f));if(c===r[m+1])return void(r[m+2]=f)}m++,null!==c&&m++,null!==f&&m++}-1!==I&&(r.splice(I,0,o),m=I+1),r.splice(m++,0,s),null!==c&&r.splice(m++,0,c),null!==f&&r.splice(m++,0,f)}const Da="ng-template";function Xi(r,o,s){let c=0,f=!0;for(;c<r.length;){let m=r[c++];if("string"==typeof m&&f){const I=r[c++];if(s&&"class"===m&&-1!==Eo(I.toLowerCase(),o,0))return!0}else{if(1===m){for(;c<r.length&&"string"==typeof(m=r[c++]);)if(m.toLowerCase()===o)return!0;return!1}"number"==typeof m&&(f=!1)}}return!1}function Do(r){return 4===r.type&&r.value!==Da}function Ps(r,o,s){return o===(4!==r.type||s?r.value:Da)}function eo(r,o,s){let c=4;const f=r.attrs||[],m=function Za(r){for(let o=0;o<r.length;o++)if(Ea(r[o]))return o;return r.length}(f);let I=!1;for(let C=0;C<o.length;C++){const x=o[C];if("number"!=typeof x){if(!I)if(4&c){if(c=2|1&c,""!==x&&!Ps(r,x,s)||""===x&&1===o.length){if(ri(c))return!1;I=!0}}else{const $=8&c?x:o[++C];if(8&c&&null!==r.attrs){if(!Xi(r.attrs,$,s)){if(ri(c))return!1;I=!0}continue}const fe=to(8&c?"class":x,f,Do(r),s);if(-1===fe){if(ri(c))return!1;I=!0;continue}if(""!==$){let Ne;Ne=fe>m?"":f[fe+1].toLowerCase();const ke=8&c?Ne:null;if(ke&&-1!==Eo(ke,$,0)||2&c&&$!==Ne){if(ri(c))return!1;I=!0}}}}else{if(!I&&!ri(c)&&!ri(x))return!1;if(I&&ri(x))continue;I=!1,c=x|1&c}}return ri(c)||I}function ri(r){return 0==(1&r)}function to(r,o,s,c){if(null===o)return-1;let f=0;if(c||!s){let m=!1;for(;f<o.length;){const I=o[f];if(I===r)return f;if(3===I||6===I)m=!0;else{if(1===I||2===I){let C=o[++f];for(;"string"==typeof C;)C=o[++f];continue}if(4===I)break;if(0===I){f+=4;continue}}f+=m?1:2}return-1}return function Zn(r,o){let s=r.indexOf(4);if(s>-1)for(s++;s<r.length;){const c=r[s];if("number"==typeof c)return-1;if(c===o)return s;s++}return-1}(o,r)}function Pi(r,o,s=!1){for(let c=0;c<o.length;c++)if(eo(r,o[c],s))return!0;return!1}function Co(r,o){e:for(let s=0;s<o.length;s++){const c=o[s];if(r.length===c.length){for(let f=0;f<r.length;f++)if(r[f]!==c[f])continue e;return!0}}return!1}function xr(r,o){return r?":not("+o.trim()+")":o}function Ic(r){let o=r[0],s=1,c=2,f="",m=!1;for(;s<r.length;){let I=r[s];if("string"==typeof I)if(2&c){const C=r[++s];f+="["+I+(C.length>0?'="'+C+'"':"")+"]"}else 8&c?f+="."+I:4&c&&(f+=" "+I);else""!==f&&!ri(I)&&(o+=xr(m,f),f=""),c=I,m=m||!ri(c);s++}return""!==f&&(o+=xr(m,f)),o}function ps(r){return $n(()=>{const o=Ai(r),s={...o,decls:r.decls,vars:r.vars,template:r.template,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,onPush:r.changeDetection===Ji.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&r.dependencies||null,getStandaloneInjector:null,signals:r.signals??!1,data:r.data||{},encapsulation:r.encapsulation||Ri.Emulated,styles:r.styles||Vn,_:null,schemas:r.schemas||null,tView:null,id:""};Ii(s);const c=r.dependencies;return s.directiveDefs=gi(c,!1),s.pipeDefs=gi(c,!0),s.id=function ms(r){let o=0;const s=[r.selectors,r.ngContentSelectors,r.hostVars,r.hostAttrs,r.consts,r.vars,r.decls,r.encapsulation,r.standalone,r.signals,r.exportAs,JSON.stringify(r.inputs),JSON.stringify(r.outputs),Object.getOwnPropertyNames(r.type.prototype),!!r.contentQueries,!!r.viewQuery].join("|");for(const f of s)o=Math.imul(31,o)+f.charCodeAt(0)<<0;return o+=2147483648,"c"+o}(s),s})}function Fs(r){return Kn(r)||Vr(r)}function Fc(r){return null!==r}function So(r){return $n(()=>({type:r.type,bootstrap:r.bootstrap||Vn,declarations:r.declarations||Vn,imports:r.imports||Vn,exports:r.exports||Vn,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function Ls(r,o){if(null==r)return Hi;const s={};for(const c in r)if(r.hasOwnProperty(c)){let f=r[c],m=f;Array.isArray(f)&&(m=f[1],f=f[0]),s[f]=c,o&&(o[f]=m)}return s}function gs(r){return $n(()=>{const o=Ai(r);return Ii(o),o})}function Vs(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function Kn(r){return r[To]||null}function Vr(r){return r[Go]||null}function Si(r){return r[fs]||null}function no(r){const o=Kn(r)||Vr(r)||Si(r);return null!==o&&o.standalone}function Yr(r,o){const s=r[ia]||null;if(!s&&!0===o)throw new Error(`Type ${Dt(r)} does not have '\u0275mod' property.`);return s}function Ai(r){const o={};return{type:r.type,providersResolver:null,factory:null,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:o,inputTransforms:null,inputConfig:r.inputs||Hi,exportAs:r.exportAs||null,standalone:!0===r.standalone,signals:!0===r.signals,selectors:r.selectors||Vn,viewQuery:r.viewQuery||null,features:r.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ls(r.inputs,o),outputs:Ls(r.outputs)}}function Ii(r){r.features?.forEach(o=>o(r))}function gi(r,o){if(!r)return null;const s=o?Si:Fs;return()=>("function"==typeof r?r():r).map(c=>s(c)).filter(Fc)}const ir=0,Ft=1,rn=2,dr=3,ii=4,_s=5,Br=6,mi=7,br=8,Ur=9,ro=10,Sn=11,jo=12,Ca=13,_o=14,Rr=15,wi=16,Ni=17,Pr=18,$o=19,Lc=20,zo=21,ki=22,Ao=23,Wo=24,Rn=25,No=1,vo=2,Qr=7,Qa=9,Ir=11;function Hr(r){return Array.isArray(r)&&"object"==typeof r[No]}function ji(r){return Array.isArray(r)&&!0===r[No]}function vs(r){return 0!=(4&r.flags)}function Zo(r){return r.componentOffset>-1}function Bs(r){return 1==(1&r.flags)}function si(r){return!!r.template}function Ti(r){return 0!=(512&r[rn])}function Sa(r,o){return r.hasOwnProperty(Nr)?r[Nr]:null}let _i=null,js=!1;function Fi(r){const o=_i;return _i=r,o}const Ko={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function or(r){if(!oo(r)||r.dirty){if(!r.producerMustRecompute(r)&&!Yo(r))return void(r.dirty=!1);r.producerRecomputeValue(r),r.dirty=!1}}function Ou(r){r.dirty=!0,function bs(r){if(void 0===r.liveConsumerNode)return;const o=js;js=!0;try{for(const s of r.liveConsumerNode)s.dirty||Ou(s)}finally{js=o}}(r),r.consumerMarkedDirty?.(r)}function $i(r){return r&&(r.nextProducerIndex=0),Fi(r)}function Is(r,o){if(Fi(o),r&&void 0!==r.producerNode&&void 0!==r.producerIndexOfThis&&void 0!==r.producerLastReadVersion){if(oo(r))for(let s=r.nextProducerIndex;s<r.producerNode.length;s++)rc(r.producerNode[s],r.producerIndexOfThis[s]);for(;r.producerNode.length>r.nextProducerIndex;)r.producerNode.pop(),r.producerLastReadVersion.pop(),r.producerIndexOfThis.pop()}}function Yo(r){Fa(r);for(let o=0;o<r.producerNode.length;o++){const s=r.producerNode[o],c=r.producerLastReadVersion[o];if(c!==s.version||(or(s),c!==s.version))return!0}return!1}function $s(r){if(Fa(r),oo(r))for(let o=0;o<r.producerNode.length;o++)rc(r.producerNode[o],r.producerIndexOfThis[o]);r.producerNode.length=r.producerLastReadVersion.length=r.producerIndexOfThis.length=0,r.liveConsumerNode&&(r.liveConsumerNode.length=r.liveConsumerIndexOfThis.length=0)}function rc(r,o){if(function Aa(r){r.liveConsumerNode??=[],r.liveConsumerIndexOfThis??=[]}(r),Fa(r),1===r.liveConsumerNode.length)for(let c=0;c<r.producerNode.length;c++)rc(r.producerNode[c],r.producerIndexOfThis[c]);const s=r.liveConsumerNode.length-1;if(r.liveConsumerNode[o]=r.liveConsumerNode[s],r.liveConsumerIndexOfThis[o]=r.liveConsumerIndexOfThis[s],r.liveConsumerNode.length--,r.liveConsumerIndexOfThis.length--,o<r.liveConsumerNode.length){const c=r.liveConsumerIndexOfThis[o],f=r.liveConsumerNode[o];Fa(f),f.producerIndexOfThis[c]=o}}function oo(r){return r.consumerIsAlwaysLive||(r?.liveConsumerNode?.length??0)>0}function Fa(r){r.producerNode??=[],r.producerIndexOfThis??=[],r.producerLastReadVersion??=[]}let ic=null;function pr(r){const o=Fi(null);try{return r()}finally{Fi(o)}}const Bn=()=>{},Xr=(()=>({...Ko,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:r=>{r.schedule(r.ref)},hasRun:!1,cleanupFn:Bn}))();class ci{constructor(o,s,c){this.previousValue=o,this.currentValue=s,this.firstChange=c}isFirstChange(){return this.firstChange}}function Wi(){return so}function so(r){return r.type.prototype.ngOnChanges&&(r.setInput=yo),qi}function qi(){const r=Na(this),o=r?.current;if(o){const s=r.previous;if(s===Hi)r.previous=o;else for(let c in o)s[c]=o[c];r.current=null,this.ngOnChanges(o)}}function yo(r,o,s,c){const f=this.declaredInputs[s],m=Na(r)||function qs(r,o){return r[Ws]=o}(r,{previous:Hi,current:null}),I=m.current||(m.current={}),C=m.previous,x=C[f];I[f]=new ci(x&&x.currentValue,o,C===Hi),r[c]=o}Wi.ngInherit=!0;const Ws="__ngSimpleChanges__";function Na(r){return r[Ws]||null}const Jo=function(r,o,s){},La="svg";function oi(r){for(;Array.isArray(r);)r=r[ir];return r}function du(r,o){return oi(o[r])}function Xo(r,o){return oi(o[r.index])}function xd(r,o){return r.data[o]}function oc(r,o){return r[o]}function vi(r,o){const s=o[r];return Hr(s)?s:s[ir]}function ua(r,o){return null==o?null:r[o]}function xu(r){r[Ni]=0}function kd(r){1024&r[rn]||(r[rn]|=1024,Va(r,1))}function hi(r){1024&r[rn]&&(r[rn]&=-1025,Va(r,-1))}function Va(r,o){let s=r[dr];if(null===s)return;s[_s]+=o;let c=s;for(s=s[dr];null!==s&&(1===o&&1===c[_s]||-1===o&&0===c[_s]);)s[_s]+=o,c=s,s=s[dr]}function Ec(r,o){if(256==(256&r[rn]))throw new He(911,!1);null===r[zo]&&(r[zo]=[]),r[zo].push(o)}const fn={lFrame:Ve(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function pu(){return fn.bindingsEnabled}function la(){return null!==fn.skipHydrationRootTNode}function ut(){return fn.lFrame.lView}function gr(){return fn.lFrame.tView}function al(r){return fn.lFrame.contextLView=r,r[br]}function jl(r){return fn.lFrame.contextLView=null,r}function Vi(){let r=cl();for(;null!==r&&64===r.type;)r=r.parent;return r}function cl(){return fn.lFrame.currentTNode}function Gc(){const r=fn.lFrame,o=r.currentTNode;return r.isParent?o:o.parent}function ts(r,o){const s=fn.lFrame;s.currentTNode=r,s.isParent=o}function ku(){return fn.lFrame.isParent}function sc(){fn.lFrame.isParent=!1}function Ro(){const r=fn.lFrame;let o=r.bindingRootIndex;return-1===o&&(o=r.bindingRootIndex=r.tView.bindingStartIndex),o}function Oa(){return fn.lFrame.bindingIndex++}function da(r){const o=fn.lFrame,s=o.bindingIndex;return o.bindingIndex=o.bindingIndex+r,s}function mu(r){fn.lFrame.inI18n=r}function Ld(r,o){const s=fn.lFrame;s.bindingIndex=s.bindingRootIndex=r,D(o)}function D(r){fn.lFrame.currentDirectiveIndex=r}function E(){return fn.lFrame.currentQueryIndex}function R(r){fn.lFrame.currentQueryIndex=r}function G(r){const o=r[Ft];return 2===o.type?o.declTNode:1===o.type?r[Br]:null}function oe(r,o,s){if(s&Kt.SkipSelf){let f=o,m=r;for(;!(f=f.parent,null!==f||s&Kt.Host||(f=G(m),null===f||(m=m[_o],10&f.type))););if(null===f)return!1;o=f,r=m}const c=fn.lFrame=je();return c.currentTNode=o,c.lView=r,!0}function pe(r){const o=je(),s=r[Ft];fn.lFrame=o,o.currentTNode=s.firstChild,o.lView=r,o.tView=s,o.contextLView=r,o.bindingIndex=s.bindingStartIndex,o.inI18n=!1}function je(){const r=fn.lFrame,o=null===r?null:r.child;return null===o?Ve(r):o}function Ve(r){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=o),o}function Gt(){const r=fn.lFrame;return fn.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const On=Gt;function wr(){const r=Gt();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function kr(){return fn.lFrame.selectedIndex}function Ks(r){fn.lFrame.selectedIndex=r}function Dr(){const r=fn.lFrame;return xd(r.tView,r.selectedIndex)}function Ts(){fn.lFrame.currentNamespace=La}function zl(){!function ha(){fn.lFrame.currentNamespace=null}()}let Wl=!0;function Vd(){return Wl}function ac(r){Wl=r}function Vu(r,o){for(let s=o.directiveStart,c=o.directiveEnd;s<c;s++){const m=r.data[s].type.prototype,{ngAfterContentInit:I,ngAfterContentChecked:C,ngAfterViewInit:x,ngAfterViewChecked:$,ngOnDestroy:re}=m;I&&(r.contentHooks??=[]).push(-s,I),C&&((r.contentHooks??=[]).push(s,C),(r.contentCheckHooks??=[]).push(s,C)),x&&(r.viewHooks??=[]).push(-s,x),$&&((r.viewHooks??=[]).push(s,$),(r.viewCheckHooks??=[]).push(s,$)),null!=re&&(r.destroyHooks??=[]).push(s,re)}}function Cc(r,o,s){Bu(r,o,3,s)}function $c(r,o,s,c){(3&r[rn])===s&&Bu(r,o,s,c)}function ql(r,o){let s=r[rn];(3&s)===o&&(s&=8191,s+=1,r[rn]=s)}function Bu(r,o,s,c){const m=c??-1,I=o.length-1;let C=0;for(let x=void 0!==c?65535&r[Ni]:0;x<I;x++)if("number"==typeof o[x+1]){if(C=o[x],null!=c&&C>=c)break}else o[x]<0&&(r[Ni]+=65536),(C<m||-1==m)&&(Ha(r,s,o,x),r[Ni]=(4294901760&r[Ni])+x+2),x++}function Zl(r,o){Jo(4,r,o);const s=Fi(null);try{o.call(r)}finally{Fi(s),Jo(5,r,o)}}function Ha(r,o,s,c){const f=s[c]<0,m=s[c+1],C=r[f?-s[c]:s[c]];f?r[rn]>>13<r[Ni]>>16&&(3&r[rn])===o&&(r[rn]+=8192,Zl(C,m)):Zl(C,m)}const zc=-1;class dl{constructor(o,s,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=c}}function Wc(r){return r!==zc}function vu(r){return 32767&r}function yu(r,o){let s=function Hd(r){return r>>16}(r),c=o;for(;s>0;)c=c[_o],s--;return c}let Uu=!0;function Sc(r){const o=Uu;return Uu=r,o}const Hu=255,hl=5;let Gu=0;const ns={};function qc(r,o){const s=pl(r,o);if(-1!==s)return s;const c=o[Ft];c.firstCreatePass&&(r.injectorIndex=o.length,Zc(c.data,r),Zc(o,null),Zc(c.blueprint,null));const f=gl(r,o),m=r.injectorIndex;if(Wc(f)){const I=vu(f),C=yu(f,o),x=C[Ft].data;for(let $=0;$<8;$++)o[m+$]=C[I+$]|x[I+$]}return o[m+8]=f,m}function Zc(r,o){r.push(0,0,0,0,0,0,0,0,o)}function pl(r,o){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===o[r.injectorIndex+8]?-1:r.injectorIndex}function gl(r,o){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let s=0,c=null,f=o;for(;null!==f;){if(c=N(f),null===c)return zc;if(s++,f=f[_o],-1!==c.injectorIndex)return c.injectorIndex|s<<16}return zc}function bu(r,o,s){!function fl(r,o,s){let c;"string"==typeof s?c=s.charCodeAt(0)||0:s.hasOwnProperty(go)&&(c=s[go]),null==c&&(c=s[go]=Gu++);const f=c&Hu;o.data[r+(f>>hl)]|=1<<f}(r,o,s)}function zg(r,o,s){if(s&Kt.Optional||void 0!==r)return r;vn()}function Jf(r,o,s,c){if(s&Kt.Optional&&void 0===c&&(c=null),!(s&(Kt.Self|Kt.Host))){const f=r[Ur],m=dn(void 0);try{return f?f.get(o,c,s&Kt.Optional):Qn(o,c,s&Kt.Optional)}finally{dn(m)}}return zg(c,0,s)}function ju(r,o,s,c=Kt.Default,f){if(null!==r){if(2048&o[rn]&&!(c&Kt.Self)){const I=function Bh(r,o,s,c,f){let m=r,I=o;for(;null!==m&&null!==I&&2048&I[rn]&&!(512&I[rn]);){const C=Xf(m,I,s,c|Kt.Self,ns);if(C!==ns)return C;let x=m.parent;if(!x){const $=I[Lc];if($){const re=$.get(s,ns,c);if(re!==ns)return re}x=N(I),I=I[_o]}m=x}return f}(r,o,s,c,ns);if(I!==ns)return I}const m=Xf(r,o,s,c,ns);if(m!==ns)return m}return Jf(o,s,c,f)}function Xf(r,o,s,c,f){const m=function jd(r){if("string"==typeof r)return r.charCodeAt(0)||0;const o=r.hasOwnProperty(go)?r[go]:void 0;return"number"==typeof o?o>=0?o&Hu:Vh:o}(s);if("function"==typeof m){if(!oe(o,r,c))return c&Kt.Host?zg(f,0,c):Jf(o,s,c,f);try{let I;if(I=m(c),null!=I||c&Kt.Optional)return I;vn()}finally{On()}}else if("number"==typeof m){let I=null,C=pl(r,o),x=zc,$=c&Kt.Host?o[Rr][Br]:null;for((-1===C||c&Kt.SkipSelf)&&(x=-1===C?gl(r,o):o[C+8],x!==zc&&zu(c,!1)?(I=o[Ft],C=vu(x),o=yu(x,o)):C=-1);-1!==C;){const re=o[Ft];if(Nc(m,C,re.data)){const fe=$u(C,o,s,I,c,$);if(fe!==ns)return fe}x=o[C+8],x!==zc&&zu(c,o[Ft].data[C+8]===$)&&Nc(m,C,o)?(I=re,C=vu(x),o=yu(x,o)):C=-1}}return f}function $u(r,o,s,c,f,m){const I=o[Ft],C=I.data[r+8],re=Kc(C,I,s,null==c?Zo(C)&&Uu:c!=I&&0!=(3&C.type),f&Kt.Host&&m===C);return null!==re?Ac(o,I,re,C):ns}function Kc(r,o,s,c,f){const m=r.providerIndexes,I=o.data,C=1048575&m,x=r.directiveStart,re=m>>20,Ne=f?C+re:r.directiveEnd;for(let ke=c?C:C+re;ke<Ne;ke++){const lt=I[ke];if(ke<x&&s===lt||ke>=x&&lt.type===s)return ke}if(f){const ke=I[x];if(ke&&si(ke)&&ke.type===s)return x}return null}function Ac(r,o,s,c){let f=r[s];const m=o.data;if(function Bd(r){return r instanceof dl}(f)){const I=f;I.resolving&&function An(r,o){const s=o?`. Dependency path: ${o.join(" > ")} > ${r}`:"";throw new He(-200,`Circular dependency in DI detected for ${r}${s}`)}(function ht(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():Ye(r)}(m[s]));const C=Sc(I.canSeeViewProviders);I.resolving=!0;const $=I.injectImpl?dn(I.injectImpl):null;oe(r,c,Kt.Default);try{f=r[s]=I.factory(void 0,m,r,c),o.firstCreatePass&&s>=c.directiveStart&&function kh(r,o,s){const{ngOnChanges:c,ngOnInit:f,ngDoCheck:m}=o.type.prototype;if(c){const I=so(o);(s.preOrderHooks??=[]).push(r,I),(s.preOrderCheckHooks??=[]).push(r,I)}f&&(s.preOrderHooks??=[]).push(0-r,f),m&&((s.preOrderHooks??=[]).push(r,m),(s.preOrderCheckHooks??=[]).push(r,m))}(s,m[s],o)}finally{null!==$&&dn($),Sc(C),I.resolving=!1,On()}}return f}function Nc(r,o,s){return!!(s[o+(r>>hl)]&1<<r)}function zu(r,o){return!(r&Kt.Self||r&Kt.Host&&o)}class Ys{constructor(o,s){this._tNode=o,this._lView=s}get(o,s,c){return ju(this._tNode,this._lView,o,Ho(c),s)}}function Vh(){return new Ys(Vi(),ut())}function $d(r){return $n(()=>{const o=r.prototype.constructor,s=o[Nr]||_l(o),c=Object.prototype;let f=Object.getPrototypeOf(r.prototype).constructor;for(;f&&f!==c;){const m=f[Nr]||_l(f);if(m&&m!==s)return m;f=Object.getPrototypeOf(f)}return m=>new m})}function _l(r){return ft(r)?()=>{const o=_l(Nt(r));return o&&o()}:Sa(r)}function N(r){const o=r[Ft],s=o.type;return 2===s?o.declTNode:1===s?r[Br]:null}function k(r){return function Gd(r,o){if("class"===o)return r.classes;if("style"===o)return r.styles;const s=r.attrs;if(s){const c=s.length;let f=0;for(;f<c;){const m=s[f];if(Ea(m))break;if(0===m)f+=2;else if("number"==typeof m)for(f++;f<c&&"string"==typeof s[f];)f++;else{if(m===o)return s[f+1];f+=2}}}return null}(Vi(),r)}const le="__parameters__";function Lt(r,o,s){return $n(()=>{const c=function it(r){return function(...s){if(r){const c=r(...s);for(const f in c)this[f]=c[f]}}}(o);function f(...m){if(this instanceof f)return c.apply(this,m),this;const I=new f(...m);return C.annotation=I,C;function C(x,$,re){const fe=x.hasOwnProperty(le)?x[le]:Object.defineProperty(x,le,{value:[]})[le];for(;fe.length<=re;)fe.push(null);return(fe[re]=fe[re]||[]).push(I),x}}return s&&(f.prototype=Object.create(s.prototype)),f.prototype.ngMetadataName=r,f.annotationCls=f,f})}function Yc(r,o){r.forEach(s=>Array.isArray(s)?Yc(s,o):o(s))}function Po(r,o,s){o>=r.length?r.push(s):r.splice(o,0,s)}function Wd(r,o){return o>=r.length-1?r.pop():r.splice(o,1)[0]}function Iu(r,o){const s=[];for(let c=0;c<r;c++)s.push(o);return s}function rs(r,o,s){let c=Qc(r,o);return c>=0?r[1|c]=s:(c=~c,function tp(r,o,s,c){let f=r.length;if(f==o)r.push(s,c);else if(1===f)r.push(c,r[0]),r[0]=s;else{for(f--,r.push(r[f-1],r[f]);f>o;)r[f]=r[f-2],f--;r[o]=s,r[o+1]=c}}(r,c,o,s)),c}function Kd(r,o){const s=Qc(r,o);if(s>=0)return r[1|s]}function Qc(r,o){return function np(r,o,s){let c=0,f=r.length>>s;for(;f!==c;){const m=c+(f-c>>1),I=r[m<<s];if(o===I)return m<<s;I>o?f=m:c=m+1}return~(f<<s)}(r,o,1)}const Hh=Qi(Lt("Optional"),8),Jl=Qi(Lt("SkipSelf"),4);function nm(r){return 128==(128&r.flags)}var ui=function(r){return r[r.Important=1]="Important",r[r.DashCase=2]="DashCase",r}(ui||{});const LI=/^>|^->|<!--|-->|--!>|<!-$/g,q_=/(<|>)/g,VI="\u200b$1\u200b";const Z_=new Map;let L0=0;const lp="__ngContext__";function Qs(r,o){Hr(o)?(r[lp]=o[$o],function $h(r){Z_.set(r[$o],r)}(o)):r[lp]=o}let od;function eh(r,o){return od(r,o)}function th(r){const o=r[dr];return ji(o)?o[dr]:o}function tv(r){return nv(r[jo])}function nh(r){return nv(r[ii])}function nv(r){for(;null!==r&&!ji(r);)r=r[ii];return r}function Il(r,o,s,c,f){if(null!=c){let m,I=!1;ji(c)?m=c:Hr(c)&&(I=!0,c=c[ir]);const C=oi(c);0===r&&null!==s?null==f?z0(o,s,C):wu(o,s,C,f||null,!0):1===r&&null!==s?wu(o,s,C,f||null,!0):2===r?function Ip(r,o,s){const c=sd(r,o);c&&function Bi(r,o,s,c){r.removeChild(o,s,c)}(r,c,o,s)}(o,C,I):3===r&&o.destroyNode(C),null!=m&&function cv(r,o,s,c,f){const m=s[Qr];m!==oi(s)&&Il(o,r,c,m,f);for(let C=Ir;C<s.length;C++){const x=s[C];eu(x[Ft],x,r,o,c,m)}}(o,r,m,s,f)}}function fp(r,o){return r.createText(o)}function rv(r,o){return r.createComment(function im(r){return r.replace(LI,o=>o.replace(q_,VI))}(o))}function am(r,o,s){return r.createElement(o,s)}function Zh(r,o){const s=r[Qa],c=s.indexOf(o);hi(o),s.splice(c,1)}function pp(r,o){if(r.length<=Ir)return;const s=Ir+o,c=r[s];if(c){const f=c[wi];null!==f&&f!==r&&Zh(f,c),o>0&&(r[s-1][ii]=c[ii]);const m=Wd(r,Ir+o);!function BI(r,o){eu(r,o,o[Sn],2,null,null),o[ir]=null,o[Br]=null}(c[Ft],c);const I=m[Pr];null!==I&&I.detachView(m[Ft]),c[dr]=null,c[ii]=null,c[rn]&=-129}return c}function gp(r,o){if(!(256&o[rn])){const s=o[Sn];o[Ao]&&$s(o[Ao]),o[Wo]&&$s(o[Wo]),s.destroyNode&&eu(r,o,s,3,null,null),function j0(r){let o=r[jo];if(!o)return mp(r[Ft],r);for(;o;){let s=null;if(Hr(o))s=o[jo];else{const c=o[Ir];c&&(s=c)}if(!s){for(;o&&!o[ii]&&o!==r;)Hr(o)&&mp(o[Ft],o),o=o[dr];null===o&&(o=r),Hr(o)&&mp(o[Ft],o),s=o&&o[ii]}o=s}}(o)}}function mp(r,o){if(!(256&o[rn])){o[rn]&=-129,o[rn]|=256,function sv(r,o){let s;if(null!=r&&null!=(s=r.destroyHooks))for(let c=0;c<s.length;c+=2){const f=o[s[c]];if(!(f instanceof dl)){const m=s[c+1];if(Array.isArray(m))for(let I=0;I<m.length;I+=2){const C=f[m[I]],x=m[I+1];Jo(4,C,x);try{x.call(C)}finally{Jo(5,C,x)}}else{Jo(4,f,m);try{m.call(f)}finally{Jo(5,f,m)}}}}}(r,o),function UI(r,o){const s=r.cleanup,c=o[mi];if(null!==s)for(let m=0;m<s.length-1;m+=2)if("string"==typeof s[m]){const I=s[m+3];I>=0?c[I]():c[-I].unsubscribe(),m+=2}else s[m].call(c[s[m+1]]);null!==c&&(o[mi]=null);const f=o[zo];if(null!==f){o[zo]=null;for(let m=0;m<f.length;m++)(0,f[m])()}}(r,o),1===o[Ft].type&&o[Sn].destroy();const s=o[wi];if(null!==s&&ji(o[dr])){s!==o[dr]&&Zh(s,o);const c=o[Pr];null!==c&&c.detachView(r)}!function K_(r){Z_.delete(r[$o])}(o)}}function _p(r,o,s){return cm(r,o.parent,s)}function cm(r,o,s){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return s[ir];{const{componentOffset:f}=c;if(f>-1){const{encapsulation:m}=r.data[c.directiveStart+f];if(m===Ri.None||m===Ri.Emulated)return null}return Xo(c,s)}}function wu(r,o,s,c,f){r.insertBefore(o,s,c,f)}function z0(r,o,s){r.appendChild(o,s)}function Oc(r,o,s,c,f){null!==c?wu(r,o,s,c,f):z0(r,o,s)}function sd(r,o){return r.parentNode(o)}function yp(r,o,s){return rh(r,o,s)}function bp(r,o,s){return 40&r.type?Xo(r,s):null}let um,Jh,hm,fm,rh=bp;function ih(r,o){rh=r,um=o}function wl(r,o,s,c){const f=_p(r,c,o),m=o[Sn],C=yp(c.parent||o[Br],c,o);if(null!=f)if(Array.isArray(s))for(let x=0;x<s.length;x++)Oc(m,f,s[x],C,!1);else Oc(m,f,s,C,!1);void 0!==um&&um(m,c,o,s,f)}function Xc(r,o){if(null!==o){const s=o.type;if(3&s)return Xo(o,r);if(4&s)return dm(-1,r[o.index]);if(8&s){const c=o.child;if(null!==c)return Xc(r,c);{const f=r[o.index];return ji(f)?dm(-1,f):oi(f)}}if(32&s)return eh(o,r)()||oi(r[o.index]);{const c=lm(r,o);return null!==c?Array.isArray(c)?c[0]:Xc(th(r[Rr]),c):Xc(r,o.next)}}return null}function lm(r,o){return null!==o?r[Rr][Br].projection[o.projection]:null}function dm(r,o){const s=Ir+r+1;if(s<o.length){const c=o[s],f=c[Ft].firstChild;if(null!==f)return Xc(c,f)}return o[Qr]}function Tl(r,o,s,c,f,m,I){for(;null!=s;){const C=c[s.index],x=s.type;if(I&&0===o&&(C&&Qs(oi(C),c),s.flags|=2),32!=(32&s.flags))if(8&x)Tl(r,o,s.child,c,f,m,!1),Il(o,r,f,C,m);else if(32&x){const $=eh(s,c);let re;for(;re=$();)Il(o,r,f,re,m);Il(o,r,f,C,m)}else 16&x?Qh(r,o,c,s,f,m):Il(o,r,f,C,m);s=I?s.projectionNext:s.next}}function eu(r,o,s,c,f,m){Tl(s,c,r.firstChild,o,f,m,!1)}function Qh(r,o,s,c,f,m){const I=s[Rr],x=I[Br].projection[c.projection];if(Array.isArray(x))for(let $=0;$<x.length;$++)Il(o,r,f,x[$],m);else{let $=x;const re=I[dr];nm(c)&&($.flags|=128),Tl(r,o,$,re,f,m,!0)}}function Tp(r,o,s){""===s?r.removeAttribute(o,"class"):r.setAttribute(o,"class",s)}function uv(r,o,s){const{mergedAttrs:c,classes:f,styles:m}=s;null!==c&&Ci(r,o,c),null!==f&&Tp(r,o,f),null!==m&&function Tu(r,o,s){r.setAttribute(o,"style",s)}(r,o,m)}function Xh(r){return function lv(){if(void 0===Jh&&(Jh=null,Jn.trustedTypes))try{Jh=Jn.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return Jh}()?.createHTML(r)||r}function Z0(r){hm=r}function Ep(){if(void 0!==hm)return hm;if(typeof document<"u")return document;throw new He(210,!1)}function $I(r){return function K0(){if(void 0===fm&&(fm=null,Jn.trustedTypes))try{fm=Jn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return fm}()?.createScriptURL(r)||r}class ad{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${pt})`}}class Y0 extends ad{getTypeName(){return"HTML"}}class Q0 extends ad{getTypeName(){return"Style"}}class dv extends ad{getTypeName(){return"Script"}}class gm extends ad{getTypeName(){return"URL"}}class oh extends ad{getTypeName(){return"ResourceURL"}}function Eu(r){return r instanceof ad?r.changingThisBreaksApplicationSecurity:r}function El(r,o){const s=function hv(r){return r instanceof ad&&r.getTypeName()||null}(r);if(null!=s&&s!==o){if("ResourceURL"===s&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${s} (see ${pt})`)}return s===o}function J0(r){return new Y0(r)}function cd(r){return new Q0(r)}function ZE(r){return new dv(r)}function X0(r){return new gm(r)}function fv(r){return new oh(r)}function e1(r){const o=new t1(r);return function pv(){try{return!!(new window.DOMParser).parseFromString(Xh(""),"text/html")}catch{return!1}}()?new zI(o):o}class zI{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const s=(new window.DOMParser).parseFromString(Xh(o),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(o):(s.removeChild(s.firstChild),s)}catch{return null}}}class t1{constructor(o){this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(o){const s=this.inertDocument.createElement("template");return s.innerHTML=Xh(o),s}}const WI=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function mm(r){return(r=String(r)).match(WI)?r:"unsafe:"+r}function Dl(r){const o={};for(const s of r.split(","))o[s]=!0;return o}function Dp(...r){const o={};for(const s of r)for(const c in s)s.hasOwnProperty(c)&&(o[c]=!0);return o}const gv=Dl("area,br,col,hr,img,wbr"),lc=Dl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Jt=Dl("rp,rt"),ud=Dp(gv,Dp(lc,Dl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Dp(Jt,Dl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Dp(Jt,lc)),ld=Dl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),mv=Dp(ld,Dl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Dl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),n1=Dl("script,style,template");class ga{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let s=o.firstChild,c=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?c=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,c&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let f=this.checkClobberedElement(s,s.nextSibling);if(f){s=f;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(o){const s=o.nodeName.toLowerCase();if(!ud.hasOwnProperty(s))return this.sanitizedSomething=!0,!n1.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const c=o.attributes;for(let f=0;f<c.length;f++){const m=c.item(f),I=m.name,C=I.toLowerCase();if(!mv.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let x=m.value;ld[C]&&(x=mm(x)),this.buf.push(" ",I,'="',Cl(x),'"')}return this.buf.push(">"),!0}endElement(o){const s=o.nodeName.toLowerCase();ud.hasOwnProperty(s)&&!gv.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(o){this.buf.push(Cl(o))}checkClobberedElement(o,s){if(s&&(o.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return s}}const Sp=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ko=/([^\#-~ |!])/g;function Cl(r){return r.replace(/&/g,"&amp;").replace(Sp,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(ko,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ym;function Ap(r,o){let s=null;try{ym=ym||e1(r);let c=o?String(o):"";s=ym.getInertBodyElement(c);let f=5,m=c;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,c=m,m=s.innerHTML,s=ym.getInertBodyElement(c)}while(c!==m);return Xh((new ga).sanitizeChildren(ef(s)||s))}finally{if(s){const c=ef(s)||s;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function ef(r){return"content"in r&&function bm(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var Ki=function(r){return r[r.NONE=0]="NONE",r[r.HTML=1]="HTML",r[r.STYLE=2]="STYLE",r[r.SCRIPT=3]="SCRIPT",r[r.URL=4]="URL",r[r.RESOURCE_URL=5]="RESOURCE_URL",r}(Ki||{});function hd(r){const o=Op();return o?o.sanitize(Ki.URL,r)||"":El(r,"URL")?Eu(r):mm(Ye(r))}function dc(r){const o=Op();if(o)return $I(o.sanitize(Ki.RESOURCE_URL,r)||"");if(El(r,"ResourceURL"))return $I(Eu(r));throw new He(904,!1)}function Im(r,o,s){return function fd(r,o){return"src"===o&&("embed"===r||"frame"===r||"iframe"===r||"media"===r||"script"===r)||"href"===o&&("base"===r||"link"===r)?dc:hd}(o,s)(r)}function Op(){const r=ut();return r&&r[ro].sanitizer}const tf=new Dn("ENVIRONMENT_INITIALIZER"),wm=new Dn("INJECTOR",-1),Tm=new Dn("INJECTOR_DEF_TYPES");class ah{get(o,s=L){if(s===L){const c=new Error(`NullInjectorError: No provider for ${Dt(o)}!`);throw c.name="NullInjectorError",c}return s}}function yv(...r){return{\u0275providers:Mp(0,r),\u0275fromNgModule:!0}}function Mp(r,...o){const s=[],c=new Set;let f;const m=I=>{s.push(I)};return Yc(o,I=>{const C=I;pd(C,m,[],c)&&(f||=[],f.push(C))}),void 0!==f&&r1(f,m),s}function r1(r,o){for(let s=0;s<r.length;s++){const{ngModule:c,providers:f}=r[s];gd(f,m=>{o(m,c)})}}function pd(r,o,s,c){if(!(r=Nt(r)))return!1;let f=null,m=bn(r);const I=!m&&Kn(r);if(m||I){if(I&&!I.standalone)return!1;f=r}else{const x=r.ngModule;if(m=bn(x),!m)return!1;f=x}const C=c.has(f);if(I){if(C)return!1;if(c.add(f),I.dependencies){const x="function"==typeof I.dependencies?I.dependencies():I.dependencies;for(const $ of x)pd($,o,s,c)}}else{if(!m)return!1;{if(null!=m.imports&&!C){let $;c.add(f);try{Yc(m.imports,re=>{pd(re,o,s,c)&&($||=[],$.push(re))})}finally{}void 0!==$&&r1($,o)}if(!C){const $=Sa(f)||(()=>new f);o({provide:f,useFactory:$,deps:Vn},f),o({provide:Tm,useValue:f,multi:!0},f),o({provide:tf,useValue:()=>Nn(f),multi:!0},f)}const x=m.providers;if(null!=x&&!C){const $=r;gd(x,re=>{o(re,$)})}}}return f!==r&&void 0!==r.providers}function gd(r,o){for(let s of r)ot(s)&&(s=s.\u0275providers),Array.isArray(s)?gd(s,o):o(s)}const o1=Re({provide:String,useValue:Re});function bv(r){return null!==r&&"object"==typeof r&&o1 in r}function ch(r){return"function"==typeof r}const Cm=new Dn("Set Injector scope."),Rp={},Sm={};let uh;function nf(){return void 0===uh&&(uh=new ah),uh}class tu{}class md extends tu{get destroyed(){return this._destroyed}constructor(o,s,c,f){super(),this.parent=s,this.source=c,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Pp(o,I=>this.processProvider(I)),this.records.set(wm,_d(void 0,this)),f.has("environment")&&this.records.set(tu,_d(void 0,this));const m=this.records.get(Cm);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(Tm.multi,Vn,Kt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const o=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of o)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(o){return this.assertNotDestroyed(),this._onDestroyHooks.push(o),()=>this.removeOnDestroy(o)}runInContext(o){this.assertNotDestroyed();const s=Tn(this),c=dn(void 0);try{return o()}finally{Tn(s),dn(c)}}get(o,s=L,c=Kt.Default){if(this.assertNotDestroyed(),o.hasOwnProperty(Zr))return o[Zr](this);c=Ho(c);const m=Tn(this),I=dn(void 0);try{if(!(c&Kt.SkipSelf)){let x=this.records.get(o);if(void 0===x){const $=function Ev(r){return"function"==typeof r||"object"==typeof r&&r instanceof Dn}(o)&&st(o);x=$&&this.injectableDefInScope($)?_d(Am(o),Rp):null,this.records.set(o,x)}if(null!=x)return this.hydrate(o,x)}return(c&Kt.Self?nf():this.parent).get(o,s=c&Kt.Optional&&s===L?null:s)}catch(C){if("NullInjectorError"===C.name){if((C[W]=C[W]||[]).unshift(Dt(o)),m)throw C;return function po(r,o,s,c){const f=r[W];throw o[It]&&f.unshift(o[It]),r.message=function Ta(r,o,s,c=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.slice(2):r;let f=Dt(o);if(Array.isArray(o))f=o.map(Dt).join(" -> ");else if("object"==typeof o){let m=[];for(let I in o)if(o.hasOwnProperty(I)){let C=o[I];m.push(I+":"+("string"==typeof C?JSON.stringify(C):Dt(C)))}f=`{${m.join(", ")}}`}return`${s}${c?"("+c+")":""}[${f}]: ${r.replace(_e,"\n  ")}`}("\n"+r.message,f,s,c),r.ngTokenPath=f,r[W]=null,r}(C,o,"R3InjectorError",this.source)}throw C}finally{dn(I),Tn(m)}}resolveInjectorInitializers(){const o=Tn(this),s=dn(void 0);try{const f=this.get(tf.multi,Vn,Kt.Self);for(const m of f)m()}finally{Tn(o),dn(s)}}toString(){const o=[],s=this.records;for(const c of s.keys())o.push(Dt(c));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new He(205,!1)}processProvider(o){let s=ch(o=Nt(o))?o:Nt(o&&o.provide);const c=function YI(r){return bv(r)?_d(void 0,r.useValue):_d(wv(r),Rp)}(o);if(ch(o)||!0!==o.multi)this.records.get(s);else{let f=this.records.get(s);f||(f=_d(void 0,Rp,!0),f.factory=()=>na(f.multi),this.records.set(s,f)),s=o,f.multi.push(o)}this.records.set(s,c)}hydrate(o,s){return s.value===Rp&&(s.value=Sm,s.value=s.factory()),"object"==typeof s.value&&s.value&&function a1(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(o){if(!o.providedIn)return!1;const s=Nt(o.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(o){const s=this._onDestroyHooks.indexOf(o);-1!==s&&this._onDestroyHooks.splice(s,1)}}function Am(r){const o=st(r),s=null!==o?o.factory:Sa(r);if(null!==s)return s;if(r instanceof Dn)throw new He(204,!1);if(r instanceof Function)return function Iv(r){const o=r.length;if(o>0)throw Iu(o,"?"),new He(204,!1);const s=function hr(r){return r&&(r[tn]||r[mn])||null}(r);return null!==s?()=>s.factory(r):()=>new r}(r);throw new He(204,!1)}function wv(r,o,s){let c;if(ch(r)){const f=Nt(r);return Sa(f)||Am(f)}if(bv(r))c=()=>Nt(r.useValue);else if(function Dm(r){return!(!r||!r.useFactory)}(r))c=()=>r.useFactory(...na(r.deps||[]));else if(function xp(r){return!(!r||!r.useExisting)}(r))c=()=>Nn(Nt(r.useExisting));else{const f=Nt(r&&(r.useClass||r.provide));if(!function Tv(r){return!!r.deps}(r))return Sa(f)||Am(f);c=()=>new f(...na(r.deps))}return c}function _d(r,o,s=!1){return{factory:r,value:o,multi:s?[]:void 0}}function Pp(r,o){for(const s of r)Array.isArray(s)?Pp(s,o):s&&ot(s)?Pp(s.\u0275providers,o):o(s)}const Nm=new Dn("AppId",{providedIn:"root",factory:()=>Dv}),Dv="ng",Cs=new Dn("Platform Initializer"),Ss=new Dn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),QI=new Dn("CSP nonce",{providedIn:"root",factory:()=>Ep().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Up=(r,o,s)=>null;function Sl(r,o,s=!1){return Up(r,o,s)}class We{}class Ze{}class jn{resolveComponentFactory(o){throw function Vt(r){const o=Error(`No component factory found for ${Dt(r)}.`);return o.ngComponent=r,o}(o)}}let Yn=(()=>{class r{static#e=this.NULL=new jn}return r})();function Cn(){return ar(Vi(),ut())}function ar(r,o){return new nr(Xo(r,o))}let nr=(()=>{class r{constructor(s){this.nativeElement=s}static#e=this.__NG_ELEMENT_ID__=Cn}return r})();function li(r){return r instanceof nr?r.nativeElement:r}class mr{}let Gr=(()=>{class r{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function jr(){const r=ut(),s=vi(Vi().index,r);return(Hr(s)?s:r)[Sn]}()}return r})(),fi=(()=>{class r{static#e=this.\u0275prov=we({token:r,providedIn:"root",factory:()=>null})}return r})();class di{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Fo=new di("16.2.12"),uo={};function ja(r){if(!fr()&&!function sn(){return en}())throw new He(-203,!1)}function bd(r,o=null,s=null,c){const f=sf(r,o,s,c);return f.resolveInjectorInitializers(),f}function sf(r,o=null,s=null,c,f=new Set){const m=[s||Vn,yv(r)];return c=c||("object"==typeof r?void 0:Dt(r)),new md(m,o||nf(),c||null,f)}let lo=(()=>{class r{static#e=this.THROW_IF_NOT_FOUND=L;static#t=this.NULL=new ah;static create(s,c){if(Array.isArray(s))return bd({name:""},c,s,"");{const f=s.name??"";return bd({name:f},s.parent,s.providers,f)}}static#n=this.\u0275prov=we({token:r,providedIn:"any",factory:()=>Nn(wm)});static#r=this.__NG_ELEMENT_ID__=-1}return r})();function Ku(r){return r.ngOriginalError}class xa{constructor(){this._console=console}handleError(o){const s=this._findOriginalError(o);this._console.error("ERROR",o),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(o){let s=o&&Ku(o);for(;s&&Ku(s);)s=Ku(s);return s||null}}let ei=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=wd;static#t=this.__NG_ENV_ID__=s=>s}return r})();class Gp extends ei{constructor(o){super(),this._lView=o}onDestroy(o){return Ec(this._lView,o),()=>function Zi(r,o){if(null===r[zo])return;const s=r[zo].indexOf(o);-1!==s&&r[zo].splice(s,1)}(this._lView,o)}}function wd(){return new Gp(ut())}function jp(r){return o=>{setTimeout(r,void 0,o)}}const nu=class af extends b.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,s,c){let f=o,m=s||(()=>null),I=c;if(o&&"object"==typeof o){const x=o;f=x.next?.bind(x),m=x.error?.bind(x),I=x.complete?.bind(x)}this.__isAsync&&(m=jp(m),f&&(f=jp(f)),I&&(I=jp(I)));const C=super.subscribe({next:f,error:m,complete:I});return o instanceof ae.w0&&o.add(C),C}};function Ov(...r){}class Ns{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new nu(!1),this.onMicrotaskEmpty=new nu(!1),this.onStable=new nu(!1),this.onError=new nu(!1),typeof Zone>"u")throw new He(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!c&&s,f.shouldCoalesceRunChangeDetection=c,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function Mv(){const r="function"==typeof Jn.requestAnimationFrame;let o=Jn[r?"requestAnimationFrame":"setTimeout"],s=Jn[r?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&o&&s){const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c);const f=s[Zone.__symbol__("OriginalDelegate")];f&&(s=f)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function Fm(r){const o=()=>{!function uf(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(Jn,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,lf(r),r.isCheckStableRunning=!0,_a(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),lf(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,c,f,m,I,C)=>{if(function ew(r){return!(!Array.isArray(r)||1!==r.length)&&!0===r[0].data?.__ignore_ng_zone__}(C))return s.invokeTask(f,m,I,C);try{return Yu(r),s.invokeTask(f,m,I,C)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||r.shouldCoalesceRunChangeDetection)&&o(),Lm(r)}},onInvoke:(s,c,f,m,I,C,x)=>{try{return Yu(r),s.invoke(f,m,I,C,x)}finally{r.shouldCoalesceRunChangeDetection&&o(),Lm(r)}},onHasTask:(s,c,f,m)=>{s.hasTask(f,m),c===f&&("microTask"==m.change?(r._hasPendingMicrotasks=m.microTask,lf(r),_a(r)):"macroTask"==m.change&&(r.hasPendingMacrotasks=m.macroTask))},onHandleError:(s,c,f,m)=>(s.handleError(f,m),r.runOutsideAngular(()=>r.onError.emit(m)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ns.isInAngularZone())throw new He(909,!1)}static assertNotInAngularZone(){if(Ns.isInAngularZone())throw new He(909,!1)}run(o,s,c){return this._inner.run(o,s,c)}runTask(o,s,c,f){const m=this._inner,I=m.scheduleEventTask("NgZoneEvent: "+f,o,cf,Ov,Ov);try{return m.runTask(I,s,c)}finally{m.cancelTask(I)}}runGuarded(o,s,c){return this._inner.runGuarded(o,s,c)}runOutsideAngular(o){return this._outer.run(o)}}const cf={};function _a(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function lf(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function Yu(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function Lm(r){r._nesting--,_a(r)}class xv{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new nu,this.onMicrotaskEmpty=new nu,this.onStable=new nu,this.onError=new nu}run(o,s,c){return o.apply(s,c)}runGuarded(o,s,c){return o.apply(s,c)}runOutsideAngular(o){return o()}runTask(o,s,c,f){return o.apply(s,c)}}const $p=new Dn("",{providedIn:"root",factory:Vm});function Vm(){const r=qn(Ns);let o=!0;const s=new l.y(f=>{o=r.isStable&&!r.hasPendingMacrotasks&&!r.hasPendingMicrotasks,r.runOutsideAngular(()=>{f.next(o),f.complete()})}),c=new l.y(f=>{let m;r.runOutsideAngular(()=>{m=r.onStable.subscribe(()=>{Ns.assertNotInAngularZone(),queueMicrotask(()=>{!o&&!r.hasPendingMacrotasks&&!r.hasPendingMicrotasks&&(o=!0,f.next(!0))})})});const I=r.onUnstable.subscribe(()=>{Ns.assertInAngularZone(),o&&(o=!1,r.runOutsideAngular(()=>{f.next(!1)}))});return()=>{m.unsubscribe(),I.unsubscribe()}});return(0,ye.T)(s,c.pipe(ne()))}function f1(r){return r.ownerDocument.defaultView}function Nl(r){return r instanceof Function?r():r}let hf=(()=>{class r{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=we({token:r,providedIn:"root",factory:()=>new r})}return r})();function hh(r){for(;r;){r[rn]|=64;const o=th(r);if(Ti(r)&&!o)return r;r=o}return null}const qp=new Dn("",{providedIn:"root",factory:()=>!1});let ru=null;function _1(r,o){return r[o]??Zp()}function iw(r,o){const s=Zp();s.producerNode?.length&&(r[o]=ru,s.lView=r,ru=Pv())}const ow={...Ko,consumerIsAlwaysLive:!0,consumerMarkedDirty:r=>{hh(r.lView)},lView:null};function Pv(){return Object.create(ow)}function Zp(){return ru??=Pv(),ru}const cr={};function kv(r){Gm(gr(),ut(),kr()+r,!1)}function Gm(r,o,s,c){if(!c)if(3==(3&o[rn])){const m=r.preOrderCheckHooks;null!==m&&Cc(o,m,s)}else{const m=r.preOrderHooks;null!==m&&$c(o,m,0,s)}Ks(s)}function ff(r,o=Kt.Default){const s=ut();return null===s?Nn(r,o):ju(Vi(),s,Nt(r),o)}function jm(){throw new Error("invalid")}function $m(r,o,s,c,f,m,I,C,x,$,re){const fe=o.blueprint.slice();return fe[ir]=f,fe[rn]=140|c,(null!==$||r&&2048&r[rn])&&(fe[rn]|=2048),xu(fe),fe[dr]=fe[_o]=r,fe[br]=s,fe[ro]=I||r&&r[ro],fe[Sn]=C||r&&r[Sn],fe[Ur]=x||r&&r[Ur]||null,fe[Br]=m,fe[$o]=function V0(){return L0++}(),fe[ki]=re,fe[Lc]=$,fe[Rr]=2==o.type?r[Rr]:fe,fe}function Ol(r,o,s,c,f){let m=r.data[o];if(null===m)m=Fv(r,o,s,c,f),function ul(){return fn.lFrame.inI18n}()&&(m.flags|=32);else if(64&m.type){m.type=s,m.value=c,m.attrs=f;const I=Gc();m.injectorIndex=null===I?-1:I.injectorIndex}return ts(m,!0),m}function Fv(r,o,s,c,f){const m=cl(),I=ku(),x=r.data[o]=function uw(r,o,s,c,f,m){let I=o?o.injectorIndex:-1,C=0;return la()&&(C|=128),{type:s,index:c,insertBeforeIndex:null,injectorIndex:I,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:C,providerIndexes:0,value:f,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,I?m:m&&m.parent,s,o,c,f);return null===r.firstChild&&(r.firstChild=x),null!==m&&(I?null==m.child&&null!==x.parent&&(m.child=x):null===m.next&&(m.next=x,x.prev=m)),x}function Kp(r,o,s,c){if(0===s)return-1;const f=o.length;for(let m=0;m<s;m++)o.push(c),r.blueprint.push(c),r.data.push(null);return f}function Lv(r,o,s,c,f){const m=_1(o,Ao),I=kr(),C=2&c;try{Ks(-1),C&&o.length>Rn&&Gm(r,o,Rn,!1),Jo(C?2:0,f);const $=C?m:null,re=$i($);try{null!==$&&($.dirty=!1),s(c,f)}finally{Is($,re)}}finally{C&&null===o[Ao]&&iw(o,Ao),Ks(I),Jo(C?3:1,f)}}function zm(r,o,s){if(vs(o)){const c=Fi(null);try{const m=o.directiveEnd;for(let I=o.directiveStart;I<m;I++){const C=r.data[I];C.contentQueries&&C.contentQueries(1,s[I],I)}}finally{Fi(c)}}}function Vv(r,o,s){pu()&&(function T1(r,o,s,c){const f=s.directiveStart,m=s.directiveEnd;Zo(s)&&function dw(r,o,s){const c=Xo(o,r),f=v1(s);let I=16;s.signals?I=4096:s.onPush&&(I=64);const C=zv(r,$m(r,f,null,I,c,o,null,r[ro].rendererFactory.createRenderer(c,s),null,null,null));r[o.index]=C}(o,s,r.data[f+s.componentOffset]),r.firstCreatePass||qc(s,o),Qs(c,o);const I=s.initialInputs;for(let C=f;C<m;C++){const x=r.data[C],$=Ac(o,r,C,s);Qs($,o),null!==I&&sD(0,C-f,$,x,0,I),si(x)&&(vi(s.index,o)[br]=Ac(o,r,C,s))}}(r,o,s,Xo(s,o)),64==(64&s.flags)&&E1(r,o,s))}function Yp(r,o,s=Xo){const c=o.localNames;if(null!==c){let f=o.index+1;for(let m=0;m<c.length;m+=2){const I=c[m+1],C=-1===I?s(o,r):r[I];r[f++]=C}}}function v1(r){const o=r.tView;return null===o||o.incompleteFirstPass?r.tView=Bv(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts,r.id):o}function Bv(r,o,s,c,f,m,I,C,x,$,re){const fe=Rn+c,Ne=fe+f,ke=function pf(r,o){const s=[];for(let c=0;c<o;c++)s.push(c<r?null:cr);return s}(fe,Ne),lt="function"==typeof $?$():$;return ke[Ft]={type:r,blueprint:ke,template:s,queries:null,viewQuery:C,declTNode:o,data:ke.slice().fill(null,fe),bindingStartIndex:fe,expandoStartIndex:Ne,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof I?I():I,firstChild:null,schemas:x,consts:lt,incompleteFirstPass:!1,ssrId:re}}let y1=r=>null;function b1(r,o,s,c){for(let f in r)if(r.hasOwnProperty(f)){s=null===s?{}:s;const m=r[f];null===c?gf(s,o,f,m):c.hasOwnProperty(f)&&gf(s,o,c[f],m)}return s}function gf(r,o,s,c){r.hasOwnProperty(s)?r[s].push(o,c):r[s]=[o,c]}function hc(r,o,s,c,f,m,I,C){const x=Xo(o,s);let re,$=o.inputs;!C&&null!=$&&(re=$[c])?(fh(r,s,re,c,f),Zo(o)&&function yi(r,o){const s=vi(o,r);16&s[rn]||(s[rn]|=64)}(s,o.index)):3&o.type&&(c=function Qu(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(c),f=null!=I?I(f,o.value||"",c):f,m.setProperty(x,c,f))}function Su(r,o,s,c){if(pu()){const f=null===c?null:{"":-1},m=function Au(r,o){const s=r.directiveRegistry;let c=null,f=null;if(s)for(let m=0;m<s.length;m++){const I=s[m];if(Pi(o,I.selectors,!1))if(c||(c=[]),si(I))if(null!==I.findHostDirectiveDefs){const C=[];f=f||new Map,I.findHostDirectiveDefs(I,C,f),c.unshift(...C,I),ea(r,o,C.length)}else c.unshift(I),ea(r,o,0);else f=f||new Map,I.findHostDirectiveDefs?.(I,c,f),c.push(I)}return null===c?null:[c,f]}(r,s);let I,C;null===m?I=C=null:[I,C]=m,null!==I&&I1(r,o,s,I,f,C),f&&function Hv(r,o,s){if(o){const c=r.localNames=[];for(let f=0;f<o.length;f+=2){const m=s[o[f+1]];if(null==m)throw new He(-301,!1);c.push(o[f],m)}}}(s,c,f)}s.mergedAttrs=ka(s.mergedAttrs,s.attrs)}function I1(r,o,s,c,f,m){for(let $=0;$<c.length;$++)bu(qc(s,o),r,c[$].type);!function Wm(r,o,s){r.flags|=1,r.directiveStart=o,r.directiveEnd=o+s,r.providerIndexes=o}(s,r.data.length,c.length);for(let $=0;$<c.length;$++){const re=c[$];re.providersResolver&&re.providersResolver(re)}let I=!1,C=!1,x=Kp(r,o,c.length,null);for(let $=0;$<c.length;$++){const re=c[$];s.mergedAttrs=ka(s.mergedAttrs,re.hostAttrs),jv(r,s,o,x,re),Gv(x,re,f),null!==re.contentQueries&&(s.flags|=4),(null!==re.hostBindings||null!==re.hostAttrs||0!==re.hostVars)&&(s.flags|=64);const fe=re.type.prototype;!I&&(fe.ngOnChanges||fe.ngOnInit||fe.ngDoCheck)&&((r.preOrderHooks??=[]).push(s.index),I=!0),!C&&(fe.ngOnChanges||fe.ngDoCheck)&&((r.preOrderCheckHooks??=[]).push(s.index),C=!0),x++}!function iD(r,o,s){const f=o.directiveEnd,m=r.data,I=o.attrs,C=[];let x=null,$=null;for(let re=o.directiveStart;re<f;re++){const fe=m[re],Ne=s?s.get(fe):null,lt=Ne?Ne.outputs:null;x=b1(fe.inputs,re,x,Ne?Ne.inputs:null),$=b1(fe.outputs,re,$,lt);const Ct=null===x||null===I||Do(o)?null:aD(x,re,I);C.push(Ct)}null!==x&&(x.hasOwnProperty("class")&&(o.flags|=8),x.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=C,o.inputs=x,o.outputs=$}(r,s,m)}function E1(r,o,s){const c=s.directiveStart,f=s.directiveEnd,m=s.index,I=function ll(){return fn.lFrame.currentDirectiveIndex}();try{Ks(m);for(let C=c;C<f;C++){const x=r.data[C],$=o[C];D(C),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&Td(x,$)}}finally{Ks(-1),D(I)}}function Td(r,o){null!==r.hostBindings&&r.hostBindings(1,o)}function ea(r,o,s){o.componentOffset=s,(r.components??=[]).push(o.index)}function Gv(r,o,s){if(s){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)s[o.exportAs[c]]=r;si(o)&&(s[""]=r)}}function jv(r,o,s,c,f){r.data[c]=f;const m=f.factory||(f.factory=Sa(f.type)),I=new dl(m,si(f),ff);r.blueprint[c]=I,s[c]=I,function w1(r,o,s,c,f){const m=f.hostBindings;if(m){let I=r.hostBindingOpCodes;null===I&&(I=r.hostBindingOpCodes=[]);const C=~o.index;(function Qp(r){let o=r.length;for(;o>0;){const s=r[--o];if("number"==typeof s&&s<0)return s}return 0})(I)!=C&&I.push(C),I.push(s,c,m)}}(r,o,c,Kp(r,s,f.hostVars,cr),f)}function fc(r,o,s,c,f,m){const I=Xo(r,o);!function D1(r,o,s,c,f,m,I){if(null==m)r.removeAttribute(o,f,s);else{const C=null==I?Ye(m):I(m,c||"",f);r.setAttribute(o,f,C,s)}}(o[Sn],I,m,r.value,s,c,f)}function sD(r,o,s,c,f,m){const I=m[o];if(null!==I)for(let C=0;C<I.length;)$v(c,s,I[C++],I[C++],I[C++])}function $v(r,o,s,c,f){const m=Fi(null);try{const I=r.inputTransforms;null!==I&&I.hasOwnProperty(c)&&(f=I[c].call(o,f)),null!==r.setInput?r.setInput(o,f,s,c):o[c]=f}finally{Fi(m)}}function aD(r,o,s){let c=null,f=0;for(;f<s.length;){const m=s[f];if(0!==m)if(5!==m){if("number"==typeof m)break;if(r.hasOwnProperty(m)){null===c&&(c=[]);const I=r[m];for(let C=0;C<I.length;C+=2)if(I[C]===o){c.push(m,I[C+1],s[f+1]);break}}f+=2}else f+=2;else f+=4}return c}function hw(r,o,s,c){return[r,!0,!1,o,null,0,c,s,null,null,null]}function C1(r,o){const s=r.contentQueries;if(null!==s)for(let c=0;c<s.length;c+=2){const m=s[c+1];if(-1!==m){const I=r.data[m];R(s[c]),I.contentQueries(2,o[m],m)}}}function zv(r,o){return r[jo]?r[Ca][ii]=o:r[jo]=o,r[Ca]=o,o}function Jp(r,o,s){R(0);const c=Fi(null);try{o(r,s)}finally{Fi(c)}}function fw(r){return r[mi]||(r[mi]=[])}function mf(r){return r.cleanup||(r.cleanup=[])}function ta(r,o){const s=r[Ur],c=s?s.get(xa,null):null;c&&c.handleError(o)}function fh(r,o,s,c,f){for(let m=0;m<s.length;){const I=s[m++],C=s[m++];$v(r.data[I],o[I],c,C,f)}}function $a(r,o,s){const c=du(o,r);!function H0(r,o,s){r.setValue(o,s)}(r[Sn],c,s)}function A1(r,o){const s=vi(o,r),c=s[Ft];!function rS(r,o){for(let s=o.length;s<r.blueprint.length;s++)o.push(r.blueprint[s])}(c,s);const f=s[ir];null!==f&&null===s[ki]&&(s[ki]=Sl(f,s[Ur])),At(c,s,s[br])}function At(r,o,s){pe(o);try{const c=r.viewQuery;null!==c&&Jp(1,c,s);const f=r.template;null!==f&&Lv(r,o,f,1,s),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&C1(r,o),r.staticViewQueries&&Jp(2,r.viewQuery,s);const m=r.components;null!==m&&function os(r,o){for(let s=0;s<o.length;s++)A1(r,o[s])}(o,m)}catch(c){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),c}finally{o[rn]&=-5,wr()}}let Nu=(()=>{class r{constructor(){this.all=new Set,this.queue=new Map}create(s,c,f){const m=typeof Zone>"u"?null:Zone.current,I=function Xn(r,o,s){const c=Object.create(Xr);s&&(c.consumerAllowSignalWrites=!0),c.fn=r,c.schedule=o;const f=I=>{c.cleanupFn=I};return c.ref={notify:()=>Ou(c),run:()=>{if(c.dirty=!1,c.hasRun&&!Yo(c))return;c.hasRun=!0;const I=$i(c);try{c.cleanupFn(),c.cleanupFn=Bn,c.fn(f)}finally{Is(c,I)}},cleanup:()=>c.cleanupFn()},c.ref}(s,$=>{this.all.has($)&&this.queue.set($,m)},f);let C;this.all.add(I),I.notify();const x=()=>{I.cleanup(),C?.(),this.all.delete(I),this.queue.delete(I)};return C=c?.onDestroy(x),{destroy:x}}flush(){if(0!==this.queue.size)for(const[s,c]of this.queue)this.queue.delete(s),c?c.run(()=>s.run()):s.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=we({token:r,providedIn:"root",factory:()=>new r})}return r})();function ln(r,o,s){let c=s?r.styles:null,f=s?r.classes:null,m=0;if(null!==o)for(let I=0;I<o.length;I++){const C=o[I];"number"==typeof C?m=C:1==m?f=kt(f,C):2==m&&(c=kt(c,C+": "+o[++I]+";"))}s?r.styles=c:r.stylesWithoutHost=c,s?r.classes=f:r.classesWithoutHost=f}function yn(r,o,s,c,f=!1){for(;null!==s;){const m=o[s.index];null!==m&&c.push(oi(m)),ji(m)&&cD(m,c);const I=s.type;if(8&I)yn(r,o,s.child,c);else if(32&I){const C=eh(s,o);let x;for(;x=C();)c.push(x)}else if(16&I){const C=lm(o,s);if(Array.isArray(C))c.push(...C);else{const x=th(o[Rr]);yn(x[Ft],x,C,c,!0)}}s=f?s.projectionNext:s.next}return c}function cD(r,o){for(let s=Ir;s<r.length;s++){const c=r[s],f=c[Ft].firstChild;null!==f&&yn(c[Ft],c,f,o)}r[Qr]!==r[ir]&&o.push(r[Qr])}function Zt(r,o,s,c=!0){const f=o[ro],m=f.rendererFactory,I=f.afterRenderEventManager;m.begin?.(),I?.begin();try{Os(r,o,r.template,s)}catch(x){throw c&&ta(o,x),x}finally{m.end?.(),f.effectManager?.flush(),I?.end()}}function Os(r,o,s,c){const f=o[rn];if(256!=(256&f)){o[ro].effectManager?.flush(),pe(o);try{xu(o),function gu(r){return fn.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==s&&Lv(r,o,s,2,c);const I=3==(3&f);if(I){const $=r.preOrderCheckHooks;null!==$&&Cc(o,$,null)}else{const $=r.preOrderHooks;null!==$&&$c(o,$,0,null),ql(o,0)}if(function uD(r){for(let o=tv(r);null!==o;o=nh(o)){if(!o[vo])continue;const s=o[Qa];for(let c=0;c<s.length;c++){kd(s[c])}}}(o),O1(o,2),null!==r.contentQueries&&C1(r,o),I){const $=r.contentCheckHooks;null!==$&&Cc(o,$)}else{const $=r.contentHooks;null!==$&&$c(o,$,1),ql(o,1)}!function rD(r,o){const s=r.hostBindingOpCodes;if(null===s)return;const c=_1(o,Wo);try{for(let f=0;f<s.length;f++){const m=s[f];if(m<0)Ks(~m);else{const I=m,C=s[++f],x=s[++f];Ld(C,I),c.dirty=!1;const $=$i(c);try{x(2,o[I])}finally{Is(c,$)}}}}finally{null===o[Wo]&&iw(o,Wo),Ks(-1)}}(r,o);const C=r.components;null!==C&&gw(o,C,0);const x=r.viewQuery;if(null!==x&&Jp(2,x,c),I){const $=r.viewCheckHooks;null!==$&&Cc(o,$)}else{const $=r.viewHooks;null!==$&&$c(o,$,2),ql(o,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),o[rn]&=-73,hi(o)}finally{wr()}}}function O1(r,o){for(let s=tv(r);null!==s;s=nh(s))for(let c=Ir;c<s.length;c++)pw(s[c],o)}function lD(r,o,s){pw(vi(o,r),s)}function pw(r,o){if(!function Rd(r){return 128==(128&r[rn])}(r))return;const s=r[Ft],c=r[rn];if(80&c&&0===o||1024&c||2===o)Os(s,r,s.template,r[br]);else if(r[_s]>0){O1(r,1);const f=s.components;null!==f&&gw(r,f,1)}}function gw(r,o,s){for(let c=0;c<o.length;c++)lD(r,o[c],s)}class qm{get rootNodes(){const o=this._lView,s=o[Ft];return yn(s,o,s.firstChild,[])}constructor(o,s){this._lView=o,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[br]}set context(o){this._lView[br]=o}get destroyed(){return 256==(256&this._lView[rn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[dr];if(ji(o)){const s=o[8],c=s?s.indexOf(this):-1;c>-1&&(pp(o,c),Wd(s,c))}this._attachedToViewContainer=!1}gp(this._lView[Ft],this._lView)}onDestroy(o){Ec(this._lView,o)}markForCheck(){hh(this._cdRefInjectingView||this._lView)}detach(){this._lView[rn]&=-129}reattach(){this._lView[rn]|=128}detectChanges(){Zt(this._lView[Ft],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new He(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function iv(r,o){eu(r,o,o[Sn],2,null,null)}(this._lView[Ft],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new He(902,!1);this._appRef=o}}class mw extends qm{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;Zt(o[Ft],o,o[br],!1)}checkNoChanges(){}get context(){return null}}class _w extends Yn{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const s=Kn(o);return new zn(s,this.ngModule)}}function dD(r){const o=[];for(let s in r)r.hasOwnProperty(s)&&o.push({propName:r[s],templateName:s});return o}class vw{constructor(o,s){this.injector=o,this.parentInjector=s}get(o,s,c){c=Ho(c);const f=this.injector.get(o,uo,c);return f!==uo||s===uo?f:this.parentInjector.get(o,s,c)}}class zn extends Ze{get inputs(){const o=this.componentDef,s=o.inputTransforms,c=dD(o.inputs);if(null!==s)for(const f of c)s.hasOwnProperty(f.propName)&&(f.transform=s[f.propName]);return c}get outputs(){return dD(this.componentDef.outputs)}constructor(o,s){super(),this.componentDef=o,this.ngModule=s,this.componentType=o.type,this.selector=function oa(r){return r.map(Ic).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!s}create(o,s,c,f){let m=(f=f||this.ngModule)instanceof tu?f:f?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const I=m?new vw(o,m):o,C=I.get(mr,null);if(null===C)throw new He(407,!1);const fe={rendererFactory:C,sanitizer:I.get(fi,null),effectManager:I.get(Nu,null),afterRenderEventManager:I.get(hf,null)},Ne=C.createRenderer(null,this.componentDef),ke=this.componentDef.selectors[0][0]||"div",lt=c?function sw(r,o,s,c){const m=c.get(qp,!1)||s===Ri.ShadowDom,I=r.selectRootElement(o,m);return function aw(r){y1(r)}(I),I}(Ne,c,this.componentDef.encapsulation,I):am(Ne,ke,function hD(r){const o=r.toLowerCase();return"svg"===o?La:"math"===o?"math":null}(ke)),gn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let vt=null;null!==lt&&(vt=Sl(lt,I,!0));const rr=Bv(0,null,null,1,0,null,null,null,null,null,null),Ar=$m(null,rr,null,gn,null,null,fe,Ne,I,null,vt);let bi,kc;pe(Ar);try{const Md=this.componentDef;let $g,zE=null;Md.findHostDirectiveDefs?($g=[],zE=new Map,Md.findHostDirectiveDefs(Md,$g,zE),$g.push(Md)):$g=[Md];const RS=function yw(r,o){const s=r[Ft],c=Rn;return r[c]=o,Ol(s,c,2,"#host",null)}(Ar,lt),PS=function wo(r,o,s,c,f,m,I){const C=f[Ft];!function Mn(r,o,s,c){for(const f of r)o.mergedAttrs=ka(o.mergedAttrs,f.hostAttrs);null!==o.mergedAttrs&&(ln(o,o.mergedAttrs,!0),null!==s&&uv(c,s,o))}(c,r,o,I);let x=null;null!==o&&(x=Sl(o,f[Ur]));const $=m.rendererFactory.createRenderer(o,s);let re=16;s.signals?re=4096:s.onPush&&(re=64);const fe=$m(f,v1(s),null,re,f[r.index],r,m,$,null,null,x);return C.firstCreatePass&&ea(C,r,c.length-1),zv(f,fe),f[r.index]=fe}(RS,lt,Md,$g,Ar,fe,Ne);kc=xd(rr,Rn),lt&&function zr(r,o,s,c){if(c)Ci(r,s,["ng-version",Fo.full]);else{const{attrs:f,classes:m}=function Ka(r){const o=[],s=[];let c=1,f=2;for(;c<r.length;){let m=r[c];if("string"==typeof m)2===f?""!==m&&o.push(m,r[++c]):8===f&&s.push(m);else{if(!ri(f))break;f=m}c++}return{attrs:o,classes:s}}(o.selectors[0]);f&&Ci(r,s,f),m&&m.length>0&&Tp(r,s,m.join(" "))}}(Ne,Md,lt,c),void 0!==s&&function fD(r,o,s){const c=r.projection=[];for(let f=0;f<o.length;f++){const m=s[f];c.push(null!=m?Array.from(m):null)}}(kc,this.ngContentSelectors,s),bi=function Zm(r,o,s,c,f,m){const I=Vi(),C=f[Ft],x=Xo(I,f);I1(C,f,I,s,null,c);for(let re=0;re<s.length;re++)Qs(Ac(f,C,I.directiveStart+re,I),f);E1(C,f,I),x&&Qs(x,f);const $=Ac(f,C,I.directiveStart+I.componentOffset,I);if(r[br]=f[br]=$,null!==m)for(const re of m)re($,o);return zm(C,I,r),$}(PS,Md,$g,zE,Ar,[ss]),At(rr,Ar,null)}finally{wr()}return new Xp(this.componentType,bi,ar(kc,Ar),Ar,kc)}}class Xp extends We{constructor(o,s,c,f,m){super(),this.location=c,this._rootLView=f,this._tNode=m,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new mw(f),this.componentType=o}setInput(o,s){const c=this._tNode.inputs;let f;if(null!==c&&(f=c[o])){if(this.previousInputValues??=new Map,this.previousInputValues.has(o)&&Object.is(this.previousInputValues.get(o),s))return;const m=this._rootLView;fh(m[Ft],m,f,o,s),this.previousInputValues.set(o,s),hh(vi(this._tNode.index,m))}}get injector(){return new Ys(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function ss(){const r=Vi();Vu(ut()[Ft],r)}function eg(r){let o=function Yt(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),s=!0;const c=[r];for(;o;){let f;if(si(r))f=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new He(903,!1);f=o.\u0275dir}if(f){if(s){c.push(f);const I=r;I.inputs=Ml(r.inputs),I.inputTransforms=Ml(r.inputTransforms),I.declaredInputs=Ml(r.declaredInputs),I.outputs=Ml(r.outputs);const C=f.hostBindings;C&&gD(r,C);const x=f.viewQuery,$=f.contentQueries;if(x&&pD(r,x),$&&Wv(r,$),rt(r.inputs,f.inputs),rt(r.declaredInputs,f.declaredInputs),rt(r.outputs,f.outputs),null!==f.inputTransforms&&(null===I.inputTransforms&&(I.inputTransforms={}),rt(I.inputTransforms,f.inputTransforms)),si(f)&&f.data.animation){const re=r.data;re.animation=(re.animation||[]).concat(f.data.animation)}}const m=f.features;if(m)for(let I=0;I<m.length;I++){const C=m[I];C&&C.ngInherit&&C(r),C===eg&&(s=!1)}}o=Object.getPrototypeOf(o)}!function M1(r){let o=0,s=null;for(let c=r.length-1;c>=0;c--){const f=r[c];f.hostVars=o+=f.hostVars,f.hostAttrs=ka(f.hostAttrs,s=ka(s,f.hostAttrs))}}(c)}function Ml(r){return r===Hi?{}:r===Vn?[]:r}function pD(r,o){const s=r.viewQuery;r.viewQuery=s?(c,f)=>{o(c,f),s(c,f)}:o}function Wv(r,o){const s=r.contentQueries;r.contentQueries=s?(c,f,m)=>{o(c,f,m),s(c,f,m)}:o}function gD(r,o){const s=r.hostBindings;r.hostBindings=s?(c,f)=>{o(c,f),s(c,f)}:o}function Mc(r){return o=>{o.findHostDirectiveDefs=qv,o.hostDirectives=(Array.isArray(r)?r:r()).map(s=>"function"==typeof s?{directive:Nt(s),inputs:Hi,outputs:Hi}:{directive:Nt(s.directive),inputs:x1(s.inputs),outputs:x1(s.outputs)})}}function qv(r,o,s){if(null!==r.hostDirectives)for(const c of r.hostDirectives){const f=Vr(c.directive);mD(f.declaredInputs,c.inputs),qv(f,o,s),s.set(f,c),o.push(f)}}function x1(r){if(void 0===r||0===r.length)return Hi;const o={};for(let s=0;s<r.length;s+=2)o[r[s]]=r[s+1];return o}function mD(r,o){for(const s in o)o.hasOwnProperty(s)&&(r[o[s]]=r[s])}function Ke(r){const o=r.inputConfig,s={};for(const c in o)if(o.hasOwnProperty(c)){const f=o[c];Array.isArray(f)&&f[2]&&(s[c]=f[2])}r.inputTransforms=s}function xc(r){return!!xl(r)&&(Array.isArray(r)||!(r instanceof Map)&&Symbol.iterator in r)}function xl(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function za(r,o,s){return r[o]=s}function va(r,o,s){return!Object.is(r[o],s)&&(r[o]=s,!0)}function vf(r,o,s,c){const f=va(r,o,s);return va(r,o+1,c)||f}function Kv(r,o,s,c,f){const m=vf(r,o,s,c);return va(r,o+2,f)||m}function yf(r,o,s,c){const f=ut();return va(f,Oa(),o)&&(gr(),fc(Dr(),f,r,o,s,c)),yf}function bf(r,o,s,c){return va(r,Oa(),s)?o+Ye(s)+c:cr}function ng(r,o,s,c,f,m,I,C){const $=Kv(r,function Zs(){return fn.lFrame.bindingIndex}(),s,f,I);return da(3),$?o+Ye(s)+c+Ye(f)+m+Ye(I)+C:cr}function Xm(r,o,s,c,f,m,I,C){const x=ut(),$=gr(),re=r+Rn,fe=$.firstCreatePass?function gh(r,o,s,c,f,m,I,C,x){const $=o.consts,re=Ol(o,r,4,I||null,ua($,C));Su(o,s,re,ua($,x)),Vu(o,re);const fe=re.tView=Bv(2,re,c,f,m,o.directiveRegistry,o.pipeRegistry,null,o.schemas,$,null);return null!==o.queries&&(o.queries.template(o,re),fe.queries=o.queries.embeddedTView(re)),re}(re,$,x,o,s,c,f,m,I):$.data[re];ts(fe,!1);const Ne=Cd($,x,fe,r);Vd()&&wl($,x,Ne,fe),Qs(Ne,x),zv(x,x[re]=hw(Ne,x,Ne,fe)),Bs(fe)&&Vv($,x,fe),null!=I&&Yp(x,fe,C)}let Cd=function Xu(r,o,s,c){return ac(!0),o[Sn].createComment("")};function Df(r){return oc(function Fu(){return fn.lFrame.contextLView}(),Rn+r)}function t_(r,o,s){const c=ut();return va(c,Oa(),o)&&hc(gr(),Dr(),c,r,o,c[Sn],s,!1),t_}function ag(r,o,s,c,f){const I=f?"class":"style";fh(r,s,o.inputs[I],I,c)}function cg(r,o,s,c){const f=ut(),m=gr(),I=Rn+r,C=f[Sn],x=m.firstCreatePass?function Cf(r,o,s,c,f,m){const I=o.consts,x=Ol(o,r,2,c,ua(I,f));return Su(o,s,x,ua(I,m)),null!==x.attrs&&ln(x,x.attrs,!1),null!==x.mergedAttrs&&ln(x,x.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,x),x}(I,m,f,o,s,c):m.data[I],$=F1(m,f,x,C,o,r);f[I]=$;const re=Bs(x);return ts(x,!0),uv(C,$,x),32!=(32&x.flags)&&Vd()&&wl(m,f,$,x),0===function ol(){return fn.lFrame.elementDepthCount}()&&Qs($,f),function Gl(){fn.lFrame.elementDepthCount++}(),re&&(Vv(m,f,x),zm(m,x,f)),null!==c&&Yp(f,x),cg}function _h(){let r=Vi();ku()?sc():(r=r.parent,ts(r,!1));const o=r;(function Dc(r){return fn.skipHydrationRootTNode===r})(o)&&function Pu(){fn.skipHydrationRootTNode=null}(),function fu(){fn.lFrame.elementDepthCount--}();const s=gr();return s.firstCreatePass&&(Vu(s,r),vs(r)&&s.queries.elementEnd(r)),null!=o.classesWithoutHost&&function Fh(r){return 0!=(8&r.flags)}(o)&&ag(s,o,ut(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Lh(r){return 0!=(16&r.flags)}(o)&&ag(s,o,ut(),o.stylesWithoutHost,!1),_h}function Jv(r,o,s,c){return cg(r,o,s,c),_h(),Jv}let F1=(r,o,s,c,f,m)=>(ac(!0),am(c,f,function Lu(){return fn.lFrame.currentNamespace}()));function ey(r,o,s){const c=ut(),f=gr(),m=r+Rn,I=f.firstCreatePass?function kw(r,o,s,c,f){const m=o.consts,I=ua(m,c),C=Ol(o,r,8,"ng-container",I);return null!==I&&ln(C,I,!0),Su(o,s,C,ua(m,f)),null!==o.queries&&o.queries.elementStart(o,C),C}(m,f,c,o,s):f.data[m];ts(I,!0);const C=V1(f,c,I,r);return c[m]=C,Vd()&&wl(f,c,C,I),Qs(C,c),Bs(I)&&(Vv(f,c,I),zm(f,I,c)),null!=s&&Yp(c,I),ey}function ty(){let r=Vi();const o=gr();return ku()?sc():(r=r.parent,ts(r,!1)),o.firstCreatePass&&(Vu(o,r),vs(r)&&o.queries.elementEnd(r)),ty}let V1=(r,o,s,c)=>(ac(!0),rv(o[Sn],""));function Ui(){return ut()}function kl(r){return!!r&&"function"==typeof r.then}function B1(r){return!!r&&"function"==typeof r.subscribe}function ny(r,o,s,c){const f=ut(),m=gr(),I=Vi();return function U1(r,o,s,c,f,m,I){const C=Bs(c),$=r.firstCreatePass&&mf(r),re=o[br],fe=fw(o);let Ne=!0;if(3&c.type||I){const Ct=Xo(c,o),Qt=I?I(Ct):Ct,gn=fe.length,vt=I?Ar=>I(oi(Ar[c.index])):c.index;let rr=null;if(!I&&C&&(rr=function CD(r,o,s,c){const f=r.cleanup;if(null!=f)for(let m=0;m<f.length-1;m+=2){const I=f[m];if(I===s&&f[m+1]===c){const C=o[mi],x=f[m+2];return C.length>x?C[x]:null}"string"==typeof I&&(m+=2)}return null}(r,o,f,c.index)),null!==rr)(rr.__ngLastListenerFn__||rr).__ngNextListenerFn__=m,rr.__ngLastListenerFn__=m,Ne=!1;else{m=pi(c,o,re,m,!1);const Ar=s.listen(Qt,f,m);fe.push(m,Ar),$&&$.push(f,vt,gn,gn+1)}}else m=pi(c,o,re,m,!1);const ke=c.outputs;let lt;if(Ne&&null!==ke&&(lt=ke[f])){const Ct=lt.length;if(Ct)for(let Qt=0;Qt<Ct;Qt+=2){const bi=o[lt[Qt]][lt[Qt+1]].subscribe(m),kc=fe.length;fe.push(m,bi),$&&$.push(f,c.index,kc,-(kc+1))}}}(m,f,f[Sn],I,r,o,c),ny}function Lr(r,o,s,c){try{return Jo(6,o,s),!1!==s(c)}catch(f){return ta(r,f),!1}finally{Jo(7,o,s)}}function pi(r,o,s,c,f){return function m(I){if(I===Function)return c;hh(r.componentOffset>-1?vi(r.index,o):o);let x=Lr(o,s,c,I),$=m.__ngNextListenerFn__;for(;$;)x=Lr(o,s,$,I)&&x,$=$.__ngNextListenerFn__;return f&&!1===x&&I.preventDefault(),x}}function Af(r=1){return function sr(r){return(fn.lFrame.contextLView=function Ua(r,o){for(;r>0;)o=o[_o],r--;return o}(r,fn.lFrame.contextLView))[br]}(r)}function H1(r,o){let s=null;const c=function mo(r){const o=r.attrs;if(null!=o){const s=o.indexOf(5);if(!(1&s))return o[s+1]}return null}(r);for(let f=0;f<o.length;f++){const m=o[f];if("*"!==m){if(null===c?Pi(r,m,!0):Co(c,m))return f}else s=f}return s}function ry(r){const o=ut()[Rr][Br];if(!o.projection){const c=o.projection=Iu(r?r.length:1,null),f=c.slice();let m=o.child;for(;null!==m;){const I=r?H1(m,r):0;null!==I&&(f[I]?f[I].projectionNext=m:c[I]=m,f[I]=m),m=m.next}}}function G1(r,o=0,s){const c=ut(),f=gr(),m=Ol(f,Rn+r,16,null,s||null);null===m.projection&&(m.projection=o),sc(),(!c[ki]||la())&&32!=(32&m.flags)&&function Yh(r,o,s){Qh(o[Sn],0,o,s,_p(r,s,o),yp(s.parent||o[Br],s,o))}(f,c,m)}function r_(r,o,s){return i_(r,"",o,"",s),r_}function i_(r,o,s,c,f){const m=ut(),I=bf(m,o,s,c);return I!==cr&&hc(gr(),Dr(),m,r,I,m[Sn],f,!1),i_}function iy(r,o){return r<<17|o<<2}function vh(r){return r>>17&32767}function Sd(r){return 2|r}function el(r){return(131068&r)>>2}function ug(r,o){return-131069&r|o<<2}function sy(r){return 1|r}function Z1(r,o,s,c,f){const m=r[s+1],I=null===o;let C=c?vh(m):el(m),x=!1;for(;0!==C&&(!1===x||I);){const re=r[C+1];K1(r[C],o)&&(x=!0,r[C+1]=c?sy(re):Sd(re)),C=c?vh(re):el(re)}x&&(r[s+1]=c?Sd(m):sy(m))}function K1(r,o){return null===r||null==o||(Array.isArray(r)?r[1]:r)===o||!(!Array.isArray(r)||"string"!=typeof o)&&Qc(r,o)>=0}const Bo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ay(r){return r.substring(Bo.key,Bo.keyEnd)}function cy(r,o){const s=Bo.textEnd;return s===o?-1:(o=Bo.keyEnd=function o_(r,o,s){for(;o<s&&r.charCodeAt(o)>32;)o++;return o}(r,Bo.key=o,s),bh(r,o,s))}function bh(r,o,s){for(;o<s&&r.charCodeAt(o)<=32;)o++;return o}function ly(r,o){return function _c(r,o,s,c){const f=ut(),m=gr(),I=da(2);m.firstUpdatePass&&_r(m,r,I,c),o!==cr&&va(f,I,o)&&wh(m,m.data[kr()],f,f[Sn],r,f[I+1]=function Kw(r,o){return null==r||""===r||("string"==typeof o?r+=o:"object"==typeof r&&(r=Dt(Eu(r)))),r}(o,s),c,I)}(r,o,null,!0),ly}function tl(r){!function rl(r,o,s,c){const f=gr(),m=da(2);f.firstUpdatePass&&_r(f,null,m,c);const I=ut();if(s!==cr&&va(I,m,s)){const C=f.data[kr()];if(Of(C,c)&&!$w(f,m)){let x=c?C.classesWithoutHost:C.stylesWithoutHost;null!==x&&(s=kt(x,s||"")),ag(f,C,I,s,c)}else!function hg(r,o,s,c,f,m,I,C){f===cr&&(f=Vn);let x=0,$=0,re=0<f.length?f[0]:null,fe=0<m.length?m[0]:null;for(;null!==re||null!==fe;){const Ne=x<f.length?f[x+1]:void 0,ke=$<m.length?m[$+1]:void 0;let Ct,lt=null;re===fe?(x+=2,$+=2,Ne!==ke&&(lt=fe,Ct=ke)):null===fe||null!==re&&re<fe?(x+=2,lt=re):($+=2,lt=fe,Ct=ke),null!==lt&&wh(r,o,s,c,lt,Ct,I,C),re=x<f.length?f[x]:null,fe=$<m.length?m[$]:null}}(f,C,I,I[Sn],I[m+1],I[m+1]=function MD(r,o,s){if(null==s||""===s)return Vn;const c=[],f=Eu(s);if(Array.isArray(f))for(let m=0;m<f.length;m++)r(c,f[m],!0);else if("object"==typeof f)for(const m in f)f.hasOwnProperty(m)&&r(c,m,f[m]);else"string"==typeof f&&o(c,f);return c}(r,o,s),c,m)}}(Zw,nl,r,!0)}function nl(r,o){for(let s=function gc(r){return function Y1(r){Bo.key=0,Bo.keyEnd=0,Bo.value=0,Bo.valueEnd=0,Bo.textEnd=r.length}(r),cy(r,bh(r,0,Bo.textEnd))}(o);s>=0;s=cy(o,s))rs(r,ay(o),!0)}function $w(r,o){return o>=r.expandoStartIndex}function _r(r,o,s,c){const f=r.data;if(null===f[s+1]){const m=f[kr()],I=$w(r,s);Of(m,c)&&null===o&&!I&&(o=!1),o=function OD(r,o,s,c){const f=function M(r){const o=fn.lFrame.currentDirectiveIndex;return-1===o?null:r[o]}(r);let m=c?o.residualClasses:o.residualStyles;if(null===f)0===(c?o.classBindings:o.styleBindings)&&(s=Ih(s=dy(null,r,o,s,c),o.attrs,c),m=null);else{const I=o.directiveStylingLast;if(-1===I||r[I]!==f)if(s=dy(f,r,o,s,c),null===m){let x=function J1(r,o,s){const c=s?o.classBindings:o.styleBindings;if(0!==el(c))return r[vh(c)]}(r,o,c);void 0!==x&&Array.isArray(x)&&(x=dy(null,r,o,x[1],c),x=Ih(x,o.attrs,c),function zw(r,o,s,c){r[vh(s?o.classBindings:o.styleBindings)]=c}(r,o,c,x))}else m=function Ww(r,o,s){let c;const f=o.directiveEnd;for(let m=1+o.directiveStylingLast;m<f;m++)c=Ih(c,r[m].hostAttrs,s);return Ih(c,o.attrs,s)}(r,o,c)}return void 0!==m&&(c?o.residualClasses=m:o.residualStyles=m),s}(f,m,o,c),function Hw(r,o,s,c,f,m){let I=m?o.classBindings:o.styleBindings,C=vh(I),x=el(I);r[c]=s;let re,$=!1;if(Array.isArray(s)?(re=s[1],(null===re||Qc(s,re)>0)&&($=!0)):re=s,f)if(0!==x){const Ne=vh(r[C+1]);r[c+1]=iy(Ne,C),0!==Ne&&(r[Ne+1]=ug(r[Ne+1],c)),r[C+1]=function q1(r,o){return 131071&r|o<<17}(r[C+1],c)}else r[c+1]=iy(C,0),0!==C&&(r[C+1]=ug(r[C+1],c)),C=c;else r[c+1]=iy(x,0),0===C?C=c:r[x+1]=ug(r[x+1],c),x=c;$&&(r[c+1]=Sd(r[c+1])),Z1(r,re,c,!0),Z1(r,re,c,!1),function lg(r,o,s,c,f){const m=f?r.residualClasses:r.residualStyles;null!=m&&"string"==typeof o&&Qc(m,o)>=0&&(s[c+1]=sy(s[c+1]))}(o,re,r,c,m),I=iy(C,x),m?o.classBindings=I:o.styleBindings=I}(f,m,o,s,I,c)}}function dy(r,o,s,c,f){let m=null;const I=s.directiveEnd;let C=s.directiveStylingLast;for(-1===C?C=s.directiveStart:C++;C<I&&(m=o[C],c=Ih(c,m.hostAttrs,f),m!==r);)C++;return null!==r&&(s.directiveStylingLast=C),c}function Ih(r,o,s){const c=s?1:2;let f=-1;if(null!==o)for(let m=0;m<o.length;m++){const I=o[m];"number"==typeof I?f=I:f===c&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),rs(r,I,!!s||o[++m]))}return void 0===r?null:r}function Zw(r,o,s){const c=String(o);""!==c&&!c.includes(" ")&&rs(r,c,s)}function wh(r,o,s,c,f,m,I,C){if(!(3&o.type))return;const x=r.data,$=x[C+1],re=function oy(r){return 1==(1&r)}($)?X1(x,o,s,f,el($),I):void 0;Ll(re)||(Ll(m)||function SD(r){return 2==(2&r)}($)&&(m=X1(x,null,s,f,C,I)),function wp(r,o,s,c,f){if(o)f?r.addClass(s,c):r.removeClass(s,c);else{let m=-1===c.indexOf("-")?void 0:ui.DashCase;null==f?r.removeStyle(s,c,m):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),m|=ui.Important),r.setStyle(s,c,f,m))}}(c,I,du(kr(),s),f,m))}function X1(r,o,s,c,f,m){const I=null===o;let C;for(;f>0;){const x=r[f],$=Array.isArray(x),re=$?x[1]:x,fe=null===re;let Ne=s[f+1];Ne===cr&&(Ne=fe?Vn:void 0);let ke=fe?Kd(Ne,c):re===c?Ne:void 0;if($&&!Ll(ke)&&(ke=Kd(x,c)),Ll(ke)&&(C=ke,I))return C;const lt=r[f+1];f=I?vh(lt):el(lt)}if(null!==o){let x=m?o.residualClasses:o.residualStyles;null!=x&&(C=Kd(x,c))}return C}function Ll(r){return void 0!==r}function Of(r,o){return 0!=(r.flags&(o?8:16))}function eb(r,o=""){const s=ut(),c=gr(),f=r+Rn,m=c.firstCreatePass?Ol(c,f,1,o,null):c.data[f],I=tb(c,s,m,o,r);s[f]=I,Vd()&&wl(c,s,I,m),ts(m,!1)}let tb=(r,o,s,c,f)=>(ac(!0),fp(o[Sn],c));function nb(r){return Mi("",r,""),nb}function Mi(r,o,s){const c=ut(),f=bf(c,r,o,s);return f!==cr&&$a(c,kr(),f),Mi}function fg(r,o,s,c,f,m,I){const C=ut(),x=ng(C,r,o,s,c,f,m,I);return x!==cr&&$a(C,kr(),x),fg}function py(r,o,s){const c=ut();return va(c,Oa(),o)&&hc(gr(),Dr(),c,r,o,c[Sn],s,!0),py}const xf=void 0;var sT=["en",[["a","p"],["AM","PM"],xf],[["AM","PM"],xf,xf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],xf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],xf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",xf,"{1} 'at' {0}",xf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function oT(r){const s=Math.floor(Math.abs(r)),c=r.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===c?1:5}];let yg={};function pb(r){const o=function ls(r){return r.toLowerCase().replace(/_/g,"-")}(r);let s=Rf(o);if(s)return s;const c=o.split("-")[0];if(s=Rf(c),s)return s;if("en"===c)return sT;throw new He(701,!1)}function gy(r){return pb(r)[bg.PluralCase]}function Rf(r){return r in yg||(yg[r]=Jn.ng&&Jn.ng.common&&Jn.ng.common.locales&&Jn.ng.common.locales[r]),yg[r]}var bg=function(r){return r[r.LocaleId=0]="LocaleId",r[r.DayPeriodsFormat=1]="DayPeriodsFormat",r[r.DayPeriodsStandalone=2]="DayPeriodsStandalone",r[r.DaysFormat=3]="DaysFormat",r[r.DaysStandalone=4]="DaysStandalone",r[r.MonthsFormat=5]="MonthsFormat",r[r.MonthsStandalone=6]="MonthsStandalone",r[r.Eras=7]="Eras",r[r.FirstDayOfWeek=8]="FirstDayOfWeek",r[r.WeekendRange=9]="WeekendRange",r[r.DateFormat=10]="DateFormat",r[r.TimeFormat=11]="TimeFormat",r[r.DateTimeFormat=12]="DateTimeFormat",r[r.NumberSymbols=13]="NumberSymbols",r[r.NumberFormats=14]="NumberFormats",r[r.CurrencyCode=15]="CurrencyCode",r[r.CurrencySymbol=16]="CurrencySymbol",r[r.CurrencyName=17]="CurrencyName",r[r.Currencies=18]="Currencies",r[r.Directionality=19]="Directionality",r[r.PluralCase=20]="PluralCase",r[r.ExtraData=21]="ExtraData",r}(bg||{});const Vl="en-US",Ig={marker:"element"},u_={marker:"ICU"};var ba=function(r){return r[r.SHIFT=2]="SHIFT",r[r.APPEND_EAGERLY=1]="APPEND_EAGERLY",r[r.COMMENT=2]="COMMENT",r}(ba||{});let mb=Vl;function _b(r){(function on(r,o){null==r&&wt(o,r,null,"!=")})(r,"Expected localeId to be defined"),"string"==typeof r&&(mb=r.toLowerCase().replace(/_/g,"-"))}function cT(r,o,s){const c=o.insertBeforeIndex,f=Array.isArray(c)?c[0]:c;return null===f?bp(r,0,s):oi(s[f])}function wg(r,o,s,c,f){const m=o.insertBeforeIndex;if(Array.isArray(m)){let I=c,C=null;if(3&o.type||(C=I,I=f),null!==I&&-1===o.componentOffset)for(let x=1;x<m.length;x++)wu(r,I,s[m[x]],C,!1)}}function my(r,o){if(r.push(o),r.length>1)for(let s=r.length-2;s>=0;s--){const c=r[s];uT(c)||lT(c,o)&&null===vb(c)&&dT(c,o.index)}}function uT(r){return!(64&r.type)}function lT(r,o){return uT(o)||r.index>o.index}function vb(r){const o=r.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function dT(r,o){const s=r.insertBeforeIndex;Array.isArray(s)?s[0]=o:(ih(cT,wg),r.insertBeforeIndex=o)}function BD(r,o,s){const c=Fv(r,s,64,null,null);return my(o,c),c}function bb(){const r=[];let s,c,o=-1;function m(C,x){o=0;const $=function _y(r,o){const s=o[r.currentCaseLViewIndex];return null===s?s:s<0?~s:s}(C,x);c=null!==$?C.remove[$]:Vn}function I(){if(o<c.length){const C=c[o++];return C>0?s[C]:(r.push(o,c),m(s[Ft].data[~C],s),I())}return 0===r.length?null:(c=r.pop(),o=r.pop(),I())}return function f(C,x){for(s=x;r.length;)r.pop();return m(C.value,x),I}}const h_=/\ufffd(\d+):?\d*\ufffd/gi,f_=/\ufffd(\d+)\ufffd/,Dh=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,p_="\ufffd",_T=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,$D=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,zD=/\uE500/g;function Od(r,o,s,c,f,m,I){const C=Kp(r,c,1,null);let x=C<<ba.SHIFT,$=Gc();o===$&&($=null),null===$&&(x|=ba.APPEND_EAGERLY),I&&(x|=ba.COMMENT,function J_(r){void 0===od&&(od=r())}(bb)),f.push(x,null===m?"":m);const re=Fv(r,C,I?32:1,null===m?"":m,null);my(s,re);const fe=re.index;return ts(re,!1),null!==$&&o!==$&&function VD(r,o){let s=r.insertBeforeIndex;null===s?(ih(cT,wg),s=r.insertBeforeIndex=[null,o]):(function Ge(r,o,s){r!=o&&wt(s,r,o,"==")}(Array.isArray(s),!0,"Expecting array here"),s.push(o))}($,fe),re}function vT(r,o,s,c,f,m,I){const C=I.match(h_),x=Od(r,o,s,m,c,C?null:I,!1);C&&Dg(f,I,x.index,null,0,null)}function Dg(r,o,s,c,f,m){const I=r.length,C=I+1;r.push(null,null);const x=I+2,$=o.split(h_);let re=0;for(let fe=0;fe<$.length;fe++){const Ne=$[fe];if(1&fe){const ke=f+parseInt(Ne,10);r.push(-1-ke),re|=by(ke)}else""!==Ne&&r.push(Ne)}return r.push(s<<2|(c?1:0)),c&&r.push(c,m),r[I]=re,r[C]=r.length-x,re}function by(r){return 1<<Math.min(r,31)}function Tb(r){let o,m,s="",c=0,f=!1;for(;null!==(o=_T.exec(r));)f?o[0]===`${p_}/*${m}${p_}`&&(c=o.index,f=!1):(s+=r.substring(c,o.index+o[0].length),m=o[1],f=!0);return s+=r.slice(c),s}function Iy(r,o,s,c,f,m){let I=0;const C={type:f.type,currentCaseLViewIndex:Kp(r,o,1,null),anchorIdx:m,cases:[],create:[],remove:[],update:[]};(function bT(r,o,s){r.push(by(o.mainBinding),2,-1-o.mainBinding,s<<2|2)})(s,f,m),function hT(r,o,s){const c=r.data[o];null===c?r.data[o]=s:c.value=s}(r,m,C);const x=f.values;for(let $=0;$<x.length;$++){const re=x[$],fe=[];for(let Ne=0;Ne<re.length;Ne++){const ke=re[Ne];if("string"!=typeof ke){const lt=fe.push(ke)-1;re[Ne]=`\x3c!--\ufffd${lt}\ufffd--\x3e`}}I=KD(r,C,o,s,c,f.cases[$],re.join(""),fe)|I}I&&function m_(r,o,s){r.push(o,1,s<<2|3)}(s,I,m)}function yT(r){const o=[],s=[];let c=1,f=0;const m=Cg(r=r.replace(Dh,function(I,C,x){return c="select"===x?0:1,f=parseInt(C.slice(1),10),""}));for(let I=0;I<m.length;){let C=m[I++].trim();1===c&&(C=C.replace(/\s*(?:=)?(\w+)\s*/,"$1")),C.length&&o.push(C);const x=Cg(m[I++]);o.length>s.length&&s.push(x)}return{type:c,mainBinding:f,cases:o,values:s}}function Cg(r){if(!r)return[];let o=0;const s=[],c=[],f=/[{}]/g;let m;for(f.lastIndex=0;m=f.exec(r);){const C=m.index;if("}"==m[0]){if(s.pop(),0==s.length){const x=r.substring(o,C);Dh.test(x)?c.push(yT(x)):c.push(x),o=C+1}}else{if(0==s.length){const x=r.substring(o,C);c.push(x),o=C+1}s.push("{")}}const I=r.substring(o);return c.push(I),c}function KD(r,o,s,c,f,m,I,C){const x=[],$=[],re=[];o.cases.push(m),o.create.push(x),o.remove.push($),o.update.push(re);const Ne=e1(Ep()).getInertBodyElement(I),ke=ef(Ne)||Ne;return ke?wy(r,o,s,c,x,$,re,ke,f,C,0):0}function wy(r,o,s,c,f,m,I,C,x,$,re){let fe=0,Ne=C.firstChild;for(;Ne;){const ke=Kp(r,s,1,null);switch(Ne.nodeType){case Node.ELEMENT_NODE:const lt=Ne,Ct=lt.tagName.toLowerCase();if(ud.hasOwnProperty(Ct)){Sg(f,Ig,Ct,x,ke),r.data[ke]=Ct;const rr=lt.attributes;for(let Ar=0;Ar<rr.length;Ar++){const bi=rr.item(Ar),kc=bi.name.toLowerCase();bi.value.match(h_)?mv.hasOwnProperty(kc)&&Dg(I,bi.value,ke,bi.name,0,ld[kc]?mm:null):__(f,ke,bi)}fe=wy(r,o,s,c,f,m,I,Ne,ke,$,re+1)|fe,g_(m,ke,re)}break;case Node.TEXT_NODE:const Qt=Ne.textContent||"",gn=Qt.match(h_);Sg(f,null,gn?"":Qt,x,ke),g_(m,ke,re),gn&&(fe=Dg(I,Qt,ke,null,0,null)|fe);break;case Node.COMMENT_NODE:const vt=f_.exec(Ne.textContent||"");if(vt){const Ar=$[parseInt(vt[1],10)];Sg(f,u_,"",x,ke),Iy(r,s,c,x,Ar,ke),YD(m,ke,re)}}Ne=Ne.nextSibling}return fe}function g_(r,o,s){0===s&&r.push(o)}function YD(r,o,s){0===s&&(r.push(~o),r.push(o))}function Sg(r,o,s,c,f){null!==o&&r.push(o),r.push(s,f,function UD(r,o,s){return r|o<<17|s<<1}(0,c,f))}function __(r,o,s){r.push(o<<1|1,s.name,s.value)}function Cb(r,o,s=-1){const c=gr(),f=ut(),m=Rn+r,I=ua(c.consts,o),C=Gc();c.firstCreatePass&&function Ff(r,o,s,c,f,m){const I=Gc(),C=[],x=[],$=[[]];f=function Eb(r,o){if(function wb(r){return-1===r}(o))return Tb(r);{const s=r.indexOf(`:${o}${p_}`)+2+o.toString().length,c=r.search(new RegExp(`${p_}\\/\\*\\d+:${o}${p_}`));return Tb(r.substring(s,c))}}(f,m);const re=function WD(r){return r.replace(zD," ")}(f).split($D);for(let fe=0;fe<re.length;fe++){let Ne=re[fe];if(1&fe){const ke=47===Ne.charCodeAt(0),Ct=(Ne.charCodeAt(ke?1:0),Rn+Number.parseInt(Ne.substring(ke?2:1)));if(ke)$.shift(),ts(Gc(),!1);else{const Qt=BD(r,$[0],Ct);$.unshift([]),ts(Qt,!0)}}else{const ke=Cg(Ne);for(let lt=0;lt<ke.length;lt++){let Ct=ke[lt];if(1&lt){const Qt=Ct;if("object"!=typeof Qt)throw new Error(`Unable to parse ICU expression in "${f}" message.`);Iy(r,s,x,o,Qt,Od(r,I,$[0],s,C,"",!0).index)}else""!==Ct&&vT(r,I,$[0],C,x,s,Ct)}}}r.data[c]={create:C,update:x}}(c,null===C?0:C.index,f,m,I,s),2===c.type?f[Rr][rn]|=32:f[rn]|=32;const x=c.data[m],re=cm(c,C===f[Br]?null:C,f);(function pT(r,o,s,c){const f=r[Sn];for(let m=0;m<o.length;m++){const I=o[m++],C=o[m],$=(I&ba.APPEND_EAGERLY)===ba.APPEND_EAGERLY,re=I>>>ba.SHIFT;let fe=r[re];null===fe&&(fe=r[re]=(I&ba.COMMENT)===ba.COMMENT?f.createComment(C):fp(f,C)),$&&null!==s&&wu(f,s,fe,c,!1)}})(f,x.create,re,C&&8&C.type?f[C.index]:null),mu(!0)}function ET(r,o,s){Cb(r,o,s),function Sh(){mu(!1)}()}function Ab(r,o,s,c,f){if(r=Nt(r),Array.isArray(r))for(let m=0;m<r.length;m++)Ab(r[m],o,s,c,f);else{const m=gr(),I=ut(),C=Vi();let x=ch(r)?r:Nt(r.provide);const $=wv(r),re=1048575&C.providerIndexes,fe=C.directiveStart,Ne=C.providerIndexes>>20;if(ch(r)||!r.multi){const ke=new dl($,f,ff),lt=Og(x,o,f?re:re+Ne,fe);-1===lt?(bu(qc(C,I),m,x),Dy(m,r,o.length),o.push(x),C.directiveStart++,C.directiveEnd++,f&&(C.providerIndexes+=1048576),s.push(ke),I.push(ke)):(s[lt]=ke,I[lt]=ke)}else{const ke=Og(x,o,re+Ne,fe),lt=Og(x,o,re,re+Ne),Qt=lt>=0&&s[lt];if(f&&!Qt||!f&&!(ke>=0&&s[ke])){bu(qc(C,I),m,x);const gn=function eC(r,o,s,c,f){const m=new dl(r,s,ff);return m.multi=[],m.index=o,m.componentProviders=0,ST(m,f,c&&!s),m}(f?XD:JD,s.length,f,c,$);!f&&Qt&&(s[lt].providerFactory=gn),Dy(m,r,o.length,0),o.push(x),C.directiveStart++,C.directiveEnd++,f&&(C.providerIndexes+=1048576),s.push(gn),I.push(gn)}else Dy(m,r,ke>-1?ke:lt,ST(s[f?lt:ke],$,!f&&c));!f&&c&&Qt&&s[lt].componentProviders++}}}function Dy(r,o,s,c){const f=ch(o),m=function s1(r){return!!r.useClass}(o);if(f||m){const x=(m?Nt(o.useClass):o).prototype.ngOnDestroy;if(x){const $=r.destroyHooks||(r.destroyHooks=[]);if(!f&&o.multi){const re=$.indexOf(s);-1===re?$.push(s,[c,x]):$[re+1].push(c,x)}else $.push(s,x)}}}function ST(r,o,s){return s&&r.componentProviders++,r.multi.push(o)-1}function Og(r,o,s,c){for(let f=s;f<c;f++)if(o[f]===r)return f;return-1}function JD(r,o,s,c){return Cy(this.multi,[])}function XD(r,o,s,c){const f=this.multi;let m;if(this.providerFactory){const I=this.providerFactory.componentProviders,C=Ac(s,s[Ft],this.providerFactory.index,c);m=C.slice(0,I),Cy(f,m);for(let x=I;x<C.length;x++)m.push(C[x])}else m=[],Cy(f,m);return m}function Cy(r,o){for(let s=0;s<r.length;s++)o.push((0,r[s])());return o}function Nb(r,o=[]){return s=>{s.providersResolver=(c,f)=>function CT(r,o,s){const c=gr();if(c.firstCreatePass){const f=si(r);Ab(s,c.data,c.blueprint,f,!0),Ab(o,c.data,c.blueprint,f,!1)}}(c,f?f(r):r,o)}}class su{}class Mg{}function AT(r,o){return new Ob(r,o??null,[])}class Ob extends su{constructor(o,s,c){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new _w(this);const f=Yr(o);this._bootstrapComponents=Nl(f.bootstrap),this._r3Injector=sf(o,s,[{provide:su,useValue:this},{provide:Yn,useValue:this.componentFactoryResolver},...c],Dt(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Sy extends Mg{constructor(o){super(),this.moduleType=o}create(o){return new Ob(this.moduleType,o,[])}}class NT extends su{constructor(o){super(),this.componentFactoryResolver=new _w(this),this.instance=null;const s=new md([...o.providers,{provide:su,useValue:this},{provide:Yn,useValue:this.componentFactoryResolver}],o.parent||nf(),o.debugName,new Set(["environment"]));this.injector=s,o.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function Ay(r,o,s=null){return new NT({providers:r,parent:o,debugName:s,runEnvironmentInitializers:!0}).injector}let Ia=(()=>{class r{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s)){const c=Mp(0,s.type),f=c.length>0?Ay([c],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s,f)}return this.cachedInjectors.get(s)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=we({token:r,providedIn:"environment",factory:()=>new r(Nn(tu))})}return r})();function OT(r){r.getStandaloneInjector=o=>o.get(Ia).getOrCreateStandaloneInjector(r)}function Rb(r,o,s,c){return v_(ut(),Ro(),r,o,s,c)}function Py(r,o,s,c,f){return Pb(ut(),Ro(),r,o,s,c,f)}function BT(r,o,s,c,f,m){return function kb(r,o,s,c,f,m,I,C){const x=o+s;return Kv(r,x,f,m,I)?za(r,x+3,C?c.call(C,f,m,I):c(f,m,I)):Lf(r,x+3)}(ut(),Ro(),r,o,s,c,f,m)}function Lf(r,o){const s=r[o];return s===cr?void 0:s}function v_(r,o,s,c,f,m){const I=o+s;return va(r,I,f)?za(r,I+1,m?c.call(m,f):c(f)):Lf(r,I+1)}function Pb(r,o,s,c,f,m,I){const C=o+s;return vf(r,C,f,m)?za(r,C+2,I?c.call(I,f,m):c(f,m)):Lf(r,C+2)}function ky(r,o){const s=gr();let c;const f=r+Rn;s.firstCreatePass?(c=function aC(r,o){if(o)for(let s=o.length-1;s>=0;s--){const c=o[s];if(r===c.name)return c}}(o,s.pipeRegistry),s.data[f]=c,c.onDestroy&&(s.destroyHooks??=[]).push(f,c.onDestroy)):c=s.data[f];const m=c.factory||(c.factory=Sa(c.type)),C=dn(ff);try{const x=Sc(!1),$=m();return Sc(x),function Pw(r,o,s,c){s>=r.data.length&&(r.data[s]=null,r.blueprint[s]=null),o[s]=c}(s,ut(),f,$),$}finally{dn(C)}}function Lb(r,o,s){const c=r+Rn,f=ut(),m=oc(f,c);return Vf(f,c)?v_(f,Ro(),o,m.transform,s,m):m.transform(s)}function Fy(r,o,s,c){const f=r+Rn,m=ut(),I=oc(m,f);return Vf(m,f)?Pb(m,Ro(),o,I.transform,s,c,I):I.transform(s,c)}function Vf(r,o){return r[Ft].data[o].pure}function Vb(){return this._results[Symbol.iterator]()}class b_{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new nu)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=b_.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=Vb)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,s){return this._results.reduce(o,s)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,s){const c=this;c.dirty=!1;const f=function uc(r){return r.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function ep(r,o,s){if(r.length!==o.length)return!1;for(let c=0;c<r.length;c++){let f=r[c],m=o[c];if(s&&(f=s(f),m=s(m)),m!==f)return!1}return!0}(c._results,f,s))&&(c._results=f,c.length=f.length,c.last=f[this.length-1],c.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function zT(r,o,s,c=!0){const f=o[Ft];if(function ov(r,o,s,c){const f=Ir+c,m=s.length;c>0&&(s[f-1][ii]=o),c<m-Ir?(o[ii]=s[f],Po(s,Ir+c,o)):(s.push(o),o[ii]=null),o[dr]=s;const I=o[wi];null!==I&&s!==I&&function $0(r,o){const s=r[Qa];o[Rr]!==o[dr][dr][Rr]&&(r[vo]=!0),null===s?r[Qa]=[o]:s.push(o)}(I,o);const C=o[Pr];null!==C&&C.insertView(r),o[rn]|=128}(f,o,r,s),c){const m=dm(s,r),I=o[Sn],C=sd(I,r[Qr]);null!==C&&function G0(r,o,s,c,f,m){c[ir]=f,c[Br]=o,eu(r,c,s,1,f,m)}(f,r[Br],I,o,C,m)}}let Bf=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=qa}return r})();const uC=Bf,lC=class extends uC{constructor(o,s,c){super(),this._declarationLView=o,this._declarationTContainer=s,this.elementRef=c}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(o,s){return this.createEmbeddedViewImpl(o,s)}createEmbeddedViewImpl(o,s,c){const f=function $T(r,o,s,c){const f=o.tView,C=$m(r,f,s,4096&r[rn]?4096:16,null,o,null,null,null,c?.injector??null,c?.hydrationInfo??null);C[wi]=r[o.index];const $=r[Pr];return null!==$&&(C[Pr]=$.createEmbeddedView(f)),At(f,C,s),C}(this._declarationLView,this._declarationTContainer,o,{injector:s,hydrationInfo:c});return new qm(f)}};function qa(){return By(Vi(),ut())}function By(r,o){return 4&r.type?new lC(o,r,ar(r,o)):null}let Gy=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=pC}return r})();function pC(){return T_(Vi(),ut())}const I_=Gy,jy=class extends I_{constructor(o,s,c){super(),this._lContainer=o,this._hostTNode=s,this._hostLView=c}get element(){return ar(this._hostTNode,this._hostLView)}get injector(){return new Ys(this._hostTNode,this._hostLView)}get parentInjector(){const o=gl(this._hostTNode,this._hostLView);if(Wc(o)){const s=yu(o,this._hostLView),c=vu(o);return new Ys(s[Ft].data[c+8],s)}return new Ys(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const s=Uf(this._lContainer);return null!==s&&s[o]||null}get length(){return this._lContainer.length-Ir}createEmbeddedView(o,s,c){let f,m;"number"==typeof c?f=c:null!=c&&(f=c.index,m=c.injector);const C=o.createEmbeddedViewImpl(s||{},m,null);return this.insertImpl(C,f,false),C}createComponent(o,s,c,f,m){const I=o&&!function Ql(r){return"function"==typeof r}(o);let C;if(I)C=s;else{const Ct=s||{};C=Ct.index,c=Ct.injector,f=Ct.projectableNodes,m=Ct.environmentInjector||Ct.ngModuleRef}const x=I?o:new zn(Kn(o)),$=c||this.parentInjector;if(!m&&null==x.ngModule){const Qt=(I?$:this.parentInjector).get(tu,null);Qt&&(m=Qt)}Kn(x.componentType??{});const ke=x.create($,f,null,m);return this.insertImpl(ke.hostView,C,false),ke}insert(o,s){return this.insertImpl(o,s,!1)}insertImpl(o,s,c){const f=o._lView;if(function Pd(r){return ji(r[dr])}(f)){const x=this.indexOf(o);if(-1!==x)this.detach(x);else{const $=f[dr],re=new jy($,$[Br],$[dr]);re.detach(re.indexOf(o))}}const I=this._adjustIndex(s),C=this._lContainer;return zT(C,f,I,!c),o.attachToViewContainerRef(),Po(w_(C),I,o),o}move(o,s){return this.insert(o,s)}indexOf(o){const s=Uf(this._lContainer);return null!==s?s.indexOf(o):-1}remove(o){const s=this._adjustIndex(o,-1),c=pp(this._lContainer,s);c&&(Wd(w_(this._lContainer),s),gp(c[Ft],c))}detach(o){const s=this._adjustIndex(o,-1),c=pp(this._lContainer,s);return c&&null!=Wd(w_(this._lContainer),s)?new qm(c):null}_adjustIndex(o,s=0){return o??this.length+s}};function Uf(r){return r[8]}function w_(r){return r[8]||(r[8]=[])}function T_(r,o){let s;const c=o[r.index];return ji(c)?s=c:(s=hw(c,o,null,r),o[r.index]=s,zv(o,s)),$y(s,o,r,c),new jy(s,r,o)}let $y=function Hb(r,o,s,c){if(r[Qr])return;let f;f=8&s.type?oi(c):function E_(r,o){const s=r[Sn],c=s.createComment(""),f=Xo(o,r);return wu(s,sd(s,f),c,function vp(r,o){return r.nextSibling(o)}(s,f),!1),c}(o,s),r[Qr]=f};class Ul{constructor(o){this.queryList=o,this.matches=null}clone(){return new Ul(this.queryList)}setDirty(){this.queryList.setDirty()}}class zy{constructor(o=[]){this.queries=o}createEmbeddedView(o){const s=o.queries;if(null!==s){const c=null!==o.contentQueries?o.contentQueries[0]:s.length,f=[];for(let m=0;m<c;m++){const I=s.getByIndex(m);f.push(this.queries[I.indexInDeclarationView].clone())}return new zy(f)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let s=0;s<this.queries.length;s++)null!==XT(o,s).matches&&this.queries[s].setDirty()}}class ZT{constructor(o,s,c=null){this.predicate=o,this.flags=s,this.read=c}}class D_{constructor(o=[]){this.queries=o}elementStart(o,s){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,s)}elementEnd(o){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(o)}embeddedTView(o){let s=null;for(let c=0;c<this.length;c++){const f=null!==s?s.length:0,m=this.getByIndex(c).embeddedTView(o,f);m&&(m.indexInDeclarationView=c,null!==s?s.push(m):s=[m])}return null!==s?new D_(s):null}template(o,s){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,s)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class $b{constructor(o,s=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(o,s){this.isApplyingToNode(s)&&this.matchTNode(o,s)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,s){this.elementStart(o,s)}embeddedTView(o,s){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,s),new $b(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==s;)c=c.parent;return s===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,s){const c=this.metadata.predicate;if(Array.isArray(c))for(let f=0;f<c.length;f++){const m=c[f];this.matchTNodeWithReadOption(o,s,zb(s,m)),this.matchTNodeWithReadOption(o,s,Kc(s,o,m,!1,!1))}else c===Bf?4&s.type&&this.matchTNodeWithReadOption(o,s,-1):this.matchTNodeWithReadOption(o,s,Kc(s,o,c,!1,!1))}matchTNodeWithReadOption(o,s,c){if(null!==c){const f=this.metadata.read;if(null!==f)if(f===nr||f===Gy||f===Bf&&4&s.type)this.addMatch(s.index,-2);else{const m=Kc(s,o,f,!1,!1);null!==m&&this.addMatch(s.index,m)}else this.addMatch(s.index,c)}}addMatch(o,s){null===this.matches?this.matches=[o,s]:this.matches.push(o,s)}}function zb(r,o){const s=r.localNames;if(null!==s)for(let c=0;c<s.length;c+=2)if(s[c]===o)return s[c+1];return null}function Wb(r,o,s,c){return-1===s?function gC(r,o){return 11&r.type?ar(r,o):4&r.type?By(r,o):null}(o,r):-2===s?function Wy(r,o,s){return s===nr?ar(o,r):s===Bf?By(o,r):s===Gy?T_(o,r):void 0}(r,o,c):Ac(r,r[Ft],s,o)}function qy(r,o,s,c){const f=o[Pr].queries[c];if(null===f.matches){const m=r.data,I=s.matches,C=[];for(let x=0;x<I.length;x+=2){const $=I[x];C.push($<0?null:Wb(o,m[$],I[x+1],s.metadata.read))}f.matches=C}return f.matches}function Zy(r,o,s,c){const f=r.queries.getByIndex(s),m=f.matches;if(null!==m){const I=qy(r,o,f,s);for(let C=0;C<m.length;C+=2){const x=m[C];if(x>0)c.push(I[C/2]);else{const $=m[C+1],re=o[-x];for(let fe=Ir;fe<re.length;fe++){const Ne=re[fe];Ne[wi]===Ne[dr]&&Zy(Ne[Ft],Ne,$,c)}if(null!==re[Qa]){const fe=re[Qa];for(let Ne=0;Ne<fe.length;Ne++){const ke=fe[Ne];Zy(ke[Ft],ke,$,c)}}}}}return c}function Hf(r){const o=ut(),s=gr(),c=E();R(c+1);const f=XT(s,c);if(r.dirty&&function hu(r){return 4==(4&r[rn])}(o)===(2==(2&f.metadata.flags))){if(null===f.matches)r.reset([]);else{const m=f.crossesNgTemplate?Zy(s,o,c,[]):qy(s,o,f,c);r.reset(m,li),r.notifyOnChanges()}return!0}return!1}function Ky(r,o,s){const c=gr();c.firstCreatePass&&(JT(c,new ZT(r,o,s),-1),2==(2&o)&&(c.staticViewQueries=!0)),qb(c,ut(),o)}function KT(r,o,s,c){const f=gr();if(f.firstCreatePass){const m=Vi();JT(f,new ZT(o,s,c),m.index),function Zb(r,o){const s=r.contentQueries||(r.contentQueries=[]);o!==(s.length?s[s.length-1]:-1)&&s.push(r.queries.length-1,o)}(f,r),2==(2&s)&&(f.staticContentQueries=!0)}qb(f,ut(),s)}function YT(){return function QT(r,o){return r[Pr].queries[o].queryList}(ut(),E())}function qb(r,o,s){const c=new b_(4==(4&s));(function iu(r,o,s,c){const f=fw(o);f.push(s),r.firstCreatePass&&mf(r).push(c,f.length-1)})(r,o,c,c.destroy),null===o[Pr]&&(o[Pr]=new zy),o[Pr].queries.push(new Ul(c))}function JT(r,o,s){null===r.queries&&(r.queries=new D_),r.queries.track(new $b(o,s))}function XT(r,o){return r.queries.getByIndex(o)}function Yy(r,o){return By(r,o)}function C_(r){return!!Yr(r)}const c0=new Dn("Application Initializer");let oI=(()=>{class r{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,c)=>{this.resolve=s,this.reject=c}),this.appInits=qn(c0,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const s=[];for(const f of this.appInits){const m=f();if(kl(m))s.push(m);else if(B1(m)){const I=new Promise((C,x)=>{m.subscribe({complete:C,error:x})});s.push(I)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{c()}).catch(f=>{this.reject(f)}),0===s.length&&c(),this.initialized=!0}static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275prov=we({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),vE=(()=>{class r{log(s){console.log(s)}warn(s){console.warn(s)}static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275prov=we({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})();const u0=new Dn("LocaleId",{providedIn:"root",factory:()=>qn(u0,Kt.Optional|Kt.SkipSelf)||function sI(){return typeof $localize<"u"&&$localize.locale||Vl}()}),aI=new Dn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let l0=(()=>{class r{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ue.X(!1)}add(){this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275prov=we({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();class bE{constructor(o,s){this.ngModuleFactory=o,this.componentFactories=s}}let cI=(()=>{class r{compileModuleSync(s){return new Sy(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const c=this.compileModuleSync(s),m=Nl(Yr(s).declarations).reduce((I,C)=>{const x=Kn(C);return x&&I.push(new zn(x)),I},[]);return new bE(c,m)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275prov=we({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const mI=new Dn(""),y0=new Dn("");let vI,EE=(()=>{class r{constructor(s,c,f){this._ngZone=s,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,vI||(function _I(r){vI=r}(f),f.addToWindow(c)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ns.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(s)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,c,f){let m=-1;c&&c>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(I=>I.timeoutId!==m),s(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:s,timeoutId:m,updateCb:f})}whenStable(s,c,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,c,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,c,f){return[]}static#e=this.\u0275fac=function(c){return new(c||r)(Nn(Ns),Nn(zf),Nn(y0))};static#t=this.\u0275prov=we({token:r,factory:r.\u0275fac})}return r})(),zf=(()=>{class r{constructor(){this._applications=new Map}registerApplication(s,c){this._applications.set(s,c)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,c=!0){return vI?.findTestabilityInTree(this,s,c)??null}static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275prov=we({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})(),Mh=null;const DE=new Dn("AllowMultipleToken"),b0=new Dn("PlatformDestroyListeners"),yI=new Dn("appBootstrapListener");class kC{constructor(o,s){this.name=o,this.token=s}}function bI(r,o,s=[]){const c=`Platform: ${o}`,f=new Dn(c);return(m=[])=>{let I=w0();if(!I||I.injector.get(DE,!1)){const C=[...s,...m,{provide:f,useValue:!0}];r?r(C):function AE(r){if(Mh&&!Mh.get(DE,!1))throw new He(400,!1);(function SE(){!function il(r){ic=r}(()=>{throw new He(600,!1)})})(),Mh=r;const o=r.get(II);(function I0(r){r.get(Cs,null)?.forEach(s=>s())})(r)}(function x_(r=[],o){return lo.create({name:o,providers:[{provide:Cm,useValue:"platform"},{provide:b0,useValue:new Set([()=>Mh=null])},...r]})}(C,c))}return function OE(r){const o=w0();if(!o)throw new He(401,!1);return o}()}}function w0(){return Mh?.get(II)??null}let II=(()=>{class r{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,c){const f=function FC(r="zone.js",o){return"noop"===r?new xv:"zone.js"===r?new Ns(o):r}(c?.ngZone,function Ug(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:r?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:r?.runCoalescing??!1}}({eventCoalescing:c?.ngZoneEventCoalescing,runCoalescing:c?.ngZoneRunCoalescing}));return f.run(()=>{const m=function nC(r,o,s){return new Ob(r,o,s)}(s.moduleType,this.injector,function E0(r){return[{provide:Ns,useFactory:r},{provide:tf,multi:!0,useFactory:()=>{const o=qn(ME,{optional:!0});return()=>o.initialize()}},{provide:wI,useFactory:bS},{provide:$p,useFactory:Vm}]}(()=>f)),I=m.injector.get(xa,null);return f.runOutsideAngular(()=>{const C=f.onError.subscribe({next:x=>{I.handleError(x)}});m.onDestroy(()=>{T0(this._modules,m),C.unsubscribe()})}),function Uo(r,o,s){try{const c=s();return kl(c)?c.catch(f=>{throw o.runOutsideAngular(()=>r.handleError(f)),f}):c}catch(c){throw o.runOutsideAngular(()=>r.handleError(c)),c}}(I,f,()=>{const C=m.injector.get(oI);return C.runInitializers(),C.donePromise.then(()=>(_b(m.injector.get(u0,Vl)||Vl),this._moduleDoBootstrap(m),m))})})}bootstrapModule(s,c=[]){const f=wa({},c);return function CE(r,o,s){const c=new Sy(s);return Promise.resolve(c)}(0,0,s).then(m=>this.bootstrapModuleFactory(m,f))}_moduleDoBootstrap(s){const c=s.injector.get(yc);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(f=>c.bootstrap(f));else{if(!s.instance.ngDoBootstrap)throw new He(-403,!1);s.instance.ngDoBootstrap(c)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new He(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const s=this._injector.get(b0,null);s&&(s.forEach(c=>c()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(c){return new(c||r)(Nn(lo))};static#t=this.\u0275prov=we({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})();function wa(r,o){return Array.isArray(o)?o.reduce(wa,r):{...r,...o}}let yc=(()=>{class r{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=qn(wI),this.zoneIsStable=qn($p),this.componentTypes=[],this.components=[],this.isStable=qn(l0).hasPendingTasks.pipe((0,Ee.w)(s=>s?(0,de.of)(!1):this.zoneIsStable),(0,Xe.x)(),ne()),this._injector=qn(tu)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,c){const f=s instanceof Ze;if(!this._injector.get(oI).done)throw!f&&no(s),new He(405,!1);let I;I=f?s:this._injector.get(Yn).resolveComponentFactory(s),this.componentTypes.push(I.componentType);const C=function PC(r){return r.isBoundToModule}(I)?void 0:this._injector.get(su),$=I.create(lo.NULL,[],c||I.selector,C),re=$.location.nativeElement,fe=$.injector.get(mI,null);return fe?.registerApplication(re),$.onDestroy(()=>{this.detachView($.hostView),T0(this.components,$),fe?.unregisterApplication(re)}),this._loadComponent($),$}tick(){if(this._runningTick)throw new He(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1}}attachView(s){const c=s;this._views.push(c),c.attachToAppRef(this)}detachView(s){const c=s;T0(this._views,c),c.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const c=this._injector.get(yI,[]);c.push(...this._bootstrapListeners),c.forEach(f=>f(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>T0(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new He(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275prov=we({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function T0(r,o){const s=r.indexOf(o);s>-1&&r.splice(s,1)}const wI=new Dn("",{providedIn:"root",factory:()=>qn(xa).handleError.bind(void 0)});function bS(){const r=qn(Ns),o=qn(xa);return s=>r.runOutsideAngular(()=>o.handleError(s))}let ME=(()=>{class r{constructor(){this.zone=qn(Ns),this.applicationRef=qn(yc)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275prov=we({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();let xE=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=TS}return r})();function TS(r){return function ES(r,o,s){if(Zo(r)&&!s){const c=vi(r.index,o);return new qm(c,c)}return 47&r.type?new qm(o[Rr],o):null}(Vi(),ut(),16==(16&r))}class kE{constructor(){}supports(o){return xc(o)}create(o){return new CI(o)}}const Gg=(r,o)=>o;class CI{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||Gg}forEachItem(o){let s;for(s=this._itHead;null!==s;s=s._next)o(s)}forEachOperation(o){let s=this._itHead,c=this._removalsHead,f=0,m=null;for(;s||c;){const I=!c||s&&s.currentIndex<LE(c,f,m)?s:c,C=LE(I,f,m),x=I.currentIndex;if(I===c)f--,c=c._nextRemoved;else if(s=s._next,null==I.previousIndex)f++;else{m||(m=[]);const $=C-f,re=x-f;if($!=re){for(let Ne=0;Ne<$;Ne++){const ke=Ne<m.length?m[Ne]:m[Ne]=0,lt=ke+Ne;re<=lt&&lt<$&&(m[Ne]=ke+1)}m[I.previousIndex]=re-$}}C!==x&&o(I,C,x)}}forEachPreviousItem(o){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)o(s)}forEachAddedItem(o){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)o(s)}forEachMovedItem(o){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)o(s)}forEachRemovedItem(o){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)o(s)}forEachIdentityChange(o){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)o(s)}diff(o){if(null==o&&(o=[]),!xc(o))throw new He(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let f,m,I,s=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let C=0;C<this.length;C++)m=o[C],I=this._trackByFn(C,m),null!==s&&Object.is(s.trackById,I)?(c&&(s=this._verifyReinsertion(s,m,I,C)),Object.is(s.item,m)||this._addIdentityChange(s,m)):(s=this._mismatch(s,m,I,C),c=!0),s=s._next}else f=0,function Ym(r,o){if(Array.isArray(r))for(let s=0;s<r.length;s++)o(r[s]);else{const s=r[Symbol.iterator]();let c;for(;!(c=s.next()).done;)o(c.value)}}(o,C=>{I=this._trackByFn(f,C),null!==s&&Object.is(s.trackById,I)?(c&&(s=this._verifyReinsertion(s,C,I,f)),Object.is(s.item,C)||this._addIdentityChange(s,C)):(s=this._mismatch(s,C,I,f),c=!0),s=s._next,f++}),this.length=f;return this._truncate(s),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,s,c,f){let m;return null===o?m=this._itTail:(m=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,s)||this._addIdentityChange(o,s),this._reinsertAfter(o,m,f)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,f))?(Object.is(o.item,s)||this._addIdentityChange(o,s),this._moveAfter(o,m,f)):o=this._addAfter(new k_(s,c),m,f),o}_verifyReinsertion(o,s,c,f){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==m?o=this._reinsertAfter(m,o._prev,f):o.currentIndex!=f&&(o.currentIndex=f,this._addToMoves(o,f)),o}_truncate(o){for(;null!==o;){const s=o._next;this._addToRemovals(this._unlink(o)),o=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,s,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const f=o._prevRemoved,m=o._nextRemoved;return null===f?this._removalsHead=m:f._nextRemoved=m,null===m?this._removalsTail=f:m._prevRemoved=f,this._insertAfter(o,s,c),this._addToMoves(o,c),o}_moveAfter(o,s,c){return this._unlink(o),this._insertAfter(o,s,c),this._addToMoves(o,c),o}_addAfter(o,s,c){return this._insertAfter(o,s,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,s,c){const f=null===s?this._itHead:s._next;return o._next=f,o._prev=s,null===f?this._itTail=o:f._prev=o,null===s?this._itHead=o:s._next=o,null===this._linkedRecords&&(this._linkedRecords=new C0),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const s=o._prev,c=o._next;return null===s?this._itHead=c:s._next=c,null===c?this._itTail=s:c._prev=s,o}_addToMoves(o,s){return o.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new C0),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,s){return o.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class k_{constructor(o,s){this.item=o,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class FE{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,s){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===s||s<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const s=o._prevDup,c=o._nextDup;return null===s?this._head=c:s._nextDup=c,null===c?this._tail=s:c._prevDup=s,null===this._head}}class C0{constructor(){this.map=new Map}put(o){const s=o.trackById;let c=this.map.get(s);c||(c=new FE,this.map.set(s,c)),c.add(o)}get(o,s){const f=this.map.get(o);return f?f.get(o,s):null}remove(o){const s=o.trackById;return this.map.get(s).remove(o)&&this.map.delete(s),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function LE(r,o,s){const c=r.previousIndex;if(null===c)return c;let f=0;return s&&c<s.length&&(f=s[c]),c+o+f}class VE{constructor(){}supports(o){return o instanceof Map||xl(o)}create(){return new GC}}class GC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let s;for(s=this._mapHead;null!==s;s=s._next)o(s)}forEachPreviousItem(o){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)o(s)}forEachChangedItem(o){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)o(s)}forEachAddedItem(o){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)o(s)}forEachRemovedItem(o){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)o(s)}diff(o){if(o){if(!(o instanceof Map||xl(o)))throw new He(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,f)=>{if(s&&s.key===f)this._maybeAddToChanges(s,c),this._appendAfter=s,s=s._next;else{const m=this._getOrCreateRecordForKey(f,c);s=this._insertBeforeOrAppend(s,m)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let c=s;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,s){if(o){const c=o._prev;return s._next=o,s._prev=c,o._prev=s,c&&(c._next=s),o===this._mapHead&&(this._mapHead=s),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(o,s){if(this._records.has(o)){const f=this._records.get(o);this._maybeAddToChanges(f,s);const m=f._prev,I=f._next;return m&&(m._next=I),I&&(I._prev=m),f._next=null,f._prev=null,f}const c=new BE(o);return this._records.set(o,c),c.currentValue=s,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,s){Object.is(s,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=s,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,s){o instanceof Map?o.forEach(s):Object.keys(o).forEach(c=>s(o[c],c))}}class BE{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function SI(){return new S0([new kE])}let S0=(()=>{class r{static#e=this.\u0275prov=we({token:r,providedIn:"root",factory:SI});constructor(s){this.factories=s}static create(s,c){if(null!=c){const f=c.factories.slice();s=s.concat(f)}return new r(s)}static extend(s){return{provide:r,useFactory:c=>r.create(s,c||SI()),deps:[[r,new Jl,new Hh]]}}find(s){const c=this.factories.find(f=>f.supports(s));if(null!=c)return c;throw new He(901,!1)}}return r})();function AI(){return new A0([new VE])}let A0=(()=>{class r{static#e=this.\u0275prov=we({token:r,providedIn:"root",factory:AI});constructor(s){this.factories=s}static create(s,c){if(c){const f=c.factories.slice();s=s.concat(f)}return new r(s)}static extend(s){return{provide:r,useFactory:c=>r.create(s,c||AI()),deps:[[r,new Jl,new Hh]]}}find(s){const c=this.factories.find(f=>f.supports(s));if(c)return c;throw new He(901,!1)}}return r})();const N0=bI(null,"core",[]);let UE=(()=>{class r{constructor(s){}static#e=this.\u0275fac=function(c){return new(c||r)(Nn(yc))};static#t=this.\u0275mod=So({type:r});static#n=this.\u0275inj=xe({})}return r})();function jE(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}function xS(r,o){const s=Kn(r),c=o.elementInjector||nf();return new zn(s).create(c,o.projectableNodes,o.hostElement,o.environmentInjector)}function qf(r){const o=Kn(r);if(!o)return null;const s=new zn(o);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return o.standalone},get isSignal(){return o.signals}}}},7592:(Ut,$e,Q)=>{Q.d($e,{C6:()=>Oe,Jn:()=>lr,KN:()=>gt,Mq:()=>we,Xd:()=>Ot,ZF:()=>Sr,qX:()=>Bt});var b=Q(5861),ae=Q(6820),l=Q(7879),ye=Q(229),ue=Q(1878);class de{constructor(Te){this.container=Te}getPlatformInfoString(){return this.container.getProviders().map(qe=>{if(function Ae(et){const Te=et.getComponent();return"VERSION"===Te?.type}(qe)){const bt=qe.getImmediate();return`${bt.library}/${bt.version}`}return null}).filter(qe=>qe).join(" ")}}const Ue="@firebase/app",ne=new l.Yd("@firebase/app"),Pe="[DEFAULT]",Ge={[Ue]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Qe=new Map,Le=new Map;function tt(et,Te){try{et.container.addComponent(Te)}catch(qe){ne.debug(`Component ${Te.name} failed to register with FirebaseApp ${et.name}`,qe)}}function Ot(et){const Te=et.name;if(Le.has(Te))return ne.debug(`There were multiple attempts to register component ${Te}.`),!1;Le.set(Te,et);for(const qe of Qe.values())tt(qe,et);return!0}function Bt(et,Te){const qe=et.container.getProvider("heartbeat").getImmediate({optional:!0});return qe&&qe.triggerHeartbeat(),et.container.getProvider(Te)}const wt=new ye.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ln{constructor(Te,qe,bt){this._isDeleted=!1,this._options=Object.assign({},Te),this._config=Object.assign({},qe),this._name=qe.name,this._automaticDataCollectionEnabled=qe.automaticDataCollectionEnabled,this._container=bt,this.container.addComponent(new ae.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Te){this.checkDestroyed(),this._automaticDataCollectionEnabled=Te}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Te){this._isDeleted=Te}checkDestroyed(){if(this.isDeleted)throw wt.create("app-deleted",{appName:this._name})}}const lr="9.23.0";function Sr(et,Te={}){let qe=et;"object"!=typeof Te&&(Te={name:Te});const bt=Object.assign({name:Pe,automaticDataCollectionEnabled:!1},Te),Wt=bt.name;if("string"!=typeof Wt||!Wt)throw wt.create("bad-app-name",{appName:String(Wt)});if(qe||(qe=(0,ye.aH)()),!qe)throw wt.create("no-options");const qt=Qe.get(Wt);if(qt){if((0,ye.vZ)(qe,qt.options)&&(0,ye.vZ)(bt,qt.config))return qt;throw wt.create("duplicate-app",{appName:Wt})}const kn=new ae.H0(Wt);for(const L of Le.values())kn.addComponent(L);const K=new Ln(qe,bt,kn);return Qe.set(Wt,K),K}function we(et=Pe){const Te=Qe.get(et);if(!Te&&et===Pe&&(0,ye.aH)())return Sr();if(!Te)throw wt.create("no-app",{appName:et});return Te}function Oe(){return Array.from(Qe.values())}function gt(et,Te,qe){var bt;let Wt=null!==(bt=Ge[et])&&void 0!==bt?bt:et;qe&&(Wt+=`-${qe}`);const qt=Wt.match(/\s|\//),kn=Te.match(/\s|\//);if(qt||kn){const K=[`Unable to register library "${Wt}" with version "${Te}":`];return qt&&K.push(`library name "${Wt}" contains illegal characters (whitespace or "/")`),qt&&kn&&K.push("and"),kn&&K.push(`version name "${Te}" contains illegal characters (whitespace or "/")`),void ne.warn(K.join(" "))}Ot(new ae.wA(`${Wt}-version`,()=>({library:Wt,version:Te}),"VERSION"))}const bn="firebase-heartbeat-database",tn=1,zt="firebase-heartbeat-store";let mn=null;function Hn(){return mn||(mn=(0,ue.X3)(bn,tn,{upgrade:(et,Te)=>{0===Te&&et.createObjectStore(zt)}}).catch(et=>{throw wt.create("idb-open",{originalErrorMessage:et.message})})),mn}function yr(){return(yr=(0,b.Z)(function*(et){try{return yield(yield Hn()).transaction(zt).objectStore(zt).get(Qn(et))}catch(Te){if(Te instanceof ye.ZR)ne.warn(Te.message);else{const qe=wt.create("idb-get",{originalErrorMessage:Te?.message});ne.warn(qe.message)}}})).apply(this,arguments)}function fr(et,Te){return dn.apply(this,arguments)}function dn(){return(dn=(0,b.Z)(function*(et,Te){try{const bt=(yield Hn()).transaction(zt,"readwrite");yield bt.objectStore(zt).put(Te,Qn(et)),yield bt.done}catch(qe){if(qe instanceof ye.ZR)ne.warn(qe.message);else{const bt=wt.create("idb-set",{originalErrorMessage:qe?.message});ne.warn(bt.message)}}})).apply(this,arguments)}function Qn(et){return`${et.name}!${et.options.appId}`}class Pn{constructor(Te){this.container=Te,this._heartbeatsCache=null;const qe=this.container.getProvider("app").getImmediate();this._storage=new Gn(qe),this._heartbeatsCachePromise=this._storage.read().then(bt=>(this._heartbeatsCache=bt,bt))}triggerHeartbeat(){var Te=this;return(0,b.Z)(function*(){const bt=Te.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Wt=ti();if(null===Te._heartbeatsCache&&(Te._heartbeatsCache=yield Te._heartbeatsCachePromise),Te._heartbeatsCache.lastSentHeartbeatDate!==Wt&&!Te._heartbeatsCache.heartbeats.some(qt=>qt.date===Wt))return Te._heartbeatsCache.heartbeats.push({date:Wt,agent:bt}),Te._heartbeatsCache.heartbeats=Te._heartbeatsCache.heartbeats.filter(qt=>{const kn=new Date(qt.date).valueOf();return Date.now()-kn<=2592e6}),Te._storage.overwrite(Te._heartbeatsCache)})()}getHeartbeatsHeader(){var Te=this;return(0,b.Z)(function*(){if(null===Te._heartbeatsCache&&(yield Te._heartbeatsCachePromise),null===Te._heartbeatsCache||0===Te._heartbeatsCache.heartbeats.length)return"";const qe=ti(),{heartbeatsToSend:bt,unsentEntries:Wt}=function Dn(et,Te=1024){const qe=[];let bt=et.slice();for(const Wt of et){const qt=qe.find(kn=>kn.agent===Wt.agent);if(qt){if(qt.dates.push(Wt.date),Tr(qe)>Te){qt.dates.pop();break}}else if(qe.push({agent:Wt.agent,dates:[Wt.date]}),Tr(qe)>Te){qe.pop();break}bt=bt.slice(1)}return{heartbeatsToSend:qe,unsentEntries:bt}}(Te._heartbeatsCache.heartbeats),qt=(0,ye.L)(JSON.stringify({version:2,heartbeats:bt}));return Te._heartbeatsCache.lastSentHeartbeatDate=qe,Wt.length>0?(Te._heartbeatsCache.heartbeats=Wt,yield Te._storage.overwrite(Te._heartbeatsCache)):(Te._heartbeatsCache.heartbeats=[],Te._storage.overwrite(Te._heartbeatsCache)),qt})()}}function ti(){return(new Date).toISOString().substring(0,10)}class Gn{constructor(Te){this.app=Te,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,b.Z)(function*(){return!!(0,ye.hl)()&&(0,ye.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Te=this;return(0,b.Z)(function*(){return(yield Te._canUseIndexedDBPromise)&&(yield function Kt(et){return yr.apply(this,arguments)}(Te.app))||{heartbeats:[]}})()}overwrite(Te){var qe=this;return(0,b.Z)(function*(){var bt;if(yield qe._canUseIndexedDBPromise){const qt=yield qe.read();return fr(qe.app,{lastSentHeartbeatDate:null!==(bt=Te.lastSentHeartbeatDate)&&void 0!==bt?bt:qt.lastSentHeartbeatDate,heartbeats:Te.heartbeats})}})()}add(Te){var qe=this;return(0,b.Z)(function*(){var bt;if(yield qe._canUseIndexedDBPromise){const qt=yield qe.read();return fr(qe.app,{lastSentHeartbeatDate:null!==(bt=Te.lastSentHeartbeatDate)&&void 0!==bt?bt:qt.lastSentHeartbeatDate,heartbeats:[...qt.heartbeats,...Te.heartbeats]})}})()}}function Tr(et){return(0,ye.L)(JSON.stringify({version:2,heartbeats:et})).length}!function ni(et){Ot(new ae.wA("platform-logger",Te=>new de(Te),"PRIVATE")),Ot(new ae.wA("heartbeat",Te=>new Pn(Te),"PRIVATE")),gt(Ue,"0.9.13",et),gt(Ue,"0.9.13","esm2017"),gt("fire-js","")}("")},6820:(Ut,$e,Q)=>{Q.d($e,{H0:()=>Ue,wA:()=>l});var b=Q(5861),ae=Q(229);class l{constructor(ne,ce,Ee){this.name=ne,this.instanceFactory=ce,this.type=Ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ne){return this.instantiationMode=ne,this}setMultipleInstances(ne){return this.multipleInstances=ne,this}setServiceProps(ne){return this.serviceProps=ne,this}setInstanceCreatedCallback(ne){return this.onInstanceCreated=ne,this}}const ye="[DEFAULT]";class ue{constructor(ne,ce){this.name=ne,this.container=ce,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ne){const ce=this.normalizeInstanceIdentifier(ne);if(!this.instancesDeferred.has(ce)){const Ee=new ae.BH;if(this.instancesDeferred.set(ce,Ee),this.isInitialized(ce)||this.shouldAutoInitialize())try{const Xe=this.getOrInitializeService({instanceIdentifier:ce});Xe&&Ee.resolve(Xe)}catch{}}return this.instancesDeferred.get(ce).promise}getImmediate(ne){var ce;const Ee=this.normalizeInstanceIdentifier(ne?.identifier),Xe=null!==(ce=ne?.optional)&&void 0!==ce&&ce;if(!this.isInitialized(Ee)&&!this.shouldAutoInitialize()){if(Xe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ee})}catch(Re){if(Xe)return null;throw Re}}getComponent(){return this.component}setComponent(ne){if(ne.name!==this.name)throw Error(`Mismatching Component ${ne.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ne,this.shouldAutoInitialize()){if(function Ae(Ie){return"EAGER"===Ie.instantiationMode}(ne))try{this.getOrInitializeService({instanceIdentifier:ye})}catch{}for(const[ce,Ee]of this.instancesDeferred.entries()){const Xe=this.normalizeInstanceIdentifier(ce);try{const Re=this.getOrInitializeService({instanceIdentifier:Xe});Ee.resolve(Re)}catch{}}}}clearInstance(ne=ye){this.instancesDeferred.delete(ne),this.instancesOptions.delete(ne),this.instances.delete(ne)}delete(){var ne=this;return(0,b.Z)(function*(){const ce=Array.from(ne.instances.values());yield Promise.all([...ce.filter(Ee=>"INTERNAL"in Ee).map(Ee=>Ee.INTERNAL.delete()),...ce.filter(Ee=>"_delete"in Ee).map(Ee=>Ee._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ne=ye){return this.instances.has(ne)}getOptions(ne=ye){return this.instancesOptions.get(ne)||{}}initialize(ne={}){const{options:ce={}}=ne,Ee=this.normalizeInstanceIdentifier(ne.instanceIdentifier);if(this.isInitialized(Ee))throw Error(`${this.name}(${Ee}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Xe=this.getOrInitializeService({instanceIdentifier:Ee,options:ce});for(const[Re,rt]of this.instancesDeferred.entries())Ee===this.normalizeInstanceIdentifier(Re)&&rt.resolve(Xe);return Xe}onInit(ne,ce){var Ee;const Xe=this.normalizeInstanceIdentifier(ce),Re=null!==(Ee=this.onInitCallbacks.get(Xe))&&void 0!==Ee?Ee:new Set;Re.add(ne),this.onInitCallbacks.set(Xe,Re);const rt=this.instances.get(Xe);return rt&&ne(rt,Xe),()=>{Re.delete(ne)}}invokeOnInitCallbacks(ne,ce){const Ee=this.onInitCallbacks.get(ce);if(Ee)for(const Xe of Ee)try{Xe(ne,ce)}catch{}}getOrInitializeService({instanceIdentifier:ne,options:ce={}}){let Ee=this.instances.get(ne);if(!Ee&&this.component&&(Ee=this.component.instanceFactory(this.container,{instanceIdentifier:(Ie=ne,Ie===ye?void 0:Ie),options:ce}),this.instances.set(ne,Ee),this.instancesOptions.set(ne,ce),this.invokeOnInitCallbacks(Ee,ne),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ne,Ee)}catch{}var Ie;return Ee||null}normalizeInstanceIdentifier(ne=ye){return this.component?this.component.multipleInstances?ne:ye:ne}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ue{constructor(ne){this.name=ne,this.providers=new Map}addComponent(ne){const ce=this.getProvider(ne.name);if(ce.isComponentSet())throw new Error(`Component ${ne.name} has already been registered with ${this.name}`);ce.setComponent(ne)}addOrOverwriteComponent(ne){this.getProvider(ne.name).isComponentSet()&&this.providers.delete(ne.name),this.addComponent(ne)}getProvider(ne){if(this.providers.has(ne))return this.providers.get(ne);const ce=new ue(ne,this);return this.providers.set(ne,ce),ce}getProviders(){return Array.from(this.providers.values())}}},4097:(Ut,$e,Q)=>{Q.d($e,{C6:()=>b.C6,KN:()=>b.KN,Mq:()=>b.Mq,ZF:()=>b.ZF});var b=Q(7592);(0,b.KN)("firebase","9.23.0","app")},95:(Ut,$e,Q)=>{Q.d($e,{Fj:()=>ft,CE:()=>Ft,qu:()=>Us,u:()=>ii,cw:()=>en,sg:()=>gi,x0:()=>ms,u5:()=>ca,wO:()=>Oo,Cf:()=>pt,JU:()=>rt,JJ:()=>zt,JL:()=>mn,YN:()=>Ur,wV:()=>So,UX:()=>Xa,Q7:()=>Rn,EJ:()=>br,kI:()=>Ye,_Y:()=>Fs,Kr:()=>Rr});var b=Q(9468),ae=Q(6814),l=Q(2459),ye=Q(5592),ue=Q(7453),de=Q(4829),Ae=Q(9940),Ue=Q(8251),Ie=Q(7400),ne=Q(2714),Ee=Q(7398);let Xe=(()=>{class z{constructor(F,ie){this._renderer=F,this._elementRef=ie,this.onChange=be=>{},this.onTouched=()=>{}}setProperty(F,ie){this._renderer.setProperty(this._elementRef.nativeElement,F,ie)}registerOnTouched(F){this.onTouched=F}registerOnChange(F){this.onChange=F}setDisabledState(F){this.setProperty("disabled",F)}static#e=this.\u0275fac=function(ie){return new(ie||z)(b.Y36(b.Qsj),b.Y36(b.SBq))};static#t=this.\u0275dir=b.lG2({type:z})}return z})(),Re=(()=>{class z extends Xe{static#e=this.\u0275fac=function(){let F;return function(be){return(F||(F=b.n5z(z)))(be||z)}}();static#t=this.\u0275dir=b.lG2({type:z,features:[b.qOj]})}return z})();const rt=new b.OlP("NgValueAccessor"),Rt={provide:rt,useExisting:(0,b.Gpc)(()=>ft),multi:!0},Nt=new b.OlP("CompositionEventMode");let ft=(()=>{class z extends Xe{constructor(F,ie,be){super(F,ie),this._compositionMode=be,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function En(){const z=(0,ae.q)()?(0,ae.q)().getUserAgent():"";return/android (\d+)/.test(z.toLowerCase())}())}writeValue(F){this.setProperty("value",F??"")}_handleInput(F){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(F)}_compositionStart(){this._composing=!0}_compositionEnd(F){this._composing=!1,this._compositionMode&&this.onChange(F)}static#e=this.\u0275fac=function(ie){return new(ie||z)(b.Y36(b.Qsj),b.Y36(b.SBq),b.Y36(Nt,8))};static#t=this.\u0275dir=b.lG2({type:z,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(ie,be){1&ie&&b.NdJ("input",function(In){return be._handleInput(In.target.value)})("blur",function(){return be.onTouched()})("compositionstart",function(){return be._compositionStart()})("compositionend",function(In){return be._compositionEnd(In.target.value)})},features:[b._Bn([Rt]),b.qOj]})}return z})();function ot(z){return null==z||("string"==typeof z||Array.isArray(z))&&0===z.length}function mt(z){return null!=z&&"number"==typeof z.length}const pt=new b.OlP("NgValidators"),He=new b.OlP("NgAsyncValidators"),me=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ye{static min(J){return function ht(z){return J=>{if(ot(J.value)||ot(z))return null;const F=parseFloat(J.value);return!isNaN(F)&&F<z?{min:{min:z,actual:J.value}}:null}}(J)}static max(J){return function An(z){return J=>{if(ot(J.value)||ot(z))return null;const F=parseFloat(J.value);return!isNaN(F)&&F>z?{max:{max:z,actual:J.value}}:null}}(J)}static required(J){return ct(J)}static requiredTrue(J){return function cn(z){return!0===z.value?null:{required:!0}}(J)}static email(J){return function vn(z){return ot(z.value)||me.test(z.value)?null:{email:!0}}(J)}static minLength(J){return xn(J)}static maxLength(J){return function Wn(z){return J=>mt(J.value)&&J.value.length>z?{maxlength:{requiredLength:z,actualLength:J.value.length}}:null}(J)}static pattern(J){return function ur(z){if(!z)return Pe;let J,F;return"string"==typeof z?(F="","^"!==z.charAt(0)&&(F+="^"),F+=z,"$"!==z.charAt(z.length-1)&&(F+="$"),J=new RegExp(F)):(F=z.toString(),J=z),ie=>{if(ot(ie.value))return null;const be=ie.value;return J.test(be)?null:{pattern:{requiredPattern:F,actualValue:be}}}}(J)}static nullValidator(J){return null}static compose(J){return Bt(J)}static composeAsync(J){return pn(J)}}function ct(z){return ot(z.value)?{required:!0}:null}function xn(z){return J=>ot(J.value)||!mt(J.value)?null:J.value.length<z?{minlength:{requiredLength:z,actualLength:J.value.length}}:null}function Pe(z){return null}function Ge(z){return null!=z}function Qe(z){return(0,b.QGY)(z)?(0,l.D)(z):z}function Le(z){let J={};return z.forEach(F=>{J=null!=F?{...J,...F}:J}),0===Object.keys(J).length?null:J}function tt(z,J){return J.map(F=>F(z))}function Ot(z){return z.map(J=>function _t(z){return!z.validate}(J)?J:F=>J.validate(F))}function Bt(z){if(!z)return null;const J=z.filter(Ge);return 0==J.length?null:function(F){return Le(tt(F,J))}}function un(z){return null!=z?Bt(Ot(z)):null}function pn(z){if(!z)return null;const J=z.filter(Ge);return 0==J.length?null:function(F){return function ce(...z){const J=(0,Ae.jO)(z),{args:F,keys:ie}=(0,ue.D)(z),be=new ye.y(Ht=>{const{length:In}=F;if(!In)return void Ht.complete();const ai=new Array(In);let xo=In,Ei=In;for(let Jr=0;Jr<In;Jr++){let ec=!1;(0,de.Xf)(F[Jr]).subscribe((0,Ue.x)(Ht,Gs=>{ec||(ec=!0,Ei--),ai[Jr]=Gs},()=>xo--,void 0,()=>{(!xo||!ec)&&(Ei||Ht.next(ie?(0,ne.n)(ie,ai):ai),Ht.complete())}))}});return J?be.pipe((0,Ie.Z)(J)):be}(tt(F,J).map(Qe)).pipe((0,Ee.U)(Le))}}function on(z){return null!=z?pn(Ot(z)):null}function wt(z,J){return null===z?[J]:Array.isArray(z)?[...z,J]:[z,J]}function Ln(z){return z._rawValidators}function lr(z){return z._rawAsyncValidators}function Sr(z){return z?Array.isArray(z)?z:[z]:[]}function we(z,J){return Array.isArray(z)?z.includes(J):z===J}function Oe(z,J){const F=Sr(J);return Sr(z).forEach(be=>{we(F,be)||F.push(be)}),F}function xe(z,J){return Sr(J).filter(F=>!we(z,F))}class st{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(J){this._rawValidators=J||[],this._composedValidatorFn=un(this._rawValidators)}_setAsyncValidators(J){this._rawAsyncValidators=J||[],this._composedAsyncValidatorFn=on(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(J){this._onDestroyCallbacks.push(J)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(J=>J()),this._onDestroyCallbacks=[]}reset(J=void 0){this.control&&this.control.reset(J)}hasError(J,F){return!!this.control&&this.control.hasError(J,F)}getError(J,F){return this.control?this.control.getError(J,F):null}}class gt extends st{get formDirective(){return null}get path(){return null}}class Tt extends st{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class hr{constructor(J){this._cd=J}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let zt=(()=>{class z extends hr{constructor(F){super(F)}static#e=this.\u0275fac=function(ie){return new(ie||z)(b.Y36(Tt,2))};static#t=this.\u0275dir=b.lG2({type:z,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(ie,be){2&ie&&b.ekj("ng-untouched",be.isUntouched)("ng-touched",be.isTouched)("ng-pristine",be.isPristine)("ng-dirty",be.isDirty)("ng-valid",be.isValid)("ng-invalid",be.isInvalid)("ng-pending",be.isPending)},features:[b.qOj]})}return z})(),mn=(()=>{class z extends hr{constructor(F){super(F)}static#e=this.\u0275fac=function(ie){return new(ie||z)(b.Y36(gt,10))};static#t=this.\u0275dir=b.lG2({type:z,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(ie,be){2&ie&&b.ekj("ng-untouched",be.isUntouched)("ng-touched",be.isTouched)("ng-pristine",be.isPristine)("ng-dirty",be.isDirty)("ng-valid",be.isValid)("ng-invalid",be.isInvalid)("ng-pending",be.isPending)("ng-submitted",be.isSubmitted)},features:[b.qOj]})}return z})();const bt="VALID",Wt="INVALID",qt="PENDING",kn="DISABLED";function K(z){return(j(z)?z.validators:z)||null}function H(z,J){return(j(J)?J.asyncValidators:z)||null}function j(z){return null!=z&&!Array.isArray(z)&&"object"==typeof z}function _e(z,J,F){const ie=z.controls;if(!(J?Object.keys(ie):ie).length)throw new b.vHH(1e3,"");if(!ie[F])throw new b.vHH(1001,"")}function ze(z,J,F){z._forEachChild((ie,be)=>{if(void 0===F[be])throw new b.vHH(1002,"")})}class It{constructor(J,F){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(J),this._assignAsyncValidators(F)}get validator(){return this._composedValidatorFn}set validator(J){this._rawValidators=this._composedValidatorFn=J}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(J){this._rawAsyncValidators=this._composedAsyncValidatorFn=J}get parent(){return this._parent}get valid(){return this.status===bt}get invalid(){return this.status===Wt}get pending(){return this.status==qt}get disabled(){return this.status===kn}get enabled(){return this.status!==kn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(J){this._assignValidators(J)}setAsyncValidators(J){this._assignAsyncValidators(J)}addValidators(J){this.setValidators(Oe(J,this._rawValidators))}addAsyncValidators(J){this.setAsyncValidators(Oe(J,this._rawAsyncValidators))}removeValidators(J){this.setValidators(xe(J,this._rawValidators))}removeAsyncValidators(J){this.setAsyncValidators(xe(J,this._rawAsyncValidators))}hasValidator(J){return we(this._rawValidators,J)}hasAsyncValidator(J){return we(this._rawAsyncValidators,J)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(J={}){this.touched=!0,this._parent&&!J.onlySelf&&this._parent.markAsTouched(J)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(J=>J.markAllAsTouched())}markAsUntouched(J={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(F=>{F.markAsUntouched({onlySelf:!0})}),this._parent&&!J.onlySelf&&this._parent._updateTouched(J)}markAsDirty(J={}){this.pristine=!1,this._parent&&!J.onlySelf&&this._parent.markAsDirty(J)}markAsPristine(J={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(F=>{F.markAsPristine({onlySelf:!0})}),this._parent&&!J.onlySelf&&this._parent._updatePristine(J)}markAsPending(J={}){this.status=qt,!1!==J.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!J.onlySelf&&this._parent.markAsPending(J)}disable(J={}){const F=this._parentMarkedDirty(J.onlySelf);this.status=kn,this.errors=null,this._forEachChild(ie=>{ie.disable({...J,onlySelf:!0})}),this._updateValue(),!1!==J.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...J,skipPristineCheck:F}),this._onDisabledChange.forEach(ie=>ie(!0))}enable(J={}){const F=this._parentMarkedDirty(J.onlySelf);this.status=bt,this._forEachChild(ie=>{ie.enable({...J,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:J.emitEvent}),this._updateAncestors({...J,skipPristineCheck:F}),this._onDisabledChange.forEach(ie=>ie(!1))}_updateAncestors(J){this._parent&&!J.onlySelf&&(this._parent.updateValueAndValidity(J),J.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(J){this._parent=J}getRawValue(){return this.value}updateValueAndValidity(J={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===bt||this.status===qt)&&this._runAsyncValidator(J.emitEvent)),!1!==J.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!J.onlySelf&&this._parent.updateValueAndValidity(J)}_updateTreeValidity(J={emitEvent:!0}){this._forEachChild(F=>F._updateTreeValidity(J)),this.updateValueAndValidity({onlySelf:!0,emitEvent:J.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?kn:bt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(J){if(this.asyncValidator){this.status=qt,this._hasOwnPendingAsyncValidator=!0;const F=Qe(this.asyncValidator(this));this._asyncValidationSubscription=F.subscribe(ie=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ie,{emitEvent:J})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(J,F={}){this.errors=J,this._updateControlsErrors(!1!==F.emitEvent)}get(J){let F=J;return null==F||(Array.isArray(F)||(F=F.split(".")),0===F.length)?null:F.reduce((ie,be)=>ie&&ie._find(be),this)}getError(J,F){const ie=F?this.get(F):this;return ie&&ie.errors?ie.errors[J]:null}hasError(J,F){return!!this.getError(J,F)}get root(){let J=this;for(;J._parent;)J=J._parent;return J}_updateControlsErrors(J){this.status=this._calculateStatus(),J&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(J)}_initObservables(){this.valueChanges=new b.vpe,this.statusChanges=new b.vpe}_calculateStatus(){return this._allControlsDisabled()?kn:this.errors?Wt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(qt)?qt:this._anyControlsHaveStatus(Wt)?Wt:bt}_anyControlsHaveStatus(J){return this._anyControls(F=>F.status===J)}_anyControlsDirty(){return this._anyControls(J=>J.dirty)}_anyControlsTouched(){return this._anyControls(J=>J.touched)}_updatePristine(J={}){this.pristine=!this._anyControlsDirty(),this._parent&&!J.onlySelf&&this._parent._updatePristine(J)}_updateTouched(J={}){this.touched=this._anyControlsTouched(),this._parent&&!J.onlySelf&&this._parent._updateTouched(J)}_registerOnCollectionChange(J){this._onCollectionChange=J}_setUpdateStrategy(J){j(J)&&null!=J.updateOn&&(this._updateOn=J.updateOn)}_parentMarkedDirty(J){return!J&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(J){return null}_assignValidators(J){this._rawValidators=Array.isArray(J)?J.slice():J,this._composedValidatorFn=function L(z){return Array.isArray(z)?un(z):z||null}(this._rawValidators)}_assignAsyncValidators(J){this._rawAsyncValidators=Array.isArray(J)?J.slice():J,this._composedAsyncValidatorFn=function W(z){return Array.isArray(z)?on(z):z||null}(this._rawAsyncValidators)}}class en extends It{constructor(J,F,ie){super(K(F),H(ie,F)),this.controls=J,this._initObservables(),this._setUpdateStrategy(F),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(J,F){return this.controls[J]?this.controls[J]:(this.controls[J]=F,F.setParent(this),F._registerOnCollectionChange(this._onCollectionChange),F)}addControl(J,F,ie={}){this.registerControl(J,F),this.updateValueAndValidity({emitEvent:ie.emitEvent}),this._onCollectionChange()}removeControl(J,F={}){this.controls[J]&&this.controls[J]._registerOnCollectionChange(()=>{}),delete this.controls[J],this.updateValueAndValidity({emitEvent:F.emitEvent}),this._onCollectionChange()}setControl(J,F,ie={}){this.controls[J]&&this.controls[J]._registerOnCollectionChange(()=>{}),delete this.controls[J],F&&this.registerControl(J,F),this.updateValueAndValidity({emitEvent:ie.emitEvent}),this._onCollectionChange()}contains(J){return this.controls.hasOwnProperty(J)&&this.controls[J].enabled}setValue(J,F={}){ze(this,0,J),Object.keys(J).forEach(ie=>{_e(this,!0,ie),this.controls[ie].setValue(J[ie],{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F)}patchValue(J,F={}){null!=J&&(Object.keys(J).forEach(ie=>{const be=this.controls[ie];be&&be.patchValue(J[ie],{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F))}reset(J={},F={}){this._forEachChild((ie,be)=>{ie.reset(J?J[be]:null,{onlySelf:!0,emitEvent:F.emitEvent})}),this._updatePristine(F),this._updateTouched(F),this.updateValueAndValidity(F)}getRawValue(){return this._reduceChildren({},(J,F,ie)=>(J[ie]=F.getRawValue(),J))}_syncPendingControls(){let J=this._reduceChildren(!1,(F,ie)=>!!ie._syncPendingControls()||F);return J&&this.updateValueAndValidity({onlySelf:!0}),J}_forEachChild(J){Object.keys(this.controls).forEach(F=>{const ie=this.controls[F];ie&&J(ie,F)})}_setUpControls(){this._forEachChild(J=>{J.setParent(this),J._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(J){for(const[F,ie]of Object.entries(this.controls))if(this.contains(F)&&J(ie))return!0;return!1}_reduceValue(){return this._reduceChildren({},(F,ie,be)=>((ie.enabled||this.disabled)&&(F[be]=ie.value),F))}_reduceChildren(J,F){let ie=J;return this._forEachChild((be,Ht)=>{ie=F(ie,be,Ht)}),ie}_allControlsDisabled(){for(const J of Object.keys(this.controls))if(this.controls[J].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(J){return this.controls.hasOwnProperty(J)?this.controls[J]:null}}class $t extends en{}const Mr=new b.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>qn}),qn="always";function Ho(z,J){return[...J.path,z]}function na(z,J,F=qn){Ta(z,J),J.valueAccessor.writeValue(z.value),(z.disabled||"always"===F)&&J.valueAccessor.setDisabledState?.(z.disabled),function Ji(z,J){J.valueAccessor.registerOnChange(F=>{z._pendingValue=F,z._pendingChange=!0,z._pendingDirty=!0,"change"===z.updateOn&&Hi(z,J)})}(z,J),function Vn(z,J){const F=(ie,be)=>{J.valueAccessor.writeValue(ie),be&&J.viewToModelUpdate(ie)};z.registerOnChange(F),J._registerOnDestroy(()=>{z._unregisterOnChange(F)})}(z,J),function Ri(z,J){J.valueAccessor.registerOnTouched(()=>{z._pendingTouched=!0,"blur"===z.updateOn&&z._pendingChange&&Hi(z,J),"submit"!==z.updateOn&&z.markAsTouched()})}(z,J),function po(z,J){if(J.valueAccessor.setDisabledState){const F=ie=>{J.valueAccessor.setDisabledState(ie)};z.registerOnDisabledChange(F),J._registerOnDestroy(()=>{z._unregisterOnDisabledChange(F)})}}(z,J)}function Qi(z,J,F=!0){const ie=()=>{};J.valueAccessor&&(J.valueAccessor.registerOnChange(ie),J.valueAccessor.registerOnTouched(ie)),$n(z,J),z&&(J._invokeOnDestroyCallbacks(),z._registerOnCollectionChange(()=>{}))}function ra(z,J){z.forEach(F=>{F.registerOnValidatorChange&&F.registerOnValidatorChange(J)})}function Ta(z,J){const F=Ln(z);null!==J.validator?z.setValidators(wt(F,J.validator)):"function"==typeof F&&z.setValidators([F]);const ie=lr(z);null!==J.asyncValidator?z.setAsyncValidators(wt(ie,J.asyncValidator)):"function"==typeof ie&&z.setAsyncValidators([ie]);const be=()=>z.updateValueAndValidity();ra(J._rawValidators,be),ra(J._rawAsyncValidators,be)}function $n(z,J){let F=!1;if(null!==z){if(null!==J.validator){const be=Ln(z);if(Array.isArray(be)&&be.length>0){const Ht=be.filter(In=>In!==J.validator);Ht.length!==be.length&&(F=!0,z.setValidators(Ht))}}if(null!==J.asyncValidator){const be=lr(z);if(Array.isArray(be)&&be.length>0){const Ht=be.filter(In=>In!==J.asyncValidator);Ht.length!==be.length&&(F=!0,z.setAsyncValidators(Ht))}}}const ie=()=>{};return ra(J._rawValidators,ie),ra(J._rawAsyncValidators,ie),F}function Hi(z,J){z._pendingDirty&&z.markAsDirty(),z.setValue(z._pendingValue,{emitModelToViewChange:!1}),J.viewToModelUpdate(z._pendingValue),z._pendingChange=!1}function Ps(z,J){const F=z.indexOf(J);F>-1&&z.splice(F,1)}function eo(z){return"object"==typeof z&&null!==z&&2===Object.keys(z).length&&"value"in z&&"disabled"in z}const ri=class extends It{constructor(J=null,F,ie){super(K(F),H(ie,F)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(J),this._setUpdateStrategy(F),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),j(F)&&(F.nonNullable||F.initialValueIsDefault)&&(this.defaultValue=eo(J)?J.value:J)}setValue(J,F={}){this.value=this._pendingValue=J,this._onChange.length&&!1!==F.emitModelToViewChange&&this._onChange.forEach(ie=>ie(this.value,!1!==F.emitViewToModelChange)),this.updateValueAndValidity(F)}patchValue(J,F={}){this.setValue(J,F)}reset(J=this.defaultValue,F={}){this._applyFormState(J),this.markAsPristine(F),this.markAsUntouched(F),this.setValue(this.value,F),this._pendingChange=!1}_updateValue(){}_anyControls(J){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(J){this._onChange.push(J)}_unregisterOnChange(J){Ps(this._onChange,J)}registerOnDisabledChange(J){this._onDisabledChange.push(J)}_unregisterOnDisabledChange(J){Ps(this._onDisabledChange,J)}_forEachChild(J){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(J){eo(J)?(this.value=this._pendingValue=J.value,J.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=J}};let mo=(()=>{class z extends gt{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Ho(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=function(){let F;return function(be){return(F||(F=b.n5z(z)))(be||z)}}();static#t=this.\u0275dir=b.lG2({type:z,features:[b.qOj]})}return z})(),Fs=(()=>{class z{static#e=this.\u0275fac=function(ie){return new(ie||z)};static#t=this.\u0275dir=b.lG2({type:z,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return z})();const Fc={provide:rt,useExisting:(0,b.Gpc)(()=>So),multi:!0};let So=(()=>{class z extends Re{writeValue(F){this.setProperty("value",F??"")}registerOnChange(F){this.onChange=ie=>{F(""==ie?null:parseFloat(ie))}}static#e=this.\u0275fac=function(){let F;return function(be){return(F||(F=b.n5z(z)))(be||z)}}();static#t=this.\u0275dir=b.lG2({type:z,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(ie,be){1&ie&&b.NdJ("input",function(In){return be.onChange(In.target.value)})("blur",function(){return be.onTouched()})},features:[b._Bn([Fc]),b.qOj]})}return z})(),gs=(()=>{class z{static#e=this.\u0275fac=function(ie){return new(ie||z)};static#t=this.\u0275mod=b.oAB({type:z});static#n=this.\u0275inj=b.cJS({})}return z})();const no=new b.OlP("NgModelWithFormControlWarning"),Ii={provide:gt,useExisting:(0,b.Gpc)(()=>gi)};let gi=(()=>{class z extends gt{constructor(F,ie,be){super(),this.callSetDisabledState=be,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new b.vpe,this._setValidators(F),this._setAsyncValidators(ie)}ngOnChanges(F){this._checkFormPresent(),F.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&($n(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(F){const ie=this.form.get(F.path);return na(ie,F,this.callSetDisabledState),ie.updateValueAndValidity({emitEvent:!1}),this.directives.push(F),ie}getControl(F){return this.form.get(F.path)}removeControl(F){Qi(F.control||null,F,!1),function ka(z,J){const F=z.indexOf(J);F>-1&&z.splice(F,1)}(this.directives,F)}addFormGroup(F){this._setUpFormContainer(F)}removeFormGroup(F){this._cleanUpFormContainer(F)}getFormGroup(F){return this.form.get(F.path)}addFormArray(F){this._setUpFormContainer(F)}removeFormArray(F){this._cleanUpFormContainer(F)}getFormArray(F){return this.form.get(F.path)}updateModel(F,ie){this.form.get(F.path).setValue(ie)}onSubmit(F){return this.submitted=!0,function Ea(z,J){z._syncPendingControls(),J.forEach(F=>{const ie=F.control;"submit"===ie.updateOn&&ie._pendingChange&&(F.viewToModelUpdate(ie._pendingValue),ie._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(F),"dialog"===F?.target?.method}onReset(){this.resetForm()}resetForm(F=void 0){this.form.reset(F),this.submitted=!1}_updateDomValue(){this.directives.forEach(F=>{const ie=F.control,be=this.form.get(F.path);ie!==be&&(Qi(ie||null,F),(z=>z instanceof ri)(be)&&(na(be,F,this.callSetDisabledState),F.control=be))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(F){const ie=this.form.get(F.path);(function To(z,J){Ta(z,J)})(ie,F),ie.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(F){if(this.form){const ie=this.form.get(F.path);ie&&function Go(z,J){return $n(z,J)}(ie,F)&&ie.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ta(this.form,this),this._oldForm&&$n(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(ie){return new(ie||z)(b.Y36(pt,10),b.Y36(He,10),b.Y36(Mr,8))};static#t=this.\u0275dir=b.lG2({type:z,selectors:[["","formGroup",""]],hostBindings:function(ie,be){1&ie&&b.NdJ("submit",function(In){return be.onSubmit(In)})("reset",function(){return be.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[b._Bn([Ii]),b.qOj,b.TTD]})}return z})();const Ya={provide:gt,useExisting:(0,b.Gpc)(()=>ms)};let ms=(()=>{class z extends mo{constructor(F,ie,be){super(),this.name=null,this._parent=F,this._setValidators(ie),this._setAsyncValidators(be)}_checkParentType(){rn(this._parent)}static#e=this.\u0275fac=function(ie){return new(ie||z)(b.Y36(gt,13),b.Y36(pt,10),b.Y36(He,10))};static#t=this.\u0275dir=b.lG2({type:z,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[b._Bn([Ya]),b.qOj]})}return z})();const ir={provide:gt,useExisting:(0,b.Gpc)(()=>Ft)};let Ft=(()=>{class z extends gt{constructor(F,ie,be){super(),this.name=null,this._parent=F,this._setValidators(ie),this._setAsyncValidators(be)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Ho(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){rn(this._parent)}static#e=this.\u0275fac=function(ie){return new(ie||z)(b.Y36(gt,13),b.Y36(pt,10),b.Y36(He,10))};static#t=this.\u0275dir=b.lG2({type:z,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[b._Bn([ir]),b.qOj]})}return z})();function rn(z){return!(z instanceof ms||z instanceof gi||z instanceof Ft)}const dr={provide:Tt,useExisting:(0,b.Gpc)(()=>ii)};let ii=(()=>{class z extends Tt{set isDisabled(F){}static#e=this._ngModelWarningSentOnce=!1;constructor(F,ie,be,Ht,In){super(),this._ngModelWarningConfig=In,this._added=!1,this.name=null,this.update=new b.vpe,this._ngModelWarningSent=!1,this._parent=F,this._setValidators(ie),this._setAsyncValidators(be),this.valueAccessor=function Gi(z,J){if(!J)return null;let F,ie,be;return Array.isArray(J),J.forEach(Ht=>{Ht.constructor===ft?F=Ht:function Ci(z){return Object.getPrototypeOf(z.constructor)===Re}(Ht)?ie=Ht:be=Ht}),be||ie||F||null}(0,Ht)}ngOnChanges(F){this._added||this._setUpControl(),function Eo(z,J){if(!z.hasOwnProperty("model"))return!1;const F=z.model;return!!F.isFirstChange()||!Object.is(J,F.currentValue)}(F,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(F){this.viewModel=F,this.update.emit(F)}get path(){return Ho(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(ie){return new(ie||z)(b.Y36(gt,13),b.Y36(pt,10),b.Y36(He,10),b.Y36(rt,10),b.Y36(no,8))};static#n=this.\u0275dir=b.lG2({type:z,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[b._Bn([dr]),b.qOj,b.TTD]})}return z})();const _s={provide:rt,useExisting:(0,b.Gpc)(()=>br),multi:!0};function Br(z,J){return null==z?`${J}`:(J&&"object"==typeof J&&(J="Object"),`${z}: ${J}`.slice(0,50))}let br=(()=>{class z extends Re{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(F){this._compareWith=F}writeValue(F){this.value=F;const be=Br(this._getOptionId(F),F);this.setProperty("value",be)}registerOnChange(F){this.onChange=ie=>{this.value=this._getOptionValue(ie),F(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(F){for(const ie of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ie),F))return ie;return null}_getOptionValue(F){const ie=function mi(z){return z.split(":")[0]}(F);return this._optionMap.has(ie)?this._optionMap.get(ie):F}static#e=this.\u0275fac=function(){let F;return function(be){return(F||(F=b.n5z(z)))(be||z)}}();static#t=this.\u0275dir=b.lG2({type:z,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(ie,be){1&ie&&b.NdJ("change",function(In){return be.onChange(In.target.value)})("blur",function(){return be.onTouched()})},inputs:{compareWith:"compareWith"},features:[b._Bn([_s]),b.qOj]})}return z})(),Ur=(()=>{class z{constructor(F,ie,be){this._element=F,this._renderer=ie,this._select=be,this._select&&(this.id=this._select._registerOption())}set ngValue(F){null!=this._select&&(this._select._optionMap.set(this.id,F),this._setElementValue(Br(this.id,F)),this._select.writeValue(this._select.value))}set value(F){this._setElementValue(F),this._select&&this._select.writeValue(this._select.value)}_setElementValue(F){this._renderer.setProperty(this._element.nativeElement,"value",F)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(ie){return new(ie||z)(b.Y36(b.SBq),b.Y36(b.Qsj),b.Y36(br,9))};static#t=this.\u0275dir=b.lG2({type:z,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return z})();const ro={provide:rt,useExisting:(0,b.Gpc)(()=>_o),multi:!0};function Sn(z,J){return null==z?`${J}`:("string"==typeof J&&(J=`'${J}'`),J&&"object"==typeof J&&(J="Object"),`${z}: ${J}`.slice(0,50))}let _o=(()=>{class z extends Re{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(F){this._compareWith=F}writeValue(F){let ie;if(this.value=F,Array.isArray(F)){const be=F.map(Ht=>this._getOptionId(Ht));ie=(Ht,In)=>{Ht._setSelected(be.indexOf(In.toString())>-1)}}else ie=(be,Ht)=>{be._setSelected(!1)};this._optionMap.forEach(ie)}registerOnChange(F){this.onChange=ie=>{const be=[],Ht=ie.selectedOptions;if(void 0!==Ht){const In=Ht;for(let ai=0;ai<In.length;ai++){const Ei=this._getOptionValue(In[ai].value);be.push(Ei)}}else{const In=ie.options;for(let ai=0;ai<In.length;ai++){const xo=In[ai];if(xo.selected){const Ei=this._getOptionValue(xo.value);be.push(Ei)}}}this.value=be,F(be)}}_registerOption(F){const ie=(this._idCounter++).toString();return this._optionMap.set(ie,F),ie}_getOptionId(F){for(const ie of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ie)._value,F))return ie;return null}_getOptionValue(F){const ie=function jo(z){return z.split(":")[0]}(F);return this._optionMap.has(ie)?this._optionMap.get(ie)._value:F}static#e=this.\u0275fac=function(){let F;return function(be){return(F||(F=b.n5z(z)))(be||z)}}();static#t=this.\u0275dir=b.lG2({type:z,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(ie,be){1&ie&&b.NdJ("change",function(In){return be.onChange(In.target)})("blur",function(){return be.onTouched()})},inputs:{compareWith:"compareWith"},features:[b._Bn([ro]),b.qOj]})}return z})(),Rr=(()=>{class z{constructor(F,ie,be){this._element=F,this._renderer=ie,this._select=be,this._select&&(this.id=this._select._registerOption(this))}set ngValue(F){null!=this._select&&(this._value=F,this._setElementValue(Sn(this.id,F)),this._select.writeValue(this._select.value))}set value(F){this._select?(this._value=F,this._setElementValue(Sn(this.id,F)),this._select.writeValue(this._select.value)):this._setElementValue(F)}_setElementValue(F){this._renderer.setProperty(this._element.nativeElement,"value",F)}_setSelected(F){this._renderer.setProperty(this._element.nativeElement,"selected",F)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(ie){return new(ie||z)(b.Y36(b.SBq),b.Y36(b.Qsj),b.Y36(_o,9))};static#t=this.\u0275dir=b.lG2({type:z,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return z})();let Pr=(()=>{class z{constructor(){this._validator=Pe}ngOnChanges(F){if(this.inputName in F){const ie=this.normalizeInput(F[this.inputName].currentValue);this._enabled=this.enabled(ie),this._validator=this._enabled?this.createValidator(ie):Pe,this._onChange&&this._onChange()}}validate(F){return this._validator(F)}registerOnValidatorChange(F){this._onChange=F}enabled(F){return null!=F}static#e=this.\u0275fac=function(ie){return new(ie||z)};static#t=this.\u0275dir=b.lG2({type:z,features:[b.TTD]})}return z})();const Ao={provide:pt,useExisting:(0,b.Gpc)(()=>Rn),multi:!0};let Rn=(()=>{class z extends Pr{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=b.VuI,this.createValidator=F=>ct}enabled(F){return F}static#e=this.\u0275fac=function(){let F;return function(be){return(F||(F=b.n5z(z)))(be||z)}}();static#t=this.\u0275dir=b.lG2({type:z,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(ie,be){2&ie&&b.uIk("required",be._enabled?"":null)},inputs:{required:"required"},features:[b._Bn([Ao]),b.qOj]})}return z})();const Qr={provide:pt,useExisting:(0,b.Gpc)(()=>Oo),multi:!0};let Oo=(()=>{class z extends Pr{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=F=>function wi(z){return"number"==typeof z?z:parseInt(z,10)}(F),this.createValidator=F=>xn(F)}static#e=this.\u0275fac=function(){let F;return function(be){return(F||(F=b.n5z(z)))(be||z)}}();static#t=this.\u0275dir=b.lG2({type:z,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(ie,be){2&ie&&b.uIk("minlength",be._enabled?be.minlength:null)},inputs:{minlength:"minlength"},features:[b._Bn([Qr]),b.qOj]})}return z})(),Zo=(()=>{class z{static#e=this.\u0275fac=function(ie){return new(ie||z)};static#t=this.\u0275mod=b.oAB({type:z});static#n=this.\u0275inj=b.cJS({imports:[gs]})}return z})();class Bs extends It{constructor(J,F,ie){super(K(F),H(ie,F)),this.controls=J,this._initObservables(),this._setUpdateStrategy(F),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(J){return this.controls[this._adjustIndex(J)]}push(J,F={}){this.controls.push(J),this._registerControl(J),this.updateValueAndValidity({emitEvent:F.emitEvent}),this._onCollectionChange()}insert(J,F,ie={}){this.controls.splice(J,0,F),this._registerControl(F),this.updateValueAndValidity({emitEvent:ie.emitEvent})}removeAt(J,F={}){let ie=this._adjustIndex(J);ie<0&&(ie=0),this.controls[ie]&&this.controls[ie]._registerOnCollectionChange(()=>{}),this.controls.splice(ie,1),this.updateValueAndValidity({emitEvent:F.emitEvent})}setControl(J,F,ie={}){let be=this._adjustIndex(J);be<0&&(be=0),this.controls[be]&&this.controls[be]._registerOnCollectionChange(()=>{}),this.controls.splice(be,1),F&&(this.controls.splice(be,0,F),this._registerControl(F)),this.updateValueAndValidity({emitEvent:ie.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(J,F={}){ze(this,0,J),J.forEach((ie,be)=>{_e(this,!1,be),this.at(be).setValue(ie,{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F)}patchValue(J,F={}){null!=J&&(J.forEach((ie,be)=>{this.at(be)&&this.at(be).patchValue(ie,{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F))}reset(J=[],F={}){this._forEachChild((ie,be)=>{ie.reset(J[be],{onlySelf:!0,emitEvent:F.emitEvent})}),this._updatePristine(F),this._updateTouched(F),this.updateValueAndValidity(F)}getRawValue(){return this.controls.map(J=>J.getRawValue())}clear(J={}){this.controls.length<1||(this._forEachChild(F=>F._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:J.emitEvent}))}_adjustIndex(J){return J<0?J+this.length:J}_syncPendingControls(){let J=this.controls.reduce((F,ie)=>!!ie._syncPendingControls()||F,!1);return J&&this.updateValueAndValidity({onlySelf:!0}),J}_forEachChild(J){this.controls.forEach((F,ie)=>{J(F,ie)})}_updateValue(){this.value=this.controls.filter(J=>J.enabled||this.disabled).map(J=>J.value)}_anyControls(J){return this.controls.some(F=>F.enabled&&J(F))}_setUpControls(){this._forEachChild(J=>this._registerControl(J))}_allControlsDisabled(){for(const J of this.controls)if(J.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(J){J.setParent(this),J._registerOnCollectionChange(this._onCollectionChange)}_find(J){return this.at(J)??null}}function Ja(z){return!!z&&(void 0!==z.asyncValidators||void 0!==z.validators||void 0!==z.updateOn)}let Us=(()=>{class z{constructor(){this.useNonNullable=!1}get nonNullable(){const F=new z;return F.useNonNullable=!0,F}group(F,ie=null){const be=this._reduceControls(F);let Ht={};return Ja(ie)?Ht=ie:null!==ie&&(Ht.validators=ie.validator,Ht.asyncValidators=ie.asyncValidator),new en(be,Ht)}record(F,ie=null){const be=this._reduceControls(F);return new $t(be,ie)}control(F,ie,be){let Ht={};return this.useNonNullable?(Ja(ie)?Ht=ie:(Ht.validators=ie,Ht.asyncValidators=be),new ri(F,{...Ht,nonNullable:!0})):new ri(F,ie,be)}array(F,ie,be){const Ht=F.map(In=>this._createControl(In));return new Bs(Ht,ie,be)}_reduceControls(F){const ie={};return Object.keys(F).forEach(be=>{ie[be]=this._createControl(F[be])}),ie}_createControl(F){return F instanceof ri||F instanceof It?F:Array.isArray(F)?this.control(F[0],F.length>1?F[1]:null,F.length>2?F[2]:null):this.control(F)}static#e=this.\u0275fac=function(ie){return new(ie||z)};static#t=this.\u0275prov=b.Yz7({token:z,factory:z.\u0275fac,providedIn:"root"})}return z})(),ca=(()=>{class z{static withConfig(F){return{ngModule:z,providers:[{provide:Mr,useValue:F.callSetDisabledState??qn}]}}static#e=this.\u0275fac=function(ie){return new(ie||z)};static#t=this.\u0275mod=b.oAB({type:z});static#n=this.\u0275inj=b.cJS({imports:[Zo]})}return z})(),Xa=(()=>{class z{static withConfig(F){return{ngModule:z,providers:[{provide:no,useValue:F.warnOnNgModelWithFormControl??"always"},{provide:Mr,useValue:F.callSetDisabledState??qn}]}}static#e=this.\u0275fac=function(ie){return new(ie||z)};static#t=this.\u0275mod=b.oAB({type:z});static#n=this.\u0275inj=b.cJS({imports:[Zo]})}return z})()},2614:()=>{const Ut=":";const Ln=function(we,...Oe){if(Ln.translate){const st=Ln.translate(we,Oe);we=st[0],Oe=st[1]}let xe=Sr(we[0],we.raw[0]);for(let st=1;st<we.length;st++)xe+=Oe[st-1]+Sr(we[st],we.raw[st]);return xe},lr=":";function Sr(we,Oe){return Oe.charAt(0)===lr?we.substring(function Ge(we,Oe){for(let xe=1,st=1;xe<we.length;xe++,st++)if("\\"===Oe[st])st++;else if(we[xe]===Ut)return xe;throw new Error(`Unterminated $localize metadata block in "${Oe}".`)}(we,Oe)+1):we}globalThis.$localize=Ln},6593:(Ut,$e,Q)=>{Q.d($e,{Dx:()=>Tt,H7:()=>Gn,b2:()=>we,q6:()=>wt});var b=Q(9468),ae=Q(6814);class l extends ae.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ye extends l{static makeCurrent(){(0,ae.HT)(new ye)}onAndCancel(H,W,j){return H.addEventListener(W,j),()=>{H.removeEventListener(W,j)}}dispatchEvent(H,W){H.dispatchEvent(W)}remove(H){H.parentNode&&H.parentNode.removeChild(H)}createElement(H,W){return(W=W||this.getDefaultDocument()).createElement(H)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(H){return H.nodeType===Node.ELEMENT_NODE}isShadowRoot(H){return H instanceof DocumentFragment}getGlobalEventTarget(H,W){return"window"===W?window:"document"===W?H:"body"===W?H.body:null}getBaseHref(H){const W=function de(){return ue=ue||document.querySelector("base"),ue?ue.getAttribute("href"):null}();return null==W?null:function Ue(L){Ae=Ae||document.createElement("a"),Ae.setAttribute("href",L);const H=Ae.pathname;return"/"===H.charAt(0)?H:`/${H}`}(W)}resetBaseElement(){ue=null}getUserAgent(){return window.navigator.userAgent}getCookie(H){return(0,ae.Mx)(document.cookie,H)}}let Ae,ue=null,ne=(()=>{class L{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(j){return new(j||L)};static#t=this.\u0275prov=b.Yz7({token:L,factory:L.\u0275fac})}return L})();const ce=new b.OlP("EventManagerPlugins");let Ee=(()=>{class L{constructor(W,j){this._zone=j,this._eventNameToPlugin=new Map,W.forEach(_e=>{_e.manager=this}),this._plugins=W.slice().reverse()}addEventListener(W,j,_e){return this._findPluginFor(j).addEventListener(W,j,_e)}getZone(){return this._zone}_findPluginFor(W){let j=this._eventNameToPlugin.get(W);if(j)return j;if(j=this._plugins.find(ze=>ze.supports(W)),!j)throw new b.vHH(5101,!1);return this._eventNameToPlugin.set(W,j),j}static#e=this.\u0275fac=function(j){return new(j||L)(b.LFG(ce),b.LFG(b.R0b))};static#t=this.\u0275prov=b.Yz7({token:L,factory:L.\u0275fac})}return L})();class Xe{constructor(H){this._doc=H}}const Re="ng-app-id";let rt=(()=>{class L{constructor(W,j,_e,ze={}){this.doc=W,this.appId=j,this.nonce=_e,this.platformId=ze,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,ae.PM)(ze),this.resetHostNodes()}addStyles(W){for(const j of W)1===this.changeUsageCount(j,1)&&this.onStyleAdded(j)}removeStyles(W){for(const j of W)this.changeUsageCount(j,-1)<=0&&this.onStyleRemoved(j)}ngOnDestroy(){const W=this.styleNodesInDOM;W&&(W.forEach(j=>j.remove()),W.clear());for(const j of this.getAllStyles())this.onStyleRemoved(j);this.resetHostNodes()}addHost(W){this.hostNodes.add(W);for(const j of this.getAllStyles())this.addStyleToHost(W,j)}removeHost(W){this.hostNodes.delete(W)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(W){for(const j of this.hostNodes)this.addStyleToHost(j,W)}onStyleRemoved(W){const j=this.styleRef;j.get(W)?.elements?.forEach(_e=>_e.remove()),j.delete(W)}collectServerRenderedStyles(){const W=this.doc.head?.querySelectorAll(`style[${Re}="${this.appId}"]`);if(W?.length){const j=new Map;return W.forEach(_e=>{null!=_e.textContent&&j.set(_e.textContent,_e)}),j}return null}changeUsageCount(W,j){const _e=this.styleRef;if(_e.has(W)){const ze=_e.get(W);return ze.usage+=j,ze.usage}return _e.set(W,{usage:j,elements:[]}),j}getStyleElement(W,j){const _e=this.styleNodesInDOM,ze=_e?.get(j);if(ze?.parentNode===W)return _e.delete(j),ze.removeAttribute(Re),ze;{const It=this.doc.createElement("style");return this.nonce&&It.setAttribute("nonce",this.nonce),It.textContent=j,this.platformIsServer&&It.setAttribute(Re,this.appId),It}}addStyleToHost(W,j){const _e=this.getStyleElement(W,j);W.appendChild(_e);const ze=this.styleRef,It=ze.get(j)?.elements;It?It.push(_e):ze.set(j,{elements:[_e],usage:1})}resetHostNodes(){const W=this.hostNodes;W.clear(),W.add(this.doc.head)}static#e=this.\u0275fac=function(j){return new(j||L)(b.LFG(ae.K0),b.LFG(b.AFp),b.LFG(b.Ojb,8),b.LFG(b.Lbi))};static#t=this.\u0275prov=b.Yz7({token:L,factory:L.\u0275fac})}return L})();const Dt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},kt=/%COMP%/g,ot=new b.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function He(L,H){return H.map(W=>W.replace(kt,L))}let me=(()=>{class L{constructor(W,j,_e,ze,It,en,sn,Tn=null){this.eventManager=W,this.sharedStylesHost=j,this.appId=_e,this.removeStylesOnCompDestroy=ze,this.doc=It,this.platformId=en,this.ngZone=sn,this.nonce=Tn,this.rendererByCompId=new Map,this.platformIsServer=(0,ae.PM)(en),this.defaultRenderer=new Ye(W,It,sn,this.platformIsServer)}createRenderer(W,j){if(!W||!j)return this.defaultRenderer;this.platformIsServer&&j.encapsulation===b.ifc.ShadowDom&&(j={...j,encapsulation:b.ifc.Emulated});const _e=this.getOrCreateRenderer(W,j);return _e instanceof xn?_e.applyToHost(W):_e instanceof vn&&_e.applyStyles(),_e}getOrCreateRenderer(W,j){const _e=this.rendererByCompId;let ze=_e.get(j.id);if(!ze){const It=this.doc,en=this.ngZone,sn=this.eventManager,Tn=this.sharedStylesHost,$t=this.removeStylesOnCompDestroy,Nn=this.platformIsServer;switch(j.encapsulation){case b.ifc.Emulated:ze=new xn(sn,Tn,j,this.appId,$t,It,en,Nn);break;case b.ifc.ShadowDom:return new cn(sn,Tn,W,j,It,en,this.nonce,Nn);default:ze=new vn(sn,Tn,j,$t,It,en,Nn)}_e.set(j.id,ze)}return ze}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(j){return new(j||L)(b.LFG(Ee),b.LFG(rt),b.LFG(b.AFp),b.LFG(ot),b.LFG(ae.K0),b.LFG(b.Lbi),b.LFG(b.R0b),b.LFG(b.Ojb))};static#t=this.\u0275prov=b.Yz7({token:L,factory:L.\u0275fac})}return L})();class Ye{constructor(H,W,j,_e){this.eventManager=H,this.doc=W,this.ngZone=j,this.platformIsServer=_e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(H,W){return W?this.doc.createElementNS(Dt[W]||W,H):this.doc.createElement(H)}createComment(H){return this.doc.createComment(H)}createText(H){return this.doc.createTextNode(H)}appendChild(H,W){(ct(H)?H.content:H).appendChild(W)}insertBefore(H,W,j){H&&(ct(H)?H.content:H).insertBefore(W,j)}removeChild(H,W){H&&H.removeChild(W)}selectRootElement(H,W){let j="string"==typeof H?this.doc.querySelector(H):H;if(!j)throw new b.vHH(-5104,!1);return W||(j.textContent=""),j}parentNode(H){return H.parentNode}nextSibling(H){return H.nextSibling}setAttribute(H,W,j,_e){if(_e){W=_e+":"+W;const ze=Dt[_e];ze?H.setAttributeNS(ze,W,j):H.setAttribute(W,j)}else H.setAttribute(W,j)}removeAttribute(H,W,j){if(j){const _e=Dt[j];_e?H.removeAttributeNS(_e,W):H.removeAttribute(`${j}:${W}`)}else H.removeAttribute(W)}addClass(H,W){H.classList.add(W)}removeClass(H,W){H.classList.remove(W)}setStyle(H,W,j,_e){_e&(b.JOm.DashCase|b.JOm.Important)?H.style.setProperty(W,j,_e&b.JOm.Important?"important":""):H.style[W]=j}removeStyle(H,W,j){j&b.JOm.DashCase?H.style.removeProperty(W):H.style[W]=""}setProperty(H,W,j){H[W]=j}setValue(H,W){H.nodeValue=W}listen(H,W,j){if("string"==typeof H&&!(H=(0,ae.q)().getGlobalEventTarget(this.doc,H)))throw new Error(`Unsupported event target ${H} for event ${W}`);return this.eventManager.addEventListener(H,W,this.decoratePreventDefault(j))}decoratePreventDefault(H){return W=>{if("__ngUnwrap__"===W)return H;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>H(W)):H(W))&&W.preventDefault()}}}function ct(L){return"TEMPLATE"===L.tagName&&void 0!==L.content}class cn extends Ye{constructor(H,W,j,_e,ze,It,en,sn){super(H,ze,It,sn),this.sharedStylesHost=W,this.hostEl=j,this.shadowRoot=j.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Tn=He(_e.id,_e.styles);for(const $t of Tn){const Nn=document.createElement("style");en&&Nn.setAttribute("nonce",en),Nn.textContent=$t,this.shadowRoot.appendChild(Nn)}}nodeOrShadowRoot(H){return H===this.hostEl?this.shadowRoot:H}appendChild(H,W){return super.appendChild(this.nodeOrShadowRoot(H),W)}insertBefore(H,W,j){return super.insertBefore(this.nodeOrShadowRoot(H),W,j)}removeChild(H,W){return super.removeChild(this.nodeOrShadowRoot(H),W)}parentNode(H){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(H)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class vn extends Ye{constructor(H,W,j,_e,ze,It,en,sn){super(H,ze,It,en),this.sharedStylesHost=W,this.removeStylesOnCompDestroy=_e,this.styles=sn?He(sn,j.styles):j.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class xn extends vn{constructor(H,W,j,_e,ze,It,en,sn){const Tn=_e+"-"+j.id;super(H,W,j,ze,It,en,sn,Tn),this.contentAttr=function mt(L){return"_ngcontent-%COMP%".replace(kt,L)}(Tn),this.hostAttr=function pt(L){return"_nghost-%COMP%".replace(kt,L)}(Tn)}applyToHost(H){this.applyStyles(),this.setAttribute(H,this.hostAttr,"")}createElement(H,W){const j=super.createElement(H,W);return super.setAttribute(j,this.contentAttr,""),j}}let Wn=(()=>{class L extends Xe{constructor(W){super(W)}supports(W){return!0}addEventListener(W,j,_e){return W.addEventListener(j,_e,!1),()=>this.removeEventListener(W,j,_e)}removeEventListener(W,j,_e){return W.removeEventListener(j,_e)}static#e=this.\u0275fac=function(j){return new(j||L)(b.LFG(ae.K0))};static#t=this.\u0275prov=b.Yz7({token:L,factory:L.\u0275fac})}return L})();const ur=["alt","control","meta","shift"],Pe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ge={alt:L=>L.altKey,control:L=>L.ctrlKey,meta:L=>L.metaKey,shift:L=>L.shiftKey};let Qe=(()=>{class L extends Xe{constructor(W){super(W)}supports(W){return null!=L.parseEventName(W)}addEventListener(W,j,_e){const ze=L.parseEventName(j),It=L.eventCallback(ze.fullKey,_e,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,ae.q)().onAndCancel(W,ze.domEventName,It))}static parseEventName(W){const j=W.toLowerCase().split("."),_e=j.shift();if(0===j.length||"keydown"!==_e&&"keyup"!==_e)return null;const ze=L._normalizeKey(j.pop());let It="",en=j.indexOf("code");if(en>-1&&(j.splice(en,1),It="code."),ur.forEach(Tn=>{const $t=j.indexOf(Tn);$t>-1&&(j.splice($t,1),It+=Tn+".")}),It+=ze,0!=j.length||0===ze.length)return null;const sn={};return sn.domEventName=_e,sn.fullKey=It,sn}static matchEventFullKeyCode(W,j){let _e=Pe[W.key]||W.key,ze="";return j.indexOf("code.")>-1&&(_e=W.code,ze="code."),!(null==_e||!_e)&&(_e=_e.toLowerCase()," "===_e?_e="space":"."===_e&&(_e="dot"),ur.forEach(It=>{It!==_e&&(0,Ge[It])(W)&&(ze+=It+".")}),ze+=_e,ze===j)}static eventCallback(W,j,_e){return ze=>{L.matchEventFullKeyCode(ze,W)&&_e.runGuarded(()=>j(ze))}}static _normalizeKey(W){return"esc"===W?"escape":W}static#e=this.\u0275fac=function(j){return new(j||L)(b.LFG(ae.K0))};static#t=this.\u0275prov=b.Yz7({token:L,factory:L.\u0275fac})}return L})();const wt=(0,b.eFA)(b._c5,"browser",[{provide:b.Lbi,useValue:ae.bD},{provide:b.g9A,useValue:function Bt(){ye.makeCurrent()},multi:!0},{provide:ae.K0,useFactory:function pn(){return(0,b.RDi)(document),document},deps:[]}]),Ln=new b.OlP(""),lr=[{provide:b.rWj,useClass:class Ie{addToWindow(H){b.dqk.getAngularTestability=(j,_e=!0)=>{const ze=H.findTestabilityInTree(j,_e);if(null==ze)throw new b.vHH(5103,!1);return ze},b.dqk.getAllAngularTestabilities=()=>H.getAllTestabilities(),b.dqk.getAllAngularRootElements=()=>H.getAllRootElements(),b.dqk.frameworkStabilizers||(b.dqk.frameworkStabilizers=[]),b.dqk.frameworkStabilizers.push(j=>{const _e=b.dqk.getAllAngularTestabilities();let ze=_e.length,It=!1;const en=function(sn){It=It||sn,ze--,0==ze&&j(It)};_e.forEach(sn=>{sn.whenStable(en)})})}findTestabilityInTree(H,W,j){return null==W?null:H.getTestability(W)??(j?(0,ae.q)().isShadowRoot(W)?this.findTestabilityInTree(H,W.host,!0):this.findTestabilityInTree(H,W.parentElement,!0):null)}},deps:[]},{provide:b.lri,useClass:b.dDg,deps:[b.R0b,b.eoX,b.rWj]},{provide:b.dDg,useClass:b.dDg,deps:[b.R0b,b.eoX,b.rWj]}],Sr=[{provide:b.zSh,useValue:"root"},{provide:b.qLn,useFactory:function un(){return new b.qLn},deps:[]},{provide:ce,useClass:Wn,multi:!0,deps:[ae.K0,b.R0b,b.Lbi]},{provide:ce,useClass:Qe,multi:!0,deps:[ae.K0]},me,rt,Ee,{provide:b.FYo,useExisting:me},{provide:ae.JF,useClass:ne,deps:[]},[]];let we=(()=>{class L{constructor(W){}static withServerTransition(W){return{ngModule:L,providers:[{provide:b.AFp,useValue:W.appId}]}}static#e=this.\u0275fac=function(j){return new(j||L)(b.LFG(Ln,12))};static#t=this.\u0275mod=b.oAB({type:L});static#n=this.\u0275inj=b.cJS({providers:[...Sr,...lr],imports:[ae.ez,b.hGG]})}return L})(),Tt=(()=>{class L{constructor(W){this._doc=W}getTitle(){return this._doc.title}setTitle(W){this._doc.title=W||""}static#e=this.\u0275fac=function(j){return new(j||L)(b.LFG(ae.K0))};static#t=this.\u0275prov=b.Yz7({token:L,factory:function(j){let _e=null;return _e=j?new j:function gt(){return new Tt((0,b.LFG)(ae.K0))}(),_e},providedIn:"root"})}return L})();typeof window<"u"&&window;let Gn=(()=>{class L{static#e=this.\u0275fac=function(j){return new(j||L)};static#t=this.\u0275prov=b.Yz7({token:L,factory:function(j){let _e=null;return _e=j?new(j||L):b.LFG(ni),_e},providedIn:"root"})}return L})(),ni=(()=>{class L extends Gn{constructor(W){super(),this._doc=W}sanitize(W,j){if(null==j)return null;switch(W){case b.q3G.NONE:return j;case b.q3G.HTML:return(0,b.qzn)(j,"HTML")?(0,b.z3N)(j):(0,b.EiD)(this._doc,String(j)).toString();case b.q3G.STYLE:return(0,b.qzn)(j,"Style")?(0,b.z3N)(j):j;case b.q3G.SCRIPT:if((0,b.qzn)(j,"Script"))return(0,b.z3N)(j);throw new b.vHH(5200,!1);case b.q3G.URL:return(0,b.qzn)(j,"URL")?(0,b.z3N)(j):(0,b.mCW)(String(j));case b.q3G.RESOURCE_URL:if((0,b.qzn)(j,"ResourceURL"))return(0,b.z3N)(j);throw new b.vHH(5201,!1);default:throw new b.vHH(5202,!1)}}bypassSecurityTrustHtml(W){return(0,b.JVY)(W)}bypassSecurityTrustStyle(W){return(0,b.L6k)(W)}bypassSecurityTrustScript(W){return(0,b.eBb)(W)}bypassSecurityTrustUrl(W){return(0,b.LAX)(W)}bypassSecurityTrustResourceUrl(W){return(0,b.pB0)(W)}static#e=this.\u0275fac=function(j){return new(j||L)(b.LFG(ae.K0))};static#t=this.\u0275prov=b.Yz7({token:L,factory:function(j){let _e=null;return _e=j?new j:function Tr(L){return new ni(L.get(ae.K0))}(b.LFG(b.zs3)),_e},providedIn:"root"})}return L})()},6024:(Ut,$e,Q)=>{Q.d($e,{gz:()=>ir,m2:()=>to,F0:()=>es,rH:()=>vi,Bz:()=>ku,lC:()=>Ur});var b=Q(9468),ae=Q(5592),l=Q(4674),ue=Q(2459),de=Q(2096),Ae=Q(5619),Ue=Q(7453),Ie=Q(2737),ne=Q(7400),ce=Q(9940),Ee=Q(2714),Xe=Q(8251),Re=Q(7103);function rt(...D){const M=(0,ce.yG)(D),E=(0,ce.jO)(D),{args:R,keys:G}=(0,Ue.D)(D);if(0===R.length)return(0,ue.D)([],M);const oe=new ae.y(function Dt(D,M,E=Ie.y){return R=>{kt(M,()=>{const{length:G}=D,oe=new Array(G);let pe=G,je=G;for(let Ve=0;Ve<G;Ve++)kt(M,()=>{const Gt=(0,ue.D)(D[Ve],M);let On=!1;Gt.subscribe((0,Xe.x)(R,wr=>{oe[Ve]=wr,On||(On=!0,je--),je||R.next(E(oe.slice()))},()=>{--pe||R.complete()}))},R)},R)}}(R,M,G?pe=>(0,Ee.n)(G,pe):Ie.y));return E?oe.pipe((0,ne.Z)(E)):oe}function kt(D,M,E){D?(0,Re.f)(E,D,M):M()}var Rt=Q(6973),En=Q(5211),Nt=Q(4829);function ft(D){return new ae.y(M=>{(0,Nt.Xf)(D()).subscribe(M)})}var ot=Q(8407);function mt(D,M){const E=(0,l.m)(D)?D:()=>D,R=G=>G.error(E());return new ae.y(M?G=>M.schedule(R,0,G):R)}var pt=Q(6232),He=Q(7394),me=Q(9360);function Ye(){return(0,me.e)((D,M)=>{let E=null;D._refCount++;const R=(0,Xe.x)(M,void 0,void 0,void 0,()=>{if(!D||D._refCount<=0||0<--D._refCount)return void(E=null);const G=D._connection,oe=E;E=null,G&&(!oe||G===oe)&&G.unsubscribe(),M.unsubscribe()});D.subscribe(R),R.closed||(E=D.connect())})}class ht extends ae.y{constructor(M,E){super(),this.source=M,this.subjectFactory=E,this._subject=null,this._refCount=0,this._connection=null,(0,me.A)(M)&&(this.lift=M.lift)}_subscribe(M){return this.getSubject().subscribe(M)}getSubject(){const M=this._subject;return(!M||M.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:M}=this;this._subject=this._connection=null,M?.unsubscribe()}connect(){let M=this._connection;if(!M){M=this._connection=new He.w0;const E=this.getSubject();M.add(this.source.subscribe((0,Xe.x)(E,void 0,()=>{this._teardown(),E.complete()},R=>{this._teardown(),E.error(R)},()=>this._teardown()))),M.closed&&(this._connection=null,M=He.w0.EMPTY)}return M}refCount(){return Ye()(this)}}var An=Q(8645),ct=Q(6814),cn=Q(7398),vn=Q(4664),xn=Q(8180),Wn=Q(7921),ur=Q(2181),Pe=Q(1631);function Ge(D){return(0,me.e)((M,E)=>{let R=!1;M.subscribe((0,Xe.x)(E,G=>{R=!0,E.next(G)},()=>{R||E.next(D),E.complete()}))})}function Qe(D=Le){return(0,me.e)((M,E)=>{let R=!1;M.subscribe((0,Xe.x)(E,G=>{R=!0,E.next(G)},()=>R?E.complete():E.error(D())))})}function Le(){return new Rt.K}function tt(D,M){const E=arguments.length>=2;return R=>R.pipe(D?(0,ur.h)((G,oe)=>D(G,oe,R)):Ie.y,(0,xn.q)(1),E?Ge(M):Qe(()=>new Rt.K))}function _t(D,M){return(0,l.m)(M)?(0,Pe.z)(D,M,1):(0,Pe.z)(D,1)}var Ot=Q(9397);function Bt(D){return(0,me.e)((M,E)=>{let oe,R=null,G=!1;R=M.subscribe((0,Xe.x)(E,void 0,void 0,pe=>{oe=(0,Nt.Xf)(D(pe,Bt(D)(M))),R?(R.unsubscribe(),R=null,oe.subscribe(E)):G=!0})),G&&(R.unsubscribe(),R=null,oe.subscribe(E))})}function on(D){return D<=0?()=>pt.E:(0,me.e)((M,E)=>{let R=[];M.subscribe((0,Xe.x)(E,G=>{R.push(G),D<R.length&&R.shift()},()=>{for(const G of R)E.next(G);E.complete()},void 0,()=>{R=null}))})}var Ln=Q(975);function lr(D){return(0,me.e)((M,E)=>{try{M.subscribe(E)}finally{E.add(D)}})}var Sr=Q(9773),we=Q(7537),Oe=Q(6593);const xe="primary",st=Symbol("RouteTitle");class gt{constructor(M){this.params=M||{}}has(M){return Object.prototype.hasOwnProperty.call(this.params,M)}get(M){if(this.has(M)){const E=this.params[M];return Array.isArray(E)?E[0]:E}return null}getAll(M){if(this.has(M)){const E=this.params[M];return Array.isArray(E)?E:[E]}return[]}get keys(){return Object.keys(this.params)}}function Tt(D){return new gt(D)}function hr(D,M,E){const R=E.path.split("/");if(R.length>D.length||"full"===E.pathMatch&&(M.hasChildren()||R.length<D.length))return null;const G={};for(let oe=0;oe<R.length;oe++){const pe=R[oe],je=D[oe];if(pe.startsWith(":"))G[pe.substring(1)]=je;else if(pe!==je.path)return null}return{consumed:D.slice(0,R.length),posParams:G}}function tn(D,M){const E=D?Object.keys(D):void 0,R=M?Object.keys(M):void 0;if(!E||!R||E.length!=R.length)return!1;let G;for(let oe=0;oe<E.length;oe++)if(G=E[oe],!zt(D[G],M[G]))return!1;return!0}function zt(D,M){if(Array.isArray(D)&&Array.isArray(M)){if(D.length!==M.length)return!1;const E=[...D].sort(),R=[...M].sort();return E.every((G,oe)=>R[oe]===G)}return D===M}function mn(D){return D.length>0?D[D.length-1]:null}function Hn(D){return function ye(D){return!!D&&(D instanceof ae.y||(0,l.m)(D.lift)&&(0,l.m)(D.subscribe))}(D)?D:(0,b.QGY)(D)?(0,ue.D)(Promise.resolve(D)):(0,de.of)(D)}const Kt={exact:function Qn(D,M,E){if(!et(D.segments,M.segments)||!ti(D.segments,M.segments,E)||D.numberOfChildren!==M.numberOfChildren)return!1;for(const R in M.children)if(!D.children[R]||!Qn(D.children[R],M.children[R],E))return!1;return!0},subset:Jn},yr={exact:function dn(D,M){return tn(D,M)},subset:function Un(D,M){return Object.keys(M).length<=Object.keys(D).length&&Object.keys(M).every(E=>zt(D[E],M[E]))},ignored:()=>!0};function fr(D,M,E){return Kt[E.paths](D.root,M.root,E.matrixParams)&&yr[E.queryParams](D.queryParams,M.queryParams)&&!("exact"===E.fragment&&D.fragment!==M.fragment)}function Jn(D,M,E){return Pn(D,M,M.segments,E)}function Pn(D,M,E,R){if(D.segments.length>E.length){const G=D.segments.slice(0,E.length);return!(!et(G,E)||M.hasChildren()||!ti(G,E,R))}if(D.segments.length===E.length){if(!et(D.segments,E)||!ti(D.segments,E,R))return!1;for(const G in M.children)if(!D.children[G]||!Jn(D.children[G],M.children[G],R))return!1;return!0}{const G=E.slice(0,D.segments.length),oe=E.slice(D.segments.length);return!!(et(D.segments,G)&&ti(D.segments,G,R)&&D.children[xe])&&Pn(D.children[xe],M,oe,R)}}function ti(D,M,E){return M.every((R,G)=>yr[E](D[G].parameters,R.parameters))}class Dn{constructor(M=new Gn([],{}),E={},R=null){this.root=M,this.queryParams=E,this.fragment=R}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Tt(this.queryParams)),this._queryParamMap}toString(){return Wt.serialize(this)}}class Gn{constructor(M,E){this.segments=M,this.children=E,this.parent=null,Object.values(E).forEach(R=>R.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return qt(this)}}class Tr{constructor(M,E){this.path=M,this.parameters=E}get parameterMap(){return this._parameterMap||(this._parameterMap=Tt(this.parameters)),this._parameterMap}toString(){return ze(this)}}function et(D,M){return D.length===M.length&&D.every((E,R)=>E.path===M[R].path)}let qe=(()=>{class D{static#e=this.\u0275fac=function(R){return new(R||D)};static#t=this.\u0275prov=b.Yz7({token:D,factory:function(){return new bt},providedIn:"root"})}return D})();class bt{parse(M){const E=new Qi(M);return new Dn(E.parseRootSegment(),E.parseQueryParams(),E.parseFragment())}serialize(M){const E=`/${kn(M.root,!0)}`,R=function en(D){const M=Object.keys(D).map(E=>{const R=D[E];return Array.isArray(R)?R.map(G=>`${L(E)}=${L(G)}`).join("&"):`${L(E)}=${L(R)}`}).filter(E=>!!E);return M.length?`?${M.join("&")}`:""}(M.queryParams);return`${E}${R}${"string"==typeof M.fragment?`#${function H(D){return encodeURI(D)}(M.fragment)}`:""}`}}const Wt=new bt;function qt(D){return D.segments.map(M=>ze(M)).join("/")}function kn(D,M){if(!D.hasChildren())return qt(D);if(M){const E=D.children[xe]?kn(D.children[xe],!1):"",R=[];return Object.entries(D.children).forEach(([G,oe])=>{G!==xe&&R.push(`${G}:${kn(oe,!1)}`)}),R.length>0?`${E}(${R.join("//")})`:E}{const E=function Te(D,M){let E=[];return Object.entries(D.children).forEach(([R,G])=>{R===xe&&(E=E.concat(M(G,R)))}),Object.entries(D.children).forEach(([R,G])=>{R!==xe&&(E=E.concat(M(G,R)))}),E}(D,(R,G)=>G===xe?[kn(D.children[xe],!1)]:[`${G}:${kn(R,!1)}`]);return 1===Object.keys(D.children).length&&null!=D.children[xe]?`${qt(D)}/${E[0]}`:`${qt(D)}/(${E.join("//")})`}}function K(D){return encodeURIComponent(D).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function L(D){return K(D).replace(/%3B/gi,";")}function W(D){return K(D).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function j(D){return decodeURIComponent(D)}function _e(D){return j(D.replace(/\+/g,"%20"))}function ze(D){return`${W(D.path)}${function It(D){return Object.keys(D).map(M=>`;${W(M)}=${W(D[M])}`).join("")}(D.parameters)}`}const sn=/^[^\/()?;#]+/;function Tn(D){const M=D.match(sn);return M?M[0]:""}const $t=/^[^\/()?;=#]+/,Mr=/^[^=?&#]+/,Ho=/^[^&#]+/;class Qi{constructor(M){this.url=M,this.remaining=M}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Gn([],{}):new Gn([],this.parseChildren())}parseQueryParams(){const M={};if(this.consumeOptional("?"))do{this.parseQueryParam(M)}while(this.consumeOptional("&"));return M}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const M=[];for(this.peekStartsWith("(")||M.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),M.push(this.parseSegment());let E={};this.peekStartsWith("/(")&&(this.capture("/"),E=this.parseParens(!0));let R={};return this.peekStartsWith("(")&&(R=this.parseParens(!1)),(M.length>0||Object.keys(E).length>0)&&(R[xe]=new Gn(M,E)),R}parseSegment(){const M=Tn(this.remaining);if(""===M&&this.peekStartsWith(";"))throw new b.vHH(4009,!1);return this.capture(M),new Tr(j(M),this.parseMatrixParams())}parseMatrixParams(){const M={};for(;this.consumeOptional(";");)this.parseParam(M);return M}parseParam(M){const E=function Nn(D){const M=D.match($t);return M?M[0]:""}(this.remaining);if(!E)return;this.capture(E);let R="";if(this.consumeOptional("=")){const G=Tn(this.remaining);G&&(R=G,this.capture(R))}M[j(E)]=j(R)}parseQueryParam(M){const E=function qn(D){const M=D.match(Mr);return M?M[0]:""}(this.remaining);if(!E)return;this.capture(E);let R="";if(this.consumeOptional("=")){const pe=function na(D){const M=D.match(Ho);return M?M[0]:""}(this.remaining);pe&&(R=pe,this.capture(R))}const G=_e(E),oe=_e(R);if(M.hasOwnProperty(G)){let pe=M[G];Array.isArray(pe)||(pe=[pe],M[G]=pe),pe.push(oe)}else M[G]=oe}parseParens(M){const E={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const R=Tn(this.remaining),G=this.remaining[R.length];if("/"!==G&&")"!==G&&";"!==G)throw new b.vHH(4010,!1);let oe;R.indexOf(":")>-1?(oe=R.slice(0,R.indexOf(":")),this.capture(oe),this.capture(":")):M&&(oe=xe);const pe=this.parseChildren();E[oe]=1===Object.keys(pe).length?pe[xe]:new Gn([],pe),this.consumeOptional("//")}return E}peekStartsWith(M){return this.remaining.startsWith(M)}consumeOptional(M){return!!this.peekStartsWith(M)&&(this.remaining=this.remaining.substring(M.length),!0)}capture(M){if(!this.consumeOptional(M))throw new b.vHH(4011,!1)}}function ra(D){return D.segments.length>0?new Gn([],{[xe]:D}):D}function po(D){const M={};for(const R of Object.keys(D.children)){const oe=po(D.children[R]);if(R===xe&&0===oe.segments.length&&oe.hasChildren())for(const[pe,je]of Object.entries(oe.children))M[pe]=je;else(oe.segments.length>0||oe.hasChildren())&&(M[R]=oe)}return function Ta(D){if(1===D.numberOfChildren&&D.children[xe]){const M=D.children[xe];return new Gn(D.segments.concat(M.segments),M.children)}return D}(new Gn(D.segments,M))}function $n(D){return D instanceof Dn}function Ri(D){let M;const G=ra(function E(oe){const pe={};for(const Ve of oe.children){const Gt=E(Ve);pe[Ve.outlet]=Gt}const je=new Gn(oe.url,pe);return oe===D&&(M=je),je}(D.root));return M??G}function Hi(D,M,E,R){let G=D;for(;G.parent;)G=G.parent;if(0===M.length)return Go(G,G,G,E,R);const oe=function Nr(D){if("string"==typeof D[0]&&1===D.length&&"/"===D[0])return new ia(!0,0,D);let M=0,E=!1;const R=D.reduce((G,oe,pe)=>{if("object"==typeof oe&&null!=oe){if(oe.outlets){const je={};return Object.entries(oe.outlets).forEach(([Ve,Gt])=>{je[Ve]="string"==typeof Gt?Gt.split("/"):Gt}),[...G,{outlets:je}]}if(oe.segmentPath)return[...G,oe.segmentPath]}return"string"!=typeof oe?[...G,oe]:0===pe?(oe.split("/").forEach((je,Ve)=>{0==Ve&&"."===je||(0==Ve&&""===je?E=!0:".."===je?M++:""!=je&&G.push(je))}),G):[...G,oe]},[]);return new ia(E,M,R)}(M);if(oe.toRoot())return Go(G,G,new Gn([],{}),E,R);const pe=function Zr(D,M,E){if(D.isAbsolute)return new go(M,!0,0);if(!E)return new go(M,!1,NaN);if(null===E.parent)return new go(E,!0,0);const R=Vn(D.commands[0])?0:1;return function Eo(D,M,E){let R=D,G=M,oe=E;for(;oe>G;){if(oe-=G,R=R.parent,!R)throw new b.vHH(4005,!1);G=R.segments.length}return new go(R,!1,G-oe)}(E,E.segments.length-1+R,D.numberOfDoubleDots)}(oe,G,D),je=pe.processChildren?Gi(pe.segmentGroup,pe.index,oe.commands):Ea(pe.segmentGroup,pe.index,oe.commands);return Go(G,pe.segmentGroup,je,E,R)}function Vn(D){return"object"==typeof D&&null!=D&&!D.outlets&&!D.segmentPath}function To(D){return"object"==typeof D&&null!=D&&D.outlets}function Go(D,M,E,R,G){let pe,oe={};R&&Object.entries(R).forEach(([Ve,Gt])=>{oe[Ve]=Array.isArray(Gt)?Gt.map(On=>`${On}`):`${Gt}`}),pe=D===M?E:fs(D,M,E);const je=ra(po(pe));return new Dn(je,oe,G)}function fs(D,M,E){const R={};return Object.entries(D.children).forEach(([G,oe])=>{R[G]=oe===M?E:fs(oe,M,E)}),new Gn(D.segments,R)}class ia{constructor(M,E,R){if(this.isAbsolute=M,this.numberOfDoubleDots=E,this.commands=R,M&&R.length>0&&Vn(R[0]))throw new b.vHH(4003,!1);const G=R.find(To);if(G&&G!==mn(R))throw new b.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class go{constructor(M,E,R){this.segmentGroup=M,this.processChildren=E,this.index=R}}function Ea(D,M,E){if(D||(D=new Gn([],{})),0===D.segments.length&&D.hasChildren())return Gi(D,M,E);const R=function ka(D,M,E){let R=0,G=M;const oe={match:!1,pathIndex:0,commandIndex:0};for(;G<D.segments.length;){if(R>=E.length)return oe;const pe=D.segments[G],je=E[R];if(To(je))break;const Ve=`${je}`,Gt=R<E.length-1?E[R+1]:null;if(G>0&&void 0===Ve)break;if(Ve&&Gt&&"object"==typeof Gt&&void 0===Gt.outlets){if(!Do(Ve,Gt,pe))return oe;R+=2}else{if(!Do(Ve,{},pe))return oe;R++}G++}return{match:!0,pathIndex:G,commandIndex:R}}(D,M,E),G=E.slice(R.commandIndex);if(R.match&&R.pathIndex<D.segments.length){const oe=new Gn(D.segments.slice(0,R.pathIndex),{});return oe.children[xe]=new Gn(D.segments.slice(R.pathIndex),D.children),Gi(oe,0,G)}return R.match&&0===G.length?new Gn(D.segments,{}):R.match&&!D.hasChildren()?Kr(D,M,E):R.match?Gi(D,0,G):Kr(D,M,E)}function Gi(D,M,E){if(0===E.length)return new Gn(D.segments,{});{const R=function Ci(D){return To(D[0])?D[0].outlets:{[xe]:D}}(E),G={};if(Object.keys(R).some(oe=>oe!==xe)&&D.children[xe]&&1===D.numberOfChildren&&0===D.children[xe].segments.length){const oe=Gi(D.children[xe],M,E);return new Gn(D.segments,oe.children)}return Object.entries(R).forEach(([oe,pe])=>{"string"==typeof pe&&(pe=[pe]),null!==pe&&(G[oe]=Ea(D.children[oe],M,pe))}),Object.entries(D.children).forEach(([oe,pe])=>{void 0===R[oe]&&(G[oe]=pe)}),new Gn(D.segments,G)}}function Kr(D,M,E){const R=D.segments.slice(0,M);let G=0;for(;G<E.length;){const oe=E[G];if(To(oe)){const Ve=Da(oe.outlets);return new Gn(R,Ve)}if(0===G&&Vn(E[0])){R.push(new Tr(D.segments[M].path,Xi(E[0]))),G++;continue}const pe=To(oe)?oe.outlets[xe]:`${oe}`,je=G<E.length-1?E[G+1]:null;pe&&je&&Vn(je)?(R.push(new Tr(pe,Xi(je))),G+=2):(R.push(new Tr(pe,{})),G++)}return new Gn(R,{})}function Da(D){const M={};return Object.entries(D).forEach(([E,R])=>{"string"==typeof R&&(R=[R]),null!==R&&(M[E]=Kr(new Gn([],{}),0,R))}),M}function Xi(D){const M={};return Object.entries(D).forEach(([E,R])=>M[E]=`${R}`),M}function Do(D,M,E){return D==E.path&&tn(M,E.parameters)}const Ps="imperative";class eo{constructor(M,E){this.id=M,this.url=E}}class ri extends eo{constructor(M,E,R="imperative",G=null){super(M,E),this.type=0,this.navigationTrigger=R,this.restoredState=G}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class to extends eo{constructor(M,E,R){super(M,E),this.urlAfterRedirects=R,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Pi extends eo{constructor(M,E,R,G){super(M,E),this.reason=R,this.code=G,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class mo extends eo{constructor(M,E,R,G){super(M,E),this.reason=R,this.code=G,this.type=16}}class Za extends eo{constructor(M,E,R,G){super(M,E),this.error=R,this.target=G,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Zn extends eo{constructor(M,E,R,G){super(M,E),this.urlAfterRedirects=R,this.state=G,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Co extends eo{constructor(M,E,R,G){super(M,E),this.urlAfterRedirects=R,this.state=G,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xr extends eo{constructor(M,E,R,G,oe){super(M,E),this.urlAfterRedirects=R,this.state=G,this.shouldActivate=oe,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ic extends eo{constructor(M,E,R,G){super(M,E),this.urlAfterRedirects=R,this.state=G,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oa extends eo{constructor(M,E,R,G){super(M,E),this.urlAfterRedirects=R,this.state=G,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ka{constructor(M){this.route=M,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ps{constructor(M){this.route=M,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ks{constructor(M){this.snapshot=M,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fs{constructor(M){this.snapshot=M,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fc{constructor(M){this.snapshot=M,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class So{constructor(M){this.snapshot=M,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sa{constructor(M,E,R){this.routerEvent=M,this.position=E,this.anchor=R,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ls{}class gs{constructor(M){this.url=M}}class Kn{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Vr,this.attachRef=null}}let Vr=(()=>{class D{constructor(){this.contexts=new Map}onChildOutletCreated(E,R){const G=this.getOrCreateContext(E);G.outlet=R,this.contexts.set(E,G)}onChildOutletDestroyed(E){const R=this.getContext(E);R&&(R.outlet=null,R.attachRef=null)}onOutletDeactivated(){const E=this.contexts;return this.contexts=new Map,E}onOutletReAttached(E){this.contexts=E}getOrCreateContext(E){let R=this.getContext(E);return R||(R=new Kn,this.contexts.set(E,R)),R}getContext(E){return this.contexts.get(E)||null}static#e=this.\u0275fac=function(R){return new(R||D)};static#t=this.\u0275prov=b.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})();class Si{constructor(M){this._root=M}get root(){return this._root.value}parent(M){const E=this.pathFromRoot(M);return E.length>1?E[E.length-2]:null}children(M){const E=no(M,this._root);return E?E.children.map(R=>R.value):[]}firstChild(M){const E=no(M,this._root);return E&&E.children.length>0?E.children[0].value:null}siblings(M){const E=Yr(M,this._root);return E.length<2?[]:E[E.length-2].children.map(G=>G.value).filter(G=>G!==M)}pathFromRoot(M){return Yr(M,this._root).map(E=>E.value)}}function no(D,M){if(D===M.value)return M;for(const E of M.children){const R=no(D,E);if(R)return R}return null}function Yr(D,M){if(D===M.value)return[M];for(const E of M.children){const R=Yr(D,E);if(R.length)return R.unshift(M),R}return[]}class Ai{constructor(M,E){this.value=M,this.children=E}toString(){return`TreeNode(${this.value})`}}function Ii(D){const M={};return D&&D.children.forEach(E=>M[E.value.outlet]=E),M}class gi extends Si{constructor(M,E){super(M),this.snapshot=E,_s(this,M)}toString(){return this.snapshot.toString()}}function Ya(D,M){const E=function ms(D,M){const pe=new dr([],{},{},"",{},xe,M,null,{});return new ii("",new Ai(pe,[]))}(0,M),R=new Ae.X([new Tr("",{})]),G=new Ae.X({}),oe=new Ae.X({}),pe=new Ae.X({}),je=new Ae.X(""),Ve=new ir(R,G,pe,je,oe,xe,M,E.root);return Ve.snapshot=E.root,new gi(new Ai(Ve,[]),E)}class ir{constructor(M,E,R,G,oe,pe,je,Ve){this.urlSubject=M,this.paramsSubject=E,this.queryParamsSubject=R,this.fragmentSubject=G,this.dataSubject=oe,this.outlet=pe,this.component=je,this._futureSnapshot=Ve,this.title=this.dataSubject?.pipe((0,cn.U)(Gt=>Gt[st]))??(0,de.of)(void 0),this.url=M,this.params=E,this.queryParams=R,this.fragment=G,this.data=oe}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,cn.U)(M=>Tt(M)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,cn.U)(M=>Tt(M)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ft(D,M="emptyOnly"){const E=D.pathFromRoot;let R=0;if("always"!==M)for(R=E.length-1;R>=1;){const G=E[R],oe=E[R-1];if(G.routeConfig&&""===G.routeConfig.path)R--;else{if(oe.component)break;R--}}return function rn(D){return D.reduce((M,E)=>({params:{...M.params,...E.params},data:{...M.data,...E.data},resolve:{...E.data,...M.resolve,...E.routeConfig?.data,...E._resolvedData}}),{params:{},data:{},resolve:{}})}(E.slice(R))}class dr{get title(){return this.data?.[st]}constructor(M,E,R,G,oe,pe,je,Ve,Gt){this.url=M,this.params=E,this.queryParams=R,this.fragment=G,this.data=oe,this.outlet=pe,this.component=je,this.routeConfig=Ve,this._resolve=Gt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Tt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Tt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(R=>R.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ii extends Si{constructor(M,E){super(E),this.url=M,_s(this,E)}toString(){return Br(this._root)}}function _s(D,M){M.value._routerState=D,M.children.forEach(E=>_s(D,E))}function Br(D){const M=D.children.length>0?` { ${D.children.map(Br).join(", ")} } `:"";return`${D.value}${M}`}function mi(D){if(D.snapshot){const M=D.snapshot,E=D._futureSnapshot;D.snapshot=E,tn(M.queryParams,E.queryParams)||D.queryParamsSubject.next(E.queryParams),M.fragment!==E.fragment&&D.fragmentSubject.next(E.fragment),tn(M.params,E.params)||D.paramsSubject.next(E.params),function bn(D,M){if(D.length!==M.length)return!1;for(let E=0;E<D.length;++E)if(!tn(D[E],M[E]))return!1;return!0}(M.url,E.url)||D.urlSubject.next(E.url),tn(M.data,E.data)||D.dataSubject.next(E.data)}else D.snapshot=D._futureSnapshot,D.dataSubject.next(D._futureSnapshot.data)}function br(D,M){const E=tn(D.params,M.params)&&function ni(D,M){return et(D,M)&&D.every((E,R)=>tn(E.parameters,M[R].parameters))}(D.url,M.url);return E&&!(!D.parent!=!M.parent)&&(!D.parent||br(D.parent,M.parent))}let Ur=(()=>{class D{constructor(){this.activated=null,this._activatedRoute=null,this.name=xe,this.activateEvents=new b.vpe,this.deactivateEvents=new b.vpe,this.attachEvents=new b.vpe,this.detachEvents=new b.vpe,this.parentContexts=(0,b.f3M)(Vr),this.location=(0,b.f3M)(b.s_b),this.changeDetector=(0,b.f3M)(b.sBO),this.environmentInjector=(0,b.f3M)(b.lqb),this.inputBinder=(0,b.f3M)(Sn,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(E){if(E.name){const{firstChange:R,previousValue:G}=E.name;if(R)return;this.isTrackedInParentContexts(G)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(G)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(E){return this.parentContexts.getContext(E)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const E=this.parentContexts.getContext(this.name);E?.route&&(E.attachRef?this.attach(E.attachRef,E.route):this.activateWith(E.route,E.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new b.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new b.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new b.vHH(4012,!1);this.location.detach();const E=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(E.instance),E}attach(E,R){this.activated=E,this._activatedRoute=R,this.location.insert(E.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(E.instance)}deactivate(){if(this.activated){const E=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(E)}}activateWith(E,R){if(this.isActivated)throw new b.vHH(4013,!1);this._activatedRoute=E;const G=this.location,pe=E.snapshot.component,je=this.parentContexts.getOrCreateContext(this.name).children,Ve=new ro(E,je,G.injector);this.activated=G.createComponent(pe,{index:G.length,injector:Ve,environmentInjector:R??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(R){return new(R||D)};static#t=this.\u0275dir=b.lG2({type:D,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[b.TTD]})}return D})();class ro{constructor(M,E,R){this.route=M,this.childContexts=E,this.parent=R}get(M,E){return M===ir?this.route:M===Vr?this.childContexts:this.parent.get(M,E)}}const Sn=new b.OlP("");let jo=(()=>{class D{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(E){this.unsubscribeFromRouteData(E),this.subscribeToRouteData(E)}unsubscribeFromRouteData(E){this.outletDataSubscriptions.get(E)?.unsubscribe(),this.outletDataSubscriptions.delete(E)}subscribeToRouteData(E){const{activatedRoute:R}=E,G=rt([R.queryParams,R.params,R.data]).pipe((0,vn.w)(([oe,pe,je],Ve)=>(je={...oe,...pe,...je},0===Ve?(0,de.of)(je):Promise.resolve(je)))).subscribe(oe=>{if(!E.isActivated||!E.activatedComponentRef||E.activatedRoute!==R||null===R.component)return void this.unsubscribeFromRouteData(E);const pe=(0,b.qFp)(R.component);if(pe)for(const{templateName:je}of pe.inputs)E.activatedComponentRef.setInput(je,oe[je]);else this.unsubscribeFromRouteData(E)});this.outletDataSubscriptions.set(E,G)}static#e=this.\u0275fac=function(R){return new(R||D)};static#t=this.\u0275prov=b.Yz7({token:D,factory:D.\u0275fac})}return D})();function _o(D,M,E){if(E&&D.shouldReuseRoute(M.value,E.value.snapshot)){const R=E.value;R._futureSnapshot=M.value;const G=function Rr(D,M,E){return M.children.map(R=>{for(const G of E.children)if(D.shouldReuseRoute(R.value,G.value.snapshot))return _o(D,R,G);return _o(D,R)})}(D,M,E);return new Ai(R,G)}{if(D.shouldAttach(M.value)){const oe=D.retrieve(M.value);if(null!==oe){const pe=oe.route;return pe.value._futureSnapshot=M.value,pe.children=M.children.map(je=>_o(D,je)),pe}}const R=function wi(D){return new ir(new Ae.X(D.url),new Ae.X(D.params),new Ae.X(D.queryParams),new Ae.X(D.fragment),new Ae.X(D.data),D.outlet,D.component,D)}(M.value),G=M.children.map(oe=>_o(D,oe));return new Ai(R,G)}}const Ni="ngNavigationCancelingError";function Pr(D,M){const{redirectTo:E,navigationBehaviorOptions:R}=$n(M)?{redirectTo:M,navigationBehaviorOptions:void 0}:M,G=$o(!1,0,M);return G.url=E,G.navigationBehaviorOptions=R,G}function $o(D,M,E){const R=new Error("NavigationCancelingError: "+(D||""));return R[Ni]=!0,R.cancellationCode=M,E&&(R.url=E),R}function zo(D){return D&&D[Ni]}let ki=(()=>{class D{static#e=this.\u0275fac=function(R){return new(R||D)};static#t=this.\u0275cmp=b.Xpm({type:D,selectors:[["ng-component"]],standalone:!0,features:[b.jDz],decls:1,vars:0,template:function(R,G){1&R&&b._UZ(0,"router-outlet")},dependencies:[Ur],encapsulation:2})}return D})();function qo(D){const M=D.children&&D.children.map(qo),E=M?{...D,children:M}:{...D};return!E.component&&!E.loadComponent&&(M||E.loadChildren)&&E.outlet&&E.outlet!==xe&&(E.component=ki),E}function Ir(D){return D.outlet||xe}function Hr(D){if(!D)return null;if(D.routeConfig?._injector)return D.routeConfig._injector;for(let M=D.parent;M;M=M.parent){const E=M.routeConfig;if(E?._loadedInjector)return E._loadedInjector;if(E?._injector)return E._injector}return null}class Zo{constructor(M,E,R,G,oe){this.routeReuseStrategy=M,this.futureState=E,this.currState=R,this.forwardEvent=G,this.inputBindingEnabled=oe}activate(M){const E=this.futureState._root,R=this.currState?this.currState._root:null;this.deactivateChildRoutes(E,R,M),mi(this.futureState.root),this.activateChildRoutes(E,R,M)}deactivateChildRoutes(M,E,R){const G=Ii(E);M.children.forEach(oe=>{const pe=oe.value.outlet;this.deactivateRoutes(oe,G[pe],R),delete G[pe]}),Object.values(G).forEach(oe=>{this.deactivateRouteAndItsChildren(oe,R)})}deactivateRoutes(M,E,R){const G=M.value,oe=E?E.value:null;if(G===oe)if(G.component){const pe=R.getContext(G.outlet);pe&&this.deactivateChildRoutes(M,E,pe.children)}else this.deactivateChildRoutes(M,E,R);else oe&&this.deactivateRouteAndItsChildren(E,R)}deactivateRouteAndItsChildren(M,E){M.value.component&&this.routeReuseStrategy.shouldDetach(M.value.snapshot)?this.detachAndStoreRouteSubtree(M,E):this.deactivateRouteAndOutlet(M,E)}detachAndStoreRouteSubtree(M,E){const R=E.getContext(M.value.outlet),G=R&&M.value.component?R.children:E,oe=Ii(M);for(const pe of Object.keys(oe))this.deactivateRouteAndItsChildren(oe[pe],G);if(R&&R.outlet){const pe=R.outlet.detach(),je=R.children.onOutletDeactivated();this.routeReuseStrategy.store(M.value.snapshot,{componentRef:pe,route:M,contexts:je})}}deactivateRouteAndOutlet(M,E){const R=E.getContext(M.value.outlet),G=R&&M.value.component?R.children:E,oe=Ii(M);for(const pe of Object.keys(oe))this.deactivateRouteAndItsChildren(oe[pe],G);R&&(R.outlet&&(R.outlet.deactivate(),R.children.onOutletDeactivated()),R.attachRef=null,R.route=null)}activateChildRoutes(M,E,R){const G=Ii(E);M.children.forEach(oe=>{this.activateRoutes(oe,G[oe.value.outlet],R),this.forwardEvent(new So(oe.value.snapshot))}),M.children.length&&this.forwardEvent(new Fs(M.value.snapshot))}activateRoutes(M,E,R){const G=M.value,oe=E?E.value:null;if(mi(G),G===oe)if(G.component){const pe=R.getOrCreateContext(G.outlet);this.activateChildRoutes(M,E,pe.children)}else this.activateChildRoutes(M,E,R);else if(G.component){const pe=R.getOrCreateContext(G.outlet);if(this.routeReuseStrategy.shouldAttach(G.snapshot)){const je=this.routeReuseStrategy.retrieve(G.snapshot);this.routeReuseStrategy.store(G.snapshot,null),pe.children.onOutletReAttached(je.contexts),pe.attachRef=je.componentRef,pe.route=je.route.value,pe.outlet&&pe.outlet.attach(je.componentRef,je.route.value),mi(je.route.value),this.activateChildRoutes(M,null,pe.children)}else{const je=Hr(G.snapshot);pe.attachRef=null,pe.route=G,pe.injector=je,pe.outlet&&pe.outlet.activateWith(G,pe.injector),this.activateChildRoutes(M,null,pe.children)}}else this.activateChildRoutes(M,null,R)}}class Bs{constructor(M){this.path=M,this.route=this.path[this.path.length-1]}}class si{constructor(M,E){this.component=M,this.route=E}}function Ti(D,M,E){const R=D._root;return aa(R,M?M._root:null,E,[R.value])}function Us(D,M){const E=Symbol(),R=M.get(D,E);return R===E?"function"!=typeof D||(0,b.Z0I)(D)?M.get(D):D:R}function aa(D,M,E,R,G={canDeactivateChecks:[],canActivateChecks:[]}){const oe=Ii(M);return D.children.forEach(pe=>{(function Hs(D,M,E,R,G={canDeactivateChecks:[],canActivateChecks:[]}){const oe=D.value,pe=M?M.value:null,je=E?E.getContext(D.value.outlet):null;if(pe&&oe.routeConfig===pe.routeConfig){const Ve=function er(D,M,E){if("function"==typeof E)return E(D,M);switch(E){case"pathParamsChange":return!et(D.url,M.url);case"pathParamsOrQueryParamsChange":return!et(D.url,M.url)||!tn(D.queryParams,M.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!br(D,M)||!tn(D.queryParams,M.queryParams);default:return!br(D,M)}}(pe,oe,oe.routeConfig.runGuardsAndResolvers);Ve?G.canActivateChecks.push(new Bs(R)):(oe.data=pe.data,oe._resolvedData=pe._resolvedData),aa(D,M,oe.component?je?je.children:null:E,R,G),Ve&&je&&je.outlet&&je.outlet.isActivated&&G.canDeactivateChecks.push(new si(je.outlet.component,pe))}else pe&&ca(M,je,G),G.canActivateChecks.push(new Bs(R)),aa(D,null,oe.component?je?je.children:null:E,R,G)})(pe,oe[pe.value.outlet],E,R.concat([pe.value]),G),delete oe[pe.value.outlet]}),Object.entries(oe).forEach(([pe,je])=>ca(je,E.getContext(pe),G)),G}function ca(D,M,E){const R=Ii(D),G=D.value;Object.entries(R).forEach(([oe,pe])=>{ca(pe,G.component?M?M.children.getContext(oe):null:M,E)}),E.canDeactivateChecks.push(new si(G.component&&M&&M.outlet&&M.outlet.isActivated?M.outlet.component:null,G))}function Xa(D){return"function"==typeof D}function xo(D){return D instanceof Rt.K||"EmptyError"===D?.name}const Ei=Symbol("INITIAL_VALUE");function Jr(){return(0,vn.w)(D=>rt(D.map(M=>M.pipe((0,xn.q)(1),(0,Wn.O)(Ei)))).pipe((0,cn.U)(M=>{for(const E of M)if(!0!==E){if(E===Ei)return Ei;if(!1===E||E instanceof Dn)return E}return!0}),(0,ur.h)(M=>M!==Ei),(0,xn.q)(1)))}function js(D){return(0,ot.z)((0,Ot.b)(M=>{if($n(M))throw Pr(0,M)}),(0,cn.U)(M=>!0===M))}class Ko{constructor(M){this.segmentGroup=M||null}}class Vc{constructor(M){this.urlTree=M}}function or(D){return mt(new Ko(D))}function bs(D){return mt(new Vc(D))}class $i{constructor(M,E){this.urlSerializer=M,this.urlTree=E}noMatchError(M){return new b.vHH(4002,!1)}lineralizeSegments(M,E){let R=[],G=E.root;for(;;){if(R=R.concat(G.segments),0===G.numberOfChildren)return(0,de.of)(R);if(G.numberOfChildren>1||!G.children[xe])return mt(new b.vHH(4e3,!1));G=G.children[xe]}}applyRedirectCommands(M,E,R){return this.applyRedirectCreateUrlTree(E,this.urlSerializer.parse(E),M,R)}applyRedirectCreateUrlTree(M,E,R,G){const oe=this.createSegmentGroup(M,E.root,R,G);return new Dn(oe,this.createQueryParams(E.queryParams,this.urlTree.queryParams),E.fragment)}createQueryParams(M,E){const R={};return Object.entries(M).forEach(([G,oe])=>{if("string"==typeof oe&&oe.startsWith(":")){const je=oe.substring(1);R[G]=E[je]}else R[G]=oe}),R}createSegmentGroup(M,E,R,G){const oe=this.createSegments(M,E.segments,R,G);let pe={};return Object.entries(E.children).forEach(([je,Ve])=>{pe[je]=this.createSegmentGroup(M,Ve,R,G)}),new Gn(oe,pe)}createSegments(M,E,R,G){return E.map(oe=>oe.path.startsWith(":")?this.findPosParam(M,oe,G):this.findOrReturn(oe,R))}findPosParam(M,E,R){const G=R[E.path.substring(1)];if(!G)throw new b.vHH(4001,!1);return G}findOrReturn(M,E){let R=0;for(const G of E){if(G.path===M.path)return E.splice(R),G;R++}return M}}const Is={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Yo(D,M,E,R,G){const oe=$s(D,M,E);return oe.matched?(R=function Ao(D,M){return D.providers&&!D._injector&&(D._injector=(0,b.MMx)(D.providers,M,`Route: ${D.path}`)),D._injector??M}(M,R),function Fi(D,M,E,R){const G=M.canMatch;if(!G||0===G.length)return(0,de.of)(!0);const oe=G.map(pe=>{const je=Us(pe,D);return Hn(function Ht(D){return D&&Xa(D.canMatch)}(je)?je.canMatch(M,E):D.runInContext(()=>je(M,E)))});return(0,de.of)(oe).pipe(Jr(),js())}(R,M,E).pipe((0,cn.U)(pe=>!0===pe?oe:{...Is}))):(0,de.of)(oe)}function $s(D,M,E){if(""===M.path)return"full"===M.pathMatch&&(D.hasChildren()||E.length>0)?{...Is}:{matched:!0,consumedSegments:[],remainingSegments:E,parameters:{},positionalParamSegments:{}};const G=(M.matcher||hr)(E,D,M);if(!G)return{...Is};const oe={};Object.entries(G.posParams??{}).forEach(([je,Ve])=>{oe[je]=Ve.path});const pe=G.consumed.length>0?{...oe,...G.consumed[G.consumed.length-1].parameters}:oe;return{matched:!0,consumedSegments:G.consumed,remainingSegments:E.slice(G.consumed.length),parameters:pe,positionalParamSegments:G.posParams??{}}}function Qo(D,M,E,R){return E.length>0&&function Fa(D,M,E){return E.some(R=>wc(D,M,R)&&Ir(R)!==xe)}(D,E,R)?{segmentGroup:new Gn(M,oo(R,new Gn(E,D.children))),slicedSegments:[]}:0===E.length&&function Aa(D,M,E){return E.some(R=>wc(D,M,R))}(D,E,R)?{segmentGroup:new Gn(D.segments,rc(D,0,E,R,D.children)),slicedSegments:E}:{segmentGroup:new Gn(D.segments,D.children),slicedSegments:E}}function rc(D,M,E,R,G){const oe={};for(const pe of R)if(wc(D,E,pe)&&!G[Ir(pe)]){const je=new Gn([],{});oe[Ir(pe)]=je}return{...G,...oe}}function oo(D,M){const E={};E[xe]=M;for(const R of D)if(""===R.path&&Ir(R)!==xe){const G=new Gn([],{});E[Ir(R)]=G}return E}function wc(D,M,E){return(!(D.hasChildren()||M.length>0)||"full"!==E.pathMatch)&&""===E.path}class Bc{constructor(M,E,R,G,oe,pe,je){this.injector=M,this.configLoader=E,this.rootComponentType=R,this.config=G,this.urlTree=oe,this.paramsInheritanceStrategy=pe,this.urlSerializer=je,this.allowRedirects=!0,this.applyRedirects=new $i(this.urlSerializer,this.urlTree)}noMatchError(M){return new b.vHH(4002,!1)}recognize(){const M=Qo(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,M,xe).pipe(Bt(E=>{if(E instanceof Vc)return this.allowRedirects=!1,this.urlTree=E.urlTree,this.match(E.urlTree);throw E instanceof Ko?this.noMatchError(E):E}),(0,cn.U)(E=>{const R=new dr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},xe,this.rootComponentType,null,{}),G=new Ai(R,E),oe=new ii("",G),pe=function Ji(D,M,E=null,R=null){return Hi(Ri(D),M,E,R)}(R,[],this.urlTree.queryParams,this.urlTree.fragment);return pe.queryParams=this.urlTree.queryParams,oe.url=this.urlSerializer.serialize(pe),this.inheritParamsAndData(oe._root),{state:oe,tree:pe}}))}match(M){return this.processSegmentGroup(this.injector,this.config,M.root,xe).pipe(Bt(R=>{throw R instanceof Ko?this.noMatchError(R):R}))}inheritParamsAndData(M){const E=M.value,R=Ft(E,this.paramsInheritanceStrategy);E.params=Object.freeze(R.params),E.data=Object.freeze(R.data),M.children.forEach(G=>this.inheritParamsAndData(G))}processSegmentGroup(M,E,R,G){return 0===R.segments.length&&R.hasChildren()?this.processChildren(M,E,R):this.processSegment(M,E,R,R.segments,G,!0)}processChildren(M,E,R){const G=[];for(const oe of Object.keys(R.children))"primary"===oe?G.unshift(oe):G.push(oe);return(0,ue.D)(G).pipe(_t(oe=>{const pe=R.children[oe],je=function Mo(D,M){const E=D.filter(R=>Ir(R)===M);return E.push(...D.filter(R=>Ir(R)!==M)),E}(E,oe);return this.processSegmentGroup(M,je,pe,oe)}),function pn(D,M){return(0,me.e)(function un(D,M,E,R,G){return(oe,pe)=>{let je=E,Ve=M,Gt=0;oe.subscribe((0,Xe.x)(pe,On=>{const wr=Gt++;Ve=je?D(Ve,On,wr):(je=!0,On),R&&pe.next(Ve)},G&&(()=>{je&&pe.next(Ve),pe.complete()})))}}(D,M,arguments.length>=2,!0))}((oe,pe)=>(oe.push(...pe),oe)),Ge(null),function wt(D,M){const E=arguments.length>=2;return R=>R.pipe(D?(0,ur.h)((G,oe)=>D(G,oe,R)):Ie.y,on(1),E?Ge(M):Qe(()=>new Rt.K))}(),(0,Pe.z)(oe=>{if(null===oe)return or(R);const pe=zi(oe);return function Uc(D){D.sort((M,E)=>M.value.outlet===xe?-1:E.value.outlet===xe?1:M.value.outlet.localeCompare(E.value.outlet))}(pe),(0,de.of)(pe)}))}processSegment(M,E,R,G,oe,pe){return(0,ue.D)(E).pipe(_t(je=>this.processSegmentAgainstRoute(je._injector??M,E,je,R,G,oe,pe).pipe(Bt(Ve=>{if(Ve instanceof Ko)return(0,de.of)(null);throw Ve}))),tt(je=>!!je),Bt(je=>{if(xo(je))return function uu(D,M,E){return 0===M.length&&!D.children[E]}(R,G,oe)?(0,de.of)([]):or(R);throw je}))}processSegmentAgainstRoute(M,E,R,G,oe,pe,je){return function zs(D,M,E,R){return!!(Ir(D)===R||R!==xe&&wc(M,E,D))&&("**"===D.path||$s(M,D,E).matched)}(R,G,oe,pe)?void 0===R.redirectTo?this.matchSegmentAgainstRoute(M,G,R,oe,pe,je):je&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(M,G,E,R,oe,pe):or(G):or(G)}expandSegmentAgainstRouteUsingRedirect(M,E,R,G,oe,pe){return"**"===G.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(M,R,G,pe):this.expandRegularSegmentAgainstRouteUsingRedirect(M,E,R,G,oe,pe)}expandWildCardWithParamsAgainstRouteUsingRedirect(M,E,R,G){const oe=this.applyRedirects.applyRedirectCommands([],R.redirectTo,{});return R.redirectTo.startsWith("/")?bs(oe):this.applyRedirects.lineralizeSegments(R,oe).pipe((0,Pe.z)(pe=>{const je=new Gn(pe,{});return this.processSegment(M,E,je,pe,G,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(M,E,R,G,oe,pe){const{matched:je,consumedSegments:Ve,remainingSegments:Gt,positionalParamSegments:On}=$s(E,G,oe);if(!je)return or(E);const wr=this.applyRedirects.applyRedirectCommands(Ve,G.redirectTo,On);return G.redirectTo.startsWith("/")?bs(wr):this.applyRedirects.lineralizeSegments(G,wr).pipe((0,Pe.z)(sr=>this.processSegment(M,R,E,sr.concat(Gt),pe,!1)))}matchSegmentAgainstRoute(M,E,R,G,oe,pe){let je;if("**"===R.path){const Ve=G.length>0?mn(G).parameters:{},Gt=new dr(G,Ve,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,O(R),Ir(R),R.component??R._loadedComponent??null,R,te(R));je=(0,de.of)({snapshot:Gt,consumedSegments:[],remainingSegments:[]}),E.children={}}else je=Yo(E,R,G,M).pipe((0,cn.U)(({matched:Ve,consumedSegments:Gt,remainingSegments:On,parameters:wr})=>Ve?{snapshot:new dr(Gt,wr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,O(R),Ir(R),R.component??R._loadedComponent??null,R,te(R)),consumedSegments:Gt,remainingSegments:On}:null));return je.pipe((0,vn.w)(Ve=>null===Ve?or(E):this.getChildConfig(M=R._injector??M,R,G).pipe((0,vn.w)(({routes:Gt})=>{const On=R._loadedInjector??M,{snapshot:wr,consumedSegments:sr,remainingSegments:Ua}=Ve,{segmentGroup:kr,slicedSegments:Ks}=Qo(E,sr,Ua,Gt);if(0===Ks.length&&kr.hasChildren())return this.processChildren(On,Gt,kr).pipe((0,cn.U)(Ts=>null===Ts?null:[new Ai(wr,Ts)]));if(0===Gt.length&&0===Ks.length)return(0,de.of)([new Ai(wr,[])]);const Dr=Ir(R)===oe;return this.processSegment(On,Gt,kr,Ks,Dr?xe:oe,!0).pipe((0,cn.U)(Ts=>[new Ai(wr,Ts)]))}))))}getChildConfig(M,E,R){return E.children?(0,de.of)({routes:E.children,injector:M}):E.loadChildren?void 0!==E._loadedRoutes?(0,de.of)({routes:E._loadedRoutes,injector:E._loadedInjector}):function _i(D,M,E,R){const G=M.canLoad;if(void 0===G||0===G.length)return(0,de.of)(!0);const oe=G.map(pe=>{const je=Us(pe,D);return Hn(function J(D){return D&&Xa(D.canLoad)}(je)?je.canLoad(M,E):D.runInContext(()=>je(M,E)))});return(0,de.of)(oe).pipe(Jr(),js())}(M,E,R).pipe((0,Pe.z)(G=>G?this.configLoader.loadChildren(M,E).pipe((0,Ot.b)(oe=>{E._loadedRoutes=oe.routes,E._loadedInjector=oe.injector})):function Ou(D){return mt($o(!1,3))}())):(0,de.of)({routes:[],injector:M})}}function ic(D){const M=D.value.routeConfig;return M&&""===M.path}function zi(D){const M=[],E=new Set;for(const R of D){if(!ic(R)){M.push(R);continue}const G=M.find(oe=>R.value.routeConfig===oe.value.routeConfig);void 0!==G?(G.children.push(...R.children),E.add(G)):M.push(R)}for(const R of E){const G=zi(R.children);M.push(new Ai(R.value,G))}return M.filter(R=>!E.has(R))}function O(D){return D.data||{}}function te(D){return D.resolve||{}}function Er(D){return"string"==typeof D.title||null===D.title}function pr(D){return(0,vn.w)(M=>{const E=D(M);return E?(0,ue.D)(E).pipe((0,cn.U)(()=>M)):(0,de.of)(M)})}const Xn=new b.OlP("ROUTES");let Bn=(()=>{class D{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,b.f3M)(b.Sil)}loadComponent(E){if(this.componentLoaders.get(E))return this.componentLoaders.get(E);if(E._loadedComponent)return(0,de.of)(E._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(E);const R=Hn(E.loadComponent()).pipe((0,cn.U)(ci),(0,Ot.b)(oe=>{this.onLoadEndListener&&this.onLoadEndListener(E),E._loadedComponent=oe}),lr(()=>{this.componentLoaders.delete(E)})),G=new ht(R,()=>new An.x).pipe(Ye());return this.componentLoaders.set(E,G),G}loadChildren(E,R){if(this.childrenLoaders.get(R))return this.childrenLoaders.get(R);if(R._loadedRoutes)return(0,de.of)({routes:R._loadedRoutes,injector:R._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(R);const oe=function Xr(D,M,E,R){return Hn(D.loadChildren()).pipe((0,cn.U)(ci),(0,Pe.z)(G=>G instanceof b.YKP||Array.isArray(G)?(0,de.of)(G):(0,ue.D)(M.compileModuleAsync(G))),(0,cn.U)(G=>{R&&R(D);let oe,pe,je=!1;return Array.isArray(G)?(pe=G,!0):(oe=G.create(E).injector,pe=oe.get(Xn,[],{optional:!0,self:!0}).flat()),{routes:pe.map(qo),injector:oe}}))}(R,this.compiler,E,this.onLoadEndListener).pipe(lr(()=>{this.childrenLoaders.delete(R)})),pe=new ht(oe,()=>new An.x).pipe(Ye());return this.childrenLoaders.set(R,pe),pe}static#e=this.\u0275fac=function(R){return new(R||D)};static#t=this.\u0275prov=b.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})();function ci(D){return function Fr(D){return D&&"object"==typeof D&&"default"in D}(D)?D.default:D}let Wi=(()=>{class D{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new An.x,this.transitionAbortSubject=new An.x,this.configLoader=(0,b.f3M)(Bn),this.environmentInjector=(0,b.f3M)(b.lqb),this.urlSerializer=(0,b.f3M)(qe),this.rootContexts=(0,b.f3M)(Vr),this.inputBindingEnabled=null!==(0,b.f3M)(Sn,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,de.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=G=>this.events.next(new ps(G)),this.configLoader.onLoadStartListener=G=>this.events.next(new Ka(G))}complete(){this.transitions?.complete()}handleNavigationRequest(E){const R=++this.navigationId;this.transitions?.next({...this.transitions.value,...E,id:R})}setupNavigations(E,R,G){return this.transitions=new Ae.X({id:0,currentUrlTree:R,currentRawUrl:R,currentBrowserUrl:R,extractedUrl:E.urlHandlingStrategy.extract(R),urlAfterRedirects:E.urlHandlingStrategy.extract(R),rawUrl:R,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ps,restoredState:null,currentSnapshot:G.snapshot,targetSnapshot:null,currentRouterState:G,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,ur.h)(oe=>0!==oe.id),(0,cn.U)(oe=>({...oe,extractedUrl:E.urlHandlingStrategy.extract(oe.rawUrl)})),(0,vn.w)(oe=>{this.currentTransition=oe;let pe=!1,je=!1;return(0,de.of)(oe).pipe((0,Ot.b)(Ve=>{this.currentNavigation={id:Ve.id,initialUrl:Ve.rawUrl,extractedUrl:Ve.extractedUrl,trigger:Ve.source,extras:Ve.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,vn.w)(Ve=>{const Gt=Ve.currentBrowserUrl.toString(),On=!E.navigated||Ve.extractedUrl.toString()!==Gt||Gt!==Ve.currentUrlTree.toString();if(!On&&"reload"!==(Ve.extras.onSameUrlNavigation??E.onSameUrlNavigation)){const sr="";return this.events.next(new mo(Ve.id,this.urlSerializer.serialize(Ve.rawUrl),sr,0)),Ve.resolve(null),pt.E}if(E.urlHandlingStrategy.shouldProcessUrl(Ve.rawUrl))return(0,de.of)(Ve).pipe((0,vn.w)(sr=>{const Ua=this.transitions?.getValue();return this.events.next(new ri(sr.id,this.urlSerializer.serialize(sr.extractedUrl),sr.source,sr.restoredState)),Ua!==this.transitions?.getValue()?pt.E:Promise.resolve(sr)}),function B(D,M,E,R,G,oe){return(0,Pe.z)(pe=>function ws(D,M,E,R,G,oe,pe="emptyOnly"){return new Bc(D,M,E,R,G,pe,oe).recognize()}(D,M,E,R,pe.extractedUrl,G,oe).pipe((0,cn.U)(({state:je,tree:Ve})=>({...pe,targetSnapshot:je,urlAfterRedirects:Ve}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,E.config,this.urlSerializer,E.paramsInheritanceStrategy),(0,Ot.b)(sr=>{oe.targetSnapshot=sr.targetSnapshot,oe.urlAfterRedirects=sr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:sr.urlAfterRedirects};const Ua=new Zn(sr.id,this.urlSerializer.serialize(sr.extractedUrl),this.urlSerializer.serialize(sr.urlAfterRedirects),sr.targetSnapshot);this.events.next(Ua)}));if(On&&E.urlHandlingStrategy.shouldProcessUrl(Ve.currentRawUrl)){const{id:sr,extractedUrl:Ua,source:kr,restoredState:Ks,extras:Dr}=Ve,Ts=new ri(sr,this.urlSerializer.serialize(Ua),kr,Ks);this.events.next(Ts);const $l=Ya(0,this.rootComponentType).snapshot;return this.currentTransition=oe={...Ve,targetSnapshot:$l,urlAfterRedirects:Ua,extras:{...Dr,skipLocationChange:!1,replaceUrl:!1}},(0,de.of)(oe)}{const sr="";return this.events.next(new mo(Ve.id,this.urlSerializer.serialize(Ve.extractedUrl),sr,1)),Ve.resolve(null),pt.E}}),(0,Ot.b)(Ve=>{const Gt=new Co(Ve.id,this.urlSerializer.serialize(Ve.extractedUrl),this.urlSerializer.serialize(Ve.urlAfterRedirects),Ve.targetSnapshot);this.events.next(Gt)}),(0,cn.U)(Ve=>(this.currentTransition=oe={...Ve,guards:Ti(Ve.targetSnapshot,Ve.currentSnapshot,this.rootContexts)},oe)),function ec(D,M){return(0,Pe.z)(E=>{const{targetSnapshot:R,currentSnapshot:G,guards:{canActivateChecks:oe,canDeactivateChecks:pe}}=E;return 0===pe.length&&0===oe.length?(0,de.of)({...E,guardsResult:!0}):function Gs(D,M,E,R){return(0,ue.D)(D).pipe((0,Pe.z)(G=>function nc(D,M,E,R,G){const oe=M&&M.routeConfig?M.routeConfig.canDeactivate:null;if(!oe||0===oe.length)return(0,de.of)(!0);const pe=oe.map(je=>{const Ve=Hr(M)??G,Gt=Us(je,Ve);return Hn(function be(D){return D&&Xa(D.canDeactivate)}(Gt)?Gt.canDeactivate(D,M,E,R):Ve.runInContext(()=>Gt(D,M,E,R))).pipe(tt())});return(0,de.of)(pe).pipe(Jr())}(G.component,G.route,E,M,R)),tt(G=>!0!==G,!0))}(pe,R,G,D).pipe((0,Pe.z)(je=>je&&function z(D){return"boolean"==typeof D}(je)?function ys(D,M,E,R){return(0,ue.D)(M).pipe(_t(G=>(0,En.z)(function Sa(D,M){return null!==D&&M&&M(new ks(D)),(0,de.of)(!0)}(G.route.parent,R),function tc(D,M){return null!==D&&M&&M(new Fc(D)),(0,de.of)(!0)}(G.route,R),function cu(D,M,E){const R=M[M.length-1],oe=M.slice(0,M.length-1).reverse().map(pe=>function Ja(D){const M=D.routeConfig?D.routeConfig.canActivateChild:null;return M&&0!==M.length?{node:D,guards:M}:null}(pe)).filter(pe=>null!==pe).map(pe=>ft(()=>{const je=pe.guards.map(Ve=>{const Gt=Hr(pe.node)??E,On=Us(Ve,Gt);return Hn(function ie(D){return D&&Xa(D.canActivateChild)}(On)?On.canActivateChild(R,D):Gt.runInContext(()=>On(R,D))).pipe(tt())});return(0,de.of)(je).pipe(Jr())}));return(0,de.of)(oe).pipe(Jr())}(D,G.path,E),function io(D,M,E){const R=M.routeConfig?M.routeConfig.canActivate:null;if(!R||0===R.length)return(0,de.of)(!0);const G=R.map(oe=>ft(()=>{const pe=Hr(M)??E,je=Us(oe,pe);return Hn(function F(D){return D&&Xa(D.canActivate)}(je)?je.canActivate(M,D):pe.runInContext(()=>je(M,D))).pipe(tt())}));return(0,de.of)(G).pipe(Jr())}(D,G.route,E))),tt(G=>!0!==G,!0))}(R,oe,D,M):(0,de.of)(je)),(0,cn.U)(je=>({...E,guardsResult:je})))})}(this.environmentInjector,Ve=>this.events.next(Ve)),(0,Ot.b)(Ve=>{if(oe.guardsResult=Ve.guardsResult,$n(Ve.guardsResult))throw Pr(0,Ve.guardsResult);const Gt=new xr(Ve.id,this.urlSerializer.serialize(Ve.extractedUrl),this.urlSerializer.serialize(Ve.urlAfterRedirects),Ve.targetSnapshot,!!Ve.guardsResult);this.events.next(Gt)}),(0,ur.h)(Ve=>!!Ve.guardsResult||(this.cancelNavigationTransition(Ve,"",3),!1)),pr(Ve=>{if(Ve.guards.canActivateChecks.length)return(0,de.of)(Ve).pipe((0,Ot.b)(Gt=>{const On=new Ic(Gt.id,this.urlSerializer.serialize(Gt.extractedUrl),this.urlSerializer.serialize(Gt.urlAfterRedirects),Gt.targetSnapshot);this.events.next(On)}),(0,vn.w)(Gt=>{let On=!1;return(0,de.of)(Gt).pipe(function X(D,M){return(0,Pe.z)(E=>{const{targetSnapshot:R,guards:{canActivateChecks:G}}=E;if(!G.length)return(0,de.of)(E);let oe=0;return(0,ue.D)(G).pipe(_t(pe=>function ge(D,M,E,R){const G=D.routeConfig,oe=D._resolve;return void 0!==G?.title&&!Er(G)&&(oe[st]=G.title),function Je(D,M,E,R){const G=function dt(D){return[...Object.keys(D),...Object.getOwnPropertySymbols(D)]}(D);if(0===G.length)return(0,de.of)({});const oe={};return(0,ue.D)(G).pipe((0,Pe.z)(pe=>function hn(D,M,E,R){const G=Hr(M)??R,oe=Us(D,G);return Hn(oe.resolve?oe.resolve(M,E):G.runInContext(()=>oe(M,E)))}(D[pe],M,E,R).pipe(tt(),(0,Ot.b)(je=>{oe[pe]=je}))),on(1),(0,Ln.h)(oe),Bt(pe=>xo(pe)?pt.E:mt(pe)))}(oe,D,M,R).pipe((0,cn.U)(pe=>(D._resolvedData=pe,D.data=Ft(D,E).resolve,G&&Er(G)&&(D.data[st]=G.title),null)))}(pe.route,R,D,M)),(0,Ot.b)(()=>oe++),on(1),(0,Pe.z)(pe=>oe===G.length?(0,de.of)(E):pt.E))})}(E.paramsInheritanceStrategy,this.environmentInjector),(0,Ot.b)({next:()=>On=!0,complete:()=>{On||this.cancelNavigationTransition(Gt,"",2)}}))}),(0,Ot.b)(Gt=>{const On=new oa(Gt.id,this.urlSerializer.serialize(Gt.extractedUrl),this.urlSerializer.serialize(Gt.urlAfterRedirects),Gt.targetSnapshot);this.events.next(On)}))}),pr(Ve=>{const Gt=On=>{const wr=[];On.routeConfig?.loadComponent&&!On.routeConfig._loadedComponent&&wr.push(this.configLoader.loadComponent(On.routeConfig).pipe((0,Ot.b)(sr=>{On.component=sr}),(0,cn.U)(()=>{})));for(const sr of On.children)wr.push(...Gt(sr));return wr};return rt(Gt(Ve.targetSnapshot.root)).pipe(Ge(),(0,xn.q)(1))}),pr(()=>this.afterPreactivation()),(0,cn.U)(Ve=>{const Gt=function Ca(D,M,E){const R=_o(D,M._root,E?E._root:void 0);return new gi(R,M)}(E.routeReuseStrategy,Ve.targetSnapshot,Ve.currentRouterState);return this.currentTransition=oe={...Ve,targetRouterState:Gt},oe}),(0,Ot.b)(()=>{this.events.next(new Ls)}),((D,M,E,R)=>(0,cn.U)(G=>(new Zo(M,G.targetRouterState,G.currentRouterState,E,R).activate(D),G)))(this.rootContexts,E.routeReuseStrategy,Ve=>this.events.next(Ve),this.inputBindingEnabled),(0,xn.q)(1),(0,Ot.b)({next:Ve=>{pe=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new to(Ve.id,this.urlSerializer.serialize(Ve.extractedUrl),this.urlSerializer.serialize(Ve.urlAfterRedirects))),E.titleStrategy?.updateTitle(Ve.targetRouterState.snapshot),Ve.resolve(!0)},complete:()=>{pe=!0}}),(0,Sr.R)(this.transitionAbortSubject.pipe((0,Ot.b)(Ve=>{throw Ve}))),lr(()=>{pe||je||this.cancelNavigationTransition(oe,"",1),this.currentNavigation?.id===oe.id&&(this.currentNavigation=null)}),Bt(Ve=>{if(je=!0,zo(Ve))this.events.next(new Pi(oe.id,this.urlSerializer.serialize(oe.extractedUrl),Ve.message,Ve.cancellationCode)),function Lc(D){return zo(D)&&$n(D.url)}(Ve)?this.events.next(new gs(Ve.url)):oe.resolve(!1);else{this.events.next(new Za(oe.id,this.urlSerializer.serialize(oe.extractedUrl),Ve,oe.targetSnapshot??void 0));try{oe.resolve(E.errorHandler(Ve))}catch(Gt){oe.reject(Gt)}}return pt.E}))}))}cancelNavigationTransition(E,R,G){const oe=new Pi(E.id,this.urlSerializer.serialize(E.extractedUrl),R,G);this.events.next(oe),E.resolve(!1)}static#e=this.\u0275fac=function(R){return new(R||D)};static#t=this.\u0275prov=b.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})();function so(D){return D!==Ps}let qi=(()=>{class D{buildTitle(E){let R,G=E.root;for(;void 0!==G;)R=this.getResolvedTitleForRoute(G)??R,G=G.children.find(oe=>oe.outlet===xe);return R}getResolvedTitleForRoute(E){return E.data[st]}static#e=this.\u0275fac=function(R){return new(R||D)};static#t=this.\u0275prov=b.Yz7({token:D,factory:function(){return(0,b.f3M)(yo)},providedIn:"root"})}return D})(),yo=(()=>{class D extends qi{constructor(E){super(),this.title=E}updateTitle(E){const R=this.buildTitle(E);void 0!==R&&this.title.setTitle(R)}static#e=this.\u0275fac=function(R){return new(R||D)(b.LFG(Oe.Dx))};static#t=this.\u0275prov=b.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})(),Ws=(()=>{class D{static#e=this.\u0275fac=function(R){return new(R||D)};static#t=this.\u0275prov=b.Yz7({token:D,factory:function(){return(0,b.f3M)(qs)},providedIn:"root"})}return D})();class Na{shouldDetach(M){return!1}store(M,E){}shouldAttach(M){return!1}retrieve(M){return null}shouldReuseRoute(M,E){return M.routeConfig===E.routeConfig}}let qs=(()=>{class D extends Na{static#e=this.\u0275fac=function(){let E;return function(G){return(E||(E=b.n5z(D)))(G||D)}}();static#t=this.\u0275prov=b.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})();const Tc=new b.OlP("",{providedIn:"root",factory:()=>({})});let Mu=(()=>{class D{static#e=this.\u0275fac=function(R){return new(R||D)};static#t=this.\u0275prov=b.Yz7({token:D,factory:function(){return(0,b.f3M)(Jo)},providedIn:"root"})}return D})(),Jo=(()=>{class D{shouldProcessUrl(E){return!0}extract(E){return E}merge(E,R){return E}static#e=this.\u0275fac=function(R){return new(R||D)};static#t=this.\u0275prov=b.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})();var La=function(D){return D[D.COMPLETE=0]="COMPLETE",D[D.FAILED=1]="FAILED",D[D.REDIRECTING=2]="REDIRECTING",D}(La||{});function Hc(D,M){D.events.pipe((0,ur.h)(E=>E instanceof to||E instanceof Pi||E instanceof Za||E instanceof mo),(0,cn.U)(E=>E instanceof to||E instanceof mo?La.COMPLETE:E instanceof Pi&&(0===E.code||1===E.code)?La.REDIRECTING:La.FAILED),(0,ur.h)(E=>E!==La.REDIRECTING),(0,xn.q)(1)).subscribe(()=>{M()})}function oi(D){throw D}function lu(D,M,E){return M.parse("/")}const du={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Xo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let es=(()=>{class D{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,b.f3M)(b.c2e),this.isNgZoneEnabled=!1,this._events=new An.x,this.options=(0,b.f3M)(Tc,{optional:!0})||{},this.pendingTasks=(0,b.f3M)(b.HDt),this.errorHandler=this.options.errorHandler||oi,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||lu,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,b.f3M)(Mu),this.routeReuseStrategy=(0,b.f3M)(Ws),this.titleStrategy=(0,b.f3M)(qi),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,b.f3M)(Xn,{optional:!0})?.flat()??[],this.navigationTransitions=(0,b.f3M)(Wi),this.urlSerializer=(0,b.f3M)(qe),this.location=(0,b.f3M)(ct.Ye),this.componentInputBindingEnabled=!!(0,b.f3M)(Sn,{optional:!0}),this.eventsSubscription=new He.w0,this.isNgZoneEnabled=(0,b.f3M)(b.R0b)instanceof b.R0b&&b.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Dn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ya(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(E=>{this.lastSuccessfulId=E.id,this.currentPageId=this.browserPageId},E=>{this.console.warn(`Unhandled Navigation Error: ${E}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const E=this.navigationTransitions.events.subscribe(R=>{try{const{currentTransition:G}=this.navigationTransitions;if(null===G)return void(oc(R)&&this._events.next(R));if(R instanceof ri)so(G.source)&&(this.browserUrlTree=G.extractedUrl);else if(R instanceof mo)this.rawUrlTree=G.rawUrl;else if(R instanceof Zn){if("eager"===this.urlUpdateStrategy){if(!G.extras.skipLocationChange){const oe=this.urlHandlingStrategy.merge(G.urlAfterRedirects,G.rawUrl);this.setBrowserUrl(oe,G)}this.browserUrlTree=G.urlAfterRedirects}}else if(R instanceof Ls)this.currentUrlTree=G.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(G.urlAfterRedirects,G.rawUrl),this.routerState=G.targetRouterState,"deferred"===this.urlUpdateStrategy&&(G.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,G),this.browserUrlTree=G.urlAfterRedirects);else if(R instanceof Pi)0!==R.code&&1!==R.code&&(this.navigated=!0),(3===R.code||2===R.code)&&this.restoreHistory(G);else if(R instanceof gs){const oe=this.urlHandlingStrategy.merge(R.url,G.currentRawUrl),pe={skipLocationChange:G.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||so(G.source)};this.scheduleNavigation(oe,Ps,null,pe,{resolve:G.resolve,reject:G.reject,promise:G.promise})}R instanceof Za&&this.restoreHistory(G,!0),R instanceof to&&(this.navigated=!0),oc(R)&&this._events.next(R)}catch(G){this.navigationTransitions.transitionAbortSubject.next(G)}});this.eventsSubscription.add(E)}resetRootComponentType(E){this.routerState.root.component=E,this.navigationTransitions.rootComponentType=E}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const E=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ps,E)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(E=>{const R="popstate"===E.type?"popstate":"hashchange";"popstate"===R&&setTimeout(()=>{this.navigateToSyncWithBrowser(E.url,R,E.state)},0)}))}navigateToSyncWithBrowser(E,R,G){const oe={replaceUrl:!0},pe=G?.navigationId?G:null;if(G){const Ve={...G};delete Ve.navigationId,delete Ve.\u0275routerPageId,0!==Object.keys(Ve).length&&(oe.state=Ve)}const je=this.parseUrl(E);this.scheduleNavigation(je,R,pe,oe)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(E){this.config=E.map(qo),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(E,R={}){const{relativeTo:G,queryParams:oe,fragment:pe,queryParamsHandling:je,preserveFragment:Ve}=R,Gt=Ve?this.currentUrlTree.fragment:pe;let wr,On=null;switch(je){case"merge":On={...this.currentUrlTree.queryParams,...oe};break;case"preserve":On=this.currentUrlTree.queryParams;break;default:On=oe||null}null!==On&&(On=this.removeEmptyProps(On));try{wr=Ri(G?G.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof E[0]||!E[0].startsWith("/"))&&(E=[]),wr=this.currentUrlTree.root}return Hi(wr,E,On,Gt??null)}navigateByUrl(E,R={skipLocationChange:!1}){const G=$n(E)?E:this.parseUrl(E),oe=this.urlHandlingStrategy.merge(G,this.rawUrlTree);return this.scheduleNavigation(oe,Ps,null,R)}navigate(E,R={skipLocationChange:!1}){return function xd(D){for(let M=0;M<D.length;M++)if(null==D[M])throw new b.vHH(4008,!1)}(E),this.navigateByUrl(this.createUrlTree(E,R),R)}serializeUrl(E){return this.urlSerializer.serialize(E)}parseUrl(E){let R;try{R=this.urlSerializer.parse(E)}catch(G){R=this.malformedUriErrorHandler(G,this.urlSerializer,E)}return R}isActive(E,R){let G;if(G=!0===R?{...du}:!1===R?{...Xo}:R,$n(E))return fr(this.currentUrlTree,E,G);const oe=this.parseUrl(E);return fr(this.currentUrlTree,oe,G)}removeEmptyProps(E){return Object.keys(E).reduce((R,G)=>{const oe=E[G];return null!=oe&&(R[G]=oe),R},{})}scheduleNavigation(E,R,G,oe,pe){if(this.disposed)return Promise.resolve(!1);let je,Ve,Gt;pe?(je=pe.resolve,Ve=pe.reject,Gt=pe.promise):Gt=new Promise((wr,sr)=>{je=wr,Ve=sr});const On=this.pendingTasks.add();return Hc(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(On))}),this.navigationTransitions.handleNavigationRequest({source:R,restoredState:G,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:E,extras:oe,resolve:je,reject:Ve,promise:Gt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Gt.catch(wr=>Promise.reject(wr))}setBrowserUrl(E,R){const G=this.urlSerializer.serialize(E);if(this.location.isCurrentPathEqualTo(G)||R.extras.replaceUrl){const pe={...R.extras.state,...this.generateNgRouterState(R.id,this.browserPageId)};this.location.replaceState(G,"",pe)}else{const oe={...R.extras.state,...this.generateNgRouterState(R.id,this.browserPageId+1)};this.location.go(G,"",oe)}}restoreHistory(E,R=!1){if("computed"===this.canceledNavigationResolution){const oe=this.currentPageId-this.browserPageId;0!==oe?this.location.historyGo(oe):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===oe&&(this.resetState(E),this.browserUrlTree=E.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(R&&this.resetState(E),this.resetUrlToCurrentUrlTree())}resetState(E){this.routerState=E.currentRouterState,this.currentUrlTree=E.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,E.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(E,R){return"computed"===this.canceledNavigationResolution?{navigationId:E,\u0275routerPageId:R}:{navigationId:E}}static#e=this.\u0275fac=function(R){return new(R||D)};static#t=this.\u0275prov=b.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})();function oc(D){return!(D instanceof Ls||D instanceof gs)}let vi=(()=>{class D{constructor(E,R,G,oe,pe,je){this.router=E,this.route=R,this.tabIndexAttribute=G,this.renderer=oe,this.el=pe,this.locationStrategy=je,this.href=null,this.commands=null,this.onChanges=new An.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Ve=pe.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Ve||"area"===Ve,this.isAnchorElement?this.subscription=E.events.subscribe(Gt=>{Gt instanceof to&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(E){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",E)}ngOnChanges(E){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(E){null!=E?(this.commands=Array.isArray(E)?E:[E],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(E,R,G,oe,pe){return!!(null===this.urlTree||this.isAnchorElement&&(0!==E||R||G||oe||pe||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const E=null===this.href?null:(0,b.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",E)}applyAttributeValue(E,R){const G=this.renderer,oe=this.el.nativeElement;null!==R?G.setAttribute(oe,E,R):G.removeAttribute(oe,E)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(R){return new(R||D)(b.Y36(es),b.Y36(ir),b.$8M("tabindex"),b.Y36(b.Qsj),b.Y36(b.SBq),b.Y36(ct.S$))};static#t=this.\u0275dir=b.lG2({type:D,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(R,G){1&R&&b.NdJ("click",function(pe){return G.onClick(pe.button,pe.ctrlKey,pe.shiftKey,pe.altKey,pe.metaKey)}),2&R&&b.uIk("target",G.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",b.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",b.VuI],replaceUrl:["replaceUrl","replaceUrl",b.VuI],routerLink:"routerLink"},standalone:!0,features:[b.Xq5,b.TTD]})}return D})();class Pd{}let kd=(()=>{class D{constructor(E,R,G,oe,pe){this.router=E,this.injector=G,this.preloadingStrategy=oe,this.loader=pe}setUpPreloading(){this.subscription=this.router.events.pipe((0,ur.h)(E=>E instanceof to),_t(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(E,R){const G=[];for(const oe of R){oe.providers&&!oe._injector&&(oe._injector=(0,b.MMx)(oe.providers,E,`Route: ${oe.path}`));const pe=oe._injector??E,je=oe._loadedInjector??pe;(oe.loadChildren&&!oe._loadedRoutes&&void 0===oe.canLoad||oe.loadComponent&&!oe._loadedComponent)&&G.push(this.preloadConfig(pe,oe)),(oe.children||oe._loadedRoutes)&&G.push(this.processRoutes(je,oe.children??oe._loadedRoutes))}return(0,ue.D)(G).pipe((0,we.J)())}preloadConfig(E,R){return this.preloadingStrategy.preload(R,()=>{let G;G=R.loadChildren&&void 0===R.canLoad?this.loader.loadChildren(E,R):(0,de.of)(null);const oe=G.pipe((0,Pe.z)(pe=>null===pe?(0,de.of)(void 0):(R._loadedRoutes=pe.routes,R._loadedInjector=pe.injector,this.processRoutes(pe.injector??E,pe.routes))));if(R.loadComponent&&!R._loadedComponent){const pe=this.loader.loadComponent(R);return(0,ue.D)([oe,pe]).pipe((0,we.J)())}return oe})}static#e=this.\u0275fac=function(R){return new(R||D)(b.LFG(es),b.LFG(b.Sil),b.LFG(b.lqb),b.LFG(Pd),b.LFG(Bn))};static#t=this.\u0275prov=b.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})();const hi=new b.OlP("");let Va=(()=>{class D{constructor(E,R,G,oe,pe={}){this.urlSerializer=E,this.transitions=R,this.viewportScroller=G,this.zone=oe,this.options=pe,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},pe.scrollPositionRestoration=pe.scrollPositionRestoration||"disabled",pe.anchorScrolling=pe.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(E=>{E instanceof ri?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=E.navigationTrigger,this.restoredId=E.restoredState?E.restoredState.navigationId:0):E instanceof to?(this.lastId=E.id,this.scheduleScrollEvent(E,this.urlSerializer.parse(E.urlAfterRedirects).fragment)):E instanceof mo&&0===E.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(E,this.urlSerializer.parse(E.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(E=>{E instanceof sa&&(E.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(E.position):E.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(E.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(E,R){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new sa(E,"popstate"===this.lastSource?this.store[this.restoredId]:null,R))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(R){b.$Z()};static#t=this.\u0275prov=b.Yz7({token:D,factory:D.\u0275fac})}return D})();function fn(D,M){return{\u0275kind:D,\u0275providers:M}}function fu(){const D=(0,b.f3M)(b.zs3);return M=>{const E=D.get(b.z2F);if(M!==E.components[0])return;const R=D.get(es),G=D.get(pu);1===D.get(la)&&R.initialNavigation(),D.get(Ru,null,b.XFs.Optional)?.setUpPreloading(),D.get(hi,null,b.XFs.Optional)?.init(),R.resetRootComponentType(E.componentTypes[0]),G.closed||(G.next(),G.complete(),G.unsubscribe())}}const pu=new b.OlP("",{factory:()=>new An.x}),la=new b.OlP("",{providedIn:"root",factory:()=>1}),Ru=new b.OlP("");function Pu(D){return fn(0,[{provide:Ru,useExisting:kd},{provide:Pd,useExisting:D}])}const cl=new b.OlP("ROUTER_FORROOT_GUARD"),Gc=[ct.Ye,{provide:qe,useClass:bt},es,Vr,{provide:ir,useFactory:function Zi(D){return D.routerState.root},deps:[es]},Bn,[]];function ts(){return new b.PXZ("Router",es)}let ku=(()=>{class D{constructor(E){}static forRoot(E,R){return{ngModule:D,providers:[Gc,[],{provide:Xn,multi:!0,useValue:E},{provide:cl,useFactory:Ba,deps:[[es,new b.FiY,new b.tp0]]},{provide:Tc,useValue:R||{}},R?.useHash?{provide:ct.S$,useClass:ct.Do}:{provide:ct.S$,useClass:ct.b0},{provide:hi,useFactory:()=>{const D=(0,b.f3M)(ct.EM),M=(0,b.f3M)(b.R0b),E=(0,b.f3M)(Tc),R=(0,b.f3M)(Wi),G=(0,b.f3M)(qe);return E.scrollOffset&&D.setOffset(E.scrollOffset),new Va(G,R,D,M,E)}},R?.preloadingStrategy?Pu(R.preloadingStrategy).\u0275providers:[],{provide:b.PXZ,multi:!0,useFactory:ts},R?.initialNavigation?Ro(R):[],R?.bindToComponentInputs?fn(8,[jo,{provide:Sn,useExisting:jo}]).\u0275providers:[],[{provide:Zs,useFactory:fu},{provide:b.tb,multi:!0,useExisting:Zs}]]}}static forChild(E){return{ngModule:D,providers:[{provide:Xn,multi:!0,useValue:E}]}}static#e=this.\u0275fac=function(R){return new(R||D)(b.LFG(cl,8))};static#t=this.\u0275mod=b.oAB({type:D});static#n=this.\u0275inj=b.cJS({})}return D})();function Ba(D){return"guarded"}function Ro(D){return["disabled"===D.initialNavigation?fn(3,[{provide:b.ip1,multi:!0,useFactory:()=>{const M=(0,b.f3M)(es);return()=>{M.setUpLocationChangeListener()}}},{provide:la,useValue:2}]).\u0275providers:[],"enabledBlocking"===D.initialNavigation?fn(2,[{provide:la,useValue:0},{provide:b.ip1,multi:!0,deps:[b.zs3],useFactory:M=>{const E=M.get(ct.V_,Promise.resolve());return()=>E.then(()=>new Promise(R=>{const G=M.get(es),oe=M.get(pu);Hc(G,()=>{R(!0)}),M.get(Wi).afterPreactivation=()=>(R(!0),oe.closed?(0,de.of)(void 0):oe),G.initialNavigation()}))}}]).\u0275providers:[]]}const Zs=new b.OlP("")},4303:(Ut,$e,Q)=>{Q.d($e,{Jn:()=>lr,KN:()=>gt,Mq:()=>we,Xd:()=>Ot,ZF:()=>Sr,qX:()=>Bt});var b=Q(5861),ae=Q(4537),l=Q(7879),ye=Q(9058),ue=Q(1878);class de{constructor(Te){this.container=Te}getPlatformInfoString(){return this.container.getProviders().map(qe=>{if(function Ae(et){const Te=et.getComponent();return"VERSION"===Te?.type}(qe)){const bt=qe.getImmediate();return`${bt.library}/${bt.version}`}return null}).filter(qe=>qe).join(" ")}}const Ue="@firebase/app",ne=new l.Yd("@firebase/app"),Pe="[DEFAULT]",Ge={[Ue]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Qe=new Map,Le=new Map;function tt(et,Te){try{et.container.addComponent(Te)}catch(qe){ne.debug(`Component ${Te.name} failed to register with FirebaseApp ${et.name}`,qe)}}function Ot(et){const Te=et.name;if(Le.has(Te))return ne.debug(`There were multiple attempts to register component ${Te}.`),!1;Le.set(Te,et);for(const qe of Qe.values())tt(qe,et);return!0}function Bt(et,Te){const qe=et.container.getProvider("heartbeat").getImmediate({optional:!0});return qe&&qe.triggerHeartbeat(),et.container.getProvider(Te)}const wt=new ye.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ln{constructor(Te,qe,bt){this._isDeleted=!1,this._options=Object.assign({},Te),this._config=Object.assign({},qe),this._name=qe.name,this._automaticDataCollectionEnabled=qe.automaticDataCollectionEnabled,this._container=bt,this.container.addComponent(new ae.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Te){this.checkDestroyed(),this._automaticDataCollectionEnabled=Te}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Te){this._isDeleted=Te}checkDestroyed(){if(this.isDeleted)throw wt.create("app-deleted",{appName:this._name})}}const lr="10.9.0";function Sr(et,Te={}){let qe=et;"object"!=typeof Te&&(Te={name:Te});const bt=Object.assign({name:Pe,automaticDataCollectionEnabled:!1},Te),Wt=bt.name;if("string"!=typeof Wt||!Wt)throw wt.create("bad-app-name",{appName:String(Wt)});if(qe||(qe=(0,ye.aH)()),!qe)throw wt.create("no-options");const qt=Qe.get(Wt);if(qt){if((0,ye.vZ)(qe,qt.options)&&(0,ye.vZ)(bt,qt.config))return qt;throw wt.create("duplicate-app",{appName:Wt})}const kn=new ae.H0(Wt);for(const L of Le.values())kn.addComponent(L);const K=new Ln(qe,bt,kn);return Qe.set(Wt,K),K}function we(et=Pe){const Te=Qe.get(et);if(!Te&&et===Pe&&(0,ye.aH)())return Sr();if(!Te)throw wt.create("no-app",{appName:et});return Te}function gt(et,Te,qe){var bt;let Wt=null!==(bt=Ge[et])&&void 0!==bt?bt:et;qe&&(Wt+=`-${qe}`);const qt=Wt.match(/\s|\//),kn=Te.match(/\s|\//);if(qt||kn){const K=[`Unable to register library "${Wt}" with version "${Te}":`];return qt&&K.push(`library name "${Wt}" contains illegal characters (whitespace or "/")`),qt&&kn&&K.push("and"),kn&&K.push(`version name "${Te}" contains illegal characters (whitespace or "/")`),void ne.warn(K.join(" "))}Ot(new ae.wA(`${Wt}-version`,()=>({library:Wt,version:Te}),"VERSION"))}const bn="firebase-heartbeat-database",tn=1,zt="firebase-heartbeat-store";let mn=null;function Hn(){return mn||(mn=(0,ue.X3)(bn,tn,{upgrade:(et,Te)=>{if(0===Te)try{et.createObjectStore(zt)}catch(qe){console.warn(qe)}}}).catch(et=>{throw wt.create("idb-open",{originalErrorMessage:et.message})})),mn}function yr(){return(yr=(0,b.Z)(function*(et){try{const qe=(yield Hn()).transaction(zt),bt=yield qe.objectStore(zt).get(Qn(et));return yield qe.done,bt}catch(Te){if(Te instanceof ye.ZR)ne.warn(Te.message);else{const qe=wt.create("idb-get",{originalErrorMessage:Te?.message});ne.warn(qe.message)}}})).apply(this,arguments)}function fr(et,Te){return dn.apply(this,arguments)}function dn(){return(dn=(0,b.Z)(function*(et,Te){try{const bt=(yield Hn()).transaction(zt,"readwrite");yield bt.objectStore(zt).put(Te,Qn(et)),yield bt.done}catch(qe){if(qe instanceof ye.ZR)ne.warn(qe.message);else{const bt=wt.create("idb-set",{originalErrorMessage:qe?.message});ne.warn(bt.message)}}})).apply(this,arguments)}function Qn(et){return`${et.name}!${et.options.appId}`}class Pn{constructor(Te){this.container=Te,this._heartbeatsCache=null;const qe=this.container.getProvider("app").getImmediate();this._storage=new Gn(qe),this._heartbeatsCachePromise=this._storage.read().then(bt=>(this._heartbeatsCache=bt,bt))}triggerHeartbeat(){var Te=this;return(0,b.Z)(function*(){var qe,bt;const qt=Te.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),kn=ti();if((null!=(null===(qe=Te._heartbeatsCache)||void 0===qe?void 0:qe.heartbeats)||(Te._heartbeatsCache=yield Te._heartbeatsCachePromise,null!=(null===(bt=Te._heartbeatsCache)||void 0===bt?void 0:bt.heartbeats)))&&Te._heartbeatsCache.lastSentHeartbeatDate!==kn&&!Te._heartbeatsCache.heartbeats.some(K=>K.date===kn))return Te._heartbeatsCache.heartbeats.push({date:kn,agent:qt}),Te._heartbeatsCache.heartbeats=Te._heartbeatsCache.heartbeats.filter(K=>{const L=new Date(K.date).valueOf();return Date.now()-L<=2592e6}),Te._storage.overwrite(Te._heartbeatsCache)})()}getHeartbeatsHeader(){var Te=this;return(0,b.Z)(function*(){var qe;if(null===Te._heartbeatsCache&&(yield Te._heartbeatsCachePromise),null==(null===(qe=Te._heartbeatsCache)||void 0===qe?void 0:qe.heartbeats)||0===Te._heartbeatsCache.heartbeats.length)return"";const bt=ti(),{heartbeatsToSend:Wt,unsentEntries:qt}=function Dn(et,Te=1024){const qe=[];let bt=et.slice();for(const Wt of et){const qt=qe.find(kn=>kn.agent===Wt.agent);if(qt){if(qt.dates.push(Wt.date),Tr(qe)>Te){qt.dates.pop();break}}else if(qe.push({agent:Wt.agent,dates:[Wt.date]}),Tr(qe)>Te){qe.pop();break}bt=bt.slice(1)}return{heartbeatsToSend:qe,unsentEntries:bt}}(Te._heartbeatsCache.heartbeats),kn=(0,ye.L)(JSON.stringify({version:2,heartbeats:Wt}));return Te._heartbeatsCache.lastSentHeartbeatDate=bt,qt.length>0?(Te._heartbeatsCache.heartbeats=qt,yield Te._storage.overwrite(Te._heartbeatsCache)):(Te._heartbeatsCache.heartbeats=[],Te._storage.overwrite(Te._heartbeatsCache)),kn})()}}function ti(){return(new Date).toISOString().substring(0,10)}class Gn{constructor(Te){this.app=Te,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,b.Z)(function*(){return!!(0,ye.hl)()&&(0,ye.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Te=this;return(0,b.Z)(function*(){if(yield Te._canUseIndexedDBPromise){const bt=yield function Kt(et){return yr.apply(this,arguments)}(Te.app);return bt?.heartbeats?bt:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(Te){var qe=this;return(0,b.Z)(function*(){var bt;if(yield qe._canUseIndexedDBPromise){const qt=yield qe.read();return fr(qe.app,{lastSentHeartbeatDate:null!==(bt=Te.lastSentHeartbeatDate)&&void 0!==bt?bt:qt.lastSentHeartbeatDate,heartbeats:Te.heartbeats})}})()}add(Te){var qe=this;return(0,b.Z)(function*(){var bt;if(yield qe._canUseIndexedDBPromise){const qt=yield qe.read();return fr(qe.app,{lastSentHeartbeatDate:null!==(bt=Te.lastSentHeartbeatDate)&&void 0!==bt?bt:qt.lastSentHeartbeatDate,heartbeats:[...qt.heartbeats,...Te.heartbeats]})}})()}}function Tr(et){return(0,ye.L)(JSON.stringify({version:2,heartbeats:et})).length}!function ni(et){Ot(new ae.wA("platform-logger",Te=>new de(Te),"PRIVATE")),Ot(new ae.wA("heartbeat",Te=>new Pn(Te),"PRIVATE")),gt(Ue,"0.9.29",et),gt(Ue,"0.9.29","esm2017"),gt("fire-js","")}("")},4537:(Ut,$e,Q)=>{Q.d($e,{H0:()=>Ue,wA:()=>l});var b=Q(5861),ae=Q(9058);class l{constructor(ne,ce,Ee){this.name=ne,this.instanceFactory=ce,this.type=Ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ne){return this.instantiationMode=ne,this}setMultipleInstances(ne){return this.multipleInstances=ne,this}setServiceProps(ne){return this.serviceProps=ne,this}setInstanceCreatedCallback(ne){return this.onInstanceCreated=ne,this}}const ye="[DEFAULT]";class ue{constructor(ne,ce){this.name=ne,this.container=ce,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ne){const ce=this.normalizeInstanceIdentifier(ne);if(!this.instancesDeferred.has(ce)){const Ee=new ae.BH;if(this.instancesDeferred.set(ce,Ee),this.isInitialized(ce)||this.shouldAutoInitialize())try{const Xe=this.getOrInitializeService({instanceIdentifier:ce});Xe&&Ee.resolve(Xe)}catch{}}return this.instancesDeferred.get(ce).promise}getImmediate(ne){var ce;const Ee=this.normalizeInstanceIdentifier(ne?.identifier),Xe=null!==(ce=ne?.optional)&&void 0!==ce&&ce;if(!this.isInitialized(Ee)&&!this.shouldAutoInitialize()){if(Xe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ee})}catch(Re){if(Xe)return null;throw Re}}getComponent(){return this.component}setComponent(ne){if(ne.name!==this.name)throw Error(`Mismatching Component ${ne.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ne,this.shouldAutoInitialize()){if(function Ae(Ie){return"EAGER"===Ie.instantiationMode}(ne))try{this.getOrInitializeService({instanceIdentifier:ye})}catch{}for(const[ce,Ee]of this.instancesDeferred.entries()){const Xe=this.normalizeInstanceIdentifier(ce);try{const Re=this.getOrInitializeService({instanceIdentifier:Xe});Ee.resolve(Re)}catch{}}}}clearInstance(ne=ye){this.instancesDeferred.delete(ne),this.instancesOptions.delete(ne),this.instances.delete(ne)}delete(){var ne=this;return(0,b.Z)(function*(){const ce=Array.from(ne.instances.values());yield Promise.all([...ce.filter(Ee=>"INTERNAL"in Ee).map(Ee=>Ee.INTERNAL.delete()),...ce.filter(Ee=>"_delete"in Ee).map(Ee=>Ee._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ne=ye){return this.instances.has(ne)}getOptions(ne=ye){return this.instancesOptions.get(ne)||{}}initialize(ne={}){const{options:ce={}}=ne,Ee=this.normalizeInstanceIdentifier(ne.instanceIdentifier);if(this.isInitialized(Ee))throw Error(`${this.name}(${Ee}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Xe=this.getOrInitializeService({instanceIdentifier:Ee,options:ce});for(const[Re,rt]of this.instancesDeferred.entries())Ee===this.normalizeInstanceIdentifier(Re)&&rt.resolve(Xe);return Xe}onInit(ne,ce){var Ee;const Xe=this.normalizeInstanceIdentifier(ce),Re=null!==(Ee=this.onInitCallbacks.get(Xe))&&void 0!==Ee?Ee:new Set;Re.add(ne),this.onInitCallbacks.set(Xe,Re);const rt=this.instances.get(Xe);return rt&&ne(rt,Xe),()=>{Re.delete(ne)}}invokeOnInitCallbacks(ne,ce){const Ee=this.onInitCallbacks.get(ce);if(Ee)for(const Xe of Ee)try{Xe(ne,ce)}catch{}}getOrInitializeService({instanceIdentifier:ne,options:ce={}}){let Ee=this.instances.get(ne);if(!Ee&&this.component&&(Ee=this.component.instanceFactory(this.container,{instanceIdentifier:(Ie=ne,Ie===ye?void 0:Ie),options:ce}),this.instances.set(ne,Ee),this.instancesOptions.set(ne,ce),this.invokeOnInitCallbacks(Ee,ne),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ne,Ee)}catch{}var Ie;return Ee||null}normalizeInstanceIdentifier(ne=ye){return this.component?this.component.multipleInstances?ne:ye:ne}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ue{constructor(ne){this.name=ne,this.providers=new Map}addComponent(ne){const ce=this.getProvider(ne.name);if(ce.isComponentSet())throw new Error(`Component ${ne.name} has already been registered with ${this.name}`);ce.setComponent(ne)}addOrOverwriteComponent(ne){this.getProvider(ne.name).isComponentSet()&&this.providers.delete(ne.name),this.addComponent(ne)}getProvider(ne){if(this.providers.has(ne))return this.providers.get(ne);const ce=new ue(ne,this);return this.providers.set(ne,ce),ce}getProviders(){return Array.from(this.providers.values())}}},7879:(Ut,$e,Q)=>{Q.d($e,{Yd:()=>Ae,in:()=>ae});const b=[];var ae=function(ne){return ne[ne.DEBUG=0]="DEBUG",ne[ne.VERBOSE=1]="VERBOSE",ne[ne.INFO=2]="INFO",ne[ne.WARN=3]="WARN",ne[ne.ERROR=4]="ERROR",ne[ne.SILENT=5]="SILENT",ne}(ae||{});const l={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},ye=ae.INFO,ue={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},de=(ne,ce,...Ee)=>{if(ce<ne.logLevel)return;const Xe=(new Date).toISOString(),Re=ue[ce];if(!Re)throw new Error(`Attempted to log a message with an invalid logType (value: ${ce})`);console[Re](`[${Xe}]  ${ne.name}:`,...Ee)};class Ae{constructor(ce){this.name=ce,this._logLevel=ye,this._logHandler=de,this._userLogHandler=null,b.push(this)}get logLevel(){return this._logLevel}set logLevel(ce){if(!(ce in ae))throw new TypeError(`Invalid value "${ce}" assigned to \`logLevel\``);this._logLevel=ce}setLogLevel(ce){this._logLevel="string"==typeof ce?l[ce]:ce}get logHandler(){return this._logHandler}set logHandler(ce){if("function"!=typeof ce)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ce}get userLogHandler(){return this._userLogHandler}set userLogHandler(ce){this._userLogHandler=ce}debug(...ce){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...ce),this._logHandler(this,ae.DEBUG,...ce)}log(...ce){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...ce),this._logHandler(this,ae.VERBOSE,...ce)}info(...ce){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...ce),this._logHandler(this,ae.INFO,...ce)}warn(...ce){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...ce),this._logHandler(this,ae.WARN,...ce)}error(...ce){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...ce),this._logHandler(this,ae.ERROR,...ce)}}},1878:(Ut,$e,Q)=>{Q.d($e,{X3:()=>Nt});var b=Q(5861);const ae=(me,Ye)=>Ye.some(ht=>me instanceof ht);let l,ye;const Ae=new WeakMap,Ue=new WeakMap,Ie=new WeakMap,ne=new WeakMap,ce=new WeakMap;let Re={get(me,Ye,ht){if(me instanceof IDBTransaction){if("done"===Ye)return Ue.get(me);if("objectStoreNames"===Ye)return me.objectStoreNames||Ie.get(me);if("store"===Ye)return ht.objectStoreNames[1]?void 0:ht.objectStore(ht.objectStoreNames[0])}return Rt(me[Ye])},set:(me,Ye,ht)=>(me[Ye]=ht,!0),has:(me,Ye)=>me instanceof IDBTransaction&&("done"===Ye||"store"===Ye)||Ye in me};function kt(me){return"function"==typeof me?function Dt(me){return me!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function de(){return ye||(ye=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(me)?function(...Ye){return me.apply(En(this),Ye),Rt(Ae.get(this))}:function(...Ye){return Rt(me.apply(En(this),Ye))}:function(Ye,...ht){const An=me.call(En(this),Ye,...ht);return Ie.set(An,Ye.sort?Ye.sort():[Ye]),Rt(An)}}(me):(me instanceof IDBTransaction&&function Xe(me){if(Ue.has(me))return;const Ye=new Promise((ht,An)=>{const ct=()=>{me.removeEventListener("complete",cn),me.removeEventListener("error",vn),me.removeEventListener("abort",vn)},cn=()=>{ht(),ct()},vn=()=>{An(me.error||new DOMException("AbortError","AbortError")),ct()};me.addEventListener("complete",cn),me.addEventListener("error",vn),me.addEventListener("abort",vn)});Ue.set(me,Ye)}(me),ae(me,function ue(){return l||(l=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(me,Re):me)}function Rt(me){if(me instanceof IDBRequest)return function Ee(me){const Ye=new Promise((ht,An)=>{const ct=()=>{me.removeEventListener("success",cn),me.removeEventListener("error",vn)},cn=()=>{ht(Rt(me.result)),ct()},vn=()=>{An(me.error),ct()};me.addEventListener("success",cn),me.addEventListener("error",vn)});return Ye.then(ht=>{ht instanceof IDBCursor&&Ae.set(ht,me)}).catch(()=>{}),ce.set(Ye,me),Ye}(me);if(ne.has(me))return ne.get(me);const Ye=kt(me);return Ye!==me&&(ne.set(me,Ye),ce.set(Ye,me)),Ye}const En=me=>ce.get(me);function Nt(me,Ye,{blocked:ht,upgrade:An,blocking:ct,terminated:cn}={}){const vn=indexedDB.open(me,Ye),xn=Rt(vn);return An&&vn.addEventListener("upgradeneeded",Wn=>{An(Rt(vn.result),Wn.oldVersion,Wn.newVersion,Rt(vn.transaction),Wn)}),ht&&vn.addEventListener("blocked",Wn=>ht(Wn.oldVersion,Wn.newVersion,Wn)),xn.then(Wn=>{cn&&Wn.addEventListener("close",()=>cn()),ct&&Wn.addEventListener("versionchange",ur=>ct(ur.oldVersion,ur.newVersion,ur))}).catch(()=>{}),xn}const ot=["get","getKey","getAll","getAllKeys","count"],mt=["put","add","delete","clear"],pt=new Map;function He(me,Ye){if(!(me instanceof IDBDatabase)||Ye in me||"string"!=typeof Ye)return;if(pt.get(Ye))return pt.get(Ye);const ht=Ye.replace(/FromIndex$/,""),An=Ye!==ht,ct=mt.includes(ht);if(!(ht in(An?IDBIndex:IDBObjectStore).prototype)||!ct&&!ot.includes(ht))return;const cn=function(){var vn=(0,b.Z)(function*(xn,...Wn){const ur=this.transaction(xn,ct?"readwrite":"readonly");let Pe=ur.store;return An&&(Pe=Pe.index(Wn.shift())),(yield Promise.all([Pe[ht](...Wn),ct&&ur.done]))[0]});return function(Wn){return vn.apply(this,arguments)}}();return pt.set(Ye,cn),cn}!function rt(me){Re=me(Re)}(me=>({...me,get:(Ye,ht,An)=>He(Ye,ht)||me.get(Ye,ht,An),has:(Ye,ht)=>!!He(Ye,ht)||me.has(Ye,ht)}))},5861:(Ut,$e,Q)=>{function b(l,ye,ue,de,Ae,Ue,Ie){try{var ne=l[Ue](Ie),ce=ne.value}catch(Ee){return void ue(Ee)}ne.done?ye(ce):Promise.resolve(ce).then(de,Ae)}function ae(l){return function(){var ye=this,ue=arguments;return new Promise(function(de,Ae){var Ue=l.apply(ye,ue);function Ie(ce){b(Ue,de,Ae,Ie,ne,"next",ce)}function ne(ce){b(Ue,de,Ae,Ie,ne,"throw",ce)}Ie(void 0)})}}Q.d($e,{Z:()=>ae})},7582:(Ut,$e,Q)=>{function ye(Pe,Ge){var Qe={};for(var Le in Pe)Object.prototype.hasOwnProperty.call(Pe,Le)&&Ge.indexOf(Le)<0&&(Qe[Le]=Pe[Le]);if(null!=Pe&&"function"==typeof Object.getOwnPropertySymbols){var tt=0;for(Le=Object.getOwnPropertySymbols(Pe);tt<Le.length;tt++)Ge.indexOf(Le[tt])<0&&Object.prototype.propertyIsEnumerable.call(Pe,Le[tt])&&(Qe[Le[tt]]=Pe[Le[tt]])}return Qe}function Ee(Pe,Ge,Qe,Le){return new(Qe||(Qe=Promise))(function(_t,Ot){function Bt(on){try{pn(Le.next(on))}catch(wt){Ot(wt)}}function un(on){try{pn(Le.throw(on))}catch(wt){Ot(wt)}}function pn(on){on.done?_t(on.value):function tt(_t){return _t instanceof Qe?_t:new Qe(function(Ot){Ot(_t)})}(on.value).then(Bt,un)}pn((Le=Le.apply(Pe,Ge||[])).next())})}function ft(Pe){return this instanceof ft?(this.v=Pe,this):new ft(Pe)}function ot(Pe,Ge,Qe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var tt,Le=Qe.apply(Pe,Ge||[]),_t=[];return tt={},Ot("next"),Ot("throw"),Ot("return"),tt[Symbol.asyncIterator]=function(){return this},tt;function Ot(Ln){Le[Ln]&&(tt[Ln]=function(lr){return new Promise(function(Sr,we){_t.push([Ln,lr,Sr,we])>1||Bt(Ln,lr)})})}function Bt(Ln,lr){try{!function un(Ln){Ln.value instanceof ft?Promise.resolve(Ln.value.v).then(pn,on):wt(_t[0][2],Ln)}(Le[Ln](lr))}catch(Sr){wt(_t[0][3],Sr)}}function pn(Ln){Bt("next",Ln)}function on(Ln){Bt("throw",Ln)}function wt(Ln,lr){Ln(lr),_t.shift(),_t.length&&Bt(_t[0][0],_t[0][1])}}function pt(Pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Qe,Ge=Pe[Symbol.asyncIterator];return Ge?Ge.call(Pe):(Pe=function Dt(Pe){var Ge="function"==typeof Symbol&&Symbol.iterator,Qe=Ge&&Pe[Ge],Le=0;if(Qe)return Qe.call(Pe);if(Pe&&"number"==typeof Pe.length)return{next:function(){return Pe&&Le>=Pe.length&&(Pe=void 0),{value:Pe&&Pe[Le++],done:!Pe}}};throw new TypeError(Ge?"Object is not iterable.":"Symbol.iterator is not defined.")}(Pe),Qe={},Le("next"),Le("throw"),Le("return"),Qe[Symbol.asyncIterator]=function(){return this},Qe);function Le(_t){Qe[_t]=Pe[_t]&&function(Ot){return new Promise(function(Bt,un){!function tt(_t,Ot,Bt,un){Promise.resolve(un).then(function(pn){_t({value:pn,done:Bt})},Ot)}(Bt,un,(Ot=Pe[_t](Ot)).done,Ot.value)})}}}Q.d($e,{FC:()=>ot,KL:()=>pt,_T:()=>ye,mG:()=>Ee,qq:()=>ft}),"function"==typeof SuppressedError&&SuppressedError}},Ut=>{var $e=b=>Ut(Ut.s=b);$e(2614),$e(5440)}]);