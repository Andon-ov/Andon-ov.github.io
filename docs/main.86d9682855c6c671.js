(self.webpackChunkThe_Natural_Way=self.webpackChunkThe_Natural_Way||[]).push([[179],{8726:(Vt,Be,$)=>{"use strict";$.d(Be,{Ot:()=>ye,ZF:()=>xt,hX:()=>Ce,z6:()=>ae});var b=$(4097),X=$(9468),u=$(559);class ye{constructor(rt){return rt}}class ae{constructor(){return(0,b.C6)()}}const ke=new X.OlP("angularfire2._apps"),Ee={provide:ye,useFactory:function Ie(st){return st&&1===st.length?st[0]:new ye((0,b.Mq)())},deps:[[new X.FiY,ke]]},re={provide:ae,deps:[[new X.FiY,ke]]};function le(st){return(rt,yt)=>{const ze=rt.runOutsideAngular(()=>st(yt));return new ye(ze)}}let Se=(()=>{class st{constructor(yt){(0,b.KN)("angularfire",u.q4.full,"core"),(0,b.KN)("angularfire",u.q4.full,"app"),(0,b.KN)("angular",X.q4F.full,yt.toString())}}return st.\u0275fac=function(yt){return new(yt||st)(X.LFG(X.Lbi))},st.\u0275mod=X.oAB({type:st}),st.\u0275inj=X.cJS({providers:[Ee,re]}),st})();function Ce(st,...rt){return{ngModule:Se,providers:[{provide:ke,useFactory:le(st),multi:!0,deps:[X.R0b,X.zs3,u.HU,...rt]}]}}const xt=(0,u.u3)(b.ZF,!0)},3477:(Vt,Be,$)=>{"use strict";$.d(Be,{gg:()=>FD,ET:()=>lA,Ab:()=>uA,vr:()=>dA,hJ:()=>hA,oe:()=>fA,JU:()=>pA,QT:()=>gA,PL:()=>mA,ad:()=>_A,b9:()=>yA,Xo:()=>vA,Cm:()=>cA,IO:()=>bA,pl:()=>wA,TQ:()=>IA,r7:()=>EA,ar:()=>TA});var b=$(559),X=$(9468),u=$(8726),ye=$(4097),ae=$(5861),he=$(229),Ie=$(7592),ke=$(7582),Ee=$(7879),re=$(6820);const cn=function xt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Tt=new he.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),rt=new Ee.Yd("@firebase/auth");function ze(n,...e){rt.logLevel<=Ee.in.ERROR&&rt.error(`Auth (${Ie.Jn}): ${n}`,...e)}function Ae(n,...e){throw wn(n,...e)}function _e(n,...e){return wn(n,...e)}function wn(n,...e){if("string"!=typeof n){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return Tt.create(n,...e)}function dt(n,e,...t){if(!n)throw wn(e,...t)}function sn(n){const e="INTERNAL ASSERTION FAILED: "+n;throw ze(e),new Error(e)}function _n(n,e){n||sn(e)}function tr(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class Ze{constructor(e,t){this.shortDelay=e,this.longDelay=t,_n(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,he.uI)()||(0,he.b$)()}get(){return function Ue(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Yn(){return"http:"===tr()||"https:"===tr()}()||(0,he.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class Ke{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void sn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void sn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void sn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const gt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},St=new Ze(3e4,6e4);function Qt(n,e,t,i){return tn.apply(this,arguments)}function tn(){return(tn=(0,ae.Z)(function*(n,e,t,i,l={}){return Bt(n,l,(0,ae.Z)(function*(){let p={},_={};i&&("GET"===e?_=i:p={body:JSON.stringify(i)});const T=(0,he.xO)(Object.assign({key:n.config.apiKey},_)).slice(1),F=yield n._getAdditionalHeaders();return F["Content-Type"]="application/json",n.languageCode&&(F["X-Firebase-Locale"]=n.languageCode),Ke.fetch()(cr(n,n.config.apiHost,t,T),Object.assign({method:e,headers:F,referrerPolicy:"no-referrer"},p))}))})).apply(this,arguments)}function Bt(n,e,t){return ft.apply(this,arguments)}function ft(){return(ft=(0,ae.Z)(function*(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},gt),e);try{const l=new xe(n),p=yield Promise.race([t(),l.promise]);l.clearNetworkTimeout();const _=yield p.json();if("needConfirmation"in _)throw De(n,"account-exists-with-different-credential",_);if(p.ok&&!("errorMessage"in _))return _;{const T=p.ok?_.errorMessage:_.error.message,[F,H]=T.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===F)throw De(n,"credential-already-in-use",_);if("EMAIL_EXISTS"===F)throw De(n,"email-already-in-use",_);if("USER_DISABLED"===F)throw De(n,"user-disabled",_);const ne=i[F]||F.toLowerCase().replace(/[_\s]+/g,"-");if(H)throw function Le(n,e,t){const i=Object.assign(Object.assign({},cn()),{[e]:t});return new he.LL("auth","Firebase",i).create(e,{appName:n.name})}(n,ne,H);Ae(n,ne)}}catch(l){if(l instanceof he.ZR)throw l;Ae(n,"network-request-failed",{message:String(l)})}})).apply(this,arguments)}function cr(n,e,t,i){const l=`${e}${t}?${i}`;return n.config.emulator?function He(n,e){_n(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}(n.config,l):`${n.config.apiScheme}://${l}`}class xe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(_e(this.auth,"network-request-failed")),St.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function De(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const l=_e(n,e,i);return l.customData._tokenResponse=t,l}function mt(){return(mt=(0,ae.Z)(function*(n,e){return Qt(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function yn(){return(yn=(0,ae.Z)(function*(n,e){return Qt(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Cn(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function br(){return(br=(0,ae.Z)(function*(n,e=!1){const t=(0,he.m9)(n),i=yield t.getIdToken(e),l=Dr(i);dt(l&&l.exp&&l.auth_time&&l.iat,t.auth,"internal-error");const p="object"==typeof l.firebase?l.firebase:void 0,_=p?.sign_in_provider;return{claims:l,token:i,authTime:Cn(nn(l.auth_time)),issuedAtTime:Cn(nn(l.iat)),expirationTime:Cn(nn(l.exp)),signInProvider:_||null,signInSecondFactor:p?.sign_in_second_factor||null}})).apply(this,arguments)}function nn(n){return 1e3*Number(n)}function Dr(n){const[e,t,i]=n.split(".");if(void 0===e||void 0===t||void 0===i)return ze("JWT malformed, contained fewer than 3 sections"),null;try{const l=(0,he.tV)(t);return l?JSON.parse(l):(ze("Failed to decode base64 JWT payload"),null)}catch(l){return ze("Caught error parsing JWT payload as JSON",l?.toString()),null}}function En(n,e){return lr.apply(this,arguments)}function lr(){return(lr=(0,ae.Z)(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(i){throw i instanceof he.ZR&&function Wn({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})).apply(this,arguments)}class or{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),i}{this.errorBackoff=3e4;const l=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout((0,ae.Z)(function*(){yield t.iteration()}),i)}iteration(){var e=this;return(0,ae.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class Bn{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cn(this.lastLoginAt),this.creationTime=Cn(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ni(n){return Zt.apply(this,arguments)}function Zt(){return Zt=(0,ae.Z)(function*(n){var e;const t=n.auth,i=yield n.getIdToken(),l=yield En(n,function Ir(n,e){return yn.apply(this,arguments)}(t,{idToken:i}));dt(l?.users.length,t,"internal-error");const p=l.users[0];n._notifyReloadListener(p);const _=null!==(e=p.providerUserInfo)&&void 0!==e&&e.length?function at(n){return n.map(e=>{var{providerId:t}=e,i=(0,ke._T)(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}(p.providerUserInfo):[],T=function Gr(n,e){return[...n.filter(i=>!e.some(l=>l.providerId===i.providerId)),...e]}(n.providerData,_),ne=!!n.isAnonymous&&!(n.email&&p.passwordHash||T?.length),ge={uid:p.localId,displayName:p.displayName||null,photoURL:p.photoUrl||null,email:p.email||null,emailVerified:p.emailVerified||!1,phoneNumber:p.phoneNumber||null,tenantId:p.tenantId||null,providerData:T,metadata:new Bn(p.createdAt,p.lastLoginAt),isAnonymous:ne};Object.assign(n,ge)}),Zt.apply(this,arguments)}function Zr(){return(Zr=(0,ae.Z)(function*(n){const e=(0,he.m9)(n);yield ni(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function tt(){return(tt=(0,ae.Z)(function*(n,e){const t=yield Bt(n,{},(0,ae.Z)(function*(){const i=(0,he.xO)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:p}=n.config,_=cr(n,l,"/v1/token",`key=${p}`),T=yield n._getAdditionalHeaders();return T["Content-Type"]="application/x-www-form-urlencoded",Ke.fetch()(_,{method:"POST",headers:T,body:i})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class At{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){dt(e.idToken,"internal-error"),dt(typeof e.idToken<"u","internal-error"),dt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Cr(n){const e=Dr(n);return dt(e,"internal-error"),dt(typeof e.exp<"u","internal-error"),dt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var i=this;return(0,ae.Z)(function*(){return dt(!i.accessToken||i.refreshToken,e,"user-token-expired"),t||!i.accessToken||i.isExpired?i.refreshToken?(yield i.refresh(e,i.refreshToken),i.accessToken):null:i.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var i=this;return(0,ae.Z)(function*(){const{accessToken:l,refreshToken:p,expiresIn:_}=yield function Ne(n,e){return tt.apply(this,arguments)}(e,t);i.updateTokensAndExpiration(l,p,Number(_))})()}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(e,t){const{refreshToken:i,accessToken:l,expirationTime:p}=t,_=new At;return i&&(dt("string"==typeof i,"internal-error",{appName:e}),_.refreshToken=i),l&&(dt("string"==typeof l,"internal-error",{appName:e}),_.accessToken=l),p&&(dt("number"==typeof p,"internal-error",{appName:e}),_.expirationTime=p),_}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new At,this.toJSON())}_performRefresh(){return sn("not implemented")}}function zt(n,e){dt("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class Kt{constructor(e){var{uid:t,auth:i,stsTokenManager:l}=e,p=(0,ke._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new or(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=p.displayName||null,this.email=p.email||null,this.emailVerified=p.emailVerified||!1,this.phoneNumber=p.phoneNumber||null,this.photoURL=p.photoURL||null,this.isAnonymous=p.isAnonymous||!1,this.tenantId=p.tenantId||null,this.providerData=p.providerData?[...p.providerData]:[],this.metadata=new Bn(p.createdAt||void 0,p.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,ae.Z)(function*(){const i=yield En(t,t.stsTokenManager.getToken(t.auth,e));return dt(i,t.auth,"internal-error"),t.accessToken!==i&&(t.accessToken=i,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),i})()}getIdTokenResult(e){return function pn(n){return br.apply(this,arguments)}(this,e)}reload(){return function Yi(n){return Zr.apply(this,arguments)}(this)}_assign(e){this!==e&&(dt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Kt(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){dt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var i=this;return(0,ae.Z)(function*(){let l=!1;e.idToken&&e.idToken!==i.stsTokenManager.accessToken&&(i.stsTokenManager.updateFromServerResponse(e),l=!0),t&&(yield ni(i)),yield i.auth._persistUserIfCurrent(i),l&&i.auth._notifyListenersIfCurrent(i)})()}delete(){var e=this;return(0,ae.Z)(function*(){const t=yield e.getIdToken();return yield En(e,function Xe(n,e){return mt.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,l,p,_,T,F,H,ne;const ge=null!==(i=t.displayName)&&void 0!==i?i:void 0,$e=null!==(l=t.email)&&void 0!==l?l:void 0,ht=null!==(p=t.phoneNumber)&&void 0!==p?p:void 0,Ft=null!==(_=t.photoURL)&&void 0!==_?_:void 0,un=null!==(T=t.tenantId)&&void 0!==T?T:void 0,fn=null!==(F=t._redirectEventId)&&void 0!==F?F:void 0,Tr=null!==(H=t.createdAt)&&void 0!==H?H:void 0,ti=null!==(ne=t.lastLoginAt)&&void 0!==ne?ne:void 0,{uid:Rr,emailVerified:Ko,isAnonymous:Uo,providerData:is,stsTokenManager:Hc}=t;dt(Rr&&Hc,e,"internal-error");const Vg=At.fromJSON(this.name,Hc);dt("string"==typeof Rr,e,"internal-error"),zt(ge,e.name),zt($e,e.name),dt("boolean"==typeof Ko,e,"internal-error"),dt("boolean"==typeof Uo,e,"internal-error"),zt(ht,e.name),zt(Ft,e.name),zt(un,e.name),zt(fn,e.name),zt(Tr,e.name),zt(ti,e.name);const tI=new Kt({uid:Rr,auth:e,email:$e,emailVerified:Ko,displayName:ge,isAnonymous:Uo,photoURL:Ft,phoneNumber:ht,tenantId:un,stsTokenManager:Vg,createdAt:Tr,lastLoginAt:ti});return is&&Array.isArray(is)&&(tI.providerData=is.map(DA=>Object.assign({},DA))),fn&&(tI._redirectEventId=fn),tI}static _fromIdTokenResponse(e,t,i=!1){return(0,ae.Z)(function*(){const l=new At;l.updateFromServerResponse(t);const p=new Kt({uid:t.localId,auth:e,stsTokenManager:l,isAnonymous:i});return yield ni(p),p})()}}const qn=new Map;function J(n){_n(n instanceof Function,"Expected a class definition");let e=qn.get(n);return e?(_n(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,qn.set(n,e),e)}const j=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,ae.Z)(function*(){return!0})()}_set(t,i){var l=this;return(0,ae.Z)(function*(){l.storage[t]=i})()}_get(t){var i=this;return(0,ae.Z)(function*(){const l=i.storage[t];return void 0===l?null:l})()}_remove(t){var i=this;return(0,ae.Z)(function*(){delete i.storage[t]})()}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})();function q(n,e,t){return`firebase:${n}:${e}:${t}`}class z{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:l,name:p}=this.auth;this.fullUserKey=q(this.userKey,l.apiKey,p),this.fullPersistenceKey=q("persistence",l.apiKey,p),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,ae.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Kt._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,ae.Z)(function*(){if(t.persistence===e)return;const i=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,i?t.setCurrentUser(i):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return(0,ae.Z)(function*(){if(!t.length)return new z(J(j),e,i);const l=(yield Promise.all(t.map(function(){var H=(0,ae.Z)(function*(ne){if(yield ne._isAvailable())return ne});return function(ne){return H.apply(this,arguments)}}()))).filter(H=>H);let p=l[0]||J(j);const _=q(i,e.config.apiKey,e.name);let T=null;for(const H of t)try{const ne=yield H._get(_);if(ne){const ge=Kt._fromJSON(e,ne);H!==p&&(T=ge),p=H;break}}catch{}const F=l.filter(H=>H._shouldAllowMigration);return p._shouldAllowMigration&&F.length?(p=F[0],T&&(yield p._set(_,T.toJSON())),yield Promise.all(t.map(function(){var H=(0,ae.Z)(function*(ne){if(ne!==p)try{yield ne._remove(_)}catch{}});return function(ne){return H.apply(this,arguments)}}())),new z(p,e,i)):new z(p,e,i)})()}}function Te(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function hn(n=(0,he.z$)()){return/iemobile/i.test(n)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function Je(n=(0,he.z$)()){return/firefox\//i.test(n)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function Yt(n=(0,he.z$)()){return/blackberry/i.test(n)}(e))return"Blackberry";if(function Fn(n=(0,he.z$)()){return/webos/i.test(n)}(e))return"Webos";if(function Dt(n=(0,he.z$)()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function dn(n=(0,he.z$)()){return/crios\//i.test(n)}(e))&&!e.includes("edge/"))return"Chrome";if(function kn(n=(0,he.z$)()){return/android/i.test(n)}(e))return"Android";{const i=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===i?.length)return i[1]}return"Other"}function Ha(n,e=[]){let t;switch(n){case"Browser":t=Te((0,he.z$)());break;case"Worker":t=`${Te((0,he.z$)())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ie.Jn}/${i}`}function po(n,e){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,ae.Z)(function*(n,e){return Qt(n,"GET","/v2/recaptchaConfig",function Lt(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}(n,e))})).apply(this,arguments)}function ir(n){return void 0!==n&&void 0!==n.enterprise}class go{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}class Us{constructor(e){this.type="recaptcha-enterprise",this.auth=yi(e)}verify(e="verify",t=!1){var i=this;return(0,ae.Z)(function*(){function p(){return p=(0,ae.Z)(function*(T){if(!t){if(null==T.tenantId&&null!=T._agentRecaptchaConfig)return T._agentRecaptchaConfig.siteKey;if(null!=T.tenantId&&void 0!==T._tenantRecaptchaConfigs[T.tenantId])return T._tenantRecaptchaConfigs[T.tenantId].siteKey}return new Promise(function(){var F=(0,ae.Z)(function*(H,ne){po(T,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(ge=>{if(void 0!==ge.recaptchaKey){const $e=new go(ge);return null==T.tenantId?T._agentRecaptchaConfig=$e:T._tenantRecaptchaConfigs[T.tenantId]=$e,H($e.siteKey)}ne(new Error("recaptcha Enterprise site key undefined"))}).catch(ge=>{ne(ge)})});return function(H,ne){return F.apply(this,arguments)}}())}),p.apply(this,arguments)}function _(T,F,H){const ne=window.grecaptcha;ir(ne)?ne.enterprise.ready(()=>{ne.enterprise.execute(T,{action:e}).then(ge=>{F(ge)}).catch(()=>{F("NO_RECAPTCHA")})}):H(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((T,F)=>{(function l(T){return p.apply(this,arguments)})(i.auth).then(H=>{if(!t&&ir(window.grecaptcha))_(H,T,F);else{if(typeof window>"u")return void F(new Error("RecaptchaVerifier is only supported in browser"));(function Jo(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=l=>{const p=_e("internal-error");p.customData=l,t(p)},i.type="text/javascript",i.charset="UTF-8",function Yo(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(i)})})("https://www.google.com/recaptcha/enterprise.js?render="+H).then(()=>{_(H,T,F)}).catch(ne=>{F(ne)})}}).catch(H=>{F(H)})})})()}}class mo{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=p=>new Promise((_,T)=>{try{_(e(p))}catch(F){T(F)}});i.onAbort=t,this.queue.push(i);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return(0,ae.Z)(function*(){if(t.auth.currentUser===e)return;const i=[];try{for(const l of t.queue)yield l(e),l.onAbort&&i.push(l.onAbort)}catch(l){i.reverse();for(const p of i)try{p()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:l?.message})}})()}}class _a{constructor(e,t,i,l){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ya(this),this.idTokenSubscription=new ya(this),this.beforeStateQueue=new mo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Tt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion}_initializeWithPersistence(e,t){var i=this;return t&&(this._popupRedirectResolver=J(t)),this._initializationPromise=this.queue((0,ae.Z)(function*(){var l,p;if(!i._deleted&&(i.persistenceManager=yield z.create(i,e),!i._deleted)){if(null!==(l=i._popupRedirectResolver)&&void 0!==l&&l._shouldInitProactively)try{yield i._popupRedirectResolver._initialize(i)}catch{}yield i.initializeCurrentUser(t),i.lastNotifiedUid=(null===(p=i.currentUser)||void 0===p?void 0:p.uid)||null,!i._deleted&&(i._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,ae.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return(0,ae.Z)(function*(){var i;const l=yield t.assertedPersistence.getCurrentUser();let p=l,_=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const T=null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId,F=p?._redirectEventId,H=yield t.tryRedirectSignIn(e);(!T||T===F)&&H?.user&&(p=H.user,_=!0)}if(!p)return t.directlySetCurrentUser(null);if(!p._redirectEventId){if(_)try{yield t.beforeStateQueue.runMiddleware(p)}catch(T){p=l,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(T))}return p?t.reloadAndSetCurrentUserOrClear(p):t.directlySetCurrentUser(null)}return dt(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===p._redirectEventId?t.directlySetCurrentUser(p):t.reloadAndSetCurrentUserOrClear(p)})()}tryRedirectSignIn(e){var t=this;return(0,ae.Z)(function*(){let i=null;try{i=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return i})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,ae.Z)(function*(){try{yield ni(e)}catch(i){if("auth/network-request-failed"!==i?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function je(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return(0,ae.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,ae.Z)(function*(){const i=e?(0,he.m9)(e):null;return i&&dt(i.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(i&&i._clone(t))})()}_updateCurrentUser(e,t=!1){var i=this;return(0,ae.Z)(function*(){if(!i._deleted)return e&&dt(i.tenantId===e.tenantId,i,"tenant-id-mismatch"),t||(yield i.beforeStateQueue.runMiddleware(e)),i.queue((0,ae.Z)(function*(){yield i.directlySetCurrentUser(e),i.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,ae.Z)(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue((0,ae.Z)(function*(){yield t.assertedPersistence.setPersistence(J(e))}))}initializeRecaptchaConfig(){var e=this;return(0,ae.Z)(function*(){const t=yield po(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),i=new go(t);null==e.tenantId?e._agentRecaptchaConfig=i:e._tenantRecaptchaConfigs[e.tenantId]=i,i.emailPasswordEnabled&&new Us(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new he.LL("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var i=this;return(0,ae.Z)(function*(){const l=yield i.getOrInitRedirectPersistenceManager(t);return null===e?l.removeCurrentUser():l.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,ae.Z)(function*(){if(!t.redirectPersistenceManager){const i=e&&J(e)||t._popupRedirectResolver;dt(i,t,"argument-error"),t.redirectPersistenceManager=yield z.create(t,[J(i._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,ae.Z)(function*(){var i,l;return t._isInitialized&&(yield t.queue((0,ae.Z)(function*(){}))),(null===(i=t._currentUser)||void 0===i?void 0:i._redirectEventId)===e?t._currentUser:(null===(l=t.redirectUser)||void 0===l?void 0:l._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,ae.Z)(function*(){if(e===t.currentUser)return t.queue((0,ae.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,l){if(this._deleted)return()=>{};const p="function"==typeof t?t:t.next.bind(t),_=this._isInitialized?Promise.resolve():this._initializationPromise;return dt(_,this,"internal-error"),_.then(()=>p(this.currentUser)),"function"==typeof t?e.addObserver(t,i,l):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return(0,ae.Z)(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return dt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ha(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,ae.Z)(function*(){var t;const i={"X-Client-Version":e.clientVersion};e.app.options.appId&&(i["X-Firebase-gmpid"]=e.app.options.appId);const l=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();l&&(i["X-Firebase-Client"]=l);const p=yield e._getAppCheckToken();return p&&(i["X-Firebase-AppCheck"]=p),i})()}_getAppCheckToken(){var e=this;return(0,ae.Z)(function*(){var t;const i=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return i?.error&&function yt(n,...e){rt.logLevel<=Ee.in.WARN&&rt.warn(`Auth (${Ie.Jn}): ${n}`,...e)}(`Error while retrieving App Check token: ${i.error}`),i?.token})()}}function yi(n){return(0,he.m9)(n)}class ya{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,he.ne)(t=>this.observer=t)}get next(){return dt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function ja(n){return`__${n}${Math.floor(1e6*Math.random())}`})("rcb"),new Ze(3e4,6e4),new Ze(2e3,1e4),new Ze(3e4,6e4),new Ze(5e3,15e3),encodeURIComponent("fac");var B_="@firebase/auth";class m0{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,ae.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){dt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,he.Pz)("authIdTokenMaxAge"),function ua(n){(0,Ie.Xd)(new re.wA("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),p=e.getProvider("app-check-internal"),{apiKey:_,authDomain:T}=i.options;dt(_&&!_.includes(":"),"invalid-api-key",{appName:i.name});const F={apiKey:_,authDomain:T,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ha(n)},H=new _a(i,l,p,F);return function _o(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(J);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}(H,t),H},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),(0,Ie.Xd)(new re.wA("auth-internal",e=>{const t=yi(e.getProvider("auth").getImmediate());return new m0(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ie.KN)(B_,"0.23.2",function H_(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),(0,Ie.KN)(B_,"0.23.2","esm2017")}("Browser");class $_{constructor(){return(0,b.vb)("auth")}}const Qg=new Map,Q_={activated:!1,tokenObservers:[]},rI={initialized:!1,enabled:!1};function es(n){return Qg.get(n)||Object.assign({},Q_)}function df(){return rI}const Xg="https://content-firebaseappcheck.googleapis.com/v1",Op="exchangeDebugToken",ey={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class C0{constructor(e,t,i,l,p){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=l,this.upperBound=p,this.pending=null,this.nextErrorWaitInterval=l,l>p)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ae.Z)(function*(){t.stop();try{t.pending=new he.BH,yield function Np(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new he.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Qs=new he.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function tm(n){if(!es(n).activated)throw Qs.create("use-before-activation",{appName:n.name})}function md(n,e){return _d.apply(this,arguments)}function _d(){return(_d=(0,ae.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},l=t.getImmediate({optional:!0});if(l){const ge=yield l.getHeartbeatsHeader();ge&&(i["X-Firebase-Client"]=ge)}const p={method:"POST",body:JSON.stringify(e),headers:i};let _,T;try{_=yield fetch(n,p)}catch(ge){throw Qs.create("fetch-network-error",{originalErrorMessage:ge?.message})}if(200!==_.status)throw Qs.create("fetch-status-error",{httpStatus:_.status});try{T=yield _.json()}catch(ge){throw Qs.create("fetch-parse-error",{originalErrorMessage:ge?.message})}const F=T.ttl.match(/^([\d.]+)(s)$/);if(!F||!F[2]||isNaN(Number(F[1])))throw Qs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${T.ttl}`});const H=1e3*Number(F[1]),ne=Date.now();return{token:T.token,expireTimeMillis:ne+H,issuedAtTimeMillis:ne}})).apply(this,arguments)}function S0(n,e){const{projectId:t,appId:i,apiKey:l}=n.options;return{url:`${Xg}/projects/${t}/apps/${i}:${Op}?key=${l}`,body:{debug_token:e}}}const ki="firebase-app-check-database",A0=1,yd="firebase-app-check-store";let Il=null;function iy(){return(iy=(0,ae.Z)(function*(n,e){const i=(yield function xp(){return Il||(Il=new Promise((n,e)=>{try{const t=indexedDB.open(ki,A0);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var l;e(Qs.create("storage-open",{originalErrorMessage:null===(l=i.target.error)||void 0===l?void 0:l.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(yd,{keyPath:"compositeKey"})}}catch(t){e(Qs.create("storage-open",{originalErrorMessage:t?.message}))}}),Il)}()).transaction(yd,"readwrite"),p=i.objectStore(yd).put({compositeKey:n,value:e});return new Promise((_,T)=>{p.onsuccess=F=>{_()},i.onerror=F=>{var H;T(Qs.create("storage-set",{originalErrorMessage:null===(H=F.target.error)||void 0===H?void 0:H.message}))}})})).apply(this,arguments)}const uh=new Ee.Yd("@firebase/app-check");function kp(n,e){return(0,he.hl)()?function rm(n,e){return function ry(n,e){return iy.apply(this,arguments)}(function sy(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{uh.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Fp(){return df().enabled}function om(){return Lu.apply(this,arguments)}function Lu(){return(Lu=(0,ae.Z)(function*(){const n=df();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const M0={error:"UNKNOWN_ERROR"};function aI(n){return he.US.encodeString(JSON.stringify(n),!1)}function am(n){return dh.apply(this,arguments)}function dh(){return(dh=(0,ae.Z)(function*(n,e=!1){const t=n.app;tm(t);const i=es(t);let p,l=i.token;if(l&&!Uu(l)&&(i.token=void 0,l=void 0),!l){const F=yield i.cachedTokenPromise;F&&(Uu(F)?l=F:yield kp(t,void 0))}if(!e&&l&&Uu(l))return{token:l.token};let T,_=!1;if(Fp()){i.exchangeTokenPromise||(i.exchangeTokenPromise=md(S0(t,yield om()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),_=!0);const F=yield i.exchangeTokenPromise;return yield kp(t,F),i.token=F,{token:F.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),_=!0),l=yield es(t).exchangeTokenPromise}catch(F){"appCheck/throttled"===F.code?uh.warn(F.message):uh.error(F),p=F}return l?p?T=Uu(l)?{token:l.token,internalError:p}:R0(p):(T={token:l.token},i.token=l,yield kp(t,l)):T=R0(p),_&&function Vp(n,e){const t=es(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}(t,T),T})).apply(this,arguments)}function ay(n){return Lp.apply(this,arguments)}function Lp(){return(Lp=(0,ae.Z)(function*(n){const e=n.app;tm(e);const{provider:t}=es(e);if(Fp()){const i=yield om(),{token:l}=yield md(S0(e,i),n.heartbeatServiceProvider);return{token:l}}{const{token:i}=yield t.getToken();return{token:i}}})).apply(this,arguments)}function cm(n,e){const t=es(n),i=t.tokenObservers.filter(l=>l.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function Bp(n){const{app:e}=n,t=es(e);let i=t.tokenRefresher;i||(i=function x0(n){const{app:e}=n;return new C0((0,ae.Z)(function*(){let i;if(i=es(e).token?yield am(n,!0):yield am(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=es(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},ey.RETRIAL_MIN_WAIT,ey.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function Uu(n){return n.expireTimeMillis-Date.now()>0}function R0(n){return{token:aI(M0),error:n}}class P0{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=es(this.app);for(const t of e)cm(this.app,t.next);return Promise.resolve()}}const pf="app-check-internal";!function dm(){(0,Ie.Xd)(new re.wA("app-check",n=>function cy(n,e){return new P0(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(pf).initialize()})),(0,Ie.Xd)(new re.wA(pf,n=>function cI(n){return{getToken:e=>am(n,e),getLimitedUseToken:()=>ay(n),addTokenListener:e=>function Up(n,e,t,i){const{app:l}=n,p=es(l);if(p.tokenObservers=[...p.tokenObservers,{next:t,error:i,type:e}],p.token&&Uu(p.token)){const T=p.token;Promise.resolve().then(()=>{t({token:T.token}),Bp(n)}).catch(()=>{})}p.cachedTokenPromise.then(()=>Bp(n))}(n,"INTERNAL",e),removeTokenListener:e=>cm(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ie.KN)("@firebase/app-check","0.8.0")}();class su{constructor(){return(0,b.vb)("app-check")}}typeof window<"u"&&window;var ln,hI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},El={},fI=fI||{},gr=hI||self;function H0(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function mf(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var pI="closure_uid_"+(1e9*Math.random()>>>0),HD=0;function gI(n,e,t){return n.call.apply(n.bind,arguments)}function G0(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,i),n.apply(e,l)}}return function(){return n.apply(e,arguments)}}function xa(n,e,t){return(xa=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?gI:G0).apply(null,arguments)}function vy(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Ro(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,l,p){for(var _=Array(arguments.length-2),T=2;T<arguments.length;T++)_[T-2]=arguments[T];return e.prototype[l].apply(i,_)}}function ou(){this.s=this.s,this.o=this.o}ou.prototype.s=!1,ou.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function j0(n){Object.prototype.hasOwnProperty.call(n,pI)&&n[pI]||(n[pI]=++HD)}(this)},ou.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const by=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function bd(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function mI(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(H0(i)){const l=n.length||0,p=i.length||0;n.length=l+p;for(let _=0;_<p;_++)n[l+_]=i[_]}else n.push(i)}}function bs(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}bs.prototype.h=function(){this.defaultPrevented=!0};var gh=function(){if(!gr.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{gr.addEventListener("test",()=>{},e),gr.removeEventListener("test",()=>{},e)}catch{}return n}();function gm(n){return/^[\s\xa0]*$/.test(n)}function _f(){var n=gr.navigator;return n&&(n=n.userAgent)?n:""}function Pc(n){return-1!=_f().indexOf(n)}function wy(n){return wy[" "](n),n}wy[" "]=function(){};var Wp,n,yI=Pc("Opera"),wd=Pc("Trident")||Pc("MSIE"),Iy=Pc("Edge"),$0=Iy||wd,vI=Pc("Gecko")&&!(-1!=_f().toLowerCase().indexOf("webkit")&&!Pc("Edge"))&&!(Pc("Trident")||Pc("MSIE"))&&!Pc("Edge"),zp=-1!=_f().toLowerCase().indexOf("webkit")&&!Pc("Edge");function yf(){var n=gr.document;return n?n.documentMode:void 0}e:{var mm="",vf=(n=_f(),vI?/rv:([^\);]+)(\)|;)/.exec(n):Iy?/Edge\/([\d\.]+)/.exec(n):wd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):zp?/WebKit\/(\S+)/.exec(n):yI?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(vf&&(mm=vf?vf[1]:""),wd){var _m=yf();if(null!=_m&&_m>parseFloat(mm)){Wp=String(_m);break e}}Wp=mm}var bf=gr.document&&wd&&(yf()||parseInt(Wp,10))||void 0;function kc(n,e){if(bs.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(vI){e:{try{wy(e.nodeName);var l=!0;break e}catch{}l=!1}l||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Ty[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&kc.$.h.call(this)}}Ro(kc,bs);var Ty={2:"touch",3:"pen",4:"mouse"};kc.prototype.h=function(){kc.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var mh="closure_listenable_"+(1e6*Math.random()|0),bI=0;function Dy(n,e,t,i,l){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=l,this.key=++bI,this.fa=this.ia=!1}function qp(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function wf(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function wI(n){const e={};for(const t in n)e[t]=n[t];return e}const Zp="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Kp(n,e){let t,i;for(let l=1;l<arguments.length;l++){for(t in i=arguments[l],i)n[t]=i[t];for(let p=0;p<Zp.length;p++)t=Zp[p],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function Yp(n){this.src=n,this.g={},this.h=0}function Ef(n,e){var t=e.type;if(t in n.g){var p,i=n.g[t],l=by(i,e);(p=0<=l)&&Array.prototype.splice.call(i,l,1),p&&(qp(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function _h(n,e,t,i){for(var l=0;l<n.length;++l){var p=n[l];if(!p.fa&&p.listener==e&&p.capture==!!t&&p.la==i)return l}return-1}Yp.prototype.add=function(n,e,t,i,l){var p=n.toString();(n=this.g[p])||(n=this.g[p]=[],this.h++);var _=_h(n,e,i,l);return-1<_?(e=n[_],t||(e.ia=!1)):((e=new Dy(e,this.src,p,!!i,l)).ia=t,n.push(e)),e};var Fc="closure_lm_"+(1e6*Math.random()|0),Bu={};function Jp(n,e,t,i,l){if(i&&i.once)return z0(n,e,t,i,l);if(Array.isArray(e)){for(var p=0;p<e.length;p++)Jp(n,e[p],t,i,l);return null}return t=q0(t),n&&n[mh]?n.O(e,t,mf(i)?!!i.capture:!!i,l):Cy(n,e,t,!1,i,l)}function Cy(n,e,t,i,l,p){if(!e)throw Error("Invalid event type");var _=mf(l)?!!l.capture:!!l,T=vm(n);if(T||(n[Fc]=T=new Yp(n)),(t=T.add(e,t,i,_,p)).proxy)return t;if(i=function MT(){const e=xT;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)gh||(l=_),void 0===l&&(l=!1),n.addEventListener(e.toString(),i,l);else if(n.attachEvent)n.attachEvent(W0(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function z0(n,e,t,i,l){if(Array.isArray(e)){for(var p=0;p<e.length;p++)z0(n,e[p],t,i,l);return null}return t=q0(t),n&&n[mh]?n.P(e,t,mf(i)?!!i.capture:!!i,l):Cy(n,e,t,!0,i,l)}function Id(n,e,t,i,l){if(Array.isArray(e))for(var p=0;p<e.length;p++)Id(n,e[p],t,i,l);else i=mf(i)?!!i.capture:!!i,t=q0(t),n&&n[mh]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=_h(p=n.g[e],t,i,l))&&(qp(p[t]),Array.prototype.splice.call(p,t,1),0==p.length&&(delete n.g[e],n.h--))):n&&(n=vm(n))&&(e=n.g[e.toString()],n=-1,e&&(n=_h(e,t,i,l)),(t=-1<n?e[n]:null)&&Sy(t))}function Sy(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[mh])Ef(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(W0(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=vm(e))?(Ef(t,n),0==t.h&&(t.src=null,e[Fc]=null)):qp(n)}}}function W0(n){return n in Bu?Bu[n]:Bu[n]="on"+n}function xT(n,e){if(n.fa)n=!0;else{e=new kc(e,this);var t=n.listener,i=n.la||n.src;n.ia&&Sy(n),n=t.call(i,e)}return n}function vm(n){return(n=n[Fc])instanceof Yp?n:null}var Ay="__closure_events_fn_"+(1e9*Math.random()>>>0);function q0(n){return"function"==typeof n?n:(n[Ay]||(n[Ay]=function(e){return n.handleEvent(e)}),n[Ay])}function Wo(){ou.call(this),this.i=new Yp(this),this.S=this,this.J=null}function ao(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new bs(e,n);else if(e instanceof bs)e.target=e.target||n;else{var l=e;Kp(e=new bs(i,n),l)}if(l=!0,t)for(var p=t.length-1;0<=p;p--){var _=e.g=t[p];l=Z0(_,i,!0,e)&&l}if(l=Z0(_=e.g=n,i,!0,e)&&l,l=Z0(_,i,!1,e)&&l,t)for(p=0;p<t.length;p++)l=Z0(_=e.g=t[p],i,!1,e)&&l}function Z0(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var l=!0,p=0;p<e.length;++p){var _=e[p];if(_&&!_.fa&&_.capture==t){var T=_.listener,F=_.la||_.src;_.ia&&Ef(n.i,_),l=!1!==T.call(F,i)&&l}}return l&&!i.defaultPrevented}Ro(Wo,ou),Wo.prototype[mh]=!0,Wo.prototype.removeEventListener=function(n,e,t,i){Id(this,n,e,t,i)},Wo.prototype.N=function(){if(Wo.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)qp(t[i]);delete n.g[e],n.h--}}this.J=null},Wo.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Wo.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var K0=gr.JSON.stringify;function RT(){var n=wm;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var J0=new class Y0{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new bm,n=>n.reset());class bm{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function II(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function Q0(n){gr.setTimeout(()=>{throw n},0)}let Tf,Vu=!1,wm=new class jD{constructor(){this.h=this.g=null}add(e,t){const i=J0.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},Oy=()=>{const n=gr.Promise.resolve(void 0);Tf=()=>{n.then(Im)}};var Im=()=>{for(var n;n=RT();){try{n.h.call(n.g)}catch(t){Q0(t)}var e=J0;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Vu=!1};function Df(n,e){Wo.call(this),this.h=n||1,this.g=e||gr,this.j=xa(this.qb,this),this.l=Date.now()}function yh(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Cf(n,e,t){if("function"==typeof n)t&&(n=xa(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=xa(n.handleEvent,n)}return 2147483647<Number(e)?-1:gr.setTimeout(n,e||0)}function Ny(n){n.g=Cf(()=>{n.g=null,n.i&&(n.i=!1,Ny(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ro(Df,Wo),(ln=Df.prototype).ga=!1,ln.T=null,ln.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ao(this,"tick"),this.ga&&(yh(this),this.start()))}},ln.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ln.N=function(){Df.$.N.call(this),yh(this),delete this.g};class My extends ou{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ny(this)}N(){super.N(),this.g&&(gr.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xy(n){ou.call(this),this.h=n,this.g={}}Ro(xy,ou);var Ry=[];function Sf(n,e,t,i){Array.isArray(t)||(t&&(Ry[0]=t.toString()),t=Ry);for(var l=0;l<t.length;l++){var p=Jp(e,t[l],i||n.handleEvent,!1,n.h||n);if(!p)break;n.g[p.key]=p}}function EI(n){wf(n.g,function(e,t){this.g.hasOwnProperty(t)&&Sy(e)},n),n.g={}}function Em(){this.g=!0}function vh(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function kT(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var l=i[1];if(Array.isArray(l)&&!(1>l.length)){var p=l[0];if("noop"!=p&&"stop"!=p&&"close"!=p)for(var _=1;_<l.length;_++)l[_]=""}}}return K0(t)}catch{return e}}(n,t)+(i?" "+i:"")})}xy.prototype.N=function(){xy.$.N.call(this),EI(this)},xy.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Em.prototype.Ea=function(){this.g=!1},Em.prototype.info=function(){};var Af={},FT=null;function ky(){return FT=FT||new Wo}function Tm(n){bs.call(this,Af.Ta,n)}function Ed(n){const e=ky();ao(e,new Tm(e))}function DI(n,e){bs.call(this,Af.STAT_EVENT,n),this.stat=e}function Xa(n){const e=ky();ao(e,new DI(e,n))}function Fy(n,e){bs.call(this,Af.Ua,n),this.size=e}function bh(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return gr.setTimeout(function(){n()},e)}Af.Ta="serverreachability",Ro(Tm,bs),Af.STAT_EVENT="statevent",Ro(DI,bs),Af.Ua="timingevent",Ro(Fy,bs);var Qp={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},X0={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function eb(){}function LT(){}eb.prototype.h=null;var wh,Xp={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function eg(){bs.call(this,"d")}function nb(){bs.call(this,"c")}function Ih(){}function Of(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new xy(this),this.P=UT,this.V=new Df(n=$0?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new rb}function rb(){this.i=null,this.g="",this.h=!1}Ro(eg,bs),Ro(nb,bs),Ro(Ih,eb),Ih.prototype.g=function(){return new XMLHttpRequest},Ih.prototype.i=function(){return{}},wh=new Ih;var UT=45e3,Ly={},Uy={};function By(n,e,t){n.L=1,n.v=Sm(au(e)),n.s=t,n.S=!0,ib(n,null)}function ib(n,e){n.G=Date.now(),Nf(n),n.A=au(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),Am(t.i,"t",i),n.C=0,t=n.l.J,n.h=new rb,n.g=yb(n.l,t?e:null,!n.s),0<n.O&&(n.M=new My(xa(n.Pa,n,n.g),n.O)),Sf(n.U,n.g,"readystatechange",n.nb),e=n.I?wI(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Ed(),function TI(n,e,t,i,l,p){n.info(function(){if(n.g)if(p)for(var _="",T=p.split("&"),F=0;F<T.length;F++){var H=T[F].split("=");if(1<H.length){var ne=H[0];H=H[1];var ge=ne.split("_");_=2<=ge.length&&"type"==ge[1]?_+(ne+"=")+H+"&":_+(ne+"=redacted&")}}else _=null;else _=p;return"XMLHTTP REQ ("+i+") [attempt "+l+"]: "+e+"\n"+t+"\n"+_})}(n.j,n.u,n.A,n.m,n.W,n.s)}function Vy(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function BT(n,e,t){let l,i=!0;for(;!n.J&&n.C<t.length;){if(l=tg(n,t),l==Uy){4==e&&(n.o=4,Xa(14),i=!1),vh(n.j,n.m,null,"[Incomplete Response]");break}if(l==Ly){n.o=4,Xa(15),vh(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}vh(n.j,n.m,l,null),Cm(n,l)}Vy(n)&&l!=Uy&&l!=Ly&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Xa(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),ju(e),e.M=!0,Xa(11))):(vh(n.j,n.m,t,"[Invalid Chunked Response]"),Td(n),ng(n))}function tg(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?Uy:(t=Number(e.substring(t,i)),isNaN(t)?Ly:(i+=1)+t>e.length?Uy:(e=e.slice(i,i+t),n.C=i+t,e))}function Nf(n){n.Y=Date.now()+n.P,sb(n,n.P)}function sb(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=bh(xa(n.lb,n),e)}function Dm(n){n.B&&(gr.clearTimeout(n.B),n.B=null)}function ng(n){0==n.l.H||n.J||xm(n.l,n)}function Td(n){Dm(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,yh(n.V),EI(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function Cm(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||fb(t.i,n)))if(!n.K&&fb(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var l=i;if(0==l[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Md(t),Nd(t)}lu(t),Xa(18)}}else t.Fa=l[1],0<t.Fa-t.V&&37500>l[2]&&t.G&&0==t.A&&!t.v&&(t.v=bh(xa(t.ib,t),6e3));if(1>=zy(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else uu(t,11)}else if((n.K||t.g==n)&&Md(t),!gm(e))for(l=t.Ja.g.parse(e),e=0;e<l.length;e++){let H=l[e];if(t.V=H[0],H=H[1],2==t.H)if("c"==H[0]){t.K=H[1],t.pa=H[2];const ne=H[3];null!=ne&&(t.ra=ne,t.l.info("VER="+t.ra));const ge=H[4];null!=ge&&(t.Ga=ge,t.l.info("SVER="+t.Ga));const $e=H[5];null!=$e&&"number"==typeof $e&&0<$e&&(t.L=i=1.5*$e,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const ht=n.g;if(ht){const Ft=ht.g?ht.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ft){var p=i.i;p.g||-1==Ft.indexOf("spdy")&&-1==Ft.indexOf("quic")&&-1==Ft.indexOf("h2")||(p.j=p.l,p.g=new Set,p.h&&(Om(p,p.h),p.h=null))}if(i.F){const un=ht.g?ht.g.getResponseHeader("X-HTTP-Session-Id"):null;un&&(i.Da=un,gi(i.I,i.F,un))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var _=n;if((i=t).wa=Rm(i,i.J?i.pa:null,i.Y),_.K){Th(i.i,_);var T=_,F=i.L;F&&T.setTimeout(F),T.B&&(Dm(T),Nf(T)),i.g=_}else tc(i);0<t.j.length&&Hu(t)}else"stop"!=H[0]&&"close"!=H[0]||uu(t,7);else 3==t.H&&("stop"==H[0]||"close"==H[0]?"stop"==H[0]?uu(t,7):kf(t):"noop"!=H[0]&&t.h&&t.h.Aa(H),t.A=0)}Ed()}catch{}}function AI(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(H0(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function SI(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(H0(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function CI(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(H0(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),l=i.length,p=0;p<l;p++)e.call(void 0,i[p],t&&t[p],n)}(ln=Of.prototype).setTimeout=function(n){this.P=n},ln.nb=function(n){n=n.target;const e=this.M;e&&3==ec(n)?e.l():this.Pa(n)},ln.Pa=function(n){try{if(n==this.g)e:{const ne=ec(this.g);var e=this.g.Ia();if(this.g.da(),!(3>ne)&&(3!=ne||$0||this.g&&(this.h.h||this.g.ja()||Pf(this.g)))){this.J||4!=ne||7==e||Ed(),Dm(this);var t=this.g.da();this.ca=t;t:if(Vy(this)){var i=Pf(this.g);n="";var l=i.length,p=4==ec(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Td(this),ng(this);var _="";break t}this.h.i=new gr.TextDecoder}for(e=0;e<l;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:p&&e==l-1});i.splice(0,l),this.h.g+=n,this.C=0,_=this.h.g}else _=this.g.ja();if(this.i=200==t,function PT(n,e,t,i,l,p,_){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+l+"]: "+e+"\n"+t+"\n"+p+" "+_})}(this.j,this.u,this.A,this.m,this.W,ne,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var T,F=this.g;if((T=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!gm(T)){var H=T;break t}}H=null}if(!(t=H)){this.i=!1,this.o=3,Xa(12),Td(this),ng(this);break e}vh(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Cm(this,t)}this.S?(BT(this,ne,_),$0&&this.i&&3==ne&&(Sf(this.U,this.V,"tick",this.mb),this.V.start())):(vh(this.j,this.m,_,null),Cm(this,_)),4==ne&&Td(this),this.i&&!this.J&&(4==ne?xm(this.l,this):(this.i=!1,Nf(this)))}else(function og(n){const e={};n=(n.g&&2<=ec(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(gm(n[i]))continue;var t=II(n[i]);const l=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const p=e[l]||[];e[l]=p,p.push(t)}!function If(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<_.indexOf("Unknown SID")?(this.o=3,Xa(12)):(this.o=0,Xa(13)),Td(this),ng(this)}}}catch{}},ln.mb=function(){if(this.g){var n=ec(this.g),e=this.g.ja();this.C<e.length&&(Dm(this),BT(this,n,e),this.i&&4!=n&&Nf(this))}},ln.cancel=function(){this.J=!0,Td(this)},ln.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Py(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Ed(),Xa(17)),Td(this),this.o=2,ng(this)):sb(this,this.Y-n)};var Hy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function da(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof da){this.h=n.h,jy(this,n.j),this.s=n.s,this.g=n.g,Mf(this,n.m),this.l=n.l;var e=n.i,t=new sg;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Dd(this,t),this.o=n.o}else n&&(e=String(n).match(Hy))?(this.h=!1,jy(this,e[1]||"",!0),this.s=rg(e[2]||""),this.g=rg(e[3]||"",!0),Mf(this,e[4]),this.l=rg(e[5]||"",!0),Dd(this,e[6]||"",!0),this.o=rg(e[7]||"")):(this.h=!1,this.i=new sg(null,this.h))}function au(n){return new da(n)}function jy(n,e,t){n.j=t?rg(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Mf(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Dd(n,e,t){e instanceof sg?(n.i=e,function ub(n,e){e&&!n.j&&(cu(n),n.i=null,n.g.forEach(function(t,i){var l=i.toLowerCase();i!=l&&(cb(this,i),Am(this,l,t))},n)),n.j=e}(n.i,n.h)):(t||(e=ig(e,VT)),n.i=new sg(e,n.h))}function gi(n,e,t){n.i.set(e,t)}function Sm(n){return gi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function rg(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function ig(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Gy),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Gy(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}da.prototype.toString=function(){var n=[],e=this.j;e&&n.push(ig(e,Tl,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(ig(e,Tl,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(ig(t,"/"==t.charAt(0)?OI:ab,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",ig(t,qo)),n.join("")};var Tl=/[#\/\?@]/g,ab=/[#\?:]/g,OI=/[#\?]/g,VT=/[#\?@]/g,qo=/#/g;function sg(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function cu(n){n.g||(n.g=new Map,n.h=0,n.i&&function ob(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),l=null;if(0<=i){var p=n[t].substring(0,i);l=n[t].substring(i+1)}else p=n[t];e(p,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function cb(n,e){cu(n),e=Eh(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function lb(n,e){return cu(n),e=Eh(n,e),n.g.has(e)}function Am(n,e,t){cb(n,e),0<t.length&&(n.i=null,n.g.set(Eh(n,e),bd(t)),n.h+=t.length)}function Eh(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function $y(n){this.l=n||db,n=gr.PerformanceNavigationTiming?0<(n=gr.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(gr.g&&gr.g.Ka&&gr.g.Ka()&&gr.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ln=sg.prototype).add=function(n,e){cu(this),this.i=null,n=Eh(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ln.forEach=function(n,e){cu(this),this.g.forEach(function(t,i){t.forEach(function(l){n.call(e,l,i,this)},this)},this)},ln.ta=function(){cu(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const l=n[i];for(let p=0;p<l.length;p++)t.push(e[i])}return t},ln.Z=function(n){cu(this);let e=[];if("string"==typeof n)lb(this,n)&&(e=e.concat(this.g.get(Eh(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},ln.set=function(n,e){return cu(this),this.i=null,lb(this,n=Eh(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ln.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},ln.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const p=encodeURIComponent(String(i)),_=this.Z(i);for(i=0;i<_.length;i++){var l=p;""!==_[i]&&(l+="="+encodeURIComponent(String(_[i]))),n.push(l)}}return this.i=n.join("&")};var db=10;function hb(n){return!!n.h||!!n.g&&n.g.size>=n.j}function zy(n){return n.h?1:n.g?n.g.size:0}function fb(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Om(n,e){n.g?n.g.add(e):n.h=e}function Th(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function ha(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return bd(n.i)}$y.prototype.cancel=function(){if(this.i=ha(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var Dh=class{stringify(n){return gr.JSON.stringify(n,void 0)}parse(n){return gr.JSON.parse(n,void 0)}};function Wy(){this.g=new Dh}function qy(n,e,t){const i=t||"";try{AI(n,function(l,p){let _=l;mf(l)&&(_=K0(l)),e.push(i+p+"="+encodeURIComponent(_))})}catch(l){throw e.push(i+"type="+encodeURIComponent("_badmap")),l}}function fa(n,e,t,i,l){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,l(i)}catch{}}function Cd(n){this.l=n.fc||null,this.j=n.ob||!1}function Sd(n,e){Wo.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=Ad,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ro(Cd,eb),Cd.prototype.g=function(){return new Sd(this.l,this.j)},Cd.prototype.i=function(n){return function(){return n}}({}),Ro(Sd,Wo);var Ad=0;function Zy(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function el(n){n.readyState=4,n.l=null,n.j=null,n.A=null,xf(n)}function xf(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ln=Sd.prototype).open=function(n,e){if(this.readyState!=Ad)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,xf(this)},ln.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||gr).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},ln.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,el(this)),this.readyState=Ad},ln.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,xf(this)),this.g&&(this.readyState=3,xf(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof gr.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Zy(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},ln.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?el(this):xf(this),3==this.readyState&&Zy(this)}},ln.Za=function(n){this.g&&(this.response=this.responseText=n,el(this))},ln.Ya=function(n){this.g&&(this.response=n,el(this))},ln.ka=function(){this.g&&el(this)},ln.setRequestHeader=function(n,e){this.v.append(n,e)},ln.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ln.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Sd.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var MI=gr.JSON.parse;function Xs(n){Wo.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=pb,this.L=this.M=!1}Ro(Xs,Wo);var pb="",Ky=/^https?$/i,xI=["POST","PUT"];function gb(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Yy(n),Rf(n)}function Yy(n){n.F||(n.F=!0,ao(n,"complete"),ao(n,"error"))}function Jy(n){if(n.h&&typeof fI<"u"&&(!n.C[1]||4!=ec(n)||2!=n.da()))if(n.v&&4==ec(n))Cf(n.La,0,n);else if(ao(n,"readystatechange"),4==ec(n)){n.h=!1;try{const _=n.da();e:switch(_){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===_){var l=String(n.I).match(Hy)[1]||null;!l&&gr.self&&gr.self.location&&(l=gr.self.location.protocol.slice(0,-1)),i=!Ky.test(l?l.toLowerCase():"")}t=i}if(t)ao(n,"complete"),ao(n,"success");else{n.m=6;try{var p=2<ec(n)?n.g.statusText:""}catch{p=""}n.j=p+" ["+n.da()+"]",Yy(n)}}finally{Rf(n)}}}function Rf(n,e){if(n.g){RI(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||ao(n,"ready");try{t.onreadystatechange=i}catch{}}}function RI(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(gr.clearTimeout(n.A),n.A=null)}function ec(n){return n.g?n.g.readyState:0}function Pf(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case pb:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function ag(n){let e="";return wf(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function cg(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=ag(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):gi(n,e,t))}function Od(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function zn(n){this.Ga=0,this.j=[],this.l=new Em,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Od("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Od("baseRetryDelayMs",5e3,n),this.hb=Od("retryDelaySeedMs",1e4,n),this.eb=Od("forwardChannelMaxRetries",2,n),this.xa=Od("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new $y(n&&n.concurrentRequestLimit),this.Ja=new Wy,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function kf(n){if(Ch(n),3==n.H){var e=n.W++,t=au(n.I);if(gi(t,"SID",n.K),gi(t,"RID",e),gi(t,"TYPE","terminate"),Dl(n,t),(e=new Of(n,n.l,e)).L=2,e.v=Sm(au(t)),t=!1,gr.navigator&&gr.navigator.sendBeacon)try{t=gr.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&gr.Image&&((new Image).src=e.v,t=!0),t||(e.g=yb(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Nf(e)}_b(n)}function Nd(n){n.g&&(ju(n),n.g.cancel(),n.g=null)}function Ch(n){Nd(n),n.u&&(gr.clearTimeout(n.u),n.u=null),Md(n),n.i.cancel(),n.m&&("number"==typeof n.m&&gr.clearTimeout(n.m),n.m=null)}function Hu(n){if(!hb(n.i)&&!n.m){n.m=!0;var e=n.Na;Tf||Oy(),Vu||(Tf(),Vu=!0),wm.add(e,n),n.C=0}}function lg(n,e){var t;t=e?e.m:n.W++;const i=au(n.I);gi(i,"SID",n.K),gi(i,"RID",t),gi(i,"AID",n.V),Dl(n,i),n.o&&n.s&&cg(i,n.o,n.s),t=new Of(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=Cl(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),Om(n.i,t),By(t,i,e)}function Dl(n,e){n.na&&wf(n.na,function(t,i){gi(e,i,t)}),n.h&&AI({},function(t,i){gi(e,i,t)})}function Cl(n,e,t){t=Math.min(n.j.length,t);var i=n.h?xa(n.h.Va,n.h,n):null;e:{var l=n.j;let p=-1;for(;;){const _=["count="+t];-1==p?0<t?(p=l[0].g,_.push("ofs="+p)):p=0:_.push("ofs="+p);let T=!0;for(let F=0;F<t;F++){let H=l[F].g;const ne=l[F].map;if(H-=p,0>H)p=Math.max(0,l[F].g-100),T=!1;else try{qy(ne,_,"req"+H+"_")}catch{i&&i(ne)}}if(T){i=_.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function tc(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Tf||Oy(),Vu||(Tf(),Vu=!0),wm.add(e,n),n.A=0}}function lu(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=bh(xa(n.Ma,n),xd(n,n.A)),n.A++,0))}function ju(n){null!=n.B&&(gr.clearTimeout(n.B),n.B=null)}function Mm(n){n.g=new Of(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=au(n.wa);gi(e,"RID","rpc"),gi(e,"SID",n.K),gi(e,"AID",n.V),gi(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&gi(e,"TO",n.qa),gi(e,"TYPE","xmlhttp"),Dl(n,e),n.o&&n.s&&cg(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Sm(au(e)),t.s=null,t.S=!0,ib(t,n)}function Md(n){null!=n.v&&(gr.clearTimeout(n.v),n.v=null)}function xm(n,e){var t=null;if(n.g==e){Md(n),ju(n),n.g=null;var i=2}else{if(!fb(n.i,e))return;t=e.F,Th(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var l=n.C;ao(i=ky(),new Fy(i,t)),Hu(n)}else tc(n);else if(3==(l=e.o)||0==l&&0<e.ca||!(1==i&&function mb(n,e){return!(zy(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=bh(xa(n.Na,n,e),xd(n,n.C)),n.C++,0)))}(n,e)||2==i&&lu(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),l){case 1:uu(n,5);break;case 4:uu(n,10);break;case 3:uu(n,6);break;default:uu(n,2)}}function xd(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function uu(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=xa(n.pb,n);t||(t=new da("//www.google.com/images/cleardot.gif"),gr.location&&"http"==gr.location.protocol||jy(t,"https"),Sm(t)),function Nm(n,e){const t=new Em;if(gr.Image){const i=new Image;i.onload=vy(fa,t,i,"TestLoadImage: loaded",!0,e),i.onerror=vy(fa,t,i,"TestLoadImage: error",!1,e),i.onabort=vy(fa,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=vy(fa,t,i,"TestLoadImage: timeout",!1,e),gr.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Xa(2);n.H=0,n.h&&n.h.za(e),_b(n),Ch(n)}function _b(n){if(n.H=0,n.ma=[],n.h){const e=ha(n.i);(0!=e.length||0!=n.j.length)&&(mI(n.ma,e),mI(n.ma,n.j),n.i.i.length=0,bd(n.j),n.j.length=0),n.h.ya()}}function Rm(n,e,t){var i=t instanceof da?au(t):new da(t);if(""!=i.g)e&&(i.g=e+"."+i.g),Mf(i,i.m);else{var l=gr.location;i=l.protocol,e=e?e+"."+l.hostname:l.hostname,l=+l.port;var p=new da(null);i&&jy(p,i),e&&(p.g=e),l&&Mf(p,l),t&&(p.l=t),i=p}return e=n.Da,(t=n.F)&&e&&gi(i,t,e),gi(i,"VER",n.ra),Dl(n,i),i}function yb(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Xs(t&&n.Ha&&!n.va?new Cd({ob:!0}):n.va)).Oa(n.J),e}function vb(){}function Pm(){if(wd&&!(10<=Number(bf)))throw Error("Environmental error: no available transport.")}function ts(n,e){Wo.call(this),this.g=new zn(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!gm(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!gm(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Ff(this)}function Qy(n){eg.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function bb(){nb.call(this),this.status=1}function Ff(n){this.g=n}function du(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function vc(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var l=0;16>l;++l)i[l]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(l=0;16>l;++l)i[l]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var p=n.g[3],_=(e=n.g[0])+(p^(t=n.g[1])&((l=n.g[2])^p))+i[0]+3614090360&4294967295;_=(t=(l=(p=(e=(t=(l=(p=(e=(t=(l=(p=(e=(t=(l=(p=(e=(t=(l=(p=(e=(t=(l=(p=(e=(t=(l=(p=(e=(t=(l=(p=(e=(t=(l=(p=(e=(t=(l=(p=(e=(t=(l=(p=(e=(t=(l=(p=(e=(t=(l=(p=(e=(t=(l=(p=(e=(t=(l=(p=(e=t+(_<<7&4294967295|_>>>25))+((_=p+(l^e&(t^l))+i[1]+3905402710&4294967295)<<12&4294967295|_>>>20))+((_=l+(t^p&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|_>>>15))+((_=t+(e^l&(p^e))+i[3]+3250441966&4294967295)<<22&4294967295|_>>>10))+((_=e+(p^t&(l^p))+i[4]+4118548399&4294967295)<<7&4294967295|_>>>25))+((_=p+(l^e&(t^l))+i[5]+1200080426&4294967295)<<12&4294967295|_>>>20))+((_=l+(t^p&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|_>>>15))+((_=t+(e^l&(p^e))+i[7]+4249261313&4294967295)<<22&4294967295|_>>>10))+((_=e+(p^t&(l^p))+i[8]+1770035416&4294967295)<<7&4294967295|_>>>25))+((_=p+(l^e&(t^l))+i[9]+2336552879&4294967295)<<12&4294967295|_>>>20))+((_=l+(t^p&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|_>>>15))+((_=t+(e^l&(p^e))+i[11]+2304563134&4294967295)<<22&4294967295|_>>>10))+((_=e+(p^t&(l^p))+i[12]+1804603682&4294967295)<<7&4294967295|_>>>25))+((_=p+(l^e&(t^l))+i[13]+4254626195&4294967295)<<12&4294967295|_>>>20))+((_=l+(t^p&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|_>>>15))+((_=t+(e^l&(p^e))+i[15]+1236535329&4294967295)<<22&4294967295|_>>>10))+((_=e+(l^p&(t^l))+i[1]+4129170786&4294967295)<<5&4294967295|_>>>27))+((_=p+(t^l&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|_>>>23))+((_=l+(e^t&(p^e))+i[11]+643717713&4294967295)<<14&4294967295|_>>>18))+((_=t+(p^e&(l^p))+i[0]+3921069994&4294967295)<<20&4294967295|_>>>12))+((_=e+(l^p&(t^l))+i[5]+3593408605&4294967295)<<5&4294967295|_>>>27))+((_=p+(t^l&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|_>>>23))+((_=l+(e^t&(p^e))+i[15]+3634488961&4294967295)<<14&4294967295|_>>>18))+((_=t+(p^e&(l^p))+i[4]+3889429448&4294967295)<<20&4294967295|_>>>12))+((_=e+(l^p&(t^l))+i[9]+568446438&4294967295)<<5&4294967295|_>>>27))+((_=p+(t^l&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|_>>>23))+((_=l+(e^t&(p^e))+i[3]+4107603335&4294967295)<<14&4294967295|_>>>18))+((_=t+(p^e&(l^p))+i[8]+1163531501&4294967295)<<20&4294967295|_>>>12))+((_=e+(l^p&(t^l))+i[13]+2850285829&4294967295)<<5&4294967295|_>>>27))+((_=p+(t^l&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|_>>>23))+((_=l+(e^t&(p^e))+i[7]+1735328473&4294967295)<<14&4294967295|_>>>18))+((_=t+(p^e&(l^p))+i[12]+2368359562&4294967295)<<20&4294967295|_>>>12))+((_=e+(t^l^p)+i[5]+4294588738&4294967295)<<4&4294967295|_>>>28))+((_=p+(e^t^l)+i[8]+2272392833&4294967295)<<11&4294967295|_>>>21))+((_=l+(p^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|_>>>16))+((_=t+(l^p^e)+i[14]+4259657740&4294967295)<<23&4294967295|_>>>9))+((_=e+(t^l^p)+i[1]+2763975236&4294967295)<<4&4294967295|_>>>28))+((_=p+(e^t^l)+i[4]+1272893353&4294967295)<<11&4294967295|_>>>21))+((_=l+(p^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|_>>>16))+((_=t+(l^p^e)+i[10]+3200236656&4294967295)<<23&4294967295|_>>>9))+((_=e+(t^l^p)+i[13]+681279174&4294967295)<<4&4294967295|_>>>28))+((_=p+(e^t^l)+i[0]+3936430074&4294967295)<<11&4294967295|_>>>21))+((_=l+(p^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|_>>>16))+((_=t+(l^p^e)+i[6]+76029189&4294967295)<<23&4294967295|_>>>9))+((_=e+(t^l^p)+i[9]+3654602809&4294967295)<<4&4294967295|_>>>28))+((_=p+(e^t^l)+i[12]+3873151461&4294967295)<<11&4294967295|_>>>21))+((_=l+(p^e^t)+i[15]+530742520&4294967295)<<16&4294967295|_>>>16))+((_=t+(l^p^e)+i[2]+3299628645&4294967295)<<23&4294967295|_>>>9))+((_=e+(l^(t|~p))+i[0]+4096336452&4294967295)<<6&4294967295|_>>>26))+((_=p+(t^(e|~l))+i[7]+1126891415&4294967295)<<10&4294967295|_>>>22))+((_=l+(e^(p|~t))+i[14]+2878612391&4294967295)<<15&4294967295|_>>>17))+((_=t+(p^(l|~e))+i[5]+4237533241&4294967295)<<21&4294967295|_>>>11))+((_=e+(l^(t|~p))+i[12]+1700485571&4294967295)<<6&4294967295|_>>>26))+((_=p+(t^(e|~l))+i[3]+2399980690&4294967295)<<10&4294967295|_>>>22))+((_=l+(e^(p|~t))+i[10]+4293915773&4294967295)<<15&4294967295|_>>>17))+((_=t+(p^(l|~e))+i[1]+2240044497&4294967295)<<21&4294967295|_>>>11))+((_=e+(l^(t|~p))+i[8]+1873313359&4294967295)<<6&4294967295|_>>>26))+((_=p+(t^(e|~l))+i[15]+4264355552&4294967295)<<10&4294967295|_>>>22))+((_=l+(e^(p|~t))+i[6]+2734768916&4294967295)<<15&4294967295|_>>>17))+((_=t+(p^(l|~e))+i[13]+1309151649&4294967295)<<21&4294967295|_>>>11))+((p=(e=t+((_=e+(l^(t|~p))+i[4]+4149444226&4294967295)<<6&4294967295|_>>>26))+((_=p+(t^(e|~l))+i[11]+3174756917&4294967295)<<10&4294967295|_>>>22))^((l=p+((_=l+(e^(p|~t))+i[2]+718787259&4294967295)<<15&4294967295|_>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(l+(_<<21&4294967295|_>>>11))&4294967295,n.g[2]=n.g[2]+l&4294967295,n.g[3]=n.g[3]+p&4294967295}function Di(n,e){this.h=e;for(var t=[],i=!0,l=n.length-1;0<=l;l--){var p=0|n[l];i&&p==e||(t[l]=p,i=!1)}this.g=t}(ln=Xs.prototype).Oa=function(n){this.M=n},ln.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():wh.g(),this.C=function tb(n){return n.h||(n.h=n.i())}(this.u?this.u:wh),this.g.onreadystatechange=xa(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(p){return void gb(this,p)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var l in i)t.set(l,i[l]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const p of i.keys())t.set(p,i.get(p))}i=Array.from(t.keys()).find(p=>"content-type"==p.toLowerCase()),l=gr.FormData&&n instanceof gr.FormData,!(0<=by(xI,e))||i||l||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[p,_]of t)this.g.setRequestHeader(p,_);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{RI(this),0<this.B&&((this.L=function HT(n){return wd&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=xa(this.ua,this)):this.A=Cf(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(p){gb(this,p)}},ln.ua=function(){typeof fI<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ao(this,"timeout"),this.abort(8))},ln.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ao(this,"complete"),ao(this,"abort"),Rf(this))},ln.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Rf(this,!0)),Xs.$.N.call(this)},ln.La=function(){this.s||(this.G||this.v||this.l?Jy(this):this.kb())},ln.kb=function(){Jy(this)},ln.isActive=function(){return!!this.g},ln.da=function(){try{return 2<ec(this)?this.g.status:-1}catch{return-1}},ln.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},ln.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),MI(e)}},ln.Ia=function(){return this.m},ln.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ln=zn.prototype).ra=8,ln.H=1,ln.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const l=new Of(this,this.l,n);let p=this.s;if(this.U&&(p?(p=wI(p),Kp(p,this.U)):p=this.U),null!==this.o||this.O||(l.I=p,p=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Cl(this,l,e),gi(t=au(this.I),"RID",n),gi(t,"CVER",22),this.F&&gi(t,"X-HTTP-Session-Id",this.F),Dl(this,t),p&&(this.O?e="headers="+encodeURIComponent(String(ag(p)))+"&"+e:this.o&&cg(t,this.o,p)),Om(this.i,l),this.bb&&gi(t,"TYPE","init"),this.P?(gi(t,"$req",e),gi(t,"SID","null"),l.aa=!0,By(l,t,null)):By(l,t,e),this.H=2}}else 3==this.H&&(n?lg(this,n):0==this.j.length||hb(this.i)||lg(this))},ln.Ma=function(){if(this.u=null,Mm(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=bh(xa(this.jb,this),n)}},ln.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Xa(10),Nd(this),Mm(this))},ln.ib=function(){null!=this.v&&(this.v=null,Nd(this),lu(this),Xa(19))},ln.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Xa(2)):(this.l.info("Failed to ping google.com"),Xa(1))},ln.isActive=function(){return!!this.h&&this.h.isActive(this)},(ln=vb.prototype).Ba=function(){},ln.Aa=function(){},ln.za=function(){},ln.ya=function(){},ln.isActive=function(){return!0},ln.Va=function(){},Pm.prototype.g=function(n,e){return new ts(n,e)},Ro(ts,Wo),ts.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Xa(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=Rm(n,null,n.Y),Hu(n)},ts.prototype.close=function(){kf(this.g)},ts.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=K0(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&Hu(e)},ts.prototype.N=function(){this.g.h=null,delete this.j,kf(this.g),delete this.g,ts.$.N.call(this)},Ro(Qy,eg),Ro(bb,nb),Ro(Ff,vb),Ff.prototype.Ba=function(){ao(this.g,"a")},Ff.prototype.Aa=function(n){ao(this.g,new Qy(n))},Ff.prototype.za=function(n){ao(this.g,new bb)},Ff.prototype.ya=function(){ao(this.g,"b")},Ro(du,function jT(){this.blockSize=-1}),du.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},du.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,l=this.h,p=0;p<e;){if(0==l)for(;p<=t;)vc(this,n,p),p+=this.blockSize;if("string"==typeof n){for(;p<e;)if(i[l++]=n.charCodeAt(p++),l==this.blockSize){vc(this,i),l=0;break}}else for(;p<e;)if(i[l++]=n[p++],l==this.blockSize){vc(this,i),l=0;break}}this.h=l,this.i+=e},du.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var km={};function wb(n){return-128<=n&&128>n?function _I(n,e){var t=km;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Di([0|e],0>e?-1:0)}):new Di([0|n],0>n?-1:0)}function tl(n){if(isNaN(n)||!isFinite(n))return Gu;if(0>n)return co(tl(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=Lf;return new Di(e,0)}var Lf=4294967296,Gu=wb(0),Fm=wb(1),Lm=wb(16777216);function $u(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function bc(n){return-1==n.h}function co(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new Di(t,~n.h).add(Fm)}function Um(n,e){return n.add(co(e))}function Bm(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function ug(n,e){this.g=n,this.h=e}function Vm(n,e){if($u(e))throw Error("division by zero");if($u(n))return new ug(Gu,Gu);if(bc(n))return e=Vm(co(n),e),new ug(co(e.g),co(e.h));if(bc(e))return e=Vm(n,co(e)),new ug(co(e.g),e.h);if(30<n.g.length){if(bc(n)||bc(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Fm,i=e;0>=i.X(n);)t=Ib(t),i=Ib(i);var l=nc(t,1),p=nc(i,1);for(i=nc(i,2),t=nc(t,2);!$u(i);){var _=p.add(i);0>=_.X(n)&&(l=l.add(t),p=_),i=nc(i,1),t=nc(t,1)}return e=Um(n,l.R(e)),new ug(l,e)}for(l=Gu;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),_=(p=tl(t)).R(e);bc(_)||0<_.X(n);)_=(p=tl(t-=i)).R(e);$u(p)&&(p=Fm),l=l.add(p),n=Um(n,_)}return new ug(l,n)}function Ib(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Di(t,n.h)}function nc(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,l=[],p=0;p<i;p++)l[p]=0<e?n.D(p+t)>>>e|n.D(p+t+1)<<32-e:n.D(p+t);return new Di(l,n.h)}(ln=Di.prototype).ea=function(){if(bc(this))return-co(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:Lf+i)*e,e*=Lf}return n},ln.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if($u(this))return"0";if(bc(this))return"-"+co(this).toString(n);for(var e=tl(Math.pow(n,6)),t=this,i="";;){var l=Vm(t,e).g,p=((0<(t=Um(t,l.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if($u(t=l))return p+i;for(;6>p.length;)p="0"+p;i=p+i}},ln.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},ln.X=function(n){return bc(n=Um(this,n))?-1:$u(n)?0:1},ln.abs=function(){return bc(this)?co(this):this},ln.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,l=0;l<=e;l++){var p=i+(65535&this.D(l))+(65535&n.D(l)),_=(p>>>16)+(this.D(l)>>>16)+(n.D(l)>>>16);i=_>>>16,t[l]=(_&=65535)<<16|(p&=65535)}return new Di(t,-2147483648&t[t.length-1]?-1:0)},ln.R=function(n){if($u(this)||$u(n))return Gu;if(bc(this))return bc(n)?co(this).R(co(n)):co(co(this).R(n));if(bc(n))return co(this.R(co(n)));if(0>this.X(Lm)&&0>n.X(Lm))return tl(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var l=0;l<n.g.length;l++){var p=this.D(i)>>>16,_=65535&this.D(i),T=n.D(l)>>>16,F=65535&n.D(l);t[2*i+2*l]+=_*F,Bm(t,2*i+2*l),t[2*i+2*l+1]+=p*F,Bm(t,2*i+2*l+1),t[2*i+2*l+1]+=_*T,Bm(t,2*i+2*l+1),t[2*i+2*l+2]+=p*T,Bm(t,2*i+2*l+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new Di(t,0)},ln.gb=function(n){return Vm(this,n).h},ln.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new Di(t,this.h&n.h)},ln.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new Di(t,this.h|n.h)},ln.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new Di(t,this.h^n.h)},Pm.prototype.createWebChannel=Pm.prototype.g,ts.prototype.send=ts.prototype.u,ts.prototype.open=ts.prototype.m,ts.prototype.close=ts.prototype.close,Qp.NO_ERROR=0,Qp.TIMEOUT=8,Qp.HTTP_ERROR=6,X0.COMPLETE="complete",LT.EventType=Xp,Xp.OPEN="a",Xp.CLOSE="b",Xp.ERROR="c",Xp.MESSAGE="d",Wo.prototype.listen=Wo.prototype.O,Xs.prototype.listenOnce=Xs.prototype.P,Xs.prototype.getLastError=Xs.prototype.Sa,Xs.prototype.getLastErrorCode=Xs.prototype.Ia,Xs.prototype.getStatus=Xs.prototype.da,Xs.prototype.getResponseJson=Xs.prototype.Wa,Xs.prototype.getResponseText=Xs.prototype.ja,Xs.prototype.send=Xs.prototype.ha,Xs.prototype.setWithCredentials=Xs.prototype.Oa,du.prototype.digest=du.prototype.l,du.prototype.reset=du.prototype.reset,du.prototype.update=du.prototype.j,Di.prototype.add=Di.prototype.add,Di.prototype.multiply=Di.prototype.R,Di.prototype.modulo=Di.prototype.gb,Di.prototype.compare=Di.prototype.X,Di.prototype.toNumber=Di.prototype.ea,Di.prototype.toString=Di.prototype.toString,Di.prototype.getBits=Di.prototype.D,Di.fromNumber=tl,Di.fromString=function Xy(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return co(Xy(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=tl(Math.pow(e,8)),i=Gu,l=0;l<n.length;l+=8){var p=Math.min(8,n.length-l),_=parseInt(n.substring(l,l+p),e);8>p?(p=tl(Math.pow(e,p)),i=i.R(p).add(tl(_))):i=(i=i.R(t)).add(tl(_))}return i};var zu=El.createWebChannelTransport=function(){return new Pm},ev=El.getStatEventTarget=function(){return ky()},Uf=El.ErrorCode=Qp,Hm=El.EventType=X0,Eb=El.Event=Af,tv=El.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},jm=El.FetchXmlHttpFactory=Cd,Bf=El.WebChannel=LT,GT=El.XhrIo=Xs,Gm=El.Md5=du,Sh=El.Integer=Di;const Vf="@firebase/firestore";class eo{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}eo.UNAUTHENTICATED=new eo(null),eo.GOOGLE_CREDENTIALS=new eo("google-credentials-uid"),eo.FIRST_PARTY=new eo("first-party-uid"),eo.MOCK_USER=new eo("mock-user");let Sl="9.23.0";const Ra=new Ee.Yd("@firebase/firestore");function $m(){return Ra.logLevel}function Pt(n,...e){if(Ra.logLevel<=Ee.in.DEBUG){const t=e.map(nv);Ra.debug(`Firestore (${Sl}): ${n}`,...t)}}function ws(n,...e){if(Ra.logLevel<=Ee.in.ERROR){const t=e.map(nv);Ra.error(`Firestore (${Sl}): ${n}`,...t)}}function Al(n,...e){if(Ra.logLevel<=Ee.in.WARN){const t=e.map(nv);Ra.warn(`Firestore (${Sl}): ${n}`,...t)}}function nv(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function vn(n="Unexpected state"){const e=`FIRESTORE (${Sl}) INTERNAL ASSERTION FAILED: `+n;throw ws(e),new Error(e)}function Sn(n,e){n||vn()}function Jt(n,e){return n}const lt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Mt extends he.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class lo{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class iv{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class PI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(eo.UNAUTHENTICATED))}shutdown(){}}class kI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Tb{constructor(e){this.t=e,this.currentUser=eo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let l=this.i;const p=H=>this.i!==l?(l=this.i,t(H)):Promise.resolve();let _=new lo;this.o=()=>{this.i++,this.currentUser=this.u(),_.resolve(),_=new lo,e.enqueueRetryable(()=>p(this.currentUser))};const T=()=>{const H=_;e.enqueueRetryable((0,ae.Z)(function*(){yield H.promise,yield p(i.currentUser)}))},F=H=>{Pt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=H,this.auth.addAuthTokenListener(this.o),T()};this.t.onInit(H=>F(H)),setTimeout(()=>{if(!this.auth){const H=this.t.getImmediate({optional:!0});H?F(H):(Pt("FirebaseAuthCredentialsProvider","Auth not yet detected"),_.resolve(),_=new lo)}},0),T()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Pt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Sn("string"==typeof i.accessToken),new iv(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Sn(null===e||"string"==typeof e),new eo(e)}}class sv{constructor(e,t,i){this.h=e,this.l=t,this.m=i,this.type="FirstParty",this.user=eo.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class dg{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new sv(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(eo.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Db{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ov{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const i=p=>{null!=p.error&&Pt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${p.error.message}`);const _=p.token!==this.T;return this.T=p.token,Pt("FirebaseAppCheckTokenProvider",`Received ${_?"new":"existing"} token.`),_?t(p.token):Promise.resolve()};this.o=p=>{e.enqueueRetryable(()=>i(p))};const l=p=>{Pt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=p,this.appCheck.addTokenListener(this.o)};this.I.onInit(p=>l(p)),setTimeout(()=>{if(!this.appCheck){const p=this.I.getImmediate({optional:!0});p?l(p):Pt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Sn("string"==typeof t.token),this.T=t.token,new Db(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function av(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class Cb{static A(){const t=62*Math.floor(256/62);let i="";for(;i.length<20;){const l=av(40);for(let p=0;p<l.length;++p)i.length<20&&l[p]<t&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(l[p]%62))}return i}}function Kn(n,e){return n<e?-1:n>e?1:0}function Hf(n,e,t){return n.length===e.length&&n.every((i,l)=>t(i,e[l]))}class hs{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Mt(lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Mt(lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Mt(lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Mt(lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return hs.fromMillis(Date.now())}static fromDate(e){return hs.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new hs(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Kn(this.nanoseconds,e.nanoseconds):Kn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Rn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Rn(e)}static min(){return new Rn(new hs(0,0))}static max(){return new Rn(new hs(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class rc{constructor(e,t,i){void 0===t?t=0:t>e.length&&vn(),void 0===i?i=e.length-t:i>e.length-t&&vn(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===rc.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof rc?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let l=0;l<i;l++){const p=e.get(l),_=t.get(l);if(p<_)return-1;if(p>_)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class qr extends rc{construct(e,t,i){return new qr(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Mt(lt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(l=>l.length>0))}return new qr(t)}static emptyPath(){return new qr([])}}const hg=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Is extends rc{construct(e,t,i){return new Is(e,t,i)}static isValidIdentifier(e){return hg.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Is.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Is(["__name__"])}static fromServerFormat(e){const t=[];let i="",l=0;const p=()=>{if(0===i.length)throw new Mt(lt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let _=!1;for(;l<e.length;){const T=e[l];if("\\"===T){if(l+1===e.length)throw new Mt(lt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const F=e[l+1];if("\\"!==F&&"."!==F&&"`"!==F)throw new Mt(lt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=F,l+=2}else"`"===T?(_=!_,l++):"."!==T||_?(i+=T,l++):(p(),l++)}if(p(),_)throw new Mt(lt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Is(t)}static emptyPath(){return new Is([])}}class en{constructor(e){this.path=e}static fromPath(e){return new en(qr.fromString(e))}static fromName(e){return new en(qr.fromString(e).popFirst(5))}static empty(){return new en(qr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===qr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return qr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new en(new qr(e.slice()))}}function lv(n){return new ns(n.readTime,n.key,-1)}class ns{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ns(Rn.min(),en.empty(),-1)}static max(){return new ns(Rn.max(),en.empty(),-1)}}function Wu(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=en.comparator(n.documentKey,e.documentKey),0!==t?t:Kn(n.largestBatchId,e.largestBatchId))}const uv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class BI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Rd(n){return zm.apply(this,arguments)}function zm(){return zm=(0,ae.Z)(function*(n){if(n.code!==lt.FAILED_PRECONDITION||n.message!==uv)throw n;Pt("LocalStore","Unexpectedly lost primary lease")}),zm.apply(this,arguments)}class et{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&vn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new et((i,l)=>{this.nextCallback=p=>{this.wrapSuccess(e,p).next(i,l)},this.catchCallback=p=>{this.wrapFailure(t,p).next(i,l)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof et?t:et.resolve(t)}catch(t){return et.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):et.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):et.reject(t)}static resolve(e){return new et((t,i)=>{t(e)})}static reject(e){return new et((t,i)=>{i(e)})}static waitFor(e){return new et((t,i)=>{let l=0,p=0,_=!1;e.forEach(T=>{++l,T.next(()=>{++p,_&&p===l&&t()},F=>i(F))}),_=!0,p===l&&t()})}static or(e){let t=et.resolve(!1);for(const i of e)t=t.next(l=>l?et.resolve(l):i());return t}static forEach(e,t){const i=[];return e.forEach((l,p)=>{i.push(t.call(this,l,p))}),this.waitFor(i)}static mapArray(e,t){return new et((i,l)=>{const p=e.length,_=new Array(p);let T=0;for(let F=0;F<p;F++){const H=F;t(e[H]).next(ne=>{_[H]=ne,++T,T===p&&i(_)},ne=>l(ne))}})}static doWhile(e,t){return new et((i,l)=>{const p=()=>{!0===e()?t().next(()=>{p()},l):i()};p()})}}function fu(n){return"IndexedDbTransactionError"===n.name}let Fi=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=l=>this.ot(l),this.ut=l=>i.writeSequenceNumber(l))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Pd(n){return null==n}function pu(n){return 0===n&&1/n==-1/0}function Rh(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ka(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function mg(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class mi{constructor(e,t){this.comparator=e,this.root=t||ho.EMPTY}insert(e,t){return new mi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ho.BLACK,null,null))}remove(e){return new mi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ho.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const l=this.comparator(e,i.key);if(0===l)return t+i.left.size;l<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zu(this.root,e,this.comparator,!0)}}class Zu{constructor(e,t,i,l){this.isReverse=l,this.nodeStack=[];let p=1;for(;!e.isEmpty();)if(p=t?i(e.key,t):1,t&&l&&(p*=-1),p<0)e=this.isReverse?e.left:e.right;else{if(0===p){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ho{constructor(e,t,i,l,p){this.key=e,this.value=t,this.color=i??ho.RED,this.left=l??ho.EMPTY,this.right=p??ho.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,l,p){return new ho(e??this.key,t??this.value,i??this.color,l??this.left,p??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let l=this;const p=i(e,l.key);return l=p<0?l.copy(null,null,null,l.left.insert(e,t,i),null):0===p?l.copy(null,t,null,null,null):l.copy(null,null,null,null,l.right.insert(e,t,i)),l.fixUp()}removeMin(){if(this.left.isEmpty())return ho.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,l=this;if(t(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,t),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===t(e,l.key)){if(l.right.isEmpty())return ho.EMPTY;i=l.right.min(),l=l.copy(i.key,i.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,t))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ho.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ho.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw vn();const e=this.left.check();if(e!==this.right.check())throw vn();return e+(this.isRed()?0:1)}}ho.EMPTY=null,ho.RED=!0,ho.BLACK=!1,ho.EMPTY=new class{constructor(){this.size=0}get key(){throw vn()}get value(){throw vn()}get color(){throw vn()}get left(){throw vn()}get right(){throw vn()}copy(n,e,t,i,l){return this}insert(n,e,t){return new ho(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ki{constructor(e){this.comparator=e,this.data=new mi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const l=i.getNext();if(this.comparator(l.key,e[1])>=0)return;t(l.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ph(this.data.getIterator())}getIteratorFrom(e){return new Ph(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Ki)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const l=t.getNext().key,p=i.getNext().key;if(0!==this.comparator(l,p))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ki(this.comparator);return t.data=e,t}}class Ph{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Fa{constructor(e){this.fields=e,e.sort(Is.comparator)}static empty(){return new Fa([])}unionWith(e){let t=new Ki(Is.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Fa(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Hf(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class mv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Es{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new mv("Invalid base64 string: "+l):l}}(e);return new Es(t)}static fromUint8Array(e){const t=function(i){let l="";for(let p=0;p<i.length;++p)l+=String.fromCharCode(i[p]);return l}(e);return new Es(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Kn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Es.EMPTY_BYTE_STRING=new Es("");const _g=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lc(n){if(Sn(!!n),"string"==typeof n){let e=0;const t=_g.exec(n);if(Sn(!!t),t[1]){let l=t[1];l=(l+"000000000").substr(0,9),e=Number(l)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ps(n.seconds),nanos:Ps(n.nanos)}}function Ps(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ol(n){return"string"==typeof n?Es.fromBase64String(n):Es.fromUint8Array(n)}function yg(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Ku(n){const e=n.mapValue.fields.__previous_value__;return yg(e)?Ku(e):e}function qf(n){const e=Lc(n.mapValue.fields.__local_write_time__.timestampValue);return new hs(e.seconds,e.nanos)}class _v{constructor(e,t,i,l,p,_,T,F,H){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=l,this.ssl=p,this.forceLongPolling=_,this.autoDetectLongPolling=T,this.longPollingOptions=F,this.useFetchStreams=H}}class Ld{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ld("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ld&&e.projectId===this.projectId&&e.database===this.database}}const nl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Nl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?yg(n)?4:vv(n)?9007199254740991:10:vn()}function rl(n,e){if(n===e)return!0;const t=Nl(n);if(t!==Nl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return qf(n).isEqual(qf(e));case 3:return function(i,l){if("string"==typeof i.timestampValue&&"string"==typeof l.timestampValue&&i.timestampValue.length===l.timestampValue.length)return i.timestampValue===l.timestampValue;const p=Lc(i.timestampValue),_=Lc(l.timestampValue);return p.seconds===_.seconds&&p.nanos===_.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return l=e,Ol(n.bytesValue).isEqual(Ol(l.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,l){return Ps(i.geoPointValue.latitude)===Ps(l.geoPointValue.latitude)&&Ps(i.geoPointValue.longitude)===Ps(l.geoPointValue.longitude)}(n,e);case 2:return function(i,l){if("integerValue"in i&&"integerValue"in l)return Ps(i.integerValue)===Ps(l.integerValue);if("doubleValue"in i&&"doubleValue"in l){const p=Ps(i.doubleValue),_=Ps(l.doubleValue);return p===_?pu(p)===pu(_):isNaN(p)&&isNaN(_)}return!1}(n,e);case 9:return Hf(n.arrayValue.values||[],e.arrayValue.values||[],rl);case 10:return function(i,l){const p=i.mapValue.fields||{},_=l.mapValue.fields||{};if(Rh(p)!==Rh(_))return!1;for(const T in p)if(p.hasOwnProperty(T)&&(void 0===_[T]||!rl(p[T],_[T])))return!1;return!0}(n,e);default:return vn()}var l}function Fh(n,e){return void 0!==(n.values||[]).find(t=>rl(t,e))}function Ud(n,e){if(n===e)return 0;const t=Nl(n),i=Nl(e);if(t!==i)return Kn(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Kn(n.booleanValue,e.booleanValue);case 2:return function(l,p){const _=Ps(l.integerValue||l.doubleValue),T=Ps(p.integerValue||p.doubleValue);return _<T?-1:_>T?1:_===T?0:isNaN(_)?isNaN(T)?0:-1:1}(n,e);case 3:return yv(n.timestampValue,e.timestampValue);case 4:return yv(qf(n),qf(e));case 5:return Kn(n.stringValue,e.stringValue);case 6:return function(l,p){const _=Ol(l),T=Ol(p);return _.compareTo(T)}(n.bytesValue,e.bytesValue);case 7:return function(l,p){const _=l.split("/"),T=p.split("/");for(let F=0;F<_.length&&F<T.length;F++){const H=Kn(_[F],T[F]);if(0!==H)return H}return Kn(_.length,T.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,p){const _=Kn(Ps(l.latitude),Ps(p.latitude));return 0!==_?_:Kn(Ps(l.longitude),Ps(p.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(l,p){const _=l.values||[],T=p.values||[];for(let F=0;F<_.length&&F<T.length;++F){const H=Ud(_[F],T[F]);if(H)return H}return Kn(_.length,T.length)}(n.arrayValue,e.arrayValue);case 10:return function(l,p){if(l===nl.mapValue&&p===nl.mapValue)return 0;if(l===nl.mapValue)return 1;if(p===nl.mapValue)return-1;const _=l.fields||{},T=Object.keys(_),F=p.fields||{},H=Object.keys(F);T.sort(),H.sort();for(let ne=0;ne<T.length&&ne<H.length;++ne){const ge=Kn(T[ne],H[ne]);if(0!==ge)return ge;const $e=Ud(_[T[ne]],F[H[ne]]);if(0!==$e)return $e}return Kn(T.length,H.length)}(n.mapValue,e.mapValue);default:throw vn()}}function yv(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Kn(n,e);const t=Lc(n),i=Lc(e),l=Kn(t.seconds,i.seconds);return 0!==l?l:Kn(t.nanos,i.nanos)}function Bd(n){return vg(n)}function vg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const l=Lc(i);return`time(${l.seconds},${l.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ol(n.bytesValue).toBase64():"referenceValue"in n?en.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let l="[",p=!0;for(const _ of i.values||[])p?p=!1:l+=",",l+=vg(_);return l+"]"}(n.arrayValue):"mapValue"in n?function(i){const l=Object.keys(i.fields||{}).sort();let p="{",_=!0;for(const T of l)_?_=!1:p+=",",p+=`${T}:${vg(i.fields[T])}`;return p+"}"}(n.mapValue):vn();var e}function Vd(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Zf(n){return!!n&&"integerValue"in n}function il(n){return!!n&&"arrayValue"in n}function qm(n){return!!n&&"nullValue"in n}function Kf(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Zm(n){return!!n&&"mapValue"in n}function Yf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ka(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Yf(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Yf(n.arrayValue.values[t]);return e}return Object.assign({},n)}function vv(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class pa{constructor(e){this.value=e}static empty(){return new pa({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Zm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yf(t)}setAll(e){let t=Is.emptyPath(),i={},l=[];e.forEach((_,T)=>{if(!t.isImmediateParentOf(T)){const F=this.getFieldsMap(t);this.applyChanges(F,i,l),i={},l=[],t=T.popLast()}_?i[T.lastSegment()]=Yf(_):l.push(T.lastSegment())});const p=this.getFieldsMap(t);this.applyChanges(p,i,l)}delete(e){const t=this.field(e.popLast());Zm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return rl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let l=t.mapValue.fields[e.get(i)];Zm(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=l),t=l}return t.mapValue.fields}applyChanges(e,t,i){ka(t,(l,p)=>e[l]=p);for(const l of i)delete e[l]}clone(){return new pa(Yf(this.value))}}function Jm(n){const e=[];return ka(n.fields,(t,i)=>{const l=new Is([t]);if(Zm(i)){const p=Jm(i.mapValue).fields;if(0===p.length)e.push(l);else for(const _ of p)e.push(l.child(_))}else e.push(l)}),new Fa(e)}class Li{constructor(e,t,i,l,p,_,T){this.key=e,this.documentType=t,this.version=i,this.readTime=l,this.createTime=p,this.data=_,this.documentState=T}static newInvalidDocument(e){return new Li(e,0,Rn.min(),Rn.min(),Rn.min(),pa.empty(),0)}static newFoundDocument(e,t,i,l){return new Li(e,1,t,Rn.min(),i,l,0)}static newNoDocument(e,t){return new Li(e,2,t,Rn.min(),Rn.min(),pa.empty(),0)}static newUnknownDocument(e,t){return new Li(e,3,t,Rn.min(),Rn.min(),pa.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Rn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pa.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pa.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Li&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Li(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ml{constructor(e,t){this.position=e,this.inclusive=t}}function Qm(n,e,t){let i=0;for(let l=0;l<n.position.length;l++){const p=e[l],_=n.position[l];if(i=p.field.isKeyField()?en.comparator(en.fromName(_.referenceValue),t.key):Ud(_,t.data.field(p.field)),"desc"===p.dir&&(i*=-1),0!==i)break}return i}function Xm(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!rl(n.position[t],e.position[t]))return!1;return!0}class Lh{constructor(e,t="asc"){this.field=e,this.dir=t}}function ZI(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class e_{}class Hr extends e_{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new KI(e,t,i):"array-contains"===t?new Rb(e,i):"in"===t?new Dv(e,i):"not-in"===t?new s_(e,i):"array-contains-any"===t?new Hd(e,i):new Hr(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new i_(e,i):new Ev(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ud(t,this.value)):null!==t&&Nl(this.value)===Nl(t)&&this.matchesComparison(Ud(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return vn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class li extends e_{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new li(e,t)}matches(e){return Qu(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Qu(n){return"and"===n.op}function t_(n){return function n_(n){for(const e of n.filters)if(e instanceof li)return!1;return!0}(n)&&Qu(n)}function r_(n){if(n instanceof Hr)return n.field.canonicalString()+n.op.toString()+Bd(n.value);if(t_(n))return n.filters.map(e=>r_(e)).join(",");{const e=n.filters.map(t=>r_(t)).join(",");return`${n.op}(${e})`}}function bg(n,e){return n instanceof Hr?(t=n,(i=e)instanceof Hr&&t.op===i.op&&t.field.isEqual(i.field)&&rl(t.value,i.value)):n instanceof li?function(t,i){return i instanceof li&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((l,p,_)=>l&&bg(p,i.filters[_]),!0)}(n,e):void vn();var t,i}function Iv(n){return n instanceof Hr?`${(e=n).field.canonicalString()} ${e.op} ${Bd(e.value)}`:n instanceof li?function(e){return e.op.toString()+" {"+e.getFilters().map(Iv).join(" ,")+"}"}(n):"Filter";var e}class KI extends Hr{constructor(e,t,i){super(e,t,i),this.key=en.fromName(i.referenceValue)}matches(e){const t=en.comparator(e.key,this.key);return this.matchesComparison(t)}}class i_ extends Hr{constructor(e,t){super(e,"in",t),this.keys=Tv(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Ev extends Hr{constructor(e,t){super(e,"not-in",t),this.keys=Tv(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Tv(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>en.fromName(i.referenceValue))}class Rb extends Hr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return il(t)&&Fh(t.arrayValue,this.value)}}class Dv extends Hr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Fh(this.value.arrayValue,t)}}class s_ extends Hr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Fh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Fh(this.value.arrayValue,t)}}class Hd extends Hr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!il(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Fh(this.value.arrayValue,i))}}class ZT{constructor(e,t=null,i=[],l=[],p=null,_=null,T=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=l,this.limit=p,this.startAt=_,this.endAt=T,this.dt=null}}function Cv(n,e=null,t=[],i=[],l=null,p=null,_=null){return new ZT(n,e,t,i,l,p,_)}function Xu(n){const e=Jt(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>r_(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(l=i).field.canonicalString()+l.dir;var l}).join(","),Pd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Bd(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Bd(i)).join(",")),e.dt=t}return e.dt}function xl(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!ZI(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!bg(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Xm(n.startAt,e.startAt)&&Xm(n.endAt,e.endAt)}function Qf(n){return en.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class jd{constructor(e,t=null,i=[],l=[],p=null,_="F",T=null,F=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=l,this.limit=p,this.limitType=_,this.startAt=T,this.endAt=F,this.wt=null,this._t=null}}function Gd(n){return new jd(n)}function Sv(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Ig(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Ts(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function a_(n){return null!==n.collectionGroup}function Uh(n){const e=Jt(n);if(null===e.wt){e.wt=[];const t=Ts(e),i=Ig(e);if(null!==t&&null===i)t.isKeyField()||e.wt.push(new Lh(t)),e.wt.push(new Lh(Is.keyField(),"asc"));else{let l=!1;for(const p of e.explicitOrderBy)e.wt.push(p),p.field.isKeyField()&&(l=!0);if(!l){const p=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Lh(Is.keyField(),p))}}}return e.wt}function sc(n){const e=Jt(n);if(!e._t)if("F"===e.limitType)e._t=Cv(e.path,e.collectionGroup,Uh(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const p of Uh(e))t.push(new Lh(p.field,"desc"===p.dir?"asc":"desc"));const i=e.endAt?new Ml(e.endAt.position,e.endAt.inclusive):null,l=e.startAt?new Ml(e.startAt.position,e.startAt.inclusive):null;e._t=Cv(e.path,e.collectionGroup,t,e.filters,e.limit,i,l)}return e._t}function c_(n,e){e.getFirstInequalityField(),Ts(n);const t=n.filters.concat([e]);return new jd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function ep(n,e,t){return new jd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function tp(n,e){return xl(sc(n),sc(e))&&n.limitType===e.limitType}function Av(n){return`${Xu(sc(n))}|lt:${n.limitType}`}function ed(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>Iv(i)).join(", ")}]`),Pd(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(l=i).field.canonicalString()} (${l.dir})`;var l}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Bd(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Bd(i)).join(",")),`Target(${t})`}(sc(n))}; limitType=${n.limitType})`}function Eg(n,e){return e.isFoundDocument()&&function(t,i){const l=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(l):en.isDocumentKey(t.path)?t.path.isEqual(l):t.path.isImmediateParentOf(l)}(n,e)&&function(t,i){for(const l of Uh(t))if(!l.field.isKeyField()&&null===i.data.field(l.field))return!1;return!0}(n,e)&&function(t,i){for(const l of t.filters)if(!l.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(l,p,_){const T=Qm(l,p,_);return l.inclusive?T<=0:T<0}(t.startAt,Uh(t),i)||t.endAt&&!function(l,p,_){const T=Qm(l,p,_);return l.inclusive?T>=0:T>0}(t.endAt,Uh(t),i)));var t,i}function Fb(n){return(e,t)=>{let i=!1;for(const l of Uh(n)){const p=Lb(l,e,t);if(0!==p)return p;i=i||l.field.isKeyField()}return 0}}function Lb(n,e,t){const i=n.field.isKeyField()?en.comparator(e.key,t.key):function(l,p,_){const T=p.data.field(l),F=_.data.field(l);return null!==T&&null!==F?Ud(T,F):vn()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return vn()}}class gu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[l,p]of i)if(this.equalsFn(l,e))return p}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),l=this.inner[i];if(void 0===l)return this.inner[i]=[[e,t]],void this.innerSize++;for(let p=0;p<l.length;p++)if(this.equalsFn(l[p][0],e))return void(l[p]=[e,t]);l.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return 1===i.length?delete this.inner[t]:i.splice(l,1),this.innerSize--,!0;return!1}forEach(e){ka(this.inner,(t,i)=>{for(const[l,p]of i)e(l,p)})}isEmpty(){return mg(this.inner)}size(){return this.innerSize}}const KT=new mi(en.comparator);function Ic(){return KT}const l_=new mi(en.comparator);function Ec(...n){let e=l_;for(const t of n)e=e.insert(t.key,t);return e}function Ov(n){let e=l_;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function sl(){return oc()}function Rl(){return oc()}function oc(){return new gu(n=>n.toString(),(n,e)=>n.isEqual(e))}const mu=new mi(en.comparator),JI=new Ki(en.comparator);function mr(...n){let e=JI;for(const t of n)e=e.add(t);return e}const c=new Ki(Kn);function o(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pu(e)?"-0":e}}function d(n){return{integerValue:""+n}}function m(n,e){return function kd(n){return"number"==typeof n&&Number.isInteger(n)&&!pu(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?d(e):o(n,e)}class I{constructor(){this._=void 0}}function x(n,e,t){return n instanceof fe?function(i,l){const p={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return l&&yg(l)&&(l=Ku(l)),l&&(p.fields.__previous_value__=l),{mapValue:p}}(t,e):n instanceof be?We(n,e):n instanceof ot?pt(n,e):function(i,l){const p=oe(i,l),_=Ht(p)+Ht(i.gt);return Zf(p)&&Zf(i.gt)?d(_):o(i.serializer,_)}(n,e)}function K(n,e,t){return n instanceof be?We(n,e):n instanceof ot?pt(n,e):t}function oe(n,e){return n instanceof Nt?Zf(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class fe extends I{}class be extends I{constructor(e){super(),this.elements=e}}function We(n,e){const t=Wt(e);for(const i of n.elements)t.some(l=>rl(l,i))||t.push(i);return{arrayValue:{values:t}}}class ot extends I{constructor(e){super(),this.elements=e}}function pt(n,e){let t=Wt(e);for(const i of n.elements)t=t.filter(l=>!rl(l,i));return{arrayValue:{values:t}}}class Nt extends I{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Ht(n){return Ps(n.integerValue||n.doubleValue)}function Wt(n){return il(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Mn{constructor(e,t){this.field=e,this.transform=t}}class _r{constructor(e,t){this.version=e,this.transformResults=t}}class qt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new qt}static exists(e){return new qt(void 0,e)}static updateTime(e){return new qt(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dr(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class rr{}function yr(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new bn(n.key,qt.none()):new Ds(n.key,n.data,qt.none());{const t=n.data,i=pa.empty();let l=new Ki(Is.comparator);for(let p of e.fields)if(!l.has(p)){let _=t.field(p);null===_&&p.length>1&&(p=p.popLast(),_=t.field(p)),null===_?i.delete(p):i.set(p,_),l=l.add(p)}return new ui(n.key,i,new Fa(l.toArray()),qt.none())}}function jr(n,e,t){n instanceof Ds?function(i,l,p){const _=i.value.clone(),T=kl(i.fieldTransforms,l,p.transformResults);_.setAll(T),l.convertToFoundDocument(p.version,_).setHasCommittedMutations()}(n,e,t):n instanceof ui?function(i,l,p){if(!dr(i.precondition,l))return void l.convertToUnknownDocument(p.version);const _=kl(i.fieldTransforms,l,p.transformResults),T=l.data;T.setAll(Pl(i)),T.setAll(_),l.convertToFoundDocument(p.version,T).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function ei(n,e,t,i){return n instanceof Ds?function(l,p,_,T){if(!dr(l.precondition,p))return _;const F=l.value.clone(),H=on(l.fieldTransforms,T,p);return F.setAll(H),p.convertToFoundDocument(p.version,F).setHasLocalMutations(),null}(n,e,t,i):n instanceof ui?function(l,p,_,T){if(!dr(l.precondition,p))return _;const F=on(l.fieldTransforms,T,p),H=p.data;return H.setAll(Pl(l)),H.setAll(F),p.convertToFoundDocument(p.version,H).setHasLocalMutations(),null===_?null:_.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(ne=>ne.field))}(n,e,t,i):(_=t,dr(n.precondition,p=e)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):_);var p,_}function di(n,e){let t=null;for(const i of n.fieldTransforms){const l=e.data.field(i.field),p=oe(i.transform,l||null);null!=p&&(null===t&&(t=pa.empty()),t.set(i.field,p))}return t||null}function no(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&Hf(t,i,(l,p)=>function Hn(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof be&&i instanceof be||t instanceof ot&&i instanceof ot?Hf(t.elements,i.elements,rl):t instanceof Nt&&i instanceof Nt?rl(t.gt,i.gt):t instanceof fe&&i instanceof fe);var t,i}(l,p))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class Ds extends rr{constructor(e,t,i,l=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ui extends rr{constructor(e,t,i,l,p=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=l,this.fieldTransforms=p,this.type=1}getFieldMask(){return this.fieldMask}}function Pl(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function kl(n,e,t){const i=new Map;Sn(n.length===t.length);for(let l=0;l<t.length;l++){const p=n[l],_=p.transform,T=e.data.field(p.field);i.set(p.field,K(_,T,t[l]))}return i}function on(n,e,t){const i=new Map;for(const l of n){const p=l.transform,_=t.data.field(l.field);i.set(l.field,x(p,_,e))}return i}class bn extends rr{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jn extends rr{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class vr{constructor(e,t,i,l){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=l}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let l=0;l<this.mutations.length;l++){const p=this.mutations[l];p.key.isEqual(e.key)&&jr(p,e,i[l])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=ei(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=ei(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=Rl();return this.mutations.forEach(l=>{const p=e.get(l.key),_=p.overlayedDocument;let T=this.applyToLocalView(_,p.mutatedFields);T=t.has(l.key)?null:T;const F=yr(_,T);null!==F&&i.set(l.key,F),_.isValidDocument()||_.convertToNoDocument(Rn.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),mr())}isEqual(e){return this.batchId===e.batchId&&Hf(this.mutations,e.mutations,(t,i)=>no(t,i))&&Hf(this.baseMutations,e.baseMutations,(t,i)=>no(t,i))}}class rs{constructor(e,t,i,l){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=l}static from(e,t,i){Sn(e.mutations.length===i.length);let l=mu;const p=e.mutations;for(let _=0;_<p.length;_++)l=l.insert(p[_].key,i[_].version);return new rs(e,t,i,l)}}class La{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Uc{constructor(e,t){this.count=e,this.unchangedNames=t}}var er,hr;function ks(n){if(void 0===n)return ws("GRPC error has no .code"),lt.UNKNOWN;switch(n){case er.OK:return lt.OK;case er.CANCELLED:return lt.CANCELLED;case er.UNKNOWN:return lt.UNKNOWN;case er.DEADLINE_EXCEEDED:return lt.DEADLINE_EXCEEDED;case er.RESOURCE_EXHAUSTED:return lt.RESOURCE_EXHAUSTED;case er.INTERNAL:return lt.INTERNAL;case er.UNAVAILABLE:return lt.UNAVAILABLE;case er.UNAUTHENTICATED:return lt.UNAUTHENTICATED;case er.INVALID_ARGUMENT:return lt.INVALID_ARGUMENT;case er.NOT_FOUND:return lt.NOT_FOUND;case er.ALREADY_EXISTS:return lt.ALREADY_EXISTS;case er.PERMISSION_DENIED:return lt.PERMISSION_DENIED;case er.FAILED_PRECONDITION:return lt.FAILED_PRECONDITION;case er.ABORTED:return lt.ABORTED;case er.OUT_OF_RANGE:return lt.OUT_OF_RANGE;case er.UNIMPLEMENTED:return lt.UNIMPLEMENTED;case er.DATA_LOSS:return lt.DATA_LOSS;default:return vn()}}(hr=er||(er={}))[hr.OK=0]="OK",hr[hr.CANCELLED=1]="CANCELLED",hr[hr.UNKNOWN=2]="UNKNOWN",hr[hr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",hr[hr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",hr[hr.NOT_FOUND=5]="NOT_FOUND",hr[hr.ALREADY_EXISTS=6]="ALREADY_EXISTS",hr[hr.PERMISSION_DENIED=7]="PERMISSION_DENIED",hr[hr.UNAUTHENTICATED=16]="UNAUTHENTICATED",hr[hr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",hr[hr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",hr[hr.ABORTED=10]="ABORTED",hr[hr.OUT_OF_RANGE=11]="OUT_OF_RANGE",hr[hr.UNIMPLEMENTED=12]="UNIMPLEMENTED",hr[hr.INTERNAL=13]="INTERNAL",hr[hr.UNAVAILABLE=14]="UNAVAILABLE",hr[hr.DATA_LOSS=15]="DATA_LOSS";class ga{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return ko}static getOrCreateInstance(){return null===ko&&(ko=new ga),ko}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let ko=null;const zd=new Sh([4294967295,4294967295],0);function Nv(n){const e=function Bh(){return new TextEncoder}().encode(n),t=new Gm;return t.update(e),new Uint8Array(t.digest())}function u_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),l=e.getUint32(8,!0),p=e.getUint32(12,!0);return[new Sh([t,i],0),new Sh([l,p],0)]}class d_{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new np(`Invalid padding: ${t}`);if(i<0)throw new np(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new np(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new np(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Sh.fromNumber(this.It)}Et(e,t,i){let l=e.add(t.multiply(Sh.fromNumber(i)));return 1===l.compare(zd)&&(l=new Sh([l.getBits(0),l.getBits(1)],0)),l.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Nv(e),[i,l]=u_(t);for(let p=0;p<this.hashCount;p++){const _=this.Et(i,l,p);if(!this.At(_))return!1}return!0}static create(e,t,i){const l=e%8==0?0:8-e%8,p=new Uint8Array(Math.ceil(e/8)),_=new d_(p,l,t);return i.forEach(T=>_.insert(T)),_}insert(e){if(0===this.It)return;const t=Nv(e),[i,l]=u_(t);for(let p=0;p<this.hashCount;p++){const _=this.Et(i,l,p);this.Rt(_)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class np extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Vh{constructor(e,t,i,l,p){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=l,this.resolvedLimboDocuments=p}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const l=new Map;return l.set(e,Hh.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Vh(Rn.min(),l,new mi(Kn),Ic(),mr())}}class Hh{constructor(e,t,i,l,p){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=l,this.removedDocuments=p}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Hh(i,t,mr(),mr(),mr())}}class Tg{constructor(e,t,i,l){this.Pt=e,this.removedTargetIds=t,this.key=i,this.bt=l}}class Mv{constructor(e,t){this.targetId=e,this.Vt=t}}class _u{constructor(e,t,i=Es.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=l}}class rp{constructor(){this.St=0,this.Dt=h_(),this.Ct=Es.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=mr(),t=mr(),i=mr();return this.Dt.forEach((l,p)=>{switch(p){case 0:e=e.add(l);break;case 2:t=t.add(l);break;case 1:i=i.add(l);break;default:vn()}}),new Hh(this.Ct,this.xt,e,t,i)}Ft(){this.Nt=!1,this.Dt=h_()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Wd{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Ic(),this.zt=xv(),this.Wt=new mi(Kn)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const i=this.Zt(t);switch(e.state){case 0:this.te(t)&&i.$t(e.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(e.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(t);break;case 3:this.te(t)&&(i.Kt(),i.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),i.$t(e.resumeToken));break;default:vn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((i,l)=>{this.te(l)&&t(l)})}ne(e){var t;const i=e.targetId,l=e.Vt.count,p=this.se(i);if(p){const _=p.target;if(Qf(_))if(0===l){const T=new en(_.path);this.Yt(i,T,Li.newNoDocument(T,Rn.min()))}else Sn(1===l);else{const T=this.ie(i);if(T!==l){const F=this.re(e,T);0!==F&&(this.ee(i),this.Wt=this.Wt.insert(i,2===F?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=ga.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(H,ne,ge){var $e,ht,Ft,un,fn,Tr;const ti={localCacheCount:ne,existenceFilterCount:ge.count},Rr=ge.unchangedNames;return Rr&&(ti.bloomFilter={applied:0===H,hashCount:null!==($e=Rr?.hashCount)&&void 0!==$e?$e:0,bitmapLength:null!==(un=null===(Ft=null===(ht=Rr?.bits)||void 0===ht?void 0:ht.bitmap)||void 0===Ft?void 0:Ft.length)&&void 0!==un?un:0,padding:null!==(Tr=null===(fn=Rr?.bits)||void 0===fn?void 0:fn.padding)&&void 0!==Tr?Tr:0}),ti}(F,T,e.Vt))}}}}re(e,t){const{unchangedNames:i,count:l}=e.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:p="",padding:_=0},hashCount:T=0}=i;let F,H;try{F=Ol(p).toUint8Array()}catch(ne){if(ne instanceof mv)return Al("Decoding the base64 bloom filter in existence filter failed ("+ne.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw ne}try{H=new d_(F,_,T)}catch(ne){return Al(ne instanceof np?"BloomFilter error: ":"Applying bloom filter failed: ",ne),1}return 0===H.It?1:l!==t-this.oe(e.targetId,H)?2:0}oe(e,t){const i=this.Gt.getRemoteKeysForTarget(e);let l=0;return i.forEach(p=>{const _=this.Gt.ue(),T=`projects/${_.projectId}/databases/${_.database}/documents/${p.path.canonicalString()}`;t.vt(T)||(this.Yt(e,p,null),l++)}),l}ce(e){const t=new Map;this.Qt.forEach((p,_)=>{const T=this.se(_);if(T){if(p.current&&Qf(T.target)){const F=new en(T.target.path);null!==this.jt.get(F)||this.ae(_,F)||this.Yt(_,F,Li.newNoDocument(F,e))}p.Mt&&(t.set(_,p.Ot()),p.Ft())}});let i=mr();this.zt.forEach((p,_)=>{let T=!0;_.forEachWhile(F=>{const H=this.se(F);return!H||"TargetPurposeLimboResolution"===H.purpose||(T=!1,!1)}),T&&(i=i.add(p))}),this.jt.forEach((p,_)=>_.setReadTime(e));const l=new Vh(e,t,this.Wt,this.jt,i);return this.jt=Ic(),this.zt=xv(),this.Wt=new mi(Kn),l}Jt(e,t){if(!this.te(e))return;const i=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,i),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,i){if(!this.te(e))return;const l=this.Zt(e);this.ae(e,t)?l.Bt(t,1):l.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),i&&(this.jt=this.jt.insert(t,i))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new rp,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Ki(Kn),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Pt("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new rp),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function xv(){return new mi(en.comparator)}function h_(){return new mi(en.comparator)}const jh={asc:"ASCENDING",desc:"DESCENDING"},QI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},f_={and:"AND",or:"OR"};class XI{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ub(n,e){return n.useProto3Json||Pd(e)?e:{value:e}}function Dg(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $D(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function p_(n,e){return Dg(n,e.toTimestamp())}function Fo(n){return Sn(!!n),Rn.fromTimestamp(function(e){const t=Lc(e);return new hs(t.seconds,t.nanos)}(n))}function eE(n,e){return(t=n,new qr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function YT(n){const e=qr.fromString(n);return Sn(__(e)),e}function qd(n,e){return eE(n.databaseId,e.path)}function Zd(n,e){const t=YT(e);if(t.get(1)!==n.databaseId.projectId)throw new Mt(lt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Mt(lt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new en(zD(t))}function g_(n,e){return eE(n.databaseId,e)}function Ua(n){return new qr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function zD(n){return Sn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function tE(n,e,t){return{name:qd(n,e),fields:t.value.mapValue.fields}}function XT(n,e){return{documents:[g_(n,e.path)]}}function rE(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=g_(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=g_(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const l=function(F){if(0!==F.length)return iE(li.create(F,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const p=function(F){if(0!==F.length)return F.map(H=>{return{field:Gh((ne=H).field),direction:qD(ne.dir)};var ne})}(e.orderBy);p&&(t.structuredQuery.orderBy=p);const _=Ub(n,e.limit);var T,F;return null!==_&&(t.structuredQuery.limit=_),e.startAt&&(t.structuredQuery.startAt={before:(T=e.startAt).inclusive,values:T.position}),e.endAt&&(t.structuredQuery.endAt={before:!(F=e.endAt).inclusive,values:F.position}),t}function e1(n){let e=function Rv(n){const e=YT(n);return 4===e.length?qr.emptyPath():zD(e)}(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let l=null;if(i>0){Sn(1===i);const ne=t.from[0];ne.allDescendants?l=ne.collectionId:e=e.child(ne.collectionId)}let p=[];t.where&&(p=function(ne){const ge=t1(ne);return ge instanceof li&&t_(ge)?ge.getFilters():[ge]}(t.where));let _=[];t.orderBy&&(_=t.orderBy.map(ne=>{return new Lh(Cg((ge=ne).field),function($e){switch($e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(ge.direction));var ge}));let T=null;t.limit&&(T=function(ne){let ge;return ge="object"==typeof ne?ne.value:ne,Pd(ge)?null:ge}(t.limit));let F=null;var ne;t.startAt&&(F=new Ml((ne=t.startAt).values||[],!!ne.before));let H=null;return t.endAt&&(H=function(ne){return new Ml(ne.values||[],!ne.before)}(t.endAt)),function Pb(n,e,t,i,l,p,_,T){return new jd(n,e,t,i,l,p,_,T)}(e,l,_,p,T,"F",F,H)}function t1(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Cg(e.unaryFilter.field);return Hr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=Cg(e.unaryFilter.field);return Hr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Cg(e.unaryFilter.field);return Hr.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=Cg(e.unaryFilter.field);return Hr.create(p,"!=",{nullValue:"NULL_VALUE"});default:return vn()}}(n):void 0!==n.fieldFilter?Hr.create(Cg((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return vn()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return li.create(e.compositeFilter.filters.map(t=>t1(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return vn()}}(e.compositeFilter.op))}(n):vn();var e}function qD(n){return jh[n]}function ZD(n){return QI[n]}function Vb(n){return f_[n]}function Gh(n){return{fieldPath:n.canonicalString()}}function Cg(n){return Is.fromServerFormat(n.fieldPath)}function iE(n){return n instanceof Hr?function(e){if("=="===e.op){if(Kf(e.value))return{unaryFilter:{field:Gh(e.field),op:"IS_NAN"}};if(qm(e.value))return{unaryFilter:{field:Gh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Kf(e.value))return{unaryFilter:{field:Gh(e.field),op:"IS_NOT_NAN"}};if(qm(e.value))return{unaryFilter:{field:Gh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gh(e.field),op:ZD(e.op),value:e.value}}}(n):n instanceof li?function(e){const t=e.getFilters().map(i=>iE(i));return 1===t.length?t[0]:{compositeFilter:{op:Vb(e.op),filters:t}}}(n):vn()}function KD(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function __(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Fl{constructor(e,t,i,l,p=Rn.min(),_=Rn.min(),T=Es.EMPTY_BYTE_STRING,F=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=l,this.snapshotVersion=p,this.lastLimboFreeSnapshotVersion=_,this.resumeToken=T,this.expectedCount=F}withSequenceNumber(e){return new Fl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Fl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class n1{constructor(e){this.fe=e}}function sE(n){const e=e1({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?ep(e,e.limit,"L"):e}class op{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Ps(e.integerValue));else if("doubleValue"in e){const i=Ps(e.doubleValue);isNaN(i)?this.ye(t,13):(this.ye(t,15),pu(i)?t.pe(0):t.pe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ye(t,20),"string"==typeof i?t.Ie(i):(t.Ie(`${i.seconds||""}`),t.pe(i.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Ol(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?vv(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):vn()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const i=e.fields||{};this.ye(t,55);for(const l of Object.keys(i))this.Te(l,t),this.me(i[l],t)}Pe(e,t){const i=e.values||[];this.ye(t,50);for(const l of i)this.me(l,t)}ve(e,t){this.ye(t,37),en.fromName(e).path.forEach(i=>{this.ye(t,60),this.be(i,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}op.Ve=new op;class iC{constructor(){this.rn=new zb}addToCollectionParentIndex(e,t){return this.rn.add(t),et.resolve()}getCollectionParents(e,t){return et.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return et.resolve()}deleteFieldIndex(e,t){return et.resolve()}getDocumentsMatchingTarget(e,t){return et.resolve(null)}getIndexType(e,t){return et.resolve(0)}getFieldIndexes(e,t){return et.resolve([])}getNextCollectionGroupToUpdate(e){return et.resolve(null)}getMinOffset(e,t){return et.resolve(ns.min())}getMinOffsetFromCollectionGroup(e,t){return et.resolve(ns.min())}updateCollectionGroup(e,t,i){return et.resolve()}updateIndexEntries(e,t){return et.resolve()}}class zb{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),l=this.index[t]||new Ki(qr.comparator),p=!l.has(i);return this.index[t]=l.add(i),p}has(e){const t=e.lastSegment(),i=e.popLast(),l=this.index[t];return l&&l.has(i)}getEntries(e){return(this.index[e]||new Ki(qr.comparator)).toArray()}}new Uint8Array(0);class Tc{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Tc(e,Tc.DEFAULT_COLLECTION_PERCENTILE,Tc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Tc.DEFAULT_COLLECTION_PERCENTILE=10,Tc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tc.DEFAULT=new Tc(41943040,Tc.DEFAULT_COLLECTION_PERCENTILE,Tc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tc.DISABLED=new Tc(-1,0,0);class cp{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new cp(0)}static Mn(){return new cp(-1)}}class aC{constructor(){this.changes=new gu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Li.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?et.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class gE{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Yb{constructor(e,t,i,l){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=l}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(l=>(i=l,this.remoteDocumentCache.getEntry(e,t))).next(l=>(null!==i&&ei(i.mutation,l,Fa.empty(),hs.now()),l))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,mr()).next(()=>i))}getLocalViewOfDocuments(e,t,i=mr()){const l=sl();return this.populateOverlays(e,l,t).next(()=>this.computeViews(e,t,l,i).next(p=>{let _=Ec();return p.forEach((T,F)=>{_=_.insert(T,F.overlayedDocument)}),_}))}getOverlayedDocuments(e,t){const i=sl();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,mr()))}populateOverlays(e,t,i){const l=[];return i.forEach(p=>{t.has(p)||l.push(p)}),this.documentOverlayCache.getOverlays(e,l).next(p=>{p.forEach((_,T)=>{t.set(_,T)})})}computeViews(e,t,i,l){let p=Ic();const _=oc(),T=oc();return t.forEach((F,H)=>{const ne=i.get(H.key);l.has(H.key)&&(void 0===ne||ne.mutation instanceof ui)?p=p.insert(H.key,H):void 0!==ne?(_.set(H.key,ne.mutation.getFieldMask()),ei(ne.mutation,H,ne.mutation.getFieldMask(),hs.now())):_.set(H.key,Fa.empty())}),this.recalculateAndSaveOverlays(e,p).next(F=>(F.forEach((H,ne)=>_.set(H,ne)),t.forEach((H,ne)=>{var ge;return T.set(H,new gE(ne,null!==(ge=_.get(H))&&void 0!==ge?ge:null))}),T))}recalculateAndSaveOverlays(e,t){const i=oc();let l=new mi((_,T)=>_-T),p=mr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(_=>{for(const T of _)T.keys().forEach(F=>{const H=t.get(F);if(null===H)return;let ne=i.get(F)||Fa.empty();ne=T.applyToLocalView(H,ne),i.set(F,ne);const ge=(l.get(T.batchId)||mr()).add(F);l=l.insert(T.batchId,ge)})}).next(()=>{const _=[],T=l.getReverseIterator();for(;T.hasNext();){const F=T.getNext(),H=F.key,ne=F.value,ge=Rl();ne.forEach($e=>{if(!p.has($e)){const ht=yr(t.get($e),i.get($e));null!==ht&&ge.set($e,ht),p=p.add($e)}}),_.push(this.documentOverlayCache.saveOverlays(e,H,ge))}return et.waitFor(_)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return en.isDocumentKey((l=t).path)&&null===l.collectionGroup&&0===l.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):a_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var l}getNextDocuments(e,t,i,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,l).next(p=>{const _=l-p.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,l-p.size):et.resolve(sl());let T=-1,F=p;return _.next(H=>et.forEach(H,(ne,ge)=>(T<ge.largestBatchId&&(T=ge.largestBatchId),p.get(ne)?et.resolve():this.remoteDocumentCache.getEntry(e,ne).next($e=>{F=F.insert(ne,$e)}))).next(()=>this.populateOverlays(e,H,p)).next(()=>this.computeViews(e,F,H,mr())).next(ne=>({batchId:T,changes:Ov(ne)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new en(t)).next(i=>{let l=Ec();return i.isFoundDocument()&&(l=l.insert(i.key,i)),l})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const l=t.collectionGroup;let p=Ec();return this.indexManager.getCollectionParents(e,l).next(_=>et.forEach(_,T=>{const F=(H=t,ne=T.child(l),new jd(ne,null,H.explicitOrderBy.slice(),H.filters.slice(),H.limit,H.limitType,H.startAt,H.endAt));var H,ne;return this.getDocumentsMatchingCollectionQuery(e,F,i).next(H=>{H.forEach((ne,ge)=>{p=p.insert(ne,ge)})})}).next(()=>p))}getDocumentsMatchingCollectionQuery(e,t,i){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(p=>(l=p,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l))).next(p=>{l.forEach((T,F)=>{const H=F.getKey();null===p.get(H)&&(p=p.insert(H,Li.newInvalidDocument(H)))});let _=Ec();return p.forEach((T,F)=>{const H=l.get(T);void 0!==H&&ei(H.mutation,F,Fa.empty(),hs.now()),Eg(t,F)&&(_=_.insert(T,F))}),_})}}class dC{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return et.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var i;return this.cs.set(t.id,{id:(i=t).id,version:i.version,createTime:Fo(i.createTime)}),et.resolve()}getNamedQuery(e,t){return et.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(i=t).name,query:sE(i.bundledQuery),readTime:Fo(i.readTime)}),et.resolve();var i}}class y1{constructor(){this.overlays=new mi(en.comparator),this.ls=new Map}getOverlay(e,t){return et.resolve(this.overlays.get(t))}getOverlays(e,t){const i=sl();return et.forEach(t,l=>this.getOverlay(e,l).next(p=>{null!==p&&i.set(l,p)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((l,p)=>{this.we(e,t,p)}),et.resolve()}removeOverlaysForBatchId(e,t,i){const l=this.ls.get(i);return void 0!==l&&(l.forEach(p=>this.overlays=this.overlays.remove(p)),this.ls.delete(i)),et.resolve()}getOverlaysForCollection(e,t,i){const l=sl(),p=t.length+1,_=new en(t.child("")),T=this.overlays.getIteratorFrom(_);for(;T.hasNext();){const F=T.getNext().value,H=F.getKey();if(!t.isPrefixOf(H.path))break;H.path.length===p&&F.largestBatchId>i&&l.set(F.getKey(),F)}return et.resolve(l)}getOverlaysForCollectionGroup(e,t,i,l){let p=new mi((H,ne)=>H-ne);const _=this.overlays.getIterator();for(;_.hasNext();){const H=_.getNext().value;if(H.getKey().getCollectionGroup()===t&&H.largestBatchId>i){let ne=p.get(H.largestBatchId);null===ne&&(ne=sl(),p=p.insert(H.largestBatchId,ne)),ne.set(H.getKey(),H)}}const T=sl(),F=p.getIterator();for(;F.hasNext()&&(F.getNext().value.forEach((H,ne)=>T.set(H,ne)),!(T.size()>=l)););return et.resolve(T)}we(e,t,i){const l=this.overlays.get(i.key);if(null!==l){const _=this.ls.get(l.largestBatchId).delete(i.key);this.ls.set(l.largestBatchId,_)}this.overlays=this.overlays.insert(i.key,new La(t,i));let p=this.ls.get(t);void 0===p&&(p=mr(),this.ls.set(t,p)),this.ls.set(t,p.add(i.key))}}class Jb{constructor(){this.fs=new Ki(Ba.ds),this.ws=new Ki(Ba._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const i=new Ba(e,t);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.ys(new Ba(e,t))}ps(e,t){e.forEach(i=>this.removeReference(i,t))}Is(e){const t=new en(new qr([])),i=new Ba(t,e),l=new Ba(t,e+1),p=[];return this.ws.forEachInRange([i,l],_=>{this.ys(_),p.push(_.key)}),p}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new en(new qr([])),i=new Ba(t,e),l=new Ba(t,e+1);let p=mr();return this.ws.forEachInRange([i,l],_=>{p=p.add(_.key)}),p}containsKey(e){const t=new Ba(e,0),i=this.fs.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Ba{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return en.comparator(e.key,t.key)||Kn(e.As,t.As)}static _s(e,t){return Kn(e.As,t.As)||en.comparator(e.key,t.key)}}class v1{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Ki(Ba.ds)}checkEmpty(e){return et.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,l){const p=this.vs;this.vs++;const _=new vr(p,t,i,l);this.mutationQueue.push(_);for(const T of l)this.Rs=this.Rs.add(new Ba(T.key,p)),this.indexManager.addToCollectionParentIndex(e,T.key.path.popLast());return et.resolve(_)}lookupMutationBatch(e,t){return et.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const l=this.bs(t+1),p=l<0?0:l;return et.resolve(this.mutationQueue.length>p?this.mutationQueue[p]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Ba(t,0),l=new Ba(t,Number.POSITIVE_INFINITY),p=[];return this.Rs.forEachInRange([i,l],_=>{const T=this.Ps(_.As);p.push(T)}),et.resolve(p)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Ki(Kn);return t.forEach(l=>{const p=new Ba(l,0),_=new Ba(l,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([p,_],T=>{i=i.add(T.As)})}),et.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,l=i.length+1;let p=i;en.isDocumentKey(p)||(p=p.child(""));const _=new Ba(new en(p),0);let T=new Ki(Kn);return this.Rs.forEachWhile(F=>{const H=F.key.path;return!!i.isPrefixOf(H)&&(H.length===l&&(T=T.add(F.As)),!0)},_),et.resolve(this.Vs(T))}Vs(e){const t=[];return e.forEach(i=>{const l=this.Ps(i);null!==l&&t.push(l)}),t}removeMutationBatch(e,t){Sn(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return et.forEach(t.mutations,l=>{const p=new Ba(l.key,t.batchId);return i=i.delete(p),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.Rs=i})}Cn(e){}containsKey(e,t){const i=new Ba(t,0),l=this.Rs.firstAfterOrEqual(i);return et.resolve(t.isEqual(l&&l.key))}performConsistencyCheck(e){return et.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class mE{constructor(e){this.Ds=e,this.docs=new mi(en.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,l=this.docs.get(i),p=l?l.size:0,_=this.Ds(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:_}),this.size+=_-p,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return et.resolve(i?i.document.mutableCopy():Li.newInvalidDocument(t))}getEntries(e,t){let i=Ic();return t.forEach(l=>{const p=this.docs.get(l);i=i.insert(l,p?p.document.mutableCopy():Li.newInvalidDocument(l))}),et.resolve(i)}getDocumentsMatchingQuery(e,t,i,l){let p=Ic();const _=t.path,T=new en(_.child("")),F=this.docs.getIteratorFrom(T);for(;F.hasNext();){const{key:H,value:{document:ne}}=F.getNext();if(!_.isPrefixOf(H.path))break;H.path.length>_.length+1||Wu(lv(ne),i)<=0||(l.has(ne.key)||Eg(t,ne))&&(p=p.insert(ne.key,ne.mutableCopy()))}return et.resolve(p)}getAllFromCollectionGroup(e,t,i,l){vn()}Cs(e,t){return et.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new b1(this)}getSize(e){return et.resolve(this.size)}}class b1 extends aC{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((i,l)=>{l.isValidDocument()?t.push(this.os.addEntry(e,l)):this.os.removeEntry(i)}),et.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class w1{constructor(e){this.persistence=e,this.xs=new gu(t=>Xu(t),xl),this.lastRemoteSnapshotVersion=Rn.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Jb,this.targetCount=0,this.Ms=cp.kn()}forEachTarget(e,t){return this.xs.forEach((i,l)=>t(l)),et.resolve()}getLastRemoteSnapshotVersion(e){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return et.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Ns&&(this.Ns=t),et.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new cp(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,et.resolve()}updateTargetData(e,t){return this.Fn(t),et.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,et.resolve()}removeTargets(e,t,i){let l=0;const p=[];return this.xs.forEach((_,T)=>{T.sequenceNumber<=t&&null===i.get(T.targetId)&&(this.xs.delete(_),p.push(this.removeMatchingKeysForTargetId(e,T.targetId)),l++)}),et.waitFor(p).next(()=>l)}getTargetCount(e){return et.resolve(this.targetCount)}getTargetData(e,t){const i=this.xs.get(t)||null;return et.resolve(i)}addMatchingKeys(e,t,i){return this.ks.gs(t,i),et.resolve()}removeMatchingKeys(e,t,i){this.ks.ps(t,i);const l=this.persistence.referenceDelegate,p=[];return l&&t.forEach(_=>{p.push(l.markPotentiallyOrphaned(e,_))}),et.waitFor(p)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),et.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ks.Es(t);return et.resolve(i)}containsKey(e,t){return et.resolve(this.ks.containsKey(t))}}class Qb{constructor(e,t){this.$s={},this.overlays={},this.Os=new Fi(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new w1(this),this.indexManager=new iC,this.remoteDocumentCache=new mE(i=>this.referenceDelegate.Ls(i)),this.serializer=new n1(t),this.qs=new dC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new y1,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.$s[e.toKey()];return i||(i=new v1(t,this.referenceDelegate),this.$s[e.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,i){Pt("MemoryPersistence","Starting transaction:",e);const l=new I1(this.Os.next());return this.referenceDelegate.Us(),i(l).next(p=>this.referenceDelegate.Ks(l).next(()=>p)).toPromise().then(p=>(l.raiseOnCommittedEvent(),p))}Gs(e,t){return et.or(Object.values(this.$s).map(i=>()=>i.containsKey(e,t)))}}class I1 extends BI{constructor(e){super(),this.currentSequenceNumber=e}}class Xb{constructor(e){this.persistence=e,this.Qs=new Jb,this.js=null}static zs(e){return new Xb(e)}get Ws(){if(this.js)return this.js;throw vn()}addReference(e,t,i){return this.Qs.addReference(i,t),this.Ws.delete(i.toString()),et.resolve()}removeReference(e,t,i){return this.Qs.removeReference(i,t),this.Ws.add(i.toString()),et.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),et.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(l=>this.Ws.add(l.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(l=>{l.forEach(p=>this.Ws.add(p.toString()))}).next(()=>i.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.Ws,i=>{const l=en.fromPath(i);return this.Hs(e,l).next(p=>{p||t.removeEntry(l,Rn.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(i=>{i?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return et.or([()=>et.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class D1{constructor(e,t,i,l){this.targetId=e,this.fromCache=t,this.Fi=i,this.Bi=l}static Li(e,t){let i=mr(),l=mr();for(const p of t.docChanges)switch(p.type){case 0:i=i.add(p.doc.key);break;case 1:l=l.add(p.doc.key)}return new D1(e,t.fromCache,i,l)}}class C1{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,i,l){return this.Ki(e,t).next(p=>p||this.Gi(e,t,l,i)).next(p=>p||this.Qi(e,t))}Ki(e,t){if(Sv(t))return et.resolve(null);let i=sc(t);return this.indexManager.getIndexType(e,i).next(l=>0===l?null:(null!==t.limit&&1===l&&(t=ep(t,null,"F"),i=sc(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(p=>{const _=mr(...p);return this.Ui.getDocuments(e,_).next(T=>this.indexManager.getMinOffset(e,i).next(F=>{const H=this.ji(t,T);return this.zi(t,H,_,F.readTime)?this.Ki(e,ep(t,null,"F")):this.Wi(e,H,t,F)}))})))}Gi(e,t,i,l){return Sv(t)||l.isEqual(Rn.min())?this.Qi(e,t):this.Ui.getDocuments(e,i).next(p=>{const _=this.ji(t,p);return this.zi(t,_,i,l)?this.Qi(e,t):($m()<=Ee.in.DEBUG&&Pt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),ed(t)),this.Wi(e,_,t,function cv(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,l=Rn.fromTimestamp(1e9===i?new hs(t+1,0):new hs(t,i));return new ns(l,en.empty(),e)}(l,-1)))})}ji(e,t){let i=new Ki(Fb(e));return t.forEach((l,p)=>{Eg(e,p)&&(i=i.add(p))}),i}zi(e,t,i,l){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const p="F"===e.limitType?t.last():t.first();return!!p&&(p.hasPendingWrites||p.version.compareTo(l)>0)}Qi(e,t){return $m()<=Ee.in.DEBUG&&Pt("QueryEngine","Using full collection scan to execute query:",ed(t)),this.Ui.getDocumentsMatchingQuery(e,t,ns.min())}Wi(e,t,i,l){return this.Ui.getDocumentsMatchingQuery(e,i,l).next(p=>(t.forEach(_=>{p=p.insert(_.key,_)}),p))}}class fC{constructor(e,t,i,l){this.persistence=e,this.Hi=t,this.serializer=l,this.Ji=new mi(Kn),this.Yi=new gu(p=>Xu(p),xl),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(i)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Yb(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function yE(n,e){return rw.apply(this,arguments)}function rw(){return rw=(0,ae.Z)(function*(n,e){const t=Jt(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let l;return t.mutationQueue.getAllMutationBatches(i).next(p=>(l=p,t.tr(e),t.mutationQueue.getAllMutationBatches(i))).next(p=>{const _=[],T=[];let F=mr();for(const H of l){_.push(H.batchId);for(const ne of H.mutations)F=F.add(ne.key)}for(const H of p){T.push(H.batchId);for(const ne of H.mutations)F=F.add(ne.key)}return t.localDocuments.getDocuments(i,F).next(H=>({er:H,removedBatchIds:_,addedBatchIds:T}))})})}),rw.apply(this,arguments)}function O1(n){const e=Jt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function gC(n,e){const t=Jt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function A_(n,e,t){return Og.apply(this,arguments)}function Og(){return Og=(0,ae.Z)(function*(n,e,t){const i=Jt(n),l=i.Ji.get(e),p=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",p,_=>i.persistence.referenceDelegate.removeTarget(_,l)))}catch(_){if(!fu(_))throw _;Pt("LocalStore",`Failed to update sequence numbers for target ${e}: ${_}`)}i.Ji=i.Ji.remove(e),i.Yi.delete(l.target)}),Og.apply(this,arguments)}function jv(n,e,t){const i=Jt(n);let l=Rn.min(),p=mr();return i.persistence.runTransaction("Execute query","readonly",_=>function(T,F,H){const ne=Jt(T),ge=ne.Yi.get(H);return void 0!==ge?et.resolve(ne.Ji.get(ge)):ne.Bs.getTargetData(F,H)}(i,_,sc(e)).next(T=>{if(T)return l=T.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(_,T.targetId).next(F=>{p=F})}).next(()=>i.Hi.getDocumentsMatchingQuery(_,e,t?l:Rn.min(),t?p:mr())).next(T=>(function wE(n,e,t){let i=n.Xi.get(e)||Rn.min();t.forEach((l,p)=>{p.readTime.compareTo(i)>0&&(i=p.readTime)}),n.Xi.set(e,i)}(i,function kb(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),T),{documents:T,ir:p})))}class EE{constructor(){this.activeTargetIds=function f(){return c}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class R1{constructor(){this.Hr=new EE,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,i){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new EE,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class dS{Yr(e){}shutdown(){}}class P1{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Pt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Pt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let TE=null;function Mg(){return null===TE?TE=268435456+Math.round(2147483648*Math.random()):TE++,"0x"+TE.toString(16)}const yC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vC{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Dc="WebChannelConnection";class cw extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,i,l,p){const _=Mg(),T=this.To(e,t);Pt("RestConnection",`Sending RPC '${e}' ${_}:`,T,i);const F={};return this.Eo(F,l,p),this.Ao(e,T,F,i).then(H=>(Pt("RestConnection",`Received RPC '${e}' ${_}: `,H),H),H=>{throw Al("RestConnection",`RPC '${e}' ${_} failed with error: `,H,"url: ",T,"request:",i),H})}vo(e,t,i,l,p,_){return this.Io(e,t,i,l,p)}Eo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Sl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((l,p)=>e[p]=l),i&&i.headers.forEach((l,p)=>e[p]=l)}To(e,t){return`${this.mo}/v1/${t}:${yC[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,i,l){const p=Mg();return new Promise((_,T)=>{const F=new GT;F.setWithCredentials(!0),F.listenOnce(Hm.COMPLETE,()=>{try{switch(F.getLastErrorCode()){case Uf.NO_ERROR:const ne=F.getResponseJson();Pt(Dc,`XHR for RPC '${e}' ${p} received:`,JSON.stringify(ne)),_(ne);break;case Uf.TIMEOUT:Pt(Dc,`RPC '${e}' ${p} timed out`),T(new Mt(lt.DEADLINE_EXCEEDED,"Request time out"));break;case Uf.HTTP_ERROR:const ge=F.getStatus();if(Pt(Dc,`RPC '${e}' ${p} failed with status:`,ge,"response text:",F.getResponseText()),ge>0){let $e=F.getResponseJson();Array.isArray($e)&&($e=$e[0]);const ht=$e?.error;if(ht&&ht.status&&ht.message){const Ft=function(un){const fn=un.toLowerCase().replace(/_/g,"-");return Object.values(lt).indexOf(fn)>=0?fn:lt.UNKNOWN}(ht.status);T(new Mt(Ft,ht.message))}else T(new Mt(lt.UNKNOWN,"Server responded with status "+F.getStatus()))}else T(new Mt(lt.UNAVAILABLE,"Connection failed."));break;default:vn()}}finally{Pt(Dc,`RPC '${e}' ${p} completed.`)}});const H=JSON.stringify(l);Pt(Dc,`RPC '${e}' ${p} sending request:`,l),F.send(t,"POST",H,i,15)})}Ro(e,t,i){const l=Mg(),p=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],_=zu(),T=ev(),F={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},H=this.longPollingOptions.timeoutSeconds;void 0!==H&&(F.longPollingTimeout=Math.round(1e3*H)),this.useFetchStreams&&(F.xmlHttpFactory=new jm({})),this.Eo(F.initMessageHeaders,t,i),F.encodeInitMessageHeaders=!0;const ne=p.join("");Pt(Dc,`Creating RPC '${e}' stream ${l}: ${ne}`,F);const ge=_.createWebChannel(ne,F);let $e=!1,ht=!1;const Ft=new vC({ro:fn=>{ht?Pt(Dc,`Not sending because RPC '${e}' stream ${l} is closed:`,fn):($e||(Pt(Dc,`Opening RPC '${e}' stream ${l} transport.`),ge.open(),$e=!0),Pt(Dc,`RPC '${e}' stream ${l} sending:`,fn),ge.send(fn))},oo:()=>ge.close()}),un=(fn,Tr,ti)=>{fn.listen(Tr,Rr=>{try{ti(Rr)}catch(Ko){setTimeout(()=>{throw Ko},0)}})};return un(ge,Bf.EventType.OPEN,()=>{ht||Pt(Dc,`RPC '${e}' stream ${l} transport opened.`)}),un(ge,Bf.EventType.CLOSE,()=>{ht||(ht=!0,Pt(Dc,`RPC '${e}' stream ${l} transport closed`),Ft.wo())}),un(ge,Bf.EventType.ERROR,fn=>{ht||(ht=!0,Al(Dc,`RPC '${e}' stream ${l} transport errored:`,fn),Ft.wo(new Mt(lt.UNAVAILABLE,"The operation could not be completed")))}),un(ge,Bf.EventType.MESSAGE,fn=>{var Tr;if(!ht){const ti=fn.data[0];Sn(!!ti);const Ko=ti.error||(null===(Tr=ti[0])||void 0===Tr?void 0:Tr.error);if(Ko){Pt(Dc,`RPC '${e}' stream ${l} received error:`,Ko);const Uo=Ko.status;let is=function(Vg){const tI=er[Vg];if(void 0!==tI)return ks(tI)}(Uo),Hc=Ko.message;void 0===is&&(is=lt.INTERNAL,Hc="Unknown error status: "+Uo+" with message "+Ko.message),ht=!0,Ft.wo(new Mt(is,Hc)),ge.close()}else Pt(Dc,`RPC '${e}' stream ${l} received:`,ti),Ft._o(ti)}}),un(T,Eb.STAT_EVENT,fn=>{fn.stat===tv.PROXY?Pt(Dc,`RPC '${e}' stream ${l} detected buffering proxy`):fn.stat===tv.NOPROXY&&Pt(Dc,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{Ft.fo()},0),Ft}}function lw(){return typeof document<"u"?document:null}function O_(n){return new XI(n,!0)}class N_{constructor(e,t,i=1e3,l=1.5,p=6e4){this.ii=e,this.timerId=t,this.Po=i,this.bo=l,this.Vo=p,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),l=Math.max(0,t-i);l>0&&Pt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,l,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class k1{constructor(e,t,i,l,p,_,T,F){this.ii=e,this.$o=i,this.Oo=l,this.connection=p,this.authCredentialsProvider=_,this.appCheckCredentialsProvider=T,this.listener=F,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new N_(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,ae.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,ae.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var i=this;return(0,ae.Z)(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==e?i.qo.reset():t&&t.code===lt.RESOURCE_EXHAUSTED?(ws(t.toString()),ws("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):t&&t.code===lt.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,l])=>{this.Fo===t&&this.Zo(i,l)},i=>{e(()=>{const l=new Mt(lt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(l)})})}Zo(e,t){const i=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(l=>{i(()=>this.tu(l))}),this.stream.onMessage(l=>{i(()=>this.onMessage(l))})}Go(){var e=this;this.state=5,this.qo.No((0,ae.Z)(function*(){e.state=0,e.start()}))}tu(e){return Pt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Pt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bC extends k1{constructor(e,t,i,l,p,_){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,l,_),this.serializer=p}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function JT(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(F=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===F?1:"REMOVE"===F?2:"CURRENT"===F?3:"RESET"===F?4:vn(),l=e.targetChange.targetIds||[],p=function(F,H){return F.useProto3Json?(Sn(void 0===H||"string"==typeof H),Es.fromBase64String(H||"")):(Sn(void 0===H||H instanceof Uint8Array),Es.fromUint8Array(H||new Uint8Array))}(n,e.targetChange.resumeToken),_=e.targetChange.cause,T=_&&function(F){const H=void 0===F.code?lt.UNKNOWN:ks(F.code);return new Mt(H,F.message||"")}(_);t=new _u(i,l,p,T||null)}else if("documentChange"in e){const i=e.documentChange,l=Zd(n,i.document.name),p=Fo(i.document.updateTime),_=i.document.createTime?Fo(i.document.createTime):Rn.min(),T=new pa({mapValue:{fields:i.document.fields}}),F=Li.newFoundDocument(l,p,_,T);t=new Tg(i.targetIds||[],i.removedTargetIds||[],F.key,F)}else if("documentDelete"in e){const i=e.documentDelete,l=Zd(n,i.document),p=i.readTime?Fo(i.readTime):Rn.min(),_=Li.newNoDocument(l,p);t=new Tg([],i.removedTargetIds||[],_.key,_)}else if("documentRemove"in e){const i=e.documentRemove,l=Zd(n,i.document);t=new Tg([],i.removedTargetIds||[],l,null)}else{if(!("filter"in e))return vn();{const i=e.filter,{count:l=0,unchangedNames:p}=i,_=new Uc(l,p);t=new Mv(i.targetId,_)}}var F;return t}(this.serializer,e),i=function(l){if(!("targetChange"in l))return Rn.min();const p=l.targetChange;return p.targetIds&&p.targetIds.length?Rn.min():p.readTime?Fo(p.readTime):Rn.min()}(e);return this.listener.nu(t,i)}su(e){const t={};t.database=Ua(this.serializer),t.addTarget=function(l,p){let _;const T=p.target;if(_=Qf(T)?{documents:XT(l,T)}:{query:rE(l,T)},_.targetId=p.targetId,p.resumeToken.approximateByteSize()>0){_.resumeToken=$D(l,p.resumeToken);const F=Ub(l,p.expectedCount);null!==F&&(_.expectedCount=F)}else if(p.snapshotVersion.compareTo(Rn.min())>0){_.readTime=Dg(l,p.snapshotVersion.toTimestamp());const F=Ub(l,p.expectedCount);null!==F&&(_.expectedCount=F)}return _}(this.serializer,e);const i=function Pv(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vn()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Wo(t)}iu(e){const t={};t.database=Ua(this.serializer),t.removeTarget=e,this.Wo(t)}}class F1 extends k1{constructor(e,t,i,l,p,_){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,l,_),this.serializer=p,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Sn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function QT(n,e){return n&&n.length>0?(Sn(void 0!==e),n.map(t=>function(i,l){let p=Fo(i.updateTime?i.updateTime:l);return p.isEqual(Rn.min())&&(p=Fo(l)),new _r(p,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Fo(e.commitTime);return this.listener.cu(i,t)}return Sn(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Ua(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>function m_(n,e){let t;if(e instanceof Ds)t={update:tE(n,e.key,e.value)};else if(e instanceof bn)t={delete:qd(n,e.key)};else if(e instanceof ui)t={update:tE(n,e.key,e.data),updateMask:KD(e.fieldMask)};else{if(!(e instanceof jn))return vn();t={verify:qd(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,p){const _=p.transform;if(_ instanceof fe)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(_ instanceof be)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:_.elements}};if(_ instanceof ot)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:_.elements}};if(_ instanceof Nt)return{fieldPath:p.field.canonicalString(),increment:_.gt};throw vn()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(l=e.precondition).updateTime?{updateTime:p_(n,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:vn()),t;var l}(this.serializer,i))};this.Wo(t)}}class wC extends class{}{constructor(e,t,i,l){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=l,this.lu=!1}fu(){if(this.lu)throw new Mt(lt.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,p])=>this.connection.Io(e,t,i,l,p)).catch(l=>{throw"FirebaseError"===l.name?(l.code===lt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Mt(lt.UNKNOWN,l.toString())})}vo(e,t,i,l){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,_])=>this.connection.vo(e,t,i,p,_,l)).catch(p=>{throw"FirebaseError"===p.name?(p.code===lt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new Mt(lt.UNKNOWN,p.toString())})}terminate(){this.lu=!0}}class dw{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(ws(t),this.mu=!1):Pt("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class EC{constructor(e,t,i,l,p){var _=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=p,this.Pu.Yr(T=>{i.enqueueAndForget((0,ae.Z)(function*(){var F;Kd(_)&&(Pt("RemoteStore","Restarting streams for network reachability change."),yield(F=(0,ae.Z)(function*(H){const ne=Jt(H);ne.vu.add(4),yield xg(ne),ne.bu.set("Unknown"),ne.vu.delete(4),yield zv(ne)}),function(H){return F.apply(this,arguments)})(_))}))}),this.bu=new dw(i,l)}}function zv(n){return hw.apply(this,arguments)}function hw(){return hw=(0,ae.Z)(function*(n){if(Kd(n))for(const e of n.Ru)yield e(!0)}),hw.apply(this,arguments)}function xg(n){return Wv.apply(this,arguments)}function Wv(){return Wv=(0,ae.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),Wv.apply(this,arguments)}function qv(n,e){const t=Jt(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),AE(t)?SE(t):Jv(t).Ko()&&fw(t,e))}function Zv(n,e){const t=Jt(n),i=Jv(t);t.Au.delete(e),i.Ko()&&CE(t,e),0===t.Au.size&&(i.Ko()?i.jo():Kd(t)&&t.bu.set("Unknown"))}function fw(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Rn.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Jv(n).su(e)}function CE(n,e){n.Vu.qt(e),Jv(n).iu(e)}function SE(n){n.Vu=new Wd({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),Jv(n).start(),n.bu.gu()}function AE(n){return Kd(n)&&!Jv(n).Uo()&&n.Au.size>0}function Kd(n){return 0===Jt(n).vu.size}function pw(n){n.Vu=void 0}function L1(n){return Kv.apply(this,arguments)}function Kv(){return Kv=(0,ae.Z)(function*(n){n.Au.forEach((e,t)=>{fw(n,e)})}),Kv.apply(this,arguments)}function OE(n,e){return NE.apply(this,arguments)}function NE(){return NE=(0,ae.Z)(function*(n,e){pw(n),AE(n)?(n.bu.Iu(e),SE(n)):n.bu.set("Unknown")}),NE.apply(this,arguments)}function TC(n,e,t){return ME.apply(this,arguments)}function ME(){return ME=(0,ae.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof _u&&2===e.state&&e.cause)try{yield(i=(0,ae.Z)(function*(l,p){const _=p.cause;for(const T of p.targetIds)l.Au.has(T)&&(yield l.remoteSyncer.rejectListen(T,_),l.Au.delete(T),l.Vu.removeTarget(T))}),function(l,p){return i.apply(this,arguments)})(n,e)}catch(i){Pt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield gw(n,i)}else if(e instanceof Tg?n.Vu.Ht(e):e instanceof Mv?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(Rn.min()))try{const i=yield O1(n.localStore);t.compareTo(i)>=0&&(yield function(l,p){const _=l.Vu.ce(p);return _.targetChanges.forEach((T,F)=>{if(T.resumeToken.approximateByteSize()>0){const H=l.Au.get(F);H&&l.Au.set(F,H.withResumeToken(T.resumeToken,p))}}),_.targetMismatches.forEach((T,F)=>{const H=l.Au.get(T);if(!H)return;l.Au.set(T,H.withResumeToken(Es.EMPTY_BYTE_STRING,H.snapshotVersion)),CE(l,T);const ne=new Fl(H.target,T,F,H.sequenceNumber);fw(l,ne)}),l.remoteSyncer.applyRemoteEvent(_)}(n,t))}catch(i){Pt("RemoteStore","Failed to raise snapshot:",i),yield gw(n,i)}var i}),ME.apply(this,arguments)}function gw(n,e,t){return mw.apply(this,arguments)}function mw(){return mw=(0,ae.Z)(function*(n,e,t){if(!fu(e))throw e;n.vu.add(1),yield xg(n),n.bu.set("Offline"),t||(t=()=>O1(n.localStore)),n.asyncQueue.enqueueRetryable((0,ae.Z)(function*(){Pt("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield zv(n)}))}),mw.apply(this,arguments)}function _w(n,e){return e().catch(t=>gw(n,t,e))}function Rg(n){return yw.apply(this,arguments)}function yw(){return yw=(0,ae.Z)(function*(n){const e=Jt(n),t=Pg(e);let i=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;U1(e);)try{const l=yield gC(e.localStore,i);if(null===l){0===e.Eu.length&&t.jo();break}i=l.batchId,B1(e,l)}catch(l){yield gw(e,l)}V1(e)&&xE(e)}),yw.apply(this,arguments)}function U1(n){return Kd(n)&&n.Eu.length<10}function B1(n,e){n.Eu.push(e);const t=Pg(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function V1(n){return Kd(n)&&!Pg(n).Uo()&&n.Eu.length>0}function xE(n){Pg(n).start()}function H1(n){return RE.apply(this,arguments)}function RE(){return RE=(0,ae.Z)(function*(n){Pg(n).hu()}),RE.apply(this,arguments)}function j1(n){return vw.apply(this,arguments)}function vw(){return vw=(0,ae.Z)(function*(n){const e=Pg(n);for(const t of n.Eu)e.uu(t.mutations)}),vw.apply(this,arguments)}function Bc(n,e,t){return up.apply(this,arguments)}function up(){return up=(0,ae.Z)(function*(n,e,t){const i=n.Eu.shift(),l=rs.from(i,e,t);yield _w(n,()=>n.remoteSyncer.applySuccessfulWrite(l)),yield Rg(n)}),up.apply(this,arguments)}function DC(n,e){return PE.apply(this,arguments)}function PE(){return PE=(0,ae.Z)(function*(n,e){var t;e&&Pg(n).ou&&(yield(t=(0,ae.Z)(function*(i,l){if(function $d(n){switch(n){default:return vn();case lt.CANCELLED:case lt.UNKNOWN:case lt.DEADLINE_EXCEEDED:case lt.RESOURCE_EXHAUSTED:case lt.INTERNAL:case lt.UNAVAILABLE:case lt.UNAUTHENTICATED:return!1;case lt.INVALID_ARGUMENT:case lt.NOT_FOUND:case lt.ALREADY_EXISTS:case lt.PERMISSION_DENIED:case lt.FAILED_PRECONDITION:case lt.ABORTED:case lt.OUT_OF_RANGE:case lt.UNIMPLEMENTED:case lt.DATA_LOSS:return!0}}(p=l.code)&&p!==lt.ABORTED){const _=i.Eu.shift();Pg(i).Qo(),yield _w(i,()=>i.remoteSyncer.rejectFailedWrite(_.batchId,l)),yield Rg(i)}var p}),function(i,l){return t.apply(this,arguments)})(n,e)),V1(n)&&xE(n)}),PE.apply(this,arguments)}function CC(n,e){return G1.apply(this,arguments)}function G1(){return G1=(0,ae.Z)(function*(n,e){const t=Jt(n);t.asyncQueue.verifyOperationInProgress(),Pt("RemoteStore","RemoteStore received new credentials");const i=Kd(t);t.vu.add(3),yield xg(t),i&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield zv(t)}),G1.apply(this,arguments)}function Yv(){return Yv=(0,ae.Z)(function*(n,e){const t=Jt(n);e?(t.vu.delete(2),yield zv(t)):e||(t.vu.add(2),yield xg(t),t.bu.set("Unknown"))}),Yv.apply(this,arguments)}function Jv(n){return n.Su||(n.Su=function(e,t,i){const l=Jt(e);return l.fu(),new bC(t,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,i)}(n.datastore,n.asyncQueue,{uo:L1.bind(null,n),ao:OE.bind(null,n),nu:TC.bind(null,n)}),n.Ru.push(function(){var e=(0,ae.Z)(function*(t){t?(n.Su.Qo(),AE(n)?SE(n):n.bu.set("Unknown")):(yield n.Su.stop(),pw(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function Pg(n){return n.Du||(n.Du=function(e,t,i){const l=Jt(e);return l.fu(),new F1(t,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,i)}(n.datastore,n.asyncQueue,{uo:H1.bind(null,n),ao:DC.bind(null,n),au:j1.bind(null,n),cu:Bc.bind(null,n)}),n.Ru.push(function(){var e=(0,ae.Z)(function*(t){t?(n.Du.Qo(),yield Rg(n)):(yield n.Du.stop(),n.Eu.length>0&&(Pt("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class $1{constructor(e,t,i,l,p){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=l,this.removalCallback=p,this.deferred=new lo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(_=>{})}static createAndSchedule(e,t,i,l,p){const _=Date.now()+i,T=new $1(e,t,_,l,p);return T.start(i),T}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Mt(lt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yd(n,e){if(ws("AsyncQueue",`${e}: ${n}`),fu(n))return new Mt(lt.UNAVAILABLE,`${e}: ${n}`);throw n}class M_{constructor(e){this.comparator=e?(t,i)=>e(t,i)||en.comparator(t.key,i.key):(t,i)=>en.comparator(t.key,i.key),this.keyedMap=Ec(),this.sortedSet=new mi(this.comparator)}static emptySet(e){return new M_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof M_)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const l=t.getNext().key,p=i.getNext().key;if(!l.isEqual(p))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new M_;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class ww{constructor(){this.Cu=new mi(en.comparator)}track(e){const t=e.doc.key,i=this.Cu.get(t);i?0!==e.type&&3===i.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==i.type?this.Cu=this.Cu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Cu=this.Cu.remove(t):1===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):vn():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,i)=>{e.push(i)}),e}}class x_{constructor(e,t,i,l,p,_,T,F,H){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=l,this.mutatedKeys=p,this.fromCache=_,this.syncStateChanged=T,this.excludesMetadataChanges=F,this.hasCachedResults=H}static fromInitialDocuments(e,t,i,l,p){const _=[];return t.forEach(T=>{_.push({type:0,doc:T})}),new x_(e,t,M_.emptySet(t),_,i,l,!0,!1,p)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let l=0;l<t.length;l++)if(t[l].type!==i[l].type||!t[l].doc.isEqual(i[l].doc))return!1;return!0}}class z1{constructor(){this.Nu=void 0,this.listeners=[]}}class SC{constructor(){this.queries=new gu(e=>Av(e),tp),this.onlineState="Unknown",this.ku=new Set}}function kE(n,e){return FE.apply(this,arguments)}function FE(){return FE=(0,ae.Z)(function*(n,e){const t=Jt(n),i=e.query;let l=!1,p=t.queries.get(i);if(p||(l=!0,p=new z1),l)try{p.Nu=yield t.onListen(i)}catch(_){const T=Yd(_,`Initialization of query '${ed(e.query)}' failed`);return void e.onError(T)}t.queries.set(i,p),p.listeners.push(e),e.Mu(t.onlineState),p.Nu&&e.$u(p.Nu)&&Xv(t)}),FE.apply(this,arguments)}function Qv(n,e){return Iw.apply(this,arguments)}function Iw(){return Iw=(0,ae.Z)(function*(n,e){const t=Jt(n),i=e.query;let l=!1;const p=t.queries.get(i);if(p){const _=p.listeners.indexOf(e);_>=0&&(p.listeners.splice(_,1),l=0===p.listeners.length)}if(l)return t.queries.delete(i),t.onUnlisten(i)}),Iw.apply(this,arguments)}function AC(n,e){const t=Jt(n);let i=!1;for(const l of e){const _=t.queries.get(l.query);if(_){for(const T of _.listeners)T.$u(l)&&(i=!0);_.Nu=l}}i&&Xv(t)}function Ew(n,e,t){const i=Jt(n),l=i.queries.get(e);if(l)for(const p of l.listeners)p.onError(t);i.queries.delete(e)}function Xv(n){n.ku.forEach(e=>{e.next()})}class W1{constructor(e,t,i){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(e){if(!this.options.includeMetadataChanges){const i=[];for(const l of e.docChanges)3!==l.type&&i.push(l);e=new x_(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=x_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Y1{constructor(e){this.key=e}}class LE{constructor(e){this.key=e}}class Tw{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=mr(),this.mutatedKeys=mr(),this.tc=Fb(e),this.ec=new M_(this.tc)}get nc(){return this.Yu}sc(e,t){const i=t?t.ic:new ww,l=t?t.ec:this.ec;let p=t?t.mutatedKeys:this.mutatedKeys,_=l,T=!1;const F="F"===this.query.limitType&&l.size===this.query.limit?l.last():null,H="L"===this.query.limitType&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((ne,ge)=>{const $e=l.get(ne),ht=Eg(this.query,ge)?ge:null,Ft=!!$e&&this.mutatedKeys.has($e.key),un=!!ht&&(ht.hasLocalMutations||this.mutatedKeys.has(ht.key)&&ht.hasCommittedMutations);let fn=!1;$e&&ht?$e.data.isEqual(ht.data)?Ft!==un&&(i.track({type:3,doc:ht}),fn=!0):this.rc($e,ht)||(i.track({type:2,doc:ht}),fn=!0,(F&&this.tc(ht,F)>0||H&&this.tc(ht,H)<0)&&(T=!0)):!$e&&ht?(i.track({type:0,doc:ht}),fn=!0):$e&&!ht&&(i.track({type:1,doc:$e}),fn=!0,(F||H)&&(T=!0)),fn&&(ht?(_=_.add(ht),p=un?p.add(ne):p.delete(ne)):(_=_.delete(ne),p=p.delete(ne)))}),null!==this.query.limit)for(;_.size>this.query.limit;){const ne="F"===this.query.limitType?_.last():_.first();_=_.delete(ne.key),p=p.delete(ne.key),i.track({type:1,doc:ne})}return{ec:_,ic:i,zi:T,mutatedKeys:p}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const l=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const p=e.ic.xu();p.sort((H,ne)=>function(ge,$e){const ht=Ft=>{switch(Ft){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vn()}};return ht(ge)-ht($e)}(H.type,ne.type)||this.tc(H.doc,ne.doc)),this.oc(i);const _=t?this.uc():[],T=0===this.Zu.size&&this.current?1:0,F=T!==this.Xu;return this.Xu=T,0!==p.length||F?{snapshot:new x_(this.query,e.ec,l,p,e.mutatedKeys,0===T,F,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:_}:{cc:_}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new ww,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=mr(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const t=[];return e.forEach(i=>{this.Zu.has(i)||t.push(new LE(i))}),this.Zu.forEach(i=>{e.has(i)||t.push(new Y1(i))}),t}hc(e){this.Yu=e.ir,this.Zu=mr();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return x_.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class hS{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class OC{constructor(e){this.key=e,this.fc=!1}}class fS{constructor(e,t,i,l,p,_){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=l,this.currentUser=p,this.maxConcurrentLimboResolutions=_,this.dc={},this.wc=new gu(T=>Av(T),tp),this._c=new Map,this.mc=new Set,this.gc=new mi(en.comparator),this.yc=new Map,this.Ic=new Jb,this.Tc={},this.Ec=new Map,this.Ac=cp.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function NC(n,e){return UE.apply(this,arguments)}function UE(){return UE=(0,ae.Z)(function*(n,e){const t=function KE(n){const e=Jt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=X1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$E.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=MC.bind(null,e),e.dc.nu=AC.bind(null,e.eventManager),e.dc.Pc=Ew.bind(null,e.eventManager),e}(n);let i,l;const p=t.wc.get(e);if(p)i=p.targetId,t.sharedClientState.addLocalQueryTarget(i),l=p.view.lc();else{const _=yield function S_(n,e){const t=Jt(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let l;return t.Bs.getTargetData(i,e).next(p=>p?(l=p,et.resolve(l)):t.Bs.allocateTargetId(i).next(_=>(l=new Fl(e,_,"TargetPurposeListen",i.currentSequenceNumber),t.Bs.addTargetData(i,l).next(()=>l))))}).then(i=>{const l=t.Ji.get(i.targetId);return(null===l||i.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(i.targetId,i),t.Yi.set(e,i.targetId)),i})}(t.localStore,sc(e)),T=t.sharedClientState.addLocalQueryTarget(_.targetId);i=_.targetId,l=yield function BE(n,e,t,i,l){return Dw.apply(this,arguments)}(t,e,i,"current"===T,_.resumeToken),t.isPrimaryClient&&qv(t.remoteStore,_)}return l}),UE.apply(this,arguments)}function Dw(){return Dw=(0,ae.Z)(function*(n,e,t,i,l){n.Rc=(ge,$e,ht)=>{return(Ft=(0,ae.Z)(function*(un,fn,Tr,ti){let Rr=fn.view.sc(Tr);Rr.zi&&(Rr=yield jv(un.localStore,fn.query,!1).then(({documents:is})=>fn.view.sc(is,Rr)));const Ko=ti&&ti.targetChanges.get(fn.targetId),Uo=fn.view.applyChanges(Rr,un.isPrimaryClient,Ko);return iD(un,fn.targetId,Uo.cc),Uo.snapshot}),function(un,fn,Tr,ti){return Ft.apply(this,arguments)})(n,ge,$e,ht);var Ft};const p=yield jv(n.localStore,e,!0),_=new Tw(e,p.ir),T=_.sc(p.documents),F=Hh.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,l),H=_.applyChanges(T,n.isPrimaryClient,F);iD(n,t,H.cc);const ne=new hS(e,t,_);return n.wc.set(e,ne),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),H.snapshot}),Dw.apply(this,arguments)}function J1(n,e){return VE.apply(this,arguments)}function VE(){return VE=(0,ae.Z)(function*(n,e){const t=Jt(n),i=t.wc.get(e),l=t._c.get(i.targetId);if(l.length>1)return t._c.set(i.targetId,l.filter(p=>!tp(p,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield A_(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),Zv(t.remoteStore,i.targetId),e0(t,i.targetId)}).catch(Rd))):(e0(t,i.targetId),yield A_(t.localStore,i.targetId,!0))}),VE.apply(this,arguments)}function Cw(){return Cw=(0,ae.Z)(function*(n,e,t){const i=function YE(n){const e=Jt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tD.bind(null,e),e}(n);try{const l=yield function(p,_){const T=Jt(p),F=hs.now(),H=_.reduce(($e,ht)=>$e.add(ht.key),mr());let ne,ge;return T.persistence.runTransaction("Locally write mutations","readwrite",$e=>{let ht=Ic(),Ft=mr();return T.Zi.getEntries($e,H).next(un=>{ht=un,ht.forEach((fn,Tr)=>{Tr.isValidDocument()||(Ft=Ft.add(fn))})}).next(()=>T.localDocuments.getOverlayedDocuments($e,ht)).next(un=>{ne=un;const fn=[];for(const Tr of _){const ti=di(Tr,ne.get(Tr.key).overlayedDocument);null!=ti&&fn.push(new ui(Tr.key,ti,Jm(ti.value.mapValue),qt.exists(!0)))}return T.mutationQueue.addMutationBatch($e,F,fn,_)}).next(un=>{ge=un;const fn=un.applyToLocalDocumentSet(ne,Ft);return T.documentOverlayCache.saveOverlays($e,un.batchId,fn)})}).then(()=>({batchId:ge.batchId,changes:Ov(ne)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(l.batchId),function(p,_,T){let F=p.Tc[p.currentUser.toKey()];F||(F=new mi(Kn)),F=F.insert(_,T),p.Tc[p.currentUser.toKey()]=F}(i,l.batchId,t),yield dp(i,l.changes),yield Rg(i.remoteStore)}catch(l){const p=Yd(l,"Failed to persist write");t.reject(p)}}),Cw.apply(this,arguments)}function X1(n,e){return HE.apply(this,arguments)}function HE(){return HE=(0,ae.Z)(function*(n,e){const t=Jt(n);try{const i=yield function pC(n,e){const t=Jt(n),i=e.snapshotVersion;let l=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",p=>{const _=t.Zi.newChangeBuffer({trackRemovals:!0});l=t.Ji;const T=[];e.targetChanges.forEach((ne,ge)=>{const $e=l.get(ge);if(!$e)return;T.push(t.Bs.removeMatchingKeys(p,ne.removedDocuments,ge).next(()=>t.Bs.addMatchingKeys(p,ne.addedDocuments,ge)));let ht=$e.withSequenceNumber(p.currentSequenceNumber);var Ft,un,fn;null!==e.targetMismatches.get(ge)?ht=ht.withResumeToken(Es.EMPTY_BYTE_STRING,Rn.min()).withLastLimboFreeSnapshotVersion(Rn.min()):ne.resumeToken.approximateByteSize()>0&&(ht=ht.withResumeToken(ne.resumeToken,i)),l=l.insert(ge,ht),un=ht,fn=ne,(0===(Ft=$e).resumeToken.approximateByteSize()||un.snapshotVersion.toMicroseconds()-Ft.snapshotVersion.toMicroseconds()>=3e8||fn.addedDocuments.size+fn.modifiedDocuments.size+fn.removedDocuments.size>0)&&T.push(t.Bs.updateTargetData(p,ht))});let F=Ic(),H=mr();if(e.documentUpdates.forEach(ne=>{e.resolvedLimboDocuments.has(ne)&&T.push(t.persistence.referenceDelegate.updateLimboDocument(p,ne))}),T.push(function N1(n,e,t){let i=mr(),l=mr();return t.forEach(p=>i=i.add(p)),e.getEntries(n,i).next(p=>{let _=Ic();return t.forEach((T,F)=>{const H=p.get(T);F.isFoundDocument()!==H.isFoundDocument()&&(l=l.add(T)),F.isNoDocument()&&F.version.isEqual(Rn.min())?(e.removeEntry(T,F.readTime),_=_.insert(T,F)):!H.isValidDocument()||F.version.compareTo(H.version)>0||0===F.version.compareTo(H.version)&&H.hasPendingWrites?(e.addEntry(F),_=_.insert(T,F)):Pt("LocalStore","Ignoring outdated watch update for ",T,". Current version:",H.version," Watch version:",F.version)}),{nr:_,sr:l}})}(p,_,e.documentUpdates).next(ne=>{F=ne.nr,H=ne.sr})),!i.isEqual(Rn.min())){const ne=t.Bs.getLastRemoteSnapshotVersion(p).next(ge=>t.Bs.setTargetsMetadata(p,p.currentSequenceNumber,i));T.push(ne)}return et.waitFor(T).next(()=>_.apply(p)).next(()=>t.localDocuments.getLocalViewOfDocuments(p,F,H)).next(()=>F)}).then(p=>(t.Ji=l,p))}(t.localStore,e);e.targetChanges.forEach((l,p)=>{const _=t.yc.get(p);_&&(Sn(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?_.fc=!0:l.modifiedDocuments.size>0?Sn(_.fc):l.removedDocuments.size>0&&(Sn(_.fc),_.fc=!1))}),yield dp(t,i,e)}catch(i){yield Rd(i)}}),HE.apply(this,arguments)}function jE(n,e,t){const i=Jt(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const l=[];i.wc.forEach((p,_)=>{const T=_.view.Mu(e);T.snapshot&&l.push(T.snapshot)}),function(p,_){const T=Jt(p);T.onlineState=_;let F=!1;T.queries.forEach((H,ne)=>{for(const ge of ne.listeners)ge.Mu(_)&&(F=!0)}),F&&Xv(T)}(i.eventManager,e),l.length&&i.dc.nu(l),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function MC(n,e,t){return Sw.apply(this,arguments)}function Sw(){return Sw=(0,ae.Z)(function*(n,e,t){const i=Jt(n);i.sharedClientState.updateQueryState(e,"rejected",t);const l=i.yc.get(e),p=l&&l.key;if(p){let _=new mi(en.comparator);_=_.insert(p,Li.newNoDocument(p,Rn.min()));const T=mr().add(p),F=new Vh(Rn.min(),new Map,new mi(Kn),_,T);yield X1(i,F),i.gc=i.gc.remove(p),i.yc.delete(e),sD(i)}else yield A_(i.localStore,e,!1).then(()=>e0(i,e,t)).catch(Rd)}),Sw.apply(this,arguments)}function eD(n,e){return Aw.apply(this,arguments)}function Aw(){return Aw=(0,ae.Z)(function*(n,e){const t=Jt(n),i=e.batch.batchId;try{const l=yield function A1(n,e){const t=Jt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const l=e.batch.keys(),p=t.Zi.newChangeBuffer({trackRemovals:!0});return function(_,T,F,H){const ne=F.batch,ge=ne.keys();let $e=et.resolve();return ge.forEach(ht=>{$e=$e.next(()=>H.getEntry(T,ht)).next(Ft=>{const un=F.docVersions.get(ht);Sn(null!==un),Ft.version.compareTo(un)<0&&(ne.applyToRemoteDocument(Ft,F),Ft.isValidDocument()&&(Ft.setReadTime(F.commitVersion),H.addEntry(Ft)))})}),$e.next(()=>_.mutationQueue.removeMutationBatch(T,ne))}(t,i,e,p).next(()=>p.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,l,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(_){let T=mr();for(let F=0;F<_.mutationResults.length;++F)_.mutationResults[F].transformResults.length>0&&(T=T.add(_.batch.mutations[F].key));return T}(e))).next(()=>t.localDocuments.getDocuments(i,l))})}(t.localStore,e);rD(t,i,null),Ow(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield dp(t,l)}catch(l){yield Rd(l)}}),Aw.apply(this,arguments)}function tD(n,e,t){return GE.apply(this,arguments)}function GE(){return GE=(0,ae.Z)(function*(n,e,t){const i=Jt(n);try{const l=yield function(p,_){const T=Jt(p);return T.persistence.runTransaction("Reject batch","readwrite-primary",F=>{let H;return T.mutationQueue.lookupMutationBatch(F,_).next(ne=>(Sn(null!==ne),H=ne.keys(),T.mutationQueue.removeMutationBatch(F,ne))).next(()=>T.mutationQueue.performConsistencyCheck(F)).next(()=>T.documentOverlayCache.removeOverlaysForBatchId(F,H,_)).next(()=>T.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(F,H)).next(()=>T.localDocuments.getDocuments(F,H))})}(i.localStore,e);rD(i,e,t),Ow(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield dp(i,l)}catch(l){yield Rd(l)}}),GE.apply(this,arguments)}function Ow(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function rD(n,e,t){const i=Jt(n);let l=i.Tc[i.currentUser.toKey()];if(l){const p=l.get(e);p&&(t?p.reject(t):p.resolve(),l=l.remove(e)),i.Tc[i.currentUser.toKey()]=l}}function e0(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n._c.get(e))n.wc.delete(i),t&&n.dc.Pc(i,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(i=>{n.Ic.containsKey(i)||RC(n,i)})}function RC(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(Zv(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),sD(n))}function iD(n,e,t){for(const i of t)i instanceof Y1?(n.Ic.addReference(i.key,e),pS(n,i)):i instanceof LE?(Pt("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,e),n.Ic.containsKey(i.key)||RC(n,i.key)):vn()}function pS(n,e){const t=e.key,i=t.path.canonicalString();n.gc.get(t)||n.mc.has(i)||(Pt("SyncEngine","New document in limbo: "+t),n.mc.add(i),sD(n))}function sD(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new en(qr.fromString(e)),i=n.Ac.next();n.yc.set(i,new OC(t)),n.gc=n.gc.insert(t,i),qv(n.remoteStore,new Fl(sc(Gd(t.path)),i,"TargetPurposeLimboResolution",Fi.ct))}}function dp(n,e,t){return oD.apply(this,arguments)}function oD(){return oD=(0,ae.Z)(function*(n,e,t){const i=Jt(n),l=[],p=[],_=[];var T;i.wc.isEmpty()||(i.wc.forEach((T,F)=>{_.push(i.Rc(F,e,t).then(H=>{if((H||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(F.targetId,H?.fromCache?"not-current":"current"),H){l.push(H);const ne=D1.Li(F.targetId,H);p.push(ne)}}))}),yield Promise.all(_),i.dc.nu(l),yield(T=(0,ae.Z)(function*(F,H){const ne=Jt(F);try{yield ne.persistence.runTransaction("notifyLocalViewChanges","readwrite",ge=>et.forEach(H,$e=>et.forEach($e.Fi,ht=>ne.persistence.referenceDelegate.addReference(ge,$e.targetId,ht)).next(()=>et.forEach($e.Bi,ht=>ne.persistence.referenceDelegate.removeReference(ge,$e.targetId,ht)))))}catch(ge){if(!fu(ge))throw ge;Pt("LocalStore","Failed to update sequence numbers: "+ge)}for(const ge of H){const $e=ge.targetId;if(!ge.fromCache){const ht=ne.Ji.get($e),un=ht.withLastLimboFreeSnapshotVersion(ht.snapshotVersion);ne.Ji=ne.Ji.insert($e,un)}}}),function(F,H){return T.apply(this,arguments)})(i.localStore,p))}),oD.apply(this,arguments)}function gS(n,e){return Nw.apply(this,arguments)}function Nw(){return Nw=(0,ae.Z)(function*(n,e){const t=Jt(n);if(!t.currentUser.isEqual(e)){Pt("SyncEngine","User change. New user:",e.toKey());const i=yield yE(t.localStore,e);t.currentUser=e,(l=t).Ec.forEach(_=>{_.forEach(T=>{T.reject(new Mt(lt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.Ec.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield dp(t,i.er)}var l}),Nw.apply(this,arguments)}function $E(n,e){const t=Jt(n),i=t.yc.get(e);if(i&&i.fc)return mr().add(i.key);{let l=mr();const p=t._c.get(e);if(!p)return l;for(const _ of p){const T=t.wc.get(_);l=l.unionWith(T.view.nc)}return l}}class Pw{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ae.Z)(function*(){t.serializer=O_(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function S1(n,e,t,i){return new fC(n,e,t,i)}(this.persistence,new C1,e.initialUser,this.serializer)}createPersistence(e){return new Qb(Xb.zs,this.serializer)}createSharedClientState(e){return new R1}terminate(){var e=this;return(0,ae.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class R_{initialize(e,t){var i=this;return(0,ae.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=l=>jE(i.syncEngine,l,1),i.remoteStore.remoteSyncer.handleCredentialChange=gS.bind(null,i.syncEngine),yield function bw(n,e){return Yv.apply(this,arguments)}(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new SC}createDatastore(e){const t=O_(e.databaseInfo.databaseId),i=new cw(e.databaseInfo);return new wC(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,l=e.asyncQueue,p=T=>jE(this.syncEngine,T,0),_=P1.D()?new P1:new dS,new EC(t,i,l,p,_);var t,i,l,p,_}createSyncEngine(e,t){return function(i,l,p,_,T,F,H){const ne=new fS(i,l,p,_,T,F);return H&&(ne.vc=!0),ne}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ae.Z)(function*(t){const i=Jt(t);Pt("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield xg(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class Fw{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):ws("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class HC{constructor(e,t,i,l){var p=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=l,this.user=eo.UNAUTHENTICATED,this.clientId=Cb.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var _=(0,ae.Z)(function*(T){Pt("FirestoreClient","Received user=",T.uid),yield p.authCredentialListener(T),p.user=T});return function(T){return _.apply(this,arguments)}}()),this.appCheckCredentials.start(i,_=>(Pt("FirestoreClient","Received new app check token=",_),this.appCheckCredentialListener(_,this.user)))}getConfiguration(){var e=this;return(0,ae.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Mt(lt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new lo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ae.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const l=Yd(i,"Failed to shutdown persistence");t.reject(l)}})),t.promise}}function Lw(n,e){return JE.apply(this,arguments)}function JE(){return JE=(0,ae.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Pt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var l=(0,ae.Z)(function*(p){i.isEqual(p)||(yield yE(e.localStore,p),i=p)});return function(p){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),JE.apply(this,arguments)}function QE(n,e){return Uw.apply(this,arguments)}function Uw(){return Uw=(0,ae.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function XE(n){return eT.apply(this,arguments)}(n);Pt("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(l=>CC(e.remoteStore,l)),n.setAppCheckTokenChangeListener((l,p)=>CC(e.remoteStore,p)),n._onlineComponents=e}),Uw.apply(this,arguments)}function eT(){return eT=(0,ae.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Pt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Lw(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function Bw(n){return"FirebaseError"===n.name?n.code===lt.FAILED_PRECONDITION||n.code===lt.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;Al("Error using user provided cache. Falling back to memory cache: "+t),yield Lw(n,new Pw)}}else Pt("FirestoreClient","Using default OfflineComponentProvider"),yield Lw(n,new Pw);return n._offlineComponents}),eT.apply(this,arguments)}function t0(n){return Vw.apply(this,arguments)}function Vw(){return Vw=(0,ae.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Pt("FirestoreClient","Using user provided OnlineComponentProvider"),yield QE(n,n._uninitializedComponentsProvider._online)):(Pt("FirestoreClient","Using default OnlineComponentProvider"),yield QE(n,new R_))),n._onlineComponents}),Vw.apply(this,arguments)}function Lg(n){return nT.apply(this,arguments)}function nT(){return nT=(0,ae.Z)(function*(n){const e=yield t0(n),t=e.eventManager;return t.onListen=NC.bind(null,e.syncEngine),t.onUnlisten=J1.bind(null,e.syncEngine),t}),nT.apply(this,arguments)}function _D(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const yD=new Map;function Gw(n,e,t){if(!t)throw new Mt(lt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function sT(n){if(!en.isDocumentKey(n))throw new Mt(lt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function vD(n){if(en.isDocumentKey(n))throw new Mt(lt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function n0(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":vn()}function oi(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Mt(lt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=n0(n);throw new Mt(lt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class oT{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new Mt(lt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Mt(lt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function vS(n,e,t,i){if(!0===e&&!0===i)throw new Mt(lt.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=_D(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(l){if(void 0!==l.timeoutSeconds){if(isNaN(l.timeoutSeconds))throw new Mt(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Mt(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Mt(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class P_{constructor(e,t,i,l){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oT({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Mt(lt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Mt(lt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oT(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new PI;switch(t.type){case"firstParty":return new dg(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Mt(lt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=yD.get(e);t&&(Pt("ComponentProvider","Removing Datastore"),yD.delete(e),t.terminate())}(this),Promise.resolve()}}class fo{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fo(this.firestore,e,this._key)}}class Va{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Va(this.firestore,e,this._query)}}class Vc extends Va{constructor(e,t,i){super(e,t,Gd(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fo(this.firestore,null,new en(e))}withConverter(e){return new Vc(this.firestore,e,this._path)}}function zw(n,e,...t){if(n=(0,he.m9)(n),Gw("collection","path",e),n instanceof P_){const i=qr.fromString(e,...t);return vD(i),new Vc(n,null,i)}{if(!(n instanceof fo||n instanceof Vc))throw new Mt(lt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(qr.fromString(e,...t));return vD(i),new Vc(n.firestore,null,i)}}function aT(n,e,...t){if(n=(0,he.m9)(n),1===arguments.length&&(e=Cb.A()),Gw("doc","path",e),n instanceof P_){const i=qr.fromString(e,...t);return sT(i),new fo(n,null,new en(i))}{if(!(n instanceof fo||n instanceof Vc))throw new Mt(lt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(qr.fromString(e,...t));return sT(i),new fo(n.firestore,n instanceof Vc?n.converter:null,new en(i))}}class wS{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new N_(this,"async_queue_retry"),this.Xc=()=>{const t=lw();t&&Pt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=lw();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=lw();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new lo;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,ae.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!fu(t))throw t;Pt("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(i=>{throw this.Wc=i,this.Hc=!1,ws("INTERNAL UNHANDLED ERROR: ",function(p){let _=p.message||"";return p.stack&&(_=p.stack.includes(p.message)?p.stack:p.message+"\n"+p.stack),_}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=t,t}enqueueAfterDelay(e,t,i){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const l=$1.createAndSchedule(this,e,t,i,p=>this.na(p));return this.zc.push(l),l}Zc(){this.Wc&&vn()}verifyOperationInProgress(){}sa(){var e=this;return(0,ae.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class Fs extends P_{constructor(e,t,i,l){super(e,t,i,l),this.type="firestore",this._queue=new wS,this._persistenceKey=l?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||wD(this),this._firestoreClient.terminate()}}function ES(n,e){const t="object"==typeof n?n:(0,Ie.Mq)(),i="string"==typeof n?n:e||"(default)",l=(0,Ie.qX)(t,"firestore").getImmediate({identifier:i});if(!l._initialized){const p=(0,he.P0)("firestore");p&&function zC(n,e,t,i={}){var l;const p=(n=oi(n,P_))._getSettings(),_=`${e}:${t}`;if("firestore.googleapis.com"!==p.host&&p.host!==_&&Al("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},p),{host:_,ssl:!1})),i.mockUserToken){let T,F;if("string"==typeof i.mockUserToken)T=i.mockUserToken,F=eo.MOCK_USER;else{T=(0,he.Sg)(i.mockUserToken,null===(l=n._app)||void 0===l?void 0:l.options.projectId);const H=i.mockUserToken.sub||i.mockUserToken.user_id;if(!H)throw new Mt(lt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");F=new eo(H)}n._authCredentials=new kI(new iv(T,F))}}(l,...p)}return l}function Lo(n){return n._firestoreClient||wD(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function wD(n){var e,t,i;const l=n._freezeSettings(),p=(T=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new _v(n._databaseId,T,n._persistenceKey,(H=l).host,H.ssl,H.experimentalForceLongPolling,H.experimentalAutoDetectLongPolling,_D(H.experimentalLongPollingOptions),H.useFetchStreams));var T,H;n._firestoreClient=new HC(n._authCredentials,n._appCheckCredentials,n._queue,p),null!==(t=l.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=l.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:l.cache.kind,_offline:l.cache._offlineComponentProvider,_online:l.cache._onlineComponentProvider})}class fp{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fp(Es.fromBase64String(e))}catch(t){throw new Mt(lt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new fp(Es.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class pp{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Mt(lt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Is(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class r0{constructor(e){this._methodName=e}}class s0{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Mt(lt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Mt(lt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Kn(this._lat,e._lat)||Kn(this._long,e._long)}}const lT=/^__.*__$/;class qw{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new ui(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ds(e,this.data,t,this.fieldTransforms)}}class KC{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new ui(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function YC(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vn()}}class uT{constructor(e,t,i,l,p,_){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=l,void 0===p&&this.ua(),this.fieldTransforms=p||[],this.fieldMask=_||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new uT(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.aa({path:i,la:!1});return l.fa(e),l}da(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.aa({path:i,la:!1});return l.ua(),l}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Jw(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(YC(this.ca)&&lT.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class TD{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||O_(e)}ya(e,t,i,l=!1){return new uT({ca:e,methodName:t,ga:i,path:Is.emptyPath(),la:!1,ma:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function F_(n){const e=n._freezeSettings(),t=O_(n._databaseId);return new TD(n._databaseId,!!e.ignoreUndefinedProperties,t)}function dT(n,e,t,i,l,p={}){const _=n.ya(p.merge||p.mergeFields?2:0,e,t,l);pT("Data must be an object, but it was:",_,i);const T=fT(i,_);let F,H;if(p.merge)F=new Fa(_.fieldMask),H=_.fieldTransforms;else if(p.mergeFields){const ne=[];for(const ge of p.mergeFields){const $e=a0(e,ge,t);if(!_.contains($e))throw new Mt(lt.INVALID_ARGUMENT,`Field '${$e}' is specified in your field mask but missing from your input data.`);OD(ne,$e)||ne.push($e)}F=new Fa(ne),H=_.fieldTransforms.filter(ge=>F.covers(ge.field))}else F=null,H=_.fieldTransforms;return new qw(new pa(T),F,H)}class o0 extends r0{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof o0}}function DD(n,e,t){return new uT({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class CD extends r0{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=DD(this,e,!0),i=this.pa.map(p=>L_(p,t)),l=new be(i);return new Mn(e.path,l)}isEqual(e){return this===e}}class SD extends r0{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=DD(this,e,!0),i=this.pa.map(p=>L_(p,t)),l=new ot(i);return new Mn(e.path,l)}isEqual(e){return this===e}}function Kw(n,e,t,i=!1){return L_(t,n.ya(i?4:3,e))}function L_(n,e){if(Yw(n=(0,he.m9)(n)))return pT("Unsupported field value:",e,n),fT(n,e);if(n instanceof r0)return function(t,i){if(!YC(i.ca))throw i._a(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${t._methodName}() is not currently supported inside arrays`);const l=t._toFieldTransform(i);l&&i.fieldTransforms.push(l)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,i){const l=[];let p=0;for(const _ of t){let T=L_(_,i.wa(p));null==T&&(T={nullValue:"NULL_VALUE"}),l.push(T),p++}return{arrayValue:{values:l}}}(n,e)}return function(t,i){if(null===(t=(0,he.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return m(i.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const l=hs.fromDate(t);return{timestampValue:Dg(i.serializer,l)}}if(t instanceof hs){const l=new hs(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Dg(i.serializer,l)}}if(t instanceof s0)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof fp)return{bytesValue:$D(i.serializer,t._byteString)};if(t instanceof fo){const l=i.databaseId,p=t.firestore._databaseId;if(!p.isEqual(l))throw i._a(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:eE(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i._a(`Unsupported field value: ${n0(t)}`)}(n,e)}function fT(n,e){const t={};return mg(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ka(n,(i,l)=>{const p=L_(l,e.ha(i));null!=p&&(t[i]=p)}),{mapValue:{fields:t}}}function Yw(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof hs||n instanceof s0||n instanceof fp||n instanceof fo||n instanceof r0)}function pT(n,e,t){if(!Yw(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=n0(t);throw e._a("an object"===i?n+" a custom object":n+" "+i)}var i}function a0(n,e,t){if((e=(0,he.m9)(e))instanceof pp)return e._internalPath;if("string"==typeof e)return gT(n,e);throw Jw("Field path arguments must be of type string or ",n,!1,void 0,t)}const AS=new RegExp("[~\\*/\\[\\]]");function gT(n,e,t){if(e.search(AS)>=0)throw Jw(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new pp(...e.split("."))._internalPath}catch{throw Jw(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Jw(n,e,t,i,l){const p=i&&!i.isEmpty(),_=void 0!==l;let T=`Function ${e}() called with invalid data`;t&&(T+=" (via `toFirestore()`)"),T+=". ";let F="";return(p||_)&&(F+=" (found",p&&(F+=` in field ${i}`),_&&(F+=` in document ${l}`),F+=")"),new Mt(lt.INVALID_ARGUMENT,T+n+F)}function OD(n,e){return n.some(t=>t.isEqual(e))}class mT{constructor(e,t,i,l,p){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=l,this._converter=p}get id(){return this._key.path.lastSegment()}get ref(){return new fo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new QC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(c0("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class QC extends mT{data(){return super.data()}}function c0(n,e){return"string"==typeof e?gT(n,e):e instanceof pp?e._internalPath:e._delegate._internalPath}class yT{}class l0 extends yT{}function ND(n,e,...t){let i=[];e instanceof yT&&i.push(e),i=i.concat(t),function(l){const p=l.filter(T=>T instanceof gp).length,_=l.filter(T=>T instanceof Qw).length;if(p>1||p>0&&_>0)throw new Mt(lt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const l of i)n=l._apply(n);return n}class Qw extends l0{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Qw(e,t,i)}_apply(e){const t=this._parse(e);return oS(e._query,t),new Va(e.firestore,e.converter,c_(e._query,t))}_parse(e){const t=F_(e.firestore);return function(l,p,_,T,F,H,ne){let ge;if(F.isKeyField()){if("array-contains"===H||"array-contains-any"===H)throw new Mt(lt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${H}' queries on documentId().`);if("in"===H||"not-in"===H){xD(ne,H);const $e=[];for(const ht of ne)$e.push(MD(T,l,ht));ge={arrayValue:{values:$e}}}else ge=MD(T,l,ne)}else"in"!==H&&"not-in"!==H&&"array-contains-any"!==H||xD(ne,H),ge=Kw(_,"where",ne,"in"===H||"not-in"===H);return Hr.create(F,H,ge)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function XC(n,e,t){const i=e,l=c0("where",n);return Qw._create(l,i,t)}class gp extends yT{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new gp(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:li.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,l){let p=i;const _=l.getFlattenedFilters();for(const T of _)oS(p,T),p=c_(p,T)}(e._query,t),new Va(e.firestore,e.converter,c_(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class vT extends l0{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new vT(e,t)}_apply(e){const t=function(i,l,p){if(null!==i.startAt)throw new Mt(lt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Mt(lt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const _=new Lh(l,p);return function(T,F){if(null===Ig(T)){const H=Ts(T);null!==H&&aS(0,H,F.field)}}(i,_),_}(e._query,this._field,this._direction);return new Va(e.firestore,e.converter,function(i,l){const p=i.explicitOrderBy.concat([l]);return new jd(i.path,i.collectionGroup,p,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function Xw(n,e="asc"){const t=e,i=c0("orderBy",n);return vT._create(i,t)}class eI extends l0{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new eI(e,t,i)}_apply(e){return new Va(e.firestore,e.converter,ep(e._query,this._limit,this._limitType))}}function nS(n){return function $w(n,e){if(e<=0)throw new Mt(lt.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}("limit",n),eI._create("limit",n,"F")}class u0 extends l0{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new u0(e,t,i)}_apply(e){const t=function sS(n,e,t,i){if(t[0]=(0,he.m9)(t[0]),t[0]instanceof mT)return function(l,p,_,T,F){if(!T)throw new Mt(lt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${_}().`);const H=[];for(const ne of Uh(l))if(ne.field.isKeyField())H.push(Vd(p,T.key));else{const ge=T.data.field(ne.field);if(yg(ge))throw new Mt(lt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ne.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===ge){const $e=ne.field.canonicalString();throw new Mt(lt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${$e}' (used as the orderBy) does not exist.`)}H.push(ge)}return new Ml(H,F)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const l=F_(n.firestore);return function(p,_,T,F,H,ne){const ge=p.explicitOrderBy;if(H.length>ge.length)throw new Mt(lt.INVALID_ARGUMENT,`Too many arguments provided to ${F}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const $e=[];for(let ht=0;ht<H.length;ht++){const Ft=H[ht];if(ge[ht].field.isKeyField()){if("string"!=typeof Ft)throw new Mt(lt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${F}(), but got a ${typeof Ft}`);if(!a_(p)&&-1!==Ft.indexOf("/"))throw new Mt(lt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${F}() must be a plain document ID, but '${Ft}' contains a slash.`);const un=p.path.child(qr.fromString(Ft));if(!en.isDocumentKey(un))throw new Mt(lt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${F}() must result in a valid document path, but '${un}' is not because it contains an odd number of segments.`);const fn=new en(un);$e.push(Vd(_,fn))}else{const un=Kw(T,F,Ft);$e.push(un)}}return new Ml($e,ne)}(n._query,n.firestore._databaseId,l,e,t,i)}}(e,this.type,this._docOrFields,this._inclusive);return new Va(e.firestore,e.converter,(l=t,new jd((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,l,i.endAt)));var i,l}}function iS(...n){return u0._create("startAfter",n,!1)}function MD(n,e,t){if("string"==typeof(t=(0,he.m9)(t))){if(""===t)throw new Mt(lt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!a_(e)&&-1!==t.indexOf("/"))throw new Mt(lt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(qr.fromString(t));if(!en.isDocumentKey(i))throw new Mt(lt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Vd(n,new en(i))}if(t instanceof fo)return Vd(n,t._key);throw new Mt(lt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${n0(t)}.`)}function xD(n,e){if(!Array.isArray(n)||0===n.length)throw new Mt(lt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function oS(n,e){if(e.isInequality()){const i=Ts(n),l=e.field;if(null!==i&&!i.isEqual(l))throw new Mt(lt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${l.toString()}'`);const p=Ig(n);null!==p&&aS(0,l,p)}const t=function(i,l){for(const p of i)for(const _ of p.getFlattenedFilters())if(l.indexOf(_.op)>=0)return _.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Mt(lt.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function aS(n,e,t){if(!t.isEqual(e))throw new Mt(lt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class NS{convertValue(e,t="none"){switch(Nl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ps(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ol(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw vn()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return ka(e,(l,p)=>{i[l]=this.convertValue(p,t)}),i}convertGeoPoint(e){return new s0(Ps(e.latitude),Ps(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Ku(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(qf(e));default:return null}}convertTimestamp(e){const t=Lc(e);return new hs(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=qr.fromString(e);Sn(__(i));const l=new Ld(i.get(1),i.get(3)),p=new en(i.popFirst(5));return l.isEqual(t)||ws(`Document ${p} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),p}}function RD(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class Bg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class d0 extends mT{constructor(e,t,i,l,p,_){super(e,t,i,l,_),this._firestore=e,this._firestoreImpl=e,this.metadata=p}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new r(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(c0("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class r extends d0{data(e={}){return super.data(e)}}class s{constructor(e,t,i,l){this._firestore=e,this._userDataWriter=t,this._snapshot=l,this.metadata=new Bg(l.hasPendingWrites,l.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new r(this._firestore,this._userDataWriter,i.key,i,new Bg(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Mt(lt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,l){if(i._snapshot.oldDocs.isEmpty()){let p=0;return i._snapshot.docChanges.map(_=>({type:"added",doc:new r(i._firestore,i._userDataWriter,_.doc.key,_.doc,new Bg(i._snapshot.mutatedKeys.has(_.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:p++}))}{let p=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(_=>l||3!==_.type).map(_=>{const T=new r(i._firestore,i._userDataWriter,_.doc.key,_.doc,new Bg(i._snapshot.mutatedKeys.has(_.doc.key),i._snapshot.fromCache),i.query.converter);let F=-1,H=-1;return 0!==_.type&&(F=p.indexOf(_.doc.key),p=p.delete(_.doc.key)),1!==_.type&&(p=p.add(_.doc),H=p.indexOf(_.doc.key)),{type:a(_.type),doc:T,oldIndex:F,newIndex:H}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function a(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vn()}}function g(n){n=oi(n,fo);const e=oi(n.firestore,Fs);return function jw(n,e,t={}){const i=new lo;return n.asyncQueue.enqueueAndForget((0,ae.Z)(function*(){return function(l,p,_,T,F){const H=new Fw({next:ge=>{p.enqueueAndForget(()=>Qv(l,ne));const $e=ge.docs.has(_);!$e&&ge.fromCache?F.reject(new Mt(lt.UNAVAILABLE,"Failed to get document because the client is offline.")):$e&&ge.fromCache&&T&&"server"===T.source?F.reject(new Mt(lt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):F.resolve(ge)},error:ge=>F.reject(ge)}),ne=new W1(Gd(_.path),H,{includeMetadataChanges:!0,Ku:!0});return kE(l,ne)}(yield Lg(n),n.asyncQueue,e,t,i)})),i.promise}(Lo(e),n._key).then(t=>function Et(n,e,t){const i=t.docs.get(e._key),l=new y(n);return new d0(n,l,e._key,i,new Bg(t.hasPendingWrites,t.fromCache),e.converter)}(e,n,t))}class y extends NS{constructor(e){super(),this.firestore=e}convertBytes(e){return new fp(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new fo(this.firestore,null,t)}}function P(n){n=oi(n,Va);const e=oi(n.firestore,Fs),t=Lo(e),i=new y(e);return function _T(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Mt(lt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),function gD(n,e,t={}){const i=new lo;return n.asyncQueue.enqueueAndForget((0,ae.Z)(function*(){return function(l,p,_,T,F){const H=new Fw({next:ge=>{p.enqueueAndForget(()=>Qv(l,ne)),ge.fromCache&&"server"===T.source?F.reject(new Mt(lt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):F.resolve(ge)},error:ge=>F.reject(ge)}),ne=new W1(_,H,{includeMetadataChanges:!0,Ku:!0});return kE(l,ne)}(yield Lg(n),n.asyncQueue,e,t,i)})),i.promise}(t,n._query).then(l=>new s(e,i,n,l))}function me(n,e,t){n=oi(n,fo);const i=oi(n.firestore,Fs),l=RD(n.converter,e,t);return Dn(i,[dT(F_(i),"setDoc",n._key,l,null!==n.converter,t).toMutation(n._key,qt.none())])}function Fe(n,e,t,...i){n=oi(n,fo);const l=oi(n.firestore,Fs),p=F_(l);let _;return _="string"==typeof(e=(0,he.m9)(e))||e instanceof pp?function hT(n,e,t,i,l,p){const _=n.ya(1,e,t),T=[a0(e,i,t)],F=[l];if(p.length%2!=0)throw new Mt(lt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let $e=0;$e<p.length;$e+=2)T.push(a0(e,p[$e])),F.push(p[$e+1]);const H=[],ne=pa.empty();for(let $e=T.length-1;$e>=0;--$e)if(!OD(H,T[$e])){const ht=T[$e];let Ft=F[$e];Ft=(0,he.m9)(Ft);const un=_.da(ht);if(Ft instanceof o0)H.push(ht);else{const fn=L_(Ft,un);null!=fn&&(H.push(ht),ne.set(ht,fn))}}const ge=new Fa(H);return new KC(ne,ge,_.fieldTransforms)}(p,"updateDoc",n._key,e,t,i):function AD(n,e,t,i){const l=n.ya(1,e,t);pT("Data must be an object, but it was:",l,i);const p=[],_=pa.empty();ka(i,(F,H)=>{const ne=gT(e,F,t);H=(0,he.m9)(H);const ge=l.da(ne);if(H instanceof o0)p.push(ne);else{const $e=L_(H,ge);null!=$e&&(p.push(ne),_.set(ne,$e))}});const T=new Fa(p);return new KC(_,T,l.fieldTransforms)}(p,"updateDoc",n._key,e),Dn(l,[_.toMutation(n._key,qt.exists(!0))])}function Ge(n){return Dn(oi(n.firestore,Fs),[new bn(n._key,qt.none())])}function vt(n,e){const t=oi(n.firestore,Fs),i=aT(n),l=RD(n.converter,e);return Dn(t,[dT(F_(n.firestore),"addDoc",i._key,l,null!==n.converter,{}).toMutation(i._key,qt.exists(!1))]).then(()=>i)}function Dn(n,e){return function(t,i){const l=new lo;return t.asyncQueue.enqueueAndForget((0,ae.Z)(function*(){return function Q1(n,e,t){return Cw.apply(this,arguments)}(yield function Hw(n){return t0(n).then(e=>e.syncEngine)}(t),i,l)})),l.promise}(Lo(n),e)}function eA(...n){return new CD("arrayUnion",n)}function tA(...n){return new SD("arrayRemove",n)}!function(n,e=!0){Sl=Ie.Jn,(0,Ie.Xd)(new re.wA("firestore",(t,{instanceIdentifier:i,options:l})=>{const p=t.getProvider("app").getImmediate(),_=new Fs(new Tb(t.getProvider("auth-internal")),new ov(t.getProvider("app-check-internal")),function(T,F){if(!Object.prototype.hasOwnProperty.apply(T.options,["projectId"]))throw new Mt(lt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ld(T.options.projectId,F)}(p,i),p);return l=Object.assign({useFetchStreams:e},l),_._setSettings(l),_},"PUBLIC").setMultipleInstances(!0)),(0,Ie.KN)(Vf,"3.13.0",n),(0,Ie.KN)(Vf,"3.13.0","esm2017")}();class FD{constructor(e){return e}}const LS="firestore",lS=new X.OlP("angularfire2.firestore-instances");function iA(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new FD(i)}}const sA={provide:class nA{constructor(){return(0,b.vb)(LS)}},deps:[[new X.FiY,lS]]},oA={provide:FD,useFactory:function rA(n,e){const t=(0,b.JM)(LS,n,e);return t&&new FD(t)},deps:[[new X.FiY,lS],u.Ot]};let aA=(()=>{class n{constructor(){(0,ye.KN)("angularfire",b.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=X.oAB({type:n}),n.\u0275inj=X.cJS({providers:[oA,sA]}),n})();function cA(n,...e){return{ngModule:aA,providers:[{provide:lS,useFactory:iA(n),multi:!0,deps:[X.R0b,X.zs3,b.HU,u.z6,[new X.FiY,$_],[new X.FiY,su],...e]}]}}const lA=(0,b.u3)(vt,!0),uA=(0,b.u3)(tA,!0),dA=(0,b.u3)(eA,!0),hA=(0,b.u3)(zw,!0),fA=(0,b.u3)(Ge,!0),pA=(0,b.u3)(aT,!0),gA=(0,b.u3)(g,!0),mA=(0,b.u3)(P,!0),_A=(0,b.u3)(ES,!0),yA=(0,b.u3)(nS,!0),vA=(0,b.u3)(Xw,!0),bA=(0,b.u3)(ND,!0),wA=(0,b.u3)(me,!0),IA=(0,b.u3)(iS,!0),EA=(0,b.u3)(Fe,!0),TA=(0,b.u3)(XC,!0)},559:(Vt,Be,$)=>{"use strict";$.d(Be,{q4:()=>Du,HU:()=>eu,vb:()=>fd,JM:()=>rh,u3:()=>nu});var b=$(9468),X=$(4097),u=$(5861),ye=$(7592),ae=$(229),he=$(6820),Ie=$(7879);const ke=(N,L)=>L.some(te=>N instanceof te);let Ee,re;const Ce=new WeakMap,Me=new WeakMap,qe=new WeakMap,It=new WeakMap,xt=new WeakMap;let Tt={get(N,L,te){if(N instanceof IDBTransaction){if("done"===L)return Me.get(N);if("objectStoreNames"===L)return N.objectStoreNames||qe.get(N);if("store"===L)return te.objectStoreNames[1]?void 0:te.objectStore(te.objectStoreNames[0])}return ze(N[L])},set:(N,L,te)=>(N[L]=te,!0),has:(N,L)=>N instanceof IDBTransaction&&("done"===L||"store"===L)||L in N};function yt(N){return"function"==typeof N?function rt(N){return N!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Se(){return re||(re=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(N)?function(...L){return N.apply(Ae(this),L),ze(Ce.get(this))}:function(...L){return ze(N.apply(Ae(this),L))}:function(L,...te){const pe=N.call(Ae(this),L,...te);return qe.set(pe,L.sort?L.sort():[L]),ze(pe)}}(N):(N instanceof IDBTransaction&&function cn(N){if(Me.has(N))return;const L=new Promise((te,pe)=>{const Pe=()=>{N.removeEventListener("complete",Ve),N.removeEventListener("error",ct),N.removeEventListener("abort",ct)},Ve=()=>{te(),Pe()},ct=()=>{pe(N.error||new DOMException("AbortError","AbortError")),Pe()};N.addEventListener("complete",Ve),N.addEventListener("error",ct),N.addEventListener("abort",ct)});Me.set(N,L)}(N),ke(N,function le(){return Ee||(Ee=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(N,Tt):N)}function ze(N){if(N instanceof IDBRequest)return function Ct(N){const L=new Promise((te,pe)=>{const Pe=()=>{N.removeEventListener("success",Ve),N.removeEventListener("error",ct)},Ve=()=>{te(ze(N.result)),Pe()},ct=()=>{pe(N.error),Pe()};N.addEventListener("success",Ve),N.addEventListener("error",ct)});return L.then(te=>{te instanceof IDBCursor&&Ce.set(te,N)}).catch(()=>{}),xt.set(L,N),L}(N);if(It.has(N))return It.get(N);const L=yt(N);return L!==N&&(It.set(N,L),xt.set(L,N)),L}const Ae=N=>xt.get(N),ut=["get","getKey","getAll","getAllKeys","count"],wn=["put","add","delete","clear"],dt=new Map;function sn(N,L){if(!(N instanceof IDBDatabase)||L in N||"string"!=typeof L)return;if(dt.get(L))return dt.get(L);const te=L.replace(/FromIndex$/,""),pe=L!==te,Pe=wn.includes(te);if(!(te in(pe?IDBIndex:IDBObjectStore).prototype)||!Pe&&!ut.includes(te))return;const Ve=function(){var ct=(0,u.Z)(function*(Gt,...Ut){const gn=this.transaction(Gt,Pe?"readwrite":"readonly");let $n=gn.store;return pe&&($n=$n.index(Ut.shift())),(yield Promise.all([$n[te](...Ut),Pe&&gn.done]))[0]});return function(Ut){return ct.apply(this,arguments)}}();return dt.set(L,Ve),Ve}!function st(N){Tt=N(Tt)}(N=>({...N,get:(L,te,pe)=>sn(L,te)||N.get(L,te,pe),has:(L,te)=>!!sn(L,te)||N.has(L,te)}));const _n="@firebase/installations",On="0.6.4",Yn=1e4,tr=`w:${On}`,Ue="FIS_v2",je="https://firebaseinstallations.googleapis.com/v1",Ze=36e5,St=new ae.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Lt(N){return N instanceof ae.ZR&&N.code.includes("request-failed")}function Qt({projectId:N}){return`${je}/projects/${N}/installations`}function tn(N){return{token:N.token,requestStatus:2,expiresIn:De(N.expiresIn),creationTime:Date.now()}}function Bt(N,L){return ft.apply(this,arguments)}function ft(){return(ft=(0,u.Z)(function*(N,L){const pe=(yield L.json()).error;return St.create("request-failed",{requestName:N,serverCode:pe.code,serverMessage:pe.message,serverStatus:pe.status})})).apply(this,arguments)}function In({apiKey:N}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":N})}function cr(N){return xe.apply(this,arguments)}function xe(){return(xe=(0,u.Z)(function*(N){const L=yield N();return L.status>=500&&L.status<600?N():L})).apply(this,arguments)}function De(N){return Number(N.replace("s","000"))}function bt(){return(bt=(0,u.Z)(function*({appConfig:N,heartbeatServiceProvider:L},{fid:te}){const pe=Qt(N),Pe=In(N),Ve=L.getImmediate({optional:!0});if(Ve){const gn=yield Ve.getHeartbeatsHeader();gn&&Pe.append("x-firebase-client",gn)}const Gt={method:"POST",headers:Pe,body:JSON.stringify({fid:te,authVersion:Ue,appId:N.appId,sdkVersion:tr})},Ut=yield cr(()=>fetch(pe,Gt));if(Ut.ok){const gn=yield Ut.json();return{fid:gn.fid||te,registrationStatus:2,refreshToken:gn.refreshToken,authToken:tn(gn.authToken)}}throw yield Bt("Create Installation",Ut)})).apply(this,arguments)}function kt(N){return new Promise(L=>{setTimeout(L,N)})}const yn=/^[cdef][\w-]{21}$/,Cn="";function Xt(){try{const N=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(N),N[0]=112+N[0]%16;const te=function pn(N){return function Ir(N){return btoa(String.fromCharCode(...N)).replace(/\+/g,"-").replace(/\//g,"_")}(N).substr(0,22)}(N);return yn.test(te)?te:Cn}catch{return Cn}}function br(N){return`${N.appName}!${N.appId}`}const nn=new Map;function Dr(N,L){const te=br(N);lr(te,L),function Wn(N,L){const te=function Bn(){return!or&&"BroadcastChannel"in self&&(or=new BroadcastChannel("[Firebase] FID Change"),or.onmessage=N=>{lr(N.data.key,N.data.fid)}),or}();te&&te.postMessage({key:N,fid:L}),function ni(){0===nn.size&&or&&(or.close(),or=null)}()}(te,L)}function lr(N,L){const te=nn.get(N);if(te)for(const pe of te)pe(L)}let or=null;const Zt="firebase-installations-database",Yi=1,Zr="firebase-installations-store";let Gr=null;function at(){return Gr||(Gr=function _e(N,L,{blocked:te,upgrade:pe,blocking:Pe,terminated:Ve}={}){const ct=indexedDB.open(N,L),Gt=ze(ct);return pe&&ct.addEventListener("upgradeneeded",Ut=>{pe(ze(ct.result),Ut.oldVersion,Ut.newVersion,ze(ct.transaction))}),te&&ct.addEventListener("blocked",()=>te()),Gt.then(Ut=>{Ve&&Ut.addEventListener("close",()=>Ve()),Pe&&Ut.addEventListener("versionchange",()=>Pe())}).catch(()=>{}),Gt}(Zt,Yi,{upgrade:(N,L)=>{0===L&&N.createObjectStore(Zr)}})),Gr}function Ne(N,L){return tt.apply(this,arguments)}function tt(){return(tt=(0,u.Z)(function*(N,L){const te=br(N),Pe=(yield at()).transaction(Zr,"readwrite"),Ve=Pe.objectStore(Zr),ct=yield Ve.get(te);return yield Ve.put(L,te),yield Pe.done,(!ct||ct.fid!==L.fid)&&Dr(N,L.fid),L})).apply(this,arguments)}function At(N){return zt.apply(this,arguments)}function zt(){return(zt=(0,u.Z)(function*(N){const L=br(N),pe=(yield at()).transaction(Zr,"readwrite");yield pe.objectStore(Zr).delete(L),yield pe.done})).apply(this,arguments)}function Kt(N,L){return qn.apply(this,arguments)}function qn(){return(qn=(0,u.Z)(function*(N,L){const te=br(N),Pe=(yield at()).transaction(Zr,"readwrite"),Ve=Pe.objectStore(Zr),ct=yield Ve.get(te),Gt=L(ct);return void 0===Gt?yield Ve.delete(te):yield Ve.put(Gt,te),yield Pe.done,Gt&&(!ct||ct.fid!==Gt.fid)&&Dr(N,Gt.fid),Gt})).apply(this,arguments)}function J(N){return B.apply(this,arguments)}function B(){return B=(0,u.Z)(function*(N){let L;const te=yield Kt(N.appConfig,pe=>{const Pe=function j(N){return hn(N||{fid:Xt(),registrationStatus:0})}(pe),Ve=function q(N,L){if(0===L.registrationStatus){if(!navigator.onLine)return{installationEntry:L,registrationPromise:Promise.reject(St.create("app-offline"))};const te={fid:L.fid,registrationStatus:1,registrationTime:Date.now()},pe=function z(N,L){return Te.apply(this,arguments)}(N,te);return{installationEntry:te,registrationPromise:pe}}return 1===L.registrationStatus?{installationEntry:L,registrationPromise:Je(N)}:{installationEntry:L}}(N,Pe);return L=Ve.registrationPromise,Ve.installationEntry});return te.fid===Cn?{installationEntry:yield L}:{installationEntry:te,registrationPromise:L}}),B.apply(this,arguments)}function Te(){return Te=(0,u.Z)(function*(N,L){try{const te=yield function mt(N,L){return bt.apply(this,arguments)}(N,L);return Ne(N.appConfig,te)}catch(te){throw Lt(te)&&409===te.customData.serverCode?yield At(N.appConfig):yield Ne(N.appConfig,{fid:L.fid,registrationStatus:0}),te}}),Te.apply(this,arguments)}function Je(N){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,u.Z)(function*(N){let L=yield dn(N.appConfig);for(;1===L.registrationStatus;)yield kt(100),L=yield dn(N.appConfig);if(0===L.registrationStatus){const{installationEntry:te,registrationPromise:pe}=yield J(N);return pe||te}return L})).apply(this,arguments)}function dn(N){return Kt(N,L=>{if(!L)throw St.create("installation-not-found");return hn(L)})}function hn(N){return function kn(N){return 1===N.registrationStatus&&N.registrationTime+Yn<Date.now()}(N)?{fid:N.fid,registrationStatus:0}:N}function Fn(){return(Fn=(0,u.Z)(function*({appConfig:N,heartbeatServiceProvider:L},te){const pe=function Kr(N,{fid:L}){return`${Qt(N)}/${L}/authTokens:generate`}(N,te),Pe=function Jn(N,{refreshToken:L}){const te=In(N);return te.append("Authorization",function Xe(N){return`${Ue} ${N}`}(L)),te}(N,te),Ve=L.getImmediate({optional:!0});if(Ve){const gn=yield Ve.getHeartbeatsHeader();gn&&Pe.append("x-firebase-client",gn)}const Gt={method:"POST",headers:Pe,body:JSON.stringify({installation:{sdkVersion:tr,appId:N.appId}})},Ut=yield cr(()=>fetch(pe,Gt));if(Ut.ok)return tn(yield Ut.json());throw yield Bt("Generate Auth Token",Ut)})).apply(this,arguments)}function nr(N){return fs.apply(this,arguments)}function fs(){return fs=(0,u.Z)(function*(N,L=!1){let te;const pe=yield Kt(N.appConfig,Ve=>{if(!Bi(Ve))throw St.create("not-registered");const ct=Ve.authToken;if(!L&&function po(N){return 2===N.requestStatus&&!function Vi(N){const L=Date.now();return L<N.creationTime||N.creationTime+N.expiresIn<L+Ze}(N)}(ct))return Ve;if(1===ct.requestStatus)return te=function Bo(N,L){return ss.apply(this,arguments)}(N,L),Ve;{if(!navigator.onLine)throw St.create("app-offline");const Gt=function Hi(N){const L={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},N),{authToken:L})}(Ve);return te=function Ha(N,L){return Ls.apply(this,arguments)}(N,Gt),Gt}});return te?yield te:pe.authToken}),fs.apply(this,arguments)}function ss(){return(ss=(0,u.Z)(function*(N,L){let te=yield os(N.appConfig);for(;1===te.authToken.requestStatus;)yield kt(100),te=yield os(N.appConfig);const pe=te.authToken;return 0===pe.requestStatus?nr(N,L):pe})).apply(this,arguments)}function os(N){return Kt(N,L=>{if(!Bi(L))throw St.create("not-registered");return function ir(N){return 1===N.requestStatus&&N.requestTime+Yn<Date.now()}(L.authToken)?Object.assign(Object.assign({},L),{authToken:{requestStatus:0}}):L})}function Ls(){return Ls=(0,u.Z)(function*(N,L){try{const te=yield function Yt(N,L){return Fn.apply(this,arguments)}(N,L),pe=Object.assign(Object.assign({},L),{authToken:te});return yield Ne(N.appConfig,pe),te}catch(te){if(!Lt(te)||401!==te.customData.serverCode&&404!==te.customData.serverCode){const pe=Object.assign(Object.assign({},L),{authToken:{requestStatus:0}});yield Ne(N.appConfig,pe)}else yield At(N.appConfig);throw te}}),Ls.apply(this,arguments)}function Bi(N){return void 0!==N&&2===N.registrationStatus}function Yo(){return(Yo=(0,u.Z)(function*(N){const L=N,{installationEntry:te,registrationPromise:pe}=yield J(L);return pe?pe.catch(console.error):nr(L).catch(console.error),te.fid})).apply(this,arguments)}function ja(){return ja=(0,u.Z)(function*(N,L=!1){const te=N;return yield function ps(N){return ma.apply(this,arguments)}(te),(yield nr(te,L)).token}),ja.apply(this,arguments)}function ma(){return(ma=(0,u.Z)(function*(N){const{registrationPromise:L}=yield J(N);L&&(yield L)})).apply(this,arguments)}function Bs(N){return St.create("missing-app-config-values",{valueName:N})}const _o="installations",va=N=>{const L=N.getProvider("app").getImmediate(),te=function ya(N){if(!N||!N.options)throw Bs("App Configuration");if(!N.name)throw Bs("App Name");const L=["projectId","apiKey","appId"];for(const te of L)if(!N.options[te])throw Bs(te);return{appName:N.name,projectId:N.options.projectId,apiKey:N.options.apiKey,appId:N.options.appId}}(L);return{app:L,appConfig:te,heartbeatServiceProvider:(0,ye.qX)(L,"heartbeat"),_delete:()=>Promise.resolve()}},$r=N=>{const L=N.getProvider("app").getImmediate(),te=(0,ye.qX)(L,_o).getImmediate();return{getId:()=>function go(N){return Yo.apply(this,arguments)}(te),getToken:Pe=>function Jo(N){return ja.apply(this,arguments)}(te,Pe)}};(function Xo(){(0,ye.Xd)(new he.wA(_o,va,"PUBLIC")),(0,ye.Xd)(new he.wA("installations-internal",$r,"PRIVATE"))})(),(0,ye.KN)(_n,On),(0,ye.KN)(_n,On,"esm2017");const as="@firebase/remote-config",ji=new ae.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class fi{constructor(L,te,pe,Pe){this.client=L,this.storage=te,this.storageCache=pe,this.logger=Pe}isCachedDataFresh(L,te){if(!te)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const pe=Date.now()-te,Pe=pe<=L;return this.logger.debug(`Config fetch cache check. Cache age millis: ${pe}. Cache max age millis (minimumFetchIntervalMillis setting): ${L}. Is cache hit: ${Pe}.`),Pe}fetch(L){var te=this;return(0,u.Z)(function*(){const[pe,Pe]=yield Promise.all([te.storage.getLastSuccessfulFetchTimestampMillis(),te.storage.getLastSuccessfulFetchResponse()]);if(Pe&&te.isCachedDataFresh(L.cacheMaxAgeMillis,pe))return Pe;L.eTag=Pe&&Pe.eTag;const Ve=yield te.client.fetch(L),ct=[te.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ve.status&&ct.push(te.storage.setLastSuccessfulFetchResponse(Ve)),yield Promise.all(ct),Ve})()}}function Cc(N=navigator){return N.languages&&N.languages[0]||N.language}class Ji{constructor(L,te,pe,Pe,Ve,ct){this.firebaseInstallations=L,this.sdkVersion=te,this.namespace=pe,this.projectId=Pe,this.apiKey=Ve,this.appId=ct}fetch(L){var te=this;return(0,u.Z)(function*(){const[pe,Pe]=yield Promise.all([te.firebaseInstallations.getId(),te.firebaseInstallations.getToken()]),ct=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${te.projectId}/namespaces/${te.namespace}:fetch?key=${te.apiKey}`,Gt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":L.eTag||"*"},Ut={sdk_version:te.sdkVersion,app_instance_id:pe,app_instance_id_token:Pe,app_id:te.appId,language_code:Cc()},gn={method:"POST",headers:Gt,body:JSON.stringify(Ut)},$n=fetch(ct,gn),Zn=new Promise((xc,ru)=>{L.signal.addEventListener(()=>{const Ip=new Error("The operation was aborted.");Ip.name="AbortError",ru(Ip)})});let Zs;try{yield Promise.race([$n,Zn]),Zs=yield $n}catch(xc){let ru="fetch-client-network";throw"AbortError"===xc?.name&&(ru="fetch-timeout"),ji.create(ru,{originalErrorMessage:xc?.message})}let Ks=Zs.status;const Nu=Zs.headers.get("ETag")||void 0;let Mu,sh;if(200===Zs.status){let xc;try{xc=yield Zs.json()}catch(ru){throw ji.create("fetch-client-parse",{originalErrorMessage:ru?.message})}Mu=xc.entries,sh=xc.state}if("INSTANCE_STATE_UNSPECIFIED"===sh?Ks=500:"NO_CHANGE"===sh?Ks=304:("NO_TEMPLATE"===sh||"EMPTY_CONFIG"===sh)&&(Mu={}),304!==Ks&&200!==Ks)throw ji.create("fetch-status",{httpStatus:Ks});return{status:Ks,eTag:Nu,config:Mu}})()}}class Pn{constructor(L,te){this.client=L,this.storage=te}fetch(L){var te=this;return(0,u.Z)(function*(){const pe=(yield te.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return te.attemptFetch(L,pe)})()}attemptFetch(L,{throttleEndTimeMillis:te,backoffCount:pe}){var Pe=this;return(0,u.Z)(function*(){yield function pr(N,L){return new Promise((te,pe)=>{const Pe=Math.max(L-Date.now(),0),Ve=setTimeout(te,Pe);N.addEventListener(()=>{clearTimeout(Ve),pe(ji.create("fetch-throttle",{throttleEndTimeMillis:L}))})})}(L.signal,te);try{const Ve=yield Pe.client.fetch(L);return yield Pe.storage.deleteThrottleMetadata(),Ve}catch(Ve){if(!function jt(N){if(!(N instanceof ae.ZR&&N.customData))return!1;const L=Number(N.customData.httpStatus);return 429===L||500===L||503===L||504===L}(Ve))throw Ve;const ct={throttleEndTimeMillis:Date.now()+(0,ae.$s)(pe),backoffCount:pe+1};return yield Pe.storage.setThrottleMetadata(ct),Pe.attemptFetch(L,ct)}})()}}class io{constructor(L,te,pe,Pe,Ve){this.app=L,this._client=te,this._storageCache=pe,this._storage=Pe,this._logger=Ve,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Jr(N,L){const te=N.target.error||void 0;return ji.create(L,{originalErrorMessage:te&&te?.message})}const Gi="app_namespace_store";class Ln{constructor(L,te,pe,Pe=function Xr(){return new Promise((N,L)=>{try{const te=indexedDB.open("firebase_remote_config",1);te.onerror=pe=>{L(Jr(pe,"storage-open"))},te.onsuccess=pe=>{N(pe.target.result)},te.onupgradeneeded=pe=>{0===pe.oldVersion&&pe.target.result.createObjectStore(Gi,{keyPath:"compositeKey"})}}catch(te){L(ji.create("storage-open",{originalErrorMessage:te?.message}))}})}()){this.appId=L,this.appName=te,this.namespace=pe,this.openDbPromise=Pe}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(L){return this.set("last_fetch_status",L)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(L){return this.set("last_successful_fetch_timestamp_millis",L)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(L){return this.set("last_successful_fetch_response",L)}getActiveConfig(){return this.get("active_config")}setActiveConfig(L){return this.set("active_config",L)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(L){return this.set("active_config_etag",L)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(L){return this.set("throttle_metadata",L)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(L){var te=this;return(0,u.Z)(function*(){const pe=yield te.openDbPromise;return new Promise((Pe,Ve)=>{const Gt=pe.transaction([Gi],"readonly").objectStore(Gi),Ut=te.createCompositeKey(L);try{const gn=Gt.get(Ut);gn.onerror=$n=>{Ve(Jr($n,"storage-get"))},gn.onsuccess=$n=>{const Zn=$n.target.result;Pe(Zn?Zn.value:void 0)}}catch(gn){Ve(ji.create("storage-get",{originalErrorMessage:gn?.message}))}})})()}set(L,te){var pe=this;return(0,u.Z)(function*(){const Pe=yield pe.openDbPromise;return new Promise((Ve,ct)=>{const Ut=Pe.transaction([Gi],"readwrite").objectStore(Gi),gn=pe.createCompositeKey(L);try{const $n=Ut.put({compositeKey:gn,value:te});$n.onerror=Zn=>{ct(Jr(Zn,"storage-set"))},$n.onsuccess=()=>{Ve()}}catch($n){ct(ji.create("storage-set",{originalErrorMessage:$n?.message}))}})})()}delete(L){var te=this;return(0,u.Z)(function*(){const pe=yield te.openDbPromise;return new Promise((Pe,Ve)=>{const Gt=pe.transaction([Gi],"readwrite").objectStore(Gi),Ut=te.createCompositeKey(L);try{const gn=Gt.delete(Ut);gn.onerror=$n=>{Ve(Jr($n,"storage-delete"))},gn.onsuccess=()=>{Pe()}}catch(gn){Ve(ji.create("storage-delete",{originalErrorMessage:gn?.message}))}})})()}createCompositeKey(L){return[this.appId,this.appName,this.namespace,L].join()}}class vo{constructor(L){this.storage=L}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var L=this;return(0,u.Z)(function*(){const te=L.storage.getLastFetchStatus(),pe=L.storage.getLastSuccessfulFetchTimestampMillis(),Pe=L.storage.getActiveConfig(),Ve=yield te;Ve&&(L.lastFetchStatus=Ve);const ct=yield pe;ct&&(L.lastSuccessfulFetchTimestampMillis=ct);const Gt=yield Pe;Gt&&(L.activeConfig=Gt)})()}setLastFetchStatus(L){return this.lastFetchStatus=L,this.storage.setLastFetchStatus(L)}setLastSuccessfulFetchTimestampMillis(L){return this.lastSuccessfulFetchTimestampMillis=L,this.storage.setLastSuccessfulFetchTimestampMillis(L)}setActiveConfig(L){return this.activeConfig=L,this.storage.setActiveConfig(L)}}function Qi(){return so.apply(this,arguments)}function so(){return(so=(0,u.Z)(function*(){if(!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch{return!1}})).apply(this,arguments)}!function Vo(){(0,ye.Xd)(new he.wA("remote-config",function N(L,{instanceIdentifier:te}){const pe=L.getProvider("app").getImmediate(),Pe=L.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ji.create("registration-window");if(!(0,ae.hl)())throw ji.create("indexed-db-unavailable");const{projectId:Ve,apiKey:ct,appId:Gt}=pe.options;if(!Ve)throw ji.create("registration-project-id");if(!ct)throw ji.create("registration-api-key");if(!Gt)throw ji.create("registration-app-id");const Ut=new Ln(Gt,pe.name,te=te||"firebase"),gn=new vo(Ut),$n=new Ie.Yd(as);$n.logLevel=Ie.in.ERROR;const Zn=new Ji(Pe,ye.Jn,te,Ve,ct,Gt),Zs=new Pn(Zn,Ut),Ks=new fi(Zs,Ut,gn,$n),Nu=new io(pe,Ks,gn,Ut,$n);return function ia(N){const L=(0,ae.m9)(N);L._initializePromise||(L._initializePromise=L._storageCache.loadFromStorage().then(()=>{L._isInitializationComplete=!0}))}(Nu),Nu},"PUBLIC").setMultipleInstances(!0)),(0,ye.KN)(as,"0.4.4"),(0,ye.KN)(as,"0.4.4","esm2017")}();const ri=(N,L)=>L.some(te=>N instanceof te);let sa,Sc;const js=new WeakMap,wo=new WeakMap,Gn=new WeakMap,td=new WeakMap,Io=new WeakMap;let oo={get(N,L,te){if(N instanceof IDBTransaction){if("done"===L)return wo.get(N);if("objectStoreNames"===L)return N.objectStoreNames||Gn.get(N);if("store"===L)return te.objectStoreNames[1]?void 0:te.objectStore(te.objectStoreNames[0])}return As(N[L])},set:(N,L,te)=>(N[L]=te,!0),has:(N,L)=>N instanceof IDBTransaction&&("done"===L||"store"===L)||L in N};function vi(N){return"function"==typeof N?function Si(N){return N!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ls(){return Sc||(Sc=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(N)?function(...L){return N.apply(ur(this),L),As(js.get(this))}:function(...L){return As(N.apply(ur(this),L))}:function(L,...te){const pe=N.call(ur(this),L,...te);return Gn.set(pe,L.sort?L.sort():[L]),As(pe)}}(N):(N instanceof IDBTransaction&&function Br(N){if(wo.has(N))return;const L=new Promise((te,pe)=>{const Pe=()=>{N.removeEventListener("complete",Ve),N.removeEventListener("error",ct),N.removeEventListener("abort",ct)},Ve=()=>{te(),Pe()},ct=()=>{pe(N.error||new DOMException("AbortError","AbortError")),Pe()};N.addEventListener("complete",Ve),N.addEventListener("error",ct),N.addEventListener("abort",ct)});wo.set(N,L)}(N),ri(N,function Hs(){return sa||(sa=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(N,oo):N)}function As(N){if(N instanceof IDBRequest)return function Gs(N){const L=new Promise((te,pe)=>{const Pe=()=>{N.removeEventListener("success",Ve),N.removeEventListener("error",ct)},Ve=()=>{te(As(N.result)),Pe()},ct=()=>{pe(N.error),Pe()};N.addEventListener("success",Ve),N.addEventListener("error",ct)});return L.then(te=>{te instanceof IDBCursor&&js.set(te,N)}).catch(()=>{}),Io.set(L,N),L}(N);if(td.has(N))return td.get(N);const L=vi(N);return L!==N&&(td.set(N,L),Io.set(L,N)),L}const ur=N=>Io.get(N);function Ai(N,L,{blocked:te,upgrade:pe,blocking:Pe,terminated:Ve}={}){const ct=indexedDB.open(N,L),Gt=As(ct);return pe&&ct.addEventListener("upgradeneeded",Ut=>{pe(As(ct.result),Ut.oldVersion,Ut.newVersion,As(ct.transaction))}),te&&ct.addEventListener("blocked",()=>te()),Gt.then(Ut=>{Ve&&Ut.addEventListener("close",()=>Ve()),Pe&&Ut.addEventListener("versionchange",()=>Pe())}).catch(()=>{}),Gt}function $s(N,{blocked:L}={}){const te=indexedDB.deleteDatabase(N);return L&&te.addEventListener("blocked",()=>L()),As(te).then(()=>{})}const Eo=["get","getKey","getAll","getAllKeys","count"],zs=["put","add","delete","clear"],Oi=new Map;function Ni(N,L){if(!(N instanceof IDBDatabase)||L in N||"string"!=typeof L)return;if(Oi.get(L))return Oi.get(L);const te=L.replace(/FromIndex$/,""),pe=L!==te,Pe=zs.includes(te);if(!(te in(pe?IDBIndex:IDBObjectStore).prototype)||!Pe&&!Eo.includes(te))return;const Ve=function(){var ct=(0,u.Z)(function*(Gt,...Ut){const gn=this.transaction(Gt,Pe?"readwrite":"readonly");let $n=gn.store;return pe&&($n=$n.index(Ut.shift())),(yield Promise.all([$n[te](...Ut),Pe&&gn.done]))[0]});return function(Ut){return ct.apply(this,arguments)}}();return Oi.set(L,Ve),Ve}!function za(N){oo=N(oo)}(N=>({...N,get:(L,te,pe)=>Ni(L,te)||N.get(L,te,pe),has:(L,te)=>!!Ni(L,te)||N.has(L,te)}));const Ws="/firebase-messaging-sw.js",oa="/firebase-cloud-messaging-push-scope",jc="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",cc="https://fcmregistrations.googleapis.com/v1",Sr="google.c.a.c_id",Wa="google.c.a.c_l",yu="google.c.a.ts";var U=function(N){return N.PUSH_RECEIVED="push-received",N.NOTIFICATION_CLICKED="notification-clicked",N}(U||{});function ue(N){const L=new Uint8Array(N);return btoa(String.fromCharCode(...L)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Oe(N){const te=(N+"=".repeat((4-N.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),pe=atob(te),Pe=new Uint8Array(pe.length);for(let Ve=0;Ve<pe.length;++Ve)Pe[Ve]=pe.charCodeAt(Ve);return Pe}const rn="fcm_token_details_db",Vn=5,$i="fcm_token_object_Store";function zi(){return zi=(0,u.Z)(function*(N){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ve=>Ve.name).includes(rn))return null;let L=null;return(yield Ai(rn,Vn,{upgrade:(pe=(0,u.Z)(function*(Pe,Ve,ct,Gt){var Ut;if(Ve<2||!Pe.objectStoreNames.contains($i))return;const gn=Gt.objectStore($i),$n=yield gn.index("fcmSenderId").get(N);if(yield gn.clear(),$n)if(2===Ve){const Zn=$n;if(!Zn.auth||!Zn.p256dh||!Zn.endpoint)return;L={token:Zn.fcmToken,createTime:null!==(Ut=Zn.createTime)&&void 0!==Ut?Ut:Date.now(),subscriptionOptions:{auth:Zn.auth,p256dh:Zn.p256dh,endpoint:Zn.endpoint,swScope:Zn.swScope,vapidKey:"string"==typeof Zn.vapidKey?Zn.vapidKey:ue(Zn.vapidKey)}}}else if(3===Ve){const Zn=$n;L={token:Zn.fcmToken,createTime:Zn.createTime,subscriptionOptions:{auth:ue(Zn.auth),p256dh:ue(Zn.p256dh),endpoint:Zn.endpoint,swScope:Zn.swScope,vapidKey:ue(Zn.vapidKey)}}}else if(4===Ve){const Zn=$n;L={token:Zn.fcmToken,createTime:Zn.createTime,subscriptionOptions:{auth:ue(Zn.auth),p256dh:ue(Zn.p256dh),endpoint:Zn.endpoint,swScope:Zn.swScope,vapidKey:ue(Zn.vapidKey)}}}}),function(Ve,ct,Gt,Ut){return pe.apply(this,arguments)})})).close(),yield $s(rn),yield $s("fcm_vapid_details_db"),yield $s("undefined"),function ms(N){if(!N||!N.subscriptionOptions)return!1;const{subscriptionOptions:L}=N;return"number"==typeof N.createTime&&N.createTime>0&&"string"==typeof N.token&&N.token.length>0&&"string"==typeof L.auth&&L.auth.length>0&&"string"==typeof L.p256dh&&L.p256dh.length>0&&"string"==typeof L.endpoint&&L.endpoint.length>0&&"string"==typeof L.swScope&&L.swScope.length>0&&"string"==typeof L.vapidKey&&L.vapidKey.length>0}(L)?L:null;var pe}),zi.apply(this,arguments)}const qa="firebase-messaging-database",Za=1,To="firebase-messaging-store";let Gc=null;function lc(){return Gc||(Gc=Ai(qa,Za,{upgrade:(N,L)=>{0===L&&N.createObjectStore(To)}})),Gc}function Ns(N){return al.apply(this,arguments)}function al(){return al=(0,u.Z)(function*(N){const L=Do(N),pe=yield(yield lc()).transaction(To).objectStore(To).get(L);if(pe)return pe;{const Pe=yield function Os(N){return zi.apply(this,arguments)}(N.appConfig.senderId);if(Pe)return yield Ia(N,Pe),Pe}}),al.apply(this,arguments)}function Ia(N,L){return bi.apply(this,arguments)}function bi(){return(bi=(0,u.Z)(function*(N,L){const te=Do(N),Pe=(yield lc()).transaction(To,"readwrite");return yield Pe.objectStore(To).put(L,te),yield Pe.done,L})).apply(this,arguments)}function Mi(){return(Mi=(0,u.Z)(function*(N){const L=Do(N),pe=(yield lc()).transaction(To,"readwrite");yield pe.objectStore(To).delete(L),yield pe.done})).apply(this,arguments)}function Do({appConfig:N}){return N.appId}const xi=new ae.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function cl(N,L){return $c.apply(this,arguments)}function $c(){return($c=(0,u.Z)(function*(N,L){const te=yield aa(N),pe=Pi(L),Pe={method:"POST",headers:te,body:JSON.stringify(pe)};let Ve;try{Ve=yield(yield fetch(ll(N.appConfig),Pe)).json()}catch(ct){throw xi.create("token-subscribe-failed",{errorInfo:ct?.toString()})}if(Ve.error)throw xi.create("token-subscribe-failed",{errorInfo:Ve.error.message});if(!Ve.token)throw xi.create("token-subscribe-no-token");return Ve.token})).apply(this,arguments)}function Co(){return(Co=(0,u.Z)(function*(N,L){const te=yield aa(N),pe=Pi(L.subscriptionOptions),Pe={method:"PATCH",headers:te,body:JSON.stringify(pe)};let Ve;try{Ve=yield(yield fetch(`${ll(N.appConfig)}/${L.token}`,Pe)).json()}catch(ct){throw xi.create("token-update-failed",{errorInfo:ct?.toString()})}if(Ve.error)throw xi.create("token-update-failed",{errorInfo:Ve.error.message});if(!Ve.token)throw xi.create("token-update-no-token");return Ve.token})).apply(this,arguments)}function dc(N,L){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,u.Z)(function*(N,L){const pe={method:"DELETE",headers:yield aa(N)};try{const Ve=yield(yield fetch(`${ll(N.appConfig)}/${L}`,pe)).json();if(Ve.error)throw xi.create("token-unsubscribe-failed",{errorInfo:Ve.error.message})}catch(Pe){throw xi.create("token-unsubscribe-failed",{errorInfo:Pe?.toString()})}})).apply(this,arguments)}function ll({projectId:N}){return`${cc}/projects/${N}/registrations`}function aa(N){return us.apply(this,arguments)}function us(){return(us=(0,u.Z)(function*({appConfig:N,installations:L}){const te=yield L.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":N.apiKey,"x-goog-firebase-installations-auth":`FIS ${te}`})})).apply(this,arguments)}function Pi({p256dh:N,auth:L,endpoint:te,vapidKey:pe}){const Pe={web:{endpoint:te,auth:L,p256dh:N}};return pe!==jc&&(Pe.web.applicationPubKey=pe),Pe}const Ms=6048e5;function zc(){return zc=(0,u.Z)(function*(N){const L=yield function la(N,L){return dl.apply(this,arguments)}(N.swRegistration,N.vapidKey),te={vapidKey:N.vapidKey,swScope:N.swRegistration.scope,endpoint:L.endpoint,auth:ue(L.getKey("auth")),p256dh:ue(L.getKey("p256dh"))},pe=yield Ns(N.firebaseDependencies);if(pe){if(function M(N,L){return L.vapidKey===N.vapidKey&&L.endpoint===N.endpoint&&L.auth===N.auth&&L.p256dh===N.p256dh}(pe.subscriptionOptions,te))return Date.now()>=pe.createTime+Ms?function Da(N,L){return rd.apply(this,arguments)}(N,{token:pe.token,createTime:Date.now(),subscriptionOptions:te}):pe.token;try{yield dc(N.firebaseDependencies,pe.token)}catch(Pe){console.warn(Pe)}return ul(N.firebaseDependencies,te)}return ul(N.firebaseDependencies,te)}),zc.apply(this,arguments)}function Ho(){return Ho=(0,u.Z)(function*(N){const L=yield Ns(N.firebaseDependencies);L&&(yield dc(N.firebaseDependencies,L.token),yield function Ea(N){return Mi.apply(this,arguments)}(N.firebaseDependencies));const te=yield N.swRegistration.pushManager.getSubscription();return!te||te.unsubscribe()}),Ho.apply(this,arguments)}function rd(){return rd=(0,u.Z)(function*(N,L){try{const te=yield function nd(N,L){return Co.apply(this,arguments)}(N.firebaseDependencies,L),pe=Object.assign(Object.assign({},L),{token:te,createTime:Date.now()});return yield Ia(N.firebaseDependencies,pe),te}catch(te){throw yield function Ta(N){return Ho.apply(this,arguments)}(N),te}}),rd.apply(this,arguments)}function ul(N,L){return ca.apply(this,arguments)}function ca(){return(ca=(0,u.Z)(function*(N,L){const pe={token:yield cl(N,L),createTime:Date.now(),subscriptionOptions:L};return yield Ia(N,pe),pe.token})).apply(this,arguments)}function dl(){return(dl=(0,u.Z)(function*(N,L){return(yield N.pushManager.getSubscription())||N.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Oe(L)})})).apply(this,arguments)}function ie(N){const L={from:N.from,collapseKey:N.collapse_key,messageId:N.fcmMessageId};return function V(N,L){if(!L.notification)return;N.notification={};const te=L.notification.title;te&&(N.notification.title=te);const pe=L.notification.body;pe&&(N.notification.body=pe);const Pe=L.notification.image;Pe&&(N.notification.image=Pe);const Ve=L.notification.icon;Ve&&(N.notification.icon=Ve)}(L,N),function ee(N,L){L.data&&(N.data=L.data)}(L,N),function we(N,L){var te,pe,Pe,Ve,ct;if(!(L.fcmOptions||null!==(te=L.notification)&&void 0!==te&&te.click_action))return;N.fcmOptions={};const Gt=null!==(Pe=null===(pe=L.fcmOptions)||void 0===pe?void 0:pe.link)&&void 0!==Pe?Pe:null===(Ve=L.notification)||void 0===Ve?void 0:Ve.click_action;Gt&&(N.fcmOptions.link=Gt);const Ut=null===(ct=L.fcmOptions)||void 0===ct?void 0:ct.analytics_label;Ut&&(N.fcmOptions.analyticsLabel=Ut)}(L,N),L}function wt(N,L){const te=[];for(let pe=0;pe<N.length;pe++)te.push(N.charAt(pe)),pe<L.length&&te.push(L.charAt(pe));return te.join("")}function Ar(N){return xi.create("missing-app-config-values",{valueName:N})}wt("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),wt("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Nr{constructor(L,te,pe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Pe=function Tn(N){if(!N||!N.options)throw Ar("App Configuration Object");if(!N.name)throw Ar("App Name");const L=["projectId","apiKey","appId","messagingSenderId"],{options:te}=N;for(const pe of L)if(!te[pe])throw Ar(pe);return{appName:N.name,projectId:te.projectId,apiKey:te.apiKey,appId:te.appId,senderId:te.messagingSenderId}}(L);this.firebaseDependencies={app:L,appConfig:Pe,installations:te,analyticsProvider:pe}}_delete(){return Promise.resolve()}}function An(){return(An=(0,u.Z)(function*(N){try{N.swRegistration=yield navigator.serviceWorker.register(Ws,{scope:oa}),N.swRegistration.update().catch(()=>{})}catch(L){throw xi.create("failed-service-worker-registration",{browserErrorMessage:L?.message})}})).apply(this,arguments)}function sr(){return(sr=(0,u.Z)(function*(N,L){if(!L&&!N.swRegistration&&(yield function Or(N){return An.apply(this,arguments)}(N)),L||!N.swRegistration){if(!(L instanceof ServiceWorkerRegistration))throw xi.create("invalid-sw-registration");N.swRegistration=L}})).apply(this,arguments)}function Wi(){return(Wi=(0,u.Z)(function*(N,L){L?N.vapidKey=L:N.vapidKey||(N.vapidKey=jc)})).apply(this,arguments)}function Xi(){return Xi=(0,u.Z)(function*(N,L){if(!navigator)throw xi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw xi.create("permission-blocked");return yield function ii(N,L){return Wi.apply(this,arguments)}(N,L?.vapidKey),yield function zr(N,L){return sr.apply(this,arguments)}(N,L?.serviceWorkerRegistration),function wi(N){return zc.apply(this,arguments)}(N)}),Xi.apply(this,arguments)}function So(){return(So=(0,u.Z)(function*(N,L,te){const pe=function Ca(N){switch(N){case U.NOTIFICATION_CLICKED:return"notification_open";case U.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(L);(yield N.firebaseDependencies.analyticsProvider.get()).logEvent(pe,{message_id:te[Sr],message_name:te[Wa],message_time:te[yu],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function hl(){return hl=(0,u.Z)(function*(N,L){const te=L.data;if(!te.isFirebaseMessaging)return;N.onMessageHandler&&te.messageType===U.PUSH_RECEIVED&&("function"==typeof N.onMessageHandler?N.onMessageHandler(ie(te)):N.onMessageHandler.next(ie(te)));const pe=te.data;(function it(N){return"object"==typeof N&&!!N&&Sr in N})(pe)&&"1"===pe["google.c.a.e"]&&(yield function qi(N,L,te){return So.apply(this,arguments)}(N,te.messageType,pe))}),hl.apply(this,arguments)}const vu="@firebase/messaging",Ao=N=>{const L=new Nr(N.getProvider("app").getImmediate(),N.getProvider("installations-internal").getImmediate(),N.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",te=>function qs(N,L){return hl.apply(this,arguments)}(L,te)),L},Vl=N=>{const L=N.getProvider("messaging").getImmediate();return{getToken:pe=>function Ii(N,L){return Xi.apply(this,arguments)}(L,pe)}};function Ac(){return Wc.apply(this,arguments)}function Wc(){return(Wc=(0,u.Z)(function*(){try{yield(0,ae.eu)()}catch{return!1}return typeof window<"u"&&(0,ae.hl)()&&(0,ae.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Mr(){(0,ye.Xd)(new he.wA("messaging",Ao,"PUBLIC")),(0,ye.Xd)(new he.wA("messaging-internal",Vl,"PRIVATE")),(0,ye.KN)(vu,"0.12.4"),(0,ye.KN)(vu,"0.12.4","esm2017")}();const Ka="analytics",Hl="firebase_id",od="origin",Ei=6e4,fc="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Aa="https://www.googletagmanager.com/gtag/js",ci=new Ie.Yd("@firebase/analytics"),xs=new ae.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function mp(N){if(!N.startsWith(Aa)){const L=xs.create("invalid-gtag-resource",{gtagURL:N});return ci.warn(L.message),""}return N}function jl(N){return Promise.all(N.map(L=>L.catch(te=>te)))}function qc(){return(qc=(0,u.Z)(function*(N,L,te,pe,Pe,Ve){const ct=pe[Pe];try{if(ct)yield L[ct];else{const Ut=(yield jl(te)).find(gn=>gn.measurementId===Pe);Ut&&(yield L[Ut.appId])}}catch(Gt){ci.error(Gt)}N("config",Pe,Ve)})).apply(this,arguments)}function zl(){return(zl=(0,u.Z)(function*(N,L,te,pe,Pe){try{let Ve=[];if(Pe&&Pe.send_to){let ct=Pe.send_to;Array.isArray(ct)||(ct=[ct]);const Gt=yield jl(te);for(const Ut of ct){const gn=Gt.find(Zn=>Zn.measurementId===Ut),$n=gn&&L[gn.appId];if(!$n){Ve=[];break}Ve.push($n)}}0===Ve.length&&(Ve=Object.values(L)),yield Promise.all(Ve),N("event",pe,Pe||{})}catch(Ve){ci.error(Ve)}})).apply(this,arguments)}const Er=30,Zi=new class qh{constructor(L={},te=1e3){this.throttleMetadata=L,this.intervalMillis=te}getThrottleMetadata(L){return this.throttleMetadata[L]}setThrottleMetadata(L,te){this.throttleMetadata[L]=te}deleteThrottleMetadata(L){delete this.throttleMetadata[L]}};function Jd(N){return new Headers({Accept:"application/json","x-goog-api-key":N})}function Oo(){return(Oo=(0,u.Z)(function*(N){var L;const{appId:te,apiKey:pe}=N,Pe={method:"GET",headers:Jd(pe)},Ve=fc.replace("{app-id}",te),ct=yield fetch(Ve,Pe);if(200!==ct.status&&304!==ct.status){let Gt="";try{const Ut=yield ct.json();null!==(L=Ut.error)&&void 0!==L&&L.message&&(Gt=Ut.error.message)}catch{}throw xs.create("config-fetch-failed",{httpStatus:ct.status,responseMessage:Gt})}return ct.json()})).apply(this,arguments)}function gc(){return(gc=(0,u.Z)(function*(N,L=Zi,te){const{appId:pe,apiKey:Pe,measurementId:Ve}=N.options;if(!pe)throw xs.create("no-app-id");if(!Pe){if(Ve)return{measurementId:Ve,appId:pe};throw xs.create("no-api-key")}const ct=L.getThrottleMetadata(pe)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Gt=new jo;return setTimeout((0,u.Z)(function*(){Gt.abort()}),void 0!==te?te:Ei),Iu({appId:pe,apiKey:Pe,measurementId:Ve},ct,Gt,L)})).apply(this,arguments)}function Iu(N,L,te){return Zc.apply(this,arguments)}function Zc(){return Zc=(0,u.Z)(function*(N,{throttleEndTimeMillis:L,backoffCount:te},pe,Pe=Zi){var Ve;const{appId:ct,measurementId:Gt}=N;try{yield function mc(N,L){return new Promise((te,pe)=>{const Pe=Math.max(L-Date.now(),0),Ve=setTimeout(te,Pe);N.addEventListener(()=>{clearTimeout(Ve),pe(xs.create("fetch-throttle",{throttleEndTimeMillis:L}))})})}(pe,L)}catch(Ut){if(Gt)return ci.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Gt} provided in the "measurementId" field in the local Firebase config. [${Ut?.message}]`),{appId:ct,measurementId:Gt};throw Ut}try{const Ut=yield function gl(N){return Oo.apply(this,arguments)}(N);return Pe.deleteThrottleMetadata(ct),Ut}catch(Ut){const gn=Ut;if(!function ys(N){if(!(N instanceof ae.ZR&&N.customData))return!1;const L=Number(N.customData.httpStatus);return 429===L||500===L||503===L||504===L}(gn)){if(Pe.deleteThrottleMetadata(ct),Gt)return ci.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Gt} provided in the "measurementId" field in the local Firebase config. [${gn?.message}]`),{appId:ct,measurementId:Gt};throw Ut}const $n=503===Number(null===(Ve=gn?.customData)||void 0===Ve?void 0:Ve.httpStatus)?(0,ae.$s)(te,Pe.intervalMillis,Er):(0,ae.$s)(te,Pe.intervalMillis),Zn={throttleEndTimeMillis:Date.now()+$n,backoffCount:te+1};return Pe.setThrottleMetadata(ct,Zn),ci.debug(`Calling attemptFetch again in ${$n} millis`),Iu(N,Zn,pe,Pe)}}),Zc.apply(this,arguments)}class jo{constructor(){this.listeners=[]}addEventListener(L){this.listeners.push(L)}abort(){this.listeners.forEach(L=>L())}}let ql,Qe;function No(){return(No=(0,u.Z)(function*(N,L,te,pe,Pe){if(Pe&&Pe.global)N("event",te,pe);else{const Ve=yield L;N("event",te,Object.assign(Object.assign({},pe),{send_to:Ve}))}})).apply(this,arguments)}function Vr(){return(Vr=(0,u.Z)(function*(){if(!(0,ae.hl)())return ci.warn(xs.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ae.eu)()}catch(N){return ci.warn(xs.create("indexeddb-unavailable",{errorInfo:N?.toString()}).message),!1}return!0})).apply(this,arguments)}function Mo(){return Mo=(0,u.Z)(function*(N,L,te,pe,Pe,Ve,ct){var Gt;const Ut=function wu(N){return gc.apply(this,arguments)}(N);Ut.then(Ks=>{te[Ks.measurementId]=Ks.appId,N.options.measurementId&&Ks.measurementId!==N.options.measurementId&&ci.warn(`The measurement ID in the local Firebase config (${N.options.measurementId}) does not match the measurement ID fetched from the server (${Ks.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ks=>ci.error(Ks)),L.push(Ut);const gn=function Xn(){return Vr.apply(this,arguments)}().then(Ks=>{if(Ks)return pe.getId()}),[$n,Zn]=yield Promise.all([Ut,gn]);(function _t(N){const L=window.document.getElementsByTagName("script");for(const te of Object.values(L))if(te.src&&te.src.includes(Aa)&&te.src.includes(N))return te;return null})(Ve)||function Gl(N,L){const te=function ad(N,L){let te;return window.trustedTypes&&(te=window.trustedTypes.createPolicy(N,L)),te}("firebase-js-sdk-policy",{createScriptURL:mp}),pe=document.createElement("script"),Pe=`${Aa}?l=${N}&id=${L}`;pe.src=te?te?.createScriptURL(Pe):Pe,pe.async=!0,document.head.appendChild(pe)}(Ve,$n.measurementId),Qe&&(Pe("consent","default",Qe),function Ye(N){Qe=N}(void 0)),Pe("js",new Date);const Zs=null!==(Gt=ct?.config)&&void 0!==Gt?Gt:{};return Zs[od]="firebase",Zs.update=!0,null!=Zn&&(Zs[Hl]=Zn),Pe("config",$n.measurementId,Zs),ql&&(Pe("set",ql),function $t(N){ql=N}(void 0)),$n.measurementId}),Mo.apply(this,arguments)}class Kl{constructor(L){this.app=L}_delete(){return delete Wr[this.app.options.appId],Promise.resolve()}}let Wr={},Ya=[];const wr={};let Qd,Ja,Oc="dataLayer",Eu=!1;function Kc(N,L,te){!function Kh(){const N=[];if((0,ae.ru)()&&N.push("This is a browser extension environment."),(0,ae.zI)()||N.push("Cookies are not available."),N.length>0){const L=N.map((pe,Pe)=>`(${Pe+1}) ${pe}`).join(" "),te=xs.create("invalid-analytics-context",{errorInfo:L});ci.warn(te.message)}}();const pe=N.options.appId;if(!pe)throw xs.create("no-app-id");if(!N.options.apiKey){if(!N.options.measurementId)throw xs.create("no-api-key");ci.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${N.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Wr[pe])throw xs.create("already-exists",{id:pe});if(!Eu){!function pl(N){let L=[];Array.isArray(window[N])?L=window[N]:window[N]=L}(Oc);const{wrappedGtag:Ve,gtagCore:ct}=function cd(N,L,te,pe,Pe){let Ve=function(...ct){window[pe].push(arguments)};return window[Pe]&&"function"==typeof window[Pe]&&(Ve=window[Pe]),window[Pe]=function Wl(N,L,te,pe){function Ve(){return Ve=(0,u.Z)(function*(ct,...Gt){try{if("event"===ct){const[Ut,gn]=Gt;yield function $l(N,L,te,pe,Pe){return zl.apply(this,arguments)}(N,L,te,Ut,gn)}else if("config"===ct){const[Ut,gn]=Gt;yield function pc(N,L,te,pe,Pe,Ve){return qc.apply(this,arguments)}(N,L,te,pe,Ut,gn)}else if("consent"===ct){const[Ut]=Gt;N("consent","update",Ut)}else if("get"===ct){const[Ut,gn,$n]=Gt;N("get",Ut,gn,$n)}else if("set"===ct){const[Ut]=Gt;N("set",Ut)}else N(ct,...Gt)}catch(Ut){ci.error(Ut)}}),Ve.apply(this,arguments)}return function Pe(ct){return Ve.apply(this,arguments)}}(Ve,N,L,te),{gtagCore:Ve,wrappedGtag:window[Pe]}}(Wr,Ya,wr,Oc,"gtag");Ja=Ve,Qd=ct,Eu=!0}return Wr[pe]=function ar(N,L,te,pe,Pe,Ve,ct){return Mo.apply(this,arguments)}(N,Ya,wr,L,Qd,Oc,te),new Kl(N)}function Yc(){return ml.apply(this,arguments)}function ml(){return(ml=(0,u.Z)(function*(){if((0,ae.ru)()||!(0,ae.zI)()||!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch{return!1}})).apply(this,arguments)}const jg="@firebase/analytics";!function bp(){(0,ye.Xd)(new he.wA(Ka,(L,{options:te})=>Kc(L.getProvider("app").getImmediate(),L.getProvider("installations-internal").getImmediate(),te),"PUBLIC")),(0,ye.Xd)(new he.wA("analytics-internal",function N(L){try{const te=L.getProvider(Ka).getImmediate();return{logEvent:(pe,Pe,Ve)=>function Jh(N,L,te,pe){N=(0,ae.m9)(N),function _c(N,L,te,pe,Pe){return No.apply(this,arguments)}(Ja,Wr[N.app.options.appId],L,te,pe).catch(Pe=>ci.error(Pe))}(te,pe,Pe,Ve)}}catch(te){throw xs.create("interop-component-reg-failed",{reason:te})}},"PRIVATE")),(0,ye.KN)(jg,"0.10.0"),(0,ye.KN)(jg,"0.10.0","esm2017")}();var th=$(2381),h0=$(6321),Jl=$(5592),Ql=$(9397),nh=$(5137),Jc=$(3093);const Du=new b.GfV("7.6.1"),Nc="__angularfire_symbol__analyticsIsSupportedValue",Qh="__angularfire_symbol__analyticsIsSupported",Xl="__angularfire_symbol__remoteConfigIsSupportedValue",Cu="__angularfire_symbol__remoteConfigIsSupported",yl="__angularfire_symbol__messagingIsSupportedValue",xo="__angularfire_symbol__messagingIsSupported";function rh(N,L,te){if(L){if(1===L.length)return L[0];const Ve=L.filter(ct=>ct.app===te);if(1===Ve.length)return Ve[0]}return te.container.getProvider(N).getImmediate({optional:!0})}globalThis[Qh]||(globalThis[Qh]=Yc().then(N=>globalThis[Nc]=N).catch(()=>globalThis[Nc]=!1)),globalThis[xo]||(globalThis[xo]=Ac().then(N=>globalThis[yl]=N).catch(()=>globalThis[yl]=!1)),globalThis[Cu]||(globalThis[Cu]=Qi().then(N=>globalThis[Xl]=N).catch(()=>globalThis[Xl]=!1));const fd=(N,L)=>{const te=L?[L]:(0,X.C6)(),pe=[];return te.forEach(Pe=>{Pe.container.getProvider(N).instances.forEach(ct=>{pe.includes(ct)||pe.push(ct)})}),pe};function Mc(){}class ef{constructor(L,te=th.N){this.zone=L,this.delegate=te}now(){return this.delegate.now()}schedule(L,te,pe){const Pe=this.zone;return this.delegate.schedule(function(ct){Pe.runGuarded(()=>{L.apply(this,[ct])})},te,pe)}}class tf{constructor(L){this.zone=L,this.task=null}call(L,te){const pe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Mc,{},Mc,Mc)),te.pipe((0,Ql.b)({next:pe,complete:pe,error:pe})).subscribe(L).add(pe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let eu=(()=>{class N{constructor(te){this.ngZone=te,this.outsideAngular=te.runOutsideAngular(()=>new ef(Zone.current)),this.insideAngular=te.run(()=>new ef(Zone.current,h0.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return N.\u0275fac=function(te){return new(te||N)(b.LFG(b.R0b))},N.\u0275prov=b.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})();function vl(){const N=globalThis.\u0275AngularFireScheduler;if(!N)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return N}function Oa(N){return vl().ngZone.run(()=>N())}function ih(N){return vl(),function Ou(N){return function(te){return(te=te.lift(new tf(N.ngZone))).pipe((0,nh.R)(N.outsideAngular),(0,Jc.Q)(N.insideAngular))}}(vl())(N)}const tu=(N,L)=>function(){const pe=arguments;return L&&setTimeout(()=>{"scheduled"===L.state&&L.invoke()},10),Oa(()=>N.apply(void 0,pe))},nu=(N,L)=>function(){let te;const pe=arguments;for(let Ve=0;Ve<arguments.length;Ve++)"function"==typeof pe[Ve]&&(L&&(te||(te=Oa(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Mc,{},Mc,Mc)))),pe[Ve]=tu(pe[Ve],te));const Pe=function wp(N){return vl().ngZone.runOutsideAngular(()=>N())}(()=>N.apply(this,pe));if(!L){if(Pe instanceof Jl.y){const Ve=vl();return Pe.pipe((0,nh.R)(Ve.outsideAngular),(0,Jc.Q)(Ve.insideAngular))}return Oa(()=>Pe)}return Pe instanceof Jl.y?Pe.pipe(ih):Pe instanceof Promise?Oa(()=>new Promise((Ve,ct)=>Pe.then(Gt=>Oa(()=>Ve(Gt)),Gt=>Oa(()=>ct(Gt))))):"function"==typeof Pe&&te?function(){return setTimeout(()=>{te&&"scheduled"===te.state&&te.invoke()},10),Pe.apply(this,arguments)}:Oa(()=>Pe)}},229:(Vt,Be,$)=>{"use strict";$.d(Be,{$s:()=>At,BH:()=>yt,L:()=>Ee,LL:()=>gt,P0:()=>Tt,Pz:()=>rt,Sg:()=>ze,US:()=>he,ZR:()=>Ke,aH:()=>st,b$:()=>dt,eu:()=>je,hl:()=>Ue,m9:()=>qn,ne:()=>br,ru:()=>wn,tV:()=>re,uI:()=>_e,vZ:()=>bt,xO:()=>yn,z$:()=>Ae,zI:()=>Ze});const ye=function(J){const B=[];let j=0;for(let q=0;q<J.length;q++){let z=J.charCodeAt(q);z<128?B[j++]=z:z<2048?(B[j++]=z>>6|192,B[j++]=63&z|128):55296==(64512&z)&&q+1<J.length&&56320==(64512&J.charCodeAt(q+1))?(z=65536+((1023&z)<<10)+(1023&J.charCodeAt(++q)),B[j++]=z>>18|240,B[j++]=z>>12&63|128,B[j++]=z>>6&63|128,B[j++]=63&z|128):(B[j++]=z>>12|224,B[j++]=z>>6&63|128,B[j++]=63&z|128)}return B},he={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(J,B){if(!Array.isArray(J))throw Error("encodeByteArray takes an array as a parameter");this.init_();const j=B?this.byteToCharMapWebSafe_:this.byteToCharMap_,q=[];for(let z=0;z<J.length;z+=3){const Te=J[z],Je=z+1<J.length,Dt=Je?J[z+1]:0,dn=z+2<J.length,hn=dn?J[z+2]:0;let Fn=(15&Dt)<<2|hn>>6,Kr=63&hn;dn||(Kr=64,Je||(Fn=64)),q.push(j[Te>>2],j[(3&Te)<<4|Dt>>4],j[Fn],j[Kr])}return q.join("")},encodeString(J,B){return this.HAS_NATIVE_SUPPORT&&!B?btoa(J):this.encodeByteArray(ye(J),B)},decodeString(J,B){return this.HAS_NATIVE_SUPPORT&&!B?atob(J):function(J){const B=[];let j=0,q=0;for(;j<J.length;){const z=J[j++];if(z<128)B[q++]=String.fromCharCode(z);else if(z>191&&z<224){const Te=J[j++];B[q++]=String.fromCharCode((31&z)<<6|63&Te)}else if(z>239&&z<365){const dn=((7&z)<<18|(63&J[j++])<<12|(63&J[j++])<<6|63&J[j++])-65536;B[q++]=String.fromCharCode(55296+(dn>>10)),B[q++]=String.fromCharCode(56320+(1023&dn))}else{const Te=J[j++],Je=J[j++];B[q++]=String.fromCharCode((15&z)<<12|(63&Te)<<6|63&Je)}}return B.join("")}(this.decodeStringToByteArray(J,B))},decodeStringToByteArray(J,B){this.init_();const j=B?this.charToByteMapWebSafe_:this.charToByteMap_,q=[];for(let z=0;z<J.length;){const Te=j[J.charAt(z++)],Dt=z<J.length?j[J.charAt(z)]:0;++z;const hn=z<J.length?j[J.charAt(z)]:64;++z;const Yt=z<J.length?j[J.charAt(z)]:64;if(++z,null==Te||null==Dt||null==hn||null==Yt)throw new Ie;q.push(Te<<2|Dt>>4),64!==hn&&(q.push(Dt<<4&240|hn>>2),64!==Yt&&q.push(hn<<6&192|Yt))}return q},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let J=0;J<this.ENCODED_VALS.length;J++)this.byteToCharMap_[J]=this.ENCODED_VALS.charAt(J),this.charToByteMap_[this.byteToCharMap_[J]]=J,this.byteToCharMapWebSafe_[J]=this.ENCODED_VALS_WEBSAFE.charAt(J),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[J]]=J,J>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(J)]=J,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(J)]=J)}}};class Ie extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ee=function(J){return function(J){const B=ye(J);return he.encodeByteArray(B,!0)}(J).replace(/\./g,"")},re=function(J){try{return he.decodeString(J,!0)}catch(B){console.error("base64Decode failed: ",B)}return null},Ct=()=>{try{return function Me(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const J=process.env.__FIREBASE_DEFAULTS__;return J?JSON.parse(J):void 0})()||(()=>{if(typeof document>"u")return;let J;try{J=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const B=J&&re(J[1]);return B&&JSON.parse(B)})()}catch(J){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${J}`)}},Tt=J=>{const B=(J=>{var B,j;return null===(j=null===(B=Ct())||void 0===B?void 0:B.emulatorHosts)||void 0===j?void 0:j[J]})(J);if(!B)return;const j=B.lastIndexOf(":");if(j<=0||j+1===B.length)throw new Error(`Invalid host ${B} with no separate hostname and port!`);const q=parseInt(B.substring(j+1),10);return"["===B[0]?[B.substring(1,j-1),q]:[B.substring(0,j),q]},st=()=>{var J;return null===(J=Ct())||void 0===J?void 0:J.config},rt=J=>{var B;return null===(B=Ct())||void 0===B?void 0:B[`_${J}`]};class yt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((B,j)=>{this.resolve=B,this.reject=j})}wrapCallback(B){return(j,q)=>{j?this.reject(j):this.resolve(q),"function"==typeof B&&(this.promise.catch(()=>{}),1===B.length?B(j):B(j,q))}}}function ze(J,B){if(J.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const q=B||"demo-project",z=J.iat||0,Te=J.sub||J.user_id;if(!Te)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Je=Object.assign({iss:`https://securetoken.google.com/${q}`,aud:q,iat:z,exp:z+3600,auth_time:z,sub:Te,user_id:Te,firebase:{sign_in_provider:"custom",identities:{}}},J);return[Ee(JSON.stringify({alg:"none",type:"JWT"})),Ee(JSON.stringify(Je)),""].join(".")}function Ae(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function _e(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ae())}function wn(){const J="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof J&&void 0!==J.id}function dt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ue(){try{return"object"==typeof indexedDB}catch{return!1}}function je(){return new Promise((J,B)=>{try{let j=!0;const q="validate-browser-context-for-indexeddb-analytics-module",z=self.indexedDB.open(q);z.onsuccess=()=>{z.result.close(),j||self.indexedDB.deleteDatabase(q),J(!0)},z.onupgradeneeded=()=>{j=!1},z.onerror=()=>{var Te;B((null===(Te=z.error)||void 0===Te?void 0:Te.message)||"")}}catch(j){B(j)}})}function Ze(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ke extends Error{constructor(B,j,q){super(j),this.code=B,this.customData=q,this.name="FirebaseError",Object.setPrototypeOf(this,Ke.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gt.prototype.create)}}class gt{constructor(B,j,q){this.service=B,this.serviceName=j,this.errors=q}create(B,...j){const q=j[0]||{},z=`${this.service}/${B}`,Te=this.errors[B],Je=Te?function St(J,B){return J.replace(Lt,(j,q)=>{const z=B[q];return null!=z?String(z):`<${q}?>`})}(Te,q):"Error";return new Ke(z,`${this.serviceName}: ${Je} (${z}).`,q)}}const Lt=/\{\$([^}]+)}/g;function bt(J,B){if(J===B)return!0;const j=Object.keys(J),q=Object.keys(B);for(const z of j){if(!q.includes(z))return!1;const Te=J[z],Je=B[z];if(kt(Te)&&kt(Je)){if(!bt(Te,Je))return!1}else if(Te!==Je)return!1}for(const z of q)if(!j.includes(z))return!1;return!0}function kt(J){return null!==J&&"object"==typeof J}function yn(J){const B=[];for(const[j,q]of Object.entries(J))Array.isArray(q)?q.forEach(z=>{B.push(encodeURIComponent(j)+"="+encodeURIComponent(z))}):B.push(encodeURIComponent(j)+"="+encodeURIComponent(q));return B.length?"&"+B.join("&"):""}function br(J,B){const j=new nn(J,B);return j.subscribe.bind(j)}class nn{constructor(B,j){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=j,this.task.then(()=>{B(this)}).catch(q=>{this.error(q)})}next(B){this.forEachObserver(j=>{j.next(B)})}error(B){this.forEachObserver(j=>{j.error(B)}),this.close(B)}complete(){this.forEachObserver(B=>{B.complete()}),this.close()}subscribe(B,j,q){let z;if(void 0===B&&void 0===j&&void 0===q)throw new Error("Missing Observer.");z=function Cr(J,B){if("object"!=typeof J||null===J)return!1;for(const j of B)if(j in J&&"function"==typeof J[j])return!0;return!1}(B,["next","error","complete"])?B:{next:B,error:j,complete:q},void 0===z.next&&(z.next=En),void 0===z.error&&(z.error=En),void 0===z.complete&&(z.complete=En);const Te=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?z.error(this.finalError):z.complete()}catch{}}),this.observers.push(z),Te}unsubscribeOne(B){void 0===this.observers||void 0===this.observers[B]||(delete this.observers[B],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(B){if(!this.finalized)for(let j=0;j<this.observers.length;j++)this.sendOne(j,B)}sendOne(B,j){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[B])try{j(this.observers[B])}catch(q){typeof console<"u"&&console.error&&console.error(q)}})}close(B){this.finalized||(this.finalized=!0,void 0!==B&&(this.finalError=B),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function En(){}const Gr=1e3,at=2,Ne=144e5,tt=.5;function At(J,B=Gr,j=at){const q=B*Math.pow(j,J),z=Math.round(tt*q*(Math.random()-.5)*2);return Math.min(Ne,q+z)}function qn(J){return J&&J._delegate?J._delegate:J}},9058:(Vt,Be,$)=>{"use strict";$.d(Be,{BH:()=>yt,L:()=>Ee,LL:()=>gt,Pz:()=>rt,ZR:()=>Ke,aH:()=>st,b$:()=>dt,eu:()=>je,hl:()=>Ue,m9:()=>qn,ne:()=>br,pd:()=>Xt,q4:()=>cn,ru:()=>wn,tV:()=>re,uI:()=>_e,vZ:()=>bt,w1:()=>_n,xO:()=>yn,xb:()=>Xe,z$:()=>Ae,zd:()=>Cn});const ye=function(J){const B=[];let j=0;for(let q=0;q<J.length;q++){let z=J.charCodeAt(q);z<128?B[j++]=z:z<2048?(B[j++]=z>>6|192,B[j++]=63&z|128):55296==(64512&z)&&q+1<J.length&&56320==(64512&J.charCodeAt(q+1))?(z=65536+((1023&z)<<10)+(1023&J.charCodeAt(++q)),B[j++]=z>>18|240,B[j++]=z>>12&63|128,B[j++]=z>>6&63|128,B[j++]=63&z|128):(B[j++]=z>>12|224,B[j++]=z>>6&63|128,B[j++]=63&z|128)}return B},he={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(J,B){if(!Array.isArray(J))throw Error("encodeByteArray takes an array as a parameter");this.init_();const j=B?this.byteToCharMapWebSafe_:this.byteToCharMap_,q=[];for(let z=0;z<J.length;z+=3){const Te=J[z],Je=z+1<J.length,Dt=Je?J[z+1]:0,dn=z+2<J.length,hn=dn?J[z+2]:0;let Fn=(15&Dt)<<2|hn>>6,Kr=63&hn;dn||(Kr=64,Je||(Fn=64)),q.push(j[Te>>2],j[(3&Te)<<4|Dt>>4],j[Fn],j[Kr])}return q.join("")},encodeString(J,B){return this.HAS_NATIVE_SUPPORT&&!B?btoa(J):this.encodeByteArray(ye(J),B)},decodeString(J,B){return this.HAS_NATIVE_SUPPORT&&!B?atob(J):function(J){const B=[];let j=0,q=0;for(;j<J.length;){const z=J[j++];if(z<128)B[q++]=String.fromCharCode(z);else if(z>191&&z<224){const Te=J[j++];B[q++]=String.fromCharCode((31&z)<<6|63&Te)}else if(z>239&&z<365){const dn=((7&z)<<18|(63&J[j++])<<12|(63&J[j++])<<6|63&J[j++])-65536;B[q++]=String.fromCharCode(55296+(dn>>10)),B[q++]=String.fromCharCode(56320+(1023&dn))}else{const Te=J[j++],Je=J[j++];B[q++]=String.fromCharCode((15&z)<<12|(63&Te)<<6|63&Je)}}return B.join("")}(this.decodeStringToByteArray(J,B))},decodeStringToByteArray(J,B){this.init_();const j=B?this.charToByteMapWebSafe_:this.charToByteMap_,q=[];for(let z=0;z<J.length;){const Te=j[J.charAt(z++)],Dt=z<J.length?j[J.charAt(z)]:0;++z;const hn=z<J.length?j[J.charAt(z)]:64;++z;const Yt=z<J.length?j[J.charAt(z)]:64;if(++z,null==Te||null==Dt||null==hn||null==Yt)throw new Ie;q.push(Te<<2|Dt>>4),64!==hn&&(q.push(Dt<<4&240|hn>>2),64!==Yt&&q.push(hn<<6&192|Yt))}return q},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let J=0;J<this.ENCODED_VALS.length;J++)this.byteToCharMap_[J]=this.ENCODED_VALS.charAt(J),this.charToByteMap_[this.byteToCharMap_[J]]=J,this.byteToCharMapWebSafe_[J]=this.ENCODED_VALS_WEBSAFE.charAt(J),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[J]]=J,J>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(J)]=J,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(J)]=J)}}};class Ie extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ee=function(J){return function(J){const B=ye(J);return he.encodeByteArray(B,!0)}(J).replace(/\./g,"")},re=function(J){try{return he.decodeString(J,!0)}catch(B){console.error("base64Decode failed: ",B)}return null},Ct=()=>{try{return function Me(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const J=process.env.__FIREBASE_DEFAULTS__;return J?JSON.parse(J):void 0})()||(()=>{if(typeof document>"u")return;let J;try{J=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const B=J&&re(J[1]);return B&&JSON.parse(B)})()}catch(J){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${J}`)}},cn=J=>{var B,j;return null===(j=null===(B=Ct())||void 0===B?void 0:B.emulatorHosts)||void 0===j?void 0:j[J]},st=()=>{var J;return null===(J=Ct())||void 0===J?void 0:J.config},rt=J=>{var B;return null===(B=Ct())||void 0===B?void 0:B[`_${J}`]};class yt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((B,j)=>{this.resolve=B,this.reject=j})}wrapCallback(B){return(j,q)=>{j?this.reject(j):this.resolve(q),"function"==typeof B&&(this.promise.catch(()=>{}),1===B.length?B(j):B(j,q))}}}function Ae(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function _e(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ae())}function wn(){const J="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof J&&void 0!==J.id}function dt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function _n(){const J=Ae();return J.indexOf("MSIE ")>=0||J.indexOf("Trident/")>=0}function Ue(){try{return"object"==typeof indexedDB}catch{return!1}}function je(){return new Promise((J,B)=>{try{let j=!0;const q="validate-browser-context-for-indexeddb-analytics-module",z=self.indexedDB.open(q);z.onsuccess=()=>{z.result.close(),j||self.indexedDB.deleteDatabase(q),J(!0)},z.onupgradeneeded=()=>{j=!1},z.onerror=()=>{var Te;B((null===(Te=z.error)||void 0===Te?void 0:Te.message)||"")}}catch(j){B(j)}})}class Ke extends Error{constructor(B,j,q){super(j),this.code=B,this.customData=q,this.name="FirebaseError",Object.setPrototypeOf(this,Ke.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gt.prototype.create)}}class gt{constructor(B,j,q){this.service=B,this.serviceName=j,this.errors=q}create(B,...j){const q=j[0]||{},z=`${this.service}/${B}`,Te=this.errors[B],Je=Te?function St(J,B){return J.replace(Lt,(j,q)=>{const z=B[q];return null!=z?String(z):`<${q}?>`})}(Te,q):"Error";return new Ke(z,`${this.serviceName}: ${Je} (${z}).`,q)}}const Lt=/\{\$([^}]+)}/g;function Xe(J){for(const B in J)if(Object.prototype.hasOwnProperty.call(J,B))return!1;return!0}function bt(J,B){if(J===B)return!0;const j=Object.keys(J),q=Object.keys(B);for(const z of j){if(!q.includes(z))return!1;const Te=J[z],Je=B[z];if(kt(Te)&&kt(Je)){if(!bt(Te,Je))return!1}else if(Te!==Je)return!1}for(const z of q)if(!j.includes(z))return!1;return!0}function kt(J){return null!==J&&"object"==typeof J}function yn(J){const B=[];for(const[j,q]of Object.entries(J))Array.isArray(q)?q.forEach(z=>{B.push(encodeURIComponent(j)+"="+encodeURIComponent(z))}):B.push(encodeURIComponent(j)+"="+encodeURIComponent(q));return B.length?"&"+B.join("&"):""}function Cn(J){const B={};return J.replace(/^\?/,"").split("&").forEach(q=>{if(q){const[z,Te]=q.split("=");B[decodeURIComponent(z)]=decodeURIComponent(Te)}}),B}function Xt(J){const B=J.indexOf("?");if(!B)return"";const j=J.indexOf("#",B);return J.substring(B,j>0?j:void 0)}function br(J,B){const j=new nn(J,B);return j.subscribe.bind(j)}class nn{constructor(B,j){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=j,this.task.then(()=>{B(this)}).catch(q=>{this.error(q)})}next(B){this.forEachObserver(j=>{j.next(B)})}error(B){this.forEachObserver(j=>{j.error(B)}),this.close(B)}complete(){this.forEachObserver(B=>{B.complete()}),this.close()}subscribe(B,j,q){let z;if(void 0===B&&void 0===j&&void 0===q)throw new Error("Missing Observer.");z=function Cr(J,B){if("object"!=typeof J||null===J)return!1;for(const j of B)if(j in J&&"function"==typeof J[j])return!0;return!1}(B,["next","error","complete"])?B:{next:B,error:j,complete:q},void 0===z.next&&(z.next=En),void 0===z.error&&(z.error=En),void 0===z.complete&&(z.complete=En);const Te=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?z.error(this.finalError):z.complete()}catch{}}),this.observers.push(z),Te}unsubscribeOne(B){void 0===this.observers||void 0===this.observers[B]||(delete this.observers[B],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(B){if(!this.finalized)for(let j=0;j<this.observers.length;j++)this.sendOne(j,B)}sendOne(B,j){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[B])try{j(this.observers[B])}catch(q){typeof console<"u"&&console.error&&console.error(q)}})}close(B){this.finalized||(this.finalized=!0,void 0!==B&&(this.finalError=B),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function En(){}function qn(J){return J&&J._delegate?J._delegate:J}},1816:(Vt,Be,$)=>{"use strict";$.d(Be,{y:()=>u});var b=$(8645),X=$(9468);let u=(()=>{class ye{constructor(){this.modalMessageSource=new b.x,this.modalMessage$=this.modalMessageSource.asObservable()}sendModalMessage(he){this.modalMessageSource.next(he)}static#e=this.\u0275fac=function(Ie){return new(Ie||ye)};static#t=this.\u0275prov=X.Yz7({token:ye,factory:ye.\u0275fac,providedIn:"root"})}return ye})()},2732:(Vt,Be,$)=>{"use strict";$.d(Be,{Q:()=>u});var b=$(9468),X=$(6593);let u=(()=>{class ye{constructor(he){this.sanitizer=he}transform(he){let Ie;if(he.startsWith("https://m."))Ie=new URLSearchParams(he.split("?")[1]).get("v")||"";else{const Ee=he.split("/");Ie=Ee[Ee.length-1]}return this.sanitizer.bypassSecurityTrustResourceUrl("https://www.youtube.com/embed/"+Ie)}static#e=this.\u0275fac=function(Ie){return new(Ie||ye)(b.Y36(X.H7,16))};static#t=this.\u0275pipe=b.Yjl({name:"safeUrl",type:ye,pure:!0})}return ye})()},2772:(Vt,Be,$)=>{"use strict";$.d(Be,{r:()=>ae});var b=$(6814),X=$(7158),u=$(95),ye=$(9468);let ae=(()=>{class he{static#e=this.\u0275fac=function(Ee){return new(Ee||he)};static#t=this.\u0275mod=ye.oAB({type:he});static#n=this.\u0275inj=ye.cJS({imports:[b.ez,X.Bz,u.u5,u.UX]})}return he})()},8850:(Vt,Be,$)=>{"use strict";$.d(Be,{O:()=>he});var b=$(5861),X=$(3477),u=$(8645),ye=$(9468),ae=$(4456);let he=(()=>{class Ie{constructor(Ee,re){this.firestore=Ee,this.globalErrorHandler=re,this.commentAddedSubject=new u.x,this.collectionName="Comments"}getCommentsByQuery(Ee,re){var le=this;return(0,b.Z)(function*(){try{const Se=(0,X.hJ)(le.firestore,le.collectionName),Ce=(0,X.IO)(Se,(0,X.ar)(Ee,"==",re)),Me=yield(0,X.PL)(Ce),qe=[];return Me.forEach(It=>{const{create_time:xt,name:Ct,recipeId:cn,comment:Tt,uid:st}=It.data();qe.push({create_time:xt,name:Ct,recipeId:cn,comment:Tt,uid:st,id:It.id})}),qe.sort((It,xt)=>{const Ct=It.create_time.toDate();return xt.create_time.toDate().getTime()-Ct.getTime()}),qe}catch(Se){return le.globalErrorHandler.handleError(Se),[]}})()}getCommentsForRecipe(Ee){var re=this;return(0,b.Z)(function*(){return re.getCommentsByQuery("recipeId",Ee)})()}getCommentsForUser(Ee){var re=this;return(0,b.Z)(function*(){return re.getCommentsByQuery("uid",Ee)})()}addComment(Ee){var re=this;return(0,b.Z)(function*(){try{const le=yield(0,X.ET)((0,X.hJ)(re.firestore,re.collectionName),Ee);return re.commentAddedSubject.next(),le.id}catch(le){return re.globalErrorHandler.handleError(le),null}})()}deleteComment(Ee){var re=this;return(0,b.Z)(function*(){try{const le=(0,X.JU)(re.firestore,re.collectionName,Ee);yield(0,X.oe)(le),console.log("Comment deleted successfully:",Ee)}catch(le){throw re.globalErrorHandler.handleError(le),le}})()}getCommentById(Ee){var re=this;return(0,b.Z)(function*(){const le=(0,X.JU)(re.firestore,re.collectionName,Ee),Se=yield(0,X.QT)(le);if(Se.exists()){const Ce=Se.data();return console.log(Ce.recipeId),Se.data()}return null})()}editComment(Ee,re){var le=this;return(0,b.Z)(function*(){const Ce=(0,X.JU)(le.firestore,"Comments",re),Me={...Ee};try{yield(0,X.r7)(Ce,Me)}catch(qe){throw le.globalErrorHandler.handleError(qe),qe}})()}getCommentAddedObservable(){return this.commentAddedSubject.asObservable()}static#e=this.\u0275fac=function(re){return new(re||Ie)(ye.LFG(X.gg),ye.LFG(ae.r))};static#t=this.\u0275prov=ye.Yz7({token:Ie,factory:Ie.\u0275fac,providedIn:"root"})}return Ie})()},3424:(Vt,Be,$)=>{"use strict";$.d(Be,{l:()=>u});var b=$(95),X=$(9468);let u=(()=>{class ye{markFormGroupTouched(he){Object.values(he.controls).forEach(Ie=>{Ie instanceof b.NI?Ie.markAsTouched():Ie instanceof b.cw&&this.markFormGroupTouched(Ie)})}markFormArrayControlsTouched(he){for(let Ie=0;Ie<he.length;Ie++){const ke=he.at(Ie);this.markFormGroupTouched(ke)}}getFormGroupErrors(he){let Ie="";return Object.keys(he.controls).forEach(ke=>{const Ee=he.get(ke)?.errors;Ee&&Object.keys(Ee).forEach(re=>{Ie+=`${ke} ${this.getControlErrorMessage(re,Ee[re])}\n`})}),Ie}getControlErrorMessage(he,Ie){switch(he){case"required":return"-> this field is required.";case"minlength":return`-> Minimum length is ${Ie.requiredLength}.`;case"maxlength":return`-> Maximum length is ${Ie.requiredLength}.`;default:return""}}static#e=this.\u0275fac=function(Ie){return new(Ie||ye)};static#t=this.\u0275prov=X.Yz7({token:ye,factory:ye.\u0275fac,providedIn:"root"})}return ye})()},4456:(Vt,Be,$)=>{"use strict";$.d(Be,{r:()=>u});var b=$(9468),X=$(1816);let u=(()=>{class ye{constructor(he){this.alertService=he}handleError(he){if(he instanceof Error){const Ie=he.name,ke=he.message;console.error(`Error (${Ie}): ${ke}`),this.alertService.sendModalMessage(`Error (${Ie}): \n\n         ${ke}`)}else this.alertService.sendModalMessage(`Unknown error occurred:\n      \n${he}`)}static#e=this.\u0275fac=function(Ie){return new(Ie||ye)(b.LFG(X.y))};static#t=this.\u0275prov=b.Yz7({token:ye,factory:ye.\u0275fac,providedIn:"root"})}return ye})()},3585:(Vt,Be,$)=>{"use strict";$.d(Be,{j:()=>re});var b=$(5861),X=$(3477),u=$(5619),ye=$(6973),ae=$(305),Ie=$(9468),ke=$(7158),Ee=$(4456);let re=(()=>{class le{constructor(Ce,Me,qe){this.firestore=Ce,this.router=Me,this.globalErrorHandler=qe,this.lastDocSubject=new u.X(void 0),this.lastDoc$=this.lastDocSubject.asObservable(),this.collectionName="Recipe",this.paginateNumber=12}getRecipes(){var Ce=this;return(0,b.Z)(function*(){try{let Me=(0,X.IO)((0,X.hJ)(Ce.firestore,Ce.collectionName),(0,X.Xo)("title"),(0,X.ar)("public","==",!0));Me=(0,X.IO)(Me,(0,X.b9)(Ce.paginateNumber));const qe=yield(0,X.PL)(Me);let It=[];return qe.forEach(Ct=>{const Tt={...Ct.data(),id:Ct.id};Tt.public&&It.push(Tt)}),Ce.lastDocSubject.next(qe.docs[qe.docs.length-1]),{data:It}}catch(Me){throw Ce.globalErrorHandler.handleError(Me),Me}})()}getRecipesLoadMore(){var Ce=this;return(0,b.Z)(function*(){try{const Me=yield function he(le,Se){const Ce="object"==typeof Se;return new Promise((Me,qe)=>{const It=new ae.Hp({next:xt=>{Me(xt),It.unsubscribe()},error:qe,complete:()=>{Ce?Me(Se.defaultValue):qe(new ye.K)}});le.subscribe(It)})}(Ce.lastDoc$);let qe=(0,X.IO)((0,X.hJ)(Ce.firestore,Ce.collectionName),(0,X.Xo)("title"),(0,X.ar)("public","==",!0));Me&&(qe=(0,X.IO)(qe,(0,X.TQ)(Me))),qe=(0,X.IO)(qe,(0,X.b9)(Ce.paginateNumber));const It=yield(0,X.PL)(qe);let xt=[];It.forEach(Tt=>{const rt={...Tt.data(),id:Tt.id};rt.public&&xt.push(rt)});const Ct=It.size===Ce.paginateNumber;return Ce.lastDocSubject.next(It.docs[It.docs.length-1]),{data:xt,hasMore:Ct}}catch(Me){throw Ce.globalErrorHandler.handleError(Me),Me}})()}getRecipeById(Ce){var Me=this;return(0,b.Z)(function*(){try{const qe=(0,X.JU)(Me.firestore,Me.collectionName,Ce),It=yield(0,X.QT)(qe);if(It.exists()){let xt=It.data();return xt.id||(xt={...xt,id:Ce}),xt}return null}catch(qe){throw Me.globalErrorHandler.handleError(qe),qe}})()}getRecipeByUID(Ce){var Me=this;return(0,b.Z)(function*(){try{const qe=(0,X.hJ)(Me.firestore,Me.collectionName),It=(0,X.IO)(qe,(0,X.ar)("uid","==",Ce)),xt=yield(0,X.PL)(It),Ct=[];return xt.forEach(cn=>{const st={...cn.data(),id:cn.id};Ct.push(st)}),Ct}catch(qe){throw Me.globalErrorHandler.handleError(qe),qe}})()}searchRecipesByTitle(Ce){var Me=this;return(0,b.Z)(function*(){try{let qe=(0,X.IO)((0,X.hJ)(Me.firestore,Me.collectionName),(0,X.Xo)("title"));const It=yield(0,X.PL)(qe);let xt=[];return It.forEach(Ct=>{const Tt={...Ct.data(),id:Ct.id};xt.push(Tt)}),Ce&&(xt=xt.filter(Ct=>Ct.title.toLowerCase().includes(Ce.toLowerCase()))),{data:xt}}catch(qe){throw Me.globalErrorHandler.handleError(qe),qe}})()}updateRecipeLikes(Ce,Me,qe){var It=this;return(0,b.Z)(function*(){const xt=(0,X.JU)(It.firestore,It.collectionName,Ce);try{qe?(console.log("remove"),yield(0,X.r7)(xt,{likes:(0,X.Ab)(Me)})):(console.log("add"),yield(0,X.r7)(xt,{likes:(0,X.vr)(Me)})),console.log("Recipe likes updated successfully")}catch(Ct){throw It.globalErrorHandler.handleError(Ct),Ct}})()}deleteRecipe(Ce){var Me=this;return(0,b.Z)(function*(){try{const qe=(0,X.JU)(Me.firestore,Me.collectionName,Ce);yield(0,X.oe)(qe),console.log("Recipe deleted successfully:",Ce)}catch(qe){throw Me.globalErrorHandler.handleError(qe),qe}})()}addRecipe(Ce){(0,X.ET)((0,X.hJ)(this.firestore,this.collectionName),Ce).then(Me=>{console.log("Document written with ID: ",Me.id),this.router.navigate(["/recipe",Me.id])}).catch(Me=>{throw this.globalErrorHandler.handleError(Me),Me})}updateRecipe(Ce,Me){if(Me){const qe=(0,X.JU)(this.firestore,this.collectionName,Me),It={...Ce};(0,X.r7)(qe,It).then(()=>{console.log("Document successfully updated"),this.router.navigate(["/recipe",Me])}).catch(xt=>{this.globalErrorHandler.handleError(xt)})}else this.globalErrorHandler.handleError("Invalid recipe id.")}static#e=this.\u0275fac=function(Me){return new(Me||le)(Ie.LFG(X.gg),Ie.LFG(ke.F0),Ie.LFG(Ee.r))};static#t=this.\u0275prov=Ie.Yz7({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})()},6499:(Vt,Be,$)=>{"use strict";$.d(Be,{K:()=>Zg});var b=$(5861),X=$(9058),u=$(4303),ye=$(7879),ae=$(7582),he=$(4537);const qe=function Ce(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},It=new X.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ct=new ye.Yd("@firebase/auth");function Tt(A,...v){Ct.logLevel<=ye.in.ERROR&&Ct.error(`Auth (${u.Jn}): ${A}`,...v)}function st(A,...v){throw Ae(A,...v)}function rt(A,...v){return Ae(A,...v)}function Ae(A,...v){if("string"!=typeof A){const w=v[0],O=[...v.slice(1)];return O[0]&&(O[0].appName=A.name),A._errorFactory.create(w,...O)}return It.create(A,...v)}function _e(A,v,...w){if(!A)throw Ae(v,...w)}function Le(A){const v="INTERNAL ASSERTION FAILED: "+A;throw Tt(v),new Error(v)}function ut(A,v){A||Le(v)}function wn(){var A;return typeof self<"u"&&(null===(A=self.location)||void 0===A?void 0:A.href)||""}function sn(){var A;return typeof self<"u"&&(null===(A=self.location)||void 0===A?void 0:A.protocol)||null}class Yn{constructor(v,w){this.shortDelay=v,this.longDelay=w,ut(w>v,"Short delay should be less than long delay!"),this.isMobile=(0,X.uI)()||(0,X.b$)()}get(){return function _n(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function dt(){return"http:"===sn()||"https:"===sn()}()||(0,X.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function tr(A,v){ut(A.emulator,"Emulator should always be set here");const{url:w}=A.emulator;return v?`${w}${v.startsWith("/")?v.slice(1):v}`:w}class Ue{static initialize(v,w,O){this.fetchImpl=v,w&&(this.headersImpl=w),O&&(this.responseImpl=O)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Le("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Le("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Le("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const je={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ze=new Yn(3e4,6e4);function He(A,v){return A.tenantId&&!v.tenantId?Object.assign(Object.assign({},v),{tenantId:A.tenantId}):v}function Ke(A,v,w,O){return gt.apply(this,arguments)}function gt(){return(gt=(0,b.Z)(function*(A,v,w,O,Y={}){return St(A,Y,(0,b.Z)(function*(){let de={},Re={};O&&("GET"===v?Re=O:de={body:JSON.stringify(O)});const nt=(0,X.xO)(Object.assign({key:A.config.apiKey},Re)).slice(1),Ot=yield A._getAdditionalHeaders();return Ot["Content-Type"]="application/json",A.languageCode&&(Ot["X-Firebase-Locale"]=A.languageCode),Ue.fetch()(Bt(A,A.config.apiHost,w,nt),Object.assign({method:v,headers:Ot,referrerPolicy:"no-referrer"},de))}))})).apply(this,arguments)}function St(A,v,w){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,b.Z)(function*(A,v,w){A._canInitEmulator=!1;const O=Object.assign(Object.assign({},je),v);try{const Y=new In(A),de=yield Promise.race([w(),Y.promise]);Y.clearNetworkTimeout();const Re=yield de.json();if("needConfirmation"in Re)throw Jn(A,"account-exists-with-different-credential",Re);if(de.ok&&!("errorMessage"in Re))return Re;{const nt=de.ok?Re.errorMessage:Re.error.message,[Ot,mn]=nt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ot)throw Jn(A,"credential-already-in-use",Re);if("EMAIL_EXISTS"===Ot)throw Jn(A,"email-already-in-use",Re);if("USER_DISABLED"===Ot)throw Jn(A,"user-disabled",Re);const Un=O[Ot]||Ot.toLowerCase().replace(/[_\s]+/g,"-");if(mn)throw function yt(A,v,w){const O=Object.assign(Object.assign({},qe()),{[v]:w});return new X.LL("auth","Firebase",O).create(v,{appName:A.name})}(A,Un,mn);st(A,Un)}}catch(Y){if(Y instanceof X.ZR)throw Y;st(A,"network-request-failed",{message:String(Y)})}})).apply(this,arguments)}function Qt(A,v,w,O){return tn.apply(this,arguments)}function tn(){return(tn=(0,b.Z)(function*(A,v,w,O,Y={}){const de=yield Ke(A,v,w,O,Y);return"mfaPendingCredential"in de&&st(A,"multi-factor-auth-required",{_serverResponse:de}),de})).apply(this,arguments)}function Bt(A,v,w,O){const Y=`${v}${w}?${O}`;return A.config.emulator?tr(A.config,Y):`${A.config.apiScheme}://${Y}`}function ft(A){switch(A){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class In{constructor(v){this.auth=v,this.timer=null,this.promise=new Promise((w,O)=>{this.timer=setTimeout(()=>O(rt(this.auth,"network-request-failed")),Ze.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Jn(A,v,w){const O={appName:A.name};w.email&&(O.email=w.email),w.phoneNumber&&(O.phoneNumber=w.phoneNumber);const Y=rt(A,v,O);return Y.customData._tokenResponse=w,Y}function xe(A){return void 0!==A&&void 0!==A.enterprise}class De{constructor(v){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===v.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=v.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=v.recaptchaEnforcementState}getProviderEnforcementState(v){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const w of this.recaptchaEnforcementState)if(w.provider&&w.provider===v)return ft(w.enforcementState);return null}isProviderEnabled(v){return"ENFORCE"===this.getProviderEnforcementState(v)||"AUDIT"===this.getProviderEnforcementState(v)}}function bt(A,v){return kt.apply(this,arguments)}function kt(){return(kt=(0,b.Z)(function*(A,v){return Ke(A,"GET","/v2/recaptchaConfig",He(A,v))})).apply(this,arguments)}function yn(){return(yn=(0,b.Z)(function*(A,v){return Ke(A,"POST","/v1/accounts:delete",v)})).apply(this,arguments)}function br(){return(br=(0,b.Z)(function*(A,v){return Ke(A,"POST","/v1/accounts:lookup",v)})).apply(this,arguments)}function nn(A){if(A)try{const v=new Date(Number(A));if(!isNaN(v.getTime()))return v.toUTCString()}catch{}}function En(){return(En=(0,b.Z)(function*(A,v=!1){const w=(0,X.m9)(A),O=yield w.getIdToken(v),Y=Wn(O);_e(Y&&Y.exp&&Y.auth_time&&Y.iat,w.auth,"internal-error");const de="object"==typeof Y.firebase?Y.firebase:void 0,Re=de?.sign_in_provider;return{claims:Y,token:O,authTime:nn(lr(Y.auth_time)),issuedAtTime:nn(lr(Y.iat)),expirationTime:nn(lr(Y.exp)),signInProvider:Re||null,signInSecondFactor:de?.sign_in_second_factor||null}})).apply(this,arguments)}function lr(A){return 1e3*Number(A)}function Wn(A){const[v,w,O]=A.split(".");if(void 0===v||void 0===w||void 0===O)return Tt("JWT malformed, contained fewer than 3 sections"),null;try{const Y=(0,X.tV)(w);return Y?JSON.parse(Y):(Tt("Failed to decode base64 JWT payload"),null)}catch(Y){return Tt("Caught error parsing JWT payload as JSON",Y?.toString()),null}}function Bn(A,v){return ni.apply(this,arguments)}function ni(){return(ni=(0,b.Z)(function*(A,v,w=!1){if(w)return v;try{return yield v}catch(O){throw O instanceof X.ZR&&function Zt({code:A}){return"auth/user-disabled"===A||"auth/user-token-expired"===A}(O)&&A.auth.currentUser===A&&(yield A.auth.signOut()),O}})).apply(this,arguments)}class Yi{constructor(v){this.user=v,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(v){var w;if(v){const O=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),O}{this.errorBackoff=3e4;const Y=(null!==(w=this.user.stsTokenManager.expirationTime)&&void 0!==w?w:0)-Date.now()-3e5;return Math.max(0,Y)}}schedule(v=!1){var w=this;if(!this.isRunning)return;const O=this.getInterval(v);this.timerId=setTimeout((0,b.Z)(function*(){yield w.iteration()}),O)}iteration(){var v=this;return(0,b.Z)(function*(){try{yield v.user.getIdToken(!0)}catch(w){return void("auth/network-request-failed"===w?.code&&v.schedule(!0))}v.schedule()})()}}class Zr{constructor(v,w){this.createdAt=v,this.lastLoginAt=w,this._initializeTime()}_initializeTime(){this.lastSignInTime=nn(this.lastLoginAt),this.creationTime=nn(this.createdAt)}_copy(v){this.createdAt=v.createdAt,this.lastLoginAt=v.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Gr(A){return at.apply(this,arguments)}function at(){return at=(0,b.Z)(function*(A){var v;const w=A.auth,O=yield A.getIdToken(),Y=yield Bn(A,function pn(A,v){return br.apply(this,arguments)}(w,{idToken:O}));_e(Y?.users.length,w,"internal-error");const de=Y.users[0];A._notifyReloadListener(de);const Re=null!==(v=de.providerUserInfo)&&void 0!==v&&v.length?function zt(A){return A.map(v=>{var{providerId:w}=v,O=(0,ae._T)(v,["providerId"]);return{providerId:w,uid:O.rawId||"",displayName:O.displayName||null,email:O.email||null,phoneNumber:O.phoneNumber||null,photoURL:O.photoUrl||null}})}(de.providerUserInfo):[],nt=function At(A,v){return[...A.filter(O=>!v.some(Y=>Y.providerId===O.providerId)),...v]}(A.providerData,Re),Un=!!A.isAnonymous&&!(A.email&&de.passwordHash||nt?.length),xr={uid:de.localId,displayName:de.displayName||null,photoURL:de.photoUrl||null,email:de.email||null,emailVerified:de.emailVerified||!1,phoneNumber:de.phoneNumber||null,tenantId:de.tenantId||null,providerData:nt,metadata:new Zr(de.createdAt,de.lastLoginAt),isAnonymous:Un};Object.assign(A,xr)}),at.apply(this,arguments)}function tt(){return(tt=(0,b.Z)(function*(A){const v=(0,X.m9)(A);yield Gr(v),yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)})).apply(this,arguments)}function qn(){return(qn=(0,b.Z)(function*(A,v){const w=yield St(A,{},(0,b.Z)(function*(){const O=(0,X.xO)({grant_type:"refresh_token",refresh_token:v}).slice(1),{tokenApiHost:Y,apiKey:de}=A.config,Re=Bt(A,Y,"/v1/token",`key=${de}`),nt=yield A._getAdditionalHeaders();return nt["Content-Type"]="application/x-www-form-urlencoded",Ue.fetch()(Re,{method:"POST",headers:nt,body:O})}));return{accessToken:w.access_token,expiresIn:w.expires_in,refreshToken:w.refresh_token}})).apply(this,arguments)}function B(){return(B=(0,b.Z)(function*(A,v){return Ke(A,"POST","/v2/accounts:revokeToken",He(A,v))})).apply(this,arguments)}class j{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(v){_e(v.idToken,"internal-error"),_e(typeof v.idToken<"u","internal-error"),_e(typeof v.refreshToken<"u","internal-error");const w="expiresIn"in v&&typeof v.expiresIn<"u"?Number(v.expiresIn):function or(A){const v=Wn(A);return _e(v,"internal-error"),_e(typeof v.exp<"u","internal-error"),_e(typeof v.iat<"u","internal-error"),Number(v.exp)-Number(v.iat)}(v.idToken);this.updateTokensAndExpiration(v.idToken,v.refreshToken,w)}getToken(v,w=!1){var O=this;return(0,b.Z)(function*(){return _e(!O.accessToken||O.refreshToken,v,"user-token-expired"),w||!O.accessToken||O.isExpired?O.refreshToken?(yield O.refresh(v,O.refreshToken),O.accessToken):null:O.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(v,w){var O=this;return(0,b.Z)(function*(){const{accessToken:Y,refreshToken:de,expiresIn:Re}=yield function Kt(A,v){return qn.apply(this,arguments)}(v,w);O.updateTokensAndExpiration(Y,de,Number(Re))})()}updateTokensAndExpiration(v,w,O){this.refreshToken=w||null,this.accessToken=v||null,this.expirationTime=Date.now()+1e3*O}static fromJSON(v,w){const{refreshToken:O,accessToken:Y,expirationTime:de}=w,Re=new j;return O&&(_e("string"==typeof O,"internal-error",{appName:v}),Re.refreshToken=O),Y&&(_e("string"==typeof Y,"internal-error",{appName:v}),Re.accessToken=Y),de&&(_e("number"==typeof de,"internal-error",{appName:v}),Re.expirationTime=de),Re}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(v){this.accessToken=v.accessToken,this.refreshToken=v.refreshToken,this.expirationTime=v.expirationTime}_clone(){return Object.assign(new j,this.toJSON())}_performRefresh(){return Le("not implemented")}}function q(A,v){_e("string"==typeof A||typeof A>"u","internal-error",{appName:v})}class z{constructor(v){var{uid:w,auth:O,stsTokenManager:Y}=v,de=(0,ae._T)(v,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Yi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=w,this.auth=O,this.stsTokenManager=Y,this.accessToken=Y.accessToken,this.displayName=de.displayName||null,this.email=de.email||null,this.emailVerified=de.emailVerified||!1,this.phoneNumber=de.phoneNumber||null,this.photoURL=de.photoURL||null,this.isAnonymous=de.isAnonymous||!1,this.tenantId=de.tenantId||null,this.providerData=de.providerData?[...de.providerData]:[],this.metadata=new Zr(de.createdAt||void 0,de.lastLoginAt||void 0)}getIdToken(v){var w=this;return(0,b.Z)(function*(){const O=yield Bn(w,w.stsTokenManager.getToken(w.auth,v));return _e(O,w.auth,"internal-error"),w.accessToken!==O&&(w.accessToken=O,yield w.auth._persistUserIfCurrent(w),w.auth._notifyListenersIfCurrent(w)),O})()}getIdTokenResult(v){return function Cr(A){return En.apply(this,arguments)}(this,v)}reload(){return function Ne(A){return tt.apply(this,arguments)}(this)}_assign(v){this!==v&&(_e(this.uid===v.uid,this.auth,"internal-error"),this.displayName=v.displayName,this.photoURL=v.photoURL,this.email=v.email,this.emailVerified=v.emailVerified,this.phoneNumber=v.phoneNumber,this.isAnonymous=v.isAnonymous,this.tenantId=v.tenantId,this.providerData=v.providerData.map(w=>Object.assign({},w)),this.metadata._copy(v.metadata),this.stsTokenManager._assign(v.stsTokenManager))}_clone(v){const w=new z(Object.assign(Object.assign({},this),{auth:v,stsTokenManager:this.stsTokenManager._clone()}));return w.metadata._copy(this.metadata),w}_onReload(v){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=v,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(v){this.reloadListener?this.reloadListener(v):this.reloadUserInfo=v}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(v,w=!1){var O=this;return(0,b.Z)(function*(){let Y=!1;v.idToken&&v.idToken!==O.stsTokenManager.accessToken&&(O.stsTokenManager.updateFromServerResponse(v),Y=!0),w&&(yield Gr(O)),yield O.auth._persistUserIfCurrent(O),Y&&O.auth._notifyListenersIfCurrent(O)})()}delete(){var v=this;return(0,b.Z)(function*(){const w=yield v.getIdToken();return yield Bn(v,function Ir(A,v){return yn.apply(this,arguments)}(v.auth,{idToken:w})),v.stsTokenManager.clearRefreshToken(),v.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(v=>Object.assign({},v)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(v,w){var O,Y,de,Re,nt,Ot,mn,Un;const xr=null!==(O=w.displayName)&&void 0!==O?O:void 0,Qa=null!==(Y=w.email)&&void 0!==Y?Y:void 0,wl=null!==(de=w.phoneNumber)&&void 0!==de?de:void 0,Dp=null!==(Re=w.photoURL)&&void 0!==Re?Re:void 0,Z_=null!==(nt=w.tenantId)&&void 0!==nt?nt:void 0,lf=null!==(Ot=w._redirectEventId)&&void 0!==Ot?Ot:void 0,v0=null!==(mn=w.createdAt)&&void 0!==mn?mn:void 0,gd=null!==(Un=w.lastLoginAt)&&void 0!==Un?Un:void 0,{uid:Cp,emailVerified:nI,isAnonymous:K_,providerData:Y_,stsTokenManager:Sp}=w;_e(Cp&&Sp,v,"internal-error");const Kg=j.fromJSON(this.name,Sp);_e("string"==typeof Cp,v,"internal-error"),q(xr,v.name),q(Qa,v.name),_e("boolean"==typeof nI,v,"internal-error"),_e("boolean"==typeof K_,v,"internal-error"),q(wl,v.name),q(Dp,v.name),q(Z_,v.name),q(lf,v.name),q(v0,v.name),q(gd,v.name);const uf=new z({uid:Cp,auth:v,email:Qa,emailVerified:nI,displayName:xr,isAnonymous:K_,photoURL:Dp,phoneNumber:wl,tenantId:Z_,stsTokenManager:Kg,createdAt:v0,lastLoginAt:gd});return Y_&&Array.isArray(Y_)&&(uf.providerData=Y_.map(Yg=>Object.assign({},Yg))),lf&&(uf._redirectEventId=lf),uf}static _fromIdTokenResponse(v,w,O=!1){return(0,b.Z)(function*(){const Y=new j;Y.updateFromServerResponse(w);const de=new z({uid:w.localId,auth:v,stsTokenManager:Y,isAnonymous:O});return yield Gr(de),de})()}}const Te=new Map;function Je(A){ut(A instanceof Function,"Expected a class definition");let v=Te.get(A);return v?(ut(v instanceof A,"Instance stored in cache mismatched with class"),v):(v=new A,Te.set(A,v),v)}const dn=(()=>{class A{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,b.Z)(function*(){return!0})()}_set(w,O){var Y=this;return(0,b.Z)(function*(){Y.storage[w]=O})()}_get(w){var O=this;return(0,b.Z)(function*(){const Y=O.storage[w];return void 0===Y?null:Y})()}_remove(w){var O=this;return(0,b.Z)(function*(){delete O.storage[w]})()}_addListener(w,O){}_removeListener(w,O){}}return A.type="NONE",A})();function hn(A,v,w){return`firebase:${A}:${v}:${w}`}class kn{constructor(v,w,O){this.persistence=v,this.auth=w,this.userKey=O;const{config:Y,name:de}=this.auth;this.fullUserKey=hn(this.userKey,Y.apiKey,de),this.fullPersistenceKey=hn("persistence",Y.apiKey,de),this.boundEventHandler=w._onStorageEvent.bind(w),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(v){return this.persistence._set(this.fullUserKey,v.toJSON())}getCurrentUser(){var v=this;return(0,b.Z)(function*(){const w=yield v.persistence._get(v.fullUserKey);return w?z._fromJSON(v.auth,w):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(v){var w=this;return(0,b.Z)(function*(){if(w.persistence===v)return;const O=yield w.getCurrentUser();return yield w.removeCurrentUser(),w.persistence=v,O?w.setCurrentUser(O):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(v,w,O="authUser"){return(0,b.Z)(function*(){if(!w.length)return new kn(Je(dn),v,O);const Y=(yield Promise.all(w.map(function(){var mn=(0,b.Z)(function*(Un){if(yield Un._isAvailable())return Un});return function(Un){return mn.apply(this,arguments)}}()))).filter(mn=>mn);let de=Y[0]||Je(dn);const Re=hn(O,v.config.apiKey,v.name);let nt=null;for(const mn of w)try{const Un=yield mn._get(Re);if(Un){const xr=z._fromJSON(v,Un);mn!==de&&(nt=xr),de=mn;break}}catch{}const Ot=Y.filter(mn=>mn._shouldAllowMigration);return de._shouldAllowMigration&&Ot.length?(de=Ot[0],nt&&(yield de._set(Re,nt.toJSON())),yield Promise.all(w.map(function(){var mn=(0,b.Z)(function*(Un){if(Un!==de)try{yield Un._remove(Re)}catch{}});return function(Un){return mn.apply(this,arguments)}}())),new kn(de,v,O)):new kn(de,v,O)})()}}function Yt(A){const v=A.toLowerCase();if(v.includes("opera/")||v.includes("opr/")||v.includes("opios/"))return"Opera";if(fs(v))return"IEMobile";if(v.includes("msie")||v.includes("trident/"))return"IE";if(v.includes("edge/"))return"Edge";if(Fn(v))return"Firefox";if(v.includes("silk/"))return"Silk";if(ss(v))return"Blackberry";if(os(v))return"Webos";if(Kr(v))return"Safari";if((v.includes("chrome/")||nr(v))&&!v.includes("edge/"))return"Chrome";if(Bo(v))return"Android";{const O=A.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===O?.length)return O[1]}return"Other"}function Fn(A=(0,X.z$)()){return/firefox\//i.test(A)}function Kr(A=(0,X.z$)()){const v=A.toLowerCase();return v.includes("safari/")&&!v.includes("chrome/")&&!v.includes("crios/")&&!v.includes("android")}function nr(A=(0,X.z$)()){return/crios\//i.test(A)}function fs(A=(0,X.z$)()){return/iemobile/i.test(A)}function Bo(A=(0,X.z$)()){return/android/i.test(A)}function ss(A=(0,X.z$)()){return/blackberry/i.test(A)}function os(A=(0,X.z$)()){return/webos/i.test(A)}function Ha(A=(0,X.z$)()){return/iphone|ipad|ipod/i.test(A)||/macintosh/i.test(A)&&/mobile/i.test(A)}function Vi(A=(0,X.z$)()){return Ha(A)||Bo(A)||os(A)||ss(A)||/windows phone/i.test(A)||fs(A)}function ir(A,v=[]){let w;switch(A){case"Browser":w=Yt((0,X.z$)());break;case"Worker":w=`${Yt((0,X.z$)())}-${A}`;break;default:w=A}const O=v.length?v.join(","):"FirebaseCore-web";return`${w}/JsCore/${u.Jn}/${O}`}class go{constructor(v){this.auth=v,this.queue=[]}pushCallback(v,w){const O=de=>new Promise((Re,nt)=>{try{Re(v(de))}catch(Ot){nt(Ot)}});O.onAbort=w,this.queue.push(O);const Y=this.queue.length-1;return()=>{this.queue[Y]=()=>Promise.resolve()}}runMiddleware(v){var w=this;return(0,b.Z)(function*(){if(w.auth.currentUser===v)return;const O=[];try{for(const Y of w.queue)yield Y(v),Y.onAbort&&O.push(Y.onAbort)}catch(Y){O.reverse();for(const de of O)try{de()}catch{}throw w.auth._errorFactory.create("login-blocked",{originalMessage:Y?.message})}})()}}function Jo(){return(Jo=(0,b.Z)(function*(A,v={}){return Ke(A,"GET","/v2/passwordPolicy",He(A,v))})).apply(this,arguments)}class ps{constructor(v){var w,O,Y,de;const Re=v.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(w=Re.minPasswordLength)&&void 0!==w?w:6,Re.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Re.maxPasswordLength),void 0!==Re.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Re.containsLowercaseCharacter),void 0!==Re.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Re.containsUppercaseCharacter),void 0!==Re.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Re.containsNumericCharacter),void 0!==Re.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Re.containsNonAlphanumericCharacter),this.enforcementState=v.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(Y=null===(O=v.allowedNonAlphanumericCharacters)||void 0===O?void 0:O.join(""))&&void 0!==Y?Y:"",this.forceUpgradeOnSignin=null!==(de=v.forceUpgradeOnSignin)&&void 0!==de&&de,this.schemaVersion=v.schemaVersion}validatePassword(v){var w,O,Y,de,Re,nt;const Ot={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(v,Ot),this.validatePasswordCharacterOptions(v,Ot),Ot.isValid&&(Ot.isValid=null===(w=Ot.meetsMinPasswordLength)||void 0===w||w),Ot.isValid&&(Ot.isValid=null===(O=Ot.meetsMaxPasswordLength)||void 0===O||O),Ot.isValid&&(Ot.isValid=null===(Y=Ot.containsLowercaseLetter)||void 0===Y||Y),Ot.isValid&&(Ot.isValid=null===(de=Ot.containsUppercaseLetter)||void 0===de||de),Ot.isValid&&(Ot.isValid=null===(Re=Ot.containsNumericCharacter)||void 0===Re||Re),Ot.isValid&&(Ot.isValid=null===(nt=Ot.containsNonAlphanumericCharacter)||void 0===nt||nt),Ot}validatePasswordLengthOptions(v,w){const O=this.customStrengthOptions.minPasswordLength,Y=this.customStrengthOptions.maxPasswordLength;O&&(w.meetsMinPasswordLength=v.length>=O),Y&&(w.meetsMaxPasswordLength=v.length<=Y)}validatePasswordCharacterOptions(v,w){let O;this.updatePasswordCharacterOptionsStatuses(w,!1,!1,!1,!1);for(let Y=0;Y<v.length;Y++)O=v.charAt(Y),this.updatePasswordCharacterOptionsStatuses(w,O>="a"&&O<="z",O>="A"&&O<="Z",O>="0"&&O<="9",this.allowedNonAlphanumericCharacters.includes(O))}updatePasswordCharacterOptionsStatuses(v,w,O,Y,de){this.customStrengthOptions.containsLowercaseLetter&&(v.containsLowercaseLetter||(v.containsLowercaseLetter=w)),this.customStrengthOptions.containsUppercaseLetter&&(v.containsUppercaseLetter||(v.containsUppercaseLetter=O)),this.customStrengthOptions.containsNumericCharacter&&(v.containsNumericCharacter||(v.containsNumericCharacter=Y)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(v.containsNonAlphanumericCharacter||(v.containsNonAlphanumericCharacter=de))}}class ma{constructor(v,w,O,Y){this.app=v,this.heartbeatServiceProvider=w,this.appCheckServiceProvider=O,this.config=Y,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Us(this),this.idTokenSubscription=new Us(this),this.beforeStateQueue=new go(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=It,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=v.name,this.clientVersion=Y.sdkClientVersion}_initializeWithPersistence(v,w){var O=this;return w&&(this._popupRedirectResolver=Je(w)),this._initializationPromise=this.queue((0,b.Z)(function*(){var Y,de;if(!O._deleted&&(O.persistenceManager=yield kn.create(O,v),!O._deleted)){if(null!==(Y=O._popupRedirectResolver)&&void 0!==Y&&Y._shouldInitProactively)try{yield O._popupRedirectResolver._initialize(O)}catch{}yield O.initializeCurrentUser(w),O.lastNotifiedUid=(null===(de=O.currentUser)||void 0===de?void 0:de.uid)||null,!O._deleted&&(O._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var v=this;return(0,b.Z)(function*(){if(v._deleted)return;const w=yield v.assertedPersistence.getCurrentUser();if(v.currentUser||w){if(v.currentUser&&w&&v.currentUser.uid===w.uid)return v._currentUser._assign(w),void(yield v.currentUser.getIdToken());yield v._updateCurrentUser(w,!0)}})()}initializeCurrentUser(v){var w=this;return(0,b.Z)(function*(){var O;const Y=yield w.assertedPersistence.getCurrentUser();let de=Y,Re=!1;if(v&&w.config.authDomain){yield w.getOrInitRedirectPersistenceManager();const nt=null===(O=w.redirectUser)||void 0===O?void 0:O._redirectEventId,Ot=de?._redirectEventId,mn=yield w.tryRedirectSignIn(v);(!nt||nt===Ot)&&mn?.user&&(de=mn.user,Re=!0)}if(!de)return w.directlySetCurrentUser(null);if(!de._redirectEventId){if(Re)try{yield w.beforeStateQueue.runMiddleware(de)}catch(nt){de=Y,w._popupRedirectResolver._overrideRedirectResult(w,()=>Promise.reject(nt))}return de?w.reloadAndSetCurrentUserOrClear(de):w.directlySetCurrentUser(null)}return _e(w._popupRedirectResolver,w,"argument-error"),yield w.getOrInitRedirectPersistenceManager(),w.redirectUser&&w.redirectUser._redirectEventId===de._redirectEventId?w.directlySetCurrentUser(de):w.reloadAndSetCurrentUserOrClear(de)})()}tryRedirectSignIn(v){var w=this;return(0,b.Z)(function*(){let O=null;try{O=yield w._popupRedirectResolver._completeRedirectFn(w,v,!0)}catch{yield w._setRedirectUser(null)}return O})()}reloadAndSetCurrentUserOrClear(v){var w=this;return(0,b.Z)(function*(){try{yield Gr(v)}catch(O){if("auth/network-request-failed"!==O?.code)return w.directlySetCurrentUser(null)}return w.directlySetCurrentUser(v)})()}useDeviceLanguage(){this.languageCode=function On(){if(typeof navigator>"u")return null;const A=navigator;return A.languages&&A.languages[0]||A.language||null}()}_delete(){var v=this;return(0,b.Z)(function*(){v._deleted=!0})()}updateCurrentUser(v){var w=this;return(0,b.Z)(function*(){const O=v?(0,X.m9)(v):null;return O&&_e(O.auth.config.apiKey===w.config.apiKey,w,"invalid-user-token"),w._updateCurrentUser(O&&O._clone(w))})()}_updateCurrentUser(v,w=!1){var O=this;return(0,b.Z)(function*(){if(!O._deleted)return v&&_e(O.tenantId===v.tenantId,O,"tenant-id-mismatch"),w||(yield O.beforeStateQueue.runMiddleware(v)),O.queue((0,b.Z)(function*(){yield O.directlySetCurrentUser(v),O.notifyAuthListeners()}))})()}signOut(){var v=this;return(0,b.Z)(function*(){return yield v.beforeStateQueue.runMiddleware(null),(v.redirectPersistenceManager||v._popupRedirectResolver)&&(yield v._setRedirectUser(null)),v._updateCurrentUser(null,!0)})()}setPersistence(v){var w=this;return this.queue((0,b.Z)(function*(){yield w.assertedPersistence.setPersistence(Je(v))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(v){var w=this;return(0,b.Z)(function*(){w._getPasswordPolicyInternal()||(yield w._updatePasswordPolicy());const O=w._getPasswordPolicyInternal();return O.schemaVersion!==w.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(w._errorFactory.create("unsupported-password-policy-schema-version",{})):O.validatePassword(v)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var v=this;return(0,b.Z)(function*(){const w=yield function Yo(A){return Jo.apply(this,arguments)}(v),O=new ps(w);null===v.tenantId?v._projectPasswordPolicy=O:v._tenantPasswordPolicies[v.tenantId]=O})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(v){this._errorFactory=new X.LL("auth","Firebase",v())}onAuthStateChanged(v,w,O){return this.registerStateListener(this.authStateSubscription,v,w,O)}beforeAuthStateChanged(v,w){return this.beforeStateQueue.pushCallback(v,w)}onIdTokenChanged(v,w,O){return this.registerStateListener(this.idTokenSubscription,v,w,O)}authStateReady(){return new Promise((v,w)=>{if(this.currentUser)v();else{const O=this.onAuthStateChanged(()=>{O(),v()},w)}})}revokeAccessToken(v){var w=this;return(0,b.Z)(function*(){if(w.currentUser){const O=yield w.currentUser.getIdToken(),Y={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:v,idToken:O};null!=w.tenantId&&(Y.tenantId=w.tenantId),yield function J(A,v){return B.apply(this,arguments)}(w,Y)}})()}toJSON(){var v;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(v=this._currentUser)||void 0===v?void 0:v.toJSON()}}_setRedirectUser(v,w){var O=this;return(0,b.Z)(function*(){const Y=yield O.getOrInitRedirectPersistenceManager(w);return null===v?Y.removeCurrentUser():Y.setCurrentUser(v)})()}getOrInitRedirectPersistenceManager(v){var w=this;return(0,b.Z)(function*(){if(!w.redirectPersistenceManager){const O=v&&Je(v)||w._popupRedirectResolver;_e(O,w,"argument-error"),w.redirectPersistenceManager=yield kn.create(w,[Je(O._redirectPersistence)],"redirectUser"),w.redirectUser=yield w.redirectPersistenceManager.getCurrentUser()}return w.redirectPersistenceManager})()}_redirectUserForId(v){var w=this;return(0,b.Z)(function*(){var O,Y;return w._isInitialized&&(yield w.queue((0,b.Z)(function*(){}))),(null===(O=w._currentUser)||void 0===O?void 0:O._redirectEventId)===v?w._currentUser:(null===(Y=w.redirectUser)||void 0===Y?void 0:Y._redirectEventId)===v?w.redirectUser:null})()}_persistUserIfCurrent(v){var w=this;return(0,b.Z)(function*(){if(v===w.currentUser)return w.queue((0,b.Z)(function*(){return w.directlySetCurrentUser(v)}))})()}_notifyListenersIfCurrent(v){v===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var v,w;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const O=null!==(w=null===(v=this.currentUser)||void 0===v?void 0:v.uid)&&void 0!==w?w:null;this.lastNotifiedUid!==O&&(this.lastNotifiedUid=O,this.authStateSubscription.next(this.currentUser))}registerStateListener(v,w,O,Y){if(this._deleted)return()=>{};const de="function"==typeof w?w:w.next.bind(w);let Re=!1;const nt=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(nt,this,"internal-error"),nt.then(()=>{Re||de(this.currentUser)}),"function"==typeof w){const Ot=v.addObserver(w,O,Y);return()=>{Re=!0,Ot()}}{const Ot=v.addObserver(w);return()=>{Re=!0,Ot()}}}directlySetCurrentUser(v){var w=this;return(0,b.Z)(function*(){w.currentUser&&w.currentUser!==v&&w._currentUser._stopProactiveRefresh(),v&&w.isProactiveRefreshEnabled&&v._startProactiveRefresh(),w.currentUser=v,v?yield w.assertedPersistence.setCurrentUser(v):yield w.assertedPersistence.removeCurrentUser()})()}queue(v){return this.operations=this.operations.then(v,v),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(v){!v||this.frameworks.includes(v)||(this.frameworks.push(v),this.frameworks.sort(),this.clientVersion=ir(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var v=this;return(0,b.Z)(function*(){var w;const O={"X-Client-Version":v.clientVersion};v.app.options.appId&&(O["X-Firebase-gmpid"]=v.app.options.appId);const Y=yield null===(w=v.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===w?void 0:w.getHeartbeatsHeader();Y&&(O["X-Firebase-Client"]=Y);const de=yield v._getAppCheckToken();return de&&(O["X-Firebase-AppCheck"]=de),O})()}_getAppCheckToken(){var v=this;return(0,b.Z)(function*(){var w;const O=yield null===(w=v.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===w?void 0:w.getToken();return O?.error&&function cn(A,...v){Ct.logLevel<=ye.in.WARN&&Ct.warn(`Auth (${u.Jn}): ${A}`,...v)}(`Error while retrieving App Check token: ${O.error}`),O?.token})()}}function Yr(A){return(0,X.m9)(A)}class Us{constructor(v){this.auth=v,this.observer=null,this.addObserver=(0,X.ne)(w=>this.observer=w)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let _i={loadJS:()=>(0,b.Z)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mo(A){return _i.loadJS(A)}function Bs(A){return`__${A}${Math.floor(1e6*Math.random())}`}class va{constructor(v){this.type="recaptcha-enterprise",this.auth=Yr(v)}verify(v="verify",w=!1){var O=this;return(0,b.Z)(function*(){function de(){return de=(0,b.Z)(function*(nt){if(!w){if(null==nt.tenantId&&null!=nt._agentRecaptchaConfig)return nt._agentRecaptchaConfig.siteKey;if(null!=nt.tenantId&&void 0!==nt._tenantRecaptchaConfigs[nt.tenantId])return nt._tenantRecaptchaConfigs[nt.tenantId].siteKey}return new Promise(function(){var Ot=(0,b.Z)(function*(mn,Un){bt(nt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(xr=>{if(void 0!==xr.recaptchaKey){const Qa=new De(xr);return null==nt.tenantId?nt._agentRecaptchaConfig=Qa:nt._tenantRecaptchaConfigs[nt.tenantId]=Qa,mn(Qa.siteKey)}Un(new Error("recaptcha Enterprise site key undefined"))}).catch(xr=>{Un(xr)})});return function(mn,Un){return Ot.apply(this,arguments)}}())}),de.apply(this,arguments)}function Re(nt,Ot,mn){const Un=window.grecaptcha;xe(Un)?Un.enterprise.ready(()=>{Un.enterprise.execute(nt,{action:v}).then(xr=>{Ot(xr)}).catch(()=>{Ot("NO_RECAPTCHA")})}):mn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((nt,Ot)=>{(function Y(nt){return de.apply(this,arguments)})(O.auth).then(mn=>{if(!w&&xe(window.grecaptcha))Re(mn,nt,Ot);else{if(typeof window>"u")return void Ot(new Error("RecaptchaVerifier is only supported in browser"));let Un=function yi(){return _i.recaptchaEnterpriseScript}();0!==Un.length&&(Un+=mn),mo(Un).then(()=>{Re(mn,nt,Ot)}).catch(xr=>{Ot(xr)})}}).catch(mn=>{Ot(mn)})})})()}}function $r(A,v,w){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,b.Z)(function*(A,v,w,O=!1){const Y=new va(A);let de;try{de=yield Y.verify(w)}catch{de=yield Y.verify(w,!0)}const Re=Object.assign({},v);return Object.assign(Re,O?{captchaResp:de}:{captchaResponse:de}),Object.assign(Re,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Re,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Re})).apply(this,arguments)}function as(A,v,w,O){return ea.apply(this,arguments)}function ea(){return ea=(0,b.Z)(function*(A,v,w,O){var Y;if(null!==(Y=A._getRecaptchaConfig())&&void 0!==Y&&Y.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const de=yield $r(A,v,w,"getOobCode"===w);return O(A,de)}return O(A,v).catch(function(){var de=(0,b.Z)(function*(Re){if("auth/missing-recaptcha-token"===Re.code){console.log(`${w} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const nt=yield $r(A,v,w,"getOobCode"===w);return O(A,nt)}return Promise.reject(Re)});return function(Re){return de.apply(this,arguments)}}())}),ea.apply(this,arguments)}function ba(A){const v=A.indexOf(":");return v<0?"":A.substr(0,v+1)}function Cs(A){if(!A)return null;const v=Number(A);return isNaN(v)?null:v}class ta{constructor(v,w){this.providerId=v,this.signInMethod=w}toJSON(){return Le("not implemented")}_getIdTokenResponse(v){return Le("not implemented")}_linkToIdToken(v,w){return Le("not implemented")}_getReauthenticationResolver(v){return Le("not implemented")}}function Ga(A,v){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,b.Z)(function*(A,v){return Ke(A,"POST","/v1/accounts:signUp",v)})).apply(this,arguments)}function Ci(A,v){return gs.apply(this,arguments)}function gs(){return(gs=(0,b.Z)(function*(A,v){return Qt(A,"POST","/v1/accounts:signInWithPassword",He(A,v))})).apply(this,arguments)}function Ss(){return(Ss=(0,b.Z)(function*(A,v){return Ke(A,"POST","/v1/accounts:sendOobCode",He(A,v))})).apply(this,arguments)}function Cc(A,v){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,b.Z)(function*(A,v){return function Pr(A,v){return Ss.apply(this,arguments)}(A,v)})).apply(this,arguments)}function io(){return(io=(0,b.Z)(function*(A,v){return Qt(A,"POST","/v1/accounts:signInWithEmailLink",He(A,v))})).apply(this,arguments)}function Gi(){return(Gi=(0,b.Z)(function*(A,v){return Qt(A,"POST","/v1/accounts:signInWithEmailLink",He(A,v))})).apply(this,arguments)}class xn extends ta{constructor(v,w,O,Y=null){super("password",O),this._email=v,this._password=w,this._tenantId=Y}static _fromEmailAndPassword(v,w){return new xn(v,w,"password")}static _fromEmailAndCode(v,w,O=null){return new xn(v,w,"emailLink",O)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(v){const w="string"==typeof v?JSON.parse(v):v;if(w?.email&&w?.password){if("password"===w.signInMethod)return this._fromEmailAndPassword(w.email,w.password);if("emailLink"===w.signInMethod)return this._fromEmailAndCode(w.email,w.password,w.tenantId)}return null}_getIdTokenResponse(v){var w=this;return(0,b.Z)(function*(){switch(w.signInMethod){case"password":return as(v,{returnSecureToken:!0,email:w._email,password:w._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ci);case"emailLink":return function pi(A,v){return io.apply(this,arguments)}(v,{email:w._email,oobCode:w._password});default:st(v,"internal-error")}})()}_linkToIdToken(v,w){var O=this;return(0,b.Z)(function*(){switch(O.signInMethod){case"password":return as(v,{idToken:w,returnSecureToken:!0,email:O._email,password:O._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ga);case"emailLink":return function Jr(A,v){return Gi.apply(this,arguments)}(v,{idToken:w,email:O._email,oobCode:O._password});default:st(v,"internal-error")}})()}_getReauthenticationResolver(v){return this._getIdTokenResponse(v)}}function kr(A,v){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,b.Z)(function*(A,v){return Qt(A,"POST","/v1/accounts:signInWithIdp",He(A,v))})).apply(this,arguments)}class Gn{constructor(v){var w,O,Y,de,Re,nt;const Ot=(0,X.zd)((0,X.pd)(v)),mn=null!==(w=Ot.apiKey)&&void 0!==w?w:null,Un=null!==(O=Ot.oobCode)&&void 0!==O?O:null,xr=function js(A){switch(A){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Y=Ot.mode)&&void 0!==Y?Y:null);_e(mn&&Un&&xr,"argument-error"),this.apiKey=mn,this.operation=xr,this.code=Un,this.continueUrl=null!==(de=Ot.continueUrl)&&void 0!==de?de:null,this.languageCode=null!==(Re=Ot.languageCode)&&void 0!==Re?Re:null,this.tenantId=null!==(nt=Ot.tenantId)&&void 0!==nt?nt:null}static parseLink(v){const w=function wo(A){const v=(0,X.zd)((0,X.pd)(A)).link,w=v?(0,X.zd)((0,X.pd)(v)).deep_link_id:null,O=(0,X.zd)((0,X.pd)(A)).deep_link_id;return(O?(0,X.zd)((0,X.pd)(O)).link:null)||O||w||v||A}(v);try{return new Gn(w)}catch{return null}}}let Io=(()=>{class A{constructor(){this.providerId=A.PROVIDER_ID}static credential(w,O){return xn._fromEmailAndPassword(w,O)}static credentialWithLink(w,O){const Y=Gn.parseLink(O);return _e(Y,"argument-error"),xn._fromEmailAndCode(w,Y.code,Y.tenantId)}}return A.PROVIDER_ID="password",A.EMAIL_PASSWORD_SIGN_IN_METHOD="password",A.EMAIL_LINK_SIGN_IN_METHOD="emailLink",A})();class Gs{constructor(v){this.providerId=v,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(v){this.defaultLanguageCode=v}setCustomParameters(v){return this.customParameters=v,this}getCustomParameters(){return this.customParameters}}class Br extends Gs{constructor(){super(...arguments),this.scopes=[]}addScope(v){return this.scopes.includes(v)||this.scopes.push(v),this}getScopes(){return[...this.scopes]}}function zs(A,v){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,b.Z)(function*(A,v){return Qt(A,"POST","/v1/accounts:signUp",He(A,v))})).apply(this,arguments)}class Ni{constructor(v){this.user=v.user,this.providerId=v.providerId,this._tokenResponse=v._tokenResponse,this.operationType=v.operationType}static _fromIdTokenResponse(v,w,O,Y=!1){return(0,b.Z)(function*(){const de=yield z._fromIdTokenResponse(v,O,Y),Re=Ws(O);return new Ni({user:de,providerId:Re,_tokenResponse:O,operationType:w})})()}static _forOperation(v,w,O){return(0,b.Z)(function*(){yield v._updateTokensIfNecessary(O,!0);const Y=Ws(O);return new Ni({user:v,providerId:Y,_tokenResponse:O,operationType:w})})()}}function Ws(A){return A.providerId?A.providerId:"phoneNumber"in A?"phone":null}class cc extends X.ZR{constructor(v,w,O,Y){var de;super(w.code,w.message),this.operationType=O,this.user=Y,Object.setPrototypeOf(this,cc.prototype),this.customData={appName:v.name,tenantId:null!==(de=v.tenantId)&&void 0!==de?de:void 0,_serverResponse:w.customData._serverResponse,operationType:O}}static _fromErrorAndOperation(v,w,O,Y){return new cc(v,w,O,Y)}}function Sr(A,v,w,O){return("reauthenticate"===v?w._getReauthenticationResolver(A):w._getIdTokenResponse(A)).catch(de=>{throw"auth/multi-factor-auth-required"===de.code?cc._fromErrorAndOperation(A,de,v,O):de})}function U(){return(U=(0,b.Z)(function*(A,v,w=!1){const O=yield Bn(A,v._linkToIdToken(A.auth,yield A.getIdToken()),w);return Ni._forOperation(A,"link",O)})).apply(this,arguments)}function Vn(){return(Vn=(0,b.Z)(function*(A,v,w=!1){const{auth:O}=A,Y="reauthenticate";try{const de=yield Bn(A,Sr(O,Y,v,A),w);_e(de.idToken,O,"internal-error");const Re=Wn(de.idToken);_e(Re,O,"internal-error");const{sub:nt}=Re;return _e(A.uid===nt,O,"user-mismatch"),Ni._forOperation(A,Y,de)}catch(de){throw"auth/user-not-found"===de?.code&&st(O,"user-mismatch"),de}})).apply(this,arguments)}function $i(A,v){return Os.apply(this,arguments)}function Os(){return(Os=(0,b.Z)(function*(A,v,w=!1){const O="signIn",Y=yield Sr(A,O,v),de=yield Ni._fromIdTokenResponse(A,O,Y);return w||(yield A._updateCurrentUser(de.user)),de})).apply(this,arguments)}function zi(A,v){return ms.apply(this,arguments)}function ms(){return(ms=(0,b.Z)(function*(A,v){return $i(Yr(A),v)})).apply(this,arguments)}function uc(A){return xi.apply(this,arguments)}function xi(){return(xi=(0,b.Z)(function*(A){const v=Yr(A);v._getPasswordPolicyInternal()&&(yield v._updatePasswordPolicy())})).apply(this,arguments)}function $c(){return($c=(0,b.Z)(function*(A,v,w){const O=Yr(A),Y={requestType:"PASSWORD_RESET",email:v,clientType:"CLIENT_TYPE_WEB"};w&&function Do(A,v,w){var O;_e((null===(O=w.url)||void 0===O?void 0:O.length)>0,A,"invalid-continue-uri"),_e(typeof w.dynamicLinkDomain>"u"||w.dynamicLinkDomain.length>0,A,"invalid-dynamic-link-domain"),v.continueUrl=w.url,v.dynamicLinkDomain=w.dynamicLinkDomain,v.canHandleCodeInApp=w.handleCodeInApp,w.iOS&&(_e(w.iOS.bundleId.length>0,A,"missing-ios-bundle-id"),v.iOSBundleId=w.iOS.bundleId),w.android&&(_e(w.android.packageName.length>0,A,"missing-android-pkg-name"),v.androidInstallApp=w.android.installApp,v.androidMinimumVersionCode=w.android.minimumVersion,v.androidPackageName=w.android.packageName)}(O,Y,w),yield as(O,Y,"getOobCode",Cc)})).apply(this,arguments)}function wi(){return(wi=(0,b.Z)(function*(A,v,w){const O=Yr(A),Re=yield as(O,{returnSecureToken:!0,email:v,password:w,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",zs).catch(Ot=>{throw"auth/password-does-not-meet-requirements"===Ot.code&&uc(A),Ot}),nt=yield Ni._fromIdTokenResponse(O,"signIn",Re);return yield O._updateCurrentUser(nt.user),nt})).apply(this,arguments)}function Sa(){return(Sa=(0,b.Z)(function*(A){return(0,X.m9)(A).delete()})).apply(this,arguments)}const Nn="__sak";class xs{constructor(v,w){this.storageRetriever=v,this.type=w}_isAvailable(){try{return this.storage?(this.storage.setItem(Nn,"1"),this.storage.removeItem(Nn),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(v,w){return this.storage.setItem(v,JSON.stringify(w)),Promise.resolve()}_get(v){const w=this.storage.getItem(v);return Promise.resolve(w?JSON.parse(w):null)}_remove(v){return this.storage.removeItem(v),Promise.resolve()}get storage(){return this.storageRetriever()}}const pl=(()=>{class A extends xs{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(w,O)=>this.onStorageEvent(w,O),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function mp(){const A=(0,X.z$)();return Kr(A)||Ha(A)}()&&function Hi(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Vi(),this._shouldAllowMigration=!0}forAllChangedKeys(w){for(const O of Object.keys(this.listeners)){const Y=this.storage.getItem(O),de=this.localCache[O];Y!==de&&w(O,de,Y)}}onStorageEvent(w,O=!1){if(!w.key)return void this.forAllChangedKeys((nt,Ot,mn)=>{this.notifyListeners(nt,mn)});const Y=w.key;if(O?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const nt=this.storage.getItem(Y);if(w.newValue!==nt)null!==w.newValue?this.storage.setItem(Y,w.newValue):this.storage.removeItem(Y);else if(this.localCache[Y]===w.newValue&&!O)return}const de=()=>{const nt=this.storage.getItem(Y);!O&&this.localCache[Y]===nt||this.notifyListeners(Y,nt)},Re=this.storage.getItem(Y);!function po(){return(0,X.w1)()&&10===document.documentMode}()||Re===w.newValue||w.newValue===w.oldValue?de():setTimeout(de,10)}notifyListeners(w,O){this.localCache[w]=O;const Y=this.listeners[w];if(Y)for(const de of Array.from(Y))de(O&&JSON.parse(O))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((w,O,Y)=>{this.onStorageEvent(new StorageEvent("storage",{key:w,oldValue:O,newValue:Y}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(w,O){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[w]||(this.listeners[w]=new Set,this.localCache[w]=this.storage.getItem(w)),this.listeners[w].add(O)}_removeListener(w,O){this.listeners[w]&&(this.listeners[w].delete(O),0===this.listeners[w].size&&delete this.listeners[w]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(w,O){var Y=()=>super._set,de=this;return(0,b.Z)(function*(){yield Y().call(de,w,O),de.localCache[w]=JSON.stringify(O)})()}_get(w){var O=()=>super._get,Y=this;return(0,b.Z)(function*(){const de=yield O().call(Y,w);return Y.localCache[w]=JSON.stringify(de),de})()}_remove(w){var O=()=>super._remove,Y=this;return(0,b.Z)(function*(){yield O().call(Y,w),delete Y.localCache[w]})()}}return A.type="LOCAL",A})(),qc=(()=>{class A extends xs{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(w,O){}_removeListener(w,O){}}return A.type="SESSION",A})();let zl=(()=>{class A{constructor(w){this.eventTarget=w,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(w){const O=this.receivers.find(de=>de.isListeningto(w));if(O)return O;const Y=new A(w);return this.receivers.push(Y),Y}isListeningto(w){return this.eventTarget===w}handleEvent(w){var O=this;return(0,b.Z)(function*(){const Y=w,{eventId:de,eventType:Re,data:nt}=Y.data,Ot=O.handlersMap[Re];if(!Ot?.size)return;Y.ports[0].postMessage({status:"ack",eventId:de,eventType:Re});const mn=Array.from(Ot).map(function(){var xr=(0,b.Z)(function*(Qa){return Qa(Y.origin,nt)});return function(Qa){return xr.apply(this,arguments)}}()),Un=yield function $l(A){return Promise.all(A.map(function(){var v=(0,b.Z)(function*(w){try{return{fulfilled:!0,value:yield w}}catch(O){return{fulfilled:!1,reason:O}}});return function(w){return v.apply(this,arguments)}}()))}(mn);Y.ports[0].postMessage({status:"done",eventId:de,eventType:Re,response:Un})})()}_subscribe(w,O){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[w]||(this.handlersMap[w]=new Set),this.handlersMap[w].add(O)}_unsubscribe(w,O){this.handlersMap[w]&&O&&this.handlersMap[w].delete(O),(!O||0===this.handlersMap[w].size)&&delete this.handlersMap[w],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return A.receivers=[],A})();function Wl(A="",v=10){let w="";for(let O=0;O<v;O++)w+=Math.floor(10*Math.random());return A+w}class cd{constructor(v){this.target=v,this.handlers=new Set}removeMessageHandler(v){v.messageChannel&&(v.messageChannel.port1.removeEventListener("message",v.onMessage),v.messageChannel.port1.close()),this.handlers.delete(v)}_send(v,w,O=50){var Y=this;return(0,b.Z)(function*(){const de=typeof MessageChannel<"u"?new MessageChannel:null;if(!de)throw new Error("connection_unavailable");let Re,nt;return new Promise((Ot,mn)=>{const Un=Wl("",20);de.port1.start();const xr=setTimeout(()=>{mn(new Error("unsupported_event"))},O);nt={messageChannel:de,onMessage(Qa){const wl=Qa;if(wl.data.eventId===Un)switch(wl.data.status){case"ack":clearTimeout(xr),Re=setTimeout(()=>{mn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Re),Ot(wl.data.response);break;default:clearTimeout(xr),clearTimeout(Re),mn(new Error("invalid_response"))}}},Y.handlers.add(nt),de.port1.addEventListener("message",nt.onMessage),Y.target.postMessage({eventType:v,eventId:Un,data:w},[de.port2])}).finally(()=>{nt&&Y.removeMessageHandler(nt)})})()}}function _t(){return window}function bu(){return typeof _t().WorkerGlobalScope<"u"&&"function"==typeof _t().importScripts}function Zi(){return(Zi=(0,b.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Oo="firebaseLocalStorageDb",gc="firebaseLocalStorage",Iu="fbase_key";class Zc{constructor(v){this.request=v}toPromise(){return new Promise((v,w)=>{this.request.addEventListener("success",()=>{v(this.request.result)}),this.request.addEventListener("error",()=>{w(this.request.error)})})}}function mc(A,v){return A.transaction([gc],v?"readwrite":"readonly").objectStore(gc)}function jo(){const A=indexedDB.open(Oo,1);return new Promise((v,w)=>{A.addEventListener("error",()=>{w(A.error)}),A.addEventListener("upgradeneeded",()=>{const O=A.result;try{O.createObjectStore(gc,{keyPath:Iu})}catch(Y){w(Y)}}),A.addEventListener("success",(0,b.Z)(function*(){const O=A.result;O.objectStoreNames.contains(gc)?v(O):(O.close(),yield function ys(){const A=indexedDB.deleteDatabase(Oo);return new Zc(A).toPromise()}(),v(yield jo()))}))})}function ql(A,v,w){return _c.apply(this,arguments)}function _c(){return(_c=(0,b.Z)(function*(A,v,w){const O=mc(A,!0).put({[Iu]:v,value:w});return new Zc(O).toPromise()})).apply(this,arguments)}function ld(){return(ld=(0,b.Z)(function*(A,v){const w=mc(A,!1).get(v),O=yield new Zc(w).toPromise();return void 0===O?null:O.value})).apply(this,arguments)}function Zl(A,v){const w=mc(A,!0).delete(v);return new Zc(w).toPromise()}const D=(()=>{class A{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var w=this;return(0,b.Z)(function*(){return w.db||(w.db=yield jo()),w.db})()}_withRetries(w){var O=this;return(0,b.Z)(function*(){let Y=0;for(;;)try{const de=yield O._openDb();return yield w(de)}catch(de){if(Y++>3)throw de;O.db&&(O.db.close(),O.db=void 0)}})()}initializeServiceWorkerMessaging(){var w=this;return(0,b.Z)(function*(){return bu()?w.initializeReceiver():w.initializeSender()})()}initializeReceiver(){var w=this;return(0,b.Z)(function*(){w.receiver=zl._getInstance(function gl(){return bu()?self:null}()),w.receiver._subscribe("keyChanged",function(){var O=(0,b.Z)(function*(Y,de){return{keyProcessed:(yield w._poll()).includes(de.key)}});return function(Y,de){return O.apply(this,arguments)}}()),w.receiver._subscribe("ping",function(){var O=(0,b.Z)(function*(Y,de){return["keyChanged"]});return function(Y,de){return O.apply(this,arguments)}}())})()}initializeSender(){var w=this;return(0,b.Z)(function*(){var O,Y;if(w.activeServiceWorker=yield function qh(){return Zi.apply(this,arguments)}(),!w.activeServiceWorker)return;w.sender=new cd(w.activeServiceWorker);const de=yield w.sender._send("ping",{},800);de&&null!==(O=de[0])&&void 0!==O&&O.fulfilled&&null!==(Y=de[0])&&void 0!==Y&&Y.value.includes("keyChanged")&&(w.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(w){var O=this;return(0,b.Z)(function*(){if(O.sender&&O.activeServiceWorker&&function Jd(){var A;return(null===(A=navigator?.serviceWorker)||void 0===A?void 0:A.controller)||null}()===O.activeServiceWorker)try{yield O.sender._send("keyChanged",{key:w},O.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,b.Z)(function*(){try{if(!indexedDB)return!1;const w=yield jo();return yield ql(w,Nn,"1"),yield Zl(w,Nn),!0}catch{}return!1})()}_withPendingWrite(w){var O=this;return(0,b.Z)(function*(){O.pendingWrites++;try{yield w()}finally{O.pendingWrites--}})()}_set(w,O){var Y=this;return(0,b.Z)(function*(){return Y._withPendingWrite((0,b.Z)(function*(){return yield Y._withRetries(de=>ql(de,w,O)),Y.localCache[w]=O,Y.notifyServiceWorker(w)}))})()}_get(w){var O=this;return(0,b.Z)(function*(){const Y=yield O._withRetries(de=>function No(A,v){return ld.apply(this,arguments)}(de,w));return O.localCache[w]=Y,Y})()}_remove(w){var O=this;return(0,b.Z)(function*(){return O._withPendingWrite((0,b.Z)(function*(){return yield O._withRetries(Y=>Zl(Y,w)),delete O.localCache[w],O.notifyServiceWorker(w)}))})()}_poll(){var w=this;return(0,b.Z)(function*(){const O=yield w._withRetries(Re=>{const nt=mc(Re,!1).getAll();return new Zc(nt).toPromise()});if(!O)return[];if(0!==w.pendingWrites)return[];const Y=[],de=new Set;if(0!==O.length)for(const{fbase_key:Re,value:nt}of O)de.add(Re),JSON.stringify(w.localCache[Re])!==JSON.stringify(nt)&&(w.notifyListeners(Re,nt),Y.push(Re));for(const Re of Object.keys(w.localCache))w.localCache[Re]&&!de.has(Re)&&(w.notifyListeners(Re,null),Y.push(Re));return Y})()}notifyListeners(w,O){this.localCache[w]=O;const Y=this.listeners[w];if(Y)for(const de of Array.from(Y))de(O)}startPolling(){var w=this;this.stopPolling(),this.pollTimer=setInterval((0,b.Z)(function*(){return w._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(w,O){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[w]||(this.listeners[w]=new Set,this._get(w)),this.listeners[w].add(O)}_removeListener(w,O){this.listeners[w]&&(this.listeners[w].delete(O),0===this.listeners[w].size&&delete this.listeners[w]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return A.type="LOCAL",A})();Bs("rcb"),new Yn(3e4,6e4);class _l extends ta{constructor(v){super("custom","custom"),this.params=v}_getIdTokenResponse(v){return kr(v,this._buildIdpRequest())}_linkToIdToken(v,w){return kr(v,this._buildIdpRequest(w))}_getReauthenticationResolver(v){return kr(v,this._buildIdpRequest())}_buildIdpRequest(v){const w={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return v&&(w.idToken=v),w}}function dd(A){return $i(A.auth,new _l(A),A.bypassAuthState)}function Yh(A){const{auth:v,user:w}=A;return _e(w,v,"internal-error"),function rn(A,v){return Vn.apply(this,arguments)}(w,new _l(A),A.bypassAuthState)}function Jh(A){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,b.Z)(function*(A){const{auth:v,user:w}=A;return _e(w,v,"internal-error"),function Q(A,v){return U.apply(this,arguments)}(w,new _l(A),A.bypassAuthState)})).apply(this,arguments)}class jg{constructor(v,w,O,Y,de=!1){this.auth=v,this.resolver=O,this.user=Y,this.bypassAuthState=de,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(w)?w:[w]}execute(){var v=this;return new Promise(function(){var w=(0,b.Z)(function*(O,Y){v.pendingPromise={resolve:O,reject:Y};try{v.eventManager=yield v.resolver._initialize(v.auth),yield v.onExecution(),v.eventManager.registerConsumer(v)}catch(de){v.reject(de)}});return function(O,Y){return w.apply(this,arguments)}}())}onAuthEvent(v){var w=this;return(0,b.Z)(function*(){const{urlResponse:O,sessionId:Y,postBody:de,tenantId:Re,error:nt,type:Ot}=v;if(nt)return void w.reject(nt);const mn={auth:w.auth,requestUri:O,sessionId:Y,tenantId:Re||void 0,postBody:de||void 0,user:w.user,bypassAuthState:w.bypassAuthState};try{w.resolve(yield w.getIdpTask(Ot)(mn))}catch(Un){w.reject(Un)}})()}onError(v){this.reject(v)}getIdpTask(v){switch(v){case"signInViaPopup":case"signInViaRedirect":return dd;case"linkViaPopup":case"linkViaRedirect":return Jh;case"reauthViaPopup":case"reauthViaRedirect":return Yh;default:st(this.auth,"internal-error")}}resolve(v){ut(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(v),this.unregisterAndCleanUp()}reject(v){ut(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(v),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Yn(2e3,1e4);const Du="pendingRedirect",Nc=new Map;class Qh extends jg{constructor(v,w,O=!1){super(v,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],w,void 0,O),this.eventId=null}execute(){var v=()=>super.execute,w=this;return(0,b.Z)(function*(){let O=Nc.get(w.auth._key());if(!O){try{const de=(yield function Xl(A,v){return Cu.apply(this,arguments)}(w.resolver,w.auth))?yield v().call(w):null;O=()=>Promise.resolve(de)}catch(Y){O=()=>Promise.reject(Y)}Nc.set(w.auth._key(),O)}return w.bypassAuthState||Nc.set(w.auth._key(),()=>Promise.resolve(null)),O()})()}onAuthEvent(v){var w=()=>super.onAuthEvent,O=this;return(0,b.Z)(function*(){if("signInViaRedirect"===v.type)return w().call(O,v);if("unknown"!==v.type){if(v.eventId){const Y=yield O.auth._redirectUserForId(v.eventId);if(Y)return O.user=Y,w().call(O,v);O.resolve(null)}}else O.resolve(null)})()}onExecution(){return(0,b.Z)(function*(){})()}cleanUp(){}}function Cu(){return(Cu=(0,b.Z)(function*(A,v){const w=function Xh(A){return hn(Du,A.config.apiKey,A.name)}(v),O=function Au(A){return Je(A._redirectPersistence)}(A);if(!(yield O._isAvailable()))return!1;const Y="true"===(yield O._get(w));return yield O._remove(w),Y})).apply(this,arguments)}function Su(A,v){Nc.set(A._key(),v)}function ih(A,v){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,b.Z)(function*(A,v,w=!1){const O=Yr(A),Y=function yc(A,v){return v?Je(v):(_e(A._popupRedirectResolver,A,"argument-error"),A._popupRedirectResolver)}(O,v),Re=yield new Qh(O,Y,w).execute();return Re&&!w&&(delete Re.user._redirectEventId,yield O._persistUserIfCurrent(Re.user),yield O._setRedirectUser(null,v)),Re})).apply(this,arguments)}class L{constructor(v){this.auth=v,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(v){this.consumers.add(v),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,v)&&(this.sendToConsumer(this.queuedRedirectEvent,v),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(v){this.consumers.delete(v)}onEvent(v){if(this.hasEventBeenHandled(v))return!1;let w=!1;return this.consumers.forEach(O=>{this.isEventForConsumer(v,O)&&(w=!0,this.sendToConsumer(v,O),this.saveEventToCache(v))}),this.hasHandledPotentialRedirect||!function Pe(A){switch(A.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pe(A);default:return!1}}(v)||(this.hasHandledPotentialRedirect=!0,w||(this.queuedRedirectEvent=v,w=!0)),w}sendToConsumer(v,w){var O;if(v.error&&!pe(v)){const Y=(null===(O=v.error.code)||void 0===O?void 0:O.split("auth/")[1])||"internal-error";w.onError(rt(this.auth,Y))}else w.onAuthEvent(v)}isEventForConsumer(v,w){const O=null===w.eventId||!!v.eventId&&v.eventId===w.eventId;return w.filter.includes(v.type)&&O}hasEventBeenHandled(v){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(te(v))}saveEventToCache(v){this.cachedEventUids.add(te(v)),this.lastProcessedEventTime=Date.now()}}function te(A){return[A.type,A.eventId,A.sessionId,A.tenantId].filter(v=>v).join("-")}function pe({type:A,error:v}){return"unknown"===A&&"auth/no-auth-event"===v?.code}function ct(){return(ct=(0,b.Z)(function*(A,v={}){return Ke(A,"GET","/v1/projects",v)})).apply(this,arguments)}const Gt=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ut=/^https?/;function $n(){return $n=(0,b.Z)(function*(A){if(A.config.emulator)return;const{authorizedDomains:v}=yield function Ve(A){return ct.apply(this,arguments)}(A);for(const w of v)try{if(Zn(w))return}catch{}st(A,"unauthorized-domain")}),$n.apply(this,arguments)}function Zn(A){const v=wn(),{protocol:w,hostname:O}=new URL(v);if(A.startsWith("chrome-extension://")){const Re=new URL(A);return""===Re.hostname&&""===O?"chrome-extension:"===w&&A.replace("chrome-extension://","")===v.replace("chrome-extension://",""):"chrome-extension:"===w&&Re.hostname===O}if(!Ut.test(w))return!1;if(Gt.test(A))return O===A;const Y=A.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Y+"|"+Y+")$","i").test(O)}const Zs=new Yn(3e4,6e4);function Ks(){const A=_t().___jsl;if(A?.H)for(const v of Object.keys(A.H))if(A.H[v].r=A.H[v].r||[],A.H[v].L=A.H[v].L||[],A.H[v].r=[...A.H[v].L],A.CP)for(let w=0;w<A.CP.length;w++)A.CP[w]=null}let Mu=null;const xc=new Yn(5e3,15e3),ru="__/auth/iframe",Ip="emulator/auth/iframe",f0={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function p0(A){const v=A.config;_e(v.authDomain,A,"auth-domain-config-required");const w=v.emulator?tr(v,Ip):`https://${A.config.authDomain}/${ru}`,O={apiKey:v.apiKey,appName:A.name,v:u.Jn},Y=xu.get(A.config.apiHost);Y&&(O.eid=Y);const de=A._getFrameworks();return de.length&&(O.fw=de.join(",")),`${w}?${(0,X.xO)(O).slice(1)}`}function Ys(){return Ys=(0,b.Z)(function*(A){const v=yield function sh(A){return Mu=Mu||function Nu(A){return new Promise((v,w)=>{var O,Y,de;function Re(){Ks(),gapi.load("gapi.iframes",{callback:()=>{v(gapi.iframes.getContext())},ontimeout:()=>{Ks(),w(rt(A,"network-request-failed"))},timeout:Zs.get()})}if(null!==(Y=null===(O=_t().gapi)||void 0===O?void 0:O.iframes)&&void 0!==Y&&Y.Iframe)v(gapi.iframes.getContext());else{if(null===(de=_t().gapi)||void 0===de||!de.load){const nt=Bs("iframefcb");return _t()[nt]=()=>{gapi.load?Re():w(rt(A,"network-request-failed"))},mo(`${function ya(){return _i.gapiScript}()}?onload=${nt}`).catch(Ot=>w(Ot))}Re()}}).catch(v=>{throw Mu=null,v})}(A),Mu}(A),w=_t().gapi;return _e(w,A,"internal-error"),v.open({where:document.body,url:p0(A),messageHandlersFilter:w.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:f0,dontclear:!0},O=>new Promise(function(){var Y=(0,b.Z)(function*(de,Re){yield O.restyle({setHideOnLeave:!1});const nt=rt(A,"network-request-failed"),Ot=_t().setTimeout(()=>{Re(nt)},xc.get());function mn(){_t().clearTimeout(Ot),de(O)}O.ping(mn).then(mn,()=>{Re(nt)})});return function(de,Re){return Y.apply(this,arguments)}}()))}),Ys.apply(this,arguments)}const g0={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class oh{constructor(v){this.window=v,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const B_="__/auth/handler",V_="emulator/auth/handler",m0=encodeURIComponent("fac");function H_(A,v,w,O,Y,de){return ua.apply(this,arguments)}function ua(){return(ua=(0,b.Z)(function*(A,v,w,O,Y,de){_e(A.config.authDomain,A,"auth-domain-config-required"),_e(A.config.apiKey,A,"invalid-api-key");const Re={apiKey:A.config.apiKey,appName:A.name,authType:w,redirectUrl:O,v:u.Jn,eventId:Y};if(v instanceof Gs){v.setDefaultLanguage(A.languageCode),Re.providerId=v.providerId||"",(0,X.xb)(v.getCustomParameters())||(Re.customParameters=JSON.stringify(v.getCustomParameters()));for(const[Un,xr]of Object.entries(de||{}))Re[Un]=xr}if(v instanceof Br){const Un=v.getScopes().filter(xr=>""!==xr);Un.length>0&&(Re.scopes=Un.join(","))}A.tenantId&&(Re.tid=A.tenantId);const nt=Re;for(const Un of Object.keys(nt))void 0===nt[Un]&&delete nt[Un];const Ot=yield A._getAppCheckToken(),mn=Ot?`#${m0}=${encodeURIComponent(Ot)}`:"";return`${function zg({config:A}){return A.emulator?tr(A,V_):`https://${A.authDomain}/${B_}`}(A)}?${(0,X.xO)(nt).slice(1)}${mn}`})).apply(this,arguments)}const Pu="webStorageSupport",Wg=class j_{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qc,this._completeRedirectFn=ih,this._overrideRedirectResult=Su}_openPopup(v,w,O,Y){var de=this;return(0,b.Z)(function*(){var Re;ut(null===(Re=de.eventManagers[v._key()])||void 0===Re?void 0:Re.manager,"_initialize() not called before _openPopup()");const nt=yield H_(v,w,O,wn(),Y);return function ah(A,v,w,O=500,Y=600){const de=Math.max((window.screen.availHeight-Y)/2,0).toString(),Re=Math.max((window.screen.availWidth-O)/2,0).toString();let nt="";const Ot=Object.assign(Object.assign({},g0),{width:O.toString(),height:Y.toString(),top:de,left:Re}),mn=(0,X.z$)().toLowerCase();w&&(nt=nr(mn)?"_blank":w),Fn(mn)&&(v=v||"http://localhost",Ot.scrollbars="yes");const Un=Object.entries(Ot).reduce((Qa,[wl,Dp])=>`${Qa}${wl}=${Dp},`,"");if(function Bi(A=(0,X.z$)()){var v;return Ha(A)&&!(null===(v=window.navigator)||void 0===v||!v.standalone)}(mn)&&"_self"!==nt)return function Ru(A,v){const w=document.createElement("a");w.href=A,w.target=v;const O=document.createEvent("MouseEvent");O.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),w.dispatchEvent(O)}(v||"",nt),new oh(null);const xr=window.open(v||"",nt,Un);_e(xr,A,"popup-blocked");try{xr.focus()}catch{}return new oh(xr)}(v,nt,Wl())})()}_openRedirect(v,w,O,Y){var de=this;return(0,b.Z)(function*(){return yield de._originValidation(v),function Er(A){_t().location.href=A}(yield H_(v,w,O,wn(),Y)),new Promise(()=>{})})()}_initialize(v){const w=v._key();if(this.eventManagers[w]){const{manager:Y,promise:de}=this.eventManagers[w];return Y?Promise.resolve(Y):(ut(de,"If manager is not set, promise should be"),de)}const O=this.initAndGetManager(v);return this.eventManagers[w]={promise:O},O.catch(()=>{delete this.eventManagers[w]}),O}initAndGetManager(v){var w=this;return(0,b.Z)(function*(){const O=yield function Gg(A){return Ys.apply(this,arguments)}(v),Y=new L(v);return O.register("authEvent",de=>(_e(de?.authEvent,v,"invalid-auth-event"),{status:Y.onEvent(de.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),w.eventManagers[v._key()]={manager:Y},w.iframes[v._key()]=O,Y})()}_isIframeWebStorageSupported(v,w){this.iframes[v._key()].send(Pu,{type:Pu},Y=>{var de;const Re=null===(de=Y?.[0])||void 0===de?void 0:de[Pu];void 0!==Re&&w(!!Re),st(v,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(v){const w=v._key();return this.originValidationPromises[w]||(this.originValidationPromises[w]=function gn(A){return $n.apply(this,arguments)}(v)),this.originValidationPromises[w]}get _shouldInitProactively(){return Vi()||Kr()||Ha()}};var Rc="@firebase/auth";class af{constructor(v){this.auth=v,this.internalListeners=new Map}getUid(){var v;return this.assertAuthConfigured(),(null===(v=this.auth.currentUser)||void 0===v?void 0:v.uid)||null}getToken(v){var w=this;return(0,b.Z)(function*(){return w.assertAuthConfigured(),yield w.auth._initializationPromise,w.auth.currentUser?{accessToken:yield w.auth.currentUser.getIdToken(v)}:null})()}addAuthTokenListener(v){if(this.assertAuthConfigured(),this.internalListeners.has(v))return;const w=this.auth.onIdTokenChanged(O=>{v(O?.stsTokenManager.accessToken||null)});this.internalListeners.set(v,w),this.updateProactiveRefresh()}removeAuthTokenListener(v){this.assertAuthConfigured();const w=this.internalListeners.get(v);w&&(this.internalListeners.delete(v),w(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const z_=(0,X.Pz)("authIdTokenMaxAge")||300;let qg=null;const cf=A=>function(){var v=(0,b.Z)(function*(w){const O=w&&(yield w.getIdTokenResult()),Y=O&&((new Date).getTime()-Date.parse(O.issuedAtTime))/1e3;if(Y&&Y>z_)return;const de=O?.token;qg!==de&&(qg=de,yield fetch(A,{method:de?"POST":"DELETE",headers:de?{Authorization:`Bearer ${de}`}:{}}))});return function(w){return v.apply(this,arguments)}}();function lh(A=(0,u.Mq)()){const v=(0,u.qX)(A,"auth");if(v.isInitialized())return v.getImmediate();const w=function Bl(A,v){const w=(0,u.qX)(A,"auth");if(w.isInitialized()){const Y=w.getImmediate(),de=w.getOptions();if((0,X.vZ)(de,v??{}))return Y;st(Y,"already-initialized")}return w.initialize({options:v})}(A,{popupRedirectResolver:Wg,persistence:[D,pl,qc]}),O=(0,X.Pz)("authTokenSyncURL");if(O&&O.match(/^\/[^\/].*/)){const de=cf(O);(function Vl(A,v,w){(0,X.m9)(A).beforeAuthStateChanged(v,w)})(w,de,()=>de(w.currentUser)),function Ao(A,v,w,O){(0,X.m9)(A).onIdTokenChanged(v,w,O)}(w,Re=>de(Re))}const Y=(0,X.q4)("auth");return Y&&function yo(A,v,w){const O=Yr(A);_e(O._canInitEmulator,O,"emulator-config-failed"),_e(/^https?:\/\//.test(v),O,"invalid-emulator-scheme");const Y=!!w?.disableWarnings,de=ba(v),{host:Re,port:nt}=function hi(A){const v=ba(A),w=/(\/\/)?([^?#/]+)/.exec(A.substr(v.length));if(!w)return{host:"",port:null};const O=w[2].split("@").pop()||"",Y=/^(\[[^\]]+\])(:|$)/.exec(O);if(Y){const de=Y[1];return{host:de,port:Cs(O.substr(de.length+1))}}{const[de,Re]=O.split(":");return{host:de,port:Cs(Re)}}}(v);O.config.emulator={url:`${de}//${Re}${null===nt?"":`:${nt}`}/`},O.settings.appVerificationDisabledForTesting=!0,O.emulatorConfig=Object.freeze({host:Re,port:nt,protocol:de.replace(":",""),options:Object.freeze({disableWarnings:Y})}),Y||function wa(){function A(){const v=document.createElement("p"),w=v.style;v.innerText="Running in emulator mode. Do not use with production credentials.",w.position="fixed",w.width="100%",w.backgroundColor="#ffffff",w.border=".1em solid #000000",w.color="#b50000",w.bottom="0px",w.left="0px",w.margin="0px",w.zIndex="10000",w.textAlign="center",v.classList.add("firebase-emulator-warning"),document.body.appendChild(v)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",A):A())}()}(w,`http://${Y}`),w}(function Qo(A){_i=A})({loadJS:A=>new Promise((v,w)=>{const O=document.createElement("script");O.setAttribute("src",A),O.onload=v,O.onerror=Y=>{const de=rt("internal-error");de.customData=Y,w(de)},O.type="text/javascript",O.charset="UTF-8",function W_(){var A,v;return null!==(v=null===(A=document.getElementsByTagName("head"))||void 0===A?void 0:A[0])&&void 0!==v?v:document}().appendChild(O)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Tp(A){(0,u.Xd)(new he.wA("auth",(v,{options:w})=>{const O=v.getProvider("app").getImmediate(),Y=v.getProvider("heartbeat"),de=v.getProvider("app-check-internal"),{apiKey:Re,authDomain:nt}=O.options;_e(Re&&!Re.includes(":"),"invalid-api-key",{appName:O.name});const Ot={apiKey:Re,authDomain:nt,clientPlatform:A,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ir(A)},mn=new ma(O,Y,de,Ot);return function ji(A,v){const w=v?.persistence||[],O=(Array.isArray(w)?w:[w]).map(Je);v?.errorMap&&A._updateErrorMap(v.errorMap),A._initializeWithPersistence(O,v?.popupRedirectResolver)}(mn,w),mn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((v,w,O)=>{v.getProvider("auth-internal").initialize()})),(0,u.Xd)(new he.wA("auth-internal",v=>{const w=Yr(v.getProvider("auth").getImmediate());return new af(w)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,u.KN)(Rc,"1.6.2",function _0(A){switch(A){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(A)),(0,u.KN)(Rc,"1.6.2","esm2017")}("Browser");var y0=$(5619),pd=$(8180),vs=$(3477),$o=$(9468),IT=$(7158),q_=$(4456);let Zg=(()=>{class A{constructor(w,O,Y){this.firestore=w,this.router=O,this.globalErrorHandler=Y,this.userDataSubject=new y0.X(null),this.userData$=this.userDataSubject.asObservable(),this.collectionName="Auth";const de=localStorage.getItem("user");if(de){const Re=JSON.parse(de);this.userDataSubject.next(Re)}}registerUser(w,O,Y){var de=this;return(0,b.Z)(function*(){try{const Re=yield de.createUserWithEmailAndPassword(w,O),nt=Re.user.uid;yield de.addAdditionalAuthData(nt,Y),yield de.saveUserData(Re.user,Y),de.router.navigate(["recipes-list"])}catch(Re){de.globalErrorHandler.handleError(Re)}})()}loginUser(w,O){var Y=this;return(0,b.Z)(function*(){try{const de=yield Y.signInWithEmailAndPassword(w,O),Re=de.user.uid,nt=yield Y.getAdditionalAuthDataById(Re);yield Y.saveUserData(de.user,nt),yield Y.router.navigate(["recipes-list"])}catch(de){Y.globalErrorHandler.handleError(de)}})()}logoutUser(){var w=this;return(0,b.Z)(function*(){try{yield w.signOutAuth(),yield w.clearUserData(),w.router.navigate(["login"])}catch(O){console.error(O)}})()}deleteUserAccount(){var w=this;return(0,b.Z)(function*(){try{const Y=lh().currentUser;Y?(yield function id(A){return Sa.apply(this,arguments)}(Y),yield w.deleteAdditionalAuthData(Y.uid),yield w.clearUserData(),w.router.navigate(["login"])):console.error("No user found to delete.")}catch(O){console.error("No user found to delete.",O)}})()}forgotPassword(w){var O=this;return(0,b.Z)(function*(){try{yield O.sendPasswordResetEmail(w),O.globalErrorHandler.handleError("Password reset email sent, check your inbox."),yield O.router.navigate(["login"])}catch(Y){O.globalErrorHandler.handleError(Y)}})()}updateFavoriteRecipes(w,O,Y){var de=this;return(0,b.Z)(function*(){const Re=(0,vs.JU)(de.firestore,de.collectionName,O);try{Y?(console.log("remove"),yield(0,vs.r7)(Re,{favoriteRecipes:(0,vs.Ab)(w)})):(console.log("add"),yield(0,vs.r7)(Re,{favoriteRecipes:(0,vs.vr)(w)})),console.log("Favorite recipes updated successfully");const nt=yield de.getAdditionalAuthDataById(O);de.userData$.pipe((0,pd.q)(1)).subscribe(Ot=>{Ot?de.saveUserData(Ot,nt).then(()=>console.log("User data saved successfully")).catch(()=>console.error("Failed to save user data")):console.error("User is null")})}catch(nt){de.globalErrorHandler.handleError(nt)}})()}sendPasswordResetEmail(w){return function cl(A,v,w){return $c.apply(this,arguments)}(lh(),w)}createUserWithEmailAndPassword(w,O){return function Ms(A,v,w){return wi.apply(this,arguments)}(lh(),w,O)}signInWithEmailAndPassword(w,O){return function zc(A,v,w){return zi((0,X.m9)(A),Io.credential(v,w)).catch(function(){var O=(0,b.Z)(function*(Y){throw"auth/password-does-not-meet-requirements"===Y.code&&uc(A),Y});return function(Y){return O.apply(this,arguments)}}())}(lh(),w,O)}signOutAuth(){return function si(A){return(0,X.m9)(A).signOut()}(lh())}addAdditionalAuthData(w,O){return(0,vs.pl)((0,vs.JU)(this.firestore,this.collectionName,w),O)}getAdditionalAuthDataById(w){var O=this;return(0,b.Z)(function*(){const Y=(0,vs.JU)(O.firestore,O.collectionName,w),de=yield(0,vs.QT)(Y);return de.exists()?de.data():null})()}updateAdditionalAuthData(w,O){if(O){const Y=(0,vs.JU)(this.firestore,this.collectionName,O),de={...w};(0,vs.r7)(Y,de).then(()=>{console.log("Document successfully updated"),this.router.navigate(["/dashboard/user-info"])}).then(()=>{this.userData$.pipe((0,pd.q)(1)).subscribe(Re=>{Re?this.saveUserData(Re,w).then(()=>console.log("User data saved successfully")).catch(()=>console.error("Failed to save user data")):console.error("User is null")})}).catch(Re=>{this.globalErrorHandler.handleError(Re)})}else this.globalErrorHandler.handleError("Invalid uid.")}deleteAdditionalAuthData(w){var O=this;return(0,b.Z)(function*(){try{const Y=(0,vs.JU)(O.firestore,O.collectionName,w);yield(0,vs.oe)(Y),console.log("Recipe deleted successfully:",w)}catch(Y){throw O.globalErrorHandler.handleError(Y),Y}})()}saveUserData(w,O){return new Promise((Y,de)=>{if(w&&O){const Re={...w,...O};localStorage.setItem("user",JSON.stringify(Re)),this.userDataSubject.next(Re),Y()}else localStorage.setItem("user","null"),this.userDataSubject.next(null),de()})}clearUserData(){return new Promise((w,O)=>{localStorage.removeItem("user"),this.userDataSubject.next(null),w()})}static#e=this.\u0275fac=function(O){return new(O||A)($o.LFG(vs.gg),$o.LFG(IT.F0),$o.LFG(q_.r))};static#t=this.\u0275prov=$o.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})()},9286:(Vt,Be,$)=>{"use strict";$.d(Be,{N:()=>ye});var b=$(4303);(0,b.KN)("firebase","10.9.0","app");const ye={firebaseConfig:{apiKey:"AIzaSyCVbXDjBGUwaOrn1CZYGIwce1dYPKpR7PA",authDomain:"the-natural-way.firebaseapp.com",projectId:"the-natural-way",storageBucket:"the-natural-way.appspot.com",messagingSenderId:"778711637280",appId:"1:778711637280:web:30b52ea2a4e159578fcb45"},cloudinaryConfig:{cloudName:"dsla98vyk",apiKey:"587566495847865",apiSecret:"sJLzQzouizKo51b9Mv0bI8a5pCI",uploadPreset:"the_natural_way"}};(0,b.ZF)(ye.firebaseConfig)},5718:(Vt,Be,$)=>{"use strict";var b=$(6593),X=$(7158),u=$(9468),ye=$(4664),ae=$(7398),he=$(2096),Ie=$(6499),ke=$(4456),re=$(5861),le=$(95),Se=$(3424),Ce=$(6814);function Me(c,f){1&c&&(u.TgZ(0,"div",22),u._uU(1," Email is required! "),u.qZA())}function qe(c,f){1&c&&(u.TgZ(0,"div",22),u._uU(1," Please enter a valid email address! "),u.qZA())}function It(c,f){if(1&c&&(u.TgZ(0,"div"),u.YNc(1,Me,2,0,"div",21),u.YNc(2,qe,2,0,"div",21),u.qZA()),2&c){const o=u.oxw();let d,m;u.xp6(1),u.Q6J("ngIf",null==(d=o.registerForm.get("email"))||null==d.errors?null:d.errors.required),u.xp6(1),u.Q6J("ngIf",null==(m=o.registerForm.get("email"))||null==m.errors?null:m.errors.email)}}function xt(c,f){1&c&&(u.TgZ(0,"div",22),u._uU(1," Password is required! "),u.qZA())}function Ct(c,f){1&c&&(u.TgZ(0,"div",22),u._uU(1," Password must be at least 6 characters long! "),u.qZA())}function cn(c,f){if(1&c&&(u.TgZ(0,"div"),u.YNc(1,xt,2,0,"div",21),u.YNc(2,Ct,2,0,"div",21),u.qZA()),2&c){const o=u.oxw();let d,m;u.xp6(1),u.Q6J("ngIf",null==(d=o.registerForm.get("password"))||null==d.errors?null:d.errors.required),u.xp6(1),u.Q6J("ngIf",null==(m=o.registerForm.get("password"))||null==m.errors?null:m.errors.minlength)}}function Tt(c,f){1&c&&(u.TgZ(0,"div",22),u._uU(1," Repeat password is required! "),u.qZA())}function st(c,f){1&c&&(u.TgZ(0,"div",22),u._uU(1," Repeat password must be at least 6 characters long! "),u.qZA())}function rt(c,f){if(1&c&&(u.TgZ(0,"div"),u.YNc(1,Tt,2,0,"div",21),u.YNc(2,st,2,0,"div",21),u.qZA()),2&c){const o=u.oxw();let d,m;u.xp6(1),u.Q6J("ngIf",null==(d=o.registerForm.get("repeatPassword"))||null==d.errors?null:d.errors.required),u.xp6(1),u.Q6J("ngIf",null==(m=o.registerForm.get("repeatPassword"))||null==m.errors?null:m.errors.minlength)}}function yt(c,f){1&c&&(u.TgZ(0,"div",22),u._uU(1," First name is required! "),u.qZA())}function ze(c,f){if(1&c&&(u.TgZ(0,"div"),u.YNc(1,yt,2,0,"div",21),u.qZA()),2&c){const o=u.oxw();let d;u.xp6(1),u.Q6J("ngIf",null==(d=o.registerForm.get("firstName"))||null==d.errors?null:d.errors.required)}}function Ae(c,f){1&c&&(u.TgZ(0,"div",22),u._uU(1," Last name is required! "),u.qZA())}function _e(c,f){if(1&c&&(u.TgZ(0,"div"),u.YNc(1,Ae,2,0,"div",21),u.qZA()),2&c){const o=u.oxw();let d;u.xp6(1),u.Q6J("ngIf",null==(d=o.registerForm.get("lastName"))||null==d.errors?null:d.errors.required)}}let Le=(()=>{class c{constructor(o,d,m,I){this.userService=o,this.fb=d,this.formErrorCheckService=m,this.globalErrorHandler=I,this.registerForm=this.fb.group({email:["",[le.kI.required,le.kI.email]],password:["",[le.kI.required,le.kI.minLength(6)]],repeatPassword:["",le.kI.required],firstName:["",le.kI.required],lastName:["",le.kI.required],isActive:[!0,le.kI.required],isAdmin:[!1,le.kI.required],favoriteRecipes:this.fb.array([])})}submitRegisterForm(){var o=this;return(0,re.Z)(function*(){if(o.registerForm.valid){o.formErrorCheckService.markFormGroupTouched(o.registerForm);const{email:d,password:m,repeatPassword:I,...x}=o.registerForm.value;if(m!==I)return void o.globalErrorHandler.handleError("Password do not match!");try{yield o.userService.registerUser(d,m,x)}catch(K){o.globalErrorHandler.handleError(K)}}else{const d=o.formErrorCheckService.getFormGroupErrors(o.registerForm);o.globalErrorHandler.handleError(d)}})()}static#e=this.\u0275fac=function(d){return new(d||c)(u.Y36(Ie.K),u.Y36(le.qu),u.Y36(Se.l),u.Y36(ke.r))};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-register"]],decls:33,vars:6,consts:[[1,"main-long"],[1,"headerImage"],[1,"wrapper"],["data-aos","fade-up","data-aos-duration","3000",3,"formGroup","ngSubmit"],[1,"title-wrapper"],[1,"title-form"],["for","email"],["type","email","id","email","formControlName","email","autocomplete","email"],[4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password","autocomplete","new-password"],["for","repeatPassword"],["type","password","id","repeatPassword","formControlName","repeatPassword","autocomplete","new-password"],["for","firstName"],["type","text","id","firstName","formControlName","firstName"],["for","lastName"],["type","text","id","lastName","formControlName","lastName"],["type","submit",1,"button",2,"width","100%","margin-top","20px"],[1,"hr"],["href","#","routerLink","/login"],[1,"hint"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(d,m){if(1&d&&(u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"form",3),u.NdJ("ngSubmit",function(){return m.submitRegisterForm()}),u.TgZ(4,"div",4)(5,"h1",5),u._uU(6,"Registration"),u.qZA()(),u.TgZ(7,"label",6),u._uU(8,"Email:"),u.qZA(),u._UZ(9,"input",7),u.YNc(10,It,3,2,"div",8),u.TgZ(11,"label",9),u._uU(12,"Password:"),u.qZA(),u._UZ(13,"input",10),u.YNc(14,cn,3,2,"div",8),u.TgZ(15,"label",11),u._uU(16,"Repeat password:"),u.qZA(),u._UZ(17,"input",12),u.YNc(18,rt,3,2,"div",8),u.TgZ(19,"label",13),u._uU(20,"First name:"),u.qZA(),u._UZ(21,"input",14),u.YNc(22,ze,2,1,"div",8),u.TgZ(23,"label",15),u._uU(24,"Last Name:"),u.qZA(),u._UZ(25,"input",16),u.YNc(26,_e,2,1,"div",8),u.TgZ(27,"button",17),u._uU(28," Submit "),u.qZA(),u._UZ(29,"hr",18),u.TgZ(30,"a",19)(31,"div",20),u._uU(32,"Already registered?"),u.qZA()()()()()),2&d){let I,x,K,oe,fe;u.xp6(3),u.Q6J("formGroup",m.registerForm),u.xp6(7),u.Q6J("ngIf",(null==(I=m.registerForm.get("email"))?null:I.invalid)&&(null==(I=m.registerForm.get("email"))?null:I.touched)),u.xp6(4),u.Q6J("ngIf",(null==(x=m.registerForm.get("password"))?null:x.invalid)&&(null==(x=m.registerForm.get("password"))?null:x.touched)),u.xp6(4),u.Q6J("ngIf",(null==(K=m.registerForm.get("repeatPassword"))?null:K.invalid)&&(null==(K=m.registerForm.get("repeatPassword"))?null:K.touched)),u.xp6(4),u.Q6J("ngIf",(null==(oe=m.registerForm.get("firstName"))?null:oe.invalid)&&(null==(oe=m.registerForm.get("firstName"))?null:oe.touched)),u.xp6(4),u.Q6J("ngIf",(null==(fe=m.registerForm.get("lastName"))?null:fe.invalid)&&(null==(fe=m.registerForm.get("lastName"))?null:fe.touched))}},dependencies:[Ce.O5,X.rH,le._Y,le.Fj,le.JJ,le.JL,le.sg,le.u],styles:[".checkbox-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center}form[_ngcontent-%COMP%]{max-width:600px;margin:-50px auto 50px;padding:32px;background-color:var(--backgroundColor);border-radius:unset;box-shadow:0 1px 3px #0000004d}@media (max-width: 460px){form[_ngcontent-%COMP%]{background-color:var(--backgroundColor);border:none}}"]})}return c})();function ut(c,f){1&c&&(u.TgZ(0,"div",17),u._uU(1," Email is required! "),u.qZA())}function wn(c,f){1&c&&(u.TgZ(0,"div",17),u._uU(1," Invalid email! "),u.qZA())}function dt(c,f){if(1&c&&(u.TgZ(0,"div"),u.YNc(1,ut,2,0,"div",18),u.YNc(2,wn,2,0,"div",18),u.qZA()),2&c){const o=u.oxw();let d,m;u.xp6(1),u.Q6J("ngIf",null==(d=o.logInForm.get("email"))||null==d.errors?null:d.errors.required),u.xp6(1),u.Q6J("ngIf",null==(m=o.logInForm.get("email"))||null==m.errors?null:m.errors.email)}}function sn(c,f){1&c&&(u.TgZ(0,"div",17),u._uU(1," Password is required! "),u.qZA())}function _n(c,f){1&c&&(u.TgZ(0,"div",17),u._uU(1," Password must be at least 6 characters long! "),u.qZA())}function On(c,f){if(1&c&&(u.TgZ(0,"div"),u.YNc(1,sn,2,0,"div",18),u.YNc(2,_n,2,0,"div",18),u.qZA()),2&c){const o=u.oxw();let d,m;u.xp6(1),u.Q6J("ngIf",null==(d=o.logInForm.get("password"))||null==d.errors?null:d.errors.required),u.xp6(1),u.Q6J("ngIf",null==(m=o.logInForm.get("password"))||null==m.errors?null:m.errors.minlength)}}function Yn(c,f){if(1&c&&(u.TgZ(0,"div"),u._uU(1),u.qZA()),2&c){const o=u.oxw();u.xp6(1),u.Oqu(o.loginError)}}let tr=(()=>{class c{constructor(o,d,m,I,x,K){this.userService=o,this.fb=d,this.route=m,this.router=I,this.formErrorCheckService=x,this.globalErrorHandler=K,this.loginError=null,this.returnUrl=null,this.logInForm=this.fb.group({email:["",[le.kI.required,le.kI.email]],password:["",[le.kI.required,le.kI.minLength(6)]]})}ngOnInit(){this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/login"}submitLogInForm(){var o=this;return(0,re.Z)(function*(){if(o.formErrorCheckService.markFormGroupTouched(o.logInForm),o.logInForm.valid){const{email:d,password:m}=o.logInForm.value;try{yield o.userService.loginUser(d,m);const I=o.returnUrl||"/";yield o.router.navigateByUrl(I)}catch(I){o.globalErrorHandler.handleError(I)}}else{const d=o.formErrorCheckService.getFormGroupErrors(o.logInForm);o.globalErrorHandler.handleError(d)}})()}static#e=this.\u0275fac=function(d){return new(d||c)(u.Y36(Ie.K),u.Y36(le.qu),u.Y36(X.gz),u.Y36(X.F0),u.Y36(Se.l),u.Y36(ke.r))};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-login"]],decls:30,vars:4,consts:[[1,"main-short"],[1,"headerImage"],[1,"wrapper"],["data-aos","fade-up","data-aos-duration","3000",3,"formGroup","ngSubmit"],[1,"title-wrapper"],[1,"title-form"],[1,"formGroup"],["for","email"],["type","text","id","email","formControlName","email","autocomplete","email"],[4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password","autocomplete","current-password"],["type","submit",1,"button",2,"width","100%"],[1,"hr"],["href","#","routerLink","/register"],[1,"hint"],["href","#","routerLink","/forgot-password"],[1,"errors"],["class","errors",4,"ngIf"]],template:function(d,m){if(1&d&&(u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"form",3),u.NdJ("ngSubmit",function(){return m.submitLogInForm()}),u.TgZ(4,"div",4)(5,"h1",5),u._uU(6,"Login"),u.qZA()(),u.TgZ(7,"div",6)(8,"label",7),u._uU(9,"Email"),u.qZA(),u._UZ(10,"input",8),u.YNc(11,dt,3,2,"div",9),u.qZA(),u.TgZ(12,"div",6)(13,"label",10),u._uU(14,"Password"),u.qZA(),u._UZ(15,"input",11),u.YNc(16,On,3,2,"div",9),u.qZA(),u._UZ(17,"br"),u.TgZ(18,"div",6)(19,"button",12),u._uU(20,"Submit"),u.qZA()(),u.YNc(21,Yn,2,1,"div",9),u._UZ(22,"hr",13),u.TgZ(23,"div")(24,"a",14)(25,"div",15),u._uU(26,"Don't have a Registration yet?"),u.qZA()(),u.TgZ(27,"a",16)(28,"div",17),u._uU(29,"Forgot your password?"),u.qZA()()()()()()),2&d){let I,x;u.xp6(3),u.Q6J("formGroup",m.logInForm),u.xp6(8),u.Q6J("ngIf",(null==(I=m.logInForm.get("email"))?null:I.invalid)&&(null==(I=m.logInForm.get("email"))?null:I.touched)),u.xp6(5),u.Q6J("ngIf",(null==(x=m.logInForm.get("password"))?null:x.invalid)&&(null==(x=m.logInForm.get("password"))?null:x.touched)),u.xp6(5),u.Q6J("ngIf",m.loginError)}},dependencies:[Ce.O5,X.rH,le._Y,le.Fj,le.JJ,le.JL,le.sg,le.u],styles:["form[_ngcontent-%COMP%]{max-width:600px;margin:-50px auto 50px;padding:32px;background-color:var(--backgroundColor);border-radius:unset;box-shadow:0 1px 3px #0000004d}@media (max-width: 460px){form[_ngcontent-%COMP%]{background-color:var(--backgroundColor);border:none}}"]})}return c})();var Ue=$(3585);const je=function(c){return["/recipe",c]};function Ze(c,f){if(1&c&&(u.TgZ(0,"a",10)(1,"div",11)(2,"div",12),u._UZ(3,"img",13),u.qZA(),u.TgZ(4,"p",14),u._uU(5),u.qZA()()()),2&c){const o=u.oxw().$implicit;u.Q6J("routerLink",u.VKq(4,je,o.id)),u.xp6(3),u.s9C("alt",o.title),u.Q6J("src",o.image_recipe[0].image_recipe,u.LSH),u.xp6(2),u.Oqu(o.title)}}function He(c,f){if(1&c&&(u.TgZ(0,"div"),u.YNc(1,Ze,6,6,"a",9),u.qZA()),2&c){const o=f.$implicit;u.xp6(1),u.Q6J("ngIf",o.public)}}function Ke(c,f){if(1&c){const o=u.EpF();u.TgZ(0,"div")(1,"button",15),u.NdJ("click",function(){u.CHM(o);const m=u.oxw();return u.KtG(m.getRecipesLoadMore())}),u._uU(2," Load More "),u.qZA()()}}function gt(c,f){1&c&&(u.TgZ(0,"p")(1,"i"),u._uU(2," All recipes are now displayed! "),u.qZA()())}let St=(()=>{class c{constructor(o){this.recipeService=o,this.recipes=[],this.showLoadMoreButton=!0}ngOnInit(){var o=this;return(0,re.Z)(function*(){yield o.getRecipes(),o.showLoadMoreButton=!0})()}getRecipesLoadMore(){var o=this;return(0,re.Z)(function*(){const{data:d,hasMore:m}=yield o.recipeService.getRecipesLoadMore();o.showLoadMoreButton=m,o.recipes.push(...d)})()}getRecipes(){var o=this;return(0,re.Z)(function*(){const{data:d}=yield o.recipeService.getRecipes();o.recipes.push(...d)})()}static#e=this.\u0275fac=function(d){return new(d||c)(u.Y36(Ue.j))};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-recipes-list"]],decls:13,vars:3,consts:[[1,"main-long"],[1,"headerImage"],["data-aos","fade-up","data-aos-duration","3000",1,"wrapper-list"],[1,"header-wrapper",2,"text-align","center"],[1,"title",2,"font-size","36px","line-height","1.2"],[1,"recipe-list"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["allRecipesShown",""],[3,"routerLink",4,"ngIf"],[3,"routerLink"],[1,"recipe-item"],[1,"recipe-image"],[3,"src","alt"],[1,"recipe-title"],[1,"button-img",3,"click"]],template:function(d,m){if(1&d&&(u.TgZ(0,"main",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"div",3)(4,"h1",4),u._uU(5,"Recipes"),u.qZA(),u.TgZ(6,"p"),u._uU(7,"Explore our herbal recipes for vitality and well-being."),u.qZA()(),u.TgZ(8,"div",5),u.YNc(9,He,2,1,"div",6),u.qZA(),u.YNc(10,Ke,3,0,"div",7),u.YNc(11,gt,3,0,"ng-template",null,8,u.W1O),u.qZA()()),2&d){const I=u.MAs(12);u.xp6(9),u.Q6J("ngForOf",m.recipes),u.xp6(1),u.Q6J("ngIf",m.showLoadMoreButton)("ngIfElse",I)}},dependencies:[Ce.sg,Ce.O5,X.rH],styles:[".wrapper-list[_ngcontent-%COMP%]{margin:-50px auto 50px;max-width:1200px;background-color:var(--backgroundColor);box-shadow:0 1px 3px #0000004d;padding:32px}.title-wrapper[_ngcontent-%COMP%]{margin-left:10px}.recipe-list[_ngcontent-%COMP%]{position:relative;display:grid;grid-template-columns:repeat(4,1fr);row-gap:30px;column-gap:10px;margin-bottom:50px}.recipe-item[_ngcontent-%COMP%]{margin:5px;position:relative}.recipe-image[_ngcontent-%COMP%]{padding:5px;position:relative;transition:transform 1s ease-in-out}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;width:100%;object-fit:fill;border-radius:4px}.recipe-item[_ngcontent-%COMP%]:hover   .recipe-image[_ngcontent-%COMP%]{transform:translateY(12%)}@media only screen and (max-width: 460px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 20px 50px;padding:16px}.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 461px) and (max-width: 767px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 768px) and (max-width: 1023px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);column-gap:10px;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}@media (min-width: 1024px) and (max-width: 1440px){.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);column-gap:10px;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}"]})}return c})();var Lt=$(8850),Qt=$(3477);function tn(c,f){1&c&&(u.TgZ(0,"div",8),u._uU(1," Please write a comment! "),u.qZA())}function Bt(c,f){1&c&&(u.TgZ(0,"div",8),u._uU(1," Comment must be at least 10 characters long. "),u.qZA())}function ft(c,f){1&c&&(u.TgZ(0,"div",8),u._uU(1," Comment cannot exceed 500 characters. "),u.qZA())}function In(c,f){if(1&c&&(u.TgZ(0,"div"),u.YNc(1,tn,2,0,"div",7),u.YNc(2,Bt,2,0,"div",7),u.YNc(3,ft,2,0,"div",7),u.qZA()),2&c){const o=u.oxw();let d,m,I;u.xp6(1),u.Q6J("ngIf",null==(d=o.commentForm.get("comment"))||null==d.errors?null:d.errors.required),u.xp6(1),u.Q6J("ngIf",null==(m=o.commentForm.get("comment"))||null==m.errors?null:m.errors.minlength),u.xp6(1),u.Q6J("ngIf",null==(I=o.commentForm.get("comment"))||null==I.errors?null:I.errors.maxlength)}}let Jn=(()=>{class c{constructor(o,d,m,I,x){this.fb=o,this.commentService=d,this.userService=m,this.globalErrorHandler=I,this.timestamp=new Date,this.fullName="",this.firestore=x}ngOnInit(){this.commentForm=this.fb.group({name:[""],comment:["",[le.kI.required,le.kI.minLength(10),le.kI.maxLength(500)]],recipeId:[this.recipeId],create_time:[this.timestamp],uid:[""]}),this.userService.userData$.subscribe({next:o=>{o?(this.userData=o,this.fullName=this.userData.firstName+" "+this.userData.lastName):this.fullName="Anonymous"},error:o=>{this.globalErrorHandler.handleError(o)}})}onSubmit(){var o=this;return(0,re.Z)(function*(){if(o.timestamp=new Date,o.commentForm.valid){o.commentForm.patchValue({name:o.fullName}),o.commentForm.patchValue({recipeId:o.recipeId}),o.commentForm.patchValue({create_time:o.timestamp}),o.userData&&o.commentForm.patchValue({uid:o.userData.uid});try{(yield o.commentService.addComment(o.commentForm.value))?o.commentForm.reset():o.globalErrorHandler.handleError("Error adding comment.")}catch(d){o.globalErrorHandler.handleError(d)}}})()}static#e=this.\u0275fac=function(d){return new(d||c)(u.Y36(le.qu),u.Y36(Lt.O),u.Y36(Ie.K),u.Y36(ke.r),u.Y36(Qt.gg))};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-comment-form"]],inputs:{recipeId:"recipeId"},decls:9,vars:2,consts:[[1,"commentWrapper"],["id","commentForm",3,"formGroup","ngSubmit"],[1,"form-group"],["placeholder","Write your comment ...","id","comment","formControlName","comment",1,"header-user-search"],["type","submit",1,"header-user-action","header-user-action-btn"],[1,"fa-regular","fa-paper-plane"],[4,"ngIf"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(d,m){if(1&d&&(u.TgZ(0,"div",0)(1,"form",1),u.NdJ("ngSubmit",function(){return m.onSubmit()}),u._UZ(2,"br"),u.TgZ(3,"div",2),u._UZ(4,"input",3),u.TgZ(5,"button",4),u._UZ(6,"i",5),u.qZA()(),u.YNc(7,In,4,3,"div",6),u._UZ(8,"br"),u.qZA()()),2&d){let I;u.xp6(1),u.Q6J("formGroup",m.commentForm),u.xp6(6),u.Q6J("ngIf",null==(I=m.commentForm.get("comment"))?null:I.touched)}},dependencies:[Ce.O5,le._Y,le.Fj,le.JJ,le.JL,le.sg,le.u],styles:["form#commentForm[_ngcontent-%COMP%]{background-color:var(--backgroundColor);max-width:100%;margin-top:10px}.form-group[_ngcontent-%COMP%]{position:relative}.header-user-search[_ngcontent-%COMP%]{width:100%;padding:0 20px;height:40px;border:1px solid #c6c6c6;border-radius:20px;background:var(--mainWhiteColor);resize:none}.header-user-action[_ngcontent-%COMP%]{border-radius:50%;background:var(--mainYellowColor);width:40px;height:40px;border:unset}.header-user-action-btn[_ngcontent-%COMP%]{position:absolute;right:0;top:0;bottom:0}"]})}return c})();var cr=$(2732);function xe(c,f){1&c&&u._UZ(0,"br")}function De(c,f){1&c&&(u.TgZ(0,"div"),u._UZ(1,"br"),u.qZA())}function Xe(c,f){if(1&c&&(u.TgZ(0,"div",24),u._uU(1),u.YNc(2,De,2,0,"div",7),u.qZA()),2&c){const o=u.oxw();u.xp6(1),u.hij(" ",null==o.recipe?null:o.recipe.summary," "),u.xp6(1),u.Q6J("ngIf",!(null!=o.recipe&&o.recipe.summary))}}function mt(c,f){if(1&c){const o=u.EpF();u.TgZ(0,"span",25),u.NdJ("click",function(){u.CHM(o);const m=u.oxw();return u.KtG(m.navigateToRecipeDelete())}),u._UZ(1,"i",26),u.qZA()}}function bt(c,f){if(1&c){const o=u.EpF();u.TgZ(0,"span",25),u.NdJ("click",function(){u.CHM(o);const m=u.oxw();return u.KtG(m.navigateToRecipeEdit())}),u._UZ(1,"i",27),u.qZA()}}function kt(c,f){if(1&c&&(u.TgZ(0,"li"),u._UZ(1,"img",31),u.qZA()),2&c){const o=f.$implicit;u.xp6(1),u.Q6J("src",o.image_recipe,u.LSH)}}function Ir(c,f){if(1&c&&(u.TgZ(0,"ul",28),u.YNc(1,kt,2,1,"li",29),u.TgZ(2,"div",30),u._uU(3),u.qZA()()),2&c){const o=u.oxw();u.xp6(1),u.Q6J("ngForOf",null==o.recipe?null:o.recipe.image_recipe),u.xp6(2),u.hij(" Added by ",null==o.recipe?null:o.recipe.author," ")}}function yn(c,f){if(1&c&&(u.TgZ(0,"div"),u._UZ(1,"i",32),u._uU(2,"\xa0"),u.TgZ(3,"span",33),u._uU(4),u.qZA()()),2&c){const o=u.oxw();u.xp6(4),u.Oqu(null==o.recipe||null==o.recipe.likes?null:o.recipe.likes.length)}}function Cn(c,f){if(1&c&&(u.TgZ(0,"div"),u._UZ(1,"i",34),u._uU(2,"\xa0"),u.TgZ(3,"span",35),u._uU(4),u.qZA()()),2&c){const o=u.oxw();u.xp6(4),u.Oqu(o.comments.length)}}function Xt(c,f){1&c&&(u.ynx(0),u._UZ(1,"i",32),u.BQk())}function pn(c,f){1&c&&u._UZ(0,"i",41)}function br(c,f){if(1&c){const o=u.EpF();u.TgZ(0,"button",38),u.NdJ("click",function(){u.CHM(o);const m=u.oxw(2);return u.KtG(m.updateRecipeLikes())}),u.YNc(1,Xt,2,0,"ng-container",39),u.YNc(2,pn,1,0,"ng-template",null,40,u.W1O),u.qZA()}if(2&c){const o=u.MAs(3),d=u.oxw(2);u.xp6(1),u.Q6J("ngIf",d.userData&&d.recipe&&d.recipe.likes&&(null==d.userData?null:d.userData.uid)&&d.recipe.likes.includes(d.userData.uid))("ngIfElse",o)}}function nn(c,f){1&c&&(u.ynx(0),u._UZ(1,"i",42),u.BQk())}function Dr(c,f){1&c&&u._UZ(0,"i",43)}function Cr(c,f){if(1&c){const o=u.EpF();u.TgZ(0,"button",38),u.NdJ("click",function(){u.CHM(o);const m=u.oxw(2);return u.KtG(m.updateFavoriteRecipes())}),u.YNc(1,nn,2,0,"ng-container",39),u.YNc(2,Dr,1,0,"ng-template",null,40,u.W1O),u.qZA()}if(2&c){const o=u.MAs(3),d=u.oxw(2);u.xp6(1),u.Q6J("ngIf",d.recipe&&d.userData&&d.userData.favoriteRecipes&&d.userData.favoriteRecipes.includes(d.recipeId||""))("ngIfElse",o)}}function En(c,f){if(1&c){const o=u.EpF();u.TgZ(0,"button",38),u.NdJ("click",function(){u.CHM(o);const m=u.oxw(2);return u.KtG(m.toggleCommentForm())}),u._UZ(1,"i",44),u.qZA()}}function lr(c,f){if(1&c){const o=u.EpF();u.TgZ(0,"button",38),u.NdJ("click",function(){u.CHM(o);const m=u.oxw(2);return u.KtG(m.toggleCommentForm())}),u._UZ(1,"i",34),u.qZA()}}function Wn(c,f){if(1&c&&(u.TgZ(0,"div",36),u.YNc(1,br,4,2,"button",37),u.YNc(2,Cr,4,2,"button",37),u.YNc(3,En,2,0,"button",37),u.YNc(4,lr,2,0,"button",37),u.qZA()),2&c){const o=u.oxw();u.xp6(1),u.Q6J("ngIf",o.userData),u.xp6(1),u.Q6J("ngIf",o.userData),u.xp6(1),u.Q6J("ngIf",!o.showCommentForm),u.xp6(1),u.Q6J("ngIf",o.showCommentForm)}}function or(c,f){if(1&c&&(u.TgZ(0,"div"),u._UZ(1,"app-comment-form",45),u.qZA()),2&c){const o=u.oxw();u.xp6(1),u.Q6J("recipeId",o.recipeId)}}function Bn(c,f){1&c&&(u.TgZ(0,"div",16),u._UZ(1,"hr"),u.TgZ(2,"p"),u._uU(3,"\xa0\xa0Ingredients\xa0\xa0"),u.qZA(),u._UZ(4,"hr"),u.qZA())}function ni(c,f){if(1&c&&(u.TgZ(0,"li",48),u._uU(1),u.qZA()),2&c){const o=u.oxw().$implicit;u.xp6(1),u.lnq(" ",o.name," - ",o.amount," ",o.unit," ")}}function Zt(c,f){if(1&c&&(u.TgZ(0,"ul",46),u.YNc(1,ni,2,3,"li",47),u.qZA()),2&c){const o=u.oxw();u.xp6(1),u.Q6J("ngIf",null==o.recipe?null:o.recipe.ingredients)}}function Yi(c,f){if(1&c&&(u.TgZ(0,"li"),u._UZ(1,"iframe",50),u.ALo(2,"safeUrl"),u.qZA()),2&c){const o=f.$implicit;u.xp6(1),u.Q6J("src",u.lcZ(2,1,o.video_recipe),u.uOi)}}function Zr(c,f){if(1&c&&(u.TgZ(0,"div",49)(1,"div",16),u._UZ(2,"hr"),u.TgZ(3,"p"),u._uU(4,"\xa0\xa0Video\xa0\xa0"),u.qZA(),u._UZ(5,"hr"),u.qZA(),u._UZ(6,"br"),u.TgZ(7,"ul"),u.YNc(8,Yi,3,3,"li",29),u.qZA()()),2&c){const o=u.oxw();u.xp6(8),u.Q6J("ngForOf",null==o.recipe?null:o.recipe.video_recipe)}}function Gr(c,f){1&c&&(u.TgZ(0,"div",16),u._UZ(1,"hr"),u.TgZ(2,"p"),u._uU(3,"\xa0\xa0Comments\xa0\xa0"),u.qZA(),u._UZ(4,"hr"),u.qZA())}function at(c,f){if(1&c){const o=u.EpF();u.TgZ(0,"span",25),u.NdJ("click",function(){u.CHM(o);const m=u.oxw().$implicit,I=u.oxw(2);return u.KtG(I.deleteComment(m.id))}),u._UZ(1,"i",26),u.qZA()}}function Ne(c,f){if(1&c){const o=u.EpF();u.TgZ(0,"span",25),u.NdJ("click",function(){u.CHM(o);const m=u.oxw().$implicit,I=u.oxw(2);return u.KtG(I.navigateToCommentEdit(m.id))}),u._UZ(1,"i",27),u.qZA()}}function tt(c,f){if(1&c&&(u.TgZ(0,"ul")(1,"li",48),u._uU(2),u.qZA(),u.TgZ(3,"li"),u._uU(4),u.qZA(),u.TgZ(5,"li",52)(6,"p"),u._uU(7),u.ALo(8,"date"),u.qZA(),u.TgZ(9,"div",53),u.YNc(10,at,2,0,"span",10),u.YNc(11,Ne,2,0,"span",10),u.qZA()(),u._UZ(12,"hr",54),u.qZA()),2&c){const o=f.$implicit,d=u.oxw(2);u.xp6(2),u.Oqu(o.name),u.xp6(2),u.Oqu(o.comment),u.xp6(3),u.hij(" ",u.xi3(8,5,o.create_time.toDate(),"dd/MM/yyyy HH:mm:ss")," "),u.xp6(3),u.Q6J("ngIf",d.userData&&o.uid==d.userData.uid),u.xp6(1),u.Q6J("ngIf",d.userData&&o.uid==d.userData.uid)}}function At(c,f){if(1&c&&(u.TgZ(0,"section",51),u.YNc(1,tt,13,8,"ul",29),u.qZA()),2&c){const o=u.oxw();u.xp6(1),u.Q6J("ngForOf",o.comments)}}let zt=(()=>{class c{constructor(o,d,m,I,x,K){var oe=this;this.route=o,this.recipeService=d,this.commentService=m,this.userService=I,this.router=x,this.globalErrorHandler=K,this.recipe=null,this.recipeId="",this.comments=[],this.showCommentForm=!1,this.route.paramMap.subscribe(function(){var fe=(0,re.Z)(function*(be){oe.recipeId=be.get("id")});return function(be){return fe.apply(this,arguments)}}()),m.getCommentAddedObservable().subscribe((0,re.Z)(function*(){console.log("Comment successfully added."),yield oe.loadCommentsForRecipe()}))}loadRecipeData(){var o=this;return(0,re.Z)(function*(){if(o.recipeId)try{o.recipe=yield o.recipeService.getRecipeById(o.recipeId),o.comments=yield o.commentService.getCommentsForRecipe(o.recipeId)}catch(d){o.globalErrorHandler.handleError(d)}})()}navigateToRecipeEdit(){var o=this;return(0,re.Z)(function*(){yield o.router.navigate(["/dashboard/recipe-edit",o.recipeId])})()}navigateToRecipeDelete(){var o=this;return(0,re.Z)(function*(){yield o.router.navigate(["/dashboard/recipe-delete",o.recipeId])})()}ngOnInit(){var o=this;return(0,re.Z)(function*(){yield o.loadRecipeData(),o.userService.userData$.subscribe(d=>{d&&(o.userData=d)})})()}toggleCommentForm(){this.showCommentForm=!this.showCommentForm}navigateToCommentEdit(o){var d=this;return(0,re.Z)(function*(){yield d.router.navigate(["/dashboard/comment-edit",o])})()}deleteComment(o){var d=this;return(0,re.Z)(function*(){try{yield d.commentService.deleteComment(o),yield d.loadRecipeData()}catch(m){d.globalErrorHandler.handleError(m)}})()}updateRecipeLikes(){var o=this;return(0,re.Z)(function*(){if(!o.recipe)return void o.globalErrorHandler.handleError("Recipe data is missing.");if(!o.userData)return void o.globalErrorHandler.handleError("User is not logged in.");let d=o.recipe.likes.includes(o.userData.uid);yield o.recipeService.updateRecipeLikes(o.recipeId,o.userData.uid,d),yield o.loadRecipeData()})()}updateFavoriteRecipes(){var o=this;return(0,re.Z)(function*(){if(o.recipe){if(o.userData&&o.recipeId){let d=o.userData.favoriteRecipes.includes(o.recipeId);yield o.userService.updateFavoriteRecipes(o.recipeId,o.userData.uid,d),yield o.loadRecipeData()}}else o.globalErrorHandler.handleError("Recipe data is missing.")})()}loadCommentsForRecipe(){var o=this;return(0,re.Z)(function*(){o.recipeId&&(o.comments=yield o.commentService.getCommentsForRecipe(o.recipeId))})()}static#e=this.\u0275fac=function(d){return new(d||c)(u.Y36(X.gz),u.Y36(Ue.j),u.Y36(Lt.O),u.Y36(Ie.K),u.Y36(X.F0),u.Y36(ke.r))};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-recipe"]],decls:40,vars:17,consts:[[1,"mainLong"],[1,"headerImage"],[1,"wrapper-list"],["data-aos","fade-up","data-aos-duration","3000",1,"recipe-container"],[1,"title-wrapper"],[1,"title"],[1,"recipe-subtitle"],[4,"ngIf"],["class","recipe-summary",4,"ngIf"],[1,"commentBtnWrapper",2,"justify-content","flex-end"],["class","button-img",3,"click",4,"ngIf"],[1,"recipe-hero"],["class","recipe-image",4,"ngIf"],[1,"recipe-info"],["class","buttons-grid",4,"ngIf"],["data-aos","fade-up","data-aos-duration","3000",1,"description-wrapper"],[1,"divider"],[1,"recipe-description-text","description",2,"color","var(--mainGreyColor)"],["data-aos","fade-up","data-aos-duration","3000",1,"ingredients-wrapper"],["class","divider",4,"ngIf"],["class","recipe-ingredients",4,"ngFor","ngForOf"],["class","recipe-videos",4,"ngIf"],["data-aos","fade-up","data-aos-duration","3000",1,"comments-wrapper"],["class","comments",4,"ngIf"],[1,"recipe-summary"],[1,"button-img",3,"click"],[1,"fa-solid","fa-trash"],[1,"fa-regular","fa-pen-to-square"],[1,"recipe-image"],[4,"ngFor","ngForOf"],[2,"font-size","12px","color","var(--mainGreyColor)"],["alt","Image of a recipe","data-aos","fade-up",3,"src"],[1,"fa-solid","fa-thumbs-up"],[1,"badge","rounded-pill","text-bg-success"],[1,"fa-solid","fa-comment",2,"color","var(--mainYellowColor)"],[1,"badge","rounded-pill","text-bg-warning"],[1,"buttons-grid"],["class","",3,"click",4,"ngIf"],[1,"",3,"click"],[4,"ngIf","ngIfElse"],["notLiked",""],[1,"fa-regular","fa-thumbs-up"],[1,"fa-solid","fa-heart",2,"color","var(--mainRedColor)"],[1,"fa-regular","fa-heart",2,"color","var(--mainRedColor)"],[1,"fa-regular","fa-comment",2,"color","var(--mainYellowColor)"],[3,"recipeId"],[1,"recipe-ingredients"],["style","color: var(--mainGreyColor)",4,"ngIf"],[2,"color","var(--mainGreyColor)"],[1,"recipe-videos"],["width","560","height","315","allowfullscreen","",3,"src"],[1,"comments"],[1,"comments-last"],[1,"commentBtnWrapper"],[1,"hr"]],template:function(d,m){1&d&&(u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"div",3)(4,"div")(5,"div",4)(6,"h1",5),u._uU(7),u.qZA()(),u.TgZ(8,"h3",6),u._uU(9),u.qZA(),u.YNc(10,xe,1,0,"br",7),u.YNc(11,Xe,3,2,"div",8),u.TgZ(12,"div",9),u.YNc(13,mt,2,0,"span",10),u.YNc(14,bt,2,0,"span",10),u.qZA()(),u.TgZ(15,"div",11),u.YNc(16,Ir,4,2,"ul",12),u.TgZ(17,"div",13),u.YNc(18,yn,5,1,"div",7),u.YNc(19,Cn,5,1,"div",7),u.qZA(),u.YNc(20,Wn,5,4,"div",14),u.YNc(21,or,2,1,"div",7),u.TgZ(22,"div",15)(23,"div",16),u._UZ(24,"hr"),u.TgZ(25,"p"),u._uU(26,"\xa0\xa0Description\xa0\xa0"),u.qZA(),u._UZ(27,"hr"),u.qZA(),u._UZ(28,"br"),u.TgZ(29,"p",17),u._uU(30),u.qZA(),u._UZ(31,"br"),u.qZA(),u.TgZ(32,"div",18),u.YNc(33,Bn,5,0,"div",19),u._UZ(34,"br"),u.YNc(35,Zt,2,1,"ul",20),u.qZA(),u.YNc(36,Zr,9,1,"div",21),u.TgZ(37,"div",22),u.YNc(38,Gr,5,0,"div",19),u.YNc(39,At,2,1,"section",23),u.qZA()()()()()),2&d&&(u.xp6(7),u.Oqu(null==m.recipe?null:m.recipe.title),u.xp6(2),u.Oqu(null==m.recipe?null:m.recipe.subtitle),u.xp6(1),u.Q6J("ngIf",!(null!=m.recipe&&m.recipe.summary)),u.xp6(1),u.Q6J("ngIf",null==m.recipe?null:m.recipe.summary),u.xp6(2),u.Q6J("ngIf",m.userData&&m.userData.uid==(null==m.recipe?null:m.recipe.uid)),u.xp6(1),u.Q6J("ngIf",m.userData&&m.userData.uid==(null==m.recipe?null:m.recipe.uid)),u.xp6(2),u.Q6J("ngIf",(null==m.recipe?null:m.recipe.image_recipe)&&(null==m.recipe||null==m.recipe.image_recipe?null:m.recipe.image_recipe.length)>0),u.xp6(2),u.Q6J("ngIf",(null==m.recipe||null==m.recipe.likes?null:m.recipe.likes.length)>0),u.xp6(1),u.Q6J("ngIf",m.comments&&m.comments.length>0),u.xp6(1),u.Q6J("ngIf",m.userData),u.xp6(1),u.Q6J("ngIf",m.showCommentForm),u.xp6(9),u.hij("",null==m.recipe?null:m.recipe.description," "),u.xp6(3),u.Q6J("ngIf",null==m.recipe?null:m.recipe.ingredients),u.xp6(2),u.Q6J("ngForOf",null==m.recipe?null:m.recipe.ingredients),u.xp6(1),u.Q6J("ngIf",(null==m.recipe?null:m.recipe.video_recipe)&&(null==m.recipe||null==m.recipe.video_recipe?null:m.recipe.video_recipe.length)>0),u.xp6(2),u.Q6J("ngIf",m.comments.length>0),u.xp6(1),u.Q6J("ngIf",m.comments.length>0))},dependencies:[Ce.sg,Ce.O5,Jn,Ce.uU,cr.Q],styles:[".recipe-container[_ngcontent-%COMP%]{background-color:var(--backgroundColor);max-width:800px;margin:-50px auto 50px;padding:32px;box-shadow:0 1px 3px #0000004d}.title[_ngcontent-%COMP%]{font-size:28px}.recipe-subtitle[_ngcontent-%COMP%]{font-size:14px;margin-top:-10px;color:var(--mainGreyColor);font-style:italic;white-space:pre-wrap}.recipe-summary[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;text-align:center;font-style:italic;white-space:pre-wrap}.recipe-hero[_ngcontent-%COMP%]{grid-template-columns:70% 30%;gap:20px}ul.recipe-image[_ngcontent-%COMP%]{padding-left:unset}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;margin-bottom:10px}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:5px}.recipe-description-text[_ngcontent-%COMP%]{font-size:16px;white-space:pre-wrap}.recipe-ingredients[_ngcontent-%COMP%]{padding:0 16px}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;list-style-type:disc}.recipe-videos[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-top:20px}.recipe-videos[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;max-width:800px;height:450px}.recipe-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:10px;padding:0 10px}.buttons-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);border-radius:8px;box-shadow:0 1px 3px #0000004d;overflow:hidden}.buttons-grid[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:unset;background-color:var(--backgroundColor);transition:.5s ease-in-out}.buttons-grid[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--mainMagnoliaColor)}.buttons-grid[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{background-color:var(--backgroundColor)}.buttons-grid[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--textColor)}.like-wrapper[_ngcontent-%COMP%]{display:flex;gap:20px;align-items:baseline}.comments[_ngcontent-%COMP%]{border:1px solid var(--mainMagnoliaColor);margin:30px 0;padding:20px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:10px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px;padding-left:5px}.comments[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--mainGreyColor)}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(odd){background-color:var(--backgroundColor);padding-left:5px;border-radius:5px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(2n){background-color:var(--mainMagnoliaColor);font-style:italic;border-radius:5px}.comments-last[_ngcontent-%COMP%]{display:flex;justify-content:space-between}@media (max-width: 640px){.buttons-img[_ngcontent-%COMP%]{flex-direction:column-reverse}.buttons[_ngcontent-%COMP%]{display:flex;padding:unset;width:100%;justify-content:space-around;align-items:stretch;gap:10px}.like-wrapper[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:space-between}}"]})}return c})();function Kt(c,f){1&c&&(u.TgZ(0,"div")(1,"main",2),u._UZ(2,"div",3),u.TgZ(3,"div",4)(4,"div",5)(5,"div",6)(6,"h1",7),u._uU(7," We're sorry, but we couldn't find the result you're looking for! "),u.qZA()()()()()())}const qn=function(c){return["/recipe",c]};function J(c,f){if(1&c&&(u.TgZ(0,"div")(1,"a",12)(2,"div",13)(3,"div",14),u._UZ(4,"img",15),u.qZA(),u.TgZ(5,"p",16),u._uU(6),u.qZA()()()()),2&c){const o=f.$implicit;u.xp6(1),u.Q6J("routerLink",u.VKq(4,qn,o.id)),u.xp6(3),u.s9C("alt",o.title),u.Q6J("src",o.image_recipe[0].image_recipe,u.LSH),u.xp6(2),u.Oqu(o.title)}}function B(c,f){if(1&c&&(u.TgZ(0,"main",8),u._UZ(1,"div",3),u.TgZ(2,"div",9)(3,"div",6)(4,"h1",7),u._uU(5,"Result"),u.qZA()(),u.TgZ(6,"div",10),u.YNc(7,J,7,6,"div",11),u.qZA()()()),2&c){const o=u.oxw();u.xp6(7),u.Q6J("ngForOf",o.recipes)}}let j=(()=>{class c{constructor(o,d){this.recipeService=o,this.route=d,this.recipes=[],this.result=!1}ngOnInit(){this.route.queryParams.subscribe(o=>{const d=o.search;d&&this.searchRecipesByTitle(d)})}searchRecipesByTitle(o){var d=this;return(0,re.Z)(function*(){const{data:m}=yield d.recipeService.searchRecipesByTitle(o);m.length>0?(d.recipes.push(...m),d.result=!0):d.result=!1})()}static#e=this.\u0275fac=function(d){return new(d||c)(u.Y36(Ue.j),u.Y36(X.gz))};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-recipe-search"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["recipesList",""],[1,"main-short"],[1,"headerImage"],["data-aos","fade-up","data-aos-duration","3000",1,"wrapper"],[1,"empty"],[1,"title-wrapper"],[1,"title"],[1,"main-long"],["data-aos","fade-up","data-aos-duration","3000",1,"wrapper-list"],[1,"recipe-list"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"recipe-item"],[1,"recipe-image"],[3,"src","alt"],[1,"recipe-title"]],template:function(d,m){if(1&d&&(u.YNc(0,Kt,8,0,"div",0),u.YNc(1,B,8,1,"ng-template",null,1,u.W1O)),2&d){const I=u.MAs(2);u.Q6J("ngIf",!m.result)("ngIfElse",I)}},dependencies:[Ce.sg,Ce.O5,X.rH],styles:[".wrapper-list[_ngcontent-%COMP%]{margin:-50px auto 50px;max-width:1200px;background-color:var(--backgroundColor);box-shadow:0 1px 3px #0000004d;padding:32px}.title-wrapper[_ngcontent-%COMP%]{margin-left:10px}.recipe-list[_ngcontent-%COMP%]{position:relative;display:grid;grid-template-columns:repeat(4,1fr);row-gap:20px;margin-bottom:50px}.recipe-item[_ngcontent-%COMP%]{margin:5px;position:relative}.recipe-image[_ngcontent-%COMP%]{padding:5px;position:relative;transition:transform 1s ease-in-out}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;width:100%;object-fit:fill}.recipe-item[_ngcontent-%COMP%]:hover   .recipe-image[_ngcontent-%COMP%]{transform:translateY(12%)}@media only screen and (max-width: 460px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 20px 50px;padding:16px}.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 461px) and (max-width: 767px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 768px) and (max-width: 1023px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);column-gap:10px;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}@media (min-width: 1024px) and (max-width: 1440px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);column-gap:10px;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}"]})}return c})();const q=(c,f)=>{const o=(0,u.f3M)(Ie.K),d=(0,u.f3M)(X.F0);return o.userData$.pipe((0,ae.U)(m=>!m||(d.navigate(["/recipes-list"]),!1)))};let z=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-about-us"]],decls:22,vars:0,consts:[[1,"main-long"],[1,"headerImage"],[1,"wrapper"],[1,"form-wrapper"],[1,"title-wrapper"],[1,"title-form"],[2,"color","var(--mainGreyColor)"]],template:function(d,m){1&d&&(u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),u._uU(6,"About Us"),u.qZA()(),u.TgZ(7,"div",6)(8,"p"),u._uU(9,"Welcome to our Healing Herbal Recipe Community!"),u.qZA(),u.TgZ(10,"p"),u._uU(11," Hello and welcome to our cozy corner dedicated to the power of herbs for health and well-being! We are passionate enthusiasts of herbal healing recipes and have decided to create this space where people from all over the world can come together to share their knowledge, experience, and love for herbal remedies. "),u.qZA(),u.TgZ(12,"p"),u._uU(13," We believe in the healing power of nature and strive to provide our users with a wealth of resources and inspiring ideas to improve their health and well-being. Our mission is to create a space where people can find recipes and support from the community to feel healthier and stronger. "),u.qZA(),u.TgZ(14,"p"),u._uU(15," Join us today and become part of our Healing Herbal Recipe Community! Together, we can achieve good heath and well-being through the power of nature and community. "),u.qZA(),u.TgZ(16,"p"),u._uU(17," Thank you for choosing to be part of our journey towards health and harmony! "),u.qZA(),u.TgZ(18,"p"),u._uU(19,"With love and gratitude,"),u.qZA(),u.TgZ(20,"p"),u._uU(21,"The Natural Way Team"),u.qZA()()()()())}})}return c})(),Te=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-privacy-policy"]],decls:46,vars:0,consts:[[1,"main-long"],[1,"headerImage"],[1,"wrapper"],[1,"form-wrapper"],[1,"title-wrapper"],[1,"title-form"],[2,"color","var(--mainGreyColor)"],[2,"font-style","italic"],["routerLink","/contact"]],template:function(d,m){1&d&&(u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),u._uU(6,"Privacy Policy"),u.qZA()(),u.TgZ(7,"div",6)(8,"p",7),u._uU(9,"Last updated: 29.03.2024"),u.qZA(),u.TgZ(10,"p"),u._uU(11,' Welcome to the Privacy Policy of "The Natural Way". Our Privacy Policy explains how we collect, use, and disclose the personal information we receive from visitors to our Website. '),u.qZA(),u.TgZ(12,"h5"),u._uU(13,"1. Collection of Information"),u.qZA(),u.TgZ(14,"p"),u._uU(15," When you visit the Website, we may collect certain information from and about you. This information may include, but is not limited to: "),u.TgZ(16,"span",7),u._uU(17," Personal data such as names, email addresses, mailing addresses, etc., that you voluntarily provide to us through contact forms or account registration. Information about your computer, including IP address, browser type, operating system, and similar data for trend analysis, Website management, and protection against abuse. "),u.qZA()(),u.TgZ(18,"h5"),u._uU(19,"2. Use of Information"),u.qZA(),u.TgZ(20,"p"),u._uU(21," We use the collected information to provide and improve the Website, interact with users, analyze trends, and provide personalized content and advertisements. "),u.qZA(),u.TgZ(22,"h5"),u._uU(23,"3. Disclosure of Information"),u.qZA(),u.TgZ(24,"p"),u._uU(25," We may disclose personal information to our partners, service providers, and other third parties when necessary to provide services and perform tasks related to Website management. "),u.qZA(),u.TgZ(26,"h5"),u._uU(27,"4. Cookies and Similar Technologies"),u.qZA(),u.TgZ(28,"p"),u._uU(29," Our Cookie Policy explains how we use cookies and similar technologies that may be used on our Website. "),u.qZA(),u.TgZ(30,"h5"),u._uU(31,"5. Changes to the Privacy Policy"),u.qZA(),u.TgZ(32,"p"),u._uU(33," We may update this Privacy Policy from time to time. Any changes to this Privacy Policy will be posted on this page. "),u.qZA(),u.TgZ(34,"h5"),u._uU(35,"6. Linked Services and Websites"),u.qZA(),u.TgZ(36,"p"),u._uU(37," The Website may contain links to other websites and services that are not under our control. We are not responsible for the content and practices of these websites, and we encourage you to review the privacy policies of each website you visit. "),u.qZA(),u.TgZ(38,"h5"),u._uU(39,"7. Contact Information"),u.qZA(),u.TgZ(40,"p"),u._uU(41," For additional information regarding our Privacy Policy, please contact us at "),u.TgZ(42,"span")(43,"a",8),u._uU(44,"Contact Us"),u.qZA(),u._uU(45," page. "),u.qZA()()()()()())},dependencies:[X.rH]})}return c})(),Je=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-contact-us"]],decls:28,vars:0,consts:[[1,"main-short"],[1,"headerImage"],[1,"wrapper"],[1,"form-wrapper"],[1,"title-wrapper"],[1,"title-form"],[2,"color","var(--mainGreyColor)"],["href","mailto:andon.ov@yahoo.com"],[1,"hr"]],template:function(d,m){1&d&&(u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),u._uU(6,"Contact Us"),u.qZA()(),u.TgZ(7,"div",6)(8,"p"),u._uU(9," For any inquiries or questions, please feel free to contact us. We're here to help! "),u.qZA(),u.TgZ(10,"div")(11,"p")(12,"strong"),u._uU(13,"Address:"),u.qZA(),u._uU(14," San Stefano , Burgas, Bulgaria"),u.qZA(),u.TgZ(15,"p")(16,"strong"),u._uU(17,"Phone:"),u.qZA(),u._uU(18," +359 885 996789"),u.qZA(),u.TgZ(19,"p")(20,"strong"),u._uU(21,"Email:"),u.qZA(),u.TgZ(22,"a",7),u._uU(23," Andon.ov@yahoo.com"),u.qZA()()(),u._UZ(24,"hr",8),u.TgZ(25,"div")(26,"p"),u._uU(27," This project was developed to meet the requirements of the Angular Project Assignment within the 'Angular - February 2024' course at SoftUni. "),u.qZA()()()()()())}})}return c})(),Dt=(()=>{class c{constructor(o){this.userService=o}static#e=this.\u0275fac=function(d){return new(d||c)(u.Y36(Ie.K))};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-forgot-password"]],decls:19,vars:0,consts:[[1,"main-short"],[1,"headerImage"],[1,"wrapper"],["data-aos","fade-up","data-aos-duration","3000",1,"form-wrapper"],[1,"title-wrapper",2,"flex-direction","column"],[1,"title"],[1,"hint"],[1,"formGroup"],["type","email","placeholder","Email","required","",1,"formControl"],["passwordResetEmail",""],[1,"errors"],[1,"buttons"],["type","submit","value","Send email",1,"button",3,"click"],["href","#","routerLink","/login"]],template:function(d,m){if(1&d){const I=u.EpF();u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),u._uU(6,"Forgotten password"),u.qZA()(),u.TgZ(7,"p",6),u._uU(8," Please enter your email address so we can send you a password reset email. "),u.qZA(),u.TgZ(9,"div",7),u._UZ(10,"input",8,9),u.qZA(),u.TgZ(12,"p",10),u._uU(13," If you can't find the email, please check your spam folder! "),u.qZA(),u.TgZ(14,"div",11)(15,"input",12),u.NdJ("click",function(){u.CHM(I);const K=u.MAs(11);return u.KtG(m.userService.forgotPassword(K.value))}),u.qZA(),u.TgZ(16,"a",13)(17,"div",6),u._uU(18,"Return to Login"),u.qZA()()()()()()}},dependencies:[X.rH],styles:[".form-wrapper[_ngcontent-%COMP%]{max-width:600px;margin:-50px auto 50px;padding:32px;background-color:var(--backgroundColor);border-radius:unset;box-shadow:0 1px 3px #0000004d}.buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.wrapper[_ngcontent-%COMP%]{padding:0 5%;max-width:600px;margin:0 auto}"]})}return c})(),dn=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-page-not-found"]],decls:12,vars:0,consts:[[1,"main-short"],[1,"headerImage"],["data-aos","fade-up","data-aos-duration","3000",1,"wrapper"],[1,"empty"],[1,"title-wrapper"],[1,"title"],[1,"emptyInfo"],["routerLink","/","href","",1,"btn","btn-success",2,"background-color","var(--textColor)","border","unset"]],template:function(d,m){1&d&&(u.TgZ(0,"main",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),u._uU(6,"Page not Found!"),u.qZA()(),u.TgZ(7,"div",6)(8,"p"),u._uU(9," We're sorry, but the page you're looking for cannot be found. \xa0\xa0 "),u.qZA(),u.TgZ(10,"a",7),u._uU(11,"Back to Home"),u.qZA()()()()())},dependencies:[X.rH]})}return c})(),hn=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-carousel"]],decls:26,vars:0,consts:[["id","carouselExampleAutoplaying","data-bs-ride","carousel",1,"carousel","slide"],[1,"info"],["data-aos","fade-down","data-aos-duration","3000",1,"carousel-title"],["data-aos","fade-left","data-aos-duration","3000",1,"subtitle"],["routerLink","/recipes-list","data-aos","fade-up","data-aos-duration","3000",1,"infoBtn"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","https://images.pexels.com/photos/1638280/pexels-photo-1638280.jpeg","alt","carousel-img",1,"carousel-img","d-block","w-100"],[1,"carousel-item"],["src","https://imgix-prod.sgs.com/-/media/sgscorp/images/connectivity-and-products/aromatics-pexels.cdn.en-MU.1.jpg","alt","carousel-img",1,"carousel-img","d-block","w-100"],["src","https://www.aveeno.com/sites/aveeno_us_2/files/healingherbswithmortaran_687349.jpg","alt","carousel-img",1,"carousel-img","d-block","w-100"],["src","https://www.sunrider.co.in/wp-content/uploads/2021/07/banner-1.png","alt","carousel-img",1,"carousel-img","d-block","w-100"],["type","button","data-bs-target","#carouselExampleAutoplaying","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleAutoplaying","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(d,m){1&d&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2),u._uU(3," Welcome! "),u.qZA(),u.TgZ(4,"div",3),u._uU(5," Explore our curated herbal recipes for vitality and well-being. Register to save favorites, comment, and like recipes. Join us and contribute your own recipes for a community dedicated to herbal remedies! "),u.qZA(),u.TgZ(6,"a",4),u._uU(7,"Recipes"),u.qZA()(),u.TgZ(8,"div",5)(9,"div",6),u._UZ(10,"img",7),u.qZA(),u.TgZ(11,"div",8),u._UZ(12,"img",9),u.qZA(),u.TgZ(13,"div",8),u._UZ(14,"img",10),u.qZA(),u.TgZ(15,"div",8),u._UZ(16,"img",11),u.qZA()(),u.TgZ(17,"button",12),u._UZ(18,"span",13),u.TgZ(19,"span",14),u._uU(20,"Previous"),u.qZA()(),u.TgZ(21,"button",15),u._UZ(22,"span",16),u.TgZ(23,"span",14),u._uU(24,"Next"),u.qZA()()(),u._UZ(25,"div",0))},dependencies:[X.rH],styles:[".carousel[_ngcontent-%COMP%]{border-radius:16px;overflow:hidden}.carousel-img[_ngcontent-%COMP%]{height:80vh;object-fit:cover;object-position:center}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{z-index:9}.overlay[_ngcontent-%COMP%]{position:absolute;inset:0 50% 0 0;background-color:var(--mainRGBAColor);z-index:9}.info[_ngcontent-%COMP%]{z-index:10;position:absolute;display:flex;flex-direction:column;text-align:left;padding:50px;justify-content:center;align-items:flex-start;max-width:500px;max-height:500px;margin:32px;border-radius:16px;background-color:var(--mainRGBAColor)}.carousel-title[_ngcontent-%COMP%]{font-size:30px;padding-bottom:20px;font-weight:900;text-align:left;box-shadow:unset}.subtitle[_ngcontent-%COMP%]{font-size:18px;font-weight:400;margin-bottom:25px}.infoBtn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;text-align:center;background:var(--backgroundColor);color:var(--textColor);border-radius:24px;padding:0 25px;font-weight:700;font-size:17px;height:48px;transition:.3s ease-in-out}.infoBtn[_ngcontent-%COMP%]:hover{cursor:pointer;transform:scale(1.1)}@media (max-width: 460px){.carousel[_ngcontent-%COMP%]{border-radius:0;height:93vh}.carousel-img[_ngcontent-%COMP%]{height:97vh}.info[_ngcontent-%COMP%]{inset:0;color:var(--mainWhiteColor);justify-content:center;max-width:unset;max-height:unset;margin:unset;padding:16px;border-radius:unset}.subtitle[_ngcontent-%COMP%]{max-width:100%}}@media (min-width: 461px) and (max-width: 767px){.info[_ngcontent-%COMP%]{position:absolute;inset:0;color:var(--mainWhiteColor);max-width:unset;max-height:unset;margin:unset}}"]})}return c})();const Yt=[{path:"",pathMatch:"full",component:(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-hero"]],decls:3,vars:0,consts:[[1,"main-long"],[1,"hero"]],template:function(d,m){1&d&&(u.TgZ(0,"main",0)(1,"section",1),u._UZ(2,"app-carousel"),u.qZA()())},dependencies:[hn],styles:[".hero[_ngcontent-%COMP%]{padding:50px;height:93vh;color:var(--mainWhiteColor)}@media (max-width: 460px){.hero[_ngcontent-%COMP%]{padding:unset}}"]})}return c})()},{path:"register",component:Le,canActivate:[q]},{path:"login",component:tr,canActivate:[q]},{path:"forgot-password",component:Dt},{path:"recipes-list",component:St},{path:"recipe-search",component:j},{path:"recipe/:id",component:zt},{path:"about",component:z},{path:"privacy-policy",component:Te},{path:"contact",component:Je},{path:"dashboard",loadChildren:()=>$.e(691).then($.bind($,7691)).then(c=>c.PrivateModule),canActivate:[(c,f)=>{const o=(0,u.f3M)(Ie.K),d=(0,u.f3M)(X.F0),m=(0,u.f3M)(ke.r);return o.userData$.pipe((0,ye.w)(I=>(0,he.of)(!!I&&I.isActive)),(0,ae.U)(I=>!!I||(m.handleError("Unauthorized Access:\n          \n Please ensure you have appropriate permissions to view this content."),d.createUrlTree(["/login"],{queryParams:{returnUrl:f.url}}))))}]},{path:"**",component:dn}];let Fn=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({imports:[X.Bz.forRoot(Yt,{useHash:!0}),X.Bz]})}return c})();var Kr=$(9402);let nr=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-footer"]],decls:24,vars:0,consts:[[1,"footer"],[1,"footer-main"],[1,"footer-links"],["routerLink","/about"],["routerLink","/contact"],["routerLink","/privacy-policy"],[1,"social-icons"],["href","https://github.com/andon-ov","target","_blank"],[1,"fa-brands","fa-github"],["href","https://linkedin.com/in/andon-ov","target","_blank"],[1,"fa-brands","fa-linkedin"],[1,"copyright"],[1,"projectInfo"],["target","_blank","href","https://softuni.bg/"]],template:function(d,m){1&d&&(u.TgZ(0,"footer",0)(1,"div",1)(2,"div",2)(3,"a",3),u._uU(4,"About Us"),u.qZA(),u._uU(5," | "),u.TgZ(6,"a",4),u._uU(7,"Contact Us"),u.qZA(),u._uU(8," | "),u.TgZ(9,"a",5),u._uU(10,"Privacy Policy"),u.qZA()(),u.TgZ(11,"div",6)(12,"a",7),u._UZ(13,"i",8),u.qZA(),u.TgZ(14,"a",9),u._UZ(15,"i",10),u.qZA()()(),u.TgZ(16,"div",11)(17,"div",12),u._uU(18," This project was developed to meet the requirements of the Angular Project Assignment within the 'Angular - February 2024' course at "),u.TgZ(19,"a",13),u._uU(20,"SoftUni"),u.qZA(),u._uU(21,". "),u.qZA(),u.TgZ(22,"span"),u._uU(23," \xa9 2024 The Natural Way. All Rights Reserved. "),u.qZA()()())},dependencies:[X.rH],styles:[".footer[_ngcontent-%COMP%]{background-color:var(--aliceBlueColor);color:#333;font-size:14px;text-align:center}.footer-main[_ngcontent-%COMP%]{background-color:var(--mainGreyColor);color:var(--mainWhiteColor);padding:20px}.footer-links[_ngcontent-%COMP%]{padding:20px 0;text-align:center}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainWhiteColor);text-decoration:none;margin:0 10px}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--mainBlackColor)}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--backgroundColor);text-decoration:none;margin:0 10px;font-size:22px}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{transform:scale(1.3);transition:.3s ease-in-out}.copyright[_ngcontent-%COMP%]{padding:20px;font-size:12px;color:#999}.projectInfo[_ngcontent-%COMP%]{margin-bottom:10px}"]})}return c})();var fs=$(5619);class Bo{}class ss{}const os="*";function Ha(c,f){return{type:7,name:c,definitions:f,options:{}}}function Ls(c,f=null){return{type:4,styles:f,timings:c}}function po(c,f=null){return{type:2,steps:c,options:f}}function Vi(c){return{type:6,styles:c,offset:null}}function Hi(c,f,o){return{type:0,name:c,styles:f,options:o}}function go(c,f,o=null){return{type:1,expr:c,animation:f,options:o}}class Yr{constructor(f=0,o=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=f+o}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(f=>f()),this._onDoneFns=[])}onStart(f){this._originalOnStartFns.push(f),this._onStartFns.push(f)}onDone(f){this._originalOnDoneFns.push(f),this._onDoneFns.push(f)}onDestroy(f){this._onDestroyFns.push(f)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(f=>f()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(f=>f()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(f){this._position=this.totalTime?f*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(f){const o="start"==f?this._onStartFns:this._onDoneFns;o.forEach(d=>d()),o.length=0}}class Us{constructor(f){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=f;let o=0,d=0,m=0;const I=this.players.length;0==I?queueMicrotask(()=>this._onFinish()):this.players.forEach(x=>{x.onDone(()=>{++o==I&&this._onFinish()}),x.onDestroy(()=>{++d==I&&this._onDestroy()}),x.onStart(()=>{++m==I&&this._onStart()})}),this.totalTime=this.players.reduce((x,K)=>Math.max(x,K.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(f=>f()),this._onDoneFns=[])}init(){this.players.forEach(f=>f.init())}onStart(f){this._onStartFns.push(f)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(f=>f()),this._onStartFns=[])}onDone(f){this._onDoneFns.push(f)}onDestroy(f){this._onDestroyFns.push(f)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(f=>f.play())}pause(){this.players.forEach(f=>f.pause())}restart(){this.players.forEach(f=>f.restart())}finish(){this._onFinish(),this.players.forEach(f=>f.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(f=>f.destroy()),this._onDestroyFns.forEach(f=>f()),this._onDestroyFns=[])}reset(){this.players.forEach(f=>f.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(f){const o=f*this.totalTime;this.players.forEach(d=>{const m=d.totalTime?Math.min(1,o/d.totalTime):1;d.setPosition(m)})}getPosition(){const f=this.players.reduce((o,d)=>null===o||d.totalTime>o.totalTime?d:o,null);return null!=f?f.getPosition():0}beforeDestroy(){this.players.forEach(f=>{f.beforeDestroy&&f.beforeDestroy()})}triggerCallback(f){const o="start"==f?this._onStartFns:this._onDoneFns;o.forEach(d=>d()),o.length=0}}let Qo=(()=>{class c{constructor(o,d){this.el=o,this.renderer=d}ngOnInit(){this.checkWidth()}onResize(){this.checkWidth()}checkWidth(){window.innerWidth<992?(this.renderer.addClass(this.el.nativeElement,"button"),this.renderer.addClass(this.el.nativeElement,"nav-btn"),this.renderer.addClass(this.el.nativeElement,"nav-link"),this.renderer.removeClass(this.el.nativeElement,"navigation")):(this.renderer.removeClass(this.el.nativeElement,"button"),this.renderer.removeClass(this.el.nativeElement,"nav-link"),this.renderer.removeClass(this.el.nativeElement,"nav-btn"),this.renderer.addClass(this.el.nativeElement,"navigation"))}static#e=this.\u0275fac=function(d){return new(d||c)(u.Y36(u.SBq),u.Y36(u.Qsj))};static#t=this.\u0275dir=u.lG2({type:c,selectors:[["","appResponsiveClass",""]],hostBindings:function(d,m){1&d&&u.NdJ("resize",function(){return m.onResize()},!1,u.Jf7)}})}return c})();function mo(c,f){1&c&&(u.TgZ(0,"li",26)(1,"a",20),u._UZ(2,"i",27),u.qZA(),u.TgZ(3,"ul",21)(4,"li")(5,"a",28),u._uU(6,"Register"),u.qZA()(),u.TgZ(7,"li")(8,"a",29),u._uU(9,"Login"),u.qZA()()()())}function _a(c,f){if(1&c){const o=u.EpF();u.TgZ(0,"li",26)(1,"a",20)(2,"span"),u._uU(3),u.qZA()(),u.TgZ(4,"ul",21)(5,"li")(6,"a",30),u._uU(7,"My recipes"),u.qZA()(),u.TgZ(8,"li")(9,"a",31),u._uU(10,"Create recipe"),u.qZA()(),u.TgZ(11,"li")(12,"a",32),u._uU(13,"Favorite recipes"),u.qZA()(),u.TgZ(14,"li")(15,"a",33),u._uU(16,"My comments"),u.qZA()(),u.TgZ(17,"li")(18,"a",34),u._uU(19,"Profile"),u.qZA()(),u._UZ(20,"hr",35),u.TgZ(21,"li")(22,"a",36),u.NdJ("click",function(){u.CHM(o);const m=u.oxw();return u.KtG(m.logout())}),u._uU(23,"Logout"),u.qZA()()()()}if(2&c){const o=u.oxw();u.xp6(3),u.Oqu(o.getUserDisplayName())}}let yi=(()=>{class c{constructor(o,d,m,I,x,K){this.userService=o,this.router=d,this.fb=m,this.elementRef=I,this.formErrorCheckService=x,this.globalErrorHandler=K,this.state="normal",this.searchForm=this.fb.group({search:[""]}),this.isMenuOpen=!1,this.userDataSubject=new fs.X(null),this.userDataSubscription=this.userDataSubject.subscribe(oe=>{this.userData=oe})}onMouseOver(){this.state="hovered"}onMouseOut(){this.state="normal"}ngOnInit(){this.userService.userData$.subscribe({next:o=>{o?(this.userDataSubject.next(o),console.log("You have a user!",o)):(this.userDataSubject.next(null),console.log("You have no user!"))},error:o=>{this.globalErrorHandler.handleError(o)}}),this.router.events.subscribe(o=>{if(o instanceof X.m2){const d=this.elementRef.nativeElement.querySelector("#navbarScroll");d&&d.classList.remove("show")}})}onSubmit(){var o=this;return(0,re.Z)(function*(){if(o.searchForm.valid){let d=o.searchForm.value;d&&d.search?(yield o.router.navigate(["/recipe-search"],{queryParams:{search:d.search.trim()}}),o.searchForm.reset()):o.globalErrorHandler.handleError("Query search value is null or undefined.")}else{const d=o.formErrorCheckService.getFormGroupErrors(o.searchForm);o.globalErrorHandler.handleError(d)}})()}ngOnDestroy(){this.userDataSubscription&&this.userDataSubscription.unsubscribe()}logout(){var o=this;return(0,re.Z)(function*(){yield o.userService.logoutUser()})()}getUserDisplayName(){return this.userData?this.userData.lastName:"Anonymous"}static#e=this.\u0275fac=function(d){return new(d||c)(u.Y36(Ie.K),u.Y36(X.F0),u.Y36(le.qu),u.Y36(u.SBq),u.Y36(Se.l),u.Y36(ke.r))};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-header"]],decls:34,vars:4,consts:[["data-aos","fade-left","data-aos-duration","3000",1,"navbar","navbar-dark","navbar-expand-lg"],[1,"container-fluid"],[1,"header-wrapper"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarScroll","aria-controls","navbarScroll","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","hamburger",3,"mouseover","mouseout"],[1,"fa-solid","fa-bars"],["href","#","data-aos","fade-right","data-aos-duration","3000",1,"navbar-brand"],["viewBox","0 0 200.92045542674032 200.92045542674032","height","50","width","50",1,"svg-logo"],["d","M0 100.46c0-55.483 44.978-100.46 100.46-100.46 55.483 0 100.46 44.978 100.46 100.46 0 55.483-44.978 100.46-100.46 100.46-55.483 0-100.46-44.978-100.46-100.46zM100.46 193.437c51.35 0 92.977-41.627 92.977-92.977 0-51.35-41.627-92.977-92.977-92.977-51.35 0-92.977 41.627-92.977 92.977 0 51.35 41.627 92.977 92.977 92.977z","data-fill-palette-color","accent","fill","var(--aliceBlueColor)","stroke","transparent"],["rx","99.45562543623646","ry","99.45562543623646","cx","100.46022771337016","cy","100.46022771337016","fill","var(--textColor)","stroke","transparent","stroke-width","0","fill-opacity","1","data-fill-palette-color","accent"],["transform","matrix(1,0,0,1,43.57436241056036,43.35758026693677)"],["viewBox","0 0 113.7717306056196 114.20529489286677","height","114.20529489286677","width","113.7717306056196"],["xmlns","http://www.w3.org/2000/svg","data-name","Layer 1","viewBox","1.190000057220459 1.002901315689087 97.62506866455078 97.99710083007812","x","0","y","0","height","114.20529489286677","width","113.7717306056196","data-fill-palette-color","quaternary","id","b-0",1,"icon-b-0"],["d","M79.28 26.63a0.3 0.3 0 0 0 0-0.07 0.28 0.28 0 0 0-0.48-0.19l-7 7a20.24 20.24 0 0 0-6 13v1.87a37.5 37.5 0 0 1 1.67 5.15H54.79a32.9 32.9 0 0 0-5.43-15.13 26.9 26.9 0 0 1-7.74 5.77 22.2 22.2 0 0 1-6.34 2.06c-9.9 1.51-22.3-5-28.35-41.61a1.86 1.86 0 0 1 1.55-2.05c47.44-6.69 50.2 11.7 47.85 22.85a51.5 51.5 0 0 0-19.69-6.14h-0.11a0.43 0.43 0 0 0-0.18 0.76l11.58 8.5 5.84 4.31a37.3 37.3 0 0 1 6.08 5.85 24.8 24.8 0 0 1 5-6.15 17.7 17.7 0 0 1-2.54-5 14.8 14.8 0 0 1-0.65-4.41c0-6.65 5.53-14.14 30.18-14.44a1.23 1.23 0 0 1 1.24 1.23c-0.38 31.82-12.74 31.78-19.82 29.12a34.2 34.2 0 0 0 6.02-12.28M28.65 93h34.63a16.16 16.16 0 0 0 12.18-5.54l21.68-24.79a6.79 6.79 0 0 0-0.79-9.7 6.55 6.55 0 0 0-4.2-1.49 7.24 7.24 0 0 0-5.38 2.43l-10.2 11.35v0.16a11.85 11.85 0 0 1-11.89 11.26H52.21a2.54 2.54 0 1 1 0-5.08h12.47a6.72 6.72 0 0 0 6.81-6.34A6.54 6.54 0 0 0 65 58.52H44.19l-3.37-1.18a23.42 23.42 0 0 0-24.26 5.49L1.19 78.1 22.64 99Z","fill","var(--aliceBlueColor)","data-fill-palette-color","quaternary"],["routerLink","/",1,"logoText"],["id","navbarScroll",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","my-2","my-lg-0","navbar-nav-scroll"],[1,"nav-item"],["appResponsiveClass","","routerLink","/recipes-list","href","#","role","button","aria-expanded","false",1,"navigation"],["class","nav-item dropdown",4,"ngIf"],[1,"nav-item","dropleft"],["appResponsiveClass","","href","#","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"dropdown-toggle"],[1,"dropdown-menu"],["role","search",1,"search",3,"formGroup","ngSubmit"],["type","search","aria-label","Search","formControlName","search","required","","minlength","3","placeholder","Search...",1,"header-user-search"],["type","submit",1,"search","header-user-action","header-user-action-btn"],[1,"fa-solid","fa-magnifying-glass"],[1,"nav-item","dropdown"],[1,"fa-solid","fa-user"],["routerLink","/register",1,"dropdown-item"],["routerLink","/login",1,"dropdown-item"],["routerLink","/dashboard/user-recipes","href","#",1,"dropdown-item"],["routerLink","/dashboard/recipe-create",1,"dropdown-item"],["routerLink","/dashboard/user-favorite-recipes","href","#",1,"dropdown-item"],["routerLink","/dashboard/user-comments","href","#",1,"dropdown-item"],["routerLink","/dashboard/user-info",1,"dropdown-item"],[1,"hr"],[1,"dropdown-item",2,"text-align","center","cursor","pointer",3,"click"]],template:function(d,m){1&d&&(u.TgZ(0,"nav",0)(1,"div",1)(2,"div",2)(3,"button",3),u.NdJ("mouseover",function(){return m.onMouseOver()})("mouseout",function(){return m.onMouseOut()}),u.TgZ(4,"span"),u._UZ(5,"i",4),u.qZA()(),u.TgZ(6,"a",5),u.O4$(),u.TgZ(7,"svg",6)(8,"g"),u._UZ(9,"path",7)(10,"ellipse",8),u.qZA(),u.TgZ(11,"g",9)(12,"svg",10)(13,"g")(14,"svg",11),u._UZ(15,"path",12),u.qZA()()()()(),u.kcU(),u.TgZ(16,"span",13),u._uU(17,"natural way"),u.qZA()()(),u.TgZ(18,"div",14)(19,"ul",15)(20,"li",16)(21,"a",17),u._uU(22," Recipes "),u.qZA()(),u.YNc(23,mo,10,0,"li",18),u.YNc(24,_a,24,1,"li",18),u.TgZ(25,"li",19)(26,"a",20),u._uU(27," Search "),u.qZA(),u.TgZ(28,"ul",21)(29,"li")(30,"form",22),u.NdJ("ngSubmit",function(){return m.onSubmit()}),u._UZ(31,"input",23),u.TgZ(32,"button",24),u._UZ(33,"i",25),u.qZA()()()()()()()()()),2&d&&(u.xp6(3),u.Q6J("@rotate",m.state),u.xp6(20),u.Q6J("ngIf",!m.userData),u.xp6(1),u.Q6J("ngIf",m.userData),u.xp6(6),u.Q6J("formGroup",m.searchForm))},dependencies:[Ce.O5,X.rH,le._Y,le.Fj,le.JJ,le.JL,le.Q7,le.wO,le.sg,le.u,Qo],styles:["nav.navbar[_ngcontent-%COMP%]{min-height:5vh;background-color:var(--aliceBlueColor);box-shadow:1px 5px 15px 0 var(--mainGreyColor);box-shadow:0 25px 50px -12px #00000040;position:relative;z-index:10}.container-fluid[_ngcontent-%COMP%]{max-width:1024px}.hamburger[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding:4px 2px;color:var(--textColor)}.header-wrapper[_ngcontent-%COMP%]{display:flex;gap:20px;align-items:center;margin-right:auto}a.navbar-brand[_ngcontent-%COMP%]{display:flex;gap:10px;font-family:Nunito Sans,sans-serif;font-weight:900;font-size:28px;line-height:20px;color:var(--textColor);padding-right:40px;align-items:center}button.navbar-toggler[_ngcontent-%COMP%]{background-color:var(--mainYellowColor);border:1px solid var(--backgroundColor)}ul.navbar-nav[_ngcontent-%COMP%]{position:relative;display:flex;gap:40px;width:100%;align-items:center;justify-content:flex-end}.navigation[_ngcontent-%COMP%]{color:var(--mainBlackColor);font-size:17px;font-weight:700}ul.navbar-nav[_ngcontent-%COMP%]   ul.dropdown-menu[_ngcontent-%COMP%]{margin-top:22px;box-shadow:unset;border:unset}a.dropdown-item[_ngcontent-%COMP%]{color:var(--textColor);font-size:17px;font-weight:700}.dropdown-item[_ngcontent-%COMP%]:hover, .dropdown-item[_ngcontent-%COMP%]:focus{background-color:var(--textColor);color:var(--backgroundColor);border-radius:4px;transition:.5s ease-in-out}.header-user-search[_ngcontent-%COMP%]{padding:0 20px;height:40px;border:unset;border-radius:20px;background:var(--mainWhiteColor);box-shadow:0 0 5px #28a745}.header-user-action[_ngcontent-%COMP%]{margin-left:-50px;border-radius:50%;background:var(--mainYellowColor);color:var(--mainWhiteColor);width:40px;height:40px;border:unset}.search[_ngcontent-%COMP%]:hover   .fa-magnifying-glass[_ngcontent-%COMP%]{transform:rotate(45deg);transition:1s ease-in-out}form[_ngcontent-%COMP%]{width:800px;background-color:transparent;display:flex;gap:10px}ul.navbar-nav[_ngcontent-%COMP%], ul.dropdown-menu[_ngcontent-%COMP%]{background-color:var(--backgroundColor)}#navbarScroll[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li.nav-item.dropleft[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]{background-color:transparent}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:20px}@media (max-width: 991px){.container-fluid[_ngcontent-%COMP%]{justify-content:space-evenly}.svg-logo[_ngcontent-%COMP%]{display:none}.nav-item[_ngcontent-%COMP%]{width:100%}.navbar-nav.me-auto.my-2.my-lg-0.navbar-nav-scroll[_ngcontent-%COMP%]{display:flex;gap:18px;padding:20px}form[_ngcontent-%COMP%]{width:unset}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:20px}ul.navbar-nav[_ngcontent-%COMP%]{gap:12px}ul.navbar-nav[_ngcontent-%COMP%], ul.dropdown-menu[_ngcontent-%COMP%]{background-color:transparent}}@media (min-width: 992px) and (max-width: 1440px){.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu.search[_ngcontent-%COMP%]{left:unset;right:0;width:900px;padding:10px;margin-top:30px;border:unset}ul.navbar-nav[_ngcontent-%COMP%], ul.dropdown-menu[_ngcontent-%COMP%]{background-color:transparent}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:20px}.container-fluid[_ngcontent-%COMP%]{max-width:1200px;padding:0 3%;color:var(--textColor)}.header-user-action[_ngcontent-%COMP%]{margin:unset}}@media (min-width: 1441px){.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu.search[_ngcontent-%COMP%]{left:unset;right:0;width:1000px;padding:10px;margin-top:30px;border:unset}form[_ngcontent-%COMP%]{max-width:unset}.container-fluid[_ngcontent-%COMP%]{padding:unset;max-width:1200px;color:var(--textColor)}}"],data:{animation:[Ha("rotate",[Hi("normal",Vi({transform:"rotate(0deg)"})),Hi("hovered",Vi({transform:"rotate(180deg)"})),go("normal => hovered",Ls("0.5s ease-in-out")),go("hovered => normal",Ls("0.5s ease-in-out"))])]}})}return c})();function ya(c,f){if(1&c){const o=u.EpF();u.TgZ(0,"div",1)(1,"button",2),u.NdJ("click",function(){u.CHM(o);const m=u.oxw();return u.KtG(m.scrollToTop())}),u.TgZ(2,"div",3)(3,"span",4),u.O4$(),u.TgZ(4,"svg",5),u._UZ(5,"path",6),u.qZA()(),u.kcU(),u.TgZ(6,"span",7),u.O4$(),u.TgZ(7,"svg",8),u._UZ(8,"path",6),u.qZA()()()(),u.kcU(),u.TgZ(9,"a",9)(10,"div",10)(11,"span",7),u.O4$(),u.TgZ(12,"svg",5),u._UZ(13,"path",6),u.qZA()(),u.kcU(),u.TgZ(14,"span",7),u.O4$(),u.TgZ(15,"svg",8),u._UZ(16,"path",6),u.qZA()()()()()}}let Bs=(()=>{class c{constructor(){this.showScrollButton=!1}onWindowScroll(){this.showScrollButton=window.pageYOffset>300}scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-scroll-to-top"]],hostBindings:function(d,m){1&d&&u.NdJ("scroll",function(){return m.onWindowScroll()},!1,u.Jf7)},decls:1,vars:1,consts:[["class","buttons",4,"ngIf"],[1,"buttons"],[1,"back-button",3,"click"],[1,"button-box-up"],[1,"button-elem-up"],["viewBox","0 0 46 40","xmlns","http://www.w3.org/2000/svg"],["d","M46 20.038c0-.7-.3-1.5-.8-2.1l-16-17c-1.1-1-3.2-1.4-4.4-.3-1.2 1.1-1.2 3.3 0 4.4l11.3 11.9H3c-1.7 0-3 1.3-3 3s1.3 3 3 3h33.1l-11.3 11.9c-1 1-1.2 3.3 0 4.4 1.2 1.1 3.3.8 4.4-.3l16-17c.5-.5.8-1.1.8-1.9z"],[1,"button-elem"],["viewBox","0 0 46 40"],["href","javascript:history.back()",1,"back-button"],[1,"button-box"]],template:function(d,m){1&d&&u.YNc(0,ya,17,0,"div",0),2&d&&u.Q6J("ngIf",m.showScrollButton)},dependencies:[Ce.O5],styles:[".buttons[_ngcontent-%COMP%]{display:flex;gap:10px;position:fixed;bottom:120px;right:10px;flex-direction:column;align-items:center;z-index:10}button[_ngcontent-%COMP%]:focus{outline:none}button.ng-hidden[_ngcontent-%COMP%]{display:none}"]})}return c})();var _o=$(1816);const Vs=function(c){return{show:c}};let va=(()=>{class c{constructor(o){this.modalService=o,this.showModal=!1}ngOnInit(){this.modalMessageSubscription=this.modalService.modalMessage$.subscribe(o=>{this.modalMessage=o,console.log(o),this.showModal=!0})}ngOnDestroy(){this.modalMessageSubscription&&this.modalMessageSubscription.unsubscribe()}hideModal(){this.showModal=!1}static#e=this.\u0275fac=function(d){return new(d||c)(u.Y36(_o.y))};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-custom-alert"]],decls:11,vars:4,consts:[["tabindex","-1","role","dialog",1,"modal",3,"ngClass"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"button-img",3,"click"]],template:function(d,m){1&d&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),u._uU(5,"Important Notification!"),u.qZA()(),u.TgZ(6,"div",5),u._uU(7),u.qZA(),u.TgZ(8,"div",6)(9,"button",7),u.NdJ("click",function(){return m.hideModal()}),u._uU(10,"Close"),u.qZA()()()()()),2&d&&(u.Q6J("ngClass",u.VKq(2,Vs,m.showModal)),u.xp6(7),u.hij(" ",m.modalMessage," "))},dependencies:[Ce.mk],styles:[".modal[_ngcontent-%COMP%]{display:none;overflow:hidden;position:fixed;top:0;left:0;width:100%;height:100%;z-index:15;outline:0}.modal.show[_ngcontent-%COMP%]{display:block;background-color:var(--mainRGBAColor)}.modal-body[_ngcontent-%COMP%]{white-space:pre-wrap}"]})}return c})(),$r=(()=>{class c{constructor(){this.title="The-Natural-Way"}ngOnInit(){Kr.init()}static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-root"]],decls:5,vars:0,template:function(d,m){1&d&&u._UZ(0,"app-header")(1,"app-scroll-to-top")(2,"app-custom-alert")(3,"router-outlet")(4,"app-footer")},dependencies:[X.lC,nr,yi,Bs,va]})}return c})();var Xo=$(9286),as=$(8726);let ji=(()=>{class c{}return c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=u.oAB({type:c}),c.\u0275inj=u.cJS({imports:[[]]}),c})();var yo=$(5592),ba=$(6232),hi=$(8645),Cs=$(4829),wa=$(1631),ta=$(4266),na=$(4674),ro=$(7400);const ra=["addListener","removeListener"],ia=["addEventListener","removeEventListener"],Ga=["on","off"];function Qr(c,f,o,d){if((0,na.m)(o)&&(d=o,o=void 0),d)return Qr(c,f,o).pipe((0,ro.Z)(d));const[m,I]=function gs(c){return(0,na.m)(c.addEventListener)&&(0,na.m)(c.removeEventListener)}(c)?ia.map(x=>K=>c[x](f,K,o)):function ai(c){return(0,na.m)(c.addListener)&&(0,na.m)(c.removeListener)}(c)?ra.map(Qn(c,f)):function Ci(c){return(0,na.m)(c.on)&&(0,na.m)(c.off)}(c)?Ga.map(Qn(c,f)):[];if(!m&&(0,ta.z)(c))return(0,wa.z)(x=>Qr(x,f,o))((0,Cs.Xf)(c));if(!m)throw new TypeError("Invalid event target");return new yo.y(x=>{const K=(...oe)=>x.next(1<oe.length?oe:oe[0]);return m(K),()=>I(K)})}function Qn(c,f){return o=>d=>c[o](f,d)}var Pr=$(6321),Ss=$(671);const{isArray:Cc}=Array;function Ji(c){return 1===c.length&&Cc(c[0])?c[0]:c}var pr=$(8251);$(3019);var pi=$(9940);function io(...c){const f=(0,pi.jO)(c),o=Ji(c);return o.length?new yo.y(d=>{let m=o.map(()=>[]),I=o.map(()=>!1);d.add(()=>{m=I=null});for(let x=0;!d.closed&&x<o.length;x++)(0,Cs.Xf)(o[x]).subscribe((0,pr.x)(d,K=>{if(m[x].push(K),m.every(oe=>oe.length)){const oe=m.map(fe=>fe.shift());d.next(f?f(...oe):oe),m.some((fe,be)=>!fe.length&&I[be])&&d.complete()}},()=>{I[x]=!0,!m[x].length&&d.complete()}));return()=>{m=I=null}}):ba.E}var Jr=$(5211),xn=$(9773),kr=$(2181),Xr=$(8180),Ln=$(9397),vo=$(9360),Vo=$(2737),bo=$(2420);function Fr(...c){const f=(0,pi.jO)(c);return(0,vo.e)((o,d)=>{const m=c.length,I=new Array(m);let x=c.map(()=>!1),K=!1;for(let oe=0;oe<m;oe++)(0,Cs.Xf)(c[oe]).subscribe((0,pr.x)(d,fe=>{I[oe]=fe,!K&&!x[oe]&&(x[oe]=!0,(K=x.every(Vo.y))&&(x=null))},bo.Z));o.subscribe((0,pr.x)(d,oe=>{if(K){const fe=[oe,...I];d.next(f?f(...fe):fe)}}))})}$(975),$(7921);var Hs=$(3997);class Io extends Error{constructor(f,o){super(function Gs(c,f){return`NG0${Math.abs(c)}${f?": "+f:""}`}(f,o)),this.code=f}}let ur=null;function $s(c){const f=ur;return ur=c,f}function nd(c,f){const o=!f?.manualCleanup;o&&!f?.injector&&(0,u.gHi)(nd);const d=o?f?.injector?.get(u.ktI)??(0,u.f3M)(u.ktI):null;let m;return m=(0,u.tdS)(f?.requireSync?{kind:0}:{kind:1,value:f?.initialValue}),function Do(c){const f=$s(null);try{return c()}finally{$s(f)}}(()=>{const I=c.subscribe({next:x=>m.set({kind:1,value:x}),error:x=>m.set({kind:2,error:x})});d?.onDestroy(I.unsubscribe.bind(I))}),(0,u.Flj)(()=>{const I=m();switch(I.kind){case 1:return I.value;case 2:throw I.error;case 0:throw new Io(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}Math,Math,Math;const Eu=["*"],Au=["dialog"];function iu(c){return"string"==typeof c}function Rc(c){return null!=c}function ch(c){return(c||document.body).getBoundingClientRect()}const W_={animation:!0,transitionTimerDelayMs:5},y0=()=>{},{transitionTimerDelayMs:pd}=W_,vs=new Map,$o=(c,f,o,d)=>{let m=d.context||{};const I=vs.get(f);if(I)switch(d.runningTransition){case"continue":return ba.E;case"stop":c.run(()=>I.transition$.complete()),m=Object.assign(I.context,m),vs.delete(f)}const x=o(f,d.animation,m)||y0;if(!d.animation||"none"===window.getComputedStyle(f).transitionProperty)return c.run(()=>x()),(0,he.of)(void 0).pipe(function z_(c){return f=>new yo.y(o=>f.subscribe({next:x=>c.run(()=>o.next(x)),error:x=>c.run(()=>o.error(x)),complete:()=>c.run(()=>o.complete())}))}(c));const K=new hi.x,oe=new hi.x,fe=K.pipe(function Gi(...c){return f=>(0,Jr.z)(f,(0,he.of)(...c))}(!0));vs.set(f,{transition$:K,complete:()=>{oe.next(),oe.complete()},context:m});const be=function lh(c){const{transitionDelay:f,transitionDuration:o}=window.getComputedStyle(c);return 1e3*(parseFloat(f)+parseFloat(o))}(f);return c.runOutsideAngular(()=>{const We=Qr(f,"transitionend").pipe((0,xn.R)(fe),(0,kr.h)(({target:pt})=>pt===f));(function jt(...c){return 1===(c=Ji(c)).length?(0,Cs.Xf)(c[0]):new yo.y(function Pn(c){return f=>{let o=[];for(let d=0;o&&!f.closed&&d<c.length;d++)o.push((0,Cs.Xf)(c[d]).subscribe((0,pr.x)(f,m=>{if(o){for(let I=0;I<o.length;I++)I!==d&&o[I].unsubscribe();o=null}f.next(m)})))}}(c))})(function fi(c=0,f,o=Pr.P){let d=-1;return null!=f&&((0,Ss.K)(f)?o=f:d=f),new yo.y(m=>{let I=function $a(c){return c instanceof Date&&!isNaN(c)}(c)?+c-o.now():c;I<0&&(I=0);let x=0;return o.schedule(function(){m.closed||(m.next(x++),0<=d?this.schedule(void 0,d):m.complete())},I)})}(be+pd).pipe((0,xn.R)(fe)),We,oe).pipe((0,xn.R)(fe)).subscribe(()=>{vs.delete(f),c.run(()=>{x(),K.next(),K.complete()})})}),K.asObservable()};let A=(()=>{class c{constructor(){this.animation=W_.animation}static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})(),K_=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})(),uf=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})(),T0=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})(),J_=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})();var ki=function(c){return c[c.Tab=9]="Tab",c[c.Enter=13]="Enter",c[c.Escape=27]="Escape",c[c.Space=32]="Space",c[c.PageUp=33]="PageUp",c[c.PageDown=34]="PageDown",c[c.End=35]="End",c[c.Home=36]="Home",c[c.ArrowLeft=37]="ArrowLeft",c[c.ArrowUp=38]="ArrowUp",c[c.ArrowRight=39]="ArrowRight",c[c.ArrowDown=40]="ArrowDown",c}(ki||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const sy=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function uh(c){const f=Array.from(c.querySelectorAll(sy)).filter(o=>-1!==o.tabIndex);return[f[0],f[f.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let G0=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})(),bs=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})();class gh{constructor(f,o,d){this.nodes=f,this.viewRef=o,this.componentRef=d}}let _f=(()=>{class c{constructor(o,d){this._el=o,this._zone=d}ngOnInit(){this._zone.onStable.asObservable().pipe((0,Xr.q)(1)).subscribe(()=>{$o(this._zone,this._el.nativeElement,(o,d)=>{d&&ch(o),o.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return $o(this._zone,this._el.nativeElement,({classList:o})=>o.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(d){return new(d||c)(u.Y36(u.SBq),u.Y36(u.R0b))};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(d,m){2&d&&(u.Tol("modal-backdrop"+(m.backdropClass?" "+m.backdropClass:"")),u.ekj("show",!m.animation)("fade",m.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[u.jDz],decls:0,vars:0,template:function(d,m){},encapsulation:2})}return c})();class Pc{update(f){}close(f){}dismiss(f){}}const wy=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],_I=["animation","backdropClass"];class yI{_applyWindowOptions(f,o){wy.forEach(d=>{Rc(o[d])&&(f[d]=o[d])})}_applyBackdropOptions(f,o){_I.forEach(d=>{Rc(o[d])&&(f[d]=o[d])})}update(f){this._applyWindowOptions(this._windowCmptRef.instance,f),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,f)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,xn.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,xn.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(f,o,d,m){this._windowCmptRef=f,this._contentRef=o,this._backdropCmptRef=d,this._beforeDismiss=m,this._closed=new hi.x,this._dismissed=new hi.x,this._hidden=new hi.x,f.instance.dismissEvent.subscribe(I=>{this.dismiss(I)}),this.result=new Promise((I,x)=>{this._resolve=I,this._reject=x}),this.result.then(null,()=>{})}close(f){this._windowCmptRef&&(this._closed.next(f),this._resolve(f),this._removeModalElements())}_dismiss(f){this._dismissed.next(f),this._reject(f),this._removeModalElements()}dismiss(f){if(this._windowCmptRef)if(this._beforeDismiss){const o=this._beforeDismiss();!function Ep(c){return c&&c.then}(o)?!1!==o&&this._dismiss(f):o.then(d=>{!1!==d&&this._dismiss(f)},()=>{})}else this._dismiss(f)}_removeModalElements(){const f=this._windowCmptRef.instance.hide(),o=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,he.of)(void 0);f.subscribe(()=>{const{nativeElement:d}=this._windowCmptRef.location;d.parentNode.removeChild(d),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),o.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:d}=this._backdropCmptRef.location;d.parentNode.removeChild(d),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),io(f,o).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var wd=function(c){return c[c.BACKDROP_CLICK=0]="BACKDROP_CLICK",c[c.ESC=1]="ESC",c}(wd||{});let Iy=(()=>{class c{constructor(o,d,m){this._document=o,this._elRef=d,this._zone=m,this._closed$=new hi.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new u.vpe,this.shown=new hi.x,this.hidden=new hi.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":iu(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(o){this.dismissEvent.emit(o)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,Xr.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:o}=this._elRef,d={animation:this.animation,runningTransition:"stop"},x=io($o(this._zone,o,()=>o.classList.remove("show"),d),$o(this._zone,this._dialogEl.nativeElement,()=>{},d));return x.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),x}_show(){const o={animation:this.animation,runningTransition:"continue"};io($o(this._zone,this._elRef.nativeElement,(I,x)=>{x&&ch(I),I.classList.add("show")},o),$o(this._zone,this._dialogEl.nativeElement,()=>{},o)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:o}=this._elRef;this._zone.runOutsideAngular(()=>{Qr(o,"keydown").pipe((0,xn.R)(this._closed$),(0,kr.h)(m=>m.which===ki.Escape)).subscribe(m=>{this.keyboard?requestAnimationFrame(()=>{m.defaultPrevented||this._zone.run(()=>this.dismiss(wd.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let d=!1;Qr(this._dialogEl.nativeElement,"mousedown").pipe((0,xn.R)(this._closed$),(0,Ln.b)(()=>d=!1),(0,ye.w)(()=>Qr(o,"mouseup").pipe((0,xn.R)(this._closed$),(0,Xr.q)(1))),(0,kr.h)(({target:m})=>o===m)).subscribe(()=>{d=!0}),Qr(o,"click").pipe((0,xn.R)(this._closed$)).subscribe(({target:m})=>{o===m&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!d&&this._zone.run(()=>this.dismiss(wd.BACKDROP_CLICK))),d=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:o}=this._elRef;if(!o.contains(document.activeElement)){const d=o.querySelector("[ngbAutofocus]"),m=uh(o)[0];(d||m||o).focus()}}_restoreFocus(){const o=this._document.body,d=this._elWithFocus;let m;m=d&&d.focus&&o.contains(d)?d:o,this._zone.runOutsideAngular(()=>{setTimeout(()=>m.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&$o(this._zone,this._elRef.nativeElement,({classList:o})=>(o.add("modal-static"),()=>o.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(d){return new(d||c)(u.Y36(Ce.K0),u.Y36(u.SBq),u.Y36(u.R0b))};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["ngb-modal-window"]],viewQuery:function(d,m){if(1&d&&u.Gf(Au,7),2&d){let I;u.iGM(I=u.CRH())&&(m._dialogEl=I.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(d,m){2&d&&(u.uIk("aria-modal",!0)("aria-labelledby",m.ariaLabelledBy)("aria-describedby",m.ariaDescribedBy),u.Tol("modal d-block"+(m.windowClass?" "+m.windowClass:"")),u.ekj("fade",m.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[u.jDz],ngContentSelectors:Eu,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(d,m){1&d&&(u.F$t(),u.TgZ(0,"div",0,1)(2,"div",2),u.Hsn(3),u.qZA()()),2&d&&u.Tol("modal-dialog"+(m.size?" modal-"+m.size:"")+(m.centered?" modal-dialog-centered":"")+m.fullscreenClass+(m.scrollable?" modal-dialog-scrollable":"")+(m.modalDialogClass?" "+m.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return c})(),$0=(()=>{class c{constructor(o){this._document=o}hide(){const o=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),d=this._document.body,m=d.style,{overflow:I,paddingRight:x}=m;if(o>0){const K=parseFloat(window.getComputedStyle(d).paddingRight);m.paddingRight=`${K+o}px`}return m.overflow="hidden",()=>{o>0&&(m.paddingRight=x),m.overflow=I}}static#e=this.\u0275fac=function(d){return new(d||c)(u.LFG(Ce.K0))};static#t=this.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})(),vI=(()=>{class c{constructor(o,d,m,I,x,K,oe){this._applicationRef=o,this._injector=d,this._environmentInjector=m,this._document=I,this._scrollBar=x,this._rendererFactory=K,this._ngZone=oe,this._activeWindowCmptHasChanged=new hi.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new u.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const fe=this._windowCmpts[this._windowCmpts.length-1];((c,f,o,d=!1)=>{c.runOutsideAngular(()=>{const m=Qr(f,"focusin").pipe((0,xn.R)(o),(0,ae.U)(I=>I.target));Qr(f,"keydown").pipe((0,xn.R)(o),(0,kr.h)(I=>I.which===ki.Tab),Fr(m)).subscribe(([I,x])=>{const[K,oe]=uh(f);(x===K||x===f)&&I.shiftKey&&(oe.focus(),I.preventDefault()),x===oe&&!I.shiftKey&&(K.focus(),I.preventDefault())}),d&&Qr(f,"click").pipe((0,xn.R)(o),Fr(m),(0,ae.U)(I=>I[1])).subscribe(I=>I.focus())})})(this._ngZone,fe.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(fe.location.nativeElement)}})}_restoreScrollBar(){const o=this._scrollBarRestoreFn;o&&(this._scrollBarRestoreFn=null,o())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(o,d,m){const I=m.container instanceof HTMLElement?m.container:Rc(m.container)?this._document.querySelector(m.container):this._document.body,x=this._rendererFactory.createRenderer(null,null);if(!I)throw new Error(`The specified modal container "${m.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const K=new Pc,oe=(o=m.injector||o).get(u.lqb,null)||this._environmentInjector,fe=this._getContentRef(o,oe,d,K,m);let be=!1!==m.backdrop?this._attachBackdrop(I):void 0,We=this._attachWindowComponent(I,fe.nodes),ot=new yI(We,fe,be,m.beforeDismiss);return this._registerModalRef(ot),this._registerWindowCmpt(We),ot.hidden.pipe((0,Xr.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(x.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),K.close=pt=>{ot.close(pt)},K.dismiss=pt=>{ot.dismiss(pt)},K.update=pt=>{ot.update(pt)},ot.update(m),1===this._modalRefs.length&&x.addClass(this._document.body,"modal-open"),be&&be.instance&&be.changeDetectorRef.detectChanges(),We.changeDetectorRef.detectChanges(),ot}get activeInstances(){return this._activeInstances}dismissAll(o){this._modalRefs.forEach(d=>d.dismiss(o))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(o){let d=(0,u.LMc)(_f,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(d.hostView),o.appendChild(d.location.nativeElement),d}_attachWindowComponent(o,d){let m=(0,u.LMc)(Iy,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:d});return this._applicationRef.attachView(m.hostView),o.appendChild(m.location.nativeElement),m}_getContentRef(o,d,m,I,x){return m?m instanceof u.Rgc?this._createFromTemplateRef(m,I):iu(m)?this._createFromString(m):this._createFromComponent(o,d,m,I,x):new gh([])}_createFromTemplateRef(o,d){const I=o.createEmbeddedView({$implicit:d,close(x){d.close(x)},dismiss(x){d.dismiss(x)}});return this._applicationRef.attachView(I),new gh([I.rootNodes],I)}_createFromString(o){const d=this._document.createTextNode(`${o}`);return new gh([[d]])}_createFromComponent(o,d,m,I,x){const K=u.zs3.create({providers:[{provide:Pc,useValue:I}],parent:o}),oe=(0,u.LMc)(m,{environmentInjector:d,elementInjector:K}),fe=oe.location.nativeElement;return x.scrollable&&fe.classList.add("component-host-scrollable"),this._applicationRef.attachView(oe.hostView),new gh([[fe]],oe.hostView,oe)}_setAriaHidden(o){const d=o.parentElement;d&&o!==this._document.body&&(Array.from(d.children).forEach(m=>{m!==o&&"SCRIPT"!==m.nodeName&&(this._ariaHiddenValues.set(m,m.getAttribute("aria-hidden")),m.setAttribute("aria-hidden","true"))}),this._setAriaHidden(d))}_revertAriaHidden(){this._ariaHiddenValues.forEach((o,d)=>{o?d.setAttribute("aria-hidden",o):d.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(o){const d=()=>{const m=this._modalRefs.indexOf(o);m>-1&&(this._modalRefs.splice(m,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(o),this._activeInstances.emit(this._modalRefs),o.result.then(d,d)}_registerWindowCmpt(o){this._windowCmpts.push(o),this._activeWindowCmptHasChanged.next(),o.onDestroy(()=>{const d=this._windowCmpts.indexOf(o);d>-1&&(this._windowCmpts.splice(d,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(d){return new(d||c)(u.LFG(u.z2F),u.LFG(u.zs3),u.LFG(u.lqb),u.LFG(Ce.K0),u.LFG($0),u.LFG(u.FYo),u.LFG(u.R0b))};static#t=this.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})(),zp=(()=>{class c{constructor(o){this._ngbConfig=o,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(o){this._animation=o}static#e=this.\u0275fac=function(d){return new(d||c)(u.LFG(A))};static#t=this.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})(),yf=(()=>{class c{constructor(o,d,m){this._injector=o,this._modalStack=d,this._config=m}open(o,d={}){const m={...this._config,animation:this._config.animation,...d};return this._modalStack.open(this._injector,o,m)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(o){this._modalStack.dismissAll(o)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(d){return new(d||c)(u.LFG(u.zs3),u.LFG(vI),u.LFG(zp))};static#t=this.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})(),Wp=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({providers:[yf]})}return c})(),Zp=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})(),Id=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})(),ao=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})(),Y0=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})(),J0=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})(),Cf=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})(),Py=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})(),Ed=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})(),Qp=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})();new u.OlP("live announcer delay",{providedIn:"root",factory:function Xp(){return 100}});let Of=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})(),tg=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})();const Nf=[K_,uf,T0,J_,G0,bs,Wp,Zp,tg,Id,ao,Y0,J0,Cf,Py,Ed,Qp,Of];let sb=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({imports:[Nf,K_,uf,T0,J_,G0,bs,Wp,Zp,tg,Id,ao,Y0,J0,Cf,Py,Ed,Qp,Of]})}return c})();var Dm=$(2772);function Td(c){return new u.vHH(3e3,!1)}function ha(c){switch(c.length){case 0:return new Yr;case 1:return c[0];default:return new Us(c)}}function Dh(c,f,o=new Map,d=new Map){const m=[],I=[];let x=-1,K=null;if(f.forEach(oe=>{const fe=oe.get("offset"),be=fe==x,We=be&&K||new Map;oe.forEach((ot,pt)=>{let Nt=pt,Ht=ot;if("offset"!==pt)switch(Nt=c.normalizePropertyName(Nt,m),Ht){case"!":Ht=o.get(pt);break;case os:Ht=d.get(pt);break;default:Ht=c.normalizeStyleValue(pt,Nt,Ht,m)}We.set(Nt,Ht)}),be||I.push(We),K=We,x=fe}),m.length)throw function cb(c){return new u.vHH(3502,!1)}();return I}function Wy(c,f,o,d){switch(f){case"start":c.onStart(()=>d(o&&qy(o,"start",c)));break;case"done":c.onDone(()=>d(o&&qy(o,"done",c)));break;case"destroy":c.onDestroy(()=>d(o&&qy(o,"destroy",c)))}}function qy(c,f,o){const I=Nm(c.element,c.triggerName,c.fromState,c.toState,f||c.phaseName,o.totalTime??c.totalTime,!!o.disabled),x=c._data;return null!=x&&(I._data=x),I}function Nm(c,f,o,d,m="",I=0,x){return{element:c,triggerName:f,fromState:o,toState:d,phaseName:m,totalTime:I,disabled:!!x}}function fa(c,f,o){let d=c.get(f);return d||c.set(f,d=o),d}function Cd(c){const f=c.indexOf(":");return[c.substring(1,f),c.slice(f+1)]}const Sd=(()=>typeof document>"u"?null:document.documentElement)();function Ad(c){const f=c.parentNode||c.host||null;return f===Sd?null:f}let el=null,xf=!1;function Ky(c,f){for(;f;){if(f===c)return!0;f=Ad(f)}return!1}function xI(c,f,o){if(o)return Array.from(c.querySelectorAll(f));const d=c.querySelector(f);return d?[d]:[]}let gb=(()=>{class c{validateStyleProperty(o){return function MI(c){el||(el=function pb(){return typeof document<"u"?document.body:null}()||{},xf=!!el.style&&"WebkitAppearance"in el.style);let f=!0;return el.style&&!function Zy(c){return"ebkit"==c.substring(1,6)}(c)&&(f=c in el.style,!f&&xf&&(f="Webkit"+c.charAt(0).toUpperCase()+c.slice(1)in el.style)),f}(o)}matchesElement(o,d){return!1}containsElement(o,d){return Ky(o,d)}getParentElement(o){return Ad(o)}query(o,d,m){return xI(o,d,m)}computeStyle(o,d,m){return m||""}animate(o,d,m,I,x,K=[],oe){return new Yr(m,I)}static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac})}return c})(),Yy=(()=>{class c{static#e=this.NOOP=new gb}return c})();const Jy=1e3,ec="ng-enter",Pf="ng-leave",og="ng-trigger",ag=".ng-trigger",cg="ng-animating",Od=".ng-animating";function zn(c){if("number"==typeof c)return c;const f=c.match(/^(-?[\.\d]+)(m?s)/);return!f||f.length<2?0:kf(parseFloat(f[1]),f[2])}function kf(c,f){return"s"===f?c*Jy:c}function Nd(c,f,o){return c.hasOwnProperty("duration")?c:function Ch(c,f,o){let m,I=0,x="";if("string"==typeof c){const K=c.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===K)return f.push(Td()),{duration:0,delay:0,easing:""};m=kf(parseFloat(K[1]),K[2]);const oe=K[3];null!=oe&&(I=kf(parseFloat(oe),K[4]));const fe=K[5];fe&&(x=fe)}else m=c;if(!o){let K=!1,oe=f.length;m<0&&(f.push(function Cm(){return new u.vHH(3100,!1)}()),K=!0),I<0&&(f.push(function CI(){return new u.vHH(3101,!1)}()),K=!0),K&&f.splice(oe,0,Td())}return{duration:m,delay:I,easing:x}}(c,f,o)}function Hu(c,f={}){return Object.keys(c).forEach(o=>{f[o]=c[o]}),f}function mb(c){const f=new Map;return Object.keys(c).forEach(o=>{f.set(o,c[o])}),f}function Cl(c,f=new Map,o){if(o)for(let[d,m]of o)f.set(d,m);for(let[d,m]of c)f.set(d,m);return f}function tc(c,f,o){f.forEach((d,m)=>{const I=Rm(m);o&&!o.has(m)&&o.set(m,c.style[I]),c.style[I]=d})}function lu(c,f){f.forEach((o,d)=>{const m=Rm(d);c.style[m]=""})}function ju(c){return Array.isArray(c)?1==c.length?c[0]:po(c):c}const Md=new RegExp("{{\\s*(.+?)\\s*}}","g");function xm(c){let f=[];if("string"==typeof c){let o;for(;o=Md.exec(c);)f.push(o[1]);Md.lastIndex=0}return f}function xd(c,f,o){const d=c.toString(),m=d.replace(Md,(I,x)=>{let K=f[x];return null==K&&(o.push(function AI(c){return new u.vHH(3003,!1)}()),K=""),K.toString()});return m==d?c:m}function uu(c){const f=[];let o=c.next();for(;!o.done;)f.push(o.value),o=c.next();return f}const _b=/-+([a-z0-9])/g;function Rm(c){return c.replace(_b,(...f)=>f[1].toUpperCase())}function ts(c,f,o){switch(f.type){case 7:return c.visitTrigger(f,o);case 0:return c.visitState(f,o);case 1:return c.visitTransition(f,o);case 2:return c.visitSequence(f,o);case 3:return c.visitGroup(f,o);case 4:return c.visitAnimate(f,o);case 5:return c.visitKeyframes(f,o);case 6:return c.visitStyle(f,o);case 8:return c.visitReference(f,o);case 9:return c.visitAnimateChild(f,o);case 10:return c.visitAnimateRef(f,o);case 11:return c.visitQuery(f,o);case 12:return c.visitStagger(f,o);default:throw function Hy(c){return new u.vHH(3004,!1)}()}}function Qy(c,f){return window.getComputedStyle(c)[f]}const km="*";function wb(c,f){const o=[];return"string"==typeof c?c.split(/\s*,\s*/).forEach(d=>function tl(c,f,o){if(":"==c[0]){const oe=function Xy(c,f){switch(c){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(o,d)=>parseFloat(d)>parseFloat(o);case":decrement":return(o,d)=>parseFloat(d)<parseFloat(o);default:return f.push(function VT(c){return new u.vHH(3016,!1)}()),"* => *"}}(c,o);if("function"==typeof oe)return void f.push(oe);c=oe}const d=c.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==d||d.length<4)return o.push(function OI(c){return new u.vHH(3015,!1)}()),f;const m=d[1],I=d[2],x=d[3];f.push(Fm(m,x));"<"==I[0]&&!(m==km&&x==km)&&f.push(Fm(x,m))}(d,o,f)):o.push(c),o}const Lf=new Set(["true","1"]),Gu=new Set(["false","0"]);function Fm(c,f){const o=Lf.has(c)||Gu.has(c),d=Lf.has(f)||Gu.has(f);return(m,I)=>{let x=c==km||c==m,K=f==km||f==I;return!x&&o&&"boolean"==typeof m&&(x=m?Lf.has(c):Gu.has(c)),!K&&d&&"boolean"==typeof I&&(K=I?Lf.has(f):Gu.has(f)),x&&K}}const $u=new RegExp("s*:selfs*,?","g");function bc(c,f,o,d){return new Um(c).build(f,o,d)}class Um{constructor(f){this._driver=f}build(f,o,d){const m=new Vm(o);return this._resetContextStyleTimingState(m),ts(this,ju(f),m)}_resetContextStyleTimingState(f){f.currentQuerySelector="",f.collectedStyles=new Map,f.collectedStyles.set("",new Map),f.currentTime=0}visitTrigger(f,o){let d=o.queryCount=0,m=o.depCount=0;const I=[],x=[];return"@"==f.name.charAt(0)&&o.errors.push(function da(){return new u.vHH(3006,!1)}()),f.definitions.forEach(K=>{if(this._resetContextStyleTimingState(o),0==K.type){const oe=K,fe=oe.name;fe.toString().split(/\s*,\s*/).forEach(be=>{oe.name=be,I.push(this.visitState(oe,o))}),oe.name=fe}else if(1==K.type){const oe=this.visitTransition(K,o);d+=oe.queryCount,m+=oe.depCount,x.push(oe)}else o.errors.push(function au(){return new u.vHH(3007,!1)}())}),{type:7,name:f.name,states:I,transitions:x,queryCount:d,depCount:m,options:null}}visitState(f,o){const d=this.visitStyle(f.styles,o),m=f.options&&f.options.params||null;if(d.containsDynamicStyles){const I=new Set,x=m||{};d.styles.forEach(K=>{K instanceof Map&&K.forEach(oe=>{xm(oe).forEach(fe=>{x.hasOwnProperty(fe)||I.add(fe)})})}),I.size&&(uu(I.values()),o.errors.push(function jy(c,f){return new u.vHH(3008,!1)}()))}return{type:0,name:f.name,style:d,options:m?{params:m}:null}}visitTransition(f,o){o.queryCount=0,o.depCount=0;const d=ts(this,ju(f.animation),o);return{type:1,matchers:wb(f.expr,o.errors),animation:d,queryCount:o.queryCount,depCount:o.depCount,options:zu(f.options)}}visitSequence(f,o){return{type:2,steps:f.steps.map(d=>ts(this,d,o)),options:zu(f.options)}}visitGroup(f,o){const d=o.currentTime;let m=0;const I=f.steps.map(x=>{o.currentTime=d;const K=ts(this,x,o);return m=Math.max(m,o.currentTime),K});return o.currentTime=m,{type:3,steps:I,options:zu(f.options)}}visitAnimate(f,o){const d=function nc(c,f){if(c.hasOwnProperty("duration"))return c;if("number"==typeof c)return ev(Nd(c,f).duration,0,"");const o=c;if(o.split(/\s+/).some(I=>"{"==I.charAt(0)&&"{"==I.charAt(1))){const I=ev(0,0,"");return I.dynamic=!0,I.strValue=o,I}const m=Nd(o,f);return ev(m.duration,m.delay,m.easing)}(f.timings,o.errors);o.currentAnimateTimings=d;let m,I=f.styles?f.styles:Vi({});if(5==I.type)m=this.visitKeyframes(I,o);else{let x=f.styles,K=!1;if(!x){K=!0;const fe={};d.easing&&(fe.easing=d.easing),x=Vi(fe)}o.currentTime+=d.duration+d.delay;const oe=this.visitStyle(x,o);oe.isEmptyStep=K,m=oe}return o.currentAnimateTimings=null,{type:4,timings:d,style:m,options:null}}visitStyle(f,o){const d=this._makeStyleAst(f,o);return this._validateStyleAst(d,o),d}_makeStyleAst(f,o){const d=[],m=Array.isArray(f.styles)?f.styles:[f.styles];for(let K of m)"string"==typeof K?K===os?d.push(K):o.errors.push(new u.vHH(3002,!1)):d.push(mb(K));let I=!1,x=null;return d.forEach(K=>{if(K instanceof Map&&(K.has("easing")&&(x=K.get("easing"),K.delete("easing")),!I))for(let oe of K.values())if(oe.toString().indexOf("{{")>=0){I=!0;break}}),{type:6,styles:d,easing:x,offset:f.offset,containsDynamicStyles:I,options:null}}_validateStyleAst(f,o){const d=o.currentAnimateTimings;let m=o.currentTime,I=o.currentTime;d&&I>0&&(I-=d.duration+d.delay),f.styles.forEach(x=>{"string"!=typeof x&&x.forEach((K,oe)=>{const fe=o.collectedStyles.get(o.currentQuerySelector),be=fe.get(oe);let We=!0;be&&(I!=m&&I>=be.startTime&&m<=be.endTime&&(o.errors.push(function gi(c,f,o,d,m){return new u.vHH(3010,!1)}()),We=!1),I=be.startTime),We&&fe.set(oe,{startTime:I,endTime:m}),o.options&&function Mm(c,f,o){const d=f.params||{},m=xm(c);m.length&&m.forEach(I=>{d.hasOwnProperty(I)||o.push(function SI(c){return new u.vHH(3001,!1)}())})}(K,o.options,o.errors)})})}visitKeyframes(f,o){const d={type:5,styles:[],options:null};if(!o.currentAnimateTimings)return o.errors.push(function Sm(){return new u.vHH(3011,!1)}()),d;let I=0;const x=[];let K=!1,oe=!1,fe=0;const be=f.steps.map(Mn=>{const Hn=this._makeStyleAst(Mn,o);let _r=null!=Hn.offset?Hn.offset:function Ib(c){if("string"==typeof c)return null;let f=null;if(Array.isArray(c))c.forEach(o=>{if(o instanceof Map&&o.has("offset")){const d=o;f=parseFloat(d.get("offset")),d.delete("offset")}});else if(c instanceof Map&&c.has("offset")){const o=c;f=parseFloat(o.get("offset")),o.delete("offset")}return f}(Hn.styles),qt=0;return null!=_r&&(I++,qt=Hn.offset=_r),oe=oe||qt<0||qt>1,K=K||qt<fe,fe=qt,x.push(qt),Hn});oe&&o.errors.push(function rg(){return new u.vHH(3012,!1)}()),K&&o.errors.push(function ig(){return new u.vHH(3200,!1)}());const We=f.steps.length;let ot=0;I>0&&I<We?o.errors.push(function Gy(){return new u.vHH(3202,!1)}()):0==I&&(ot=1/(We-1));const pt=We-1,Nt=o.currentTime,Ht=o.currentAnimateTimings,Wt=Ht.duration;return be.forEach((Mn,Hn)=>{const _r=ot>0?Hn==pt?1:ot*Hn:x[Hn],qt=_r*Wt;o.currentTime=Nt+Ht.delay+qt,Ht.duration=qt,this._validateStyleAst(Mn,o),Mn.offset=_r,d.styles.push(Mn)}),d}visitReference(f,o){return{type:8,animation:ts(this,ju(f.animation),o),options:zu(f.options)}}visitAnimateChild(f,o){return o.depCount++,{type:9,options:zu(f.options)}}visitAnimateRef(f,o){return{type:10,animation:this.visitReference(f.animation,o),options:zu(f.options)}}visitQuery(f,o){const d=o.currentQuerySelector,m=f.options||{};o.queryCount++,o.currentQuery=f;const[I,x]=function Bm(c){const f=!!c.split(/\s*,\s*/).find(o=>":self"==o);return f&&(c=c.replace($u,"")),c=c.replace(/@\*/g,ag).replace(/@\w+/g,o=>ag+"-"+o.slice(1)).replace(/:animating/g,Od),[c,f]}(f.selector);o.currentQuerySelector=d.length?d+" "+I:I,fa(o.collectedStyles,o.currentQuerySelector,new Map);const K=ts(this,ju(f.animation),o);return o.currentQuery=null,o.currentQuerySelector=d,{type:11,selector:I,limit:m.limit||0,optional:!!m.optional,includeSelf:x,animation:K,originalSelector:f.selector,options:zu(f.options)}}visitStagger(f,o){o.currentQuery||o.errors.push(function Tl(){return new u.vHH(3013,!1)}());const d="full"===f.timings?{duration:0,delay:0,easing:"full"}:Nd(f.timings,o.errors,!0);return{type:12,animation:ts(this,ju(f.animation),o),timings:d,options:null}}}class Vm{constructor(f){this.errors=f,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function zu(c){return c?(c=Hu(c)).params&&(c.params=function ug(c){return c?Hu(c):null}(c.params)):c={},c}function ev(c,f,o){return{duration:c,delay:f,easing:o}}function Uf(c,f,o,d,m,I,x=null,K=!1){return{type:1,element:c,keyframes:f,preStyleProps:o,postStyleProps:d,duration:m,delay:I,totalTime:m+I,easing:x,subTimeline:K}}class Hm{constructor(){this._map=new Map}get(f){return this._map.get(f)||[]}append(f,o){let d=this._map.get(f);d||this._map.set(f,d=[]),d.push(...o)}has(f){return this._map.has(f)}clear(){this._map.clear()}}const jm=new RegExp(":enter","g"),GT=new RegExp(":leave","g");function Gm(c,f,o,d,m,I=new Map,x=new Map,K,oe,fe=[]){return(new Sh).buildKeyframes(c,f,o,d,m,I,x,K,oe,fe)}class Sh{buildKeyframes(f,o,d,m,I,x,K,oe,fe,be=[]){fe=fe||new Hm;const We=new eo(f,o,fe,m,I,be,[]);We.options=oe;const ot=oe.delay?zn(oe.delay):0;We.currentTimeline.delayNextStep(ot),We.currentTimeline.setStyles([x],null,We.errors,oe),ts(this,d,We);const pt=We.timelines.filter(Nt=>Nt.containsAnimation());if(pt.length&&K.size){let Nt;for(let Ht=pt.length-1;Ht>=0;Ht--){const Wt=pt[Ht];if(Wt.element===o){Nt=Wt;break}}Nt&&!Nt.allowOnlyTimelineStyles()&&Nt.setStyles([K],null,We.errors,oe)}return pt.length?pt.map(Nt=>Nt.buildKeyframes()):[Uf(o,[],[],[],0,ot,"",!1)]}visitTrigger(f,o){}visitState(f,o){}visitTransition(f,o){}visitAnimateChild(f,o){const d=o.subInstructions.get(o.element);if(d){const m=o.createSubContext(f.options),I=o.currentTimeline.currentTime,x=this._visitSubInstructions(d,m,m.options);I!=x&&o.transformIntoNewTimeline(x)}o.previousNode=f}visitAnimateRef(f,o){const d=o.createSubContext(f.options);d.transformIntoNewTimeline(),this._applyAnimationRefDelays([f.options,f.animation.options],o,d),this.visitReference(f.animation,d),o.transformIntoNewTimeline(d.currentTimeline.currentTime),o.previousNode=f}_applyAnimationRefDelays(f,o,d){for(const m of f){const I=m?.delay;if(I){const x="number"==typeof I?I:zn(xd(I,m?.params??{},o.errors));d.delayNextStep(x)}}}_visitSubInstructions(f,o,d){let I=o.currentTimeline.currentTime;const x=null!=d.duration?zn(d.duration):null,K=null!=d.delay?zn(d.delay):null;return 0!==x&&f.forEach(oe=>{const fe=o.appendInstructionToTimeline(oe,x,K);I=Math.max(I,fe.duration+fe.delay)}),I}visitReference(f,o){o.updateOptions(f.options,!0),ts(this,f.animation,o),o.previousNode=f}visitSequence(f,o){const d=o.subContextCount;let m=o;const I=f.options;if(I&&(I.params||I.delay)&&(m=o.createSubContext(I),m.transformIntoNewTimeline(),null!=I.delay)){6==m.previousNode.type&&(m.currentTimeline.snapshotCurrentStyles(),m.previousNode=Vf);const x=zn(I.delay);m.delayNextStep(x)}f.steps.length&&(f.steps.forEach(x=>ts(this,x,m)),m.currentTimeline.applyStylesToKeyframe(),m.subContextCount>d&&m.transformIntoNewTimeline()),o.previousNode=f}visitGroup(f,o){const d=[];let m=o.currentTimeline.currentTime;const I=f.options&&f.options.delay?zn(f.options.delay):0;f.steps.forEach(x=>{const K=o.createSubContext(f.options);I&&K.delayNextStep(I),ts(this,x,K),m=Math.max(m,K.currentTimeline.currentTime),d.push(K.currentTimeline)}),d.forEach(x=>o.currentTimeline.mergeTimelineCollectedStyles(x)),o.transformIntoNewTimeline(m),o.previousNode=f}_visitTiming(f,o){if(f.dynamic){const d=f.strValue;return Nd(o.params?xd(d,o.params,o.errors):d,o.errors)}return{duration:f.duration,delay:f.delay,easing:f.easing}}visitAnimate(f,o){const d=o.currentAnimateTimings=this._visitTiming(f.timings,o),m=o.currentTimeline;d.delay&&(o.incrementTime(d.delay),m.snapshotCurrentStyles());const I=f.style;5==I.type?this.visitKeyframes(I,o):(o.incrementTime(d.duration),this.visitStyle(I,o),m.applyStylesToKeyframe()),o.currentAnimateTimings=null,o.previousNode=f}visitStyle(f,o){const d=o.currentTimeline,m=o.currentAnimateTimings;!m&&d.hasCurrentStyleProperties()&&d.forwardFrame();const I=m&&m.easing||f.easing;f.isEmptyStep?d.applyEmptyStep(I):d.setStyles(f.styles,I,o.errors,o.options),o.previousNode=f}visitKeyframes(f,o){const d=o.currentAnimateTimings,m=o.currentTimeline.duration,I=d.duration,K=o.createSubContext().currentTimeline;K.easing=d.easing,f.styles.forEach(oe=>{K.forwardTime((oe.offset||0)*I),K.setStyles(oe.styles,oe.easing,o.errors,o.options),K.applyStylesToKeyframe()}),o.currentTimeline.mergeTimelineCollectedStyles(K),o.transformIntoNewTimeline(m+I),o.previousNode=f}visitQuery(f,o){const d=o.currentTimeline.currentTime,m=f.options||{},I=m.delay?zn(m.delay):0;I&&(6===o.previousNode.type||0==d&&o.currentTimeline.hasCurrentStyleProperties())&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=Vf);let x=d;const K=o.invokeQuery(f.selector,f.originalSelector,f.limit,f.includeSelf,!!m.optional,o.errors);o.currentQueryTotal=K.length;let oe=null;K.forEach((fe,be)=>{o.currentQueryIndex=be;const We=o.createSubContext(f.options,fe);I&&We.delayNextStep(I),fe===o.element&&(oe=We.currentTimeline),ts(this,f.animation,We),We.currentTimeline.applyStylesToKeyframe(),x=Math.max(x,We.currentTimeline.currentTime)}),o.currentQueryIndex=0,o.currentQueryTotal=0,o.transformIntoNewTimeline(x),oe&&(o.currentTimeline.mergeTimelineCollectedStyles(oe),o.currentTimeline.snapshotCurrentStyles()),o.previousNode=f}visitStagger(f,o){const d=o.parentContext,m=o.currentTimeline,I=f.timings,x=Math.abs(I.duration),K=x*(o.currentQueryTotal-1);let oe=x*o.currentQueryIndex;switch(I.duration<0?"reverse":I.easing){case"reverse":oe=K-oe;break;case"full":oe=d.currentStaggerTime}const be=o.currentTimeline;oe&&be.delayNextStep(oe);const We=be.currentTime;ts(this,f.animation,o),o.previousNode=f,d.currentStaggerTime=m.currentTime-We+(m.startTime-d.currentTimeline.startTime)}}const Vf={};class eo{constructor(f,o,d,m,I,x,K,oe){this._driver=f,this.element=o,this.subInstructions=d,this._enterClassName=m,this._leaveClassName=I,this.errors=x,this.timelines=K,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Vf,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=oe||new Sl(this._driver,o,0),K.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(f,o){if(!f)return;const d=f;let m=this.options;null!=d.duration&&(m.duration=zn(d.duration)),null!=d.delay&&(m.delay=zn(d.delay));const I=d.params;if(I){let x=m.params;x||(x=this.options.params={}),Object.keys(I).forEach(K=>{(!o||!x.hasOwnProperty(K))&&(x[K]=xd(I[K],x,this.errors))})}}_copyOptions(){const f={};if(this.options){const o=this.options.params;if(o){const d=f.params={};Object.keys(o).forEach(m=>{d[m]=o[m]})}}return f}createSubContext(f=null,o,d){const m=o||this.element,I=new eo(this._driver,m,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(m,d||0));return I.previousNode=this.previousNode,I.currentAnimateTimings=this.currentAnimateTimings,I.options=this._copyOptions(),I.updateOptions(f),I.currentQueryIndex=this.currentQueryIndex,I.currentQueryTotal=this.currentQueryTotal,I.parentContext=this,this.subContextCount++,I}transformIntoNewTimeline(f){return this.previousNode=Vf,this.currentTimeline=this.currentTimeline.fork(this.element,f),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(f,o,d){const m={duration:o??f.duration,delay:this.currentTimeline.currentTime+(d??0)+f.delay,easing:""},I=new Ra(this._driver,f.element,f.keyframes,f.preStyleProps,f.postStyleProps,m,f.stretchStartingKeyframe);return this.timelines.push(I),m}incrementTime(f){this.currentTimeline.forwardTime(this.currentTimeline.duration+f)}delayNextStep(f){f>0&&this.currentTimeline.delayNextStep(f)}invokeQuery(f,o,d,m,I,x){let K=[];if(m&&K.push(this.element),f.length>0){f=(f=f.replace(jm,"."+this._enterClassName)).replace(GT,"."+this._leaveClassName);let fe=this._driver.query(this.element,f,1!=d);0!==d&&(fe=d<0?fe.slice(fe.length+d,fe.length):fe.slice(0,d)),K.push(...fe)}return!I&&0==K.length&&x.push(function ab(c){return new u.vHH(3014,!1)}()),K}}class Sl{constructor(f,o,d,m){this._driver=f,this.element=o,this.startTime=d,this._elementTimelineStylesLookup=m,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(o),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(o,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(f){const o=1===this._keyframes.size&&this._pendingStyles.size;this.duration||o?(this.forwardTime(this.currentTime+f),o&&this.snapshotCurrentStyles()):this.startTime+=f}fork(f,o){return this.applyStylesToKeyframe(),new Sl(this._driver,f,o||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(f){this.applyStylesToKeyframe(),this.duration=f,this._loadKeyframe()}_updateStyle(f,o){this._localTimelineStyles.set(f,o),this._globalTimelineStyles.set(f,o),this._styleSummary.set(f,{time:this.currentTime,value:o})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(f){f&&this._previousKeyframe.set("easing",f);for(let[o,d]of this._globalTimelineStyles)this._backFill.set(o,d||os),this._currentKeyframe.set(o,os);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(f,o,d,m){o&&this._previousKeyframe.set("easing",o);const I=m&&m.params||{},x=function $T(c,f){const o=new Map;let d;return c.forEach(m=>{if("*"===m){d=d||f.keys();for(let I of d)o.set(I,os)}else Cl(m,o)}),o}(f,this._globalTimelineStyles);for(let[K,oe]of x){const fe=xd(oe,I,d);this._pendingStyles.set(K,fe),this._localTimelineStyles.has(K)||this._backFill.set(K,this._globalTimelineStyles.get(K)??os),this._updateStyle(K,fe)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((f,o)=>{this._currentKeyframe.set(o,f)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((f,o)=>{this._currentKeyframe.has(o)||this._currentKeyframe.set(o,f)}))}snapshotCurrentStyles(){for(let[f,o]of this._localTimelineStyles)this._pendingStyles.set(f,o),this._updateStyle(f,o)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const f=[];for(let o in this._currentKeyframe)f.push(o);return f}mergeTimelineCollectedStyles(f){f._styleSummary.forEach((o,d)=>{const m=this._styleSummary.get(d);(!m||o.time>m.time)&&this._updateStyle(d,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();const f=new Set,o=new Set,d=1===this._keyframes.size&&0===this.duration;let m=[];this._keyframes.forEach((K,oe)=>{const fe=Cl(K,new Map,this._backFill);fe.forEach((be,We)=>{"!"===be?f.add(We):be===os&&o.add(We)}),d||fe.set("offset",oe/this.duration),m.push(fe)});const I=f.size?uu(f.values()):[],x=o.size?uu(o.values()):[];if(d){const K=m[0],oe=new Map(K);K.set("offset",0),oe.set("offset",1),m=[K,oe]}return Uf(this.element,m,I,x,this.duration,this.startTime,this.easing,!1)}}class Ra extends Sl{constructor(f,o,d,m,I,x,K=!1){super(f,o,x.delay),this.keyframes=d,this.preStyleProps=m,this.postStyleProps=I,this._stretchStartingKeyframe=K,this.timings={duration:x.duration,delay:x.delay,easing:x.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let f=this.keyframes,{delay:o,duration:d,easing:m}=this.timings;if(this._stretchStartingKeyframe&&o){const I=[],x=d+o,K=o/x,oe=Cl(f[0]);oe.set("offset",0),I.push(oe);const fe=Cl(f[0]);fe.set("offset",$m(K)),I.push(fe);const be=f.length-1;for(let We=1;We<=be;We++){let ot=Cl(f[We]);const pt=ot.get("offset");ot.set("offset",$m((o+pt*d)/x)),I.push(ot)}d=x,o=0,m="",f=I}return Uf(this.element,f,this.preStyleProps,this.postStyleProps,d,o,m,!0)}}function $m(c,f=3){const o=Math.pow(10,f-1);return Math.round(c*o)/o}class ws{}const nv=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class vn extends ws{normalizePropertyName(f,o){return Rm(f)}normalizeStyleValue(f,o,d,m){let I="";const x=d.toString().trim();if(nv.has(o)&&0!==d&&"0"!==d)if("number"==typeof d)I="px";else{const K=d.match(/^[+-]?[\d\.]+([a-z]*)$/);K&&0==K[1].length&&m.push(function ob(c,f){return new u.vHH(3005,!1)}())}return x+I}}function Sn(c,f,o,d,m,I,x,K,oe,fe,be,We,ot){return{type:0,element:c,triggerName:f,isRemovalTransition:m,fromState:o,fromStyles:I,toState:d,toStyles:x,timelines:K,queriedElements:oe,preStyleProps:fe,postStyleProps:be,totalTime:We,errors:ot}}const rv={};class Jt{constructor(f,o,d){this._triggerName=f,this.ast=o,this._stateStyles=d}match(f,o,d,m){return function Mt(c,f,o,d,m){return c.some(I=>I(f,o,d,m))}(this.ast.matchers,f,o,d,m)}buildStyles(f,o,d){let m=this._stateStyles.get("*");return void 0!==f&&(m=this._stateStyles.get(f?.toString())||m),m?m.buildStyles(o,d):new Map}build(f,o,d,m,I,x,K,oe,fe,be){const We=[],ot=this.ast.options&&this.ast.options.params||rv,Nt=this.buildStyles(d,K&&K.params||rv,We),Ht=oe&&oe.params||rv,Wt=this.buildStyles(m,Ht,We),Mn=new Set,Hn=new Map,_r=new Map,qt="void"===m,dr={params:lo(Ht,ot),delay:this.ast.options?.delay},rr=be?[]:Gm(f,o,this.ast.animation,I,x,Nt,Wt,dr,fe,We);let yr=0;if(rr.forEach(ei=>{yr=Math.max(ei.duration+ei.delay,yr)}),We.length)return Sn(o,this._triggerName,d,m,qt,Nt,Wt,[],[],Hn,_r,yr,We);rr.forEach(ei=>{const di=ei.element,no=fa(Hn,di,new Set);ei.preStyleProps.forEach(ui=>no.add(ui));const Ds=fa(_r,di,new Set);ei.postStyleProps.forEach(ui=>Ds.add(ui)),di!==o&&Mn.add(di)});const jr=uu(Mn.values());return Sn(o,this._triggerName,d,m,qt,Nt,Wt,rr,jr,Hn,_r,yr)}}function lo(c,f){const o=Hu(f);for(const d in c)c.hasOwnProperty(d)&&null!=c[d]&&(o[d]=c[d]);return o}class iv{constructor(f,o,d){this.styles=f,this.defaultParams=o,this.normalizer=d}buildStyles(f,o){const d=new Map,m=Hu(this.defaultParams);return Object.keys(f).forEach(I=>{const x=f[I];null!==x&&(m[I]=x)}),this.styles.styles.forEach(I=>{"string"!=typeof I&&I.forEach((x,K)=>{x&&(x=xd(x,m,o));const oe=this.normalizer.normalizePropertyName(K,o);x=this.normalizer.normalizeStyleValue(K,oe,x,o),d.set(K,x)})}),d}}class kI{constructor(f,o,d){this.name=f,this.ast=o,this._normalizer=d,this.transitionFactories=[],this.states=new Map,o.states.forEach(m=>{this.states.set(m.name,new iv(m.style,m.options&&m.options.params||{},d))}),sv(this.states,"true","1"),sv(this.states,"false","0"),o.transitions.forEach(m=>{this.transitionFactories.push(new Jt(f,m,this.states))}),this.fallbackTransition=function Tb(c,f,o){return new Jt(c,{type:1,animation:{type:2,steps:[],options:null},matchers:[(x,K)=>!0],options:null,queryCount:0,depCount:0},f)}(f,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(f,o,d,m){return this.transitionFactories.find(x=>x.match(f,o,d,m))||null}matchStyles(f,o,d){return this.fallbackTransition.buildStyles(f,o,d)}}function sv(c,f,o){c.has(f)?c.has(o)||c.set(o,c.get(f)):c.has(o)&&c.set(f,c.get(o))}const dg=new Hm;class Db{constructor(f,o,d){this.bodyNode=f,this._driver=o,this._normalizer=d,this._animations=new Map,this._playersById=new Map,this.players=[]}register(f,o){const d=[],I=bc(this._driver,o,d,[]);if(d.length)throw function lb(c){return new u.vHH(3503,!1)}();this._animations.set(f,I)}_buildPlayer(f,o,d){const m=f.element,I=Dh(this._normalizer,f.keyframes,o,d);return this._driver.animate(m,I,f.duration,f.delay,f.easing,[],!0)}create(f,o,d={}){const m=[],I=this._animations.get(f);let x;const K=new Map;if(I?(x=Gm(this._driver,o,I,ec,Pf,new Map,new Map,d,dg,m),x.forEach(be=>{const We=fa(K,be.element,new Map);be.postStyleProps.forEach(ot=>We.set(ot,null))})):(m.push(function Am(){return new u.vHH(3300,!1)}()),x=[]),m.length)throw function Eh(c){return new u.vHH(3504,!1)}();K.forEach((be,We)=>{be.forEach((ot,pt)=>{be.set(pt,this._driver.computeStyle(We,pt,os))})});const fe=ha(x.map(be=>{const We=K.get(be.element);return this._buildPlayer(be,new Map,We)}));return this._playersById.set(f,fe),fe.onDestroy(()=>this.destroy(f)),this.players.push(fe),fe}destroy(f){const o=this._getPlayer(f);o.destroy(),this._playersById.delete(f);const d=this.players.indexOf(o);d>=0&&this.players.splice(d,1)}_getPlayer(f){const o=this._playersById.get(f);if(!o)throw function ub(c){return new u.vHH(3301,!1)}();return o}listen(f,o,d,m){const I=Nm(o,"","","");return Wy(this._getPlayer(f),d,I,m),()=>{}}command(f,o,d,m){if("register"==d)return void this.register(f,m[0]);if("create"==d)return void this.create(f,o,m[0]||{});const I=this._getPlayer(f);switch(d){case"play":I.play();break;case"pause":I.pause();break;case"reset":I.reset();break;case"restart":I.restart();break;case"finish":I.finish();break;case"init":I.init();break;case"setPosition":I.setPosition(parseFloat(m[0]));break;case"destroy":this.destroy(f)}}}const ov="ng-animate-queued",av="ng-animate-disabled",Sb=[],hs={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Rn={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},rc="__ng_removed";class qr{get params(){return this.options.params}constructor(f,o=""){this.namespaceId=o;const d=f&&f.hasOwnProperty("value");if(this.value=function LI(c){return c??null}(d?f.value:f),d){const I=Hu(f);delete I.value,this.options=I}else this.options={};this.options.params||(this.options.params={})}absorbOptions(f){const o=f.params;if(o){const d=this.options.params;Object.keys(o).forEach(m=>{null==d[m]&&(d[m]=o[m])})}}}const hg="void",Is=new qr(hg);class en{constructor(f,o,d){this.id=f,this.hostElement=o,this._engine=d,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+f,ns(o,this._hostClassName)}listen(f,o,d,m){if(!this._triggers.has(o))throw function NI(c,f){return new u.vHH(3302,!1)}();if(null==d||0==d.length)throw function $y(c){return new u.vHH(3303,!1)}();if(!function UI(c){return"start"==c||"done"==c}(d))throw function db(c,f){return new u.vHH(3400,!1)}();const I=fa(this._elementListeners,f,[]),x={name:o,phase:d,callback:m};I.push(x);const K=fa(this._engine.statesByElement,f,new Map);return K.has(o)||(ns(f,og),ns(f,og+"-"+o),K.set(o,Is)),()=>{this._engine.afterFlush(()=>{const oe=I.indexOf(x);oe>=0&&I.splice(oe,1),this._triggers.has(o)||K.delete(o)})}}register(f,o){return!this._triggers.has(f)&&(this._triggers.set(f,o),!0)}_getTrigger(f){const o=this._triggers.get(f);if(!o)throw function hb(c){return new u.vHH(3401,!1)}();return o}trigger(f,o,d,m=!0){const I=this._getTrigger(o),x=new fg(this.id,o,f);let K=this._engine.statesByElement.get(f);K||(ns(f,og),ns(f,og+"-"+o),this._engine.statesByElement.set(f,K=new Map));let oe=K.get(o);const fe=new qr(d,this.id);if(!(d&&d.hasOwnProperty("value"))&&oe&&fe.absorbOptions(oe.options),K.set(o,fe),oe||(oe=Is),fe.value!==hg&&oe.value===fe.value){if(!function zm(c,f){const o=Object.keys(c),d=Object.keys(f);if(o.length!=d.length)return!1;for(let m=0;m<o.length;m++){const I=o[m];if(!f.hasOwnProperty(I)||c[I]!==f[I])return!1}return!0}(oe.params,fe.params)){const Ht=[],Wt=I.matchStyles(oe.value,oe.params,Ht),Mn=I.matchStyles(fe.value,fe.params,Ht);Ht.length?this._engine.reportError(Ht):this._engine.afterFlush(()=>{lu(f,Wt),tc(f,Mn)})}return}const ot=fa(this._engine.playersByElement,f,[]);ot.forEach(Ht=>{Ht.namespaceId==this.id&&Ht.triggerName==o&&Ht.queued&&Ht.destroy()});let pt=I.matchTransition(oe.value,fe.value,f,fe.params),Nt=!1;if(!pt){if(!m)return;pt=I.fallbackTransition,Nt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:f,triggerName:o,transition:pt,fromState:oe,toState:fe,player:x,isFallbackTransition:Nt}),Nt||(ns(f,ov),x.onStart(()=>{Wu(f,ov)})),x.onDone(()=>{let Ht=this.players.indexOf(x);Ht>=0&&this.players.splice(Ht,1);const Wt=this._engine.playersByElement.get(f);if(Wt){let Mn=Wt.indexOf(x);Mn>=0&&Wt.splice(Mn,1)}}),this.players.push(x),ot.push(x),x}deregister(f){this._triggers.delete(f),this._engine.statesByElement.forEach(o=>o.delete(f)),this._elementListeners.forEach((o,d)=>{this._elementListeners.set(d,o.filter(m=>m.name!=f))})}clearElementCache(f){this._engine.statesByElement.delete(f),this._elementListeners.delete(f);const o=this._engine.playersByElement.get(f);o&&(o.forEach(d=>d.destroy()),this._engine.playersByElement.delete(f))}_signalRemovalForInnerTriggers(f,o){const d=this._engine.driver.query(f,ag,!0);d.forEach(m=>{if(m[rc])return;const I=this._engine.fetchNamespacesByElement(m);I.size?I.forEach(x=>x.triggerLeaveAnimation(m,o,!1,!0)):this.clearElementCache(m)}),this._engine.afterFlushAnimationsDone(()=>d.forEach(m=>this.clearElementCache(m)))}triggerLeaveAnimation(f,o,d,m){const I=this._engine.statesByElement.get(f),x=new Map;if(I){const K=[];if(I.forEach((oe,fe)=>{if(x.set(fe,oe.value),this._triggers.has(fe)){const be=this.trigger(f,fe,hg,m);be&&K.push(be)}}),K.length)return this._engine.markElementAsRemoved(this.id,f,!0,o,x),d&&ha(K).onDone(()=>this._engine.processLeaveNode(f)),!0}return!1}prepareLeaveAnimationListeners(f){const o=this._elementListeners.get(f),d=this._engine.statesByElement.get(f);if(o&&d){const m=new Set;o.forEach(I=>{const x=I.name;if(m.has(x))return;m.add(x);const oe=this._triggers.get(x).fallbackTransition,fe=d.get(x)||Is,be=new qr(hg),We=new fg(this.id,x,f);this._engine.totalQueuedPlayers++,this._queue.push({element:f,triggerName:x,transition:oe,fromState:fe,toState:be,player:We,isFallbackTransition:!0})})}}removeNode(f,o){const d=this._engine;if(f.childElementCount&&this._signalRemovalForInnerTriggers(f,o),this.triggerLeaveAnimation(f,o,!0))return;let m=!1;if(d.totalAnimations){const I=d.players.length?d.playersByQueriedElement.get(f):[];if(I&&I.length)m=!0;else{let x=f;for(;x=x.parentNode;)if(d.statesByElement.get(x)){m=!0;break}}}if(this.prepareLeaveAnimationListeners(f),m)d.markElementAsRemoved(this.id,f,!1,o);else{const I=f[rc];(!I||I===hs)&&(d.afterFlush(()=>this.clearElementCache(f)),d.destroyInnerAnimations(f),d._onRemovalComplete(f,o))}}insertNode(f,o){ns(f,this._hostClassName)}drainQueuedTransitions(f){const o=[];return this._queue.forEach(d=>{const m=d.player;if(m.destroyed)return;const I=d.element,x=this._elementListeners.get(I);x&&x.forEach(K=>{if(K.name==d.triggerName){const oe=Nm(I,d.triggerName,d.fromState.value,d.toState.value);oe._data=f,Wy(d.player,K.phase,oe,K.callback)}}),m.markedForDestroy?this._engine.afterFlush(()=>{m.destroy()}):o.push(d)}),this._queue=[],o.sort((d,m)=>{const I=d.transition.ast.depCount,x=m.transition.ast.depCount;return 0==I||0==x?I-x:this._engine.driver.containsElement(d.element,m.element)?1:-1})}destroy(f){this.players.forEach(o=>o.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,f)}}class jf{_onRemovalComplete(f,o){this.onRemovalComplete(f,o)}constructor(f,o,d){this.bodyNode=f,this.driver=o,this._normalizer=d,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(m,I)=>{}}get queuedPlayers(){const f=[];return this._namespaceList.forEach(o=>{o.players.forEach(d=>{d.queued&&f.push(d)})}),f}createNamespace(f,o){const d=new en(f,o,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,o)?this._balanceNamespaceList(d,o):(this.newHostElements.set(o,d),this.collectEnterElement(o)),this._namespaceLookup[f]=d}_balanceNamespaceList(f,o){const d=this._namespaceList,m=this.namespacesByHostElement;if(d.length-1>=0){let x=!1,K=this.driver.getParentElement(o);for(;K;){const oe=m.get(K);if(oe){const fe=d.indexOf(oe);d.splice(fe+1,0,f),x=!0;break}K=this.driver.getParentElement(K)}x||d.unshift(f)}else d.push(f);return m.set(o,f),f}register(f,o){let d=this._namespaceLookup[f];return d||(d=this.createNamespace(f,o)),d}registerTrigger(f,o,d){let m=this._namespaceLookup[f];m&&m.register(o,d)&&this.totalAnimations++}destroy(f,o){f&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const d=this._fetchNamespace(f);this.namespacesByHostElement.delete(d.hostElement);const m=this._namespaceList.indexOf(d);m>=0&&this._namespaceList.splice(m,1),d.destroy(o),delete this._namespaceLookup[f]}))}_fetchNamespace(f){return this._namespaceLookup[f]}fetchNamespacesByElement(f){const o=new Set,d=this.statesByElement.get(f);if(d)for(let m of d.values())if(m.namespaceId){const I=this._fetchNamespace(m.namespaceId);I&&o.add(I)}return o}trigger(f,o,d,m){if(Ah(o)){const I=this._fetchNamespace(f);if(I)return I.trigger(o,d,m),!0}return!1}insertNode(f,o,d,m){if(!Ah(o))return;const I=o[rc];if(I&&I.setForRemoval){I.setForRemoval=!1,I.setForMove=!0;const x=this.collectedLeaveElements.indexOf(o);x>=0&&this.collectedLeaveElements.splice(x,1)}if(f){const x=this._fetchNamespace(f);x&&x.insertNode(o,d)}m&&this.collectEnterElement(o)}collectEnterElement(f){this.collectedEnterElements.push(f)}markElementAsDisabled(f,o){o?this.disabledNodes.has(f)||(this.disabledNodes.add(f),ns(f,av)):this.disabledNodes.has(f)&&(this.disabledNodes.delete(f),Wu(f,av))}removeNode(f,o,d){if(Ah(o)){const m=f?this._fetchNamespace(f):null;m?m.removeNode(o,d):this.markElementAsRemoved(f,o,!1,d);const I=this.namespacesByHostElement.get(o);I&&I.id!==f&&I.removeNode(o,d)}else this._onRemovalComplete(o,d)}markElementAsRemoved(f,o,d,m,I){this.collectedLeaveElements.push(o),o[rc]={namespaceId:f,setForRemoval:m,hasAnimation:d,removedBeforeQueried:!1,previousTriggersValues:I}}listen(f,o,d,m,I){return Ah(o)?this._fetchNamespace(f).listen(o,d,m,I):()=>{}}_buildInstruction(f,o,d,m,I){return f.transition.build(this.driver,f.element,f.fromState.value,f.toState.value,d,m,f.fromState.options,f.toState.options,o,I)}destroyInnerAnimations(f){let o=this.driver.query(f,ag,!0);o.forEach(d=>this.destroyActiveAnimationsForElement(d)),0!=this.playersByQueriedElement.size&&(o=this.driver.query(f,Od,!0),o.forEach(d=>this.finishActiveQueriedAnimationOnElement(d)))}destroyActiveAnimationsForElement(f){const o=this.playersByElement.get(f);o&&o.forEach(d=>{d.queued?d.markedForDestroy=!0:d.destroy()})}finishActiveQueriedAnimationOnElement(f){const o=this.playersByQueriedElement.get(f);o&&o.forEach(d=>d.finish())}whenRenderingDone(){return new Promise(f=>{if(this.players.length)return ha(this.players).onDone(()=>f());f()})}processLeaveNode(f){const o=f[rc];if(o&&o.setForRemoval){if(f[rc]=hs,o.namespaceId){this.destroyInnerAnimations(f);const d=this._fetchNamespace(o.namespaceId);d&&d.clearElementCache(f)}this._onRemovalComplete(f,o.setForRemoval)}f.classList?.contains(av)&&this.markElementAsDisabled(f,!1),this.driver.query(f,".ng-animate-disabled",!0).forEach(d=>{this.markElementAsDisabled(d,!1)})}flush(f=-1){let o=[];if(this.newHostElements.size&&(this.newHostElements.forEach((d,m)=>this._balanceNamespaceList(d,m)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let d=0;d<this.collectedEnterElements.length;d++)ns(this.collectedEnterElements[d],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const d=[];try{o=this._flushAnimations(d,f)}finally{for(let m=0;m<d.length;m++)d[m]()}}else for(let d=0;d<this.collectedLeaveElements.length;d++)this.processLeaveNode(this.collectedLeaveElements[d]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(d=>d()),this._flushFns=[],this._whenQuietFns.length){const d=this._whenQuietFns;this._whenQuietFns=[],o.length?ha(o).onDone(()=>{d.forEach(m=>m())}):d.forEach(m=>m())}}reportError(f){throw function zy(c){return new u.vHH(3402,!1)}()}_flushAnimations(f,o){const d=new Hm,m=[],I=new Map,x=[],K=new Map,oe=new Map,fe=new Map,be=new Set;this.disabledNodes.forEach(on=>{be.add(on);const bn=this.driver.query(on,".ng-animate-queued",!0);for(let jn=0;jn<bn.length;jn++)be.add(bn[jn])});const We=this.bodyNode,ot=Array.from(this.statesByElement.keys()),pt=lv(ot,this.collectedEnterElements),Nt=new Map;let Ht=0;pt.forEach((on,bn)=>{const jn=ec+Ht++;Nt.set(bn,jn),on.forEach(vr=>ns(vr,jn))});const Wt=[],Mn=new Set,Hn=new Set;for(let on=0;on<this.collectedLeaveElements.length;on++){const bn=this.collectedLeaveElements[on],jn=bn[rc];jn&&jn.setForRemoval&&(Wt.push(bn),Mn.add(bn),jn.hasAnimation?this.driver.query(bn,".ng-star-inserted",!0).forEach(vr=>Mn.add(vr)):Hn.add(bn))}const _r=new Map,qt=lv(ot,Array.from(Mn));qt.forEach((on,bn)=>{const jn=Pf+Ht++;_r.set(bn,jn),on.forEach(vr=>ns(vr,jn))}),f.push(()=>{pt.forEach((on,bn)=>{const jn=Nt.get(bn);on.forEach(vr=>Wu(vr,jn))}),qt.forEach((on,bn)=>{const jn=_r.get(bn);on.forEach(vr=>Wu(vr,jn))}),Wt.forEach(on=>{this.processLeaveNode(on)})});const dr=[],rr=[];for(let on=this._namespaceList.length-1;on>=0;on--)this._namespaceList[on].drainQueuedTransitions(o).forEach(jn=>{const vr=jn.player,rs=jn.element;if(dr.push(vr),this.collectedEnterElements.length){const ks=rs[rc];if(ks&&ks.setForMove){if(ks.previousTriggersValues&&ks.previousTriggersValues.has(jn.triggerName)){const ga=ks.previousTriggersValues.get(jn.triggerName),ko=this.statesByElement.get(jn.element);if(ko&&ko.has(jn.triggerName)){const Bh=ko.get(jn.triggerName);Bh.value=ga,ko.set(jn.triggerName,Bh)}}return void vr.destroy()}}const La=!We||!this.driver.containsElement(We,rs),Po=_r.get(rs),Uc=Nt.get(rs),er=this._buildInstruction(jn,d,Uc,Po,La);if(er.errors&&er.errors.length)return void rr.push(er);if(La)return vr.onStart(()=>lu(rs,er.fromStyles)),vr.onDestroy(()=>tc(rs,er.toStyles)),void m.push(vr);if(jn.isFallbackTransition)return vr.onStart(()=>lu(rs,er.fromStyles)),vr.onDestroy(()=>tc(rs,er.toStyles)),void m.push(vr);const hr=[];er.timelines.forEach(ks=>{ks.stretchStartingKeyframe=!0,this.disabledNodes.has(ks.element)||hr.push(ks)}),er.timelines=hr,d.append(rs,er.timelines),x.push({instruction:er,player:vr,element:rs}),er.queriedElements.forEach(ks=>fa(K,ks,[]).push(vr)),er.preStyleProps.forEach((ks,ga)=>{if(ks.size){let ko=oe.get(ga);ko||oe.set(ga,ko=new Set),ks.forEach((Bh,zd)=>ko.add(zd))}}),er.postStyleProps.forEach((ks,ga)=>{let ko=fe.get(ga);ko||fe.set(ga,ko=new Set),ks.forEach((Bh,zd)=>ko.add(zd))})});if(rr.length){const on=[];rr.forEach(bn=>{on.push(function Om(c,f){return new u.vHH(3505,!1)}())}),dr.forEach(bn=>bn.destroy()),this.reportError(on)}const yr=new Map,jr=new Map;x.forEach(on=>{const bn=on.element;d.has(bn)&&(jr.set(bn,bn),this._beforeAnimationBuild(on.player.namespaceId,on.instruction,yr))}),m.forEach(on=>{const bn=on.element;this._getPreviousPlayers(bn,!1,on.namespaceId,on.triggerName,null).forEach(vr=>{fa(yr,bn,[]).push(vr),vr.destroy()})});const ei=Wt.filter(on=>et(on,oe,fe)),di=new Map;cv(di,this.driver,Hn,fe,os).forEach(on=>{et(on,oe,fe)&&ei.push(on)});const Ds=new Map;pt.forEach((on,bn)=>{cv(Ds,this.driver,new Set(on),oe,"!")}),ei.forEach(on=>{const bn=di.get(on),jn=Ds.get(on);di.set(on,new Map([...bn?.entries()??[],...jn?.entries()??[]]))});const ui=[],Pl=[],kl={};x.forEach(on=>{const{element:bn,player:jn,instruction:vr}=on;if(d.has(bn)){if(be.has(bn))return jn.onDestroy(()=>tc(bn,vr.toStyles)),jn.disabled=!0,jn.overrideTotalTime(vr.totalTime),void m.push(jn);let rs=kl;if(jr.size>1){let Po=bn;const Uc=[];for(;Po=Po.parentNode;){const er=jr.get(Po);if(er){rs=er;break}Uc.push(Po)}Uc.forEach(er=>jr.set(er,rs))}const La=this._buildAnimation(jn.namespaceId,vr,yr,I,Ds,di);if(jn.setRealPlayer(La),rs===kl)ui.push(jn);else{const Po=this.playersByElement.get(rs);Po&&Po.length&&(jn.parentPlayer=ha(Po)),m.push(jn)}}else lu(bn,vr.fromStyles),jn.onDestroy(()=>tc(bn,vr.toStyles)),Pl.push(jn),be.has(bn)&&m.push(jn)}),Pl.forEach(on=>{const bn=I.get(on.element);if(bn&&bn.length){const jn=ha(bn);on.setRealPlayer(jn)}}),m.forEach(on=>{on.parentPlayer?on.syncPlayerEvents(on.parentPlayer):on.destroy()});for(let on=0;on<Wt.length;on++){const bn=Wt[on],jn=bn[rc];if(Wu(bn,Pf),jn&&jn.hasAnimation)continue;let vr=[];if(K.size){let La=K.get(bn);La&&La.length&&vr.push(...La);let Po=this.driver.query(bn,Od,!0);for(let Uc=0;Uc<Po.length;Uc++){let er=K.get(Po[Uc]);er&&er.length&&vr.push(...er)}}const rs=vr.filter(La=>!La.destroyed);rs.length?uv(this,bn,rs):this.processLeaveNode(bn)}return Wt.length=0,ui.forEach(on=>{this.players.push(on),on.onDone(()=>{on.destroy();const bn=this.players.indexOf(on);this.players.splice(bn,1)}),on.play()}),ui}afterFlush(f){this._flushFns.push(f)}afterFlushAnimationsDone(f){this._whenQuietFns.push(f)}_getPreviousPlayers(f,o,d,m,I){let x=[];if(o){const K=this.playersByQueriedElement.get(f);K&&(x=K)}else{const K=this.playersByElement.get(f);if(K){const oe=!I||I==hg;K.forEach(fe=>{fe.queued||!oe&&fe.triggerName!=m||x.push(fe)})}}return(d||m)&&(x=x.filter(K=>!(d&&d!=K.namespaceId||m&&m!=K.triggerName))),x}_beforeAnimationBuild(f,o,d){const I=o.element,x=o.isRemovalTransition?void 0:f,K=o.isRemovalTransition?void 0:o.triggerName;for(const oe of o.timelines){const fe=oe.element,be=fe!==I,We=fa(d,fe,[]);this._getPreviousPlayers(fe,be,x,K,o.toState).forEach(pt=>{const Nt=pt.getRealPlayer();Nt.beforeDestroy&&Nt.beforeDestroy(),pt.destroy(),We.push(pt)})}lu(I,o.fromStyles)}_buildAnimation(f,o,d,m,I,x){const K=o.triggerName,oe=o.element,fe=[],be=new Set,We=new Set,ot=o.timelines.map(Nt=>{const Ht=Nt.element;be.add(Ht);const Wt=Ht[rc];if(Wt&&Wt.removedBeforeQueried)return new Yr(Nt.duration,Nt.delay);const Mn=Ht!==oe,Hn=function BI(c){const f=[];return Rd(c,f),f}((d.get(Ht)||Sb).map(yr=>yr.getRealPlayer())).filter(yr=>!!yr.element&&yr.element===Ht),_r=I.get(Ht),qt=x.get(Ht),dr=Dh(this._normalizer,Nt.keyframes,_r,qt),rr=this._buildPlayer(Nt,dr,Hn);if(Nt.subTimeline&&m&&We.add(Ht),Mn){const yr=new fg(f,K,Ht);yr.setRealPlayer(rr),fe.push(yr)}return rr});fe.forEach(Nt=>{fa(this.playersByQueriedElement,Nt.element,[]).push(Nt),Nt.onDone(()=>function hu(c,f,o){let d=c.get(f);if(d){if(d.length){const m=d.indexOf(o);d.splice(m,1)}0==d.length&&c.delete(f)}return d}(this.playersByQueriedElement,Nt.element,Nt))}),be.forEach(Nt=>ns(Nt,cg));const pt=ha(ot);return pt.onDestroy(()=>{be.forEach(Nt=>Wu(Nt,cg)),tc(oe,o.toStyles)}),We.forEach(Nt=>{fa(m,Nt,[]).push(pt)}),pt}_buildPlayer(f,o,d){return o.length>0?this.driver.animate(f.element,o,f.duration,f.delay,f.easing,d):new Yr(f.duration,f.delay)}}class fg{constructor(f,o,d){this.namespaceId=f,this.triggerName=o,this.element=d,this._player=new Yr,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(f){this._containsRealPlayer||(this._player=f,this._queuedCallbacks.forEach((o,d)=>{o.forEach(m=>Wy(f,d,void 0,m))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(f.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(f){this.totalTime=f}syncPlayerEvents(f){const o=this._player;o.triggerCallback&&f.onStart(()=>o.triggerCallback("start")),f.onDone(()=>this.finish()),f.onDestroy(()=>this.destroy())}_queueEvent(f,o){fa(this._queuedCallbacks,f,[]).push(o)}onDone(f){this.queued&&this._queueEvent("done",f),this._player.onDone(f)}onStart(f){this.queued&&this._queueEvent("start",f),this._player.onStart(f)}onDestroy(f){this.queued&&this._queueEvent("destroy",f),this._player.onDestroy(f)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(f){this.queued||this._player.setPosition(f)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(f){const o=this._player;o.triggerCallback&&o.triggerCallback(f)}}function Ah(c){return c&&1===c.nodeType}function Gf(c,f){const o=c.style.display;return c.style.display=f??"none",o}function cv(c,f,o,d,m){const I=[];o.forEach(oe=>I.push(Gf(oe)));const x=[];d.forEach((oe,fe)=>{const be=new Map;oe.forEach(We=>{const ot=f.computeStyle(fe,We,m);be.set(We,ot),(!ot||0==ot.length)&&(fe[rc]=Rn,x.push(fe))}),c.set(fe,be)});let K=0;return o.forEach(oe=>Gf(oe,I[K++])),x}function lv(c,f){const o=new Map;if(c.forEach(K=>o.set(K,[])),0==f.length)return o;const m=new Set(f),I=new Map;function x(K){if(!K)return 1;let oe=I.get(K);if(oe)return oe;const fe=K.parentNode;return oe=o.has(fe)?fe:m.has(fe)?1:x(fe),I.set(K,oe),oe}return f.forEach(K=>{const oe=x(K);1!==oe&&o.get(oe).push(K)}),o}function ns(c,f){c.classList?.add(f)}function Wu(c,f){c.classList?.remove(f)}function uv(c,f,o){ha(o).onDone(()=>c.processLeaveNode(f))}function Rd(c,f){for(let o=0;o<c.length;o++){const d=c[o];d instanceof Us?Rd(d.players,f):f.push(d)}}function et(c,f,o){const d=o.get(c);if(!d)return!1;let m=f.get(c);return m?d.forEach(I=>m.add(I)):f.set(c,d),o.delete(c),!0}class $f{constructor(f,o,d){this.bodyNode=f,this._driver=o,this._normalizer=d,this._triggerCache={},this.onRemovalComplete=(m,I)=>{},this._transitionEngine=new jf(f,o,d),this._timelineEngine=new Db(f,o,d),this._transitionEngine.onRemovalComplete=(m,I)=>this.onRemovalComplete(m,I)}registerTrigger(f,o,d,m,I){const x=f+"-"+m;let K=this._triggerCache[x];if(!K){const oe=[],be=bc(this._driver,I,oe,[]);if(oe.length)throw function cu(c,f){return new u.vHH(3404,!1)}();K=function PI(c,f,o){return new kI(c,f,o)}(m,be,this._normalizer),this._triggerCache[x]=K}this._transitionEngine.registerTrigger(o,m,K)}register(f,o){this._transitionEngine.register(f,o)}destroy(f,o){this._transitionEngine.destroy(f,o)}onInsert(f,o,d,m){this._transitionEngine.insertNode(f,o,d,m)}onRemove(f,o,d){this._transitionEngine.removeNode(f,o,d)}disableAnimations(f,o){this._transitionEngine.markElementAsDisabled(f,o)}process(f,o,d,m){if("@"==d.charAt(0)){const[I,x]=Cd(d);this._timelineEngine.command(I,o,x,m)}else this._transitionEngine.trigger(f,o,d,m)}listen(f,o,d,m,I){if("@"==d.charAt(0)){const[x,K]=Cd(d);return this._timelineEngine.listen(x,o,K,I)}return this._transitionEngine.listen(f,o,d,m,I)}flush(f=-1){this._transitionEngine.flush(f)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(f){this._transitionEngine.afterFlushAnimationsDone(f)}}let VI=(()=>{class c{static#e=this.initialStylesByElement=new WeakMap;constructor(o,d,m){this._element=o,this._startStyles=d,this._endStyles=m,this._state=0;let I=c.initialStylesByElement.get(o);I||c.initialStylesByElement.set(o,I=new Map),this._initialStyles=I}start(){this._state<1&&(this._startStyles&&tc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(tc(this._element,this._initialStyles),this._endStyles&&(tc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(c.initialStylesByElement.delete(this._element),this._startStyles&&(lu(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(lu(this._element,this._endStyles),this._endStyles=null),tc(this._element,this._initialStyles),this._state=3)}}return c})();function Oh(c){let f=null;return c.forEach((o,d)=>{(function fu(c){return"display"===c||"position"===c})(d)&&(f=f||new Map,f.set(d,o))}),f}class Ab{constructor(f,o,d,m){this.element=f,this.keyframes=o,this.options=d,this._specialStyles=m,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=d.duration,this._delay=d.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(f=>f()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const f=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,f,this.options),this._finalKeyframe=f.length?f[f.length-1]:new Map;const o=()=>this._onFinish();this.domPlayer.addEventListener("finish",o),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",o)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(f){const o=[];return f.forEach(d=>{o.push(Object.fromEntries(d))}),o}_triggerWebAnimation(f,o,d){return f.animate(this._convertKeyframesToObject(o),d)}onStart(f){this._originalOnStartFns.push(f),this._onStartFns.push(f)}onDone(f){this._originalOnDoneFns.push(f),this._onDoneFns.push(f)}onDestroy(f){this._onDestroyFns.push(f)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(f=>f()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(f=>f()),this._onDestroyFns=[])}setPosition(f){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=f*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const f=new Map;this.hasStarted()&&this._finalKeyframe.forEach((d,m)=>{"offset"!==m&&f.set(m,this._finished?d:Qy(this.element,m))}),this.currentSnapshot=f}triggerCallback(f){const o="start"===f?this._onStartFns:this._onDoneFns;o.forEach(d=>d()),o.length=0}}class Pa{validateStyleProperty(f){return!0}validateAnimatableStyleProperty(f){return!0}matchesElement(f,o){return!1}containsElement(f,o){return Ky(f,o)}getParentElement(f){return Ad(f)}query(f,o,d){return xI(f,o,d)}computeStyle(f,o,d){return window.getComputedStyle(f)[o]}animate(f,o,d,m,I,x=[]){const oe={duration:d,delay:m,fill:0==m?"both":"forwards"};I&&(oe.easing=I);const fe=new Map,be=x.filter(pt=>pt instanceof Ab);(function vb(c,f){return 0===c||0===f})(d,m)&&be.forEach(pt=>{pt.currentSnapshot.forEach((Nt,Ht)=>fe.set(Ht,Nt))});let We=function lg(c){return c.length?c[0]instanceof Map?c:c.map(f=>mb(f)):[]}(o).map(pt=>Cl(pt));We=function Pm(c,f,o){if(o.size&&f.length){let d=f[0],m=[];if(o.forEach((I,x)=>{d.has(x)||m.push(x),d.set(x,I)}),m.length)for(let I=1;I<f.length;I++){let x=f[I];m.forEach(K=>x.set(K,Qy(c,K)))}}return f}(f,We,fe);const ot=function wc(c,f){let o=null,d=null;return Array.isArray(f)&&f.length?(o=Oh(f[0]),f.length>1&&(d=Oh(f[f.length-1]))):f instanceof Map&&(o=Oh(f)),o||d?new VI(c,o,d):null}(f,We);return new Ab(f,We,oe,ot)}}let zf=(()=>{class c extends Bo{constructor(o,d){super(),this._nextAnimationId=0,this._renderer=o.createRenderer(d.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(o){const d=this._nextAnimationId.toString();this._nextAnimationId++;const m=Array.isArray(o)?po(o):o;return pg(this._renderer,null,d,"register",[m]),new Zo(d,this._renderer)}static#e=this.\u0275fac=function(d){return new(d||c)(u.LFG(u.FYo),u.LFG(Ce.K0))};static#t=this.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac})}return c})();class Zo extends ss{constructor(f,o){super(),this._id=f,this._renderer=o}create(f,o){return new Nh(this._id,f,o||{},this._renderer)}}class Nh{constructor(f,o,d,m){this.id=f,this.element=o,this._renderer=m,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",d)}_listen(f,o){return this._renderer.listen(this.element,`@@${this.id}:${f}`,o)}_command(f,...o){return pg(this._renderer,this.element,this.id,f,o)}onDone(f){this._listen("done",f)}onStart(f){this._listen("start",f)}onDestroy(f){this._listen("destroy",f)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(f){this._command("setPosition",f)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function pg(c,f,o,d,m){return c.setProperty(f,`@@${o}:${d}`,m)}const Pd="@.disabled";let pu=(()=>{class c{constructor(o,d,m){this.delegate=o,this.engine=d,this._zone=m,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,d.onRemovalComplete=(I,x)=>{const K=x?.parentNode(I);K&&x.removeChild(K,I)}}createRenderer(o,d){const I=this.delegate.createRenderer(o,d);if(!(o&&d&&d.data&&d.data.animation)){let be=this._rendererCache.get(I);return be||(be=new kd("",I,this.engine,()=>this._rendererCache.delete(I)),this._rendererCache.set(I,be)),be}const x=d.id,K=d.id+"-"+this._currentId;this._currentId++,this.engine.register(K,o);const oe=be=>{Array.isArray(be)?be.forEach(oe):this.engine.registerTrigger(x,K,o,be.name,be)};return d.data.animation.forEach(oe),new to(this,K,I,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(o,d,m){o>=0&&o<this._microtaskId?this._zone.run(()=>d(m)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(I=>{const[x,K]=I;x(K)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([d,m]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(d){return new(d||c)(u.LFG(u.FYo),u.LFG($f),u.LFG(u.R0b))};static#t=this.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac})}return c})();class kd{constructor(f,o,d,m){this.namespaceId=f,this.delegate=o,this.engine=d,this._onDestroy=m}get data(){return this.delegate.data}destroyNode(f){this.delegate.destroyNode?.(f)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(f,o){return this.delegate.createElement(f,o)}createComment(f){return this.delegate.createComment(f)}createText(f){return this.delegate.createText(f)}appendChild(f,o){this.delegate.appendChild(f,o),this.engine.onInsert(this.namespaceId,o,f,!1)}insertBefore(f,o,d,m=!0){this.delegate.insertBefore(f,o,d),this.engine.onInsert(this.namespaceId,o,f,m)}removeChild(f,o,d){this.engine.onRemove(this.namespaceId,o,this.delegate)}selectRootElement(f,o){return this.delegate.selectRootElement(f,o)}parentNode(f){return this.delegate.parentNode(f)}nextSibling(f){return this.delegate.nextSibling(f)}setAttribute(f,o,d,m){this.delegate.setAttribute(f,o,d,m)}removeAttribute(f,o,d){this.delegate.removeAttribute(f,o,d)}addClass(f,o){this.delegate.addClass(f,o)}removeClass(f,o){this.delegate.removeClass(f,o)}setStyle(f,o,d,m){this.delegate.setStyle(f,o,d,m)}removeStyle(f,o,d){this.delegate.removeStyle(f,o,d)}setProperty(f,o,d){"@"==o.charAt(0)&&o==Pd?this.disableAnimations(f,!!d):this.delegate.setProperty(f,o,d)}setValue(f,o){this.delegate.setValue(f,o)}listen(f,o,d){return this.delegate.listen(f,o,d)}disableAnimations(f,o){this.engine.disableAnimations(f,o)}}class to extends kd{constructor(f,o,d,m,I){super(o,d,m,I),this.factory=f,this.namespaceId=o}setProperty(f,o,d){"@"==o.charAt(0)?"."==o.charAt(1)&&o==Pd?this.disableAnimations(f,d=void 0===d||!!d):this.engine.process(this.namespaceId,f,o.slice(1),d):this.delegate.setProperty(f,o,d)}listen(f,o,d){if("@"==o.charAt(0)){const m=function Wf(c){switch(c){case"body":return document.body;case"document":return document;case"window":return window;default:return c}}(f);let I=o.slice(1),x="";return"@"!=I.charAt(0)&&([I,x]=function Mh(c){const f=c.indexOf(".");return[c.substring(0,f),c.slice(f+1)]}(I)),this.engine.listen(this.namespaceId,m,I,x,K=>{this.factory.scheduleListenerCallback(K._data||-1,d,K)})}return this.delegate.listen(f,o,d)}}const Fd=[{provide:Bo,useClass:zf},{provide:ws,useFactory:function xh(){return new vn}},{provide:$f,useClass:(()=>{class c extends $f{constructor(o,d,m,I){super(o.body,d,m)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(d){return new(d||c)(u.LFG(Ce.K0),u.LFG(Yy),u.LFG(ws),u.LFG(u.z2F))};static#t=this.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac})}return c})()},{provide:u.FYo,useFactory:function qu(c,f,o){return new pu(c,f,o)},deps:[b.se,$f,u.R0b]}],Wm=[{provide:Yy,useFactory:()=>new Pa},{provide:u.QbO,useValue:"BrowserAnimations"},...Fd],dv=[{provide:Yy,useClass:gb},{provide:u.QbO,useValue:"NoopAnimations"},...Fd];let Ob=(()=>{class c{static withConfig(o){return{ngModule:c,providers:o.disableAnimations?dv:Wm}}static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({providers:Wm,imports:[b.b2]})}return c})();var Nb=$(2381),Mb=$(3093),xb=$(6699);const gg={},Rh="@ngrx/store/init";let ka=(()=>{class c extends fs.X{constructor(){super({type:Rh})}next(o){if("function"==typeof o)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof o>"u")throw new TypeError("Actions must be objects");if(typeof o.type>"u")throw new TypeError("Actions must have a type property");super.next(o)}complete(){}ngOnDestroy(){super.complete()}static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac})}return c})();const mg=[ka],mi=new u.OlP("@ngrx/store Internal Root Guard"),Zu=new u.OlP("@ngrx/store Internal Initial State"),ho=new u.OlP("@ngrx/store Initial State"),Ki=new u.OlP("@ngrx/store Reducer Factory"),Ph=new u.OlP("@ngrx/store Internal Reducer Factory Provider"),kh=new u.OlP("@ngrx/store Initial Reducers"),Fa=new u.OlP("@ngrx/store Internal Initial Reducers"),mv=new u.OlP("@ngrx/store Store Features"),qI=new u.OlP("@ngrx/store Internal Store Reducers"),Es=new u.OlP("@ngrx/store Internal Feature Reducers"),_g=new u.OlP("@ngrx/store Internal Feature Configs"),Lc=new u.OlP("@ngrx/store Internal Store Features"),Ps=new u.OlP("@ngrx/store Internal Feature Reducers Token"),Ol=new u.OlP("@ngrx/store Feature Reducers"),yg=new u.OlP("@ngrx/store User Provided Meta Reducers"),Ku=new u.OlP("@ngrx/store Meta Reducers"),qf=new u.OlP("@ngrx/store Internal Resolved Meta Reducers"),_v=new u.OlP("@ngrx/store User Runtime Checks Config"),Ld=new u.OlP("@ngrx/store Internal User Runtime Checks Config"),nl=new u.OlP("@ngrx/store Internal Runtime Checks"),Yu=new u.OlP("@ngrx/store Check if Action types are unique");function Fh(c,f={}){const o=Object.keys(c),d={};for(let I=0;I<o.length;I++){const x=o[I];"function"==typeof c[x]&&(d[x]=c[x])}const m=Object.keys(d);return function(x,K){x=void 0===x?f:x;let oe=!1;const fe={};for(let be=0;be<m.length;be++){const We=m[be],pt=x[We],Nt=(0,d[We])(pt,K);fe[We]=Nt,oe=oe||Nt!==pt}return oe?fe:x}}function yv(...c){return function(f){if(0===c.length)return f;const o=c[c.length-1];return c.slice(0,-1).reduceRight((m,I)=>I(m),o(f))}}function Bd(c,f){return Array.isArray(f)&&f.length>0&&(c=yv.apply(null,[...f,c])),(o,d)=>{const m=c(o);return(I,x)=>m(I=void 0===I?d:I,x)}}new u.OlP("@ngrx/store Root Store Provider"),new u.OlP("@ngrx/store Feature State Provider");class Ju extends yo.y{}class Vd extends ka{}let il=(()=>{class c extends fs.X{get currentReducers(){return this.reducers}constructor(o,d,m,I){super(I(m,d)),this.dispatcher=o,this.initialState=d,this.reducers=m,this.reducerFactory=I}addFeature(o){this.addFeatures([o])}addFeatures(o){const d=o.reduce((m,{reducers:I,reducerFactory:x,metaReducers:K,initialState:oe,key:fe})=>{const be="function"==typeof I?function vg(c){const f=Array.isArray(c)&&c.length>0?yv(...c):o=>o;return(o,d)=>(o=f(o),(m,I)=>o(m=void 0===m?d:m,I))}(K)(I,oe):Bd(x,K)(I,oe);return m[fe]=be,m},{});this.addReducers(d)}removeFeature(o){this.removeFeatures([o])}removeFeatures(o){this.removeReducers(o.map(d=>d.key))}addReducer(o,d){this.addReducers({[o]:d})}addReducers(o){this.reducers={...this.reducers,...o},this.updateReducers(Object.keys(o))}removeReducer(o){this.removeReducers([o])}removeReducers(o){o.forEach(d=>{this.reducers=function Ud(c,f){return Object.keys(c).filter(o=>o!==f).reduce((o,d)=>Object.assign(o,{[d]:c[d]}),{})}(this.reducers,d)}),this.updateReducers(o)}updateReducers(o){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:"@ngrx/store/update-reducers",features:o})}ngOnDestroy(){this.complete()}static#e=this.\u0275fac=function(d){return new(d||c)(u.LFG(Vd),u.LFG(ho),u.LFG(kh),u.LFG(Ki))};static#t=this.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac})}return c})();const qm=[il,{provide:Ju,useExisting:il},{provide:Vd,useExisting:ka}];let Kf=(()=>{class c extends hi.x{ngOnDestroy(){this.complete()}static#e=this.\u0275fac=function(){let o;return function(m){return(o||(o=u.n5z(c)))(m||c)}}();static#t=this.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac})}return c})();const Zm=[Kf];class Yf extends yo.y{}let vv=(()=>{class c extends fs.X{static#e=this.INIT=Rh;constructor(o,d,m,I){super(I);const fe=o.pipe((0,Mb.Q)(Nb.N)).pipe(Fr(d)).pipe((0,xb.R)(Km,{state:I}));this.stateSubscription=fe.subscribe(({state:be,action:We})=>{this.next(be),m.next(We)}),this.state=nd(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}static#t=this.\u0275fac=function(d){return new(d||c)(u.LFG(ka),u.LFG(Ju),u.LFG(Kf),u.LFG(ho))};static#n=this.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac})}return c})();function Km(c={state:void 0},[f,o]){const{state:d}=c;return{state:o(d,f),action:f}}const Ym=[vv,{provide:Yf,useExisting:vv}];let Jf=(()=>{class c extends yo.y{constructor(o,d,m){super(),this.actionsObserver=d,this.reducerManager=m,this.source=o,this.state=o.state}select(o,...d){return pa.call(null,o,...d)(this)}selectSignal(o,d){return(0,u.Flj)(()=>o(this.state()),{equal:d?.equal||((m,I)=>m===I)})}lift(o){const d=new c(this,this.actionsObserver,this.reducerManager);return d.operator=o,d}dispatch(o){this.actionsObserver.next(o)}next(o){this.actionsObserver.next(o)}error(o){this.actionsObserver.error(o)}complete(){this.actionsObserver.complete()}addReducer(o,d){this.reducerManager.addReducer(o,d)}removeReducer(o){this.reducerManager.removeReducer(o)}static#e=this.\u0275fac=function(d){return new(d||c)(u.LFG(Yf),u.LFG(ka),u.LFG(il))};static#t=this.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac})}return c})();const bv=[Jf];function pa(c,f,...o){return function(m){let I;if("string"==typeof c){const x=[f,...o].filter(Boolean);I=m.pipe(function hv(...c){const f=c.length;if(0===f)throw new Error("list of properties cannot be empty.");return(0,ae.U)(o=>{let d=o;for(let m=0;m<f;m++){const I=d?.[c[m]];if(!(typeof I<"u"))return;d=I}return d})}(c,...x))}else{if("function"!=typeof c)throw new TypeError(`Unexpected type '${typeof c}' in select operator, expected 'string' or 'function'`);I=m.pipe((0,ae.U)(x=>c(x,f)))}return I.pipe((0,Hs.x)())}}const Jm="https://ngrx.io/guide/store/configuration/runtime-checks";function Li(c){return void 0===c}function Ml(c){return null===c}function Qm(c){return Array.isArray(c)}function e_(c){return"object"==typeof c&&null!==c}function Qu(c){return"function"==typeof c}function xl(c){return c instanceof u.OlP?(0,u.f3M)(c):c}function Qf(c,f){return f.map((o,d)=>{if(c[d]instanceof u.OlP){const m=(0,u.f3M)(c[d]);return{key:o.key,reducerFactory:m.reducerFactory?m.reducerFactory:Fh,metaReducers:m.metaReducers?m.metaReducers:[],initialState:m.initialState}}return o})}function o_(c){return c.map(f=>f instanceof u.OlP?(0,u.f3M)(f):f)}function Xf(c){return"function"==typeof c?c():c}function YI(c,f){return c.concat(f)}function jd(){if((0,u.f3M)(Jf,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function Gd(c){Object.freeze(c);const f=Qu(c);return Object.getOwnPropertyNames(c).forEach(o=>{if(!o.startsWith("\u0275")&&function t_(c,f){return Object.prototype.hasOwnProperty.call(c,f)}(c,o)&&(!f||"caller"!==o&&"callee"!==o&&"arguments"!==o)){const d=c[o];(e_(d)||Qu(d))&&!Object.isFrozen(d)&&Gd(d)}}),c}function Ig(c,f=[]){return(Li(c)||Ml(c))&&0===f.length?{path:["root"],value:c}:Object.keys(c).reduce((d,m)=>{if(d)return d;const I=c[m];return function wv(c){return Qu(c)&&c.hasOwnProperty("\u0275cmp")}(I)?d:!(Li(I)||Ml(I)||function ZI(c){return"number"==typeof c}(I)||function Lh(c){return"boolean"==typeof c}(I)||function Xm(c){return"string"==typeof c}(I)||Qm(I))&&(function li(c){if(!function Hr(c){return e_(c)&&!Qm(c)}(c))return!1;const f=Object.getPrototypeOf(c);return f===Object.prototype||null===f}(I)?Ig(I,[...f,m]):{path:[...f,m],value:I})},!1)}function Ts(c,f){if(!1===c)return;const o=c.path.join("."),d=new Error(`Detected unserializable ${f} at "${o}". ${Jm}#strict${f}serializability`);throw d.value=c.value,d.unserializablePath=o,d}function Uh(c){return(0,u.X6Q)()?{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1,...c}:{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function sc({strictActionSerializability:c,strictStateSerializability:f}){return o=>c||f?function Sv(c,f){return function(o,d){f.action(d)&&Ts(Ig(d),"action");const m=c(o,d);return f.state()&&Ts(Ig(m),"state"),m}}(o,{action:d=>c&&!ep(d),state:()=>f}):o}function c_({strictActionImmutability:c,strictStateImmutability:f}){return o=>c||f?function Pb(c,f){return function(o,d){const m=f.action(d)?Gd(d):d,I=c(o,m);return f.state()?Gd(I):I}}(o,{action:d=>c&&!ep(d),state:()=>f}):o}function ep(c){return c.type.startsWith("@ngrx")}function tp({strictActionWithinNgZone:c}){return f=>c?function a_(c,f){return function(o,d){if(f.action(d)&&!u.R0b.isInAngularZone())throw new Error(`Action '${d.type}' running outside NgZone. ${Jm}#strictactionwithinngzone`);return c(o,d)}}(f,{action:o=>c&&!ep(o)}):f}function Av(c){return[{provide:Ld,useValue:c},{provide:_v,useFactory:Eg,deps:[Ld]},{provide:nl,deps:[_v],useFactory:Uh},{provide:Ku,multi:!0,deps:[nl],useFactory:c_},{provide:Ku,multi:!0,deps:[nl],useFactory:sc},{provide:Ku,multi:!0,deps:[nl],useFactory:tp}]}function ed(){return[{provide:Yu,multi:!0,deps:[nl],useFactory:kb}]}function Eg(c){return c}function kb(c){if(!c.strictActionTypeUniqueness)return;const f=Object.entries(gg).filter(([,o])=>o>1).map(([o])=>o);if(f.length)throw new Error(`Action types are registered more than once, ${f.map(o=>`"${o}"`).join(", ")}. ${Jm}#strictactiontypeuniqueness`)}function Lb(c={},f={}){return[{provide:mi,useFactory:jd},{provide:Zu,useValue:f.initialState},{provide:ho,useFactory:Xf,deps:[Zu]},{provide:Fa,useValue:c},{provide:qI,useExisting:c instanceof u.OlP?c:Fa},{provide:kh,deps:[Fa,[new u.tBr(qI)]],useFactory:xl},{provide:yg,useValue:f.metaReducers?f.metaReducers:[]},{provide:qf,deps:[Ku,yg],useFactory:YI},{provide:Ph,useValue:f.reducerFactory?f.reducerFactory:Fh},{provide:Ki,deps:[Ph,qf],useFactory:Bd},mg,qm,Zm,Ym,bv,Av(f.runtimeChecks),ed()]}function Ov(c,f,o={}){return[{provide:_g,multi:!0,useValue:c instanceof Object?{}:o},{provide:mv,multi:!0,useValue:{key:c instanceof Object?c.name:c,reducerFactory:o instanceof u.OlP||!o.reducerFactory?Fh:o.reducerFactory,metaReducers:o instanceof u.OlP||!o.metaReducers?[]:o.metaReducers,initialState:o instanceof u.OlP||!o.initialState?void 0:o.initialState}},{provide:Lc,deps:[_g,mv],useFactory:Qf},{provide:Es,multi:!0,useValue:c instanceof Object?c.reducer:f},{provide:Ps,multi:!0,useExisting:f instanceof u.OlP?f:Es},{provide:Ol,multi:!0,deps:[Es,[new u.tBr(Ps)]],useFactory:o_},ed()]}let sl=(()=>{class c{constructor(o,d,m,I,x,K){}static#e=this.\u0275fac=function(d){return new(d||c)(u.LFG(ka),u.LFG(Ju),u.LFG(Kf),u.LFG(Jf),u.LFG(mi,8),u.LFG(Yu,8))};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})(),Rl=(()=>{class c{constructor(o,d,m,I,x){this.features=o,this.featureReducers=d,this.reducerManager=m;const K=o.map((oe,fe)=>{const We=d.shift()[fe];return{...oe,reducers:We,initialState:Xf(oe.initialState)}});m.addFeatures(K)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}static#e=this.\u0275fac=function(d){return new(d||c)(u.LFG(Lc),u.LFG(Ol),u.LFG(il),u.LFG(sl),u.LFG(Yu,8))};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})(),oc=(()=>{class c{static forRoot(o,d){return{ngModule:sl,providers:[...Lb(o,d)]}}static forFeature(o,d,m={}){return{ngModule:Rl,providers:[...Ov(o,d,m)]}}static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})(),mr=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c,bootstrap:[$r]});static#n=this.\u0275inj=u.cJS({imports:[b.b2,Fn,Dm.r,Ob,(0,as.hX)(()=>(0,as.ZF)(Xo.N.firebaseConfig)),(0,Qt.Cm)(()=>(0,Qt.ad)()),ji,sb,oc.forRoot({},{})]})}return c})();b.q6().bootstrapModule(mr).catch(c=>console.error(c))},9402:function(Vt){Vt.exports=function(Be){function $(X){if(b[X])return b[X].exports;var u=b[X]={exports:{},id:X,loaded:!1};return Be[X].call(u.exports,u,u.exports,$),u.loaded=!0,u.exports}var b={};return $.m=Be,$.c=b,$.p="dist/",$(0)}([function(Be,$,b){"use strict";function X(Le){return Le&&Le.__esModule?Le:{default:Le}}var u=Object.assign||function(Le){for(var ut=1;ut<arguments.length;ut++){var wn=arguments[ut];for(var dt in wn)Object.prototype.hasOwnProperty.call(wn,dt)&&(Le[dt]=wn[dt])}return Le},ae=(X(b(1)),b(6)),he=X(ae),ke=X(b(7)),re=X(b(8)),Se=X(b(9)),Me=X(b(10)),It=X(b(11)),Ct=X(b(14)),cn=[],Tt=!1,st={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},rt=function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(Tt=!0),Tt)return cn=(0,It.default)(cn,st),(0,Me.default)(cn,st.once),cn},yt=function(){cn=(0,Ct.default)(),rt()};Be.exports={init:function(Le){st=u(st,Le),cn=(0,Ct.default)();var ut=document.all&&!window.atob;return function(Le){return!0===Le||"mobile"===Le&&Se.default.mobile()||"phone"===Le&&Se.default.phone()||"tablet"===Le&&Se.default.tablet()||"function"==typeof Le&&!0===Le()}(st.disable)||ut?void cn.forEach(function(Le,ut){Le.node.removeAttribute("data-aos"),Le.node.removeAttribute("data-aos-easing"),Le.node.removeAttribute("data-aos-duration"),Le.node.removeAttribute("data-aos-delay")}):(st.disableMutationObserver||re.default.isSupported()||(console.info('\n      aos: MutationObserver is not supported on this browser,\n      code mutations observing has been disabled.\n      You may have to call "refreshHard()" by yourself.\n    '),st.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",st.easing),document.querySelector("body").setAttribute("data-aos-duration",st.duration),document.querySelector("body").setAttribute("data-aos-delay",st.delay),"DOMContentLoaded"===st.startEvent&&["complete","interactive"].indexOf(document.readyState)>-1?rt(!0):"load"===st.startEvent?window.addEventListener(st.startEvent,function(){rt(!0)}):document.addEventListener(st.startEvent,function(){rt(!0)}),window.addEventListener("resize",(0,ke.default)(rt,st.debounceDelay,!0)),window.addEventListener("orientationchange",(0,ke.default)(rt,st.debounceDelay,!0)),window.addEventListener("scroll",(0,he.default)(function(){(0,Me.default)(cn,st.once)},st.throttleDelay)),st.disableMutationObserver||re.default.ready("[data-aos]",yt),cn)},refresh:rt,refreshHard:yt}},function(Be,$){},,,,,function(Be,$){(function(b){"use strict";function X(Ae,_e,Le){function ut(ft){var In=je,Jn=Ze;return je=Ze=void 0,Lt=ft,Ke=Ae.apply(Jn,In)}function sn(ft){var In=ft-St;return void 0===St||In>=_e||In<0||tn&&ft-Lt>=He}function _n(){var ft=ze();return sn(ft)?On(ft):void(gt=setTimeout(_n,function dt(ft){var cr=_e-(ft-St);return tn?yt(cr,He-(ft-Lt)):cr}(ft)))}function On(ft){return gt=void 0,Bt&&je?ut(ft):(je=Ze=void 0,Ke)}function Ue(){var ft=ze(),In=sn(ft);if(je=arguments,Ze=this,St=ft,In){if(void 0===gt)return function wn(ft){return Lt=ft,gt=setTimeout(_n,_e),Qt?ut(ft):Ke}(St);if(tn)return gt=setTimeout(_n,_e),ut(St)}return void 0===gt&&(gt=setTimeout(_n,_e)),Ke}var je,Ze,He,Ke,gt,St,Lt=0,Qt=!1,tn=!1,Bt=!0;if("function"!=typeof Ae)throw new TypeError(Ee);return _e=Ie(_e)||0,ye(Le)&&(Qt=!!Le.leading,He=(tn="maxWait"in Le)?rt(Ie(Le.maxWait)||0,_e):He,Bt="trailing"in Le?!!Le.trailing:Bt),Ue.cancel=function Yn(){void 0!==gt&&clearTimeout(gt),Lt=0,je=St=Ze=gt=void 0},Ue.flush=function tr(){return void 0===gt?Ke:On(ze())},Ue}function ye(Ae){var _e=typeof Ae>"u"?"undefined":ke(Ae);return!!Ae&&("object"==_e||"function"==_e)}function he(Ae){return"symbol"==(typeof Ae>"u"?"undefined":ke(Ae))||function ae(Ae){return!!Ae&&"object"==(typeof Ae>"u"?"undefined":ke(Ae))}(Ae)&&st.call(Ae)==le}function Ie(Ae){if("number"==typeof Ae)return Ae;if(he(Ae))return re;if(ye(Ae)){var _e="function"==typeof Ae.valueOf?Ae.valueOf():Ae;Ae=ye(_e)?_e+"":_e}if("string"!=typeof Ae)return 0===Ae?Ae:+Ae;Ae=Ae.replace(Se,"");var Le=Me.test(Ae);return Le||qe.test(Ae)?It(Ae.slice(2),Le?2:8):Ce.test(Ae)?re:+Ae}var ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Ae){return typeof Ae}:function(Ae){return Ae&&"function"==typeof Symbol&&Ae.constructor===Symbol&&Ae!==Symbol.prototype?"symbol":typeof Ae},Ee="Expected a function",re=NaN,le="[object Symbol]",Se=/^\s+|\s+$/g,Ce=/^[-+]0x[0-9a-f]+$/i,Me=/^0b[01]+$/i,qe=/^0o[0-7]+$/i,It=parseInt,xt="object"==(typeof b>"u"?"undefined":ke(b))&&b&&b.Object===Object&&b,Ct="object"==(typeof self>"u"?"undefined":ke(self))&&self&&self.Object===Object&&self,cn=xt||Ct||Function("return this")(),st=Object.prototype.toString,rt=Math.max,yt=Math.min,ze=function(){return cn.Date.now()};Be.exports=function u(Ae,_e,Le){var ut=!0,wn=!0;if("function"!=typeof Ae)throw new TypeError(Ee);return ye(Le)&&(ut="leading"in Le?!!Le.leading:ut,wn="trailing"in Le?!!Le.trailing:wn),X(Ae,_e,{leading:ut,maxWait:_e,trailing:wn})}}).call($,function(){return this}())},function(Be,$){(function(b){"use strict";function u(ze){var Ae=typeof ze>"u"?"undefined":Ie(ze);return!!ze&&("object"==Ae||"function"==Ae)}function ae(ze){return"symbol"==(typeof ze>"u"?"undefined":Ie(ze))||function ye(ze){return!!ze&&"object"==(typeof ze>"u"?"undefined":Ie(ze))}(ze)&&Tt.call(ze)==re}function he(ze){if("number"==typeof ze)return ze;if(ae(ze))return Ee;if(u(ze)){var Ae="function"==typeof ze.valueOf?ze.valueOf():ze;ze=u(Ae)?Ae+"":Ae}if("string"!=typeof ze)return 0===ze?ze:+ze;ze=ze.replace(le,"");var _e=Ce.test(ze);return _e||Me.test(ze)?qe(ze.slice(2),_e?2:8):Se.test(ze)?Ee:+ze}var Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ze){return typeof ze}:function(ze){return ze&&"function"==typeof Symbol&&ze.constructor===Symbol&&ze!==Symbol.prototype?"symbol":typeof ze},ke="Expected a function",Ee=NaN,re="[object Symbol]",le=/^\s+|\s+$/g,Se=/^[-+]0x[0-9a-f]+$/i,Ce=/^0b[01]+$/i,Me=/^0o[0-7]+$/i,qe=parseInt,It="object"==(typeof b>"u"?"undefined":Ie(b))&&b&&b.Object===Object&&b,xt="object"==(typeof self>"u"?"undefined":Ie(self))&&self&&self.Object===Object&&self,Ct=It||xt||Function("return this")(),Tt=Object.prototype.toString,st=Math.max,rt=Math.min,yt=function(){return Ct.Date.now()};Be.exports=function X(ze,Ae,_e){function Le(Bt){var ft=Ue,In=je;return Ue=je=void 0,St=Bt,He=ze.apply(In,ft)}function dt(Bt){var ft=Bt-gt;return void 0===gt||ft>=Ae||ft<0||Qt&&Bt-St>=Ze}function sn(){var Bt=yt();return dt(Bt)?_n(Bt):void(Ke=setTimeout(sn,function wn(Bt){var Jn=Ae-(Bt-gt);return Qt?rt(Jn,Ze-(Bt-St)):Jn}(Bt)))}function _n(Bt){return Ke=void 0,tn&&Ue?Le(Bt):(Ue=je=void 0,He)}function tr(){var Bt=yt(),ft=dt(Bt);if(Ue=arguments,je=this,gt=Bt,ft){if(void 0===Ke)return function ut(Bt){return St=Bt,Ke=setTimeout(sn,Ae),Lt?Le(Bt):He}(gt);if(Qt)return Ke=setTimeout(sn,Ae),Le(gt)}return void 0===Ke&&(Ke=setTimeout(sn,Ae)),He}var Ue,je,Ze,He,Ke,gt,St=0,Lt=!1,Qt=!1,tn=!0;if("function"!=typeof ze)throw new TypeError(ke);return Ae=he(Ae)||0,u(_e)&&(Lt=!!_e.leading,Ze=(Qt="maxWait"in _e)?st(he(_e.maxWait)||0,Ae):Ze,tn="trailing"in _e?!!_e.trailing:tn),tr.cancel=function On(){void 0!==Ke&&clearTimeout(Ke),St=0,Ue=gt=je=Ke=void 0},tr.flush=function Yn(){return void 0===Ke?He:_n(yt())},tr}}).call($,function(){return this}())},function(Be,$){"use strict";function b(Ie){var ke=void 0,Ee=void 0;for(ke=0;ke<Ie.length;ke+=1)if((Ee=Ie[ke]).dataset&&Ee.dataset.aos||Ee.children&&b(Ee.children))return!0;return!1}function X(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function ae(Ie){Ie&&Ie.forEach(function(ke){var Ee=Array.prototype.slice.call(ke.addedNodes),re=Array.prototype.slice.call(ke.removedNodes);if(b(Ee.concat(re)))return he()})}Object.defineProperty($,"__esModule",{value:!0});var he=function(){};$.default={isSupported:function u(){return!!X()},ready:function ye(Ie,ke){var Ee=window.document,le=new(X())(ae);he=ke,le.observe(Ee.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}}},function(Be,$){"use strict";function X(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty($,"__esModule",{value:!0});var u=function(){function Ee(re,le){for(var Se=0;Se<le.length;Se++){var Ce=le[Se];Ce.enumerable=Ce.enumerable||!1,Ce.configurable=!0,"value"in Ce&&(Ce.writable=!0),Object.defineProperty(re,Ce.key,Ce)}}return function(re,le,Se){return le&&Ee(re.prototype,le),Se&&Ee(re,Se),re}}(),ye=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,ae=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,he=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,Ie=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,ke=function(){function Ee(){!function b(Ee,re){if(!(Ee instanceof re))throw new TypeError("Cannot call a class as a function")}(this,Ee)}return u(Ee,[{key:"phone",value:function(){var re=X();return!(!ye.test(re)&&!ae.test(re.substr(0,4)))}},{key:"mobile",value:function(){var re=X();return!(!he.test(re)&&!Ie.test(re.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),Ee}();$.default=new ke},function(Be,$){"use strict";Object.defineProperty($,"__esModule",{value:!0});$.default=function(u,ye){var ae=window.pageYOffset,he=window.innerHeight;u.forEach(function(Ie,ke){!function(u,ye,ae){var he=u.node.getAttribute("data-aos-once");ye>u.position?u.node.classList.add("aos-animate"):typeof he<"u"&&("false"===he||!ae&&"true"!==he)&&u.node.classList.remove("aos-animate")}(Ie,he+ae,ye)})}},function(Be,$,b){"use strict";Object.defineProperty($,"__esModule",{value:!0});var ye=function X(he){return he&&he.__esModule?he:{default:he}}(b(12));$.default=function(he,Ie){return he.forEach(function(ke,Ee){ke.node.classList.add("aos-init"),ke.position=(0,ye.default)(ke.node,Ie.offset)}),he}},function(Be,$,b){"use strict";Object.defineProperty($,"__esModule",{value:!0});var ye=function X(he){return he&&he.__esModule?he:{default:he}}(b(13));$.default=function(he,Ie){var ke=0,Ee=0,re=window.innerHeight,le={offset:he.getAttribute("data-aos-offset"),anchor:he.getAttribute("data-aos-anchor"),anchorPlacement:he.getAttribute("data-aos-anchor-placement")};switch(le.offset&&!isNaN(le.offset)&&(Ee=parseInt(le.offset)),le.anchor&&document.querySelectorAll(le.anchor)&&(he=document.querySelectorAll(le.anchor)[0]),ke=(0,ye.default)(he).top,le.anchorPlacement){case"top-bottom":break;case"center-bottom":ke+=he.offsetHeight/2;break;case"bottom-bottom":ke+=he.offsetHeight;break;case"top-center":ke+=re/2;break;case"bottom-center":ke+=re/2+he.offsetHeight;break;case"center-center":ke+=re/2+he.offsetHeight/2;break;case"top-top":ke+=re;break;case"bottom-top":ke+=he.offsetHeight+re;break;case"center-top":ke+=he.offsetHeight/2+re}return le.anchorPlacement||le.offset||isNaN(Ie)||(Ee=Ie),ke+Ee}},function(Be,$){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default=function(X){for(var u=0,ye=0;X&&!isNaN(X.offsetLeft)&&!isNaN(X.offsetTop);)u+=X.offsetLeft-("BODY"!=X.tagName?X.scrollLeft:0),ye+=X.offsetTop-("BODY"!=X.tagName?X.scrollTop:0),X=X.offsetParent;return{top:ye,left:u}}},function(Be,$){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default=function(X){return X=X||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(X,function(u){return{node:u}})}}])},5619:(Vt,Be,$)=>{"use strict";$.d(Be,{X:()=>X});var b=$(8645);class X extends b.x{constructor(ye){super(),this._value=ye}get value(){return this.getValue()}_subscribe(ye){const ae=super._subscribe(ye);return!ae.closed&&ye.next(this._value),ae}getValue(){const{hasError:ye,thrownError:ae,_value:he}=this;if(ye)throw ae;return this._throwIfClosed(),he}next(ye){super.next(this._value=ye)}}},5592:(Vt,Be,$)=>{"use strict";$.d(Be,{y:()=>ke});var b=$(305),X=$(7394),u=$(4850),ye=$(8407),ae=$(2653),he=$(4674),Ie=$(1441);let ke=(()=>{class Se{constructor(Me){Me&&(this._subscribe=Me)}lift(Me){const qe=new Se;return qe.source=this,qe.operator=Me,qe}subscribe(Me,qe,It){const xt=function le(Se){return Se&&Se instanceof b.Lv||function re(Se){return Se&&(0,he.m)(Se.next)&&(0,he.m)(Se.error)&&(0,he.m)(Se.complete)}(Se)&&(0,X.Nn)(Se)}(Me)?Me:new b.Hp(Me,qe,It);return(0,Ie.x)(()=>{const{operator:Ct,source:cn}=this;xt.add(Ct?Ct.call(xt,cn):cn?this._subscribe(xt):this._trySubscribe(xt))}),xt}_trySubscribe(Me){try{return this._subscribe(Me)}catch(qe){Me.error(qe)}}forEach(Me,qe){return new(qe=Ee(qe))((It,xt)=>{const Ct=new b.Hp({next:cn=>{try{Me(cn)}catch(Tt){xt(Tt),Ct.unsubscribe()}},error:xt,complete:It});this.subscribe(Ct)})}_subscribe(Me){var qe;return null===(qe=this.source)||void 0===qe?void 0:qe.subscribe(Me)}[u.L](){return this}pipe(...Me){return(0,ye.U)(Me)(this)}toPromise(Me){return new(Me=Ee(Me))((qe,It)=>{let xt;this.subscribe(Ct=>xt=Ct,Ct=>It(Ct),()=>qe(xt))})}}return Se.create=Ce=>new Se(Ce),Se})();function Ee(Se){var Ce;return null!==(Ce=Se??ae.config.Promise)&&void 0!==Ce?Ce:Promise}},8645:(Vt,Be,$)=>{"use strict";$.d(Be,{x:()=>Ie});var b=$(5592),X=$(7394);const ye=(0,$(2306).d)(Ee=>function(){Ee(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ae=$(9039),he=$(1441);let Ie=(()=>{class Ee extends b.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(le){const Se=new ke(this,this);return Se.operator=le,Se}_throwIfClosed(){if(this.closed)throw new ye}next(le){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Se of this.currentObservers)Se.next(le)}})}error(le){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=le;const{observers:Se}=this;for(;Se.length;)Se.shift().error(le)}})}complete(){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:le}=this;for(;le.length;)le.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var le;return(null===(le=this.observers)||void 0===le?void 0:le.length)>0}_trySubscribe(le){return this._throwIfClosed(),super._trySubscribe(le)}_subscribe(le){return this._throwIfClosed(),this._checkFinalizedStatuses(le),this._innerSubscribe(le)}_innerSubscribe(le){const{hasError:Se,isStopped:Ce,observers:Me}=this;return Se||Ce?X.Lc:(this.currentObservers=null,Me.push(le),new X.w0(()=>{this.currentObservers=null,(0,ae.P)(Me,le)}))}_checkFinalizedStatuses(le){const{hasError:Se,thrownError:Ce,isStopped:Me}=this;Se?le.error(Ce):Me&&le.complete()}asObservable(){const le=new b.y;return le.source=this,le}}return Ee.create=(re,le)=>new ke(re,le),Ee})();class ke extends Ie{constructor(re,le){super(),this.destination=re,this.source=le}next(re){var le,Se;null===(Se=null===(le=this.destination)||void 0===le?void 0:le.next)||void 0===Se||Se.call(le,re)}error(re){var le,Se;null===(Se=null===(le=this.destination)||void 0===le?void 0:le.error)||void 0===Se||Se.call(le,re)}complete(){var re,le;null===(le=null===(re=this.destination)||void 0===re?void 0:re.complete)||void 0===le||le.call(re)}_subscribe(re){var le,Se;return null!==(Se=null===(le=this.source)||void 0===le?void 0:le.subscribe(re))&&void 0!==Se?Se:X.Lc}}},305:(Vt,Be,$)=>{"use strict";$.d(Be,{Hp:()=>It,Lv:()=>Se});var b=$(4674),X=$(7394),u=$(2653),ye=$(3894),ae=$(2420);const he=Ee("C",void 0,void 0);function Ee(st,rt,yt){return{kind:st,value:rt,error:yt}}var re=$(7599),le=$(1441);class Se extends X.w0{constructor(rt){super(),this.isStopped=!1,rt?(this.destination=rt,(0,X.Nn)(rt)&&rt.add(this)):this.destination=Tt}static create(rt,yt,ze){return new It(rt,yt,ze)}next(rt){this.isStopped?cn(function ke(st){return Ee("N",st,void 0)}(rt),this):this._next(rt)}error(rt){this.isStopped?cn(function Ie(st){return Ee("E",void 0,st)}(rt),this):(this.isStopped=!0,this._error(rt))}complete(){this.isStopped?cn(he,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(rt){this.destination.next(rt)}_error(rt){try{this.destination.error(rt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ce=Function.prototype.bind;function Me(st,rt){return Ce.call(st,rt)}class qe{constructor(rt){this.partialObserver=rt}next(rt){const{partialObserver:yt}=this;if(yt.next)try{yt.next(rt)}catch(ze){xt(ze)}}error(rt){const{partialObserver:yt}=this;if(yt.error)try{yt.error(rt)}catch(ze){xt(ze)}else xt(rt)}complete(){const{partialObserver:rt}=this;if(rt.complete)try{rt.complete()}catch(yt){xt(yt)}}}class It extends Se{constructor(rt,yt,ze){let Ae;if(super(),(0,b.m)(rt)||!rt)Ae={next:rt??void 0,error:yt??void 0,complete:ze??void 0};else{let _e;this&&u.config.useDeprecatedNextContext?(_e=Object.create(rt),_e.unsubscribe=()=>this.unsubscribe(),Ae={next:rt.next&&Me(rt.next,_e),error:rt.error&&Me(rt.error,_e),complete:rt.complete&&Me(rt.complete,_e)}):Ae=rt}this.destination=new qe(Ae)}}function xt(st){u.config.useDeprecatedSynchronousErrorHandling?(0,le.O)(st):(0,ye.h)(st)}function cn(st,rt){const{onStoppedNotification:yt}=u.config;yt&&re.z.setTimeout(()=>yt(st,rt))}const Tt={closed:!0,next:ae.Z,error:function Ct(st){throw st},complete:ae.Z}},7394:(Vt,Be,$)=>{"use strict";$.d(Be,{Lc:()=>he,w0:()=>ae,Nn:()=>Ie});var b=$(4674);const u=(0,$(2306).d)(Ee=>function(le){Ee(this),this.message=le?`${le.length} errors occurred during unsubscription:\n${le.map((Se,Ce)=>`${Ce+1}) ${Se.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=le});var ye=$(9039);class ae{constructor(re){this.initialTeardown=re,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let re;if(!this.closed){this.closed=!0;const{_parentage:le}=this;if(le)if(this._parentage=null,Array.isArray(le))for(const Me of le)Me.remove(this);else le.remove(this);const{initialTeardown:Se}=this;if((0,b.m)(Se))try{Se()}catch(Me){re=Me instanceof u?Me.errors:[Me]}const{_finalizers:Ce}=this;if(Ce){this._finalizers=null;for(const Me of Ce)try{ke(Me)}catch(qe){re=re??[],qe instanceof u?re=[...re,...qe.errors]:re.push(qe)}}if(re)throw new u(re)}}add(re){var le;if(re&&re!==this)if(this.closed)ke(re);else{if(re instanceof ae){if(re.closed||re._hasParent(this))return;re._addParent(this)}(this._finalizers=null!==(le=this._finalizers)&&void 0!==le?le:[]).push(re)}}_hasParent(re){const{_parentage:le}=this;return le===re||Array.isArray(le)&&le.includes(re)}_addParent(re){const{_parentage:le}=this;this._parentage=Array.isArray(le)?(le.push(re),le):le?[le,re]:re}_removeParent(re){const{_parentage:le}=this;le===re?this._parentage=null:Array.isArray(le)&&(0,ye.P)(le,re)}remove(re){const{_finalizers:le}=this;le&&(0,ye.P)(le,re),re instanceof ae&&re._removeParent(this)}}ae.EMPTY=(()=>{const Ee=new ae;return Ee.closed=!0,Ee})();const he=ae.EMPTY;function Ie(Ee){return Ee instanceof ae||Ee&&"closed"in Ee&&(0,b.m)(Ee.remove)&&(0,b.m)(Ee.add)&&(0,b.m)(Ee.unsubscribe)}function ke(Ee){(0,b.m)(Ee)?Ee():Ee.unsubscribe()}},2653:(Vt,Be,$)=>{"use strict";$.d(Be,{config:()=>b});const b={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},5211:(Vt,Be,$)=>{"use strict";$.d(Be,{z:()=>ae});var b=$(7537),u=$(9940),ye=$(2459);function ae(...he){return function X(){return(0,b.J)(1)}()((0,ye.D)(he,(0,u.yG)(he)))}},6232:(Vt,Be,$)=>{"use strict";$.d(Be,{E:()=>X});const X=new($(5592).y)(ae=>ae.complete())},2459:(Vt,Be,$)=>{"use strict";$.d(Be,{D:()=>rt});var b=$(4829),X=$(3093),u=$(5137),he=$(5592),ke=$(4971),Ee=$(4674),re=$(7103);function Se(yt,ze){if(!yt)throw new Error("Iterable cannot be null");return new he.y(Ae=>{(0,re.f)(Ae,ze,()=>{const _e=yt[Symbol.asyncIterator]();(0,re.f)(Ae,ze,()=>{_e.next().then(Le=>{Le.done?Ae.complete():Ae.next(Le.value)})},0,!0)})})}var Ce=$(8382),Me=$(4026),qe=$(4266),It=$(3664),xt=$(5726),Ct=$(9853),cn=$(541);function rt(yt,ze){return ze?function st(yt,ze){if(null!=yt){if((0,Ce.c)(yt))return function ye(yt,ze){return(0,b.Xf)(yt).pipe((0,u.R)(ze),(0,X.Q)(ze))}(yt,ze);if((0,qe.z)(yt))return function Ie(yt,ze){return new he.y(Ae=>{let _e=0;return ze.schedule(function(){_e===yt.length?Ae.complete():(Ae.next(yt[_e++]),Ae.closed||this.schedule())})})}(yt,ze);if((0,Me.t)(yt))return function ae(yt,ze){return(0,b.Xf)(yt).pipe((0,u.R)(ze),(0,X.Q)(ze))}(yt,ze);if((0,xt.D)(yt))return Se(yt,ze);if((0,It.T)(yt))return function le(yt,ze){return new he.y(Ae=>{let _e;return(0,re.f)(Ae,ze,()=>{_e=yt[ke.h](),(0,re.f)(Ae,ze,()=>{let Le,ut;try{({value:Le,done:ut}=_e.next())}catch(wn){return void Ae.error(wn)}ut?Ae.complete():Ae.next(Le)},0,!0)}),()=>(0,Ee.m)(_e?.return)&&_e.return()})}(yt,ze);if((0,cn.L)(yt))return function Tt(yt,ze){return Se((0,cn.Q)(yt),ze)}(yt,ze)}throw(0,Ct.z)(yt)}(yt,ze):(0,b.Xf)(yt)}},4829:(Vt,Be,$)=>{"use strict";$.d(Be,{Xf:()=>Ce});var b=$(7582),X=$(4266),u=$(4026),ye=$(5592),ae=$(8382),he=$(5726),Ie=$(9853),ke=$(3664),Ee=$(541),re=$(4674),le=$(3894),Se=$(4850);function Ce(st){if(st instanceof ye.y)return st;if(null!=st){if((0,ae.c)(st))return function Me(st){return new ye.y(rt=>{const yt=st[Se.L]();if((0,re.m)(yt.subscribe))return yt.subscribe(rt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(st);if((0,X.z)(st))return function qe(st){return new ye.y(rt=>{for(let yt=0;yt<st.length&&!rt.closed;yt++)rt.next(st[yt]);rt.complete()})}(st);if((0,u.t)(st))return function It(st){return new ye.y(rt=>{st.then(yt=>{rt.closed||(rt.next(yt),rt.complete())},yt=>rt.error(yt)).then(null,le.h)})}(st);if((0,he.D)(st))return Ct(st);if((0,ke.T)(st))return function xt(st){return new ye.y(rt=>{for(const yt of st)if(rt.next(yt),rt.closed)return;rt.complete()})}(st);if((0,Ee.L)(st))return function cn(st){return Ct((0,Ee.Q)(st))}(st)}throw(0,Ie.z)(st)}function Ct(st){return new ye.y(rt=>{(function Tt(st,rt){var yt,ze,Ae,_e;return(0,b.mG)(this,void 0,void 0,function*(){try{for(yt=(0,b.KL)(st);!(ze=yield yt.next()).done;)if(rt.next(ze.value),rt.closed)return}catch(Le){Ae={error:Le}}finally{try{ze&&!ze.done&&(_e=yt.return)&&(yield _e.call(yt))}finally{if(Ae)throw Ae.error}}rt.complete()})})(st,rt).catch(yt=>rt.error(yt))})}},3019:(Vt,Be,$)=>{"use strict";$.d(Be,{T:()=>he});var b=$(7537),X=$(4829),u=$(6232),ye=$(9940),ae=$(2459);function he(...Ie){const ke=(0,ye.yG)(Ie),Ee=(0,ye._6)(Ie,1/0),re=Ie;return re.length?1===re.length?(0,X.Xf)(re[0]):(0,b.J)(Ee)((0,ae.D)(re,ke)):u.E}},2096:(Vt,Be,$)=>{"use strict";$.d(Be,{of:()=>u});var b=$(9940),X=$(2459);function u(...ye){const ae=(0,b.yG)(ye);return(0,X.D)(ye,ae)}},8251:(Vt,Be,$)=>{"use strict";$.d(Be,{x:()=>X});var b=$(305);function X(ye,ae,he,Ie,ke){return new u(ye,ae,he,Ie,ke)}class u extends b.Lv{constructor(ae,he,Ie,ke,Ee,re){super(ae),this.onFinalize=Ee,this.shouldUnsubscribe=re,this._next=he?function(le){try{he(le)}catch(Se){ae.error(Se)}}:super._next,this._error=ke?function(le){try{ke(le)}catch(Se){ae.error(Se)}finally{this.unsubscribe()}}:super._error,this._complete=Ie?function(){try{Ie()}catch(le){ae.error(le)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ae;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:he}=this;super.unsubscribe(),!he&&(null===(ae=this.onFinalize)||void 0===ae||ae.call(this))}}}},3997:(Vt,Be,$)=>{"use strict";$.d(Be,{x:()=>ye});var b=$(2737),X=$(9360),u=$(8251);function ye(he,Ie=b.y){return he=he??ae,(0,X.e)((ke,Ee)=>{let re,le=!0;ke.subscribe((0,u.x)(Ee,Se=>{const Ce=Ie(Se);(le||!he(re,Ce))&&(le=!1,re=Ce,Ee.next(Se))}))})}function ae(he,Ie){return he===Ie}},2181:(Vt,Be,$)=>{"use strict";$.d(Be,{h:()=>u});var b=$(9360),X=$(8251);function u(ye,ae){return(0,b.e)((he,Ie)=>{let ke=0;he.subscribe((0,X.x)(Ie,Ee=>ye.call(ae,Ee,ke++)&&Ie.next(Ee)))})}},7398:(Vt,Be,$)=>{"use strict";$.d(Be,{U:()=>u});var b=$(9360),X=$(8251);function u(ye,ae){return(0,b.e)((he,Ie)=>{let ke=0;he.subscribe((0,X.x)(Ie,Ee=>{Ie.next(ye.call(ae,Ee,ke++))}))})}},975:(Vt,Be,$)=>{"use strict";$.d(Be,{h:()=>X});var b=$(7398);function X(u){return(0,b.U)(()=>u)}},7537:(Vt,Be,$)=>{"use strict";$.d(Be,{J:()=>u});var b=$(1631),X=$(2737);function u(ye=1/0){return(0,b.z)(X.y,ye)}},1631:(Vt,Be,$)=>{"use strict";$.d(Be,{z:()=>ke});var b=$(7398),X=$(4829),u=$(9360),ye=$(7103),ae=$(8251),Ie=$(4674);function ke(Ee,re,le=1/0){return(0,Ie.m)(re)?ke((Se,Ce)=>(0,b.U)((Me,qe)=>re(Se,Me,Ce,qe))((0,X.Xf)(Ee(Se,Ce))),le):("number"==typeof re&&(le=re),(0,u.e)((Se,Ce)=>function he(Ee,re,le,Se,Ce,Me,qe,It){const xt=[];let Ct=0,cn=0,Tt=!1;const st=()=>{Tt&&!xt.length&&!Ct&&re.complete()},rt=ze=>Ct<Se?yt(ze):xt.push(ze),yt=ze=>{Me&&re.next(ze),Ct++;let Ae=!1;(0,X.Xf)(le(ze,cn++)).subscribe((0,ae.x)(re,_e=>{Ce?.(_e),Me?rt(_e):re.next(_e)},()=>{Ae=!0},void 0,()=>{if(Ae)try{for(Ct--;xt.length&&Ct<Se;){const _e=xt.shift();qe?(0,ye.f)(re,qe,()=>yt(_e)):yt(_e)}st()}catch(_e){re.error(_e)}}))};return Ee.subscribe((0,ae.x)(re,rt,()=>{Tt=!0,st()})),()=>{It?.()}}(Se,Ce,Ee,le)))}},3093:(Vt,Be,$)=>{"use strict";$.d(Be,{Q:()=>ye});var b=$(7103),X=$(9360),u=$(8251);function ye(ae,he=0){return(0,X.e)((Ie,ke)=>{Ie.subscribe((0,u.x)(ke,Ee=>(0,b.f)(ke,ae,()=>ke.next(Ee),he),()=>(0,b.f)(ke,ae,()=>ke.complete(),he),Ee=>(0,b.f)(ke,ae,()=>ke.error(Ee),he)))})}},6699:(Vt,Be,$)=>{"use strict";$.d(Be,{R:()=>ye});var b=$(9360),X=$(8251);function ye(ae,he){return(0,b.e)(function u(ae,he,Ie,ke,Ee){return(re,le)=>{let Se=Ie,Ce=he,Me=0;re.subscribe((0,X.x)(le,qe=>{const It=Me++;Ce=Se?ae(Ce,qe,It):(Se=!0,qe),ke&&le.next(Ce)},Ee&&(()=>{Se&&le.next(Ce),le.complete()})))}}(ae,he,arguments.length>=2,!0))}},7921:(Vt,Be,$)=>{"use strict";$.d(Be,{O:()=>ye});var b=$(5211),X=$(9940),u=$(9360);function ye(...ae){const he=(0,X.yG)(ae);return(0,u.e)((Ie,ke)=>{(he?(0,b.z)(ae,Ie,he):(0,b.z)(ae,Ie)).subscribe(ke)})}},5137:(Vt,Be,$)=>{"use strict";$.d(Be,{R:()=>X});var b=$(9360);function X(u,ye=0){return(0,b.e)((ae,he)=>{he.add(u.schedule(()=>ae.subscribe(he),ye))})}},4664:(Vt,Be,$)=>{"use strict";$.d(Be,{w:()=>ye});var b=$(4829),X=$(9360),u=$(8251);function ye(ae,he){return(0,X.e)((Ie,ke)=>{let Ee=null,re=0,le=!1;const Se=()=>le&&!Ee&&ke.complete();Ie.subscribe((0,u.x)(ke,Ce=>{Ee?.unsubscribe();let Me=0;const qe=re++;(0,b.Xf)(ae(Ce,qe)).subscribe(Ee=(0,u.x)(ke,It=>ke.next(he?he(Ce,It,qe,Me++):It),()=>{Ee=null,Se()}))},()=>{le=!0,Se()}))})}},8180:(Vt,Be,$)=>{"use strict";$.d(Be,{q:()=>ye});var b=$(6232),X=$(9360),u=$(8251);function ye(ae){return ae<=0?()=>b.E:(0,X.e)((he,Ie)=>{let ke=0;he.subscribe((0,u.x)(Ie,Ee=>{++ke<=ae&&(Ie.next(Ee),ae<=ke&&Ie.complete())}))})}},9773:(Vt,Be,$)=>{"use strict";$.d(Be,{R:()=>ae});var b=$(9360),X=$(8251),u=$(4829),ye=$(2420);function ae(he){return(0,b.e)((Ie,ke)=>{(0,u.Xf)(he).subscribe((0,X.x)(ke,()=>ke.complete(),ye.Z)),!ke.closed&&Ie.subscribe(ke)})}},9397:(Vt,Be,$)=>{"use strict";$.d(Be,{b:()=>ae});var b=$(4674),X=$(9360),u=$(8251),ye=$(2737);function ae(he,Ie,ke){const Ee=(0,b.m)(he)||Ie||ke?{next:he,error:Ie,complete:ke}:he;return Ee?(0,X.e)((re,le)=>{var Se;null===(Se=Ee.subscribe)||void 0===Se||Se.call(Ee);let Ce=!0;re.subscribe((0,u.x)(le,Me=>{var qe;null===(qe=Ee.next)||void 0===qe||qe.call(Ee,Me),le.next(Me)},()=>{var Me;Ce=!1,null===(Me=Ee.complete)||void 0===Me||Me.call(Ee),le.complete()},Me=>{var qe;Ce=!1,null===(qe=Ee.error)||void 0===qe||qe.call(Ee,Me),le.error(Me)},()=>{var Me,qe;Ce&&(null===(Me=Ee.unsubscribe)||void 0===Me||Me.call(Ee)),null===(qe=Ee.finalize)||void 0===qe||qe.call(Ee)}))}):ye.y}},1954:(Vt,Be,$)=>{"use strict";$.d(Be,{o:()=>ae});var b=$(7394);class X extends b.w0{constructor(Ie,ke){super()}schedule(Ie,ke=0){return this}}const u={setInterval(he,Ie,...ke){const{delegate:Ee}=u;return Ee?.setInterval?Ee.setInterval(he,Ie,...ke):setInterval(he,Ie,...ke)},clearInterval(he){const{delegate:Ie}=u;return(Ie?.clearInterval||clearInterval)(he)},delegate:void 0};var ye=$(9039);class ae extends X{constructor(Ie,ke){super(Ie,ke),this.scheduler=Ie,this.work=ke,this.pending=!1}schedule(Ie,ke=0){var Ee;if(this.closed)return this;this.state=Ie;const re=this.id,le=this.scheduler;return null!=re&&(this.id=this.recycleAsyncId(le,re,ke)),this.pending=!0,this.delay=ke,this.id=null!==(Ee=this.id)&&void 0!==Ee?Ee:this.requestAsyncId(le,this.id,ke),this}requestAsyncId(Ie,ke,Ee=0){return u.setInterval(Ie.flush.bind(Ie,this),Ee)}recycleAsyncId(Ie,ke,Ee=0){if(null!=Ee&&this.delay===Ee&&!1===this.pending)return ke;null!=ke&&u.clearInterval(ke)}execute(Ie,ke){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ee=this._execute(Ie,ke);if(Ee)return Ee;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ie,ke){let re,Ee=!1;try{this.work(Ie)}catch(le){Ee=!0,re=le||new Error("Scheduled action threw falsy error")}if(Ee)return this.unsubscribe(),re}unsubscribe(){if(!this.closed){const{id:Ie,scheduler:ke}=this,{actions:Ee}=ke;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ye.P)(Ee,this),null!=Ie&&(this.id=this.recycleAsyncId(ke,Ie,null)),this.delay=null,super.unsubscribe()}}}},9931:(Vt,Be,$)=>{"use strict";$.d(Be,{v:()=>u});const b={now:()=>(b.delegate||Date).now(),delegate:void 0};class X{constructor(ae,he=X.now){this.schedulerActionCtor=ae,this.now=he}schedule(ae,he=0,Ie){return new this.schedulerActionCtor(this,ae).schedule(Ie,he)}}X.now=b.now;class u extends X{constructor(ae,he=X.now){super(ae,he),this.actions=[],this._active=!1}flush(ae){const{actions:he}=this;if(this._active)return void he.push(ae);let Ie;this._active=!0;do{if(Ie=ae.execute(ae.state,ae.delay))break}while(ae=he.shift());if(this._active=!1,Ie){for(;ae=he.shift();)ae.unsubscribe();throw Ie}}}},6321:(Vt,Be,$)=>{"use strict";$.d(Be,{P:()=>ye,z:()=>u});var b=$(1954);const u=new($(9931).v)(b.o),ye=u},2381:(Vt,Be,$)=>{"use strict";$.d(Be,{N:()=>ae});var b=$(1954),u=$(9931);const ae=new class ye extends u.v{}(class X extends b.o{constructor(ke,Ee){super(ke,Ee),this.scheduler=ke,this.work=Ee}schedule(ke,Ee=0){return Ee>0?super.schedule(ke,Ee):(this.delay=Ee,this.state=ke,this.scheduler.flush(this),this)}execute(ke,Ee){return Ee>0||this.closed?super.execute(ke,Ee):this._execute(ke,Ee)}requestAsyncId(ke,Ee,re=0){return null!=re&&re>0||null==re&&this.delay>0?super.requestAsyncId(ke,Ee,re):(ke.flush(this),0)}})},7599:(Vt,Be,$)=>{"use strict";$.d(Be,{z:()=>b});const b={setTimeout(X,u,...ye){const{delegate:ae}=b;return ae?.setTimeout?ae.setTimeout(X,u,...ye):setTimeout(X,u,...ye)},clearTimeout(X){const{delegate:u}=b;return(u?.clearTimeout||clearTimeout)(X)},delegate:void 0}},4971:(Vt,Be,$)=>{"use strict";$.d(Be,{h:()=>X});const X=function b(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Vt,Be,$)=>{"use strict";$.d(Be,{L:()=>b});const b="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(Vt,Be,$)=>{"use strict";$.d(Be,{K:()=>X});const X=(0,$(2306).d)(u=>function(){u(this),this.name="EmptyError",this.message="no elements in sequence"})},9940:(Vt,Be,$)=>{"use strict";$.d(Be,{_6:()=>he,jO:()=>ye,yG:()=>ae});var b=$(4674),X=$(671);function u(Ie){return Ie[Ie.length-1]}function ye(Ie){return(0,b.m)(u(Ie))?Ie.pop():void 0}function ae(Ie){return(0,X.K)(u(Ie))?Ie.pop():void 0}function he(Ie,ke){return"number"==typeof u(Ie)?Ie.pop():ke}},7453:(Vt,Be,$)=>{"use strict";$.d(Be,{D:()=>ae});const{isArray:b}=Array,{getPrototypeOf:X,prototype:u,keys:ye}=Object;function ae(Ie){if(1===Ie.length){const ke=Ie[0];if(b(ke))return{args:ke,keys:null};if(function he(Ie){return Ie&&"object"==typeof Ie&&X(Ie)===u}(ke)){const Ee=ye(ke);return{args:Ee.map(re=>ke[re]),keys:Ee}}}return{args:Ie,keys:null}}},9039:(Vt,Be,$)=>{"use strict";function b(X,u){if(X){const ye=X.indexOf(u);0<=ye&&X.splice(ye,1)}}$.d(Be,{P:()=>b})},2306:(Vt,Be,$)=>{"use strict";function b(X){const ye=X(ae=>{Error.call(ae),ae.stack=(new Error).stack});return ye.prototype=Object.create(Error.prototype),ye.prototype.constructor=ye,ye}$.d(Be,{d:()=>b})},2714:(Vt,Be,$)=>{"use strict";function b(X,u){return X.reduce((ye,ae,he)=>(ye[ae]=u[he],ye),{})}$.d(Be,{n:()=>b})},1441:(Vt,Be,$)=>{"use strict";$.d(Be,{O:()=>ye,x:()=>u});var b=$(2653);let X=null;function u(ae){if(b.config.useDeprecatedSynchronousErrorHandling){const he=!X;if(he&&(X={errorThrown:!1,error:null}),ae(),he){const{errorThrown:Ie,error:ke}=X;if(X=null,Ie)throw ke}}else ae()}function ye(ae){b.config.useDeprecatedSynchronousErrorHandling&&X&&(X.errorThrown=!0,X.error=ae)}},7103:(Vt,Be,$)=>{"use strict";function b(X,u,ye,ae=0,he=!1){const Ie=u.schedule(function(){ye(),he?X.add(this.schedule(null,ae)):this.unsubscribe()},ae);if(X.add(Ie),!he)return Ie}$.d(Be,{f:()=>b})},2737:(Vt,Be,$)=>{"use strict";function b(X){return X}$.d(Be,{y:()=>b})},4266:(Vt,Be,$)=>{"use strict";$.d(Be,{z:()=>b});const b=X=>X&&"number"==typeof X.length&&"function"!=typeof X},5726:(Vt,Be,$)=>{"use strict";$.d(Be,{D:()=>X});var b=$(4674);function X(u){return Symbol.asyncIterator&&(0,b.m)(u?.[Symbol.asyncIterator])}},4674:(Vt,Be,$)=>{"use strict";function b(X){return"function"==typeof X}$.d(Be,{m:()=>b})},8382:(Vt,Be,$)=>{"use strict";$.d(Be,{c:()=>u});var b=$(4850),X=$(4674);function u(ye){return(0,X.m)(ye[b.L])}},3664:(Vt,Be,$)=>{"use strict";$.d(Be,{T:()=>u});var b=$(4971),X=$(4674);function u(ye){return(0,X.m)(ye?.[b.h])}},4026:(Vt,Be,$)=>{"use strict";$.d(Be,{t:()=>X});var b=$(4674);function X(u){return(0,b.m)(u?.then)}},541:(Vt,Be,$)=>{"use strict";$.d(Be,{L:()=>ye,Q:()=>u});var b=$(7582),X=$(4674);function u(ae){return(0,b.FC)(this,arguments,function*(){const Ie=ae.getReader();try{for(;;){const{value:ke,done:Ee}=yield(0,b.qq)(Ie.read());if(Ee)return yield(0,b.qq)(void 0);yield yield(0,b.qq)(ke)}}finally{Ie.releaseLock()}})}function ye(ae){return(0,X.m)(ae?.getReader)}},671:(Vt,Be,$)=>{"use strict";$.d(Be,{K:()=>X});var b=$(4674);function X(u){return u&&(0,b.m)(u.schedule)}},9360:(Vt,Be,$)=>{"use strict";$.d(Be,{A:()=>X,e:()=>u});var b=$(4674);function X(ye){return(0,b.m)(ye?.lift)}function u(ye){return ae=>{if(X(ae))return ae.lift(function(he){try{return ye(he,this)}catch(Ie){this.error(Ie)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(Vt,Be,$)=>{"use strict";$.d(Be,{Z:()=>ye});var b=$(7398);const{isArray:X}=Array;function ye(ae){return(0,b.U)(he=>function u(ae,he){return X(he)?ae(...he):ae(he)}(ae,he))}},2420:(Vt,Be,$)=>{"use strict";function b(){}$.d(Be,{Z:()=>b})},8407:(Vt,Be,$)=>{"use strict";$.d(Be,{U:()=>u,z:()=>X});var b=$(2737);function X(...ye){return u(ye)}function u(ye){return 0===ye.length?b.y:1===ye.length?ye[0]:function(he){return ye.reduce((Ie,ke)=>ke(Ie),he)}}},3894:(Vt,Be,$)=>{"use strict";$.d(Be,{h:()=>u});var b=$(2653),X=$(7599);function u(ye){X.z.setTimeout(()=>{const{onUnhandledError:ae}=b.config;if(!ae)throw ye;ae(ye)})}},9853:(Vt,Be,$)=>{"use strict";function b(X){return new TypeError(`You provided ${null!==X&&"object"==typeof X?"an invalid object":`'${X}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}$.d(Be,{z:()=>b})},6814:(Vt,Be,$)=>{"use strict";$.d(Be,{Do:()=>It,EM:()=>Vo,HT:()=>ye,JF:()=>so,K0:()=>he,Mn:()=>_n,Mx:()=>go,O5:()=>mo,PM:()=>kr,S$:()=>Ce,Tn:()=>_e,UT:()=>On,V_:()=>ke,Ye:()=>xt,ax:()=>Us,b0:()=>qe,bD:()=>pi,ez:()=>Ur,mk:()=>ja,p6:()=>br,q:()=>u,sg:()=>Us,tP:()=>ea,uU:()=>Ga,w_:()=>ae,x:()=>Ae});var b=$(9468);let X=null;function u(){return X}function ye(M){X||(X=M)}class ae{}const he=new b.OlP("DocumentToken");let Ie=(()=>{class M{historyGo(V){throw new Error("Not implemented")}static#e=this.\u0275fac=function(ee){return new(ee||M)};static#t=this.\u0275prov=b.Yz7({token:M,factory:function(){return(0,b.f3M)(Ee)},providedIn:"platform"})}return M})();const ke=new b.OlP("Location Initialized");let Ee=(()=>{class M extends Ie{constructor(){super(),this._doc=(0,b.f3M)(he),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return u().getBaseHref(this._doc)}onPopState(V){const ee=u().getGlobalEventTarget(this._doc,"window");return ee.addEventListener("popstate",V,!1),()=>ee.removeEventListener("popstate",V)}onHashChange(V){const ee=u().getGlobalEventTarget(this._doc,"window");return ee.addEventListener("hashchange",V,!1),()=>ee.removeEventListener("hashchange",V)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(V){this._location.pathname=V}pushState(V,ee,we){this._history.pushState(V,ee,we)}replaceState(V,ee,we){this._history.replaceState(V,ee,we)}forward(){this._history.forward()}back(){this._history.back()}historyGo(V=0){this._history.go(V)}getState(){return this._history.state}static#e=this.\u0275fac=function(ee){return new(ee||M)};static#t=this.\u0275prov=b.Yz7({token:M,factory:function(){return new M},providedIn:"platform"})}return M})();function re(M,ie){if(0==M.length)return ie;if(0==ie.length)return M;let V=0;return M.endsWith("/")&&V++,ie.startsWith("/")&&V++,2==V?M+ie.substring(1):1==V?M+ie:M+"/"+ie}function le(M){const ie=M.match(/#|\?|$/),V=ie&&ie.index||M.length;return M.slice(0,V-("/"===M[V-1]?1:0))+M.slice(V)}function Se(M){return M&&"?"!==M[0]?"?"+M:M}let Ce=(()=>{class M{historyGo(V){throw new Error("Not implemented")}static#e=this.\u0275fac=function(ee){return new(ee||M)};static#t=this.\u0275prov=b.Yz7({token:M,factory:function(){return(0,b.f3M)(qe)},providedIn:"root"})}return M})();const Me=new b.OlP("appBaseHref");let qe=(()=>{class M extends Ce{constructor(V,ee){super(),this._platformLocation=V,this._removeListenerFns=[],this._baseHref=ee??this._platformLocation.getBaseHrefFromDOM()??(0,b.f3M)(he).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(V){this._removeListenerFns.push(this._platformLocation.onPopState(V),this._platformLocation.onHashChange(V))}getBaseHref(){return this._baseHref}prepareExternalUrl(V){return re(this._baseHref,V)}path(V=!1){const ee=this._platformLocation.pathname+Se(this._platformLocation.search),we=this._platformLocation.hash;return we&&V?`${ee}${we}`:ee}pushState(V,ee,we,it){const wt=this.prepareExternalUrl(we+Se(it));this._platformLocation.pushState(V,ee,wt)}replaceState(V,ee,we,it){const wt=this.prepareExternalUrl(we+Se(it));this._platformLocation.replaceState(V,ee,wt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(V=0){this._platformLocation.historyGo?.(V)}static#e=this.\u0275fac=function(ee){return new(ee||M)(b.LFG(Ie),b.LFG(Me,8))};static#t=this.\u0275prov=b.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"})}return M})(),It=(()=>{class M extends Ce{constructor(V,ee){super(),this._platformLocation=V,this._baseHref="",this._removeListenerFns=[],null!=ee&&(this._baseHref=ee)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(V){this._removeListenerFns.push(this._platformLocation.onPopState(V),this._platformLocation.onHashChange(V))}getBaseHref(){return this._baseHref}path(V=!1){let ee=this._platformLocation.hash;return null==ee&&(ee="#"),ee.length>0?ee.substring(1):ee}prepareExternalUrl(V){const ee=re(this._baseHref,V);return ee.length>0?"#"+ee:ee}pushState(V,ee,we,it){let wt=this.prepareExternalUrl(we+Se(it));0==wt.length&&(wt=this._platformLocation.pathname),this._platformLocation.pushState(V,ee,wt)}replaceState(V,ee,we,it){let wt=this.prepareExternalUrl(we+Se(it));0==wt.length&&(wt=this._platformLocation.pathname),this._platformLocation.replaceState(V,ee,wt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(V=0){this._platformLocation.historyGo?.(V)}static#e=this.\u0275fac=function(ee){return new(ee||M)(b.LFG(Ie),b.LFG(Me,8))};static#t=this.\u0275prov=b.Yz7({token:M,factory:M.\u0275fac})}return M})(),xt=(()=>{class M{constructor(V){this._subject=new b.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=V;const ee=this._locationStrategy.getBaseHref();this._basePath=function st(M){if(new RegExp("^(https?:)?//").test(M)){const[,V]=M.split(/\/\/[^\/]+/);return V}return M}(le(Tt(ee))),this._locationStrategy.onPopState(we=>{this._subject.emit({url:this.path(!0),pop:!0,state:we.state,type:we.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(V=!1){return this.normalize(this._locationStrategy.path(V))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(V,ee=""){return this.path()==this.normalize(V+Se(ee))}normalize(V){return M.stripTrailingSlash(function cn(M,ie){if(!M||!ie.startsWith(M))return ie;const V=ie.substring(M.length);return""===V||["/",";","?","#"].includes(V[0])?V:ie}(this._basePath,Tt(V)))}prepareExternalUrl(V){return V&&"/"!==V[0]&&(V="/"+V),this._locationStrategy.prepareExternalUrl(V)}go(V,ee="",we=null){this._locationStrategy.pushState(we,"",V,ee),this._notifyUrlChangeListeners(this.prepareExternalUrl(V+Se(ee)),we)}replaceState(V,ee="",we=null){this._locationStrategy.replaceState(we,"",V,ee),this._notifyUrlChangeListeners(this.prepareExternalUrl(V+Se(ee)),we)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(V=0){this._locationStrategy.historyGo?.(V)}onUrlChange(V){return this._urlChangeListeners.push(V),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ee=>{this._notifyUrlChangeListeners(ee.url,ee.state)})),()=>{const ee=this._urlChangeListeners.indexOf(V);this._urlChangeListeners.splice(ee,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(V="",ee){this._urlChangeListeners.forEach(we=>we(V,ee))}subscribe(V,ee,we){return this._subject.subscribe({next:V,error:ee,complete:we})}static#e=this.normalizeQueryParams=Se;static#t=this.joinWithSlash=re;static#n=this.stripTrailingSlash=le;static#r=this.\u0275fac=function(ee){return new(ee||M)(b.LFG(Ce))};static#i=this.\u0275prov=b.Yz7({token:M,factory:function(){return function Ct(){return new xt((0,b.LFG)(Ce))}()},providedIn:"root"})}return M})();function Tt(M){return M.replace(/\/index.html$/,"")}var Ae=function(M){return M[M.Format=0]="Format",M[M.Standalone=1]="Standalone",M}(Ae||{}),_e=function(M){return M[M.Narrow=0]="Narrow",M[M.Abbreviated=1]="Abbreviated",M[M.Wide=2]="Wide",M[M.Short=3]="Short",M}(_e||{}),Le=function(M){return M[M.Short=0]="Short",M[M.Medium=1]="Medium",M[M.Long=2]="Long",M[M.Full=3]="Full",M}(Le||{}),ut=function(M){return M[M.Decimal=0]="Decimal",M[M.Group=1]="Group",M[M.List=2]="List",M[M.PercentSign=3]="PercentSign",M[M.PlusSign=4]="PlusSign",M[M.MinusSign=5]="MinusSign",M[M.Exponential=6]="Exponential",M[M.SuperscriptingExponent=7]="SuperscriptingExponent",M[M.PerMille=8]="PerMille",M[M.Infinity=9]="Infinity",M[M.NaN=10]="NaN",M[M.TimeSeparator=11]="TimeSeparator",M[M.CurrencyDecimal=12]="CurrencyDecimal",M[M.CurrencyGroup=13]="CurrencyGroup",M}(ut||{});function _n(M,ie,V){const ee=(0,b.cg1)(M),it=xe([ee[b.wAp.DaysFormat],ee[b.wAp.DaysStandalone]],ie);return xe(it,V)}function On(M,ie,V){const ee=(0,b.cg1)(M),it=xe([ee[b.wAp.MonthsFormat],ee[b.wAp.MonthsStandalone]],ie);return xe(it,V)}function je(M,ie){return xe((0,b.cg1)(M)[b.wAp.DateFormat],ie)}function Ze(M,ie){return xe((0,b.cg1)(M)[b.wAp.TimeFormat],ie)}function He(M,ie){return xe((0,b.cg1)(M)[b.wAp.DateTimeFormat],ie)}function Ke(M,ie){const V=(0,b.cg1)(M),ee=V[b.wAp.NumberSymbols][ie];if(typeof ee>"u"){if(ie===ut.CurrencyDecimal)return V[b.wAp.NumberSymbols][ut.Decimal];if(ie===ut.CurrencyGroup)return V[b.wAp.NumberSymbols][ut.Group]}return ee}function ft(M){if(!M[b.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${M[b.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function xe(M,ie){for(let V=ie;V>-1;V--)if(typeof M[V]<"u")return M[V];throw new Error("Locale data API: locale data undefined")}function De(M){const[ie,V]=M.split(":");return{hours:+ie,minutes:+V}}const kt=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ir={},yn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Cn=function(M){return M[M.Short=0]="Short",M[M.ShortGMT=1]="ShortGMT",M[M.Long=2]="Long",M[M.Extended=3]="Extended",M}(Cn||{}),Xt=function(M){return M[M.FullYear=0]="FullYear",M[M.Month=1]="Month",M[M.Date=2]="Date",M[M.Hours=3]="Hours",M[M.Minutes=4]="Minutes",M[M.Seconds=5]="Seconds",M[M.FractionalSeconds=6]="FractionalSeconds",M[M.Day=7]="Day",M}(Xt||{}),pn=function(M){return M[M.DayPeriods=0]="DayPeriods",M[M.Days=1]="Days",M[M.Months=2]="Months",M[M.Eras=3]="Eras",M}(pn||{});function br(M,ie,V,ee){let we=function B(M){if(q(M))return M;if("number"==typeof M&&!isNaN(M))return new Date(M);if("string"==typeof M){if(M=M.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(M)){const[we,it=1,wt=1]=M.split("-").map(Tn=>+Tn);return nn(we,it-1,wt)}const V=parseFloat(M);if(!isNaN(M-V))return new Date(V);let ee;if(ee=M.match(kt))return function j(M){const ie=new Date(0);let V=0,ee=0;const we=M[8]?ie.setUTCFullYear:ie.setFullYear,it=M[8]?ie.setUTCHours:ie.setHours;M[9]&&(V=Number(M[9]+M[10]),ee=Number(M[9]+M[11])),we.call(ie,Number(M[1]),Number(M[2])-1,Number(M[3]));const wt=Number(M[4]||0)-V,Tn=Number(M[5]||0)-ee,Ar=Number(M[6]||0),Nr=Math.floor(1e3*parseFloat("0."+(M[7]||0)));return it.call(ie,wt,Tn,Ar,Nr),ie}(ee)}const ie=new Date(M);if(!q(ie))throw new Error(`Unable to convert "${M}" into a date`);return ie}(M);ie=Dr(V,ie)||ie;let Tn,wt=[];for(;ie;){if(Tn=yn.exec(ie),!Tn){wt.push(ie);break}{wt=wt.concat(Tn.slice(1));const Or=wt.pop();if(!Or)break;ie=Or}}let Ar=we.getTimezoneOffset();ee&&(Ar=Kt(ee,Ar),we=function J(M,ie,V){const ee=V?-1:1,we=M.getTimezoneOffset();return function qn(M,ie){return(M=new Date(M.getTime())).setMinutes(M.getMinutes()+ie),M}(M,ee*(Kt(ie,we)-we))}(we,ee,!0));let Nr="";return wt.forEach(Or=>{const An=function zt(M){if(At[M])return At[M];let ie;switch(M){case"G":case"GG":case"GGG":ie=Bn(pn.Eras,_e.Abbreviated);break;case"GGGG":ie=Bn(pn.Eras,_e.Wide);break;case"GGGGG":ie=Bn(pn.Eras,_e.Narrow);break;case"y":ie=Wn(Xt.FullYear,1,0,!1,!0);break;case"yy":ie=Wn(Xt.FullYear,2,0,!0,!0);break;case"yyy":ie=Wn(Xt.FullYear,3,0,!1,!0);break;case"yyyy":ie=Wn(Xt.FullYear,4,0,!1,!0);break;case"Y":ie=tt(1);break;case"YY":ie=tt(2,!0);break;case"YYY":ie=tt(3);break;case"YYYY":ie=tt(4);break;case"M":case"L":ie=Wn(Xt.Month,1,1);break;case"MM":case"LL":ie=Wn(Xt.Month,2,1);break;case"MMM":ie=Bn(pn.Months,_e.Abbreviated);break;case"MMMM":ie=Bn(pn.Months,_e.Wide);break;case"MMMMM":ie=Bn(pn.Months,_e.Narrow);break;case"LLL":ie=Bn(pn.Months,_e.Abbreviated,Ae.Standalone);break;case"LLLL":ie=Bn(pn.Months,_e.Wide,Ae.Standalone);break;case"LLLLL":ie=Bn(pn.Months,_e.Narrow,Ae.Standalone);break;case"w":ie=Ne(1);break;case"ww":ie=Ne(2);break;case"W":ie=Ne(1,!0);break;case"d":ie=Wn(Xt.Date,1);break;case"dd":ie=Wn(Xt.Date,2);break;case"c":case"cc":ie=Wn(Xt.Day,1);break;case"ccc":ie=Bn(pn.Days,_e.Abbreviated,Ae.Standalone);break;case"cccc":ie=Bn(pn.Days,_e.Wide,Ae.Standalone);break;case"ccccc":ie=Bn(pn.Days,_e.Narrow,Ae.Standalone);break;case"cccccc":ie=Bn(pn.Days,_e.Short,Ae.Standalone);break;case"E":case"EE":case"EEE":ie=Bn(pn.Days,_e.Abbreviated);break;case"EEEE":ie=Bn(pn.Days,_e.Wide);break;case"EEEEE":ie=Bn(pn.Days,_e.Narrow);break;case"EEEEEE":ie=Bn(pn.Days,_e.Short);break;case"a":case"aa":case"aaa":ie=Bn(pn.DayPeriods,_e.Abbreviated);break;case"aaaa":ie=Bn(pn.DayPeriods,_e.Wide);break;case"aaaaa":ie=Bn(pn.DayPeriods,_e.Narrow);break;case"b":case"bb":case"bbb":ie=Bn(pn.DayPeriods,_e.Abbreviated,Ae.Standalone,!0);break;case"bbbb":ie=Bn(pn.DayPeriods,_e.Wide,Ae.Standalone,!0);break;case"bbbbb":ie=Bn(pn.DayPeriods,_e.Narrow,Ae.Standalone,!0);break;case"B":case"BB":case"BBB":ie=Bn(pn.DayPeriods,_e.Abbreviated,Ae.Format,!0);break;case"BBBB":ie=Bn(pn.DayPeriods,_e.Wide,Ae.Format,!0);break;case"BBBBB":ie=Bn(pn.DayPeriods,_e.Narrow,Ae.Format,!0);break;case"h":ie=Wn(Xt.Hours,1,-12);break;case"hh":ie=Wn(Xt.Hours,2,-12);break;case"H":ie=Wn(Xt.Hours,1);break;case"HH":ie=Wn(Xt.Hours,2);break;case"m":ie=Wn(Xt.Minutes,1);break;case"mm":ie=Wn(Xt.Minutes,2);break;case"s":ie=Wn(Xt.Seconds,1);break;case"ss":ie=Wn(Xt.Seconds,2);break;case"S":ie=Wn(Xt.FractionalSeconds,1);break;case"SS":ie=Wn(Xt.FractionalSeconds,2);break;case"SSS":ie=Wn(Xt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":ie=Zt(Cn.Short);break;case"ZZZZZ":ie=Zt(Cn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":ie=Zt(Cn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":ie=Zt(Cn.Long);break;default:return null}return At[M]=ie,ie}(Or);Nr+=An?An(we,V,Ar):"''"===Or?"'":Or.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Nr}function nn(M,ie,V){const ee=new Date(0);return ee.setFullYear(M,ie,V),ee.setHours(0,0,0),ee}function Dr(M,ie){const V=function dt(M){return(0,b.cg1)(M)[b.wAp.LocaleId]}(M);if(Ir[V]=Ir[V]||{},Ir[V][ie])return Ir[V][ie];let ee="";switch(ie){case"shortDate":ee=je(M,Le.Short);break;case"mediumDate":ee=je(M,Le.Medium);break;case"longDate":ee=je(M,Le.Long);break;case"fullDate":ee=je(M,Le.Full);break;case"shortTime":ee=Ze(M,Le.Short);break;case"mediumTime":ee=Ze(M,Le.Medium);break;case"longTime":ee=Ze(M,Le.Long);break;case"fullTime":ee=Ze(M,Le.Full);break;case"short":const we=Dr(M,"shortTime"),it=Dr(M,"shortDate");ee=Cr(He(M,Le.Short),[we,it]);break;case"medium":const wt=Dr(M,"mediumTime"),Tn=Dr(M,"mediumDate");ee=Cr(He(M,Le.Medium),[wt,Tn]);break;case"long":const Ar=Dr(M,"longTime"),Nr=Dr(M,"longDate");ee=Cr(He(M,Le.Long),[Ar,Nr]);break;case"full":const Or=Dr(M,"fullTime"),An=Dr(M,"fullDate");ee=Cr(He(M,Le.Full),[Or,An])}return ee&&(Ir[V][ie]=ee),ee}function Cr(M,ie){return ie&&(M=M.replace(/\{([^}]+)}/g,function(V,ee){return null!=ie&&ee in ie?ie[ee]:V})),M}function En(M,ie,V="-",ee,we){let it="";(M<0||we&&M<=0)&&(we?M=1-M:(M=-M,it=V));let wt=String(M);for(;wt.length<ie;)wt="0"+wt;return ee&&(wt=wt.slice(wt.length-ie)),it+wt}function Wn(M,ie,V=0,ee=!1,we=!1){return function(it,wt){let Tn=function or(M,ie){switch(M){case Xt.FullYear:return ie.getFullYear();case Xt.Month:return ie.getMonth();case Xt.Date:return ie.getDate();case Xt.Hours:return ie.getHours();case Xt.Minutes:return ie.getMinutes();case Xt.Seconds:return ie.getSeconds();case Xt.FractionalSeconds:return ie.getMilliseconds();case Xt.Day:return ie.getDay();default:throw new Error(`Unknown DateType value "${M}".`)}}(M,it);if((V>0||Tn>-V)&&(Tn+=V),M===Xt.Hours)0===Tn&&-12===V&&(Tn=12);else if(M===Xt.FractionalSeconds)return function lr(M,ie){return En(M,3).substring(0,ie)}(Tn,ie);const Ar=Ke(wt,ut.MinusSign);return En(Tn,ie,Ar,ee,we)}}function Bn(M,ie,V=Ae.Format,ee=!1){return function(we,it){return function ni(M,ie,V,ee,we,it){switch(V){case pn.Months:return On(ie,we,ee)[M.getMonth()];case pn.Days:return _n(ie,we,ee)[M.getDay()];case pn.DayPeriods:const wt=M.getHours(),Tn=M.getMinutes();if(it){const Nr=function In(M){const ie=(0,b.cg1)(M);return ft(ie),(ie[b.wAp.ExtraData][2]||[]).map(ee=>"string"==typeof ee?De(ee):[De(ee[0]),De(ee[1])])}(ie),Or=function Jn(M,ie,V){const ee=(0,b.cg1)(M);ft(ee);const it=xe([ee[b.wAp.ExtraData][0],ee[b.wAp.ExtraData][1]],ie)||[];return xe(it,V)||[]}(ie,we,ee),An=Nr.findIndex(zr=>{if(Array.isArray(zr)){const[sr,ii]=zr,Wi=wt>=sr.hours&&Tn>=sr.minutes,Ii=wt<ii.hours||wt===ii.hours&&Tn<ii.minutes;if(sr.hours<ii.hours){if(Wi&&Ii)return!0}else if(Wi||Ii)return!0}else if(zr.hours===wt&&zr.minutes===Tn)return!0;return!1});if(-1!==An)return Or[An]}return function sn(M,ie,V){const ee=(0,b.cg1)(M),it=xe([ee[b.wAp.DayPeriodsFormat],ee[b.wAp.DayPeriodsStandalone]],ie);return xe(it,V)}(ie,we,ee)[wt<12?0:1];case pn.Eras:return function Yn(M,ie){return xe((0,b.cg1)(M)[b.wAp.Eras],ie)}(ie,ee)[M.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${V}`)}}(we,it,M,ie,V,ee)}}function Zt(M){return function(ie,V,ee){const we=-1*ee,it=Ke(V,ut.MinusSign),wt=we>0?Math.floor(we/60):Math.ceil(we/60);switch(M){case Cn.Short:return(we>=0?"+":"")+En(wt,2,it)+En(Math.abs(we%60),2,it);case Cn.ShortGMT:return"GMT"+(we>=0?"+":"")+En(wt,1,it);case Cn.Long:return"GMT"+(we>=0?"+":"")+En(wt,2,it)+":"+En(Math.abs(we%60),2,it);case Cn.Extended:return 0===ee?"Z":(we>=0?"+":"")+En(wt,2,it)+":"+En(Math.abs(we%60),2,it);default:throw new Error(`Unknown zone width "${M}"`)}}}const Yi=0,Zr=4;function at(M){return nn(M.getFullYear(),M.getMonth(),M.getDate()+(Zr-M.getDay()))}function Ne(M,ie=!1){return function(V,ee){let we;if(ie){const it=new Date(V.getFullYear(),V.getMonth(),1).getDay()-1,wt=V.getDate();we=1+Math.floor((wt+it)/7)}else{const it=at(V),wt=function Gr(M){const ie=nn(M,Yi,1).getDay();return nn(M,0,1+(ie<=Zr?Zr:Zr+7)-ie)}(it.getFullYear()),Tn=it.getTime()-wt.getTime();we=1+Math.round(Tn/6048e5)}return En(we,M,Ke(ee,ut.MinusSign))}}function tt(M,ie=!1){return function(V,ee){return En(at(V).getFullYear(),M,Ke(ee,ut.MinusSign),ie)}}const At={};function Kt(M,ie){M=M.replace(/:/g,"");const V=Date.parse("Jan 01, 1970 00:00:00 "+M)/6e4;return isNaN(V)?ie:V}function q(M){return M instanceof Date&&!isNaN(M.valueOf())}function go(M,ie){ie=encodeURIComponent(ie);for(const V of M.split(";")){const ee=V.indexOf("="),[we,it]=-1==ee?[V,""]:[V.slice(0,ee),V.slice(ee+1)];if(we.trim()===ie)return decodeURIComponent(it)}return null}const Yo=/\s+/,Jo=[];let ja=(()=>{class M{constructor(V,ee,we,it){this._iterableDiffers=V,this._keyValueDiffers=ee,this._ngEl=we,this._renderer=it,this.initialClasses=Jo,this.stateMap=new Map}set klass(V){this.initialClasses=null!=V?V.trim().split(Yo):Jo}set ngClass(V){this.rawClass="string"==typeof V?V.trim().split(Yo):V}ngDoCheck(){for(const ee of this.initialClasses)this._updateState(ee,!0);const V=this.rawClass;if(Array.isArray(V)||V instanceof Set)for(const ee of V)this._updateState(ee,!0);else if(null!=V)for(const ee of Object.keys(V))this._updateState(ee,!!V[ee]);this._applyStateDiff()}_updateState(V,ee){const we=this.stateMap.get(V);void 0!==we?(we.enabled!==ee&&(we.changed=!0,we.enabled=ee),we.touched=!0):this.stateMap.set(V,{enabled:ee,changed:!0,touched:!0})}_applyStateDiff(){for(const V of this.stateMap){const ee=V[0],we=V[1];we.changed?(this._toggleClass(ee,we.enabled),we.changed=!1):we.touched||(we.enabled&&this._toggleClass(ee,!1),this.stateMap.delete(ee)),we.touched=!1}}_toggleClass(V,ee){(V=V.trim()).length>0&&V.split(Yo).forEach(we=>{ee?this._renderer.addClass(this._ngEl.nativeElement,we):this._renderer.removeClass(this._ngEl.nativeElement,we)})}static#e=this.\u0275fac=function(ee){return new(ee||M)(b.Y36(b.ZZ4),b.Y36(b.aQg),b.Y36(b.SBq),b.Y36(b.Qsj))};static#t=this.\u0275dir=b.lG2({type:M,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return M})();class Yr{constructor(ie,V,ee,we){this.$implicit=ie,this.ngForOf=V,this.index=ee,this.count=we}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Us=(()=>{class M{set ngForOf(V){this._ngForOf=V,this._ngForOfDirty=!0}set ngForTrackBy(V){this._trackByFn=V}get ngForTrackBy(){return this._trackByFn}constructor(V,ee,we){this._viewContainer=V,this._template=ee,this._differs=we,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(V){V&&(this._template=V)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const V=this._ngForOf;!this._differ&&V&&(this._differ=this._differs.find(V).create(this.ngForTrackBy))}if(this._differ){const V=this._differ.diff(this._ngForOf);V&&this._applyChanges(V)}}_applyChanges(V){const ee=this._viewContainer;V.forEachOperation((we,it,wt)=>{if(null==we.previousIndex)ee.createEmbeddedView(this._template,new Yr(we.item,this._ngForOf,-1,-1),null===wt?void 0:wt);else if(null==wt)ee.remove(null===it?void 0:it);else if(null!==it){const Tn=ee.get(it);ee.move(Tn,wt),_i(Tn,we)}});for(let we=0,it=ee.length;we<it;we++){const Tn=ee.get(we).context;Tn.index=we,Tn.count=it,Tn.ngForOf=this._ngForOf}V.forEachIdentityChange(we=>{_i(ee.get(we.currentIndex),we)})}static ngTemplateContextGuard(V,ee){return!0}static#e=this.\u0275fac=function(ee){return new(ee||M)(b.Y36(b.s_b),b.Y36(b.Rgc),b.Y36(b.ZZ4))};static#t=this.\u0275dir=b.lG2({type:M,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return M})();function _i(M,ie){M.context.$implicit=ie.item}let mo=(()=>{class M{constructor(V,ee){this._viewContainer=V,this._context=new _a,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ee}set ngIf(V){this._context.$implicit=this._context.ngIf=V,this._updateView()}set ngIfThen(V){yi("ngIfThen",V),this._thenTemplateRef=V,this._thenViewRef=null,this._updateView()}set ngIfElse(V){yi("ngIfElse",V),this._elseTemplateRef=V,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(V,ee){return!0}static#e=this.\u0275fac=function(ee){return new(ee||M)(b.Y36(b.s_b),b.Y36(b.Rgc))};static#t=this.\u0275dir=b.lG2({type:M,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return M})();class _a{constructor(){this.$implicit=null,this.ngIf=null}}function yi(M,ie){if(ie&&!ie.createEmbeddedView)throw new Error(`${M} must be a TemplateRef, but received '${(0,b.AaK)(ie)}'.`)}let ea=(()=>{class M{constructor(V){this._viewContainerRef=V,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(V){if(V.ngTemplateOutlet||V.ngTemplateOutletInjector){const ee=this._viewContainerRef;if(this._viewRef&&ee.remove(ee.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:we,ngTemplateOutletContext:it,ngTemplateOutletInjector:wt}=this;this._viewRef=ee.createEmbeddedView(we,it,wt?{injector:wt}:void 0)}else this._viewRef=null}else this._viewRef&&V.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(ee){return new(ee||M)(b.Y36(b.s_b))};static#t=this.\u0275dir=b.lG2({type:M,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[b.TTD]})}return M})();const ra=new b.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),ia=new b.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Ga=(()=>{class M{constructor(V,ee,we){this.locale=V,this.defaultTimezone=ee,this.defaultOptions=we}transform(V,ee,we,it){if(null==V||""===V||V!=V)return null;try{return br(V,ee??this.defaultOptions?.dateFormat??"mediumDate",it||this.locale,we??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(wt){throw function cs(M,ie){return new b.vHH(2100,!1)}()}}static#e=this.\u0275fac=function(ee){return new(ee||M)(b.Y36(b.soG,16),b.Y36(ra,24),b.Y36(ia,24))};static#t=this.\u0275pipe=b.Yjl({name:"date",type:M,pure:!0,standalone:!0})}return M})(),Ur=(()=>{class M{static#e=this.\u0275fac=function(ee){return new(ee||M)};static#t=this.\u0275mod=b.oAB({type:M});static#n=this.\u0275inj=b.cJS({})}return M})();const pi="browser",io="server";function kr(M){return M===io}let Vo=(()=>{class M{static#e=this.\u0275prov=(0,b.Yz7)({token:M,providedIn:"root",factory:()=>new bo((0,b.LFG)(he),window)})}return M})();class bo{constructor(ie,V){this.document=ie,this.window=V,this.offset=()=>[0,0]}setOffset(ie){this.offset=Array.isArray(ie)?()=>ie:ie}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ie){this.supportsScrolling()&&this.window.scrollTo(ie[0],ie[1])}scrollToAnchor(ie){if(!this.supportsScrolling())return;const V=function Fr(M,ie){const V=M.getElementById(ie)||M.getElementsByName(ie)[0];if(V)return V;if("function"==typeof M.createTreeWalker&&M.body&&"function"==typeof M.body.attachShadow){const ee=M.createTreeWalker(M.body,NodeFilter.SHOW_ELEMENT);let we=ee.currentNode;for(;we;){const it=we.shadowRoot;if(it){const wt=it.getElementById(ie)||it.querySelector(`[name="${ie}"]`);if(wt)return wt}we=ee.nextNode()}}return null}(this.document,ie);V&&(this.scrollToElement(V),V.focus())}setHistoryScrollRestoration(ie){this.supportsScrolling()&&(this.window.history.scrollRestoration=ie)}scrollToElement(ie){const V=ie.getBoundingClientRect(),ee=V.left+this.window.pageXOffset,we=V.top+this.window.pageYOffset,it=this.offset();this.window.scrollTo(ee-it[0],we-it[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class so{}},9468:(Vt,Be,$)=>{"use strict";$.d(Be,{QbO:()=>K0,tb:()=>iT,AFp:()=>Ay,ip1:()=>Nw,hGG:()=>OD,z2F:()=>Vc,Ojb:()=>Y0,sBO:()=>wD,Sil:()=>qE,EJc:()=>WE,ktI:()=>gi,Xts:()=>yf,SBq:()=>Ih,lqb:()=>Fc,qLn:()=>Dd,vpe:()=>Tl,tBr:()=>Ep,XFs:()=>nn,OlP:()=>Zt,zs3:()=>da,ZZ4:()=>Kw,aQg:()=>Yw,soG:()=>Mw,YKP:()=>D_,h0i:()=>Ll,PXZ:()=>$C,R0b:()=>qo,FiY:()=>af,Lbi:()=>ao,g9A:()=>Wo,Qsj:()=>UT,FYo:()=>rb,JOm:()=>E0,q3G:()=>bs,tp0:()=>Tp,Rgc:()=>Mg,dDg:()=>fD,eoX:()=>Lg,q4F:()=>ib,GfV:()=>By,s_b:()=>dw,ifc:()=>Vi,gHi:()=>tg,VuI:()=>xD,Flj:()=>zc,LMc:()=>RS,MMx:()=>Jb,Lck:()=>_1,eFA:()=>sT,Gpc:()=>cn,f3M:()=>nr,X6Q:()=>IS,$WT:()=>gs,_c5:()=>Jw,qFp:()=>Bg,tdS:()=>ie,rg0:()=>Nr,c2e:()=>aD,zSh:()=>Zp,HDt:()=>xw,wAp:()=>p_,vHH:()=>Ae,lri:()=>tT,rWj:()=>Hw,JZr:()=>ze,EiD:()=>by,mCW:()=>V0,qzn:()=>Gp,JVY:()=>$p,pB0:()=>U0,eBb:()=>hm,L6k:()=>hh,LAX:()=>fm,cg1:()=>f_,kL8:()=>Ub,dqk:()=>or,Z0I:()=>bt,eJc:()=>Yv,QGY:()=>Ml,F4k:()=>Qm,RDi:()=>Xc,AaK:()=>It,z3N:()=>su,zW0:()=>ns,qOj:()=>jf,Xq5:()=>et,TTD:()=>Wi,_Bn:()=>pE,jDz:()=>v1,xp6:()=>kf,uIk:()=>Pd,Tol:()=>sl,ekj:()=>l_,Suo:()=>U1,Xpm:()=>Cs,lG2:()=>Ga,Yz7:()=>xe,cJS:()=>Xe,oAB:()=>ro,Yjl:()=>Qr,Y36:()=>Ch,_UZ:()=>qm,BQk:()=>Ym,ynx:()=>Km,qZA:()=>il,TgZ:()=>Zf,EpF:()=>Li,n5z:()=>te,Ikx:()=>_u,SDv:()=>f1,LFG:()=>Fn,$8M:()=>ct,$Z:()=>Hu,NdJ:()=>Xm,CRH:()=>B1,kcU:()=>Qd,O4$:()=>Oc,oxw:()=>Qu,ALo:()=>iw,lcZ:()=>IE,xi3:()=>sw,Hsn:()=>n_,F$t:()=>t_,Q6J:()=>vg,s9C:()=>r_,MGl:()=>bg,VKq:()=>yE,WLB:()=>rw,kEZ:()=>A1,iGM:()=>Rg,MAs:()=>Bd,KtG:()=>qh,Jf7:()=>zy,CHM:()=>bu,uOi:()=>Pc,LSH:()=>_f,P3R:()=>Iy,YNc:()=>Yu,W1O:()=>vw,_uU:()=>Ht,Oqu:()=>_r,hij:()=>qt,lnq:()=>rr,Gf:()=>yw});var b=$(8645),X=$(7394),u=$(5592),ye=$(3019),ae=$(5619),he=$(2096),Ie=$(4829),ke=$(305),Ee=$(9360);function re(r={}){const{connector:s=(()=>new b.x),resetOnError:a=!0,resetOnComplete:h=!0,resetOnRefCountZero:g=!0}=r;return y=>{let E,C,P,W=0,se=!1,me=!1;const Fe=()=>{C?.unsubscribe(),C=void 0},Ge=()=>{Fe(),E=P=void 0,se=me=!1},vt=()=>{const Rt=E;Ge(),Rt?.unsubscribe()};return(0,Ee.e)((Rt,an)=>{W++,!me&&!se&&Fe();const Dn=P=P??s();an.add(()=>{W--,0===W&&!me&&!se&&(C=le(vt,g))}),Dn.subscribe(an),!E&&W>0&&(E=new ke.Hp({next:Et=>Dn.next(Et),error:Et=>{me=!0,Fe(),C=le(Ge,a,Et),Dn.error(Et)},complete:()=>{se=!0,Fe(),C=le(Ge,h),Dn.complete()}}),(0,Ie.Xf)(Rt).subscribe(E))})(y)}}function le(r,s,...a){if(!0===s)return void r();if(!1===s)return;const h=new ke.Hp({next:()=>{h.unsubscribe(),r()}});return(0,Ie.Xf)(s(...a)).subscribe(h)}var Se=$(4664),Ce=$(3997);function Me(r){for(let s in r)if(r[s]===Me)return s;throw Error("Could not find renamed property on target object.")}function qe(r,s){for(const a in s)s.hasOwnProperty(a)&&!r.hasOwnProperty(a)&&(r[a]=s[a])}function It(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(It).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const s=r.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function xt(r,s){return null==r||""===r?null===s?"":s:null==s||""===s?r:r+" "+s}const Ct=Me({__forward_ref__:Me});function cn(r){return r.__forward_ref__=cn,r.toString=function(){return It(this())},r}function Tt(r){return st(r)?r():r}function st(r){return"function"==typeof r&&r.hasOwnProperty(Ct)&&r.__forward_ref__===cn}function rt(r){return r&&!!r.\u0275providers}const ze="https://g.co/ng/security#xss";class Ae extends Error{constructor(s,a){super(function _e(r,s){return`NG0${Math.abs(r)}${s?": "+s:""}`}(s,a)),this.code=s}}function Le(r){return"string"==typeof r?r:null==r?"":String(r)}function _n(r,s){throw new Ae(-201,!1)}function ft(r,s,a,h){throw new Error(`ASSERTION ERROR: ${r}`+(null==h?"":` [Expected=> ${a} ${h} ${s} <=Actual]`))}function xe(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function Xe(r){return{providers:r.providers||[],imports:r.imports||[]}}function mt(r){return kt(r,Cn)||kt(r,pn)}function bt(r){return null!==mt(r)}function kt(r,s){return r.hasOwnProperty(s)?r[s]:null}function yn(r){return r&&(r.hasOwnProperty(Xt)||r.hasOwnProperty(br))?r[Xt]:null}const Cn=Me({\u0275prov:Me}),Xt=Me({\u0275inj:Me}),pn=Me({ngInjectableDef:Me}),br=Me({ngInjectorDef:Me});var nn=function(r){return r[r.Default=0]="Default",r[r.Host=1]="Host",r[r.Self=2]="Self",r[r.SkipSelf=4]="SkipSelf",r[r.Optional=8]="Optional",r}(nn||{});let Dr;function Cr(){return Dr}function En(r){const s=Dr;return Dr=r,s}function lr(r,s,a){const h=mt(r);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:a&nn.Optional?null:void 0!==s?s:void _n(It(r))}const or=globalThis;class Zt{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=xe({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const B={},j="__NG_DI_FLAG__",q="ngTempTokenPath",Te=/\n/gm,Dt="__source";let dn;function kn(r){const s=dn;return dn=r,s}function Yt(r,s=nn.Default){if(void 0===dn)throw new Ae(-203,!1);return null===dn?lr(r,void 0,s):dn.get(r,s&nn.Optional?null:void 0,s)}function Fn(r,s=nn.Default){return(Cr()||Yt)(Tt(r),s)}function nr(r,s=nn.Default){return Fn(r,fs(s))}function fs(r){return typeof r>"u"||"number"==typeof r?r:0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)}function Bo(r){const s=[];for(let a=0;a<r.length;a++){const h=Tt(r[a]);if(Array.isArray(h)){if(0===h.length)throw new Ae(900,!1);let g,y=nn.Default;for(let E=0;E<h.length;E++){const C=h[E],P=os(C);"number"==typeof P?-1===P?g=C.token:y|=P:g=C}s.push(Fn(g,y))}else s.push(Fn(h))}return s}function ss(r,s){return r[j]=s,r.prototype[j]=s,r}function os(r){return r[j]}function Bi(r){return{toString:r}.toString()}var po=function(r){return r[r.OnPush=0]="OnPush",r[r.Default=1]="Default",r}(po||{}),Vi=function(r){return r[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",r}(Vi||{});const Hi={},ir=[],go=Me({\u0275cmp:Me}),Yo=Me({\u0275dir:Me}),Jo=Me({\u0275pipe:Me}),ja=Me({\u0275mod:Me}),ps=Me({\u0275fac:Me}),ma=Me({__NG_ELEMENT_ID__:Me}),Yr=Me({__NG_ENV_ID__:Me});function Us(r,s,a){let h=r.length;for(;;){const g=r.indexOf(s,a);if(-1===g)return g;if(0===g||r.charCodeAt(g-1)<=32){const y=s.length;if(g+y===h||r.charCodeAt(g+y)<=32)return g}a=g+1}}function _i(r,s,a){let h=0;for(;h<a.length;){const g=a[h];if("number"==typeof g){if(0!==g)break;h++;const y=a[h++],E=a[h++],C=a[h++];r.setAttribute(s,E,C,y)}else{const y=g,E=a[++h];mo(y)?r.setProperty(s,y,E):r.setAttribute(s,y,E),h++}}return h}function Qo(r){return 3===r||4===r||6===r}function mo(r){return 64===r.charCodeAt(0)}function _a(r,s){if(null!==s&&0!==s.length)if(null===r||0===r.length)r=s.slice();else{let a=-1;for(let h=0;h<s.length;h++){const g=s[h];"number"==typeof g?a=g:0===a||yi(r,a,g,null,-1===a||2===a?s[++h]:null)}}return r}function yi(r,s,a,h,g){let y=0,E=r.length;if(-1===s)E=-1;else for(;y<r.length;){const C=r[y++];if("number"==typeof C){if(C===s){E=-1;break}if(C>s){E=y-1;break}}}for(;y<r.length;){const C=r[y];if("number"==typeof C)break;if(C===a){if(null===h)return void(null!==g&&(r[y+1]=g));if(h===r[y+1])return void(r[y+2]=g)}y++,null!==h&&y++,null!==g&&y++}-1!==E&&(r.splice(E,0,s),y=E+1),r.splice(y++,0,a),null!==h&&r.splice(y++,0,h),null!==g&&r.splice(y++,0,g)}const ya="ng-template";function Bs(r,s,a){let h=0,g=!0;for(;h<r.length;){let y=r[h++];if("string"==typeof y&&g){const E=r[h++];if(a&&"class"===y&&-1!==Us(E.toLowerCase(),s,0))return!0}else{if(1===y){for(;h<r.length&&"string"==typeof(y=r[h++]);)if(y.toLowerCase()===s)return!0;return!1}"number"==typeof y&&(g=!1)}}return!1}function _o(r){return 4===r.type&&r.value!==ya}function Vs(r,s,a){return s===(4!==r.type||a?r.value:ya)}function va(r,s,a){let h=4;const g=r.attrs||[],y=function Ul(r){for(let s=0;s<r.length;s++)if(Qo(r[s]))return s;return r.length}(g);let E=!1;for(let C=0;C<s.length;C++){const P=s[C];if("number"!=typeof P){if(!E)if(4&h){if(h=2|1&h,""!==P&&!Vs(r,P,a)||""===P&&1===s.length){if($r(h))return!1;E=!0}}else{const W=8&h?P:s[++C];if(8&h&&null!==r.attrs){if(!Bs(r.attrs,W,a)){if($r(h))return!1;E=!0}continue}const me=Xo(8&h?"class":P,g,_o(r),a);if(-1===me){if($r(h))return!1;E=!0;continue}if(""!==W){let Fe;Fe=me>y?"":g[me+1].toLowerCase();const Ge=8&h?Fe:null;if(Ge&&-1!==Us(Ge,W,0)||2&h&&W!==Fe){if($r(h))return!1;E=!0}}}}else{if(!E&&!$r(h)&&!$r(P))return!1;if(E&&$r(P))continue;E=!1,h=P|1&h}}return $r(h)||E}function $r(r){return 0==(1&r)}function Xo(r,s,a,h){if(null===s)return-1;let g=0;if(h||!a){let y=!1;for(;g<s.length;){const E=s[g];if(E===r)return g;if(3===E||6===E)y=!0;else{if(1===E||2===E){let C=s[++g];for(;"string"==typeof C;)C=s[++g];continue}if(4===E)break;if(0===E){g+=4;continue}}g+=y?1:2}return-1}return function cs(r,s){let a=r.indexOf(4);if(a>-1)for(a++;a<r.length;){const h=r[a];if("number"==typeof h)return-1;if(h===s)return a;a++}return-1}(s,r)}function as(r,s,a=!1){for(let h=0;h<s.length;h++)if(va(r,s[h],a))return!0;return!1}function Bl(r,s){e:for(let a=0;a<s.length;a++){const h=s[a];if(r.length===h.length){for(let g=0;g<r.length;g++)if(r[g]!==h[g])continue e;return!0}}return!1}function ji(r,s){return r?":not("+s.trim()+")":s}function yo(r){let s=r[0],a=1,h=2,g="",y=!1;for(;a<r.length;){let E=r[a];if("string"==typeof E)if(2&h){const C=r[++a];g+="["+E+(C.length>0?'="'+C+'"':"")+"]"}else 8&h?g+="."+E:4&h&&(g+=" "+E);else""!==g&&!$r(E)&&(s+=ji(y,g),g=""),h=E,y=y||!$r(h);a++}return""!==g&&(s+=ji(y,g)),s}function Cs(r){return Bi(()=>{const s=Ss(r),a={...s,decls:r.decls,vars:r.vars,template:r.template,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,onPush:r.changeDetection===po.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&r.dependencies||null,getStandaloneInjector:null,signals:r.signals??!1,data:r.data||{},encapsulation:r.encapsulation||Vi.Emulated,styles:r.styles||ir,_:null,schemas:r.schemas||null,tView:null,id:""};$a(a);const h=r.dependencies;return a.directiveDefs=fi(h,!1),a.pipeDefs=fi(h,!0),a.id=function Ji(r){let s=0;const a=[r.selectors,r.ngContentSelectors,r.hostVars,r.hostAttrs,r.consts,r.vars,r.decls,r.encapsulation,r.standalone,r.signals,r.exportAs,JSON.stringify(r.inputs),JSON.stringify(r.outputs),Object.getOwnPropertyNames(r.type.prototype),!!r.contentQueries,!!r.viewQuery].join("|");for(const g of a)s=Math.imul(31,s)+g.charCodeAt(0)<<0;return s+=2147483648,"c"+s}(a),a})}function ta(r){return Qn(r)||ai(r)}function na(r){return null!==r}function ro(r){return Bi(()=>({type:r.type,bootstrap:r.bootstrap||ir,declarations:r.declarations||ir,imports:r.imports||ir,exports:r.exports||ir,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function ia(r,s){if(null==r)return Hi;const a={};for(const h in r)if(r.hasOwnProperty(h)){let g=r[h],y=g;Array.isArray(g)&&(y=g[1],g=g[0]),a[g]=h,s&&(s[g]=y)}return a}function Ga(r){return Bi(()=>{const s=Ss(r);return $a(s),s})}function Qr(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function Qn(r){return r[go]||null}function ai(r){return r[Yo]||null}function Ci(r){return r[Jo]||null}function gs(r){const s=Qn(r)||ai(r)||Ci(r);return null!==s&&s.standalone}function Pr(r,s){const a=r[ja]||null;if(!a&&!0===s)throw new Error(`Type ${It(r)} does not have '\u0275mod' property.`);return a}function Ss(r){const s={};return{type:r.type,providersResolver:null,factory:null,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:s,inputTransforms:null,inputConfig:r.inputs||Hi,exportAs:r.exportAs||null,standalone:!0===r.standalone,signals:!0===r.signals,selectors:r.selectors||ir,viewQuery:r.viewQuery||null,features:r.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ia(r.inputs,s),outputs:ia(r.outputs)}}function $a(r){r.features?.forEach(s=>s(r))}function fi(r,s){if(!r)return null;const a=s?Ci:ta;return()=>("function"==typeof r?r():r).map(h=>a(h)).filter(na)}const pr=0,jt=1,Pn=2,Ur=3,pi=4,io=5,Jr=6,Gi=7,xn=8,kr=9,Xr=10,Ln=11,vo=12,Vo=13,bo=14,Fr=15,Qi=16,so=17,ri=18,sa=19,Sc=20,Hs=21,ls=22,js=23,wo=24,Gn=25,Io=1,Gs=2,Br=7,za=9,vi=11;function ur(r){return Array.isArray(r)&&"object"==typeof r[Io]}function Ai(r){return Array.isArray(r)&&!0===r[Io]}function $s(r){return 0!=(4&r.flags)}function Eo(r){return r.componentOffset>-1}function zs(r){return 1==(1&r.flags)}function Oi(r){return!!r.template}function Ni(r){return 0!=(512&r[Pn])}function lc(r,s){return r.hasOwnProperty(ps)?r[ps]:null}const Ns=Symbol("SIGNAL");function Ia(r,s){return(null===r||"object"!=typeof r)&&Object.is(r,s)}let bi=null,Ea=!1;function Mi(r){const s=bi;return bi=r,s}const Do={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function uc(r){if(Ea)throw new Error("");if(null===bi)return;const s=bi.nextProducerIndex++;Ms(bi),s<bi.producerNode.length&&bi.producerNode[s]!==r&&Pi(bi)&&us(bi.producerNode[s],bi.producerIndexOfThis[s]),bi.producerNode[s]!==r&&(bi.producerNode[s]=r,bi.producerIndexOfThis[s]=Pi(bi)?aa(r,bi,s):0),bi.producerLastReadVersion[s]=r.version}function xi(r){if(!Pi(r)||r.dirty){if(!r.producerMustRecompute(r)&&!Ri(r))return void(r.dirty=!1);r.producerRecomputeValue(r),r.dirty=!1}}function cl(r){if(void 0===r.liveConsumerNode)return;const s=Ea;Ea=!0;try{for(const a of r.liveConsumerNode)a.dirty||nd(a)}finally{Ea=s}}function $c(){return!1!==bi?.consumerAllowSignalWrites}function nd(r){r.dirty=!0,cl(r),r.consumerMarkedDirty?.(r)}function Co(r){return r&&(r.nextProducerIndex=0),Mi(r)}function dc(r,s){if(Mi(s),r&&void 0!==r.producerNode&&void 0!==r.producerIndexOfThis&&void 0!==r.producerLastReadVersion){if(Pi(r))for(let a=r.nextProducerIndex;a<r.producerNode.length;a++)us(r.producerNode[a],r.producerIndexOfThis[a]);for(;r.producerNode.length>r.nextProducerIndex;)r.producerNode.pop(),r.producerLastReadVersion.pop(),r.producerIndexOfThis.pop()}}function Ri(r){Ms(r);for(let s=0;s<r.producerNode.length;s++){const a=r.producerNode[s],h=r.producerLastReadVersion[s];if(h!==a.version||(xi(a),h!==a.version))return!0}return!1}function ll(r){if(Ms(r),Pi(r))for(let s=0;s<r.producerNode.length;s++)us(r.producerNode[s],r.producerIndexOfThis[s]);r.producerNode.length=r.producerLastReadVersion.length=r.producerIndexOfThis.length=0,r.liveConsumerNode&&(r.liveConsumerNode.length=r.liveConsumerIndexOfThis.length=0)}function aa(r,s,a){if(wi(r),Ms(r),0===r.liveConsumerNode.length)for(let h=0;h<r.producerNode.length;h++)r.producerIndexOfThis[h]=aa(r.producerNode[h],r,h);return r.liveConsumerIndexOfThis.push(a),r.liveConsumerNode.push(s)-1}function us(r,s){if(wi(r),Ms(r),1===r.liveConsumerNode.length)for(let h=0;h<r.producerNode.length;h++)us(r.producerNode[h],r.producerIndexOfThis[h]);const a=r.liveConsumerNode.length-1;if(r.liveConsumerNode[s]=r.liveConsumerNode[a],r.liveConsumerIndexOfThis[s]=r.liveConsumerIndexOfThis[a],r.liveConsumerNode.length--,r.liveConsumerIndexOfThis.length--,s<r.liveConsumerNode.length){const h=r.liveConsumerIndexOfThis[s],g=r.liveConsumerNode[s];Ms(g),g.producerIndexOfThis[h]=s}}function Pi(r){return r.consumerIsAlwaysLive||(r?.liveConsumerNode?.length??0)>0}function Ms(r){r.producerNode??=[],r.producerIndexOfThis??=[],r.producerLastReadVersion??=[]}function wi(r){r.liveConsumerNode??=[],r.liveConsumerIndexOfThis??=[]}function zc(r,s){const a=Object.create(rd);a.computation=r,s?.equal&&(a.equal=s.equal);const h=()=>{if(xi(a),uc(a),a.value===Da)throw a.error;return a.value};return h[Ns]=a,h}const Ta=Symbol("UNSET"),Ho=Symbol("COMPUTING"),Da=Symbol("ERRORED"),rd=(()=>({...Do,value:Ta,dirty:!0,error:null,equal:Ia,producerMustRecompute:r=>r.value===Ta||r.value===Ho,producerRecomputeValue(r){if(r.value===Ho)throw new Error("Detected cycle in computations.");const s=r.value;r.value=Ho;const a=Co(r);let h;try{h=r.computation()}catch(g){h=Da,r.error=g}finally{dc(r,a)}s!==Ta&&s!==Da&&h!==Da&&r.equal(s,h)?r.value=s:(r.value=h,r.version++)}}))();let ca=function ul(){throw new Error};function la(){ca()}let M=null;function ie(r,s){const a=Object.create(ee);function h(){return uc(a),a.value}return a.value=r,s?.equal&&(a.equal=s.equal),h.set=it,h.update=wt,h.mutate=Tn,h.asReadonly=Ar,h[Ns]=a,h}const ee=(()=>({...Do,equal:Ia,readonlyFn:void 0}))();function we(r){r.version++,cl(r),M?.()}function it(r){const s=this[Ns];$c()||la(),s.equal(s.value,r)||(s.value=r,we(s))}function wt(r){$c()||la(),it.call(this,r(this[Ns].value))}function Tn(r){const s=this[Ns];$c()||la(),r(s.value),we(s)}function Ar(){const r=this[Ns];if(void 0===r.readonlyFn){const s=()=>this();s[Ns]=r,r.readonlyFn=s}return r.readonlyFn}function Nr(r){const s=Mi(null);try{return r()}finally{Mi(s)}}const An=()=>{},zr=(()=>({...Do,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:r=>{r.schedule(r.ref)},hasRun:!1,cleanupFn:An}))();class ii{constructor(s,a,h){this.previousValue=s,this.currentValue=a,this.firstChange=h}isFirstChange(){return this.firstChange}}function Wi(){return Ii}function Ii(r){return r.type.prototype.ngOnChanges&&(r.setInput=qi),Xi}function Xi(){const r=Ca(this),s=r?.current;if(s){const a=r.previous;if(a===Hi)r.previous=s;else for(let h in s)a[h]=s[h];r.current=null,this.ngOnChanges(s)}}function qi(r,s,a,h){const g=this.declaredInputs[a],y=Ca(r)||function qs(r,s){return r[So]=s}(r,{previous:Hi,current:null}),E=y.current||(y.current={}),C=y.previous,P=C[g];E[g]=new ii(P&&P.currentValue,s,C===Hi),r[h]=s}Wi.ngInherit=!0;const So="__ngSimpleChanges__";function Ca(r){return r[So]||null}const _s=function(r,s,a){},Ao="svg";function Mr(r){for(;Array.isArray(r);)r=r[pr];return r}function Wc(r,s){return Mr(s[r])}function si(r,s){return Mr(s[r.index])}function id(r,s){return r.data[s]}function Sa(r,s){return r[s]}function ds(r,s){const a=s[r];return ur(a)?a:a[pr]}function Ka(r,s){return null==s?null:r[s]}function Hl(r){r[so]=0}function od(r){1024&r[Pn]||(r[Pn]|=1024,fc(r,1))}function Ei(r){1024&r[Pn]&&(r[Pn]&=-1025,fc(r,-1))}function fc(r,s){let a=r[Ur];if(null===a)return;a[io]+=s;let h=a;for(a=a[Ur];null!==a&&(1===s&&1===h[io]||-1===s&&0===h[io]);)a[io]+=s,h=a,a=a[Ur]}function Aa(r,s){if(256==(256&r[Pn]))throw new Ae(911,!1);null===r[Hs]&&(r[Hs]=[]),r[Hs].push(s)}const Nn={lFrame:$t(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function pl(){return Nn.bindingsEnabled}function pc(){return null!==Nn.skipHydrationRootTNode}function _t(){return Nn.lFrame.lView}function Er(){return Nn.lFrame.tView}function bu(r){return Nn.lFrame.contextLView=r,r[xn]}function qh(r){return Nn.lFrame.contextLView=null,r}function Zi(){let r=Jd();for(;null!==r&&64===r.type;)r=r.parent;return r}function Jd(){return Nn.lFrame.currentTNode}function gl(){const r=Nn.lFrame,s=r.currentTNode;return r.isParent?s:s.parent}function Oo(r,s){const a=Nn.lFrame;a.currentTNode=r,a.isParent=s}function wu(){return Nn.lFrame.isParent}function gc(){Nn.lFrame.isParent=!1}function ys(){const r=Nn.lFrame;let s=r.bindingRootIndex;return-1===s&&(s=r.bindingRootIndex=r.tView.bindingStartIndex),s}function _c(){return Nn.lFrame.bindingIndex++}function No(r){const s=Nn.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+r,a}function Zl(r){Nn.lFrame.inI18n=r}function Zh(r,s){const a=Nn.lFrame;a.bindingIndex=a.bindingRootIndex=r,R(s)}function R(r){Nn.lFrame.currentDirectiveIndex=r}function k(){return Nn.lFrame.currentQueryIndex}function G(r){Nn.lFrame.currentQueryIndex=r}function ce(r){const s=r[jt];return 2===s.type?s.declTNode:1===s.type?r[Jr]:null}function ve(r,s,a){if(a&nn.SkipSelf){let g=s,y=r;for(;!(g=g.parent,null!==g||a&nn.Host||(g=ce(y),null===g||(y=y[bo],10&g.type))););if(null===g)return!1;s=g,r=y}const h=Nn.lFrame=Ye();return h.currentTNode=s,h.lView=r,!0}function Qe(r){const s=Ye(),a=r[jt];Nn.lFrame=s,s.currentTNode=a.firstChild,s.lView=r,s.tView=a,s.contextLView=r,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function Ye(){const r=Nn.lFrame,s=null===r?null:r.child;return null===s?$t(r):s}function $t(r){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=s),s}function Xn(){const r=Nn.lFrame;return Nn.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const Vr=Xn;function ar(){const r=Xn();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function Wr(){return Nn.lFrame.selectedIndex}function Ya(r){Nn.lFrame.selectedIndex=r}function wr(){const r=Nn.lFrame;return id(r.tView,r.selectedIndex)}function Oc(){Nn.lFrame.currentNamespace=Ao}function Qd(){!function Ja(){Nn.lFrame.currentNamespace=null}()}let yp=!0;function Kh(){return yp}function Kc(r){yp=r}function ud(r,s){for(let a=s.directiveStart,h=s.directiveEnd;a<h;a++){const y=r.data[a].type.prototype,{ngAfterContentInit:E,ngAfterContentChecked:C,ngAfterViewInit:P,ngAfterViewChecked:W,ngOnDestroy:se}=y;E&&(r.contentHooks??=[]).push(-a,E),C&&((r.contentHooks??=[]).push(a,C),(r.contentCheckHooks??=[]).push(a,C)),P&&(r.viewHooks??=[]).push(-a,P),W&&((r.viewHooks??=[]).push(a,W),(r.viewCheckHooks??=[]).push(a,W)),null!=se&&(r.destroyHooks??=[]).push(a,se)}}function Yc(r,s,a){Tu(r,s,3,a)}function ml(r,s,a,h){(3&r[Pn])===a&&Tu(r,s,a,h)}function Xd(r,s){let a=r[Pn];(3&a)===s&&(a&=8191,a+=1,r[Pn]=a)}function Tu(r,s,a,h){const y=h??-1,E=s.length-1;let C=0;for(let P=void 0!==h?65535&r[so]:0;P<E;P++)if("number"==typeof s[P+1]){if(C=s[P],null!=h&&C>=h)break}else s[P]<0&&(r[so]+=65536),(C<y||-1==y)&&(yc(r,a,s,P),r[so]=(4294901760&r[so])+P+2),P++}function eh(r,s){_s(4,r,s);const a=Mi(null);try{s.call(r)}finally{Mi(a),_s(5,r,s)}}function yc(r,s,a,h){const g=a[h]<0,y=a[h+1],C=r[g?-a[h]:a[h]];g?r[Pn]>>13<r[so]>>16&&(3&r[Pn])===s&&(r[Pn]+=8192,eh(C,y)):eh(C,y)}const _l=-1;class dd{constructor(s,a,h){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=h}}function Jl(r){return r!==_l}function Ql(r){return 32767&r}function Jc(r,s){let a=function nh(r){return r>>16}(r),h=s;for(;a>0;)h=h[bo],a--;return h}let Du=!0;function Nc(r){const s=Du;return Du=r,s}const Xl=255,Cu=5;let yl=0;const xo={};function Su(r,s){const a=Xh(r,s);if(-1!==a)return a;const h=s[jt];h.firstCreatePass&&(r.injectorIndex=s.length,Au(h.data,r),Au(s,null),Au(h.blueprint,null));const g=rh(r,s),y=r.injectorIndex;if(Jl(g)){const E=Ql(g),C=Jc(g,s),P=C[jt].data;for(let W=0;W<8;W++)s[y+W]=C[E+W]|P[E+W]}return s[y+8]=g,y}function Au(r,s){r.push(0,0,0,0,0,0,0,0,s)}function Xh(r,s){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===s[r.injectorIndex+8]?-1:r.injectorIndex}function rh(r,s){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let a=0,h=null,g=s;for(;null!==g;){if(h=Ve(g),null===h)return _l;if(a++,g=g[bo],-1!==h.injectorIndex)return h.injectorIndex|a<<16}return _l}function fd(r,s,a){!function hd(r,s,a){let h;"string"==typeof a?h=a.charCodeAt(0)||0:a.hasOwnProperty(ma)&&(h=a[ma]),null==h&&(h=a[ma]=yl++);const g=h&Xl;s.data[r+(g>>Cu)]|=1<<g}(r,s,a)}function ef(r,s,a){if(a&nn.Optional||void 0!==r)return r;_n()}function tf(r,s,a,h){if(a&nn.Optional&&void 0===h&&(h=null),!(a&(nn.Self|nn.Host))){const g=r[kr],y=En(void 0);try{return g?g.get(s,h,a&nn.Optional):lr(s,h,a&nn.Optional)}finally{En(y)}}return ef(h,0,a)}function eu(r,s,a,h=nn.Default,g){if(null!==r){if(2048&s[Pn]&&!(h&nn.Self)){const E=function Pe(r,s,a,h,g){let y=r,E=s;for(;null!==y&&null!==E&&2048&E[Pn]&&!(512&E[Pn]);){const C=vl(y,E,a,h|nn.Self,xo);if(C!==xo)return C;let P=y.parent;if(!P){const W=E[Sc];if(W){const se=W.get(a,xo,h);if(se!==xo)return se}P=Ve(E),E=E[bo]}y=P}return g}(r,s,a,h,xo);if(E!==xo)return E}const y=vl(r,s,a,h,xo);if(y!==xo)return y}return tf(s,a,h,g)}function vl(r,s,a,h,g){const y=function nf(r){if("string"==typeof r)return r.charCodeAt(0)||0;const s=r.hasOwnProperty(ma)?r[ma]:void 0;return"number"==typeof s?s>=0?s&Xl:L:s}(a);if("function"==typeof y){if(!ve(s,r,h))return h&nn.Host?ef(g,0,h):tf(s,a,h,g);try{let E;if(E=y(h),null!=E||h&nn.Optional)return E;_n()}finally{Vr()}}else if("number"==typeof y){let E=null,C=Xh(r,s),P=_l,W=h&nn.Host?s[Fr][Jr]:null;for((-1===C||h&nn.SkipSelf)&&(P=-1===C?rh(r,s):s[C+8],P!==_l&&Ou(h,!1)?(E=s[jt],C=Ql(P),s=Jc(P,s)):C=-1);-1!==C;){const se=s[jt];if(ih(y,C,se.data)){const me=wp(C,s,a,E,h,W);if(me!==xo)return me}P=s[C+8],P!==_l&&Ou(h,s[jt].data[C+8]===W)&&ih(y,C,s)?(E=se,C=Ql(P),s=Jc(P,s)):C=-1}}return g}function wp(r,s,a,h,g,y){const E=s[jt],C=E.data[r+8],se=Oa(C,E,a,null==h?Eo(C)&&Du:h!=E&&0!=(3&C.type),g&nn.Host&&y===C);return null!==se?bl(s,E,se,C):xo}function Oa(r,s,a,h,g){const y=r.providerIndexes,E=s.data,C=1048575&y,P=r.directiveStart,se=y>>20,Fe=g?C+se:r.directiveEnd;for(let Ge=h?C:C+se;Ge<Fe;Ge++){const vt=E[Ge];if(Ge<P&&a===vt||Ge>=P&&vt.type===a)return Ge}if(g){const Ge=E[P];if(Ge&&Oi(Ge)&&Ge.type===a)return P}return null}function bl(r,s,a,h){let g=r[a];const y=s.data;if(function Yh(r){return r instanceof dd}(g)){const E=g;E.resolving&&function wn(r,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${r}`:"";throw new Ae(-200,`Circular dependency in DI detected for ${r}${a}`)}(function ut(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():Le(r)}(y[a]));const C=Nc(E.canSeeViewProviders);E.resolving=!0;const W=E.injectImpl?En(E.injectImpl):null;ve(r,h,nn.Default);try{g=r[a]=E.factory(void 0,y,r,h),s.firstCreatePass&&a>=h.directiveStart&&function Hg(r,s,a){const{ngOnChanges:h,ngOnInit:g,ngDoCheck:y}=s.type.prototype;if(h){const E=Ii(s);(a.preOrderHooks??=[]).push(r,E),(a.preOrderCheckHooks??=[]).push(r,E)}g&&(a.preOrderHooks??=[]).push(0-r,g),y&&((a.preOrderHooks??=[]).push(r,y),(a.preOrderCheckHooks??=[]).push(r,y))}(a,y[a],s)}finally{null!==W&&En(W),Nc(C),E.resolving=!1,Vr()}}return g}function ih(r,s,a){return!!(a[s+(r>>Cu)]&1<<r)}function Ou(r,s){return!(r&nn.Self||r&nn.Host&&s)}class N{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,h){return eu(this._tNode,this._lView,s,fs(h),a)}}function L(){return new N(Zi(),_t())}function te(r){return Bi(()=>{const s=r.prototype.constructor,a=s[ps]||pe(s),h=Object.prototype;let g=Object.getPrototypeOf(r.prototype).constructor;for(;g&&g!==h;){const y=g[ps]||pe(g);if(y&&y!==a)return y;g=Object.getPrototypeOf(g)}return y=>new y})}function pe(r){return st(r)?()=>{const s=pe(Tt(r));return s&&s()}:lc(r)}function Ve(r){const s=r[jt],a=s.type;return 2===a?s.declTNode:1===a?r[Jr]:null}function ct(r){return function Mc(r,s){if("class"===s)return r.classes;if("style"===s)return r.styles;const a=r.attrs;if(a){const h=a.length;let g=0;for(;g<h;){const y=a[g];if(Qo(y))break;if(0===y)g+=2;else if("number"==typeof y)for(g++;g<h&&"string"==typeof a[g];)g++;else{if(y===s)return a[g+1];g+=2}}}return null}(Zi(),r)}const Ut="__parameters__";function Zs(r,s,a){return Bi(()=>{const h=function Zn(r){return function(...a){if(r){const h=r(...a);for(const g in h)this[g]=h[g]}}}(s);function g(...y){if(this instanceof g)return h.apply(this,y),this;const E=new g(...y);return C.annotation=E,C;function C(P,W,se){const me=P.hasOwnProperty(Ut)?P[Ut]:Object.defineProperty(P,Ut,{value:[]})[Ut];for(;me.length<=se;)me.push(null);return(me[se]=me[se]||[]).push(E),P}}return a&&(g.prototype=Object.create(a.prototype)),g.prototype.ngMetadataName=r,g.annotationCls=g,g})}function sf(r,s){r.forEach(a=>Array.isArray(a)?sf(a,s):s(a))}function oh(r,s,a){s>=r.length?r.push(a):r.splice(s,0,a)}function ah(r,s){return s>=r.length-1?r.pop():r.splice(s,1)[0]}function Ru(r,s){const a=[];for(let h=0;h<r;h++)a.push(s);return a}function ua(r,s,a){let h=Pu(r,s);return h>=0?r[1|h]=a:(h=~h,function m0(r,s,a,h){let g=r.length;if(g==s)r.push(a,h);else if(1===g)r.push(h,r[0]),r[0]=a;else{for(g--,r.push(r[g-1],r[g]);g>s;)r[g]=r[g-2],g--;r[s]=a,r[s+1]=h}}(r,h,s,a)),h}function zg(r,s){const a=Pu(r,s);if(a>=0)return r[1|a]}function Pu(r,s){return function Wg(r,s,a){let h=0,g=r.length>>a;for(;g!==h;){const y=h+(g-h>>1),E=r[y<<a];if(s===E)return y<<a;E>s?g=y:h=y+1}return~(g<<a)}(r,s,1)}const Ep=ss(Zs("Inject",r=>({token:r})),-1),af=ss(Zs("Optional"),8),Tp=ss(Zs("SkipSelf"),4);function w0(r){return 128==(128&r.flags)}var E0=function(r){return r[r.Important=1]="Important",r[r.DashCase=2]="DashCase",r}(E0||{});const LD=/^>|^->|<!--|-->|--!>|<!-$/g,UD=/(<|>)/g,TT="\u200b$1\u200b";const J_=new Map;let zo=0;const X_="__ngContext__";function Ma(r,s){ur(s)?(r[X_]=s[sa],function Qg(r){J_.set(r[sa],r)}(s)):r[X_]=s}let md;function _d(r,s){return md(r,s)}function Mp(r){const s=r[Ur];return Ai(s)?s[Ur]:s}function A0(r){return ty(r[vo])}function yd(r){return ty(r[pi])}function ty(r){for(;null!==r&&!Ai(r);)r=r[pi];return r}function Il(r,s,a,h,g){if(null!=h){let y,E=!1;Ai(h)?y=h:ur(h)&&(E=!0,h=h[pr]);const C=Mr(h);0===r&&null!==a?null==g?N0(s,a,C):Lu(s,a,C,g||null,!0):1===r&&null!==a?Lu(s,a,C,g||null,!0):2===r?function cy(r,s,a){const h=dh(r,s);h&&function aI(r,s,a,h){r.removeChild(s,a,h)}(r,h,s,a)}(s,C,E):3===r&&s.destroyNode(C),null!=y&&function CT(r,s,a,h,g){const y=a[Br];y!==Mr(a)&&Il(s,r,h,y,g);for(let C=vi;C<a.length;C++){const P=a[C];lm(P[jt],P,r,s,h,y)}}(s,r,y,a,g)}}function xp(r,s){return r.createText(s)}function rm(r,s){return r.createComment(function T0(r){return r.replace(LD,s=>s.replace(UD,TT))}(s))}function hf(r,s,a){return r.createElement(s,a)}function uh(r,s){const a=r[za],h=a.indexOf(s);Ei(s),a.splice(h,1)}function Rp(r,s){if(r.length<=vi)return;const a=vi+s,h=r[a];if(h){const g=h[Qi];null!==g&&g!==r&&uh(g,h),s>0&&(r[a-1][pi]=h[pi]);const y=ah(r,vi+s);!function im(r,s){lm(r,s,s[Ln],2,null,null),s[pr]=null,s[Jr]=null}(h[jt],h);const E=y[ri];null!==E&&E.detachView(y[jt]),h[Ur]=null,h[pi]=null,h[Pn]&=-129}return h}function Pp(r,s){if(!(256&s[Pn])){const a=s[Ln];s[js]&&ll(s[js]),s[wo]&&ll(s[wo]),a.destroyNode&&lm(r,s,a,3,null,null),function O0(r){let s=r[vo];if(!s)return kp(r[jt],r);for(;s;){let a=null;if(ur(s))a=s[vo];else{const h=s[vi];h&&(a=h)}if(!a){for(;s&&!s[pi]&&s!==r;)ur(s)&&kp(s[jt],s),s=s[Ur];null===s&&(s=r),ur(s)&&kp(s[jt],s),a=s&&s[pi]}s=a}}(s)}}function kp(r,s){if(!(256&s[Pn])){s[Pn]&=-129,s[Pn]|=256,function oy(r,s){let a;if(null!=r&&null!=(a=r.destroyHooks))for(let h=0;h<a.length;h+=2){const g=s[a[h]];if(!(g instanceof dd)){const y=a[h+1];if(Array.isArray(y))for(let E=0;E<y.length;E+=2){const C=g[y[E]],P=y[E+1];_s(4,C,P);try{P.call(C)}finally{_s(5,C,P)}}else{_s(4,g,y);try{y.call(g)}finally{_s(5,g,y)}}}}}(r,s),function oI(r,s){const a=r.cleanup,h=s[Gi];if(null!==a)for(let y=0;y<a.length-1;y+=2)if("string"==typeof a[y]){const E=a[y+3];E>=0?h[E]():h[-E].unsubscribe(),y+=2}else a[y].call(h[a[y+1]]);null!==h&&(s[Gi]=null);const g=s[Hs];if(null!==g){s[Hs]=null;for(let y=0;y<g.length;y++)(0,g[y])()}}(r,s),1===s[jt].type&&s[Ln].destroy();const a=s[Qi];if(null!==a&&Ai(s[Ur])){a!==s[Ur]&&uh(a,s);const h=s[ri];null!==h&&h.detachView(r)}!function rI(r){J_.delete(r[sa])}(s)}}function Fp(r,s,a){return om(r,s.parent,a)}function om(r,s,a){let h=s;for(;null!==h&&40&h.type;)h=(s=h).parent;if(null===h)return a[pr];{const{componentOffset:g}=h;if(g>-1){const{encapsulation:y}=r.data[h.directiveStart+g];if(y===Vi.None||y===Vi.Emulated)return null}return si(h,a)}}function Lu(r,s,a,h,g){r.insertBefore(s,a,h,g)}function N0(r,s,a){r.appendChild(s,a)}function M0(r,s,a,h,g){null!==h?Lu(r,s,a,h,g):N0(r,s,a)}function dh(r,s){return r.parentNode(s)}function Lp(r,s,a){return cm(r,s,a)}function Up(r,s,a){return 40&r.type?si(r,a):null}let Bp,Hp,hy,ff,cm=Up;function x0(r,s){cm=r,Bp=s}function Vp(r,s,a,h){const g=Fp(r,h,s),y=s[Ln],C=Lp(h.parent||s[Jr],h,s);if(null!=g)if(Array.isArray(a))for(let P=0;P<a.length;P++)M0(y,g,a[P],C,!1);else M0(y,g,a,C,!1);void 0!==Bp&&Bp(y,h,s,a,g)}function Uu(r,s){if(null!==s){const a=s.type;if(3&a)return si(s,r);if(4&a)return P0(-1,r[s.index]);if(8&a){const h=s.child;if(null!==h)return Uu(r,h);{const g=r[s.index];return Ai(g)?P0(-1,g):Mr(g)}}if(32&a)return _d(s,r)()||Mr(r[s.index]);{const h=R0(r,s);return null!==h?Array.isArray(h)?h[0]:Uu(Mp(r[Fr]),h):Uu(r,s.next)}}return null}function R0(r,s){return null!==s?r[Fr][Jr].projection[s.projection]:null}function P0(r,s){const a=vi+r+1;if(a<s.length){const h=s[a],g=h[jt].firstChild;if(null!==g)return Uu(h,g)}return s[Br]}function k0(r,s,a,h,g,y,E){for(;null!=a;){const C=h[a.index],P=a.type;if(E&&0===s&&(C&&Ma(Mr(C),h),a.flags|=2),32!=(32&a.flags))if(8&P)k0(r,s,a.child,h,g,y,!1),Il(s,r,g,C,y);else if(32&P){const W=_d(a,h);let se;for(;se=W();)Il(s,r,g,se,y);Il(s,r,g,C,y)}else 16&P?lI(r,s,h,a,g,y):Il(s,r,g,C,y);a=E?a.projectionNext:a.next}}function lm(r,s,a,h,g,y){k0(a,h,r.firstChild,s,g,y,!1)}function lI(r,s,a,h,g,y){const E=a[Fr],P=E[Jr].projection[h.projection];if(Array.isArray(P))for(let W=0;W<P.length;W++)Il(s,r,g,P[W],y);else{let W=P;const se=E[Ur];w0(h)&&(W.flags|=128),k0(r,s,W,se,g,y,!0)}}function F0(r,s,a){""===a?r.removeAttribute(s,"class"):r.setAttribute(s,"class",a)}function uy(r,s,a){const{mergedAttrs:h,classes:g,styles:y}=a;null!==h&&_i(r,s,h),null!==g&&F0(r,s,g),null!==y&&function ly(r,s,a){r.setAttribute(s,"style",a)}(r,s,y)}function jp(r){return function L0(){if(void 0===Hp&&(Hp=null,or.trustedTypes))try{Hp=or.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return Hp}()?.createHTML(r)||r}function Xc(r){hy=r}function Ti(){if(void 0!==hy)return hy;if(typeof document<"u")return document;throw new Ae(210,!1)}function dI(r){return function fy(){if(void 0===ff&&(ff=null,or.trustedTypes))try{ff=or.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return ff}()?.createScriptURL(r)||r}class vd{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ze})`}}class NT extends vd{getTypeName(){return"HTML"}}class pf extends vd{getTypeName(){return"Style"}}class dm extends vd{getTypeName(){return"Script"}}class gy extends vd{getTypeName(){return"URL"}}class my extends vd{getTypeName(){return"ResourceURL"}}function su(r){return r instanceof vd?r.changingThisBreaksApplicationSecurity:r}function Gp(r,s){const a=function _y(r){return r instanceof vd&&r.getTypeName()||null}(r);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see ${ze})`)}return a===s}function $p(r){return new NT(r)}function hh(r){return new pf(r)}function hm(r){return new dm(r)}function fm(r){return new gy(r)}function U0(r){return new my(r)}function pm(r){const s=new B0(r);return function BD(){try{return!!(new window.DOMParser).parseFromString(jp(""),"text/html")}catch{return!1}}()?new gf(s):s}class gf{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(jp(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch{return null}}}class B0{constructor(s){this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(s){const a=this.inertDocument.createElement("template");return a.innerHTML=jp(s),a}}const VD=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function V0(r){return(r=String(r)).match(VD)?r:"unsafe:"+r}function fh(r){const s={};for(const a of r.split(","))s[a]=!0;return s}function yy(...r){const s={};for(const a of r)for(const h in a)a.hasOwnProperty(h)&&(s[h]=!0);return s}const hI=fh("area,br,col,hr,img,wbr"),El=fh("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ln=fh("rp,rt"),mf=yy(hI,yy(El,fh("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),yy(ln,fh("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),yy(ln,El)),j0=fh("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),gI=yy(j0,fh("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),fh("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),G0=fh("script,style,template");class xa{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,h=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?h=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,h&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let g=this.checkClobberedElement(a,a.nextSibling);if(g){a=g;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(s){const a=s.nodeName.toLowerCase();if(!mf.hasOwnProperty(a))return this.sanitizedSomething=!0,!G0.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const h=s.attributes;for(let g=0;g<h.length;g++){const y=h.item(g),E=y.name,C=E.toLowerCase();if(!gI.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let P=y.value;j0[C]&&(P=V0(P)),this.buf.push(" ",E,'="',ou(P),'"')}return this.buf.push(">"),!0}endElement(s){const a=s.nodeName.toLowerCase();mf.hasOwnProperty(a)&&!hI.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(ou(s))}checkClobberedElement(s,a){if(a&&(s.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return a}}const vy=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ro=/([^\#-~ |!])/g;function ou(r){return r.replace(/&/g,"&amp;").replace(vy,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(Ro,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ph;function by(r,s){let a=null;try{ph=ph||pm(r);let h=s?String(s):"";a=ph.getInertBodyElement(h);let g=5,y=h;do{if(0===g)throw new Error("Failed to sanitize html because the input is unstable");g--,h=y,y=a.innerHTML,a=ph.getInertBodyElement(h)}while(h!==y);return jp((new xa).sanitizeChildren(bd(a)||a))}finally{if(a){const h=bd(a)||a;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function bd(r){return"content"in r&&function mI(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var bs=function(r){return r[r.NONE=0]="NONE",r[r.HTML=1]="HTML",r[r.STYLE=2]="STYLE",r[r.SCRIPT=3]="SCRIPT",r[r.URL=4]="URL",r[r.RESOURCE_URL=5]="RESOURCE_URL",r}(bs||{});function _f(r){const s=zp();return s?s.sanitize(bs.URL,r)||"":Gp(r,"URL")?su(r):V0(Le(r))}function Pc(r){const s=zp();if(s)return dI(s.sanitize(bs.RESOURCE_URL,r)||"");if(Gp(r,"ResourceURL"))return dI(su(r));throw new Ae(904,!1)}function Iy(r,s,a){return function wd(r,s){return"src"===s&&("embed"===r||"frame"===r||"iframe"===r||"media"===r||"script"===r)||"href"===s&&("base"===r||"link"===r)?Pc:_f}(s,a)(r)}function zp(){const r=_t();return r&&r[Xr].sanitizer}const yf=new Zt("ENVIRONMENT_INITIALIZER"),Wp=new Zt("INJECTOR",-1),mm=new Zt("INJECTOR_DEF_TYPES");class vf{get(s,a=B){if(a===B){const h=new Error(`NullInjectorError: No provider for ${It(s)}!`);throw h.name="NullInjectorError",h}return a}}function ym(...r){return{\u0275providers:Ey(0,r),\u0275fromNgModule:!0}}function Ey(r,...s){const a=[],h=new Set;let g;const y=E=>{a.push(E)};return sf(s,E=>{const C=E;kc(C,y,[],h)&&(g||=[],g.push(C))}),void 0!==g&&bf(g,y),a}function bf(r,s){for(let a=0;a<r.length;a++){const{ngModule:h,providers:g}=r[a];mh(g,y=>{s(y,h)})}}function kc(r,s,a,h){if(!(r=Tt(r)))return!1;let g=null,y=yn(r);const E=!y&&Qn(r);if(y||E){if(E&&!E.standalone)return!1;g=r}else{const P=r.ngModule;if(y=yn(P),!y)return!1;g=P}const C=h.has(g);if(E){if(C)return!1;if(h.add(g),E.dependencies){const P="function"==typeof E.dependencies?E.dependencies():E.dependencies;for(const W of P)kc(W,s,a,h)}}else{if(!y)return!1;{if(null!=y.imports&&!C){let W;h.add(g);try{sf(y.imports,se=>{kc(se,s,a,h)&&(W||=[],W.push(se))})}finally{}void 0!==W&&bf(W,s)}if(!C){const W=lc(g)||(()=>new g);s({provide:g,useFactory:W,deps:ir},g),s({provide:mm,useValue:g,multi:!0},g),s({provide:yf,useValue:()=>Fn(g),multi:!0},g)}const P=y.providers;if(null!=P&&!C){const W=r;mh(P,se=>{s(se,W)})}}}return g!==r&&void 0!==r.providers}function mh(r,s){for(let a of r)rt(a)&&(a=a.\u0275providers),Array.isArray(a)?mh(a,s):s(a)}const bI=Me({provide:String,useValue:Me});function Dy(r){return null!==r&&"object"==typeof r&&bI in r}function If(r){return"function"==typeof r}const Zp=new Zt("Set Injector scope."),Kp={},Yp={};let Ef;function _h(){return void 0===Ef&&(Ef=new vf),Ef}class Fc{}class Bu extends Fc{get destroyed(){return this._destroyed}constructor(s,a,h,g){super(),this.parent=a,this.source=h,this.scopes=g,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,vm(s,E=>this.processProvider(E)),this.records.set(Wp,Id(void 0,this)),g.has("environment")&&this.records.set(Fc,Id(void 0,this));const y=this.records.get(Zp);null!=y&&"string"==typeof y.value&&this.scopes.add(y.value),this.injectorDefTypes=new Set(this.get(mm.multi,ir,nn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();const s=this._onDestroyHooks;this._onDestroyHooks=[];for(const a of s)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(s){return this.assertNotDestroyed(),this._onDestroyHooks.push(s),()=>this.removeOnDestroy(s)}runInContext(s){this.assertNotDestroyed();const a=kn(this),h=En(void 0);try{return s()}finally{kn(a),En(h)}}get(s,a=B,h=nn.Default){if(this.assertNotDestroyed(),s.hasOwnProperty(Yr))return s[Yr](this);h=fs(h);const y=kn(this),E=En(void 0);try{if(!(h&nn.SkipSelf)){let P=this.records.get(s);if(void 0===P){const W=function xT(r){return"function"==typeof r||"object"==typeof r&&r instanceof Zt}(s)&&mt(s);P=W&&this.injectableDefInScope(W)?Id(Jp(s),Kp):null,this.records.set(s,P)}if(null!=P)return this.hydrate(s,P)}return(h&nn.Self?_h():this.parent).get(s,a=h&nn.Optional&&a===B?null:a)}catch(C){if("NullInjectorError"===C.name){if((C[q]=C[q]||[]).unshift(It(s)),y)throw C;return function Ha(r,s,a,h){const g=r[q];throw s[Dt]&&g.unshift(s[Dt]),r.message=function Ls(r,s,a,h=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.slice(2):r;let g=It(s);if(Array.isArray(s))g=s.map(It).join(" -> ");else if("object"==typeof s){let y=[];for(let E in s)if(s.hasOwnProperty(E)){let C=s[E];y.push(E+":"+("string"==typeof C?JSON.stringify(C):It(C)))}g=`{${y.join(", ")}}`}return`${a}${h?"("+h+")":""}[${g}]: ${r.replace(Te,"\n  ")}`}("\n"+r.message,g,a,h),r.ngTokenPath=g,r[q]=null,r}(C,s,"R3InjectorError",this.source)}throw C}finally{En(E),kn(y)}}resolveInjectorInitializers(){const s=kn(this),a=En(void 0);try{const g=this.get(yf.multi,ir,nn.Self);for(const y of g)y()}finally{kn(s),En(a)}}toString(){const s=[],a=this.records;for(const h of a.keys())s.push(It(h));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ae(205,!1)}processProvider(s){let a=If(s=Tt(s))?s:Tt(s&&s.provide);const h=function MT(r){return Dy(r)?Id(void 0,r.useValue):Id(z0(r),Kp)}(s);if(If(s)||!0!==s.multi)this.records.get(a);else{let g=this.records.get(a);g||(g=Id(void 0,Kp,!0),g.factory=()=>Bo(g.multi),this.records.set(a,g)),a=s,g.multi.push(s)}this.records.set(a,h)}hydrate(s,a){return a.value===Kp&&(a.value=Yp,a.value=a.factory()),"object"==typeof a.value&&a.value&&function W0(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=Tt(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}removeOnDestroy(s){const a=this._onDestroyHooks.indexOf(s);-1!==a&&this._onDestroyHooks.splice(a,1)}}function Jp(r){const s=mt(r),a=null!==s?s.factory:lc(r);if(null!==a)return a;if(r instanceof Zt)throw new Ae(204,!1);if(r instanceof Function)return function Cy(r){const s=r.length;if(s>0)throw Ru(s,"?"),new Ae(204,!1);const a=function Ir(r){return r&&(r[Cn]||r[pn])||null}(r);return null!==a?()=>a.factory(r):()=>new r}(r);throw new Ae(204,!1)}function z0(r,s,a){let h;if(If(r)){const g=Tt(r);return lc(g)||Jp(g)}if(Dy(r))h=()=>Tt(r.useValue);else if(function wf(r){return!(!r||!r.useFactory)}(r))h=()=>r.useFactory(...Bo(r.deps||[]));else if(function qp(r){return!(!r||!r.useExisting)}(r))h=()=>Fn(Tt(r.useExisting));else{const g=Tt(r&&(r.useClass||r.provide));if(!function Sy(r){return!!r.deps}(r))return lc(g)||Jp(g);h=()=>new g(...Bo(r.deps))}return h}function Id(r,s,a=!1){return{factory:r,value:s,multi:a?[]:void 0}}function vm(r,s){for(const a of r)Array.isArray(a)?vm(a,s):a&&rt(a)?vm(a.\u0275providers,s):s(a)}const Ay=new Zt("AppId",{providedIn:"root",factory:()=>q0}),q0="ng",Wo=new Zt("Platform Initializer"),ao=new Zt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),K0=new Zt("AnimationModuleType"),Y0=new Zt("CSP nonce",{providedIn:"root",factory:()=>Ti().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Em=(r,s,a)=>null;function vh(r,s,a=!1){return Em(r,s,a)}class Qp{}class X0{}class Xp{resolveComponentFactory(s){throw function eb(r){const s=Error(`No component factory found for ${It(r)}.`);return s.ngComponent=r,s}(s)}}let eg=(()=>{class r{static#e=this.NULL=new Xp}return r})();function nb(){return wh(Zi(),_t())}function wh(r,s){return new Ih(si(r,s))}let Ih=(()=>{class r{constructor(a){this.nativeElement=a}static#e=this.__NG_ELEMENT_ID__=nb}return r})();function Of(r){return r instanceof Ih?r.nativeElement:r}class rb{}let UT=(()=>{class r{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Ly(){const r=_t(),a=ds(Zi().index,r);return(ur(a)?a:r)[Ln]}()}return r})(),Uy=(()=>{class r{static#e=this.\u0275prov=xe({token:r,providedIn:"root",factory:()=>null})}return r})();class By{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const ib=new By("16.2.12"),Vy={};function tg(r){if(!Cr()&&!function hn(){return dn}())throw new Ae(-203,!1)}function Hy(r,s=null,a=null,h){const g=ob(r,s,a,h);return g.resolveInjectorInitializers(),g}function ob(r,s=null,a=null,h,g=new Set){const y=[a||ir,ym(r)];return h=h||("object"==typeof r?void 0:It(r)),new Bu(y,s||_h(),h||null,g)}let da=(()=>{class r{static#e=this.THROW_IF_NOT_FOUND=B;static#t=this.NULL=new vf;static create(a,h){if(Array.isArray(a))return Hy({name:""},h,a,"");{const g=a.name??"";return Hy({name:g},a.parent,a.providers,g)}}static#n=this.\u0275prov=xe({token:r,providedIn:"any",factory:()=>Fn(Wp)});static#r=this.__NG_ELEMENT_ID__=-1}return r})();function Mf(r){return r.ngOriginalError}class Dd{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s);this._console.error("ERROR",s),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&Mf(s);for(;a&&Mf(a);)a=Mf(a);return a||null}}let gi=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=rg;static#t=this.__NG_ENV_ID__=a=>a}return r})();class Sm extends gi{constructor(s){super(),this._lView=s}onDestroy(s){return Aa(this._lView,s),()=>function ci(r,s){if(null===r[Hs])return;const a=r[Hs].indexOf(s);-1!==a&&r[Hs].splice(a,1)}(this._lView,s)}}function rg(){return new Sm(_t())}function Gy(r){return s=>{setTimeout(r,void 0,s)}}const Tl=class ig extends b.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,h){let g=s,y=a||(()=>null),E=h;if(s&&"object"==typeof s){const P=s;g=P.next?.bind(P),y=P.error?.bind(P),E=P.complete?.bind(P)}this.__isAsync&&(y=Gy(y),g&&(g=Gy(g)),E&&(E=Gy(E)));const C=super.subscribe({next:g,error:y,complete:E});return s instanceof X.w0&&s.add(C),C}};function ab(...r){}class qo{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Tl(!1),this.onMicrotaskEmpty=new Tl(!1),this.onStable=new Tl(!1),this.onError=new Tl(!1),typeof Zone>"u")throw new Ae(908,!1);Zone.assertZonePatched();const g=this;g._nesting=0,g._outer=g._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!h&&a,g.shouldCoalesceRunChangeDetection=h,g.lastRequestAnimationFrameId=-1,g.nativeRequestAnimationFrame=function OI(){const r="function"==typeof or.requestAnimationFrame;let s=or[r?"requestAnimationFrame":"setTimeout"],a=or[r?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&s&&a){const h=s[Zone.__symbol__("OriginalDelegate")];h&&(s=h);const g=a[Zone.__symbol__("OriginalDelegate")];g&&(a=g)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function lb(r){const s=()=>{!function cb(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(or,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,Am(r),r.isCheckStableRunning=!0,cu(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),Am(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,h,g,y,E,C)=>{if(function hb(r){return!(!Array.isArray(r)||1!==r.length)&&!0===r[0].data?.__ignore_ng_zone__}(C))return a.invokeTask(g,y,E,C);try{return Eh(r),a.invokeTask(g,y,E,C)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===y.type||r.shouldCoalesceRunChangeDetection)&&s(),ub(r)}},onInvoke:(a,h,g,y,E,C,P)=>{try{return Eh(r),a.invoke(g,y,E,C,P)}finally{r.shouldCoalesceRunChangeDetection&&s(),ub(r)}},onHasTask:(a,h,g,y)=>{a.hasTask(g,y),h===g&&("microTask"==y.change?(r._hasPendingMicrotasks=y.microTask,Am(r),cu(r)):"macroTask"==y.change&&(r.hasPendingMacrotasks=y.macroTask))},onHandleError:(a,h,g,y)=>(a.handleError(g,y),r.runOutsideAngular(()=>r.onError.emit(y)),!1)})}(g)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!qo.isInAngularZone())throw new Ae(909,!1)}static assertNotInAngularZone(){if(qo.isInAngularZone())throw new Ae(909,!1)}run(s,a,h){return this._inner.run(s,a,h)}runTask(s,a,h,g){const y=this._inner,E=y.scheduleEventTask("NgZoneEvent: "+g,s,sg,ab,ab);try{return y.runTask(E,a,h)}finally{y.cancelTask(E)}}runGuarded(s,a,h){return this._inner.runGuarded(s,a,h)}runOutsideAngular(s){return this._outer.run(s)}}const sg={};function cu(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function Am(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function Eh(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function ub(r){r._nesting--,cu(r)}class NI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Tl,this.onMicrotaskEmpty=new Tl,this.onStable=new Tl,this.onError=new Tl}run(s,a,h){return s.apply(a,h)}runGuarded(s,a,h){return s.apply(a,h)}runOutsideAngular(s){return s()}runTask(s,a,h,g){return s.apply(a,h)}}const $y=new Zt("",{providedIn:"root",factory:db});function db(){const r=nr(qo);let s=!0;const a=new u.y(g=>{s=r.isStable&&!r.hasPendingMacrotasks&&!r.hasPendingMicrotasks,r.runOutsideAngular(()=>{g.next(s),g.complete()})}),h=new u.y(g=>{let y;r.runOutsideAngular(()=>{y=r.onStable.subscribe(()=>{qo.assertNotInAngularZone(),queueMicrotask(()=>{!s&&!r.hasPendingMacrotasks&&!r.hasPendingMicrotasks&&(s=!0,g.next(!0))})})});const E=r.onUnstable.subscribe(()=>{qo.assertInAngularZone(),s&&(s=!1,r.runOutsideAngular(()=>{g.next(!1)}))});return()=>{y.unsubscribe(),E.unsubscribe()}});return(0,ye.T)(a,h.pipe(re()))}function zy(r){return r.ownerDocument.defaultView}function ha(r){return r instanceof Function?r():r}let Cd=(()=>{class r{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=xe({token:r,providedIn:"root",factory:()=>new r})}return r})();function Sd(r){for(;r;){r[Pn]|=64;const s=Mp(r);if(Ni(r)&&!s)return r;r=s}return null}const el=new Zt("",{providedIn:"root",factory:()=>!1});let ec=null;function Pf(r,s){return r[s]??Od()}function og(r,s){const a=Od();a.producerNode?.length&&(r[s]=ec,a.lView=r,ec=cg())}const ag={...Do,consumerIsAlwaysLive:!0,consumerMarkedDirty:r=>{Sd(r.lView)},lView:null};function cg(){return Object.create(ag)}function Od(){return ec??=cg(),ec}const zn={};function kf(r){Nd(Er(),_t(),Wr()+r,!1)}function Nd(r,s,a,h){if(!h)if(3==(3&s[Pn])){const y=r.preOrderCheckHooks;null!==y&&Yc(s,y,a)}else{const y=r.preOrderHooks;null!==y&&ml(s,y,0,a)}Ya(a)}function Ch(r,s=nn.Default){const a=_t();return null===a?Fn(r,s):eu(Zi(),a,Tt(r),s)}function Hu(){throw new Error("invalid")}function lg(r,s,a,h,g,y,E,C,P,W,se){const me=s.blueprint.slice();return me[pr]=g,me[Pn]=140|h,(null!==W||r&&2048&r[Pn])&&(me[Pn]|=2048),Hl(me),me[Ur]=me[bo]=r,me[xn]=a,me[Xr]=E||r&&r[Xr],me[Ln]=C||r&&r[Ln],me[kr]=P||r&&r[kr]||null,me[Jr]=y,me[sa]=function Ap(){return zo++}(),me[ls]=se,me[Sc]=W,me[Fr]=2==s.type?r[Fr]:me,me}function Dl(r,s,a,h,g){let y=r.data[s];if(null===y)y=Cl(r,s,a,h,g),function ld(){return Nn.lFrame.inI18n}()&&(y.flags|=32);else if(64&y.type){y.type=a,y.value=h,y.attrs=g;const E=gl();y.injectorIndex=null===E?-1:E.injectorIndex}return Oo(y,!0),y}function Cl(r,s,a,h,g){const y=Jd(),E=wu(),P=r.data[s]=function Qy(r,s,a,h,g,y){let E=s?s.injectorIndex:-1,C=0;return pc()&&(C|=128),{type:a,index:h,insertBeforeIndex:null,injectorIndex:E,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:C,providerIndexes:0,value:g,attrs:y,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,E?y:y&&y.parent,a,s,h,g);return null===r.firstChild&&(r.firstChild=P),null!==y&&(E?null==y.child&&null!==P.parent&&(y.child=P):null===y.next&&(y.next=P,P.prev=y)),P}function tc(r,s,a,h){if(0===a)return-1;const g=s.length;for(let y=0;y<a;y++)s.push(h),r.blueprint.push(h),r.data.push(null);return g}function lu(r,s,a,h,g){const y=Pf(s,js),E=Wr(),C=2&h;try{Ya(-1),C&&s.length>Gn&&Nd(r,s,Gn,!1),_s(C?2:0,g);const W=C?y:null,se=Co(W);try{null!==W&&(W.dirty=!1),a(h,g)}finally{dc(W,se)}}finally{C&&null===s[js]&&og(s,js),Ya(E),_s(C?3:1,g)}}function ju(r,s,a){if($s(s)){const h=Mi(null);try{const y=s.directiveEnd;for(let E=s.directiveStart;E<y;E++){const C=r.data[E];C.contentQueries&&C.contentQueries(1,a[E],E)}}finally{Mi(h)}}}function Mm(r,s,a){pl()&&(function Fm(r,s,a,h){const g=a.directiveStart,y=a.directiveEnd;Eo(a)&&function Ib(r,s,a){const h=si(s,r),g=xm(a);let E=16;a.signals?E=4096:a.onPush&&(E=64);const C=jm(r,lg(r,g,null,E,h,s,null,r[Xr].rendererFactory.createRenderer(h,a),null,null,null));r[s.index]=C}(s,a,r.data[g+a.componentOffset]),r.firstCreatePass||Su(a,s),Ma(h,s);const E=a.initialInputs;for(let C=g;C<y;C++){const P=r.data[C],W=bl(s,r,C,a);Ma(W,s),null!==E&&ev(0,C-g,W,P,0,E),Oi(P)&&(ds(a.index,s)[xn]=bl(s,r,C,a))}}(r,s,a,si(a,s)),64==(64&a.flags)&&Lm(r,s,a))}function Md(r,s,a=si){const h=s.localNames;if(null!==h){let g=s.index+1;for(let y=0;y<h.length;y+=2){const E=h[y+1],C=-1===E?a(s,r):r[E];r[g++]=C}}}function xm(r){const s=r.tView;return null===s||s.incompleteFirstPass?r.tView=xd(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts,r.id):s}function xd(r,s,a,h,g,y,E,C,P,W,se){const me=Gn+h,Fe=me+g,Ge=function uu(r,s){const a=[];for(let h=0;h<s;h++)a.push(h<r?null:zn);return a}(me,Fe),vt="function"==typeof W?W():W;return Ge[jt]={type:r,blueprint:Ge,template:a,queries:null,viewQuery:C,declTNode:s,data:Ge.slice().fill(null,me),bindingStartIndex:me,expandoStartIndex:Fe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof y?y():y,pipeRegistry:"function"==typeof E?E():E,firstChild:null,schemas:P,consts:vt,incompleteFirstPass:!1,ssrId:se}}let yb=r=>null;function bb(r,s,a,h){for(let g in r)if(r.hasOwnProperty(g)){a=null===a?{}:a;const y=r[g];null===h?Ff(a,s,g,y):h.hasOwnProperty(g)&&Ff(a,s,h[g],y)}return a}function Ff(r,s,a,h){r.hasOwnProperty(a)?r[a].push(s,h):r[a]=[s,h]}function vc(r,s,a,h,g,y,E,C){const P=si(s,a);let se,W=s.inputs;!C&&null!=W&&(se=W[h])?(Sl(r,a,se,h,g),Eo(s)&&function Di(r,s){const a=ds(s,r);16&a[Pn]||(a[Pn]|=64)}(a,s.index)):3&s.type&&(h=function du(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(h),g=null!=E?E(g,s.value||"",h):g,y.setProperty(P,h,g))}function tl(r,s,a,h){if(pl()){const g=null===h?null:{"":-1},y=function bc(r,s){const a=r.directiveRegistry;let h=null,g=null;if(a)for(let y=0;y<a.length;y++){const E=a[y];if(as(s,E.selectors,!1))if(h||(h=[]),Oi(E))if(null!==E.findHostDirectiveDefs){const C=[];g=g||new Map,E.findHostDirectiveDefs(E,C,g),h.unshift(...C,E),co(r,s,C.length)}else h.unshift(E),co(r,s,0);else g=g||new Map,E.findHostDirectiveDefs?.(E,h,g),h.push(E)}return null===h?null:[h,g]}(r,a);let E,C;null===y?E=C=null:[E,C]=y,null!==E&&Xy(r,s,a,E,g,C),g&&function Um(r,s,a){if(s){const h=r.localNames=[];for(let g=0;g<s.length;g+=2){const y=a[s[g+1]];if(null==y)throw new Ae(-301,!1);h.push(s[g],y)}}}(a,h,g)}a.mergedAttrs=_a(a.mergedAttrs,a.attrs)}function Xy(r,s,a,h,g,y){for(let W=0;W<h.length;W++)fd(Su(a,s),r,h[W].type);!function ug(r,s,a){r.flags|=1,r.directiveStart=s,r.directiveEnd=s+a,r.providerIndexes=s}(a,r.data.length,h.length);for(let W=0;W<h.length;W++){const se=h[W];se.providersResolver&&se.providersResolver(se)}let E=!1,C=!1,P=tc(r,s,h.length,null);for(let W=0;W<h.length;W++){const se=h[W];a.mergedAttrs=_a(a.mergedAttrs,se.hostAttrs),Vm(r,a,s,P,se),Bm(P,se,g),null!==se.contentQueries&&(a.flags|=4),(null!==se.hostBindings||null!==se.hostAttrs||0!==se.hostVars)&&(a.flags|=64);const me=se.type.prototype;!E&&(me.ngOnChanges||me.ngOnInit||me.ngDoCheck)&&((r.preOrderHooks??=[]).push(a.index),E=!0),!C&&(me.ngOnChanges||me.ngDoCheck)&&((r.preOrderCheckHooks??=[]).push(a.index),C=!0),P++}!function jT(r,s,a){const g=s.directiveEnd,y=r.data,E=s.attrs,C=[];let P=null,W=null;for(let se=s.directiveStart;se<g;se++){const me=y[se],Fe=a?a.get(me):null,vt=Fe?Fe.outputs:null;P=bb(me.inputs,se,P,Fe?Fe.inputs:null),W=bb(me.outputs,se,W,vt);const Rt=null===P||null===E||_o(s)?null:Hm(P,se,E);C.push(Rt)}null!==P&&(P.hasOwnProperty("class")&&(s.flags|=8),P.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=C,s.inputs=P,s.outputs=W}(r,a,y)}function Lm(r,s,a){const h=a.directiveStart,g=a.directiveEnd,y=a.index,E=function S(){return Nn.lFrame.currentDirectiveIndex}();try{Ya(y);for(let C=h;C<g;C++){const P=r.data[C],W=s[C];R(C),(null!==P.hostBindings||0!==P.hostVars||null!==P.hostAttrs)&&$u(P,W)}}finally{Ya(-1),R(E)}}function $u(r,s){null!==r.hostBindings&&r.hostBindings(1,s)}function co(r,s,a){s.componentOffset=a,(r.components??=[]).push(s.index)}function Bm(r,s,a){if(a){if(s.exportAs)for(let h=0;h<s.exportAs.length;h++)a[s.exportAs[h]]=r;Oi(s)&&(a[""]=r)}}function Vm(r,s,a,h,g){r.data[h]=g;const y=g.factory||(g.factory=lc(g.type)),E=new dd(y,Oi(g),Ch);r.blueprint[h]=E,a[h]=E,function Lf(r,s,a,h,g){const y=g.hostBindings;if(y){let E=r.hostBindingOpCodes;null===E&&(E=r.hostBindingOpCodes=[]);const C=~s.index;(function Gu(r){let s=r.length;for(;s>0;){const a=r[--s];if("number"==typeof a&&a<0)return a}return 0})(E)!=C&&E.push(C),E.push(a,h,y)}}(r,s,h,tc(r,a,g.hostVars,zn),g)}function nc(r,s,a,h,g,y){const E=si(r,s);!function zu(r,s,a,h,g,y,E){if(null==y)r.removeAttribute(s,g,a);else{const C=null==E?Le(y):E(y,h||"",g);r.setAttribute(s,g,C,a)}}(s[Ln],E,y,r.value,a,h,g)}function ev(r,s,a,h,g,y){const E=y[s];if(null!==E)for(let C=0;C<E.length;)Uf(h,a,E[C++],E[C++],E[C++])}function Uf(r,s,a,h,g){const y=Mi(null);try{const E=r.inputTransforms;null!==E&&E.hasOwnProperty(h)&&(g=E[h].call(s,g)),null!==r.setInput?r.setInput(s,g,a,h):s[h]=g}finally{Mi(y)}}function Hm(r,s,a){let h=null,g=0;for(;g<a.length;){const y=a[g];if(0!==y)if(5!==y){if("number"==typeof y)break;if(r.hasOwnProperty(y)){null===h&&(h=[]);const E=r[y];for(let C=0;C<E.length;C+=2)if(E[C]===s){h.push(y,E[C+1],a[g+1]);break}}g+=2}else g+=2;else g+=4}return h}function Eb(r,s,a,h){return[r,!0,!1,s,null,0,h,a,null,null,null]}function tv(r,s){const a=r.contentQueries;if(null!==a)for(let h=0;h<a.length;h+=2){const y=a[h+1];if(-1!==y){const E=r.data[y];G(a[h]),E.contentQueries(2,s[y],y)}}}function jm(r,s){return r[vo]?r[Vo][pi]=s:r[vo]=s,r[Vo]=s,s}function Bf(r,s,a){G(0);const h=Mi(null);try{s(r,a)}finally{Mi(h)}}function Gm(r){return r[Gi]||(r[Gi]=[])}function Sh(r){return r.cleanup||(r.cleanup=[])}function eo(r,s){const a=r[kr],h=a?a.get(Dd,null):null;h&&h.handleError(s)}function Sl(r,s,a,h,g){for(let y=0;y<a.length;){const E=a[y++],C=a[y++];Uf(r.data[E],s[E],h,C,g)}}function Ra(r,s,a){const h=Wc(s,r);!function ny(r,s,a){r.setValue(s,a)}(r[Ln],h,a)}function $m(r,s){const a=ds(s,r),h=a[jt];!function $T(r,s){for(let a=s.length;a<r.blueprint.length;a++)s.push(r.blueprint[a])}(h,a);const g=a[pr];null!==g&&null===a[ls]&&(a[ls]=vh(g,a[kr])),Pt(h,a,a[xn])}function Pt(r,s,a){Qe(s);try{const h=r.viewQuery;null!==h&&Bf(1,h,a);const g=r.template;null!==g&&lu(r,s,g,1,a),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&tv(r,s),r.staticViewQueries&&Bf(2,r.viewQuery,a);const y=r.components;null!==y&&function ws(r,s){for(let a=0;a<s.length;a++)$m(r,s[a])}(s,y)}catch(h){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),h}finally{s[Pn]&=-5,ar()}}let Al=(()=>{class r{constructor(){this.all=new Set,this.queue=new Map}create(a,h,g){const y=typeof Zone>"u"?null:Zone.current,E=function Or(r,s,a){const h=Object.create(zr);a&&(h.consumerAllowSignalWrites=!0),h.fn=r,h.schedule=s;const g=E=>{h.cleanupFn=E};return h.ref={notify:()=>nd(h),run:()=>{if(h.dirty=!1,h.hasRun&&!Ri(h))return;h.hasRun=!0;const E=Co(h);try{h.cleanupFn(),h.cleanupFn=An,h.fn(g)}finally{dc(h,E)}},cleanup:()=>h.cleanupFn()},h.ref}(a,W=>{this.all.has(W)&&this.queue.set(W,y)},g);let C;this.all.add(E),E.notify();const P=()=>{E.cleanup(),C?.(),this.all.delete(E),this.queue.delete(E)};return C=h?.onDestroy(P),{destroy:P}}flush(){if(0!==this.queue.size)for(const[a,h]of this.queue)this.queue.delete(a),h?h.run(()=>a.run()):a.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=xe({token:r,providedIn:"root",factory:()=>new r})}return r})();function vn(r,s,a){let h=a?r.styles:null,g=a?r.classes:null,y=0;if(null!==s)for(let E=0;E<s.length;E++){const C=s[E];"number"==typeof C?y=C:1==y?g=xt(g,C):2==y&&(h=xt(h,C+": "+s[++E]+";"))}a?r.styles=h:r.stylesWithoutHost=h,a?r.classes=g:r.classesWithoutHost=g}function Sn(r,s,a,h,g=!1){for(;null!==a;){const y=s[a.index];null!==y&&h.push(Mr(y)),Ai(y)&&rv(y,h);const E=a.type;if(8&E)Sn(r,s,a.child,h);else if(32&E){const C=_d(a,s);let P;for(;P=C();)h.push(P)}else if(16&E){const C=R0(s,a);if(Array.isArray(C))h.push(...C);else{const P=Mp(s[Fr]);Sn(P[jt],P,C,h,!0)}}a=g?a.projectionNext:a.next}return h}function rv(r,s){for(let a=vi;a<r.length;a++){const h=r[a],g=h[jt].firstChild;null!==g&&Sn(h[jt],h,g,s)}r[Br]!==r[pr]&&s.push(r[Br])}function Jt(r,s,a,h=!0){const g=s[Xr],y=g.rendererFactory,E=g.afterRenderEventManager;y.begin?.(),E?.begin();try{lo(r,s,r.template,a)}catch(P){throw h&&eo(s,P),P}finally{y.end?.(),g.effectManager?.flush(),E?.end()}}function lo(r,s,a,h){const g=s[Pn];if(256!=(256&g)){s[Xr].effectManager?.flush(),Qe(s);try{Hl(s),function ql(r){return Nn.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==a&&lu(r,s,a,2,h);const E=3==(3&g);if(E){const W=r.preOrderCheckHooks;null!==W&&Yc(s,W,null)}else{const W=r.preOrderHooks;null!==W&&ml(s,W,0,null),Xd(s,0)}if(function PI(r){for(let s=A0(r);null!==s;s=yd(s)){if(!s[Gs])continue;const a=s[za];for(let h=0;h<a.length;h++){od(a[h])}}}(s),iv(s,2),null!==r.contentQueries&&tv(r,s),E){const W=r.contentCheckHooks;null!==W&&Yc(s,W)}else{const W=r.contentHooks;null!==W&&ml(s,W,1),Xd(s,1)}!function mb(r,s){const a=r.hostBindingOpCodes;if(null===a)return;const h=Pf(s,wo);try{for(let g=0;g<a.length;g++){const y=a[g];if(y<0)Ya(~y);else{const E=y,C=a[++g],P=a[++g];Zh(C,E),h.dirty=!1;const W=Co(h);try{P(2,s[E])}finally{dc(h,W)}}}}finally{null===s[wo]&&og(s,wo),Ya(-1)}}(r,s);const C=r.components;null!==C&&sv(s,C,0);const P=r.viewQuery;if(null!==P&&Bf(2,P,h),E){const W=r.viewCheckHooks;null!==W&&Yc(s,W)}else{const W=r.viewHooks;null!==W&&ml(s,W,2),Xd(s,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),s[Pn]&=-73,Ei(s)}finally{ar()}}}function iv(r,s){for(let a=A0(r);null!==a;a=yd(a))for(let h=vi;h<a.length;h++)Tb(a[h],s)}function kI(r,s,a){Tb(ds(s,r),a)}function Tb(r,s){if(!function sd(r){return 128==(128&r[Pn])}(r))return;const a=r[jt],h=r[Pn];if(80&h&&0===s||1024&h||2===s)lo(a,r,a.template,r[xn]);else if(r[io]>0){iv(r,1);const g=a.components;null!==g&&sv(r,g,1)}}function sv(r,s,a){for(let h=0;h<s.length;h++)kI(r,s[h],a)}class dg{get rootNodes(){const s=this._lView,a=s[jt];return Sn(a,s,a.firstChild,[])}constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[xn]}set context(s){this._lView[xn]=s}get destroyed(){return 256==(256&this._lView[Pn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[Ur];if(Ai(s)){const a=s[8],h=a?a.indexOf(this):-1;h>-1&&(Rp(s,h),ah(a,h))}this._attachedToViewContainer=!1}Pp(this._lView[jt],this._lView)}onDestroy(s){Aa(this._lView,s)}markForCheck(){Sd(this._cdRefInjectingView||this._lView)}detach(){this._lView[Pn]&=-129}reattach(){this._lView[Pn]|=128}detectChanges(){Jt(this._lView[jt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ae(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function iy(r,s){lm(r,s,s[Ln],2,null,null)}(this._lView[jt],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Ae(902,!1);this._appRef=s}}class Db extends dg{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;Jt(s[jt],s,s[xn],!1)}checkNoChanges(){}get context(){return null}}class ov extends eg{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=Qn(s);return new Kn(a,this.ngModule)}}function FI(r){const s=[];for(let a in r)r.hasOwnProperty(a)&&s.push({propName:r[a],templateName:a});return s}class Cb{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,h){h=fs(h);const g=this.injector.get(s,Vy,h);return g!==Vy||a===Vy?g:this.parentInjector.get(s,a,h)}}class Kn extends X0{get inputs(){const s=this.componentDef,a=s.inputTransforms,h=FI(s.inputs);if(null!==a)for(const g of h)a.hasOwnProperty(g.propName)&&(g.transform=a[g.propName]);return h}get outputs(){return FI(this.componentDef.outputs)}constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function ba(r){return r.map(yo).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}create(s,a,h,g){let y=(g=g||this.ngModule)instanceof Fc?g:g?.injector;y&&null!==this.componentDef.getStandaloneInjector&&(y=this.componentDef.getStandaloneInjector(y)||y);const E=y?new Cb(s,y):s,C=E.get(rb,null);if(null===C)throw new Ae(407,!1);const me={rendererFactory:C,sanitizer:E.get(Uy,null),effectManager:E.get(Al,null),afterRenderEventManager:E.get(Cd,null)},Fe=C.createRenderer(null,this.componentDef),Ge=this.componentDef.selectors[0][0]||"div",vt=h?function _b(r,s,a,h){const y=h.get(el,!1)||a===Vi.ShadowDom,E=r.selectRootElement(s,y);return function Rm(r){yb(r)}(E),E}(Fe,h,this.componentDef.encapsulation,E):hf(Fe,Ge,function av(r){const s=r.toLowerCase();return"svg"===s?Ao:"math"===s?"math":null}(Ge)),Dn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Et=null;null!==vt&&(Et=vh(vt,E,!0));const fr=xd(0,null,null,1,0,null,null,null,null,null,null),Lr=lg(null,fr,null,Dn,null,null,me,Fe,E,null,Et);let Ui,ol;Qe(Lr);try{const zh=this.componentDef;let U_,PD=null;zh.findHostDirectiveDefs?(U_=[],PD=new Map,zh.findHostDirectiveDefs(zh,U_,PD),U_.push(zh)):U_=[zh];const PS=function Sb(r,s){const a=r[jt],h=Gn;return r[h]=s,Dl(a,h,2,"#host",null)}(Lr,vt),kS=function hs(r,s,a,h,g,y,E){const C=g[jt];!function Rn(r,s,a,h){for(const g of r)s.mergedAttrs=_a(s.mergedAttrs,g.hostAttrs);null!==s.mergedAttrs&&(vn(s,s.mergedAttrs,!0),null!==a&&uy(h,a,s))}(h,r,s,E);let P=null;null!==s&&(P=vh(s,g[kr]));const W=y.rendererFactory.createRenderer(s,a);let se=16;a.signals?se=4096:a.onPush&&(se=64);const me=lg(g,xm(a),null,se,g[r.index],r,y,W,null,null,P);return C.firstCreatePass&&co(C,r,h.length-1),jm(g,me),g[r.index]=me}(PS,vt,zh,U_,Lr,me,Fe);ol=id(fr,Gn),vt&&function qr(r,s,a,h){if(h)_i(r,a,["ng-version",ib.full]);else{const{attrs:g,classes:y}=function hi(r){const s=[],a=[];let h=1,g=2;for(;h<r.length;){let y=r[h];if("string"==typeof y)2===g?""!==y&&s.push(y,r[++h]):8===g&&a.push(y);else{if(!$r(g))break;g=y}h++}return{attrs:s,classes:a}}(s.selectors[0]);g&&_i(r,a,g),y&&y.length>0&&F0(r,a,y.join(" "))}}(Fe,zh,vt,h),void 0!==a&&function hg(r,s,a){const h=r.projection=[];for(let g=0;g<s.length;g++){const y=a[g];h.push(null!=y?Array.from(y):null)}}(ol,this.ngContentSelectors,a),Ui=function rc(r,s,a,h,g,y){const E=Zi(),C=g[jt],P=si(E,g);Xy(C,g,E,a,null,h);for(let se=0;se<a.length;se++)Ma(bl(g,C,E.directiveStart+se,E),g);Lm(C,g,E),P&&Ma(P,g);const W=bl(g,C,E.directiveStart+E.componentOffset,E);if(r[xn]=g[xn]=W,null!==y)for(const se of y)se(W,s);return ju(C,E,r),W}(kS,zh,U_,PD,Lr,[Is]),Pt(fr,Lr,null)}finally{ar()}return new Hf(this.componentType,Ui,wh(ol,Lr),Lr,ol)}}class Hf extends Qp{constructor(s,a,h,g,y){super(),this.location=h,this._rootLView=g,this._tNode=y,this.previousInputValues=null,this.instance=a,this.hostView=this.changeDetectorRef=new Db(g),this.componentType=s}setInput(s,a){const h=this._tNode.inputs;let g;if(null!==h&&(g=h[s])){if(this.previousInputValues??=new Map,this.previousInputValues.has(s)&&Object.is(this.previousInputValues.get(s),a))return;const y=this._rootLView;Sl(y[jt],y,g,s,a),this.previousInputValues.set(s,a),Sd(ds(this._tNode.index,y))}}get injector(){return new N(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function Is(){const r=Zi();ud(_t()[jt],r)}function jf(r){let s=function en(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),a=!0;const h=[r];for(;s;){let g;if(Oi(r))g=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Ae(903,!1);g=s.\u0275dir}if(g){if(a){h.push(g);const E=r;E.inputs=hu(r.inputs),E.inputTransforms=hu(r.inputTransforms),E.declaredInputs=hu(r.declaredInputs),E.outputs=hu(r.outputs);const C=g.hostBindings;C&&UI(r,C);const P=g.viewQuery,W=g.contentQueries;if(P&&LI(r,P),W&&Ah(r,W),qe(r.inputs,g.inputs),qe(r.declaredInputs,g.declaredInputs),qe(r.outputs,g.outputs),null!==g.inputTransforms&&(null===E.inputTransforms&&(E.inputTransforms={}),qe(E.inputTransforms,g.inputTransforms)),Oi(g)&&g.data.animation){const se=r.data;se.animation=(se.animation||[]).concat(g.data.animation)}}const y=g.features;if(y)for(let E=0;E<y.length;E++){const C=y[E];C&&C.ngInherit&&C(r),C===jf&&(a=!1)}}s=Object.getPrototypeOf(s)}!function fg(r){let s=0,a=null;for(let h=r.length-1;h>=0;h--){const g=r[h];g.hostVars=s+=g.hostVars,g.hostAttrs=_a(g.hostAttrs,a=_a(a,g.hostAttrs))}}(h)}function hu(r){return r===Hi?{}:r===ir?[]:r}function LI(r,s){const a=r.viewQuery;r.viewQuery=a?(h,g)=>{s(h,g),a(h,g)}:s}function Ah(r,s){const a=r.contentQueries;r.contentQueries=a?(h,g,y)=>{s(h,g,y),a(h,g,y)}:s}function UI(r,s){const a=r.hostBindings;r.hostBindings=a?(h,g)=>{s(h,g),a(h,g)}:s}function ns(r){return s=>{s.findHostDirectiveDefs=Wu,s.hostDirectives=(Array.isArray(r)?r:r()).map(a=>"function"==typeof a?{directive:Tt(a),inputs:Hi,outputs:Hi}:{directive:Tt(a.directive),inputs:uv(a.inputs),outputs:uv(a.outputs)})}}function Wu(r,s,a){if(null!==r.hostDirectives)for(const h of r.hostDirectives){const g=ai(h.directive);BI(g.declaredInputs,h.inputs),Wu(g,s,a),a.set(g,h),s.push(g)}}function uv(r){if(void 0===r||0===r.length)return Hi;const s={};for(let a=0;a<r.length;a+=2)s[r[a]]=r[a+1];return s}function BI(r,s){for(const a in s)s.hasOwnProperty(a)&&(r[s[a]]=r[a])}function et(r){const s=r.inputConfig,a={};for(const h in s)if(s.hasOwnProperty(h)){const g=s[h];Array.isArray(g)&&g[2]&&(a[h]=g[2])}r.inputTransforms=a}function wc(r){return!!fu(r)&&(Array.isArray(r)||!(r instanceof Map)&&Symbol.iterator in r)}function fu(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function Pa(r,s,a){return r[s]=a}function Zo(r,s,a){return!Object.is(r[s],a)&&(r[s]=a,!0)}function Nh(r,s,a,h){const g=Zo(r,s,a);return Zo(r,s+1,h)||g}function pg(r,s,a,h,g){const y=Nh(r,s,a,h);return Zo(r,s+2,g)||y}function Pd(r,s,a,h){const g=_t();return Zo(g,_c(),s)&&(Er(),nc(wr(),g,r,s,a,h)),Pd}function kd(r,s,a,h){return Zo(r,_c(),a)?s+Le(a)+h:zn}function Wf(r,s,a,h,g,y,E,C){const W=pg(r,function jo(){return Nn.lFrame.bindingIndex}(),a,g,E);return No(3),W?s+Le(a)+h+Le(g)+y+Le(E)+C:zn}function Yu(r,s,a,h,g,y,E,C){const P=_t(),W=Er(),se=r+Gn,me=W.firstCreatePass?function nl(r,s,a,h,g,y,E,C,P){const W=s.consts,se=Dl(s,r,4,E||null,Ka(W,C));tl(s,a,se,Ka(W,P)),ud(s,se);const me=se.tView=xd(2,se,h,g,y,s.directiveRegistry,s.pipeRegistry,null,s.schemas,W,null);return null!==s.queries&&(s.queries.template(s,se),me.queries=s.queries.embeddedTView(se)),se}(se,W,P,s,a,h,g,y,E):W.data[se];Oo(me,!1);const Fe=Nl(W,P,me,r);Kh()&&Vp(W,P,Fe,me),Ma(Fe,P),jm(P,P[se]=Eb(Fe,P,Fe,me)),zs(me)&&Mm(W,P,me),null!=E&&Md(P,me,C)}let Nl=function rl(r,s,a,h){return Kc(!0),s[Ln].createComment("")};function Bd(r){return Sa(function Iu(){return Nn.lFrame.contextLView}(),Gn+r)}function vg(r,s,a){const h=_t();return Zo(h,_c(),s)&&vc(Er(),wr(),h,r,s,h[Ln],a,!1),vg}function Ju(r,s,a,h,g){const E=g?"class":"style";Sl(r,a,s.inputs[E],E,h)}function Zf(r,s,a,h){const g=_t(),y=Er(),E=Gn+r,C=g[Ln],P=y.firstCreatePass?function Vd(r,s,a,h,g,y){const E=s.consts,P=Dl(s,r,2,h,Ka(E,g));return tl(s,a,P,Ka(E,y)),null!==P.attrs&&vn(P,P.attrs,!1),null!==P.mergedAttrs&&vn(P,P.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,P),P}(E,y,g,s,a,h):y.data[E],W=Kf(y,g,P,C,s,r);g[E]=W;const se=zs(P);return Oo(P,!0),uy(C,W,P),32!=(32&P.flags)&&Kh()&&Vp(y,g,W,P),0===function jl(){return Nn.lFrame.elementDepthCount}()&&Ma(W,g),function ad(){Nn.lFrame.elementDepthCount++}(),se&&(Mm(y,g,P),ju(y,P,g)),null!==h&&Md(g,P),Zf}function il(){let r=Zi();wu()?gc():(r=r.parent,Oo(r,!1));const s=r;(function qc(r){return Nn.skipHydrationRootTNode===r})(s)&&function cd(){Nn.skipHydrationRootTNode=null}(),function Gl(){Nn.lFrame.elementDepthCount--}();const a=Er();return a.firstCreatePass&&(ud(a,r),$s(r)&&a.queries.elementEnd(r)),null!=s.classesWithoutHost&&function vp(r){return 0!=(8&r.flags)}(s)&&Ju(a,s,_t(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function bp(r){return 0!=(16&r.flags)}(s)&&Ju(a,s,_t(),s.stylesWithoutHost,!1),il}function qm(r,s,a,h){return Zf(r,s,a,h),il(),qm}let Kf=(r,s,a,h,g,y)=>(Kc(!0),hf(h,g,function Eu(){return Nn.lFrame.currentNamespace}()));function Km(r,s,a){const h=_t(),g=Er(),y=r+Gn,E=g.firstCreatePass?function vv(r,s,a,h,g){const y=s.consts,E=Ka(y,h),C=Dl(s,r,8,"ng-container",E);return null!==E&&vn(C,E,!0),tl(s,a,C,Ka(y,g)),null!==s.queries&&s.queries.elementStart(s,C),C}(y,g,h,s,a):g.data[y];Oo(E,!0);const C=bv(g,h,E,r);return h[y]=C,Kh()&&Vp(g,h,C,E),Ma(C,h),zs(E)&&(Mm(g,h,E),ju(g,E,h)),null!=a&&Md(h,E),Km}function Ym(){let r=Zi();const s=Er();return wu()?gc():(r=r.parent,Oo(r,!1)),s.firstCreatePass&&(ud(s,r),$s(r)&&s.queries.elementEnd(r)),Ym}let bv=(r,s,a,h)=>(Kc(!0),rm(s[Ln],""));function Li(){return _t()}function Ml(r){return!!r&&"function"==typeof r.then}function Qm(r){return!!r&&"function"==typeof r.subscribe}function Xm(r,s,a,h){const g=_t(),y=Er(),E=Zi();return function e_(r,s,a,h,g,y,E){const C=zs(h),W=r.firstCreatePass&&Sh(r),se=s[xn],me=Gm(s);let Fe=!0;if(3&h.type||E){const Rt=si(h,s),an=E?E(Rt):Rt,Dn=me.length,Et=E?Lr=>E(Mr(Lr[h.index])):h.index;let fr=null;if(!E&&C&&(fr=function ZI(r,s,a,h){const g=r.cleanup;if(null!=g)for(let y=0;y<g.length-1;y+=2){const E=g[y];if(E===a&&g[y+1]===h){const C=s[Gi],P=g[y+2];return C.length>P?C[P]:null}"string"==typeof E&&(y+=2)}return null}(r,s,g,h.index)),null!==fr)(fr.__ngLastListenerFn__||fr).__ngNextListenerFn__=y,fr.__ngLastListenerFn__=y,Fe=!1;else{y=li(h,s,se,y,!1);const Lr=a.listen(an,g,y);me.push(y,Lr),W&&W.push(g,Et,Dn,Dn+1)}}else y=li(h,s,se,y,!1);const Ge=h.outputs;let vt;if(Fe&&null!==Ge&&(vt=Ge[g])){const Rt=vt.length;if(Rt)for(let an=0;an<Rt;an+=2){const Ui=s[vt[an]][vt[an+1]].subscribe(y),ol=me.length;me.push(y,Ui),W&&W.push(g,h.index,ol,-(ol+1))}}}(y,g,g[Ln],E,r,s,h),Xm}function Hr(r,s,a,h){try{return _s(6,s,a),!1!==a(h)}catch(g){return eo(r,g),!1}finally{_s(7,s,a)}}function li(r,s,a,h,g){return function y(E){if(E===Function)return h;Sd(r.componentOffset>-1?ds(r.index,s):s);let P=Hr(s,a,h,E),W=y.__ngNextListenerFn__;for(;W;)P=Hr(s,a,W,E)&&P,W=W.__ngNextListenerFn__;return g&&!1===P&&E.preventDefault(),P}}function Qu(r=1){return function Mo(r){return(Nn.lFrame.contextLView=function Kl(r,s){for(;r>0;)s=s[bo],r--;return s}(r,Nn.lFrame.contextLView))[xn]}(r)}function wv(r,s){let a=null;const h=function ea(r){const s=r.attrs;if(null!=s){const a=s.indexOf(5);if(!(1&a))return s[a+1]}return null}(r);for(let g=0;g<s.length;g++){const y=s[g];if("*"!==y){if(null===h?as(r,y,!0):Bl(h,y))return g}else a=g}return a}function t_(r){const s=_t()[Fr][Jr];if(!s.projection){const h=s.projection=Ru(r?r.length:1,null),g=h.slice();let y=s.child;for(;null!==y;){const E=r?wv(y,r):0;null!==E&&(g[E]?g[E].projectionNext=y:h[E]=y,g[E]=y),y=y.next}}}function n_(r,s=0,a){const h=_t(),g=Er(),y=Dl(g,Gn+r,16,null,a||null);null===y.projection&&(y.projection=s),gc(),(!h[ls]||pc())&&32!=(32&y.flags)&&function DT(r,s,a){lI(s[Ln],0,s,a,Fp(r,a,s),Lp(a.parent||s[Jr],a,s))}(g,h,y)}function r_(r,s,a){return bg(r,"",s,"",a),r_}function bg(r,s,a,h,g){const y=_t(),E=kd(y,s,a,h);return E!==zn&&vc(Er(),wr(),y,r,E,y[Ln],g,!1),bg}function s_(r,s){return r<<17|s<<2}function Hd(r){return r>>17&32767}function Xu(r){return 2|r}function xl(r){return(131068&r)>>2}function Qf(r,s){return-131069&r|s<<2}function Xf(r){return 1|r}function Sv(r,s,a,h,g){const y=r[a+1],E=null===s;let C=h?Hd(y):xl(y),P=!1;for(;0!==C&&(!1===P||E);){const se=r[C+1];Ig(r[C],s)&&(P=!0,r[C+1]=h?Xf(se):Xu(se)),C=h?Hd(se):xl(se)}P&&(r[a+1]=h?Xu(y):Xf(y))}function Ig(r,s){return null===r||null==s||(Array.isArray(r)?r[1]:r)===s||!(!Array.isArray(r)||"string"!=typeof s)&&Pu(r,s)>=0}const Ts={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function a_(r){return r.substring(Ts.key,Ts.keyEnd)}function c_(r,s){const a=Ts.textEnd;return a===s?-1:(s=Ts.keyEnd=function Eg(r,s,a){for(;s<a&&r.charCodeAt(s)>32;)s++;return s}(r,Ts.key=s,a),ed(r,s,a))}function ed(r,s,a){for(;s<a&&r.charCodeAt(s)<=32;)s++;return s}function l_(r,s){return function oc(r,s,a,h){const g=_t(),y=Er(),E=No(2);y.firstUpdatePass&&mr(y,r,E,h),s!==zn&&Zo(g,E,s)&&be(y,y.data[Wr()],g,g[Ln],r,g[E+1]=function pt(r,s){return null==r||""===r||("string"==typeof s?r+=s:"object"==typeof r&&(r=It(su(r)))),r}(s,a),h,E)}(r,s,null,!0),l_}function sl(r){!function mu(r,s,a,h){const g=Er(),y=No(2);g.firstUpdatePass&&mr(g,null,y,h);const E=_t();if(a!==zn&&Zo(E,y,a)){const C=g.data[Wr()];if(Nt(C,h)&&!JI(g,y)){let P=h?C.classesWithoutHost:C.stylesWithoutHost;null!==P&&(a=xt(P,a||"")),Ju(g,C,E,a,h)}else!function fe(r,s,a,h,g,y,E,C){g===zn&&(g=ir);let P=0,W=0,se=0<g.length?g[0]:null,me=0<y.length?y[0]:null;for(;null!==se||null!==me;){const Fe=P<g.length?g[P+1]:void 0,Ge=W<y.length?y[W+1]:void 0;let Rt,vt=null;se===me?(P+=2,W+=2,Fe!==Ge&&(vt=me,Rt=Ge)):null===me||null!==se&&se<me?(P+=2,vt=se):(W+=2,vt=me,Rt=Ge),null!==vt&&be(r,s,a,h,vt,Rt,E,C),se=P<g.length?g[P]:null,me=W<y.length?y[W]:null}}(g,C,E,E[Ln],E[y+1],E[y+1]=function x(r,s,a){if(null==a||""===a)return ir;const h=[],g=su(a);if(Array.isArray(g))for(let y=0;y<g.length;y++)r(h,g[y],!0);else if("object"==typeof g)for(const y in g)g.hasOwnProperty(y)&&r(h,y,g[y]);else"string"==typeof g&&s(h,g);return h}(r,s,a),h,y)}}(oe,Rl,r,!0)}function Rl(r,s){for(let a=function sc(r){return function Av(r){Ts.key=0,Ts.keyEnd=0,Ts.value=0,Ts.valueEnd=0,Ts.textEnd=r.length}(r),c_(r,ed(r,0,Ts.textEnd))}(s);a>=0;a=c_(s,a))ua(r,a_(s),!0)}function JI(r,s){return s>=r.expandoStartIndex}function mr(r,s,a,h){const g=r.data;if(null===g[a+1]){const y=g[Wr()],E=JI(r,a);Nt(y,h)&&null===s&&!E&&(s=!1),s=function c(r,s,a,h){const g=function D(r){const s=Nn.lFrame.currentDirectiveIndex;return-1===s?null:r[s]}(r);let y=h?s.residualClasses:s.residualStyles;if(null===g)0===(h?s.classBindings:s.styleBindings)&&(a=I(a=m(null,r,s,a,h),s.attrs,h),y=null);else{const E=s.directiveStylingLast;if(-1===E||r[E]!==g)if(a=m(g,r,s,a,h),null===y){let P=function f(r,s,a){const h=a?s.classBindings:s.styleBindings;if(0!==xl(h))return r[Hd(h)]}(r,s,h);void 0!==P&&Array.isArray(P)&&(P=m(null,r,s,P[1],h),P=I(P,s.attrs,h),function o(r,s,a,h){r[Hd(a?s.classBindings:s.styleBindings)]=h}(r,s,h,P))}else y=function d(r,s,a){let h;const g=s.directiveEnd;for(let y=1+s.directiveStylingLast;y<g;y++)h=I(h,r[y].hostAttrs,a);return I(h,s.attrs,a)}(r,s,h)}return void 0!==y&&(h?s.residualClasses=y:s.residualStyles=y),a}(g,y,s,h),function Pb(r,s,a,h,g,y){let E=y?s.classBindings:s.styleBindings,C=Hd(E),P=xl(E);r[h]=a;let se,W=!1;if(Array.isArray(a)?(se=a[1],(null===se||Pu(a,se)>0)&&(W=!0)):se=a,g)if(0!==P){const Fe=Hd(r[C+1]);r[h+1]=s_(Fe,C),0!==Fe&&(r[Fe+1]=Qf(r[Fe+1],h)),r[C+1]=function Cv(r,s){return 131071&r|s<<17}(r[C+1],h)}else r[h+1]=s_(C,0),0!==C&&(r[C+1]=Qf(r[C+1],h)),C=h;else r[h+1]=s_(P,0),0===C?C=h:r[P+1]=Qf(r[P+1],h),P=h;W&&(r[h+1]=Xu(r[h+1])),Sv(r,se,h,!0),Sv(r,se,h,!1),function Gd(r,s,a,h,g){const y=g?r.residualClasses:r.residualStyles;null!=y&&"string"==typeof s&&Pu(y,s)>=0&&(a[h+1]=Xf(a[h+1]))}(s,se,r,h,y),E=s_(C,P),y?s.classBindings=E:s.styleBindings=E}(g,y,s,a,E,h)}}function m(r,s,a,h,g){let y=null;const E=a.directiveEnd;let C=a.directiveStylingLast;for(-1===C?C=a.directiveStart:C++;C<E&&(y=s[C],h=I(h,y.hostAttrs,g),y!==r);)C++;return null!==r&&(a.directiveStylingLast=C),h}function I(r,s,a){const h=a?1:2;let g=-1;if(null!==s)for(let y=0;y<s.length;y++){const E=s[y];"number"==typeof E?g=E:g===h&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),ua(r,E,!!a||s[++y]))}return void 0===r?null:r}function oe(r,s,a){const h=String(s);""!==h&&!h.includes(" ")&&ua(r,h,a)}function be(r,s,a,h,g,y,E,C){if(!(3&s.type))return;const P=r.data,W=P[C+1],se=function o_(r){return 1==(1&r)}(W)?We(P,s,a,g,xl(W),E):void 0;ot(se)||(ot(y)||function ZT(r){return 2==(2&r)}(W)&&(y=We(P,null,a,g,C,E)),function ST(r,s,a,h,g){if(s)g?r.addClass(a,h):r.removeClass(a,h);else{let y=-1===h.indexOf("-")?void 0:E0.DashCase;null==g?r.removeStyle(a,h,y):("string"==typeof g&&g.endsWith("!important")&&(g=g.slice(0,-10),y|=E0.Important),r.setStyle(a,h,g,y))}}(h,E,Wc(Wr(),a),g,y))}function We(r,s,a,h,g,y){const E=null===s;let C;for(;g>0;){const P=r[g],W=Array.isArray(P),se=W?P[1]:P,me=null===se;let Fe=a[g+1];Fe===zn&&(Fe=me?ir:void 0);let Ge=me?zg(Fe,h):se===h?Fe:void 0;if(W&&!ot(Ge)&&(Ge=zg(P,h)),ot(Ge)&&(C=Ge,E))return C;const vt=r[g+1];g=E?Hd(vt):xl(vt)}if(null!==s){let P=y?s.residualClasses:s.residualStyles;null!=P&&(C=zg(P,h))}return C}function ot(r){return void 0!==r}function Nt(r,s){return 0!=(r.flags&(s?8:16))}function Ht(r,s=""){const a=_t(),h=Er(),g=r+Gn,y=h.firstCreatePass?Dl(h,g,1,s,null):h.data[g],E=Wt(h,a,y,s,r);a[g]=E,Kh()&&Vp(h,a,E,y),Oo(y,!1)}let Wt=(r,s,a,h,g)=>(Kc(!0),xp(s[Ln],h));function _r(r){return qt("",r,""),_r}function qt(r,s,a){const h=_t(),g=kd(h,r,s,a);return g!==zn&&Ra(h,Wr(),g),qt}function rr(r,s,a,h,g,y,E){const C=_t(),P=Wf(C,r,s,a,h,g,y,E);return P!==zn&&Ra(C,Wr(),P),rr}function _u(r,s,a){const h=_t();return Zo(h,_c(),s)&&vc(Er(),wr(),h,r,s,h[Ln],a,!0),_u}const Wd=void 0;var h_=["en",[["a","p"],["AM","PM"],Wd],[["AM","PM"],Wd,Wd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Wd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Wd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Wd,"{1} 'at' {0}",Wd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function xv(r){const a=Math.floor(Math.abs(r)),h=r.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===h?1:5}];let jh={};function f_(r){const s=function Fo(r){return r.toLowerCase().replace(/_/g,"-")}(r);let a=Dg(s);if(a)return a;const h=s.split("-")[0];if(a=Dg(h),a)return a;if("en"===h)return h_;throw new Ae(701,!1)}function Ub(r){return f_(r)[p_.PluralCase]}function Dg(r){return r in jh||(jh[r]=or.ng&&or.ng.common&&or.ng.common.locales&&or.ng.common.locales[r]),jh[r]}var p_=function(r){return r[r.LocaleId=0]="LocaleId",r[r.DayPeriodsFormat=1]="DayPeriodsFormat",r[r.DayPeriodsStandalone=2]="DayPeriodsStandalone",r[r.DaysFormat=3]="DaysFormat",r[r.DaysStandalone=4]="DaysStandalone",r[r.MonthsFormat=5]="MonthsFormat",r[r.MonthsStandalone=6]="MonthsStandalone",r[r.Eras=7]="Eras",r[r.FirstDayOfWeek=8]="FirstDayOfWeek",r[r.WeekendRange=9]="WeekendRange",r[r.DateFormat=10]="DateFormat",r[r.TimeFormat=11]="TimeFormat",r[r.DateTimeFormat=12]="DateTimeFormat",r[r.NumberSymbols=13]="NumberSymbols",r[r.NumberFormats=14]="NumberFormats",r[r.CurrencyCode=15]="CurrencyCode",r[r.CurrencySymbol=16]="CurrencySymbol",r[r.CurrencyName=17]="CurrencyName",r[r.Currencies=18]="Currencies",r[r.Directionality=19]="Directionality",r[r.PluralCase=20]="PluralCase",r[r.ExtraData=21]="ExtraData",r}(p_||{});const qd="en-US",g_={marker:"element"},Rv={marker:"ICU"};var Ua=function(r){return r[r.SHIFT=2]="SHIFT",r[r.APPEND_EAGERLY=1]="APPEND_EAGERLY",r[r.COMMENT=2]="COMMENT",r}(Ua||{});let tE=qd;function nE(r){(function Bt(r,s){null==r&&ft(s,r,null,"!=")})(r,"Expected localeId to be defined"),"string"==typeof r&&(tE=r.toLowerCase().replace(/_/g,"-"))}function JT(r,s,a){const h=s.insertBeforeIndex,g=Array.isArray(h)?h[0]:h;return null===g?Up(r,0,a):Mr(a[g])}function m_(r,s,a,h,g){const y=s.insertBeforeIndex;if(Array.isArray(y)){let E=h,C=null;if(3&s.type||(C=E,E=g),null!==E&&-1===s.componentOffset)for(let P=1;P<y.length;P++)Lu(r,E,a[y[P]],C,!1)}}function Bb(r,s){if(r.push(s),r.length>1)for(let a=r.length-2;a>=0;a--){const h=r[a];QT(h)||XT(h,s)&&null===rE(h)&&e1(h,s.index)}}function QT(r){return!(64&r.type)}function XT(r,s){return QT(s)||r.index>s.index}function rE(r){const s=r.insertBeforeIndex;return Array.isArray(s)?s[0]:s}function e1(r,s){const a=r.insertBeforeIndex;Array.isArray(a)?a[0]=s:(x0(JT,m_),r.insertBeforeIndex=s)}function ZD(r,s,a){const h=Cl(r,a,64,null,null);return Bb(s,h),h}function sE(){const r=[];let a,h,s=-1;function y(C,P){s=0;const W=function Vb(r,s){const a=s[r.currentCaseLViewIndex];return null===a?a:a<0?~a:a}(C,P);h=null!==W?C.remove[W]:ir}function E(){if(s<h.length){const C=h[s++];return C>0?a[C]:(r.push(s,h),y(a[jt].data[~C],a),E())}return 0===r.length?null:(h=r.pop(),s=r.pop(),E())}return function g(C,P){for(a=P;r.length;)r.pop();return y(C.value,P),E}}const Fv=/\ufffd(\d+):?\d*\ufffd/gi,Lv=/\ufffd(\d+)\ufffd/,op=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Uv="\ufffd",o1=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,XD=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,eC=/\uE500/g;function $h(r,s,a,h,g,y,E){const C=tc(r,h,1,null);let P=C<<Ua.SHIFT,W=gl();s===W&&(W=null),null===W&&(P|=Ua.APPEND_EAGERLY),E&&(P|=Ua.COMMENT,function sI(r){void 0===md&&(md=r())}(sE)),g.push(P,null===y?"":y);const se=Cl(r,C,E?32:1,null===y?"":y,null);Bb(a,se);const me=se.index;return Oo(se,!1),null!==W&&s!==W&&function qD(r,s){let a=r.insertBeforeIndex;null===a?(x0(JT,m_),a=r.insertBeforeIndex=[null,s]):(function je(r,s,a){r!=s&&ft(a,r,s,"==")}(Array.isArray(a),!0,"Expecting array here"),a.push(s))}(W,me),se}function a1(r,s,a,h,g,y,E){const C=E.match(Fv),P=$h(r,s,a,y,h,C?null:E,!1);C&&v_(g,E,P.index,null,0,null)}function v_(r,s,a,h,g,y){const E=r.length,C=E+1;r.push(null,null);const P=E+2,W=s.split(Fv);let se=0;for(let me=0;me<W.length;me++){const Fe=W[me];if(1&me){const Ge=g+parseInt(Fe,10);r.push(-1-Ge),se|=Gb(Ge)}else""!==Fe&&r.push(Fe)}return r.push(a<<2|(h?1:0)),h&&r.push(h,y),r[E]=se,r[C]=r.length-P,se}function Gb(r){return 1<<Math.min(r,31)}function cE(r){let s,y,a="",h=0,g=!1;for(;null!==(s=o1.exec(r));)g?s[0]===`${Uv}/*${y}${Uv}`&&(h=s.index,g=!1):(a+=r.substring(h,s.index+s[0].length),y=s[1],g=!0);return a+=r.slice(h),a}function $b(r,s,a,h,g,y){let E=0;const C={type:g.type,currentCaseLViewIndex:tc(r,s,1,null),anchorIdx:y,cases:[],create:[],remove:[],update:[]};(function l1(r,s,a){r.push(Gb(s.mainBinding),2,-1-s.mainBinding,a<<2|2)})(a,g,y),function t1(r,s,a){const h=r.data[s];null===h?r.data[s]=a:h.value=a}(r,y,C);const P=g.values;for(let W=0;W<P.length;W++){const se=P[W],me=[];for(let Fe=0;Fe<se.length;Fe++){const Ge=se[Fe];if("string"!=typeof Ge){const vt=me.push(Ge)-1;se[Fe]=`\x3c!--\ufffd${vt}\ufffd--\x3e`}}E=iC(r,C,s,a,h,g.cases[W],se.join(""),me)|E}E&&function Vv(r,s,a){r.push(s,1,a<<2|3)}(a,E,y)}function c1(r){const s=[],a=[];let h=1,g=0;const y=b_(r=r.replace(op,function(E,C,P){return h="select"===P?0:1,g=parseInt(C.slice(1),10),""}));for(let E=0;E<y.length;){let C=y[E++].trim();1===h&&(C=C.replace(/\s*(?:=)?(\w+)\s*/,"$1")),C.length&&s.push(C);const P=b_(y[E++]);s.length>a.length&&a.push(P)}return{type:h,mainBinding:g,cases:s,values:a}}function b_(r){if(!r)return[];let s=0;const a=[],h=[],g=/[{}]/g;let y;for(g.lastIndex=0;y=g.exec(r);){const C=y.index;if("}"==y[0]){if(a.pop(),0==a.length){const P=r.substring(s,C);op.test(P)?h.push(c1(P)):h.push(P),s=C+1}}else{if(0==a.length){const P=r.substring(s,C);h.push(P),s=C+1}a.push("{")}}const E=r.substring(s);return h.push(E),h}function iC(r,s,a,h,g,y,E,C){const P=[],W=[],se=[];s.cases.push(y),s.create.push(P),s.remove.push(W),s.update.push(se);const Fe=pm(Ti()).getInertBodyElement(E),Ge=bd(Fe)||Fe;return Ge?zb(r,s,a,h,P,W,se,Ge,g,C,0):0}function zb(r,s,a,h,g,y,E,C,P,W,se){let me=0,Fe=C.firstChild;for(;Fe;){const Ge=tc(r,a,1,null);switch(Fe.nodeType){case Node.ELEMENT_NODE:const vt=Fe,Rt=vt.tagName.toLowerCase();if(mf.hasOwnProperty(Rt)){w_(g,g_,Rt,P,Ge),r.data[Ge]=Rt;const fr=vt.attributes;for(let Lr=0;Lr<fr.length;Lr++){const Ui=fr.item(Lr),ol=Ui.name.toLowerCase();Ui.value.match(Fv)?gI.hasOwnProperty(ol)&&v_(E,Ui.value,Ge,Ui.name,0,j0[ol]?V0:null):Hv(g,Ge,Ui)}me=zb(r,s,a,h,g,y,E,Fe,Ge,W,se+1)|me,Bv(y,Ge,se)}break;case Node.TEXT_NODE:const an=Fe.textContent||"",Dn=an.match(Fv);w_(g,null,Dn?"":an,P,Ge),Bv(y,Ge,se),Dn&&(me=v_(E,an,Ge,null,0,null)|me);break;case Node.COMMENT_NODE:const Et=Lv.exec(Fe.textContent||"");if(Et){const Lr=W[parseInt(Et[1],10)];w_(g,Rv,"",P,Ge),$b(r,a,h,P,Lr,Ge),sC(y,Ge,se)}}Fe=Fe.nextSibling}return me}function Bv(r,s,a){0===a&&r.push(s)}function sC(r,s,a){0===a&&(r.push(~s),r.push(s))}function w_(r,s,a,h,g){null!==s&&r.push(s),r.push(a,g,function KD(r,s,a){return r|s<<17|a<<1}(0,h,g))}function Hv(r,s,a){r.push(s<<1|1,a.name,a.value)}function dE(r,s,a=-1){const h=Er(),g=_t(),y=Gn+r,E=Ka(h.consts,s),C=gl();h.firstCreatePass&&function Ag(r,s,a,h,g,y){const E=gl(),C=[],P=[],W=[[]];g=function lE(r,s){if(function aE(r){return-1===r}(s))return cE(r);{const a=r.indexOf(`:${s}${Uv}`)+2+s.toString().length,h=r.search(new RegExp(`${Uv}\\/\\*\\d+:${s}${Uv}`));return cE(r.substring(a,h))}}(g,y);const se=function tC(r){return r.replace(eC," ")}(g).split(XD);for(let me=0;me<se.length;me++){let Fe=se[me];if(1&me){const Ge=47===Fe.charCodeAt(0),Rt=(Fe.charCodeAt(Ge?1:0),Gn+Number.parseInt(Fe.substring(Ge?2:1)));if(Ge)W.shift(),Oo(gl(),!1);else{const an=ZD(r,W[0],Rt);W.unshift([]),Oo(an,!0)}}else{const Ge=b_(Fe);for(let vt=0;vt<Ge.length;vt++){let Rt=Ge[vt];if(1&vt){const an=Rt;if("object"!=typeof an)throw new Error(`Unable to parse ICU expression in "${g}" message.`);$b(r,a,P,s,an,$h(r,E,W[0],a,C,"",!0).index)}else""!==Rt&&a1(r,E,W[0],C,P,a,Rt)}}}r.data[h]={create:C,update:P}}(h,null===C?0:C.index,g,y,E,a),2===h.type?g[Fr][Pn]|=32:g[Pn]|=32;const P=h.data[y],se=om(h,C===g[Jr]?null:C,g);(function r1(r,s,a,h){const g=r[Ln];for(let y=0;y<s.length;y++){const E=s[y++],C=s[y],W=(E&Ua.APPEND_EAGERLY)===Ua.APPEND_EAGERLY,se=E>>>Ua.SHIFT;let me=r[se];null===me&&(me=r[se]=(E&Ua.COMMENT)===Ua.COMMENT?g.createComment(C):xp(g,C)),W&&null!==a&&Lu(g,a,me,h,!1)}})(g,P.create,se,C&&8&C.type?g[C.index]:null),Zl(!0)}function f1(r,s,a){dE(r,s,a),function cp(){Zl(!1)}()}function fE(r,s,a,h,g){if(r=Tt(r),Array.isArray(r))for(let y=0;y<r.length;y++)fE(r[y],s,a,h,g);else{const y=Er(),E=_t(),C=Zi();let P=If(r)?r:Tt(r.provide);const W=z0(r),se=1048575&C.providerIndexes,me=C.directiveStart,Fe=C.providerIndexes>>20;if(If(r)||!r.multi){const Ge=new dd(W,g,Ch),vt=T_(P,s,g?se:se+Fe,me);-1===vt?(fd(Su(C,E),y,P),Zb(y,r,s.length),s.push(P),C.directiveStart++,C.directiveEnd++,g&&(C.providerIndexes+=1048576),a.push(Ge),E.push(Ge)):(a[vt]=Ge,E[vt]=Ge)}else{const Ge=T_(P,s,se+Fe,me),vt=T_(P,s,se,se+Fe),an=vt>=0&&a[vt];if(g&&!an||!g&&!(Ge>=0&&a[Ge])){fd(Su(C,E),y,P);const Dn=function lC(r,s,a,h,g){const y=new dd(r,a,Ch);return y.multi=[],y.index=s,y.componentProviders=0,m1(y,g,h&&!a),y}(g?cC:aC,a.length,g,h,W);!g&&an&&(a[vt].providerFactory=Dn),Zb(y,r,s.length,0),s.push(P),C.directiveStart++,C.directiveEnd++,g&&(C.providerIndexes+=1048576),a.push(Dn),E.push(Dn)}else Zb(y,r,Ge>-1?Ge:vt,m1(a[g?vt:Ge],W,!g&&h));!g&&h&&an&&a[vt].componentProviders++}}}function Zb(r,s,a,h){const g=If(s),y=function wI(r){return!!r.useClass}(s);if(g||y){const P=(y?Tt(s.useClass):s).prototype.ngOnDestroy;if(P){const W=r.destroyHooks||(r.destroyHooks=[]);if(!g&&s.multi){const se=W.indexOf(a);-1===se?W.push(a,[h,P]):W[se+1].push(h,P)}else W.push(a,P)}}}function m1(r,s,a){return a&&r.componentProviders++,r.multi.push(s)-1}function T_(r,s,a,h){for(let g=a;g<h;g++)if(s[g]===r)return g;return-1}function aC(r,s,a,h){return Kb(this.multi,[])}function cC(r,s,a,h){const g=this.multi;let y;if(this.providerFactory){const E=this.providerFactory.componentProviders,C=bl(a,a[jt],this.providerFactory.index,h);y=C.slice(0,E),Kb(g,y);for(let P=E;P<C.length;P++)y.push(C[P])}else y=[],Kb(g,y);return y}function Kb(r,s){for(let a=0;a<r.length;a++)s.push((0,r[a])());return s}function pE(r,s=[]){return a=>{a.providersResolver=(h,g)=>function g1(r,s,a){const h=Er();if(h.firstCreatePass){const g=Oi(r);fE(a,h.data,h.blueprint,g,!0),fE(s,h.data,h.blueprint,g,!1)}}(h,g?g(r):r,s)}}class Ll{}class D_{}function _1(r,s){return new gE(r,s??null,[])}class gE extends Ll{constructor(s,a,h){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ov(this);const g=Pr(s);this._bootstrapComponents=ha(g.bootstrap),this._r3Injector=ob(s,a,[{provide:Ll,useValue:this},{provide:eg,useValue:this.componentFactoryResolver},...h],It(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Yb extends D_{constructor(s){super(),this.moduleType=s}create(s){return new gE(this.moduleType,s,[])}}class y1 extends Ll{constructor(s){super(),this.componentFactoryResolver=new ov(this),this.instance=null;const a=new Bu([...s.providers,{provide:Ll,useValue:this},{provide:eg,useValue:this.componentFactoryResolver}],s.parent||_h(),s.debugName,new Set(["environment"]));this.injector=a,s.runEnvironmentInitializers&&a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function Jb(r,s,a=null){return new y1({providers:r,parent:s,debugName:a,runEnvironmentInitializers:!0}).injector}let Ba=(()=>{class r{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a)){const h=Ey(0,a.type),g=h.length>0?Jb([h],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a,g)}return this.cachedInjectors.get(a)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=xe({token:r,providedIn:"environment",factory:()=>new r(Fn(Fc))})}return r})();function v1(r){r.getStandaloneInjector=s=>s.get(Ba).getOrCreateStandaloneInjector(r)}function yE(r,s,a,h){return jv(_t(),ys(),r,s,a,h)}function rw(r,s,a,h,g){return vE(_t(),ys(),r,s,a,h,g)}function A1(r,s,a,h,g,y){return function bE(r,s,a,h,g,y,E,C){const P=s+a;return pg(r,P,g,y,E)?Pa(r,P+3,C?h.call(C,g,y,E):h(g,y,E)):Og(r,P+3)}(_t(),ys(),r,s,a,h,g,y)}function Og(r,s){const a=r[s];return a===zn?void 0:a}function jv(r,s,a,h,g,y){const E=s+a;return Zo(r,E,g)?Pa(r,E+1,y?h.call(y,g):h(g)):Og(r,E+1)}function vE(r,s,a,h,g,y,E){const C=s+a;return Nh(r,C,g,y)?Pa(r,C+2,E?h.call(E,g,y):h(g,y)):Og(r,C+2)}function iw(r,s){const a=Er();let h;const g=r+Gn;a.firstCreatePass?(h=function mC(r,s){if(s)for(let a=s.length-1;a>=0;a--){const h=s[a];if(r===h.name)return h}}(s,a.pipeRegistry),a.data[g]=h,h.onDestroy&&(a.destroyHooks??=[]).push(g,h.onDestroy)):h=a.data[g];const y=h.factory||(h.factory=lc(h.type)),C=En(Ch);try{const P=Nc(!1),W=y();return Nc(P),function yv(r,s,a,h){a>=r.data.length&&(r.data[a]=null,r.blueprint[a]=null),s[a]=h}(a,_t(),g,W),W}finally{En(C)}}function IE(r,s,a){const h=r+Gn,g=_t(),y=Sa(g,h);return Ng(g,h)?jv(g,ys(),s,y.transform,a,y):y.transform(a)}function sw(r,s,a,h){const g=r+Gn,y=_t(),E=Sa(y,g);return Ng(y,g)?vE(y,ys(),s,E.transform,a,h,E):E.transform(a,h)}function Ng(r,s){return r[jt].data[s].pure}function EE(){return this._results[Symbol.iterator]()}class $v{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Tl)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=$v.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=EE)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const h=this;h.dirty=!1;const g=function Qc(r){return r.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function $g(r,s,a){if(r.length!==s.length)return!1;for(let h=0;h<r.length;h++){let g=r[h],y=s[h];if(a&&(g=a(g),y=a(y)),y!==g)return!1}return!0}(h._results,g,a))&&(h._results=g,h.length=g.length,h.last=g[this.length-1],h.first=g[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function P1(r,s,a,h=!0){const g=s[jt];if(function sm(r,s,a,h){const g=vi+h,y=a.length;h>0&&(a[g-1][pi]=s),h<y-vi?(s[pi]=a[g],oh(a,vi+h,s)):(a.push(s),s[pi]=null),s[Ur]=a;const E=s[Qi];null!==E&&a!==E&&function sy(r,s){const a=r[za];s[Fr]!==s[Ur][Ur][Fr]&&(r[Gs]=!0),null===a?r[za]=[s]:a.push(s)}(E,s);const C=s[ri];null!==C&&C.insertView(r),s[Pn]|=128}(g,s,r,a),h){const y=P0(a,r),E=s[Ln],C=dh(E,r[Br]);null!==C&&function ry(r,s,a,h,g,y){h[pr]=g,h[Jr]=s,lm(r,h,a,1,g,y)}(g,r[Jr],E,s,C,y)}}let Mg=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=Dc}return r})();const yC=Mg,vC=class extends yC{constructor(s,a,h){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=h}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(s,a){return this.createEmbeddedViewImpl(s,a)}createEmbeddedViewImpl(s,a,h){const g=function R1(r,s,a,h){const g=s.tView,C=lg(r,g,a,4096&r[Pn]?4096:16,null,s,null,null,null,h?.injector??null,h?.hydrationInfo??null);C[Qi]=r[s.index];const W=r[ri];return null!==W&&(C[ri]=W.createEmbeddedView(g)),Pt(g,C,a),C}(this._declarationLView,this._declarationTContainer,s,{injector:a,hydrationInfo:h});return new dg(g)}};function Dc(){return cw(Zi(),_t())}function cw(r,s){return 4&r.type?new vC(s,r,wh(r,s)):null}let dw=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=EC}return r})();function EC(){return qv(Zi(),_t())}const zv=dw,hw=class extends zv{constructor(s,a,h){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=h}get element(){return wh(this._hostTNode,this._hostLView)}get injector(){return new N(this._hostTNode,this._hostLView)}get parentInjector(){const s=rh(this._hostTNode,this._hostLView);if(Jl(s)){const a=Jc(s,this._hostLView),h=Ql(s);return new N(a[jt].data[h+8],a)}return new N(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=xg(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-vi}createEmbeddedView(s,a,h){let g,y;"number"==typeof h?g=h:null!=h&&(g=h.index,y=h.injector);const C=s.createEmbeddedViewImpl(a||{},y,null);return this.insertImpl(C,g,false),C}createComponent(s,a,h,g,y){const E=s&&!function rf(r){return"function"==typeof r}(s);let C;if(E)C=a;else{const Rt=a||{};C=Rt.index,h=Rt.injector,g=Rt.projectableNodes,y=Rt.environmentInjector||Rt.ngModuleRef}const P=E?s:new Kn(Qn(s)),W=h||this.parentInjector;if(!y&&null==P.ngModule){const an=(E?W:this.parentInjector).get(Fc,null);an&&(y=an)}Qn(P.componentType??{});const Ge=P.create(W,g,null,y);return this.insertImpl(Ge.hostView,C,false),Ge}insert(s,a){return this.insertImpl(s,a,!1)}insertImpl(s,a,h){const g=s._lView;if(function Wh(r){return Ai(r[Ur])}(g)){const P=this.indexOf(s);if(-1!==P)this.detach(P);else{const W=g[Ur],se=new hw(W,W[Jr],W[Ur]);se.detach(se.indexOf(s))}}const E=this._adjustIndex(a),C=this._lContainer;return P1(C,g,E,!h),s.attachToViewContainerRef(),oh(Wv(C),E,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=xg(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),h=Rp(this._lContainer,a);h&&(ah(Wv(this._lContainer),a),Pp(h[jt],h))}detach(s){const a=this._adjustIndex(s,-1),h=Rp(this._lContainer,a);return h&&null!=ah(Wv(this._lContainer),a)?new dg(h):null}_adjustIndex(s,a=0){return s??this.length+a}};function xg(r){return r[8]}function Wv(r){return r[8]||(r[8]=[])}function qv(r,s){let a;const h=s[r.index];return Ai(h)?a=h:(a=Eb(h,s,null,r),s[r.index]=a,jm(s,a)),fw(a,s,r,h),new hw(a,r,s)}let fw=function CE(r,s,a,h){if(r[Br])return;let g;g=8&a.type?Mr(h):function Zv(r,s){const a=r[Ln],h=a.createComment(""),g=si(s,r);return Lu(a,dh(a,g),h,function ay(r,s){return r.nextSibling(s)}(a,g),!1),h}(s,a),r[Br]=g};class Kd{constructor(s){this.queryList=s,this.matches=null}clone(){return new Kd(this.queryList)}setDirty(){this.queryList.setDirty()}}class pw{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const h=null!==s.contentQueries?s.contentQueries[0]:a.length,g=[];for(let y=0;y<h;y++){const E=a.getByIndex(y);g.push(this.queries[E.indexInDeclarationView].clone())}return new pw(g)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==j1(s,a).matches&&this.queries[a].setDirty()}}class L1{constructor(s,a,h=null){this.predicate=s,this.flags=a,this.read=h}}class Kv{constructor(s=[]){this.queries=s}elementStart(s,a){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let h=0;h<this.length;h++){const g=null!==a?a.length:0,y=this.getByIndex(h).embeddedTView(s,g);y&&(y.indexInDeclarationView=h,null!==a?a.push(y):a=[y])}return null!==a?new Kv(a):null}template(s,a){for(let h=0;h<this.queries.length;h++)this.queries[h].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class OE{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new OE(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let h=s.parent;for(;null!==h&&8&h.type&&h.index!==a;)h=h.parent;return a===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const h=this.metadata.predicate;if(Array.isArray(h))for(let g=0;g<h.length;g++){const y=h[g];this.matchTNodeWithReadOption(s,a,NE(a,y)),this.matchTNodeWithReadOption(s,a,Oa(a,s,y,!1,!1))}else h===Mg?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,Oa(a,s,h,!1,!1))}matchTNodeWithReadOption(s,a,h){if(null!==h){const g=this.metadata.read;if(null!==g)if(g===Ih||g===dw||g===Mg&&4&a.type)this.addMatch(a.index,-2);else{const y=Oa(a,s,g,!1,!1);null!==y&&this.addMatch(a.index,y)}else this.addMatch(a.index,h)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function NE(r,s){const a=r.localNames;if(null!==a)for(let h=0;h<a.length;h+=2)if(a[h]===s)return a[h+1];return null}function ME(r,s,a,h){return-1===a?function TC(r,s){return 11&r.type?wh(r,s):4&r.type?cw(r,s):null}(s,r):-2===a?function gw(r,s,a){return a===Ih?wh(s,r):a===Mg?cw(s,r):a===dw?qv(s,r):void 0}(r,s,h):bl(r,r[jt],a,s)}function mw(r,s,a,h){const g=s[ri].queries[h];if(null===g.matches){const y=r.data,E=a.matches,C=[];for(let P=0;P<E.length;P+=2){const W=E[P];C.push(W<0?null:ME(s,y[W],E[P+1],a.metadata.read))}g.matches=C}return g.matches}function _w(r,s,a,h){const g=r.queries.getByIndex(a),y=g.matches;if(null!==y){const E=mw(r,s,g,a);for(let C=0;C<y.length;C+=2){const P=y[C];if(P>0)h.push(E[C/2]);else{const W=y[C+1],se=s[-P];for(let me=vi;me<se.length;me++){const Fe=se[me];Fe[Qi]===Fe[Ur]&&_w(Fe[jt],Fe,W,h)}if(null!==se[za]){const me=se[za];for(let Fe=0;Fe<me.length;Fe++){const Ge=me[Fe];_w(Ge[jt],Ge,W,h)}}}}}return h}function Rg(r){const s=_t(),a=Er(),h=k();G(h+1);const g=j1(a,h);if(r.dirty&&function hc(r){return 4==(4&r[Pn])}(s)===(2==(2&g.metadata.flags))){if(null===g.matches)r.reset([]);else{const y=g.crossesNgTemplate?_w(a,s,h,[]):mw(a,s,g,h);r.reset(y,Of),r.notifyOnChanges()}return!0}return!1}function yw(r,s,a){const h=Er();h.firstCreatePass&&(H1(h,new L1(r,s,a),-1),2==(2&s)&&(h.staticViewQueries=!0)),xE(h,_t(),s)}function U1(r,s,a,h){const g=Er();if(g.firstCreatePass){const y=Zi();H1(g,new L1(s,a,h),y.index),function RE(r,s){const a=r.contentQueries||(r.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(r.queries.length-1,s)}(g,r),2==(2&a)&&(g.staticContentQueries=!0)}xE(g,_t(),a)}function B1(){return function V1(r,s){return r[ri].queries[s].queryList}(_t(),k())}function xE(r,s,a){const h=new $v(4==(4&a));(function ts(r,s,a,h){const g=Gm(s);g.push(a),r.firstCreatePass&&Sh(r).push(h,g.length-1)})(r,s,h,h.destroy),null===s[ri]&&(s[ri]=new pw),s[ri].queries.push(new Kd(h))}function H1(r,s,a){null===r.queries&&(r.queries=new Kv),r.queries.track(new OE(s,a))}function j1(r,s){return r.queries.getByIndex(s)}function vw(r,s){return cw(r,s)}function Yv(r){return!!Pr(r)}const Nw=new Zt("Application Initializer");let $E=(()=>{class r{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,h)=>{this.resolve=a,this.reject=h}),this.appInits=nr(Nw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const a=[];for(const g of this.appInits){const y=g();if(Ml(y))a.push(y);else if(Qm(y)){const E=new Promise((C,P)=>{y.subscribe({complete:C,error:P})});a.push(E)}}const h=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{h()}).catch(g=>{this.reject(g)}),0===a.length&&h(),this.initialized=!0}static#e=this.\u0275fac=function(h){return new(h||r)};static#t=this.\u0275prov=xe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),aD=(()=>{class r{log(a){console.log(a)}warn(a){console.warn(a)}static#e=this.\u0275fac=function(h){return new(h||r)};static#t=this.\u0275prov=xe({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})();const Mw=new Zt("LocaleId",{providedIn:"root",factory:()=>nr(Mw,nn.Optional|nn.SkipSelf)||function zE(){return typeof $localize<"u"&&$localize.locale||qd}()}),WE=new Zt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let xw=(()=>{class r{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ae.X(!1)}add(){this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(h){return new(h||r)};static#t=this.\u0275prov=xe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();class lD{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let qE=(()=>{class r{compileModuleSync(a){return new Yb(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const h=this.compileModuleSync(a),y=ha(Pr(a).declarations).reduce((E,C)=>{const P=Qn(C);return P&&E.push(new Kn(P)),E},[]);return new lD(h,y)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}static#e=this.\u0275fac=function(h){return new(h||r)};static#t=this.\u0275prov=xe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const tT=new Zt(""),Hw=new Zt("");let rT,fD=(()=>{class r{constructor(a,h,g){this._ngZone=a,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,rT||(function nT(r){rT=r}(g),g.addToWindow(h)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{qo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(a)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,h,g){let y=-1;h&&h>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(E=>E.timeoutId!==y),a(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:a,timeoutId:y,updateCb:g})}whenStable(a,h,g){if(g&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,h,g),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,h,g){return[]}static#e=this.\u0275fac=function(h){return new(h||r)(Fn(qo),Fn(Lg),Fn(Hw))};static#t=this.\u0275prov=xe({token:r,factory:r.\u0275fac})}return r})(),Lg=(()=>{class r{constructor(){this._applications=new Map}registerApplication(a,h){this._applications.set(a,h)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,h=!0){return rT?.findTestabilityInTree(this,a,h)??null}static#e=this.\u0275fac=function(h){return new(h||r)};static#t=this.\u0275prov=xe({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})(),hp=null;const pD=new Zt("AllowMultipleToken"),jw=new Zt("PlatformDestroyListeners"),iT=new Zt("appBootstrapListener");class $C{constructor(s,a){this.name=s,this.token=a}}function sT(r,s,a=[]){const h=`Platform: ${s}`,g=new Zt(h);return(y=[])=>{let E=$w();if(!E||E.injector.get(pD,!1)){const C=[...a,...y,{provide:g,useValue:!0}];r?r(C):function _D(r){if(hp&&!hp.get(pD,!1))throw new Ae(400,!1);(function mD(){!function dl(r){ca=r}(()=>{throw new Ae(600,!1)})})(),hp=r;const s=r.get(oT);(function Gw(r){r.get(Wo,null)?.forEach(a=>a())})(r)}(function n0(r=[],s){return da.create({name:s,providers:[{provide:Zp,useValue:"platform"},{provide:jw,useValue:new Set([()=>hp=null])},...r]})}(C,h))}return function vD(r){const s=$w();if(!s)throw new Ae(401,!1);return s}()}}function $w(){return hp?.get(oT)??null}let oT=(()=>{class r{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,h){const g=function zC(r="zone.js",s){return"noop"===r?new NI:"zone.js"===r?new qo(s):r}(h?.ngZone,function P_(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:r?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:r?.runCoalescing??!1}}({eventCoalescing:h?.ngZoneEventCoalescing,runCoalescing:h?.ngZoneRunCoalescing}));return g.run(()=>{const y=function dC(r,s,a){return new gE(r,s,a)}(a.moduleType,this.injector,function Ww(r){return[{provide:qo,useFactory:r},{provide:yf,multi:!0,useFactory:()=>{const s=nr(bD,{optional:!0});return()=>s.initialize()}},{provide:aT,useFactory:bS},{provide:$y,useFactory:db}]}(()=>g)),E=y.injector.get(Dd,null);return g.runOutsideAngular(()=>{const C=g.onError.subscribe({next:P=>{E.handleError(P)}});y.onDestroy(()=>{zw(this._modules,y),C.unsubscribe()})}),function fo(r,s,a){try{const h=a();return Ml(h)?h.catch(g=>{throw s.runOutsideAngular(()=>r.handleError(g)),g}):h}catch(h){throw s.runOutsideAngular(()=>r.handleError(h)),h}}(E,g,()=>{const C=y.injector.get($E);return C.runInitializers(),C.donePromise.then(()=>(nE(y.injector.get(Mw,qd)||qd),this._moduleDoBootstrap(y),y))})})}bootstrapModule(a,h=[]){const g=Va({},h);return function gD(r,s,a){const h=new Yb(a);return Promise.resolve(h)}(0,0,a).then(y=>this.bootstrapModuleFactory(y,g))}_moduleDoBootstrap(a){const h=a.injector.get(Vc);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(g=>h.bootstrap(g));else{if(!a.instance.ngDoBootstrap)throw new Ae(-403,!1);a.instance.ngDoBootstrap(h)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ae(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const a=this._injector.get(jw,null);a&&(a.forEach(h=>h()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(h){return new(h||r)(Fn(da))};static#t=this.\u0275prov=xe({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})();function Va(r,s){return Array.isArray(s)?s.reduce(Va,r):{...r,...s}}let Vc=(()=>{class r{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=nr(aT),this.zoneIsStable=nr($y),this.componentTypes=[],this.components=[],this.isStable=nr(xw).hasPendingTasks.pipe((0,Se.w)(a=>a?(0,he.of)(!1):this.zoneIsStable),(0,Ce.x)(),re()),this._injector=nr(Fc)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,h){const g=a instanceof X0;if(!this._injector.get($E).done)throw!g&&gs(a),new Ae(405,!1);let E;E=g?a:this._injector.get(eg).resolveComponentFactory(a),this.componentTypes.push(E.componentType);const C=function GC(r){return r.isBoundToModule}(E)?void 0:this._injector.get(Ll),W=E.create(da.NULL,[],h||E.selector,C),se=W.location.nativeElement,me=W.injector.get(tT,null);return me?.registerApplication(se),W.onDestroy(()=>{this.detachView(W.hostView),zw(this.components,W),me?.unregisterApplication(se)}),this._loadComponent(W),W}tick(){if(this._runningTick)throw new Ae(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1}}attachView(a){const h=a;this._views.push(h),h.attachToAppRef(this)}detachView(a){const h=a;zw(this._views,h),h.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const h=this._injector.get(iT,[]);h.push(...this._bootstrapListeners),h.forEach(g=>g(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>zw(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new Ae(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(h){return new(h||r)};static#t=this.\u0275prov=xe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function zw(r,s){const a=r.indexOf(s);a>-1&&r.splice(a,1)}const aT=new Zt("",{providedIn:"root",factory:()=>nr(Dd).handleError.bind(void 0)});function bS(){const r=nr(qo),s=nr(Dd);return a=>r.runOutsideAngular(()=>s.handleError(a))}let bD=(()=>{class r{constructor(){this.zone=nr(qo),this.applicationRef=nr(Vc)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(h){return new(h||r)};static#t=this.\u0275prov=xe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function IS(){return!1}let wD=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=TS}return r})();function TS(r){return function DS(r,s,a){if(Eo(r)&&!a){const h=ds(r.index,s);return new dg(h,h)}return 47&r.type?new dg(s[Fr],s):null}(Zi(),_t(),16==(16&r))}class TD{constructor(){}supports(s){return wc(s)}create(s){return new dT(s)}}const F_=(r,s)=>s;class dT{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||F_}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,h=this._removalsHead,g=0,y=null;for(;a||h;){const E=!h||a&&a.currentIndex<CD(h,g,y)?a:h,C=CD(E,g,y),P=E.currentIndex;if(E===h)g--,h=h._nextRemoved;else if(a=a._next,null==E.previousIndex)g++;else{y||(y=[]);const W=C-g,se=P-g;if(W!=se){for(let Fe=0;Fe<W;Fe++){const Ge=Fe<y.length?y[Fe]:y[Fe]=0,vt=Ge+Fe;se<=vt&&vt<W&&(y[Fe]=Ge+1)}y[E.previousIndex]=se-W}}C!==P&&s(E,C,P)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!wc(s))throw new Ae(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let g,y,E,a=this._itHead,h=!1;if(Array.isArray(s)){this.length=s.length;for(let C=0;C<this.length;C++)y=s[C],E=this._trackByFn(C,y),null!==a&&Object.is(a.trackById,E)?(h&&(a=this._verifyReinsertion(a,y,E,C)),Object.is(a.item,y)||this._addIdentityChange(a,y)):(a=this._mismatch(a,y,E,C),h=!0),a=a._next}else g=0,function Oh(r,s){if(Array.isArray(r))for(let a=0;a<r.length;a++)s(r[a]);else{const a=r[Symbol.iterator]();let h;for(;!(h=a.next()).done;)s(h.value)}}(s,C=>{E=this._trackByFn(g,C),null!==a&&Object.is(a.trackById,E)?(h&&(a=this._verifyReinsertion(a,C,E,g)),Object.is(a.item,C)||this._addIdentityChange(a,C)):(a=this._mismatch(a,C,E,g),h=!0),a=a._next,g++}),this.length=g;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,h,g){let y;return null===s?y=this._itTail:(y=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,y,g)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(h,g))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,y,g)):s=this._addAfter(new o0(a,h),y,g),s}_verifyReinsertion(s,a,h,g){let y=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==y?s=this._reinsertAfter(y,s._prev,g):s.currentIndex!=g&&(s.currentIndex=g,this._addToMoves(s,g)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const g=s._prevRemoved,y=s._nextRemoved;return null===g?this._removalsHead=y:g._nextRemoved=y,null===y?this._removalsTail=g:y._prevRemoved=g,this._insertAfter(s,a,h),this._addToMoves(s,h),s}_moveAfter(s,a,h){return this._unlink(s),this._insertAfter(s,a,h),this._addToMoves(s,h),s}_addAfter(s,a,h){return this._insertAfter(s,a,h),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,h){const g=null===a?this._itHead:a._next;return s._next=g,s._prev=a,null===g?this._itTail=s:g._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new Zw),this._linkedRecords.put(s),s.currentIndex=h,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,h=s._next;return null===a?this._itHead=h:a._next=h,null===h?this._itTail=a:h._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Zw),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class o0{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class DD{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===a||a<=h.currentIndex)&&Object.is(h.trackById,s))return h;return null}remove(s){const a=s._prevDup,h=s._nextDup;return null===a?this._head=h:a._nextDup=h,null===h?this._tail=a:h._prevDup=a,null===this._head}}class Zw{constructor(){this.map=new Map}put(s){const a=s.trackById;let h=this.map.get(a);h||(h=new DD,this.map.set(a,h)),h.add(s)}get(s,a){const g=this.map.get(s);return g?g.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function CD(r,s,a){const h=r.previousIndex;if(null===h)return h;let g=0;return a&&h<a.length&&(g=a[h]),h+s+g}class SD{constructor(){}supports(s){return s instanceof Map||fu(s)}create(){return new JC}}class JC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||fu(s)))throw new Ae(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(h,g)=>{if(a&&a.key===g)this._maybeAddToChanges(a,h),this._appendAfter=a,a=a._next;else{const y=this._getOrCreateRecordForKey(g,h);a=this._insertBeforeOrAppend(a,y)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let h=a;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const h=s._prev;return a._next=s,a._prev=h,s._prev=a,h&&(h._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const g=this._records.get(s);this._maybeAddToChanges(g,a);const y=g._prev,E=g._next;return y&&(y._next=E),E&&(E._prev=y),g._next=null,g._prev=null,g}const h=new AD(s);return this._records.set(s,h),h.currentValue=a,this._addToAdditions(h),h}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(h=>a(s[h],h))}}class AD{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function hT(){return new Kw([new TD])}let Kw=(()=>{class r{static#e=this.\u0275prov=xe({token:r,providedIn:"root",factory:hT});constructor(a){this.factories=a}static create(a,h){if(null!=h){const g=h.factories.slice();a=a.concat(g)}return new r(a)}static extend(a){return{provide:r,useFactory:h=>r.create(a,h||hT()),deps:[[r,new Tp,new af]]}}find(a){const h=this.factories.find(g=>g.supports(a));if(null!=h)return h;throw new Ae(901,!1)}}return r})();function fT(){return new Yw([new SD])}let Yw=(()=>{class r{static#e=this.\u0275prov=xe({token:r,providedIn:"root",factory:fT});constructor(a){this.factories=a}static create(a,h){if(h){const g=h.factories.slice();a=a.concat(g)}return new r(a)}static extend(a){return{provide:r,useFactory:h=>r.create(a,h||fT()),deps:[[r,new Tp,new af]]}}find(a){const h=this.factories.find(g=>g.supports(a));if(h)return h;throw new Ae(901,!1)}}return r})();const Jw=sT(null,"core",[]);let OD=(()=>{class r{constructor(a){}static#e=this.\u0275fac=function(h){return new(h||r)(Fn(Vc))};static#t=this.\u0275mod=ro({type:r});static#n=this.\u0275inj=Xe({})}return r})();function xD(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}function RS(r,s){const a=Qn(r),h=s.elementInjector||_h();return new Kn(a).create(h,s.projectableNodes,s.hostElement,s.environmentInjector)}function Bg(r){const s=Qn(r);if(!s)return null;const a=new Kn(s);return{get selector(){return a.selector},get type(){return a.componentType},get inputs(){return a.inputs},get outputs(){return a.outputs},get ngContentSelectors(){return a.ngContentSelectors},get isStandalone(){return s.standalone},get isSignal(){return s.signals}}}},7592:(Vt,Be,$)=>{"use strict";$.d(Be,{C6:()=>De,Jn:()=>Jn,KN:()=>bt,Mq:()=>xe,Xd:()=>St,ZF:()=>cr,qX:()=>Lt});var b=$(5861),X=$(6820),u=$(7879),ye=$(229),ae=$(1878);class he{constructor(Ne){this.container=Ne}getPlatformInfoString(){return this.container.getProviders().map(tt=>{if(function Ie(at){const Ne=at.getComponent();return"VERSION"===Ne?.type}(tt)){const At=tt.getImmediate();return`${At.library}/${At.version}`}return null}).filter(tt=>tt).join(" ")}}const ke="@firebase/app",re=new u.Yd("@firebase/app"),Ue="[DEFAULT]",je={[ke]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ze=new Map,He=new Map;function Ke(at,Ne){try{at.container.addComponent(Ne)}catch(tt){re.debug(`Component ${Ne.name} failed to register with FirebaseApp ${at.name}`,tt)}}function St(at){const Ne=at.name;if(He.has(Ne))return re.debug(`There were multiple attempts to register component ${Ne}.`),!1;He.set(Ne,at);for(const tt of Ze.values())Ke(tt,at);return!0}function Lt(at,Ne){const tt=at.container.getProvider("heartbeat").getImmediate({optional:!0});return tt&&tt.triggerHeartbeat(),at.container.getProvider(Ne)}const ft=new ye.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class In{constructor(Ne,tt,At){this._isDeleted=!1,this._options=Object.assign({},Ne),this._config=Object.assign({},tt),this._name=tt.name,this._automaticDataCollectionEnabled=tt.automaticDataCollectionEnabled,this._container=At,this.container.addComponent(new X.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ne){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ne}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ne){this._isDeleted=Ne}checkDestroyed(){if(this.isDeleted)throw ft.create("app-deleted",{appName:this._name})}}const Jn="9.23.0";function cr(at,Ne={}){let tt=at;"object"!=typeof Ne&&(Ne={name:Ne});const At=Object.assign({name:Ue,automaticDataCollectionEnabled:!1},Ne),zt=At.name;if("string"!=typeof zt||!zt)throw ft.create("bad-app-name",{appName:String(zt)});if(tt||(tt=(0,ye.aH)()),!tt)throw ft.create("no-options");const Kt=Ze.get(zt);if(Kt){if((0,ye.vZ)(tt,Kt.options)&&(0,ye.vZ)(At,Kt.config))return Kt;throw ft.create("duplicate-app",{appName:zt})}const qn=new X.H0(zt);for(const B of He.values())qn.addComponent(B);const J=new In(tt,At,qn);return Ze.set(zt,J),J}function xe(at=Ue){const Ne=Ze.get(at);if(!Ne&&at===Ue&&(0,ye.aH)())return cr();if(!Ne)throw ft.create("no-app",{appName:at});return Ne}function De(){return Array.from(Ze.values())}function bt(at,Ne,tt){var At;let zt=null!==(At=je[at])&&void 0!==At?At:at;tt&&(zt+=`-${tt}`);const Kt=zt.match(/\s|\//),qn=Ne.match(/\s|\//);if(Kt||qn){const J=[`Unable to register library "${zt}" with version "${Ne}":`];return Kt&&J.push(`library name "${zt}" contains illegal characters (whitespace or "/")`),Kt&&qn&&J.push("and"),qn&&J.push(`version name "${Ne}" contains illegal characters (whitespace or "/")`),void re.warn(J.join(" "))}St(new X.wA(`${zt}-version`,()=>({library:zt,version:Ne}),"VERSION"))}const yn="firebase-heartbeat-database",Cn=1,Xt="firebase-heartbeat-store";let pn=null;function br(){return pn||(pn=(0,ae.X3)(yn,Cn,{upgrade:(at,Ne)=>{0===Ne&&at.createObjectStore(Xt)}}).catch(at=>{throw ft.create("idb-open",{originalErrorMessage:at.message})})),pn}function Dr(){return(Dr=(0,b.Z)(function*(at){try{return yield(yield br()).transaction(Xt).objectStore(Xt).get(lr(at))}catch(Ne){if(Ne instanceof ye.ZR)re.warn(Ne.message);else{const tt=ft.create("idb-get",{originalErrorMessage:Ne?.message});re.warn(tt.message)}}})).apply(this,arguments)}function Cr(at,Ne){return En.apply(this,arguments)}function En(){return(En=(0,b.Z)(function*(at,Ne){try{const At=(yield br()).transaction(Xt,"readwrite");yield At.objectStore(Xt).put(Ne,lr(at)),yield At.done}catch(tt){if(tt instanceof ye.ZR)re.warn(tt.message);else{const At=ft.create("idb-set",{originalErrorMessage:tt?.message});re.warn(At.message)}}})).apply(this,arguments)}function lr(at){return`${at.name}!${at.options.appId}`}class Bn{constructor(Ne){this.container=Ne,this._heartbeatsCache=null;const tt=this.container.getProvider("app").getImmediate();this._storage=new Yi(tt),this._heartbeatsCachePromise=this._storage.read().then(At=>(this._heartbeatsCache=At,At))}triggerHeartbeat(){var Ne=this;return(0,b.Z)(function*(){const At=Ne.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),zt=ni();if(null===Ne._heartbeatsCache&&(Ne._heartbeatsCache=yield Ne._heartbeatsCachePromise),Ne._heartbeatsCache.lastSentHeartbeatDate!==zt&&!Ne._heartbeatsCache.heartbeats.some(Kt=>Kt.date===zt))return Ne._heartbeatsCache.heartbeats.push({date:zt,agent:At}),Ne._heartbeatsCache.heartbeats=Ne._heartbeatsCache.heartbeats.filter(Kt=>{const qn=new Date(Kt.date).valueOf();return Date.now()-qn<=2592e6}),Ne._storage.overwrite(Ne._heartbeatsCache)})()}getHeartbeatsHeader(){var Ne=this;return(0,b.Z)(function*(){if(null===Ne._heartbeatsCache&&(yield Ne._heartbeatsCachePromise),null===Ne._heartbeatsCache||0===Ne._heartbeatsCache.heartbeats.length)return"";const tt=ni(),{heartbeatsToSend:At,unsentEntries:zt}=function Zt(at,Ne=1024){const tt=[];let At=at.slice();for(const zt of at){const Kt=tt.find(qn=>qn.agent===zt.agent);if(Kt){if(Kt.dates.push(zt.date),Zr(tt)>Ne){Kt.dates.pop();break}}else if(tt.push({agent:zt.agent,dates:[zt.date]}),Zr(tt)>Ne){tt.pop();break}At=At.slice(1)}return{heartbeatsToSend:tt,unsentEntries:At}}(Ne._heartbeatsCache.heartbeats),Kt=(0,ye.L)(JSON.stringify({version:2,heartbeats:At}));return Ne._heartbeatsCache.lastSentHeartbeatDate=tt,zt.length>0?(Ne._heartbeatsCache.heartbeats=zt,yield Ne._storage.overwrite(Ne._heartbeatsCache)):(Ne._heartbeatsCache.heartbeats=[],Ne._storage.overwrite(Ne._heartbeatsCache)),Kt})()}}function ni(){return(new Date).toISOString().substring(0,10)}class Yi{constructor(Ne){this.app=Ne,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,b.Z)(function*(){return!!(0,ye.hl)()&&(0,ye.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ne=this;return(0,b.Z)(function*(){return(yield Ne._canUseIndexedDBPromise)&&(yield function nn(at){return Dr.apply(this,arguments)}(Ne.app))||{heartbeats:[]}})()}overwrite(Ne){var tt=this;return(0,b.Z)(function*(){var At;if(yield tt._canUseIndexedDBPromise){const Kt=yield tt.read();return Cr(tt.app,{lastSentHeartbeatDate:null!==(At=Ne.lastSentHeartbeatDate)&&void 0!==At?At:Kt.lastSentHeartbeatDate,heartbeats:Ne.heartbeats})}})()}add(Ne){var tt=this;return(0,b.Z)(function*(){var At;if(yield tt._canUseIndexedDBPromise){const Kt=yield tt.read();return Cr(tt.app,{lastSentHeartbeatDate:null!==(At=Ne.lastSentHeartbeatDate)&&void 0!==At?At:Kt.lastSentHeartbeatDate,heartbeats:[...Kt.heartbeats,...Ne.heartbeats]})}})()}}function Zr(at){return(0,ye.L)(JSON.stringify({version:2,heartbeats:at})).length}!function Gr(at){St(new X.wA("platform-logger",Ne=>new he(Ne),"PRIVATE")),St(new X.wA("heartbeat",Ne=>new Bn(Ne),"PRIVATE")),bt(ke,"0.9.13",at),bt(ke,"0.9.13","esm2017"),bt("fire-js","")}("")},6820:(Vt,Be,$)=>{"use strict";$.d(Be,{H0:()=>ke,wA:()=>u});var b=$(5861),X=$(229);class u{constructor(re,le,Se){this.name=re,this.instanceFactory=le,this.type=Se,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(re){return this.instantiationMode=re,this}setMultipleInstances(re){return this.multipleInstances=re,this}setServiceProps(re){return this.serviceProps=re,this}setInstanceCreatedCallback(re){return this.onInstanceCreated=re,this}}const ye="[DEFAULT]";class ae{constructor(re,le){this.name=re,this.container=le,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(re){const le=this.normalizeInstanceIdentifier(re);if(!this.instancesDeferred.has(le)){const Se=new X.BH;if(this.instancesDeferred.set(le,Se),this.isInitialized(le)||this.shouldAutoInitialize())try{const Ce=this.getOrInitializeService({instanceIdentifier:le});Ce&&Se.resolve(Ce)}catch{}}return this.instancesDeferred.get(le).promise}getImmediate(re){var le;const Se=this.normalizeInstanceIdentifier(re?.identifier),Ce=null!==(le=re?.optional)&&void 0!==le&&le;if(!this.isInitialized(Se)&&!this.shouldAutoInitialize()){if(Ce)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Se})}catch(Me){if(Ce)return null;throw Me}}getComponent(){return this.component}setComponent(re){if(re.name!==this.name)throw Error(`Mismatching Component ${re.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=re,this.shouldAutoInitialize()){if(function Ie(Ee){return"EAGER"===Ee.instantiationMode}(re))try{this.getOrInitializeService({instanceIdentifier:ye})}catch{}for(const[le,Se]of this.instancesDeferred.entries()){const Ce=this.normalizeInstanceIdentifier(le);try{const Me=this.getOrInitializeService({instanceIdentifier:Ce});Se.resolve(Me)}catch{}}}}clearInstance(re=ye){this.instancesDeferred.delete(re),this.instancesOptions.delete(re),this.instances.delete(re)}delete(){var re=this;return(0,b.Z)(function*(){const le=Array.from(re.instances.values());yield Promise.all([...le.filter(Se=>"INTERNAL"in Se).map(Se=>Se.INTERNAL.delete()),...le.filter(Se=>"_delete"in Se).map(Se=>Se._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(re=ye){return this.instances.has(re)}getOptions(re=ye){return this.instancesOptions.get(re)||{}}initialize(re={}){const{options:le={}}=re,Se=this.normalizeInstanceIdentifier(re.instanceIdentifier);if(this.isInitialized(Se))throw Error(`${this.name}(${Se}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ce=this.getOrInitializeService({instanceIdentifier:Se,options:le});for(const[Me,qe]of this.instancesDeferred.entries())Se===this.normalizeInstanceIdentifier(Me)&&qe.resolve(Ce);return Ce}onInit(re,le){var Se;const Ce=this.normalizeInstanceIdentifier(le),Me=null!==(Se=this.onInitCallbacks.get(Ce))&&void 0!==Se?Se:new Set;Me.add(re),this.onInitCallbacks.set(Ce,Me);const qe=this.instances.get(Ce);return qe&&re(qe,Ce),()=>{Me.delete(re)}}invokeOnInitCallbacks(re,le){const Se=this.onInitCallbacks.get(le);if(Se)for(const Ce of Se)try{Ce(re,le)}catch{}}getOrInitializeService({instanceIdentifier:re,options:le={}}){let Se=this.instances.get(re);if(!Se&&this.component&&(Se=this.component.instanceFactory(this.container,{instanceIdentifier:(Ee=re,Ee===ye?void 0:Ee),options:le}),this.instances.set(re,Se),this.instancesOptions.set(re,le),this.invokeOnInitCallbacks(Se,re),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,re,Se)}catch{}var Ee;return Se||null}normalizeInstanceIdentifier(re=ye){return this.component?this.component.multipleInstances?re:ye:re}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ke{constructor(re){this.name=re,this.providers=new Map}addComponent(re){const le=this.getProvider(re.name);if(le.isComponentSet())throw new Error(`Component ${re.name} has already been registered with ${this.name}`);le.setComponent(re)}addOrOverwriteComponent(re){this.getProvider(re.name).isComponentSet()&&this.providers.delete(re.name),this.addComponent(re)}getProvider(re){if(this.providers.has(re))return this.providers.get(re);const le=new ae(re,this);return this.providers.set(re,le),le}getProviders(){return Array.from(this.providers.values())}}},4097:(Vt,Be,$)=>{"use strict";$.d(Be,{C6:()=>b.C6,KN:()=>b.KN,Mq:()=>b.Mq,ZF:()=>b.ZF});var b=$(7592);(0,b.KN)("firebase","9.23.0","app")},95:(Vt,Be,$)=>{"use strict";$.d(Be,{Wl:()=>xt,Fj:()=>st,CE:()=>jt,qu:()=>oa,NI:()=>$r,u:()=>pi,cw:()=>dn,sg:()=>fi,x0:()=>Ji,u5:()=>Wa,wO:()=>oo,Cf:()=>ze,JU:()=>qe,JJ:()=>Xt,JL:()=>pn,YN:()=>kr,wV:()=>ro,UX:()=>yu,Q7:()=>Gn,EJ:()=>xn,kI:()=>Le,_Y:()=>ta,Kr:()=>Fr});var b=$(9468),X=$(6814),u=$(2459),ye=$(5592),ae=$(7453),he=$(4829),Ie=$(9940),ke=$(8251),Ee=$(7400),re=$(2714),Se=$(7398);let Ce=(()=>{class Z{constructor(U,ue){this._renderer=U,this._elementRef=ue,this.onChange=Oe=>{},this.onTouched=()=>{}}setProperty(U,ue){this._renderer.setProperty(this._elementRef.nativeElement,U,ue)}registerOnTouched(U){this.onTouched=U}registerOnChange(U){this.onChange=U}setDisabledState(U){this.setProperty("disabled",U)}static#e=this.\u0275fac=function(ue){return new(ue||Z)(b.Y36(b.Qsj),b.Y36(b.SBq))};static#t=this.\u0275dir=b.lG2({type:Z})}return Z})(),Me=(()=>{class Z extends Ce{static#e=this.\u0275fac=function(){let U;return function(Oe){return(U||(U=b.n5z(Z)))(Oe||Z)}}();static#t=this.\u0275dir=b.lG2({type:Z,features:[b.qOj]})}return Z})();const qe=new b.OlP("NgValueAccessor"),It={provide:qe,useExisting:(0,b.Gpc)(()=>xt),multi:!0};let xt=(()=>{class Z extends Me{writeValue(U){this.setProperty("checked",U)}static#e=this.\u0275fac=function(){let U;return function(Oe){return(U||(U=b.n5z(Z)))(Oe||Z)}}();static#t=this.\u0275dir=b.lG2({type:Z,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(ue,Oe){1&ue&&b.NdJ("change",function(Vn){return Oe.onChange(Vn.target.checked)})("blur",function(){return Oe.onTouched()})},features:[b._Bn([It]),b.qOj]})}return Z})();const Ct={provide:qe,useExisting:(0,b.Gpc)(()=>st),multi:!0},Tt=new b.OlP("CompositionEventMode");let st=(()=>{class Z extends Ce{constructor(U,ue,Oe){super(U,ue),this._compositionMode=Oe,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function cn(){const Z=(0,X.q)()?(0,X.q)().getUserAgent():"";return/android (\d+)/.test(Z.toLowerCase())}())}writeValue(U){this.setProperty("value",U??"")}_handleInput(U){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(U)}_compositionStart(){this._composing=!0}_compositionEnd(U){this._composing=!1,this._compositionMode&&this.onChange(U)}static#e=this.\u0275fac=function(ue){return new(ue||Z)(b.Y36(b.Qsj),b.Y36(b.SBq),b.Y36(Tt,8))};static#t=this.\u0275dir=b.lG2({type:Z,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(ue,Oe){1&ue&&b.NdJ("input",function(Vn){return Oe._handleInput(Vn.target.value)})("blur",function(){return Oe.onTouched()})("compositionstart",function(){return Oe._compositionStart()})("compositionend",function(Vn){return Oe._compositionEnd(Vn.target.value)})},features:[b._Bn([Ct]),b.qOj]})}return Z})();function rt(Z){return null==Z||("string"==typeof Z||Array.isArray(Z))&&0===Z.length}function yt(Z){return null!=Z&&"number"==typeof Z.length}const ze=new b.OlP("NgValidators"),Ae=new b.OlP("NgAsyncValidators"),_e=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Le{static min(Q){return function ut(Z){return Q=>{if(rt(Q.value)||rt(Z))return null;const U=parseFloat(Q.value);return!isNaN(U)&&U<Z?{min:{min:Z,actual:Q.value}}:null}}(Q)}static max(Q){return function wn(Z){return Q=>{if(rt(Q.value)||rt(Z))return null;const U=parseFloat(Q.value);return!isNaN(U)&&U>Z?{max:{max:Z,actual:Q.value}}:null}}(Q)}static required(Q){return dt(Q)}static requiredTrue(Q){return function sn(Z){return!0===Z.value?null:{required:!0}}(Q)}static email(Q){return function _n(Z){return rt(Z.value)||_e.test(Z.value)?null:{email:!0}}(Q)}static minLength(Q){return On(Q)}static maxLength(Q){return function Yn(Z){return Q=>yt(Q.value)&&Q.value.length>Z?{maxlength:{requiredLength:Z,actualLength:Q.value.length}}:null}(Q)}static pattern(Q){return function tr(Z){if(!Z)return Ue;let Q,U;return"string"==typeof Z?(U="","^"!==Z.charAt(0)&&(U+="^"),U+=Z,"$"!==Z.charAt(Z.length-1)&&(U+="$"),Q=new RegExp(U)):(U=Z.toString(),Q=Z),ue=>{if(rt(ue.value))return null;const Oe=ue.value;return Q.test(Oe)?null:{pattern:{requiredPattern:U,actualValue:Oe}}}}(Q)}static nullValidator(Q){return null}static compose(Q){return Lt(Q)}static composeAsync(Q){return tn(Q)}}function dt(Z){return rt(Z.value)?{required:!0}:null}function On(Z){return Q=>rt(Q.value)||!yt(Q.value)?null:Q.value.length<Z?{minlength:{requiredLength:Z,actualLength:Q.value.length}}:null}function Ue(Z){return null}function je(Z){return null!=Z}function Ze(Z){return(0,b.QGY)(Z)?(0,u.D)(Z):Z}function He(Z){let Q={};return Z.forEach(U=>{Q=null!=U?{...Q,...U}:Q}),0===Object.keys(Q).length?null:Q}function Ke(Z,Q){return Q.map(U=>U(Z))}function St(Z){return Z.map(Q=>function gt(Z){return!Z.validate}(Q)?Q:U=>Q.validate(U))}function Lt(Z){if(!Z)return null;const Q=Z.filter(je);return 0==Q.length?null:function(U){return He(Ke(U,Q))}}function Qt(Z){return null!=Z?Lt(St(Z)):null}function tn(Z){if(!Z)return null;const Q=Z.filter(je);return 0==Q.length?null:function(U){return function le(...Z){const Q=(0,Ie.jO)(Z),{args:U,keys:ue}=(0,ae.D)(Z),Oe=new ye.y(rn=>{const{length:Vn}=U;if(!Vn)return void rn.complete();const $i=new Array(Vn);let Os=Vn,zi=Vn;for(let ms=0;ms<Vn;ms++){let qa=!1;(0,he.Xf)(U[ms]).subscribe((0,ke.x)(rn,Za=>{qa||(qa=!0,zi--),$i[ms]=Za},()=>Os--,void 0,()=>{(!Os||!qa)&&(zi||rn.next(ue?(0,re.n)(ue,$i):$i),rn.complete())}))}});return Q?Oe.pipe((0,Ee.Z)(Q)):Oe}(Ke(U,Q).map(Ze)).pipe((0,Se.U)(He))}}function Bt(Z){return null!=Z?tn(St(Z)):null}function ft(Z,Q){return null===Z?[Q]:Array.isArray(Z)?[...Z,Q]:[Z,Q]}function In(Z){return Z._rawValidators}function Jn(Z){return Z._rawAsyncValidators}function cr(Z){return Z?Array.isArray(Z)?Z:[Z]:[]}function xe(Z,Q){return Array.isArray(Z)?Z.includes(Q):Z===Q}function De(Z,Q){const U=cr(Q);return cr(Z).forEach(Oe=>{xe(U,Oe)||U.push(Oe)}),U}function Xe(Z,Q){return cr(Q).filter(U=>!xe(Z,U))}class mt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(Q){this._rawValidators=Q||[],this._composedValidatorFn=Qt(this._rawValidators)}_setAsyncValidators(Q){this._rawAsyncValidators=Q||[],this._composedAsyncValidatorFn=Bt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(Q){this._onDestroyCallbacks.push(Q)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(Q=>Q()),this._onDestroyCallbacks=[]}reset(Q=void 0){this.control&&this.control.reset(Q)}hasError(Q,U){return!!this.control&&this.control.hasError(Q,U)}getError(Q,U){return this.control?this.control.getError(Q,U):null}}class bt extends mt{get formDirective(){return null}get path(){return null}}class kt extends mt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ir{constructor(Q){this._cd=Q}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Xt=(()=>{class Z extends Ir{constructor(U){super(U)}static#e=this.\u0275fac=function(ue){return new(ue||Z)(b.Y36(kt,2))};static#t=this.\u0275dir=b.lG2({type:Z,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(ue,Oe){2&ue&&b.ekj("ng-untouched",Oe.isUntouched)("ng-touched",Oe.isTouched)("ng-pristine",Oe.isPristine)("ng-dirty",Oe.isDirty)("ng-valid",Oe.isValid)("ng-invalid",Oe.isInvalid)("ng-pending",Oe.isPending)},features:[b.qOj]})}return Z})(),pn=(()=>{class Z extends Ir{constructor(U){super(U)}static#e=this.\u0275fac=function(ue){return new(ue||Z)(b.Y36(bt,10))};static#t=this.\u0275dir=b.lG2({type:Z,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(ue,Oe){2&ue&&b.ekj("ng-untouched",Oe.isUntouched)("ng-touched",Oe.isTouched)("ng-pristine",Oe.isPristine)("ng-dirty",Oe.isDirty)("ng-valid",Oe.isValid)("ng-invalid",Oe.isInvalid)("ng-pending",Oe.isPending)("ng-submitted",Oe.isSubmitted)},features:[b.qOj]})}return Z})();const At="VALID",zt="INVALID",Kt="PENDING",qn="DISABLED";function J(Z){return(z(Z)?Z.validators:Z)||null}function j(Z,Q){return(z(Q)?Q.asyncValidators:Z)||null}function z(Z){return null!=Z&&!Array.isArray(Z)&&"object"==typeof Z}function Te(Z,Q,U){const ue=Z.controls;if(!(Q?Object.keys(ue):ue).length)throw new b.vHH(1e3,"");if(!ue[U])throw new b.vHH(1001,"")}function Je(Z,Q,U){Z._forEachChild((ue,Oe)=>{if(void 0===U[Oe])throw new b.vHH(1002,"")})}class Dt{constructor(Q,U){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(Q),this._assignAsyncValidators(U)}get validator(){return this._composedValidatorFn}set validator(Q){this._rawValidators=this._composedValidatorFn=Q}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(Q){this._rawAsyncValidators=this._composedAsyncValidatorFn=Q}get parent(){return this._parent}get valid(){return this.status===At}get invalid(){return this.status===zt}get pending(){return this.status==Kt}get disabled(){return this.status===qn}get enabled(){return this.status!==qn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(Q){this._assignValidators(Q)}setAsyncValidators(Q){this._assignAsyncValidators(Q)}addValidators(Q){this.setValidators(De(Q,this._rawValidators))}addAsyncValidators(Q){this.setAsyncValidators(De(Q,this._rawAsyncValidators))}removeValidators(Q){this.setValidators(Xe(Q,this._rawValidators))}removeAsyncValidators(Q){this.setAsyncValidators(Xe(Q,this._rawAsyncValidators))}hasValidator(Q){return xe(this._rawValidators,Q)}hasAsyncValidator(Q){return xe(this._rawAsyncValidators,Q)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(Q={}){this.touched=!0,this._parent&&!Q.onlySelf&&this._parent.markAsTouched(Q)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(Q=>Q.markAllAsTouched())}markAsUntouched(Q={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(U=>{U.markAsUntouched({onlySelf:!0})}),this._parent&&!Q.onlySelf&&this._parent._updateTouched(Q)}markAsDirty(Q={}){this.pristine=!1,this._parent&&!Q.onlySelf&&this._parent.markAsDirty(Q)}markAsPristine(Q={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(U=>{U.markAsPristine({onlySelf:!0})}),this._parent&&!Q.onlySelf&&this._parent._updatePristine(Q)}markAsPending(Q={}){this.status=Kt,!1!==Q.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!Q.onlySelf&&this._parent.markAsPending(Q)}disable(Q={}){const U=this._parentMarkedDirty(Q.onlySelf);this.status=qn,this.errors=null,this._forEachChild(ue=>{ue.disable({...Q,onlySelf:!0})}),this._updateValue(),!1!==Q.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...Q,skipPristineCheck:U}),this._onDisabledChange.forEach(ue=>ue(!0))}enable(Q={}){const U=this._parentMarkedDirty(Q.onlySelf);this.status=At,this._forEachChild(ue=>{ue.enable({...Q,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:Q.emitEvent}),this._updateAncestors({...Q,skipPristineCheck:U}),this._onDisabledChange.forEach(ue=>ue(!1))}_updateAncestors(Q){this._parent&&!Q.onlySelf&&(this._parent.updateValueAndValidity(Q),Q.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(Q){this._parent=Q}getRawValue(){return this.value}updateValueAndValidity(Q={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===At||this.status===Kt)&&this._runAsyncValidator(Q.emitEvent)),!1!==Q.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!Q.onlySelf&&this._parent.updateValueAndValidity(Q)}_updateTreeValidity(Q={emitEvent:!0}){this._forEachChild(U=>U._updateTreeValidity(Q)),this.updateValueAndValidity({onlySelf:!0,emitEvent:Q.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?qn:At}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(Q){if(this.asyncValidator){this.status=Kt,this._hasOwnPendingAsyncValidator=!0;const U=Ze(this.asyncValidator(this));this._asyncValidationSubscription=U.subscribe(ue=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ue,{emitEvent:Q})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(Q,U={}){this.errors=Q,this._updateControlsErrors(!1!==U.emitEvent)}get(Q){let U=Q;return null==U||(Array.isArray(U)||(U=U.split(".")),0===U.length)?null:U.reduce((ue,Oe)=>ue&&ue._find(Oe),this)}getError(Q,U){const ue=U?this.get(U):this;return ue&&ue.errors?ue.errors[Q]:null}hasError(Q,U){return!!this.getError(Q,U)}get root(){let Q=this;for(;Q._parent;)Q=Q._parent;return Q}_updateControlsErrors(Q){this.status=this._calculateStatus(),Q&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(Q)}_initObservables(){this.valueChanges=new b.vpe,this.statusChanges=new b.vpe}_calculateStatus(){return this._allControlsDisabled()?qn:this.errors?zt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Kt)?Kt:this._anyControlsHaveStatus(zt)?zt:At}_anyControlsHaveStatus(Q){return this._anyControls(U=>U.status===Q)}_anyControlsDirty(){return this._anyControls(Q=>Q.dirty)}_anyControlsTouched(){return this._anyControls(Q=>Q.touched)}_updatePristine(Q={}){this.pristine=!this._anyControlsDirty(),this._parent&&!Q.onlySelf&&this._parent._updatePristine(Q)}_updateTouched(Q={}){this.touched=this._anyControlsTouched(),this._parent&&!Q.onlySelf&&this._parent._updateTouched(Q)}_registerOnCollectionChange(Q){this._onCollectionChange=Q}_setUpdateStrategy(Q){z(Q)&&null!=Q.updateOn&&(this._updateOn=Q.updateOn)}_parentMarkedDirty(Q){return!Q&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(Q){return null}_assignValidators(Q){this._rawValidators=Array.isArray(Q)?Q.slice():Q,this._composedValidatorFn=function B(Z){return Array.isArray(Z)?Qt(Z):Z||null}(this._rawValidators)}_assignAsyncValidators(Q){this._rawAsyncValidators=Array.isArray(Q)?Q.slice():Q,this._composedAsyncValidatorFn=function q(Z){return Array.isArray(Z)?Bt(Z):Z||null}(this._rawAsyncValidators)}}class dn extends Dt{constructor(Q,U,ue){super(J(U),j(ue,U)),this.controls=Q,this._initObservables(),this._setUpdateStrategy(U),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(Q,U){return this.controls[Q]?this.controls[Q]:(this.controls[Q]=U,U.setParent(this),U._registerOnCollectionChange(this._onCollectionChange),U)}addControl(Q,U,ue={}){this.registerControl(Q,U),this.updateValueAndValidity({emitEvent:ue.emitEvent}),this._onCollectionChange()}removeControl(Q,U={}){this.controls[Q]&&this.controls[Q]._registerOnCollectionChange(()=>{}),delete this.controls[Q],this.updateValueAndValidity({emitEvent:U.emitEvent}),this._onCollectionChange()}setControl(Q,U,ue={}){this.controls[Q]&&this.controls[Q]._registerOnCollectionChange(()=>{}),delete this.controls[Q],U&&this.registerControl(Q,U),this.updateValueAndValidity({emitEvent:ue.emitEvent}),this._onCollectionChange()}contains(Q){return this.controls.hasOwnProperty(Q)&&this.controls[Q].enabled}setValue(Q,U={}){Je(this,0,Q),Object.keys(Q).forEach(ue=>{Te(this,!0,ue),this.controls[ue].setValue(Q[ue],{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U)}patchValue(Q,U={}){null!=Q&&(Object.keys(Q).forEach(ue=>{const Oe=this.controls[ue];Oe&&Oe.patchValue(Q[ue],{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U))}reset(Q={},U={}){this._forEachChild((ue,Oe)=>{ue.reset(Q?Q[Oe]:null,{onlySelf:!0,emitEvent:U.emitEvent})}),this._updatePristine(U),this._updateTouched(U),this.updateValueAndValidity(U)}getRawValue(){return this._reduceChildren({},(Q,U,ue)=>(Q[ue]=U.getRawValue(),Q))}_syncPendingControls(){let Q=this._reduceChildren(!1,(U,ue)=>!!ue._syncPendingControls()||U);return Q&&this.updateValueAndValidity({onlySelf:!0}),Q}_forEachChild(Q){Object.keys(this.controls).forEach(U=>{const ue=this.controls[U];ue&&Q(ue,U)})}_setUpControls(){this._forEachChild(Q=>{Q.setParent(this),Q._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(Q){for(const[U,ue]of Object.entries(this.controls))if(this.contains(U)&&Q(ue))return!0;return!1}_reduceValue(){return this._reduceChildren({},(U,ue,Oe)=>((ue.enabled||this.disabled)&&(U[Oe]=ue.value),U))}_reduceChildren(Q,U){let ue=Q;return this._forEachChild((Oe,rn)=>{ue=U(ue,Oe,rn)}),ue}_allControlsDisabled(){for(const Q of Object.keys(this.controls))if(this.controls[Q].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(Q){return this.controls.hasOwnProperty(Q)?this.controls[Q]:null}}class Yt extends dn{}const Kr=new b.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>nr}),nr="always";function fs(Z,Q){return[...Q.path,Z]}function Bo(Z,Q,U=nr){Ls(Z,Q),Q.valueAccessor.writeValue(Z.value),(Z.disabled||"always"===U)&&Q.valueAccessor.setDisabledState?.(Z.disabled),function po(Z,Q){Q.valueAccessor.registerOnChange(U=>{Z._pendingValue=U,Z._pendingChange=!0,Z._pendingDirty=!0,"change"===Z.updateOn&&Hi(Z,Q)})}(Z,Q),function ir(Z,Q){const U=(ue,Oe)=>{Q.valueAccessor.writeValue(ue),Oe&&Q.viewToModelUpdate(ue)};Z.registerOnChange(U),Q._registerOnDestroy(()=>{Z._unregisterOnChange(U)})}(Z,Q),function Vi(Z,Q){Q.valueAccessor.registerOnTouched(()=>{Z._pendingTouched=!0,"blur"===Z.updateOn&&Z._pendingChange&&Hi(Z,Q),"submit"!==Z.updateOn&&Z.markAsTouched()})}(Z,Q),function Ha(Z,Q){if(Q.valueAccessor.setDisabledState){const U=ue=>{Q.valueAccessor.setDisabledState(ue)};Z.registerOnDisabledChange(U),Q._registerOnDestroy(()=>{Z._unregisterOnDisabledChange(U)})}}(Z,Q)}function ss(Z,Q,U=!0){const ue=()=>{};Q.valueAccessor&&(Q.valueAccessor.registerOnChange(ue),Q.valueAccessor.registerOnTouched(ue)),Bi(Z,Q),Z&&(Q._invokeOnDestroyCallbacks(),Z._registerOnCollectionChange(()=>{}))}function os(Z,Q){Z.forEach(U=>{U.registerOnValidatorChange&&U.registerOnValidatorChange(Q)})}function Ls(Z,Q){const U=In(Z);null!==Q.validator?Z.setValidators(ft(U,Q.validator)):"function"==typeof U&&Z.setValidators([U]);const ue=Jn(Z);null!==Q.asyncValidator?Z.setAsyncValidators(ft(ue,Q.asyncValidator)):"function"==typeof ue&&Z.setAsyncValidators([ue]);const Oe=()=>Z.updateValueAndValidity();os(Q._rawValidators,Oe),os(Q._rawAsyncValidators,Oe)}function Bi(Z,Q){let U=!1;if(null!==Z){if(null!==Q.validator){const Oe=In(Z);if(Array.isArray(Oe)&&Oe.length>0){const rn=Oe.filter(Vn=>Vn!==Q.validator);rn.length!==Oe.length&&(U=!0,Z.setValidators(rn))}}if(null!==Q.asyncValidator){const Oe=Jn(Z);if(Array.isArray(Oe)&&Oe.length>0){const rn=Oe.filter(Vn=>Vn!==Q.asyncValidator);rn.length!==Oe.length&&(U=!0,Z.setAsyncValidators(rn))}}}const ue=()=>{};return os(Q._rawValidators,ue),os(Q._rawAsyncValidators,ue),U}function Hi(Z,Q){Z._pendingDirty&&Z.markAsDirty(),Z.setValue(Z._pendingValue,{emitModelToViewChange:!1}),Q.viewToModelUpdate(Z._pendingValue),Z._pendingChange=!1}function Vs(Z,Q){const U=Z.indexOf(Q);U>-1&&Z.splice(U,1)}function va(Z){return"object"==typeof Z&&null!==Z&&2===Object.keys(Z).length&&"value"in Z&&"disabled"in Z}const $r=class extends Dt{constructor(Q=null,U,ue){super(J(U),j(ue,U)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(Q),this._setUpdateStrategy(U),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),z(U)&&(U.nonNullable||U.initialValueIsDefault)&&(this.defaultValue=va(Q)?Q.value:Q)}setValue(Q,U={}){this.value=this._pendingValue=Q,this._onChange.length&&!1!==U.emitModelToViewChange&&this._onChange.forEach(ue=>ue(this.value,!1!==U.emitViewToModelChange)),this.updateValueAndValidity(U)}patchValue(Q,U={}){this.setValue(Q,U)}reset(Q=this.defaultValue,U={}){this._applyFormState(Q),this.markAsPristine(U),this.markAsUntouched(U),this.setValue(this.value,U),this._pendingChange=!1}_updateValue(){}_anyControls(Q){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(Q){this._onChange.push(Q)}_unregisterOnChange(Q){Vs(this._onChange,Q)}registerOnDisabledChange(Q){this._onDisabledChange.push(Q)}_unregisterOnDisabledChange(Q){Vs(this._onDisabledChange,Q)}_forEachChild(Q){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(Q){va(Q)?(this.value=this._pendingValue=Q.value,Q.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=Q}};let ea=(()=>{class Z extends bt{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return fs(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=function(){let U;return function(Oe){return(U||(U=b.n5z(Z)))(Oe||Z)}}();static#t=this.\u0275dir=b.lG2({type:Z,features:[b.qOj]})}return Z})(),ta=(()=>{class Z{static#e=this.\u0275fac=function(ue){return new(ue||Z)};static#t=this.\u0275dir=b.lG2({type:Z,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return Z})();const na={provide:qe,useExisting:(0,b.Gpc)(()=>ro),multi:!0};let ro=(()=>{class Z extends Me{writeValue(U){this.setProperty("value",U??"")}registerOnChange(U){this.onChange=ue=>{U(""==ue?null:parseFloat(ue))}}static#e=this.\u0275fac=function(){let U;return function(Oe){return(U||(U=b.n5z(Z)))(Oe||Z)}}();static#t=this.\u0275dir=b.lG2({type:Z,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(ue,Oe){1&ue&&b.NdJ("input",function(Vn){return Oe.onChange(Vn.target.value)})("blur",function(){return Oe.onTouched()})},features:[b._Bn([na]),b.qOj]})}return Z})(),Ga=(()=>{class Z{static#e=this.\u0275fac=function(ue){return new(ue||Z)};static#t=this.\u0275mod=b.oAB({type:Z});static#n=this.\u0275inj=b.cJS({})}return Z})();const gs=new b.OlP("NgModelWithFormControlWarning"),$a={provide:bt,useExisting:(0,b.Gpc)(()=>fi)};let fi=(()=>{class Z extends bt{constructor(U,ue,Oe){super(),this.callSetDisabledState=Oe,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new b.vpe,this._setValidators(U),this._setAsyncValidators(ue)}ngOnChanges(U){this._checkFormPresent(),U.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Bi(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(U){const ue=this.form.get(U.path);return Bo(ue,U,this.callSetDisabledState),ue.updateValueAndValidity({emitEvent:!1}),this.directives.push(U),ue}getControl(U){return this.form.get(U.path)}removeControl(U){ss(U.control||null,U,!1),function _a(Z,Q){const U=Z.indexOf(Q);U>-1&&Z.splice(U,1)}(this.directives,U)}addFormGroup(U){this._setUpFormContainer(U)}removeFormGroup(U){this._cleanUpFormContainer(U)}getFormGroup(U){return this.form.get(U.path)}addFormArray(U){this._setUpFormContainer(U)}removeFormArray(U){this._cleanUpFormContainer(U)}getFormArray(U){return this.form.get(U.path)}updateModel(U,ue){this.form.get(U.path).setValue(ue)}onSubmit(U){return this.submitted=!0,function Qo(Z,Q){Z._syncPendingControls(),Q.forEach(U=>{const ue=U.control;"submit"===ue.updateOn&&ue._pendingChange&&(U.viewToModelUpdate(ue._pendingValue),ue._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(U),"dialog"===U?.target?.method}onReset(){this.resetForm()}resetForm(U=void 0){this.form.reset(U),this.submitted=!1}_updateDomValue(){this.directives.forEach(U=>{const ue=U.control,Oe=this.form.get(U.path);ue!==Oe&&(ss(ue||null,U),(Z=>Z instanceof $r)(Oe)&&(Bo(Oe,U,this.callSetDisabledState),U.control=Oe))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(U){const ue=this.form.get(U.path);(function go(Z,Q){Ls(Z,Q)})(ue,U),ue.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(U){if(this.form){const ue=this.form.get(U.path);ue&&function Yo(Z,Q){return Bi(Z,Q)}(ue,U)&&ue.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ls(this.form,this),this._oldForm&&Bi(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(ue){return new(ue||Z)(b.Y36(ze,10),b.Y36(Ae,10),b.Y36(Kr,8))};static#t=this.\u0275dir=b.lG2({type:Z,selectors:[["","formGroup",""]],hostBindings:function(ue,Oe){1&ue&&b.NdJ("submit",function(Vn){return Oe.onSubmit(Vn)})("reset",function(){return Oe.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[b._Bn([$a]),b.qOj,b.TTD]})}return Z})();const Cc={provide:bt,useExisting:(0,b.Gpc)(()=>Ji)};let Ji=(()=>{class Z extends ea{constructor(U,ue,Oe){super(),this.name=null,this._parent=U,this._setValidators(ue),this._setAsyncValidators(Oe)}_checkParentType(){Pn(this._parent)}static#e=this.\u0275fac=function(ue){return new(ue||Z)(b.Y36(bt,13),b.Y36(ze,10),b.Y36(Ae,10))};static#t=this.\u0275dir=b.lG2({type:Z,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[b._Bn([Cc]),b.qOj]})}return Z})();const pr={provide:bt,useExisting:(0,b.Gpc)(()=>jt)};let jt=(()=>{class Z extends bt{constructor(U,ue,Oe){super(),this.name=null,this._parent=U,this._setValidators(ue),this._setAsyncValidators(Oe)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return fs(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Pn(this._parent)}static#e=this.\u0275fac=function(ue){return new(ue||Z)(b.Y36(bt,13),b.Y36(ze,10),b.Y36(Ae,10))};static#t=this.\u0275dir=b.lG2({type:Z,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[b._Bn([pr]),b.qOj]})}return Z})();function Pn(Z){return!(Z instanceof Ji||Z instanceof fi||Z instanceof jt)}const Ur={provide:kt,useExisting:(0,b.Gpc)(()=>pi)};let pi=(()=>{class Z extends kt{set isDisabled(U){}static#e=this._ngModelWarningSentOnce=!1;constructor(U,ue,Oe,rn,Vn){super(),this._ngModelWarningConfig=Vn,this._added=!1,this.name=null,this.update=new b.vpe,this._ngModelWarningSent=!1,this._parent=U,this._setValidators(ue),this._setAsyncValidators(Oe),this.valueAccessor=function mo(Z,Q){if(!Q)return null;let U,ue,Oe;return Array.isArray(Q),Q.forEach(rn=>{rn.constructor===st?U=rn:function _i(Z){return Object.getPrototypeOf(Z.constructor)===Me}(rn)?ue=rn:Oe=rn}),Oe||ue||U||null}(0,rn)}ngOnChanges(U){this._added||this._setUpControl(),function Us(Z,Q){if(!Z.hasOwnProperty("model"))return!1;const U=Z.model;return!!U.isFirstChange()||!Object.is(Q,U.currentValue)}(U,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(U){this.viewModel=U,this.update.emit(U)}get path(){return fs(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(ue){return new(ue||Z)(b.Y36(bt,13),b.Y36(ze,10),b.Y36(Ae,10),b.Y36(qe,10),b.Y36(gs,8))};static#n=this.\u0275dir=b.lG2({type:Z,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[b._Bn([Ur]),b.qOj,b.TTD]})}return Z})();const io={provide:qe,useExisting:(0,b.Gpc)(()=>xn),multi:!0};function Jr(Z,Q){return null==Z?`${Q}`:(Q&&"object"==typeof Q&&(Q="Object"),`${Z}: ${Q}`.slice(0,50))}let xn=(()=>{class Z extends Me{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(U){this._compareWith=U}writeValue(U){this.value=U;const Oe=Jr(this._getOptionId(U),U);this.setProperty("value",Oe)}registerOnChange(U){this.onChange=ue=>{this.value=this._getOptionValue(ue),U(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(U){for(const ue of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ue),U))return ue;return null}_getOptionValue(U){const ue=function Gi(Z){return Z.split(":")[0]}(U);return this._optionMap.has(ue)?this._optionMap.get(ue):U}static#e=this.\u0275fac=function(){let U;return function(Oe){return(U||(U=b.n5z(Z)))(Oe||Z)}}();static#t=this.\u0275dir=b.lG2({type:Z,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(ue,Oe){1&ue&&b.NdJ("change",function(Vn){return Oe.onChange(Vn.target.value)})("blur",function(){return Oe.onTouched()})},inputs:{compareWith:"compareWith"},features:[b._Bn([io]),b.qOj]})}return Z})(),kr=(()=>{class Z{constructor(U,ue,Oe){this._element=U,this._renderer=ue,this._select=Oe,this._select&&(this.id=this._select._registerOption())}set ngValue(U){null!=this._select&&(this._select._optionMap.set(this.id,U),this._setElementValue(Jr(this.id,U)),this._select.writeValue(this._select.value))}set value(U){this._setElementValue(U),this._select&&this._select.writeValue(this._select.value)}_setElementValue(U){this._renderer.setProperty(this._element.nativeElement,"value",U)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(ue){return new(ue||Z)(b.Y36(b.SBq),b.Y36(b.Qsj),b.Y36(xn,9))};static#t=this.\u0275dir=b.lG2({type:Z,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return Z})();const Xr={provide:qe,useExisting:(0,b.Gpc)(()=>bo),multi:!0};function Ln(Z,Q){return null==Z?`${Q}`:("string"==typeof Q&&(Q=`'${Q}'`),Q&&"object"==typeof Q&&(Q="Object"),`${Z}: ${Q}`.slice(0,50))}let bo=(()=>{class Z extends Me{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(U){this._compareWith=U}writeValue(U){let ue;if(this.value=U,Array.isArray(U)){const Oe=U.map(rn=>this._getOptionId(rn));ue=(rn,Vn)=>{rn._setSelected(Oe.indexOf(Vn.toString())>-1)}}else ue=(Oe,rn)=>{Oe._setSelected(!1)};this._optionMap.forEach(ue)}registerOnChange(U){this.onChange=ue=>{const Oe=[],rn=ue.selectedOptions;if(void 0!==rn){const Vn=rn;for(let $i=0;$i<Vn.length;$i++){const zi=this._getOptionValue(Vn[$i].value);Oe.push(zi)}}else{const Vn=ue.options;for(let $i=0;$i<Vn.length;$i++){const Os=Vn[$i];if(Os.selected){const zi=this._getOptionValue(Os.value);Oe.push(zi)}}}this.value=Oe,U(Oe)}}_registerOption(U){const ue=(this._idCounter++).toString();return this._optionMap.set(ue,U),ue}_getOptionId(U){for(const ue of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ue)._value,U))return ue;return null}_getOptionValue(U){const ue=function vo(Z){return Z.split(":")[0]}(U);return this._optionMap.has(ue)?this._optionMap.get(ue)._value:U}static#e=this.\u0275fac=function(){let U;return function(Oe){return(U||(U=b.n5z(Z)))(Oe||Z)}}();static#t=this.\u0275dir=b.lG2({type:Z,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(ue,Oe){1&ue&&b.NdJ("change",function(Vn){return Oe.onChange(Vn.target)})("blur",function(){return Oe.onTouched()})},inputs:{compareWith:"compareWith"},features:[b._Bn([Xr]),b.qOj]})}return Z})(),Fr=(()=>{class Z{constructor(U,ue,Oe){this._element=U,this._renderer=ue,this._select=Oe,this._select&&(this.id=this._select._registerOption(this))}set ngValue(U){null!=this._select&&(this._value=U,this._setElementValue(Ln(this.id,U)),this._select.writeValue(this._select.value))}set value(U){this._select?(this._value=U,this._setElementValue(Ln(this.id,U)),this._select.writeValue(this._select.value)):this._setElementValue(U)}_setElementValue(U){this._renderer.setProperty(this._element.nativeElement,"value",U)}_setSelected(U){this._renderer.setProperty(this._element.nativeElement,"selected",U)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(ue){return new(ue||Z)(b.Y36(b.SBq),b.Y36(b.Qsj),b.Y36(bo,9))};static#t=this.\u0275dir=b.lG2({type:Z,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return Z})();let ri=(()=>{class Z{constructor(){this._validator=Ue}ngOnChanges(U){if(this.inputName in U){const ue=this.normalizeInput(U[this.inputName].currentValue);this._enabled=this.enabled(ue),this._validator=this._enabled?this.createValidator(ue):Ue,this._onChange&&this._onChange()}}validate(U){return this._validator(U)}registerOnValidatorChange(U){this._onChange=U}enabled(U){return null!=U}static#e=this.\u0275fac=function(ue){return new(ue||Z)};static#t=this.\u0275dir=b.lG2({type:Z,features:[b.TTD]})}return Z})();const js={provide:ze,useExisting:(0,b.Gpc)(()=>Gn),multi:!0};let Gn=(()=>{class Z extends ri{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=b.VuI,this.createValidator=U=>dt}enabled(U){return U}static#e=this.\u0275fac=function(){let U;return function(Oe){return(U||(U=b.n5z(Z)))(Oe||Z)}}();static#t=this.\u0275dir=b.lG2({type:Z,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(ue,Oe){2&ue&&b.uIk("required",Oe._enabled?"":null)},inputs:{required:"required"},features:[b._Bn([js]),b.qOj]})}return Z})();const Br={provide:ze,useExisting:(0,b.Gpc)(()=>oo),multi:!0};let oo=(()=>{class Z extends ri{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=U=>function Qi(Z){return"number"==typeof Z?Z:parseInt(Z,10)}(U),this.createValidator=U=>On(U)}static#e=this.\u0275fac=function(){let U;return function(Oe){return(U||(U=b.n5z(Z)))(Oe||Z)}}();static#t=this.\u0275dir=b.lG2({type:Z,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(ue,Oe){2&ue&&b.uIk("minlength",Oe._enabled?Oe.minlength:null)},inputs:{minlength:"minlength"},features:[b._Bn([Br]),b.qOj]})}return Z})(),Eo=(()=>{class Z{static#e=this.\u0275fac=function(ue){return new(ue||Z)};static#t=this.\u0275mod=b.oAB({type:Z});static#n=this.\u0275inj=b.cJS({imports:[Ga]})}return Z})();class zs extends Dt{constructor(Q,U,ue){super(J(U),j(ue,U)),this.controls=Q,this._initObservables(),this._setUpdateStrategy(U),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(Q){return this.controls[this._adjustIndex(Q)]}push(Q,U={}){this.controls.push(Q),this._registerControl(Q),this.updateValueAndValidity({emitEvent:U.emitEvent}),this._onCollectionChange()}insert(Q,U,ue={}){this.controls.splice(Q,0,U),this._registerControl(U),this.updateValueAndValidity({emitEvent:ue.emitEvent})}removeAt(Q,U={}){let ue=this._adjustIndex(Q);ue<0&&(ue=0),this.controls[ue]&&this.controls[ue]._registerOnCollectionChange(()=>{}),this.controls.splice(ue,1),this.updateValueAndValidity({emitEvent:U.emitEvent})}setControl(Q,U,ue={}){let Oe=this._adjustIndex(Q);Oe<0&&(Oe=0),this.controls[Oe]&&this.controls[Oe]._registerOnCollectionChange(()=>{}),this.controls.splice(Oe,1),U&&(this.controls.splice(Oe,0,U),this._registerControl(U)),this.updateValueAndValidity({emitEvent:ue.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(Q,U={}){Je(this,0,Q),Q.forEach((ue,Oe)=>{Te(this,!1,Oe),this.at(Oe).setValue(ue,{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U)}patchValue(Q,U={}){null!=Q&&(Q.forEach((ue,Oe)=>{this.at(Oe)&&this.at(Oe).patchValue(ue,{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U))}reset(Q=[],U={}){this._forEachChild((ue,Oe)=>{ue.reset(Q[Oe],{onlySelf:!0,emitEvent:U.emitEvent})}),this._updatePristine(U),this._updateTouched(U),this.updateValueAndValidity(U)}getRawValue(){return this.controls.map(Q=>Q.getRawValue())}clear(Q={}){this.controls.length<1||(this._forEachChild(U=>U._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:Q.emitEvent}))}_adjustIndex(Q){return Q<0?Q+this.length:Q}_syncPendingControls(){let Q=this.controls.reduce((U,ue)=>!!ue._syncPendingControls()||U,!1);return Q&&this.updateValueAndValidity({onlySelf:!0}),Q}_forEachChild(Q){this.controls.forEach((U,ue)=>{Q(U,ue)})}_updateValue(){this.value=this.controls.filter(Q=>Q.enabled||this.disabled).map(Q=>Q.value)}_anyControls(Q){return this.controls.some(U=>U.enabled&&Q(U))}_setUpControls(){this._forEachChild(Q=>this._registerControl(Q))}_allControlsDisabled(){for(const Q of this.controls)if(Q.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(Q){Q.setParent(this),Q._registerOnCollectionChange(this._onCollectionChange)}_find(Q){return this.at(Q)??null}}function Ws(Z){return!!Z&&(void 0!==Z.asyncValidators||void 0!==Z.validators||void 0!==Z.updateOn)}let oa=(()=>{class Z{constructor(){this.useNonNullable=!1}get nonNullable(){const U=new Z;return U.useNonNullable=!0,U}group(U,ue=null){const Oe=this._reduceControls(U);let rn={};return Ws(ue)?rn=ue:null!==ue&&(rn.validators=ue.validator,rn.asyncValidators=ue.asyncValidator),new dn(Oe,rn)}record(U,ue=null){const Oe=this._reduceControls(U);return new Yt(Oe,ue)}control(U,ue,Oe){let rn={};return this.useNonNullable?(Ws(ue)?rn=ue:(rn.validators=ue,rn.asyncValidators=Oe),new $r(U,{...rn,nonNullable:!0})):new $r(U,ue,Oe)}array(U,ue,Oe){const rn=U.map(Vn=>this._createControl(Vn));return new zs(rn,ue,Oe)}_reduceControls(U){const ue={};return Object.keys(U).forEach(Oe=>{ue[Oe]=this._createControl(U[Oe])}),ue}_createControl(U){return U instanceof $r||U instanceof Dt?U:Array.isArray(U)?this.control(U[0],U.length>1?U[1]:null,U.length>2?U[2]:null):this.control(U)}static#e=this.\u0275fac=function(ue){return new(ue||Z)};static#t=this.\u0275prov=b.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"})}return Z})(),Wa=(()=>{class Z{static withConfig(U){return{ngModule:Z,providers:[{provide:Kr,useValue:U.callSetDisabledState??nr}]}}static#e=this.\u0275fac=function(ue){return new(ue||Z)};static#t=this.\u0275mod=b.oAB({type:Z});static#n=this.\u0275inj=b.cJS({imports:[Eo]})}return Z})(),yu=(()=>{class Z{static withConfig(U){return{ngModule:Z,providers:[{provide:gs,useValue:U.warnOnNgModelWithFormControl??"always"},{provide:Kr,useValue:U.callSetDisabledState??nr}]}}static#e=this.\u0275fac=function(ue){return new(ue||Z)};static#t=this.\u0275mod=b.oAB({type:Z});static#n=this.\u0275inj=b.cJS({imports:[Eo]})}return Z})()},2614:()=>{"use strict";const Vt=":";const In=function(xe,...De){if(In.translate){const mt=In.translate(xe,De);xe=mt[0],De=mt[1]}let Xe=cr(xe[0],xe.raw[0]);for(let mt=1;mt<xe.length;mt++)Xe+=De[mt-1]+cr(xe[mt],xe.raw[mt]);return Xe},Jn=":";function cr(xe,De){return De.charAt(0)===Jn?xe.substring(function je(xe,De){for(let Xe=1,mt=1;Xe<xe.length;Xe++,mt++)if("\\"===De[mt])mt++;else if(xe[Xe]===Vt)return Xe;throw new Error(`Unterminated $localize metadata block in "${De}".`)}(xe,De)+1):xe}globalThis.$localize=In},6593:(Vt,Be,$)=>{"use strict";$.d(Be,{Dx:()=>kt,H7:()=>Yi,b2:()=>xe,q6:()=>ft,se:()=>_e});var b=$(9468),X=$(6814);class u extends X.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ye extends u{static makeCurrent(){(0,X.HT)(new ye)}onAndCancel(j,q,z){return j.addEventListener(q,z),()=>{j.removeEventListener(q,z)}}dispatchEvent(j,q){j.dispatchEvent(q)}remove(j){j.parentNode&&j.parentNode.removeChild(j)}createElement(j,q){return(q=q||this.getDefaultDocument()).createElement(j)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(j){return j.nodeType===Node.ELEMENT_NODE}isShadowRoot(j){return j instanceof DocumentFragment}getGlobalEventTarget(j,q){return"window"===q?window:"document"===q?j:"body"===q?j.body:null}getBaseHref(j){const q=function he(){return ae=ae||document.querySelector("base"),ae?ae.getAttribute("href"):null}();return null==q?null:function ke(B){Ie=Ie||document.createElement("a"),Ie.setAttribute("href",B);const j=Ie.pathname;return"/"===j.charAt(0)?j:`/${j}`}(q)}resetBaseElement(){ae=null}getUserAgent(){return window.navigator.userAgent}getCookie(j){return(0,X.Mx)(document.cookie,j)}}let Ie,ae=null,re=(()=>{class B{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(z){return new(z||B)};static#t=this.\u0275prov=b.Yz7({token:B,factory:B.\u0275fac})}return B})();const le=new b.OlP("EventManagerPlugins");let Se=(()=>{class B{constructor(q,z){this._zone=z,this._eventNameToPlugin=new Map,q.forEach(Te=>{Te.manager=this}),this._plugins=q.slice().reverse()}addEventListener(q,z,Te){return this._findPluginFor(z).addEventListener(q,z,Te)}getZone(){return this._zone}_findPluginFor(q){let z=this._eventNameToPlugin.get(q);if(z)return z;if(z=this._plugins.find(Je=>Je.supports(q)),!z)throw new b.vHH(5101,!1);return this._eventNameToPlugin.set(q,z),z}static#e=this.\u0275fac=function(z){return new(z||B)(b.LFG(le),b.LFG(b.R0b))};static#t=this.\u0275prov=b.Yz7({token:B,factory:B.\u0275fac})}return B})();class Ce{constructor(j){this._doc=j}}const Me="ng-app-id";let qe=(()=>{class B{constructor(q,z,Te,Je={}){this.doc=q,this.appId=z,this.nonce=Te,this.platformId=Je,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,X.PM)(Je),this.resetHostNodes()}addStyles(q){for(const z of q)1===this.changeUsageCount(z,1)&&this.onStyleAdded(z)}removeStyles(q){for(const z of q)this.changeUsageCount(z,-1)<=0&&this.onStyleRemoved(z)}ngOnDestroy(){const q=this.styleNodesInDOM;q&&(q.forEach(z=>z.remove()),q.clear());for(const z of this.getAllStyles())this.onStyleRemoved(z);this.resetHostNodes()}addHost(q){this.hostNodes.add(q);for(const z of this.getAllStyles())this.addStyleToHost(q,z)}removeHost(q){this.hostNodes.delete(q)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(q){for(const z of this.hostNodes)this.addStyleToHost(z,q)}onStyleRemoved(q){const z=this.styleRef;z.get(q)?.elements?.forEach(Te=>Te.remove()),z.delete(q)}collectServerRenderedStyles(){const q=this.doc.head?.querySelectorAll(`style[${Me}="${this.appId}"]`);if(q?.length){const z=new Map;return q.forEach(Te=>{null!=Te.textContent&&z.set(Te.textContent,Te)}),z}return null}changeUsageCount(q,z){const Te=this.styleRef;if(Te.has(q)){const Je=Te.get(q);return Je.usage+=z,Je.usage}return Te.set(q,{usage:z,elements:[]}),z}getStyleElement(q,z){const Te=this.styleNodesInDOM,Je=Te?.get(z);if(Je?.parentNode===q)return Te.delete(z),Je.removeAttribute(Me),Je;{const Dt=this.doc.createElement("style");return this.nonce&&Dt.setAttribute("nonce",this.nonce),Dt.textContent=z,this.platformIsServer&&Dt.setAttribute(Me,this.appId),Dt}}addStyleToHost(q,z){const Te=this.getStyleElement(q,z);q.appendChild(Te);const Je=this.styleRef,Dt=Je.get(z)?.elements;Dt?Dt.push(Te):Je.set(z,{elements:[Te],usage:1})}resetHostNodes(){const q=this.hostNodes;q.clear(),q.add(this.doc.head)}static#e=this.\u0275fac=function(z){return new(z||B)(b.LFG(X.K0),b.LFG(b.AFp),b.LFG(b.Ojb,8),b.LFG(b.Lbi))};static#t=this.\u0275prov=b.Yz7({token:B,factory:B.\u0275fac})}return B})();const It={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},xt=/%COMP%/g,rt=new b.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Ae(B,j){return j.map(q=>q.replace(xt,B))}let _e=(()=>{class B{constructor(q,z,Te,Je,Dt,dn,hn,kn=null){this.eventManager=q,this.sharedStylesHost=z,this.appId=Te,this.removeStylesOnCompDestroy=Je,this.doc=Dt,this.platformId=dn,this.ngZone=hn,this.nonce=kn,this.rendererByCompId=new Map,this.platformIsServer=(0,X.PM)(dn),this.defaultRenderer=new Le(q,Dt,hn,this.platformIsServer)}createRenderer(q,z){if(!q||!z)return this.defaultRenderer;this.platformIsServer&&z.encapsulation===b.ifc.ShadowDom&&(z={...z,encapsulation:b.ifc.Emulated});const Te=this.getOrCreateRenderer(q,z);return Te instanceof On?Te.applyToHost(q):Te instanceof _n&&Te.applyStyles(),Te}getOrCreateRenderer(q,z){const Te=this.rendererByCompId;let Je=Te.get(z.id);if(!Je){const Dt=this.doc,dn=this.ngZone,hn=this.eventManager,kn=this.sharedStylesHost,Yt=this.removeStylesOnCompDestroy,Fn=this.platformIsServer;switch(z.encapsulation){case b.ifc.Emulated:Je=new On(hn,kn,z,this.appId,Yt,Dt,dn,Fn);break;case b.ifc.ShadowDom:return new sn(hn,kn,q,z,Dt,dn,this.nonce,Fn);default:Je=new _n(hn,kn,z,Yt,Dt,dn,Fn)}Te.set(z.id,Je)}return Je}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(z){return new(z||B)(b.LFG(Se),b.LFG(qe),b.LFG(b.AFp),b.LFG(rt),b.LFG(X.K0),b.LFG(b.Lbi),b.LFG(b.R0b),b.LFG(b.Ojb))};static#t=this.\u0275prov=b.Yz7({token:B,factory:B.\u0275fac})}return B})();class Le{constructor(j,q,z,Te){this.eventManager=j,this.doc=q,this.ngZone=z,this.platformIsServer=Te,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(j,q){return q?this.doc.createElementNS(It[q]||q,j):this.doc.createElement(j)}createComment(j){return this.doc.createComment(j)}createText(j){return this.doc.createTextNode(j)}appendChild(j,q){(dt(j)?j.content:j).appendChild(q)}insertBefore(j,q,z){j&&(dt(j)?j.content:j).insertBefore(q,z)}removeChild(j,q){j&&j.removeChild(q)}selectRootElement(j,q){let z="string"==typeof j?this.doc.querySelector(j):j;if(!z)throw new b.vHH(-5104,!1);return q||(z.textContent=""),z}parentNode(j){return j.parentNode}nextSibling(j){return j.nextSibling}setAttribute(j,q,z,Te){if(Te){q=Te+":"+q;const Je=It[Te];Je?j.setAttributeNS(Je,q,z):j.setAttribute(q,z)}else j.setAttribute(q,z)}removeAttribute(j,q,z){if(z){const Te=It[z];Te?j.removeAttributeNS(Te,q):j.removeAttribute(`${z}:${q}`)}else j.removeAttribute(q)}addClass(j,q){j.classList.add(q)}removeClass(j,q){j.classList.remove(q)}setStyle(j,q,z,Te){Te&(b.JOm.DashCase|b.JOm.Important)?j.style.setProperty(q,z,Te&b.JOm.Important?"important":""):j.style[q]=z}removeStyle(j,q,z){z&b.JOm.DashCase?j.style.removeProperty(q):j.style[q]=""}setProperty(j,q,z){j[q]=z}setValue(j,q){j.nodeValue=q}listen(j,q,z){if("string"==typeof j&&!(j=(0,X.q)().getGlobalEventTarget(this.doc,j)))throw new Error(`Unsupported event target ${j} for event ${q}`);return this.eventManager.addEventListener(j,q,this.decoratePreventDefault(z))}decoratePreventDefault(j){return q=>{if("__ngUnwrap__"===q)return j;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>j(q)):j(q))&&q.preventDefault()}}}function dt(B){return"TEMPLATE"===B.tagName&&void 0!==B.content}class sn extends Le{constructor(j,q,z,Te,Je,Dt,dn,hn){super(j,Je,Dt,hn),this.sharedStylesHost=q,this.hostEl=z,this.shadowRoot=z.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const kn=Ae(Te.id,Te.styles);for(const Yt of kn){const Fn=document.createElement("style");dn&&Fn.setAttribute("nonce",dn),Fn.textContent=Yt,this.shadowRoot.appendChild(Fn)}}nodeOrShadowRoot(j){return j===this.hostEl?this.shadowRoot:j}appendChild(j,q){return super.appendChild(this.nodeOrShadowRoot(j),q)}insertBefore(j,q,z){return super.insertBefore(this.nodeOrShadowRoot(j),q,z)}removeChild(j,q){return super.removeChild(this.nodeOrShadowRoot(j),q)}parentNode(j){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(j)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class _n extends Le{constructor(j,q,z,Te,Je,Dt,dn,hn){super(j,Je,Dt,dn),this.sharedStylesHost=q,this.removeStylesOnCompDestroy=Te,this.styles=hn?Ae(hn,z.styles):z.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class On extends _n{constructor(j,q,z,Te,Je,Dt,dn,hn){const kn=Te+"-"+z.id;super(j,q,z,Je,Dt,dn,hn,kn),this.contentAttr=function yt(B){return"_ngcontent-%COMP%".replace(xt,B)}(kn),this.hostAttr=function ze(B){return"_nghost-%COMP%".replace(xt,B)}(kn)}applyToHost(j){this.applyStyles(),this.setAttribute(j,this.hostAttr,"")}createElement(j,q){const z=super.createElement(j,q);return super.setAttribute(z,this.contentAttr,""),z}}let Yn=(()=>{class B extends Ce{constructor(q){super(q)}supports(q){return!0}addEventListener(q,z,Te){return q.addEventListener(z,Te,!1),()=>this.removeEventListener(q,z,Te)}removeEventListener(q,z,Te){return q.removeEventListener(z,Te)}static#e=this.\u0275fac=function(z){return new(z||B)(b.LFG(X.K0))};static#t=this.\u0275prov=b.Yz7({token:B,factory:B.\u0275fac})}return B})();const tr=["alt","control","meta","shift"],Ue={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},je={alt:B=>B.altKey,control:B=>B.ctrlKey,meta:B=>B.metaKey,shift:B=>B.shiftKey};let Ze=(()=>{class B extends Ce{constructor(q){super(q)}supports(q){return null!=B.parseEventName(q)}addEventListener(q,z,Te){const Je=B.parseEventName(z),Dt=B.eventCallback(Je.fullKey,Te,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,X.q)().onAndCancel(q,Je.domEventName,Dt))}static parseEventName(q){const z=q.toLowerCase().split("."),Te=z.shift();if(0===z.length||"keydown"!==Te&&"keyup"!==Te)return null;const Je=B._normalizeKey(z.pop());let Dt="",dn=z.indexOf("code");if(dn>-1&&(z.splice(dn,1),Dt="code."),tr.forEach(kn=>{const Yt=z.indexOf(kn);Yt>-1&&(z.splice(Yt,1),Dt+=kn+".")}),Dt+=Je,0!=z.length||0===Je.length)return null;const hn={};return hn.domEventName=Te,hn.fullKey=Dt,hn}static matchEventFullKeyCode(q,z){let Te=Ue[q.key]||q.key,Je="";return z.indexOf("code.")>-1&&(Te=q.code,Je="code."),!(null==Te||!Te)&&(Te=Te.toLowerCase()," "===Te?Te="space":"."===Te&&(Te="dot"),tr.forEach(Dt=>{Dt!==Te&&(0,je[Dt])(q)&&(Je+=Dt+".")}),Je+=Te,Je===z)}static eventCallback(q,z,Te){return Je=>{B.matchEventFullKeyCode(Je,q)&&Te.runGuarded(()=>z(Je))}}static _normalizeKey(q){return"esc"===q?"escape":q}static#e=this.\u0275fac=function(z){return new(z||B)(b.LFG(X.K0))};static#t=this.\u0275prov=b.Yz7({token:B,factory:B.\u0275fac})}return B})();const ft=(0,b.eFA)(b._c5,"browser",[{provide:b.Lbi,useValue:X.bD},{provide:b.g9A,useValue:function Lt(){ye.makeCurrent()},multi:!0},{provide:X.K0,useFactory:function tn(){return(0,b.RDi)(document),document},deps:[]}]),In=new b.OlP(""),Jn=[{provide:b.rWj,useClass:class Ee{addToWindow(j){b.dqk.getAngularTestability=(z,Te=!0)=>{const Je=j.findTestabilityInTree(z,Te);if(null==Je)throw new b.vHH(5103,!1);return Je},b.dqk.getAllAngularTestabilities=()=>j.getAllTestabilities(),b.dqk.getAllAngularRootElements=()=>j.getAllRootElements(),b.dqk.frameworkStabilizers||(b.dqk.frameworkStabilizers=[]),b.dqk.frameworkStabilizers.push(z=>{const Te=b.dqk.getAllAngularTestabilities();let Je=Te.length,Dt=!1;const dn=function(hn){Dt=Dt||hn,Je--,0==Je&&z(Dt)};Te.forEach(hn=>{hn.whenStable(dn)})})}findTestabilityInTree(j,q,z){return null==q?null:j.getTestability(q)??(z?(0,X.q)().isShadowRoot(q)?this.findTestabilityInTree(j,q.host,!0):this.findTestabilityInTree(j,q.parentElement,!0):null)}},deps:[]},{provide:b.lri,useClass:b.dDg,deps:[b.R0b,b.eoX,b.rWj]},{provide:b.dDg,useClass:b.dDg,deps:[b.R0b,b.eoX,b.rWj]}],cr=[{provide:b.zSh,useValue:"root"},{provide:b.qLn,useFactory:function Qt(){return new b.qLn},deps:[]},{provide:le,useClass:Yn,multi:!0,deps:[X.K0,b.R0b,b.Lbi]},{provide:le,useClass:Ze,multi:!0,deps:[X.K0]},_e,qe,Se,{provide:b.FYo,useExisting:_e},{provide:X.JF,useClass:re,deps:[]},[]];let xe=(()=>{class B{constructor(q){}static withServerTransition(q){return{ngModule:B,providers:[{provide:b.AFp,useValue:q.appId}]}}static#e=this.\u0275fac=function(z){return new(z||B)(b.LFG(In,12))};static#t=this.\u0275mod=b.oAB({type:B});static#n=this.\u0275inj=b.cJS({providers:[...cr,...Jn],imports:[X.ez,b.hGG]})}return B})(),kt=(()=>{class B{constructor(q){this._doc=q}getTitle(){return this._doc.title}setTitle(q){this._doc.title=q||""}static#e=this.\u0275fac=function(z){return new(z||B)(b.LFG(X.K0))};static#t=this.\u0275prov=b.Yz7({token:B,factory:function(z){let Te=null;return Te=z?new z:function bt(){return new kt((0,b.LFG)(X.K0))}(),Te},providedIn:"root"})}return B})();typeof window<"u"&&window;let Yi=(()=>{class B{static#e=this.\u0275fac=function(z){return new(z||B)};static#t=this.\u0275prov=b.Yz7({token:B,factory:function(z){let Te=null;return Te=z?new(z||B):b.LFG(Gr),Te},providedIn:"root"})}return B})(),Gr=(()=>{class B extends Yi{constructor(q){super(),this._doc=q}sanitize(q,z){if(null==z)return null;switch(q){case b.q3G.NONE:return z;case b.q3G.HTML:return(0,b.qzn)(z,"HTML")?(0,b.z3N)(z):(0,b.EiD)(this._doc,String(z)).toString();case b.q3G.STYLE:return(0,b.qzn)(z,"Style")?(0,b.z3N)(z):z;case b.q3G.SCRIPT:if((0,b.qzn)(z,"Script"))return(0,b.z3N)(z);throw new b.vHH(5200,!1);case b.q3G.URL:return(0,b.qzn)(z,"URL")?(0,b.z3N)(z):(0,b.mCW)(String(z));case b.q3G.RESOURCE_URL:if((0,b.qzn)(z,"ResourceURL"))return(0,b.z3N)(z);throw new b.vHH(5201,!1);default:throw new b.vHH(5202,!1)}}bypassSecurityTrustHtml(q){return(0,b.JVY)(q)}bypassSecurityTrustStyle(q){return(0,b.L6k)(q)}bypassSecurityTrustScript(q){return(0,b.eBb)(q)}bypassSecurityTrustUrl(q){return(0,b.LAX)(q)}bypassSecurityTrustResourceUrl(q){return(0,b.pB0)(q)}static#e=this.\u0275fac=function(z){return new(z||B)(b.LFG(X.K0))};static#t=this.\u0275prov=b.Yz7({token:B,factory:function(z){let Te=null;return Te=z?new z:function Zr(B){return new Gr(B.get(X.K0))}(b.LFG(b.zs3)),Te},providedIn:"root"})}return B})()},7158:(Vt,Be,$)=>{"use strict";$.d(Be,{gz:()=>Ji,m2:()=>$r,F0:()=>si,rH:()=>Sa,Bz:()=>Oo,lC:()=>xn});var b=$(9468),X=$(5592),u=$(4674),ae=$(2459),he=$(2096),Ie=$(5619),ke=$(7453),Ee=$(2737),re=$(7400),le=$(9940),Se=$(2714),Ce=$(8251),Me=$(7103);function qe(...S){const R=(0,le.yG)(S),D=(0,le.jO)(S),{args:k,keys:G}=(0,ke.D)(S);if(0===k.length)return(0,ae.D)([],R);const ce=new X.y(function It(S,R,D=Ee.y){return k=>{xt(R,()=>{const{length:G}=S,ce=new Array(G);let ve=G,Qe=G;for(let Ye=0;Ye<G;Ye++)xt(R,()=>{const $t=(0,ae.D)(S[Ye],R);let Xn=!1;$t.subscribe((0,Ce.x)(k,Vr=>{ce[Ye]=Vr,Xn||(Xn=!0,Qe--),Qe||k.next(D(ce.slice()))},()=>{--ve||k.complete()}))},k)},k)}}(k,R,G?ve=>(0,Se.n)(G,ve):Ee.y));return D?ce.pipe((0,re.Z)(D)):ce}function xt(S,R,D){S?(0,Me.f)(D,S,R):R()}var Ct=$(6973),cn=$(5211),Tt=$(4829);function st(S){return new X.y(R=>{(0,Tt.Xf)(S()).subscribe(R)})}var rt=$(8407);function yt(S,R){const D=(0,u.m)(S)?S:()=>S,k=G=>G.error(D());return new X.y(R?G=>R.schedule(k,0,G):k)}var ze=$(6232),Ae=$(7394),_e=$(9360);function Le(){return(0,_e.e)((S,R)=>{let D=null;S._refCount++;const k=(0,Ce.x)(R,void 0,void 0,void 0,()=>{if(!S||S._refCount<=0||0<--S._refCount)return void(D=null);const G=S._connection,ce=D;D=null,G&&(!ce||G===ce)&&G.unsubscribe(),R.unsubscribe()});S.subscribe(k),k.closed||(D=S.connect())})}class ut extends X.y{constructor(R,D){super(),this.source=R,this.subjectFactory=D,this._subject=null,this._refCount=0,this._connection=null,(0,_e.A)(R)&&(this.lift=R.lift)}_subscribe(R){return this.getSubject().subscribe(R)}getSubject(){const R=this._subject;return(!R||R.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:R}=this;this._subject=this._connection=null,R?.unsubscribe()}connect(){let R=this._connection;if(!R){R=this._connection=new Ae.w0;const D=this.getSubject();R.add(this.source.subscribe((0,Ce.x)(D,void 0,()=>{this._teardown(),D.complete()},k=>{this._teardown(),D.error(k)},()=>this._teardown()))),R.closed&&(this._connection=null,R=Ae.w0.EMPTY)}return R}refCount(){return Le()(this)}}var wn=$(8645),dt=$(6814),sn=$(7398),_n=$(4664),On=$(8180),Yn=$(7921),tr=$(2181),Ue=$(1631);function je(S){return(0,_e.e)((R,D)=>{let k=!1;R.subscribe((0,Ce.x)(D,G=>{k=!0,D.next(G)},()=>{k||D.next(S),D.complete()}))})}function Ze(S=He){return(0,_e.e)((R,D)=>{let k=!1;R.subscribe((0,Ce.x)(D,G=>{k=!0,D.next(G)},()=>k?D.complete():D.error(S())))})}function He(){return new Ct.K}function Ke(S,R){const D=arguments.length>=2;return k=>k.pipe(S?(0,tr.h)((G,ce)=>S(G,ce,k)):Ee.y,(0,On.q)(1),D?je(R):Ze(()=>new Ct.K))}function gt(S,R){return(0,u.m)(R)?(0,Ue.z)(S,R,1):(0,Ue.z)(S,1)}var St=$(9397);function Lt(S){return(0,_e.e)((R,D)=>{let ce,k=null,G=!1;k=R.subscribe((0,Ce.x)(D,void 0,void 0,ve=>{ce=(0,Tt.Xf)(S(ve,Lt(S)(R))),k?(k.unsubscribe(),k=null,ce.subscribe(D)):G=!0})),G&&(k.unsubscribe(),k=null,ce.subscribe(D))})}var Qt=$(6699);function tn(S){return S<=0?()=>ze.E:(0,_e.e)((R,D)=>{let k=[];R.subscribe((0,Ce.x)(D,G=>{k.push(G),S<k.length&&k.shift()},()=>{for(const G of k)D.next(G);D.complete()},void 0,()=>{k=null}))})}var ft=$(975);function In(S){return(0,_e.e)((R,D)=>{try{R.subscribe(D)}finally{D.add(S)}})}var Jn=$(9773),cr=$(7537),xe=$(6593);const De="primary",Xe=Symbol("RouteTitle");class mt{constructor(R){this.params=R||{}}has(R){return Object.prototype.hasOwnProperty.call(this.params,R)}get(R){if(this.has(R)){const D=this.params[R];return Array.isArray(D)?D[0]:D}return null}getAll(R){if(this.has(R)){const D=this.params[R];return Array.isArray(D)?D:[D]}return[]}get keys(){return Object.keys(this.params)}}function bt(S){return new mt(S)}function kt(S,R,D){const k=D.path.split("/");if(k.length>S.length||"full"===D.pathMatch&&(R.hasChildren()||k.length<S.length))return null;const G={};for(let ce=0;ce<k.length;ce++){const ve=k[ce],Qe=S[ce];if(ve.startsWith(":"))G[ve.substring(1)]=Qe;else if(ve!==Qe.path)return null}return{consumed:S.slice(0,k.length),posParams:G}}function yn(S,R){const D=S?Object.keys(S):void 0,k=R?Object.keys(R):void 0;if(!D||!k||D.length!=k.length)return!1;let G;for(let ce=0;ce<D.length;ce++)if(G=D[ce],!Cn(S[G],R[G]))return!1;return!0}function Cn(S,R){if(Array.isArray(S)&&Array.isArray(R)){if(S.length!==R.length)return!1;const D=[...S].sort(),k=[...R].sort();return D.every((G,ce)=>k[ce]===G)}return S===R}function Xt(S){return S.length>0?S[S.length-1]:null}function pn(S){return function ye(S){return!!S&&(S instanceof X.y||(0,u.m)(S.lift)&&(0,u.m)(S.subscribe))}(S)?S:(0,b.QGY)(S)?(0,ae.D)(Promise.resolve(S)):(0,he.of)(S)}const br={exact:function En(S,R,D){if(!Gr(S.segments,R.segments)||!Bn(S.segments,R.segments,D)||S.numberOfChildren!==R.numberOfChildren)return!1;for(const k in R.children)if(!S.children[k]||!En(S.children[k],R.children[k],D))return!1;return!0},subset:Wn},nn={exact:function Cr(S,R){return yn(S,R)},subset:function lr(S,R){return Object.keys(R).length<=Object.keys(S).length&&Object.keys(R).every(D=>Cn(S[D],R[D]))},ignored:()=>!0};function Dr(S,R,D){return br[D.paths](S.root,R.root,D.matrixParams)&&nn[D.queryParams](S.queryParams,R.queryParams)&&!("exact"===D.fragment&&S.fragment!==R.fragment)}function Wn(S,R,D){return or(S,R,R.segments,D)}function or(S,R,D,k){if(S.segments.length>D.length){const G=S.segments.slice(0,D.length);return!(!Gr(G,D)||R.hasChildren()||!Bn(G,D,k))}if(S.segments.length===D.length){if(!Gr(S.segments,D)||!Bn(S.segments,D,k))return!1;for(const G in R.children)if(!S.children[G]||!Wn(S.children[G],R.children[G],k))return!1;return!0}{const G=D.slice(0,S.segments.length),ce=D.slice(S.segments.length);return!!(Gr(S.segments,G)&&Bn(S.segments,G,k)&&S.children[De])&&or(S.children[De],R,ce,k)}}function Bn(S,R,D){return R.every((k,G)=>nn[D](S[G].parameters,k.parameters))}class ni{constructor(R=new Zt([],{}),D={},k=null){this.root=R,this.queryParams=D,this.fragment=k}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bt(this.queryParams)),this._queryParamMap}toString(){return At.serialize(this)}}class Zt{constructor(R,D){this.segments=R,this.children=D,this.parent=null,Object.values(D).forEach(k=>k.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return zt(this)}}class Yi{constructor(R,D){this.path=R,this.parameters=D}get parameterMap(){return this._parameterMap||(this._parameterMap=bt(this.parameters)),this._parameterMap}toString(){return Te(this)}}function Gr(S,R){return S.length===R.length&&S.every((D,k)=>D.path===R[k].path)}let Ne=(()=>{class S{static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275prov=b.Yz7({token:S,factory:function(){return new tt},providedIn:"root"})}return S})();class tt{parse(R){const D=new Bo(R);return new ni(D.parseRootSegment(),D.parseQueryParams(),D.parseFragment())}serialize(R){const D=`/${Kt(R.root,!0)}`,k=function Dt(S){const R=Object.keys(S).map(D=>{const k=S[D];return Array.isArray(k)?k.map(G=>`${J(D)}=${J(G)}`).join("&"):`${J(D)}=${J(k)}`}).filter(D=>!!D);return R.length?`?${R.join("&")}`:""}(R.queryParams);return`${D}${k}${"string"==typeof R.fragment?`#${function B(S){return encodeURI(S)}(R.fragment)}`:""}`}}const At=new tt;function zt(S){return S.segments.map(R=>Te(R)).join("/")}function Kt(S,R){if(!S.hasChildren())return zt(S);if(R){const D=S.children[De]?Kt(S.children[De],!1):"",k=[];return Object.entries(S.children).forEach(([G,ce])=>{G!==De&&k.push(`${G}:${Kt(ce,!1)}`)}),k.length>0?`${D}(${k.join("//")})`:D}{const D=function at(S,R){let D=[];return Object.entries(S.children).forEach(([k,G])=>{k===De&&(D=D.concat(R(G,k)))}),Object.entries(S.children).forEach(([k,G])=>{k!==De&&(D=D.concat(R(G,k)))}),D}(S,(k,G)=>G===De?[Kt(S.children[De],!1)]:[`${G}:${Kt(k,!1)}`]);return 1===Object.keys(S.children).length&&null!=S.children[De]?`${zt(S)}/${D[0]}`:`${zt(S)}/(${D.join("//")})`}}function qn(S){return encodeURIComponent(S).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function J(S){return qn(S).replace(/%3B/gi,";")}function j(S){return qn(S).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function q(S){return decodeURIComponent(S)}function z(S){return q(S.replace(/\+/g,"%20"))}function Te(S){return`${j(S.path)}${function Je(S){return Object.keys(S).map(R=>`;${j(R)}=${j(S[R])}`).join("")}(S.parameters)}`}const dn=/^[^\/()?;#]+/;function hn(S){const R=S.match(dn);return R?R[0]:""}const kn=/^[^\/()?;=#]+/,Fn=/^[^=?&#]+/,nr=/^[^&#]+/;class Bo{constructor(R){this.url=R,this.remaining=R}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Zt([],{}):new Zt([],this.parseChildren())}parseQueryParams(){const R={};if(this.consumeOptional("?"))do{this.parseQueryParam(R)}while(this.consumeOptional("&"));return R}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const R=[];for(this.peekStartsWith("(")||R.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),R.push(this.parseSegment());let D={};this.peekStartsWith("/(")&&(this.capture("/"),D=this.parseParens(!0));let k={};return this.peekStartsWith("(")&&(k=this.parseParens(!1)),(R.length>0||Object.keys(D).length>0)&&(k[De]=new Zt(R,D)),k}parseSegment(){const R=hn(this.remaining);if(""===R&&this.peekStartsWith(";"))throw new b.vHH(4009,!1);return this.capture(R),new Yi(q(R),this.parseMatrixParams())}parseMatrixParams(){const R={};for(;this.consumeOptional(";");)this.parseParam(R);return R}parseParam(R){const D=function Yt(S){const R=S.match(kn);return R?R[0]:""}(this.remaining);if(!D)return;this.capture(D);let k="";if(this.consumeOptional("=")){const G=hn(this.remaining);G&&(k=G,this.capture(k))}R[q(D)]=q(k)}parseQueryParam(R){const D=function Kr(S){const R=S.match(Fn);return R?R[0]:""}(this.remaining);if(!D)return;this.capture(D);let k="";if(this.consumeOptional("=")){const ve=function fs(S){const R=S.match(nr);return R?R[0]:""}(this.remaining);ve&&(k=ve,this.capture(k))}const G=z(D),ce=z(k);if(R.hasOwnProperty(G)){let ve=R[G];Array.isArray(ve)||(ve=[ve],R[G]=ve),ve.push(ce)}else R[G]=ce}parseParens(R){const D={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const k=hn(this.remaining),G=this.remaining[k.length];if("/"!==G&&")"!==G&&";"!==G)throw new b.vHH(4010,!1);let ce;k.indexOf(":")>-1?(ce=k.slice(0,k.indexOf(":")),this.capture(ce),this.capture(":")):R&&(ce=De);const ve=this.parseChildren();D[ce]=1===Object.keys(ve).length?ve[De]:new Zt([],ve),this.consumeOptional("//")}return D}peekStartsWith(R){return this.remaining.startsWith(R)}consumeOptional(R){return!!this.peekStartsWith(R)&&(this.remaining=this.remaining.substring(R.length),!0)}capture(R){if(!this.consumeOptional(R))throw new b.vHH(4011,!1)}}function ss(S){return S.segments.length>0?new Zt([],{[De]:S}):S}function os(S){const R={};for(const k of Object.keys(S.children)){const ce=os(S.children[k]);if(k===De&&0===ce.segments.length&&ce.hasChildren())for(const[ve,Qe]of Object.entries(ce.children))R[ve]=Qe;else(ce.segments.length>0||ce.hasChildren())&&(R[k]=ce)}return function Ha(S){if(1===S.numberOfChildren&&S.children[De]){const R=S.children[De];return new Zt(S.segments.concat(R.segments),R.children)}return S}(new Zt(S.segments,R))}function Ls(S){return S instanceof ni}function po(S){let R;const G=ss(function D(ce){const ve={};for(const Ye of ce.children){const $t=D(Ye);ve[Ye.outlet]=$t}const Qe=new Zt(ce.url,ve);return ce===S&&(R=Qe),Qe}(S.root));return R??G}function Vi(S,R,D,k){let G=S;for(;G.parent;)G=G.parent;if(0===R.length)return go(G,G,G,D,k);const ce=function ja(S){if("string"==typeof S[0]&&1===S.length&&"/"===S[0])return new Jo(!0,0,S);let R=0,D=!1;const k=S.reduce((G,ce,ve)=>{if("object"==typeof ce&&null!=ce){if(ce.outlets){const Qe={};return Object.entries(ce.outlets).forEach(([Ye,$t])=>{Qe[Ye]="string"==typeof $t?$t.split("/"):$t}),[...G,{outlets:Qe}]}if(ce.segmentPath)return[...G,ce.segmentPath]}return"string"!=typeof ce?[...G,ce]:0===ve?(ce.split("/").forEach((Qe,Ye)=>{0==Ye&&"."===Qe||(0==Ye&&""===Qe?D=!0:".."===Qe?R++:""!=Qe&&G.push(Qe))}),G):[...G,ce]},[]);return new Jo(D,R,k)}(R);if(ce.toRoot())return go(G,G,new Zt([],{}),D,k);const ve=function ma(S,R,D){if(S.isAbsolute)return new ps(R,!0,0);if(!D)return new ps(R,!1,NaN);if(null===D.parent)return new ps(D,!0,0);const k=Hi(S.commands[0])?0:1;return function Yr(S,R,D){let k=S,G=R,ce=D;for(;ce>G;){if(ce-=G,k=k.parent,!k)throw new b.vHH(4005,!1);G=k.segments.length}return new ps(k,!1,G-ce)}(D,D.segments.length-1+k,S.numberOfDoubleDots)}(ce,G,S),Qe=ve.processChildren?Qo(ve.segmentGroup,ve.index,ce.commands):_i(ve.segmentGroup,ve.index,ce.commands);return go(G,ve.segmentGroup,Qe,D,k)}function Hi(S){return"object"==typeof S&&null!=S&&!S.outlets&&!S.segmentPath}function ir(S){return"object"==typeof S&&null!=S&&S.outlets}function go(S,R,D,k,G){let ve,ce={};k&&Object.entries(k).forEach(([Ye,$t])=>{ce[Ye]=Array.isArray($t)?$t.map(Xn=>`${Xn}`):`${$t}`}),ve=S===R?D:Yo(S,R,D);const Qe=ss(os(ve));return new ni(Qe,ce,G)}function Yo(S,R,D){const k={};return Object.entries(S.children).forEach(([G,ce])=>{k[G]=ce===R?D:Yo(ce,R,D)}),new Zt(S.segments,k)}class Jo{constructor(R,D,k){if(this.isAbsolute=R,this.numberOfDoubleDots=D,this.commands=k,R&&k.length>0&&Hi(k[0]))throw new b.vHH(4003,!1);const G=k.find(ir);if(G&&G!==Xt(k))throw new b.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ps{constructor(R,D,k){this.segmentGroup=R,this.processChildren=D,this.index=k}}function _i(S,R,D){if(S||(S=new Zt([],{})),0===S.segments.length&&S.hasChildren())return Qo(S,R,D);const k=function mo(S,R,D){let k=0,G=R;const ce={match:!1,pathIndex:0,commandIndex:0};for(;G<S.segments.length;){if(k>=D.length)return ce;const ve=S.segments[G],Qe=D[k];if(ir(Qe))break;const Ye=`${Qe}`,$t=k<D.length-1?D[k+1]:null;if(G>0&&void 0===Ye)break;if(Ye&&$t&&"object"==typeof $t&&void 0===$t.outlets){if(!Bs(Ye,$t,ve))return ce;k+=2}else{if(!Bs(Ye,{},ve))return ce;k++}G++}return{match:!0,pathIndex:G,commandIndex:k}}(S,R,D),G=D.slice(k.commandIndex);if(k.match&&k.pathIndex<S.segments.length){const ce=new Zt(S.segments.slice(0,k.pathIndex),{});return ce.children[De]=new Zt(S.segments.slice(k.pathIndex),S.children),Qo(ce,0,G)}return k.match&&0===G.length?new Zt(S.segments,{}):k.match&&!S.hasChildren()?_a(S,R,D):k.match?Qo(S,0,G):_a(S,R,D)}function Qo(S,R,D){if(0===D.length)return new Zt(S.segments,{});{const k=function Us(S){return ir(S[0])?S[0].outlets:{[De]:S}}(D),G={};if(Object.keys(k).some(ce=>ce!==De)&&S.children[De]&&1===S.numberOfChildren&&0===S.children[De].segments.length){const ce=Qo(S.children[De],R,D);return new Zt(S.segments,ce.children)}return Object.entries(k).forEach(([ce,ve])=>{"string"==typeof ve&&(ve=[ve]),null!==ve&&(G[ce]=_i(S.children[ce],R,ve))}),Object.entries(S.children).forEach(([ce,ve])=>{void 0===k[ce]&&(G[ce]=ve)}),new Zt(S.segments,G)}}function _a(S,R,D){const k=S.segments.slice(0,R);let G=0;for(;G<D.length;){const ce=D[G];if(ir(ce)){const Ye=yi(ce.outlets);return new Zt(k,Ye)}if(0===G&&Hi(D[0])){k.push(new Yi(S.segments[R].path,ya(D[0]))),G++;continue}const ve=ir(ce)?ce.outlets[De]:`${ce}`,Qe=G<D.length-1?D[G+1]:null;ve&&Qe&&Hi(Qe)?(k.push(new Yi(ve,ya(Qe))),G+=2):(k.push(new Yi(ve,{})),G++)}return new Zt(k,{})}function yi(S){const R={};return Object.entries(S).forEach(([D,k])=>{"string"==typeof k&&(k=[k]),null!==k&&(R[D]=_a(new Zt([],{}),0,k))}),R}function ya(S){const R={};return Object.entries(S).forEach(([D,k])=>R[D]=`${k}`),R}function Bs(S,R,D){return S==D.path&&yn(R,D.parameters)}const _o="imperative";class Vs{constructor(R,D){this.id=R,this.url=D}}class va extends Vs{constructor(R,D,k="imperative",G=null){super(R,D),this.type=0,this.navigationTrigger=k,this.restoredState=G}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class $r extends Vs{constructor(R,D,k){super(R,D),this.urlAfterRedirects=k,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Xo extends Vs{constructor(R,D,k,G){super(R,D),this.reason=k,this.code=G,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class as extends Vs{constructor(R,D,k,G){super(R,D),this.reason=k,this.code=G,this.type=16}}class ea extends Vs{constructor(R,D,k,G){super(R,D),this.error=k,this.target=G,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ul extends Vs{constructor(R,D,k,G){super(R,D),this.urlAfterRedirects=k,this.state=G,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cs extends Vs{constructor(R,D,k,G){super(R,D),this.urlAfterRedirects=k,this.state=G,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bl extends Vs{constructor(R,D,k,G,ce){super(R,D),this.urlAfterRedirects=k,this.state=G,this.shouldActivate=ce,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ji extends Vs{constructor(R,D,k,G){super(R,D),this.urlAfterRedirects=k,this.state=G,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yo extends Vs{constructor(R,D,k,G){super(R,D),this.urlAfterRedirects=k,this.state=G,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ba{constructor(R){this.route=R,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class hi{constructor(R){this.route=R,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Cs{constructor(R){this.snapshot=R,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wa{constructor(R){this.snapshot=R,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ta{constructor(R){this.snapshot=R,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class na{constructor(R){this.snapshot=R,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ro{constructor(R,D,k){this.routerEvent=R,this.position=D,this.anchor=k,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ra{}class ia{constructor(R){this.url=R}}class Qr{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Qn,this.attachRef=null}}let Qn=(()=>{class S{constructor(){this.contexts=new Map}onChildOutletCreated(D,k){const G=this.getOrCreateContext(D);G.outlet=k,this.contexts.set(D,G)}onChildOutletDestroyed(D){const k=this.getContext(D);k&&(k.outlet=null,k.attachRef=null)}onOutletDeactivated(){const D=this.contexts;return this.contexts=new Map,D}onOutletReAttached(D){this.contexts=D}getOrCreateContext(D){let k=this.getContext(D);return k||(k=new Qr,this.contexts.set(D,k)),k}getContext(D){return this.contexts.get(D)||null}static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275prov=b.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();class ai{constructor(R){this._root=R}get root(){return this._root.value}parent(R){const D=this.pathFromRoot(R);return D.length>1?D[D.length-2]:null}children(R){const D=Ci(R,this._root);return D?D.children.map(k=>k.value):[]}firstChild(R){const D=Ci(R,this._root);return D&&D.children.length>0?D.children[0].value:null}siblings(R){const D=gs(R,this._root);return D.length<2?[]:D[D.length-2].children.map(G=>G.value).filter(G=>G!==R)}pathFromRoot(R){return gs(R,this._root).map(D=>D.value)}}function Ci(S,R){if(S===R.value)return R;for(const D of R.children){const k=Ci(S,D);if(k)return k}return null}function gs(S,R){if(S===R.value)return[R];for(const D of R.children){const k=gs(S,D);if(k.length)return k.unshift(R),k}return[]}class Pr{constructor(R,D){this.value=R,this.children=D}toString(){return`TreeNode(${this.value})`}}function Ss(S){const R={};return S&&S.children.forEach(D=>R[D.value.outlet]=D),R}class $a extends ai{constructor(R,D){super(R),this.snapshot=D,pi(this,R)}toString(){return this.snapshot.toString()}}function fi(S,R){const D=function Cc(S,R){const ve=new Pn([],{},{},"",{},De,R,null,{});return new Ur("",new Pr(ve,[]))}(0,R),k=new Ie.X([new Yi("",{})]),G=new Ie.X({}),ce=new Ie.X({}),ve=new Ie.X({}),Qe=new Ie.X(""),Ye=new Ji(k,G,ve,Qe,ce,De,R,D.root);return Ye.snapshot=D.root,new $a(new Pr(Ye,[]),D)}class Ji{constructor(R,D,k,G,ce,ve,Qe,Ye){this.urlSubject=R,this.paramsSubject=D,this.queryParamsSubject=k,this.fragmentSubject=G,this.dataSubject=ce,this.outlet=ve,this.component=Qe,this._futureSnapshot=Ye,this.title=this.dataSubject?.pipe((0,sn.U)($t=>$t[Xe]))??(0,he.of)(void 0),this.url=R,this.params=D,this.queryParams=k,this.fragment=G,this.data=ce}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,sn.U)(R=>bt(R)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,sn.U)(R=>bt(R)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function pr(S,R="emptyOnly"){const D=S.pathFromRoot;let k=0;if("always"!==R)for(k=D.length-1;k>=1;){const G=D[k],ce=D[k-1];if(G.routeConfig&&""===G.routeConfig.path)k--;else{if(ce.component)break;k--}}return function jt(S){return S.reduce((R,D)=>({params:{...R.params,...D.params},data:{...R.data,...D.data},resolve:{...D.data,...R.resolve,...D.routeConfig?.data,...D._resolvedData}}),{params:{},data:{},resolve:{}})}(D.slice(k))}class Pn{get title(){return this.data?.[Xe]}constructor(R,D,k,G,ce,ve,Qe,Ye,$t){this.url=R,this.params=D,this.queryParams=k,this.fragment=G,this.data=ce,this.outlet=ve,this.component=Qe,this.routeConfig=Ye,this._resolve=$t}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=bt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(k=>k.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ur extends ai{constructor(R,D){super(D),this.url=R,pi(this,D)}toString(){return io(this._root)}}function pi(S,R){R.value._routerState=S,R.children.forEach(D=>pi(S,D))}function io(S){const R=S.children.length>0?` { ${S.children.map(io).join(", ")} } `:"";return`${S.value}${R}`}function Jr(S){if(S.snapshot){const R=S.snapshot,D=S._futureSnapshot;S.snapshot=D,yn(R.queryParams,D.queryParams)||S.queryParamsSubject.next(D.queryParams),R.fragment!==D.fragment&&S.fragmentSubject.next(D.fragment),yn(R.params,D.params)||S.paramsSubject.next(D.params),function Ir(S,R){if(S.length!==R.length)return!1;for(let D=0;D<S.length;++D)if(!yn(S[D],R[D]))return!1;return!0}(R.url,D.url)||S.urlSubject.next(D.url),yn(R.data,D.data)||S.dataSubject.next(D.data)}else S.snapshot=S._futureSnapshot,S.dataSubject.next(S._futureSnapshot.data)}function Gi(S,R){const D=yn(S.params,R.params)&&function Zr(S,R){return Gr(S,R)&&S.every((D,k)=>yn(D.parameters,R[k].parameters))}(S.url,R.url);return D&&!(!S.parent!=!R.parent)&&(!S.parent||Gi(S.parent,R.parent))}let xn=(()=>{class S{constructor(){this.activated=null,this._activatedRoute=null,this.name=De,this.activateEvents=new b.vpe,this.deactivateEvents=new b.vpe,this.attachEvents=new b.vpe,this.detachEvents=new b.vpe,this.parentContexts=(0,b.f3M)(Qn),this.location=(0,b.f3M)(b.s_b),this.changeDetector=(0,b.f3M)(b.sBO),this.environmentInjector=(0,b.f3M)(b.lqb),this.inputBinder=(0,b.f3M)(Xr,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(D){if(D.name){const{firstChange:k,previousValue:G}=D.name;if(k)return;this.isTrackedInParentContexts(G)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(G)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(D){return this.parentContexts.getContext(D)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const D=this.parentContexts.getContext(this.name);D?.route&&(D.attachRef?this.attach(D.attachRef,D.route):this.activateWith(D.route,D.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new b.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new b.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new b.vHH(4012,!1);this.location.detach();const D=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(D.instance),D}attach(D,k){this.activated=D,this._activatedRoute=k,this.location.insert(D.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(D.instance)}deactivate(){if(this.activated){const D=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(D)}}activateWith(D,k){if(this.isActivated)throw new b.vHH(4013,!1);this._activatedRoute=D;const G=this.location,ve=D.snapshot.component,Qe=this.parentContexts.getOrCreateContext(this.name).children,Ye=new kr(D,Qe,G.injector);this.activated=G.createComponent(ve,{index:G.length,injector:Ye,environmentInjector:k??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275dir=b.lG2({type:S,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[b.TTD]})}return S})();class kr{constructor(R,D,k){this.route=R,this.childContexts=D,this.parent=k}get(R,D){return R===Ji?this.route:R===Qn?this.childContexts:this.parent.get(R,D)}}const Xr=new b.OlP("");let Ln=(()=>{class S{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(D){this.unsubscribeFromRouteData(D),this.subscribeToRouteData(D)}unsubscribeFromRouteData(D){this.outletDataSubscriptions.get(D)?.unsubscribe(),this.outletDataSubscriptions.delete(D)}subscribeToRouteData(D){const{activatedRoute:k}=D,G=qe([k.queryParams,k.params,k.data]).pipe((0,_n.w)(([ce,ve,Qe],Ye)=>(Qe={...ce,...ve,...Qe},0===Ye?(0,he.of)(Qe):Promise.resolve(Qe)))).subscribe(ce=>{if(!D.isActivated||!D.activatedComponentRef||D.activatedRoute!==k||null===k.component)return void this.unsubscribeFromRouteData(D);const ve=(0,b.qFp)(k.component);if(ve)for(const{templateName:Qe}of ve.inputs)D.activatedComponentRef.setInput(Qe,ce[Qe]);else this.unsubscribeFromRouteData(D)});this.outletDataSubscriptions.set(D,G)}static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275prov=b.Yz7({token:S,factory:S.\u0275fac})}return S})();function Vo(S,R,D){if(D&&S.shouldReuseRoute(R.value,D.value.snapshot)){const k=D.value;k._futureSnapshot=R.value;const G=function bo(S,R,D){return R.children.map(k=>{for(const G of D.children)if(S.shouldReuseRoute(k.value,G.value.snapshot))return Vo(S,k,G);return Vo(S,k)})}(S,R,D);return new Pr(k,G)}{if(S.shouldAttach(R.value)){const ce=S.retrieve(R.value);if(null!==ce){const ve=ce.route;return ve.value._futureSnapshot=R.value,ve.children=R.children.map(Qe=>Vo(S,Qe)),ve}}const k=function Fr(S){return new Ji(new Ie.X(S.url),new Ie.X(S.params),new Ie.X(S.queryParams),new Ie.X(S.fragment),new Ie.X(S.data),S.outlet,S.component,S)}(R.value),G=R.children.map(ce=>Vo(S,ce));return new Pr(k,G)}}const Qi="ngNavigationCancelingError";function so(S,R){const{redirectTo:D,navigationBehaviorOptions:k}=Ls(R)?{redirectTo:R,navigationBehaviorOptions:void 0}:R,G=ri(!1,0,R);return G.url=D,G.navigationBehaviorOptions=k,G}function ri(S,R,D){const k=new Error("NavigationCancelingError: "+(S||""));return k[Qi]=!0,k.cancellationCode=R,D&&(k.url=D),k}function Sc(S){return S&&S[Qi]}let Hs=(()=>{class S{static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275cmp=b.Xpm({type:S,selectors:[["ng-component"]],standalone:!0,features:[b.jDz],decls:1,vars:0,template:function(k,G){1&k&&b._UZ(0,"router-outlet")},dependencies:[xn],encapsulation:2})}return S})();function za(S){const R=S.children&&S.children.map(za),D=R?{...S,children:R}:{...S};return!D.component&&!D.loadComponent&&(R||D.loadChildren)&&D.outlet&&D.outlet!==De&&(D.component=Hs),D}function Si(S){return S.outlet||De}function As(S){if(!S)return null;if(S.routeConfig?._injector)return S.routeConfig._injector;for(let R=S.parent;R;R=R.parent){const D=R.routeConfig;if(D?._loadedInjector)return D._loadedInjector;if(D?._injector)return D._injector}return null}class $s{constructor(R,D,k,G,ce){this.routeReuseStrategy=R,this.futureState=D,this.currState=k,this.forwardEvent=G,this.inputBindingEnabled=ce}activate(R){const D=this.futureState._root,k=this.currState?this.currState._root:null;this.deactivateChildRoutes(D,k,R),Jr(this.futureState.root),this.activateChildRoutes(D,k,R)}deactivateChildRoutes(R,D,k){const G=Ss(D);R.children.forEach(ce=>{const ve=ce.value.outlet;this.deactivateRoutes(ce,G[ve],k),delete G[ve]}),Object.values(G).forEach(ce=>{this.deactivateRouteAndItsChildren(ce,k)})}deactivateRoutes(R,D,k){const G=R.value,ce=D?D.value:null;if(G===ce)if(G.component){const ve=k.getContext(G.outlet);ve&&this.deactivateChildRoutes(R,D,ve.children)}else this.deactivateChildRoutes(R,D,k);else ce&&this.deactivateRouteAndItsChildren(D,k)}deactivateRouteAndItsChildren(R,D){R.value.component&&this.routeReuseStrategy.shouldDetach(R.value.snapshot)?this.detachAndStoreRouteSubtree(R,D):this.deactivateRouteAndOutlet(R,D)}detachAndStoreRouteSubtree(R,D){const k=D.getContext(R.value.outlet),G=k&&R.value.component?k.children:D,ce=Ss(R);for(const ve of Object.keys(ce))this.deactivateRouteAndItsChildren(ce[ve],G);if(k&&k.outlet){const ve=k.outlet.detach(),Qe=k.children.onOutletDeactivated();this.routeReuseStrategy.store(R.value.snapshot,{componentRef:ve,route:R,contexts:Qe})}}deactivateRouteAndOutlet(R,D){const k=D.getContext(R.value.outlet),G=k&&R.value.component?k.children:D,ce=Ss(R);for(const ve of Object.keys(ce))this.deactivateRouteAndItsChildren(ce[ve],G);k&&(k.outlet&&(k.outlet.deactivate(),k.children.onOutletDeactivated()),k.attachRef=null,k.route=null)}activateChildRoutes(R,D,k){const G=Ss(D);R.children.forEach(ce=>{this.activateRoutes(ce,G[ce.value.outlet],k),this.forwardEvent(new na(ce.value.snapshot))}),R.children.length&&this.forwardEvent(new wa(R.value.snapshot))}activateRoutes(R,D,k){const G=R.value,ce=D?D.value:null;if(Jr(G),G===ce)if(G.component){const ve=k.getOrCreateContext(G.outlet);this.activateChildRoutes(R,D,ve.children)}else this.activateChildRoutes(R,D,k);else if(G.component){const ve=k.getOrCreateContext(G.outlet);if(this.routeReuseStrategy.shouldAttach(G.snapshot)){const Qe=this.routeReuseStrategy.retrieve(G.snapshot);this.routeReuseStrategy.store(G.snapshot,null),ve.children.onOutletReAttached(Qe.contexts),ve.attachRef=Qe.componentRef,ve.route=Qe.route.value,ve.outlet&&ve.outlet.attach(Qe.componentRef,Qe.route.value),Jr(Qe.route.value),this.activateChildRoutes(R,null,ve.children)}else{const Qe=As(G.snapshot);ve.attachRef=null,ve.route=G,ve.injector=Qe,ve.outlet&&ve.outlet.activateWith(G,ve.injector),this.activateChildRoutes(R,null,ve.children)}}else this.activateChildRoutes(R,null,k)}}class Eo{constructor(R){this.path=R,this.route=this.path[this.path.length-1]}}class zs{constructor(R,D){this.component=R,this.route=D}}function Oi(S,R,D){const k=S._root;return oa(k,R?R._root:null,D,[k.value])}function Ws(S,R){const D=Symbol(),k=R.get(S,D);return k===D?"function"!=typeof S||(0,b.Z0I)(S)?R.get(S):S:k}function oa(S,R,D,k,G={canDeactivateChecks:[],canActivateChecks:[]}){const ce=Ss(R);return S.children.forEach(ve=>{(function jc(S,R,D,k,G={canDeactivateChecks:[],canActivateChecks:[]}){const ce=S.value,ve=R?R.value:null,Qe=D?D.getContext(S.value.outlet):null;if(ve&&ce.routeConfig===ve.routeConfig){const Ye=function cc(S,R,D){if("function"==typeof D)return D(S,R);switch(D){case"pathParamsChange":return!Gr(S.url,R.url);case"pathParamsOrQueryParamsChange":return!Gr(S.url,R.url)||!yn(S.queryParams,R.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Gi(S,R)||!yn(S.queryParams,R.queryParams);default:return!Gi(S,R)}}(ve,ce,ce.routeConfig.runGuardsAndResolvers);Ye?G.canActivateChecks.push(new Eo(k)):(ce.data=ve.data,ce._resolvedData=ve._resolvedData),oa(S,R,ce.component?Qe?Qe.children:null:D,k,G),Ye&&Qe&&Qe.outlet&&Qe.outlet.isActivated&&G.canDeactivateChecks.push(new zs(Qe.outlet.component,ve))}else ve&&Sr(R,Qe,G),G.canActivateChecks.push(new Eo(k)),oa(S,null,ce.component?Qe?Qe.children:null:D,k,G)})(ve,ce[ve.value.outlet],D,k.concat([ve.value]),G),delete ce[ve.value.outlet]}),Object.entries(ce).forEach(([ve,Qe])=>Sr(Qe,D.getContext(ve),G)),G}function Sr(S,R,D){const k=Ss(S),G=S.value;Object.entries(k).forEach(([ce,ve])=>{Sr(ve,G.component?R?R.children.getContext(ce):null:R,D)}),D.canDeactivateChecks.push(new zs(G.component&&R&&R.outlet&&R.outlet.isActivated?R.outlet.component:null,G))}function Wa(S){return"function"==typeof S}function $i(S){return S instanceof Ct.K||"EmptyError"===S?.name}const Os=Symbol("INITIAL_VALUE");function zi(){return(0,_n.w)(S=>qe(S.map(R=>R.pipe((0,On.q)(1),(0,Yn.O)(Os)))).pipe((0,sn.U)(R=>{for(const D of R)if(!0!==D){if(D===Os)return Os;if(!1===D||D instanceof ni)return D}return!0}),(0,tr.h)(R=>R!==Os),(0,On.q)(1)))}function bi(S){return(0,rt.z)((0,St.b)(R=>{if(Ls(R))throw so(0,R)}),(0,sn.U)(R=>!0===R))}class Mi{constructor(R){this.segmentGroup=R||null}}class Do{constructor(R){this.urlTree=R}}function uc(S){return yt(new Mi(S))}function xi(S){return yt(new Do(S))}class nd{constructor(R,D){this.urlSerializer=R,this.urlTree=D}noMatchError(R){return new b.vHH(4002,!1)}lineralizeSegments(R,D){let k=[],G=D.root;for(;;){if(k=k.concat(G.segments),0===G.numberOfChildren)return(0,he.of)(k);if(G.numberOfChildren>1||!G.children[De])return yt(new b.vHH(4e3,!1));G=G.children[De]}}applyRedirectCommands(R,D,k){return this.applyRedirectCreateUrlTree(D,this.urlSerializer.parse(D),R,k)}applyRedirectCreateUrlTree(R,D,k,G){const ce=this.createSegmentGroup(R,D.root,k,G);return new ni(ce,this.createQueryParams(D.queryParams,this.urlTree.queryParams),D.fragment)}createQueryParams(R,D){const k={};return Object.entries(R).forEach(([G,ce])=>{if("string"==typeof ce&&ce.startsWith(":")){const Qe=ce.substring(1);k[G]=D[Qe]}else k[G]=ce}),k}createSegmentGroup(R,D,k,G){const ce=this.createSegments(R,D.segments,k,G);let ve={};return Object.entries(D.children).forEach(([Qe,Ye])=>{ve[Qe]=this.createSegmentGroup(R,Ye,k,G)}),new Zt(ce,ve)}createSegments(R,D,k,G){return D.map(ce=>ce.path.startsWith(":")?this.findPosParam(R,ce,G):this.findOrReturn(ce,k))}findPosParam(R,D,k){const G=k[D.path.substring(1)];if(!G)throw new b.vHH(4001,!1);return G}findOrReturn(R,D){let k=0;for(const G of D){if(G.path===R.path)return D.splice(k),G;k++}return R}}const Co={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function dc(S,R,D,k,G){const ce=Ri(S,R,D);return ce.matched?(k=function ls(S,R){return S.providers&&!S._injector&&(S._injector=(0,b.MMx)(S.providers,R,`Route: ${S.path}`)),S._injector??R}(R,k),function Ea(S,R,D,k){const G=R.canMatch;if(!G||0===G.length)return(0,he.of)(!0);const ce=G.map(ve=>{const Qe=Ws(ve,S);return pn(function Oe(S){return S&&Wa(S.canMatch)}(Qe)?Qe.canMatch(R,D):S.runInContext(()=>Qe(R,D)))});return(0,he.of)(ce).pipe(zi(),bi())}(k,R,D).pipe((0,sn.U)(ve=>!0===ve?ce:{...Co}))):(0,he.of)(ce)}function Ri(S,R,D){if(""===R.path)return"full"===R.pathMatch&&(S.hasChildren()||D.length>0)?{...Co}:{matched:!0,consumedSegments:[],remainingSegments:D,parameters:{},positionalParamSegments:{}};const G=(R.matcher||kt)(D,S,R);if(!G)return{...Co};const ce={};Object.entries(G.posParams??{}).forEach(([Qe,Ye])=>{ce[Qe]=Ye.path});const ve=G.consumed.length>0?{...ce,...G.consumed[G.consumed.length-1].parameters}:ce;return{matched:!0,consumedSegments:G.consumed,remainingSegments:D.slice(G.consumed.length),parameters:ve,positionalParamSegments:G.posParams??{}}}function ll(S,R,D,k){return D.length>0&&function Pi(S,R,D){return D.some(k=>wi(S,R,k)&&Si(k)!==De)}(S,D,k)?{segmentGroup:new Zt(R,us(k,new Zt(D,S.children))),slicedSegments:[]}:0===D.length&&function Ms(S,R,D){return D.some(k=>wi(S,R,k))}(S,D,k)?{segmentGroup:new Zt(S.segments,aa(S,0,D,k,S.children)),slicedSegments:D}:{segmentGroup:new Zt(S.segments,S.children),slicedSegments:D}}function aa(S,R,D,k,G){const ce={};for(const ve of k)if(wi(S,D,ve)&&!G[Si(ve)]){const Qe=new Zt([],{});ce[Si(ve)]=Qe}return{...G,...ce}}function us(S,R){const D={};D[De]=R;for(const k of S)if(""===k.path&&Si(k)!==De){const G=new Zt([],{});D[Si(k)]=G}return D}function wi(S,R,D){return(!(S.hasChildren()||R.length>0)||"full"!==D.pathMatch)&&""===D.path}class Da{constructor(R,D,k,G,ce,ve,Qe){this.injector=R,this.configLoader=D,this.rootComponentType=k,this.config=G,this.urlTree=ce,this.paramsInheritanceStrategy=ve,this.urlSerializer=Qe,this.allowRedirects=!0,this.applyRedirects=new nd(this.urlSerializer,this.urlTree)}noMatchError(R){return new b.vHH(4002,!1)}recognize(){const R=ll(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,R,De).pipe(Lt(D=>{if(D instanceof Do)return this.allowRedirects=!1,this.urlTree=D.urlTree,this.match(D.urlTree);throw D instanceof Mi?this.noMatchError(D):D}),(0,sn.U)(D=>{const k=new Pn([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},De,this.rootComponentType,null,{}),G=new Pr(k,D),ce=new Ur("",G),ve=function Bi(S,R,D=null,k=null){return Vi(po(S),R,D,k)}(k,[],this.urlTree.queryParams,this.urlTree.fragment);return ve.queryParams=this.urlTree.queryParams,ce.url=this.urlSerializer.serialize(ve),this.inheritParamsAndData(ce._root),{state:ce,tree:ve}}))}match(R){return this.processSegmentGroup(this.injector,this.config,R.root,De).pipe(Lt(k=>{throw k instanceof Mi?this.noMatchError(k):k}))}inheritParamsAndData(R){const D=R.value,k=pr(D,this.paramsInheritanceStrategy);D.params=Object.freeze(k.params),D.data=Object.freeze(k.data),R.children.forEach(G=>this.inheritParamsAndData(G))}processSegmentGroup(R,D,k,G){return 0===k.segments.length&&k.hasChildren()?this.processChildren(R,D,k):this.processSegment(R,D,k,k.segments,G,!0)}processChildren(R,D,k){const G=[];for(const ce of Object.keys(k.children))"primary"===ce?G.unshift(ce):G.push(ce);return(0,ae.D)(G).pipe(gt(ce=>{const ve=k.children[ce],Qe=function vi(S,R){const D=S.filter(k=>Si(k)===R);return D.push(...S.filter(k=>Si(k)!==R)),D}(D,ce);return this.processSegmentGroup(R,Qe,ve,ce)}),(0,Qt.R)((ce,ve)=>(ce.push(...ve),ce)),je(null),function Bt(S,R){const D=arguments.length>=2;return k=>k.pipe(S?(0,tr.h)((G,ce)=>S(G,ce,k)):Ee.y,tn(1),D?je(R):Ze(()=>new Ct.K))}(),(0,Ue.z)(ce=>{if(null===ce)return uc(k);const ve=ca(ce);return function rd(S){S.sort((R,D)=>R.value.outlet===De?-1:D.value.outlet===De?1:R.value.outlet.localeCompare(D.value.outlet))}(ve),(0,he.of)(ve)}))}processSegment(R,D,k,G,ce,ve){return(0,ae.D)(D).pipe(gt(Qe=>this.processSegmentAgainstRoute(Qe._injector??R,D,Qe,k,G,ce,ve).pipe(Lt(Ye=>{if(Ye instanceof Mi)return(0,he.of)(null);throw Ye}))),Ke(Qe=>!!Qe),Lt(Qe=>{if($i(Qe))return function Ta(S,R,D){return 0===R.length&&!S.children[D]}(k,G,ce)?(0,he.of)([]):uc(k);throw Qe}))}processSegmentAgainstRoute(R,D,k,G,ce,ve,Qe){return function zc(S,R,D,k){return!!(Si(S)===k||k!==De&&wi(R,D,S))&&("**"===S.path||Ri(R,S,D).matched)}(k,G,ce,ve)?void 0===k.redirectTo?this.matchSegmentAgainstRoute(R,G,k,ce,ve,Qe):Qe&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(R,G,D,k,ce,ve):uc(G):uc(G)}expandSegmentAgainstRouteUsingRedirect(R,D,k,G,ce,ve){return"**"===G.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(R,k,G,ve):this.expandRegularSegmentAgainstRouteUsingRedirect(R,D,k,G,ce,ve)}expandWildCardWithParamsAgainstRouteUsingRedirect(R,D,k,G){const ce=this.applyRedirects.applyRedirectCommands([],k.redirectTo,{});return k.redirectTo.startsWith("/")?xi(ce):this.applyRedirects.lineralizeSegments(k,ce).pipe((0,Ue.z)(ve=>{const Qe=new Zt(ve,{});return this.processSegment(R,D,Qe,ve,G,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(R,D,k,G,ce,ve){const{matched:Qe,consumedSegments:Ye,remainingSegments:$t,positionalParamSegments:Xn}=Ri(D,G,ce);if(!Qe)return uc(D);const Vr=this.applyRedirects.applyRedirectCommands(Ye,G.redirectTo,Xn);return G.redirectTo.startsWith("/")?xi(Vr):this.applyRedirects.lineralizeSegments(G,Vr).pipe((0,Ue.z)(ar=>this.processSegment(R,k,D,ar.concat($t),ve,!1)))}matchSegmentAgainstRoute(R,D,k,G,ce,ve){let Qe;if("**"===k.path){const Ye=G.length>0?Xt(G).parameters:{},$t=new Pn(G,Ye,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,dl(k),Si(k),k.component??k._loadedComponent??null,k,M(k));Qe=(0,he.of)({snapshot:$t,consumedSegments:[],remainingSegments:[]}),D.children={}}else Qe=dc(D,k,G,R).pipe((0,sn.U)(({matched:Ye,consumedSegments:$t,remainingSegments:Xn,parameters:Vr})=>Ye?{snapshot:new Pn($t,Vr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,dl(k),Si(k),k.component??k._loadedComponent??null,k,M(k)),consumedSegments:$t,remainingSegments:Xn}:null));return Qe.pipe((0,_n.w)(Ye=>null===Ye?uc(D):this.getChildConfig(R=k._injector??R,k,G).pipe((0,_n.w)(({routes:$t})=>{const Xn=k._loadedInjector??R,{snapshot:Vr,consumedSegments:ar,remainingSegments:Mo}=Ye,{segmentGroup:Kl,slicedSegments:Wr}=ll(D,ar,Mo,$t);if(0===Wr.length&&Kl.hasChildren())return this.processChildren(Xn,$t,Kl).pipe((0,sn.U)(wr=>null===wr?null:[new Pr(Vr,wr)]));if(0===$t.length&&0===Wr.length)return(0,he.of)([new Pr(Vr,[])]);const Ya=Si(k)===ce;return this.processSegment(Xn,$t,Kl,Wr,Ya?De:ce,!0).pipe((0,sn.U)(wr=>[new Pr(Vr,wr)]))}))))}getChildConfig(R,D,k){return D.children?(0,he.of)({routes:D.children,injector:R}):D.loadChildren?void 0!==D._loadedRoutes?(0,he.of)({routes:D._loadedRoutes,injector:D._loadedInjector}):function Ia(S,R,D,k){const G=R.canLoad;if(void 0===G||0===G.length)return(0,he.of)(!0);const ce=G.map(ve=>{const Qe=Ws(ve,S);return pn(function Z(S){return S&&Wa(S.canLoad)}(Qe)?Qe.canLoad(R,D):S.runInContext(()=>Qe(R,D)))});return(0,he.of)(ce).pipe(zi(),bi())}(R,D,k).pipe((0,Ue.z)(G=>G?this.configLoader.loadChildren(R,D).pipe((0,St.b)(ce=>{D._loadedRoutes=ce.routes,D._loadedInjector=ce.injector})):function $c(S){return yt(ri(!1,3))}())):(0,he.of)({routes:[],injector:R})}}function ul(S){const R=S.value.routeConfig;return R&&""===R.path}function ca(S){const R=[],D=new Set;for(const k of S){if(!ul(k)){R.push(k);continue}const G=R.find(ce=>k.value.routeConfig===ce.value.routeConfig);void 0!==G?(G.children.push(...k.children),D.add(G)):R.push(k)}for(const k of D){const G=ca(k.children);R.push(new Pr(k.value,G))}return R.filter(k=>!D.has(k))}function dl(S){return S.data||{}}function M(S){return S.resolve||{}}function Tn(S){return"string"==typeof S.title||null===S.title}function Ar(S){return(0,_n.w)(R=>{const D=S(R);return D?(0,ae.D)(D).pipe((0,sn.U)(()=>R)):(0,he.of)(R)})}const Nr=new b.OlP("ROUTES");let Or=(()=>{class S{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,b.f3M)(b.Sil)}loadComponent(D){if(this.componentLoaders.get(D))return this.componentLoaders.get(D);if(D._loadedComponent)return(0,he.of)(D._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(D);const k=pn(D.loadComponent()).pipe((0,sn.U)(sr),(0,St.b)(ce=>{this.onLoadEndListener&&this.onLoadEndListener(D),D._loadedComponent=ce}),In(()=>{this.componentLoaders.delete(D)})),G=new ut(k,()=>new wn.x).pipe(Le());return this.componentLoaders.set(D,G),G}loadChildren(D,k){if(this.childrenLoaders.get(k))return this.childrenLoaders.get(k);if(k._loadedRoutes)return(0,he.of)({routes:k._loadedRoutes,injector:k._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(k);const ce=function An(S,R,D,k){return pn(S.loadChildren()).pipe((0,sn.U)(sr),(0,Ue.z)(G=>G instanceof b.YKP||Array.isArray(G)?(0,he.of)(G):(0,ae.D)(R.compileModuleAsync(G))),(0,sn.U)(G=>{k&&k(S);let ce,ve,Qe=!1;return Array.isArray(G)?(ve=G,!0):(ce=G.create(D).injector,ve=ce.get(Nr,[],{optional:!0,self:!0}).flat()),{routes:ve.map(za),injector:ce}}))}(k,this.compiler,D,this.onLoadEndListener).pipe(In(()=>{this.childrenLoaders.delete(k)})),ve=new ut(ce,()=>new wn.x).pipe(Le());return this.childrenLoaders.set(k,ve),ve}static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275prov=b.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();function sr(S){return function zr(S){return S&&"object"==typeof S&&"default"in S}(S)?S.default:S}let ii=(()=>{class S{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new wn.x,this.transitionAbortSubject=new wn.x,this.configLoader=(0,b.f3M)(Or),this.environmentInjector=(0,b.f3M)(b.lqb),this.urlSerializer=(0,b.f3M)(Ne),this.rootContexts=(0,b.f3M)(Qn),this.inputBindingEnabled=null!==(0,b.f3M)(Xr,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,he.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=G=>this.events.next(new hi(G)),this.configLoader.onLoadStartListener=G=>this.events.next(new ba(G))}complete(){this.transitions?.complete()}handleNavigationRequest(D){const k=++this.navigationId;this.transitions?.next({...this.transitions.value,...D,id:k})}setupNavigations(D,k,G){return this.transitions=new Ie.X({id:0,currentUrlTree:k,currentRawUrl:k,currentBrowserUrl:k,extractedUrl:D.urlHandlingStrategy.extract(k),urlAfterRedirects:D.urlHandlingStrategy.extract(k),rawUrl:k,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:_o,restoredState:null,currentSnapshot:G.snapshot,targetSnapshot:null,currentRouterState:G,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,tr.h)(ce=>0!==ce.id),(0,sn.U)(ce=>({...ce,extractedUrl:D.urlHandlingStrategy.extract(ce.rawUrl)})),(0,_n.w)(ce=>{this.currentTransition=ce;let ve=!1,Qe=!1;return(0,he.of)(ce).pipe((0,St.b)(Ye=>{this.currentNavigation={id:Ye.id,initialUrl:Ye.rawUrl,extractedUrl:Ye.extractedUrl,trigger:Ye.source,extras:Ye.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,_n.w)(Ye=>{const $t=Ye.currentBrowserUrl.toString(),Xn=!D.navigated||Ye.extractedUrl.toString()!==$t||$t!==Ye.currentUrlTree.toString();if(!Xn&&"reload"!==(Ye.extras.onSameUrlNavigation??D.onSameUrlNavigation)){const ar="";return this.events.next(new as(Ye.id,this.urlSerializer.serialize(Ye.rawUrl),ar,0)),Ye.resolve(null),ze.E}if(D.urlHandlingStrategy.shouldProcessUrl(Ye.rawUrl))return(0,he.of)(Ye).pipe((0,_n.w)(ar=>{const Mo=this.transitions?.getValue();return this.events.next(new va(ar.id,this.urlSerializer.serialize(ar.extractedUrl),ar.source,ar.restoredState)),Mo!==this.transitions?.getValue()?ze.E:Promise.resolve(ar)}),function ie(S,R,D,k,G,ce){return(0,Ue.z)(ve=>function Ho(S,R,D,k,G,ce,ve="emptyOnly"){return new Da(S,R,D,k,G,ve,ce).recognize()}(S,R,D,k,ve.extractedUrl,G,ce).pipe((0,sn.U)(({state:Qe,tree:Ye})=>({...ve,targetSnapshot:Qe,urlAfterRedirects:Ye}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,D.config,this.urlSerializer,D.paramsInheritanceStrategy),(0,St.b)(ar=>{ce.targetSnapshot=ar.targetSnapshot,ce.urlAfterRedirects=ar.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:ar.urlAfterRedirects};const Mo=new Ul(ar.id,this.urlSerializer.serialize(ar.extractedUrl),this.urlSerializer.serialize(ar.urlAfterRedirects),ar.targetSnapshot);this.events.next(Mo)}));if(Xn&&D.urlHandlingStrategy.shouldProcessUrl(Ye.currentRawUrl)){const{id:ar,extractedUrl:Mo,source:Kl,restoredState:Wr,extras:Ya}=Ye,wr=new va(ar,this.urlSerializer.serialize(Mo),Kl,Wr);this.events.next(wr);const Oc=fi(0,this.rootComponentType).snapshot;return this.currentTransition=ce={...Ye,targetSnapshot:Oc,urlAfterRedirects:Mo,extras:{...Ya,skipLocationChange:!1,replaceUrl:!1}},(0,he.of)(ce)}{const ar="";return this.events.next(new as(Ye.id,this.urlSerializer.serialize(Ye.extractedUrl),ar,1)),Ye.resolve(null),ze.E}}),(0,St.b)(Ye=>{const $t=new cs(Ye.id,this.urlSerializer.serialize(Ye.extractedUrl),this.urlSerializer.serialize(Ye.urlAfterRedirects),Ye.targetSnapshot);this.events.next($t)}),(0,sn.U)(Ye=>(this.currentTransition=ce={...Ye,guards:Oi(Ye.targetSnapshot,Ye.currentSnapshot,this.rootContexts)},ce)),function ms(S,R){return(0,Ue.z)(D=>{const{targetSnapshot:k,currentSnapshot:G,guards:{canActivateChecks:ce,canDeactivateChecks:ve}}=D;return 0===ve.length&&0===ce.length?(0,he.of)({...D,guardsResult:!0}):function qa(S,R,D,k){return(0,ae.D)(S).pipe((0,Ue.z)(G=>function al(S,R,D,k,G){const ce=R&&R.routeConfig?R.routeConfig.canDeactivate:null;if(!ce||0===ce.length)return(0,he.of)(!0);const ve=ce.map(Qe=>{const Ye=As(R)??G,$t=Ws(Qe,Ye);return pn(function ue(S){return S&&Wa(S.canDeactivate)}($t)?$t.canDeactivate(S,R,D,k):Ye.runInContext(()=>$t(S,R,D,k))).pipe(Ke())});return(0,he.of)(ve).pipe(zi())}(G.component,G.route,D,R,k)),Ke(G=>!0!==G,!0))}(ve,k,G,S).pipe((0,Ue.z)(Qe=>Qe&&function yu(S){return"boolean"==typeof S}(Qe)?function Za(S,R,D,k){return(0,ae.D)(R).pipe(gt(G=>(0,cn.z)(function Gc(S,R){return null!==S&&R&&R(new Cs(S)),(0,he.of)(!0)}(G.route.parent,k),function To(S,R){return null!==S&&R&&R(new ta(S)),(0,he.of)(!0)}(G.route,k),function Ns(S,R,D){const k=R[R.length-1],ce=R.slice(0,R.length-1).reverse().map(ve=>function Ni(S){const R=S.routeConfig?S.routeConfig.canActivateChild:null;return R&&0!==R.length?{node:S,guards:R}:null}(ve)).filter(ve=>null!==ve).map(ve=>st(()=>{const Qe=ve.guards.map(Ye=>{const $t=As(ve.node)??D,Xn=Ws(Ye,$t);return pn(function U(S){return S&&Wa(S.canActivateChild)}(Xn)?Xn.canActivateChild(k,S):$t.runInContext(()=>Xn(k,S))).pipe(Ke())});return(0,he.of)(Qe).pipe(zi())}));return(0,he.of)(ce).pipe(zi())}(S,G.path,D),function lc(S,R,D){const k=R.routeConfig?R.routeConfig.canActivate:null;if(!k||0===k.length)return(0,he.of)(!0);const G=k.map(ce=>st(()=>{const ve=As(R)??D,Qe=Ws(ce,ve);return pn(function Q(S){return S&&Wa(S.canActivate)}(Qe)?Qe.canActivate(R,S):ve.runInContext(()=>Qe(R,S))).pipe(Ke())}));return(0,he.of)(G).pipe(zi())}(S,G.route,D))),Ke(G=>!0!==G,!0))}(k,ce,S,R):(0,he.of)(Qe)),(0,sn.U)(Qe=>({...D,guardsResult:Qe})))})}(this.environmentInjector,Ye=>this.events.next(Ye)),(0,St.b)(Ye=>{if(ce.guardsResult=Ye.guardsResult,Ls(Ye.guardsResult))throw so(0,Ye.guardsResult);const $t=new Bl(Ye.id,this.urlSerializer.serialize(Ye.extractedUrl),this.urlSerializer.serialize(Ye.urlAfterRedirects),Ye.targetSnapshot,!!Ye.guardsResult);this.events.next($t)}),(0,tr.h)(Ye=>!!Ye.guardsResult||(this.cancelNavigationTransition(Ye,"",3),!1)),Ar(Ye=>{if(Ye.guards.canActivateChecks.length)return(0,he.of)(Ye).pipe((0,St.b)($t=>{const Xn=new ji($t.id,this.urlSerializer.serialize($t.extractedUrl),this.urlSerializer.serialize($t.urlAfterRedirects),$t.targetSnapshot);this.events.next(Xn)}),(0,_n.w)($t=>{let Xn=!1;return(0,he.of)($t).pipe(function V(S,R){return(0,Ue.z)(D=>{const{targetSnapshot:k,guards:{canActivateChecks:G}}=D;if(!G.length)return(0,he.of)(D);let ce=0;return(0,ae.D)(G).pipe(gt(ve=>function ee(S,R,D,k){const G=S.routeConfig,ce=S._resolve;return void 0!==G?.title&&!Tn(G)&&(ce[Xe]=G.title),function we(S,R,D,k){const G=function it(S){return[...Object.keys(S),...Object.getOwnPropertySymbols(S)]}(S);if(0===G.length)return(0,he.of)({});const ce={};return(0,ae.D)(G).pipe((0,Ue.z)(ve=>function wt(S,R,D,k){const G=As(R)??k,ce=Ws(S,G);return pn(ce.resolve?ce.resolve(R,D):G.runInContext(()=>ce(R,D)))}(S[ve],R,D,k).pipe(Ke(),(0,St.b)(Qe=>{ce[ve]=Qe}))),tn(1),(0,ft.h)(ce),Lt(ve=>$i(ve)?ze.E:yt(ve)))}(ce,S,R,k).pipe((0,sn.U)(ve=>(S._resolvedData=ve,S.data=pr(S,D).resolve,G&&Tn(G)&&(S.data[Xe]=G.title),null)))}(ve.route,k,S,R)),(0,St.b)(()=>ce++),tn(1),(0,Ue.z)(ve=>ce===G.length?(0,he.of)(D):ze.E))})}(D.paramsInheritanceStrategy,this.environmentInjector),(0,St.b)({next:()=>Xn=!0,complete:()=>{Xn||this.cancelNavigationTransition($t,"",2)}}))}),(0,St.b)($t=>{const Xn=new yo($t.id,this.urlSerializer.serialize($t.extractedUrl),this.urlSerializer.serialize($t.urlAfterRedirects),$t.targetSnapshot);this.events.next(Xn)}))}),Ar(Ye=>{const $t=Xn=>{const Vr=[];Xn.routeConfig?.loadComponent&&!Xn.routeConfig._loadedComponent&&Vr.push(this.configLoader.loadComponent(Xn.routeConfig).pipe((0,St.b)(ar=>{Xn.component=ar}),(0,sn.U)(()=>{})));for(const ar of Xn.children)Vr.push(...$t(ar));return Vr};return qe($t(Ye.targetSnapshot.root)).pipe(je(),(0,On.q)(1))}),Ar(()=>this.afterPreactivation()),(0,sn.U)(Ye=>{const $t=function vo(S,R,D){const k=Vo(S,R._root,D?D._root:void 0);return new $a(k,R)}(D.routeReuseStrategy,Ye.targetSnapshot,Ye.currentRouterState);return this.currentTransition=ce={...Ye,targetRouterState:$t},ce}),(0,St.b)(()=>{this.events.next(new ra)}),((S,R,D,k)=>(0,sn.U)(G=>(new $s(R,G.targetRouterState,G.currentRouterState,D,k).activate(S),G)))(this.rootContexts,D.routeReuseStrategy,Ye=>this.events.next(Ye),this.inputBindingEnabled),(0,On.q)(1),(0,St.b)({next:Ye=>{ve=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new $r(Ye.id,this.urlSerializer.serialize(Ye.extractedUrl),this.urlSerializer.serialize(Ye.urlAfterRedirects))),D.titleStrategy?.updateTitle(Ye.targetRouterState.snapshot),Ye.resolve(!0)},complete:()=>{ve=!0}}),(0,Jn.R)(this.transitionAbortSubject.pipe((0,St.b)(Ye=>{throw Ye}))),In(()=>{ve||Qe||this.cancelNavigationTransition(ce,"",1),this.currentNavigation?.id===ce.id&&(this.currentNavigation=null)}),Lt(Ye=>{if(Qe=!0,Sc(Ye))this.events.next(new Xo(ce.id,this.urlSerializer.serialize(ce.extractedUrl),Ye.message,Ye.cancellationCode)),function sa(S){return Sc(S)&&Ls(S.url)}(Ye)?this.events.next(new ia(Ye.url)):ce.resolve(!1);else{this.events.next(new ea(ce.id,this.urlSerializer.serialize(ce.extractedUrl),Ye,ce.targetSnapshot??void 0));try{ce.resolve(D.errorHandler(Ye))}catch($t){ce.reject($t)}}return ze.E}))}))}cancelNavigationTransition(D,k,G){const ce=new Xo(D.id,this.urlSerializer.serialize(D.extractedUrl),k,G);this.events.next(ce),D.resolve(!1)}static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275prov=b.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();function Wi(S){return S!==_o}let Ii=(()=>{class S{buildTitle(D){let k,G=D.root;for(;void 0!==G;)k=this.getResolvedTitleForRoute(G)??k,G=G.children.find(ce=>ce.outlet===De);return k}getResolvedTitleForRoute(D){return D.data[Xe]}static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275prov=b.Yz7({token:S,factory:function(){return(0,b.f3M)(Xi)},providedIn:"root"})}return S})(),Xi=(()=>{class S extends Ii{constructor(D){super(),this.title=D}updateTitle(D){const k=this.buildTitle(D);void 0!==k&&this.title.setTitle(k)}static#e=this.\u0275fac=function(k){return new(k||S)(b.LFG(xe.Dx))};static#t=this.\u0275prov=b.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})(),qi=(()=>{class S{static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275prov=b.Yz7({token:S,factory:function(){return(0,b.f3M)(Ca)},providedIn:"root"})}return S})();class So{shouldDetach(R){return!1}store(R,D){}shouldAttach(R){return!1}retrieve(R){return null}shouldReuseRoute(R,D){return R.routeConfig===D.routeConfig}}let Ca=(()=>{class S extends So{static#e=this.\u0275fac=function(){let D;return function(G){return(D||(D=b.n5z(S)))(G||S)}}();static#t=this.\u0275prov=b.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();const qs=new b.OlP("",{providedIn:"root",factory:()=>({})});let hl=(()=>{class S{static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275prov=b.Yz7({token:S,factory:function(){return(0,b.f3M)(vu)},providedIn:"root"})}return S})(),vu=(()=>{class S{shouldProcessUrl(D){return!0}extract(D){return D}merge(D,k){return D}static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275prov=b.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();var _s=function(S){return S[S.COMPLETE=0]="COMPLETE",S[S.FAILED=1]="FAILED",S[S.REDIRECTING=2]="REDIRECTING",S}(_s||{});function Ao(S,R){S.events.pipe((0,tr.h)(D=>D instanceof $r||D instanceof Xo||D instanceof ea||D instanceof as),(0,sn.U)(D=>D instanceof $r||D instanceof as?_s.COMPLETE:D instanceof Xo&&(0===D.code||1===D.code)?_s.REDIRECTING:_s.FAILED),(0,tr.h)(D=>D!==_s.REDIRECTING),(0,On.q)(1)).subscribe(()=>{R()})}function Vl(S){throw S}function Mr(S,R,D){return R.parse("/")}const Ac={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Wc={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let si=(()=>{class S{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,b.f3M)(b.c2e),this.isNgZoneEnabled=!1,this._events=new wn.x,this.options=(0,b.f3M)(qs,{optional:!0})||{},this.pendingTasks=(0,b.f3M)(b.HDt),this.errorHandler=this.options.errorHandler||Vl,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Mr,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,b.f3M)(hl),this.routeReuseStrategy=(0,b.f3M)(qi),this.titleStrategy=(0,b.f3M)(Ii),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,b.f3M)(Nr,{optional:!0})?.flat()??[],this.navigationTransitions=(0,b.f3M)(ii),this.urlSerializer=(0,b.f3M)(Ne),this.location=(0,b.f3M)(dt.Ye),this.componentInputBindingEnabled=!!(0,b.f3M)(Xr,{optional:!0}),this.eventsSubscription=new Ae.w0,this.isNgZoneEnabled=(0,b.f3M)(b.R0b)instanceof b.R0b&&b.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ni,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=fi(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(D=>{this.lastSuccessfulId=D.id,this.currentPageId=this.browserPageId},D=>{this.console.warn(`Unhandled Navigation Error: ${D}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const D=this.navigationTransitions.events.subscribe(k=>{try{const{currentTransition:G}=this.navigationTransitions;if(null===G)return void(id(k)&&this._events.next(k));if(k instanceof va)Wi(G.source)&&(this.browserUrlTree=G.extractedUrl);else if(k instanceof as)this.rawUrlTree=G.rawUrl;else if(k instanceof Ul){if("eager"===this.urlUpdateStrategy){if(!G.extras.skipLocationChange){const ce=this.urlHandlingStrategy.merge(G.urlAfterRedirects,G.rawUrl);this.setBrowserUrl(ce,G)}this.browserUrlTree=G.urlAfterRedirects}}else if(k instanceof ra)this.currentUrlTree=G.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(G.urlAfterRedirects,G.rawUrl),this.routerState=G.targetRouterState,"deferred"===this.urlUpdateStrategy&&(G.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,G),this.browserUrlTree=G.urlAfterRedirects);else if(k instanceof Xo)0!==k.code&&1!==k.code&&(this.navigated=!0),(3===k.code||2===k.code)&&this.restoreHistory(G);else if(k instanceof ia){const ce=this.urlHandlingStrategy.merge(k.url,G.currentRawUrl),ve={skipLocationChange:G.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Wi(G.source)};this.scheduleNavigation(ce,_o,null,ve,{resolve:G.resolve,reject:G.reject,promise:G.promise})}k instanceof ea&&this.restoreHistory(G,!0),k instanceof $r&&(this.navigated=!0),id(k)&&this._events.next(k)}catch(G){this.navigationTransitions.transitionAbortSubject.next(G)}});this.eventsSubscription.add(D)}resetRootComponentType(D){this.routerState.root.component=D,this.navigationTransitions.rootComponentType=D}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const D=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),_o,D)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(D=>{const k="popstate"===D.type?"popstate":"hashchange";"popstate"===k&&setTimeout(()=>{this.navigateToSyncWithBrowser(D.url,k,D.state)},0)}))}navigateToSyncWithBrowser(D,k,G){const ce={replaceUrl:!0},ve=G?.navigationId?G:null;if(G){const Ye={...G};delete Ye.navigationId,delete Ye.\u0275routerPageId,0!==Object.keys(Ye).length&&(ce.state=Ye)}const Qe=this.parseUrl(D);this.scheduleNavigation(Qe,k,ve,ce)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(D){this.config=D.map(za),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(D,k={}){const{relativeTo:G,queryParams:ce,fragment:ve,queryParamsHandling:Qe,preserveFragment:Ye}=k,$t=Ye?this.currentUrlTree.fragment:ve;let Vr,Xn=null;switch(Qe){case"merge":Xn={...this.currentUrlTree.queryParams,...ce};break;case"preserve":Xn=this.currentUrlTree.queryParams;break;default:Xn=ce||null}null!==Xn&&(Xn=this.removeEmptyProps(Xn));try{Vr=po(G?G.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof D[0]||!D[0].startsWith("/"))&&(D=[]),Vr=this.currentUrlTree.root}return Vi(Vr,D,Xn,$t??null)}navigateByUrl(D,k={skipLocationChange:!1}){const G=Ls(D)?D:this.parseUrl(D),ce=this.urlHandlingStrategy.merge(G,this.rawUrlTree);return this.scheduleNavigation(ce,_o,null,k)}navigate(D,k={skipLocationChange:!1}){return function fl(S){for(let R=0;R<S.length;R++)if(null==S[R])throw new b.vHH(4008,!1)}(D),this.navigateByUrl(this.createUrlTree(D,k),k)}serializeUrl(D){return this.urlSerializer.serialize(D)}parseUrl(D){let k;try{k=this.urlSerializer.parse(D)}catch(G){k=this.malformedUriErrorHandler(G,this.urlSerializer,D)}return k}isActive(D,k){let G;if(G=!0===k?{...Ac}:!1===k?{...Wc}:k,Ls(D))return Dr(this.currentUrlTree,D,G);const ce=this.parseUrl(D);return Dr(this.currentUrlTree,ce,G)}removeEmptyProps(D){return Object.keys(D).reduce((k,G)=>{const ce=D[G];return null!=ce&&(k[G]=ce),k},{})}scheduleNavigation(D,k,G,ce,ve){if(this.disposed)return Promise.resolve(!1);let Qe,Ye,$t;ve?(Qe=ve.resolve,Ye=ve.reject,$t=ve.promise):$t=new Promise((Vr,ar)=>{Qe=Vr,Ye=ar});const Xn=this.pendingTasks.add();return Ao(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Xn))}),this.navigationTransitions.handleNavigationRequest({source:k,restoredState:G,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:D,extras:ce,resolve:Qe,reject:Ye,promise:$t,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),$t.catch(Vr=>Promise.reject(Vr))}setBrowserUrl(D,k){const G=this.urlSerializer.serialize(D);if(this.location.isCurrentPathEqualTo(G)||k.extras.replaceUrl){const ve={...k.extras.state,...this.generateNgRouterState(k.id,this.browserPageId)};this.location.replaceState(G,"",ve)}else{const ce={...k.extras.state,...this.generateNgRouterState(k.id,this.browserPageId+1)};this.location.go(G,"",ce)}}restoreHistory(D,k=!1){if("computed"===this.canceledNavigationResolution){const ce=this.currentPageId-this.browserPageId;0!==ce?this.location.historyGo(ce):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===ce&&(this.resetState(D),this.browserUrlTree=D.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(k&&this.resetState(D),this.resetUrlToCurrentUrlTree())}resetState(D){this.routerState=D.currentRouterState,this.currentUrlTree=D.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,D.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(D,k){return"computed"===this.canceledNavigationResolution?{navigationId:D,\u0275routerPageId:k}:{navigationId:D}}static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275prov=b.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();function id(S){return!(S instanceof ra||S instanceof ia)}let Sa=(()=>{class S{constructor(D,k,G,ce,ve,Qe){this.router=D,this.route=k,this.tabIndexAttribute=G,this.renderer=ce,this.el=ve,this.locationStrategy=Qe,this.href=null,this.commands=null,this.onChanges=new wn.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Ye=ve.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Ye||"area"===Ye,this.isAnchorElement?this.subscription=D.events.subscribe($t=>{$t instanceof $r&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(D){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",D)}ngOnChanges(D){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(D){null!=D?(this.commands=Array.isArray(D)?D:[D],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(D,k,G,ce,ve){return!!(null===this.urlTree||this.isAnchorElement&&(0!==D||k||G||ce||ve||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const D=null===this.href?null:(0,b.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",D)}applyAttributeValue(D,k){const G=this.renderer,ce=this.el.nativeElement;null!==k?G.setAttribute(ce,D,k):G.removeAttribute(ce,D)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(k){return new(k||S)(b.Y36(si),b.Y36(Ji),b.$8M("tabindex"),b.Y36(b.Qsj),b.Y36(b.SBq),b.Y36(dt.S$))};static#t=this.\u0275dir=b.lG2({type:S,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(k,G){1&k&&b.NdJ("click",function(ve){return G.onClick(ve.button,ve.ctrlKey,ve.shiftKey,ve.altKey,ve.metaKey)}),2&k&&b.uIk("target",G.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",b.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",b.VuI],replaceUrl:["replaceUrl","replaceUrl",b.VuI],routerLink:"routerLink"},standalone:!0,features:[b.Xq5,b.TTD]})}return S})();class sd{}let Hl=(()=>{class S{constructor(D,k,G,ce,ve){this.router=D,this.injector=G,this.preloadingStrategy=ce,this.loader=ve}setUpPreloading(){this.subscription=this.router.events.pipe((0,tr.h)(D=>D instanceof $r),gt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(D,k){const G=[];for(const ce of k){ce.providers&&!ce._injector&&(ce._injector=(0,b.MMx)(ce.providers,D,`Route: ${ce.path}`));const ve=ce._injector??D,Qe=ce._loadedInjector??ve;(ce.loadChildren&&!ce._loadedRoutes&&void 0===ce.canLoad||ce.loadComponent&&!ce._loadedComponent)&&G.push(this.preloadConfig(ve,ce)),(ce.children||ce._loadedRoutes)&&G.push(this.processRoutes(Qe,ce.children??ce._loadedRoutes))}return(0,ae.D)(G).pipe((0,cr.J)())}preloadConfig(D,k){return this.preloadingStrategy.preload(k,()=>{let G;G=k.loadChildren&&void 0===k.canLoad?this.loader.loadChildren(D,k):(0,he.of)(null);const ce=G.pipe((0,Ue.z)(ve=>null===ve?(0,he.of)(void 0):(k._loadedRoutes=ve.routes,k._loadedInjector=ve.injector,this.processRoutes(ve.injector??D,ve.routes))));if(k.loadComponent&&!k._loadedComponent){const ve=this.loader.loadComponent(k);return(0,ae.D)([ce,ve]).pipe((0,cr.J)())}return ce})}static#e=this.\u0275fac=function(k){return new(k||S)(b.LFG(si),b.LFG(b.Sil),b.LFG(b.lqb),b.LFG(sd),b.LFG(Or))};static#t=this.\u0275prov=b.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();const od=new b.OlP("");let Ei=(()=>{class S{constructor(D,k,G,ce,ve={}){this.urlSerializer=D,this.transitions=k,this.viewportScroller=G,this.zone=ce,this.options=ve,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},ve.scrollPositionRestoration=ve.scrollPositionRestoration||"disabled",ve.anchorScrolling=ve.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(D=>{D instanceof va?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=D.navigationTrigger,this.restoredId=D.restoredState?D.restoredState.navigationId:0):D instanceof $r?(this.lastId=D.id,this.scheduleScrollEvent(D,this.urlSerializer.parse(D.urlAfterRedirects).fragment)):D instanceof as&&0===D.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(D,this.urlSerializer.parse(D.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(D=>{D instanceof ro&&(D.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(D.position):D.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(D.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(D,k){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ro(D,"popstate"===this.lastSource?this.store[this.restoredId]:null,k))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(k){b.$Z()};static#t=this.\u0275prov=b.Yz7({token:S,factory:S.\u0275fac})}return S})();function ci(S,R){return{\u0275kind:S,\u0275providers:R}}function ad(){const S=(0,b.f3M)(b.zs3);return R=>{const D=S.get(b.z2F);if(R!==D.components[0])return;const k=S.get(si),G=S.get(Gl);1===S.get(pl)&&k.initialNavigation(),S.get(zl,null,b.XFs.Optional)?.setUpPreloading(),S.get(od,null,b.XFs.Optional)?.init(),k.resetRootComponentType(D.componentTypes[0]),G.closed||(G.next(),G.complete(),G.unsubscribe())}}const Gl=new b.OlP("",{factory:()=>new wn.x}),pl=new b.OlP("",{providedIn:"root",factory:()=>1}),zl=new b.OlP("");function Wl(S){return ci(0,[{provide:zl,useExisting:Hl},{provide:sd,useExisting:S}])}const Zi=new b.OlP("ROUTER_FORROOT_GUARD"),Jd=[dt.Ye,{provide:Ne,useClass:tt},si,Qn,{provide:Ji,useFactory:function Aa(S){return S.routerState.root},deps:[si]},Or,[]];function gl(){return new b.PXZ("Router",si)}let Oo=(()=>{class S{constructor(D){}static forRoot(D,k){return{ngModule:S,providers:[Jd,[],{provide:Nr,multi:!0,useValue:D},{provide:Zi,useFactory:Zc,deps:[[si,new b.FiY,new b.tp0]]},{provide:qs,useValue:k||{}},k?.useHash?{provide:dt.S$,useClass:dt.Do}:{provide:dt.S$,useClass:dt.b0},{provide:od,useFactory:()=>{const S=(0,b.f3M)(dt.EM),R=(0,b.f3M)(b.R0b),D=(0,b.f3M)(qs),k=(0,b.f3M)(ii),G=(0,b.f3M)(Ne);return D.scrollOffset&&S.setOffset(D.scrollOffset),new Ei(G,k,S,R,D)}},k?.preloadingStrategy?Wl(k.preloadingStrategy).\u0275providers:[],{provide:b.PXZ,multi:!0,useFactory:gl},k?.initialNavigation?mc(k):[],k?.bindToComponentInputs?ci(8,[Ln,{provide:Xr,useExisting:Ln}]).\u0275providers:[],[{provide:ys,useFactory:ad},{provide:b.tb,multi:!0,useExisting:ys}]]}}static forChild(D){return{ngModule:S,providers:[{provide:Nr,multi:!0,useValue:D}]}}static#e=this.\u0275fac=function(k){return new(k||S)(b.LFG(Zi,8))};static#t=this.\u0275mod=b.oAB({type:S});static#n=this.\u0275inj=b.cJS({})}return S})();function Zc(S){return"guarded"}function mc(S){return["disabled"===S.initialNavigation?ci(3,[{provide:b.ip1,multi:!0,useFactory:()=>{const R=(0,b.f3M)(si);return()=>{R.setUpLocationChangeListener()}}},{provide:pl,useValue:2}]).\u0275providers:[],"enabledBlocking"===S.initialNavigation?ci(2,[{provide:pl,useValue:0},{provide:b.ip1,multi:!0,deps:[b.zs3],useFactory:R=>{const D=R.get(dt.V_,Promise.resolve());return()=>D.then(()=>new Promise(k=>{const G=R.get(si),ce=R.get(Gl);Ao(G,()=>{k(!0)}),R.get(ii).afterPreactivation=()=>(k(!0),ce.closed?(0,he.of)(void 0):ce),G.initialNavigation()}))}}]).\u0275providers:[]]}const ys=new b.OlP("")},4303:(Vt,Be,$)=>{"use strict";$.d(Be,{Jn:()=>Jn,KN:()=>bt,Mq:()=>xe,Xd:()=>St,ZF:()=>cr,qX:()=>Lt});var b=$(5861),X=$(4537),u=$(7879),ye=$(9058),ae=$(1878);class he{constructor(Ne){this.container=Ne}getPlatformInfoString(){return this.container.getProviders().map(tt=>{if(function Ie(at){const Ne=at.getComponent();return"VERSION"===Ne?.type}(tt)){const At=tt.getImmediate();return`${At.library}/${At.version}`}return null}).filter(tt=>tt).join(" ")}}const ke="@firebase/app",re=new u.Yd("@firebase/app"),Ue="[DEFAULT]",je={[ke]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ze=new Map,He=new Map;function Ke(at,Ne){try{at.container.addComponent(Ne)}catch(tt){re.debug(`Component ${Ne.name} failed to register with FirebaseApp ${at.name}`,tt)}}function St(at){const Ne=at.name;if(He.has(Ne))return re.debug(`There were multiple attempts to register component ${Ne}.`),!1;He.set(Ne,at);for(const tt of Ze.values())Ke(tt,at);return!0}function Lt(at,Ne){const tt=at.container.getProvider("heartbeat").getImmediate({optional:!0});return tt&&tt.triggerHeartbeat(),at.container.getProvider(Ne)}const ft=new ye.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class In{constructor(Ne,tt,At){this._isDeleted=!1,this._options=Object.assign({},Ne),this._config=Object.assign({},tt),this._name=tt.name,this._automaticDataCollectionEnabled=tt.automaticDataCollectionEnabled,this._container=At,this.container.addComponent(new X.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ne){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ne}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ne){this._isDeleted=Ne}checkDestroyed(){if(this.isDeleted)throw ft.create("app-deleted",{appName:this._name})}}const Jn="10.9.0";function cr(at,Ne={}){let tt=at;"object"!=typeof Ne&&(Ne={name:Ne});const At=Object.assign({name:Ue,automaticDataCollectionEnabled:!1},Ne),zt=At.name;if("string"!=typeof zt||!zt)throw ft.create("bad-app-name",{appName:String(zt)});if(tt||(tt=(0,ye.aH)()),!tt)throw ft.create("no-options");const Kt=Ze.get(zt);if(Kt){if((0,ye.vZ)(tt,Kt.options)&&(0,ye.vZ)(At,Kt.config))return Kt;throw ft.create("duplicate-app",{appName:zt})}const qn=new X.H0(zt);for(const B of He.values())qn.addComponent(B);const J=new In(tt,At,qn);return Ze.set(zt,J),J}function xe(at=Ue){const Ne=Ze.get(at);if(!Ne&&at===Ue&&(0,ye.aH)())return cr();if(!Ne)throw ft.create("no-app",{appName:at});return Ne}function bt(at,Ne,tt){var At;let zt=null!==(At=je[at])&&void 0!==At?At:at;tt&&(zt+=`-${tt}`);const Kt=zt.match(/\s|\//),qn=Ne.match(/\s|\//);if(Kt||qn){const J=[`Unable to register library "${zt}" with version "${Ne}":`];return Kt&&J.push(`library name "${zt}" contains illegal characters (whitespace or "/")`),Kt&&qn&&J.push("and"),qn&&J.push(`version name "${Ne}" contains illegal characters (whitespace or "/")`),void re.warn(J.join(" "))}St(new X.wA(`${zt}-version`,()=>({library:zt,version:Ne}),"VERSION"))}const yn="firebase-heartbeat-database",Cn=1,Xt="firebase-heartbeat-store";let pn=null;function br(){return pn||(pn=(0,ae.X3)(yn,Cn,{upgrade:(at,Ne)=>{if(0===Ne)try{at.createObjectStore(Xt)}catch(tt){console.warn(tt)}}}).catch(at=>{throw ft.create("idb-open",{originalErrorMessage:at.message})})),pn}function Dr(){return(Dr=(0,b.Z)(function*(at){try{const tt=(yield br()).transaction(Xt),At=yield tt.objectStore(Xt).get(lr(at));return yield tt.done,At}catch(Ne){if(Ne instanceof ye.ZR)re.warn(Ne.message);else{const tt=ft.create("idb-get",{originalErrorMessage:Ne?.message});re.warn(tt.message)}}})).apply(this,arguments)}function Cr(at,Ne){return En.apply(this,arguments)}function En(){return(En=(0,b.Z)(function*(at,Ne){try{const At=(yield br()).transaction(Xt,"readwrite");yield At.objectStore(Xt).put(Ne,lr(at)),yield At.done}catch(tt){if(tt instanceof ye.ZR)re.warn(tt.message);else{const At=ft.create("idb-set",{originalErrorMessage:tt?.message});re.warn(At.message)}}})).apply(this,arguments)}function lr(at){return`${at.name}!${at.options.appId}`}class Bn{constructor(Ne){this.container=Ne,this._heartbeatsCache=null;const tt=this.container.getProvider("app").getImmediate();this._storage=new Yi(tt),this._heartbeatsCachePromise=this._storage.read().then(At=>(this._heartbeatsCache=At,At))}triggerHeartbeat(){var Ne=this;return(0,b.Z)(function*(){var tt,At;const Kt=Ne.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),qn=ni();if((null!=(null===(tt=Ne._heartbeatsCache)||void 0===tt?void 0:tt.heartbeats)||(Ne._heartbeatsCache=yield Ne._heartbeatsCachePromise,null!=(null===(At=Ne._heartbeatsCache)||void 0===At?void 0:At.heartbeats)))&&Ne._heartbeatsCache.lastSentHeartbeatDate!==qn&&!Ne._heartbeatsCache.heartbeats.some(J=>J.date===qn))return Ne._heartbeatsCache.heartbeats.push({date:qn,agent:Kt}),Ne._heartbeatsCache.heartbeats=Ne._heartbeatsCache.heartbeats.filter(J=>{const B=new Date(J.date).valueOf();return Date.now()-B<=2592e6}),Ne._storage.overwrite(Ne._heartbeatsCache)})()}getHeartbeatsHeader(){var Ne=this;return(0,b.Z)(function*(){var tt;if(null===Ne._heartbeatsCache&&(yield Ne._heartbeatsCachePromise),null==(null===(tt=Ne._heartbeatsCache)||void 0===tt?void 0:tt.heartbeats)||0===Ne._heartbeatsCache.heartbeats.length)return"";const At=ni(),{heartbeatsToSend:zt,unsentEntries:Kt}=function Zt(at,Ne=1024){const tt=[];let At=at.slice();for(const zt of at){const Kt=tt.find(qn=>qn.agent===zt.agent);if(Kt){if(Kt.dates.push(zt.date),Zr(tt)>Ne){Kt.dates.pop();break}}else if(tt.push({agent:zt.agent,dates:[zt.date]}),Zr(tt)>Ne){tt.pop();break}At=At.slice(1)}return{heartbeatsToSend:tt,unsentEntries:At}}(Ne._heartbeatsCache.heartbeats),qn=(0,ye.L)(JSON.stringify({version:2,heartbeats:zt}));return Ne._heartbeatsCache.lastSentHeartbeatDate=At,Kt.length>0?(Ne._heartbeatsCache.heartbeats=Kt,yield Ne._storage.overwrite(Ne._heartbeatsCache)):(Ne._heartbeatsCache.heartbeats=[],Ne._storage.overwrite(Ne._heartbeatsCache)),qn})()}}function ni(){return(new Date).toISOString().substring(0,10)}class Yi{constructor(Ne){this.app=Ne,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,b.Z)(function*(){return!!(0,ye.hl)()&&(0,ye.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ne=this;return(0,b.Z)(function*(){if(yield Ne._canUseIndexedDBPromise){const At=yield function nn(at){return Dr.apply(this,arguments)}(Ne.app);return At?.heartbeats?At:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(Ne){var tt=this;return(0,b.Z)(function*(){var At;if(yield tt._canUseIndexedDBPromise){const Kt=yield tt.read();return Cr(tt.app,{lastSentHeartbeatDate:null!==(At=Ne.lastSentHeartbeatDate)&&void 0!==At?At:Kt.lastSentHeartbeatDate,heartbeats:Ne.heartbeats})}})()}add(Ne){var tt=this;return(0,b.Z)(function*(){var At;if(yield tt._canUseIndexedDBPromise){const Kt=yield tt.read();return Cr(tt.app,{lastSentHeartbeatDate:null!==(At=Ne.lastSentHeartbeatDate)&&void 0!==At?At:Kt.lastSentHeartbeatDate,heartbeats:[...Kt.heartbeats,...Ne.heartbeats]})}})()}}function Zr(at){return(0,ye.L)(JSON.stringify({version:2,heartbeats:at})).length}!function Gr(at){St(new X.wA("platform-logger",Ne=>new he(Ne),"PRIVATE")),St(new X.wA("heartbeat",Ne=>new Bn(Ne),"PRIVATE")),bt(ke,"0.9.29",at),bt(ke,"0.9.29","esm2017"),bt("fire-js","")}("")},4537:(Vt,Be,$)=>{"use strict";$.d(Be,{H0:()=>ke,wA:()=>u});var b=$(5861),X=$(9058);class u{constructor(re,le,Se){this.name=re,this.instanceFactory=le,this.type=Se,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(re){return this.instantiationMode=re,this}setMultipleInstances(re){return this.multipleInstances=re,this}setServiceProps(re){return this.serviceProps=re,this}setInstanceCreatedCallback(re){return this.onInstanceCreated=re,this}}const ye="[DEFAULT]";class ae{constructor(re,le){this.name=re,this.container=le,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(re){const le=this.normalizeInstanceIdentifier(re);if(!this.instancesDeferred.has(le)){const Se=new X.BH;if(this.instancesDeferred.set(le,Se),this.isInitialized(le)||this.shouldAutoInitialize())try{const Ce=this.getOrInitializeService({instanceIdentifier:le});Ce&&Se.resolve(Ce)}catch{}}return this.instancesDeferred.get(le).promise}getImmediate(re){var le;const Se=this.normalizeInstanceIdentifier(re?.identifier),Ce=null!==(le=re?.optional)&&void 0!==le&&le;if(!this.isInitialized(Se)&&!this.shouldAutoInitialize()){if(Ce)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Se})}catch(Me){if(Ce)return null;throw Me}}getComponent(){return this.component}setComponent(re){if(re.name!==this.name)throw Error(`Mismatching Component ${re.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=re,this.shouldAutoInitialize()){if(function Ie(Ee){return"EAGER"===Ee.instantiationMode}(re))try{this.getOrInitializeService({instanceIdentifier:ye})}catch{}for(const[le,Se]of this.instancesDeferred.entries()){const Ce=this.normalizeInstanceIdentifier(le);try{const Me=this.getOrInitializeService({instanceIdentifier:Ce});Se.resolve(Me)}catch{}}}}clearInstance(re=ye){this.instancesDeferred.delete(re),this.instancesOptions.delete(re),this.instances.delete(re)}delete(){var re=this;return(0,b.Z)(function*(){const le=Array.from(re.instances.values());yield Promise.all([...le.filter(Se=>"INTERNAL"in Se).map(Se=>Se.INTERNAL.delete()),...le.filter(Se=>"_delete"in Se).map(Se=>Se._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(re=ye){return this.instances.has(re)}getOptions(re=ye){return this.instancesOptions.get(re)||{}}initialize(re={}){const{options:le={}}=re,Se=this.normalizeInstanceIdentifier(re.instanceIdentifier);if(this.isInitialized(Se))throw Error(`${this.name}(${Se}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ce=this.getOrInitializeService({instanceIdentifier:Se,options:le});for(const[Me,qe]of this.instancesDeferred.entries())Se===this.normalizeInstanceIdentifier(Me)&&qe.resolve(Ce);return Ce}onInit(re,le){var Se;const Ce=this.normalizeInstanceIdentifier(le),Me=null!==(Se=this.onInitCallbacks.get(Ce))&&void 0!==Se?Se:new Set;Me.add(re),this.onInitCallbacks.set(Ce,Me);const qe=this.instances.get(Ce);return qe&&re(qe,Ce),()=>{Me.delete(re)}}invokeOnInitCallbacks(re,le){const Se=this.onInitCallbacks.get(le);if(Se)for(const Ce of Se)try{Ce(re,le)}catch{}}getOrInitializeService({instanceIdentifier:re,options:le={}}){let Se=this.instances.get(re);if(!Se&&this.component&&(Se=this.component.instanceFactory(this.container,{instanceIdentifier:(Ee=re,Ee===ye?void 0:Ee),options:le}),this.instances.set(re,Se),this.instancesOptions.set(re,le),this.invokeOnInitCallbacks(Se,re),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,re,Se)}catch{}var Ee;return Se||null}normalizeInstanceIdentifier(re=ye){return this.component?this.component.multipleInstances?re:ye:re}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ke{constructor(re){this.name=re,this.providers=new Map}addComponent(re){const le=this.getProvider(re.name);if(le.isComponentSet())throw new Error(`Component ${re.name} has already been registered with ${this.name}`);le.setComponent(re)}addOrOverwriteComponent(re){this.getProvider(re.name).isComponentSet()&&this.providers.delete(re.name),this.addComponent(re)}getProvider(re){if(this.providers.has(re))return this.providers.get(re);const le=new ae(re,this);return this.providers.set(re,le),le}getProviders(){return Array.from(this.providers.values())}}},7879:(Vt,Be,$)=>{"use strict";$.d(Be,{Yd:()=>Ie,in:()=>X});const b=[];var X=function(re){return re[re.DEBUG=0]="DEBUG",re[re.VERBOSE=1]="VERBOSE",re[re.INFO=2]="INFO",re[re.WARN=3]="WARN",re[re.ERROR=4]="ERROR",re[re.SILENT=5]="SILENT",re}(X||{});const u={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},ye=X.INFO,ae={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},he=(re,le,...Se)=>{if(le<re.logLevel)return;const Ce=(new Date).toISOString(),Me=ae[le];if(!Me)throw new Error(`Attempted to log a message with an invalid logType (value: ${le})`);console[Me](`[${Ce}]  ${re.name}:`,...Se)};class Ie{constructor(le){this.name=le,this._logLevel=ye,this._logHandler=he,this._userLogHandler=null,b.push(this)}get logLevel(){return this._logLevel}set logLevel(le){if(!(le in X))throw new TypeError(`Invalid value "${le}" assigned to \`logLevel\``);this._logLevel=le}setLogLevel(le){this._logLevel="string"==typeof le?u[le]:le}get logHandler(){return this._logHandler}set logHandler(le){if("function"!=typeof le)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=le}get userLogHandler(){return this._userLogHandler}set userLogHandler(le){this._userLogHandler=le}debug(...le){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...le),this._logHandler(this,X.DEBUG,...le)}log(...le){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...le),this._logHandler(this,X.VERBOSE,...le)}info(...le){this._userLogHandler&&this._userLogHandler(this,X.INFO,...le),this._logHandler(this,X.INFO,...le)}warn(...le){this._userLogHandler&&this._userLogHandler(this,X.WARN,...le),this._logHandler(this,X.WARN,...le)}error(...le){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...le),this._logHandler(this,X.ERROR,...le)}}},1878:(Vt,Be,$)=>{"use strict";$.d(Be,{X3:()=>Tt});var b=$(5861);const X=(_e,Le)=>Le.some(ut=>_e instanceof ut);let u,ye;const Ie=new WeakMap,ke=new WeakMap,Ee=new WeakMap,re=new WeakMap,le=new WeakMap;let Me={get(_e,Le,ut){if(_e instanceof IDBTransaction){if("done"===Le)return ke.get(_e);if("objectStoreNames"===Le)return _e.objectStoreNames||Ee.get(_e);if("store"===Le)return ut.objectStoreNames[1]?void 0:ut.objectStore(ut.objectStoreNames[0])}return Ct(_e[Le])},set:(_e,Le,ut)=>(_e[Le]=ut,!0),has:(_e,Le)=>_e instanceof IDBTransaction&&("done"===Le||"store"===Le)||Le in _e};function xt(_e){return"function"==typeof _e?function It(_e){return _e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function he(){return ye||(ye=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(_e)?function(...Le){return _e.apply(cn(this),Le),Ct(Ie.get(this))}:function(...Le){return Ct(_e.apply(cn(this),Le))}:function(Le,...ut){const wn=_e.call(cn(this),Le,...ut);return Ee.set(wn,Le.sort?Le.sort():[Le]),Ct(wn)}}(_e):(_e instanceof IDBTransaction&&function Ce(_e){if(ke.has(_e))return;const Le=new Promise((ut,wn)=>{const dt=()=>{_e.removeEventListener("complete",sn),_e.removeEventListener("error",_n),_e.removeEventListener("abort",_n)},sn=()=>{ut(),dt()},_n=()=>{wn(_e.error||new DOMException("AbortError","AbortError")),dt()};_e.addEventListener("complete",sn),_e.addEventListener("error",_n),_e.addEventListener("abort",_n)});ke.set(_e,Le)}(_e),X(_e,function ae(){return u||(u=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(_e,Me):_e)}function Ct(_e){if(_e instanceof IDBRequest)return function Se(_e){const Le=new Promise((ut,wn)=>{const dt=()=>{_e.removeEventListener("success",sn),_e.removeEventListener("error",_n)},sn=()=>{ut(Ct(_e.result)),dt()},_n=()=>{wn(_e.error),dt()};_e.addEventListener("success",sn),_e.addEventListener("error",_n)});return Le.then(ut=>{ut instanceof IDBCursor&&Ie.set(ut,_e)}).catch(()=>{}),le.set(Le,_e),Le}(_e);if(re.has(_e))return re.get(_e);const Le=xt(_e);return Le!==_e&&(re.set(_e,Le),le.set(Le,_e)),Le}const cn=_e=>le.get(_e);function Tt(_e,Le,{blocked:ut,upgrade:wn,blocking:dt,terminated:sn}={}){const _n=indexedDB.open(_e,Le),On=Ct(_n);return wn&&_n.addEventListener("upgradeneeded",Yn=>{wn(Ct(_n.result),Yn.oldVersion,Yn.newVersion,Ct(_n.transaction),Yn)}),ut&&_n.addEventListener("blocked",Yn=>ut(Yn.oldVersion,Yn.newVersion,Yn)),On.then(Yn=>{sn&&Yn.addEventListener("close",()=>sn()),dt&&Yn.addEventListener("versionchange",tr=>dt(tr.oldVersion,tr.newVersion,tr))}).catch(()=>{}),On}const rt=["get","getKey","getAll","getAllKeys","count"],yt=["put","add","delete","clear"],ze=new Map;function Ae(_e,Le){if(!(_e instanceof IDBDatabase)||Le in _e||"string"!=typeof Le)return;if(ze.get(Le))return ze.get(Le);const ut=Le.replace(/FromIndex$/,""),wn=Le!==ut,dt=yt.includes(ut);if(!(ut in(wn?IDBIndex:IDBObjectStore).prototype)||!dt&&!rt.includes(ut))return;const sn=function(){var _n=(0,b.Z)(function*(On,...Yn){const tr=this.transaction(On,dt?"readwrite":"readonly");let Ue=tr.store;return wn&&(Ue=Ue.index(Yn.shift())),(yield Promise.all([Ue[ut](...Yn),dt&&tr.done]))[0]});return function(Yn){return _n.apply(this,arguments)}}();return ze.set(Le,sn),sn}!function qe(_e){Me=_e(Me)}(_e=>({..._e,get:(Le,ut,wn)=>Ae(Le,ut)||_e.get(Le,ut,wn),has:(Le,ut)=>!!Ae(Le,ut)||_e.has(Le,ut)}))},5861:(Vt,Be,$)=>{"use strict";function b(u,ye,ae,he,Ie,ke,Ee){try{var re=u[ke](Ee),le=re.value}catch(Se){return void ae(Se)}re.done?ye(le):Promise.resolve(le).then(he,Ie)}function X(u){return function(){var ye=this,ae=arguments;return new Promise(function(he,Ie){var ke=u.apply(ye,ae);function Ee(le){b(ke,he,Ie,Ee,re,"next",le)}function re(le){b(ke,he,Ie,Ee,re,"throw",le)}Ee(void 0)})}}$.d(Be,{Z:()=>X})},7582:(Vt,Be,$)=>{"use strict";function ye(Ue,je){var Ze={};for(var He in Ue)Object.prototype.hasOwnProperty.call(Ue,He)&&je.indexOf(He)<0&&(Ze[He]=Ue[He]);if(null!=Ue&&"function"==typeof Object.getOwnPropertySymbols){var Ke=0;for(He=Object.getOwnPropertySymbols(Ue);Ke<He.length;Ke++)je.indexOf(He[Ke])<0&&Object.prototype.propertyIsEnumerable.call(Ue,He[Ke])&&(Ze[He[Ke]]=Ue[He[Ke]])}return Ze}function Se(Ue,je,Ze,He){return new(Ze||(Ze=Promise))(function(gt,St){function Lt(Bt){try{tn(He.next(Bt))}catch(ft){St(ft)}}function Qt(Bt){try{tn(He.throw(Bt))}catch(ft){St(ft)}}function tn(Bt){Bt.done?gt(Bt.value):function Ke(gt){return gt instanceof Ze?gt:new Ze(function(St){St(gt)})}(Bt.value).then(Lt,Qt)}tn((He=He.apply(Ue,je||[])).next())})}function st(Ue){return this instanceof st?(this.v=Ue,this):new st(Ue)}function rt(Ue,je,Ze){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ke,He=Ze.apply(Ue,je||[]),gt=[];return Ke={},St("next"),St("throw"),St("return"),Ke[Symbol.asyncIterator]=function(){return this},Ke;function St(In){He[In]&&(Ke[In]=function(Jn){return new Promise(function(cr,xe){gt.push([In,Jn,cr,xe])>1||Lt(In,Jn)})})}function Lt(In,Jn){try{!function Qt(In){In.value instanceof st?Promise.resolve(In.value.v).then(tn,Bt):ft(gt[0][2],In)}(He[In](Jn))}catch(cr){ft(gt[0][3],cr)}}function tn(In){Lt("next",In)}function Bt(In){Lt("throw",In)}function ft(In,Jn){In(Jn),gt.shift(),gt.length&&Lt(gt[0][0],gt[0][1])}}function ze(Ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ze,je=Ue[Symbol.asyncIterator];return je?je.call(Ue):(Ue=function It(Ue){var je="function"==typeof Symbol&&Symbol.iterator,Ze=je&&Ue[je],He=0;if(Ze)return Ze.call(Ue);if(Ue&&"number"==typeof Ue.length)return{next:function(){return Ue&&He>=Ue.length&&(Ue=void 0),{value:Ue&&Ue[He++],done:!Ue}}};throw new TypeError(je?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ue),Ze={},He("next"),He("throw"),He("return"),Ze[Symbol.asyncIterator]=function(){return this},Ze);function He(gt){Ze[gt]=Ue[gt]&&function(St){return new Promise(function(Lt,Qt){!function Ke(gt,St,Lt,Qt){Promise.resolve(Qt).then(function(tn){gt({value:tn,done:Lt})},St)}(Lt,Qt,(St=Ue[gt](St)).done,St.value)})}}}$.d(Be,{FC:()=>rt,KL:()=>ze,_T:()=>ye,mG:()=>Se,qq:()=>st}),"function"==typeof SuppressedError&&SuppressedError}},Vt=>{var Be=b=>Vt(Vt.s=b);Be(2614),Be(5718)}]);