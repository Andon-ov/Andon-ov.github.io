"use strict";(self.webpackChunkThe_Natural_Way=self.webpackChunkThe_Natural_Way||[]).push([[179],{734:()=>{function ye(t){return"function"==typeof t}function Hs(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Lo=Hs(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Gs(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Mt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(ye(r))try{r()}catch(s){e=s instanceof Lo?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{Vo(s)}catch(o){e=e??[],o instanceof Lo?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Lo(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Vo(e);else{if(e instanceof Mt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Gs(n,e)}remove(e){const{_finalizers:n}=this;n&&Gs(n,e),e instanceof Mt&&e._removeParent(this)}}Mt.EMPTY=(()=>{const t=new Mt;return t.closed=!0,t})();const Rl=Mt.EMPTY;function ip(t){return t instanceof Mt||t&&"closed"in t&&ye(t.remove)&&ye(t.add)&&ye(t.unsubscribe)}function Vo(t){ye(t)?t():t.unsubscribe()}const zs={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},gc={setTimeout(t,e,...n){const{delegate:r}=gc;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=gc;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Nv(t){gc.setTimeout(()=>{const{onUnhandledError:e}=zs;if(!e)throw t;e(t)})}function Bo(){}const xv=kl("C",void 0,void 0);function kl(t,e,n){return{kind:t,value:e,error:n}}let ss=null;function Ni(t){if(zs.useDeprecatedSynchronousErrorHandling){const e=!ss;if(e&&(ss={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=ss;if(ss=null,n)throw r}}else t()}class mc extends Mt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ip(e)&&e.add(this)):this.destination=Fl}static create(e,n,r){return new os(e,n,r)}next(e){this.isStopped?Pl(function Ov(t){return kl("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Pl(function Mv(t){return kl("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Pl(xv,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const sp=Function.prototype.bind;function _c(t,e){return sp.call(t,e)}class op{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){br(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){br(r)}else br(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){br(n)}}}class os extends mc{constructor(e,n,r){let i;if(super(),ye(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&zs.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&_c(e.next,s),error:e.error&&_c(e.error,s),complete:e.complete&&_c(e.complete,s)}):i=e}this.destination=new op(i)}}function br(t){zs.useDeprecatedSynchronousErrorHandling?function Rv(t){zs.useDeprecatedSynchronousErrorHandling&&ss&&(ss.errorThrown=!0,ss.error=t)}(t):Nv(t)}function Pl(t,e){const{onStoppedNotification:n}=zs;n&&gc.setTimeout(()=>n(t,e))}const Fl={closed:!0,next:Bo,error:function ap(t){throw t},complete:Bo},Ll="function"==typeof Symbol&&Symbol.observable||"@@observable";function ni(t){return t}function up(t){return 0===t.length?ni:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Fe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function Pv(t){return t&&t instanceof mc||function kv(t){return t&&ye(t.next)&&ye(t.error)&&ye(t.complete)}(t)&&ip(t)}(n)?n:new os(n,r,i);return Ni(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=lp(r))((i,s)=>{const o=new os({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Ll](){return this}pipe(...n){return up(n)(this)}toPromise(n){return new(n=lp(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function lp(t){var e;return null!==(e=t??zs.Promise)&&void 0!==e?e:Promise}const Fv=Hs(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Le=(()=>{class t extends Fe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new dp(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Fv}next(n){Ni(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Ni(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ni(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?Rl:(this.currentObservers=null,s.push(n),new Mt(()=>{this.currentObservers=null,Gs(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Fe;return n.source=this,n}}return t.create=(e,n)=>new dp(e,n),t})();class dp extends Le{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:Rl}}function Vl(t){return ye(t?.lift)}function _t(t){return e=>{if(Vl(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function rt(t,e,n,r,i){return new Lv(t,e,n,r,i)}class Lv extends mc{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Ae(t,e){return _t((n,r)=>{let i=0;n.subscribe(rt(r,s=>{r.next(t.call(e,s,i++))}))})}function pp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function nr(t){return this instanceof nr?(this.v=t,this):new nr(t)}function rr(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Ot(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){!function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}(a,c,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Hv=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function Jx(t){return ye(t?.then)}function Zx(t){return ye(t[Ll])}function Xx(t){return Symbol.asyncIterator&&ye(t?.[Symbol.asyncIterator])}function eM(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const tM=function f6(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function nM(t){return ye(t?.[tM])}function rM(t){return function Uo(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function c(h){h.value instanceof nr?Promise.resolve(h.value.v).then(u,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function u(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield nr(n.read());if(i)return yield nr(void 0);yield yield nr(r)}}finally{n.releaseLock()}})}function iM(t){return ye(t?.getReader)}function Yt(t){if(t instanceof Fe)return t;if(null!=t){if(Zx(t))return function p6(t){return new Fe(e=>{const n=t[Ll]();if(ye(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Hv(t))return function g6(t){return new Fe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(Jx(t))return function m6(t){return new Fe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Nv)})}(t);if(Xx(t))return sM(t);if(nM(t))return function _6(t){return new Fe(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(iM(t))return function y6(t){return sM(rM(t))}(t)}throw eM(t)}function sM(t){return new Fe(e=>{(function v6(t,e){var n,r,i,s;return function E(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=rr(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function as(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Qt(t,e,n=1/0){return ye(e)?Qt((r,i)=>Ae((s,o)=>e(r,s,i,o))(Yt(t(r,i))),n):("number"==typeof e&&(n=e),_t((r,i)=>function b6(t,e,n,r,i,s,o,a){const c=[];let u=0,l=0,d=!1;const h=()=>{d&&!c.length&&!u&&e.complete()},f=g=>u<r?p(g):c.push(g),p=g=>{s&&e.next(g),u++;let m=!1;Yt(n(g,l++)).subscribe(rt(e,b=>{i?.(b),s?f(b):e.next(b)},()=>{m=!0},void 0,()=>{if(m)try{for(u--;c.length&&u<r;){const b=c.shift();o?as(e,o,()=>p(b)):p(b)}h()}catch(b){e.error(b)}}))};return t.subscribe(rt(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function bc(t=1/0){return Qt(ni,t)}const Br=new Fe(t=>t.complete());function oM(t){return t&&ye(t.schedule)}function Gv(t){return t[t.length-1]}function mp(t){return ye(Gv(t))?t.pop():void 0}function Ul(t){return oM(Gv(t))?t.pop():void 0}function _p(t,e=0){return _t((n,r)=>{n.subscribe(rt(r,i=>as(r,t,()=>r.next(i),e),()=>as(r,t,()=>r.complete(),e),i=>as(r,t,()=>r.error(i),e)))})}function yp(t,e=0){return _t((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function aM(t,e){if(!t)throw new Error("Iterable cannot be null");return new Fe(n=>{as(n,e,()=>{const r=t[Symbol.asyncIterator]();as(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function an(t,e){return e?function A6(t,e){if(null!=t){if(Zx(t))return function I6(t,e){return Yt(t).pipe(yp(e),_p(e))}(t,e);if(Hv(t))return function E6(t,e){return new Fe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(Jx(t))return function C6(t,e){return Yt(t).pipe(yp(e),_p(e))}(t,e);if(Xx(t))return aM(t,e);if(nM(t))return function T6(t,e){return new Fe(n=>{let r;return as(n,e,()=>{r=t[tM](),as(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>ye(r?.return)&&r.return()})}(t,e);if(iM(t))return function S6(t,e){return aM(rM(t),e)}(t,e)}throw eM(t)}(t,e):Yt(t)}class Ur extends Le{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function se(...t){return an(t,Ul(t))}function zv(t={}){const{connector:e=(()=>new Le),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,c,u=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=c=void 0,l=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return _t((g,m)=>{u++,!d&&!l&&h();const b=c=c??e();m.add(()=>{u--,0===u&&!d&&!l&&(a=Wv(p,i))}),b.subscribe(m),!o&&u>0&&(o=new os({next:_=>b.next(_),error:_=>{d=!0,h(),a=Wv(f,n,_),b.error(_)},complete:()=>{l=!0,h(),a=Wv(f,r),b.complete()}}),Yt(g).subscribe(o))})(s)}}function Wv(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new os({next:()=>{r.unsubscribe(),t()}});return Yt(e(...n)).subscribe(r)}function ri(t,e){return _t((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(rt(r,c=>{i?.unsubscribe();let u=0;const l=s++;Yt(t(c,l)).subscribe(i=rt(r,d=>r.next(e?e(c,d,l,u++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function N6(t,e){return t===e}function Ke(t){for(let e in t)if(t[e]===Ke)return e;throw Error("Could not find renamed property on target object.")}function vp(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Jt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Jt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function qv(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const x6=Ke({__forward_ref__:Ke});function we(t){return t.__forward_ref__=we,t.toString=function(){return Jt(this())},t}function ce(t){return Kv(t)?t():t}function Kv(t){return"function"==typeof t&&t.hasOwnProperty(x6)&&t.__forward_ref__===we}function Yv(t){return t&&!!t.\u0275providers}const lM="https://g.co/ng/security#xss";class O extends Error{constructor(e,n){super(function bp(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function le(t){return"string"==typeof t?t:null==t?"":String(t)}function Qv(t,e){throw new O(-201,!1)}function jr(t,e){null==t&&function oe(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function U(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ve(t){return{providers:t.providers||[],imports:t.imports||[]}}function wp(t){return dM(t,Ip)||dM(t,hM)}function dM(t,e){return t.hasOwnProperty(e)?t[e]:null}function Dp(t){return t&&(t.hasOwnProperty(Jv)||t.hasOwnProperty(V6))?t[Jv]:null}const Ip=Ke({\u0275prov:Ke}),Jv=Ke({\u0275inj:Ke}),hM=Ke({ngInjectableDef:Ke}),V6=Ke({ngInjectorDef:Ke});var Ce=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Ce||{});let Zv;function ir(t){const e=Zv;return Zv=t,e}function pM(t,e,n){const r=wp(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Ce.Optional?null:void 0!==e?e:void Qv(Jt(t))}const it=globalThis;class Q{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=U({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const jl={},r0="__NG_DI_FLAG__",Cp="ngTempTokenPath",j6=/\n/gm,mM="__source";let wc;function qs(t){const e=wc;return wc=t,e}function G6(t,e=Ce.Default){if(void 0===wc)throw new O(-203,!1);return null===wc?pM(t,void 0,e):wc.get(t,e&Ce.Optional?null:void 0,e)}function H(t,e=Ce.Default){return(function fM(){return Zv}()||G6)(ce(t),e)}function B(t,e=Ce.Default){return H(t,Ep(e))}function Ep(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function s0(t){const e=[];for(let n=0;n<t.length;n++){const r=ce(t[n]);if(Array.isArray(r)){if(0===r.length)throw new O(900,!1);let i,s=Ce.Default;for(let o=0;o<r.length;o++){const a=r[o],c=z6(a);"number"==typeof c?-1===c?i=a.token:s|=c:i=a}e.push(H(i,s))}else e.push(H(r))}return e}function $l(t,e){return t[r0]=e,t.prototype[r0]=e,t}function z6(t){return t[r0]}function cs(t){return{toString:t}.toString()}var Tp=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Tp||{}),ii=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(ii||{});const xi={},Ve=[],Sp=Ke({\u0275cmp:Ke}),o0=Ke({\u0275dir:Ke}),a0=Ke({\u0275pipe:Ke}),yM=Ke({\u0275mod:Ke}),us=Ke({\u0275fac:Ke}),Hl=Ke({__NG_ELEMENT_ID__:Ke}),vM=Ke({__NG_ENV_ID__:Ke});function bM(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function c0(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];DM(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function wM(t){return 3===t||4===t||6===t}function DM(t){return 64===t.charCodeAt(0)}function Gl(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||IM(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function IM(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const CM="ng-template";function K6(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==bM(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function EM(t){return 4===t.type&&t.value!==CM}function Y6(t,e,n){return e===(4!==t.type||n?t.value:CM)}function Q6(t,e,n){let r=4;const i=t.attrs||[],s=function X6(t){for(let e=0;e<t.length;e++)if(wM(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!Y6(t,c,n)||""===c&&1===e.length){if(si(r))return!1;o=!0}}else{const u=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!K6(t.attrs,u,n)){if(si(r))return!1;o=!0}continue}const d=J6(8&r?"class":c,i,EM(t),n);if(-1===d){if(si(r))return!1;o=!0;continue}if(""!==u){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==bM(f,u,0)||2&r&&u!==h){if(si(r))return!1;o=!0}}}}else{if(!o&&!si(r)&&!si(c))return!1;if(o&&si(c))continue;o=!1,r=c|1&r}}return si(r)||o}function si(t){return 0==(1&t)}function J6(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function e7(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function TM(t,e,n=!1){for(let r=0;r<e.length;r++)if(Q6(t,e[r],n))return!0;return!1}function t7(t,e){e:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function SM(t,e){return t?":not("+e.trim()+")":e}function n7(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!si(o)&&(e+=SM(s,i),i=""),r=o,s=s||!si(r);n++}return""!==i&&(e+=SM(s,i)),e}function yt(t){return cs(()=>{const e=NM(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Tp.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||ii.Emulated,styles:t.styles||Ve,_:null,schemas:t.schemas||null,tView:null,id:""};xM(n);const r=t.dependencies;return n.directiveDefs=Ap(r,!1),n.pipeDefs=Ap(r,!0),n.id=function l7(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function o7(t){return Ne(t)||vn(t)}function a7(t){return null!==t}function De(t){return cs(()=>({type:t.type,bootstrap:t.bootstrap||Ve,declarations:t.declarations||Ve,imports:t.imports||Ve,exports:t.exports||Ve,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function AM(t,e){if(null==t)return xi;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function L(t){return cs(()=>{const e=NM(t);return xM(e),e})}function Ne(t){return t[Sp]||null}function vn(t){return t[o0]||null}function Hn(t){return t[a0]||null}function Dr(t,e){const n=t[yM]||null;if(!n&&!0===e)throw new Error(`Type ${Jt(t)} does not have '\u0275mod' property.`);return n}function NM(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||xi,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Ve,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:AM(t.inputs,e),outputs:AM(t.outputs)}}function xM(t){t.features?.forEach(e=>e(t))}function Ap(t,e){if(!t)return null;const n=e?Hn:o7;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(a7)}const Et=0,Y=1,pe=2,ft=3,oi=4,zl=5,kn=6,Ic=7,Rt=8,Ks=9,Cc=10,de=11,Wl=12,MM=13,Ec=14,kt=15,ql=16,Tc=17,Mi=18,Kl=19,OM=20,Ys=21,ls=22,Yl=23,Ql=24,Ee=25,u0=1,RM=2,Oi=7,Sc=9,bn=11;function or(t){return Array.isArray(t)&&"object"==typeof t[u0]}function Gn(t){return Array.isArray(t)&&!0===t[u0]}function l0(t){return 0!=(4&t.flags)}function Ho(t){return t.componentOffset>-1}function xp(t){return 1==(1&t.flags)}function ai(t){return!!t.template}function d0(t){return 0!=(512&t[pe])}function Go(t,e){return t.hasOwnProperty(us)?t[us]:null}let wn=null,Mp=!1;function $r(t){const e=wn;return wn=t,e}const FM={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function VM(t){if(!Zl(t)||t.dirty){if(!t.producerMustRecompute(t)&&!jM(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function UM(t){t.dirty=!0,function BM(t){if(void 0===t.liveConsumerNode)return;const e=Mp;Mp=!0;try{for(const n of t.liveConsumerNode)n.dirty||UM(n)}finally{Mp=e}}(t),t.consumerMarkedDirty?.(t)}function f0(t){return t&&(t.nextProducerIndex=0),$r(t)}function p0(t,e){if($r(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Zl(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Op(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function jM(t){Ac(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(VM(n),r!==n.version))return!0}return!1}function $M(t){if(Ac(t),Zl(t))for(let e=0;e<t.producerNode.length;e++)Op(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Op(t,e){if(function GM(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Ac(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)Op(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Ac(i),i.producerIndexOfThis[r]=e}}function Zl(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ac(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let zM=null;const YM=()=>{},I7=(()=>({...FM,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:YM}))();class C7{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Dn(){return QM}function QM(t){return t.type.prototype.ngOnChanges&&(t.setInput=T7),E7}function E7(){const t=ZM(this),e=t?.current;if(e){const n=t.previous;if(n===xi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function T7(t,e,n,r){const i=this.declaredInputs[n],s=ZM(t)||function S7(t,e){return t[JM]=e}(t,{previous:xi,current:null}),o=s.current||(s.current={}),a=s.previous,c=a[i];o[i]=new C7(c&&c.currentValue,e,a===xi),t[r]=e}Dn.ngInherit=!0;const JM="__ngSimpleChanges__";function ZM(t){return t[JM]||null}const Ri=function(t,e,n){};function st(t){for(;Array.isArray(t);)t=t[Et];return t}function Rp(t,e){return st(e[t])}function ar(t,e){return st(e[t.index])}function tO(t,e){return t.data[e]}function Ir(t,e){const n=e[t];return or(n)?n:n[Et]}function Js(t,e){return null==e?null:t[e]}function nO(t){t[Tc]=0}function R7(t){1024&t[pe]||(t[pe]|=1024,iO(t,1))}function rO(t){1024&t[pe]&&(t[pe]&=-1025,iO(t,-1))}function iO(t,e){let n=t[ft];if(null===n)return;n[zl]+=e;let r=n;for(n=n[ft];null!==n&&(1===e&&1===r[zl]||-1===e&&0===r[zl]);)n[zl]+=e,r=n,n=n[ft]}const ae={lFrame:gO(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function aO(){return ae.bindingsEnabled}function xc(){return null!==ae.skipHydrationRootTNode}function N(){return ae.lFrame.lView}function xe(){return ae.lFrame.tView}function In(){let t=cO();for(;null!==t&&64===t.type;)t=t.parent;return t}function cO(){return ae.lFrame.currentTNode}function ki(t,e){const n=ae.lFrame;n.currentTNode=t,n.isParent=e}function v0(){return ae.lFrame.isParent}function b0(){ae.lFrame.isParent=!1}function Mc(){return ae.lFrame.bindingIndex++}function hs(t){const e=ae.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function z7(t,e){const n=ae.lFrame;n.bindingIndex=n.bindingRootIndex=t,w0(e)}function w0(t){ae.lFrame.currentDirectiveIndex=t}function hO(){return ae.lFrame.currentQueryIndex}function I0(t){ae.lFrame.currentQueryIndex=t}function q7(t){const e=t[Y];return 2===e.type?e.declTNode:1===e.type?t[kn]:null}function fO(t,e,n){if(n&Ce.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&Ce.Host||(i=q7(s),null===i||(s=s[Ec],10&i.type))););if(null===i)return!1;e=i,t=s}const r=ae.lFrame=pO();return r.currentTNode=e,r.lView=t,!0}function C0(t){const e=pO(),n=t[Y];ae.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function pO(){const t=ae.lFrame,e=null===t?null:t.child;return null===e?gO(t):e}function gO(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function mO(){const t=ae.lFrame;return ae.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const _O=mO;function E0(){const t=mO();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Wn(){return ae.lFrame.selectedIndex}function zo(t){ae.lFrame.selectedIndex=t}function vt(){const t=ae.lFrame;return tO(t.tView,t.selectedIndex)}let vO=!0;function kp(){return vO}function Zs(t){vO=t}function Pp(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function Fp(t,e,n){bO(t,e,3,n)}function Lp(t,e,n,r){(3&t[pe])===n&&bO(t,e,n,r)}function T0(t,e){let n=t[pe];(3&n)===e&&(n&=8191,n+=1,t[pe]=n)}function bO(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let c=void 0!==r?65535&t[Tc]:0;c<o;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(t[Tc]+=65536),(a<s||-1==s)&&(tW(t,n,e,c),t[Tc]=(4294901760&t[Tc])+c+2),c++}function wO(t,e){Ri(4,t,e);const n=$r(null);try{e.call(t)}finally{$r(n),Ri(5,t,e)}}function tW(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[pe]>>13<t[Tc]>>16&&(3&t[pe])===e&&(t[pe]+=8192,wO(a,s)):wO(a,s)}const Oc=-1;class ed{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function A0(t){return t!==Oc}function td(t){return 32767&t}function nd(t,e){let n=function sW(t){return t>>16}(t),r=e;for(;n>0;)r=r[Ec],n--;return r}let N0=!0;function Vp(t){const e=N0;return N0=t,e}const DO=255,IO=5;let oW=0;const Pi={};function Bp(t,e){const n=CO(t,e);if(-1!==n)return n;const r=e[Y];r.firstCreatePass&&(t.injectorIndex=e.length,x0(r.data,t),x0(e,null),x0(r.blueprint,null));const i=Up(t,e),s=t.injectorIndex;if(A0(i)){const o=td(i),a=nd(i,e),c=a[Y].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=i,s}function x0(t,e){t.push(0,0,0,0,0,0,0,0,e)}function CO(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Up(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=MO(i),null===r)return Oc;if(n++,i=i[Ec],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Oc}function M0(t,e,n){!function aW(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Hl)&&(r=n[Hl]),null==r&&(r=n[Hl]=oW++);const i=r&DO;e.data[t+(i>>IO)]|=1<<i}(t,e,n)}function EO(t,e,n){if(n&Ce.Optional||void 0!==t)return t;Qv()}function TO(t,e,n,r){if(n&Ce.Optional&&void 0===r&&(r=null),!(n&(Ce.Self|Ce.Host))){const i=t[Ks],s=ir(void 0);try{return i?i.get(e,r,n&Ce.Optional):pM(e,r,n&Ce.Optional)}finally{ir(s)}}return EO(r,0,n)}function SO(t,e,n,r=Ce.Default,i){if(null!==t){if(2048&e[pe]&&!(r&Ce.Self)){const o=function fW(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[pe]&&!(512&o[pe]);){const a=AO(s,o,n,r|Ce.Self,Pi);if(a!==Pi)return a;let c=s.parent;if(!c){const u=o[OM];if(u){const l=u.get(n,Pi,r);if(l!==Pi)return l}c=MO(o),o=o[Ec]}s=c}return i}(t,e,n,r,Pi);if(o!==Pi)return o}const s=AO(t,e,n,r,Pi);if(s!==Pi)return s}return TO(e,n,r,i)}function AO(t,e,n,r,i){const s=function lW(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Hl)?t[Hl]:void 0;return"number"==typeof e?e>=0?e&DO:hW:e}(n);if("function"==typeof s){if(!fO(e,t,r))return r&Ce.Host?EO(i,0,r):TO(e,n,r,i);try{let o;if(o=s(r),null!=o||r&Ce.Optional)return o;Qv()}finally{_O()}}else if("number"==typeof s){let o=null,a=CO(t,e),c=Oc,u=r&Ce.Host?e[kt][kn]:null;for((-1===a||r&Ce.SkipSelf)&&(c=-1===a?Up(t,e):e[a+8],c!==Oc&&xO(r,!1)?(o=e[Y],a=td(c),e=nd(c,e)):a=-1);-1!==a;){const l=e[Y];if(NO(s,a,l.data)){const d=uW(a,e,n,o,r,u);if(d!==Pi)return d}c=e[a+8],c!==Oc&&xO(r,e[Y].data[a+8]===u)&&NO(s,a,e)?(o=l,a=td(c),e=nd(c,e)):a=-1}}return i}function uW(t,e,n,r,i,s){const o=e[Y],a=o.data[t+8],l=jp(a,o,n,null==r?Ho(a)&&N0:r!=o&&0!=(3&a.type),i&Ce.Host&&s===a);return null!==l?Wo(e,o,l,a):Pi}function jp(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,c=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<c&&n===p||f>=c&&p.type===n)return f}if(i){const f=o[c];if(f&&ai(f)&&f.type===n)return c}return null}function Wo(t,e,n,r){let i=t[n];const s=e.data;if(function nW(t){return t instanceof ed}(i)){const o=i;o.resolving&&function M6(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new O(-200,`Circular dependency in DI detected for ${t}${n}`)}(function Ge(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():le(t)}(s[n]));const a=Vp(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?ir(o.injectImpl):null;fO(t,r,Ce.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function eW(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=QM(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==u&&ir(u),Vp(a),o.resolving=!1,_O()}}return i}function NO(t,e,n){return!!(n[e+(t>>IO)]&1<<t)}function xO(t,e){return!(t&Ce.Self||t&Ce.Host&&e)}class qn{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return SO(this._tNode,this._lView,e,Ep(r),n)}}function hW(){return new qn(In(),N())}function Pt(t){return cs(()=>{const e=t.prototype.constructor,n=e[us]||O0(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[us]||O0(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function O0(t){return Kv(t)?()=>{const e=O0(ce(t));return e&&e()}:Go(t)}function MO(t){const e=t[Y],n=e.type;return 2===n?e.declTNode:1===n?t[kn]:null}const kc="__parameters__";function Fc(t,e,n){return cs(()=>{const r=function R0(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(c,u,l){const d=c.hasOwnProperty(kc)?c[kc]:Object.defineProperty(c,kc,{value:[]})[kc];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Vc(t,e){t.forEach(n=>Array.isArray(n)?Vc(n,e):e(n))}function RO(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function $p(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function sd(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function Cr(t,e,n){let r=Bc(t,e);return r>=0?t[1|r]=n:(r=~r,function bW(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function k0(t,e){const n=Bc(t,e);if(n>=0)return t[1|n]}function Bc(t,e){return function kO(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const cr=$l(Fc("Optional"),8),Gp=$l(Fc("SkipSelf"),4);function Yp(t){return 128==(128&t.flags)}var Xs=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Xs||{});const B0=new Map;let GW=0;const j0="__ngContext__";function Pn(t,e){or(e)?(t[j0]=e[Kl],function WW(t){B0.set(t[Kl],t)}(e)):t[j0]=e}let $0;function H0(t,e){return $0(t,e)}function cd(t){const e=t[ft];return Gn(e)?e[ft]:e}function eR(t){return nR(t[Wl])}function tR(t){return nR(t[oi])}function nR(t){for(;null!==t&&!Gn(t);)t=t[oi];return t}function $c(t,e,n,r,i){if(null!=r){let s,o=!1;Gn(r)?s=r:or(r)&&(o=!0,r=r[Et]);const a=st(r);0===t&&null!==n?null==i?oR(e,n,a):Ko(e,n,a,i||null,!0):1===t&&null!==n?Ko(e,n,a,i||null,!0):2===t?function ng(t,e,n){const r=eg(t,e);r&&function dq(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function pq(t,e,n,r,i){const s=n[Oi];s!==st(n)&&$c(e,t,r,s,i);for(let a=bn;a<n.length;a++){const c=n[a];ld(c[Y],c,t,e,r,s)}}(e,t,s,n,i)}}function Zp(t,e,n){return t.createElement(e,n)}function iR(t,e){const n=t[Sc],r=n.indexOf(e);rO(e),n.splice(r,1)}function Xp(t,e){if(t.length<=bn)return;const n=bn+e,r=t[n];if(r){const i=r[ql];null!==i&&i!==t&&iR(i,r),e>0&&(t[n-1][oi]=r[oi]);const s=$p(t,bn+e);!function rq(t,e){ld(t,e,e[de],2,null,null),e[Et]=null,e[kn]=null}(r[Y],r);const o=s[Mi];null!==o&&o.detachView(s[Y]),r[ft]=null,r[oi]=null,r[pe]&=-129}return r}function z0(t,e){if(!(256&e[pe])){const n=e[de];e[Yl]&&$M(e[Yl]),e[Ql]&&$M(e[Ql]),n.destroyNode&&ld(t,e,n,3,null,null),function oq(t){let e=t[Wl];if(!e)return W0(t[Y],t);for(;e;){let n=null;if(or(e))n=e[Wl];else{const r=e[bn];r&&(n=r)}if(!n){for(;e&&!e[oi]&&e!==t;)or(e)&&W0(e[Y],e),e=e[ft];null===e&&(e=t),or(e)&&W0(e[Y],e),n=e&&e[oi]}e=n}}(e)}}function W0(t,e){if(!(256&e[pe])){e[pe]&=-129,e[pe]|=256,function lq(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof ed)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],c=s[o+1];Ri(4,a,c);try{c.call(a)}finally{Ri(5,a,c)}}else{Ri(4,i,s);try{s.call(i)}finally{Ri(5,i,s)}}}}}(t,e),function uq(t,e){const n=t.cleanup,r=e[Ic];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[Ic]=null);const i=e[Ys];if(null!==i){e[Ys]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[Y].type&&e[de].destroy();const n=e[ql];if(null!==n&&Gn(e[ft])){n!==e[ft]&&iR(n,e);const r=e[Mi];null!==r&&r.detachView(t)}!function qW(t){B0.delete(t[Kl])}(e)}}function q0(t,e,n){return function sR(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[Et];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===ii.None||s===ii.Emulated)return null}return ar(r,n)}}(t,e.parent,n)}function Ko(t,e,n,r,i){t.insertBefore(e,n,r,i)}function oR(t,e,n){t.appendChild(e,n)}function aR(t,e,n,r,i){null!==r?Ko(t,e,n,r,i):oR(t,e,n)}function eg(t,e){return t.parentNode(e)}function cR(t,e,n){return lR(t,e,n)}let K0,rg,Z0,ig,lR=function uR(t,e,n){return 40&t.type?ar(t,n):null};function tg(t,e,n,r){const i=q0(t,r,e),s=e[de],a=cR(r.parent||e[kn],r,e);if(null!=i)if(Array.isArray(n))for(let c=0;c<n.length;c++)aR(s,i,n[c],a,!1);else aR(s,i,n,a,!1);void 0!==K0&&K0(s,r,e,n,i)}function ud(t,e){if(null!==e){const n=e.type;if(3&n)return ar(e,t);if(4&n)return Y0(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return ud(t,r);{const i=t[e.index];return Gn(i)?Y0(-1,i):st(i)}}if(32&n)return H0(e,t)()||st(t[e.index]);{const r=hR(t,e);return null!==r?Array.isArray(r)?r[0]:ud(cd(t[kt]),r):ud(t,e.next)}}return null}function hR(t,e){return null!==e?t[kt][kn].projection[e.projection]:null}function Y0(t,e){const n=bn+t+1;if(n<e.length){const r=e[n],i=r[Y].firstChild;if(null!==i)return ud(r,i)}return e[Oi]}function Q0(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],c=n.type;if(o&&0===e&&(a&&Pn(st(a),r),n.flags|=2),32!=(32&n.flags))if(8&c)Q0(t,e,n.child,r,i,s,!1),$c(e,t,i,a,s);else if(32&c){const u=H0(n,r);let l;for(;l=u();)$c(e,t,i,l,s);$c(e,t,i,a,s)}else 16&c?pR(t,e,r,n,i,s):$c(e,t,i,a,s);n=o?n.projectionNext:n.next}}function ld(t,e,n,r,i,s){Q0(n,r,t.firstChild,e,i,s,!1)}function pR(t,e,n,r,i,s){const o=n[kt],c=o[kn].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++)$c(e,t,i,c[u],s);else{let u=c;const l=o[ft];Yp(r)&&(u.flags|=128),Q0(t,e,u,l,i,s,!0)}}function gR(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function mR(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&c0(t,e,r),null!==i&&gR(t,e,i),null!==s&&function mq(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}function Hc(t){return function J0(){if(void 0===rg&&(rg=null,it.trustedTypes))try{rg=it.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return rg}()?.createHTML(t)||t}function Gc(){if(void 0!==Z0)return Z0;if(typeof document<"u")return document;throw new O(210,!1)}function X0(){if(void 0===ig&&(ig=null,it.trustedTypes))try{ig=it.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ig}function _R(t){return X0()?.createHTML(t)||t}function vR(t){return X0()?.createScriptURL(t)||t}class Yo{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${lM})`}}class wq extends Yo{getTypeName(){return"HTML"}}class Dq extends Yo{getTypeName(){return"Style"}}class Iq extends Yo{getTypeName(){return"Script"}}class Cq extends Yo{getTypeName(){return"URL"}}class Eq extends Yo{getTypeName(){return"ResourceURL"}}function Er(t){return t instanceof Yo?t.changingThisBreaksApplicationSecurity:t}function Fi(t,e){const n=function Tq(t){return t instanceof Yo&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${lM})`)}return n===e}class Oq{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const n=(new window.DOMParser).parseFromString(Hc(e),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}}class Rq{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const n=this.inertDocument.createElement("template");return n.innerHTML=Hc(e),n}}const Pq=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function sg(t){return(t=String(t)).match(Pq)?t:"unsafe:"+t}function fs(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function dd(...t){const e={};for(const n of t)for(const r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}const wR=fs("area,br,col,hr,img,wbr"),DR=fs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),IR=fs("rp,rt"),eb=dd(wR,dd(DR,fs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),dd(IR,fs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),dd(IR,DR)),tb=fs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),CR=dd(tb,fs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),fs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Fq=fs("script,style,template");class Lq{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(e){const n=e.nodeName.toLowerCase();if(!eb.hasOwnProperty(n))return this.sanitizedSomething=!0,!Fq.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!CR.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;tb[a]&&(c=sg(c)),this.buf.push(" ",o,'="',ER(c),'"')}return this.buf.push(">"),!0}endElement(e){const n=e.nodeName.toLowerCase();eb.hasOwnProperty(n)&&!wR.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(ER(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}}const Vq=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Bq=/([^\#-~ |!])/g;function ER(t){return t.replace(/&/g,"&amp;").replace(Vq,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(Bq,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let og;function TR(t,e){let n=null;try{og=og||function bR(t){const e=new Rq(t);return function kq(){try{return!!(new window.DOMParser).parseFromString(Hc(""),"text/html")}catch{return!1}}()?new Oq(e):e}(t);let r=e?String(e):"";n=og.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=og.getInertBodyElement(r)}while(r!==s);return Hc((new Lq).sanitizeChildren(nb(n)||n))}finally{if(n){const r=nb(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function nb(t){return"content"in t&&function Uq(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Wr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Wr||{});function SR(t){const e=hd();return e?_R(e.sanitize(Wr.HTML,t)||""):Fi(t,"HTML")?_R(Er(t)):TR(Gc(),le(t))}function ag(t){const e=hd();return e?e.sanitize(Wr.URL,t)||"":Fi(t,"URL")?Er(t):sg(le(t))}function AR(t){const e=hd();if(e)return vR(e.sanitize(Wr.RESOURCE_URL,t)||"");if(Fi(t,"ResourceURL"))return vR(Er(t));throw new O(904,!1)}function hd(){const t=N();return t&&t[Cc].sanitizer}const fd=new Q("ENVIRONMENT_INITIALIZER"),xR=new Q("INJECTOR",-1),MR=new Q("INJECTOR_DEF_TYPES");class rb{get(e,n=jl){if(n===jl){const r=new Error(`NullInjectorError: No provider for ${Jt(e)}!`);throw r.name="NullInjectorError",r}return n}}function Wq(...t){return{\u0275providers:RR(0,t),\u0275fromNgModule:!0}}function RR(t,...e){const n=[],r=new Set;let i;const s=o=>{n.push(o)};return Vc(e,o=>{const a=o;cg(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&kR(i,s),n}function kR(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];ib(i,s=>{e(s,r)})}}function cg(t,e,n,r){if(!(t=ce(t)))return!1;let i=null,s=Dp(t);const o=!s&&Ne(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const c=t.ngModule;if(s=Dp(c),!s)return!1;i=c}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const c="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const u of c)cg(u,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let u;r.add(i);try{Vc(s.imports,l=>{cg(l,e,n,r)&&(u||=[],u.push(l))})}finally{}void 0!==u&&kR(u,e)}if(!a){const u=Go(i)||(()=>new i);e({provide:i,useFactory:u,deps:Ve},i),e({provide:MR,useValue:i,multi:!0},i),e({provide:fd,useValue:()=>H(i),multi:!0},i)}const c=s.providers;if(null!=c&&!a){const u=t;ib(c,l=>{e(l,u)})}}}return i!==t&&void 0!==t.providers}function ib(t,e){for(let n of t)Yv(n)&&(n=n.\u0275providers),Array.isArray(n)?ib(n,e):e(n)}const qq=Ke({provide:String,useValue:Ke});function sb(t){return null!==t&&"object"==typeof t&&qq in t}function Qo(t){return"function"==typeof t}const ob=new Q("Set Injector scope."),ug={},Yq={};let ab;function lg(){return void 0===ab&&(ab=new rb),ab}class lr{}class zc extends lr{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ub(e,o=>this.processProvider(o)),this.records.set(xR,Wc(void 0,this)),i.has("environment")&&this.records.set(lr,Wc(void 0,this));const s=this.records.get(ob);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(MR.multi,Ve,Ce.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=qs(this),r=ir(void 0);try{return e()}finally{qs(n),ir(r)}}get(e,n=jl,r=Ce.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(vM))return e[vM](this);r=Ep(r);const s=qs(this),o=ir(void 0);try{if(!(r&Ce.SkipSelf)){let c=this.records.get(e);if(void 0===c){const u=function e9(t){return"function"==typeof t||"object"==typeof t&&t instanceof Q}(e)&&wp(e);c=u&&this.injectableDefInScope(u)?Wc(cb(e),ug):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(r&Ce.Self?lg():this.parent).get(e,n=r&Ce.Optional&&n===jl?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[Cp]=a[Cp]||[]).unshift(Jt(e)),s)throw a;return function W6(t,e,n,r){const i=t[Cp];throw e[mM]&&i.unshift(e[mM]),t.message=function q6(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=Jt(e);if(Array.isArray(e))i=e.map(Jt).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Jt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(j6,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Cp]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{ir(o),qs(s)}}resolveInjectorInitializers(){const e=qs(this),n=ir(void 0);try{const i=this.get(fd.multi,Ve,Ce.Self);for(const s of i)s()}finally{qs(e),ir(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Jt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new O(205,!1)}processProvider(e){let n=Qo(e=ce(e))?e:ce(e&&e.provide);const r=function Jq(t){return sb(t)?Wc(void 0,t.useValue):Wc(LR(t),ug)}(e);if(Qo(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Wc(void 0,ug,!0),i.factory=()=>s0(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===ug&&(n.value=Yq,n.value=n.factory()),"object"==typeof n.value&&n.value&&function Xq(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=ce(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function cb(t){const e=wp(t),n=null!==e?e.factory:Go(t);if(null!==n)return n;if(t instanceof Q)throw new O(204,!1);if(t instanceof Function)return function Qq(t){const e=t.length;if(e>0)throw sd(e,"?"),new O(204,!1);const n=function L6(t){return t&&(t[Ip]||t[hM])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new O(204,!1)}function LR(t,e,n){let r;if(Qo(t)){const i=ce(t);return Go(i)||cb(i)}if(sb(t))r=()=>ce(t.useValue);else if(function FR(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...s0(t.deps||[]));else if(function PR(t){return!(!t||!t.useExisting)}(t))r=()=>H(ce(t.useExisting));else{const i=ce(t&&(t.useClass||t.provide));if(!function Zq(t){return!!t.deps}(t))return Go(i)||cb(i);r=()=>new i(...s0(t.deps))}return r}function Wc(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function ub(t,e){for(const n of t)Array.isArray(n)?ub(n,e):n&&Yv(n)?ub(n.\u0275providers,e):e(n)}const dg=new Q("AppId",{providedIn:"root",factory:()=>t9}),t9="ng",VR=new Q("Platform Initializer"),ps=new Q("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),BR=new Q("CSP nonce",{providedIn:"root",factory:()=>Gc().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let UR=(t,e,n)=>null;function _b(t,e,n=!1){return UR(t,e,n)}class d9{}class HR{}class f9{resolveComponentFactory(e){throw function h9(t){const e=Error(`No component factory found for ${Jt(t)}.`);return e.ngComponent=t,e}(e)}}let _g=(()=>{class t{static#e=this.NULL=new f9}return t})();function p9(){return Yc(In(),N())}function Yc(t,e){return new Ue(ar(t,e))}let Ue=(()=>{class t{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=p9}return t})();function g9(t){return t instanceof Ue?t.nativeElement:t}class bb{}let Tr=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function m9(){const t=N(),n=Ir(In().index,t);return(or(n)?n:t)[de]}()}return t})(),_9=(()=>{class t{static#e=this.\u0275prov=U({token:t,providedIn:"root",factory:()=>null})}return t})();class Qc{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const wb=new Qc("16.2.12"),Db={};function KR(t,e=null,n=null,r){const i=YR(t,e,n,r);return i.resolveInjectorInitializers(),i}function YR(t,e=null,n=null,r,i=new Set){const s=[n||Ve,Wq(t)];return r=r||("object"==typeof t?void 0:Jt(t)),new zc(s,e||lg(),r||null,i)}let Gt=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=jl;static#t=this.NULL=new rb;static create(n,r){if(Array.isArray(n))return KR({name:""},r,n,"");{const i=n.name??"";return KR({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=U({token:t,providedIn:"any",factory:()=>H(xR)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function Ib(t){return t.ngOriginalError}class gs{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Ib(e);for(;n&&Ib(n);)n=Ib(n);return n||null}}function Cb(t){return e=>{setTimeout(t,void 0,e)}}const S=class E9 extends Le{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=Cb(s),i&&(i=Cb(i)),o&&(o=Cb(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Mt&&e.add(a),a}};function JR(...t){}class be{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new S(!1),this.onMicrotaskEmpty=new S(!1),this.onStable=new S(!1),this.onError=new S(!1),typeof Zone>"u")throw new O(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function T9(){const t="function"==typeof it.requestAnimationFrame;let e=it[t?"requestAnimationFrame":"setTimeout"],n=it[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function N9(t){const e=()=>{!function A9(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(it,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Tb(t),t.isCheckStableRunning=!0,Eb(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Tb(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(function M9(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,s,o,a);try{return ZR(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),XR(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return ZR(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),XR(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,Tb(t),Eb(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!be.isInAngularZone())throw new O(909,!1)}static assertNotInAngularZone(){if(be.isInAngularZone())throw new O(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,S9,JR,JR);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const S9={};function Eb(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Tb(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function ZR(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function XR(t){t._nesting--,Eb(t)}class x9{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new S,this.onMicrotaskEmpty=new S,this.onStable=new S,this.onError=new S}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const ek=new Q("",{providedIn:"root",factory:tk});function tk(){const t=B(be);let e=!0;return function cM(...t){const e=Ul(t),n=function D6(t,e){return"number"==typeof Gv(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Yt(r[0]):bc(n)(an(r,e)):Br}(new Fe(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new Fe(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{be.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{be.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(zv()))}function ms(t){return t instanceof Function?t():t}let Sb=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=U({token:t,providedIn:"root",factory:()=>new t})}return t})();function md(t){for(;t;){t[pe]|=64;const e=cd(t);if(d0(t)&&!e)return t;t=e}return null}const ok=new Q("",{providedIn:"root",factory:()=>!1});let bg=null;function lk(t,e){return t[e]??fk()}function dk(t,e){const n=fk();n.producerNode?.length&&(t[e]=bg,n.lView=t,bg=hk())}const j9={...FM,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{md(t.lView)},lView:null};function hk(){return Object.create(j9)}function fk(){return bg??=hk(),bg}const fe={};function K(t){pk(xe(),N(),Wn()+t,!1)}function pk(t,e,n,r){if(!r)if(3==(3&e[pe])){const s=t.preOrderCheckHooks;null!==s&&Fp(e,s,n)}else{const s=t.preOrderHooks;null!==s&&Lp(e,s,0,n)}zo(n)}function v(t,e=Ce.Default){const n=N();return null===n?H(t,e):SO(In(),n,ce(t),e)}function wg(t,e,n,r,i,s,o,a,c,u,l){const d=e.blueprint.slice();return d[Et]=i,d[pe]=140|r,(null!==u||t&&2048&t[pe])&&(d[pe]|=2048),nO(d),d[ft]=d[Ec]=t,d[Rt]=n,d[Cc]=o||t&&t[Cc],d[de]=a||t&&t[de],d[Ks]=c||t&&t[Ks]||null,d[kn]=s,d[Kl]=function zW(){return GW++}(),d[ls]=l,d[OM]=u,d[kt]=2==e.type?t[kt]:d,d}function eu(t,e,n,r,i){let s=t.data[e];if(null===s)s=function Ab(t,e,n,r,i){const s=cO(),o=v0(),c=t.data[e]=function Y9(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return xc()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=c),null!==s&&(o?null==s.child&&null!==c.parent&&(s.child=c):null===s.next&&(s.next=c,c.prev=s)),c}(t,e,n,r,i),function G7(){return ae.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Xl(){const t=ae.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return ki(s,!0),s}function _d(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function mk(t,e,n,r,i){const s=lk(e,Yl),o=Wn(),a=2&r;try{zo(-1),a&&e.length>Ee&&pk(t,e,Ee,!1),Ri(a?2:0,i);const u=a?s:null,l=f0(u);try{null!==u&&(u.dirty=!1),n(r,i)}finally{p0(u,l)}}finally{a&&null===e[Yl]&&dk(e,Yl),zo(o),Ri(a?3:1,i)}}function Nb(t,e,n){if(l0(e)){const r=$r(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{$r(r)}}}function xb(t,e,n){aO()&&(function nK(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;Ho(n)&&function uK(t,e,n){const r=ar(e,t),i=_k(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=Dg(t,wg(t,i,null,o,r,e,null,t[Cc].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Bp(n,e),Pn(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const c=t.data[a],u=Wo(e,t,a,n);Pn(u,e),null!==o&&lK(0,a-i,u,c,0,o),ai(c)&&(Ir(n.index,e)[Rt]=Wo(e,t,a,n))}}(t,e,n,ar(n,e)),64==(64&n.flags)&&Dk(t,e,n))}function Mb(t,e,n=ar){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function _k(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Ob(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Ob(t,e,n,r,i,s,o,a,c,u,l){const d=Ee+r,h=d+i,f=function H9(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:fe);return n}(d,h),p="function"==typeof u?u():u;return f[Y]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:l}}let yk=t=>null;function vk(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?bk(n,e,i,s):r.hasOwnProperty(i)&&bk(n,e,r[i],s)}return n}function bk(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function Rb(t,e,n,r){if(aO()){const i=null===r?null:{"":-1},s=function iK(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(TM(e,o.selectors,!1))if(r||(r=[]),ai(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),kb(t,e,a.length)}else r.unshift(o),kb(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&wk(t,e,n,o,i,a),i&&function sK(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new O(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=Gl(n.mergedAttrs,n.attrs)}function wk(t,e,n,r,i,s){for(let u=0;u<r.length;u++)M0(Bp(n,e),t,r[u].type);!function aK(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let u=0;u<r.length;u++){const l=r[u];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,c=_d(t,e,r.length,null);for(let u=0;u<r.length;u++){const l=r[u];n.mergedAttrs=Gl(n.mergedAttrs,l.hostAttrs),cK(t,n,e,c,l),oK(c,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}!function Q9(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let c=null,u=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=n?n.get(d):null,p=h?h.outputs:null;c=vk(d.inputs,l,c,h?h.inputs:null),u=vk(d.outputs,l,u,p);const g=null===c||null===o||EM(e)?null:dK(c,l,o);a.push(g)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}(t,n,s)}function Dk(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function W7(){return ae.lFrame.currentDirectiveIndex}();try{zo(s);for(let a=r;a<i;a++){const c=t.data[a],u=e[a];w0(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&rK(c,u)}}finally{zo(-1),w0(o)}}function rK(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function kb(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function oK(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ai(e)&&(n[""]=t)}}function cK(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=Go(i.type)),o=new ed(s,ai(i),v);t.blueprint[r]=o,n[r]=o,function eK(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function tK(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,_d(t,n,i.hostVars,fe),i)}function Li(t,e,n,r,i,s){const o=ar(t,e);!function Pb(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?le(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[de],o,s,t.value,n,r,i)}function lK(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)Ik(r,n,o[a++],o[a++],o[a++])}function Ik(t,e,n,r,i){const s=$r(null);try{const o=t.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{$r(s)}}function dK(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function Ck(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function Ek(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];I0(n[r]),o.contentQueries(2,e[s],s)}}}function Dg(t,e){return t[Wl]?t[MM][oi]=e:t[Wl]=e,t[MM]=e,e}function Fb(t,e,n){I0(0);const r=$r(null);try{e(t,n)}finally{$r(r)}}function Tk(t){return t[Ic]||(t[Ic]=[])}function Sk(t){return t.cleanup||(t.cleanup=[])}function Nk(t,e){const n=t[Ks],r=n?n.get(gs,null):null;r&&r.handleError(e)}function Lb(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];Ik(t.data[o],e[o],r,a,i)}}function hK(t,e){const n=Ir(e,t),r=n[Y];!function fK(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[Et];null!==i&&null===n[ls]&&(n[ls]=_b(i,n[Ks])),Vb(r,n,n[Rt])}function Vb(t,e,n){C0(e);try{const r=t.viewQuery;null!==r&&Fb(1,r,n);const i=t.template;null!==i&&mk(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Ek(t,e),t.staticViewQueries&&Fb(2,t.viewQuery,n);const s=t.components;null!==s&&function pK(t,e){for(let n=0;n<e.length;n++)hK(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[pe]&=-5,E0()}}let xk=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const s=typeof Zone>"u"?null:Zone.current,o=function D7(t,e,n){const r=Object.create(I7);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>UM(r),run:()=>{if(r.dirty=!1,r.hasRun&&!jM(r))return;r.hasRun=!0;const o=f0(r);try{r.cleanupFn(),r.cleanupFn=YM,r.fn(i)}finally{p0(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(n,u=>{this.all.has(u)&&this.queue.set(u,s)},i);let a;this.all.add(o),o.notify();const c=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=U({token:t,providedIn:"root",factory:()=>new t})}return t})();function Ig(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=qv(i,a):2==s&&(r=qv(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function yd(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];null!==s&&r.push(st(s)),Gn(s)&&Mk(s,r);const o=n.type;if(8&o)yd(t,e,n.child,r);else if(32&o){const a=H0(n,e);let c;for(;c=a();)r.push(c)}else if(16&o){const a=hR(e,n);if(Array.isArray(a))r.push(...a);else{const c=cd(e[kt]);yd(c[Y],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Mk(t,e){for(let n=bn;n<t.length;n++){const r=t[n],i=r[Y].firstChild;null!==i&&yd(r[Y],r,i,e)}t[Oi]!==t[Et]&&e.push(t[Oi])}function Cg(t,e,n,r=!0){const i=e[Cc],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{Ok(t,e,t.template,n)}catch(c){throw r&&Nk(e,c),c}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function Ok(t,e,n,r){const i=e[pe];if(256!=(256&i)){e[Cc].effectManager?.flush(),C0(e);try{nO(e),function lO(t){return ae.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&mk(t,e,n,2,r);const o=3==(3&i);if(o){const u=t.preOrderCheckHooks;null!==u&&Fp(e,u,null)}else{const u=t.preOrderHooks;null!==u&&Lp(e,u,0,null),T0(e,0)}if(function _K(t){for(let e=eR(t);null!==e;e=tR(e)){if(!e[RM])continue;const n=e[Sc];for(let r=0;r<n.length;r++){R7(n[r])}}}(e),Rk(e,2),null!==t.contentQueries&&Ek(t,e),o){const u=t.contentCheckHooks;null!==u&&Fp(e,u)}else{const u=t.contentHooks;null!==u&&Lp(e,u,1),T0(e,1)}!function $9(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=lk(e,Ql);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)zo(~s);else{const o=s,a=n[++i],c=n[++i];z7(a,o),r.dirty=!1;const u=f0(r);try{c(2,e[o])}finally{p0(r,u)}}}}finally{null===e[Ql]&&dk(e,Ql),zo(-1)}}(t,e);const a=t.components;null!==a&&Pk(e,a,0);const c=t.viewQuery;if(null!==c&&Fb(2,c,r),o){const u=t.viewCheckHooks;null!==u&&Fp(e,u)}else{const u=t.viewHooks;null!==u&&Lp(e,u,2),T0(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[pe]&=-73,rO(e)}finally{E0()}}}function Rk(t,e){for(let n=eR(t);null!==n;n=tR(n))for(let r=bn;r<n.length;r++)kk(n[r],e)}function yK(t,e,n){kk(Ir(e,t),n)}function kk(t,e){if(!function M7(t){return 128==(128&t[pe])}(t))return;const n=t[Y],r=t[pe];if(80&r&&0===e||1024&r||2===e)Ok(n,t,n.template,t[Rt]);else if(t[zl]>0){Rk(t,1);const i=n.components;null!==i&&Pk(t,i,1)}}function Pk(t,e,n){for(let r=0;r<e.length;r++)yK(t,e[r],n)}class vd{get rootNodes(){const e=this._lView,n=e[Y];return yd(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Rt]}set context(e){this._lView[Rt]=e}get destroyed(){return 256==(256&this._lView[pe])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[ft];if(Gn(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Xp(e,r),$p(n,r))}this._attachedToViewContainer=!1}z0(this._lView[Y],this._lView)}onDestroy(e){!function sO(t,e){if(256==(256&t[pe]))throw new O(911,!1);null===t[Ys]&&(t[Ys]=[]),t[Ys].push(e)}(this._lView,e)}markForCheck(){md(this._cdRefInjectingView||this._lView)}detach(){this._lView[pe]&=-129}reattach(){this._lView[pe]|=128}detectChanges(){Cg(this._lView[Y],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new O(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function sq(t,e){ld(t,e,e[de],2,null,null)}(this._lView[Y],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new O(902,!1);this._appRef=e}}class vK extends vd{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Cg(e[Y],e,e[Rt],!1)}checkNoChanges(){}get context(){return null}}class Fk extends _g{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Ne(e);return new bd(n,this.ngModule)}}function Lk(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class wK{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Ep(r);const i=this.injector.get(e,Db,r);return i!==Db||n===Db?i:this.parentInjector.get(e,n,r)}}class bd extends HR{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=Lk(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Lk(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function r7(t){return t.map(n7).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof lr?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new wK(e,s):e,a=o.get(bb,null);if(null===a)throw new O(407,!1);const d={rendererFactory:a,sanitizer:o.get(_9,null),effectManager:o.get(xk,null),afterRenderEventManager:o.get(Sb,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=r?function G9(t,e,n,r){const s=r.get(ok,!1)||n===ii.ShadowDom,o=t.selectRootElement(e,s);return function z9(t){yk(t)}(o),o}(h,r,this.componentDef.encapsulation,o):Zp(h,f,function bK(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(f)),b=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let _=null;null!==p&&(_=_b(p,o,!0));const T=Ob(0,null,null,1,0,null,null,null,null,null,null),A=wg(null,T,null,b,null,null,d,h,o,null,_);let F,z;C0(A);try{const re=this.componentDef;let ge,et=null;re.findHostDirectiveDefs?(ge=[],et=new Map,re.findHostDirectiveDefs(re,ge,et),ge.push(re)):ge=[re];const Ct=function IK(t,e){const n=t[Y],r=Ee;return t[r]=e,eu(n,r,2,"#host",null)}(A,p),yn=function CK(t,e,n,r,i,s,o){const a=i[Y];!function EK(t,e,n,r){for(const i of t)e.mergedAttrs=Gl(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Ig(e,e.mergedAttrs,!0),null!==n&&mR(r,n,e))}(r,t,e,o);let c=null;null!==e&&(c=_b(e,i[Ks]));const u=s.rendererFactory.createRenderer(e,n);let l=16;n.signals?l=4096:n.onPush&&(l=64);const d=wg(i,_k(n),null,l,i[t.index],t,s,u,null,null,c);return a.firstCreatePass&&kb(a,t,r.length-1),Dg(i,d),i[t.index]=d}(Ct,p,re,ge,A,d,h);z=tO(T,Ee),p&&function SK(t,e,n,r){if(r)c0(t,n,["ng-version",wb.full]);else{const{attrs:i,classes:s}=function i7(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!si(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&c0(t,n,i),s&&s.length>0&&gR(t,n,s.join(" "))}}(h,re,p,r),void 0!==n&&function AK(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(z,this.ngContentSelectors,n),F=function TK(t,e,n,r,i,s){const o=In(),a=i[Y],c=ar(o,i);wk(a,i,o,n,null,r);for(let l=0;l<n.length;l++)Pn(Wo(i,a,o.directiveStart+l,o),i);Dk(a,i,o),c&&Pn(c,i);const u=Wo(i,a,o.directiveStart+o.componentOffset,o);if(t[Rt]=i[Rt]=u,null!==s)for(const l of s)l(u,e);return Nb(a,o,t),u}(yn,re,ge,et,A,[NK]),Vb(T,A,null)}finally{E0()}return new DK(this.componentType,F,Yc(z,A),A,z)}}class DK extends d9{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new vK(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;Lb(s[Y],s,i,e,n),this.previousInputValues.set(e,n),md(Ir(this._tNode.index,s))}}get injector(){return new qn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function NK(){const t=In();Pp(N()[Y],t)}function je(t){let e=function Vk(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(ai(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new O(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=Eg(t.inputs),o.inputTransforms=Eg(t.inputTransforms),o.declaredInputs=Eg(t.declaredInputs),o.outputs=Eg(t.outputs);const a=i.hostBindings;a&&RK(t,a);const c=i.viewQuery,u=i.contentQueries;if(c&&MK(t,c),u&&OK(t,u),vp(t.inputs,i.inputs),vp(t.declaredInputs,i.declaredInputs),vp(t.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),vp(o.inputTransforms,i.inputTransforms)),ai(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===je&&(n=!1)}}e=Object.getPrototypeOf(e)}!function xK(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Gl(i.hostAttrs,n=Gl(n,i.hostAttrs))}}(r)}function Eg(t){return t===xi?{}:t===Ve?[]:t}function MK(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function OK(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function RK(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function $k(t){const e=t.inputConfig,n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}t.inputTransforms=n}function Tg(t){return!!function Bb(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Fn(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function ze(t,e,n,r){const i=N();return Fn(i,Mc(),e)&&(xe(),Li(vt(),i,t,e,n,r)),ze}function Z(t,e,n,r,i,s,o,a){const c=N(),u=xe(),l=t+Ee,d=u.firstCreatePass?function rY(t,e,n,r,i,s,o,a,c){const u=e.consts,l=eu(e,t,4,o||null,Js(u,a));Rb(e,n,l,Js(u,c)),Pp(e,l);const d=l.tView=Ob(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,u,c,e,n,r,i,s,o):u.data[l];ki(d,!1);const h=tP(u,c,d,t);kp()&&tg(u,c,h,d),Pn(h,c),Dg(c,c[l]=Ck(h,c,h,d)),xp(d)&&xb(u,c,d),null!=o&&Mb(c,d,a)}let tP=function nP(t,e,n,r){return Zs(!0),e[de].createComment("")};function W(t,e,n){const r=N();return Fn(r,Mc(),e)&&function Sr(t,e,n,r,i,s,o,a){const c=ar(e,n);let l,u=e.inputs;!a&&null!=u&&(l=u[r])?(Lb(t,n,l,r,i),Ho(e)&&function Z9(t,e){const n=Ir(e,t);16&n[pe]||(n[pe]|=64)}(n,e.index)):3&e.type&&(r=function J9(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(c,r,i))}(xe(),vt(),r,t,e,r[de],n,!1),W}function zb(t,e,n,r,i){const o=i?"class":"style";Lb(t,n,e.inputs[o],o,r)}function R(t,e,n,r){const i=N(),s=xe(),o=Ee+t,a=i[de],c=s.firstCreatePass?function aY(t,e,n,r,i,s){const o=e.consts,c=eu(e,t,2,r,Js(o,i));return Rb(e,n,c,Js(o,s)),null!==c.attrs&&Ig(c,c.attrs,!1),null!==c.mergedAttrs&&Ig(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,e,n,r):s.data[o],u=rP(s,i,c,a,e,t);i[o]=u;const l=xp(c);return ki(c,!0),mR(a,u,c),32!=(32&c.flags)&&kp()&&tg(s,i,u,c),0===function P7(){return ae.lFrame.elementDepthCount}()&&Pn(u,i),function F7(){ae.lFrame.elementDepthCount++}(),l&&(xb(s,i,c),Nb(s,c,i)),null!==r&&Mb(i,c),R}function P(){let t=In();v0()?b0():(t=t.parent,ki(t,!1));const e=t;(function V7(t){return ae.skipHydrationRootTNode===t})(e)&&function $7(){ae.skipHydrationRootTNode=null}(),function L7(){ae.lFrame.elementDepthCount--}();const n=xe();return n.firstCreatePass&&(Pp(n,t),l0(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function rW(t){return 0!=(8&t.flags)}(e)&&zb(n,e,N(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function iW(t){return 0!=(16&t.flags)}(e)&&zb(n,e,N(),e.stylesWithoutHost,!1),P}function Me(t,e,n,r){return R(t,e,n,r),P(),Me}let rP=(t,e,n,r,i,s)=>(Zs(!0),Zp(r,i,function yO(){return ae.lFrame.currentNamespace}()));function Td(t){return!!t&&"function"==typeof t.then}function oP(t){return!!t&&"function"==typeof t.subscribe}function Ie(t,e,n,r){const i=N(),s=xe(),o=In();return function cP(t,e,n,r,i,s,o){const a=xp(r),u=t.firstCreatePass&&Sk(t),l=e[Rt],d=Tk(e);let h=!0;if(3&r.type||o){const g=ar(r,e),m=o?o(g):g,b=d.length,_=o?A=>o(st(A[r.index])):r.index;let T=null;if(!o&&a&&(T=function fY(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[Ic],c=i[s+2];return a.length>c?a[c]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==T)(T.__ngLastListenerFn__||T).__ngNextListenerFn__=s,T.__ngLastListenerFn__=s,h=!1;else{s=lP(r,e,l,s,!1);const A=n.listen(m,i,s);d.push(s,A),u&&u.push(i,_,b,b+1)}}else s=lP(r,e,l,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let m=0;m<g;m+=2){const F=e[p[m]][p[m+1]].subscribe(s),z=d.length;d.push(s,F),u&&u.push(i,r.index,z,-(z+1))}}}(s,i,i[de],o,t,e,r),Ie}function uP(t,e,n,r){try{return Ri(6,e,n),!1!==n(r)}catch(i){return Nk(t,i),!1}finally{Ri(7,e,n)}}function lP(t,e,n,r,i){return function s(o){if(o===Function)return r;md(t.componentOffset>-1?Ir(t.index,e):e);let c=uP(e,n,r,o),u=s.__ngNextListenerFn__;for(;u;)c=uP(e,n,u,o)&&c,u=u.__ngNextListenerFn__;return i&&!1===c&&o.preventDefault(),c}}function ie(t=1){return function K7(t){return(ae.lFrame.contextLView=function Y7(t,e){for(;t>0;)e=e[Ec],t--;return e}(t,ae.lFrame.contextLView))[Rt]}(t)}function pY(t,e){let n=null;const r=function Z6(t){const e=t.attrs;if(null!=e){const n=e.indexOf(5);if(!(1&n))return e[n+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?TM(t,s,!0):t7(r,s))return i}else n=i}return n}function Og(t,e){return t<<17|e<<2}function eo(t){return t>>17&32767}function Yb(t){return 2|t}function Zo(t){return(131068&t)>>2}function Qb(t,e){return-131069&t|e<<2}function Jb(t){return 1|t}function wP(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?eo(s):Zo(s),c=!1;for(;0!==a&&(!1===c||o);){const l=t[a+1];bY(t[a],e)&&(c=!0,t[a+1]=r?Jb(l):Yb(l)),a=r?eo(l):Zo(l)}c&&(t[n+1]=r?Yb(s):Jb(s))}function bY(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Bc(t,e)>=0}const Xt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function DP(t){return t.substring(Xt.key,Xt.keyEnd)}function IP(t,e){const n=Xt.textEnd;return n===e?-1:(e=Xt.keyEnd=function CY(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Xt.key=e,n),lu(t,e,n))}function lu(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Be(t,e){return function ui(t,e,n,r){const i=N(),s=xe(),o=hs(2);s.firstUpdatePass&&xP(s,t,o,r),e!==fe&&Fn(i,o,e)&&OP(s,s.data[Wn()],i,i[de],t,i[o+1]=function PY(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=Jt(Er(t)))),t}(e,n),r,o)}(t,e,null,!0),Be}function Xo(t){!function li(t,e,n,r){const i=xe(),s=hs(2);i.firstUpdatePass&&xP(i,null,s,r);const o=N();if(n!==fe&&Fn(o,s,n)){const a=i.data[Wn()];if(kP(a,r)&&!NP(i,s)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;null!==c&&(n=qv(c,n||"")),zb(i,a,o,n,r)}else!function kY(t,e,n,r,i,s,o,a){i===fe&&(i=Ve);let c=0,u=0,l=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;null!==l||null!==d;){const h=c<i.length?i[c+1]:void 0,f=u<s.length?s[u+1]:void 0;let g,p=null;l===d?(c+=2,u+=2,h!==f&&(p=d,g=f)):null===d||null!==l&&l<d?(c+=2,p=l):(u+=2,p=d,g=f),null!==p&&OP(t,e,n,r,p,g,o,a),l=c<i.length?i[c]:null,d=u<s.length?s[u]:null}}(i,a,o,o[de],o[s+1],o[s+1]=function OY(t,e,n){if(null==n||""===n)return Ve;const r=[],i=Er(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,s)}}(RY,ji,t,!0)}function ji(t,e){for(let n=function DY(t){return function EP(t){Xt.key=0,Xt.keyEnd=0,Xt.value=0,Xt.valueEnd=0,Xt.textEnd=t.length}(t),IP(t,lu(t,0,Xt.textEnd))}(e);n>=0;n=IP(e,n))Cr(t,DP(e),!0)}function NP(t,e){return e>=t.expandoStartIndex}function xP(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[Wn()],o=NP(t,n);kP(s,r)&&null===e&&!o&&(e=!1),e=function AY(t,e,n,r){const i=function D0(t){const e=ae.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Sd(n=Zb(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=Zb(i,t,e,n,r),null===s){let c=function NY(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Zo(r))return t[eo(r)]}(t,e,r);void 0!==c&&Array.isArray(c)&&(c=Zb(null,t,e,c[1],r),c=Sd(c,e.attrs,r),function xY(t,e,n,r){t[eo(n?e.classBindings:e.styleBindings)]=r}(t,e,r,c))}else s=function MY(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Sd(r,t[s].hostAttrs,n);return Sd(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function yY(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=eo(o),c=Zo(o);t[r]=n;let l,u=!1;if(Array.isArray(n)?(l=n[1],(null===l||Bc(n,l)>0)&&(u=!0)):l=n,i)if(0!==c){const h=eo(t[a+1]);t[r+1]=Og(h,a),0!==h&&(t[h+1]=Qb(t[h+1],r)),t[a+1]=function mY(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Og(a,0),0!==a&&(t[a+1]=Qb(t[a+1],r)),a=r;else t[r+1]=Og(c,0),0===a?a=r:t[c+1]=Qb(t[c+1],r),c=r;u&&(t[r+1]=Yb(t[r+1])),wP(t,l,r,!0),wP(t,l,r,!1),function vY(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&Bc(s,e)>=0&&(n[r+1]=Jb(n[r+1]))}(e,l,t,r,s),o=Og(a,c),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function Zb(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Sd(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Sd(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Cr(t,o,!!n||e[++s]))}return void 0===t?null:t}function RY(t,e,n){const r=String(e);""!==r&&!r.includes(" ")&&Cr(t,r,n)}function OP(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const c=t.data,u=c[a+1],l=function _Y(t){return 1==(1&t)}(u)?RP(c,e,n,i,Zo(u),o):void 0;Rg(l)||(Rg(s)||function gY(t){return 2==(2&t)}(u)&&(s=RP(c,null,n,i,a,o)),function gq(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:Xs.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Xs.Important),t.setStyle(n,r,i,s))}}(r,o,Rp(Wn(),n),i,s))}function RP(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const c=t[i],u=Array.isArray(c),l=u?c[1]:c,d=null===l;let h=n[i+1];h===fe&&(h=d?Ve:void 0);let f=d?k0(h,r):l===r?h:void 0;if(u&&!Rg(f)&&(f=k0(c,r)),Rg(f)&&(a=f,o))return a;const p=t[i+1];i=o?eo(p):Zo(p)}if(null!==e){let c=s?e.residualClasses:e.residualStyles;null!=c&&(a=k0(c,r))}return a}function Rg(t){return void 0!==t}function kP(t,e){return 0!=(t.flags&(e?8:16))}function ne(t,e=""){const n=N(),r=xe(),i=t+Ee,s=r.firstCreatePass?eu(r,i,1,e,null):r.data[i],o=PP(r,n,s,e,t);n[i]=o,kp()&&tg(r,n,o,s),ki(s,!1)}let PP=(t,e,n,r,i)=>(Zs(!0),function Jp(t,e){return t.createText(e)}(e[de],r));function di(t){return ea("",t,""),di}function ea(t,e,n){const r=N(),i=function nu(t,e,n,r){return Fn(t,Mc(),n)?e+le(n)+r:fe}(r,t,e,n);return i!==fe&&function _s(t,e,n){const r=Rp(e,t);!function rR(t,e,n){t.setValue(e,n)}(t[de],r,n)}(r,Wn(),i),ea}const hu="en-US";let n2=hu;function tw(t,e,n,r,i){if(t=ce(t),Array.isArray(t))for(let s=0;s<t.length;s++)tw(t[s],e,n,r,i);else{const s=xe(),o=N(),a=In();let c=Qo(t)?t:ce(t.provide);const u=LR(t),l=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(Qo(t)||!t.multi){const f=new ed(u,i,v),p=rw(c,e,i?l:l+h,d);-1===p?(M0(Bp(a,o),s,c),nw(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=rw(c,e,l+h,d),p=rw(c,e,l,l+h),m=p>=0&&n[p];if(i&&!m||!i&&!(f>=0&&n[f])){M0(Bp(a,o),s,c);const b=function tJ(t,e,n,r,i){const s=new ed(t,n,v);return s.multi=[],s.index=e,s.componentProviders=0,S2(s,i,r&&!n),s}(i?eJ:XQ,n.length,i,r,u);!i&&m&&(n[p].providerFactory=b),nw(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(b),o.push(b)}else nw(s,t,f>-1?f:p,S2(n[i?p:f],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function nw(t,e,n,r){const i=Qo(e),s=function Kq(t){return!!t.useClass}(e);if(i||s){const c=(s?ce(e.useClass):e).prototype.ngOnDestroy;if(c){const u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=u.indexOf(n);-1===l?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function S2(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function rw(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function XQ(t,e,n,r){return iw(this.multi,[])}function eJ(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Wo(n,n[Y],this.providerFactory.index,r);s=a.slice(0,o),iw(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],iw(i,s);return s}function iw(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function tt(t,e=[]){return n=>{n.providersResolver=(r,i)=>function ZQ(t,e,n){const r=xe();if(r.firstCreatePass){const i=ai(t);tw(n,r.data,r.blueprint,i,!0),tw(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class na{}class A2{}class sw extends na{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Fk(this);const i=Dr(e);this._bootstrapComponents=ms(i.bootstrap),this._r3Injector=YR(e,n,[{provide:na,useValue:this},{provide:_g,useValue:this.componentFactoryResolver},...r],Jt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class ow extends A2{constructor(e){super(),this.moduleType=e}create(e){return new sw(this.moduleType,e,[])}}class N2 extends na{constructor(e){super(),this.componentFactoryResolver=new Fk(this),this.instance=null;const n=new zc([...e.providers,{provide:na,useValue:this},{provide:_g,useValue:this.componentFactoryResolver}],e.parent||lg(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function aw(t,e,n=null){return new N2({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let iJ=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=RR(0,n.type),i=r.length>0?aw([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=U({token:t,providedIn:"environment",factory:()=>new t(H(lr))})}return t})();function Ar(t){t.getStandaloneInjector=e=>e.get(iJ).getOrCreateStandaloneInjector(t)}function fu(t,e,n,r){return function F2(t,e,n,r,i,s){const o=e+n;return Fn(t,o,i)?function Vi(t,e,n){return t[e]=n}(t,o+1,s?r.call(s,i):r(i)):function Pd(t,e){const n=t[e];return n===fe?void 0:n}(t,o+1)}(N(),function zn(){const t=ae.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}(),t,e,n,r)}function SJ(){return this._results[Symbol.iterator]()}class lw{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new S)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=lw.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=SJ)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const i=function zr(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function yW(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function NJ(t,e,n,r=!0){const i=e[Y];if(function aq(t,e,n,r){const i=bn+r,s=n.length;r>0&&(n[i-1][oi]=e),r<s-bn?(e[oi]=n[i],RO(n,bn+r,e)):(n.push(e),e[oi]=null),e[ft]=n;const o=e[ql];null!==o&&n!==o&&function cq(t,e){const n=t[Sc];e[kt]!==e[ft][ft][kt]&&(t[RM]=!0),null===n?t[Sc]=[e]:n.push(e)}(o,e);const a=e[Mi];null!==a&&a.insertView(t),e[pe]|=128}(i,e,t,n),r){const s=Y0(n,t),o=e[de],a=eg(o,t[Oi]);null!==a&&function iq(t,e,n,r,i,s){r[Et]=i,r[kn]=e,ld(t,r,n,1,i,s)}(i,t[kn],o,e,a,s)}}let bt=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=OJ}return t})();const xJ=bt,MJ=class extends xJ{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function AJ(t,e,n,r){const i=e.tView,a=wg(t,i,n,4096&t[pe]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[ql]=t[e.index];const u=t[Mi];return null!==u&&(a[Mi]=u.createEmbeddedView(i)),Vb(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new vd(i)}};function OJ(){return Vg(In(),N())}function Vg(t,e){return 4&t.type?new MJ(e,t,Yc(t,e)):null}let Yr=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=VJ}return t})();function VJ(){return q2(In(),N())}const BJ=Yr,z2=class extends BJ{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Yc(this._hostTNode,this._hostLView)}get injector(){return new qn(this._hostTNode,this._hostLView)}get parentInjector(){const e=Up(this._hostTNode,this._hostLView);if(A0(e)){const n=nd(e,this._hostLView),r=td(e);return new qn(n[Y].data[r+8],n)}return new qn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=W2(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-bn}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function id(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const c=o?e:new bd(Ne(e)),u=r||this.parentInjector;if(!s&&null==c.ngModule){const m=(o?u:this.parentInjector).get(lr,null);m&&(s=m)}Ne(c.componentType??{});const f=c.create(u,i,null,s);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function O7(t){return Gn(t[ft])}(i)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const u=i[ft],l=new z2(u,u[kn],u[ft]);l.detach(l.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;return NJ(a,i,o,!r),e.attachToViewContainerRef(),RO(dw(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=W2(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Xp(this._lContainer,n);r&&($p(dw(this._lContainer),n),z0(r[Y],r))}detach(e){const n=this._adjustIndex(e,-1),r=Xp(this._lContainer,n);return r&&null!=$p(dw(this._lContainer),n)?new vd(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function W2(t){return t[8]}function dw(t){return t[8]||(t[8]=[])}function q2(t,e){let n;const r=e[t.index];return Gn(r)?n=r:(n=Ck(r,e,null,t),e[t.index]=n,Dg(e,n)),K2(n,e,t,r),new z2(n,t,e)}let K2=function Y2(t,e,n,r){if(t[Oi])return;let i;i=8&n.type?st(r):function UJ(t,e){const n=t[de],r=n.createComment(""),i=ar(e,t);return Ko(n,eg(n,i),r,function hq(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Oi]=i};class hw{constructor(e){this.queryList=e,this.matches=null}clone(){return new hw(this.queryList)}setDirty(){this.queryList.setDirty()}}class fw{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){const o=n.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new fw(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==eF(e,n).matches&&this.queries[n].setDirty()}}class Q2{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class pw{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==n?n.push(s):n=[s])}return null!==n?new pw(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class gw{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new gw(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,n,HJ(n,s)),this.matchTNodeWithReadOption(e,n,jp(n,e,s,!1,!1))}else r===bt?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,jp(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Ue||i===Yr||i===bt&&4&n.type)this.addMatch(n.index,-2);else{const s=jp(n,e,i,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function HJ(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function zJ(t,e,n,r){return-1===n?function GJ(t,e){return 11&t.type?Yc(t,e):4&t.type?Vg(t,e):null}(e,t):-2===n?function WJ(t,e,n){return n===Ue?Yc(e,t):n===bt?Vg(e,t):n===Yr?q2(e,t):void 0}(t,e,r):Wo(t,t[Y],n,e)}function J2(t,e,n,r){const i=e[Mi].queries[r];if(null===i.matches){const s=t.data,o=n.matches,a=[];for(let c=0;c<o.length;c+=2){const u=o[c];a.push(u<0?null:zJ(e,s[u],o[c+1],n.metadata.read))}i.matches=a}return i.matches}function mw(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=J2(t,e,i,n);for(let a=0;a<s.length;a+=2){const c=s[a];if(c>0)r.push(o[a/2]);else{const u=s[a+1],l=e[-c];for(let d=bn;d<l.length;d++){const h=l[d];h[ql]===h[ft]&&mw(h[Y],h,u,r)}if(null!==l[Sc]){const d=l[Sc];for(let h=0;h<d.length;h++){const f=d[h];mw(f[Y],f,u,r)}}}}}return r}function Ye(t){const e=N(),n=xe(),r=hO();I0(r+1);const i=eF(n,r);if(t.dirty&&function x7(t){return 4==(4&t[pe])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?mw(n,e,r,[]):J2(n,e,i,r);t.reset(s,g9),t.notifyOnChanges()}return!0}return!1}function ra(t,e,n){const r=xe();r.firstCreatePass&&(function X2(t,e,n){null===t.queries&&(t.queries=new pw),t.queries.track(new gw(e,n))}(r,new Q2(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),function Z2(t,e,n){const r=new lw(4==(4&n));(function K9(t,e,n,r){const i=Tk(e);i.push(n),t.firstCreatePass&&Sk(t).push(r,i.length-1)})(t,e,r,r.destroy),null===e[Mi]&&(e[Mi]=new fw),e[Mi].queries.push(new hw(r))}(r,N(),e)}function eF(t,e){return t.queries.getByIndex(e)}const Dw=new Q("Application Initializer");let Iw=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=B(Dw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(Td(s))n.push(s);else if(oP(s)){const o=new Promise((a,c)=>{s.subscribe({complete:a,error:c})});n.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),_F=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const fi=new Q("LocaleId",{providedIn:"root",factory:()=>B(fi,Ce.Optional|Ce.SkipSelf)||function gZ(){return typeof $localize<"u"&&$localize.locale||hu}()});let yF=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ur(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class yZ{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let vF=(()=>{class t{compileModuleSync(n){return new ow(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=ms(Dr(n).declarations).reduce((o,a)=>{const c=Ne(a);return c&&o.push(new bd(c)),o},[]);return new yZ(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const IF=new Q(""),$g=new Q("");let Aw,Tw=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Aw||(function UZ(t){Aw=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{be.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||t)(H(be),H(Sw),H($g))};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac})}return t})(),Sw=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Aw?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),to=null;const CF=new Q("AllowMultipleToken"),Nw=new Q("PlatformDestroyListeners"),xw=new Q("appBootstrapListener");class TF{constructor(e,n){this.name=e,this.token=n}}function AF(t,e,n=[]){const r=`Platform: ${e}`,i=new Q(r);return(s=[])=>{let o=Mw();if(!o||o.injector.get(CF,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function HZ(t){if(to&&!to.get(CF,!1))throw new O(400,!1);(function EF(){!function _7(t){zM=t}(()=>{throw new O(600,!1)})})(),to=t;const e=t.get(xF);(function SF(t){t.get(VR,null)?.forEach(n=>n())})(t)}(function NF(t=[],e){return Gt.create({name:e,providers:[{provide:ob,useValue:"platform"},{provide:Nw,useValue:new Set([()=>to=null])},...t]})}(a,r))}return function zZ(t){const e=Mw();if(!e)throw new O(401,!1);return e}()}}function Mw(){return to?.get(xF)??null}let xF=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function WZ(t="zone.js",e){return"noop"===t?new x9:"zone.js"===t?new be(e):t}(r?.ngZone,function MF(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function rJ(t,e,n){return new sw(t,e,n)}(n.moduleType,this.injector,function FF(t){return[{provide:be,useFactory:t},{provide:fd,multi:!0,useFactory:()=>{const e=B(KZ,{optional:!0});return()=>e.initialize()}},{provide:PF,useFactory:qZ},{provide:ek,useFactory:tk}]}(()=>i)),o=s.injector.get(gs,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:c=>{o.handleError(c)}});s.onDestroy(()=>{Hg(this._modules,s),a.unsubscribe()})}),function OF(t,e,n){try{const r=n();return Td(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(Iw);return a.runInitializers(),a.donePromise.then(()=>(function r2(t){jr(t,"Expected localeId to be defined"),"string"==typeof t&&(n2=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(fi,hu)||hu),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,r=[]){const i=RF({},r);return function jZ(t,e,n){const r=new ow(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(no);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new O(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new O(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(Nw,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||t)(H(Gt))};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function RF(t,e){return Array.isArray(e)?e.reduce(RF,t):{...t,...e}}let no=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=B(PF),this.zoneIsStable=B(ek),this.componentTypes=[],this.components=[],this.isStable=B(yF).hasPendingTasks.pipe(ri(n=>n?se(!1):this.zoneIsStable),function uM(t,e=ni){return t=t??N6,_t((n,r)=>{let i,s=!0;n.subscribe(rt(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}(),zv()),this._injector=B(lr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof HR;if(!this._injector.get(Iw).done)throw!i&&function Dc(t){const e=Ne(t)||vn(t)||Hn(t);return null!==e&&e.standalone}(n),new O(405,!1);let o;o=i?n:this._injector.get(_g).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function $Z(t){return t.isBoundToModule}(o)?void 0:this._injector.get(na),u=o.create(Gt.NULL,[],r||o.selector,a),l=u.location.nativeElement,d=u.injector.get(IF,null);return d?.registerApplication(l),u.onDestroy(()=>{this.detachView(u.hostView),Hg(this.components,u),d?.unregisterApplication(l)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new O(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Hg(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(xw,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Hg(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new O(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Hg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const PF=new Q("",{providedIn:"root",factory:()=>B(gs).handleError.bind(void 0)});function qZ(){const t=B(be),e=B(gs);return n=>t.runOutsideAngular(()=>e.handleError(n))}let KZ=(()=>{class t{constructor(){this.zone=B(be),this.applicationRef=B(no)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();let pi=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=QZ}return t})();function QZ(t){return function JZ(t,e,n){if(Ho(t)&&!n){const r=Ir(t.index,e);return new vd(r,r)}return 47&t.type?new vd(e[kt],e):null}(In(),N(),16==(16&t))}class UF{constructor(){}supports(e){return Tg(e)}create(e){return new rX(e)}}const nX=(t,e)=>e;class rX{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||nX}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<$F(r,i,s)?n:r,a=$F(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const u=a-i,l=c-i;if(u!=l){for(let h=0;h<u;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<u&&(s[h]=f+1)}s[o.previousIndex]=l-u}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Tg(e))throw new O(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function BK(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new iX(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new jF),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new jF),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class iX{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class sX{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class jF{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new sX,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function $F(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function GF(){return new Wg([new UF])}let Wg=(()=>{class t{static#e=this.\u0275prov=U({token:t,providedIn:"root",factory:GF});constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||GF()),deps:[[t,new Gp,new cr]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new O(901,!1)}}return t})();const lX=AF(null,"core",[]);let dX=(()=>{class t{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||t)(H(no))};static#t=this.\u0275mod=De({type:t});static#n=this.\u0275inj=ve({})}return t})();function mu(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function Lw(t,e){const n=Ne(t),r=e.elementInjector||lg();return new bd(n).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}let Vw=null;function ro(){return Vw}class EX{}const Ft=new Q("DocumentToken");let Bw=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:function(){return B(SX)},providedIn:"platform"})}return t})();const TX=new Q("Location Initialized");let SX=(()=>{class t extends Bw{constructor(){super(),this._doc=B(Ft),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ro().getBaseHref(this._doc)}onPopState(n){const r=ro().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=ro().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:function(){return new t},providedIn:"platform"})}return t})();function Uw(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function eL(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function ys(t){return t&&"?"!==t[0]?"?"+t:t}let sa=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:function(){return B(nL)},providedIn:"root"})}return t})();const tL=new Q("appBaseHref");let nL=(()=>{class t extends sa{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??B(Ft).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Uw(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+ys(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+ys(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+ys(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(H(Bw),H(tL,8))};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),AX=(()=>{class t extends sa{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Uw(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+ys(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+ys(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(H(Bw),H(tL,8))};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac})}return t})(),jw=(()=>{class t{constructor(n){this._subject=new S,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function MX(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(eL(rL(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+ys(r))}normalize(n){return t.stripTrailingSlash(function xX(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,rL(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ys(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ys(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static#e=this.normalizeQueryParams=ys;static#t=this.joinWithSlash=Uw;static#n=this.stripTrailingSlash=eL;static#r=this.\u0275fac=function(r){return new(r||t)(H(sa))};static#i=this.\u0275prov=U({token:t,factory:function(){return function NX(){return new jw(H(sa))}()},providedIn:"root"})}return t})();function rL(t){return t.replace(/\/index.html$/,"")}class gee{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ws=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new gee(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),mL(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{mL(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(v(Yr),v(bt),v(Wg))};static#t=this.\u0275dir=L({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return t})();function mL(t,e){t.context.$implicit=e.item}let Ds=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new mee,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){_L("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){_L("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(v(Yr),v(bt))};static#t=this.\u0275dir=L({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return t})();class mee{constructor(){this.$implicit=null,this.ngIf=null}}function _L(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Jt(e)}'.`)}let vu=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=De({type:t});static#n=this.\u0275inj=ve({})}return t})();const bL="browser";function wL(t){return"server"===t}let qee=(()=>{class t{static#e=this.\u0275prov=U({token:t,providedIn:"root",factory:()=>new Kee(H(Ft),window)})}return t})();class Kee{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function Yee(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class vte extends EX{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class s1 extends vte{static makeCurrent(){!function CX(t){Vw||(Vw=t)}(new s1)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function bte(){return Hd=Hd||document.querySelector("base"),Hd?Hd.getAttribute("href"):null}();return null==n?null:function wte(t){om=om||document.createElement("a"),om.setAttribute("href",t);const e=om.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Hd=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function hee(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let om,Hd=null,Ite=(()=>{class t{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac})}return t})();const o1=new Q("EventManagerPlugins");let TL=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new O(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||t)(H(o1),H(be))};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac})}return t})();class SL{constructor(e){this._doc=e}}const a1="ng-app-id";let AL=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=wL(s),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${a1}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(a1),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(a1,this.appId),o}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||t)(H(Ft),H(dg),H(BR,8),H(ps))};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac})}return t})();const c1={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},u1=/%COMP%/g,Ste=new Q("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function xL(t,e){return e.map(n=>n.replace(u1,t))}let ML=(()=>{class t{constructor(n,r,i,s,o,a,c,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=wL(a),this.defaultRenderer=new l1(n,o,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===ii.ShadowDom&&(r={...r,encapsulation:ii.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof RL?i.applyToHost(n):i instanceof d1&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case ii.Emulated:s=new RL(c,u,r,this.appId,l,o,a,d);break;case ii.ShadowDom:return new Mte(c,u,n,r,o,a,this.nonce,d);default:s=new d1(c,u,r,l,o,a,d)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||t)(H(TL),H(AL),H(dg),H(Ste),H(Ft),H(ps),H(be),H(BR))};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac})}return t})();class l1{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(c1[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(OL(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(OL(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new O(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=c1[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=c1[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Xs.DashCase|Xs.Important)?e.style.setProperty(n,r,i&Xs.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Xs.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=ro().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function OL(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class Mte extends l1{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=xL(i.id,i.styles);for(const l of u){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class d1 extends l1{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?xL(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class RL extends d1{constructor(e,n,r,i,s,o,a,c){const u=i+"-"+r.id;super(e,n,r,s,o,a,c,u),this.contentAttr=function Ate(t){return"_ngcontent-%COMP%".replace(u1,t)}(u),this.hostAttr=function Nte(t){return"_nghost-%COMP%".replace(u1,t)}(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let Ote=(()=>{class t extends SL{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||t)(H(Ft))};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac})}return t})();const kL=["alt","control","meta","shift"],Rte={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},kte={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Pte=(()=>{class t extends SL{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ro().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),kL.forEach(u=>{const l=r.indexOf(u);l>-1&&(r.splice(l,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const c={};return c.domEventName=i,c.fullKey=o,c}static matchEventFullKeyCode(n,r){let i=Rte[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),kL.forEach(o=>{o!==i&&(0,kte[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||t)(H(Ft))};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac})}return t})();const FL=[{provide:ps,useValue:bL},{provide:VR,useValue:function Fte(){s1.makeCurrent()},multi:!0},{provide:Ft,useFactory:function Vte(){return function bq(t){Z0=t}(document),document},deps:[]}],Bte=AF(lX,"browser",FL),Ute=new Q(""),LL=[{provide:$g,useClass:class Dte{addToWindow(e){it.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new O(5103,!1);return s},it.getAllAngularTestabilities=()=>e.getAllTestabilities(),it.getAllAngularRootElements=()=>e.getAllRootElements(),it.frameworkStabilizers||(it.frameworkStabilizers=[]),it.frameworkStabilizers.push(r=>{const i=it.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(c){o=o||c,s--,0==s&&r(o)};i.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?ro().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:IF,useClass:Tw,deps:[be,Sw,$g]},{provide:Tw,useClass:Tw,deps:[be,Sw,$g]}],VL=[{provide:ob,useValue:"root"},{provide:gs,useFactory:function Lte(){return new gs},deps:[]},{provide:o1,useClass:Ote,multi:!0,deps:[Ft,be,ps]},{provide:o1,useClass:Pte,multi:!0,deps:[Ft]},ML,AL,TL,{provide:bb,useExisting:ML},{provide:class Qee{},useClass:Ite,deps:[]},[]];let jte=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:dg,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||t)(H(Ute,12))};static#t=this.\u0275mod=De({type:t});static#n=this.\u0275inj=ve({providers:[...VL,...LL],imports:[vu,dX]})}return t})(),BL=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(r){return new(r||t)(H(Ft))};static#t=this.\u0275prov=U({token:t,factory:function(r){let i=null;return i=r?new r:function Hte(){return new BL(H(Ft))}(),i},providedIn:"root"})}return t})();typeof window<"u"&&window;let $L=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:function(r){let i=null;return i=r?new(r||t):H(HL),i},providedIn:"root"})}return t})(),HL=(()=>{class t extends $L{constructor(n){super(),this._doc=n}sanitize(n,r){if(null==r)return null;switch(n){case Wr.NONE:return r;case Wr.HTML:return Fi(r,"HTML")?Er(r):TR(this._doc,String(r)).toString();case Wr.STYLE:return Fi(r,"Style")?Er(r):r;case Wr.SCRIPT:if(Fi(r,"Script"))return Er(r);throw new O(5200,!1);case Wr.URL:return Fi(r,"URL")?Er(r):sg(String(r));case Wr.RESOURCE_URL:if(Fi(r,"ResourceURL"))return Er(r);throw new O(5201,!1);default:throw new O(5202,!1)}}bypassSecurityTrustHtml(n){return function Sq(t){return new wq(t)}(n)}bypassSecurityTrustStyle(n){return function Aq(t){return new Dq(t)}(n)}bypassSecurityTrustScript(n){return function Nq(t){return new Iq(t)}(n)}bypassSecurityTrustUrl(n){return function xq(t){return new Cq(t)}(n)}bypassSecurityTrustResourceUrl(n){return function Mq(t){return new Eq(t)}(n)}static#e=this.\u0275fac=function(r){return new(r||t)(H(Ft))};static#t=this.\u0275prov=U({token:t,factory:function(r){let i=null;return i=r?new r:function qte(t){return new HL(t.get(Ft))}(H(Gt)),i},providedIn:"root"})}return t})();const{isArray:Yte}=Array,{getPrototypeOf:Qte,prototype:Jte,keys:Zte}=Object;function zL(t){if(1===t.length){const e=t[0];if(Yte(e))return{args:e,keys:null};if(function Xte(t){return t&&"object"==typeof t&&Qte(t)===Jte}(e)){const n=Zte(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:ene}=Array;function f1(t){return Ae(e=>function tne(t,e){return ene(e)?t(...e):t(e)}(t,e))}function WL(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function p1(...t){const e=Ul(t),n=mp(t),{args:r,keys:i}=zL(t);if(0===r.length)return an([],e);const s=new Fe(function nne(t,e,n=ni){return r=>{qL(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let c=0;c<i;c++)qL(e,()=>{const u=an(t[c],e);let l=!1;u.subscribe(rt(r,d=>{s[c]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>WL(i,o):ni));return n?s.pipe(f1(n)):s}function qL(t,e,n){t?as(n,t,e):e()}const am=Hs(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Gd(...t){return function rne(){return bc(1)}()(an(t,Ul(t)))}function g1(t){return new Fe(e=>{Yt(t()).subscribe(e)})}function zd(t,e){const n=ye(t)?t:()=>t,r=i=>i.error(n());return new Fe(e?i=>e.schedule(r,0,i):r)}function m1(){return _t((t,e)=>{let n=null;t._refCount++;const r=rt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class KL extends Fe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Vl(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Mt;const n=this.getSubject();e.add(this.source.subscribe(rt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Mt.EMPTY)}return e}refCount(){return m1()(this)}}function un(t){return t<=0?()=>Br:_t((e,n)=>{let r=0;e.subscribe(rt(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function ln(t,e){return _t((n,r)=>{let i=0;n.subscribe(rt(r,s=>t.call(e,s,i++)&&r.next(s)))})}function cm(t){return _t((e,n)=>{let r=!1;e.subscribe(rt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function QL(t=ine){return _t((e,n)=>{let r=!1;e.subscribe(rt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function ine(){return new am}function oa(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ln((i,s)=>t(i,s,r)):ni,un(1),n?cm(e):QL(()=>new am))}function Wd(t,e){return ye(e)?Qt(t,e,1):Qt(t,1)}function en(t,e,n){const r=ye(t)||e||n?{next:t,error:e,complete:n}:t;return r?_t((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(rt(s,c=>{var u;null===(u=r.next)||void 0===u||u.call(r,c),s.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),s.complete()},c=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,c),s.error(c)},()=>{var c,u;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):ni}function aa(t){return _t((e,n)=>{let s,r=null,i=!1;r=e.subscribe(rt(n,void 0,void 0,o=>{s=Yt(t(o,aa(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function _1(t){return t<=0?()=>Br:_t((e,n)=>{let r=[];e.subscribe(rt(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function y1(t){return Ae(()=>t)}function v1(t){return _t((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function pt(t){return _t((e,n)=>{Yt(t).subscribe(rt(n,()=>n.complete(),Bo)),!n.closed&&e.subscribe(n)})}const me="primary",qd=Symbol("RouteTitle");class cne{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function bu(t){return new cne(t)}function une(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function $i(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!JL(t[i],e[i]))return!1;return!0}function JL(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function ZL(t){return t.length>0?t[t.length-1]:null}function so(t){return function Kte(t){return!!t&&(t instanceof Fe||ye(t.lift)&&ye(t.subscribe))}(t)?t:Td(t)?an(Promise.resolve(t)):se(t)}const dne={exact:function tV(t,e,n){if(!ca(t.segments,e.segments)||!um(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!tV(t.children[r],e.children[r],n))return!1;return!0},subset:nV},XL={exact:function hne(t,e){return $i(t,e)},subset:function fne(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>JL(t[n],e[n]))},ignored:()=>!0};function eV(t,e,n){return dne[n.paths](t.root,e.root,n.matrixParams)&&XL[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function nV(t,e,n){return rV(t,e,e.segments,n)}function rV(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!ca(i,n)||e.hasChildren()||!um(i,n,r))}if(t.segments.length===n.length){if(!ca(t.segments,n)||!um(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!nV(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(ca(t.segments,i)&&um(t.segments,i,r)&&t.children[me])&&rV(t.children[me],e,s,r)}}function um(t,e,n){return e.every((r,i)=>XL[n](t[i].parameters,r.parameters))}class wu{constructor(e=new Je([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bu(this.queryParams)),this._queryParamMap}toString(){return mne.serialize(this)}}class Je{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return lm(this)}}class Kd{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=bu(this.parameters)),this._parameterMap}toString(){return oV(this)}}function ca(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Yd=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:function(){return new b1},providedIn:"root"})}return t})();class b1{parse(e){const n=new Sne(e);return new wu(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Qd(e.root,!0)}`,r=function vne(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${dm(n)}=${dm(i)}`).join("&"):`${dm(n)}=${dm(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function _ne(t){return encodeURI(t)}(e.fragment)}`:""}`}}const mne=new b1;function lm(t){return t.segments.map(e=>oV(e)).join("/")}function Qd(t,e){if(!t.hasChildren())return lm(t);if(e){const n=t.children[me]?Qd(t.children[me],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==me&&r.push(`${i}:${Qd(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function gne(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===me&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==me&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===me?[Qd(t.children[me],!1)]:[`${i}:${Qd(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[me]?`${lm(t)}/${n[0]}`:`${lm(t)}/(${n.join("//")})`}}function iV(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function dm(t){return iV(t).replace(/%3B/gi,";")}function w1(t){return iV(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function hm(t){return decodeURIComponent(t)}function sV(t){return hm(t.replace(/\+/g,"%20"))}function oV(t){return`${w1(t.path)}${function yne(t){return Object.keys(t).map(e=>`;${w1(e)}=${w1(t[e])}`).join("")}(t.parameters)}`}const bne=/^[^\/()?;#]+/;function D1(t){const e=t.match(bne);return e?e[0]:""}const wne=/^[^\/()?;=#]+/,Ine=/^[^=?&#]+/,Ene=/^[^&#]+/;class Sne{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Je([],{}):new Je([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[me]=new Je(e,n)),r}parseSegment(){const e=D1(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new O(4009,!1);return this.capture(e),new Kd(hm(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function Dne(t){const e=t.match(wne);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=D1(this.remaining);i&&(r=i,this.capture(r))}e[hm(n)]=hm(r)}parseQueryParam(e){const n=function Cne(t){const e=t.match(Ine);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function Tne(t){const e=t.match(Ene);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=sV(n),s=sV(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=D1(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new O(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=me);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[me]:new Je([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new O(4011,!1)}}function aV(t){return t.segments.length>0?new Je([],{[me]:t}):t}function cV(t){const e={};for(const r of Object.keys(t.children)){const s=cV(t.children[r]);if(r===me&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function Ane(t){if(1===t.numberOfChildren&&t.children[me]){const e=t.children[me];return new Je(t.segments.concat(e.segments),e.children)}return t}(new Je(t.segments,e))}function ua(t){return t instanceof wu}function uV(t){let e;const i=aV(function n(s){const o={};for(const c of s.children){const u=n(c);o[c.outlet]=u}const a=new Je(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function lV(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return I1(i,i,i,n,r);const s=function xne(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new hV(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new hV(n,e,r)}(e);if(s.toRoot())return I1(i,i,new Je([],{}),n,r);const o=function Mne(t,e,n){if(t.isAbsolute)return new pm(e,!0,0);if(!n)return new pm(e,!1,NaN);if(null===n.parent)return new pm(n,!0,0);const r=fm(t.commands[0])?0:1;return function One(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new O(4005,!1);i=r.segments.length}return new pm(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?Zd(o.segmentGroup,o.index,s.commands):fV(o.segmentGroup,o.index,s.commands);return I1(i,o.segmentGroup,a,n,r)}function fm(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Jd(t){return"object"==typeof t&&null!=t&&t.outlets}function I1(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`}),o=t===e?n:dV(t,e,n);const a=aV(cV(o));return new wu(a,s,i)}function dV(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:dV(s,e,n)}),new Je(t.segments,r)}class hV{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&fm(r[0]))throw new O(4003,!1);const i=r.find(Jd);if(i&&i!==ZL(r))throw new O(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class pm{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function fV(t,e,n){if(t||(t=new Je([],{})),0===t.segments.length&&t.hasChildren())return Zd(t,e,n);const r=function kne(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(Jd(a))break;const c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===c)break;if(c&&u&&"object"==typeof u&&void 0===u.outlets){if(!gV(c,u,o))return s;r+=2}else{if(!gV(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new Je(t.segments.slice(0,r.pathIndex),{});return s.children[me]=new Je(t.segments.slice(r.pathIndex),t.children),Zd(s,0,i)}return r.match&&0===i.length?new Je(t.segments,{}):r.match&&!t.hasChildren()?C1(t,e,n):r.match?Zd(t,0,i):C1(t,e,n)}function Zd(t,e,n){if(0===n.length)return new Je(t.segments,{});{const r=function Rne(t){return Jd(t[0])?t[0].outlets:{[me]:t}}(n),i={};if(Object.keys(r).some(s=>s!==me)&&t.children[me]&&1===t.numberOfChildren&&0===t.children[me].segments.length){const s=Zd(t.children[me],e,n);return new Je(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=fV(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new Je(t.segments,i)}}function C1(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Jd(s)){const c=Pne(s.outlets);return new Je(r,c)}if(0===i&&fm(n[0])){r.push(new Kd(t.segments[e].path,pV(n[0]))),i++;continue}const o=Jd(s)?s.outlets[me]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&fm(a)?(r.push(new Kd(o,pV(a))),i+=2):(r.push(new Kd(o,{})),i++)}return new Je(r,{})}function Pne(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=C1(new Je([],{}),0,r))}),e}function pV(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function gV(t,e,n){return t==n.path&&$i(e,n.parameters)}const Xd="imperative";class Hi{constructor(e,n){this.id=e,this.url=n}}class gm extends Hi{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class oo extends Hi{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class eh extends Hi{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Du extends Hi{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class mm extends Hi{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class mV extends Hi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fne extends Hi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Lne extends Hi{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Vne extends Hi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bne extends Hi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Une{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class jne{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class $ne{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hne{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gne{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zne{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _V{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class E1{}class T1{constructor(e){this.url=e}}class Wne{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new th,this.attachRef=null}}let th=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Wne,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class yV{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=S1(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=S1(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=A1(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return A1(e,this._root).map(n=>n.value)}}function S1(t,e){if(t===e.value)return e;for(const n of e.children){const r=S1(t,n);if(r)return r}return null}function A1(t,e){if(t===e.value)return[e];for(const n of e.children){const r=A1(t,n);if(r.length)return r.unshift(e),r}return[]}class Is{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Iu(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class vV extends yV{constructor(e,n){super(e),this.snapshot=n,N1(this,e)}toString(){return this.snapshot.toString()}}function bV(t,e){const n=function qne(t,e){const o=new _m([],{},{},"",{},me,e,null,{});return new DV("",new Is(o,[]))}(0,e),r=new Ur([new Kd("",{})]),i=new Ur({}),s=new Ur({}),o=new Ur({}),a=new Ur(""),c=new la(r,i,o,a,s,me,e,n.root);return c.snapshot=n.root,new vV(new Is(c,[]),n)}class la{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Ae(u=>u[qd]))??se(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ae(e=>bu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ae(e=>bu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function wV(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function Kne(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class _m{get title(){return this.data?.[qd]}constructor(e,n,r,i,s,o,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=bu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class DV extends yV{constructor(e,n){super(n),this.url=e,N1(this,n)}toString(){return IV(this._root)}}function N1(t,e){e.value._routerState=t,e.children.forEach(n=>N1(t,n))}function IV(t){const e=t.children.length>0?` { ${t.children.map(IV).join(", ")} } `:"";return`${t.value}${e}`}function x1(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,$i(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),$i(e.params,n.params)||t.paramsSubject.next(n.params),function lne(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!$i(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),$i(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function M1(t,e){const n=$i(t.params,e.params)&&function pne(t,e){return ca(t,e)&&t.every((n,r)=>$i(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||M1(t.parent,e.parent))}let O1=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=me,this.activateEvents=new S,this.deactivateEvents=new S,this.attachEvents=new S,this.detachEvents=new S,this.parentContexts=B(th),this.location=B(Yr),this.changeDetector=B(pi),this.environmentInjector=B(lr),this.inputBinder=B(ym,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new O(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new O(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new O(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new O(4013,!1);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Yne(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=L({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Dn]})}return t})();class Yne{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===la?this.route:e===th?this.childContexts:this.parent.get(e,n)}}const ym=new Q("");let CV=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=p1([r.queryParams,r.params,r.data]).pipe(ri(([s,o,a],c)=>(a={...s,...o,...a},0===c?se(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const o=function IX(t){const e=Ne(t);if(!e)return null;const n=new bd(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac})}return t})();function nh(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function Jne(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return nh(t,r,i);return nh(t,r)})}(t,e,n);return new Is(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>nh(t,a)),o}}const r=function Zne(t){return new la(new Ur(t.url),new Ur(t.params),new Ur(t.queryParams),new Ur(t.fragment),new Ur(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>nh(t,s));return new Is(r,i)}}const R1="ngNavigationCancelingError";function EV(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=ua(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=TV(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function TV(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[R1]=!0,r.cancellationCode=e,n&&(r.url=n),r}function SV(t){return t&&t[R1]}let AV=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=yt({type:t,selectors:[["ng-component"]],standalone:!0,features:[Ar],decls:1,vars:0,template:function(r,i){1&r&&Me(0,"router-outlet")},dependencies:[O1],encapsulation:2})}return t})();function k1(t){const e=t.children&&t.children.map(k1),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==me&&(n.component=AV),n}function _i(t){return t.outlet||me}function rh(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class ore{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),x1(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Iu(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Iu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Iu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=Iu(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new zne(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Hne(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(x1(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),x1(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=rh(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class NV{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class vm{constructor(e,n){this.component=e,this.route=n}}function are(t,e,n){const r=t._root;return ih(r,e?e._root:null,n,[r.value])}function Cu(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function F6(t){return null!==wp(t)}(t)?e.get(t):t:r}function ih(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Iu(e);return t.children.forEach(o=>{(function ure(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const c=function lre(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!ca(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ca(t.url,e.url)||!$i(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!M1(t,e)||!$i(t.queryParams,e.queryParams);default:return!M1(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new NV(r)):(s.data=o.data,s._resolvedData=o._resolvedData),ih(t,e,s.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new vm(a.outlet.component,o))}else o&&sh(e,a,i),i.canActivateChecks.push(new NV(r)),ih(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>sh(a,n.getContext(o),i)),i}function sh(t,e,n){const r=Iu(t),i=t.value;Object.entries(r).forEach(([s,o])=>{sh(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new vm(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function oh(t){return"function"==typeof t}function xV(t){return t instanceof am||"EmptyError"===t?.name}const bm=Symbol("INITIAL_VALUE");function Eu(){return ri(t=>p1(t.map(e=>e.pipe(un(1),function YL(...t){const e=Ul(t);return _t((n,r)=>{(e?Gd(t,n,e):Gd(t,n)).subscribe(r)})}(bm)))).pipe(Ae(e=>{for(const n of e)if(!0!==n){if(n===bm)return bm;if(!1===n||n instanceof wu)return n}return!0}),ln(e=>e!==bm),un(1)))}function MV(t){return function cp(...t){return up(t)}(en(e=>{if(ua(e))throw EV(0,e)}),Ae(e=>!0===e))}class wm{constructor(e){this.segmentGroup=e||null}}class OV{constructor(e){this.urlTree=e}}function Tu(t){return zd(new wm(t))}function RV(t){return zd(new OV(t))}class xre{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new O(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return se(r);if(i.numberOfChildren>1||!i.children[me])return zd(new O(4e3,!1));i=i.children[me]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new wu(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new Je(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new O(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const P1={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Mre(t,e,n,r,i){const s=F1(t,e,n);return s.matched?(r=function ere(t,e){return t.providers&&!t._injector&&(t._injector=aw(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function Sre(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?se(i.map(o=>{const a=Cu(o,t);return so(function mre(t){return t&&oh(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(Eu(),MV()):se(!0)}(r,e,n).pipe(Ae(o=>!0===o?s:{...P1}))):se(s)}function F1(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...P1}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||une)(n,t,e);if(!i)return{...P1};const s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function kV(t,e,n,r){return n.length>0&&function kre(t,e,n){return n.some(r=>Dm(t,e,r)&&_i(r)!==me)}(t,n,r)?{segmentGroup:new Je(e,Rre(r,new Je(n,t.children))),slicedSegments:[]}:0===n.length&&function Pre(t,e,n){return n.some(r=>Dm(t,e,r))}(t,n,r)?{segmentGroup:new Je(t.segments,Ore(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Je(t.segments,t.children),slicedSegments:n}}function Ore(t,e,n,r,i){const s={};for(const o of r)if(Dm(t,n,o)&&!i[_i(o)]){const a=new Je([],{});s[_i(o)]=a}return{...i,...s}}function Rre(t,e){const n={};n[me]=e;for(const r of t)if(""===r.path&&_i(r)!==me){const i=new Je([],{});n[_i(r)]=i}return n}function Dm(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class Bre{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new xre(this.urlSerializer,this.urlTree)}noMatchError(e){return new O(4002,!1)}recognize(){const e=kV(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,me).pipe(aa(n=>{if(n instanceof OV)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof wm?this.noMatchError(n):n}),Ae(n=>{const r=new _m([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},me,this.rootComponentType,null,{}),i=new Is(r,n),s=new DV("",i),o=function Nne(t,e,n=null,r=null){return lV(uV(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,me).pipe(aa(r=>{throw r instanceof wm?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=wV(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return an(i).pipe(Wd(s=>{const o=r.children[s],a=function ire(t,e){const n=t.filter(r=>_i(r)===e);return n.push(...t.filter(r=>_i(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),function one(t,e){return _t(function sne(t,e,n,r,i){return(s,o)=>{let a=n,c=e,u=0;s.subscribe(rt(o,l=>{const d=u++;c=a?t(c,l,d):(a=!0,l),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}(t,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),cm(null),function ane(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ln((i,s)=>t(i,s,r)):ni,_1(1),n?cm(e):QL(()=>new am))}(),Qt(s=>{if(null===s)return Tu(r);const o=PV(s);return function Ure(t){t.sort((e,n)=>e.value.outlet===me?-1:n.value.outlet===me?1:e.value.outlet.localeCompare(n.value.outlet))}(o),se(o)}))}processSegment(e,n,r,i,s,o){return an(n).pipe(Wd(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(aa(c=>{if(c instanceof wm)return se(null);throw c}))),oa(a=>!!a),aa(a=>{if(xV(a))return function Lre(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?se([]):Tu(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function Fre(t,e,n,r){return!!(_i(t)===r||r!==me&&Dm(e,n,t))&&("**"===t.path||F1(e,t,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Tu(i):Tu(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?RV(s):this.applyRedirects.lineralizeSegments(r,s).pipe(Qt(o=>{const a=new Je(o,{});return this.processSegment(e,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:c,remainingSegments:u,positionalParamSegments:l}=F1(n,i,s);if(!a)return Tu(n);const d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,l);return i.redirectTo.startsWith("/")?RV(d):this.applyRedirects.lineralizeSegments(i,d).pipe(Qt(h=>this.processSegment(e,r,n,h.concat(u),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a;if("**"===r.path){const c=i.length>0?ZL(i).parameters:{};a=se({snapshot:new _m(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,FV(r),_i(r),r.component??r._loadedComponent??null,r,LV(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=Mre(n,r,i,e).pipe(Ae(({matched:c,consumedSegments:u,remainingSegments:l,parameters:d})=>c?{snapshot:new _m(u,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,FV(r),_i(r),r.component??r._loadedComponent??null,r,LV(r)),consumedSegments:u,remainingSegments:l}:null));return a.pipe(ri(c=>null===c?Tu(n):this.getChildConfig(e=r._injector??e,r,i).pipe(ri(({routes:u})=>{const l=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=c,{segmentGroup:p,slicedSegments:g}=kV(n,h,f,u);if(0===g.length&&p.hasChildren())return this.processChildren(l,u,p).pipe(Ae(b=>null===b?null:[new Is(d,b)]));if(0===u.length&&0===g.length)return se([new Is(d,[])]);const m=_i(r)===s;return this.processSegment(l,u,p,g,m?me:s,!0).pipe(Ae(b=>[new Is(d,b)]))}))))}getChildConfig(e,n,r){return n.children?se({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?se({routes:n._loadedRoutes,injector:n._loadedInjector}):function Tre(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?se(!0):se(i.map(o=>{const a=Cu(o,t);return so(function hre(t){return t&&oh(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(Eu(),MV())}(e,n,r).pipe(Qt(i=>i?this.configLoader.loadChildren(e,n).pipe(en(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function Nre(t){return zd(TV(!1,3))}())):se({routes:[],injector:e})}}function jre(t){const e=t.value.routeConfig;return e&&""===e.path}function PV(t){const e=[],n=new Set;for(const r of t){if(!jre(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=PV(r.children);e.push(new Is(r.value,i))}return e.filter(r=>!n.has(r))}function FV(t){return t.data||{}}function LV(t){return t.resolve||{}}function VV(t){return"string"==typeof t.title||null===t.title}function L1(t){return ri(e=>{const n=t(e);return n?an(n).pipe(Ae(()=>e)):se(e)})}const Su=new Q("ROUTES");let V1=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=B(vF)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return se(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=so(n.loadComponent()).pipe(Ae(BV),en(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),v1(()=>{this.componentLoaders.delete(n)})),i=new KL(r,()=>new Le).pipe(m1());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return se({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function Kre(t,e,n,r){return so(t.loadChildren()).pipe(Ae(BV),Qt(i=>i instanceof A2||Array.isArray(i)?se(i):an(e.compileModuleAsync(i))),Ae(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(n).injector,o=s.get(Su,[],{optional:!0,self:!0}).flat()),{routes:o.map(k1),injector:s}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(v1(()=>{this.childrenLoaders.delete(r)})),o=new KL(s,()=>new Le).pipe(m1());return this.childrenLoaders.set(r,o),o}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function BV(t){return function Yre(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let Im=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Le,this.transitionAbortSubject=new Le,this.configLoader=B(V1),this.environmentInjector=B(lr),this.urlSerializer=B(Yd),this.rootContexts=B(th),this.inputBindingEnabled=null!==B(ym,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>se(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new jne(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Une(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new Ur({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:n.urlHandlingStrategy.extract(r),urlAfterRedirects:n.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Xd,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ln(s=>0!==s.id),Ae(s=>({...s,extractedUrl:n.urlHandlingStrategy.extract(s.rawUrl)})),ri(s=>{this.currentTransition=s;let o=!1,a=!1;return se(s).pipe(en(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ri(c=>{const u=c.currentBrowserUrl.toString(),l=!n.navigated||c.extractedUrl.toString()!==u||u!==c.currentUrlTree.toString();if(!l&&"reload"!==(c.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const h="";return this.events.next(new Du(c.id,this.urlSerializer.serialize(c.rawUrl),h,0)),c.resolve(null),Br}if(n.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return se(c).pipe(ri(h=>{const f=this.transitions?.getValue();return this.events.next(new gm(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?Br:Promise.resolve(h)}),function $re(t,e,n,r,i,s){return Qt(o=>function Vre(t,e,n,r,i,s,o="emptyOnly"){return new Bre(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(Ae(({state:a,tree:c})=>({...o,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),en(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const f=new mV(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(l&&n.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:h,extractedUrl:f,source:p,restoredState:g,extras:m}=c,b=new gm(h,this.urlSerializer.serialize(f),p,g);this.events.next(b);const _=bV(0,this.rootComponentType).snapshot;return this.currentTransition=s={...c,targetSnapshot:_,urlAfterRedirects:f,extras:{...m,skipLocationChange:!1,replaceUrl:!1}},se(s)}{const h="";return this.events.next(new Du(c.id,this.urlSerializer.serialize(c.extractedUrl),h,1)),c.resolve(null),Br}}),en(c=>{const u=new Fne(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Ae(c=>(this.currentTransition=s={...c,guards:are(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},s)),function yre(t,e){return Qt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?se({...n,guardsResult:!0}):function vre(t,e,n,r){return an(t).pipe(Qt(i=>function Ere(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?se(s.map(a=>{const c=rh(e)??i,u=Cu(a,c);return so(function gre(t){return t&&oh(t.canDeactivate)}(u)?u.canDeactivate(t,e,n,r):c.runInContext(()=>u(t,e,n,r))).pipe(oa())})).pipe(Eu()):se(!0)}(i.component,i.route,n,e,r)),oa(i=>!0!==i,!0))}(o,r,i,t).pipe(Qt(a=>a&&function dre(t){return"boolean"==typeof t}(a)?function bre(t,e,n,r){return an(e).pipe(Wd(i=>Gd(function Dre(t,e){return null!==t&&e&&e(new $ne(t)),se(!0)}(i.route.parent,r),function wre(t,e){return null!==t&&e&&e(new Gne(t)),se(!0)}(i.route,r),function Cre(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function cre(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>g1(()=>se(o.guards.map(c=>{const u=rh(o.node)??n,l=Cu(c,u);return so(function pre(t){return t&&oh(t.canActivateChild)}(l)?l.canActivateChild(r,t):u.runInContext(()=>l(r,t))).pipe(oa())})).pipe(Eu())));return se(s).pipe(Eu())}(t,i.path,n),function Ire(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return se(!0);const i=r.map(s=>g1(()=>{const o=rh(e)??n,a=Cu(s,o);return so(function fre(t){return t&&oh(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(oa())}));return se(i).pipe(Eu())}(t,i.route,n))),oa(i=>!0!==i,!0))}(r,s,t,e):se(a)),Ae(a=>({...n,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),en(c=>{if(s.guardsResult=c.guardsResult,ua(c.guardsResult))throw EV(0,c.guardsResult);const u=new Lne(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),ln(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),L1(c=>{if(c.guards.canActivateChecks.length)return se(c).pipe(en(u=>{const l=new Vne(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),ri(u=>{let l=!1;return se(u).pipe(function Hre(t,e){return Qt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return se(n);let s=0;return an(i).pipe(Wd(o=>function Gre(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!VV(i)&&(s[qd]=i.title),function zre(t,e,n,r){const i=function Wre(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return se({});const s={};return an(i).pipe(Qt(o=>function qre(t,e,n,r){const i=rh(e)??r,s=Cu(t,i);return so(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(oa(),en(a=>{s[o]=a}))),_1(1),y1(s),aa(o=>xV(o)?Br:zd(o)))}(s,t,e,r).pipe(Ae(o=>(t._resolvedData=o,t.data=wV(t,n).resolve,i&&VV(i)&&(t.data[qd]=i.title),null)))}(o.route,r,t,e)),en(()=>s++),_1(1),Qt(o=>s===i.length?se(n):Br))})}(n.paramsInheritanceStrategy,this.environmentInjector),en({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(u,"",2)}}))}),en(u=>{const l=new Bne(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}))}),L1(c=>{const u=l=>{const d=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(l.routeConfig).pipe(en(h=>{l.component=h}),Ae(()=>{})));for(const h of l.children)d.push(...u(h));return d};return p1(u(c.targetSnapshot.root)).pipe(cm(),un(1))}),L1(()=>this.afterPreactivation()),Ae(c=>{const u=function Qne(t,e,n){const r=nh(t,e._root,n?n._root:void 0);return new vV(r,e)}(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s={...c,targetRouterState:u},s}),en(()=>{this.events.next(new E1)}),((t,e,n,r)=>Ae(i=>(new ore(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),un(1),en({next:c=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new oo(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),n.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{o=!0}}),pt(this.transitionAbortSubject.pipe(en(c=>{throw c}))),v1(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),aa(c=>{if(a=!0,SV(c))this.events.next(new eh(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),function Xne(t){return SV(t)&&ua(t.url)}(c)?this.events.next(new T1(c.url)):s.resolve(!1);else{this.events.next(new mm(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(c))}catch(u){s.reject(u)}}return Br}))}))}cancelNavigationTransition(n,r,i){const s=new eh(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function UV(t){return t!==Xd}let jV=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===me);return r}getResolvedTitleForRoute(n){return n.data[qd]}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:function(){return B(Qre)},providedIn:"root"})}return t})(),Qre=(()=>{class t extends jV{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||t)(H(BL))};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Jre=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:function(){return B(Xre)},providedIn:"root"})}return t})();class Zre{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let Xre=(()=>{class t extends Zre{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Pt(t)))(i||t)}}();static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Cm=new Q("",{providedIn:"root",factory:()=>({})});let eie=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:function(){return B(tie)},providedIn:"root"})}return t})(),tie=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ah=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(ah||{});function $V(t,e){t.events.pipe(ln(n=>n instanceof oo||n instanceof eh||n instanceof mm||n instanceof Du),Ae(n=>n instanceof oo||n instanceof Du?ah.COMPLETE:n instanceof eh&&(0===n.code||1===n.code)?ah.REDIRECTING:ah.FAILED),ln(n=>n!==ah.REDIRECTING),un(1)).subscribe(()=>{e()})}function nie(t){throw t}function rie(t,e,n){return e.parse("/")}const iie={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},sie={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Zr=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=B(_F),this.isNgZoneEnabled=!1,this._events=new Le,this.options=B(Cm,{optional:!0})||{},this.pendingTasks=B(yF),this.errorHandler=this.options.errorHandler||nie,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||rie,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=B(eie),this.routeReuseStrategy=B(Jre),this.titleStrategy=B(jV),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=B(Su,{optional:!0})?.flat()??[],this.navigationTransitions=B(Im),this.urlSerializer=B(Yd),this.location=B(jw),this.componentInputBindingEnabled=!!B(ym,{optional:!0}),this.eventsSubscription=new Mt,this.isNgZoneEnabled=B(be)instanceof be&&be.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new wu,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=bV(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(HV(r)&&this._events.next(r));if(r instanceof gm)UV(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof Du)this.rawUrlTree=i.rawUrl;else if(r instanceof mV){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(s,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof E1)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof eh)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof T1){const s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),o={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||UV(i.source)};this.scheduleNavigation(s,Xd,null,o,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof mm&&this.restoreHistory(i,!0),r instanceof oo&&(this.navigated=!0),HV(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Xd,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const c={...i};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(s.state=c)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(k1),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:o;let d,l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...s};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null}null!==l&&(l=this.removeEmptyProps(l));try{d=uV(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return lV(d,n,l,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=ua(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Xd,null,r)}navigate(n,r={skipLocationChange:!1}){return function oie(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new O(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...iie}:!1===r?{...sie}:r,ua(n))return eV(this.currentUrlTree,n,i);const s=this.parseUrl(n);return eV(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,c,u;o?(a=o.resolve,c=o.reject,u=o.promise):u=new Promise((d,h)=>{a=d,c=h});const l=this.pendingTasks.add();return $V(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:s,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function HV(t){return!(t instanceof E1||t instanceof T1)}let Au=(()=>{class t{constructor(n,r,i,s,o,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new Le,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const c=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=n.events.subscribe(u=>{u instanceof oo&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function NR(t,e,n){return function zq(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?AR:ag}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,n,r):i.removeAttribute(s,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||t)(v(Zr),v(la),function qo(t){return function cW(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(wM(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(In(),t)}("tabindex"),v(Tr),v(Ue),v(sa))};static#t=this.\u0275dir=L({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&Ie("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&r&&ze("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",mu],skipLocationChange:["skipLocationChange","skipLocationChange",mu],replaceUrl:["replaceUrl","replaceUrl",mu],routerLink:"routerLink"},standalone:!0,features:[$k,Dn]})}return t})();class GV{}let uie=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(ln(n=>n instanceof oo),Wd(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=aw(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return an(i).pipe(bc())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):se(null);const s=i.pipe(Qt(o=>null===o?se(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?an([s,this.loader.loadComponent(r)]).pipe(bc()):s})}static#e=this.\u0275fac=function(r){return new(r||t)(H(Zr),H(vF),H(lr),H(GV),H(V1))};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const B1=new Q("");let zV=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof gm?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof oo?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Du&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof _V&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new _V(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function gk(){throw new Error("invalid")}()};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac})}return t})();function Cs(t,e){return{\u0275kind:t,\u0275providers:e}}function qV(){const t=B(Gt);return e=>{const n=t.get(no);if(e!==n.components[0])return;const r=t.get(Zr),i=t.get(KV);1===t.get(U1)&&r.initialNavigation(),t.get(YV,null,Ce.Optional)?.setUpPreloading(),t.get(B1,null,Ce.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const KV=new Q("",{factory:()=>new Le}),U1=new Q("",{providedIn:"root",factory:()=>1}),YV=new Q("");function fie(t){return Cs(0,[{provide:YV,useExisting:uie},{provide:GV,useExisting:t}])}const QV=new Q("ROUTER_FORROOT_GUARD"),gie=[jw,{provide:Yd,useClass:b1},Zr,th,{provide:la,useFactory:function WV(t){return t.routerState.root},deps:[Zr]},V1,[]];function mie(){return new TF("Router",Zr)}let ch=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[gie,[],{provide:Su,multi:!0,useValue:n},{provide:QV,useFactory:bie,deps:[[Zr,new cr,new Gp]]},{provide:Cm,useValue:r||{}},r?.useHash?{provide:sa,useClass:AX}:{provide:sa,useClass:nL},{provide:B1,useFactory:()=>{const t=B(qee),e=B(be),n=B(Cm),r=B(Im),i=B(Yd);return n.scrollOffset&&t.setOffset(n.scrollOffset),new zV(i,r,t,e,n)}},r?.preloadingStrategy?fie(r.preloadingStrategy).\u0275providers:[],{provide:TF,multi:!0,useFactory:mie},r?.initialNavigation?wie(r):[],r?.bindToComponentInputs?Cs(8,[CV,{provide:ym,useExisting:CV}]).\u0275providers:[],[{provide:JV,useFactory:qV},{provide:xw,multi:!0,useExisting:JV}]]}}static forChild(n){return{ngModule:t,providers:[{provide:Su,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||t)(H(QV,8))};static#t=this.\u0275mod=De({type:t});static#n=this.\u0275inj=ve({})}return t})();function bie(t){return"guarded"}function wie(t){return["disabled"===t.initialNavigation?Cs(3,[{provide:Dw,multi:!0,useFactory:()=>{const e=B(Zr);return()=>{e.setUpLocationChangeListener()}}},{provide:U1,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Cs(2,[{provide:U1,useValue:0},{provide:Dw,multi:!0,deps:[Gt],useFactory:e=>{const n=e.get(TX,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(Zr),s=e.get(KV);$V(i,()=>{r(!0)}),e.get(Im).afterPreactivation=()=>(r(!0),s.closed?se(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const JV=new Q("");let Iie=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=yt({type:t,selectors:[["app-register"]],decls:3,vars:0,consts:[[1,"main-short"]],template:function(r,i){1&r&&(R(0,"main",0)(1,"h1"),ne(2,"register"),P()())}})}return t})(),Cie=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=yt({type:t,selectors:[["app-login"]],decls:3,vars:0,consts:[[1,"main-short"]],template:function(r,i){1&r&&(R(0,"main",0)(1,"h1"),ne(2,"login"),P()())}})}return t})(),Eie=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=yt({type:t,selectors:[["app-carousel"]],decls:25,vars:0,consts:[["id","carouselExampleAutoplaying","data-bs-ride","carousel",1,"carousel","slide"],[1,"overlay"],[1,"info"],[1,"title"],[1,"subtitle"],[1,"infoBtn","btn"],["routerLink","/recipes-list",1,"infoLink"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","https://www.aveeno.com/sites/aveeno_us_2/files/healingherbswithmortaran_687349.jpg","alt","...",1,"carousel-img","d-block","w-100"],[1,"carousel-item"],["src","https://imgix-prod.sgs.com/-/media/sgscorp/images/connectivity-and-products/aromatics-pexels.cdn.en-MU.1.jpg","alt","...",1,"carousel-img","d-block","w-100"],["src","https://images.pexels.com/photos/1793035/pexels-photo-1793035.jpeg","alt","...",1,"carousel-img","d-block","w-100"],["type","button","data-bs-target","#carouselExampleAutoplaying","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleAutoplaying","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(r,i){1&r&&(R(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),ne(4,"Welcome to our Healing Herbal Recipe Community!"),P(),R(5,"div",4),ne(6," Explore a wealth of new herbal recipes designed for healing right here. Upon registration, you'll gain access to not only adding your favorite healing recipes but also rating and commenting on the ones that resonate with you. Join us in nurturing wellness through the power of herbal remedies! "),P(),R(7,"div",5)(8,"a",6),ne(9,"READ MORE"),P()()()(),R(10,"div",7)(11,"div",8),Me(12,"img",9),P(),R(13,"div",10),Me(14,"img",11),P(),R(15,"div",10),Me(16,"img",12),P()(),R(17,"button",13),Me(18,"span",14),R(19,"span",15),ne(20,"Previous"),P()(),R(21,"button",16),Me(22,"span",17),R(23,"span",15),ne(24,"Next"),P()()())},dependencies:[Au],styles:[".carousel[_ngcontent-%COMP%]{max-height:91vh;overflow:hidden}.carousel-caption[_ngcontent-%COMP%]{bottom:unset;top:10%}.overlay[_ngcontent-%COMP%]{position:absolute;inset:0 50% 0 0;background-color:#a7575e99;z-index:9}.carousel-img[_ngcontent-%COMP%]{height:100vh;object-fit:cover}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{z-index:9}.info[_ngcontent-%COMP%]{position:absolute;left:47%;right:10%;top:40%;transform:translate(2%,-27%);color:var(--mainWhiteColor)}.title[_ngcontent-%COMP%]{font-size:32px;padding-bottom:20px;font-weight:900;line-height:35px;color:var(--backgroundColor)}.subtitle[_ngcontent-%COMP%]{font-style:italic;color:var(--backgroundColor)}.infoBtn[_ngcontent-%COMP%]{background-color:var(--backgroundColor);padding:13px 35px;font-size:14px;margin-top:40px;display:inline-block;font-weight:700;font-family:Roboto,sans-serif;border:1px solid transparent}.infoBtn[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:transparent;border:1px solid var(--backgroundColor)}.infoBtn[_ngcontent-%COMP%]:hover   .infoLink[_ngcontent-%COMP%]{color:var(--mainWhiteColor)}.infoLink[_ngcontent-%COMP%]{color:var(--textColor)}@media (max-width: 460px){.overlay[_ngcontent-%COMP%]{display:none}}@media (min-width: 461px) and (max-width: 767px){.overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#a7575e99;z-index:9}.info[_ngcontent-%COMP%]{position:absolute;left:10%;right:10%;top:30%;color:var(--mainWhiteColor);text-align:center}.infoBtn[_ngcontent-%COMP%]{margin-top:10px}.title[_ngcontent-%COMP%]{font-size:26px;padding-bottom:10px;font-weight:900}}@media (min-width: 768px) and (max-width: 1023px){.info[_ngcontent-%COMP%]{position:absolute;left:10%;right:10%;top:30%;color:var(--mainWhiteColor)}}"]})}return t})();function ZV(t,e,n,r,i,s,o){try{var a=t[s](o),c=a.value}catch(u){return void n(u)}a.done?e(c):Promise.resolve(c).then(r,i)}function y(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(c){ZV(s,r,i,o,a,"next",c)}function a(c){ZV(s,r,i,o,a,"throw",c)}o(void 0)})}}const XV=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},$1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0;let h=(15&a)<<2|u>>6,f=63&u;c||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(XV(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const c=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(1023&c))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==u||null==d)throw new Nie;r.push(s<<2|a>>4),64!==u&&(r.push(a<<4&240|u>>2),64!==d&&r.push(u<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Nie extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Em=function(t){return function(t){const e=XV(t);return $1.encodeByteArray(e,!0)}(t).replace(/\./g,"")},Tm=function(t){try{return $1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},Sm=()=>{try{return function Oie(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Tm(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},tB=()=>{var t;return null===(t=Sm())||void 0===t?void 0:t.config};class Am{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function xr(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function H1(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function da(){try{return"object"==typeof indexedDB}catch{return!1}}function uh(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function G1(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class yi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gi.prototype.create)}}class Gi{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function Gie(t,e){return t.replace(zie,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new yi(i,`${this.serviceName}: ${o} (${i}).`,r)}}const zie=/\{\$([^}]+)}/g;function z1(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(rB(s)&&rB(o)){if(!z1(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function rB(t){return null!==t&&"object"==typeof t}function iB(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class qie{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function Kie(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=W1),void 0===i.error&&(i.error=W1),void 0===i.complete&&(i.complete=W1);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function W1(){}const Yie=1e3,Qie=2,Jie=144e5,Zie=.5;function K1(t,e=Yie,n=Qie){const r=e*Math.pow(n,t),i=Math.round(Zie*r*(Math.random()-.5)*2);return Math.min(Jie,r+i)}function vi(t){return t&&t._delegate?t._delegate:t}class Ln{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ha="[DEFAULT]";class ese{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Am;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function nse(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ha})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ha){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return y(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=ha){return this.instances.has(e)}getOptions(e=ha){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===ha?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=ha){return this.component?this.component.multipleInstances?e:ha:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class rse{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ese(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const Y1=[];var Pe=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Pe||{});const sB={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},ise=Pe.INFO,sse={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},ose=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=sse[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class fa{constructor(e){this.name=e,this._logLevel=ise,this._logHandler=ose,this._userLogHandler=null,Y1.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?sB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const ase=(t,e)=>e.some(n=>t instanceof n);let oB,aB;const cB=new WeakMap,Q1=new WeakMap,uB=new WeakMap,J1=new WeakMap,Z1=new WeakMap;let X1={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Q1.get(t);if("objectStoreNames"===e)return t.objectStoreNames||uB.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ao(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function pse(t){return"function"==typeof t?function fse(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function use(){return aB||(aB=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(eD(this),e),ao(cB.get(this))}:function(...e){return ao(t.apply(eD(this),e))}:function(e,...n){const r=t.call(eD(this),e,...n);return uB.set(r,e.sort?e.sort():[e]),ao(r)}}(t):(t instanceof IDBTransaction&&function dse(t){if(Q1.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Q1.set(t,e)}(t),ase(t,function cse(){return oB||(oB=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,X1):t)}function ao(t){if(t instanceof IDBRequest)return function lse(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ao(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&cB.set(n,t)}).catch(()=>{}),Z1.set(e,t),e}(t);if(J1.has(t))return J1.get(t);const e=pse(t);return e!==t&&(J1.set(t,e),Z1.set(e,t)),e}const eD=t=>Z1.get(t);function lB(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ao(o);return r&&o.addEventListener("upgradeneeded",c=>{r(ao(o.result),c.oldVersion,c.newVersion,ao(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const gse=["get","getKey","getAll","getAllKeys","count"],mse=["put","add","delete","clear"],tD=new Map;function dB(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(tD.get(e))return tD.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=mse.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!gse.includes(n))return;const s=function(){var o=y(function*(a,...c){const u=this.transaction(a,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]});return function(c){return o.apply(this,arguments)}}();return tD.set(e,s),s}!function hse(t){X1=t(X1)}(t=>({...t,get:(e,n,r)=>dB(e,n)||t.get(e,n,r),has:(e,n)=>!!dB(e,n)||t.has(e,n)}));class _se{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function yse(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const nD="@firebase/app",pa=new fa("@firebase/app"),xm="[DEFAULT]",Gse={[nD]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ga=new Map,Mm=new Map;function zse(t,e){try{t.container.addComponent(e)}catch(n){pa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Qn(t){const e=t.name;if(Mm.has(e))return pa.debug(`There were multiple attempts to register component ${e}.`),!1;Mm.set(e,t);for(const n of ga.values())zse(n,t);return!0}function Om(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Es=new Gi("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class qse{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ln("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Es.create("app-deleted",{appName:this._name})}}const lh="9.23.0";function fB(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:xm,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Es.create("bad-app-name",{appName:String(i)});if(n||(n=tB()),!n)throw Es.create("no-options");const s=ga.get(i);if(s){if(z1(n,s.options)&&z1(r,s.config))return s;throw Es.create("duplicate-app",{appName:i})}const o=new rse(i);for(const c of Mm.values())o.addComponent(c);const a=new qse(n,r,o);return ga.set(i,a),a}function pB(t=xm){const e=ga.get(t);if(!e&&t===xm&&tB())return fB();if(!e)throw Es.create("no-app",{appName:t});return e}function gB(){return Array.from(ga.values())}function Vt(t,e,n){var r;let i=null!==(r=Gse[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void pa.warn(a.join(" "))}Qn(new Ln(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Kse="firebase-heartbeat-database",Yse=1,dh="firebase-heartbeat-store";let iD=null;function mB(){return iD||(iD=lB(Kse,Yse,{upgrade:(t,e)=>{0===e&&t.createObjectStore(dh)}}).catch(t=>{throw Es.create("idb-open",{originalErrorMessage:t.message})})),iD}function sD(){return(sD=y(function*(t){try{return yield(yield mB()).transaction(dh).objectStore(dh).get(yB(t))}catch(e){if(e instanceof yi)pa.warn(e.message);else{const n=Es.create("idb-get",{originalErrorMessage:e?.message});pa.warn(n.message)}}})).apply(this,arguments)}function _B(t,e){return oD.apply(this,arguments)}function oD(){return(oD=y(function*(t,e){try{const r=(yield mB()).transaction(dh,"readwrite");yield r.objectStore(dh).put(e,yB(t)),yield r.done}catch(n){if(n instanceof yi)pa.warn(n.message);else{const r=Es.create("idb-set",{originalErrorMessage:n?.message});pa.warn(r.message)}}})).apply(this,arguments)}function yB(t){return`${t.name}!${t.options.appId}`}class Xse{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new toe(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return y(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=vB();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return y(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=vB(),{heartbeatsToSend:r,unsentEntries:i}=function eoe(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),bB(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),bB(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Em(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function vB(){return(new Date).toISOString().substring(0,10)}class toe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return y(function*(){return!!da()&&uh().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return y(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function Qse(t){return sD.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return y(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return _B(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return y(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return _B(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function bB(t){return Em(JSON.stringify({version:2,heartbeats:t})).length}!function noe(t){Qn(new Ln("platform-logger",e=>new _se(e),"PRIVATE")),Qn(new Ln("heartbeat",e=>new Xse(e),"PRIVATE")),Vt(nD,"0.9.13",t),Vt(nD,"0.9.13","esm2017"),Vt("fire-js","")}(""),Vt("firebase","9.23.0","app");const soe=(t,e)=>e.some(n=>t instanceof n);let wB,DB;const IB=new WeakMap,aD=new WeakMap,CB=new WeakMap,cD=new WeakMap,uD=new WeakMap;let lD={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return aD.get(t);if("objectStoreNames"===e)return t.objectStoreNames||CB.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return co(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function hoe(t){return"function"==typeof t?function doe(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function aoe(){return DB||(DB=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(dD(this),e),co(IB.get(this))}:function(...e){return co(t.apply(dD(this),e))}:function(e,...n){const r=t.call(dD(this),e,...n);return CB.set(r,e.sort?e.sort():[e]),co(r)}}(t):(t instanceof IDBTransaction&&function uoe(t){if(aD.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});aD.set(t,e)}(t),soe(t,function ooe(){return wB||(wB=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,lD):t)}function co(t){if(t instanceof IDBRequest)return function coe(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(co(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&IB.set(n,t)}).catch(()=>{}),uD.set(e,t),e}(t);if(cD.has(t))return cD.get(t);const e=hoe(t);return e!==t&&(cD.set(t,e),uD.set(e,t)),e}const dD=t=>uD.get(t),poe=["get","getKey","getAll","getAllKeys","count"],goe=["put","add","delete","clear"],hD=new Map;function EB(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(hD.get(e))return hD.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=goe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!poe.includes(n))return;const s=function(){var o=y(function*(a,...c){const u=this.transaction(a,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]});return function(c){return o.apply(this,arguments)}}();return hD.set(e,s),s}!function loe(t){lD=t(lD)}(t=>({...t,get:(e,n,r)=>EB(e,n)||t.get(e,n,r),has:(e,n)=>!!EB(e,n)||t.has(e,n)}));const TB="@firebase/installations",fD="0.6.4",SB=1e4,AB=`w:${fD}`,NB="FIS_v2",moe="https://firebaseinstallations.googleapis.com/v1",_oe=36e5,Ts=new Gi("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function xB(t){return t instanceof yi&&t.code.includes("request-failed")}function pD({projectId:t}){return`${moe}/projects/${t}/installations`}function MB(t){return{token:t.token,requestStatus:2,expiresIn:woe(t.expiresIn),creationTime:Date.now()}}function gD(t,e){return mD.apply(this,arguments)}function mD(){return(mD=y(function*(t,e){const r=(yield e.json()).error;return Ts.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function OB({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function _D(t){return yD.apply(this,arguments)}function yD(){return(yD=y(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function woe(t){return Number(t.replace("s","000"))}function vD(){return(vD=y(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=pD(t),i=OB(t),s=e.getImmediate({optional:!0});if(s){const u=yield s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:NB,appId:t.appId,sdkVersion:AB})},c=yield _D(()=>fetch(r,a));if(c.ok){const u=yield c.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:MB(u.authToken)}}throw yield gD("Create Installation",c)})).apply(this,arguments)}function kB(t){return new Promise(e=>{setTimeout(e,t)})}const Eoe=/^[cdef][\w-]{21}$/,bD="";function Toe(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function Soe(t){return function Coe(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return Eoe.test(n)?n:bD}catch{return bD}}function Nu(t){return`${t.appName}!${t.appId}`}const xu=new Map;function PB(t,e){const n=Nu(t);FB(n,e),function xoe(t,e){const n=function LB(){return!ma&&"BroadcastChannel"in self&&(ma=new BroadcastChannel("[Firebase] FID Change"),ma.onmessage=t=>{FB(t.data.key,t.data.fid)}),ma}();n&&n.postMessage({key:t,fid:e}),function VB(){0===xu.size&&ma&&(ma.close(),ma=null)}()}(n,e)}function FB(t,e){const n=xu.get(t);if(n)for(const r of n)r(e)}let ma=null;const Moe="firebase-installations-database",Ooe=1,_a="firebase-installations-store";let wD=null;function DD(){return wD||(wD=function foe(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=co(o);return r&&o.addEventListener("upgradeneeded",c=>{r(co(o.result),c.oldVersion,c.newVersion,co(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(Moe,Ooe,{upgrade:(t,e)=>{0===e&&t.createObjectStore(_a)}})),wD}function Rm(t,e){return ID.apply(this,arguments)}function ID(){return(ID=y(function*(t,e){const n=Nu(t),i=(yield DD()).transaction(_a,"readwrite"),s=i.objectStore(_a),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&PB(t,e.fid),e})).apply(this,arguments)}function CD(t){return ED.apply(this,arguments)}function ED(){return(ED=y(function*(t){const e=Nu(t),r=(yield DD()).transaction(_a,"readwrite");yield r.objectStore(_a).delete(e),yield r.done})).apply(this,arguments)}function hh(t,e){return TD.apply(this,arguments)}function TD(){return(TD=y(function*(t,e){const n=Nu(t),i=(yield DD()).transaction(_a,"readwrite"),s=i.objectStore(_a),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&PB(t,a.fid),a})).apply(this,arguments)}function SD(t){return AD.apply(this,arguments)}function AD(){return AD=y(function*(t){let e;const n=yield hh(t.appConfig,r=>{const i=function Roe(t){return UB(t||{fid:Toe(),registrationStatus:0})}(r),s=function koe(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Ts.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Poe(t,e){return ND.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Foe(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===bD?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),AD.apply(this,arguments)}function ND(){return ND=y(function*(t,e){try{const n=yield function Ioe(t,e){return vD.apply(this,arguments)}(t,e);return Rm(t.appConfig,n)}catch(n){throw xB(n)&&409===n.customData.serverCode?yield CD(t.appConfig):yield Rm(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),ND.apply(this,arguments)}function Foe(t){return xD.apply(this,arguments)}function xD(){return(xD=y(function*(t){let e=yield BB(t.appConfig);for(;1===e.registrationStatus;)yield kB(100),e=yield BB(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield SD(t);return r||n}return e})).apply(this,arguments)}function BB(t){return hh(t,e=>{if(!e)throw Ts.create("installation-not-found");return UB(e)})}function UB(t){return function Loe(t){return 1===t.registrationStatus&&t.registrationTime+SB<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function MD(){return(MD=y(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function Boe(t,{fid:e}){return`${pD(t)}/${e}/authTokens:generate`}(t,n),i=function RB(t,{refreshToken:e}){const n=OB(t);return n.append("Authorization",function Doe(t){return`${NB} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const u=yield s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:AB,appId:t.appId}})},c=yield _D(()=>fetch(r,a));if(c.ok)return MB(yield c.json());throw yield gD("Generate Auth Token",c)})).apply(this,arguments)}function OD(t){return RD.apply(this,arguments)}function RD(){return RD=y(function*(t,e=!1){let n;const r=yield hh(t.appConfig,s=>{if(!$B(s))throw Ts.create("not-registered");const o=s.authToken;if(!e&&function $oe(t){return 2===t.requestStatus&&!function Hoe(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+_oe}(t)}(o))return s;if(1===o.requestStatus)return n=function Uoe(t,e){return kD.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw Ts.create("app-offline");const a=function Goe(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function joe(t,e){return PD.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),RD.apply(this,arguments)}function kD(){return(kD=y(function*(t,e){let n=yield jB(t.appConfig);for(;1===n.authToken.requestStatus;)yield kB(100),n=yield jB(t.appConfig);const r=n.authToken;return 0===r.requestStatus?OD(t,e):r})).apply(this,arguments)}function jB(t){return hh(t,e=>{if(!$B(e))throw Ts.create("not-registered");return function zoe(t){return 1===t.requestStatus&&t.requestTime+SB<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function PD(){return PD=y(function*(t,e){try{const n=yield function Voe(t,e){return MD.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Rm(t.appConfig,r),n}catch(n){if(!xB(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Rm(t.appConfig,r)}else yield CD(t.appConfig);throw n}}),PD.apply(this,arguments)}function $B(t){return void 0!==t&&2===t.registrationStatus}function FD(){return(FD=y(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield SD(e);return r?r.catch(console.error):OD(e).catch(console.error),n.fid})).apply(this,arguments)}function LD(){return LD=y(function*(t,e=!1){const n=t;return yield function Koe(t){return VD.apply(this,arguments)}(n),(yield OD(n,e)).token}),LD.apply(this,arguments)}function VD(){return(VD=y(function*(t){const{registrationPromise:e}=yield SD(t);e&&(yield e)})).apply(this,arguments)}function jD(t){return Ts.create("missing-app-config-values",{valueName:t})}const HB="installations",Xoe=t=>{const e=t.getProvider("app").getImmediate(),n=function Joe(t){if(!t||!t.options)throw jD("App Configuration");if(!t.name)throw jD("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw jD(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Om(e,"heartbeat"),_delete:()=>Promise.resolve()}},eae=t=>{const n=Om(t.getProvider("app").getImmediate(),HB).getImmediate();return{getId:()=>function Woe(t){return FD.apply(this,arguments)}(n),getToken:i=>function qoe(t){return LD.apply(this,arguments)}(n,i)}};(function tae(){Qn(new Ln(HB,Xoe,"PUBLIC")),Qn(new Ln("installations-internal",eae,"PRIVATE"))})(),Vt(TB,fD),Vt(TB,fD,"esm2017");const $D="@firebase/remote-config",fr=new Gi("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class hae{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return y(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function fae(t=navigator){return t.languages&&t.languages[0]||t.language}class pae{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return y(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},c={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:fae()},u={method:"POST",headers:a,body:JSON.stringify(c)},l=fetch(o,u),d=new Promise((b,_)=>{e.signal.addEventListener(()=>{const T=new Error("The operation was aborted.");T.name="AbortError",_(T)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(b){let _="fetch-client-network";throw"AbortError"===b?.name&&(_="fetch-timeout"),fr.create(_,{originalErrorMessage:b?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let g,m;if(200===h.status){let b;try{b=yield h.json()}catch(_){throw fr.create("fetch-client-parse",{originalErrorMessage:_?.message})}g=b.entries,m=b.state}if("INSTANCE_STATE_UNSPECIFIED"===m?f=500:"NO_CHANGE"===m?f=304:("NO_TEMPLATE"===m||"EMPTY_CONFIG"===m)&&(g={}),304!==f&&200!==f)throw fr.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:g}})()}}class _ae{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return y(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return y(function*(){yield function gae(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(fr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function mae(t){if(!(t instanceof yi&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+K1(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class bae{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Pm(t,e){const n=t.target.error||void 0;return fr.create(e,{originalErrorMessage:n&&n?.message})}const ya="app_namespace_store";class Cae{constructor(e,n,r,i=function Iae(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(Pm(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ya,{keyPath:"compositeKey"})}}catch(n){e(fr.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return y(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([ya],"readonly").objectStore(ya),c=n.createCompositeKey(e);try{const u=a.get(c);u.onerror=l=>{s(Pm(l,"storage-get"))},u.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(u){s(fr.create("storage-get",{originalErrorMessage:u?.message}))}})})()}set(e,n){var r=this;return y(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const c=i.transaction([ya],"readwrite").objectStore(ya),u=r.createCompositeKey(e);try{const l=c.put({compositeKey:u,value:n});l.onerror=d=>{o(Pm(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(fr.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return y(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([ya],"readwrite").objectStore(ya),c=n.createCompositeKey(e);try{const u=a.delete(c);u.onerror=l=>{s(Pm(l,"storage-delete"))},u.onsuccess=()=>{i()}}catch(u){s(fr.create("storage-delete",{originalErrorMessage:u?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class Eae{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return y(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function Sae(){return qD.apply(this,arguments)}function qD(){return(qD=y(function*(){if(!da())return!1;try{return yield uh()}catch{return!1}})).apply(this,arguments)}!function Tae(){Qn(new Ln("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw fr.create("registration-window");if(!da())throw fr.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw fr.create("registration-project-id");if(!o)throw fr.create("registration-api-key");if(!a)throw fr.create("registration-app-id");const c=new Cae(a,r.name,n=n||"firebase"),u=new Eae(c),l=new fa($D);l.logLevel=Pe.ERROR;const d=new pae(i,lh,n,s,o,a),h=new _ae(d,c),f=new hae(h,c,u,l),p=new bae(r,f,u,c,l);return function uae(t){const e=vi(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Vt($D,"0.4.4"),Vt($D,"0.4.4","esm2017")}();const Aae=(t,e)=>e.some(n=>t instanceof n);let qB,KB;const YB=new WeakMap,KD=new WeakMap,QB=new WeakMap,YD=new WeakMap,QD=new WeakMap;let JD={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return KD.get(t);if("objectStoreNames"===e)return t.objectStoreNames||QB.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ss(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Pae(t){return"function"==typeof t?function kae(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function xae(){return KB||(KB=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(ZD(this),e),Ss(YB.get(this))}:function(...e){return Ss(t.apply(ZD(this),e))}:function(e,...n){const r=t.call(ZD(this),e,...n);return QB.set(r,e.sort?e.sort():[e]),Ss(r)}}(t):(t instanceof IDBTransaction&&function Oae(t){if(KD.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});KD.set(t,e)}(t),Aae(t,function Nae(){return qB||(qB=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,JD):t)}function Ss(t){if(t instanceof IDBRequest)return function Mae(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ss(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&YB.set(n,t)}).catch(()=>{}),QD.set(e,t),e}(t);if(YD.has(t))return YD.get(t);const e=Pae(t);return e!==t&&(YD.set(t,e),QD.set(e,t)),e}const ZD=t=>QD.get(t);function JB(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ss(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Ss(o.result),c.oldVersion,c.newVersion,Ss(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function XD(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),Ss(n).then(()=>{})}const Fae=["get","getKey","getAll","getAllKeys","count"],Lae=["put","add","delete","clear"],eI=new Map;function ZB(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(eI.get(e))return eI.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Lae.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Fae.includes(n))return;const s=function(){var o=y(function*(a,...c){const u=this.transaction(a,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]});return function(c){return o.apply(this,arguments)}}();return eI.set(e,s),s}!function Rae(t){JD=t(JD)}(t=>({...t,get:(e,n,r)=>ZB(e,n)||t.get(e,n,r),has:(e,n)=>!!ZB(e,n)||t.has(e,n)}));const Vae="/firebase-messaging-sw.js",Bae="/firebase-cloud-messaging-push-scope",XB="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Uae="https://fcmregistrations.googleapis.com/v1",eU="google.c.a.c_id",jae="google.c.a.c_l",$ae="google.c.a.ts";var Fm=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(Fm||{});function As(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function zae(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const tI="fcm_token_details_db",Wae=5,tU="fcm_token_object_Store";function nI(){return nI=y(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(tI))return null;let e=null;return(yield JB(tI,Wae,{upgrade:(r=y(function*(i,s,o,a){var c;if(s<2||!i.objectStoreNames.contains(tU))return;const u=a.objectStore(tU),l=yield u.index("fcmSenderId").get(t);if(yield u.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(c=d.createTime)&&void 0!==c?c:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:As(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:As(d.auth),p256dh:As(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:As(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:As(d.auth),p256dh:As(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:As(d.vapidKey)}}}}),function(s,o,a,c){return r.apply(this,arguments)})})).close(),yield XD(tI),yield XD("fcm_vapid_details_db"),yield XD("undefined"),function Kae(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),nI.apply(this,arguments)}const Yae="firebase-messaging-database",Qae=1,va="firebase-messaging-store";let rI=null;function iI(){return rI||(rI=JB(Yae,Qae,{upgrade:(t,e)=>{0===e&&t.createObjectStore(va)}})),rI}function nU(t){return sI.apply(this,arguments)}function sI(){return sI=y(function*(t){const e=uI(t),r=yield(yield iI()).transaction(va).objectStore(va).get(e);if(r)return r;{const i=yield function qae(t){return nI.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield oI(t,i),i}}),sI.apply(this,arguments)}function oI(t,e){return aI.apply(this,arguments)}function aI(){return(aI=y(function*(t,e){const n=uI(t),i=(yield iI()).transaction(va,"readwrite");return yield i.objectStore(va).put(e,n),yield i.done,e})).apply(this,arguments)}function cI(){return(cI=y(function*(t){const e=uI(t),r=(yield iI()).transaction(va,"readwrite");yield r.objectStore(va).delete(e),yield r.done})).apply(this,arguments)}function uI({appConfig:t}){return t.appId}const Cn=new Gi("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Xae(t,e){return lI.apply(this,arguments)}function lI(){return(lI=y(function*(t,e){const n=yield pI(t),r=iU(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(fI(t.appConfig),i)).json()}catch(o){throw Cn.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw Cn.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Cn.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function dI(){return(dI=y(function*(t,e){const n=yield pI(t),r=iU(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${fI(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw Cn.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw Cn.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Cn.create("token-update-no-token");return s.token})).apply(this,arguments)}function rU(t,e){return hI.apply(this,arguments)}function hI(){return(hI=y(function*(t,e){const r={method:"DELETE",headers:yield pI(t)};try{const s=yield(yield fetch(`${fI(t.appConfig)}/${e}`,r)).json();if(s.error)throw Cn.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw Cn.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function fI({projectId:t}){return`${Uae}/projects/${t}/registrations`}function pI(t){return gI.apply(this,arguments)}function gI(){return(gI=y(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function iU({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==XB&&(i.web.applicationPubKey=r),i}const tce=6048e5;function mI(){return mI=y(function*(t){const e=yield function ice(t,e){return bI.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:As(e.getKey("auth")),p256dh:As(e.getKey("p256dh"))},r=yield nU(t.firebaseDependencies);if(r){if(function sce(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+tce?function rce(t,e){return yI.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield rU(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return oU(t.firebaseDependencies,n)}return oU(t.firebaseDependencies,n)}),mI.apply(this,arguments)}function _I(){return _I=y(function*(t){const e=yield nU(t.firebaseDependencies);e&&(yield rU(t.firebaseDependencies,e.token),yield function Jae(t){return cI.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),_I.apply(this,arguments)}function yI(){return yI=y(function*(t,e){try{const n=yield function ece(t,e){return dI.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield oI(t.firebaseDependencies,r),n}catch(n){throw yield function sU(t){return _I.apply(this,arguments)}(t),n}}),yI.apply(this,arguments)}function oU(t,e){return vI.apply(this,arguments)}function vI(){return(vI=y(function*(t,e){const r={token:yield Xae(t,e),createTime:Date.now(),subscriptionOptions:e};return yield oI(t,r),r.token})).apply(this,arguments)}function bI(){return(bI=y(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:zae(e)})})).apply(this,arguments)}function aU(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function oce(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function ace(t,e){e.data&&(t.data=e.data)}(e,t),function cce(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const c=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;c&&(t.fcmOptions.analyticsLabel=c)}(e,t),e}function cU(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function wI(t){return Cn.create("missing-app-config-values",{valueName:t})}cU("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),cU("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class dce{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function lce(t){if(!t||!t.options)throw wI("App Configuration Object");if(!t.name)throw wI("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw wI(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function DI(){return(DI=y(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(Vae,{scope:Bae}),t.swRegistration.update().catch(()=>{})}catch(e){throw Cn.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function II(){return(II=y(function*(t,e){if(!e&&!t.swRegistration&&(yield function uU(t){return DI.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Cn.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function CI(){return(CI=y(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=XB)})).apply(this,arguments)}function EI(){return EI=y(function*(t,e){if(!navigator)throw Cn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Cn.create("permission-blocked");return yield function fce(t,e){return CI.apply(this,arguments)}(t,e?.vapidKey),yield function hce(t,e){return II.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function nce(t){return mI.apply(this,arguments)}(t)}),EI.apply(this,arguments)}function TI(){return(TI=y(function*(t,e,n){const r=function gce(t){switch(t){case Fm.NOTIFICATION_CLICKED:return"notification_open";case Fm.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[eU],message_name:n[jae],message_time:n[$ae],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function SI(){return SI=y(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Fm.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(aU(n)):t.onMessageHandler.next(aU(n)));const r=n.data;(function uce(t){return"object"==typeof t&&!!t&&eU in t})(r)&&"1"===r["google.c.a.e"]&&(yield function pce(t,e,n){return TI.apply(this,arguments)}(t,n.messageType,r))}),SI.apply(this,arguments)}const dU="@firebase/messaging",_ce=t=>{const e=new dce(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function mce(t,e){return SI.apply(this,arguments)}(e,n)),e},yce=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function lU(t,e){return EI.apply(this,arguments)}(e,r)}};function fU(){return AI.apply(this,arguments)}function AI(){return(AI=y(function*(){try{yield uh()}catch{return!1}return typeof window<"u"&&da()&&G1()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function vce(){Qn(new Ln("messaging",_ce,"PUBLIC")),Qn(new Ln("messaging-internal",yce,"PRIVATE")),Vt(dU,"0.12.4"),Vt(dU,"0.12.4","esm2017")}();const Lm="analytics",Dce="firebase_id",Ice="origin",Cce=6e4,Ece="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",MI="https://www.googletagmanager.com/gtag/js",dn=new fa("@firebase/analytics"),Jn=new Gi("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Sce(t){if(!t.startsWith(MI)){const e=Jn.create("invalid-gtag-resource",{gtagURL:t});return dn.warn(e.message),""}return t}function pU(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function OI(){return(OI=y(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const c=(yield pU(n)).find(u=>u.measurementId===i);c&&(yield e[c.appId])}}catch(a){dn.error(a)}t("config",i,s)})).apply(this,arguments)}function RI(){return(RI=y(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield pU(n);for(const c of o){const u=a.find(d=>d.measurementId===c),l=u&&e[u.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){dn.error(s)}})).apply(this,arguments)}const Fce=30,gU=new class Vce{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Bce(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function kI(){return(kI=y(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:Bce(r)},s=Ece.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const c=yield o.json();null!==(e=c.error)&&void 0!==e&&e.message&&(a=c.error.message)}catch{}throw Jn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function PI(){return(PI=y(function*(t,e=gU,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Jn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Jn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Gce;return setTimeout(y(function*(){a.abort()}),void 0!==n?n:Cce),mU({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function mU(t,e,n){return FI.apply(this,arguments)}function FI(){return FI=y(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=gU){var s;const{appId:o,measurementId:a}=t;try{yield function $ce(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Jn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(c){if(a)return dn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw c}try{const c=yield function Uce(t){return kI.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),c}catch(c){const u=c;if(!function Hce(t){if(!(t instanceof yi&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(u)){if(i.deleteThrottleMetadata(o),a)return dn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw c}const l=503===Number(null===(s=u?.customData)||void 0===s?void 0:s.httpStatus)?K1(n,i.intervalMillis,Fce):K1(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(o,d),dn.debug(`Calling attemptFetch again in ${l} millis`),mU(t,d,r,i)}}),FI.apply(this,arguments)}class Gce{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let LI,GI;function VI(){return(VI=y(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function zI(){return(zI=y(function*(){if(!da())return dn.warn(Jn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield uh()}catch(t){return dn.warn(Jn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function WI(){return WI=y(function*(t,e,n,r,i,s,o){var a;const c=function jce(t){return PI.apply(this,arguments)}(t);c.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&dn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>dn.error(f)),e.push(c);const u=function Jce(){return zI.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([c,u]);(function Pce(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(MI)&&n.src.includes(t))return n;return null})(s)||function Nce(t,e){const n=function Ace(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:Sce}),r=document.createElement("script"),i=`${MI}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,l.measurementId),GI&&(i("consent","default",GI),function _U(t){GI=t}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[Ice]="firebase",h.update=!0,null!=d&&(h[Dce]=d),i("config",l.measurementId,h),LI&&(i("set",LI),function yU(t){LI=t}(void 0)),l.measurementId}),WI.apply(this,arguments)}class Xce{constructor(e){this.app=e}_delete(){return delete zi[this.app.options.appId],Promise.resolve()}}let zi={},vU=[];const bU={};let DU,Wi,Vm="dataLayer",qI=!1;function tue(t,e,n){!function eue(){const t=[];if(H1()&&t.push("This is a browser extension environment."),G1()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Jn.create("invalid-analytics-context",{errorInfo:e});dn.warn(n.message)}}();const r=t.options.appId;if(!r)throw Jn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Jn.create("no-api-key");dn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=zi[r])throw Jn.create("already-exists",{id:r});if(!qI){!function xce(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Vm);const{wrappedGtag:s,gtagCore:o}=function kce(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function Rce(t,e,n,r){function s(){return s=y(function*(o,...a){try{if("event"===o){const[c,u]=a;yield function Oce(t,e,n,r,i){return RI.apply(this,arguments)}(t,e,n,c,u)}else if("config"===o){const[c,u]=a;yield function Mce(t,e,n,r,i,s){return OI.apply(this,arguments)}(t,e,n,r,c,u)}else if("consent"===o){const[c]=a;t("consent","update",c)}else if("get"===o){const[c,u,l]=a;t("get",c,u,l)}else if("set"===o){const[c]=a;t("set",c)}else t(o,...a)}catch(c){dn.error(c)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(zi,vU,bU,Vm,"gtag");Wi=s,DU=o,qI=!0}return zi[r]=function Zce(t,e,n,r,i,s,o){return WI.apply(this,arguments)}(t,vU,bU,e,DU,Vm,n),new Xce(t)}function rue(){return KI.apply(this,arguments)}function KI(){return(KI=y(function*(){if(H1()||!G1()||!da())return!1;try{return yield uh()}catch{return!1}})).apply(this,arguments)}const IU="@firebase/analytics";!function sue(){Qn(new Ln(Lm,(e,{options:n})=>tue(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),Qn(new Ln("analytics-internal",function t(e){try{const n=e.getProvider(Lm).getImmediate();return{logEvent:(r,i,s)=>function iue(t,e,n,r){t=vi(t),function zce(t,e,n,r,i){return VI.apply(this,arguments)}(Wi,zi[t.app.options.appId],e,n,r).catch(i=>dn.error(i))}(n,r,i,s)}}catch(n){throw Jn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Vt(IU,"0.10.0"),Vt(IU,"0.10.0","esm2017")}();class oue extends Mt{constructor(e,n){super()}schedule(e,n=0){return this}}const Bm={setInterval(t,e,...n){const{delegate:r}=Bm;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Bm;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class EU extends oue{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Bm.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Bm.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Gs(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const QI={now:()=>(QI.delegate||Date).now(),delegate:void 0};class fh{constructor(e,n=fh.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}fh.now=QI.now;class TU extends fh{constructor(e,n=fh.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const uue=new class cue extends TU{}(class aue extends EU{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),JI=new TU(EU),lue=JI,ZI=new Qc("7.6.1"),XI="__angularfire_symbol__analyticsIsSupportedValue",eC="__angularfire_symbol__analyticsIsSupported",tC="__angularfire_symbol__remoteConfigIsSupportedValue",nC="__angularfire_symbol__remoteConfigIsSupported",rC="__angularfire_symbol__messagingIsSupportedValue",iC="__angularfire_symbol__messagingIsSupported";globalThis[eC]||(globalThis[eC]=rue().then(t=>globalThis[XI]=t).catch(()=>globalThis[XI]=!1)),globalThis[iC]||(globalThis[iC]=fU().then(t=>globalThis[rC]=t).catch(()=>globalThis[rC]=!1)),globalThis[nC]||(globalThis[nC]=Sae().then(t=>globalThis[tC]=t).catch(()=>globalThis[tC]=!1));const aC=(t,e)=>{const n=e?[e]:gB(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Mu(){}class SU{constructor(e,n=uue){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class due{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Mu,{},Mu,Mu)),n.pipe(en({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let AU=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new SU(Zone.current)),this.insideAngular=n.run(()=>new SU(Zone.current,JI)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(H(be))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function ba(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function wa(t){return ba().ngZone.run(()=>t())}function fue(t){return ba(),function pue(t){return function(n){return(n=n.lift(new due(t.ngZone))).pipe(yp(t.outsideAngular),_p(t.insideAngular))}}(ba())(t)}const gue=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),wa(()=>t.apply(void 0,r))},Da=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=wa(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Mu,{},Mu,Mu)))),r[s]=gue(r[s],n));const i=function hue(t){return ba().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof Fe){const s=ba();return i.pipe(yp(s.outsideAngular),_p(s.insideAngular))}return wa(()=>i)}return i instanceof Fe?i.pipe(fue):i instanceof Promise?wa(()=>new Promise((s,o)=>i.then(a=>wa(()=>s(a)),a=>wa(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:wa(()=>i)};class Ou{constructor(e){return e}}class NU{constructor(){return gB()}}const cC=new Q("angularfire2._apps"),_ue={provide:Ou,useFactory:function mue(t){return t&&1===t.length?t[0]:new Ou(pB())},deps:[[new cr,cC]]},yue={provide:NU,deps:[[new cr,cC]]};function vue(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Ou(r)}}let bue=(()=>{class t{constructor(n){Vt("angularfire",ZI.full,"core"),Vt("angularfire",ZI.full,"app"),Vt("angular",wb.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(H(ps))},t.\u0275mod=De({type:t}),t.\u0275inj=ve({providers:[_ue,yue]}),t})();function wue(t,...e){return{ngModule:bue,providers:[{provide:cC,useFactory:vue(t),multi:!0,deps:[be,Gt,AU,...e]}]}}const Due=Da(fB,!0);const Iue=function xU(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},MU=new Gi("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Um=new fa("@firebase/auth");function jm(t,...e){Um.logLevel<=Pe.ERROR&&Um.error(`Auth (${lh}): ${t}`,...e)}function pr(t,...e){throw uC(t,...e)}function qi(t,...e){return uC(t,...e)}function uC(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return MU.create(t,...e)}function V(t,e,...n){if(!t)throw uC(e,...n)}function Ki(t){const e="INTERNAL ASSERTION FAILED: "+t;throw jm(e),new Error(e)}function uo(t,e){t||Ki(e)}function RU(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class gh{constructor(e,n){this.shortDelay=e,this.longDelay=n,uo(n>e,"Short delay should be less than long delay!"),this.isMobile=function Uie(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xr())}()||function $ie(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function Eue(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function lC(){return"http:"===RU()||"https:"===RU()}()||H1()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class kU{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Sue={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Aue=new gh(3e4,6e4);function St(t,e,n,r){return hC.apply(this,arguments)}function hC(){return(hC=y(function*(t,e,n,r,i={}){return PU(t,i,y(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=iB(Object.assign({key:t.config.apiKey},o)).slice(1),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),kU.fetch()(FU(t,t.config.apiHost,n,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function PU(t,e,n){return fC.apply(this,arguments)}function fC(){return(fC=y(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Sue),e);try{const i=new Nue(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw mh(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw mh(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===c)throw mh(t,"email-already-in-use",o);if("USER_DISABLED"===c)throw mh(t,"user-disabled",o);const l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw function OU(t,e,n){const r=Object.assign(Object.assign({},Iue()),{[e]:n});return new Gi("auth","Firebase",r).create(e,{appName:t.name})}(t,l,u);pr(t,l)}}catch(i){if(i instanceof yi)throw i;pr(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function FU(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?function dC(t,e){uo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`}class Nue{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(qi(this.auth,"network-request-failed")),Aue.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function mh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=qi(t,e,r);return i.customData._tokenResponse=n,i}function gC(){return(gC=y(function*(t,e){return St(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function _C(){return(_C=y(function*(t,e){return St(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function _h(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function yC(){return(yC=y(function*(t,e=!1){const n=vi(t),r=yield n.getIdToken(e),i=$m(r);V(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:_h(vC(i.auth_time)),issuedAtTime:_h(vC(i.iat)),expirationTime:_h(vC(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function vC(t){return 1e3*Number(t)}function $m(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return jm("JWT malformed, contained fewer than 3 sections"),null;try{const i=Tm(n);return i?JSON.parse(i):(jm("Failed to decode base64 JWT payload"),null)}catch(i){return jm("Caught error parsing JWT payload as JSON",i?.toString()),null}}function xs(t,e){return bC.apply(this,arguments)}function bC(){return(bC=y(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof yi&&function Pue({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class Fue{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(y(function*(){yield n.iteration()}),r)}iteration(){var e=this;return y(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class LU{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_h(this.lastLoginAt),this.creationTime=_h(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function yh(t){return wC.apply(this,arguments)}function wC(){return wC=y(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield xs(t,function Oue(t,e){return _C.apply(this,arguments)}(n,{idToken:r}));V(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function Bue(t){return t.map(e=>{var{providerId:n}=e,r=pp(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function Vue(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new LU(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),wC.apply(this,arguments)}function DC(){return(DC=y(function*(t){const e=vi(t);yield yh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function IC(){return(IC=y(function*(t,e){const n=yield PU(t,{},y(function*(){const r=iB({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=FU(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",kU.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class vh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){V(e.idToken,"internal-error"),V(typeof e.idToken<"u","internal-error"),V(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function kue(t){const e=$m(t);return V(e,"internal-error"),V(typeof e.exp<"u","internal-error"),V(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return y(function*(){return V(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return y(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function Uue(t,e){return IC.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new vh;return r&&(V("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(V("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(V("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vh,this.toJSON())}_performRefresh(){return Ki("not implemented")}}function lo(t,e){V("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Ia{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=pp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Fue(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new LU(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return y(function*(){const r=yield xs(n,n.stsTokenManager.getToken(n.auth,e));return V(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function Rue(t){return yC.apply(this,arguments)}(this,e)}reload(){return function Lue(t){return DC.apply(this,arguments)}(this)}_assign(e){this!==e&&(V(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ia(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){V(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return y(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield yh(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return y(function*(){const n=yield e.getIdToken();return yield xs(e,function xue(t,e){return gC.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,u,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,m=null!==(c=n._redirectEventId)&&void 0!==c?c:void 0,b=null!==(u=n.createdAt)&&void 0!==u?u:void 0,_=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:T,emailVerified:A,isAnonymous:F,providerData:z,stsTokenManager:re}=n;V(T&&re,e,"internal-error");const ge=vh.fromJSON(this.name,re);V("string"==typeof T,e,"internal-error"),lo(d,e.name),lo(h,e.name),V("boolean"==typeof A,e,"internal-error"),V("boolean"==typeof F,e,"internal-error"),lo(f,e.name),lo(p,e.name),lo(g,e.name),lo(m,e.name),lo(b,e.name),lo(_,e.name);const et=new Ia({uid:T,auth:e,email:h,emailVerified:A,displayName:d,isAnonymous:F,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:ge,createdAt:b,lastLoginAt:_});return z&&Array.isArray(z)&&(et.providerData=z.map(Ct=>Object.assign({},Ct))),m&&(et._redirectEventId=m),et}static _fromIdTokenResponse(e,n,r=!1){return y(function*(){const i=new vh;i.updateFromServerResponse(n);const s=new Ia({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield yh(s),s})()}}const VU=new Map;function Ms(t){uo(t instanceof Function,"Expected a class definition");let e=VU.get(t);return e?(uo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,VU.set(t,e),e)}const BU=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return y(function*(){return!0})()}_set(n,r){var i=this;return y(function*(){i.storage[n]=r})()}_get(n){var r=this;return y(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return y(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Hm(t,e,n){return`firebase:${t}:${e}:${n}`}class ku{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Hm(this.userKey,i.apiKey,s),this.fullPersistenceKey=Hm("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return y(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Ia._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return y(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return y(function*(){if(!n.length)return new ku(Ms(BU),e,r);const i=(yield Promise.all(n.map(function(){var u=y(function*(l){if(yield l._isAvailable())return l});return function(l){return u.apply(this,arguments)}}()))).filter(u=>u);let s=i[0]||Ms(BU);const o=Hm(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const l=yield u._get(o);if(l){const d=Ia._fromJSON(e,l);u!==s&&(a=d),s=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return s._shouldAllowMigration&&c.length?(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var u=y(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return u.apply(this,arguments)}}())),new ku(s,e,r)):new ku(s,e,r)})()}}function UU(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function HU(t=xr()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function jU(t=xr()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function zU(t=xr()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function WU(t=xr()){return/webos/i.test(t)}(e))return"Webos";if(function CC(t=xr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function $U(t=xr()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function GU(t=xr()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function qU(t,e=[]){let n;switch(t){case"Browser":n=UU(xr());break;case"Worker":n=`${UU(xr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${lh}/${r}`}function KU(t,e){return TC.apply(this,arguments)}function TC(){return(TC=y(function*(t,e){return St(t,"GET","/v2/recaptchaConfig",function Dt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}(t,e))})).apply(this,arguments)}function QU(t){return void 0!==t&&void 0!==t.enterprise}class JU{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}class XU{constructor(e){this.type="recaptcha-enterprise",this.auth=hn(e)}verify(e="verify",n=!1){var r=this;return y(function*(){function s(){return s=y(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var c=y(function*(u,l){KU(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new JU(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,u(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(u,l){return c.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,c,u){const l=window.grecaptcha;QU(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{c(d)}).catch(()=>{c("NO_RECAPTCHA")})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,c)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(u=>{if(!n&&QU(window.grecaptcha))o(u,a,c);else{if(typeof window>"u")return void c(new Error("RecaptchaVerifier is only supported in browser"));(function SC(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=qi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function Gue(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})})("https://www.google.com/recaptcha/enterprise.js?render="+u).then(()=>{o(u,a,c)}).catch(l=>{c(l)})}}).catch(u=>{c(u)})})})()}}class Kue{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return y(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class Yue{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ej(this),this.idTokenSubscription=new ej(this),this.beforeStateQueue=new Kue(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=MU,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Ms(n)),this._initializationPromise=this.queue(y(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield ku.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return y(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return y(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,c=s?._redirectEventId,u=yield n.tryRedirectSignIn(e);(!a||a===c)&&u?.user&&(s=u.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return V(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return y(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return y(function*(){try{yield yh(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Tue(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return y(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return y(function*(){const r=e?vi(e):null;return r&&V(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return y(function*(){if(!r._deleted)return e&&V(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(y(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return y(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(y(function*(){yield n.assertedPersistence.setPersistence(Ms(e))}))}initializeRecaptchaConfig(){var e=this;return y(function*(){const n=yield KU(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new JU(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new XU(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Gi("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return y(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return y(function*(){if(!n.redirectPersistenceManager){const r=e&&Ms(e)||n._popupRedirectResolver;V(r,n,"argument-error"),n.redirectPersistenceManager=yield ku.create(n,[Ms(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return y(function*(){var r,i;return n._isInitialized&&(yield n.queue(y(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return y(function*(){if(e===n.currentUser)return n.queue(y(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return V(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return y(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return V(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qU(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return y(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return y(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function Cue(t,...e){Um.logLevel<=Pe.WARN&&Um.warn(`Auth (${lh}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function hn(t){return vi(t)}class ej{constructor(e){this.auth=e,this.observer=null,this.addObserver=function Wie(t,e){const n=new qie(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return V(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function ZU(t){return`__${t}${Math.floor(1e6*Math.random())}`})("rcb"),new gh(3e4,6e4),new gh(2e3,1e4),new gh(3e4,6e4),new gh(5e3,15e3),encodeURIComponent("fac");var Nj="@firebase/auth";class jde{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return y(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){V(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}Sm(),function Hde(t){Qn(new Ln("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;V(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qU(t)},u=new Yue(r,i,s,c);return function Jue(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ms);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Qn(new Ln("auth-internal",e=>{const n=hn(e.getProvider("auth").getImmediate());return new jde(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vt(Nj,"0.23.2",function $de(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),Vt(Nj,"0.23.2","esm2017")}("Browser");class Rj{constructor(){return aC("auth")}}const gT=new Map,kj={activated:!1,tokenObservers:[]},Qde={initialized:!1,enabled:!1};function At(t){return gT.get(t)||Object.assign({},kj)}function n_(){return Qde}const mT="https://content-firebaseappcheck.googleapis.com/v1",ehe="exchangeDebugToken",Pj={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class nhe{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return y(function*(){n.stop();try{n.pending=new Am,yield function rhe(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new Am,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const En=new Gi("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function _T(t){if(!At(t).activated)throw En.create("use-before-activation",{appName:t.name})}function s_(t,e){return vT.apply(this,arguments)}function vT(){return vT=y(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw En.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw En.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw En.create("fetch-parse-error",{originalErrorMessage:d?.message})}const c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw En.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const u=1e3*Number(c[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+u,issuedAtTimeMillis:l}}),vT.apply(this,arguments)}function Fj(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${mT}/projects/${n}/apps/${r}:${ehe}?key=${i}`,body:{debug_token:e}}}const ahe="firebase-app-check-database",che=1,Ch="firebase-app-check-store";let o_=null;function bT(){return bT=y(function*(t,e){const r=(yield function Vj(){return o_||(o_=new Promise((t,e)=>{try{const n=indexedDB.open(ahe,che);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(En.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Ch,{keyPath:"compositeKey"})}}catch(n){e(En.create("storage-open",{originalErrorMessage:n?.message}))}}),o_)}()).transaction(Ch,"readwrite"),s=r.objectStore(Ch).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=c=>{o()},r.onerror=c=>{var u;a(En.create("storage-set",{originalErrorMessage:null===(u=c.target.error)||void 0===u?void 0:u.message}))}})}),bT.apply(this,arguments)}const Eh=new fa("@firebase/app-check");function IT(t,e){return da()?function lhe(t,e){return function Bj(t,e){return bT.apply(this,arguments)}(function jj(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{Eh.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function ET(){return n_().enabled}function TT(){return ST.apply(this,arguments)}function ST(){return ST=y(function*(){const t=n_();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),ST.apply(this,arguments)}const mhe={error:"UNKNOWN_ERROR"};function _he(t){return $1.encodeString(JSON.stringify(t),!1)}function a_(t){return AT.apply(this,arguments)}function AT(){return AT=y(function*(t,e=!1){const n=t.app;_T(n);const r=At(n);let s,i=r.token;if(i&&!Fu(i)&&(r.token=void 0,i=void 0),!i){const c=yield r.cachedTokenPromise;c&&(Fu(c)?i=c:yield IT(n,void 0))}if(!e&&i&&Fu(i))return{token:i.token};let a,o=!1;if(ET()){r.exchangeTokenPromise||(r.exchangeTokenPromise=s_(Fj(n,yield TT()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const c=yield r.exchangeTokenPromise;return yield IT(n,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield At(n).exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code?Eh.warn(c.message):Eh.error(c),s=c}return i?s?a=Fu(i)?{token:i.token,internalError:s}:zj(s):(a={token:i.token},r.token=i,yield IT(n,i)):a=zj(s),o&&function Gj(t,e){const n=At(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,a),a}),AT.apply(this,arguments)}function NT(){return NT=y(function*(t){const e=t.app;_T(e);const{provider:n}=At(e);if(ET()){const r=yield TT(),{token:i}=yield s_(Fj(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}}),NT.apply(this,arguments)}function MT(t,e){const n=At(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function Hj(t){const{app:e}=t,n=At(e);let r=n.tokenRefresher;r||(r=function yhe(t){const{app:e}=t;return new nhe(y(function*(){let r;if(r=At(e).token?yield a_(t,!0):yield a_(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=At(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},Pj.RETRIAL_MIN_WAIT,Pj.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Fu(t){return t.expireTimeMillis-Date.now()>0}function zj(t){return{token:_he(mhe),error:t}}class vhe{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=At(this.app);for(const n of e)MT(this.app,n.next);return Promise.resolve()}}const Xj="app-check-internal";!function Rhe(){Qn(new Ln("app-check",t=>function bhe(t,e){return new vhe(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(Xj).initialize()})),Qn(new Ln(Xj,t=>function whe(t){return{getToken:e=>a_(t,e),getLimitedUseToken:()=>function $j(t){return NT.apply(this,arguments)}(t),addTokenListener:e=>function xT(t,e,n,r){const{app:i}=t,s=At(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&Fu(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),Hj(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>Hj(t))}(t,"INTERNAL",e),removeTokenListener:e=>MT(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Vt("@firebase/app-check","0.8.0")}();class t${constructor(){return aC("app-check")}}typeof window<"u"&&window;var q,Vhe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},bi={},FT=FT||{},he=Vhe||self;function u_(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Th(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var LT="closure_uid_"+(1e9*Math.random()>>>0),Uhe=0;function jhe(t,e,n){return t.call.apply(t.bind,arguments)}function $he(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Vn(t,e,n){return(Vn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?jhe:$he).apply(null,arguments)}function l_(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function fn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function fo(){this.s=this.s,this.o=this.o}fo.prototype.s=!1,fo.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Bhe(t){Object.prototype.hasOwnProperty.call(t,LT)&&t[LT]||(t[LT]=++Uhe)}(this)},fo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const n$=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function VT(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function r$(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(u_(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Bn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Bn.prototype.h=function(){this.defaultPrevented=!0};var Ghe=function(){if(!he.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{he.addEventListener("test",()=>{},e),he.removeEventListener("test",()=>{},e)}catch{}return t}();function Sh(t){return/^[\s\xa0]*$/.test(t)}function d_(){var t=he.navigator;return t&&(t=t.userAgent)?t:""}function Yi(t){return-1!=d_().indexOf(t)}function BT(t){return BT[" "](t),t}BT[" "]=function(){};var jT,Whe=Yi("Opera"),Lu=Yi("Trident")||Yi("MSIE"),i$=Yi("Edge"),UT=i$||Lu,s$=Yi("Gecko")&&!(-1!=d_().toLowerCase().indexOf("webkit")&&!Yi("Edge"))&&!(Yi("Trident")||Yi("MSIE"))&&!Yi("Edge"),qhe=-1!=d_().toLowerCase().indexOf("webkit")&&!Yi("Edge");function o$(){var t=he.document;return t?t.documentMode:void 0}e:{var $T="",HT=function(){var t=d_();return s$?/rv:([^\);]+)(\)|;)/.exec(t):i$?/Edge\/([\d\.]+)/.exec(t):Lu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):qhe?/WebKit\/(\S+)/.exec(t):Whe?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(HT&&($T=HT?HT[1]:""),Lu){var GT=o$();if(null!=GT&&GT>parseFloat($T)){jT=String(GT);break e}}jT=$T}var Khe=he.document&&Lu&&(o$()||parseInt(jT,10))||void 0;function Ah(t,e){if(Bn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(s$){e:{try{BT(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Yhe[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ah.$.h.call(this)}}fn(Ah,Bn);var Yhe={2:"touch",3:"pen",4:"mouse"};Ah.prototype.h=function(){Ah.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Nh="closure_listenable_"+(1e6*Math.random()|0),Qhe=0;function Jhe(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Qhe,this.fa=this.ia=!1}function h_(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function WT(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function c$(t){const e={};for(const n in t)e[n]=t[n];return e}const u$="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function l$(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<u$.length;s++)n=u$[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function f_(t){this.src=t,this.g={},this.h=0}function qT(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=n$(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(h_(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function KT(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}f_.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=KT(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new Jhe(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var YT="closure_lm_"+(1e6*Math.random()|0),QT={};function d$(t,e,n,r,i){if(r&&r.once)return f$(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)d$(t,e[s],n,r,i);return null}return n=eS(n),t&&t[Nh]?t.O(e,n,Th(r)?!!r.capture:!!r,i):h$(t,e,n,!1,r,i)}function h$(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Th(i)?!!i.capture:!!i,a=ZT(t);if(a||(t[YT]=a=new f_(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function Xhe(){const e=efe;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ghe||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(g$(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function f$(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)f$(t,e[s],n,r,i);return null}return n=eS(n),t&&t[Nh]?t.P(e,n,Th(r)?!!r.capture:!!r,i):h$(t,e,n,!0,r,i)}function p$(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)p$(t,e[s],n,r,i);else r=Th(r)?!!r.capture:!!r,n=eS(n),t&&t[Nh]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=KT(s=t.g[e],n,r,i))&&(h_(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=ZT(t))&&(e=t.g[e.toString()],t=-1,e&&(t=KT(e,n,r,i)),(n=-1<t?e[t]:null)&&JT(n))}function JT(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Nh])qT(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(g$(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ZT(e))?(qT(n,t),0==n.h&&(n.src=null,e[YT]=null)):h_(t)}}}function g$(t){return t in QT?QT[t]:QT[t]="on"+t}function efe(t,e){if(t.fa)t=!0;else{e=new Ah(e,this);var n=t.listener,r=t.la||t.src;t.ia&&JT(t),t=n.call(r,e)}return t}function ZT(t){return(t=t[YT])instanceof f_?t:null}var XT="__closure_events_fn_"+(1e9*Math.random()>>>0);function eS(t){return"function"==typeof t?t:(t[XT]||(t[XT]=function(e){return t.handleEvent(e)}),t[XT])}function pn(){fo.call(this),this.i=new f_(this),this.S=this,this.J=null}function Tn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new Bn(e,t);else if(e instanceof Bn)e.target=e.target||t;else{var i=e;l$(e=new Bn(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=p_(o,r,!0,e)&&i}if(i=p_(o=e.g=t,r,!0,e)&&i,i=p_(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=p_(o=e.g=n[s],r,!1,e)&&i}function p_(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&qT(t.i,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}fn(pn,fo),pn.prototype[Nh]=!0,pn.prototype.removeEventListener=function(t,e,n,r){p$(this,t,e,n,r)},pn.prototype.N=function(){if(pn.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)h_(n[r]);delete t.g[e],t.h--}}this.J=null},pn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},pn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var tS=he.JSON.stringify;function nfe(){var t=nS;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var m$=new class tfe{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new ife,t=>t.reset());class ife{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function sfe(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function ofe(t){he.setTimeout(()=>{throw t},0)}let xh,Mh=!1,nS=new class rfe{constructor(){this.h=this.g=null}add(e,n){const r=m$.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},_$=()=>{const t=he.Promise.resolve(void 0);xh=()=>{t.then(afe)}};var afe=()=>{for(var t;t=nfe();){try{t.h.call(t.g)}catch(n){ofe(n)}var e=m$;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Mh=!1};function g_(t,e){pn.call(this),this.h=t||1,this.g=e||he,this.j=Vn(this.qb,this),this.l=Date.now()}function rS(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function iS(t,e,n){if("function"==typeof t)n&&(t=Vn(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Vn(t.handleEvent,t)}return 2147483647<Number(e)?-1:he.setTimeout(t,e||0)}function y$(t){t.g=iS(()=>{t.g=null,t.i&&(t.i=!1,y$(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}fn(g_,pn),(q=g_.prototype).ga=!1,q.T=null,q.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Tn(this,"tick"),this.ga&&(rS(this),this.start()))}},q.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},q.N=function(){g_.$.N.call(this),rS(this),delete this.g};class cfe extends fo{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:y$(this)}N(){super.N(),this.g&&(he.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Oh(t){fo.call(this),this.h=t,this.g={}}fn(Oh,fo);var v$=[];function b$(t,e,n,r){Array.isArray(n)||(n&&(v$[0]=n.toString()),n=v$);for(var i=0;i<n.length;i++){var s=d$(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function w$(t){WT(t.g,function(e,n){this.g.hasOwnProperty(n)&&JT(e)},t),t.g={}}function m_(){this.g=!0}function Vu(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function hfe(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return tS(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Oh.prototype.N=function(){Oh.$.N.call(this),w$(this)},Oh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},m_.prototype.Ea=function(){this.g=!1},m_.prototype.info=function(){};var Sa={},D$=null;function __(){return D$=D$||new pn}function I$(t){Bn.call(this,Sa.Ta,t)}function Rh(t){const e=__();Tn(e,new I$(e))}function C$(t,e){Bn.call(this,Sa.STAT_EVENT,t),this.stat=e}function Zn(t){const e=__();Tn(e,new C$(e,t))}function E$(t,e){Bn.call(this,Sa.Ua,t),this.size=e}function kh(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return he.setTimeout(function(){t()},e)}Sa.Ta="serverreachability",fn(I$,Bn),Sa.STAT_EVENT="statevent",fn(C$,Bn),Sa.Ua="timingevent",fn(E$,Bn);var y_={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},T$={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function sS(){}function A$(){}sS.prototype.h=null;var cS,Ph={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function oS(){Bn.call(this,"d")}function aS(){Bn.call(this,"c")}function v_(){}function Fh(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Oh(this),this.P=ffe,this.V=new g_(t=UT?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new N$}function N$(){this.i=null,this.g="",this.h=!1}fn(oS,Bn),fn(aS,Bn),fn(v_,sS),v_.prototype.g=function(){return new XMLHttpRequest},v_.prototype.i=function(){return{}},cS=new v_;var ffe=45e3,uS={},b_={};function lS(t,e,n){t.L=1,t.v=C_(Rs(e)),t.s=n,t.S=!0,x$(t,null)}function x$(t,e){t.G=Date.now(),Lh(t),t.A=Rs(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),U$(n.i,"t",r),t.C=0,n=t.l.J,t.h=new N$,t.g=lH(t.l,n?e:null,!t.s),0<t.O&&(t.M=new cfe(Vn(t.Pa,t,t.g),t.O)),b$(t.U,t.g,"readystatechange",t.nb),e=t.I?c$(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Rh(),function ufe(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+u+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function M$(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function O$(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=pfe(t,n),i==b_){4==e&&(t.o=4,Zn(14),r=!1),Vu(t.j,t.m,null,"[Incomplete Response]");break}if(i==uS){t.o=4,Zn(15),Vu(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Vu(t.j,t.m,i,null),dS(t,i)}M$(t)&&i!=b_&&i!=uS&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Zn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),yS(e),e.M=!0,Zn(11))):(Vu(t.j,t.m,n,"[Invalid Chunked Response]"),Aa(t),Vh(t))}function pfe(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?b_:(n=Number(e.substring(n,r)),isNaN(n)?uS:(r+=1)+n>e.length?b_:(e=e.slice(r,r+n),t.C=r+n,e))}function Lh(t){t.Y=Date.now()+t.P,R$(t,t.P)}function R$(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=kh(Vn(t.lb,t),e)}function w_(t){t.B&&(he.clearTimeout(t.B),t.B=null)}function Vh(t){0==t.l.H||t.J||oH(t.l,t)}function Aa(t){w_(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,rS(t.V),w$(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function dS(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||hS(n.i,t)))if(!t.K&&hS(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;x_(n),A_(n)}_S(n),Zn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=kh(Vn(n.ib,n),6e3));if(1>=H$(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else xa(n,11)}else if((t.K||n.g==t)&&x_(n),!Sh(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],2==n.H)if("c"==u[0]){n.K=u[1],n.pa=u[2];const l=u[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=u[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=u[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(fS(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,ut(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=uH(r,r.J?r.pa:null,r.Y),o.K){G$(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.B&&(w_(a),Lh(a)),r.g=o}else iH(r);0<n.j.length&&N_(n)}else"stop"!=u[0]&&"close"!=u[0]||xa(n,7);else 3==n.H&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?xa(n,7):mS(n):"noop"!=u[0]&&n.h&&n.h.Aa(u),n.A=0)}Rh()}catch{}}function k$(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(u_(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function mfe(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(u_(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function gfe(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(u_(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(q=Fh.prototype).setTimeout=function(t){this.P=t},q.nb=function(t){t=t.target;const e=this.M;e&&3==Qi(t)?e.l():this.Pa(t)},q.Pa=function(t){try{if(t==this.g)e:{const l=Qi(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||UT||this.g&&(this.h.h||this.g.ja()||Z$(this.g)))){this.J||4!=l||7==e||Rh(),w_(this);var n=this.g.da();this.ca=n;t:if(M$(this)){var r=Z$(this.g);t="";var i=r.length,s=4==Qi(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Aa(this),Vh(this);var o="";break t}this.h.i=new he.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function lfe(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Sh(a)){var u=a;break t}}u=null}if(!(n=u)){this.i=!1,this.o=3,Zn(12),Aa(this),Vh(this);break e}Vu(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,dS(this,n)}this.S?(O$(this,l,o),UT&&this.i&&3==l&&(b$(this.U,this.V,"tick",this.mb),this.V.start())):(Vu(this.j,this.m,o,null),dS(this,o)),4==l&&Aa(this),this.i&&!this.J&&(4==l?oH(this.l,this):(this.i=!1,Lh(this)))}else(function kfe(t){const e={};t=(t.g&&2<=Qi(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Sh(t[r]))continue;var n=sfe(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function Zhe(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Zn(12)):(this.o=0,Zn(13)),Aa(this),Vh(this)}}}catch{}},q.mb=function(){if(this.g){var t=Qi(this.g),e=this.g.ja();this.C<e.length&&(w_(this),O$(this,t,e),this.i&&4!=t&&Lh(this))}},q.cancel=function(){this.J=!0,Aa(this)},q.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function dfe(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Rh(),Zn(17)),Aa(this),this.o=2,Vh(this)):R$(this,this.Y-t)};var P$=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Na(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Na){this.h=t.h,D_(this,t.j),this.s=t.s,this.g=t.g,I_(this,t.m),this.l=t.l;var e=t.i,n=new jh;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),F$(this,n),this.o=t.o}else t&&(e=String(t).match(P$))?(this.h=!1,D_(this,e[1]||"",!0),this.s=Bh(e[2]||""),this.g=Bh(e[3]||"",!0),I_(this,e[4]),this.l=Bh(e[5]||"",!0),F$(this,e[6]||"",!0),this.o=Bh(e[7]||"")):(this.h=!1,this.i=new jh(null,this.h))}function Rs(t){return new Na(t)}function D_(t,e,n){t.j=n?Bh(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function I_(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function F$(t,e,n){e instanceof jh?(t.i=e,function Ife(t,e){e&&!t.j&&(po(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(V$(this,r),U$(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=Uh(e,wfe)),t.i=new jh(e,t.h))}function ut(t,e,n){t.i.set(e,n)}function C_(t){return ut(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Bh(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Uh(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,yfe),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function yfe(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Na.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Uh(e,L$,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Uh(e,L$,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Uh(n,"/"==n.charAt(0)?bfe:vfe,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Uh(n,Dfe)),t.join("")};var L$=/[#\/\?@]/g,vfe=/[#\?:]/g,bfe=/[#\?]/g,wfe=/[#\?@]/g,Dfe=/#/g;function jh(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function po(t){t.g||(t.g=new Map,t.h=0,t.i&&function _fe(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function V$(t,e){po(t),e=Bu(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function B$(t,e){return po(t),e=Bu(t,e),t.g.has(e)}function U$(t,e,n){V$(t,e),0<n.length&&(t.i=null,t.g.set(Bu(t,e),VT(n)),t.h+=n.length)}function Bu(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function j$(t){this.l=t||Efe,t=he.PerformanceNavigationTiming?0<(t=he.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(he.g&&he.g.Ka&&he.g.Ka()&&he.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(q=jh.prototype).add=function(t,e){po(this),this.i=null,t=Bu(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},q.forEach=function(t,e){po(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},q.ta=function(){po(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},q.Z=function(t){po(this);let e=[];if("string"==typeof t)B$(this,t)&&(e=e.concat(this.g.get(Bu(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},q.set=function(t,e){return po(this),this.i=null,B$(this,t=Bu(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},q.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},q.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var Efe=10;function $$(t){return!!t.h||!!t.g&&t.g.size>=t.j}function H$(t){return t.h?1:t.g?t.g.size:0}function hS(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function fS(t,e){t.g?t.g.add(e):t.h=e}function G$(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function z$(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return VT(t.i)}j$.prototype.cancel=function(){if(this.i=z$(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var Tfe=class{stringify(t){return he.JSON.stringify(t,void 0)}parse(t){return he.JSON.parse(t,void 0)}};function Sfe(){this.g=new Tfe}function Afe(t,e,n){const r=n||"";try{k$(t,function(i,s){let o=i;Th(i)&&(o=tS(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function E_(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function $h(t){this.l=t.fc||null,this.j=t.ob||!1}function T_(t,e){pn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=pS,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}fn($h,sS),$h.prototype.g=function(){return new T_(this.l,this.j)},$h.prototype.i=function(t){return function(){return t}}({}),fn(T_,pn);var pS=0;function W$(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function Hh(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Gh(t)}function Gh(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(q=T_.prototype).open=function(t,e){if(this.readyState!=pS)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Gh(this)},q.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||he).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},q.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Hh(this)),this.readyState=pS},q.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Gh(this)),this.g&&(this.readyState=3,Gh(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof he.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;W$(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},q.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Hh(this):Gh(this),3==this.readyState&&W$(this)}},q.Za=function(t){this.g&&(this.response=this.responseText=t,Hh(this))},q.Ya=function(t){this.g&&(this.response=t,Hh(this))},q.ka=function(){this.g&&Hh(this)},q.setRequestHeader=function(t,e){this.v.append(t,e)},q.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},q.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(T_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var xfe=he.JSON.parse;function Nt(t){pn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=q$,this.L=this.M=!1}fn(Nt,pn);var q$="",Mfe=/^https?$/i,Ofe=["POST","PUT"];function K$(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Y$(t),S_(t)}function Y$(t){t.F||(t.F=!0,Tn(t,"complete"),Tn(t,"error"))}function Q$(t){if(t.h&&typeof FT<"u"&&(!t.C[1]||4!=Qi(t)||2!=t.da()))if(t.v&&4==Qi(t))iS(t.La,0,t);else if(Tn(t,"readystatechange"),4==Qi(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(P$)[1]||null;!i&&he.self&&he.self.location&&(i=he.self.location.protocol.slice(0,-1)),r=!Mfe.test(i?i.toLowerCase():"")}n=r}if(n)Tn(t,"complete"),Tn(t,"success");else{t.m=6;try{var s=2<Qi(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",Y$(t)}}finally{S_(t)}}}function S_(t,e){if(t.g){J$(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Tn(t,"ready");try{n.onreadystatechange=r}catch{}}}function J$(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(he.clearTimeout(t.A),t.A=null)}function Qi(t){return t.g?t.g.readyState:0}function Z$(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case q$:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function X$(t){let e="";return WT(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function gS(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=X$(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):ut(t,e,n))}function zh(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function eH(t){this.Ga=0,this.j=[],this.l=new m_,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=zh("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=zh("baseRetryDelayMs",5e3,t),this.hb=zh("retryDelaySeedMs",1e4,t),this.eb=zh("forwardChannelMaxRetries",2,t),this.xa=zh("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new j$(t&&t.concurrentRequestLimit),this.Ja=new Sfe,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function mS(t){if(tH(t),3==t.H){var e=t.W++,n=Rs(t.I);if(ut(n,"SID",t.K),ut(n,"RID",e),ut(n,"TYPE","terminate"),Wh(t,n),(e=new Fh(t,t.l,e)).L=2,e.v=C_(Rs(n)),n=!1,he.navigator&&he.navigator.sendBeacon)try{n=he.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&he.Image&&((new Image).src=e.v,n=!0),n||(e.g=lH(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Lh(e)}cH(t)}function A_(t){t.g&&(yS(t),t.g.cancel(),t.g=null)}function tH(t){A_(t),t.u&&(he.clearTimeout(t.u),t.u=null),x_(t),t.i.cancel(),t.m&&("number"==typeof t.m&&he.clearTimeout(t.m),t.m=null)}function N_(t){if(!$$(t.i)&&!t.m){t.m=!0;var e=t.Na;xh||_$(),Mh||(xh(),Mh=!0),nS.add(e,t),t.C=0}}function nH(t,e){var n;n=e?e.m:t.W++;const r=Rs(t.I);ut(r,"SID",t.K),ut(r,"RID",n),ut(r,"AID",t.V),Wh(t,r),t.o&&t.s&&gS(r,t.o,t.s),n=new Fh(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=rH(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),fS(t.i,n),lS(n,r,e)}function Wh(t,e){t.na&&WT(t.na,function(n,r){ut(e,r,n)}),t.h&&k$({},function(n,r){ut(e,r,n)})}function rH(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Vn(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let u=i[c].g;const l=i[c].map;if(u-=s,0>u)s=Math.max(0,i[c].g-100),a=!1;else try{Afe(l,o,"req"+u+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function iH(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;xh||_$(),Mh||(xh(),Mh=!0),nS.add(e,t),t.A=0}}function _S(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=kh(Vn(t.Ma,t),aH(t,t.A)),t.A++,0))}function yS(t){null!=t.B&&(he.clearTimeout(t.B),t.B=null)}function sH(t){t.g=new Fh(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Rs(t.wa);ut(e,"RID","rpc"),ut(e,"SID",t.K),ut(e,"AID",t.V),ut(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&ut(e,"TO",t.qa),ut(e,"TYPE","xmlhttp"),Wh(t,e),t.o&&t.s&&gS(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=C_(Rs(e)),n.s=null,n.S=!0,x$(n,t)}function x_(t){null!=t.v&&(he.clearTimeout(t.v),t.v=null)}function oH(t,e){var n=null;if(t.g==e){x_(t),yS(t),t.g=null;var r=2}else{if(!hS(t.i,e))return;n=e.F,G$(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Tn(r=__(),new E$(r,n)),N_(t)}else iH(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function Pfe(t,e){return!(H$(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=kh(Vn(t.Na,t,e),aH(t,t.C)),t.C++,0)))}(t,e)||2==r&&_S(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:xa(t,5);break;case 4:xa(t,10);break;case 3:xa(t,6);break;default:xa(t,2)}}function aH(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function xa(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=Vn(t.pb,t);n||(n=new Na("//www.google.com/images/cleardot.gif"),he.location&&"http"==he.location.protocol||D_(n,"https"),C_(n)),function Nfe(t,e){const n=new m_;if(he.Image){const r=new Image;r.onload=l_(E_,n,r,"TestLoadImage: loaded",!0,e),r.onerror=l_(E_,n,r,"TestLoadImage: error",!1,e),r.onabort=l_(E_,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=l_(E_,n,r,"TestLoadImage: timeout",!1,e),he.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Zn(2);t.H=0,t.h&&t.h.za(e),cH(t),tH(t)}function cH(t){if(t.H=0,t.ma=[],t.h){const e=z$(t.i);(0!=e.length||0!=t.j.length)&&(r$(t.ma,e),r$(t.ma,t.j),t.i.i.length=0,VT(t.j),t.j.length=0),t.h.ya()}}function uH(t,e,n){var r=n instanceof Na?Rs(n):new Na(n);if(""!=r.g)e&&(r.g=e+"."+r.g),I_(r,r.m);else{var i=he.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Na(null);r&&D_(s,r),e&&(s.g=e),i&&I_(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&ut(r,n,e),ut(r,"VER",t.ra),Wh(t,r),r}function lH(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Nt(n&&t.Ha&&!t.va?new $h({ob:!0}):t.va)).Oa(t.J),e}function dH(){}function M_(){if(Lu&&!(10<=Number(Khe)))throw Error("Environmental error: no available transport.")}function Mr(t,e){pn.call(this),this.g=new eH(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Sh(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Sh(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Uu(this)}function hH(t){oS.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function fH(){aS.call(this),this.status=1}function Uu(t){this.g=t}function wi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function vS(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function Ze(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(q=Nt.prototype).Oa=function(t){this.M=t},q.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():cS.g(),this.C=function S$(t){return t.h||(t.h=t.i())}(this.u?this.u:cS),this.g.onreadystatechange=Vn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void K$(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=he.FormData&&t instanceof he.FormData,!(0<=n$(Ofe,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{J$(this),0<this.B&&((this.L=function Rfe(t){return Lu&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Vn(this.ua,this)):this.A=iS(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){K$(this,s)}},q.ua=function(){typeof FT<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Tn(this,"timeout"),this.abort(8))},q.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Tn(this,"complete"),Tn(this,"abort"),S_(this))},q.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),S_(this,!0)),Nt.$.N.call(this)},q.La=function(){this.s||(this.G||this.v||this.l?Q$(this):this.kb())},q.kb=function(){Q$(this)},q.isActive=function(){return!!this.g},q.da=function(){try{return 2<Qi(this)?this.g.status:-1}catch{return-1}},q.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},q.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),xfe(e)}},q.Ia=function(){return this.m},q.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(q=eH.prototype).ra=8,q.H=1,q.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Fh(this,this.l,t);let s=this.s;if(this.U&&(s?(s=c$(s),l$(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=rH(this,i,e),ut(n=Rs(this.I),"RID",t),ut(n,"CVER",22),this.F&&ut(n,"X-HTTP-Session-Id",this.F),Wh(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(X$(s)))+"&"+e:this.o&&gS(n,this.o,s)),fS(this.i,i),this.bb&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",e),ut(n,"SID","null"),i.aa=!0,lS(i,n,null)):lS(i,n,e),this.H=2}}else 3==this.H&&(t?nH(this,t):0==this.j.length||$$(this.i)||nH(this))},q.Ma=function(){if(this.u=null,sH(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=kh(Vn(this.jb,this),t)}},q.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Zn(10),A_(this),sH(this))},q.ib=function(){null!=this.v&&(this.v=null,A_(this),_S(this),Zn(19))},q.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Zn(2)):(this.l.info("Failed to ping google.com"),Zn(1))},q.isActive=function(){return!!this.h&&this.h.isActive(this)},(q=dH.prototype).Ba=function(){},q.Aa=function(){},q.za=function(){},q.ya=function(){},q.isActive=function(){return!0},q.Va=function(){},M_.prototype.g=function(t,e){return new Mr(t,e)},fn(Mr,pn),Mr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Zn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=uH(t,null,t.Y),N_(t)},Mr.prototype.close=function(){mS(this.g)},Mr.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=tS(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&N_(e)},Mr.prototype.N=function(){this.g.h=null,delete this.j,mS(this.g),delete this.g,Mr.$.N.call(this)},fn(hH,oS),fn(fH,aS),fn(Uu,dH),Uu.prototype.Ba=function(){Tn(this.g,"a")},Uu.prototype.Aa=function(t){Tn(this.g,new hH(t))},Uu.prototype.za=function(t){Tn(this.g,new fH)},Uu.prototype.ya=function(){Tn(this.g,"b")},fn(wi,function Ffe(){this.blockSize=-1}),wi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},wi.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)vS(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){vS(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){vS(this,r),i=0;break}}this.h=i,this.i+=e},wi.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var Lfe={};function bS(t){return-128<=t&&128>t?function zhe(t,e){var n=Lfe;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new Ze([0|e],0>e?-1:0)}):new Ze([0|t],0>t?-1:0)}function Ji(t){if(isNaN(t)||!isFinite(t))return ju;if(0>t)return Sn(Ji(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=wS;return new Ze(e,0)}var wS=4294967296,ju=bS(0),DS=bS(1),gH=bS(16777216);function ks(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function ei(t){return-1==t.h}function Sn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ze(n,~t.h).add(DS)}function O_(t,e){return t.add(Sn(e))}function R_(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function qh(t,e){this.g=t,this.h=e}function k_(t,e){if(ks(e))throw Error("division by zero");if(ks(t))return new qh(ju,ju);if(ei(t))return e=k_(Sn(t),e),new qh(Sn(e.g),Sn(e.h));if(ei(e))return e=k_(t,Sn(e)),new qh(Sn(e.g),e.h);if(30<t.g.length){if(ei(t)||ei(e))throw Error("slowDivide_ only works with positive integers.");for(var n=DS,r=e;0>=r.X(t);)n=mH(n),r=mH(r);var i=$u(n,1),s=$u(r,1);for(r=$u(r,2),n=$u(n,2);!ks(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=$u(r,1),n=$u(n,1)}return e=O_(t,i.R(e)),new qh(i,e)}for(i=ju;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Ji(n)).R(e);ei(o)||0<o.X(t);)o=(s=Ji(n-=r)).R(e);ks(s)&&(s=DS),i=i.add(s),t=O_(t,o)}return new qh(i,t)}function mH(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ze(n,t.h)}function $u(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Ze(i,t.h)}(q=Ze.prototype).ea=function(){if(ei(this))return-Sn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:wS+r)*e,e*=wS}return t},q.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(ks(this))return"0";if(ei(this))return"-"+Sn(this).toString(t);for(var e=Ji(Math.pow(t,6)),n=this,r="";;){var i=k_(n,e).g,s=((0<(n=O_(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(ks(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},q.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},q.X=function(t){return ei(t=O_(this,t))?-1:ks(t)?0:1},q.abs=function(){return ei(this)?Sn(this):this},q.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new Ze(n,-2147483648&n[n.length-1]?-1:0)},q.R=function(t){if(ks(this)||ks(t))return ju;if(ei(this))return ei(t)?Sn(this).R(Sn(t)):Sn(Sn(this).R(t));if(ei(t))return Sn(this.R(Sn(t)));if(0>this.X(gH)&&0>t.X(gH))return Ji(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,c=65535&t.D(i);n[2*r+2*i]+=o*c,R_(n,2*r+2*i),n[2*r+2*i+1]+=s*c,R_(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,R_(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,R_(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ze(n,0)},q.gb=function(t){return k_(this,t).h},q.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ze(n,this.h&t.h)},q.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ze(n,this.h|t.h)},q.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ze(n,this.h^t.h)},M_.prototype.createWebChannel=M_.prototype.g,Mr.prototype.send=Mr.prototype.u,Mr.prototype.open=Mr.prototype.m,Mr.prototype.close=Mr.prototype.close,y_.NO_ERROR=0,y_.TIMEOUT=8,y_.HTTP_ERROR=6,T$.COMPLETE="complete",A$.EventType=Ph,Ph.OPEN="a",Ph.CLOSE="b",Ph.ERROR="c",Ph.MESSAGE="d",pn.prototype.listen=pn.prototype.O,Nt.prototype.listenOnce=Nt.prototype.P,Nt.prototype.getLastError=Nt.prototype.Sa,Nt.prototype.getLastErrorCode=Nt.prototype.Ia,Nt.prototype.getStatus=Nt.prototype.da,Nt.prototype.getResponseJson=Nt.prototype.Wa,Nt.prototype.getResponseText=Nt.prototype.ja,Nt.prototype.send=Nt.prototype.ha,Nt.prototype.setWithCredentials=Nt.prototype.Oa,wi.prototype.digest=wi.prototype.l,wi.prototype.reset=wi.prototype.reset,wi.prototype.update=wi.prototype.j,Ze.prototype.add=Ze.prototype.add,Ze.prototype.multiply=Ze.prototype.R,Ze.prototype.modulo=Ze.prototype.gb,Ze.prototype.compare=Ze.prototype.X,Ze.prototype.toNumber=Ze.prototype.ea,Ze.prototype.toString=Ze.prototype.toString,Ze.prototype.getBits=Ze.prototype.D,Ze.fromNumber=Ji,Ze.fromString=function pH(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Sn(pH(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Ji(Math.pow(e,8)),r=ju,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Ji(Math.pow(e,s)),r=r.R(s).add(Ji(o))):r=(r=r.R(n)).add(Ji(o))}return r};var Vfe=bi.createWebChannelTransport=function(){return new M_},Bfe=bi.getStatEventTarget=function(){return __()},IS=bi.ErrorCode=y_,Ufe=bi.EventType=T$,jfe=bi.Event=Sa,_H=bi.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},$fe=bi.FetchXmlHttpFactory=$h,P_=bi.WebChannel=A$,Hfe=bi.XhrIo=Nt,Gfe=bi.Md5=wi,Hu=bi.Integer=Ze;const yH="@firebase/firestore";class gn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gn.UNAUTHENTICATED=new gn(null),gn.GOOGLE_CREDENTIALS=new gn("google-credentials-uid"),gn.FIRST_PARTY=new gn("first-party-uid"),gn.MOCK_USER=new gn("mock-user");let Gu="9.23.0";const go=new fa("@firebase/firestore");function CS(){return go.logLevel}function k(t,...e){if(go.logLevel<=Pe.DEBUG){const n=e.map(ES);go.debug(`Firestore (${Gu}): ${t}`,...n)}}function Bt(t,...e){if(go.logLevel<=Pe.ERROR){const n=e.map(ES);go.error(`Firestore (${Gu}): ${t}`,...n)}}function Di(t,...e){if(go.logLevel<=Pe.WARN){const n=e.map(ES);go.warn(`Firestore (${Gu}): ${t}`,...n)}}function ES(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function J(t="Unexpected state"){const e=`FIRESTORE (${Gu}) INTERNAL ASSERTION FAILED: `+t;throw Bt(e),new Error(e)}function ee(t,e){t||J()}function G(t,e){return t}const C={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class M extends yi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class tn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class vH{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zfe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(gn.UNAUTHENTICATED))}shutdown(){}}class Wfe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class qfe{constructor(e){this.t=e,this.currentUser=gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let o=new tn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new tn,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const u=o;e.enqueueRetryable(y(function*(){yield u.promise,yield s(r.currentUser)}))},c=u=>{k("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(k("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new tn)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(k("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ee("string"==typeof r.accessToken),new vH(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ee(null===e||"string"==typeof e),new gn(e)}}class Kfe{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=gn.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Yfe{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new Kfe(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(gn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class bH{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Qfe{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{null!=s.error&&k("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,k("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{k("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):k("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ee("string"==typeof n.token),this.T=n.token,new bH(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Jfe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class wH{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=Jfe(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function ue(t,e){return t<e?-1:t>e?1:0}function zu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class It{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new M(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new M(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new M(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new M(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return It.fromMillis(Date.now())}static fromDate(e){return It.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new It(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ue(this.nanoseconds,e.nanoseconds):ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class te{constructor(e){this.timestamp=e}static fromTimestamp(e){return new te(e)}static min(){return new te(new It(0,0))}static max(){return new te(new It(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Kh{constructor(e,n,r){void 0===n?n=0:n>e.length&&J(),void 0===r?r=e.length-n:r>e.length-n&&J(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Kh.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Kh?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Oe extends Kh{construct(e,n,r){return new Oe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new M(C.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Oe(n)}static emptyPath(){return new Oe([])}}const Zfe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ut extends Kh{construct(e,n,r){return new Ut(e,n,r)}static isValidIdentifier(e){return Zfe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ut.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ut(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new M(C.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new M(C.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new M(C.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new M(C.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ut(n)}static emptyPath(){return new Ut([])}}class ${constructor(e){this.path=e}static fromPath(e){return new $(Oe.fromString(e))}static fromName(e){return new $(Oe.fromString(e).popFirst(5))}static empty(){return new $(Oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Oe.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Oe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $(new Oe(e.slice()))}}function CH(t){return new Or(t.readTime,t.key,-1)}class Or{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Or(te.min(),$.empty(),-1)}static max(){return new Or(te.max(),$.empty(),-1)}}function SS(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=$.comparator(t.documentKey,e.documentKey),0!==n?n:ue(t.largestBatchId,e.largestBatchId))}const EH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tpe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function mo(t){return AS.apply(this,arguments)}function AS(){return AS=y(function*(t){if(t.code!==C.FAILED_PRECONDITION||t.message!==EH)throw t;k("LocalStore","Unexpectedly lost primary lease")}),AS.apply(this,arguments)}class I{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&J(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new I((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof I?n:I.resolve(n)}catch(n){return I.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):I.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):I.reject(n)}static resolve(e){return new I((n,r)=>{n(e)})}static reject(e){return new I((n,r)=>{r(e)})}static waitFor(e){return new I((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=I.resolve(!1);for(const r of e)n=n.next(i=>i?I.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new I((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const u=c;n(e[u]).next(l=>{o[u]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new I((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function _o(t){return"IndexedDbTransactionError"===t.name}let Rr=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function Jh(t){return null==t}function Zh(t){return 0===t&&1/t==-1/0}function kH(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function yo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function PH(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class ct{constructor(e,n){this.comparator=e,this.root=n||An.EMPTY}insert(e,n){return new ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,An.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,An.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new U_(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new U_(this.root,e,this.comparator,!1)}getReverseIterator(){return new U_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new U_(this.root,e,this.comparator,!0)}}class U_{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class An{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??An.RED,this.left=i??An.EMPTY,this.right=s??An.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new An(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return An.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return An.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,An.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,An.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw J();const e=this.left.check();if(e!==this.right.check())throw J();return e+(this.isRed()?0:1)}}An.EMPTY=null,An.RED=!0,An.BLACK=!1,An.EMPTY=new class{constructor(){this.size=0}get key(){throw J()}get value(){throw J()}get color(){throw J()}get left(){throw J()}get right(){throw J()}copy(t,e,n,r,i){return this}insert(t,e,n){return new An(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class lt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new FH(this.data.getIterator())}getIteratorFrom(e){return new FH(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new lt(this.comparator);return n.data=e,n}}class FH{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class gr{constructor(e){this.fields=e,e.sort(Ut.comparator)}static empty(){return new gr([])}unionWith(e){let n=new lt(Ut.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new gr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return zu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class LH extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new LH("Invalid base64 string: "+i):i}}(e);return new nn(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new nn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const Cpe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vo(t){if(ee(!!t),"string"==typeof t){let e=0;const n=Cpe.exec(t);if(ee(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xt(t.seconds),nanos:xt(t.nanos)}}function xt(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Ps(t){return"string"==typeof t?nn.fromBase64String(t):nn.fromUint8Array(t)}function j_(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function $_(t){const e=t.mapValue.fields.__previous_value__;return j_(e)?$_(e):e}function Xh(t){const e=vo(t.mapValue.fields.__local_write_time__.timestampValue);return new It(e.seconds,e.nanos)}class Epe{constructor(e,n,r,i,s,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}}class Ra{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ra("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ra&&e.projectId===this.projectId&&e.database===this.database}}const bo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function wo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?j_(t)?4:jH(t)?9007199254740991:10:J()}function Xi(t,e){if(t===e)return!0;const n=wo(t);if(n!==wo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Xh(t).isEqual(Xh(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=vo(r.timestampValue),o=vo(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,Ps(t.bytesValue).isEqual(Ps(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return xt(r.geoPointValue.latitude)===xt(i.geoPointValue.latitude)&&xt(r.geoPointValue.longitude)===xt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return xt(r.integerValue)===xt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=xt(r.doubleValue),o=xt(i.doubleValue);return s===o?Zh(s)===Zh(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return zu(t.arrayValue.values||[],e.arrayValue.values||[],Xi);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(kH(s)!==kH(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Xi(s[a],o[a])))return!1;return!0}(t,e);default:return J()}var i}function ef(t,e){return void 0!==(t.values||[]).find(n=>Xi(n,e))}function Do(t,e){if(t===e)return 0;const n=wo(t),r=wo(e);if(n!==r)return ue(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ue(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=xt(i.integerValue||i.doubleValue),a=xt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return VH(t.timestampValue,e.timestampValue);case 4:return VH(Xh(t),Xh(e));case 5:return ue(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Ps(i),a=Ps(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let c=0;c<o.length&&c<a.length;c++){const u=ue(o[c],a[c]);if(0!==u)return u}return ue(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=ue(xt(i.latitude),xt(s.latitude));return 0!==o?o:ue(xt(i.longitude),xt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let c=0;c<o.length&&c<a.length;++c){const u=Do(o[c],a[c]);if(u)return u}return ue(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===bo.mapValue&&s===bo.mapValue)return 0;if(i===bo.mapValue)return 1;if(s===bo.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),c=s.fields||{},u=Object.keys(c);a.sort(),u.sort();for(let l=0;l<a.length&&l<u.length;++l){const d=ue(a[l],u[l]);if(0!==d)return d;const h=Do(o[a[l]],c[u[l]]);if(0!==h)return h}return ue(a.length,u.length)}(t.mapValue,e.mapValue);default:throw J()}}function VH(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return ue(t,e);const n=vo(t),r=vo(e),i=ue(n.seconds,r.seconds);return 0!==i?i:ue(n.nanos,r.nanos)}function qu(t){return MS(t)}function MS(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=vo(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ps(t.bytesValue).toBase64():"referenceValue"in t?$.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=MS(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${MS(r.fields[a])}`;return s+"}"}(t.mapValue):J();var e}function OS(t){return!!t&&"integerValue"in t}function tf(t){return!!t&&"arrayValue"in t}function BH(t){return!!t&&"nullValue"in t}function UH(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function z_(t){return!!t&&"mapValue"in t}function nf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return yo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=nf(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=nf(t.arrayValue.values[n]);return e}return Object.assign({},t)}function jH(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!z_(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=nf(n)}setAll(e){let n=Ut.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=nf(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());z_(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];z_(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){yo(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Nn(nf(this.value))}}function GH(t){const e=[];return yo(t.fields,(n,r)=>{const i=new Ut([n]);if(z_(r)){const s=GH(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new gr(e)}class dt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new dt(e,0,te.min(),te.min(),te.min(),Nn.empty(),0)}static newFoundDocument(e,n,r,i){return new dt(e,1,n,te.min(),r,i,0)}static newNoDocument(e,n){return new dt(e,2,n,te.min(),te.min(),Nn.empty(),0)}static newUnknownDocument(e,n){return new dt(e,3,n,te.min(),te.min(),Nn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(te.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof dt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Io{constructor(e,n){this.position=e,this.inclusive=n}}function zH(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?$.comparator($.fromName(o.referenceValue),n.key):Do(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function WH(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Xi(t.position[n],e.position[n]))return!1;return!0}class Ku{constructor(e,n="asc"){this.field=e,this.dir=n}}function Ape(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class qH{}class Te extends qH{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new Npe(e,n,r):"array-contains"===n?new Ope(e,r):"in"===n?new XH(e,r):"not-in"===n?new Rpe(e,r):"array-contains-any"===n?new kpe(e,r):new Te(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new xpe(e,r):new Mpe(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Do(n,this.value)):null!==n&&wo(this.value)===wo(n)&&this.matchesComparison(Do(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return J()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Xe extends qH{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Xe(e,n)}matches(e){return Yu(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Yu(t){return"and"===t.op}function kS(t){return function KH(t){for(const e of t.filters)if(e instanceof Xe)return!1;return!0}(t)&&Yu(t)}function PS(t){if(t instanceof Te)return t.field.canonicalString()+t.op.toString()+qu(t.value);if(kS(t))return t.filters.map(e=>PS(e)).join(",");{const e=t.filters.map(n=>PS(n)).join(",");return`${t.op}(${e})`}}function YH(t,e){return t instanceof Te?(n=t,(r=e)instanceof Te&&n.op===r.op&&n.field.isEqual(r.field)&&Xi(n.value,r.value)):t instanceof Xe?function(n,r){return r instanceof Xe&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,o)=>i&&YH(s,r.filters[o]),!0)}(t,e):void J();var n,r}function JH(t){return t instanceof Te?function(e){return`${e.field.canonicalString()} ${e.op} ${qu(e.value)}`}(t):t instanceof Xe?function(e){return e.op.toString()+" {"+e.getFilters().map(JH).join(" ,")+"}"}(t):"Filter"}class Npe extends Te{constructor(e,n,r){super(e,n,r),this.key=$.fromName(r.referenceValue)}matches(e){const n=$.comparator(e.key,this.key);return this.matchesComparison(n)}}class xpe extends Te{constructor(e,n){super(e,"in",n),this.keys=ZH(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Mpe extends Te{constructor(e,n){super(e,"not-in",n),this.keys=ZH(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function ZH(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>$.fromName(r.referenceValue))}class Ope extends Te{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return tf(n)&&ef(n.arrayValue,this.value)}}class XH extends Te{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&ef(this.value.arrayValue,n)}}class Rpe extends Te{constructor(e,n){super(e,"not-in",n)}matches(e){if(ef(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!ef(this.value.arrayValue,n)}}class kpe extends Te{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!tf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ef(this.value.arrayValue,r))}}class Ppe{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function FS(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Ppe(t,e,n,r,i,s,o)}function Pa(t){const e=G(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>PS(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Jh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>qu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>qu(r)).join(",")),e.dt=n}return e.dt}function rf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Ape(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!YH(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!WH(t.startAt,e.startAt)&&WH(t.endAt,e.endAt)}function W_(t){return $.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Fs{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.wt=null,this._t=null}}function Qu(t){return new Fs(t)}function rG(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function Fa(t){const e=G(t);if(null===e.wt){e.wt=[];const n=function K_(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}(e),r=function LS(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new Ku(n)),e.wt.push(new Ku(Ut.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Ku(Ut.keyField(),s))}}}return e.wt}function Xn(t){const e=G(t);if(!e._t)if("F"===e.limitType)e._t=FS(e.path,e.collectionGroup,Fa(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Fa(e))n.push(new Ku(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Io(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Io(e.startAt.position,e.startAt.inclusive):null;e._t=FS(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function Y_(t,e,n){return new Fs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function sf(t,e){return rf(Xn(t),Xn(e))&&t.limitType===e.limitType}function iG(t){return`${Pa(Xn(t))}|lt:${t.limitType}`}function US(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>JH(r)).join(", ")}]`),Jh(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>qu(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>qu(r)).join(",")),`Target(${n})`}(Xn(t))}; limitType=${t.limitType})`}function af(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):$.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Fa(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=zH(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Fa(n),r)||n.endAt&&!function(i,s,o){const a=zH(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Fa(n),r)));var n,r}function oG(t){return(e,n)=>{let r=!1;for(const i of Fa(t)){const s=Fpe(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Fpe(t,e,n){const r=t.field.isKeyField()?$.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),c=o.data.field(i);return null!==a&&null!==c?Do(a,c):J()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return J()}}class Ls{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){yo(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return PH(this.inner)}size(){return this.innerSize}}const Lpe=new ct($.comparator);function mr(){return Lpe}const aG=new ct($.comparator);function cf(...t){let e=aG;for(const n of t)e=e.insert(n.key,n);return e}function cG(t){let e=aG;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function es(){return uf()}function uG(){return uf()}function uf(){return new Ls(t=>t.toString(),(t,e)=>t.isEqual(e))}const Vpe=new ct($.comparator),Bpe=new lt($.comparator);function _e(...t){let e=Bpe;for(const n of t)e=e.add(n);return e}const Upe=new lt(ue);function lG(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zh(e)?"-0":e}}function dG(t){return{integerValue:""+t}}function hG(t,e){return function SH(t){return"number"==typeof t&&Number.isInteger(t)&&!Zh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?dG(e):lG(t,e)}class Q_{constructor(){this._=void 0}}function jpe(t,e,n){return t instanceof Ju?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&j_(i)&&(i=$_(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof La?pG(t,e):t instanceof Va?gG(t,e):function(r,i){const s=fG(r,i),o=mG(s)+mG(r.gt);return OS(s)&&OS(r.gt)?dG(o):lG(r.serializer,o)}(t,e)}function $pe(t,e,n){return t instanceof La?pG(t,e):t instanceof Va?gG(t,e):n}function fG(t,e){return t instanceof Zu?OS(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class Ju extends Q_{}class La extends Q_{constructor(e){super(),this.elements=e}}function pG(t,e){const n=_G(e);for(const r of t.elements)n.some(i=>Xi(i,r))||n.push(r);return{arrayValue:{values:n}}}class Va extends Q_{constructor(e){super(),this.elements=e}}function gG(t,e){let n=_G(e);for(const r of t.elements)n=n.filter(i=>!Xi(i,r));return{arrayValue:{values:n}}}class Zu extends Q_{constructor(e,n){super(),this.serializer=e,this.gt=n}}function mG(t){return xt(t.integerValue||t.doubleValue)}function _G(t){return tf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Gpe{constructor(e,n){this.version=e,this.transformResults=n}}class gt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new gt}static exists(e){return new gt(void 0,e)}static updateTime(e){return new gt(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function J_(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Z_{}function yG(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new el(t.key,gt.none()):new Xu(t.key,t.data,gt.none());{const n=t.data,r=Nn.empty();let i=new lt(Ut.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new Vs(t.key,r,new gr(i.toArray()),gt.none())}}function zpe(t,e,n){t instanceof Xu?function(r,i,s){const o=r.value.clone(),a=wG(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Vs?function(r,i,s){if(!J_(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=wG(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(bG(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function df(t,e,n,r){return t instanceof Xu?function(i,s,o,a){if(!J_(i.precondition,s))return o;const c=i.value.clone(),u=DG(i.fieldTransforms,a,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Vs?function(i,s,o,a){if(!J_(i.precondition,s))return o;const c=DG(i.fieldTransforms,a,s),u=s.data;return u.setAll(bG(i)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(o=n,J_(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function Wpe(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=fG(r.transform,i||null);null!=s&&(null===n&&(n=Nn.empty()),n.set(r.field,s))}return n||null}function vG(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&zu(n,r,(i,s)=>function Hpe(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof La&&r instanceof La||n instanceof Va&&r instanceof Va?zu(n.elements,r.elements,Xi):n instanceof Zu&&r instanceof Zu?Xi(n.gt,r.gt):n instanceof Ju&&r instanceof Ju);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class Xu extends Z_{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Vs extends Z_{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function bG(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function wG(t,e,n){const r=new Map;ee(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,$pe(o,a,n[i]))}return r}function DG(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,jpe(s,o,e))}return r}class el extends Z_{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $S extends Z_{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class HS{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&zpe(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=df(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=df(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=uG();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const c=yG(o,a);null!==c&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),_e())}isEqual(e){return this.batchId===e.batchId&&zu(this.mutations,e.mutations,(n,r)=>vG(n,r))&&zu(this.baseMutations,e.baseMutations,(n,r)=>vG(n,r))}}class GS{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ee(e.mutations.length===r.length);let i=Vpe;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new GS(e,n,r,i)}}class zS{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Kpe{constructor(e,n){this.count=e,this.unchangedNames=n}}var qt,Re;function CG(t){if(void 0===t)return Bt("GRPC error has no .code"),C.UNKNOWN;switch(t){case qt.OK:return C.OK;case qt.CANCELLED:return C.CANCELLED;case qt.UNKNOWN:return C.UNKNOWN;case qt.DEADLINE_EXCEEDED:return C.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return C.RESOURCE_EXHAUSTED;case qt.INTERNAL:return C.INTERNAL;case qt.UNAVAILABLE:return C.UNAVAILABLE;case qt.UNAUTHENTICATED:return C.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return C.INVALID_ARGUMENT;case qt.NOT_FOUND:return C.NOT_FOUND;case qt.ALREADY_EXISTS:return C.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return C.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return C.FAILED_PRECONDITION;case qt.ABORTED:return C.ABORTED;case qt.OUT_OF_RANGE:return C.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return C.UNIMPLEMENTED;case qt.DATA_LOSS:return C.DATA_LOSS;default:return J()}}(Re=qt||(qt={}))[Re.OK=0]="OK",Re[Re.CANCELLED=1]="CANCELLED",Re[Re.UNKNOWN=2]="UNKNOWN",Re[Re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Re[Re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Re[Re.NOT_FOUND=5]="NOT_FOUND",Re[Re.ALREADY_EXISTS=6]="ALREADY_EXISTS",Re[Re.PERMISSION_DENIED=7]="PERMISSION_DENIED",Re[Re.UNAUTHENTICATED=16]="UNAUTHENTICATED",Re[Re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Re[Re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Re[Re.ABORTED=10]="ABORTED",Re[Re.OUT_OF_RANGE=11]="OUT_OF_RANGE",Re[Re.UNIMPLEMENTED=12]="UNIMPLEMENTED",Re[Re.INTERNAL=13]="INTERNAL",Re[Re.UNAVAILABLE=14]="UNAVAILABLE",Re[Re.DATA_LOSS=15]="DATA_LOSS";class WS{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return X_}static getOrCreateInstance(){return null===X_&&(X_=new WS),X_}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let X_=null;const Ype=new Hu([4294967295,4294967295],0);function TG(t){const e=function EG(){return new TextEncoder}().encode(t),n=new Gfe;return n.update(e),new Uint8Array(n.digest())}function SG(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Hu([n,r],0),new Hu([i,s],0)]}class qS{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new hf(`Invalid padding: ${n}`);if(r<0)throw new hf(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new hf(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new hf(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Hu.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(Hu.fromNumber(r)));return 1===i.compare(Ype)&&(i=new Hu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=TG(e),[r,i]=SG(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new qS(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const n=TG(e),[r,i]=SG(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class hf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ff{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,pf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ff(te.min(),i,new ct(ue),mr(),_e())}}class pf{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new pf(r,n,_e(),_e(),_e())}}class ey{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class AG{constructor(e,n){this.targetId=e,this.Vt=n}}class NG{constructor(e,n,r=nn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class xG{constructor(){this.St=0,this.Dt=OG(),this.Ct=nn.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=_e(),n=_e(),r=_e();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:J()}}),new pf(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=OG()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Qpe{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=mr(),this.zt=MG(),this.Wt=new ct(ue)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:J()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(W_(o))if(0===i){const a=new $(o.path);this.Yt(r,a,dt.newNoDocument(a,te.min()))}else ee(1===i);else{const a=this.ie(r);if(a!==i){const c=this.re(e,a);0!==c&&(this.ee(r),this.Wt=this.Wt.insert(r,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=WS.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(u,l,d){var h,f,p,g,m,b;const _={localCacheCount:l,existenceFilterCount:d.count},T=d.unchangedNames;return T&&(_.bloomFilter={applied:0===u,hashCount:null!==(h=T?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(g=null===(p=null===(f=T?.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==g?g:0,padding:null!==(b=null===(m=T?.bits)||void 0===m?void 0:m.padding)&&void 0!==b?b:0}),_}(c,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let c,u;try{c=Ps(s).toUint8Array()}catch(l){if(l instanceof LH)return Di("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{u=new qS(c,o,a)}catch(l){return Di(l instanceof hf?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return 0===u.It?1:i!==n-this.oe(e.targetId,u)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&W_(a.target)){const c=new $(a.target.path);null!==this.jt.get(c)||this.ae(o,c)||this.Yt(o,c,dt.newNoDocument(c,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=_e();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{const u=this.se(c);return!u||"TargetPurposeLimboResolution"===u.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new ff(e,n,this.Wt,this.jt,r);return this.jt=mr(),this.zt=MG(),this.Wt=new ct(ue),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new xG,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new lt(ue),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||k("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new xG),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function MG(){return new ct($.comparator)}function OG(){return new ct($.comparator)}const Jpe={asc:"ASCENDING",desc:"DESCENDING"},Zpe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Xpe={and:"AND",or:"OR"};class ege{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function KS(t,e){return t.useProto3Json||Jh(e)?e:{value:e}}function tl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function RG(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function tge(t,e){return tl(t,e.toTimestamp())}function jt(t){return ee(!!t),te.fromTimestamp(function(e){const n=vo(e);return new It(n.seconds,n.nanos)}(t))}function YS(t,e){return(n=t,new Oe(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function kG(t){const e=Oe.fromString(t);return ee(HG(e)),e}function gf(t,e){return YS(t.databaseId,e.path)}function ts(t,e){const n=kG(e);if(n.get(1)!==t.databaseId.projectId)throw new M(C.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new M(C.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new $(FG(n))}function QS(t,e){return YS(t.databaseId,e)}function mf(t){return new Oe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function FG(t){return ee(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function LG(t,e,n){return{name:gf(t,e),fields:n.value.mapValue.fields}}function BG(t,e){return{documents:[QS(t,e.path)]}}function ZS(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=QS(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=QS(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(c){if(0!==c.length)return $G(Xe.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(c){if(0!==c.length)return c.map(u=>{return{field:Co((l=u).field),direction:oge(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=KS(t,e.limit);var a,c;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(c=e.endAt).inclusive,values:c.position}),n}function UG(t){let e=function PG(t){const e=kG(t);return 4===e.length?Oe.emptyPath():FG(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ee(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(l){const d=jG(l);return d instanceof Xe&&kS(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new Ku(nl((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,Jh(d)?null:d}(n.limit));let c=null;var l;n.startAt&&(c=new Io((l=n.startAt).values||[],!!l.before));let u=null;return n.endAt&&(u=function(l){return new Io(l.values||[],!l.before)}(n.endAt)),function nG(t,e,n,r,i,s,o,a){return new Fs(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",c,u)}function jG(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=nl(e.unaryFilter.field);return Te.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=nl(e.unaryFilter.field);return Te.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=nl(e.unaryFilter.field);return Te.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=nl(e.unaryFilter.field);return Te.create(s,"!=",{nullValue:"NULL_VALUE"});default:return J()}}(t):void 0!==t.fieldFilter?function(e){return Te.create(nl(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return J()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(e){return Xe.create(e.compositeFilter.filters.map(n=>jG(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return J()}}(e.compositeFilter.op))}(t):J()}function oge(t){return Jpe[t]}function age(t){return Zpe[t]}function cge(t){return Xpe[t]}function Co(t){return{fieldPath:t.canonicalString()}}function nl(t){return Ut.fromServerFormat(t.fieldPath)}function $G(t){return t instanceof Te?function(e){if("=="===e.op){if(UH(e.value))return{unaryFilter:{field:Co(e.field),op:"IS_NAN"}};if(BH(e.value))return{unaryFilter:{field:Co(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(UH(e.value))return{unaryFilter:{field:Co(e.field),op:"IS_NOT_NAN"}};if(BH(e.value))return{unaryFilter:{field:Co(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Co(e.field),op:age(e.op),value:e.value}}}(t):t instanceof Xe?function(e){const n=e.getFilters().map(r=>$G(r));return 1===n.length?n[0]:{compositeFilter:{op:cge(e.op),filters:n}}}(t):J()}function uge(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function HG(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Bs{constructor(e,n,r,i,s=te.min(),o=te.min(),a=nn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new Bs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class GG{constructor(e){this.fe=e}}function XS(t){const e=UG({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Y_(e,e.limit,"L"):e}class $a{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(xt(e.integerValue));else if("doubleValue"in e){const r=xt(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),Zh(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(Ps(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?jH(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):J()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),$.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}$a.Ve=new $a;class yge{constructor(){this.rn=new sA}addToCollectionParentIndex(e,n){return this.rn.add(n),I.resolve()}getCollectionParents(e,n){return I.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return I.resolve()}deleteFieldIndex(e,n){return I.resolve()}getDocumentsMatchingTarget(e,n){return I.resolve(null)}getIndexType(e,n){return I.resolve(0)}getFieldIndexes(e,n){return I.resolve([])}getNextCollectionGroupToUpdate(e){return I.resolve(null)}getMinOffset(e,n){return I.resolve(Or.min())}getMinOffsetFromCollectionGroup(e,n){return I.resolve(Or.min())}updateCollectionGroup(e,n,r){return I.resolve()}updateIndexEntries(e,n){return I.resolve()}}class sA{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new lt(Oe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new lt(Oe.comparator)).toArray()}}new Uint8Array(0);class jn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new jn(e,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}jn.DEFAULT_COLLECTION_PERCENTILE=10,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jn.DEFAULT=new jn(41943040,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jn.DISABLED=new jn(-1,0,0);class Ga{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Ga(0)}static Mn(){return new Ga(-1)}}class Cge{constructor(){this.changes=new Ls(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,dt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?I.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Sge{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class m3{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&df(r.mutation,i,gr.empty(),It.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,_e()).next(()=>r))}getLocalViewOfDocuments(e,n,r=_e()){const i=es();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=cf();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=es();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,_e()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=mr();const o=uf(),a=uf();return n.forEach((c,u)=>{const l=r.get(u.key);i.has(u.key)&&(void 0===l||l.mutation instanceof Vs)?s=s.insert(u.key,u):void 0!==l?(o.set(u.key,l.mutation.getFieldMask()),df(l.mutation,u,l.mutation.getFieldMask(),It.now())):o.set(u.key,gr.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,l)=>o.set(u,l)),n.forEach((u,l)=>{var d;return a.set(u,new Sge(l,null!==(d=o.get(u))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=uf();let i=new ct((o,a)=>o-a),s=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const u=n.get(c);if(null===u)return;let l=r.get(c)||gr.empty();l=a.applyToLocalView(u,l),r.set(c,l);const d=(i.get(a.batchId)||_e()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,l=c.value,d=uG();l.forEach(h=>{if(!s.has(h)){const f=yG(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return I.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return $.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function VS(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):I.resolve(es());let a=-1,c=s;return o.next(u=>I.forEach(u,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?I.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{c=c.insert(l,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,_e())).next(l=>({batchId:a,changes:cG(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new $(n)).next(r=>{let i=cf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=cf();return this.indexManager.getCollectionParents(e,i).next(o=>I.forEach(o,a=>{const c=(u=n,l=a.child(i),new Fs(l,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt));var u,l;return this.getDocumentsMatchingCollectionQuery(e,c,r).next(u=>{u.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,c)=>{const u=c.getKey();null===s.get(u)&&(s=s.insert(u,dt.newInvalidDocument(u)))});let o=cf();return s.forEach((a,c)=>{const u=i.get(a);void 0!==u&&df(u.mutation,c,gr.empty(),It.now()),af(n,c)&&(o=o.insert(a,c))}),o})}}class Age{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return I.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:jt(r.createTime)}),I.resolve()}getNamedQuery(e,n){return I.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:XS(r.bundledQuery),readTime:jt(r.readTime)}),I.resolve();var r}}class Nge{constructor(){this.overlays=new ct($.comparator),this.ls=new Map}getOverlay(e,n){return I.resolve(this.overlays.get(n))}getOverlays(e,n){const r=es();return I.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),I.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),I.resolve()}getOverlaysForCollection(e,n,r){const i=es(),s=n.length+1,o=new $(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return I.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new ct((u,l)=>u-l);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let l=s.get(u.largestBatchId);null===l&&(l=es(),s=s.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}const a=es(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=i)););return I.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new zS(n,r));let s=this.ls.get(n);void 0===s&&(s=_e(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}class oA{constructor(){this.fs=new lt(_n.ds),this.ws=new lt(_n._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new _n(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new _n(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new $(new Oe([])),r=new _n(n,e),i=new _n(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new $(new Oe([])),r=new _n(n,e),i=new _n(n,e+1);let s=_e();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new _n(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class _n{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return $.comparator(e.key,n.key)||ue(e.As,n.As)}static _s(e,n){return ue(e.As,n.As)||$.comparator(e.key,n.key)}}class xge{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new lt(_n.ds)}checkEmpty(e){return I.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++;const o=new HS(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new _n(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return I.resolve(o)}lookupMutationBatch(e,n){return I.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),s=i<0?0:i;return I.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return I.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return I.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new _n(n,0),i=new _n(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),I.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new lt(ue);return n.forEach(i=>{const s=new _n(i,0),o=new _n(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),I.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;$.isDocumentKey(s)||(s=s.child(""));const o=new _n(new $(s),0);let a=new lt(ue);return this.Rs.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.As)),!0)},o),I.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){ee(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return I.forEach(n.mutations,i=>{const s=new _n(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new _n(n,0),i=this.Rs.firstAfterOrEqual(r);return I.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return I.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Mge{constructor(e){this.Ds=e,this.docs=new ct($.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return I.resolve(r?r.document.mutableCopy():dt.newInvalidDocument(n))}getEntries(e,n){let r=mr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():dt.newInvalidDocument(i))}),I.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=mr();const o=n.path,a=new $(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:l}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||SS(CH(l),r)<=0||(i.has(l.key)||af(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return I.resolve(s)}getAllFromCollectionGroup(e,n,r,i){J()}Cs(e,n){return I.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Oge(this)}getSize(e){return I.resolve(this.size)}}class Oge extends Cge{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),I.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class Rge{constructor(e){this.persistence=e,this.xs=new Ls(n=>Pa(n),rf),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.Ns=0,this.ks=new oA,this.targetCount=0,this.Ms=Ga.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),I.resolve()}getLastRemoteSnapshotVersion(e){return I.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return I.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),I.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),I.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Ga(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,I.resolve()}updateTargetData(e,n){return this.Fn(n),I.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,I.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),I.waitFor(s).next(()=>i)}getTargetCount(e){return I.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return I.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),I.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),I.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),I.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return I.resolve(r)}containsKey(e,n){return I.resolve(this.ks.containsKey(n))}}class aA{constructor(e,n){this.$s={},this.overlays={},this.Os=new Rr(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Rge(this),this.indexManager=new yge,this.remoteDocumentCache=new Mge(r=>this.referenceDelegate.Ls(r)),this.serializer=new GG(n),this.qs=new Age(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Nge,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new xge(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){k("MemoryPersistence","Starting transaction:",e);const i=new kge(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return I.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class kge extends tpe{constructor(e){super(),this.currentSequenceNumber=e}}class uy{constructor(e){this.persistence=e,this.Qs=new oA,this.js=null}static zs(e){return new uy(e)}get Ws(){if(this.js)return this.js;throw J()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),I.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),I.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),I.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return I.forEach(this.Ws,r=>{const i=$.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,te.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return I.or([()=>I.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class dA{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=_e(),i=_e();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new dA(e,n.fromCache,r,i)}}class y3{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(rG(n))return I.resolve(null);let r=Xn(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=Y_(n,null,"F"),r=Xn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=_e(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.ji(n,a);return this.zi(n,u,o,c.readTime)?this.Ki(e,Y_(n,null,"F")):this.Wi(e,u,n,c)}))})))}Gi(e,n,r,i){return rG(n)||i.isEqual(te.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(CS()<=Pe.DEBUG&&k("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),US(n)),this.Wi(e,o,n,function IH(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=te.fromTimestamp(1e9===r?new It(n+1,0):new It(n,r));return new Or(i,$.empty(),e)}(i,-1)))})}ji(e,n){let r=new lt(oG(e));return n.forEach((i,s)=>{af(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return CS()<=Pe.DEBUG&&k("QueryEngine","Using full collection scan to execute query:",US(n)),this.Ui.getDocumentsMatchingQuery(e,n,Or.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Fge{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new ct(ue),this.Yi=new Ls(s=>Pa(s),rf),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new m3(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function b3(t,e){return hA.apply(this,arguments)}function hA(){return hA=y(function*(t,e){const n=G(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let c=_e();for(const u of i){o.push(u.batchId);for(const l of u.mutations)c=c.add(l.key)}for(const u of s){a.push(u.batchId);for(const l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(r,c).next(u=>({er:u,removedBatchIds:o,addedBatchIds:a}))})})}),hA.apply(this,arguments)}function w3(t){const e=G(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function Bge(t,e){const n=G(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ol(t,e,n){return fA.apply(this,arguments)}function fA(){return fA=y(function*(t,e,n){const r=G(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!_o(o))throw o;k("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),fA.apply(this,arguments)}function hy(t,e,n){const r=G(t);let i=te.min(),s=_e();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,c,u){const l=G(a),d=l.Yi.get(u);return void 0!==d?I.resolve(l.Ji.get(d)):l.Bs.getTargetData(c,u)}(r,o,Xn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:te.min(),n?s:_e())).next(a=>(function E3(t,e,n){let r=t.Xi.get(e)||te.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}(r,function sG(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ir:s})))}class yA{constructor(){this.activeTargetIds=function jS(){return Upe}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class A3{constructor(){this.Hr=new yA,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new yA,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class $ge{Yr(e){}shutdown(){}}class N3{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){k("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){k("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let gy=null;function bA(){return null===gy?gy=268435456+Math.round(2147483648*Math.random()):gy++,"0x"+gy.toString(16)}const Hge={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Gge{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const $n="WebChannelConnection";class zge extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=bA(),a=this.To(e,n);k("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const c={};return this.Eo(c,i,s),this.Ao(e,a,c,r).then(u=>(k("RestConnection",`Received RPC '${e}' ${o}: `,u),u),u=>{throw Di("RestConnection",`RPC '${e}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Gu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){return`${this.mo}/v1/${n}:${Hge[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=bA();return new Promise((o,a)=>{const c=new Hfe;c.setWithCredentials(!0),c.listenOnce(Ufe.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case IS.NO_ERROR:const l=c.getResponseJson();k($n,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case IS.TIMEOUT:k($n,`RPC '${e}' ${s} timed out`),a(new M(C.DEADLINE_EXCEEDED,"Request time out"));break;case IS.HTTP_ERROR:const d=c.getStatus();if(k($n,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(g){const m=g.toLowerCase().replace(/_/g,"-");return Object.values(C).indexOf(m)>=0?m:C.UNKNOWN}(f.status);a(new M(p,f.message))}else a(new M(C.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new M(C.UNAVAILABLE,"Connection failed."));break;default:J()}}finally{k($n,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);k($n,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}Ro(e,n,r){const i=bA(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Vfe(),a=Bfe(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.xmlHttpFactory=new $fe({})),this.Eo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const l=s.join("");k($n,`Creating RPC '${e}' stream ${i}: ${l}`,c);const d=o.createWebChannel(l,c);let h=!1,f=!1;const p=new Gge({ro:m=>{f?k($n,`Not sending because RPC '${e}' stream ${i} is closed:`,m):(h||(k($n,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),k($n,`RPC '${e}' stream ${i} sending:`,m),d.send(m))},oo:()=>d.close()}),g=(m,b,_)=>{m.listen(b,T=>{try{_(T)}catch(A){setTimeout(()=>{throw A},0)}})};return g(d,P_.EventType.OPEN,()=>{f||k($n,`RPC '${e}' stream ${i} transport opened.`)}),g(d,P_.EventType.CLOSE,()=>{f||(f=!0,k($n,`RPC '${e}' stream ${i} transport closed`),p.wo())}),g(d,P_.EventType.ERROR,m=>{f||(f=!0,Di($n,`RPC '${e}' stream ${i} transport errored:`,m),p.wo(new M(C.UNAVAILABLE,"The operation could not be completed")))}),g(d,P_.EventType.MESSAGE,m=>{var b;if(!f){const _=m.data[0];ee(!!_);const A=_.error||(null===(b=_[0])||void 0===b?void 0:b.error);if(A){k($n,`RPC '${e}' stream ${i} received error:`,A);const F=A.status;let z=function(ge){const et=qt[ge];if(void 0!==et)return CG(et)}(F),re=A.message;void 0===z&&(z=C.INTERNAL,re="Unknown error status: "+F+" with message "+A.message),f=!0,p.wo(new M(z,re)),d.close()}else k($n,`RPC '${e}' stream ${i} received:`,_),p._o(_)}}),g(a,jfe.STAT_EVENT,m=>{m.stat===_H.PROXY?k($n,`RPC '${e}' stream ${i} detected buffering proxy`):m.stat===_H.NOPROXY&&k($n,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function my(){return typeof document<"u"?document:null}function Tf(t){return new ege(t,!0)}class wA{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&k("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class M3{constructor(e,n,r,i,s,o,a,c){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new wA(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return y(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return y(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return y(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===C.RESOURCE_EXHAUSTED?(Bt(n.toString()),Bt("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===C.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new M(C.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(y(function*(){e.state=0,e.start()}))}tu(e){return k("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(k("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Wge extends M3{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function rge(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:J(),i=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(ee(void 0===u||"string"==typeof u),nn.fromBase64String(u||"")):(ee(void 0===u||u instanceof Uint8Array),nn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=void 0===c.code?C.UNKNOWN:CG(c.code);return new M(u,c.message||"")}(o);n=new NG(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=ts(t,r.document.name),s=jt(r.document.updateTime),o=r.document.createTime?jt(r.document.createTime):te.min(),a=new Nn({mapValue:{fields:r.document.fields}}),c=dt.newFoundDocument(i,s,o,a);n=new ey(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const r=e.documentDelete,i=ts(t,r.document),s=r.readTime?jt(r.readTime):te.min(),o=dt.newNoDocument(i,s);n=new ey([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=ts(t,r.document);n=new ey([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return J();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new Kpe(i,s);n=new AG(r.targetId,o)}}var c;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return te.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?te.min():s.readTime?jt(s.readTime):te.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=mf(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=W_(a)?{documents:BG(i,a)}:{query:ZS(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=RG(i,s.resumeToken);const c=KS(i,s.expectedCount);null!==c&&(o.expectedCount=c)}else if(s.snapshotVersion.compareTo(te.min())>0){o.readTime=tl(i,s.snapshotVersion.toTimestamp());const c=KS(i,s.expectedCount);null!==c&&(o.expectedCount=c)}return o}(this.serializer,e);const r=function sge(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return J()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=mf(this.serializer),n.removeTarget=e,this.Wo(n)}}class qge extends M3{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(ee(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function ige(t,e){return t&&t.length>0?(ee(void 0!==e),t.map(n=>function(r,i){let s=jt(r.updateTime?r.updateTime:i);return s.isEqual(te.min())&&(s=jt(i)),new Gpe(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=jt(e.commitTime);return this.listener.cu(r,n)}return ee(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=mf(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function _f(t,e){let n;if(e instanceof Xu)n={update:LG(t,e.key,e.value)};else if(e instanceof el)n={delete:gf(t,e.key)};else if(e instanceof Vs)n={update:LG(t,e.key,e.data),updateMask:uge(e.fieldMask)};else{if(!(e instanceof $S))return J();n={verify:gf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Ju)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof La)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Va)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Zu)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw J()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:tge(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:J()),n;var i}(this.serializer,r))};this.Wo(n)}}class Kge extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new M(C.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===C.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new M(C.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===C.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new M(C.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class Qge{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Bt(n),this.mu=!1):k("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Jge{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(y(function*(){var c;Ao(o)&&(k("RemoteStore","Restarting streams for network reachability change."),yield(c=y(function*(u){const l=G(u);l.vu.add(4),yield al(l),l.bu.set("Unknown"),l.vu.delete(4),yield Sf(l)}),function(u){return c.apply(this,arguments)})(o))}))}),this.bu=new Qge(r,i)}}function Sf(t){return IA.apply(this,arguments)}function IA(){return IA=y(function*(t){if(Ao(t))for(const e of t.Ru)yield e(!0)}),IA.apply(this,arguments)}function al(t){return CA.apply(this,arguments)}function CA(){return CA=y(function*(t){for(const e of t.Ru)yield e(!1)}),CA.apply(this,arguments)}function _y(t,e){const n=G(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),SA(n)?TA(n):ul(n).Ko()&&EA(n,e))}function Af(t,e){const n=G(t),r=ul(n);n.Au.delete(e),r.Ko()&&O3(n,e),0===n.Au.size&&(r.Ko()?r.jo():Ao(n)&&n.bu.set("Unknown"))}function EA(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ul(t).su(e)}function O3(t,e){t.Vu.qt(e),ul(t).iu(e)}function TA(t){t.Vu=new Qpe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),ul(t).start(),t.bu.gu()}function SA(t){return Ao(t)&&!ul(t).Uo()&&t.Au.size>0}function Ao(t){return 0===G(t).vu.size}function R3(t){t.Vu=void 0}function Zge(t){return AA.apply(this,arguments)}function AA(){return AA=y(function*(t){t.Au.forEach((e,n)=>{EA(t,e)})}),AA.apply(this,arguments)}function Xge(t,e){return NA.apply(this,arguments)}function NA(){return NA=y(function*(t,e){R3(t),SA(t)?(t.bu.Iu(e),TA(t)):t.bu.set("Unknown")}),NA.apply(this,arguments)}function eme(t,e,n){return xA.apply(this,arguments)}function xA(){return xA=y(function*(t,e,n){if(t.bu.set("Online"),e instanceof NG&&2===e.state&&e.cause)try{yield(r=y(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){k("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield yy(t,r)}else if(e instanceof ey?t.Vu.Ht(e):e instanceof AG?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(te.min()))try{const r=yield w3(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,c)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.Au.get(c);u&&i.Au.set(c,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,c)=>{const u=i.Au.get(a);if(!u)return;i.Au.set(a,u.withResumeToken(nn.EMPTY_BYTE_STRING,u.snapshotVersion)),O3(i,a);const l=new Bs(u.target,a,c,u.sequenceNumber);EA(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){k("RemoteStore","Failed to raise snapshot:",r),yield yy(t,r)}var r}),xA.apply(this,arguments)}function yy(t,e,n){return MA.apply(this,arguments)}function MA(){return MA=y(function*(t,e,n){if(!_o(e))throw e;t.vu.add(1),yield al(t),t.bu.set("Offline"),n||(n=()=>w3(t.localStore)),t.asyncQueue.enqueueRetryable(y(function*(){k("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield Sf(t)}))}),MA.apply(this,arguments)}function k3(t,e){return e().catch(n=>yy(t,n,e))}function cl(t){return OA.apply(this,arguments)}function OA(){return OA=y(function*(t){const e=G(t),n=No(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;tme(e);)try{const i=yield Bge(e.localStore,r);if(null===i){0===e.Eu.length&&n.jo();break}r=i.batchId,nme(e,i)}catch(i){yield yy(e,i)}P3(e)&&F3(e)}),OA.apply(this,arguments)}function tme(t){return Ao(t)&&t.Eu.length<10}function nme(t,e){t.Eu.push(e);const n=No(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function P3(t){return Ao(t)&&!No(t).Uo()&&t.Eu.length>0}function F3(t){No(t).start()}function rme(t){return RA.apply(this,arguments)}function RA(){return RA=y(function*(t){No(t).hu()}),RA.apply(this,arguments)}function ime(t){return kA.apply(this,arguments)}function kA(){return kA=y(function*(t){const e=No(t);for(const n of t.Eu)e.uu(n.mutations)}),kA.apply(this,arguments)}function sme(t,e,n){return PA.apply(this,arguments)}function PA(){return PA=y(function*(t,e,n){const r=t.Eu.shift(),i=GS.from(r,e,n);yield k3(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield cl(t)}),PA.apply(this,arguments)}function ome(t,e){return FA.apply(this,arguments)}function FA(){return FA=y(function*(t,e){var n;e&&No(t).ou&&(yield(n=y(function*(r,i){if(function IG(t){switch(t){default:return J();case C.CANCELLED:case C.UNKNOWN:case C.DEADLINE_EXCEEDED:case C.RESOURCE_EXHAUSTED:case C.INTERNAL:case C.UNAVAILABLE:case C.UNAUTHENTICATED:return!1;case C.INVALID_ARGUMENT:case C.NOT_FOUND:case C.ALREADY_EXISTS:case C.PERMISSION_DENIED:case C.FAILED_PRECONDITION:case C.ABORTED:case C.OUT_OF_RANGE:case C.UNIMPLEMENTED:case C.DATA_LOSS:return!0}}(s=i.code)&&s!==C.ABORTED){const o=r.Eu.shift();No(r).Qo(),yield k3(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield cl(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),P3(t)&&F3(t)}),FA.apply(this,arguments)}function L3(t,e){return LA.apply(this,arguments)}function LA(){return LA=y(function*(t,e){const n=G(t);n.asyncQueue.verifyOperationInProgress(),k("RemoteStore","RemoteStore received new credentials");const r=Ao(n);n.vu.add(3),yield al(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield Sf(n)}),LA.apply(this,arguments)}function BA(){return BA=y(function*(t,e){const n=G(t);e?(n.vu.delete(2),yield Sf(n)):e||(n.vu.add(2),yield al(n),n.bu.set("Unknown"))}),BA.apply(this,arguments)}function ul(t){return t.Su||(t.Su=function(e,n,r){const i=G(e);return i.fu(),new Wge(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:Zge.bind(null,t),ao:Xge.bind(null,t),nu:eme.bind(null,t)}),t.Ru.push(function(){var e=y(function*(n){n?(t.Su.Qo(),SA(t)?TA(t):t.bu.set("Unknown")):(yield t.Su.stop(),R3(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}function No(t){return t.Du||(t.Du=function(e,n,r){const i=G(e);return i.fu(),new qge(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:rme.bind(null,t),ao:ome.bind(null,t),au:ime.bind(null,t),cu:sme.bind(null,t)}),t.Ru.push(function(){var e=y(function*(n){n?(t.Du.Qo(),yield cl(t)):(yield t.Du.stop(),t.Eu.length>0&&(k("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class UA{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new tn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new UA(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new M(C.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ll(t,e){if(Bt("AsyncQueue",`${e}: ${t}`),_o(t))return new M(C.UNAVAILABLE,`${e}: ${t}`);throw t}class dl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||$.comparator(n.key,r.key):(n,r)=>$.comparator(n.key,r.key),this.keyedMap=cf(),this.sortedSet=new ct(this.comparator)}static emptySet(e){return new dl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof dl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new dl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class V3{constructor(){this.Cu=new ct($.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):J():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class hl{constructor(e,n,r,i,s,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new hl(e,n,dl.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class ame{constructor(){this.Nu=void 0,this.listeners=[]}}class cme{constructor(){this.queries=new Ls(e=>iG(e),sf),this.onlineState="Unknown",this.ku=new Set}}function jA(t,e){return $A.apply(this,arguments)}function $A(){return $A=y(function*(t,e){const n=G(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new ame),i)try{s.Nu=yield n.onListen(r)}catch(o){const a=ll(o,`Initialization of query '${US(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&zA(n)}),$A.apply(this,arguments)}function HA(t,e){return GA.apply(this,arguments)}function GA(){return GA=y(function*(t,e){const n=G(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),GA.apply(this,arguments)}function ume(t,e){const n=G(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&zA(n)}function lme(t,e,n){const r=G(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function zA(t){t.ku.forEach(e=>{e.next()})}class WA{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new hl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=hl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class j3{constructor(e){this.key=e}}class $3{constructor(e){this.key=e}}class H3{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=_e(),this.mutatedKeys=_e(),this.tc=oG(e),this.ec=new dl(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new V3,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,u="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=af(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let m=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),m=!0):this.rc(h,f)||(r.track({type:2,doc:f}),m=!0,(c&&this.tc(f,c)>0||u&&this.tc(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),m=!0):h&&!f&&(r.track({type:1,doc:h}),m=!0,(c||u)&&(a=!0)),m&&(f?(o=o.add(f),s=g?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((u,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return J()}};return f(d)-f(h)}(u.type,l.type)||this.tc(u.doc,l.doc)),this.oc(r);const o=n?this.uc():[],a=0===this.Zu.size&&this.current?1:0,c=a!==this.Xu;return this.Xu=a,0!==s.length||c?{snapshot:new hl(this.query,e.ec,i,s,e.mutatedKeys,0===a,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new V3,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=_e(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new $3(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new j3(r))}),n}hc(e){this.Yu=e.ir,this.Zu=_e();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return hl.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class fme{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class pme{constructor(e){this.key=e,this.fc=!1}}class gme{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Ls(a=>iG(a),sf),this._c=new Map,this.mc=new Set,this.gc=new ct($.comparator),this.yc=new Map,this.Ic=new oA,this.Tc={},this.Ec=new Map,this.Ac=Ga.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function mme(t,e){return qA.apply(this,arguments)}function qA(){return qA=y(function*(t,e){const n=function mN(t){const e=G(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=G3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Eme.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vme.bind(null,e),e.dc.nu=ume.bind(null,e.eventManager),e.dc.Pc=lme.bind(null,e.eventManager),e}(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=yield function sl(t,e){const n=G(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,I.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new Bs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}(n.localStore,Xn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function KA(t,e,n,r,i){return YA.apply(this,arguments)}(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&_y(n.remoteStore,o)}return i}),qA.apply(this,arguments)}function YA(){return YA=y(function*(t,e,n,r,i){t.Rc=(d,h,f)=>{return(p=y(function*(g,m,b,_){let T=m.view.sc(b);T.zi&&(T=yield hy(g.localStore,m.query,!1).then(({documents:z})=>m.view.sc(z,T)));const A=_&&_.targetChanges.get(m.targetId),F=m.view.applyChanges(T,g.isPrimaryClient,A);return sN(g,m.targetId,F.cc),F.snapshot}),function(g,m,b,_){return p.apply(this,arguments)})(t,d,h,f);var p};const s=yield hy(t.localStore,e,!0),o=new H3(e,s.ir),a=o.sc(s.documents),c=pf.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),u=o.applyChanges(a,t.isPrimaryClient,c);sN(t,n,u.cc);const l=new fme(e,n,o);return t.wc.set(e,l),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),u.snapshot}),YA.apply(this,arguments)}function _me(t,e){return QA.apply(this,arguments)}function QA(){return QA=y(function*(t,e){const n=G(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!sf(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield ol(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Af(n.remoteStore,r.targetId),fl(n,r.targetId)}).catch(mo))):(fl(n,r.targetId),yield ol(n.localStore,r.targetId,!0))}),QA.apply(this,arguments)}function JA(){return JA=y(function*(t,e,n){const r=function _N(t){const e=G(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bme.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wme.bind(null,e),e}(t);try{const i=yield function(s,o){const a=G(s),c=It.now(),u=o.reduce((h,f)=>h.add(f.key),_e());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=mr(),p=_e();return a.Zi.getEntries(h,u).next(g=>{f=g,f.forEach((m,b)=>{b.isValidDocument()||(p=p.add(m))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(g=>{l=g;const m=[];for(const b of o){const _=Wpe(b,l.get(b.key).overlayedDocument);null!=_&&m.push(new Vs(b.key,_,GH(_.value.mapValue),gt.exists(!0)))}return a.mutationQueue.addMutationBatch(h,c,m,o)}).next(g=>{d=g;const m=g.applyToLocalDocumentSet(l,p);return a.documentOverlayCache.saveOverlays(h,g.batchId,m)})}).then(()=>({batchId:d.batchId,changes:cG(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let c=s.Tc[s.currentUser.toKey()];c||(c=new ct(ue)),c=c.insert(o,a),s.Tc[s.currentUser.toKey()]=c}(r,i.batchId,n),yield Us(r,i.changes),yield cl(r.remoteStore)}catch(i){const s=ll(i,"Failed to persist write");n.reject(s)}}),JA.apply(this,arguments)}function G3(t,e){return ZA.apply(this,arguments)}function ZA(){return ZA=y(function*(t,e){const n=G(t);try{const r=yield function Vge(t,e){const n=G(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,g,m;null!==e.targetMismatches.get(d)?f=f.withResumeToken(nn.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),g=f,m=l,(0===(p=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0)&&a.push(n.Bs.updateTargetData(s,f))});let c=mr(),u=_e();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function D3(t,e,n){let r=_e(),i=_e();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=mr();return n.forEach((a,c)=>{const u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(te.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||0===c.version.compareTo(u.version)&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):k("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(l=>{c=l.nr,u=l.sr})),!r.isEqual(te.min())){const l=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return I.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.Ji=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(ee(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?ee(o.fc):i.removedDocuments.size>0&&(ee(o.fc),o.fc=!1))}),yield Us(n,r,e)}catch(r){yield mo(r)}}),ZA.apply(this,arguments)}function z3(t,e,n){const r=G(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=G(s);a.onlineState=o;let c=!1;a.queries.forEach((u,l)=>{for(const d of l.listeners)d.Mu(o)&&(c=!0)}),c&&zA(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function vme(t,e,n){return XA.apply(this,arguments)}function XA(){return XA=y(function*(t,e,n){const r=G(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new ct($.comparator);o=o.insert(s,dt.newNoDocument(s,te.min()));const a=_e().add(s),c=new ff(te.min(),new Map,new ct(ue),o,a);yield G3(r,c),r.gc=r.gc.remove(s),r.yc.delete(e),oN(r)}else yield ol(r.localStore,e,!1).then(()=>fl(r,e,n)).catch(mo)}),XA.apply(this,arguments)}function bme(t,e){return eN.apply(this,arguments)}function eN(){return eN=y(function*(t,e){const n=G(t),r=e.batch.batchId;try{const i=yield function Lge(t,e){const n=G(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,c,u){const l=c.batch,d=l.keys();let h=I.resolve();return d.forEach(f=>{h=h.next(()=>u.getEntry(a,f)).next(p=>{const g=c.docVersions.get(f);ee(null!==g),p.version.compareTo(g)<0&&(l.applyToRemoteDocument(p,c),p.isValidDocument()&&(p.setReadTime(c.commitVersion),u.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=_e();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(a=a.add(o.batch.mutations[c].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);iN(n,r,null),rN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Us(n,i)}catch(i){yield mo(i)}}),eN.apply(this,arguments)}function wme(t,e,n){return tN.apply(this,arguments)}function tN(){return tN=y(function*(t,e,n){const r=G(t);try{const i=yield function(s,o){const a=G(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return a.mutationQueue.lookupMutationBatch(c,o).next(l=>(ee(null!==l),u=l.keys(),a.mutationQueue.removeMutationBatch(c,l))).next(()=>a.mutationQueue.performConsistencyCheck(c)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(c,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>a.localDocuments.getDocuments(c,u))})}(r.localStore,e);iN(r,e,n),rN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Us(r,i)}catch(i){yield mo(i)}}),tN.apply(this,arguments)}function rN(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function iN(t,e,n){const r=G(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function fl(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||W3(t,r)})}function W3(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(Af(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),oN(t))}function sN(t,e,n){for(const r of n)r instanceof j3?(t.Ic.addReference(r.key,e),Ime(t,r)):r instanceof $3?(k("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||W3(t,r.key)):J()}function Ime(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(k("SyncEngine","New document in limbo: "+n),t.mc.add(r),oN(t))}function oN(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new $(Oe.fromString(e)),r=t.Ac.next();t.yc.set(r,new pme(n)),t.gc=t.gc.insert(n,r),_y(t.remoteStore,new Bs(Xn(Qu(n.path)),r,"TargetPurposeLimboResolution",Rr.ct))}}function Us(t,e,n){return aN.apply(this,arguments)}function aN(){return aN=y(function*(t,e,n){const r=G(t),i=[],s=[],o=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,c)=>{o.push(r.Rc(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u?.fromCache?"not-current":"current"),u){i.push(u);const l=dA.Li(c.targetId,u);s.push(l)}}))}),yield Promise.all(o),r.dc.nu(i),yield(a=y(function*(c,u){const l=G(c);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>I.forEach(u,h=>I.forEach(h.Fi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>I.forEach(h.Bi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!_o(d))throw d;k("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const f=l.Ji.get(h),g=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ji=l.Ji.insert(h,g)}}}),function(c,u){return a.apply(this,arguments)})(r.localStore,s))}),aN.apply(this,arguments)}function Cme(t,e){return cN.apply(this,arguments)}function cN(){return cN=y(function*(t,e){const n=G(t);if(!n.currentUser.isEqual(e)){k("SyncEngine","User change. New user:",e.toKey());const r=yield b3(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(o=>{o.forEach(a=>{a.reject(new M(C.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Us(n,r.er)}var i}),cN.apply(this,arguments)}function Eme(t,e){const n=G(t),r=n.yc.get(e);if(r&&r.fc)return _e().add(r.key);{let i=_e();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}class vy{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return y(function*(){n.serializer=Tf(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function v3(t,e,n,r){return new Fge(t,e,n,r)}(this.persistence,new y3,e.initialUser,this.serializer)}createPersistence(e){return new aA(uy.zs,this.serializer)}createSharedClientState(e){return new A3}terminate(){var e=this;return y(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class pl{initialize(e,n){var r=this;return y(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>z3(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Cme.bind(null,r.syncEngine),yield function VA(t,e){return BA.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new cme}createDatastore(e){const n=Tf(e.databaseInfo.databaseId),r=new zge(e.databaseInfo);return new Kge(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>z3(this.syncEngine,a,0),o=N3.D()?new N3:new $ge,new Jge(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,c,u){const l=new gme(r,i,s,o,a,c);return u&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return function(){var e=y(function*(n){const r=G(n);k("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield al(r),r.Pu.shutdown(),r.bu.set("Unknown")});return function(n){return e.apply(this,arguments)}}()(this.remoteStore)}}class by{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Bt("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Vme{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=gn.UNAUTHENTICATED,this.clientId=wH.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=y(function*(a){k("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(k("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return y(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new M(C.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new tn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(y(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=ll(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function wy(t,e){return yN.apply(this,arguments)}function yN(){return yN=y(function*(t,e){t.asyncQueue.verifyOperationInProgress(),k("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=y(function*(s){r.isEqual(s)||(yield b3(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),yN.apply(this,arguments)}function vN(t,e){return bN.apply(this,arguments)}function bN(){return bN=y(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function wN(t){return DN.apply(this,arguments)}(t);k("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>L3(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>L3(e.remoteStore,s)),t._onlineComponents=e}),bN.apply(this,arguments)}function DN(){return DN=y(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){k("FirestoreClient","Using user provided OfflineComponentProvider");try{yield wy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function Z3(t){return"FirebaseError"===t.name?t.code===C.FAILED_PRECONDITION||t.code===C.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;Di("Error using user provided cache. Falling back to memory cache: "+n),yield wy(t,new vy)}}else k("FirestoreClient","Using default OfflineComponentProvider"),yield wy(t,new vy);return t._offlineComponents}),DN.apply(this,arguments)}function Dy(t){return IN.apply(this,arguments)}function IN(){return IN=y(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(k("FirestoreClient","Using user provided OnlineComponentProvider"),yield vN(t,t._uninitializedComponentsProvider._online)):(k("FirestoreClient","Using default OnlineComponentProvider"),yield vN(t,new pl))),t._onlineComponents}),IN.apply(this,arguments)}function gl(t){return EN.apply(this,arguments)}function EN(){return EN=y(function*(t){const e=yield Dy(t),n=e.eventManager;return n.onListen=mme.bind(null,e.syncEngine),n.onUnlisten=_me.bind(null,e.syncEngine),n}),EN.apply(this,arguments)}function i4(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const s4=new Map;function TN(t,e,n){if(!n)throw new M(C.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function o4(t){if(!$.isDocumentKey(t))throw new M(C.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function a4(t){if($.isDocumentKey(t))throw new M(C.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Cy(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":J()}function Se(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new M(C.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Cy(t);throw new M(C.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class u4{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new M(C.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new M(C.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function qme(t,e,n,r){if(!0===e&&!0===r)throw new M(C.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=i4(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new M(C.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new M(C.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new M(C.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new u4({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new M(C.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new M(C.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new u4(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new zfe;switch(n.type){case"firstParty":return new Yfe(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new M(C.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=s4.get(e);n&&(k("ComponentProvider","Removing Datastore"),s4.delete(e),n.terminate())}(this),Promise.resolve()}}class $t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ns(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $t(this.firestore,e,this._key)}}class xn{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new xn(this.firestore,e,this._query)}}class ns extends xn{constructor(e,n,r){super(e,n,Qu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $t(this.firestore,null,new $(e))}withConverter(e){return new ns(this.firestore,e,this._path)}}function Yme(t,e,...n){if(t=vi(t),TN("collection","path",e),t instanceof Nf){const r=Oe.fromString(e,...n);return a4(r),new ns(t,null,r)}{if(!(t instanceof $t||t instanceof ns))throw new M(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Oe.fromString(e,...n));return a4(r),new ns(t.firestore,null,r)}}function l4(t,e,...n){if(t=vi(t),1===arguments.length&&(e=wH.A()),TN("doc","path",e),t instanceof Nf){const r=Oe.fromString(e,...n);return o4(r),new $t(t,null,new $(r))}{if(!(t instanceof $t||t instanceof ns))throw new M(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Oe.fromString(e,...n));return o4(r),new $t(t.firestore,t instanceof ns?t.converter:null,new $(r))}}class Qme{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new wA(this,"async_queue_retry"),this.Xc=()=>{const n=my();n&&k("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=my();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=my();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new tn;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return y(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!_o(n))throw n;k("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Bt("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=UA.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&J()}verifyOperationInProgress(){}sa(){var e=this;return y(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class ht extends Nf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Qme,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||h4(this),this._firestoreClient.terminate()}}function Zme(t,e){const r="string"==typeof t?t:e||"(default)",i=Om("object"==typeof t?t:pB(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(t=>{const e=(t=>{var e,n;return null===(n=null===(e=Sm())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})("firestore");s&&function Kme(t,e,n,r={}){var i;const s=(t=Se(t,Nf))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Di("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if("string"==typeof r.mockUserToken)a=r.mockUserToken,c=gn.MOCK_USER;else{a=function Bie(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Em(JSON.stringify({alg:"none",type:"JWT"})),Em(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new M(C.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new gn(u)}t._authCredentials=new Wfe(new vH(a,c))}}(i,...s)}return i}function Kt(t){return t._firestoreClient||h4(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function h4(t){var e,n,r;const i=t._freezeSettings(),s=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Epe(t._databaseId,a,t._persistenceKey,(u=i).host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,i4(u.experimentalLongPollingOptions),u.useFetchStreams));var a,u;t._firestoreClient=new Vme(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class Wa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wa(nn.fromBase64String(e))}catch(n){throw new M(C.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Wa(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ml{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new M(C.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class g4{constructor(e){this._methodName=e}}class AN{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new M(C.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new M(C.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ue(this._lat,e._lat)||ue(this._long,e._long)}}const e_e=/^__.*__$/;class t_e{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new Vs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Xu(e,this.data,n,this.fieldTransforms)}}function _4(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw J()}}class Ey{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Ey(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Sy(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(_4(this.ca)&&e_e.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class n_e{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Tf(e)}ya(e,n,r,i=!1){return new Ey({ca:e,methodName:n,ga:r,path:Ut.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _l(t){const e=t._freezeSettings(),n=Tf(t._databaseId);return new n_e(t._databaseId,!!e.ignoreUndefinedProperties,n)}function NN(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);MN("Data must be an object, but it was:",o,r);const a=D4(r,o);let c,u;if(s.merge)c=new gr(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=Of(e,d,n);if(!o.contains(h))throw new M(C.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);C4(l,h)||l.push(h)}c=new gr(l),u=o.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,u=o.fieldTransforms;return new t_e(new Nn(a),c,u)}function qa(t,e){if(I4(t=vi(t)))return MN("Unsupported field value:",e,t),D4(t,e);if(t instanceof g4)return function(n,r){if(!_4(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=qa(o,r.wa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=vi(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return hG(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=It.fromDate(n);return{timestampValue:tl(r.serializer,i)}}if(n instanceof It){const i=new It(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:tl(r.serializer,i)}}if(n instanceof AN)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Wa)return{bytesValue:RG(r.serializer,n._byteString)};if(n instanceof $t){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:YS(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${Cy(n)}`)}(t,e)}function D4(t,e){const n={};return PH(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):yo(t,(r,i)=>{const s=qa(i,e.ha(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function I4(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof It||t instanceof AN||t instanceof Wa||t instanceof $t||t instanceof g4)}function MN(t,e,n){if(!I4(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Cy(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function Of(t,e,n){if((e=vi(e))instanceof ml)return e._internalPath;if("string"==typeof e)return Ty(t,e);throw Sy("Field path arguments must be of type string or ",t,!1,void 0,n)}const o_e=new RegExp("[~\\*/\\[\\]]");function Ty(t,e,n){if(e.search(o_e)>=0)throw Sy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ml(...e.split("."))._internalPath}catch{throw Sy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Sy(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new M(C.INVALID_ARGUMENT,a+t+c)}function C4(t,e){return t.some(n=>n.isEqual(e))}class ON{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new $t(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new a_e(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ay("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class a_e extends ON{data(){return super.data()}}function Ay(t,e){return"string"==typeof e?Ty(t,e):e instanceof ml?e._internalPath:e._delegate._internalPath}class u_e{convertValue(e,n="none"){switch(wo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ps(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw J()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return yo(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new AN(xt(e.latitude),xt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=$_(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Xh(e));default:return null}}convertTimestamp(e){const n=vo(e);return new It(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Oe.fromString(e);ee(HG(r));const i=new Ra(r.get(1),r.get(3)),s=new $(r.popFirst(5));return i.isEqual(n)||Bt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class Ka{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vl extends ON{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Oy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ay("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Oy extends vl{data(e={}){return super.data(e)}}class bl{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ka(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Oy(this._firestore,this._userDataWriter,r.key,r,new Ka(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new M(C.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Oy(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ka(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new Oy(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ka(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,u=-1;return 0!==o.type&&(c=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:d_e(o.type),doc:a,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function d_e(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return J()}}function h_e(t){t=Se(t,$t);const e=Se(t.firestore,ht);return function n4(t,e,n={}){const r=new tn;return t.asyncQueue.enqueueAndForget(y(function*(){return function(i,s,o,a,c){const u=new by({next:d=>{s.enqueueAndForget(()=>HA(i,l));const h=d.docs.has(o);!h&&d.fromCache?c.reject(new M(C.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&"server"===a.source?c.reject(new M(C.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(d)},error:d=>c.reject(d)}),l=new WA(Qu(o.path),u,{includeMetadataChanges:!0,Ku:!0});return jA(i,l)}(yield gl(t),t.asyncQueue,e,n,r)})),r.promise}(Kt(e),t._key).then(n=>function PN(t,e,n){const r=n.docs.get(e._key),i=new xo(t);return new vl(t,i,e._key,r,new Ka(n.hasPendingWrites,n.fromCache),e.converter)}(e,t,n))}class xo extends u_e{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new $t(this.firestore,null,n)}}function f_e(t){t=Se(t,xn);const e=Se(t.firestore,ht),n=Kt(e),r=new xo(e);return function E4(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new M(C.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query),function r4(t,e,n={}){const r=new tn;return t.asyncQueue.enqueueAndForget(y(function*(){return function(i,s,o,a,c){const u=new by({next:d=>{s.enqueueAndForget(()=>HA(i,l)),d.fromCache&&"server"===a.source?c.reject(new M(C.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(d)},error:d=>c.reject(d)}),l=new WA(o,u,{includeMetadataChanges:!0,Ku:!0});return jA(i,l)}(yield gl(t),t.asyncQueue,e,n,r)})),r.promise}(n,t._query).then(i=>new bl(e,r,t,i))}function p_e(t,e){const n=Se(t.firestore,ht),r=l4(t),i=function kN(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return function kf(t,e){return function(n,r){const i=new tn;return n.asyncQueue.enqueueAndForget(y(function*(){return function yme(t,e,n){return JA.apply(this,arguments)}(yield function CN(t){return Dy(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(Kt(t),e)}(n,[NN(_l(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,gt.exists(!1))]).then(()=>r)}!function(t,e=!0){Gu=lh,Qn(new Ln("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new ht(new qfe(n.getProvider("auth-internal")),new Qfe(n.getProvider("app-check-internal")),function(a,c){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new M(C.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ra(a.options.projectId,c)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Vt(yH,"3.13.0",t),Vt(yH,"3.13.0","esm2017")}();class wl{constructor(e){return e}}const R4="firestore",FN=new Q("angularfire2.firestore-instances");function A_e(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new wl(r)}}const N_e={provide:class T_e{constructor(){return aC(R4)}},deps:[[new cr,FN]]},x_e={provide:wl,useFactory:function S_e(t,e){const n=function oC(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}(R4,t,e);return n&&new wl(n)},deps:[[new cr,FN],Ou]};let M_e=(()=>{class t{constructor(){Vt("angularfire",ZI.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=De({type:t}),t.\u0275inj=ve({providers:[x_e,N_e]}),t})();function O_e(t,...e){return{ngModule:M_e,providers:[{provide:FN,useFactory:A_e(t),multi:!0,deps:[be,Gt,AU,NU,[new cr,Rj],[new cr,t$],...e]}]}}const R_e=Da(p_e,!0),k4=Da(Yme,!0),k_e=Da(l4,!0),P_e=Da(h_e,!0),F_e=Da(f_e,!0),L_e=Da(Zme,!0);let V_e=(()=>{class t{constructor(n){this.firestore=n}getRecipes(){const r=k4(this.firestore,"Recipe");return new Fe(i=>{F_e(r).then(s=>{const o=[];s.forEach(a=>{const u={...a.data(),id:a.id};o.push(u)}),i.next(o),i.complete()}).catch(s=>{i.error(s)})})}static#e=this.\u0275fac=function(r){return new(r||t)(H(wl))};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const B_e=function(t){return["/recipe/",t]};function U_e(t,e){if(1&t&&(R(0,"ul",6)(1,"li",7)(2,"a",8)(3,"div",9)(4,"div",10),Me(5,"img",11),P(),R(6,"h3",12),ne(7),P()()()()()),2&t){const n=e.$implicit;K(2),W("routerLink",fu(3,B_e,n.id)),K(3),W("src",n.image,ag),K(2),di(n.title)}}let j_e=(()=>{class t{constructor(n){this.recipeService=n,this.recipes=[]}ngOnInit(){this.getRecipes()}getRecipes(){this.recipeService.getRecipes().subscribe({next:n=>{this.recipes=n},error:n=>{console.error("Error fetching recipes:",n)}})}static#e=this.\u0275fac=function(r){return new(r||t)(v(V_e))};static#t=this.\u0275cmp=yt({type:t,selectors:[["app-recipes-list"]],decls:7,vars:1,consts:[[1,"main-long"],[1,"mainLong"],[1,"recipes-list"],[1,"title"],[1,"wrapper"],["class","cards",4,"ngFor","ngForOf"],[1,"cards"],[1,"card-item"],[3,"routerLink"],["tabindex","0",1,"card"],[1,"card-image"],["alt","recipe.title",3,"src"],[1,"card-title"]],template:function(r,i){1&r&&(R(0,"main",0)(1,"div",1)(2,"section",2)(3,"h2",3),ne(4,"Recipes list"),P(),R(5,"section",4),Z(6,U_e,8,5,"ul",5),P()()()()),2&r&&(K(6),W("ngForOf",i.recipes))},dependencies:[ws,Au],styles:[".categories-list[_ngcontent-%COMP%]{margin:0 auto 50px;max-width:1200px}.wrapper[_ngcontent-%COMP%]{place-self:center;margin:0 auto 50px 0;display:grid;grid-template-columns:repeat(3,1fr);gap:30px}.cards[_ngcontent-%COMP%]{display:grid;flex-wrap:wrap;list-style:none;margin:0;padding:0;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1rem}.card-item[_ngcontent-%COMP%]{display:flex;background-color:var(--backgroundColor)}.card[_ngcontent-%COMP%]{position:relative;overflow:hidden;border-radius:5px 25px 5px 50px;transition:transform .1s linear,box-shadow .2s}img[_ngcontent-%COMP%]{max-width:100%;height:auto}a[_ngcontent-%COMP%]{text-decoration:none;color:var(--mainBlackColor)}.card-title[_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:90%;height:auto;color:var(--textColor);padding:.5rem;border-radius:5px 0 0 5px;transform:rotate(-3.3deg);transform-origin:left top;overflow:hidden;z-index:1;background-color:var(--mainWhiteColor);animation:0s 0s _ngcontent-%COMP%_fly-in 0 reverse both;font-family:var(--titleFont)}@media (min-width: 535px){.card-title[_ngcontent-%COMP%]{animation:.5s .25s fly-out 1 both}}.card[_ngcontent-%COMP%]:focus   .card-title[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]:hover   .card-title[_ngcontent-%COMP%]{animation:.5s ease-in 0s _ngcontent-%COMP%_fly-in 1 both}.card[_ngcontent-%COMP%]:focus, .card[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 10px 5px -5px #0003}@keyframes _ngcontent-%COMP%_fly-in{0%{top:0;right:0;font-size:1.325rem}25%{top:0;right:-200%;font-size:1.325rem}26%{font-size:2rem}to{top:2rem;right:0;font-size:2rem}}@media (max-width: 460px){.wrapper[_ngcontent-%COMP%]{margin:0 auto;display:flex;flex-direction:column;width:80%}}@media (min-width: 461px) and (max-width: 767px){.wrapper[_ngcontent-%COMP%]{margin:0 auto;padding:0 50px;width:100%;display:flex;flex-direction:column}}@media (min-width: 768px) and (max-width: 1023px){.wrapper[_ngcontent-%COMP%]{margin:0 auto;padding:0 50px;width:100%;grid-template-columns:repeat(2,1fr)}}@media (min-width: 1024px) and (max-width: 1440px){.wrapper[_ngcontent-%COMP%]{margin:0 auto;padding:0 50px;grid-template-columns:repeat(3,1fr)}}"]})}return t})(),P4=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static#e=this.\u0275fac=function(r){return new(r||t)(v(Tr),v(Ue))};static#t=this.\u0275dir=L({type:t})}return t})(),Ya=(()=>{class t extends P4{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Pt(t)))(i||t)}}();static#t=this.\u0275dir=L({type:t,features:[je]})}return t})();const kr=new Q("NgValueAccessor"),G_e={provide:kr,useExisting:we(()=>ky),multi:!0},W_e=new Q("CompositionEventMode");let ky=(()=>{class t extends P4{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function z_e(){const t=ro()?ro().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static#e=this.\u0275fac=function(r){return new(r||t)(v(Tr),v(Ue),v(W_e,8))};static#t=this.\u0275dir=L({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&Ie("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[tt([G_e]),je]})}return t})();function Mo(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function L4(t){return null!=t&&"number"==typeof t.length}const Mn=new Q("NgValidators"),Oo=new Q("NgAsyncValidators"),q_e=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class V4{static min(e){return function B4(t){return e=>{if(Mo(e.value)||Mo(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(e)}static max(e){return function U4(t){return e=>{if(Mo(e.value)||Mo(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(e)}static required(e){return j4(e)}static requiredTrue(e){return function $4(t){return!0===t.value?null:{required:!0}}(e)}static email(e){return function H4(t){return Mo(t.value)||q_e.test(t.value)?null:{email:!0}}(e)}static minLength(e){return function G4(t){return e=>Mo(e.value)||!L4(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function z4(t){return e=>L4(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static pattern(e){return function W4(t){if(!t)return Py;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Mo(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return Z4(e)}static composeAsync(e){return X4(e)}}function j4(t){return Mo(t.value)?{required:!0}:null}function Py(t){return null}function q4(t){return null!=t}function K4(t){return Td(t)?an(t):t}function Y4(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function Q4(t,e){return e.map(n=>n(t))}function J4(t){return t.map(e=>function K_e(t){return!t.validate}(e)?e:n=>e.validate(n))}function Z4(t){if(!t)return null;const e=t.filter(q4);return 0==e.length?null:function(n){return Y4(Q4(n,e))}}function LN(t){return null!=t?Z4(J4(t)):null}function X4(t){if(!t)return null;const e=t.filter(q4);return 0==e.length?null:function(n){return function $_e(...t){const e=mp(t),{args:n,keys:r}=zL(t),i=new Fe(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let c=o,u=o;for(let l=0;l<o;l++){let d=!1;Yt(n[l]).subscribe(rt(s,h=>{d||(d=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!d)&&(u||s.next(r?WL(r,a):a),s.complete())}))}});return e?i.pipe(f1(e)):i}(Q4(n,e).map(K4)).pipe(Ae(Y4))}}function VN(t){return null!=t?X4(J4(t)):null}function ez(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function tz(t){return t._rawValidators}function nz(t){return t._rawAsyncValidators}function BN(t){return t?Array.isArray(t)?t:[t]:[]}function Fy(t,e){return Array.isArray(t)?t.includes(e):t===e}function rz(t,e){const n=BN(e);return BN(t).forEach(i=>{Fy(n,i)||n.push(i)}),n}function iz(t,e){return BN(e).filter(n=>!Fy(t,n))}class sz{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=LN(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=VN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class er extends sz{get formDirective(){return null}get path(){return null}}class Ro extends sz{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class oz{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let az=(()=>{class t extends oz{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(v(Ro,2))};static#t=this.\u0275dir=L({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Be("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[je]})}return t})(),cz=(()=>{class t extends oz{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(v(er,10))};static#t=this.\u0275dir=L({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Be("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[je]})}return t})();const Pf="VALID",Vy="INVALID",Dl="PENDING",Ff="DISABLED";function $N(t){return(By(t)?t.validators:t)||null}function HN(t,e){return(By(e)?e.asyncValidators:t)||null}function By(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function lz(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new O(1e3,"");if(!r[n])throw new O(1001,"")}function dz(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new O(1002,"")})}class Uy{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Pf}get invalid(){return this.status===Vy}get pending(){return this.status==Dl}get disabled(){return this.status===Ff}get enabled(){return this.status!==Ff}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(rz(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(rz(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(iz(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(iz(e,this._rawAsyncValidators))}hasValidator(e){return Fy(this._rawValidators,e)}hasAsyncValidator(e){return Fy(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Dl,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Ff,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Pf,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Pf||this.status===Dl)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ff:Pf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Dl,this._hasOwnPendingAsyncValidator=!0;const n=K4(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new S,this.statusChanges=new S}_calculateStatus(){return this._allControlsDisabled()?Ff:this.errors?Vy:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Dl)?Dl:this._anyControlsHaveStatus(Vy)?Vy:Pf}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){By(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Z_e(t){return Array.isArray(t)?LN(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function X_e(t){return Array.isArray(t)?VN(t):t||null}(this._rawAsyncValidators)}}class Lf extends Uy{constructor(e,n,r){super($N(n),HN(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){dz(this,0,e),Object.keys(e).forEach(r=>{lz(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class hz extends Lf{}const Qa=new Q("CallSetDisabledState",{providedIn:"root",factory:()=>Vf}),Vf="always";function Bf(t,e,n=Vf){GN(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function tye(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&fz(t,e)})}(t,e),function rye(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function nye(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&fz(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function eye(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function $y(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Gy(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Hy(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function GN(t,e){const n=tz(t);null!==e.validator?t.setValidators(ez(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=nz(t);null!==e.asyncValidator?t.setAsyncValidators(ez(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Hy(e._rawValidators,i),Hy(e._rawAsyncValidators,i)}function Gy(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=tz(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(null!==e.asyncValidator){const i=nz(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}const r=()=>{};return Hy(e._rawValidators,r),Hy(e._rawAsyncValidators,r),n}function fz(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function mz(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function _z(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const jf=class extends Uy{constructor(e=null,n,r){super($N(n),HN(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),By(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=_z(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){mz(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){mz(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){_z(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let Dz=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=L({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return t})(),Cz=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=De({type:t});static#n=this.\u0275inj=ve({})}return t})();const YN=new Q("NgModelWithFormControlWarning"),_ye={provide:er,useExisting:we(()=>zy)};let zy=(()=>{class t extends er{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new S,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Gy(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return Bf(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){$y(n.control||null,n,!1),function aye(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,function gz(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&($y(r||null,n),(t=>t instanceof jf)(i)&&(Bf(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);(function pz(t,e){GN(t,e)})(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function iye(t,e){return Gy(t,e)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){GN(this.form,this),this._oldForm&&Gy(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(r){return new(r||t)(v(Mn,10),v(Oo,10),v(Qa,8))};static#t=this.\u0275dir=L({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&Ie("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[tt([_ye]),je,Dn]})}return t})();const bye={provide:Ro,useExisting:we(()=>ZN)};let ZN=(()=>{class t extends Ro{set isDisabled(n){}static#e=this._ngModelWarningSentOnce=!1;constructor(n,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new S,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function qN(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===ky?n=s:function oye(t){return Object.getPrototypeOf(t.constructor)===Ya}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){this._added||this._setUpControl(),function WN(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return function jy(t,e){return[...e.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(r){return new(r||t)(v(er,13),v(Mn,10),v(Oo,10),v(kr,10),v(YN,8))};static#n=this.\u0275dir=L({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[tt([bye]),je,Dn]})}return t})(),Ja=(()=>{class t{constructor(){this._validator=Py}ngOnChanges(n){if(this.inputName in n){const r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Py,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=L({type:t,features:[Dn]})}return t})();const Nye={provide:Mn,useExisting:we(()=>Wy),multi:!0};let Wy=(()=>{class t extends Ja{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=mu,this.createValidator=n=>j4}enabled(n){return n}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Pt(t)))(i||t)}}();static#t=this.\u0275dir=L({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&ze("required",i._enabled?"":null)},inputs:{required:"required"},features:[tt([Nye]),je]})}return t})(),Uz=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=De({type:t});static#n=this.\u0275inj=ve({imports:[Cz]})}return t})();class jz extends Uy{constructor(e,n,r){super($N(n),HN(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){dz(this,0,e),e.forEach((r,i)=>{lz(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function $z(t){return!!t&&(void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn)}let Pye=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){const n=new t;return n.useNonNullable=!0,n}group(n,r=null){const i=this._reduceControls(n);let s={};return $z(r)?s=r:null!==r&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new Lf(i,s)}record(n,r=null){const i=this._reduceControls(n);return new hz(i,r)}control(n,r,i){let s={};return this.useNonNullable?($z(r)?s=r:(s.validators=r,s.asyncValidators=i),new jf(n,{...s,nonNullable:!0})):new jf(n,r,i)}array(n,r,i){const s=n.map(o=>this._createControl(o));return new jz(s,r,i)}_reduceControls(n){const r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){return n instanceof jf||n instanceof Uy?n:Array.isArray(n)?this.control(n[0],n.length>1?n[1]:null,n.length>2?n[2]:null):this.control(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Fye=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Qa,useValue:n.callSetDisabledState??Vf}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=De({type:t});static#n=this.\u0275inj=ve({imports:[Uz]})}return t})(),Lye=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:YN,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Qa,useValue:n.callSetDisabledState??Vf}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=De({type:t});static#n=this.\u0275inj=ve({imports:[Uz]})}return t})();const Hz=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},Gz={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0;let h=(15&a)<<2|u>>6,f=63&u;c||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Hz(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const c=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(1023&c))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==u||null==d)throw new jye;r.push(s<<2|a>>4),64!==u&&(r.push(a<<4&240|u>>2),64!==d&&r.push(u<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class jye extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qy=function(t){return function(t){const e=Hz(t);return Gz.encodeByteArray(e,!0)}(t).replace(/\./g,"")},Ky=()=>{try{return function Gye(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&function(t){try{return Gz.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}};class Wz{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}class $f extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,$f.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qz.prototype.create)}}class qz{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function eve(t,e){return t.replace(tve,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new $f(i,`${this.serviceName}: ${o} (${i}).`,r)}}const tve=/\{\$([^}]+)}/g;function rx(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Yz(s)&&Yz(o)){if(!rx(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Yz(t){return null!==t&&"object"==typeof t}class Jy{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Za="[DEFAULT]";class uve{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Wz;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function dve(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Za})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Za){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return y(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Za){return this.instances.has(e)}getOptions(e=Za){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:lve(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Za){return this.component?this.component.multipleInstances?e:Za:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function lve(t){return t===Za?void 0:t}class hve{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new uve(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}class fve{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function pve(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const ox="@firebase/app",Xa=new fa("@firebase/app"),Bve={[ox]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ec=new Map,Xy=new Map;function Uve(t,e){try{t.container.addComponent(e)}catch(n){Xa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ax(t){const e=t.name;if(Xy.has(e))return Xa.debug(`There were multiple attempts to register component ${e}.`),!1;Xy.set(e,t);for(const n of ec.values())Uve(n,t);return!0}const js=new qz("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Hve{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Jy("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw js.create("app-deleted",{appName:this._name})}}function ev(t,e,n){var r;let i=null!==(r=Bve[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Xa.warn(a.join(" "))}ax(new Jy(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Gve="firebase-heartbeat-database",zve=1,Hf="firebase-heartbeat-store";let ux=null;function Zz(){return ux||(ux=lB(Gve,zve,{upgrade:(t,e)=>{if(0===e)try{t.createObjectStore(Hf)}catch(n){console.warn(n)}}}).catch(t=>{throw js.create("idb-open",{originalErrorMessage:t.message})})),ux}function lx(){return lx=y(function*(t){try{const n=(yield Zz()).transaction(Hf),r=yield n.objectStore(Hf).get(e5(t));return yield n.done,r}catch(e){if(e instanceof $f)Xa.warn(e.message);else{const n=js.create("idb-get",{originalErrorMessage:e?.message});Xa.warn(n.message)}}}),lx.apply(this,arguments)}function Xz(t,e){return dx.apply(this,arguments)}function dx(){return dx=y(function*(t,e){try{const r=(yield Zz()).transaction(Hf,"readwrite");yield r.objectStore(Hf).put(e,e5(t)),yield r.done}catch(n){if(n instanceof $f)Xa.warn(n.message);else{const r=js.create("idb-set",{originalErrorMessage:n?.message});Xa.warn(r.message)}}}),dx.apply(this,arguments)}function e5(t){return`${t.name}!${t.options.appId}`}class Yve{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Jve(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return y(function*(){var n,r;const s=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=t5();if((null!=(null===(n=e._heartbeatsCache)||void 0===n?void 0:n.heartbeats)||(e._heartbeatsCache=yield e._heartbeatsCachePromise,null!=(null===(r=e._heartbeatsCache)||void 0===r?void 0:r.heartbeats)))&&e._heartbeatsCache.lastSentHeartbeatDate!==o&&!e._heartbeatsCache.heartbeats.some(a=>a.date===o))return e._heartbeatsCache.heartbeats.push({date:o,agent:s}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(a=>{const c=new Date(a.date).valueOf();return Date.now()-c<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return y(function*(){var n;if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(n=e._heartbeatsCache)||void 0===n?void 0:n.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const r=t5(),{heartbeatsToSend:i,unsentEntries:s}=function Qve(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),n5(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),n5(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),o=qy(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=r,s.length>0?(e._heartbeatsCache.heartbeats=s,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),o})()}}function t5(){return(new Date).toISOString().substring(0,10)}class Jve{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return y(function*(){return!!function Jye(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function Zye(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return y(function*(){if(yield e._canUseIndexedDBPromise){const r=yield function Wve(t){return lx.apply(this,arguments)}(e.app);return r?.heartbeats?r:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(e){var n=this;return y(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return Xz(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return y(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return Xz(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function n5(t){return qy(JSON.stringify({version:2,heartbeats:t})).length}!function Zve(t){ax(new Jy("platform-logger",e=>new fve(e),"PRIVATE")),ax(new Jy("heartbeat",e=>new Yve(e),"PRIVATE")),ev(ox,"0.9.28",t),ev(ox,"0.9.28","esm2017"),ev("fire-js","")}(""),ev("firebase","10.8.1","app");const tv_firebaseConfig={apiKey:"AIzaSyCVbXDjBGUwaOrn1CZYGIwce1dYPKpR7PA",authDomain:"the-natural-way.firebaseapp.com",projectId:"the-natural-way",storageBucket:"the-natural-way.appspot.com",messagingSenderId:"778711637280",appId:"1:778711637280:web:30b52ea2a4e159578fcb45"},tv_cloudinaryConfig_cloudName="dsla98vyk",tv_cloudinaryConfig_uploadPreset="the_natural_way";!function Jz(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:"[DEFAULT]",automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw js.create("bad-app-name",{appName:String(i)});if(n||(n=(()=>{var t;return null===(t=Ky())||void 0===t?void 0:t.config})()),!n)throw js.create("no-options");const s=ec.get(i);if(s){if(rx(n,s.options)&&rx(r,s.config))return s;throw js.create("duplicate-app",{appName:i})}const o=new hve(i);for(const c of Xy.values())o.addComponent(c);const a=new Hve(n,r,o);return ec.set(i,a),a}(tv_firebaseConfig);let t0e=(()=>{class t{constructor(){this.cloudName=tv_cloudinaryConfig_cloudName,this.uploadPreset=tv_cloudinaryConfig_uploadPreset,this.imageUploaded=new S}ngOnInit(){this.myWidget=cloudinary.createUploadWidget({cloudName:this.cloudName,uploadPreset:this.uploadPreset,maxImageWidth:500},(n,r)=>{!n&&r&&"success"===r.event&&(console.log("Done! Here is the image info: ",r.info),this.onImagesUploaded(r.info.secure_url))})}onImagesUploaded(n){this.imageUploaded.emit(n)}openWidget(){this.myWidget.open()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=yt({type:t,selectors:[["app-image-upload"]],outputs:{imageUploaded:"imageUploaded"},decls:3,vars:0,consts:[["id","upload_widget",1,"cloudinary-button","button",3,"click"]],template:function(r,i){1&r&&(R(0,"div")(1,"button",0),Ie("click",function(){return i.openWidget()}),ne(2," Add Image "),P()())},styles:[".cloudinary-button[_ngcontent-%COMP%]{width:100%;background-color:var(--textColor);color:var(--backgroundColor);text-decoration:none;font-size:16px;line-height:28px;cursor:pointer;font-weight:400;display:block;border:1px solid var(--textColor);border-radius:8px;padding:10px 14px;box-shadow:unset;text-transform:uppercase}.cloudinary-button[_ngcontent-%COMP%]:hover{background-color:var(--backgroundColor);color:var(--textColor);border:1px solid var(--textColor)}"]})}return t})();const n0e=["addListener","removeListener"],r0e=["addEventListener","removeEventListener"],i0e=["on","off"];function rn(t,e,n,r){if(ye(n)&&(r=n,n=void 0),r)return rn(t,e,n).pipe(f1(r));const[i,s]=function a0e(t){return ye(t.addEventListener)&&ye(t.removeEventListener)}(t)?r0e.map(o=>a=>t[o](e,a,n)):function s0e(t){return ye(t.addListener)&&ye(t.removeListener)}(t)?n0e.map(r5(t,e)):function o0e(t){return ye(t.on)&&ye(t.off)}(t)?i0e.map(r5(t,e)):[];if(!i&&Hv(t))return Qt(o=>rn(o,e,n))(Yt(t));if(!i)throw new TypeError("Invalid event target");return new Fe(o=>{const a=(...c)=>o.next(1<c.length?c:c[0]);return i(a),()=>s(a)})}function r5(t,e){return n=>r=>t[n](e,r)}class c0e extends Le{constructor(e=1/0,n=1/0,r=QI){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){const{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;n||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){const{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const o=n.now();let a=0;for(let c=1;c<r.length&&r[c]<=o;c+=2)a=c;a&&r.splice(0,a+1)}}}function l0e(t,e){}const nv=()=>{const t=typeof window<"u"?window:void 0;return t&&t.tinymce?t.tinymce:null};let d0e=(()=>{class t{constructor(){this.onBeforePaste=new S,this.onBlur=new S,this.onClick=new S,this.onContextMenu=new S,this.onCopy=new S,this.onCut=new S,this.onDblclick=new S,this.onDrag=new S,this.onDragDrop=new S,this.onDragEnd=new S,this.onDragGesture=new S,this.onDragOver=new S,this.onDrop=new S,this.onFocus=new S,this.onFocusIn=new S,this.onFocusOut=new S,this.onKeyDown=new S,this.onKeyPress=new S,this.onKeyUp=new S,this.onMouseDown=new S,this.onMouseEnter=new S,this.onMouseLeave=new S,this.onMouseMove=new S,this.onMouseOut=new S,this.onMouseOver=new S,this.onMouseUp=new S,this.onPaste=new S,this.onSelectionChange=new S,this.onActivate=new S,this.onAddUndo=new S,this.onBeforeAddUndo=new S,this.onBeforeExecCommand=new S,this.onBeforeGetContent=new S,this.onBeforeRenderUI=new S,this.onBeforeSetContent=new S,this.onChange=new S,this.onClearUndos=new S,this.onDeactivate=new S,this.onDirty=new S,this.onExecCommand=new S,this.onGetContent=new S,this.onHide=new S,this.onInit=new S,this.onInitNgModel=new S,this.onLoadContent=new S,this.onNodeChange=new S,this.onPostProcess=new S,this.onPostRender=new S,this.onPreInit=new S,this.onPreProcess=new S,this.onProgressState=new S,this.onRedo=new S,this.onRemove=new S,this.onReset=new S,this.onResizeEditor=new S,this.onSaveContent=new S,this.onSetAttrib=new S,this.onObjectResizeStart=new S,this.onObjectResized=new S,this.onObjectSelected=new S,this.onSetContent=new S,this.onShow=new S,this.onSubmit=new S,this.onUndo=new S,this.onVisualAid=new S}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=L({type:t,outputs:{onBeforePaste:"onBeforePaste",onBlur:"onBlur",onClick:"onClick",onContextMenu:"onContextMenu",onCopy:"onCopy",onCut:"onCut",onDblclick:"onDblclick",onDrag:"onDrag",onDragDrop:"onDragDrop",onDragEnd:"onDragEnd",onDragGesture:"onDragGesture",onDragOver:"onDragOver",onDrop:"onDrop",onFocus:"onFocus",onFocusIn:"onFocusIn",onFocusOut:"onFocusOut",onKeyDown:"onKeyDown",onKeyPress:"onKeyPress",onKeyUp:"onKeyUp",onMouseDown:"onMouseDown",onMouseEnter:"onMouseEnter",onMouseLeave:"onMouseLeave",onMouseMove:"onMouseMove",onMouseOut:"onMouseOut",onMouseOver:"onMouseOver",onMouseUp:"onMouseUp",onPaste:"onPaste",onSelectionChange:"onSelectionChange",onActivate:"onActivate",onAddUndo:"onAddUndo",onBeforeAddUndo:"onBeforeAddUndo",onBeforeExecCommand:"onBeforeExecCommand",onBeforeGetContent:"onBeforeGetContent",onBeforeRenderUI:"onBeforeRenderUI",onBeforeSetContent:"onBeforeSetContent",onChange:"onChange",onClearUndos:"onClearUndos",onDeactivate:"onDeactivate",onDirty:"onDirty",onExecCommand:"onExecCommand",onGetContent:"onGetContent",onHide:"onHide",onInit:"onInit",onInitNgModel:"onInitNgModel",onLoadContent:"onLoadContent",onNodeChange:"onNodeChange",onPostProcess:"onPostProcess",onPostRender:"onPostRender",onPreInit:"onPreInit",onPreProcess:"onPreProcess",onProgressState:"onProgressState",onRedo:"onRedo",onRemove:"onRemove",onReset:"onReset",onResizeEditor:"onResizeEditor",onSaveContent:"onSaveContent",onSetAttrib:"onSetAttrib",onObjectResizeStart:"onObjectResizeStart",onObjectResized:"onObjectResized",onObjectSelected:"onObjectSelected",onSetContent:"onSetContent",onShow:"onShow",onSubmit:"onSubmit",onUndo:"onUndo",onVisualAid:"onVisualAid"}}),t})();const i5=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onResizeEditor","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],rv=(t,e,n)=>rn(t,e).pipe(pt(n)),s5=(t,e)=>"string"==typeof t?t.split(",").map(n=>n.trim()):Array.isArray(t)?t:e;let o5=0;const a5=t=>typeof t<"u"&&"textarea"===t.tagName.toLowerCase(),c5=t=>typeof t>"u"||""===t?[]:Array.isArray(t)?t:t.split(" "),g0e=(t,e)=>c5(t).concat(c5(e)),m0e=()=>{},u5=t=>null==t,_0e=(()=>{let t={script$:null};return{load:(r,i)=>t.script$||(t.script$=g1(()=>{const s=r.createElement("script");return s.referrerPolicy="origin",s.type="application/javascript",s.src=i,r.head.appendChild(s),rn(s,"load").pipe(un(1),y1(void 0))}).pipe(function u0e(t,e,n){let r,i=!1;return t&&"object"==typeof t?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t):r=t??1/0,zv({connector:()=>new c0e(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}({bufferSize:1,refCount:!0}))),reinitialize:()=>{t={script$:null}}}})(),d5=new Q("TINYMCE_SCRIPT_SRC"),y0e={provide:kr,useExisting:we(()=>hx),multi:!0};let hx=(()=>{class t extends d0e{constructor(n,r,i,s){super(),this.platformId=i,this.tinymceScriptSrc=s,this.cloudChannel="6",this.apiKey="no-api-key",this.id="",this.modelEvents="change input undo redo",this.onTouchedCallback=m0e,this.destroy$=new Le,this.initialise=()=>{const o={...this.init,selector:void 0,target:this._element,inline:this.inline,readonly:this.disabled,plugins:g0e(this.init&&this.init.plugins,this.plugins),toolbar:this.toolbar||this.init&&this.init.toolbar,setup:a=>{this._editor=a,rv(a,"init",this.destroy$).subscribe(()=>{this.initEditor(a)}),((t,e,n)=>{(t=>{const e=s5(t.ignoreEvents,[]);return s5(t.allowedEvents,i5).filter(r=>i5.includes(r)&&!e.includes(r))})(t).forEach(i=>{const s=t[i];rv(e,i.substring(2),n).subscribe(o=>{s.observers.length>0&&t.ngZone.run(()=>s.emit({event:o,editor:e}))})})})(this,a,this.destroy$),this.init&&"function"==typeof this.init.setup&&this.init.setup(a)}};a5(this._element)&&(this._element.style.visibility=""),this.ngZone.runOutsideAngular(()=>{nv().init(o)})},this._elementRef=n,this.ngZone=r}set disabled(n){this._disabled=n,this._editor&&this._editor.initialized&&("function"==typeof this._editor.mode?.set?this._editor.mode.set(n?"readonly":"design"):this._editor.setMode(n?"readonly":"design"))}get disabled(){return this._disabled}get editor(){return this._editor}writeValue(n){this._editor&&this._editor.initialized?this._editor.setContent(u5(n)?"":n):this.initialValue=null===n?void 0:n}registerOnChange(n){this.onChangeCallback=n}registerOnTouched(n){this.onTouchedCallback=n}setDisabledState(n){this.disabled=n}ngAfterViewInit(){(function Wee(t){return t===bL})(this.platformId)&&(this.id=this.id||(t=>{const n=(new Date).getTime(),r=Math.floor(1e9*Math.random());return o5++,"tiny-angular_"+r+o5+String(n)})(),this.inline=void 0!==this.inline?!1!==this.inline:!!this.init?.inline,this.createElement(),null!==nv()?this.initialise():this._element&&this._element.ownerDocument&&_0e.load(this._element.ownerDocument,this.getScriptSrc()).pipe(pt(this.destroy$)).subscribe(this.initialise))}ngOnDestroy(){this.destroy$.next(),null!==nv()&&nv().remove(this._editor)}createElement(){this._element=document.createElement(this.inline?"string"==typeof this.tagName?this.tagName:"div":"textarea"),this._element&&(document.getElementById(this.id)&&console.warn(`TinyMCE-Angular: an element with id [${this.id}] already exists. Editors with duplicate Id will not be able to mount`),this._element.id=this.id,a5(this._element)&&(this._element.style.visibility="hidden"),this._elementRef.nativeElement.appendChild(this._element))}getScriptSrc(){return u5(this.tinymceScriptSrc)?`https://cdn.tiny.cloud/1/${this.apiKey}/tinymce/${this.cloudChannel}/tinymce.min.js`:this.tinymceScriptSrc}initEditor(n){rv(n,"blur",this.destroy$).subscribe(()=>{this.ngZone.run(()=>this.onTouchedCallback())}),rv(n,this.modelEvents,this.destroy$).subscribe(()=>{this.ngZone.run(()=>this.emitOnChange(n))}),"string"==typeof this.initialValue&&this.ngZone.run(()=>{n.setContent(this.initialValue),n.getContent()!==this.initialValue&&this.emitOnChange(n),void 0!==this.onInitNgModel&&this.onInitNgModel.emit(n)})}emitOnChange(n){this.onChangeCallback&&this.onChangeCallback(n.getContent({format:this.outputFormat}))}}return t.\u0275fac=function(n){return new(n||t)(v(Ue),v(be),v(ps),v(d5,8))},t.\u0275cmp=yt({type:t,selectors:[["editor"]],inputs:{cloudChannel:"cloudChannel",apiKey:"apiKey",init:"init",id:"id",initialValue:"initialValue",outputFormat:"outputFormat",inline:"inline",tagName:"tagName",plugins:"plugins",toolbar:"toolbar",modelEvents:"modelEvents",allowedEvents:"allowedEvents",ignoreEvents:"ignoreEvents",disabled:"disabled"},standalone:!0,features:[tt([y0e]),je,Ar],decls:1,vars:0,template:function(n,r){1&n&&Z(0,l0e,0,0,"ng-template")},dependencies:[vu,Fye],styles:["[_nghost-%COMP%]{display:block}"]}),t})(),fx=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=De({type:t}),t.\u0275inj=ve({imports:[hx]}),t})();function v0e(t,e){1&t&&(R(0,"div",14),ne(1," Please fill in the title! "),P())}function b0e(t,e){if(1&t&&(R(0,"div"),Z(1,v0e,2,0,"div",13),P()),2&t){const n=ie();let r;K(1),W("ngIf",null==(r=n.recipeForm.get("title"))||null==r.errors?null:r.errors.required)}}function w0e(t,e){1&t&&(R(0,"div",14),ne(1," Please fill in the description! "),P())}function D0e(t,e){if(1&t&&(R(0,"div"),Z(1,w0e,2,0,"div",13),P()),2&t){const n=ie();let r;K(1),W("ngIf",null==(r=n.recipeForm.get("description"))||null==r.errors?null:r.errors.required)}}function I0e(t,e){if(1&t){const n=function ci(){return N()}();R(0,"div")(1,"p",7),ne(2,"You added a photo"),P(),Me(3,"input",15),R(4,"button",16),Ie("click",function(){return function Hr(t){return ae.lFrame.contextLView=t,t[Rt]}(n),function Gr(t){return ae.lFrame.contextLView=null,t}(ie().removeImage())}),ne(5," Remove added photo "),P()()}}let C0e=(()=>{class t{constructor(n,r){this.fb=n,this.editorConfig={},this.firestore=r,this.recipeForm=this.fb.group({title:["",[V4.required]],subtitle:[""],description:["",[V4.required]],is_active:[!1],image:[""]})}ngOnInit(){this.editorConfig={content_style:"body { background-color: #f6f4f9; }",content_css:"default",base_url:"/tinymce",suffix:".min",menubar:!1,height:300,toolbar:"undo redo | formatselect | bold italic backcolor |           alignleft aligncenter alignright alignjustify |           bullist numlist outdent indent | removeformat "}}onSubmit(){this.recipeForm.valid?(this.addRecipe(this.recipeForm.value),this.recipeForm.reset()):alert("form is invalid")}removeImage(){this.recipeForm.get("image")?.setValue("")}addImageToForm(n){this.recipeForm.get("image")?.setValue(n)}get image(){return this.recipeForm.get("image")}addRecipe(n){R_e(k4(this.firestore,"Recipe"),n).then(i=>{console.log("Document written with ID: ",i.id)}).catch(i=>{console.error("Error adding document: ",i)})}static#e=this.\u0275fac=function(r){return new(r||t)(v(Pye),v(wl))};static#t=this.\u0275cmp=yt({type:t,selectors:[["app-recipe-create"]],decls:24,vars:5,consts:[[1,"main-long"],[1,"wrapper"],[1,"title"],[3,"formGroup","ngSubmit"],["type","text","formControlName","title","required",""],[4,"ngIf"],["cols","30","rows","3","formControlName","subtitle","required",""],[1,"hint"],["formControlName","description",1,"tiny",3,"init"],[3,"imageUploaded"],["type","submit",1,"button"],["href","javascript:history.back()",1,"backBtn","button"],[1,"fa-solid","fa-backward","fa-beat-fade"],["class","errors",4,"ngIf"],[1,"errors"],["type","text","id","image","formControlName","image"],["type","button",3,"click"]],template:function(r,i){if(1&r&&(R(0,"main",0)(1,"div",1)(2,"h2",2),ne(3,"Create recipe"),P(),R(4,"form",3),Ie("ngSubmit",function(){return i.onSubmit()}),R(5,"label"),ne(6," Title (required): "),Me(7,"input",4),P(),Z(8,b0e,2,1,"div",5),R(9,"label"),ne(10," Subtitle: "),Me(11,"textarea",6),P(),R(12,"label")(13,"span",7),ne(14,"Description (required):"),P(),Me(15,"editor",8),P(),Z(16,D0e,2,1,"div",5),R(17,"app-image-upload",9),Ie("imageUploaded",function(o){return i.addImageToForm(o)}),P(),Z(18,I0e,6,0,"div",5),R(19,"button",10),ne(20,"Add Recipe"),P(),R(21,"a",11),Me(22,"i",12),ne(23,"\xa0\xa0Back"),P()()()()),2&r){let s,o,a;K(4),W("formGroup",i.recipeForm),K(4),W("ngIf",null==(s=i.recipeForm.get("title"))?null:s.touched),K(7),W("init",i.editorConfig),K(1),W("ngIf",null==(o=i.recipeForm.get("description"))?null:o.touched),K(2),W("ngIf",""!==(null==(a=i.recipeForm.get("image"))?null:a.value))}},dependencies:[Ds,Dz,ky,az,cz,Wy,zy,ZN,t0e,hx],styles:["form[_ngcontent-%COMP%]{max-width:600px;margin:0 auto 50px;padding:20px;background-color:var(--backgroundColor);border-radius:10px}label[_ngcontent-%COMP%]{display:block;margin-top:10px}input[type=text][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:10px;margin-top:5px;border:unset;border-bottom:1px solid var(--mainColor);border-color:var(--mainColor);background:var(--mainMagnoliaColor)}textarea[_ngcontent-%COMP%]{white-space:pre-wrap}input[type=text][_ngcontent-%COMP%]:focus-visible, input[type=number][_ngcontent-%COMP%]:focus-visible, select[_ngcontent-%COMP%]:focus-visible, textarea[_ngcontent-%COMP%]:focus-visible{outline:1px solid var(--secondColor);border:unset}button[_ngcontent-%COMP%]{width:100%;margin:10px 10px 10px 0}button[_ngcontent-%COMP%]:hover, .btn[_ngcontent-%COMP%]:hover{background-color:var(--secondColor);box-shadow:0 2px 4px #00000080}.tiny[_ngcontent-%COMP%]{margin:20px 0}"]})}return t})(),E0e=(()=>{class t{constructor(n){this.firestore=n}getRecipeById(n){var r=this;return y(function*(){const i=k_e(r.firestore,"Recipe",n),s=yield P_e(i);return s.exists()?s.data():null})()}static#e=this.\u0275fac=function(r){return new(r||t)(H(wl))};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function T0e(t,e){if(1&t&&(R(0,"div",9),ne(1),P()),2&t){const n=ie();K(1),ea(" ",null==n.recipe?null:n.recipe.subtitle," ")}}function S0e(t,e){1&t&&(R(0,"div"),Me(1,"br"),P())}function A0e(t,e){if(1&t&&(R(0,"div",10),Me(1,"img",11),P()),2&t){const n=ie();K(1),W("src",null==n.recipe?null:n.recipe.image,ag)}}function N0e(t,e){if(1&t&&(R(0,"div",12),Me(1,"div",13),P()),2&t){const n=ie();K(1),W("innerHTML",n.getTrustedHtml(),SR)}}function x0e(t,e){1&t&&(R(0,"div"),Me(1,"br"),P())}const M0e=[{path:"",pathMatch:"full",component:Eie},{path:"register",component:Iie},{path:"login",component:Cie},{path:"recipes-list",component:j_e},{path:"recipe-create",component:C0e},{path:"recipe/:id",component:(()=>{class t{constructor(n,r,i){var s=this;this.route=n,this.recipeService=r,this.sanitizer=i,this.recipe=null,this.recipeId="",this.route.paramMap.subscribe(function(){var o=y(function*(a){const c=a.get("id");if(s.recipeId=c,c)try{s.recipe=yield s.recipeService.getRecipeById(c),s.htmlText=s.recipe?.description}catch(u){console.error("An error occurred while retrieving the recipe:",u)}else console.error("Recipe ID not provided.")});return function(a){return o.apply(this,arguments)}}())}getTrustedHtml(){return this.sanitizer.bypassSecurityTrustHtml(this.htmlText)}static#e=this.\u0275fac=function(r){return new(r||t)(v(la),v(E0e),v($L))};static#t=this.\u0275cmp=yt({type:t,selectors:[["app-recipe"]],decls:12,vars:6,consts:[[1,"main-long"],[1,"recipe-container"],[1,"recipe-title"],["class","recipe-subtitle",4,"ngIf"],[4,"ngIf"],["class","recipe-image",4,"ngIf"],["class","recipe-description",4,"ngIf"],["href","javascript:history.back()",1,"backBtn","button"],[1,"fa-solid","fa-backward","fa-beat-fade"],[1,"recipe-subtitle"],[1,"recipe-image"],["alt","\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430",3,"src"],[1,"recipe-description"],[1,"recipe-description",3,"innerHTML"]],template:function(r,i){1&r&&(R(0,"div",0)(1,"div",1)(2,"h1",2),ne(3),P(),Z(4,T0e,2,1,"div",3),Z(5,S0e,2,0,"div",4),Z(6,A0e,2,1,"div",5),Z(7,N0e,2,1,"div",6),Z(8,x0e,2,0,"div",4),R(9,"a",7),Me(10,"i",8),ne(11,"\xa0\xa0Back"),P()()()),2&r&&(K(3),di(null==i.recipe?null:i.recipe.title),K(1),W("ngIf",null==i.recipe?null:i.recipe.subtitle),K(1),W("ngIf",!(null!=i.recipe&&i.recipe.subtitle)),K(1),W("ngIf",null==i.recipe?null:i.recipe.image),K(1),W("ngIf",null==i.recipe?null:i.recipe.description),K(1),W("ngIf",!(null!=i.recipe&&i.recipe.description)))},dependencies:[Ds],styles:[".recipe-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:20px}.recipe-title[_ngcontent-%COMP%]{font-size:26px;text-align:center;font-family:var(--titleFont)}.recipe-subtitle[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;text-align:center;font-style:italic;white-space:pre-wrap}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:5px}"]})}return t})()}];let O0e=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=De({type:t});static#n=this.\u0275inj=ve({imports:[ch.forRoot(M0e,{useHash:!0}),ch]})}return t})(),R0e=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=yt({type:t,selectors:[["app-footer"]],decls:22,vars:0,consts:[[1,"footer"],[1,"footer-links"],["href","/about"],["href","/contact"],["href","/terms"],["href","/privacy"],[1,"social-icons"],["href","https://www.facebook.com"],[1,"fa-brands","fa-facebook","fa-flip"],["href","https://www.twitter.com"],[1,"fa-brands","fa-x-twitter","fa-flip"],["href","https://www.instagram.com"],[1,"fa-brands","fa-instagram","fa-flip"],[1,"copyright"]],template:function(r,i){1&r&&(R(0,"footer",0)(1,"div",1)(2,"a",2),ne(3,"About Us"),P(),ne(4," | "),R(5,"a",3),ne(6,"Contact Us"),P(),ne(7," | "),R(8,"a",4),ne(9,"Terms of Service"),P(),ne(10," | "),R(11,"a",5),ne(12,"Privacy Policy"),P()(),R(13,"div",6)(14,"a",7),Me(15,"i",8),P(),R(16,"a",9),Me(17,"i",10),P(),R(18,"a",11),Me(19,"i",12),P()(),R(20,"div",13),ne(21," \xa9 2024 The Natural Way. All Rights Reserved. "),P()())},styles:[".footer[_ngcontent-%COMP%]{background-color:var(--backgroundColor);height:8vh;color:#40513b;text-align:center}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#40513b;text-decoration:none}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-right:10px}.social-icons[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}"]})}return t})(),k0e=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=yt({type:t,selectors:[["app-header"]],decls:45,vars:0,consts:[[1,"navbar","navbar-dark","navbar-expand-lg"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarScroll","aria-controls","navbarScroll","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarScroll",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","my-2","my-lg-0","navbar-nav-scroll",2,"--bs-scroll-height","350px"],[1,"nav-item"],["aria-current","page","href","#",1,"nav-btn","nav-link","active"],[1,"nav-item","dropdown"],["href","#","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-btn","nav-link","dropdown-toggle"],[1,"dropdown-menu"],["routerLink","/recipes-list",1,"dropdown-item"],["routerLink","/recipe-create",1,"dropdown-item"],[1,"dropdown-divider"],["href","#",1,"dropdown-item"],[1,"fa-solid","fa-user"],["routerLink","/register",1,"dropdown-item"],["routerLink","/login",1,"dropdown-item"],["role","search",1,"d-flex"],["type","search","aria-label","Search",1,"form-control","me-2"],["type","submit",1,"btn","search"]],template:function(r,i){1&r&&(R(0,"nav",0)(1,"div",1)(2,"a",2),ne(3," The Natural Way"),P(),R(4,"button",3),Me(5,"span",4),P(),R(6,"div",5)(7,"ul",6)(8,"li",7)(9,"a",8),ne(10,"Home"),P()(),R(11,"li",9)(12,"a",10),ne(13," Recipes "),P(),R(14,"ul",11)(15,"li")(16,"a",12),ne(17,"Recipes list"),P()(),R(18,"li")(19,"a",13),ne(20,"Recipe create"),P()(),R(21,"li"),Me(22,"hr",14),P(),R(23,"li")(24,"a",15),ne(25,"Something else here"),P()()()(),R(26,"li",9)(27,"a",10),Me(28,"i",16),P(),R(29,"ul",11)(30,"li")(31,"a",17),ne(32,"Register"),P()(),R(33,"li")(34,"a",18),ne(35,"Login"),P()(),R(36,"li"),Me(37,"hr",14),P(),R(38,"li")(39,"a",15),ne(40,"Something else here"),P()()()(),R(41,"form",19),Me(42,"input",20),R(43,"button",21),ne(44,"Search"),P()()()()()())},dependencies:[Au],styles:[".navbar[_ngcontent-%COMP%]{height:9vh;background-color:var(--backgroundColor)}.navbar-nav-scroll[_ngcontent-%COMP%]{position:relative;z-index:100}.navbar-expand-lg[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link.nav-btn[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]{border:1px solid var(--textColor);padding:5px 20px;background-color:var(--textColor);color:var(--backgroundColor);font-size:18px;font-weight:700;border-radius:8px}.navbar-toggler[_ngcontent-%COMP%]{background-color:var(--textColor);border:1px solid var(--backgroundColor)}.navbar-toggler[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem var(--textColor)}.navbar-nav[_ngcontent-%COMP%]{display:flex;gap:15px;border:1px solid var(--backgroundColor)}.container-fluid[_ngcontent-%COMP%]{max-width:1024px;color:var(--textColor)}.navbar-brand[_ngcontent-%COMP%]{font-family:Dancing Script,cursive;font-weight:900;font-size:32px;color:var(--textColor)}.btn[_ngcontent-%COMP%]:hover, .navbar-expand-lg[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link.nav-btn[_ngcontent-%COMP%]:hover{background-color:var(--backgroundColor);color:var(--textColor)}.navbar-nav[_ngcontent-%COMP%]{margin-left:auto}.form-control[_ngcontent-%COMP%]{border:1px solid var(--backgroundColor);border-radius:8px;background-color:#f6f4f9}.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{background-color:var(--backgroundColor)}.dropdown-item[_ngcontent-%COMP%]{color:var(--textColor)}.form-control[_ngcontent-%COMP%]:focus{border:1px solid var(--textColor);box-shadow:unset;outline:unset}.form-control[_ngcontent-%COMP%]:focus{border-color:var(--textColor)}.btn[_ngcontent-%COMP%]:active{border-color:var(--mainGreenColor)}.navbar-toggler[_ngcontent-%COMP%]   span.navbar-toggler-icon[_ngcontent-%COMP%]{color:var(--backgroundColor);background-color:var(--textColor)}.d-flex[_ngcontent-%COMP%]{padding:0 auto}.dropdown-item.active[_ngcontent-%COMP%], .dropdown-item[_ngcontent-%COMP%]:hover, .dropdown-item[_ngcontent-%COMP%]:focus{background-color:var(--textColor);color:var(--backgroundColor)}@media (max-width: 460px){.navbar-nav.me-auto.my-2.my-lg-0.navbar-nav-scroll[_ngcontent-%COMP%]{background-color:var(--backgroundColor);padding:20px;border-radius:8px}}@media (min-width: 461px) and (max-width: 767px){.navbar-nav.me-auto.my-2.my-lg-0.navbar-nav-scroll[_ngcontent-%COMP%]{background-color:var(--backgroundColor);padding:20px;border-radius:8px}}@media (min-width: 768px) and (max-width: 1023px){.navbar-nav.me-auto.my-2.my-lg-0.navbar-nav-scroll[_ngcontent-%COMP%]{background-color:var(--backgroundColor);padding:20px;border-radius:8px}}"]})}return t})(),P0e=(()=>{class t{constructor(){this.title="The-Natural-Way"}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=yt({type:t,selectors:[["app-root"]],decls:3,vars:0,template:function(r,i){1&r&&Me(0,"app-header")(1,"router-outlet")(2,"app-footer")},dependencies:[O1,R0e,k0e],styles:[".logo-svg[_ngcontent-%COMP%]{background-color:var(--mainGreenColor);min-height:80vh}"]})}return t})(),F0e=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=De({type:t});static#n=this.\u0275inj=ve({imports:[vu,ch]})}return t})(),h5=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=De({type:t});static#n=this.\u0275inj=ve({imports:[vu,fx,ch]})}return t})(),L0e=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=De({type:t}),t.\u0275inj=ve({imports:[[]]}),t})();const{isArray:B0e}=Array;function p5(t){return 1===t.length&&B0e(t[0])?t[0]:t}function px(...t){const e=mp(t),n=p5(t);return n.length?new Fe(r=>{let i=n.map(()=>[]),s=n.map(()=>!1);r.add(()=>{i=s=null});for(let o=0;!r.closed&&o<n.length;o++)Yt(n[o]).subscribe(rt(r,a=>{if(i[o].push(a),i.every(c=>c.length)){const c=i.map(u=>u.shift());r.next(e?e(...c):c),i.some((u,l)=>!u.length&&s[l])&&r.complete()}},()=>{s[o]=!0,!i[o].length&&r.complete()}));return()=>{i=s=null}}):Br}function gx(...t){const e=mp(t);return _t((n,r)=>{const i=t.length,s=new Array(i);let o=t.map(()=>!1),a=!1;for(let c=0;c<i;c++)Yt(t[c]).subscribe(rt(r,u=>{s[c]=u,!a&&!o[c]&&(o[c]=!0,(a=o.every(ni))&&(o=null))},Bo));n.subscribe(rt(r,c=>{if(a){const u=[c,...s];r.next(e?e(...u):u)}}))})}Math,Math,Math;const _we=["*"],qwe=["dialog"];function rc(t){return"string"==typeof t}function ic(t){return null!=t}function Al(t){return(t||document.body).getBoundingClientRect()}const q5={animation:!0,transitionTimerDelayMs:5},B1e=()=>{},{transitionTimerDelayMs:U1e}=q5,Jf=new Map,vr=(t,e,n,r)=>{let i=r.context||{};const s=Jf.get(e);if(s)switch(r.runningTransition){case"continue":return Br;case"stop":t.run(()=>s.transition$.complete()),i=Object.assign(s.context,i),Jf.delete(e)}const o=n(e,r.animation,i)||B1e;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return t.run(()=>o()),se(void 0).pipe(function L1e(t){return e=>new Fe(n=>e.subscribe({next:o=>t.run(()=>n.next(o)),error:o=>t.run(()=>n.error(o)),complete:()=>t.run(()=>n.complete())}))}(t));const a=new Le,c=new Le,u=a.pipe(function j0e(...t){return e=>Gd(e,se(...t))}(!0));Jf.set(e,{transition$:a,complete:()=>{c.next(),c.complete()},context:i});const l=function V1e(t){const{transitionDelay:e,transitionDuration:n}=window.getComputedStyle(t);return 1e3*(parseFloat(e)+parseFloat(n))}(e);return t.runOutsideAngular(()=>{const d=rn(e,"transitionend").pipe(pt(u),ln(({target:f})=>f===e));(function g5(...t){return 1===(t=p5(t)).length?Yt(t[0]):new Fe(function U0e(t){return e=>{let n=[];for(let r=0;n&&!e.closed&&r<t.length;r++)n.push(Yt(t[r]).subscribe(rt(e,i=>{if(n){for(let s=0;s<n.length;s++)s!==r&&n[s].unsubscribe();n=null}e.next(i)})))}}(t))})(function f5(t=0,e,n=lue){let r=-1;return null!=e&&(oM(e)?n=e:r=e),new Fe(i=>{let s=function V0e(t){return t instanceof Date&&!isNaN(t)}(t)?+t-n.now():t;s<0&&(s=0);let o=0;return n.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}(l+U1e).pipe(pt(u)),d,c).pipe(pt(u)).subscribe(()=>{Jf.delete(e),t.run(()=>{o(),a.next(),a.complete()})})}),a.asObservable()};let dv=(()=>{class t{constructor(){this.animation=q5.animation}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),n8=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=De({type:t});static#n=this.\u0275inj=ve({})}return t})(),r8=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=De({type:t});static#n=this.\u0275inj=ve({})}return t})(),o8=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=De({type:t});static#n=this.\u0275inj=ve({})}return t})(),a8=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=De({type:t});static#n=this.\u0275inj=ve({})}return t})();var nt=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}(nt||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const p8=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function g8(t){const e=Array.from(t.querySelectorAll(p8)).filter(n=>-1!==n.tabIndex);return[e[0],e[e.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let A8=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=De({type:t});static#n=this.\u0275inj=ve({})}return t})(),M8=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=De({type:t});static#n=this.\u0275inj=ve({})}return t})();class uc{constructor(e,n,r){this.nodes=e,this.viewRef=n,this.componentRef=r}}let BDe=(()=>{class t{constructor(n,r){this._el=n,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe(un(1)).subscribe(()=>{vr(this._zone,this._el.nativeElement,(n,r)=>{r&&Al(n),n.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return vr(this._zone,this._el.nativeElement,({classList:n})=>n.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(r){return new(r||t)(v(Ue),v(be))};static#t=this.\u0275cmp=yt({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(r,i){2&r&&(Xo("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),Be("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[Ar],decls:0,vars:0,template:function(r,i){},encapsulation:2})}return t})();class O8{update(e){}close(e){}dismiss(e){}}const UDe=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],jDe=["animation","backdropClass"];class $De{_applyWindowOptions(e,n){UDe.forEach(r=>{ic(n[r])&&(e[r]=n[r])})}_applyBackdropOptions(e,n){jDe.forEach(r=>{ic(n[r])&&(e[r]=n[r])})}update(e){this._applyWindowOptions(this._windowCmptRef.instance,e),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,e)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(pt(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(pt(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(e,n,r,i){this._windowCmptRef=e,this._contentRef=n,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new Le,this._dismissed=new Le,this._hidden=new Le,e.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,o)=>{this._resolve=s,this._reject=o}),this.result.then(null,()=>{})}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const n=this._beforeDismiss();!function G5(t){return t&&t.then}(n)?!1!==n&&this._dismiss(e):n.then(r=>{!1!==r&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():se(void 0);e.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),n.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),px(e,n).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Hx=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}(Hx||{});let HDe=(()=>{class t{constructor(n,r,i){this._document=n,this._elRef=r,this._zone=i,this._closed$=new Le,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new S,this.shown=new Le,this.hidden=new Le}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":rc(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(n){this.dismissEvent.emit(n)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(un(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:n}=this._elRef,r={animation:this.animation,runningTransition:"stop"},o=px(vr(this._zone,n,()=>n.classList.remove("show"),r),vr(this._zone,this._dialogEl.nativeElement,()=>{},r));return o.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),o}_show(){const n={animation:this.animation,runningTransition:"continue"};px(vr(this._zone,this._elRef.nativeElement,(s,o)=>{o&&Al(s),s.classList.add("show")},n),vr(this._zone,this._dialogEl.nativeElement,()=>{},n)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:n}=this._elRef;this._zone.runOutsideAngular(()=>{rn(n,"keydown").pipe(pt(this._closed$),ln(i=>i.which===nt.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(Hx.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;rn(this._dialogEl.nativeElement,"mousedown").pipe(pt(this._closed$),en(()=>r=!1),ri(()=>rn(n,"mouseup").pipe(pt(this._closed$),un(1))),ln(({target:i})=>n===i)).subscribe(()=>{r=!0}),rn(n,"click").pipe(pt(this._closed$)).subscribe(({target:i})=>{n===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(Hx.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:n}=this._elRef;if(!n.contains(document.activeElement)){const r=n.querySelector("[ngbAutofocus]"),i=g8(n)[0];(r||i||n).focus()}}_restoreFocus(){const n=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&n.contains(r)?r:n,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&vr(this._zone,this._elRef.nativeElement,({classList:n})=>(n.add("modal-static"),()=>n.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(r){return new(r||t)(v(Ft),v(Ue),v(be))};static#t=this.\u0275cmp=yt({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(r,i){if(1&r&&ra(qwe,7),2&r){let s;Ye(s=function Qe(){return function qJ(t,e){return t[Mi].queries[e].queryList}(N(),hO())}())&&(i._dialogEl=s.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(r,i){2&r&&(ze("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),Xo("modal d-block"+(i.windowClass?" "+i.windowClass:"")),Be("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[Ar],ngContentSelectors:_we,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(r,i){1&r&&(function dP(t){const e=N()[kt][kn];if(!e.projection){const r=e.projection=sd(t?t.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=t?pY(s,t):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}(),R(0,"div",0,1)(2,"div",2),function hP(t,e=0,n){const r=N(),i=xe(),s=eu(i,Ee+t,16,null,n||null);null===s.projection&&(s.projection=e),b0(),(!r[ls]||xc())&&32!=(32&s.flags)&&function fq(t,e,n){pR(e[de],0,e,n,q0(t,n,e),cR(n.parent||e[kn],n,e))}(i,r,s)}(3),P()()),2&r&&Xo("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+i.fullscreenClass+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return t})(),GDe=(()=>{class t{constructor(n){this._document=n}hide(){const n=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,i=r.style,{overflow:s,paddingRight:o}=i;if(n>0){const a=parseFloat(window.getComputedStyle(r).paddingRight);i.paddingRight=`${a+n}px`}return i.overflow="hidden",()=>{n>0&&(i.paddingRight=o),i.overflow=s}}static#e=this.\u0275fac=function(r){return new(r||t)(H(Ft))};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),zDe=(()=>{class t{constructor(n,r,i,s,o,a,c){this._applicationRef=n,this._injector=r,this._environmentInjector=i,this._document=s,this._scrollBar=o,this._rendererFactory=a,this._ngZone=c,this._activeWindowCmptHasChanged=new Le,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new S,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const u=this._windowCmpts[this._windowCmpts.length-1];((t,e,n,r=!1)=>{t.runOutsideAngular(()=>{const i=rn(e,"focusin").pipe(pt(n),Ae(s=>s.target));rn(e,"keydown").pipe(pt(n),ln(s=>s.which===nt.Tab),gx(i)).subscribe(([s,o])=>{const[a,c]=g8(e);(o===a||o===e)&&s.shiftKey&&(c.focus(),s.preventDefault()),o===c&&!s.shiftKey&&(a.focus(),s.preventDefault())}),r&&rn(e,"click").pipe(pt(n),gx(i),Ae(s=>s[1])).subscribe(s=>s.focus())})})(this._ngZone,u.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(u.location.nativeElement)}})}_restoreScrollBar(){const n=this._scrollBarRestoreFn;n&&(this._scrollBarRestoreFn=null,n())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(n,r,i){const s=i.container instanceof HTMLElement?i.container:ic(i.container)?this._document.querySelector(i.container):this._document.body,o=this._rendererFactory.createRenderer(null,null);if(!s)throw new Error(`The specified modal container "${i.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const a=new O8,c=(n=i.injector||n).get(lr,null)||this._environmentInjector,u=this._getContentRef(n,c,r,a,i);let l=!1!==i.backdrop?this._attachBackdrop(s):void 0,d=this._attachWindowComponent(s,u.nodes),h=new $De(d,u,l,i.beforeDismiss);return this._registerModalRef(h),this._registerWindowCmpt(d),h.hidden.pipe(un(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(o.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),a.close=f=>{h.close(f)},a.dismiss=f=>{h.dismiss(f)},a.update=f=>{h.update(f)},h.update(i),1===this._modalRefs.length&&o.addClass(this._document.body,"modal-open"),l&&l.instance&&l.changeDetectorRef.detectChanges(),d.changeDetectorRef.detectChanges(),h}get activeInstances(){return this._activeInstances}dismissAll(n){this._modalRefs.forEach(r=>r.dismiss(n))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(n){let r=Lw(BDe,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),n.appendChild(r.location.nativeElement),r}_attachWindowComponent(n,r){let i=Lw(HDe,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(i.hostView),n.appendChild(i.location.nativeElement),i}_getContentRef(n,r,i,s,o){return i?i instanceof bt?this._createFromTemplateRef(i,s):rc(i)?this._createFromString(i):this._createFromComponent(n,r,i,s,o):new uc([])}_createFromTemplateRef(n,r){const s=n.createEmbeddedView({$implicit:r,close(o){r.close(o)},dismiss(o){r.dismiss(o)}});return this._applicationRef.attachView(s),new uc([s.rootNodes],s)}_createFromString(n){const r=this._document.createTextNode(`${n}`);return new uc([[r]])}_createFromComponent(n,r,i,s,o){const c=Lw(i,{environmentInjector:r,elementInjector:Gt.create({providers:[{provide:O8,useValue:s}],parent:n})}),u=c.location.nativeElement;return o.scrollable&&u.classList.add("component-host-scrollable"),this._applicationRef.attachView(c.hostView),new uc([[u]],c.hostView,c)}_setAriaHidden(n){const r=n.parentElement;r&&n!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==n&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((n,r)=>{n?r.setAttribute("aria-hidden",n):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(n){const r=()=>{const i=this._modalRefs.indexOf(n);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(n),this._activeInstances.emit(this._modalRefs),n.result.then(r,r)}_registerWindowCmpt(n){this._windowCmpts.push(n),this._activeWindowCmptHasChanged.next(),n.onDestroy(()=>{const r=this._windowCmpts.indexOf(n);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(r){return new(r||t)(H(no),H(Gt),H(lr),H(Ft),H(GDe),H(bb),H(be))};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),WDe=(()=>{class t{constructor(n){this._ngbConfig=n,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(n){this._animation=n}static#e=this.\u0275fac=function(r){return new(r||t)(H(dv))};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),qDe=(()=>{class t{constructor(n,r,i){this._injector=n,this._modalStack=r,this._config=i}open(n,r={}){const i={...this._config,animation:this._config.animation,...r};return this._modalStack.open(this._injector,n,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(n){this._modalStack.dismissAll(n)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(r){return new(r||t)(H(Gt),H(zDe),H(WDe))};static#t=this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),R8=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=De({type:t});static#n=this.\u0275inj=ve({providers:[qDe]})}return t})(),F8=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=De({type:t});static#n=this.\u0275inj=ve({})}return t})(),G8=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=De({type:t});static#n=this.\u0275inj=ve({})}return t})(),z8=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=De({type:t});static#n=this.\u0275inj=ve({})}return t})(),W8=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=De({type:t});static#n=this.\u0275inj=ve({})}return t})(),q8=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=De({type:t});static#n=this.\u0275inj=ve({})}return t})(),K8=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=De({type:t});static#n=this.\u0275inj=ve({})}return t})(),Y8=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=De({type:t});static#n=this.\u0275inj=ve({})}return t})(),Q8=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=De({type:t});static#n=this.\u0275inj=ve({})}return t})(),J8=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=De({type:t});static#n=this.\u0275inj=ve({})}return t})();new Q("live announcer delay",{providedIn:"root",factory:function cIe(){return 100}});let Z8=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=De({type:t});static#n=this.\u0275inj=ve({})}return t})(),X8=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=De({type:t});static#n=this.\u0275inj=ve({})}return t})();const lIe=[n8,r8,o8,a8,A8,M8,R8,F8,X8,G8,z8,W8,q8,K8,Y8,Q8,J8,Z8];let dIe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=De({type:t});static#n=this.\u0275inj=ve({imports:[lIe,n8,r8,o8,a8,A8,M8,R8,F8,X8,G8,z8,W8,q8,K8,Y8,Q8,J8,Z8]})}return t})(),hIe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=De({type:t});static#n=this.\u0275inj=ve({imports:[vu,Lye,h5,fx,ch]})}return t})(),fIe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=De({type:t});static#n=this.\u0275inj=ve({imports:[vu]})}return t})(),pIe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=De({type:t,bootstrap:[P0e]});static#n=this.\u0275inj=ve({providers:[{provide:d5,useValue:"tinymce/tinymce.min.js"}],imports:[jte,O0e,F0e,h5,hIe,fIe,wue(()=>Due(tv_firebaseConfig)),O_e(()=>L_e()),L0e,dIe,fx]})}return t})();Bte().bootstrapModule(pIe).catch(t=>console.error(t))},614:()=>{const ye=":";const gp=function(D,...w){if(gp.translate){const x=gp.translate(D,w);D=x[0],w=x[1]}let E=Bv(D[0],D.raw[0]);for(let x=1;x<D.length;x++)E+=w[x-1]+Bv(D[x],D.raw[x]);return E},Qx=":";function Bv(D,w){return w.charAt(0)===Qx?D.substring(function Vl(D,w){for(let E=1,x=1;E<D.length;E++,x++)if("\\"===w[x])x++;else if(D[E]===ye)return E;throw new Error(`Unterminated $localize metadata block in "${w}".`)}(D,w)+1):D}globalThis.$localize=gp}},ye=>{var Hs=Gs=>ye(ye.s=Gs);Hs(614),Hs(734)}]);