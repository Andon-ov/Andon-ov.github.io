(self.webpackChunkThe_Natural_Way=self.webpackChunkThe_Natural_Way||[]).push([[179],{8726:(Ht,Ue,$)=>{"use strict";$.d(Ue,{Ot:()=>ye,ZF:()=>xt,hX:()=>Ce,z6:()=>ce});var b=$(4097),X=$(9468),u=$(559);class ye{constructor(rt){return rt}}class ce{constructor(){return(0,b.C6)()}}const ke=new X.OlP("angularfire2._apps"),Ee={provide:ye,useFactory:function we(st){return st&&1===st.length?st[0]:new ye((0,b.Mq)())},deps:[[new X.FiY,ke]]},re={provide:ce,deps:[[new X.FiY,ke]]};function ue(st){return(rt,yt)=>{const We=rt.runOutsideAngular(()=>st(yt));return new ye(We)}}let Ae=(()=>{class st{constructor(yt){(0,b.KN)("angularfire",u.q4.full,"core"),(0,b.KN)("angularfire",u.q4.full,"app"),(0,b.KN)("angular",X.q4F.full,yt.toString())}}return st.\u0275fac=function(yt){return new(yt||st)(X.LFG(X.Lbi))},st.\u0275mod=X.oAB({type:st}),st.\u0275inj=X.cJS({providers:[Ee,re]}),st})();function Ce(st,...rt){return{ngModule:Ae,providers:[{provide:ke,useFactory:ue(st),multi:!0,deps:[X.R0b,X.zs3,u.HU,...rt]}]}}const xt=(0,u.u3)(b.ZF,!0)},3477:(Ht,Ue,$)=>{"use strict";$.d(Ue,{gg:()=>FD,ET:()=>lA,Ab:()=>uA,vr:()=>dA,hJ:()=>hA,oe:()=>fA,JU:()=>pA,QT:()=>gA,PL:()=>mA,ad:()=>_A,b9:()=>yA,Xo:()=>vA,Cm:()=>cA,IO:()=>bA,pl:()=>wA,TQ:()=>IA,r7:()=>EA,ar:()=>TA});var b=$(559),X=$(9468),u=$(8726),ye=$(4097),ce=$(5861),he=$(229),we=$(7592),ke=$(7582),Ee=$(7879),re=$(6820);const an=function xt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Tt=new he.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),rt=new Ee.Yd("@firebase/auth");function We(n,...e){rt.logLevel<=Ee.in.ERROR&&rt.error(`Auth (${we.Jn}): ${n}`,...e)}function Oe(n,...e){throw vn(n,...e)}function _e(n,...e){return vn(n,...e)}function vn(n,...e){if("string"!=typeof n){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return Tt.create(n,...e)}function ut(n,e,...t){if(!n)throw vn(e,...t)}function sn(n){const e="INTERNAL ASSERTION FAILED: "+n;throw We(e),new Error(e)}function mn(n,e){n||sn(e)}function tr(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class Ze{constructor(e,t){this.shortDelay=e,this.longDelay=t,mn(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,he.uI)()||(0,he.b$)()}get(){return function Be(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Yn(){return"http:"===tr()||"https:"===tr()}()||(0,he.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class Ye{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void sn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void sn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void sn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const gt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},St=new Ze(3e4,6e4);function Xt(n,e,t,i){return tn.apply(this,arguments)}function tn(){return(tn=(0,ce.Z)(function*(n,e,t,i,l={}){return Ut(n,l,(0,ce.Z)(function*(){let p={},_={};i&&("GET"===e?_=i:p={body:JSON.stringify(i)});const T=(0,he.xO)(Object.assign({key:n.config.apiKey},_)).slice(1),F=yield n._getAdditionalHeaders();return F["Content-Type"]="application/json",n.languageCode&&(F["X-Firebase-Locale"]=n.languageCode),Ye.fetch()(cr(n,n.config.apiHost,t,T),Object.assign({method:e,headers:F,referrerPolicy:"no-referrer"},p))}))})).apply(this,arguments)}function Ut(n,e,t){return pt.apply(this,arguments)}function pt(){return(pt=(0,ce.Z)(function*(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},gt),e);try{const l=new xe(n),p=yield Promise.race([t(),l.promise]);l.clearNetworkTimeout();const _=yield p.json();if("needConfirmation"in _)throw De(n,"account-exists-with-different-credential",_);if(p.ok&&!("errorMessage"in _))return _;{const T=p.ok?_.errorMessage:_.error.message,[F,H]=T.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===F)throw De(n,"credential-already-in-use",_);if("EMAIL_EXISTS"===F)throw De(n,"email-already-in-use",_);if("USER_DISABLED"===F)throw De(n,"user-disabled",_);const ne=i[F]||F.toLowerCase().replace(/[_\s]+/g,"-");if(H)throw function Le(n,e,t){const i=Object.assign(Object.assign({},an()),{[e]:t});return new he.LL("auth","Firebase",i).create(e,{appName:n.name})}(n,ne,H);Oe(n,ne)}}catch(l){if(l instanceof he.ZR)throw l;Oe(n,"network-request-failed",{message:String(l)})}})).apply(this,arguments)}function cr(n,e,t,i){const l=`${e}${t}?${i}`;return n.config.emulator?function He(n,e){mn(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}(n.config,l):`${n.config.apiScheme}://${l}`}class xe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(_e(this.auth,"network-request-failed")),St.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function De(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const l=_e(n,e,i);return l.customData._tokenResponse=t,l}function mt(){return(mt=(0,ce.Z)(function*(n,e){return Xt(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function _n(){return(_n=(0,ce.Z)(function*(n,e){return Xt(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Sn(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function gr(){return(gr=(0,ce.Z)(function*(n,e=!1){const t=(0,he.m9)(n),i=yield t.getIdToken(e),l=Cr(i);ut(l&&l.exp&&l.auth_time&&l.iat,t.auth,"internal-error");const p="object"==typeof l.firebase?l.firebase:void 0,_=p?.sign_in_provider;return{claims:l,token:i,authTime:Sn(nn(l.auth_time)),issuedAtTime:Sn(nn(l.iat)),expirationTime:Sn(nn(l.exp)),signInProvider:_||null,signInSecondFactor:p?.sign_in_second_factor||null}})).apply(this,arguments)}function nn(n){return 1e3*Number(n)}function Cr(n){const[e,t,i]=n.split(".");if(void 0===e||void 0===t||void 0===i)return We("JWT malformed, contained fewer than 3 sections"),null;try{const l=(0,he.tV)(t);return l?JSON.parse(l):(We("Failed to decode base64 JWT payload"),null)}catch(l){return We("Caught error parsing JWT payload as JSON",l?.toString()),null}}function wn(n,e){return lr.apply(this,arguments)}function lr(){return(lr=(0,ce.Z)(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(i){throw i instanceof he.ZR&&function Wn({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})).apply(this,arguments)}class sr{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),i}{this.errorBackoff=3e4;const l=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout((0,ce.Z)(function*(){yield t.iteration()}),i)}iteration(){var e=this;return(0,ce.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class Vn{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sn(this.lastLoginAt),this.creationTime=Sn(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ei(n){return qt.apply(this,arguments)}function qt(){return qt=(0,ce.Z)(function*(n){var e;const t=n.auth,i=yield n.getIdToken(),l=yield wn(n,function br(n,e){return _n.apply(this,arguments)}(t,{idToken:i}));ut(l?.users.length,t,"internal-error");const p=l.users[0];n._notifyReloadListener(p);const _=null!==(e=p.providerUserInfo)&&void 0!==e&&e.length?function at(n){return n.map(e=>{var{providerId:t}=e,i=(0,ke._T)(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}(p.providerUserInfo):[],T=function jr(n,e){return[...n.filter(i=>!e.some(l=>l.providerId===i.providerId)),...e]}(n.providerData,_),ne=!!n.isAnonymous&&!(n.email&&p.passwordHash||T?.length),pe={uid:p.localId,displayName:p.displayName||null,photoURL:p.photoUrl||null,email:p.email||null,emailVerified:p.emailVerified||!1,phoneNumber:p.phoneNumber||null,tenantId:p.tenantId||null,providerData:T,metadata:new Vn(p.createdAt,p.lastLoginAt),isAnonymous:ne};Object.assign(n,pe)}),qt.apply(this,arguments)}function qr(){return(qr=(0,ce.Z)(function*(n){const e=(0,he.m9)(n);yield ei(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function nt(){return(nt=(0,ce.Z)(function*(n,e){const t=yield Ut(n,{},(0,ce.Z)(function*(){const i=(0,he.xO)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:p}=n.config,_=cr(n,l,"/v1/token",`key=${p}`),T=yield n._getAdditionalHeaders();return T["Content-Type"]="application/x-www-form-urlencoded",Ye.fetch()(_,{method:"POST",headers:T,body:i})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class At{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ut(e.idToken,"internal-error"),ut(typeof e.idToken<"u","internal-error"),ut(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Sr(n){const e=Cr(n);return ut(e,"internal-error"),ut(typeof e.exp<"u","internal-error"),ut(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var i=this;return(0,ce.Z)(function*(){return ut(!i.accessToken||i.refreshToken,e,"user-token-expired"),t||!i.accessToken||i.isExpired?i.refreshToken?(yield i.refresh(e,i.refreshToken),i.accessToken):null:i.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var i=this;return(0,ce.Z)(function*(){const{accessToken:l,refreshToken:p,expiresIn:_}=yield function Ne(n,e){return nt.apply(this,arguments)}(e,t);i.updateTokensAndExpiration(l,p,Number(_))})()}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(e,t){const{refreshToken:i,accessToken:l,expirationTime:p}=t,_=new At;return i&&(ut("string"==typeof i,"internal-error",{appName:e}),_.refreshToken=i),l&&(ut("string"==typeof l,"internal-error",{appName:e}),_.accessToken=l),p&&(ut("number"==typeof p,"internal-error",{appName:e}),_.expirationTime=p),_}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new At,this.toJSON())}_performRefresh(){return sn("not implemented")}}function zt(n,e){ut("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class Zt{constructor(e){var{uid:t,auth:i,stsTokenManager:l}=e,p=(0,ke._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=p.displayName||null,this.email=p.email||null,this.emailVerified=p.emailVerified||!1,this.phoneNumber=p.phoneNumber||null,this.photoURL=p.photoURL||null,this.isAnonymous=p.isAnonymous||!1,this.tenantId=p.tenantId||null,this.providerData=p.providerData?[...p.providerData]:[],this.metadata=new Vn(p.createdAt||void 0,p.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,ce.Z)(function*(){const i=yield wn(t,t.stsTokenManager.getToken(t.auth,e));return ut(i,t.auth,"internal-error"),t.accessToken!==i&&(t.accessToken=i,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),i})()}getIdTokenResult(e){return function fn(n){return gr.apply(this,arguments)}(this,e)}reload(){return function Wi(n){return qr.apply(this,arguments)}(this)}_assign(e){this!==e&&(ut(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Zt(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ut(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var i=this;return(0,ce.Z)(function*(){let l=!1;e.idToken&&e.idToken!==i.stsTokenManager.accessToken&&(i.stsTokenManager.updateFromServerResponse(e),l=!0),t&&(yield ei(i)),yield i.auth._persistUserIfCurrent(i),l&&i.auth._notifyListenersIfCurrent(i)})()}delete(){var e=this;return(0,ce.Z)(function*(){const t=yield e.getIdToken();return yield wn(e,function Xe(n,e){return mt.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,l,p,_,T,F,H,ne;const pe=null!==(i=t.displayName)&&void 0!==i?i:void 0,$e=null!==(l=t.email)&&void 0!==l?l:void 0,ft=null!==(p=t.phoneNumber)&&void 0!==p?p:void 0,Ft=null!==(_=t.photoURL)&&void 0!==_?_:void 0,ln=null!==(T=t.tenantId)&&void 0!==T?T:void 0,hn=null!==(F=t._redirectEventId)&&void 0!==F?F:void 0,Dr=null!==(H=t.createdAt)&&void 0!==H?H:void 0,Xr=null!==(ne=t.lastLoginAt)&&void 0!==ne?ne:void 0,{uid:kr,emailVerified:Jo,isAnonymous:Ro,providerData:rs,stsTokenManager:zc}=t;ut(kr&&zc,e,"internal-error");const Qg=At.fromJSON(this.name,zc);ut("string"==typeof kr,e,"internal-error"),zt(pe,e.name),zt($e,e.name),ut("boolean"==typeof Jo,e,"internal-error"),ut("boolean"==typeof Ro,e,"internal-error"),zt(ft,e.name),zt(Ft,e.name),zt(ln,e.name),zt(hn,e.name),zt(Dr,e.name),zt(Xr,e.name);const Xw=new Zt({uid:kr,auth:e,email:$e,emailVerified:Jo,displayName:pe,isAnonymous:Ro,photoURL:Ft,phoneNumber:ft,tenantId:ln,stsTokenManager:Qg,createdAt:Dr,lastLoginAt:Xr});return rs&&Array.isArray(rs)&&(Xw.providerData=rs.map(DA=>Object.assign({},DA))),hn&&(Xw._redirectEventId=hn),Xw}static _fromIdTokenResponse(e,t,i=!1){return(0,ce.Z)(function*(){const l=new At;l.updateFromServerResponse(t);const p=new Zt({uid:t.localId,auth:e,stsTokenManager:l,isAnonymous:i});return yield ei(p),p})()}}const qn=new Map;function J(n){mn(n instanceof Function,"Expected a class definition");let e=qn.get(n);return e?(mn(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,qn.set(n,e),e)}const j=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,ce.Z)(function*(){return!0})()}_set(t,i){var l=this;return(0,ce.Z)(function*(){l.storage[t]=i})()}_get(t){var i=this;return(0,ce.Z)(function*(){const l=i.storage[t];return void 0===l?null:l})()}_remove(t){var i=this;return(0,ce.Z)(function*(){delete i.storage[t]})()}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})();function q(n,e,t){return`firebase:${n}:${e}:${t}`}class z{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:l,name:p}=this.auth;this.fullUserKey=q(this.userKey,l.apiKey,p),this.fullPersistenceKey=q("persistence",l.apiKey,p),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,ce.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Zt._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,ce.Z)(function*(){if(t.persistence===e)return;const i=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,i?t.setCurrentUser(i):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return(0,ce.Z)(function*(){if(!t.length)return new z(J(j),e,i);const l=(yield Promise.all(t.map(function(){var H=(0,ce.Z)(function*(ne){if(yield ne._isAvailable())return ne});return function(ne){return H.apply(this,arguments)}}()))).filter(H=>H);let p=l[0]||J(j);const _=q(i,e.config.apiKey,e.name);let T=null;for(const H of t)try{const ne=yield H._get(_);if(ne){const pe=Zt._fromJSON(e,ne);H!==p&&(T=pe),p=H;break}}catch{}const F=l.filter(H=>H._shouldAllowMigration);return p._shouldAllowMigration&&F.length?(p=F[0],T&&(yield p._set(_,T.toJSON())),yield Promise.all(t.map(function(){var H=(0,ce.Z)(function*(ne){if(ne!==p)try{yield ne._remove(_)}catch{}});return function(ne){return H.apply(this,arguments)}}())),new z(p,e,i)):new z(p,e,i)})()}}function Te(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function dn(n=(0,he.z$)()){return/iemobile/i.test(n)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function Je(n=(0,he.z$)()){return/firefox\//i.test(n)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function Yt(n=(0,he.z$)()){return/blackberry/i.test(n)}(e))return"Blackberry";if(function Un(n=(0,he.z$)()){return/webos/i.test(n)}(e))return"Webos";if(function Dt(n=(0,he.z$)()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function un(n=(0,he.z$)()){return/crios\//i.test(n)}(e))&&!e.includes("edge/"))return"Chrome";if(function Bn(n=(0,he.z$)()){return/android/i.test(n)}(e))return"Android";{const i=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===i?.length)return i[1]}return"Other"}function ka(n,e=[]){let t;switch(n){case"Browser":t=Te((0,he.z$)());break;case"Worker":t=`${Te((0,he.z$)())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${we.Jn}/${i}`}function lo(n,e){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,ce.Z)(function*(n,e){return Xt(n,"GET","/v2/recaptchaConfig",function Lt(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}(n,e))})).apply(this,arguments)}function ir(n){return void 0!==n&&void 0!==n.enterprise}class uo{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}class Fs{constructor(e){this.type="recaptcha-enterprise",this.auth=mi(e)}verify(e="verify",t=!1){var i=this;return(0,ce.Z)(function*(){function p(){return p=(0,ce.Z)(function*(T){if(!t){if(null==T.tenantId&&null!=T._agentRecaptchaConfig)return T._agentRecaptchaConfig.siteKey;if(null!=T.tenantId&&void 0!==T._tenantRecaptchaConfigs[T.tenantId])return T._tenantRecaptchaConfigs[T.tenantId].siteKey}return new Promise(function(){var F=(0,ce.Z)(function*(H,ne){lo(T,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(pe=>{if(void 0!==pe.recaptchaKey){const $e=new uo(pe);return null==T.tenantId?T._agentRecaptchaConfig=$e:T._tenantRecaptchaConfigs[T.tenantId]=$e,H($e.siteKey)}ne(new Error("recaptcha Enterprise site key undefined"))}).catch(pe=>{ne(pe)})});return function(H,ne){return F.apply(this,arguments)}}())}),p.apply(this,arguments)}function _(T,F,H){const ne=window.grecaptcha;ir(ne)?ne.enterprise.ready(()=>{ne.enterprise.execute(T,{action:e}).then(pe=>{F(pe)}).catch(()=>{F("NO_RECAPTCHA")})}):H(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((T,F)=>{(function l(T){return p.apply(this,arguments)})(i.auth).then(H=>{if(!t&&ir(window.grecaptcha))_(H,T,F);else{if(typeof window>"u")return void F(new Error("RecaptchaVerifier is only supported in browser"));(function Xo(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=l=>{const p=_e("internal-error");p.customData=l,t(p)},i.type="text/javascript",i.charset="UTF-8",function Qo(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(i)})})("https://www.google.com/recaptcha/enterprise.js?render="+H).then(()=>{_(H,T,F)}).catch(ne=>{F(ne)})}}).catch(H=>{F(H)})})})()}}class ho{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=p=>new Promise((_,T)=>{try{_(e(p))}catch(F){T(F)}});i.onAbort=t,this.queue.push(i);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return(0,ce.Z)(function*(){if(t.auth.currentUser===e)return;const i=[];try{for(const l of t.queue)yield l(e),l.onAbort&&i.push(l.onAbort)}catch(l){i.reverse();for(const p of i)try{p()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:l?.message})}})()}}class wa{constructor(e,t,i,l){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ia(this),this.idTokenSubscription=new Ia(this),this.beforeStateQueue=new ho(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Tt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion}_initializeWithPersistence(e,t){var i=this;return t&&(this._popupRedirectResolver=J(t)),this._initializationPromise=this.queue((0,ce.Z)(function*(){var l,p;if(!i._deleted&&(i.persistenceManager=yield z.create(i,e),!i._deleted)){if(null!==(l=i._popupRedirectResolver)&&void 0!==l&&l._shouldInitProactively)try{yield i._popupRedirectResolver._initialize(i)}catch{}yield i.initializeCurrentUser(t),i.lastNotifiedUid=(null===(p=i.currentUser)||void 0===p?void 0:p.uid)||null,!i._deleted&&(i._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,ce.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return(0,ce.Z)(function*(){var i;const l=yield t.assertedPersistence.getCurrentUser();let p=l,_=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const T=null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId,F=p?._redirectEventId,H=yield t.tryRedirectSignIn(e);(!T||T===F)&&H?.user&&(p=H.user,_=!0)}if(!p)return t.directlySetCurrentUser(null);if(!p._redirectEventId){if(_)try{yield t.beforeStateQueue.runMiddleware(p)}catch(T){p=l,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(T))}return p?t.reloadAndSetCurrentUserOrClear(p):t.directlySetCurrentUser(null)}return ut(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===p._redirectEventId?t.directlySetCurrentUser(p):t.reloadAndSetCurrentUserOrClear(p)})()}tryRedirectSignIn(e){var t=this;return(0,ce.Z)(function*(){let i=null;try{i=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return i})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,ce.Z)(function*(){try{yield ei(e)}catch(i){if("auth/network-request-failed"!==i?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function je(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return(0,ce.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,ce.Z)(function*(){const i=e?(0,he.m9)(e):null;return i&&ut(i.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(i&&i._clone(t))})()}_updateCurrentUser(e,t=!1){var i=this;return(0,ce.Z)(function*(){if(!i._deleted)return e&&ut(i.tenantId===e.tenantId,i,"tenant-id-mismatch"),t||(yield i.beforeStateQueue.runMiddleware(e)),i.queue((0,ce.Z)(function*(){yield i.directlySetCurrentUser(e),i.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,ce.Z)(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue((0,ce.Z)(function*(){yield t.assertedPersistence.setPersistence(J(e))}))}initializeRecaptchaConfig(){var e=this;return(0,ce.Z)(function*(){const t=yield lo(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),i=new uo(t);null==e.tenantId?e._agentRecaptchaConfig=i:e._tenantRecaptchaConfigs[e.tenantId]=i,i.emailPasswordEnabled&&new Fs(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new he.LL("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var i=this;return(0,ce.Z)(function*(){const l=yield i.getOrInitRedirectPersistenceManager(t);return null===e?l.removeCurrentUser():l.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,ce.Z)(function*(){if(!t.redirectPersistenceManager){const i=e&&J(e)||t._popupRedirectResolver;ut(i,t,"argument-error"),t.redirectPersistenceManager=yield z.create(t,[J(i._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,ce.Z)(function*(){var i,l;return t._isInitialized&&(yield t.queue((0,ce.Z)(function*(){}))),(null===(i=t._currentUser)||void 0===i?void 0:i._redirectEventId)===e?t._currentUser:(null===(l=t.redirectUser)||void 0===l?void 0:l._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,ce.Z)(function*(){if(e===t.currentUser)return t.queue((0,ce.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,l){if(this._deleted)return()=>{};const p="function"==typeof t?t:t.next.bind(t),_=this._isInitialized?Promise.resolve():this._initializationPromise;return ut(_,this,"internal-error"),_.then(()=>p(this.currentUser)),"function"==typeof t?e.addObserver(t,i,l):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return(0,ce.Z)(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ut(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ka(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,ce.Z)(function*(){var t;const i={"X-Client-Version":e.clientVersion};e.app.options.appId&&(i["X-Firebase-gmpid"]=e.app.options.appId);const l=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();l&&(i["X-Firebase-Client"]=l);const p=yield e._getAppCheckToken();return p&&(i["X-Firebase-AppCheck"]=p),i})()}_getAppCheckToken(){var e=this;return(0,ce.Z)(function*(){var t;const i=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return i?.error&&function yt(n,...e){rt.logLevel<=Ee.in.WARN&&rt.warn(`Auth (${we.Jn}): ${n}`,...e)}(`Error while retrieving App Check token: ${i.error}`),i?.token})()}}function mi(n){return(0,he.m9)(n)}class Ia{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,he.ne)(t=>this.observer=t)}get next(){return ut(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function Fa(n){return`__${n}${Math.floor(1e6*Math.random())}`})("rcb"),new Ze(3e4,6e4),new Ze(2e3,1e4),new Ze(3e4,6e4),new Ze(5e3,15e3),encodeURIComponent("fac");var J_="@firebase/auth";class Q_{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,ce.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ut(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,he.Pz)("authIdTokenMaxAge"),function ua(n){(0,we.Xd)(new re.wA("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),p=e.getProvider("app-check-internal"),{apiKey:_,authDomain:T}=i.options;ut(_&&!_.includes(":"),"invalid-api-key",{appName:i.name});const F={apiKey:_,authDomain:T,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ka(n)},H=new wa(i,l,p,F);return function fo(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(J);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}(H,t),H},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),(0,we.Xd)(new re.wA("auth-internal",e=>{const t=mi(e.getProvider("auth").getImmediate());return new Q_(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,we.KN)(J_,"0.23.2",function a0(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),(0,we.KN)(J_,"0.23.2","esm2017")}("Browser");class l0{constructor(){return(0,b.vb)("auth")}}const Ed=new Map,mm={activated:!1,tokenObservers:[]},iI={initialized:!1,enabled:!1};function Os(n){return Ed.get(n)||Object.assign({},mm)}function Td(){return iI}const _m="https://content-firebaseappcheck.googleapis.com/v1",Tp="exchangeDebugToken",ry={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class sI{constructor(e,t,i,l,p){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=l,this.upperBound=p,this.pending=null,this.nextErrorWaitInterval=l,l>p)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ce.Z)(function*(){t.stop();try{t.pending=new he.BH,yield function iy(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new he.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const zo=new he.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function vm(n){if(!Os(n).activated)throw zo.create("use-before-activation",{appName:n.name})}function tf(n,e){return th.apply(this,arguments)}function th(){return(th=(0,ce.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},l=t.getImmediate({optional:!0});if(l){const pe=yield l.getHeartbeatsHeader();pe&&(i["X-Firebase-Client"]=pe)}const p={method:"POST",body:JSON.stringify(e),headers:i};let _,T;try{_=yield fetch(n,p)}catch(pe){throw zo.create("fetch-network-error",{originalErrorMessage:pe?.message})}if(200!==_.status)throw zo.create("fetch-status-error",{httpStatus:_.status});try{T=yield _.json()}catch(pe){throw zo.create("fetch-parse-error",{originalErrorMessage:pe?.message})}const F=T.ttl.match(/^([\d.]+)(s)$/);if(!F||!F[2]||isNaN(Number(F[1])))throw zo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${T.ttl}`});const H=1e3*Number(F[1]),ne=Date.now();return{token:T.token,expireTimeMillis:ne+H,issuedAtTimeMillis:ne}})).apply(this,arguments)}function w0(n,e){const{projectId:t,appId:i,apiKey:l}=n.options;return{url:`${_m}/projects/${t}/apps/${i}:${Tp}?key=${l}`,body:{debug_token:e}}}const oI="firebase-app-check-database",Ei=1,nf="firebase-app-check-store";let Ku=null;function Im(){return(Im=(0,ce.Z)(function*(n,e){const i=(yield function nh(){return Ku||(Ku=new Promise((n,e)=>{try{const t=indexedDB.open(oI,Ei);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var l;e(zo.create("storage-open",{originalErrorMessage:null===(l=i.target.error)||void 0===l?void 0:l.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(nf,{keyPath:"compositeKey"})}}catch(t){e(zo.create("storage-open",{originalErrorMessage:t?.message}))}}),Ku)}()).transaction(nf,"readwrite"),p=i.objectStore(nf).put({compositeKey:n,value:e});return new Promise((_,T)=>{p.onsuccess=F=>{_()},i.onerror=F=>{var H;T(zo.create("storage-set",{originalErrorMessage:null===(H=F.target.error)||void 0===H?void 0:H.message}))}})})).apply(this,arguments)}const rh=new Ee.Yd("@firebase/app-check");function Np(n,e){return(0,he.hl)()?function wm(n,e){return function Ap(n,e){return Im.apply(this,arguments)}(function cy(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{rh.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Mp(){return Td().enabled}function Em(){return Yu.apply(this,arguments)}function Yu(){return(Yu=(0,ce.Z)(function*(){const n=Td();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const D0={error:"UNKNOWN_ERROR"};function cI(n){return he.US.encodeString(JSON.stringify(n),!1)}function uy(n){return ih.apply(this,arguments)}function ih(){return(ih=(0,ce.Z)(function*(n,e=!1){const t=n.app;vm(t);const i=Os(t);let p,l=i.token;if(l&&!fu(l)&&(i.token=void 0,l=void 0),!l){const F=yield i.cachedTokenPromise;F&&(fu(F)?l=F:yield Np(t,void 0))}if(!e&&l&&fu(l))return{token:l.token};let T,_=!1;if(Mp()){i.exchangeTokenPromise||(i.exchangeTokenPromise=tf(w0(t,yield Em()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),_=!0);const F=yield i.exchangeTokenPromise;return yield Np(t,F),i.token=F,{token:F.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),_=!0),l=yield Os(t).exchangeTokenPromise}catch(F){"appCheck/throttled"===F.code?rh.warn(F.message):rh.error(F),p=F}return l?p?T=fu(l)?{token:l.token,internalError:p}:C0(p):(T={token:l.token},i.token=l,yield Np(t,l)):T=C0(p),_&&function kp(n,e){const t=Os(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}(t,T),T})).apply(this,arguments)}function dy(n){return xp.apply(this,arguments)}function xp(){return(xp=(0,ce.Z)(function*(n){const e=n.app;vm(e);const{provider:t}=Os(e);if(Mp()){const i=yield Em(),{token:l}=yield tf(w0(e,i),n.heartbeatServiceProvider);return{token:l}}{const{token:i}=yield t.getToken();return{token:i}}})).apply(this,arguments)}function Pp(n,e){const t=Os(n),i=t.tokenObservers.filter(l=>l.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function Tm(n){const{app:e}=n,t=Os(e);let i=t.tokenRefresher;i||(i=function hy(n){const{app:e}=n;return new sI((0,ce.Z)(function*(){let i;if(i=Os(e).token?yield uy(n,!0):yield uy(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=Os(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},ry.RETRIAL_MIN_WAIT,ry.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function fu(n){return n.expireTimeMillis-Date.now()>0}function C0(n){return{token:cI(D0),error:n}}class S0{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Os(this.app);for(const t of e)Pp(this.app,t.next);return Promise.resolve()}}const gI="app-check-internal";!function Bp(){(0,we.Xd)(new re.wA("app-check",n=>function fy(n,e){return new S0(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(gI).initialize()})),(0,we.Xd)(new re.wA(gI,n=>function lI(n){return{getToken:e=>uy(n,e),getLimitedUseToken:()=>dy(n),addTokenListener:e=>function Rp(n,e,t,i){const{app:l}=n,p=Os(l);if(p.tokenObservers=[...p.tokenObservers,{next:t,error:i,type:e}],p.token&&fu(p.token)){const T=p.token;Promise.resolve().then(()=>{t({token:T.token}),Tm(n)}).catch(()=>{})}p.cachedTokenPromise.then(()=>Tm(n))}(n,"INTERNAL",e),removeTokenListener:e=>Pp(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,we.KN)("@firebase/app-check","0.8.0")}();class pu{constructor(){return(0,b.vb)("app-check")}}typeof window<"u"&&window;var cn,_I=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Sl={},yI=yI||{},fr=_I||self;function k0(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function df(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var vI="closure_uid_"+(1e9*Math.random()>>>0),HD=0;function bI(n,e,t){return n.call.apply(n.bind,arguments)}function RT(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,i),n.apply(e,l)}}return function(){return n.apply(e,arguments)}}function fa(n,e,t){return(fa=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?bI:RT).apply(null,arguments)}function Om(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function pa(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,l,p){for(var _=Array(arguments.length-2),T=2;T<arguments.length;T++)_[T-2]=arguments[T];return e.prototype[l].apply(i,_)}}function gu(){this.s=this.s,this.o=this.o}gu.prototype.s=!1,gu.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function F0(n){Object.prototype.hasOwnProperty.call(n,vI)&&n[vI]||(n[vI]=++HD)}(this)},gu.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const hf=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Gp(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function $p(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(k0(i)){const l=n.length||0,p=i.length||0;n.length=l+p;for(let _=0;_<p;_++)n[l+_]=i[_]}else n.push(i)}}function Ys(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Ys.prototype.h=function(){this.defaultPrevented=!0};var L0=function(){if(!fr.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{fr.addEventListener("test",()=>{},e),fr.removeEventListener("test",()=>{},e)}catch{}return n}();function Al(n){return/^[\s\xa0]*$/.test(n)}function zp(){var n=fr.navigator;return n&&(n=n.userAgent)?n:""}function Qc(n){return-1!=zp().indexOf(n)}function Nm(n){return Nm[" "](n),n}Nm[" "]=function(){};var Mm,n,II=Qc("Opera"),ff=Qc("Trident")||Qc("MSIE"),Wp=Qc("Edge"),B0=Wp||ff,EI=Qc("Gecko")&&!(-1!=zp().toLowerCase().indexOf("webkit")&&!Qc("Edge"))&&!(Qc("Trident")||Qc("MSIE"))&&!Qc("Edge"),qp=-1!=zp().toLowerCase().indexOf("webkit")&&!Qc("Edge");function pf(){var n=fr.document;return n?n.documentMode:void 0}e:{var Zp="",Kp=(n=zp(),EI?/rv:([^\);]+)(\)|;)/.exec(n):Wp?/Edge\/([\d\.]+)/.exec(n):ff?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):qp?/WebKit\/(\S+)/.exec(n):II?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Kp&&(Zp=Kp?Kp[1]:""),ff){var Yp=pf();if(null!=Yp&&Yp>parseFloat(Zp)){Mm=String(Yp);break e}}Mm=Zp}var U0=fr.document&&ff&&(pf()||parseInt(Mm,10))||void 0;function Xc(n,e){if(Ys.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(EI){e:{try{Nm(e.nodeName);var l=!0;break e}catch{}l=!1}l||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Jp[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Xc.$.h.call(this)}}pa(Xc,Ys);var Jp={2:"touch",3:"pen",4:"mouse"};Xc.prototype.h=function(){Xc.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var mu="closure_listenable_"+(1e6*Math.random()|0),TI=0;function by(n,e,t,i,l){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=l,this.key=++TI,this.fa=this.ia=!1}function Qp(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Rm(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function DI(n){const e={};for(const t in n)e[t]=n[t];return e}const wy="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gf(n,e){let t,i;for(let l=1;l<arguments.length;l++){for(t in i=arguments[l],i)n[t]=i[t];for(let p=0;p<wy.length;p++)t=wy[p],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function Pm(n){this.src=n,this.g={},this.h=0}function mf(n,e){var t=e.type;if(t in n.g){var p,i=n.g[t],l=hf(i,e);(p=0<=l)&&Array.prototype.splice.call(i,l,1),p&&(Qp(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function ah(n,e,t,i){for(var l=0;l<n.length;++l){var p=n[l];if(!p.fa&&p.listener==e&&p.capture==!!t&&p.la==i)return l}return-1}Pm.prototype.add=function(n,e,t,i,l){var p=n.toString();(n=this.g[p])||(n=this.g[p]=[],this.h++);var _=ah(n,e,i,l);return-1<_?(e=n[_],t||(e.ia=!1)):((e=new by(e,this.src,p,!!i,l)).ia=t,n.push(e)),e};var kc="closure_lm_"+(1e6*Math.random()|0),Qu={};function Xp(n,e,t,i,l){if(i&&i.once)return H0(n,e,t,i,l);if(Array.isArray(e)){for(var p=0;p<e.length;p++)Xp(n,e[p],t,i,l);return null}return t=G0(t),n&&n[mu]?n.O(e,t,df(i)?!!i.capture:!!i,l):Iy(n,e,t,!1,i,l)}function Iy(n,e,t,i,l,p){if(!e)throw Error("Invalid event type");var _=df(l)?!!l.capture:!!l,T=Fm(n);if(T||(n[kc]=T=new Pm(n)),(t=T.add(e,t,i,_,p)).proxy)return t;if(i=function V0(){const e=CI;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)L0||(l=_),void 0===l&&(l=!1),n.addEventListener(e.toString(),i,l);else if(n.attachEvent)n.attachEvent(j0(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function H0(n,e,t,i,l){if(Array.isArray(e)){for(var p=0;p<e.length;p++)H0(n,e[p],t,i,l);return null}return t=G0(t),n&&n[mu]?n.P(e,t,df(i)?!!i.capture:!!i,l):Iy(n,e,t,!0,i,l)}function _f(n,e,t,i,l){if(Array.isArray(e))for(var p=0;p<e.length;p++)_f(n,e[p],t,i,l);else i=df(i)?!!i.capture:!!i,t=G0(t),n&&n[mu]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=ah(p=n.g[e],t,i,l))&&(Qp(p[t]),Array.prototype.splice.call(p,t,1),0==p.length&&(delete n.g[e],n.h--))):n&&(n=Fm(n))&&(e=n.g[e.toString()],n=-1,e&&(n=ah(e,t,i,l)),(t=-1<n?e[n]:null)&&km(t))}function km(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[mu])mf(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(j0(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=Fm(e))?(mf(t,n),0==t.h&&(t.src=null,e[kc]=null)):Qp(n)}}}function j0(n){return n in Qu?Qu[n]:Qu[n]="on"+n}function CI(n,e){if(n.fa)n=!0;else{e=new Xc(e,this);var t=n.listener,i=n.la||n.src;n.ia&&km(n),n=t.call(i,e)}return n}function Fm(n){return(n=n[kc])instanceof Pm?n:null}var Ey="__closure_events_fn_"+(1e9*Math.random()>>>0);function G0(n){return"function"==typeof n?n:(n[Ey]||(n[Ey]=function(e){return n.handleEvent(e)}),n[Ey])}function Wo(){gu.call(this),this.i=new Pm(this),this.S=this,this.J=null}function qo(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new Ys(e,n);else if(e instanceof Ys)e.target=e.target||n;else{var l=e;gf(e=new Ys(i,n),l)}if(l=!0,t)for(var p=t.length-1;0<=p;p--){var _=e.g=t[p];l=Lm(_,i,!0,e)&&l}if(l=Lm(_=e.g=n,i,!0,e)&&l,l=Lm(_,i,!1,e)&&l,t)for(p=0;p<t.length;p++)l=Lm(_=e.g=t[p],i,!1,e)&&l}function Lm(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var l=!0,p=0;p<e.length;++p){var _=e[p];if(_&&!_.fa&&_.capture==t){var T=_.listener,F=_.la||_.src;_.ia&&mf(n.i,_),l=!1!==T.call(F,i)&&l}}return l&&!i.defaultPrevented}pa(Wo,gu),Wo.prototype[mu]=!0,Wo.prototype.removeEventListener=function(n,e,t,i){_f(this,n,e,t,i)},Wo.prototype.N=function(){if(Wo.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)Qp(t[i]);delete n.g[e],n.h--}}this.J=null},Wo.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Wo.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var $0=fr.JSON.stringify;function z0(){var n=Bm;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var kT=new class PT{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new eg,n=>n.reset());class eg{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function SI(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function Ty(n){fr.setTimeout(()=>{throw n},0)}let yf,Xu=!1,Bm=new class jD{constructor(){this.h=this.g=null}add(e,t){const i=kT.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},Dy=()=>{const n=fr.Promise.resolve(void 0);yf=()=>{n.then(Um)}};var Um=()=>{for(var n;n=z0();){try{n.h.call(n.g)}catch(t){Ty(t)}var e=kT;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Xu=!1};function vf(n,e){Wo.call(this),this.h=n||1,this.g=e||fr,this.j=fa(this.qb,this),this.l=Date.now()}function ch(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Vm(n,e,t){if("function"==typeof n)t&&(n=fa(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=fa(n.handleEvent,n)}return 2147483647<Number(e)?-1:fr.setTimeout(n,e||0)}function tg(n){n.g=Vm(()=>{n.g=null,n.i&&(n.i=!1,tg(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}pa(vf,Wo),(cn=vf.prototype).ga=!1,cn.T=null,cn.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),qo(this,"tick"),this.ga&&(ch(this),this.start()))}},cn.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},cn.N=function(){vf.$.N.call(this),ch(this),delete this.g};class Cy extends gu{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:tg(this)}N(){super.N(),this.g&&(fr.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sy(n){gu.call(this),this.h=n,this.g={}}pa(Sy,gu);var Ay=[];function ng(n,e,t,i){Array.isArray(t)||(t&&(Ay[0]=t.toString()),t=Ay);for(var l=0;l<t.length;l++){var p=Xp(e,t[l],i||n.handleEvent,!1,n.h||n);if(!p)break;n.g[p.key]=p}}function W0(n){Rm(n.g,function(e,t){this.g.hasOwnProperty(t)&&km(e)},n),n.g={}}function Hm(){this.g=!0}function lh(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function q0(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var l=i[1];if(Array.isArray(l)&&!(1>l.length)){var p=l[0];if("noop"!=p&&"stop"!=p&&"close"!=p)for(var _=1;_<l.length;_++)l[_]=""}}}return $0(t)}catch{return e}}(n,t)+(i?" "+i:"")})}Sy.prototype.N=function(){Sy.$.N.call(this),W0(this)},Sy.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Hm.prototype.Ea=function(){this.g=!1},Hm.prototype.info=function(){};var bf={},LT=null;function Oy(){return LT=LT||new Wo}function jm(n){Ys.call(this,bf.Ta,n)}function wf(n){const e=Oy();qo(e,new jm(e))}function Ny(n,e){Ys.call(this,bf.STAT_EVENT,n),this.stat=e}function qa(n){const e=Oy();qo(e,new Ny(e,n))}function My(n,e){Ys.call(this,bf.Ua,n),this.size=e}function uh(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return fr.setTimeout(function(){n()},e)}bf.Ta="serverreachability",pa(jm,Ys),bf.STAT_EVENT="statevent",pa(Ny,Ys),bf.Ua="timingevent",pa(My,Ys);var xy={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Gm={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Z0(){}function BT(){}Z0.prototype.h=null;var dh,$m={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function If(){Ys.call(this,"d")}function Y0(){Ys.call(this,"c")}function hh(){}function zm(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new Sy(this),this.P=UT,this.V=new vf(n=B0?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Wm}function Wm(){this.i=null,this.g="",this.h=!1}pa(If,Ys),pa(Y0,Ys),pa(hh,Z0),hh.prototype.g=function(){return new XMLHttpRequest},hh.prototype.i=function(){return{}},dh=new hh;var UT=45e3,J0={},qm={};function Ry(n,e,t){n.L=1,n.v=Km(_u(e)),n.s=t,n.S=!0,Q0(n,null)}function Q0(n,e){n.G=Date.now(),fh(n),n.A=_u(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),Ym(t.i,"t",i),n.C=0,t=n.l.J,n.h=new Wm,n.g=vg(n.l,t?e:null,!n.s),0<n.O&&(n.M=new Cy(fa(n.Pa,n,n.g),n.O)),ng(n.U,n.g,"readystatechange",n.nb),e=n.I?DI(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),wf(),function FT(n,e,t,i,l,p){n.info(function(){if(n.g)if(p)for(var _="",T=p.split("&"),F=0;F<T.length;F++){var H=T[F].split("=");if(1<H.length){var ne=H[0];H=H[1];var pe=ne.split("_");_=2<=pe.length&&"type"==pe[1]?_+(ne+"=")+H+"&":_+(ne+"=redacted&")}}else _=null;else _=p;return"XMLHTTP REQ ("+i+") [attempt "+l+"]: "+e+"\n"+t+"\n"+_})}(n.j,n.u,n.A,n.m,n.W,n.s)}function Py(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function VT(n,e,t){let l,i=!0;for(;!n.J&&n.C<t.length;){if(l=ky(n,t),l==qm){4==e&&(n.o=4,qa(14),i=!1),lh(n.j,n.m,null,"[Incomplete Response]");break}if(l==J0){n.o=4,qa(15),lh(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}lh(n.j,n.m,l,null),rg(n,l)}Py(n)&&l!=qm&&l!=J0&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,qa(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),Ml(e),e.M=!0,qa(11))):(lh(n.j,n.m,t,"[Invalid Chunked Response]"),Tf(n),Ef(n))}function ky(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?qm:(t=Number(e.substring(t,i)),isNaN(t)?J0:(i+=1)+t>e.length?qm:(e=e.slice(i,i+t),n.C=i+t,e))}function fh(n){n.Y=Date.now()+n.P,X0(n,n.P)}function X0(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=uh(fa(n.lb,n),e)}function Zm(n){n.B&&(fr.clearTimeout(n.B),n.B=null)}function Ef(n){0==n.l.H||n.J||mg(n.l,n)}function Tf(n){Zm(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,ch(n.V),W0(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function rg(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||Hy(t.i,n)))if(!n.K&&Hy(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var l=i;if(0==l[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Of(t),vh(t)}Uc(t),qa(18)}}else t.Fa=l[1],0<t.Fa-t.V&&37500>l[2]&&t.G&&0==t.A&&!t.v&&(t.v=uh(fa(t.ib,t),6e3));if(1>=Vy(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else xl(t,11)}else if((n.K||t.g==n)&&Of(t),!Al(e))for(l=t.Ja.g.parse(e),e=0;e<l.length;e++){let H=l[e];if(t.V=H[0],H=H[1],2==t.H)if("c"==H[0]){t.K=H[1],t.pa=H[2];const ne=H[3];null!=ne&&(t.ra=ne,t.l.info("VER="+t.ra));const pe=H[4];null!=pe&&(t.Ga=pe,t.l.info("SVER="+t.Ga));const $e=H[5];null!=$e&&"number"==typeof $e&&0<$e&&(t.L=i=1.5*$e,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const ft=n.g;if(ft){const Ft=ft.g?ft.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ft){var p=i.i;p.g||-1==Ft.indexOf("spdy")&&-1==Ft.indexOf("quic")&&-1==Ft.indexOf("h2")||(p.j=p.l,p.g=new Set,p.h&&(jy(p,p.h),p.h=null))}if(i.F){const ln=ft.g?ft.g.getResponseHeader("X-HTTP-Session-Id"):null;ln&&(i.Da=ln,Ti(i.I,i.F,ln))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var _=n;if((i=t).wa=fb(i,i.J?i.pa:null,i.Y),_.K){gh(i.i,_);var T=_,F=i.L;F&&T.setTimeout(F),T.B&&(Zm(T),fh(T)),i.g=_}else Bc(i);0<t.j.length&&fg(t)}else"stop"!=H[0]&&"close"!=H[0]||xl(t,7);else 3==t.H&&("stop"==H[0]||"close"==H[0]?"stop"==H[0]?xl(t,7):el(t):"noop"!=H[0]&&t.h&&t.h.Aa(H),t.A=0)}wf()}catch{}}function xI(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(k0(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function MI(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(k0(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function NI(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(k0(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),l=i.length,p=0;p<l;p++)e.call(void 0,i[p],t&&t[p],n)}(cn=zm.prototype).setTimeout=function(n){this.P=n},cn.nb=function(n){n=n.target;const e=this.M;e&&3==Lc(n)?e.l():this.Pa(n)},cn.Pa=function(n){try{if(n==this.g)e:{const ne=Lc(this.g);var e=this.g.Ia();if(this.g.da(),!(3>ne)&&(3!=ne||B0||this.g&&(this.h.h||this.g.ja()||ug(this.g)))){this.J||4!=ne||7==e||wf(),Zm(this);var t=this.g.da();this.ca=t;t:if(Py(this)){var i=ug(this.g);n="";var l=i.length,p=4==Lc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Tf(this),Ef(this);var _="";break t}this.h.i=new fr.TextDecoder}for(e=0;e<l;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:p&&e==l-1});i.splice(0,l),this.h.g+=n,this.C=0,_=this.h.g}else _=this.g.ja();if(this.i=200==t,function AI(n,e,t,i,l,p,_){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+l+"]: "+e+"\n"+t+"\n"+p+" "+_})}(this.j,this.u,this.A,this.m,this.W,ne,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var T,F=this.g;if((T=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Al(T)){var H=T;break t}}H=null}if(!(t=H)){this.i=!1,this.o=3,qa(12),Tf(this),Ef(this);break e}lh(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rg(this,t)}this.S?(VT(this,ne,_),B0&&this.i&&3==ne&&(ng(this.U,this.V,"tick",this.mb),this.V.start())):(lh(this.j,this.m,_,null),rg(this,_)),4==ne&&Tf(this),this.i&&!this.J&&(4==ne?mg(this.l,this):(this.i=!1,fh(this)))}else(function dg(n){const e={};n=(n.g&&2<=Lc(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(Al(n[i]))continue;var t=SI(n[i]);const l=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const p=e[l]||[];e[l]=p,p.push(t)}!function Ju(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<_.indexOf("Unknown SID")?(this.o=3,qa(12)):(this.o=0,qa(13)),Tf(this),Ef(this)}}}catch{}},cn.mb=function(){if(this.g){var n=Lc(this.g),e=this.g.ja();this.C<e.length&&(Zm(this),VT(this,n,e),this.i&&4!=n&&fh(this))}},cn.cancel=function(){this.J=!0,Tf(this)},cn.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function OI(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(wf(),qa(17)),Tf(this),this.o=2,Ef(this)):X0(this,this.Y-n)};var Fy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ga(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof ga){this.h=n.h,Ly(this,n.j),this.s=n.s,this.g=n.g,Df(this,n.m),this.l=n.l;var e=n.i,t=new og;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),ed(this,t),this.o=n.o}else n&&(e=String(n).match(Fy))?(this.h=!1,Ly(this,e[1]||"",!0),this.s=ig(e[2]||""),this.g=ig(e[3]||"",!0),Df(this,e[4]),this.l=ig(e[5]||"",!0),ed(this,e[6]||"",!0),this.o=ig(e[7]||"")):(this.h=!1,this.i=new og(null,this.h))}function _u(n){return new ga(n)}function Ly(n,e,t){n.j=t?ig(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Df(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function ed(n,e,t){e instanceof og?(n.i=e,function ib(n,e){e&&!n.j&&(yu(n),n.i=null,n.g.forEach(function(t,i){var l=i.toLowerCase();i!=l&&(nb(this,i),Ym(this,l,t))},n)),n.j=e}(n.i,n.h)):(t||(e=sg(e,HT)),n.i=new og(e,n.h))}function Ti(n,e,t){n.i.set(e,t)}function Km(n){return Ti(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function ig(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function sg(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,By),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function By(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}ga.prototype.toString=function(){var n=[],e=this.j;e&&n.push(sg(e,Ol,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(sg(e,Ol,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(sg(t,"/"==t.charAt(0)?RI:tb,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",sg(t,Zo)),n.join("")};var Ol=/[#\/\?@]/g,tb=/[#\?:]/g,RI=/[#\?]/g,HT=/[#\?@]/g,Zo=/#/g;function og(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function yu(n){n.g||(n.g=new Map,n.h=0,n.i&&function eb(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),l=null;if(0<=i){var p=n[t].substring(0,i);l=n[t].substring(i+1)}else p=n[t];e(p,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function nb(n,e){yu(n),e=ph(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function rb(n,e){return yu(n),e=ph(n,e),n.g.has(e)}function Ym(n,e,t){nb(n,e),0<t.length&&(n.i=null,n.g.set(ph(n,e),Gp(t)),n.h+=t.length)}function ph(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Uy(n){this.l=n||sb,n=fr.PerformanceNavigationTiming?0<(n=fr.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(fr.g&&fr.g.Ka&&fr.g.Ka()&&fr.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(cn=og.prototype).add=function(n,e){yu(this),this.i=null,n=ph(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},cn.forEach=function(n,e){yu(this),this.g.forEach(function(t,i){t.forEach(function(l){n.call(e,l,i,this)},this)},this)},cn.ta=function(){yu(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const l=n[i];for(let p=0;p<l.length;p++)t.push(e[i])}return t},cn.Z=function(n){yu(this);let e=[];if("string"==typeof n)rb(this,n)&&(e=e.concat(this.g.get(ph(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},cn.set=function(n,e){return yu(this),this.i=null,rb(this,n=ph(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},cn.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},cn.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const p=encodeURIComponent(String(i)),_=this.Z(i);for(i=0;i<_.length;i++){var l=p;""!==_[i]&&(l+="="+encodeURIComponent(String(_[i]))),n.push(l)}}return this.i=n.join("&")};var sb=10;function ob(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Vy(n){return n.h?1:n.g?n.g.size:0}function Hy(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function jy(n,e){n.g?n.g.add(e):n.h=e}function gh(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function vu(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return Gp(n.i)}Uy.prototype.cancel=function(){if(this.i=vu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var Fc=class{stringify(n){return fr.JSON.stringify(n,void 0)}parse(n){return fr.JSON.parse(n,void 0)}};function ab(){this.g=new Fc}function Gy(n,e,t){const i=t||"";try{xI(n,function(l,p){let _=l;df(l)&&(_=$0(l)),e.push(i+p+"="+encodeURIComponent(_))})}catch(l){throw e.push(i+"type="+encodeURIComponent("_badmap")),l}}function mh(n,e,t,i,l){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,l(i)}catch{}}function So(n){this.l=n.fc||null,this.j=n.ob||!1}function td(n,e){Wo.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=Cf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}pa(So,Z0),So.prototype.g=function(){return new td(this.l,this.j)},So.prototype.i=function(n){return function(){return n}}({}),pa(td,Wo);var Cf=0;function ag(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Sf(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Nl(n)}function Nl(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(cn=td.prototype).open=function(n,e){if(this.readyState!=Cf)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Nl(this)},cn.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||fr).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},cn.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Sf(this)),this.readyState=Cf},cn.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Nl(this)),this.g&&(this.readyState=3,Nl(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof fr.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ag(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},cn.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Sf(this):Nl(this),3==this.readyState&&ag(this)}},cn.Za=function(n){this.g&&(this.response=this.responseText=n,Sf(this))},cn.Ya=function(n){this.g&&(this.response=n,Sf(this))},cn.ka=function(){this.g&&Sf(this)},cn.setRequestHeader=function(n,e){this.v.append(n,e)},cn.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},cn.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(td.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var cb=fr.JSON.parse;function Ns(n){Wo.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=kI,this.L=this.M=!1}pa(Ns,Wo);var kI="",lb=/^https?$/i,FI=["POST","PUT"];function jT(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,db(n),lg(n)}function db(n){n.F||(n.F=!0,qo(n,"complete"),qo(n,"error"))}function cg(n){if(n.h&&typeof yI<"u"&&(!n.C[1]||4!=Lc(n)||2!=n.da()))if(n.v&&4==Lc(n))Vm(n.La,0,n);else if(qo(n,"readystatechange"),4==Lc(n)){n.h=!1;try{const _=n.da();e:switch(_){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===_){var l=String(n.I).match(Fy)[1]||null;!l&&fr.self&&fr.self.location&&(l=fr.self.location.protocol.slice(0,-1)),i=!lb.test(l?l.toLowerCase():"")}t=i}if(t)qo(n,"complete"),qo(n,"success");else{n.m=6;try{var p=2<Lc(n)?n.g.statusText:""}catch{p=""}n.j=p+" ["+n.da()+"]",db(n)}}finally{lg(n)}}}function lg(n,e){if(n.g){hb(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||qo(n,"ready");try{t.onreadystatechange=i}catch{}}}function hb(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(fr.clearTimeout(n.A),n.A=null)}function Lc(n){return n.g?n.g.readyState:0}function ug(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case kI:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function hg(n){let e="";return Rm(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function _h(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=hg(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Ti(n,e,t))}function yh(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function rr(n){this.Ga=0,this.j=[],this.l=new Hm,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=yh("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=yh("baseRetryDelayMs",5e3,n),this.hb=yh("retryDelaySeedMs",1e4,n),this.eb=yh("forwardChannelMaxRetries",2,n),this.xa=yh("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new Uy(n&&n.concurrentRequestLimit),this.Ja=new ab,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function el(n){if(bu(n),3==n.H){var e=n.W++,t=_u(n.I);if(Ti(t,"SID",n.K),Ti(t,"RID",e),Ti(t,"TYPE","terminate"),wu(n,t),(e=new zm(n,n.l,e)).L=2,e.v=Km(_u(t)),t=!1,fr.navigator&&fr.navigator.sendBeacon)try{t=fr.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&fr.Image&&((new Image).src=e.v,t=!0),t||(e.g=vg(e.l,null),e.g.ha(e.v)),e.G=Date.now(),fh(e)}yg(n)}function vh(n){n.g&&(Ml(n),n.g.cancel(),n.g=null)}function bu(n){vh(n),n.u&&(fr.clearTimeout(n.u),n.u=null),Of(n),n.i.cancel(),n.m&&("number"==typeof n.m&&fr.clearTimeout(n.m),n.m=null)}function fg(n){if(!ob(n.i)&&!n.m){n.m=!0;var e=n.Na;yf||Dy(),Xu||(yf(),Xu=!0),Bm.add(e,n),n.C=0}}function Af(n,e){var t;t=e?e.m:n.W++;const i=_u(n.I);Ti(i,"SID",n.K),Ti(i,"RID",t),Ti(i,"AID",n.V),wu(n,i),n.o&&n.s&&_h(i,n.o,n.s),t=new zm(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=gg(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),jy(n.i,t),Ry(t,i,e)}function wu(n,e){n.na&&Rm(n.na,function(t,i){Ti(e,i,t)}),n.h&&xI({},function(t,i){Ti(e,i,t)})}function gg(n,e,t){t=Math.min(n.j.length,t);var i=n.h?fa(n.h.Va,n.h,n):null;e:{var l=n.j;let p=-1;for(;;){const _=["count="+t];-1==p?0<t?(p=l[0].g,_.push("ofs="+p)):p=0:_.push("ofs="+p);let T=!0;for(let F=0;F<t;F++){let H=l[F].g;const ne=l[F].map;if(H-=p,0>H)p=Math.max(0,l[F].g-100),T=!1;else try{Gy(ne,_,"req"+H+"_")}catch{i&&i(ne)}}if(T){i=_.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function Bc(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;yf||Dy(),Xu||(yf(),Xu=!0),Bm.add(e,n),n.A=0}}function Uc(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=uh(fa(n.Ma,n),_g(n,n.A)),n.A++,0))}function Ml(n){null!=n.B&&(fr.clearTimeout(n.B),n.B=null)}function Dd(n){n.g=new zm(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=_u(n.wa);Ti(e,"RID","rpc"),Ti(e,"SID",n.K),Ti(e,"AID",n.V),Ti(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Ti(e,"TO",n.qa),Ti(e,"TYPE","xmlhttp"),wu(n,e),n.o&&n.s&&_h(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Km(_u(e)),t.s=null,t.S=!0,Q0(t,n)}function Of(n){null!=n.v&&(fr.clearTimeout(n.v),n.v=null)}function mg(n,e){var t=null;if(n.g==e){Of(n),Ml(n),n.g=null;var i=2}else{if(!Hy(n.i,e))return;t=e.F,gh(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var l=n.C;qo(i=Oy(),new My(i,t)),fg(n)}else Bc(n);else if(3==(l=e.o)||0==l&&0<e.ca||!(1==i&&function pg(n,e){return!(Vy(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=uh(fa(n.Na,n,e),_g(n,n.C)),n.C++,0)))}(n,e)||2==i&&Uc(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),l){case 1:xl(n,5);break;case 4:xl(n,10);break;case 3:xl(n,6);break;default:xl(n,2)}}function _g(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function xl(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=fa(n.pb,n);t||(t=new ga("//www.google.com/images/cleardot.gif"),fr.location&&"http"==fr.location.protocol||Ly(t,"https"),Km(t)),function Jm(n,e){const t=new Hm;if(fr.Image){const i=new Image;i.onload=Om(mh,t,i,"TestLoadImage: loaded",!0,e),i.onerror=Om(mh,t,i,"TestLoadImage: error",!1,e),i.onabort=Om(mh,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=Om(mh,t,i,"TestLoadImage: timeout",!1,e),fr.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else qa(2);n.H=0,n.h&&n.h.za(e),yg(n),bu(n)}function yg(n){if(n.H=0,n.ma=[],n.h){const e=vu(n.i);(0!=e.length||0!=n.j.length)&&($p(n.ma,e),$p(n.ma,n.j),n.i.i.length=0,Gp(n.j),n.j.length=0),n.h.ya()}}function fb(n,e,t){var i=t instanceof ga?_u(t):new ga(t);if(""!=i.g)e&&(i.g=e+"."+i.g),Df(i,i.m);else{var l=fr.location;i=l.protocol,e=e?e+"."+l.hostname:l.hostname,l=+l.port;var p=new ga(null);i&&Ly(p,i),e&&(p.g=e),l&&Df(p,l),t&&(p.l=t),i=p}return e=n.Da,(t=n.F)&&e&&Ti(i,t,e),Ti(i,"VER",n.ra),wu(n,i),i}function vg(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ns(t&&n.Ha&&!n.va?new So({ob:!0}):n.va)).Oa(n.J),e}function LI(){}function Qm(){if(ff&&!(10<=Number(U0)))throw Error("Environmental error: no available transport.")}function Vc(n,e){Wo.call(this),this.g=new rr(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Al(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Al(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Nf(this)}function _c(n){If.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Xm(){Y0.call(this),this.status=1}function Nf(n){this.g=n}function Iu(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function yc(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var l=0;16>l;++l)i[l]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(l=0;16>l;++l)i[l]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var p=n.g[3],_=(e=n.g[0])+(p^(t=n.g[1])&((l=n.g[2])^p))+i[0]+3614090360&4294967295;_=(t=(l=(p=(e=(t=(l=(p=(e=(t=(l=(p=(e=(t=(l=(p=(e=(t=(l=(p=(e=(t=(l=(p=(e=(t=(l=(p=(e=(t=(l=(p=(e=(t=(l=(p=(e=(t=(l=(p=(e=(t=(l=(p=(e=(t=(l=(p=(e=(t=(l=(p=(e=(t=(l=(p=(e=(t=(l=(p=(e=t+(_<<7&4294967295|_>>>25))+((_=p+(l^e&(t^l))+i[1]+3905402710&4294967295)<<12&4294967295|_>>>20))+((_=l+(t^p&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|_>>>15))+((_=t+(e^l&(p^e))+i[3]+3250441966&4294967295)<<22&4294967295|_>>>10))+((_=e+(p^t&(l^p))+i[4]+4118548399&4294967295)<<7&4294967295|_>>>25))+((_=p+(l^e&(t^l))+i[5]+1200080426&4294967295)<<12&4294967295|_>>>20))+((_=l+(t^p&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|_>>>15))+((_=t+(e^l&(p^e))+i[7]+4249261313&4294967295)<<22&4294967295|_>>>10))+((_=e+(p^t&(l^p))+i[8]+1770035416&4294967295)<<7&4294967295|_>>>25))+((_=p+(l^e&(t^l))+i[9]+2336552879&4294967295)<<12&4294967295|_>>>20))+((_=l+(t^p&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|_>>>15))+((_=t+(e^l&(p^e))+i[11]+2304563134&4294967295)<<22&4294967295|_>>>10))+((_=e+(p^t&(l^p))+i[12]+1804603682&4294967295)<<7&4294967295|_>>>25))+((_=p+(l^e&(t^l))+i[13]+4254626195&4294967295)<<12&4294967295|_>>>20))+((_=l+(t^p&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|_>>>15))+((_=t+(e^l&(p^e))+i[15]+1236535329&4294967295)<<22&4294967295|_>>>10))+((_=e+(l^p&(t^l))+i[1]+4129170786&4294967295)<<5&4294967295|_>>>27))+((_=p+(t^l&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|_>>>23))+((_=l+(e^t&(p^e))+i[11]+643717713&4294967295)<<14&4294967295|_>>>18))+((_=t+(p^e&(l^p))+i[0]+3921069994&4294967295)<<20&4294967295|_>>>12))+((_=e+(l^p&(t^l))+i[5]+3593408605&4294967295)<<5&4294967295|_>>>27))+((_=p+(t^l&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|_>>>23))+((_=l+(e^t&(p^e))+i[15]+3634488961&4294967295)<<14&4294967295|_>>>18))+((_=t+(p^e&(l^p))+i[4]+3889429448&4294967295)<<20&4294967295|_>>>12))+((_=e+(l^p&(t^l))+i[9]+568446438&4294967295)<<5&4294967295|_>>>27))+((_=p+(t^l&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|_>>>23))+((_=l+(e^t&(p^e))+i[3]+4107603335&4294967295)<<14&4294967295|_>>>18))+((_=t+(p^e&(l^p))+i[8]+1163531501&4294967295)<<20&4294967295|_>>>12))+((_=e+(l^p&(t^l))+i[13]+2850285829&4294967295)<<5&4294967295|_>>>27))+((_=p+(t^l&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|_>>>23))+((_=l+(e^t&(p^e))+i[7]+1735328473&4294967295)<<14&4294967295|_>>>18))+((_=t+(p^e&(l^p))+i[12]+2368359562&4294967295)<<20&4294967295|_>>>12))+((_=e+(t^l^p)+i[5]+4294588738&4294967295)<<4&4294967295|_>>>28))+((_=p+(e^t^l)+i[8]+2272392833&4294967295)<<11&4294967295|_>>>21))+((_=l+(p^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|_>>>16))+((_=t+(l^p^e)+i[14]+4259657740&4294967295)<<23&4294967295|_>>>9))+((_=e+(t^l^p)+i[1]+2763975236&4294967295)<<4&4294967295|_>>>28))+((_=p+(e^t^l)+i[4]+1272893353&4294967295)<<11&4294967295|_>>>21))+((_=l+(p^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|_>>>16))+((_=t+(l^p^e)+i[10]+3200236656&4294967295)<<23&4294967295|_>>>9))+((_=e+(t^l^p)+i[13]+681279174&4294967295)<<4&4294967295|_>>>28))+((_=p+(e^t^l)+i[0]+3936430074&4294967295)<<11&4294967295|_>>>21))+((_=l+(p^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|_>>>16))+((_=t+(l^p^e)+i[6]+76029189&4294967295)<<23&4294967295|_>>>9))+((_=e+(t^l^p)+i[9]+3654602809&4294967295)<<4&4294967295|_>>>28))+((_=p+(e^t^l)+i[12]+3873151461&4294967295)<<11&4294967295|_>>>21))+((_=l+(p^e^t)+i[15]+530742520&4294967295)<<16&4294967295|_>>>16))+((_=t+(l^p^e)+i[2]+3299628645&4294967295)<<23&4294967295|_>>>9))+((_=e+(l^(t|~p))+i[0]+4096336452&4294967295)<<6&4294967295|_>>>26))+((_=p+(t^(e|~l))+i[7]+1126891415&4294967295)<<10&4294967295|_>>>22))+((_=l+(e^(p|~t))+i[14]+2878612391&4294967295)<<15&4294967295|_>>>17))+((_=t+(p^(l|~e))+i[5]+4237533241&4294967295)<<21&4294967295|_>>>11))+((_=e+(l^(t|~p))+i[12]+1700485571&4294967295)<<6&4294967295|_>>>26))+((_=p+(t^(e|~l))+i[3]+2399980690&4294967295)<<10&4294967295|_>>>22))+((_=l+(e^(p|~t))+i[10]+4293915773&4294967295)<<15&4294967295|_>>>17))+((_=t+(p^(l|~e))+i[1]+2240044497&4294967295)<<21&4294967295|_>>>11))+((_=e+(l^(t|~p))+i[8]+1873313359&4294967295)<<6&4294967295|_>>>26))+((_=p+(t^(e|~l))+i[15]+4264355552&4294967295)<<10&4294967295|_>>>22))+((_=l+(e^(p|~t))+i[6]+2734768916&4294967295)<<15&4294967295|_>>>17))+((_=t+(p^(l|~e))+i[13]+1309151649&4294967295)<<21&4294967295|_>>>11))+((p=(e=t+((_=e+(l^(t|~p))+i[4]+4149444226&4294967295)<<6&4294967295|_>>>26))+((_=p+(t^(e|~l))+i[11]+3174756917&4294967295)<<10&4294967295|_>>>22))^((l=p+((_=l+(e^(p|~t))+i[2]+718787259&4294967295)<<15&4294967295|_>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(l+(_<<21&4294967295|_>>>11))&4294967295,n.g[2]=n.g[2]+l&4294967295,n.g[3]=n.g[3]+p&4294967295}function Di(n,e){this.h=e;for(var t=[],i=!0,l=n.length-1;0<=l;l--){var p=0|n[l];i&&p==e||(t[l]=p,i=!1)}this.g=t}(cn=Ns.prototype).Oa=function(n){this.M=n},cn.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():dh.g(),this.C=function K0(n){return n.h||(n.h=n.i())}(this.u?this.u:dh),this.g.onreadystatechange=fa(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(p){return void jT(this,p)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var l in i)t.set(l,i[l]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const p of i.keys())t.set(p,i.get(p))}i=Array.from(t.keys()).find(p=>"content-type"==p.toLowerCase()),l=fr.FormData&&n instanceof fr.FormData,!(0<=hf(FI,e))||i||l||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[p,_]of t)this.g.setRequestHeader(p,_);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{hb(this),0<this.B&&((this.L=function ub(n){return ff&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=fa(this.ua,this)):this.A=Vm(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(p){jT(this,p)}},cn.ua=function(){typeof yI<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,qo(this,"timeout"),this.abort(8))},cn.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,qo(this,"complete"),qo(this,"abort"),lg(this))},cn.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),lg(this,!0)),Ns.$.N.call(this)},cn.La=function(){this.s||(this.G||this.v||this.l?cg(this):this.kb())},cn.kb=function(){cg(this)},cn.isActive=function(){return!!this.g},cn.da=function(){try{return 2<Lc(this)?this.g.status:-1}catch{return-1}},cn.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},cn.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),cb(e)}},cn.Ia=function(){return this.m},cn.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(cn=rr.prototype).ra=8,cn.H=1,cn.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const l=new zm(this,this.l,n);let p=this.s;if(this.U&&(p?(p=DI(p),gf(p,this.U)):p=this.U),null!==this.o||this.O||(l.I=p,p=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=gg(this,l,e),Ti(t=_u(this.I),"RID",n),Ti(t,"CVER",22),this.F&&Ti(t,"X-HTTP-Session-Id",this.F),wu(this,t),p&&(this.O?e="headers="+encodeURIComponent(String(hg(p)))+"&"+e:this.o&&_h(t,this.o,p)),jy(this.i,l),this.bb&&Ti(t,"TYPE","init"),this.P?(Ti(t,"$req",e),Ti(t,"SID","null"),l.aa=!0,Ry(l,t,null)):Ry(l,t,e),this.H=2}}else 3==this.H&&(n?Af(this,n):0==this.j.length||ob(this.i)||Af(this))},cn.Ma=function(){if(this.u=null,Dd(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=uh(fa(this.jb,this),n)}},cn.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,qa(10),vh(this),Dd(this))},cn.ib=function(){null!=this.v&&(this.v=null,vh(this),Uc(this),qa(19))},cn.pb=function(n){n?(this.l.info("Successfully pinged google.com"),qa(2)):(this.l.info("Failed to ping google.com"),qa(1))},cn.isActive=function(){return!!this.h&&this.h.isActive(this)},(cn=LI.prototype).Ba=function(){},cn.Aa=function(){},cn.za=function(){},cn.ya=function(){},cn.isActive=function(){return!0},cn.Va=function(){},Qm.prototype.g=function(n,e){return new Vc(n,e)},pa(Vc,Wo),Vc.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;qa(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=fb(n,null,n.Y),fg(n)},Vc.prototype.close=function(){el(this.g)},Vc.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=$0(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&fg(e)},Vc.prototype.N=function(){this.g.h=null,delete this.j,el(this.g),delete this.g,Vc.$.N.call(this)},pa(_c,If),pa(Xm,Y0),pa(Nf,LI),Nf.prototype.Ba=function(){qo(this.g,"a")},Nf.prototype.Aa=function(n){qo(this.g,new _c(n))},Nf.prototype.za=function(n){qo(this.g,new Xm)},Nf.prototype.ya=function(){qo(this.g,"b")},pa(Iu,function GT(){this.blockSize=-1}),Iu.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Iu.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,l=this.h,p=0;p<e;){if(0==l)for(;p<=t;)yc(this,n,p),p+=this.blockSize;if("string"==typeof n){for(;p<e;)if(i[l++]=n.charCodeAt(p++),l==this.blockSize){yc(this,i),l=0;break}}else for(;p<e;)if(i[l++]=n[p++],l==this.blockSize){yc(this,i),l=0;break}}this.h=l,this.i+=e},Iu.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var $T={};function bg(n){return-128<=n&&128>n?function wI(n,e){var t=$T;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Di([0|e],0>e?-1:0)}):new Di([0|n],0>n?-1:0)}function tl(n){if(isNaN(n)||!isFinite(n))return nd;if(0>n)return Js(tl(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=zy;return new Di(e,0)}var zy=4294967296,nd=bg(0),Mf=bg(1),e_=bg(16777216);function Eu(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function nl(n){return-1==n.h}function Js(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new Di(t,~n.h).add(Mf)}function wg(n,e){return n.add(Js(e))}function t_(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Ig(n,e){this.g=n,this.h=e}function n_(n,e){if(Eu(e))throw Error("division by zero");if(Eu(n))return new Ig(nd,nd);if(nl(n))return e=n_(Js(n),e),new Ig(Js(e.g),Js(e.h));if(nl(e))return e=n_(n,Js(e)),new Ig(Js(e.g),e.h);if(30<n.g.length){if(nl(n)||nl(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Mf,i=e;0>=i.X(n);)t=pb(t),i=pb(i);var l=Za(t,1),p=Za(i,1);for(i=Za(i,2),t=Za(t,2);!Eu(i);){var _=p.add(i);0>=_.X(n)&&(l=l.add(t),p=_),i=Za(i,1),t=Za(t,1)}return e=wg(n,l.R(e)),new Ig(l,e)}for(l=nd;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),_=(p=tl(t)).R(e);nl(_)||0<_.X(n);)_=(p=tl(t-=i)).R(e);Eu(p)&&(p=Mf),l=l.add(p),n=wg(n,_)}return new Ig(l,n)}function pb(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Di(t,n.h)}function Za(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,l=[],p=0;p<i;p++)l[p]=0<e?n.D(p+t)>>>e|n.D(p+t+1)<<32-e:n.D(p+t);return new Di(l,n.h)}(cn=Di.prototype).ea=function(){if(nl(this))return-Js(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:zy+i)*e,e*=zy}return n},cn.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Eu(this))return"0";if(nl(this))return"-"+Js(this).toString(n);for(var e=tl(Math.pow(n,6)),t=this,i="";;){var l=n_(t,e).g,p=((0<(t=wg(t,l.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Eu(t=l))return p+i;for(;6>p.length;)p="0"+p;i=p+i}},cn.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},cn.X=function(n){return nl(n=wg(this,n))?-1:Eu(n)?0:1},cn.abs=function(){return nl(this)?Js(this):this},cn.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,l=0;l<=e;l++){var p=i+(65535&this.D(l))+(65535&n.D(l)),_=(p>>>16)+(this.D(l)>>>16)+(n.D(l)>>>16);i=_>>>16,t[l]=(_&=65535)<<16|(p&=65535)}return new Di(t,-2147483648&t[t.length-1]?-1:0)},cn.R=function(n){if(Eu(this)||Eu(n))return nd;if(nl(this))return nl(n)?Js(this).R(Js(n)):Js(Js(this).R(n));if(nl(n))return Js(this.R(Js(n)));if(0>this.X(e_)&&0>n.X(e_))return tl(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var l=0;l<n.g.length;l++){var p=this.D(i)>>>16,_=65535&this.D(i),T=n.D(l)>>>16,F=65535&n.D(l);t[2*i+2*l]+=_*F,t_(t,2*i+2*l),t[2*i+2*l+1]+=p*F,t_(t,2*i+2*l+1),t[2*i+2*l+1]+=_*T,t_(t,2*i+2*l+1),t[2*i+2*l+2]+=p*T,t_(t,2*i+2*l+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new Di(t,0)},cn.gb=function(n){return n_(this,n).h},cn.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new Di(t,this.h&n.h)},cn.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new Di(t,this.h|n.h)},cn.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new Di(t,this.h^n.h)},Qm.prototype.createWebChannel=Qm.prototype.g,Vc.prototype.send=Vc.prototype.u,Vc.prototype.open=Vc.prototype.m,Vc.prototype.close=Vc.prototype.close,xy.NO_ERROR=0,xy.TIMEOUT=8,xy.HTTP_ERROR=6,Gm.COMPLETE="complete",BT.EventType=$m,$m.OPEN="a",$m.CLOSE="b",$m.ERROR="c",$m.MESSAGE="d",Wo.prototype.listen=Wo.prototype.O,Ns.prototype.listenOnce=Ns.prototype.P,Ns.prototype.getLastError=Ns.prototype.Sa,Ns.prototype.getLastErrorCode=Ns.prototype.Ia,Ns.prototype.getStatus=Ns.prototype.da,Ns.prototype.getResponseJson=Ns.prototype.Wa,Ns.prototype.getResponseText=Ns.prototype.ja,Ns.prototype.send=Ns.prototype.ha,Ns.prototype.setWithCredentials=Ns.prototype.Oa,Iu.prototype.digest=Iu.prototype.l,Iu.prototype.reset=Iu.prototype.reset,Iu.prototype.update=Iu.prototype.j,Di.prototype.add=Di.prototype.add,Di.prototype.multiply=Di.prototype.R,Di.prototype.modulo=Di.prototype.gb,Di.prototype.compare=Di.prototype.X,Di.prototype.toNumber=Di.prototype.ea,Di.prototype.toString=Di.prototype.toString,Di.prototype.getBits=Di.prototype.D,Di.fromNumber=tl,Di.fromString=function $y(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Js($y(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=tl(Math.pow(e,8)),i=nd,l=0;l<n.length;l+=8){var p=Math.min(8,n.length-l),_=parseInt(n.substring(l,l+p),e);8>p?(p=tl(Math.pow(e,p)),i=i.R(p).add(tl(_))):i=(i=i.R(t)).add(tl(_))}return i};var Wy=Sl.createWebChannelTransport=function(){return new Qm},bh=Sl.getStatEventTarget=function(){return Oy()},xf=Sl.ErrorCode=xy,qy=Sl.EventType=Gm,Eg=Sl.Event=bf,Zy=Sl.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},r_=Sl.FetchXmlHttpFactory=So,Rf=Sl.WebChannel=BT,zT=Sl.XhrIo=Ns,gb=Sl.Md5=Iu,rd=Sl.Integer=Di;const Ky="@firebase/firestore";class Ms{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ms.UNAUTHENTICATED=new Ms(null),Ms.GOOGLE_CREDENTIALS=new Ms("google-credentials-uid"),Ms.FIRST_PARTY=new Ms("first-party-uid"),Ms.MOCK_USER=new Ms("mock-user");let Tu="9.23.0";const Ao=new Ee.Yd("@firebase/firestore");function Yy(){return Ao.logLevel}function Pt(n,...e){if(Ao.logLevel<=Ee.in.DEBUG){const t=e.map(mb);Ao.debug(`Firestore (${Tu}): ${n}`,...t)}}function so(n,...e){if(Ao.logLevel<=Ee.in.ERROR){const t=e.map(mb);Ao.error(`Firestore (${Tu}): ${n}`,...t)}}function vc(n,...e){if(Ao.logLevel<=Ee.in.WARN){const t=e.map(mb);Ao.warn(`Firestore (${Tu}): ${n}`,...t)}}function mb(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function yn(n="Unexpected state"){const e=`FIRESTORE (${Tu}) INTERNAL ASSERTION FAILED: `+n;throw so(e),new Error(e)}function On(n,e){n||yn()}function Kt(n,e){return n}const ot={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Nt extends he.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class oo{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Jy{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class UI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ms.UNAUTHENTICATED))}shutdown(){}}class VI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class yb{constructor(e){this.t=e,this.currentUser=Ms.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let l=this.i;const p=H=>this.i!==l?(l=this.i,t(H)):Promise.resolve();let _=new oo;this.o=()=>{this.i++,this.currentUser=this.u(),_.resolve(),_=new oo,e.enqueueRetryable(()=>p(this.currentUser))};const T=()=>{const H=_;e.enqueueRetryable((0,ce.Z)(function*(){yield H.promise,yield p(i.currentUser)}))},F=H=>{Pt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=H,this.auth.addAuthTokenListener(this.o),T()};this.t.onInit(H=>F(H)),setTimeout(()=>{if(!this.auth){const H=this.t.getImmediate({optional:!0});H?F(H):(Pt("FirebaseAuthCredentialsProvider","Auth not yet detected"),_.resolve(),_=new oo)}},0),T()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Pt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(On("string"==typeof i.accessToken),new Jy(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return On(null===e||"string"==typeof e),new Ms(e)}}class vb{constructor(e,t,i){this.h=e,this.l=t,this.m=i,this.type="FirstParty",this.user=Ms.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Pf{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new vb(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Ms.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class bb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wb{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const i=p=>{null!=p.error&&Pt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${p.error.message}`);const _=p.token!==this.T;return this.T=p.token,Pt("FirebaseAppCheckTokenProvider",`Received ${_?"new":"existing"} token.`),_?t(p.token):Promise.resolve()};this.o=p=>{e.enqueueRetryable(()=>i(p))};const l=p=>{Pt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=p,this.appCheck.addTokenListener(this.o)};this.I.onInit(p=>l(p)),setTimeout(()=>{if(!this.appCheck){const p=this.I.getImmediate({optional:!0});p?l(p):Pt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(On("string"==typeof t.token),this.T=t.token,new bb(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function HI(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class i_{static A(){const t=62*Math.floor(256/62);let i="";for(;i.length<20;){const l=HI(40);for(let p=0;p<l.length;++p)i.length<20&&l[p]<t&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(l[p]%62))}return i}}function Kn(n,e){return n<e?-1:n>e?1:0}function kf(n,e,t){return n.length===e.length&&n.every((i,l)=>t(i,e[l]))}class vs{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Nt(ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Nt(ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Nt(ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Nt(ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return vs.fromMillis(Date.now())}static fromDate(e){return vs.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new vs(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Kn(this.nanoseconds,e.nanoseconds):Kn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Pn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Pn(e)}static min(){return new Pn(new vs(0,0))}static max(){return new Pn(new vs(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Tg{constructor(e,t,i){void 0===t?t=0:t>e.length&&yn(),void 0===i?i=e.length-t:i>e.length-t&&yn(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Tg.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Tg?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let l=0;l<i;l++){const p=e.get(l),_=t.get(l);if(p<_)return-1;if(p>_)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ur extends Tg{construct(e,t,i){return new ur(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Nt(ot.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(l=>l.length>0))}return new ur(t)}static emptyPath(){return new ur([])}}const Qy=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qi extends Tg{construct(e,t,i){return new Qi(e,t,i)}static isValidIdentifier(e){return Qy.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Qi(["__name__"])}static fromServerFormat(e){const t=[];let i="",l=0;const p=()=>{if(0===i.length)throw new Nt(ot.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let _=!1;for(;l<e.length;){const T=e[l];if("\\"===T){if(l+1===e.length)throw new Nt(ot.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const F=e[l+1];if("\\"!==F&&"."!==F&&"`"!==F)throw new Nt(ot.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=F,l+=2}else"`"===T?(_=!_,l++):"."!==T||_?(i+=T,l++):(p(),l++)}if(p(),_)throw new Nt(ot.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qi(t)}static emptyPath(){return new Qi([])}}class Jt{constructor(e){this.path=e}static fromPath(e){return new Jt(ur.fromString(e))}static fromName(e){return new Jt(ur.fromString(e).popFirst(5))}static empty(){return new Jt(ur.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ur.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ur.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Jt(new ur(e.slice()))}}function tv(n){return new Ka(n.readTime,n.key,-1)}class Ka{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Ka(Pn.min(),Jt.empty(),-1)}static max(){return new Ka(Pn.max(),Jt.empty(),-1)}}function Ya(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Jt.comparator(n.documentKey,e.documentKey),0!==t?t:Kn(n.largestBatchId,e.largestBatchId))}const Cd="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function wh(n){return Cg.apply(this,arguments)}function Cg(){return Cg=(0,ce.Z)(function*(n){if(n.code!==ot.FAILED_PRECONDITION||n.message!==Cd)throw n;Pt("LocalStore","Unexpectedly lost primary lease")}),Cg.apply(this,arguments)}class et{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&yn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new et((i,l)=>{this.nextCallback=p=>{this.wrapSuccess(e,p).next(i,l)},this.catchCallback=p=>{this.wrapFailure(t,p).next(i,l)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof et?t:et.resolve(t)}catch(t){return et.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):et.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):et.reject(t)}static resolve(e){return new et((t,i)=>{t(e)})}static reject(e){return new et((t,i)=>{i(e)})}static waitFor(e){return new et((t,i)=>{let l=0,p=0,_=!1;e.forEach(T=>{++l,T.next(()=>{++p,_&&p===l&&t()},F=>i(F))}),_=!0,p===l&&t()})}static or(e){let t=et.resolve(!1);for(const i of e)t=t.next(l=>l?et.resolve(l):i());return t}static forEach(e,t){const i=[];return e.forEach((l,p)=>{i.push(t.call(this,l,p))}),this.waitFor(i)}static mapArray(e,t){return new et((i,l)=>{const p=e.length,_=new Array(p);let T=0;for(let F=0;F<p;F++){const H=F;t(e[H]).next(ne=>{_[H]=ne,++T,T===p&&i(_)},ne=>l(ne))}})}static doWhile(e,t){return new et((i,l)=>{const p=()=>{!0===e()?t().next(()=>{p()},l):i()};p()})}}function il(n){return"IndexedDbTransactionError"===n.name}let Xi=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=l=>this.ot(l),this.ut=l=>i.writeSequenceNumber(l))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Du(n){return null==n}function Rl(n){return 0===n&&1/n==-1/0}function Uf(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Pl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function kl(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class ki{constructor(e,t){this.comparator=e,this.root=t||Oo.EMPTY}insert(e,t){return new ki(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Oo.BLACK,null,null))}remove(e){return new ki(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Oo.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const l=this.comparator(e,i.key);if(0===l)return t+i.left.size;l<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cu(this.root,e,this.comparator,!0)}}class Cu{constructor(e,t,i,l){this.isReverse=l,this.nodeStack=[];let p=1;for(;!e.isEmpty();)if(p=t?i(e.key,t):1,t&&l&&(p*=-1),p<0)e=this.isReverse?e.left:e.right;else{if(0===p){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Oo{constructor(e,t,i,l,p){this.key=e,this.value=t,this.color=i??Oo.RED,this.left=l??Oo.EMPTY,this.right=p??Oo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,l,p){return new Oo(e??this.key,t??this.value,i??this.color,l??this.left,p??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let l=this;const p=i(e,l.key);return l=p<0?l.copy(null,null,null,l.left.insert(e,t,i),null):0===p?l.copy(null,t,null,null,null):l.copy(null,null,null,null,l.right.insert(e,t,i)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Oo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,l=this;if(t(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,t),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===t(e,l.key)){if(l.right.isEmpty())return Oo.EMPTY;i=l.right.min(),l=l.copy(i.key,i.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,t))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Oo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Oo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw yn();const e=this.left.check();if(e!==this.right.check())throw yn();return e+(this.isRed()?0:1)}}Oo.EMPTY=null,Oo.RED=!0,Oo.BLACK=!1,Oo.EMPTY=new class{constructor(){this.size=0}get key(){throw yn()}get value(){throw yn()}get color(){throw yn()}get left(){throw yn()}get right(){throw yn()}copy(n,e,t,i,l){return this}insert(n,e,t){return new Oo(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Fi{constructor(e){this.comparator=e,this.data=new ki(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const l=i.getNext();if(this.comparator(l.key,e[1])>=0)return;t(l.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Sh(this.data.getIterator())}getIteratorFrom(e){return new Sh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Fi)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const l=t.getNext().key,p=i.getNext().key;if(0!==this.comparator(l,p))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Fi(this.comparator);return t.data=e,t}}class Sh{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Qa{constructor(e){this.fields=e,e.sort(Qi.comparator)}static empty(){return new Qa([])}unionWith(e){let t=new Fi(Qi.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Qa(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return kf(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class d_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Rs{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new d_("Invalid base64 string: "+l):l}}(e);return new Rs(t)}static fromUint8Array(e){const t=function(i){let l="";for(let p=0;p<i.length;++p)l+=String.fromCharCode(i[p]);return l}(e);return new Rs(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Kn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rs.EMPTY_BYTE_STRING=new Rs("");const Vf=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sl(n){if(On(!!n),"string"==typeof n){let e=0;const t=Vf.exec(n);if(On(!!t),t[1]){let l=t[1];l=(l+"000000000").substr(0,9),e=Number(l)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:bs(n.seconds),nanos:bs(n.nanos)}}function bs(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Su(n){return"string"==typeof n?Rs.fromBase64String(n):Rs.fromUint8Array(n)}function Hf(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Oh(n){const e=n.mapValue.fields.__previous_value__;return Hf(e)?Oh(e):e}function Sd(n){const e=sl(n.mapValue.fields.__local_write_time__.timestampValue);return new vs(e.seconds,e.nanos)}class av{constructor(e,t,i,l,p,_,T,F,H){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=l,this.ssl=p,this.forceLongPolling=_,this.autoDetectLongPolling=T,this.longPollingOptions=F,this.useFetchStreams=H}}class Ad{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ad("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ad&&e.projectId===this.projectId&&e.database===this.database}}const sd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Hc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Hf(n)?4:lv(n)?9007199254740991:10:yn()}function jc(n,e){if(n===e)return!0;const t=Hc(n);if(t!==Hc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Sd(n).isEqual(Sd(e));case 3:return function(i,l){if("string"==typeof i.timestampValue&&"string"==typeof l.timestampValue&&i.timestampValue.length===l.timestampValue.length)return i.timestampValue===l.timestampValue;const p=sl(i.timestampValue),_=sl(l.timestampValue);return p.seconds===_.seconds&&p.nanos===_.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return l=e,Su(n.bytesValue).isEqual(Su(l.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,l){return bs(i.geoPointValue.latitude)===bs(l.geoPointValue.latitude)&&bs(i.geoPointValue.longitude)===bs(l.geoPointValue.longitude)}(n,e);case 2:return function(i,l){if("integerValue"in i&&"integerValue"in l)return bs(i.integerValue)===bs(l.integerValue);if("doubleValue"in i&&"doubleValue"in l){const p=bs(i.doubleValue),_=bs(l.doubleValue);return p===_?Rl(p)===Rl(_):isNaN(p)&&isNaN(_)}return!1}(n,e);case 9:return kf(n.arrayValue.values||[],e.arrayValue.values||[],jc);case 10:return function(i,l){const p=i.mapValue.fields||{},_=l.mapValue.fields||{};if(Uf(p)!==Uf(_))return!1;for(const T in p)if(p.hasOwnProperty(T)&&(void 0===_[T]||!jc(p[T],_[T])))return!1;return!0}(n,e);default:return yn()}var l}function jf(n,e){return void 0!==(n.values||[]).find(t=>jc(t,e))}function Au(n,e){if(n===e)return 0;const t=Hc(n),i=Hc(e);if(t!==i)return Kn(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Kn(n.booleanValue,e.booleanValue);case 2:return function(l,p){const _=bs(l.integerValue||l.doubleValue),T=bs(p.integerValue||p.doubleValue);return _<T?-1:_>T?1:_===T?0:isNaN(_)?isNaN(T)?0:-1:1}(n,e);case 3:return Ob(n.timestampValue,e.timestampValue);case 4:return Ob(Sd(n),Sd(e));case 5:return Kn(n.stringValue,e.stringValue);case 6:return function(l,p){const _=Su(l),T=Su(p);return _.compareTo(T)}(n.bytesValue,e.bytesValue);case 7:return function(l,p){const _=l.split("/"),T=p.split("/");for(let F=0;F<_.length&&F<T.length;F++){const H=Kn(_[F],T[F]);if(0!==H)return H}return Kn(_.length,T.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,p){const _=Kn(bs(l.latitude),bs(p.latitude));return 0!==_?_:Kn(bs(l.longitude),bs(p.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(l,p){const _=l.values||[],T=p.values||[];for(let F=0;F<_.length&&F<T.length;++F){const H=Au(_[F],T[F]);if(H)return H}return Kn(_.length,T.length)}(n.arrayValue,e.arrayValue);case 10:return function(l,p){if(l===sd.mapValue&&p===sd.mapValue)return 0;if(l===sd.mapValue)return 1;if(p===sd.mapValue)return-1;const _=l.fields||{},T=Object.keys(_),F=p.fields||{},H=Object.keys(F);T.sort(),H.sort();for(let ne=0;ne<T.length&&ne<H.length;++ne){const pe=Kn(T[ne],H[ne]);if(0!==pe)return pe;const $e=Au(_[T[ne]],F[H[ne]]);if(0!==$e)return $e}return Kn(T.length,H.length)}(n.mapValue,e.mapValue);default:throw yn()}}function Ob(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Kn(n,e);const t=sl(n),i=sl(e),l=Kn(t.seconds,i.seconds);return 0!==l?l:Kn(t.nanos,i.nanos)}function Od(n){return Gf(n)}function Gf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const l=sl(i);return`time(${l.seconds},${l.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Su(n.bytesValue).toBase64():"referenceValue"in n?Jt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let l="[",p=!0;for(const _ of i.values||[])p?p=!1:l+=",",l+=Gf(_);return l+"]"}(n.arrayValue):"mapValue"in n?function(i){const l=Object.keys(i.fields||{}).sort();let p="{",_=!0;for(const T of l)_?_=!1:p+=",",p+=`${T}:${Gf(i.fields[T])}`;return p+"}"}(n.mapValue):yn();var e}function Ou(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Nh(n){return!!n&&"integerValue"in n}function Nd(n){return!!n&&"arrayValue"in n}function Md(n){return!!n&&"nullValue"in n}function cv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Mh(n){return!!n&&"mapValue"in n}function Ag(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Pl(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Ag(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ag(n.arrayValue.values[t]);return e}return Object.assign({},n)}function lv(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class ya{constructor(e){this.value=e}static empty(){return new ya({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Mh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ag(t)}setAll(e){let t=Qi.emptyPath(),i={},l=[];e.forEach((_,T)=>{if(!t.isImmediateParentOf(T)){const F=this.getFieldsMap(t);this.applyChanges(F,i,l),i={},l=[],t=T.popLast()}_?i[T.lastSegment()]=Ag(_):l.push(T.lastSegment())});const p=this.getFieldsMap(t);this.applyChanges(p,i,l)}delete(e){const t=this.field(e.popLast());Mh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return jc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let l=t.mapValue.fields[e.get(i)];Mh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=l),t=l}return t.mapValue.fields}applyChanges(e,t,i){Pl(t,(l,p)=>e[l]=p);for(const l of i)delete e[l]}clone(){return new ya(Ag(this.value))}}function Nb(n){const e=[];return Pl(n.fields,(t,i)=>{const l=new Qi([t]);if(Mh(i)){const p=Nb(i.mapValue).fields;if(0===p.length)e.push(l);else for(const _ of p)e.push(l.child(_))}else e.push(l)}),new Qa(e)}class Ci{constructor(e,t,i,l,p,_,T){this.key=e,this.documentType=t,this.version=i,this.readTime=l,this.createTime=p,this.data=_,this.documentState=T}static newInvalidDocument(e){return new Ci(e,0,Pn.min(),Pn.min(),Pn.min(),ya.empty(),0)}static newFoundDocument(e,t,i,l){return new Ci(e,1,t,Pn.min(),i,l,0)}static newNoDocument(e,t){return new Ci(e,2,t,Pn.min(),Pn.min(),ya.empty(),0)}static newUnknownDocument(e,t){return new Ci(e,3,t,Pn.min(),Pn.min(),ya.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Pn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ya.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ya.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ci&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ci(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Fl{constructor(e,t){this.position=e,this.inclusive=t}}function f_(n,e,t){let i=0;for(let l=0;l<n.position.length;l++){const p=e[l],_=n.position[l];if(i=p.field.isKeyField()?Jt.comparator(Jt.fromName(_.referenceValue),t.key):Au(_,t.data.field(p.field)),"desc"===p.dir&&(i*=-1),0!==i)break}return i}function Ng(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!jc(n.position[t],e.position[t]))return!1;return!0}class xh{constructor(e,t="asc"){this.field=e,this.dir=t}}function XI(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class dv{}class Lr extends dv{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new Mb(e,t,i):"array-contains"===t?new xb(e,i):"in"===t?new pv(e,i):"not-in"===t?new y_(e,i):"array-contains-any"===t?new Rd(e,i):new Lr(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new eE(e,i):new m_(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Au(t,this.value)):null!==t&&Hc(this.value)===Hc(t)&&this.matchesComparison(Au(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return yn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class li extends dv{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new li(e,t)}matches(e){return xd(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function xd(n){return"and"===n.op}function p_(n){return function hv(n){for(const e of n.filters)if(e instanceof li)return!1;return!0}(n)&&xd(n)}function Wf(n){if(n instanceof Lr)return n.field.canonicalString()+n.op.toString()+Od(n.value);if(p_(n))return n.filters.map(e=>Wf(e)).join(",");{const e=n.filters.map(t=>Wf(t)).join(",");return`${n.op}(${e})`}}function g_(n,e){return n instanceof Lr?(t=n,(i=e)instanceof Lr&&t.op===i.op&&t.field.isEqual(i.field)&&jc(t.value,i.value)):n instanceof li?function(t,i){return i instanceof li&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((l,p,_)=>l&&g_(p,i.filters[_]),!0)}(n,e):void yn();var t,i}function xg(n){return n instanceof Lr?`${(e=n).field.canonicalString()} ${e.op} ${Od(e.value)}`:n instanceof li?function(e){return e.op.toString()+" {"+e.getFilters().map(xg).join(" ,")+"}"}(n):"Filter";var e}class Mb extends Lr{constructor(e,t,i){super(e,t,i),this.key=Jt.fromName(i.referenceValue)}matches(e){const t=Jt.comparator(e.key,this.key);return this.matchesComparison(t)}}class eE extends Lr{constructor(e,t){super(e,"in",t),this.keys=__(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class m_ extends Lr{constructor(e,t){super(e,"not-in",t),this.keys=__(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function __(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>Jt.fromName(i.referenceValue))}class xb extends Lr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Nd(t)&&jf(t.arrayValue,this.value)}}class pv extends Lr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&jf(this.value.arrayValue,t)}}class y_ extends Lr{constructor(e,t){super(e,"not-in",t)}matches(e){if(jf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!jf(this.value.arrayValue,t)}}class Rd extends Lr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Nd(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>jf(this.value.arrayValue,i))}}class tE{constructor(e,t=null,i=[],l=[],p=null,_=null,T=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=l,this.limit=p,this.startAt=_,this.endAt=T,this.dt=null}}function Rb(n,e=null,t=[],i=[],l=null,p=null,_=null){return new tE(n,e,t,i,l,p,_)}function ad(n){const e=Kt(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Wf(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(l=i).field.canonicalString()+l.dir;var l}).join(","),Du(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Od(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Od(i)).join(",")),e.dt=t}return e.dt}function Ll(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!XI(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!g_(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Ng(n.startAt,e.startAt)&&Ng(n.endAt,e.endAt)}function qf(n){return Jt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Pd{constructor(e,t=null,i=[],l=[],p=null,_="F",T=null,F=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=l,this.limit=p,this.limitType=_,this.startAt=T,this.endAt=F,this.wt=null,this._t=null}}function Zf(n){return new Pd(n)}function Rg(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function mv(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function us(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Pg(n){return null!==n.collectionGroup}function Rh(n){const e=Kt(n);if(null===e.wt){e.wt=[];const t=us(e),i=mv(e);if(null!==t&&null===i)t.isKeyField()||e.wt.push(new xh(t)),e.wt.push(new xh(Qi.keyField(),"asc"));else{let l=!1;for(const p of e.explicitOrderBy)e.wt.push(p),p.field.isKeyField()&&(l=!0);if(!l){const p=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new xh(Qi.keyField(),p))}}}return e.wt}function Xa(n){const e=Kt(n);if(!e._t)if("F"===e.limitType)e._t=Rb(e.path,e.collectionGroup,Rh(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const p of Rh(e))t.push(new xh(p.field,"desc"===p.dir?"asc":"desc"));const i=e.endAt?new Fl(e.endAt.position,e.endAt.inclusive):null,l=e.startAt?new Fl(e.startAt.position,e.startAt.inclusive):null;e._t=Rb(e.path,e.collectionGroup,t,e.filters,e.limit,i,l)}return e._t}function w_(n,e){e.getFirstInequalityField(),us(n);const t=n.filters.concat([e]);return new Pd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function I_(n,e,t){return new Pd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function kd(n,e){return Ll(Xa(n),Xa(e))&&n.limitType===e.limitType}function _v(n){return`${ad(Xa(n))}|lt:${n.limitType}`}function Fd(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>xg(i)).join(", ")}]`),Du(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(l=i).field.canonicalString()} (${l.dir})`;var l}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Od(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Od(i)).join(",")),`Target(${t})`}(Xa(n))}; limitType=${n.limitType})`}function Kf(n,e){return e.isFoundDocument()&&function(t,i){const l=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(l):Jt.isDocumentKey(t.path)?t.path.isEqual(l):t.path.isImmediateParentOf(l)}(n,e)&&function(t,i){for(const l of Rh(t))if(!l.field.isKeyField()&&null===i.data.field(l.field))return!1;return!0}(n,e)&&function(t,i){for(const l of t.filters)if(!l.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(l,p,_){const T=f_(l,p,_);return l.inclusive?T<=0:T<0}(t.startAt,Rh(t),i)||t.endAt&&!function(l,p,_){const T=f_(l,p,_);return l.inclusive?T>=0:T>0}(t.endAt,Rh(t),i)));var t,i}function yv(n){return(e,t)=>{let i=!1;for(const l of Rh(n)){const p=ZT(l,e,t);if(0!==p)return p;i=i||l.field.isKeyField()}return 0}}function ZT(n,e,t){const i=n.field.isKeyField()?Jt.comparator(e.key,t.key):function(l,p,_){const T=p.data.field(l),F=_.data.field(l);return null!==T&&null!==F?Au(T,F):yn()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return yn()}}class Bl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[l,p]of i)if(this.equalsFn(l,e))return p}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),l=this.inner[i];if(void 0===l)return this.inner[i]=[[e,t]],void this.innerSize++;for(let p=0;p<l.length;p++)if(this.equalsFn(l[p][0],e))return void(l[p]=[e,t]);l.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return 1===i.length?delete this.inner[t]:i.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Pl(this.inner,(t,i)=>{for(const[l,p]of i)e(l,p)})}isEmpty(){return kl(this.inner)}size(){return this.innerSize}}const KT=new ki(Jt.comparator);function ec(){return KT}const vv=new ki(Jt.comparator);function bc(...n){let e=vv;for(const t of n)e=e.insert(t.key,t);return e}function Fb(n){let e=vv;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function ol(){return tc()}function al(){return tc()}function tc(){return new Bl(n=>n.toString(),(n,e)=>n.isEqual(e))}const Ul=new ki(Jt.comparator),nE=new Fi(Jt.comparator);function yr(...n){let e=nE;for(const t of n)e=e.add(t);return e}const rE=new Fi(Kn);function f(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rl(e)?"-0":e}}function o(n){return{integerValue:""+n}}function d(n,e){return function Eh(n){return"number"==typeof n&&Number.isInteger(n)&&!Rl(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?o(e):f(n,e)}class m{constructor(){this._=void 0}}function E(n,e,t){return n instanceof se?function(i,l){const p={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return l&&Hf(l)&&(l=Oh(l)),l&&(p.fields.__previous_value__=l),{mapValue:p}}(t,e):n instanceof fe?Ie(n,e):n instanceof ze?ht(n,e):function(i,l){const p=K(i,l),_=Mt(p)+Mt(i.gt);return Nh(p)&&Nh(i.gt)?o(_):f(i.serializer,_)}(n,e)}function x(n,e,t){return n instanceof fe?Ie(n,e):n instanceof ze?ht(n,e):t}function K(n,e){return n instanceof dt?Nh(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class se extends m{}class fe extends m{constructor(e){super(),this.elements=e}}function Ie(n,e){const t=jt(e);for(const i of n.elements)t.some(l=>jc(l,i))||t.push(i);return{arrayValue:{values:t}}}class ze extends m{constructor(e){super(),this.elements=e}}function ht(n,e){let t=jt(e);for(const i of n.elements)t=t.filter(l=>!jc(l,i));return{arrayValue:{values:t}}}class dt extends m{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Mt(n){return bs(n.integerValue||n.doubleValue)}function jt(n){return Nd(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class $t{constructor(e,t){this.field=e,this.transform=t}}class Ln{constructor(e,t){this.version=e,this.transformResults=t}}class En{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new En}static exists(e){return new En(void 0,e)}static updateTime(e){return new En(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mn(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class ar{}function dr(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Qt(n.key,En.none()):new es(n.key,n.data,En.none());{const t=n.data,i=ya.empty();let l=new Fi(Qi.comparator);for(let p of e.fields)if(!l.has(p)){let _=t.field(p);null===_&&p.length>1&&(p=p.popLast(),_=t.field(p)),null===_?i.delete(p):i.set(p,_),l=l.add(p)}return new ts(n.key,i,new Qa(l.toArray()),En.none())}}function vr(n,e,t){n instanceof es?function(i,l,p){const _=i.value.clone(),T=Vl(i.fieldTransforms,l,p.transformResults);_.setAll(T),l.convertToFoundDocument(p.version,_).setHasCommittedMutations()}(n,e,t):n instanceof ts?function(i,l,p){if(!Mn(i.precondition,l))return void l.convertToUnknownDocument(p.version);const _=Vl(i.fieldTransforms,l,p.transformResults),T=l.data;T.setAll(ds(i)),T.setAll(_),l.convertToFoundDocument(p.version,T).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Tr(n,e,t,i){return n instanceof es?function(l,p,_,T){if(!Mn(l.precondition,p))return _;const F=l.value.clone(),H=Hl(l.fieldTransforms,T,p);return F.setAll(H),p.convertToFoundDocument(p.version,F).setHasLocalMutations(),null}(n,e,t,i):n instanceof ts?function(l,p,_,T){if(!Mn(l.precondition,p))return _;const F=Hl(l.fieldTransforms,T,p),H=p.data;return H.setAll(ds(l)),H.setAll(F),p.convertToFoundDocument(p.version,H).setHasLocalMutations(),null===_?null:_.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(ne=>ne.field))}(n,e,t,i):(_=t,Mn(n.precondition,p=e)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):_);var p,_}function pi(n,e){let t=null;for(const i of n.fieldTransforms){const l=e.data.field(i.field),p=K(i.transform,l||null);null!=p&&(null===t&&(t=ya.empty()),t.set(i.field,p))}return t||null}function oi(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&kf(t,i,(l,p)=>function Gn(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof fe&&i instanceof fe||t instanceof ze&&i instanceof ze?kf(t.elements,i.elements,jc):t instanceof dt&&i instanceof dt?jc(t.gt,i.gt):t instanceof se&&i instanceof se);var t,i}(l,p))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class es extends ar{constructor(e,t,i,l=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ts extends ar{constructor(e,t,i,l,p=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=l,this.fieldTransforms=p,this.type=1}getFieldMask(){return this.fieldMask}}function ds(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Vl(n,e,t){const i=new Map;On(n.length===t.length);for(let l=0;l<t.length;l++){const p=n[l],_=p.transform,T=e.data.field(p.field);i.set(p.field,x(_,T,t[l]))}return i}function Hl(n,e,t){const i=new Map;for(const l of n){const p=l.transform,_=t.data.field(l.field);i.set(l.field,E(p,_,e))}return i}class Qt extends ar{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Tn extends ar{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class $n{constructor(e,t,i,l){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=l}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let l=0;l<this.mutations.length;l++){const p=this.mutations[l];p.key.isEqual(e.key)&&vr(p,e,i[l])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Tr(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Tr(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=al();return this.mutations.forEach(l=>{const p=e.get(l.key),_=p.overlayedDocument;let T=this.applyToLocalView(_,p.mutatedFields);T=t.has(l.key)?null:T;const F=dr(_,T);null!==F&&i.set(l.key,F),_.isValidDocument()||_.convertToNoDocument(Pn.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),yr())}isEqual(e){return this.batchId===e.batchId&&kf(this.mutations,e.mutations,(t,i)=>oi(t,i))&&kf(this.baseMutations,e.baseMutations,(t,i)=>oi(t,i))}}class pr{constructor(e,t,i,l){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=l}static from(e,t,i){On(e.mutations.length===i.length);let l=Ul;const p=e.mutations;for(let _=0;_<p.length;_++)l=l.insert(p[_].key,i[_].version);return new pr(e,t,i,l)}}class ns{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class No{constructor(e,t){this.count=e,this.unchangedNames=t}}var ri,Nn;function Ld(n){if(void 0===n)return so("GRPC error has no .code"),ot.UNKNOWN;switch(n){case ri.OK:return ot.OK;case ri.CANCELLED:return ot.CANCELLED;case ri.UNKNOWN:return ot.UNKNOWN;case ri.DEADLINE_EXCEEDED:return ot.DEADLINE_EXCEEDED;case ri.RESOURCE_EXHAUSTED:return ot.RESOURCE_EXHAUSTED;case ri.INTERNAL:return ot.INTERNAL;case ri.UNAVAILABLE:return ot.UNAVAILABLE;case ri.UNAUTHENTICATED:return ot.UNAUTHENTICATED;case ri.INVALID_ARGUMENT:return ot.INVALID_ARGUMENT;case ri.NOT_FOUND:return ot.NOT_FOUND;case ri.ALREADY_EXISTS:return ot.ALREADY_EXISTS;case ri.PERMISSION_DENIED:return ot.PERMISSION_DENIED;case ri.FAILED_PRECONDITION:return ot.FAILED_PRECONDITION;case ri.ABORTED:return ot.ABORTED;case ri.OUT_OF_RANGE:return ot.OUT_OF_RANGE;case ri.UNIMPLEMENTED:return ot.UNIMPLEMENTED;case ri.DATA_LOSS:return ot.DATA_LOSS;default:return yn()}}(Nn=ri||(ri={}))[Nn.OK=0]="OK",Nn[Nn.CANCELLED=1]="CANCELLED",Nn[Nn.UNKNOWN=2]="UNKNOWN",Nn[Nn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Nn[Nn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Nn[Nn.NOT_FOUND=5]="NOT_FOUND",Nn[Nn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Nn[Nn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Nn[Nn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Nn[Nn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Nn[Nn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Nn[Nn.ABORTED=10]="ABORTED",Nn[Nn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Nn[Nn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Nn[Nn.INTERNAL=13]="INTERNAL",Nn[Nn.UNAVAILABLE=14]="UNAVAILABLE",Nn[Nn.DATA_LOSS=15]="DATA_LOSS";class ws{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Yo}static getOrCreateInstance(){return null===Yo&&(Yo=new ws),Yo}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Yo=null;const Ph=new rd([4294967295,4294967295],0);function cd(n){const e=function va(){return new TextEncoder}().encode(n),t=new gb;return t.update(e),new Uint8Array(t.digest())}function bv(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),l=e.getUint32(8,!0),p=e.getUint32(12,!0);return[new rd([t,i],0),new rd([l,p],0)]}class kg{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Yf(`Invalid padding: ${t}`);if(i<0)throw new Yf(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new Yf(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new Yf(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=rd.fromNumber(this.It)}Et(e,t,i){let l=e.add(t.multiply(rd.fromNumber(i)));return 1===l.compare(Ph)&&(l=new rd([l.getBits(0),l.getBits(1)],0)),l.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=cd(e),[i,l]=bv(t);for(let p=0;p<this.hashCount;p++){const _=this.Et(i,l,p);if(!this.At(_))return!1}return!0}static create(e,t,i){const l=e%8==0?0:8-e%8,p=new Uint8Array(Math.ceil(e/8)),_=new kg(p,l,t);return i.forEach(T=>_.insert(T)),_}insert(e){if(0===this.It)return;const t=cd(e),[i,l]=bv(t);for(let p=0;p<this.hashCount;p++){const _=this.Et(i,l,p);this.Rt(_)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Yf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Jf{constructor(e,t,i,l,p){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=l,this.resolvedLimboDocuments=p}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const l=new Map;return l.set(e,kh.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Jf(Pn.min(),l,new ki(Kn),ec(),yr())}}class kh{constructor(e,t,i,l,p){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=l,this.removedDocuments=p}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new kh(i,t,yr(),yr(),yr())}}class Qf{constructor(e,t,i,l){this.Pt=e,this.removedTargetIds=t,this.key=i,this.bt=l}}class wv{constructor(e,t){this.targetId=e,this.Vt=t}}class E_{constructor(e,t,i=Rs.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=l}}class ld{constructor(){this.St=0,this.Dt=Ev(),this.Ct=Rs.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=yr(),t=yr(),i=yr();return this.Dt.forEach((l,p)=>{switch(p){case 0:e=e.add(l);break;case 2:t=t.add(l);break;case 1:i=i.add(l);break;default:yn()}}),new kh(this.Ct,this.xt,e,t,i)}Ft(){this.Nt=!1,this.Dt=Ev()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Nu{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=ec(),this.zt=Iv(),this.Wt=new ki(Kn)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const i=this.Zt(t);switch(e.state){case 0:this.te(t)&&i.$t(e.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(e.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(t);break;case 3:this.te(t)&&(i.Kt(),i.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),i.$t(e.resumeToken));break;default:yn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((i,l)=>{this.te(l)&&t(l)})}ne(e){var t;const i=e.targetId,l=e.Vt.count,p=this.se(i);if(p){const _=p.target;if(qf(_))if(0===l){const T=new Jt(_.path);this.Yt(i,T,Ci.newNoDocument(T,Pn.min()))}else On(1===l);else{const T=this.ie(i);if(T!==l){const F=this.re(e,T);0!==F&&(this.ee(i),this.Wt=this.Wt.insert(i,2===F?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=ws.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(H,ne,pe){var $e,ft,Ft,ln,hn,Dr;const Xr={localCacheCount:ne,existenceFilterCount:pe.count},kr=pe.unchangedNames;return kr&&(Xr.bloomFilter={applied:0===H,hashCount:null!==($e=kr?.hashCount)&&void 0!==$e?$e:0,bitmapLength:null!==(ln=null===(Ft=null===(ft=kr?.bits)||void 0===ft?void 0:ft.bitmap)||void 0===Ft?void 0:Ft.length)&&void 0!==ln?ln:0,padding:null!==(Dr=null===(hn=kr?.bits)||void 0===hn?void 0:hn.padding)&&void 0!==Dr?Dr:0}),Xr}(F,T,e.Vt))}}}}re(e,t){const{unchangedNames:i,count:l}=e.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:p="",padding:_=0},hashCount:T=0}=i;let F,H;try{F=Su(p).toUint8Array()}catch(ne){if(ne instanceof d_)return vc("Decoding the base64 bloom filter in existence filter failed ("+ne.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw ne}try{H=new kg(F,_,T)}catch(ne){return vc(ne instanceof Yf?"BloomFilter error: ":"Applying bloom filter failed: ",ne),1}return 0===H.It?1:l!==t-this.oe(e.targetId,H)?2:0}oe(e,t){const i=this.Gt.getRemoteKeysForTarget(e);let l=0;return i.forEach(p=>{const _=this.Gt.ue(),T=`projects/${_.projectId}/databases/${_.database}/documents/${p.path.canonicalString()}`;t.vt(T)||(this.Yt(e,p,null),l++)}),l}ce(e){const t=new Map;this.Qt.forEach((p,_)=>{const T=this.se(_);if(T){if(p.current&&qf(T.target)){const F=new Jt(T.target.path);null!==this.jt.get(F)||this.ae(_,F)||this.Yt(_,F,Ci.newNoDocument(F,e))}p.Mt&&(t.set(_,p.Ot()),p.Ft())}});let i=yr();this.zt.forEach((p,_)=>{let T=!0;_.forEachWhile(F=>{const H=this.se(F);return!H||"TargetPurposeLimboResolution"===H.purpose||(T=!1,!1)}),T&&(i=i.add(p))}),this.jt.forEach((p,_)=>_.setReadTime(e));const l=new Jf(e,t,this.Wt,this.jt,i);return this.jt=ec(),this.zt=Iv(),this.Wt=new ki(Kn),l}Jt(e,t){if(!this.te(e))return;const i=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,i),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,i){if(!this.te(e))return;const l=this.Zt(e);this.ae(e,t)?l.Bt(t,1):l.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),i&&(this.jt=this.jt.insert(t,i))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new ld,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Fi(Kn),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Pt("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new ld),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Iv(){return new ki(Jt.comparator)}function Ev(){return new ki(Jt.comparator)}const Bd={asc:"ASCENDING",desc:"DESCENDING"},iE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},T_={and:"AND",or:"OR"};class sE{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Fg(n,e){return n.useProto3Json||Du(e)?e:{value:e}}function Lg(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $D(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function D_(n,e){return Lg(n,e.toTimestamp())}function Mo(n){return On(!!n),Pn.fromTimestamp(function(e){const t=sl(e);return new vs(t.seconds,t.nanos)}(n))}function oE(n,e){return(t=n,new ur(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function YT(n){const e=ur.fromString(n);return On(A_(e)),e}function Ud(n,e){return oE(n.databaseId,e.path)}function Vd(n,e){const t=YT(e);if(t.get(1)!==n.databaseId.projectId)throw new Nt(ot.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Nt(ot.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Jt(zD(t))}function C_(n,e){return oE(n.databaseId,e)}function xa(n){return new ur(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function zD(n){return On(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function aE(n,e,t){return{name:Ud(n,e),fields:t.value.mapValue.fields}}function XT(n,e){return{documents:[C_(n,e.path)]}}function lE(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=C_(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=C_(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const l=function(F){if(0!==F.length)return uE(li.create(F,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const p=function(F){if(0!==F.length)return F.map(H=>{return{field:Fh((ne=H).field),direction:qD(ne.dir)};var ne})}(e.orderBy);p&&(t.structuredQuery.orderBy=p);const _=Fg(n,e.limit);var T,F;return null!==_&&(t.structuredQuery.limit=_),e.startAt&&(t.structuredQuery.startAt={before:(T=e.startAt).inclusive,values:T.position}),e.endAt&&(t.structuredQuery.endAt={before:!(F=e.endAt).inclusive,values:F.position}),t}function e1(n){let e=function Tv(n){const e=YT(n);return 4===e.length?ur.emptyPath():zD(e)}(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let l=null;if(i>0){On(1===i);const ne=t.from[0];ne.allDescendants?l=ne.collectionId:e=e.child(ne.collectionId)}let p=[];t.where&&(p=function(ne){const pe=t1(ne);return pe instanceof li&&p_(pe)?pe.getFilters():[pe]}(t.where));let _=[];t.orderBy&&(_=t.orderBy.map(ne=>{return new xh(Bg((pe=ne).field),function($e){switch($e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(pe.direction));var pe}));let T=null;t.limit&&(T=function(ne){let pe;return pe="object"==typeof ne?ne.value:ne,Du(pe)?null:pe}(t.limit));let F=null;var ne;t.startAt&&(F=new Fl((ne=t.startAt).values||[],!!ne.before));let H=null;return t.endAt&&(H=function(ne){return new Fl(ne.values||[],!ne.before)}(t.endAt)),function Pb(n,e,t,i,l,p,_,T){return new Pd(n,e,t,i,l,p,_,T)}(e,l,_,p,T,"F",F,H)}function t1(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Bg(e.unaryFilter.field);return Lr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=Bg(e.unaryFilter.field);return Lr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Bg(e.unaryFilter.field);return Lr.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=Bg(e.unaryFilter.field);return Lr.create(p,"!=",{nullValue:"NULL_VALUE"});default:return yn()}}(n):void 0!==n.fieldFilter?Lr.create(Bg((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return yn()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return li.create(e.compositeFilter.filters.map(t=>t1(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return yn()}}(e.compositeFilter.op))}(n):yn();var e}function qD(n){return Bd[n]}function ZD(n){return iE[n]}function Bb(n){return T_[n]}function Fh(n){return{fieldPath:n.canonicalString()}}function Bg(n){return Qi.fromServerFormat(n.fieldPath)}function uE(n){return n instanceof Lr?function(e){if("=="===e.op){if(cv(e.value))return{unaryFilter:{field:Fh(e.field),op:"IS_NAN"}};if(Md(e.value))return{unaryFilter:{field:Fh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(cv(e.value))return{unaryFilter:{field:Fh(e.field),op:"IS_NOT_NAN"}};if(Md(e.value))return{unaryFilter:{field:Fh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fh(e.field),op:ZD(e.op),value:e.value}}}(n):n instanceof li?function(e){const t=e.getFilters().map(i=>uE(i));return 1===t.length?t[0]:{compositeFilter:{op:Bb(e.op),filters:t}}}(n):yn()}function KD(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function A_(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class jl{constructor(e,t,i,l,p=Pn.min(),_=Pn.min(),T=Rs.EMPTY_BYTE_STRING,F=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=l,this.snapshotVersion=p,this.lastLimboFreeSnapshotVersion=_,this.resumeToken=T,this.expectedCount=F}withSequenceNumber(e){return new jl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new jl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new jl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new jl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class n1{constructor(e){this.fe=e}}function dE(n){const e=e1({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?I_(e,e.limit,"L"):e}class tp{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(bs(e.integerValue));else if("doubleValue"in e){const i=bs(e.doubleValue);isNaN(i)?this.ye(t,13):(this.ye(t,15),Rl(i)?t.pe(0):t.pe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ye(t,20),"string"==typeof i?t.Ie(i):(t.Ie(`${i.seconds||""}`),t.pe(i.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Su(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?lv(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):yn()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const i=e.fields||{};this.ye(t,55);for(const l of Object.keys(i))this.Te(l,t),this.me(i[l],t)}Pe(e,t){const i=e.values||[];this.ye(t,50);for(const l of i)this.me(l,t)}ve(e,t){this.ye(t,37),Jt.fromName(e).path.forEach(i=>{this.ye(t,60),this.be(i,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}tp.Ve=new tp;class iC{constructor(){this.rn=new Gb}addToCollectionParentIndex(e,t){return this.rn.add(t),et.resolve()}getCollectionParents(e,t){return et.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return et.resolve()}deleteFieldIndex(e,t){return et.resolve()}getDocumentsMatchingTarget(e,t){return et.resolve(null)}getIndexType(e,t){return et.resolve(0)}getFieldIndexes(e,t){return et.resolve([])}getNextCollectionGroupToUpdate(e){return et.resolve(null)}getMinOffset(e,t){return et.resolve(Ka.min())}getMinOffsetFromCollectionGroup(e,t){return et.resolve(Ka.min())}updateCollectionGroup(e,t,i){return et.resolve()}updateIndexEntries(e,t){return et.resolve()}}class Gb{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),l=this.index[t]||new Fi(ur.comparator),p=!l.has(i);return this.index[t]=l.add(i),p}has(e){const t=e.lastSegment(),i=e.popLast(),l=this.index[t];return l&&l.has(i)}getEntries(e){return(this.index[e]||new Fi(ur.comparator)).toArray()}}new Uint8Array(0);class Ic{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Ic(e,Ic.DEFAULT_COLLECTION_PERCENTILE,Ic.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Ic.DEFAULT_COLLECTION_PERCENTILE=10,Ic.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ic.DEFAULT=new Ic(41943040,Ic.DEFAULT_COLLECTION_PERCENTILE,Ic.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ic.DISABLED=new Ic(-1,0,0);class rp{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new rp(0)}static Mn(){return new rp(-1)}}class aC{constructor(){this.changes=new Bl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ci.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?et.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class wE{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Zb{constructor(e,t,i,l){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=l}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(l=>(i=l,this.remoteDocumentCache.getEntry(e,t))).next(l=>(null!==i&&Tr(i.mutation,l,Qa.empty(),vs.now()),l))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,yr()).next(()=>i))}getLocalViewOfDocuments(e,t,i=yr()){const l=ol();return this.populateOverlays(e,l,t).next(()=>this.computeViews(e,t,l,i).next(p=>{let _=bc();return p.forEach((T,F)=>{_=_.insert(T,F.overlayedDocument)}),_}))}getOverlayedDocuments(e,t){const i=ol();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,yr()))}populateOverlays(e,t,i){const l=[];return i.forEach(p=>{t.has(p)||l.push(p)}),this.documentOverlayCache.getOverlays(e,l).next(p=>{p.forEach((_,T)=>{t.set(_,T)})})}computeViews(e,t,i,l){let p=ec();const _=tc(),T=tc();return t.forEach((F,H)=>{const ne=i.get(H.key);l.has(H.key)&&(void 0===ne||ne.mutation instanceof ts)?p=p.insert(H.key,H):void 0!==ne?(_.set(H.key,ne.mutation.getFieldMask()),Tr(ne.mutation,H,ne.mutation.getFieldMask(),vs.now())):_.set(H.key,Qa.empty())}),this.recalculateAndSaveOverlays(e,p).next(F=>(F.forEach((H,ne)=>_.set(H,ne)),t.forEach((H,ne)=>{var pe;return T.set(H,new wE(ne,null!==(pe=_.get(H))&&void 0!==pe?pe:null))}),T))}recalculateAndSaveOverlays(e,t){const i=tc();let l=new ki((_,T)=>_-T),p=yr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(_=>{for(const T of _)T.keys().forEach(F=>{const H=t.get(F);if(null===H)return;let ne=i.get(F)||Qa.empty();ne=T.applyToLocalView(H,ne),i.set(F,ne);const pe=(l.get(T.batchId)||yr()).add(F);l=l.insert(T.batchId,pe)})}).next(()=>{const _=[],T=l.getReverseIterator();for(;T.hasNext();){const F=T.getNext(),H=F.key,ne=F.value,pe=al();ne.forEach($e=>{if(!p.has($e)){const ft=dr(t.get($e),i.get($e));null!==ft&&pe.set($e,ft),p=p.add($e)}}),_.push(this.documentOverlayCache.saveOverlays(e,H,pe))}return et.waitFor(_)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return Jt.isDocumentKey((l=t).path)&&null===l.collectionGroup&&0===l.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Pg(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var l}getNextDocuments(e,t,i,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,l).next(p=>{const _=l-p.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,l-p.size):et.resolve(ol());let T=-1,F=p;return _.next(H=>et.forEach(H,(ne,pe)=>(T<pe.largestBatchId&&(T=pe.largestBatchId),p.get(ne)?et.resolve():this.remoteDocumentCache.getEntry(e,ne).next($e=>{F=F.insert(ne,$e)}))).next(()=>this.populateOverlays(e,H,p)).next(()=>this.computeViews(e,F,H,yr())).next(ne=>({batchId:T,changes:Fb(ne)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Jt(t)).next(i=>{let l=bc();return i.isFoundDocument()&&(l=l.insert(i.key,i)),l})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const l=t.collectionGroup;let p=bc();return this.indexManager.getCollectionParents(e,l).next(_=>et.forEach(_,T=>{const F=(H=t,ne=T.child(l),new Pd(ne,null,H.explicitOrderBy.slice(),H.filters.slice(),H.limit,H.limitType,H.startAt,H.endAt));var H,ne;return this.getDocumentsMatchingCollectionQuery(e,F,i).next(H=>{H.forEach((ne,pe)=>{p=p.insert(ne,pe)})})}).next(()=>p))}getDocumentsMatchingCollectionQuery(e,t,i){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(p=>(l=p,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l))).next(p=>{l.forEach((T,F)=>{const H=F.getKey();null===p.get(H)&&(p=p.insert(H,Ci.newInvalidDocument(H)))});let _=bc();return p.forEach((T,F)=>{const H=l.get(T);void 0!==H&&Tr(H.mutation,F,Qa.empty(),vs.now()),Kf(t,F)&&(_=_.insert(T,F))}),_})}}class dC{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return et.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var i;return this.cs.set(t.id,{id:(i=t).id,version:i.version,createTime:Mo(i.createTime)}),et.resolve()}getNamedQuery(e,t){return et.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(i=t).name,query:dE(i.bundledQuery),readTime:Mo(i.readTime)}),et.resolve();var i}}class y1{constructor(){this.overlays=new ki(Jt.comparator),this.ls=new Map}getOverlay(e,t){return et.resolve(this.overlays.get(t))}getOverlays(e,t){const i=ol();return et.forEach(t,l=>this.getOverlay(e,l).next(p=>{null!==p&&i.set(l,p)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((l,p)=>{this.we(e,t,p)}),et.resolve()}removeOverlaysForBatchId(e,t,i){const l=this.ls.get(i);return void 0!==l&&(l.forEach(p=>this.overlays=this.overlays.remove(p)),this.ls.delete(i)),et.resolve()}getOverlaysForCollection(e,t,i){const l=ol(),p=t.length+1,_=new Jt(t.child("")),T=this.overlays.getIteratorFrom(_);for(;T.hasNext();){const F=T.getNext().value,H=F.getKey();if(!t.isPrefixOf(H.path))break;H.path.length===p&&F.largestBatchId>i&&l.set(F.getKey(),F)}return et.resolve(l)}getOverlaysForCollectionGroup(e,t,i,l){let p=new ki((H,ne)=>H-ne);const _=this.overlays.getIterator();for(;_.hasNext();){const H=_.getNext().value;if(H.getKey().getCollectionGroup()===t&&H.largestBatchId>i){let ne=p.get(H.largestBatchId);null===ne&&(ne=ol(),p=p.insert(H.largestBatchId,ne)),ne.set(H.getKey(),H)}}const T=ol(),F=p.getIterator();for(;F.hasNext()&&(F.getNext().value.forEach((H,ne)=>T.set(H,ne)),!(T.size()>=l)););return et.resolve(T)}we(e,t,i){const l=this.overlays.get(i.key);if(null!==l){const _=this.ls.get(l.largestBatchId).delete(i.key);this.ls.set(l.largestBatchId,_)}this.overlays=this.overlays.insert(i.key,new ns(t,i));let p=this.ls.get(t);void 0===p&&(p=yr(),this.ls.set(t,p)),this.ls.set(t,p.add(i.key))}}class Kb{constructor(){this.fs=new Fi(Ra.ds),this.ws=new Fi(Ra._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const i=new Ra(e,t);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.ys(new Ra(e,t))}ps(e,t){e.forEach(i=>this.removeReference(i,t))}Is(e){const t=new Jt(new ur([])),i=new Ra(t,e),l=new Ra(t,e+1),p=[];return this.ws.forEachInRange([i,l],_=>{this.ys(_),p.push(_.key)}),p}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Jt(new ur([])),i=new Ra(t,e),l=new Ra(t,e+1);let p=yr();return this.ws.forEachInRange([i,l],_=>{p=p.add(_.key)}),p}containsKey(e){const t=new Ra(e,0),i=this.fs.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Ra{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Jt.comparator(e.key,t.key)||Kn(e.As,t.As)}static _s(e,t){return Kn(e.As,t.As)||Jt.comparator(e.key,t.key)}}class v1{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Fi(Ra.ds)}checkEmpty(e){return et.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,l){const p=this.vs;this.vs++;const _=new $n(p,t,i,l);this.mutationQueue.push(_);for(const T of l)this.Rs=this.Rs.add(new Ra(T.key,p)),this.indexManager.addToCollectionParentIndex(e,T.key.path.popLast());return et.resolve(_)}lookupMutationBatch(e,t){return et.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const l=this.bs(t+1),p=l<0?0:l;return et.resolve(this.mutationQueue.length>p?this.mutationQueue[p]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Ra(t,0),l=new Ra(t,Number.POSITIVE_INFINITY),p=[];return this.Rs.forEachInRange([i,l],_=>{const T=this.Ps(_.As);p.push(T)}),et.resolve(p)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Fi(Kn);return t.forEach(l=>{const p=new Ra(l,0),_=new Ra(l,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([p,_],T=>{i=i.add(T.As)})}),et.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,l=i.length+1;let p=i;Jt.isDocumentKey(p)||(p=p.child(""));const _=new Ra(new Jt(p),0);let T=new Fi(Kn);return this.Rs.forEachWhile(F=>{const H=F.key.path;return!!i.isPrefixOf(H)&&(H.length===l&&(T=T.add(F.As)),!0)},_),et.resolve(this.Vs(T))}Vs(e){const t=[];return e.forEach(i=>{const l=this.Ps(i);null!==l&&t.push(l)}),t}removeMutationBatch(e,t){On(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return et.forEach(t.mutations,l=>{const p=new Ra(l.key,t.batchId);return i=i.delete(p),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.Rs=i})}Cn(e){}containsKey(e,t){const i=new Ra(t,0),l=this.Rs.firstAfterOrEqual(i);return et.resolve(t.isEqual(l&&l.key))}performConsistencyCheck(e){return et.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class IE{constructor(e){this.Ds=e,this.docs=new ki(Jt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,l=this.docs.get(i),p=l?l.size:0,_=this.Ds(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:_}),this.size+=_-p,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return et.resolve(i?i.document.mutableCopy():Ci.newInvalidDocument(t))}getEntries(e,t){let i=ec();return t.forEach(l=>{const p=this.docs.get(l);i=i.insert(l,p?p.document.mutableCopy():Ci.newInvalidDocument(l))}),et.resolve(i)}getDocumentsMatchingQuery(e,t,i,l){let p=ec();const _=t.path,T=new Jt(_.child("")),F=this.docs.getIteratorFrom(T);for(;F.hasNext();){const{key:H,value:{document:ne}}=F.getNext();if(!_.isPrefixOf(H.path))break;H.path.length>_.length+1||Ya(tv(ne),i)<=0||(l.has(ne.key)||Kf(t,ne))&&(p=p.insert(ne.key,ne.mutableCopy()))}return et.resolve(p)}getAllFromCollectionGroup(e,t,i,l){yn()}Cs(e,t){return et.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new b1(this)}getSize(e){return et.resolve(this.size)}}class b1 extends aC{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((i,l)=>{l.isValidDocument()?t.push(this.os.addEntry(e,l)):this.os.removeEntry(i)}),et.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class w1{constructor(e){this.persistence=e,this.xs=new Bl(t=>ad(t),Ll),this.lastRemoteSnapshotVersion=Pn.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Kb,this.targetCount=0,this.Ms=rp.kn()}forEachTarget(e,t){return this.xs.forEach((i,l)=>t(l)),et.resolve()}getLastRemoteSnapshotVersion(e){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return et.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Ns&&(this.Ns=t),et.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new rp(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,et.resolve()}updateTargetData(e,t){return this.Fn(t),et.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,et.resolve()}removeTargets(e,t,i){let l=0;const p=[];return this.xs.forEach((_,T)=>{T.sequenceNumber<=t&&null===i.get(T.targetId)&&(this.xs.delete(_),p.push(this.removeMatchingKeysForTargetId(e,T.targetId)),l++)}),et.waitFor(p).next(()=>l)}getTargetCount(e){return et.resolve(this.targetCount)}getTargetData(e,t){const i=this.xs.get(t)||null;return et.resolve(i)}addMatchingKeys(e,t,i){return this.ks.gs(t,i),et.resolve()}removeMatchingKeys(e,t,i){this.ks.ps(t,i);const l=this.persistence.referenceDelegate,p=[];return l&&t.forEach(_=>{p.push(l.markPotentiallyOrphaned(e,_))}),et.waitFor(p)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),et.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ks.Es(t);return et.resolve(i)}containsKey(e,t){return et.resolve(this.ks.containsKey(t))}}class Yb{constructor(e,t){this.$s={},this.overlays={},this.Os=new Xi(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new w1(this),this.indexManager=new iC,this.remoteDocumentCache=new IE(i=>this.referenceDelegate.Ls(i)),this.serializer=new n1(t),this.qs=new dC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new y1,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.$s[e.toKey()];return i||(i=new v1(t,this.referenceDelegate),this.$s[e.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,i){Pt("MemoryPersistence","Starting transaction:",e);const l=new I1(this.Os.next());return this.referenceDelegate.Us(),i(l).next(p=>this.referenceDelegate.Ks(l).next(()=>p)).toPromise().then(p=>(l.raiseOnCommittedEvent(),p))}Gs(e,t){return et.or(Object.values(this.$s).map(i=>()=>i.containsKey(e,t)))}}class I1 extends GI{constructor(e){super(),this.currentSequenceNumber=e}}class Jb{constructor(e){this.persistence=e,this.Qs=new Kb,this.js=null}static zs(e){return new Jb(e)}get Ws(){if(this.js)return this.js;throw yn()}addReference(e,t,i){return this.Qs.addReference(i,t),this.Ws.delete(i.toString()),et.resolve()}removeReference(e,t,i){return this.Qs.removeReference(i,t),this.Ws.add(i.toString()),et.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),et.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(l=>this.Ws.add(l.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(l=>{l.forEach(p=>this.Ws.add(p.toString()))}).next(()=>i.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.Ws,i=>{const l=Jt.fromPath(i);return this.Hs(e,l).next(p=>{p||t.removeEntry(l,Pn.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(i=>{i?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return et.or([()=>et.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class D1{constructor(e,t,i,l){this.targetId=e,this.fromCache=t,this.Fi=i,this.Bi=l}static Li(e,t){let i=yr(),l=yr();for(const p of t.docChanges)switch(p.type){case 0:i=i.add(p.doc.key);break;case 1:l=l.add(p.doc.key)}return new D1(e,t.fromCache,i,l)}}class C1{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,i,l){return this.Ki(e,t).next(p=>p||this.Gi(e,t,l,i)).next(p=>p||this.Qi(e,t))}Ki(e,t){if(Rg(t))return et.resolve(null);let i=Xa(t);return this.indexManager.getIndexType(e,i).next(l=>0===l?null:(null!==t.limit&&1===l&&(t=I_(t,null,"F"),i=Xa(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(p=>{const _=yr(...p);return this.Ui.getDocuments(e,_).next(T=>this.indexManager.getMinOffset(e,i).next(F=>{const H=this.ji(t,T);return this.zi(t,H,_,F.readTime)?this.Ki(e,I_(t,null,"F")):this.Wi(e,H,t,F)}))})))}Gi(e,t,i,l){return Rg(t)||l.isEqual(Pn.min())?this.Qi(e,t):this.Ui.getDocuments(e,i).next(p=>{const _=this.ji(t,p);return this.zi(t,_,i,l)?this.Qi(e,t):(Yy()<=Ee.in.DEBUG&&Pt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Fd(t)),this.Wi(e,_,t,function ev(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,l=Pn.fromTimestamp(1e9===i?new vs(t+1,0):new vs(t,i));return new Ka(l,Jt.empty(),e)}(l,-1)))})}ji(e,t){let i=new Fi(yv(e));return t.forEach((l,p)=>{Kf(e,p)&&(i=i.add(p))}),i}zi(e,t,i,l){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const p="F"===e.limitType?t.last():t.first();return!!p&&(p.hasPendingWrites||p.version.compareTo(l)>0)}Qi(e,t){return Yy()<=Ee.in.DEBUG&&Pt("QueryEngine","Using full collection scan to execute query:",Fd(t)),this.Ui.getDocumentsMatchingQuery(e,t,Ka.min())}Wi(e,t,i,l){return this.Ui.getDocumentsMatchingQuery(e,i,l).next(p=>(t.forEach(_=>{p=p.insert(_.key,_)}),p))}}class fC{constructor(e,t,i,l){this.persistence=e,this.Hi=t,this.serializer=l,this.Ji=new ki(Kn),this.Yi=new Bl(p=>ad(p),Ll),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(i)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Zb(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function TE(n,e){return tw.apply(this,arguments)}function tw(){return tw=(0,ce.Z)(function*(n,e){const t=Kt(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let l;return t.mutationQueue.getAllMutationBatches(i).next(p=>(l=p,t.tr(e),t.mutationQueue.getAllMutationBatches(i))).next(p=>{const _=[],T=[];let F=yr();for(const H of l){_.push(H.batchId);for(const ne of H.mutations)F=F.add(ne.key)}for(const H of p){T.push(H.batchId);for(const ne of H.mutations)F=F.add(ne.key)}return t.localDocuments.getDocuments(i,F).next(H=>({er:H,removedBatchIds:_,addedBatchIds:T}))})})}),tw.apply(this,arguments)}function O1(n){const e=Kt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function gC(n,e){const t=Kt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function U_(n,e,t){return Hg.apply(this,arguments)}function Hg(){return Hg=(0,ce.Z)(function*(n,e,t){const i=Kt(n),l=i.Ji.get(e),p=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",p,_=>i.persistence.referenceDelegate.removeTarget(_,l)))}catch(_){if(!il(_))throw _;Pt("LocalStore",`Failed to update sequence numbers for target ${e}: ${_}`)}i.Ji=i.Ji.remove(e),i.Yi.delete(l.target)}),Hg.apply(this,arguments)}function Rv(n,e,t){const i=Kt(n);let l=Pn.min(),p=yr();return i.persistence.runTransaction("Execute query","readonly",_=>function(T,F,H){const ne=Kt(T),pe=ne.Yi.get(H);return void 0!==pe?et.resolve(ne.Ji.get(pe)):ne.Bs.getTargetData(F,H)}(i,_,Xa(e)).next(T=>{if(T)return l=T.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(_,T.targetId).next(F=>{p=F})}).next(()=>i.Hi.getDocumentsMatchingQuery(_,e,t?l:Pn.min(),t?p:yr())).next(T=>(function SE(n,e,t){let i=n.Xi.get(e)||Pn.min();t.forEach((l,p)=>{p.readTime.compareTo(i)>0&&(i=p.readTime)}),n.Xi.set(e,i)}(i,function kb(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),T),{documents:T,ir:p})))}class OE{constructor(){this.activeTargetIds=function c(){return rE}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class R1{constructor(){this.Hr=new OE,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,i){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new OE,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class dS{Yr(e){}shutdown(){}}class P1{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Pt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Pt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let NE=null;function Gg(){return null===NE?NE=268435456+Math.round(2147483648*Math.random()):NE++,"0x"+NE.toString(16)}const yC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vC{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Ec="WebChannelConnection";class ow extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,i,l,p){const _=Gg(),T=this.To(e,t);Pt("RestConnection",`Sending RPC '${e}' ${_}:`,T,i);const F={};return this.Eo(F,l,p),this.Ao(e,T,F,i).then(H=>(Pt("RestConnection",`Received RPC '${e}' ${_}: `,H),H),H=>{throw vc("RestConnection",`RPC '${e}' ${_} failed with error: `,H,"url: ",T,"request:",i),H})}vo(e,t,i,l,p,_){return this.Io(e,t,i,l,p)}Eo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Tu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((l,p)=>e[p]=l),i&&i.headers.forEach((l,p)=>e[p]=l)}To(e,t){return`${this.mo}/v1/${t}:${yC[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,i,l){const p=Gg();return new Promise((_,T)=>{const F=new zT;F.setWithCredentials(!0),F.listenOnce(qy.COMPLETE,()=>{try{switch(F.getLastErrorCode()){case xf.NO_ERROR:const ne=F.getResponseJson();Pt(Ec,`XHR for RPC '${e}' ${p} received:`,JSON.stringify(ne)),_(ne);break;case xf.TIMEOUT:Pt(Ec,`RPC '${e}' ${p} timed out`),T(new Nt(ot.DEADLINE_EXCEEDED,"Request time out"));break;case xf.HTTP_ERROR:const pe=F.getStatus();if(Pt(Ec,`RPC '${e}' ${p} failed with status:`,pe,"response text:",F.getResponseText()),pe>0){let $e=F.getResponseJson();Array.isArray($e)&&($e=$e[0]);const ft=$e?.error;if(ft&&ft.status&&ft.message){const Ft=function(ln){const hn=ln.toLowerCase().replace(/_/g,"-");return Object.values(ot).indexOf(hn)>=0?hn:ot.UNKNOWN}(ft.status);T(new Nt(Ft,ft.message))}else T(new Nt(ot.UNKNOWN,"Server responded with status "+F.getStatus()))}else T(new Nt(ot.UNAVAILABLE,"Connection failed."));break;default:yn()}}finally{Pt(Ec,`RPC '${e}' ${p} completed.`)}});const H=JSON.stringify(l);Pt(Ec,`RPC '${e}' ${p} sending request:`,l),F.send(t,"POST",H,i,15)})}Ro(e,t,i){const l=Gg(),p=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],_=Wy(),T=bh(),F={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},H=this.longPollingOptions.timeoutSeconds;void 0!==H&&(F.longPollingTimeout=Math.round(1e3*H)),this.useFetchStreams&&(F.xmlHttpFactory=new r_({})),this.Eo(F.initMessageHeaders,t,i),F.encodeInitMessageHeaders=!0;const ne=p.join("");Pt(Ec,`Creating RPC '${e}' stream ${l}: ${ne}`,F);const pe=_.createWebChannel(ne,F);let $e=!1,ft=!1;const Ft=new vC({ro:hn=>{ft?Pt(Ec,`Not sending because RPC '${e}' stream ${l} is closed:`,hn):($e||(Pt(Ec,`Opening RPC '${e}' stream ${l} transport.`),pe.open(),$e=!0),Pt(Ec,`RPC '${e}' stream ${l} sending:`,hn),pe.send(hn))},oo:()=>pe.close()}),ln=(hn,Dr,Xr)=>{hn.listen(Dr,kr=>{try{Xr(kr)}catch(Jo){setTimeout(()=>{throw Jo},0)}})};return ln(pe,Rf.EventType.OPEN,()=>{ft||Pt(Ec,`RPC '${e}' stream ${l} transport opened.`)}),ln(pe,Rf.EventType.CLOSE,()=>{ft||(ft=!0,Pt(Ec,`RPC '${e}' stream ${l} transport closed`),Ft.wo())}),ln(pe,Rf.EventType.ERROR,hn=>{ft||(ft=!0,vc(Ec,`RPC '${e}' stream ${l} transport errored:`,hn),Ft.wo(new Nt(ot.UNAVAILABLE,"The operation could not be completed")))}),ln(pe,Rf.EventType.MESSAGE,hn=>{var Dr;if(!ft){const Xr=hn.data[0];On(!!Xr);const Jo=Xr.error||(null===(Dr=Xr[0])||void 0===Dr?void 0:Dr.error);if(Jo){Pt(Ec,`RPC '${e}' stream ${l} received error:`,Jo);const Ro=Jo.status;let rs=function(Qg){const Xw=ri[Qg];if(void 0!==Xw)return Ld(Xw)}(Ro),zc=Jo.message;void 0===rs&&(rs=ot.INTERNAL,zc="Unknown error status: "+Ro+" with message "+Jo.message),ft=!0,Ft.wo(new Nt(rs,zc)),pe.close()}else Pt(Ec,`RPC '${e}' stream ${l} received:`,Xr),Ft._o(Xr)}}),ln(T,Eg.STAT_EVENT,hn=>{hn.stat===Zy.PROXY?Pt(Ec,`RPC '${e}' stream ${l} detected buffering proxy`):hn.stat===Zy.NOPROXY&&Pt(Ec,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{Ft.fo()},0),Ft}}function aw(){return typeof document<"u"?document:null}function V_(n){return new sE(n,!0)}class H_{constructor(e,t,i=1e3,l=1.5,p=6e4){this.ii=e,this.timerId=t,this.Po=i,this.bo=l,this.Vo=p,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),l=Math.max(0,t-i);l>0&&Pt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,l,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class k1{constructor(e,t,i,l,p,_,T,F){this.ii=e,this.$o=i,this.Oo=l,this.connection=p,this.authCredentialsProvider=_,this.appCheckCredentialsProvider=T,this.listener=F,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new H_(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,ce.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,ce.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var i=this;return(0,ce.Z)(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==e?i.qo.reset():t&&t.code===ot.RESOURCE_EXHAUSTED?(so(t.toString()),so("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):t&&t.code===ot.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,l])=>{this.Fo===t&&this.Zo(i,l)},i=>{e(()=>{const l=new Nt(ot.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(l)})})}Zo(e,t){const i=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(l=>{i(()=>this.tu(l))}),this.stream.onMessage(l=>{i(()=>this.onMessage(l))})}Go(){var e=this;this.state=5,this.qo.No((0,ce.Z)(function*(){e.state=0,e.start()}))}tu(e){return Pt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Pt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bC extends k1{constructor(e,t,i,l,p,_){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,l,_),this.serializer=p}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function JT(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(F=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===F?1:"REMOVE"===F?2:"CURRENT"===F?3:"RESET"===F?4:yn(),l=e.targetChange.targetIds||[],p=function(F,H){return F.useProto3Json?(On(void 0===H||"string"==typeof H),Rs.fromBase64String(H||"")):(On(void 0===H||H instanceof Uint8Array),Rs.fromUint8Array(H||new Uint8Array))}(n,e.targetChange.resumeToken),_=e.targetChange.cause,T=_&&function(F){const H=void 0===F.code?ot.UNKNOWN:Ld(F.code);return new Nt(H,F.message||"")}(_);t=new E_(i,l,p,T||null)}else if("documentChange"in e){const i=e.documentChange,l=Vd(n,i.document.name),p=Mo(i.document.updateTime),_=i.document.createTime?Mo(i.document.createTime):Pn.min(),T=new ya({mapValue:{fields:i.document.fields}}),F=Ci.newFoundDocument(l,p,_,T);t=new Qf(i.targetIds||[],i.removedTargetIds||[],F.key,F)}else if("documentDelete"in e){const i=e.documentDelete,l=Vd(n,i.document),p=i.readTime?Mo(i.readTime):Pn.min(),_=Ci.newNoDocument(l,p);t=new Qf([],i.removedTargetIds||[],_.key,_)}else if("documentRemove"in e){const i=e.documentRemove,l=Vd(n,i.document);t=new Qf([],i.removedTargetIds||[],l,null)}else{if(!("filter"in e))return yn();{const i=e.filter,{count:l=0,unchangedNames:p}=i,_=new No(l,p);t=new wv(i.targetId,_)}}var F;return t}(this.serializer,e),i=function(l){if(!("targetChange"in l))return Pn.min();const p=l.targetChange;return p.targetIds&&p.targetIds.length?Pn.min():p.readTime?Mo(p.readTime):Pn.min()}(e);return this.listener.nu(t,i)}su(e){const t={};t.database=xa(this.serializer),t.addTarget=function(l,p){let _;const T=p.target;if(_=qf(T)?{documents:XT(l,T)}:{query:lE(l,T)},_.targetId=p.targetId,p.resumeToken.approximateByteSize()>0){_.resumeToken=$D(l,p.resumeToken);const F=Fg(l,p.expectedCount);null!==F&&(_.expectedCount=F)}else if(p.snapshotVersion.compareTo(Pn.min())>0){_.readTime=Lg(l,p.snapshotVersion.toTimestamp());const F=Fg(l,p.expectedCount);null!==F&&(_.expectedCount=F)}return _}(this.serializer,e);const i=function Dv(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yn()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Wo(t)}iu(e){const t={};t.database=xa(this.serializer),t.removeTarget=e,this.Wo(t)}}class F1 extends k1{constructor(e,t,i,l,p,_){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,l,_),this.serializer=p,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(On(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function QT(n,e){return n&&n.length>0?(On(void 0!==e),n.map(t=>function(i,l){let p=Mo(i.updateTime?i.updateTime:l);return p.isEqual(Pn.min())&&(p=Mo(l)),new Ln(p,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Mo(e.commitTime);return this.listener.cu(i,t)}return On(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=xa(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>function S_(n,e){let t;if(e instanceof es)t={update:aE(n,e.key,e.value)};else if(e instanceof Qt)t={delete:Ud(n,e.key)};else if(e instanceof ts)t={update:aE(n,e.key,e.data),updateMask:KD(e.fieldMask)};else{if(!(e instanceof Tn))return yn();t={verify:Ud(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,p){const _=p.transform;if(_ instanceof se)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(_ instanceof fe)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:_.elements}};if(_ instanceof ze)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:_.elements}};if(_ instanceof dt)return{fieldPath:p.field.canonicalString(),increment:_.gt};throw yn()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(l=e.precondition).updateTime?{updateTime:D_(n,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:yn()),t;var l}(this.serializer,i))};this.Wo(t)}}class wC extends class{}{constructor(e,t,i,l){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=l,this.lu=!1}fu(){if(this.lu)throw new Nt(ot.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,p])=>this.connection.Io(e,t,i,l,p)).catch(l=>{throw"FirebaseError"===l.name?(l.code===ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Nt(ot.UNKNOWN,l.toString())})}vo(e,t,i,l){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,_])=>this.connection.vo(e,t,i,p,_,l)).catch(p=>{throw"FirebaseError"===p.name?(p.code===ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new Nt(ot.UNKNOWN,p.toString())})}terminate(){this.lu=!0}}class lw{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(so(t),this.mu=!1):Pt("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class EC{constructor(e,t,i,l,p){var _=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=p,this.Pu.Yr(T=>{i.enqueueAndForget((0,ce.Z)(function*(){var F;Hd(_)&&(Pt("RemoteStore","Restarting streams for network reachability change."),yield(F=(0,ce.Z)(function*(H){const ne=Kt(H);ne.vu.add(4),yield $g(ne),ne.bu.set("Unknown"),ne.vu.delete(4),yield Fv(ne)}),function(H){return F.apply(this,arguments)})(_))}))}),this.bu=new lw(i,l)}}function Fv(n){return uw.apply(this,arguments)}function uw(){return uw=(0,ce.Z)(function*(n){if(Hd(n))for(const e of n.Ru)yield e(!0)}),uw.apply(this,arguments)}function $g(n){return Lv.apply(this,arguments)}function Lv(){return Lv=(0,ce.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),Lv.apply(this,arguments)}function Bv(n,e){const t=Kt(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),PE(t)?RE(t):jv(t).Ko()&&dw(t,e))}function Uv(n,e){const t=Kt(n),i=jv(t);t.Au.delete(e),i.Ko()&&xE(t,e),0===t.Au.size&&(i.Ko()?i.jo():Hd(t)&&t.bu.set("Unknown"))}function dw(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pn.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}jv(n).su(e)}function xE(n,e){n.Vu.qt(e),jv(n).iu(e)}function RE(n){n.Vu=new Nu({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),jv(n).start(),n.bu.gu()}function PE(n){return Hd(n)&&!jv(n).Uo()&&n.Au.size>0}function Hd(n){return 0===Kt(n).vu.size}function hw(n){n.Vu=void 0}function L1(n){return Vv.apply(this,arguments)}function Vv(){return Vv=(0,ce.Z)(function*(n){n.Au.forEach((e,t)=>{dw(n,e)})}),Vv.apply(this,arguments)}function kE(n,e){return FE.apply(this,arguments)}function FE(){return FE=(0,ce.Z)(function*(n,e){hw(n),PE(n)?(n.bu.Iu(e),RE(n)):n.bu.set("Unknown")}),FE.apply(this,arguments)}function TC(n,e,t){return LE.apply(this,arguments)}function LE(){return LE=(0,ce.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof E_&&2===e.state&&e.cause)try{yield(i=(0,ce.Z)(function*(l,p){const _=p.cause;for(const T of p.targetIds)l.Au.has(T)&&(yield l.remoteSyncer.rejectListen(T,_),l.Au.delete(T),l.Vu.removeTarget(T))}),function(l,p){return i.apply(this,arguments)})(n,e)}catch(i){Pt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield fw(n,i)}else if(e instanceof Qf?n.Vu.Ht(e):e instanceof wv?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(Pn.min()))try{const i=yield O1(n.localStore);t.compareTo(i)>=0&&(yield function(l,p){const _=l.Vu.ce(p);return _.targetChanges.forEach((T,F)=>{if(T.resumeToken.approximateByteSize()>0){const H=l.Au.get(F);H&&l.Au.set(F,H.withResumeToken(T.resumeToken,p))}}),_.targetMismatches.forEach((T,F)=>{const H=l.Au.get(T);if(!H)return;l.Au.set(T,H.withResumeToken(Rs.EMPTY_BYTE_STRING,H.snapshotVersion)),xE(l,T);const ne=new jl(H.target,T,F,H.sequenceNumber);dw(l,ne)}),l.remoteSyncer.applyRemoteEvent(_)}(n,t))}catch(i){Pt("RemoteStore","Failed to raise snapshot:",i),yield fw(n,i)}var i}),LE.apply(this,arguments)}function fw(n,e,t){return pw.apply(this,arguments)}function pw(){return pw=(0,ce.Z)(function*(n,e,t){if(!il(e))throw e;n.vu.add(1),yield $g(n),n.bu.set("Offline"),t||(t=()=>O1(n.localStore)),n.asyncQueue.enqueueRetryable((0,ce.Z)(function*(){Pt("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield Fv(n)}))}),pw.apply(this,arguments)}function gw(n,e){return e().catch(t=>fw(n,t,e))}function zg(n){return mw.apply(this,arguments)}function mw(){return mw=(0,ce.Z)(function*(n){const e=Kt(n),t=Wg(e);let i=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;B1(e);)try{const l=yield gC(e.localStore,i);if(null===l){0===e.Eu.length&&t.jo();break}i=l.batchId,U1(e,l)}catch(l){yield fw(e,l)}V1(e)&&BE(e)}),mw.apply(this,arguments)}function B1(n){return Hd(n)&&n.Eu.length<10}function U1(n,e){n.Eu.push(e);const t=Wg(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function V1(n){return Hd(n)&&!Wg(n).Uo()&&n.Eu.length>0}function BE(n){Wg(n).start()}function H1(n){return UE.apply(this,arguments)}function UE(){return UE=(0,ce.Z)(function*(n){Wg(n).hu()}),UE.apply(this,arguments)}function j1(n){return _w.apply(this,arguments)}function _w(){return _w=(0,ce.Z)(function*(n){const e=Wg(n);for(const t of n.Eu)e.uu(t.mutations)}),_w.apply(this,arguments)}function Gc(n,e,t){return sp.apply(this,arguments)}function sp(){return sp=(0,ce.Z)(function*(n,e,t){const i=n.Eu.shift(),l=pr.from(i,e,t);yield gw(n,()=>n.remoteSyncer.applySuccessfulWrite(l)),yield zg(n)}),sp.apply(this,arguments)}function DC(n,e){return VE.apply(this,arguments)}function VE(){return VE=(0,ce.Z)(function*(n,e){var t;e&&Wg(n).ou&&(yield(t=(0,ce.Z)(function*(i,l){if(function cl(n){switch(n){default:return yn();case ot.CANCELLED:case ot.UNKNOWN:case ot.DEADLINE_EXCEEDED:case ot.RESOURCE_EXHAUSTED:case ot.INTERNAL:case ot.UNAVAILABLE:case ot.UNAUTHENTICATED:return!1;case ot.INVALID_ARGUMENT:case ot.NOT_FOUND:case ot.ALREADY_EXISTS:case ot.PERMISSION_DENIED:case ot.FAILED_PRECONDITION:case ot.ABORTED:case ot.OUT_OF_RANGE:case ot.UNIMPLEMENTED:case ot.DATA_LOSS:return!0}}(p=l.code)&&p!==ot.ABORTED){const _=i.Eu.shift();Wg(i).Qo(),yield gw(i,()=>i.remoteSyncer.rejectFailedWrite(_.batchId,l)),yield zg(i)}var p}),function(i,l){return t.apply(this,arguments)})(n,e)),V1(n)&&BE(n)}),VE.apply(this,arguments)}function CC(n,e){return G1.apply(this,arguments)}function G1(){return G1=(0,ce.Z)(function*(n,e){const t=Kt(n);t.asyncQueue.verifyOperationInProgress(),Pt("RemoteStore","RemoteStore received new credentials");const i=Hd(t);t.vu.add(3),yield $g(t),i&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Fv(t)}),G1.apply(this,arguments)}function Hv(){return Hv=(0,ce.Z)(function*(n,e){const t=Kt(n);e?(t.vu.delete(2),yield Fv(t)):e||(t.vu.add(2),yield $g(t),t.bu.set("Unknown"))}),Hv.apply(this,arguments)}function jv(n){return n.Su||(n.Su=function(e,t,i){const l=Kt(e);return l.fu(),new bC(t,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,i)}(n.datastore,n.asyncQueue,{uo:L1.bind(null,n),ao:kE.bind(null,n),nu:TC.bind(null,n)}),n.Ru.push(function(){var e=(0,ce.Z)(function*(t){t?(n.Su.Qo(),PE(n)?RE(n):n.bu.set("Unknown")):(yield n.Su.stop(),hw(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function Wg(n){return n.Du||(n.Du=function(e,t,i){const l=Kt(e);return l.fu(),new F1(t,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,i)}(n.datastore,n.asyncQueue,{uo:H1.bind(null,n),ao:DC.bind(null,n),au:j1.bind(null,n),cu:Gc.bind(null,n)}),n.Ru.push(function(){var e=(0,ce.Z)(function*(t){t?(n.Du.Qo(),yield zg(n)):(yield n.Du.stop(),n.Eu.length>0&&(Pt("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class $1{constructor(e,t,i,l,p){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=l,this.removalCallback=p,this.deferred=new oo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(_=>{})}static createAndSchedule(e,t,i,l,p){const _=Date.now()+i,T=new $1(e,t,_,l,p);return T.start(i),T}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Nt(ot.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jd(n,e){if(so("AsyncQueue",`${e}: ${n}`),il(n))return new Nt(ot.UNAVAILABLE,`${e}: ${n}`);throw n}class j_{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Jt.comparator(t.key,i.key):(t,i)=>Jt.comparator(t.key,i.key),this.keyedMap=bc(),this.sortedSet=new ki(this.comparator)}static emptySet(e){return new j_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof j_)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const l=t.getNext().key,p=i.getNext().key;if(!l.isEqual(p))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new j_;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class vw{constructor(){this.Cu=new ki(Jt.comparator)}track(e){const t=e.doc.key,i=this.Cu.get(t);i?0!==e.type&&3===i.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==i.type?this.Cu=this.Cu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Cu=this.Cu.remove(t):1===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):yn():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,i)=>{e.push(i)}),e}}class G_{constructor(e,t,i,l,p,_,T,F,H){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=l,this.mutatedKeys=p,this.fromCache=_,this.syncStateChanged=T,this.excludesMetadataChanges=F,this.hasCachedResults=H}static fromInitialDocuments(e,t,i,l,p){const _=[];return t.forEach(T=>{_.push({type:0,doc:T})}),new G_(e,t,j_.emptySet(t),_,i,l,!0,!1,p)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let l=0;l<t.length;l++)if(t[l].type!==i[l].type||!t[l].doc.isEqual(i[l].doc))return!1;return!0}}class z1{constructor(){this.Nu=void 0,this.listeners=[]}}class SC{constructor(){this.queries=new Bl(e=>_v(e),kd),this.onlineState="Unknown",this.ku=new Set}}function HE(n,e){return jE.apply(this,arguments)}function jE(){return jE=(0,ce.Z)(function*(n,e){const t=Kt(n),i=e.query;let l=!1,p=t.queries.get(i);if(p||(l=!0,p=new z1),l)try{p.Nu=yield t.onListen(i)}catch(_){const T=jd(_,`Initialization of query '${Fd(e.query)}' failed`);return void e.onError(T)}t.queries.set(i,p),p.listeners.push(e),e.Mu(t.onlineState),p.Nu&&e.$u(p.Nu)&&$v(t)}),jE.apply(this,arguments)}function Gv(n,e){return bw.apply(this,arguments)}function bw(){return bw=(0,ce.Z)(function*(n,e){const t=Kt(n),i=e.query;let l=!1;const p=t.queries.get(i);if(p){const _=p.listeners.indexOf(e);_>=0&&(p.listeners.splice(_,1),l=0===p.listeners.length)}if(l)return t.queries.delete(i),t.onUnlisten(i)}),bw.apply(this,arguments)}function AC(n,e){const t=Kt(n);let i=!1;for(const l of e){const _=t.queries.get(l.query);if(_){for(const T of _.listeners)T.$u(l)&&(i=!0);_.Nu=l}}i&&$v(t)}function ww(n,e,t){const i=Kt(n),l=i.queries.get(e);if(l)for(const p of l.listeners)p.onError(t);i.queries.delete(e)}function $v(n){n.ku.forEach(e=>{e.next()})}class W1{constructor(e,t,i){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(e){if(!this.options.includeMetadataChanges){const i=[];for(const l of e.docChanges)3!==l.type&&i.push(l);e=new G_(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=G_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Y1{constructor(e){this.key=e}}class GE{constructor(e){this.key=e}}class Iw{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=yr(),this.mutatedKeys=yr(),this.tc=yv(e),this.ec=new j_(this.tc)}get nc(){return this.Yu}sc(e,t){const i=t?t.ic:new vw,l=t?t.ec:this.ec;let p=t?t.mutatedKeys:this.mutatedKeys,_=l,T=!1;const F="F"===this.query.limitType&&l.size===this.query.limit?l.last():null,H="L"===this.query.limitType&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((ne,pe)=>{const $e=l.get(ne),ft=Kf(this.query,pe)?pe:null,Ft=!!$e&&this.mutatedKeys.has($e.key),ln=!!ft&&(ft.hasLocalMutations||this.mutatedKeys.has(ft.key)&&ft.hasCommittedMutations);let hn=!1;$e&&ft?$e.data.isEqual(ft.data)?Ft!==ln&&(i.track({type:3,doc:ft}),hn=!0):this.rc($e,ft)||(i.track({type:2,doc:ft}),hn=!0,(F&&this.tc(ft,F)>0||H&&this.tc(ft,H)<0)&&(T=!0)):!$e&&ft?(i.track({type:0,doc:ft}),hn=!0):$e&&!ft&&(i.track({type:1,doc:$e}),hn=!0,(F||H)&&(T=!0)),hn&&(ft?(_=_.add(ft),p=ln?p.add(ne):p.delete(ne)):(_=_.delete(ne),p=p.delete(ne)))}),null!==this.query.limit)for(;_.size>this.query.limit;){const ne="F"===this.query.limitType?_.last():_.first();_=_.delete(ne.key),p=p.delete(ne.key),i.track({type:1,doc:ne})}return{ec:_,ic:i,zi:T,mutatedKeys:p}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const l=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const p=e.ic.xu();p.sort((H,ne)=>function(pe,$e){const ft=Ft=>{switch(Ft){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yn()}};return ft(pe)-ft($e)}(H.type,ne.type)||this.tc(H.doc,ne.doc)),this.oc(i);const _=t?this.uc():[],T=0===this.Zu.size&&this.current?1:0,F=T!==this.Xu;return this.Xu=T,0!==p.length||F?{snapshot:new G_(this.query,e.ec,l,p,e.mutatedKeys,0===T,F,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:_}:{cc:_}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new vw,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=yr(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const t=[];return e.forEach(i=>{this.Zu.has(i)||t.push(new GE(i))}),this.Zu.forEach(i=>{e.has(i)||t.push(new Y1(i))}),t}hc(e){this.Yu=e.ir,this.Zu=yr();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return G_.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class hS{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class OC{constructor(e){this.key=e,this.fc=!1}}class fS{constructor(e,t,i,l,p,_){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=l,this.currentUser=p,this.maxConcurrentLimboResolutions=_,this.dc={},this.wc=new Bl(T=>_v(T),kd),this._c=new Map,this.mc=new Set,this.gc=new ki(Jt.comparator),this.yc=new Map,this.Ic=new Kb,this.Tc={},this.Ec=new Map,this.Ac=rp.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function NC(n,e){return $E.apply(this,arguments)}function $E(){return $E=(0,ce.Z)(function*(n,e){const t=function tT(n){const e=Kt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=X1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=YE.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=MC.bind(null,e),e.dc.nu=AC.bind(null,e.eventManager),e.dc.Pc=ww.bind(null,e.eventManager),e}(n);let i,l;const p=t.wc.get(e);if(p)i=p.targetId,t.sharedClientState.addLocalQueryTarget(i),l=p.view.lc();else{const _=yield function B_(n,e){const t=Kt(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let l;return t.Bs.getTargetData(i,e).next(p=>p?(l=p,et.resolve(l)):t.Bs.allocateTargetId(i).next(_=>(l=new jl(e,_,"TargetPurposeListen",i.currentSequenceNumber),t.Bs.addTargetData(i,l).next(()=>l))))}).then(i=>{const l=t.Ji.get(i.targetId);return(null===l||i.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(i.targetId,i),t.Yi.set(e,i.targetId)),i})}(t.localStore,Xa(e)),T=t.sharedClientState.addLocalQueryTarget(_.targetId);i=_.targetId,l=yield function zE(n,e,t,i,l){return Ew.apply(this,arguments)}(t,e,i,"current"===T,_.resumeToken),t.isPrimaryClient&&Bv(t.remoteStore,_)}return l}),$E.apply(this,arguments)}function Ew(){return Ew=(0,ce.Z)(function*(n,e,t,i,l){n.Rc=(pe,$e,ft)=>{return(Ft=(0,ce.Z)(function*(ln,hn,Dr,Xr){let kr=hn.view.sc(Dr);kr.zi&&(kr=yield Rv(ln.localStore,hn.query,!1).then(({documents:rs})=>hn.view.sc(rs,kr)));const Jo=Xr&&Xr.targetChanges.get(hn.targetId),Ro=hn.view.applyChanges(kr,ln.isPrimaryClient,Jo);return iD(ln,hn.targetId,Ro.cc),Ro.snapshot}),function(ln,hn,Dr,Xr){return Ft.apply(this,arguments)})(n,pe,$e,ft);var Ft};const p=yield Rv(n.localStore,e,!0),_=new Iw(e,p.ir),T=_.sc(p.documents),F=kh.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,l),H=_.applyChanges(T,n.isPrimaryClient,F);iD(n,t,H.cc);const ne=new hS(e,t,_);return n.wc.set(e,ne),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),H.snapshot}),Ew.apply(this,arguments)}function J1(n,e){return WE.apply(this,arguments)}function WE(){return WE=(0,ce.Z)(function*(n,e){const t=Kt(n),i=t.wc.get(e),l=t._c.get(i.targetId);if(l.length>1)return t._c.set(i.targetId,l.filter(p=>!kd(p,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield U_(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),Uv(t.remoteStore,i.targetId),zv(t,i.targetId)}).catch(wh))):(zv(t,i.targetId),yield U_(t.localStore,i.targetId,!0))}),WE.apply(this,arguments)}function Tw(){return Tw=(0,ce.Z)(function*(n,e,t){const i=function nT(n){const e=Kt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tD.bind(null,e),e}(n);try{const l=yield function(p,_){const T=Kt(p),F=vs.now(),H=_.reduce(($e,ft)=>$e.add(ft.key),yr());let ne,pe;return T.persistence.runTransaction("Locally write mutations","readwrite",$e=>{let ft=ec(),Ft=yr();return T.Zi.getEntries($e,H).next(ln=>{ft=ln,ft.forEach((hn,Dr)=>{Dr.isValidDocument()||(Ft=Ft.add(hn))})}).next(()=>T.localDocuments.getOverlayedDocuments($e,ft)).next(ln=>{ne=ln;const hn=[];for(const Dr of _){const Xr=pi(Dr,ne.get(Dr.key).overlayedDocument);null!=Xr&&hn.push(new ts(Dr.key,Xr,Nb(Xr.value.mapValue),En.exists(!0)))}return T.mutationQueue.addMutationBatch($e,F,hn,_)}).next(ln=>{pe=ln;const hn=ln.applyToLocalDocumentSet(ne,Ft);return T.documentOverlayCache.saveOverlays($e,ln.batchId,hn)})}).then(()=>({batchId:pe.batchId,changes:Fb(ne)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(l.batchId),function(p,_,T){let F=p.Tc[p.currentUser.toKey()];F||(F=new ki(Kn)),F=F.insert(_,T),p.Tc[p.currentUser.toKey()]=F}(i,l.batchId,t),yield op(i,l.changes),yield zg(i.remoteStore)}catch(l){const p=jd(l,"Failed to persist write");t.reject(p)}}),Tw.apply(this,arguments)}function X1(n,e){return qE.apply(this,arguments)}function qE(){return qE=(0,ce.Z)(function*(n,e){const t=Kt(n);try{const i=yield function pC(n,e){const t=Kt(n),i=e.snapshotVersion;let l=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",p=>{const _=t.Zi.newChangeBuffer({trackRemovals:!0});l=t.Ji;const T=[];e.targetChanges.forEach((ne,pe)=>{const $e=l.get(pe);if(!$e)return;T.push(t.Bs.removeMatchingKeys(p,ne.removedDocuments,pe).next(()=>t.Bs.addMatchingKeys(p,ne.addedDocuments,pe)));let ft=$e.withSequenceNumber(p.currentSequenceNumber);var Ft,ln,hn;null!==e.targetMismatches.get(pe)?ft=ft.withResumeToken(Rs.EMPTY_BYTE_STRING,Pn.min()).withLastLimboFreeSnapshotVersion(Pn.min()):ne.resumeToken.approximateByteSize()>0&&(ft=ft.withResumeToken(ne.resumeToken,i)),l=l.insert(pe,ft),ln=ft,hn=ne,(0===(Ft=$e).resumeToken.approximateByteSize()||ln.snapshotVersion.toMicroseconds()-Ft.snapshotVersion.toMicroseconds()>=3e8||hn.addedDocuments.size+hn.modifiedDocuments.size+hn.removedDocuments.size>0)&&T.push(t.Bs.updateTargetData(p,ft))});let F=ec(),H=yr();if(e.documentUpdates.forEach(ne=>{e.resolvedLimboDocuments.has(ne)&&T.push(t.persistence.referenceDelegate.updateLimboDocument(p,ne))}),T.push(function N1(n,e,t){let i=yr(),l=yr();return t.forEach(p=>i=i.add(p)),e.getEntries(n,i).next(p=>{let _=ec();return t.forEach((T,F)=>{const H=p.get(T);F.isFoundDocument()!==H.isFoundDocument()&&(l=l.add(T)),F.isNoDocument()&&F.version.isEqual(Pn.min())?(e.removeEntry(T,F.readTime),_=_.insert(T,F)):!H.isValidDocument()||F.version.compareTo(H.version)>0||0===F.version.compareTo(H.version)&&H.hasPendingWrites?(e.addEntry(F),_=_.insert(T,F)):Pt("LocalStore","Ignoring outdated watch update for ",T,". Current version:",H.version," Watch version:",F.version)}),{nr:_,sr:l}})}(p,_,e.documentUpdates).next(ne=>{F=ne.nr,H=ne.sr})),!i.isEqual(Pn.min())){const ne=t.Bs.getLastRemoteSnapshotVersion(p).next(pe=>t.Bs.setTargetsMetadata(p,p.currentSequenceNumber,i));T.push(ne)}return et.waitFor(T).next(()=>_.apply(p)).next(()=>t.localDocuments.getLocalViewOfDocuments(p,F,H)).next(()=>F)}).then(p=>(t.Ji=l,p))}(t.localStore,e);e.targetChanges.forEach((l,p)=>{const _=t.yc.get(p);_&&(On(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?_.fc=!0:l.modifiedDocuments.size>0?On(_.fc):l.removedDocuments.size>0&&(On(_.fc),_.fc=!1))}),yield op(t,i,e)}catch(i){yield wh(i)}}),qE.apply(this,arguments)}function ZE(n,e,t){const i=Kt(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const l=[];i.wc.forEach((p,_)=>{const T=_.view.Mu(e);T.snapshot&&l.push(T.snapshot)}),function(p,_){const T=Kt(p);T.onlineState=_;let F=!1;T.queries.forEach((H,ne)=>{for(const pe of ne.listeners)pe.Mu(_)&&(F=!0)}),F&&$v(T)}(i.eventManager,e),l.length&&i.dc.nu(l),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function MC(n,e,t){return Dw.apply(this,arguments)}function Dw(){return Dw=(0,ce.Z)(function*(n,e,t){const i=Kt(n);i.sharedClientState.updateQueryState(e,"rejected",t);const l=i.yc.get(e),p=l&&l.key;if(p){let _=new ki(Jt.comparator);_=_.insert(p,Ci.newNoDocument(p,Pn.min()));const T=yr().add(p),F=new Jf(Pn.min(),new Map,new ki(Kn),_,T);yield X1(i,F),i.gc=i.gc.remove(p),i.yc.delete(e),sD(i)}else yield U_(i.localStore,e,!1).then(()=>zv(i,e,t)).catch(wh)}),Dw.apply(this,arguments)}function eD(n,e){return Cw.apply(this,arguments)}function Cw(){return Cw=(0,ce.Z)(function*(n,e){const t=Kt(n),i=e.batch.batchId;try{const l=yield function A1(n,e){const t=Kt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const l=e.batch.keys(),p=t.Zi.newChangeBuffer({trackRemovals:!0});return function(_,T,F,H){const ne=F.batch,pe=ne.keys();let $e=et.resolve();return pe.forEach(ft=>{$e=$e.next(()=>H.getEntry(T,ft)).next(Ft=>{const ln=F.docVersions.get(ft);On(null!==ln),Ft.version.compareTo(ln)<0&&(ne.applyToRemoteDocument(Ft,F),Ft.isValidDocument()&&(Ft.setReadTime(F.commitVersion),H.addEntry(Ft)))})}),$e.next(()=>_.mutationQueue.removeMutationBatch(T,ne))}(t,i,e,p).next(()=>p.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,l,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(_){let T=yr();for(let F=0;F<_.mutationResults.length;++F)_.mutationResults[F].transformResults.length>0&&(T=T.add(_.batch.mutations[F].key));return T}(e))).next(()=>t.localDocuments.getDocuments(i,l))})}(t.localStore,e);rD(t,i,null),Sw(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield op(t,l)}catch(l){yield wh(l)}}),Cw.apply(this,arguments)}function tD(n,e,t){return KE.apply(this,arguments)}function KE(){return KE=(0,ce.Z)(function*(n,e,t){const i=Kt(n);try{const l=yield function(p,_){const T=Kt(p);return T.persistence.runTransaction("Reject batch","readwrite-primary",F=>{let H;return T.mutationQueue.lookupMutationBatch(F,_).next(ne=>(On(null!==ne),H=ne.keys(),T.mutationQueue.removeMutationBatch(F,ne))).next(()=>T.mutationQueue.performConsistencyCheck(F)).next(()=>T.documentOverlayCache.removeOverlaysForBatchId(F,H,_)).next(()=>T.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(F,H)).next(()=>T.localDocuments.getDocuments(F,H))})}(i.localStore,e);rD(i,e,t),Sw(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield op(i,l)}catch(l){yield wh(l)}}),KE.apply(this,arguments)}function Sw(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function rD(n,e,t){const i=Kt(n);let l=i.Tc[i.currentUser.toKey()];if(l){const p=l.get(e);p&&(t?p.reject(t):p.resolve(),l=l.remove(e)),i.Tc[i.currentUser.toKey()]=l}}function zv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n._c.get(e))n.wc.delete(i),t&&n.dc.Pc(i,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(i=>{n.Ic.containsKey(i)||RC(n,i)})}function RC(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(Uv(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),sD(n))}function iD(n,e,t){for(const i of t)i instanceof Y1?(n.Ic.addReference(i.key,e),pS(n,i)):i instanceof GE?(Pt("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,e),n.Ic.containsKey(i.key)||RC(n,i.key)):yn()}function pS(n,e){const t=e.key,i=t.path.canonicalString();n.gc.get(t)||n.mc.has(i)||(Pt("SyncEngine","New document in limbo: "+t),n.mc.add(i),sD(n))}function sD(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new Jt(ur.fromString(e)),i=n.Ac.next();n.yc.set(i,new OC(t)),n.gc=n.gc.insert(t,i),Bv(n.remoteStore,new jl(Xa(Zf(t.path)),i,"TargetPurposeLimboResolution",Xi.ct))}}function op(n,e,t){return oD.apply(this,arguments)}function oD(){return oD=(0,ce.Z)(function*(n,e,t){const i=Kt(n),l=[],p=[],_=[];var T;i.wc.isEmpty()||(i.wc.forEach((T,F)=>{_.push(i.Rc(F,e,t).then(H=>{if((H||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(F.targetId,H?.fromCache?"not-current":"current"),H){l.push(H);const ne=D1.Li(F.targetId,H);p.push(ne)}}))}),yield Promise.all(_),i.dc.nu(l),yield(T=(0,ce.Z)(function*(F,H){const ne=Kt(F);try{yield ne.persistence.runTransaction("notifyLocalViewChanges","readwrite",pe=>et.forEach(H,$e=>et.forEach($e.Fi,ft=>ne.persistence.referenceDelegate.addReference(pe,$e.targetId,ft)).next(()=>et.forEach($e.Bi,ft=>ne.persistence.referenceDelegate.removeReference(pe,$e.targetId,ft)))))}catch(pe){if(!il(pe))throw pe;Pt("LocalStore","Failed to update sequence numbers: "+pe)}for(const pe of H){const $e=pe.targetId;if(!pe.fromCache){const ft=ne.Ji.get($e),ln=ft.withLastLimboFreeSnapshotVersion(ft.snapshotVersion);ne.Ji=ne.Ji.insert($e,ln)}}}),function(F,H){return T.apply(this,arguments)})(i.localStore,p))}),oD.apply(this,arguments)}function gS(n,e){return Aw.apply(this,arguments)}function Aw(){return Aw=(0,ce.Z)(function*(n,e){const t=Kt(n);if(!t.currentUser.isEqual(e)){Pt("SyncEngine","User change. New user:",e.toKey());const i=yield TE(t.localStore,e);t.currentUser=e,(l=t).Ec.forEach(_=>{_.forEach(T=>{T.reject(new Nt(ot.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.Ec.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield op(t,i.er)}var l}),Aw.apply(this,arguments)}function YE(n,e){const t=Kt(n),i=t.yc.get(e);if(i&&i.fc)return yr().add(i.key);{let l=yr();const p=t._c.get(e);if(!p)return l;for(const _ of p){const T=t.wc.get(_);l=l.unionWith(T.view.nc)}return l}}class xw{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ce.Z)(function*(){t.serializer=V_(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function S1(n,e,t,i){return new fC(n,e,t,i)}(this.persistence,new C1,e.initialUser,this.serializer)}createPersistence(e){return new Yb(Jb.zs,this.serializer)}createSharedClientState(e){return new R1}terminate(){var e=this;return(0,ce.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class $_{initialize(e,t){var i=this;return(0,ce.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=l=>ZE(i.syncEngine,l,1),i.remoteStore.remoteSyncer.handleCredentialChange=gS.bind(null,i.syncEngine),yield function yw(n,e){return Hv.apply(this,arguments)}(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new SC}createDatastore(e){const t=V_(e.databaseInfo.databaseId),i=new ow(e.databaseInfo);return new wC(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,l=e.asyncQueue,p=T=>ZE(this.syncEngine,T,0),_=P1.D()?new P1:new dS,new EC(t,i,l,p,_);var t,i,l,p,_}createSyncEngine(e,t){return function(i,l,p,_,T,F,H){const ne=new fS(i,l,p,_,T,F);return H&&(ne.vc=!0),ne}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ce.Z)(function*(t){const i=Kt(t);Pt("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield $g(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class Pw{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):so("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class HC{constructor(e,t,i,l){var p=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=l,this.user=Ms.UNAUTHENTICATED,this.clientId=i_.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var _=(0,ce.Z)(function*(T){Pt("FirestoreClient","Received user=",T.uid),yield p.authCredentialListener(T),p.user=T});return function(T){return _.apply(this,arguments)}}()),this.appCheckCredentials.start(i,_=>(Pt("FirestoreClient","Received new app check token=",_),this.appCheckCredentialListener(_,this.user)))}getConfiguration(){var e=this;return(0,ce.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Nt(ot.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new oo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ce.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const l=jd(i,"Failed to shutdown persistence");t.reject(l)}})),t.promise}}function kw(n,e){return rT.apply(this,arguments)}function rT(){return rT=(0,ce.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Pt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var l=(0,ce.Z)(function*(p){i.isEqual(p)||(yield TE(e.localStore,p),i=p)});return function(p){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),rT.apply(this,arguments)}function iT(n,e){return Fw.apply(this,arguments)}function Fw(){return Fw=(0,ce.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function sT(n){return oT.apply(this,arguments)}(n);Pt("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(l=>CC(e.remoteStore,l)),n.setAppCheckTokenChangeListener((l,p)=>CC(e.remoteStore,p)),n._onlineComponents=e}),Fw.apply(this,arguments)}function oT(){return oT=(0,ce.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Pt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield kw(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function Lw(n){return"FirebaseError"===n.name?n.code===ot.FAILED_PRECONDITION||n.code===ot.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;vc("Error using user provided cache. Falling back to memory cache: "+t),yield kw(n,new xw)}}else Pt("FirestoreClient","Using default OfflineComponentProvider"),yield kw(n,new xw);return n._offlineComponents}),oT.apply(this,arguments)}function Wv(n){return Bw.apply(this,arguments)}function Bw(){return Bw=(0,ce.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Pt("FirestoreClient","Using user provided OnlineComponentProvider"),yield iT(n,n._uninitializedComponentsProvider._online)):(Pt("FirestoreClient","Using default OnlineComponentProvider"),yield iT(n,new $_))),n._onlineComponents}),Bw.apply(this,arguments)}function Kg(n){return cT.apply(this,arguments)}function cT(){return cT=(0,ce.Z)(function*(n){const e=yield Wv(n),t=e.eventManager;return t.onListen=NC.bind(null,e.syncEngine),t.onUnlisten=J1.bind(null,e.syncEngine),t}),cT.apply(this,arguments)}function _D(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const yD=new Map;function Hw(n,e,t){if(!t)throw new Nt(ot.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function dT(n){if(!Jt.isDocumentKey(n))throw new Nt(ot.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function vD(n){if(Jt.isDocumentKey(n))throw new Nt(ot.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function qv(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":yn()}function ii(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Nt(ot.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=qv(n);throw new Nt(ot.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class hT{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new Nt(ot.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Nt(ot.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function vS(n,e,t,i){if(!0===e&&!0===i)throw new Nt(ot.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=_D(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(l){if(void 0!==l.timeoutSeconds){if(isNaN(l.timeoutSeconds))throw new Nt(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Nt(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Nt(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class z_{constructor(e,t,i,l){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hT({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Nt(ot.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Nt(ot.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hT(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new UI;switch(t.type){case"firstParty":return new Pf(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Nt(ot.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=yD.get(e);t&&(Pt("ComponentProvider","Removing Datastore"),yD.delete(e),t.terminate())}(this),Promise.resolve()}}class co{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $c(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new co(this.firestore,e,this._key)}}class Pa{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Pa(this.firestore,e,this._query)}}class $c extends Pa{constructor(e,t,i){super(e,t,Zf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new co(this.firestore,null,new Jt(e))}withConverter(e){return new $c(this.firestore,e,this._path)}}function Gw(n,e,...t){if(n=(0,he.m9)(n),Hw("collection","path",e),n instanceof z_){const i=ur.fromString(e,...t);return vD(i),new $c(n,null,i)}{if(!(n instanceof co||n instanceof $c))throw new Nt(ot.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ur.fromString(e,...t));return vD(i),new $c(n.firestore,null,i)}}function fT(n,e,...t){if(n=(0,he.m9)(n),1===arguments.length&&(e=i_.A()),Hw("doc","path",e),n instanceof z_){const i=ur.fromString(e,...t);return dT(i),new co(n,null,new Jt(i))}{if(!(n instanceof co||n instanceof $c))throw new Nt(ot.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ur.fromString(e,...t));return dT(i),new co(n.firestore,n instanceof $c?n.converter:null,new Jt(i))}}class wS{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new H_(this,"async_queue_retry"),this.Xc=()=>{const t=aw();t&&Pt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=aw();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=aw();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new oo;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,ce.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!il(t))throw t;Pt("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(i=>{throw this.Wc=i,this.Hc=!1,so("INTERNAL UNHANDLED ERROR: ",function(p){let _=p.message||"";return p.stack&&(_=p.stack.includes(p.message)?p.stack:p.message+"\n"+p.stack),_}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=t,t}enqueueAfterDelay(e,t,i){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const l=$1.createAndSchedule(this,e,t,i,p=>this.na(p));return this.zc.push(l),l}Zc(){this.Wc&&yn()}verifyOperationInProgress(){}sa(){var e=this;return(0,ce.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class Ps extends z_{constructor(e,t,i,l){super(e,t,i,l),this.type="firestore",this._queue=new wS,this._persistenceKey=l?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||wD(this),this._firestoreClient.terminate()}}function ES(n,e){const t="object"==typeof n?n:(0,we.Mq)(),i="string"==typeof n?n:e||"(default)",l=(0,we.qX)(t,"firestore").getImmediate({identifier:i});if(!l._initialized){const p=(0,he.P0)("firestore");p&&function zC(n,e,t,i={}){var l;const p=(n=ii(n,z_))._getSettings(),_=`${e}:${t}`;if("firestore.googleapis.com"!==p.host&&p.host!==_&&vc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},p),{host:_,ssl:!1})),i.mockUserToken){let T,F;if("string"==typeof i.mockUserToken)T=i.mockUserToken,F=Ms.MOCK_USER;else{T=(0,he.Sg)(i.mockUserToken,null===(l=n._app)||void 0===l?void 0:l.options.projectId);const H=i.mockUserToken.sub||i.mockUserToken.user_id;if(!H)throw new Nt(ot.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");F=new Ms(H)}n._authCredentials=new VI(new Jy(T,F))}}(l,...p)}return l}function xo(n){return n._firestoreClient||wD(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function wD(n){var e,t,i;const l=n._freezeSettings(),p=(T=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new av(n._databaseId,T,n._persistenceKey,(H=l).host,H.ssl,H.experimentalForceLongPolling,H.experimentalAutoDetectLongPolling,_D(H.experimentalLongPollingOptions),H.useFetchStreams));var T,H;n._firestoreClient=new HC(n._authCredentials,n._appCheckCredentials,n._queue,p),null!==(t=l.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=l.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:l.cache.kind,_offline:l.cache._offlineComponentProvider,_online:l.cache._onlineComponentProvider})}class cp{constructor(e){this._byteString=e}static fromBase64String(e){try{return new cp(Rs.fromBase64String(e))}catch(t){throw new Nt(ot.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new cp(Rs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class lp{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Nt(ot.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Zv{constructor(e){this._methodName=e}}class Kv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Nt(ot.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Nt(ot.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Kn(this._lat,e._lat)||Kn(this._long,e._long)}}const gT=/^__.*__$/;class zw{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new ts(e,this.data,this.fieldMask,t,this.fieldTransforms):new es(e,this.data,t,this.fieldTransforms)}}class KC{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new ts(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function YC(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yn()}}class mT{constructor(e,t,i,l,p,_){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=l,void 0===p&&this.ua(),this.fieldTransforms=p||[],this.fieldMask=_||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new mT(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.aa({path:i,la:!1});return l.fa(e),l}da(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.aa({path:i,la:!1});return l.ua(),l}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Kw(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(YC(this.ca)&&gT.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class TD{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||V_(e)}ya(e,t,i,l=!1){return new mT({ca:e,methodName:t,ga:i,path:Qi.emptyPath(),la:!1,ma:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function q_(n){const e=n._freezeSettings(),t=V_(n._databaseId);return new TD(n._databaseId,!!e.ignoreUndefinedProperties,t)}function _T(n,e,t,i,l,p={}){const _=n.ya(p.merge||p.mergeFields?2:0,e,t,l);bT("Data must be an object, but it was:",_,i);const T=vT(i,_);let F,H;if(p.merge)F=new Qa(_.fieldMask),H=_.fieldTransforms;else if(p.mergeFields){const ne=[];for(const pe of p.mergeFields){const $e=Jv(e,pe,t);if(!_.contains($e))throw new Nt(ot.INVALID_ARGUMENT,`Field '${$e}' is specified in your field mask but missing from your input data.`);OD(ne,$e)||ne.push($e)}F=new Qa(ne),H=_.fieldTransforms.filter(pe=>F.covers(pe.field))}else F=null,H=_.fieldTransforms;return new zw(new ya(T),F,H)}class Yv extends Zv{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yv}}function DD(n,e,t){return new mT({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class CD extends Zv{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=DD(this,e,!0),i=this.pa.map(p=>Z_(p,t)),l=new fe(i);return new $t(e.path,l)}isEqual(e){return this===e}}class SD extends Zv{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=DD(this,e,!0),i=this.pa.map(p=>Z_(p,t)),l=new ze(i);return new $t(e.path,l)}isEqual(e){return this===e}}function qw(n,e,t,i=!1){return Z_(t,n.ya(i?4:3,e))}function Z_(n,e){if(Zw(n=(0,he.m9)(n)))return bT("Unsupported field value:",e,n),vT(n,e);if(n instanceof Zv)return function(t,i){if(!YC(i.ca))throw i._a(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${t._methodName}() is not currently supported inside arrays`);const l=t._toFieldTransform(i);l&&i.fieldTransforms.push(l)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,i){const l=[];let p=0;for(const _ of t){let T=Z_(_,i.wa(p));null==T&&(T={nullValue:"NULL_VALUE"}),l.push(T),p++}return{arrayValue:{values:l}}}(n,e)}return function(t,i){if(null===(t=(0,he.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return d(i.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const l=vs.fromDate(t);return{timestampValue:Lg(i.serializer,l)}}if(t instanceof vs){const l=new vs(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Lg(i.serializer,l)}}if(t instanceof Kv)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof cp)return{bytesValue:$D(i.serializer,t._byteString)};if(t instanceof co){const l=i.databaseId,p=t.firestore._databaseId;if(!p.isEqual(l))throw i._a(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:oE(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i._a(`Unsupported field value: ${qv(t)}`)}(n,e)}function vT(n,e){const t={};return kl(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Pl(n,(i,l)=>{const p=Z_(l,e.ha(i));null!=p&&(t[i]=p)}),{mapValue:{fields:t}}}function Zw(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof vs||n instanceof Kv||n instanceof cp||n instanceof co||n instanceof Zv)}function bT(n,e,t){if(!Zw(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=qv(t);throw e._a("an object"===i?n+" a custom object":n+" "+i)}var i}function Jv(n,e,t){if((e=(0,he.m9)(e))instanceof lp)return e._internalPath;if("string"==typeof e)return wT(n,e);throw Kw("Field path arguments must be of type string or ",n,!1,void 0,t)}const AS=new RegExp("[~\\*/\\[\\]]");function wT(n,e,t){if(e.search(AS)>=0)throw Kw(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new lp(...e.split("."))._internalPath}catch{throw Kw(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Kw(n,e,t,i,l){const p=i&&!i.isEmpty(),_=void 0!==l;let T=`Function ${e}() called with invalid data`;t&&(T+=" (via `toFirestore()`)"),T+=". ";let F="";return(p||_)&&(F+=" (found",p&&(F+=` in field ${i}`),_&&(F+=` in document ${l}`),F+=")"),new Nt(ot.INVALID_ARGUMENT,T+n+F)}function OD(n,e){return n.some(t=>t.isEqual(e))}class IT{constructor(e,t,i,l,p){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=l,this._converter=p}get id(){return this._key.path.lastSegment()}get ref(){return new co(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new QC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Qv("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class QC extends IT{data(){return super.data()}}function Qv(n,e){return"string"==typeof e?wT(n,e):e instanceof lp?e._internalPath:e._delegate._internalPath}class TT{}class Xv extends TT{}function ND(n,e,...t){let i=[];e instanceof TT&&i.push(e),i=i.concat(t),function(l){const p=l.filter(T=>T instanceof up).length,_=l.filter(T=>T instanceof Yw).length;if(p>1||p>0&&_>0)throw new Nt(ot.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const l of i)n=l._apply(n);return n}class Yw extends Xv{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Yw(e,t,i)}_apply(e){const t=this._parse(e);return oS(e._query,t),new Pa(e.firestore,e.converter,w_(e._query,t))}_parse(e){const t=q_(e.firestore);return function(l,p,_,T,F,H,ne){let pe;if(F.isKeyField()){if("array-contains"===H||"array-contains-any"===H)throw new Nt(ot.INVALID_ARGUMENT,`Invalid Query. You can't perform '${H}' queries on documentId().`);if("in"===H||"not-in"===H){xD(ne,H);const $e=[];for(const ft of ne)$e.push(MD(T,l,ft));pe={arrayValue:{values:$e}}}else pe=MD(T,l,ne)}else"in"!==H&&"not-in"!==H&&"array-contains-any"!==H||xD(ne,H),pe=qw(_,"where",ne,"in"===H||"not-in"===H);return Lr.create(F,H,pe)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function XC(n,e,t){const i=e,l=Qv("where",n);return Yw._create(l,i,t)}class up extends TT{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new up(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:li.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,l){let p=i;const _=l.getFlattenedFilters();for(const T of _)oS(p,T),p=w_(p,T)}(e._query,t),new Pa(e.firestore,e.converter,w_(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class DT extends Xv{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new DT(e,t)}_apply(e){const t=function(i,l,p){if(null!==i.startAt)throw new Nt(ot.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Nt(ot.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const _=new xh(l,p);return function(T,F){if(null===mv(T)){const H=us(T);null!==H&&aS(0,H,F.field)}}(i,_),_}(e._query,this._field,this._direction);return new Pa(e.firestore,e.converter,function(i,l){const p=i.explicitOrderBy.concat([l]);return new Pd(i.path,i.collectionGroup,p,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function Jw(n,e="asc"){const t=e,i=Qv("orderBy",n);return DT._create(i,t)}class Qw extends Xv{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new Qw(e,t,i)}_apply(e){return new Pa(e.firestore,e.converter,I_(e._query,this._limit,this._limitType))}}function nS(n){return function jw(n,e){if(e<=0)throw new Nt(ot.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}("limit",n),Qw._create("limit",n,"F")}class e0 extends Xv{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new e0(e,t,i)}_apply(e){const t=function sS(n,e,t,i){if(t[0]=(0,he.m9)(t[0]),t[0]instanceof IT)return function(l,p,_,T,F){if(!T)throw new Nt(ot.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${_}().`);const H=[];for(const ne of Rh(l))if(ne.field.isKeyField())H.push(Ou(p,T.key));else{const pe=T.data.field(ne.field);if(Hf(pe))throw new Nt(ot.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ne.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===pe){const $e=ne.field.canonicalString();throw new Nt(ot.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${$e}' (used as the orderBy) does not exist.`)}H.push(pe)}return new Fl(H,F)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const l=q_(n.firestore);return function(p,_,T,F,H,ne){const pe=p.explicitOrderBy;if(H.length>pe.length)throw new Nt(ot.INVALID_ARGUMENT,`Too many arguments provided to ${F}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const $e=[];for(let ft=0;ft<H.length;ft++){const Ft=H[ft];if(pe[ft].field.isKeyField()){if("string"!=typeof Ft)throw new Nt(ot.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${F}(), but got a ${typeof Ft}`);if(!Pg(p)&&-1!==Ft.indexOf("/"))throw new Nt(ot.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${F}() must be a plain document ID, but '${Ft}' contains a slash.`);const ln=p.path.child(ur.fromString(Ft));if(!Jt.isDocumentKey(ln))throw new Nt(ot.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${F}() must result in a valid document path, but '${ln}' is not because it contains an odd number of segments.`);const hn=new Jt(ln);$e.push(Ou(_,hn))}else{const ln=qw(T,F,Ft);$e.push(ln)}}return new Fl($e,ne)}(n._query,n.firestore._databaseId,l,e,t,i)}}(e,this.type,this._docOrFields,this._inclusive);return new Pa(e.firestore,e.converter,(l=t,new Pd((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,l,i.endAt)));var i,l}}function iS(...n){return e0._create("startAfter",n,!1)}function MD(n,e,t){if("string"==typeof(t=(0,he.m9)(t))){if(""===t)throw new Nt(ot.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Pg(e)&&-1!==t.indexOf("/"))throw new Nt(ot.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(ur.fromString(t));if(!Jt.isDocumentKey(i))throw new Nt(ot.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Ou(n,new Jt(i))}if(t instanceof co)return Ou(n,t._key);throw new Nt(ot.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qv(t)}.`)}function xD(n,e){if(!Array.isArray(n)||0===n.length)throw new Nt(ot.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function oS(n,e){if(e.isInequality()){const i=us(n),l=e.field;if(null!==i&&!i.isEqual(l))throw new Nt(ot.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${l.toString()}'`);const p=mv(n);null!==p&&aS(0,l,p)}const t=function(i,l){for(const p of i)for(const _ of p.getFlattenedFilters())if(l.indexOf(_.op)>=0)return _.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Nt(ot.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function aS(n,e,t){if(!t.isEqual(e))throw new Nt(ot.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class NS{convertValue(e,t="none"){switch(Hc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bs(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Su(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw yn()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Pl(e,(l,p)=>{i[l]=this.convertValue(p,t)}),i}convertGeoPoint(e){return new Kv(bs(e.latitude),bs(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Oh(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Sd(e));default:return null}}convertTimestamp(e){const t=sl(e);return new vs(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=ur.fromString(e);On(A_(i));const l=new Ad(i.get(1),i.get(3)),p=new Jt(i.popFirst(5));return l.isEqual(t)||so(`Document ${p} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),p}}function RD(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class Jg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class t0 extends IT{constructor(e,t,i,l,p,_){super(e,t,i,l,_),this._firestore=e,this._firestoreImpl=e,this.metadata=p}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new r(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Qv("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class r extends t0{data(e={}){return super.data(e)}}class s{constructor(e,t,i,l){this._firestore=e,this._userDataWriter=t,this._snapshot=l,this.metadata=new Jg(l.hasPendingWrites,l.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new r(this._firestore,this._userDataWriter,i.key,i,new Jg(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Nt(ot.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,l){if(i._snapshot.oldDocs.isEmpty()){let p=0;return i._snapshot.docChanges.map(_=>({type:"added",doc:new r(i._firestore,i._userDataWriter,_.doc.key,_.doc,new Jg(i._snapshot.mutatedKeys.has(_.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:p++}))}{let p=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(_=>l||3!==_.type).map(_=>{const T=new r(i._firestore,i._userDataWriter,_.doc.key,_.doc,new Jg(i._snapshot.mutatedKeys.has(_.doc.key),i._snapshot.fromCache),i.query.converter);let F=-1,H=-1;return 0!==_.type&&(F=p.indexOf(_.doc.key),p=p.delete(_.doc.key)),1!==_.type&&(p=p.add(_.doc),H=p.indexOf(_.doc.key)),{type:a(_.type),doc:T,oldIndex:F,newIndex:H}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function a(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yn()}}function g(n){n=ii(n,co);const e=ii(n.firestore,Ps);return function Vw(n,e,t={}){const i=new oo;return n.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return function(l,p,_,T,F){const H=new Pw({next:pe=>{p.enqueueAndForget(()=>Gv(l,ne));const $e=pe.docs.has(_);!$e&&pe.fromCache?F.reject(new Nt(ot.UNAVAILABLE,"Failed to get document because the client is offline.")):$e&&pe.fromCache&&T&&"server"===T.source?F.reject(new Nt(ot.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):F.resolve(pe)},error:pe=>F.reject(pe)}),ne=new W1(Zf(_.path),H,{includeMetadataChanges:!0,Ku:!0});return HE(l,ne)}(yield Kg(n),n.asyncQueue,e,t,i)})),i.promise}(xo(e),n._key).then(t=>function Et(n,e,t){const i=t.docs.get(e._key),l=new y(n);return new t0(n,l,e._key,i,new Jg(t.hasPendingWrites,t.fromCache),e.converter)}(e,n,t))}class y extends NS{constructor(e){super(),this.firestore=e}convertBytes(e){return new cp(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new co(this.firestore,null,t)}}function P(n){n=ii(n,Pa);const e=ii(n.firestore,Ps),t=xo(e),i=new y(e);return function ET(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Nt(ot.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),function gD(n,e,t={}){const i=new oo;return n.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return function(l,p,_,T,F){const H=new Pw({next:pe=>{p.enqueueAndForget(()=>Gv(l,ne)),pe.fromCache&&"server"===T.source?F.reject(new Nt(ot.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):F.resolve(pe)},error:pe=>F.reject(pe)}),ne=new W1(_,H,{includeMetadataChanges:!0,Ku:!0});return HE(l,ne)}(yield Kg(n),n.asyncQueue,e,t,i)})),i.promise}(t,n._query).then(l=>new s(e,i,n,l))}function me(n,e,t){n=ii(n,co);const i=ii(n.firestore,Ps),l=RD(n.converter,e,t);return Cn(i,[_T(q_(i),"setDoc",n._key,l,null!==n.converter,t).toMutation(n._key,En.none())])}function Fe(n,e,t,...i){n=ii(n,co);const l=ii(n.firestore,Ps),p=q_(l);let _;return _="string"==typeof(e=(0,he.m9)(e))||e instanceof lp?function yT(n,e,t,i,l,p){const _=n.ya(1,e,t),T=[Jv(e,i,t)],F=[l];if(p.length%2!=0)throw new Nt(ot.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let $e=0;$e<p.length;$e+=2)T.push(Jv(e,p[$e])),F.push(p[$e+1]);const H=[],ne=ya.empty();for(let $e=T.length-1;$e>=0;--$e)if(!OD(H,T[$e])){const ft=T[$e];let Ft=F[$e];Ft=(0,he.m9)(Ft);const ln=_.da(ft);if(Ft instanceof Yv)H.push(ft);else{const hn=Z_(Ft,ln);null!=hn&&(H.push(ft),ne.set(ft,hn))}}const pe=new Qa(H);return new KC(ne,pe,_.fieldTransforms)}(p,"updateDoc",n._key,e,t,i):function AD(n,e,t,i){const l=n.ya(1,e,t);bT("Data must be an object, but it was:",l,i);const p=[],_=ya.empty();Pl(i,(F,H)=>{const ne=wT(e,F,t);H=(0,he.m9)(H);const pe=l.da(ne);if(H instanceof Yv)p.push(ne);else{const $e=Z_(H,pe);null!=$e&&(p.push(ne),_.set(ne,$e))}});const T=new Qa(p);return new KC(_,T,l.fieldTransforms)}(p,"updateDoc",n._key,e),Cn(l,[_.toMutation(n._key,En.exists(!0))])}function Ge(n){return Cn(ii(n.firestore,Ps),[new Qt(n._key,En.none())])}function vt(n,e){const t=ii(n.firestore,Ps),i=fT(n),l=RD(n.converter,e);return Cn(t,[_T(q_(n.firestore),"addDoc",i._key,l,null!==n.converter,{}).toMutation(i._key,En.exists(!1))]).then(()=>i)}function Cn(n,e){return function(t,i){const l=new oo;return t.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return function Q1(n,e,t){return Tw.apply(this,arguments)}(yield function Uw(n){return Wv(n).then(e=>e.syncEngine)}(t),i,l)})),l.promise}(xo(n),e)}function eA(...n){return new CD("arrayUnion",n)}function tA(...n){return new SD("arrayRemove",n)}!function(n,e=!0){Tu=we.Jn,(0,we.Xd)(new re.wA("firestore",(t,{instanceIdentifier:i,options:l})=>{const p=t.getProvider("app").getImmediate(),_=new Ps(new yb(t.getProvider("auth-internal")),new wb(t.getProvider("app-check-internal")),function(T,F){if(!Object.prototype.hasOwnProperty.apply(T.options,["projectId"]))throw new Nt(ot.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ad(T.options.projectId,F)}(p,i),p);return l=Object.assign({useFetchStreams:e},l),_._setSettings(l),_},"PUBLIC").setMultipleInstances(!0)),(0,we.KN)(Ky,"3.13.0",n),(0,we.KN)(Ky,"3.13.0","esm2017")}();class FD{constructor(e){return e}}const LS="firestore",lS=new X.OlP("angularfire2.firestore-instances");function iA(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new FD(i)}}const sA={provide:class nA{constructor(){return(0,b.vb)(LS)}},deps:[[new X.FiY,lS]]},oA={provide:FD,useFactory:function rA(n,e){const t=(0,b.JM)(LS,n,e);return t&&new FD(t)},deps:[[new X.FiY,lS],u.Ot]};let aA=(()=>{class n{constructor(){(0,ye.KN)("angularfire",b.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=X.oAB({type:n}),n.\u0275inj=X.cJS({providers:[oA,sA]}),n})();function cA(n,...e){return{ngModule:aA,providers:[{provide:lS,useFactory:iA(n),multi:!0,deps:[X.R0b,X.zs3,b.HU,u.z6,[new X.FiY,l0],[new X.FiY,pu],...e]}]}}const lA=(0,b.u3)(vt,!0),uA=(0,b.u3)(tA,!0),dA=(0,b.u3)(eA,!0),hA=(0,b.u3)(Gw,!0),fA=(0,b.u3)(Ge,!0),pA=(0,b.u3)(fT,!0),gA=(0,b.u3)(g,!0),mA=(0,b.u3)(P,!0),_A=(0,b.u3)(ES,!0),yA=(0,b.u3)(nS,!0),vA=(0,b.u3)(Jw,!0),bA=(0,b.u3)(ND,!0),wA=(0,b.u3)(me,!0),IA=(0,b.u3)(iS,!0),EA=(0,b.u3)(Fe,!0),TA=(0,b.u3)(XC,!0)},559:(Ht,Ue,$)=>{"use strict";$.d(Ue,{q4:()=>Vu,HU:()=>ou,vb:()=>yd,JM:()=>Yd,u3:()=>cu});var b=$(9468),X=$(4097),u=$(5861),ye=$(7592),ce=$(229),he=$(6820),we=$(7879);const ke=(N,L)=>L.some(te=>N instanceof te);let Ee,re;const Ce=new WeakMap,Me=new WeakMap,qe=new WeakMap,It=new WeakMap,xt=new WeakMap;let Tt={get(N,L,te){if(N instanceof IDBTransaction){if("done"===L)return Me.get(N);if("objectStoreNames"===L)return N.objectStoreNames||qe.get(N);if("store"===L)return te.objectStoreNames[1]?void 0:te.objectStore(te.objectStoreNames[0])}return We(N[L])},set:(N,L,te)=>(N[L]=te,!0),has:(N,L)=>N instanceof IDBTransaction&&("done"===L||"store"===L)||L in N};function yt(N){return"function"==typeof N?function rt(N){return N!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ae(){return re||(re=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(N)?function(...L){return N.apply(Oe(this),L),We(Ce.get(this))}:function(...L){return We(N.apply(Oe(this),L))}:function(L,...te){const ge=N.call(Oe(this),L,...te);return qe.set(ge,L.sort?L.sort():[L]),We(ge)}}(N):(N instanceof IDBTransaction&&function an(N){if(Me.has(N))return;const L=new Promise((te,ge)=>{const Pe=()=>{N.removeEventListener("complete",Ve),N.removeEventListener("error",ct),N.removeEventListener("abort",ct)},Ve=()=>{te(),Pe()},ct=()=>{ge(N.error||new DOMException("AbortError","AbortError")),Pe()};N.addEventListener("complete",Ve),N.addEventListener("error",ct),N.addEventListener("abort",ct)});Me.set(N,L)}(N),ke(N,function ue(){return Ee||(Ee=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(N,Tt):N)}function We(N){if(N instanceof IDBRequest)return function Ct(N){const L=new Promise((te,ge)=>{const Pe=()=>{N.removeEventListener("success",Ve),N.removeEventListener("error",ct)},Ve=()=>{te(We(N.result)),Pe()},ct=()=>{ge(N.error),Pe()};N.addEventListener("success",Ve),N.addEventListener("error",ct)});return L.then(te=>{te instanceof IDBCursor&&Ce.set(te,N)}).catch(()=>{}),xt.set(L,N),L}(N);if(It.has(N))return It.get(N);const L=yt(N);return L!==N&&(It.set(N,L),xt.set(L,N)),L}const Oe=N=>xt.get(N),lt=["get","getKey","getAll","getAllKeys","count"],vn=["put","add","delete","clear"],ut=new Map;function sn(N,L){if(!(N instanceof IDBDatabase)||L in N||"string"!=typeof L)return;if(ut.get(L))return ut.get(L);const te=L.replace(/FromIndex$/,""),ge=L!==te,Pe=vn.includes(te);if(!(te in(ge?IDBIndex:IDBObjectStore).prototype)||!Pe&&!lt.includes(te))return;const Ve=function(){var ct=(0,u.Z)(function*(Gt,...Bt){const pn=this.transaction(Gt,Pe?"readwrite":"readonly");let zn=pn.store;return ge&&(zn=zn.index(Bt.shift())),(yield Promise.all([zn[te](...Bt),Pe&&pn.done]))[0]});return function(Bt){return ct.apply(this,arguments)}}();return ut.set(L,Ve),Ve}!function st(N){Tt=N(Tt)}(N=>({...N,get:(L,te,ge)=>sn(L,te)||N.get(L,te,ge),has:(L,te)=>!!sn(L,te)||N.has(L,te)}));const mn="@firebase/installations",xn="0.6.4",Yn=1e4,tr=`w:${xn}`,Be="FIS_v2",je="https://firebaseinstallations.googleapis.com/v1",Ze=36e5,St=new ce.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Lt(N){return N instanceof ce.ZR&&N.code.includes("request-failed")}function Xt({projectId:N}){return`${je}/projects/${N}/installations`}function tn(N){return{token:N.token,requestStatus:2,expiresIn:De(N.expiresIn),creationTime:Date.now()}}function Ut(N,L){return pt.apply(this,arguments)}function pt(){return(pt=(0,u.Z)(function*(N,L){const ge=(yield L.json()).error;return St.create("request-failed",{requestName:N,serverCode:ge.code,serverMessage:ge.message,serverStatus:ge.status})})).apply(this,arguments)}function bn({apiKey:N}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":N})}function cr(N){return xe.apply(this,arguments)}function xe(){return(xe=(0,u.Z)(function*(N){const L=yield N();return L.status>=500&&L.status<600?N():L})).apply(this,arguments)}function De(N){return Number(N.replace("s","000"))}function bt(){return(bt=(0,u.Z)(function*({appConfig:N,heartbeatServiceProvider:L},{fid:te}){const ge=Xt(N),Pe=bn(N),Ve=L.getImmediate({optional:!0});if(Ve){const pn=yield Ve.getHeartbeatsHeader();pn&&Pe.append("x-firebase-client",pn)}const Gt={method:"POST",headers:Pe,body:JSON.stringify({fid:te,authVersion:Be,appId:N.appId,sdkVersion:tr})},Bt=yield cr(()=>fetch(ge,Gt));if(Bt.ok){const pn=yield Bt.json();return{fid:pn.fid||te,registrationStatus:2,refreshToken:pn.refreshToken,authToken:tn(pn.authToken)}}throw yield Ut("Create Installation",Bt)})).apply(this,arguments)}function kt(N){return new Promise(L=>{setTimeout(L,N)})}const _n=/^[cdef][\w-]{21}$/,Sn="";function en(){try{const N=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(N),N[0]=112+N[0]%16;const te=function fn(N){return function br(N){return btoa(String.fromCharCode(...N)).replace(/\+/g,"-").replace(/\//g,"_")}(N).substr(0,22)}(N);return _n.test(te)?te:Sn}catch{return Sn}}function gr(N){return`${N.appName}!${N.appId}`}const nn=new Map;function Cr(N,L){const te=gr(N);lr(te,L),function Wn(N,L){const te=function Vn(){return!sr&&"BroadcastChannel"in self&&(sr=new BroadcastChannel("[Firebase] FID Change"),sr.onmessage=N=>{lr(N.data.key,N.data.fid)}),sr}();te&&te.postMessage({key:N,fid:L}),function ei(){0===nn.size&&sr&&(sr.close(),sr=null)}()}(te,L)}function lr(N,L){const te=nn.get(N);if(te)for(const ge of te)ge(L)}let sr=null;const qt="firebase-installations-database",Wi=1,qr="firebase-installations-store";let jr=null;function at(){return jr||(jr=function _e(N,L,{blocked:te,upgrade:ge,blocking:Pe,terminated:Ve}={}){const ct=indexedDB.open(N,L),Gt=We(ct);return ge&&ct.addEventListener("upgradeneeded",Bt=>{ge(We(ct.result),Bt.oldVersion,Bt.newVersion,We(ct.transaction))}),te&&ct.addEventListener("blocked",()=>te()),Gt.then(Bt=>{Ve&&Bt.addEventListener("close",()=>Ve()),Pe&&Bt.addEventListener("versionchange",()=>Pe())}).catch(()=>{}),Gt}(qt,Wi,{upgrade:(N,L)=>{0===L&&N.createObjectStore(qr)}})),jr}function Ne(N,L){return nt.apply(this,arguments)}function nt(){return(nt=(0,u.Z)(function*(N,L){const te=gr(N),Pe=(yield at()).transaction(qr,"readwrite"),Ve=Pe.objectStore(qr),ct=yield Ve.get(te);return yield Ve.put(L,te),yield Pe.done,(!ct||ct.fid!==L.fid)&&Cr(N,L.fid),L})).apply(this,arguments)}function At(N){return zt.apply(this,arguments)}function zt(){return(zt=(0,u.Z)(function*(N){const L=gr(N),ge=(yield at()).transaction(qr,"readwrite");yield ge.objectStore(qr).delete(L),yield ge.done})).apply(this,arguments)}function Zt(N,L){return qn.apply(this,arguments)}function qn(){return(qn=(0,u.Z)(function*(N,L){const te=gr(N),Pe=(yield at()).transaction(qr,"readwrite"),Ve=Pe.objectStore(qr),ct=yield Ve.get(te),Gt=L(ct);return void 0===Gt?yield Ve.delete(te):yield Ve.put(Gt,te),yield Pe.done,Gt&&(!ct||ct.fid!==Gt.fid)&&Cr(N,Gt.fid),Gt})).apply(this,arguments)}function J(N){return U.apply(this,arguments)}function U(){return U=(0,u.Z)(function*(N){let L;const te=yield Zt(N.appConfig,ge=>{const Pe=function j(N){return dn(N||{fid:en(),registrationStatus:0})}(ge),Ve=function q(N,L){if(0===L.registrationStatus){if(!navigator.onLine)return{installationEntry:L,registrationPromise:Promise.reject(St.create("app-offline"))};const te={fid:L.fid,registrationStatus:1,registrationTime:Date.now()},ge=function z(N,L){return Te.apply(this,arguments)}(N,te);return{installationEntry:te,registrationPromise:ge}}return 1===L.registrationStatus?{installationEntry:L,registrationPromise:Je(N)}:{installationEntry:L}}(N,Pe);return L=Ve.registrationPromise,Ve.installationEntry});return te.fid===Sn?{installationEntry:yield L}:{installationEntry:te,registrationPromise:L}}),U.apply(this,arguments)}function Te(){return Te=(0,u.Z)(function*(N,L){try{const te=yield function mt(N,L){return bt.apply(this,arguments)}(N,L);return Ne(N.appConfig,te)}catch(te){throw Lt(te)&&409===te.customData.serverCode?yield At(N.appConfig):yield Ne(N.appConfig,{fid:L.fid,registrationStatus:0}),te}}),Te.apply(this,arguments)}function Je(N){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,u.Z)(function*(N){let L=yield un(N.appConfig);for(;1===L.registrationStatus;)yield kt(100),L=yield un(N.appConfig);if(0===L.registrationStatus){const{installationEntry:te,registrationPromise:ge}=yield J(N);return ge||te}return L})).apply(this,arguments)}function un(N){return Zt(N,L=>{if(!L)throw St.create("installation-not-found");return dn(L)})}function dn(N){return function Bn(N){return 1===N.registrationStatus&&N.registrationTime+Yn<Date.now()}(N)?{fid:N.fid,registrationStatus:0}:N}function Un(){return(Un=(0,u.Z)(function*({appConfig:N,heartbeatServiceProvider:L},te){const ge=function Zr(N,{fid:L}){return`${Xt(N)}/${L}/authTokens:generate`}(N,te),Pe=function Jn(N,{refreshToken:L}){const te=bn(N);return te.append("Authorization",function Xe(N){return`${Be} ${N}`}(L)),te}(N,te),Ve=L.getImmediate({optional:!0});if(Ve){const pn=yield Ve.getHeartbeatsHeader();pn&&Pe.append("x-firebase-client",pn)}const Gt={method:"POST",headers:Pe,body:JSON.stringify({installation:{sdkVersion:tr,appId:N.appId}})},Bt=yield cr(()=>fetch(ge,Gt));if(Bt.ok)return tn(yield Bt.json());throw yield Ut("Generate Auth Token",Bt)})).apply(this,arguments)}function nr(N){return hs.apply(this,arguments)}function hs(){return hs=(0,u.Z)(function*(N,L=!1){let te;const ge=yield Zt(N.appConfig,Ve=>{if(!Bi(Ve))throw St.create("not-registered");const ct=Ve.authToken;if(!L&&function lo(N){return 2===N.requestStatus&&!function Ui(N){const L=Date.now();return L<N.creationTime||N.creationTime+N.expiresIn<L+Ze}(N)}(ct))return Ve;if(1===ct.requestStatus)return te=function Po(N,L){return is.apply(this,arguments)}(N,L),Ve;{if(!navigator.onLine)throw St.create("app-offline");const Gt=function Vi(N){const L={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},N),{authToken:L})}(Ve);return te=function ka(N,L){return ks.apply(this,arguments)}(N,Gt),Gt}});return te?yield te:ge.authToken}),hs.apply(this,arguments)}function is(){return(is=(0,u.Z)(function*(N,L){let te=yield ss(N.appConfig);for(;1===te.authToken.requestStatus;)yield kt(100),te=yield ss(N.appConfig);const ge=te.authToken;return 0===ge.requestStatus?nr(N,L):ge})).apply(this,arguments)}function ss(N){return Zt(N,L=>{if(!Bi(L))throw St.create("not-registered");return function ir(N){return 1===N.requestStatus&&N.requestTime+Yn<Date.now()}(L.authToken)?Object.assign(Object.assign({},L),{authToken:{requestStatus:0}}):L})}function ks(){return ks=(0,u.Z)(function*(N,L){try{const te=yield function Yt(N,L){return Un.apply(this,arguments)}(N,L),ge=Object.assign(Object.assign({},L),{authToken:te});return yield Ne(N.appConfig,ge),te}catch(te){if(!Lt(te)||401!==te.customData.serverCode&&404!==te.customData.serverCode){const ge=Object.assign(Object.assign({},L),{authToken:{requestStatus:0}});yield Ne(N.appConfig,ge)}else yield At(N.appConfig);throw te}}),ks.apply(this,arguments)}function Bi(N){return void 0!==N&&2===N.registrationStatus}function Qo(){return(Qo=(0,u.Z)(function*(N){const L=N,{installationEntry:te,registrationPromise:ge}=yield J(L);return ge?ge.catch(console.error):nr(L).catch(console.error),te.fid})).apply(this,arguments)}function Fa(){return Fa=(0,u.Z)(function*(N,L=!1){const te=N;return yield function fs(N){return ba.apply(this,arguments)}(te),(yield nr(te,L)).token}),Fa.apply(this,arguments)}function ba(){return(ba=(0,u.Z)(function*(N){const{registrationPromise:L}=yield J(N);L&&(yield L)})).apply(this,arguments)}function Ls(N){return St.create("missing-app-config-values",{valueName:N})}const fo="installations",Ea=N=>{const L=N.getProvider("app").getImmediate(),te=function Ia(N){if(!N||!N.options)throw Ls("App Configuration");if(!N.name)throw Ls("App Name");const L=["projectId","apiKey","appId"];for(const te of L)if(!N.options[te])throw Ls(te);return{appName:N.name,projectId:N.options.projectId,apiKey:N.options.apiKey,appId:N.options.appId}}(L);return{app:L,appConfig:te,heartbeatServiceProvider:(0,ye.qX)(L,"heartbeat"),_delete:()=>Promise.resolve()}},Gr=N=>{const L=N.getProvider("app").getImmediate(),te=(0,ye.qX)(L,fo).getImmediate();return{getId:()=>function uo(N){return Qo.apply(this,arguments)}(te),getToken:Pe=>function Xo(N){return Fa.apply(this,arguments)}(te,Pe)}};(function ta(){(0,ye.Xd)(new he.wA(fo,Ea,"PUBLIC")),(0,ye.Xd)(new he.wA("installations-internal",Gr,"PRIVATE"))})(),(0,ye.KN)(mn,xn),(0,ye.KN)(mn,xn,"esm2017");const ps="@firebase/remote-config",qi=new ce.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class _i{constructor(L,te,ge,Pe){this.client=L,this.storage=te,this.storageCache=ge,this.logger=Pe}isCachedDataFresh(L,te){if(!te)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ge=Date.now()-te,Pe=ge<=L;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ge}. Cache max age millis (minimumFetchIntervalMillis setting): ${L}. Is cache hit: ${Pe}.`),Pe}fetch(L){var te=this;return(0,u.Z)(function*(){const[ge,Pe]=yield Promise.all([te.storage.getLastSuccessfulFetchTimestampMillis(),te.storage.getLastSuccessfulFetchResponse()]);if(Pe&&te.isCachedDataFresh(L.cacheMaxAgeMillis,ge))return Pe;L.eTag=Pe&&Pe.eTag;const Ve=yield te.client.fetch(L),ct=[te.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ve.status&&ct.push(te.storage.setLastSuccessfulFetchResponse(Ve)),yield Promise.all(ct),Ve})()}}function ic(N=navigator){return N.languages&&N.languages[0]||N.language}class as{constructor(L,te,ge,Pe,Ve,ct){this.firebaseInstallations=L,this.sdkVersion=te,this.namespace=ge,this.projectId=Pe,this.apiKey=Ve,this.appId=ct}fetch(L){var te=this;return(0,u.Z)(function*(){const[ge,Pe]=yield Promise.all([te.firebaseInstallations.getId(),te.firebaseInstallations.getToken()]),ct=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${te.projectId}/namespaces/${te.namespace}:fetch?key=${te.apiKey}`,Gt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":L.eTag||"*"},Bt={sdk_version:te.sdkVersion,app_instance_id:ge,app_instance_id_token:Pe,app_id:te.appId,language_code:ic()},pn={method:"POST",headers:Gt,body:JSON.stringify(Bt)},zn=fetch(ct,pn),Zn=new Promise((Rc,lu)=>{L.signal.addEventListener(()=>{const tm=new Error("The operation was aborted.");tm.name="AbortError",lu(tm)})});let qs;try{yield Promise.race([zn,Zn]),qs=yield zn}catch(Rc){let lu="fetch-client-network";throw"AbortError"===Rc?.name&&(lu="fetch-timeout"),qi.create(lu,{originalErrorMessage:Rc?.message})}let Zs=qs.status;const Gu=qs.headers.get("ETag")||void 0;let $u,vd;if(200===qs.status){let Rc;try{Rc=yield qs.json()}catch(lu){throw qi.create("fetch-client-parse",{originalErrorMessage:lu?.message})}$u=Rc.entries,vd=Rc.state}if("INSTANCE_STATE_UNSPECIFIED"===vd?Zs=500:"NO_CHANGE"===vd?Zs=304:("NO_TEMPLATE"===vd||"EMPTY_CONFIG"===vd)&&($u={}),304!==Zs&&200!==Zs)throw qi.create("fetch-status",{httpStatus:Zs});return{status:Zs,eTag:Gu,config:$u}})()}}class kn{constructor(L,te){this.client=L,this.storage=te}fetch(L){var te=this;return(0,u.Z)(function*(){const ge=(yield te.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return te.attemptFetch(L,ge)})()}attemptFetch(L,{throttleEndTimeMillis:te,backoffCount:ge}){var Pe=this;return(0,u.Z)(function*(){yield function Ar(N,L){return new Promise((te,ge)=>{const Pe=Math.max(L-Date.now(),0),Ve=setTimeout(te,Pe);N.addEventListener(()=>{clearTimeout(Ve),ge(qi.create("fetch-throttle",{throttleEndTimeMillis:L}))})})}(L.signal,te);try{const Ve=yield Pe.client.fetch(L);return yield Pe.storage.deleteThrottleMetadata(),Ve}catch(Ve){if(!function Vt(N){if(!(N instanceof ce.ZR&&N.customData))return!1;const L=Number(N.customData.httpStatus);return 429===L||500===L||503===L||504===L}(Ve))throw Ve;const ct={throttleEndTimeMillis:Date.now()+(0,ce.$s)(ge),backoffCount:ge+1};return yield Pe.storage.setThrottleMetadata(ct),Pe.attemptFetch(L,ct)}})()}}class go{constructor(L,te,ge,Pe,Ve){this.app=L,this._client=te,this._storageCache=ge,this._storage=Pe,this._logger=Ve,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function $r(N,L){const te=N.target.error||void 0;return qi.create(L,{originalErrorMessage:te&&te?.message})}const Ai="app_namespace_store";class Dn{constructor(L,te,ge,Pe=function Jr(){return new Promise((N,L)=>{try{const te=indexedDB.open("firebase_remote_config",1);te.onerror=ge=>{L($r(ge,"storage-open"))},te.onsuccess=ge=>{N(ge.target.result)},te.onupgradeneeded=ge=>{0===ge.oldVersion&&ge.target.result.createObjectStore(Ai,{keyPath:"compositeKey"})}}catch(te){L(qi.create("storage-open",{originalErrorMessage:te?.message}))}})}()){this.appId=L,this.appName=te,this.namespace=ge,this.openDbPromise=Pe}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(L){return this.set("last_fetch_status",L)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(L){return this.set("last_successful_fetch_timestamp_millis",L)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(L){return this.set("last_successful_fetch_response",L)}getActiveConfig(){return this.get("active_config")}setActiveConfig(L){return this.set("active_config",L)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(L){return this.set("active_config_etag",L)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(L){return this.set("throttle_metadata",L)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(L){var te=this;return(0,u.Z)(function*(){const ge=yield te.openDbPromise;return new Promise((Pe,Ve)=>{const Gt=ge.transaction([Ai],"readonly").objectStore(Ai),Bt=te.createCompositeKey(L);try{const pn=Gt.get(Bt);pn.onerror=zn=>{Ve($r(zn,"storage-get"))},pn.onsuccess=zn=>{const Zn=zn.target.result;Pe(Zn?Zn.value:void 0)}}catch(pn){Ve(qi.create("storage-get",{originalErrorMessage:pn?.message}))}})})()}set(L,te){var ge=this;return(0,u.Z)(function*(){const Pe=yield ge.openDbPromise;return new Promise((Ve,ct)=>{const Bt=Pe.transaction([Ai],"readwrite").objectStore(Ai),pn=ge.createCompositeKey(L);try{const zn=Bt.put({compositeKey:pn,value:te});zn.onerror=Zn=>{ct($r(Zn,"storage-set"))},zn.onsuccess=()=>{Ve()}}catch(zn){ct(qi.create("storage-set",{originalErrorMessage:zn?.message}))}})})()}delete(L){var te=this;return(0,u.Z)(function*(){const ge=yield te.openDbPromise;return new Promise((Pe,Ve)=>{const Gt=ge.transaction([Ai],"readwrite").objectStore(Ai),Bt=te.createCompositeKey(L);try{const pn=Gt.delete(Bt);pn.onerror=zn=>{Ve($r(zn,"storage-delete"))},pn.onsuccess=()=>{Pe()}}catch(pn){Ve(qi.create("storage-delete",{originalErrorMessage:pn?.message}))}})})()}createCompositeKey(L){return[this.appId,this.appName,this.namespace,L].join()}}class mo{constructor(L){this.storage=L}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var L=this;return(0,u.Z)(function*(){const te=L.storage.getLastFetchStatus(),ge=L.storage.getLastSuccessfulFetchTimestampMillis(),Pe=L.storage.getActiveConfig(),Ve=yield te;Ve&&(L.lastFetchStatus=Ve);const ct=yield ge;ct&&(L.lastSuccessfulFetchTimestampMillis=ct);const Gt=yield Pe;Gt&&(L.activeConfig=Gt)})()}setLastFetchStatus(L){return this.lastFetchStatus=L,this.storage.setLastFetchStatus(L)}setLastSuccessfulFetchTimestampMillis(L){return this.lastSuccessfulFetchTimestampMillis=L,this.storage.setLastSuccessfulFetchTimestampMillis(L)}setActiveConfig(L){return this.activeConfig=L,this.storage.setActiveConfig(L)}}function vi(){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,u.Z)(function*(){if(!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch{return!1}})).apply(this,arguments)}!function _o(){(0,ye.Xd)(new he.wA("remote-config",function N(L,{instanceIdentifier:te}){const ge=L.getProvider("app").getImmediate(),Pe=L.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw qi.create("registration-window");if(!(0,ce.hl)())throw qi.create("indexed-db-unavailable");const{projectId:Ve,apiKey:ct,appId:Gt}=ge.options;if(!Ve)throw qi.create("registration-project-id");if(!ct)throw qi.create("registration-api-key");if(!Gt)throw qi.create("registration-app-id");const Bt=new Dn(Gt,ge.name,te=te||"firebase"),pn=new mo(Bt),zn=new we.Yd(ps);zn.logLevel=we.in.ERROR;const Zn=new as(Pe,ye.Jn,te,Ve,ct,Gt),qs=new kn(Zn,Bt),Zs=new _i(qs,Bt,pn,zn),Gu=new go(ge,Zs,pn,Bt,zn);return function ra(N){const L=(0,ce.m9)(N);L._initializePromise||(L._initializePromise=L._storageCache.loadFromStorage().then(()=>{L._isInitializationComplete=!0}))}(Gu),Gu},"PUBLIC").setMultipleInstances(!0)),(0,ye.KN)(ps,"0.4.4"),(0,ye.KN)(ps,"0.4.4","esm2017")}();const si=(N,L)=>L.some(te=>N instanceof te);let Bo,Tc;const yo=new WeakMap,Us=new WeakMap,Hn=new WeakMap,ud=new WeakMap,Uo=new WeakMap;let bi={get(N,L,te){if(N instanceof IDBTransaction){if("done"===L)return Us.get(N);if("objectStoreNames"===L)return N.objectStoreNames||Hn.get(N);if("store"===L)return te.objectStoreNames[1]?void 0:te.objectStore(te.objectStoreNames[0])}return Is(N[L])},set:(N,L,te)=>(N[L]=te,!0),has:(N,L)=>N instanceof IDBTransaction&&("done"===L||"store"===L)||L in N};function ui(N){return"function"==typeof N?function ji(N){return N!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Zi(){return Tc||(Tc=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(N)?function(...L){return N.apply(Oi(this),L),Is(yo.get(this))}:function(...L){return Is(N.apply(Oi(this),L))}:function(L,...te){const ge=N.call(Oi(this),L,...te);return Hn.set(ge,L.sort?L.sort():[L]),Is(ge)}}(N):(N instanceof IDBTransaction&&function ai(N){if(Us.has(N))return;const L=new Promise((te,ge)=>{const Pe=()=>{N.removeEventListener("complete",Ve),N.removeEventListener("error",ct),N.removeEventListener("abort",ct)},Ve=()=>{te(),Pe()},ct=()=>{ge(N.error||new DOMException("AbortError","AbortError")),Pe()};N.addEventListener("complete",Ve),N.addEventListener("error",ct),N.addEventListener("abort",ct)});Us.set(N,L)}(N),si(N,function eo(){return Bo||(Bo=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(N,bi):N)}function Is(N){if(N instanceof IDBRequest)return function Vs(N){const L=new Promise((te,ge)=>{const Pe=()=>{N.removeEventListener("success",Ve),N.removeEventListener("error",ct)},Ve=()=>{te(Is(N.result)),Pe()},ct=()=>{ge(N.error),Pe()};N.addEventListener("success",Ve),N.addEventListener("error",ct)});return L.then(te=>{te instanceof IDBCursor&&yo.set(te,N)}).catch(()=>{}),Uo.set(L,N),L}(N);if(ud.has(N))return ud.get(N);const L=ui(N);return L!==N&&(ud.set(N,L),Uo.set(L,N)),L}const Oi=N=>Uo.get(N);function Or(N,L,{blocked:te,upgrade:ge,blocking:Pe,terminated:Ve}={}){const ct=indexedDB.open(N,L),Gt=Is(ct);return ge&&ct.addEventListener("upgradeneeded",Bt=>{ge(Is(ct.result),Bt.oldVersion,Bt.newVersion,Is(ct.transaction))}),te&&ct.addEventListener("blocked",()=>te()),Gt.then(Bt=>{Ve&&Bt.addEventListener("close",()=>Ve()),Pe&&Bt.addEventListener("versionchange",()=>Pe())}).catch(()=>{}),Gt}function Hs(N,{blocked:L}={}){const te=indexedDB.deleteDatabase(N);return L&&te.addEventListener("blocked",()=>L()),Is(te).then(()=>{})}const ys=["get","getKey","getAll","getAllKeys","count"],vo=["put","add","delete","clear"],Ni=new Map;function Mi(N,L){if(!(N instanceof IDBDatabase)||L in N||"string"!=typeof L)return;if(Ni.get(L))return Ni.get(L);const te=L.replace(/FromIndex$/,""),ge=L!==te,Pe=vo.includes(te);if(!(te in(ge?IDBIndex:IDBObjectStore).prototype)||!Pe&&!ys.includes(te))return;const Ve=function(){var ct=(0,u.Z)(function*(Gt,...Bt){const pn=this.transaction(Gt,Pe?"readwrite":"readonly");let zn=pn.store;return ge&&(zn=zn.index(Bt.shift())),(yield Promise.all([zn[te](...Bt),Pe&&pn.done]))[0]});return function(Bt){return ct.apply(this,arguments)}}();return Ni.set(L,Ve),Ve}!function Ua(N){bi=N(bi)}(N=>({...N,get:(L,te,ge)=>Mi(L,te)||N.get(L,te,ge),has:(L,te)=>!!Mi(L,te)||N.has(L,te)}));const to="/firebase-messaging-sw.js",Vo="/firebase-cloud-messaging-push-scope",Dc="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",sc="https://fcmregistrations.googleapis.com/v1",Rr="google.c.a.c_id",ia="google.c.a.c_l",Gd="google.c.a.ts";var B=function(N){return N.PUSH_RECEIVED="push-received",N.NOTIFICATION_CLICKED="notification-clicked",N}(B||{});function ae(N){const L=new Uint8Array(N);return btoa(String.fromCharCode(...L)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Se(N){const te=(N+"=".repeat((4-N.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ge=atob(te),Pe=new Uint8Array(ge.length);for(let Ve=0;Ve<ge.length;++Ve)Pe[Ve]=ge.charCodeAt(Ve);return Pe}const rn="fcm_token_details_db",jn=5,Ki="fcm_token_object_Store";function xi(){return xi=(0,u.Z)(function*(N){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ve=>Ve.name).includes(rn))return null;let L=null;return(yield Or(rn,jn,{upgrade:(ge=(0,u.Z)(function*(Pe,Ve,ct,Gt){var Bt;if(Ve<2||!Pe.objectStoreNames.contains(Ki))return;const pn=Gt.objectStore(Ki),zn=yield pn.index("fcmSenderId").get(N);if(yield pn.clear(),zn)if(2===Ve){const Zn=zn;if(!Zn.auth||!Zn.p256dh||!Zn.endpoint)return;L={token:Zn.fcmToken,createTime:null!==(Bt=Zn.createTime)&&void 0!==Bt?Bt:Date.now(),subscriptionOptions:{auth:Zn.auth,p256dh:Zn.p256dh,endpoint:Zn.endpoint,swScope:Zn.swScope,vapidKey:"string"==typeof Zn.vapidKey?Zn.vapidKey:ae(Zn.vapidKey)}}}else if(3===Ve){const Zn=zn;L={token:Zn.fcmToken,createTime:Zn.createTime,subscriptionOptions:{auth:ae(Zn.auth),p256dh:ae(Zn.p256dh),endpoint:Zn.endpoint,swScope:Zn.swScope,vapidKey:ae(Zn.vapidKey)}}}else if(4===Ve){const Zn=zn;L={token:Zn.fcmToken,createTime:Zn.createTime,subscriptionOptions:{auth:ae(Zn.auth),p256dh:ae(Zn.p256dh),endpoint:Zn.endpoint,swScope:Zn.swScope,vapidKey:ae(Zn.vapidKey)}}}}),function(Ve,ct,Gt,Bt){return ge.apply(this,arguments)})})).close(),yield Hs(rn),yield Hs("fcm_vapid_details_db"),yield Hs("undefined"),function js(N){if(!N||!N.subscriptionOptions)return!1;const{subscriptionOptions:L}=N;return"number"==typeof N.createTime&&N.createTime>0&&"string"==typeof N.token&&N.token.length>0&&"string"==typeof L.auth&&L.auth.length>0&&"string"==typeof L.p256dh&&L.p256dh.length>0&&"string"==typeof L.endpoint&&L.endpoint.length>0&&"string"==typeof L.swScope&&L.swScope.length>0&&"string"==typeof L.vapidKey&&L.vapidKey.length>0}(L)?L:null;var ge}),xi.apply(this,arguments)}const oc="firebase-messaging-database",Ho=1,Ta="firebase-messaging-store";let Va=null;function ac(){return Va||(Va=Or(oc,Ho,{upgrade:(N,L)=>{0===L&&N.createObjectStore(Ta)}})),Va}function Gs(N){return Wl.apply(this,arguments)}function Wl(){return Wl=(0,u.Z)(function*(N){const L=bo(N),ge=yield(yield ac()).transaction(Ta).objectStore(Ta).get(L);if(ge)return ge;{const Pe=yield function Es(N){return xi.apply(this,arguments)}(N.appConfig.senderId);if(Pe)return yield Da(N,Pe),Pe}}),Wl.apply(this,arguments)}function Da(N,L){return di.apply(this,arguments)}function di(){return(di=(0,u.Z)(function*(N,L){const te=bo(N),Pe=(yield ac()).transaction(Ta,"readwrite");return yield Pe.objectStore(Ta).put(L,te),yield Pe.done,L})).apply(this,arguments)}function Ri(){return(Ri=(0,u.Z)(function*(N){const L=bo(N),ge=(yield ac()).transaction(Ta,"readwrite");yield ge.objectStore(Ta).delete(L),yield ge.done})).apply(this,arguments)}function bo({appConfig:N}){return N.appId}const Gi=new ce.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function hl(N,L){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,u.Z)(function*(N,L){const te=yield Sa(N),ge=hi(L),Pe={method:"POST",headers:te,body:JSON.stringify(ge)};let Ve;try{Ve=yield(yield fetch(ro(N.appConfig),Pe)).json()}catch(ct){throw Gi.create("token-subscribe-failed",{errorInfo:ct?.toString()})}if(Ve.error)throw Gi.create("token-subscribe-failed",{errorInfo:Ve.error.message});if(!Ve.token)throw Gi.create("token-subscribe-no-token");return Ve.token})).apply(this,arguments)}function no(){return(no=(0,u.Z)(function*(N,L){const te=yield Sa(N),ge=hi(L.subscriptionOptions),Pe={method:"PATCH",headers:te,body:JSON.stringify(ge)};let Ve;try{Ve=yield(yield fetch(`${ro(N.appConfig)}/${L.token}`,Pe)).json()}catch(ct){throw Gi.create("token-update-failed",{errorInfo:ct?.toString()})}if(Ve.error)throw Gi.create("token-update-failed",{errorInfo:Ve.error.message});if(!Ve.token)throw Gi.create("token-update-no-token");return Ve.token})).apply(this,arguments)}function fl(N,L){return $s.apply(this,arguments)}function $s(){return($s=(0,u.Z)(function*(N,L){const ge={method:"DELETE",headers:yield Sa(N)};try{const Ve=yield(yield fetch(`${ro(N.appConfig)}/${L}`,ge)).json();if(Ve.error)throw Gi.create("token-unsubscribe-failed",{errorInfo:Ve.error.message})}catch(Pe){throw Gi.create("token-unsubscribe-failed",{errorInfo:Pe?.toString()})}})).apply(this,arguments)}function ro({projectId:N}){return`${sc}/projects/${N}/registrations`}function Sa(N){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,u.Z)(function*({appConfig:N,installations:L}){const te=yield L.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":N.apiKey,"x-goog-firebase-installations-auth":`FIS ${te}`})})).apply(this,arguments)}function hi({p256dh:N,auth:L,endpoint:te,vapidKey:ge}){const Pe={web:{endpoint:te,auth:L,p256dh:N}};return ge!==Dc&&(Pe.web.applicationPubKey=ge),Pe}const Ts=6048e5;function Ds(){return Ds=(0,u.Z)(function*(N){const L=yield function zs(N,L){return Zl.apply(this,arguments)}(N.swRegistration,N.vapidKey),te={vapidKey:N.vapidKey,swScope:N.swRegistration.scope,endpoint:L.endpoint,auth:ae(L.getKey("auth")),p256dh:ae(L.getKey("p256dh"))},ge=yield Gs(N.firebaseDependencies);if(ge){if(function M(N,L){return L.vapidKey===N.vapidKey&&L.endpoint===N.endpoint&&L.auth===N.auth&&L.p256dh===N.p256dh}(ge.subscriptionOptions,te))return Date.now()>=ge.createTime+Ts?function oa(N,L){return Wc.apply(this,arguments)}(N,{token:ge.token,createTime:Date.now(),subscriptionOptions:te}):ge.token;try{yield fl(N.firebaseDependencies,ge.token)}catch(Pe){console.warn(Pe)}return ql(N.firebaseDependencies,te)}return ql(N.firebaseDependencies,te)}),Ds.apply(this,arguments)}function sa(){return sa=(0,u.Z)(function*(N){const L=yield Gs(N.firebaseDependencies);L&&(yield fl(N.firebaseDependencies,L.token),yield function Ca(N){return Ri.apply(this,arguments)}(N.firebaseDependencies));const te=yield N.swRegistration.pushManager.getSubscription();return!te||te.unsubscribe()}),sa.apply(this,arguments)}function Wc(){return Wc=(0,u.Z)(function*(N,L){try{const te=yield function Uh(N,L){return no.apply(this,arguments)}(N.firebaseDependencies,L),ge=Object.assign(Object.assign({},L),{token:te,createTime:Date.now()});return yield Da(N.firebaseDependencies,ge),te}catch(te){throw yield function cc(N){return sa.apply(this,arguments)}(N),te}}),Wc.apply(this,arguments)}function ql(N,L){return lc.apply(this,arguments)}function lc(){return(lc=(0,u.Z)(function*(N,L){const ge={token:yield hl(N,L),createTime:Date.now(),subscriptionOptions:L};return yield Da(N,ge),ge.token})).apply(this,arguments)}function Zl(){return(Zl=(0,u.Z)(function*(N,L){return(yield N.pushManager.getSubscription())||N.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Se(L)})})).apply(this,arguments)}function ie(N){const L={from:N.from,collapseKey:N.collapse_key,messageId:N.fcmMessageId};return function V(N,L){if(!L.notification)return;N.notification={};const te=L.notification.title;te&&(N.notification.title=te);const ge=L.notification.body;ge&&(N.notification.body=ge);const Pe=L.notification.image;Pe&&(N.notification.image=Pe);const Ve=L.notification.icon;Ve&&(N.notification.icon=Ve)}(L,N),function ee(N,L){L.data&&(N.data=L.data)}(L,N),function be(N,L){var te,ge,Pe,Ve,ct;if(!(L.fcmOptions||null!==(te=L.notification)&&void 0!==te&&te.click_action))return;N.fcmOptions={};const Gt=null!==(Pe=null===(ge=L.fcmOptions)||void 0===ge?void 0:ge.link)&&void 0!==Pe?Pe:null===(Ve=L.notification)||void 0===Ve?void 0:Ve.click_action;Gt&&(N.fcmOptions.link=Gt);const Bt=null===(ct=L.fcmOptions)||void 0===ct?void 0:ct.analytics_label;Bt&&(N.fcmOptions.analyticsLabel=Bt)}(L,N),L}function wt(N,L){const te=[];for(let ge=0;ge<N.length;ge++)te.push(N.charAt(ge)),ge<L.length&&te.push(L.charAt(ge));return te.join("")}function Nr(N){return Gi.create("missing-app-config-values",{valueName:N})}wt("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),wt("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Pr{constructor(L,te,ge){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Pe=function In(N){if(!N||!N.options)throw Nr("App Configuration Object");if(!N.name)throw Nr("App Name");const L=["projectId","apiKey","appId","messagingSenderId"],{options:te}=N;for(const ge of L)if(!te[ge])throw Nr(ge);return{appName:N.name,projectId:te.projectId,apiKey:te.apiKey,appId:te.appId,senderId:te.messagingSenderId}}(L);this.firebaseDependencies={app:L,appConfig:Pe,installations:te,analyticsProvider:ge}}_delete(){return Promise.resolve()}}function Xn(){return(Xn=(0,u.Z)(function*(N){try{N.swRegistration=yield navigator.serviceWorker.register(to,{scope:Vo}),N.swRegistration.update().catch(()=>{})}catch(L){throw Gi.create("failed-service-worker-registration",{browserErrorMessage:L?.message})}})).apply(this,arguments)}function wr(){return(wr=(0,u.Z)(function*(N,L){if(!L&&!N.swRegistration&&(yield function Mr(N){return Xn.apply(this,arguments)}(N)),L||!N.swRegistration){if(!(L instanceof ServiceWorkerRegistration))throw Gi.create("invalid-sw-registration");N.swRegistration=L}})).apply(this,arguments)}function Ws(){return(Ws=(0,u.Z)(function*(N,L){L?N.vapidKey=L:N.vapidKey||(N.vapidKey=Dc)})).apply(this,arguments)}function wi(){return wi=(0,u.Z)(function*(N,L){if(!navigator)throw Gi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Gi.create("permission-blocked");return yield function Ir(N,L){return Ws.apply(this,arguments)}(N,L?.vapidKey),yield function mr(N,L){return wr.apply(this,arguments)}(N,L?.serviceWorkerRegistration),function $i(N){return Ds.apply(this,arguments)}(N)}),wi.apply(this,arguments)}function Cs(){return(Cs=(0,u.Z)(function*(N,L,te){const ge=function aa(N){switch(N){case B.NOTIFICATION_CLICKED:return"notification_open";case B.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(L);(yield N.firebaseDependencies.analyticsProvider.get()).logEvent(ge,{message_id:te[Rr],message_name:te[ia],message_time:te[Gd],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function uc(){return uc=(0,u.Z)(function*(N,L){const te=L.data;if(!te.isFirebaseMessaging)return;N.onMessageHandler&&te.messageType===B.PUSH_RECEIVED&&("function"==typeof N.onMessageHandler?N.onMessageHandler(ie(te)):N.onMessageHandler.next(ie(te)));const ge=te.data;(function it(N){return"object"==typeof N&&!!N&&Rr in N})(ge)&&"1"===ge["google.c.a.e"]&&(yield function cs(N,L,te){return Cs.apply(this,arguments)}(N,te.messageType,ge))}),uc.apply(this,arguments)}const Mu="@firebase/messaging",pl=N=>{const L=new Pr(N.getProvider("app").getImmediate(),N.getProvider("installations-internal").getImmediate(),N.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",te=>function ca(N,L){return uc.apply(this,arguments)}(L,te)),L},jo=N=>{const L=N.getProvider("messaging").getImmediate();return{getToken:ge=>function fi(N,L){return wi.apply(this,arguments)}(L,ge)}};function wo(){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,u.Z)(function*(){try{yield(0,ce.eu)()}catch{return!1}return typeof window<"u"&&(0,ce.hl)()&&(0,ce.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ci(){(0,ye.Xd)(new he.wA("messaging",pl,"PUBLIC")),(0,ye.Xd)(new he.wA("messaging-internal",jo,"PRIVATE")),(0,ye.KN)(Mu,"0.12.4"),(0,ye.KN)(Mu,"0.12.4","esm2017")}();const la="analytics",xu="firebase_id",Ru="origin",Ii=6e4,Pu="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Io="https://www.googletagmanager.com/gtag/js",ni=new we.Yd("@firebase/analytics"),Ss=new ce.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function hp(N){if(!N.startsWith(Io)){const L=Ss.create("invalid-gtag-resource",{gtagURL:N});return ni.warn(L.message),""}return N}function ku(N){return Promise.all(N.map(L=>L.catch(te=>te)))}function Zc(){return(Zc=(0,u.Z)(function*(N,L,te,ge,Pe,Ve){const ct=ge[Pe];try{if(ct)yield L[ct];else{const Bt=(yield ku(te)).find(pn=>pn.measurementId===Pe);Bt&&(yield L[Bt.appId])}}catch(Gt){ni.error(Gt)}N("config",Pe,Ve)})).apply(this,arguments)}function hc(){return(hc=(0,u.Z)(function*(N,L,te,ge,Pe){try{let Ve=[];if(Pe&&Pe.send_to){let ct=Pe.send_to;Array.isArray(ct)||(ct=[ct]);const Gt=yield ku(te);for(const Bt of ct){const pn=Gt.find(Zn=>Zn.measurementId===Bt),zn=pn&&L[pn.appId];if(!zn){Ve=[];break}Ve.push(zn)}}0===Ve.length&&(Ve=Object.values(L)),yield Promise.all(Ve),N("event",ge,Pe||{})}catch(Ve){ni.error(Ve)}})).apply(this,arguments)}const Er=30,zi=new class Hh{constructor(L={},te=1e3){this.throttleMetadata=L,this.intervalMillis=te}getThrottleMetadata(L){return this.throttleMetadata[L]}setThrottleMetadata(L,te){this.throttleMetadata[L]=te}deleteThrottleMetadata(L){delete this.throttleMetadata[L]}};function $d(N){return new Headers({Accept:"application/json","x-goog-api-key":N})}function Eo(){return(Eo=(0,u.Z)(function*(N){var L;const{appId:te,apiKey:ge}=N,Pe={method:"GET",headers:$d(ge)},Ve=Pu.replace("{app-id}",te),ct=yield fetch(Ve,Pe);if(200!==ct.status&&304!==ct.status){let Gt="";try{const Bt=yield ct.json();null!==(L=Bt.error)&&void 0!==L&&L.message&&(Gt=Bt.error.message)}catch{}throw Ss.create("config-fetch-failed",{httpStatus:ct.status,responseMessage:Gt})}return ct.json()})).apply(this,arguments)}function fc(){return(fc=(0,u.Z)(function*(N,L=zi,te){const{appId:ge,apiKey:Pe,measurementId:Ve}=N.options;if(!ge)throw Ss.create("no-app-id");if(!Pe){if(Ve)return{measurementId:Ve,appId:ge};throw Ss.create("no-api-key")}const ct=L.getThrottleMetadata(ge)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Gt=new Go;return setTimeout((0,u.Z)(function*(){Gt.abort()}),void 0!==te?te:Ii),Bu({appId:ge,apiKey:Pe,measurementId:Ve},ct,Gt,L)})).apply(this,arguments)}function Bu(N,L,te){return Kc.apply(this,arguments)}function Kc(){return Kc=(0,u.Z)(function*(N,{throttleEndTimeMillis:L,backoffCount:te},ge,Pe=zi){var Ve;const{appId:ct,measurementId:Gt}=N;try{yield function pc(N,L){return new Promise((te,ge)=>{const Pe=Math.max(L-Date.now(),0),Ve=setTimeout(te,Pe);N.addEventListener(()=>{clearTimeout(Ve),ge(Ss.create("fetch-throttle",{throttleEndTimeMillis:L}))})})}(ge,L)}catch(Bt){if(Gt)return ni.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Gt} provided in the "measurementId" field in the local Firebase config. [${Bt?.message}]`),{appId:ct,measurementId:Gt};throw Bt}try{const Bt=yield function _l(N){return Eo.apply(this,arguments)}(N);return Pe.deleteThrottleMetadata(ct),Bt}catch(Bt){const pn=Bt;if(!function As(N){if(!(N instanceof ce.ZR&&N.customData))return!1;const L=Number(N.customData.httpStatus);return 429===L||500===L||503===L||504===L}(pn)){if(Pe.deleteThrottleMetadata(ct),Gt)return ni.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Gt} provided in the "measurementId" field in the local Firebase config. [${pn?.message}]`),{appId:ct,measurementId:Gt};throw Bt}const zn=503===Number(null===(Ve=pn?.customData)||void 0===Ve?void 0:Ve.httpStatus)?(0,ce.$s)(te,Pe.intervalMillis,Er):(0,ce.$s)(te,Pe.intervalMillis),Zn={throttleEndTimeMillis:Date.now()+zn,backoffCount:te+1};return Pe.setThrottleMetadata(ct,Zn),ni.debug(`Calling attemptFetch again in ${zn} millis`),Bu(N,Zn,ge,Pe)}}),Kc.apply(this,arguments)}class Go{constructor(){this.listeners=[]}addEventListener(L){this.listeners.push(L)}abort(){this.listeners.forEach(L=>L())}}let yl,Qe;function $a(){return($a=(0,u.Z)(function*(N,L,te,ge,Pe){if(Pe&&Pe.global)N("event",te,ge);else{const Ve=yield L;N("event",te,Object.assign(Object.assign({},ge),{send_to:Ve}))}})).apply(this,arguments)}function Hr(){return(Hr=(0,u.Z)(function*(){if(!(0,ce.hl)())return ni.warn(Ss.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ce.eu)()}catch(N){return ni.warn(Ss.create("indexeddb-unavailable",{errorInfo:N?.toString()}).message),!1}return!0})).apply(this,arguments)}function To(){return To=(0,u.Z)(function*(N,L,te,ge,Pe,Ve,ct){var Gt;const Bt=function Lu(N){return fc.apply(this,arguments)}(N);Bt.then(Zs=>{te[Zs.measurementId]=Zs.appId,N.options.measurementId&&Zs.measurementId!==N.options.measurementId&&ni.warn(`The measurement ID in the local Firebase config (${N.options.measurementId}) does not match the measurement ID fetched from the server (${Zs.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Zs=>ni.error(Zs)),L.push(Bt);const pn=function er(){return Hr.apply(this,arguments)}().then(Zs=>{if(Zs)return ge.getId()}),[zn,Zn]=yield Promise.all([Bt,pn]);(function _t(N){const L=window.document.getElementsByTagName("script");for(const te of Object.values(L))if(te.src&&te.src.includes(Io)&&te.src.includes(N))return te;return null})(Ve)||function Jl(N,L){const te=function Yl(N,L){let te;return window.trustedTypes&&(te=window.trustedTypes.createPolicy(N,L)),te}("firebase-js-sdk-policy",{createScriptURL:hp}),ge=document.createElement("script"),Pe=`${Io}?l=${N}&id=${L}`;ge.src=te?te?.createScriptURL(Pe):Pe,ge.async=!0,document.head.appendChild(ge)}(Ve,zn.measurementId),Qe&&(Pe("consent","default",Qe),function Ke(N){Qe=N}(void 0)),Pe("js",new Date);const qs=null!==(Gt=ct?.config)&&void 0!==Gt?Gt:{};return qs[Ru]="firebase",qs.update=!0,null!=Zn&&(qs[xu]=Zn),Pe("config",zn.measurementId,qs),yl&&(Pe("set",yl),function Wt(N){yl=N}(void 0)),zn.measurementId}),To.apply(this,arguments)}class eu{constructor(L){this.app=L}_delete(){return delete Wr[this.app.options.appId],Promise.resolve()}}let Wr={},za=[];const _r={};let zd,Aa,Oc="dataLayer",fd=!1;function Nc(N,L,te){!function pp(){const N=[];if((0,ce.ru)()&&N.push("This is a browser extension environment."),(0,ce.zI)()||N.push("Cookies are not available."),N.length>0){const L=N.map((ge,Pe)=>`(${Pe+1}) ${ge}`).join(" "),te=Ss.create("invalid-analytics-context",{errorInfo:L});ni.warn(te.message)}}();const ge=N.options.appId;if(!ge)throw Ss.create("no-app-id");if(!N.options.apiKey){if(!N.options.measurementId)throw Ss.create("no-api-key");ni.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${N.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Wr[ge])throw Ss.create("already-exists",{id:ge});if(!fd){!function ml(N){let L=[];Array.isArray(window[N])?L=window[N]:window[N]=L}(Oc);const{wrappedGtag:Ve,gtagCore:ct}=function Ql(N,L,te,ge,Pe){let Ve=function(...ct){window[ge].push(arguments)};return window[Pe]&&"function"==typeof window[Pe]&&(Ve=window[Pe]),window[Pe]=function hd(N,L,te,ge){function Ve(){return Ve=(0,u.Z)(function*(ct,...Gt){try{if("event"===ct){const[Bt,pn]=Gt;yield function Vh(N,L,te,ge,Pe){return hc.apply(this,arguments)}(N,L,te,Bt,pn)}else if("config"===ct){const[Bt,pn]=Gt;yield function dc(N,L,te,ge,Pe,Ve){return Zc.apply(this,arguments)}(N,L,te,ge,Bt,pn)}else if("consent"===ct){const[Bt]=Gt;N("consent","update",Bt)}else if("get"===ct){const[Bt,pn,zn]=Gt;N("get",Bt,pn,zn)}else if("set"===ct){const[Bt]=Gt;N("set",Bt)}else N(ct,...Gt)}catch(Bt){ni.error(Bt)}}),Ve.apply(this,arguments)}return function Pe(ct){return Ve.apply(this,arguments)}}(Ve,N,L,te),{gtagCore:Ve,wrappedGtag:window[Pe]}}(Wr,za,_r,Oc,"gtag");Aa=Ve,zd=ct,fd=!0}return Wr[ge]=function or(N,L,te,ge,Pe,Ve,ct){return To.apply(this,arguments)}(N,za,_r,L,zd,Oc,te),new eu(N)}function bl(){return wl.apply(this,arguments)}function wl(){return(wl=(0,u.Z)(function*(){if((0,ce.ru)()||!(0,ce.zI)()||!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch{return!1}})).apply(this,arguments)}const em="@firebase/analytics";!function mp(){(0,ye.Xd)(new he.wA(la,(L,{options:te})=>Nc(L.getProvider("app").getImmediate(),L.getProvider("installations-internal").getImmediate(),te),"PUBLIC")),(0,ye.Xd)(new he.wA("analytics-internal",function N(L){try{const te=L.getProvider(la).getImmediate();return{logEvent:(ge,Pe,Ve)=>function zh(N,L,te,ge){N=(0,ce.m9)(N),function Ga(N,L,te,ge,Pe){return $a.apply(this,arguments)}(Aa,Wr[N.app.options.appId],L,te,ge).catch(Pe=>ni.error(Pe))}(te,ge,Pe,Ve)}}catch(te){throw Ss.create("interop-component-reg-failed",{reason:te})}},"PRIVATE")),(0,ye.KN)(em,"0.10.0"),(0,ye.KN)(em,"0.10.0","esm2017")}();var Zd=$(2381),n0=$(6321),nu=$(5592),ru=$(9397),Kd=$(5137),Yc=$(3093);const Vu=new b.GfV("7.6.1"),Mc="__angularfire_symbol__analyticsIsSupportedValue",Wh="__angularfire_symbol__analyticsIsSupported",iu="__angularfire_symbol__remoteConfigIsSupportedValue",Hu="__angularfire_symbol__remoteConfigIsSupported",El="__angularfire_symbol__messagingIsSupportedValue",Do="__angularfire_symbol__messagingIsSupported";function Yd(N,L,te){if(L){if(1===L.length)return L[0];const Ve=L.filter(ct=>ct.app===te);if(1===Ve.length)return Ve[0]}return te.container.getProvider(N).getImmediate({optional:!0})}globalThis[Wh]||(globalThis[Wh]=bl().then(N=>globalThis[Mc]=N).catch(()=>globalThis[Mc]=!1)),globalThis[Do]||(globalThis[Do]=wo().then(N=>globalThis[El]=N).catch(()=>globalThis[El]=!1)),globalThis[Hu]||(globalThis[Hu]=vi().then(N=>globalThis[iu]=N).catch(()=>globalThis[iu]=!1));const yd=(N,L)=>{const te=L?[L]:(0,X.C6)(),ge=[];return te.forEach(Pe=>{Pe.container.getProvider(N).instances.forEach(ct=>{ge.includes(ct)||ge.push(ct)})}),ge};function xc(){}class Zh{constructor(L,te=Zd.N){this.zone=L,this.delegate=te}now(){return this.delegate.now()}schedule(L,te,ge){const Pe=this.zone;return this.delegate.schedule(function(ct){Pe.runGuarded(()=>{L.apply(this,[ct])})},te,ge)}}class Kh{constructor(L){this.zone=L,this.task=null}call(L,te){const ge=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xc,{},xc,xc)),te.pipe((0,ru.b)({next:ge,complete:ge,error:ge})).subscribe(L).add(ge)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ou=(()=>{class N{constructor(te){this.ngZone=te,this.outsideAngular=te.runOutsideAngular(()=>new Zh(Zone.current)),this.insideAngular=te.run(()=>new Zh(Zone.current,n0.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return N.\u0275fac=function(te){return new(te||N)(b.LFG(b.R0b))},N.\u0275prov=b.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})();function Tl(){const N=globalThis.\u0275AngularFireScheduler;if(!N)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return N}function Oa(N){return Tl().ngZone.run(()=>N())}function Jd(N){return Tl(),function ju(N){return function(te){return(te=te.lift(new Kh(N.ngZone))).pipe((0,Kd.R)(N.outsideAngular),(0,Yc.Q)(N.insideAngular))}}(Tl())(N)}const au=(N,L)=>function(){const ge=arguments;return L&&setTimeout(()=>{"scheduled"===L.state&&L.invoke()},10),Oa(()=>N.apply(void 0,ge))},cu=(N,L)=>function(){let te;const ge=arguments;for(let Ve=0;Ve<arguments.length;Ve++)"function"==typeof ge[Ve]&&(L&&(te||(te=Oa(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xc,{},xc,xc)))),ge[Ve]=au(ge[Ve],te));const Pe=function _p(N){return Tl().ngZone.runOutsideAngular(()=>N())}(()=>N.apply(this,ge));if(!L){if(Pe instanceof nu.y){const Ve=Tl();return Pe.pipe((0,Kd.R)(Ve.outsideAngular),(0,Yc.Q)(Ve.insideAngular))}return Oa(()=>Pe)}return Pe instanceof nu.y?Pe.pipe(Jd):Pe instanceof Promise?Oa(()=>new Promise((Ve,ct)=>Pe.then(Gt=>Oa(()=>Ve(Gt)),Gt=>Oa(()=>ct(Gt))))):"function"==typeof Pe&&te?function(){return setTimeout(()=>{te&&"scheduled"===te.state&&te.invoke()},10),Pe.apply(this,arguments)}:Oa(()=>Pe)}},229:(Ht,Ue,$)=>{"use strict";$.d(Ue,{$s:()=>At,BH:()=>yt,L:()=>Ee,LL:()=>gt,P0:()=>Tt,Pz:()=>rt,Sg:()=>We,US:()=>he,ZR:()=>Ye,aH:()=>st,b$:()=>ut,eu:()=>je,hl:()=>Be,m9:()=>qn,ne:()=>gr,ru:()=>vn,tV:()=>re,uI:()=>_e,vZ:()=>bt,xO:()=>_n,z$:()=>Oe,zI:()=>Ze});const ye=function(J){const U=[];let j=0;for(let q=0;q<J.length;q++){let z=J.charCodeAt(q);z<128?U[j++]=z:z<2048?(U[j++]=z>>6|192,U[j++]=63&z|128):55296==(64512&z)&&q+1<J.length&&56320==(64512&J.charCodeAt(q+1))?(z=65536+((1023&z)<<10)+(1023&J.charCodeAt(++q)),U[j++]=z>>18|240,U[j++]=z>>12&63|128,U[j++]=z>>6&63|128,U[j++]=63&z|128):(U[j++]=z>>12|224,U[j++]=z>>6&63|128,U[j++]=63&z|128)}return U},he={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(J,U){if(!Array.isArray(J))throw Error("encodeByteArray takes an array as a parameter");this.init_();const j=U?this.byteToCharMapWebSafe_:this.byteToCharMap_,q=[];for(let z=0;z<J.length;z+=3){const Te=J[z],Je=z+1<J.length,Dt=Je?J[z+1]:0,un=z+2<J.length,dn=un?J[z+2]:0;let Un=(15&Dt)<<2|dn>>6,Zr=63&dn;un||(Zr=64,Je||(Un=64)),q.push(j[Te>>2],j[(3&Te)<<4|Dt>>4],j[Un],j[Zr])}return q.join("")},encodeString(J,U){return this.HAS_NATIVE_SUPPORT&&!U?btoa(J):this.encodeByteArray(ye(J),U)},decodeString(J,U){return this.HAS_NATIVE_SUPPORT&&!U?atob(J):function(J){const U=[];let j=0,q=0;for(;j<J.length;){const z=J[j++];if(z<128)U[q++]=String.fromCharCode(z);else if(z>191&&z<224){const Te=J[j++];U[q++]=String.fromCharCode((31&z)<<6|63&Te)}else if(z>239&&z<365){const un=((7&z)<<18|(63&J[j++])<<12|(63&J[j++])<<6|63&J[j++])-65536;U[q++]=String.fromCharCode(55296+(un>>10)),U[q++]=String.fromCharCode(56320+(1023&un))}else{const Te=J[j++],Je=J[j++];U[q++]=String.fromCharCode((15&z)<<12|(63&Te)<<6|63&Je)}}return U.join("")}(this.decodeStringToByteArray(J,U))},decodeStringToByteArray(J,U){this.init_();const j=U?this.charToByteMapWebSafe_:this.charToByteMap_,q=[];for(let z=0;z<J.length;){const Te=j[J.charAt(z++)],Dt=z<J.length?j[J.charAt(z)]:0;++z;const dn=z<J.length?j[J.charAt(z)]:64;++z;const Yt=z<J.length?j[J.charAt(z)]:64;if(++z,null==Te||null==Dt||null==dn||null==Yt)throw new we;q.push(Te<<2|Dt>>4),64!==dn&&(q.push(Dt<<4&240|dn>>2),64!==Yt&&q.push(dn<<6&192|Yt))}return q},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let J=0;J<this.ENCODED_VALS.length;J++)this.byteToCharMap_[J]=this.ENCODED_VALS.charAt(J),this.charToByteMap_[this.byteToCharMap_[J]]=J,this.byteToCharMapWebSafe_[J]=this.ENCODED_VALS_WEBSAFE.charAt(J),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[J]]=J,J>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(J)]=J,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(J)]=J)}}};class we extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ee=function(J){return function(J){const U=ye(J);return he.encodeByteArray(U,!0)}(J).replace(/\./g,"")},re=function(J){try{return he.decodeString(J,!0)}catch(U){console.error("base64Decode failed: ",U)}return null},Ct=()=>{try{return function Me(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const J=process.env.__FIREBASE_DEFAULTS__;return J?JSON.parse(J):void 0})()||(()=>{if(typeof document>"u")return;let J;try{J=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const U=J&&re(J[1]);return U&&JSON.parse(U)})()}catch(J){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${J}`)}},Tt=J=>{const U=(J=>{var U,j;return null===(j=null===(U=Ct())||void 0===U?void 0:U.emulatorHosts)||void 0===j?void 0:j[J]})(J);if(!U)return;const j=U.lastIndexOf(":");if(j<=0||j+1===U.length)throw new Error(`Invalid host ${U} with no separate hostname and port!`);const q=parseInt(U.substring(j+1),10);return"["===U[0]?[U.substring(1,j-1),q]:[U.substring(0,j),q]},st=()=>{var J;return null===(J=Ct())||void 0===J?void 0:J.config},rt=J=>{var U;return null===(U=Ct())||void 0===U?void 0:U[`_${J}`]};class yt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((U,j)=>{this.resolve=U,this.reject=j})}wrapCallback(U){return(j,q)=>{j?this.reject(j):this.resolve(q),"function"==typeof U&&(this.promise.catch(()=>{}),1===U.length?U(j):U(j,q))}}}function We(J,U){if(J.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const q=U||"demo-project",z=J.iat||0,Te=J.sub||J.user_id;if(!Te)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Je=Object.assign({iss:`https://securetoken.google.com/${q}`,aud:q,iat:z,exp:z+3600,auth_time:z,sub:Te,user_id:Te,firebase:{sign_in_provider:"custom",identities:{}}},J);return[Ee(JSON.stringify({alg:"none",type:"JWT"})),Ee(JSON.stringify(Je)),""].join(".")}function Oe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function _e(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Oe())}function vn(){const J="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof J&&void 0!==J.id}function ut(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Be(){try{return"object"==typeof indexedDB}catch{return!1}}function je(){return new Promise((J,U)=>{try{let j=!0;const q="validate-browser-context-for-indexeddb-analytics-module",z=self.indexedDB.open(q);z.onsuccess=()=>{z.result.close(),j||self.indexedDB.deleteDatabase(q),J(!0)},z.onupgradeneeded=()=>{j=!1},z.onerror=()=>{var Te;U((null===(Te=z.error)||void 0===Te?void 0:Te.message)||"")}}catch(j){U(j)}})}function Ze(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ye extends Error{constructor(U,j,q){super(j),this.code=U,this.customData=q,this.name="FirebaseError",Object.setPrototypeOf(this,Ye.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gt.prototype.create)}}class gt{constructor(U,j,q){this.service=U,this.serviceName=j,this.errors=q}create(U,...j){const q=j[0]||{},z=`${this.service}/${U}`,Te=this.errors[U],Je=Te?function St(J,U){return J.replace(Lt,(j,q)=>{const z=U[q];return null!=z?String(z):`<${q}?>`})}(Te,q):"Error";return new Ye(z,`${this.serviceName}: ${Je} (${z}).`,q)}}const Lt=/\{\$([^}]+)}/g;function bt(J,U){if(J===U)return!0;const j=Object.keys(J),q=Object.keys(U);for(const z of j){if(!q.includes(z))return!1;const Te=J[z],Je=U[z];if(kt(Te)&&kt(Je)){if(!bt(Te,Je))return!1}else if(Te!==Je)return!1}for(const z of q)if(!j.includes(z))return!1;return!0}function kt(J){return null!==J&&"object"==typeof J}function _n(J){const U=[];for(const[j,q]of Object.entries(J))Array.isArray(q)?q.forEach(z=>{U.push(encodeURIComponent(j)+"="+encodeURIComponent(z))}):U.push(encodeURIComponent(j)+"="+encodeURIComponent(q));return U.length?"&"+U.join("&"):""}function gr(J,U){const j=new nn(J,U);return j.subscribe.bind(j)}class nn{constructor(U,j){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=j,this.task.then(()=>{U(this)}).catch(q=>{this.error(q)})}next(U){this.forEachObserver(j=>{j.next(U)})}error(U){this.forEachObserver(j=>{j.error(U)}),this.close(U)}complete(){this.forEachObserver(U=>{U.complete()}),this.close()}subscribe(U,j,q){let z;if(void 0===U&&void 0===j&&void 0===q)throw new Error("Missing Observer.");z=function Sr(J,U){if("object"!=typeof J||null===J)return!1;for(const j of U)if(j in J&&"function"==typeof J[j])return!0;return!1}(U,["next","error","complete"])?U:{next:U,error:j,complete:q},void 0===z.next&&(z.next=wn),void 0===z.error&&(z.error=wn),void 0===z.complete&&(z.complete=wn);const Te=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?z.error(this.finalError):z.complete()}catch{}}),this.observers.push(z),Te}unsubscribeOne(U){void 0===this.observers||void 0===this.observers[U]||(delete this.observers[U],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(U){if(!this.finalized)for(let j=0;j<this.observers.length;j++)this.sendOne(j,U)}sendOne(U,j){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[U])try{j(this.observers[U])}catch(q){typeof console<"u"&&console.error&&console.error(q)}})}close(U){this.finalized||(this.finalized=!0,void 0!==U&&(this.finalError=U),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wn(){}const jr=1e3,at=2,Ne=144e5,nt=.5;function At(J,U=jr,j=at){const q=U*Math.pow(j,J),z=Math.round(nt*q*(Math.random()-.5)*2);return Math.min(Ne,q+z)}function qn(J){return J&&J._delegate?J._delegate:J}},9058:(Ht,Ue,$)=>{"use strict";$.d(Ue,{BH:()=>yt,L:()=>Ee,LL:()=>gt,Pz:()=>rt,ZR:()=>Ye,aH:()=>st,b$:()=>ut,eu:()=>je,hl:()=>Be,m9:()=>qn,ne:()=>gr,pd:()=>en,q4:()=>an,ru:()=>vn,tV:()=>re,uI:()=>_e,vZ:()=>bt,w1:()=>mn,xO:()=>_n,xb:()=>Xe,z$:()=>Oe,zd:()=>Sn});const ye=function(J){const U=[];let j=0;for(let q=0;q<J.length;q++){let z=J.charCodeAt(q);z<128?U[j++]=z:z<2048?(U[j++]=z>>6|192,U[j++]=63&z|128):55296==(64512&z)&&q+1<J.length&&56320==(64512&J.charCodeAt(q+1))?(z=65536+((1023&z)<<10)+(1023&J.charCodeAt(++q)),U[j++]=z>>18|240,U[j++]=z>>12&63|128,U[j++]=z>>6&63|128,U[j++]=63&z|128):(U[j++]=z>>12|224,U[j++]=z>>6&63|128,U[j++]=63&z|128)}return U},he={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(J,U){if(!Array.isArray(J))throw Error("encodeByteArray takes an array as a parameter");this.init_();const j=U?this.byteToCharMapWebSafe_:this.byteToCharMap_,q=[];for(let z=0;z<J.length;z+=3){const Te=J[z],Je=z+1<J.length,Dt=Je?J[z+1]:0,un=z+2<J.length,dn=un?J[z+2]:0;let Un=(15&Dt)<<2|dn>>6,Zr=63&dn;un||(Zr=64,Je||(Un=64)),q.push(j[Te>>2],j[(3&Te)<<4|Dt>>4],j[Un],j[Zr])}return q.join("")},encodeString(J,U){return this.HAS_NATIVE_SUPPORT&&!U?btoa(J):this.encodeByteArray(ye(J),U)},decodeString(J,U){return this.HAS_NATIVE_SUPPORT&&!U?atob(J):function(J){const U=[];let j=0,q=0;for(;j<J.length;){const z=J[j++];if(z<128)U[q++]=String.fromCharCode(z);else if(z>191&&z<224){const Te=J[j++];U[q++]=String.fromCharCode((31&z)<<6|63&Te)}else if(z>239&&z<365){const un=((7&z)<<18|(63&J[j++])<<12|(63&J[j++])<<6|63&J[j++])-65536;U[q++]=String.fromCharCode(55296+(un>>10)),U[q++]=String.fromCharCode(56320+(1023&un))}else{const Te=J[j++],Je=J[j++];U[q++]=String.fromCharCode((15&z)<<12|(63&Te)<<6|63&Je)}}return U.join("")}(this.decodeStringToByteArray(J,U))},decodeStringToByteArray(J,U){this.init_();const j=U?this.charToByteMapWebSafe_:this.charToByteMap_,q=[];for(let z=0;z<J.length;){const Te=j[J.charAt(z++)],Dt=z<J.length?j[J.charAt(z)]:0;++z;const dn=z<J.length?j[J.charAt(z)]:64;++z;const Yt=z<J.length?j[J.charAt(z)]:64;if(++z,null==Te||null==Dt||null==dn||null==Yt)throw new we;q.push(Te<<2|Dt>>4),64!==dn&&(q.push(Dt<<4&240|dn>>2),64!==Yt&&q.push(dn<<6&192|Yt))}return q},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let J=0;J<this.ENCODED_VALS.length;J++)this.byteToCharMap_[J]=this.ENCODED_VALS.charAt(J),this.charToByteMap_[this.byteToCharMap_[J]]=J,this.byteToCharMapWebSafe_[J]=this.ENCODED_VALS_WEBSAFE.charAt(J),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[J]]=J,J>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(J)]=J,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(J)]=J)}}};class we extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ee=function(J){return function(J){const U=ye(J);return he.encodeByteArray(U,!0)}(J).replace(/\./g,"")},re=function(J){try{return he.decodeString(J,!0)}catch(U){console.error("base64Decode failed: ",U)}return null},Ct=()=>{try{return function Me(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const J=process.env.__FIREBASE_DEFAULTS__;return J?JSON.parse(J):void 0})()||(()=>{if(typeof document>"u")return;let J;try{J=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const U=J&&re(J[1]);return U&&JSON.parse(U)})()}catch(J){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${J}`)}},an=J=>{var U,j;return null===(j=null===(U=Ct())||void 0===U?void 0:U.emulatorHosts)||void 0===j?void 0:j[J]},st=()=>{var J;return null===(J=Ct())||void 0===J?void 0:J.config},rt=J=>{var U;return null===(U=Ct())||void 0===U?void 0:U[`_${J}`]};class yt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((U,j)=>{this.resolve=U,this.reject=j})}wrapCallback(U){return(j,q)=>{j?this.reject(j):this.resolve(q),"function"==typeof U&&(this.promise.catch(()=>{}),1===U.length?U(j):U(j,q))}}}function Oe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function _e(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Oe())}function vn(){const J="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof J&&void 0!==J.id}function ut(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function mn(){const J=Oe();return J.indexOf("MSIE ")>=0||J.indexOf("Trident/")>=0}function Be(){try{return"object"==typeof indexedDB}catch{return!1}}function je(){return new Promise((J,U)=>{try{let j=!0;const q="validate-browser-context-for-indexeddb-analytics-module",z=self.indexedDB.open(q);z.onsuccess=()=>{z.result.close(),j||self.indexedDB.deleteDatabase(q),J(!0)},z.onupgradeneeded=()=>{j=!1},z.onerror=()=>{var Te;U((null===(Te=z.error)||void 0===Te?void 0:Te.message)||"")}}catch(j){U(j)}})}class Ye extends Error{constructor(U,j,q){super(j),this.code=U,this.customData=q,this.name="FirebaseError",Object.setPrototypeOf(this,Ye.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gt.prototype.create)}}class gt{constructor(U,j,q){this.service=U,this.serviceName=j,this.errors=q}create(U,...j){const q=j[0]||{},z=`${this.service}/${U}`,Te=this.errors[U],Je=Te?function St(J,U){return J.replace(Lt,(j,q)=>{const z=U[q];return null!=z?String(z):`<${q}?>`})}(Te,q):"Error";return new Ye(z,`${this.serviceName}: ${Je} (${z}).`,q)}}const Lt=/\{\$([^}]+)}/g;function Xe(J){for(const U in J)if(Object.prototype.hasOwnProperty.call(J,U))return!1;return!0}function bt(J,U){if(J===U)return!0;const j=Object.keys(J),q=Object.keys(U);for(const z of j){if(!q.includes(z))return!1;const Te=J[z],Je=U[z];if(kt(Te)&&kt(Je)){if(!bt(Te,Je))return!1}else if(Te!==Je)return!1}for(const z of q)if(!j.includes(z))return!1;return!0}function kt(J){return null!==J&&"object"==typeof J}function _n(J){const U=[];for(const[j,q]of Object.entries(J))Array.isArray(q)?q.forEach(z=>{U.push(encodeURIComponent(j)+"="+encodeURIComponent(z))}):U.push(encodeURIComponent(j)+"="+encodeURIComponent(q));return U.length?"&"+U.join("&"):""}function Sn(J){const U={};return J.replace(/^\?/,"").split("&").forEach(q=>{if(q){const[z,Te]=q.split("=");U[decodeURIComponent(z)]=decodeURIComponent(Te)}}),U}function en(J){const U=J.indexOf("?");if(!U)return"";const j=J.indexOf("#",U);return J.substring(U,j>0?j:void 0)}function gr(J,U){const j=new nn(J,U);return j.subscribe.bind(j)}class nn{constructor(U,j){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=j,this.task.then(()=>{U(this)}).catch(q=>{this.error(q)})}next(U){this.forEachObserver(j=>{j.next(U)})}error(U){this.forEachObserver(j=>{j.error(U)}),this.close(U)}complete(){this.forEachObserver(U=>{U.complete()}),this.close()}subscribe(U,j,q){let z;if(void 0===U&&void 0===j&&void 0===q)throw new Error("Missing Observer.");z=function Sr(J,U){if("object"!=typeof J||null===J)return!1;for(const j of U)if(j in J&&"function"==typeof J[j])return!0;return!1}(U,["next","error","complete"])?U:{next:U,error:j,complete:q},void 0===z.next&&(z.next=wn),void 0===z.error&&(z.error=wn),void 0===z.complete&&(z.complete=wn);const Te=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?z.error(this.finalError):z.complete()}catch{}}),this.observers.push(z),Te}unsubscribeOne(U){void 0===this.observers||void 0===this.observers[U]||(delete this.observers[U],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(U){if(!this.finalized)for(let j=0;j<this.observers.length;j++)this.sendOne(j,U)}sendOne(U,j){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[U])try{j(this.observers[U])}catch(q){typeof console<"u"&&console.error&&console.error(q)}})}close(U){this.finalized||(this.finalized=!0,void 0!==U&&(this.finalError=U),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wn(){}function qn(J){return J&&J._delegate?J._delegate:J}},1816:(Ht,Ue,$)=>{"use strict";$.d(Ue,{y:()=>u});var b=$(8645),X=$(9468);let u=(()=>{class ye{constructor(){this.modalMessageSource=new b.x,this.modalMessage$=this.modalMessageSource.asObservable()}sendModalMessage(he){this.modalMessageSource.next(he)}static#e=this.\u0275fac=function(we){return new(we||ye)};static#t=this.\u0275prov=X.Yz7({token:ye,factory:ye.\u0275fac,providedIn:"root"})}return ye})()},2732:(Ht,Ue,$)=>{"use strict";$.d(Ue,{Q:()=>u});var b=$(9468),X=$(6593);let u=(()=>{class ye{constructor(he){this.sanitizer=he}transform(he){let we;if(he.startsWith("https://m."))we=new URLSearchParams(he.split("?")[1]).get("v")||"";else{const Ee=he.split("/");we=Ee[Ee.length-1]}return this.sanitizer.bypassSecurityTrustResourceUrl("https://www.youtube.com/embed/"+we)}static#e=this.\u0275fac=function(we){return new(we||ye)(b.Y36(X.H7,16))};static#t=this.\u0275pipe=b.Yjl({name:"safeUrl",type:ye,pure:!0})}return ye})()},2772:(Ht,Ue,$)=>{"use strict";$.d(Ue,{r:()=>ce});var b=$(6814),X=$(7158),u=$(95),ye=$(9468);let ce=(()=>{class he{static#e=this.\u0275fac=function(Ee){return new(Ee||he)};static#t=this.\u0275mod=ye.oAB({type:he});static#n=this.\u0275inj=ye.cJS({imports:[b.ez,X.Bz,u.u5,u.UX]})}return he})()},8850:(Ht,Ue,$)=>{"use strict";$.d(Ue,{O:()=>he});var b=$(5861),X=$(3477),u=$(8645),ye=$(9468),ce=$(4456);let he=(()=>{class we{constructor(Ee,re){this.firestore=Ee,this.globalErrorHandler=re,this.commentAddedSubject=new u.x,this.collectionName="Comments"}getCommentsByQuery(Ee,re){var ue=this;return(0,b.Z)(function*(){try{const Ae=(0,X.hJ)(ue.firestore,ue.collectionName),Ce=(0,X.IO)(Ae,(0,X.ar)(Ee,"==",re)),Me=yield(0,X.PL)(Ce),qe=[];return Me.forEach(It=>{const{create_time:xt,name:Ct,recipeId:an,comment:Tt,uid:st}=It.data();qe.push({create_time:xt,name:Ct,recipeId:an,comment:Tt,uid:st,id:It.id})}),qe.sort((It,xt)=>{const Ct=It.create_time.toDate();return xt.create_time.toDate().getTime()-Ct.getTime()}),qe}catch(Ae){return ue.globalErrorHandler.handleError(Ae),[]}})()}getCommentsForRecipe(Ee){var re=this;return(0,b.Z)(function*(){return re.getCommentsByQuery("recipeId",Ee)})()}getCommentsForUser(Ee){var re=this;return(0,b.Z)(function*(){return re.getCommentsByQuery("uid",Ee)})()}addComment(Ee){var re=this;return(0,b.Z)(function*(){try{const ue=yield(0,X.ET)((0,X.hJ)(re.firestore,re.collectionName),Ee);return re.commentAddedSubject.next(),ue.id}catch(ue){return re.globalErrorHandler.handleError(ue),null}})()}deleteComment(Ee){var re=this;return(0,b.Z)(function*(){try{const ue=(0,X.JU)(re.firestore,re.collectionName,Ee);yield(0,X.oe)(ue),console.log("Comment deleted successfully:",Ee)}catch(ue){throw re.globalErrorHandler.handleError(ue),ue}})()}getCommentById(Ee){var re=this;return(0,b.Z)(function*(){const ue=(0,X.JU)(re.firestore,re.collectionName,Ee),Ae=yield(0,X.QT)(ue);if(Ae.exists()){const Ce=Ae.data();return console.log(Ce.recipeId),Ae.data()}return null})()}editComment(Ee,re){var ue=this;return(0,b.Z)(function*(){const Ce=(0,X.JU)(ue.firestore,"Comments",re),Me={...Ee};try{yield(0,X.r7)(Ce,Me)}catch(qe){throw ue.globalErrorHandler.handleError(qe),qe}})()}getCommentAddedObservable(){return this.commentAddedSubject.asObservable()}static#e=this.\u0275fac=function(re){return new(re||we)(ye.LFG(X.gg),ye.LFG(ce.r))};static#t=this.\u0275prov=ye.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"})}return we})()},3424:(Ht,Ue,$)=>{"use strict";$.d(Ue,{l:()=>u});var b=$(95),X=$(9468);let u=(()=>{class ye{markFormGroupTouched(he){Object.values(he.controls).forEach(we=>{we instanceof b.NI?we.markAsTouched():we instanceof b.cw&&this.markFormGroupTouched(we)})}markFormArrayControlsTouched(he){for(let we=0;we<he.length;we++){const ke=he.at(we);this.markFormGroupTouched(ke)}}getFormGroupErrors(he){let we="";return Object.keys(he.controls).forEach(ke=>{const Ee=he.get(ke)?.errors;Ee&&Object.keys(Ee).forEach(re=>{we+=`${ke} ${this.getControlErrorMessage(re,Ee[re])}\n`})}),we}getControlErrorMessage(he,we){switch(he){case"required":return"-> this field is required.";case"minlength":return`-> Minimum length is ${we.requiredLength}.`;case"maxlength":return`-> Maximum length is ${we.requiredLength}.`;default:return""}}static#e=this.\u0275fac=function(we){return new(we||ye)};static#t=this.\u0275prov=X.Yz7({token:ye,factory:ye.\u0275fac,providedIn:"root"})}return ye})()},4456:(Ht,Ue,$)=>{"use strict";$.d(Ue,{r:()=>u});var b=$(9468),X=$(1816);let u=(()=>{class ye{constructor(he){this.alertService=he}handleError(he){if(he instanceof Error){const we=he.name,ke=he.message;console.error(`Error (${we}): ${ke}`),this.alertService.sendModalMessage(`Error (${we}): \n\n         ${ke}`)}else this.alertService.sendModalMessage(`Unknown error occurred:\n      \n${he}`)}static#e=this.\u0275fac=function(we){return new(we||ye)(b.LFG(X.y))};static#t=this.\u0275prov=b.Yz7({token:ye,factory:ye.\u0275fac,providedIn:"root"})}return ye})()},3585:(Ht,Ue,$)=>{"use strict";$.d(Ue,{j:()=>re});var b=$(5861),X=$(3477),u=$(5619),ye=$(6973),ce=$(305),we=$(9468),ke=$(7158),Ee=$(4456);let re=(()=>{class ue{constructor(Ce,Me,qe){this.firestore=Ce,this.router=Me,this.globalErrorHandler=qe,this.lastDocSubject=new u.X(void 0),this.lastDoc$=this.lastDocSubject.asObservable(),this.collectionName="Recipe",this.paginateNumber=12}getRecipes(){var Ce=this;return(0,b.Z)(function*(){try{let Me=(0,X.IO)((0,X.hJ)(Ce.firestore,Ce.collectionName),(0,X.Xo)("title"),(0,X.ar)("public","==",!0));Me=(0,X.IO)(Me,(0,X.b9)(Ce.paginateNumber));const qe=yield(0,X.PL)(Me);let It=[];return qe.forEach(Ct=>{const Tt={...Ct.data(),id:Ct.id};Tt.public&&It.push(Tt)}),Ce.lastDocSubject.next(qe.docs[qe.docs.length-1]),{data:It}}catch(Me){throw Ce.globalErrorHandler.handleError(Me),Me}})()}getRecipesLoadMore(){var Ce=this;return(0,b.Z)(function*(){try{const Me=yield function he(ue,Ae){const Ce="object"==typeof Ae;return new Promise((Me,qe)=>{const It=new ce.Hp({next:xt=>{Me(xt),It.unsubscribe()},error:qe,complete:()=>{Ce?Me(Ae.defaultValue):qe(new ye.K)}});ue.subscribe(It)})}(Ce.lastDoc$);let qe=(0,X.IO)((0,X.hJ)(Ce.firestore,Ce.collectionName),(0,X.Xo)("title"),(0,X.ar)("public","==",!0));Me&&(qe=(0,X.IO)(qe,(0,X.TQ)(Me))),qe=(0,X.IO)(qe,(0,X.b9)(Ce.paginateNumber));const It=yield(0,X.PL)(qe);let xt=[];It.forEach(Tt=>{const rt={...Tt.data(),id:Tt.id};rt.public&&xt.push(rt)});const Ct=It.size===Ce.paginateNumber;return Ce.lastDocSubject.next(It.docs[It.docs.length-1]),{data:xt,hasMore:Ct}}catch(Me){throw Ce.globalErrorHandler.handleError(Me),Me}})()}getRecipeById(Ce){var Me=this;return(0,b.Z)(function*(){try{const qe=(0,X.JU)(Me.firestore,Me.collectionName,Ce),It=yield(0,X.QT)(qe);if(It.exists()){let xt=It.data();return xt.id||(xt={...xt,id:Ce}),xt}return null}catch(qe){throw Me.globalErrorHandler.handleError(qe),qe}})()}getRecipeByUID(Ce){var Me=this;return(0,b.Z)(function*(){try{const qe=(0,X.hJ)(Me.firestore,Me.collectionName),It=(0,X.IO)(qe,(0,X.ar)("uid","==",Ce)),xt=yield(0,X.PL)(It),Ct=[];return xt.forEach(an=>{const st={...an.data(),id:an.id};Ct.push(st)}),Ct}catch(qe){throw Me.globalErrorHandler.handleError(qe),qe}})()}searchRecipesByTitle(Ce){var Me=this;return(0,b.Z)(function*(){try{let qe=(0,X.IO)((0,X.hJ)(Me.firestore,Me.collectionName),(0,X.Xo)("title"));const It=yield(0,X.PL)(qe);let xt=[];return It.forEach(Ct=>{const Tt={...Ct.data(),id:Ct.id};xt.push(Tt)}),Ce&&(xt=xt.filter(Ct=>Ct.title.toLowerCase().includes(Ce.toLowerCase()))),{data:xt}}catch(qe){throw Me.globalErrorHandler.handleError(qe),qe}})()}updateRecipeLikes(Ce,Me,qe){var It=this;return(0,b.Z)(function*(){const xt=(0,X.JU)(It.firestore,It.collectionName,Ce);try{qe?(console.log("remove"),yield(0,X.r7)(xt,{likes:(0,X.Ab)(Me)})):(console.log("add"),yield(0,X.r7)(xt,{likes:(0,X.vr)(Me)})),console.log("Recipe likes updated successfully")}catch(Ct){throw It.globalErrorHandler.handleError(Ct),Ct}})()}deleteRecipe(Ce){var Me=this;return(0,b.Z)(function*(){try{const qe=(0,X.JU)(Me.firestore,Me.collectionName,Ce);yield(0,X.oe)(qe),console.log("Recipe deleted successfully:",Ce)}catch(qe){throw Me.globalErrorHandler.handleError(qe),qe}})()}addRecipe(Ce){(0,X.ET)((0,X.hJ)(this.firestore,this.collectionName),Ce).then(Me=>{console.log("Document written with ID: ",Me.id),this.router.navigate(["/recipe",Me.id])}).catch(Me=>{throw this.globalErrorHandler.handleError(Me),Me})}updateRecipe(Ce,Me){if(Me){const qe=(0,X.JU)(this.firestore,this.collectionName,Me),It={...Ce};(0,X.r7)(qe,It).then(()=>{console.log("Document successfully updated"),this.router.navigate(["/recipe",Me])}).catch(xt=>{this.globalErrorHandler.handleError(xt)})}else this.globalErrorHandler.handleError("Invalid recipe id.")}static#e=this.\u0275fac=function(Me){return new(Me||ue)(we.LFG(X.gg),we.LFG(ke.F0),we.LFG(Ee.r))};static#t=this.\u0275prov=we.Yz7({token:ue,factory:ue.\u0275fac,providedIn:"root"})}return ue})()},6499:(Ht,Ue,$)=>{"use strict";$.d(Ue,{K:()=>f0});var b=$(5861),X=$(9058),u=$(4303),ye=$(7879),ce=$(7582),he=$(4537);const qe=function Ce(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},It=new X.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ct=new ye.Yd("@firebase/auth");function Tt(A,...v){Ct.logLevel<=ye.in.ERROR&&Ct.error(`Auth (${u.Jn}): ${A}`,...v)}function st(A,...v){throw Oe(A,...v)}function rt(A,...v){return Oe(A,...v)}function Oe(A,...v){if("string"!=typeof A){const w=v[0],O=[...v.slice(1)];return O[0]&&(O[0].appName=A.name),A._errorFactory.create(w,...O)}return It.create(A,...v)}function _e(A,v,...w){if(!A)throw Oe(v,...w)}function Le(A){const v="INTERNAL ASSERTION FAILED: "+A;throw Tt(v),new Error(v)}function lt(A,v){A||Le(v)}function vn(){var A;return typeof self<"u"&&(null===(A=self.location)||void 0===A?void 0:A.href)||""}function sn(){var A;return typeof self<"u"&&(null===(A=self.location)||void 0===A?void 0:A.protocol)||null}class Yn{constructor(v,w){this.shortDelay=v,this.longDelay=w,lt(w>v,"Short delay should be less than long delay!"),this.isMobile=(0,X.uI)()||(0,X.b$)()}get(){return function mn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function ut(){return"http:"===sn()||"https:"===sn()}()||(0,X.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function tr(A,v){lt(A.emulator,"Emulator should always be set here");const{url:w}=A.emulator;return v?`${w}${v.startsWith("/")?v.slice(1):v}`:w}class Be{static initialize(v,w,O){this.fetchImpl=v,w&&(this.headersImpl=w),O&&(this.responseImpl=O)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Le("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Le("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Le("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const je={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ze=new Yn(3e4,6e4);function He(A,v){return A.tenantId&&!v.tenantId?Object.assign(Object.assign({},v),{tenantId:A.tenantId}):v}function Ye(A,v,w,O){return gt.apply(this,arguments)}function gt(){return(gt=(0,b.Z)(function*(A,v,w,O,Y={}){return St(A,Y,(0,b.Z)(function*(){let de={},Re={};O&&("GET"===v?Re=O:de={body:JSON.stringify(O)});const tt=(0,X.xO)(Object.assign({key:A.config.apiKey},Re)).slice(1),Ot=yield A._getAdditionalHeaders();return Ot["Content-Type"]="application/json",A.languageCode&&(Ot["X-Firebase-Locale"]=A.languageCode),Be.fetch()(Ut(A,A.config.apiHost,w,tt),Object.assign({method:v,headers:Ot,referrerPolicy:"no-referrer"},de))}))})).apply(this,arguments)}function St(A,v,w){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,b.Z)(function*(A,v,w){A._canInitEmulator=!1;const O=Object.assign(Object.assign({},je),v);try{const Y=new bn(A),de=yield Promise.race([w(),Y.promise]);Y.clearNetworkTimeout();const Re=yield de.json();if("needConfirmation"in Re)throw Jn(A,"account-exists-with-different-credential",Re);if(de.ok&&!("errorMessage"in Re))return Re;{const tt=de.ok?Re.errorMessage:Re.error.message,[Ot,gn]=tt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ot)throw Jn(A,"credential-already-in-use",Re);if("EMAIL_EXISTS"===Ot)throw Jn(A,"email-already-in-use",Re);if("USER_DISABLED"===Ot)throw Jn(A,"user-disabled",Re);const Fn=O[Ot]||Ot.toLowerCase().replace(/[_\s]+/g,"-");if(gn)throw function yt(A,v,w){const O=Object.assign(Object.assign({},qe()),{[v]:w});return new X.LL("auth","Firebase",O).create(v,{appName:A.name})}(A,Fn,gn);st(A,Fn)}}catch(Y){if(Y instanceof X.ZR)throw Y;st(A,"network-request-failed",{message:String(Y)})}})).apply(this,arguments)}function Xt(A,v,w,O){return tn.apply(this,arguments)}function tn(){return(tn=(0,b.Z)(function*(A,v,w,O,Y={}){const de=yield Ye(A,v,w,O,Y);return"mfaPendingCredential"in de&&st(A,"multi-factor-auth-required",{_serverResponse:de}),de})).apply(this,arguments)}function Ut(A,v,w,O){const Y=`${v}${w}?${O}`;return A.config.emulator?tr(A.config,Y):`${A.config.apiScheme}://${Y}`}function pt(A){switch(A){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class bn{constructor(v){this.auth=v,this.timer=null,this.promise=new Promise((w,O)=>{this.timer=setTimeout(()=>O(rt(this.auth,"network-request-failed")),Ze.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Jn(A,v,w){const O={appName:A.name};w.email&&(O.email=w.email),w.phoneNumber&&(O.phoneNumber=w.phoneNumber);const Y=rt(A,v,O);return Y.customData._tokenResponse=w,Y}function xe(A){return void 0!==A&&void 0!==A.enterprise}class De{constructor(v){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===v.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=v.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=v.recaptchaEnforcementState}getProviderEnforcementState(v){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const w of this.recaptchaEnforcementState)if(w.provider&&w.provider===v)return pt(w.enforcementState);return null}isProviderEnabled(v){return"ENFORCE"===this.getProviderEnforcementState(v)||"AUDIT"===this.getProviderEnforcementState(v)}}function bt(A,v){return kt.apply(this,arguments)}function kt(){return(kt=(0,b.Z)(function*(A,v){return Ye(A,"GET","/v2/recaptchaConfig",He(A,v))})).apply(this,arguments)}function _n(){return(_n=(0,b.Z)(function*(A,v){return Ye(A,"POST","/v1/accounts:delete",v)})).apply(this,arguments)}function gr(){return(gr=(0,b.Z)(function*(A,v){return Ye(A,"POST","/v1/accounts:lookup",v)})).apply(this,arguments)}function nn(A){if(A)try{const v=new Date(Number(A));if(!isNaN(v.getTime()))return v.toUTCString()}catch{}}function wn(){return(wn=(0,b.Z)(function*(A,v=!1){const w=(0,X.m9)(A),O=yield w.getIdToken(v),Y=Wn(O);_e(Y&&Y.exp&&Y.auth_time&&Y.iat,w.auth,"internal-error");const de="object"==typeof Y.firebase?Y.firebase:void 0,Re=de?.sign_in_provider;return{claims:Y,token:O,authTime:nn(lr(Y.auth_time)),issuedAtTime:nn(lr(Y.iat)),expirationTime:nn(lr(Y.exp)),signInProvider:Re||null,signInSecondFactor:de?.sign_in_second_factor||null}})).apply(this,arguments)}function lr(A){return 1e3*Number(A)}function Wn(A){const[v,w,O]=A.split(".");if(void 0===v||void 0===w||void 0===O)return Tt("JWT malformed, contained fewer than 3 sections"),null;try{const Y=(0,X.tV)(w);return Y?JSON.parse(Y):(Tt("Failed to decode base64 JWT payload"),null)}catch(Y){return Tt("Caught error parsing JWT payload as JSON",Y?.toString()),null}}function Vn(A,v){return ei.apply(this,arguments)}function ei(){return(ei=(0,b.Z)(function*(A,v,w=!1){if(w)return v;try{return yield v}catch(O){throw O instanceof X.ZR&&function qt({code:A}){return"auth/user-disabled"===A||"auth/user-token-expired"===A}(O)&&A.auth.currentUser===A&&(yield A.auth.signOut()),O}})).apply(this,arguments)}class Wi{constructor(v){this.user=v,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(v){var w;if(v){const O=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),O}{this.errorBackoff=3e4;const Y=(null!==(w=this.user.stsTokenManager.expirationTime)&&void 0!==w?w:0)-Date.now()-3e5;return Math.max(0,Y)}}schedule(v=!1){var w=this;if(!this.isRunning)return;const O=this.getInterval(v);this.timerId=setTimeout((0,b.Z)(function*(){yield w.iteration()}),O)}iteration(){var v=this;return(0,b.Z)(function*(){try{yield v.user.getIdToken(!0)}catch(w){return void("auth/network-request-failed"===w?.code&&v.schedule(!0))}v.schedule()})()}}class qr{constructor(v,w){this.createdAt=v,this.lastLoginAt=w,this._initializeTime()}_initializeTime(){this.lastSignInTime=nn(this.lastLoginAt),this.creationTime=nn(this.createdAt)}_copy(v){this.createdAt=v.createdAt,this.lastLoginAt=v.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function jr(A){return at.apply(this,arguments)}function at(){return at=(0,b.Z)(function*(A){var v;const w=A.auth,O=yield A.getIdToken(),Y=yield Vn(A,function fn(A,v){return gr.apply(this,arguments)}(w,{idToken:O}));_e(Y?.users.length,w,"internal-error");const de=Y.users[0];A._notifyReloadListener(de);const Re=null!==(v=de.providerUserInfo)&&void 0!==v&&v.length?function zt(A){return A.map(v=>{var{providerId:w}=v,O=(0,ce._T)(v,["providerId"]);return{providerId:w,uid:O.rawId||"",displayName:O.displayName||null,email:O.email||null,phoneNumber:O.phoneNumber||null,photoURL:O.photoUrl||null}})}(de.providerUserInfo):[],tt=function At(A,v){return[...A.filter(O=>!v.some(Y=>Y.providerId===O.providerId)),...v]}(A.providerData,Re),Fn=!!A.isAnonymous&&!(A.email&&de.passwordHash||tt?.length),Fr={uid:de.localId,displayName:de.displayName||null,photoURL:de.photoUrl||null,email:de.email||null,emailVerified:de.emailVerified||!1,phoneNumber:de.phoneNumber||null,tenantId:de.tenantId||null,providerData:tt,metadata:new qr(de.createdAt,de.lastLoginAt),isAnonymous:Fn};Object.assign(A,Fr)}),at.apply(this,arguments)}function nt(){return(nt=(0,b.Z)(function*(A){const v=(0,X.m9)(A);yield jr(v),yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)})).apply(this,arguments)}function qn(){return(qn=(0,b.Z)(function*(A,v){const w=yield St(A,{},(0,b.Z)(function*(){const O=(0,X.xO)({grant_type:"refresh_token",refresh_token:v}).slice(1),{tokenApiHost:Y,apiKey:de}=A.config,Re=Ut(A,Y,"/v1/token",`key=${de}`),tt=yield A._getAdditionalHeaders();return tt["Content-Type"]="application/x-www-form-urlencoded",Be.fetch()(Re,{method:"POST",headers:tt,body:O})}));return{accessToken:w.access_token,expiresIn:w.expires_in,refreshToken:w.refresh_token}})).apply(this,arguments)}function U(){return(U=(0,b.Z)(function*(A,v){return Ye(A,"POST","/v2/accounts:revokeToken",He(A,v))})).apply(this,arguments)}class j{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(v){_e(v.idToken,"internal-error"),_e(typeof v.idToken<"u","internal-error"),_e(typeof v.refreshToken<"u","internal-error");const w="expiresIn"in v&&typeof v.expiresIn<"u"?Number(v.expiresIn):function sr(A){const v=Wn(A);return _e(v,"internal-error"),_e(typeof v.exp<"u","internal-error"),_e(typeof v.iat<"u","internal-error"),Number(v.exp)-Number(v.iat)}(v.idToken);this.updateTokensAndExpiration(v.idToken,v.refreshToken,w)}getToken(v,w=!1){var O=this;return(0,b.Z)(function*(){return _e(!O.accessToken||O.refreshToken,v,"user-token-expired"),w||!O.accessToken||O.isExpired?O.refreshToken?(yield O.refresh(v,O.refreshToken),O.accessToken):null:O.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(v,w){var O=this;return(0,b.Z)(function*(){const{accessToken:Y,refreshToken:de,expiresIn:Re}=yield function Zt(A,v){return qn.apply(this,arguments)}(v,w);O.updateTokensAndExpiration(Y,de,Number(Re))})()}updateTokensAndExpiration(v,w,O){this.refreshToken=w||null,this.accessToken=v||null,this.expirationTime=Date.now()+1e3*O}static fromJSON(v,w){const{refreshToken:O,accessToken:Y,expirationTime:de}=w,Re=new j;return O&&(_e("string"==typeof O,"internal-error",{appName:v}),Re.refreshToken=O),Y&&(_e("string"==typeof Y,"internal-error",{appName:v}),Re.accessToken=Y),de&&(_e("number"==typeof de,"internal-error",{appName:v}),Re.expirationTime=de),Re}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(v){this.accessToken=v.accessToken,this.refreshToken=v.refreshToken,this.expirationTime=v.expirationTime}_clone(){return Object.assign(new j,this.toJSON())}_performRefresh(){return Le("not implemented")}}function q(A,v){_e("string"==typeof A||typeof A>"u","internal-error",{appName:v})}class z{constructor(v){var{uid:w,auth:O,stsTokenManager:Y}=v,de=(0,ce._T)(v,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Wi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=w,this.auth=O,this.stsTokenManager=Y,this.accessToken=Y.accessToken,this.displayName=de.displayName||null,this.email=de.email||null,this.emailVerified=de.emailVerified||!1,this.phoneNumber=de.phoneNumber||null,this.photoURL=de.photoURL||null,this.isAnonymous=de.isAnonymous||!1,this.tenantId=de.tenantId||null,this.providerData=de.providerData?[...de.providerData]:[],this.metadata=new qr(de.createdAt||void 0,de.lastLoginAt||void 0)}getIdToken(v){var w=this;return(0,b.Z)(function*(){const O=yield Vn(w,w.stsTokenManager.getToken(w.auth,v));return _e(O,w.auth,"internal-error"),w.accessToken!==O&&(w.accessToken=O,yield w.auth._persistUserIfCurrent(w),w.auth._notifyListenersIfCurrent(w)),O})()}getIdTokenResult(v){return function Sr(A){return wn.apply(this,arguments)}(this,v)}reload(){return function Ne(A){return nt.apply(this,arguments)}(this)}_assign(v){this!==v&&(_e(this.uid===v.uid,this.auth,"internal-error"),this.displayName=v.displayName,this.photoURL=v.photoURL,this.email=v.email,this.emailVerified=v.emailVerified,this.phoneNumber=v.phoneNumber,this.isAnonymous=v.isAnonymous,this.tenantId=v.tenantId,this.providerData=v.providerData.map(w=>Object.assign({},w)),this.metadata._copy(v.metadata),this.stsTokenManager._assign(v.stsTokenManager))}_clone(v){const w=new z(Object.assign(Object.assign({},this),{auth:v,stsTokenManager:this.stsTokenManager._clone()}));return w.metadata._copy(this.metadata),w}_onReload(v){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=v,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(v){this.reloadListener?this.reloadListener(v):this.reloadUserInfo=v}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(v,w=!1){var O=this;return(0,b.Z)(function*(){let Y=!1;v.idToken&&v.idToken!==O.stsTokenManager.accessToken&&(O.stsTokenManager.updateFromServerResponse(v),Y=!0),w&&(yield jr(O)),yield O.auth._persistUserIfCurrent(O),Y&&O.auth._notifyListenersIfCurrent(O)})()}delete(){var v=this;return(0,b.Z)(function*(){const w=yield v.getIdToken();return yield Vn(v,function br(A,v){return _n.apply(this,arguments)}(v.auth,{idToken:w})),v.stsTokenManager.clearRefreshToken(),v.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(v=>Object.assign({},v)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(v,w){var O,Y,de,Re,tt,Ot,gn,Fn;const Fr=null!==(O=w.displayName)&&void 0!==O?O:void 0,Na=null!==(Y=w.email)&&void 0!==Y?Y:void 0,Cl=null!==(de=w.phoneNumber)&&void 0!==de?de:void 0,um=null!==(Re=w.photoURL)&&void 0!==Re?Re:void 0,ey=null!==(tt=w.tenantId)&&void 0!==tt?tt:void 0,Xd=null!==(Ot=w._redirectEventId)&&void 0!==Ot?Ot:void 0,p0=null!==(gn=w.createdAt)&&void 0!==gn?gn:void 0,g0=null!==(Fn=w.lastLoginAt)&&void 0!==Fn?Fn:void 0,{uid:Zu,emailVerified:dm,isAnonymous:tI,providerData:wp,stsTokenManager:Ip}=w;_e(Zu&&Ip,v,"internal-error");const hm=j.fromJSON(this.name,Ip);_e("string"==typeof Zu,v,"internal-error"),q(Fr,v.name),q(Na,v.name),_e("boolean"==typeof dm,v,"internal-error"),_e("boolean"==typeof tI,v,"internal-error"),q(Cl,v.name),q(um,v.name),q(ey,v.name),q(Xd,v.name),q(p0,v.name),q(g0,v.name);const fm=new z({uid:Zu,auth:v,email:Na,emailVerified:dm,displayName:Fr,isAnonymous:tI,photoURL:um,phoneNumber:Cl,tenantId:ey,stsTokenManager:hm,createdAt:p0,lastLoginAt:g0});return wp&&Array.isArray(wp)&&(fm.providerData=wp.map(pm=>Object.assign({},pm))),Xd&&(fm._redirectEventId=Xd),fm}static _fromIdTokenResponse(v,w,O=!1){return(0,b.Z)(function*(){const Y=new j;Y.updateFromServerResponse(w);const de=new z({uid:w.localId,auth:v,stsTokenManager:Y,isAnonymous:O});return yield jr(de),de})()}}const Te=new Map;function Je(A){lt(A instanceof Function,"Expected a class definition");let v=Te.get(A);return v?(lt(v instanceof A,"Instance stored in cache mismatched with class"),v):(v=new A,Te.set(A,v),v)}const un=(()=>{class A{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,b.Z)(function*(){return!0})()}_set(w,O){var Y=this;return(0,b.Z)(function*(){Y.storage[w]=O})()}_get(w){var O=this;return(0,b.Z)(function*(){const Y=O.storage[w];return void 0===Y?null:Y})()}_remove(w){var O=this;return(0,b.Z)(function*(){delete O.storage[w]})()}_addListener(w,O){}_removeListener(w,O){}}return A.type="NONE",A})();function dn(A,v,w){return`firebase:${A}:${v}:${w}`}class Bn{constructor(v,w,O){this.persistence=v,this.auth=w,this.userKey=O;const{config:Y,name:de}=this.auth;this.fullUserKey=dn(this.userKey,Y.apiKey,de),this.fullPersistenceKey=dn("persistence",Y.apiKey,de),this.boundEventHandler=w._onStorageEvent.bind(w),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(v){return this.persistence._set(this.fullUserKey,v.toJSON())}getCurrentUser(){var v=this;return(0,b.Z)(function*(){const w=yield v.persistence._get(v.fullUserKey);return w?z._fromJSON(v.auth,w):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(v){var w=this;return(0,b.Z)(function*(){if(w.persistence===v)return;const O=yield w.getCurrentUser();return yield w.removeCurrentUser(),w.persistence=v,O?w.setCurrentUser(O):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(v,w,O="authUser"){return(0,b.Z)(function*(){if(!w.length)return new Bn(Je(un),v,O);const Y=(yield Promise.all(w.map(function(){var gn=(0,b.Z)(function*(Fn){if(yield Fn._isAvailable())return Fn});return function(Fn){return gn.apply(this,arguments)}}()))).filter(gn=>gn);let de=Y[0]||Je(un);const Re=dn(O,v.config.apiKey,v.name);let tt=null;for(const gn of w)try{const Fn=yield gn._get(Re);if(Fn){const Fr=z._fromJSON(v,Fn);gn!==de&&(tt=Fr),de=gn;break}}catch{}const Ot=Y.filter(gn=>gn._shouldAllowMigration);return de._shouldAllowMigration&&Ot.length?(de=Ot[0],tt&&(yield de._set(Re,tt.toJSON())),yield Promise.all(w.map(function(){var gn=(0,b.Z)(function*(Fn){if(Fn!==de)try{yield Fn._remove(Re)}catch{}});return function(Fn){return gn.apply(this,arguments)}}())),new Bn(de,v,O)):new Bn(de,v,O)})()}}function Yt(A){const v=A.toLowerCase();if(v.includes("opera/")||v.includes("opr/")||v.includes("opios/"))return"Opera";if(hs(v))return"IEMobile";if(v.includes("msie")||v.includes("trident/"))return"IE";if(v.includes("edge/"))return"Edge";if(Un(v))return"Firefox";if(v.includes("silk/"))return"Silk";if(is(v))return"Blackberry";if(ss(v))return"Webos";if(Zr(v))return"Safari";if((v.includes("chrome/")||nr(v))&&!v.includes("edge/"))return"Chrome";if(Po(v))return"Android";{const O=A.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===O?.length)return O[1]}return"Other"}function Un(A=(0,X.z$)()){return/firefox\//i.test(A)}function Zr(A=(0,X.z$)()){const v=A.toLowerCase();return v.includes("safari/")&&!v.includes("chrome/")&&!v.includes("crios/")&&!v.includes("android")}function nr(A=(0,X.z$)()){return/crios\//i.test(A)}function hs(A=(0,X.z$)()){return/iemobile/i.test(A)}function Po(A=(0,X.z$)()){return/android/i.test(A)}function is(A=(0,X.z$)()){return/blackberry/i.test(A)}function ss(A=(0,X.z$)()){return/webos/i.test(A)}function ka(A=(0,X.z$)()){return/iphone|ipad|ipod/i.test(A)||/macintosh/i.test(A)&&/mobile/i.test(A)}function Ui(A=(0,X.z$)()){return ka(A)||Po(A)||ss(A)||is(A)||/windows phone/i.test(A)||hs(A)}function ir(A,v=[]){let w;switch(A){case"Browser":w=Yt((0,X.z$)());break;case"Worker":w=`${Yt((0,X.z$)())}-${A}`;break;default:w=A}const O=v.length?v.join(","):"FirebaseCore-web";return`${w}/JsCore/${u.Jn}/${O}`}class uo{constructor(v){this.auth=v,this.queue=[]}pushCallback(v,w){const O=de=>new Promise((Re,tt)=>{try{Re(v(de))}catch(Ot){tt(Ot)}});O.onAbort=w,this.queue.push(O);const Y=this.queue.length-1;return()=>{this.queue[Y]=()=>Promise.resolve()}}runMiddleware(v){var w=this;return(0,b.Z)(function*(){if(w.auth.currentUser===v)return;const O=[];try{for(const Y of w.queue)yield Y(v),Y.onAbort&&O.push(Y.onAbort)}catch(Y){O.reverse();for(const de of O)try{de()}catch{}throw w.auth._errorFactory.create("login-blocked",{originalMessage:Y?.message})}})()}}function Xo(){return(Xo=(0,b.Z)(function*(A,v={}){return Ye(A,"GET","/v2/passwordPolicy",He(A,v))})).apply(this,arguments)}class fs{constructor(v){var w,O,Y,de;const Re=v.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(w=Re.minPasswordLength)&&void 0!==w?w:6,Re.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Re.maxPasswordLength),void 0!==Re.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Re.containsLowercaseCharacter),void 0!==Re.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Re.containsUppercaseCharacter),void 0!==Re.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Re.containsNumericCharacter),void 0!==Re.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Re.containsNonAlphanumericCharacter),this.enforcementState=v.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(Y=null===(O=v.allowedNonAlphanumericCharacters)||void 0===O?void 0:O.join(""))&&void 0!==Y?Y:"",this.forceUpgradeOnSignin=null!==(de=v.forceUpgradeOnSignin)&&void 0!==de&&de,this.schemaVersion=v.schemaVersion}validatePassword(v){var w,O,Y,de,Re,tt;const Ot={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(v,Ot),this.validatePasswordCharacterOptions(v,Ot),Ot.isValid&&(Ot.isValid=null===(w=Ot.meetsMinPasswordLength)||void 0===w||w),Ot.isValid&&(Ot.isValid=null===(O=Ot.meetsMaxPasswordLength)||void 0===O||O),Ot.isValid&&(Ot.isValid=null===(Y=Ot.containsLowercaseLetter)||void 0===Y||Y),Ot.isValid&&(Ot.isValid=null===(de=Ot.containsUppercaseLetter)||void 0===de||de),Ot.isValid&&(Ot.isValid=null===(Re=Ot.containsNumericCharacter)||void 0===Re||Re),Ot.isValid&&(Ot.isValid=null===(tt=Ot.containsNonAlphanumericCharacter)||void 0===tt||tt),Ot}validatePasswordLengthOptions(v,w){const O=this.customStrengthOptions.minPasswordLength,Y=this.customStrengthOptions.maxPasswordLength;O&&(w.meetsMinPasswordLength=v.length>=O),Y&&(w.meetsMaxPasswordLength=v.length<=Y)}validatePasswordCharacterOptions(v,w){let O;this.updatePasswordCharacterOptionsStatuses(w,!1,!1,!1,!1);for(let Y=0;Y<v.length;Y++)O=v.charAt(Y),this.updatePasswordCharacterOptionsStatuses(w,O>="a"&&O<="z",O>="A"&&O<="Z",O>="0"&&O<="9",this.allowedNonAlphanumericCharacters.includes(O))}updatePasswordCharacterOptionsStatuses(v,w,O,Y,de){this.customStrengthOptions.containsLowercaseLetter&&(v.containsLowercaseLetter||(v.containsLowercaseLetter=w)),this.customStrengthOptions.containsUppercaseLetter&&(v.containsUppercaseLetter||(v.containsUppercaseLetter=O)),this.customStrengthOptions.containsNumericCharacter&&(v.containsNumericCharacter||(v.containsNumericCharacter=Y)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(v.containsNonAlphanumericCharacter||(v.containsNonAlphanumericCharacter=de))}}class ba{constructor(v,w,O,Y){this.app=v,this.heartbeatServiceProvider=w,this.appCheckServiceProvider=O,this.config=Y,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Fs(this),this.idTokenSubscription=new Fs(this),this.beforeStateQueue=new uo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=It,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=v.name,this.clientVersion=Y.sdkClientVersion}_initializeWithPersistence(v,w){var O=this;return w&&(this._popupRedirectResolver=Je(w)),this._initializationPromise=this.queue((0,b.Z)(function*(){var Y,de;if(!O._deleted&&(O.persistenceManager=yield Bn.create(O,v),!O._deleted)){if(null!==(Y=O._popupRedirectResolver)&&void 0!==Y&&Y._shouldInitProactively)try{yield O._popupRedirectResolver._initialize(O)}catch{}yield O.initializeCurrentUser(w),O.lastNotifiedUid=(null===(de=O.currentUser)||void 0===de?void 0:de.uid)||null,!O._deleted&&(O._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var v=this;return(0,b.Z)(function*(){if(v._deleted)return;const w=yield v.assertedPersistence.getCurrentUser();if(v.currentUser||w){if(v.currentUser&&w&&v.currentUser.uid===w.uid)return v._currentUser._assign(w),void(yield v.currentUser.getIdToken());yield v._updateCurrentUser(w,!0)}})()}initializeCurrentUser(v){var w=this;return(0,b.Z)(function*(){var O;const Y=yield w.assertedPersistence.getCurrentUser();let de=Y,Re=!1;if(v&&w.config.authDomain){yield w.getOrInitRedirectPersistenceManager();const tt=null===(O=w.redirectUser)||void 0===O?void 0:O._redirectEventId,Ot=de?._redirectEventId,gn=yield w.tryRedirectSignIn(v);(!tt||tt===Ot)&&gn?.user&&(de=gn.user,Re=!0)}if(!de)return w.directlySetCurrentUser(null);if(!de._redirectEventId){if(Re)try{yield w.beforeStateQueue.runMiddleware(de)}catch(tt){de=Y,w._popupRedirectResolver._overrideRedirectResult(w,()=>Promise.reject(tt))}return de?w.reloadAndSetCurrentUserOrClear(de):w.directlySetCurrentUser(null)}return _e(w._popupRedirectResolver,w,"argument-error"),yield w.getOrInitRedirectPersistenceManager(),w.redirectUser&&w.redirectUser._redirectEventId===de._redirectEventId?w.directlySetCurrentUser(de):w.reloadAndSetCurrentUserOrClear(de)})()}tryRedirectSignIn(v){var w=this;return(0,b.Z)(function*(){let O=null;try{O=yield w._popupRedirectResolver._completeRedirectFn(w,v,!0)}catch{yield w._setRedirectUser(null)}return O})()}reloadAndSetCurrentUserOrClear(v){var w=this;return(0,b.Z)(function*(){try{yield jr(v)}catch(O){if("auth/network-request-failed"!==O?.code)return w.directlySetCurrentUser(null)}return w.directlySetCurrentUser(v)})()}useDeviceLanguage(){this.languageCode=function xn(){if(typeof navigator>"u")return null;const A=navigator;return A.languages&&A.languages[0]||A.language||null}()}_delete(){var v=this;return(0,b.Z)(function*(){v._deleted=!0})()}updateCurrentUser(v){var w=this;return(0,b.Z)(function*(){const O=v?(0,X.m9)(v):null;return O&&_e(O.auth.config.apiKey===w.config.apiKey,w,"invalid-user-token"),w._updateCurrentUser(O&&O._clone(w))})()}_updateCurrentUser(v,w=!1){var O=this;return(0,b.Z)(function*(){if(!O._deleted)return v&&_e(O.tenantId===v.tenantId,O,"tenant-id-mismatch"),w||(yield O.beforeStateQueue.runMiddleware(v)),O.queue((0,b.Z)(function*(){yield O.directlySetCurrentUser(v),O.notifyAuthListeners()}))})()}signOut(){var v=this;return(0,b.Z)(function*(){return yield v.beforeStateQueue.runMiddleware(null),(v.redirectPersistenceManager||v._popupRedirectResolver)&&(yield v._setRedirectUser(null)),v._updateCurrentUser(null,!0)})()}setPersistence(v){var w=this;return this.queue((0,b.Z)(function*(){yield w.assertedPersistence.setPersistence(Je(v))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(v){var w=this;return(0,b.Z)(function*(){w._getPasswordPolicyInternal()||(yield w._updatePasswordPolicy());const O=w._getPasswordPolicyInternal();return O.schemaVersion!==w.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(w._errorFactory.create("unsupported-password-policy-schema-version",{})):O.validatePassword(v)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var v=this;return(0,b.Z)(function*(){const w=yield function Qo(A){return Xo.apply(this,arguments)}(v),O=new fs(w);null===v.tenantId?v._projectPasswordPolicy=O:v._tenantPasswordPolicies[v.tenantId]=O})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(v){this._errorFactory=new X.LL("auth","Firebase",v())}onAuthStateChanged(v,w,O){return this.registerStateListener(this.authStateSubscription,v,w,O)}beforeAuthStateChanged(v,w){return this.beforeStateQueue.pushCallback(v,w)}onIdTokenChanged(v,w,O){return this.registerStateListener(this.idTokenSubscription,v,w,O)}authStateReady(){return new Promise((v,w)=>{if(this.currentUser)v();else{const O=this.onAuthStateChanged(()=>{O(),v()},w)}})}revokeAccessToken(v){var w=this;return(0,b.Z)(function*(){if(w.currentUser){const O=yield w.currentUser.getIdToken(),Y={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:v,idToken:O};null!=w.tenantId&&(Y.tenantId=w.tenantId),yield function J(A,v){return U.apply(this,arguments)}(w,Y)}})()}toJSON(){var v;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(v=this._currentUser)||void 0===v?void 0:v.toJSON()}}_setRedirectUser(v,w){var O=this;return(0,b.Z)(function*(){const Y=yield O.getOrInitRedirectPersistenceManager(w);return null===v?Y.removeCurrentUser():Y.setCurrentUser(v)})()}getOrInitRedirectPersistenceManager(v){var w=this;return(0,b.Z)(function*(){if(!w.redirectPersistenceManager){const O=v&&Je(v)||w._popupRedirectResolver;_e(O,w,"argument-error"),w.redirectPersistenceManager=yield Bn.create(w,[Je(O._redirectPersistence)],"redirectUser"),w.redirectUser=yield w.redirectPersistenceManager.getCurrentUser()}return w.redirectPersistenceManager})()}_redirectUserForId(v){var w=this;return(0,b.Z)(function*(){var O,Y;return w._isInitialized&&(yield w.queue((0,b.Z)(function*(){}))),(null===(O=w._currentUser)||void 0===O?void 0:O._redirectEventId)===v?w._currentUser:(null===(Y=w.redirectUser)||void 0===Y?void 0:Y._redirectEventId)===v?w.redirectUser:null})()}_persistUserIfCurrent(v){var w=this;return(0,b.Z)(function*(){if(v===w.currentUser)return w.queue((0,b.Z)(function*(){return w.directlySetCurrentUser(v)}))})()}_notifyListenersIfCurrent(v){v===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var v,w;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const O=null!==(w=null===(v=this.currentUser)||void 0===v?void 0:v.uid)&&void 0!==w?w:null;this.lastNotifiedUid!==O&&(this.lastNotifiedUid=O,this.authStateSubscription.next(this.currentUser))}registerStateListener(v,w,O,Y){if(this._deleted)return()=>{};const de="function"==typeof w?w:w.next.bind(w);let Re=!1;const tt=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(tt,this,"internal-error"),tt.then(()=>{Re||de(this.currentUser)}),"function"==typeof w){const Ot=v.addObserver(w,O,Y);return()=>{Re=!0,Ot()}}{const Ot=v.addObserver(w);return()=>{Re=!0,Ot()}}}directlySetCurrentUser(v){var w=this;return(0,b.Z)(function*(){w.currentUser&&w.currentUser!==v&&w._currentUser._stopProactiveRefresh(),v&&w.isProactiveRefreshEnabled&&v._startProactiveRefresh(),w.currentUser=v,v?yield w.assertedPersistence.setCurrentUser(v):yield w.assertedPersistence.removeCurrentUser()})()}queue(v){return this.operations=this.operations.then(v,v),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(v){!v||this.frameworks.includes(v)||(this.frameworks.push(v),this.frameworks.sort(),this.clientVersion=ir(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var v=this;return(0,b.Z)(function*(){var w;const O={"X-Client-Version":v.clientVersion};v.app.options.appId&&(O["X-Firebase-gmpid"]=v.app.options.appId);const Y=yield null===(w=v.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===w?void 0:w.getHeartbeatsHeader();Y&&(O["X-Firebase-Client"]=Y);const de=yield v._getAppCheckToken();return de&&(O["X-Firebase-AppCheck"]=de),O})()}_getAppCheckToken(){var v=this;return(0,b.Z)(function*(){var w;const O=yield null===(w=v.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===w?void 0:w.getToken();return O?.error&&function an(A,...v){Ct.logLevel<=ye.in.WARN&&Ct.warn(`Auth (${u.Jn}): ${A}`,...v)}(`Error while retrieving App Check token: ${O.error}`),O?.token})()}}function Kr(A){return(0,X.m9)(A)}class Fs{constructor(v){this.auth=v,this.observer=null,this.addObserver=(0,X.ne)(w=>this.observer=w)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let gi={loadJS:()=>(0,b.Z)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ho(A){return gi.loadJS(A)}function Ls(A){return`__${A}${Math.floor(1e6*Math.random())}`}class Ea{constructor(v){this.type="recaptcha-enterprise",this.auth=Kr(v)}verify(v="verify",w=!1){var O=this;return(0,b.Z)(function*(){function de(){return de=(0,b.Z)(function*(tt){if(!w){if(null==tt.tenantId&&null!=tt._agentRecaptchaConfig)return tt._agentRecaptchaConfig.siteKey;if(null!=tt.tenantId&&void 0!==tt._tenantRecaptchaConfigs[tt.tenantId])return tt._tenantRecaptchaConfigs[tt.tenantId].siteKey}return new Promise(function(){var Ot=(0,b.Z)(function*(gn,Fn){bt(tt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Fr=>{if(void 0!==Fr.recaptchaKey){const Na=new De(Fr);return null==tt.tenantId?tt._agentRecaptchaConfig=Na:tt._tenantRecaptchaConfigs[tt.tenantId]=Na,gn(Na.siteKey)}Fn(new Error("recaptcha Enterprise site key undefined"))}).catch(Fr=>{Fn(Fr)})});return function(gn,Fn){return Ot.apply(this,arguments)}}())}),de.apply(this,arguments)}function Re(tt,Ot,gn){const Fn=window.grecaptcha;xe(Fn)?Fn.enterprise.ready(()=>{Fn.enterprise.execute(tt,{action:v}).then(Fr=>{Ot(Fr)}).catch(()=>{Ot("NO_RECAPTCHA")})}):gn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((tt,Ot)=>{(function Y(tt){return de.apply(this,arguments)})(O.auth).then(gn=>{if(!w&&xe(window.grecaptcha))Re(gn,tt,Ot);else{if(typeof window>"u")return void Ot(new Error("RecaptchaVerifier is only supported in browser"));let Fn=function mi(){return gi.recaptchaEnterpriseScript}();0!==Fn.length&&(Fn+=gn),ho(Fn).then(()=>{Re(gn,tt,Ot)}).catch(Fr=>{Ot(Fr)})}}).catch(gn=>{Ot(gn)})})})()}}function Gr(A,v,w){return ta.apply(this,arguments)}function ta(){return(ta=(0,b.Z)(function*(A,v,w,O=!1){const Y=new Ea(A);let de;try{de=yield Y.verify(w)}catch{de=yield Y.verify(w,!0)}const Re=Object.assign({},v);return Object.assign(Re,O?{captchaResp:de}:{captchaResponse:de}),Object.assign(Re,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Re,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Re})).apply(this,arguments)}function ps(A,v,w,O){return po.apply(this,arguments)}function po(){return po=(0,b.Z)(function*(A,v,w,O){var Y;if(null!==(Y=A._getRecaptchaConfig())&&void 0!==Y&&Y.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const de=yield Gr(A,v,w,"getOobCode"===w);return O(A,de)}return O(A,v).catch(function(){var de=(0,b.Z)(function*(Re){if("auth/missing-recaptcha-token"===Re.code){console.log(`${w} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const tt=yield Gr(A,v,w,"getOobCode"===w);return O(A,tt)}return Promise.reject(Re)});return function(Re){return de.apply(this,arguments)}}())}),po.apply(this,arguments)}function gs(A){const v=A.indexOf(":");return v<0?"":A.substr(0,v+1)}function Yr(A){if(!A)return null;const v=Number(A);return isNaN(v)?null:v}class ko{constructor(v,w){this.providerId=v,this.signInMethod=w}toJSON(){return Le("not implemented")}_getIdTokenResponse(v){return Le("not implemented")}_linkToIdToken(v,w){return Le("not implemented")}_getReauthenticationResolver(v){return Le("not implemented")}}function La(A,v){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,b.Z)(function*(A,v){return Ye(A,"POST","/v1/accounts:signUp",v)})).apply(this,arguments)}function Si(A,v){return ms.apply(this,arguments)}function ms(){return(ms=(0,b.Z)(function*(A,v){return Xt(A,"POST","/v1/accounts:signInWithPassword",He(A,v))})).apply(this,arguments)}function _s(){return(_s=(0,b.Z)(function*(A,v){return Ye(A,"POST","/v1/accounts:sendOobCode",He(A,v))})).apply(this,arguments)}function ic(A,v){return as.apply(this,arguments)}function as(){return(as=(0,b.Z)(function*(A,v){return function Ur(A,v){return _s.apply(this,arguments)}(A,v)})).apply(this,arguments)}function go(){return(go=(0,b.Z)(function*(A,v){return Xt(A,"POST","/v1/accounts:signInWithEmailLink",He(A,v))})).apply(this,arguments)}function Ai(){return(Ai=(0,b.Z)(function*(A,v){return Xt(A,"POST","/v1/accounts:signInWithEmailLink",He(A,v))})).apply(this,arguments)}class xr extends ko{constructor(v,w,O,Y=null){super("password",O),this._email=v,this._password=w,this._tenantId=Y}static _fromEmailAndPassword(v,w){return new xr(v,w,"password")}static _fromEmailAndCode(v,w,O=null){return new xr(v,w,"emailLink",O)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(v){const w="string"==typeof v?JSON.parse(v):v;if(w?.email&&w?.password){if("password"===w.signInMethod)return this._fromEmailAndPassword(w.email,w.password);if("emailLink"===w.signInMethod)return this._fromEmailAndCode(w.email,w.password,w.tenantId)}return null}_getIdTokenResponse(v){var w=this;return(0,b.Z)(function*(){switch(w.signInMethod){case"password":return ps(v,{returnSecureToken:!0,email:w._email,password:w._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Si);case"emailLink":return function yi(A,v){return go.apply(this,arguments)}(v,{email:w._email,oobCode:w._password});default:st(v,"internal-error")}})()}_linkToIdToken(v,w){var O=this;return(0,b.Z)(function*(){switch(O.signInMethod){case"password":return ps(v,{idToken:w,returnSecureToken:!0,email:O._email,password:O._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",La);case"emailLink":return function $r(A,v){return Ai.apply(this,arguments)}(v,{idToken:w,email:O._email,oobCode:O._password});default:st(v,"internal-error")}})()}_getReauthenticationResolver(v){return this._getIdTokenResponse(v)}}function Qn(A,v){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,b.Z)(function*(A,v){return Xt(A,"POST","/v1/accounts:signInWithIdp",He(A,v))})).apply(this,arguments)}class Hn{constructor(v){var w,O,Y,de,Re,tt;const Ot=(0,X.zd)((0,X.pd)(v)),gn=null!==(w=Ot.apiKey)&&void 0!==w?w:null,Fn=null!==(O=Ot.oobCode)&&void 0!==O?O:null,Fr=function yo(A){switch(A){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Y=Ot.mode)&&void 0!==Y?Y:null);_e(gn&&Fn&&Fr,"argument-error"),this.apiKey=gn,this.operation=Fr,this.code=Fn,this.continueUrl=null!==(de=Ot.continueUrl)&&void 0!==de?de:null,this.languageCode=null!==(Re=Ot.languageCode)&&void 0!==Re?Re:null,this.tenantId=null!==(tt=Ot.tenantId)&&void 0!==tt?tt:null}static parseLink(v){const w=function Us(A){const v=(0,X.zd)((0,X.pd)(A)).link,w=v?(0,X.zd)((0,X.pd)(v)).deep_link_id:null,O=(0,X.zd)((0,X.pd)(A)).deep_link_id;return(O?(0,X.zd)((0,X.pd)(O)).link:null)||O||w||v||A}(v);try{return new Hn(w)}catch{return null}}}let Uo=(()=>{class A{constructor(){this.providerId=A.PROVIDER_ID}static credential(w,O){return xr._fromEmailAndPassword(w,O)}static credentialWithLink(w,O){const Y=Hn.parseLink(O);return _e(Y,"argument-error"),xr._fromEmailAndCode(w,Y.code,Y.tenantId)}}return A.PROVIDER_ID="password",A.EMAIL_PASSWORD_SIGN_IN_METHOD="password",A.EMAIL_LINK_SIGN_IN_METHOD="emailLink",A})();class Vs{constructor(v){this.providerId=v,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(v){this.defaultLanguageCode=v}setCustomParameters(v){return this.customParameters=v,this}getCustomParameters(){return this.customParameters}}class ai extends Vs{constructor(){super(...arguments),this.scopes=[]}addScope(v){return this.scopes.includes(v)||this.scopes.push(v),this}getScopes(){return[...this.scopes]}}function vo(A,v){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,b.Z)(function*(A,v){return Xt(A,"POST","/v1/accounts:signUp",He(A,v))})).apply(this,arguments)}class Mi{constructor(v){this.user=v.user,this.providerId=v.providerId,this._tokenResponse=v._tokenResponse,this.operationType=v.operationType}static _fromIdTokenResponse(v,w,O,Y=!1){return(0,b.Z)(function*(){const de=yield z._fromIdTokenResponse(v,O,Y),Re=to(O);return new Mi({user:de,providerId:Re,_tokenResponse:O,operationType:w})})()}static _forOperation(v,w,O){return(0,b.Z)(function*(){yield v._updateTokensIfNecessary(O,!0);const Y=to(O);return new Mi({user:v,providerId:Y,_tokenResponse:O,operationType:w})})()}}function to(A){return A.providerId?A.providerId:"phoneNumber"in A?"phone":null}class sc extends X.ZR{constructor(v,w,O,Y){var de;super(w.code,w.message),this.operationType=O,this.user=Y,Object.setPrototypeOf(this,sc.prototype),this.customData={appName:v.name,tenantId:null!==(de=v.tenantId)&&void 0!==de?de:void 0,_serverResponse:w.customData._serverResponse,operationType:O}}static _fromErrorAndOperation(v,w,O,Y){return new sc(v,w,O,Y)}}function Rr(A,v,w,O){return("reauthenticate"===v?w._getReauthenticationResolver(A):w._getIdTokenResponse(A)).catch(de=>{throw"auth/multi-factor-auth-required"===de.code?sc._fromErrorAndOperation(A,de,v,O):de})}function B(){return(B=(0,b.Z)(function*(A,v,w=!1){const O=yield Vn(A,v._linkToIdToken(A.auth,yield A.getIdToken()),w);return Mi._forOperation(A,"link",O)})).apply(this,arguments)}function jn(){return(jn=(0,b.Z)(function*(A,v,w=!1){const{auth:O}=A,Y="reauthenticate";try{const de=yield Vn(A,Rr(O,Y,v,A),w);_e(de.idToken,O,"internal-error");const Re=Wn(de.idToken);_e(Re,O,"internal-error");const{sub:tt}=Re;return _e(A.uid===tt,O,"user-mismatch"),Mi._forOperation(A,Y,de)}catch(de){throw"auth/user-not-found"===de?.code&&st(O,"user-mismatch"),de}})).apply(this,arguments)}function Ki(A,v){return Es.apply(this,arguments)}function Es(){return(Es=(0,b.Z)(function*(A,v,w=!1){const O="signIn",Y=yield Rr(A,O,v),de=yield Mi._fromIdTokenResponse(A,O,Y);return w||(yield A._updateCurrentUser(de.user)),de})).apply(this,arguments)}function xi(A,v){return js.apply(this,arguments)}function js(){return(js=(0,b.Z)(function*(A,v){return Ki(Kr(A),v)})).apply(this,arguments)}function Ha(A){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,b.Z)(function*(A){const v=Kr(A);v._getPasswordPolicyInternal()&&(yield v._updatePasswordPolicy())})).apply(this,arguments)}function Cc(){return(Cc=(0,b.Z)(function*(A,v,w){const O=Kr(A),Y={requestType:"PASSWORD_RESET",email:v,clientType:"CLIENT_TYPE_WEB"};w&&function bo(A,v,w){var O;_e((null===(O=w.url)||void 0===O?void 0:O.length)>0,A,"invalid-continue-uri"),_e(typeof w.dynamicLinkDomain>"u"||w.dynamicLinkDomain.length>0,A,"invalid-dynamic-link-domain"),v.continueUrl=w.url,v.dynamicLinkDomain=w.dynamicLinkDomain,v.canHandleCodeInApp=w.handleCodeInApp,w.iOS&&(_e(w.iOS.bundleId.length>0,A,"missing-ios-bundle-id"),v.iOSBundleId=w.iOS.bundleId),w.android&&(_e(w.android.packageName.length>0,A,"missing-android-pkg-name"),v.androidInstallApp=w.android.installApp,v.androidMinimumVersionCode=w.android.minimumVersion,v.androidPackageName=w.android.packageName)}(O,Y,w),yield ps(O,Y,"getOobCode",ic)})).apply(this,arguments)}function $i(){return($i=(0,b.Z)(function*(A,v,w){const O=Kr(A),Re=yield ps(O,{returnSecureToken:!0,email:v,password:w,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",vo).catch(Ot=>{throw"auth/password-does-not-meet-requirements"===Ot.code&&Ha(A),Ot}),tt=yield Mi._fromIdTokenResponse(O,"signIn",Re);return yield O._updateCurrentUser(tt.user),tt})).apply(this,arguments)}function ja(){return(ja=(0,b.Z)(function*(A){return(0,X.m9)(A).delete()})).apply(this,arguments)}const Rn="__sak";class Ss{constructor(v,w){this.storageRetriever=v,this.type=w}_isAvailable(){try{return this.storage?(this.storage.setItem(Rn,"1"),this.storage.removeItem(Rn),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(v,w){return this.storage.setItem(v,JSON.stringify(w)),Promise.resolve()}_get(v){const w=this.storage.getItem(v);return Promise.resolve(w?JSON.parse(w):null)}_remove(v){return this.storage.removeItem(v),Promise.resolve()}get storage(){return this.storageRetriever()}}const ml=(()=>{class A extends Ss{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(w,O)=>this.onStorageEvent(w,O),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function hp(){const A=(0,X.z$)();return Zr(A)||ka(A)}()&&function Vi(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ui(),this._shouldAllowMigration=!0}forAllChangedKeys(w){for(const O of Object.keys(this.listeners)){const Y=this.storage.getItem(O),de=this.localCache[O];Y!==de&&w(O,de,Y)}}onStorageEvent(w,O=!1){if(!w.key)return void this.forAllChangedKeys((tt,Ot,gn)=>{this.notifyListeners(tt,gn)});const Y=w.key;if(O?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const tt=this.storage.getItem(Y);if(w.newValue!==tt)null!==w.newValue?this.storage.setItem(Y,w.newValue):this.storage.removeItem(Y);else if(this.localCache[Y]===w.newValue&&!O)return}const de=()=>{const tt=this.storage.getItem(Y);!O&&this.localCache[Y]===tt||this.notifyListeners(Y,tt)},Re=this.storage.getItem(Y);!function lo(){return(0,X.w1)()&&10===document.documentMode}()||Re===w.newValue||w.newValue===w.oldValue?de():setTimeout(de,10)}notifyListeners(w,O){this.localCache[w]=O;const Y=this.listeners[w];if(Y)for(const de of Array.from(Y))de(O&&JSON.parse(O))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((w,O,Y)=>{this.onStorageEvent(new StorageEvent("storage",{key:w,oldValue:O,newValue:Y}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(w,O){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[w]||(this.listeners[w]=new Set,this.localCache[w]=this.storage.getItem(w)),this.listeners[w].add(O)}_removeListener(w,O){this.listeners[w]&&(this.listeners[w].delete(O),0===this.listeners[w].size&&delete this.listeners[w]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(w,O){var Y=()=>super._set,de=this;return(0,b.Z)(function*(){yield Y().call(de,w,O),de.localCache[w]=JSON.stringify(O)})()}_get(w){var O=()=>super._get,Y=this;return(0,b.Z)(function*(){const de=yield O().call(Y,w);return Y.localCache[w]=JSON.stringify(de),de})()}_remove(w){var O=()=>super._remove,Y=this;return(0,b.Z)(function*(){yield O().call(Y,w),delete Y.localCache[w]})()}}return A.type="LOCAL",A})(),Zc=(()=>{class A extends Ss{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(w,O){}_removeListener(w,O){}}return A.type="SESSION",A})();let hc=(()=>{class A{constructor(w){this.eventTarget=w,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(w){const O=this.receivers.find(de=>de.isListeningto(w));if(O)return O;const Y=new A(w);return this.receivers.push(Y),Y}isListeningto(w){return this.eventTarget===w}handleEvent(w){var O=this;return(0,b.Z)(function*(){const Y=w,{eventId:de,eventType:Re,data:tt}=Y.data,Ot=O.handlersMap[Re];if(!Ot?.size)return;Y.ports[0].postMessage({status:"ack",eventId:de,eventType:Re});const gn=Array.from(Ot).map(function(){var Fr=(0,b.Z)(function*(Na){return Na(Y.origin,tt)});return function(Na){return Fr.apply(this,arguments)}}()),Fn=yield function Vh(A){return Promise.all(A.map(function(){var v=(0,b.Z)(function*(w){try{return{fulfilled:!0,value:yield w}}catch(O){return{fulfilled:!1,reason:O}}});return function(w){return v.apply(this,arguments)}}()))}(gn);Y.ports[0].postMessage({status:"done",eventId:de,eventType:Re,response:Fn})})()}_subscribe(w,O){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[w]||(this.handlersMap[w]=new Set),this.handlersMap[w].add(O)}_unsubscribe(w,O){this.handlersMap[w]&&O&&this.handlersMap[w].delete(O),(!O||0===this.handlersMap[w].size)&&delete this.handlersMap[w],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return A.receivers=[],A})();function hd(A="",v=10){let w="";for(let O=0;O<v;O++)w+=Math.floor(10*Math.random());return A+w}class Ql{constructor(v){this.target=v,this.handlers=new Set}removeMessageHandler(v){v.messageChannel&&(v.messageChannel.port1.removeEventListener("message",v.onMessage),v.messageChannel.port1.close()),this.handlers.delete(v)}_send(v,w,O=50){var Y=this;return(0,b.Z)(function*(){const de=typeof MessageChannel<"u"?new MessageChannel:null;if(!de)throw new Error("connection_unavailable");let Re,tt;return new Promise((Ot,gn)=>{const Fn=hd("",20);de.port1.start();const Fr=setTimeout(()=>{gn(new Error("unsupported_event"))},O);tt={messageChannel:de,onMessage(Na){const Cl=Na;if(Cl.data.eventId===Fn)switch(Cl.data.status){case"ack":clearTimeout(Fr),Re=setTimeout(()=>{gn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Re),Ot(Cl.data.response);break;default:clearTimeout(Fr),clearTimeout(Re),gn(new Error("invalid_response"))}}},Y.handlers.add(tt),de.port1.addEventListener("message",tt.onMessage),Y.target.postMessage({eventType:v,eventId:Fn,data:w},[de.port2])}).finally(()=>{tt&&Y.removeMessageHandler(tt)})})()}}function _t(){return window}function Fu(){return typeof _t().WorkerGlobalScope<"u"&&"function"==typeof _t().importScripts}function zi(){return(zi=(0,b.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Eo="firebaseLocalStorageDb",fc="firebaseLocalStorage",Bu="fbase_key";class Kc{constructor(v){this.request=v}toPromise(){return new Promise((v,w)=>{this.request.addEventListener("success",()=>{v(this.request.result)}),this.request.addEventListener("error",()=>{w(this.request.error)})})}}function pc(A,v){return A.transaction([fc],v?"readwrite":"readonly").objectStore(fc)}function Go(){const A=indexedDB.open(Eo,1);return new Promise((v,w)=>{A.addEventListener("error",()=>{w(A.error)}),A.addEventListener("upgradeneeded",()=>{const O=A.result;try{O.createObjectStore(fc,{keyPath:Bu})}catch(Y){w(Y)}}),A.addEventListener("success",(0,b.Z)(function*(){const O=A.result;O.objectStoreNames.contains(fc)?v(O):(O.close(),yield function As(){const A=indexedDB.deleteDatabase(Eo);return new Kc(A).toPromise()}(),v(yield Go()))}))})}function yl(A,v,w){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,b.Z)(function*(A,v,w){const O=pc(A,!0).put({[Bu]:v,value:w});return new Kc(O).toPromise()})).apply(this,arguments)}function vl(){return(vl=(0,b.Z)(function*(A,v){const w=pc(A,!1).get(v),O=yield new Kc(w).toPromise();return void 0===O?null:O.value})).apply(this,arguments)}function Xl(A,v){const w=pc(A,!0).delete(v);return new Kc(w).toPromise()}const D=(()=>{class A{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var w=this;return(0,b.Z)(function*(){return w.db||(w.db=yield Go()),w.db})()}_withRetries(w){var O=this;return(0,b.Z)(function*(){let Y=0;for(;;)try{const de=yield O._openDb();return yield w(de)}catch(de){if(Y++>3)throw de;O.db&&(O.db.close(),O.db=void 0)}})()}initializeServiceWorkerMessaging(){var w=this;return(0,b.Z)(function*(){return Fu()?w.initializeReceiver():w.initializeSender()})()}initializeReceiver(){var w=this;return(0,b.Z)(function*(){w.receiver=hc._getInstance(function _l(){return Fu()?self:null}()),w.receiver._subscribe("keyChanged",function(){var O=(0,b.Z)(function*(Y,de){return{keyProcessed:(yield w._poll()).includes(de.key)}});return function(Y,de){return O.apply(this,arguments)}}()),w.receiver._subscribe("ping",function(){var O=(0,b.Z)(function*(Y,de){return["keyChanged"]});return function(Y,de){return O.apply(this,arguments)}}())})()}initializeSender(){var w=this;return(0,b.Z)(function*(){var O,Y;if(w.activeServiceWorker=yield function Hh(){return zi.apply(this,arguments)}(),!w.activeServiceWorker)return;w.sender=new Ql(w.activeServiceWorker);const de=yield w.sender._send("ping",{},800);de&&null!==(O=de[0])&&void 0!==O&&O.fulfilled&&null!==(Y=de[0])&&void 0!==Y&&Y.value.includes("keyChanged")&&(w.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(w){var O=this;return(0,b.Z)(function*(){if(O.sender&&O.activeServiceWorker&&function $d(){var A;return(null===(A=navigator?.serviceWorker)||void 0===A?void 0:A.controller)||null}()===O.activeServiceWorker)try{yield O.sender._send("keyChanged",{key:w},O.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,b.Z)(function*(){try{if(!indexedDB)return!1;const w=yield Go();return yield yl(w,Rn,"1"),yield Xl(w,Rn),!0}catch{}return!1})()}_withPendingWrite(w){var O=this;return(0,b.Z)(function*(){O.pendingWrites++;try{yield w()}finally{O.pendingWrites--}})()}_set(w,O){var Y=this;return(0,b.Z)(function*(){return Y._withPendingWrite((0,b.Z)(function*(){return yield Y._withRetries(de=>yl(de,w,O)),Y.localCache[w]=O,Y.notifyServiceWorker(w)}))})()}_get(w){var O=this;return(0,b.Z)(function*(){const Y=yield O._withRetries(de=>function $a(A,v){return vl.apply(this,arguments)}(de,w));return O.localCache[w]=Y,Y})()}_remove(w){var O=this;return(0,b.Z)(function*(){return O._withPendingWrite((0,b.Z)(function*(){return yield O._withRetries(Y=>Xl(Y,w)),delete O.localCache[w],O.notifyServiceWorker(w)}))})()}_poll(){var w=this;return(0,b.Z)(function*(){const O=yield w._withRetries(Re=>{const tt=pc(Re,!1).getAll();return new Kc(tt).toPromise()});if(!O)return[];if(0!==w.pendingWrites)return[];const Y=[],de=new Set;if(0!==O.length)for(const{fbase_key:Re,value:tt}of O)de.add(Re),JSON.stringify(w.localCache[Re])!==JSON.stringify(tt)&&(w.notifyListeners(Re,tt),Y.push(Re));for(const Re of Object.keys(w.localCache))w.localCache[Re]&&!de.has(Re)&&(w.notifyListeners(Re,null),Y.push(Re));return Y})()}notifyListeners(w,O){this.localCache[w]=O;const Y=this.listeners[w];if(Y)for(const de of Array.from(Y))de(O)}startPolling(){var w=this;this.stopPolling(),this.pollTimer=setInterval((0,b.Z)(function*(){return w._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(w,O){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[w]||(this.listeners[w]=new Set,this._get(w)),this.listeners[w].add(O)}_removeListener(w,O){this.listeners[w]&&(this.listeners[w].delete(O),0===this.listeners[w].size&&delete this.listeners[w]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return A.type="LOCAL",A})();Ls("rcb"),new Yn(3e4,6e4);class Il extends ko{constructor(v){super("custom","custom"),this.params=v}_getIdTokenResponse(v){return Qn(v,this._buildIdpRequest())}_linkToIdToken(v,w){return Qn(v,this._buildIdpRequest(w))}_getReauthenticationResolver(v){return Qn(v,this._buildIdpRequest())}_buildIdpRequest(v){const w={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return v&&(w.idToken=v),w}}function gd(A){return Ki(A.auth,new Il(A),A.bypassAuthState)}function $h(A){const{auth:v,user:w}=A;return _e(w,v,"internal-error"),function rn(A,v){return jn.apply(this,arguments)}(w,new Il(A),A.bypassAuthState)}function zh(A){return tu.apply(this,arguments)}function tu(){return(tu=(0,b.Z)(function*(A){const{auth:v,user:w}=A;return _e(w,v,"internal-error"),function Q(A,v){return B.apply(this,arguments)}(w,new Il(A),A.bypassAuthState)})).apply(this,arguments)}class em{constructor(v,w,O,Y,de=!1){this.auth=v,this.resolver=O,this.user=Y,this.bypassAuthState=de,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(w)?w:[w]}execute(){var v=this;return new Promise(function(){var w=(0,b.Z)(function*(O,Y){v.pendingPromise={resolve:O,reject:Y};try{v.eventManager=yield v.resolver._initialize(v.auth),yield v.onExecution(),v.eventManager.registerConsumer(v)}catch(de){v.reject(de)}});return function(O,Y){return w.apply(this,arguments)}}())}onAuthEvent(v){var w=this;return(0,b.Z)(function*(){const{urlResponse:O,sessionId:Y,postBody:de,tenantId:Re,error:tt,type:Ot}=v;if(tt)return void w.reject(tt);const gn={auth:w.auth,requestUri:O,sessionId:Y,tenantId:Re||void 0,postBody:de||void 0,user:w.user,bypassAuthState:w.bypassAuthState};try{w.resolve(yield w.getIdpTask(Ot)(gn))}catch(Fn){w.reject(Fn)}})()}onError(v){this.reject(v)}getIdpTask(v){switch(v){case"signInViaPopup":case"signInViaRedirect":return gd;case"linkViaPopup":case"linkViaRedirect":return zh;case"reauthViaPopup":case"reauthViaRedirect":return $h;default:st(this.auth,"internal-error")}}resolve(v){lt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(v),this.unregisterAndCleanUp()}reject(v){lt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(v),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Yn(2e3,1e4);const Vu="pendingRedirect",Mc=new Map;class Wh extends em{constructor(v,w,O=!1){super(v,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],w,void 0,O),this.eventId=null}execute(){var v=()=>super.execute,w=this;return(0,b.Z)(function*(){let O=Mc.get(w.auth._key());if(!O){try{const de=(yield function iu(A,v){return Hu.apply(this,arguments)}(w.resolver,w.auth))?yield v().call(w):null;O=()=>Promise.resolve(de)}catch(Y){O=()=>Promise.reject(Y)}Mc.set(w.auth._key(),O)}return w.bypassAuthState||Mc.set(w.auth._key(),()=>Promise.resolve(null)),O()})()}onAuthEvent(v){var w=()=>super.onAuthEvent,O=this;return(0,b.Z)(function*(){if("signInViaRedirect"===v.type)return w().call(O,v);if("unknown"!==v.type){if(v.eventId){const Y=yield O.auth._redirectUserForId(v.eventId);if(Y)return O.user=Y,w().call(O,v);O.resolve(null)}}else O.resolve(null)})()}onExecution(){return(0,b.Z)(function*(){})()}cleanUp(){}}function Hu(){return(Hu=(0,b.Z)(function*(A,v){const w=function qh(A){return dn(Vu,A.config.apiKey,A.name)}(v),O=function su(A){return Je(A._redirectPersistence)}(A);if(!(yield O._isAvailable()))return!1;const Y="true"===(yield O._get(w));return yield O._remove(w),Y})).apply(this,arguments)}function _d(A,v){Mc.set(A._key(),v)}function Jd(A,v){return ju.apply(this,arguments)}function ju(){return(ju=(0,b.Z)(function*(A,v,w=!1){const O=Kr(A),Y=function gc(A,v){return v?Je(v):(_e(A._popupRedirectResolver,A,"argument-error"),A._popupRedirectResolver)}(O,v),Re=yield new Wh(O,Y,w).execute();return Re&&!w&&(delete Re.user._redirectEventId,yield O._persistUserIfCurrent(Re.user),yield O._setRedirectUser(null,v)),Re})).apply(this,arguments)}class L{constructor(v){this.auth=v,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(v){this.consumers.add(v),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,v)&&(this.sendToConsumer(this.queuedRedirectEvent,v),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(v){this.consumers.delete(v)}onEvent(v){if(this.hasEventBeenHandled(v))return!1;let w=!1;return this.consumers.forEach(O=>{this.isEventForConsumer(v,O)&&(w=!0,this.sendToConsumer(v,O),this.saveEventToCache(v))}),this.hasHandledPotentialRedirect||!function Pe(A){switch(A.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ge(A);default:return!1}}(v)||(this.hasHandledPotentialRedirect=!0,w||(this.queuedRedirectEvent=v,w=!0)),w}sendToConsumer(v,w){var O;if(v.error&&!ge(v)){const Y=(null===(O=v.error.code)||void 0===O?void 0:O.split("auth/")[1])||"internal-error";w.onError(rt(this.auth,Y))}else w.onAuthEvent(v)}isEventForConsumer(v,w){const O=null===w.eventId||!!v.eventId&&v.eventId===w.eventId;return w.filter.includes(v.type)&&O}hasEventBeenHandled(v){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(te(v))}saveEventToCache(v){this.cachedEventUids.add(te(v)),this.lastProcessedEventTime=Date.now()}}function te(A){return[A.type,A.eventId,A.sessionId,A.tenantId].filter(v=>v).join("-")}function ge({type:A,error:v}){return"unknown"===A&&"auth/no-auth-event"===v?.code}function ct(){return(ct=(0,b.Z)(function*(A,v={}){return Ye(A,"GET","/v1/projects",v)})).apply(this,arguments)}const Gt=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Bt=/^https?/;function zn(){return zn=(0,b.Z)(function*(A){if(A.config.emulator)return;const{authorizedDomains:v}=yield function Ve(A){return ct.apply(this,arguments)}(A);for(const w of v)try{if(Zn(w))return}catch{}st(A,"unauthorized-domain")}),zn.apply(this,arguments)}function Zn(A){const v=vn(),{protocol:w,hostname:O}=new URL(v);if(A.startsWith("chrome-extension://")){const Re=new URL(A);return""===Re.hostname&&""===O?"chrome-extension:"===w&&A.replace("chrome-extension://","")===v.replace("chrome-extension://",""):"chrome-extension:"===w&&Re.hostname===O}if(!Bt.test(w))return!1;if(Gt.test(A))return O===A;const Y=A.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Y+"|"+Y+")$","i").test(O)}const qs=new Yn(3e4,6e4);function Zs(){const A=_t().___jsl;if(A?.H)for(const v of Object.keys(A.H))if(A.H[v].r=A.H[v].r||[],A.H[v].L=A.H[v].L||[],A.H[v].r=[...A.H[v].L],A.CP)for(let w=0;w<A.CP.length;w++)A.CP[w]=null}let $u=null;const Rc=new Yn(5e3,15e3),lu="__/auth/iframe",tm="emulator/auth/iframe",Y_={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function r0(A){const v=A.config;_e(v.authDomain,A,"auth-domain-config-required");const w=v.emulator?tr(v,tm):`https://${A.config.authDomain}/${lu}`,O={apiKey:v.apiKey,appName:A.name,v:u.Jn},Y=zu.get(A.config.apiHost);Y&&(O.eid=Y);const de=A._getFrameworks();return de.length&&(O.fw=de.join(",")),`${w}?${(0,X.xO)(O).slice(1)}`}function Ks(){return Ks=(0,b.Z)(function*(A){const v=yield function vd(A){return $u=$u||function Gu(A){return new Promise((v,w)=>{var O,Y,de;function Re(){Zs(),gapi.load("gapi.iframes",{callback:()=>{v(gapi.iframes.getContext())},ontimeout:()=>{Zs(),w(rt(A,"network-request-failed"))},timeout:qs.get()})}if(null!==(Y=null===(O=_t().gapi)||void 0===O?void 0:O.iframes)&&void 0!==Y&&Y.Iframe)v(gapi.iframes.getContext());else{if(null===(de=_t().gapi)||void 0===de||!de.load){const tt=Ls("iframefcb");return _t()[tt]=()=>{gapi.load?Re():w(rt(A,"network-request-failed"))},ho(`${function Ia(){return gi.gapiScript}()}?onload=${tt}`).catch(Ot=>w(Ot))}Re()}}).catch(v=>{throw $u=null,v})}(A),$u}(A),w=_t().gapi;return _e(w,A,"internal-error"),v.open({where:document.body,url:r0(A),messageHandlersFilter:w.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Y_,dontclear:!0},O=>new Promise(function(){var Y=(0,b.Z)(function*(de,Re){yield O.restyle({setHideOnLeave:!1});const tt=rt(A,"network-request-failed"),Ot=_t().setTimeout(()=>{Re(tt)},Rc.get());function gn(){_t().clearTimeout(Ot),de(O)}O.ping(gn).then(gn,()=>{Re(tt)})});return function(de,Re){return Y.apply(this,arguments)}}()))}),Ks.apply(this,arguments)}const s0={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Qh{constructor(v){this.window=v,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const J_="__/auth/handler",o0="emulator/auth/handler",Q_=encodeURIComponent("fac");function a0(A,v,w,O,Y,de){return ua.apply(this,arguments)}function ua(){return(ua=(0,b.Z)(function*(A,v,w,O,Y,de){_e(A.config.authDomain,A,"auth-domain-config-required"),_e(A.config.apiKey,A,"invalid-api-key");const Re={apiKey:A.config.apiKey,appName:A.name,authType:w,redirectUrl:O,v:u.Jn,eventId:Y};if(v instanceof Vs){v.setDefaultLanguage(A.languageCode),Re.providerId=v.providerId||"",(0,X.xb)(v.getCustomParameters())||(Re.customParameters=JSON.stringify(v.getCustomParameters()));for(const[Fn,Fr]of Object.entries(de||{}))Re[Fn]=Fr}if(v instanceof ai){const Fn=v.getScopes().filter(Fr=>""!==Fr);Fn.length>0&&(Re.scopes=Fn.join(","))}A.tenantId&&(Re.tid=A.tenantId);const tt=Re;for(const Fn of Object.keys(tt))void 0===tt[Fn]&&delete tt[Fn];const Ot=yield A._getAppCheckToken(),gn=Ot?`#${Q_}=${encodeURIComponent(Ot)}`:"";return`${function vp({config:A}){return A.emulator?tr(A,o0):`https://${A.authDomain}/${J_}`}(A)}?${(0,X.xO)(tt).slice(1)}${gn}`})).apply(this,arguments)}const Wu="webStorageSupport",im=class c0{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Zc,this._completeRedirectFn=Jd,this._overrideRedirectResult=_d}_openPopup(v,w,O,Y){var de=this;return(0,b.Z)(function*(){var Re;lt(null===(Re=de.eventManagers[v._key()])||void 0===Re?void 0:Re.manager,"_initialize() not called before _openPopup()");const tt=yield a0(v,w,O,vn(),Y);return function Qd(A,v,w,O=500,Y=600){const de=Math.max((window.screen.availHeight-Y)/2,0).toString(),Re=Math.max((window.screen.availWidth-O)/2,0).toString();let tt="";const Ot=Object.assign(Object.assign({},s0),{width:O.toString(),height:Y.toString(),top:de,left:Re}),gn=(0,X.z$)().toLowerCase();w&&(tt=nr(gn)?"_blank":w),Un(gn)&&(v=v||"http://localhost",Ot.scrollbars="yes");const Fn=Object.entries(Ot).reduce((Na,[Cl,um])=>`${Na}${Cl}=${um},`,"");if(function Bi(A=(0,X.z$)()){var v;return ka(A)&&!(null===(v=window.navigator)||void 0===v||!v.standalone)}(gn)&&"_self"!==tt)return function uu(A,v){const w=document.createElement("a");w.href=A,w.target=v;const O=document.createEvent("MouseEvent");O.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),w.dispatchEvent(O)}(v||"",tt),new Qh(null);const Fr=window.open(v||"",tt,Fn);_e(Fr,A,"popup-blocked");try{Fr.focus()}catch{}return new Qh(Fr)}(v,tt,hd())})()}_openRedirect(v,w,O,Y){var de=this;return(0,b.Z)(function*(){return yield de._originValidation(v),function Er(A){_t().location.href=A}(yield a0(v,w,O,vn(),Y)),new Promise(()=>{})})()}_initialize(v){const w=v._key();if(this.eventManagers[w]){const{manager:Y,promise:de}=this.eventManagers[w];return Y?Promise.resolve(Y):(lt(de,"If manager is not set, promise should be"),de)}const O=this.initAndGetManager(v);return this.eventManagers[w]={promise:O},O.catch(()=>{delete this.eventManagers[w]}),O}initAndGetManager(v){var w=this;return(0,b.Z)(function*(){const O=yield function nm(A){return Ks.apply(this,arguments)}(v),Y=new L(v);return O.register("authEvent",de=>(_e(de?.authEvent,v,"invalid-auth-event"),{status:Y.onEvent(de.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),w.eventManagers[v._key()]={manager:Y},w.iframes[v._key()]=O,Y})()}_isIframeWebStorageSupported(v,w){this.iframes[v._key()].send(Wu,{type:Wu},Y=>{var de;const Re=null===(de=Y?.[0])||void 0===de?void 0:de[Wu];void 0!==Re&&w(!!Re),st(v,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(v){const w=v._key();return this.originValidationPromises[w]||(this.originValidationPromises[w]=function pn(A){return zn.apply(this,arguments)}(v)),this.originValidationPromises[w]}get _shouldInitProactively(){return Ui()||Zr()||ka()}};var io="@firebase/auth";class Xh{constructor(v){this.auth=v,this.internalListeners=new Map}getUid(){var v;return this.assertAuthConfigured(),(null===(v=this.auth.currentUser)||void 0===v?void 0:v.uid)||null}getToken(v){var w=this;return(0,b.Z)(function*(){return w.assertAuthConfigured(),yield w.auth._initializationPromise,w.auth.currentUser?{accessToken:yield w.auth.currentUser.getIdToken(v)}:null})()}addAuthTokenListener(v){if(this.assertAuthConfigured(),this.internalListeners.has(v))return;const w=this.auth.onIdTokenChanged(O=>{v(O?.stsTokenManager.accessToken||null)});this.internalListeners.set(v,w),this.updateProactiveRefresh()}removeAuthTokenListener(v){this.assertAuthConfigured();const w=this.internalListeners.get(v);w&&(this.internalListeners.delete(v),w(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const bd=(0,X.Pz)("authIdTokenMaxAge")||300;let bp=null;const lm=A=>function(){var v=(0,b.Z)(function*(w){const O=w&&(yield w.getIdTokenResult()),Y=O&&((new Date).getTime()-Date.parse(O.issuedAtTime))/1e3;if(Y&&Y>bd)return;const de=O?.token;bp!==de&&(bp=de,yield fetch(A,{method:de?"POST":"DELETE",headers:de?{Authorization:`Bearer ${de}`}:{}}))});return function(w){return v.apply(this,arguments)}}();function wd(A=(0,u.Mq)()){const v=(0,u.qX)(A,"auth");if(v.isInitialized())return v.getImmediate();const w=function zl(A,v){const w=(0,u.qX)(A,"auth");if(w.isInitialized()){const Y=w.getImmediate(),de=w.getOptions();if((0,X.vZ)(de,v??{}))return Y;st(Y,"already-initialized")}return w.initialize({options:v})}(A,{popupRedirectResolver:im,persistence:[D,ml,Zc]}),O=(0,X.Pz)("authTokenSyncURL");if(O&&O.match(/^\/[^\/].*/)){const de=lm(O);(function jo(A,v,w){(0,X.m9)(A).beforeAuthStateChanged(v,w)})(w,de,()=>de(w.currentUser)),function pl(A,v,w,O){(0,X.m9)(A).onIdTokenChanged(v,w,O)}(w,Re=>de(Re))}const Y=(0,X.q4)("auth");return Y&&function ul(A,v,w){const O=Kr(A);_e(O._canInitEmulator,O,"emulator-config-failed"),_e(/^https?:\/\//.test(v),O,"invalid-emulator-scheme");const Y=!!w?.disableWarnings,de=gs(v),{host:Re,port:tt}=function rc(A){const v=gs(A),w=/(\/\/)?([^?#/]+)/.exec(A.substr(v.length));if(!w)return{host:"",port:null};const O=w[2].split("@").pop()||"",Y=/^(\[[^\]]+\])(:|$)/.exec(O);if(Y){const de=Y[1];return{host:de,port:Yr(O.substr(de.length+1))}}{const[de,Re]=O.split(":");return{host:de,port:Yr(Re)}}}(v);O.config.emulator={url:`${de}//${Re}${null===tt?"":`:${tt}`}/`},O.settings.appVerificationDisabledForTesting=!0,O.emulatorConfig=Object.freeze({host:Re,port:tt,protocol:de.replace(":",""),options:Object.freeze({disableWarnings:Y})}),Y||function Qs(){function A(){const v=document.createElement("p"),w=v.style;v.innerText="Running in emulator mode. Do not use with production credentials.",w.position="fixed",w.width="100%",w.backgroundColor="#ffffff",w.border=".1em solid #000000",w.color="#b50000",w.bottom="0px",w.left="0px",w.margin="0px",w.zIndex="10000",w.textAlign="center",v.classList.add("firebase-emulator-warning"),document.body.appendChild(v)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",A):A())}()}(w,`http://${Y}`),w}(function ea(A){gi=A})({loadJS:A=>new Promise((v,w)=>{const O=document.createElement("script");O.setAttribute("src",A),O.onload=v,O.onerror=Y=>{const de=rt("internal-error");de.customData=Y,w(de)},O.type="text/javascript",O.charset="UTF-8",function d0(){var A,v;return null!==(v=null===(A=document.getElementsByTagName("head"))||void 0===A?void 0:A[0])&&void 0!==v?v:document}().appendChild(O)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function cm(A){(0,u.Xd)(new he.wA("auth",(v,{options:w})=>{const O=v.getProvider("app").getImmediate(),Y=v.getProvider("heartbeat"),de=v.getProvider("app-check-internal"),{apiKey:Re,authDomain:tt}=O.options;_e(Re&&!Re.includes(":"),"invalid-api-key",{appName:O.name});const Ot={apiKey:Re,authDomain:tt,clientPlatform:A,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ir(A)},gn=new ba(O,Y,de,Ot);return function qi(A,v){const w=v?.persistence||[],O=(Array.isArray(w)?w:[w]).map(Je);v?.errorMap&&A._updateErrorMap(v.errorMap),A._initializeWithPersistence(O,v?.popupRedirectResolver)}(gn,w),gn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((v,w,O)=>{v.getProvider("auth-internal").initialize()})),(0,u.Xd)(new he.wA("auth-internal",v=>{const w=Kr(v.getProvider("auth").getImmediate());return new Xh(w)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,u.KN)(io,"1.6.2",function am(A){switch(A){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(A)),(0,u.KN)(io,"1.6.2","esm2017")}("Browser");var X_=$(5619),Id=$(8180),Co=$(3477),qu=$(9468),mc=$(7158),h0=$(4456);let f0=(()=>{class A{constructor(w,O,Y){this.firestore=w,this.router=O,this.globalErrorHandler=Y,this.userDataSubject=new X_.X(null),this.userData$=this.userDataSubject.asObservable(),this.collectionName="Auth";const de=localStorage.getItem("user");if(de){const Re=JSON.parse(de);this.userDataSubject.next(Re)}}registerUser(w,O,Y){var de=this;return(0,b.Z)(function*(){try{const Re=yield de.createUserWithEmailAndPassword(w,O),tt=Re.user.uid;yield de.addAdditionalAuthData(tt,Y),yield de.saveUserData(Re.user,Y),de.router.navigate(["recipes-list"])}catch(Re){de.globalErrorHandler.handleError(Re)}})()}loginUser(w,O){var Y=this;return(0,b.Z)(function*(){try{const de=yield Y.signInWithEmailAndPassword(w,O),Re=de.user.uid,tt=yield Y.getAdditionalAuthDataById(Re);yield Y.saveUserData(de.user,tt),yield Y.router.navigate(["recipes-list"])}catch(de){Y.globalErrorHandler.handleError(de)}})()}logoutUser(){var w=this;return(0,b.Z)(function*(){try{yield w.signOutAuth(),yield w.clearUserData(),w.router.navigate(["login"])}catch(O){console.error(O)}})()}deleteUserAccount(){var w=this;return(0,b.Z)(function*(){try{const Y=wd().currentUser;Y?(yield function qc(A){return ja.apply(this,arguments)}(Y),yield w.deleteAdditionalAuthData(Y.uid),yield w.clearUserData(),w.router.navigate(["login"])):console.error("No user found to delete.")}catch(O){console.error("No user found to delete.",O)}})()}forgotPassword(w){var O=this;return(0,b.Z)(function*(){try{yield O.sendPasswordResetEmail(w),O.globalErrorHandler.handleError("Password reset email sent, check your inbox."),yield O.router.navigate(["login"])}catch(Y){O.globalErrorHandler.handleError(Y)}})()}updateFavoriteRecipes(w,O,Y){var de=this;return(0,b.Z)(function*(){const Re=(0,Co.JU)(de.firestore,de.collectionName,O);try{Y?(console.log("remove"),yield(0,Co.r7)(Re,{favoriteRecipes:(0,Co.Ab)(w)})):(console.log("add"),yield(0,Co.r7)(Re,{favoriteRecipes:(0,Co.vr)(w)})),console.log("Favorite recipes updated successfully");const tt=yield de.getAdditionalAuthDataById(O);de.userData$.pipe((0,Id.q)(1)).subscribe(Ot=>{Ot?de.saveUserData(Ot,tt).then(()=>console.log("User data saved successfully")).catch(()=>console.error("Failed to save user data")):console.error("User is null")})}catch(tt){de.globalErrorHandler.handleError(tt)}})()}sendPasswordResetEmail(w){return function hl(A,v,w){return Cc.apply(this,arguments)}(wd(),w)}createUserWithEmailAndPassword(w,O){return function Ts(A,v,w){return $i.apply(this,arguments)}(wd(),w,O)}signInWithEmailAndPassword(w,O){return function Ds(A,v,w){return xi((0,X.m9)(A),Uo.credential(v,w)).catch(function(){var O=(0,b.Z)(function*(Y){throw"auth/password-does-not-meet-requirements"===Y.code&&Ha(A),Y});return function(Y){return O.apply(this,arguments)}}())}(wd(),w,O)}signOutAuth(){return function Qr(A){return(0,X.m9)(A).signOut()}(wd())}addAdditionalAuthData(w,O){return(0,Co.pl)((0,Co.JU)(this.firestore,this.collectionName,w),O)}getAdditionalAuthDataById(w){var O=this;return(0,b.Z)(function*(){const Y=(0,Co.JU)(O.firestore,O.collectionName,w),de=yield(0,Co.QT)(Y);return de.exists()?de.data():null})()}updateAdditionalAuthData(w,O){if(O){const Y=(0,Co.JU)(this.firestore,this.collectionName,O),de={...w};(0,Co.r7)(Y,de).then(()=>{console.log("Document successfully updated"),this.router.navigate(["/dashboard/user-info"])}).then(()=>{this.userData$.pipe((0,Id.q)(1)).subscribe(Re=>{Re?this.saveUserData(Re,w).then(()=>console.log("User data saved successfully")).catch(()=>console.error("Failed to save user data")):console.error("User is null")})}).catch(Re=>{this.globalErrorHandler.handleError(Re)})}else this.globalErrorHandler.handleError("Invalid uid.")}deleteAdditionalAuthData(w){var O=this;return(0,b.Z)(function*(){try{const Y=(0,Co.JU)(O.firestore,O.collectionName,w);yield(0,Co.oe)(Y),console.log("Recipe deleted successfully:",w)}catch(Y){throw O.globalErrorHandler.handleError(Y),Y}})()}saveUserData(w,O){return new Promise((Y,de)=>{if(w&&O){const Re={...w,...O};localStorage.setItem("user",JSON.stringify(Re)),this.userDataSubject.next(Re),Y()}else localStorage.setItem("user","null"),this.userDataSubject.next(null),de()})}clearUserData(){return new Promise((w,O)=>{localStorage.removeItem("user"),this.userDataSubject.next(null),w()})}static#e=this.\u0275fac=function(O){return new(O||A)(qu.LFG(Co.gg),qu.LFG(mc.F0),qu.LFG(h0.r))};static#t=this.\u0275prov=qu.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})()},9286:(Ht,Ue,$)=>{"use strict";$.d(Ue,{N:()=>ye});var b=$(4303);(0,b.KN)("firebase","10.9.0","app");const ye={firebaseConfig:{apiKey:"AIzaSyCVbXDjBGUwaOrn1CZYGIwce1dYPKpR7PA",authDomain:"the-natural-way.firebaseapp.com",projectId:"the-natural-way",storageBucket:"the-natural-way.appspot.com",messagingSenderId:"778711637280",appId:"1:778711637280:web:30b52ea2a4e159578fcb45"},cloudinaryConfig:{cloudName:"dsla98vyk",apiKey:"587566495847865",apiSecret:"sJLzQzouizKo51b9Mv0bI8a5pCI",uploadPreset:"the_natural_way"}};(0,b.ZF)(ye.firebaseConfig)},4372:(Ht,Ue,$)=>{"use strict";var b=$(6593),X=$(7158),u=$(9468),ye=$(4664),ce=$(7398),he=$(2096),we=$(6499),ke=$(4456),re=$(5861),ue=$(95),Ae=$(3424),Ce=$(6814);function Me(c,f){1&c&&(u.TgZ(0,"div",22),u._uU(1," Email is required! "),u.qZA())}function qe(c,f){1&c&&(u.TgZ(0,"div",22),u._uU(1," Please enter a valid email address! "),u.qZA())}function It(c,f){if(1&c&&(u.TgZ(0,"div"),u.YNc(1,Me,2,0,"div",21),u.YNc(2,qe,2,0,"div",21),u.qZA()),2&c){const o=u.oxw();let d,m;u.xp6(1),u.Q6J("ngIf",null==(d=o.registerForm.get("email"))||null==d.errors?null:d.errors.required),u.xp6(1),u.Q6J("ngIf",null==(m=o.registerForm.get("email"))||null==m.errors?null:m.errors.email)}}function xt(c,f){1&c&&(u.TgZ(0,"div",22),u._uU(1," Password is required! "),u.qZA())}function Ct(c,f){1&c&&(u.TgZ(0,"div",22),u._uU(1," Password must be at least 6 characters long! "),u.qZA())}function an(c,f){if(1&c&&(u.TgZ(0,"div"),u.YNc(1,xt,2,0,"div",21),u.YNc(2,Ct,2,0,"div",21),u.qZA()),2&c){const o=u.oxw();let d,m;u.xp6(1),u.Q6J("ngIf",null==(d=o.registerForm.get("password"))||null==d.errors?null:d.errors.required),u.xp6(1),u.Q6J("ngIf",null==(m=o.registerForm.get("password"))||null==m.errors?null:m.errors.minlength)}}function Tt(c,f){1&c&&(u.TgZ(0,"div",22),u._uU(1," Repeat password is required! "),u.qZA())}function st(c,f){1&c&&(u.TgZ(0,"div",22),u._uU(1," Repeat password must be at least 6 characters long! "),u.qZA())}function rt(c,f){if(1&c&&(u.TgZ(0,"div"),u.YNc(1,Tt,2,0,"div",21),u.YNc(2,st,2,0,"div",21),u.qZA()),2&c){const o=u.oxw();let d,m;u.xp6(1),u.Q6J("ngIf",null==(d=o.registerForm.get("repeatPassword"))||null==d.errors?null:d.errors.required),u.xp6(1),u.Q6J("ngIf",null==(m=o.registerForm.get("repeatPassword"))||null==m.errors?null:m.errors.minlength)}}function yt(c,f){1&c&&(u.TgZ(0,"div",22),u._uU(1," First name is required! "),u.qZA())}function We(c,f){if(1&c&&(u.TgZ(0,"div"),u.YNc(1,yt,2,0,"div",21),u.qZA()),2&c){const o=u.oxw();let d;u.xp6(1),u.Q6J("ngIf",null==(d=o.registerForm.get("firstName"))||null==d.errors?null:d.errors.required)}}function Oe(c,f){1&c&&(u.TgZ(0,"div",22),u._uU(1," Last name is required! "),u.qZA())}function _e(c,f){if(1&c&&(u.TgZ(0,"div"),u.YNc(1,Oe,2,0,"div",21),u.qZA()),2&c){const o=u.oxw();let d;u.xp6(1),u.Q6J("ngIf",null==(d=o.registerForm.get("lastName"))||null==d.errors?null:d.errors.required)}}let Le=(()=>{class c{constructor(o,d,m,E){this.userService=o,this.fb=d,this.formErrorCheckService=m,this.globalErrorHandler=E,this.registerForm=this.fb.group({email:["",[ue.kI.required,ue.kI.email]],password:["",[ue.kI.required,ue.kI.minLength(6)]],repeatPassword:["",ue.kI.required],firstName:["",ue.kI.required],lastName:["",ue.kI.required],isActive:[!0,ue.kI.required],isAdmin:[!1,ue.kI.required],favoriteRecipes:this.fb.array([])})}submitRegisterForm(){var o=this;return(0,re.Z)(function*(){if(o.registerForm.valid){o.formErrorCheckService.markFormGroupTouched(o.registerForm);const{email:d,password:m,repeatPassword:E,...x}=o.registerForm.value;if(m!==E)return void o.globalErrorHandler.handleError("Password do not match!");try{yield o.userService.registerUser(d,m,x)}catch(K){o.globalErrorHandler.handleError(K)}}else{const d=o.formErrorCheckService.getFormGroupErrors(o.registerForm);o.globalErrorHandler.handleError(d)}})()}static#e=this.\u0275fac=function(d){return new(d||c)(u.Y36(we.K),u.Y36(ue.qu),u.Y36(Ae.l),u.Y36(ke.r))};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-register"]],decls:33,vars:6,consts:[[1,"main-long"],[1,"headerImage"],[1,"wrapper"],["data-aos","fade-up","data-aos-duration","3000",3,"formGroup","ngSubmit"],[1,"title-wrapper"],[1,"title-form"],["for","email"],["type","email","id","email","formControlName","email","autocomplete","email"],[4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password","autocomplete","new-password"],["for","repeatPassword"],["type","password","id","repeatPassword","formControlName","repeatPassword","autocomplete","new-password"],["for","firstName"],["type","text","id","firstName","formControlName","firstName"],["for","lastName"],["type","text","id","lastName","formControlName","lastName"],["type","submit",1,"button",2,"width","100%","margin-top","20px"],[1,"hr"],["href","#","routerLink","/login"],[1,"hint"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(d,m){if(1&d&&(u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"form",3),u.NdJ("ngSubmit",function(){return m.submitRegisterForm()}),u.TgZ(4,"div",4)(5,"h1",5),u._uU(6,"Registration"),u.qZA()(),u.TgZ(7,"label",6),u._uU(8,"Email:"),u.qZA(),u._UZ(9,"input",7),u.YNc(10,It,3,2,"div",8),u.TgZ(11,"label",9),u._uU(12,"Password:"),u.qZA(),u._UZ(13,"input",10),u.YNc(14,an,3,2,"div",8),u.TgZ(15,"label",11),u._uU(16,"Repeat password:"),u.qZA(),u._UZ(17,"input",12),u.YNc(18,rt,3,2,"div",8),u.TgZ(19,"label",13),u._uU(20,"First name:"),u.qZA(),u._UZ(21,"input",14),u.YNc(22,We,2,1,"div",8),u.TgZ(23,"label",15),u._uU(24,"Last Name:"),u.qZA(),u._UZ(25,"input",16),u.YNc(26,_e,2,1,"div",8),u.TgZ(27,"button",17),u._uU(28," Submit "),u.qZA(),u._UZ(29,"hr",18),u.TgZ(30,"a",19)(31,"div",20),u._uU(32,"Already registered?"),u.qZA()()()()()),2&d){let E,x,K,se,fe;u.xp6(3),u.Q6J("formGroup",m.registerForm),u.xp6(7),u.Q6J("ngIf",(null==(E=m.registerForm.get("email"))?null:E.invalid)&&(null==(E=m.registerForm.get("email"))?null:E.touched)),u.xp6(4),u.Q6J("ngIf",(null==(x=m.registerForm.get("password"))?null:x.invalid)&&(null==(x=m.registerForm.get("password"))?null:x.touched)),u.xp6(4),u.Q6J("ngIf",(null==(K=m.registerForm.get("repeatPassword"))?null:K.invalid)&&(null==(K=m.registerForm.get("repeatPassword"))?null:K.touched)),u.xp6(4),u.Q6J("ngIf",(null==(se=m.registerForm.get("firstName"))?null:se.invalid)&&(null==(se=m.registerForm.get("firstName"))?null:se.touched)),u.xp6(4),u.Q6J("ngIf",(null==(fe=m.registerForm.get("lastName"))?null:fe.invalid)&&(null==(fe=m.registerForm.get("lastName"))?null:fe.touched))}},dependencies:[Ce.O5,X.rH,ue._Y,ue.Fj,ue.JJ,ue.JL,ue.sg,ue.u],styles:[".checkbox-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center}form[_ngcontent-%COMP%]{max-width:600px;margin:-50px auto 50px;padding:32px;background-color:var(--backgroundColor);border-radius:unset;box-shadow:0 1px 3px #0000004d}@media (max-width: 460px){form[_ngcontent-%COMP%]{background-color:var(--backgroundColor);border:none}}"]})}return c})();function lt(c,f){1&c&&(u.TgZ(0,"div",17),u._uU(1," Email is required! "),u.qZA())}function vn(c,f){1&c&&(u.TgZ(0,"div",17),u._uU(1," Invalid email! "),u.qZA())}function ut(c,f){if(1&c&&(u.TgZ(0,"div"),u.YNc(1,lt,2,0,"div",18),u.YNc(2,vn,2,0,"div",18),u.qZA()),2&c){const o=u.oxw();let d,m;u.xp6(1),u.Q6J("ngIf",null==(d=o.logInForm.get("email"))||null==d.errors?null:d.errors.required),u.xp6(1),u.Q6J("ngIf",null==(m=o.logInForm.get("email"))||null==m.errors?null:m.errors.email)}}function sn(c,f){1&c&&(u.TgZ(0,"div",17),u._uU(1," Password is required! "),u.qZA())}function mn(c,f){1&c&&(u.TgZ(0,"div",17),u._uU(1," Password must be at least 6 characters long! "),u.qZA())}function xn(c,f){if(1&c&&(u.TgZ(0,"div"),u.YNc(1,sn,2,0,"div",18),u.YNc(2,mn,2,0,"div",18),u.qZA()),2&c){const o=u.oxw();let d,m;u.xp6(1),u.Q6J("ngIf",null==(d=o.logInForm.get("password"))||null==d.errors?null:d.errors.required),u.xp6(1),u.Q6J("ngIf",null==(m=o.logInForm.get("password"))||null==m.errors?null:m.errors.minlength)}}function Yn(c,f){if(1&c&&(u.TgZ(0,"div"),u._uU(1),u.qZA()),2&c){const o=u.oxw();u.xp6(1),u.Oqu(o.loginError)}}let tr=(()=>{class c{constructor(o,d,m,E,x,K){this.userService=o,this.fb=d,this.route=m,this.router=E,this.formErrorCheckService=x,this.globalErrorHandler=K,this.loginError=null,this.returnUrl=null,this.logInForm=this.fb.group({email:["",[ue.kI.required,ue.kI.email]],password:["",[ue.kI.required,ue.kI.minLength(6)]]})}ngOnInit(){this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/login"}submitLogInForm(){var o=this;return(0,re.Z)(function*(){if(o.formErrorCheckService.markFormGroupTouched(o.logInForm),o.logInForm.valid){const{email:d,password:m}=o.logInForm.value;try{yield o.userService.loginUser(d,m);const E=o.returnUrl||"/";yield o.router.navigateByUrl(E)}catch(E){o.globalErrorHandler.handleError(E)}}else{const d=o.formErrorCheckService.getFormGroupErrors(o.logInForm);o.globalErrorHandler.handleError(d)}})()}static#e=this.\u0275fac=function(d){return new(d||c)(u.Y36(we.K),u.Y36(ue.qu),u.Y36(X.gz),u.Y36(X.F0),u.Y36(Ae.l),u.Y36(ke.r))};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-login"]],decls:30,vars:4,consts:[[1,"main-short"],[1,"headerImage"],[1,"wrapper"],["data-aos","fade-up","data-aos-duration","3000",3,"formGroup","ngSubmit"],[1,"title-wrapper"],[1,"title-form"],[1,"formGroup"],["for","email"],["type","text","id","email","formControlName","email","autocomplete","email"],[4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password","autocomplete","current-password"],["type","submit",1,"button",2,"width","100%"],[1,"hr"],["href","#","routerLink","/register"],[1,"hint"],["href","#","routerLink","/forgot-password"],[1,"errors"],["class","errors",4,"ngIf"]],template:function(d,m){if(1&d&&(u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"form",3),u.NdJ("ngSubmit",function(){return m.submitLogInForm()}),u.TgZ(4,"div",4)(5,"h1",5),u._uU(6,"Login"),u.qZA()(),u.TgZ(7,"div",6)(8,"label",7),u._uU(9,"Email"),u.qZA(),u._UZ(10,"input",8),u.YNc(11,ut,3,2,"div",9),u.qZA(),u.TgZ(12,"div",6)(13,"label",10),u._uU(14,"Password"),u.qZA(),u._UZ(15,"input",11),u.YNc(16,xn,3,2,"div",9),u.qZA(),u._UZ(17,"br"),u.TgZ(18,"div",6)(19,"button",12),u._uU(20,"Submit"),u.qZA()(),u.YNc(21,Yn,2,1,"div",9),u._UZ(22,"hr",13),u.TgZ(23,"div")(24,"a",14)(25,"div",15),u._uU(26,"Don't have a Registration yet?"),u.qZA()(),u.TgZ(27,"a",16)(28,"div",17),u._uU(29,"Forgot your password?"),u.qZA()()()()()()),2&d){let E,x;u.xp6(3),u.Q6J("formGroup",m.logInForm),u.xp6(8),u.Q6J("ngIf",(null==(E=m.logInForm.get("email"))?null:E.invalid)&&(null==(E=m.logInForm.get("email"))?null:E.touched)),u.xp6(5),u.Q6J("ngIf",(null==(x=m.logInForm.get("password"))?null:x.invalid)&&(null==(x=m.logInForm.get("password"))?null:x.touched)),u.xp6(5),u.Q6J("ngIf",m.loginError)}},dependencies:[Ce.O5,X.rH,ue._Y,ue.Fj,ue.JJ,ue.JL,ue.sg,ue.u],styles:["form[_ngcontent-%COMP%]{max-width:600px;margin:-50px auto 50px;padding:32px;background-color:var(--backgroundColor);border-radius:unset;box-shadow:0 1px 3px #0000004d}@media (max-width: 460px){form[_ngcontent-%COMP%]{background-color:var(--backgroundColor);border:none}}"]})}return c})();var Be=$(3585);const je=function(c){return["/recipe",c]};function Ze(c,f){if(1&c&&(u.TgZ(0,"a",10)(1,"div",11)(2,"div",12),u._UZ(3,"img",13),u.qZA(),u.TgZ(4,"p",14),u._uU(5),u.qZA()()()),2&c){const o=u.oxw().$implicit;u.Q6J("routerLink",u.VKq(4,je,o.id)),u.xp6(3),u.s9C("alt",o.title),u.Q6J("src",o.image_recipe[0].image_recipe,u.LSH),u.xp6(2),u.Oqu(o.title)}}function He(c,f){if(1&c&&(u.TgZ(0,"div"),u.YNc(1,Ze,6,6,"a",9),u.qZA()),2&c){const o=f.$implicit;u.xp6(1),u.Q6J("ngIf",o.public)}}function Ye(c,f){if(1&c){const o=u.EpF();u.TgZ(0,"div")(1,"button",15),u.NdJ("click",function(){u.CHM(o);const m=u.oxw();return u.KtG(m.getRecipesLoadMore())}),u._uU(2," Load More "),u.qZA()()}}function gt(c,f){1&c&&(u.TgZ(0,"p")(1,"i"),u._uU(2," All recipes are now displayed! "),u.qZA()())}let St=(()=>{class c{constructor(o){this.recipeService=o,this.recipes=[],this.showLoadMoreButton=!0}ngOnInit(){var o=this;return(0,re.Z)(function*(){yield o.getRecipes(),o.showLoadMoreButton=!0})()}getRecipesLoadMore(){var o=this;return(0,re.Z)(function*(){const{data:d,hasMore:m}=yield o.recipeService.getRecipesLoadMore();o.showLoadMoreButton=m,o.recipes.push(...d)})()}getRecipes(){var o=this;return(0,re.Z)(function*(){const{data:d}=yield o.recipeService.getRecipes();o.recipes.push(...d)})()}static#e=this.\u0275fac=function(d){return new(d||c)(u.Y36(Be.j))};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-recipes-list"]],decls:13,vars:3,consts:[[1,"main-long"],[1,"headerImage"],["data-aos","fade-up","data-aos-duration","3000",1,"wrapper-list"],[1,"header-wrapper",2,"text-align","center"],[1,"title",2,"font-size","36px","line-height","1.2"],[1,"recipe-list"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["allRecipesShown",""],[3,"routerLink",4,"ngIf"],[3,"routerLink"],[1,"recipe-item"],[1,"recipe-image"],[3,"src","alt"],[1,"recipe-title"],[1,"button-img",3,"click"]],template:function(d,m){if(1&d&&(u.TgZ(0,"main",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"div",3)(4,"h1",4),u._uU(5,"Recipes"),u.qZA(),u.TgZ(6,"p"),u._uU(7,"Explore our herbal recipes for vitality and well-being."),u.qZA()(),u.TgZ(8,"div",5),u.YNc(9,He,2,1,"div",6),u.qZA(),u.YNc(10,Ye,3,0,"div",7),u.YNc(11,gt,3,0,"ng-template",null,8,u.W1O),u.qZA()()),2&d){const E=u.MAs(12);u.xp6(9),u.Q6J("ngForOf",m.recipes),u.xp6(1),u.Q6J("ngIf",m.showLoadMoreButton)("ngIfElse",E)}},dependencies:[Ce.sg,Ce.O5,X.rH],styles:[".wrapper-list[_ngcontent-%COMP%]{margin:-50px auto 50px;max-width:1200px;background-color:var(--backgroundColor);box-shadow:0 1px 3px #0000004d;padding:32px}.title-wrapper[_ngcontent-%COMP%]{margin-left:10px}.recipe-list[_ngcontent-%COMP%]{position:relative;display:grid;grid-template-columns:repeat(4,1fr);row-gap:30px;column-gap:10px;margin-bottom:50px}.recipe-item[_ngcontent-%COMP%]{margin:5px;position:relative}.recipe-image[_ngcontent-%COMP%]{padding:5px;position:relative;transition:transform 1s ease-in-out}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;width:100%;object-fit:fill;border-radius:4px}.recipe-item[_ngcontent-%COMP%]:hover   .recipe-image[_ngcontent-%COMP%]{transform:translateY(12%)}@media only screen and (max-width: 460px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 20px 50px;padding:16px}.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 461px) and (max-width: 767px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 768px) and (max-width: 1023px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);column-gap:10px;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}@media (min-width: 1024px) and (max-width: 1440px){.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);column-gap:10px;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}"]})}return c})();var Lt=$(8850),Xt=$(3477);function tn(c,f){1&c&&(u.TgZ(0,"div",8),u._uU(1," Please write a comment! "),u.qZA())}function Ut(c,f){1&c&&(u.TgZ(0,"div",8),u._uU(1," Comment must be at least 10 characters long. "),u.qZA())}function pt(c,f){1&c&&(u.TgZ(0,"div",8),u._uU(1," Comment cannot exceed 500 characters. "),u.qZA())}function bn(c,f){if(1&c&&(u.TgZ(0,"div"),u.YNc(1,tn,2,0,"div",7),u.YNc(2,Ut,2,0,"div",7),u.YNc(3,pt,2,0,"div",7),u.qZA()),2&c){const o=u.oxw();let d,m,E;u.xp6(1),u.Q6J("ngIf",null==(d=o.commentForm.get("comment"))||null==d.errors?null:d.errors.required),u.xp6(1),u.Q6J("ngIf",null==(m=o.commentForm.get("comment"))||null==m.errors?null:m.errors.minlength),u.xp6(1),u.Q6J("ngIf",null==(E=o.commentForm.get("comment"))||null==E.errors?null:E.errors.maxlength)}}let Jn=(()=>{class c{constructor(o,d,m,E,x){this.fb=o,this.commentService=d,this.userService=m,this.globalErrorHandler=E,this.timestamp=new Date,this.fullName="",this.firestore=x}ngOnInit(){this.commentForm=this.fb.group({name:[""],comment:["",[ue.kI.required,ue.kI.minLength(10),ue.kI.maxLength(500)]],recipeId:[this.recipeId],create_time:[this.timestamp],uid:[""]}),this.userService.userData$.subscribe({next:o=>{o?(this.userData=o,this.fullName=this.userData.firstName+" "+this.userData.lastName):this.fullName="Anonymous"},error:o=>{this.globalErrorHandler.handleError(o)}})}onSubmit(){var o=this;return(0,re.Z)(function*(){if(o.timestamp=new Date,o.commentForm.valid){o.commentForm.patchValue({name:o.fullName}),o.commentForm.patchValue({recipeId:o.recipeId}),o.commentForm.patchValue({create_time:o.timestamp}),o.userData&&o.commentForm.patchValue({uid:o.userData.uid});try{(yield o.commentService.addComment(o.commentForm.value))?o.commentForm.reset():o.globalErrorHandler.handleError("Error adding comment.")}catch(d){o.globalErrorHandler.handleError(d)}}})()}static#e=this.\u0275fac=function(d){return new(d||c)(u.Y36(ue.qu),u.Y36(Lt.O),u.Y36(we.K),u.Y36(ke.r),u.Y36(Xt.gg))};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-comment-form"]],inputs:{recipeId:"recipeId"},decls:9,vars:2,consts:[[1,"commentWrapper"],["id","commentForm",3,"formGroup","ngSubmit"],[1,"form-group"],["placeholder","Write your comment ...","id","comment","formControlName","comment",1,"header-user-search"],["type","submit",1,"header-user-action","header-user-action-btn"],[1,"fa-regular","fa-paper-plane"],[4,"ngIf"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(d,m){if(1&d&&(u.TgZ(0,"div",0)(1,"form",1),u.NdJ("ngSubmit",function(){return m.onSubmit()}),u._UZ(2,"br"),u.TgZ(3,"div",2),u._UZ(4,"input",3),u.TgZ(5,"button",4),u._UZ(6,"i",5),u.qZA()(),u.YNc(7,bn,4,3,"div",6),u._UZ(8,"br"),u.qZA()()),2&d){let E;u.xp6(1),u.Q6J("formGroup",m.commentForm),u.xp6(6),u.Q6J("ngIf",null==(E=m.commentForm.get("comment"))?null:E.touched)}},dependencies:[Ce.O5,ue._Y,ue.Fj,ue.JJ,ue.JL,ue.sg,ue.u],styles:["form#commentForm[_ngcontent-%COMP%]{background-color:var(--backgroundColor);max-width:100%;margin-top:10px}.form-group[_ngcontent-%COMP%]{position:relative}.header-user-search[_ngcontent-%COMP%]{width:100%;padding:0 20px;height:40px;border:1px solid #c6c6c6;border-radius:20px;background:var(--mainWhiteColor);resize:none}.header-user-action[_ngcontent-%COMP%]{border-radius:50%;background:var(--mainYellowColor);width:40px;height:40px;border:unset}.header-user-action-btn[_ngcontent-%COMP%]{position:absolute;right:0;top:0;bottom:0}"]})}return c})();var cr=$(2732);function xe(c,f){1&c&&u._UZ(0,"br")}function De(c,f){1&c&&(u.TgZ(0,"div"),u._UZ(1,"br"),u.qZA())}function Xe(c,f){if(1&c&&(u.TgZ(0,"div",24),u._uU(1),u.YNc(2,De,2,0,"div",7),u.qZA()),2&c){const o=u.oxw();u.xp6(1),u.hij(" ",null==o.recipe?null:o.recipe.summary," "),u.xp6(1),u.Q6J("ngIf",!(null!=o.recipe&&o.recipe.summary))}}function mt(c,f){if(1&c){const o=u.EpF();u.TgZ(0,"span",25),u.NdJ("click",function(){u.CHM(o);const m=u.oxw();return u.KtG(m.navigateToRecipeDelete())}),u._UZ(1,"i",26),u.qZA()}}function bt(c,f){if(1&c){const o=u.EpF();u.TgZ(0,"span",25),u.NdJ("click",function(){u.CHM(o);const m=u.oxw();return u.KtG(m.navigateToRecipeEdit())}),u._UZ(1,"i",27),u.qZA()}}function kt(c,f){if(1&c&&(u.TgZ(0,"li"),u._UZ(1,"img",31),u.qZA()),2&c){const o=f.$implicit;u.xp6(1),u.Q6J("src",o.image_recipe,u.LSH)}}function br(c,f){if(1&c&&(u.TgZ(0,"ul",28),u.YNc(1,kt,2,1,"li",29),u.TgZ(2,"div",30),u._uU(3),u.qZA()()),2&c){const o=u.oxw();u.xp6(1),u.Q6J("ngForOf",null==o.recipe?null:o.recipe.image_recipe),u.xp6(2),u.hij(" Added by ",null==o.recipe?null:o.recipe.author," ")}}function _n(c,f){if(1&c&&(u.TgZ(0,"div"),u._UZ(1,"i",32),u._uU(2,"\xa0"),u.TgZ(3,"span",33),u._uU(4),u.qZA()()),2&c){const o=u.oxw();u.xp6(4),u.Oqu(null==o.recipe||null==o.recipe.likes?null:o.recipe.likes.length)}}function Sn(c,f){if(1&c&&(u.TgZ(0,"div"),u._UZ(1,"i",34),u._uU(2,"\xa0"),u.TgZ(3,"span",35),u._uU(4),u.qZA()()),2&c){const o=u.oxw();u.xp6(4),u.Oqu(o.comments.length)}}function en(c,f){1&c&&(u.ynx(0),u._UZ(1,"i",32),u.BQk())}function fn(c,f){1&c&&u._UZ(0,"i",41)}function gr(c,f){if(1&c){const o=u.EpF();u.TgZ(0,"button",38),u.NdJ("click",function(){u.CHM(o);const m=u.oxw(2);return u.KtG(m.updateRecipeLikes())}),u.YNc(1,en,2,0,"ng-container",39),u.YNc(2,fn,1,0,"ng-template",null,40,u.W1O),u.qZA()}if(2&c){const o=u.MAs(3),d=u.oxw(2);u.xp6(1),u.Q6J("ngIf",d.userData&&d.recipe&&d.recipe.likes&&(null==d.userData?null:d.userData.uid)&&d.recipe.likes.includes(d.userData.uid))("ngIfElse",o)}}function nn(c,f){1&c&&(u.ynx(0),u._UZ(1,"i",42),u.BQk())}function Cr(c,f){1&c&&u._UZ(0,"i",43)}function Sr(c,f){if(1&c){const o=u.EpF();u.TgZ(0,"button",38),u.NdJ("click",function(){u.CHM(o);const m=u.oxw(2);return u.KtG(m.updateFavoriteRecipes())}),u.YNc(1,nn,2,0,"ng-container",39),u.YNc(2,Cr,1,0,"ng-template",null,40,u.W1O),u.qZA()}if(2&c){const o=u.MAs(3),d=u.oxw(2);u.xp6(1),u.Q6J("ngIf",d.recipe&&d.userData&&d.userData.favoriteRecipes&&d.userData.favoriteRecipes.includes(d.recipeId||""))("ngIfElse",o)}}function wn(c,f){if(1&c){const o=u.EpF();u.TgZ(0,"button",38),u.NdJ("click",function(){u.CHM(o);const m=u.oxw(2);return u.KtG(m.toggleCommentForm())}),u._UZ(1,"i",44),u.qZA()}}function lr(c,f){if(1&c){const o=u.EpF();u.TgZ(0,"button",38),u.NdJ("click",function(){u.CHM(o);const m=u.oxw(2);return u.KtG(m.toggleCommentForm())}),u._UZ(1,"i",34),u.qZA()}}function Wn(c,f){if(1&c&&(u.TgZ(0,"div",36),u.YNc(1,gr,4,2,"button",37),u.YNc(2,Sr,4,2,"button",37),u.YNc(3,wn,2,0,"button",37),u.YNc(4,lr,2,0,"button",37),u.qZA()),2&c){const o=u.oxw();u.xp6(1),u.Q6J("ngIf",o.userData),u.xp6(1),u.Q6J("ngIf",o.userData),u.xp6(1),u.Q6J("ngIf",!o.showCommentForm),u.xp6(1),u.Q6J("ngIf",o.showCommentForm)}}function sr(c,f){if(1&c&&(u.TgZ(0,"div"),u._UZ(1,"app-comment-form",45),u.qZA()),2&c){const o=u.oxw();u.xp6(1),u.Q6J("recipeId",o.recipeId)}}function Vn(c,f){1&c&&(u.TgZ(0,"div",16),u._UZ(1,"hr"),u.TgZ(2,"p"),u._uU(3,"\xa0\xa0Ingredients\xa0\xa0"),u.qZA(),u._UZ(4,"hr"),u.qZA())}function ei(c,f){if(1&c&&(u.TgZ(0,"li",48),u._uU(1),u.qZA()),2&c){const o=u.oxw().$implicit;u.xp6(1),u.lnq(" ",o.name," - ",o.amount," ",o.unit," ")}}function qt(c,f){if(1&c&&(u.TgZ(0,"ul",46),u.YNc(1,ei,2,3,"li",47),u.qZA()),2&c){const o=u.oxw();u.xp6(1),u.Q6J("ngIf",null==o.recipe?null:o.recipe.ingredients)}}function Wi(c,f){if(1&c&&(u.TgZ(0,"li"),u._UZ(1,"iframe",50),u.ALo(2,"safeUrl"),u.qZA()),2&c){const o=f.$implicit;u.xp6(1),u.Q6J("src",u.lcZ(2,1,o.video_recipe),u.uOi)}}function qr(c,f){if(1&c&&(u.TgZ(0,"div",49)(1,"div",16),u._UZ(2,"hr"),u.TgZ(3,"p"),u._uU(4,"\xa0\xa0Video\xa0\xa0"),u.qZA(),u._UZ(5,"hr"),u.qZA(),u._UZ(6,"br"),u.TgZ(7,"ul"),u.YNc(8,Wi,3,3,"li",29),u.qZA()()),2&c){const o=u.oxw();u.xp6(8),u.Q6J("ngForOf",null==o.recipe?null:o.recipe.video_recipe)}}function jr(c,f){1&c&&(u.TgZ(0,"div",16),u._UZ(1,"hr"),u.TgZ(2,"p"),u._uU(3,"\xa0\xa0Comments\xa0\xa0"),u.qZA(),u._UZ(4,"hr"),u.qZA())}function at(c,f){if(1&c){const o=u.EpF();u.TgZ(0,"span",25),u.NdJ("click",function(){u.CHM(o);const m=u.oxw().$implicit,E=u.oxw(2);return u.KtG(E.deleteComment(m.id))}),u._UZ(1,"i",26),u.qZA()}}function Ne(c,f){if(1&c){const o=u.EpF();u.TgZ(0,"span",25),u.NdJ("click",function(){u.CHM(o);const m=u.oxw().$implicit,E=u.oxw(2);return u.KtG(E.navigateToCommentEdit(m.id))}),u._UZ(1,"i",27),u.qZA()}}function nt(c,f){if(1&c&&(u.TgZ(0,"ul")(1,"li",48),u._uU(2),u.qZA(),u.TgZ(3,"li"),u._uU(4),u.qZA(),u.TgZ(5,"li",52)(6,"p"),u._uU(7),u.ALo(8,"date"),u.qZA(),u.TgZ(9,"div",53),u.YNc(10,at,2,0,"span",10),u.YNc(11,Ne,2,0,"span",10),u.qZA()(),u._UZ(12,"hr",54),u.qZA()),2&c){const o=f.$implicit,d=u.oxw(2);u.xp6(2),u.Oqu(o.name),u.xp6(2),u.Oqu(o.comment),u.xp6(3),u.hij(" ",u.xi3(8,5,o.create_time.toDate(),"dd/MM/yyyy HH:mm:ss")," "),u.xp6(3),u.Q6J("ngIf",d.userData&&o.uid==d.userData.uid),u.xp6(1),u.Q6J("ngIf",d.userData&&o.uid==d.userData.uid)}}function At(c,f){if(1&c&&(u.TgZ(0,"section",51),u.YNc(1,nt,13,8,"ul",29),u.qZA()),2&c){const o=u.oxw();u.xp6(1),u.Q6J("ngForOf",o.comments)}}let zt=(()=>{class c{constructor(o,d,m,E,x,K){var se=this;this.route=o,this.recipeService=d,this.commentService=m,this.userService=E,this.router=x,this.globalErrorHandler=K,this.recipe=null,this.recipeId="",this.comments=[],this.showCommentForm=!1,this.route.paramMap.subscribe(function(){var fe=(0,re.Z)(function*(Ie){se.recipeId=Ie.get("id")});return function(Ie){return fe.apply(this,arguments)}}()),m.getCommentAddedObservable().subscribe((0,re.Z)(function*(){console.log("Comment successfully added."),yield se.loadCommentsForRecipe()}))}loadRecipeData(){var o=this;return(0,re.Z)(function*(){if(o.recipeId)try{o.recipe=yield o.recipeService.getRecipeById(o.recipeId),o.comments=yield o.commentService.getCommentsForRecipe(o.recipeId)}catch(d){o.globalErrorHandler.handleError(d)}})()}navigateToRecipeEdit(){var o=this;return(0,re.Z)(function*(){yield o.router.navigate(["/dashboard/recipe-edit",o.recipeId])})()}navigateToRecipeDelete(){var o=this;return(0,re.Z)(function*(){yield o.router.navigate(["/dashboard/recipe-delete",o.recipeId])})()}ngOnInit(){var o=this;return(0,re.Z)(function*(){yield o.loadRecipeData(),o.userService.userData$.subscribe(d=>{d&&(o.userData=d)})})()}toggleCommentForm(){this.showCommentForm=!this.showCommentForm}navigateToCommentEdit(o){var d=this;return(0,re.Z)(function*(){yield d.router.navigate(["/dashboard/comment-edit",o])})()}deleteComment(o){var d=this;return(0,re.Z)(function*(){try{yield d.commentService.deleteComment(o),yield d.loadRecipeData()}catch(m){d.globalErrorHandler.handleError(m)}})()}updateRecipeLikes(){var o=this;return(0,re.Z)(function*(){if(!o.recipe)return void o.globalErrorHandler.handleError("Recipe data is missing.");if(!o.userData)return void o.globalErrorHandler.handleError("User is not logged in.");let d=o.recipe.likes.includes(o.userData.uid);yield o.recipeService.updateRecipeLikes(o.recipeId,o.userData.uid,d),yield o.loadRecipeData()})()}updateFavoriteRecipes(){var o=this;return(0,re.Z)(function*(){if(o.recipe){if(o.userData&&o.recipeId){let d=o.userData.favoriteRecipes.includes(o.recipeId);yield o.userService.updateFavoriteRecipes(o.recipeId,o.userData.uid,d),yield o.loadRecipeData()}}else o.globalErrorHandler.handleError("Recipe data is missing.")})()}loadCommentsForRecipe(){var o=this;return(0,re.Z)(function*(){o.recipeId&&(o.comments=yield o.commentService.getCommentsForRecipe(o.recipeId))})()}static#e=this.\u0275fac=function(d){return new(d||c)(u.Y36(X.gz),u.Y36(Be.j),u.Y36(Lt.O),u.Y36(we.K),u.Y36(X.F0),u.Y36(ke.r))};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-recipe"]],decls:40,vars:17,consts:[[1,"mainLong"],[1,"headerImage"],[1,"wrapper-list"],["data-aos","fade-up","data-aos-duration","3000",1,"recipe-container"],[1,"title-wrapper"],[1,"title"],[1,"recipe-subtitle"],[4,"ngIf"],["class","recipe-summary",4,"ngIf"],[1,"commentBtnWrapper",2,"justify-content","flex-end"],["class","button-img",3,"click",4,"ngIf"],[1,"recipe-hero"],["class","recipe-image",4,"ngIf"],[1,"recipe-info"],["class","buttons-grid",4,"ngIf"],["data-aos","fade-up","data-aos-duration","3000",1,"description-wrapper"],[1,"divider"],[1,"recipe-description-text","description",2,"color","var(--mainGreyColor)"],["data-aos","fade-up","data-aos-duration","3000",1,"ingredients-wrapper"],["class","divider",4,"ngIf"],["class","recipe-ingredients",4,"ngFor","ngForOf"],["class","recipe-videos",4,"ngIf"],["data-aos","fade-up","data-aos-duration","3000",1,"comments-wrapper"],["class","comments",4,"ngIf"],[1,"recipe-summary"],[1,"button-img",3,"click"],[1,"fa-solid","fa-trash"],[1,"fa-regular","fa-pen-to-square"],[1,"recipe-image"],[4,"ngFor","ngForOf"],[2,"font-size","12px","color","var(--mainGreyColor)"],["alt","Image of a recipe","data-aos","fade-up",3,"src"],[1,"fa-solid","fa-thumbs-up"],[1,"badge","rounded-pill","text-bg-success"],[1,"fa-solid","fa-comment",2,"color","var(--mainYellowColor)"],[1,"badge","rounded-pill","text-bg-warning"],[1,"buttons-grid"],["class","",3,"click",4,"ngIf"],[1,"",3,"click"],[4,"ngIf","ngIfElse"],["notLiked",""],[1,"fa-regular","fa-thumbs-up"],[1,"fa-solid","fa-heart",2,"color","var(--mainRedColor)"],[1,"fa-regular","fa-heart",2,"color","var(--mainRedColor)"],[1,"fa-regular","fa-comment",2,"color","var(--mainYellowColor)"],[3,"recipeId"],[1,"recipe-ingredients"],["style","color: var(--mainGreyColor)",4,"ngIf"],[2,"color","var(--mainGreyColor)"],[1,"recipe-videos"],["width","560","height","315","allowfullscreen","",3,"src"],[1,"comments"],[1,"comments-last"],[1,"commentBtnWrapper"],[1,"hr"]],template:function(d,m){1&d&&(u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"div",3)(4,"div")(5,"div",4)(6,"h1",5),u._uU(7),u.qZA()(),u.TgZ(8,"h3",6),u._uU(9),u.qZA(),u.YNc(10,xe,1,0,"br",7),u.YNc(11,Xe,3,2,"div",8),u.TgZ(12,"div",9),u.YNc(13,mt,2,0,"span",10),u.YNc(14,bt,2,0,"span",10),u.qZA()(),u.TgZ(15,"div",11),u.YNc(16,br,4,2,"ul",12),u.TgZ(17,"div",13),u.YNc(18,_n,5,1,"div",7),u.YNc(19,Sn,5,1,"div",7),u.qZA(),u.YNc(20,Wn,5,4,"div",14),u.YNc(21,sr,2,1,"div",7),u.TgZ(22,"div",15)(23,"div",16),u._UZ(24,"hr"),u.TgZ(25,"p"),u._uU(26,"\xa0\xa0Description\xa0\xa0"),u.qZA(),u._UZ(27,"hr"),u.qZA(),u._UZ(28,"br"),u.TgZ(29,"p",17),u._uU(30),u.qZA(),u._UZ(31,"br"),u.qZA(),u.TgZ(32,"div",18),u.YNc(33,Vn,5,0,"div",19),u._UZ(34,"br"),u.YNc(35,qt,2,1,"ul",20),u.qZA(),u.YNc(36,qr,9,1,"div",21),u.TgZ(37,"div",22),u.YNc(38,jr,5,0,"div",19),u.YNc(39,At,2,1,"section",23),u.qZA()()()()()),2&d&&(u.xp6(7),u.Oqu(null==m.recipe?null:m.recipe.title),u.xp6(2),u.Oqu(null==m.recipe?null:m.recipe.subtitle),u.xp6(1),u.Q6J("ngIf",!(null!=m.recipe&&m.recipe.summary)),u.xp6(1),u.Q6J("ngIf",null==m.recipe?null:m.recipe.summary),u.xp6(2),u.Q6J("ngIf",m.userData&&m.userData.uid==(null==m.recipe?null:m.recipe.uid)),u.xp6(1),u.Q6J("ngIf",m.userData&&m.userData.uid==(null==m.recipe?null:m.recipe.uid)),u.xp6(2),u.Q6J("ngIf",(null==m.recipe?null:m.recipe.image_recipe)&&(null==m.recipe||null==m.recipe.image_recipe?null:m.recipe.image_recipe.length)>0),u.xp6(2),u.Q6J("ngIf",(null==m.recipe||null==m.recipe.likes?null:m.recipe.likes.length)>0),u.xp6(1),u.Q6J("ngIf",m.comments&&m.comments.length>0),u.xp6(1),u.Q6J("ngIf",m.userData),u.xp6(1),u.Q6J("ngIf",m.showCommentForm),u.xp6(9),u.hij("",null==m.recipe?null:m.recipe.description," "),u.xp6(3),u.Q6J("ngIf",null==m.recipe?null:m.recipe.ingredients),u.xp6(2),u.Q6J("ngForOf",null==m.recipe?null:m.recipe.ingredients),u.xp6(1),u.Q6J("ngIf",(null==m.recipe?null:m.recipe.video_recipe)&&(null==m.recipe||null==m.recipe.video_recipe?null:m.recipe.video_recipe.length)>0),u.xp6(2),u.Q6J("ngIf",m.comments.length>0),u.xp6(1),u.Q6J("ngIf",m.comments.length>0))},dependencies:[Ce.sg,Ce.O5,Jn,Ce.uU,cr.Q],styles:[".recipe-container[_ngcontent-%COMP%]{background-color:var(--backgroundColor);max-width:800px;margin:-50px auto 50px;padding:32px;box-shadow:0 1px 3px #0000004d}.title[_ngcontent-%COMP%]{font-size:28px}.recipe-subtitle[_ngcontent-%COMP%]{font-size:14px;margin-top:-10px;color:var(--mainGreyColor);font-style:italic;white-space:pre-wrap}.recipe-summary[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;text-align:center;font-style:italic;white-space:pre-wrap}.recipe-hero[_ngcontent-%COMP%]{grid-template-columns:70% 30%;gap:20px}ul.recipe-image[_ngcontent-%COMP%]{padding-left:unset}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;margin-bottom:10px}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:5px}.recipe-description-text[_ngcontent-%COMP%]{font-size:16px;white-space:pre-wrap}.recipe-ingredients[_ngcontent-%COMP%]{padding:0 16px}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;list-style-type:disc}.recipe-videos[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-top:20px}.recipe-videos[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;max-width:800px;height:450px}.recipe-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:10px;padding:0 10px}.buttons-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);border-radius:8px;box-shadow:0 1px 3px #0000004d;overflow:hidden}.buttons-grid[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:unset;background-color:var(--backgroundColor);transition:.5s ease-in-out}.buttons-grid[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--mainMagnoliaColor)}.buttons-grid[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{background-color:var(--backgroundColor)}.buttons-grid[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--textColor)}.like-wrapper[_ngcontent-%COMP%]{display:flex;gap:20px;align-items:baseline}.comments[_ngcontent-%COMP%]{border:1px solid var(--mainMagnoliaColor);margin:30px 0;padding:20px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:10px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px;padding-left:5px}.comments[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--mainGreyColor)}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(odd){background-color:var(--backgroundColor);padding-left:5px;border-radius:5px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(2n){background-color:var(--mainMagnoliaColor);font-style:italic;border-radius:5px}.comments-last[_ngcontent-%COMP%]{display:flex;justify-content:space-between}@media (max-width: 640px){.buttons-img[_ngcontent-%COMP%]{flex-direction:column-reverse}.buttons[_ngcontent-%COMP%]{display:flex;padding:unset;width:100%;justify-content:space-around;align-items:stretch;gap:10px}.like-wrapper[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:space-between}}"]})}return c})();function Zt(c,f){1&c&&(u.TgZ(0,"div")(1,"main",2),u._UZ(2,"div",3),u.TgZ(3,"div",4)(4,"div",5)(5,"div",6)(6,"h1",7),u._uU(7," We're sorry, but we couldn't find the result you're looking for! "),u.qZA()()()()()())}const qn=function(c){return["/recipe",c]};function J(c,f){if(1&c&&(u.TgZ(0,"div")(1,"a",12)(2,"div",13)(3,"div",14),u._UZ(4,"img",15),u.qZA(),u.TgZ(5,"p",16),u._uU(6),u.qZA()()()()),2&c){const o=f.$implicit;u.xp6(1),u.Q6J("routerLink",u.VKq(4,qn,o.id)),u.xp6(3),u.s9C("alt",o.title),u.Q6J("src",o.image_recipe[0].image_recipe,u.LSH),u.xp6(2),u.Oqu(o.title)}}function U(c,f){if(1&c&&(u.TgZ(0,"main",8),u._UZ(1,"div",3),u.TgZ(2,"div",9)(3,"div",6)(4,"h1",7),u._uU(5,"Result"),u.qZA()(),u.TgZ(6,"div",10),u.YNc(7,J,7,6,"div",11),u.qZA()()()),2&c){const o=u.oxw();u.xp6(7),u.Q6J("ngForOf",o.recipes)}}let j=(()=>{class c{constructor(o,d){this.recipeService=o,this.route=d,this.recipes=[],this.result=!1}ngOnInit(){this.route.queryParams.subscribe(o=>{const d=o.search;d&&this.searchRecipesByTitle(d)})}searchRecipesByTitle(o){var d=this;return(0,re.Z)(function*(){const{data:m}=yield d.recipeService.searchRecipesByTitle(o);m.length>0?(d.recipes.push(...m),d.result=!0):d.result=!1})()}static#e=this.\u0275fac=function(d){return new(d||c)(u.Y36(Be.j),u.Y36(X.gz))};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-recipe-search"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["recipesList",""],[1,"main-short"],[1,"headerImage"],["data-aos","fade-up","data-aos-duration","3000",1,"wrapper"],[1,"empty"],[1,"title-wrapper"],[1,"title"],[1,"main-long"],["data-aos","fade-up","data-aos-duration","3000",1,"wrapper-list"],[1,"recipe-list"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"recipe-item"],[1,"recipe-image"],[3,"src","alt"],[1,"recipe-title"]],template:function(d,m){if(1&d&&(u.YNc(0,Zt,8,0,"div",0),u.YNc(1,U,8,1,"ng-template",null,1,u.W1O)),2&d){const E=u.MAs(2);u.Q6J("ngIf",!m.result)("ngIfElse",E)}},dependencies:[Ce.sg,Ce.O5,X.rH],styles:[".wrapper-list[_ngcontent-%COMP%]{margin:-50px auto 50px;max-width:1200px;background-color:var(--backgroundColor);box-shadow:0 1px 3px #0000004d;padding:32px}.title-wrapper[_ngcontent-%COMP%]{margin-left:10px}.recipe-list[_ngcontent-%COMP%]{position:relative;display:grid;grid-template-columns:repeat(4,1fr);row-gap:20px;margin-bottom:50px}.recipe-item[_ngcontent-%COMP%]{margin:5px;position:relative}.recipe-image[_ngcontent-%COMP%]{padding:5px;position:relative;transition:transform 1s ease-in-out}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;width:100%;object-fit:fill}.recipe-item[_ngcontent-%COMP%]:hover   .recipe-image[_ngcontent-%COMP%]{transform:translateY(12%)}@media only screen and (max-width: 460px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 20px 50px;padding:16px}.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 461px) and (max-width: 767px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 768px) and (max-width: 1023px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);column-gap:10px;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}@media (min-width: 1024px) and (max-width: 1440px){.wrapper-list[_ngcontent-%COMP%]{margin:-50px 50px 50px}.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);column-gap:10px;row-gap:30px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}"]})}return c})();const q=(c,f)=>{const o=(0,u.f3M)(we.K),d=(0,u.f3M)(X.F0);return o.userData$.pipe((0,ce.U)(m=>!m||(d.navigate(["/recipes-list"]),!1)))};let z=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-about-us"]],decls:22,vars:0,consts:[[1,"main-long"],[1,"headerImage"],[1,"wrapper"],[1,"form-wrapper"],[1,"title-wrapper"],[1,"title-form"],[2,"color","var(--mainGreyColor)"]],template:function(d,m){1&d&&(u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),u._uU(6,"About Us"),u.qZA()(),u.TgZ(7,"div",6)(8,"p"),u._uU(9,"Welcome to our Healing Herbal Recipe Community!"),u.qZA(),u.TgZ(10,"p"),u._uU(11," Hello and welcome to our cozy corner dedicated to the power of herbs for health and well-being! We are passionate enthusiasts of herbal healing recipes and have decided to create this space where people from all over the world can come together to share their knowledge, experience, and love for herbal remedies. "),u.qZA(),u.TgZ(12,"p"),u._uU(13," We believe in the healing power of nature and strive to provide our users with a wealth of resources and inspiring ideas to improve their health and well-being. Our mission is to create a space where people can find recipes and support from the community to feel healthier and stronger. "),u.qZA(),u.TgZ(14,"p"),u._uU(15," Join us today and become part of our Healing Herbal Recipe Community! Together, we can achieve good heath and well-being through the power of nature and community. "),u.qZA(),u.TgZ(16,"p"),u._uU(17," Thank you for choosing to be part of our journey towards health and harmony! "),u.qZA(),u.TgZ(18,"p"),u._uU(19,"With love and gratitude,"),u.qZA(),u.TgZ(20,"p"),u._uU(21,"The Natural Way Team"),u.qZA()()()()())}})}return c})(),Te=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-privacy-policy"]],decls:46,vars:0,consts:[[1,"main-long"],[1,"headerImage"],[1,"wrapper"],[1,"form-wrapper"],[1,"title-wrapper"],[1,"title-form"],[2,"color","var(--mainGreyColor)"],[2,"font-style","italic"],["routerLink","/contact"]],template:function(d,m){1&d&&(u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),u._uU(6,"Privacy Policy"),u.qZA()(),u.TgZ(7,"div",6)(8,"p",7),u._uU(9,"Last updated: 29.03.2024"),u.qZA(),u.TgZ(10,"p"),u._uU(11,' Welcome to the Privacy Policy of "The Natural Way". Our Privacy Policy explains how we collect, use, and disclose the personal information we receive from visitors to our Website. '),u.qZA(),u.TgZ(12,"h5"),u._uU(13,"1. Collection of Information"),u.qZA(),u.TgZ(14,"p"),u._uU(15," When you visit the Website, we may collect certain information from and about you. This information may include, but is not limited to: "),u.TgZ(16,"span",7),u._uU(17," Personal data such as names, email addresses, mailing addresses, etc., that you voluntarily provide to us through contact forms or account registration. Information about your computer, including IP address, browser type, operating system, and similar data for trend analysis, Website management, and protection against abuse. "),u.qZA()(),u.TgZ(18,"h5"),u._uU(19,"2. Use of Information"),u.qZA(),u.TgZ(20,"p"),u._uU(21," We use the collected information to provide and improve the Website, interact with users, analyze trends, and provide personalized content and advertisements. "),u.qZA(),u.TgZ(22,"h5"),u._uU(23,"3. Disclosure of Information"),u.qZA(),u.TgZ(24,"p"),u._uU(25," We may disclose personal information to our partners, service providers, and other third parties when necessary to provide services and perform tasks related to Website management. "),u.qZA(),u.TgZ(26,"h5"),u._uU(27,"4. Cookies and Similar Technologies"),u.qZA(),u.TgZ(28,"p"),u._uU(29," Our Cookie Policy explains how we use cookies and similar technologies that may be used on our Website. "),u.qZA(),u.TgZ(30,"h5"),u._uU(31,"5. Changes to the Privacy Policy"),u.qZA(),u.TgZ(32,"p"),u._uU(33," We may update this Privacy Policy from time to time. Any changes to this Privacy Policy will be posted on this page. "),u.qZA(),u.TgZ(34,"h5"),u._uU(35,"6. Linked Services and Websites"),u.qZA(),u.TgZ(36,"p"),u._uU(37," The Website may contain links to other websites and services that are not under our control. We are not responsible for the content and practices of these websites, and we encourage you to review the privacy policies of each website you visit. "),u.qZA(),u.TgZ(38,"h5"),u._uU(39,"7. Contact Information"),u.qZA(),u.TgZ(40,"p"),u._uU(41," For additional information regarding our Privacy Policy, please contact us at "),u.TgZ(42,"span")(43,"a",8),u._uU(44,"Contact Us"),u.qZA(),u._uU(45," page. "),u.qZA()()()()()())},dependencies:[X.rH]})}return c})(),Je=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-contact-us"]],decls:28,vars:0,consts:[[1,"main-short"],[1,"headerImage"],[1,"wrapper"],[1,"form-wrapper"],[1,"title-wrapper"],[1,"title-form"],[2,"color","var(--mainGreyColor)"],["href","mailto:andon.ov@yahoo.com"],[1,"hr"]],template:function(d,m){1&d&&(u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),u._uU(6,"Contact Us"),u.qZA()(),u.TgZ(7,"div",6)(8,"p"),u._uU(9," For any inquiries or questions, please feel free to contact us. We're here to help! "),u.qZA(),u.TgZ(10,"div")(11,"p")(12,"strong"),u._uU(13,"Address:"),u.qZA(),u._uU(14," San Stefano , Burgas, Bulgaria"),u.qZA(),u.TgZ(15,"p")(16,"strong"),u._uU(17,"Phone:"),u.qZA(),u._uU(18," +359 885 996789"),u.qZA(),u.TgZ(19,"p")(20,"strong"),u._uU(21,"Email:"),u.qZA(),u.TgZ(22,"a",7),u._uU(23," Andon.ov@yahoo.com"),u.qZA()()(),u._UZ(24,"hr",8),u.TgZ(25,"div")(26,"p"),u._uU(27," This project was developed to meet the requirements of the Angular Project Assignment within the 'Angular - February 2024' course at SoftUni. "),u.qZA()()()()()())}})}return c})(),Dt=(()=>{class c{constructor(o){this.userService=o}static#e=this.\u0275fac=function(d){return new(d||c)(u.Y36(we.K))};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-forgot-password"]],decls:19,vars:0,consts:[[1,"main-short"],[1,"headerImage"],[1,"wrapper"],["data-aos","fade-up","data-aos-duration","3000",1,"form-wrapper"],[1,"title-wrapper",2,"flex-direction","column"],[1,"title"],[1,"hint"],[1,"formGroup"],["type","email","placeholder","Email","required","",1,"formControl"],["passwordResetEmail",""],[1,"errors"],[1,"buttons"],["type","submit","value","Send email",1,"button",3,"click"],["href","#","routerLink","/login"]],template:function(d,m){if(1&d){const E=u.EpF();u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),u._uU(6,"Forgotten password"),u.qZA()(),u.TgZ(7,"p",6),u._uU(8," Please enter your email address so we can send you a password reset email. "),u.qZA(),u.TgZ(9,"div",7),u._UZ(10,"input",8,9),u.qZA(),u.TgZ(12,"p",10),u._uU(13," If you can't find the email, please check your spam folder! "),u.qZA(),u.TgZ(14,"div",11)(15,"input",12),u.NdJ("click",function(){u.CHM(E);const K=u.MAs(11);return u.KtG(m.userService.forgotPassword(K.value))}),u.qZA(),u.TgZ(16,"a",13)(17,"div",6),u._uU(18,"Return to Login"),u.qZA()()()()()()}},dependencies:[X.rH],styles:[".form-wrapper[_ngcontent-%COMP%]{max-width:600px;margin:-50px auto 50px;padding:32px;background-color:var(--backgroundColor);border-radius:unset;box-shadow:0 1px 3px #0000004d}.buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.wrapper[_ngcontent-%COMP%]{padding:0 5%;max-width:600px;margin:0 auto}"]})}return c})(),un=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-page-not-found"]],decls:12,vars:0,consts:[[1,"main-short"],[1,"headerImage"],["data-aos","fade-up","data-aos-duration","3000",1,"wrapper"],[1,"empty"],[1,"title-wrapper"],[1,"title"],[1,"emptyInfo"],["routerLink","/","href","",1,"btn","btn-success",2,"background-color","var(--textColor)","border","unset"]],template:function(d,m){1&d&&(u.TgZ(0,"main",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),u._uU(6,"Page not Found!"),u.qZA()(),u.TgZ(7,"div",6)(8,"p"),u._uU(9," We're sorry, but the page you're looking for cannot be found. \xa0\xa0 "),u.qZA(),u.TgZ(10,"a",7),u._uU(11,"Back to Home"),u.qZA()()()()())},dependencies:[X.rH]})}return c})(),dn=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-carousel"]],decls:26,vars:0,consts:[["id","carouselExampleAutoplaying","data-bs-ride","carousel",1,"carousel","slide"],[1,"info"],["data-aos","fade-down","data-aos-duration","3000",1,"carousel-title"],["data-aos","fade-left","data-aos-duration","3000",1,"subtitle"],["routerLink","/recipes-list","data-aos","fade-up","data-aos-duration","3000",1,"infoBtn"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","https://images.pexels.com/photos/1638280/pexels-photo-1638280.jpeg","alt","carousel-img",1,"carousel-img","d-block","w-100"],[1,"carousel-item"],["src","https://imgix-prod.sgs.com/-/media/sgscorp/images/connectivity-and-products/aromatics-pexels.cdn.en-MU.1.jpg","alt","carousel-img",1,"carousel-img","d-block","w-100"],["src","https://www.aveeno.com/sites/aveeno_us_2/files/healingherbswithmortaran_687349.jpg","alt","carousel-img",1,"carousel-img","d-block","w-100"],["src","https://www.sunrider.co.in/wp-content/uploads/2021/07/banner-1.png","alt","carousel-img",1,"carousel-img","d-block","w-100"],["type","button","data-bs-target","#carouselExampleAutoplaying","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleAutoplaying","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(d,m){1&d&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2),u._uU(3," Welcome! "),u.qZA(),u.TgZ(4,"div",3),u._uU(5," Explore our curated herbal recipes for vitality and well-being. Register to save favorites, comment, and like recipes. Join us and contribute your own recipes for a community dedicated to herbal remedies! "),u.qZA(),u.TgZ(6,"a",4),u._uU(7,"Recipes"),u.qZA()(),u.TgZ(8,"div",5)(9,"div",6),u._UZ(10,"img",7),u.qZA(),u.TgZ(11,"div",8),u._UZ(12,"img",9),u.qZA(),u.TgZ(13,"div",8),u._UZ(14,"img",10),u.qZA(),u.TgZ(15,"div",8),u._UZ(16,"img",11),u.qZA()(),u.TgZ(17,"button",12),u._UZ(18,"span",13),u.TgZ(19,"span",14),u._uU(20,"Previous"),u.qZA()(),u.TgZ(21,"button",15),u._UZ(22,"span",16),u.TgZ(23,"span",14),u._uU(24,"Next"),u.qZA()()(),u._UZ(25,"div",0))},dependencies:[X.rH],styles:[".carousel[_ngcontent-%COMP%]{border-radius:16px;overflow:hidden}.carousel-img[_ngcontent-%COMP%]{height:80vh;object-fit:cover;object-position:center}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{z-index:9}.overlay[_ngcontent-%COMP%]{position:absolute;inset:0 50% 0 0;background-color:var(--mainRGBAColor);z-index:9}.info[_ngcontent-%COMP%]{z-index:10;position:absolute;display:flex;flex-direction:column;text-align:left;padding:50px;justify-content:center;align-items:flex-start;max-width:500px;max-height:500px;margin:32px;border-radius:16px;background-color:var(--mainRGBAColor)}.carousel-title[_ngcontent-%COMP%]{font-size:30px;padding-bottom:20px;font-weight:900;text-align:left;box-shadow:unset}.subtitle[_ngcontent-%COMP%]{font-size:18px;font-weight:400;margin-bottom:25px}.infoBtn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;text-align:center;background:var(--backgroundColor);color:var(--textColor);border-radius:24px;padding:0 25px;font-weight:700;font-size:17px;height:48px;transition:.3s ease-in-out}.infoBtn[_ngcontent-%COMP%]:hover{cursor:pointer;transform:scale(1.1)}@media (max-width: 460px){.carousel[_ngcontent-%COMP%]{border-radius:0;height:93vh}.carousel-img[_ngcontent-%COMP%]{height:97vh}.info[_ngcontent-%COMP%]{inset:0;color:var(--mainWhiteColor);justify-content:flex-start;align-items:center;max-width:unset;max-height:unset;margin:unset;padding:100px 16px 16px;border-radius:unset}.subtitle[_ngcontent-%COMP%]{max-width:100%}}@media (min-width: 461px) and (max-width: 767px){.info[_ngcontent-%COMP%]{position:absolute;inset:0;color:var(--mainWhiteColor);max-width:unset;max-height:unset;margin:unset}}"]})}return c})();const Yt=[{path:"",pathMatch:"full",component:(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-hero"]],decls:3,vars:0,consts:[[1,"main-long"],[1,"hero"]],template:function(d,m){1&d&&(u.TgZ(0,"main",0)(1,"section",1),u._UZ(2,"app-carousel"),u.qZA()())},dependencies:[dn],styles:[".hero[_ngcontent-%COMP%]{max-width:1920px;margin:0 auto;padding:50px;height:93vh;color:var(--mainWhiteColor)}@media (max-width: 460px){.hero[_ngcontent-%COMP%]{padding:unset}}"]})}return c})()},{path:"register",component:Le,canActivate:[q]},{path:"login",component:tr,canActivate:[q]},{path:"forgot-password",component:Dt},{path:"recipes-list",component:St},{path:"recipe-search",component:j},{path:"recipe/:id",component:zt},{path:"about",component:z},{path:"privacy-policy",component:Te},{path:"contact",component:Je},{path:"dashboard",loadChildren:()=>$.e(691).then($.bind($,7691)).then(c=>c.PrivateModule),canActivate:[(c,f)=>{const o=(0,u.f3M)(we.K),d=(0,u.f3M)(X.F0),m=(0,u.f3M)(ke.r);return o.userData$.pipe((0,ye.w)(E=>(0,he.of)(!!E&&E.isActive)),(0,ce.U)(E=>!!E||(m.handleError("Unauthorized Access:\n          \n Please ensure you have appropriate permissions to view this content."),d.createUrlTree(["/login"],{queryParams:{returnUrl:f.url}}))))}]},{path:"**",component:un}];let Un=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({imports:[X.Bz.forRoot(Yt,{useHash:!0}),X.Bz]})}return c})();var Zr=$(9402);let nr=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-footer"]],decls:24,vars:0,consts:[[1,"footer"],[1,"footer-main"],[1,"footer-links"],["routerLink","/about"],["routerLink","/contact"],["routerLink","/privacy-policy"],[1,"social-icons"],["href","https://github.com/andon-ov","target","_blank"],[1,"fa-brands","fa-github"],["href","https://linkedin.com/in/andon-ov","target","_blank"],[1,"fa-brands","fa-linkedin"],[1,"copyright"],[1,"projectInfo"],["target","_blank","href","https://softuni.bg/"]],template:function(d,m){1&d&&(u.TgZ(0,"footer",0)(1,"div",1)(2,"div",2)(3,"a",3),u._uU(4,"About Us"),u.qZA(),u._uU(5," | "),u.TgZ(6,"a",4),u._uU(7,"Contact Us"),u.qZA(),u._uU(8," | "),u.TgZ(9,"a",5),u._uU(10,"Privacy Policy"),u.qZA()(),u.TgZ(11,"div",6)(12,"a",7),u._UZ(13,"i",8),u.qZA(),u.TgZ(14,"a",9),u._UZ(15,"i",10),u.qZA()()(),u.TgZ(16,"div",11)(17,"div",12),u._uU(18," This project was developed to meet the requirements of the Angular Project Assignment within the 'Angular - February 2024' course at "),u.TgZ(19,"a",13),u._uU(20,"SoftUni"),u.qZA(),u._uU(21,". "),u.qZA(),u.TgZ(22,"span"),u._uU(23," \xa9 2024 The Natural Way. All Rights Reserved. "),u.qZA()()())},dependencies:[X.rH],styles:[".footer[_ngcontent-%COMP%]{background-color:var(--aliceBlueColor);color:#333;font-size:14px;text-align:center}.footer-main[_ngcontent-%COMP%]{background-color:var(--mainGreyColor);color:var(--mainWhiteColor);padding:20px}.footer-links[_ngcontent-%COMP%]{padding:20px 0;text-align:center}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainWhiteColor);text-decoration:none;margin:0 10px}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--mainBlackColor)}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--backgroundColor);text-decoration:none;margin:0 10px;font-size:22px}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{transform:scale(1.3);transition:.3s ease-in-out}.copyright[_ngcontent-%COMP%]{padding:20px;font-size:12px;color:#999}.projectInfo[_ngcontent-%COMP%]{margin-bottom:10px}"]})}return c})();var hs=$(5619);class Po{}class is{}const ss="*";function ka(c,f){return{type:7,name:c,definitions:f,options:{}}}function ks(c,f=null){return{type:4,styles:f,timings:c}}function lo(c,f=null){return{type:2,steps:c,options:f}}function Ui(c){return{type:6,styles:c,offset:null}}function Vi(c,f,o){return{type:0,name:c,styles:f,options:o}}function uo(c,f,o=null){return{type:1,expr:c,animation:f,options:o}}class Kr{constructor(f=0,o=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=f+o}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(f=>f()),this._onDoneFns=[])}onStart(f){this._originalOnStartFns.push(f),this._onStartFns.push(f)}onDone(f){this._originalOnDoneFns.push(f),this._onDoneFns.push(f)}onDestroy(f){this._onDestroyFns.push(f)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(f=>f()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(f=>f()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(f){this._position=this.totalTime?f*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(f){const o="start"==f?this._onStartFns:this._onDoneFns;o.forEach(d=>d()),o.length=0}}class Fs{constructor(f){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=f;let o=0,d=0,m=0;const E=this.players.length;0==E?queueMicrotask(()=>this._onFinish()):this.players.forEach(x=>{x.onDone(()=>{++o==E&&this._onFinish()}),x.onDestroy(()=>{++d==E&&this._onDestroy()}),x.onStart(()=>{++m==E&&this._onStart()})}),this.totalTime=this.players.reduce((x,K)=>Math.max(x,K.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(f=>f()),this._onDoneFns=[])}init(){this.players.forEach(f=>f.init())}onStart(f){this._onStartFns.push(f)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(f=>f()),this._onStartFns=[])}onDone(f){this._onDoneFns.push(f)}onDestroy(f){this._onDestroyFns.push(f)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(f=>f.play())}pause(){this.players.forEach(f=>f.pause())}restart(){this.players.forEach(f=>f.restart())}finish(){this._onFinish(),this.players.forEach(f=>f.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(f=>f.destroy()),this._onDestroyFns.forEach(f=>f()),this._onDestroyFns=[])}reset(){this.players.forEach(f=>f.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(f){const o=f*this.totalTime;this.players.forEach(d=>{const m=d.totalTime?Math.min(1,o/d.totalTime):1;d.setPosition(m)})}getPosition(){const f=this.players.reduce((o,d)=>null===o||d.totalTime>o.totalTime?d:o,null);return null!=f?f.getPosition():0}beforeDestroy(){this.players.forEach(f=>{f.beforeDestroy&&f.beforeDestroy()})}triggerCallback(f){const o="start"==f?this._onStartFns:this._onDoneFns;o.forEach(d=>d()),o.length=0}}let ea=(()=>{class c{constructor(o,d){this.el=o,this.renderer=d}ngOnInit(){this.checkWidth()}onResize(){this.checkWidth()}checkWidth(){window.innerWidth<992?(this.renderer.addClass(this.el.nativeElement,"button"),this.renderer.addClass(this.el.nativeElement,"nav-btn"),this.renderer.addClass(this.el.nativeElement,"nav-link"),this.renderer.removeClass(this.el.nativeElement,"navigation")):(this.renderer.removeClass(this.el.nativeElement,"button"),this.renderer.removeClass(this.el.nativeElement,"nav-link"),this.renderer.removeClass(this.el.nativeElement,"nav-btn"),this.renderer.addClass(this.el.nativeElement,"navigation"))}static#e=this.\u0275fac=function(d){return new(d||c)(u.Y36(u.SBq),u.Y36(u.Qsj))};static#t=this.\u0275dir=u.lG2({type:c,selectors:[["","appResponsiveClass",""]],hostBindings:function(d,m){1&d&&u.NdJ("resize",function(){return m.onResize()},!1,u.Jf7)}})}return c})(),ho=(()=>{class c{constructor(o,d){this.el=o,this.renderer=d}onMouseEnter(){this.renderer.addClass(this.el.nativeElement,"show");const o=this.el.nativeElement.querySelector("#show");console.log(o.textContent),o&&this.renderer.addClass(o,"show")}onMouseLeave(){this.renderer.removeClass(this.el.nativeElement,"show");const o=this.el.nativeElement.querySelector(".dropdown-menu");o&&this.renderer.removeClass(o,"show")}static#e=this.\u0275fac=function(d){return new(d||c)(u.Y36(u.SBq),u.Y36(u.Qsj))};static#t=this.\u0275dir=u.lG2({type:c,selectors:[["","appDropdownHover",""]],hostBindings:function(d,m){1&d&&u.NdJ("mouseenter",function(){return m.onMouseEnter()})("mouseleave",function(){return m.onMouseLeave()})}})}return c})();function wa(c,f){1&c&&(u.TgZ(0,"li",25)(1,"a",26),u._UZ(2,"i",27),u.qZA(),u.TgZ(3,"ul",28)(4,"li")(5,"a",29),u._uU(6,"Register"),u.qZA()(),u.TgZ(7,"li")(8,"a",30),u._uU(9,"Login"),u.qZA()()()())}function mi(c,f){if(1&c){const o=u.EpF();u.TgZ(0,"li",25)(1,"a",26)(2,"span"),u._uU(3),u.qZA()(),u.TgZ(4,"ul",28)(5,"li")(6,"a",31),u._uU(7,"My recipes"),u.qZA()(),u.TgZ(8,"li")(9,"a",32),u._uU(10,"Create recipe"),u.qZA()(),u.TgZ(11,"li")(12,"a",33),u._uU(13,"Favorite recipes"),u.qZA()(),u.TgZ(14,"li")(15,"a",34),u._uU(16,"My comments"),u.qZA()(),u.TgZ(17,"li")(18,"a",35),u._uU(19,"Profile"),u.qZA()(),u._UZ(20,"hr",36),u.TgZ(21,"li")(22,"a",37),u.NdJ("click",function(){u.CHM(o);const m=u.oxw();return u.KtG(m.logout())}),u._uU(23,"Logout"),u.qZA()()()()}if(2&c){const o=u.oxw();u.xp6(3),u.Oqu(o.getUserDisplayName())}}let Ia=(()=>{class c{constructor(o,d,m,E,x,K){this.userService=o,this.router=d,this.fb=m,this.elementRef=E,this.formErrorCheckService=x,this.globalErrorHandler=K,this.state="normal",this.searchForm=this.fb.group({search:[""]}),this.isMenuOpen=!1,this.userDataSubject=new hs.X(null),this.userDataSubscription=this.userDataSubject.subscribe(se=>{this.userData=se})}onMouseOver(){this.state="hovered"}onMouseOut(){this.state="normal"}ngOnInit(){this.userService.userData$.subscribe({next:o=>{o?(this.userDataSubject.next(o),console.log("You have a user!",o)):(this.userDataSubject.next(null),console.log("You have no user!"))},error:o=>{this.globalErrorHandler.handleError(o)}}),this.router.events.subscribe(o=>{if(o instanceof X.m2){const d=this.elementRef.nativeElement.querySelector("#navbarScroll");d&&d.classList.remove("show")}})}onSubmit(){var o=this;return(0,re.Z)(function*(){if(o.searchForm.valid){let d=o.searchForm.value;d&&d.search?(yield o.router.navigate(["/recipe-search"],{queryParams:{search:d.search.trim()}}),o.searchForm.reset()):o.globalErrorHandler.handleError("Query search value is null or undefined.")}else{const d=o.formErrorCheckService.getFormGroupErrors(o.searchForm);o.globalErrorHandler.handleError(d)}})()}ngOnDestroy(){this.userDataSubscription&&this.userDataSubscription.unsubscribe()}logout(){var o=this;return(0,re.Z)(function*(){yield o.userService.logoutUser()})()}getUserDisplayName(){return this.userData?this.userData.lastName:"Anonymous"}static#e=this.\u0275fac=function(d){return new(d||c)(u.Y36(we.K),u.Y36(X.F0),u.Y36(ue.qu),u.Y36(u.SBq),u.Y36(Ae.l),u.Y36(ke.r))};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-header"]],decls:33,vars:4,consts:[[1,"navbar","navbar-dark","navbar-expand-lg"],[1,"container-fluid"],["href","#","data-aos","fade-right","data-aos-duration","3000",1,"navbar-brand"],["viewBox","0 0 200.92045542674032 200.92045542674032","height","50","width","50",1,"svg-logo"],["d","M0 100.46c0-55.483 44.978-100.46 100.46-100.46 55.483 0 100.46 44.978 100.46 100.46 0 55.483-44.978 100.46-100.46 100.46-55.483 0-100.46-44.978-100.46-100.46zM100.46 193.437c51.35 0 92.977-41.627 92.977-92.977 0-51.35-41.627-92.977-92.977-92.977-51.35 0-92.977 41.627-92.977 92.977 0 51.35 41.627 92.977 92.977 92.977z","data-fill-palette-color","accent","fill","var(--aliceBlueColor)","stroke","transparent"],["rx","99.45562543623646","ry","99.45562543623646","cx","100.46022771337016","cy","100.46022771337016","fill","var(--textColor)","stroke","transparent","stroke-width","0","fill-opacity","1","data-fill-palette-color","accent"],["transform","matrix(1,0,0,1,43.57436241056036,43.35758026693677)"],["viewBox","0 0 113.7717306056196 114.20529489286677","height","114.20529489286677","width","113.7717306056196"],["xmlns","http://www.w3.org/2000/svg","data-name","Layer 1","viewBox","1.190000057220459 1.002901315689087 97.62506866455078 97.99710083007812","x","0","y","0","height","114.20529489286677","width","113.7717306056196","data-fill-palette-color","quaternary","id","b-0",1,"icon-b-0"],["d","M79.28 26.63a0.3 0.3 0 0 0 0-0.07 0.28 0.28 0 0 0-0.48-0.19l-7 7a20.24 20.24 0 0 0-6 13v1.87a37.5 37.5 0 0 1 1.67 5.15H54.79a32.9 32.9 0 0 0-5.43-15.13 26.9 26.9 0 0 1-7.74 5.77 22.2 22.2 0 0 1-6.34 2.06c-9.9 1.51-22.3-5-28.35-41.61a1.86 1.86 0 0 1 1.55-2.05c47.44-6.69 50.2 11.7 47.85 22.85a51.5 51.5 0 0 0-19.69-6.14h-0.11a0.43 0.43 0 0 0-0.18 0.76l11.58 8.5 5.84 4.31a37.3 37.3 0 0 1 6.08 5.85 24.8 24.8 0 0 1 5-6.15 17.7 17.7 0 0 1-2.54-5 14.8 14.8 0 0 1-0.65-4.41c0-6.65 5.53-14.14 30.18-14.44a1.23 1.23 0 0 1 1.24 1.23c-0.38 31.82-12.74 31.78-19.82 29.12a34.2 34.2 0 0 0 6.02-12.28M28.65 93h34.63a16.16 16.16 0 0 0 12.18-5.54l21.68-24.79a6.79 6.79 0 0 0-0.79-9.7 6.55 6.55 0 0 0-4.2-1.49 7.24 7.24 0 0 0-5.38 2.43l-10.2 11.35v0.16a11.85 11.85 0 0 1-11.89 11.26H52.21a2.54 2.54 0 1 1 0-5.08h12.47a6.72 6.72 0 0 0 6.81-6.34A6.54 6.54 0 0 0 65 58.52H44.19l-3.37-1.18a23.42 23.42 0 0 0-24.26 5.49L1.19 78.1 22.64 99Z","fill","var(--aliceBlueColor)","data-fill-palette-color","quaternary"],["routerLink","/",1,"logoText"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarScroll","aria-controls","navbarScroll","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","hamburger",3,"mouseover","mouseout"],[1,"fa-solid","fa-bars"],["id","navbarScroll",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","my-2","my-lg-0","navbar-nav-scroll"],[1,"nav-item"],["appResponsiveClass","","routerLink","/recipes-list","href","#","role","button","aria-expanded","false",1,"navigation"],["class","nav-item dropdown",4,"ngIf"],[1,"nav-item","dropleft"],["appResponsiveClass","","appDropdownHover","","href","#","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"dropdown-toggle"],["id","show","appDropdownHover","",1,"dropdown-menu"],["role","search",1,"search",3,"formGroup","ngSubmit"],["type","search","aria-label","Search","formControlName","search","required","","minlength","3","placeholder","Search...",1,"header-user-search"],["type","submit",1,"search","header-user-action","header-user-action-btn"],[1,"fa-solid","fa-magnifying-glass"],[1,"nav-item","dropdown"],["appResponsiveClass","","href","#","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"dropdown-toggle"],[1,"fa-solid","fa-user"],["appDropdownHover","",1,"dropdown-menu",2,"background-color","var(--backgroundColor)"],["routerLink","/register",1,"dropdown-item"],["routerLink","/login",1,"dropdown-item"],["routerLink","/dashboard/user-recipes","href","#",1,"dropdown-item"],["routerLink","/dashboard/recipe-create",1,"dropdown-item"],["routerLink","/dashboard/user-favorite-recipes","href","#",1,"dropdown-item"],["routerLink","/dashboard/user-comments","href","#",1,"dropdown-item"],["routerLink","/dashboard/user-info",1,"dropdown-item"],[1,"hr"],[1,"dropdown-item",2,"text-align","center","cursor","pointer",3,"click"]],template:function(d,m){1&d&&(u.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),u.O4$(),u.TgZ(3,"svg",3)(4,"g"),u._UZ(5,"path",4)(6,"ellipse",5),u.qZA(),u.TgZ(7,"g",6)(8,"svg",7)(9,"g")(10,"svg",8),u._UZ(11,"path",9),u.qZA()()()()(),u.kcU(),u.TgZ(12,"span",10),u._uU(13,"natural way"),u.qZA()(),u.TgZ(14,"button",11),u.NdJ("mouseover",function(){return m.onMouseOver()})("mouseout",function(){return m.onMouseOut()}),u.TgZ(15,"span"),u._UZ(16,"i",12),u.qZA()(),u.TgZ(17,"div",13)(18,"ul",14)(19,"li",15)(20,"a",16),u._uU(21," Recipes "),u.qZA()(),u.YNc(22,wa,10,0,"li",17),u.YNc(23,mi,24,1,"li",17),u.TgZ(24,"li",18)(25,"a",19),u._uU(26," Search "),u.qZA(),u.TgZ(27,"ul",20)(28,"li")(29,"form",21),u.NdJ("ngSubmit",function(){return m.onSubmit()}),u._UZ(30,"input",22),u.TgZ(31,"button",23),u._UZ(32,"i",24),u.qZA()()()()()()()()()),2&d&&(u.xp6(14),u.Q6J("@rotate",m.state),u.xp6(8),u.Q6J("ngIf",!m.userData),u.xp6(1),u.Q6J("ngIf",m.userData),u.xp6(6),u.Q6J("formGroup",m.searchForm))},dependencies:[Ce.O5,X.rH,ue._Y,ue.Fj,ue.JJ,ue.JL,ue.Q7,ue.wO,ue.sg,ue.u,ea,ho],styles:["nav.navbar[_ngcontent-%COMP%]{min-height:5vh;background-color:var(--aliceBlueColor);box-shadow:1px 5px 15px 0 var(--mainGreyColor);box-shadow:0 25px 50px -12px #00000040;position:relative;z-index:10}.container-fluid[_ngcontent-%COMP%]{max-width:1024px}a.navbar-brand[_ngcontent-%COMP%]{display:flex;gap:10px;font-family:Nunito Sans,sans-serif;font-weight:900;font-size:28px;line-height:20px;color:var(--textColor);align-items:center}button.navbar-toggler[_ngcontent-%COMP%]{background-color:var(--mainYellowColor);border:1px solid var(--backgroundColor)}ul.navbar-nav[_ngcontent-%COMP%]{position:relative;display:flex;gap:40px;width:100%;align-items:center;justify-content:flex-end}.navigation[_ngcontent-%COMP%]{color:var(--mainBlackColor);font-size:14px;font-weight:600;text-transform:uppercase;transition:.3s ease-in-out;line-height:92px}.navigation[_ngcontent-%COMP%]:hover{color:var(--textColor)}ul.navbar-nav[_ngcontent-%COMP%]   ul.dropdown-menu[_ngcontent-%COMP%]{margin-top:22px;box-shadow:unset;border:unset}a.dropdown-item[_ngcontent-%COMP%]{color:var(--textColor);font-size:17px;font-weight:700}.dropdown-item[_ngcontent-%COMP%]:hover, .dropdown-item[_ngcontent-%COMP%]:focus{background-color:var(--textColor);color:var(--backgroundColor);border-radius:4px;transition:.5s ease-in-out}.header-user-search[_ngcontent-%COMP%]{padding:0 20px;height:40px;border:unset;border-radius:20px;background:var(--mainWhiteColor);box-shadow:0 0 5px #28a745}.header-user-action[_ngcontent-%COMP%]{margin-left:-50px;border-radius:50%;background:var(--mainYellowColor);color:var(--mainWhiteColor);width:40px;height:40px;border:unset}.search[_ngcontent-%COMP%]:hover   .fa-magnifying-glass[_ngcontent-%COMP%]{transform:rotate(45deg);transition:1s ease-in-out}form[_ngcontent-%COMP%]{width:800px;background-color:transparent;display:flex;gap:10px}ul.navbar-nav[_ngcontent-%COMP%], ul.dropdown-menu[_ngcontent-%COMP%]{background-color:var(--backgroundColor)}#navbarScroll[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li.nav-item.dropleft[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]{background-color:transparent}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:20px}@media (max-width: 991px){.container-fluid[_ngcontent-%COMP%]{justify-content:space-around}.nav-item[_ngcontent-%COMP%]{width:100%}.navbar-nav.me-auto.my-2.my-lg-0.navbar-nav-scroll[_ngcontent-%COMP%]{display:flex;gap:18px;padding:20px}form[_ngcontent-%COMP%]{width:unset}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:20px}ul.navbar-nav[_ngcontent-%COMP%]{gap:12px}ul.navbar-nav[_ngcontent-%COMP%], ul.dropdown-menu[_ngcontent-%COMP%]{background-color:transparent}}@media (min-width: 992px) and (max-width: 1440px){.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu.search[_ngcontent-%COMP%]{left:unset;right:0;width:900px;padding:10px;margin-top:30px;border:unset}ul.navbar-nav[_ngcontent-%COMP%], ul.dropdown-menu[_ngcontent-%COMP%]{background-color:transparent}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:20px}.container-fluid[_ngcontent-%COMP%]{max-width:1200px;padding:0 3%;color:var(--textColor)}.header-user-action[_ngcontent-%COMP%]{margin:unset}}@media (min-width: 1441px){.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu.search[_ngcontent-%COMP%]{left:unset;right:0;width:1000px;padding:10px;margin-top:30px;border:unset}form[_ngcontent-%COMP%]{max-width:unset}.container-fluid[_ngcontent-%COMP%]{padding:unset;max-width:1200px;color:var(--textColor)}}"],data:{animation:[ka("rotate",[Vi("normal",Ui({transform:"rotate(0deg)"})),Vi("hovered",Ui({transform:"rotate(180deg)"})),uo("normal => hovered",ks("0.5s ease-in-out")),uo("hovered => normal",ks("0.5s ease-in-out"))])]}})}return c})();function Ls(c,f){if(1&c){const o=u.EpF();u.TgZ(0,"div",1)(1,"button",2),u.NdJ("click",function(){u.CHM(o);const m=u.oxw();return u.KtG(m.scrollToTop())}),u.TgZ(2,"div",3)(3,"span",4),u.O4$(),u.TgZ(4,"svg",5),u._UZ(5,"path",6),u.qZA()(),u.kcU(),u.TgZ(6,"span",7),u.O4$(),u.TgZ(7,"svg",8),u._UZ(8,"path",6),u.qZA()()()(),u.kcU(),u.TgZ(9,"a",9)(10,"div",10)(11,"span",7),u.O4$(),u.TgZ(12,"svg",5),u._UZ(13,"path",6),u.qZA()(),u.kcU(),u.TgZ(14,"span",7),u.O4$(),u.TgZ(15,"svg",8),u._UZ(16,"path",6),u.qZA()()()()()}}let fo=(()=>{class c{constructor(){this.showScrollButton=!1}onWindowScroll(){this.showScrollButton=window.pageYOffset>300}scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-scroll-to-top"]],hostBindings:function(d,m){1&d&&u.NdJ("scroll",function(){return m.onWindowScroll()},!1,u.Jf7)},decls:1,vars:1,consts:[["class","buttons",4,"ngIf"],[1,"buttons"],[1,"back-button",3,"click"],[1,"button-box-up"],[1,"button-elem-up"],["viewBox","0 0 46 40","xmlns","http://www.w3.org/2000/svg"],["d","M46 20.038c0-.7-.3-1.5-.8-2.1l-16-17c-1.1-1-3.2-1.4-4.4-.3-1.2 1.1-1.2 3.3 0 4.4l11.3 11.9H3c-1.7 0-3 1.3-3 3s1.3 3 3 3h33.1l-11.3 11.9c-1 1-1.2 3.3 0 4.4 1.2 1.1 3.3.8 4.4-.3l16-17c.5-.5.8-1.1.8-1.9z"],[1,"button-elem"],["viewBox","0 0 46 40"],["href","javascript:history.back()",1,"back-button"],[1,"button-box"]],template:function(d,m){1&d&&u.YNc(0,Ls,17,0,"div",0),2&d&&u.Q6J("ngIf",m.showScrollButton)},dependencies:[Ce.O5],styles:[".buttons[_ngcontent-%COMP%]{display:flex;gap:10px;position:fixed;bottom:120px;right:10px;flex-direction:column;align-items:center;z-index:10}button[_ngcontent-%COMP%]:focus{outline:none}button.ng-hidden[_ngcontent-%COMP%]{display:none}"]})}return c})();var Bs=$(1816);const Ea=function(c){return{show:c}};let Gr=(()=>{class c{constructor(o){this.modalService=o,this.showModal=!1}ngOnInit(){this.modalMessageSubscription=this.modalService.modalMessage$.subscribe(o=>{this.modalMessage=o,console.log(o),this.showModal=!0})}ngOnDestroy(){this.modalMessageSubscription&&this.modalMessageSubscription.unsubscribe()}hideModal(){this.showModal=!1}static#e=this.\u0275fac=function(d){return new(d||c)(u.Y36(Bs.y))};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-custom-alert"]],decls:11,vars:4,consts:[["tabindex","-1","role","dialog",1,"modal",3,"ngClass"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"button-img",3,"click"]],template:function(d,m){1&d&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),u._uU(5,"Important Notification!"),u.qZA()(),u.TgZ(6,"div",5),u._uU(7),u.qZA(),u.TgZ(8,"div",6)(9,"button",7),u.NdJ("click",function(){return m.hideModal()}),u._uU(10,"Close"),u.qZA()()()()()),2&d&&(u.Q6J("ngClass",u.VKq(2,Ea,m.showModal)),u.xp6(7),u.hij(" ",m.modalMessage," "))},dependencies:[Ce.mk],styles:[".modal[_ngcontent-%COMP%]{display:none;overflow:hidden;position:fixed;top:0;left:0;width:100%;height:100%;z-index:15;outline:0}.modal.show[_ngcontent-%COMP%]{display:block;background-color:var(--mainRGBAColor)}.modal-body[_ngcontent-%COMP%]{white-space:pre-wrap}"]})}return c})(),ta=(()=>{class c{constructor(){this.title="The-Natural-Way"}ngOnInit(){Zr.init()}static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["app-root"]],decls:5,vars:0,template:function(d,m){1&d&&u._UZ(0,"app-header")(1,"app-scroll-to-top")(2,"app-custom-alert")(3,"router-outlet")(4,"app-footer")},dependencies:[X.lC,nr,Ia,fo,Gr]})}return c})();var ps=$(9286),po=$(8726);let ul=(()=>{class c{}return c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=u.oAB({type:c}),c.\u0275inj=u.cJS({imports:[[]]}),c})();var gs=$(5592),rc=$(6232),Yr=$(8645),Qs=$(4829),ko=$(1631),dl=$(4266),Hi=$(4674),na=$(7400);const ra=["addListener","removeListener"],La=["addEventListener","removeEventListener"],Fo=["on","off"];function An(c,f,o,d){if((0,Hi.m)(o)&&(d=o,o=void 0),d)return An(c,f,o).pipe((0,na.Z)(d));const[m,E]=function Ur(c){return(0,Hi.m)(c.addEventListener)&&(0,Hi.m)(c.removeEventListener)}(c)?La.map(x=>K=>c[x](f,K,o)):function Si(c){return(0,Hi.m)(c.addListener)&&(0,Hi.m)(c.removeListener)}(c)?ra.map(ti(c,f)):function ms(c){return(0,Hi.m)(c.on)&&(0,Hi.m)(c.off)}(c)?Fo.map(ti(c,f)):[];if(!m&&(0,dl.z)(c))return(0,ko.z)(x=>An(x,f,o))((0,Qs.Xf)(c));if(!m)throw new TypeError("Invalid event target");return new gs.y(x=>{const K=(...se)=>x.next(1<se.length?se:se[0]);return m(K),()=>E(K)})}function ti(c,f){return o=>d=>c[o](f,d)}var _s=$(6321),Ba=$(671);const{isArray:as}=Array;function Ar(c){return 1===c.length&&as(c[0])?c[0]:c}var Vt=$(8251);$(3019);var go=$(9940);function $r(...c){const f=(0,go.jO)(c),o=Ar(c);return o.length?new gs.y(d=>{let m=o.map(()=>[]),E=o.map(()=>!1);d.add(()=>{m=E=null});for(let x=0;!d.closed&&x<o.length;x++)(0,Qs.Xf)(o[x]).subscribe((0,Vt.x)(d,K=>{if(m[x].push(K),m.every(se=>se.length)){const se=m.map(fe=>fe.shift());d.next(f?f(...se):se),m.some((fe,Ie)=>!fe.length&&E[Ie])&&d.complete()}},()=>{E[x]=!0,!m[x].length&&d.complete()}));return()=>{m=E=null}}):rc.E}var Ai=$(5211),Qn=$(9773),Jr=$(2181),Dn=$(8180),mo=$(9397),_o=$(9360),Lo=$(2737),zr=$(2420);function vi(...c){const f=(0,go.jO)(c);return(0,_o.e)((o,d)=>{const m=c.length,E=new Array(m);let x=c.map(()=>!1),K=!1;for(let se=0;se<m;se++)(0,Qs.Xf)(c[se]).subscribe((0,Vt.x)(d,fe=>{E[se]=fe,!K&&!x[se]&&(x[se]=!0,(K=x.every(Lo.y))&&(x=null))},zr.Z));o.subscribe((0,Vt.x)(d,se=>{if(K){const fe=[se,...E];d.next(f?f(...fe):fe)}}))})}$(975),$(7921);var Zi=$(3997);class Vs extends Error{constructor(f,o){super(function ai(c,f){return`NG0${Math.abs(c)}${f?": "+f:""}`}(f,o)),this.code=f}}let Or=null;function ys(c){const f=Or;return Or=c,f}function no(c,f){const o=!f?.manualCleanup;o&&!f?.injector&&(0,u.gHi)(no);const d=o?f?.injector?.get(u.ktI)??(0,u.f3M)(u.ktI):null;let m;return m=(0,u.tdS)(f?.requireSync?{kind:0}:{kind:1,value:f?.initialValue}),function Ha(c){const f=ys(null);try{return c()}finally{ys(f)}}(()=>{const E=c.subscribe({next:x=>m.set({kind:1,value:x}),error:x=>m.set({kind:2,error:x})});d?.onDestroy(E.unsubscribe.bind(E))}),(0,u.Flj)(()=>{const E=m();switch(E.kind){case 1:return E.value;case 2:throw E.error;case 0:throw new Vs(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}Math,Math,Math;const Gh=["*"],qh=["dialog"];function Jc(c){return"string"==typeof c}function du(c){return null!=c}function bd(c){return(c||document.body).getBoundingClientRect()}const X_={animation:!0,transitionTimerDelayMs:5},Id=()=>{},{transitionTimerDelayMs:Co}=X_,qu=new Map,mc=(c,f,o,d)=>{let m=d.context||{};const E=qu.get(f);if(E)switch(d.runningTransition){case"continue":return rc.E;case"stop":c.run(()=>E.transition$.complete()),m=Object.assign(E.context,m),qu.delete(f)}const x=o(f,d.animation,m)||Id;if(!d.animation||"none"===window.getComputedStyle(f).transitionProperty)return c.run(()=>x()),(0,he.of)(void 0).pipe(function bp(c){return f=>new gs.y(o=>f.subscribe({next:x=>c.run(()=>o.next(x)),error:x=>c.run(()=>o.error(x)),complete:()=>c.run(()=>o.complete())}))}(c));const K=new Yr.x,se=new Yr.x,fe=K.pipe(function xr(...c){return f=>(0,Ai.z)(f,(0,he.of)(...c))}(!0));qu.set(f,{transition$:K,complete:()=>{se.next(),se.complete()},context:m});const Ie=function d0(c){const{transitionDelay:f,transitionDuration:o}=window.getComputedStyle(c);return 1e3*(parseFloat(f)+parseFloat(o))}(f);return c.runOutsideAngular(()=>{const ze=An(f,"transitionend").pipe((0,Qn.R)(fe),(0,Jr.h)(({target:dt})=>dt===f));(function kn(...c){return 1===(c=Ar(c)).length?(0,Qs.Xf)(c[0]):new gs.y(function Vr(c){return f=>{let o=[];for(let d=0;o&&!f.closed&&d<c.length;d++)o.push((0,Qs.Xf)(c[d]).subscribe((0,Vt.x)(f,m=>{if(o){for(let E=0;E<o.length;E++)E!==d&&o[E].unsubscribe();o=null}f.next(m)})))}}(c))})(function ic(c=0,f,o=_s.P){let d=-1;return null!=f&&((0,Ba.K)(f)?o=f:d=f),new gs.y(m=>{let E=function _i(c){return c instanceof Date&&!isNaN(c)}(c)?+c-o.now():c;E<0&&(E=0);let x=0;return o.schedule(function(){m.closed||(m.next(x++),0<=d?this.schedule(void 0,d):m.complete())},E)})}(Ie+Co).pipe((0,Qn.R)(fe)),ze,se).pipe((0,Qn.R)(fe)).subscribe(()=>{qu.delete(f),c.run(()=>{x(),K.next(),K.complete()})})}),K.asObservable()};let v=(()=>{class c{constructor(){this.animation=X_.animation}static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})(),wp=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})(),pm=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})(),ty=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})(),rI=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})();var Ei=function(c){return c[c.Tab=9]="Tab",c[c.Enter=13]="Enter",c[c.Escape=27]="Escape",c[c.Space=32]="Space",c[c.PageUp=33]="PageUp",c[c.PageDown=34]="PageDown",c[c.End=35]="End",c[c.Home=36]="Home",c[c.ArrowLeft=37]="ArrowLeft",c[c.ArrowUp=38]="ArrowUp",c[c.ArrowRight=39]="ArrowRight",c[c.ArrowDown=40]="ArrowDown",c}(Ei||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const rh=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Op(c){const f=Array.from(c.querySelectorAll(rh)).filter(o=>-1!==o.tabIndex);return[f[0],f[f.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let fa=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})(),L0=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})();class Al{constructor(f,o,d){this.nodes=f,this.viewRef=o,this.componentRef=d}}let Qc=(()=>{class c{constructor(o,d){this._el=o,this._zone=d}ngOnInit(){this._zone.onStable.asObservable().pipe((0,Dn.q)(1)).subscribe(()=>{mc(this._zone,this._el.nativeElement,(o,d)=>{d&&bd(o),o.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return mc(this._zone,this._el.nativeElement,({classList:o})=>o.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(d){return new(d||c)(u.Y36(u.SBq),u.Y36(u.R0b))};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(d,m){2&d&&(u.Tol("modal-backdrop"+(m.backdropClass?" "+m.backdropClass:"")),u.ekj("show",!m.animation)("fade",m.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[u.jDz],decls:0,vars:0,template:function(d,m){},encapsulation:2})}return c})();class Nm{update(f){}close(f){}dismiss(f){}}const wI=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],II=["animation","backdropClass"];class ff{_applyWindowOptions(f,o){wI.forEach(d=>{du(o[d])&&(f[d]=o[d])})}_applyBackdropOptions(f,o){II.forEach(d=>{du(o[d])&&(f[d]=o[d])})}update(f){this._applyWindowOptions(this._windowCmptRef.instance,f),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,f)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,Qn.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,Qn.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(f,o,d,m){this._windowCmptRef=f,this._contentRef=o,this._backdropCmptRef=d,this._beforeDismiss=m,this._closed=new Yr.x,this._dismissed=new Yr.x,this._hidden=new Yr.x,f.instance.dismissEvent.subscribe(E=>{this.dismiss(E)}),this.result=new Promise((E,x)=>{this._resolve=E,this._reject=x}),this.result.then(null,()=>{})}close(f){this._windowCmptRef&&(this._closed.next(f),this._resolve(f),this._removeModalElements())}_dismiss(f){this._dismissed.next(f),this._reject(f),this._removeModalElements()}dismiss(f){if(this._windowCmptRef)if(this._beforeDismiss){const o=this._beforeDismiss();!function Xh(c){return c&&c.then}(o)?!1!==o&&this._dismiss(f):o.then(d=>{!1!==d&&this._dismiss(f)},()=>{})}else this._dismiss(f)}_removeModalElements(){const f=this._windowCmptRef.instance.hide(),o=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,he.of)(void 0);f.subscribe(()=>{const{nativeElement:d}=this._windowCmptRef.location;d.parentNode.removeChild(d),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),o.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:d}=this._backdropCmptRef.location;d.parentNode.removeChild(d),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),$r(f,o).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Wp=function(c){return c[c.BACKDROP_CLICK=0]="BACKDROP_CLICK",c[c.ESC=1]="ESC",c}(Wp||{});let B0=(()=>{class c{constructor(o,d,m){this._document=o,this._elRef=d,this._zone=m,this._closed$=new Yr.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new u.vpe,this.shown=new Yr.x,this.hidden=new Yr.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Jc(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(o){this.dismissEvent.emit(o)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,Dn.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:o}=this._elRef,d={animation:this.animation,runningTransition:"stop"},x=$r(mc(this._zone,o,()=>o.classList.remove("show"),d),mc(this._zone,this._dialogEl.nativeElement,()=>{},d));return x.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),x}_show(){const o={animation:this.animation,runningTransition:"continue"};$r(mc(this._zone,this._elRef.nativeElement,(E,x)=>{x&&bd(E),E.classList.add("show")},o),mc(this._zone,this._dialogEl.nativeElement,()=>{},o)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:o}=this._elRef;this._zone.runOutsideAngular(()=>{An(o,"keydown").pipe((0,Qn.R)(this._closed$),(0,Jr.h)(m=>m.which===Ei.Escape)).subscribe(m=>{this.keyboard?requestAnimationFrame(()=>{m.defaultPrevented||this._zone.run(()=>this.dismiss(Wp.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let d=!1;An(this._dialogEl.nativeElement,"mousedown").pipe((0,Qn.R)(this._closed$),(0,mo.b)(()=>d=!1),(0,ye.w)(()=>An(o,"mouseup").pipe((0,Qn.R)(this._closed$),(0,Dn.q)(1))),(0,Jr.h)(({target:m})=>o===m)).subscribe(()=>{d=!0}),An(o,"click").pipe((0,Qn.R)(this._closed$)).subscribe(({target:m})=>{o===m&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!d&&this._zone.run(()=>this.dismiss(Wp.BACKDROP_CLICK))),d=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:o}=this._elRef;if(!o.contains(document.activeElement)){const d=o.querySelector("[ngbAutofocus]"),m=Op(o)[0];(d||m||o).focus()}}_restoreFocus(){const o=this._document.body,d=this._elWithFocus;let m;m=d&&d.focus&&o.contains(d)?d:o,this._zone.runOutsideAngular(()=>{setTimeout(()=>m.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&mc(this._zone,this._elRef.nativeElement,({classList:o})=>(o.add("modal-static"),()=>o.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(d){return new(d||c)(u.Y36(Ce.K0),u.Y36(u.SBq),u.Y36(u.R0b))};static#t=this.\u0275cmp=u.Xpm({type:c,selectors:[["ngb-modal-window"]],viewQuery:function(d,m){if(1&d&&u.Gf(qh,7),2&d){let E;u.iGM(E=u.CRH())&&(m._dialogEl=E.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(d,m){2&d&&(u.uIk("aria-modal",!0)("aria-labelledby",m.ariaLabelledBy)("aria-describedby",m.ariaDescribedBy),u.Tol("modal d-block"+(m.windowClass?" "+m.windowClass:"")),u.ekj("fade",m.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[u.jDz],ngContentSelectors:Gh,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(d,m){1&d&&(u.F$t(),u.TgZ(0,"div",0,1)(2,"div",2),u.Hsn(3),u.qZA()()),2&d&&u.Tol("modal-dialog"+(m.size?" modal-"+m.size:"")+(m.centered?" modal-dialog-centered":"")+m.fullscreenClass+(m.scrollable?" modal-dialog-scrollable":"")+(m.modalDialogClass?" "+m.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return c})(),EI=(()=>{class c{constructor(o){this._document=o}hide(){const o=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),d=this._document.body,m=d.style,{overflow:E,paddingRight:x}=m;if(o>0){const K=parseFloat(window.getComputedStyle(d).paddingRight);m.paddingRight=`${K+o}px`}return m.overflow="hidden",()=>{o>0&&(m.paddingRight=x),m.overflow=E}}static#e=this.\u0275fac=function(d){return new(d||c)(u.LFG(Ce.K0))};static#t=this.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})(),qp=(()=>{class c{constructor(o,d,m,E,x,K,se){this._applicationRef=o,this._injector=d,this._environmentInjector=m,this._document=E,this._scrollBar=x,this._rendererFactory=K,this._ngZone=se,this._activeWindowCmptHasChanged=new Yr.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new u.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const fe=this._windowCmpts[this._windowCmpts.length-1];((c,f,o,d=!1)=>{c.runOutsideAngular(()=>{const m=An(f,"focusin").pipe((0,Qn.R)(o),(0,ce.U)(E=>E.target));An(f,"keydown").pipe((0,Qn.R)(o),(0,Jr.h)(E=>E.which===Ei.Tab),vi(m)).subscribe(([E,x])=>{const[K,se]=Op(f);(x===K||x===f)&&E.shiftKey&&(se.focus(),E.preventDefault()),x===se&&!E.shiftKey&&(K.focus(),E.preventDefault())}),d&&An(f,"click").pipe((0,Qn.R)(o),vi(m),(0,ce.U)(E=>E[1])).subscribe(E=>E.focus())})})(this._ngZone,fe.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(fe.location.nativeElement)}})}_restoreScrollBar(){const o=this._scrollBarRestoreFn;o&&(this._scrollBarRestoreFn=null,o())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(o,d,m){const E=m.container instanceof HTMLElement?m.container:du(m.container)?this._document.querySelector(m.container):this._document.body,x=this._rendererFactory.createRenderer(null,null);if(!E)throw new Error(`The specified modal container "${m.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const K=new Nm,se=(o=m.injector||o).get(u.lqb,null)||this._environmentInjector,fe=this._getContentRef(o,se,d,K,m);let Ie=!1!==m.backdrop?this._attachBackdrop(E):void 0,ze=this._attachWindowComponent(E,fe.nodes),ht=new ff(ze,fe,Ie,m.beforeDismiss);return this._registerModalRef(ht),this._registerWindowCmpt(ze),ht.hidden.pipe((0,Dn.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(x.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),K.close=dt=>{ht.close(dt)},K.dismiss=dt=>{ht.dismiss(dt)},K.update=dt=>{ht.update(dt)},ht.update(m),1===this._modalRefs.length&&x.addClass(this._document.body,"modal-open"),Ie&&Ie.instance&&Ie.changeDetectorRef.detectChanges(),ze.changeDetectorRef.detectChanges(),ht}get activeInstances(){return this._activeInstances}dismissAll(o){this._modalRefs.forEach(d=>d.dismiss(o))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(o){let d=(0,u.LMc)(Qc,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(d.hostView),o.appendChild(d.location.nativeElement),d}_attachWindowComponent(o,d){let m=(0,u.LMc)(B0,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:d});return this._applicationRef.attachView(m.hostView),o.appendChild(m.location.nativeElement),m}_getContentRef(o,d,m,E,x){return m?m instanceof u.Rgc?this._createFromTemplateRef(m,E):Jc(m)?this._createFromString(m):this._createFromComponent(o,d,m,E,x):new Al([])}_createFromTemplateRef(o,d){const E=o.createEmbeddedView({$implicit:d,close(x){d.close(x)},dismiss(x){d.dismiss(x)}});return this._applicationRef.attachView(E),new Al([E.rootNodes],E)}_createFromString(o){const d=this._document.createTextNode(`${o}`);return new Al([[d]])}_createFromComponent(o,d,m,E,x){const K=u.zs3.create({providers:[{provide:Nm,useValue:E}],parent:o}),se=(0,u.LMc)(m,{environmentInjector:d,elementInjector:K}),fe=se.location.nativeElement;return x.scrollable&&fe.classList.add("component-host-scrollable"),this._applicationRef.attachView(se.hostView),new Al([[fe]],se.hostView,se)}_setAriaHidden(o){const d=o.parentElement;d&&o!==this._document.body&&(Array.from(d.children).forEach(m=>{m!==o&&"SCRIPT"!==m.nodeName&&(this._ariaHiddenValues.set(m,m.getAttribute("aria-hidden")),m.setAttribute("aria-hidden","true"))}),this._setAriaHidden(d))}_revertAriaHidden(){this._ariaHiddenValues.forEach((o,d)=>{o?d.setAttribute("aria-hidden",o):d.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(o){const d=()=>{const m=this._modalRefs.indexOf(o);m>-1&&(this._modalRefs.splice(m,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(o),this._activeInstances.emit(this._modalRefs),o.result.then(d,d)}_registerWindowCmpt(o){this._windowCmpts.push(o),this._activeWindowCmptHasChanged.next(),o.onDestroy(()=>{const d=this._windowCmpts.indexOf(o);d>-1&&(this._windowCmpts.splice(d,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(d){return new(d||c)(u.LFG(u.z2F),u.LFG(u.zs3),u.LFG(u.lqb),u.LFG(Ce.K0),u.LFG(EI),u.LFG(u.FYo),u.LFG(u.R0b))};static#t=this.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})(),pf=(()=>{class c{constructor(o){this._ngbConfig=o,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(o){this._animation=o}static#e=this.\u0275fac=function(d){return new(d||c)(u.LFG(v))};static#t=this.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})(),Mm=(()=>{class c{constructor(o,d,m){this._injector=o,this._modalStack=d,this._config=m}open(o,d={}){const m={...this._config,animation:this._config.animation,...d};return this._modalStack.open(this._injector,o,m)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(o){this._modalStack.dismissAll(o)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(d){return new(d||c)(u.LFG(u.zs3),u.LFG(qp),u.LFG(pf))};static#t=this.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})(),Zp=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({providers:[Mm]})}return c})(),gf=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})(),km=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})(),Lm=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})(),z0=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})(),eg=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})(),tg=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})(),q0=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})(),Ny=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})(),Gm=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})();new u.OlP("live announcer delay",{providedIn:"root",factory:function If(){return 100}});let Wm=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})(),fh=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})();const X0=[wp,pm,ty,rI,fa,L0,Zp,gf,fh,km,Lm,z0,eg,tg,q0,Ny,Gm,Wm];let Zm=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({imports:[X0,wp,pm,ty,rI,fa,L0,Zp,gf,fh,km,Lm,z0,eg,tg,q0,Ny,Gm,Wm]})}return c})();var Ef=$(2772);function rg(c){return new u.vHH(3e3,!1)}function Fc(c){switch(c.length){case 0:return new Kr;case 1:return c[0];default:return new Fs(c)}}function ab(c,f,o=new Map,d=new Map){const m=[],E=[];let x=-1,K=null;if(f.forEach(se=>{const fe=se.get("offset"),Ie=fe==x,ze=Ie&&K||new Map;se.forEach((ht,dt)=>{let Mt=dt,jt=ht;if("offset"!==dt)switch(Mt=c.normalizePropertyName(Mt,m),jt){case"!":jt=o.get(dt);break;case ss:jt=d.get(dt);break;default:jt=c.normalizeStyleValue(dt,Mt,jt,m)}ze.set(Mt,jt)}),Ie||E.push(ze),K=ze,x=fe}),m.length)throw function rb(c){return new u.vHH(3502,!1)}();return E}function Gy(c,f,o,d){switch(f){case"start":c.onStart(()=>d(o&&Jm(o,"start",c)));break;case"done":c.onDone(()=>d(o&&Jm(o,"done",c)));break;case"destroy":c.onDestroy(()=>d(o&&Jm(o,"destroy",c)))}}function Jm(c,f,o){const E=mh(c.element,c.triggerName,c.fromState,c.toState,f||c.phaseName,o.totalTime??c.totalTime,!!o.disabled),x=c._data;return null!=x&&(E._data=x),E}function mh(c,f,o,d,m="",E=0,x){return{element:c,triggerName:f,fromState:o,toState:d,phaseName:m,totalTime:E,disabled:!!x}}function So(c,f,o){let d=c.get(f);return d||c.set(f,d=o),d}function td(c){const f=c.indexOf(":");return[c.substring(1,f),c.slice(f+1)]}const Cf=(()=>typeof document>"u"?null:document.documentElement)();function ag(c){const f=c.parentNode||c.host||null;return f===Cf?null:f}let Nl=null,cb=!1;function FI(c,f){for(;f;){if(f===c)return!0;f=ag(f)}return!1}function ub(c,f,o){if(o)return Array.from(c.querySelectorAll(f));const d=c.querySelector(f);return d?[d]:[]}let db=(()=>{class c{validateStyleProperty(o){return function Ns(c){Nl||(Nl=function lb(){return typeof document<"u"?document.body:null}()||{},cb=!!Nl.style&&"WebkitAppearance"in Nl.style);let f=!0;return Nl.style&&!function Sf(c){return"ebkit"==c.substring(1,6)}(c)&&(f=c in Nl.style,!f&&cb&&(f="Webkit"+c.charAt(0).toUpperCase()+c.slice(1)in Nl.style)),f}(o)}matchesElement(o,d){return!1}containsElement(o,d){return FI(o,d)}getParentElement(o){return ag(o)}query(o,d,m){return ub(o,d,m)}computeStyle(o,d,m){return m||""}animate(o,d,m,E,x,K=[],se){return new Kr(m,E)}static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac})}return c})(),cg=(()=>{class c{static#e=this.NOOP=new db}return c})();const lg=1e3,ug="ng-enter",dg="ng-leave",hg="ng-trigger",_h=".ng-trigger",yh="ng-animating",rr=".ng-animating";function el(c){if("number"==typeof c)return c;const f=c.match(/^(-?[\.\d]+)(m?s)/);return!f||f.length<2?0:vh(parseFloat(f[1]),f[2])}function vh(c,f){return"s"===f?c*lg:c}function bu(c,f,o){return c.hasOwnProperty("duration")?c:function fg(c,f,o){let m,E=0,x="";if("string"==typeof c){const K=c.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===K)return f.push(rg()),{duration:0,delay:0,easing:""};m=vh(parseFloat(K[1]),K[2]);const se=K[3];null!=se&&(E=vh(parseFloat(se),K[4]));const fe=K[5];fe&&(x=fe)}else m=c;if(!o){let K=!1,se=f.length;m<0&&(f.push(function NI(){return new u.vHH(3100,!1)}()),K=!0),E<0&&(f.push(function MI(){return new u.vHH(3101,!1)}()),K=!0),K&&f.splice(se,0,rg())}return{duration:m,delay:E,easing:x}}(c,f,o)}function pg(c,f={}){return Object.keys(c).forEach(o=>{f[o]=c[o]}),f}function Af(c){const f=new Map;return Object.keys(c).forEach(o=>{f.set(o,c[o])}),f}function Bc(c,f=new Map,o){if(o)for(let[d,m]of o)f.set(d,m);for(let[d,m]of c)f.set(d,m);return f}function Uc(c,f,o){f.forEach((d,m)=>{const E=vg(m);o&&!o.has(m)&&o.set(m,c.style[E]),c.style[E]=d})}function Ml(c,f){f.forEach((o,d)=>{const m=vg(d);c.style[m]=""})}function Dd(c){return Array.isArray(c)?1==c.length?c[0]:lo(c):c}const mg=new RegExp("{{\\s*(.+?)\\s*}}","g");function _g(c){let f=[];if("string"==typeof c){let o;for(;o=mg.exec(c);)f.push(o[1]);mg.lastIndex=0}return f}function xl(c,f,o){const d=c.toString(),m=d.replace(mg,(E,x)=>{let K=f[x];return null==K&&(o.push(function Fy(c){return new u.vHH(3003,!1)}()),K=""),K.toString()});return m==d?c:m}function yg(c){const f=[];let o=c.next();for(;!o.done;)f.push(o.value),o=c.next();return f}const fb=/-+([a-z0-9])/g;function vg(c){return c.replace(fb,(...f)=>f[1].toUpperCase())}function _c(c,f,o){switch(f.type){case 7:return c.visitTrigger(f,o);case 0:return c.visitState(f,o);case 1:return c.visitTransition(f,o);case 2:return c.visitSequence(f,o);case 3:return c.visitGroup(f,o);case 4:return c.visitAnimate(f,o);case 5:return c.visitKeyframes(f,o);case 6:return c.visitStyle(f,o);case 8:return c.visitReference(f,o);case 9:return c.visitAnimateChild(f,o);case 10:return c.visitAnimateRef(f,o);case 11:return c.visitQuery(f,o);case 12:return c.visitStagger(f,o);default:throw function eb(c){return new u.vHH(3004,!1)}()}}function Xm(c,f){return window.getComputedStyle(c)[f]}const bg="*";function tl(c,f){const o=[];return"string"==typeof c?c.split(/\s*,\s*/).forEach(d=>function $y(c,f,o){if(":"==c[0]){const se=function zy(c,f){switch(c){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(o,d)=>parseFloat(d)>parseFloat(o);case":decrement":return(o,d)=>parseFloat(d)<parseFloat(o);default:return f.push(function Zo(c){return new u.vHH(3016,!1)}()),"* => *"}}(c,o);if("function"==typeof se)return void f.push(se);c=se}const d=c.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==d||d.length<4)return o.push(function HT(c){return new u.vHH(3015,!1)}()),f;const m=d[1],E=d[2],x=d[3];f.push(e_(m,x));"<"==E[0]&&!(m==bg&&x==bg)&&f.push(e_(x,m))}(d,o,f)):o.push(c),o}const nd=new Set(["true","1"]),Mf=new Set(["false","0"]);function e_(c,f){const o=nd.has(c)||Mf.has(c),d=nd.has(f)||Mf.has(f);return(m,E)=>{let x=c==bg||c==m,K=f==bg||f==E;return!x&&o&&"boolean"==typeof m&&(x=m?nd.has(c):Mf.has(c)),!K&&d&&"boolean"==typeof E&&(K=E?nd.has(f):Mf.has(f)),x&&K}}const nl=new RegExp("s*:selfs*,?","g");function Js(c,f,o,d){return new t_(c).build(f,o,d)}class t_{constructor(f){this._driver=f}build(f,o,d){const m=new pb(o);return this._resetContextStyleTimingState(m),_c(this,Dd(f),m)}_resetContextStyleTimingState(f){f.currentQuerySelector="",f.collectedStyles=new Map,f.collectedStyles.set("",new Map),f.currentTime=0}visitTrigger(f,o){let d=o.queryCount=0,m=o.depCount=0;const E=[],x=[];return"@"==f.name.charAt(0)&&o.errors.push(function _u(){return new u.vHH(3006,!1)}()),f.definitions.forEach(K=>{if(this._resetContextStyleTimingState(o),0==K.type){const se=K,fe=se.name;fe.toString().split(/\s*,\s*/).forEach(Ie=>{se.name=Ie,E.push(this.visitState(se,o))}),se.name=fe}else if(1==K.type){const se=this.visitTransition(K,o);d+=se.queryCount,m+=se.depCount,x.push(se)}else o.errors.push(function Ly(){return new u.vHH(3007,!1)}())}),{type:7,name:f.name,states:E,transitions:x,queryCount:d,depCount:m,options:null}}visitState(f,o){const d=this.visitStyle(f.styles,o),m=f.options&&f.options.params||null;if(d.containsDynamicStyles){const E=new Set,x=m||{};d.styles.forEach(K=>{K instanceof Map&&K.forEach(se=>{_g(se).forEach(fe=>{x.hasOwnProperty(fe)||E.add(fe)})})}),E.size&&(yg(E.values()),o.errors.push(function Df(c,f){return new u.vHH(3008,!1)}()))}return{type:0,name:f.name,style:d,options:m?{params:m}:null}}visitTransition(f,o){o.queryCount=0,o.depCount=0;const d=_c(this,Dd(f.animation),o);return{type:1,matchers:tl(f.expr,o.errors),animation:d,queryCount:o.queryCount,depCount:o.depCount,options:bh(f.options)}}visitSequence(f,o){return{type:2,steps:f.steps.map(d=>_c(this,d,o)),options:bh(f.options)}}visitGroup(f,o){const d=o.currentTime;let m=0;const E=f.steps.map(x=>{o.currentTime=d;const K=_c(this,x,o);return m=Math.max(m,o.currentTime),K});return o.currentTime=m,{type:3,steps:E,options:bh(f.options)}}visitAnimate(f,o){const d=function Wy(c,f){if(c.hasOwnProperty("duration"))return c;if("number"==typeof c)return xf(bu(c,f).duration,0,"");const o=c;if(o.split(/\s+/).some(E=>"{"==E.charAt(0)&&"{"==E.charAt(1))){const E=xf(0,0,"");return E.dynamic=!0,E.strValue=o,E}const m=bu(o,f);return xf(m.duration,m.delay,m.easing)}(f.timings,o.errors);o.currentAnimateTimings=d;let m,E=f.styles?f.styles:Ui({});if(5==E.type)m=this.visitKeyframes(E,o);else{let x=f.styles,K=!1;if(!x){K=!0;const fe={};d.easing&&(fe.easing=d.easing),x=Ui(fe)}o.currentTime+=d.duration+d.delay;const se=this.visitStyle(x,o);se.isEmptyStep=K,m=se}return o.currentAnimateTimings=null,{type:4,timings:d,style:m,options:null}}visitStyle(f,o){const d=this._makeStyleAst(f,o);return this._validateStyleAst(d,o),d}_makeStyleAst(f,o){const d=[],m=Array.isArray(f.styles)?f.styles:[f.styles];for(let K of m)"string"==typeof K?K===ss?d.push(K):o.errors.push(new u.vHH(3002,!1)):d.push(Af(K));let E=!1,x=null;return d.forEach(K=>{if(K instanceof Map&&(K.has("easing")&&(x=K.get("easing"),K.delete("easing")),!E))for(let se of K.values())if(se.toString().indexOf("{{")>=0){E=!0;break}}),{type:6,styles:d,easing:x,offset:f.offset,containsDynamicStyles:E,options:null}}_validateStyleAst(f,o){const d=o.currentAnimateTimings;let m=o.currentTime,E=o.currentTime;d&&E>0&&(E-=d.duration+d.delay),f.styles.forEach(x=>{"string"!=typeof x&&x.forEach((K,se)=>{const fe=o.collectedStyles.get(o.currentQuerySelector),Ie=fe.get(se);let ze=!0;Ie&&(E!=m&&E>=Ie.startTime&&m<=Ie.endTime&&(o.errors.push(function Km(c,f,o,d,m){return new u.vHH(3010,!1)}()),ze=!1),E=Ie.startTime),ze&&fe.set(se,{startTime:E,endTime:m}),o.options&&function Of(c,f,o){const d=f.params||{},m=_g(c);m.length&&m.forEach(E=>{d.hasOwnProperty(E)||o.push(function xI(c){return new u.vHH(3001,!1)}())})}(K,o.options,o.errors)})})}visitKeyframes(f,o){const d={type:5,styles:[],options:null};if(!o.currentAnimateTimings)return o.errors.push(function ig(){return new u.vHH(3011,!1)}()),d;let E=0;const x=[];let K=!1,se=!1,fe=0;const Ie=f.steps.map(Gn=>{const Ln=this._makeStyleAst(Gn,o);let En=null!=Ln.offset?Ln.offset:function Za(c){if("string"==typeof c)return null;let f=null;if(Array.isArray(c))c.forEach(o=>{if(o instanceof Map&&o.has("offset")){const d=o;f=parseFloat(d.get("offset")),d.delete("offset")}});else if(c instanceof Map&&c.has("offset")){const o=c;f=parseFloat(o.get("offset")),o.delete("offset")}return f}(Ln.styles),Mn=0;return null!=En&&(E++,Mn=Ln.offset=En),se=se||Mn<0||Mn>1,K=K||Mn<fe,fe=Mn,x.push(Mn),Ln});se&&o.errors.push(function sg(){return new u.vHH(3012,!1)}()),K&&o.errors.push(function By(){return new u.vHH(3200,!1)}());const ze=f.steps.length;let ht=0;E>0&&E<ze?o.errors.push(function Ol(){return new u.vHH(3202,!1)}()):0==E&&(ht=1/(ze-1));const dt=ze-1,Mt=o.currentTime,jt=o.currentAnimateTimings,$t=jt.duration;return Ie.forEach((Gn,Ln)=>{const En=ht>0?Ln==dt?1:ht*Ln:x[Ln],Mn=En*$t;o.currentTime=Mt+jt.delay+Mn,jt.duration=Mn,this._validateStyleAst(Gn,o),Gn.offset=En,d.styles.push(Gn)}),d}visitReference(f,o){return{type:8,animation:_c(this,Dd(f.animation),o),options:bh(f.options)}}visitAnimateChild(f,o){return o.depCount++,{type:9,options:bh(f.options)}}visitAnimateRef(f,o){return{type:10,animation:this.visitReference(f.animation,o),options:bh(f.options)}}visitQuery(f,o){const d=o.currentQuerySelector,m=f.options||{};o.queryCount++,o.currentQuery=f;const[E,x]=function Ig(c){const f=!!c.split(/\s*,\s*/).find(o=>":self"==o);return f&&(c=c.replace(nl,"")),c=c.replace(/@\*/g,_h).replace(/@\w+/g,o=>_h+"-"+o.slice(1)).replace(/:animating/g,rr),[c,f]}(f.selector);o.currentQuerySelector=d.length?d+" "+E:E,So(o.collectedStyles,o.currentQuerySelector,new Map);const K=_c(this,Dd(f.animation),o);return o.currentQuery=null,o.currentQuerySelector=d,{type:11,selector:E,limit:m.limit||0,optional:!!m.optional,includeSelf:x,animation:K,originalSelector:f.selector,options:bh(f.options)}}visitStagger(f,o){o.currentQuery||o.errors.push(function tb(){return new u.vHH(3013,!1)}());const d="full"===f.timings?{duration:0,delay:0,easing:"full"}:bu(f.timings,o.errors,!0);return{type:12,animation:_c(this,Dd(f.animation),o),timings:d,options:null}}}class pb{constructor(f){this.errors=f,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function bh(c){return c?(c=pg(c)).params&&(c.params=function n_(c){return c?pg(c):null}(c.params)):c={},c}function xf(c,f,o){return{duration:c,delay:f,easing:o}}function qy(c,f,o,d,m,E,x=null,K=!1){return{type:1,element:c,keyframes:f,preStyleProps:o,postStyleProps:d,duration:m,delay:E,totalTime:m+E,easing:x,subTimeline:K}}class Eg{constructor(){this._map=new Map}get(f){return this._map.get(f)||[]}append(f,o){let d=this._map.get(f);d||this._map.set(f,d=[]),d.push(...o)}has(f){return this._map.has(f)}clear(){this._map.clear()}}const Rf=new RegExp(":enter","g"),gb=new RegExp(":leave","g");function rd(c,f,o,d,m,E=new Map,x=new Map,K,se,fe=[]){return(new Ky).buildKeyframes(c,f,o,d,m,E,x,K,se,fe)}class Ky{buildKeyframes(f,o,d,m,E,x,K,se,fe,Ie=[]){fe=fe||new Eg;const ze=new Tu(f,o,fe,m,E,Ie,[]);ze.options=se;const ht=se.delay?el(se.delay):0;ze.currentTimeline.delayNextStep(ht),ze.currentTimeline.setStyles([x],null,ze.errors,se),_c(this,d,ze);const dt=ze.timelines.filter(Mt=>Mt.containsAnimation());if(dt.length&&K.size){let Mt;for(let jt=dt.length-1;jt>=0;jt--){const $t=dt[jt];if($t.element===o){Mt=$t;break}}Mt&&!Mt.allowOnlyTimelineStyles()&&Mt.setStyles([K],null,ze.errors,se)}return dt.length?dt.map(Mt=>Mt.buildKeyframes()):[qy(o,[],[],[],0,ht,"",!1)]}visitTrigger(f,o){}visitState(f,o){}visitTransition(f,o){}visitAnimateChild(f,o){const d=o.subInstructions.get(o.element);if(d){const m=o.createSubContext(f.options),E=o.currentTimeline.currentTime,x=this._visitSubInstructions(d,m,m.options);E!=x&&o.transformIntoNewTimeline(x)}o.previousNode=f}visitAnimateRef(f,o){const d=o.createSubContext(f.options);d.transformIntoNewTimeline(),this._applyAnimationRefDelays([f.options,f.animation.options],o,d),this.visitReference(f.animation,d),o.transformIntoNewTimeline(d.currentTimeline.currentTime),o.previousNode=f}_applyAnimationRefDelays(f,o,d){for(const m of f){const E=m?.delay;if(E){const x="number"==typeof E?E:el(xl(E,m?.params??{},o.errors));d.delayNextStep(x)}}}_visitSubInstructions(f,o,d){let E=o.currentTimeline.currentTime;const x=null!=d.duration?el(d.duration):null,K=null!=d.delay?el(d.delay):null;return 0!==x&&f.forEach(se=>{const fe=o.appendInstructionToTimeline(se,x,K);E=Math.max(E,fe.duration+fe.delay)}),E}visitReference(f,o){o.updateOptions(f.options,!0),_c(this,f.animation,o),o.previousNode=f}visitSequence(f,o){const d=o.subContextCount;let m=o;const E=f.options;if(E&&(E.params||E.delay)&&(m=o.createSubContext(E),m.transformIntoNewTimeline(),null!=E.delay)){6==m.previousNode.type&&(m.currentTimeline.snapshotCurrentStyles(),m.previousNode=Ms);const x=el(E.delay);m.delayNextStep(x)}f.steps.length&&(f.steps.forEach(x=>_c(this,x,m)),m.currentTimeline.applyStylesToKeyframe(),m.subContextCount>d&&m.transformIntoNewTimeline()),o.previousNode=f}visitGroup(f,o){const d=[];let m=o.currentTimeline.currentTime;const E=f.options&&f.options.delay?el(f.options.delay):0;f.steps.forEach(x=>{const K=o.createSubContext(f.options);E&&K.delayNextStep(E),_c(this,x,K),m=Math.max(m,K.currentTimeline.currentTime),d.push(K.currentTimeline)}),d.forEach(x=>o.currentTimeline.mergeTimelineCollectedStyles(x)),o.transformIntoNewTimeline(m),o.previousNode=f}_visitTiming(f,o){if(f.dynamic){const d=f.strValue;return bu(o.params?xl(d,o.params,o.errors):d,o.errors)}return{duration:f.duration,delay:f.delay,easing:f.easing}}visitAnimate(f,o){const d=o.currentAnimateTimings=this._visitTiming(f.timings,o),m=o.currentTimeline;d.delay&&(o.incrementTime(d.delay),m.snapshotCurrentStyles());const E=f.style;5==E.type?this.visitKeyframes(E,o):(o.incrementTime(d.duration),this.visitStyle(E,o),m.applyStylesToKeyframe()),o.currentAnimateTimings=null,o.previousNode=f}visitStyle(f,o){const d=o.currentTimeline,m=o.currentAnimateTimings;!m&&d.hasCurrentStyleProperties()&&d.forwardFrame();const E=m&&m.easing||f.easing;f.isEmptyStep?d.applyEmptyStep(E):d.setStyles(f.styles,E,o.errors,o.options),o.previousNode=f}visitKeyframes(f,o){const d=o.currentAnimateTimings,m=o.currentTimeline.duration,E=d.duration,K=o.createSubContext().currentTimeline;K.easing=d.easing,f.styles.forEach(se=>{K.forwardTime((se.offset||0)*E),K.setStyles(se.styles,se.easing,o.errors,o.options),K.applyStylesToKeyframe()}),o.currentTimeline.mergeTimelineCollectedStyles(K),o.transformIntoNewTimeline(m+E),o.previousNode=f}visitQuery(f,o){const d=o.currentTimeline.currentTime,m=f.options||{},E=m.delay?el(m.delay):0;E&&(6===o.previousNode.type||0==d&&o.currentTimeline.hasCurrentStyleProperties())&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=Ms);let x=d;const K=o.invokeQuery(f.selector,f.originalSelector,f.limit,f.includeSelf,!!m.optional,o.errors);o.currentQueryTotal=K.length;let se=null;K.forEach((fe,Ie)=>{o.currentQueryIndex=Ie;const ze=o.createSubContext(f.options,fe);E&&ze.delayNextStep(E),fe===o.element&&(se=ze.currentTimeline),_c(this,f.animation,ze),ze.currentTimeline.applyStylesToKeyframe(),x=Math.max(x,ze.currentTimeline.currentTime)}),o.currentQueryIndex=0,o.currentQueryTotal=0,o.transformIntoNewTimeline(x),se&&(o.currentTimeline.mergeTimelineCollectedStyles(se),o.currentTimeline.snapshotCurrentStyles()),o.previousNode=f}visitStagger(f,o){const d=o.parentContext,m=o.currentTimeline,E=f.timings,x=Math.abs(E.duration),K=x*(o.currentQueryTotal-1);let se=x*o.currentQueryIndex;switch(E.duration<0?"reverse":E.easing){case"reverse":se=K-se;break;case"full":se=d.currentStaggerTime}const Ie=o.currentTimeline;se&&Ie.delayNextStep(se);const ze=Ie.currentTime;_c(this,f.animation,o),o.previousNode=f,d.currentStaggerTime=m.currentTime-ze+(m.startTime-d.currentTimeline.startTime)}}const Ms={};class Tu{constructor(f,o,d,m,E,x,K,se){this._driver=f,this.element=o,this.subInstructions=d,this._enterClassName=m,this._leaveClassName=E,this.errors=x,this.timelines=K,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ms,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=se||new Ao(this._driver,o,0),K.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(f,o){if(!f)return;const d=f;let m=this.options;null!=d.duration&&(m.duration=el(d.duration)),null!=d.delay&&(m.delay=el(d.delay));const E=d.params;if(E){let x=m.params;x||(x=this.options.params={}),Object.keys(E).forEach(K=>{(!o||!x.hasOwnProperty(K))&&(x[K]=xl(E[K],x,this.errors))})}}_copyOptions(){const f={};if(this.options){const o=this.options.params;if(o){const d=f.params={};Object.keys(o).forEach(m=>{d[m]=o[m]})}}return f}createSubContext(f=null,o,d){const m=o||this.element,E=new Tu(this._driver,m,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(m,d||0));return E.previousNode=this.previousNode,E.currentAnimateTimings=this.currentAnimateTimings,E.options=this._copyOptions(),E.updateOptions(f),E.currentQueryIndex=this.currentQueryIndex,E.currentQueryTotal=this.currentQueryTotal,E.parentContext=this,this.subContextCount++,E}transformIntoNewTimeline(f){return this.previousNode=Ms,this.currentTimeline=this.currentTimeline.fork(this.element,f),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(f,o,d){const m={duration:o??f.duration,delay:this.currentTimeline.currentTime+(d??0)+f.delay,easing:""},E=new Yy(this._driver,f.element,f.keyframes,f.preStyleProps,f.postStyleProps,m,f.stretchStartingKeyframe);return this.timelines.push(E),m}incrementTime(f){this.currentTimeline.forwardTime(this.currentTimeline.duration+f)}delayNextStep(f){f>0&&this.currentTimeline.delayNextStep(f)}invokeQuery(f,o,d,m,E,x){let K=[];if(m&&K.push(this.element),f.length>0){f=(f=f.replace(Rf,"."+this._enterClassName)).replace(gb,"."+this._leaveClassName);let fe=this._driver.query(this.element,f,1!=d);0!==d&&(fe=d<0?fe.slice(fe.length+d,fe.length):fe.slice(0,d)),K.push(...fe)}return!E&&0==K.length&&x.push(function RI(c){return new u.vHH(3014,!1)}()),K}}class Ao{constructor(f,o,d,m){this._driver=f,this.element=o,this.startTime=d,this._elementTimelineStylesLookup=m,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(o),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(o,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(f){const o=1===this._keyframes.size&&this._pendingStyles.size;this.duration||o?(this.forwardTime(this.currentTime+f),o&&this.snapshotCurrentStyles()):this.startTime+=f}fork(f,o){return this.applyStylesToKeyframe(),new Ao(this._driver,f,o||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(f){this.applyStylesToKeyframe(),this.duration=f,this._loadKeyframe()}_updateStyle(f,o){this._localTimelineStyles.set(f,o),this._globalTimelineStyles.set(f,o),this._styleSummary.set(f,{time:this.currentTime,value:o})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(f){f&&this._previousKeyframe.set("easing",f);for(let[o,d]of this._globalTimelineStyles)this._backFill.set(o,d||ss),this._currentKeyframe.set(o,ss);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(f,o,d,m){o&&this._previousKeyframe.set("easing",o);const E=m&&m.params||{},x=function Pt(c,f){const o=new Map;let d;return c.forEach(m=>{if("*"===m){d=d||f.keys();for(let E of d)o.set(E,ss)}else Bc(m,o)}),o}(f,this._globalTimelineStyles);for(let[K,se]of x){const fe=xl(se,E,d);this._pendingStyles.set(K,fe),this._localTimelineStyles.has(K)||this._backFill.set(K,this._globalTimelineStyles.get(K)??ss),this._updateStyle(K,fe)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((f,o)=>{this._currentKeyframe.set(o,f)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((f,o)=>{this._currentKeyframe.has(o)||this._currentKeyframe.set(o,f)}))}snapshotCurrentStyles(){for(let[f,o]of this._localTimelineStyles)this._pendingStyles.set(f,o),this._updateStyle(f,o)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const f=[];for(let o in this._currentKeyframe)f.push(o);return f}mergeTimelineCollectedStyles(f){f._styleSummary.forEach((o,d)=>{const m=this._styleSummary.get(d);(!m||o.time>m.time)&&this._updateStyle(d,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();const f=new Set,o=new Set,d=1===this._keyframes.size&&0===this.duration;let m=[];this._keyframes.forEach((K,se)=>{const fe=Bc(K,new Map,this._backFill);fe.forEach((Ie,ze)=>{"!"===Ie?f.add(ze):Ie===ss&&o.add(ze)}),d||fe.set("offset",se/this.duration),m.push(fe)});const E=f.size?yg(f.values()):[],x=o.size?yg(o.values()):[];if(d){const K=m[0],se=new Map(K);K.set("offset",0),se.set("offset",1),m=[K,se]}return qy(this.element,m,E,x,this.duration,this.startTime,this.easing,!1)}}class Yy extends Ao{constructor(f,o,d,m,E,x,K=!1){super(f,o,x.delay),this.keyframes=d,this.preStyleProps=m,this.postStyleProps=E,this._stretchStartingKeyframe=K,this.timings={duration:x.duration,delay:x.delay,easing:x.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let f=this.keyframes,{delay:o,duration:d,easing:m}=this.timings;if(this._stretchStartingKeyframe&&o){const E=[],x=d+o,K=o/x,se=Bc(f[0]);se.set("offset",0),E.push(se);const fe=Bc(f[0]);fe.set("offset",BI(K)),E.push(fe);const Ie=f.length-1;for(let ze=1;ze<=Ie;ze++){let ht=Bc(f[ze]);const dt=ht.get("offset");ht.set("offset",BI((o+dt*d)/x)),E.push(ht)}d=x,o=0,m="",f=E}return qy(this.element,f,this.preStyleProps,this.postStyleProps,d,o,m,!0)}}function BI(c,f=3){const o=Math.pow(10,f-1);return Math.round(c*o)/o}class vc{}const yn=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class On extends vc{normalizePropertyName(f,o){return vg(f)}normalizeStyleValue(f,o,d,m){let E="";const x=d.toString().trim();if(yn.has(o)&&0!==d&&"0"!==d)if("number"==typeof d)E="px";else{const K=d.match(/^[+-]?[\d\.]+([a-z]*)$/);K&&0==K[1].length&&m.push(function ga(c,f){return new u.vHH(3005,!1)}())}return x+E}}function _b(c,f,o,d,m,E,x,K,se,fe,Ie,ze,ht){return{type:0,element:c,triggerName:f,isRemovalTransition:m,fromState:o,fromStyles:E,toState:d,toStyles:x,timelines:K,queriedElements:se,preStyleProps:fe,postStyleProps:Ie,totalTime:ze,errors:ht}}const Kt={};class ot{constructor(f,o,d){this._triggerName=f,this.ast=o,this._stateStyles=d}match(f,o,d,m){return function oo(c,f,o,d,m){return c.some(E=>E(f,o,d,m))}(this.ast.matchers,f,o,d,m)}buildStyles(f,o,d){let m=this._stateStyles.get("*");return void 0!==f&&(m=this._stateStyles.get(f?.toString())||m),m?m.buildStyles(o,d):new Map}build(f,o,d,m,E,x,K,se,fe,Ie){const ze=[],ht=this.ast.options&&this.ast.options.params||Kt,Mt=this.buildStyles(d,K&&K.params||Kt,ze),jt=se&&se.params||Kt,$t=this.buildStyles(m,jt,ze),Gn=new Set,Ln=new Map,En=new Map,Mn="void"===m,ar={params:Jy(jt,ht),delay:this.ast.options?.delay},dr=Ie?[]:rd(f,o,this.ast.animation,E,x,Mt,$t,ar,fe,ze);let vr=0;if(dr.forEach(pi=>{vr=Math.max(pi.duration+pi.delay,vr)}),ze.length)return _b(o,this._triggerName,d,m,Mn,Mt,$t,[],[],Ln,En,vr,ze);dr.forEach(pi=>{const oi=pi.element,es=So(Ln,oi,new Set);pi.preStyleProps.forEach(ds=>es.add(ds));const ts=So(En,oi,new Set);pi.postStyleProps.forEach(ds=>ts.add(ds)),oi!==o&&Gn.add(oi)});const Tr=yg(Gn.values());return _b(o,this._triggerName,d,m,Mn,Mt,$t,dr,Tr,Ln,En,vr)}}function Jy(c,f){const o=pg(f);for(const d in c)c.hasOwnProperty(d)&&null!=c[d]&&(o[d]=c[d]);return o}class UI{constructor(f,o,d){this.styles=f,this.defaultParams=o,this.normalizer=d}buildStyles(f,o){const d=new Map,m=pg(this.defaultParams);return Object.keys(f).forEach(E=>{const x=f[E];null!==x&&(m[E]=x)}),this.styles.styles.forEach(E=>{"string"!=typeof E&&E.forEach((x,K)=>{x&&(x=xl(x,m,o));const se=this.normalizer.normalizePropertyName(K,o);x=this.normalizer.normalizeStyleValue(K,se,x,o),d.set(K,x)})}),d}}class yb{constructor(f,o,d){this.name=f,this.ast=o,this._normalizer=d,this.transitionFactories=[],this.states=new Map,o.states.forEach(m=>{this.states.set(m.name,new UI(m.style,m.options&&m.options.params||{},d))}),Pf(this.states,"true","1"),Pf(this.states,"false","0"),o.transitions.forEach(m=>{this.transitionFactories.push(new ot(f,m,this.states))}),this.fallbackTransition=function vb(c,f,o){return new ot(c,{type:1,animation:{type:2,steps:[],options:null},matchers:[(x,K)=>!0],options:null,queryCount:0,depCount:0},f)}(f,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(f,o,d,m){return this.transitionFactories.find(x=>x.match(f,o,d,m))||null}matchStyles(f,o,d){return this.fallbackTransition.buildStyles(f,o,d)}}function Pf(c,f,o){c.has(f)?c.has(o)||c.set(o,c.get(f)):c.has(o)&&c.set(f,c.get(o))}const bb=new Eg;class wb{constructor(f,o,d){this.bodyNode=f,this._driver=o,this._normalizer=d,this._animations=new Map,this._playersById=new Map,this.players=[]}register(f,o){const d=[],E=Js(this._driver,o,d,[]);if(d.length)throw function Ym(c){return new u.vHH(3503,!1)}();this._animations.set(f,E)}_buildPlayer(f,o,d){const m=f.element,E=ab(this._normalizer,f.keyframes,o,d);return this._driver.animate(m,E,f.duration,f.delay,f.easing,[],!0)}create(f,o,d={}){const m=[],E=this._animations.get(f);let x;const K=new Map;if(E?(x=rd(this._driver,o,E,ug,dg,new Map,new Map,d,bb,m),x.forEach(Ie=>{const ze=So(K,Ie.element,new Map);Ie.postStyleProps.forEach(ht=>ze.set(ht,null))})):(m.push(function ph(){return new u.vHH(3300,!1)}()),x=[]),m.length)throw function ib(c){return new u.vHH(3504,!1)}();K.forEach((Ie,ze)=>{Ie.forEach((ht,dt)=>{Ie.set(dt,this._driver.computeStyle(ze,dt,ss))})});const fe=Fc(x.map(Ie=>{const ze=K.get(Ie.element);return this._buildPlayer(Ie,new Map,ze)}));return this._playersById.set(f,fe),fe.onDestroy(()=>this.destroy(f)),this.players.push(fe),fe}destroy(f){const o=this._getPlayer(f);o.destroy(),this._playersById.delete(f);const d=this.players.indexOf(o);d>=0&&this.players.splice(d,1)}_getPlayer(f){const o=this._playersById.get(f);if(!o)throw function PI(c){return new u.vHH(3301,!1)}();return o}listen(f,o,d,m){const E=mh(o,"","","");return Gy(this._getPlayer(f),d,E,m),()=>{}}command(f,o,d,m){if("register"==d)return void this.register(f,m[0]);if("create"==d)return void this.create(f,o,m[0]||{});const E=this._getPlayer(f);switch(d){case"play":E.play();break;case"pause":E.pause();break;case"reset":E.reset();break;case"restart":E.restart();break;case"finish":E.finish();break;case"init":E.init();break;case"setPosition":E.setPosition(parseFloat(m[0]));break;case"destroy":this.destroy(f)}}}const Ib="ng-animate-queued",i_="ng-animate-disabled",vs=[],Pn={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Tg={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ur="__ng_removed";class Qy{get params(){return this.options.params}constructor(f,o=""){this.namespaceId=o;const d=f&&f.hasOwnProperty("value");if(this.value=function s_(c){return c??null}(d?f.value:f),d){const E=pg(f);delete E.value,this.options=E}else this.options={};this.options.params||(this.options.params={})}absorbOptions(f){const o=f.params;if(o){const d=this.options.params;Object.keys(o).forEach(m=>{null==d[m]&&(d[m]=o[m])})}}}const Qi="void",Jt=new Qy(Qi);class Ff{constructor(f,o,d){this.id=f,this.hostElement=o,this._engine=d,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+f,Ya(o,this._hostClassName)}listen(f,o,d,m){if(!this._triggers.has(o))throw function Uy(c,f){return new u.vHH(3302,!1)}();if(null==d||0==d.length)throw function sb(c){return new u.vHH(3303,!1)}();if(!function Dg(c){return"start"==c||"done"==c}(d))throw function ob(c,f){return new u.vHH(3400,!1)}();const E=So(this._elementListeners,f,[]),x={name:o,phase:d,callback:m};E.push(x);const K=So(this._engine.statesByElement,f,new Map);return K.has(o)||(Ya(f,hg),Ya(f,hg+"-"+o),K.set(o,Jt)),()=>{this._engine.afterFlush(()=>{const se=E.indexOf(x);se>=0&&E.splice(se,1),this._triggers.has(o)||K.delete(o)})}}register(f,o){return!this._triggers.has(f)&&(this._triggers.set(f,o),!0)}_getTrigger(f){const o=this._triggers.get(f);if(!o)throw function Vy(c){return new u.vHH(3401,!1)}();return o}trigger(f,o,d,m=!0){const E=this._getTrigger(o),x=new rl(this.id,o,f);let K=this._engine.statesByElement.get(f);K||(Ya(f,hg),Ya(f,hg+"-"+o),this._engine.statesByElement.set(f,K=new Map));let se=K.get(o);const fe=new Qy(d,this.id);if(!(d&&d.hasOwnProperty("value"))&&se&&fe.absorbOptions(se.options),K.set(o,fe),se||(se=Jt),fe.value!==Qi&&se.value===fe.value){if(!function et(c,f){const o=Object.keys(c),d=Object.keys(f);if(o.length!=d.length)return!1;for(let m=0;m<o.length;m++){const E=o[m];if(!f.hasOwnProperty(E)||c[E]!==f[E])return!1}return!0}(se.params,fe.params)){const jt=[],$t=E.matchStyles(se.value,se.params,jt),Gn=E.matchStyles(fe.value,fe.params,jt);jt.length?this._engine.reportError(jt):this._engine.afterFlush(()=>{Ml(f,$t),Uc(f,Gn)})}return}const ht=So(this._engine.playersByElement,f,[]);ht.forEach(jt=>{jt.namespaceId==this.id&&jt.triggerName==o&&jt.queued&&jt.destroy()});let dt=E.matchTransition(se.value,fe.value,f,fe.params),Mt=!1;if(!dt){if(!m)return;dt=E.fallbackTransition,Mt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:f,triggerName:o,transition:dt,fromState:se,toState:fe,player:x,isFallbackTransition:Mt}),Mt||(Ya(f,Ib),x.onStart(()=>{Cd(f,Ib)})),x.onDone(()=>{let jt=this.players.indexOf(x);jt>=0&&this.players.splice(jt,1);const $t=this._engine.playersByElement.get(f);if($t){let Gn=$t.indexOf(x);Gn>=0&&$t.splice(Gn,1)}}),this.players.push(x),ht.push(x),x}deregister(f){this._triggers.delete(f),this._engine.statesByElement.forEach(o=>o.delete(f)),this._elementListeners.forEach((o,d)=>{this._elementListeners.set(d,o.filter(m=>m.name!=f))})}clearElementCache(f){this._engine.statesByElement.delete(f),this._elementListeners.delete(f);const o=this._engine.playersByElement.get(f);o&&(o.forEach(d=>d.destroy()),this._engine.playersByElement.delete(f))}_signalRemovalForInnerTriggers(f,o){const d=this._engine.driver.query(f,_h,!0);d.forEach(m=>{if(m[ur])return;const E=this._engine.fetchNamespacesByElement(m);E.size?E.forEach(x=>x.triggerLeaveAnimation(m,o,!1,!0)):this.clearElementCache(m)}),this._engine.afterFlushAnimationsDone(()=>d.forEach(m=>this.clearElementCache(m)))}triggerLeaveAnimation(f,o,d,m){const E=this._engine.statesByElement.get(f),x=new Map;if(E){const K=[];if(E.forEach((se,fe)=>{if(x.set(fe,se.value),this._triggers.has(fe)){const Ie=this.trigger(f,fe,Qi,m);Ie&&K.push(Ie)}}),K.length)return this._engine.markElementAsRemoved(this.id,f,!0,o,x),d&&Fc(K).onDone(()=>this._engine.processLeaveNode(f)),!0}return!1}prepareLeaveAnimationListeners(f){const o=this._elementListeners.get(f),d=this._engine.statesByElement.get(f);if(o&&d){const m=new Set;o.forEach(E=>{const x=E.name;if(m.has(x))return;m.add(x);const se=this._triggers.get(x).fallbackTransition,fe=d.get(x)||Jt,Ie=new Qy(Qi),ze=new rl(this.id,x,f);this._engine.totalQueuedPlayers++,this._queue.push({element:f,triggerName:x,transition:se,fromState:fe,toState:Ie,player:ze,isFallbackTransition:!0})})}}removeNode(f,o){const d=this._engine;if(f.childElementCount&&this._signalRemovalForInnerTriggers(f,o),this.triggerLeaveAnimation(f,o,!0))return;let m=!1;if(d.totalAnimations){const E=d.players.length?d.playersByQueriedElement.get(f):[];if(E&&E.length)m=!0;else{let x=f;for(;x=x.parentNode;)if(d.statesByElement.get(x)){m=!0;break}}}if(this.prepareLeaveAnimationListeners(f),m)d.markElementAsRemoved(this.id,f,!1,o);else{const E=f[ur];(!E||E===Pn)&&(d.afterFlush(()=>this.clearElementCache(f)),d.destroyInnerAnimations(f),d._onRemovalComplete(f,o))}}insertNode(f,o){Ya(f,this._hostClassName)}drainQueuedTransitions(f){const o=[];return this._queue.forEach(d=>{const m=d.player;if(m.destroyed)return;const E=d.element,x=this._elementListeners.get(E);x&&x.forEach(K=>{if(K.name==d.triggerName){const se=mh(E,d.triggerName,d.fromState.value,d.toState.value);se._data=f,Gy(d.player,K.phase,se,K.callback)}}),m.markedForDestroy?this._engine.afterFlush(()=>{m.destroy()}):o.push(d)}),this._queue=[],o.sort((d,m)=>{const E=d.transition.ast.depCount,x=m.transition.ast.depCount;return 0==E||0==x?E-x:this._engine.driver.containsElement(d.element,m.element)?1:-1})}destroy(f){this.players.forEach(o=>o.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,f)}}class Xy{_onRemovalComplete(f,o){this.onRemovalComplete(f,o)}constructor(f,o,d){this.bodyNode=f,this.driver=o,this._normalizer=d,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(m,E)=>{}}get queuedPlayers(){const f=[];return this._namespaceList.forEach(o=>{o.players.forEach(d=>{d.queued&&f.push(d)})}),f}createNamespace(f,o){const d=new Ff(f,o,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,o)?this._balanceNamespaceList(d,o):(this.newHostElements.set(o,d),this.collectEnterElement(o)),this._namespaceLookup[f]=d}_balanceNamespaceList(f,o){const d=this._namespaceList,m=this.namespacesByHostElement;if(d.length-1>=0){let x=!1,K=this.driver.getParentElement(o);for(;K;){const se=m.get(K);if(se){const fe=d.indexOf(se);d.splice(fe+1,0,f),x=!0;break}K=this.driver.getParentElement(K)}x||d.unshift(f)}else d.push(f);return m.set(o,f),f}register(f,o){let d=this._namespaceLookup[f];return d||(d=this.createNamespace(f,o)),d}registerTrigger(f,o,d){let m=this._namespaceLookup[f];m&&m.register(o,d)&&this.totalAnimations++}destroy(f,o){f&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const d=this._fetchNamespace(f);this.namespacesByHostElement.delete(d.hostElement);const m=this._namespaceList.indexOf(d);m>=0&&this._namespaceList.splice(m,1),d.destroy(o),delete this._namespaceLookup[f]}))}_fetchNamespace(f){return this._namespaceLookup[f]}fetchNamespacesByElement(f){const o=new Set,d=this.statesByElement.get(f);if(d)for(let m of d.values())if(m.namespaceId){const E=this._fetchNamespace(m.namespaceId);E&&o.add(E)}return o}trigger(f,o,d,m){if(o_(o)){const E=this._fetchNamespace(f);if(E)return E.trigger(o,d,m),!0}return!1}insertNode(f,o,d,m){if(!o_(o))return;const E=o[ur];if(E&&E.setForRemoval){E.setForRemoval=!1,E.setForMove=!0;const x=this.collectedLeaveElements.indexOf(o);x>=0&&this.collectedLeaveElements.splice(x,1)}if(f){const x=this._fetchNamespace(f);x&&x.insertNode(o,d)}m&&this.collectEnterElement(o)}collectEnterElement(f){this.collectedEnterElements.push(f)}markElementAsDisabled(f,o){o?this.disabledNodes.has(f)||(this.disabledNodes.add(f),Ya(f,i_)):this.disabledNodes.has(f)&&(this.disabledNodes.delete(f),Cd(f,i_))}removeNode(f,o,d){if(o_(o)){const m=f?this._fetchNamespace(f):null;m?m.removeNode(o,d):this.markElementAsRemoved(f,o,!1,d);const E=this.namespacesByHostElement.get(o);E&&E.id!==f&&E.removeNode(o,d)}else this._onRemovalComplete(o,d)}markElementAsRemoved(f,o,d,m,E){this.collectedLeaveElements.push(o),o[ur]={namespaceId:f,setForRemoval:m,hasAnimation:d,removedBeforeQueried:!1,previousTriggersValues:E}}listen(f,o,d,m,E){return o_(o)?this._fetchNamespace(f).listen(o,d,m,E):()=>{}}_buildInstruction(f,o,d,m,E){return f.transition.build(this.driver,f.element,f.fromState.value,f.toState.value,d,m,f.fromState.options,f.toState.options,o,E)}destroyInnerAnimations(f){let o=this.driver.query(f,_h,!0);o.forEach(d=>this.destroyActiveAnimationsForElement(d)),0!=this.playersByQueriedElement.size&&(o=this.driver.query(f,rr,!0),o.forEach(d=>this.finishActiveQueriedAnimationOnElement(d)))}destroyActiveAnimationsForElement(f){const o=this.playersByElement.get(f);o&&o.forEach(d=>{d.queued?d.markedForDestroy=!0:d.destroy()})}finishActiveQueriedAnimationOnElement(f){const o=this.playersByQueriedElement.get(f);o&&o.forEach(d=>d.finish())}whenRenderingDone(){return new Promise(f=>{if(this.players.length)return Fc(this.players).onDone(()=>f());f()})}processLeaveNode(f){const o=f[ur];if(o&&o.setForRemoval){if(f[ur]=Pn,o.namespaceId){this.destroyInnerAnimations(f);const d=this._fetchNamespace(o.namespaceId);d&&d.clearElementCache(f)}this._onRemovalComplete(f,o.setForRemoval)}f.classList?.contains(i_)&&this.markElementAsDisabled(f,!1),this.driver.query(f,".ng-animate-disabled",!0).forEach(d=>{this.markElementAsDisabled(d,!1)})}flush(f=-1){let o=[];if(this.newHostElements.size&&(this.newHostElements.forEach((d,m)=>this._balanceNamespaceList(d,m)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let d=0;d<this.collectedEnterElements.length;d++)Ya(this.collectedEnterElements[d],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const d=[];try{o=this._flushAnimations(d,f)}finally{for(let m=0;m<d.length;m++)d[m]()}}else for(let d=0;d<this.collectedLeaveElements.length;d++)this.processLeaveNode(this.collectedLeaveElements[d]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(d=>d()),this._flushFns=[],this._whenQuietFns.length){const d=this._whenQuietFns;this._whenQuietFns=[],o.length?Fc(o).onDone(()=>{d.forEach(m=>m())}):d.forEach(m=>m())}}reportError(f){throw function Hy(c){return new u.vHH(3402,!1)}()}_flushAnimations(f,o){const d=new Eg,m=[],E=new Map,x=[],K=new Map,se=new Map,fe=new Map,Ie=new Set;this.disabledNodes.forEach(Qt=>{Ie.add(Qt);const Tn=this.driver.query(Qt,".ng-animate-queued",!0);for(let $n=0;$n<Tn.length;$n++)Ie.add(Tn[$n])});const ze=this.bodyNode,ht=Array.from(this.statesByElement.keys()),dt=Ka(ht,this.collectedEnterElements),Mt=new Map;let jt=0;dt.forEach((Qt,Tn)=>{const $n=ug+jt++;Mt.set(Tn,$n),Qt.forEach(pr=>Ya(pr,$n))});const $t=[],Gn=new Set,Ln=new Set;for(let Qt=0;Qt<this.collectedLeaveElements.length;Qt++){const Tn=this.collectedLeaveElements[Qt],$n=Tn[ur];$n&&$n.setForRemoval&&($t.push(Tn),Gn.add(Tn),$n.hasAnimation?this.driver.query(Tn,".ng-star-inserted",!0).forEach(pr=>Gn.add(pr)):Ln.add(Tn))}const En=new Map,Mn=Ka(ht,Array.from(Gn));Mn.forEach((Qt,Tn)=>{const $n=dg+jt++;En.set(Tn,$n),Qt.forEach(pr=>Ya(pr,$n))}),f.push(()=>{dt.forEach((Qt,Tn)=>{const $n=Mt.get(Tn);Qt.forEach(pr=>Cd(pr,$n))}),Mn.forEach((Qt,Tn)=>{const $n=En.get(Tn);Qt.forEach(pr=>Cd(pr,$n))}),$t.forEach(Qt=>{this.processLeaveNode(Qt)})});const ar=[],dr=[];for(let Qt=this._namespaceList.length-1;Qt>=0;Qt--)this._namespaceList[Qt].drainQueuedTransitions(o).forEach($n=>{const pr=$n.player,ns=$n.element;if(ar.push(pr),this.collectedEnterElements.length){const ws=ns[ur];if(ws&&ws.setForMove){if(ws.previousTriggersValues&&ws.previousTriggersValues.has($n.triggerName)){const Yo=ws.previousTriggersValues.get($n.triggerName),va=this.statesByElement.get($n.element);if(va&&va.has($n.triggerName)){const Ph=va.get($n.triggerName);Ph.value=Yo,va.set($n.triggerName,Ph)}}return void pr.destroy()}}const wc=!ze||!this.driver.containsElement(ze,ns),No=En.get(ns),ri=Mt.get(ns),Nn=this._buildInstruction($n,d,ri,No,wc);if(Nn.errors&&Nn.errors.length)return void dr.push(Nn);if(wc)return pr.onStart(()=>Ml(ns,Nn.fromStyles)),pr.onDestroy(()=>Uc(ns,Nn.toStyles)),void m.push(pr);if($n.isFallbackTransition)return pr.onStart(()=>Ml(ns,Nn.fromStyles)),pr.onDestroy(()=>Uc(ns,Nn.toStyles)),void m.push(pr);const cl=[];Nn.timelines.forEach(ws=>{ws.stretchStartingKeyframe=!0,this.disabledNodes.has(ws.element)||cl.push(ws)}),Nn.timelines=cl,d.append(ns,Nn.timelines),x.push({instruction:Nn,player:pr,element:ns}),Nn.queriedElements.forEach(ws=>So(K,ws,[]).push(pr)),Nn.preStyleProps.forEach((ws,Yo)=>{if(ws.size){let va=se.get(Yo);va||se.set(Yo,va=new Set),ws.forEach((Ph,cd)=>va.add(cd))}}),Nn.postStyleProps.forEach((ws,Yo)=>{let va=fe.get(Yo);va||fe.set(Yo,va=new Set),ws.forEach((Ph,cd)=>va.add(cd))})});if(dr.length){const Qt=[];dr.forEach(Tn=>{Qt.push(function gh(c,f){return new u.vHH(3505,!1)}())}),ar.forEach(Tn=>Tn.destroy()),this.reportError(Qt)}const vr=new Map,Tr=new Map;x.forEach(Qt=>{const Tn=Qt.element;d.has(Tn)&&(Tr.set(Tn,Tn),this._beforeAnimationBuild(Qt.player.namespaceId,Qt.instruction,vr))}),m.forEach(Qt=>{const Tn=Qt.element;this._getPreviousPlayers(Tn,!1,Qt.namespaceId,Qt.triggerName,null).forEach(pr=>{So(vr,Tn,[]).push(pr),pr.destroy()})});const pi=$t.filter(Qt=>a_(Qt,se,fe)),oi=new Map;tv(oi,this.driver,Ln,fe,ss).forEach(Qt=>{a_(Qt,se,fe)&&pi.push(Qt)});const ts=new Map;dt.forEach((Qt,Tn)=>{tv(ts,this.driver,new Set(Qt),se,"!")}),pi.forEach(Qt=>{const Tn=oi.get(Qt),$n=ts.get(Qt);oi.set(Qt,new Map([...Tn?.entries()??[],...$n?.entries()??[]]))});const ds=[],Vl=[],Hl={};x.forEach(Qt=>{const{element:Tn,player:$n,instruction:pr}=Qt;if(d.has(Tn)){if(Ie.has(Tn))return $n.onDestroy(()=>Uc(Tn,pr.toStyles)),$n.disabled=!0,$n.overrideTotalTime(pr.totalTime),void m.push($n);let ns=Hl;if(Tr.size>1){let No=Tn;const ri=[];for(;No=No.parentNode;){const Nn=Tr.get(No);if(Nn){ns=Nn;break}ri.push(No)}ri.forEach(Nn=>Tr.set(Nn,ns))}const wc=this._buildAnimation($n.namespaceId,pr,vr,E,ts,oi);if($n.setRealPlayer(wc),ns===Hl)ds.push($n);else{const No=this.playersByElement.get(ns);No&&No.length&&($n.parentPlayer=Fc(No)),m.push($n)}}else Ml(Tn,pr.fromStyles),$n.onDestroy(()=>Uc(Tn,pr.toStyles)),Vl.push($n),Ie.has(Tn)&&m.push($n)}),Vl.forEach(Qt=>{const Tn=E.get(Qt.element);if(Tn&&Tn.length){const $n=Fc(Tn);Qt.setRealPlayer($n)}}),m.forEach(Qt=>{Qt.parentPlayer?Qt.syncPlayerEvents(Qt.parentPlayer):Qt.destroy()});for(let Qt=0;Qt<$t.length;Qt++){const Tn=$t[Qt],$n=Tn[ur];if(Cd(Tn,dg),$n&&$n.hasAnimation)continue;let pr=[];if(K.size){let wc=K.get(Tn);wc&&wc.length&&pr.push(...wc);let No=this.driver.query(Tn,rr,!0);for(let ri=0;ri<No.length;ri++){let Nn=K.get(No[ri]);Nn&&Nn.length&&pr.push(...Nn)}}const ns=pr.filter(wc=>!wc.destroyed);ns.length?GI(this,Tn,ns):this.processLeaveNode(Tn)}return $t.length=0,ds.forEach(Qt=>{this.players.push(Qt),Qt.onDone(()=>{Qt.destroy();const Tn=this.players.indexOf(Qt);this.players.splice(Tn,1)}),Qt.play()}),ds}afterFlush(f){this._flushFns.push(f)}afterFlushAnimationsDone(f){this._whenQuietFns.push(f)}_getPreviousPlayers(f,o,d,m,E){let x=[];if(o){const K=this.playersByQueriedElement.get(f);K&&(x=K)}else{const K=this.playersByElement.get(f);if(K){const se=!E||E==Qi;K.forEach(fe=>{fe.queued||!se&&fe.triggerName!=m||x.push(fe)})}}return(d||m)&&(x=x.filter(K=>!(d&&d!=K.namespaceId||m&&m!=K.triggerName))),x}_beforeAnimationBuild(f,o,d){const E=o.element,x=o.isRemovalTransition?void 0:f,K=o.isRemovalTransition?void 0:o.triggerName;for(const se of o.timelines){const fe=se.element,Ie=fe!==E,ze=So(d,fe,[]);this._getPreviousPlayers(fe,Ie,x,K,o.toState).forEach(dt=>{const Mt=dt.getRealPlayer();Mt.beforeDestroy&&Mt.beforeDestroy(),dt.destroy(),ze.push(dt)})}Ml(E,o.fromStyles)}_buildAnimation(f,o,d,m,E,x){const K=o.triggerName,se=o.element,fe=[],Ie=new Set,ze=new Set,ht=o.timelines.map(Mt=>{const jt=Mt.element;Ie.add(jt);const $t=jt[ur];if($t&&$t.removedBeforeQueried)return new Kr(Mt.duration,Mt.delay);const Gn=jt!==se,Ln=function wh(c){const f=[];return Cg(c,f),f}((d.get(jt)||vs).map(vr=>vr.getRealPlayer())).filter(vr=>!!vr.element&&vr.element===jt),En=E.get(jt),Mn=x.get(jt),ar=ab(this._normalizer,Mt.keyframes,En,Mn),dr=this._buildPlayer(Mt,ar,Ln);if(Mt.subTimeline&&m&&ze.add(jt),Gn){const vr=new rl(f,K,jt);vr.setRealPlayer(dr),fe.push(vr)}return dr});fe.forEach(Mt=>{So(this.playersByQueriedElement,Mt.element,[]).push(Mt),Mt.onDone(()=>function jI(c,f,o){let d=c.get(f);if(d){if(d.length){const m=d.indexOf(o);d.splice(m,1)}0==d.length&&c.delete(f)}return d}(this.playersByQueriedElement,Mt.element,Mt))}),Ie.forEach(Mt=>Ya(Mt,yh));const dt=Fc(ht);return dt.onDestroy(()=>{Ie.forEach(Mt=>Cd(Mt,yh)),Uc(se,o.toStyles)}),ze.forEach(Mt=>{So(m,Mt,[]).push(dt)}),dt}_buildPlayer(f,o,d){return o.length>0?this.driver.animate(f.element,o,f.duration,f.delay,f.easing,d):new Kr(f.duration,f.delay)}}class rl{constructor(f,o,d){this.namespaceId=f,this.triggerName=o,this.element=d,this._player=new Kr,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(f){this._containsRealPlayer||(this._player=f,this._queuedCallbacks.forEach((o,d)=>{o.forEach(m=>Gy(f,d,void 0,m))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(f.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(f){this.totalTime=f}syncPlayerEvents(f){const o=this._player;o.triggerCallback&&f.onStart(()=>o.triggerCallback("start")),f.onDone(()=>this.finish()),f.onDestroy(()=>this.destroy())}_queueEvent(f,o){So(this._queuedCallbacks,f,[]).push(o)}onDone(f){this.queued&&this._queueEvent("done",f),this._player.onDone(f)}onStart(f){this.queued&&this._queueEvent("start",f),this._player.onStart(f)}onDestroy(f){this.queued&&this._queueEvent("destroy",f),this._player.onDestroy(f)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(f){this.queued||this._player.setPosition(f)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(f){const o=this._player;o.triggerCallback&&o.triggerCallback(f)}}function o_(c){return c&&1===c.nodeType}function ev(c,f){const o=c.style.display;return c.style.display=f??"none",o}function tv(c,f,o,d,m){const E=[];o.forEach(se=>E.push(ev(se)));const x=[];d.forEach((se,fe)=>{const Ie=new Map;se.forEach(ze=>{const ht=f.computeStyle(fe,ze,m);Ie.set(ze,ht),(!ht||0==ht.length)&&(fe[ur]=Tg,x.push(fe))}),c.set(fe,Ie)});let K=0;return o.forEach(se=>ev(se,E[K++])),x}function Ka(c,f){const o=new Map;if(c.forEach(K=>o.set(K,[])),0==f.length)return o;const m=new Set(f),E=new Map;function x(K){if(!K)return 1;let se=E.get(K);if(se)return se;const fe=K.parentNode;return se=o.has(fe)?fe:m.has(fe)?1:x(fe),E.set(K,se),se}return f.forEach(K=>{const se=x(K);1!==se&&o.get(se).push(K)}),o}function Ya(c,f){c.classList?.add(f)}function Cd(c,f){c.classList?.remove(f)}function GI(c,f,o){Fc(o).onDone(()=>c.processLeaveNode(f))}function Cg(c,f){for(let o=0;o<c.length;o++){const d=c[o];d instanceof Fs?Cg(d.players,f):f.push(d)}}function a_(c,f,o){const d=o.get(c);if(!d)return!1;let m=f.get(c);return m?d.forEach(E=>m.add(E)):f.set(c,d),o.delete(c),!0}class ma{constructor(f,o,d){this.bodyNode=f,this._driver=o,this._normalizer=d,this._triggerCache={},this.onRemovalComplete=(m,E)=>{},this._transitionEngine=new Xy(f,o,d),this._timelineEngine=new wb(f,o,d),this._transitionEngine.onRemovalComplete=(m,E)=>this.onRemovalComplete(m,E)}registerTrigger(f,o,d,m,E){const x=f+"-"+m;let K=this._triggerCache[x];if(!K){const se=[],Ie=Js(this._driver,E,se,[]);if(se.length)throw function nb(c,f){return new u.vHH(3404,!1)}();K=function VI(c,f,o){return new yb(c,f,o)}(m,Ie,this._normalizer),this._triggerCache[x]=K}this._transitionEngine.registerTrigger(o,m,K)}register(f,o){this._transitionEngine.register(f,o)}destroy(f,o){this._transitionEngine.destroy(f,o)}onInsert(f,o,d,m){this._transitionEngine.insertNode(f,o,d,m)}onRemove(f,o,d){this._transitionEngine.removeNode(f,o,d)}disableAnimations(f,o){this._transitionEngine.markElementAsDisabled(f,o)}process(f,o,d,m){if("@"==d.charAt(0)){const[E,x]=td(d);this._timelineEngine.command(E,o,x,m)}else this._transitionEngine.trigger(f,o,d,m)}listen(f,o,d,m,E){if("@"==d.charAt(0)){const[x,K]=td(d);return this._timelineEngine.listen(x,o,K,E)}return this._transitionEngine.listen(f,o,d,m,E)}flush(f=-1){this._transitionEngine.flush(f)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(f){this._transitionEngine.afterFlushAnimationsDone(f)}}let Sg=(()=>{class c{static#e=this.initialStylesByElement=new WeakMap;constructor(o,d,m){this._element=o,this._startStyles=d,this._endStyles=m,this._state=0;let E=c.initialStylesByElement.get(o);E||c.initialStylesByElement.set(o,E=new Map),this._initialStyles=E}start(){this._state<1&&(this._startStyles&&Uc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Uc(this._element,this._initialStyles),this._endStyles&&(Uc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(c.initialStylesByElement.delete(this._element),this._startStyles&&(Ml(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ml(this._element,this._endStyles),this._endStyles=null),Uc(this._element,this._initialStyles),this._state=3)}}return c})();function il(c){let f=null;return c.forEach((o,d)=>{(function zI(c){return"display"===c||"position"===c})(d)&&(f=f||new Map,f.set(d,o))}),f}class _a{constructor(f,o,d,m){this.element=f,this.keyframes=o,this.options=d,this._specialStyles=m,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=d.duration,this._delay=d.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(f=>f()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const f=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,f,this.options),this._finalKeyframe=f.length?f[f.length-1]:new Map;const o=()=>this._onFinish();this.domPlayer.addEventListener("finish",o),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",o)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(f){const o=[];return f.forEach(d=>{o.push(Object.fromEntries(d))}),o}_triggerWebAnimation(f,o,d){return f.animate(this._convertKeyframesToObject(o),d)}onStart(f){this._originalOnStartFns.push(f),this._onStartFns.push(f)}onDone(f){this._originalOnDoneFns.push(f),this._onDoneFns.push(f)}onDestroy(f){this._onDestroyFns.push(f)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(f=>f()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(f=>f()),this._onDestroyFns=[])}setPosition(f){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=f*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const f=new Map;this.hasStarted()&&this._finalKeyframe.forEach((d,m)=>{"offset"!==m&&f.set(m,this._finished?d:Xm(this.element,m))}),this.currentSnapshot=f}triggerCallback(f){const o="start"===f?this._onStartFns:this._onDoneFns;o.forEach(d=>d()),o.length=0}}class Lf{validateStyleProperty(f){return!0}validateAnimatableStyleProperty(f){return!0}matchesElement(f,o){return!1}containsElement(f,o){return FI(f,o)}getParentElement(f){return ag(f)}query(f,o,d){return ub(f,o,d)}computeStyle(f,o,d){return window.getComputedStyle(f)[o]}animate(f,o,d,m,E,x=[]){const se={duration:d,delay:m,fill:0==m?"both":"forwards"};E&&(se.easing=E);const fe=new Map,Ie=x.filter(dt=>dt instanceof _a);(function Qm(c,f){return 0===c||0===f})(d,m)&&Ie.forEach(dt=>{dt.currentSnapshot.forEach((Mt,jt)=>fe.set(jt,Mt))});let ze=function wu(c){return c.length?c[0]instanceof Map?c:c.map(f=>Af(f)):[]}(o).map(dt=>Bc(dt));ze=function Vc(c,f,o){if(o.size&&f.length){let d=f[0],m=[];if(o.forEach((E,x)=>{d.has(x)||m.push(x),d.set(x,E)}),m.length)for(let E=1;E<f.length;E++){let x=f[E];m.forEach(K=>x.set(K,Xm(c,K)))}}return f}(f,ze,fe);const ht=function $I(c,f){let o=null,d=null;return Array.isArray(f)&&f.length?(o=il(f[0]),f.length>1&&(d=il(f[f.length-1]))):f instanceof Map&&(o=il(f)),o||d?new Sg(c,o,d):null}(f,ze);return new _a(f,ze,se,ht)}}let Ko=(()=>{class c extends Po{constructor(o,d){super(),this._nextAnimationId=0,this._renderer=o.createRenderer(d.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(o){const d=this._nextAnimationId.toString();this._nextAnimationId++;const m=Array.isArray(o)?lo(o):o;return Xi(this._renderer,null,d,"register",[m]),new Ih(d,this._renderer)}static#e=this.\u0275fac=function(d){return new(d||c)(u.LFG(u.FYo),u.LFG(Ce.K0))};static#t=this.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac})}return c})();class Ih extends is{constructor(f,o){super(),this._id=f,this._renderer=o}create(f,o){return new c_(this._id,f,o||{},this._renderer)}}class c_{constructor(f,o,d,m){this.id=f,this.element=o,this._renderer=m,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",d)}_listen(f,o){return this._renderer.listen(this.element,`@@${this.id}:${f}`,o)}_command(f,...o){return Xi(this._renderer,this.element,this.id,f,o)}onDone(f){this._listen("done",f)}onStart(f){this._listen("start",f)}onDestroy(f){this._listen("destroy",f)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(f){this._command("setPosition",f)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Xi(c,f,o,d,m){return c.setProperty(f,`@@${o}:${d}`,m)}const Rl="@.disabled";let Eh=(()=>{class c{constructor(o,d,m){this.delegate=o,this.engine=d,this._zone=m,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,d.onRemovalComplete=(E,x)=>{const K=x?.parentNode(E);K&&x.removeChild(K,E)}}createRenderer(o,d){const E=this.delegate.createRenderer(o,d);if(!(o&&d&&d.data&&d.data.animation)){let Ie=this._rendererCache.get(E);return Ie||(Ie=new xs("",E,this.engine,()=>this._rendererCache.delete(E)),this._rendererCache.set(E,Ie)),Ie}const x=d.id,K=d.id+"-"+this._currentId;this._currentId++,this.engine.register(K,o);const se=Ie=>{Array.isArray(Ie)?Ie.forEach(se):this.engine.registerTrigger(x,K,o,Ie.name,Ie)};return d.data.animation.forEach(se),new Bf(this,K,E,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(o,d,m){o>=0&&o<this._microtaskId?this._zone.run(()=>d(m)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(E=>{const[x,K]=E;x(K)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([d,m]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(d){return new(d||c)(u.LFG(u.FYo),u.LFG(ma),u.LFG(u.R0b))};static#t=this.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac})}return c})();class xs{constructor(f,o,d,m){this.namespaceId=f,this.delegate=o,this.engine=d,this._onDestroy=m}get data(){return this.delegate.data}destroyNode(f){this.delegate.destroyNode?.(f)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(f,o){return this.delegate.createElement(f,o)}createComment(f){return this.delegate.createComment(f)}createText(f){return this.delegate.createText(f)}appendChild(f,o){this.delegate.appendChild(f,o),this.engine.onInsert(this.namespaceId,o,f,!1)}insertBefore(f,o,d,m=!0){this.delegate.insertBefore(f,o,d),this.engine.onInsert(this.namespaceId,o,f,m)}removeChild(f,o,d){this.engine.onRemove(this.namespaceId,o,this.delegate)}selectRootElement(f,o){return this.delegate.selectRootElement(f,o)}parentNode(f){return this.delegate.parentNode(f)}nextSibling(f){return this.delegate.nextSibling(f)}setAttribute(f,o,d,m){this.delegate.setAttribute(f,o,d,m)}removeAttribute(f,o,d){this.delegate.removeAttribute(f,o,d)}addClass(f,o){this.delegate.addClass(f,o)}removeClass(f,o){this.delegate.removeClass(f,o)}setStyle(f,o,d,m){this.delegate.setStyle(f,o,d,m)}removeStyle(f,o,d){this.delegate.removeStyle(f,o,d)}setProperty(f,o,d){"@"==o.charAt(0)&&o==Rl?this.disableAnimations(f,!!d):this.delegate.setProperty(f,o,d)}setValue(f,o){this.delegate.setValue(f,o)}listen(f,o,d){return this.delegate.listen(f,o,d)}disableAnimations(f,o){this.engine.disableAnimations(f,o)}}class Bf extends xs{constructor(f,o,d,m,E){super(o,d,m,E),this.factory=f,this.namespaceId=o}setProperty(f,o,d){"@"==o.charAt(0)?"."==o.charAt(1)&&o==Rl?this.disableAnimations(f,d=void 0===d||!!d):this.engine.process(this.namespaceId,f,o.slice(1),d):this.delegate.setProperty(f,o,d)}listen(f,o,d){if("@"==o.charAt(0)){const m=function Th(c){switch(c){case"body":return document.body;case"document":return document;case"window":return window;default:return c}}(f);let E=o.slice(1),x="";return"@"!=E.charAt(0)&&([E,x]=function Ja(c){const f=c.indexOf(".");return[c.substring(0,f),c.slice(f+1)]}(E)),this.engine.listen(this.namespaceId,m,E,x,K=>{this.factory.scheduleListenerCallback(K._data||-1,d,K)})}return this.delegate.listen(f,o,d)}}const nv=[{provide:Po,useClass:Ko},{provide:vc,useFactory:function id(){return new On}},{provide:ma,useClass:(()=>{class c extends ma{constructor(o,d,m,E){super(o.body,d,m)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(d){return new(d||c)(u.LFG(Ce.K0),u.LFG(cg),u.LFG(vc),u.LFG(u.z2F))};static#t=this.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac})}return c})()},{provide:u.FYo,useFactory:function Ch(c,f,o){return new Eh(c,f,o)},deps:[b.se,ma,u.R0b]}],l_=[{provide:cg,useFactory:()=>new Lf},{provide:u.QbO,useValue:"BrowserAnimations"},...nv],rv=[{provide:cg,useClass:db},{provide:u.QbO,useValue:"NoopAnimations"},...nv];let Tb=(()=>{class c{static withConfig(o){return{ngModule:c,providers:o.disableAnimations?rv:l_}}static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({providers:l_,imports:[b.b2]})}return c})();var Db=$(2381),Cb=$(3093),iv=$(6699);const u_={},Pl="@ngrx/store/init";let kl=(()=>{class c extends hs.X{constructor(){super({type:Pl})}next(o){if("function"==typeof o)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof o>"u")throw new TypeError("Actions must be objects");if(typeof o.type>"u")throw new TypeError("Actions must have a type property");super.next(o)}complete(){}ngOnDestroy(){super.complete()}static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac})}return c})();const ki=[kl],Cu=new u.OlP("@ngrx/store Internal Root Guard"),Oo=new u.OlP("@ngrx/store Internal Initial State"),Fi=new u.OlP("@ngrx/store Initial State"),Sh=new u.OlP("@ngrx/store Reducer Factory"),Ah=new u.OlP("@ngrx/store Internal Reducer Factory Provider"),Qa=new u.OlP("@ngrx/store Initial Reducers"),d_=new u.OlP("@ngrx/store Internal Initial Reducers"),QI=new u.OlP("@ngrx/store Store Features"),Rs=new u.OlP("@ngrx/store Internal Store Reducers"),Vf=new u.OlP("@ngrx/store Internal Feature Reducers"),sl=new u.OlP("@ngrx/store Internal Feature Configs"),bs=new u.OlP("@ngrx/store Internal Store Features"),Su=new u.OlP("@ngrx/store Internal Feature Reducers Token"),Hf=new u.OlP("@ngrx/store Feature Reducers"),Oh=new u.OlP("@ngrx/store User Provided Meta Reducers"),Sd=new u.OlP("@ngrx/store Meta Reducers"),av=new u.OlP("@ngrx/store Internal Resolved Meta Reducers"),Ad=new u.OlP("@ngrx/store User Runtime Checks Config"),sd=new u.OlP("@ngrx/store Internal User Runtime Checks Config"),od=new u.OlP("@ngrx/store Internal Runtime Checks"),Hc=new u.OlP("@ngrx/store Check if Action types are unique");function Au(c,f={}){const o=Object.keys(c),d={};for(let E=0;E<o.length;E++){const x=o[E];"function"==typeof c[x]&&(d[x]=c[x])}const m=Object.keys(d);return function(x,K){x=void 0===x?f:x;let se=!1;const fe={};for(let Ie=0;Ie<m.length;Ie++){const ze=m[Ie],dt=x[ze],Mt=(0,d[ze])(dt,K);fe[ze]=Mt,se=se||Mt!==dt}return se?fe:x}}function Od(...c){return function(f){if(0===c.length)return f;const o=c[c.length-1];return c.slice(0,-1).reduceRight((m,E)=>E(m),o(f))}}function Gf(c,f){return Array.isArray(f)&&f.length>0&&(c=Od.apply(null,[...f,c])),(o,d)=>{const m=c(o);return(E,x)=>m(E=void 0===E?d:E,x)}}new u.OlP("@ngrx/store Root Store Provider"),new u.OlP("@ngrx/store Feature State Provider");class Ou extends gs.y{}class Nh extends kl{}let Md=(()=>{class c extends hs.X{get currentReducers(){return this.reducers}constructor(o,d,m,E){super(E(m,d)),this.dispatcher=o,this.initialState=d,this.reducers=m,this.reducerFactory=E}addFeature(o){this.addFeatures([o])}addFeatures(o){const d=o.reduce((m,{reducers:E,reducerFactory:x,metaReducers:K,initialState:se,key:fe})=>{const Ie="function"==typeof E?function $f(c){const f=Array.isArray(c)&&c.length>0?Od(...c):o=>o;return(o,d)=>(o=f(o),(m,E)=>o(m=void 0===m?d:m,E))}(K)(E,se):Gf(x,K)(E,se);return m[fe]=Ie,m},{});this.addReducers(d)}removeFeature(o){this.removeFeatures([o])}removeFeatures(o){this.removeReducers(o.map(d=>d.key))}addReducer(o,d){this.addReducers({[o]:d})}addReducers(o){this.reducers={...this.reducers,...o},this.updateReducers(Object.keys(o))}removeReducer(o){this.removeReducers([o])}removeReducers(o){o.forEach(d=>{this.reducers=function Ob(c,f){return Object.keys(c).filter(o=>o!==f).reduce((o,d)=>Object.assign(o,{[d]:c[d]}),{})}(this.reducers,d)}),this.updateReducers(o)}updateReducers(o){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:"@ngrx/store/update-reducers",features:o})}ngOnDestroy(){this.complete()}static#e=this.\u0275fac=function(d){return new(d||c)(u.LFG(Nh),u.LFG(Fi),u.LFG(Qa),u.LFG(Sh))};static#t=this.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac})}return c})();const cv=[Md,{provide:Ou,useExisting:Md},{provide:Nh,useExisting:kl}];let Mh=(()=>{class c extends Yr.x{ngOnDestroy(){this.complete()}static#e=this.\u0275fac=function(){let o;return function(m){return(o||(o=u.n5z(c)))(m||c)}}();static#t=this.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac})}return c})();const Ag=[Mh];class lv extends gs.y{}let Og=(()=>{class c extends hs.X{static#e=this.INIT=Pl;constructor(o,d,m,E){super(E);const fe=o.pipe((0,Cb.Q)(Db.N)).pipe(vi(d)).pipe((0,iv.R)(h_,{state:E}));this.stateSubscription=fe.subscribe(({state:Ie,action:ze})=>{this.next(Ie),m.next(ze)}),this.state=no(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}static#t=this.\u0275fac=function(d){return new(d||c)(u.LFG(kl),u.LFG(Ou),u.LFG(Mh),u.LFG(Fi))};static#n=this.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac})}return c})();function h_(c={state:void 0},[f,o]){const{state:d}=c;return{state:o(d,f),action:f}}const uv=[Og,{provide:lv,useExisting:Og}];let zf=(()=>{class c extends gs.y{constructor(o,d,m){super(),this.actionsObserver=d,this.reducerManager=m,this.source=o,this.state=o.state}select(o,...d){return Nb.call(null,o,...d)(this)}selectSignal(o,d){return(0,u.Flj)(()=>o(this.state()),{equal:d?.equal||((m,E)=>m===E)})}lift(o){const d=new c(this,this.actionsObserver,this.reducerManager);return d.operator=o,d}dispatch(o){this.actionsObserver.next(o)}next(o){this.actionsObserver.next(o)}error(o){this.actionsObserver.error(o)}complete(){this.actionsObserver.complete()}addReducer(o,d){this.reducerManager.addReducer(o,d)}removeReducer(o){this.reducerManager.removeReducer(o)}static#e=this.\u0275fac=function(d){return new(d||c)(u.LFG(lv),u.LFG(kl),u.LFG(Md))};static#t=this.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac})}return c})();const ya=[zf];function Nb(c,f,...o){return function(m){let E;if("string"==typeof c){const x=[f,...o].filter(Boolean);E=m.pipe(function KI(...c){const f=c.length;if(0===f)throw new Error("list of properties cannot be empty.");return(0,ce.U)(o=>{let d=o;for(let m=0;m<f;m++){const E=d?.[c[m]];if(!(typeof E<"u"))return;d=E}return d})}(c,...x))}else{if("function"!=typeof c)throw new TypeError(`Unexpected type '${typeof c}' in select operator, expected 'string' or 'function'`);E=m.pipe((0,ce.U)(x=>c(x,f)))}return E.pipe((0,Zi.x)())}}const Ci="https://ngrx.io/guide/store/configuration/runtime-checks";function Fl(c){return void 0===c}function f_(c){return null===c}function Ng(c){return Array.isArray(c)}function Lr(c){return"object"==typeof c&&null!==c}function Mg(c){return"function"==typeof c}function qf(c){return c instanceof u.OlP?(0,u.f3M)(c):c}function v_(c,f){return f.map((o,d)=>{if(c[d]instanceof u.OlP){const m=(0,u.f3M)(c[d]);return{key:o.key,reducerFactory:m.reducerFactory?m.reducerFactory:Au,metaReducers:m.metaReducers?m.metaReducers:[],initialState:m.initialState}}return o})}function b_(c){return c.map(f=>f instanceof u.OlP?(0,u.f3M)(f):f)}function gv(c){return"function"==typeof c?c():c}function Pd(c,f){return c.concat(f)}function Pb(){if((0,u.f3M)(zf,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function Rg(c){Object.freeze(c);const f=Mg(c);return Object.getOwnPropertyNames(c).forEach(o=>{if(!o.startsWith("\u0275")&&function hv(c,f){return Object.prototype.hasOwnProperty.call(c,f)}(c,o)&&(!f||"caller"!==o&&"callee"!==o&&"arguments"!==o)){const d=c[o];(Lr(d)||Mg(d))&&!Object.isFrozen(d)&&Rg(d)}}),c}function us(c,f=[]){return(Fl(c)||f_(c))&&0===f.length?{path:["root"],value:c}:Object.keys(c).reduce((d,m)=>{if(d)return d;const E=c[m];return function p_(c){return Mg(c)&&c.hasOwnProperty("\u0275cmp")}(E)?d:!(Fl(E)||f_(E)||function dv(c){return"number"==typeof c}(E)||function XI(c){return"boolean"==typeof c}(E)||function xh(c){return"string"==typeof c}(E)||Ng(E))&&(function xd(c){if(!function li(c){return Lr(c)&&!Ng(c)}(c))return!1;const f=Object.getPrototypeOf(c);return f===Object.prototype||null===f}(E)?us(E,[...f,m]):{path:[...f,m],value:E})},!1)}function Pg(c,f){if(!1===c)return;const o=c.path.join("."),d=new Error(`Detected unserializable ${f} at "${o}". ${Ci}#strict${f}serializability`);throw d.value=c.value,d.unserializablePath=o,d}function Xa(c){return(0,u.X6Q)()?{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1,...c}:{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function w_({strictActionSerializability:c,strictStateSerializability:f}){return o=>c||f?function mv(c,f){return function(o,d){f.action(d)&&Pg(us(d),"action");const m=c(o,d);return f.state()&&Pg(us(m),"state"),m}}(o,{action:d=>c&&!kd(d),state:()=>f}):o}function I_({strictActionImmutability:c,strictStateImmutability:f}){return o=>c||f?function Zf(c,f){return function(o,d){const m=f.action(d)?Rg(d):d,E=c(o,m);return f.state()?Rg(E):E}}(o,{action:d=>c&&!kd(d),state:()=>f}):o}function kd(c){return c.type.startsWith("@ngrx")}function _v({strictActionWithinNgZone:c}){return f=>c?function Rh(c,f){return function(o,d){if(f.action(d)&&!u.R0b.isInAngularZone())throw new Error(`Action '${d.type}' running outside NgZone. ${Ci}#strictactionwithinngzone`);return c(o,d)}}(f,{action:o=>c&&!kd(o)}):f}function Fd(c){return[{provide:sd,useValue:c},{provide:Ad,useFactory:kb,deps:[sd]},{provide:od,deps:[Ad],useFactory:Xa},{provide:Sd,multi:!0,deps:[od],useFactory:I_},{provide:Sd,multi:!0,deps:[od],useFactory:w_},{provide:Sd,multi:!0,deps:[od],useFactory:_v}]}function Kf(){return[{provide:Hc,multi:!0,deps:[od],useFactory:yv}]}function kb(c){return c}function yv(c){if(!c.strictActionTypeUniqueness)return;const f=Object.entries(u_).filter(([,o])=>o>1).map(([o])=>o);if(f.length)throw new Error(`Action types are registered more than once, ${f.map(o=>`"${o}"`).join(", ")}. ${Ci}#strictactiontypeuniqueness`)}function Bl(c={},f={}){return[{provide:Cu,useFactory:Pb},{provide:Oo,useValue:f.initialState},{provide:Fi,useFactory:gv,deps:[Oo]},{provide:d_,useValue:c},{provide:Rs,useExisting:c instanceof u.OlP?c:d_},{provide:Qa,deps:[d_,[new u.tBr(Rs)]],useFactory:qf},{provide:Oh,useValue:f.metaReducers?f.metaReducers:[]},{provide:av,deps:[Sd,Oh],useFactory:Pd},{provide:Ah,useValue:f.reducerFactory?f.reducerFactory:Au},{provide:Sh,deps:[Ah,av],useFactory:Gf},ki,cv,Ag,uv,ya,Fd(f.runtimeChecks),Kf()]}function ol(c,f,o={}){return[{provide:sl,multi:!0,useValue:c instanceof Object?{}:o},{provide:QI,multi:!0,useValue:{key:c instanceof Object?c.name:c,reducerFactory:o instanceof u.OlP||!o.reducerFactory?Au:o.reducerFactory,metaReducers:o instanceof u.OlP||!o.metaReducers?[]:o.metaReducers,initialState:o instanceof u.OlP||!o.initialState?void 0:o.initialState}},{provide:bs,deps:[sl,QI],useFactory:v_},{provide:Vf,multi:!0,useValue:c instanceof Object?c.reducer:f},{provide:Su,multi:!0,useExisting:f instanceof u.OlP?f:Vf},{provide:Hf,multi:!0,deps:[Vf,[new u.tBr(Su)]],useFactory:b_},Kf()]}let al=(()=>{class c{constructor(o,d,m,E,x,K){}static#e=this.\u0275fac=function(d){return new(d||c)(u.LFG(kl),u.LFG(Ou),u.LFG(Mh),u.LFG(zf),u.LFG(Cu,8),u.LFG(Hc,8))};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})(),tc=(()=>{class c{constructor(o,d,m,E,x){this.features=o,this.featureReducers=d,this.reducerManager=m;const K=o.map((se,fe)=>{const ze=d.shift()[fe];return{...se,reducers:ze,initialState:gv(se.initialState)}});m.addFeatures(K)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}static#e=this.\u0275fac=function(d){return new(d||c)(u.LFG(bs),u.LFG(Hf),u.LFG(Md),u.LFG(al),u.LFG(Hc,8))};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})(),Ul=(()=>{class c{static forRoot(o,d){return{ngModule:al,providers:[...Bl(o,d)]}}static forFeature(o,d,m={}){return{ngModule:tc,providers:[...ol(o,d,m)]}}static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c});static#n=this.\u0275inj=u.cJS({})}return c})(),rE=(()=>{class c{static#e=this.\u0275fac=function(d){return new(d||c)};static#t=this.\u0275mod=u.oAB({type:c,bootstrap:[ta]});static#n=this.\u0275inj=u.cJS({imports:[b.b2,Un,Ef.r,Tb,(0,po.hX)(()=>(0,po.ZF)(ps.N.firebaseConfig)),(0,Xt.Cm)(()=>(0,Xt.ad)()),ul,Zm,Ul.forRoot({},{})]})}return c})();b.q6().bootstrapModule(rE).catch(c=>console.error(c))},9402:function(Ht){Ht.exports=function(Ue){function $(X){if(b[X])return b[X].exports;var u=b[X]={exports:{},id:X,loaded:!1};return Ue[X].call(u.exports,u,u.exports,$),u.loaded=!0,u.exports}var b={};return $.m=Ue,$.c=b,$.p="dist/",$(0)}([function(Ue,$,b){"use strict";function X(Le){return Le&&Le.__esModule?Le:{default:Le}}var u=Object.assign||function(Le){for(var lt=1;lt<arguments.length;lt++){var vn=arguments[lt];for(var ut in vn)Object.prototype.hasOwnProperty.call(vn,ut)&&(Le[ut]=vn[ut])}return Le},ce=(X(b(1)),b(6)),he=X(ce),ke=X(b(7)),re=X(b(8)),Ae=X(b(9)),Me=X(b(10)),It=X(b(11)),Ct=X(b(14)),an=[],Tt=!1,st={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},rt=function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(Tt=!0),Tt)return an=(0,It.default)(an,st),(0,Me.default)(an,st.once),an},yt=function(){an=(0,Ct.default)(),rt()};Ue.exports={init:function(Le){st=u(st,Le),an=(0,Ct.default)();var lt=document.all&&!window.atob;return function(Le){return!0===Le||"mobile"===Le&&Ae.default.mobile()||"phone"===Le&&Ae.default.phone()||"tablet"===Le&&Ae.default.tablet()||"function"==typeof Le&&!0===Le()}(st.disable)||lt?void an.forEach(function(Le,lt){Le.node.removeAttribute("data-aos"),Le.node.removeAttribute("data-aos-easing"),Le.node.removeAttribute("data-aos-duration"),Le.node.removeAttribute("data-aos-delay")}):(st.disableMutationObserver||re.default.isSupported()||(console.info('\n      aos: MutationObserver is not supported on this browser,\n      code mutations observing has been disabled.\n      You may have to call "refreshHard()" by yourself.\n    '),st.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",st.easing),document.querySelector("body").setAttribute("data-aos-duration",st.duration),document.querySelector("body").setAttribute("data-aos-delay",st.delay),"DOMContentLoaded"===st.startEvent&&["complete","interactive"].indexOf(document.readyState)>-1?rt(!0):"load"===st.startEvent?window.addEventListener(st.startEvent,function(){rt(!0)}):document.addEventListener(st.startEvent,function(){rt(!0)}),window.addEventListener("resize",(0,ke.default)(rt,st.debounceDelay,!0)),window.addEventListener("orientationchange",(0,ke.default)(rt,st.debounceDelay,!0)),window.addEventListener("scroll",(0,he.default)(function(){(0,Me.default)(an,st.once)},st.throttleDelay)),st.disableMutationObserver||re.default.ready("[data-aos]",yt),an)},refresh:rt,refreshHard:yt}},function(Ue,$){},,,,,function(Ue,$){(function(b){"use strict";function X(Oe,_e,Le){function lt(pt){var bn=je,Jn=Ze;return je=Ze=void 0,Lt=pt,Ye=Oe.apply(Jn,bn)}function sn(pt){var bn=pt-St;return void 0===St||bn>=_e||bn<0||tn&&pt-Lt>=He}function mn(){var pt=We();return sn(pt)?xn(pt):void(gt=setTimeout(mn,function ut(pt){var cr=_e-(pt-St);return tn?yt(cr,He-(pt-Lt)):cr}(pt)))}function xn(pt){return gt=void 0,Ut&&je?lt(pt):(je=Ze=void 0,Ye)}function Be(){var pt=We(),bn=sn(pt);if(je=arguments,Ze=this,St=pt,bn){if(void 0===gt)return function vn(pt){return Lt=pt,gt=setTimeout(mn,_e),Xt?lt(pt):Ye}(St);if(tn)return gt=setTimeout(mn,_e),lt(St)}return void 0===gt&&(gt=setTimeout(mn,_e)),Ye}var je,Ze,He,Ye,gt,St,Lt=0,Xt=!1,tn=!1,Ut=!0;if("function"!=typeof Oe)throw new TypeError(Ee);return _e=we(_e)||0,ye(Le)&&(Xt=!!Le.leading,He=(tn="maxWait"in Le)?rt(we(Le.maxWait)||0,_e):He,Ut="trailing"in Le?!!Le.trailing:Ut),Be.cancel=function Yn(){void 0!==gt&&clearTimeout(gt),Lt=0,je=St=Ze=gt=void 0},Be.flush=function tr(){return void 0===gt?Ye:xn(We())},Be}function ye(Oe){var _e=typeof Oe>"u"?"undefined":ke(Oe);return!!Oe&&("object"==_e||"function"==_e)}function he(Oe){return"symbol"==(typeof Oe>"u"?"undefined":ke(Oe))||function ce(Oe){return!!Oe&&"object"==(typeof Oe>"u"?"undefined":ke(Oe))}(Oe)&&st.call(Oe)==ue}function we(Oe){if("number"==typeof Oe)return Oe;if(he(Oe))return re;if(ye(Oe)){var _e="function"==typeof Oe.valueOf?Oe.valueOf():Oe;Oe=ye(_e)?_e+"":_e}if("string"!=typeof Oe)return 0===Oe?Oe:+Oe;Oe=Oe.replace(Ae,"");var Le=Me.test(Oe);return Le||qe.test(Oe)?It(Oe.slice(2),Le?2:8):Ce.test(Oe)?re:+Oe}var ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Oe){return typeof Oe}:function(Oe){return Oe&&"function"==typeof Symbol&&Oe.constructor===Symbol&&Oe!==Symbol.prototype?"symbol":typeof Oe},Ee="Expected a function",re=NaN,ue="[object Symbol]",Ae=/^\s+|\s+$/g,Ce=/^[-+]0x[0-9a-f]+$/i,Me=/^0b[01]+$/i,qe=/^0o[0-7]+$/i,It=parseInt,xt="object"==(typeof b>"u"?"undefined":ke(b))&&b&&b.Object===Object&&b,Ct="object"==(typeof self>"u"?"undefined":ke(self))&&self&&self.Object===Object&&self,an=xt||Ct||Function("return this")(),st=Object.prototype.toString,rt=Math.max,yt=Math.min,We=function(){return an.Date.now()};Ue.exports=function u(Oe,_e,Le){var lt=!0,vn=!0;if("function"!=typeof Oe)throw new TypeError(Ee);return ye(Le)&&(lt="leading"in Le?!!Le.leading:lt,vn="trailing"in Le?!!Le.trailing:vn),X(Oe,_e,{leading:lt,maxWait:_e,trailing:vn})}}).call($,function(){return this}())},function(Ue,$){(function(b){"use strict";function u(We){var Oe=typeof We>"u"?"undefined":we(We);return!!We&&("object"==Oe||"function"==Oe)}function ce(We){return"symbol"==(typeof We>"u"?"undefined":we(We))||function ye(We){return!!We&&"object"==(typeof We>"u"?"undefined":we(We))}(We)&&Tt.call(We)==re}function he(We){if("number"==typeof We)return We;if(ce(We))return Ee;if(u(We)){var Oe="function"==typeof We.valueOf?We.valueOf():We;We=u(Oe)?Oe+"":Oe}if("string"!=typeof We)return 0===We?We:+We;We=We.replace(ue,"");var _e=Ce.test(We);return _e||Me.test(We)?qe(We.slice(2),_e?2:8):Ae.test(We)?Ee:+We}var we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(We){return typeof We}:function(We){return We&&"function"==typeof Symbol&&We.constructor===Symbol&&We!==Symbol.prototype?"symbol":typeof We},ke="Expected a function",Ee=NaN,re="[object Symbol]",ue=/^\s+|\s+$/g,Ae=/^[-+]0x[0-9a-f]+$/i,Ce=/^0b[01]+$/i,Me=/^0o[0-7]+$/i,qe=parseInt,It="object"==(typeof b>"u"?"undefined":we(b))&&b&&b.Object===Object&&b,xt="object"==(typeof self>"u"?"undefined":we(self))&&self&&self.Object===Object&&self,Ct=It||xt||Function("return this")(),Tt=Object.prototype.toString,st=Math.max,rt=Math.min,yt=function(){return Ct.Date.now()};Ue.exports=function X(We,Oe,_e){function Le(Ut){var pt=Be,bn=je;return Be=je=void 0,St=Ut,He=We.apply(bn,pt)}function ut(Ut){var pt=Ut-gt;return void 0===gt||pt>=Oe||pt<0||Xt&&Ut-St>=Ze}function sn(){var Ut=yt();return ut(Ut)?mn(Ut):void(Ye=setTimeout(sn,function vn(Ut){var Jn=Oe-(Ut-gt);return Xt?rt(Jn,Ze-(Ut-St)):Jn}(Ut)))}function mn(Ut){return Ye=void 0,tn&&Be?Le(Ut):(Be=je=void 0,He)}function tr(){var Ut=yt(),pt=ut(Ut);if(Be=arguments,je=this,gt=Ut,pt){if(void 0===Ye)return function lt(Ut){return St=Ut,Ye=setTimeout(sn,Oe),Lt?Le(Ut):He}(gt);if(Xt)return Ye=setTimeout(sn,Oe),Le(gt)}return void 0===Ye&&(Ye=setTimeout(sn,Oe)),He}var Be,je,Ze,He,Ye,gt,St=0,Lt=!1,Xt=!1,tn=!0;if("function"!=typeof We)throw new TypeError(ke);return Oe=he(Oe)||0,u(_e)&&(Lt=!!_e.leading,Ze=(Xt="maxWait"in _e)?st(he(_e.maxWait)||0,Oe):Ze,tn="trailing"in _e?!!_e.trailing:tn),tr.cancel=function xn(){void 0!==Ye&&clearTimeout(Ye),St=0,Be=gt=je=Ye=void 0},tr.flush=function Yn(){return void 0===Ye?He:mn(yt())},tr}}).call($,function(){return this}())},function(Ue,$){"use strict";function b(we){var ke=void 0,Ee=void 0;for(ke=0;ke<we.length;ke+=1)if((Ee=we[ke]).dataset&&Ee.dataset.aos||Ee.children&&b(Ee.children))return!0;return!1}function X(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function ce(we){we&&we.forEach(function(ke){var Ee=Array.prototype.slice.call(ke.addedNodes),re=Array.prototype.slice.call(ke.removedNodes);if(b(Ee.concat(re)))return he()})}Object.defineProperty($,"__esModule",{value:!0});var he=function(){};$.default={isSupported:function u(){return!!X()},ready:function ye(we,ke){var Ee=window.document,ue=new(X())(ce);he=ke,ue.observe(Ee.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}}},function(Ue,$){"use strict";function X(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty($,"__esModule",{value:!0});var u=function(){function Ee(re,ue){for(var Ae=0;Ae<ue.length;Ae++){var Ce=ue[Ae];Ce.enumerable=Ce.enumerable||!1,Ce.configurable=!0,"value"in Ce&&(Ce.writable=!0),Object.defineProperty(re,Ce.key,Ce)}}return function(re,ue,Ae){return ue&&Ee(re.prototype,ue),Ae&&Ee(re,Ae),re}}(),ye=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,ce=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,he=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,we=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,ke=function(){function Ee(){!function b(Ee,re){if(!(Ee instanceof re))throw new TypeError("Cannot call a class as a function")}(this,Ee)}return u(Ee,[{key:"phone",value:function(){var re=X();return!(!ye.test(re)&&!ce.test(re.substr(0,4)))}},{key:"mobile",value:function(){var re=X();return!(!he.test(re)&&!we.test(re.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),Ee}();$.default=new ke},function(Ue,$){"use strict";Object.defineProperty($,"__esModule",{value:!0});$.default=function(u,ye){var ce=window.pageYOffset,he=window.innerHeight;u.forEach(function(we,ke){!function(u,ye,ce){var he=u.node.getAttribute("data-aos-once");ye>u.position?u.node.classList.add("aos-animate"):typeof he<"u"&&("false"===he||!ce&&"true"!==he)&&u.node.classList.remove("aos-animate")}(we,he+ce,ye)})}},function(Ue,$,b){"use strict";Object.defineProperty($,"__esModule",{value:!0});var ye=function X(he){return he&&he.__esModule?he:{default:he}}(b(12));$.default=function(he,we){return he.forEach(function(ke,Ee){ke.node.classList.add("aos-init"),ke.position=(0,ye.default)(ke.node,we.offset)}),he}},function(Ue,$,b){"use strict";Object.defineProperty($,"__esModule",{value:!0});var ye=function X(he){return he&&he.__esModule?he:{default:he}}(b(13));$.default=function(he,we){var ke=0,Ee=0,re=window.innerHeight,ue={offset:he.getAttribute("data-aos-offset"),anchor:he.getAttribute("data-aos-anchor"),anchorPlacement:he.getAttribute("data-aos-anchor-placement")};switch(ue.offset&&!isNaN(ue.offset)&&(Ee=parseInt(ue.offset)),ue.anchor&&document.querySelectorAll(ue.anchor)&&(he=document.querySelectorAll(ue.anchor)[0]),ke=(0,ye.default)(he).top,ue.anchorPlacement){case"top-bottom":break;case"center-bottom":ke+=he.offsetHeight/2;break;case"bottom-bottom":ke+=he.offsetHeight;break;case"top-center":ke+=re/2;break;case"bottom-center":ke+=re/2+he.offsetHeight;break;case"center-center":ke+=re/2+he.offsetHeight/2;break;case"top-top":ke+=re;break;case"bottom-top":ke+=he.offsetHeight+re;break;case"center-top":ke+=he.offsetHeight/2+re}return ue.anchorPlacement||ue.offset||isNaN(we)||(Ee=we),ke+Ee}},function(Ue,$){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default=function(X){for(var u=0,ye=0;X&&!isNaN(X.offsetLeft)&&!isNaN(X.offsetTop);)u+=X.offsetLeft-("BODY"!=X.tagName?X.scrollLeft:0),ye+=X.offsetTop-("BODY"!=X.tagName?X.scrollTop:0),X=X.offsetParent;return{top:ye,left:u}}},function(Ue,$){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default=function(X){return X=X||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(X,function(u){return{node:u}})}}])},5619:(Ht,Ue,$)=>{"use strict";$.d(Ue,{X:()=>X});var b=$(8645);class X extends b.x{constructor(ye){super(),this._value=ye}get value(){return this.getValue()}_subscribe(ye){const ce=super._subscribe(ye);return!ce.closed&&ye.next(this._value),ce}getValue(){const{hasError:ye,thrownError:ce,_value:he}=this;if(ye)throw ce;return this._throwIfClosed(),he}next(ye){super.next(this._value=ye)}}},5592:(Ht,Ue,$)=>{"use strict";$.d(Ue,{y:()=>ke});var b=$(305),X=$(7394),u=$(4850),ye=$(8407),ce=$(2653),he=$(4674),we=$(1441);let ke=(()=>{class Ae{constructor(Me){Me&&(this._subscribe=Me)}lift(Me){const qe=new Ae;return qe.source=this,qe.operator=Me,qe}subscribe(Me,qe,It){const xt=function ue(Ae){return Ae&&Ae instanceof b.Lv||function re(Ae){return Ae&&(0,he.m)(Ae.next)&&(0,he.m)(Ae.error)&&(0,he.m)(Ae.complete)}(Ae)&&(0,X.Nn)(Ae)}(Me)?Me:new b.Hp(Me,qe,It);return(0,we.x)(()=>{const{operator:Ct,source:an}=this;xt.add(Ct?Ct.call(xt,an):an?this._subscribe(xt):this._trySubscribe(xt))}),xt}_trySubscribe(Me){try{return this._subscribe(Me)}catch(qe){Me.error(qe)}}forEach(Me,qe){return new(qe=Ee(qe))((It,xt)=>{const Ct=new b.Hp({next:an=>{try{Me(an)}catch(Tt){xt(Tt),Ct.unsubscribe()}},error:xt,complete:It});this.subscribe(Ct)})}_subscribe(Me){var qe;return null===(qe=this.source)||void 0===qe?void 0:qe.subscribe(Me)}[u.L](){return this}pipe(...Me){return(0,ye.U)(Me)(this)}toPromise(Me){return new(Me=Ee(Me))((qe,It)=>{let xt;this.subscribe(Ct=>xt=Ct,Ct=>It(Ct),()=>qe(xt))})}}return Ae.create=Ce=>new Ae(Ce),Ae})();function Ee(Ae){var Ce;return null!==(Ce=Ae??ce.config.Promise)&&void 0!==Ce?Ce:Promise}},8645:(Ht,Ue,$)=>{"use strict";$.d(Ue,{x:()=>we});var b=$(5592),X=$(7394);const ye=(0,$(2306).d)(Ee=>function(){Ee(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ce=$(9039),he=$(1441);let we=(()=>{class Ee extends b.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ue){const Ae=new ke(this,this);return Ae.operator=ue,Ae}_throwIfClosed(){if(this.closed)throw new ye}next(ue){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ae of this.currentObservers)Ae.next(ue)}})}error(ue){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ue;const{observers:Ae}=this;for(;Ae.length;)Ae.shift().error(ue)}})}complete(){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ue}=this;for(;ue.length;)ue.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ue;return(null===(ue=this.observers)||void 0===ue?void 0:ue.length)>0}_trySubscribe(ue){return this._throwIfClosed(),super._trySubscribe(ue)}_subscribe(ue){return this._throwIfClosed(),this._checkFinalizedStatuses(ue),this._innerSubscribe(ue)}_innerSubscribe(ue){const{hasError:Ae,isStopped:Ce,observers:Me}=this;return Ae||Ce?X.Lc:(this.currentObservers=null,Me.push(ue),new X.w0(()=>{this.currentObservers=null,(0,ce.P)(Me,ue)}))}_checkFinalizedStatuses(ue){const{hasError:Ae,thrownError:Ce,isStopped:Me}=this;Ae?ue.error(Ce):Me&&ue.complete()}asObservable(){const ue=new b.y;return ue.source=this,ue}}return Ee.create=(re,ue)=>new ke(re,ue),Ee})();class ke extends we{constructor(re,ue){super(),this.destination=re,this.source=ue}next(re){var ue,Ae;null===(Ae=null===(ue=this.destination)||void 0===ue?void 0:ue.next)||void 0===Ae||Ae.call(ue,re)}error(re){var ue,Ae;null===(Ae=null===(ue=this.destination)||void 0===ue?void 0:ue.error)||void 0===Ae||Ae.call(ue,re)}complete(){var re,ue;null===(ue=null===(re=this.destination)||void 0===re?void 0:re.complete)||void 0===ue||ue.call(re)}_subscribe(re){var ue,Ae;return null!==(Ae=null===(ue=this.source)||void 0===ue?void 0:ue.subscribe(re))&&void 0!==Ae?Ae:X.Lc}}},305:(Ht,Ue,$)=>{"use strict";$.d(Ue,{Hp:()=>It,Lv:()=>Ae});var b=$(4674),X=$(7394),u=$(2653),ye=$(3894),ce=$(2420);const he=Ee("C",void 0,void 0);function Ee(st,rt,yt){return{kind:st,value:rt,error:yt}}var re=$(7599),ue=$(1441);class Ae extends X.w0{constructor(rt){super(),this.isStopped=!1,rt?(this.destination=rt,(0,X.Nn)(rt)&&rt.add(this)):this.destination=Tt}static create(rt,yt,We){return new It(rt,yt,We)}next(rt){this.isStopped?an(function ke(st){return Ee("N",st,void 0)}(rt),this):this._next(rt)}error(rt){this.isStopped?an(function we(st){return Ee("E",void 0,st)}(rt),this):(this.isStopped=!0,this._error(rt))}complete(){this.isStopped?an(he,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(rt){this.destination.next(rt)}_error(rt){try{this.destination.error(rt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ce=Function.prototype.bind;function Me(st,rt){return Ce.call(st,rt)}class qe{constructor(rt){this.partialObserver=rt}next(rt){const{partialObserver:yt}=this;if(yt.next)try{yt.next(rt)}catch(We){xt(We)}}error(rt){const{partialObserver:yt}=this;if(yt.error)try{yt.error(rt)}catch(We){xt(We)}else xt(rt)}complete(){const{partialObserver:rt}=this;if(rt.complete)try{rt.complete()}catch(yt){xt(yt)}}}class It extends Ae{constructor(rt,yt,We){let Oe;if(super(),(0,b.m)(rt)||!rt)Oe={next:rt??void 0,error:yt??void 0,complete:We??void 0};else{let _e;this&&u.config.useDeprecatedNextContext?(_e=Object.create(rt),_e.unsubscribe=()=>this.unsubscribe(),Oe={next:rt.next&&Me(rt.next,_e),error:rt.error&&Me(rt.error,_e),complete:rt.complete&&Me(rt.complete,_e)}):Oe=rt}this.destination=new qe(Oe)}}function xt(st){u.config.useDeprecatedSynchronousErrorHandling?(0,ue.O)(st):(0,ye.h)(st)}function an(st,rt){const{onStoppedNotification:yt}=u.config;yt&&re.z.setTimeout(()=>yt(st,rt))}const Tt={closed:!0,next:ce.Z,error:function Ct(st){throw st},complete:ce.Z}},7394:(Ht,Ue,$)=>{"use strict";$.d(Ue,{Lc:()=>he,w0:()=>ce,Nn:()=>we});var b=$(4674);const u=(0,$(2306).d)(Ee=>function(ue){Ee(this),this.message=ue?`${ue.length} errors occurred during unsubscription:\n${ue.map((Ae,Ce)=>`${Ce+1}) ${Ae.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ue});var ye=$(9039);class ce{constructor(re){this.initialTeardown=re,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let re;if(!this.closed){this.closed=!0;const{_parentage:ue}=this;if(ue)if(this._parentage=null,Array.isArray(ue))for(const Me of ue)Me.remove(this);else ue.remove(this);const{initialTeardown:Ae}=this;if((0,b.m)(Ae))try{Ae()}catch(Me){re=Me instanceof u?Me.errors:[Me]}const{_finalizers:Ce}=this;if(Ce){this._finalizers=null;for(const Me of Ce)try{ke(Me)}catch(qe){re=re??[],qe instanceof u?re=[...re,...qe.errors]:re.push(qe)}}if(re)throw new u(re)}}add(re){var ue;if(re&&re!==this)if(this.closed)ke(re);else{if(re instanceof ce){if(re.closed||re._hasParent(this))return;re._addParent(this)}(this._finalizers=null!==(ue=this._finalizers)&&void 0!==ue?ue:[]).push(re)}}_hasParent(re){const{_parentage:ue}=this;return ue===re||Array.isArray(ue)&&ue.includes(re)}_addParent(re){const{_parentage:ue}=this;this._parentage=Array.isArray(ue)?(ue.push(re),ue):ue?[ue,re]:re}_removeParent(re){const{_parentage:ue}=this;ue===re?this._parentage=null:Array.isArray(ue)&&(0,ye.P)(ue,re)}remove(re){const{_finalizers:ue}=this;ue&&(0,ye.P)(ue,re),re instanceof ce&&re._removeParent(this)}}ce.EMPTY=(()=>{const Ee=new ce;return Ee.closed=!0,Ee})();const he=ce.EMPTY;function we(Ee){return Ee instanceof ce||Ee&&"closed"in Ee&&(0,b.m)(Ee.remove)&&(0,b.m)(Ee.add)&&(0,b.m)(Ee.unsubscribe)}function ke(Ee){(0,b.m)(Ee)?Ee():Ee.unsubscribe()}},2653:(Ht,Ue,$)=>{"use strict";$.d(Ue,{config:()=>b});const b={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},5211:(Ht,Ue,$)=>{"use strict";$.d(Ue,{z:()=>ce});var b=$(7537),u=$(9940),ye=$(2459);function ce(...he){return function X(){return(0,b.J)(1)}()((0,ye.D)(he,(0,u.yG)(he)))}},6232:(Ht,Ue,$)=>{"use strict";$.d(Ue,{E:()=>X});const X=new($(5592).y)(ce=>ce.complete())},2459:(Ht,Ue,$)=>{"use strict";$.d(Ue,{D:()=>rt});var b=$(4829),X=$(3093),u=$(5137),he=$(5592),ke=$(4971),Ee=$(4674),re=$(7103);function Ae(yt,We){if(!yt)throw new Error("Iterable cannot be null");return new he.y(Oe=>{(0,re.f)(Oe,We,()=>{const _e=yt[Symbol.asyncIterator]();(0,re.f)(Oe,We,()=>{_e.next().then(Le=>{Le.done?Oe.complete():Oe.next(Le.value)})},0,!0)})})}var Ce=$(8382),Me=$(4026),qe=$(4266),It=$(3664),xt=$(5726),Ct=$(9853),an=$(541);function rt(yt,We){return We?function st(yt,We){if(null!=yt){if((0,Ce.c)(yt))return function ye(yt,We){return(0,b.Xf)(yt).pipe((0,u.R)(We),(0,X.Q)(We))}(yt,We);if((0,qe.z)(yt))return function we(yt,We){return new he.y(Oe=>{let _e=0;return We.schedule(function(){_e===yt.length?Oe.complete():(Oe.next(yt[_e++]),Oe.closed||this.schedule())})})}(yt,We);if((0,Me.t)(yt))return function ce(yt,We){return(0,b.Xf)(yt).pipe((0,u.R)(We),(0,X.Q)(We))}(yt,We);if((0,xt.D)(yt))return Ae(yt,We);if((0,It.T)(yt))return function ue(yt,We){return new he.y(Oe=>{let _e;return(0,re.f)(Oe,We,()=>{_e=yt[ke.h](),(0,re.f)(Oe,We,()=>{let Le,lt;try{({value:Le,done:lt}=_e.next())}catch(vn){return void Oe.error(vn)}lt?Oe.complete():Oe.next(Le)},0,!0)}),()=>(0,Ee.m)(_e?.return)&&_e.return()})}(yt,We);if((0,an.L)(yt))return function Tt(yt,We){return Ae((0,an.Q)(yt),We)}(yt,We)}throw(0,Ct.z)(yt)}(yt,We):(0,b.Xf)(yt)}},4829:(Ht,Ue,$)=>{"use strict";$.d(Ue,{Xf:()=>Ce});var b=$(7582),X=$(4266),u=$(4026),ye=$(5592),ce=$(8382),he=$(5726),we=$(9853),ke=$(3664),Ee=$(541),re=$(4674),ue=$(3894),Ae=$(4850);function Ce(st){if(st instanceof ye.y)return st;if(null!=st){if((0,ce.c)(st))return function Me(st){return new ye.y(rt=>{const yt=st[Ae.L]();if((0,re.m)(yt.subscribe))return yt.subscribe(rt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(st);if((0,X.z)(st))return function qe(st){return new ye.y(rt=>{for(let yt=0;yt<st.length&&!rt.closed;yt++)rt.next(st[yt]);rt.complete()})}(st);if((0,u.t)(st))return function It(st){return new ye.y(rt=>{st.then(yt=>{rt.closed||(rt.next(yt),rt.complete())},yt=>rt.error(yt)).then(null,ue.h)})}(st);if((0,he.D)(st))return Ct(st);if((0,ke.T)(st))return function xt(st){return new ye.y(rt=>{for(const yt of st)if(rt.next(yt),rt.closed)return;rt.complete()})}(st);if((0,Ee.L)(st))return function an(st){return Ct((0,Ee.Q)(st))}(st)}throw(0,we.z)(st)}function Ct(st){return new ye.y(rt=>{(function Tt(st,rt){var yt,We,Oe,_e;return(0,b.mG)(this,void 0,void 0,function*(){try{for(yt=(0,b.KL)(st);!(We=yield yt.next()).done;)if(rt.next(We.value),rt.closed)return}catch(Le){Oe={error:Le}}finally{try{We&&!We.done&&(_e=yt.return)&&(yield _e.call(yt))}finally{if(Oe)throw Oe.error}}rt.complete()})})(st,rt).catch(yt=>rt.error(yt))})}},3019:(Ht,Ue,$)=>{"use strict";$.d(Ue,{T:()=>he});var b=$(7537),X=$(4829),u=$(6232),ye=$(9940),ce=$(2459);function he(...we){const ke=(0,ye.yG)(we),Ee=(0,ye._6)(we,1/0),re=we;return re.length?1===re.length?(0,X.Xf)(re[0]):(0,b.J)(Ee)((0,ce.D)(re,ke)):u.E}},2096:(Ht,Ue,$)=>{"use strict";$.d(Ue,{of:()=>u});var b=$(9940),X=$(2459);function u(...ye){const ce=(0,b.yG)(ye);return(0,X.D)(ye,ce)}},8251:(Ht,Ue,$)=>{"use strict";$.d(Ue,{x:()=>X});var b=$(305);function X(ye,ce,he,we,ke){return new u(ye,ce,he,we,ke)}class u extends b.Lv{constructor(ce,he,we,ke,Ee,re){super(ce),this.onFinalize=Ee,this.shouldUnsubscribe=re,this._next=he?function(ue){try{he(ue)}catch(Ae){ce.error(Ae)}}:super._next,this._error=ke?function(ue){try{ke(ue)}catch(Ae){ce.error(Ae)}finally{this.unsubscribe()}}:super._error,this._complete=we?function(){try{we()}catch(ue){ce.error(ue)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ce;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:he}=this;super.unsubscribe(),!he&&(null===(ce=this.onFinalize)||void 0===ce||ce.call(this))}}}},3997:(Ht,Ue,$)=>{"use strict";$.d(Ue,{x:()=>ye});var b=$(2737),X=$(9360),u=$(8251);function ye(he,we=b.y){return he=he??ce,(0,X.e)((ke,Ee)=>{let re,ue=!0;ke.subscribe((0,u.x)(Ee,Ae=>{const Ce=we(Ae);(ue||!he(re,Ce))&&(ue=!1,re=Ce,Ee.next(Ae))}))})}function ce(he,we){return he===we}},2181:(Ht,Ue,$)=>{"use strict";$.d(Ue,{h:()=>u});var b=$(9360),X=$(8251);function u(ye,ce){return(0,b.e)((he,we)=>{let ke=0;he.subscribe((0,X.x)(we,Ee=>ye.call(ce,Ee,ke++)&&we.next(Ee)))})}},7398:(Ht,Ue,$)=>{"use strict";$.d(Ue,{U:()=>u});var b=$(9360),X=$(8251);function u(ye,ce){return(0,b.e)((he,we)=>{let ke=0;he.subscribe((0,X.x)(we,Ee=>{we.next(ye.call(ce,Ee,ke++))}))})}},975:(Ht,Ue,$)=>{"use strict";$.d(Ue,{h:()=>X});var b=$(7398);function X(u){return(0,b.U)(()=>u)}},7537:(Ht,Ue,$)=>{"use strict";$.d(Ue,{J:()=>u});var b=$(1631),X=$(2737);function u(ye=1/0){return(0,b.z)(X.y,ye)}},1631:(Ht,Ue,$)=>{"use strict";$.d(Ue,{z:()=>ke});var b=$(7398),X=$(4829),u=$(9360),ye=$(7103),ce=$(8251),we=$(4674);function ke(Ee,re,ue=1/0){return(0,we.m)(re)?ke((Ae,Ce)=>(0,b.U)((Me,qe)=>re(Ae,Me,Ce,qe))((0,X.Xf)(Ee(Ae,Ce))),ue):("number"==typeof re&&(ue=re),(0,u.e)((Ae,Ce)=>function he(Ee,re,ue,Ae,Ce,Me,qe,It){const xt=[];let Ct=0,an=0,Tt=!1;const st=()=>{Tt&&!xt.length&&!Ct&&re.complete()},rt=We=>Ct<Ae?yt(We):xt.push(We),yt=We=>{Me&&re.next(We),Ct++;let Oe=!1;(0,X.Xf)(ue(We,an++)).subscribe((0,ce.x)(re,_e=>{Ce?.(_e),Me?rt(_e):re.next(_e)},()=>{Oe=!0},void 0,()=>{if(Oe)try{for(Ct--;xt.length&&Ct<Ae;){const _e=xt.shift();qe?(0,ye.f)(re,qe,()=>yt(_e)):yt(_e)}st()}catch(_e){re.error(_e)}}))};return Ee.subscribe((0,ce.x)(re,rt,()=>{Tt=!0,st()})),()=>{It?.()}}(Ae,Ce,Ee,ue)))}},3093:(Ht,Ue,$)=>{"use strict";$.d(Ue,{Q:()=>ye});var b=$(7103),X=$(9360),u=$(8251);function ye(ce,he=0){return(0,X.e)((we,ke)=>{we.subscribe((0,u.x)(ke,Ee=>(0,b.f)(ke,ce,()=>ke.next(Ee),he),()=>(0,b.f)(ke,ce,()=>ke.complete(),he),Ee=>(0,b.f)(ke,ce,()=>ke.error(Ee),he)))})}},6699:(Ht,Ue,$)=>{"use strict";$.d(Ue,{R:()=>ye});var b=$(9360),X=$(8251);function ye(ce,he){return(0,b.e)(function u(ce,he,we,ke,Ee){return(re,ue)=>{let Ae=we,Ce=he,Me=0;re.subscribe((0,X.x)(ue,qe=>{const It=Me++;Ce=Ae?ce(Ce,qe,It):(Ae=!0,qe),ke&&ue.next(Ce)},Ee&&(()=>{Ae&&ue.next(Ce),ue.complete()})))}}(ce,he,arguments.length>=2,!0))}},7921:(Ht,Ue,$)=>{"use strict";$.d(Ue,{O:()=>ye});var b=$(5211),X=$(9940),u=$(9360);function ye(...ce){const he=(0,X.yG)(ce);return(0,u.e)((we,ke)=>{(he?(0,b.z)(ce,we,he):(0,b.z)(ce,we)).subscribe(ke)})}},5137:(Ht,Ue,$)=>{"use strict";$.d(Ue,{R:()=>X});var b=$(9360);function X(u,ye=0){return(0,b.e)((ce,he)=>{he.add(u.schedule(()=>ce.subscribe(he),ye))})}},4664:(Ht,Ue,$)=>{"use strict";$.d(Ue,{w:()=>ye});var b=$(4829),X=$(9360),u=$(8251);function ye(ce,he){return(0,X.e)((we,ke)=>{let Ee=null,re=0,ue=!1;const Ae=()=>ue&&!Ee&&ke.complete();we.subscribe((0,u.x)(ke,Ce=>{Ee?.unsubscribe();let Me=0;const qe=re++;(0,b.Xf)(ce(Ce,qe)).subscribe(Ee=(0,u.x)(ke,It=>ke.next(he?he(Ce,It,qe,Me++):It),()=>{Ee=null,Ae()}))},()=>{ue=!0,Ae()}))})}},8180:(Ht,Ue,$)=>{"use strict";$.d(Ue,{q:()=>ye});var b=$(6232),X=$(9360),u=$(8251);function ye(ce){return ce<=0?()=>b.E:(0,X.e)((he,we)=>{let ke=0;he.subscribe((0,u.x)(we,Ee=>{++ke<=ce&&(we.next(Ee),ce<=ke&&we.complete())}))})}},9773:(Ht,Ue,$)=>{"use strict";$.d(Ue,{R:()=>ce});var b=$(9360),X=$(8251),u=$(4829),ye=$(2420);function ce(he){return(0,b.e)((we,ke)=>{(0,u.Xf)(he).subscribe((0,X.x)(ke,()=>ke.complete(),ye.Z)),!ke.closed&&we.subscribe(ke)})}},9397:(Ht,Ue,$)=>{"use strict";$.d(Ue,{b:()=>ce});var b=$(4674),X=$(9360),u=$(8251),ye=$(2737);function ce(he,we,ke){const Ee=(0,b.m)(he)||we||ke?{next:he,error:we,complete:ke}:he;return Ee?(0,X.e)((re,ue)=>{var Ae;null===(Ae=Ee.subscribe)||void 0===Ae||Ae.call(Ee);let Ce=!0;re.subscribe((0,u.x)(ue,Me=>{var qe;null===(qe=Ee.next)||void 0===qe||qe.call(Ee,Me),ue.next(Me)},()=>{var Me;Ce=!1,null===(Me=Ee.complete)||void 0===Me||Me.call(Ee),ue.complete()},Me=>{var qe;Ce=!1,null===(qe=Ee.error)||void 0===qe||qe.call(Ee,Me),ue.error(Me)},()=>{var Me,qe;Ce&&(null===(Me=Ee.unsubscribe)||void 0===Me||Me.call(Ee)),null===(qe=Ee.finalize)||void 0===qe||qe.call(Ee)}))}):ye.y}},1954:(Ht,Ue,$)=>{"use strict";$.d(Ue,{o:()=>ce});var b=$(7394);class X extends b.w0{constructor(we,ke){super()}schedule(we,ke=0){return this}}const u={setInterval(he,we,...ke){const{delegate:Ee}=u;return Ee?.setInterval?Ee.setInterval(he,we,...ke):setInterval(he,we,...ke)},clearInterval(he){const{delegate:we}=u;return(we?.clearInterval||clearInterval)(he)},delegate:void 0};var ye=$(9039);class ce extends X{constructor(we,ke){super(we,ke),this.scheduler=we,this.work=ke,this.pending=!1}schedule(we,ke=0){var Ee;if(this.closed)return this;this.state=we;const re=this.id,ue=this.scheduler;return null!=re&&(this.id=this.recycleAsyncId(ue,re,ke)),this.pending=!0,this.delay=ke,this.id=null!==(Ee=this.id)&&void 0!==Ee?Ee:this.requestAsyncId(ue,this.id,ke),this}requestAsyncId(we,ke,Ee=0){return u.setInterval(we.flush.bind(we,this),Ee)}recycleAsyncId(we,ke,Ee=0){if(null!=Ee&&this.delay===Ee&&!1===this.pending)return ke;null!=ke&&u.clearInterval(ke)}execute(we,ke){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ee=this._execute(we,ke);if(Ee)return Ee;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(we,ke){let re,Ee=!1;try{this.work(we)}catch(ue){Ee=!0,re=ue||new Error("Scheduled action threw falsy error")}if(Ee)return this.unsubscribe(),re}unsubscribe(){if(!this.closed){const{id:we,scheduler:ke}=this,{actions:Ee}=ke;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ye.P)(Ee,this),null!=we&&(this.id=this.recycleAsyncId(ke,we,null)),this.delay=null,super.unsubscribe()}}}},9931:(Ht,Ue,$)=>{"use strict";$.d(Ue,{v:()=>u});const b={now:()=>(b.delegate||Date).now(),delegate:void 0};class X{constructor(ce,he=X.now){this.schedulerActionCtor=ce,this.now=he}schedule(ce,he=0,we){return new this.schedulerActionCtor(this,ce).schedule(we,he)}}X.now=b.now;class u extends X{constructor(ce,he=X.now){super(ce,he),this.actions=[],this._active=!1}flush(ce){const{actions:he}=this;if(this._active)return void he.push(ce);let we;this._active=!0;do{if(we=ce.execute(ce.state,ce.delay))break}while(ce=he.shift());if(this._active=!1,we){for(;ce=he.shift();)ce.unsubscribe();throw we}}}},6321:(Ht,Ue,$)=>{"use strict";$.d(Ue,{P:()=>ye,z:()=>u});var b=$(1954);const u=new($(9931).v)(b.o),ye=u},2381:(Ht,Ue,$)=>{"use strict";$.d(Ue,{N:()=>ce});var b=$(1954),u=$(9931);const ce=new class ye extends u.v{}(class X extends b.o{constructor(ke,Ee){super(ke,Ee),this.scheduler=ke,this.work=Ee}schedule(ke,Ee=0){return Ee>0?super.schedule(ke,Ee):(this.delay=Ee,this.state=ke,this.scheduler.flush(this),this)}execute(ke,Ee){return Ee>0||this.closed?super.execute(ke,Ee):this._execute(ke,Ee)}requestAsyncId(ke,Ee,re=0){return null!=re&&re>0||null==re&&this.delay>0?super.requestAsyncId(ke,Ee,re):(ke.flush(this),0)}})},7599:(Ht,Ue,$)=>{"use strict";$.d(Ue,{z:()=>b});const b={setTimeout(X,u,...ye){const{delegate:ce}=b;return ce?.setTimeout?ce.setTimeout(X,u,...ye):setTimeout(X,u,...ye)},clearTimeout(X){const{delegate:u}=b;return(u?.clearTimeout||clearTimeout)(X)},delegate:void 0}},4971:(Ht,Ue,$)=>{"use strict";$.d(Ue,{h:()=>X});const X=function b(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Ht,Ue,$)=>{"use strict";$.d(Ue,{L:()=>b});const b="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(Ht,Ue,$)=>{"use strict";$.d(Ue,{K:()=>X});const X=(0,$(2306).d)(u=>function(){u(this),this.name="EmptyError",this.message="no elements in sequence"})},9940:(Ht,Ue,$)=>{"use strict";$.d(Ue,{_6:()=>he,jO:()=>ye,yG:()=>ce});var b=$(4674),X=$(671);function u(we){return we[we.length-1]}function ye(we){return(0,b.m)(u(we))?we.pop():void 0}function ce(we){return(0,X.K)(u(we))?we.pop():void 0}function he(we,ke){return"number"==typeof u(we)?we.pop():ke}},7453:(Ht,Ue,$)=>{"use strict";$.d(Ue,{D:()=>ce});const{isArray:b}=Array,{getPrototypeOf:X,prototype:u,keys:ye}=Object;function ce(we){if(1===we.length){const ke=we[0];if(b(ke))return{args:ke,keys:null};if(function he(we){return we&&"object"==typeof we&&X(we)===u}(ke)){const Ee=ye(ke);return{args:Ee.map(re=>ke[re]),keys:Ee}}}return{args:we,keys:null}}},9039:(Ht,Ue,$)=>{"use strict";function b(X,u){if(X){const ye=X.indexOf(u);0<=ye&&X.splice(ye,1)}}$.d(Ue,{P:()=>b})},2306:(Ht,Ue,$)=>{"use strict";function b(X){const ye=X(ce=>{Error.call(ce),ce.stack=(new Error).stack});return ye.prototype=Object.create(Error.prototype),ye.prototype.constructor=ye,ye}$.d(Ue,{d:()=>b})},2714:(Ht,Ue,$)=>{"use strict";function b(X,u){return X.reduce((ye,ce,he)=>(ye[ce]=u[he],ye),{})}$.d(Ue,{n:()=>b})},1441:(Ht,Ue,$)=>{"use strict";$.d(Ue,{O:()=>ye,x:()=>u});var b=$(2653);let X=null;function u(ce){if(b.config.useDeprecatedSynchronousErrorHandling){const he=!X;if(he&&(X={errorThrown:!1,error:null}),ce(),he){const{errorThrown:we,error:ke}=X;if(X=null,we)throw ke}}else ce()}function ye(ce){b.config.useDeprecatedSynchronousErrorHandling&&X&&(X.errorThrown=!0,X.error=ce)}},7103:(Ht,Ue,$)=>{"use strict";function b(X,u,ye,ce=0,he=!1){const we=u.schedule(function(){ye(),he?X.add(this.schedule(null,ce)):this.unsubscribe()},ce);if(X.add(we),!he)return we}$.d(Ue,{f:()=>b})},2737:(Ht,Ue,$)=>{"use strict";function b(X){return X}$.d(Ue,{y:()=>b})},4266:(Ht,Ue,$)=>{"use strict";$.d(Ue,{z:()=>b});const b=X=>X&&"number"==typeof X.length&&"function"!=typeof X},5726:(Ht,Ue,$)=>{"use strict";$.d(Ue,{D:()=>X});var b=$(4674);function X(u){return Symbol.asyncIterator&&(0,b.m)(u?.[Symbol.asyncIterator])}},4674:(Ht,Ue,$)=>{"use strict";function b(X){return"function"==typeof X}$.d(Ue,{m:()=>b})},8382:(Ht,Ue,$)=>{"use strict";$.d(Ue,{c:()=>u});var b=$(4850),X=$(4674);function u(ye){return(0,X.m)(ye[b.L])}},3664:(Ht,Ue,$)=>{"use strict";$.d(Ue,{T:()=>u});var b=$(4971),X=$(4674);function u(ye){return(0,X.m)(ye?.[b.h])}},4026:(Ht,Ue,$)=>{"use strict";$.d(Ue,{t:()=>X});var b=$(4674);function X(u){return(0,b.m)(u?.then)}},541:(Ht,Ue,$)=>{"use strict";$.d(Ue,{L:()=>ye,Q:()=>u});var b=$(7582),X=$(4674);function u(ce){return(0,b.FC)(this,arguments,function*(){const we=ce.getReader();try{for(;;){const{value:ke,done:Ee}=yield(0,b.qq)(we.read());if(Ee)return yield(0,b.qq)(void 0);yield yield(0,b.qq)(ke)}}finally{we.releaseLock()}})}function ye(ce){return(0,X.m)(ce?.getReader)}},671:(Ht,Ue,$)=>{"use strict";$.d(Ue,{K:()=>X});var b=$(4674);function X(u){return u&&(0,b.m)(u.schedule)}},9360:(Ht,Ue,$)=>{"use strict";$.d(Ue,{A:()=>X,e:()=>u});var b=$(4674);function X(ye){return(0,b.m)(ye?.lift)}function u(ye){return ce=>{if(X(ce))return ce.lift(function(he){try{return ye(he,this)}catch(we){this.error(we)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(Ht,Ue,$)=>{"use strict";$.d(Ue,{Z:()=>ye});var b=$(7398);const{isArray:X}=Array;function ye(ce){return(0,b.U)(he=>function u(ce,he){return X(he)?ce(...he):ce(he)}(ce,he))}},2420:(Ht,Ue,$)=>{"use strict";function b(){}$.d(Ue,{Z:()=>b})},8407:(Ht,Ue,$)=>{"use strict";$.d(Ue,{U:()=>u,z:()=>X});var b=$(2737);function X(...ye){return u(ye)}function u(ye){return 0===ye.length?b.y:1===ye.length?ye[0]:function(he){return ye.reduce((we,ke)=>ke(we),he)}}},3894:(Ht,Ue,$)=>{"use strict";$.d(Ue,{h:()=>u});var b=$(2653),X=$(7599);function u(ye){X.z.setTimeout(()=>{const{onUnhandledError:ce}=b.config;if(!ce)throw ye;ce(ye)})}},9853:(Ht,Ue,$)=>{"use strict";function b(X){return new TypeError(`You provided ${null!==X&&"object"==typeof X?"an invalid object":`'${X}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}$.d(Ue,{z:()=>b})},6814:(Ht,Ue,$)=>{"use strict";$.d(Ue,{Do:()=>It,EM:()=>_o,HT:()=>ye,JF:()=>Xs,K0:()=>he,Mn:()=>mn,Mx:()=>uo,O5:()=>ho,PM:()=>Qn,S$:()=>Ce,Tn:()=>_e,UT:()=>xn,V_:()=>ke,Ye:()=>xt,ax:()=>Fs,b0:()=>qe,bD:()=>yi,ez:()=>Vr,mk:()=>Fa,p6:()=>gr,q:()=>u,sg:()=>Fs,tP:()=>po,uU:()=>La,w_:()=>ce,x:()=>Oe});var b=$(9468);let X=null;function u(){return X}function ye(M){X||(X=M)}class ce{}const he=new b.OlP("DocumentToken");let we=(()=>{class M{historyGo(V){throw new Error("Not implemented")}static#e=this.\u0275fac=function(ee){return new(ee||M)};static#t=this.\u0275prov=b.Yz7({token:M,factory:function(){return(0,b.f3M)(Ee)},providedIn:"platform"})}return M})();const ke=new b.OlP("Location Initialized");let Ee=(()=>{class M extends we{constructor(){super(),this._doc=(0,b.f3M)(he),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return u().getBaseHref(this._doc)}onPopState(V){const ee=u().getGlobalEventTarget(this._doc,"window");return ee.addEventListener("popstate",V,!1),()=>ee.removeEventListener("popstate",V)}onHashChange(V){const ee=u().getGlobalEventTarget(this._doc,"window");return ee.addEventListener("hashchange",V,!1),()=>ee.removeEventListener("hashchange",V)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(V){this._location.pathname=V}pushState(V,ee,be){this._history.pushState(V,ee,be)}replaceState(V,ee,be){this._history.replaceState(V,ee,be)}forward(){this._history.forward()}back(){this._history.back()}historyGo(V=0){this._history.go(V)}getState(){return this._history.state}static#e=this.\u0275fac=function(ee){return new(ee||M)};static#t=this.\u0275prov=b.Yz7({token:M,factory:function(){return new M},providedIn:"platform"})}return M})();function re(M,ie){if(0==M.length)return ie;if(0==ie.length)return M;let V=0;return M.endsWith("/")&&V++,ie.startsWith("/")&&V++,2==V?M+ie.substring(1):1==V?M+ie:M+"/"+ie}function ue(M){const ie=M.match(/#|\?|$/),V=ie&&ie.index||M.length;return M.slice(0,V-("/"===M[V-1]?1:0))+M.slice(V)}function Ae(M){return M&&"?"!==M[0]?"?"+M:M}let Ce=(()=>{class M{historyGo(V){throw new Error("Not implemented")}static#e=this.\u0275fac=function(ee){return new(ee||M)};static#t=this.\u0275prov=b.Yz7({token:M,factory:function(){return(0,b.f3M)(qe)},providedIn:"root"})}return M})();const Me=new b.OlP("appBaseHref");let qe=(()=>{class M extends Ce{constructor(V,ee){super(),this._platformLocation=V,this._removeListenerFns=[],this._baseHref=ee??this._platformLocation.getBaseHrefFromDOM()??(0,b.f3M)(he).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(V){this._removeListenerFns.push(this._platformLocation.onPopState(V),this._platformLocation.onHashChange(V))}getBaseHref(){return this._baseHref}prepareExternalUrl(V){return re(this._baseHref,V)}path(V=!1){const ee=this._platformLocation.pathname+Ae(this._platformLocation.search),be=this._platformLocation.hash;return be&&V?`${ee}${be}`:ee}pushState(V,ee,be,it){const wt=this.prepareExternalUrl(be+Ae(it));this._platformLocation.pushState(V,ee,wt)}replaceState(V,ee,be,it){const wt=this.prepareExternalUrl(be+Ae(it));this._platformLocation.replaceState(V,ee,wt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(V=0){this._platformLocation.historyGo?.(V)}static#e=this.\u0275fac=function(ee){return new(ee||M)(b.LFG(we),b.LFG(Me,8))};static#t=this.\u0275prov=b.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"})}return M})(),It=(()=>{class M extends Ce{constructor(V,ee){super(),this._platformLocation=V,this._baseHref="",this._removeListenerFns=[],null!=ee&&(this._baseHref=ee)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(V){this._removeListenerFns.push(this._platformLocation.onPopState(V),this._platformLocation.onHashChange(V))}getBaseHref(){return this._baseHref}path(V=!1){let ee=this._platformLocation.hash;return null==ee&&(ee="#"),ee.length>0?ee.substring(1):ee}prepareExternalUrl(V){const ee=re(this._baseHref,V);return ee.length>0?"#"+ee:ee}pushState(V,ee,be,it){let wt=this.prepareExternalUrl(be+Ae(it));0==wt.length&&(wt=this._platformLocation.pathname),this._platformLocation.pushState(V,ee,wt)}replaceState(V,ee,be,it){let wt=this.prepareExternalUrl(be+Ae(it));0==wt.length&&(wt=this._platformLocation.pathname),this._platformLocation.replaceState(V,ee,wt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(V=0){this._platformLocation.historyGo?.(V)}static#e=this.\u0275fac=function(ee){return new(ee||M)(b.LFG(we),b.LFG(Me,8))};static#t=this.\u0275prov=b.Yz7({token:M,factory:M.\u0275fac})}return M})(),xt=(()=>{class M{constructor(V){this._subject=new b.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=V;const ee=this._locationStrategy.getBaseHref();this._basePath=function st(M){if(new RegExp("^(https?:)?//").test(M)){const[,V]=M.split(/\/\/[^\/]+/);return V}return M}(ue(Tt(ee))),this._locationStrategy.onPopState(be=>{this._subject.emit({url:this.path(!0),pop:!0,state:be.state,type:be.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(V=!1){return this.normalize(this._locationStrategy.path(V))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(V,ee=""){return this.path()==this.normalize(V+Ae(ee))}normalize(V){return M.stripTrailingSlash(function an(M,ie){if(!M||!ie.startsWith(M))return ie;const V=ie.substring(M.length);return""===V||["/",";","?","#"].includes(V[0])?V:ie}(this._basePath,Tt(V)))}prepareExternalUrl(V){return V&&"/"!==V[0]&&(V="/"+V),this._locationStrategy.prepareExternalUrl(V)}go(V,ee="",be=null){this._locationStrategy.pushState(be,"",V,ee),this._notifyUrlChangeListeners(this.prepareExternalUrl(V+Ae(ee)),be)}replaceState(V,ee="",be=null){this._locationStrategy.replaceState(be,"",V,ee),this._notifyUrlChangeListeners(this.prepareExternalUrl(V+Ae(ee)),be)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(V=0){this._locationStrategy.historyGo?.(V)}onUrlChange(V){return this._urlChangeListeners.push(V),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ee=>{this._notifyUrlChangeListeners(ee.url,ee.state)})),()=>{const ee=this._urlChangeListeners.indexOf(V);this._urlChangeListeners.splice(ee,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(V="",ee){this._urlChangeListeners.forEach(be=>be(V,ee))}subscribe(V,ee,be){return this._subject.subscribe({next:V,error:ee,complete:be})}static#e=this.normalizeQueryParams=Ae;static#t=this.joinWithSlash=re;static#n=this.stripTrailingSlash=ue;static#r=this.\u0275fac=function(ee){return new(ee||M)(b.LFG(Ce))};static#i=this.\u0275prov=b.Yz7({token:M,factory:function(){return function Ct(){return new xt((0,b.LFG)(Ce))}()},providedIn:"root"})}return M})();function Tt(M){return M.replace(/\/index.html$/,"")}var Oe=function(M){return M[M.Format=0]="Format",M[M.Standalone=1]="Standalone",M}(Oe||{}),_e=function(M){return M[M.Narrow=0]="Narrow",M[M.Abbreviated=1]="Abbreviated",M[M.Wide=2]="Wide",M[M.Short=3]="Short",M}(_e||{}),Le=function(M){return M[M.Short=0]="Short",M[M.Medium=1]="Medium",M[M.Long=2]="Long",M[M.Full=3]="Full",M}(Le||{}),lt=function(M){return M[M.Decimal=0]="Decimal",M[M.Group=1]="Group",M[M.List=2]="List",M[M.PercentSign=3]="PercentSign",M[M.PlusSign=4]="PlusSign",M[M.MinusSign=5]="MinusSign",M[M.Exponential=6]="Exponential",M[M.SuperscriptingExponent=7]="SuperscriptingExponent",M[M.PerMille=8]="PerMille",M[M.Infinity=9]="Infinity",M[M.NaN=10]="NaN",M[M.TimeSeparator=11]="TimeSeparator",M[M.CurrencyDecimal=12]="CurrencyDecimal",M[M.CurrencyGroup=13]="CurrencyGroup",M}(lt||{});function mn(M,ie,V){const ee=(0,b.cg1)(M),it=xe([ee[b.wAp.DaysFormat],ee[b.wAp.DaysStandalone]],ie);return xe(it,V)}function xn(M,ie,V){const ee=(0,b.cg1)(M),it=xe([ee[b.wAp.MonthsFormat],ee[b.wAp.MonthsStandalone]],ie);return xe(it,V)}function je(M,ie){return xe((0,b.cg1)(M)[b.wAp.DateFormat],ie)}function Ze(M,ie){return xe((0,b.cg1)(M)[b.wAp.TimeFormat],ie)}function He(M,ie){return xe((0,b.cg1)(M)[b.wAp.DateTimeFormat],ie)}function Ye(M,ie){const V=(0,b.cg1)(M),ee=V[b.wAp.NumberSymbols][ie];if(typeof ee>"u"){if(ie===lt.CurrencyDecimal)return V[b.wAp.NumberSymbols][lt.Decimal];if(ie===lt.CurrencyGroup)return V[b.wAp.NumberSymbols][lt.Group]}return ee}function pt(M){if(!M[b.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${M[b.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function xe(M,ie){for(let V=ie;V>-1;V--)if(typeof M[V]<"u")return M[V];throw new Error("Locale data API: locale data undefined")}function De(M){const[ie,V]=M.split(":");return{hours:+ie,minutes:+V}}const kt=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,br={},_n=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Sn=function(M){return M[M.Short=0]="Short",M[M.ShortGMT=1]="ShortGMT",M[M.Long=2]="Long",M[M.Extended=3]="Extended",M}(Sn||{}),en=function(M){return M[M.FullYear=0]="FullYear",M[M.Month=1]="Month",M[M.Date=2]="Date",M[M.Hours=3]="Hours",M[M.Minutes=4]="Minutes",M[M.Seconds=5]="Seconds",M[M.FractionalSeconds=6]="FractionalSeconds",M[M.Day=7]="Day",M}(en||{}),fn=function(M){return M[M.DayPeriods=0]="DayPeriods",M[M.Days=1]="Days",M[M.Months=2]="Months",M[M.Eras=3]="Eras",M}(fn||{});function gr(M,ie,V,ee){let be=function U(M){if(q(M))return M;if("number"==typeof M&&!isNaN(M))return new Date(M);if("string"==typeof M){if(M=M.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(M)){const[be,it=1,wt=1]=M.split("-").map(In=>+In);return nn(be,it-1,wt)}const V=parseFloat(M);if(!isNaN(M-V))return new Date(V);let ee;if(ee=M.match(kt))return function j(M){const ie=new Date(0);let V=0,ee=0;const be=M[8]?ie.setUTCFullYear:ie.setFullYear,it=M[8]?ie.setUTCHours:ie.setHours;M[9]&&(V=Number(M[9]+M[10]),ee=Number(M[9]+M[11])),be.call(ie,Number(M[1]),Number(M[2])-1,Number(M[3]));const wt=Number(M[4]||0)-V,In=Number(M[5]||0)-ee,Nr=Number(M[6]||0),Pr=Math.floor(1e3*parseFloat("0."+(M[7]||0)));return it.call(ie,wt,In,Nr,Pr),ie}(ee)}const ie=new Date(M);if(!q(ie))throw new Error(`Unable to convert "${M}" into a date`);return ie}(M);ie=Cr(V,ie)||ie;let In,wt=[];for(;ie;){if(In=_n.exec(ie),!In){wt.push(ie);break}{wt=wt.concat(In.slice(1));const Mr=wt.pop();if(!Mr)break;ie=Mr}}let Nr=be.getTimezoneOffset();ee&&(Nr=Zt(ee,Nr),be=function J(M,ie,V){const ee=V?-1:1,be=M.getTimezoneOffset();return function qn(M,ie){return(M=new Date(M.getTime())).setMinutes(M.getMinutes()+ie),M}(M,ee*(Zt(ie,be)-be))}(be,ee,!0));let Pr="";return wt.forEach(Mr=>{const Xn=function zt(M){if(At[M])return At[M];let ie;switch(M){case"G":case"GG":case"GGG":ie=Vn(fn.Eras,_e.Abbreviated);break;case"GGGG":ie=Vn(fn.Eras,_e.Wide);break;case"GGGGG":ie=Vn(fn.Eras,_e.Narrow);break;case"y":ie=Wn(en.FullYear,1,0,!1,!0);break;case"yy":ie=Wn(en.FullYear,2,0,!0,!0);break;case"yyy":ie=Wn(en.FullYear,3,0,!1,!0);break;case"yyyy":ie=Wn(en.FullYear,4,0,!1,!0);break;case"Y":ie=nt(1);break;case"YY":ie=nt(2,!0);break;case"YYY":ie=nt(3);break;case"YYYY":ie=nt(4);break;case"M":case"L":ie=Wn(en.Month,1,1);break;case"MM":case"LL":ie=Wn(en.Month,2,1);break;case"MMM":ie=Vn(fn.Months,_e.Abbreviated);break;case"MMMM":ie=Vn(fn.Months,_e.Wide);break;case"MMMMM":ie=Vn(fn.Months,_e.Narrow);break;case"LLL":ie=Vn(fn.Months,_e.Abbreviated,Oe.Standalone);break;case"LLLL":ie=Vn(fn.Months,_e.Wide,Oe.Standalone);break;case"LLLLL":ie=Vn(fn.Months,_e.Narrow,Oe.Standalone);break;case"w":ie=Ne(1);break;case"ww":ie=Ne(2);break;case"W":ie=Ne(1,!0);break;case"d":ie=Wn(en.Date,1);break;case"dd":ie=Wn(en.Date,2);break;case"c":case"cc":ie=Wn(en.Day,1);break;case"ccc":ie=Vn(fn.Days,_e.Abbreviated,Oe.Standalone);break;case"cccc":ie=Vn(fn.Days,_e.Wide,Oe.Standalone);break;case"ccccc":ie=Vn(fn.Days,_e.Narrow,Oe.Standalone);break;case"cccccc":ie=Vn(fn.Days,_e.Short,Oe.Standalone);break;case"E":case"EE":case"EEE":ie=Vn(fn.Days,_e.Abbreviated);break;case"EEEE":ie=Vn(fn.Days,_e.Wide);break;case"EEEEE":ie=Vn(fn.Days,_e.Narrow);break;case"EEEEEE":ie=Vn(fn.Days,_e.Short);break;case"a":case"aa":case"aaa":ie=Vn(fn.DayPeriods,_e.Abbreviated);break;case"aaaa":ie=Vn(fn.DayPeriods,_e.Wide);break;case"aaaaa":ie=Vn(fn.DayPeriods,_e.Narrow);break;case"b":case"bb":case"bbb":ie=Vn(fn.DayPeriods,_e.Abbreviated,Oe.Standalone,!0);break;case"bbbb":ie=Vn(fn.DayPeriods,_e.Wide,Oe.Standalone,!0);break;case"bbbbb":ie=Vn(fn.DayPeriods,_e.Narrow,Oe.Standalone,!0);break;case"B":case"BB":case"BBB":ie=Vn(fn.DayPeriods,_e.Abbreviated,Oe.Format,!0);break;case"BBBB":ie=Vn(fn.DayPeriods,_e.Wide,Oe.Format,!0);break;case"BBBBB":ie=Vn(fn.DayPeriods,_e.Narrow,Oe.Format,!0);break;case"h":ie=Wn(en.Hours,1,-12);break;case"hh":ie=Wn(en.Hours,2,-12);break;case"H":ie=Wn(en.Hours,1);break;case"HH":ie=Wn(en.Hours,2);break;case"m":ie=Wn(en.Minutes,1);break;case"mm":ie=Wn(en.Minutes,2);break;case"s":ie=Wn(en.Seconds,1);break;case"ss":ie=Wn(en.Seconds,2);break;case"S":ie=Wn(en.FractionalSeconds,1);break;case"SS":ie=Wn(en.FractionalSeconds,2);break;case"SSS":ie=Wn(en.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":ie=qt(Sn.Short);break;case"ZZZZZ":ie=qt(Sn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":ie=qt(Sn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":ie=qt(Sn.Long);break;default:return null}return At[M]=ie,ie}(Mr);Pr+=Xn?Xn(be,V,Nr):"''"===Mr?"'":Mr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Pr}function nn(M,ie,V){const ee=new Date(0);return ee.setFullYear(M,ie,V),ee.setHours(0,0,0),ee}function Cr(M,ie){const V=function ut(M){return(0,b.cg1)(M)[b.wAp.LocaleId]}(M);if(br[V]=br[V]||{},br[V][ie])return br[V][ie];let ee="";switch(ie){case"shortDate":ee=je(M,Le.Short);break;case"mediumDate":ee=je(M,Le.Medium);break;case"longDate":ee=je(M,Le.Long);break;case"fullDate":ee=je(M,Le.Full);break;case"shortTime":ee=Ze(M,Le.Short);break;case"mediumTime":ee=Ze(M,Le.Medium);break;case"longTime":ee=Ze(M,Le.Long);break;case"fullTime":ee=Ze(M,Le.Full);break;case"short":const be=Cr(M,"shortTime"),it=Cr(M,"shortDate");ee=Sr(He(M,Le.Short),[be,it]);break;case"medium":const wt=Cr(M,"mediumTime"),In=Cr(M,"mediumDate");ee=Sr(He(M,Le.Medium),[wt,In]);break;case"long":const Nr=Cr(M,"longTime"),Pr=Cr(M,"longDate");ee=Sr(He(M,Le.Long),[Nr,Pr]);break;case"full":const Mr=Cr(M,"fullTime"),Xn=Cr(M,"fullDate");ee=Sr(He(M,Le.Full),[Mr,Xn])}return ee&&(br[V][ie]=ee),ee}function Sr(M,ie){return ie&&(M=M.replace(/\{([^}]+)}/g,function(V,ee){return null!=ie&&ee in ie?ie[ee]:V})),M}function wn(M,ie,V="-",ee,be){let it="";(M<0||be&&M<=0)&&(be?M=1-M:(M=-M,it=V));let wt=String(M);for(;wt.length<ie;)wt="0"+wt;return ee&&(wt=wt.slice(wt.length-ie)),it+wt}function Wn(M,ie,V=0,ee=!1,be=!1){return function(it,wt){let In=function sr(M,ie){switch(M){case en.FullYear:return ie.getFullYear();case en.Month:return ie.getMonth();case en.Date:return ie.getDate();case en.Hours:return ie.getHours();case en.Minutes:return ie.getMinutes();case en.Seconds:return ie.getSeconds();case en.FractionalSeconds:return ie.getMilliseconds();case en.Day:return ie.getDay();default:throw new Error(`Unknown DateType value "${M}".`)}}(M,it);if((V>0||In>-V)&&(In+=V),M===en.Hours)0===In&&-12===V&&(In=12);else if(M===en.FractionalSeconds)return function lr(M,ie){return wn(M,3).substring(0,ie)}(In,ie);const Nr=Ye(wt,lt.MinusSign);return wn(In,ie,Nr,ee,be)}}function Vn(M,ie,V=Oe.Format,ee=!1){return function(be,it){return function ei(M,ie,V,ee,be,it){switch(V){case fn.Months:return xn(ie,be,ee)[M.getMonth()];case fn.Days:return mn(ie,be,ee)[M.getDay()];case fn.DayPeriods:const wt=M.getHours(),In=M.getMinutes();if(it){const Pr=function bn(M){const ie=(0,b.cg1)(M);return pt(ie),(ie[b.wAp.ExtraData][2]||[]).map(ee=>"string"==typeof ee?De(ee):[De(ee[0]),De(ee[1])])}(ie),Mr=function Jn(M,ie,V){const ee=(0,b.cg1)(M);pt(ee);const it=xe([ee[b.wAp.ExtraData][0],ee[b.wAp.ExtraData][1]],ie)||[];return xe(it,V)||[]}(ie,be,ee),Xn=Pr.findIndex(mr=>{if(Array.isArray(mr)){const[wr,Ir]=mr,Ws=wt>=wr.hours&&In>=wr.minutes,fi=wt<Ir.hours||wt===Ir.hours&&In<Ir.minutes;if(wr.hours<Ir.hours){if(Ws&&fi)return!0}else if(Ws||fi)return!0}else if(mr.hours===wt&&mr.minutes===In)return!0;return!1});if(-1!==Xn)return Mr[Xn]}return function sn(M,ie,V){const ee=(0,b.cg1)(M),it=xe([ee[b.wAp.DayPeriodsFormat],ee[b.wAp.DayPeriodsStandalone]],ie);return xe(it,V)}(ie,be,ee)[wt<12?0:1];case fn.Eras:return function Yn(M,ie){return xe((0,b.cg1)(M)[b.wAp.Eras],ie)}(ie,ee)[M.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${V}`)}}(be,it,M,ie,V,ee)}}function qt(M){return function(ie,V,ee){const be=-1*ee,it=Ye(V,lt.MinusSign),wt=be>0?Math.floor(be/60):Math.ceil(be/60);switch(M){case Sn.Short:return(be>=0?"+":"")+wn(wt,2,it)+wn(Math.abs(be%60),2,it);case Sn.ShortGMT:return"GMT"+(be>=0?"+":"")+wn(wt,1,it);case Sn.Long:return"GMT"+(be>=0?"+":"")+wn(wt,2,it)+":"+wn(Math.abs(be%60),2,it);case Sn.Extended:return 0===ee?"Z":(be>=0?"+":"")+wn(wt,2,it)+":"+wn(Math.abs(be%60),2,it);default:throw new Error(`Unknown zone width "${M}"`)}}}const Wi=0,qr=4;function at(M){return nn(M.getFullYear(),M.getMonth(),M.getDate()+(qr-M.getDay()))}function Ne(M,ie=!1){return function(V,ee){let be;if(ie){const it=new Date(V.getFullYear(),V.getMonth(),1).getDay()-1,wt=V.getDate();be=1+Math.floor((wt+it)/7)}else{const it=at(V),wt=function jr(M){const ie=nn(M,Wi,1).getDay();return nn(M,0,1+(ie<=qr?qr:qr+7)-ie)}(it.getFullYear()),In=it.getTime()-wt.getTime();be=1+Math.round(In/6048e5)}return wn(be,M,Ye(ee,lt.MinusSign))}}function nt(M,ie=!1){return function(V,ee){return wn(at(V).getFullYear(),M,Ye(ee,lt.MinusSign),ie)}}const At={};function Zt(M,ie){M=M.replace(/:/g,"");const V=Date.parse("Jan 01, 1970 00:00:00 "+M)/6e4;return isNaN(V)?ie:V}function q(M){return M instanceof Date&&!isNaN(M.valueOf())}function uo(M,ie){ie=encodeURIComponent(ie);for(const V of M.split(";")){const ee=V.indexOf("="),[be,it]=-1==ee?[V,""]:[V.slice(0,ee),V.slice(ee+1)];if(be.trim()===ie)return decodeURIComponent(it)}return null}const Qo=/\s+/,Xo=[];let Fa=(()=>{class M{constructor(V,ee,be,it){this._iterableDiffers=V,this._keyValueDiffers=ee,this._ngEl=be,this._renderer=it,this.initialClasses=Xo,this.stateMap=new Map}set klass(V){this.initialClasses=null!=V?V.trim().split(Qo):Xo}set ngClass(V){this.rawClass="string"==typeof V?V.trim().split(Qo):V}ngDoCheck(){for(const ee of this.initialClasses)this._updateState(ee,!0);const V=this.rawClass;if(Array.isArray(V)||V instanceof Set)for(const ee of V)this._updateState(ee,!0);else if(null!=V)for(const ee of Object.keys(V))this._updateState(ee,!!V[ee]);this._applyStateDiff()}_updateState(V,ee){const be=this.stateMap.get(V);void 0!==be?(be.enabled!==ee&&(be.changed=!0,be.enabled=ee),be.touched=!0):this.stateMap.set(V,{enabled:ee,changed:!0,touched:!0})}_applyStateDiff(){for(const V of this.stateMap){const ee=V[0],be=V[1];be.changed?(this._toggleClass(ee,be.enabled),be.changed=!1):be.touched||(be.enabled&&this._toggleClass(ee,!1),this.stateMap.delete(ee)),be.touched=!1}}_toggleClass(V,ee){(V=V.trim()).length>0&&V.split(Qo).forEach(be=>{ee?this._renderer.addClass(this._ngEl.nativeElement,be):this._renderer.removeClass(this._ngEl.nativeElement,be)})}static#e=this.\u0275fac=function(ee){return new(ee||M)(b.Y36(b.ZZ4),b.Y36(b.aQg),b.Y36(b.SBq),b.Y36(b.Qsj))};static#t=this.\u0275dir=b.lG2({type:M,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return M})();class Kr{constructor(ie,V,ee,be){this.$implicit=ie,this.ngForOf=V,this.index=ee,this.count=be}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Fs=(()=>{class M{set ngForOf(V){this._ngForOf=V,this._ngForOfDirty=!0}set ngForTrackBy(V){this._trackByFn=V}get ngForTrackBy(){return this._trackByFn}constructor(V,ee,be){this._viewContainer=V,this._template=ee,this._differs=be,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(V){V&&(this._template=V)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const V=this._ngForOf;!this._differ&&V&&(this._differ=this._differs.find(V).create(this.ngForTrackBy))}if(this._differ){const V=this._differ.diff(this._ngForOf);V&&this._applyChanges(V)}}_applyChanges(V){const ee=this._viewContainer;V.forEachOperation((be,it,wt)=>{if(null==be.previousIndex)ee.createEmbeddedView(this._template,new Kr(be.item,this._ngForOf,-1,-1),null===wt?void 0:wt);else if(null==wt)ee.remove(null===it?void 0:it);else if(null!==it){const In=ee.get(it);ee.move(In,wt),gi(In,be)}});for(let be=0,it=ee.length;be<it;be++){const In=ee.get(be).context;In.index=be,In.count=it,In.ngForOf=this._ngForOf}V.forEachIdentityChange(be=>{gi(ee.get(be.currentIndex),be)})}static ngTemplateContextGuard(V,ee){return!0}static#e=this.\u0275fac=function(ee){return new(ee||M)(b.Y36(b.s_b),b.Y36(b.Rgc),b.Y36(b.ZZ4))};static#t=this.\u0275dir=b.lG2({type:M,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return M})();function gi(M,ie){M.context.$implicit=ie.item}let ho=(()=>{class M{constructor(V,ee){this._viewContainer=V,this._context=new wa,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ee}set ngIf(V){this._context.$implicit=this._context.ngIf=V,this._updateView()}set ngIfThen(V){mi("ngIfThen",V),this._thenTemplateRef=V,this._thenViewRef=null,this._updateView()}set ngIfElse(V){mi("ngIfElse",V),this._elseTemplateRef=V,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(V,ee){return!0}static#e=this.\u0275fac=function(ee){return new(ee||M)(b.Y36(b.s_b),b.Y36(b.Rgc))};static#t=this.\u0275dir=b.lG2({type:M,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return M})();class wa{constructor(){this.$implicit=null,this.ngIf=null}}function mi(M,ie){if(ie&&!ie.createEmbeddedView)throw new Error(`${M} must be a TemplateRef, but received '${(0,b.AaK)(ie)}'.`)}let po=(()=>{class M{constructor(V){this._viewContainerRef=V,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(V){if(V.ngTemplateOutlet||V.ngTemplateOutletInjector){const ee=this._viewContainerRef;if(this._viewRef&&ee.remove(ee.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:be,ngTemplateOutletContext:it,ngTemplateOutletInjector:wt}=this;this._viewRef=ee.createEmbeddedView(be,it,wt?{injector:wt}:void 0)}else this._viewRef=null}else this._viewRef&&V.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(ee){return new(ee||M)(b.Y36(b.s_b))};static#t=this.\u0275dir=b.lG2({type:M,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[b.TTD]})}return M})();const na=new b.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),ra=new b.OlP("DATE_PIPE_DEFAULT_OPTIONS");let La=(()=>{class M{constructor(V,ee,be){this.locale=V,this.defaultTimezone=ee,this.defaultOptions=be}transform(V,ee,be,it){if(null==V||""===V||V!=V)return null;try{return gr(V,ee??this.defaultOptions?.dateFormat??"mediumDate",it||this.locale,be??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(wt){throw function os(M,ie){return new b.vHH(2100,!1)}()}}static#e=this.\u0275fac=function(ee){return new(ee||M)(b.Y36(b.soG,16),b.Y36(na,24),b.Y36(ra,24))};static#t=this.\u0275pipe=b.Yjl({name:"date",type:M,pure:!0,standalone:!0})}return M})(),Vr=(()=>{class M{static#e=this.\u0275fac=function(ee){return new(ee||M)};static#t=this.\u0275mod=b.oAB({type:M});static#n=this.\u0275inj=b.cJS({})}return M})();const yi="browser",go="server";function Qn(M){return M===go}let _o=(()=>{class M{static#e=this.\u0275prov=(0,b.Yz7)({token:M,providedIn:"root",factory:()=>new Lo((0,b.LFG)(he),window)})}return M})();class Lo{constructor(ie,V){this.document=ie,this.window=V,this.offset=()=>[0,0]}setOffset(ie){this.offset=Array.isArray(ie)?()=>ie:ie}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ie){this.supportsScrolling()&&this.window.scrollTo(ie[0],ie[1])}scrollToAnchor(ie){if(!this.supportsScrolling())return;const V=function zr(M,ie){const V=M.getElementById(ie)||M.getElementsByName(ie)[0];if(V)return V;if("function"==typeof M.createTreeWalker&&M.body&&"function"==typeof M.body.attachShadow){const ee=M.createTreeWalker(M.body,NodeFilter.SHOW_ELEMENT);let be=ee.currentNode;for(;be;){const it=be.shadowRoot;if(it){const wt=it.getElementById(ie)||it.querySelector(`[name="${ie}"]`);if(wt)return wt}be=ee.nextNode()}}return null}(this.document,ie);V&&(this.scrollToElement(V),V.focus())}setHistoryScrollRestoration(ie){this.supportsScrolling()&&(this.window.history.scrollRestoration=ie)}scrollToElement(ie){const V=ie.getBoundingClientRect(),ee=V.left+this.window.pageXOffset,be=V.top+this.window.pageYOffset,it=this.offset();this.window.scrollTo(ee-it[0],be-it[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Xs{}},9468:(Ht,Ue,$)=>{"use strict";$.d(Ue,{QbO:()=>$0,tb:()=>uT,AFp:()=>Ey,ip1:()=>Aw,hGG:()=>OD,z2F:()=>$c,Ojb:()=>PT,sBO:()=>wD,Sil:()=>XE,EJc:()=>QE,ktI:()=>Ti,Xts:()=>pf,SBq:()=>hh,lqb:()=>kc,qLn:()=>ed,vpe:()=>Ol,tBr:()=>du,XFs:()=>nn,OlP:()=>qt,zs3:()=>ga,ZZ4:()=>qw,aQg:()=>Zw,soG:()=>Ow,YKP:()=>F_,h0i:()=>Gl,PXZ:()=>$C,R0b:()=>Zo,FiY:()=>Xh,Lbi:()=>qo,g9A:()=>Wo,Qsj:()=>UT,FYo:()=>Wm,JOm:()=>v0,q3G:()=>Ys,tp0:()=>cm,Rgc:()=>Gg,dDg:()=>fD,eoX:()=>Kg,q4F:()=>Q0,GfV:()=>Ry,s_b:()=>lw,ifc:()=>Ui,gHi:()=>ky,VuI:()=>xD,Flj:()=>Ds,LMc:()=>RS,MMx:()=>Kb,Lck:()=>_1,eFA:()=>dT,Gpc:()=>an,f3M:()=>nr,X6Q:()=>IS,$WT:()=>ms,_c5:()=>Kw,qFp:()=>Jg,tdS:()=>ie,rg0:()=>Pr,c2e:()=>aD,zSh:()=>wy,HDt:()=>Nw,wAp:()=>D_,vHH:()=>Oe,lri:()=>aT,rWj:()=>Uw,JZr:()=>We,EiD:()=>hf,mCW:()=>P0,qzn:()=>Vp,JVY:()=>xT,pB0:()=>Am,eBb:()=>uf,L6k:()=>lf,LAX:()=>Hp,cg1:()=>T_,kL8:()=>Fg,dqk:()=>sr,Z0I:()=>bt,eJc:()=>Hv,QGY:()=>Fl,F4k:()=>f_,RDi:()=>fI,AaK:()=>It,z3N:()=>pu,zW0:()=>Ka,qOj:()=>Ff,Xq5:()=>et,TTD:()=>Ws,_Bn:()=>bE,jDz:()=>v1,xp6:()=>el,uIk:()=>Du,Tol:()=>ol,ekj:()=>vv,Suo:()=>B1,Xpm:()=>Yr,lG2:()=>La,Yz7:()=>xe,cJS:()=>Xe,oAB:()=>Hi,Yjl:()=>Fo,Y36:()=>bu,_UZ:()=>Md,BQk:()=>h_,ynx:()=>Og,qZA:()=>Nd,TgZ:()=>Nh,EpF:()=>Ci,n5z:()=>te,Ikx:()=>E_,SDv:()=>f1,LFG:()=>Un,$8M:()=>ct,$Z:()=>fg,NdJ:()=>Ng,CRH:()=>U1,kcU:()=>zd,O4$:()=>Oc,oxw:()=>xd,ALo:()=>nw,lcZ:()=>AE,xi3:()=>rw,Hsn:()=>hv,F$t:()=>p_,Q6J:()=>Gf,s9C:()=>Wf,MGl:()=>g_,VKq:()=>TE,WLB:()=>tw,kEZ:()=>A1,iGM:()=>zg,MAs:()=>Od,KtG:()=>Hh,Jf7:()=>Vy,CHM:()=>Fu,uOi:()=>Qc,LSH:()=>zp,P3R:()=>Wp,YNc:()=>od,W1O:()=>_w,_uU:()=>Mt,Oqu:()=>Ln,hij:()=>En,lnq:()=>ar,Gf:()=>mw});var b=$(8645),X=$(7394),u=$(5592),ye=$(3019),ce=$(5619),he=$(2096),we=$(4829),ke=$(305),Ee=$(9360);function re(r={}){const{connector:s=(()=>new b.x),resetOnError:a=!0,resetOnComplete:h=!0,resetOnRefCountZero:g=!0}=r;return y=>{let I,C,P,W=0,oe=!1,me=!1;const Fe=()=>{C?.unsubscribe(),C=void 0},Ge=()=>{Fe(),I=P=void 0,oe=me=!1},vt=()=>{const Rt=I;Ge(),Rt?.unsubscribe()};return(0,Ee.e)((Rt,on)=>{W++,!me&&!oe&&Fe();const Cn=P=P??s();on.add(()=>{W--,0===W&&!me&&!oe&&(C=ue(vt,g))}),Cn.subscribe(on),!I&&W>0&&(I=new ke.Hp({next:Et=>Cn.next(Et),error:Et=>{me=!0,Fe(),C=ue(Ge,a,Et),Cn.error(Et)},complete:()=>{oe=!0,Fe(),C=ue(Ge,h),Cn.complete()}}),(0,we.Xf)(Rt).subscribe(I))})(y)}}function ue(r,s,...a){if(!0===s)return void r();if(!1===s)return;const h=new ke.Hp({next:()=>{h.unsubscribe(),r()}});return(0,we.Xf)(s(...a)).subscribe(h)}var Ae=$(4664),Ce=$(3997);function Me(r){for(let s in r)if(r[s]===Me)return s;throw Error("Could not find renamed property on target object.")}function qe(r,s){for(const a in s)s.hasOwnProperty(a)&&!r.hasOwnProperty(a)&&(r[a]=s[a])}function It(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(It).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const s=r.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function xt(r,s){return null==r||""===r?null===s?"":s:null==s||""===s?r:r+" "+s}const Ct=Me({__forward_ref__:Me});function an(r){return r.__forward_ref__=an,r.toString=function(){return It(this())},r}function Tt(r){return st(r)?r():r}function st(r){return"function"==typeof r&&r.hasOwnProperty(Ct)&&r.__forward_ref__===an}function rt(r){return r&&!!r.\u0275providers}const We="https://g.co/ng/security#xss";class Oe extends Error{constructor(s,a){super(function _e(r,s){return`NG0${Math.abs(r)}${s?": "+s:""}`}(s,a)),this.code=s}}function Le(r){return"string"==typeof r?r:null==r?"":String(r)}function mn(r,s){throw new Oe(-201,!1)}function pt(r,s,a,h){throw new Error(`ASSERTION ERROR: ${r}`+(null==h?"":` [Expected=> ${a} ${h} ${s} <=Actual]`))}function xe(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function Xe(r){return{providers:r.providers||[],imports:r.imports||[]}}function mt(r){return kt(r,Sn)||kt(r,fn)}function bt(r){return null!==mt(r)}function kt(r,s){return r.hasOwnProperty(s)?r[s]:null}function _n(r){return r&&(r.hasOwnProperty(en)||r.hasOwnProperty(gr))?r[en]:null}const Sn=Me({\u0275prov:Me}),en=Me({\u0275inj:Me}),fn=Me({ngInjectableDef:Me}),gr=Me({ngInjectorDef:Me});var nn=function(r){return r[r.Default=0]="Default",r[r.Host=1]="Host",r[r.Self=2]="Self",r[r.SkipSelf=4]="SkipSelf",r[r.Optional=8]="Optional",r}(nn||{});let Cr;function Sr(){return Cr}function wn(r){const s=Cr;return Cr=r,s}function lr(r,s,a){const h=mt(r);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:a&nn.Optional?null:void 0!==s?s:void mn(It(r))}const sr=globalThis;class qt{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=xe({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const U={},j="__NG_DI_FLAG__",q="ngTempTokenPath",Te=/\n/gm,Dt="__source";let un;function Bn(r){const s=un;return un=r,s}function Yt(r,s=nn.Default){if(void 0===un)throw new Oe(-203,!1);return null===un?lr(r,void 0,s):un.get(r,s&nn.Optional?null:void 0,s)}function Un(r,s=nn.Default){return(Sr()||Yt)(Tt(r),s)}function nr(r,s=nn.Default){return Un(r,hs(s))}function hs(r){return typeof r>"u"||"number"==typeof r?r:0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)}function Po(r){const s=[];for(let a=0;a<r.length;a++){const h=Tt(r[a]);if(Array.isArray(h)){if(0===h.length)throw new Oe(900,!1);let g,y=nn.Default;for(let I=0;I<h.length;I++){const C=h[I],P=ss(C);"number"==typeof P?-1===P?g=C.token:y|=P:g=C}s.push(Un(g,y))}else s.push(Un(h))}return s}function is(r,s){return r[j]=s,r.prototype[j]=s,r}function ss(r){return r[j]}function Bi(r){return{toString:r}.toString()}var lo=function(r){return r[r.OnPush=0]="OnPush",r[r.Default=1]="Default",r}(lo||{}),Ui=function(r){return r[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",r}(Ui||{});const Vi={},ir=[],uo=Me({\u0275cmp:Me}),Qo=Me({\u0275dir:Me}),Xo=Me({\u0275pipe:Me}),Fa=Me({\u0275mod:Me}),fs=Me({\u0275fac:Me}),ba=Me({__NG_ELEMENT_ID__:Me}),Kr=Me({__NG_ENV_ID__:Me});function Fs(r,s,a){let h=r.length;for(;;){const g=r.indexOf(s,a);if(-1===g)return g;if(0===g||r.charCodeAt(g-1)<=32){const y=s.length;if(g+y===h||r.charCodeAt(g+y)<=32)return g}a=g+1}}function gi(r,s,a){let h=0;for(;h<a.length;){const g=a[h];if("number"==typeof g){if(0!==g)break;h++;const y=a[h++],I=a[h++],C=a[h++];r.setAttribute(s,I,C,y)}else{const y=g,I=a[++h];ho(y)?r.setProperty(s,y,I):r.setAttribute(s,y,I),h++}}return h}function ea(r){return 3===r||4===r||6===r}function ho(r){return 64===r.charCodeAt(0)}function wa(r,s){if(null!==s&&0!==s.length)if(null===r||0===r.length)r=s.slice();else{let a=-1;for(let h=0;h<s.length;h++){const g=s[h];"number"==typeof g?a=g:0===a||mi(r,a,g,null,-1===a||2===a?s[++h]:null)}}return r}function mi(r,s,a,h,g){let y=0,I=r.length;if(-1===s)I=-1;else for(;y<r.length;){const C=r[y++];if("number"==typeof C){if(C===s){I=-1;break}if(C>s){I=y-1;break}}}for(;y<r.length;){const C=r[y];if("number"==typeof C)break;if(C===a){if(null===h)return void(null!==g&&(r[y+1]=g));if(h===r[y+1])return void(r[y+2]=g)}y++,null!==h&&y++,null!==g&&y++}-1!==I&&(r.splice(I,0,s),y=I+1),r.splice(y++,0,a),null!==h&&r.splice(y++,0,h),null!==g&&r.splice(y++,0,g)}const Ia="ng-template";function Ls(r,s,a){let h=0,g=!0;for(;h<r.length;){let y=r[h++];if("string"==typeof y&&g){const I=r[h++];if(a&&"class"===y&&-1!==Fs(I.toLowerCase(),s,0))return!0}else{if(1===y){for(;h<r.length&&"string"==typeof(y=r[h++]);)if(y.toLowerCase()===s)return!0;return!1}"number"==typeof y&&(g=!1)}}return!1}function fo(r){return 4===r.type&&r.value!==Ia}function Bs(r,s,a){return s===(4!==r.type||a?r.value:Ia)}function Ea(r,s,a){let h=4;const g=r.attrs||[],y=function $l(r){for(let s=0;s<r.length;s++)if(ea(r[s]))return s;return r.length}(g);let I=!1;for(let C=0;C<s.length;C++){const P=s[C];if("number"!=typeof P){if(!I)if(4&h){if(h=2|1&h,""!==P&&!Bs(r,P,a)||""===P&&1===s.length){if(Gr(h))return!1;I=!0}}else{const W=8&h?P:s[++C];if(8&h&&null!==r.attrs){if(!Ls(r.attrs,W,a)){if(Gr(h))return!1;I=!0}continue}const me=ta(8&h?"class":P,g,fo(r),a);if(-1===me){if(Gr(h))return!1;I=!0;continue}if(""!==W){let Fe;Fe=me>y?"":g[me+1].toLowerCase();const Ge=8&h?Fe:null;if(Ge&&-1!==Fs(Ge,W,0)||2&h&&W!==Fe){if(Gr(h))return!1;I=!0}}}}else{if(!I&&!Gr(h)&&!Gr(P))return!1;if(I&&Gr(P))continue;I=!1,h=P|1&h}}return Gr(h)||I}function Gr(r){return 0==(1&r)}function ta(r,s,a,h){if(null===s)return-1;let g=0;if(h||!a){let y=!1;for(;g<s.length;){const I=s[g];if(I===r)return g;if(3===I||6===I)y=!0;else{if(1===I||2===I){let C=s[++g];for(;"string"==typeof C;)C=s[++g];continue}if(4===I)break;if(0===I){g+=4;continue}}g+=y?1:2}return-1}return function os(r,s){let a=r.indexOf(4);if(a>-1)for(a++;a<r.length;){const h=r[a];if("number"==typeof h)return-1;if(h===s)return a;a++}return-1}(s,r)}function ps(r,s,a=!1){for(let h=0;h<s.length;h++)if(Ea(r,s[h],a))return!0;return!1}function zl(r,s){e:for(let a=0;a<s.length;a++){const h=s[a];if(r.length===h.length){for(let g=0;g<r.length;g++)if(r[g]!==h[g])continue e;return!0}}return!1}function qi(r,s){return r?":not("+s.trim()+")":s}function ul(r){let s=r[0],a=1,h=2,g="",y=!1;for(;a<r.length;){let I=r[a];if("string"==typeof I)if(2&h){const C=r[++a];g+="["+I+(C.length>0?'="'+C+'"':"")+"]"}else 8&h?g+="."+I:4&h&&(g+=" "+I);else""!==g&&!Gr(I)&&(s+=qi(y,g),g=""),h=I,y=y||!Gr(h);a++}return""!==g&&(s+=qi(y,g)),s}function Yr(r){return Bi(()=>{const s=_s(r),a={...s,decls:r.decls,vars:r.vars,template:r.template,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,onPush:r.changeDetection===lo.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&r.dependencies||null,getStandaloneInjector:null,signals:r.signals??!1,data:r.data||{},encapsulation:r.encapsulation||Ui.Emulated,styles:r.styles||ir,_:null,schemas:r.schemas||null,tView:null,id:""};Ba(a);const h=r.dependencies;return a.directiveDefs=_i(h,!1),a.pipeDefs=_i(h,!0),a.id=function as(r){let s=0;const a=[r.selectors,r.ngContentSelectors,r.hostVars,r.hostAttrs,r.consts,r.vars,r.decls,r.encapsulation,r.standalone,r.signals,r.exportAs,JSON.stringify(r.inputs),JSON.stringify(r.outputs),Object.getOwnPropertyNames(r.type.prototype),!!r.contentQueries,!!r.viewQuery].join("|");for(const g of a)s=Math.imul(31,s)+g.charCodeAt(0)<<0;return s+=2147483648,"c"+s}(a),a})}function ko(r){return An(r)||ti(r)}function dl(r){return null!==r}function Hi(r){return Bi(()=>({type:r.type,bootstrap:r.bootstrap||ir,declarations:r.declarations||ir,imports:r.imports||ir,exports:r.exports||ir,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function ra(r,s){if(null==r)return Vi;const a={};for(const h in r)if(r.hasOwnProperty(h)){let g=r[h],y=g;Array.isArray(g)&&(y=g[1],g=g[0]),a[g]=h,s&&(s[g]=y)}return a}function La(r){return Bi(()=>{const s=_s(r);return Ba(s),s})}function Fo(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function An(r){return r[uo]||null}function ti(r){return r[Qo]||null}function Si(r){return r[Xo]||null}function ms(r){const s=An(r)||ti(r)||Si(r);return null!==s&&s.standalone}function Ur(r,s){const a=r[Fa]||null;if(!a&&!0===s)throw new Error(`Type ${It(r)} does not have '\u0275mod' property.`);return a}function _s(r){const s={};return{type:r.type,providersResolver:null,factory:null,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:s,inputTransforms:null,inputConfig:r.inputs||Vi,exportAs:r.exportAs||null,standalone:!0===r.standalone,signals:!0===r.signals,selectors:r.selectors||ir,viewQuery:r.viewQuery||null,features:r.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ra(r.inputs,s),outputs:ra(r.outputs)}}function Ba(r){r.features?.forEach(s=>s(r))}function _i(r,s){if(!r)return null;const a=s?Si:ko;return()=>("function"==typeof r?r():r).map(h=>a(h)).filter(dl)}const Ar=0,Vt=1,kn=2,Vr=3,yi=4,go=5,$r=6,Ai=7,xr=8,Qn=9,Jr=10,Dn=11,mo=12,_o=13,Lo=14,zr=15,vi=16,Xs=17,si=18,Bo=19,Tc=20,eo=21,Zi=22,yo=23,Us=24,Hn=25,Uo=1,Vs=2,ai=7,Ua=9,ui=11;function Oi(r){return Array.isArray(r)&&"object"==typeof r[Uo]}function Or(r){return Array.isArray(r)&&!0===r[Uo]}function Hs(r){return 0!=(4&r.flags)}function ys(r){return r.componentOffset>-1}function vo(r){return 1==(1&r.flags)}function Ni(r){return!!r.template}function Mi(r){return 0!=(512&r[kn])}function ac(r,s){return r.hasOwnProperty(fs)?r[fs]:null}const Gs=Symbol("SIGNAL");function Da(r,s){return(null===r||"object"!=typeof r)&&Object.is(r,s)}let di=null,Ca=!1;function Ri(r){const s=di;return di=r,s}const bo={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Ha(r){if(Ca)throw new Error("");if(null===di)return;const s=di.nextProducerIndex++;Ts(di),s<di.producerNode.length&&di.producerNode[s]!==r&&hi(di)&&Sc(di.producerNode[s],di.producerIndexOfThis[s]),di.producerNode[s]!==r&&(di.producerNode[s]=r,di.producerIndexOfThis[s]=hi(di)?Sa(r,di,s):0),di.producerLastReadVersion[s]=r.version}function Gi(r){if(!hi(r)||r.dirty){if(!r.producerMustRecompute(r)&&!$s(r))return void(r.dirty=!1);r.producerRecomputeValue(r),r.dirty=!1}}function hl(r){if(void 0===r.liveConsumerNode)return;const s=Ca;Ca=!0;try{for(const a of r.liveConsumerNode)a.dirty||Uh(a)}finally{Ca=s}}function Cc(){return!1!==di?.consumerAllowSignalWrites}function Uh(r){r.dirty=!0,hl(r),r.consumerMarkedDirty?.(r)}function no(r){return r&&(r.nextProducerIndex=0),Ri(r)}function fl(r,s){if(Ri(s),r&&void 0!==r.producerNode&&void 0!==r.producerIndexOfThis&&void 0!==r.producerLastReadVersion){if(hi(r))for(let a=r.nextProducerIndex;a<r.producerNode.length;a++)Sc(r.producerNode[a],r.producerIndexOfThis[a]);for(;r.producerNode.length>r.nextProducerIndex;)r.producerNode.pop(),r.producerLastReadVersion.pop(),r.producerIndexOfThis.pop()}}function $s(r){Ts(r);for(let s=0;s<r.producerNode.length;s++){const a=r.producerNode[s],h=r.producerLastReadVersion[s];if(h!==a.version||(Gi(a),h!==a.version))return!0}return!1}function ro(r){if(Ts(r),hi(r))for(let s=0;s<r.producerNode.length;s++)Sc(r.producerNode[s],r.producerIndexOfThis[s]);r.producerNode.length=r.producerLastReadVersion.length=r.producerIndexOfThis.length=0,r.liveConsumerNode&&(r.liveConsumerNode.length=r.liveConsumerIndexOfThis.length=0)}function Sa(r,s,a){if($i(r),Ts(r),0===r.liveConsumerNode.length)for(let h=0;h<r.producerNode.length;h++)r.producerIndexOfThis[h]=Sa(r.producerNode[h],r,h);return r.liveConsumerIndexOfThis.push(a),r.liveConsumerNode.push(s)-1}function Sc(r,s){if($i(r),Ts(r),1===r.liveConsumerNode.length)for(let h=0;h<r.producerNode.length;h++)Sc(r.producerNode[h],r.producerIndexOfThis[h]);const a=r.liveConsumerNode.length-1;if(r.liveConsumerNode[s]=r.liveConsumerNode[a],r.liveConsumerIndexOfThis[s]=r.liveConsumerIndexOfThis[a],r.liveConsumerNode.length--,r.liveConsumerIndexOfThis.length--,s<r.liveConsumerNode.length){const h=r.liveConsumerIndexOfThis[s],g=r.liveConsumerNode[s];Ts(g),g.producerIndexOfThis[h]=s}}function hi(r){return r.consumerIsAlwaysLive||(r?.liveConsumerNode?.length??0)>0}function Ts(r){r.producerNode??=[],r.producerIndexOfThis??=[],r.producerLastReadVersion??=[]}function $i(r){r.liveConsumerNode??=[],r.liveConsumerIndexOfThis??=[]}function Ds(r,s){const a=Object.create(Wc);a.computation=r,s?.equal&&(a.equal=s.equal);const h=()=>{if(Gi(a),Ha(a),a.value===oa)throw a.error;return a.value};return h[Gs]=a,h}const cc=Symbol("UNSET"),sa=Symbol("COMPUTING"),oa=Symbol("ERRORED"),Wc=(()=>({...bo,value:cc,dirty:!0,error:null,equal:Da,producerMustRecompute:r=>r.value===cc||r.value===sa,producerRecomputeValue(r){if(r.value===sa)throw new Error("Detected cycle in computations.");const s=r.value;r.value=sa;const a=no(r);let h;try{h=r.computation()}catch(g){h=oa,r.error=g}finally{fl(r,a)}s!==cc&&s!==oa&&h!==oa&&r.equal(s,h)?r.value=s:(r.value=h,r.version++)}}))();let lc=function ql(){throw new Error};function zs(){lc()}let M=null;function ie(r,s){const a=Object.create(ee);function h(){return Ha(a),a.value}return a.value=r,s?.equal&&(a.equal=s.equal),h.set=it,h.update=wt,h.mutate=In,h.asReadonly=Nr,h[Gs]=a,h}const ee=(()=>({...bo,equal:Da,readonlyFn:void 0}))();function be(r){r.version++,hl(r),M?.()}function it(r){const s=this[Gs];Cc()||zs(),s.equal(s.value,r)||(s.value=r,be(s))}function wt(r){Cc()||zs(),it.call(this,r(this[Gs].value))}function In(r){const s=this[Gs];Cc()||zs(),r(s.value),be(s)}function Nr(){const r=this[Gs];if(void 0===r.readonlyFn){const s=()=>this();s[Gs]=r,r.readonlyFn=s}return r.readonlyFn}function Pr(r){const s=Ri(null);try{return r()}finally{Ri(s)}}const Xn=()=>{},mr=(()=>({...bo,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:r=>{r.schedule(r.ref)},hasRun:!1,cleanupFn:Xn}))();class Ir{constructor(s,a,h){this.previousValue=s,this.currentValue=a,this.firstChange=h}isFirstChange(){return this.firstChange}}function Ws(){return fi}function fi(r){return r.type.prototype.ngOnChanges&&(r.setInput=cs),wi}function wi(){const r=aa(this),s=r?.current;if(s){const a=r.previous;if(a===Vi)r.previous=s;else for(let h in s)a[h]=s[h];r.current=null,this.ngOnChanges(s)}}function cs(r,s,a,h){const g=this.declaredInputs[a],y=aa(r)||function ca(r,s){return r[Cs]=s}(r,{previous:Vi,current:null}),I=y.current||(y.current={}),C=y.previous,P=C[g];I[g]=new Ir(P&&P.currentValue,s,C===Vi),r[h]=s}Ws.ngInherit=!0;const Cs="__ngSimpleChanges__";function aa(r){return r[Cs]||null}const Yi=function(r,s,a){},pl="svg";function ci(r){for(;Array.isArray(r);)r=r[Ar];return r}function Ac(r,s){return ci(s[r])}function Qr(r,s){return ci(s[r.index])}function qc(r,s){return r.data[s]}function ja(r,s){return r[s]}function Ji(r,s){const a=s[r];return Oi(a)?a:a[Ar]}function la(r,s){return null==s?null:r[s]}function xu(r){r[Xs]=0}function Ru(r){1024&r[kn]||(r[kn]|=1024,Pu(r,1))}function Ii(r){1024&r[kn]&&(r[kn]&=-1025,Pu(r,-1))}function Pu(r,s){let a=r[Vr];if(null===a)return;a[go]+=s;let h=a;for(a=a[Vr];null!==a&&(1===s&&1===h[go]||-1===s&&0===h[go]);)a[go]+=s,h=a,a=a[Vr]}function Io(r,s){if(256==(256&r[kn]))throw new Oe(911,!1);null===r[eo]&&(r[eo]=[]),r[eo].push(s)}const Rn={lFrame:Wt(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function ml(){return Rn.bindingsEnabled}function dc(){return null!==Rn.skipHydrationRootTNode}function _t(){return Rn.lFrame.lView}function Er(){return Rn.lFrame.tView}function Fu(r){return Rn.lFrame.contextLView=r,r[xr]}function Hh(r){return Rn.lFrame.contextLView=null,r}function zi(){let r=$d();for(;null!==r&&64===r.type;)r=r.parent;return r}function $d(){return Rn.lFrame.currentTNode}function _l(){const r=Rn.lFrame,s=r.currentTNode;return r.isParent?s:s.parent}function Eo(r,s){const a=Rn.lFrame;a.currentTNode=r,a.isParent=s}function Lu(){return Rn.lFrame.isParent}function fc(){Rn.lFrame.isParent=!1}function As(){const r=Rn.lFrame;let s=r.bindingRootIndex;return-1===s&&(s=r.bindingRootIndex=r.tView.bindingStartIndex),s}function Ga(){return Rn.lFrame.bindingIndex++}function $a(r){const s=Rn.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+r,a}function Xl(r){Rn.lFrame.inI18n=r}function jh(r,s){const a=Rn.lFrame;a.bindingIndex=a.bindingRootIndex=r,R(s)}function R(r){Rn.lFrame.currentDirectiveIndex=r}function k(){return Rn.lFrame.currentQueryIndex}function G(r){Rn.lFrame.currentQueryIndex=r}function le(r){const s=r[Vt];return 2===s.type?s.declTNode:1===s.type?r[$r]:null}function ve(r,s,a){if(a&nn.SkipSelf){let g=s,y=r;for(;!(g=g.parent,null!==g||a&nn.Host||(g=le(y),null===g||(y=y[Lo],10&g.type))););if(null===g)return!1;s=g,r=y}const h=Rn.lFrame=Ke();return h.currentTNode=s,h.lView=r,!0}function Qe(r){const s=Ke(),a=r[Vt];Rn.lFrame=s,s.currentTNode=a.firstChild,s.lView=r,s.tView=a,s.contextLView=r,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function Ke(){const r=Rn.lFrame,s=null===r?null:r.child;return null===s?Wt(r):s}function Wt(r){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=s),s}function er(){const r=Rn.lFrame;return Rn.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const Hr=er;function or(){const r=er();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function Wr(){return Rn.lFrame.selectedIndex}function za(r){Rn.lFrame.selectedIndex=r}function _r(){const r=Rn.lFrame;return qc(r.tView,r.selectedIndex)}function Oc(){Rn.lFrame.currentNamespace=pl}function zd(){!function Aa(){Rn.lFrame.currentNamespace=null}()}let Gh=!0;function pp(){return Gh}function Nc(r){Gh=r}function pd(r,s){for(let a=s.directiveStart,h=s.directiveEnd;a<h;a++){const y=r.data[a].type.prototype,{ngAfterContentInit:I,ngAfterContentChecked:C,ngAfterViewInit:P,ngAfterViewChecked:W,ngOnDestroy:oe}=y;I&&(r.contentHooks??=[]).push(-a,I),C&&((r.contentHooks??=[]).push(a,C),(r.contentCheckHooks??=[]).push(a,C)),P&&(r.viewHooks??=[]).push(-a,P),W&&((r.viewHooks??=[]).push(a,W),(r.viewCheckHooks??=[]).push(a,W)),null!=oe&&(r.destroyHooks??=[]).push(a,oe)}}function bl(r,s,a){Uu(r,s,3,a)}function wl(r,s,a,h){(3&r[kn])===a&&Uu(r,s,a,h)}function Wd(r,s){let a=r[kn];(3&a)===s&&(a&=8191,a+=1,r[kn]=a)}function Uu(r,s,a,h){const y=h??-1,I=s.length-1;let C=0;for(let P=void 0!==h?65535&r[Xs]:0;P<I;P++)if("number"==typeof s[P+1]){if(C=s[P],null!=h&&C>=h)break}else s[P]<0&&(r[Xs]+=65536),(C<y||-1==y)&&(gc(r,a,s,P),r[Xs]=(4294901760&r[Xs])+P+2),P++}function qd(r,s){Yi(4,r,s);const a=Ri(null);try{s.call(r)}finally{Ri(a),Yi(5,r,s)}}function gc(r,s,a,h){const g=a[h]<0,y=a[h+1],C=r[g?-a[h]:a[h]];g?r[kn]>>13<r[Xs]>>16&&(3&r[kn])===s&&(r[kn]+=8192,qd(C,y)):qd(C,y)}const Il=-1;class gd{constructor(s,a,h){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=h}}function nu(r){return r!==Il}function ru(r){return 32767&r}function Yc(r,s){let a=function Kd(r){return r>>16}(r),h=s;for(;a>0;)h=h[Lo],a--;return h}let Vu=!0;function Mc(r){const s=Vu;return Vu=r,s}const iu=255,Hu=5;let El=0;const Do={};function _d(r,s){const a=qh(r,s);if(-1!==a)return a;const h=s[Vt];h.firstCreatePass&&(r.injectorIndex=s.length,su(h.data,r),su(s,null),su(h.blueprint,null));const g=Yd(r,s),y=r.injectorIndex;if(nu(g)){const I=ru(g),C=Yc(g,s),P=C[Vt].data;for(let W=0;W<8;W++)s[y+W]=C[I+W]|P[I+W]}return s[y+8]=g,y}function su(r,s){r.push(0,0,0,0,0,0,0,0,s)}function qh(r,s){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===s[r.injectorIndex+8]?-1:r.injectorIndex}function Yd(r,s){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let a=0,h=null,g=s;for(;null!==g;){if(h=Ve(g),null===h)return Il;if(a++,g=g[Lo],-1!==h.injectorIndex)return h.injectorIndex|a<<16}return Il}function yd(r,s,a){!function md(r,s,a){let h;"string"==typeof a?h=a.charCodeAt(0)||0:a.hasOwnProperty(ba)&&(h=a[ba]),null==h&&(h=a[ba]=El++);const g=h&iu;s.data[r+(g>>Hu)]|=1<<g}(r,s,a)}function Zh(r,s,a){if(a&nn.Optional||void 0!==r)return r;mn()}function Kh(r,s,a,h){if(a&nn.Optional&&void 0===h&&(h=null),!(a&(nn.Self|nn.Host))){const g=r[Qn],y=wn(void 0);try{return g?g.get(s,h,a&nn.Optional):lr(s,h,a&nn.Optional)}finally{wn(y)}}return Zh(h,0,a)}function ou(r,s,a,h=nn.Default,g){if(null!==r){if(2048&s[kn]&&!(h&nn.Self)){const I=function Pe(r,s,a,h,g){let y=r,I=s;for(;null!==y&&null!==I&&2048&I[kn]&&!(512&I[kn]);){const C=Tl(y,I,a,h|nn.Self,Do);if(C!==Do)return C;let P=y.parent;if(!P){const W=I[Tc];if(W){const oe=W.get(a,Do,h);if(oe!==Do)return oe}P=Ve(I),I=I[Lo]}y=P}return g}(r,s,a,h,Do);if(I!==Do)return I}const y=Tl(r,s,a,h,Do);if(y!==Do)return y}return Kh(s,a,h,g)}function Tl(r,s,a,h,g){const y=function Yh(r){if("string"==typeof r)return r.charCodeAt(0)||0;const s=r.hasOwnProperty(ba)?r[ba]:void 0;return"number"==typeof s?s>=0?s&iu:L:s}(a);if("function"==typeof y){if(!ve(s,r,h))return h&nn.Host?Zh(g,0,h):Kh(s,a,h,g);try{let I;if(I=y(h),null!=I||h&nn.Optional)return I;mn()}finally{Hr()}}else if("number"==typeof y){let I=null,C=qh(r,s),P=Il,W=h&nn.Host?s[zr][$r]:null;for((-1===C||h&nn.SkipSelf)&&(P=-1===C?Yd(r,s):s[C+8],P!==Il&&ju(h,!1)?(I=s[Vt],C=ru(P),s=Yc(P,s)):C=-1);-1!==C;){const oe=s[Vt];if(Jd(y,C,oe.data)){const me=_p(C,s,a,I,h,W);if(me!==Do)return me}P=s[C+8],P!==Il&&ju(h,s[Vt].data[C+8]===W)&&Jd(y,C,s)?(I=oe,C=ru(P),s=Yc(P,s)):C=-1}}return g}function _p(r,s,a,h,g,y){const I=s[Vt],C=I.data[r+8],oe=Oa(C,I,a,null==h?ys(C)&&Vu:h!=I&&0!=(3&C.type),g&nn.Host&&y===C);return null!==oe?Dl(s,I,oe,C):Do}function Oa(r,s,a,h,g){const y=r.providerIndexes,I=s.data,C=1048575&y,P=r.directiveStart,oe=y>>20,Fe=g?C+oe:r.directiveEnd;for(let Ge=h?C:C+oe;Ge<Fe;Ge++){const vt=I[Ge];if(Ge<P&&a===vt||Ge>=P&&vt.type===a)return Ge}if(g){const Ge=I[P];if(Ge&&Ni(Ge)&&Ge.type===a)return P}return null}function Dl(r,s,a,h){let g=r[a];const y=s.data;if(function $h(r){return r instanceof gd}(g)){const I=g;I.resolving&&function vn(r,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${r}`:"";throw new Oe(-200,`Circular dependency in DI detected for ${r}${a}`)}(function lt(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():Le(r)}(y[a]));const C=Mc(I.canSeeViewProviders);I.resolving=!0;const W=I.injectImpl?wn(I.injectImpl):null;ve(r,h,nn.Default);try{g=r[a]=I.factory(void 0,y,r,h),s.firstCreatePass&&a>=h.directiveStart&&function Xg(r,s,a){const{ngOnChanges:h,ngOnInit:g,ngDoCheck:y}=s.type.prototype;if(h){const I=fi(s);(a.preOrderHooks??=[]).push(r,I),(a.preOrderCheckHooks??=[]).push(r,I)}g&&(a.preOrderHooks??=[]).push(0-r,g),y&&((a.preOrderHooks??=[]).push(r,y),(a.preOrderCheckHooks??=[]).push(r,y))}(a,y[a],s)}finally{null!==W&&wn(W),Mc(C),I.resolving=!1,Hr()}}return g}function Jd(r,s,a){return!!(a[s+(r>>Hu)]&1<<r)}function ju(r,s){return!(r&nn.Self||r&nn.Host&&s)}class N{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,h){return ou(this._tNode,this._lView,s,hs(h),a)}}function L(){return new N(zi(),_t())}function te(r){return Bi(()=>{const s=r.prototype.constructor,a=s[fs]||ge(s),h=Object.prototype;let g=Object.getPrototypeOf(r.prototype).constructor;for(;g&&g!==h;){const y=g[fs]||ge(g);if(y&&y!==a)return y;g=Object.getPrototypeOf(g)}return y=>new y})}function ge(r){return st(r)?()=>{const s=ge(Tt(r));return s&&s()}:ac(r)}function Ve(r){const s=r[Vt],a=s.type;return 2===a?s.declTNode:1===a?r[$r]:null}function ct(r){return function xc(r,s){if("class"===s)return r.classes;if("style"===s)return r.styles;const a=r.attrs;if(a){const h=a.length;let g=0;for(;g<h;){const y=a[g];if(ea(y))break;if(0===y)g+=2;else if("number"==typeof y)for(g++;g<h&&"string"==typeof a[g];)g++;else{if(y===s)return a[g+1];g+=2}}}return null}(zi(),r)}const Bt="__parameters__";function qs(r,s,a){return Bi(()=>{const h=function Zn(r){return function(...a){if(r){const h=r(...a);for(const g in h)this[g]=h[g]}}}(s);function g(...y){if(this instanceof g)return h.apply(this,y),this;const I=new g(...y);return C.annotation=I,C;function C(P,W,oe){const me=P.hasOwnProperty(Bt)?P[Bt]:Object.defineProperty(P,Bt,{value:[]})[Bt];for(;me.length<=oe;)me.push(null);return(me[oe]=me[oe]||[]).push(I),P}}return a&&(g.prototype=Object.create(a.prototype)),g.prototype.ngMetadataName=r,g.annotationCls=g,g})}function Jh(r,s){r.forEach(a=>Array.isArray(a)?Jh(a,s):s(a))}function Qh(r,s,a){s>=r.length?r.push(a):r.splice(s,0,a)}function Qd(r,s){return s>=r.length-1?r.pop():r.splice(s,1)[0]}function uu(r,s){const a=[];for(let h=0;h<r;h++)a.push(s);return a}function ua(r,s,a){let h=Wu(r,s);return h>=0?r[1|h]=a:(h=~h,function Q_(r,s,a,h){let g=r.length;if(g==s)r.push(a,h);else if(1===g)r.push(h,r[0]),r[0]=a;else{for(g--,r.push(r[g-1],r[g]);g>s;)r[g]=r[g-2],g--;r[s]=a,r[s+1]=h}}(r,h,s,a)),h}function vp(r,s){const a=Wu(r,s);if(a>=0)return r[1|a]}function Wu(r,s){return function im(r,s,a){let h=0,g=r.length>>a;for(;g!==h;){const y=h+(g-h>>1),I=r[y<<a];if(s===I)return y<<a;I>s?g=y:h=y+1}return~(g<<a)}(r,s,1)}const du=is(qs("Inject",r=>({token:r})),-1),Xh=is(qs("Optional"),8),cm=is(qs("SkipSelf"),4);function _0(r){return 128==(128&r.flags)}var v0=function(r){return r[r.Important=1]="Important",r[r.DashCase=2]="DashCase",r}(v0||{});const LD=/^>|^->|<!--|-->|--!>|<!-$/g,BD=/(<|>)/g,UD="\u200b$1\u200b";const ty=new Map;let rI=0;const ny="__ngContext__";function Ma(r,s){Oi(s)?(r[ny]=s[Bo],function Ed(r){ty.set(r[Bo],r)}(s)):r[ny]=s}let tf;function th(r,s){return tf(r,s)}function Dp(r){const s=r[Vr];return Or(s)?s[Vr]:s}function Ei(r){return Cp(r[mo])}function nf(r){return Cp(r[yi])}function Cp(r){for(;null!==r&&!Or(r);)r=r[yi];return r}function Ku(r,s,a,h,g){if(null!=h){let y,I=!1;Or(h)?y=h:Oi(h)&&(I=!0,h=h[Ar]);const C=ci(h);0===r&&null!==a?null==g?T0(s,a,C):Yu(s,a,C,g||null,!0):1===r&&null!==a?Yu(s,a,C,g||null,!0):2===r?function fy(r,s,a){const h=ih(r,s);h&&function cI(r,s,a,h){r.removeChild(s,a,h)}(r,h,s,a)}(s,C,I):3===r&&s.destroyNode(C),null!=y&&function AT(r,s,a,h,g){const y=a[ai];y!==ci(a)&&Ku(s,r,h,y,g);for(let C=ui;C<a.length;C++){const P=a[C];Dm(P[Vt],P,r,s,h,y)}}(s,r,y,a,g)}}function nh(r,s){return r.createText(s)}function wm(r,s){return r.createComment(function nI(r){return r.replace(LD,s=>s.replace(BD,UD))}(s))}function Sp(r,s,a){return r.createElement(s,a)}function rh(r,s){const a=r[Ua],h=a.indexOf(s);Ii(s),a.splice(h,1)}function Op(r,s){if(r.length<=ui)return;const a=ui+s,h=r[a];if(h){const g=h[vi];null!==g&&g!==r&&rh(g,h),s>0&&(r[a-1][yi]=h[yi]);const y=Qd(r,ui+s);!function oy(r,s){Dm(r,s,s[Dn],2,null,null),s[Ar]=null,s[$r]=null}(h[Vt],h);const I=y[si];null!==I&&I.detachView(y[Vt]),h[Vr]=null,h[yi]=null,h[kn]&=-129}return h}function rf(r,s){if(!(256&s[kn])){const a=s[Dn];s[yo]&&ro(s[yo]),s[Us]&&ro(s[Us]),a.destroyNode&&Dm(r,s,a,3,null,null),function E0(r){let s=r[mo];if(!s)return Np(r[Vt],r);for(;s;){let a=null;if(Oi(s))a=s[mo];else{const h=s[ui];h&&(a=h)}if(!a){for(;s&&!s[yi]&&s!==r;)Oi(s)&&Np(s[Vt],s),s=s[Vr];null===s&&(s=r),Oi(s)&&Np(s[Vt],s),a=s&&s[yi]}s=a}}(s)}}function Np(r,s){if(!(256&s[kn])){s[kn]&=-129,s[kn]|=256,function ly(r,s){let a;if(null!=r&&null!=(a=r.destroyHooks))for(let h=0;h<a.length;h+=2){const g=s[a[h]];if(!(g instanceof gd)){const y=a[h+1];if(Array.isArray(y))for(let I=0;I<y.length;I+=2){const C=g[y[I]],P=y[I+1];Yi(4,C,P);try{P.call(C)}finally{Yi(5,C,P)}}else{Yi(4,g,y);try{y.call(g)}finally{Yi(5,g,y)}}}}}(r,s),function aI(r,s){const a=r.cleanup,h=s[Ai];if(null!==a)for(let y=0;y<a.length-1;y+=2)if("string"==typeof a[y]){const I=a[y+3];I>=0?h[I]():h[-I].unsubscribe(),y+=2}else a[y].call(h[a[y+1]]);null!==h&&(s[Ai]=null);const g=s[eo];if(null!==g){s[eo]=null;for(let y=0;y<g.length;y++)(0,g[y])()}}(r,s),1===s[Vt].type&&s[Dn].destroy();const a=s[vi];if(null!==a&&Or(s[Vr])){a!==s[Vr]&&rh(a,s);const h=s[si];null!==h&&h.detachView(r)}!function iI(r){ty.delete(r[Bo])}(s)}}function Mp(r,s,a){return Em(r,s.parent,a)}function Em(r,s,a){let h=s;for(;null!==h&&40&h.type;)h=(s=h).parent;if(null===h)return a[Ar];{const{componentOffset:g}=h;if(g>-1){const{encapsulation:y}=r.data[h.directiveStart+g];if(y===Ui.None||y===Ui.Emulated)return null}return Qr(h,a)}}function Yu(r,s,a,h,g){r.insertBefore(s,a,h,g)}function T0(r,s,a){r.appendChild(s,a)}function D0(r,s,a,h,g){null!==h?Yu(r,s,a,h,g):T0(r,s,a)}function ih(r,s){return r.parentNode(s)}function xp(r,s,a){return Pp(r,s,a)}function Rp(r,s,a){return 40&r.type?Qr(r,a):null}let Tm,sf,Lp,Pi,Pp=Rp;function hy(r,s){Pp=r,Tm=s}function kp(r,s,a,h){const g=Mp(r,h,s),y=s[Dn],C=xp(h.parent||s[$r],h,s);if(null!=g)if(Array.isArray(a))for(let P=0;P<a.length;P++)D0(y,g,a[P],C,!1);else D0(y,g,a,C,!1);void 0!==Tm&&Tm(y,h,s,a,g)}function fu(r,s){if(null!==s){const a=s.type;if(3&a)return Qr(s,r);if(4&a)return S0(-1,r[s.index]);if(8&a){const h=s.child;if(null!==h)return fu(r,h);{const g=r[s.index];return Or(g)?S0(-1,g):ci(g)}}if(32&a)return th(s,r)()||ci(r[s.index]);{const h=C0(r,s);return null!==h?Array.isArray(h)?h[0]:fu(Dp(r[zr]),h):fu(r,s.next)}}return null}function C0(r,s){return null!==s?r[zr][$r].projection[s.projection]:null}function S0(r,s){const a=ui+r+1;if(a<s.length){const h=s[a],g=h[Vt].firstChild;if(null!==g)return fu(h,g)}return s[ai]}function A0(r,s,a,h,g,y,I){for(;null!=a;){const C=h[a.index],P=a.type;if(I&&0===s&&(C&&Ma(ci(C),h),a.flags|=2),32!=(32&a.flags))if(8&P)A0(r,s,a.child,h,g,y,!1),Ku(s,r,g,C,y);else if(32&P){const W=th(a,h);let oe;for(;oe=W();)Ku(s,r,g,oe,y);Ku(s,r,g,C,y)}else 16&P?uI(r,s,h,a,g,y):Ku(s,r,g,C,y);a=I?a.projectionNext:a.next}}function Dm(r,s,a,h,g,y){A0(a,h,r.firstChild,s,g,y,!1)}function uI(r,s,a,h,g,y){const I=a[zr],P=I[$r].projection[h.projection];if(Array.isArray(P))for(let W=0;W<P.length;W++)Ku(s,r,g,P[W],y);else{let W=P;const oe=I[Vr];_0(h)&&(W.flags|=128),A0(r,s,W,oe,g,y,!0)}}function O0(r,s,a){""===a?r.removeAttribute(s,"class"):r.setAttribute(s,"class",a)}function N0(r,s,a){const{mergedAttrs:h,classes:g,styles:y}=a;null!==h&&gi(r,s,h),null!==g&&O0(r,s,g),null!==y&&function py(r,s,a){r.setAttribute(s,"style",a)}(r,s,y)}function Fp(r){return function M0(){if(void 0===sf&&(sf=null,sr.trustedTypes))try{sf=sr.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return sf}()?.createHTML(r)||r}function fI(r){Lp=r}function Wa(){if(void 0!==Lp)return Lp;if(typeof document<"u")return document;throw new Oe(210,!1)}function pI(r){return function Cm(){if(void 0===Pi&&(Pi=null,sr.trustedTypes))try{Pi=sr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return Pi}()?.createScriptURL(r)||r}class cf{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${We})`}}class gy extends cf{getTypeName(){return"HTML"}}class gI extends cf{getTypeName(){return"Style"}}class Bp extends cf{getTypeName(){return"Script"}}class Up extends cf{getTypeName(){return"URL"}}class Sm extends cf{getTypeName(){return"ResourceURL"}}function pu(r){return r instanceof cf?r.changingThisBreaksApplicationSecurity:r}function Vp(r,s){const a=function my(r){return r instanceof cf&&r.getTypeName()||null}(r);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see ${We})`)}return a===s}function xT(r){return new gy(r)}function lf(r){return new gI(r)}function uf(r){return new Bp(r)}function Hp(r){return new Up(r)}function Am(r){return new Sm(r)}function R0(r){const s=new sh(r);return function mI(){try{return!!(new window.DOMParser).parseFromString(Fp(""),"text/html")}catch{return!1}}()?new _y(s):s}class _y{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(Fp(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch{return null}}}class sh{constructor(s){this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(s){const a=this.inertDocument.createElement("template");return a.innerHTML=Fp(s),a}}const VD=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function P0(r){return(r=String(r)).match(VD)?r:"unsafe:"+r}function oh(r){const s={};for(const a of r.split(","))s[a]=!0;return s}function yy(...r){const s={};for(const a of r)for(const h in a)a.hasOwnProperty(h)&&(s[h]=!0);return s}const _I=oh("area,br,col,hr,img,wbr"),Sl=oh("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),cn=oh("rp,rt"),df=yy(_I,yy(Sl,oh("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),yy(cn,oh("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),yy(cn,Sl)),F0=oh("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),bI=yy(F0,oh("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),oh("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),RT=oh("script,style,template");class fa{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,h=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?h=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,h&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let g=this.checkClobberedElement(a,a.nextSibling);if(g){a=g;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(s){const a=s.nodeName.toLowerCase();if(!df.hasOwnProperty(a))return this.sanitizedSomething=!0,!RT.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const h=s.attributes;for(let g=0;g<h.length;g++){const y=h.item(g),I=y.name,C=I.toLowerCase();if(!bI.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let P=y.value;F0[C]&&(P=P0(P)),this.buf.push(" ",I,'="',gu(P),'"')}return this.buf.push(">"),!0}endElement(s){const a=s.nodeName.toLowerCase();df.hasOwnProperty(a)&&!_I.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(gu(s))}checkClobberedElement(s,a){if(a&&(s.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return a}}const Om=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,pa=/([^\#-~ |!])/g;function gu(r){return r.replace(/&/g,"&amp;").replace(Om,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(pa,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let jp;function hf(r,s){let a=null;try{jp=jp||R0(r);let h=s?String(s):"";a=jp.getInertBodyElement(h);let g=5,y=h;do{if(0===g)throw new Error("Failed to sanitize html because the input is unstable");g--,h=y,y=a.innerHTML,a=jp.getInertBodyElement(h)}while(h!==y);return Fp((new fa).sanitizeChildren(Gp(a)||a))}finally{if(a){const h=Gp(a)||a;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function Gp(r){return"content"in r&&function $p(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var Ys=function(r){return r[r.NONE=0]="NONE",r[r.HTML=1]="HTML",r[r.STYLE=2]="STYLE",r[r.SCRIPT=3]="SCRIPT",r[r.URL=4]="URL",r[r.RESOURCE_URL=5]="RESOURCE_URL",r}(Ys||{});function zp(r){const s=qp();return s?s.sanitize(Ys.URL,r)||"":Vp(r,"URL")?pu(r):P0(Le(r))}function Qc(r){const s=qp();if(s)return pI(s.sanitize(Ys.RESOURCE_URL,r)||"");if(Vp(r,"ResourceURL"))return pI(pu(r));throw new Oe(904,!1)}function Wp(r,s,a){return function ff(r,s){return"src"===s&&("embed"===r||"frame"===r||"iframe"===r||"media"===r||"script"===r)||"href"===s&&("base"===r||"link"===r)?Qc:zp}(s,a)(r)}function qp(){const r=_t();return r&&r[Jr].sanitizer}const pf=new qt("ENVIRONMENT_INITIALIZER"),Mm=new qt("INJECTOR",-1),Zp=new qt("INJECTOR_DEF_TYPES");class Kp{get(s,a=U){if(a===U){const h=new Error(`NullInjectorError: No provider for ${It(s)}!`);throw h.name="NullInjectorError",h}return a}}function vy(...r){return{\u0275providers:xm(0,r),\u0275fromNgModule:!0}}function xm(r,...s){const a=[],h=new Set;let g;const y=I=>{a.push(I)};return Jh(s,I=>{const C=I;Xc(C,y,[],h)&&(g||=[],g.push(C))}),void 0!==g&&U0(g,y),a}function U0(r,s){for(let a=0;a<r.length;a++){const{ngModule:h,providers:g}=r[a];mu(g,y=>{s(y,h)})}}function Xc(r,s,a,h){if(!(r=Tt(r)))return!1;let g=null,y=_n(r);const I=!y&&An(r);if(y||I){if(I&&!I.standalone)return!1;g=r}else{const P=r.ngModule;if(y=_n(P),!y)return!1;g=P}const C=h.has(g);if(I){if(C)return!1;if(h.add(g),I.dependencies){const P="function"==typeof I.dependencies?I.dependencies():I.dependencies;for(const W of P)Xc(W,s,a,h)}}else{if(!y)return!1;{if(null!=y.imports&&!C){let W;h.add(g);try{Jh(y.imports,oe=>{Xc(oe,s,a,h)&&(W||=[],W.push(oe))})}finally{}void 0!==W&&U0(W,s)}if(!C){const W=ac(g)||(()=>new g);s({provide:g,useFactory:W,deps:ir},g),s({provide:Zp,useValue:g,multi:!0},g),s({provide:pf,useValue:()=>Un(g),multi:!0},g)}const P=y.providers;if(null!=P&&!C){const W=r;mu(P,oe=>{s(oe,W)})}}}return g!==r&&void 0!==r.providers}function mu(r,s){for(let a of r)rt(a)&&(a=a.\u0275providers),Array.isArray(a)?mu(a,s):s(a)}const TI=Me({provide:String,useValue:Me});function by(r){return null!==r&&"object"==typeof r&&TI in r}function Ju(r){return"function"==typeof r}const wy=new qt("Set Injector scope."),gf={},Pm={};let mf;function ah(){return void 0===mf&&(mf=new Kp),mf}class kc{}class Qu extends kc{get destroyed(){return this._destroyed}constructor(s,a,h,g){super(),this.parent=a,this.source=h,this.scopes=g,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Fm(s,I=>this.processProvider(I)),this.records.set(Mm,_f(void 0,this)),g.has("environment")&&this.records.set(kc,_f(void 0,this));const y=this.records.get(wy);null!=y&&"string"==typeof y.value&&this.scopes.add(y.value),this.injectorDefTypes=new Set(this.get(Zp.multi,ir,nn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();const s=this._onDestroyHooks;this._onDestroyHooks=[];for(const a of s)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(s){return this.assertNotDestroyed(),this._onDestroyHooks.push(s),()=>this.removeOnDestroy(s)}runInContext(s){this.assertNotDestroyed();const a=Bn(this),h=wn(void 0);try{return s()}finally{Bn(a),wn(h)}}get(s,a=U,h=nn.Default){if(this.assertNotDestroyed(),s.hasOwnProperty(Kr))return s[Kr](this);h=hs(h);const y=Bn(this),I=wn(void 0);try{if(!(h&nn.SkipSelf)){let P=this.records.get(s);if(void 0===P){const W=function CI(r){return"function"==typeof r||"object"==typeof r&&r instanceof qt}(s)&&mt(s);P=W&&this.injectableDefInScope(W)?_f(Xp(s),gf):null,this.records.set(s,P)}if(null!=P)return this.hydrate(s,P)}return(h&nn.Self?ah():this.parent).get(s,a=h&nn.Optional&&a===U?null:a)}catch(C){if("NullInjectorError"===C.name){if((C[q]=C[q]||[]).unshift(It(s)),y)throw C;return function ka(r,s,a,h){const g=r[q];throw s[Dt]&&g.unshift(s[Dt]),r.message=function ks(r,s,a,h=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.slice(2):r;let g=It(s);if(Array.isArray(s))g=s.map(It).join(" -> ");else if("object"==typeof s){let y=[];for(let I in s)if(s.hasOwnProperty(I)){let C=s[I];y.push(I+":"+("string"==typeof C?JSON.stringify(C):It(C)))}g=`{${y.join(", ")}}`}return`${a}${h?"("+h+")":""}[${g}]: ${r.replace(Te,"\n  ")}`}("\n"+r.message,g,a,h),r.ngTokenPath=g,r[q]=null,r}(C,s,"R3InjectorError",this.source)}throw C}finally{wn(I),Bn(y)}}resolveInjectorInitializers(){const s=Bn(this),a=wn(void 0);try{const g=this.get(pf.multi,ir,nn.Self);for(const y of g)y()}finally{Bn(s),wn(a)}}toString(){const s=[],a=this.records;for(const h of a.keys())s.push(It(h));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Oe(205,!1)}processProvider(s){let a=Ju(s=Tt(s))?s:Tt(s&&s.provide);const h=function V0(r){return by(r)?_f(void 0,r.useValue):_f(H0(r),gf)}(s);if(Ju(s)||!0!==s.multi)this.records.get(a);else{let g=this.records.get(a);g||(g=_f(void 0,gf,!0),g.factory=()=>Po(g.multi),this.records.set(a,g)),a=s,g.multi.push(s)}this.records.set(a,h)}hydrate(s,a){return a.value===gf&&(a.value=Pm,a.value=a.factory()),"object"==typeof a.value&&a.value&&function j0(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=Tt(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}removeOnDestroy(s){const a=this._onDestroyHooks.indexOf(s);-1!==a&&this._onDestroyHooks.splice(a,1)}}function Xp(r){const s=mt(r),a=null!==s?s.factory:ac(r);if(null!==a)return a;if(r instanceof qt)throw new Oe(204,!1);if(r instanceof Function)return function Iy(r){const s=r.length;if(s>0)throw uu(s,"?"),new Oe(204,!1);const a=function br(r){return r&&(r[Sn]||r[fn])||null}(r);return null!==a?()=>a.factory(r):()=>new r}(r);throw new Oe(204,!1)}function H0(r,s,a){let h;if(Ju(r)){const g=Tt(r);return ac(g)||Xp(g)}if(by(r))h=()=>Tt(r.useValue);else if(function Rm(r){return!(!r||!r.useFactory)}(r))h=()=>r.useFactory(...Po(r.deps||[]));else if(function Qp(r){return!(!r||!r.useExisting)}(r))h=()=>Un(Tt(r.useExisting));else{const g=Tt(r&&(r.useClass||r.provide));if(!function km(r){return!!r.deps}(r))return ac(g)||Xp(g);h=()=>new g(...Po(r.deps))}return h}function _f(r,s,a=!1){return{factory:r,value:s,multi:a?[]:void 0}}function Fm(r,s){for(const a of r)Array.isArray(a)?Fm(a,s):a&&rt(a)?Fm(a.\u0275providers,s):s(a)}const Ey=new qt("AppId",{providedIn:"root",factory:()=>G0}),G0="ng",Wo=new qt("Platform Initializer"),qo=new qt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),$0=new qt("AnimationModuleType"),PT=new qt("CSP nonce",{providedIn:"root",factory:()=>Wa().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Hm=(r,s,a)=>null;function lh(r,s,a=!1){return Hm(r,s,a)}class xy{}class Gm{}class $m{resolveComponentFactory(s){throw function Z0(r){const s=Error(`No component factory found for ${It(r)}.`);return s.ngComponent=r,s}(s)}}let If=(()=>{class r{static#e=this.NULL=new $m}return r})();function Y0(){return dh(zi(),_t())}function dh(r,s){return new hh(Qr(r,s))}let hh=(()=>{class r{constructor(a){this.nativeElement=a}static#e=this.__NG_ELEMENT_ID__=Y0}return r})();function zm(r){return r instanceof hh?r.nativeElement:r}class Wm{}let UT=(()=>{class r{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function J0(){const r=_t(),a=Ji(zi().index,r);return(Oi(a)?a:r)[Dn]}()}return r})(),qm=(()=>{class r{static#e=this.\u0275prov=xe({token:r,providedIn:"root",factory:()=>null})}return r})();class Ry{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Q0=new Ry("16.2.12"),Py={};function ky(r){if(!Sr()&&!function dn(){return un}())throw new Oe(-203,!1)}function Fy(r,s=null,a=null,h){const g=eb(r,s,a,h);return g.resolveInjectorInitializers(),g}function eb(r,s=null,a=null,h,g=new Set){const y=[a||ir,vy(r)];return h=h||("object"==typeof r?void 0:It(r)),new Qu(y,s||ah(),h||null,g)}let ga=(()=>{class r{static#e=this.THROW_IF_NOT_FOUND=U;static#t=this.NULL=new Kp;static create(a,h){if(Array.isArray(a))return Fy({name:""},h,a,"");{const g=a.name??"";return Fy({name:g},a.parent,a.providers,g)}}static#n=this.\u0275prov=xe({token:r,providedIn:"any",factory:()=>Un(Mm)});static#r=this.__NG_ELEMENT_ID__=-1}return r})();function Df(r){return r.ngOriginalError}class ed{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s);this._console.error("ERROR",s),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&Df(s);for(;a&&Df(a);)a=Df(a);return a||null}}let Ti=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=ig;static#t=this.__NG_ENV_ID__=a=>a}return r})();class Km extends Ti{constructor(s){super(),this._lView=s}onDestroy(s){return Io(this._lView,s),()=>function ni(r,s){if(null===r[eo])return;const a=r[eo].indexOf(s);-1!==a&&r[eo].splice(a,1)}(this._lView,s)}}function ig(){return new Km(_t())}function By(r){return s=>{setTimeout(r,void 0,s)}}const Ol=class sg extends b.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,h){let g=s,y=a||(()=>null),I=h;if(s&&"object"==typeof s){const P=s;g=P.next?.bind(P),y=P.error?.bind(P),I=P.complete?.bind(P)}this.__isAsync&&(y=By(y),g&&(g=By(g)),I&&(I=By(I)));const C=super.subscribe({next:g,error:y,complete:I});return s instanceof X.w0&&s.add(C),C}};function tb(...r){}class Zo{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ol(!1),this.onMicrotaskEmpty=new Ol(!1),this.onStable=new Ol(!1),this.onError=new Ol(!1),typeof Zone>"u")throw new Oe(908,!1);Zone.assertZonePatched();const g=this;g._nesting=0,g._outer=g._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!h&&a,g.shouldCoalesceRunChangeDetection=h,g.lastRequestAnimationFrameId=-1,g.nativeRequestAnimationFrame=function RI(){const r="function"==typeof sr.requestAnimationFrame;let s=sr[r?"requestAnimationFrame":"setTimeout"],a=sr[r?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&s&&a){const h=s[Zone.__symbol__("OriginalDelegate")];h&&(s=h);const g=a[Zone.__symbol__("OriginalDelegate")];g&&(a=g)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function rb(r){const s=()=>{!function nb(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(sr,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,Ym(r),r.isCheckStableRunning=!0,yu(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),Ym(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,h,g,y,I,C)=>{if(function ob(r){return!(!Array.isArray(r)||1!==r.length)&&!0===r[0].data?.__ignore_ng_zone__}(C))return a.invokeTask(g,y,I,C);try{return ph(r),a.invokeTask(g,y,I,C)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===y.type||r.shouldCoalesceRunChangeDetection)&&s(),ib(r)}},onInvoke:(a,h,g,y,I,C,P)=>{try{return ph(r),a.invoke(g,y,I,C,P)}finally{r.shouldCoalesceRunChangeDetection&&s(),ib(r)}},onHasTask:(a,h,g,y)=>{a.hasTask(g,y),h===g&&("microTask"==y.change?(r._hasPendingMicrotasks=y.microTask,Ym(r),yu(r)):"macroTask"==y.change&&(r.hasPendingMacrotasks=y.macroTask))},onHandleError:(a,h,g,y)=>(a.handleError(g,y),r.runOutsideAngular(()=>r.onError.emit(y)),!1)})}(g)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Zo.isInAngularZone())throw new Oe(909,!1)}static assertNotInAngularZone(){if(Zo.isInAngularZone())throw new Oe(909,!1)}run(s,a,h){return this._inner.run(s,a,h)}runTask(s,a,h,g){const y=this._inner,I=y.scheduleEventTask("NgZoneEvent: "+g,s,og,tb,tb);try{return y.runTask(I,a,h)}finally{y.cancelTask(I)}}runGuarded(s,a,h){return this._inner.runGuarded(s,a,h)}runOutsideAngular(s){return this._outer.run(s)}}const og={};function yu(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function Ym(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function ph(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function ib(r){r._nesting--,yu(r)}class PI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ol,this.onMicrotaskEmpty=new Ol,this.onStable=new Ol,this.onError=new Ol}run(s,a,h){return s.apply(a,h)}runGuarded(s,a,h){return s.apply(a,h)}runOutsideAngular(s){return s()}runTask(s,a,h,g){return s.apply(a,h)}}const Uy=new qt("",{providedIn:"root",factory:sb});function sb(){const r=nr(Zo);let s=!0;const a=new u.y(g=>{s=r.isStable&&!r.hasPendingMacrotasks&&!r.hasPendingMicrotasks,r.runOutsideAngular(()=>{g.next(s),g.complete()})}),h=new u.y(g=>{let y;r.runOutsideAngular(()=>{y=r.onStable.subscribe(()=>{Zo.assertNotInAngularZone(),queueMicrotask(()=>{!s&&!r.hasPendingMacrotasks&&!r.hasPendingMicrotasks&&(s=!0,g.next(!0))})})});const I=r.onUnstable.subscribe(()=>{Zo.assertInAngularZone(),s&&(s=!1,r.runOutsideAngular(()=>{g.next(!1)}))});return()=>{y.unsubscribe(),I.unsubscribe()}});return(0,ye.T)(a,h.pipe(re()))}function Vy(r){return r.ownerDocument.defaultView}function vu(r){return r instanceof Function?r():r}let So=(()=>{class r{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=xe({token:r,providedIn:"root",factory:()=>new r})}return r})();function td(r){for(;r;){r[kn]|=64;const s=Dp(r);if(Mi(r)&&!s)return r;r=s}return null}const Sf=new qt("",{providedIn:"root",factory:()=>!1});let Lc=null;function ug(r,s){return r[s]??yh()}function dg(r,s){const a=yh();a.producerNode?.length&&(r[s]=Lc,a.lView=r,Lc=_h())}const hg={...bo,consumerIsAlwaysLive:!0,consumerMarkedDirty:r=>{td(r.lView)},lView:null};function _h(){return Object.create(hg)}function yh(){return Lc??=_h(),Lc}const rr={};function el(r){vh(Er(),_t(),Wr()+r,!1)}function vh(r,s,a,h){if(!h)if(3==(3&s[kn])){const y=r.preOrderCheckHooks;null!==y&&bl(s,y,a)}else{const y=r.preOrderHooks;null!==y&&wl(s,y,0,a)}za(a)}function bu(r,s=nn.Default){const a=_t();return null===a?Un(r,s):ou(zi(),a,Tt(r),s)}function fg(){throw new Error("invalid")}function Af(r,s,a,h,g,y,I,C,P,W,oe){const me=s.blueprint.slice();return me[Ar]=g,me[kn]=140|h,(null!==W||r&&2048&r[kn])&&(me[kn]|=2048),xu(me),me[Vr]=me[Lo]=r,me[xr]=a,me[Jr]=I||r&&r[Jr],me[Dn]=C||r&&r[Dn],me[Qn]=P||r&&r[Qn]||null,me[$r]=y,me[Bo]=function $o(){return rI++}(),me[Zi]=oe,me[Tc]=W,me[zr]=2==s.type?r[zr]:me,me}function wu(r,s,a,h,g){let y=r.data[s];if(null===y)y=gg(r,s,a,h,g),function vl(){return Rn.lFrame.inI18n}()&&(y.flags|=32);else if(64&y.type){y.type=a,y.value=h,y.attrs=g;const I=_l();y.injectorIndex=null===I?-1:I.injectorIndex}return Eo(y,!0),y}function gg(r,s,a,h,g){const y=$d(),I=Lu(),P=r.data[s]=function _c(r,s,a,h,g,y){let I=s?s.injectorIndex:-1,C=0;return dc()&&(C|=128),{type:a,index:h,insertBeforeIndex:null,injectorIndex:I,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:C,providerIndexes:0,value:g,attrs:y,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,I?y:y&&y.parent,a,s,h,g);return null===r.firstChild&&(r.firstChild=P),null!==y&&(I?null==y.child&&null!==P.parent&&(y.child=P):null===y.next&&(y.next=P,P.prev=y)),P}function Bc(r,s,a,h){if(0===a)return-1;const g=s.length;for(let y=0;y<a;y++)s.push(h),r.blueprint.push(h),r.data.push(null);return g}function Uc(r,s,a,h,g){const y=ug(s,yo),I=Wr(),C=2&h;try{za(-1),C&&s.length>Hn&&vh(r,s,Hn,!1),Yi(C?2:0,g);const W=C?y:null,oe=no(W);try{null!==W&&(W.dirty=!1),a(h,g)}finally{fl(W,oe)}}finally{C&&null===s[yo]&&dg(s,yo),za(I),Yi(C?3:1,g)}}function Ml(r,s,a){if(Hs(s)){const h=Ri(null);try{const y=s.directiveEnd;for(let I=s.directiveStart;I<y;I++){const C=r.data[I];C.contentQueries&&C.contentQueries(1,a[I],I)}}finally{Ri(h)}}}function Dd(r,s,a){ml()&&(function Mf(r,s,a,h){const g=a.directiveStart,y=a.directiveEnd;ys(a)&&function pb(r,s,a){const h=Qr(s,r),g=mg(a);let I=16;a.signals?I=4096:a.onPush&&(I=64);const C=r_(r,Af(r,g,null,I,h,s,null,r[Jr].rendererFactory.createRenderer(h,a),null,null,null));r[s.index]=C}(s,a,r.data[g+a.componentOffset]),r.firstCreatePass||_d(a,s),Ma(h,s);const I=a.initialInputs;for(let C=g;C<y;C++){const P=r.data[C],W=Dl(s,r,C,a);Ma(W,s),null!==I&&bh(0,C-g,W,P,0,I),Ni(P)&&(Ji(a.index,s)[xr]=Dl(s,r,C,a))}}(r,s,a,Qr(a,s)),64==(64&a.flags)&&e_(r,s,a))}function Of(r,s,a=Qr){const h=s.localNames;if(null!==h){let g=s.index+1;for(let y=0;y<h.length;y+=2){const I=h[y+1],C=-1===I?a(s,r):r[I];r[g++]=C}}}function mg(r){const s=r.tView;return null===s||s.incompleteFirstPass?r.tView=_g(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts,r.id):s}function _g(r,s,a,h,g,y,I,C,P,W,oe){const me=Hn+h,Fe=me+g,Ge=function xl(r,s){const a=[];for(let h=0;h<s;h++)a.push(h<r?null:rr);return a}(me,Fe),vt="function"==typeof W?W():W;return Ge[Vt]={type:r,blueprint:Ge,template:a,queries:null,viewQuery:C,declTNode:s,data:Ge.slice().fill(null,me),bindingStartIndex:me,expandoStartIndex:Fe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof y?y():y,pipeRegistry:"function"==typeof I?I():I,firstChild:null,schemas:P,consts:vt,incompleteFirstPass:!1,ssrId:oe}}let vg=r=>null;function Xm(r,s,a,h){for(let g in r)if(r.hasOwnProperty(g)){a=null===a?{}:a;const y=r[g];null===h?Nf(a,s,g,y):h.hasOwnProperty(g)&&Nf(a,s,h[g],y)}return a}function Nf(r,s,a,h){r.hasOwnProperty(a)?r[a].push(s,h):r[a]=[s,h]}function yc(r,s,a,h,g,y,I,C){const P=Qr(s,a);let oe,W=s.inputs;!C&&null!=W&&(oe=W[h])?(Tu(r,a,oe,h,g),ys(s)&&function Di(r,s){const a=Ji(s,r);16&a[kn]||(a[kn]|=64)}(a,s.index)):3&s.type&&(h=function Iu(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(h),g=null!=I?I(g,s.value||"",h):g,y.setProperty(P,h,g))}function tl(r,s,a,h){if(ml()){const g=null===h?null:{"":-1},y=function nl(r,s){const a=r.directiveRegistry;let h=null,g=null;if(a)for(let y=0;y<a.length;y++){const I=a[y];if(ps(s,I.selectors,!1))if(h||(h=[]),Ni(I))if(null!==I.findHostDirectiveDefs){const C=[];g=g||new Map,I.findHostDirectiveDefs(I,C,g),h.unshift(...C,I),Js(r,s,C.length)}else h.unshift(I),Js(r,s,0);else g=g||new Map,I.findHostDirectiveDefs?.(I,h,g),h.push(I)}return null===h?null:[h,g]}(r,a);let I,C;null===y?I=C=null:[I,C]=y,null!==I&&$y(r,s,a,I,g,C),g&&function wg(r,s,a){if(s){const h=r.localNames=[];for(let g=0;g<s.length;g+=2){const y=a[s[g+1]];if(null==y)throw new Oe(-301,!1);h.push(s[g],y)}}}(a,h,g)}a.mergedAttrs=wa(a.mergedAttrs,a.attrs)}function $y(r,s,a,h,g,y){for(let W=0;W<h.length;W++)yd(_d(a,s),r,h[W].type);!function Ig(r,s,a){r.flags|=1,r.directiveStart=s,r.directiveEnd=s+a,r.providerIndexes=s}(a,r.data.length,h.length);for(let W=0;W<h.length;W++){const oe=h[W];oe.providersResolver&&oe.providersResolver(oe)}let I=!1,C=!1,P=Bc(r,s,h.length,null);for(let W=0;W<h.length;W++){const oe=h[W];a.mergedAttrs=wa(a.mergedAttrs,oe.hostAttrs),n_(r,a,s,P,oe),t_(P,oe,g),null!==oe.contentQueries&&(a.flags|=4),(null!==oe.hostBindings||null!==oe.hostAttrs||0!==oe.hostVars)&&(a.flags|=64);const me=oe.type.prototype;!I&&(me.ngOnChanges||me.ngOnInit||me.ngDoCheck)&&((r.preOrderHooks??=[]).push(a.index),I=!0),!C&&(me.ngOnChanges||me.ngDoCheck)&&((r.preOrderCheckHooks??=[]).push(a.index),C=!0),P++}!function GT(r,s,a){const g=s.directiveEnd,y=r.data,I=s.attrs,C=[];let P=null,W=null;for(let oe=s.directiveStart;oe<g;oe++){const me=y[oe],Fe=a?a.get(me):null,vt=Fe?Fe.outputs:null;P=Xm(me.inputs,oe,P,Fe?Fe.inputs:null),W=Xm(me.outputs,oe,W,vt);const Rt=null===P||null===I||fo(s)?null:qy(P,oe,I);C.push(Rt)}null!==P&&(P.hasOwnProperty("class")&&(s.flags|=8),P.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=C,s.inputs=P,s.outputs=W}(r,a,y)}function e_(r,s,a){const h=a.directiveStart,g=a.directiveEnd,y=a.index,I=function S(){return Rn.lFrame.currentDirectiveIndex}();try{za(y);for(let C=h;C<g;C++){const P=r.data[C],W=s[C];R(C),(null!==P.hostBindings||0!==P.hostVars||null!==P.hostAttrs)&&Eu(P,W)}}finally{za(-1),R(I)}}function Eu(r,s){null!==r.hostBindings&&r.hostBindings(1,s)}function Js(r,s,a){s.componentOffset=a,(r.components??=[]).push(s.index)}function t_(r,s,a){if(a){if(s.exportAs)for(let h=0;h<s.exportAs.length;h++)a[s.exportAs[h]]=r;Ni(s)&&(a[""]=r)}}function n_(r,s,a,h,g){r.data[h]=g;const y=g.factory||(g.factory=ac(g.type)),I=new gd(y,Ni(g),bu);r.blueprint[h]=I,a[h]=I,function zy(r,s,a,h,g){const y=g.hostBindings;if(y){let I=r.hostBindingOpCodes;null===I&&(I=r.hostBindingOpCodes=[]);const C=~s.index;(function nd(r){let s=r.length;for(;s>0;){const a=r[--s];if("number"==typeof a&&a<0)return a}return 0})(I)!=C&&I.push(C),I.push(a,h,y)}}(r,s,h,Bc(r,a,g.hostVars,rr),g)}function Za(r,s,a,h,g,y){const I=Qr(r,s);!function Wy(r,s,a,h,g,y,I){if(null==y)r.removeAttribute(s,g,a);else{const C=null==I?Le(y):I(y,h||"",g);r.setAttribute(s,g,C,a)}}(s[Dn],I,y,r.value,a,h,g)}function bh(r,s,a,h,g,y){const I=y[s];if(null!==I)for(let C=0;C<I.length;)xf(h,a,I[C++],I[C++],I[C++])}function xf(r,s,a,h,g){const y=Ri(null);try{const I=r.inputTransforms;null!==I&&I.hasOwnProperty(h)&&(g=I[h].call(s,g)),null!==r.setInput?r.setInput(s,g,a,h):s[h]=g}finally{Ri(y)}}function qy(r,s,a){let h=null,g=0;for(;g<a.length;){const y=a[g];if(0!==y)if(5!==y){if("number"==typeof y)break;if(r.hasOwnProperty(y)){null===h&&(h=[]);const I=r[y];for(let C=0;C<I.length;C+=2)if(I[C]===s){h.push(y,I[C+1],a[g+1]);break}}g+=2}else g+=2;else g+=4}return h}function Eg(r,s,a,h){return[r,!0,!1,s,null,0,h,a,null,null,null]}function Zy(r,s){const a=r.contentQueries;if(null!==a)for(let h=0;h<a.length;h+=2){const y=a[h+1];if(-1!==y){const I=r.data[y];G(a[h]),I.contentQueries(2,s[y],y)}}}function r_(r,s){return r[mo]?r[_o][yi]=s:r[mo]=s,r[_o]=s,s}function Rf(r,s,a){G(0);const h=Ri(null);try{s(r,a)}finally{Ri(h)}}function gb(r){return r[Ai]||(r[Ai]=[])}function rd(r){return r.cleanup||(r.cleanup=[])}function Ms(r,s){const a=r[Qn],h=a?a.get(ed,null):null;h&&h.handleError(s)}function Tu(r,s,a,h,g){for(let y=0;y<a.length;){const I=a[y++],C=a[y++];xf(r.data[I],s[I],h,C,g)}}function Ao(r,s,a){const h=Ac(s,r);!function I0(r,s,a){r.setValue(s,a)}(r[Dn],h,a)}function Yy(r,s){const a=Ji(s,r),h=a[Vt];!function BI(r,s){for(let a=s.length;a<r.blueprint.length;a++)s.push(r.blueprint[a])}(h,a);const g=a[Ar];null!==g&&null===a[Zi]&&(a[Zi]=lh(g,a[Qn])),Pt(h,a,a[xr])}function Pt(r,s,a){Qe(s);try{const h=r.viewQuery;null!==h&&Rf(1,h,a);const g=r.template;null!==g&&Uc(r,s,g,1,a),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&Zy(r,s),r.staticViewQueries&&Rf(2,r.viewQuery,a);const y=r.components;null!==y&&function so(r,s){for(let a=0;a<s.length;a++)Yy(r,s[a])}(s,y)}catch(h){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),h}finally{s[kn]&=-5,or()}}let vc=(()=>{class r{constructor(){this.all=new Set,this.queue=new Map}create(a,h,g){const y=typeof Zone>"u"?null:Zone.current,I=function Mr(r,s,a){const h=Object.create(mr);a&&(h.consumerAllowSignalWrites=!0),h.fn=r,h.schedule=s;const g=I=>{h.cleanupFn=I};return h.ref={notify:()=>Uh(h),run:()=>{if(h.dirty=!1,h.hasRun&&!$s(h))return;h.hasRun=!0;const I=no(h);try{h.cleanupFn(),h.cleanupFn=Xn,h.fn(g)}finally{fl(h,I)}},cleanup:()=>h.cleanupFn()},h.ref}(a,W=>{this.all.has(W)&&this.queue.set(W,y)},g);let C;this.all.add(I),I.notify();const P=()=>{I.cleanup(),C?.(),this.all.delete(I),this.queue.delete(I)};return C=h?.onDestroy(P),{destroy:P}}flush(){if(0!==this.queue.size)for(const[a,h]of this.queue)this.queue.delete(a),h?h.run(()=>a.run()):a.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=xe({token:r,providedIn:"root",factory:()=>new r})}return r})();function yn(r,s,a){let h=a?r.styles:null,g=a?r.classes:null,y=0;if(null!==s)for(let I=0;I<s.length;I++){const C=s[I];"number"==typeof C?y=C:1==y?g=xt(g,C):2==y&&(h=xt(h,C+": "+s[++I]+";"))}a?r.styles=h:r.stylesWithoutHost=h,a?r.classes=g:r.classesWithoutHost=g}function On(r,s,a,h,g=!1){for(;null!==a;){const y=s[a.index];null!==y&&h.push(ci(y)),Or(y)&&_b(y,h);const I=a.type;if(8&I)On(r,s,a.child,h);else if(32&I){const C=th(a,s);let P;for(;P=C();)h.push(P)}else if(16&I){const C=C0(s,a);if(Array.isArray(C))h.push(...C);else{const P=Dp(s[zr]);On(P[Vt],P,C,h,!0)}}a=g?a.projectionNext:a.next}return h}function _b(r,s){for(let a=ui;a<r.length;a++){const h=r[a],g=h[Vt].firstChild;null!==g&&On(h[Vt],h,g,s)}r[ai]!==r[Ar]&&s.push(r[ai])}function Kt(r,s,a,h=!0){const g=s[Jr],y=g.rendererFactory,I=g.afterRenderEventManager;y.begin?.(),I?.begin();try{oo(r,s,r.template,a)}catch(P){throw h&&Ms(s,P),P}finally{y.end?.(),g.effectManager?.flush(),I?.end()}}function oo(r,s,a,h){const g=s[kn];if(256!=(256&g)){s[Jr].effectManager?.flush(),Qe(s);try{xu(s),function yl(r){return Rn.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==a&&Uc(r,s,a,2,h);const I=3==(3&g);if(I){const W=r.preOrderCheckHooks;null!==W&&bl(s,W,null)}else{const W=r.preOrderHooks;null!==W&&wl(s,W,0,null),Wd(s,0)}if(function UI(r){for(let s=Ei(r);null!==s;s=nf(s)){if(!s[Vs])continue;const a=s[Ua];for(let h=0;h<a.length;h++){Ru(a[h])}}}(s),Jy(s,2),null!==r.contentQueries&&Zy(r,s),I){const W=r.contentCheckHooks;null!==W&&bl(s,W)}else{const W=r.contentHooks;null!==W&&wl(s,W,1),Wd(s,1)}!function pg(r,s){const a=r.hostBindingOpCodes;if(null===a)return;const h=ug(s,Us);try{for(let g=0;g<a.length;g++){const y=a[g];if(y<0)za(~y);else{const I=y,C=a[++g],P=a[++g];jh(C,I),h.dirty=!1;const W=no(h);try{P(2,s[I])}finally{fl(h,W)}}}}finally{null===s[Us]&&dg(s,Us),za(-1)}}(r,s);const C=r.components;null!==C&&vb(s,C,0);const P=r.viewQuery;if(null!==P&&Rf(2,P,h),I){const W=r.viewCheckHooks;null!==W&&bl(s,W)}else{const W=r.viewHooks;null!==W&&wl(s,W,2),Wd(s,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),s[kn]&=-73,Ii(s)}finally{or()}}}function Jy(r,s){for(let a=Ei(r);null!==a;a=nf(a))for(let h=ui;h<a.length;h++)yb(a[h],s)}function VI(r,s,a){yb(Ji(s,r),a)}function yb(r,s){if(!function gl(r){return 128==(128&r[kn])}(r))return;const a=r[Vt],h=r[kn];if(80&h&&0===s||1024&h||2===s)oo(a,r,a.template,r[xr]);else if(r[go]>0){Jy(r,1);const g=a.components;null!==g&&vb(r,g,1)}}function vb(r,s,a){for(let h=0;h<s.length;h++)VI(r,s[h],a)}class Pf{get rootNodes(){const s=this._lView,a=s[Vt];return On(a,s,a.firstChild,[])}constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[xr]}set context(s){this._lView[xr]=s}get destroyed(){return 256==(256&this._lView[kn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[Vr];if(Or(s)){const a=s[8],h=a?a.indexOf(this):-1;h>-1&&(Op(s,h),Qd(a,h))}this._attachedToViewContainer=!1}rf(this._lView[Vt],this._lView)}onDestroy(s){Io(this._lView,s)}markForCheck(){td(this._cdRefInjectingView||this._lView)}detach(){this._lView[kn]&=-129}reattach(){this._lView[kn]|=128}detectChanges(){Kt(this._lView[Vt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Oe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Im(r,s){Dm(r,s,s[Dn],2,null,null)}(this._lView[Vt],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Oe(902,!1);this._appRef=s}}class bb extends Pf{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;Kt(s[Vt],s,s[xr],!1)}checkNoChanges(){}get context(){return null}}class wb extends If{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=An(s);return new Kn(a,this.ngModule)}}function Ib(r){const s=[];for(let a in r)r.hasOwnProperty(a)&&s.push({propName:r[a],templateName:a});return s}class i_{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,h){h=hs(h);const g=this.injector.get(s,Py,h);return g!==Py||a===Py?g:this.parentInjector.get(s,a,h)}}class Kn extends Gm{get inputs(){const s=this.componentDef,a=s.inputTransforms,h=Ib(s.inputs);if(null!==a)for(const g of h)a.hasOwnProperty(g.propName)&&(g.transform=a[g.propName]);return h}get outputs(){return Ib(this.componentDef.outputs)}constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function gs(r){return r.map(ul).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}create(s,a,h,g){let y=(g=g||this.ngModule)instanceof kc?g:g?.injector;y&&null!==this.componentDef.getStandaloneInjector&&(y=this.componentDef.getStandaloneInjector(y)||y);const I=y?new i_(s,y):s,C=I.get(Wm,null);if(null===C)throw new Oe(407,!1);const me={rendererFactory:C,sanitizer:I.get(qm,null),effectManager:I.get(vc,null),afterRenderEventManager:I.get(So,null)},Fe=C.createRenderer(null,this.componentDef),Ge=this.componentDef.selectors[0][0]||"div",vt=h?function yg(r,s,a,h){const y=h.get(Sf,!1)||a===Ui.ShadowDom,I=r.selectRootElement(s,y);return function fb(r){vg(r)}(I),I}(Fe,h,this.componentDef.encapsulation,I):Sp(Fe,Ge,function HI(r){const s=r.toLowerCase();return"svg"===s?pl:"math"===s?"math":null}(Ge)),Cn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Et=null;null!==vt&&(Et=lh(vt,I,!0));const hr=_g(0,null,null,1,0,null,null,null,null,null,null),Br=Af(null,hr,null,Cn,null,null,me,Fe,I,null,Et);let Li,ll;Qe(Br);try{const Bh=this.componentDef;let K_,PD=null;Bh.findHostDirectiveDefs?(K_=[],PD=new Map,Bh.findHostDirectiveDefs(Bh,K_,PD),K_.push(Bh)):K_=[Bh];const PS=function Eb(r,s){const a=r[Vt],h=Hn;return r[h]=s,wu(a,h,2,"#host",null)}(Br,vt),kS=function vs(r,s,a,h,g,y,I){const C=g[Vt];!function Pn(r,s,a,h){for(const g of r)s.mergedAttrs=wa(s.mergedAttrs,g.hostAttrs);null!==s.mergedAttrs&&(yn(s,s.mergedAttrs,!0),null!==a&&N0(h,a,s))}(h,r,s,I);let P=null;null!==s&&(P=lh(s,g[Qn]));const W=y.rendererFactory.createRenderer(s,a);let oe=16;a.signals?oe=4096:a.onPush&&(oe=64);const me=Af(g,mg(a),null,oe,g[r.index],r,y,W,null,null,P);return C.firstCreatePass&&Js(C,r,h.length-1),r_(g,me),g[r.index]=me}(PS,vt,Bh,K_,Br,me,Fe);ll=qc(hr,Hn),vt&&function ur(r,s,a,h){if(h)gi(r,a,["ng-version",Q0.full]);else{const{attrs:g,classes:y}=function rc(r){const s=[],a=[];let h=1,g=2;for(;h<r.length;){let y=r[h];if("string"==typeof y)2===g?""!==y&&s.push(y,r[++h]):8===g&&a.push(y);else{if(!Gr(g))break;g=y}h++}return{attrs:s,classes:a}}(s.selectors[0]);g&&gi(r,a,g),y&&y.length>0&&O0(r,a,y.join(" "))}}(Fe,Bh,vt,h),void 0!==a&&function Qy(r,s,a){const h=r.projection=[];for(let g=0;g<s.length;g++){const y=a[g];h.push(null!=y?Array.from(y):null)}}(ll,this.ngContentSelectors,a),Li=function Tg(r,s,a,h,g,y){const I=zi(),C=g[Vt],P=Qr(I,g);$y(C,g,I,a,null,h);for(let oe=0;oe<a.length;oe++)Ma(Dl(g,C,I.directiveStart+oe,I),g);e_(C,g,I),P&&Ma(P,g);const W=Dl(g,C,I.directiveStart+I.componentOffset,I);if(r[xr]=g[xr]=W,null!==y)for(const oe of y)oe(W,s);return Ml(C,I,r),W}(kS,Bh,K_,PD,Br,[Qi]),Pt(hr,Br,null)}finally{or()}return new kf(this.componentType,Li,dh(ll,Br),Br,ll)}}class kf extends xy{constructor(s,a,h,g,y){super(),this.location=h,this._rootLView=g,this._tNode=y,this.previousInputValues=null,this.instance=a,this.hostView=this.changeDetectorRef=new bb(g),this.componentType=s}setInput(s,a){const h=this._tNode.inputs;let g;if(null!==h&&(g=h[s])){if(this.previousInputValues??=new Map,this.previousInputValues.has(s)&&Object.is(this.previousInputValues.get(s),a))return;const y=this._rootLView;Tu(y[Vt],y,g,s,a),this.previousInputValues.set(s,a),td(Ji(this._tNode.index,y))}}get injector(){return new N(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function Qi(){const r=zi();pd(_t()[Vt],r)}function Ff(r){let s=function Jt(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),a=!0;const h=[r];for(;s;){let g;if(Ni(r))g=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Oe(903,!1);g=s.\u0275dir}if(g){if(a){h.push(g);const I=r;I.inputs=rl(r.inputs),I.inputTransforms=rl(r.inputTransforms),I.declaredInputs=rl(r.declaredInputs),I.outputs=rl(r.outputs);const C=g.hostBindings;C&&o_(r,C);const P=g.viewQuery,W=g.contentQueries;if(P&&jI(r,P),W&&s_(r,W),qe(r.inputs,g.inputs),qe(r.declaredInputs,g.declaredInputs),qe(r.outputs,g.outputs),null!==g.inputTransforms&&(null===I.inputTransforms&&(I.inputTransforms={}),qe(I.inputTransforms,g.inputTransforms)),Ni(g)&&g.data.animation){const oe=r.data;oe.animation=(oe.animation||[]).concat(g.data.animation)}}const y=g.features;if(y)for(let I=0;I<y.length;I++){const C=y[I];C&&C.ngInherit&&C(r),C===Ff&&(a=!1)}}s=Object.getPrototypeOf(s)}!function Xy(r){let s=0,a=null;for(let h=r.length-1;h>=0;h--){const g=r[h];g.hostVars=s+=g.hostVars,g.hostAttrs=wa(g.hostAttrs,a=wa(a,g.hostAttrs))}}(h)}function rl(r){return r===Vi?{}:r===ir?[]:r}function jI(r,s){const a=r.viewQuery;r.viewQuery=a?(h,g)=>{s(h,g),a(h,g)}:s}function s_(r,s){const a=r.contentQueries;r.contentQueries=a?(h,g,y)=>{s(h,g,y),a(h,g,y)}:s}function o_(r,s){const a=r.hostBindings;r.hostBindings=a?(h,g)=>{s(h,g),a(h,g)}:s}function Ka(r){return s=>{s.findHostDirectiveDefs=Ya,s.hostDirectives=(Array.isArray(r)?r:r()).map(a=>"function"==typeof a?{directive:Tt(a),inputs:Vi,outputs:Vi}:{directive:Tt(a.directive),inputs:Cd(a.inputs),outputs:Cd(a.outputs)})}}function Ya(r,s,a){if(null!==r.hostDirectives)for(const h of r.hostDirectives){const g=ti(h.directive);GI(g.declaredInputs,h.inputs),Ya(g,s,a),a.set(g,h),s.push(g)}}function Cd(r){if(void 0===r||0===r.length)return Vi;const s={};for(let a=0;a<r.length;a+=2)s[r[a]]=r[a+1];return s}function GI(r,s){for(const a in s)s.hasOwnProperty(a)&&(r[s[a]]=r[a])}function et(r){const s=r.inputConfig,a={};for(const h in s)if(s.hasOwnProperty(h)){const g=s[h];Array.isArray(g)&&g[2]&&(a[h]=g[2])}r.inputTransforms=a}function ma(r){return!!il(r)&&(Array.isArray(r)||!(r instanceof Map)&&Symbol.iterator in r)}function il(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function _a(r,s,a){return r[s]=a}function Ko(r,s,a){return!Object.is(r[s],a)&&(r[s]=a,!0)}function Ih(r,s,a,h){const g=Ko(r,s,a);return Ko(r,s+1,h)||g}function c_(r,s,a,h,g){const y=Ih(r,s,a,h);return Ko(r,s+2,g)||y}function Du(r,s,a,h){const g=_t();return Ko(g,Ga(),s)&&(Er(),Za(_r(),g,r,s,a,h)),Du}function Eh(r,s,a,h){return Ko(r,Ga(),a)?s+Le(a)+h:rr}function Bf(r,s,a,h,g,y,I,C){const W=c_(r,function Go(){return Rn.lFrame.bindingIndex}(),a,g,I);return $a(3),W?s+Le(a)+h+Le(g)+y+Le(I)+C:rr}function od(r,s,a,h,g,y,I,C){const P=_t(),W=Er(),oe=r+Hn,me=W.firstCreatePass?function sd(r,s,a,h,g,y,I,C,P){const W=s.consts,oe=wu(s,r,4,I||null,la(W,C));tl(s,a,oe,la(W,P)),pd(s,oe);const me=oe.tView=_g(2,oe,h,g,y,s.directiveRegistry,s.pipeRegistry,null,s.schemas,W,null);return null!==s.queries&&(s.queries.template(s,oe),me.queries=s.queries.embeddedTView(oe)),oe}(oe,W,P,s,a,h,g,y,I):W.data[oe];Eo(me,!1);const Fe=Hc(W,P,me,r);pp()&&kp(W,P,Fe,me),Ma(Fe,P),r_(P,P[oe]=Eg(Fe,P,Fe,me)),vo(me)&&Dd(W,P,me),null!=I&&Of(P,me,C)}let Hc=function jc(r,s,a,h){return Nc(!0),s[Dn].createComment("")};function Od(r){return ja(function Bu(){return Rn.lFrame.contextLView}(),Hn+r)}function Gf(r,s,a){const h=_t();return Ko(h,Ga(),s)&&yc(Er(),_r(),h,r,s,h[Dn],a,!1),Gf}function $f(r,s,a,h,g){const I=g?"class":"style";Tu(r,a,s.inputs[I],I,h)}function Nh(r,s,a,h){const g=_t(),y=Er(),I=Hn+r,C=g[Dn],P=y.firstCreatePass?function Ou(r,s,a,h,g,y){const I=s.consts,P=wu(s,r,2,h,la(I,g));return tl(s,a,P,la(I,y)),null!==P.attrs&&yn(P,P.attrs,!1),null!==P.mergedAttrs&&yn(P,P.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,P),P}(I,y,g,s,a,h):y.data[I],W=cv(y,g,P,C,s,r);g[I]=W;const oe=vo(P);return Eo(P,!0),N0(C,W,P),32!=(32&P.flags)&&pp()&&kp(y,g,W,P),0===function ku(){return Rn.lFrame.elementDepthCount}()&&Ma(W,g),function Yl(){Rn.lFrame.elementDepthCount++}(),oe&&(Dd(y,g,P),Ml(y,P,g)),null!==h&&Of(g,P),Nh}function Nd(){let r=zi();Lu()?fc():(r=r.parent,Eo(r,!1));const s=r;(function Zc(r){return Rn.skipHydrationRootTNode===r})(s)&&function Ql(){Rn.skipHydrationRootTNode=null}(),function Jl(){Rn.lFrame.elementDepthCount--}();const a=Er();return a.firstCreatePass&&(pd(a,r),Hs(r)&&a.queries.elementEnd(r)),null!=s.classesWithoutHost&&function gp(r){return 0!=(8&r.flags)}(s)&&$f(a,s,_t(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function mp(r){return 0!=(16&r.flags)}(s)&&$f(a,s,_t(),s.stylesWithoutHost,!1),Nd}function Md(r,s,a,h){return Nh(r,s,a,h),Nd(),Md}let cv=(r,s,a,h,g,y)=>(Nc(!0),Sp(h,g,function fd(){return Rn.lFrame.currentNamespace}()));function Og(r,s,a){const h=_t(),g=Er(),y=r+Hn,I=g.firstCreatePass?function lv(r,s,a,h,g){const y=s.consts,I=la(y,h),C=wu(s,r,8,"ng-container",I);return null!==I&&yn(C,I,!0),tl(s,a,C,la(y,g)),null!==s.queries&&s.queries.elementStart(s,C),C}(y,g,h,s,a):g.data[y];Eo(I,!0);const C=zf(g,h,I,r);return h[y]=C,pp()&&kp(g,h,C,I),Ma(C,h),vo(I)&&(Dd(g,h,I),Ml(g,I,h)),null!=a&&Of(h,I),Og}function h_(){let r=zi();const s=Er();return Lu()?fc():(r=r.parent,Eo(r,!1)),s.firstCreatePass&&(pd(s,r),Hs(r)&&s.queries.elementEnd(r)),h_}let zf=(r,s,a,h)=>(Nc(!0),wm(s[Dn],""));function Ci(){return _t()}function Fl(r){return!!r&&"function"==typeof r.then}function f_(r){return!!r&&"function"==typeof r.subscribe}function Ng(r,s,a,h){const g=_t(),y=Er(),I=zi();return function dv(r,s,a,h,g,y,I){const C=vo(h),W=r.firstCreatePass&&rd(r),oe=s[xr],me=gb(s);let Fe=!0;if(3&h.type||I){const Rt=Qr(h,s),on=I?I(Rt):Rt,Cn=me.length,Et=I?Br=>I(ci(Br[h.index])):h.index;let hr=null;if(!I&&C&&(hr=function XI(r,s,a,h){const g=r.cleanup;if(null!=g)for(let y=0;y<g.length-1;y+=2){const I=g[y];if(I===a&&g[y+1]===h){const C=s[Ai],P=g[y+2];return C.length>P?C[P]:null}"string"==typeof I&&(y+=2)}return null}(r,s,g,h.index)),null!==hr)(hr.__ngLastListenerFn__||hr).__ngNextListenerFn__=y,hr.__ngLastListenerFn__=y,Fe=!1;else{y=li(h,s,oe,y,!1);const Br=a.listen(on,g,y);me.push(y,Br),W&&W.push(g,Et,Cn,Cn+1)}}else y=li(h,s,oe,y,!1);const Ge=h.outputs;let vt;if(Fe&&null!==Ge&&(vt=Ge[g])){const Rt=vt.length;if(Rt)for(let on=0;on<Rt;on+=2){const Li=s[vt[on]][vt[on+1]].subscribe(y),ll=me.length;me.push(y,Li),W&&W.push(g,h.index,ll,-(ll+1))}}}(y,g,g[Dn],I,r,s,h),Ng}function Lr(r,s,a,h){try{return Yi(6,s,a),!1!==a(h)}catch(g){return Ms(r,g),!1}finally{Yi(7,s,a)}}function li(r,s,a,h,g){return function y(I){if(I===Function)return h;td(r.componentOffset>-1?Ji(r.index,s):s);let P=Lr(s,a,h,I),W=y.__ngNextListenerFn__;for(;W;)P=Lr(s,a,W,I)&&P,W=W.__ngNextListenerFn__;return g&&!1===P&&I.preventDefault(),P}}function xd(r=1){return function To(r){return(Rn.lFrame.contextLView=function eu(r,s){for(;r>0;)s=s[Lo],r--;return s}(r,Rn.lFrame.contextLView))[xr]}(r)}function Mg(r,s){let a=null;const h=function po(r){const s=r.attrs;if(null!=s){const a=s.indexOf(5);if(!(1&a))return s[a+1]}return null}(r);for(let g=0;g<s.length;g++){const y=s[g];if("*"!==y){if(null===h?ps(r,y,!0):zl(h,y))return g}else a=g}return a}function p_(r){const s=_t()[zr][$r];if(!s.projection){const h=s.projection=uu(r?r.length:1,null),g=h.slice();let y=s.child;for(;null!==y;){const I=r?Mg(y,r):0;null!==I&&(g[I]?g[I].projectionNext=y:h[I]=y,g[I]=y),y=y.next}}}function hv(r,s=0,a){const h=_t(),g=Er(),y=wu(g,Hn+r,16,null,a||null);null===y.projection&&(y.projection=s),fc(),(!h[Zi]||dc())&&32!=(32&y.flags)&&function ST(r,s,a){uI(s[Dn],0,s,a,Mp(r,a,s),xp(a.parent||s[$r],a,s))}(g,h,y)}function Wf(r,s,a){return g_(r,"",s,"",a),Wf}function g_(r,s,a,h,g){const y=_t(),I=Eh(y,s,a,h);return I!==rr&&yc(Er(),_r(),y,r,I,y[Dn],g,!1),g_}function y_(r,s){return r<<17|s<<2}function Rd(r){return r>>17&32767}function ad(r){return 2|r}function Ll(r){return(131068&r)>>2}function qf(r,s){return-131069&r|s<<2}function b_(r){return 1|r}function Rg(r,s,a,h,g){const y=r[a+1],I=null===s;let C=h?Rd(y):Ll(y),P=!1;for(;0!==C&&(!1===P||I);){const oe=r[C+1];mv(r[C],s)&&(P=!0,r[C+1]=h?b_(oe):ad(oe)),C=h?Rd(oe):Ll(oe)}P&&(r[a+1]=h?ad(y):b_(y))}function mv(r,s){return null===r||null==s||(Array.isArray(r)?r[1]:r)===s||!(!Array.isArray(r)||"string"!=typeof s)&&Wu(r,s)>=0}const us={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Pg(r){return r.substring(us.key,us.keyEnd)}function w_(r,s){const a=us.textEnd;return a===s?-1:(s=us.keyEnd=function Kf(r,s,a){for(;s<a&&r.charCodeAt(s)>32;)s++;return s}(r,us.key=s,a),Fd(r,s,a))}function Fd(r,s,a){for(;s<a&&r.charCodeAt(s)<=32;)s++;return s}function vv(r,s){return function tc(r,s,a,h){const g=_t(),y=Er(),I=$a(2);y.firstUpdatePass&&yr(y,r,I,h),s!==rr&&Ko(g,I,s)&&fe(y,y.data[Wr()],g,g[Dn],r,g[I+1]=function ht(r,s){return null==r||""===r||("string"==typeof s?r+=s:"object"==typeof r&&(r=It(pu(r)))),r}(s,a),h,I)}(r,s,null,!0),vv}function ol(r){!function Ul(r,s,a,h){const g=Er(),y=$a(2);g.firstUpdatePass&&yr(g,null,y,h);const I=_t();if(a!==rr&&Ko(I,y,a)){const C=g.data[Wr()];if(dt(C,h)&&!nE(g,y)){let P=h?C.classesWithoutHost:C.stylesWithoutHost;null!==P&&(a=xt(P,a||"")),$f(g,C,I,a,h)}else!function se(r,s,a,h,g,y,I,C){g===rr&&(g=ir);let P=0,W=0,oe=0<g.length?g[0]:null,me=0<y.length?y[0]:null;for(;null!==oe||null!==me;){const Fe=P<g.length?g[P+1]:void 0,Ge=W<y.length?y[W+1]:void 0;let Rt,vt=null;oe===me?(P+=2,W+=2,Fe!==Ge&&(vt=me,Rt=Ge)):null===me||null!==oe&&oe<me?(P+=2,vt=oe):(W+=2,vt=me,Rt=Ge),null!==vt&&fe(r,s,a,h,vt,Rt,I,C),oe=P<g.length?g[P]:null,me=W<y.length?y[W]:null}}(g,C,I,I[Dn],I[y+1],I[y+1]=function E(r,s,a){if(null==a||""===a)return ir;const h=[],g=pu(a);if(Array.isArray(g))for(let y=0;y<g.length;y++)r(h,g[y],!0);else if("object"==typeof g)for(const y in g)g.hasOwnProperty(y)&&r(h,y,g[y]);else"string"==typeof g&&s(h,g);return h}(r,s,a),h,y)}}(K,al,r,!0)}function al(r,s){for(let a=function Xa(r){return function _v(r){us.key=0,us.keyEnd=0,us.value=0,us.valueEnd=0,us.textEnd=r.length}(r),w_(r,Fd(r,0,us.textEnd))}(s);a>=0;a=w_(s,a))ua(r,Pg(s),!0)}function nE(r,s){return s>=r.expandoStartIndex}function yr(r,s,a,h){const g=r.data;if(null===g[a+1]){const y=g[Wr()],I=nE(r,a);dt(y,h)&&null===s&&!I&&(s=!1),s=function rE(r,s,a,h){const g=function D(r){const s=Rn.lFrame.currentDirectiveIndex;return-1===s?null:r[s]}(r);let y=h?s.residualClasses:s.residualStyles;if(null===g)0===(h?s.classBindings:s.styleBindings)&&(a=m(a=d(null,r,s,a,h),s.attrs,h),y=null);else{const I=s.directiveStylingLast;if(-1===I||r[I]!==g)if(a=d(g,r,s,a,h),null===y){let P=function c(r,s,a){const h=a?s.classBindings:s.styleBindings;if(0!==Ll(h))return r[Rd(h)]}(r,s,h);void 0!==P&&Array.isArray(P)&&(P=d(null,r,s,P[1],h),P=m(P,s.attrs,h),function f(r,s,a,h){r[Rd(a?s.classBindings:s.styleBindings)]=h}(r,s,h,P))}else y=function o(r,s,a){let h;const g=s.directiveEnd;for(let y=1+s.directiveStylingLast;y<g;y++)h=m(h,r[y].hostAttrs,a);return m(h,s.attrs,a)}(r,s,h)}return void 0!==y&&(h?s.residualClasses=y:s.residualStyles=y),a}(g,y,s,h),function Pb(r,s,a,h,g,y){let I=y?s.classBindings:s.styleBindings,C=Rd(I),P=Ll(I);r[h]=a;let oe,W=!1;if(Array.isArray(a)?(oe=a[1],(null===oe||Wu(a,oe)>0)&&(W=!0)):oe=a,g)if(0!==P){const Fe=Rd(r[C+1]);r[h+1]=y_(Fe,C),0!==Fe&&(r[Fe+1]=qf(r[Fe+1],h)),r[C+1]=function Rb(r,s){return 131071&r|s<<17}(r[C+1],h)}else r[h+1]=y_(C,0),0!==C&&(r[C+1]=qf(r[C+1],h)),C=h;else r[h+1]=y_(P,0),0===C?C=h:r[P+1]=qf(r[P+1],h),P=h;W&&(r[h+1]=ad(r[h+1])),Rg(r,oe,h,!0),Rg(r,oe,h,!1),function Zf(r,s,a,h,g){const y=g?r.residualClasses:r.residualStyles;null!=y&&"string"==typeof s&&Wu(y,s)>=0&&(a[h+1]=b_(a[h+1]))}(s,oe,r,h,y),I=y_(C,P),y?s.classBindings=I:s.styleBindings=I}(g,y,s,a,I,h)}}function d(r,s,a,h,g){let y=null;const I=a.directiveEnd;let C=a.directiveStylingLast;for(-1===C?C=a.directiveStart:C++;C<I&&(y=s[C],h=m(h,y.hostAttrs,g),y!==r);)C++;return null!==r&&(a.directiveStylingLast=C),h}function m(r,s,a){const h=a?1:2;let g=-1;if(null!==s)for(let y=0;y<s.length;y++){const I=s[y];"number"==typeof I?g=I:g===h&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),ua(r,I,!!a||s[++y]))}return void 0===r?null:r}function K(r,s,a){const h=String(s);""!==h&&!h.includes(" ")&&ua(r,h,a)}function fe(r,s,a,h,g,y,I,C){if(!(3&s.type))return;const P=r.data,W=P[C+1],oe=function v_(r){return 1==(1&r)}(W)?Ie(P,s,a,g,Ll(W),I):void 0;ze(oe)||(ze(y)||function tE(r){return 2==(2&r)}(W)&&(y=Ie(P,null,a,g,C,I)),function OT(r,s,a,h,g){if(s)g?r.addClass(a,h):r.removeClass(a,h);else{let y=-1===h.indexOf("-")?void 0:v0.DashCase;null==g?r.removeStyle(a,h,y):("string"==typeof g&&g.endsWith("!important")&&(g=g.slice(0,-10),y|=v0.Important),r.setStyle(a,h,g,y))}}(h,I,Ac(Wr(),a),g,y))}function Ie(r,s,a,h,g,y){const I=null===s;let C;for(;g>0;){const P=r[g],W=Array.isArray(P),oe=W?P[1]:P,me=null===oe;let Fe=a[g+1];Fe===rr&&(Fe=me?ir:void 0);let Ge=me?vp(Fe,h):oe===h?Fe:void 0;if(W&&!ze(Ge)&&(Ge=vp(P,h)),ze(Ge)&&(C=Ge,I))return C;const vt=r[g+1];g=I?Rd(vt):Ll(vt)}if(null!==s){let P=y?s.residualClasses:s.residualStyles;null!=P&&(C=vp(P,h))}return C}function ze(r){return void 0!==r}function dt(r,s){return 0!=(r.flags&(s?8:16))}function Mt(r,s=""){const a=_t(),h=Er(),g=r+Hn,y=h.firstCreatePass?wu(h,g,1,s,null):h.data[g],I=jt(h,a,y,s,r);a[g]=I,pp()&&kp(h,a,I,y),Eo(y,!1)}let jt=(r,s,a,h,g)=>(Nc(!0),nh(s[Dn],h));function Ln(r){return En("",r,""),Ln}function En(r,s,a){const h=_t(),g=Eh(h,r,s,a);return g!==rr&&Ao(h,Wr(),g),En}function ar(r,s,a,h,g,y,I){const C=_t(),P=Bf(C,r,s,a,h,g,y,I);return P!==rr&&Ao(C,Wr(),P),ar}function E_(r,s,a){const h=_t();return Ko(h,Ga(),s)&&yc(Er(),_r(),h,r,s,h[Dn],a,!0),E_}const Nu=void 0;var Ev=["en",[["a","p"],["AM","PM"],Nu],[["AM","PM"],Nu,Nu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Nu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Nu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Nu,"{1} 'at' {0}",Nu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Iv(r){const a=Math.floor(Math.abs(r)),h=r.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===h?1:5}];let Bd={};function T_(r){const s=function Mo(r){return r.toLowerCase().replace(/_/g,"-")}(r);let a=Lg(s);if(a)return a;const h=s.split("-")[0];if(a=Lg(h),a)return a;if("en"===h)return Ev;throw new Oe(701,!1)}function Fg(r){return T_(r)[D_.PluralCase]}function Lg(r){return r in Bd||(Bd[r]=sr.ng&&sr.ng.common&&sr.ng.common.locales&&sr.ng.common.locales[r]),Bd[r]}var D_=function(r){return r[r.LocaleId=0]="LocaleId",r[r.DayPeriodsFormat=1]="DayPeriodsFormat",r[r.DayPeriodsStandalone=2]="DayPeriodsStandalone",r[r.DaysFormat=3]="DaysFormat",r[r.DaysStandalone=4]="DaysStandalone",r[r.MonthsFormat=5]="MonthsFormat",r[r.MonthsStandalone=6]="MonthsStandalone",r[r.Eras=7]="Eras",r[r.FirstDayOfWeek=8]="FirstDayOfWeek",r[r.WeekendRange=9]="WeekendRange",r[r.DateFormat=10]="DateFormat",r[r.TimeFormat=11]="TimeFormat",r[r.DateTimeFormat=12]="DateTimeFormat",r[r.NumberSymbols=13]="NumberSymbols",r[r.NumberFormats=14]="NumberFormats",r[r.CurrencyCode=15]="CurrencyCode",r[r.CurrencySymbol=16]="CurrencySymbol",r[r.CurrencyName=17]="CurrencyName",r[r.Currencies=18]="Currencies",r[r.Directionality=19]="Directionality",r[r.PluralCase=20]="PluralCase",r[r.ExtraData=21]="ExtraData",r}(D_||{});const Ud="en-US",C_={marker:"element"},Tv={marker:"ICU"};var xa=function(r){return r[r.SHIFT=2]="SHIFT",r[r.APPEND_EAGERLY=1]="APPEND_EAGERLY",r[r.COMMENT=2]="COMMENT",r}(xa||{});let aE=Ud;function cE(r){(function Ut(r,s){null==r&&pt(s,r,null,"!=")})(r,"Expected localeId to be defined"),"string"==typeof r&&(aE=r.toLowerCase().replace(/_/g,"-"))}function JT(r,s,a){const h=s.insertBeforeIndex,g=Array.isArray(h)?h[0]:h;return null===g?Rp(r,0,a):ci(a[g])}function S_(r,s,a,h,g){const y=s.insertBeforeIndex;if(Array.isArray(y)){let I=h,C=null;if(3&s.type||(C=I,I=g),null!==I&&-1===s.componentOffset)for(let P=1;P<y.length;P++)Yu(r,I,a[y[P]],C,!1)}}function Lb(r,s){if(r.push(s),r.length>1)for(let a=r.length-2;a>=0;a--){const h=r[a];QT(h)||XT(h,s)&&null===lE(h)&&e1(h,s.index)}}function QT(r){return!(64&r.type)}function XT(r,s){return QT(s)||r.index>s.index}function lE(r){const s=r.insertBeforeIndex;return Array.isArray(s)?s[0]:s}function e1(r,s){const a=r.insertBeforeIndex;Array.isArray(a)?a[0]=s:(hy(JT,S_),r.insertBeforeIndex=s)}function ZD(r,s,a){const h=gg(r,a,64,null,null);return Lb(s,h),h}function dE(){const r=[];let a,h,s=-1;function y(C,P){s=0;const W=function Bb(r,s){const a=s[r.currentCaseLViewIndex];return null===a?a:a<0?~a:a}(C,P);h=null!==W?C.remove[W]:ir}function I(){if(s<h.length){const C=h[s++];return C>0?a[C]:(r.push(s,h),y(a[Vt].data[~C],a),I())}return 0===r.length?null:(h=r.pop(),s=r.pop(),I())}return function g(C,P){for(a=P;r.length;)r.pop();return y(C.value,P),I}}const Sv=/\ufffd(\d+):?\d*\ufffd/gi,Av=/\ufffd(\d+)\ufffd/,tp=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Ov="\ufffd",o1=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,XD=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,eC=/\uE500/g;function Lh(r,s,a,h,g,y,I){const C=Bc(r,h,1,null);let P=C<<xa.SHIFT,W=_l();s===W&&(W=null),null===W&&(P|=xa.APPEND_EAGERLY),I&&(P|=xa.COMMENT,function bm(r){void 0===tf&&(tf=r())}(dE)),g.push(P,null===y?"":y);const oe=gg(r,C,I?32:1,null===y?"":y,null);Lb(a,oe);const me=oe.index;return Eo(oe,!1),null!==W&&s!==W&&function qD(r,s){let a=r.insertBeforeIndex;null===a?(hy(JT,S_),a=r.insertBeforeIndex=[null,s]):(function je(r,s,a){r!=s&&pt(a,r,s,"==")}(Array.isArray(a),!0,"Expecting array here"),a.push(s))}(W,me),oe}function a1(r,s,a,h,g,y,I){const C=I.match(Sv),P=Lh(r,s,a,y,h,C?null:I,!1);C&&N_(g,I,P.index,null,0,null)}function N_(r,s,a,h,g,y){const I=r.length,C=I+1;r.push(null,null);const P=I+2,W=s.split(Sv);let oe=0;for(let me=0;me<W.length;me++){const Fe=W[me];if(1&me){const Ge=g+parseInt(Fe,10);r.push(-1-Ge),oe|=Hb(Ge)}else""!==Fe&&r.push(Fe)}return r.push(a<<2|(h?1:0)),h&&r.push(h,y),r[I]=oe,r[C]=r.length-P,oe}function Hb(r){return 1<<Math.min(r,31)}function pE(r){let s,y,a="",h=0,g=!1;for(;null!==(s=o1.exec(r));)g?s[0]===`${Ov}/*${y}${Ov}`&&(h=s.index,g=!1):(a+=r.substring(h,s.index+s[0].length),y=s[1],g=!0);return a+=r.slice(h),a}function jb(r,s,a,h,g,y){let I=0;const C={type:g.type,currentCaseLViewIndex:Bc(r,s,1,null),anchorIdx:y,cases:[],create:[],remove:[],update:[]};(function l1(r,s,a){r.push(Hb(s.mainBinding),2,-1-s.mainBinding,a<<2|2)})(a,g,y),function t1(r,s,a){const h=r.data[s];null===h?r.data[s]=a:h.value=a}(r,y,C);const P=g.values;for(let W=0;W<P.length;W++){const oe=P[W],me=[];for(let Fe=0;Fe<oe.length;Fe++){const Ge=oe[Fe];if("string"!=typeof Ge){const vt=me.push(Ge)-1;oe[Fe]=`\x3c!--\ufffd${vt}\ufffd--\x3e`}}I=iC(r,C,s,a,h,g.cases[W],oe.join(""),me)|I}I&&function Mv(r,s,a){r.push(s,1,a<<2|3)}(a,I,y)}function c1(r){const s=[],a=[];let h=1,g=0;const y=M_(r=r.replace(tp,function(I,C,P){return h="select"===P?0:1,g=parseInt(C.slice(1),10),""}));for(let I=0;I<y.length;){let C=y[I++].trim();1===h&&(C=C.replace(/\s*(?:=)?(\w+)\s*/,"$1")),C.length&&s.push(C);const P=M_(y[I++]);s.length>a.length&&a.push(P)}return{type:h,mainBinding:g,cases:s,values:a}}function M_(r){if(!r)return[];let s=0;const a=[],h=[],g=/[{}]/g;let y;for(g.lastIndex=0;y=g.exec(r);){const C=y.index;if("}"==y[0]){if(a.pop(),0==a.length){const P=r.substring(s,C);tp.test(P)?h.push(c1(P)):h.push(P),s=C+1}}else{if(0==a.length){const P=r.substring(s,C);h.push(P),s=C+1}a.push("{")}}const I=r.substring(s);return h.push(I),h}function iC(r,s,a,h,g,y,I,C){const P=[],W=[],oe=[];s.cases.push(y),s.create.push(P),s.remove.push(W),s.update.push(oe);const Fe=R0(Wa()).getInertBodyElement(I),Ge=Gp(Fe)||Fe;return Ge?Gb(r,s,a,h,P,W,oe,Ge,g,C,0):0}function Gb(r,s,a,h,g,y,I,C,P,W,oe){let me=0,Fe=C.firstChild;for(;Fe;){const Ge=Bc(r,a,1,null);switch(Fe.nodeType){case Node.ELEMENT_NODE:const vt=Fe,Rt=vt.tagName.toLowerCase();if(df.hasOwnProperty(Rt)){x_(g,C_,Rt,P,Ge),r.data[Ge]=Rt;const hr=vt.attributes;for(let Br=0;Br<hr.length;Br++){const Li=hr.item(Br),ll=Li.name.toLowerCase();Li.value.match(Sv)?bI.hasOwnProperty(ll)&&N_(I,Li.value,Ge,Li.name,0,F0[ll]?P0:null):xv(g,Ge,Li)}me=Gb(r,s,a,h,g,y,I,Fe,Ge,W,oe+1)|me,Nv(y,Ge,oe)}break;case Node.TEXT_NODE:const on=Fe.textContent||"",Cn=on.match(Sv);x_(g,null,Cn?"":on,P,Ge),Nv(y,Ge,oe),Cn&&(me=N_(I,on,Ge,null,0,null)|me);break;case Node.COMMENT_NODE:const Et=Av.exec(Fe.textContent||"");if(Et){const Br=W[parseInt(Et[1],10)];x_(g,Tv,"",P,Ge),jb(r,a,h,P,Br,Ge),sC(y,Ge,oe)}}Fe=Fe.nextSibling}return me}function Nv(r,s,a){0===a&&r.push(s)}function sC(r,s,a){0===a&&(r.push(~s),r.push(s))}function x_(r,s,a,h,g){null!==s&&r.push(s),r.push(a,g,function KD(r,s,a){return r|s<<17|a<<1}(0,h,g))}function xv(r,s,a){r.push(s<<1|1,a.name,a.value)}function _E(r,s,a=-1){const h=Er(),g=_t(),y=Hn+r,I=la(h.consts,s),C=_l();h.firstCreatePass&&function Vg(r,s,a,h,g,y){const I=_l(),C=[],P=[],W=[[]];g=function gE(r,s){if(function fE(r){return-1===r}(s))return pE(r);{const a=r.indexOf(`:${s}${Ov}`)+2+s.toString().length,h=r.search(new RegExp(`${Ov}\\/\\*\\d+:${s}${Ov}`));return pE(r.substring(a,h))}}(g,y);const oe=function tC(r){return r.replace(eC," ")}(g).split(XD);for(let me=0;me<oe.length;me++){let Fe=oe[me];if(1&me){const Ge=47===Fe.charCodeAt(0),Rt=(Fe.charCodeAt(Ge?1:0),Hn+Number.parseInt(Fe.substring(Ge?2:1)));if(Ge)W.shift(),Eo(_l(),!1);else{const on=ZD(r,W[0],Rt);W.unshift([]),Eo(on,!0)}}else{const Ge=M_(Fe);for(let vt=0;vt<Ge.length;vt++){let Rt=Ge[vt];if(1&vt){const on=Rt;if("object"!=typeof on)throw new Error(`Unable to parse ICU expression in "${g}" message.`);jb(r,a,P,s,on,Lh(r,I,W[0],a,C,"",!0).index)}else""!==Rt&&a1(r,I,W[0],C,P,a,Rt)}}}r.data[h]={create:C,update:P}}(h,null===C?0:C.index,g,y,I,a),2===h.type?g[zr][kn]|=32:g[kn]|=32;const P=h.data[y],oe=Em(h,C===g[$r]?null:C,g);(function r1(r,s,a,h){const g=r[Dn];for(let y=0;y<s.length;y++){const I=s[y++],C=s[y],W=(I&xa.APPEND_EAGERLY)===xa.APPEND_EAGERLY,oe=I>>>xa.SHIFT;let me=r[oe];null===me&&(me=r[oe]=(I&xa.COMMENT)===xa.COMMENT?g.createComment(C):nh(g,C)),W&&null!==a&&Yu(g,a,me,h,!1)}})(g,P.create,oe,C&&8&C.type?g[C.index]:null),Xl(!0)}function f1(r,s,a){_E(r,s,a),function rp(){Xl(!1)}()}function vE(r,s,a,h,g){if(r=Tt(r),Array.isArray(r))for(let y=0;y<r.length;y++)vE(r[y],s,a,h,g);else{const y=Er(),I=_t(),C=zi();let P=Ju(r)?r:Tt(r.provide);const W=H0(r),oe=1048575&C.providerIndexes,me=C.directiveStart,Fe=C.providerIndexes>>20;if(Ju(r)||!r.multi){const Ge=new gd(W,g,bu),vt=k_(P,s,g?oe:oe+Fe,me);-1===vt?(yd(_d(C,I),y,P),Wb(y,r,s.length),s.push(P),C.directiveStart++,C.directiveEnd++,g&&(C.providerIndexes+=1048576),a.push(Ge),I.push(Ge)):(a[vt]=Ge,I[vt]=Ge)}else{const Ge=k_(P,s,oe+Fe,me),vt=k_(P,s,oe,oe+Fe),on=vt>=0&&a[vt];if(g&&!on||!g&&!(Ge>=0&&a[Ge])){yd(_d(C,I),y,P);const Cn=function lC(r,s,a,h,g){const y=new gd(r,a,bu);return y.multi=[],y.index=s,y.componentProviders=0,m1(y,g,h&&!a),y}(g?cC:aC,a.length,g,h,W);!g&&on&&(a[vt].providerFactory=Cn),Wb(y,r,s.length,0),s.push(P),C.directiveStart++,C.directiveEnd++,g&&(C.providerIndexes+=1048576),a.push(Cn),I.push(Cn)}else Wb(y,r,Ge>-1?Ge:vt,m1(a[g?vt:Ge],W,!g&&h));!g&&h&&on&&a[vt].componentProviders++}}}function Wb(r,s,a,h){const g=Ju(s),y=function DI(r){return!!r.useClass}(s);if(g||y){const P=(y?Tt(s.useClass):s).prototype.ngOnDestroy;if(P){const W=r.destroyHooks||(r.destroyHooks=[]);if(!g&&s.multi){const oe=W.indexOf(a);-1===oe?W.push(a,[h,P]):W[oe+1].push(h,P)}else W.push(a,P)}}}function m1(r,s,a){return a&&r.componentProviders++,r.multi.push(s)-1}function k_(r,s,a,h){for(let g=a;g<h;g++)if(s[g]===r)return g;return-1}function aC(r,s,a,h){return qb(this.multi,[])}function cC(r,s,a,h){const g=this.multi;let y;if(this.providerFactory){const I=this.providerFactory.componentProviders,C=Dl(a,a[Vt],this.providerFactory.index,h);y=C.slice(0,I),qb(g,y);for(let P=I;P<C.length;P++)y.push(C[P])}else y=[],qb(g,y);return y}function qb(r,s){for(let a=0;a<r.length;a++)s.push((0,r[a])());return s}function bE(r,s=[]){return a=>{a.providersResolver=(h,g)=>function g1(r,s,a){const h=Er();if(h.firstCreatePass){const g=Ni(r);vE(a,h.data,h.blueprint,g,!0),vE(s,h.data,h.blueprint,g,!1)}}(h,g?g(r):r,s)}}class Gl{}class F_{}function _1(r,s){return new wE(r,s??null,[])}class wE extends Gl{constructor(s,a,h){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new wb(this);const g=Ur(s);this._bootstrapComponents=vu(g.bootstrap),this._r3Injector=eb(s,a,[{provide:Gl,useValue:this},{provide:If,useValue:this.componentFactoryResolver},...h],It(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Zb extends F_{constructor(s){super(),this.moduleType=s}create(s){return new wE(this.moduleType,s,[])}}class y1 extends Gl{constructor(s){super(),this.componentFactoryResolver=new wb(this),this.instance=null;const a=new Qu([...s.providers,{provide:Gl,useValue:this},{provide:If,useValue:this.componentFactoryResolver}],s.parent||ah(),s.debugName,new Set(["environment"]));this.injector=a,s.runEnvironmentInitializers&&a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function Kb(r,s,a=null){return new y1({providers:r,parent:s,debugName:a,runEnvironmentInitializers:!0}).injector}let Ra=(()=>{class r{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a)){const h=xm(0,a.type),g=h.length>0?Kb([h],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a,g)}return this.cachedInjectors.get(a)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=xe({token:r,providedIn:"environment",factory:()=>new r(Un(kc))})}return r})();function v1(r){r.getStandaloneInjector=s=>s.get(Ra).getOrCreateStandaloneInjector(r)}function TE(r,s,a,h){return Rv(_t(),As(),r,s,a,h)}function tw(r,s,a,h,g){return DE(_t(),As(),r,s,a,h,g)}function A1(r,s,a,h,g,y){return function CE(r,s,a,h,g,y,I,C){const P=s+a;return c_(r,P,g,y,I)?_a(r,P+3,C?h.call(C,g,y,I):h(g,y,I)):Hg(r,P+3)}(_t(),As(),r,s,a,h,g,y)}function Hg(r,s){const a=r[s];return a===rr?void 0:a}function Rv(r,s,a,h,g,y){const I=s+a;return Ko(r,I,g)?_a(r,I+1,y?h.call(y,g):h(g)):Hg(r,I+1)}function DE(r,s,a,h,g,y,I){const C=s+a;return Ih(r,C,g,y)?_a(r,C+2,I?h.call(I,g,y):h(g,y)):Hg(r,C+2)}function nw(r,s){const a=Er();let h;const g=r+Hn;a.firstCreatePass?(h=function mC(r,s){if(s)for(let a=s.length-1;a>=0;a--){const h=s[a];if(r===h.name)return h}}(s,a.pipeRegistry),a.data[g]=h,h.onDestroy&&(a.destroyHooks??=[]).push(g,h.onDestroy)):h=a.data[g];const y=h.factory||(h.factory=ac(h.type)),C=wn(bu);try{const P=Mc(!1),W=y();return Mc(P),function Ob(r,s,a,h){a>=r.data.length&&(r.data[a]=null,r.blueprint[a]=null),s[a]=h}(a,_t(),g,W),W}finally{wn(C)}}function AE(r,s,a){const h=r+Hn,g=_t(),y=ja(g,h);return jg(g,h)?Rv(g,As(),s,y.transform,a,y):y.transform(a)}function rw(r,s,a,h){const g=r+Hn,y=_t(),I=ja(y,g);return jg(y,g)?DE(y,As(),s,I.transform,a,h,I):I.transform(a,h)}function jg(r,s){return r[Vt].data[s].pure}function OE(){return this._results[Symbol.iterator]()}class kv{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Ol)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=kv.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=OE)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const h=this;h.dirty=!1;const g=function Pc(r){return r.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function rm(r,s,a){if(r.length!==s.length)return!1;for(let h=0;h<r.length;h++){let g=r[h],y=s[h];if(a&&(g=a(g),y=a(y)),y!==g)return!1}return!0}(h._results,g,a))&&(h._results=g,h.length=g.length,h.last=g[this.length-1],h.first=g[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function P1(r,s,a,h=!0){const g=s[Vt];if(function ay(r,s,a,h){const g=ui+h,y=a.length;h>0&&(a[g-1][yi]=s),h<y-ui?(s[yi]=a[g],Qh(a,ui+h,s)):(a.push(s),s[yi]=null),s[Vr]=a;const I=s[vi];null!==I&&a!==I&&function cy(r,s){const a=r[Ua];s[zr]!==s[Vr][Vr][zr]&&(r[Vs]=!0),null===a?r[Ua]=[s]:a.push(s)}(I,s);const C=s[si];null!==C&&C.insertView(r),s[kn]|=128}(g,s,r,a),h){const y=S0(a,r),I=s[Dn],C=ih(I,r[ai]);null!==C&&function Ap(r,s,a,h,g,y){h[Ar]=g,h[$r]=s,Dm(r,h,a,1,g,y)}(g,r[$r],I,s,C,y)}}let Gg=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=Ec}return r})();const yC=Gg,vC=class extends yC{constructor(s,a,h){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=h}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(s,a){return this.createEmbeddedViewImpl(s,a)}createEmbeddedViewImpl(s,a,h){const g=function R1(r,s,a,h){const g=s.tView,C=Af(r,g,a,4096&r[kn]?4096:16,null,s,null,null,null,h?.injector??null,h?.hydrationInfo??null);C[vi]=r[s.index];const W=r[si];return null!==W&&(C[si]=W.createEmbeddedView(g)),Pt(g,C,a),C}(this._declarationLView,this._declarationTContainer,s,{injector:a,hydrationInfo:h});return new Pf(g)}};function Ec(){return ow(zi(),_t())}function ow(r,s){return 4&r.type?new vC(s,r,dh(r,s)):null}let lw=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=EC}return r})();function EC(){return Bv(zi(),_t())}const Fv=lw,uw=class extends Fv{constructor(s,a,h){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=h}get element(){return dh(this._hostTNode,this._hostLView)}get injector(){return new N(this._hostTNode,this._hostLView)}get parentInjector(){const s=Yd(this._hostTNode,this._hostLView);if(nu(s)){const a=Yc(s,this._hostLView),h=ru(s);return new N(a[Vt].data[h+8],a)}return new N(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=$g(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-ui}createEmbeddedView(s,a,h){let g,y;"number"==typeof h?g=h:null!=h&&(g=h.index,y=h.injector);const C=s.createEmbeddedViewImpl(a||{},y,null);return this.insertImpl(C,g,false),C}createComponent(s,a,h,g,y){const I=s&&!function yp(r){return"function"==typeof r}(s);let C;if(I)C=a;else{const Rt=a||{};C=Rt.index,h=Rt.injector,g=Rt.projectableNodes,y=Rt.environmentInjector||Rt.ngModuleRef}const P=I?s:new Kn(An(s)),W=h||this.parentInjector;if(!y&&null==P.ngModule){const on=(I?W:this.parentInjector).get(kc,null);on&&(y=on)}An(P.componentType??{});const Ge=P.create(W,g,null,y);return this.insertImpl(Ge.hostView,C,false),Ge}insert(s,a){return this.insertImpl(s,a,!1)}insertImpl(s,a,h){const g=s._lView;if(function dp(r){return Or(r[Vr])}(g)){const P=this.indexOf(s);if(-1!==P)this.detach(P);else{const W=g[Vr],oe=new uw(W,W[$r],W[Vr]);oe.detach(oe.indexOf(s))}}const I=this._adjustIndex(a),C=this._lContainer;return P1(C,g,I,!h),s.attachToViewContainerRef(),Qh(Lv(C),I,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=$g(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),h=Op(this._lContainer,a);h&&(Qd(Lv(this._lContainer),a),rf(h[Vt],h))}detach(s){const a=this._adjustIndex(s,-1),h=Op(this._lContainer,a);return h&&null!=Qd(Lv(this._lContainer),a)?new Pf(h):null}_adjustIndex(s,a=0){return s??this.length+a}};function $g(r){return r[8]}function Lv(r){return r[8]||(r[8]=[])}function Bv(r,s){let a;const h=s[r.index];return Or(h)?a=h:(a=Eg(h,s,null,r),s[r.index]=a,r_(s,a)),dw(a,s,r,h),new uw(a,r,s)}let dw=function xE(r,s,a,h){if(r[ai])return;let g;g=8&a.type?ci(h):function Uv(r,s){const a=r[Dn],h=a.createComment(""),g=Qr(s,r);return Yu(a,ih(a,g),h,function dy(r,s){return r.nextSibling(s)}(a,g),!1),h}(s,a),r[ai]=g};class Hd{constructor(s){this.queryList=s,this.matches=null}clone(){return new Hd(this.queryList)}setDirty(){this.queryList.setDirty()}}class hw{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const h=null!==s.contentQueries?s.contentQueries[0]:a.length,g=[];for(let y=0;y<h;y++){const I=a.getByIndex(y);g.push(this.queries[I.indexInDeclarationView].clone())}return new hw(g)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==j1(s,a).matches&&this.queries[a].setDirty()}}class L1{constructor(s,a,h=null){this.predicate=s,this.flags=a,this.read=h}}class Vv{constructor(s=[]){this.queries=s}elementStart(s,a){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let h=0;h<this.length;h++){const g=null!==a?a.length:0,y=this.getByIndex(h).embeddedTView(s,g);y&&(y.indexInDeclarationView=h,null!==a?a.push(y):a=[y])}return null!==a?new Vv(a):null}template(s,a){for(let h=0;h<this.queries.length;h++)this.queries[h].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class kE{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new kE(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let h=s.parent;for(;null!==h&&8&h.type&&h.index!==a;)h=h.parent;return a===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const h=this.metadata.predicate;if(Array.isArray(h))for(let g=0;g<h.length;g++){const y=h[g];this.matchTNodeWithReadOption(s,a,FE(a,y)),this.matchTNodeWithReadOption(s,a,Oa(a,s,y,!1,!1))}else h===Gg?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,Oa(a,s,h,!1,!1))}matchTNodeWithReadOption(s,a,h){if(null!==h){const g=this.metadata.read;if(null!==g)if(g===hh||g===lw||g===Gg&&4&a.type)this.addMatch(a.index,-2);else{const y=Oa(a,s,g,!1,!1);null!==y&&this.addMatch(a.index,y)}else this.addMatch(a.index,h)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function FE(r,s){const a=r.localNames;if(null!==a)for(let h=0;h<a.length;h+=2)if(a[h]===s)return a[h+1];return null}function LE(r,s,a,h){return-1===a?function TC(r,s){return 11&r.type?dh(r,s):4&r.type?ow(r,s):null}(s,r):-2===a?function fw(r,s,a){return a===hh?dh(s,r):a===Gg?ow(s,r):a===lw?Bv(s,r):void 0}(r,s,h):Dl(r,r[Vt],a,s)}function pw(r,s,a,h){const g=s[si].queries[h];if(null===g.matches){const y=r.data,I=a.matches,C=[];for(let P=0;P<I.length;P+=2){const W=I[P];C.push(W<0?null:LE(s,y[W],I[P+1],a.metadata.read))}g.matches=C}return g.matches}function gw(r,s,a,h){const g=r.queries.getByIndex(a),y=g.matches;if(null!==y){const I=pw(r,s,g,a);for(let C=0;C<y.length;C+=2){const P=y[C];if(P>0)h.push(I[C/2]);else{const W=y[C+1],oe=s[-P];for(let me=ui;me<oe.length;me++){const Fe=oe[me];Fe[vi]===Fe[Vr]&&gw(Fe[Vt],Fe,W,h)}if(null!==oe[Ua]){const me=oe[Ua];for(let Fe=0;Fe<me.length;Fe++){const Ge=me[Fe];gw(Ge[Vt],Ge,W,h)}}}}}return h}function zg(r){const s=_t(),a=Er(),h=k();G(h+1);const g=j1(a,h);if(r.dirty&&function Kl(r){return 4==(4&r[kn])}(s)===(2==(2&g.metadata.flags))){if(null===g.matches)r.reset([]);else{const y=g.crossesNgTemplate?gw(a,s,h,[]):pw(a,s,g,h);r.reset(y,zm),r.notifyOnChanges()}return!0}return!1}function mw(r,s,a){const h=Er();h.firstCreatePass&&(H1(h,new L1(r,s,a),-1),2==(2&s)&&(h.staticViewQueries=!0)),BE(h,_t(),s)}function B1(r,s,a,h){const g=Er();if(g.firstCreatePass){const y=zi();H1(g,new L1(s,a,h),y.index),function UE(r,s){const a=r.contentQueries||(r.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(r.queries.length-1,s)}(g,r),2==(2&a)&&(g.staticContentQueries=!0)}BE(g,_t(),a)}function U1(){return function V1(r,s){return r[si].queries[s].queryList}(_t(),k())}function BE(r,s,a){const h=new kv(4==(4&a));(function Vc(r,s,a,h){const g=gb(s);g.push(a),r.firstCreatePass&&rd(r).push(h,g.length-1)})(r,s,h,h.destroy),null===s[si]&&(s[si]=new hw),s[si].queries.push(new Hd(h))}function H1(r,s,a){null===r.queries&&(r.queries=new Vv),r.queries.track(new kE(s,a))}function j1(r,s){return r.queries.getByIndex(s)}function _w(r,s){return ow(r,s)}function Hv(r){return!!Ur(r)}const Aw=new qt("Application Initializer");let YE=(()=>{class r{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,h)=>{this.resolve=a,this.reject=h}),this.appInits=nr(Aw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const a=[];for(const g of this.appInits){const y=g();if(Fl(y))a.push(y);else if(f_(y)){const I=new Promise((C,P)=>{y.subscribe({complete:C,error:P})});a.push(I)}}const h=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{h()}).catch(g=>{this.reject(g)}),0===a.length&&h(),this.initialized=!0}static#e=this.\u0275fac=function(h){return new(h||r)};static#t=this.\u0275prov=xe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),aD=(()=>{class r{log(a){console.log(a)}warn(a){console.warn(a)}static#e=this.\u0275fac=function(h){return new(h||r)};static#t=this.\u0275prov=xe({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})();const Ow=new qt("LocaleId",{providedIn:"root",factory:()=>nr(Ow,nn.Optional|nn.SkipSelf)||function JE(){return typeof $localize<"u"&&$localize.locale||Ud}()}),QE=new qt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Nw=(()=>{class r{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ce.X(!1)}add(){this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(h){return new(h||r)};static#t=this.\u0275prov=xe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();class lD{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let XE=(()=>{class r{compileModuleSync(a){return new Zb(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const h=this.compileModuleSync(a),y=vu(Ur(a).declarations).reduce((I,C)=>{const P=An(C);return P&&I.push(new Kn(P)),I},[]);return new lD(h,y)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}static#e=this.\u0275fac=function(h){return new(h||r)};static#t=this.\u0275prov=xe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const aT=new qt(""),Uw=new qt("");let lT,fD=(()=>{class r{constructor(a,h,g){this._ngZone=a,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,lT||(function cT(r){lT=r}(g),g.addToWindow(h)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Zo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(a)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,h,g){let y=-1;h&&h>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(I=>I.timeoutId!==y),a(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:a,timeoutId:y,updateCb:g})}whenStable(a,h,g){if(g&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,h,g),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,h,g){return[]}static#e=this.\u0275fac=function(h){return new(h||r)(Un(Zo),Un(Kg),Un(Uw))};static#t=this.\u0275prov=xe({token:r,factory:r.\u0275fac})}return r})(),Kg=(()=>{class r{constructor(){this._applications=new Map}registerApplication(a,h){this._applications.set(a,h)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,h=!0){return lT?.findTestabilityInTree(this,a,h)??null}static#e=this.\u0275fac=function(h){return new(h||r)};static#t=this.\u0275prov=xe({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})(),ap=null;const pD=new qt("AllowMultipleToken"),Vw=new qt("PlatformDestroyListeners"),uT=new qt("appBootstrapListener");class $C{constructor(s,a){this.name=s,this.token=a}}function dT(r,s,a=[]){const h=`Platform: ${s}`,g=new qt(h);return(y=[])=>{let I=jw();if(!I||I.injector.get(pD,!1)){const C=[...a,...y,{provide:g,useValue:!0}];r?r(C):function _D(r){if(ap&&!ap.get(pD,!1))throw new Oe(400,!1);(function mD(){!function Zl(r){lc=r}(()=>{throw new Oe(600,!1)})})(),ap=r;const s=r.get(hT);(function Hw(r){r.get(Wo,null)?.forEach(a=>a())})(r)}(function qv(r=[],s){return ga.create({name:s,providers:[{provide:wy,useValue:"platform"},{provide:Vw,useValue:new Set([()=>ap=null])},...r]})}(C,h))}return function vD(r){const s=jw();if(!s)throw new Oe(401,!1);return s}()}}function jw(){return ap?.get(hT)??null}let hT=(()=>{class r{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,h){const g=function zC(r="zone.js",s){return"noop"===r?new PI:"zone.js"===r?new Zo(s):r}(h?.ngZone,function z_(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:r?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:r?.runCoalescing??!1}}({eventCoalescing:h?.ngZoneEventCoalescing,runCoalescing:h?.ngZoneRunCoalescing}));return g.run(()=>{const y=function dC(r,s,a){return new wE(r,s,a)}(a.moduleType,this.injector,function $w(r){return[{provide:Zo,useFactory:r},{provide:pf,multi:!0,useFactory:()=>{const s=nr(bD,{optional:!0});return()=>s.initialize()}},{provide:fT,useFactory:bS},{provide:Uy,useFactory:sb}]}(()=>g)),I=y.injector.get(ed,null);return g.runOutsideAngular(()=>{const C=g.onError.subscribe({next:P=>{I.handleError(P)}});y.onDestroy(()=>{Gw(this._modules,y),C.unsubscribe()})}),function co(r,s,a){try{const h=a();return Fl(h)?h.catch(g=>{throw s.runOutsideAngular(()=>r.handleError(g)),g}):h}catch(h){throw s.runOutsideAngular(()=>r.handleError(h)),h}}(I,g,()=>{const C=y.injector.get(YE);return C.runInitializers(),C.donePromise.then(()=>(cE(y.injector.get(Ow,Ud)||Ud),this._moduleDoBootstrap(y),y))})})}bootstrapModule(a,h=[]){const g=Pa({},h);return function gD(r,s,a){const h=new Zb(a);return Promise.resolve(h)}(0,0,a).then(y=>this.bootstrapModuleFactory(y,g))}_moduleDoBootstrap(a){const h=a.injector.get($c);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(g=>h.bootstrap(g));else{if(!a.instance.ngDoBootstrap)throw new Oe(-403,!1);a.instance.ngDoBootstrap(h)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Oe(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const a=this._injector.get(Vw,null);a&&(a.forEach(h=>h()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(h){return new(h||r)(Un(ga))};static#t=this.\u0275prov=xe({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})();function Pa(r,s){return Array.isArray(s)?s.reduce(Pa,r):{...r,...s}}let $c=(()=>{class r{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=nr(fT),this.zoneIsStable=nr(Uy),this.componentTypes=[],this.components=[],this.isStable=nr(Nw).hasPendingTasks.pipe((0,Ae.w)(a=>a?(0,he.of)(!1):this.zoneIsStable),(0,Ce.x)(),re()),this._injector=nr(kc)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,h){const g=a instanceof Gm;if(!this._injector.get(YE).done)throw!g&&ms(a),new Oe(405,!1);let I;I=g?a:this._injector.get(If).resolveComponentFactory(a),this.componentTypes.push(I.componentType);const C=function GC(r){return r.isBoundToModule}(I)?void 0:this._injector.get(Gl),W=I.create(ga.NULL,[],h||I.selector,C),oe=W.location.nativeElement,me=W.injector.get(aT,null);return me?.registerApplication(oe),W.onDestroy(()=>{this.detachView(W.hostView),Gw(this.components,W),me?.unregisterApplication(oe)}),this._loadComponent(W),W}tick(){if(this._runningTick)throw new Oe(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1}}attachView(a){const h=a;this._views.push(h),h.attachToAppRef(this)}detachView(a){const h=a;Gw(this._views,h),h.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const h=this._injector.get(uT,[]);h.push(...this._bootstrapListeners),h.forEach(g=>g(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Gw(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new Oe(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(h){return new(h||r)};static#t=this.\u0275prov=xe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function Gw(r,s){const a=r.indexOf(s);a>-1&&r.splice(a,1)}const fT=new qt("",{providedIn:"root",factory:()=>nr(ed).handleError.bind(void 0)});function bS(){const r=nr(Zo),s=nr(ed);return a=>r.runOutsideAngular(()=>s.handleError(a))}let bD=(()=>{class r{constructor(){this.zone=nr(Zo),this.applicationRef=nr($c)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(h){return new(h||r)};static#t=this.\u0275prov=xe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function IS(){return!1}let wD=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=TS}return r})();function TS(r){return function DS(r,s,a){if(ys(r)&&!a){const h=Ji(r.index,s);return new Pf(h,h)}return 47&r.type?new Pf(s[zr],s):null}(zi(),_t(),16==(16&r))}class TD{constructor(){}supports(s){return ma(s)}create(s){return new _T(s)}}const q_=(r,s)=>s;class _T{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||q_}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,h=this._removalsHead,g=0,y=null;for(;a||h;){const I=!h||a&&a.currentIndex<CD(h,g,y)?a:h,C=CD(I,g,y),P=I.currentIndex;if(I===h)g--,h=h._nextRemoved;else if(a=a._next,null==I.previousIndex)g++;else{y||(y=[]);const W=C-g,oe=P-g;if(W!=oe){for(let Fe=0;Fe<W;Fe++){const Ge=Fe<y.length?y[Fe]:y[Fe]=0,vt=Ge+Fe;oe<=vt&&vt<W&&(y[Fe]=Ge+1)}y[I.previousIndex]=oe-W}}C!==P&&s(I,C,P)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!ma(s))throw new Oe(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let g,y,I,a=this._itHead,h=!1;if(Array.isArray(s)){this.length=s.length;for(let C=0;C<this.length;C++)y=s[C],I=this._trackByFn(C,y),null!==a&&Object.is(a.trackById,I)?(h&&(a=this._verifyReinsertion(a,y,I,C)),Object.is(a.item,y)||this._addIdentityChange(a,y)):(a=this._mismatch(a,y,I,C),h=!0),a=a._next}else g=0,function Sg(r,s){if(Array.isArray(r))for(let a=0;a<r.length;a++)s(r[a]);else{const a=r[Symbol.iterator]();let h;for(;!(h=a.next()).done;)s(h.value)}}(s,C=>{I=this._trackByFn(g,C),null!==a&&Object.is(a.trackById,I)?(h&&(a=this._verifyReinsertion(a,C,I,g)),Object.is(a.item,C)||this._addIdentityChange(a,C)):(a=this._mismatch(a,C,I,g),h=!0),a=a._next,g++}),this.length=g;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,h,g){let y;return null===s?y=this._itTail:(y=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,y,g)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(h,g))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,y,g)):s=this._addAfter(new Yv(a,h),y,g),s}_verifyReinsertion(s,a,h,g){let y=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==y?s=this._reinsertAfter(y,s._prev,g):s.currentIndex!=g&&(s.currentIndex=g,this._addToMoves(s,g)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const g=s._prevRemoved,y=s._nextRemoved;return null===g?this._removalsHead=y:g._nextRemoved=y,null===y?this._removalsTail=g:y._prevRemoved=g,this._insertAfter(s,a,h),this._addToMoves(s,h),s}_moveAfter(s,a,h){return this._unlink(s),this._insertAfter(s,a,h),this._addToMoves(s,h),s}_addAfter(s,a,h){return this._insertAfter(s,a,h),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,h){const g=null===a?this._itHead:a._next;return s._next=g,s._prev=a,null===g?this._itTail=s:g._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new Ww),this._linkedRecords.put(s),s.currentIndex=h,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,h=s._next;return null===a?this._itHead=h:a._next=h,null===h?this._itTail=a:h._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ww),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class Yv{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class DD{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===a||a<=h.currentIndex)&&Object.is(h.trackById,s))return h;return null}remove(s){const a=s._prevDup,h=s._nextDup;return null===a?this._head=h:a._nextDup=h,null===h?this._tail=a:h._prevDup=a,null===this._head}}class Ww{constructor(){this.map=new Map}put(s){const a=s.trackById;let h=this.map.get(a);h||(h=new DD,this.map.set(a,h)),h.add(s)}get(s,a){const g=this.map.get(s);return g?g.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function CD(r,s,a){const h=r.previousIndex;if(null===h)return h;let g=0;return a&&h<a.length&&(g=a[h]),h+s+g}class SD{constructor(){}supports(s){return s instanceof Map||il(s)}create(){return new JC}}class JC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||il(s)))throw new Oe(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(h,g)=>{if(a&&a.key===g)this._maybeAddToChanges(a,h),this._appendAfter=a,a=a._next;else{const y=this._getOrCreateRecordForKey(g,h);a=this._insertBeforeOrAppend(a,y)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let h=a;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const h=s._prev;return a._next=s,a._prev=h,s._prev=a,h&&(h._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const g=this._records.get(s);this._maybeAddToChanges(g,a);const y=g._prev,I=g._next;return y&&(y._next=I),I&&(I._prev=y),g._next=null,g._prev=null,g}const h=new AD(s);return this._records.set(s,h),h.currentValue=a,this._addToAdditions(h),h}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(h=>a(s[h],h))}}class AD{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function yT(){return new qw([new TD])}let qw=(()=>{class r{static#e=this.\u0275prov=xe({token:r,providedIn:"root",factory:yT});constructor(a){this.factories=a}static create(a,h){if(null!=h){const g=h.factories.slice();a=a.concat(g)}return new r(a)}static extend(a){return{provide:r,useFactory:h=>r.create(a,h||yT()),deps:[[r,new cm,new Xh]]}}find(a){const h=this.factories.find(g=>g.supports(a));if(null!=h)return h;throw new Oe(901,!1)}}return r})();function vT(){return new Zw([new SD])}let Zw=(()=>{class r{static#e=this.\u0275prov=xe({token:r,providedIn:"root",factory:vT});constructor(a){this.factories=a}static create(a,h){if(h){const g=h.factories.slice();a=a.concat(g)}return new r(a)}static extend(a){return{provide:r,useFactory:h=>r.create(a,h||vT()),deps:[[r,new cm,new Xh]]}}find(a){const h=this.factories.find(g=>g.supports(a));if(h)return h;throw new Oe(901,!1)}}return r})();const Kw=dT(null,"core",[]);let OD=(()=>{class r{constructor(a){}static#e=this.\u0275fac=function(h){return new(h||r)(Un($c))};static#t=this.\u0275mod=Hi({type:r});static#n=this.\u0275inj=Xe({})}return r})();function xD(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}function RS(r,s){const a=An(r),h=s.elementInjector||ah();return new Kn(a).create(h,s.projectableNodes,s.hostElement,s.environmentInjector)}function Jg(r){const s=An(r);if(!s)return null;const a=new Kn(s);return{get selector(){return a.selector},get type(){return a.componentType},get inputs(){return a.inputs},get outputs(){return a.outputs},get ngContentSelectors(){return a.ngContentSelectors},get isStandalone(){return s.standalone},get isSignal(){return s.signals}}}},7592:(Ht,Ue,$)=>{"use strict";$.d(Ue,{C6:()=>De,Jn:()=>Jn,KN:()=>bt,Mq:()=>xe,Xd:()=>St,ZF:()=>cr,qX:()=>Lt});var b=$(5861),X=$(6820),u=$(7879),ye=$(229),ce=$(1878);class he{constructor(Ne){this.container=Ne}getPlatformInfoString(){return this.container.getProviders().map(nt=>{if(function we(at){const Ne=at.getComponent();return"VERSION"===Ne?.type}(nt)){const At=nt.getImmediate();return`${At.library}/${At.version}`}return null}).filter(nt=>nt).join(" ")}}const ke="@firebase/app",re=new u.Yd("@firebase/app"),Be="[DEFAULT]",je={[ke]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ze=new Map,He=new Map;function Ye(at,Ne){try{at.container.addComponent(Ne)}catch(nt){re.debug(`Component ${Ne.name} failed to register with FirebaseApp ${at.name}`,nt)}}function St(at){const Ne=at.name;if(He.has(Ne))return re.debug(`There were multiple attempts to register component ${Ne}.`),!1;He.set(Ne,at);for(const nt of Ze.values())Ye(nt,at);return!0}function Lt(at,Ne){const nt=at.container.getProvider("heartbeat").getImmediate({optional:!0});return nt&&nt.triggerHeartbeat(),at.container.getProvider(Ne)}const pt=new ye.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class bn{constructor(Ne,nt,At){this._isDeleted=!1,this._options=Object.assign({},Ne),this._config=Object.assign({},nt),this._name=nt.name,this._automaticDataCollectionEnabled=nt.automaticDataCollectionEnabled,this._container=At,this.container.addComponent(new X.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ne){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ne}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ne){this._isDeleted=Ne}checkDestroyed(){if(this.isDeleted)throw pt.create("app-deleted",{appName:this._name})}}const Jn="9.23.0";function cr(at,Ne={}){let nt=at;"object"!=typeof Ne&&(Ne={name:Ne});const At=Object.assign({name:Be,automaticDataCollectionEnabled:!1},Ne),zt=At.name;if("string"!=typeof zt||!zt)throw pt.create("bad-app-name",{appName:String(zt)});if(nt||(nt=(0,ye.aH)()),!nt)throw pt.create("no-options");const Zt=Ze.get(zt);if(Zt){if((0,ye.vZ)(nt,Zt.options)&&(0,ye.vZ)(At,Zt.config))return Zt;throw pt.create("duplicate-app",{appName:zt})}const qn=new X.H0(zt);for(const U of He.values())qn.addComponent(U);const J=new bn(nt,At,qn);return Ze.set(zt,J),J}function xe(at=Be){const Ne=Ze.get(at);if(!Ne&&at===Be&&(0,ye.aH)())return cr();if(!Ne)throw pt.create("no-app",{appName:at});return Ne}function De(){return Array.from(Ze.values())}function bt(at,Ne,nt){var At;let zt=null!==(At=je[at])&&void 0!==At?At:at;nt&&(zt+=`-${nt}`);const Zt=zt.match(/\s|\//),qn=Ne.match(/\s|\//);if(Zt||qn){const J=[`Unable to register library "${zt}" with version "${Ne}":`];return Zt&&J.push(`library name "${zt}" contains illegal characters (whitespace or "/")`),Zt&&qn&&J.push("and"),qn&&J.push(`version name "${Ne}" contains illegal characters (whitespace or "/")`),void re.warn(J.join(" "))}St(new X.wA(`${zt}-version`,()=>({library:zt,version:Ne}),"VERSION"))}const _n="firebase-heartbeat-database",Sn=1,en="firebase-heartbeat-store";let fn=null;function gr(){return fn||(fn=(0,ce.X3)(_n,Sn,{upgrade:(at,Ne)=>{0===Ne&&at.createObjectStore(en)}}).catch(at=>{throw pt.create("idb-open",{originalErrorMessage:at.message})})),fn}function Cr(){return(Cr=(0,b.Z)(function*(at){try{return yield(yield gr()).transaction(en).objectStore(en).get(lr(at))}catch(Ne){if(Ne instanceof ye.ZR)re.warn(Ne.message);else{const nt=pt.create("idb-get",{originalErrorMessage:Ne?.message});re.warn(nt.message)}}})).apply(this,arguments)}function Sr(at,Ne){return wn.apply(this,arguments)}function wn(){return(wn=(0,b.Z)(function*(at,Ne){try{const At=(yield gr()).transaction(en,"readwrite");yield At.objectStore(en).put(Ne,lr(at)),yield At.done}catch(nt){if(nt instanceof ye.ZR)re.warn(nt.message);else{const At=pt.create("idb-set",{originalErrorMessage:nt?.message});re.warn(At.message)}}})).apply(this,arguments)}function lr(at){return`${at.name}!${at.options.appId}`}class Vn{constructor(Ne){this.container=Ne,this._heartbeatsCache=null;const nt=this.container.getProvider("app").getImmediate();this._storage=new Wi(nt),this._heartbeatsCachePromise=this._storage.read().then(At=>(this._heartbeatsCache=At,At))}triggerHeartbeat(){var Ne=this;return(0,b.Z)(function*(){const At=Ne.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),zt=ei();if(null===Ne._heartbeatsCache&&(Ne._heartbeatsCache=yield Ne._heartbeatsCachePromise),Ne._heartbeatsCache.lastSentHeartbeatDate!==zt&&!Ne._heartbeatsCache.heartbeats.some(Zt=>Zt.date===zt))return Ne._heartbeatsCache.heartbeats.push({date:zt,agent:At}),Ne._heartbeatsCache.heartbeats=Ne._heartbeatsCache.heartbeats.filter(Zt=>{const qn=new Date(Zt.date).valueOf();return Date.now()-qn<=2592e6}),Ne._storage.overwrite(Ne._heartbeatsCache)})()}getHeartbeatsHeader(){var Ne=this;return(0,b.Z)(function*(){if(null===Ne._heartbeatsCache&&(yield Ne._heartbeatsCachePromise),null===Ne._heartbeatsCache||0===Ne._heartbeatsCache.heartbeats.length)return"";const nt=ei(),{heartbeatsToSend:At,unsentEntries:zt}=function qt(at,Ne=1024){const nt=[];let At=at.slice();for(const zt of at){const Zt=nt.find(qn=>qn.agent===zt.agent);if(Zt){if(Zt.dates.push(zt.date),qr(nt)>Ne){Zt.dates.pop();break}}else if(nt.push({agent:zt.agent,dates:[zt.date]}),qr(nt)>Ne){nt.pop();break}At=At.slice(1)}return{heartbeatsToSend:nt,unsentEntries:At}}(Ne._heartbeatsCache.heartbeats),Zt=(0,ye.L)(JSON.stringify({version:2,heartbeats:At}));return Ne._heartbeatsCache.lastSentHeartbeatDate=nt,zt.length>0?(Ne._heartbeatsCache.heartbeats=zt,yield Ne._storage.overwrite(Ne._heartbeatsCache)):(Ne._heartbeatsCache.heartbeats=[],Ne._storage.overwrite(Ne._heartbeatsCache)),Zt})()}}function ei(){return(new Date).toISOString().substring(0,10)}class Wi{constructor(Ne){this.app=Ne,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,b.Z)(function*(){return!!(0,ye.hl)()&&(0,ye.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ne=this;return(0,b.Z)(function*(){return(yield Ne._canUseIndexedDBPromise)&&(yield function nn(at){return Cr.apply(this,arguments)}(Ne.app))||{heartbeats:[]}})()}overwrite(Ne){var nt=this;return(0,b.Z)(function*(){var At;if(yield nt._canUseIndexedDBPromise){const Zt=yield nt.read();return Sr(nt.app,{lastSentHeartbeatDate:null!==(At=Ne.lastSentHeartbeatDate)&&void 0!==At?At:Zt.lastSentHeartbeatDate,heartbeats:Ne.heartbeats})}})()}add(Ne){var nt=this;return(0,b.Z)(function*(){var At;if(yield nt._canUseIndexedDBPromise){const Zt=yield nt.read();return Sr(nt.app,{lastSentHeartbeatDate:null!==(At=Ne.lastSentHeartbeatDate)&&void 0!==At?At:Zt.lastSentHeartbeatDate,heartbeats:[...Zt.heartbeats,...Ne.heartbeats]})}})()}}function qr(at){return(0,ye.L)(JSON.stringify({version:2,heartbeats:at})).length}!function jr(at){St(new X.wA("platform-logger",Ne=>new he(Ne),"PRIVATE")),St(new X.wA("heartbeat",Ne=>new Vn(Ne),"PRIVATE")),bt(ke,"0.9.13",at),bt(ke,"0.9.13","esm2017"),bt("fire-js","")}("")},6820:(Ht,Ue,$)=>{"use strict";$.d(Ue,{H0:()=>ke,wA:()=>u});var b=$(5861),X=$(229);class u{constructor(re,ue,Ae){this.name=re,this.instanceFactory=ue,this.type=Ae,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(re){return this.instantiationMode=re,this}setMultipleInstances(re){return this.multipleInstances=re,this}setServiceProps(re){return this.serviceProps=re,this}setInstanceCreatedCallback(re){return this.onInstanceCreated=re,this}}const ye="[DEFAULT]";class ce{constructor(re,ue){this.name=re,this.container=ue,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(re){const ue=this.normalizeInstanceIdentifier(re);if(!this.instancesDeferred.has(ue)){const Ae=new X.BH;if(this.instancesDeferred.set(ue,Ae),this.isInitialized(ue)||this.shouldAutoInitialize())try{const Ce=this.getOrInitializeService({instanceIdentifier:ue});Ce&&Ae.resolve(Ce)}catch{}}return this.instancesDeferred.get(ue).promise}getImmediate(re){var ue;const Ae=this.normalizeInstanceIdentifier(re?.identifier),Ce=null!==(ue=re?.optional)&&void 0!==ue&&ue;if(!this.isInitialized(Ae)&&!this.shouldAutoInitialize()){if(Ce)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ae})}catch(Me){if(Ce)return null;throw Me}}getComponent(){return this.component}setComponent(re){if(re.name!==this.name)throw Error(`Mismatching Component ${re.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=re,this.shouldAutoInitialize()){if(function we(Ee){return"EAGER"===Ee.instantiationMode}(re))try{this.getOrInitializeService({instanceIdentifier:ye})}catch{}for(const[ue,Ae]of this.instancesDeferred.entries()){const Ce=this.normalizeInstanceIdentifier(ue);try{const Me=this.getOrInitializeService({instanceIdentifier:Ce});Ae.resolve(Me)}catch{}}}}clearInstance(re=ye){this.instancesDeferred.delete(re),this.instancesOptions.delete(re),this.instances.delete(re)}delete(){var re=this;return(0,b.Z)(function*(){const ue=Array.from(re.instances.values());yield Promise.all([...ue.filter(Ae=>"INTERNAL"in Ae).map(Ae=>Ae.INTERNAL.delete()),...ue.filter(Ae=>"_delete"in Ae).map(Ae=>Ae._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(re=ye){return this.instances.has(re)}getOptions(re=ye){return this.instancesOptions.get(re)||{}}initialize(re={}){const{options:ue={}}=re,Ae=this.normalizeInstanceIdentifier(re.instanceIdentifier);if(this.isInitialized(Ae))throw Error(`${this.name}(${Ae}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ce=this.getOrInitializeService({instanceIdentifier:Ae,options:ue});for(const[Me,qe]of this.instancesDeferred.entries())Ae===this.normalizeInstanceIdentifier(Me)&&qe.resolve(Ce);return Ce}onInit(re,ue){var Ae;const Ce=this.normalizeInstanceIdentifier(ue),Me=null!==(Ae=this.onInitCallbacks.get(Ce))&&void 0!==Ae?Ae:new Set;Me.add(re),this.onInitCallbacks.set(Ce,Me);const qe=this.instances.get(Ce);return qe&&re(qe,Ce),()=>{Me.delete(re)}}invokeOnInitCallbacks(re,ue){const Ae=this.onInitCallbacks.get(ue);if(Ae)for(const Ce of Ae)try{Ce(re,ue)}catch{}}getOrInitializeService({instanceIdentifier:re,options:ue={}}){let Ae=this.instances.get(re);if(!Ae&&this.component&&(Ae=this.component.instanceFactory(this.container,{instanceIdentifier:(Ee=re,Ee===ye?void 0:Ee),options:ue}),this.instances.set(re,Ae),this.instancesOptions.set(re,ue),this.invokeOnInitCallbacks(Ae,re),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,re,Ae)}catch{}var Ee;return Ae||null}normalizeInstanceIdentifier(re=ye){return this.component?this.component.multipleInstances?re:ye:re}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ke{constructor(re){this.name=re,this.providers=new Map}addComponent(re){const ue=this.getProvider(re.name);if(ue.isComponentSet())throw new Error(`Component ${re.name} has already been registered with ${this.name}`);ue.setComponent(re)}addOrOverwriteComponent(re){this.getProvider(re.name).isComponentSet()&&this.providers.delete(re.name),this.addComponent(re)}getProvider(re){if(this.providers.has(re))return this.providers.get(re);const ue=new ce(re,this);return this.providers.set(re,ue),ue}getProviders(){return Array.from(this.providers.values())}}},4097:(Ht,Ue,$)=>{"use strict";$.d(Ue,{C6:()=>b.C6,KN:()=>b.KN,Mq:()=>b.Mq,ZF:()=>b.ZF});var b=$(7592);(0,b.KN)("firebase","9.23.0","app")},95:(Ht,Ue,$)=>{"use strict";$.d(Ue,{Wl:()=>xt,Fj:()=>st,CE:()=>Vt,qu:()=>Vo,NI:()=>Gr,u:()=>yi,cw:()=>un,sg:()=>_i,x0:()=>as,u5:()=>ia,wO:()=>bi,Cf:()=>We,JU:()=>qe,JJ:()=>en,JL:()=>fn,YN:()=>Qn,wV:()=>Hi,UX:()=>Gd,Q7:()=>Hn,EJ:()=>xr,kI:()=>Le,_Y:()=>ko,Kr:()=>zr});var b=$(9468),X=$(6814),u=$(2459),ye=$(5592),ce=$(7453),he=$(4829),we=$(9940),ke=$(8251),Ee=$(7400),re=$(2714),Ae=$(7398);let Ce=(()=>{class Z{constructor(B,ae){this._renderer=B,this._elementRef=ae,this.onChange=Se=>{},this.onTouched=()=>{}}setProperty(B,ae){this._renderer.setProperty(this._elementRef.nativeElement,B,ae)}registerOnTouched(B){this.onTouched=B}registerOnChange(B){this.onChange=B}setDisabledState(B){this.setProperty("disabled",B)}static#e=this.\u0275fac=function(ae){return new(ae||Z)(b.Y36(b.Qsj),b.Y36(b.SBq))};static#t=this.\u0275dir=b.lG2({type:Z})}return Z})(),Me=(()=>{class Z extends Ce{static#e=this.\u0275fac=function(){let B;return function(Se){return(B||(B=b.n5z(Z)))(Se||Z)}}();static#t=this.\u0275dir=b.lG2({type:Z,features:[b.qOj]})}return Z})();const qe=new b.OlP("NgValueAccessor"),It={provide:qe,useExisting:(0,b.Gpc)(()=>xt),multi:!0};let xt=(()=>{class Z extends Me{writeValue(B){this.setProperty("checked",B)}static#e=this.\u0275fac=function(){let B;return function(Se){return(B||(B=b.n5z(Z)))(Se||Z)}}();static#t=this.\u0275dir=b.lG2({type:Z,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(ae,Se){1&ae&&b.NdJ("change",function(jn){return Se.onChange(jn.target.checked)})("blur",function(){return Se.onTouched()})},features:[b._Bn([It]),b.qOj]})}return Z})();const Ct={provide:qe,useExisting:(0,b.Gpc)(()=>st),multi:!0},Tt=new b.OlP("CompositionEventMode");let st=(()=>{class Z extends Ce{constructor(B,ae,Se){super(B,ae),this._compositionMode=Se,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function an(){const Z=(0,X.q)()?(0,X.q)().getUserAgent():"";return/android (\d+)/.test(Z.toLowerCase())}())}writeValue(B){this.setProperty("value",B??"")}_handleInput(B){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(B)}_compositionStart(){this._composing=!0}_compositionEnd(B){this._composing=!1,this._compositionMode&&this.onChange(B)}static#e=this.\u0275fac=function(ae){return new(ae||Z)(b.Y36(b.Qsj),b.Y36(b.SBq),b.Y36(Tt,8))};static#t=this.\u0275dir=b.lG2({type:Z,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(ae,Se){1&ae&&b.NdJ("input",function(jn){return Se._handleInput(jn.target.value)})("blur",function(){return Se.onTouched()})("compositionstart",function(){return Se._compositionStart()})("compositionend",function(jn){return Se._compositionEnd(jn.target.value)})},features:[b._Bn([Ct]),b.qOj]})}return Z})();function rt(Z){return null==Z||("string"==typeof Z||Array.isArray(Z))&&0===Z.length}function yt(Z){return null!=Z&&"number"==typeof Z.length}const We=new b.OlP("NgValidators"),Oe=new b.OlP("NgAsyncValidators"),_e=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Le{static min(Q){return function lt(Z){return Q=>{if(rt(Q.value)||rt(Z))return null;const B=parseFloat(Q.value);return!isNaN(B)&&B<Z?{min:{min:Z,actual:Q.value}}:null}}(Q)}static max(Q){return function vn(Z){return Q=>{if(rt(Q.value)||rt(Z))return null;const B=parseFloat(Q.value);return!isNaN(B)&&B>Z?{max:{max:Z,actual:Q.value}}:null}}(Q)}static required(Q){return ut(Q)}static requiredTrue(Q){return function sn(Z){return!0===Z.value?null:{required:!0}}(Q)}static email(Q){return function mn(Z){return rt(Z.value)||_e.test(Z.value)?null:{email:!0}}(Q)}static minLength(Q){return xn(Q)}static maxLength(Q){return function Yn(Z){return Q=>yt(Q.value)&&Q.value.length>Z?{maxlength:{requiredLength:Z,actualLength:Q.value.length}}:null}(Q)}static pattern(Q){return function tr(Z){if(!Z)return Be;let Q,B;return"string"==typeof Z?(B="","^"!==Z.charAt(0)&&(B+="^"),B+=Z,"$"!==Z.charAt(Z.length-1)&&(B+="$"),Q=new RegExp(B)):(B=Z.toString(),Q=Z),ae=>{if(rt(ae.value))return null;const Se=ae.value;return Q.test(Se)?null:{pattern:{requiredPattern:B,actualValue:Se}}}}(Q)}static nullValidator(Q){return null}static compose(Q){return Lt(Q)}static composeAsync(Q){return tn(Q)}}function ut(Z){return rt(Z.value)?{required:!0}:null}function xn(Z){return Q=>rt(Q.value)||!yt(Q.value)?null:Q.value.length<Z?{minlength:{requiredLength:Z,actualLength:Q.value.length}}:null}function Be(Z){return null}function je(Z){return null!=Z}function Ze(Z){return(0,b.QGY)(Z)?(0,u.D)(Z):Z}function He(Z){let Q={};return Z.forEach(B=>{Q=null!=B?{...Q,...B}:Q}),0===Object.keys(Q).length?null:Q}function Ye(Z,Q){return Q.map(B=>B(Z))}function St(Z){return Z.map(Q=>function gt(Z){return!Z.validate}(Q)?Q:B=>Q.validate(B))}function Lt(Z){if(!Z)return null;const Q=Z.filter(je);return 0==Q.length?null:function(B){return He(Ye(B,Q))}}function Xt(Z){return null!=Z?Lt(St(Z)):null}function tn(Z){if(!Z)return null;const Q=Z.filter(je);return 0==Q.length?null:function(B){return function ue(...Z){const Q=(0,we.jO)(Z),{args:B,keys:ae}=(0,ce.D)(Z),Se=new ye.y(rn=>{const{length:jn}=B;if(!jn)return void rn.complete();const Ki=new Array(jn);let Es=jn,xi=jn;for(let js=0;js<jn;js++){let oc=!1;(0,he.Xf)(B[js]).subscribe((0,ke.x)(rn,Ho=>{oc||(oc=!0,xi--),Ki[js]=Ho},()=>Es--,void 0,()=>{(!Es||!oc)&&(xi||rn.next(ae?(0,re.n)(ae,Ki):Ki),rn.complete())}))}});return Q?Se.pipe((0,Ee.Z)(Q)):Se}(Ye(B,Q).map(Ze)).pipe((0,Ae.U)(He))}}function Ut(Z){return null!=Z?tn(St(Z)):null}function pt(Z,Q){return null===Z?[Q]:Array.isArray(Z)?[...Z,Q]:[Z,Q]}function bn(Z){return Z._rawValidators}function Jn(Z){return Z._rawAsyncValidators}function cr(Z){return Z?Array.isArray(Z)?Z:[Z]:[]}function xe(Z,Q){return Array.isArray(Z)?Z.includes(Q):Z===Q}function De(Z,Q){const B=cr(Q);return cr(Z).forEach(Se=>{xe(B,Se)||B.push(Se)}),B}function Xe(Z,Q){return cr(Q).filter(B=>!xe(Z,B))}class mt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(Q){this._rawValidators=Q||[],this._composedValidatorFn=Xt(this._rawValidators)}_setAsyncValidators(Q){this._rawAsyncValidators=Q||[],this._composedAsyncValidatorFn=Ut(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(Q){this._onDestroyCallbacks.push(Q)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(Q=>Q()),this._onDestroyCallbacks=[]}reset(Q=void 0){this.control&&this.control.reset(Q)}hasError(Q,B){return!!this.control&&this.control.hasError(Q,B)}getError(Q,B){return this.control?this.control.getError(Q,B):null}}class bt extends mt{get formDirective(){return null}get path(){return null}}class kt extends mt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class br{constructor(Q){this._cd=Q}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let en=(()=>{class Z extends br{constructor(B){super(B)}static#e=this.\u0275fac=function(ae){return new(ae||Z)(b.Y36(kt,2))};static#t=this.\u0275dir=b.lG2({type:Z,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(ae,Se){2&ae&&b.ekj("ng-untouched",Se.isUntouched)("ng-touched",Se.isTouched)("ng-pristine",Se.isPristine)("ng-dirty",Se.isDirty)("ng-valid",Se.isValid)("ng-invalid",Se.isInvalid)("ng-pending",Se.isPending)},features:[b.qOj]})}return Z})(),fn=(()=>{class Z extends br{constructor(B){super(B)}static#e=this.\u0275fac=function(ae){return new(ae||Z)(b.Y36(bt,10))};static#t=this.\u0275dir=b.lG2({type:Z,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(ae,Se){2&ae&&b.ekj("ng-untouched",Se.isUntouched)("ng-touched",Se.isTouched)("ng-pristine",Se.isPristine)("ng-dirty",Se.isDirty)("ng-valid",Se.isValid)("ng-invalid",Se.isInvalid)("ng-pending",Se.isPending)("ng-submitted",Se.isSubmitted)},features:[b.qOj]})}return Z})();const At="VALID",zt="INVALID",Zt="PENDING",qn="DISABLED";function J(Z){return(z(Z)?Z.validators:Z)||null}function j(Z,Q){return(z(Q)?Q.asyncValidators:Z)||null}function z(Z){return null!=Z&&!Array.isArray(Z)&&"object"==typeof Z}function Te(Z,Q,B){const ae=Z.controls;if(!(Q?Object.keys(ae):ae).length)throw new b.vHH(1e3,"");if(!ae[B])throw new b.vHH(1001,"")}function Je(Z,Q,B){Z._forEachChild((ae,Se)=>{if(void 0===B[Se])throw new b.vHH(1002,"")})}class Dt{constructor(Q,B){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(Q),this._assignAsyncValidators(B)}get validator(){return this._composedValidatorFn}set validator(Q){this._rawValidators=this._composedValidatorFn=Q}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(Q){this._rawAsyncValidators=this._composedAsyncValidatorFn=Q}get parent(){return this._parent}get valid(){return this.status===At}get invalid(){return this.status===zt}get pending(){return this.status==Zt}get disabled(){return this.status===qn}get enabled(){return this.status!==qn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(Q){this._assignValidators(Q)}setAsyncValidators(Q){this._assignAsyncValidators(Q)}addValidators(Q){this.setValidators(De(Q,this._rawValidators))}addAsyncValidators(Q){this.setAsyncValidators(De(Q,this._rawAsyncValidators))}removeValidators(Q){this.setValidators(Xe(Q,this._rawValidators))}removeAsyncValidators(Q){this.setAsyncValidators(Xe(Q,this._rawAsyncValidators))}hasValidator(Q){return xe(this._rawValidators,Q)}hasAsyncValidator(Q){return xe(this._rawAsyncValidators,Q)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(Q={}){this.touched=!0,this._parent&&!Q.onlySelf&&this._parent.markAsTouched(Q)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(Q=>Q.markAllAsTouched())}markAsUntouched(Q={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(B=>{B.markAsUntouched({onlySelf:!0})}),this._parent&&!Q.onlySelf&&this._parent._updateTouched(Q)}markAsDirty(Q={}){this.pristine=!1,this._parent&&!Q.onlySelf&&this._parent.markAsDirty(Q)}markAsPristine(Q={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(B=>{B.markAsPristine({onlySelf:!0})}),this._parent&&!Q.onlySelf&&this._parent._updatePristine(Q)}markAsPending(Q={}){this.status=Zt,!1!==Q.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!Q.onlySelf&&this._parent.markAsPending(Q)}disable(Q={}){const B=this._parentMarkedDirty(Q.onlySelf);this.status=qn,this.errors=null,this._forEachChild(ae=>{ae.disable({...Q,onlySelf:!0})}),this._updateValue(),!1!==Q.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...Q,skipPristineCheck:B}),this._onDisabledChange.forEach(ae=>ae(!0))}enable(Q={}){const B=this._parentMarkedDirty(Q.onlySelf);this.status=At,this._forEachChild(ae=>{ae.enable({...Q,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:Q.emitEvent}),this._updateAncestors({...Q,skipPristineCheck:B}),this._onDisabledChange.forEach(ae=>ae(!1))}_updateAncestors(Q){this._parent&&!Q.onlySelf&&(this._parent.updateValueAndValidity(Q),Q.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(Q){this._parent=Q}getRawValue(){return this.value}updateValueAndValidity(Q={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===At||this.status===Zt)&&this._runAsyncValidator(Q.emitEvent)),!1!==Q.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!Q.onlySelf&&this._parent.updateValueAndValidity(Q)}_updateTreeValidity(Q={emitEvent:!0}){this._forEachChild(B=>B._updateTreeValidity(Q)),this.updateValueAndValidity({onlySelf:!0,emitEvent:Q.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?qn:At}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(Q){if(this.asyncValidator){this.status=Zt,this._hasOwnPendingAsyncValidator=!0;const B=Ze(this.asyncValidator(this));this._asyncValidationSubscription=B.subscribe(ae=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ae,{emitEvent:Q})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(Q,B={}){this.errors=Q,this._updateControlsErrors(!1!==B.emitEvent)}get(Q){let B=Q;return null==B||(Array.isArray(B)||(B=B.split(".")),0===B.length)?null:B.reduce((ae,Se)=>ae&&ae._find(Se),this)}getError(Q,B){const ae=B?this.get(B):this;return ae&&ae.errors?ae.errors[Q]:null}hasError(Q,B){return!!this.getError(Q,B)}get root(){let Q=this;for(;Q._parent;)Q=Q._parent;return Q}_updateControlsErrors(Q){this.status=this._calculateStatus(),Q&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(Q)}_initObservables(){this.valueChanges=new b.vpe,this.statusChanges=new b.vpe}_calculateStatus(){return this._allControlsDisabled()?qn:this.errors?zt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Zt)?Zt:this._anyControlsHaveStatus(zt)?zt:At}_anyControlsHaveStatus(Q){return this._anyControls(B=>B.status===Q)}_anyControlsDirty(){return this._anyControls(Q=>Q.dirty)}_anyControlsTouched(){return this._anyControls(Q=>Q.touched)}_updatePristine(Q={}){this.pristine=!this._anyControlsDirty(),this._parent&&!Q.onlySelf&&this._parent._updatePristine(Q)}_updateTouched(Q={}){this.touched=this._anyControlsTouched(),this._parent&&!Q.onlySelf&&this._parent._updateTouched(Q)}_registerOnCollectionChange(Q){this._onCollectionChange=Q}_setUpdateStrategy(Q){z(Q)&&null!=Q.updateOn&&(this._updateOn=Q.updateOn)}_parentMarkedDirty(Q){return!Q&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(Q){return null}_assignValidators(Q){this._rawValidators=Array.isArray(Q)?Q.slice():Q,this._composedValidatorFn=function U(Z){return Array.isArray(Z)?Xt(Z):Z||null}(this._rawValidators)}_assignAsyncValidators(Q){this._rawAsyncValidators=Array.isArray(Q)?Q.slice():Q,this._composedAsyncValidatorFn=function q(Z){return Array.isArray(Z)?Ut(Z):Z||null}(this._rawAsyncValidators)}}class un extends Dt{constructor(Q,B,ae){super(J(B),j(ae,B)),this.controls=Q,this._initObservables(),this._setUpdateStrategy(B),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(Q,B){return this.controls[Q]?this.controls[Q]:(this.controls[Q]=B,B.setParent(this),B._registerOnCollectionChange(this._onCollectionChange),B)}addControl(Q,B,ae={}){this.registerControl(Q,B),this.updateValueAndValidity({emitEvent:ae.emitEvent}),this._onCollectionChange()}removeControl(Q,B={}){this.controls[Q]&&this.controls[Q]._registerOnCollectionChange(()=>{}),delete this.controls[Q],this.updateValueAndValidity({emitEvent:B.emitEvent}),this._onCollectionChange()}setControl(Q,B,ae={}){this.controls[Q]&&this.controls[Q]._registerOnCollectionChange(()=>{}),delete this.controls[Q],B&&this.registerControl(Q,B),this.updateValueAndValidity({emitEvent:ae.emitEvent}),this._onCollectionChange()}contains(Q){return this.controls.hasOwnProperty(Q)&&this.controls[Q].enabled}setValue(Q,B={}){Je(this,0,Q),Object.keys(Q).forEach(ae=>{Te(this,!0,ae),this.controls[ae].setValue(Q[ae],{onlySelf:!0,emitEvent:B.emitEvent})}),this.updateValueAndValidity(B)}patchValue(Q,B={}){null!=Q&&(Object.keys(Q).forEach(ae=>{const Se=this.controls[ae];Se&&Se.patchValue(Q[ae],{onlySelf:!0,emitEvent:B.emitEvent})}),this.updateValueAndValidity(B))}reset(Q={},B={}){this._forEachChild((ae,Se)=>{ae.reset(Q?Q[Se]:null,{onlySelf:!0,emitEvent:B.emitEvent})}),this._updatePristine(B),this._updateTouched(B),this.updateValueAndValidity(B)}getRawValue(){return this._reduceChildren({},(Q,B,ae)=>(Q[ae]=B.getRawValue(),Q))}_syncPendingControls(){let Q=this._reduceChildren(!1,(B,ae)=>!!ae._syncPendingControls()||B);return Q&&this.updateValueAndValidity({onlySelf:!0}),Q}_forEachChild(Q){Object.keys(this.controls).forEach(B=>{const ae=this.controls[B];ae&&Q(ae,B)})}_setUpControls(){this._forEachChild(Q=>{Q.setParent(this),Q._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(Q){for(const[B,ae]of Object.entries(this.controls))if(this.contains(B)&&Q(ae))return!0;return!1}_reduceValue(){return this._reduceChildren({},(B,ae,Se)=>((ae.enabled||this.disabled)&&(B[Se]=ae.value),B))}_reduceChildren(Q,B){let ae=Q;return this._forEachChild((Se,rn)=>{ae=B(ae,Se,rn)}),ae}_allControlsDisabled(){for(const Q of Object.keys(this.controls))if(this.controls[Q].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(Q){return this.controls.hasOwnProperty(Q)?this.controls[Q]:null}}class Yt extends un{}const Zr=new b.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>nr}),nr="always";function hs(Z,Q){return[...Q.path,Z]}function Po(Z,Q,B=nr){ks(Z,Q),Q.valueAccessor.writeValue(Z.value),(Z.disabled||"always"===B)&&Q.valueAccessor.setDisabledState?.(Z.disabled),function lo(Z,Q){Q.valueAccessor.registerOnChange(B=>{Z._pendingValue=B,Z._pendingChange=!0,Z._pendingDirty=!0,"change"===Z.updateOn&&Vi(Z,Q)})}(Z,Q),function ir(Z,Q){const B=(ae,Se)=>{Q.valueAccessor.writeValue(ae),Se&&Q.viewToModelUpdate(ae)};Z.registerOnChange(B),Q._registerOnDestroy(()=>{Z._unregisterOnChange(B)})}(Z,Q),function Ui(Z,Q){Q.valueAccessor.registerOnTouched(()=>{Z._pendingTouched=!0,"blur"===Z.updateOn&&Z._pendingChange&&Vi(Z,Q),"submit"!==Z.updateOn&&Z.markAsTouched()})}(Z,Q),function ka(Z,Q){if(Q.valueAccessor.setDisabledState){const B=ae=>{Q.valueAccessor.setDisabledState(ae)};Z.registerOnDisabledChange(B),Q._registerOnDestroy(()=>{Z._unregisterOnDisabledChange(B)})}}(Z,Q)}function is(Z,Q,B=!0){const ae=()=>{};Q.valueAccessor&&(Q.valueAccessor.registerOnChange(ae),Q.valueAccessor.registerOnTouched(ae)),Bi(Z,Q),Z&&(Q._invokeOnDestroyCallbacks(),Z._registerOnCollectionChange(()=>{}))}function ss(Z,Q){Z.forEach(B=>{B.registerOnValidatorChange&&B.registerOnValidatorChange(Q)})}function ks(Z,Q){const B=bn(Z);null!==Q.validator?Z.setValidators(pt(B,Q.validator)):"function"==typeof B&&Z.setValidators([B]);const ae=Jn(Z);null!==Q.asyncValidator?Z.setAsyncValidators(pt(ae,Q.asyncValidator)):"function"==typeof ae&&Z.setAsyncValidators([ae]);const Se=()=>Z.updateValueAndValidity();ss(Q._rawValidators,Se),ss(Q._rawAsyncValidators,Se)}function Bi(Z,Q){let B=!1;if(null!==Z){if(null!==Q.validator){const Se=bn(Z);if(Array.isArray(Se)&&Se.length>0){const rn=Se.filter(jn=>jn!==Q.validator);rn.length!==Se.length&&(B=!0,Z.setValidators(rn))}}if(null!==Q.asyncValidator){const Se=Jn(Z);if(Array.isArray(Se)&&Se.length>0){const rn=Se.filter(jn=>jn!==Q.asyncValidator);rn.length!==Se.length&&(B=!0,Z.setAsyncValidators(rn))}}}const ae=()=>{};return ss(Q._rawValidators,ae),ss(Q._rawAsyncValidators,ae),B}function Vi(Z,Q){Z._pendingDirty&&Z.markAsDirty(),Z.setValue(Z._pendingValue,{emitModelToViewChange:!1}),Q.viewToModelUpdate(Z._pendingValue),Z._pendingChange=!1}function Bs(Z,Q){const B=Z.indexOf(Q);B>-1&&Z.splice(B,1)}function Ea(Z){return"object"==typeof Z&&null!==Z&&2===Object.keys(Z).length&&"value"in Z&&"disabled"in Z}const Gr=class extends Dt{constructor(Q=null,B,ae){super(J(B),j(ae,B)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(Q),this._setUpdateStrategy(B),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),z(B)&&(B.nonNullable||B.initialValueIsDefault)&&(this.defaultValue=Ea(Q)?Q.value:Q)}setValue(Q,B={}){this.value=this._pendingValue=Q,this._onChange.length&&!1!==B.emitModelToViewChange&&this._onChange.forEach(ae=>ae(this.value,!1!==B.emitViewToModelChange)),this.updateValueAndValidity(B)}patchValue(Q,B={}){this.setValue(Q,B)}reset(Q=this.defaultValue,B={}){this._applyFormState(Q),this.markAsPristine(B),this.markAsUntouched(B),this.setValue(this.value,B),this._pendingChange=!1}_updateValue(){}_anyControls(Q){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(Q){this._onChange.push(Q)}_unregisterOnChange(Q){Bs(this._onChange,Q)}registerOnDisabledChange(Q){this._onDisabledChange.push(Q)}_unregisterOnDisabledChange(Q){Bs(this._onDisabledChange,Q)}_forEachChild(Q){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(Q){Ea(Q)?(this.value=this._pendingValue=Q.value,Q.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=Q}};let po=(()=>{class Z extends bt{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return hs(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=function(){let B;return function(Se){return(B||(B=b.n5z(Z)))(Se||Z)}}();static#t=this.\u0275dir=b.lG2({type:Z,features:[b.qOj]})}return Z})(),ko=(()=>{class Z{static#e=this.\u0275fac=function(ae){return new(ae||Z)};static#t=this.\u0275dir=b.lG2({type:Z,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return Z})();const dl={provide:qe,useExisting:(0,b.Gpc)(()=>Hi),multi:!0};let Hi=(()=>{class Z extends Me{writeValue(B){this.setProperty("value",B??"")}registerOnChange(B){this.onChange=ae=>{B(""==ae?null:parseFloat(ae))}}static#e=this.\u0275fac=function(){let B;return function(Se){return(B||(B=b.n5z(Z)))(Se||Z)}}();static#t=this.\u0275dir=b.lG2({type:Z,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(ae,Se){1&ae&&b.NdJ("input",function(jn){return Se.onChange(jn.target.value)})("blur",function(){return Se.onTouched()})},features:[b._Bn([dl]),b.qOj]})}return Z})(),La=(()=>{class Z{static#e=this.\u0275fac=function(ae){return new(ae||Z)};static#t=this.\u0275mod=b.oAB({type:Z});static#n=this.\u0275inj=b.cJS({})}return Z})();const ms=new b.OlP("NgModelWithFormControlWarning"),Ba={provide:bt,useExisting:(0,b.Gpc)(()=>_i)};let _i=(()=>{class Z extends bt{constructor(B,ae,Se){super(),this.callSetDisabledState=Se,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new b.vpe,this._setValidators(B),this._setAsyncValidators(ae)}ngOnChanges(B){this._checkFormPresent(),B.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Bi(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(B){const ae=this.form.get(B.path);return Po(ae,B,this.callSetDisabledState),ae.updateValueAndValidity({emitEvent:!1}),this.directives.push(B),ae}getControl(B){return this.form.get(B.path)}removeControl(B){is(B.control||null,B,!1),function wa(Z,Q){const B=Z.indexOf(Q);B>-1&&Z.splice(B,1)}(this.directives,B)}addFormGroup(B){this._setUpFormContainer(B)}removeFormGroup(B){this._cleanUpFormContainer(B)}getFormGroup(B){return this.form.get(B.path)}addFormArray(B){this._setUpFormContainer(B)}removeFormArray(B){this._cleanUpFormContainer(B)}getFormArray(B){return this.form.get(B.path)}updateModel(B,ae){this.form.get(B.path).setValue(ae)}onSubmit(B){return this.submitted=!0,function ea(Z,Q){Z._syncPendingControls(),Q.forEach(B=>{const ae=B.control;"submit"===ae.updateOn&&ae._pendingChange&&(B.viewToModelUpdate(ae._pendingValue),ae._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(B),"dialog"===B?.target?.method}onReset(){this.resetForm()}resetForm(B=void 0){this.form.reset(B),this.submitted=!1}_updateDomValue(){this.directives.forEach(B=>{const ae=B.control,Se=this.form.get(B.path);ae!==Se&&(is(ae||null,B),(Z=>Z instanceof Gr)(Se)&&(Po(Se,B,this.callSetDisabledState),B.control=Se))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(B){const ae=this.form.get(B.path);(function uo(Z,Q){ks(Z,Q)})(ae,B),ae.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(B){if(this.form){const ae=this.form.get(B.path);ae&&function Qo(Z,Q){return Bi(Z,Q)}(ae,B)&&ae.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ks(this.form,this),this._oldForm&&Bi(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(ae){return new(ae||Z)(b.Y36(We,10),b.Y36(Oe,10),b.Y36(Zr,8))};static#t=this.\u0275dir=b.lG2({type:Z,selectors:[["","formGroup",""]],hostBindings:function(ae,Se){1&ae&&b.NdJ("submit",function(jn){return Se.onSubmit(jn)})("reset",function(){return Se.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[b._Bn([Ba]),b.qOj,b.TTD]})}return Z})();const ic={provide:bt,useExisting:(0,b.Gpc)(()=>as)};let as=(()=>{class Z extends po{constructor(B,ae,Se){super(),this.name=null,this._parent=B,this._setValidators(ae),this._setAsyncValidators(Se)}_checkParentType(){kn(this._parent)}static#e=this.\u0275fac=function(ae){return new(ae||Z)(b.Y36(bt,13),b.Y36(We,10),b.Y36(Oe,10))};static#t=this.\u0275dir=b.lG2({type:Z,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[b._Bn([ic]),b.qOj]})}return Z})();const Ar={provide:bt,useExisting:(0,b.Gpc)(()=>Vt)};let Vt=(()=>{class Z extends bt{constructor(B,ae,Se){super(),this.name=null,this._parent=B,this._setValidators(ae),this._setAsyncValidators(Se)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return hs(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){kn(this._parent)}static#e=this.\u0275fac=function(ae){return new(ae||Z)(b.Y36(bt,13),b.Y36(We,10),b.Y36(Oe,10))};static#t=this.\u0275dir=b.lG2({type:Z,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[b._Bn([Ar]),b.qOj]})}return Z})();function kn(Z){return!(Z instanceof as||Z instanceof _i||Z instanceof Vt)}const Vr={provide:kt,useExisting:(0,b.Gpc)(()=>yi)};let yi=(()=>{class Z extends kt{set isDisabled(B){}static#e=this._ngModelWarningSentOnce=!1;constructor(B,ae,Se,rn,jn){super(),this._ngModelWarningConfig=jn,this._added=!1,this.name=null,this.update=new b.vpe,this._ngModelWarningSent=!1,this._parent=B,this._setValidators(ae),this._setAsyncValidators(Se),this.valueAccessor=function ho(Z,Q){if(!Q)return null;let B,ae,Se;return Array.isArray(Q),Q.forEach(rn=>{rn.constructor===st?B=rn:function gi(Z){return Object.getPrototypeOf(Z.constructor)===Me}(rn)?ae=rn:Se=rn}),Se||ae||B||null}(0,rn)}ngOnChanges(B){this._added||this._setUpControl(),function Fs(Z,Q){if(!Z.hasOwnProperty("model"))return!1;const B=Z.model;return!!B.isFirstChange()||!Object.is(Q,B.currentValue)}(B,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(B){this.viewModel=B,this.update.emit(B)}get path(){return hs(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(ae){return new(ae||Z)(b.Y36(bt,13),b.Y36(We,10),b.Y36(Oe,10),b.Y36(qe,10),b.Y36(ms,8))};static#n=this.\u0275dir=b.lG2({type:Z,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[b._Bn([Vr]),b.qOj,b.TTD]})}return Z})();const go={provide:qe,useExisting:(0,b.Gpc)(()=>xr),multi:!0};function $r(Z,Q){return null==Z?`${Q}`:(Q&&"object"==typeof Q&&(Q="Object"),`${Z}: ${Q}`.slice(0,50))}let xr=(()=>{class Z extends Me{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(B){this._compareWith=B}writeValue(B){this.value=B;const Se=$r(this._getOptionId(B),B);this.setProperty("value",Se)}registerOnChange(B){this.onChange=ae=>{this.value=this._getOptionValue(ae),B(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(B){for(const ae of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ae),B))return ae;return null}_getOptionValue(B){const ae=function Ai(Z){return Z.split(":")[0]}(B);return this._optionMap.has(ae)?this._optionMap.get(ae):B}static#e=this.\u0275fac=function(){let B;return function(Se){return(B||(B=b.n5z(Z)))(Se||Z)}}();static#t=this.\u0275dir=b.lG2({type:Z,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(ae,Se){1&ae&&b.NdJ("change",function(jn){return Se.onChange(jn.target.value)})("blur",function(){return Se.onTouched()})},inputs:{compareWith:"compareWith"},features:[b._Bn([go]),b.qOj]})}return Z})(),Qn=(()=>{class Z{constructor(B,ae,Se){this._element=B,this._renderer=ae,this._select=Se,this._select&&(this.id=this._select._registerOption())}set ngValue(B){null!=this._select&&(this._select._optionMap.set(this.id,B),this._setElementValue($r(this.id,B)),this._select.writeValue(this._select.value))}set value(B){this._setElementValue(B),this._select&&this._select.writeValue(this._select.value)}_setElementValue(B){this._renderer.setProperty(this._element.nativeElement,"value",B)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(ae){return new(ae||Z)(b.Y36(b.SBq),b.Y36(b.Qsj),b.Y36(xr,9))};static#t=this.\u0275dir=b.lG2({type:Z,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return Z})();const Jr={provide:qe,useExisting:(0,b.Gpc)(()=>Lo),multi:!0};function Dn(Z,Q){return null==Z?`${Q}`:("string"==typeof Q&&(Q=`'${Q}'`),Q&&"object"==typeof Q&&(Q="Object"),`${Z}: ${Q}`.slice(0,50))}let Lo=(()=>{class Z extends Me{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(B){this._compareWith=B}writeValue(B){let ae;if(this.value=B,Array.isArray(B)){const Se=B.map(rn=>this._getOptionId(rn));ae=(rn,jn)=>{rn._setSelected(Se.indexOf(jn.toString())>-1)}}else ae=(Se,rn)=>{Se._setSelected(!1)};this._optionMap.forEach(ae)}registerOnChange(B){this.onChange=ae=>{const Se=[],rn=ae.selectedOptions;if(void 0!==rn){const jn=rn;for(let Ki=0;Ki<jn.length;Ki++){const xi=this._getOptionValue(jn[Ki].value);Se.push(xi)}}else{const jn=ae.options;for(let Ki=0;Ki<jn.length;Ki++){const Es=jn[Ki];if(Es.selected){const xi=this._getOptionValue(Es.value);Se.push(xi)}}}this.value=Se,B(Se)}}_registerOption(B){const ae=(this._idCounter++).toString();return this._optionMap.set(ae,B),ae}_getOptionId(B){for(const ae of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ae)._value,B))return ae;return null}_getOptionValue(B){const ae=function mo(Z){return Z.split(":")[0]}(B);return this._optionMap.has(ae)?this._optionMap.get(ae)._value:B}static#e=this.\u0275fac=function(){let B;return function(Se){return(B||(B=b.n5z(Z)))(Se||Z)}}();static#t=this.\u0275dir=b.lG2({type:Z,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(ae,Se){1&ae&&b.NdJ("change",function(jn){return Se.onChange(jn.target)})("blur",function(){return Se.onTouched()})},inputs:{compareWith:"compareWith"},features:[b._Bn([Jr]),b.qOj]})}return Z})(),zr=(()=>{class Z{constructor(B,ae,Se){this._element=B,this._renderer=ae,this._select=Se,this._select&&(this.id=this._select._registerOption(this))}set ngValue(B){null!=this._select&&(this._value=B,this._setElementValue(Dn(this.id,B)),this._select.writeValue(this._select.value))}set value(B){this._select?(this._value=B,this._setElementValue(Dn(this.id,B)),this._select.writeValue(this._select.value)):this._setElementValue(B)}_setElementValue(B){this._renderer.setProperty(this._element.nativeElement,"value",B)}_setSelected(B){this._renderer.setProperty(this._element.nativeElement,"selected",B)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(ae){return new(ae||Z)(b.Y36(b.SBq),b.Y36(b.Qsj),b.Y36(Lo,9))};static#t=this.\u0275dir=b.lG2({type:Z,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return Z})();let si=(()=>{class Z{constructor(){this._validator=Be}ngOnChanges(B){if(this.inputName in B){const ae=this.normalizeInput(B[this.inputName].currentValue);this._enabled=this.enabled(ae),this._validator=this._enabled?this.createValidator(ae):Be,this._onChange&&this._onChange()}}validate(B){return this._validator(B)}registerOnValidatorChange(B){this._onChange=B}enabled(B){return null!=B}static#e=this.\u0275fac=function(ae){return new(ae||Z)};static#t=this.\u0275dir=b.lG2({type:Z,features:[b.TTD]})}return Z})();const yo={provide:We,useExisting:(0,b.Gpc)(()=>Hn),multi:!0};let Hn=(()=>{class Z extends si{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=b.VuI,this.createValidator=B=>ut}enabled(B){return B}static#e=this.\u0275fac=function(){let B;return function(Se){return(B||(B=b.n5z(Z)))(Se||Z)}}();static#t=this.\u0275dir=b.lG2({type:Z,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(ae,Se){2&ae&&b.uIk("required",Se._enabled?"":null)},inputs:{required:"required"},features:[b._Bn([yo]),b.qOj]})}return Z})();const ai={provide:We,useExisting:(0,b.Gpc)(()=>bi),multi:!0};let bi=(()=>{class Z extends si{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=B=>function vi(Z){return"number"==typeof Z?Z:parseInt(Z,10)}(B),this.createValidator=B=>xn(B)}static#e=this.\u0275fac=function(){let B;return function(Se){return(B||(B=b.n5z(Z)))(Se||Z)}}();static#t=this.\u0275dir=b.lG2({type:Z,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(ae,Se){2&ae&&b.uIk("minlength",Se._enabled?Se.minlength:null)},inputs:{minlength:"minlength"},features:[b._Bn([ai]),b.qOj]})}return Z})(),ys=(()=>{class Z{static#e=this.\u0275fac=function(ae){return new(ae||Z)};static#t=this.\u0275mod=b.oAB({type:Z});static#n=this.\u0275inj=b.cJS({imports:[La]})}return Z})();class vo extends Dt{constructor(Q,B,ae){super(J(B),j(ae,B)),this.controls=Q,this._initObservables(),this._setUpdateStrategy(B),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(Q){return this.controls[this._adjustIndex(Q)]}push(Q,B={}){this.controls.push(Q),this._registerControl(Q),this.updateValueAndValidity({emitEvent:B.emitEvent}),this._onCollectionChange()}insert(Q,B,ae={}){this.controls.splice(Q,0,B),this._registerControl(B),this.updateValueAndValidity({emitEvent:ae.emitEvent})}removeAt(Q,B={}){let ae=this._adjustIndex(Q);ae<0&&(ae=0),this.controls[ae]&&this.controls[ae]._registerOnCollectionChange(()=>{}),this.controls.splice(ae,1),this.updateValueAndValidity({emitEvent:B.emitEvent})}setControl(Q,B,ae={}){let Se=this._adjustIndex(Q);Se<0&&(Se=0),this.controls[Se]&&this.controls[Se]._registerOnCollectionChange(()=>{}),this.controls.splice(Se,1),B&&(this.controls.splice(Se,0,B),this._registerControl(B)),this.updateValueAndValidity({emitEvent:ae.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(Q,B={}){Je(this,0,Q),Q.forEach((ae,Se)=>{Te(this,!1,Se),this.at(Se).setValue(ae,{onlySelf:!0,emitEvent:B.emitEvent})}),this.updateValueAndValidity(B)}patchValue(Q,B={}){null!=Q&&(Q.forEach((ae,Se)=>{this.at(Se)&&this.at(Se).patchValue(ae,{onlySelf:!0,emitEvent:B.emitEvent})}),this.updateValueAndValidity(B))}reset(Q=[],B={}){this._forEachChild((ae,Se)=>{ae.reset(Q[Se],{onlySelf:!0,emitEvent:B.emitEvent})}),this._updatePristine(B),this._updateTouched(B),this.updateValueAndValidity(B)}getRawValue(){return this.controls.map(Q=>Q.getRawValue())}clear(Q={}){this.controls.length<1||(this._forEachChild(B=>B._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:Q.emitEvent}))}_adjustIndex(Q){return Q<0?Q+this.length:Q}_syncPendingControls(){let Q=this.controls.reduce((B,ae)=>!!ae._syncPendingControls()||B,!1);return Q&&this.updateValueAndValidity({onlySelf:!0}),Q}_forEachChild(Q){this.controls.forEach((B,ae)=>{Q(B,ae)})}_updateValue(){this.value=this.controls.filter(Q=>Q.enabled||this.disabled).map(Q=>Q.value)}_anyControls(Q){return this.controls.some(B=>B.enabled&&Q(B))}_setUpControls(){this._forEachChild(Q=>this._registerControl(Q))}_allControlsDisabled(){for(const Q of this.controls)if(Q.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(Q){Q.setParent(this),Q._registerOnCollectionChange(this._onCollectionChange)}_find(Q){return this.at(Q)??null}}function to(Z){return!!Z&&(void 0!==Z.asyncValidators||void 0!==Z.validators||void 0!==Z.updateOn)}let Vo=(()=>{class Z{constructor(){this.useNonNullable=!1}get nonNullable(){const B=new Z;return B.useNonNullable=!0,B}group(B,ae=null){const Se=this._reduceControls(B);let rn={};return to(ae)?rn=ae:null!==ae&&(rn.validators=ae.validator,rn.asyncValidators=ae.asyncValidator),new un(Se,rn)}record(B,ae=null){const Se=this._reduceControls(B);return new Yt(Se,ae)}control(B,ae,Se){let rn={};return this.useNonNullable?(to(ae)?rn=ae:(rn.validators=ae,rn.asyncValidators=Se),new Gr(B,{...rn,nonNullable:!0})):new Gr(B,ae,Se)}array(B,ae,Se){const rn=B.map(jn=>this._createControl(jn));return new vo(rn,ae,Se)}_reduceControls(B){const ae={};return Object.keys(B).forEach(Se=>{ae[Se]=this._createControl(B[Se])}),ae}_createControl(B){return B instanceof Gr||B instanceof Dt?B:Array.isArray(B)?this.control(B[0],B.length>1?B[1]:null,B.length>2?B[2]:null):this.control(B)}static#e=this.\u0275fac=function(ae){return new(ae||Z)};static#t=this.\u0275prov=b.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"})}return Z})(),ia=(()=>{class Z{static withConfig(B){return{ngModule:Z,providers:[{provide:Zr,useValue:B.callSetDisabledState??nr}]}}static#e=this.\u0275fac=function(ae){return new(ae||Z)};static#t=this.\u0275mod=b.oAB({type:Z});static#n=this.\u0275inj=b.cJS({imports:[ys]})}return Z})(),Gd=(()=>{class Z{static withConfig(B){return{ngModule:Z,providers:[{provide:ms,useValue:B.warnOnNgModelWithFormControl??"always"},{provide:Zr,useValue:B.callSetDisabledState??nr}]}}static#e=this.\u0275fac=function(ae){return new(ae||Z)};static#t=this.\u0275mod=b.oAB({type:Z});static#n=this.\u0275inj=b.cJS({imports:[ys]})}return Z})()},2614:()=>{"use strict";const Ht=":";const bn=function(xe,...De){if(bn.translate){const mt=bn.translate(xe,De);xe=mt[0],De=mt[1]}let Xe=cr(xe[0],xe.raw[0]);for(let mt=1;mt<xe.length;mt++)Xe+=De[mt-1]+cr(xe[mt],xe.raw[mt]);return Xe},Jn=":";function cr(xe,De){return De.charAt(0)===Jn?xe.substring(function je(xe,De){for(let Xe=1,mt=1;Xe<xe.length;Xe++,mt++)if("\\"===De[mt])mt++;else if(xe[Xe]===Ht)return Xe;throw new Error(`Unterminated $localize metadata block in "${De}".`)}(xe,De)+1):xe}globalThis.$localize=bn},6593:(Ht,Ue,$)=>{"use strict";$.d(Ue,{Dx:()=>kt,H7:()=>Wi,b2:()=>xe,q6:()=>pt,se:()=>_e});var b=$(9468),X=$(6814);class u extends X.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ye extends u{static makeCurrent(){(0,X.HT)(new ye)}onAndCancel(j,q,z){return j.addEventListener(q,z),()=>{j.removeEventListener(q,z)}}dispatchEvent(j,q){j.dispatchEvent(q)}remove(j){j.parentNode&&j.parentNode.removeChild(j)}createElement(j,q){return(q=q||this.getDefaultDocument()).createElement(j)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(j){return j.nodeType===Node.ELEMENT_NODE}isShadowRoot(j){return j instanceof DocumentFragment}getGlobalEventTarget(j,q){return"window"===q?window:"document"===q?j:"body"===q?j.body:null}getBaseHref(j){const q=function he(){return ce=ce||document.querySelector("base"),ce?ce.getAttribute("href"):null}();return null==q?null:function ke(U){we=we||document.createElement("a"),we.setAttribute("href",U);const j=we.pathname;return"/"===j.charAt(0)?j:`/${j}`}(q)}resetBaseElement(){ce=null}getUserAgent(){return window.navigator.userAgent}getCookie(j){return(0,X.Mx)(document.cookie,j)}}let we,ce=null,re=(()=>{class U{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(z){return new(z||U)};static#t=this.\u0275prov=b.Yz7({token:U,factory:U.\u0275fac})}return U})();const ue=new b.OlP("EventManagerPlugins");let Ae=(()=>{class U{constructor(q,z){this._zone=z,this._eventNameToPlugin=new Map,q.forEach(Te=>{Te.manager=this}),this._plugins=q.slice().reverse()}addEventListener(q,z,Te){return this._findPluginFor(z).addEventListener(q,z,Te)}getZone(){return this._zone}_findPluginFor(q){let z=this._eventNameToPlugin.get(q);if(z)return z;if(z=this._plugins.find(Je=>Je.supports(q)),!z)throw new b.vHH(5101,!1);return this._eventNameToPlugin.set(q,z),z}static#e=this.\u0275fac=function(z){return new(z||U)(b.LFG(ue),b.LFG(b.R0b))};static#t=this.\u0275prov=b.Yz7({token:U,factory:U.\u0275fac})}return U})();class Ce{constructor(j){this._doc=j}}const Me="ng-app-id";let qe=(()=>{class U{constructor(q,z,Te,Je={}){this.doc=q,this.appId=z,this.nonce=Te,this.platformId=Je,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,X.PM)(Je),this.resetHostNodes()}addStyles(q){for(const z of q)1===this.changeUsageCount(z,1)&&this.onStyleAdded(z)}removeStyles(q){for(const z of q)this.changeUsageCount(z,-1)<=0&&this.onStyleRemoved(z)}ngOnDestroy(){const q=this.styleNodesInDOM;q&&(q.forEach(z=>z.remove()),q.clear());for(const z of this.getAllStyles())this.onStyleRemoved(z);this.resetHostNodes()}addHost(q){this.hostNodes.add(q);for(const z of this.getAllStyles())this.addStyleToHost(q,z)}removeHost(q){this.hostNodes.delete(q)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(q){for(const z of this.hostNodes)this.addStyleToHost(z,q)}onStyleRemoved(q){const z=this.styleRef;z.get(q)?.elements?.forEach(Te=>Te.remove()),z.delete(q)}collectServerRenderedStyles(){const q=this.doc.head?.querySelectorAll(`style[${Me}="${this.appId}"]`);if(q?.length){const z=new Map;return q.forEach(Te=>{null!=Te.textContent&&z.set(Te.textContent,Te)}),z}return null}changeUsageCount(q,z){const Te=this.styleRef;if(Te.has(q)){const Je=Te.get(q);return Je.usage+=z,Je.usage}return Te.set(q,{usage:z,elements:[]}),z}getStyleElement(q,z){const Te=this.styleNodesInDOM,Je=Te?.get(z);if(Je?.parentNode===q)return Te.delete(z),Je.removeAttribute(Me),Je;{const Dt=this.doc.createElement("style");return this.nonce&&Dt.setAttribute("nonce",this.nonce),Dt.textContent=z,this.platformIsServer&&Dt.setAttribute(Me,this.appId),Dt}}addStyleToHost(q,z){const Te=this.getStyleElement(q,z);q.appendChild(Te);const Je=this.styleRef,Dt=Je.get(z)?.elements;Dt?Dt.push(Te):Je.set(z,{elements:[Te],usage:1})}resetHostNodes(){const q=this.hostNodes;q.clear(),q.add(this.doc.head)}static#e=this.\u0275fac=function(z){return new(z||U)(b.LFG(X.K0),b.LFG(b.AFp),b.LFG(b.Ojb,8),b.LFG(b.Lbi))};static#t=this.\u0275prov=b.Yz7({token:U,factory:U.\u0275fac})}return U})();const It={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},xt=/%COMP%/g,rt=new b.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Oe(U,j){return j.map(q=>q.replace(xt,U))}let _e=(()=>{class U{constructor(q,z,Te,Je,Dt,un,dn,Bn=null){this.eventManager=q,this.sharedStylesHost=z,this.appId=Te,this.removeStylesOnCompDestroy=Je,this.doc=Dt,this.platformId=un,this.ngZone=dn,this.nonce=Bn,this.rendererByCompId=new Map,this.platformIsServer=(0,X.PM)(un),this.defaultRenderer=new Le(q,Dt,dn,this.platformIsServer)}createRenderer(q,z){if(!q||!z)return this.defaultRenderer;this.platformIsServer&&z.encapsulation===b.ifc.ShadowDom&&(z={...z,encapsulation:b.ifc.Emulated});const Te=this.getOrCreateRenderer(q,z);return Te instanceof xn?Te.applyToHost(q):Te instanceof mn&&Te.applyStyles(),Te}getOrCreateRenderer(q,z){const Te=this.rendererByCompId;let Je=Te.get(z.id);if(!Je){const Dt=this.doc,un=this.ngZone,dn=this.eventManager,Bn=this.sharedStylesHost,Yt=this.removeStylesOnCompDestroy,Un=this.platformIsServer;switch(z.encapsulation){case b.ifc.Emulated:Je=new xn(dn,Bn,z,this.appId,Yt,Dt,un,Un);break;case b.ifc.ShadowDom:return new sn(dn,Bn,q,z,Dt,un,this.nonce,Un);default:Je=new mn(dn,Bn,z,Yt,Dt,un,Un)}Te.set(z.id,Je)}return Je}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(z){return new(z||U)(b.LFG(Ae),b.LFG(qe),b.LFG(b.AFp),b.LFG(rt),b.LFG(X.K0),b.LFG(b.Lbi),b.LFG(b.R0b),b.LFG(b.Ojb))};static#t=this.\u0275prov=b.Yz7({token:U,factory:U.\u0275fac})}return U})();class Le{constructor(j,q,z,Te){this.eventManager=j,this.doc=q,this.ngZone=z,this.platformIsServer=Te,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(j,q){return q?this.doc.createElementNS(It[q]||q,j):this.doc.createElement(j)}createComment(j){return this.doc.createComment(j)}createText(j){return this.doc.createTextNode(j)}appendChild(j,q){(ut(j)?j.content:j).appendChild(q)}insertBefore(j,q,z){j&&(ut(j)?j.content:j).insertBefore(q,z)}removeChild(j,q){j&&j.removeChild(q)}selectRootElement(j,q){let z="string"==typeof j?this.doc.querySelector(j):j;if(!z)throw new b.vHH(-5104,!1);return q||(z.textContent=""),z}parentNode(j){return j.parentNode}nextSibling(j){return j.nextSibling}setAttribute(j,q,z,Te){if(Te){q=Te+":"+q;const Je=It[Te];Je?j.setAttributeNS(Je,q,z):j.setAttribute(q,z)}else j.setAttribute(q,z)}removeAttribute(j,q,z){if(z){const Te=It[z];Te?j.removeAttributeNS(Te,q):j.removeAttribute(`${z}:${q}`)}else j.removeAttribute(q)}addClass(j,q){j.classList.add(q)}removeClass(j,q){j.classList.remove(q)}setStyle(j,q,z,Te){Te&(b.JOm.DashCase|b.JOm.Important)?j.style.setProperty(q,z,Te&b.JOm.Important?"important":""):j.style[q]=z}removeStyle(j,q,z){z&b.JOm.DashCase?j.style.removeProperty(q):j.style[q]=""}setProperty(j,q,z){j[q]=z}setValue(j,q){j.nodeValue=q}listen(j,q,z){if("string"==typeof j&&!(j=(0,X.q)().getGlobalEventTarget(this.doc,j)))throw new Error(`Unsupported event target ${j} for event ${q}`);return this.eventManager.addEventListener(j,q,this.decoratePreventDefault(z))}decoratePreventDefault(j){return q=>{if("__ngUnwrap__"===q)return j;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>j(q)):j(q))&&q.preventDefault()}}}function ut(U){return"TEMPLATE"===U.tagName&&void 0!==U.content}class sn extends Le{constructor(j,q,z,Te,Je,Dt,un,dn){super(j,Je,Dt,dn),this.sharedStylesHost=q,this.hostEl=z,this.shadowRoot=z.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Bn=Oe(Te.id,Te.styles);for(const Yt of Bn){const Un=document.createElement("style");un&&Un.setAttribute("nonce",un),Un.textContent=Yt,this.shadowRoot.appendChild(Un)}}nodeOrShadowRoot(j){return j===this.hostEl?this.shadowRoot:j}appendChild(j,q){return super.appendChild(this.nodeOrShadowRoot(j),q)}insertBefore(j,q,z){return super.insertBefore(this.nodeOrShadowRoot(j),q,z)}removeChild(j,q){return super.removeChild(this.nodeOrShadowRoot(j),q)}parentNode(j){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(j)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class mn extends Le{constructor(j,q,z,Te,Je,Dt,un,dn){super(j,Je,Dt,un),this.sharedStylesHost=q,this.removeStylesOnCompDestroy=Te,this.styles=dn?Oe(dn,z.styles):z.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class xn extends mn{constructor(j,q,z,Te,Je,Dt,un,dn){const Bn=Te+"-"+z.id;super(j,q,z,Je,Dt,un,dn,Bn),this.contentAttr=function yt(U){return"_ngcontent-%COMP%".replace(xt,U)}(Bn),this.hostAttr=function We(U){return"_nghost-%COMP%".replace(xt,U)}(Bn)}applyToHost(j){this.applyStyles(),this.setAttribute(j,this.hostAttr,"")}createElement(j,q){const z=super.createElement(j,q);return super.setAttribute(z,this.contentAttr,""),z}}let Yn=(()=>{class U extends Ce{constructor(q){super(q)}supports(q){return!0}addEventListener(q,z,Te){return q.addEventListener(z,Te,!1),()=>this.removeEventListener(q,z,Te)}removeEventListener(q,z,Te){return q.removeEventListener(z,Te)}static#e=this.\u0275fac=function(z){return new(z||U)(b.LFG(X.K0))};static#t=this.\u0275prov=b.Yz7({token:U,factory:U.\u0275fac})}return U})();const tr=["alt","control","meta","shift"],Be={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},je={alt:U=>U.altKey,control:U=>U.ctrlKey,meta:U=>U.metaKey,shift:U=>U.shiftKey};let Ze=(()=>{class U extends Ce{constructor(q){super(q)}supports(q){return null!=U.parseEventName(q)}addEventListener(q,z,Te){const Je=U.parseEventName(z),Dt=U.eventCallback(Je.fullKey,Te,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,X.q)().onAndCancel(q,Je.domEventName,Dt))}static parseEventName(q){const z=q.toLowerCase().split("."),Te=z.shift();if(0===z.length||"keydown"!==Te&&"keyup"!==Te)return null;const Je=U._normalizeKey(z.pop());let Dt="",un=z.indexOf("code");if(un>-1&&(z.splice(un,1),Dt="code."),tr.forEach(Bn=>{const Yt=z.indexOf(Bn);Yt>-1&&(z.splice(Yt,1),Dt+=Bn+".")}),Dt+=Je,0!=z.length||0===Je.length)return null;const dn={};return dn.domEventName=Te,dn.fullKey=Dt,dn}static matchEventFullKeyCode(q,z){let Te=Be[q.key]||q.key,Je="";return z.indexOf("code.")>-1&&(Te=q.code,Je="code."),!(null==Te||!Te)&&(Te=Te.toLowerCase()," "===Te?Te="space":"."===Te&&(Te="dot"),tr.forEach(Dt=>{Dt!==Te&&(0,je[Dt])(q)&&(Je+=Dt+".")}),Je+=Te,Je===z)}static eventCallback(q,z,Te){return Je=>{U.matchEventFullKeyCode(Je,q)&&Te.runGuarded(()=>z(Je))}}static _normalizeKey(q){return"esc"===q?"escape":q}static#e=this.\u0275fac=function(z){return new(z||U)(b.LFG(X.K0))};static#t=this.\u0275prov=b.Yz7({token:U,factory:U.\u0275fac})}return U})();const pt=(0,b.eFA)(b._c5,"browser",[{provide:b.Lbi,useValue:X.bD},{provide:b.g9A,useValue:function Lt(){ye.makeCurrent()},multi:!0},{provide:X.K0,useFactory:function tn(){return(0,b.RDi)(document),document},deps:[]}]),bn=new b.OlP(""),Jn=[{provide:b.rWj,useClass:class Ee{addToWindow(j){b.dqk.getAngularTestability=(z,Te=!0)=>{const Je=j.findTestabilityInTree(z,Te);if(null==Je)throw new b.vHH(5103,!1);return Je},b.dqk.getAllAngularTestabilities=()=>j.getAllTestabilities(),b.dqk.getAllAngularRootElements=()=>j.getAllRootElements(),b.dqk.frameworkStabilizers||(b.dqk.frameworkStabilizers=[]),b.dqk.frameworkStabilizers.push(z=>{const Te=b.dqk.getAllAngularTestabilities();let Je=Te.length,Dt=!1;const un=function(dn){Dt=Dt||dn,Je--,0==Je&&z(Dt)};Te.forEach(dn=>{dn.whenStable(un)})})}findTestabilityInTree(j,q,z){return null==q?null:j.getTestability(q)??(z?(0,X.q)().isShadowRoot(q)?this.findTestabilityInTree(j,q.host,!0):this.findTestabilityInTree(j,q.parentElement,!0):null)}},deps:[]},{provide:b.lri,useClass:b.dDg,deps:[b.R0b,b.eoX,b.rWj]},{provide:b.dDg,useClass:b.dDg,deps:[b.R0b,b.eoX,b.rWj]}],cr=[{provide:b.zSh,useValue:"root"},{provide:b.qLn,useFactory:function Xt(){return new b.qLn},deps:[]},{provide:ue,useClass:Yn,multi:!0,deps:[X.K0,b.R0b,b.Lbi]},{provide:ue,useClass:Ze,multi:!0,deps:[X.K0]},_e,qe,Ae,{provide:b.FYo,useExisting:_e},{provide:X.JF,useClass:re,deps:[]},[]];let xe=(()=>{class U{constructor(q){}static withServerTransition(q){return{ngModule:U,providers:[{provide:b.AFp,useValue:q.appId}]}}static#e=this.\u0275fac=function(z){return new(z||U)(b.LFG(bn,12))};static#t=this.\u0275mod=b.oAB({type:U});static#n=this.\u0275inj=b.cJS({providers:[...cr,...Jn],imports:[X.ez,b.hGG]})}return U})(),kt=(()=>{class U{constructor(q){this._doc=q}getTitle(){return this._doc.title}setTitle(q){this._doc.title=q||""}static#e=this.\u0275fac=function(z){return new(z||U)(b.LFG(X.K0))};static#t=this.\u0275prov=b.Yz7({token:U,factory:function(z){let Te=null;return Te=z?new z:function bt(){return new kt((0,b.LFG)(X.K0))}(),Te},providedIn:"root"})}return U})();typeof window<"u"&&window;let Wi=(()=>{class U{static#e=this.\u0275fac=function(z){return new(z||U)};static#t=this.\u0275prov=b.Yz7({token:U,factory:function(z){let Te=null;return Te=z?new(z||U):b.LFG(jr),Te},providedIn:"root"})}return U})(),jr=(()=>{class U extends Wi{constructor(q){super(),this._doc=q}sanitize(q,z){if(null==z)return null;switch(q){case b.q3G.NONE:return z;case b.q3G.HTML:return(0,b.qzn)(z,"HTML")?(0,b.z3N)(z):(0,b.EiD)(this._doc,String(z)).toString();case b.q3G.STYLE:return(0,b.qzn)(z,"Style")?(0,b.z3N)(z):z;case b.q3G.SCRIPT:if((0,b.qzn)(z,"Script"))return(0,b.z3N)(z);throw new b.vHH(5200,!1);case b.q3G.URL:return(0,b.qzn)(z,"URL")?(0,b.z3N)(z):(0,b.mCW)(String(z));case b.q3G.RESOURCE_URL:if((0,b.qzn)(z,"ResourceURL"))return(0,b.z3N)(z);throw new b.vHH(5201,!1);default:throw new b.vHH(5202,!1)}}bypassSecurityTrustHtml(q){return(0,b.JVY)(q)}bypassSecurityTrustStyle(q){return(0,b.L6k)(q)}bypassSecurityTrustScript(q){return(0,b.eBb)(q)}bypassSecurityTrustUrl(q){return(0,b.LAX)(q)}bypassSecurityTrustResourceUrl(q){return(0,b.pB0)(q)}static#e=this.\u0275fac=function(z){return new(z||U)(b.LFG(X.K0))};static#t=this.\u0275prov=b.Yz7({token:U,factory:function(z){let Te=null;return Te=z?new z:function qr(U){return new jr(U.get(X.K0))}(b.LFG(b.zs3)),Te},providedIn:"root"})}return U})()},7158:(Ht,Ue,$)=>{"use strict";$.d(Ue,{gz:()=>as,m2:()=>Gr,F0:()=>Qr,rH:()=>ja,Bz:()=>Eo,lC:()=>xr});var b=$(9468),X=$(5592),u=$(4674),ce=$(2459),he=$(2096),we=$(5619),ke=$(7453),Ee=$(2737),re=$(7400),ue=$(9940),Ae=$(2714),Ce=$(8251),Me=$(7103);function qe(...S){const R=(0,ue.yG)(S),D=(0,ue.jO)(S),{args:k,keys:G}=(0,ke.D)(S);if(0===k.length)return(0,ce.D)([],R);const le=new X.y(function It(S,R,D=Ee.y){return k=>{xt(R,()=>{const{length:G}=S,le=new Array(G);let ve=G,Qe=G;for(let Ke=0;Ke<G;Ke++)xt(R,()=>{const Wt=(0,ce.D)(S[Ke],R);let er=!1;Wt.subscribe((0,Ce.x)(k,Hr=>{le[Ke]=Hr,er||(er=!0,Qe--),Qe||k.next(D(le.slice()))},()=>{--ve||k.complete()}))},k)},k)}}(k,R,G?ve=>(0,Ae.n)(G,ve):Ee.y));return D?le.pipe((0,re.Z)(D)):le}function xt(S,R,D){S?(0,Me.f)(D,S,R):R()}var Ct=$(6973),an=$(5211),Tt=$(4829);function st(S){return new X.y(R=>{(0,Tt.Xf)(S()).subscribe(R)})}var rt=$(8407);function yt(S,R){const D=(0,u.m)(S)?S:()=>S,k=G=>G.error(D());return new X.y(R?G=>R.schedule(k,0,G):k)}var We=$(6232),Oe=$(7394),_e=$(9360);function Le(){return(0,_e.e)((S,R)=>{let D=null;S._refCount++;const k=(0,Ce.x)(R,void 0,void 0,void 0,()=>{if(!S||S._refCount<=0||0<--S._refCount)return void(D=null);const G=S._connection,le=D;D=null,G&&(!le||G===le)&&G.unsubscribe(),R.unsubscribe()});S.subscribe(k),k.closed||(D=S.connect())})}class lt extends X.y{constructor(R,D){super(),this.source=R,this.subjectFactory=D,this._subject=null,this._refCount=0,this._connection=null,(0,_e.A)(R)&&(this.lift=R.lift)}_subscribe(R){return this.getSubject().subscribe(R)}getSubject(){const R=this._subject;return(!R||R.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:R}=this;this._subject=this._connection=null,R?.unsubscribe()}connect(){let R=this._connection;if(!R){R=this._connection=new Oe.w0;const D=this.getSubject();R.add(this.source.subscribe((0,Ce.x)(D,void 0,()=>{this._teardown(),D.complete()},k=>{this._teardown(),D.error(k)},()=>this._teardown()))),R.closed&&(this._connection=null,R=Oe.w0.EMPTY)}return R}refCount(){return Le()(this)}}var vn=$(8645),ut=$(6814),sn=$(7398),mn=$(4664),xn=$(8180),Yn=$(7921),tr=$(2181),Be=$(1631);function je(S){return(0,_e.e)((R,D)=>{let k=!1;R.subscribe((0,Ce.x)(D,G=>{k=!0,D.next(G)},()=>{k||D.next(S),D.complete()}))})}function Ze(S=He){return(0,_e.e)((R,D)=>{let k=!1;R.subscribe((0,Ce.x)(D,G=>{k=!0,D.next(G)},()=>k?D.complete():D.error(S())))})}function He(){return new Ct.K}function Ye(S,R){const D=arguments.length>=2;return k=>k.pipe(S?(0,tr.h)((G,le)=>S(G,le,k)):Ee.y,(0,xn.q)(1),D?je(R):Ze(()=>new Ct.K))}function gt(S,R){return(0,u.m)(R)?(0,Be.z)(S,R,1):(0,Be.z)(S,1)}var St=$(9397);function Lt(S){return(0,_e.e)((R,D)=>{let le,k=null,G=!1;k=R.subscribe((0,Ce.x)(D,void 0,void 0,ve=>{le=(0,Tt.Xf)(S(ve,Lt(S)(R))),k?(k.unsubscribe(),k=null,le.subscribe(D)):G=!0})),G&&(k.unsubscribe(),k=null,le.subscribe(D))})}var Xt=$(6699);function tn(S){return S<=0?()=>We.E:(0,_e.e)((R,D)=>{let k=[];R.subscribe((0,Ce.x)(D,G=>{k.push(G),S<k.length&&k.shift()},()=>{for(const G of k)D.next(G);D.complete()},void 0,()=>{k=null}))})}var pt=$(975);function bn(S){return(0,_e.e)((R,D)=>{try{R.subscribe(D)}finally{D.add(S)}})}var Jn=$(9773),cr=$(7537),xe=$(6593);const De="primary",Xe=Symbol("RouteTitle");class mt{constructor(R){this.params=R||{}}has(R){return Object.prototype.hasOwnProperty.call(this.params,R)}get(R){if(this.has(R)){const D=this.params[R];return Array.isArray(D)?D[0]:D}return null}getAll(R){if(this.has(R)){const D=this.params[R];return Array.isArray(D)?D:[D]}return[]}get keys(){return Object.keys(this.params)}}function bt(S){return new mt(S)}function kt(S,R,D){const k=D.path.split("/");if(k.length>S.length||"full"===D.pathMatch&&(R.hasChildren()||k.length<S.length))return null;const G={};for(let le=0;le<k.length;le++){const ve=k[le],Qe=S[le];if(ve.startsWith(":"))G[ve.substring(1)]=Qe;else if(ve!==Qe.path)return null}return{consumed:S.slice(0,k.length),posParams:G}}function _n(S,R){const D=S?Object.keys(S):void 0,k=R?Object.keys(R):void 0;if(!D||!k||D.length!=k.length)return!1;let G;for(let le=0;le<D.length;le++)if(G=D[le],!Sn(S[G],R[G]))return!1;return!0}function Sn(S,R){if(Array.isArray(S)&&Array.isArray(R)){if(S.length!==R.length)return!1;const D=[...S].sort(),k=[...R].sort();return D.every((G,le)=>k[le]===G)}return S===R}function en(S){return S.length>0?S[S.length-1]:null}function fn(S){return function ye(S){return!!S&&(S instanceof X.y||(0,u.m)(S.lift)&&(0,u.m)(S.subscribe))}(S)?S:(0,b.QGY)(S)?(0,ce.D)(Promise.resolve(S)):(0,he.of)(S)}const gr={exact:function wn(S,R,D){if(!jr(S.segments,R.segments)||!Vn(S.segments,R.segments,D)||S.numberOfChildren!==R.numberOfChildren)return!1;for(const k in R.children)if(!S.children[k]||!wn(S.children[k],R.children[k],D))return!1;return!0},subset:Wn},nn={exact:function Sr(S,R){return _n(S,R)},subset:function lr(S,R){return Object.keys(R).length<=Object.keys(S).length&&Object.keys(R).every(D=>Sn(S[D],R[D]))},ignored:()=>!0};function Cr(S,R,D){return gr[D.paths](S.root,R.root,D.matrixParams)&&nn[D.queryParams](S.queryParams,R.queryParams)&&!("exact"===D.fragment&&S.fragment!==R.fragment)}function Wn(S,R,D){return sr(S,R,R.segments,D)}function sr(S,R,D,k){if(S.segments.length>D.length){const G=S.segments.slice(0,D.length);return!(!jr(G,D)||R.hasChildren()||!Vn(G,D,k))}if(S.segments.length===D.length){if(!jr(S.segments,D)||!Vn(S.segments,D,k))return!1;for(const G in R.children)if(!S.children[G]||!Wn(S.children[G],R.children[G],k))return!1;return!0}{const G=D.slice(0,S.segments.length),le=D.slice(S.segments.length);return!!(jr(S.segments,G)&&Vn(S.segments,G,k)&&S.children[De])&&sr(S.children[De],R,le,k)}}function Vn(S,R,D){return R.every((k,G)=>nn[D](S[G].parameters,k.parameters))}class ei{constructor(R=new qt([],{}),D={},k=null){this.root=R,this.queryParams=D,this.fragment=k}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bt(this.queryParams)),this._queryParamMap}toString(){return At.serialize(this)}}class qt{constructor(R,D){this.segments=R,this.children=D,this.parent=null,Object.values(D).forEach(k=>k.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return zt(this)}}class Wi{constructor(R,D){this.path=R,this.parameters=D}get parameterMap(){return this._parameterMap||(this._parameterMap=bt(this.parameters)),this._parameterMap}toString(){return Te(this)}}function jr(S,R){return S.length===R.length&&S.every((D,k)=>D.path===R[k].path)}let Ne=(()=>{class S{static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275prov=b.Yz7({token:S,factory:function(){return new nt},providedIn:"root"})}return S})();class nt{parse(R){const D=new Po(R);return new ei(D.parseRootSegment(),D.parseQueryParams(),D.parseFragment())}serialize(R){const D=`/${Zt(R.root,!0)}`,k=function Dt(S){const R=Object.keys(S).map(D=>{const k=S[D];return Array.isArray(k)?k.map(G=>`${J(D)}=${J(G)}`).join("&"):`${J(D)}=${J(k)}`}).filter(D=>!!D);return R.length?`?${R.join("&")}`:""}(R.queryParams);return`${D}${k}${"string"==typeof R.fragment?`#${function U(S){return encodeURI(S)}(R.fragment)}`:""}`}}const At=new nt;function zt(S){return S.segments.map(R=>Te(R)).join("/")}function Zt(S,R){if(!S.hasChildren())return zt(S);if(R){const D=S.children[De]?Zt(S.children[De],!1):"",k=[];return Object.entries(S.children).forEach(([G,le])=>{G!==De&&k.push(`${G}:${Zt(le,!1)}`)}),k.length>0?`${D}(${k.join("//")})`:D}{const D=function at(S,R){let D=[];return Object.entries(S.children).forEach(([k,G])=>{k===De&&(D=D.concat(R(G,k)))}),Object.entries(S.children).forEach(([k,G])=>{k!==De&&(D=D.concat(R(G,k)))}),D}(S,(k,G)=>G===De?[Zt(S.children[De],!1)]:[`${G}:${Zt(k,!1)}`]);return 1===Object.keys(S.children).length&&null!=S.children[De]?`${zt(S)}/${D[0]}`:`${zt(S)}/(${D.join("//")})`}}function qn(S){return encodeURIComponent(S).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function J(S){return qn(S).replace(/%3B/gi,";")}function j(S){return qn(S).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function q(S){return decodeURIComponent(S)}function z(S){return q(S.replace(/\+/g,"%20"))}function Te(S){return`${j(S.path)}${function Je(S){return Object.keys(S).map(R=>`;${j(R)}=${j(S[R])}`).join("")}(S.parameters)}`}const un=/^[^\/()?;#]+/;function dn(S){const R=S.match(un);return R?R[0]:""}const Bn=/^[^\/()?;=#]+/,Un=/^[^=?&#]+/,nr=/^[^&#]+/;class Po{constructor(R){this.url=R,this.remaining=R}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new qt([],{}):new qt([],this.parseChildren())}parseQueryParams(){const R={};if(this.consumeOptional("?"))do{this.parseQueryParam(R)}while(this.consumeOptional("&"));return R}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const R=[];for(this.peekStartsWith("(")||R.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),R.push(this.parseSegment());let D={};this.peekStartsWith("/(")&&(this.capture("/"),D=this.parseParens(!0));let k={};return this.peekStartsWith("(")&&(k=this.parseParens(!1)),(R.length>0||Object.keys(D).length>0)&&(k[De]=new qt(R,D)),k}parseSegment(){const R=dn(this.remaining);if(""===R&&this.peekStartsWith(";"))throw new b.vHH(4009,!1);return this.capture(R),new Wi(q(R),this.parseMatrixParams())}parseMatrixParams(){const R={};for(;this.consumeOptional(";");)this.parseParam(R);return R}parseParam(R){const D=function Yt(S){const R=S.match(Bn);return R?R[0]:""}(this.remaining);if(!D)return;this.capture(D);let k="";if(this.consumeOptional("=")){const G=dn(this.remaining);G&&(k=G,this.capture(k))}R[q(D)]=q(k)}parseQueryParam(R){const D=function Zr(S){const R=S.match(Un);return R?R[0]:""}(this.remaining);if(!D)return;this.capture(D);let k="";if(this.consumeOptional("=")){const ve=function hs(S){const R=S.match(nr);return R?R[0]:""}(this.remaining);ve&&(k=ve,this.capture(k))}const G=z(D),le=z(k);if(R.hasOwnProperty(G)){let ve=R[G];Array.isArray(ve)||(ve=[ve],R[G]=ve),ve.push(le)}else R[G]=le}parseParens(R){const D={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const k=dn(this.remaining),G=this.remaining[k.length];if("/"!==G&&")"!==G&&";"!==G)throw new b.vHH(4010,!1);let le;k.indexOf(":")>-1?(le=k.slice(0,k.indexOf(":")),this.capture(le),this.capture(":")):R&&(le=De);const ve=this.parseChildren();D[le]=1===Object.keys(ve).length?ve[De]:new qt([],ve),this.consumeOptional("//")}return D}peekStartsWith(R){return this.remaining.startsWith(R)}consumeOptional(R){return!!this.peekStartsWith(R)&&(this.remaining=this.remaining.substring(R.length),!0)}capture(R){if(!this.consumeOptional(R))throw new b.vHH(4011,!1)}}function is(S){return S.segments.length>0?new qt([],{[De]:S}):S}function ss(S){const R={};for(const k of Object.keys(S.children)){const le=ss(S.children[k]);if(k===De&&0===le.segments.length&&le.hasChildren())for(const[ve,Qe]of Object.entries(le.children))R[ve]=Qe;else(le.segments.length>0||le.hasChildren())&&(R[k]=le)}return function ka(S){if(1===S.numberOfChildren&&S.children[De]){const R=S.children[De];return new qt(S.segments.concat(R.segments),R.children)}return S}(new qt(S.segments,R))}function ks(S){return S instanceof ei}function lo(S){let R;const G=is(function D(le){const ve={};for(const Ke of le.children){const Wt=D(Ke);ve[Ke.outlet]=Wt}const Qe=new qt(le.url,ve);return le===S&&(R=Qe),Qe}(S.root));return R??G}function Ui(S,R,D,k){let G=S;for(;G.parent;)G=G.parent;if(0===R.length)return uo(G,G,G,D,k);const le=function Fa(S){if("string"==typeof S[0]&&1===S.length&&"/"===S[0])return new Xo(!0,0,S);let R=0,D=!1;const k=S.reduce((G,le,ve)=>{if("object"==typeof le&&null!=le){if(le.outlets){const Qe={};return Object.entries(le.outlets).forEach(([Ke,Wt])=>{Qe[Ke]="string"==typeof Wt?Wt.split("/"):Wt}),[...G,{outlets:Qe}]}if(le.segmentPath)return[...G,le.segmentPath]}return"string"!=typeof le?[...G,le]:0===ve?(le.split("/").forEach((Qe,Ke)=>{0==Ke&&"."===Qe||(0==Ke&&""===Qe?D=!0:".."===Qe?R++:""!=Qe&&G.push(Qe))}),G):[...G,le]},[]);return new Xo(D,R,k)}(R);if(le.toRoot())return uo(G,G,new qt([],{}),D,k);const ve=function ba(S,R,D){if(S.isAbsolute)return new fs(R,!0,0);if(!D)return new fs(R,!1,NaN);if(null===D.parent)return new fs(D,!0,0);const k=Vi(S.commands[0])?0:1;return function Kr(S,R,D){let k=S,G=R,le=D;for(;le>G;){if(le-=G,k=k.parent,!k)throw new b.vHH(4005,!1);G=k.segments.length}return new fs(k,!1,G-le)}(D,D.segments.length-1+k,S.numberOfDoubleDots)}(le,G,S),Qe=ve.processChildren?ea(ve.segmentGroup,ve.index,le.commands):gi(ve.segmentGroup,ve.index,le.commands);return uo(G,ve.segmentGroup,Qe,D,k)}function Vi(S){return"object"==typeof S&&null!=S&&!S.outlets&&!S.segmentPath}function ir(S){return"object"==typeof S&&null!=S&&S.outlets}function uo(S,R,D,k,G){let ve,le={};k&&Object.entries(k).forEach(([Ke,Wt])=>{le[Ke]=Array.isArray(Wt)?Wt.map(er=>`${er}`):`${Wt}`}),ve=S===R?D:Qo(S,R,D);const Qe=is(ss(ve));return new ei(Qe,le,G)}function Qo(S,R,D){const k={};return Object.entries(S.children).forEach(([G,le])=>{k[G]=le===R?D:Qo(le,R,D)}),new qt(S.segments,k)}class Xo{constructor(R,D,k){if(this.isAbsolute=R,this.numberOfDoubleDots=D,this.commands=k,R&&k.length>0&&Vi(k[0]))throw new b.vHH(4003,!1);const G=k.find(ir);if(G&&G!==en(k))throw new b.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class fs{constructor(R,D,k){this.segmentGroup=R,this.processChildren=D,this.index=k}}function gi(S,R,D){if(S||(S=new qt([],{})),0===S.segments.length&&S.hasChildren())return ea(S,R,D);const k=function ho(S,R,D){let k=0,G=R;const le={match:!1,pathIndex:0,commandIndex:0};for(;G<S.segments.length;){if(k>=D.length)return le;const ve=S.segments[G],Qe=D[k];if(ir(Qe))break;const Ke=`${Qe}`,Wt=k<D.length-1?D[k+1]:null;if(G>0&&void 0===Ke)break;if(Ke&&Wt&&"object"==typeof Wt&&void 0===Wt.outlets){if(!Ls(Ke,Wt,ve))return le;k+=2}else{if(!Ls(Ke,{},ve))return le;k++}G++}return{match:!0,pathIndex:G,commandIndex:k}}(S,R,D),G=D.slice(k.commandIndex);if(k.match&&k.pathIndex<S.segments.length){const le=new qt(S.segments.slice(0,k.pathIndex),{});return le.children[De]=new qt(S.segments.slice(k.pathIndex),S.children),ea(le,0,G)}return k.match&&0===G.length?new qt(S.segments,{}):k.match&&!S.hasChildren()?wa(S,R,D):k.match?ea(S,0,G):wa(S,R,D)}function ea(S,R,D){if(0===D.length)return new qt(S.segments,{});{const k=function Fs(S){return ir(S[0])?S[0].outlets:{[De]:S}}(D),G={};if(Object.keys(k).some(le=>le!==De)&&S.children[De]&&1===S.numberOfChildren&&0===S.children[De].segments.length){const le=ea(S.children[De],R,D);return new qt(S.segments,le.children)}return Object.entries(k).forEach(([le,ve])=>{"string"==typeof ve&&(ve=[ve]),null!==ve&&(G[le]=gi(S.children[le],R,ve))}),Object.entries(S.children).forEach(([le,ve])=>{void 0===k[le]&&(G[le]=ve)}),new qt(S.segments,G)}}function wa(S,R,D){const k=S.segments.slice(0,R);let G=0;for(;G<D.length;){const le=D[G];if(ir(le)){const Ke=mi(le.outlets);return new qt(k,Ke)}if(0===G&&Vi(D[0])){k.push(new Wi(S.segments[R].path,Ia(D[0]))),G++;continue}const ve=ir(le)?le.outlets[De]:`${le}`,Qe=G<D.length-1?D[G+1]:null;ve&&Qe&&Vi(Qe)?(k.push(new Wi(ve,Ia(Qe))),G+=2):(k.push(new Wi(ve,{})),G++)}return new qt(k,{})}function mi(S){const R={};return Object.entries(S).forEach(([D,k])=>{"string"==typeof k&&(k=[k]),null!==k&&(R[D]=wa(new qt([],{}),0,k))}),R}function Ia(S){const R={};return Object.entries(S).forEach(([D,k])=>R[D]=`${k}`),R}function Ls(S,R,D){return S==D.path&&_n(R,D.parameters)}const fo="imperative";class Bs{constructor(R,D){this.id=R,this.url=D}}class Ea extends Bs{constructor(R,D,k="imperative",G=null){super(R,D),this.type=0,this.navigationTrigger=k,this.restoredState=G}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Gr extends Bs{constructor(R,D,k){super(R,D),this.urlAfterRedirects=k,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ta extends Bs{constructor(R,D,k,G){super(R,D),this.reason=k,this.code=G,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ps extends Bs{constructor(R,D,k,G){super(R,D),this.reason=k,this.code=G,this.type=16}}class po extends Bs{constructor(R,D,k,G){super(R,D),this.error=k,this.target=G,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class $l extends Bs{constructor(R,D,k,G){super(R,D),this.urlAfterRedirects=k,this.state=G,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class os extends Bs{constructor(R,D,k,G){super(R,D),this.urlAfterRedirects=k,this.state=G,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zl extends Bs{constructor(R,D,k,G,le){super(R,D),this.urlAfterRedirects=k,this.state=G,this.shouldActivate=le,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class qi extends Bs{constructor(R,D,k,G){super(R,D),this.urlAfterRedirects=k,this.state=G,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ul extends Bs{constructor(R,D,k,G){super(R,D),this.urlAfterRedirects=k,this.state=G,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gs{constructor(R){this.route=R,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class rc{constructor(R){this.route=R,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Yr{constructor(R){this.snapshot=R,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qs{constructor(R){this.snapshot=R,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ko{constructor(R){this.snapshot=R,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dl{constructor(R){this.snapshot=R,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hi{constructor(R,D,k){this.routerEvent=R,this.position=D,this.anchor=k,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class na{}class ra{constructor(R){this.url=R}}class Fo{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new An,this.attachRef=null}}let An=(()=>{class S{constructor(){this.contexts=new Map}onChildOutletCreated(D,k){const G=this.getOrCreateContext(D);G.outlet=k,this.contexts.set(D,G)}onChildOutletDestroyed(D){const k=this.getContext(D);k&&(k.outlet=null,k.attachRef=null)}onOutletDeactivated(){const D=this.contexts;return this.contexts=new Map,D}onOutletReAttached(D){this.contexts=D}getOrCreateContext(D){let k=this.getContext(D);return k||(k=new Fo,this.contexts.set(D,k)),k}getContext(D){return this.contexts.get(D)||null}static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275prov=b.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();class ti{constructor(R){this._root=R}get root(){return this._root.value}parent(R){const D=this.pathFromRoot(R);return D.length>1?D[D.length-2]:null}children(R){const D=Si(R,this._root);return D?D.children.map(k=>k.value):[]}firstChild(R){const D=Si(R,this._root);return D&&D.children.length>0?D.children[0].value:null}siblings(R){const D=ms(R,this._root);return D.length<2?[]:D[D.length-2].children.map(G=>G.value).filter(G=>G!==R)}pathFromRoot(R){return ms(R,this._root).map(D=>D.value)}}function Si(S,R){if(S===R.value)return R;for(const D of R.children){const k=Si(S,D);if(k)return k}return null}function ms(S,R){if(S===R.value)return[R];for(const D of R.children){const k=ms(S,D);if(k.length)return k.unshift(R),k}return[]}class Ur{constructor(R,D){this.value=R,this.children=D}toString(){return`TreeNode(${this.value})`}}function _s(S){const R={};return S&&S.children.forEach(D=>R[D.value.outlet]=D),R}class Ba extends ti{constructor(R,D){super(R),this.snapshot=D,yi(this,R)}toString(){return this.snapshot.toString()}}function _i(S,R){const D=function ic(S,R){const ve=new kn([],{},{},"",{},De,R,null,{});return new Vr("",new Ur(ve,[]))}(0,R),k=new we.X([new Wi("",{})]),G=new we.X({}),le=new we.X({}),ve=new we.X({}),Qe=new we.X(""),Ke=new as(k,G,ve,Qe,le,De,R,D.root);return Ke.snapshot=D.root,new Ba(new Ur(Ke,[]),D)}class as{constructor(R,D,k,G,le,ve,Qe,Ke){this.urlSubject=R,this.paramsSubject=D,this.queryParamsSubject=k,this.fragmentSubject=G,this.dataSubject=le,this.outlet=ve,this.component=Qe,this._futureSnapshot=Ke,this.title=this.dataSubject?.pipe((0,sn.U)(Wt=>Wt[Xe]))??(0,he.of)(void 0),this.url=R,this.params=D,this.queryParams=k,this.fragment=G,this.data=le}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,sn.U)(R=>bt(R)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,sn.U)(R=>bt(R)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ar(S,R="emptyOnly"){const D=S.pathFromRoot;let k=0;if("always"!==R)for(k=D.length-1;k>=1;){const G=D[k],le=D[k-1];if(G.routeConfig&&""===G.routeConfig.path)k--;else{if(le.component)break;k--}}return function Vt(S){return S.reduce((R,D)=>({params:{...R.params,...D.params},data:{...R.data,...D.data},resolve:{...D.data,...R.resolve,...D.routeConfig?.data,...D._resolvedData}}),{params:{},data:{},resolve:{}})}(D.slice(k))}class kn{get title(){return this.data?.[Xe]}constructor(R,D,k,G,le,ve,Qe,Ke,Wt){this.url=R,this.params=D,this.queryParams=k,this.fragment=G,this.data=le,this.outlet=ve,this.component=Qe,this.routeConfig=Ke,this._resolve=Wt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=bt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(k=>k.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Vr extends ti{constructor(R,D){super(D),this.url=R,yi(this,D)}toString(){return go(this._root)}}function yi(S,R){R.value._routerState=S,R.children.forEach(D=>yi(S,D))}function go(S){const R=S.children.length>0?` { ${S.children.map(go).join(", ")} } `:"";return`${S.value}${R}`}function $r(S){if(S.snapshot){const R=S.snapshot,D=S._futureSnapshot;S.snapshot=D,_n(R.queryParams,D.queryParams)||S.queryParamsSubject.next(D.queryParams),R.fragment!==D.fragment&&S.fragmentSubject.next(D.fragment),_n(R.params,D.params)||S.paramsSubject.next(D.params),function br(S,R){if(S.length!==R.length)return!1;for(let D=0;D<S.length;++D)if(!_n(S[D],R[D]))return!1;return!0}(R.url,D.url)||S.urlSubject.next(D.url),_n(R.data,D.data)||S.dataSubject.next(D.data)}else S.snapshot=S._futureSnapshot,S.dataSubject.next(S._futureSnapshot.data)}function Ai(S,R){const D=_n(S.params,R.params)&&function qr(S,R){return jr(S,R)&&S.every((D,k)=>_n(D.parameters,R[k].parameters))}(S.url,R.url);return D&&!(!S.parent!=!R.parent)&&(!S.parent||Ai(S.parent,R.parent))}let xr=(()=>{class S{constructor(){this.activated=null,this._activatedRoute=null,this.name=De,this.activateEvents=new b.vpe,this.deactivateEvents=new b.vpe,this.attachEvents=new b.vpe,this.detachEvents=new b.vpe,this.parentContexts=(0,b.f3M)(An),this.location=(0,b.f3M)(b.s_b),this.changeDetector=(0,b.f3M)(b.sBO),this.environmentInjector=(0,b.f3M)(b.lqb),this.inputBinder=(0,b.f3M)(Jr,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(D){if(D.name){const{firstChange:k,previousValue:G}=D.name;if(k)return;this.isTrackedInParentContexts(G)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(G)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(D){return this.parentContexts.getContext(D)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const D=this.parentContexts.getContext(this.name);D?.route&&(D.attachRef?this.attach(D.attachRef,D.route):this.activateWith(D.route,D.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new b.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new b.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new b.vHH(4012,!1);this.location.detach();const D=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(D.instance),D}attach(D,k){this.activated=D,this._activatedRoute=k,this.location.insert(D.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(D.instance)}deactivate(){if(this.activated){const D=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(D)}}activateWith(D,k){if(this.isActivated)throw new b.vHH(4013,!1);this._activatedRoute=D;const G=this.location,ve=D.snapshot.component,Qe=this.parentContexts.getOrCreateContext(this.name).children,Ke=new Qn(D,Qe,G.injector);this.activated=G.createComponent(ve,{index:G.length,injector:Ke,environmentInjector:k??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275dir=b.lG2({type:S,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[b.TTD]})}return S})();class Qn{constructor(R,D,k){this.route=R,this.childContexts=D,this.parent=k}get(R,D){return R===as?this.route:R===An?this.childContexts:this.parent.get(R,D)}}const Jr=new b.OlP("");let Dn=(()=>{class S{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(D){this.unsubscribeFromRouteData(D),this.subscribeToRouteData(D)}unsubscribeFromRouteData(D){this.outletDataSubscriptions.get(D)?.unsubscribe(),this.outletDataSubscriptions.delete(D)}subscribeToRouteData(D){const{activatedRoute:k}=D,G=qe([k.queryParams,k.params,k.data]).pipe((0,mn.w)(([le,ve,Qe],Ke)=>(Qe={...le,...ve,...Qe},0===Ke?(0,he.of)(Qe):Promise.resolve(Qe)))).subscribe(le=>{if(!D.isActivated||!D.activatedComponentRef||D.activatedRoute!==k||null===k.component)return void this.unsubscribeFromRouteData(D);const ve=(0,b.qFp)(k.component);if(ve)for(const{templateName:Qe}of ve.inputs)D.activatedComponentRef.setInput(Qe,le[Qe]);else this.unsubscribeFromRouteData(D)});this.outletDataSubscriptions.set(D,G)}static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275prov=b.Yz7({token:S,factory:S.\u0275fac})}return S})();function _o(S,R,D){if(D&&S.shouldReuseRoute(R.value,D.value.snapshot)){const k=D.value;k._futureSnapshot=R.value;const G=function Lo(S,R,D){return R.children.map(k=>{for(const G of D.children)if(S.shouldReuseRoute(k.value,G.value.snapshot))return _o(S,k,G);return _o(S,k)})}(S,R,D);return new Ur(k,G)}{if(S.shouldAttach(R.value)){const le=S.retrieve(R.value);if(null!==le){const ve=le.route;return ve.value._futureSnapshot=R.value,ve.children=R.children.map(Qe=>_o(S,Qe)),ve}}const k=function zr(S){return new as(new we.X(S.url),new we.X(S.params),new we.X(S.queryParams),new we.X(S.fragment),new we.X(S.data),S.outlet,S.component,S)}(R.value),G=R.children.map(le=>_o(S,le));return new Ur(k,G)}}const vi="ngNavigationCancelingError";function Xs(S,R){const{redirectTo:D,navigationBehaviorOptions:k}=ks(R)?{redirectTo:R,navigationBehaviorOptions:void 0}:R,G=si(!1,0,R);return G.url=D,G.navigationBehaviorOptions=k,G}function si(S,R,D){const k=new Error("NavigationCancelingError: "+(S||""));return k[vi]=!0,k.cancellationCode=R,D&&(k.url=D),k}function Tc(S){return S&&S[vi]}let eo=(()=>{class S{static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275cmp=b.Xpm({type:S,selectors:[["ng-component"]],standalone:!0,features:[b.jDz],decls:1,vars:0,template:function(k,G){1&k&&b._UZ(0,"router-outlet")},dependencies:[xr],encapsulation:2})}return S})();function Ua(S){const R=S.children&&S.children.map(Ua),D=R?{...S,children:R}:{...S};return!D.component&&!D.loadComponent&&(R||D.loadChildren)&&D.outlet&&D.outlet!==De&&(D.component=eo),D}function ji(S){return S.outlet||De}function Is(S){if(!S)return null;if(S.routeConfig?._injector)return S.routeConfig._injector;for(let R=S.parent;R;R=R.parent){const D=R.routeConfig;if(D?._loadedInjector)return D._loadedInjector;if(D?._injector)return D._injector}return null}class Hs{constructor(R,D,k,G,le){this.routeReuseStrategy=R,this.futureState=D,this.currState=k,this.forwardEvent=G,this.inputBindingEnabled=le}activate(R){const D=this.futureState._root,k=this.currState?this.currState._root:null;this.deactivateChildRoutes(D,k,R),$r(this.futureState.root),this.activateChildRoutes(D,k,R)}deactivateChildRoutes(R,D,k){const G=_s(D);R.children.forEach(le=>{const ve=le.value.outlet;this.deactivateRoutes(le,G[ve],k),delete G[ve]}),Object.values(G).forEach(le=>{this.deactivateRouteAndItsChildren(le,k)})}deactivateRoutes(R,D,k){const G=R.value,le=D?D.value:null;if(G===le)if(G.component){const ve=k.getContext(G.outlet);ve&&this.deactivateChildRoutes(R,D,ve.children)}else this.deactivateChildRoutes(R,D,k);else le&&this.deactivateRouteAndItsChildren(D,k)}deactivateRouteAndItsChildren(R,D){R.value.component&&this.routeReuseStrategy.shouldDetach(R.value.snapshot)?this.detachAndStoreRouteSubtree(R,D):this.deactivateRouteAndOutlet(R,D)}detachAndStoreRouteSubtree(R,D){const k=D.getContext(R.value.outlet),G=k&&R.value.component?k.children:D,le=_s(R);for(const ve of Object.keys(le))this.deactivateRouteAndItsChildren(le[ve],G);if(k&&k.outlet){const ve=k.outlet.detach(),Qe=k.children.onOutletDeactivated();this.routeReuseStrategy.store(R.value.snapshot,{componentRef:ve,route:R,contexts:Qe})}}deactivateRouteAndOutlet(R,D){const k=D.getContext(R.value.outlet),G=k&&R.value.component?k.children:D,le=_s(R);for(const ve of Object.keys(le))this.deactivateRouteAndItsChildren(le[ve],G);k&&(k.outlet&&(k.outlet.deactivate(),k.children.onOutletDeactivated()),k.attachRef=null,k.route=null)}activateChildRoutes(R,D,k){const G=_s(D);R.children.forEach(le=>{this.activateRoutes(le,G[le.value.outlet],k),this.forwardEvent(new dl(le.value.snapshot))}),R.children.length&&this.forwardEvent(new Qs(R.value.snapshot))}activateRoutes(R,D,k){const G=R.value,le=D?D.value:null;if($r(G),G===le)if(G.component){const ve=k.getOrCreateContext(G.outlet);this.activateChildRoutes(R,D,ve.children)}else this.activateChildRoutes(R,D,k);else if(G.component){const ve=k.getOrCreateContext(G.outlet);if(this.routeReuseStrategy.shouldAttach(G.snapshot)){const Qe=this.routeReuseStrategy.retrieve(G.snapshot);this.routeReuseStrategy.store(G.snapshot,null),ve.children.onOutletReAttached(Qe.contexts),ve.attachRef=Qe.componentRef,ve.route=Qe.route.value,ve.outlet&&ve.outlet.attach(Qe.componentRef,Qe.route.value),$r(Qe.route.value),this.activateChildRoutes(R,null,ve.children)}else{const Qe=Is(G.snapshot);ve.attachRef=null,ve.route=G,ve.injector=Qe,ve.outlet&&ve.outlet.activateWith(G,ve.injector),this.activateChildRoutes(R,null,ve.children)}}else this.activateChildRoutes(R,null,k)}}class ys{constructor(R){this.path=R,this.route=this.path[this.path.length-1]}}class vo{constructor(R,D){this.component=R,this.route=D}}function Ni(S,R,D){const k=S._root;return Vo(k,R?R._root:null,D,[k.value])}function to(S,R){const D=Symbol(),k=R.get(S,D);return k===D?"function"!=typeof S||(0,b.Z0I)(S)?R.get(S):S:k}function Vo(S,R,D,k,G={canDeactivateChecks:[],canActivateChecks:[]}){const le=_s(R);return S.children.forEach(ve=>{(function Dc(S,R,D,k,G={canDeactivateChecks:[],canActivateChecks:[]}){const le=S.value,ve=R?R.value:null,Qe=D?D.getContext(S.value.outlet):null;if(ve&&le.routeConfig===ve.routeConfig){const Ke=function sc(S,R,D){if("function"==typeof D)return D(S,R);switch(D){case"pathParamsChange":return!jr(S.url,R.url);case"pathParamsOrQueryParamsChange":return!jr(S.url,R.url)||!_n(S.queryParams,R.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ai(S,R)||!_n(S.queryParams,R.queryParams);default:return!Ai(S,R)}}(ve,le,le.routeConfig.runGuardsAndResolvers);Ke?G.canActivateChecks.push(new ys(k)):(le.data=ve.data,le._resolvedData=ve._resolvedData),Vo(S,R,le.component?Qe?Qe.children:null:D,k,G),Ke&&Qe&&Qe.outlet&&Qe.outlet.isActivated&&G.canDeactivateChecks.push(new vo(Qe.outlet.component,ve))}else ve&&Rr(R,Qe,G),G.canActivateChecks.push(new ys(k)),Vo(S,null,le.component?Qe?Qe.children:null:D,k,G)})(ve,le[ve.value.outlet],D,k.concat([ve.value]),G),delete le[ve.value.outlet]}),Object.entries(le).forEach(([ve,Qe])=>Rr(Qe,D.getContext(ve),G)),G}function Rr(S,R,D){const k=_s(S),G=S.value;Object.entries(k).forEach(([le,ve])=>{Rr(ve,G.component?R?R.children.getContext(le):null:R,D)}),D.canDeactivateChecks.push(new vo(G.component&&R&&R.outlet&&R.outlet.isActivated?R.outlet.component:null,G))}function ia(S){return"function"==typeof S}function Ki(S){return S instanceof Ct.K||"EmptyError"===S?.name}const Es=Symbol("INITIAL_VALUE");function xi(){return(0,mn.w)(S=>qe(S.map(R=>R.pipe((0,xn.q)(1),(0,Yn.O)(Es)))).pipe((0,sn.U)(R=>{for(const D of R)if(!0!==D){if(D===Es)return Es;if(!1===D||D instanceof ei)return D}return!0}),(0,tr.h)(R=>R!==Es),(0,xn.q)(1)))}function di(S){return(0,rt.z)((0,St.b)(R=>{if(ks(R))throw Xs(0,R)}),(0,sn.U)(R=>!0===R))}class Ri{constructor(R){this.segmentGroup=R||null}}class bo{constructor(R){this.urlTree=R}}function Ha(S){return yt(new Ri(S))}function Gi(S){return yt(new bo(S))}class Uh{constructor(R,D){this.urlSerializer=R,this.urlTree=D}noMatchError(R){return new b.vHH(4002,!1)}lineralizeSegments(R,D){let k=[],G=D.root;for(;;){if(k=k.concat(G.segments),0===G.numberOfChildren)return(0,he.of)(k);if(G.numberOfChildren>1||!G.children[De])return yt(new b.vHH(4e3,!1));G=G.children[De]}}applyRedirectCommands(R,D,k){return this.applyRedirectCreateUrlTree(D,this.urlSerializer.parse(D),R,k)}applyRedirectCreateUrlTree(R,D,k,G){const le=this.createSegmentGroup(R,D.root,k,G);return new ei(le,this.createQueryParams(D.queryParams,this.urlTree.queryParams),D.fragment)}createQueryParams(R,D){const k={};return Object.entries(R).forEach(([G,le])=>{if("string"==typeof le&&le.startsWith(":")){const Qe=le.substring(1);k[G]=D[Qe]}else k[G]=le}),k}createSegmentGroup(R,D,k,G){const le=this.createSegments(R,D.segments,k,G);let ve={};return Object.entries(D.children).forEach(([Qe,Ke])=>{ve[Qe]=this.createSegmentGroup(R,Ke,k,G)}),new qt(le,ve)}createSegments(R,D,k,G){return D.map(le=>le.path.startsWith(":")?this.findPosParam(R,le,G):this.findOrReturn(le,k))}findPosParam(R,D,k){const G=k[D.path.substring(1)];if(!G)throw new b.vHH(4001,!1);return G}findOrReturn(R,D){let k=0;for(const G of D){if(G.path===R.path)return D.splice(k),G;k++}return R}}const no={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function fl(S,R,D,k,G){const le=$s(S,R,D);return le.matched?(k=function Zi(S,R){return S.providers&&!S._injector&&(S._injector=(0,b.MMx)(S.providers,R,`Route: ${S.path}`)),S._injector??R}(R,k),function Ca(S,R,D,k){const G=R.canMatch;if(!G||0===G.length)return(0,he.of)(!0);const le=G.map(ve=>{const Qe=to(ve,S);return fn(function Se(S){return S&&ia(S.canMatch)}(Qe)?Qe.canMatch(R,D):S.runInContext(()=>Qe(R,D)))});return(0,he.of)(le).pipe(xi(),di())}(k,R,D).pipe((0,sn.U)(ve=>!0===ve?le:{...no}))):(0,he.of)(le)}function $s(S,R,D){if(""===R.path)return"full"===R.pathMatch&&(S.hasChildren()||D.length>0)?{...no}:{matched:!0,consumedSegments:[],remainingSegments:D,parameters:{},positionalParamSegments:{}};const G=(R.matcher||kt)(D,S,R);if(!G)return{...no};const le={};Object.entries(G.posParams??{}).forEach(([Qe,Ke])=>{le[Qe]=Ke.path});const ve=G.consumed.length>0?{...le,...G.consumed[G.consumed.length-1].parameters}:le;return{matched:!0,consumedSegments:G.consumed,remainingSegments:D.slice(G.consumed.length),parameters:ve,positionalParamSegments:G.posParams??{}}}function ro(S,R,D,k){return D.length>0&&function hi(S,R,D){return D.some(k=>$i(S,R,k)&&ji(k)!==De)}(S,D,k)?{segmentGroup:new qt(R,Sc(k,new qt(D,S.children))),slicedSegments:[]}:0===D.length&&function Ts(S,R,D){return D.some(k=>$i(S,R,k))}(S,D,k)?{segmentGroup:new qt(S.segments,Sa(S,0,D,k,S.children)),slicedSegments:D}:{segmentGroup:new qt(S.segments,S.children),slicedSegments:D}}function Sa(S,R,D,k,G){const le={};for(const ve of k)if($i(S,D,ve)&&!G[ji(ve)]){const Qe=new qt([],{});le[ji(ve)]=Qe}return{...G,...le}}function Sc(S,R){const D={};D[De]=R;for(const k of S)if(""===k.path&&ji(k)!==De){const G=new qt([],{});D[ji(k)]=G}return D}function $i(S,R,D){return(!(S.hasChildren()||R.length>0)||"full"!==D.pathMatch)&&""===D.path}class oa{constructor(R,D,k,G,le,ve,Qe){this.injector=R,this.configLoader=D,this.rootComponentType=k,this.config=G,this.urlTree=le,this.paramsInheritanceStrategy=ve,this.urlSerializer=Qe,this.allowRedirects=!0,this.applyRedirects=new Uh(this.urlSerializer,this.urlTree)}noMatchError(R){return new b.vHH(4002,!1)}recognize(){const R=ro(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,R,De).pipe(Lt(D=>{if(D instanceof bo)return this.allowRedirects=!1,this.urlTree=D.urlTree,this.match(D.urlTree);throw D instanceof Ri?this.noMatchError(D):D}),(0,sn.U)(D=>{const k=new kn([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},De,this.rootComponentType,null,{}),G=new Ur(k,D),le=new Vr("",G),ve=function Bi(S,R,D=null,k=null){return Ui(lo(S),R,D,k)}(k,[],this.urlTree.queryParams,this.urlTree.fragment);return ve.queryParams=this.urlTree.queryParams,le.url=this.urlSerializer.serialize(ve),this.inheritParamsAndData(le._root),{state:le,tree:ve}}))}match(R){return this.processSegmentGroup(this.injector,this.config,R.root,De).pipe(Lt(k=>{throw k instanceof Ri?this.noMatchError(k):k}))}inheritParamsAndData(R){const D=R.value,k=Ar(D,this.paramsInheritanceStrategy);D.params=Object.freeze(k.params),D.data=Object.freeze(k.data),R.children.forEach(G=>this.inheritParamsAndData(G))}processSegmentGroup(R,D,k,G){return 0===k.segments.length&&k.hasChildren()?this.processChildren(R,D,k):this.processSegment(R,D,k,k.segments,G,!0)}processChildren(R,D,k){const G=[];for(const le of Object.keys(k.children))"primary"===le?G.unshift(le):G.push(le);return(0,ce.D)(G).pipe(gt(le=>{const ve=k.children[le],Qe=function ui(S,R){const D=S.filter(k=>ji(k)===R);return D.push(...S.filter(k=>ji(k)!==R)),D}(D,le);return this.processSegmentGroup(R,Qe,ve,le)}),(0,Xt.R)((le,ve)=>(le.push(...ve),le)),je(null),function Ut(S,R){const D=arguments.length>=2;return k=>k.pipe(S?(0,tr.h)((G,le)=>S(G,le,k)):Ee.y,tn(1),D?je(R):Ze(()=>new Ct.K))}(),(0,Be.z)(le=>{if(null===le)return Ha(k);const ve=lc(le);return function Wc(S){S.sort((R,D)=>R.value.outlet===De?-1:D.value.outlet===De?1:R.value.outlet.localeCompare(D.value.outlet))}(ve),(0,he.of)(ve)}))}processSegment(R,D,k,G,le,ve){return(0,ce.D)(D).pipe(gt(Qe=>this.processSegmentAgainstRoute(Qe._injector??R,D,Qe,k,G,le,ve).pipe(Lt(Ke=>{if(Ke instanceof Ri)return(0,he.of)(null);throw Ke}))),Ye(Qe=>!!Qe),Lt(Qe=>{if(Ki(Qe))return function cc(S,R,D){return 0===R.length&&!S.children[D]}(k,G,le)?(0,he.of)([]):Ha(k);throw Qe}))}processSegmentAgainstRoute(R,D,k,G,le,ve,Qe){return function Ds(S,R,D,k){return!!(ji(S)===k||k!==De&&$i(R,D,S))&&("**"===S.path||$s(R,S,D).matched)}(k,G,le,ve)?void 0===k.redirectTo?this.matchSegmentAgainstRoute(R,G,k,le,ve,Qe):Qe&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(R,G,D,k,le,ve):Ha(G):Ha(G)}expandSegmentAgainstRouteUsingRedirect(R,D,k,G,le,ve){return"**"===G.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(R,k,G,ve):this.expandRegularSegmentAgainstRouteUsingRedirect(R,D,k,G,le,ve)}expandWildCardWithParamsAgainstRouteUsingRedirect(R,D,k,G){const le=this.applyRedirects.applyRedirectCommands([],k.redirectTo,{});return k.redirectTo.startsWith("/")?Gi(le):this.applyRedirects.lineralizeSegments(k,le).pipe((0,Be.z)(ve=>{const Qe=new qt(ve,{});return this.processSegment(R,D,Qe,ve,G,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(R,D,k,G,le,ve){const{matched:Qe,consumedSegments:Ke,remainingSegments:Wt,positionalParamSegments:er}=$s(D,G,le);if(!Qe)return Ha(D);const Hr=this.applyRedirects.applyRedirectCommands(Ke,G.redirectTo,er);return G.redirectTo.startsWith("/")?Gi(Hr):this.applyRedirects.lineralizeSegments(G,Hr).pipe((0,Be.z)(or=>this.processSegment(R,k,D,or.concat(Wt),ve,!1)))}matchSegmentAgainstRoute(R,D,k,G,le,ve){let Qe;if("**"===k.path){const Ke=G.length>0?en(G).parameters:{},Wt=new kn(G,Ke,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Zl(k),ji(k),k.component??k._loadedComponent??null,k,M(k));Qe=(0,he.of)({snapshot:Wt,consumedSegments:[],remainingSegments:[]}),D.children={}}else Qe=fl(D,k,G,R).pipe((0,sn.U)(({matched:Ke,consumedSegments:Wt,remainingSegments:er,parameters:Hr})=>Ke?{snapshot:new kn(Wt,Hr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Zl(k),ji(k),k.component??k._loadedComponent??null,k,M(k)),consumedSegments:Wt,remainingSegments:er}:null));return Qe.pipe((0,mn.w)(Ke=>null===Ke?Ha(D):this.getChildConfig(R=k._injector??R,k,G).pipe((0,mn.w)(({routes:Wt})=>{const er=k._loadedInjector??R,{snapshot:Hr,consumedSegments:or,remainingSegments:To}=Ke,{segmentGroup:eu,slicedSegments:Wr}=ro(D,or,To,Wt);if(0===Wr.length&&eu.hasChildren())return this.processChildren(er,Wt,eu).pipe((0,sn.U)(_r=>null===_r?null:[new Ur(Hr,_r)]));if(0===Wt.length&&0===Wr.length)return(0,he.of)([new Ur(Hr,[])]);const za=ji(k)===le;return this.processSegment(er,Wt,eu,Wr,za?De:le,!0).pipe((0,sn.U)(_r=>[new Ur(Hr,_r)]))}))))}getChildConfig(R,D,k){return D.children?(0,he.of)({routes:D.children,injector:R}):D.loadChildren?void 0!==D._loadedRoutes?(0,he.of)({routes:D._loadedRoutes,injector:D._loadedInjector}):function Da(S,R,D,k){const G=R.canLoad;if(void 0===G||0===G.length)return(0,he.of)(!0);const le=G.map(ve=>{const Qe=to(ve,S);return fn(function Z(S){return S&&ia(S.canLoad)}(Qe)?Qe.canLoad(R,D):S.runInContext(()=>Qe(R,D)))});return(0,he.of)(le).pipe(xi(),di())}(R,D,k).pipe((0,Be.z)(G=>G?this.configLoader.loadChildren(R,D).pipe((0,St.b)(le=>{D._loadedRoutes=le.routes,D._loadedInjector=le.injector})):function Cc(S){return yt(si(!1,3))}())):(0,he.of)({routes:[],injector:R})}}function ql(S){const R=S.value.routeConfig;return R&&""===R.path}function lc(S){const R=[],D=new Set;for(const k of S){if(!ql(k)){R.push(k);continue}const G=R.find(le=>k.value.routeConfig===le.value.routeConfig);void 0!==G?(G.children.push(...k.children),D.add(G)):R.push(k)}for(const k of D){const G=lc(k.children);R.push(new Ur(k.value,G))}return R.filter(k=>!D.has(k))}function Zl(S){return S.data||{}}function M(S){return S.resolve||{}}function In(S){return"string"==typeof S.title||null===S.title}function Nr(S){return(0,mn.w)(R=>{const D=S(R);return D?(0,ce.D)(D).pipe((0,sn.U)(()=>R)):(0,he.of)(R)})}const Pr=new b.OlP("ROUTES");let Mr=(()=>{class S{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,b.f3M)(b.Sil)}loadComponent(D){if(this.componentLoaders.get(D))return this.componentLoaders.get(D);if(D._loadedComponent)return(0,he.of)(D._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(D);const k=fn(D.loadComponent()).pipe((0,sn.U)(wr),(0,St.b)(le=>{this.onLoadEndListener&&this.onLoadEndListener(D),D._loadedComponent=le}),bn(()=>{this.componentLoaders.delete(D)})),G=new lt(k,()=>new vn.x).pipe(Le());return this.componentLoaders.set(D,G),G}loadChildren(D,k){if(this.childrenLoaders.get(k))return this.childrenLoaders.get(k);if(k._loadedRoutes)return(0,he.of)({routes:k._loadedRoutes,injector:k._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(k);const le=function Xn(S,R,D,k){return fn(S.loadChildren()).pipe((0,sn.U)(wr),(0,Be.z)(G=>G instanceof b.YKP||Array.isArray(G)?(0,he.of)(G):(0,ce.D)(R.compileModuleAsync(G))),(0,sn.U)(G=>{k&&k(S);let le,ve,Qe=!1;return Array.isArray(G)?(ve=G,!0):(le=G.create(D).injector,ve=le.get(Pr,[],{optional:!0,self:!0}).flat()),{routes:ve.map(Ua),injector:le}}))}(k,this.compiler,D,this.onLoadEndListener).pipe(bn(()=>{this.childrenLoaders.delete(k)})),ve=new lt(le,()=>new vn.x).pipe(Le());return this.childrenLoaders.set(k,ve),ve}static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275prov=b.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();function wr(S){return function mr(S){return S&&"object"==typeof S&&"default"in S}(S)?S.default:S}let Ir=(()=>{class S{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new vn.x,this.transitionAbortSubject=new vn.x,this.configLoader=(0,b.f3M)(Mr),this.environmentInjector=(0,b.f3M)(b.lqb),this.urlSerializer=(0,b.f3M)(Ne),this.rootContexts=(0,b.f3M)(An),this.inputBindingEnabled=null!==(0,b.f3M)(Jr,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,he.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=G=>this.events.next(new rc(G)),this.configLoader.onLoadStartListener=G=>this.events.next(new gs(G))}complete(){this.transitions?.complete()}handleNavigationRequest(D){const k=++this.navigationId;this.transitions?.next({...this.transitions.value,...D,id:k})}setupNavigations(D,k,G){return this.transitions=new we.X({id:0,currentUrlTree:k,currentRawUrl:k,currentBrowserUrl:k,extractedUrl:D.urlHandlingStrategy.extract(k),urlAfterRedirects:D.urlHandlingStrategy.extract(k),rawUrl:k,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:fo,restoredState:null,currentSnapshot:G.snapshot,targetSnapshot:null,currentRouterState:G,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,tr.h)(le=>0!==le.id),(0,sn.U)(le=>({...le,extractedUrl:D.urlHandlingStrategy.extract(le.rawUrl)})),(0,mn.w)(le=>{this.currentTransition=le;let ve=!1,Qe=!1;return(0,he.of)(le).pipe((0,St.b)(Ke=>{this.currentNavigation={id:Ke.id,initialUrl:Ke.rawUrl,extractedUrl:Ke.extractedUrl,trigger:Ke.source,extras:Ke.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,mn.w)(Ke=>{const Wt=Ke.currentBrowserUrl.toString(),er=!D.navigated||Ke.extractedUrl.toString()!==Wt||Wt!==Ke.currentUrlTree.toString();if(!er&&"reload"!==(Ke.extras.onSameUrlNavigation??D.onSameUrlNavigation)){const or="";return this.events.next(new ps(Ke.id,this.urlSerializer.serialize(Ke.rawUrl),or,0)),Ke.resolve(null),We.E}if(D.urlHandlingStrategy.shouldProcessUrl(Ke.rawUrl))return(0,he.of)(Ke).pipe((0,mn.w)(or=>{const To=this.transitions?.getValue();return this.events.next(new Ea(or.id,this.urlSerializer.serialize(or.extractedUrl),or.source,or.restoredState)),To!==this.transitions?.getValue()?We.E:Promise.resolve(or)}),function ie(S,R,D,k,G,le){return(0,Be.z)(ve=>function sa(S,R,D,k,G,le,ve="emptyOnly"){return new oa(S,R,D,k,G,ve,le).recognize()}(S,R,D,k,ve.extractedUrl,G,le).pipe((0,sn.U)(({state:Qe,tree:Ke})=>({...ve,targetSnapshot:Qe,urlAfterRedirects:Ke}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,D.config,this.urlSerializer,D.paramsInheritanceStrategy),(0,St.b)(or=>{le.targetSnapshot=or.targetSnapshot,le.urlAfterRedirects=or.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:or.urlAfterRedirects};const To=new $l(or.id,this.urlSerializer.serialize(or.extractedUrl),this.urlSerializer.serialize(or.urlAfterRedirects),or.targetSnapshot);this.events.next(To)}));if(er&&D.urlHandlingStrategy.shouldProcessUrl(Ke.currentRawUrl)){const{id:or,extractedUrl:To,source:eu,restoredState:Wr,extras:za}=Ke,_r=new Ea(or,this.urlSerializer.serialize(To),eu,Wr);this.events.next(_r);const Oc=_i(0,this.rootComponentType).snapshot;return this.currentTransition=le={...Ke,targetSnapshot:Oc,urlAfterRedirects:To,extras:{...za,skipLocationChange:!1,replaceUrl:!1}},(0,he.of)(le)}{const or="";return this.events.next(new ps(Ke.id,this.urlSerializer.serialize(Ke.extractedUrl),or,1)),Ke.resolve(null),We.E}}),(0,St.b)(Ke=>{const Wt=new os(Ke.id,this.urlSerializer.serialize(Ke.extractedUrl),this.urlSerializer.serialize(Ke.urlAfterRedirects),Ke.targetSnapshot);this.events.next(Wt)}),(0,sn.U)(Ke=>(this.currentTransition=le={...Ke,guards:Ni(Ke.targetSnapshot,Ke.currentSnapshot,this.rootContexts)},le)),function js(S,R){return(0,Be.z)(D=>{const{targetSnapshot:k,currentSnapshot:G,guards:{canActivateChecks:le,canDeactivateChecks:ve}}=D;return 0===ve.length&&0===le.length?(0,he.of)({...D,guardsResult:!0}):function oc(S,R,D,k){return(0,ce.D)(S).pipe((0,Be.z)(G=>function Wl(S,R,D,k,G){const le=R&&R.routeConfig?R.routeConfig.canDeactivate:null;if(!le||0===le.length)return(0,he.of)(!0);const ve=le.map(Qe=>{const Ke=Is(R)??G,Wt=to(Qe,Ke);return fn(function ae(S){return S&&ia(S.canDeactivate)}(Wt)?Wt.canDeactivate(S,R,D,k):Ke.runInContext(()=>Wt(S,R,D,k))).pipe(Ye())});return(0,he.of)(ve).pipe(xi())}(G.component,G.route,D,R,k)),Ye(G=>!0!==G,!0))}(ve,k,G,S).pipe((0,Be.z)(Qe=>Qe&&function Gd(S){return"boolean"==typeof S}(Qe)?function Ho(S,R,D,k){return(0,ce.D)(R).pipe(gt(G=>(0,an.z)(function Va(S,R){return null!==S&&R&&R(new Yr(S)),(0,he.of)(!0)}(G.route.parent,k),function Ta(S,R){return null!==S&&R&&R(new ko(S)),(0,he.of)(!0)}(G.route,k),function Gs(S,R,D){const k=R[R.length-1],le=R.slice(0,R.length-1).reverse().map(ve=>function Mi(S){const R=S.routeConfig?S.routeConfig.canActivateChild:null;return R&&0!==R.length?{node:S,guards:R}:null}(ve)).filter(ve=>null!==ve).map(ve=>st(()=>{const Qe=ve.guards.map(Ke=>{const Wt=Is(ve.node)??D,er=to(Ke,Wt);return fn(function B(S){return S&&ia(S.canActivateChild)}(er)?er.canActivateChild(k,S):Wt.runInContext(()=>er(k,S))).pipe(Ye())});return(0,he.of)(Qe).pipe(xi())}));return(0,he.of)(le).pipe(xi())}(S,G.path,D),function ac(S,R,D){const k=R.routeConfig?R.routeConfig.canActivate:null;if(!k||0===k.length)return(0,he.of)(!0);const G=k.map(le=>st(()=>{const ve=Is(R)??D,Qe=to(le,ve);return fn(function Q(S){return S&&ia(S.canActivate)}(Qe)?Qe.canActivate(R,S):ve.runInContext(()=>Qe(R,S))).pipe(Ye())}));return(0,he.of)(G).pipe(xi())}(S,G.route,D))),Ye(G=>!0!==G,!0))}(k,le,S,R):(0,he.of)(Qe)),(0,sn.U)(Qe=>({...D,guardsResult:Qe})))})}(this.environmentInjector,Ke=>this.events.next(Ke)),(0,St.b)(Ke=>{if(le.guardsResult=Ke.guardsResult,ks(Ke.guardsResult))throw Xs(0,Ke.guardsResult);const Wt=new zl(Ke.id,this.urlSerializer.serialize(Ke.extractedUrl),this.urlSerializer.serialize(Ke.urlAfterRedirects),Ke.targetSnapshot,!!Ke.guardsResult);this.events.next(Wt)}),(0,tr.h)(Ke=>!!Ke.guardsResult||(this.cancelNavigationTransition(Ke,"",3),!1)),Nr(Ke=>{if(Ke.guards.canActivateChecks.length)return(0,he.of)(Ke).pipe((0,St.b)(Wt=>{const er=new qi(Wt.id,this.urlSerializer.serialize(Wt.extractedUrl),this.urlSerializer.serialize(Wt.urlAfterRedirects),Wt.targetSnapshot);this.events.next(er)}),(0,mn.w)(Wt=>{let er=!1;return(0,he.of)(Wt).pipe(function V(S,R){return(0,Be.z)(D=>{const{targetSnapshot:k,guards:{canActivateChecks:G}}=D;if(!G.length)return(0,he.of)(D);let le=0;return(0,ce.D)(G).pipe(gt(ve=>function ee(S,R,D,k){const G=S.routeConfig,le=S._resolve;return void 0!==G?.title&&!In(G)&&(le[Xe]=G.title),function be(S,R,D,k){const G=function it(S){return[...Object.keys(S),...Object.getOwnPropertySymbols(S)]}(S);if(0===G.length)return(0,he.of)({});const le={};return(0,ce.D)(G).pipe((0,Be.z)(ve=>function wt(S,R,D,k){const G=Is(R)??k,le=to(S,G);return fn(le.resolve?le.resolve(R,D):G.runInContext(()=>le(R,D)))}(S[ve],R,D,k).pipe(Ye(),(0,St.b)(Qe=>{le[ve]=Qe}))),tn(1),(0,pt.h)(le),Lt(ve=>Ki(ve)?We.E:yt(ve)))}(le,S,R,k).pipe((0,sn.U)(ve=>(S._resolvedData=ve,S.data=Ar(S,D).resolve,G&&In(G)&&(S.data[Xe]=G.title),null)))}(ve.route,k,S,R)),(0,St.b)(()=>le++),tn(1),(0,Be.z)(ve=>le===G.length?(0,he.of)(D):We.E))})}(D.paramsInheritanceStrategy,this.environmentInjector),(0,St.b)({next:()=>er=!0,complete:()=>{er||this.cancelNavigationTransition(Wt,"",2)}}))}),(0,St.b)(Wt=>{const er=new ul(Wt.id,this.urlSerializer.serialize(Wt.extractedUrl),this.urlSerializer.serialize(Wt.urlAfterRedirects),Wt.targetSnapshot);this.events.next(er)}))}),Nr(Ke=>{const Wt=er=>{const Hr=[];er.routeConfig?.loadComponent&&!er.routeConfig._loadedComponent&&Hr.push(this.configLoader.loadComponent(er.routeConfig).pipe((0,St.b)(or=>{er.component=or}),(0,sn.U)(()=>{})));for(const or of er.children)Hr.push(...Wt(or));return Hr};return qe(Wt(Ke.targetSnapshot.root)).pipe(je(),(0,xn.q)(1))}),Nr(()=>this.afterPreactivation()),(0,sn.U)(Ke=>{const Wt=function mo(S,R,D){const k=_o(S,R._root,D?D._root:void 0);return new Ba(k,R)}(D.routeReuseStrategy,Ke.targetSnapshot,Ke.currentRouterState);return this.currentTransition=le={...Ke,targetRouterState:Wt},le}),(0,St.b)(()=>{this.events.next(new na)}),((S,R,D,k)=>(0,sn.U)(G=>(new Hs(R,G.targetRouterState,G.currentRouterState,D,k).activate(S),G)))(this.rootContexts,D.routeReuseStrategy,Ke=>this.events.next(Ke),this.inputBindingEnabled),(0,xn.q)(1),(0,St.b)({next:Ke=>{ve=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Gr(Ke.id,this.urlSerializer.serialize(Ke.extractedUrl),this.urlSerializer.serialize(Ke.urlAfterRedirects))),D.titleStrategy?.updateTitle(Ke.targetRouterState.snapshot),Ke.resolve(!0)},complete:()=>{ve=!0}}),(0,Jn.R)(this.transitionAbortSubject.pipe((0,St.b)(Ke=>{throw Ke}))),bn(()=>{ve||Qe||this.cancelNavigationTransition(le,"",1),this.currentNavigation?.id===le.id&&(this.currentNavigation=null)}),Lt(Ke=>{if(Qe=!0,Tc(Ke))this.events.next(new ta(le.id,this.urlSerializer.serialize(le.extractedUrl),Ke.message,Ke.cancellationCode)),function Bo(S){return Tc(S)&&ks(S.url)}(Ke)?this.events.next(new ra(Ke.url)):le.resolve(!1);else{this.events.next(new po(le.id,this.urlSerializer.serialize(le.extractedUrl),Ke,le.targetSnapshot??void 0));try{le.resolve(D.errorHandler(Ke))}catch(Wt){le.reject(Wt)}}return We.E}))}))}cancelNavigationTransition(D,k,G){const le=new ta(D.id,this.urlSerializer.serialize(D.extractedUrl),k,G);this.events.next(le),D.resolve(!1)}static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275prov=b.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();function Ws(S){return S!==fo}let fi=(()=>{class S{buildTitle(D){let k,G=D.root;for(;void 0!==G;)k=this.getResolvedTitleForRoute(G)??k,G=G.children.find(le=>le.outlet===De);return k}getResolvedTitleForRoute(D){return D.data[Xe]}static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275prov=b.Yz7({token:S,factory:function(){return(0,b.f3M)(wi)},providedIn:"root"})}return S})(),wi=(()=>{class S extends fi{constructor(D){super(),this.title=D}updateTitle(D){const k=this.buildTitle(D);void 0!==k&&this.title.setTitle(k)}static#e=this.\u0275fac=function(k){return new(k||S)(b.LFG(xe.Dx))};static#t=this.\u0275prov=b.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})(),cs=(()=>{class S{static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275prov=b.Yz7({token:S,factory:function(){return(0,b.f3M)(aa)},providedIn:"root"})}return S})();class Cs{shouldDetach(R){return!1}store(R,D){}shouldAttach(R){return!1}retrieve(R){return null}shouldReuseRoute(R,D){return R.routeConfig===D.routeConfig}}let aa=(()=>{class S extends Cs{static#e=this.\u0275fac=function(){let D;return function(G){return(D||(D=b.n5z(S)))(G||S)}}();static#t=this.\u0275prov=b.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();const ca=new b.OlP("",{providedIn:"root",factory:()=>({})});let uc=(()=>{class S{static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275prov=b.Yz7({token:S,factory:function(){return(0,b.f3M)(Mu)},providedIn:"root"})}return S})(),Mu=(()=>{class S{shouldProcessUrl(D){return!0}extract(D){return D}merge(D,k){return D}static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275prov=b.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();var Yi=function(S){return S[S.COMPLETE=0]="COMPLETE",S[S.FAILED=1]="FAILED",S[S.REDIRECTING=2]="REDIRECTING",S}(Yi||{});function pl(S,R){S.events.pipe((0,tr.h)(D=>D instanceof Gr||D instanceof ta||D instanceof po||D instanceof ps),(0,sn.U)(D=>D instanceof Gr||D instanceof ps?Yi.COMPLETE:D instanceof ta&&(0===D.code||1===D.code)?Yi.REDIRECTING:Yi.FAILED),(0,tr.h)(D=>D!==Yi.REDIRECTING),(0,xn.q)(1)).subscribe(()=>{R()})}function jo(S){throw S}function ci(S,R,D){return R.parse("/")}const wo={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ac={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Qr=(()=>{class S{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,b.f3M)(b.c2e),this.isNgZoneEnabled=!1,this._events=new vn.x,this.options=(0,b.f3M)(ca,{optional:!0})||{},this.pendingTasks=(0,b.f3M)(b.HDt),this.errorHandler=this.options.errorHandler||jo,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||ci,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,b.f3M)(uc),this.routeReuseStrategy=(0,b.f3M)(cs),this.titleStrategy=(0,b.f3M)(fi),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,b.f3M)(Pr,{optional:!0})?.flat()??[],this.navigationTransitions=(0,b.f3M)(Ir),this.urlSerializer=(0,b.f3M)(Ne),this.location=(0,b.f3M)(ut.Ye),this.componentInputBindingEnabled=!!(0,b.f3M)(Jr,{optional:!0}),this.eventsSubscription=new Oe.w0,this.isNgZoneEnabled=(0,b.f3M)(b.R0b)instanceof b.R0b&&b.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ei,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=_i(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(D=>{this.lastSuccessfulId=D.id,this.currentPageId=this.browserPageId},D=>{this.console.warn(`Unhandled Navigation Error: ${D}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const D=this.navigationTransitions.events.subscribe(k=>{try{const{currentTransition:G}=this.navigationTransitions;if(null===G)return void(qc(k)&&this._events.next(k));if(k instanceof Ea)Ws(G.source)&&(this.browserUrlTree=G.extractedUrl);else if(k instanceof ps)this.rawUrlTree=G.rawUrl;else if(k instanceof $l){if("eager"===this.urlUpdateStrategy){if(!G.extras.skipLocationChange){const le=this.urlHandlingStrategy.merge(G.urlAfterRedirects,G.rawUrl);this.setBrowserUrl(le,G)}this.browserUrlTree=G.urlAfterRedirects}}else if(k instanceof na)this.currentUrlTree=G.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(G.urlAfterRedirects,G.rawUrl),this.routerState=G.targetRouterState,"deferred"===this.urlUpdateStrategy&&(G.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,G),this.browserUrlTree=G.urlAfterRedirects);else if(k instanceof ta)0!==k.code&&1!==k.code&&(this.navigated=!0),(3===k.code||2===k.code)&&this.restoreHistory(G);else if(k instanceof ra){const le=this.urlHandlingStrategy.merge(k.url,G.currentRawUrl),ve={skipLocationChange:G.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ws(G.source)};this.scheduleNavigation(le,fo,null,ve,{resolve:G.resolve,reject:G.reject,promise:G.promise})}k instanceof po&&this.restoreHistory(G,!0),k instanceof Gr&&(this.navigated=!0),qc(k)&&this._events.next(k)}catch(G){this.navigationTransitions.transitionAbortSubject.next(G)}});this.eventsSubscription.add(D)}resetRootComponentType(D){this.routerState.root.component=D,this.navigationTransitions.rootComponentType=D}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const D=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),fo,D)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(D=>{const k="popstate"===D.type?"popstate":"hashchange";"popstate"===k&&setTimeout(()=>{this.navigateToSyncWithBrowser(D.url,k,D.state)},0)}))}navigateToSyncWithBrowser(D,k,G){const le={replaceUrl:!0},ve=G?.navigationId?G:null;if(G){const Ke={...G};delete Ke.navigationId,delete Ke.\u0275routerPageId,0!==Object.keys(Ke).length&&(le.state=Ke)}const Qe=this.parseUrl(D);this.scheduleNavigation(Qe,k,ve,le)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(D){this.config=D.map(Ua),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(D,k={}){const{relativeTo:G,queryParams:le,fragment:ve,queryParamsHandling:Qe,preserveFragment:Ke}=k,Wt=Ke?this.currentUrlTree.fragment:ve;let Hr,er=null;switch(Qe){case"merge":er={...this.currentUrlTree.queryParams,...le};break;case"preserve":er=this.currentUrlTree.queryParams;break;default:er=le||null}null!==er&&(er=this.removeEmptyProps(er));try{Hr=lo(G?G.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof D[0]||!D[0].startsWith("/"))&&(D=[]),Hr=this.currentUrlTree.root}return Ui(Hr,D,er,Wt??null)}navigateByUrl(D,k={skipLocationChange:!1}){const G=ks(D)?D:this.parseUrl(D),le=this.urlHandlingStrategy.merge(G,this.rawUrlTree);return this.scheduleNavigation(le,fo,null,k)}navigate(D,k={skipLocationChange:!1}){return function dd(S){for(let R=0;R<S.length;R++)if(null==S[R])throw new b.vHH(4008,!1)}(D),this.navigateByUrl(this.createUrlTree(D,k),k)}serializeUrl(D){return this.urlSerializer.serialize(D)}parseUrl(D){let k;try{k=this.urlSerializer.parse(D)}catch(G){k=this.malformedUriErrorHandler(G,this.urlSerializer,D)}return k}isActive(D,k){let G;if(G=!0===k?{...wo}:!1===k?{...Ac}:k,ks(D))return Cr(this.currentUrlTree,D,G);const le=this.parseUrl(D);return Cr(this.currentUrlTree,le,G)}removeEmptyProps(D){return Object.keys(D).reduce((k,G)=>{const le=D[G];return null!=le&&(k[G]=le),k},{})}scheduleNavigation(D,k,G,le,ve){if(this.disposed)return Promise.resolve(!1);let Qe,Ke,Wt;ve?(Qe=ve.resolve,Ke=ve.reject,Wt=ve.promise):Wt=new Promise((Hr,or)=>{Qe=Hr,Ke=or});const er=this.pendingTasks.add();return pl(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(er))}),this.navigationTransitions.handleNavigationRequest({source:k,restoredState:G,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:D,extras:le,resolve:Qe,reject:Ke,promise:Wt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Wt.catch(Hr=>Promise.reject(Hr))}setBrowserUrl(D,k){const G=this.urlSerializer.serialize(D);if(this.location.isCurrentPathEqualTo(G)||k.extras.replaceUrl){const ve={...k.extras.state,...this.generateNgRouterState(k.id,this.browserPageId)};this.location.replaceState(G,"",ve)}else{const le={...k.extras.state,...this.generateNgRouterState(k.id,this.browserPageId+1)};this.location.go(G,"",le)}}restoreHistory(D,k=!1){if("computed"===this.canceledNavigationResolution){const le=this.currentPageId-this.browserPageId;0!==le?this.location.historyGo(le):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===le&&(this.resetState(D),this.browserUrlTree=D.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(k&&this.resetState(D),this.resetUrlToCurrentUrlTree())}resetState(D){this.routerState=D.currentRouterState,this.currentUrlTree=D.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,D.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(D,k){return"computed"===this.canceledNavigationResolution?{navigationId:D,\u0275routerPageId:k}:{navigationId:D}}static#e=this.\u0275fac=function(k){return new(k||S)};static#t=this.\u0275prov=b.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();function qc(S){return!(S instanceof na||S instanceof ra)}let ja=(()=>{class S{constructor(D,k,G,le,ve,Qe){this.router=D,this.route=k,this.tabIndexAttribute=G,this.renderer=le,this.el=ve,this.locationStrategy=Qe,this.href=null,this.commands=null,this.onChanges=new vn.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Ke=ve.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Ke||"area"===Ke,this.isAnchorElement?this.subscription=D.events.subscribe(Wt=>{Wt instanceof Gr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(D){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",D)}ngOnChanges(D){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(D){null!=D?(this.commands=Array.isArray(D)?D:[D],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(D,k,G,le,ve){return!!(null===this.urlTree||this.isAnchorElement&&(0!==D||k||G||le||ve||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const D=null===this.href?null:(0,b.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",D)}applyAttributeValue(D,k){const G=this.renderer,le=this.el.nativeElement;null!==k?G.setAttribute(le,D,k):G.removeAttribute(le,D)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(k){return new(k||S)(b.Y36(Qr),b.Y36(as),b.$8M("tabindex"),b.Y36(b.Qsj),b.Y36(b.SBq),b.Y36(ut.S$))};static#t=this.\u0275dir=b.lG2({type:S,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(k,G){1&k&&b.NdJ("click",function(ve){return G.onClick(ve.button,ve.ctrlKey,ve.shiftKey,ve.altKey,ve.metaKey)}),2&k&&b.uIk("target",G.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",b.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",b.VuI],replaceUrl:["replaceUrl","replaceUrl",b.VuI],routerLink:"routerLink"},standalone:!0,features:[b.Xq5,b.TTD]})}return S})();class gl{}let xu=(()=>{class S{constructor(D,k,G,le,ve){this.router=D,this.injector=G,this.preloadingStrategy=le,this.loader=ve}setUpPreloading(){this.subscription=this.router.events.pipe((0,tr.h)(D=>D instanceof Gr),gt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(D,k){const G=[];for(const le of k){le.providers&&!le._injector&&(le._injector=(0,b.MMx)(le.providers,D,`Route: ${le.path}`));const ve=le._injector??D,Qe=le._loadedInjector??ve;(le.loadChildren&&!le._loadedRoutes&&void 0===le.canLoad||le.loadComponent&&!le._loadedComponent)&&G.push(this.preloadConfig(ve,le)),(le.children||le._loadedRoutes)&&G.push(this.processRoutes(Qe,le.children??le._loadedRoutes))}return(0,ce.D)(G).pipe((0,cr.J)())}preloadConfig(D,k){return this.preloadingStrategy.preload(k,()=>{let G;G=k.loadChildren&&void 0===k.canLoad?this.loader.loadChildren(D,k):(0,he.of)(null);const le=G.pipe((0,Be.z)(ve=>null===ve?(0,he.of)(void 0):(k._loadedRoutes=ve.routes,k._loadedInjector=ve.injector,this.processRoutes(ve.injector??D,ve.routes))));if(k.loadComponent&&!k._loadedComponent){const ve=this.loader.loadComponent(k);return(0,ce.D)([le,ve]).pipe((0,cr.J)())}return le})}static#e=this.\u0275fac=function(k){return new(k||S)(b.LFG(Qr),b.LFG(b.Sil),b.LFG(b.lqb),b.LFG(gl),b.LFG(Mr))};static#t=this.\u0275prov=b.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();const Ru=new b.OlP("");let Ii=(()=>{class S{constructor(D,k,G,le,ve={}){this.urlSerializer=D,this.transitions=k,this.viewportScroller=G,this.zone=le,this.options=ve,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},ve.scrollPositionRestoration=ve.scrollPositionRestoration||"disabled",ve.anchorScrolling=ve.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(D=>{D instanceof Ea?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=D.navigationTrigger,this.restoredId=D.restoredState?D.restoredState.navigationId:0):D instanceof Gr?(this.lastId=D.id,this.scheduleScrollEvent(D,this.urlSerializer.parse(D.urlAfterRedirects).fragment)):D instanceof ps&&0===D.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(D,this.urlSerializer.parse(D.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(D=>{D instanceof Hi&&(D.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(D.position):D.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(D.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(D,k){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Hi(D,"popstate"===this.lastSource?this.store[this.restoredId]:null,k))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(k){b.$Z()};static#t=this.\u0275prov=b.Yz7({token:S,factory:S.\u0275fac})}return S})();function ni(S,R){return{\u0275kind:S,\u0275providers:R}}function Yl(){const S=(0,b.f3M)(b.zs3);return R=>{const D=S.get(b.z2F);if(R!==D.components[0])return;const k=S.get(Qr),G=S.get(Jl);1===S.get(ml)&&k.initialNavigation(),S.get(hc,null,b.XFs.Optional)?.setUpPreloading(),S.get(Ru,null,b.XFs.Optional)?.init(),k.resetRootComponentType(D.componentTypes[0]),G.closed||(G.next(),G.complete(),G.unsubscribe())}}const Jl=new b.OlP("",{factory:()=>new vn.x}),ml=new b.OlP("",{providedIn:"root",factory:()=>1}),hc=new b.OlP("");function hd(S){return ni(0,[{provide:hc,useExisting:xu},{provide:gl,useExisting:S}])}const zi=new b.OlP("ROUTER_FORROOT_GUARD"),$d=[ut.Ye,{provide:Ne,useClass:nt},Qr,An,{provide:as,useFactory:function Io(S){return S.routerState.root},deps:[Qr]},Mr,[]];function _l(){return new b.PXZ("Router",Qr)}let Eo=(()=>{class S{constructor(D){}static forRoot(D,k){return{ngModule:S,providers:[$d,[],{provide:Pr,multi:!0,useValue:D},{provide:zi,useFactory:Kc,deps:[[Qr,new b.FiY,new b.tp0]]},{provide:ca,useValue:k||{}},k?.useHash?{provide:ut.S$,useClass:ut.Do}:{provide:ut.S$,useClass:ut.b0},{provide:Ru,useFactory:()=>{const S=(0,b.f3M)(ut.EM),R=(0,b.f3M)(b.R0b),D=(0,b.f3M)(ca),k=(0,b.f3M)(Ir),G=(0,b.f3M)(Ne);return D.scrollOffset&&S.setOffset(D.scrollOffset),new Ii(G,k,S,R,D)}},k?.preloadingStrategy?hd(k.preloadingStrategy).\u0275providers:[],{provide:b.PXZ,multi:!0,useFactory:_l},k?.initialNavigation?pc(k):[],k?.bindToComponentInputs?ni(8,[Dn,{provide:Jr,useExisting:Dn}]).\u0275providers:[],[{provide:As,useFactory:Yl},{provide:b.tb,multi:!0,useExisting:As}]]}}static forChild(D){return{ngModule:S,providers:[{provide:Pr,multi:!0,useValue:D}]}}static#e=this.\u0275fac=function(k){return new(k||S)(b.LFG(zi,8))};static#t=this.\u0275mod=b.oAB({type:S});static#n=this.\u0275inj=b.cJS({})}return S})();function Kc(S){return"guarded"}function pc(S){return["disabled"===S.initialNavigation?ni(3,[{provide:b.ip1,multi:!0,useFactory:()=>{const R=(0,b.f3M)(Qr);return()=>{R.setUpLocationChangeListener()}}},{provide:ml,useValue:2}]).\u0275providers:[],"enabledBlocking"===S.initialNavigation?ni(2,[{provide:ml,useValue:0},{provide:b.ip1,multi:!0,deps:[b.zs3],useFactory:R=>{const D=R.get(ut.V_,Promise.resolve());return()=>D.then(()=>new Promise(k=>{const G=R.get(Qr),le=R.get(Jl);pl(G,()=>{k(!0)}),R.get(Ir).afterPreactivation=()=>(k(!0),le.closed?(0,he.of)(void 0):le),G.initialNavigation()}))}}]).\u0275providers:[]]}const As=new b.OlP("")},4303:(Ht,Ue,$)=>{"use strict";$.d(Ue,{Jn:()=>Jn,KN:()=>bt,Mq:()=>xe,Xd:()=>St,ZF:()=>cr,qX:()=>Lt});var b=$(5861),X=$(4537),u=$(7879),ye=$(9058),ce=$(1878);class he{constructor(Ne){this.container=Ne}getPlatformInfoString(){return this.container.getProviders().map(nt=>{if(function we(at){const Ne=at.getComponent();return"VERSION"===Ne?.type}(nt)){const At=nt.getImmediate();return`${At.library}/${At.version}`}return null}).filter(nt=>nt).join(" ")}}const ke="@firebase/app",re=new u.Yd("@firebase/app"),Be="[DEFAULT]",je={[ke]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ze=new Map,He=new Map;function Ye(at,Ne){try{at.container.addComponent(Ne)}catch(nt){re.debug(`Component ${Ne.name} failed to register with FirebaseApp ${at.name}`,nt)}}function St(at){const Ne=at.name;if(He.has(Ne))return re.debug(`There were multiple attempts to register component ${Ne}.`),!1;He.set(Ne,at);for(const nt of Ze.values())Ye(nt,at);return!0}function Lt(at,Ne){const nt=at.container.getProvider("heartbeat").getImmediate({optional:!0});return nt&&nt.triggerHeartbeat(),at.container.getProvider(Ne)}const pt=new ye.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class bn{constructor(Ne,nt,At){this._isDeleted=!1,this._options=Object.assign({},Ne),this._config=Object.assign({},nt),this._name=nt.name,this._automaticDataCollectionEnabled=nt.automaticDataCollectionEnabled,this._container=At,this.container.addComponent(new X.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ne){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ne}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ne){this._isDeleted=Ne}checkDestroyed(){if(this.isDeleted)throw pt.create("app-deleted",{appName:this._name})}}const Jn="10.9.0";function cr(at,Ne={}){let nt=at;"object"!=typeof Ne&&(Ne={name:Ne});const At=Object.assign({name:Be,automaticDataCollectionEnabled:!1},Ne),zt=At.name;if("string"!=typeof zt||!zt)throw pt.create("bad-app-name",{appName:String(zt)});if(nt||(nt=(0,ye.aH)()),!nt)throw pt.create("no-options");const Zt=Ze.get(zt);if(Zt){if((0,ye.vZ)(nt,Zt.options)&&(0,ye.vZ)(At,Zt.config))return Zt;throw pt.create("duplicate-app",{appName:zt})}const qn=new X.H0(zt);for(const U of He.values())qn.addComponent(U);const J=new bn(nt,At,qn);return Ze.set(zt,J),J}function xe(at=Be){const Ne=Ze.get(at);if(!Ne&&at===Be&&(0,ye.aH)())return cr();if(!Ne)throw pt.create("no-app",{appName:at});return Ne}function bt(at,Ne,nt){var At;let zt=null!==(At=je[at])&&void 0!==At?At:at;nt&&(zt+=`-${nt}`);const Zt=zt.match(/\s|\//),qn=Ne.match(/\s|\//);if(Zt||qn){const J=[`Unable to register library "${zt}" with version "${Ne}":`];return Zt&&J.push(`library name "${zt}" contains illegal characters (whitespace or "/")`),Zt&&qn&&J.push("and"),qn&&J.push(`version name "${Ne}" contains illegal characters (whitespace or "/")`),void re.warn(J.join(" "))}St(new X.wA(`${zt}-version`,()=>({library:zt,version:Ne}),"VERSION"))}const _n="firebase-heartbeat-database",Sn=1,en="firebase-heartbeat-store";let fn=null;function gr(){return fn||(fn=(0,ce.X3)(_n,Sn,{upgrade:(at,Ne)=>{if(0===Ne)try{at.createObjectStore(en)}catch(nt){console.warn(nt)}}}).catch(at=>{throw pt.create("idb-open",{originalErrorMessage:at.message})})),fn}function Cr(){return(Cr=(0,b.Z)(function*(at){try{const nt=(yield gr()).transaction(en),At=yield nt.objectStore(en).get(lr(at));return yield nt.done,At}catch(Ne){if(Ne instanceof ye.ZR)re.warn(Ne.message);else{const nt=pt.create("idb-get",{originalErrorMessage:Ne?.message});re.warn(nt.message)}}})).apply(this,arguments)}function Sr(at,Ne){return wn.apply(this,arguments)}function wn(){return(wn=(0,b.Z)(function*(at,Ne){try{const At=(yield gr()).transaction(en,"readwrite");yield At.objectStore(en).put(Ne,lr(at)),yield At.done}catch(nt){if(nt instanceof ye.ZR)re.warn(nt.message);else{const At=pt.create("idb-set",{originalErrorMessage:nt?.message});re.warn(At.message)}}})).apply(this,arguments)}function lr(at){return`${at.name}!${at.options.appId}`}class Vn{constructor(Ne){this.container=Ne,this._heartbeatsCache=null;const nt=this.container.getProvider("app").getImmediate();this._storage=new Wi(nt),this._heartbeatsCachePromise=this._storage.read().then(At=>(this._heartbeatsCache=At,At))}triggerHeartbeat(){var Ne=this;return(0,b.Z)(function*(){var nt,At;const Zt=Ne.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),qn=ei();if((null!=(null===(nt=Ne._heartbeatsCache)||void 0===nt?void 0:nt.heartbeats)||(Ne._heartbeatsCache=yield Ne._heartbeatsCachePromise,null!=(null===(At=Ne._heartbeatsCache)||void 0===At?void 0:At.heartbeats)))&&Ne._heartbeatsCache.lastSentHeartbeatDate!==qn&&!Ne._heartbeatsCache.heartbeats.some(J=>J.date===qn))return Ne._heartbeatsCache.heartbeats.push({date:qn,agent:Zt}),Ne._heartbeatsCache.heartbeats=Ne._heartbeatsCache.heartbeats.filter(J=>{const U=new Date(J.date).valueOf();return Date.now()-U<=2592e6}),Ne._storage.overwrite(Ne._heartbeatsCache)})()}getHeartbeatsHeader(){var Ne=this;return(0,b.Z)(function*(){var nt;if(null===Ne._heartbeatsCache&&(yield Ne._heartbeatsCachePromise),null==(null===(nt=Ne._heartbeatsCache)||void 0===nt?void 0:nt.heartbeats)||0===Ne._heartbeatsCache.heartbeats.length)return"";const At=ei(),{heartbeatsToSend:zt,unsentEntries:Zt}=function qt(at,Ne=1024){const nt=[];let At=at.slice();for(const zt of at){const Zt=nt.find(qn=>qn.agent===zt.agent);if(Zt){if(Zt.dates.push(zt.date),qr(nt)>Ne){Zt.dates.pop();break}}else if(nt.push({agent:zt.agent,dates:[zt.date]}),qr(nt)>Ne){nt.pop();break}At=At.slice(1)}return{heartbeatsToSend:nt,unsentEntries:At}}(Ne._heartbeatsCache.heartbeats),qn=(0,ye.L)(JSON.stringify({version:2,heartbeats:zt}));return Ne._heartbeatsCache.lastSentHeartbeatDate=At,Zt.length>0?(Ne._heartbeatsCache.heartbeats=Zt,yield Ne._storage.overwrite(Ne._heartbeatsCache)):(Ne._heartbeatsCache.heartbeats=[],Ne._storage.overwrite(Ne._heartbeatsCache)),qn})()}}function ei(){return(new Date).toISOString().substring(0,10)}class Wi{constructor(Ne){this.app=Ne,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,b.Z)(function*(){return!!(0,ye.hl)()&&(0,ye.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ne=this;return(0,b.Z)(function*(){if(yield Ne._canUseIndexedDBPromise){const At=yield function nn(at){return Cr.apply(this,arguments)}(Ne.app);return At?.heartbeats?At:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(Ne){var nt=this;return(0,b.Z)(function*(){var At;if(yield nt._canUseIndexedDBPromise){const Zt=yield nt.read();return Sr(nt.app,{lastSentHeartbeatDate:null!==(At=Ne.lastSentHeartbeatDate)&&void 0!==At?At:Zt.lastSentHeartbeatDate,heartbeats:Ne.heartbeats})}})()}add(Ne){var nt=this;return(0,b.Z)(function*(){var At;if(yield nt._canUseIndexedDBPromise){const Zt=yield nt.read();return Sr(nt.app,{lastSentHeartbeatDate:null!==(At=Ne.lastSentHeartbeatDate)&&void 0!==At?At:Zt.lastSentHeartbeatDate,heartbeats:[...Zt.heartbeats,...Ne.heartbeats]})}})()}}function qr(at){return(0,ye.L)(JSON.stringify({version:2,heartbeats:at})).length}!function jr(at){St(new X.wA("platform-logger",Ne=>new he(Ne),"PRIVATE")),St(new X.wA("heartbeat",Ne=>new Vn(Ne),"PRIVATE")),bt(ke,"0.9.29",at),bt(ke,"0.9.29","esm2017"),bt("fire-js","")}("")},4537:(Ht,Ue,$)=>{"use strict";$.d(Ue,{H0:()=>ke,wA:()=>u});var b=$(5861),X=$(9058);class u{constructor(re,ue,Ae){this.name=re,this.instanceFactory=ue,this.type=Ae,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(re){return this.instantiationMode=re,this}setMultipleInstances(re){return this.multipleInstances=re,this}setServiceProps(re){return this.serviceProps=re,this}setInstanceCreatedCallback(re){return this.onInstanceCreated=re,this}}const ye="[DEFAULT]";class ce{constructor(re,ue){this.name=re,this.container=ue,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(re){const ue=this.normalizeInstanceIdentifier(re);if(!this.instancesDeferred.has(ue)){const Ae=new X.BH;if(this.instancesDeferred.set(ue,Ae),this.isInitialized(ue)||this.shouldAutoInitialize())try{const Ce=this.getOrInitializeService({instanceIdentifier:ue});Ce&&Ae.resolve(Ce)}catch{}}return this.instancesDeferred.get(ue).promise}getImmediate(re){var ue;const Ae=this.normalizeInstanceIdentifier(re?.identifier),Ce=null!==(ue=re?.optional)&&void 0!==ue&&ue;if(!this.isInitialized(Ae)&&!this.shouldAutoInitialize()){if(Ce)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ae})}catch(Me){if(Ce)return null;throw Me}}getComponent(){return this.component}setComponent(re){if(re.name!==this.name)throw Error(`Mismatching Component ${re.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=re,this.shouldAutoInitialize()){if(function we(Ee){return"EAGER"===Ee.instantiationMode}(re))try{this.getOrInitializeService({instanceIdentifier:ye})}catch{}for(const[ue,Ae]of this.instancesDeferred.entries()){const Ce=this.normalizeInstanceIdentifier(ue);try{const Me=this.getOrInitializeService({instanceIdentifier:Ce});Ae.resolve(Me)}catch{}}}}clearInstance(re=ye){this.instancesDeferred.delete(re),this.instancesOptions.delete(re),this.instances.delete(re)}delete(){var re=this;return(0,b.Z)(function*(){const ue=Array.from(re.instances.values());yield Promise.all([...ue.filter(Ae=>"INTERNAL"in Ae).map(Ae=>Ae.INTERNAL.delete()),...ue.filter(Ae=>"_delete"in Ae).map(Ae=>Ae._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(re=ye){return this.instances.has(re)}getOptions(re=ye){return this.instancesOptions.get(re)||{}}initialize(re={}){const{options:ue={}}=re,Ae=this.normalizeInstanceIdentifier(re.instanceIdentifier);if(this.isInitialized(Ae))throw Error(`${this.name}(${Ae}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ce=this.getOrInitializeService({instanceIdentifier:Ae,options:ue});for(const[Me,qe]of this.instancesDeferred.entries())Ae===this.normalizeInstanceIdentifier(Me)&&qe.resolve(Ce);return Ce}onInit(re,ue){var Ae;const Ce=this.normalizeInstanceIdentifier(ue),Me=null!==(Ae=this.onInitCallbacks.get(Ce))&&void 0!==Ae?Ae:new Set;Me.add(re),this.onInitCallbacks.set(Ce,Me);const qe=this.instances.get(Ce);return qe&&re(qe,Ce),()=>{Me.delete(re)}}invokeOnInitCallbacks(re,ue){const Ae=this.onInitCallbacks.get(ue);if(Ae)for(const Ce of Ae)try{Ce(re,ue)}catch{}}getOrInitializeService({instanceIdentifier:re,options:ue={}}){let Ae=this.instances.get(re);if(!Ae&&this.component&&(Ae=this.component.instanceFactory(this.container,{instanceIdentifier:(Ee=re,Ee===ye?void 0:Ee),options:ue}),this.instances.set(re,Ae),this.instancesOptions.set(re,ue),this.invokeOnInitCallbacks(Ae,re),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,re,Ae)}catch{}var Ee;return Ae||null}normalizeInstanceIdentifier(re=ye){return this.component?this.component.multipleInstances?re:ye:re}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ke{constructor(re){this.name=re,this.providers=new Map}addComponent(re){const ue=this.getProvider(re.name);if(ue.isComponentSet())throw new Error(`Component ${re.name} has already been registered with ${this.name}`);ue.setComponent(re)}addOrOverwriteComponent(re){this.getProvider(re.name).isComponentSet()&&this.providers.delete(re.name),this.addComponent(re)}getProvider(re){if(this.providers.has(re))return this.providers.get(re);const ue=new ce(re,this);return this.providers.set(re,ue),ue}getProviders(){return Array.from(this.providers.values())}}},7879:(Ht,Ue,$)=>{"use strict";$.d(Ue,{Yd:()=>we,in:()=>X});const b=[];var X=function(re){return re[re.DEBUG=0]="DEBUG",re[re.VERBOSE=1]="VERBOSE",re[re.INFO=2]="INFO",re[re.WARN=3]="WARN",re[re.ERROR=4]="ERROR",re[re.SILENT=5]="SILENT",re}(X||{});const u={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},ye=X.INFO,ce={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},he=(re,ue,...Ae)=>{if(ue<re.logLevel)return;const Ce=(new Date).toISOString(),Me=ce[ue];if(!Me)throw new Error(`Attempted to log a message with an invalid logType (value: ${ue})`);console[Me](`[${Ce}]  ${re.name}:`,...Ae)};class we{constructor(ue){this.name=ue,this._logLevel=ye,this._logHandler=he,this._userLogHandler=null,b.push(this)}get logLevel(){return this._logLevel}set logLevel(ue){if(!(ue in X))throw new TypeError(`Invalid value "${ue}" assigned to \`logLevel\``);this._logLevel=ue}setLogLevel(ue){this._logLevel="string"==typeof ue?u[ue]:ue}get logHandler(){return this._logHandler}set logHandler(ue){if("function"!=typeof ue)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ue}get userLogHandler(){return this._userLogHandler}set userLogHandler(ue){this._userLogHandler=ue}debug(...ue){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...ue),this._logHandler(this,X.DEBUG,...ue)}log(...ue){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...ue),this._logHandler(this,X.VERBOSE,...ue)}info(...ue){this._userLogHandler&&this._userLogHandler(this,X.INFO,...ue),this._logHandler(this,X.INFO,...ue)}warn(...ue){this._userLogHandler&&this._userLogHandler(this,X.WARN,...ue),this._logHandler(this,X.WARN,...ue)}error(...ue){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...ue),this._logHandler(this,X.ERROR,...ue)}}},1878:(Ht,Ue,$)=>{"use strict";$.d(Ue,{X3:()=>Tt});var b=$(5861);const X=(_e,Le)=>Le.some(lt=>_e instanceof lt);let u,ye;const we=new WeakMap,ke=new WeakMap,Ee=new WeakMap,re=new WeakMap,ue=new WeakMap;let Me={get(_e,Le,lt){if(_e instanceof IDBTransaction){if("done"===Le)return ke.get(_e);if("objectStoreNames"===Le)return _e.objectStoreNames||Ee.get(_e);if("store"===Le)return lt.objectStoreNames[1]?void 0:lt.objectStore(lt.objectStoreNames[0])}return Ct(_e[Le])},set:(_e,Le,lt)=>(_e[Le]=lt,!0),has:(_e,Le)=>_e instanceof IDBTransaction&&("done"===Le||"store"===Le)||Le in _e};function xt(_e){return"function"==typeof _e?function It(_e){return _e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function he(){return ye||(ye=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(_e)?function(...Le){return _e.apply(an(this),Le),Ct(we.get(this))}:function(...Le){return Ct(_e.apply(an(this),Le))}:function(Le,...lt){const vn=_e.call(an(this),Le,...lt);return Ee.set(vn,Le.sort?Le.sort():[Le]),Ct(vn)}}(_e):(_e instanceof IDBTransaction&&function Ce(_e){if(ke.has(_e))return;const Le=new Promise((lt,vn)=>{const ut=()=>{_e.removeEventListener("complete",sn),_e.removeEventListener("error",mn),_e.removeEventListener("abort",mn)},sn=()=>{lt(),ut()},mn=()=>{vn(_e.error||new DOMException("AbortError","AbortError")),ut()};_e.addEventListener("complete",sn),_e.addEventListener("error",mn),_e.addEventListener("abort",mn)});ke.set(_e,Le)}(_e),X(_e,function ce(){return u||(u=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(_e,Me):_e)}function Ct(_e){if(_e instanceof IDBRequest)return function Ae(_e){const Le=new Promise((lt,vn)=>{const ut=()=>{_e.removeEventListener("success",sn),_e.removeEventListener("error",mn)},sn=()=>{lt(Ct(_e.result)),ut()},mn=()=>{vn(_e.error),ut()};_e.addEventListener("success",sn),_e.addEventListener("error",mn)});return Le.then(lt=>{lt instanceof IDBCursor&&we.set(lt,_e)}).catch(()=>{}),ue.set(Le,_e),Le}(_e);if(re.has(_e))return re.get(_e);const Le=xt(_e);return Le!==_e&&(re.set(_e,Le),ue.set(Le,_e)),Le}const an=_e=>ue.get(_e);function Tt(_e,Le,{blocked:lt,upgrade:vn,blocking:ut,terminated:sn}={}){const mn=indexedDB.open(_e,Le),xn=Ct(mn);return vn&&mn.addEventListener("upgradeneeded",Yn=>{vn(Ct(mn.result),Yn.oldVersion,Yn.newVersion,Ct(mn.transaction),Yn)}),lt&&mn.addEventListener("blocked",Yn=>lt(Yn.oldVersion,Yn.newVersion,Yn)),xn.then(Yn=>{sn&&Yn.addEventListener("close",()=>sn()),ut&&Yn.addEventListener("versionchange",tr=>ut(tr.oldVersion,tr.newVersion,tr))}).catch(()=>{}),xn}const rt=["get","getKey","getAll","getAllKeys","count"],yt=["put","add","delete","clear"],We=new Map;function Oe(_e,Le){if(!(_e instanceof IDBDatabase)||Le in _e||"string"!=typeof Le)return;if(We.get(Le))return We.get(Le);const lt=Le.replace(/FromIndex$/,""),vn=Le!==lt,ut=yt.includes(lt);if(!(lt in(vn?IDBIndex:IDBObjectStore).prototype)||!ut&&!rt.includes(lt))return;const sn=function(){var mn=(0,b.Z)(function*(xn,...Yn){const tr=this.transaction(xn,ut?"readwrite":"readonly");let Be=tr.store;return vn&&(Be=Be.index(Yn.shift())),(yield Promise.all([Be[lt](...Yn),ut&&tr.done]))[0]});return function(Yn){return mn.apply(this,arguments)}}();return We.set(Le,sn),sn}!function qe(_e){Me=_e(Me)}(_e=>({..._e,get:(Le,lt,vn)=>Oe(Le,lt)||_e.get(Le,lt,vn),has:(Le,lt)=>!!Oe(Le,lt)||_e.has(Le,lt)}))},5861:(Ht,Ue,$)=>{"use strict";function b(u,ye,ce,he,we,ke,Ee){try{var re=u[ke](Ee),ue=re.value}catch(Ae){return void ce(Ae)}re.done?ye(ue):Promise.resolve(ue).then(he,we)}function X(u){return function(){var ye=this,ce=arguments;return new Promise(function(he,we){var ke=u.apply(ye,ce);function Ee(ue){b(ke,he,we,Ee,re,"next",ue)}function re(ue){b(ke,he,we,Ee,re,"throw",ue)}Ee(void 0)})}}$.d(Ue,{Z:()=>X})},7582:(Ht,Ue,$)=>{"use strict";function ye(Be,je){var Ze={};for(var He in Be)Object.prototype.hasOwnProperty.call(Be,He)&&je.indexOf(He)<0&&(Ze[He]=Be[He]);if(null!=Be&&"function"==typeof Object.getOwnPropertySymbols){var Ye=0;for(He=Object.getOwnPropertySymbols(Be);Ye<He.length;Ye++)je.indexOf(He[Ye])<0&&Object.prototype.propertyIsEnumerable.call(Be,He[Ye])&&(Ze[He[Ye]]=Be[He[Ye]])}return Ze}function Ae(Be,je,Ze,He){return new(Ze||(Ze=Promise))(function(gt,St){function Lt(Ut){try{tn(He.next(Ut))}catch(pt){St(pt)}}function Xt(Ut){try{tn(He.throw(Ut))}catch(pt){St(pt)}}function tn(Ut){Ut.done?gt(Ut.value):function Ye(gt){return gt instanceof Ze?gt:new Ze(function(St){St(gt)})}(Ut.value).then(Lt,Xt)}tn((He=He.apply(Be,je||[])).next())})}function st(Be){return this instanceof st?(this.v=Be,this):new st(Be)}function rt(Be,je,Ze){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ye,He=Ze.apply(Be,je||[]),gt=[];return Ye={},St("next"),St("throw"),St("return"),Ye[Symbol.asyncIterator]=function(){return this},Ye;function St(bn){He[bn]&&(Ye[bn]=function(Jn){return new Promise(function(cr,xe){gt.push([bn,Jn,cr,xe])>1||Lt(bn,Jn)})})}function Lt(bn,Jn){try{!function Xt(bn){bn.value instanceof st?Promise.resolve(bn.value.v).then(tn,Ut):pt(gt[0][2],bn)}(He[bn](Jn))}catch(cr){pt(gt[0][3],cr)}}function tn(bn){Lt("next",bn)}function Ut(bn){Lt("throw",bn)}function pt(bn,Jn){bn(Jn),gt.shift(),gt.length&&Lt(gt[0][0],gt[0][1])}}function We(Be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ze,je=Be[Symbol.asyncIterator];return je?je.call(Be):(Be=function It(Be){var je="function"==typeof Symbol&&Symbol.iterator,Ze=je&&Be[je],He=0;if(Ze)return Ze.call(Be);if(Be&&"number"==typeof Be.length)return{next:function(){return Be&&He>=Be.length&&(Be=void 0),{value:Be&&Be[He++],done:!Be}}};throw new TypeError(je?"Object is not iterable.":"Symbol.iterator is not defined.")}(Be),Ze={},He("next"),He("throw"),He("return"),Ze[Symbol.asyncIterator]=function(){return this},Ze);function He(gt){Ze[gt]=Be[gt]&&function(St){return new Promise(function(Lt,Xt){!function Ye(gt,St,Lt,Xt){Promise.resolve(Xt).then(function(tn){gt({value:tn,done:Lt})},St)}(Lt,Xt,(St=Be[gt](St)).done,St.value)})}}}$.d(Ue,{FC:()=>rt,KL:()=>We,_T:()=>ye,mG:()=>Ae,qq:()=>st}),"function"==typeof SuppressedError&&SuppressedError}},Ht=>{var Ue=b=>Ht(Ht.s=b);Ue(2614),Ue(4372)}]);